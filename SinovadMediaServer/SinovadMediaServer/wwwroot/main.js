(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{6304:(Wn,Je,g)=>{"use strict";g.d(Je,{Dh:()=>f,GT:()=>P,cc:()=>C,hO:()=>p,on:()=>c,pX:()=>m,xv:()=>i});var e=g(5879),t=g(7142),v=g(8186);Wn=g.hmd(Wn);const y=["ngOnDestroy"],m=(O,S,I,E={})=>new Proxy(O,{get:(L,b)=>I.runOutsideAngular(()=>{var B;if(O[b])return!(null===(B=E?.spy)||void 0===B)&&B.get&&E.spy.get(b,O[b]),O[b];if(y.indexOf(b)>-1)return()=>{};const Z=S.toPromise().then(oe=>{const le=oe&&oe[b];return"function"==typeof le?le.bind(oe):le&&le.then?le.then(Re=>I.run(()=>Re)):I.run(()=>le)});return new Proxy(()=>{},{get:(oe,le)=>Z[le],apply:(oe,le,Re)=>Z.then(Y=>{var ae;const G=Y&&Y(...Re);return!(null===(ae=E?.spy)||void 0===ae)&&ae.apply&&E.spy.apply(b,Re,G),G})})})}),P=(O,S)=>{S.forEach(I=>{Object.getOwnPropertyNames(I.prototype||I).forEach(E=>{Object.defineProperty(O.prototype,E,Object.getOwnPropertyDescriptor(I.prototype||I,E))})})};class D{constructor(S){return S}}const f=new e.OlP("angularfire2.app.options"),i=new e.OlP("angularfire2.app.name");function c(O,S,I){const L="object"==typeof I&&I||{};L.name=L.name||"string"==typeof I&&I||"[DEFAULT]";const B=t.Z.apps.filter(Z=>Z&&Z.name===L.name)[0]||S.runOutsideAngular(()=>t.Z.initializeApp(O,L));try{JSON.stringify(O)!==JSON.stringify(B.options)&&d("error",`${B.name} Firebase App already initialized with different options${Wn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new D(B)}const d=(O,...S)=>{(0,e.X6Q)()&&typeof console<"u"&&console[O](...S)},h={provide:D,useFactory:c,deps:[f,e.R0b,[new e.FiY,i]]};let p=(()=>{class O{constructor(I){t.Z.registerVersion("angularfire",v.q4.full,"core"),t.Z.registerVersion("angularfire",v.q4.full,"app-compat"),t.Z.registerVersion("angular",e.q4F.full,I.toString())}static initializeApp(I,E){return{ngModule:O,providers:[{provide:f,useValue:I},{provide:i,useValue:E}]}}}return O.\u0275fac=function(I){return new(I||O)(e.LFG(e.Lbi))},O.\u0275mod=e.oAB({type:O}),O.\u0275inj=e.cJS({providers:[h]}),O})();function C(O,S,I,E,L){const[,b,B]=globalThis.\u0275AngularfireInstanceCache.find(Z=>Z[0]===O)||[];if(b)return function A(O,S){try{return O.toString()===S.toString()}catch{return O===S}}(L,B)||(R("error",`${S} was already initialized on the ${I} Firebase App with different settings.${x?" You may need to reload as Firebase is not HMR aware.":""}`),R("warn",{is:L,was:B})),b;{const Z=E();return globalThis.\u0275AngularfireInstanceCache.push([O,Z,L]),Z}}const x=!!Wn.hot,R=(O,...S)=>{(0,e.X6Q)()&&typeof console<"u"&&console[O](...S)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(Wn,Je,g)=>{"use strict";g.d(Je,{q4:()=>rc,iC:()=>Al,HU:()=>Ml,vb:()=>oc,JM:()=>jl});var e=g(5879),t=g(3182),v=g(5861),y=g(534),m=g(9058),P=g(4537),D=g(7879);const f=(Ye,ut)=>ut.some(Ht=>Ye instanceof Ht);let i,c;const p=new WeakMap,C=new WeakMap,A=new WeakMap,x=new WeakMap,R=new WeakMap;let I={get(Ye,ut,Ht){if(Ye instanceof IDBTransaction){if("done"===ut)return C.get(Ye);if("objectStoreNames"===ut)return Ye.objectStoreNames||A.get(Ye);if("store"===ut)return Ht.objectStoreNames[1]?void 0:Ht.objectStore(Ht.objectStoreNames[0])}return B(Ye[ut])},set:(Ye,ut,Ht)=>(Ye[ut]=Ht,!0),has:(Ye,ut)=>Ye instanceof IDBTransaction&&("done"===ut||"store"===ut)||ut in Ye};function b(Ye){return"function"==typeof Ye?function L(Ye){return Ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function h(){return c||(c=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ye)?function(...ut){return Ye.apply(Z(this),ut),B(p.get(this))}:function(...ut){return B(Ye.apply(Z(this),ut))}:function(ut,...Ht){const hn=Ye.call(Z(this),ut,...Ht);return A.set(hn,ut.sort?ut.sort():[ut]),B(hn)}}(Ye):(Ye instanceof IDBTransaction&&function S(Ye){if(C.has(Ye))return;const ut=new Promise((Ht,hn)=>{const Ln=()=>{Ye.removeEventListener("complete",Gn),Ye.removeEventListener("error",Qn),Ye.removeEventListener("abort",Qn)},Gn=()=>{Ht(),Ln()},Qn=()=>{hn(Ye.error||new DOMException("AbortError","AbortError")),Ln()};Ye.addEventListener("complete",Gn),Ye.addEventListener("error",Qn),Ye.addEventListener("abort",Qn)});C.set(Ye,ut)}(Ye),f(Ye,function d(){return i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ye,I):Ye)}function B(Ye){if(Ye instanceof IDBRequest)return function O(Ye){const ut=new Promise((Ht,hn)=>{const Ln=()=>{Ye.removeEventListener("success",Gn),Ye.removeEventListener("error",Qn)},Gn=()=>{Ht(B(Ye.result)),Ln()},Qn=()=>{hn(Ye.error),Ln()};Ye.addEventListener("success",Gn),Ye.addEventListener("error",Qn)});return ut.then(Ht=>{Ht instanceof IDBCursor&&p.set(Ht,Ye)}).catch(()=>{}),R.set(ut,Ye),ut}(Ye);if(x.has(Ye))return x.get(Ye);const ut=b(Ye);return ut!==Ye&&(x.set(Ye,ut),R.set(ut,Ye)),ut}const Z=Ye=>R.get(Ye),Re=["get","getKey","getAll","getAllKeys","count"],Y=["put","add","delete","clear"],ae=new Map;function G(Ye,ut){if(!(Ye instanceof IDBDatabase)||ut in Ye||"string"!=typeof ut)return;if(ae.get(ut))return ae.get(ut);const Ht=ut.replace(/FromIndex$/,""),hn=ut!==Ht,Ln=Y.includes(Ht);if(!(Ht in(hn?IDBIndex:IDBObjectStore).prototype)||!Ln&&!Re.includes(Ht))return;const Gn=function(){var Qn=(0,v.Z)(function*(Si,...zt){const Ni=this.transaction(Si,Ln?"readwrite":"readonly");let Qi=Ni.store;return hn&&(Qi=Qi.index(zt.shift())),(yield Promise.all([Qi[Ht](...zt),Ln&&Ni.done]))[0]});return function(zt){return Qn.apply(this,arguments)}}();return ae.set(ut,Gn),Gn}!function E(Ye){I=Ye(I)}(Ye=>({...Ye,get:(ut,Ht,hn)=>G(ut,Ht)||Ye.get(ut,Ht,hn),has:(ut,Ht)=>!!G(ut,Ht)||Ye.has(ut,Ht)}));const De="@firebase/installations",ce="0.6.4",Te=1e4,be=`w:${ce}`,Oe="FIS_v2",ie="https://firebaseinstallations.googleapis.com/v1",ye=36e5,pe=new m.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ie(Ye){return Ye instanceof m.ZR&&Ye.code.includes("request-failed")}function Be({projectId:Ye}){return`${ie}/projects/${Ye}/installations`}function at(Ye){return{token:Ye.token,requestStatus:2,expiresIn:q(Ye.expiresIn),creationTime:Date.now()}}function Xe(Ye,ut){return je.apply(this,arguments)}function je(){return(je=(0,v.Z)(function*(Ye,ut){const hn=(yield ut.json()).error;return pe.create("request-failed",{requestName:Ye,serverCode:hn.code,serverMessage:hn.message,serverStatus:hn.status})})).apply(this,arguments)}function Ne({apiKey:Ye}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Ye})}function fe(Ye){return we.apply(this,arguments)}function we(){return(we=(0,v.Z)(function*(Ye){const ut=yield Ye();return ut.status>=500&&ut.status<600?Ye():ut})).apply(this,arguments)}function q(Ye){return Number(Ye.replace("s","000"))}function ne(){return(ne=(0,v.Z)(function*({appConfig:Ye,heartbeatServiceProvider:ut},{fid:Ht}){const hn=Be(Ye),Ln=Ne(Ye),Gn=ut.getImmediate({optional:!0});if(Gn){const Ni=yield Gn.getHeartbeatsHeader();Ni&&Ln.append("x-firebase-client",Ni)}const Si={method:"POST",headers:Ln,body:JSON.stringify({fid:Ht,authVersion:Oe,appId:Ye.appId,sdkVersion:be})},zt=yield fe(()=>fetch(hn,Si));if(zt.ok){const Ni=yield zt.json();return{fid:Ni.fid||Ht,registrationStatus:2,refreshToken:Ni.refreshToken,authToken:at(Ni.authToken)}}throw yield Xe("Create Installation",zt)})).apply(this,arguments)}function X(Ye){return new Promise(ut=>{setTimeout(ut,Ye)})}const J=/^[cdef][\w-]{21}$/,ge="";function Se(){try{const Ye=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Ye),Ye[0]=112+Ye[0]%16;const Ht=function Ee(Ye){return function re(Ye){return btoa(String.fromCharCode(...Ye)).replace(/\+/g,"-").replace(/\//g,"_")}(Ye).substr(0,22)}(Ye);return J.test(Ht)?Ht:ge}catch{return ge}}function Fe(Ye){return`${Ye.appName}!${Ye.appId}`}const ct=new Map;function qe(Ye,ut){const Ht=Fe(Ye);Qe(Ht,ut),function yt(Ye,ut){const Ht=function me(){return!Et&&"BroadcastChannel"in self&&(Et=new BroadcastChannel("[Firebase] FID Change"),Et.onmessage=Ye=>{Qe(Ye.data.key,Ye.data.fid)}),Et}();Ht&&Ht.postMessage({key:Ye,fid:ut}),function We(){0===ct.size&&Et&&(Et.close(),Et=null)}()}(Ht,ut)}function Qe(Ye,ut){const Ht=ct.get(Ye);if(Ht)for(const hn of Ht)hn(ut)}let Et=null;const Tt="firebase-installations-database",Kt=1,Jt="firebase-installations-store";let Xt=null;function un(){return Xt||(Xt=function oe(Ye,ut,{blocked:Ht,upgrade:hn,blocking:Ln,terminated:Gn}={}){const Qn=indexedDB.open(Ye,ut),Si=B(Qn);return hn&&Qn.addEventListener("upgradeneeded",zt=>{hn(B(Qn.result),zt.oldVersion,zt.newVersion,B(Qn.transaction))}),Ht&&Qn.addEventListener("blocked",()=>Ht()),Si.then(zt=>{Gn&&zt.addEventListener("close",()=>Gn()),Ln&&zt.addEventListener("versionchange",()=>Ln())}).catch(()=>{}),Si}(Tt,Kt,{upgrade:(Ye,ut)=>{0===ut&&Ye.createObjectStore(Jt)}})),Xt}function fn(Ye,ut){return It.apply(this,arguments)}function It(){return(It=(0,v.Z)(function*(Ye,ut){const Ht=Fe(Ye),Ln=(yield un()).transaction(Jt,"readwrite"),Gn=Ln.objectStore(Jt),Qn=yield Gn.get(Ht);return yield Gn.put(ut,Ht),yield Ln.done,(!Qn||Qn.fid!==ut.fid)&&qe(Ye,ut.fid),ut})).apply(this,arguments)}function vt(Ye){return it.apply(this,arguments)}function it(){return(it=(0,v.Z)(function*(Ye){const ut=Fe(Ye),hn=(yield un()).transaction(Jt,"readwrite");yield hn.objectStore(Jt).delete(ut),yield hn.done})).apply(this,arguments)}function He(Ye,ut){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,v.Z)(function*(Ye,ut){const Ht=Fe(Ye),Ln=(yield un()).transaction(Jt,"readwrite"),Gn=Ln.objectStore(Jt),Qn=yield Gn.get(Ht),Si=ut(Qn);return void 0===Si?yield Gn.delete(Ht):yield Gn.put(Si,Ht),yield Ln.done,Si&&(!Qn||Qn.fid!==Si.fid)&&qe(Ye,Si.fid),Si})).apply(this,arguments)}function st(Ye){return lt.apply(this,arguments)}function lt(){return lt=(0,v.Z)(function*(Ye){let ut;const Ht=yield He(Ye.appConfig,hn=>{const Ln=function St(Ye){return wn(Ye||{fid:Se(),registrationStatus:0})}(hn),Gn=function bt(Ye,ut){if(0===ut.registrationStatus){if(!navigator.onLine)return{installationEntry:ut,registrationPromise:Promise.reject(pe.create("app-offline"))};const Ht={fid:ut.fid,registrationStatus:1,registrationTime:Date.now()},hn=function At(Ye,ut){return on.apply(this,arguments)}(Ye,Ht);return{installationEntry:Ht,registrationPromise:hn}}return 1===ut.registrationStatus?{installationEntry:ut,registrationPromise:En(Ye)}:{installationEntry:ut}}(Ye,Ln);return ut=Gn.registrationPromise,Gn.installationEntry});return Ht.fid===ge?{installationEntry:yield ut}:{installationEntry:Ht,registrationPromise:ut}}),lt.apply(this,arguments)}function on(){return on=(0,v.Z)(function*(Ye,ut){try{const Ht=yield function Q(Ye,ut){return ne.apply(this,arguments)}(Ye,ut);return fn(Ye.appConfig,Ht)}catch(Ht){throw Ie(Ht)&&409===Ht.customData.serverCode?yield vt(Ye.appConfig):yield fn(Ye.appConfig,{fid:ut.fid,registrationStatus:0}),Ht}}),on.apply(this,arguments)}function En(Ye){return tn.apply(this,arguments)}function tn(){return(tn=(0,v.Z)(function*(Ye){let ut=yield Mn(Ye.appConfig);for(;1===ut.registrationStatus;)yield X(100),ut=yield Mn(Ye.appConfig);if(0===ut.registrationStatus){const{installationEntry:Ht,registrationPromise:hn}=yield st(Ye);return hn||Ht}return ut})).apply(this,arguments)}function Mn(Ye){return He(Ye,ut=>{if(!ut)throw pe.create("installation-not-found");return wn(ut)})}function wn(Ye){return function Nn(Ye){return 1===Ye.registrationStatus&&Ye.registrationTime+Te<Date.now()}(Ye)?{fid:Ye.fid,registrationStatus:0}:Ye}function ti(){return(ti=(0,v.Z)(function*({appConfig:Ye,heartbeatServiceProvider:ut},Ht){const hn=function vn(Ye,{fid:ut}){return`${Be(Ye)}/${ut}/authTokens:generate`}(Ye,Ht),Ln=function ee(Ye,{refreshToken:ut}){const Ht=Ne(Ye);return Ht.append("Authorization",function $(Ye){return`${Oe} ${Ye}`}(ut)),Ht}(Ye,Ht),Gn=ut.getImmediate({optional:!0});if(Gn){const Ni=yield Gn.getHeartbeatsHeader();Ni&&Ln.append("x-firebase-client",Ni)}const Si={method:"POST",headers:Ln,body:JSON.stringify({installation:{sdkVersion:be,appId:Ye.appId}})},zt=yield fe(()=>fetch(hn,Si));if(zt.ok)return at(yield zt.json());throw yield Xe("Generate Auth Token",zt)})).apply(this,arguments)}function pn(Ye){return yn.apply(this,arguments)}function yn(){return yn=(0,v.Z)(function*(Ye,ut=!1){let Ht;const hn=yield He(Ye.appConfig,Gn=>{if(!et(Gn))throw pe.create("not-registered");const Qn=Gn.authToken;if(!ut&&function Dt(Ye){return 2===Ye.requestStatus&&!function Qt(Ye){const ut=Date.now();return ut<Ye.creationTime||Ye.creationTime+Ye.expiresIn<ut+ye}(Ye)}(Qn))return Gn;if(1===Qn.requestStatus)return Ht=function mn(Ye,ut){return _n.apply(this,arguments)}(Ye,ut),Gn;{if(!navigator.onLine)throw pe.create("app-offline");const Si=function Nt(Ye){const ut={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Ye),{authToken:ut})}(Gn);return Ht=function ht(Ye,ut){return Tn.apply(this,arguments)}(Ye,Si),Si}});return Ht?yield Ht:hn.authToken}),yn.apply(this,arguments)}function _n(){return(_n=(0,v.Z)(function*(Ye,ut){let Ht=yield Mt(Ye.appConfig);for(;1===Ht.authToken.requestStatus;)yield X(100),Ht=yield Mt(Ye.appConfig);const hn=Ht.authToken;return 0===hn.requestStatus?pn(Ye,ut):hn})).apply(this,arguments)}function Mt(Ye){return He(Ye,ut=>{if(!et(ut))throw pe.create("not-registered");return function xn(Ye){return 1===Ye.requestStatus&&Ye.requestTime+Te<Date.now()}(ut.authToken)?Object.assign(Object.assign({},ut),{authToken:{requestStatus:0}}):ut})}function Tn(){return Tn=(0,v.Z)(function*(Ye,ut){try{const Ht=yield function $n(Ye,ut){return ti.apply(this,arguments)}(Ye,ut),hn=Object.assign(Object.assign({},ut),{authToken:Ht});return yield fn(Ye.appConfig,hn),Ht}catch(Ht){if(!Ie(Ht)||401!==Ht.customData.serverCode&&404!==Ht.customData.serverCode){const hn=Object.assign(Object.assign({},ut),{authToken:{requestStatus:0}});yield fn(Ye.appConfig,hn)}else yield vt(Ye.appConfig);throw Ht}}),Tn.apply(this,arguments)}function et(Ye){return void 0!==Ye&&2===Ye.registrationStatus}function wt(){return(wt=(0,v.Z)(function*(Ye){const ut=Ye,{installationEntry:Ht,registrationPromise:hn}=yield st(ut);return hn?hn.catch(console.error):pn(ut).catch(console.error),Ht.fid})).apply(this,arguments)}function en(){return en=(0,v.Z)(function*(Ye,ut=!1){const Ht=Ye;return yield function An(Ye){return Vn.apply(this,arguments)}(Ht),(yield pn(Ht,ut)).token}),en.apply(this,arguments)}function Vn(){return(Vn=(0,v.Z)(function*(Ye){const{registrationPromise:ut}=yield st(Ye);ut&&(yield ut)})).apply(this,arguments)}function vi(Ye){return pe.create("missing-app-config-values",{valueName:Ye})}const vr="installations",Gr=Ye=>{const ut=Ye.getProvider("app").getImmediate(),Ht=function Fn(Ye){if(!Ye||!Ye.options)throw vi("App Configuration");if(!Ye.name)throw vi("App Name");const ut=["projectId","apiKey","appId"];for(const Ht of ut)if(!Ye.options[Ht])throw vi(Ht);return{appName:Ye.name,projectId:Ye.options.projectId,apiKey:Ye.options.apiKey,appId:Ye.options.appId}}(ut);return{app:ut,appConfig:Ht,heartbeatServiceProvider:(0,y._getProvider)(ut,"heartbeat"),_delete:()=>Promise.resolve()}},ki=Ye=>{const ut=Ye.getProvider("app").getImmediate(),Ht=(0,y._getProvider)(ut,vr).getImmediate();return{getId:()=>function kt(Ye){return wt.apply(this,arguments)}(Ht),getToken:Ln=>function Pt(Ye){return en.apply(this,arguments)}(Ht,Ln)}};(function wi(){(0,y._registerComponent)(new P.wA(vr,Gr,"PUBLIC")),(0,y._registerComponent)(new P.wA("installations-internal",ki,"PRIVATE"))})(),(0,y.registerVersion)(De,ce),(0,y.registerVersion)(De,ce,"esm2017");const Vo="@firebase/remote-config",tr=new m.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ui{constructor(ut,Ht,hn,Ln){this.client=ut,this.storage=Ht,this.storageCache=hn,this.logger=Ln}isCachedDataFresh(ut,Ht){if(!Ht)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const hn=Date.now()-Ht,Ln=hn<=ut;return this.logger.debug(`Config fetch cache check. Cache age millis: ${hn}. Cache max age millis (minimumFetchIntervalMillis setting): ${ut}. Is cache hit: ${Ln}.`),Ln}fetch(ut){var Ht=this;return(0,v.Z)(function*(){const[hn,Ln]=yield Promise.all([Ht.storage.getLastSuccessfulFetchTimestampMillis(),Ht.storage.getLastSuccessfulFetchResponse()]);if(Ln&&Ht.isCachedDataFresh(ut.cacheMaxAgeMillis,hn))return Ln;ut.eTag=Ln&&Ln.eTag;const Gn=yield Ht.client.fetch(ut),Qn=[Ht.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Gn.status&&Qn.push(Ht.storage.setLastSuccessfulFetchResponse(Gn)),yield Promise.all(Qn),Gn})()}}function Ji(Ye=navigator){return Ye.languages&&Ye.languages[0]||Ye.language}class rr{constructor(ut,Ht,hn,Ln,Gn,Qn){this.firebaseInstallations=ut,this.sdkVersion=Ht,this.namespace=hn,this.projectId=Ln,this.apiKey=Gn,this.appId=Qn}fetch(ut){var Ht=this;return(0,v.Z)(function*(){const[hn,Ln]=yield Promise.all([Ht.firebaseInstallations.getId(),Ht.firebaseInstallations.getToken()]),Qn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Ht.projectId}/namespaces/${Ht.namespace}:fetch?key=${Ht.apiKey}`,Si={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":ut.eTag||"*"},zt={sdk_version:Ht.sdkVersion,app_instance_id:hn,app_instance_id_token:Ln,app_id:Ht.appId,language_code:Ji()},Ni={method:"POST",headers:Si,body:JSON.stringify(zt)},Qi=fetch(Qn,Ni),cr=new Promise((bo,ea)=>{ut.signal.addEventListener(()=>{const Pc=new Error("The operation was aborted.");Pc.name="AbortError",ea(Pc)})});let gs;try{yield Promise.race([Qi,cr]),gs=yield Qi}catch(bo){let ea="fetch-client-network";throw"AbortError"===bo?.name&&(ea="fetch-timeout"),tr.create(ea,{originalErrorMessage:bo?.message})}let Ho=gs.status;const Oc=gs.headers.get("ETag")||void 0;let sl,cc;if(200===gs.status){let bo;try{bo=yield gs.json()}catch(ea){throw tr.create("fetch-client-parse",{originalErrorMessage:ea?.message})}sl=bo.entries,cc=bo.state}if("INSTANCE_STATE_UNSPECIFIED"===cc?Ho=500:"NO_CHANGE"===cc?Ho=304:("NO_TEMPLATE"===cc||"EMPTY_CONFIG"===cc)&&(sl={}),304!==Ho&&200!==Ho)throw tr.create("fetch-status",{httpStatus:Ho});return{status:Ho,eTag:Oc,config:sl}})()}}class Io{constructor(ut,Ht){this.client=ut,this.storage=Ht}fetch(ut){var Ht=this;return(0,v.Z)(function*(){const hn=(yield Ht.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Ht.attemptFetch(ut,hn)})()}attemptFetch(ut,{throttleEndTimeMillis:Ht,backoffCount:hn}){var Ln=this;return(0,v.Z)(function*(){yield function Ki(Ye,ut){return new Promise((Ht,hn)=>{const Ln=Math.max(ut-Date.now(),0),Gn=setTimeout(Ht,Ln);Ye.addEventListener(()=>{clearTimeout(Gn),hn(tr.create("fetch-throttle",{throttleEndTimeMillis:ut}))})})}(ut.signal,Ht);try{const Gn=yield Ln.client.fetch(ut);return yield Ln.storage.deleteThrottleMetadata(),Gn}catch(Gn){if(!function Ir(Ye){if(!(Ye instanceof m.ZR&&Ye.customData))return!1;const ut=Number(Ye.customData.httpStatus);return 429===ut||500===ut||503===ut||504===ut}(Gn))throw Gn;const Qn={throttleEndTimeMillis:Date.now()+(0,m.$s)(hn),backoffCount:hn+1};return yield Ln.storage.setThrottleMetadata(Qn),Ln.attemptFetch(ut,Qn)}})()}}class Ks{constructor(ut,Ht,hn,Ln,Gn){this.app=ut,this._client=Ht,this._storageCache=hn,this._storage=Ln,this._logger=Gn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Xr(Ye,ut){const Ht=Ye.target.error||void 0;return tr.create(ut,{originalErrorMessage:Ht&&Ht?.message})}const _o="app_namespace_store";class ja{constructor(ut,Ht,hn,Ln=function lr(){return new Promise((Ye,ut)=>{try{const Ht=indexedDB.open("firebase_remote_config",1);Ht.onerror=hn=>{ut(Xr(hn,"storage-open"))},Ht.onsuccess=hn=>{Ye(hn.target.result)},Ht.onupgradeneeded=hn=>{0===hn.oldVersion&&hn.target.result.createObjectStore(_o,{keyPath:"compositeKey"})}}catch(Ht){ut(tr.create("storage-open",{originalErrorMessage:Ht?.message}))}})}()){this.appId=ut,this.appName=Ht,this.namespace=hn,this.openDbPromise=Ln}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(ut){return this.set("last_fetch_status",ut)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(ut){return this.set("last_successful_fetch_timestamp_millis",ut)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(ut){return this.set("last_successful_fetch_response",ut)}getActiveConfig(){return this.get("active_config")}setActiveConfig(ut){return this.set("active_config",ut)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(ut){return this.set("active_config_etag",ut)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(ut){return this.set("throttle_metadata",ut)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(ut){var Ht=this;return(0,v.Z)(function*(){const hn=yield Ht.openDbPromise;return new Promise((Ln,Gn)=>{const Si=hn.transaction([_o],"readonly").objectStore(_o),zt=Ht.createCompositeKey(ut);try{const Ni=Si.get(zt);Ni.onerror=Qi=>{Gn(Xr(Qi,"storage-get"))},Ni.onsuccess=Qi=>{const cr=Qi.target.result;Ln(cr?cr.value:void 0)}}catch(Ni){Gn(tr.create("storage-get",{originalErrorMessage:Ni?.message}))}})})()}set(ut,Ht){var hn=this;return(0,v.Z)(function*(){const Ln=yield hn.openDbPromise;return new Promise((Gn,Qn)=>{const zt=Ln.transaction([_o],"readwrite").objectStore(_o),Ni=hn.createCompositeKey(ut);try{const Qi=zt.put({compositeKey:Ni,value:Ht});Qi.onerror=cr=>{Qn(Xr(cr,"storage-set"))},Qi.onsuccess=()=>{Gn()}}catch(Qi){Qn(tr.create("storage-set",{originalErrorMessage:Qi?.message}))}})})()}delete(ut){var Ht=this;return(0,v.Z)(function*(){const hn=yield Ht.openDbPromise;return new Promise((Ln,Gn)=>{const Si=hn.transaction([_o],"readwrite").objectStore(_o),zt=Ht.createCompositeKey(ut);try{const Ni=Si.delete(zt);Ni.onerror=Qi=>{Gn(Xr(Qi,"storage-delete"))},Ni.onsuccess=()=>{Ln()}}catch(Ni){Gn(tr.create("storage-delete",{originalErrorMessage:Ni?.message}))}})})()}createCompositeKey(ut){return[this.appId,this.appName,this.namespace,ut].join()}}class qo{constructor(ut){this.storage=ut}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var ut=this;return(0,v.Z)(function*(){const Ht=ut.storage.getLastFetchStatus(),hn=ut.storage.getLastSuccessfulFetchTimestampMillis(),Ln=ut.storage.getActiveConfig(),Gn=yield Ht;Gn&&(ut.lastFetchStatus=Gn);const Qn=yield hn;Qn&&(ut.lastSuccessfulFetchTimestampMillis=Qn);const Si=yield Ln;Si&&(ut.activeConfig=Si)})()}setLastFetchStatus(ut){return this.lastFetchStatus=ut,this.storage.setLastFetchStatus(ut)}setLastSuccessfulFetchTimestampMillis(ut){return this.lastSuccessfulFetchTimestampMillis=ut,this.storage.setLastSuccessfulFetchTimestampMillis(ut)}setActiveConfig(ut){return this.activeConfig=ut,this.storage.setActiveConfig(ut)}}function xs(){return Is.apply(this,arguments)}function Is(){return(Is=(0,v.Z)(function*(){if(!(0,m.hl)())return!1;try{return yield(0,m.eu)()}catch{return!1}})).apply(this,arguments)}!function Ws(){(0,y._registerComponent)(new P.wA("remote-config",function Ye(ut,{instanceIdentifier:Ht}){const hn=ut.getProvider("app").getImmediate(),Ln=ut.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw tr.create("registration-window");if(!(0,m.hl)())throw tr.create("indexed-db-unavailable");const{projectId:Gn,apiKey:Qn,appId:Si}=hn.options;if(!Gn)throw tr.create("registration-project-id");if(!Qn)throw tr.create("registration-api-key");if(!Si)throw tr.create("registration-app-id");const zt=new ja(Si,hn.name,Ht=Ht||"firebase"),Ni=new qo(zt),Qi=new D.Yd(Vo);Qi.logLevel=D.in.ERROR;const cr=new rr(Ln,y.SDK_VERSION,Ht,Gn,Qn,Si),gs=new Io(cr,zt),Ho=new Ui(gs,zt,Ni,Qi),Oc=new Ks(hn,Ho,Ni,zt,Qi);return function $i(Ye){const ut=(0,m.m9)(Ye);ut._initializePromise||(ut._initializePromise=ut._storageCache.loadFromStorage().then(()=>{ut._isInitializationComplete=!0}))}(Oc),Oc},"PUBLIC").setMultipleInstances(!0)),(0,y.registerVersion)(Vo,"0.4.4"),(0,y.registerVersion)(Vo,"0.4.4","esm2017")}();const Kr=(Ye,ut)=>ut.some(Ht=>Ye instanceof Ht);let hr,Sr;const Ao=new WeakMap,kr=new WeakMap,mr=new WeakMap,Fo=new WeakMap,Ys=new WeakMap;let Wo={get(Ye,ut,Ht){if(Ye instanceof IDBTransaction){if("done"===ut)return kr.get(Ye);if("objectStoreNames"===ut)return Ye.objectStoreNames||mr.get(Ye);if("store"===ut)return Ht.objectStoreNames[1]?void 0:Ht.objectStore(Ht.objectStoreNames[0])}return vo(Ye[ut])},set:(Ye,ut,Ht)=>(Ye[ut]=Ht,!0),has:(Ye,ut)=>Ye instanceof IDBTransaction&&("done"===ut||"store"===ut)||ut in Ye};function Ls(Ye){return"function"==typeof Ye?function Da(Ye){return Ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ua(){return Sr||(Sr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ye)?function(...ut){return Ye.apply(ks(this),ut),vo(Ao.get(this))}:function(...ut){return vo(Ye.apply(ks(this),ut))}:function(ut,...Ht){const hn=Ye.call(ks(this),ut,...Ht);return mr.set(hn,ut.sort?ut.sort():[ut]),vo(hn)}}(Ye):(Ye instanceof IDBTransaction&&function vs(Ye){if(kr.has(Ye))return;const ut=new Promise((Ht,hn)=>{const Ln=()=>{Ye.removeEventListener("complete",Gn),Ye.removeEventListener("error",Qn),Ye.removeEventListener("abort",Qn)},Gn=()=>{Ht(),Ln()},Qn=()=>{hn(Ye.error||new DOMException("AbortError","AbortError")),Ln()};Ye.addEventListener("complete",Gn),Ye.addEventListener("error",Qn),Ye.addEventListener("abort",Qn)});kr.set(Ye,ut)}(Ye),Kr(Ye,function no(){return hr||(hr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ye,Wo):Ye)}function vo(Ye){if(Ye instanceof IDBRequest)return function pr(Ye){const ut=new Promise((Ht,hn)=>{const Ln=()=>{Ye.removeEventListener("success",Gn),Ye.removeEventListener("error",Qn)},Gn=()=>{Ht(vo(Ye.result)),Ln()},Qn=()=>{hn(Ye.error),Ln()};Ye.addEventListener("success",Gn),Ye.addEventListener("error",Qn)});return ut.then(Ht=>{Ht instanceof IDBCursor&&Ao.set(Ht,Ye)}).catch(()=>{}),Ys.set(ut,Ye),ut}(Ye);if(Fo.has(Ye))return Fo.get(Ye);const ut=Ls(Ye);return ut!==Ye&&(Fo.set(Ye,ut),Ys.set(ut,Ye)),ut}const ks=Ye=>Ys.get(Ye);function es(Ye,ut,{blocked:Ht,upgrade:hn,blocking:Ln,terminated:Gn}={}){const Qn=indexedDB.open(Ye,ut),Si=vo(Qn);return hn&&Qn.addEventListener("upgradeneeded",zt=>{hn(vo(Qn.result),zt.oldVersion,zt.newVersion,vo(Qn.transaction))}),Ht&&Qn.addEventListener("blocked",()=>Ht()),Si.then(zt=>{Gn&&zt.addEventListener("close",()=>Gn()),Ln&&zt.addEventListener("versionchange",()=>Ln())}).catch(()=>{}),Si}function fa(Ye,{blocked:ut}={}){const Ht=indexedDB.deleteDatabase(Ye);return ut&&Ht.addEventListener("blocked",()=>ut()),vo(Ht).then(()=>{})}const Ma=["get","getKey","getAll","getAllKeys","count"],Zs=["put","add","delete","clear"],Fr=new Map;function Uo(Ye,ut){if(!(Ye instanceof IDBDatabase)||ut in Ye||"string"!=typeof ut)return;if(Fr.get(ut))return Fr.get(ut);const Ht=ut.replace(/FromIndex$/,""),hn=ut!==Ht,Ln=Zs.includes(Ht);if(!(Ht in(hn?IDBIndex:IDBObjectStore).prototype)||!Ln&&!Ma.includes(Ht))return;const Gn=function(){var Qn=(0,v.Z)(function*(Si,...zt){const Ni=this.transaction(Si,Ln?"readwrite":"readonly");let Qi=Ni.store;return hn&&(Qi=Qi.index(zt.shift())),(yield Promise.all([Qi[Ht](...zt),Ln&&Ni.done]))[0]});return function(zt){return Qn.apply(this,arguments)}}();return Fr.set(ut,Gn),Gn}!function ws(Ye){Wo=Ye(Wo)}(Ye=>({...Ye,get:(ut,Ht,hn)=>Uo(ut,Ht)||Ye.get(ut,Ht,hn),has:(ut,Ht)=>!!Uo(ut,Ht)||Ye.has(ut,Ht)}));const cs="/firebase-messaging-sw.js",ra="/firebase-cloud-messaging-push-scope",Fs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ys="https://fcmregistrations.googleapis.com/v1",Aa="google.c.a.c_id",Br="google.c.a.c_l",kn="google.c.a.ts";var ft=function(Ye){return Ye.PUSH_RECEIVED="push-received",Ye.NOTIFICATION_CLICKED="notification-clicked",Ye}(ft||{});function $t(Ye){const ut=new Uint8Array(Ye);return btoa(String.fromCharCode(...ut)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function On(Ye){const Ht=(Ye+"=".repeat((4-Ye.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),hn=atob(Ht),Ln=new Uint8Array(hn.length);for(let Gn=0;Gn<hn.length;++Gn)Ln[Gn]=hn.charCodeAt(Gn);return Ln}const Ti="fcm_token_details_db",Zi=5,Yo="fcm_token_object_Store";function bs(){return bs=(0,v.Z)(function*(Ye){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Gn=>Gn.name).includes(Ti))return null;let ut=null;return(yield es(Ti,Zi,{upgrade:(hn=(0,v.Z)(function*(Ln,Gn,Qn,Si){var zt;if(Gn<2||!Ln.objectStoreNames.contains(Yo))return;const Ni=Si.objectStore(Yo),Qi=yield Ni.index("fcmSenderId").get(Ye);if(yield Ni.clear(),Qi)if(2===Gn){const cr=Qi;if(!cr.auth||!cr.p256dh||!cr.endpoint)return;ut={token:cr.fcmToken,createTime:null!==(zt=cr.createTime)&&void 0!==zt?zt:Date.now(),subscriptionOptions:{auth:cr.auth,p256dh:cr.p256dh,endpoint:cr.endpoint,swScope:cr.swScope,vapidKey:"string"==typeof cr.vapidKey?cr.vapidKey:$t(cr.vapidKey)}}}else if(3===Gn){const cr=Qi;ut={token:cr.fcmToken,createTime:cr.createTime,subscriptionOptions:{auth:$t(cr.auth),p256dh:$t(cr.p256dh),endpoint:cr.endpoint,swScope:cr.swScope,vapidKey:$t(cr.vapidKey)}}}else if(4===Gn){const cr=Qi;ut={token:cr.fcmToken,createTime:cr.createTime,subscriptionOptions:{auth:$t(cr.auth),p256dh:$t(cr.p256dh),endpoint:cr.endpoint,swScope:cr.swScope,vapidKey:$t(cr.vapidKey)}}}}),function(Gn,Qn,Si,zt){return hn.apply(this,arguments)})})).close(),yield fa(Ti),yield fa("fcm_vapid_details_db"),yield fa("undefined"),function si(Ye){if(!Ye||!Ye.subscriptionOptions)return!1;const{subscriptionOptions:ut}=Ye;return"number"==typeof Ye.createTime&&Ye.createTime>0&&"string"==typeof Ye.token&&Ye.token.length>0&&"string"==typeof ut.auth&&ut.auth.length>0&&"string"==typeof ut.p256dh&&ut.p256dh.length>0&&"string"==typeof ut.endpoint&&ut.endpoint.length>0&&"string"==typeof ut.swScope&&ut.swScope.length>0&&"string"==typeof ut.vapidKey&&ut.vapidKey.length>0}(ut)?ut:null;var hn}),bs.apply(this,arguments)}const Os="firebase-messaging-database",qr=1,ds="firebase-messaging-store";let cl=null;function ha(){return cl||(cl=es(Os,qr,{upgrade:(Ye,ut)=>{0===ut&&Ye.createObjectStore(ds)}})),cl}function xa(Ye){return oa.apply(this,arguments)}function oa(){return oa=(0,v.Z)(function*(Ye){const ut=ul(Ye),hn=yield(yield ha()).transaction(ds).objectStore(ds).get(ut);if(hn)return hn;{const Ln=yield function ts(Ye){return bs.apply(this,arguments)}(Ye.appConfig.senderId);if(Ln)return yield us(Ye,Ln),Ln}}),oa.apply(this,arguments)}function us(Ye,ut){return dl.apply(this,arguments)}function dl(){return(dl=(0,v.Z)(function*(Ye,ut){const Ht=ul(Ye),Ln=(yield ha()).transaction(ds,"readwrite");return yield Ln.objectStore(ds).put(ut,Ht),yield Ln.done,ut})).apply(this,arguments)}function ma(){return(ma=(0,v.Z)(function*(Ye){const ut=ul(Ye),hn=(yield ha()).transaction(ds,"readwrite");yield hn.objectStore(ds).delete(ut),yield hn.done})).apply(this,arguments)}function ul({appConfig:Ye}){return Ye.appId}const wo=new m.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Zc(Ye,ut){return wa.apply(this,arguments)}function wa(){return(wa=(0,v.Z)(function*(Ye,ut){const Ht=yield ga(Ye),hn=ml(ut),Ln={method:"POST",headers:Ht,body:JSON.stringify(hn)};let Gn;try{Gn=yield(yield fetch(fl(Ye.appConfig),Ln)).json()}catch(Qn){throw wo.create("token-subscribe-failed",{errorInfo:Qn?.toString()})}if(Gn.error)throw wo.create("token-subscribe-failed",{errorInfo:Gn.error.message});if(!Gn.token)throw wo.create("token-subscribe-no-token");return Gn.token})).apply(this,arguments)}function Va(){return(Va=(0,v.Z)(function*(Ye,ut){const Ht=yield ga(Ye),hn=ml(ut.subscriptionOptions),Ln={method:"PATCH",headers:Ht,body:JSON.stringify(hn)};let Gn;try{Gn=yield(yield fetch(`${fl(Ye.appConfig)}/${ut.token}`,Ln)).json()}catch(Qn){throw wo.create("token-update-failed",{errorInfo:Qn?.toString()})}if(Gn.error)throw wo.create("token-update-failed",{errorInfo:Gn.error.message});if(!Gn.token)throw wo.create("token-update-no-token");return Gn.token})).apply(this,arguments)}function Pl(Ye,ut){return pa.apply(this,arguments)}function pa(){return(pa=(0,v.Z)(function*(Ye,ut){const hn={method:"DELETE",headers:yield ga(Ye)};try{const Gn=yield(yield fetch(`${fl(Ye.appConfig)}/${ut}`,hn)).json();if(Gn.error)throw wo.create("token-unsubscribe-failed",{errorInfo:Gn.error.message})}catch(Ln){throw wo.create("token-unsubscribe-failed",{errorInfo:Ln?.toString()})}})).apply(this,arguments)}function fl({projectId:Ye}){return`${ys}/projects/${Ye}/registrations`}function ga(Ye){return hl.apply(this,arguments)}function hl(){return(hl=(0,v.Z)(function*({appConfig:Ye,installations:ut}){const Ht=yield ut.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Ye.apiKey,"x-goog-firebase-installations-auth":`FIS ${Ht}`})})).apply(this,arguments)}function ml({p256dh:Ye,auth:ut,endpoint:Ht,vapidKey:hn}){const Ln={web:{endpoint:Ht,auth:ut,p256dh:Ye}};return hn!==Fs&&(Ln.web.applicationPubKey=hn),Ln}const _c=6048e5;function tl(){return tl=(0,v.Z)(function*(Ye){const ut=yield function Ka(Ye,ut){return ze.apply(this,arguments)}(Ye.swRegistration,Ye.vapidKey),Ht={vapidKey:Ye.vapidKey,swScope:Ye.swRegistration.scope,endpoint:ut.endpoint,auth:$t(ut.getKey("auth")),p256dh:$t(ut.getKey("p256dh"))},hn=yield xa(Ye.firebaseDependencies);if(hn){if(function Yt(Ye,ut){return ut.vapidKey===Ye.vapidKey&&ut.endpoint===Ye.endpoint&&ut.auth===Ye.auth&&ut.p256dh===Ye.p256dh}(hn.subscriptionOptions,Ht))return Date.now()>=hn.createTime+_c?function Es(Ye,ut){return Oa.apply(this,arguments)}(Ye,{token:hn.token,createTime:Date.now(),subscriptionOptions:Ht}):hn.token;try{yield Pl(Ye.firebaseDependencies,hn.token)}catch(Ln){console.warn(Ln)}return Ts(Ye.firebaseDependencies,Ht)}return Ts(Ye.firebaseDependencies,Ht)}),tl.apply(this,arguments)}function Rl(){return Rl=(0,v.Z)(function*(Ye){const ut=yield xa(Ye.firebaseDependencies);ut&&(yield Pl(Ye.firebaseDependencies,ut.token),yield function Ol(Ye){return ma.apply(this,arguments)}(Ye.firebaseDependencies));const Ht=yield Ye.swRegistration.pushManager.getSubscription();return!Ht||Ht.unsubscribe()}),Rl.apply(this,arguments)}function Oa(){return Oa=(0,v.Z)(function*(Ye,ut){try{const Ht=yield function gc(Ye,ut){return Va.apply(this,arguments)}(Ye.firebaseDependencies,ut),hn=Object.assign(Object.assign({},ut),{token:Ht,createTime:Date.now()});return yield us(Ye.firebaseDependencies,hn),Ht}catch(Ht){throw yield function pl(Ye){return Rl.apply(this,arguments)}(Ye),Ht}}),Oa.apply(this,arguments)}function Ts(Ye,ut){return nr.apply(this,arguments)}function nr(){return(nr=(0,v.Z)(function*(Ye,ut){const hn={token:yield Zc(Ye,ut),createTime:Date.now(),subscriptionOptions:ut};return yield us(Ye,hn),hn.token})).apply(this,arguments)}function ze(){return(ze=(0,v.Z)(function*(Ye,ut){return(yield Ye.pushManager.getSubscription())||Ye.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:On(ut)})})).apply(this,arguments)}function mt(Ye){const ut={from:Ye.from,collapseKey:Ye.collapse_key,messageId:Ye.fcmMessageId};return function Vt(Ye,ut){if(!ut.notification)return;Ye.notification={};const Ht=ut.notification.title;Ht&&(Ye.notification.title=Ht);const hn=ut.notification.body;hn&&(Ye.notification.body=hn);const Ln=ut.notification.image;Ln&&(Ye.notification.image=Ln);const Gn=ut.notification.icon;Gn&&(Ye.notification.icon=Gn)}(ut,Ye),function Cn(Ye,ut){ut.data&&(Ye.data=ut.data)}(ut,Ye),function zn(Ye,ut){var Ht,hn,Ln,Gn,Qn;if(!(ut.fcmOptions||null!==(Ht=ut.notification)&&void 0!==Ht&&Ht.click_action))return;Ye.fcmOptions={};const Si=null!==(Ln=null===(hn=ut.fcmOptions)||void 0===hn?void 0:hn.link)&&void 0!==Ln?Ln:null===(Gn=ut.notification)||void 0===Gn?void 0:Gn.click_action;Si&&(Ye.fcmOptions.link=Si);const zt=null===(Qn=ut.fcmOptions)||void 0===Qn?void 0:Qn.analytics_label;zt&&(Ye.fcmOptions.analyticsLabel=zt)}(ut,Ye),ut}function Fi(Ye,ut){const Ht=[];for(let hn=0;hn<Ye.length;hn++)Ht.push(Ye.charAt(hn)),hn<ut.length&&Ht.push(ut.charAt(hn));return Ht.join("")}function gr(Ye){return wo.create("missing-app-config-values",{valueName:Ye})}Fi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Fi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class dr{constructor(ut,Ht,hn){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ln=function Rr(Ye){if(!Ye||!Ye.options)throw gr("App Configuration Object");if(!Ye.name)throw gr("App Name");const ut=["projectId","apiKey","appId","messagingSenderId"],{options:Ht}=Ye;for(const hn of ut)if(!Ht[hn])throw gr(hn);return{appName:Ye.name,projectId:Ht.projectId,apiKey:Ht.apiKey,appId:Ht.appId,senderId:Ht.messagingSenderId}}(ut);this.firebaseDependencies={app:ut,appConfig:Ln,installations:Ht,analyticsProvider:hn}}_delete(){return Promise.resolve()}}function fo(){return(fo=(0,v.Z)(function*(Ye){try{Ye.swRegistration=yield navigator.serviceWorker.register(cs,{scope:ra}),Ye.swRegistration.update().catch(()=>{})}catch(ut){throw wo.create("failed-service-worker-registration",{browserErrorMessage:ut?.message})}})).apply(this,arguments)}function _r(){return(_r=(0,v.Z)(function*(Ye,ut){if(!ut&&!Ye.swRegistration&&(yield function er(Ye){return fo.apply(this,arguments)}(Ye)),ut||!Ye.swRegistration){if(!(ut instanceof ServiceWorkerRegistration))throw wo.create("invalid-sw-registration");Ye.swRegistration=ut}})).apply(this,arguments)}function Gi(){return(Gi=(0,v.Z)(function*(Ye,ut){ut?Ye.vapidKey=ut:Ye.vapidKey||(Ye.vapidKey=Fs)})).apply(this,arguments)}function eo(){return eo=(0,v.Z)(function*(Ye,ut){if(!navigator)throw wo.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw wo.create("permission-blocked");return yield function ns(Ye,ut){return Gi.apply(this,arguments)}(Ye,ut?.vapidKey),yield function Nr(Ye,ut){return _r.apply(this,arguments)}(Ye,ut?.serviceWorkerRegistration),function _a(Ye){return tl.apply(this,arguments)}(Ye)}),eo.apply(this,arguments)}function zs(){return(zs=(0,v.Z)(function*(Ye,ut,Ht){const hn=function sa(Ye){switch(Ye){case ft.NOTIFICATION_CLICKED:return"notification_open";case ft.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(ut);(yield Ye.firebaseDependencies.analyticsProvider.get()).logEvent(hn,{message_id:Ht[Aa],message_name:Ht[Br],message_time:Ht[kn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function aa(){return aa=(0,v.Z)(function*(Ye,ut){const Ht=ut.data;if(!Ht.isFirebaseMessaging)return;Ye.onMessageHandler&&Ht.messageType===ft.PUSH_RECEIVED&&("function"==typeof Ye.onMessageHandler?Ye.onMessageHandler(mt(Ht)):Ye.onMessageHandler.next(mt(Ht)));const hn=Ht.data;(function ai(Ye){return"object"==typeof Ye&&!!Ye&&Aa in Ye})(hn)&&"1"===hn["google.c.a.e"]&&(yield function Cs(Ye,ut,Ht){return zs.apply(this,arguments)}(Ye,Ht.messageType,hn))}),aa.apply(this,arguments)}const Nl="@firebase/messaging",Wa=Ye=>{const ut=new dr(Ye.getProvider("app").getImmediate(),Ye.getProvider("installations-internal").getImmediate(),Ye.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Ht=>function va(Ye,ut){return aa.apply(this,arguments)}(ut,Ht)),ut},Ss=Ye=>{const ut=Ye.getProvider("messaging").getImmediate();return{getToken:hn=>function $r(Ye,ut){return eo.apply(this,arguments)}(ut,hn)}};function ci(){return or.apply(this,arguments)}function or(){return(or=(0,v.Z)(function*(){try{yield(0,m.eu)()}catch{return!1}return typeof window<"u"&&(0,m.hl)()&&(0,m.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function vc(){(0,y._registerComponent)(new P.wA("messaging",Wa,"PUBLIC")),(0,y._registerComponent)(new P.wA("messaging-internal",Ss,"PRIVATE")),(0,y.registerVersion)(Nl,"0.12.4"),(0,y.registerVersion)(Nl,"0.12.4","esm2017")}();const Ll="analytics",ba="firebase_id",fs="origin",Zo=6e4,la="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_l="https://www.googletagmanager.com/gtag/js",go=new D.Yd("@firebase/analytics"),Bo=new m.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function il(Ye){if(!Ye.startsWith(_l)){const ut=Bo.create("invalid-gtag-resource",{gtagURL:Ye});return go.warn(ut.message),""}return Ye}function Ea(Ye){return Promise.all(Ye.map(ut=>ut.catch(Ht=>Ht)))}function yl(){return(yl=(0,v.Z)(function*(Ye,ut,Ht,hn,Ln,Gn){const Qn=hn[Ln];try{if(Qn)yield ut[Qn];else{const zt=(yield Ea(Ht)).find(Ni=>Ni.measurementId===Ln);zt&&(yield ut[zt.appId])}}catch(Si){go.error(Si)}Ye("config",Ln,Gn)})).apply(this,arguments)}function $s(){return($s=(0,v.Z)(function*(Ye,ut,Ht,hn,Ln){try{let Gn=[];if(Ln&&Ln.send_to){let Qn=Ln.send_to;Array.isArray(Qn)||(Qn=[Qn]);const Si=yield Ea(Ht);for(const zt of Qn){const Ni=Si.find(cr=>cr.measurementId===zt),Qi=Ni&&ut[Ni.appId];if(!Qi){Gn=[];break}Gn.push(Qi)}}0===Gn.length&&(Gn=Object.values(ut)),yield Promise.all(Gn),Ye("event",hn,Ln||{})}catch(Gn){go.error(Gn)}})).apply(this,arguments)}const Ec=30,Tc=new class Pa{constructor(ut={},Ht=1e3){this.throttleMetadata=ut,this.intervalMillis=Ht}getThrottleMetadata(ut){return this.throttleMetadata[ut]}setThrottleMetadata(ut,Ht){this.throttleMetadata[ut]=Ht}deleteThrottleMetadata(ut){delete this.throttleMetadata[ut]}};function Jl(Ye){return new Headers({Accept:"application/json","x-goog-api-key":Ye})}function rt(){return(rt=(0,v.Z)(function*(Ye){var ut;const{appId:Ht,apiKey:hn}=Ye,Ln={method:"GET",headers:Jl(hn)},Gn=la.replace("{app-id}",Ht),Qn=yield fetch(Gn,Ln);if(200!==Qn.status&&304!==Qn.status){let Si="";try{const zt=yield Qn.json();null!==(ut=zt.error)&&void 0!==ut&&ut.message&&(Si=zt.error.message)}catch{}throw Bo.create("config-fetch-failed",{httpStatus:Qn.status,responseMessage:Si})}return Qn.json()})).apply(this,arguments)}function nt(){return(nt=(0,v.Z)(function*(Ye,ut=Tc,Ht){const{appId:hn,apiKey:Ln,measurementId:Gn}=Ye.options;if(!hn)throw Bo.create("no-app-id");if(!Ln){if(Gn)return{measurementId:Gn,appId:hn};throw Bo.create("no-api-key")}const Qn=ut.getThrottleMetadata(hn)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Si=new mi;return setTimeout((0,v.Z)(function*(){Si.abort()}),void 0!==Ht?Ht:Zo),Gt({appId:hn,apiKey:Ln,measurementId:Gn},Qn,Si,ut)})).apply(this,arguments)}function Gt(Ye,ut,Ht){return sn.apply(this,arguments)}function sn(){return sn=(0,v.Z)(function*(Ye,{throttleEndTimeMillis:ut,backoffCount:Ht},hn,Ln=Tc){var Gn;const{appId:Qn,measurementId:Si}=Ye;try{yield function dn(Ye,ut){return new Promise((Ht,hn)=>{const Ln=Math.max(ut-Date.now(),0),Gn=setTimeout(Ht,Ln);Ye.addEventListener(()=>{clearTimeout(Gn),hn(Bo.create("fetch-throttle",{throttleEndTimeMillis:ut}))})})}(hn,ut)}catch(zt){if(Si)return go.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Si} provided in the "measurementId" field in the local Firebase config. [${zt?.message}]`),{appId:Qn,measurementId:Si};throw zt}try{const zt=yield function Ge(Ye){return rt.apply(this,arguments)}(Ye);return Ln.deleteThrottleMetadata(Qn),zt}catch(zt){const Ni=zt;if(!function Kn(Ye){if(!(Ye instanceof m.ZR&&Ye.customData))return!1;const ut=Number(Ye.customData.httpStatus);return 429===ut||500===ut||503===ut||504===ut}(Ni)){if(Ln.deleteThrottleMetadata(Qn),Si)return go.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Si} provided in the "measurementId" field in the local Firebase config. [${Ni?.message}]`),{appId:Qn,measurementId:Si};throw zt}const Qi=503===Number(null===(Gn=Ni?.customData)||void 0===Gn?void 0:Gn.httpStatus)?(0,m.$s)(Ht,Ln.intervalMillis,Ec):(0,m.$s)(Ht,Ln.intervalMillis),cr={throttleEndTimeMillis:Date.now()+Qi,backoffCount:Ht+1};return Ln.setThrottleMetadata(Qn,cr),go.debug(`Calling attemptFetch again in ${Qi} millis`),Gt(Ye,cr,hn,Ln)}}),sn.apply(this,arguments)}class mi{constructor(){this.listeners=[]}addEventListener(ut){this.listeners.push(ut)}abort(){this.listeners.forEach(ut=>ut())}}let Oi,Cc;function Er(){return(Er=(0,v.Z)(function*(Ye,ut,Ht,hn,Ln){if(Ln&&Ln.global)Ye("event",Ht,hn);else{const Gn=yield ut;Ye("event",Ht,Object.assign(Object.assign({},hn),{send_to:Gn}))}})).apply(this,arguments)}function kl(){return(kl=(0,v.Z)(function*(){if(!(0,m.hl)())return go.warn(Bo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,m.eu)()}catch(Ye){return go.warn(Bo.create("indexeddb-unavailable",{errorInfo:Ye?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ra(){return Ra=(0,v.Z)(function*(Ye,ut,Ht,hn,Ln,Gn,Qn){var Si;const zt=function xe(Ye){return nt.apply(this,arguments)}(Ye);zt.then(Ho=>{Ht[Ho.measurementId]=Ho.appId,Ye.options.measurementId&&Ho.measurementId!==Ye.options.measurementId&&go.warn(`The measurement ID in the local Firebase config (${Ye.options.measurementId}) does not match the measurement ID fetched from the server (${Ho.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ho=>go.error(Ho)),ut.push(zt);const Ni=function Dc(){return kl.apply(this,arguments)}().then(Ho=>{if(Ho)return hn.getId()}),[Qi,cr]=yield Promise.all([zt,Ni]);(function $l(Ye){const ut=window.document.getElementsByTagName("script");for(const Ht of Object.values(ut))if(Ht.src&&Ht.src.includes(_l)&&Ht.src.includes(Ye))return Ht;return null})(Gn)||function Bs(Ye,ut){const Ht=function ca(Ye,ut){let Ht;return window.trustedTypes&&(Ht=window.trustedTypes.createPolicy(Ye,ut)),Ht}("firebase-js-sdk-policy",{createScriptURL:il}),hn=document.createElement("script"),Ln=`${_l}?l=${Ye}&id=${ut}`;hn.src=Ht?Ht?.createScriptURL(Ln):Ln,hn.async=!0,document.head.appendChild(hn)}(Gn,Qi.measurementId),Cc&&(Ln("consent","default",Cc),function wr(Ye){Cc=Ye}(void 0)),Ln("js",new Date);const gs=null!==(Si=Qn?.config)&&void 0!==Si?Si:{};return gs[fs]="firebase",gs.update=!0,null!=cr&&(gs[ba]=cr),Ln("config",Qi.measurementId,gs),Oi&&(Ln("set",Oi),function Sc(Ye){Oi=Ye}(void 0)),Qi.measurementId}),Ra.apply(this,arguments)}class Ql{constructor(ut){this.app=ut}_delete(){return delete Ds[this.app.options.appId],Promise.resolve()}}let Ds={},Xl=[];const Cl={};let ec,Us,za="dataLayer",Na=!1;function Mc(Ye,ut,Ht){!function ps(){const Ye=[];if((0,m.ru)()&&Ye.push("This is a browser extension environment."),(0,m.zI)()||Ye.push("Cookies are not available."),Ye.length>0){const ut=Ye.map((hn,Ln)=>`(${Ln+1}) ${hn}`).join(" "),Ht=Bo.create("invalid-analytics-context",{errorInfo:ut});go.warn(Ht.message)}}();const hn=Ye.options.appId;if(!hn)throw Bo.create("no-app-id");if(!Ye.options.apiKey){if(!Ye.options.measurementId)throw Bo.create("no-api-key");go.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Ye.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ds[hn])throw Bo.create("already-exists",{id:hn});if(!Na){!function vl(Ye){let ut=[];Array.isArray(window[Ye])?ut=window[Ye]:window[Ye]=ut}(za);const{wrappedGtag:Gn,gtagCore:Qn}=function Fc(Ye,ut,Ht,hn,Ln){let Gn=function(...Qn){window[hn].push(arguments)};return window[Ln]&&"function"==typeof window[Ln]&&(Gn=window[Ln]),window[Ln]=function bl(Ye,ut,Ht,hn){function Gn(){return Gn=(0,v.Z)(function*(Qn,...Si){try{if("event"===Qn){const[zt,Ni]=Si;yield function $c(Ye,ut,Ht,hn,Ln){return $s.apply(this,arguments)}(Ye,ut,Ht,zt,Ni)}else if("config"===Qn){const[zt,Ni]=Si;yield function bc(Ye,ut,Ht,hn,Ln,Gn){return yl.apply(this,arguments)}(Ye,ut,Ht,hn,zt,Ni)}else if("consent"===Qn){const[zt]=Si;Ye("consent","update",zt)}else if("get"===Qn){const[zt,Ni,Qi]=Si;Ye("get",zt,Ni,Qi)}else if("set"===Qn){const[zt]=Si;Ye("set",zt)}else Ye(Qn,...Si)}catch(zt){go.error(zt)}}),Gn.apply(this,arguments)}return function Ln(Qn){return Gn.apply(this,arguments)}}(Gn,Ye,ut,Ht),{gtagCore:Gn,wrappedGtag:window[Ln]}}(Ds,Xl,Cl,za,"gtag");Us=Gn,ec=Qn,Na=!0}return Ds[hn]=function $o(Ye,ut,Ht,hn,Ln,Gn,Qn){return Ra.apply(this,arguments)}(Ye,Xl,Cl,ut,ec,za,Ht),new Ql(Ye)}function Jc(){return Js.apply(this,arguments)}function Js(){return(Js=(0,v.Z)(function*(){if((0,m.ru)()||!(0,m.zI)()||!(0,m.hl)())return!1;try{return yield(0,m.eu)()}catch{return!1}})).apply(this,arguments)}const Sl="@firebase/analytics";!function Ul(){(0,y._registerComponent)(new P.wA(Ll,(ut,{options:Ht})=>Mc(ut.getProvider("app").getImmediate(),ut.getProvider("installations-internal").getImmediate(),Ht),"PUBLIC")),(0,y._registerComponent)(new P.wA("analytics-internal",function Ye(ut){try{const Ht=ut.getProvider(Ll).getImmediate();return{logEvent:(hn,Ln,Gn)=>function Qs(Ye,ut,Ht,hn){Ye=(0,m.m9)(Ye),function Ri(Ye,ut,Ht,hn,Ln){return Er.apply(this,arguments)}(Us,Ds[Ye.app.options.appId],ut,Ht,hn).catch(Ln=>go.error(Ln))}(Ht,hn,Ln,Gn)}}catch(Ht){throw Bo.create("interop-component-reg-failed",{reason:Ht})}},"PRIVATE")),(0,y.registerVersion)(Sl,"0.10.0"),(0,y.registerVersion)(Sl,"0.10.0","esm2017")}();var Gl=g(1954),xc=g(2631);const Xc=new class Ic extends xc.v{}(class Uc extends Gl.o{constructor(ut,Ht){super(ut,Ht),this.scheduler=ut,this.work=Ht}schedule(ut,Ht=0){return Ht>0?super.schedule(ut,Ht):(this.delay=Ht,this.state=ut,this.scheduler.flush(this),this)}execute(ut,Ht){return Ht>0||this.closed?super.execute(ut,Ht):this._execute(ut,Ht)}requestAsyncId(ut,Ht,hn=0){return null!=hn&&hn>0||null==hn&&this.delay>0?super.requestAsyncId(ut,Ht,hn):(ut.flush(this),0)}});var ic=g(6321),$a=g(9397),ka=g(5137),ol=g(3093);const rc=new e.GfV("7.6.1"),Hl="__angularfire_symbol__analyticsIsSupportedValue",Ja="__angularfire_symbol__analyticsIsSupported",wc="__angularfire_symbol__remoteConfigIsSupportedValue",Xs="__angularfire_symbol__remoteConfigIsSupported",Gc="__angularfire_symbol__messagingIsSupportedValue",Gs="__angularfire_symbol__messagingIsSupported";function jl(Ye,ut,Ht){if(ut){if(1===ut.length)return ut[0];const Gn=ut.filter(Qn=>Qn.app===Ht);if(1===Gn.length)return Gn[0]}return Ht.container.getProvider(Ye).getImmediate({optional:!0})}globalThis[Ja]||(globalThis[Ja]=Jc().then(Ye=>globalThis[Hl]=Ye).catch(()=>globalThis[Hl]=!1)),globalThis[Gs]||(globalThis[Gs]=ci().then(Ye=>globalThis[Gc]=Ye).catch(()=>globalThis[Gc]=!1)),globalThis[Xs]||(globalThis[Xs]=xs().then(Ye=>globalThis[wc]=Ye).catch(()=>globalThis[wc]=!1));const oc=(Ye,ut)=>{const Ht=ut?[ut]:(0,t.C6)(),hn=[];return Ht.forEach(Ln=>{Ln.container.getProvider(Ye).instances.forEach(Qn=>{hn.includes(Qn)||hn.push(Qn)})}),hn};function sc(){}class Wr{constructor(ut,Ht=Xc){this.zone=ut,this.delegate=Ht}now(){return this.delegate.now()}schedule(ut,Ht,hn){const Ln=this.zone;return this.delegate.schedule(function(Qn){Ln.runGuarded(()=>{ut.apply(this,[Qn])})},Ht,hn)}}class yo{constructor(ut){this.zone=ut,this.task=null}call(ut,Ht){const hn=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",sc,{},sc,sc)),Ht.pipe((0,$a.b)({next:hn,complete:hn,error:hn})).subscribe(ut).add(hn)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ml=(()=>{class Ye{constructor(Ht){this.ngZone=Ht,this.outsideAngular=Ht.runOutsideAngular(()=>new Wr(Zone.current)),this.insideAngular=Ht.run(()=>new Wr(Zone.current,ic.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Ye.\u0275fac=function(Ht){return new(Ht||Ye)(e.LFG(e.R0b))},Ye.\u0275prov=e.Yz7({token:Ye,factory:Ye.\u0275fac,providedIn:"root"}),Ye})();function qs(){const Ye=globalThis.\u0275AngularFireScheduler;if(!Ye)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Ye}function Al(Ye){return qs(),function lc(Ye){return function(Ht){return(Ht=Ht.lift(new yo(Ye.ngZone))).pipe((0,ka.R)(Ye.outsideAngular),(0,ol.Q)(Ye.insideAngular))}}(qs())(Ye)}},6878:(Wn,Je,g)=>{"use strict";g.d(Je,{$:()=>cs,A:()=>d,D:()=>C,I:()=>ln,J:()=>Gr,L:()=>li,N:()=>He,P:()=>$o,Q:()=>ja,R:()=>zo,U:()=>ls,V:()=>xs,W:()=>Is,X:()=>uo,Y:()=>no,Z:()=>ua,_:()=>Ys,a:()=>Go,a0:()=>Fs,a1:()=>Aa,a2:()=>Ot,a3:()=>Yo,a4:()=>bs,a5:()=>Os,a6:()=>ds,a7:()=>ha,a8:()=>oa,a9:()=>dl,aA:()=>oe,aB:()=>wc,aC:()=>vt,aD:()=>Ze,aE:()=>ka,aF:()=>Qc,aG:()=>Bc,aH:()=>Pn,aL:()=>io,aO:()=>hr,aa:()=>Ol,ab:()=>ul,ac:()=>Ia,ad:()=>gc,ae:()=>Pl,af:()=>fl,ai:()=>_c,aj:()=>tl,ak:()=>pl,an:()=>Da,ao:()=>Vt,aq:()=>Gi,ar:()=>Nl,as:()=>Re,at:()=>wn,au:()=>En,av:()=>E,aw:()=>gs,ax:()=>Hc,ay:()=>Nn,az:()=>L,b:()=>gl,c:()=>Us,d:()=>Mc,e:()=>ld,f:()=>Sl,g:()=>Ic,h:()=>Gl,i:()=>Po,j:()=>ic,k:()=>bo,l:()=>da,m:()=>yd,p:()=>f,r:()=>Tl,s:()=>Za,u:()=>Dc});var e=g(5861),t=g(9058),v=g(534),y=g(7582),m=g(7879),P=g(4537);const f={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},d={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const C=function h(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},A=function p(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},x=new t.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),O=new m.Yd("@firebase/auth");function I(ke,...W){O.logLevel<=m.in.ERROR&&O.error(`Auth (${v.SDK_VERSION}): ${ke}`,...W)}function E(ke,...W){throw Z(ke,...W)}function L(ke,...W){return Z(ke,...W)}function b(ke,W,se){const $e=Object.assign(Object.assign({},A()),{[W]:se});return new t.LL("auth","Firebase",$e).create(W,{appName:ke.name})}function B(ke,W,se){if(!(W instanceof se))throw se.name!==W.constructor.name&&E(ke,"argument-error"),b(ke,"argument-error",`Type of ${W.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Z(ke,...W){if("string"!=typeof ke){const se=W[0],$e=[...W.slice(1)];return $e[0]&&($e[0].appName=ke.name),ke._errorFactory.create(se,...$e)}return x.create(ke,...W)}function oe(ke,W,...se){if(!ke)throw Z(W,...se)}function le(ke){const W="INTERNAL ASSERTION FAILED: "+ke;throw I(W),new Error(W)}function Re(ke,W){ke||le(W)}function Y(){var ke;return typeof self<"u"&&(null===(ke=self.location)||void 0===ke?void 0:ke.href)||""}function ae(){return"http:"===G()||"https:"===G()}function G(){var ke;return typeof self<"u"&&(null===(ke=self.location)||void 0===ke?void 0:ke.protocol)||null}class Te{constructor(W,se){this.shortDelay=W,this.longDelay=se,Re(se>W,"Short delay should be less than long delay!"),this.isMobile=(0,t.uI)()||(0,t.b$)()}get(){return function De(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ae()||(0,t.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function be(ke,W){Re(ke.emulator,"Emulator should always be set here");const{url:se}=ke.emulator;return W?`${se}${W.startsWith("/")?W.slice(1):W}`:se}class Oe{static initialize(W,se,$e){this.fetchImpl=W,se&&(this.headersImpl=se),$e&&(this.responseImpl=$e)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ye=new Te(3e4,6e4);function Ce(ke,W){return ke.tenantId&&!W.tenantId?Object.assign(Object.assign({},W),{tenantId:ke.tenantId}):W}function de(ke,W,se,$e){return Me.apply(this,arguments)}function Me(){return(Me=(0,e.Z)(function*(ke,W,se,$e,Wt={}){return pe(ke,Wt,(0,e.Z)(function*(){let an={},Hn={};$e&&("GET"===W?Hn=$e:an={body:JSON.stringify($e)});const ri=(0,t.xO)(Object.assign({key:ke.config.apiKey},Hn)).slice(1),Ci=yield ke._getAdditionalHeaders();return Ci["Content-Type"]="application/json",ke.languageCode&&(Ci["X-Firebase-Locale"]=ke.languageCode),Oe.fetch()(Xe(ke,ke.config.apiHost,se,ri),Object.assign({method:W,headers:Ci,referrerPolicy:"no-referrer"},an))}))})).apply(this,arguments)}function pe(ke,W,se){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,e.Z)(function*(ke,W,se){ke._canInitEmulator=!1;const $e=Object.assign(Object.assign({},ie),W);try{const Wt=new je(ke),an=yield Promise.race([se(),Wt.promise]);Wt.clearNetworkTimeout();const Hn=yield an.json();if("needConfirmation"in Hn)throw Ne(ke,"account-exists-with-different-credential",Hn);if(an.ok&&!("errorMessage"in Hn))return Hn;{const ri=an.ok?Hn.errorMessage:Hn.error.message,[Ci,xi]=ri.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ci)throw Ne(ke,"credential-already-in-use",Hn);if("EMAIL_EXISTS"===Ci)throw Ne(ke,"email-already-in-use",Hn);if("USER_DISABLED"===Ci)throw Ne(ke,"user-disabled",Hn);const Wi=$e[Ci]||Ci.toLowerCase().replace(/[_\s]+/g,"-");if(xi)throw b(ke,Wi,xi);E(ke,Wi)}}catch(Wt){if(Wt instanceof t.ZR)throw Wt;E(ke,"network-request-failed",{message:String(Wt)})}})).apply(this,arguments)}function Be(ke,W,se,$e){return at.apply(this,arguments)}function at(){return(at=(0,e.Z)(function*(ke,W,se,$e,Wt={}){const an=yield de(ke,W,se,$e,Wt);return"mfaPendingCredential"in an&&E(ke,"multi-factor-auth-required",{_serverResponse:an}),an})).apply(this,arguments)}function Xe(ke,W,se,$e){const Wt=`${W}${se}?${$e}`;return ke.config.emulator?be(ke.config,Wt):`${ke.config.apiScheme}://${Wt}`}class je{constructor(W){this.auth=W,this.timer=null,this.promise=new Promise((se,$e)=>{this.timer=setTimeout(()=>$e(L(this.auth,"network-request-failed")),ye.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ne(ke,W,se){const $e={appName:ke.name};se.email&&($e.email=se.email),se.phoneNumber&&($e.phoneNumber=se.phoneNumber);const Wt=L(ke,W,$e);return Wt.customData._tokenResponse=se,Wt}function fe(){return(fe=(0,e.Z)(function*(ke,W){return de(ke,"POST","/v1/accounts:delete",W)})).apply(this,arguments)}function q(){return(q=(0,e.Z)(function*(ke,W){return de(ke,"POST","/v1/accounts:update",W)})).apply(this,arguments)}function Q(){return(Q=(0,e.Z)(function*(ke,W){return de(ke,"POST","/v1/accounts:lookup",W)})).apply(this,arguments)}function ne(ke){if(ke)try{const W=new Date(Number(ke));if(!isNaN(W.getTime()))return W.toUTCString()}catch{}}function J(){return(J=(0,e.Z)(function*(ke,W=!1){const se=(0,t.m9)(ke),$e=yield se.getIdToken(W),Wt=Se($e);oe(Wt&&Wt.exp&&Wt.auth_time&&Wt.iat,se.auth,"internal-error");const an="object"==typeof Wt.firebase?Wt.firebase:void 0,Hn=an?.sign_in_provider;return{claims:Wt,token:$e,authTime:ne(ge(Wt.auth_time)),issuedAtTime:ne(ge(Wt.iat)),expirationTime:ne(ge(Wt.exp)),signInProvider:Hn||null,signInSecondFactor:an?.sign_in_second_factor||null}})).apply(this,arguments)}function ge(ke){return 1e3*Number(ke)}function Se(ke){const[W,se,$e]=ke.split(".");if(void 0===W||void 0===se||void 0===$e)return I("JWT malformed, contained fewer than 3 sections"),null;try{const Wt=(0,t.tV)(se);return Wt?JSON.parse(Wt):(I("Failed to decode base64 JWT payload"),null)}catch(Wt){return I("Caught error parsing JWT payload as JSON",Wt?.toString()),null}}function Fe(ke,W){return ct.apply(this,arguments)}function ct(){return(ct=(0,e.Z)(function*(ke,W,se=!1){if(se)return W;try{return yield W}catch($e){throw $e instanceof t.ZR&&function qe({code:ke}){return"auth/user-disabled"===ke||"auth/user-token-expired"===ke}($e)&&ke.auth.currentUser===ke&&(yield ke.auth.signOut()),$e}})).apply(this,arguments)}class tt{constructor(W){this.user=W,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(W){var se;if(W){const $e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),$e}{this.errorBackoff=3e4;const Wt=(null!==(se=this.user.stsTokenManager.expirationTime)&&void 0!==se?se:0)-Date.now()-3e5;return Math.max(0,Wt)}}schedule(W=!1){var se=this;if(!this.isRunning)return;const $e=this.getInterval(W);this.timerId=setTimeout((0,e.Z)(function*(){yield se.iteration()}),$e)}iteration(){var W=this;return(0,e.Z)(function*(){try{yield W.user.getIdToken(!0)}catch(se){return void("auth/network-request-failed"===se?.code&&W.schedule(!0))}W.schedule()})()}}class gt{constructor(W,se){this.createdAt=W,this.lastLoginAt=se,this._initializeTime()}_initializeTime(){this.lastSignInTime=ne(this.lastLoginAt),this.creationTime=ne(this.createdAt)}_copy(W){this.createdAt=W.createdAt,this.lastLoginAt=W.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qe(ke){return yt.apply(this,arguments)}function yt(){return yt=(0,e.Z)(function*(ke){var W;const se=ke.auth,$e=yield ke.getIdToken(),Wt=yield Fe(ke,function $(ke,W){return Q.apply(this,arguments)}(se,{idToken:$e}));oe(Wt?.users.length,se,"internal-error");const an=Wt.users[0];ke._notifyReloadListener(an);const Hn=null!==(W=an.providerUserInfo)&&void 0!==W&&W.length?function Tt(ke){return ke.map(W=>{var{providerId:se}=W,$e=(0,y._T)(W,["providerId"]);return{providerId:se,uid:$e.rawId||"",displayName:$e.displayName||null,email:$e.email||null,phoneNumber:$e.phoneNumber||null,photoURL:$e.photoUrl||null}})}(an.providerUserInfo):[],ri=function We(ke,W){return[...ke.filter($e=>!W.some(Wt=>Wt.providerId===$e.providerId)),...W]}(ke.providerData,Hn),Wi=!!ke.isAnonymous&&!(ke.email&&an.passwordHash||ri?.length),Dr={uid:an.localId,displayName:an.displayName||null,photoURL:an.photoUrl||null,email:an.email||null,emailVerified:an.emailVerified||!1,phoneNumber:an.phoneNumber||null,tenantId:an.tenantId||null,providerData:ri,metadata:new gt(an.createdAt,an.lastLoginAt),isAnonymous:Wi};Object.assign(ke,Dr)}),yt.apply(this,arguments)}function me(){return(me=(0,e.Z)(function*(ke){const W=(0,t.m9)(ke);yield Qe(W),yield W.auth._persistUserIfCurrent(W),W.auth._notifyListenersIfCurrent(W)})).apply(this,arguments)}function Jt(){return(Jt=(0,e.Z)(function*(ke,W){const se=yield pe(ke,{},(0,e.Z)(function*(){const $e=(0,t.xO)({grant_type:"refresh_token",refresh_token:W}).slice(1),{tokenApiHost:Wt,apiKey:an}=ke.config,Hn=Xe(ke,Wt,"/v1/token",`key=${an}`),ri=yield ke._getAdditionalHeaders();return ri["Content-Type"]="application/x-www-form-urlencoded",Oe.fetch()(Hn,{method:"POST",headers:ri,body:$e})}));return{accessToken:se.access_token,expiresIn:se.expires_in,refreshToken:se.refresh_token}})).apply(this,arguments)}class Xt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(W){oe(W.idToken,"internal-error"),oe(typeof W.idToken<"u","internal-error"),oe(typeof W.refreshToken<"u","internal-error");const se="expiresIn"in W&&typeof W.expiresIn<"u"?Number(W.expiresIn):function Ee(ke){const W=Se(ke);return oe(W,"internal-error"),oe(typeof W.exp<"u","internal-error"),oe(typeof W.iat<"u","internal-error"),Number(W.exp)-Number(W.iat)}(W.idToken);this.updateTokensAndExpiration(W.idToken,W.refreshToken,se)}getToken(W,se=!1){var $e=this;return(0,e.Z)(function*(){return oe(!$e.accessToken||$e.refreshToken,W,"user-token-expired"),se||!$e.accessToken||$e.isExpired?$e.refreshToken?(yield $e.refresh(W,$e.refreshToken),$e.accessToken):null:$e.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(W,se){var $e=this;return(0,e.Z)(function*(){const{accessToken:Wt,refreshToken:an,expiresIn:Hn}=yield function Kt(ke,W){return Jt.apply(this,arguments)}(W,se);$e.updateTokensAndExpiration(Wt,an,Number(Hn))})()}updateTokensAndExpiration(W,se,$e){this.refreshToken=se||null,this.accessToken=W||null,this.expirationTime=Date.now()+1e3*$e}static fromJSON(W,se){const{refreshToken:$e,accessToken:Wt,expirationTime:an}=se,Hn=new Xt;return $e&&(oe("string"==typeof $e,"internal-error",{appName:W}),Hn.refreshToken=$e),Wt&&(oe("string"==typeof Wt,"internal-error",{appName:W}),Hn.accessToken=Wt),an&&(oe("number"==typeof an,"internal-error",{appName:W}),Hn.expirationTime=an),Hn}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(W){this.accessToken=W.accessToken,this.refreshToken=W.refreshToken,this.expirationTime=W.expirationTime}_clone(){return Object.assign(new Xt,this.toJSON())}_performRefresh(){return le("not implemented")}}function un(ke,W){oe("string"==typeof ke||typeof ke>"u","internal-error",{appName:W})}class fn{constructor(W){var{uid:se,auth:$e,stsTokenManager:Wt}=W,an=(0,y._T)(W,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=se,this.auth=$e,this.stsTokenManager=Wt,this.accessToken=Wt.accessToken,this.displayName=an.displayName||null,this.email=an.email||null,this.emailVerified=an.emailVerified||!1,this.phoneNumber=an.phoneNumber||null,this.photoURL=an.photoURL||null,this.isAnonymous=an.isAnonymous||!1,this.tenantId=an.tenantId||null,this.providerData=an.providerData?[...an.providerData]:[],this.metadata=new gt(an.createdAt||void 0,an.lastLoginAt||void 0)}getIdToken(W){var se=this;return(0,e.Z)(function*(){const $e=yield Fe(se,se.stsTokenManager.getToken(se.auth,W));return oe($e,se.auth,"internal-error"),se.accessToken!==$e&&(se.accessToken=$e,yield se.auth._persistUserIfCurrent(se),se.auth._notifyListenersIfCurrent(se)),$e})()}getIdTokenResult(W){return function re(ke){return J.apply(this,arguments)}(this,W)}reload(){return function Et(ke){return me.apply(this,arguments)}(this)}_assign(W){this!==W&&(oe(this.uid===W.uid,this.auth,"internal-error"),this.displayName=W.displayName,this.photoURL=W.photoURL,this.email=W.email,this.emailVerified=W.emailVerified,this.phoneNumber=W.phoneNumber,this.isAnonymous=W.isAnonymous,this.tenantId=W.tenantId,this.providerData=W.providerData.map(se=>Object.assign({},se)),this.metadata._copy(W.metadata),this.stsTokenManager._assign(W.stsTokenManager))}_clone(W){const se=new fn(Object.assign(Object.assign({},this),{auth:W,stsTokenManager:this.stsTokenManager._clone()}));return se.metadata._copy(this.metadata),se}_onReload(W){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=W,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(W){this.reloadListener?this.reloadListener(W):this.reloadUserInfo=W}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(W,se=!1){var $e=this;return(0,e.Z)(function*(){let Wt=!1;W.idToken&&W.idToken!==$e.stsTokenManager.accessToken&&($e.stsTokenManager.updateFromServerResponse(W),Wt=!0),se&&(yield Qe($e)),yield $e.auth._persistUserIfCurrent($e),Wt&&$e.auth._notifyListenersIfCurrent($e)})()}delete(){var W=this;return(0,e.Z)(function*(){const se=yield W.getIdToken();return yield Fe(W,function ee(ke,W){return fe.apply(this,arguments)}(W.auth,{idToken:se})),W.stsTokenManager.clearRefreshToken(),W.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(W=>Object.assign({},W)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(W,se){var $e,Wt,an,Hn,ri,Ci,xi,Wi;const Dr=null!==($e=se.displayName)&&void 0!==$e?$e:void 0,Ps=null!==(Wt=se.email)&&void 0!==Wt?Wt:void 0,dc=null!==(an=se.phoneNumber)&&void 0!==an?an:void 0,V=null!==(Hn=se.photoURL)&&void 0!==Hn?Hn:void 0,r=null!==(ri=se.tenantId)&&void 0!==ri?ri:void 0,l=null!==(Ci=se._redirectEventId)&&void 0!==Ci?Ci:void 0,_=null!==(xi=se.createdAt)&&void 0!==xi?xi:void 0,M=null!==(Wi=se.lastLoginAt)&&void 0!==Wi?Wi:void 0,{uid:k,emailVerified:H,isAnonymous:te,providerData:Ae,stsTokenManager:Pe}=se;oe(k&&Pe,W,"internal-error");const dt=Xt.fromJSON(this.name,Pe);oe("string"==typeof k,W,"internal-error"),un(Dr,W.name),un(Ps,W.name),oe("boolean"==typeof H,W,"internal-error"),oe("boolean"==typeof te,W,"internal-error"),un(dc,W.name),un(V,W.name),un(r,W.name),un(l,W.name),un(_,W.name),un(M,W.name);const pt=new fn({uid:k,auth:W,email:Ps,emailVerified:H,displayName:Dr,isAnonymous:te,photoURL:V,phoneNumber:dc,tenantId:r,stsTokenManager:dt,createdAt:_,lastLoginAt:M});return Ae&&Array.isArray(Ae)&&(pt.providerData=Ae.map(Ut=>Object.assign({},Ut))),l&&(pt._redirectEventId=l),pt}static _fromIdTokenResponse(W,se,$e=!1){return(0,e.Z)(function*(){const Wt=new Xt;Wt.updateFromServerResponse(se);const an=new fn({uid:se.localId,auth:W,stsTokenManager:Wt,isAnonymous:$e});return yield Qe(an),an})()}}const It=new Map;function vt(ke){Re(ke instanceof Function,"Expected a class definition");let W=It.get(ke);return W?(Re(W instanceof ke,"Instance stored in cache mismatched with class"),W):(W=new ke,It.set(ke,W),W)}const He=(()=>{class ke{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,e.Z)(function*(){return!0})()}_set(se,$e){var Wt=this;return(0,e.Z)(function*(){Wt.storage[se]=$e})()}_get(se){var $e=this;return(0,e.Z)(function*(){const Wt=$e.storage[se];return void 0===Wt?null:Wt})()}_remove(se){var $e=this;return(0,e.Z)(function*(){delete $e.storage[se]})()}_addListener(se,$e){}_removeListener(se,$e){}}return ke.type="NONE",ke})();function Ze(ke,W,se){return`firebase:${ke}:${W}:${se}`}class st{constructor(W,se,$e){this.persistence=W,this.auth=se,this.userKey=$e;const{config:Wt,name:an}=this.auth;this.fullUserKey=Ze(this.userKey,Wt.apiKey,an),this.fullPersistenceKey=Ze("persistence",Wt.apiKey,an),this.boundEventHandler=se._onStorageEvent.bind(se),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(W){return this.persistence._set(this.fullUserKey,W.toJSON())}getCurrentUser(){var W=this;return(0,e.Z)(function*(){const se=yield W.persistence._get(W.fullUserKey);return se?fn._fromJSON(W.auth,se):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(W){var se=this;return(0,e.Z)(function*(){if(se.persistence===W)return;const $e=yield se.getCurrentUser();return yield se.removeCurrentUser(),se.persistence=W,$e?se.setCurrentUser($e):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(W,se,$e="authUser"){return(0,e.Z)(function*(){if(!se.length)return new st(vt(He),W,$e);const Wt=(yield Promise.all(se.map(function(){var xi=(0,e.Z)(function*(Wi){if(yield Wi._isAvailable())return Wi});return function(Wi){return xi.apply(this,arguments)}}()))).filter(xi=>xi);let an=Wt[0]||vt(He);const Hn=Ze($e,W.config.apiKey,W.name);let ri=null;for(const xi of se)try{const Wi=yield xi._get(Hn);if(Wi){const Dr=fn._fromJSON(W,Wi);xi!==an&&(ri=Dr),an=xi;break}}catch{}const Ci=Wt.filter(xi=>xi._shouldAllowMigration);return an._shouldAllowMigration&&Ci.length?(an=Ci[0],ri&&(yield an._set(Hn,ri.toJSON())),yield Promise.all(se.map(function(){var xi=(0,e.Z)(function*(Wi){if(Wi!==an)try{yield Wi._remove(Hn)}catch{}});return function(Wi){return xi.apply(this,arguments)}}())),new st(an,W,$e)):new st(an,W,$e)})()}}function lt(ke){const W=ke.toLowerCase();if(W.includes("opera/")||W.includes("opr/")||W.includes("opios/"))return"Opera";if(on(W))return"IEMobile";if(W.includes("msie")||W.includes("trident/"))return"IE";if(W.includes("edge/"))return"Edge";if(St(W))return"Firefox";if(W.includes("silk/"))return"Silk";if(tn(W))return"Blackberry";if(Mn(W))return"Webos";if(bt(W))return"Safari";if((W.includes("chrome/")||At(W))&&!W.includes("edge/"))return"Chrome";if(En(W))return"Android";{const $e=ke.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===$e?.length)return $e[1]}return"Other"}function St(ke=(0,t.z$)()){return/firefox\//i.test(ke)}function bt(ke=(0,t.z$)()){const W=ke.toLowerCase();return W.includes("safari/")&&!W.includes("chrome/")&&!W.includes("crios/")&&!W.includes("android")}function At(ke=(0,t.z$)()){return/crios\//i.test(ke)}function on(ke=(0,t.z$)()){return/iemobile/i.test(ke)}function En(ke=(0,t.z$)()){return/android/i.test(ke)}function tn(ke=(0,t.z$)()){return/blackberry/i.test(ke)}function Mn(ke=(0,t.z$)()){return/webos/i.test(ke)}function wn(ke=(0,t.z$)()){return/iphone|ipad|ipod/i.test(ke)||/macintosh/i.test(ke)&&/mobile/i.test(ke)}function Nn(ke=(0,t.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(ke)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(ke)}function vn(ke=(0,t.z$)()){return wn(ke)||En(ke)||Mn(ke)||tn(ke)||/windows phone/i.test(ke)||on(ke)}function yn(ke,W=[]){let se;switch(ke){case"Browser":se=lt((0,t.z$)());break;case"Worker":se=`${lt((0,t.z$)())}-${ke}`;break;default:se=ke}const $e=W.length?W.join(","):"FirebaseCore-web";return`${se}/JsCore/${v.SDK_VERSION}/${$e}`}function _n(){return(_n=(0,e.Z)(function*(ke){return(yield de(ke,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Mt(ke,W){return ht.apply(this,arguments)}function ht(){return(ht=(0,e.Z)(function*(ke,W){return de(ke,"GET","/v2/recaptchaConfig",Ce(ke,W))})).apply(this,arguments)}function Tn(ke){return void 0!==ke&&void 0!==ke.getResponse}function et(ke){return void 0!==ke&&void 0!==ke.enterprise}class Dt{constructor(W){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===W.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=W.recaptchaKey.split("/")[3],this.emailPasswordEnabled=W.recaptchaEnforcementState.some(se=>"EMAIL_PASSWORD_PROVIDER"===se.provider&&"OFF"!==se.enforcementState)}}function Nt(ke){return new Promise((W,se)=>{const $e=document.createElement("script");$e.setAttribute("src",ke),$e.onload=W,$e.onerror=Wt=>{const an=L("internal-error");an.customData=Wt,se(an)},$e.type="text/javascript",$e.charset="UTF-8",function Qt(){var ke,W;return null!==(W=null===(ke=document.getElementsByTagName("head"))||void 0===ke?void 0:ke[0])&&void 0!==W?W:document}().appendChild($e)})}function xn(ke){return`__${ke}${Math.floor(1e6*Math.random())}`}class en{constructor(W){this.type="recaptcha-enterprise",this.auth=Pn(W)}verify(W="verify",se=!1){var $e=this;return(0,e.Z)(function*(){function an(){return an=(0,e.Z)(function*(ri){if(!se){if(null==ri.tenantId&&null!=ri._agentRecaptchaConfig)return ri._agentRecaptchaConfig.siteKey;if(null!=ri.tenantId&&void 0!==ri._tenantRecaptchaConfigs[ri.tenantId])return ri._tenantRecaptchaConfigs[ri.tenantId].siteKey}return new Promise(function(){var Ci=(0,e.Z)(function*(xi,Wi){Mt(ri,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Dr=>{if(void 0!==Dr.recaptchaKey){const Ps=new Dt(Dr);return null==ri.tenantId?ri._agentRecaptchaConfig=Ps:ri._tenantRecaptchaConfigs[ri.tenantId]=Ps,xi(Ps.siteKey)}Wi(new Error("recaptcha Enterprise site key undefined"))}).catch(Dr=>{Wi(Dr)})});return function(xi,Wi){return Ci.apply(this,arguments)}}())}),an.apply(this,arguments)}function Hn(ri,Ci,xi){const Wi=window.grecaptcha;et(Wi)?Wi.enterprise.ready(()=>{Wi.enterprise.execute(ri,{action:W}).then(Dr=>{Ci(Dr)}).catch(()=>{Ci("NO_RECAPTCHA")})}):xi(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ri,Ci)=>{(function Wt(ri){return an.apply(this,arguments)})($e.auth).then(xi=>{if(!se&&et(window.grecaptcha))Hn(xi,ri,Ci);else{if(typeof window>"u")return void Ci(new Error("RecaptchaVerifier is only supported in browser"));Nt("https://www.google.com/recaptcha/enterprise.js?render="+xi).then(()=>{Hn(xi,ri,Ci)}).catch(Wi=>{Ci(Wi)})}}).catch(xi=>{Ci(xi)})})})()}}function An(ke,W,se){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,e.Z)(function*(ke,W,se,$e=!1){const Wt=new en(ke);let an;try{an=yield Wt.verify(se)}catch{an=yield Wt.verify(se,!0)}const Hn=Object.assign({},W);return Object.assign(Hn,$e?{captchaResp:an}:{captchaResponse:an}),Object.assign(Hn,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Hn,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Hn})).apply(this,arguments)}class ii{constructor(W){this.auth=W,this.queue=[]}pushCallback(W,se){const $e=an=>new Promise((Hn,ri)=>{try{Hn(W(an))}catch(Ci){ri(Ci)}});$e.onAbort=se,this.queue.push($e);const Wt=this.queue.length-1;return()=>{this.queue[Wt]=()=>Promise.resolve()}}runMiddleware(W){var se=this;return(0,e.Z)(function*(){if(se.auth.currentUser===W)return;const $e=[];try{for(const Wt of se.queue)yield Wt(W),Wt.onAbort&&$e.push(Wt.onAbort)}catch(Wt){$e.reverse();for(const an of $e)try{an()}catch{}throw se.auth._errorFactory.create("login-blocked",{originalMessage:Wt?.message})}})()}}class Ft{constructor(W,se,$e,Wt){this.app=W,this.heartbeatServiceProvider=se,this.appCheckServiceProvider=$e,this.config=Wt,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Le(this),this.idTokenSubscription=new Le(this),this.beforeStateQueue=new ii(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=W.name,this.clientVersion=Wt.sdkClientVersion}_initializeWithPersistence(W,se){var $e=this;return se&&(this._popupRedirectResolver=vt(se)),this._initializationPromise=this.queue((0,e.Z)(function*(){var Wt,an;if(!$e._deleted&&($e.persistenceManager=yield st.create($e,W),!$e._deleted)){if(null!==(Wt=$e._popupRedirectResolver)&&void 0!==Wt&&Wt._shouldInitProactively)try{yield $e._popupRedirectResolver._initialize($e)}catch{}yield $e.initializeCurrentUser(se),$e.lastNotifiedUid=(null===(an=$e.currentUser)||void 0===an?void 0:an.uid)||null,!$e._deleted&&($e._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var W=this;return(0,e.Z)(function*(){if(W._deleted)return;const se=yield W.assertedPersistence.getCurrentUser();if(W.currentUser||se){if(W.currentUser&&se&&W.currentUser.uid===se.uid)return W._currentUser._assign(se),void(yield W.currentUser.getIdToken());yield W._updateCurrentUser(se,!0)}})()}initializeCurrentUser(W){var se=this;return(0,e.Z)(function*(){var $e;const Wt=yield se.assertedPersistence.getCurrentUser();let an=Wt,Hn=!1;if(W&&se.config.authDomain){yield se.getOrInitRedirectPersistenceManager();const ri=null===($e=se.redirectUser)||void 0===$e?void 0:$e._redirectEventId,Ci=an?._redirectEventId,xi=yield se.tryRedirectSignIn(W);(!ri||ri===Ci)&&xi?.user&&(an=xi.user,Hn=!0)}if(!an)return se.directlySetCurrentUser(null);if(!an._redirectEventId){if(Hn)try{yield se.beforeStateQueue.runMiddleware(an)}catch(ri){an=Wt,se._popupRedirectResolver._overrideRedirectResult(se,()=>Promise.reject(ri))}return an?se.reloadAndSetCurrentUserOrClear(an):se.directlySetCurrentUser(null)}return oe(se._popupRedirectResolver,se,"argument-error"),yield se.getOrInitRedirectPersistenceManager(),se.redirectUser&&se.redirectUser._redirectEventId===an._redirectEventId?se.directlySetCurrentUser(an):se.reloadAndSetCurrentUserOrClear(an)})()}tryRedirectSignIn(W){var se=this;return(0,e.Z)(function*(){let $e=null;try{$e=yield se._popupRedirectResolver._completeRedirectFn(se,W,!0)}catch{yield se._setRedirectUser(null)}return $e})()}reloadAndSetCurrentUserOrClear(W){var se=this;return(0,e.Z)(function*(){try{yield Qe(W)}catch($e){if("auth/network-request-failed"!==$e?.code)return se.directlySetCurrentUser(null)}return se.directlySetCurrentUser(W)})()}useDeviceLanguage(){this.languageCode=function ce(){if(typeof navigator>"u")return null;const ke=navigator;return ke.languages&&ke.languages[0]||ke.language||null}()}_delete(){var W=this;return(0,e.Z)(function*(){W._deleted=!0})()}updateCurrentUser(W){var se=this;return(0,e.Z)(function*(){const $e=W?(0,t.m9)(W):null;return $e&&oe($e.auth.config.apiKey===se.config.apiKey,se,"invalid-user-token"),se._updateCurrentUser($e&&$e._clone(se))})()}_updateCurrentUser(W,se=!1){var $e=this;return(0,e.Z)(function*(){if(!$e._deleted)return W&&oe($e.tenantId===W.tenantId,$e,"tenant-id-mismatch"),se||(yield $e.beforeStateQueue.runMiddleware(W)),$e.queue((0,e.Z)(function*(){yield $e.directlySetCurrentUser(W),$e.notifyAuthListeners()}))})()}signOut(){var W=this;return(0,e.Z)(function*(){return yield W.beforeStateQueue.runMiddleware(null),(W.redirectPersistenceManager||W._popupRedirectResolver)&&(yield W._setRedirectUser(null)),W._updateCurrentUser(null,!0)})()}setPersistence(W){var se=this;return this.queue((0,e.Z)(function*(){yield se.assertedPersistence.setPersistence(vt(W))}))}initializeRecaptchaConfig(){var W=this;return(0,e.Z)(function*(){const se=yield Mt(W,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),$e=new Dt(se);null==W.tenantId?W._agentRecaptchaConfig=$e:W._tenantRecaptchaConfigs[W.tenantId]=$e,$e.emailPasswordEnabled&&new en(W).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(W){this._errorFactory=new t.LL("auth","Firebase",W())}onAuthStateChanged(W,se,$e){return this.registerStateListener(this.authStateSubscription,W,se,$e)}beforeAuthStateChanged(W,se){return this.beforeStateQueue.pushCallback(W,se)}onIdTokenChanged(W,se,$e){return this.registerStateListener(this.idTokenSubscription,W,se,$e)}toJSON(){var W;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(W=this._currentUser)||void 0===W?void 0:W.toJSON()}}_setRedirectUser(W,se){var $e=this;return(0,e.Z)(function*(){const Wt=yield $e.getOrInitRedirectPersistenceManager(se);return null===W?Wt.removeCurrentUser():Wt.setCurrentUser(W)})()}getOrInitRedirectPersistenceManager(W){var se=this;return(0,e.Z)(function*(){if(!se.redirectPersistenceManager){const $e=W&&vt(W)||se._popupRedirectResolver;oe($e,se,"argument-error"),se.redirectPersistenceManager=yield st.create(se,[vt($e._redirectPersistence)],"redirectUser"),se.redirectUser=yield se.redirectPersistenceManager.getCurrentUser()}return se.redirectPersistenceManager})()}_redirectUserForId(W){var se=this;return(0,e.Z)(function*(){var $e,Wt;return se._isInitialized&&(yield se.queue((0,e.Z)(function*(){}))),(null===($e=se._currentUser)||void 0===$e?void 0:$e._redirectEventId)===W?se._currentUser:(null===(Wt=se.redirectUser)||void 0===Wt?void 0:Wt._redirectEventId)===W?se.redirectUser:null})()}_persistUserIfCurrent(W){var se=this;return(0,e.Z)(function*(){if(W===se.currentUser)return se.queue((0,e.Z)(function*(){return se.directlySetCurrentUser(W)}))})()}_notifyListenersIfCurrent(W){W===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var W,se;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const $e=null!==(se=null===(W=this.currentUser)||void 0===W?void 0:W.uid)&&void 0!==se?se:null;this.lastNotifiedUid!==$e&&(this.lastNotifiedUid=$e,this.authStateSubscription.next(this.currentUser))}registerStateListener(W,se,$e,Wt){if(this._deleted)return()=>{};const an="function"==typeof se?se:se.next.bind(se),Hn=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(Hn,this,"internal-error"),Hn.then(()=>an(this.currentUser)),"function"==typeof se?W.addObserver(se,$e,Wt):W.addObserver(se)}directlySetCurrentUser(W){var se=this;return(0,e.Z)(function*(){se.currentUser&&se.currentUser!==W&&se._currentUser._stopProactiveRefresh(),W&&se.isProactiveRefreshEnabled&&W._startProactiveRefresh(),se.currentUser=W,W?yield se.assertedPersistence.setCurrentUser(W):yield se.assertedPersistence.removeCurrentUser()})()}queue(W){return this.operations=this.operations.then(W,W),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(W){!W||this.frameworks.includes(W)||(this.frameworks.push(W),this.frameworks.sort(),this.clientVersion=yn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var W=this;return(0,e.Z)(function*(){var se;const $e={"X-Client-Version":W.clientVersion};W.app.options.appId&&($e["X-Firebase-gmpid"]=W.app.options.appId);const Wt=yield null===(se=W.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===se?void 0:se.getHeartbeatsHeader();Wt&&($e["X-Firebase-Client"]=Wt);const an=yield W._getAppCheckToken();return an&&($e["X-Firebase-AppCheck"]=an),$e})()}_getAppCheckToken(){var W=this;return(0,e.Z)(function*(){var se;const $e=yield null===(se=W.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===se?void 0:se.getToken();return $e?.error&&function S(ke,...W){O.logLevel<=m.in.WARN&&O.warn(`Auth (${v.SDK_VERSION}): ${ke}`,...W)}(`Error while retrieving App Check token: ${$e.error}`),$e?.token})()}}function Pn(ke){return(0,t.m9)(ke)}class Le{constructor(W){this.auth=W,this.observer=null,this.addObserver=(0,t.ne)(se=>this.observer=se)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ln(ke,W,se){const $e=Pn(ke);oe($e._canInitEmulator,$e,"emulator-config-failed"),oe(/^https?:\/\//.test(W),$e,"invalid-emulator-scheme");const Wt=!!se?.disableWarnings,an=Fn(W),{host:Hn,port:ri}=function vi(ke){const W=Fn(ke),se=/(\/\/)?([^?#/]+)/.exec(ke.substr(W.length));if(!se)return{host:"",port:null};const $e=se[2].split("@").pop()||"",Wt=/^(\[[^\]]+\])(:|$)/.exec($e);if(Wt){const an=Wt[1];return{host:an,port:vr($e.substr(an.length+1))}}{const[an,Hn]=$e.split(":");return{host:an,port:vr(Hn)}}}(W);$e.config.emulator={url:`${an}//${Hn}${null===ri?"":`:${ri}`}/`},$e.settings.appVerificationDisabledForTesting=!0,$e.emulatorConfig=Object.freeze({host:Hn,port:ri,protocol:an.replace(":",""),options:Object.freeze({disableWarnings:Wt})}),Wt||function Zr(){function ke(){const W=document.createElement("p"),se=W.style;W.innerText="Running in emulator mode. Do not use with production credentials.",se.position="fixed",se.width="100%",se.backgroundColor="#ffffff",se.border=".1em solid #000000",se.color="#b50000",se.bottom="0px",se.left="0px",se.margin="0px",se.zIndex="10000",se.textAlign="center",W.classList.add("firebase-emulator-warning"),document.body.appendChild(W)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",ke):ke())}()}function Fn(ke){const W=ke.indexOf(":");return W<0?"":ke.substr(0,W+1)}function vr(ke){if(!ke)return null;const W=Number(ke);return isNaN(W)?null:W}class Gr{constructor(W,se){this.providerId=W,this.signInMethod=se}toJSON(){return le("not implemented")}_getIdTokenResponse(W){return le("not implemented")}_linkToIdToken(W,se){return le("not implemented")}_getReauthenticationResolver(W){return le("not implemented")}}function ki(ke,W){return wi.apply(this,arguments)}function wi(){return(wi=(0,e.Z)(function*(ke,W){return de(ke,"POST","/v1/accounts:resetPassword",Ce(ke,W))})).apply(this,arguments)}function Vo(ke,W){return Do.apply(this,arguments)}function Do(){return(Do=(0,e.Z)(function*(ke,W){return de(ke,"POST","/v1/accounts:update",W)})).apply(this,arguments)}function Yi(){return(Yi=(0,e.Z)(function*(ke,W){return de(ke,"POST","/v1/accounts:update",Ce(ke,W))})).apply(this,arguments)}function Hr(ke,W){return tr.apply(this,arguments)}function tr(){return(tr=(0,e.Z)(function*(ke,W){return Be(ke,"POST","/v1/accounts:signInWithPassword",Ce(ke,W))})).apply(this,arguments)}function lo(ke,W){return jr.apply(this,arguments)}function jr(){return(jr=(0,e.Z)(function*(ke,W){return de(ke,"POST","/v1/accounts:sendOobCode",Ce(ke,W))})).apply(this,arguments)}function xr(){return(xr=(0,e.Z)(function*(ke,W){return lo(ke,W)})).apply(this,arguments)}function co(ke,W){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,e.Z)(function*(ke,W){return lo(ke,W)})).apply(this,arguments)}function As(ke,W){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,e.Z)(function*(ke,W){return lo(ke,W)})).apply(this,arguments)}function $i(){return($i=(0,e.Z)(function*(ke,W){return lo(ke,W)})).apply(this,arguments)}function Vr(){return(Vr=(0,e.Z)(function*(ke,W){return Be(ke,"POST","/v1/accounts:signInWithEmailLink",Ce(ke,W))})).apply(this,arguments)}function zr(){return(zr=(0,e.Z)(function*(ke,W){return Be(ke,"POST","/v1/accounts:signInWithEmailLink",Ce(ke,W))})).apply(this,arguments)}class po extends Gr{constructor(W,se,$e,Wt=null){super("password",$e),this._email=W,this._password=se,this._tenantId=Wt}static _fromEmailAndPassword(W,se){return new po(W,se,"password")}static _fromEmailAndCode(W,se,$e=null){return new po(W,se,"emailLink",$e)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(W){const se="string"==typeof W?JSON.parse(W):W;if(se?.email&&se?.password){if("password"===se.signInMethod)return this._fromEmailAndPassword(se.email,se.password);if("emailLink"===se.signInMethod)return this._fromEmailAndCode(se.email,se.password,se.tenantId)}return null}_getIdTokenResponse(W){var se=this;return(0,e.Z)(function*(){var $e;switch(se.signInMethod){case"password":const Wt={returnSecureToken:!0,email:se._email,password:se._password,clientType:"CLIENT_TYPE_WEB"};if(null!==($e=W._getRecaptchaConfig())&&void 0!==$e&&$e.emailPasswordEnabled){const an=yield An(W,Wt,"signInWithPassword");return Hr(W,an)}return Hr(W,Wt).catch(function(){var an=(0,e.Z)(function*(Hn){if("auth/missing-recaptcha-token"===Hn.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ri=yield An(W,Wt,"signInWithPassword");return Hr(W,ri)}return Promise.reject(Hn)});return function(Hn){return an.apply(this,arguments)}}());case"emailLink":return function Pr(ke,W){return Vr.apply(this,arguments)}(W,{email:se._email,oobCode:se._password});default:E(W,"internal-error")}})()}_linkToIdToken(W,se){var $e=this;return(0,e.Z)(function*(){switch($e.signInMethod){case"password":return Vo(W,{idToken:se,returnSecureToken:!0,email:$e._email,password:$e._password});case"emailLink":return function Mo(ke,W){return zr.apply(this,arguments)}(W,{idToken:se,email:$e._email,oobCode:$e._password});default:E(W,"internal-error")}})()}_getReauthenticationResolver(W){return this._getIdTokenResponse(W)}}function Dn(ke,W){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,e.Z)(function*(ke,W){return Be(ke,"POST","/v1/accounts:signInWithIdp",Ce(ke,W))})).apply(this,arguments)}class li extends Gr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(W){const se=new li(W.providerId,W.signInMethod);return W.idToken||W.accessToken?(W.idToken&&(se.idToken=W.idToken),W.accessToken&&(se.accessToken=W.accessToken),W.nonce&&!W.pendingToken&&(se.nonce=W.nonce),W.pendingToken&&(se.pendingToken=W.pendingToken)):W.oauthToken&&W.oauthTokenSecret?(se.accessToken=W.oauthToken,se.secret=W.oauthTokenSecret):E("argument-error"),se}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(W){const se="string"==typeof W?JSON.parse(W):W,{providerId:$e,signInMethod:Wt}=se,an=(0,y._T)(se,["providerId","signInMethod"]);if(!$e||!Wt)return null;const Hn=new li($e,Wt);return Hn.idToken=an.idToken||void 0,Hn.accessToken=an.accessToken||void 0,Hn.secret=an.secret,Hn.nonce=an.nonce,Hn.pendingToken=an.pendingToken||null,Hn}_getIdTokenResponse(W){return Dn(W,this.buildRequest())}_linkToIdToken(W,se){const $e=this.buildRequest();return $e.idToken=se,Dn(W,$e)}_getReauthenticationResolver(W){const se=this.buildRequest();return se.autoCreate=!1,Dn(W,se)}buildRequest(){const W={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)W.pendingToken=this.pendingToken;else{const se={};this.idToken&&(se.id_token=this.idToken),this.accessToken&&(se.access_token=this.accessToken),this.secret&&(se.oauth_token_secret=this.secret),se.providerId=this.providerId,this.nonce&&!this.pendingToken&&(se.nonce=this.nonce),W.postBody=(0,t.xO)(se)}return W}}function Ji(){return(Ji=(0,e.Z)(function*(ke,W){return de(ke,"POST","/v1/accounts:sendVerificationCode",Ce(ke,W))})).apply(this,arguments)}function Ki(){return(Ki=(0,e.Z)(function*(ke,W){return Be(ke,"POST","/v1/accounts:signInWithPhoneNumber",Ce(ke,W))})).apply(this,arguments)}function Io(){return(Io=(0,e.Z)(function*(ke,W){const se=yield Be(ke,"POST","/v1/accounts:signInWithPhoneNumber",Ce(ke,W));if(se.temporaryProof)throw Ne(ke,"account-exists-with-different-credential",se);return se})).apply(this,arguments)}const Lo={USER_NOT_FOUND:"user-not-found"};function Ks(){return(Ks=(0,e.Z)(function*(ke,W){return Be(ke,"POST","/v1/accounts:signInWithPhoneNumber",Ce(ke,Object.assign(Object.assign({},W),{operation:"REAUTH"})),Lo)})).apply(this,arguments)}class Xr extends Gr{constructor(W){super("phone","phone"),this.params=W}static _fromVerification(W,se){return new Xr({verificationId:W,verificationCode:se})}static _fromTokenResponse(W,se){return new Xr({phoneNumber:W,temporaryProof:se})}_getIdTokenResponse(W){return function rr(ke,W){return Ki.apply(this,arguments)}(W,this._makeVerificationRequest())}_linkToIdToken(W,se){return function Ir(ke,W){return Io.apply(this,arguments)}(W,Object.assign({idToken:se},this._makeVerificationRequest()))}_getReauthenticationResolver(W){return function ko(ke,W){return Ks.apply(this,arguments)}(W,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:W,phoneNumber:se,verificationId:$e,verificationCode:Wt}=this.params;return W&&se?{temporaryProof:W,phoneNumber:se}:{sessionInfo:$e,code:Wt}}toJSON(){const W={providerId:this.providerId};return this.params.phoneNumber&&(W.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(W.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(W.verificationCode=this.params.verificationCode),this.params.verificationId&&(W.verificationId=this.params.verificationId),W}static fromJSON(W){"string"==typeof W&&(W=JSON.parse(W));const{verificationId:se,verificationCode:$e,phoneNumber:Wt,temporaryProof:an}=W;return $e||se||Wt||an?new Xr({verificationId:se,verificationCode:$e,phoneNumber:Wt,temporaryProof:an}):null}}class as{constructor(W){var se,$e,Wt,an,Hn,ri;const Ci=(0,t.zd)((0,t.pd)(W)),xi=null!==(se=Ci.apiKey)&&void 0!==se?se:null,Wi=null!==($e=Ci.oobCode)&&void 0!==$e?$e:null,Dr=function _o(ke){switch(ke){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Wt=Ci.mode)&&void 0!==Wt?Wt:null);oe(xi&&Wi&&Dr,"argument-error"),this.apiKey=xi,this.operation=Dr,this.code=Wi,this.continueUrl=null!==(an=Ci.continueUrl)&&void 0!==an?an:null,this.languageCode=null!==(Hn=Ci.languageCode)&&void 0!==Hn?Hn:null,this.tenantId=null!==(ri=Ci.tenantId)&&void 0!==ri?ri:null}static parseLink(W){const se=function ss(ke){const W=(0,t.zd)((0,t.pd)(ke)).link,se=W?(0,t.zd)((0,t.pd)(W)).deep_link_id:null,$e=(0,t.zd)((0,t.pd)(ke)).deep_link_id;return($e?(0,t.zd)((0,t.pd)($e)).link:null)||$e||se||W||ke}(W);try{return new as(se)}catch{return null}}}let ja=(()=>{class ke{constructor(){this.providerId=ke.PROVIDER_ID}static credential(se,$e){return po._fromEmailAndPassword(se,$e)}static credentialWithLink(se,$e){const Wt=as.parseLink($e);return oe(Wt,"argument-error"),po._fromEmailAndCode(se,Wt.code,Wt.tenantId)}}return ke.PROVIDER_ID="password",ke.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ke.EMAIL_LINK_SIGN_IN_METHOD="emailLink",ke})();class qo{constructor(W){this.providerId=W,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(W){this.defaultLanguageCode=W}setCustomParameters(W){return this.customParameters=W,this}getCustomParameters(){return this.customParameters}}class Ws extends qo{constructor(){super(...arguments),this.scopes=[]}addScope(W){return this.scopes.includes(W)||this.scopes.push(W),this}getScopes(){return[...this.scopes]}}class uo extends Ws{static credentialFromJSON(W){const se="string"==typeof W?JSON.parse(W):W;return oe("providerId"in se&&"signInMethod"in se,"argument-error"),li._fromParams(se)}credential(W){return this._credential(Object.assign(Object.assign({},W),{nonce:W.rawNonce}))}_credential(W){return oe(W.idToken||W.accessToken,"argument-error"),li._fromParams(Object.assign(Object.assign({},W),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(W){return uo.oauthCredentialFromTaggedObject(W)}static credentialFromError(W){return uo.oauthCredentialFromTaggedObject(W.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:W}){if(!W)return null;const{oauthIdToken:se,oauthAccessToken:$e,oauthTokenSecret:Wt,pendingToken:an,nonce:Hn,providerId:ri}=W;if(!$e&&!Wt&&!se&&!an||!ri)return null;try{return new uo(ri)._credential({idToken:se,accessToken:$e,nonce:Hn,pendingToken:an})}catch{return null}}}let ls=(()=>{class ke extends Ws{constructor(){super("facebook.com")}static credential(se){return li._fromParams({providerId:ke.PROVIDER_ID,signInMethod:ke.FACEBOOK_SIGN_IN_METHOD,accessToken:se})}static credentialFromResult(se){return ke.credentialFromTaggedObject(se)}static credentialFromError(se){return ke.credentialFromTaggedObject(se.customData||{})}static credentialFromTaggedObject({_tokenResponse:se}){if(!se||!("oauthAccessToken"in se)||!se.oauthAccessToken)return null;try{return ke.credential(se.oauthAccessToken)}catch{return null}}}return ke.FACEBOOK_SIGN_IN_METHOD="facebook.com",ke.PROVIDER_ID="facebook.com",ke})(),xs=(()=>{class ke extends Ws{constructor(){super("google.com"),this.addScope("profile")}static credential(se,$e){return li._fromParams({providerId:ke.PROVIDER_ID,signInMethod:ke.GOOGLE_SIGN_IN_METHOD,idToken:se,accessToken:$e})}static credentialFromResult(se){return ke.credentialFromTaggedObject(se)}static credentialFromError(se){return ke.credentialFromTaggedObject(se.customData||{})}static credentialFromTaggedObject({_tokenResponse:se}){if(!se)return null;const{oauthIdToken:$e,oauthAccessToken:Wt}=se;if(!$e&&!Wt)return null;try{return ke.credential($e,Wt)}catch{return null}}}return ke.GOOGLE_SIGN_IN_METHOD="google.com",ke.PROVIDER_ID="google.com",ke})(),Is=(()=>{class ke extends Ws{constructor(){super("github.com")}static credential(se){return li._fromParams({providerId:ke.PROVIDER_ID,signInMethod:ke.GITHUB_SIGN_IN_METHOD,accessToken:se})}static credentialFromResult(se){return ke.credentialFromTaggedObject(se)}static credentialFromError(se){return ke.credentialFromTaggedObject(se.customData||{})}static credentialFromTaggedObject({_tokenResponse:se}){if(!se||!("oauthAccessToken"in se)||!se.oauthAccessToken)return null;try{return ke.credential(se.oauthAccessToken)}catch{return null}}}return ke.GITHUB_SIGN_IN_METHOD="github.com",ke.PROVIDER_ID="github.com",ke})();class hr extends Gr{constructor(W,se){super(W,W),this.pendingToken=se}_getIdTokenResponse(W){return Dn(W,this.buildRequest())}_linkToIdToken(W,se){const $e=this.buildRequest();return $e.idToken=se,Dn(W,$e)}_getReauthenticationResolver(W){const se=this.buildRequest();return se.autoCreate=!1,Dn(W,se)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(W){const se="string"==typeof W?JSON.parse(W):W,{providerId:$e,signInMethod:Wt,pendingToken:an}=se;return $e&&Wt&&an&&$e===Wt?new hr($e,an):null}static _create(W,se){return new hr(W,se)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class no extends qo{constructor(W){oe(W.startsWith("saml."),"argument-error"),super(W)}static credentialFromResult(W){return no.samlCredentialFromTaggedObject(W)}static credentialFromError(W){return no.samlCredentialFromTaggedObject(W.customData||{})}static credentialFromJSON(W){const se=hr.fromJSON(W);return oe(se,"argument-error"),se}static samlCredentialFromTaggedObject({_tokenResponse:W}){if(!W)return null;const{pendingToken:se,providerId:$e}=W;if(!se||!$e)return null;try{return hr._create($e,se)}catch{return null}}}let ua=(()=>{class ke extends Ws{constructor(){super("twitter.com")}static credential(se,$e){return li._fromParams({providerId:ke.PROVIDER_ID,signInMethod:ke.TWITTER_SIGN_IN_METHOD,oauthToken:se,oauthTokenSecret:$e})}static credentialFromResult(se){return ke.credentialFromTaggedObject(se)}static credentialFromError(se){return ke.credentialFromTaggedObject(se.customData||{})}static credentialFromTaggedObject({_tokenResponse:se}){if(!se)return null;const{oauthAccessToken:$e,oauthTokenSecret:Wt}=se;if(!$e||!Wt)return null;try{return ke.credential($e,Wt)}catch{return null}}}return ke.TWITTER_SIGN_IN_METHOD="twitter.com",ke.PROVIDER_ID="twitter.com",ke})();function Ao(ke,W){return kr.apply(this,arguments)}function kr(){return(kr=(0,e.Z)(function*(ke,W){return Be(ke,"POST","/v1/accounts:signUp",Ce(ke,W))})).apply(this,arguments)}class mr{constructor(W){this.user=W.user,this.providerId=W.providerId,this._tokenResponse=W._tokenResponse,this.operationType=W.operationType}static _fromIdTokenResponse(W,se,$e,Wt=!1){return(0,e.Z)(function*(){const an=yield fn._fromIdTokenResponse(W,$e,Wt),Hn=Fo($e);return new mr({user:an,providerId:Hn,_tokenResponse:$e,operationType:se})})()}static _forOperation(W,se,$e){return(0,e.Z)(function*(){yield W._updateTokensIfNecessary($e,!0);const Wt=Fo($e);return new mr({user:W,providerId:Wt,_tokenResponse:$e,operationType:se})})()}}function Fo(ke){return ke.providerId?ke.providerId:"phoneNumber"in ke?"phone":null}function Ys(ke){return pr.apply(this,arguments)}function pr(){return(pr=(0,e.Z)(function*(ke){var W;const se=Pn(ke);if(yield se._initializationPromise,null!==(W=se.currentUser)&&void 0!==W&&W.isAnonymous)return new mr({user:se.currentUser,providerId:null,operationType:"signIn"});const $e=yield Ao(se,{returnSecureToken:!0}),Wt=yield mr._fromIdTokenResponse(se,"signIn",$e,!0);return yield se._updateCurrentUser(Wt.user),Wt})).apply(this,arguments)}class vs extends t.ZR{constructor(W,se,$e,Wt){var an;super(se.code,se.message),this.operationType=$e,this.user=Wt,Object.setPrototypeOf(this,vs.prototype),this.customData={appName:W.name,tenantId:null!==(an=W.tenantId)&&void 0!==an?an:void 0,_serverResponse:se.customData._serverResponse,operationType:$e}}static _fromErrorAndOperation(W,se,$e,Wt){return new vs(W,se,$e,Wt)}}function Wo(ke,W,se,$e){return("reauthenticate"===W?se._getReauthenticationResolver(ke):se._getIdTokenResponse(ke)).catch(an=>{throw"auth/multi-factor-auth-required"===an.code?vs._fromErrorAndOperation(ke,an,W,$e):an})}function ws(ke){return new Set(ke.map(({providerId:W})=>W).filter(W=>!!W))}function Da(ke,W){return Ls.apply(this,arguments)}function Ls(){return Ls=(0,e.Z)(function*(ke,W){const se=(0,t.m9)(ke);yield es(!0,se,W);const{providerUserInfo:$e}=yield function we(ke,W){return q.apply(this,arguments)}(se.auth,{idToken:yield se.getIdToken(),deleteProvider:[W]}),Wt=ws($e||[]);return se.providerData=se.providerData.filter(an=>Wt.has(an.providerId)),Wt.has("phone")||(se.phoneNumber=null),yield se.auth._persistUserIfCurrent(se),se}),Ls.apply(this,arguments)}function vo(ke,W){return ks.apply(this,arguments)}function ks(){return(ks=(0,e.Z)(function*(ke,W,se=!1){const $e=yield Fe(ke,W._linkToIdToken(ke.auth,yield ke.getIdToken()),se);return mr._forOperation(ke,"link",$e)})).apply(this,arguments)}function es(ke,W,se){return fa.apply(this,arguments)}function fa(){return(fa=(0,e.Z)(function*(ke,W,se){yield Qe(W);const Wt=!1===ke?"provider-already-linked":"no-such-provider";oe(ws(W.providerData).has(se)===ke,W.auth,Wt)})).apply(this,arguments)}function Ma(ke,W){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,e.Z)(function*(ke,W,se=!1){const{auth:$e}=ke,Wt="reauthenticate";try{const an=yield Fe(ke,Wo($e,Wt,W,ke),se);oe(an.idToken,$e,"internal-error");const Hn=Se(an.idToken);oe(Hn,$e,"internal-error");const{sub:ri}=Hn;return oe(ke.uid===ri,$e,"user-mismatch"),mr._forOperation(ke,Wt,an)}catch(an){throw"auth/user-not-found"===an?.code&&E($e,"user-mismatch"),an}})).apply(this,arguments)}function Fr(ke,W){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,e.Z)(function*(ke,W,se=!1){const Wt=yield Wo(ke,"signIn",W),an=yield mr._fromIdTokenResponse(ke,"signIn",Wt);return se||(yield ke._updateCurrentUser(an.user)),an})).apply(this,arguments)}function cs(ke,W){return ra.apply(this,arguments)}function ra(){return(ra=(0,e.Z)(function*(ke,W){return Fr(Pn(ke),W)})).apply(this,arguments)}function Fs(ke,W){return ys.apply(this,arguments)}function ys(){return(ys=(0,e.Z)(function*(ke,W){const se=(0,t.m9)(ke);return yield es(!1,se,W.providerId),vo(se,W)})).apply(this,arguments)}function Aa(ke,W){return Br.apply(this,arguments)}function Br(){return(Br=(0,e.Z)(function*(ke,W){return Ma((0,t.m9)(ke),W)})).apply(this,arguments)}function _t(){return(_t=(0,e.Z)(function*(ke,W){return Be(ke,"POST","/v1/accounts:signInWithCustomToken",Ce(ke,W))})).apply(this,arguments)}function Ot(ke,W){return ft.apply(this,arguments)}function ft(){return ft=(0,e.Z)(function*(ke,W){const se=Pn(ke),$e=yield function kn(ke,W){return _t.apply(this,arguments)}(se,{token:W,returnSecureToken:!0}),Wt=yield mr._fromIdTokenResponse(se,"signIn",$e);return yield se._updateCurrentUser(Wt.user),Wt}),ft.apply(this,arguments)}class $t{constructor(W,se){this.factorId=W,this.uid=se.mfaEnrollmentId,this.enrollmentTime=new Date(se.enrolledAt).toUTCString(),this.displayName=se.displayName}static _fromServerResponse(W,se){return"phoneInfo"in se?On._fromServerResponse(W,se):"totpInfo"in se?Ti._fromServerResponse(W,se):E(W,"internal-error")}}class On extends $t{constructor(W){super("phone",W),this.phoneNumber=W.phoneInfo}static _fromServerResponse(W,se){return new On(se)}}class Ti extends $t{constructor(W){super("totp",W)}static _fromServerResponse(W,se){return new Ti(se)}}function Zi(ke,W,se){var $e;oe((null===($e=se.url)||void 0===$e?void 0:$e.length)>0,ke,"invalid-continue-uri"),oe(typeof se.dynamicLinkDomain>"u"||se.dynamicLinkDomain.length>0,ke,"invalid-dynamic-link-domain"),W.continueUrl=se.url,W.dynamicLinkDomain=se.dynamicLinkDomain,W.canHandleCodeInApp=se.handleCodeInApp,se.iOS&&(oe(se.iOS.bundleId.length>0,ke,"missing-ios-bundle-id"),W.iOSBundleId=se.iOS.bundleId),se.android&&(oe(se.android.packageName.length>0,ke,"missing-android-pkg-name"),W.androidInstallApp=se.android.installApp,W.androidMinimumVersionCode=se.android.minimumVersion,W.androidPackageName=se.android.packageName)}function Yo(ke,W,se){return ts.apply(this,arguments)}function ts(){return ts=(0,e.Z)(function*(ke,W,se){var $e;const Wt=Pn(ke),an={requestType:"PASSWORD_RESET",email:W,clientType:"CLIENT_TYPE_WEB"};if(null!==($e=Wt._getRecaptchaConfig())&&void 0!==$e&&$e.emailPasswordEnabled){const Hn=yield An(Wt,an,"getOobCode",!0);se&&Zi(Wt,Hn,se),yield co(Wt,Hn)}else se&&Zi(Wt,an,se),yield co(Wt,an).catch(function(){var Hn=(0,e.Z)(function*(ri){if("auth/missing-recaptcha-token"!==ri.code)return Promise.reject(ri);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ci=yield An(Wt,an,"getOobCode",!0);se&&Zi(Wt,Ci,se),yield co(Wt,Ci)}});return function(ri){return Hn.apply(this,arguments)}}())}),ts.apply(this,arguments)}function bs(ke,W,se){return si.apply(this,arguments)}function si(){return(si=(0,e.Z)(function*(ke,W,se){yield ki((0,t.m9)(ke),{oobCode:W,newPassword:se})})).apply(this,arguments)}function Os(ke,W){return qr.apply(this,arguments)}function qr(){return qr=(0,e.Z)(function*(ke,W){yield function _s(ke,W){return Yi.apply(this,arguments)}((0,t.m9)(ke),{oobCode:W})}),qr.apply(this,arguments)}function ds(ke,W){return cl.apply(this,arguments)}function cl(){return(cl=(0,e.Z)(function*(ke,W){const se=(0,t.m9)(ke),$e=yield ki(se,{oobCode:W}),Wt=$e.requestType;switch(oe(Wt,se,"internal-error"),Wt){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe($e.newEmail,se,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe($e.mfaInfo,se,"internal-error");default:oe($e.email,se,"internal-error")}let an=null;return $e.mfaInfo&&(an=$t._fromServerResponse(Pn(se),$e.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===$e.requestType?$e.newEmail:$e.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===$e.requestType?$e.email:$e.newEmail)||null,multiFactorInfo:an},operation:Wt}})).apply(this,arguments)}function ha(ke,W){return xa.apply(this,arguments)}function xa(){return(xa=(0,e.Z)(function*(ke,W){const{data:se}=yield ds((0,t.m9)(ke),W);return se.email})).apply(this,arguments)}function oa(ke,W,se){return us.apply(this,arguments)}function us(){return us=(0,e.Z)(function*(ke,W,se){var $e;const Wt=Pn(ke),an={returnSecureToken:!0,email:W,password:se,clientType:"CLIENT_TYPE_WEB"};let Hn;if(null!==($e=Wt._getRecaptchaConfig())&&void 0!==$e&&$e.emailPasswordEnabled){const xi=yield An(Wt,an,"signUpPassword");Hn=Ao(Wt,xi)}else Hn=Ao(Wt,an).catch(function(){var xi=(0,e.Z)(function*(Wi){if("auth/missing-recaptcha-token"===Wi.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Dr=yield An(Wt,an,"signUpPassword");return Ao(Wt,Dr)}return Promise.reject(Wi)});return function(Wi){return xi.apply(this,arguments)}}());const ri=yield Hn.catch(xi=>Promise.reject(xi)),Ci=yield mr._fromIdTokenResponse(Wt,"signIn",ri);return yield Wt._updateCurrentUser(Ci.user),Ci}),us.apply(this,arguments)}function dl(ke,W,se){return cs((0,t.m9)(ke),ja.credential(W,se))}function Ol(ke,W,se){return ma.apply(this,arguments)}function ma(){return ma=(0,e.Z)(function*(ke,W,se){var $e;const Wt=Pn(ke),an={requestType:"EMAIL_SIGNIN",email:W,clientType:"CLIENT_TYPE_WEB"};function Hn(ri,Ci){oe(Ci.handleCodeInApp,Wt,"argument-error"),Ci&&Zi(Wt,ri,Ci)}if(null!==($e=Wt._getRecaptchaConfig())&&void 0!==$e&&$e.emailPasswordEnabled){const ri=yield An(Wt,an,"getOobCode",!0);Hn(ri,se),yield As(Wt,ri)}else Hn(an,se),yield As(Wt,an).catch(function(){var ri=(0,e.Z)(function*(Ci){if("auth/missing-recaptcha-token"!==Ci.code)return Promise.reject(Ci);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const xi=yield An(Wt,an,"getOobCode",!0);Hn(xi,se),yield As(Wt,xi)}});return function(Ci){return ri.apply(this,arguments)}}())}),ma.apply(this,arguments)}function ul(ke,W){const se=as.parseLink(W);return"EMAIL_SIGNIN"===se?.operation}function Ia(ke,W,se){return wo.apply(this,arguments)}function wo(){return(wo=(0,e.Z)(function*(ke,W,se){const $e=(0,t.m9)(ke),Wt=ja.credentialWithLink(W,se||Y());return oe(Wt._tenantId===($e.tenantId||null),$e,"tenant-id-mismatch"),cs($e,Wt)})).apply(this,arguments)}function wa(){return(wa=(0,e.Z)(function*(ke,W){return de(ke,"POST","/v1/accounts:createAuthUri",Ce(ke,W))})).apply(this,arguments)}function gc(ke,W){return Va.apply(this,arguments)}function Va(){return Va=(0,e.Z)(function*(ke,W){const $e={identifier:W,continueUri:ae()?Y():"http://localhost"},{signinMethods:Wt}=yield function Zc(ke,W){return wa.apply(this,arguments)}((0,t.m9)(ke),$e);return Wt||[]}),Va.apply(this,arguments)}function Pl(ke,W){return pa.apply(this,arguments)}function pa(){return pa=(0,e.Z)(function*(ke,W){const se=(0,t.m9)(ke),Wt={requestType:"VERIFY_EMAIL",idToken:yield ke.getIdToken()};W&&Zi(se.auth,Wt,W);const{email:an}=yield function os(ke,W){return xr.apply(this,arguments)}(se.auth,Wt);an!==ke.email&&(yield ke.reload())}),pa.apply(this,arguments)}function fl(ke,W,se){return ga.apply(this,arguments)}function ga(){return ga=(0,e.Z)(function*(ke,W,se){const $e=(0,t.m9)(ke),an={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield ke.getIdToken(),newEmail:W};se&&Zi($e.auth,an,se);const{email:Hn}=yield function yi(ke,W){return $i.apply(this,arguments)}($e.auth,an);Hn!==ke.email&&(yield ke.reload())}),ga.apply(this,arguments)}function ml(){return(ml=(0,e.Z)(function*(ke,W){return de(ke,"POST","/v1/accounts:update",W)})).apply(this,arguments)}function _c(ke,W){return _a.apply(this,arguments)}function _a(){return _a=(0,e.Z)(function*(ke,{displayName:W,photoURL:se}){if(void 0===W&&void 0===se)return;const $e=(0,t.m9)(ke),an={idToken:yield $e.getIdToken(),displayName:W,photoUrl:se,returnSecureToken:!0},Hn=yield Fe($e,function hl(ke,W){return ml.apply(this,arguments)}($e.auth,an));$e.displayName=Hn.displayName||null,$e.photoURL=Hn.photoUrl||null;const ri=$e.providerData.find(({providerId:Ci})=>"password"===Ci);ri&&(ri.displayName=$e.displayName,ri.photoURL=$e.photoURL),yield $e._updateTokensIfNecessary(Hn)}),_a.apply(this,arguments)}function tl(ke,W){return Rl((0,t.m9)(ke),W,null)}function pl(ke,W){return Rl((0,t.m9)(ke),null,W)}function Rl(ke,W,se){return Es.apply(this,arguments)}function Es(){return(Es=(0,e.Z)(function*(ke,W,se){const{auth:$e}=ke,an={idToken:yield ke.getIdToken(),returnSecureToken:!0};W&&(an.email=W),se&&(an.password=se);const Hn=yield Fe(ke,Vo($e,an));yield ke._updateTokensIfNecessary(Hn,!0)})).apply(this,arguments)}class Ts{constructor(W,se,$e={}){this.isNewUser=W,this.providerId=se,this.profile=$e}}class nr extends Ts{constructor(W,se,$e,Wt){super(W,se,$e),this.username=Wt}}class Ka extends Ts{constructor(W,se){super(W,"facebook.com",se)}}class ze extends nr{constructor(W,se){super(W,"github.com",se,"string"==typeof se?.login?se?.login:null)}}class Yt extends Ts{constructor(W,se){super(W,"google.com",se)}}class mt extends nr{constructor(W,se,$e){super(W,"twitter.com",se,$e)}}function Vt(ke){const{user:W,_tokenResponse:se}=ke;return W.isAnonymous&&!se?{providerId:null,isNewUser:!1,profile:null}:function Oa(ke){var W,se;if(!ke)return null;const{providerId:$e}=ke,Wt=ke.rawUserInfo?JSON.parse(ke.rawUserInfo):{},an=ke.isNewUser||"identitytoolkit#SignupNewUserResponse"===ke.kind;if(!$e&&ke?.idToken){const Hn=null===(se=null===(W=Se(ke.idToken))||void 0===W?void 0:W.firebase)||void 0===se?void 0:se.sign_in_provider;if(Hn)return new Ts(an,"anonymous"!==Hn&&"custom"!==Hn?Hn:null)}if(!$e)return null;switch($e){case"facebook.com":return new Ka(an,Wt);case"github.com":return new ze(an,Wt);case"google.com":return new Yt(an,Wt);case"twitter.com":return new mt(an,Wt,ke.screenName||null);case"custom":case"anonymous":return new Ts(an,null);default:return new Ts(an,$e,Wt)}}(se)}class _r{constructor(W,se,$e){this.type=W,this.credential=se,this.auth=$e}static _fromIdtoken(W,se){return new _r("enroll",W,se)}static _fromMfaPendingCredential(W){return new _r("signin",W)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(W){var se,$e;if(W?.multiFactorSession){if(null!==(se=W.multiFactorSession)&&void 0!==se&&se.pendingCredential)return _r._fromMfaPendingCredential(W.multiFactorSession.pendingCredential);if(null!==($e=W.multiFactorSession)&&void 0!==$e&&$e.idToken)return _r._fromIdtoken(W.multiFactorSession.idToken)}return null}}class ns{constructor(W,se,$e){this.session=W,this.hints=se,this.signInResolver=$e}static _fromError(W,se){const $e=Pn(W),Wt=se.customData._serverResponse,an=(Wt.mfaInfo||[]).map(ri=>$t._fromServerResponse($e,ri));oe(Wt.mfaPendingCredential,$e,"internal-error");const Hn=_r._fromMfaPendingCredential(Wt.mfaPendingCredential);return new ns(Hn,an,function(){var ri=(0,e.Z)(function*(Ci){const xi=yield Ci._process($e,Hn);delete Wt.mfaInfo,delete Wt.mfaPendingCredential;const Wi=Object.assign(Object.assign({},Wt),{idToken:xi.idToken,refreshToken:xi.refreshToken});switch(se.operationType){case"signIn":const Dr=yield mr._fromIdTokenResponse($e,se.operationType,Wi);return yield $e._updateCurrentUser(Dr.user),Dr;case"reauthenticate":return oe(se.user,$e,"internal-error"),mr._forOperation(se.user,se.operationType,Wi);default:E($e,"internal-error")}});return function(Ci){return ri.apply(this,arguments)}}())}resolveSignIn(W){var se=this;return(0,e.Z)(function*(){return se.signInResolver(W)})()}}function Gi(ke,W){var se;const $e=(0,t.m9)(ke),Wt=W;return oe(W.customData.operationType,$e,"argument-error"),oe(null===(se=Wt.customData._serverResponse)||void 0===se?void 0:se.mfaPendingCredential,$e,"argument-error"),ns._fromError($e,Wt)}class va{constructor(W){this.user=W,this.enrolledFactors=[],W._onReload(se=>{se.mfaInfo&&(this.enrolledFactors=se.mfaInfo.map($e=>$t._fromServerResponse(W.auth,$e)))})}static _fromUser(W){return new va(W)}getSession(){var W=this;return(0,e.Z)(function*(){return _r._fromIdtoken(yield W.user.getIdToken(),W.user.auth)})()}enroll(W,se){var $e=this;return(0,e.Z)(function*(){const Wt=W,an=yield $e.getSession(),Hn=yield Fe($e.user,Wt._process($e.user.auth,an,se));return yield $e.user._updateTokensIfNecessary(Hn),$e.user.reload()})()}unenroll(W){var se=this;return(0,e.Z)(function*(){const $e="string"==typeof W?W:W.uid,Wt=yield se.user.getIdToken();try{const an=yield Fe(se.user,function sa(ke,W){return de(ke,"POST","/v2/accounts/mfaEnrollment:withdraw",Ce(ke,W))}(se.user.auth,{idToken:Wt,mfaEnrollmentId:$e}));se.enrolledFactors=se.enrolledFactors.filter(({uid:Hn})=>Hn!==$e),yield se.user._updateTokensIfNecessary(an),yield se.user.reload()}catch(an){throw an}})()}}const aa=new WeakMap;function Nl(ke){const W=(0,t.m9)(ke);return aa.has(W)||aa.set(W,va._fromUser(W)),aa.get(W)}const ya="__sak";class Wa{constructor(W,se){this.storageRetriever=W,this.type=se}_isAvailable(){try{return this.storage?(this.storage.setItem(ya,"1"),this.storage.removeItem(ya),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(W,se){return this.storage.setItem(W,JSON.stringify(se)),Promise.resolve()}_get(W){const se=this.storage.getItem(W);return Promise.resolve(se?JSON.parse(se):null)}_remove(W){return this.storage.removeItem(W),Promise.resolve()}get storage(){return this.storageRetriever()}}const gl=(()=>{class ke extends Wa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(se,$e)=>this.onStorageEvent(se,$e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ss(){const ke=(0,t.z$)();return bt(ke)||wn(ke)}()&&function pn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=vn(),this._shouldAllowMigration=!0}forAllChangedKeys(se){for(const $e of Object.keys(this.listeners)){const Wt=this.storage.getItem($e),an=this.localCache[$e];Wt!==an&&se($e,an,Wt)}}onStorageEvent(se,$e=!1){if(!se.key)return void this.forAllChangedKeys((ri,Ci,xi)=>{this.notifyListeners(ri,xi)});const Wt=se.key;if($e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ri=this.storage.getItem(Wt);if(se.newValue!==ri)null!==se.newValue?this.storage.setItem(Wt,se.newValue):this.storage.removeItem(Wt);else if(this.localCache[Wt]===se.newValue&&!$e)return}const an=()=>{const ri=this.storage.getItem(Wt);!$e&&this.localCache[Wt]===ri||this.notifyListeners(Wt,ri)},Hn=this.storage.getItem(Wt);!function ti(){return(0,t.w1)()&&10===document.documentMode}()||Hn===se.newValue||se.newValue===se.oldValue?an():setTimeout(an,10)}notifyListeners(se,$e){this.localCache[se]=$e;const Wt=this.listeners[se];if(Wt)for(const an of Array.from(Wt))an($e&&JSON.parse($e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((se,$e,Wt)=>{this.onStorageEvent(new StorageEvent("storage",{key:se,oldValue:$e,newValue:Wt}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(se,$e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[se]||(this.listeners[se]=new Set,this.localCache[se]=this.storage.getItem(se)),this.listeners[se].add($e)}_removeListener(se,$e){this.listeners[se]&&(this.listeners[se].delete($e),0===this.listeners[se].size&&delete this.listeners[se]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(se,$e){var Wt=()=>super._set,an=this;return(0,e.Z)(function*(){yield Wt().call(an,se,$e),an.localCache[se]=JSON.stringify($e)})()}_get(se){var $e=()=>super._get,Wt=this;return(0,e.Z)(function*(){const an=yield $e().call(Wt,se);return Wt.localCache[se]=JSON.stringify(an),an})()}_remove(se){var $e=()=>super._remove,Wt=this;return(0,e.Z)(function*(){yield $e().call(Wt,se),delete Wt.localCache[se]})()}}return ke.type="LOCAL",ke})(),Go=(()=>{class ke extends Wa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(se,$e){}_removeListener(se,$e){}}return ke.type="SESSION",ke})();let nl=(()=>{class ke{constructor(se){this.eventTarget=se,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(se){const $e=this.receivers.find(an=>an.isListeningto(se));if($e)return $e;const Wt=new ke(se);return this.receivers.push(Wt),Wt}isListeningto(se){return this.eventTarget===se}handleEvent(se){var $e=this;return(0,e.Z)(function*(){const Wt=se,{eventId:an,eventType:Hn,data:ri}=Wt.data,Ci=$e.handlersMap[Hn];if(!Ci?.size)return;Wt.ports[0].postMessage({status:"ack",eventId:an,eventType:Hn});const xi=Array.from(Ci).map(function(){var Dr=(0,e.Z)(function*(Ps){return Ps(Wt.origin,ri)});return function(Ps){return Dr.apply(this,arguments)}}()),Wi=yield function zc(ke){return Promise.all(ke.map(function(){var W=(0,e.Z)(function*(se){try{return{fulfilled:!0,value:yield se}}catch($e){return{fulfilled:!1,reason:$e}}});return function(se){return W.apply(this,arguments)}}()))}(xi);Wt.ports[0].postMessage({status:"done",eventId:an,eventType:Hn,response:Wi})})()}_subscribe(se,$e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[se]||(this.handlersMap[se]=new Set),this.handlersMap[se].add($e)}_unsubscribe(se,$e){this.handlersMap[se]&&$e&&this.handlersMap[se].delete($e),(!$e||0===this.handlersMap[se].size)&&delete this.handlersMap[se],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return ke.receivers=[],ke})();function io(ke="",W=10){let se="";for(let $e=0;$e<W;$e++)se+=Math.floor(10*Math.random());return ke+se}class Ya{constructor(W){this.target=W,this.handlers=new Set}removeMessageHandler(W){W.messageChannel&&(W.messageChannel.port1.removeEventListener("message",W.onMessage),W.messageChannel.port1.close()),this.handlers.delete(W)}_send(W,se,$e=50){var Wt=this;return(0,e.Z)(function*(){const an=typeof MessageChannel<"u"?new MessageChannel:null;if(!an)throw new Error("connection_unavailable");let Hn,ri;return new Promise((Ci,xi)=>{const Wi=io("",20);an.port1.start();const Dr=setTimeout(()=>{xi(new Error("unsupported_event"))},$e);ri={messageChannel:an,onMessage(Ps){const dc=Ps;if(dc.data.eventId===Wi)switch(dc.data.status){case"ack":clearTimeout(Dr),Hn=setTimeout(()=>{xi(new Error("timeout"))},3e3);break;case"done":clearTimeout(Hn),Ci(dc.data.response);break;default:clearTimeout(Dr),clearTimeout(Hn),xi(new Error("invalid_response"))}}},Wt.handlers.add(ri),an.port1.addEventListener("message",ri.onMessage),Wt.target.postMessage({eventType:W,eventId:Wi,data:se},[an.port2])}).finally(()=>{ri&&Wt.removeMessageHandler(ri)})})()}}function Oo(){return window}function ba(){return typeof Oo().WorkerGlobalScope<"u"&&"function"==typeof Oo().importScripts}function Zo(){return(Zo=(0,e.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const go="firebaseLocalStorageDb",Bo="firebaseLocalStorage",il="fbase_key";class Ea{constructor(W){this.request=W}toPromise(){return new Promise((W,se)=>{this.request.addEventListener("success",()=>{W(this.request.result)}),this.request.addEventListener("error",()=>{se(this.request.error)})})}}function ca(ke,W){return ke.transaction([Bo],W?"readwrite":"readonly").objectStore(Bo)}function vl(){const ke=indexedDB.open(go,1);return new Promise((W,se)=>{ke.addEventListener("error",()=>{se(ke.error)}),ke.addEventListener("upgradeneeded",()=>{const $e=ke.result;try{$e.createObjectStore(Bo,{keyPath:il})}catch(Wt){se(Wt)}}),ke.addEventListener("success",(0,e.Z)(function*(){const $e=ke.result;$e.objectStoreNames.contains(Bo)?W($e):($e.close(),yield function Bs(){const ke=indexedDB.deleteDatabase(go);return new Ea(ke).toPromise()}(),W(yield vl()))}))})}function bc(ke,W,se){return yl.apply(this,arguments)}function yl(){return(yl=(0,e.Z)(function*(ke,W,se){const $e=ca(ke,!0).put({[il]:W,value:se});return new Ea($e).toPromise()})).apply(this,arguments)}function $s(){return($s=(0,e.Z)(function*(ke,W){const se=ca(ke,!1).get(W),$e=yield new Ea(se).toPromise();return void 0===$e?null:$e.value})).apply(this,arguments)}function bl(ke,W){const se=ca(ke,!0).delete(W);return new Ea(se).toPromise()}const Po=(()=>{class ke{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var se=this;return(0,e.Z)(function*(){return se.db||(se.db=yield vl()),se.db})()}_withRetries(se){var $e=this;return(0,e.Z)(function*(){let Wt=0;for(;;)try{const an=yield $e._openDb();return yield se(an)}catch(an){if(Wt++>3)throw an;$e.db&&($e.db.close(),$e.db=void 0)}})()}initializeServiceWorkerMessaging(){var se=this;return(0,e.Z)(function*(){return ba()?se.initializeReceiver():se.initializeSender()})()}initializeReceiver(){var se=this;return(0,e.Z)(function*(){se.receiver=nl._getInstance(function _l(){return ba()?self:null}()),se.receiver._subscribe("keyChanged",function(){var $e=(0,e.Z)(function*(Wt,an){return{keyProcessed:(yield se._poll()).includes(an.key)}});return function(Wt,an){return $e.apply(this,arguments)}}()),se.receiver._subscribe("ping",function(){var $e=(0,e.Z)(function*(Wt,an){return["keyChanged"]});return function(Wt,an){return $e.apply(this,arguments)}}())})()}initializeSender(){var se=this;return(0,e.Z)(function*(){var $e,Wt;if(se.activeServiceWorker=yield function fs(){return Zo.apply(this,arguments)}(),!se.activeServiceWorker)return;se.sender=new Ya(se.activeServiceWorker);const an=yield se.sender._send("ping",{},800);an&&null!==($e=an[0])&&void 0!==$e&&$e.fulfilled&&null!==(Wt=an[0])&&void 0!==Wt&&Wt.value.includes("keyChanged")&&(se.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(se){var $e=this;return(0,e.Z)(function*(){if($e.sender&&$e.activeServiceWorker&&function la(){var ke;return(null===(ke=navigator?.serviceWorker)||void 0===ke?void 0:ke.controller)||null}()===$e.activeServiceWorker)try{yield $e.sender._send("keyChanged",{key:se},$e.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,e.Z)(function*(){try{if(!indexedDB)return!1;const se=yield vl();return yield bc(se,ya,"1"),yield bl(se,ya),!0}catch{}return!1})()}_withPendingWrite(se){var $e=this;return(0,e.Z)(function*(){$e.pendingWrites++;try{yield se()}finally{$e.pendingWrites--}})()}_set(se,$e){var Wt=this;return(0,e.Z)(function*(){return Wt._withPendingWrite((0,e.Z)(function*(){return yield Wt._withRetries(an=>bc(an,se,$e)),Wt.localCache[se]=$e,Wt.notifyServiceWorker(se)}))})()}_get(se){var $e=this;return(0,e.Z)(function*(){const Wt=yield $e._withRetries(an=>function $c(ke,W){return $s.apply(this,arguments)}(an,se));return $e.localCache[se]=Wt,Wt})()}_remove(se){var $e=this;return(0,e.Z)(function*(){return $e._withPendingWrite((0,e.Z)(function*(){return yield $e._withRetries(Wt=>bl(Wt,se)),delete $e.localCache[se],$e.notifyServiceWorker(se)}))})()}_poll(){var se=this;return(0,e.Z)(function*(){const $e=yield se._withRetries(Hn=>{const ri=ca(Hn,!1).getAll();return new Ea(ri).toPromise()});if(!$e)return[];if(0!==se.pendingWrites)return[];const Wt=[],an=new Set;for(const{fbase_key:Hn,value:ri}of $e)an.add(Hn),JSON.stringify(se.localCache[Hn])!==JSON.stringify(ri)&&(se.notifyListeners(Hn,ri),Wt.push(Hn));for(const Hn of Object.keys(se.localCache))se.localCache[Hn]&&!an.has(Hn)&&(se.notifyListeners(Hn,null),Wt.push(Hn));return Wt})()}notifyListeners(se,$e){this.localCache[se]=$e;const Wt=this.listeners[se];if(Wt)for(const an of Array.from(Wt))an($e)}startPolling(){var se=this;this.stopPolling(),this.pollTimer=setInterval((0,e.Z)(function*(){return se._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(se,$e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[se]||(this.listeners[se]=new Set,this._get(se)),this.listeners[se].add($e)}_removeListener(se,$e){this.listeners[se]&&(this.listeners[se].delete($e),0===this.listeners[se].size&&delete this.listeners[se]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return ke.type="LOCAL",ke})(),xe=1e12;class nt{constructor(W){this.auth=W,this.counter=xe,this._widgets=new Map}render(W,se){const $e=this.counter;return this._widgets.set($e,new Gt(W,this.auth.name,se||{})),this.counter++,$e}reset(W){var se;const $e=W||xe;null===(se=this._widgets.get($e))||void 0===se||se.delete(),this._widgets.delete($e)}getResponse(W){var se;return(null===(se=this._widgets.get(W||xe))||void 0===se?void 0:se.getResponse())||""}execute(W){var se=this;return(0,e.Z)(function*(){var $e;return null===($e=se._widgets.get(W||xe))||void 0===$e||$e.execute(),""})()}}class Gt{constructor(W,se,$e){this.params=$e,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Wt="string"==typeof W?document.getElementById(W):W;oe(Wt,"argument-error",{appName:se}),this.container=Wt,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function sn(ke){const W=[],se="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let $e=0;$e<ke;$e++)W.push(se.charAt(Math.floor(62*Math.random())));return W.join("")}(50);const{callback:W,"expired-callback":se}=this.params;if(W)try{W(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,se)try{se()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const dn=xn("rcb"),Kn=new Te(3e4,6e4);class Oi{constructor(){var W;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(W=Oo().grecaptcha)||void 0===W||!W.render)}load(W,se=""){return oe(function Ri(ke){return ke.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(ke)}(se),W,"argument-error"),this.shouldResolveImmediately(se)&&Tn(Oo().grecaptcha)?Promise.resolve(Oo().grecaptcha):new Promise(($e,Wt)=>{const an=Oo().setTimeout(()=>{Wt(L(W,"network-request-failed"))},Kn.get());Oo()[dn]=()=>{Oo().clearTimeout(an),delete Oo()[dn];const ri=Oo().grecaptcha;if(!ri||!Tn(ri))return void Wt(L(W,"internal-error"));const Ci=ri.render;ri.render=(xi,Wi)=>{const Dr=Ci(xi,Wi);return this.counter++,Dr},this.hostLanguage=se,$e(ri)},Nt(`https://www.google.com/recaptcha/api.js??${(0,t.xO)({onload:dn,render:"explicit",hl:se})}`).catch(()=>{clearTimeout(an),Wt(L(W,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(W){var se;return!(null===(se=Oo().grecaptcha)||void 0===se||!se.render)&&(W===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Er{load(W){return(0,e.Z)(function*(){return new nt(W)})()}clearedOneInstance(){}}const Jr="recaptcha",ro={theme:"light",type:"image"};class zo{constructor(W,se=Object.assign({},ro),$e){this.parameters=se,this.type=Jr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pn($e),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Wt="string"==typeof W?document.getElementById(W):W;oe(Wt,this.auth,"argument-error"),this.container=Wt,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Er:new Oi,this.validateStartingState()}verify(){var W=this;return(0,e.Z)(function*(){W.assertNotDestroyed();const se=yield W.render(),$e=W.getAssertedRecaptcha();return $e.getResponse(se)||new Promise(an=>{const Hn=ri=>{ri&&(W.tokenChangeListeners.delete(Hn),an(ri))};W.tokenChangeListeners.add(Hn),W.isInvisible&&$e.execute(se)})})()}render(){try{this.assertNotDestroyed()}catch(W){return Promise.reject(W)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(W=>{throw this.renderPromise=null,W})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(W=>{this.container.removeChild(W)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(W){return se=>{if(this.tokenChangeListeners.forEach($e=>$e(se)),"function"==typeof W)W(se);else if("string"==typeof W){const $e=Oo()[W];"function"==typeof $e&&$e(se)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var W=this;return(0,e.Z)(function*(){if(yield W.init(),!W.widgetId){let se=W.container;if(!W.isInvisible){const $e=document.createElement("div");se.appendChild($e),se=$e}W.widgetId=W.getAssertedRecaptcha().render(se,W.parameters)}return W.widgetId})()}init(){var W=this;return(0,e.Z)(function*(){oe(ae()&&!ba(),W.auth,"internal-error"),yield function hs(){let ke=null;return new Promise(W=>{"complete"!==document.readyState?(ke=()=>W(),window.addEventListener("load",ke)):W()}).catch(W=>{throw ke&&window.removeEventListener("load",ke),W})}(),W.recaptcha=yield W._recaptchaLoader.load(W.auth,W.auth.languageCode||void 0);const se=yield function mn(ke){return _n.apply(this,arguments)}(W.auth);oe(se,W.auth,"internal-error"),W.parameters.sitekey=se})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class is{constructor(W,se){this.verificationId=W,this.onConfirmation=se}confirm(W){const se=Xr._fromVerification(this.verificationId,W);return this.onConfirmation(se)}}function Za(ke,W,se){return El.apply(this,arguments)}function El(){return(El=(0,e.Z)(function*(ke,W,se){const $e=Pn(ke),Wt=yield wr($e,W,(0,t.m9)(se));return new is(Wt,an=>cs($e,an))})).apply(this,arguments)}function da(ke,W,se){return ms.apply(this,arguments)}function ms(){return(ms=(0,e.Z)(function*(ke,W,se){const $e=(0,t.m9)(ke);yield es(!1,$e,"phone");const Wt=yield wr($e.auth,W,(0,t.m9)(se));return new is(Wt,an=>Fs($e,an))})).apply(this,arguments)}function Tl(ke,W,se){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,e.Z)(function*(ke,W,se){const $e=(0,t.m9)(ke),Wt=yield wr($e.auth,W,(0,t.m9)(se));return new is(Wt,an=>Aa($e,an))})).apply(this,arguments)}function wr(ke,W,se){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,e.Z)(function*(ke,W,se){var $e;const Wt=yield se.verify();try{let an;if(oe("string"==typeof Wt,ke,"argument-error"),oe(se.type===Jr,ke,"argument-error"),an="string"==typeof W?{phoneNumber:W}:W,"session"in an){const Hn=an.session;if("phoneNumber"in an)return oe("enroll"===Hn.type,ke,"internal-error"),(yield function $r(ke,W){return de(ke,"POST","/v2/accounts/mfaEnrollment:start",Ce(ke,W))}(ke,{idToken:Hn.credential,phoneEnrollmentInfo:{phoneNumber:an.phoneNumber,recaptchaToken:Wt}})).phoneSessionInfo.sessionInfo;{oe("signin"===Hn.type,ke,"internal-error");const ri=(null===($e=an.multiFactorHint)||void 0===$e?void 0:$e.uid)||an.multiFactorUid;return oe(ri,ke,"missing-multi-factor-info"),(yield function Pa(ke,W){return de(ke,"POST","/v2/accounts/mfaSignIn:start",Ce(ke,W))}(ke,{mfaPendingCredential:Hn.credential,mfaEnrollmentId:ri,phoneSignInInfo:{recaptchaToken:Wt}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Hn}=yield function Ui(ke,W){return Ji.apply(this,arguments)}(ke,{phoneNumber:an.phoneNumber,recaptchaToken:Wt});return Hn}}finally{se._reset()}}),Sc.apply(this,arguments)}function Dc(ke,W){return kl.apply(this,arguments)}function kl(){return(kl=(0,e.Z)(function*(ke,W){yield vo((0,t.m9)(ke),W)})).apply(this,arguments)}let $o=(()=>{class ke{constructor(se){this.providerId=ke.PROVIDER_ID,this.auth=Pn(se)}verifyPhoneNumber(se,$e){return wr(this.auth,se,(0,t.m9)($e))}static credential(se,$e){return Xr._fromVerification(se,$e)}static credentialFromResult(se){return ke.credentialFromTaggedObject(se)}static credentialFromError(se){return ke.credentialFromTaggedObject(se.customData||{})}static credentialFromTaggedObject({_tokenResponse:se}){if(!se)return null;const{phoneNumber:$e,temporaryProof:Wt}=se;return $e&&Wt?Xr._fromTokenResponse($e,Wt):null}}return ke.PROVIDER_ID="phone",ke.PHONE_SIGN_IN_METHOD="phone",ke})();function Ra(ke,W){return W?vt(W):(oe(ke._popupRedirectResolver,ke,"argument-error"),ke._popupRedirectResolver)}class Ql extends Gr{constructor(W){super("custom","custom"),this.params=W}_getIdTokenResponse(W){return Dn(W,this._buildIdpRequest())}_linkToIdToken(W,se){return Dn(W,this._buildIdpRequest(se))}_getReauthenticationResolver(W){return Dn(W,this._buildIdpRequest())}_buildIdpRequest(W){const se={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return W&&(se.idToken=W),se}}function Ds(ke){return Fr(ke.auth,new Ql(ke),ke.bypassAuthState)}function Xl(ke){const{auth:W,user:se}=ke;return oe(se,W,"internal-error"),Ma(se,new Ql(ke),ke.bypassAuthState)}function Cl(ke){return za.apply(this,arguments)}function za(){return(za=(0,e.Z)(function*(ke){const{auth:W,user:se}=ke;return oe(se,W,"internal-error"),vo(se,new Ql(ke),ke.bypassAuthState)})).apply(this,arguments)}class ql{constructor(W,se,$e,Wt,an=!1){this.auth=W,this.resolver=$e,this.user=Wt,this.bypassAuthState=an,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(se)?se:[se]}execute(){var W=this;return new Promise(function(){var se=(0,e.Z)(function*($e,Wt){W.pendingPromise={resolve:$e,reject:Wt};try{W.eventManager=yield W.resolver._initialize(W.auth),yield W.onExecution(),W.eventManager.registerConsumer(W)}catch(an){W.reject(an)}});return function($e,Wt){return se.apply(this,arguments)}}())}onAuthEvent(W){var se=this;return(0,e.Z)(function*(){const{urlResponse:$e,sessionId:Wt,postBody:an,tenantId:Hn,error:ri,type:Ci}=W;if(ri)return void se.reject(ri);const xi={auth:se.auth,requestUri:$e,sessionId:Wt,tenantId:Hn||void 0,postBody:an||void 0,user:se.user,bypassAuthState:se.bypassAuthState};try{se.resolve(yield se.getIdpTask(Ci)(xi))}catch(Wi){se.reject(Wi)}})()}onError(W){this.reject(W)}getIdpTask(W){switch(W){case"signInViaPopup":case"signInViaRedirect":return Ds;case"linkViaPopup":case"linkViaRedirect":return Cl;case"reauthViaPopup":case"reauthViaRedirect":return Xl;default:E(this.auth,"internal-error")}}resolve(W){Re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(W),this.unregisterAndCleanUp()}reject(W){Re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(W),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ec=new Te(2e3,1e4);function Us(ke,W,se){return Na.apply(this,arguments)}function Na(){return(Na=(0,e.Z)(function*(ke,W,se){const $e=Pn(ke);B(ke,W,qo);const Wt=Ra($e,se);return new rl($e,"signInViaPopup",W,Wt).executeNotNull()})).apply(this,arguments)}function ld(ke,W,se){return ps.apply(this,arguments)}function ps(){return(ps=(0,e.Z)(function*(ke,W,se){const $e=(0,t.m9)(ke);B($e.auth,W,qo);const Wt=Ra($e.auth,se);return new rl($e.auth,"reauthViaPopup",W,Wt,$e).executeNotNull()})).apply(this,arguments)}function Mc(ke,W,se){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,e.Z)(function*(ke,W,se){const $e=(0,t.m9)(ke);B($e.auth,W,qo);const Wt=Ra($e.auth,se);return new rl($e.auth,"linkViaPopup",W,Wt,$e).executeNotNull()})).apply(this,arguments)}let rl=(()=>{class ke extends ql{constructor(se,$e,Wt,an,Hn){super(se,$e,an,Hn),this.provider=Wt,this.authWindow=null,this.pollId=null,ke.currentPopupAction&&ke.currentPopupAction.cancel(),ke.currentPopupAction=this}executeNotNull(){var se=this;return(0,e.Z)(function*(){const $e=yield se.execute();return oe($e,se.auth,"internal-error"),$e})()}onExecution(){var se=this;return(0,e.Z)(function*(){Re(1===se.filter.length,"Popup operations only handle one event");const $e=io();se.authWindow=yield se.resolver._openPopup(se.auth,se.provider,se.filter[0],$e),se.authWindow.associatedEvent=$e,se.resolver._originValidation(se.auth).catch(Wt=>{se.reject(Wt)}),se.resolver._isIframeWebStorageSupported(se.auth,Wt=>{Wt||se.reject(L(se.auth,"web-storage-unsupported"))}),se.pollUserCancellation()})()}get eventId(){var se;return(null===(se=this.authWindow)||void 0===se?void 0:se.associatedEvent)||null}cancel(){this.reject(L(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ke.currentPopupAction=null}pollUserCancellation(){const se=()=>{var $e,Wt;this.pollId=null!==(Wt=null===($e=this.authWindow)||void 0===$e?void 0:$e.window)&&void 0!==Wt&&Wt.closed?window.setTimeout(()=>{this.pollId=null,this.reject(L(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(se,ec.get())};se()}}return ke.currentPopupAction=null,ke})();const Jc="pendingRedirect",Js=new Map;class tc extends ql{constructor(W,se,$e=!1){super(W,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],se,void 0,$e),this.eventId=null}execute(){var W=()=>super.execute,se=this;return(0,e.Z)(function*(){let $e=Js.get(se.auth._key());if(!$e){try{const an=(yield function vd(ke,W){return Bl.apply(this,arguments)}(se.resolver,se.auth))?yield W().call(se):null;$e=()=>Promise.resolve(an)}catch(Wt){$e=()=>Promise.reject(Wt)}Js.set(se.auth._key(),$e)}return se.bypassAuthState||Js.set(se.auth._key(),()=>Promise.resolve(null)),$e()})()}onAuthEvent(W){var se=()=>super.onAuthEvent,$e=this;return(0,e.Z)(function*(){if("signInViaRedirect"===W.type)return se().call($e,W);if("unknown"!==W.type){if(W.eventId){const Wt=yield $e.auth._redirectUserForId(W.eventId);if(Wt)return $e.user=Wt,se().call($e,W);$e.resolve(null)}}else $e.resolve(null)})()}onExecution(){return(0,e.Z)(function*(){})()}cleanUp(){}}function Bl(){return(Bl=(0,e.Z)(function*(ke,W){const se=La(W),$e=Qs(ke);if(!(yield $e._isAvailable()))return!1;const Wt="true"===(yield $e._get(se));return yield $e._remove(se),Wt})).apply(this,arguments)}function nc(ke,W){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,e.Z)(function*(ke,W){return Qs(ke)._set(La(W),"true")})).apply(this,arguments)}function Bc(){Js.clear()}function Qc(ke,W){Js.set(ke._key(),W)}function Qs(ke){return vt(ke._redirectPersistence)}function La(ke){return Ze(Jc,ke.config.apiKey,ke.name)}function Sl(ke,W,se){return function Dl(ke,W,se){return Ul.apply(this,arguments)}(ke,W,se)}function Ul(){return(Ul=(0,e.Z)(function*(ke,W,se){const $e=Pn(ke);B(ke,W,qo),yield $e._initializationPromise;const Wt=Ra($e,se);return yield nc(Wt,$e),Wt._openRedirect($e,W,"signInViaRedirect")})).apply(this,arguments)}function Gl(ke,W,se){return function Uc(ke,W,se){return xc.apply(this,arguments)}(ke,W,se)}function xc(){return(xc=(0,e.Z)(function*(ke,W,se){const $e=(0,t.m9)(ke);B($e.auth,W,qo),yield $e.auth._initializationPromise;const Wt=Ra($e.auth,se);yield nc(Wt,$e.auth);const an=yield rc($e);return Wt._openRedirect($e.auth,W,"reauthViaRedirect",an)})).apply(this,arguments)}function Ic(ke,W,se){return function Xc(ke,W,se){return qc.apply(this,arguments)}(ke,W,se)}function qc(){return(qc=(0,e.Z)(function*(ke,W,se){const $e=(0,t.m9)(ke);B($e.auth,W,qo),yield $e.auth._initializationPromise;const Wt=Ra($e.auth,se);yield es(!1,$e,W.providerId),yield nc(Wt,$e.auth);const an=yield rc($e);return Wt._openRedirect($e.auth,W,"linkViaRedirect",an)})).apply(this,arguments)}function ic(ke,W){return $a.apply(this,arguments)}function $a(){return($a=(0,e.Z)(function*(ke,W){return yield Pn(ke)._initializationPromise,ka(ke,W,!1)})).apply(this,arguments)}function ka(ke,W){return ol.apply(this,arguments)}function ol(){return(ol=(0,e.Z)(function*(ke,W,se=!1){const $e=Pn(ke),Wt=Ra($e,W),Hn=yield new tc($e,Wt,se).execute();return Hn&&!se&&(delete Hn.user._redirectEventId,yield $e._persistUserIfCurrent(Hn.user),yield $e._setRedirectUser(null,W)),Hn})).apply(this,arguments)}function rc(ke){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,e.Z)(function*(ke){const W=io(`${ke.uid}:::`);return ke._redirectEventId=W,yield ke.auth._setRedirectUser(ke),yield ke.auth._persistUserIfCurrent(ke),W})).apply(this,arguments)}class wc{constructor(W){this.auth=W,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(W){this.consumers.add(W),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,W)&&(this.sendToConsumer(this.queuedRedirectEvent,W),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(W){this.consumers.delete(W)}onEvent(W){if(this.hasEventBeenHandled(W))return!1;let se=!1;return this.consumers.forEach($e=>{this.isEventForConsumer(W,$e)&&(se=!0,this.sendToConsumer(W,$e),this.saveEventToCache(W))}),this.hasHandledPotentialRedirect||!function Gs(ke){switch(ke.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gc(ke);default:return!1}}(W)||(this.hasHandledPotentialRedirect=!0,se||(this.queuedRedirectEvent=W,se=!0)),se}sendToConsumer(W,se){var $e;if(W.error&&!Gc(W)){const Wt=(null===($e=W.error.code)||void 0===$e?void 0:$e.split("auth/")[1])||"internal-error";se.onError(L(this.auth,Wt))}else se.onAuthEvent(W)}isEventForConsumer(W,se){const $e=null===se.eventId||!!W.eventId&&W.eventId===se.eventId;return se.filter.includes(W.type)&&$e}hasEventBeenHandled(W){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xs(W))}saveEventToCache(W){this.cachedEventUids.add(Xs(W)),this.lastProcessedEventTime=Date.now()}}function Xs(ke){return[ke.type,ke.eventId,ke.sessionId,ke.tenantId].filter(W=>W).join("-")}function Gc({type:ke,error:W}){return"unknown"===ke&&"auth/no-auth-event"===W?.code}function Hc(ke){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,e.Z)(function*(ke,W={}){return de(ke,"GET","/v1/projects",W)})).apply(this,arguments)}const Nd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iu=/^https?/;function oc(){return(oc=(0,e.Z)(function*(ke){if(ke.config.emulator)return;const{authorizedDomains:W}=yield Hc(ke);for(const se of W)try{if(sc(se))return}catch{}E(ke,"unauthorized-domain")})).apply(this,arguments)}function sc(ke){const W=Y(),{protocol:se,hostname:$e}=new URL(W);if(ke.startsWith("chrome-extension://")){const Hn=new URL(ke);return""===Hn.hostname&&""===$e?"chrome-extension:"===se&&ke.replace("chrome-extension://","")===W.replace("chrome-extension://",""):"chrome-extension:"===se&&Hn.hostname===$e}if(!iu.test(se))return!1;if(Nd.test(ke))return $e===ke;const Wt=ke.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Wt+"|"+Wt+")$","i").test($e)}const Wr=new Te(3e4,6e4);function yo(){const ke=Oo().___jsl;if(ke?.H)for(const W of Object.keys(ke.H))if(ke.H[W].r=ke.H[W].r||[],ke.H[W].L=ke.H[W].L||[],ke.H[W].r=[...ke.H[W].L],ke.CP)for(let se=0;se<ke.CP.length;se++)ke.CP[se]=null}let qs=null;const Ta=new Te(5e3,15e3),ed="__/auth/iframe",ac="emulator/auth/iframe",Al={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jc(ke){const W=ke.config;oe(W.authDomain,ke,"auth-domain-config-required");const se=W.emulator?be(W,ac):`https://${ke.config.authDomain}/${ed}`,$e={apiKey:W.apiKey,appName:ke.name,v:v.SDK_VERSION},Wt=lc.get(ke.config.apiHost);Wt&&($e.eid=Wt);const an=ke._getFrameworks();return an.length&&($e.fw=an.join(",")),`${se}?${(0,t.xO)($e).slice(1)}`}function Ye(){return Ye=(0,e.Z)(function*(ke){const W=yield function Hs(ke){return qs=qs||function Ml(ke){return new Promise((W,se)=>{var $e,Wt,an;function Hn(){yo(),gapi.load("gapi.iframes",{callback:()=>{W(gapi.iframes.getContext())},ontimeout:()=>{yo(),se(L(ke,"network-request-failed"))},timeout:Wr.get()})}if(null!==(Wt=null===($e=Oo().gapi)||void 0===$e?void 0:$e.iframes)&&void 0!==Wt&&Wt.Iframe)W(gapi.iframes.getContext());else{if(null===(an=Oo().gapi)||void 0===an||!an.load){const ri=xn("iframefcb");return Oo()[ri]=()=>{gapi.load?Hn():se(L(ke,"network-request-failed"))},Nt(`https://apis.google.com/js/api.js?onload=${ri}`).catch(Ci=>se(Ci))}Hn()}}).catch(W=>{throw qs=null,W})}(ke),qs}(ke),se=Oo().gapi;return oe(se,ke,"internal-error"),W.open({where:document.body,url:jc(ke),messageHandlersFilter:se.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Al,dontclear:!0},$e=>new Promise(function(){var Wt=(0,e.Z)(function*(an,Hn){yield $e.restyle({setHideOnLeave:!1});const ri=L(ke,"network-request-failed"),Ci=Oo().setTimeout(()=>{Hn(ri)},Ta.get());function xi(){Oo().clearTimeout(Ci),an($e)}$e.ping(xi).then(xi,()=>{Hn(ri)})});return function(an,Hn){return Wt.apply(this,arguments)}}()))}),Ye.apply(this,arguments)}const ut={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qn{constructor(W){this.window=W,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ni="__/auth/handler",Qi="emulator/auth/handler",cr=encodeURIComponent("fac");function gs(ke,W,se,$e,Wt,an){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,e.Z)(function*(ke,W,se,$e,Wt,an){oe(ke.config.authDomain,ke,"auth-domain-config-required"),oe(ke.config.apiKey,ke,"invalid-api-key");const Hn={apiKey:ke.config.apiKey,appName:ke.name,authType:se,redirectUrl:$e,v:v.SDK_VERSION,eventId:Wt};if(W instanceof qo){W.setDefaultLanguage(ke.languageCode),Hn.providerId=W.providerId||"",(0,t.xb)(W.getCustomParameters())||(Hn.customParameters=JSON.stringify(W.getCustomParameters()));for(const[Wi,Dr]of Object.entries(an||{}))Hn[Wi]=Dr}if(W instanceof Ws){const Wi=W.getScopes().filter(Dr=>""!==Dr);Wi.length>0&&(Hn.scopes=Wi.join(","))}ke.tenantId&&(Hn.tid=ke.tenantId);const ri=Hn;for(const Wi of Object.keys(ri))void 0===ri[Wi]&&delete ri[Wi];const Ci=yield ke._getAppCheckToken(),xi=Ci?`#${cr}=${encodeURIComponent(Ci)}`:"";return`${function Oc({config:ke}){return ke.emulator?be(ke,Qi):`https://${ke.authDomain}/${Ni}`}(ke)}?${(0,t.xO)(ri).slice(1)}${xi}`})).apply(this,arguments)}const sl="webStorageSupport",bo=class cc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Go,this._completeRedirectFn=ka,this._overrideRedirectResult=Qc}_openPopup(W,se,$e,Wt){var an=this;return(0,e.Z)(function*(){var Hn;Re(null===(Hn=an.eventManagers[W._key()])||void 0===Hn?void 0:Hn.manager,"_initialize() not called before _openPopup()");const ri=yield gs(W,se,$e,Y(),Wt);return function Si(ke,W,se,$e=500,Wt=600){const an=Math.max((window.screen.availHeight-Wt)/2,0).toString(),Hn=Math.max((window.screen.availWidth-$e)/2,0).toString();let ri="";const Ci=Object.assign(Object.assign({},ut),{width:$e.toString(),height:Wt.toString(),top:an,left:Hn}),xi=(0,t.z$)().toLowerCase();se&&(ri=At(xi)?"_blank":se),St(xi)&&(W=W||"http://localhost",Ci.scrollbars="yes");const Wi=Object.entries(Ci).reduce((Ps,[dc,V])=>`${Ps}${dc}=${V},`,"");if(function $n(ke=(0,t.z$)()){var W;return wn(ke)&&!(null===(W=window.navigator)||void 0===W||!W.standalone)}(xi)&&"_self"!==ri)return function zt(ke,W){const se=document.createElement("a");se.href=ke,se.target=W;const $e=document.createEvent("MouseEvent");$e.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),se.dispatchEvent($e)}(W||"",ri),new Qn(null);const Dr=window.open(W||"",ri,Wi);oe(Dr,ke,"popup-blocked");try{Dr.focus()}catch{}return new Qn(Dr)}(W,ri,io())})()}_openRedirect(W,se,$e,Wt){var an=this;return(0,e.Z)(function*(){return yield an._originValidation(W),function Ll(ke){Oo().location.href=ke}(yield gs(W,se,$e,Y(),Wt)),new Promise(()=>{})})()}_initialize(W){const se=W._key();if(this.eventManagers[se]){const{manager:Wt,promise:an}=this.eventManagers[se];return Wt?Promise.resolve(Wt):(Re(an,"If manager is not set, promise should be"),an)}const $e=this.initAndGetManager(W);return this.eventManagers[se]={promise:$e},$e.catch(()=>{delete this.eventManagers[se]}),$e}initAndGetManager(W){var se=this;return(0,e.Z)(function*(){const $e=yield function cd(ke){return Ye.apply(this,arguments)}(W),Wt=new wc(W);return $e.register("authEvent",an=>(oe(an?.authEvent,W,"invalid-auth-event"),{status:Wt.onEvent(an.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),se.eventManagers[W._key()]={manager:Wt},se.iframes[W._key()]=$e,Wt})()}_isIframeWebStorageSupported(W,se){this.iframes[W._key()].send(sl,{type:sl},Wt=>{var an;const Hn=null===(an=Wt?.[0])||void 0===an?void 0:an[sl];void 0!==Hn&&se(!!Hn),E(W,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(W){const se=W._key();return this.originValidationPromises[se]||(this.originValidationPromises[se]=function jl(ke){return oc.apply(this,arguments)}(W)),this.originValidationPromises[se]}get _shouldInitProactively(){return vn()||bt()||wn()}};class ea{constructor(W){this.factorId=W}_process(W,se,$e){switch(se.type){case"enroll":return this._finalizeEnroll(W,se.credential,$e);case"signin":return this._finalizeSignIn(W,se.credential);default:return le("unexpected MultiFactorSessionType")}}}class Pc extends ea{constructor(W){super("phone"),this.credential=W}static _fromCredential(W){return new Pc(W)}_finalizeEnroll(W,se,$e){return function eo(ke,W){return de(ke,"POST","/v2/accounts/mfaEnrollment:finalize",Ce(ke,W))}(W,{idToken:se,displayName:$e,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(W,se){return function Tc(ke,W){return de(ke,"POST","/v2/accounts/mfaSignIn:finalize",Ce(ke,W))}(W,{mfaPendingCredential:se,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let yd=(()=>{class ke{constructor(){}static assertion(se){return Pc._fromCredential(se)}}return ke.FACTOR_ID="phone",ke})();var Nc="@firebase/auth";class Ed{constructor(W){this.auth=W,this.internalListeners=new Map}getUid(){var W;return this.assertAuthConfigured(),(null===(W=this.auth.currentUser)||void 0===W?void 0:W.uid)||null}getToken(W){var se=this;return(0,e.Z)(function*(){return se.assertAuthConfigured(),yield se.auth._initializationPromise,se.auth.currentUser?{accessToken:yield se.auth.currentUser.getIdToken(W)}:null})()}addAuthTokenListener(W){if(this.assertAuthConfigured(),this.internalListeners.has(W))return;const se=this.auth.onIdTokenChanged($e=>{W($e?.stsTokenManager.accessToken||null)});this.internalListeners.set(W,se),this.updateProactiveRefresh()}removeAuthTokenListener(W){this.assertAuthConfigured();const se=this.internalListeners.get(W);se&&(this.internalListeners.delete(W),se(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,t.Pz)("authIdTokenMaxAge"),function ud(ke){(0,v._registerComponent)(new P.wA("auth",(W,{options:se})=>{const $e=W.getProvider("app").getImmediate(),Wt=W.getProvider("heartbeat"),an=W.getProvider("app-check-internal"),{apiKey:Hn,authDomain:ri}=$e.options;oe(Hn&&!Hn.includes(":"),"invalid-api-key",{appName:$e.name});const Ci={apiKey:Hn,authDomain:ri,clientPlatform:ke,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yn(ke)},xi=new Ft($e,Wt,an,Ci);return function Rt(ke,W){const se=W?.persistence||[],$e=(Array.isArray(se)?se:[se]).map(vt);W?.errorMap&&ke._updateErrorMap(W.errorMap),ke._initializeWithPersistence($e,W?.popupRedirectResolver)}(xi,se),xi},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((W,se,$e)=>{W.getProvider("auth-internal").initialize()})),(0,v._registerComponent)(new P.wA("auth-internal",W=>{const se=Pn(W.getProvider("auth").getImmediate());return new Ed(se)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,v.registerVersion)(Nc,"0.23.2",function Yd(ke){switch(ke){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ke)),(0,v.registerVersion)(Nc,"0.23.2","esm2017")}("Browser")},9058:(Wn,Je,g)=>{"use strict";g.d(Je,{$s:()=>vt,BH:()=>b,L:()=>i,LL:()=>Me,Pz:()=>L,UG:()=>le,US:()=>P,ZB:()=>h,ZR:()=>de,aH:()=>E,b$:()=>ae,eu:()=>ie,hl:()=>Oe,jU:()=>Re,m9:()=>Ze,ne:()=>Fe,pd:()=>Se,r3:()=>we,ru:()=>Y,tV:()=>c,uI:()=>oe,vZ:()=>ne,w1:()=>De,xO:()=>J,xb:()=>$,z$:()=>Z,zI:()=>ye,zd:()=>ge});const y=function(st){const lt=[];let St=0;for(let bt=0;bt<st.length;bt++){let At=st.charCodeAt(bt);At<128?lt[St++]=At:At<2048?(lt[St++]=At>>6|192,lt[St++]=63&At|128):55296==(64512&At)&&bt+1<st.length&&56320==(64512&st.charCodeAt(bt+1))?(At=65536+((1023&At)<<10)+(1023&st.charCodeAt(++bt)),lt[St++]=At>>18|240,lt[St++]=At>>12&63|128,lt[St++]=At>>6&63|128,lt[St++]=63&At|128):(lt[St++]=At>>12|224,lt[St++]=At>>6&63|128,lt[St++]=63&At|128)}return lt},P={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(st,lt){if(!Array.isArray(st))throw Error("encodeByteArray takes an array as a parameter");this.init_();const St=lt?this.byteToCharMapWebSafe_:this.byteToCharMap_,bt=[];for(let At=0;At<st.length;At+=3){const on=st[At],En=At+1<st.length,tn=En?st[At+1]:0,Mn=At+2<st.length,wn=Mn?st[At+2]:0;let ti=(15&tn)<<2|wn>>6,vn=63&wn;Mn||(vn=64,En||(ti=64)),bt.push(St[on>>2],St[(3&on)<<4|tn>>4],St[ti],St[vn])}return bt.join("")},encodeString(st,lt){return this.HAS_NATIVE_SUPPORT&&!lt?btoa(st):this.encodeByteArray(y(st),lt)},decodeString(st,lt){return this.HAS_NATIVE_SUPPORT&&!lt?atob(st):function(st){const lt=[];let St=0,bt=0;for(;St<st.length;){const At=st[St++];if(At<128)lt[bt++]=String.fromCharCode(At);else if(At>191&&At<224){const on=st[St++];lt[bt++]=String.fromCharCode((31&At)<<6|63&on)}else if(At>239&&At<365){const Mn=((7&At)<<18|(63&st[St++])<<12|(63&st[St++])<<6|63&st[St++])-65536;lt[bt++]=String.fromCharCode(55296+(Mn>>10)),lt[bt++]=String.fromCharCode(56320+(1023&Mn))}else{const on=st[St++],En=st[St++];lt[bt++]=String.fromCharCode((15&At)<<12|(63&on)<<6|63&En)}}return lt.join("")}(this.decodeStringToByteArray(st,lt))},decodeStringToByteArray(st,lt){this.init_();const St=lt?this.charToByteMapWebSafe_:this.charToByteMap_,bt=[];for(let At=0;At<st.length;){const on=St[st.charAt(At++)],tn=At<st.length?St[st.charAt(At)]:0;++At;const wn=At<st.length?St[st.charAt(At)]:64;++At;const $n=At<st.length?St[st.charAt(At)]:64;if(++At,null==on||null==tn||null==wn||null==$n)throw new D;bt.push(on<<2|tn>>4),64!==wn&&(bt.push(tn<<4&240|wn>>2),64!==$n&&bt.push(wn<<6&192|$n))}return bt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let st=0;st<this.ENCODED_VALS.length;st++)this.byteToCharMap_[st]=this.ENCODED_VALS.charAt(st),this.charToByteMap_[this.byteToCharMap_[st]]=st,this.byteToCharMapWebSafe_[st]=this.ENCODED_VALS_WEBSAFE.charAt(st),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[st]]=st,st>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(st)]=st,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(st)]=st)}}};class D extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i=function(st){return function(st){const lt=y(st);return P.encodeByteArray(lt,!0)}(st).replace(/\./g,"")},c=function(st){try{return P.decodeString(st,!0)}catch(lt){console.error("base64Decode failed: ",lt)}return null};function h(st,lt){if(!(lt instanceof Object))return lt;switch(lt.constructor){case Date:return new Date(lt.getTime());case Object:void 0===st&&(st={});break;case Array:st=[];break;default:return lt}for(const St in lt)!lt.hasOwnProperty(St)||!p(St)||(st[St]=h(st[St],lt[St]));return st}function p(st){return"__proto__"!==st}const O=()=>{try{return function C(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const st=process.env.__FIREBASE_DEFAULTS__;return st?JSON.parse(st):void 0})()||(()=>{if(typeof document>"u")return;let st;try{st=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const lt=st&&c(st[1]);return lt&&JSON.parse(lt)})()}catch(st){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${st}`)}},E=()=>{var st;return null===(st=O())||void 0===st?void 0:st.config},L=st=>{var lt;return null===(lt=O())||void 0===lt?void 0:lt[`_${st}`]};class b{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((lt,St)=>{this.resolve=lt,this.reject=St})}wrapCallback(lt){return(St,bt)=>{St?this.reject(St):this.resolve(bt),"function"==typeof lt&&(this.promise.catch(()=>{}),1===lt.length?lt(St):lt(St,bt))}}}function Z(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Z())}function le(){var st;const lt=null===(st=O())||void 0===st?void 0:st.forceEnvironment;if("node"===lt)return!0;if("browser"===lt)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Re(){return"object"==typeof self&&self.self===self}function Y(){const st="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof st&&void 0!==st.id}function ae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function De(){const st=Z();return st.indexOf("MSIE ")>=0||st.indexOf("Trident/")>=0}function Oe(){try{return"object"==typeof indexedDB}catch{return!1}}function ie(){return new Promise((st,lt)=>{try{let St=!0;const bt="validate-browser-context-for-indexeddb-analytics-module",At=self.indexedDB.open(bt);At.onsuccess=()=>{At.result.close(),St||self.indexedDB.deleteDatabase(bt),st(!0)},At.onupgradeneeded=()=>{St=!1},At.onerror=()=>{var on;lt((null===(on=At.error)||void 0===on?void 0:on.message)||"")}}catch(St){lt(St)}})}function ye(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class de extends Error{constructor(lt,St,bt){super(St),this.code=lt,this.customData=bt,this.name="FirebaseError",Object.setPrototypeOf(this,de.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Me.prototype.create)}}class Me{constructor(lt,St,bt){this.service=lt,this.serviceName=St,this.errors=bt}create(lt,...St){const bt=St[0]||{},At=`${this.service}/${lt}`,on=this.errors[lt],En=on?function pe(st,lt){return st.replace(Ie,(St,bt)=>{const At=lt[bt];return null!=At?String(At):`<${bt}?>`})}(on,bt):"Error";return new de(At,`${this.serviceName}: ${En} (${At}).`,bt)}}const Ie=/\{\$([^}]+)}/g;function we(st,lt){return Object.prototype.hasOwnProperty.call(st,lt)}function $(st){for(const lt in st)if(Object.prototype.hasOwnProperty.call(st,lt))return!1;return!0}function ne(st,lt){if(st===lt)return!0;const St=Object.keys(st),bt=Object.keys(lt);for(const At of St){if(!bt.includes(At))return!1;const on=st[At],En=lt[At];if(X(on)&&X(En)){if(!ne(on,En))return!1}else if(on!==En)return!1}for(const At of bt)if(!St.includes(At))return!1;return!0}function X(st){return null!==st&&"object"==typeof st}function J(st){const lt=[];for(const[St,bt]of Object.entries(st))Array.isArray(bt)?bt.forEach(At=>{lt.push(encodeURIComponent(St)+"="+encodeURIComponent(At))}):lt.push(encodeURIComponent(St)+"="+encodeURIComponent(bt));return lt.length?"&"+lt.join("&"):""}function ge(st){const lt={};return st.replace(/^\?/,"").split("&").forEach(bt=>{if(bt){const[At,on]=bt.split("=");lt[decodeURIComponent(At)]=decodeURIComponent(on)}}),lt}function Se(st){const lt=st.indexOf("?");if(!lt)return"";const St=st.indexOf("#",lt);return st.substring(lt,St>0?St:void 0)}function Fe(st,lt){const St=new ct(st,lt);return St.subscribe.bind(St)}class ct{constructor(lt,St){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=St,this.task.then(()=>{lt(this)}).catch(bt=>{this.error(bt)})}next(lt){this.forEachObserver(St=>{St.next(lt)})}error(lt){this.forEachObserver(St=>{St.error(lt)}),this.close(lt)}complete(){this.forEachObserver(lt=>{lt.complete()}),this.close()}subscribe(lt,St,bt){let At;if(void 0===lt&&void 0===St&&void 0===bt)throw new Error("Missing Observer.");At=function tt(st,lt){if("object"!=typeof st||null===st)return!1;for(const St of lt)if(St in st&&"function"==typeof st[St])return!0;return!1}(lt,["next","error","complete"])?lt:{next:lt,error:St,complete:bt},void 0===At.next&&(At.next=gt),void 0===At.error&&(At.error=gt),void 0===At.complete&&(At.complete=gt);const on=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?At.error(this.finalError):At.complete()}catch{}}),this.observers.push(At),on}unsubscribeOne(lt){void 0===this.observers||void 0===this.observers[lt]||(delete this.observers[lt],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(lt){if(!this.finalized)for(let St=0;St<this.observers.length;St++)this.sendOne(St,lt)}sendOne(lt,St){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[lt])try{St(this.observers[lt])}catch(bt){typeof console<"u"&&console.error&&console.error(bt)}})}close(lt){this.finalized||(this.finalized=!0,void 0!==lt&&(this.finalError=lt),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gt(){}const Xt=1e3,un=2,fn=144e5,It=.5;function vt(st,lt=Xt,St=un){const bt=lt*Math.pow(St,st),At=Math.round(It*bt*(Math.random()-.5)*2);return Math.min(fn,bt+At)}function Ze(st){return st&&st._delegate?st._delegate:st}},2392:(Wn,Je,g)=>{"use strict";g.d(Je,{E:()=>P});var e=g(5879),t=g(5908),v=g(9397),y=g(1270),m=g(1367);const P=(D,f)=>{const i=(0,e.f3M)(t.F0),c=(0,e.f3M)(m.g),d=(0,e.f3M)(y.K);return null!=localStorage.getItem("apiToken")?d.isLoadedUserData().pipe((0,v.b)(h=>null!=c.userData||i.navigateByUrl("/landing"))):i.navigateByUrl("/landing")}},2128:(Wn,Je,g)=>{"use strict";g.d(Je,{x:()=>R});var e=g(95);class t{}var v=g(5550),y=g(9604),m=g(5879),P=g(5908),D=g(3931),f=g(9857),i=g(2239),c=g(6814),d=g(5220),h=g(2032),p=g(4170);function C(O,S){1&O&&(m.TgZ(0,"mat-error"),m._uU(1," Nombre es "),m.TgZ(2,"strong"),m._uU(3,"requerido"),m.qZA()())}const A=function(O){return[O]};function x(O,S){if(1&O){const I=m.EpF();m.TgZ(0,"div",1)(1,"div",2)(2,"h3",3)(3,"a",4),m._uU(4),m.qZA(),m._uU(5),m.qZA()(),m.TgZ(6,"div")(7,"div",5)(8,"div",6)(9,"form",7),m.NdJ("ngSubmit",function(){m.CHM(I);const L=m.oxw();return m.KtG(L.saveItem())}),m.TgZ(10,"div",8)(11,"mat-form-field")(12,"mat-label"),m._uU(13,"Nombre"),m.qZA(),m._UZ(14,"input",9),m.YNc(15,C,4,0,"mat-error",10),m.qZA()(),m.TgZ(16,"div",11)(17,"button",12),m._uU(18,"Guardar"),m.qZA()()(),m._UZ(19,"app-custom-spinner",13),m.qZA()()()()}if(2&O){const I=m.oxw();m.xp6(3),m.Q6J("routerLink",m.VKq(8,A,"/manage/catalogs/details/"+I.catalogDetail.CatalogId)),m.xp6(1),m.Oqu(I.catalogDetail.Catalog?I.catalogDetail.Catalog.Name:""),m.xp6(1),m.hij(" - Detalles - ",null!=I.catalogDetail.Id?"Editar":"Nuevo",""),m.xp6(4),m.Q6J("formGroup",I.catalogDetailFormGroup),m.xp6(5),m.Q6J("errorStateMatcher",I.matcher),m.xp6(1),m.Q6J("ngIf",I.catalogDetailFormGroup.controls.name.hasError("required")),m.xp6(2),m.Q6J("disabled",I.showLoading||!I.catalogDetailFormGroup.valid),m.xp6(2),m.Q6J("showLoading",I.showLoading)}}let R=(()=>{class O{constructor(I,E,L,b,B,Z){this.formBuilder=I,this.activatedRoute=E,this.router=L,this.snackbarService=b,this.catalogService=B,this.catalogDetailService=Z,this.matcher=new v.n,this.showLoading=!1}ngOnInit(){var I=this.activatedRoute.snapshot.params.catalogId;if(null!=I){var E=this.activatedRoute.snapshot.params.catalogDetailId;null!=E?this.catalogDetailService.get(I,E).then(L=>{this.catalogDetail=L.Data,this.buildFormGroup()},L=>{this.router.navigateByUrl("/404")}):this.catalogService.get(I).then(L=>{this.catalogDetail=new t,this.catalogDetail.Catalog=L.Data,this.catalogDetail.CatalogId=I,this.buildFormGroup()},L=>{this.router.navigateByUrl("/404")})}}buildFormGroup(){this.catalogDetailFormGroup=this.formBuilder.group({name:new e.NI(this.catalogDetail.Name,[e.kI.required])})}saveItem(){if(this.catalogDetailFormGroup.valid){this.showLoading=!0;var I=JSON.parse(JSON.stringify(this.catalogDetail));I.Name=this.catalogDetailFormGroup.value.name,this.catalogDetailService.save(I).then(E=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el detalle cat\xe1logo satisfactoriamente",y.dA.Success),this.router.navigateByUrl("/manage/catalogs/details/"+this.catalogDetail.CatalogId)},E=>{this.showLoading=!1,console.error(E)})}else this.catalogDetailFormGroup.markAllAsTouched()}static#e=this.\u0275fac=function(E){return new(E||O)(m.Y36(e.qu),m.Y36(P.gz),m.Y36(P.F0),m.Y36(D.c),m.Y36(f.a),m.Y36(i.R))};static#t=this.\u0275cmp=m.Xpm({type:O,selectors:[["app-catalog-detail-form"]],decls:1,vars:1,consts:[[3,"ngIf"],[1,"container","custom-list-container"],[1,"row","mb-5"],[1,"custom-page-title"],[3,"routerLink"],[1,"row"],[1,"col-12"],[3,"formGroup","ngSubmit"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(E,L){1&E&&m.YNc(0,x,20,10,"ng-template",0),2&E&&m.Q6J("ngIf",null!=L.catalogDetail&&L.catalogDetailFormGroup)},dependencies:[c.O5,P.rH,d.D,h.Nt,p.KE,p.hX,p.TO,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u]})}return O})()},1424:(Wn,Je,g)=>{"use strict";g.d(Je,{R:()=>Oe});var e=g(2877),t=g(1476),v=g(3566),y=g(7700),m=g(5313),P=g(8923),D=g(9604),f=g(5879),i=g(5908),c=g(3931),d=g(9857),h=g(2239),p=g(6814),C=g(2032),A=g(4170),x=g(5986),R=g(5940),O=g(2596);function S(ie,ye){1&ie&&(f.TgZ(0,"div",34),f._UZ(1,"mat-spinner"),f.qZA())}function I(ie,ye){if(1&ie){const Ce=f.EpF();f.TgZ(0,"th",35)(1,"mat-checkbox",36),f.NdJ("change",function(Me){f.CHM(Ce);const pe=f.oxw(2);return f.KtG(Me?pe.toggleAllRows():null)}),f.qZA()()}if(2&ie){const Ce=f.oxw(2);f.xp6(1),f.Q6J("checked",Ce.selection.hasValue()&&Ce.isAllSelected())("indeterminate",Ce.selection.hasValue()&&!Ce.isAllSelected())}}function E(ie,ye){if(1&ie){const Ce=f.EpF();f.TgZ(0,"td",37)(1,"mat-checkbox",38),f.NdJ("click",function(Me){const Ie=f.CHM(Ce).$implicit,Be=f.oxw(2);return f.KtG(Be.onChangeCheckValue(Me,Ie))}),f.qZA()()}if(2&ie){const Ce=ye.$implicit,de=f.oxw(2);f.xp6(1),f.Q6J("checked",de.selection.isSelected(Ce))}}function L(ie,ye){1&ie&&(f.TgZ(0,"th",39),f._uU(1,"N\xb0"),f.qZA())}function b(ie,ye){if(1&ie&&(f.TgZ(0,"td",40),f._uU(1),f.qZA()),2&ie){const Ce=ye.$implicit;f.xp6(1),f.hij(" ",Ce.Id,"")}}function B(ie,ye){1&ie&&(f.TgZ(0,"th",41),f._uU(1,"Nombre"),f.qZA())}function Z(ie,ye){if(1&ie&&(f.TgZ(0,"td",42),f._uU(1),f.qZA()),2&ie){const Ce=ye.$implicit;f.xp6(1),f.hij(" ",Ce.Name," ")}}function oe(ie,ye){1&ie&&f._UZ(0,"th",43)}function le(ie,ye){if(1&ie){const Ce=f.EpF();f.TgZ(0,"td",44)(1,"div",45)(2,"button",46),f.NdJ("click",function(){const pe=f.CHM(Ce).$implicit,Ie=f.oxw(2);return f.KtG(Ie.editItem(pe))}),f._UZ(3,"i",47),f.qZA(),f.TgZ(4,"button",48),f.NdJ("click",function(){const pe=f.CHM(Ce).$implicit,Ie=f.oxw(2);return f.KtG(Ie.delete(pe))}),f._UZ(5,"i",9),f.qZA()()()}}function Re(ie,ye){1&ie&&f._UZ(0,"tr",49)}function Y(ie,ye){1&ie&&f._UZ(0,"tr",50)}function ae(ie,ye){1&ie&&(f.TgZ(0,"td",53),f._uU(1,"No se encontraron datos"),f.qZA())}function G(ie,ye){if(1&ie&&(f.TgZ(0,"tr",51),f.YNc(1,ae,2,0,"td",52),f.qZA()),2&ie){const Ce=f.oxw(2);f.xp6(1),f.Q6J("ngIf",!Ce.showLoading)}}const De=function(){return["/manage/catalogs"]},ce=function(ie){return{disable:ie}},Te=function(){return[5,10,25,100]};function be(ie,ye){if(1&ie){const Ce=f.EpF();f.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"a",4),f._uU(4,"Cat\xe1logos"),f.qZA(),f._uU(5),f.qZA()(),f.TgZ(6,"div")(7,"div",2)(8,"div",5)(9,"button",6),f.NdJ("click",function(){f.CHM(Ce);const Me=f.oxw();return f.KtG(Me.showNewItem())}),f._UZ(10,"i",7),f.qZA(),f.TgZ(11,"button",8),f.NdJ("click",function(){f.CHM(Ce);const Me=f.oxw();return f.KtG(Me.deleteSelectedItems())}),f._UZ(12,"i",9),f.qZA()(),f._UZ(13,"div",10),f.qZA(),f.TgZ(14,"div",2)(15,"div",11)(16,"mat-form-field")(17,"mat-label"),f._uU(18,"Buscar"),f.qZA(),f.TgZ(19,"input",12,13),f.NdJ("keyup",function(Me){f.CHM(Ce);const pe=f.oxw();return f.KtG(pe.applyFilter(Me))}),f.qZA()(),f.TgZ(21,"div",14),f.YNc(22,S,2,0,"div",15),f.TgZ(23,"div",16)(24,"table",17),f.ynx(25,18),f.YNc(26,I,2,2,"th",19),f.YNc(27,E,2,1,"td",20),f.BQk(),f.ynx(28,21),f.YNc(29,L,2,0,"th",22),f.YNc(30,b,2,1,"td",23),f.BQk(),f.ynx(31,24),f.YNc(32,B,2,0,"th",25),f.YNc(33,Z,2,1,"td",26),f.BQk(),f.ynx(34,27),f.YNc(35,oe,1,0,"th",28),f.YNc(36,le,6,0,"td",29),f.BQk(),f.YNc(37,Re,1,0,"tr",30),f.YNc(38,Y,1,0,"tr",31),f.YNc(39,G,2,1,"tr",32),f.qZA()()()()(),f.TgZ(40,"div",2)(41,"div",11),f._UZ(42,"mat-paginator",33),f.qZA()()()()}if(2&ie){const Ce=f.oxw();f.xp6(3),f.Q6J("routerLink",f.DdM(9,De)),f.xp6(2),f.hij(" - ",Ce.catalog.Name," - Detalles"),f.xp6(6),f.Q6J("ngClass",f.VKq(10,ce,!Ce.selection.hasValue())),f.xp6(11),f.Q6J("ngIf",Ce.showLoading),f.xp6(2),f.Q6J("dataSource",Ce.dataSource),f.xp6(13),f.Q6J("matHeaderRowDef",Ce.getDisplayedColumns()),f.xp6(1),f.Q6J("matRowDefColumns",Ce.getDisplayedColumns()),f.xp6(4),f.Q6J("color","primary")("pageSizeOptions",f.DdM(12,Te))}}let Oe=(()=>{class ie extends e.G{constructor(Ce,de,Me,pe,Ie,Be,at,Xe){super(Ie),this.changeDetectorRef=Ce,this.router=de,this.activatedRoute=Me,this.dialog=pe,this.matPaginatorIntl=Ie,this.snackbarService=Be,this.catalogService=at,this.catalogDetailService=Xe}ngOnInit(){var Ce=this.activatedRoute.snapshot.params.catalogId;null!=Ce&&this.catalogService.get(Ce).then(de=>{this.catalog=de.Data,this.changeDetectorRef.detectChanges(),this.initializeData()},de=>{this.router.navigateByUrl("/404")})}initializeData(){this.paginator.page.subscribe(Ce=>{this.updatePageData(Ce),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(Ce=>{this.currentPage=1,this.sortBy=Ce.active,this.sortDirection=Ce.direction,this.getAllItems()}),this.sortBy="Id",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Id",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort,this.getAllItems()}applyFilter(Ce){this.searchText=Ce.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){this.router.navigate(["add"],{relativeTo:this.activatedRoute})}editItem(Ce){this.router.navigate(["edit",Ce.Id.toString()],{relativeTo:this.activatedRoute})}getAllItems(){this.showLoading=!0,this.catalogDetailService.getAllWithPagination(this.catalog.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(Ce=>{this.showLoading=!1;var de=Ce.Data;this.totalCount=Ce.TotalCount,this.listItems=de,this.dataSource=new m.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},Ce=>{this.showLoading=!1})}delete(Ce){var de=new y.vA;de.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el cat\xe1logo "+Ce.Name+"?",accordMessage:"Si, eliminar el cat\xe1logo '"+Ce.Name+"'"},this.dialog.open(P.k,de).afterClosed().subscribe(Me=>{Me&&this.executeDelete(Ce)})}executeDelete(Ce){this.showLoading=!0,this.catalogDetailService.delete(this.catalog.Id,Ce.Id).then(de=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",D.dA.Success),this.getAllItems()},de=>{this.showLoading=!1,this.snackbarService.showSnackBar(de,D.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var Ce=new y.vA;Ce.data={title:"Eliminar cat\xe1logos",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(P.k,Ce).afterClosed().subscribe(de=>{de&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.catalogDetailService.deleteList(this.catalog.Id,this.selection.selected).then(Ce=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",D.dA.Success),this.getAllItems()},Ce=>{this.showLoading=!1,this.snackbarService.showSnackBar(Ce,D.dA.Error)})}getDisplayedColumns(){return["Select","Id","Name","Actions"]}static#e=this.\u0275fac=function(de){return new(de||ie)(f.Y36(f.sBO),f.Y36(i.F0),f.Y36(i.gz),f.Y36(y.uw),f.Y36(t.ye),f.Y36(c.c),f.Y36(d.a),f.Y36(h.R))};static#t=this.\u0275cmp=f.Xpm({type:ie,selectors:[["app-catalog-detail-list"]],viewQuery:function(de,Me){if(1&de&&(f.Gf(t.NW,5),f.Gf(v.YE,5)),2&de){let pe;f.iGM(pe=f.CRH())&&(Me.paginator=pe.first),f.iGM(pe=f.CRH())&&(Me.sort=pe.first)}},features:[f.qOj],decls:1,vars:1,consts:[["class","container custom-list-container",4,"ngIf"],[1,"container","custom-list-container"],[1,"row"],[1,"custom-page-title"],[3,"routerLink"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(de,Me){1&de&&f.YNc(0,be,43,13,"div",0),2&de&&f.Q6J("ngIf",Me.catalog)},dependencies:[p.mk,p.O5,i.rH,t.NW,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,C.Nt,A.KE,A.hX,v.YE,v.nU,x.oG,R.Ou,O.gM]})}return ie})()},6933:(Wn,Je,g)=>{"use strict";g.d(Je,{Y:()=>A});class e{}var t=g(95),v=g(5550),y=g(9604),m=g(5879),P=g(5908),D=g(3931),f=g(9857),i=g(6814),c=g(5220),d=g(2032),h=g(4170);function p(x,R){1&x&&(m.TgZ(0,"mat-error"),m._uU(1," Nombre es "),m.TgZ(2,"strong"),m._uU(3,"requerido"),m.qZA()())}function C(x,R){if(1&x){const O=m.EpF();m.TgZ(0,"div",1)(1,"div",2)(2,"h3",3),m._uU(3),m.qZA()(),m.TgZ(4,"div")(5,"div",4)(6,"div",5)(7,"form",6),m.NdJ("ngSubmit",function(){m.CHM(O);const I=m.oxw();return m.KtG(I.saveItem())}),m.TgZ(8,"div",7)(9,"mat-form-field")(10,"mat-label"),m._uU(11,"Nombre"),m.qZA(),m._UZ(12,"input",8),m.YNc(13,p,4,0,"mat-error",9),m.qZA()(),m.TgZ(14,"div",10)(15,"button",11),m._uU(16,"Guardar"),m.qZA()()(),m._UZ(17,"app-custom-spinner",12),m.qZA()()()()}if(2&x){const O=m.oxw();m.xp6(3),m.hij("Cat\xe1logos - ",O.catalog.Id>0?"Editar":"Nuevo",""),m.xp6(4),m.Q6J("formGroup",O.catalogFormGroup),m.xp6(5),m.Q6J("errorStateMatcher",O.matcher),m.xp6(1),m.Q6J("ngIf",O.catalogFormGroup.controls.name.hasError("required")),m.xp6(2),m.Q6J("disabled",O.showLoading||!O.catalogFormGroup.valid),m.xp6(2),m.Q6J("showLoading",O.showLoading)}}let A=(()=>{class x{constructor(O,S,I,E,L){this.formBuilder=O,this.activatedRoute=S,this.router=I,this.snackbarService=E,this.catalogService=L,this.matcher=new v.n,this.showLoading=!1}ngOnInit(){var O=this.activatedRoute.snapshot.params.catalogId;null!=O?this.catalogService.get(O).then(S=>{this.catalog=S.Data,this.buildFormGroup()},S=>{this.router.navigateByUrl("/404")}):(this.catalog=new e,this.buildFormGroup())}buildFormGroup(){this.catalogFormGroup=this.formBuilder.group({name:new t.NI(this.catalog.Name,[t.kI.required])})}saveItem(){if(this.catalogFormGroup.valid){this.showLoading=!0;var O=JSON.parse(JSON.stringify(this.catalog));O.Name=this.catalogFormGroup.value.name,this.catalogService.save(O).then(S=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el cat\xe1logo satisfactoriamente",y.dA.Success),this.router.navigateByUrl("/manage/catalogs")},S=>{this.showLoading=!1,console.error(S)})}else this.catalogFormGroup.markAllAsTouched()}static#e=this.\u0275fac=function(S){return new(S||x)(m.Y36(t.qu),m.Y36(P.gz),m.Y36(P.F0),m.Y36(D.c),m.Y36(f.a))};static#t=this.\u0275cmp=m.Xpm({type:x,selectors:[["app-catalog-form"]],decls:1,vars:1,consts:[[3,"ngIf"],[1,"container","custom-list-container"],[1,"row","mb-5"],[1,"custom-list-title"],[1,"row"],[1,"col-12"],[3,"formGroup","ngSubmit"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(S,I){1&S&&m.YNc(0,C,18,6,"ng-template",0),2&S&&m.Q6J("ngIf",null!=I.catalog&&I.catalogFormGroup)},dependencies:[i.O5,c.D,d.Nt,h.KE,h.hX,h.TO,t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u]})}return x})()},6442:(Wn,Je,g)=>{"use strict";g.d(Je,{e:()=>ce});var e=g(2877),t=g(1476),v=g(3566),y=g(7700),m=g(5313),P=g(8923),D=g(9604),f=g(5879),i=g(5908),c=g(3931),d=g(9857),h=g(6814),p=g(2032),C=g(4170),A=g(5986),x=g(5940),R=g(2596);function O(Te,be){1&Te&&(f.TgZ(0,"div",32),f._UZ(1,"mat-spinner"),f.qZA())}function S(Te,be){if(1&Te){const Oe=f.EpF();f.TgZ(0,"th",33)(1,"mat-checkbox",34),f.NdJ("change",function(ye){f.CHM(Oe);const Ce=f.oxw();return f.KtG(ye?Ce.toggleAllRows():null)}),f.qZA()()}if(2&Te){const Oe=f.oxw();f.xp6(1),f.Q6J("checked",Oe.selection.hasValue()&&Oe.isAllSelected())("indeterminate",Oe.selection.hasValue()&&!Oe.isAllSelected())}}function I(Te,be){if(1&Te){const Oe=f.EpF();f.TgZ(0,"td",35)(1,"mat-checkbox",36),f.NdJ("click",function(ye){const de=f.CHM(Oe).$implicit,Me=f.oxw();return f.KtG(Me.onChangeCheckValue(ye,de))}),f.qZA()()}if(2&Te){const Oe=be.$implicit,ie=f.oxw();f.xp6(1),f.Q6J("checked",ie.selection.isSelected(Oe))}}function E(Te,be){1&Te&&(f.TgZ(0,"th",37),f._uU(1,"N\xb0"),f.qZA())}function L(Te,be){if(1&Te&&(f.TgZ(0,"td",38),f._uU(1),f.qZA()),2&Te){const Oe=be.$implicit;f.xp6(1),f.hij(" ",Oe.Id,"")}}function b(Te,be){1&Te&&(f.TgZ(0,"th",39),f._uU(1,"Nombre"),f.qZA())}function B(Te,be){if(1&Te&&(f.TgZ(0,"td",40),f._uU(1),f.qZA()),2&Te){const Oe=be.$implicit;f.xp6(1),f.hij(" ",Oe.Name," ")}}function Z(Te,be){1&Te&&f._UZ(0,"th",41)}function oe(Te,be){if(1&Te){const Oe=f.EpF();f.TgZ(0,"td",42)(1,"div",43)(2,"button",44),f.NdJ("click",function(){const Ce=f.CHM(Oe).$implicit,de=f.oxw();return f.KtG(de.showDetails(Ce))}),f._UZ(3,"i",45),f.qZA(),f.TgZ(4,"button",46),f.NdJ("click",function(){const Ce=f.CHM(Oe).$implicit,de=f.oxw();return f.KtG(de.editItem(Ce))}),f._UZ(5,"i",47),f.qZA(),f.TgZ(6,"button",48),f.NdJ("click",function(){const Ce=f.CHM(Oe).$implicit,de=f.oxw();return f.KtG(de.delete(Ce))}),f._UZ(7,"i",7),f.qZA()()()}}function le(Te,be){1&Te&&f._UZ(0,"tr",49)}function Re(Te,be){1&Te&&f._UZ(0,"tr",50)}function Y(Te,be){1&Te&&(f.TgZ(0,"td",53),f._uU(1,"No se encontraron datos"),f.qZA())}function ae(Te,be){if(1&Te&&(f.TgZ(0,"tr",51),f.YNc(1,Y,2,0,"td",52),f.qZA()),2&Te){const Oe=f.oxw();f.xp6(1),f.Q6J("ngIf",!Oe.showLoading)}}const G=function(Te){return{disable:Te}},De=function(){return[5,10,25,100]};let ce=(()=>{class Te extends e.G{constructor(Oe,ie,ye,Ce,de,Me){super(Ce),this.router=Oe,this.activatedRoute=ie,this.dialog=ye,this.matPaginatorIntl=Ce,this.snackbarService=de,this.catalogService=Me,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(Oe=>{this.updatePageData(Oe),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(Oe=>{this.currentPage=1,this.sortBy=Oe.active,this.sortDirection=Oe.direction,this.getAllItems()}),this.sortBy="Id",this.sortDirection="asc",this.sort.disableClear=!0,this.searchBy="Name",this.dataSource.sort=this.sort,this.getAllItems()}applyFilter(Oe){this.searchText=Oe.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){this.router.navigate(["add"],{relativeTo:this.activatedRoute})}editItem(Oe){this.router.navigate(["edit",Oe.Id.toString()],{relativeTo:this.activatedRoute})}showDetails(Oe){this.router.navigate(["details",Oe.Id.toString()],{relativeTo:this.activatedRoute})}getAllItems(){this.showLoading=!0,this.catalogService.getAllWithPagination(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(Oe=>{this.showLoading=!1;var ie=Oe.Data;this.totalCount=Oe.TotalCount,this.listItems=ie,this.dataSource=new m.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},Oe=>{this.showLoading=!1})}delete(Oe){var ie=new y.vA;ie.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el cat\xe1logo "+Oe.Name+"?",accordMessage:"Si, eliminar el cat\xe1logo '"+Oe.Name+"'"},this.dialog.open(P.k,ie).afterClosed().subscribe(ye=>{ye&&this.executeDeleteItem(Oe)})}executeDeleteItem(Oe){this.showLoading=!0,this.catalogService.delete(Oe.Id).then(ie=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",D.dA.Success),this.getAllItems()},ie=>{this.showLoading=!1,this.snackbarService.showSnackBar(ie,D.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var Oe=new y.vA;Oe.data={title:"Eliminar cat\xe1logos",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(P.k,Oe).afterClosed().subscribe(ie=>{ie&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.catalogService.deleteItems(this.selection.selected).then(Oe=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",D.dA.Success),this.getAllItems()},Oe=>{this.showLoading=!1,this.snackbarService.showSnackBar(Oe,D.dA.Error)})}getDisplayedColumns(){return["Select","Id","Name","Actions"]}static#e=this.\u0275fac=function(ie){return new(ie||Te)(f.Y36(i.F0),f.Y36(i.gz),f.Y36(y.uw),f.Y36(t.ye),f.Y36(c.c),f.Y36(d.a))};static#t=this.\u0275cmp=f.Xpm({type:Te,selectors:[["app-catalog-list"]],viewQuery:function(ie,ye){if(1&ie&&(f.Gf(t.NW,5),f.Gf(v.YE,5)),2&ie){let Ce;f.iGM(Ce=f.CRH())&&(ye.paginator=Ce.first),f.iGM(Ce=f.CRH())&&(ye.sort=Ce.first)}},features:[f.qOj],decls:42,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-page-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","class","expandable-cell",4,"matHeaderCellDef"],["mat-cell","","class","expandable-cell",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",1,"expandable-cell"],["mat-cell","",1,"expandable-cell"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Detalles",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-circle-info"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(ie,ye){1&ie&&(f.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"div",2),f._uU(4,"Cat\xe1logos"),f.qZA()()(),f.TgZ(5,"div")(6,"div",1)(7,"div",3)(8,"button",4),f.NdJ("click",function(){return ye.showNewItem()}),f._UZ(9,"i",5),f.qZA(),f.TgZ(10,"button",6),f.NdJ("click",function(){return ye.deleteSelectedItems()}),f._UZ(11,"i",7),f.qZA()(),f._UZ(12,"div",8),f.qZA(),f.TgZ(13,"div",1)(14,"div",9)(15,"mat-form-field")(16,"mat-label"),f._uU(17,"Buscar"),f.qZA(),f.TgZ(18,"input",10,11),f.NdJ("keyup",function(de){return ye.applyFilter(de)}),f.qZA()(),f.TgZ(20,"div",12),f.YNc(21,O,2,0,"div",13),f.TgZ(22,"div",14)(23,"table",15),f.ynx(24,16),f.YNc(25,S,2,2,"th",17),f.YNc(26,I,2,1,"td",18),f.BQk(),f.ynx(27,19),f.YNc(28,E,2,0,"th",20),f.YNc(29,L,2,1,"td",21),f.BQk(),f.ynx(30,22),f.YNc(31,b,2,0,"th",23),f.YNc(32,B,2,1,"td",24),f.BQk(),f.ynx(33,25),f.YNc(34,Z,1,0,"th",26),f.YNc(35,oe,8,0,"td",27),f.BQk(),f.YNc(36,le,1,0,"tr",28),f.YNc(37,Re,1,0,"tr",29),f.YNc(38,ae,2,1,"tr",30),f.qZA()()()()(),f.TgZ(39,"div",1)(40,"div",9),f._UZ(41,"mat-paginator",31),f.qZA()()()()),2&ie&&(f.xp6(10),f.Q6J("ngClass",f.VKq(7,G,!ye.selection.hasValue())),f.xp6(11),f.Q6J("ngIf",ye.showLoading),f.xp6(2),f.Q6J("dataSource",ye.dataSource),f.xp6(13),f.Q6J("matHeaderRowDef",ye.getDisplayedColumns()),f.xp6(1),f.Q6J("matRowDefColumns",ye.getDisplayedColumns()),f.xp6(4),f.Q6J("color","primary")("pageSizeOptions",f.DdM(9,De)))},dependencies:[h.mk,h.O5,t.NW,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,p.Nt,C.KE,C.hX,v.YE,v.nU,A.oG,x.Ou,R.gM],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:650px!important}"]})}return Te})()},2239:(Wn,Je,g)=>{"use strict";g.d(Je,{R:()=>m});var e=g(863),t=g(2372),v=g(5879),y=g(9429);let m=(()=>{class P{constructor(f){this.restProvider=f}get(f,i){return new Promise((c,d)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/catalogs/"+f+"/details/GetAsync/"+i).then(p=>{c(p)},p=>{d(p)})})}save(f){return new Promise((i,c)=>{this.restProvider.executeSinovadApiService(f.Id>0?e.yw.PUT:e.yw.POST,f.Id>0?"/catalogs/"+f.CatalogId+"/details/UpdateAsync/"+f.Id:"/catalogs/"+f.CatalogId+"/details/CreateAsync",f).then(p=>{i(p)},p=>{c(p)})})}getAllWithPagination(f,i,c,d,h,p,C){let A=(0,t.Z)();this.lastCallGuid=A;var R="/catalogs/"+f+"/details/GetAllWithPaginationAsync?page="+i.toString()+"&take="+c.toString()+"&sortBy="+d+"&sortDirection="+h+"&searchText="+p+"&searchBy="+C;return new Promise((O,S)=>{this.restProvider.executeSinovadApiService(e.yw.GET,R).then(I=>{this.lastCallGuid==A&&O(I)},I=>{S(I)})})}delete(f,i){return new Promise((c,d)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/catalogs/"+f+"/details/DeleteAsync/"+i).then(p=>{c(p)},p=>{console.error(p),d(p)})})}deleteList(f,i){return new Promise((c,d)=>{let h=[];for(let A=0;A<i.length;A++)h.push(i[A].Id);var p=h.join(",");this.restProvider.executeSinovadApiService(e.yw.DELETE,"/catalogs/"+f+"/details/DeleteListAsync/"+p).then(A=>{c(A)},A=>{console.error(A),d(A)})})}static#e=this.\u0275fac=function(i){return new(i||P)(v.LFG(y.C))};static#t=this.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},9857:(Wn,Je,g)=>{"use strict";g.d(Je,{a:()=>m});var e=g(863),t=g(2372),v=g(5879),y=g(9429);let m=(()=>{class P{constructor(f){this.restProvider=f}get(f){return new Promise((i,c)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/catalogs/GetAsync/"+f).then(h=>{i(h)},h=>{c(h)})})}save(f){return new Promise((i,c)=>{this.restProvider.executeSinovadApiService(f.Id>0?e.yw.PUT:e.yw.POST,f.Id>0?"/catalogs/UpdateAsync/"+f.Id:"/catalogs/CreateAsync",f).then(p=>{i(p)},p=>{c(p)})})}getAllWithPagination(f,i,c,d,h,p){let C=(0,t.Z)();this.lastCallGuid=C;var x="/catalogs/GetAllWithPaginationAsync?page="+f.toString()+"&take="+i.toString()+"&sortBy="+c+"&sortDirection="+d+"&searchText="+h+"&searchBy="+p;return new Promise((R,O)=>{this.restProvider.executeSinovadApiService(e.yw.GET,x).then(S=>{this.lastCallGuid==C&&R(S)},S=>{O(S)})})}getDetailsByCatalogId(f){return new Promise((i,c)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/catalogs/"+f+"/details/GetAllAsync").then(d=>{i(d)},d=>{c(d)})})}getAllCatalogDetailsByCatalogIds(f){return new Promise((i,c)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/catalogs/GetAllCatalogDetailsByCatalogIds?catalogIds="+f).then(d=>{i(d)},d=>{c(d)})})}delete(f){return new Promise((i,c)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/catalogs/DeleteAsync/"+f).then(h=>{i(h)},h=>{console.error(h),c(h)})})}deleteItems(f){return new Promise((i,c)=>{let d=[];for(let C=0;C<f.length;C++)d.push(f[C].Id);var h=d.join(",");this.restProvider.executeSinovadApiService(e.yw.DELETE,"/catalogs/DeleteListAsync/"+h).then(C=>{i(C)},C=>{console.error(C),c(C)})})}static#e=this.\u0275fac=function(i){return new(i||P)(v.LFG(y.C))};static#t=this.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},7983:(Wn,Je,g)=>{"use strict";g.d(Je,{o:()=>de});var e=g(1476),t=g(7700),v=g(8923),y=g(2877),m=g(5313),P=g(3566),D=g(9604);class f{}var i=g(95),c=g(5550),d=g(5879),h=g(8726),p=g(3931),C=g(2067),A=g(5220),x=g(6814),R=g(2032),O=g(4170);function S(Me,pe){1&Me&&(d.TgZ(0,"mat-error"),d._uU(1," Nombre es "),d.TgZ(2,"strong"),d._uU(3,"requerido"),d.qZA()())}function I(Me,pe){if(1&Me){const Ie=d.EpF();d.TgZ(0,"form",1),d.NdJ("ngSubmit",function(){d.CHM(Ie);const at=d.oxw();return d.KtG(at.saveItem())}),d.TgZ(1,"div",2)(2,"h5",3),d._uU(3),d.qZA(),d.TgZ(4,"button",4),d.NdJ("click",function(){d.CHM(Ie);const at=d.oxw();return d.KtG(at.closeModal())}),d._UZ(5,"i",5),d.qZA()(),d.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),d._uU(9,"Nombre"),d.qZA(),d._UZ(10,"input",7),d.YNc(11,S,4,0,"mat-error",8),d.qZA()(),d.TgZ(12,"div",9)(13,"button",10),d.NdJ("click",function(){d.CHM(Ie);const at=d.oxw();return d.KtG(at.closeModal())}),d._uU(14,"Close"),d.qZA(),d.TgZ(15,"button",11),d._uU(16,"Guardar"),d.qZA()()(),d._UZ(17,"app-custom-spinner",12)}if(2&Me){const Ie=d.oxw();d.Q6J("formGroup",Ie.genreFormGroup),d.xp6(3),d.Oqu(Ie.genre&&Ie.genre.Id>0?"Editar":"Nuevo"),d.xp6(7),d.Q6J("errorStateMatcher",Ie.matcher),d.xp6(1),d.Q6J("ngIf",Ie.genreFormGroup.controls.name.hasError("required")),d.xp6(4),d.Q6J("disabled",Ie.showLoading||!Ie.genreFormGroup.valid),d.xp6(2),d.Q6J("showLoading",Ie.showLoading)}}let E=(()=>{class Me{constructor(Ie,Be,at,Xe){this.formBuilder=Ie,this.activeModal=Be,this.snackbarService=at,this.genreService=Xe,this.showLoading=!1,this.matcher=new c.n}ngOnInit(){}ngAfterViewInit(){this.genreFormGroup=this.formBuilder.group({name:new i.NI(this.genre.Name,[i.kI.required])})}saveItem(){if(this.genreFormGroup.valid){this.showLoading=!0;var Ie=JSON.parse(JSON.stringify(this.genre));Ie.Name=this.genreFormGroup.value.name,this.genreService.saveItem(Ie).then(Be=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el genre satisfactoriamente",D.dA.Success),this.activeModal.close()},Be=>{this.showLoading=!1,console.error(Be)})}else this.genreFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(Be){return new(Be||Me)(d.Y36(i.qu),d.Y36(h.Kz),d.Y36(p.c),d.Y36(C.c))};static#t=this.\u0275cmp=d.Xpm({type:Me,selectors:[["app-genre-form"]],inputs:{genre:"genre"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(Be,at){1&Be&&d.YNc(0,I,18,6,"ng-template",0),2&Be&&d.Q6J("ngIf",null!=at.genre&&at.genreFormGroup)},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,A.D,x.O5,R.Nt,O.KE,O.hX,O.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return Me})();var L=g(5986),b=g(5940),B=g(2596);function Z(Me,pe){1&Me&&(d.TgZ(0,"div",32),d._UZ(1,"mat-spinner"),d.qZA())}function oe(Me,pe){if(1&Me){const Ie=d.EpF();d.TgZ(0,"th",33)(1,"mat-checkbox",34),d.NdJ("change",function(at){d.CHM(Ie);const Xe=d.oxw();return d.KtG(at?Xe.toggleAllRows():null)}),d.qZA()()}if(2&Me){const Ie=d.oxw();d.xp6(1),d.Q6J("checked",Ie.selection.hasValue()&&Ie.isAllSelected())("indeterminate",Ie.selection.hasValue()&&!Ie.isAllSelected())}}function le(Me,pe){if(1&Me){const Ie=d.EpF();d.TgZ(0,"td",35)(1,"mat-checkbox",36),d.NdJ("click",function(at){const je=d.CHM(Ie).$implicit,Ne=d.oxw();return d.KtG(Ne.onChangeCheckValue(at,je))}),d.qZA()()}if(2&Me){const Ie=pe.$implicit,Be=d.oxw();d.xp6(1),d.Q6J("checked",Be.selection.isSelected(Ie))}}function Re(Me,pe){1&Me&&(d.TgZ(0,"th",37),d._uU(1,"N\xb0"),d.qZA())}function Y(Me,pe){if(1&Me&&(d.TgZ(0,"td",38),d._uU(1),d.qZA()),2&Me){const Ie=pe.index,Be=d.oxw();d.xp6(1),d.hij(" ",Be.getElementNumber(Ie,Be.currentPage,Be.itemsPerPage),"")}}function ae(Me,pe){1&Me&&(d.TgZ(0,"th",39),d._uU(1," Nombre "),d.qZA())}function G(Me,pe){if(1&Me&&(d.TgZ(0,"td",40),d._uU(1),d.qZA()),2&Me){const Ie=pe.$implicit;d.xp6(1),d.hij(" ",Ie.Name," ")}}function De(Me,pe){1&Me&&d._UZ(0,"th",41)}function ce(Me,pe){if(1&Me){const Ie=d.EpF();d.TgZ(0,"td",42)(1,"div",43)(2,"button",44),d.NdJ("click",function(){const Xe=d.CHM(Ie).$implicit,je=d.oxw();return d.KtG(je.editItem(Xe))}),d._UZ(3,"i",45),d.qZA(),d.TgZ(4,"button",46),d.NdJ("click",function(){const Xe=d.CHM(Ie).$implicit,je=d.oxw();return d.KtG(je.deleteItem(Xe))}),d._UZ(5,"i",7),d.qZA()()()}}function Te(Me,pe){1&Me&&d._UZ(0,"tr",47)}function be(Me,pe){1&Me&&d._UZ(0,"tr",48)}function Oe(Me,pe){1&Me&&(d.TgZ(0,"td",51),d._uU(1,"No se encontraron datos"),d.qZA())}function ie(Me,pe){if(1&Me&&(d.TgZ(0,"tr",49),d.YNc(1,Oe,2,0,"td",50),d.qZA()),2&Me){const Ie=d.oxw();d.xp6(1),d.Q6J("ngIf",!Ie.showLoading)}}const ye=function(Me){return{disable:Me}},Ce=function(){return[5,10,25,100]};let de=(()=>{class Me extends y.G{constructor(Ie,Be,at,Xe,je){super(at),this.modalService=Ie,this.dialog=Be,this.matPaginatorIntl=at,this.snackbarService=Xe,this.genreService=je,this.displayedColumns=["Select","Id","Name","Actions"]}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(Ie=>{this.updatePageData(Ie),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(Ie=>{this.currentPage=1,this.sortBy=Ie.active,this.sortDirection=Ie.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(Ie){this.searchText=Ie.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var Ie=new f;this.showModalForm(Ie)}editItem(Ie){this.showModalForm(Ie)}showModalForm(Ie){var Be=this,at=this.modalService.open(E,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});at.componentInstance.genre=Ie,at.closed.subscribe(Xe=>{Be.getAllItems()})}getAllItems(){this.showLoading=!0,this.genreService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(Ie=>{this.showLoading=!1;var Be=Ie.Data;this.totalCount=Ie.TotalCount,this.listItems=Be,this.dataSource=new m.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},Ie=>{this.showLoading=!1})}deleteItem(Ie){var Be=new t.vA;Be.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+Ie.Name+"?",accordMessage:"Si, eliminar el rol '"+Ie.Name+"'"},this.dialog.open(v.k,Be).afterClosed().subscribe(at=>{at&&this.executeDeleteItem(Ie)})}executeDeleteItem(Ie){this.showLoading=!0,this.genreService.deleteItem(Ie.Id).then(Be=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",D.dA.Success),this.getAllItems()},Be=>{this.showLoading=!1,this.snackbarService.showSnackBar(Be,D.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var Ie=new t.vA;Ie.data={title:"Eliminar genres",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(v.k,Ie).afterClosed().subscribe(Be=>{Be&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.genreService.deleteItems(this.selection.selected).then(Ie=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",D.dA.Success),this.getAllItems()},Ie=>{this.showLoading=!1,this.snackbarService.showSnackBar(Ie,D.dA.Error)})}static#e=this.\u0275fac=function(Be){return new(Be||Me)(d.Y36(h.FF),d.Y36(t.uw),d.Y36(e.ye),d.Y36(p.c),d.Y36(C.c))};static#t=this.\u0275cmp=d.Xpm({type:Me,selectors:[["app-genre-list"]],viewQuery:function(Be,at){if(1&Be&&(d.Gf(e.NW,5),d.Gf(P.YE,5)),2&Be){let Xe;d.iGM(Xe=d.CRH())&&(at.paginator=Xe.first),d.iGM(Xe=d.CRH())&&(at.sort=Xe.first)}},features:[d.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(Be,at){1&Be&&(d.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),d._uU(3," G\xe9neros"),d.qZA()(),d.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),d.NdJ("click",function(){return at.showNewItem()}),d._UZ(8,"i",5),d.qZA(),d.TgZ(9,"button",6),d.NdJ("click",function(){return at.deleteSelectedItems()}),d._UZ(10,"i",7),d.qZA()(),d._UZ(11,"div",8),d.qZA(),d.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),d._uU(16,"Buscar"),d.qZA(),d.TgZ(17,"input",10,11),d.NdJ("keyup",function(je){return at.applyFilter(je)}),d.qZA()(),d.TgZ(19,"div",12),d.YNc(20,Z,2,0,"div",13),d.TgZ(21,"div",14)(22,"table",15),d.ynx(23,16),d.YNc(24,oe,2,2,"th",17),d.YNc(25,le,2,1,"td",18),d.BQk(),d.ynx(26,19),d.YNc(27,Re,2,0,"th",20),d.YNc(28,Y,2,1,"td",21),d.BQk(),d.ynx(29,22),d.YNc(30,ae,2,0,"th",23),d.YNc(31,G,2,1,"td",24),d.BQk(),d.ynx(32,25),d.YNc(33,De,1,0,"th",26),d.YNc(34,ce,6,0,"td",27),d.BQk(),d.YNc(35,Te,1,0,"tr",28),d.YNc(36,be,1,0,"tr",29),d.YNc(37,ie,2,1,"tr",30),d.qZA()()()()(),d.TgZ(38,"div",1)(39,"div",9),d._UZ(40,"mat-paginator",31),d.qZA()()()()),2&Be&&(d.xp6(9),d.Q6J("ngClass",d.VKq(7,ye,!at.selection.hasValue())),d.xp6(11),d.Q6J("ngIf",at.showLoading),d.xp6(2),d.Q6J("dataSource",at.dataSource),d.xp6(13),d.Q6J("matHeaderRowDef",at.displayedColumns),d.xp6(1),d.Q6J("matRowDefColumns",at.displayedColumns),d.xp6(4),d.Q6J("color","primary")("pageSizeOptions",d.DdM(9,Ce)))},dependencies:[x.mk,x.O5,e.NW,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,R.Nt,O.KE,O.hX,P.YE,P.nU,L.oG,b.Ou,B.gM],styles:["h3[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#fff}.selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}"]})}return Me})()},298:(Wn,Je,g)=>{"use strict";g.d(Je,{I:()=>D});var e=g(5879),t=g(8726),v=g(6814),y=g(5986);function m(f,i){if(1&f){const c=e.EpF();e.TgZ(0,"p")(1,"mat-checkbox",10),e.NdJ("click",function(h){const C=e.CHM(c).$implicit,A=e.oxw(2);return e.KtG(A.onChangeCheckValue(h,C))}),e._uU(2),e.qZA()()}if(2&f){const c=i.$implicit,d=e.oxw(2);e.xp6(1),e.Q6J("checked",d.selection.isSelected(c)),e.xp6(1),e.Oqu(c.Name)}}function P(f,i){if(1&f){const c=e.EpF();e.TgZ(0,"div",1)(1,"h5",2),e._uU(2),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){e.CHM(c);const h=e.oxw();return e.KtG(h.closeModal())}),e._UZ(4,"i",4),e.qZA()(),e.TgZ(5,"div",5),e.YNc(6,m,3,2,"ng-template",6),e.qZA(),e.TgZ(7,"div",7)(8,"button",8),e.NdJ("click",function(){e.CHM(c);const h=e.oxw();return e.KtG(h.closeModal())}),e._uU(9,"Close"),e.qZA(),e.TgZ(10,"button",9),e.NdJ("click",function(){e.CHM(c);const h=e.oxw();return e.KtG(h.onSaveSelection())}),e._uU(11,"Guardar"),e.qZA()()}if(2&f){const c=e.oxw();e.xp6(2),e.Oqu("G\xe9neros"),e.xp6(4),e.Q6J("ngForOf",c.listAllGenres)}}let D=(()=>{class f{constructor(c){this.activeModal=c}closeModal(){this.activeModal.dismiss()}onSaveSelection(){this.activeModal.close(this.selection.selected)}onChangeCheckValue(c,d){c.target.checked?this.selection.select(d):this.selection.deselect(d)}static#e=this.\u0275fac=function(d){return new(d||f)(e.Y36(t.Kz))};static#t=this.\u0275cmp=e.Xpm({type:f,selectors:[["app-genres-selection-modal"]],inputs:{listAllGenres:"listAllGenres",selection:"selection"},decls:2,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["ngFor","",3,"ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"checked","click"]],template:function(d,h){1&d&&(e.YNc(0,P,12,2,"ng-template",0),e._uU(1," <\n")),2&d&&e.Q6J("ngIf",null!=h.listAllGenres)},dependencies:[v.sg,v.O5,y.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}"]})}return f})()},2067:(Wn,Je,g)=>{"use strict";g.d(Je,{c:()=>m});var e=g(863),t=g(2372),v=g(5879),y=g(9429);let m=(()=>{class P{constructor(f){this.restProvider=f}getAllGenres(){return new Promise((f,i)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/genres/GetAllAsync").then(c=>{f(c)},c=>{console.error(c),i(c)})})}getItems(f,i,c,d,h,p){return new Promise((C,A)=>{let x=(0,t.Z)();this.lastCallGuid=x;var R="?page="+f.toString()+"&take="+i.toString()+"&sortBy="+c+"&sortDirection="+d+"&searchText="+h+"&searchBy="+p;this.restProvider.executeSinovadApiService(e.yw.GET,"/genres/GetAllWithPaginationAsync"+R).then(S=>{this.lastCallGuid==x&&C(S)},S=>{console.error(S),A(S)})})}saveItem(f){return new Promise((i,c)=>{this.restProvider.executeSinovadApiService(f.Id>0?e.yw.PUT:e.yw.POST,f.Id>0?"/genres/UpdateAsync/"+f.Id:"/genres/CreateAsync",f).then(p=>{i(!0)},p=>{console.error(p),c(p)})})}deleteItem(f){return new Promise((i,c)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/genres/DeleteAsync/"+f).then(h=>{i(h)},h=>{console.error(h),c(h)})})}deleteItems(f){return new Promise((i,c)=>{let d=[];for(let C=0;C<f.length;C++)d.push(f[C].Id);var h=d.join(",");this.restProvider.executeSinovadApiService(e.yw.DELETE,"/genres/DeleteListAsync/"+h).then(C=>{i(C)},C=>{console.error(C),c(C)})})}static#e=this.\u0275fac=function(i){return new(i||P)(v.LFG(y.C))};static#t=this.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},7591:(Wn,Je,g)=>{"use strict";g.d(Je,{U:()=>q});var e=g(2877),t=g(1476),v=g(3566),y=g(7700),m=g(5313),P=g(8923),D=g(9604),f=g(3826),i=g(863),c=g(95),d=g(5550),h=g(5879),p=g(9857),C=g(8726),A=g(3931),x=g(5864),R=g(5220),O=g(6814),S=g(2032),I=g(4170),E=g(5986),L=g(3680),b=g(8525);function B($,Q){1&$&&(h.TgZ(0,"mat-error"),h._uU(1," T\xedtulo es "),h.TgZ(2,"strong"),h._uU(3,"requerido"),h.qZA()())}function Z($,Q){if(1&$&&(h.TgZ(0,"mat-option",12),h._uU(1),h.qZA()),2&$){const ne=Q.$implicit;h.Q6J("value",ne.Id),h.xp6(1),h.hij(" ",ne.Name," ")}}function oe($,Q){if(1&$&&(h.TgZ(0,"mat-option",12),h._uU(1),h.qZA()),2&$){const ne=Q.$implicit;h.Q6J("value",ne.Id),h.xp6(1),h.hij(" ",ne.Title," ")}}function le($,Q){if(1&$){const ne=h.EpF();h.TgZ(0,"form",1),h.NdJ("ngSubmit",function(){h.CHM(ne);const re=h.oxw();return h.KtG(re.saveItem())}),h.TgZ(1,"div",2)(2,"h5",3),h._uU(3),h.qZA(),h.TgZ(4,"button",4),h.NdJ("click",function(){h.CHM(ne);const re=h.oxw();return h.KtG(re.closeModal())}),h._UZ(5,"i",5),h.qZA()(),h.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),h._uU(9,"T\xedtulo"),h.qZA(),h._UZ(10,"input",7),h.YNc(11,B,4,0,"mat-error",8),h.qZA(),h.TgZ(12,"mat-form-field")(13,"mat-label"),h._uU(14,"Path"),h.qZA(),h._UZ(15,"input",9),h.qZA(),h.TgZ(16,"mat-form-field")(17,"mat-label"),h._uU(18,"N\xfamero de Orden"),h.qZA(),h._UZ(19,"input",10),h.qZA(),h.TgZ(20,"mat-form-field")(21,"mat-label"),h._uU(22,"Tipo de \xcdcono"),h.qZA(),h.TgZ(23,"mat-select",11)(24,"mat-option",12),h._uU(25,"--"),h.qZA(),h.YNc(26,Z,2,2,"mat-option",13),h.qZA()(),h.TgZ(27,"mat-form-field")(28,"mat-label"),h._uU(29,"Icon Class"),h.qZA(),h._UZ(30,"input",14),h.qZA(),h.TgZ(31,"mat-form-field")(32,"mat-label"),h._uU(33,"Menu Padre"),h.qZA(),h.TgZ(34,"mat-select",15)(35,"mat-option",12),h._uU(36,"--"),h.qZA(),h.YNc(37,oe,2,2,"mat-option",13),h.qZA()(),h.TgZ(38,"mat-checkbox",16),h._uU(39,"Activo"),h.qZA()(),h.TgZ(40,"div",17)(41,"button",18),h.NdJ("click",function(){h.CHM(ne);const re=h.oxw();return h.KtG(re.closeModal())}),h._uU(42,"Cerrar"),h.qZA(),h.TgZ(43,"button",19),h._uU(44,"Guardar"),h.qZA()()(),h._UZ(45,"app-custom-spinner",20)}if(2&$){const ne=h.oxw();h.Q6J("formGroup",ne.menuFormGroup),h.xp6(3),h.Oqu(ne.menu.Id>0?"Editar":"Nuevo"),h.xp6(7),h.Q6J("errorStateMatcher",ne.matcher),h.xp6(1),h.Q6J("ngIf",ne.menuFormGroup.controls.title.hasError("required")),h.xp6(13),h.Q6J("value",void 0),h.xp6(2),h.Q6J("ngForOf",ne.listIconTypes),h.xp6(9),h.Q6J("value",void 0),h.xp6(2),h.Q6J("ngForOf",ne.listMenusSelectable),h.xp6(6),h.Q6J("disabled",ne.showLoading||!ne.menuFormGroup.valid),h.xp6(2),h.Q6J("showLoading",ne.showLoading)}}let Re=(()=>{class ${constructor(ne,X,re,J,ge){this.catalogService=ne,this.formBuilder=X,this.activeModal=re,this.snackbarService=J,this.menuService=ge,this.showLoading=!1,this.matcher=new d.n}ngOnInit(){this.getAllMenus(),this.getIconTypes()}getAllMenus(){this.menuService.getAllMenus().then(ne=>{this.listMenusSelectable=ne.Data.filter(re=>re.Id!=this.menu.Id)},ne=>{console.error(ne)})}getIconTypes(){this.catalogService.getDetailsByCatalogId(i.P9.IconTypes).then(ne=>{this.listIconTypes=ne.Data},ne=>{console.error(ne)})}ngAfterViewInit(){this.menuFormGroup=this.formBuilder.group({title:new c.NI(this.menu.Title,[c.kI.required]),path:new c.NI(this.menu.Path),iconType:new c.NI(this.menu.IconTypeCatalogDetailId),iconClass:new c.NI(this.menu.IconClass),sortOrder:new c.NI(this.menu.SortOrder),parentId:new c.NI(this.menu.ParentId),enabled:new c.NI(this.menu.Enabled)})}saveItem(){if(this.menuFormGroup.valid){this.showLoading=!0;var ne=JSON.parse(JSON.stringify(this.menu));ne.Title=this.menuFormGroup.value.title,ne.Path=this.menuFormGroup.value.path,ne.IconClass=this.menuFormGroup.value.iconClass,ne.SortOrder=this.menuFormGroup.value.sortOrder,null!=this.menuFormGroup.value.iconType?(ne.IconTypeCatalogId=i.P9.IconTypes,ne.IconTypeCatalogDetailId=this.menuFormGroup.value.iconType):(ne.IconTypeCatalogId=void 0,ne.IconTypeCatalogDetailId=void 0),ne.ParentId=this.menuFormGroup.value.parentId,ne.Enabled=this.menuFormGroup.value.enabled,this.menuService.saveItem(ne).then(X=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el menu satisfactoriamente",D.dA.Success),this.activeModal.close()},X=>{this.showLoading=!1,console.error(X)})}else this.menuFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(X){return new(X||$)(h.Y36(p.a),h.Y36(c.qu),h.Y36(C.Kz),h.Y36(A.c),h.Y36(x.h))};static#t=this.\u0275cmp=h.Xpm({type:$,selectors:[["app-menu-form"]],inputs:{menu:"menu"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["id","path","matInput","","formControlName","path"],["id","sortOrder","type","number","matInput","","formControlName","sortOrder"],["formControlName","iconType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["id","iconClass","matInput","","formControlName","iconClass"],["formControlName","parentId"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(X,re){1&X&&h.YNc(0,le,46,10,"ng-template",0),2&X&&h.Q6J("ngIf",null!=re.menu&&re.menuFormGroup)},dependencies:[c._Y,c.Fj,c.wV,c.JJ,c.JL,c.sg,c.u,R.D,O.sg,O.O5,S.Nt,I.KE,I.hX,I.TO,E.oG,L.ey,b.gD],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}.form-check-input[_ngcontent-%COMP%]{width:18px;height:18px}form[_ngcontent-%COMP%]{display:contents}"]})}return $})();var Y=g(5940),ae=g(2596);function G($,Q){1&$&&(h.TgZ(0,"div",41),h._UZ(1,"mat-spinner"),h.qZA())}function De($,Q){if(1&$){const ne=h.EpF();h.TgZ(0,"th",42)(1,"mat-checkbox",43),h.NdJ("change",function(re){h.CHM(ne);const J=h.oxw();return h.KtG(re?J.toggleAllRows():null)}),h.qZA()()}if(2&$){const ne=h.oxw();h.xp6(1),h.Q6J("checked",ne.selection.hasValue()&&ne.isAllSelected())("indeterminate",ne.selection.hasValue()&&!ne.isAllSelected())}}function ce($,Q){if(1&$){const ne=h.EpF();h.TgZ(0,"td",44)(1,"mat-checkbox",45),h.NdJ("click",function(re){const ge=h.CHM(ne).$implicit,Se=h.oxw();return h.KtG(Se.onChangeCheckValue(re,ge))}),h.qZA()()}if(2&$){const ne=Q.$implicit,X=h.oxw();h.xp6(1),h.Q6J("checked",X.selection.isSelected(ne))}}function Te($,Q){1&$&&(h.TgZ(0,"th",46),h._uU(1,"N\xb0"),h.qZA())}function be($,Q){if(1&$&&(h.TgZ(0,"td",47),h._uU(1),h.qZA()),2&$){const ne=Q.index,X=h.oxw();h.xp6(1),h.hij(" ",X.getElementNumber(ne,X.currentPage,X.itemsPerPage),"")}}function Oe($,Q){1&$&&(h.TgZ(0,"th",48),h._uU(1,"T\xedtulo"),h.qZA())}function ie($,Q){if(1&$&&(h.TgZ(0,"td",49),h._uU(1),h.qZA()),2&$){const ne=Q.$implicit;h.xp6(1),h.hij(" ",ne.Title," ")}}function ye($,Q){1&$&&(h.TgZ(0,"th",50),h._uU(1,"Path"),h.qZA())}function Ce($,Q){if(1&$&&(h.TgZ(0,"td",51),h._uU(1),h.qZA()),2&$){const ne=Q.$implicit;h.xp6(1),h.hij(" ",ne.Path," ")}}function de($,Q){1&$&&(h.TgZ(0,"th",52),h._uU(1,"\xcdcono"),h.qZA())}function Me($,Q){if(1&$&&(h.TgZ(0,"td",53),h._uU(1),h.qZA()),2&$){const ne=Q.$implicit;h.xp6(1),h.hij(" ",ne.IconClass," ")}}function pe($,Q){1&$&&(h.TgZ(0,"th",54),h._uU(1,"Orden"),h.qZA())}function Ie($,Q){if(1&$&&(h.TgZ(0,"td",55),h._uU(1),h.qZA()),2&$){const ne=Q.$implicit;h.xp6(1),h.hij(" ",ne.SortOrder," ")}}function Be($,Q){1&$&&h._UZ(0,"th",56)}function at($,Q){if(1&$){const ne=h.EpF();h.TgZ(0,"td",57)(1,"div",58)(2,"button",59),h.NdJ("click",function(){const J=h.CHM(ne).$implicit,ge=h.oxw();return h.KtG(ge.editItem(J))}),h._UZ(3,"i",60),h.qZA(),h.TgZ(4,"button",61),h.NdJ("click",function(){const J=h.CHM(ne).$implicit,ge=h.oxw();return h.KtG(ge.deleteItem(J))}),h._UZ(5,"i",7),h.qZA()()()}}function Xe($,Q){1&$&&h._UZ(0,"tr",62)}function je($,Q){1&$&&h._UZ(0,"tr",63)}function Ne($,Q){1&$&&(h.TgZ(0,"td",66),h._uU(1,"No se encontraron datos"),h.qZA())}function ee($,Q){if(1&$&&(h.TgZ(0,"tr",64),h.YNc(1,Ne,2,0,"td",65),h.qZA()),2&$){const ne=h.oxw();h.xp6(1),h.Q6J("ngIf",!ne.showLoading)}}const fe=function($){return{disable:$}},we=function(){return[5,10,25,100]};let q=(()=>{class $ extends e.G{constructor(ne,X,re,J,ge){super(re),this.modalService=ne,this.dialog=X,this.matPaginatorIntl=re,this.snackbarService=J,this.menuService=ge}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(ne=>{this.updatePageData(ne),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(ne=>{this.currentPage=1,this.sortBy=ne.active,this.sortDirection=ne.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter(ne){this.searchText=ne.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var ne=new f.v;ne.Enabled=!0,this.showModalForm(ne)}editItem(ne){this.showModalForm(ne)}showModalForm(ne){var X=this,re=this.modalService.open(Re,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});re.componentInstance.menu=ne,re.closed.subscribe(J=>{X.getAllItems()})}getAllItems(){this.showLoading=!0,this.menuService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(ne=>{this.showLoading=!1;var X=ne.Data;this.totalCount=ne.TotalCount,this.listItems=X,this.dataSource=new m.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},ne=>{this.showLoading=!1})}deleteItem(ne){var X=new y.vA;X.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el menu "+ne.Title+"?",accordMessage:"Si, eliminar el menu '"+ne.Title+"'"},this.dialog.open(P.k,X).afterClosed().subscribe(re=>{re&&this.executeDeleteItem(ne)})}executeDeleteItem(ne){this.showLoading=!0,this.menuService.deleteItem(ne.Id).then(X=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",D.dA.Success),this.getAllItems()},X=>{this.showLoading=!1,this.snackbarService.showSnackBar(X,D.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var ne=new y.vA;ne.data={title:"Eliminar menus",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(P.k,ne).afterClosed().subscribe(X=>{X&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.menuService.deleteItems(this.selection.selected).then(ne=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",D.dA.Success),this.getAllItems()},ne=>{this.showLoading=!1,this.snackbarService.showSnackBar(ne,D.dA.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","Path","IconClass","SortOrder","Actions"]:window.innerWidth>875?["Select","Id","Title","Path","IconClass","Actions"]:window.innerWidth>495?["Select","Id","Title","Path","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(X){return new(X||$)(h.Y36(C.FF),h.Y36(y.uw),h.Y36(t.ye),h.Y36(A.c),h.Y36(x.h))};static#t=this.\u0275cmp=h.Xpm({type:$,selectors:[["app-menu-list"]],viewQuery:function(X,re){if(1&X&&(h.Gf(t.NW,5),h.Gf(v.YE,5)),2&X){let J;h.iGM(J=h.CRH())&&(re.paginator=J.first),h.iGM(J=h.CRH())&&(re.sort=J.first)}},features:[h.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Path"],["mat-header-cell","","mat-sort-header","","style","min-width:100px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","IconClass"],["mat-header-cell","","mat-sort-header","","style","min-width:180px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:180px;text-align: left;",4,"matCellDef"],["matColumnDef","SortOrder"],["mat-header-cell","","mat-sort-header","","style","max-width:70px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:70px;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","100px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","180px","text-align","left"],["mat-cell","",2,"min-width","180px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","70px","text-align","left"],["mat-cell","",2,"max-width","70px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(X,re){1&X&&(h.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),h._uU(3,"Menus"),h.qZA()(),h.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),h.NdJ("click",function(){return re.showNewItem()}),h._UZ(8,"i",5),h.qZA(),h.TgZ(9,"button",6),h.NdJ("click",function(){return re.deleteSelectedItems()}),h._UZ(10,"i",7),h.qZA()(),h._UZ(11,"div",8),h.qZA(),h.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),h._uU(16,"Buscar"),h.qZA(),h.TgZ(17,"input",10,11),h.NdJ("keyup",function(ge){return re.applyFilter(ge)}),h.qZA()(),h.TgZ(19,"div",12),h.YNc(20,G,2,0,"div",13),h.TgZ(21,"div",14)(22,"table",15),h.ynx(23,16),h.YNc(24,De,2,2,"th",17),h.YNc(25,ce,2,1,"td",18),h.BQk(),h.ynx(26,19),h.YNc(27,Te,2,0,"th",20),h.YNc(28,be,2,1,"td",21),h.BQk(),h.ynx(29,22),h.YNc(30,Oe,2,0,"th",23),h.YNc(31,ie,2,1,"td",24),h.BQk(),h.ynx(32,25),h.YNc(33,ye,2,0,"th",26),h.YNc(34,Ce,2,1,"td",27),h.BQk(),h.ynx(35,28),h.YNc(36,de,2,0,"th",29),h.YNc(37,Me,2,1,"td",30),h.BQk(),h.ynx(38,31),h.YNc(39,pe,2,0,"th",32),h.YNc(40,Ie,2,1,"td",33),h.BQk(),h.ynx(41,34),h.YNc(42,Be,1,0,"th",35),h.YNc(43,at,6,0,"td",36),h.BQk(),h.YNc(44,Xe,1,0,"tr",37),h.YNc(45,je,1,0,"tr",38),h.YNc(46,ee,2,1,"tr",39),h.qZA()()()()(),h.TgZ(47,"div",1)(48,"div",9),h._UZ(49,"mat-paginator",40),h.qZA()()()()),2&X&&(h.xp6(9),h.Q6J("ngClass",h.VKq(7,fe,!re.selection.hasValue())),h.xp6(11),h.Q6J("ngIf",re.showLoading),h.xp6(2),h.Q6J("dataSource",re.dataSource),h.xp6(22),h.Q6J("matHeaderRowDef",re.getDisplayedColumns()),h.xp6(1),h.Q6J("matRowDefColumns",re.getDisplayedColumns()),h.xp6(4),h.Q6J("color","primary")("pageSizeOptions",h.DdM(9,we)))},dependencies:[O.mk,O.O5,t.NW,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,S.Nt,I.KE,I.hX,v.YE,v.nU,E.oG,Y.Ou,ae.gM],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return $})()},3826:(Wn,Je,g)=>{"use strict";g.d(Je,{v:()=>e});class e{}},5864:(Wn,Je,g)=>{"use strict";g.d(Je,{h:()=>D});var e=g(863),t=g(2372),v=g(8645),y=g(5879),m=g(1367),P=g(9429);let D=(()=>{class f{constructor(c,d){this.sharedDataService=c,this.restProvider=d,this.completedLoadUserManageMenu$=new v.x,this.loadedManageMenu=!1}completeLoadUserManageMenu(){this.completedLoadUserManageMenu$.next(!0)}isCompletedLoadUserManageMenu(){return this.completedLoadUserManageMenu$.asObservable()}getAllMenus(){return new Promise((c,d)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/menus/GetAllAsync").then(p=>{c(p)},p=>{console.error(p),d(p)})})}getItems(c,d,h,p,C,A){return new Promise((x,R)=>{let O=(0,t.Z)();this.lastCallGuid=O;var S="?page="+c.toString()+"&take="+d.toString()+"&sortBy="+h+"&sortDirection="+p+"&searchText="+C+"&searchBy="+A;this.restProvider.executeSinovadApiService(e.yw.GET,"/menus/GetAllWithPaginationAsync"+S).then(E=>{this.lastCallGuid==O&&x(E)},E=>{console.error(E),R(E)})})}saveItem(c){return new Promise((d,h)=>{this.restProvider.executeSinovadApiService(c.Id>0?e.yw.PUT:e.yw.POST,c.Id>0?"/menus/UpdateAsync/"+c.Id:"/menus/CreateAsync",c).then(A=>{d(!0)},A=>{console.error(A),h(A)})})}deleteItem(c){return new Promise((d,h)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/menus/DeleteAsync/"+c).then(C=>{d(C)},C=>{console.error(C),h(C)})})}deleteItems(c){return new Promise((d,h)=>{let p=[];for(let x=0;x<c.length;x++)p.push(c[x].Id);var C=p.join(",");this.restProvider.executeSinovadApiService(e.yw.DELETE,"/menus/DeleteListAsync/"+C).then(x=>{d(x)},x=>{console.error(x),h(x)})})}static#e=this.\u0275fac=function(d){return new(d||f)(y.LFG(m.g),y.LFG(P.C))};static#t=this.\u0275prov=y.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},7581:(Wn,Je,g)=>{"use strict";g.d(Je,{O:()=>ne});var e=g(2877),t=g(1476),v=g(3566),y=g(7700),m=g(5313),P=g(8923),D=g(9604);class f{}var i=g(95),c=g(5550),d=g(8337),h=g(298),p=g(5879),C=g(5731),A=g(8726),x=g(2067),R=g(3931),O=g(863),S=g(2372),I=g(9429);let E=(()=>{class X{constructor(J){this.restProvider=J}getMovie(J){return new Promise((ge,Se)=>{this.restProvider.executeSinovadApiService(O.yw.GET,"/movies/GetAsync/"+J).then(Ee=>{ge(Ee)},Ee=>{console.error(Ee),Se(Ee)})})}getItems(J,ge,Se,Ee,Fe,ct){return new Promise((qe,tt)=>{let gt=(0,S.Z)();this.lastCallGuid=gt;var Qe="?page="+J.toString()+"&take="+ge.toString()+"&sortBy="+Se+"&sortDirection="+Ee+"&searchText="+Fe+"&searchBy="+ct;this.restProvider.executeSinovadApiService(O.yw.GET,"/movies/GetAllWithPaginationAsync"+Qe).then(Et=>{this.lastCallGuid==gt&&qe(Et)},Et=>{console.error(Et),tt(Et)})})}saveItem(J){return new Promise((ge,Se)=>{this.restProvider.executeSinovadApiService(J.Id>0?O.yw.PUT:O.yw.POST,J.Id>0?"/movies/UpdateAsync/"+J.Id:"/movies/CreateAsync",J).then(ct=>{ge(!0)},ct=>{console.error(ct),Se(ct)})})}deleteItem(J){return new Promise((ge,Se)=>{this.restProvider.executeSinovadApiService(O.yw.DELETE,"/movies/DeleteAsync/"+J).then(Fe=>{ge(Fe)},Fe=>{console.error(Fe),Se(Fe)})})}deleteItems(J){return new Promise((ge,Se)=>{let Ee=[];for(let qe=0;qe<J.length;qe++)Ee.push(J[qe].Id);var Fe=Ee.join(",");this.restProvider.executeSinovadApiService(O.yw.DELETE,"/movies/DeleteListAsync/"+Fe).then(qe=>{ge(qe)},qe=>{console.error(qe),Se(qe)})})}static#e=this.\u0275fac=function(ge){return new(ge||X)(p.LFG(I.C))};static#t=this.\u0275prov=p.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"})}return X})();var L=g(5220),b=g(6814),B=g(2032),Z=g(4170),oe=g(8034);function le(X,re){1&X&&(p.TgZ(0,"mat-error"),p._uU(1," T\xedtulo es "),p.TgZ(2,"strong"),p._uU(3,"requerido"),p.qZA()())}function Re(X,re){if(1&X){const J=p.EpF();p.TgZ(0,"form",1),p.NdJ("ngSubmit",function(){p.CHM(J);const Se=p.oxw();return p.KtG(Se.saveItem())}),p.TgZ(1,"div",2)(2,"h5",3),p._uU(3),p.qZA(),p.TgZ(4,"button",4),p.NdJ("click",function(){p.CHM(J);const Se=p.oxw();return p.KtG(Se.closeModal())}),p._UZ(5,"i",5),p.qZA()(),p.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),p._uU(9,"T\xedtulo"),p.qZA(),p._UZ(10,"input",7),p.YNc(11,le,4,0,"mat-error",8),p.qZA(),p.TgZ(12,"mat-form-field")(13,"mat-label"),p._uU(14,"Fecha de Lanzamiento"),p.qZA(),p._UZ(15,"input",9),p.TgZ(16,"mat-hint"),p._uU(17,"MM/DD/YYYY"),p.qZA(),p._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),p.qZA(),p.TgZ(21,"mat-form-field")(22,"mat-label"),p._uU(23,"G\xe9neros"),p.qZA(),p.TgZ(24,"textarea",12),p.NdJ("click",function(){p.CHM(J);const Se=p.oxw();return p.KtG(Se.showGenresSelectionModal())}),p.qZA()(),p.TgZ(25,"mat-form-field")(26,"mat-label"),p._uU(27,"Directores"),p.qZA(),p._UZ(28,"textarea",13),p.qZA(),p.TgZ(29,"mat-form-field")(30,"mat-label"),p._uU(31,"Actores"),p.qZA(),p._UZ(32,"textarea",14),p.qZA(),p.TgZ(33,"mat-form-field")(34,"mat-label"),p._uU(35,"Resumen"),p.qZA(),p._UZ(36,"textarea",15),p.qZA(),p.TgZ(37,"mat-form-field")(38,"mat-label"),p._uU(39,"Im\xe1gen"),p.qZA(),p._UZ(40,"textarea",16),p.qZA()(),p.TgZ(41,"div",17)(42,"button",18),p.NdJ("click",function(){p.CHM(J);const Se=p.oxw();return p.KtG(Se.closeModal())}),p._uU(43,"Close"),p.qZA(),p.TgZ(44,"button",19),p._uU(45,"Guardar"),p.qZA()()(),p._UZ(46,"app-custom-spinner",20)}if(2&X){const J=p.MAs(20),ge=p.oxw();p.Q6J("formGroup",ge.movieFormGroup),p.xp6(3),p.Oqu(ge.movie.Id>0?"Editar":"Nuevo"),p.xp6(7),p.Q6J("errorStateMatcher",ge.matcher),p.xp6(1),p.Q6J("ngIf",ge.movieFormGroup.controls.title.hasError("required")),p.xp6(4),p.Q6J("matDatepicker",J),p.xp6(3),p.Q6J("for",J),p.xp6(6),p.Q6J("readonly",!0),p.xp6(20),p.Q6J("disabled",ge.showLoading||!ge.movieFormGroup.valid),p.xp6(2),p.Q6J("showLoading",ge.showLoading)}}let Y=(()=>{class X{constructor(J,ge,Se,Ee,Fe,ct,qe){this.commonService=J,this.modalService=ge,this.genreService=Se,this.formBuilder=Ee,this.activeModal=Fe,this.snackbarService=ct,this.movieService=qe,this.showLoading=!1,this.matcher=new c.n}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(J=>{this.listGenres=J.Data}),this.movie.Id>0?this.getMovie():this.movie.MovieGenres=[]}buildFormGroup(){this.movieFormGroup=this.formBuilder.group({title:new i.NI(this.movie.Title,[i.kI.required]),releaseDate:new i.NI(this.commonService.formatDate(this.movie.ReleaseDate)),directors:new i.NI(this.movie.Directors),actors:new i.NI(this.movie.Actors),overview:new i.NI(this.movie.Overview),posterPath:new i.NI(this.movie.PosterPath),selectedGenres:new i.NI("")})}getMovie(){this.movieService.getMovie(this.movie.Id).then(J=>{this.movie=J.Data,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.movieFormGroup.valid){this.showLoading=!0;var J=JSON.parse(JSON.stringify(this.movie));J.Title=this.movieFormGroup.value.title,J.ReleaseDate=this.movieFormGroup.value.releaseDate,J.Directors=this.movieFormGroup.value.directors,J.Actors=this.movieFormGroup.value.actors,J.Overview=this.movieFormGroup.value.overview,J.GenresIds=this.movie.MovieGenres.map(ge=>ge.GenreId),this.movieService.saveItem(J).then(ge=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el movie satisfactoriamente",D.dA.Success),this.activeModal.close()},ge=>{this.showLoading=!1,console.error(ge)})}else this.movieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){return this.movie.MovieGenres&&this.movie.MovieGenres.length>0?this.movie.MovieGenres.map(ge=>ge.GenreName).join(", "):""}showGenresSelectionModal(){var J=this,ge=this.modalService.open(h.I,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});ge.componentInstance.listAllGenres=this.listGenres,ge.componentInstance.selection=new d.Ov(!0,this.getMovieGenres()),ge.closed.subscribe(Se=>{J.setMovieGenres(Se)})}getMovieGenres(){var J=this.movie.MovieGenres.map(ge=>ge.GenreId);return this.listGenres.filter(ge=>-1!=J.indexOf(ge.Id))}setMovieGenres(J){var ge=[];J.forEach(Se=>{ge.push({MovieId:this.movie.Id,GenreId:Se.Id,GenreName:Se.Name})}),this.movie.MovieGenres=ge,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(ge){return new(ge||X)(p.Y36(C.v),p.Y36(A.FF),p.Y36(x.c),p.Y36(i.qu),p.Y36(A.Kz),p.Y36(R.c),p.Y36(E))};static#t=this.\u0275cmp=p.Xpm({type:X,selectors:[["app-movie-form"]],inputs:{movie:"movie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","releaseDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(ge,Se){1&ge&&p.YNc(0,Re,47,9,"ng-template",0),2&ge&&p.Q6J("ngIf",null!=Se.movie&&Se.movieFormGroup)},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,L.D,b.O5,B.Nt,Z.KE,Z.hX,Z.bx,Z.TO,Z.R9,oe.Mq,oe.hl,oe.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return X})();var ae=g(5908),G=g(5986),De=g(5940),ce=g(2596);function Te(X,re){1&X&&(p.TgZ(0,"div",39),p._UZ(1,"mat-spinner"),p.qZA())}function be(X,re){if(1&X){const J=p.EpF();p.TgZ(0,"th",40)(1,"mat-checkbox",41),p.NdJ("change",function(Se){p.CHM(J);const Ee=p.oxw();return p.KtG(Se?Ee.toggleAllRows():null)}),p.qZA()()}if(2&X){const J=p.oxw();p.xp6(1),p.Q6J("checked",J.selection.hasValue()&&J.isAllSelected())("indeterminate",J.selection.hasValue()&&!J.isAllSelected())}}function Oe(X,re){if(1&X){const J=p.EpF();p.TgZ(0,"td",42)(1,"mat-checkbox",43),p.NdJ("click",function(Se){const Fe=p.CHM(J).$implicit,ct=p.oxw();return p.KtG(ct.onChangeCheckValue(Se,Fe))}),p.qZA()()}if(2&X){const J=re.$implicit,ge=p.oxw();p.xp6(1),p.Q6J("checked",ge.selection.isSelected(J))}}function ie(X,re){1&X&&(p.TgZ(0,"th",44),p._uU(1,"N\xb0"),p.qZA())}function ye(X,re){if(1&X&&(p.TgZ(0,"td",45),p._uU(1),p.qZA()),2&X){const J=re.index,ge=p.oxw();p.xp6(1),p.hij(" ",ge.getElementNumber(J,ge.currentPage,ge.itemsPerPage),"")}}function Ce(X,re){1&X&&(p.TgZ(0,"th",46),p._uU(1,"T\xedtulo"),p.qZA())}function de(X,re){if(1&X&&(p.TgZ(0,"td",47),p._uU(1),p.qZA()),2&X){const J=re.$implicit;p.xp6(1),p.hij(" ",J.Title," ")}}function Me(X,re){1&X&&(p.TgZ(0,"th",48),p._uU(1,"Fecha"),p.qZA())}function pe(X,re){if(1&X&&(p.TgZ(0,"td",49),p._uU(1),p.ALo(2,"date"),p.qZA()),2&X){const J=re.$implicit;p.xp6(1),p.hij(" ",p.xi3(2,1,J.ReleaseDate,"dd-MM-YYYY ")," ")}}function Ie(X,re){1&X&&(p.TgZ(0,"th",50),p._uU(1,"Actores"),p.qZA())}function Be(X,re){if(1&X&&(p.TgZ(0,"td",51),p._uU(1),p.qZA()),2&X){const J=re.$implicit;p.xp6(1),p.hij(" ",J.Actors," ")}}function at(X,re){1&X&&(p.TgZ(0,"th",50),p._uU(1,"Directores"),p.qZA())}function Xe(X,re){if(1&X&&(p.TgZ(0,"td",51),p._uU(1),p.qZA()),2&X){const J=re.$implicit;p.xp6(1),p.hij(" ",J.Directors," ")}}function je(X,re){1&X&&p._UZ(0,"th",52)}function Ne(X,re){if(1&X){const J=p.EpF();p.TgZ(0,"td",53)(1,"div",54)(2,"button",55),p.NdJ("click",function(){const Ee=p.CHM(J).$implicit,Fe=p.oxw();return p.KtG(Fe.editItem(Ee))}),p._UZ(3,"i",56),p.qZA(),p.TgZ(4,"button",57),p.NdJ("click",function(){const Ee=p.CHM(J).$implicit,Fe=p.oxw();return p.KtG(Fe.deleteItem(Ee))}),p._UZ(5,"i",7),p.qZA()()()}}function ee(X,re){1&X&&p._UZ(0,"tr",58)}function fe(X,re){1&X&&p._UZ(0,"tr",59)}function we(X,re){1&X&&(p.TgZ(0,"td",62),p._uU(1,"No se encontraron datos"),p.qZA())}function q(X,re){if(1&X&&(p.TgZ(0,"tr",60),p.YNc(1,we,2,0,"td",61),p.qZA()),2&X){const J=p.oxw();p.xp6(1),p.Q6J("ngIf",!J.showLoading)}}const $=function(X){return{disable:X}},Q=function(){return[5,10,25,100]};let ne=(()=>{class X extends e.G{constructor(J,ge,Se,Ee,Fe,ct){super(Ee),this.router=J,this.modalService=ge,this.dialog=Se,this.matPaginatorIntl=Ee,this.snackbarService=Fe,this.movieService=ct,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(J=>{this.updatePageData(J),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(J=>{this.currentPage=1,this.sortBy=J.active,this.sortDirection=J.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter(J){this.searchText=J.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var J=new f;this.showModalForm(J)}editItem(J){this.showModalForm(J)}showModalForm(J){var ge=this,Se=this.modalService.open(Y,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});Se.componentInstance.movie=J,Se.closed.subscribe(Ee=>{ge.getAllItems()})}getAllItems(){this.showLoading=!0,this.movieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(J=>{this.showLoading=!1;var ge=J.Data;this.totalCount=J.TotalCount,this.listItems=ge,this.dataSource=new m.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},J=>{this.showLoading=!1})}deleteItem(J){var ge=new y.vA;ge.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el movie "+J.Title+"?",accordMessage:"Si, eliminar el movie '"+J.Title+"'"},this.dialog.open(P.k,ge).afterClosed().subscribe(Se=>{Se&&this.executeDeleteItem(J)})}executeDeleteItem(J){this.showLoading=!0,this.movieService.deleteItem(J.Id).then(ge=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",D.dA.Success),this.getAllItems()},ge=>{this.showLoading=!1,this.snackbarService.showSnackBar(ge,D.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var J=new y.vA;J.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(P.k,J).afterClosed().subscribe(ge=>{ge&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.movieService.deleteItems(this.selection.selected).then(J=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",D.dA.Success),this.getAllItems()},J=>{this.showLoading=!1,this.snackbarService.showSnackBar(J,D.dA.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","ReleaseDate","Actors","Directors","Actions"]:window.innerWidth>875?["Select","Id","Title","ReleaseDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Title","ReleaseDate","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(ge){return new(ge||X)(p.Y36(ae.F0),p.Y36(A.FF),p.Y36(y.uw),p.Y36(t.ye),p.Y36(R.c),p.Y36(E))};static#t=this.\u0275cmp=p.Xpm({type:X,selectors:[["app-movie-list"]],viewQuery:function(ge,Se){if(1&ge&&(p.Gf(t.NW,5),p.Gf(v.YE,5)),2&ge){let Ee;p.iGM(Ee=p.CRH())&&(Se.paginator=Ee.first),p.iGM(Ee=p.CRH())&&(Se.sort=Ee.first)}},features:[p.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","ReleaseDate"],["mat-header-cell","","mat-sort-header","","style","min-width:140px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","140px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",2,"max-width","120px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(ge,Se){1&ge&&(p.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),p._uU(3," Pel\xedculas"),p.qZA()(),p.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),p.NdJ("click",function(){return Se.showNewItem()}),p._UZ(8,"i",5),p.qZA(),p.TgZ(9,"button",6),p.NdJ("click",function(){return Se.deleteSelectedItems()}),p._UZ(10,"i",7),p.qZA()(),p._UZ(11,"div",8),p.qZA(),p.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),p._uU(16,"Buscar"),p.qZA(),p.TgZ(17,"input",10,11),p.NdJ("keyup",function(Fe){return Se.applyFilter(Fe)}),p.qZA()(),p.TgZ(19,"div",12),p.YNc(20,Te,2,0,"div",13),p.TgZ(21,"div",14)(22,"table",15),p.ynx(23,16),p.YNc(24,be,2,2,"th",17),p.YNc(25,Oe,2,1,"td",18),p.BQk(),p.ynx(26,19),p.YNc(27,ie,2,0,"th",20),p.YNc(28,ye,2,1,"td",21),p.BQk(),p.ynx(29,22),p.YNc(30,Ce,2,0,"th",23),p.YNc(31,de,2,1,"td",24),p.BQk(),p.ynx(32,25),p.YNc(33,Me,2,0,"th",26),p.YNc(34,pe,3,4,"td",27),p.BQk(),p.ynx(35,28),p.YNc(36,Ie,2,0,"th",29),p.YNc(37,Be,2,1,"td",30),p.BQk(),p.ynx(38,31),p.YNc(39,at,2,0,"th",29),p.YNc(40,Xe,2,1,"td",30),p.BQk(),p.ynx(41,32),p.YNc(42,je,1,0,"th",33),p.YNc(43,Ne,6,0,"td",34),p.BQk(),p.YNc(44,ee,1,0,"tr",35),p.YNc(45,fe,1,0,"tr",36),p.YNc(46,q,2,1,"tr",37),p.qZA()()()()(),p.TgZ(47,"div",1)(48,"div",9),p._UZ(49,"mat-paginator",38),p.qZA()()()()),2&ge&&(p.xp6(9),p.Q6J("ngClass",p.VKq(7,$,!Se.selection.hasValue())),p.xp6(11),p.Q6J("ngIf",Se.showLoading),p.xp6(2),p.Q6J("dataSource",Se.dataSource),p.xp6(22),p.Q6J("matHeaderRowDef",Se.getDisplayedColumns()),p.xp6(1),p.Q6J("matRowDefColumns",Se.getDisplayedColumns()),p.xp6(4),p.Q6J("color","primary")("pageSizeOptions",p.DdM(9,Q)))},dependencies:[b.mk,b.O5,t.NW,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,B.Nt,Z.KE,Z.hX,v.YE,v.nU,G.oG,De.Ou,ce.gM,b.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return X})()},5053:(Wn,Je,g)=>{"use strict";g.d(Je,{C:()=>Me});var e=g(1476),t=g(7700),v=g(8923),y=g(2877),m=g(5313),P=g(3566),D=g(9604);class f{}var i=g(95),c=g(5550),d=g(5879),h=g(8726),p=g(3931),C=g(6414),A=g(5220),x=g(6814),R=g(2032),O=g(4170),S=g(5986);function I(pe,Ie){1&pe&&(d.TgZ(0,"mat-error"),d._uU(1," Nombre es "),d.TgZ(2,"strong"),d._uU(3,"requerido"),d.qZA()())}function E(pe,Ie){if(1&pe){const Be=d.EpF();d.TgZ(0,"form",1),d.NdJ("ngSubmit",function(){d.CHM(Be);const Xe=d.oxw();return d.KtG(Xe.saveItem())}),d.TgZ(1,"div",2)(2,"h5",3),d._uU(3),d.qZA(),d.TgZ(4,"button",4),d.NdJ("click",function(){d.CHM(Be);const Xe=d.oxw();return d.KtG(Xe.closeModal())}),d._UZ(5,"i",5),d.qZA()(),d.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),d._uU(9,"Nombre"),d.qZA(),d._UZ(10,"input",7),d.YNc(11,I,4,0,"mat-error",8),d.qZA(),d.TgZ(12,"mat-checkbox",9),d._uU(13,"Activo"),d.qZA()(),d.TgZ(14,"div",10)(15,"button",11),d.NdJ("click",function(){d.CHM(Be);const Xe=d.oxw();return d.KtG(Xe.closeModal())}),d._uU(16,"Close"),d.qZA(),d.TgZ(17,"button",12),d._uU(18,"Guardar"),d.qZA()()(),d._UZ(19,"app-custom-spinner",13)}if(2&pe){const Be=d.oxw();d.Q6J("formGroup",Be.roleFormGroup),d.xp6(3),d.Oqu(Be.role&&Be.role.Id>0?"Editar":"Nuevo"),d.xp6(7),d.Q6J("errorStateMatcher",Be.matcher),d.xp6(1),d.Q6J("ngIf",Be.roleFormGroup.controls.name.hasError("required")),d.xp6(6),d.Q6J("disabled",Be.showLoading||!Be.roleFormGroup.valid),d.xp6(2),d.Q6J("showLoading",Be.showLoading)}}let L=(()=>{class pe{constructor(Be,at,Xe,je){this.formBuilder=Be,this.activeModal=at,this.snackbarService=Xe,this.roleService=je,this.showLoading=!1,this.matcher=new c.n}ngAfterViewInit(){this.roleFormGroup=this.formBuilder.group({name:new i.NI(this.role.Name,[i.kI.required]),enabled:new i.NI(this.role.Enabled)})}saveItem(){if(this.roleFormGroup.valid){this.showLoading=!0;var Be=JSON.parse(JSON.stringify(this.role));Be.Name=this.roleFormGroup.value.name,Be.Enabled=this.roleFormGroup.value.enabled,this.roleService.saveItem(Be).then(at=>{this.showLoading=!1,this.role=void 0,this.snackbarService.showSnackBar("Se guardo el rol satisfactoriamente",D.dA.Success),this.activeModal.close()},at=>{this.showLoading=!1,this.snackbarService.showSnackBar(at,D.dA.Error)})}else this.roleFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(at){return new(at||pe)(d.Y36(i.qu),d.Y36(h.Kz),d.Y36(p.c),d.Y36(C.N))};static#t=this.\u0275cmp=d.Xpm({type:pe,selectors:[["app-role-form"]],inputs:{role:"role"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(at,Xe){1&at&&d.YNc(0,E,20,6,"ng-template",0),2&at&&d.Q6J("ngIf",null!=Xe.role&&Xe.roleFormGroup)},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,A.D,x.O5,R.Nt,O.KE,O.hX,O.TO,S.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return pe})();var b=g(5908),B=g(5940),Z=g(2596);function oe(pe,Ie){1&pe&&(d.TgZ(0,"div",32),d._UZ(1,"mat-spinner"),d.qZA())}function le(pe,Ie){if(1&pe){const Be=d.EpF();d.TgZ(0,"th",33)(1,"mat-checkbox",34),d.NdJ("change",function(Xe){d.CHM(Be);const je=d.oxw();return d.KtG(Xe?je.toggleAllRows():null)}),d.qZA()()}if(2&pe){const Be=d.oxw();d.xp6(1),d.Q6J("checked",Be.selection.hasValue()&&Be.isAllSelected())("indeterminate",Be.selection.hasValue()&&!Be.isAllSelected())}}function Re(pe,Ie){if(1&pe){const Be=d.EpF();d.TgZ(0,"td",35)(1,"mat-checkbox",36),d.NdJ("click",function(Xe){const Ne=d.CHM(Be).$implicit,ee=d.oxw();return d.KtG(ee.onChangeCheckValue(Xe,Ne))}),d.qZA()()}if(2&pe){const Be=Ie.$implicit,at=d.oxw();d.xp6(1),d.Q6J("checked",at.selection.isSelected(Be))}}function Y(pe,Ie){1&pe&&(d.TgZ(0,"th",37),d._uU(1,"N\xb0"),d.qZA())}function ae(pe,Ie){if(1&pe&&(d.TgZ(0,"td",38),d._uU(1),d.qZA()),2&pe){const Be=Ie.index,at=d.oxw();d.xp6(1),d.hij(" ",at.getElementNumber(Be,at.currentPage,at.itemsPerPage),"")}}function G(pe,Ie){1&pe&&(d.TgZ(0,"th",39),d._uU(1," Nombre "),d.qZA())}function De(pe,Ie){if(1&pe&&(d.TgZ(0,"td",40),d._uU(1),d.qZA()),2&pe){const Be=Ie.$implicit;d.xp6(1),d.hij(" ",Be.Name," ")}}function ce(pe,Ie){1&pe&&d._UZ(0,"th",41)}function Te(pe,Ie){if(1&pe){const Be=d.EpF();d.TgZ(0,"td",42)(1,"div",43)(2,"button",44),d.NdJ("click",function(){const je=d.CHM(Be).$implicit,Ne=d.oxw();return d.KtG(Ne.showMenus(je))}),d._UZ(3,"i",45),d.qZA(),d.TgZ(4,"button",46),d.NdJ("click",function(){const je=d.CHM(Be).$implicit,Ne=d.oxw();return d.KtG(Ne.editItem(je))}),d._UZ(5,"i",47),d.qZA(),d.TgZ(6,"button",48),d.NdJ("click",function(){const je=d.CHM(Be).$implicit,Ne=d.oxw();return d.KtG(Ne.deleteItem(je))}),d._UZ(7,"i",7),d.qZA()()()}}function be(pe,Ie){1&pe&&d._UZ(0,"tr",49)}function Oe(pe,Ie){1&pe&&d._UZ(0,"tr",50)}function ie(pe,Ie){1&pe&&(d.TgZ(0,"td",53),d._uU(1,"No se encontraron datos"),d.qZA())}function ye(pe,Ie){if(1&pe&&(d.TgZ(0,"tr",51),d.YNc(1,ie,2,0,"td",52),d.qZA()),2&pe){const Be=d.oxw();d.xp6(1),d.Q6J("ngIf",!Be.showLoading)}}const Ce=function(pe){return{disable:pe}},de=function(){return[5,10,25,100]};let Me=(()=>{class pe extends y.G{constructor(Be,at,Xe,je,Ne,ee,fe){super(Ne),this.activatedRoute=Be,this.router=at,this.modalService=Xe,this.dialog=je,this.matPaginatorIntl=Ne,this.snackbarService=ee,this.roleService=fe,this.displayedColumns=["Select","Id","Name","Actions"],this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(Be=>{this.updatePageData(Be),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(Be=>{this.currentPage=1,this.sortBy=Be.active,this.sortDirection=Be.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.searchBy="Name",this.dataSource.sort=this.sort,this.getAllItems()}showMenus(Be){this.router.navigate([Be.Id,"menus"],{relativeTo:this.activatedRoute})}applyFilter(Be){this.searchText=Be.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var Be=new f;Be.Enabled=!0,this.showModalForm(Be)}editItem(Be){this.showModalForm(Be)}showModalForm(Be){var at=this,Xe=this.modalService.open(L,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});Xe.componentInstance.role=Be,Xe.closed.subscribe(je=>{at.getAllItems()})}getAllItems(){this.showLoading=!0,this.roleService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(Be=>{this.showLoading=!1;var at=Be.Data;this.totalCount=Be.TotalCount,this.listItems=at,this.dataSource=new m.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},Be=>{this.showLoading=!1})}deleteItem(Be){var at=new t.vA;at.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+Be.Name+"?",accordMessage:"Si, eliminar el rol '"+Be.Name+"'"},this.dialog.open(v.k,at).afterClosed().subscribe(Xe=>{Xe&&this.executeDeleteItem(Be)})}executeDeleteItem(Be){this.showLoading=!0,this.roleService.deleteItem(Be.Id).then(at=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",D.dA.Success),this.getAllItems()},at=>{this.showLoading=!1,this.snackbarService.showSnackBar(at,D.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var Be=new t.vA;Be.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(v.k,Be).afterClosed().subscribe(at=>{at&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.roleService.deleteItems(this.selection.selected).then(Be=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",D.dA.Success),this.getAllItems()},Be=>{this.showLoading=!1,this.snackbarService.showSnackBar(Be,D.dA.Error)})}static#e=this.\u0275fac=function(at){return new(at||pe)(d.Y36(b.gz),d.Y36(b.F0),d.Y36(h.FF),d.Y36(t.uw),d.Y36(e.ye),d.Y36(p.c),d.Y36(C.N))};static#t=this.\u0275cmp=d.Xpm({type:pe,selectors:[["app-role-list"]],viewQuery:function(at,Xe){if(1&at&&(d.Gf(e.NW,5),d.Gf(P.YE,5)),2&at){let je;d.iGM(je=d.CRH())&&(Xe.paginator=je.first),d.iGM(je=d.CRH())&&(Xe.sort=je.first)}},features:[d.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Menu",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-bars"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(at,Xe){1&at&&(d.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),d._uU(3," Roles"),d.qZA()(),d.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),d.NdJ("click",function(){return Xe.showNewItem()}),d._UZ(8,"i",5),d.qZA(),d.TgZ(9,"button",6),d.NdJ("click",function(){return Xe.deleteSelectedItems()}),d._UZ(10,"i",7),d.qZA()(),d._UZ(11,"div",8),d.qZA(),d.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),d._uU(16,"Buscar"),d.qZA(),d.TgZ(17,"input",10,11),d.NdJ("keyup",function(Ne){return Xe.applyFilter(Ne)}),d.qZA()(),d.TgZ(19,"div",12),d.YNc(20,oe,2,0,"div",13),d.TgZ(21,"div",14)(22,"table",15),d.ynx(23,16),d.YNc(24,le,2,2,"th",17),d.YNc(25,Re,2,1,"td",18),d.BQk(),d.ynx(26,19),d.YNc(27,Y,2,0,"th",20),d.YNc(28,ae,2,1,"td",21),d.BQk(),d.ynx(29,22),d.YNc(30,G,2,0,"th",23),d.YNc(31,De,2,1,"td",24),d.BQk(),d.ynx(32,25),d.YNc(33,ce,1,0,"th",26),d.YNc(34,Te,8,0,"td",27),d.BQk(),d.YNc(35,be,1,0,"tr",28),d.YNc(36,Oe,1,0,"tr",29),d.YNc(37,ye,2,1,"tr",30),d.qZA()()()()(),d.TgZ(38,"div",1)(39,"div",9),d._UZ(40,"mat-paginator",31),d.qZA()()()()),2&at&&(d.xp6(9),d.Q6J("ngClass",d.VKq(7,Ce,!Xe.selection.hasValue())),d.xp6(11),d.Q6J("ngIf",Xe.showLoading),d.xp6(2),d.Q6J("dataSource",Xe.dataSource),d.xp6(13),d.Q6J("matHeaderRowDef",Xe.displayedColumns),d.xp6(1),d.Q6J("matRowDefColumns",Xe.displayedColumns),d.xp6(4),d.Q6J("color","primary")("pageSizeOptions",d.DdM(9,de)))},dependencies:[x.mk,x.O5,e.NW,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,R.Nt,O.KE,O.hX,P.YE,P.nU,S.oG,B.Ou,Z.gM]})}return pe})()},661:(Wn,Je,g)=>{"use strict";g.d(Je,{T:()=>h});var e=g(9604),t=g(5879),v=g(3931),y=g(5908),m=g(6414),P=g(5220),D=g(6814),f=g(5986);function i(p,C){if(1&p){const A=t.EpF();t.TgZ(0,"div",5)(1,"div",14)(2,"mat-checkbox",15),t.NdJ("click",function(R){const S=t.CHM(A).$implicit,I=t.oxw(2);return t.KtG(I.onChangeEnable(R,S))}),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA()(),t.TgZ(5,"div",16)(6,"mat-checkbox",15),t.NdJ("click",function(R){const S=t.CHM(A).$implicit,I=t.oxw(2);return t.KtG(I.onChangeRead(R,S))}),t.qZA()(),t.TgZ(7,"div",16)(8,"mat-checkbox",15),t.NdJ("click",function(R){const S=t.CHM(A).$implicit,I=t.oxw(2);return t.KtG(I.onChangeCreate(R,S))}),t.qZA()(),t.TgZ(9,"div",16)(10,"mat-checkbox",15),t.NdJ("click",function(R){const S=t.CHM(A).$implicit,I=t.oxw(2);return t.KtG(I.onChangeUpdate(R,S))}),t.qZA()(),t.TgZ(11,"div",16)(12,"mat-checkbox",15),t.NdJ("click",function(R){const S=t.CHM(A).$implicit,I=t.oxw(2);return t.KtG(I.onChangeDelete(R,S))}),t.qZA()()()}if(2&p){const A=C.$implicit;t.xp6(2),t.Q6J("checked",A.Enabled),t.xp6(2),t.Oqu(A.MenuTitle),t.xp6(2),t.Q6J("checked",A.AllowRead),t.xp6(2),t.Q6J("checked",A.AllowCreate),t.xp6(2),t.Q6J("checked",A.AllowUpdate),t.xp6(2),t.Q6J("checked",A.AllowDelete)}}const c=function(){return["/manage/roles"]};function d(p,C){if(1&p){const A=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"a",4),t._uU(4,"Roles"),t.qZA(),t._uU(5),t.qZA()(),t.TgZ(6,"div")(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",5),t._UZ(11,"div",8),t.TgZ(12,"div",9),t._uU(13," Ver "),t.qZA(),t.TgZ(14,"div",9),t._uU(15," Crear "),t.qZA(),t.TgZ(16,"div",9),t._uU(17," Actualizar "),t.qZA(),t.TgZ(18,"div",9),t._uU(19," Eliminar "),t.qZA()(),t.YNc(20,i,13,6,"ng-template",10),t.qZA(),t.TgZ(21,"div",11)(22,"button",12),t.NdJ("click",function(){t.CHM(A);const R=t.oxw();return t.KtG(R.saveRoleMenus())}),t._uU(23,"Guardar"),t.qZA()(),t._UZ(24,"app-custom-spinner",13),t.qZA()()()()}if(2&p){const A=t.oxw();t.xp6(3),t.Q6J("routerLink",t.DdM(5,c)),t.xp6(2),t.hij(" - ",A.role.Name," - Menus"),t.xp6(15),t.Q6J("ngForOf",A.role.RoleMenus),t.xp6(2),t.Q6J("disabled",A.showLoading),t.xp6(2),t.Q6J("showLoading",A.showLoading)}}let h=(()=>{class p{constructor(A,x,R){this.snackbarService=A,this.activatedRoute=x,this.roleService=R,this.showLoading=!1}ngOnInit(){var A=this.activatedRoute.snapshot.params.roleId;A&&this.roleService.getWithMenus(A).then(x=>{this.role=x.Data},x=>{console.error(x)})}saveRoleMenus(){this.showLoading=!0,this.roleService.updateWithMenus(this.role.Id,this.role.RoleMenus).then(A=>{this.snackbarService.showSnackBar("Se guardaron los menus del rol satisfactoriamente",e.dA.Success),this.showLoading=!1},A=>{this.showLoading=!1})}getTargetFromEvent(A){return A.target}onChangeEnable(A,x){x.Enabled=A.target.checked}onChangeCreate(A,x){x.AllowCreate=A.target.checked}onChangeUpdate(A,x){x.AllowUpdate=A.target.checked}onChangeDelete(A,x){x.AllowDelete=A.target.checked}onChangeRead(A,x){x.AllowRead=A.target.checked}static#e=this.\u0275fac=function(x){return new(x||p)(t.Y36(v.c),t.Y36(y.gz),t.Y36(m.N))};static#t=this.\u0275cmp=t.Xpm({type:p,selectors:[["app-role-menus"]],decls:1,vars:1,consts:[[3,"ngIf"],[1,"container","custom-list-container"],[1,"row","mb-5"],[1,"custom-page-title"],[3,"routerLink"],[1,"row"],[1,"col-12"],[1,"modal-body"],[1,"col-4"],[1,"col-2","text-center","text-truncate"],["ngFor","",3,"ngForOf"],[1,"modal-footer","mt-5"],[1,"btn","btn-primary",3,"disabled","click"],[3,"showLoading"],[1,"col-4","d-flex","align-items-center"],[3,"checked","click"],[1,"col-2","text-center"]],template:function(x,R){1&x&&t.YNc(0,d,25,6,"ng-template",0),2&x&&t.Q6J("ngIf",null!=R.role)},dependencies:[y.rH,P.D,D.sg,D.O5,f.oG]})}return p})()},6414:(Wn,Je,g)=>{"use strict";g.d(Je,{N:()=>m});var e=g(863),t=g(2372),v=g(5879),y=g(9429);let m=(()=>{class P{constructor(f){this.restProvider=f}getWithMenus(f){return new Promise((i,c)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/roles/GetRoleWithMenusAsync/"+f).then(h=>{i(h)},h=>{console.error(h),c(h)})})}updateWithMenus(f,i){return new Promise((c,d)=>{this.restProvider.executeSinovadApiService(e.yw.PUT,"/roles/UpdateRoleMenusAsync/"+f,i).then(p=>{c(p)},p=>{console.error(p),d(p)})})}getItems(f,i,c,d,h,p){return new Promise((C,A)=>{let x=(0,t.Z)();this.lastCallGuid=x;var R="?page="+f.toString()+"&take="+i.toString()+"&sortBy="+c+"&sortDirection="+d+"&searchText="+h+"&searchBy="+p;this.restProvider.executeSinovadApiService(e.yw.GET,"/roles/GetAllWithPaginationAsync"+R).then(S=>{this.lastCallGuid==x&&C(S)},S=>{console.error(S),A(S)})})}saveItem(f){return new Promise((i,c)=>{this.restProvider.executeSinovadApiService(f.Id>0?e.yw.PUT:e.yw.POST,f.Id>0?"/roles/UpdateAsync/"+f.Id:"/roles/CreateAsync",f).then(p=>{i(!0)},p=>{console.error(p),c(p)})})}deleteItem(f){return new Promise((i,c)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/roles/DeleteAsync/"+f).then(h=>{i(h)},h=>{console.error(h),c(h)})})}deleteItems(f){return new Promise((i,c)=>{let d=[];for(let C=0;C<f.length;C++)d.push(f[C].Id);var h=d.join(",");this.restProvider.executeSinovadApiService(e.yw.DELETE,"/roles/DeleteListAsync/"+h).then(C=>{i(C)},C=>{console.error(C),c(C)})})}static#e=this.\u0275fac=function(i){return new(i||P)(v.LFG(y.C))};static#t=this.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},5510:(Wn,Je,g)=>{"use strict";g.d(Je,{Z:()=>D});var e=g(863),t=g(2372),v=g(5879),y=g(1044),m=g(1367),P=g(9429);let D=(()=>{class f{constructor(c,d,h){this.libraryService=c,this.sharedDataService=d,this.restProvider=h}getMediaServers(){return new Promise((c,d)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/mediaServers/GetAllByUserAsync/"+this.sharedDataService.userData.Id).then(h=>{this.sharedDataService.mediaServers=h.Data,this.sharedDataService.mediaServers.forEach(C=>{this.executeGetLibrariesByMediaServer(C)}),c(!0)},h=>{d(h)})})}executeGetLibrariesByMediaServer(c){c.isSecureConnection?this.libraryService.getLibrariesByMediaServer(c.Url).then(d=>{c.ListLibraries=d},d=>{}):c.ListLibraries=[]}getMediaServerByGuid(c){return new Promise((d,h)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/mediaServers/GetByGuidAsync/"+c).then(p=>{d(p)},p=>{console.error(p),h(p)})})}getItems(c,d,h,p,C,A,x){return new Promise((R,O)=>{let S=(0,t.Z)();this.lastCallGuid=S;var I="?page="+d.toString()+"&take="+h.toString()+"&sortBy="+p+"&sortDirection="+C+"&searchText="+A+"&searchBy="+x;this.restProvider.executeSinovadApiService(e.yw.GET,"/mediaServers/GetAllWithPaginationByUserAsync/"+c+I).then(L=>{this.lastCallGuid==S&&R(L)},L=>{console.error(L),O(L)})})}saveItem(c){return new Promise((d,h)=>{this.restProvider.executeSinovadApiService(c.Id>0?e.yw.PUT:e.yw.POST,c.Id>0?"/mediaServers/UpdateAsync/"+c.Id:"/mediaServers/CreateAsync",c).then(A=>{d(!0)},A=>{console.error(A),h(A)})})}deleteItem(c){return new Promise((d,h)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/mediaServers/DeleteAsync/"+c).then(C=>{d(C)},C=>{console.error(C),h(C)})})}static#e=this.\u0275fac=function(d){return new(d||f)(v.LFG(y.$),v.LFG(m.g),v.LFG(P.C))};static#t=this.\u0275prov=v.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},2098:(Wn,Je,g)=>{"use strict";g.d(Je,{f:()=>Qt});var e=g(2877),t=g(1476),v=g(3566),y=g(7700),m=g(5313),P=g(8923),D=g(9604);class f{}var i=g(5879),c=g(8726),d=g(6814);class h{}class p{}var C=g(95),A=g(5550),x=g(3931),R=g(863),O=g(2372),S=g(9429);let I=(()=>{class Nt{constructor(kt){this.restProvider=kt}getItems(kt,wt,Pt,en,An,Vn,ii){return new Promise((Ft,Pn)=>{let Le=(0,O.Z)();this.lastCallGuid=Le;var Bt="?page="+wt.toString()+"&take="+Pt.toString()+"&sortBy="+en+"&sortDirection="+An+"&searchText="+Vn+"&searchBy="+ii;this.restProvider.executeSinovadApiService(R.yw.GET,"/seasons/"+kt+"/episodes/GetAllWithPaginationAsync"+Bt).then(ln=>{this.lastCallGuid==Le&&Ft(ln)},ln=>{console.error(ln),Pn(ln)})})}saveItem(kt){return new Promise((wt,Pt)=>{this.restProvider.executeSinovadApiService(kt.Id>0?R.yw.PUT:R.yw.POST,kt.Id>0?"/seasons/"+kt.SeasonId+"/episodes/UpdateAsync/"+kt.Id:"/seasons/"+kt.SeasonId+"/episodes/CreateAsync",kt).then(Vn=>{wt(!0)},Vn=>{console.error(Vn),Pt(Vn)})})}createList(kt,wt){return new Promise((Pt,en)=>{this.restProvider.executeSinovadApiService(R.yw.POST,"/seasons/"+kt+"/episodes/CreateListAsync",wt).then(An=>{Pt(!0)},An=>{console.error(An),en(An)})})}deleteItem(kt,wt){return new Promise((Pt,en)=>{this.restProvider.executeSinovadApiService(R.yw.DELETE,"/seasons/"+kt+"/episodes/DeleteAsync/"+wt).then(Vn=>{Pt(Vn)},Vn=>{console.error(Vn),en(Vn)})})}deleteItems(kt,wt){return new Promise((Pt,en)=>{let An=[];for(let Ft=0;Ft<wt.length;Ft++)An.push(wt[Ft].Id);var Vn=An.join(",");this.restProvider.executeSinovadApiService(R.yw.DELETE,"/seasons/"+kt+"/episodes/DeleteListAsync/"+Vn).then(Ft=>{Pt(Ft)},Ft=>{console.error(Ft),en(Ft)})})}static#e=this.\u0275fac=function(wt){return new(wt||Nt)(i.LFG(S.C))};static#t=this.\u0275prov=i.Yz7({token:Nt,factory:Nt.\u0275fac,providedIn:"root"})}return Nt})();var E=g(5220),L=g(2032),b=g(4170);function B(Nt,xn){1&Nt&&(i.TgZ(0,"mat-error"),i._uU(1," T\xcdtulo es "),i.TgZ(2,"strong"),i._uU(3,"requerido"),i.qZA()())}function Z(Nt,xn){if(1&Nt){const kt=i.EpF();i.TgZ(0,"form",1),i.NdJ("ngSubmit",function(){i.CHM(kt);const Pt=i.oxw();return i.KtG(Pt.saveItem())}),i.TgZ(1,"div",2)(2,"h5",3),i._uU(3),i.qZA(),i.TgZ(4,"button",4),i.NdJ("click",function(){i.CHM(kt);const Pt=i.oxw();return i.KtG(Pt.closeModal())}),i._UZ(5,"i",5),i.qZA()(),i.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),i._uU(9,"T\xcdtulo"),i.qZA(),i._UZ(10,"input",7),i.YNc(11,B,4,0,"mat-error",8),i.qZA(),i.TgZ(12,"mat-form-field")(13,"mat-label"),i._uU(14,"N\xfamero"),i.qZA(),i._UZ(15,"input",9),i.qZA(),i.TgZ(16,"mat-form-field")(17,"mat-label"),i._uU(18,"Resumen"),i.qZA(),i._UZ(19,"textarea",10),i.qZA()(),i.TgZ(20,"div",11)(21,"button",12),i.NdJ("click",function(){i.CHM(kt);const Pt=i.oxw();return i.KtG(Pt.closeModal())}),i._uU(22,"Close"),i.qZA(),i.TgZ(23,"button",13),i._uU(24,"Guardar"),i.qZA()()(),i._UZ(25,"app-custom-spinner",14)}if(2&Nt){const kt=i.oxw();i.Q6J("formGroup",kt.episodeFormGroup),i.xp6(3),i.Oqu(kt.episode.Id>0?"Editar":"Nuevo"),i.xp6(7),i.Q6J("errorStateMatcher",kt.matcher),i.xp6(1),i.Q6J("ngIf",kt.episodeFormGroup.controls.title.hasError("required")),i.xp6(12),i.Q6J("disabled",kt.showLoading||!kt.episodeFormGroup.valid),i.xp6(2),i.Q6J("showLoading",kt.showLoading)}}let oe=(()=>{class Nt{constructor(kt,wt,Pt,en){this.formBuilder=kt,this.activeModal=wt,this.snackbarService=Pt,this.episodeService=en,this.showLoading=!1,this.matcher=new A.n}ngAfterViewInit(){this.episodeFormGroup=this.formBuilder.group({title:new C.NI(this.episode.Title,[C.kI.required]),episodeNumber:new C.NI(this.episode.EpisodeNumber),summary:new C.NI(this.episode.Summary)})}saveItem(){if(this.episodeFormGroup.valid){this.showLoading=!0;var kt=JSON.parse(JSON.stringify(this.episode));kt.EpisodeNumber=this.episodeFormGroup.value.episodeNumber,kt.Title=this.episodeFormGroup.value.title,kt.Summary=this.episodeFormGroup.value.summary,this.episodeService.saveItem(kt).then(wt=>{this.showLoading=!1,this.episode=void 0,this.snackbarService.showSnackBar("Se guardo el episodio satisfactoriamente satisfactoriamente",D.dA.Success),this.activeModal.close()},wt=>{this.showLoading=!1,this.snackbarService.showSnackBar(wt,D.dA.Error)})}else this.episodeFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(wt){return new(wt||Nt)(i.Y36(C.qu),i.Y36(c.Kz),i.Y36(x.c),i.Y36(I))};static#t=this.\u0275cmp=i.Xpm({type:Nt,selectors:[["app-episode-form"]],inputs:{episode:"episode"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","episodeNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(wt,Pt){1&wt&&i.YNc(0,Z,26,6,"ng-template",0),2&wt&&i.Q6J("ngIf",null!=Pt.episode&&Pt.episodeFormGroup)},dependencies:[C._Y,C.Fj,C.wV,C.JJ,C.JL,C.sg,C.u,E.D,d.O5,L.Nt,b.KE,b.hX,b.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return Nt})();function le(Nt,xn){1&Nt&&(i.TgZ(0,"mat-error"),i._uU(1," El campo es "),i.TgZ(2,"strong"),i._uU(3,"requerido"),i.qZA()())}function Re(Nt,xn){1&Nt&&(i.TgZ(0,"mat-error"),i._uU(1," El campo es "),i.TgZ(2,"strong"),i._uU(3,"requerido"),i.qZA()())}function Y(Nt,xn){if(1&Nt){const kt=i.EpF();i.TgZ(0,"form",1),i.NdJ("ngSubmit",function(){i.CHM(kt);const Pt=i.oxw();return i.KtG(Pt.save())}),i.TgZ(1,"div",2)(2,"h5",3),i._uU(3,"Rango de Episodios"),i.qZA(),i.TgZ(4,"button",4),i.NdJ("click",function(){i.CHM(kt);const Pt=i.oxw();return i.KtG(Pt.closeModal())}),i._UZ(5,"i",5),i.qZA()(),i.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),i._uU(9,"Desde"),i.qZA(),i._UZ(10,"input",7),i.YNc(11,le,4,0,"mat-error",8),i.qZA(),i.TgZ(12,"mat-form-field")(13,"mat-label"),i._uU(14,"Hasta"),i.qZA(),i._UZ(15,"input",9),i.YNc(16,Re,4,0,"mat-error",8),i.qZA()(),i.TgZ(17,"div",10)(18,"button",11),i.NdJ("click",function(){i.CHM(kt);const Pt=i.oxw();return i.KtG(Pt.closeModal())}),i._uU(19,"Close"),i.qZA(),i.TgZ(20,"button",12),i._uU(21,"Guardar"),i.qZA()(),i._UZ(22,"app-custom-spinner",13),i.qZA()}if(2&Nt){const kt=i.oxw();i.Q6J("formGroup",kt.formGroup),i.xp6(11),i.Q6J("ngIf",kt.formGroup.controls.initialEpisodeNumber.hasError("required")),i.xp6(5),i.Q6J("ngIf",kt.formGroup.controls.lastEpisodeNumber.hasError("required")),i.xp6(4),i.Q6J("disabled",kt.showLoading||!kt.formGroup.valid),i.xp6(2),i.Q6J("showLoading",kt.showLoading)}}let ae=(()=>{class Nt{constructor(kt,wt,Pt){this.formBuilder=kt,this.episodeService=wt,this.activeModal=Pt,this.matcher=new A.n,this.showLoading=!1}ngAfterViewInit(){this.formGroup=this.formBuilder.group({initialEpisodeNumber:new C.NI("",[C.kI.required]),lastEpisodeNumber:new C.NI("",[C.kI.required])})}save(){if(this.formGroup.valid){this.showLoading=!0;let wt=[];for(let Pt=Number(this.formGroup.value.initialEpisodeNumber);Pt<=Number(this.formGroup.value.lastEpisodeNumber);Pt++){var kt=new p;kt.EpisodeNumber=Pt,kt.SeasonId=this.parent.Id,kt.Title="Episodio "+Pt,wt.push(kt)}this.episodeService.createList(this.parent.Id,wt).then(Pt=>{this.showLoading=!1,this.activeModal.close(!0)},Pt=>{this.showLoading=!1,console.error(Pt)})}else this.formGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(wt){return new(wt||Nt)(i.Y36(C.qu),i.Y36(I),i.Y36(c.Kz))};static#t=this.\u0275cmp=i.Xpm({type:Nt,selectors:[["app-episode-range-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["type","number","matInput","","formControlName","initialEpisodeNumber"],[4,"ngIf"],["type","number","matInput","","formControlName","lastEpisodeNumber"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(wt,Pt){1&wt&&i.YNc(0,Y,23,5,"form",0),2&wt&&i.Q6J("ngIf",Pt.formGroup)},dependencies:[C._Y,C.Fj,C.wV,C.JJ,C.JL,C.sg,C.u,E.D,d.O5,L.Nt,b.KE,b.hX,b.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return Nt})();var G=g(5986),De=g(5940),ce=g(2596);function Te(Nt,xn){1&Nt&&(i.TgZ(0,"div",32),i._UZ(1,"mat-spinner"),i.qZA())}function be(Nt,xn){if(1&Nt){const kt=i.EpF();i.TgZ(0,"th",33)(1,"mat-checkbox",34),i.NdJ("change",function(Pt){i.CHM(kt);const en=i.oxw();return i.KtG(Pt?en.toggleAllRows():null)}),i.qZA()()}if(2&Nt){const kt=i.oxw();i.xp6(1),i.Q6J("checked",kt.selection.hasValue()&&kt.isAllSelected())("indeterminate",kt.selection.hasValue()&&!kt.isAllSelected())}}function Oe(Nt,xn){if(1&Nt){const kt=i.EpF();i.TgZ(0,"td",35)(1,"mat-checkbox",36),i.NdJ("click",function(Pt){const An=i.CHM(kt).$implicit,Vn=i.oxw();return i.KtG(Vn.onChangeCheckValue(Pt,An))}),i.qZA()()}if(2&Nt){const kt=xn.$implicit,wt=i.oxw();i.xp6(1),i.Q6J("checked",wt.selection.isSelected(kt))}}function ie(Nt,xn){1&Nt&&(i.TgZ(0,"th",37),i._uU(1,"N\xb0"),i.qZA())}function ye(Nt,xn){if(1&Nt&&(i.TgZ(0,"td",38),i._uU(1),i.qZA()),2&Nt){const kt=xn.$implicit;i.xp6(1),i.hij(" ",kt.EpisodeNumber,"")}}function Ce(Nt,xn){1&Nt&&(i.TgZ(0,"th",39),i._uU(1,"T\xcdtulo"),i.qZA())}function de(Nt,xn){if(1&Nt&&(i.TgZ(0,"td",40),i._uU(1),i.qZA()),2&Nt){const kt=xn.$implicit;i.xp6(1),i.hij(" ",kt.Title," ")}}function Me(Nt,xn){1&Nt&&i._UZ(0,"th",41)}function pe(Nt,xn){if(1&Nt){const kt=i.EpF();i.TgZ(0,"td",42)(1,"div",43)(2,"button",44),i.NdJ("click",function(){const en=i.CHM(kt).$implicit,An=i.oxw();return i.KtG(An.editItem(en))}),i._UZ(3,"i",45),i.qZA(),i.TgZ(4,"button",46),i.NdJ("click",function(){const en=i.CHM(kt).$implicit,An=i.oxw();return i.KtG(An.deleteItem(en))}),i._UZ(5,"i",7),i.qZA()()()}}function Ie(Nt,xn){1&Nt&&i._UZ(0,"tr",47)}function Be(Nt,xn){1&Nt&&i._UZ(0,"tr",48)}function at(Nt,xn){1&Nt&&(i.TgZ(0,"td",51),i._uU(1,"No se encontraron datos"),i.qZA())}function Xe(Nt,xn){if(1&Nt&&(i.TgZ(0,"tr",49),i.YNc(1,at,2,0,"td",50),i.qZA()),2&Nt){const kt=i.oxw();i.xp6(1),i.Q6J("ngIf",!kt.showLoading)}}const je=function(Nt){return{disable:Nt}},Ne=function(){return[5,10,25,100]};let ee=(()=>{class Nt extends e.G{constructor(kt,wt,Pt,en,An){super(en),this.modalService=kt,this.dialog=wt,this.episodeService=Pt,this.matPaginatorIntl=en,this.snackbarService=An}ngAfterViewInit(){this.paginator.page.subscribe(kt=>{this.updatePageData(kt),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(kt=>{this.currentPage=1,this.sortBy=kt.active,this.sortDirection=kt.direction,this.getAllItems()}),this.sortBy="EpisodeNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"EpisodeNumber",start:"asc",disableClear:!0}),this.searchBy="EpisodeNumber|Title",this.dataSource.sort=this.sort}applyFilter(kt){this.searchText=kt.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var kt=new p;kt.SeasonId=this.parentItem.Id,this.showModalForm(kt)}editItem(kt){this.showModalForm(kt)}showModalForm(kt){var wt=this,Pt=this.modalService.open(oe,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});Pt.componentInstance.episode=kt,Pt.closed.subscribe(en=>{wt.getAllItems()})}getAllItems(){this.showLoading=!0,this.episodeService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(kt=>{this.showLoading=!1;var wt=kt.Data;this.totalCount=kt.TotalCount,this.listItems=wt,this.dataSource=new m.by(wt),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},kt=>{this.showLoading=!1})}deleteItem(kt){var wt=new y.vA;wt.data={title:"Eliminar Episodio",message:"\xbfEsta seguro que desea eliminar el episodio "+kt.Title+"?",accordMessage:"Si, eliminar el episodio '"+kt.Title+"'"},this.dialog.open(P.k,wt).afterClosed().subscribe(Pt=>{Pt&&this.executeDeleteItem(kt)})}executeDeleteItem(kt){this.showLoading=!0,this.episodeService.deleteItem(this.parentItem.Id,kt.Id).then(wt=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",D.dA.Success),this.getAllItems()},wt=>{this.showLoading=!1,this.snackbarService.showSnackBar(wt,D.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var kt=new y.vA;kt.data={title:"Eliminar episodios",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(P.k,kt).afterClosed().subscribe(wt=>{wt&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.episodeService.deleteItems(this.parentItem.Id,this.selection.selected).then(kt=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",D.dA.Success),this.getAllItems()},kt=>{this.showLoading=!1,this.snackbarService.showSnackBar(kt,D.dA.Error)})}getDisplayedColumns(){return["Select","EpisodeNumber","Title","Actions"]}showEpisodeRangeModal(){var kt=this,wt=this.modalService.open(ae,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});wt.componentInstance.parent=this.parentItem,wt.closed.subscribe(Pt=>{kt.getAllItems()})}static#e=this.\u0275fac=function(wt){return new(wt||Nt)(i.Y36(c.FF),i.Y36(y.uw),i.Y36(I),i.Y36(t.ye),i.Y36(x.c))};static#t=this.\u0275cmp=i.Xpm({type:Nt,selectors:[["app-episode-list"]],viewQuery:function(wt,Pt){if(1&wt&&(i.Gf(t.NW,5),i.Gf(v.YE,5)),2&wt){let en;i.iGM(en=i.CRH())&&(Pt.paginator=en.first),i.iGM(en=i.CRH())&&(Pt.sort=en.first)}},inputs:{parentItem:"parentItem"},features:[i.qOj],decls:42,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],["type","button",1,"custom-toolbar-button",3,"click"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","EpisodeNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(wt,Pt){1&wt&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),i._uU(3),i.qZA()(),i.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),i.NdJ("click",function(){return Pt.showNewItem()}),i._UZ(8,"i",5),i.qZA(),i.TgZ(9,"button",6),i.NdJ("click",function(){return Pt.deleteSelectedItems()}),i._UZ(10,"i",7),i.qZA(),i.TgZ(11,"button",8),i.NdJ("click",function(){return Pt.showEpisodeRangeModal()}),i._uU(12," Agregar por Rango "),i.qZA()()(),i.TgZ(13,"div",1)(14,"div",9)(15,"mat-form-field")(16,"mat-label"),i._uU(17,"Buscar"),i.qZA(),i.TgZ(18,"input",10,11),i.NdJ("keyup",function(An){return Pt.applyFilter(An)}),i.qZA()(),i.TgZ(20,"div",12),i.YNc(21,Te,2,0,"div",13),i.TgZ(22,"div",14)(23,"table",15),i.ynx(24,16),i.YNc(25,be,2,2,"th",17),i.YNc(26,Oe,2,1,"td",18),i.BQk(),i.ynx(27,19),i.YNc(28,ie,2,0,"th",20),i.YNc(29,ye,2,1,"td",21),i.BQk(),i.ynx(30,22),i.YNc(31,Ce,2,0,"th",23),i.YNc(32,de,2,1,"td",24),i.BQk(),i.ynx(33,25),i.YNc(34,Me,1,0,"th",26),i.YNc(35,pe,6,0,"td",27),i.BQk(),i.YNc(36,Ie,1,0,"tr",28),i.YNc(37,Be,1,0,"tr",29),i.YNc(38,Xe,2,1,"tr",30),i.qZA()()()()(),i.TgZ(39,"div",1)(40,"div",9),i._UZ(41,"mat-paginator",31),i.qZA()()()()),2&wt&&(i.xp6(3),i.hij("",Pt.parentItem.Name," :Episodios"),i.xp6(6),i.Q6J("ngClass",i.VKq(8,je,!Pt.selection.hasValue())),i.xp6(12),i.Q6J("ngIf",Pt.showLoading),i.xp6(2),i.Q6J("dataSource",Pt.dataSource),i.xp6(13),i.Q6J("matHeaderRowDef",Pt.getDisplayedColumns()),i.xp6(1),i.Q6J("matRowDefColumns",Pt.getDisplayedColumns()),i.xp6(4),i.Q6J("color","primary")("pageSizeOptions",i.DdM(10,Ne)))},dependencies:[d.mk,d.O5,t.NW,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,L.Nt,b.KE,b.hX,v.YE,v.nU,G.oG,De.Ou,ce.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return Nt})();function fe(Nt,xn){if(1&Nt){const kt=i.EpF();i.TgZ(0,"div",1)(1,"h5",2),i._uU(2),i.qZA(),i.TgZ(3,"button",3),i.NdJ("click",function(){i.CHM(kt);const Pt=i.oxw();return i.KtG(Pt.closeModal())}),i._UZ(4,"i",4),i.qZA()(),i.TgZ(5,"div",5),i._UZ(6,"app-episode-list",6),i.qZA(),i.TgZ(7,"div",7)(8,"button",8),i.NdJ("click",function(){i.CHM(kt);const Pt=i.oxw();return i.KtG(Pt.closeModal())}),i._uU(9,"Close"),i.qZA()()}if(2&Nt){const kt=i.oxw();i.xp6(2),i.hij("",kt.parent.Name," :Episodios"),i.xp6(4),i.Q6J("parentItem",kt.parent)}}let we=(()=>{class Nt{constructor(kt){this.activeModal=kt}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(wt){return new(wt||Nt)(i.Y36(c.Kz))};static#t=this.\u0275cmp=i.Xpm({type:Nt,selectors:[["app-episode-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(wt,Pt){1&wt&&i.YNc(0,fe,10,2,"ng-template",0),2&wt&&i.Q6J("ngIf",null!=Pt.parent)},dependencies:[d.O5,ee]})}return Nt})(),q=(()=>{class Nt{constructor(kt){this.restProvider=kt}getItems(kt,wt,Pt,en,An,Vn,ii){return new Promise((Ft,Pn)=>{let Le=(0,O.Z)();this.lastCallGuid=Le;var Bt="?page="+wt.toString()+"&take="+Pt.toString()+"&sortBy="+en+"&sortDirection="+An+"&searchText="+Vn+"&searchBy="+ii;this.restProvider.executeSinovadApiService(R.yw.GET,"/tvSeries/"+kt+"/seasons/GetAllWithPaginationAsync"+Bt).then(ln=>{this.lastCallGuid==Le&&Ft(ln)},ln=>{console.error(ln),Pn(ln)})})}saveItem(kt){return new Promise((wt,Pt)=>{this.restProvider.executeSinovadApiService(kt.Id>0?R.yw.PUT:R.yw.POST,kt.Id>0?"/tvSeries/"+kt.TvSerieId+"/seasons/UpdateAsync/"+kt.Id:"/tvSeries/"+kt.TvSerieId+"/seasons/CreateAsync",kt).then(Vn=>{wt(!0)},Vn=>{console.error(Vn),Pt(Vn)})})}deleteItem(kt,wt){return new Promise((Pt,en)=>{this.restProvider.executeSinovadApiService(R.yw.DELETE,"/tvSeries/"+kt+"/seasons/DeleteAsync/"+wt).then(Vn=>{Pt(Vn)},Vn=>{console.error(Vn),en(Vn)})})}deleteItems(kt,wt){return new Promise((Pt,en)=>{let An=[];for(let Ft=0;Ft<wt.length;Ft++)An.push(wt[Ft].Id);var Vn=An.join(",");this.restProvider.executeSinovadApiService(R.yw.DELETE,"/tvSeries/"+kt+"/seasons/DeleteListAsync/"+Vn).then(Ft=>{Pt(Ft)},Ft=>{console.error(Ft),en(Ft)})})}static#e=this.\u0275fac=function(wt){return new(wt||Nt)(i.LFG(S.C))};static#t=this.\u0275prov=i.Yz7({token:Nt,factory:Nt.\u0275fac,providedIn:"root"})}return Nt})();function $(Nt,xn){1&Nt&&(i.TgZ(0,"mat-error"),i._uU(1," Nombre es "),i.TgZ(2,"strong"),i._uU(3,"requerido"),i.qZA()())}function Q(Nt,xn){if(1&Nt){const kt=i.EpF();i.TgZ(0,"form",1),i.NdJ("ngSubmit",function(){i.CHM(kt);const Pt=i.oxw();return i.KtG(Pt.saveItem())}),i.TgZ(1,"div",2)(2,"h5",3),i._uU(3),i.qZA(),i.TgZ(4,"button",4),i.NdJ("click",function(){i.CHM(kt);const Pt=i.oxw();return i.KtG(Pt.closeModal())}),i._UZ(5,"i",5),i.qZA()(),i.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),i._uU(9,"Nombre"),i.qZA(),i._UZ(10,"input",7),i.YNc(11,$,4,0,"mat-error",8),i.qZA(),i.TgZ(12,"mat-form-field")(13,"mat-label"),i._uU(14,"N\xfamero"),i.qZA(),i._UZ(15,"input",9),i.qZA(),i.TgZ(16,"mat-form-field")(17,"mat-label"),i._uU(18,"Resumen"),i.qZA(),i._UZ(19,"textarea",10),i.qZA()(),i.TgZ(20,"div",11)(21,"button",12),i.NdJ("click",function(){i.CHM(kt);const Pt=i.oxw();return i.KtG(Pt.closeModal())}),i._uU(22,"Close"),i.qZA(),i.TgZ(23,"button",13),i._uU(24,"Guardar"),i.qZA()()(),i._UZ(25,"app-custom-spinner",14)}if(2&Nt){const kt=i.oxw();i.Q6J("formGroup",kt.seasonFormGroup),i.xp6(3),i.Oqu(kt.season.Id>0?"Editar":"Nuevo"),i.xp6(7),i.Q6J("errorStateMatcher",kt.matcher),i.xp6(1),i.Q6J("ngIf",kt.seasonFormGroup.controls.name.hasError("required")),i.xp6(12),i.Q6J("disabled",kt.showLoading||!kt.seasonFormGroup.valid),i.xp6(2),i.Q6J("showLoading",kt.showLoading)}}let ne=(()=>{class Nt{constructor(kt,wt,Pt,en){this.formBuilder=kt,this.activeModal=wt,this.snackbarService=Pt,this.seasonService=en,this.showLoading=!1,this.matcher=new A.n}ngAfterViewInit(){this.seasonFormGroup=this.formBuilder.group({name:new C.NI(this.season.Name,[C.kI.required]),seasonNumber:new C.NI(this.season.SeasonNumber),summary:new C.NI(this.season.Summary)})}saveItem(){if(this.seasonFormGroup.valid){this.showLoading=!0;var kt=JSON.parse(JSON.stringify(this.season));kt.SeasonNumber=this.seasonFormGroup.value.seasonNumber,kt.Name=this.seasonFormGroup.value.name,kt.Summary=this.seasonFormGroup.value.summary,this.seasonService.saveItem(kt).then(wt=>{this.showLoading=!1,this.season=void 0,this.snackbarService.showSnackBar("Se guardo la temporada satisfactoriamente satisfactoriamente",D.dA.Success),this.activeModal.close()},wt=>{this.showLoading=!1,this.snackbarService.showSnackBar(wt,D.dA.Error)})}else this.seasonFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(wt){return new(wt||Nt)(i.Y36(C.qu),i.Y36(c.Kz),i.Y36(x.c),i.Y36(q))};static#t=this.\u0275cmp=i.Xpm({type:Nt,selectors:[["app-season-form"]],inputs:{season:"season"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","seasonNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(wt,Pt){1&wt&&i.YNc(0,Q,26,6,"ng-template",0),2&wt&&i.Q6J("ngIf",null!=Pt.season&&Pt.seasonFormGroup)},dependencies:[C._Y,C.Fj,C.wV,C.JJ,C.JL,C.sg,C.u,E.D,d.O5,L.Nt,b.KE,b.hX,b.TO],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return Nt})();function X(Nt,xn){1&Nt&&(i.TgZ(0,"div",32),i._UZ(1,"mat-spinner"),i.qZA())}function re(Nt,xn){if(1&Nt){const kt=i.EpF();i.TgZ(0,"th",33)(1,"mat-checkbox",34),i.NdJ("change",function(Pt){i.CHM(kt);const en=i.oxw();return i.KtG(Pt?en.toggleAllRows():null)}),i.qZA()()}if(2&Nt){const kt=i.oxw();i.xp6(1),i.Q6J("checked",kt.selection.hasValue()&&kt.isAllSelected())("indeterminate",kt.selection.hasValue()&&!kt.isAllSelected())}}function J(Nt,xn){if(1&Nt){const kt=i.EpF();i.TgZ(0,"td",35)(1,"mat-checkbox",36),i.NdJ("click",function(Pt){const An=i.CHM(kt).$implicit,Vn=i.oxw();return i.KtG(Vn.onChangeCheckValue(Pt,An))}),i.qZA()()}if(2&Nt){const kt=xn.$implicit,wt=i.oxw();i.xp6(1),i.Q6J("checked",wt.selection.isSelected(kt))}}function ge(Nt,xn){1&Nt&&(i.TgZ(0,"th",37),i._uU(1,"N\xb0"),i.qZA())}function Se(Nt,xn){if(1&Nt&&(i.TgZ(0,"td",38),i._uU(1),i.qZA()),2&Nt){const kt=xn.$implicit;i.xp6(1),i.hij(" ",kt.SeasonNumber,"")}}function Ee(Nt,xn){1&Nt&&(i.TgZ(0,"th",39),i._uU(1,"Nombre"),i.qZA())}function Fe(Nt,xn){if(1&Nt&&(i.TgZ(0,"td",40),i._uU(1),i.qZA()),2&Nt){const kt=xn.$implicit;i.xp6(1),i.hij(" ",kt.Name," ")}}function ct(Nt,xn){1&Nt&&i._UZ(0,"th",41)}function qe(Nt,xn){if(1&Nt){const kt=i.EpF();i.TgZ(0,"td",42)(1,"div",43)(2,"button",44),i.NdJ("click",function(){const en=i.CHM(kt).$implicit,An=i.oxw();return i.KtG(An.showEpisodeListModal(en))}),i._UZ(3,"i",45),i.qZA(),i.TgZ(4,"button",46),i.NdJ("click",function(){const en=i.CHM(kt).$implicit,An=i.oxw();return i.KtG(An.editItem(en))}),i._UZ(5,"i",47),i.qZA(),i.TgZ(6,"button",48),i.NdJ("click",function(){const en=i.CHM(kt).$implicit,An=i.oxw();return i.KtG(An.deleteItem(en))}),i._UZ(7,"i",7),i.qZA()()()}}function tt(Nt,xn){1&Nt&&i._UZ(0,"tr",49)}function gt(Nt,xn){1&Nt&&i._UZ(0,"tr",50)}function Qe(Nt,xn){1&Nt&&(i.TgZ(0,"td",53),i._uU(1,"No se encontraron datos"),i.qZA())}function yt(Nt,xn){if(1&Nt&&(i.TgZ(0,"tr",51),i.YNc(1,Qe,2,0,"td",52),i.qZA()),2&Nt){const kt=i.oxw();i.xp6(1),i.Q6J("ngIf",!kt.showLoading)}}const Et=function(Nt){return{disable:Nt}},me=function(){return[5,10,25,100]};let We=(()=>{class Nt extends e.G{constructor(kt,wt,Pt,en,An){super(en),this.modalService=kt,this.dialog=wt,this.seasonService=Pt,this.matPaginatorIntl=en,this.snackbarService=An}ngAfterViewInit(){this.paginator.page.subscribe(kt=>{this.updatePageData(kt),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(kt=>{this.currentPage=1,this.sortBy=kt.active,this.sortDirection=kt.direction,this.getAllItems()}),this.sortBy="SeasonNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"SeasonNumber",start:"asc",disableClear:!0}),this.searchBy="SeasonNumber",this.dataSource.sort=this.sort}applyFilter(kt){this.searchText=kt.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var kt=new h;kt.TvSerieId=this.parentItem.Id,this.showModalForm(kt)}editItem(kt){this.showModalForm(kt)}showModalForm(kt){var wt=this,Pt=this.modalService.open(ne,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});Pt.componentInstance.season=kt,Pt.closed.subscribe(en=>{wt.getAllItems()})}getAllItems(){this.showLoading=!0,this.seasonService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(kt=>{this.showLoading=!1;var wt=kt.Data;this.totalCount=kt.TotalCount,this.listItems=wt,this.dataSource=new m.by(wt),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},kt=>{this.showLoading=!1})}deleteItem(kt){var wt=new y.vA;wt.data={title:"Eliminar Temporada",message:"\xbfEsta seguro que desea eliminar la temporada "+kt.Name+"?",accordMessage:"Si, eliminar la temporada '"+kt.Name+"'"},this.dialog.open(P.k,wt).afterClosed().subscribe(Pt=>{Pt&&this.executeDeleteItem(kt)})}executeDeleteItem(kt){this.showLoading=!0,this.seasonService.deleteItem(kt.TvSerieId,kt.Id).then(wt=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",D.dA.Success),this.getAllItems()},wt=>{this.showLoading=!1,this.snackbarService.showSnackBar(wt,D.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var kt=new y.vA;kt.data={title:"Eliminar seasons",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(P.k,kt).afterClosed().subscribe(wt=>{wt&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.seasonService.deleteItems(this.parentItem.Id,this.selection.selected).then(kt=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",D.dA.Success),this.getAllItems()},kt=>{this.showLoading=!1,this.snackbarService.showSnackBar(kt,D.dA.Error)})}getDisplayedColumns(){return["Select","SeasonNumber","Name","Actions"]}showEpisodeListModal(kt){var Pt=this.modalService.open(we,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});Pt.componentInstance.parent=kt,Pt.closed.subscribe(en=>{})}static#e=this.\u0275fac=function(wt){return new(wt||Nt)(i.Y36(c.FF),i.Y36(y.uw),i.Y36(q),i.Y36(t.ye),i.Y36(x.c))};static#t=this.\u0275cmp=i.Xpm({type:Nt,selectors:[["app-season-list"]],viewQuery:function(wt,Pt){if(1&wt&&(i.Gf(t.NW,5),i.Gf(v.YE,5)),2&wt){let en;i.iGM(en=i.CRH())&&(Pt.paginator=en.first),i.iGM(en=i.CRH())&&(Pt.sort=en.first)}},inputs:{parentItem:"parentItem"},features:[i.qOj],decls:41,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","SeasonNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver episodios",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(wt,Pt){1&wt&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),i._uU(3),i.qZA()(),i.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),i.NdJ("click",function(){return Pt.showNewItem()}),i._UZ(8,"i",5),i.qZA(),i.TgZ(9,"button",6),i.NdJ("click",function(){return Pt.deleteSelectedItems()}),i._UZ(10,"i",7),i.qZA()(),i._UZ(11,"div",8),i.qZA(),i.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),i._uU(16,"Buscar"),i.qZA(),i.TgZ(17,"input",10,11),i.NdJ("keyup",function(An){return Pt.applyFilter(An)}),i.qZA()(),i.TgZ(19,"div",12),i.YNc(20,X,2,0,"div",13),i.TgZ(21,"div",14)(22,"table",15),i.ynx(23,16),i.YNc(24,re,2,2,"th",17),i.YNc(25,J,2,1,"td",18),i.BQk(),i.ynx(26,19),i.YNc(27,ge,2,0,"th",20),i.YNc(28,Se,2,1,"td",21),i.BQk(),i.ynx(29,22),i.YNc(30,Ee,2,0,"th",23),i.YNc(31,Fe,2,1,"td",24),i.BQk(),i.ynx(32,25),i.YNc(33,ct,1,0,"th",26),i.YNc(34,qe,8,0,"td",27),i.BQk(),i.YNc(35,tt,1,0,"tr",28),i.YNc(36,gt,1,0,"tr",29),i.YNc(37,yt,2,1,"tr",30),i.qZA()()()()(),i.TgZ(38,"div",1)(39,"div",9),i._UZ(40,"mat-paginator",31),i.qZA()()()()),2&wt&&(i.xp6(3),i.hij("",Pt.parentItem.Name," :Temporadas"),i.xp6(6),i.Q6J("ngClass",i.VKq(8,Et,!Pt.selection.hasValue())),i.xp6(11),i.Q6J("ngIf",Pt.showLoading),i.xp6(2),i.Q6J("dataSource",Pt.dataSource),i.xp6(13),i.Q6J("matHeaderRowDef",Pt.getDisplayedColumns()),i.xp6(1),i.Q6J("matRowDefColumns",Pt.getDisplayedColumns()),i.xp6(4),i.Q6J("color","primary")("pageSizeOptions",i.DdM(10,me)))},dependencies:[d.mk,d.O5,t.NW,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,L.Nt,b.KE,b.hX,v.YE,v.nU,G.oG,De.Ou,ce.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return Nt})();function Tt(Nt,xn){if(1&Nt){const kt=i.EpF();i.TgZ(0,"div",1)(1,"h5",2),i._uU(2),i.qZA(),i.TgZ(3,"button",3),i.NdJ("click",function(){i.CHM(kt);const Pt=i.oxw();return i.KtG(Pt.closeModal())}),i._UZ(4,"i",4),i.qZA()(),i.TgZ(5,"div",5),i._UZ(6,"app-season-list",6),i.qZA(),i.TgZ(7,"div",7)(8,"button",8),i.NdJ("click",function(){i.CHM(kt);const Pt=i.oxw();return i.KtG(Pt.closeModal())}),i._uU(9,"Close"),i.qZA()()}if(2&Nt){const kt=i.oxw();i.xp6(2),i.hij("",kt.parent.Name," :Temporadas"),i.xp6(4),i.Q6J("parentItem",kt.parent)}}let Kt=(()=>{class Nt{constructor(kt){this.activeModal=kt}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(wt){return new(wt||Nt)(i.Y36(c.Kz))};static#t=this.\u0275cmp=i.Xpm({type:Nt,selectors:[["app-season-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(wt,Pt){1&wt&&i.YNc(0,Tt,10,2,"ng-template",0),2&wt&&i.Q6J("ngIf",null!=Pt.parent)},dependencies:[d.O5,We]})}return Nt})();var Jt=g(8337),Xt=g(298),un=g(5731),fn=g(2067);let It=(()=>{class Nt{constructor(kt){this.restProvider=kt}getTvSerie(kt){return new Promise((wt,Pt)=>{this.restProvider.executeSinovadApiService(R.yw.GET,"/tvseries/GetAsync/"+kt).then(en=>{wt(en)},en=>{console.error(en),Pt(en)})})}getItems(kt,wt,Pt,en,An,Vn){return new Promise((ii,Ft)=>{let Pn=(0,O.Z)();this.lastCallGuid=Pn;var Le="?page="+kt.toString()+"&take="+wt.toString()+"&sortBy="+Pt+"&sortDirection="+en+"&searchText="+An+"&searchBy="+Vn;this.restProvider.executeSinovadApiService(R.yw.GET,"/tvseries/GetAllWithPaginationAsync"+Le).then(Rt=>{this.lastCallGuid==Pn&&ii(Rt)},Rt=>{console.error(Rt),Ft(Rt)})})}saveItem(kt){return new Promise((wt,Pt)=>{this.restProvider.executeSinovadApiService(kt.Id>0?R.yw.PUT:R.yw.POST,kt.Id>0?"/tvseries/UpdateAsync/"+kt.Id:"/tvseries/CreateAsync",kt).then(Vn=>{wt(!0)},Vn=>{console.error(Vn),Pt(Vn)})})}deleteItem(kt){return new Promise((wt,Pt)=>{this.restProvider.executeSinovadApiService(R.yw.DELETE,"/tvseries/DeleteAsync/"+kt).then(An=>{wt(An)},An=>{console.error(An),Pt(An)})})}deleteItems(kt){return new Promise((wt,Pt)=>{let en=[];for(let ii=0;ii<kt.length;ii++)en.push(kt[ii].Id);var An=en.join(",");this.restProvider.executeSinovadApiService(R.yw.DELETE,"/tvseries/DeleteListAsync/"+An).then(ii=>{wt(ii)},ii=>{console.error(ii),Pt(ii)})})}static#e=this.\u0275fac=function(wt){return new(wt||Nt)(i.LFG(S.C))};static#t=this.\u0275prov=i.Yz7({token:Nt,factory:Nt.\u0275fac,providedIn:"root"})}return Nt})();var vt=g(8034);function it(Nt,xn){1&Nt&&(i.TgZ(0,"mat-error"),i._uU(1," Nombre es "),i.TgZ(2,"strong"),i._uU(3,"requerido"),i.qZA()())}function He(Nt,xn){if(1&Nt){const kt=i.EpF();i.TgZ(0,"form",1),i.NdJ("ngSubmit",function(){i.CHM(kt);const Pt=i.oxw();return i.KtG(Pt.saveItem())}),i.TgZ(1,"div",2)(2,"h5",3),i._uU(3),i.qZA(),i.TgZ(4,"button",4),i.NdJ("click",function(){i.CHM(kt);const Pt=i.oxw();return i.KtG(Pt.closeModal())}),i._UZ(5,"i",5),i.qZA()(),i.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),i._uU(9,"Nombre"),i.qZA(),i._UZ(10,"input",7),i.YNc(11,it,4,0,"mat-error",8),i.qZA(),i.TgZ(12,"mat-form-field")(13,"mat-label"),i._uU(14,"Primera fecha de emisi\xf3n"),i.qZA(),i._UZ(15,"input",9),i.TgZ(16,"mat-hint"),i._uU(17,"MM/DD/YYYY"),i.qZA(),i._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),i.qZA(),i.TgZ(21,"mat-form-field")(22,"mat-label"),i._uU(23,"\xdaltima fecha de emisi\xf3n"),i.qZA(),i._UZ(24,"input",12),i.TgZ(25,"mat-hint"),i._uU(26,"MM/DD/YYYY"),i.qZA(),i._UZ(27,"mat-datepicker-toggle",10)(28,"mat-datepicker",null,13),i.qZA(),i.TgZ(30,"mat-form-field")(31,"mat-label"),i._uU(32,"G\xe9neros"),i.qZA(),i.TgZ(33,"textarea",14),i.NdJ("click",function(){i.CHM(kt);const Pt=i.oxw();return i.KtG(Pt.showGenresSelectionModal())}),i.qZA()(),i.TgZ(34,"mat-form-field")(35,"mat-label"),i._uU(36,"Directores"),i.qZA(),i._UZ(37,"textarea",15),i.qZA(),i.TgZ(38,"mat-form-field")(39,"mat-label"),i._uU(40,"Actores"),i.qZA(),i._UZ(41,"textarea",16),i.qZA(),i.TgZ(42,"mat-form-field")(43,"mat-label"),i._uU(44,"Resumen"),i.qZA(),i._UZ(45,"textarea",17),i.qZA(),i.TgZ(46,"mat-form-field")(47,"mat-label"),i._uU(48,"Im\xe1gen"),i.qZA(),i._UZ(49,"textarea",18),i.qZA()(),i.TgZ(50,"div",19)(51,"button",20),i.NdJ("click",function(){i.CHM(kt);const Pt=i.oxw();return i.KtG(Pt.closeModal())}),i._uU(52,"Close"),i.qZA(),i.TgZ(53,"button",21),i._uU(54,"Guardar"),i.qZA()()(),i._UZ(55,"app-custom-spinner",22)}if(2&Nt){const kt=i.MAs(20),wt=i.MAs(29),Pt=i.oxw();i.Q6J("formGroup",Pt.tvserieFormGroup),i.xp6(3),i.Oqu(Pt.tvserie.Id>0?"Editar":"Nuevo"),i.xp6(7),i.Q6J("errorStateMatcher",Pt.matcher),i.xp6(1),i.Q6J("ngIf",Pt.tvserieFormGroup.controls.name.hasError("required")),i.xp6(4),i.Q6J("matDatepicker",kt),i.xp6(3),i.Q6J("for",kt),i.xp6(6),i.Q6J("matDatepicker",wt),i.xp6(3),i.Q6J("for",wt),i.xp6(6),i.Q6J("readonly",!0),i.xp6(20),i.Q6J("disabled",Pt.showLoading||!Pt.tvserieFormGroup.valid),i.xp6(2),i.Q6J("showLoading",Pt.showLoading)}}let Ze=(()=>{class Nt{constructor(kt,wt,Pt,en,An,Vn,ii){this.commonService=kt,this.modalService=wt,this.genreService=Pt,this.formBuilder=en,this.activeModal=An,this.snackbarService=Vn,this.tvserieService=ii,this.showLoading=!1,this.matcher=new A.n}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(kt=>{this.listGenres=kt.Data}),this.tvserie.Id>0?this.getTvSerie():this.tvserie.TvSerieGenres=[]}buildFormGroup(){this.tvserieFormGroup=this.formBuilder.group({name:new C.NI(this.tvserie.Name,[C.kI.required]),firstAirDate:new C.NI(this.commonService.formatDate(this.tvserie.FirstAirDate)),lastAirDate:new C.NI(this.commonService.formatDate(this.tvserie.LastAirDate)),directors:new C.NI(this.tvserie.Directors),actors:new C.NI(this.tvserie.Actors),overview:new C.NI(this.tvserie.Overview),posterPath:new C.NI(this.tvserie.PosterPath),selectedGenres:new C.NI("")})}getTvSerie(){this.tvserieService.getTvSerie(this.tvserie.Id).then(kt=>{this.tvserie=kt.Data,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.tvserieFormGroup.valid){this.showLoading=!0;var kt=JSON.parse(JSON.stringify(this.tvserie));kt.Name=this.tvserieFormGroup.value.name,kt.FirstAirDate=this.tvserieFormGroup.value.firstAirDate,kt.LastAirDate=this.tvserieFormGroup.value.lastAirDate,kt.Directors=this.tvserieFormGroup.value.directors,kt.Actors=this.tvserieFormGroup.value.actors,kt.Overview=this.tvserieFormGroup.value.overview,kt.GenresIds=this.tvserie.TvSerieGenres.map(wt=>wt.GenreId),this.tvserieService.saveItem(kt).then(wt=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo la serie satisfactoriamente",D.dA.Success),this.activeModal.close()},wt=>{this.showLoading=!1,console.error(wt)})}else this.tvserieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){return this.tvserie.TvSerieGenres&&this.tvserie.TvSerieGenres.length>0?this.tvserie.TvSerieGenres.map(wt=>wt.GenreName).join(", "):""}showGenresSelectionModal(){var kt=this,wt=this.modalService.open(Xt.I,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});wt.componentInstance.listAllGenres=this.listGenres,wt.componentInstance.selection=new Jt.Ov(!0,this.getTvSerieGenres()),wt.closed.subscribe(Pt=>{kt.setTvSerieGenres(Pt)})}getTvSerieGenres(){var kt=this.tvserie.TvSerieGenres.map(wt=>wt.GenreId);return this.listGenres.filter(wt=>-1!=kt.indexOf(wt.Id))}setTvSerieGenres(kt){var wt=[];kt.forEach(Pt=>{wt.push({TvSerieId:this.tvserie.Id,GenreId:Pt.Id,GenreName:Pt.Name})}),this.tvserie.TvSerieGenres=wt,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(wt){return new(wt||Nt)(i.Y36(un.v),i.Y36(c.FF),i.Y36(fn.c),i.Y36(C.qu),i.Y36(c.Kz),i.Y36(x.c),i.Y36(It))};static#t=this.\u0275cmp=i.Xpm({type:Nt,selectors:[["app-tvserie-form"]],inputs:{tvserie:"tvserie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","firstAirDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","lastAirDate",3,"matDatepicker"],["pickerLastAirDate",""],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(wt,Pt){1&wt&&i.YNc(0,He,56,11,"ng-template",0),2&wt&&i.Q6J("ngIf",null!=Pt.tvserie&&Pt.tvserieFormGroup)},dependencies:[C._Y,C.Fj,C.JJ,C.JL,C.sg,C.u,E.D,d.O5,L.Nt,b.KE,b.hX,b.bx,b.TO,b.R9,vt.Mq,vt.hl,vt.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return Nt})();function st(Nt,xn){1&Nt&&(i.TgZ(0,"div",40),i._UZ(1,"mat-spinner"),i.qZA())}function lt(Nt,xn){if(1&Nt){const kt=i.EpF();i.TgZ(0,"th",41)(1,"mat-checkbox",42),i.NdJ("change",function(Pt){i.CHM(kt);const en=i.oxw();return i.KtG(Pt?en.toggleAllRows():null)}),i.qZA()()}if(2&Nt){const kt=i.oxw();i.xp6(1),i.Q6J("checked",kt.selection.hasValue()&&kt.isAllSelected())("indeterminate",kt.selection.hasValue()&&!kt.isAllSelected())}}function St(Nt,xn){if(1&Nt){const kt=i.EpF();i.TgZ(0,"td",43)(1,"mat-checkbox",44),i.NdJ("click",function(Pt){const An=i.CHM(kt).$implicit,Vn=i.oxw();return i.KtG(Vn.onChangeCheckValue(Pt,An))}),i.qZA()()}if(2&Nt){const kt=xn.$implicit,wt=i.oxw();i.xp6(1),i.Q6J("checked",wt.selection.isSelected(kt))}}function bt(Nt,xn){1&Nt&&(i.TgZ(0,"th",45),i._uU(1,"N\xb0"),i.qZA())}function At(Nt,xn){if(1&Nt&&(i.TgZ(0,"td",46),i._uU(1),i.qZA()),2&Nt){const kt=xn.index,wt=i.oxw();i.xp6(1),i.hij(" ",wt.getElementNumber(kt,wt.currentPage,wt.itemsPerPage),"")}}function on(Nt,xn){1&Nt&&(i.TgZ(0,"th",47),i._uU(1,"Nombre"),i.qZA())}function En(Nt,xn){if(1&Nt&&(i.TgZ(0,"td",48),i._uU(1),i.qZA()),2&Nt){const kt=xn.$implicit;i.xp6(1),i.hij(" ",kt.Name," ")}}function tn(Nt,xn){1&Nt&&(i.TgZ(0,"th",49),i._uU(1,"Primera emisi\xf3n"),i.qZA())}function Mn(Nt,xn){if(1&Nt&&(i.TgZ(0,"td",50),i._uU(1),i.ALo(2,"date"),i.qZA()),2&Nt){const kt=xn.$implicit;i.xp6(1),i.hij(" ",i.xi3(2,1,kt.FirstAirDate,"dd-MM-YYYY")," ")}}function wn(Nt,xn){1&Nt&&(i.TgZ(0,"th",49),i._uU(1,"\xdaltima emisi\xf3n"),i.qZA())}function Nn(Nt,xn){if(1&Nt&&(i.TgZ(0,"td",50),i._uU(1),i.ALo(2,"date"),i.qZA()),2&Nt){const kt=xn.$implicit;i.xp6(1),i.hij(" ",i.xi3(2,1,kt.LastAirDate,"dd-MM-YYYY")," ")}}function $n(Nt,xn){1&Nt&&(i.TgZ(0,"th",51),i._uU(1,"Actores"),i.qZA())}function ti(Nt,xn){if(1&Nt&&(i.TgZ(0,"td",52,53),i._uU(2),i.qZA()),2&Nt){const kt=xn.$implicit,wt=i.MAs(1);i.Udp("cursor",wt.offsetWidth<wt.scrollWidth?"pointer":""),i.s9C("matTooltip",wt.offsetWidth<wt.scrollWidth?kt.Actors:""),i.xp6(2),i.Oqu(kt.Actors)}}function vn(Nt,xn){1&Nt&&(i.TgZ(0,"th",51),i._uU(1,"Directores"),i.qZA())}function pn(Nt,xn){if(1&Nt&&(i.TgZ(0,"td",52,53),i._uU(2),i.qZA()),2&Nt){const kt=xn.$implicit,wt=i.MAs(1);i.Udp("cursor",wt.offsetWidth<wt.scrollWidth?"pointer":""),i.s9C("matTooltip",wt.offsetWidth<wt.scrollWidth?kt.Directors:""),i.xp6(2),i.hij(" ",kt.Directors," ")}}function yn(Nt,xn){1&Nt&&i._UZ(0,"th",54)}function mn(Nt,xn){if(1&Nt){const kt=i.EpF();i.TgZ(0,"td",55)(1,"div",56)(2,"button",57),i.NdJ("click",function(){const en=i.CHM(kt).$implicit,An=i.oxw();return i.KtG(An.showSeasonListModal(en))}),i._UZ(3,"i",58),i.qZA(),i.TgZ(4,"button",59),i.NdJ("click",function(){const en=i.CHM(kt).$implicit,An=i.oxw();return i.KtG(An.editItem(en))}),i._UZ(5,"i",60),i.qZA(),i.TgZ(6,"button",61),i.NdJ("click",function(){const en=i.CHM(kt).$implicit,An=i.oxw();return i.KtG(An.deleteItem(en))}),i._UZ(7,"i",7),i.qZA()()()}}function _n(Nt,xn){1&Nt&&i._UZ(0,"tr",62)}function Mt(Nt,xn){1&Nt&&i._UZ(0,"tr",63)}function ht(Nt,xn){1&Nt&&(i.TgZ(0,"td",66),i._uU(1,"No se encontraron datos"),i.qZA())}function Tn(Nt,xn){if(1&Nt&&(i.TgZ(0,"tr",64),i.YNc(1,ht,2,0,"td",65),i.qZA()),2&Nt){const kt=i.oxw();i.xp6(1),i.Q6J("ngIf",!kt.showLoading)}}const et=function(Nt){return{disable:Nt}},Dt=function(){return[5,10,25,100]};let Qt=(()=>{class Nt extends e.G{constructor(kt,wt,Pt,en,An){super(Pt),this.modalService=kt,this.dialog=wt,this.matPaginatorIntl=Pt,this.snackbarService=en,this.tvserieService=An}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(kt=>{this.updatePageData(kt),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(kt=>{this.currentPage=1,this.sortBy=kt.active,this.sortDirection=kt.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(kt){this.searchText=kt.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var kt=new f;this.showModalForm(kt)}editItem(kt){this.showModalForm(kt)}showModalForm(kt){var wt=this,Pt=this.modalService.open(Ze,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});Pt.componentInstance.tvserie=kt,Pt.closed.subscribe(en=>{wt.getAllItems()})}getAllItems(){this.showLoading=!0,this.tvserieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(kt=>{this.showLoading=!1;var wt=kt.Data;this.totalCount=kt.TotalCount,this.listItems=wt,this.dataSource=new m.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},kt=>{this.showLoading=!1})}deleteItem(kt){var wt=new y.vA;wt.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar la serie "+kt.Name+"?",accordMessage:"Si, eliminar la serie '"+kt.Name+"'"},this.dialog.open(P.k,wt).afterClosed().subscribe(Pt=>{Pt&&this.executeDeleteItem(kt)})}executeDeleteItem(kt){this.showLoading=!0,this.tvserieService.deleteItem(kt.Id).then(wt=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",D.dA.Success),this.getAllItems()},wt=>{this.showLoading=!1,this.snackbarService.showSnackBar(wt,D.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var kt=new y.vA;kt.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(P.k,kt).afterClosed().subscribe(wt=>{wt&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.tvserieService.deleteItems(this.selection.selected).then(kt=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",D.dA.Success),this.getAllItems()},kt=>{this.showLoading=!1,this.snackbarService.showSnackBar(kt,D.dA.Error)})}getDisplayedColumns(){return window.innerWidth>1100?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Directors","Actions"]:window.innerWidth>975?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Actions"]:window.innerWidth>875?["Select","Id","Name","FirstAirDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Name","FirstAirDate","Actions"]:["Select","Id","Name","Actions"]}showSeasonListModal(kt){var Pt=this.modalService.open(Kt,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});Pt.componentInstance.parent=kt,Pt.closed.subscribe(en=>{})}static#e=this.\u0275fac=function(wt){return new(wt||Nt)(i.Y36(c.FF),i.Y36(y.uw),i.Y36(t.ye),i.Y36(x.c),i.Y36(It))};static#t=this.\u0275cmp=i.Xpm({type:Nt,selectors:[["app-tvserie-list"]],viewQuery:function(wt,Pt){if(1&wt&&(i.Gf(t.NW,5),i.Gf(v.YE,5)),2&wt){let en;i.iGM(en=i.CRH())&&(Pt.paginator=en.first),i.iGM(en=i.CRH())&&(Pt.sort=en.first)}},features:[i.qOj],decls:53,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","FirstAirDate"],["mat-header-cell","","mat-sort-header","","style","min-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","LastAirDate"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","class","text-truncate","style","max-width:120px;text-align: left;cursor: pointer;",3,"cursor","matTooltip",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","120px","text-align","left"],["mat-cell","",2,"min-width","120px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",1,"text-truncate",2,"max-width","120px","text-align","left","cursor","pointer",3,"matTooltip"],["cell",""],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver temporadas",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(wt,Pt){1&wt&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),i._uU(3,"Series"),i.qZA()(),i.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),i.NdJ("click",function(){return Pt.showNewItem()}),i._UZ(8,"i",5),i.qZA(),i.TgZ(9,"button",6),i.NdJ("click",function(){return Pt.deleteSelectedItems()}),i._UZ(10,"i",7),i.qZA()(),i._UZ(11,"div",8),i.qZA(),i.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),i._uU(16,"Buscar"),i.qZA(),i.TgZ(17,"input",10,11),i.NdJ("keyup",function(An){return Pt.applyFilter(An)}),i.qZA()(),i.TgZ(19,"div",12),i.YNc(20,st,2,0,"div",13),i.TgZ(21,"div",14)(22,"table",15),i.ynx(23,16),i.YNc(24,lt,2,2,"th",17),i.YNc(25,St,2,1,"td",18),i.BQk(),i.ynx(26,19),i.YNc(27,bt,2,0,"th",20),i.YNc(28,At,2,1,"td",21),i.BQk(),i.ynx(29,22),i.YNc(30,on,2,0,"th",23),i.YNc(31,En,2,1,"td",24),i.BQk(),i.ynx(32,25),i.YNc(33,tn,2,0,"th",26),i.YNc(34,Mn,3,4,"td",27),i.BQk(),i.ynx(35,28),i.YNc(36,wn,2,0,"th",26),i.YNc(37,Nn,3,4,"td",27),i.BQk(),i.ynx(38,29),i.YNc(39,$n,2,0,"th",30),i.YNc(40,ti,3,4,"td",31),i.BQk(),i.ynx(41,32),i.YNc(42,vn,2,0,"th",30),i.YNc(43,pn,3,4,"td",31),i.BQk(),i.ynx(44,33),i.YNc(45,yn,1,0,"th",34),i.YNc(46,mn,8,0,"td",35),i.BQk(),i.YNc(47,_n,1,0,"tr",36),i.YNc(48,Mt,1,0,"tr",37),i.YNc(49,Tn,2,1,"tr",38),i.qZA()()()()(),i.TgZ(50,"div",1)(51,"div",9),i._UZ(52,"mat-paginator",39),i.qZA()()()()),2&wt&&(i.xp6(9),i.Q6J("ngClass",i.VKq(7,et,!Pt.selection.hasValue())),i.xp6(11),i.Q6J("ngIf",Pt.showLoading),i.xp6(2),i.Q6J("dataSource",Pt.dataSource),i.xp6(25),i.Q6J("matHeaderRowDef",Pt.getDisplayedColumns()),i.xp6(1),i.Q6J("matRowDefColumns",Pt.getDisplayedColumns()),i.xp6(4),i.Q6J("color","primary")("pageSizeOptions",i.DdM(9,Dt)))},dependencies:[d.mk,d.O5,t.NW,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,L.Nt,b.KE,b.hX,v.YE,v.nU,G.oG,De.Ou,ce.gM,d.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return Nt})()},1716:(Wn,Je,g)=>{"use strict";g.d(Je,{C:()=>qe});var e=g(2877),t=g(1476),v=g(3566),y=g(5313),m=g(7700),P=g(8923),D=g(9604),f=g(5879),i=g(8726),c=g(6814),d=g(5510),h=g(3931),p=g(2032),C=g(4170),A=g(5940);function x(tt,gt){1&tt&&(f.TgZ(0,"div",27),f._UZ(1,"mat-spinner"),f.qZA())}function R(tt,gt){1&tt&&(f.TgZ(0,"th",28),f._uU(1,"N\xb0"),f.qZA())}function O(tt,gt){if(1&tt&&(f.TgZ(0,"td",29),f._uU(1),f.qZA()),2&tt){const Qe=gt.index,yt=f.oxw();f.xp6(1),f.hij(" ",yt.getElementNumber(Qe,yt.currentPage,yt.itemsPerPage),"")}}function S(tt,gt){1&tt&&(f.TgZ(0,"th",30),f._uU(1,"Nombre del dispositivo"),f.qZA())}function I(tt,gt){if(1&tt&&(f.TgZ(0,"td",31),f._uU(1),f.qZA()),2&tt){const Qe=gt.$implicit;f.xp6(1),f.hij(" ",Qe.DeviceName," ")}}function E(tt,gt){1&tt&&(f.TgZ(0,"th",30),f._uU(1,"Nombre familiar"),f.qZA())}function L(tt,gt){if(1&tt&&(f.TgZ(0,"td",31),f._uU(1),f.qZA()),2&tt){const Qe=gt.$implicit;f.xp6(1),f.hij(" ",Qe.FamilyName," ")}}function b(tt,gt){1&tt&&(f.TgZ(0,"th",32),f._uU(1,"IP Privada"),f.qZA())}function B(tt,gt){if(1&tt&&(f.TgZ(0,"td",33),f._uU(1),f.qZA()),2&tt){const Qe=gt.$implicit;f.xp6(1),f.hij(" ",Qe.IpAddress," ")}}function Z(tt,gt){1&tt&&(f.TgZ(0,"th",34),f._uU(1,"Puerto"),f.qZA())}function oe(tt,gt){if(1&tt&&(f.TgZ(0,"td",35),f._uU(1),f.qZA()),2&tt){const Qe=gt.$implicit;f.xp6(1),f.hij(" ",Qe.Port," ")}}function le(tt,gt){1&tt&&f._UZ(0,"tr",36)}function Re(tt,gt){1&tt&&f._UZ(0,"tr",37)}function Y(tt,gt){1&tt&&(f.TgZ(0,"td",40),f._uU(1,"No se encontraron datos"),f.qZA())}function ae(tt,gt){if(1&tt&&(f.TgZ(0,"tr",38),f.YNc(1,Y,2,0,"td",39),f.qZA()),2&tt){const Qe=f.oxw();f.xp6(1),f.Q6J("ngIf",!Qe.showLoading)}}const G=function(){return[5,10,25,100]};let De=(()=>{class tt extends e.G{constructor(Qe,yt,Et,me){super(Et),this.dialog=Qe,this.mediaServerService=yt,this.matPaginatorIntl=Et,this.snackbarService=me}ngAfterViewInit(){this.paginator.page.subscribe(Qe=>{this.updatePageData(Qe),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(Qe=>{this.currentPage=1,this.sortBy=Qe.active,this.sortDirection=Qe.direction,this.getAllItems()}),this.sortBy="DeviceName",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"DeviceName",start:"asc",disableClear:!0}),this.searchBy="IpAddress|Port|FamilyName|DeviceName",this.dataSource.sort=this.sort}applyFilter(Qe){this.searchText=Qe.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.mediaServerService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(Qe=>{this.showLoading=!1;var yt=Qe.Data;this.totalCount=Qe.TotalCount,this.listItems=yt,this.dataSource=new y.by(yt),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},Qe=>{this.showLoading=!1})}deleteItem(Qe){var yt=new m.vA;yt.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el servidor "+Qe.DeviceName+"?",accordMessage:"Si, eliminar el servidor '"+Qe.DeviceName+"'"},this.dialog.open(P.k,yt).afterClosed().subscribe(Et=>{Et&&this.executeDeleteItem(Qe)})}executeDeleteItem(Qe){this.showLoading=!0,this.mediaServerService.deleteItem(Qe.Id).then(yt=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",D.dA.Success),this.getAllItems()},yt=>{this.showLoading=!1,this.snackbarService.showSnackBar(yt,D.dA.Error)})}getDisplayedColumns(){return window.innerWidth>600?["Id","DeviceName","FamilyName","IpAddress","Port"]:window.innerWidth>475?["Id","DeviceName","FamilyName"]:["Id","DeviceName"]}static#e=this.\u0275fac=function(yt){return new(yt||tt)(f.Y36(m.uw),f.Y36(d.Z),f.Y36(t.ye),f.Y36(h.c))};static#t=this.\u0275cmp=f.Xpm({type:tt,selectors:[["app-media-server-list"]],viewQuery:function(yt,Et){if(1&yt&&(f.Gf(t.NW,5),f.Gf(v.YE,5)),2&yt){let me;f.iGM(me=f.CRH())&&(Et.paginator=me.first),f.iGM(me=f.CRH())&&(Et.sort=me.first)}},inputs:{parentItem:"parentItem"},features:[f.qOj],decls:37,vars:8,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","style","width:50px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","width:50px;text-align: center;",4,"matCellDef"],["matColumnDef","DeviceName"],["mat-header-cell","","mat-sort-header","","style","width:calc(50% - 140px);text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:calc(50% - 165px);text-align: left;",4,"matCellDef"],["matColumnDef","FamilyName"],["matColumnDef","IpAddress"],["mat-header-cell","","mat-sort-header","","style","width:150px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:150px;text-align: left;",4,"matCellDef"],["matColumnDef","Port"],["mat-header-cell","","mat-sort-header","","style","width:80px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:80px;text-align: left;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",2,"width","50px","text-align","center"],["mat-cell","",2,"width","50px","text-align","center"],["mat-header-cell","","mat-sort-header","",2,"width","calc(50% - 140px)","text-align","left"],["mat-cell","",2,"width","calc(50% - 165px)","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","150px","text-align","left"],["mat-cell","",2,"width","150px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","80px","text-align","left"],["mat-cell","",2,"width","80px","text-align","left"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(yt,Et){1&yt&&(f.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),f._uU(3),f.qZA()(),f.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),f._uU(9,"Buscar"),f.qZA(),f.TgZ(10,"input",4,5),f.NdJ("keyup",function(We){return Et.applyFilter(We)}),f.qZA()(),f.TgZ(12,"div",6),f.YNc(13,x,2,0,"div",7),f.TgZ(14,"div",8)(15,"table",9),f.ynx(16,10),f.YNc(17,R,2,0,"th",11),f.YNc(18,O,2,1,"td",12),f.BQk(),f.ynx(19,13),f.YNc(20,S,2,0,"th",14),f.YNc(21,I,2,1,"td",15),f.BQk(),f.ynx(22,16),f.YNc(23,E,2,0,"th",14),f.YNc(24,L,2,1,"td",15),f.BQk(),f.ynx(25,17),f.YNc(26,b,2,0,"th",18),f.YNc(27,B,2,1,"td",19),f.BQk(),f.ynx(28,20),f.YNc(29,Z,2,0,"th",21),f.YNc(30,oe,2,1,"td",22),f.BQk(),f.YNc(31,le,1,0,"tr",23),f.YNc(32,Re,1,0,"tr",24),f.YNc(33,ae,2,1,"tr",25),f.qZA()()()()(),f.TgZ(34,"div",1)(35,"div",3),f._UZ(36,"mat-paginator",26),f.qZA()()()()),2&yt&&(f.xp6(3),f.hij("",Et.parentItem.UserName," : Servidores multimedia"),f.xp6(10),f.Q6J("ngIf",Et.showLoading),f.xp6(2),f.Q6J("dataSource",Et.dataSource),f.xp6(16),f.Q6J("matHeaderRowDef",Et.getDisplayedColumns()),f.xp6(1),f.Q6J("matRowDefColumns",Et.getDisplayedColumns()),f.xp6(4),f.Q6J("color","primary")("pageSizeOptions",f.DdM(7,G)))},dependencies:[c.O5,t.NW,y.BZ,y.fO,y.as,y.w1,y.Dz,y.nj,y.ge,y.ev,y.XQ,y.Gk,y.Ee,p.Nt,C.KE,C.hX,v.YE,v.nU,A.Ou],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:850px!important}"]})}return tt})();function ce(tt,gt){if(1&tt){const Qe=f.EpF();f.TgZ(0,"div",1),f._UZ(1,"h5",2),f.TgZ(2,"button",3),f.NdJ("click",function(){f.CHM(Qe);const Et=f.oxw();return f.KtG(Et.closeModal())}),f._UZ(3,"i",4),f.qZA()(),f.TgZ(4,"div",5),f._UZ(5,"app-media-server-list",6),f.qZA(),f.TgZ(6,"div",7)(7,"button",8),f.NdJ("click",function(){f.CHM(Qe);const Et=f.oxw();return f.KtG(Et.closeModal())}),f._uU(8,"Close"),f.qZA()()}if(2&tt){const Qe=f.oxw();f.xp6(5),f.Q6J("parentItem",Qe.parent)}}let Te=(()=>{class tt{constructor(Qe){this.activeModal=Qe}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(yt){return new(yt||tt)(f.Y36(i.Kz))};static#t=this.\u0275cmp=f.Xpm({type:tt,selectors:[["app-media-server-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(yt,Et){1&yt&&f.YNc(0,ce,9,1,"ng-template",0),2&yt&&f.Q6J("ngIf",null!=Et.parent)},dependencies:[c.O5,De]})}return tt})();var be=g(5908),Oe=g(9223);function ie(tt,gt){if(1&tt&&f._UZ(0,"img",7),2&tt){const Qe=f.oxw().$implicit;f.Q6J("src",Qe.imageUrl,f.LSH)}}function ye(tt,gt){if(1&tt&&f._UZ(0,"i"),2&tt){const Qe=f.oxw().$implicit;f.Tol(Qe.iconClass)}}function Ce(tt,gt){if(1&tt){const Qe=f.EpF();f.TgZ(0,"div",2),f.NdJ("click",function(){const me=f.CHM(Qe).$implicit,We=f.oxw();return f.KtG(We.onClickContextMenuOption(me))}),f.TgZ(1,"div",3),f.YNc(2,ie,1,1,"img",4),f.YNc(3,ye,1,3,"i",5),f.qZA(),f.TgZ(4,"div",6),f._uU(5),f.qZA()()}if(2&tt){const Qe=gt.$implicit;f.Udp("border-bottom",Qe.showBorderBottom?"1px solid black":""),f.xp6(2),f.Q6J("ngIf",Qe.imageUrl),f.xp6(1),f.Q6J("ngIf",Qe.iconClass),f.xp6(2),f.hij(" ",Qe.text," ")}}let Me=(()=>{class tt{constructor(){this.hideContextMenu=new f.vpe,this.clickOption=new f.vpe}onClickOutside(){this.hideContextMenu.emit(!0)}onClickContextMenuOption(Qe){this.clickOption.emit(Qe)}static#e=this.\u0275fac=function(yt){return new(yt||tt)};static#t=this.\u0275cmp=f.Xpm({type:tt,selectors:[["app-custom-context-menu"]],decls:2,vars:5,consts:[[1,"sinovad-context-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-context-menu-option",3,"click"],[1,"sinovad-context-menu-option-icon"],["style","width:24px;",3,"src",4,"ngIf"],[3,"class",4,"ngIf"],[1,"sinovad-context-menu-option-text"],[2,"width","24px",3,"src"]],template:function(yt,Et){1&yt&&(f.TgZ(0,"div",0),f.NdJ("clickOutside",function(){return Et.onClickOutside()}),f.YNc(1,Ce,6,5,"ng-template",1),f.qZA()),2&yt&&(f.Udp("top",Et.top+"px")("left",Et.left+"px"),f.xp6(1),f.Q6J("ngForOf",Et.listOptions))},dependencies:[c.sg,c.O5,Oe._],styles:[".sinovad-context-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;color:#fff}.sinovad-context-menu-option[_ngcontent-%COMP%]{display:flex;padding:10px;cursor:pointer;align-items:center;opacity:.8}.sinovad-context-menu-option[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-context-menu-option-icon[_ngcontent-%COMP%]{display:block}.sinovad-context-menu-option-text[_ngcontent-%COMP%]{padding-left:10px;display:block}"]})}return tt})(),pe=(()=>{class tt{constructor(Qe,yt,Et){this.factoryResolver=Qe,this.injector=yt,this.applicationRef=Et}show(Qe,yt,Et,me){return new Promise((We,Tt)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const Jt=this.factoryResolver.resolveComponentFactory(Me).create(this.injector);this.lastViewRef=Jt.hostView,this.applicationRef.attachView(Jt.hostView);let Xt=this;Jt.instance.left=yt,Jt.instance.top=Et,Jt.instance.listOptions=me,Jt.instance.clickOption.subscribe(It=>{Jt.destroy(),Xt.applicationRef.detachView(Jt.hostView),We(It)}),Jt.instance.hideContextMenu.subscribe(It=>{Jt.destroy(),Xt.applicationRef.detachView(Jt.hostView),Tt(!0)});const un=Jt.hostView.rootNodes[0];document.getElementById(Qe).appendChild(un)})}static#e=this.\u0275fac=function(yt){return new(yt||tt)(f.LFG(f._Vd),f.LFG(f.zs3),f.LFG(f.z2F))};static#t=this.\u0275prov=f.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"})}return tt})();var Ie=g(1270),Be=g(2596);function at(tt,gt){1&tt&&(f.TgZ(0,"div",26),f._UZ(1,"mat-spinner"),f.qZA())}function Xe(tt,gt){1&tt&&(f.TgZ(0,"th",27),f._uU(1,"N\xb0"),f.qZA())}function je(tt,gt){if(1&tt&&(f.TgZ(0,"td",28),f._uU(1),f.qZA()),2&tt){const Qe=gt.index,yt=f.oxw();f.xp6(1),f.hij(" ",yt.getElementNumber(Qe,yt.currentPage,yt.itemsPerPage),"")}}function Ne(tt,gt){1&tt&&(f.TgZ(0,"th",29),f._uU(1," Usuario "),f.qZA())}function ee(tt,gt){if(1&tt&&(f.TgZ(0,"td",30),f._uU(1),f.qZA()),2&tt){const Qe=gt.$implicit;f.xp6(1),f.hij(" ",Qe.UserName," ")}}function fe(tt,gt){1&tt&&(f.TgZ(0,"th",29),f._uU(1," Correo "),f.qZA())}function we(tt,gt){if(1&tt&&(f.TgZ(0,"td",30),f._uU(1),f.qZA()),2&tt){const Qe=gt.$implicit;f.xp6(1),f.hij(" ",Qe.Email," ")}}function q(tt,gt){1&tt&&(f.TgZ(0,"th",29),f._uU(1," Nombres "),f.qZA())}function $(tt,gt){if(1&tt&&(f.TgZ(0,"td",30),f._uU(1),f.qZA()),2&tt){const Qe=gt.$implicit;f.xp6(1),f.hij(" ",Qe.FirstName," ")}}function Q(tt,gt){1&tt&&(f.TgZ(0,"th",29),f._uU(1," Apellidos "),f.qZA())}function ne(tt,gt){if(1&tt&&(f.TgZ(0,"td",30),f._uU(1),f.qZA()),2&tt){const Qe=gt.$implicit;f.xp6(1),f.hij(" ",Qe.LastName," ")}}function X(tt,gt){1&tt&&f._UZ(0,"th",31)}function re(tt,gt){if(1&tt){const Qe=f.EpF();f.TgZ(0,"td",32)(1,"div",33)(2,"button",34),f.NdJ("click",function(){const me=f.CHM(Qe).$implicit,We=f.oxw();return f.KtG(We.showRoles(me))}),f._UZ(3,"i",35),f.qZA(),f.TgZ(4,"button",36),f.NdJ("click",function(){const me=f.CHM(Qe).$implicit,We=f.oxw();return f.KtG(We.deleteItem(me))}),f._UZ(5,"i",37),f.qZA()()()}}function J(tt,gt){1&tt&&f._UZ(0,"tr",38)}const ge=function(tt){return{active:tt}};function Se(tt,gt){if(1&tt){const Qe=f.EpF();f.TgZ(0,"tr",39),f.NdJ("contextmenu",function(Et){const We=f.CHM(Qe).$implicit,Tt=f.oxw();return f.KtG(Tt.onContextMenuItem(Et,We))}),f.qZA()}if(2&tt){const Qe=gt.$implicit,yt=f.oxw();f.Q6J("ngClass",f.VKq(1,ge,yt.lastSelectedItem&&Qe.Id==yt.lastSelectedItem.Id))}}function Ee(tt,gt){1&tt&&(f.TgZ(0,"td",42),f._uU(1,"No se encontraron datos"),f.qZA())}function Fe(tt,gt){if(1&tt&&(f.TgZ(0,"tr",40),f.YNc(1,Ee,2,0,"td",41),f.qZA()),2&tt){const Qe=f.oxw();f.xp6(1),f.Q6J("ngIf",!Qe.showLoading)}}const ct=function(){return[5,10,25,100]};let qe=(()=>{class tt extends e.G{constructor(Qe,yt,Et,me,We,Tt,Kt,Jt){super(Kt),this.activatedRoute=Qe,this.router=yt,this.modalService=Et,this.contextMenuService=me,this.dialog=We,this.userService=Tt,this.matPaginatorIntl=Kt,this.snackbarService=Jt,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(Qe=>{this.updatePageData(Qe),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(Qe=>{this.currentPage=1,this.sortBy=Qe.active,this.sortDirection=Qe.direction,this.getAllItems()}),this.sortBy="UserName",this.sortDirection="asc",this.sort.disableClear=!0,this.searchBy="UserName|Email|FirstName|LastName",this.dataSource.sort=this.sort,this.getAllItems()}applyFilter(Qe){this.searchText=Qe.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.userService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(Qe=>{this.showLoading=!1;var yt=Qe.Data;this.totalCount=Qe.TotalCount,this.listItems=yt,this.dataSource=new y.by(yt),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},Qe=>{this.showLoading=!1})}showRoles(Qe){this.router.navigate([Qe.Id.toString(),"roles"],{relativeTo:this.activatedRoute})}deleteItem(Qe){var yt=new m.vA;yt.data={title:"Eliminar usuario",message:"\xbfEsta seguro que desea eliminar el usuario "+Qe.UserName+"?",accordMessage:"Si, eliminar el usuario '"+Qe.UserName+"'"},this.dialog.open(P.k,yt).afterClosed().subscribe(Et=>{Et&&this.executeDeleteItem(Qe)})}executeDeleteItem(Qe){this.showLoading=!0,this.userService.deleteItem(Qe.Id).then(yt=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",D.dA.Success),this.getAllItems()},yt=>{this.showLoading=!1,this.snackbarService.showSnackBar(yt,D.dA.Error)})}getDisplayedColumns(){return window.innerWidth>1050?["Id","UserName","Email","FirstName","LastName","Actions"]:window.innerWidth>950?["Id","UserName","Email","FirstName","Actions"]:window.innerWidth>675?["Id","UserName","Email","Actions"]:(window,["Id","UserName","Actions"])}onContextMenuItem(Qe,yt){this.lastSelectedItem=yt,Qe.preventDefault(),Qe.stopPropagation();let Et=[];Et.push({key:"ShowMediaServers",text:"Servidores multimedia",iconClass:"fa-solid fa-server"}),Et&&Et.length>0&&this.renderContextMenuComponent(Qe.clientX,Qe.clientY,Et,yt)}renderContextMenuComponent(Qe,yt,Et,me){this.contextMenuService.show("sinovadMainContainer",Qe,yt,Et).then(We=>{"ShowMediaServers"==We.key&&this.showMediaServerListModal(me)},()=>{this.lastSelectedItem=void 0})}showMediaServerListModal(Qe){var yt=this,Et=this.modalService.open(Te,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});Et.componentInstance.parent=Qe,Et.closed.subscribe(me=>{yt.lastSelectedItem=void 0})}static#e=this.\u0275fac=function(yt){return new(yt||tt)(f.Y36(be.gz),f.Y36(be.F0),f.Y36(i.FF),f.Y36(pe),f.Y36(m.uw),f.Y36(Ie.K),f.Y36(t.ye),f.Y36(h.c))};static#t=this.\u0275cmp=f.Xpm({type:tt,selectors:[["app-user-list"]],viewQuery:function(yt,Et){if(1&yt&&(f.Gf(t.NW,5),f.Gf(v.YE,5)),2&yt){let me;f.iGM(me=f.CRH())&&(Et.paginator=me.first),f.iGM(me=f.CRH())&&(Et.sort=me.first)}},features:[f.qOj],decls:40,vars:7,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","UserName"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Email"],["matColumnDef","FirstName"],["matColumnDef","LastName"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",3,"ngClass","contextmenu",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Roles",1,"action-button",3,"click"],[1,"fa-solid","fa-circle-user"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button",3,"click"],[1,"fa-solid","fa-trash"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable",3,"ngClass","contextmenu"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(yt,Et){1&yt&&(f.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),f._uU(3,"Usuarios"),f.qZA()(),f.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),f._uU(9,"Buscar"),f.qZA(),f.TgZ(10,"input",4,5),f.NdJ("keyup",function(We){return Et.applyFilter(We)}),f.qZA()(),f.TgZ(12,"div",6),f.YNc(13,at,2,0,"div",7),f.TgZ(14,"div",8)(15,"table",9),f.ynx(16,10),f.YNc(17,Xe,2,0,"th",11),f.YNc(18,je,2,1,"td",12),f.BQk(),f.ynx(19,13),f.YNc(20,Ne,2,0,"th",14),f.YNc(21,ee,2,1,"td",15),f.BQk(),f.ynx(22,16),f.YNc(23,fe,2,0,"th",14),f.YNc(24,we,2,1,"td",15),f.BQk(),f.ynx(25,17),f.YNc(26,q,2,0,"th",14),f.YNc(27,$,2,1,"td",15),f.BQk(),f.ynx(28,18),f.YNc(29,Q,2,0,"th",14),f.YNc(30,ne,2,1,"td",15),f.BQk(),f.ynx(31,19),f.YNc(32,X,1,0,"th",20),f.YNc(33,re,6,0,"td",21),f.BQk(),f.YNc(34,J,1,0,"tr",22),f.YNc(35,Se,1,3,"tr",23),f.YNc(36,Fe,2,1,"tr",24),f.qZA()()()()(),f.TgZ(37,"div",1)(38,"div",3),f._UZ(39,"mat-paginator",25),f.qZA()()()()),2&yt&&(f.xp6(13),f.Q6J("ngIf",Et.showLoading),f.xp6(2),f.Q6J("dataSource",Et.dataSource),f.xp6(19),f.Q6J("matHeaderRowDef",Et.getDisplayedColumns()),f.xp6(1),f.Q6J("matRowDefColumns",Et.getDisplayedColumns()),f.xp6(4),f.Q6J("color","primary")("pageSizeOptions",f.DdM(6,ct)))},dependencies:[c.mk,c.O5,t.NW,y.BZ,y.fO,y.as,y.w1,y.Dz,y.nj,y.ge,y.ev,y.XQ,y.Gk,y.Ee,p.Nt,C.KE,C.hX,v.YE,v.nU,A.Ou,Be.gM],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return tt})()},9230:(Wn,Je,g)=>{"use strict";g.d(Je,{t:()=>h});var e=g(9604),t=g(5879),v=g(3931),y=g(5908),m=g(1270),P=g(5220),D=g(6814),f=g(5986);function i(p,C){if(1&p){const A=t.EpF();t.TgZ(0,"p")(1,"mat-checkbox",12),t.NdJ("click",function(R){const S=t.CHM(A).$implicit,I=t.oxw(2);return t.KtG(I.onChangeCheckValue(R,S))}),t._uU(2),t.qZA()()}if(2&p){const A=C.$implicit;t.xp6(1),t.Q6J("checked",A.Enabled),t.xp6(1),t.Oqu(A.RoleName)}}const c=function(){return["/manage/users"]};function d(p,C){if(1&p){const A=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"a",4),t._uU(4,"Usuarios"),t.qZA(),t._uU(5),t.qZA()(),t.TgZ(6,"div")(7,"div",5)(8,"div",6)(9,"div",7),t.YNc(10,i,3,2,"ng-template",8),t.qZA(),t.TgZ(11,"div",9)(12,"button",10),t.NdJ("click",function(){t.CHM(A);const R=t.oxw();return t.KtG(R.saveUserRoles())}),t._uU(13,"Guardar"),t.qZA()(),t._UZ(14,"app-custom-spinner",11),t.qZA()()()()}if(2&p){const A=t.oxw();t.xp6(3),t.Q6J("routerLink",t.DdM(5,c)),t.xp6(2),t.hij(" - ",A.user.UserName," - Roles"),t.xp6(5),t.Q6J("ngForOf",A.user.UserRoles),t.xp6(2),t.Q6J("disabled",A.showLoading),t.xp6(2),t.Q6J("showLoading",A.showLoading)}}let h=(()=>{class p{constructor(A,x,R){this.snackbarService=A,this.activatedRoute=x,this.userService=R,this.showLoading=!1}ngOnInit(){var A=this.activatedRoute.snapshot.params.userId;A&&this.userService.getWithRoles(A).then(x=>{this.user=x.Data},x=>{console.error(x)})}saveUserRoles(){this.showLoading=!0,this.userService.updateWithRoles(this.user.Id,this.user.UserRoles).then(A=>{this.snackbarService.showSnackBar("Se guardaron los roles del usuario satisfactoriamente",e.dA.Success),this.showLoading=!1},A=>{this.showLoading=!1})}onChangeCheckValue(A,x){x.Enabled=A.target.checked}static#e=this.\u0275fac=function(x){return new(x||p)(t.Y36(v.c),t.Y36(y.gz),t.Y36(m.K))};static#t=this.\u0275cmp=t.Xpm({type:p,selectors:[["app-user-roles"]],decls:1,vars:1,consts:[[3,"ngIf"],[1,"container","custom-list-container"],[1,"row","mb-5"],[1,"custom-page-title"],[3,"routerLink"],[1,"row"],[1,"col-12"],[1,"modal-body"],["ngFor","",3,"ngForOf"],[1,"modal-footer"],[1,"btn","btn-primary",3,"disabled","click"],[3,"showLoading"],[3,"checked","click"]],template:function(x,R){1&x&&t.YNc(0,d,15,6,"ng-template",0),2&x&&t.Q6J("ngIf",null!=R.user)},dependencies:[y.rH,P.D,D.sg,D.O5,f.oG]})}return p})()},1270:(Wn,Je,g)=>{"use strict";g.d(Je,{K:()=>i});var e=g(863),t=g(2372),v=g(2096),y=g(2459),m=g(5879),P=g(7541),D=g(1367),f=g(9429);let i=(()=>{class c{constructor(h,p,C){this.signalIRHubService=h,this.sharedDataService=p,this.restProvider=C}clearSessionData(){this.sharedDataService.manageMenus=[],this.sharedDataService.currentProfile=void 0,this.sharedDataService.userData=void 0,this.sharedDataService.apiToken=void 0,this.signalIRHubService.stopConnection(),localStorage.removeItem("apiToken")}isLoadedUserData(){return null!=this.sharedDataService.userData?(0,v.of)(!0):(0,y.D)(this.getUserData())}getUserData(){return new Promise((h,p)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/users/GetUserData").then(C=>{let A=C.Data;A&&A.User?(this.sharedDataService.userData=A.User,this.sharedDataService.roles=A.Roles,this.sharedDataService.mediaServers=A.MediaServers,this.sharedDataService.linkedAccounts=A.LinkedAccounts,this.sharedDataService.listProfiles=A.Profiles,this.sharedDataService.currentProfile=A.Profiles[0],this.sharedDataService.manageMenus=A.Menus,this.signalIRHubService.openConnection()):(this.sharedDataService.apiToken=void 0,localStorage.removeItem("apiToken")),h(!0)},C=>{localStorage.removeItem("apiToken"),p(C)})})}getWithRoles(h){return new Promise((p,C)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/users/GetUserWithRolesAsync/"+h).then(x=>{p(x)},x=>{console.error(x),C(x)})})}updateWithRoles(h,p){return new Promise((C,A)=>{this.restProvider.executeSinovadApiService(e.yw.PUT,"/users/UpdateUserRolesAsync/"+h,p).then(R=>{C(R)},R=>{console.error(R),A(R)})})}getItems(h,p,C,A,x,R){return new Promise((O,S)=>{let I=(0,t.Z)();this.lastCallGuid=I;var E="?page="+h.toString()+"&take="+p.toString()+"&sortBy="+C+"&sortDirection="+A+"&searchText="+x+"&searchBy="+R;this.restProvider.executeSinovadApiService(e.yw.GET,"/users/GetAllWithPaginationAsync"+E).then(b=>{this.lastCallGuid==I&&O(b)},b=>{console.error(b),S(b)})})}deleteItem(h){return new Promise((p,C)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/users/DeleteAsync/"+h).then(x=>{p(x)},x=>{console.error(x),C(x)})})}validateConfirmEmailToken(h){return new Promise((p,C)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ValidateConfirmEmailToken",h).then(A=>{p(A)},A=>{console.error(A),C(A)})})}recoverPassword(h){return new Promise((p,C)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/RecoverPassword",h).then(A=>{p(A)},A=>{console.error(A),C(A)})})}registerUser(h){return new Promise((p,C)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/signup/Register",h).then(A=>{p(A)},A=>{console.error(A),C(A)})})}validateResetPasswordToken(h){return new Promise((p,C)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ValidateResetPasswordToken",h).then(A=>{p(A)},A=>{console.error(A),C(A)})})}resetPassword(h){return new Promise((p,C)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ResetPassword",h).then(A=>{p(A)},A=>{console.error(A),C(A)})})}static#e=this.\u0275fac=function(p){return new(p||c)(m.LFG(P.n),m.LFG(D.g),m.LFG(f.C))};static#t=this.\u0275prov=m.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()},914:(Wn,Je,g)=>{"use strict";g.d(Je,{g:()=>Te});var e=g(863);class t{constructor(Oe,ie,ye){this.router=Oe,this.activeRoute=ie,this.sharedDataService=ye}initializeHeaderData(){var Oe=this.activeRoute.snapshot.params.serverGuid;if(null!=Oe){var ie=this.sharedDataService.mediaServers.find(de=>de.Guid==Oe);if(ie){this.mediaServer=JSON.parse(JSON.stringify(ie));var ye=this.activeRoute.snapshot.params.libraryId;if(null!=ie.ListLibraries&&ie.ListLibraries.length>0){var Ce=ie.ListLibraries.find(de=>de.MediaServerId==this.mediaServer.Id&&de.Id==ye);null!=Ce?(this.library=Ce,this.title=Ce.Name,this.subtitle=this.mediaServer.FamilyName?this.mediaServer.FamilyName:this.mediaServer.DeviceName):this.title=this.mediaServer.FamilyName?this.mediaServer.FamilyName:this.mediaServer.DeviceName}}}}}var v=g(7394),y=g(5879),m=g(7541),P=g(7990),D=g(5908),f=g(1367),i=g(6814),c=g(5940),d=g(1444),h=g(1531);function p(be,Oe){if(1&be&&y._UZ(0,"img",10),2&be){const ie=y.oxw(3);y.Q6J("src",ie.getUrlByItemDetailMovieDataBase(ie.detail),y.LSH)}}function C(be,Oe){if(1&be&&(y.TgZ(0,"div",11)(1,"button",12)(2,"div",13),y._uU(3),y.qZA(),y.TgZ(4,"div",14),y._uU(5),y.qZA()()()),2&be){const ie=y.oxw(3);y.xp6(3),y.hij(" ",ie.title," "),y.xp6(2),y.hij(" ",ie.subtitle," ")}}function A(be,Oe){if(1&be&&(y.TgZ(0,"div",18)(1,"span",23),y._uU(2,"Director: "),y.qZA(),y.TgZ(3,"span",24),y._uU(4),y.qZA()()),2&be){const ie=y.oxw(5);y.xp6(4),y.Oqu(ie.detail.MediaItem.Directors)}}function x(be,Oe){if(1&be&&(y.TgZ(0,"div",18)(1,"span",23),y._uU(2,"Reparto: "),y.qZA(),y.TgZ(3,"span",24),y._uU(4),y.qZA()()),2&be){const ie=y.oxw(5);y.xp6(4),y.Oqu(ie.detail.MediaItem.Actors)}}function R(be,Oe){if(1&be){const ie=y.EpF();y.TgZ(0,"div")(1,"div")(2,"button",25),y.NdJ("click",function(){y.CHM(ie);const Ce=y.oxw(5);return y.KtG(Ce.continueVideo())}),y._uU(3,"Continuar"),y.qZA()(),y.TgZ(4,"div",26),y._UZ(5,"div",27),y.qZA(),y.TgZ(6,"div",28),y._uU(7),y.qZA()()}if(2&be){const ie=y.oxw(5);y.xp6(5),y.Udp("width",ie.getWidthProgressItem(ie.lastEpisodeWatched)),y.xp6(2),y.hij(" ",ie.lastEpisodeWatched.Subtitle," ")}}function O(be,Oe){if(1&be){const ie=y.EpF();y.TgZ(0,"button",29),y.NdJ("click",function(){y.CHM(ie);const Ce=y.oxw(6);return y.KtG(Ce.showVideo())}),y._uU(1,"Ver desde el principio"),y.qZA(),y.TgZ(2,"button",25),y.NdJ("click",function(){y.CHM(ie);const Ce=y.oxw(6);return y.KtG(Ce.continueVideo())}),y._uU(3,"Continuar viendo"),y.qZA()}}function S(be,Oe){if(1&be){const ie=y.EpF();y.TgZ(0,"button",30),y.NdJ("click",function(){y.CHM(ie);const Ce=y.oxw(6);return y.KtG(Ce.showVideo())}),y._UZ(1,"i",31),y._uU(2," Ver ahora "),y.qZA()}}function I(be,Oe){if(1&be&&(y.YNc(0,O,4,0,"ng-template",0),y.YNc(1,S,3,0,"ng-template",0)),2&be){const ie=y.oxw(5);y.Q6J("ngIf",ie.itemUserData),y.xp6(1),y.Q6J("ngIf",!ie.itemUserData)}}function E(be,Oe){if(1&be&&(y.TgZ(0,"div",32),y._uU(1),y.qZA()),2&be){const ie=y.oxw(5);y.xp6(1),y.hij(" ",ie.detail.MediaItem.Overview," ")}}function L(be,Oe){if(1&be){const ie=y.EpF();y.TgZ(0,"img",47),y.NdJ("error",function(){y.CHM(ie),y.oxw();const Ce=y.MAs(12),de=y.MAs(7),Me=y.MAs(18),pe=y.oxw(5);return y.KtG(pe.onInitializeItemsRow(Ce,de,Me))}),y.qZA()}}const b=function(be){return{selected:be}};function B(be,Oe){if(1&be){const ie=y.EpF();y.TgZ(0,"div",48)(1,"button",49),y.NdJ("click",function(){const de=y.CHM(ie).$implicit,Me=y.oxw(6);return y.KtG(Me.onClickSeason(de))}),y.TgZ(2,"span"),y._uU(3),y.qZA()()()}if(2&be){const ie=Oe.$implicit,ye=y.oxw(6);y.xp6(1),y.MGl("id","section_season_",ie.SeasonNumber,""),y.Q6J("ngClass",y.VKq(3,b,ie.SeasonNumber==ye.detail.CurrentSeason.SeasonNumber)),y.xp6(2),y.Oqu(ie.Name)}}function Z(be,Oe){if(1&be&&(y.TgZ(0,"div",59),y._uU(1),y.qZA()),2&be){const ie=y.oxw().$implicit;y.xp6(1),y.hij(" ",ie.Overview," ")}}function oe(be,Oe){if(1&be){const ie=y.EpF();y.TgZ(0,"section",50)(1,"button",51),y.NdJ("click",function(){const de=y.CHM(ie).$implicit,Me=y.oxw(6);return y.KtG(Me.onClickEpisode(de))}),y.TgZ(2,"div",52)(3,"div",53)(4,"div",54),y._UZ(5,"img",55),y.qZA(),y.TgZ(6,"div",56)(7,"div",57),y._uU(8),y.qZA(),y.YNc(9,Z,2,1,"div",58),y.qZA()()()()()}if(2&be){const ie=Oe.$implicit,ye=y.oxw(6);y.hYB("id","section_episode_s",ie.SeasonNumber,"_e",ie.EpisodeNumber,""),y.xp6(1),y.hYB("id","button_episode_s",ie.SeasonNumber,"_e",ie.EpisodeNumber,""),y.xp6(4),y.Q6J("src",ye.getEpisodeImagePath(ie),y.LSH),y.xp6(3),y.AsE(" ",ie.EpisodeNumber,". ",ie.Name," "),y.xp6(1),y.Q6J("ngIf",ie.Overview)}}function le(be,Oe){if(1&be){const ie=y.EpF();y.TgZ(0,"div",33)(1,"div"),y._uU(2," EPISODIOS "),y.qZA(),y.TgZ(3,"div",34),y.YNc(4,L,1,0,"img",35),y.TgZ(5,"div",3)(6,"div",36,37),y.NdJ("click",function(){y.CHM(ie);const Ce=y.MAs(12),de=y.MAs(7),Me=y.MAs(18),pe=y.oxw(5);return y.KtG(pe.onClickButtonLeftScroll(Ce,de,Me))}),y._UZ(8,"img",38),y.ALo(9,"async"),y.ALo(10,"formatDataPipe"),y.qZA()(),y.TgZ(11,"div",39,40)(13,"section",41,42),y.YNc(15,B,4,5,"ng-template",43),y.qZA()(),y.TgZ(16,"div",3)(17,"div",44,45),y.NdJ("click",function(){y.CHM(ie);const Ce=y.MAs(12),de=y.MAs(7),Me=y.MAs(18),pe=y.oxw(5);return y.KtG(pe.onClickButtonRightScroll(Ce,de,Me))}),y._UZ(19,"img",38),y.ALo(20,"async"),y.ALo(21,"formatDataPipe"),y.qZA()()(),y.TgZ(22,"div",46),y.YNc(23,oe,10,8,"ng-template",43),y.qZA()()}if(2&be){const ie=y.oxw(5);y.xp6(4),y.Q6J("ngIf",!ie.startResize),y.xp6(4),y.Q6J("src",y.lcZ(9,5,y.xi3(10,7,"left.png","GetIconURLByKey")),y.LSH),y.xp6(7),y.Q6J("ngForOf",ie.detail.ListSeasons),y.xp6(4),y.Q6J("src",y.lcZ(20,10,y.xi3(21,12,"right.png","GetIconURLByKey")),y.LSH),y.xp6(4),y.Q6J("ngForOf",ie.detail.CurrentSeason.ListEpisodes)}}function Re(be,Oe){if(1&be&&(y.TgZ(0,"div",16)(1,"div",17),y._uU(2),y.qZA(),y.TgZ(3,"div",18),y._uU(4),y.qZA(),y.YNc(5,A,5,1,"div",19),y.YNc(6,x,5,1,"div",19),y.TgZ(7,"section",20),y.YNc(8,R,8,3,"ng-template",0),y.YNc(9,I,2,2,"ng-template",0),y.qZA(),y.YNc(10,E,2,1,"div",21),y.YNc(11,le,24,15,"div",22),y.qZA()),2&be){const ie=y.oxw(4);y.xp6(2),y.hij(" ",ie.detail.MediaItem.Title," "),y.xp6(2),y.hij(" ",ie.detail.MediaItem.Genres," "),y.xp6(1),y.Q6J("ngIf",ie.detail.MediaItem.Directors),y.xp6(1),y.Q6J("ngIf",ie.detail.MediaItem.Actors),y.xp6(2),y.Q6J("ngIf",ie.lastEpisodeWatched),y.xp6(1),y.Q6J("ngIf",!ie.lastEpisodeWatched),y.xp6(1),y.Q6J("ngIf",!ie.lastEpisodeWatched),y.xp6(1),y.Q6J("ngIf",ie.detail.ListSeasons&&ie.detail.ListSeasons.length>0)}}function Y(be,Oe){if(1&be&&(y.TgZ(0,"div",15),y.YNc(1,Re,12,8,"ng-template",0),y.qZA()),2&be){const ie=y.oxw(3);y.Udp("height",ie.title?"calc(100% - 65px)":"100%"),y.xp6(1),y.Q6J("ngIf",ie.detail)}}function ae(be,Oe){if(1&be&&(y.TgZ(0,"div",1,2)(2,"div",3)(3,"div",4)(4,"div",5),y.YNc(5,p,1,1,"img",6),y.qZA()()(),y.TgZ(6,"div",7),y.YNc(7,C,6,2,"div",8),y.YNc(8,Y,2,3,"div",9),y.qZA()()),2&be){const ie=y.MAs(1),ye=y.oxw(2);y.xp6(4),y.Udp("width",ie.clientWidth+"px"),y.xp6(1),y.Q6J("ngIf",ye.detail),y.xp6(2),y.Q6J("ngIf",ye.title),y.xp6(1),y.Q6J("ngIf",ye.detail)}}function G(be,Oe){if(1&be&&y._UZ(0,"app-server-connection-error",60),2&be){const ie=y.oxw(2);y.Q6J("mediaServer",ie.mediaServer)}}function De(be,Oe){if(1&be&&(y.YNc(0,ae,9,5,"ng-template",0),y.YNc(1,G,1,1,"ng-template",0)),2&be){const ie=y.oxw();y.Q6J("ngIf",ie.mediaServer&&ie.mediaServer.isSecureConnection),y.xp6(1),y.Q6J("ngIf",ie.mediaServer&&!ie.mediaServer.isSecureConnection)}}function ce(be,Oe){1&be&&(y.TgZ(0,"div",61),y._UZ(1,"mat-spinner"),y.qZA())}let Te=(()=>{class be extends t{constructor(ie,ye,Ce,de,Me,pe){super(de,Ce,pe),this.signalIrService=ie,this.mediaItemService=ye,this.activeRoute=Ce,this.router=de,this.ref=Me,this.sharedDataService=pe,this._window=window,this.startResize=!1,this.subscription=new v.w0,this.loadingConnection=!0,this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(Ie=>{this.mediaServer&&this.mediaServer.Guid==Ie&&!this.mediaServer.isSecureConnection&&(this.loadingConnection=!1,this.mediaServer.isSecureConnection=!0,this.getMediaItemDetail())})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(Ie=>{this.mediaServer&&this.mediaServer.Guid==Ie&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)}))}ngOnInit(){this.initializeHeaderData(),this.mediaServer?this.mediaServer.isSecureConnection?(this.loadingConnection=!1,this.getMediaItemDetail()):setTimeout(()=>{this.loadingConnection=!1},3e3):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscription.unsubscribe()}getMediaItemDetail(){let ie=this.activeRoute.snapshot.queryParams.mediaId;ie?this.mediaItemService.getMediaItemDetail(this.mediaServer.Url,ie).then(ye=>{this.detail=ye,this.detail.CurrentSeason=this.detail.ListSeasons[0]},ye=>{this.router.navigate(["404"],{skipLocationChange:!1})}):this.router.navigate(["404"],{skipLocationChange:!1})}getEpisodeImagePath(ie){return this.detail.MediaItem.MetadataAgentsId==e.DM.TMDb&&ie.PosterPath?this.sharedDataService.urlEpisodeDataBase+ie.PosterPath:ie.ListMediaFiles&&ie.ListMediaFiles.length>0?this.mediaServer.Url+"/media/"+ie.ListMediaFiles[0].Guid+"/thumbnail.png":"assets/img/no-image-available.jpg"}getUrlByItemDetailMovieDataBase(ie){return ie.MediaItem.MetadataAgentsId==e.DM.TMDb?this.sharedDataService.originalUrlImagesMovieDataBase+ie.MediaItem.PosterPath:ie.MediaItem.PosterPath?ie.MediaItem.PosterPath:ie.ListMediaFiles&&ie.ListMediaFiles.length>0?this.mediaServer.Url+"/media/"+ie.ListMediaFiles[0].Guid+"/thumbnail.png":"assets/img/no-image-available.jpg"}verifyIfShoOrHiddenScrollButtons(ie,ye,Ce){ye.style.display=ie.scrollLeft<=0?"none":"flex",Ce.style.display=ie.scrollWidth==ie.scrollLeft+ie.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(ie,ye,Ce){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(ie,ye,Ce)},250)}onClickButtonLeftScroll(ie,ye,Ce){ie.scrollLeft=ie.scrollLeft-20,this.verifyIfShoOrHiddenScrollButtons(ie,ye,Ce)}onClickButtonRightScroll(ie,ye,Ce){ie.scrollLeft=ie.scrollLeft+20,this.verifyIfShoOrHiddenScrollButtons(ie,ye,Ce)}getWidthProgressItem(ie){return ie.CurrentTime/ie.DurationTime*100+"%"}continueVideo(){}showVideo(){if(this.detail.MediaItem.MediaTypeId==e.DD.Movie)this.getVideosByItem();else if(this.detail.ListSeasons&&this.detail.ListSeasons.length>0){let ie=this.detail.ListSeasons[0];ie.ListEpisodes&&ie.ListEpisodes.length>0&&this.getVideoByEpisode(ie.ListEpisodes[0])}}getVideosByItem(){this.router.navigateByUrl("/media/server/"+this.mediaServer.Guid+"/video/"+this.detail.ListMediaFiles[0].Id)}onClickSeason(ie){this.detail.CurrentSeason=ie}onClickEpisode(ie){this.getVideoByEpisode(ie)}getVideoByEpisode(ie){this.router.navigateByUrl("/media/server/"+this.mediaServer.Guid+"/video/"+ie.ListMediaFiles[0].Id)}onResize(ie){setTimeout(()=>{this.startResize=!0,this.ref.detectChanges(),this.startResize=!1,this.ref.detectChanges()},100)}static#e=this.\u0275fac=function(ye){return new(ye||be)(y.Y36(m.n),y.Y36(P.D),y.Y36(D.gz),y.Y36(D.F0),y.Y36(y.sBO),y.Y36(f.g))};static#t=this.\u0275cmp=y.Xpm({type:be,selectors:[["app-item-detail"]],hostBindings:function(ye,Ce){1&ye&&y.NdJ("resize",function(Me){return Ce.onResize(Me)},!1,y.Jf7)},features:[y.qOj],decls:2,vars:2,consts:[[3,"ngIf"],[1,"media-principal-section"],["container",""],[2,"width","0px","height","0px"],[1,"sinovad-item-view-background-container"],[2,"position","fixed"],["onError","this.src='assets/img/no-image-available.jpg'",3,"src",4,"ngIf"],[1,"media-container"],["class","media-header",4,"ngIf"],["class","sinovad-item-view-container sinovad-custom-container",3,"height",4,"ngIf"],["onError","this.src='assets/img/no-image-available.jpg'",3,"src"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[1,"subtitle"],[1,"sinovad-item-view-container","sinovad-custom-container"],[1,"sinovad-item-view-principal-section"],[1,"sinovad-item-view-title-container"],[1,"sinovad-item-view-subtitle-container"],["class","sinovad-item-view-subtitle-container",4,"ngIf"],["id","section_principal_buttons",1,"sinovad-item-view-principal-button-container","sinovad-section"],["class","sinovad-item-view-summary-container",4,"ngIf"],["class","sinovad-item-view-seasons-container",4,"ngIf"],[2,"font-weight","bold"],[2,"font-weight","normal"],["id","continue_play",1,"",3,"click"],[1,"sinovad-item-progress-bar-container",2,"width","300px"],[1,"sinovad-item-progress-bar-content"],[2,"margin-top","5px"],["id","restart_play",1,"",3,"click"],["id","play_now",1,"",3,"click"],[1,"fa-solid","fa-play","me-1"],[1,"sinovad-item-view-summary-container"],[1,"sinovad-item-view-seasons-container"],[1,"sinovad-list-row-container"],["style","display:none;","src","",3,"error",4,"ngIf"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[3,"src"],[1,"sinovad-list-row","sinovad-section"],["itemsRowContainer",""],["id","section_seasons",1,"sinovad-list-content"],["content",""],["ngFor","",3,"ngForOf"],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-view-episodes-container"],["src","",2,"display","none",3,"error"],[1,"sinovad-season-container"],[1,"sinovad-season-button",3,"id","ngClass","click"],[1,"sinovad-section",3,"id"],[1,"sinovad-episode-button",3,"id","click"],[1,"container-fluid"],[1,"row"],[1,"col-sm","col-md-6","col-lg-4","col-xl-3","sinovad-episode-image-section"],["onError","this.src='assets/img/no-image-available.jpg'",1,"img-fluid",3,"src"],[1,"col","sinovad-episode-detail-section"],[1,"sinovad-episode-title-section"],["class","sinovad-overview-section",4,"ngIf"],[1,"sinovad-overview-section"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(ye,Ce){1&ye&&(y.YNc(0,De,2,2,"ng-template",0),y.YNc(1,ce,2,0,"ng-template",0)),2&ye&&(y.Q6J("ngIf",!Ce.loadingConnection),y.xp6(1),y.Q6J("ngIf",Ce.loadingConnection))},dependencies:[i.mk,i.sg,i.O5,c.Ou,d.Z,i.Ov,h.A],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-episode-button[_ngcontent-%COMP%]{width:100%;cursor:pointer;display:flex;border-radius:5px;margin-bottom:15px;padding:0;border:none;background:transparent}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;font-weight:400;overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:10;margin-top:10px}.sinovad-episode-title-section[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:1}.sinovad-episode-detail-section[_ngcontent-%COMP%]{display:block;background-color:transparent;color:#fff;padding:4px;text-align:left;width:100%}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:10px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-item-view-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden;outline:none}.sinovad-item-view-title-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:50px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-background-container[_ngcontent-%COMP%]{position:relative}.sinovad-item-view-background-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;width:100%;opacity:.5}.sinovad-item-view-seasons-container[_ngcontent-%COMP%]{position:relative;width:100%;font-size:20px;color:#fff;padding-right:20px;padding-left:20px;padding-top:20px;font-weight:700}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:82px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.4;max-width:unset;height:110px;display:none}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:82px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:110px;display:none;opacity:.4}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;width:100%}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-season-container[_ngcontent-%COMP%]{padding-right:10px}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;text-align:center;display:flex;align-items:center;justify-content:center;cursor:pointer;padding:10px 10px 4px;background:transparent;border:none}.sinovad-season-button[_ngcontent-%COMP%]:hover{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus-visible{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus{border-bottom:4px solid #007bff!important}.sinovad-season-button.selected[_ngcontent-%COMP%]{border-bottom:4px solid #007bff}button[_ngcontent-%COMP%]{font-size:25px}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{display:none!important}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid transparent}.sinovad-episode-button[_ngcontent-%COMP%]:hover   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;max-width:102%}.sinovad-episode-button[_ngcontent-%COMP%]:focus-visible   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;max-width:102%}.sinovad-episode-button[_ngcontent-%COMP%]:focus   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;max-width:102%}.sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:15px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:13px;-webkit-line-clamp:7}.sinovad-season-button[_ngcontent-%COMP%]{font-size:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:16px;border:none;background:white;color:#000;font-weight:700;padding:8px 20px;border-radius:5px;margin-right:10px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background:#007bff;color:#fff}.sinovad-item-view-summary-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;color:#fff;padding:20px;font-size:16px}@media only screen and (min-width: 2048px){.sinovad-item-view-summary-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:50px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%], .sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:25px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;-webkit-line-clamp:10}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px}}.img-fluid[_ngcontent-%COMP%]{max-height:200px;min-width:100%}@media only screen and (max-width: 767px){.sinovad-episode-button[_ngcontent-%COMP%]{display:block;text-align:left;margin-bottom:20px}.sinovad-episode-detail-section[_ngcontent-%COMP%]{padding:0 20px 12px}.sinovad-episode-image-section[_ngcontent-%COMP%]{margin-bottom:10px}.sinovad-episode-title-section[_ngcontent-%COMP%]{-webkit-line-clamp:2}}@media only screen and (max-width: 1399px){.sinovad-overview-section[_ngcontent-%COMP%]{-webkit-line-clamp:4!important}}@media only screen and (max-width: 575px){.sinovad-overview-section[_ngcontent-%COMP%]{-webkit-line-clamp:10!important}.img-fluid[_ngcontent-%COMP%]{max-height:250px}}"]})}return be})()},9817:(Wn,Je,g)=>{"use strict";g.d(Je,{c:()=>dc});var e=g(5094),t=g(2372),v=g(4753);function y(V){return V&&V.__esModule&&Object.prototype.hasOwnProperty.call(V,"default")?V.default:V}var _,M,k,H,te,m={exports:{}};_=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,M=/^(?=([^\/?#]*))\1([^]*)$/,k=/(?:\/|^)\.(?=\/)/g,H=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,m.exports=te={buildAbsoluteURL:function(Ae,Pe,dt){if(dt=dt||{},Ae=Ae.trim(),!(Pe=Pe.trim())){if(!dt.alwaysNormalize)return Ae;var pt=te.parseURL(Ae);if(!pt)throw new Error("Error trying to parse base URL.");return pt.path=te.normalizePath(pt.path),te.buildURLFromParts(pt)}var Ut=te.parseURL(Pe);if(!Ut)throw new Error("Error trying to parse relative URL.");if(Ut.scheme)return dt.alwaysNormalize?(Ut.path=te.normalizePath(Ut.path),te.buildURLFromParts(Ut)):Pe;var jt=te.parseURL(Ae);if(!jt)throw new Error("Error trying to parse base URL.");if(!jt.netLoc&&jt.path&&"/"!==jt.path[0]){var qt=M.exec(jt.path);jt.netLoc=qt[1],jt.path=qt[2]}jt.netLoc&&!jt.path&&(jt.path="/");var cn={scheme:jt.scheme,netLoc:Ut.netLoc,path:null,params:Ut.params,query:Ut.query,fragment:Ut.fragment};if(!Ut.netLoc&&(cn.netLoc=jt.netLoc,"/"!==Ut.path[0]))if(Ut.path){var bn=jt.path,Bn=bn.substring(0,bn.lastIndexOf("/")+1)+Ut.path;cn.path=te.normalizePath(Bn)}else cn.path=jt.path,Ut.params||(cn.params=jt.params,Ut.query||(cn.query=jt.query));return null===cn.path&&(cn.path=dt.alwaysNormalize?te.normalizePath(Ut.path):Ut.path),te.buildURLFromParts(cn)},parseURL:function(Ae){var Pe=_.exec(Ae);return Pe?{scheme:Pe[1]||"",netLoc:Pe[2]||"",path:Pe[3]||"",params:Pe[4]||"",query:Pe[5]||"",fragment:Pe[6]||""}:null},normalizePath:function(Ae){for(Ae=Ae.split("").reverse().join("").replace(k,"");Ae.length!==(Ae=Ae.replace(H,"")).length;);return Ae.split("").reverse().join("")},buildURLFromParts:function(Ae){return Ae.scheme+Ae.netLoc+Ae.path+Ae.params+Ae.query+Ae.fragment}};var P=m.exports;function D(V,r){var l=Object.keys(V);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(V);r&&(_=_.filter(function(M){return Object.getOwnPropertyDescriptor(V,M).enumerable})),l.push.apply(l,_)}return l}function f(V){for(var r=1;r<arguments.length;r++){var l=null!=arguments[r]?arguments[r]:{};r%2?D(Object(l),!0).forEach(function(_){i(V,_,l[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(l)):D(Object(l)).forEach(function(_){Object.defineProperty(V,_,Object.getOwnPropertyDescriptor(l,_))})}return V}function i(V,r,l){return r=function h(V){var r=function d(V,r){if("object"!=typeof V||null===V)return V;var l=V[Symbol.toPrimitive];if(void 0!==l){var _=l.call(V,r||"default");if("object"!=typeof _)return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(V)}(V,"string");return"symbol"==typeof r?r:String(r)}(r),r in V?Object.defineProperty(V,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):V[r]=l,V}function c(){return c=Object.assign?Object.assign.bind():function(V){for(var r=1;r<arguments.length;r++){var l=arguments[r];for(var _ in l)Object.prototype.hasOwnProperty.call(l,_)&&(V[_]=l[_])}return V},c.apply(this,arguments)}const p=Number.isFinite||function(V){return"number"==typeof V&&isFinite(V)};let C=function(V){return V.MEDIA_ATTACHING="hlsMediaAttaching",V.MEDIA_ATTACHED="hlsMediaAttached",V.MEDIA_DETACHING="hlsMediaDetaching",V.MEDIA_DETACHED="hlsMediaDetached",V.BUFFER_RESET="hlsBufferReset",V.BUFFER_CODECS="hlsBufferCodecs",V.BUFFER_CREATED="hlsBufferCreated",V.BUFFER_APPENDING="hlsBufferAppending",V.BUFFER_APPENDED="hlsBufferAppended",V.BUFFER_EOS="hlsBufferEos",V.BUFFER_FLUSHING="hlsBufferFlushing",V.BUFFER_FLUSHED="hlsBufferFlushed",V.MANIFEST_LOADING="hlsManifestLoading",V.MANIFEST_LOADED="hlsManifestLoaded",V.MANIFEST_PARSED="hlsManifestParsed",V.LEVEL_SWITCHING="hlsLevelSwitching",V.LEVEL_SWITCHED="hlsLevelSwitched",V.LEVEL_LOADING="hlsLevelLoading",V.LEVEL_LOADED="hlsLevelLoaded",V.LEVEL_UPDATED="hlsLevelUpdated",V.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",V.LEVELS_UPDATED="hlsLevelsUpdated",V.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",V.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",V.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",V.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",V.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",V.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",V.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",V.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",V.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",V.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",V.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",V.CUES_PARSED="hlsCuesParsed",V.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",V.INIT_PTS_FOUND="hlsInitPtsFound",V.FRAG_LOADING="hlsFragLoading",V.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",V.FRAG_LOADED="hlsFragLoaded",V.FRAG_DECRYPTED="hlsFragDecrypted",V.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",V.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",V.FRAG_PARSING_METADATA="hlsFragParsingMetadata",V.FRAG_PARSED="hlsFragParsed",V.FRAG_BUFFERED="hlsFragBuffered",V.FRAG_CHANGED="hlsFragChanged",V.FPS_DROP="hlsFpsDrop",V.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",V.ERROR="hlsError",V.DESTROYING="hlsDestroying",V.KEY_LOADING="hlsKeyLoading",V.KEY_LOADED="hlsKeyLoaded",V.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",V.BACK_BUFFER_REACHED="hlsBackBufferReached",V}({}),A=function(V){return V.NETWORK_ERROR="networkError",V.MEDIA_ERROR="mediaError",V.KEY_SYSTEM_ERROR="keySystemError",V.MUX_ERROR="muxError",V.OTHER_ERROR="otherError",V}({}),x=function(V){return V.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",V.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",V.KEY_SYSTEM_NO_SESSION="keySystemNoSession",V.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",V.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",V.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",V.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",V.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",V.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",V.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",V.MANIFEST_LOAD_ERROR="manifestLoadError",V.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",V.MANIFEST_PARSING_ERROR="manifestParsingError",V.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",V.LEVEL_EMPTY_ERROR="levelEmptyError",V.LEVEL_LOAD_ERROR="levelLoadError",V.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",V.LEVEL_PARSING_ERROR="levelParsingError",V.LEVEL_SWITCH_ERROR="levelSwitchError",V.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",V.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",V.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",V.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",V.FRAG_LOAD_ERROR="fragLoadError",V.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",V.FRAG_DECRYPT_ERROR="fragDecryptError",V.FRAG_PARSING_ERROR="fragParsingError",V.FRAG_GAP="fragGap",V.REMUX_ALLOC_ERROR="remuxAllocError",V.KEY_LOAD_ERROR="keyLoadError",V.KEY_LOAD_TIMEOUT="keyLoadTimeOut",V.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",V.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",V.BUFFER_APPEND_ERROR="bufferAppendError",V.BUFFER_APPENDING_ERROR="bufferAppendingError",V.BUFFER_STALLED_ERROR="bufferStalledError",V.BUFFER_FULL_ERROR="bufferFullError",V.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",V.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",V.INTERNAL_EXCEPTION="internalException",V.INTERNAL_ABORTED="aborted",V.UNKNOWN="unknown",V}({});const R=function(){},O={trace:R,debug:R,log:R,warn:R,info:R,error:R};let S=O;const b=S,B=/^(\d+)x(\d+)$/,Z=/(.+?)=(".*?"|.*?)(?:,|$)/g;class oe{constructor(r){"string"==typeof r&&(r=oe.parseAttrList(r));for(const l in r)r.hasOwnProperty(l)&&("X-"===l.substring(0,2)&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(l)),this[l]=r[l])}decimalInteger(r){const l=parseInt(this[r],10);return l>Number.MAX_SAFE_INTEGER?1/0:l}hexadecimalInteger(r){if(this[r]){let l=(this[r]||"0x").slice(2);l=(1&l.length?"0":"")+l;const _=new Uint8Array(l.length/2);for(let M=0;M<l.length/2;M++)_[M]=parseInt(l.slice(2*M,2*M+2),16);return _}return null}hexadecimalIntegerAsNumber(r){const l=parseInt(this[r],16);return l>Number.MAX_SAFE_INTEGER?1/0:l}decimalFloatingPoint(r){return parseFloat(this[r])}optionalFloat(r,l){const _=this[r];return _?parseFloat(_):l}enumeratedString(r){return this[r]}bool(r){return"YES"===this[r]}decimalResolution(r){const l=B.exec(this[r]);if(null!==l)return{width:parseInt(l[1],10),height:parseInt(l[2],10)}}static parseAttrList(r){let l;const _={};for(Z.lastIndex=0;null!==(l=Z.exec(r));){let k=l[2];0===k.indexOf('"')&&k.lastIndexOf('"')===k.length-1&&(k=k.slice(1,-1)),_[l[1].trim()]=k}return _}}function Re(V){return"SCTE35-OUT"===V||"SCTE35-IN"===V}class Y{constructor(r,l){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,l){const _=l.attr;for(const M in _)if(Object.prototype.hasOwnProperty.call(r,M)&&r[M]!==_[M]){b.warn(`DATERANGE tag attribute: "${M}" does not match for tags with ID: "${r.ID}"`),this._badValueForSameId=M;break}r=c(new oe({}),_,r)}if(this.attr=r,this._startDate=new Date(r["START-DATE"]),"END-DATE"in this.attr){const _=new Date(this.attr["END-DATE"]);p(_.getTime())&&(this._endDate=_)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const r=this.duration;return null!==r?new Date(this._startDate.getTime()+1e3*r):null}get duration(){if("DURATION"in this.attr){const r=this.attr.decimalFloatingPoint("DURATION");if(p(r))return r}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&p(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class ae{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}class De{constructor(r){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={audio:null,video:null,audiovideo:null},this.baseurl=r}setByteRange(r,l){const _=r.split("@",2),M=[];M[0]=1===_.length?l?l.byteRangeEndOffset:0:parseInt(_[1]),M[1]=parseInt(_[0])+M[0],this._byteRange=M}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=P.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(r){this._url=r}}class ce extends De{constructor(r,l){super(l),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new ae,this.urlId=0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.type=r}get decryptdata(){const{levelkeys:r}=this;if(!r&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const l=this.levelkeys.identity;if(l)this._decryptdata=l.getDecryptData(this.sn);else{const _=Object.keys(this.levelkeys);if(1===_.length)return this._decryptdata=this.levelkeys[_[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime||!p(this.programDateTime))return null;const r=p(this.duration)?this.duration:0;return this.programDateTime+1e3*r}get encrypted(){var r;if(null!=(r=this._decryptdata)&&r.encrypted)return!0;if(this.levelkeys){const l=Object.keys(this.levelkeys),_=l.length;if(_>1||1===_&&this.levelkeys[l[0]].encrypted)return!0}return!1}setKeyFormat(r){if(this.levelkeys){const l=this.levelkeys[r];l&&!this._decryptdata&&(this._decryptdata=l.getDecryptData(this.sn))}}abortRequests(){var r,l;null==(r=this.loader)||r.abort(),null==(l=this.keyLoader)||l.abort()}setElementaryStreamInfo(r,l,_,M,k,H=!1){const{elementaryStreams:te}=this,Ae=te[r];Ae?(Ae.startPTS=Math.min(Ae.startPTS,l),Ae.endPTS=Math.max(Ae.endPTS,_),Ae.startDTS=Math.min(Ae.startDTS,M),Ae.endDTS=Math.max(Ae.endDTS,k)):te[r]={startPTS:l,endPTS:_,startDTS:M,endDTS:k,partial:H}}clearElementaryStreamInfo(){const{elementaryStreams:r}=this;r.audio=null,r.video=null,r.audiovideo=null}}class Te extends De{constructor(r,l,_,M,k){super(_),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new ae,this.duration=r.decimalFloatingPoint("DURATION"),this.gap=r.bool("GAP"),this.independent=r.bool("INDEPENDENT"),this.relurl=r.enumeratedString("URI"),this.fragment=l,this.index=M;const H=r.enumeratedString("BYTERANGE");H&&this.setByteRange(H,k),k&&(this.fragOffset=k.fragOffset+k.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:r}=this;return!!(r.audio||r.video||r.audiovideo)}}class Oe{constructor(r){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=r}reloaded(r){if(!r)return this.advanced=!0,void(this.updated=!0);const l=this.lastPartSn-r.lastPartSn,_=this.lastPartIndex-r.lastPartIndex;this.updated=this.endSN!==r.endSN||!!_||!!l,this.advanced=this.endSN>r.endSN||l>0||0===l&&_>0,this.misses=this.updated||this.advanced?Math.floor(.6*r.misses):r.misses+1,this.availabilityDelay=r.availabilityDelay}get hasProgramDateTime(){return!!this.fragments.length&&p(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const r=this.driftEndTime-this.driftStartTime;return r>0?1e3*(this.driftEnd-this.driftStart)/r:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var r;return null!=(r=this.partList)&&r.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var r;return null!=(r=this.fragments)&&r.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var r;return null!=(r=this.partList)&&r.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var r;return null!=(r=this.partList)&&r.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function ie(V){return Uint8Array.from(atob(V),r=>r.charCodeAt(0))}function Me(V){return Uint8Array.from(unescape(encodeURIComponent(V)),r=>r.charCodeAt(0))}var pe={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Ie_FAIRPLAY="com.apple.streamingkeydelivery",Ie_PLAYREADY="com.microsoft.playready",Ie_WIDEVINE="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function Be(V){switch(V){case Ie_FAIRPLAY:return pe.FAIRPLAY;case Ie_PLAYREADY:return pe.PLAYREADY;case Ie_WIDEVINE:return pe.WIDEVINE;case"org.w3.clearkey":return pe.CLEARKEY}}function je(V){switch(V){case pe.FAIRPLAY:return Ie_FAIRPLAY;case pe.PLAYREADY:return Ie_PLAYREADY;case pe.WIDEVINE:return Ie_WIDEVINE;case pe.CLEARKEY:return"org.w3.clearkey"}}function Ne(V){const{drmSystems:r,widevineLicenseUrl:l}=V,_=r?[pe.FAIRPLAY,pe.WIDEVINE,pe.PLAYREADY,pe.CLEARKEY].filter(M=>!!r[M]):[];return!_[pe.WIDEVINE]&&l&&_.push(pe.WIDEVINE),_}const ee=typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function q(V,r,l){return Uint8Array.prototype.slice?V.slice(r,l):new Uint8Array(Array.prototype.slice.call(V,r,l))}const $=(V,r)=>r+10<=V.length&&73===V[r]&&68===V[r+1]&&51===V[r+2]&&V[r+3]<255&&V[r+4]<255&&V[r+6]<128&&V[r+7]<128&&V[r+8]<128&&V[r+9]<128,Q=(V,r)=>r+10<=V.length&&51===V[r]&&68===V[r+1]&&73===V[r+2]&&V[r+3]<255&&V[r+4]<255&&V[r+6]<128&&V[r+7]<128&&V[r+8]<128&&V[r+9]<128,ne=(V,r)=>{const l=r;let _=0;for(;$(V,r);)_+=10,_+=X(V,r+6),Q(V,r+10)&&(_+=10),r+=_;if(_>0)return V.subarray(l,l+_)},X=(V,r)=>{let l=0;return l=(127&V[r])<<21,l|=(127&V[r+1])<<14,l|=(127&V[r+2])<<7,l|=127&V[r+3],l},re=(V,r)=>$(V,r)&&X(V,r+6)+10<=V.length-r,ge=V=>V&&"PRIV"===V.key&&"com.apple.streaming.transportStreamTimestamp"===V.info,Se=V=>{const r=String.fromCharCode(V[0],V[1],V[2],V[3]),l=X(V,4);return{type:r,size:l,data:V.subarray(10,10+l)}},Ee=V=>{let r=0;const l=[];for(;$(V,r);){const _=X(V,r+6);r+=10;const M=r+_;for(;r+8<M;){const k=Se(V.subarray(r)),H=Fe(k);H&&l.push(H),r+=k.size+10}Q(V,r)&&(r+=10)}return l},Fe=V=>"PRIV"===V.type?ct(V):"W"===V.type[0]?tt(V):qe(V),ct=V=>{if(V.size<2)return;const r=Qe(V.data,!0),l=new Uint8Array(V.data.subarray(r.length+1));return{key:V.type,info:r,data:l.buffer}},qe=V=>{if(V.size<2)return;if("TXXX"===V.type){let l=1;const _=Qe(V.data.subarray(l),!0);l+=_.length+1;const M=Qe(V.data.subarray(l));return{key:V.type,info:_,data:M}}const r=Qe(V.data.subarray(1));return{key:V.type,data:r}},tt=V=>{if("WXXX"===V.type){if(V.size<2)return;let l=1;const _=Qe(V.data.subarray(l),!0);l+=_.length+1;const M=Qe(V.data.subarray(l));return{key:V.type,info:_,data:M}}const r=Qe(V.data);return{key:V.type,data:r}},gt=V=>{if(8===V.data.byteLength){const r=new Uint8Array(V.data);let _=(r[4]<<23)+(r[5]<<15)+(r[6]<<7)+r[7];return _/=45,1&r[3]&&(_+=47721858.84),Math.round(_)}},Qe=(V,r=!1)=>{const l=function Et(){return!yt&&typeof self.TextDecoder<"u"&&(yt=new self.TextDecoder("utf-8")),yt}();if(l){const Pe=l.decode(V);if(r){const dt=Pe.indexOf("\0");return-1!==dt?Pe.substring(0,dt):Pe}return Pe.replace(/\0/g,"")}const _=V.length;let M,k,H,te="",Ae=0;for(;Ae<_;){if(M=V[Ae++],0===M&&r)return te;if(0!==M&&3!==M)switch(M>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:te+=String.fromCharCode(M);break;case 12:case 13:k=V[Ae++],te+=String.fromCharCode((31&M)<<6|63&k);break;case 14:k=V[Ae++],H=V[Ae++],te+=String.fromCharCode((15&M)<<12|(63&k)<<6|(63&H)<<0)}}return te};let yt;const me_hexDump=function(V){let r="";for(let l=0;l<V.length;l++){let _=V[l].toString(16);_.length<2&&(_="0"+_),r+=_}return r},We=Math.pow(2,32)-1,Tt=[].push,Kt={video:1,audio:2,id3:3,text:4};function Jt(V){return String.fromCharCode.apply(null,V)}function Xt(V,r){const l=V[r]<<8|V[r+1];return l<0?65536+l:l}function un(V,r){const l=fn(V,r);return l<0?4294967296+l:l}function fn(V,r){return V[r]<<24|V[r+1]<<16|V[r+2]<<8|V[r+3]}function It(V,r,l){V[r]=l>>24,V[r+1]=l>>16&255,V[r+2]=l>>8&255,V[r+3]=255&l}function vt(V,r){const l=[];if(!r.length)return l;const _=V.byteLength;for(let M=0;M<_;){const k=un(V,M),te=k>1?M+k:_;if(Jt(V.subarray(M+4,M+8))===r[0])if(1===r.length)l.push(V.subarray(M+8,te));else{const Ae=vt(V.subarray(M+8,te),r.slice(1));Ae.length&&Tt.apply(l,Ae)}M=te}return l}function it(V){const r=[],l=V[0];let _=8;const M=un(V,_);_+=4,_+=0===l?8:16,_+=2;let te=V.length+0;const Ae=Xt(V,_);_+=2;for(let Pe=0;Pe<Ae;Pe++){let dt=_;const pt=un(V,dt);dt+=4;const Ut=2147483647&pt;if((2147483648&pt)>>>31==1)return b.warn("SIDX has hierarchical references (not supported)"),null;const qt=un(V,dt);dt+=4,r.push({referenceSize:Ut,subsegmentDuration:qt,info:{duration:qt/M,start:te,end:te+Ut-1}}),te+=Ut,dt+=4,_=dt}return{earliestPresentationTime:0,timescale:M,version:l,referencesCount:Ae,references:r}}function He(V){const r=[],l=vt(V,["moov","trak"]);for(let M=0;M<l.length;M++){const k=l[M],H=vt(k,["tkhd"])[0];if(H){let te=H[0],Ae=0===te?12:20;const Pe=un(H,Ae),dt=vt(k,["mdia","mdhd"])[0];if(dt){te=dt[0],Ae=0===te?12:20;const pt=un(dt,Ae),Ut=vt(k,["mdia","hdlr"])[0];if(Ut){const qt={soun:"audio",vide:"video"}[Jt(Ut.subarray(8,12))];if(qt){const cn=vt(k,["mdia","minf","stbl","stsd"])[0];let bn;cn&&(bn=Jt(cn.subarray(12,16))),r[Pe]={timescale:pt,type:qt},r[qt]={timescale:pt,id:Pe,codec:bn}}}}}}return vt(V,["moov","mvex","trex"]).forEach(M=>{const k=un(M,4),H=r[k];H&&(H.default={duration:un(M,12),flags:un(M,20)})}),r}function st(V){const r=vt(V,["schm"])[0];if(r){const l=Jt(r.subarray(4,8));if("cbcs"===l||"cenc"===l)return vt(V,["schi","tenc"])[0]}return b.error("[eme] missing 'schm' box"),null}function bt(V){const r=un(V,0);let l=8;1&r&&(l+=4),4&r&&(l+=4);let _=0;const M=un(V,4);for(let k=0;k<M;k++)256&r&&(_+=un(V,l),l+=4),512&r&&(l+=4),1024&r&&(l+=4),2048&r&&(l+=4);return _}function En(V,r){const l=new Uint8Array(V.length+r.length);return l.set(V),l.set(r,V.length),l}function tn(V,r){const l=[],_=r.samples,M=r.timescale,k=r.id;let H=!1;return vt(_,["moof"]).map(Ae=>{const Pe=Ae.byteOffset-8;vt(Ae,["traf"]).map(pt=>{const Ut=vt(pt,["tfdt"]).map(jt=>{const qt=jt[0];let cn=un(jt,4);return 1===qt&&(cn*=Math.pow(2,32),cn+=un(jt,8)),cn/M})[0];return void 0!==Ut&&(V=Ut),vt(pt,["tfhd"]).map(jt=>{const qt=un(jt,4),cn=16777215&un(jt,0);let Zn=0;const di=0!=(16&cn);let oi=0;const Ai=0!=(32&cn);let gi=8;qt===k&&(0!=(1&cn)&&(gi+=8),0!=(2&cn)&&(gi+=4),0!=(8&cn)&&(Zn=un(jt,gi),gi+=4),di&&(oi=un(jt,gi),gi+=4),Ai&&(gi+=4),"video"===r.type&&(H=function Mn(V){if(!V)return!1;const r=V.indexOf("."),l=r<0?V:V.substring(0,r);return"hvc1"===l||"hev1"===l||"dvh1"===l||"dvhe"===l}(r.codec)),vt(pt,["trun"]).map(Mi=>{const Pi=Mi[0],ui=16777215&un(Mi,0),ji=0!=(1&ui);let Hi=0;const to=0!=(4&ui),Rs=0!=(256&ui);let yr=0;const oo=0!=(512&ui);let so=0;const Vi=0!=(1024&ui),sr=0!=(2048&ui);let Ro=0;const jo=un(Mi,4);let Eo=8;ji&&(Hi=un(Mi,Eo),Eo+=4),to&&(Eo+=4);let js=Hi+Pe;for(let Fa=0;Fa<jo;Fa++){if(Rs?(yr=un(Mi,Eo),Eo+=4):yr=Zn,oo?(so=un(Mi,Eo),Eo+=4):so=oi,Vi&&(Eo+=4),sr&&(Ro=0===Pi?un(Mi,Eo):fn(Mi,Eo),Eo+=4),"video"===r.type){let Xa=0;for(;Xa<so;){const xl=un(_,js);js+=4,wn(H,_[js])&&Nn(_.subarray(js,js+xl),H?2:1,V+Ro/M,l),js+=xl,Xa+=xl+4}}V+=yr/M}}))})})}),l}function wn(V,r){if(V){const l=r>>1&63;return 39===l||40===l}return 6==(31&r)}function Nn(V,r,l,_){const M=$n(V);let k=0;k+=r;let H=0,te=0,Ae=!1,Pe=0;for(;k<M.length;){H=0;do{if(k>=M.length)break;Pe=M[k++],H+=Pe}while(255===Pe);te=0;do{if(k>=M.length)break;Pe=M[k++],te+=Pe}while(255===Pe);const dt=M.length-k;if(!Ae&&4===H&&k<M.length){if(Ae=!0,181===M[k++]){const Ut=Xt(M,k);if(k+=2,49===Ut){const jt=un(M,k);if(k+=4,1195456820===jt){const qt=M[k++];if(3===qt){const cn=M[k++],Bn=64&cn,ei=Bn?2+3*(31&cn):0,Zn=new Uint8Array(ei);if(Bn){Zn[0]=cn;for(let di=1;di<ei;di++)Zn[di]=M[k++]}_.push({type:qt,payloadType:H,pts:l,bytes:Zn})}}}}}else if(5===H&&te<dt){if(Ae=!0,te>16){const pt=[];for(let qt=0;qt<16;qt++){const cn=M[k++].toString(16);pt.push(1==cn.length?"0"+cn:cn),(3===qt||5===qt||7===qt||9===qt)&&pt.push("-")}const Ut=te-16,jt=new Uint8Array(Ut);for(let qt=0;qt<Ut;qt++)jt[qt]=M[k++];_.push({payloadType:H,pts:l,uuid:pt.join(""),userData:Qe(jt),userDataBytes:jt})}}else if(te<dt)k+=te;else if(te>dt)break}}function $n(V){const r=V.byteLength,l=[];let _=1;for(;_<r-2;)0===V[_]&&0===V[_+1]&&3===V[_+2]?(l.push(_+2),_+=2):_++;if(0===l.length)return V;const M=r-l.length,k=new Uint8Array(M);let H=0;for(_=0;_<M;H++,_++)H===l[0]&&(H++,l.shift()),k[_]=V[H];return k}let mn={};class _n{static clearKeyUriToKeyIdMap(){mn={}}constructor(r,l,_,M=[1],k=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=r,this.uri=l,this.keyFormat=_,this.keyFormatVersions=M,this.iv=k,this.encrypted=!!r&&"NONE"!==r,this.isCommonEncryption=this.encrypted&&"AES-128"!==r}isSupported(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case Ie_FAIRPLAY:case Ie_WIDEVINE:case Ie_PLAYREADY:case"org.w3.clearkey":return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}getDecryptData(r){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!=typeof r&&("AES-128"===this.method&&!this.iv&&b.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),r=0);const _=function Mt(V){const r=new Uint8Array(16);for(let l=12;l<16;l++)r[l]=V>>8*(15-l)&255;return r}(r);return new _n(this.method,this.uri,"identity",this.keyFormatVersions,_)}const l=function de(V){const r=V.split(":");let l=null;if("data"===r[0]&&2===r.length){const _=r[1].split(";"),M=_[_.length-1].split(",");if(2===M.length){const H=M[1];"base64"===M[0]?(_.splice(-1,1),l=ie(H)):l=function ye(V){const r=Me(V).subarray(0,16),l=new Uint8Array(16);return l.set(r,16-r.length),l}(H)}}return l}(this.uri);if(l)switch(this.keyFormat){case Ie_WIDEVINE:this.pssh=l,l.length>=22&&(this.keyId=l.subarray(l.length-22,l.length-6));break;case Ie_PLAYREADY:{const _=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=function pn(V,r,l){if(16!==V.byteLength)throw new RangeError("Invalid system id");let _,M,k;if(r){_=1,M=new Uint8Array(16*r.length);for(let te=0;te<r.length;te++){const Ae=r[te];if(16!==Ae.byteLength)throw new RangeError("Invalid key");M.set(Ae,16*te)}}else _=0,M=new Uint8Array;_>0?(k=new Uint8Array(4),r.length>0&&new DataView(k.buffer).setUint32(0,r.length,!1)):k=new Uint8Array;const H=new Uint8Array(4);return l&&l.byteLength>0&&new DataView(H.buffer).setUint32(0,l.byteLength,!1),function vn(V,...r){const l=r.length;let _=8,M=l;for(;M--;)_+=r[M].byteLength;const k=new Uint8Array(_);for(k[0]=_>>24&255,k[1]=_>>16&255,k[2]=_>>8&255,k[3]=255&_,k.set(V,4),M=0,_=8;M<l;M++)k.set(r[M],_),_+=r[M].byteLength;return k}([112,115,115,104],new Uint8Array([_,0,0,0]),V,k,M,H,l||new Uint8Array)}(_,null,l);const M=new Uint16Array(l.buffer,l.byteOffset,l.byteLength/2),k=String.fromCharCode.apply(null,Array.from(M)),H=k.substring(k.indexOf("<"),k.length),Pe=(new DOMParser).parseFromString(H,"text/xml").getElementsByTagName("KID")[0];if(Pe){const dt=Pe.childNodes[0]?Pe.childNodes[0].nodeValue:Pe.getAttribute("VALUE");if(dt){const pt=ie(dt).subarray(0,16);(function Ce(V){const r=function(_,M,k){const H=_[M];_[M]=_[k],_[k]=H};r(V,0,3),r(V,1,2),r(V,4,5),r(V,6,7)})(pt),this.keyId=pt}}break}default:{let _=l.subarray(0,16);if(16!==_.length){const M=new Uint8Array(16);M.set(_,16-_.length),_=M}this.keyId=_;break}}if(!this.keyId||16!==this.keyId.byteLength){let _=mn[this.uri];if(!_){const M=Object.keys(mn).length%Number.MAX_SAFE_INTEGER;_=new Uint8Array(16),new DataView(_.buffer,12,4).setUint32(0,M),mn[this.uri]=_}this.keyId=_}return this}}const ht=/\{\$([a-zA-Z0-9-_]+)\}/g;function Tn(V){return ht.test(V)}function et(V,r,l){if(null!==V.variableList||V.hasVariableRefs)for(let _=l.length;_--;){const M=l[_],k=r[M];k&&(r[M]=Dt(V,k))}}function Dt(V,r){if(null!==V.variableList||V.hasVariableRefs){const l=V.variableList;return r.replace(ht,_=>{const M=_.substring(2,_.length-1),k=l?.[M];return void 0===k?(V.playlistParsingError||(V.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${M}"`)),_):k})}return r}function Qt(V,r,l){let M,k,_=V.variableList;if(_||(V.variableList=_={}),"QUERYPARAM"in r){M=r.QUERYPARAM;try{const H=new self.URL(l).searchParams;if(!H.has(M))throw new Error(`"${M}" does not match any query parameter in URI: "${l}"`);k=H.get(M)}catch(H){V.playlistParsingError||(V.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${H.message}`))}}else M=r.NAME,k=r.VALUE;M in _?V.playlistParsingError||(V.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${M}"`)):_[M]=k||""}function Nt(V,r,l){const _=r.IMPORT;if(l&&_ in l){let M=V.variableList;M||(V.variableList=M={}),M[_]=l[_]}else V.playlistParsingError||(V.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${_}"`))}function xn(){if(!(typeof self>"u"))return self.MediaSource||self.WebKitMediaSource}const kt={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},wt=xn();function en(V,r){var l;return null!=(l=wt?.isTypeSupported(`${r||"video"}/mp4;codecs="${V}"`))&&l}const An=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,Vn=/#EXT-X-MEDIA:(.*)/g,ii=/^#EXT(?:INF|-X-TARGETDURATION):/m,Ft=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),Pn=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Le{static findGroup(r,l){for(let _=0;_<r.length;_++){const M=r[_];if(M.id===l)return M}}static convertAVC1ToAVCOTI(r){const l=r.split(".");if(l.length>2){let _=l.shift()+".";return _+=parseInt(l.shift()).toString(16),_+=("000"+parseInt(l.shift()).toString(16)).slice(-4),_}return r}static resolve(r,l){return P.buildAbsoluteURL(l,r,{alwaysNormalize:!0})}static isMediaPlaylist(r){return ii.test(r)}static parseMasterPlaylist(r,l){const M={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:Tn(r)},k=[];let H;for(An.lastIndex=0;null!=(H=An.exec(r));)if(H[1]){var te;const Pe=new oe(H[1]);et(M,Pe,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const dt=Dt(M,H[2]),pt={attrs:Pe,bitrate:Pe.decimalInteger("AVERAGE-BANDWIDTH")||Pe.decimalInteger("BANDWIDTH"),name:Pe.NAME,url:Le.resolve(dt,l)},Ut=Pe.decimalResolution("RESOLUTION");Ut&&(pt.width=Ut.width,pt.height=Ut.height),ln((Pe.CODECS||"").split(/[ ,]+/).filter(jt=>jt),pt),pt.videoCodec&&-1!==pt.videoCodec.indexOf("avc1")&&(pt.videoCodec=Le.convertAVC1ToAVCOTI(pt.videoCodec)),null!=(te=pt.unknownCodecs)&&te.length||k.push(pt),M.levels.push(pt)}else if(H[3]){const dt=H[4];switch(H[3]){case"SESSION-DATA":{const pt=new oe(dt);et(M,pt,["DATA-ID","LANGUAGE","VALUE","URI"]);const Ut=pt["DATA-ID"];Ut&&(null===M.sessionData&&(M.sessionData={}),M.sessionData[Ut]=pt);break}case"SESSION-KEY":{const pt=Bt(dt,l,M);pt.encrypted&&pt.isSupported()?(null===M.sessionKeys&&(M.sessionKeys=[]),M.sessionKeys.push(pt)):b.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${dt}"`);break}case"DEFINE":{const pt=new oe(dt);et(M,pt,["NAME","VALUE","QUERYPARAM"]),Qt(M,pt,l)}break;case"CONTENT-STEERING":{const pt=new oe(dt);et(M,pt,["SERVER-URI","PATHWAY-ID"]),M.contentSteering={uri:Le.resolve(pt["SERVER-URI"],l),pathwayId:pt["PATHWAY-ID"]||"."};break}case"START":M.startTimeOffset=Rt(dt)}}return M.levels=k.length>0&&k.length<M.levels.length?k:M.levels,0===M.levels.length&&(M.playlistParsingError=new Error("no levels found in manifest")),M}static parseMasterPlaylistMedia(r,l,_){let M;const k={},H=_.levels,te={AUDIO:H.map(Pe=>({id:Pe.attrs.AUDIO,audioCodec:Pe.audioCodec})),SUBTITLES:H.map(Pe=>({id:Pe.attrs.SUBTITLES,textCodec:Pe.textCodec})),"CLOSED-CAPTIONS":[]};let Ae=0;for(Vn.lastIndex=0;null!==(M=Vn.exec(r));){const Pe=new oe(M[1]),dt=Pe.TYPE;if(dt){const pt=te[dt],Ut=k[dt]||[];k[dt]=Ut,et(_,Pe,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const jt={attrs:Pe,bitrate:0,id:Ae++,groupId:Pe["GROUP-ID"]||"",instreamId:Pe["INSTREAM-ID"],name:Pe.NAME||Pe.LANGUAGE||"",type:dt,default:Pe.bool("DEFAULT"),autoselect:Pe.bool("AUTOSELECT"),forced:Pe.bool("FORCED"),lang:Pe.LANGUAGE,url:Pe.URI?Le.resolve(Pe.URI,l):""};if(null!=pt&&pt.length){const qt=Le.findGroup(pt,jt.groupId)||pt[0];Fn(jt,qt,"audioCodec"),Fn(jt,qt,"textCodec")}Ut.push(jt)}}return k}static parseLevelPlaylist(r,l,_,M,k,H){const te=new Oe(l),Ae=te.fragments;let bn,Bn,ei,Pe=null,dt=0,pt=0,Ut=0,jt=0,qt=null,cn=new ce(M,l),Zn=-1,di=!1;for(Ft.lastIndex=0,te.m3u8=r,te.hasVariableRefs=Tn(r);null!==(bn=Ft.exec(r));){di&&(di=!1,cn=new ce(M,l),cn.start=Ut,cn.sn=dt,cn.cc=jt,cn.level=_,Pe&&(cn.initSegment=Pe,cn.rawProgramDateTime=Pe.rawProgramDateTime,Pe.rawProgramDateTime=null));const Mi=bn[1];if(Mi){cn.duration=parseFloat(Mi);const Pi=(" "+bn[2]).slice(1);cn.title=Pi||null,cn.tagList.push(Pi?["INF",Mi,Pi]:["INF",Mi])}else if(bn[3]){if(p(cn.duration)){cn.start=Ut,ei&&Gr(cn,ei,te),cn.sn=dt,cn.level=_,cn.cc=jt,cn.urlId=k,Ae.push(cn);const Pi=(" "+bn[3]).slice(1);cn.relurl=Dt(te,Pi),vr(cn,qt),qt=cn,Ut+=cn.duration,dt++,pt=0,di=!0}}else if(bn[4]){const Pi=(" "+bn[4]).slice(1);qt?cn.setByteRange(Pi,qt):cn.setByteRange(Pi)}else if(bn[5])cn.rawProgramDateTime=(" "+bn[5]).slice(1),cn.tagList.push(["PROGRAM-DATE-TIME",cn.rawProgramDateTime]),-1===Zn&&(Zn=Ae.length);else{if(bn=bn[0].match(Pn),!bn){b.warn("No matches on slow regex match for level playlist!");continue}for(Bn=1;Bn<bn.length&&!(typeof bn[Bn]<"u");Bn++);const Pi=(" "+bn[Bn]).slice(1),ui=(" "+bn[Bn+1]).slice(1),ji=bn[Bn+2]?(" "+bn[Bn+2]).slice(1):"";switch(Pi){case"PLAYLIST-TYPE":te.type=ui.toUpperCase();break;case"MEDIA-SEQUENCE":dt=te.startSN=parseInt(ui);break;case"SKIP":{const Hi=new oe(ui);et(te,Hi,["RECENTLY-REMOVED-DATERANGES"]);const to=Hi.decimalInteger("SKIPPED-SEGMENTS");if(p(to)){te.skippedSegments=to;for(let yr=to;yr--;)Ae.unshift(null);dt+=to}const Rs=Hi.enumeratedString("RECENTLY-REMOVED-DATERANGES");Rs&&(te.recentlyRemovedDateranges=Rs.split("\t"));break}case"TARGETDURATION":te.targetduration=Math.max(parseInt(ui),1);break;case"VERSION":te.version=parseInt(ui);break;case"EXTM3U":break;case"ENDLIST":te.live=!1;break;case"#":(ui||ji)&&cn.tagList.push(ji?[ui,ji]:[ui]);break;case"DISCONTINUITY":jt++,cn.tagList.push(["DIS"]);break;case"GAP":cn.gap=!0,cn.tagList.push([Pi]);break;case"BITRATE":cn.tagList.push([Pi,ui]);break;case"DATERANGE":{const Hi=new oe(ui);et(te,Hi,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),et(te,Hi,Hi.clientAttrs);const to=new Y(Hi,te.dateRanges[Hi.ID]);to.isValid||te.skippedSegments?te.dateRanges[to.id]=to:b.warn(`Ignoring invalid DATERANGE tag: "${ui}"`),cn.tagList.push(["EXT-X-DATERANGE",ui]);break}case"DEFINE":{const Hi=new oe(ui);et(te,Hi,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in Hi?Nt(te,Hi,H):Qt(te,Hi,l)}break;case"DISCONTINUITY-SEQUENCE":jt=parseInt(ui);break;case"KEY":{const Hi=Bt(ui,l,te);if(Hi.isSupported()){if("NONE"===Hi.method){ei=void 0;break}ei||(ei={}),ei[Hi.keyFormat]&&(ei=c({},ei)),ei[Hi.keyFormat]=Hi}else b.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${ui}"`);break}case"START":te.startTimeOffset=Rt(ui);break;case"MAP":{const Hi=new oe(ui);if(et(te,Hi,["BYTERANGE","URI"]),cn.duration){const to=new ce(M,l);Zr(to,Hi,_,ei),Pe=to,cn.initSegment=Pe,Pe.rawProgramDateTime&&!cn.rawProgramDateTime&&(cn.rawProgramDateTime=Pe.rawProgramDateTime)}else Zr(cn,Hi,_,ei),Pe=cn,di=!0;break}case"SERVER-CONTROL":{const Hi=new oe(ui);te.canBlockReload=Hi.bool("CAN-BLOCK-RELOAD"),te.canSkipUntil=Hi.optionalFloat("CAN-SKIP-UNTIL",0),te.canSkipDateRanges=te.canSkipUntil>0&&Hi.bool("CAN-SKIP-DATERANGES"),te.partHoldBack=Hi.optionalFloat("PART-HOLD-BACK",0),te.holdBack=Hi.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const Hi=new oe(ui);te.partTarget=Hi.decimalFloatingPoint("PART-TARGET");break}case"PART":{let Hi=te.partList;Hi||(Hi=te.partList=[]);const to=pt>0?Hi[Hi.length-1]:void 0,Rs=pt++,yr=new oe(ui);et(te,yr,["BYTERANGE","URI"]);const oo=new Te(yr,cn,l,Rs,to);Hi.push(oo),cn.duration+=oo.duration;break}case"PRELOAD-HINT":{const Hi=new oe(ui);et(te,Hi,["URI"]),te.preloadHint=Hi;break}case"RENDITION-REPORT":{const Hi=new oe(ui);et(te,Hi,["URI"]),te.renditionReports=te.renditionReports||[],te.renditionReports.push(Hi);break}default:b.warn(`line parsed but not handled: ${bn}`)}}}qt&&!qt.relurl?(Ae.pop(),Ut-=qt.duration,te.partList&&(te.fragmentHint=qt)):te.partList&&(vr(cn,qt),cn.cc=jt,te.fragmentHint=cn,ei&&Gr(cn,ei,te));const oi=Ae.length,Ai=Ae[0],gi=Ae[oi-1];if(Ut+=te.skippedSegments*te.targetduration,Ut>0&&oi&&gi){te.averagetargetduration=Ut/oi;const Mi=gi.sn;te.endSN="initSegment"!==Mi?Mi:0,te.live||(gi.endList=!0),Ai&&(te.startCC=Ai.cc)}else te.endSN=0,te.startCC=0;return te.fragmentHint&&(Ut+=te.fragmentHint.duration),te.totalduration=Ut,te.endCC=jt,Zn>0&&function vi(V,r){let l=V[r];for(let _=r;_--;){const M=V[_];if(!M)return;M.programDateTime=l.programDateTime-1e3*M.duration,l=M}}(Ae,Zn),te}}function Bt(V,r,l){var _,M;const k=new oe(V);et(l,k,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const H=null!=(_=k.METHOD)?_:"",te=k.URI,Ae=k.hexadecimalInteger("IV"),Pe=k.KEYFORMATVERSIONS,dt=null!=(M=k.KEYFORMAT)?M:"identity";te&&k.IV&&!Ae&&b.error(`Invalid IV: ${k.IV}`);const pt=te?Le.resolve(te,r):"",Ut=(Pe||"1").split("/").map(Number).filter(Number.isFinite);return new _n(H,pt,dt,Ut,Ae)}function Rt(V){const l=new oe(V).decimalFloatingPoint("TIME-OFFSET");return p(l)?l:null}function ln(V,r){["video","audio","text"].forEach(l=>{const _=V.filter(M=>function Pt(V,r){const l=kt[r];return!!l&&!0===l[V.slice(0,4)]}(M,l));if(_.length){const M=_.filter(k=>0===k.lastIndexOf("avc1",0)||0===k.lastIndexOf("mp4a",0));r[`${l}Codec`]=M.length>0?M[0]:_[0],V=V.filter(k=>-1===_.indexOf(k))}}),r.unknownCodecs=V}function Fn(V,r,l){const _=r[l];_&&(V[l]=_)}function vr(V,r){V.rawProgramDateTime?V.programDateTime=Date.parse(V.rawProgramDateTime):null!=r&&r.programDateTime&&(V.programDateTime=r.endProgramDateTime),p(V.programDateTime)||(V.programDateTime=null,V.rawProgramDateTime=null)}function Zr(V,r,l,_){V.relurl=r.URI,r.BYTERANGE&&V.setByteRange(r.BYTERANGE),V.level=l,V.sn="initSegment",_&&(V.levelkeys=_),V.initSegment=null}function Gr(V,r,l){V.levelkeys=r;const{encryptedFragments:_}=l;(!_.length||_[_.length-1].levelkeys!==r)&&Object.keys(r).some(M=>r[M].isCommonEncryption)&&_.push(V)}function Vo(V){const{type:r}=V;switch(r){case"audioTrack":return"audio";case"subtitleTrack":return"subtitle";default:return"main"}}function Do(V,r){let l=V.url;return(void 0===l||0===l.indexOf("data:"))&&(l=r.url),l}class _s{constructor(r){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=r,this.registerListeners()}startLoad(r){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:r}=this;r.on(C.MANIFEST_LOADING,this.onManifestLoading,this),r.on(C.LEVEL_LOADING,this.onLevelLoading,this),r.on(C.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),r.on(C.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:r}=this;r.off(C.MANIFEST_LOADING,this.onManifestLoading,this),r.off(C.LEVEL_LOADING,this.onLevelLoading,this),r.off(C.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),r.off(C.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(r){const l=this.hls.config,H=new(l.pLoader||l.loader)(l);return this.loaders[r.type]=H,H}getInternalLoader(r){return this.loaders[r.type]}resetInternalLoader(r){this.loaders[r]&&delete this.loaders[r]}destroyInternalLoaders(){for(const r in this.loaders){const l=this.loaders[r];l&&l.destroy(),this.resetInternalLoader(r)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(r,l){const{url:_}=l;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:"manifest",url:_,deliveryDirectives:null})}onLevelLoading(r,l){const{id:_,level:M,url:k,deliveryDirectives:H}=l;this.load({id:_,level:M,responseType:"text",type:"level",url:k,deliveryDirectives:H})}onAudioTrackLoading(r,l){const{id:_,groupId:M,url:k,deliveryDirectives:H}=l;this.load({id:_,groupId:M,level:null,responseType:"text",type:"audioTrack",url:k,deliveryDirectives:H})}onSubtitleTrackLoading(r,l){const{id:_,groupId:M,url:k,deliveryDirectives:H}=l;this.load({id:_,groupId:M,level:null,responseType:"text",type:"subtitleTrack",url:k,deliveryDirectives:H})}load(r){var l;const _=this.hls.config;let k,M=this.getInternalLoader(r);if(M){const Pe=M.context;if(Pe&&Pe.url===r.url)return void b.trace("[playlist-loader]: playlist request ongoing");b.log(`[playlist-loader]: aborting previous loader for type: ${r.type}`),M.abort()}if(k="manifest"===r.type?_.manifestLoadPolicy.default:c({},_.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),M=this.createInternalLoader(r),null!=(l=r.deliveryDirectives)&&l.part){let Pe;if("level"===r.type&&null!==r.level?Pe=this.hls.levels[r.level].details:"audioTrack"===r.type&&null!==r.id?Pe=this.hls.audioTracks[r.id].details:"subtitleTrack"===r.type&&null!==r.id&&(Pe=this.hls.subtitleTracks[r.id].details),Pe){const dt=Pe.partTarget,pt=Pe.targetduration;if(dt&&pt){const Ut=1e3*Math.max(3*dt,.8*pt);k=c({},k,{maxTimeToFirstByteMs:Math.min(Ut,k.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(Ut,k.maxTimeToFirstByteMs)})}}}const H=k.errorRetry||k.timeoutRetry||{};M.load(r,{loadPolicy:k,timeout:k.maxLoadTimeMs,maxRetry:H.maxNumRetry||0,retryDelay:H.retryDelayMs||0,maxRetryDelay:H.maxRetryDelayMs||0},{onSuccess:(Pe,dt,pt,Ut)=>{const jt=this.getInternalLoader(pt);this.resetInternalLoader(pt.type);const qt=Pe.data;0===qt.indexOf("#EXTM3U")?(dt.parsing.start=performance.now(),Le.isMediaPlaylist(qt)?this.handleTrackOrLevelPlaylist(Pe,dt,pt,Ut||null,jt):this.handleMasterPlaylist(Pe,dt,pt,Ut)):this.handleManifestParsingError(Pe,pt,new Error("no EXTM3U delimiter"),Ut||null,dt)},onError:(Pe,dt,pt,Ut)=>{this.handleNetworkError(dt,pt,!1,Pe,Ut)},onTimeout:(Pe,dt,pt)=>{this.handleNetworkError(dt,pt,!0,void 0,Pe)}})}handleMasterPlaylist(r,l,_,M){const k=this.hls,H=r.data,te=Do(r,_),Ae=Le.parseMasterPlaylist(H,te);if(Ae.playlistParsingError)return void this.handleManifestParsingError(r,_,Ae.playlistParsingError,M,l);const{contentSteering:Pe,levels:dt,sessionData:pt,sessionKeys:Ut,startTimeOffset:jt,variableList:qt}=Ae;this.variableList=qt;const{AUDIO:cn=[],SUBTITLES:bn,"CLOSED-CAPTIONS":Bn}=Le.parseMasterPlaylistMedia(H,te,Ae);cn.length&&!cn.some(Zn=>!Zn.url)&&dt[0].audioCodec&&!dt[0].attrs.AUDIO&&(b.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),cn.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new oe({}),bitrate:0,url:""})),k.trigger(C.MANIFEST_LOADED,{levels:dt,audioTracks:cn,subtitles:bn,captions:Bn,contentSteering:Pe,url:te,stats:l,networkDetails:M,sessionData:pt,sessionKeys:Ut,startTimeOffset:jt,variableList:qt})}handleTrackOrLevelPlaylist(r,l,_,M,k){const H=this.hls,{id:te,level:Ae,type:Pe}=_,dt=Do(r,_),pt=p(te)?te:0,Ut=p(Ae)?Ae:pt,jt=Vo(_),qt=Le.parseLevelPlaylist(r.data,dt,Ut,jt,pt,this.variableList);if("manifest"===Pe){const cn={attrs:new oe({}),bitrate:0,details:qt,name:"",url:dt};H.trigger(C.MANIFEST_LOADED,{levels:[cn],audioTracks:[],url:dt,stats:l,networkDetails:M,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}l.parsing.end=performance.now(),_.levelDetails=qt,this.handlePlaylistLoaded(qt,r,l,_,M,k)}handleManifestParsingError(r,l,_,M,k){this.hls.trigger(C.ERROR,{type:A.NETWORK_ERROR,details:x.MANIFEST_PARSING_ERROR,fatal:"manifest"===l.type,url:r.url,err:_,error:_,reason:_.message,response:r,context:l,networkDetails:M,stats:k})}handleNetworkError(r,l,_=!1,M,k){let H=`A network ${_?"timeout":"error"+(M?" (status "+M.code+")":"")} occurred while loading ${r.type}`;"level"===r.type?H+=`: ${r.level} id: ${r.id}`:("audioTrack"===r.type||"subtitleTrack"===r.type)&&(H+=` id: ${r.id} group-id: "${r.groupId}"`);const te=new Error(H);b.warn(`[playlist-loader]: ${H}`);let Ae=x.UNKNOWN,Pe=!1;const dt=this.getInternalLoader(r);switch(r.type){case"manifest":Ae=_?x.MANIFEST_LOAD_TIMEOUT:x.MANIFEST_LOAD_ERROR,Pe=!0;break;case"level":Ae=_?x.LEVEL_LOAD_TIMEOUT:x.LEVEL_LOAD_ERROR,Pe=!1;break;case"audioTrack":Ae=_?x.AUDIO_TRACK_LOAD_TIMEOUT:x.AUDIO_TRACK_LOAD_ERROR,Pe=!1;break;case"subtitleTrack":Ae=_?x.SUBTITLE_TRACK_LOAD_TIMEOUT:x.SUBTITLE_LOAD_ERROR,Pe=!1}dt&&this.resetInternalLoader(r.type);const pt={type:A.NETWORK_ERROR,details:Ae,fatal:Pe,url:r.url,loader:dt,context:r,error:te,networkDetails:l,stats:k};M&&(pt.response=f({url:l?.url||r.url,data:void 0},M)),this.hls.trigger(C.ERROR,pt)}handlePlaylistLoaded(r,l,_,M,k,H){const te=this.hls,{type:Ae,level:Pe,id:dt,groupId:pt,deliveryDirectives:Ut}=M,jt=Do(l,M),qt=Vo(M),cn="number"==typeof M.level&&"main"===qt?Pe:void 0;if(!r.fragments.length){const Bn=new Error("No Segments found in Playlist");return void te.trigger(C.ERROR,{type:A.NETWORK_ERROR,details:x.LEVEL_EMPTY_ERROR,fatal:!1,url:jt,error:Bn,reason:Bn.message,response:l,context:M,level:cn,parent:qt,networkDetails:k,stats:_})}r.targetduration||(r.playlistParsingError=new Error("Missing Target Duration"));const bn=r.playlistParsingError;if(bn)te.trigger(C.ERROR,{type:A.NETWORK_ERROR,details:x.LEVEL_PARSING_ERROR,fatal:!1,url:jt,error:bn,reason:bn.message,response:l,context:M,level:cn,parent:qt,networkDetails:k,stats:_});else switch(r.live&&H&&(H.getCacheAge&&(r.ageHeader=H.getCacheAge()||0),(!H.getCacheAge||isNaN(r.ageHeader))&&(r.ageHeader=0)),Ae){case"manifest":case"level":te.trigger(C.LEVEL_LOADED,{details:r,level:cn||0,id:dt||0,stats:_,networkDetails:k,deliveryDirectives:Ut});break;case"audioTrack":te.trigger(C.AUDIO_TRACK_LOADED,{details:r,id:dt||0,groupId:pt||"",stats:_,networkDetails:k,deliveryDirectives:Ut});break;case"subtitleTrack":te.trigger(C.SUBTITLE_TRACK_LOADED,{details:r,id:dt||0,groupId:pt||"",stats:_,networkDetails:k,deliveryDirectives:Ut})}}}function Yi(V,r){let l;try{l=new Event("addtrack")}catch{l=document.createEvent("Event"),l.initEvent("addtrack",!1,!1)}l.track=V,r.dispatchEvent(l)}function Hr(V,r){const l=V.mode;if("disabled"===l&&(V.mode="hidden"),V.cues&&!V.cues.getCueById(r.id))try{if(V.addCue(r),!V.cues.getCueById(r.id))throw new Error(`addCue is failed for: ${r}`)}catch(_){b.debug(`[texttrack-utils]: ${_}`);try{const M=new self.TextTrackCue(r.startTime,r.endTime,r.text);M.id=r.id,V.addCue(M)}catch(M){b.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${M}`)}}"disabled"===l&&(V.mode=l)}function tr(V){const r=V.mode;if("disabled"===r&&(V.mode="hidden"),V.cues)for(let l=V.cues.length;l--;)V.removeCue(V.cues[l]);"disabled"===r&&(V.mode=r)}function lo(V,r,l,_){const M=V.mode;if("disabled"===M&&(V.mode="hidden"),V.cues&&V.cues.length>0){const k=function os(V,r,l){const _=[],M=function jr(V,r){if(r<V[0].startTime)return 0;const l=V.length-1;if(r>V[l].endTime)return-1;let _=0,M=l;for(;_<=M;){const k=Math.floor((M+_)/2);if(r<V[k].startTime)M=k-1;else{if(!(r>V[k].startTime&&_<l))return k;_=k+1}}return V[_].startTime-r<r-V[M].startTime?_:M}(V,r);if(M>-1)for(let k=M,H=V.length;k<H;k++){const te=V[k];if(te.startTime>=r&&te.endTime<=l)_.push(te);else if(te.startTime>l)return _}return _}(V.cues,r,l);for(let H=0;H<k.length;H++)(!_||_(k[H]))&&V.removeCue(k[H])}"disabled"===M&&(V.mode=M)}var xr_emsg="https://aomedia.org/emsg/ID3";function Xo(){if(!(typeof self>"u"))return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}const As=(()=>{const V=Xo();try{new V(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function Cr(V,r){return V.getTime()/1e3-r}function yi(V){return Uint8Array.from(V.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class $i{constructor(r){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=r,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:r}=this;r.on(C.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(C.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(C.MANIFEST_LOADING,this.onManifestLoading,this),r.on(C.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),r.on(C.BUFFER_FLUSHING,this.onBufferFlushing,this),r.on(C.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:r}=this;r.off(C.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(C.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(C.MANIFEST_LOADING,this.onManifestLoading,this),r.off(C.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),r.off(C.BUFFER_FLUSHING,this.onBufferFlushing,this),r.off(C.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(r,l){this.media=l.media}onMediaDetaching(){this.id3Track&&(tr(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(r){const l=this.getID3Track(r.textTracks);return l.mode="hidden",l}getID3Track(r){if(this.media){for(let l=0;l<r.length;l++){const _=r[l];if("metadata"===_.kind&&"id3"===_.label)return Yi(_,this.media),_}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(r,l){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:_,enableID3MetadataCues:M}}}=this;if(!_&&!M)return;const{samples:k}=l;this.id3Track||(this.id3Track=this.createTrack(this.media));const H=Xo();for(let te=0;te<k.length;te++){const Ae=k[te].type;if(Ae===xr_emsg&&!_||!M)continue;const Pe=Ee(k[te].data);if(Pe){const dt=k[te].pts;let pt=dt+k[te].duration;pt>As&&(pt=As),pt-dt<=0&&(pt=dt+.25);for(let jt=0;jt<Pe.length;jt++){const qt=Pe[jt];if(!ge(qt)){this.updateId3CueEnds(dt,Ae);const cn=new H(dt,pt,"");cn.value=qt,Ae&&(cn.type=Ae),this.id3Track.addCue(cn)}}}}}updateId3CueEnds(r,l){var _;const M=null==(_=this.id3Track)?void 0:_.cues;if(M)for(let k=M.length;k--;){const H=M[k];H.type===l&&H.startTime<r&&H.endTime===As&&(H.endTime=r)}}onBufferFlushing(r,{startOffset:l,endOffset:_,type:M}){const{id3Track:k,hls:H}=this;if(!H)return;const{config:{enableEmsgMetadataCues:te,enableID3MetadataCues:Ae}}=H;if(k&&(te||Ae)){let Pe;Pe="audio"===M?dt=>"org.id3"===dt.type&&Ae:"video"===M?dt=>dt.type===xr_emsg&&te:dt=>"org.id3"===dt.type&&Ae||dt.type===xr_emsg&&te,lo(k,l,_,Pe)}}onLevelUpdated(r,{details:l}){if(!this.media||!l.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:_,id3Track:M}=this,{dateRanges:k}=l,H=Object.keys(k);if(M){const dt=Object.keys(_).filter(pt=>!H.includes(pt));for(let pt=dt.length;pt--;){const Ut=dt[pt];Object.keys(_[Ut].cues).forEach(jt=>{M.removeCue(_[Ut].cues[jt])}),delete _[Ut]}}const te=l.fragments[l.fragments.length-1];if(0===H.length||!p(te?.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const Ae=te.programDateTime/1e3-te.start,Pe=Xo();for(let dt=0;dt<H.length;dt++){const pt=H[dt],Ut=k[pt],jt=_[pt],qt=jt?.cues||{};let cn=jt?.durationKnown||!1;const bn=Cr(Ut.startDate,Ae);let Bn=As;const ei=Ut.endDate;if(ei)Bn=Cr(ei,Ae),cn=!0;else if(Ut.endOnNext&&!cn){const di=H.reduce((oi,Ai)=>{const gi=k[Ai];return gi.class===Ut.class&&gi.id!==Ai&&gi.startDate>Ut.startDate&&oi.push(gi),oi},[]).sort((oi,Ai)=>oi.startDate.getTime()-Ai.startDate.getTime())[0];di&&(Bn=Cr(di.startDate,Ae),cn=!0)}const Zn=Object.keys(Ut.attr);for(let di=0;di<Zn.length;di++){const oi=Zn[di];if("ID"===(V=oi)||"CLASS"===V||"START-DATE"===V||"DURATION"===V||"END-DATE"===V||"END-ON-NEXT"===V)continue;let Ai=qt[oi];if(Ai)cn&&!jt.durationKnown&&(Ai.endTime=Bn);else{let gi=Ut.attr[oi];Ai=new Pe(bn,Bn,""),Re(oi)&&(gi=yi(gi)),Ai.value={key:oi,data:gi},Ai.type="com.apple.quicktime.HLS",Ai.id=pt,this.id3Track.addCue(Ai),qt[oi]=Ai}}_[pt]={cues:qt,dateRange:Ut,durationKnown:cn}}var V}}class Pr{constructor(r){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=r,this.config=r.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:r,levelDetails:l}=this;return void 0!==r.liveMaxLatencyDuration?r.liveMaxLatencyDuration:l?r.liveMaxLatencyDurationCount*l.targetduration:0}get targetLatency(){const{levelDetails:r}=this;if(null===r)return null;const{holdBack:l,partHoldBack:_,targetduration:M}=r,{liveSyncDuration:k,liveSyncDurationCount:H,lowLatencyMode:te}=this.config,Ae=this.hls.userConfig;let Pe=te&&_||l;return(Ae.liveSyncDuration||Ae.liveSyncDurationCount||0===Pe)&&(Pe=void 0!==k?k:H*M),Pe+Math.min(1*this.stallCount,M)}get liveSyncPosition(){const r=this.estimateLiveEdge(),l=this.targetLatency,_=this.levelDetails;if(null===r||null===l||null===_)return null;const M=_.edge,te=M-(this.config.lowLatencyMode&&_.partTarget||_.targetduration);return Math.min(Math.max(M-_.totalduration,r-l-this.edgeStalled),te)}get drift(){const{levelDetails:r}=this;return null===r?1:r.drift}get edgeStalled(){const{levelDetails:r}=this;return null===r?0:Math.max(r.age-3*(this.config.lowLatencyMode&&r.partTarget||r.targetduration),0)}get forwardBufferLength(){const{media:r,levelDetails:l}=this;if(!r||!l)return 0;const _=r.buffered.length;return(_?r.buffered.end(_-1):l.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(C.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(C.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(C.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(C.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(C.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(C.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(C.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(C.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(C.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(C.ERROR,this.onError,this)}onMediaAttached(r,l){this.media=l.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(r,{details:l}){this.levelDetails=l,l.advanced&&this.timeupdate(),!l.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(r,l){var _;l.details===x.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(_=this.levelDetails)&&_.live&&b.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:r,levelDetails:l}=this;if(!r||!l)return;this.currentTime=r.currentTime;const _=this.computeLatency();if(null===_)return;this._latency=_;const{lowLatencyMode:M,maxLiveSyncPlaybackRate:k}=this.config;if(!M||1===k)return;const H=this.targetLatency;if(null===H)return;const te=_-H,Ae=Math.min(this.maxLatency,H+l.targetduration);if(l.live&&te<Ae&&te>.05&&this.forwardBufferLength>1){const dt=Math.min(2,Math.max(1,k)),pt=Math.round(2/(1+Math.exp(-.75*te-this.edgeStalled))*20)/20;r.playbackRate=Math.min(dt,Math.max(1,pt))}else 1!==r.playbackRate&&0!==r.playbackRate&&(r.playbackRate=1)}estimateLiveEdge(){const{levelDetails:r}=this;return null===r?null:r.edge+r.age}computeLatency(){const r=this.estimateLiveEdge();return null===r?null:r-this.currentTime}}const Vr=["NONE","TYPE-0","TYPE-1",null];class po{constructor(r,l,_){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=r,this.part=l,this.skip=_}addDirectives(r){const l=new self.URL(r);return void 0!==this.msn&&l.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&l.searchParams.set("_HLS_part",this.part.toString()),this.skip&&l.searchParams.set("_HLS_skip",this.skip),l.href}}class Dn{constructor(r){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[r.url],this._attrs=[r.attrs],this.bitrate=r.bitrate,r.details&&(this.details=r.details),this.id=r.id||0,this.name=r.name,this.width=r.width||0,this.height=r.height||0,this.audioCodec=r.audioCodec,this.videoCodec=r.videoCodec,this.unknownCodecs=r.unknownCodecs,this.codecSet=[r.videoCodec,r.audioCodec].filter(l=>l).join(",").replace(/\.[^.,]+/g,"")}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get attrs(){return this._attrs[this._urlId]}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get uri(){return this.url[this._urlId]||""}get urlId(){return this._urlId}set urlId(r){const l=r%this.url.length;this._urlId!==l&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=l)}get audioGroupId(){var r;return null==(r=this.audioGroupIds)?void 0:r[this.urlId]}get textGroupId(){var r;return null==(r=this.textGroupIds)?void 0:r[this.urlId]}addFallback(r){this.url.push(r.url),this._attrs.push(r.attrs)}}function Xn(V,r){const l=r.startPTS;if(p(l)){let M,_=0;r.sn>V.sn?(_=l-V.start,M=V):(_=V.start-l,M=r),M.duration!==_&&(M.duration=_)}else r.start=r.sn>V.sn?V.cc===r.cc&&V.minEndPTS?V.start+(V.minEndPTS-V.start):V.start+V.duration:Math.max(V.start-r.duration,0)}function hi(V,r,l,_,M,k){_-l<=0&&(b.warn("Fragment should have a positive duration",r),_=l+r.duration,k=M+r.duration);let te=l,Ae=_;const Pe=r.startPTS,dt=r.endPTS;if(p(Pe)){const bn=Math.abs(Pe-l);r.deltaPTS=p(r.deltaPTS)?Math.max(bn,r.deltaPTS):bn,te=Math.max(l,Pe),l=Math.min(l,Pe),M=Math.min(M,r.startDTS),Ae=Math.min(_,dt),_=Math.max(_,dt),k=Math.max(k,r.endDTS)}const pt=l-r.start;0!==r.start&&(r.start=l),r.duration=_-r.start,r.startPTS=l,r.maxStartPTS=te,r.startDTS=M,r.endPTS=_,r.minEndPTS=Ae,r.endDTS=k;const Ut=r.sn;if(!V||Ut<V.startSN||Ut>V.endSN)return 0;let jt;const qt=Ut-V.startSN,cn=V.fragments;for(cn[qt]=r,jt=qt;jt>0;jt--)Xn(cn[jt],cn[jt-1]);for(jt=qt;jt<cn.length-1;jt++)Xn(cn[jt],cn[jt+1]);return V.fragmentHint&&Xn(cn[cn.length-1],V.fragmentHint),V.PTSKnown=V.alignedSliding=!0,pt}function Ki(V,r){const l=r.startSN+r.skippedSegments-V.startSN,_=V.fragments;l<0||l>=_.length||Ir(r,_[l].start)}function Ir(V,r){if(r){const l=V.fragments;for(let _=V.skippedSegments;_<l.length;_++)l[_].start+=r;V.fragmentHint&&(V.fragmentHint.start+=r)}}function ko(V,r,l){var _;return null!=V&&V.details?Ks(null==(_=V.details)?void 0:_.partList,r,l):null}function Ks(V,r,l){if(V)for(let _=V.length;_--;){const M=V[_];if(M.index===l&&M.fragment.sn===r)return M}return null}function Xr(V){switch(V.details){case x.FRAG_LOAD_TIMEOUT:case x.KEY_LOAD_TIMEOUT:case x.LEVEL_LOAD_TIMEOUT:case x.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function _o(V,r){const l=Xr(r);return V.default[(l?"timeout":"error")+"Retry"]}function ss(V,r){const l="linear"===V.backoff?1:Math.pow(2,r);return Math.min(l*V.retryDelayMs,V.maxRetryDelayMs)}function as(V){return f(f({},V),{errorRetry:null,timeoutRetry:null})}function lr(V,r,l,_){return!!V&&r<V.maxNumRetry&&(function ja(V){return 0===V&&!1===navigator.onLine||!!V&&(V<400||V>499)}(_)||!!l)}const qo={search:function(V,r){let l=0,_=V.length-1,M=null,k=null;for(;l<=_;){M=(l+_)/2|0,k=V[M];const H=r(k);if(H>0)l=M+1;else{if(!(H<0))return k;_=M-1}}return null}};function uo(V,r,l=0,_=0){let M=null;if(V?M=r[V.sn-r[0].sn+1]||null:0===l&&0===r[0].start&&(M=r[0]),M&&0===ls(l,_,M))return M;const k=qo.search(r,ls.bind(null,l,_));return!k||k===V&&M?M:k}function ls(V=0,r=0,l){if(l.start<=V&&l.start+l.duration>V)return 0;const _=Math.min(r,l.duration+(l.deltaPTS?l.deltaPTS:0));return l.start+l.duration-_<=V?1:l.start-_>V&&l.start?-1:0}function xs(V,r,l){const _=1e3*Math.min(r,l.duration+(l.deltaPTS?l.deltaPTS:0));return(l.endProgramDateTime||0)-_>V}function ua(V,r,l){if(performance.now()-V.lastErrorPerfMs>3e5)return!0;const _=V.details;if(r.details===x.FRAG_GAP&&_&&r.frag){const k=uo(null,_.fragments,r.frag.start);if(k&&!k.gap)return!0}if(l&&V.errors.length<l.errors.length){const M=V.errors[V.errors.length-1];if(_&&M.frag&&r.frag&&Math.abs(M.frag.start-r.frag.start)>3*_.targetduration)return!0}return!1}class Ao{constructor(r,l){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=b.log.bind(b,`${l}:`),this.warn=b.warn.bind(b,`${l}:`),this.hls=r}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){clearTimeout(this.timer),this.timer=-1}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(r,l){const _=l?.renditionReports;if(_){let M=-1;for(let k=0;k<_.length;k++){const H=_[k];let te;try{te=new self.URL(H.URI,l.url).href}catch(Ae){b.warn(`Could not construct new URL for Rendition Report: ${Ae}`),te=H.URI||""}if(te===r){M=k;break}te===r.substring(0,te.length)&&(M=k)}if(-1!==M){const k=_[M],H=parseInt(k["LAST-MSN"])||l?.lastPartSn;let te=parseInt(k["LAST-PART"])||l?.lastPartIndex;if(this.hls.config.lowLatencyMode){const Ae=Math.min(l.age-l.partTarget,l.targetduration);te>=0&&Ae>l.partTarget&&(te+=1)}return new po(H,te>=0?te:void 0,"")}}}loadPlaylist(r){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(r){return this.canLoad&&!!r&&!!r.url&&(!r.details||r.details.live)}shouldReloadPlaylist(r){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(r)}playlistLoaded(r,l,_){const{details:M,stats:k}=l,H=self.performance.now(),te=k.loading.first?Math.max(0,H-k.loading.first):0;if(M.advancedDateTime=Date.now()-te,M.live||null!=_&&_.live){if(M.reloaded(_),_&&this.log(`live playlist ${r} ${M.advanced?"REFRESHED "+M.lastPartSn+"-"+M.lastPartIndex:"MISSED"}`),_&&M.fragments.length>0&&function li(V,r){let l=null;const _=V.fragments;for(let Ae=_.length-1;Ae>=0;Ae--){const Pe=_[Ae].initSegment;if(Pe){l=Pe;break}}V.fragmentHint&&delete V.fragmentHint.endPTS;let k,M=0;if(function rr(V,r,l){const _=r.skippedSegments,M=Math.max(V.startSN,r.startSN)-r.startSN,k=(V.fragmentHint?1:0)+(_?r.endSN:Math.min(V.endSN,r.endSN))-r.startSN,H=r.startSN-V.startSN,te=r.fragmentHint?r.fragments.concat(r.fragmentHint):r.fragments,Ae=V.fragmentHint?V.fragments.concat(V.fragmentHint):V.fragments;for(let Pe=M;Pe<=k;Pe++){const dt=Ae[H+Pe];let pt=te[Pe];_&&!pt&&Pe<_&&(pt=r.fragments[Pe]=dt),dt&&pt&&l(dt,pt)}}(V,r,(Ae,Pe)=>{Ae.relurl&&(M=Ae.cc-Pe.cc),p(Ae.startPTS)&&p(Ae.endPTS)&&(Pe.start=Pe.startPTS=Ae.startPTS,Pe.startDTS=Ae.startDTS,Pe.maxStartPTS=Ae.maxStartPTS,Pe.endPTS=Ae.endPTS,Pe.endDTS=Ae.endDTS,Pe.minEndPTS=Ae.minEndPTS,Pe.duration=Ae.endPTS-Ae.startPTS,Pe.duration&&(k=Pe),r.PTSKnown=r.alignedSliding=!0),Pe.elementaryStreams=Ae.elementaryStreams,Pe.loader=Ae.loader,Pe.stats=Ae.stats,Pe.urlId=Ae.urlId,Ae.initSegment&&(Pe.initSegment=Ae.initSegment,l=Ae.initSegment)}),l&&(r.fragmentHint?r.fragments.concat(r.fragmentHint):r.fragments).forEach(Pe=>{var dt;(!Pe.initSegment||Pe.initSegment.relurl===(null==(dt=l)?void 0:dt.relurl))&&(Pe.initSegment=l)}),r.skippedSegments)if(r.deltaUpdateFailed=r.fragments.some(Ae=>!Ae),r.deltaUpdateFailed){b.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let Ae=r.skippedSegments;Ae--;)r.fragments.shift();r.startSN=r.fragments[0].sn,r.startCC=r.fragments[0].cc}else r.canSkipDateRanges&&(r.dateRanges=function Ui(V,r,l){const _=c({},V);return l&&l.forEach(M=>{delete _[M]}),Object.keys(r).forEach(M=>{const k=new Y(r[M].attr,_[M]);k.isValid?_[M]=k:b.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(r[M].attr)}"`)}),_}(V.dateRanges,r.dateRanges,r.recentlyRemovedDateranges));const H=r.fragments;if(M){b.warn("discontinuity sliding from playlist, take drift into account");for(let Ae=0;Ae<H.length;Ae++)H[Ae].cc+=M}r.skippedSegments&&(r.startCC=r.fragments[0].cc),function Ji(V,r,l){if(V&&r){let _=0;for(let M=0,k=V.length;M<=k;M++){const H=V[M],te=r[M+_];H&&te&&H.index===te.index&&H.fragment.sn===te.fragment.sn?l(H,te):_--}}}(V.partList,r.partList,(Ae,Pe)=>{Pe.elementaryStreams=Ae.elementaryStreams,Pe.stats=Ae.stats}),k?hi(r,k,k.startPTS,k.endPTS,k.startDTS,k.endDTS):Ki(V,r),H.length&&(r.totalduration=r.edge-H[0].start),r.driftStartTime=V.driftStartTime,r.driftStart=V.driftStart;const te=r.advancedDateTime;if(r.advanced&&te){const Ae=r.edge;r.driftStart||(r.driftStartTime=te,r.driftStart=Ae),r.driftEndTime=te,r.driftEnd=Ae}else r.driftEndTime=V.driftEndTime,r.driftEnd=V.driftEnd,r.advancedDateTime=V.advancedDateTime}(_,M),!this.canLoad||!M.live)return;let Ae,Pe,dt;if(M.canBlockReload&&M.endSN&&M.advanced){const bn=this.hls.config.lowLatencyMode,Bn=M.lastPartSn,ei=M.endSN,Zn=M.lastPartIndex,oi=Bn===ei;-1!==Zn?(Pe=oi?ei+1:Bn,dt=oi?bn?0:Zn:Zn+1):Pe=ei+1;const gi=M.age;let Pi=Math.min(gi+M.ageHeader-M.partTarget,1.5*M.targetduration);if(Pi>0){if(_&&Pi>_.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${_.tuneInGoal} to: ${Pi} with playlist age: ${M.age}`),Pi=0;else{const ui=Math.floor(Pi/M.targetduration);Pe+=ui,void 0!==dt&&(dt+=Math.round(Pi%M.targetduration/M.partTarget)),this.log(`CDN Tune-in age: ${M.ageHeader}s last advanced ${gi.toFixed(2)}s goal: ${Pi} skip sn ${ui} to part ${dt}`)}M.tuneInGoal=Pi}if(Ae=this.getDeliveryDirectives(M,l.deliveryDirectives,Pe,dt),bn||!oi)return void this.loadPlaylist(Ae)}else M.canBlockReload&&(Ae=this.getDeliveryDirectives(M,l.deliveryDirectives,Pe,dt));const pt=this.hls.mainForwardBufferInfo,qt=function Io(V,r=1/0){let l=1e3*V.targetduration;if(V.updated){const _=V.fragments;if(_.length&&4*l>r){const k=1e3*_[_.length-1].duration;k<l&&(l=k)}}else l/=2;return Math.round(l)}(M,1e3*(M.edge-(pt?pt.end-pt.len:0)));M.updated&&H>this.requestScheduled+qt&&(this.requestScheduled=k.loading.start),void 0!==Pe&&M.canBlockReload?this.requestScheduled=k.loading.first+qt-(1e3*M.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+qt<H?this.requestScheduled=H:this.requestScheduled-H<=0&&(this.requestScheduled+=qt);let cn=this.requestScheduled-H;cn=Math.max(0,cn),this.log(`reload live playlist ${r} in ${Math.round(cn)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(Ae),cn)}else this.clearTimer()}getDeliveryDirectives(r,l,_,M){let k=function zr(V,r){const{canSkipUntil:l,canSkipDateRanges:_,endSN:M}=V;return l&&(void 0!==r?r-M:0)<l?_?"v2":"YES":""}(r,_);return null!=l&&l.skip&&r.deltaUpdateFailed&&(_=l.msn,M=l.part,k=""),new po(_,M,k)}checkRetry(r){const l=r.details,_=Xr(r),M=r.errorAction,{action:k,retryCount:H=0,retryConfig:te}=M||{},Ae=!!M&&!!te&&(5===k||!M.resolved&&2===k);if(Ae){var Pe;if(this.requestScheduled=-1,H>=te.maxNumRetry)return!1;if(_&&null!=(Pe=r.context)&&Pe.deliveryDirectives)this.warn(`Retrying playlist loading ${H+1}/${te.maxNumRetry} after "${l}" without delivery-directives`),this.loadPlaylist();else{const dt=ss(te,H);this.timer=self.setTimeout(()=>this.loadPlaylist(),dt),this.warn(`Retrying playlist loading ${H+1}/${te.maxNumRetry} after "${l}" in ${dt}ms`)}r.levelRetry=!0,M.resolved=!0}return Ae}}let kr;class mr extends Ao{constructor(r,l){super(r,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=l,this._registerListeners()}_registerListeners(){const{hls:r}=this;r.on(C.MANIFEST_LOADING,this.onManifestLoading,this),r.on(C.MANIFEST_LOADED,this.onManifestLoaded,this),r.on(C.LEVEL_LOADED,this.onLevelLoaded,this),r.on(C.LEVELS_UPDATED,this.onLevelsUpdated,this),r.on(C.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),r.on(C.FRAG_LOADED,this.onFragLoaded,this),r.on(C.ERROR,this.onError,this)}_unregisterListeners(){const{hls:r}=this;r.off(C.MANIFEST_LOADING,this.onManifestLoading,this),r.off(C.MANIFEST_LOADED,this.onManifestLoaded,this),r.off(C.LEVEL_LOADED,this.onLevelLoaded,this),r.off(C.LEVELS_UPDATED,this.onLevelsUpdated,this),r.off(C.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),r.off(C.FRAG_LOADED,this.onFragLoaded,this),r.off(C.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}startLoad(){this._levels.forEach(l=>{l.loadError=0,l.fragmentError=0}),super.startLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]}onManifestLoading(r,l){this.resetLevels()}onManifestLoaded(r,l){const _=[],M={};let k;l.levels.forEach(H=>{var te;const Ae=H.attrs;-1!==(null==(te=H.audioCodec)?void 0:te.indexOf("mp4a.40.34"))&&(kr||(kr=/chrome|firefox/i.test(navigator.userAgent)),kr&&(H.audioCodec=void 0));const{AUDIO:Pe,CODECS:dt,"FRAME-RATE":pt,"PATHWAY-ID":Ut,RESOLUTION:jt,SUBTITLES:qt}=Ae,bn=`${Ut||"."}-${H.bitrate}-${jt}-${pt}-${dt}`;k=M[bn],k?k.addFallback(H):(k=new Dn(H),M[bn]=k,_.push(k)),Fo(k,"audio",Pe),Fo(k,"text",qt)}),this.filterAndSortMediaOptions(_,l)}filterAndSortMediaOptions(r,l){let _=[],M=[],k=!1,H=!1,te=!1,Ae=r.filter(({audioCodec:jt,videoCodec:qt,width:cn,height:bn,unknownCodecs:Bn})=>(k||(k=!(!cn||!bn)),H||(H=!!qt),te||(te=!!jt),!(null!=Bn&&Bn.length)&&(!jt||en(jt,"audio"))&&(!qt||en(qt,"video"))));if((k||H)&&te&&(Ae=Ae.filter(({videoCodec:jt,width:qt,height:cn})=>!!jt||!(!qt||!cn))),0===Ae.length)return void Promise.resolve().then(()=>{if(this.hls){const jt=new Error("no level with compatible codecs found in manifest");this.hls.trigger(C.ERROR,{type:A.MEDIA_ERROR,details:x.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:l.url,error:jt,reason:jt.message})}});l.audioTracks&&(_=l.audioTracks.filter(jt=>!jt.audioCodec||en(jt.audioCodec,"audio")),Ys(_)),l.subtitles&&(M=l.subtitles,Ys(M));const Pe=Ae.slice(0);Ae.sort((jt,qt)=>jt.attrs["HDCP-LEVEL"]!==qt.attrs["HDCP-LEVEL"]?(jt.attrs["HDCP-LEVEL"]||"")>(qt.attrs["HDCP-LEVEL"]||"")?1:-1:jt.bitrate!==qt.bitrate?jt.bitrate-qt.bitrate:jt.attrs["FRAME-RATE"]!==qt.attrs["FRAME-RATE"]?jt.attrs.decimalFloatingPoint("FRAME-RATE")-qt.attrs.decimalFloatingPoint("FRAME-RATE"):jt.attrs.SCORE!==qt.attrs.SCORE?jt.attrs.decimalFloatingPoint("SCORE")-qt.attrs.decimalFloatingPoint("SCORE"):k&&jt.height!==qt.height?jt.height-qt.height:0);let dt=Pe[0];if(this.steering&&(Ae=this.steering.filterParsedLevels(Ae),Ae.length!==Pe.length))for(let jt=0;jt<Pe.length;jt++)if(Pe[jt].pathwayId===Ae[0].pathwayId){dt=Pe[jt];break}this._levels=Ae;for(let jt=0;jt<Ae.length;jt++)if(Ae[jt]===dt){this._firstLevel=jt,this.log(`manifest loaded, ${Ae.length} level(s) found, first bitrate: ${dt.bitrate}`);break}const Ut={levels:Ae,audioTracks:_,subtitleTracks:M,sessionData:l.sessionData,sessionKeys:l.sessionKeys,firstLevel:this._firstLevel,stats:l.stats,audio:te,video:H,altAudio:!(te&&!H)&&_.some(jt=>!!jt.url)};this.hls.trigger(C.MANIFEST_PARSED,Ut),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return 0===this._levels.length?null:this._levels}get level(){return this.currentLevelIndex}set level(r){const l=this._levels;if(0===l.length)return;if(r<0||r>=l.length){const dt=new Error("invalid level idx"),pt=r<0;if(this.hls.trigger(C.ERROR,{type:A.OTHER_ERROR,details:x.LEVEL_SWITCH_ERROR,level:r,fatal:pt,error:dt,reason:dt.message}),pt)return;r=Math.min(r,l.length-1)}const _=this.currentLevelIndex,M=this.currentLevel,k=M?M.attrs["PATHWAY-ID"]:void 0,H=l[r],te=H.attrs["PATHWAY-ID"];if(this.currentLevelIndex=r,this.currentLevel=H,_===r&&H.details&&M&&k===te)return;this.log(`Switching to level ${r}${te?" with Pathway "+te:""} from level ${_}${k?" with Pathway "+k:""}`);const Ae=c({},H,{level:r,maxBitrate:H.maxBitrate,attrs:H.attrs,uri:H.uri,urlId:H.urlId});delete Ae._attrs,delete Ae._urlId,this.hls.trigger(C.LEVEL_SWITCHING,Ae);const Pe=H.details;if(!Pe||Pe.live){const dt=this.switchParams(H.uri,M?.details);this.loadPlaylist(dt)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(r){this.manualLevelIndex=r,void 0===this._startLevel&&(this._startLevel=r),-1!==r&&(this.level=r)}get firstLevel(){return this._firstLevel}set firstLevel(r){this._firstLevel=r}get startLevel(){if(void 0===this._startLevel){const r=this.hls.config.startLevel;return void 0!==r?r:this._firstLevel}return this._startLevel}set startLevel(r){this._startLevel=r}onError(r,l){l.fatal||!l.context||"level"===l.context.type&&l.context.level===this.level&&this.checkRetry(l)}onFragLoaded(r,{frag:l}){if(void 0!==l&&"main"===l.type){const _=this._levels[l.level];void 0!==_&&(_.loadError=0)}}onLevelLoaded(r,l){var _;const{level:M,details:k}=l,H=this._levels[M];var te;if(!H)return this.warn(`Invalid level index ${M}`),void(null!=(te=l.deliveryDirectives)&&te.skip&&(k.deltaUpdateFailed=!0));M===this.currentLevelIndex?(0===H.fragmentError&&(H.loadError=0),this.playlistLoaded(M,l,H.details)):null!=(_=l.deliveryDirectives)&&_.skip&&(k.deltaUpdateFailed=!0)}onAudioTrackSwitched(r,l){const _=this.currentLevel;if(!_)return;const M=this.hls.audioTracks[l.id].groupId;if(_.audioGroupIds&&_.audioGroupId!==M){let k=-1;for(let H=0;H<_.audioGroupIds.length;H++)if(_.audioGroupIds[H]===M){k=H;break}-1!==k&&k!==_.urlId&&(_.urlId=k,this.canLoad&&this.startLoad())}}loadPlaylist(r){super.loadPlaylist();const l=this.currentLevelIndex,_=this.currentLevel;if(_&&this.shouldLoadPlaylist(_)){const M=_.urlId;let k=_.uri;if(r)try{k=r.addDirectives(k)}catch(te){this.warn(`Could not construct new URL with HLS Delivery Directives: ${te}`)}const H=_.attrs["PATHWAY-ID"];this.log(`Loading level index ${l}${void 0!==r?.msn?" at sn "+r.msn+" part "+r.part:""} with${H?" Pathway "+H:""} URI ${M+1}/${_.url.length} ${k}`),this.clearTimer(),this.hls.trigger(C.LEVEL_LOADING,{url:k,level:l,id:M,deliveryDirectives:r||null})}}get nextLoadLevel(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(r){this.level=r,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=r)}removeLevel(r,l){const _=(k,H)=>H!==l,M=this._levels.filter((k,H)=>H!==r||(k.url.length>1&&void 0!==l?(k.url=k.url.filter(_),k.audioGroupIds&&(k.audioGroupIds=k.audioGroupIds.filter(_)),k.textGroupIds&&(k.textGroupIds=k.textGroupIds.filter(_)),k.urlId=0,!0):(this.steering&&this.steering.removeLevel(k),!1)));this.hls.trigger(C.LEVELS_UPDATED,{levels:M})}onLevelsUpdated(r,{levels:l}){l.forEach((_,M)=>{const{details:k}=_;null!=k&&k.fragments&&k.fragments.forEach(H=>{H.level=M})}),this._levels=l}}function Fo(V,r,l){l&&("audio"===r?(V.audioGroupIds||(V.audioGroupIds=[]),V.audioGroupIds[V.url.length-1]=l):"text"===r&&(V.textGroupIds||(V.textGroupIds=[]),V.textGroupIds[V.url.length-1]=l))}function Ys(V){const r={};V.forEach(l=>{const _=l.groupId||"";l.id=r[_]=r[_]||0,r[_]++})}class vs{constructor(r){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=r,this._registerListeners()}_registerListeners(){const{hls:r}=this;r.on(C.BUFFER_APPENDED,this.onBufferAppended,this),r.on(C.FRAG_BUFFERED,this.onFragBuffered,this),r.on(C.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:r}=this;r.off(C.BUFFER_APPENDED,this.onBufferAppended,this),r.off(C.FRAG_BUFFERED,this.onFragBuffered,this),r.off(C.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(r,l){const _=this.activePartLists[l];if(_)for(let M=_.length;M--;){const k=_[M];if(!k)break;const H=k.end;if(k.start<=r&&null!==H&&r<=H)return k}return this.getBufferedFrag(r,l)}getBufferedFrag(r,l){const{fragments:_}=this,M=Object.keys(_);for(let k=M.length;k--;){const H=_[M[k]];if(H?.body.type===l&&H.buffered){const te=H.body;if(te.start<=r&&r<=te.end)return te}}return null}detectEvictedFragments(r,l,_,M){this.timeRanges&&(this.timeRanges[r]=l);const k=M?.fragment.sn||-1;Object.keys(this.fragments).forEach(H=>{const te=this.fragments[H];if(!te||k>=te.body.sn)return;if(!te.buffered&&!te.loaded)return void(te.body.type===_&&this.removeFragment(te.body));const Ae=te.range[r];Ae&&Ae.time.some(Pe=>{const dt=!this.isTimeBuffered(Pe.startPTS,Pe.endPTS,l);return dt&&this.removeFragment(te.body),dt})})}detectPartialFragments(r){const l=this.timeRanges,{frag:_,part:M}=r;if(!l||"initSegment"===_.sn)return;const k=ws(_),H=this.fragments[k];if(!H||H.buffered&&_.gap)return;const te=!_.relurl;Object.keys(l).forEach(Ae=>{const Pe=_.elementaryStreams[Ae];Pe&&(H.range[Ae]=this.getBufferedTimes(_,M,te||!0===Pe.partial,l[Ae]))}),H.loaded=null,Object.keys(H.range).length?(H.buffered=!0,H.body.endList&&(this.endListFragments[H.body.type]=H),Wo(H)||this.removeParts(_.sn-1,_.type)):this.removeFragment(H.body)}removeParts(r,l){const _=this.activePartLists[l];_&&(this.activePartLists[l]=_.filter(M=>M.fragment.sn>=r))}fragBuffered(r,l){const _=ws(r);let M=this.fragments[_];!M&&l&&(M=this.fragments[_]={body:r,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},r.gap&&(this.hasGaps=!0)),M&&(M.loaded=null,M.buffered=!0)}getBufferedTimes(r,l,_,M){const k={time:[],partial:_},H=r.start,te=r.end,Ae=r.minEndPTS||te,Pe=r.maxStartPTS||H;for(let dt=0;dt<M.length;dt++){const pt=M.start(dt)-this.bufferPadding,Ut=M.end(dt)+this.bufferPadding;if(Pe>=pt&&Ae<=Ut){k.time.push({startPTS:Math.max(H,M.start(dt)),endPTS:Math.min(te,M.end(dt))});break}if(H<Ut&&te>pt)k.partial=!0,k.time.push({startPTS:Math.max(H,M.start(dt)),endPTS:Math.min(te,M.end(dt))});else if(te<=pt)break}return k}getPartialFragment(r){let _,M,k,l=null,H=0;const{bufferPadding:te,fragments:Ae}=this;return Object.keys(Ae).forEach(Pe=>{const dt=Ae[Pe];dt&&Wo(dt)&&(M=dt.body.start-te,k=dt.body.end+te,r>=M&&r<=k&&(_=Math.min(r-M,k-r),H<=_&&(l=dt.body,H=_)))}),l}isEndListAppended(r){const l=this.endListFragments[r];return void 0!==l&&(l.buffered||Wo(l))}getState(r){const l=ws(r),_=this.fragments[l];return _?_.buffered?Wo(_)?"PARTIAL":"OK":"APPENDING":"NOT_LOADED"}isTimeBuffered(r,l,_){let M,k;for(let H=0;H<_.length;H++){if(M=_.start(H)-this.bufferPadding,k=_.end(H)+this.bufferPadding,r>=M&&l<=k)return!0;if(l<=M)return!1}return!1}onFragLoaded(r,l){const{frag:_,part:M}=l;if("initSegment"===_.sn||_.bitrateTest)return;const k=M?null:l,H=ws(_);this.fragments[H]={body:_,appendedPTS:null,loaded:k,buffered:!1,range:Object.create(null)}}onBufferAppended(r,l){const{frag:_,part:M,timeRanges:k}=l;if("initSegment"===_.sn)return;const H=_.type;if(M){let te=this.activePartLists[H];te||(this.activePartLists[H]=te=[]),te.push(M)}this.timeRanges=k,Object.keys(k).forEach(te=>{this.detectEvictedFragments(te,k[te],H,M)})}onFragBuffered(r,l){this.detectPartialFragments(l)}hasFragment(r){const l=ws(r);return!!this.fragments[l]}hasParts(r){var l;return!(null==(l=this.activePartLists[r])||!l.length)}removeFragmentsInRange(r,l,_,M,k){M&&!this.hasGaps||Object.keys(this.fragments).forEach(H=>{const te=this.fragments[H];if(!te)return;const Ae=te.body;Ae.type!==_||M&&!Ae.gap||Ae.start<l&&Ae.end>r&&(te.buffered||k)&&this.removeFragment(Ae)})}removeFragment(r){const l=ws(r);r.stats.loaded=0,r.clearElementaryStreamInfo();const _=this.activePartLists[r.type];if(_){const M=r.sn;this.activePartLists[r.type]=_.filter(k=>k.fragment.sn!==M)}delete this.fragments[l],r.endList&&delete this.endListFragments[r.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function Wo(V){var r,l,_;return V.buffered&&(V.body.gap||(null==(r=V.range.video)?void 0:r.partial)||(null==(l=V.range.audio)?void 0:l.partial)||(null==(_=V.range.audiovideo)?void 0:_.partial))}function ws(V){return`${V.type}_${V.level}_${V.urlId}_${V.sn}`}const Da=Math.pow(2,17);class Ls{constructor(r){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=r}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(r,l){const _=r.url;if(!_)return Promise.reject(new es({type:A.NETWORK_ERROR,details:x.FRAG_LOAD_ERROR,fatal:!1,frag:r,error:new Error("Fragment does not have a "+(_?"part list":"url")),networkDetails:null}));this.abort();const M=this.config,k=M.fLoader,H=M.loader;return new Promise((te,Ae)=>{if(this.loader&&this.loader.destroy(),r.gap){if(r.tagList.some(jt=>"GAP"===jt[0]))return void Ae(ks(r));r.gap=!1}const Pe=this.loader=r.loader=k?new k(M):new H(M),dt=vo(r),pt=as(M.fragLoadPolicy.default),Ut={loadPolicy:pt,timeout:pt.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===r.sn?1/0:Da};r.stats=Pe.stats,Pe.load(dt,Ut,{onSuccess:(jt,qt,cn,bn)=>{this.resetLoader(r,Pe);let Bn=jt.data;cn.resetIV&&r.decryptdata&&(r.decryptdata.iv=new Uint8Array(Bn.slice(0,16)),Bn=Bn.slice(16)),te({frag:r,part:null,payload:Bn,networkDetails:bn})},onError:(jt,qt,cn,bn)=>{this.resetLoader(r,Pe),Ae(new es({type:A.NETWORK_ERROR,details:x.FRAG_LOAD_ERROR,fatal:!1,frag:r,response:f({url:_,data:void 0},jt),error:new Error(`HTTP Error ${jt.code} ${jt.text}`),networkDetails:cn,stats:bn}))},onAbort:(jt,qt,cn)=>{this.resetLoader(r,Pe),Ae(new es({type:A.NETWORK_ERROR,details:x.INTERNAL_ABORTED,fatal:!1,frag:r,error:new Error("Aborted"),networkDetails:cn,stats:jt}))},onTimeout:(jt,qt,cn)=>{this.resetLoader(r,Pe),Ae(new es({type:A.NETWORK_ERROR,details:x.FRAG_LOAD_TIMEOUT,fatal:!1,frag:r,error:new Error(`Timeout after ${Ut.timeout}ms`),networkDetails:cn,stats:jt}))},onProgress:(jt,qt,cn,bn)=>{l&&l({frag:r,part:null,payload:cn,networkDetails:bn})}})})}loadPart(r,l,_){this.abort();const M=this.config,k=M.fLoader,H=M.loader;return new Promise((te,Ae)=>{if(this.loader&&this.loader.destroy(),r.gap||l.gap)return void Ae(ks(r,l));const Pe=this.loader=r.loader=k?new k(M):new H(M),dt=vo(r,l),pt=as(M.fragLoadPolicy.default),Ut={loadPolicy:pt,timeout:pt.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:Da};l.stats=Pe.stats,Pe.load(dt,Ut,{onSuccess:(jt,qt,cn,bn)=>{this.resetLoader(r,Pe),this.updateStatsFromPart(r,l);const Bn={frag:r,part:l,payload:jt.data,networkDetails:bn};_(Bn),te(Bn)},onError:(jt,qt,cn,bn)=>{this.resetLoader(r,Pe),Ae(new es({type:A.NETWORK_ERROR,details:x.FRAG_LOAD_ERROR,fatal:!1,frag:r,part:l,response:f({url:dt.url,data:void 0},jt),error:new Error(`HTTP Error ${jt.code} ${jt.text}`),networkDetails:cn,stats:bn}))},onAbort:(jt,qt,cn)=>{r.stats.aborted=l.stats.aborted,this.resetLoader(r,Pe),Ae(new es({type:A.NETWORK_ERROR,details:x.INTERNAL_ABORTED,fatal:!1,frag:r,part:l,error:new Error("Aborted"),networkDetails:cn,stats:jt}))},onTimeout:(jt,qt,cn)=>{this.resetLoader(r,Pe),Ae(new es({type:A.NETWORK_ERROR,details:x.FRAG_LOAD_TIMEOUT,fatal:!1,frag:r,part:l,error:new Error(`Timeout after ${Ut.timeout}ms`),networkDetails:cn,stats:jt}))}})})}updateStatsFromPart(r,l){const _=r.stats,M=l.stats,k=M.total;if(_.loaded+=M.loaded,k){const Ae=Math.round(r.duration/l.duration),Pe=Math.min(Math.round(_.loaded/k),Ae),pt=(Ae-Pe)*Math.round(_.loaded/Pe);_.total=_.loaded+pt}else _.total=Math.max(_.loaded,_.total);const H=_.loading,te=M.loading;H.start?H.first+=te.first-te.start:(H.start=te.start,H.first=te.first),H.end=te.end}resetLoader(r,l){r.loader=null,this.loader===l&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),l.destroy()}}function vo(V,r=null){const l=r||V,_={frag:V,part:r,responseType:"arraybuffer",url:l.url,headers:{},rangeStart:0,rangeEnd:0},M=l.byteRangeStartOffset,k=l.byteRangeEndOffset;if(p(M)&&p(k)){var H;let te=M,Ae=k;if("initSegment"===V.sn&&"AES-128"===(null==(H=V.decryptdata)?void 0:H.method)){const Pe=k-M;Pe%16&&(Ae=k+(16-Pe%16)),0!==M&&(_.resetIV=!0,te=M-16)}_.rangeStart=te,_.rangeEnd=Ae}return _}function ks(V,r){const l=new Error(`GAP ${V.gap?"tag":"attribute"} found`),_={type:A.MEDIA_ERROR,details:x.FRAG_GAP,fatal:!1,frag:V,error:l,networkDetails:null};return r&&(_.part=r),(r||V).stats.aborted=!0,new es(_)}class es extends Error{constructor(r){super(r.error.message),this.data=void 0,this.data=r}}class fa{constructor(r){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=r}abort(r){for(const l in this.keyUriToKeyInfo){const _=this.keyUriToKeyInfo[l].loader;if(_){if(r&&r!==_.context.frag.type)return;_.abort()}}}detach(){for(const r in this.keyUriToKeyInfo){const l=this.keyUriToKeyInfo[r];(l.mediaKeySessionContext||l.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[r]}}destroy(){this.detach();for(const r in this.keyUriToKeyInfo){const l=this.keyUriToKeyInfo[r].loader;l&&l.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(r,l=x.KEY_LOAD_ERROR,_,M,k){return new es({type:A.NETWORK_ERROR,details:l,fatal:!1,frag:r,response:k,error:_,networkDetails:M})}loadClear(r,l){if(this.emeController&&this.config.emeEnabled){const{sn:_,cc:M}=r;for(let k=0;k<l.length;k++){const H=l[k];if(M<=H.cc&&("initSegment"===_||"initSegment"===H.sn||_<H.sn)){this.emeController.selectKeySystemFormat(H).then(te=>{H.setKeyFormat(te)});break}}}}load(r){return!r.decryptdata&&r.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(r).then(l=>this.loadInternal(r,l)):this.loadInternal(r)}loadInternal(r,l){var _,M;l&&r.setKeyFormat(l);const k=r.decryptdata;if(!k){const Pe=new Error(l?`Expected frag.decryptdata to be defined after setting format ${l}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(r,x.KEY_LOAD_ERROR,Pe))}const H=k.uri;if(!H)return Promise.reject(this.createKeyLoadError(r,x.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${H}"`)));let te=this.keyUriToKeyInfo[H];if(null!=(_=te)&&_.decryptdata.key)return k.key=te.decryptdata.key,Promise.resolve({frag:r,keyInfo:te});var Ae;if(null!=(M=te)&&M.keyLoadPromise)switch(null==(Ae=te.mediaKeySessionContext)?void 0:Ae.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return te.keyLoadPromise.then(Pe=>(k.key=Pe.keyInfo.decryptdata.key,{frag:r,keyInfo:te}))}switch(te=this.keyUriToKeyInfo[H]={decryptdata:k,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},k.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===k.keyFormat?this.loadKeyHTTP(te,r):this.loadKeyEME(te,r);case"AES-128":return this.loadKeyHTTP(te,r);default:return Promise.reject(this.createKeyLoadError(r,x.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${k.method}"`)))}}loadKeyEME(r,l){const _={frag:l,keyInfo:r};if(this.emeController&&this.config.emeEnabled){const M=this.emeController.loadKey(_);if(M)return(r.keyLoadPromise=M.then(k=>(r.mediaKeySessionContext=k,_))).catch(k=>{throw r.keyLoadPromise=null,k})}return Promise.resolve(_)}loadKeyHTTP(r,l){const _=this.config,k=new(0,_.loader)(_);return l.keyLoader=r.loader=k,r.keyLoadPromise=new Promise((H,te)=>{const Ae={keyInfo:r,frag:l,responseType:"arraybuffer",url:r.decryptdata.uri},Pe=_.keyLoadPolicy.default;k.load(Ae,{loadPolicy:Pe,timeout:Pe.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(Ut,jt,qt,cn)=>{const{frag:bn,keyInfo:Bn,url:ei}=qt;if(!bn.decryptdata||Bn!==this.keyUriToKeyInfo[ei])return te(this.createKeyLoadError(bn,x.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),cn));Bn.decryptdata.key=bn.decryptdata.key=new Uint8Array(Ut.data),bn.keyLoader=null,Bn.loader=null,H({frag:bn,keyInfo:Bn})},onError:(Ut,jt,qt,cn)=>{this.resetLoader(jt),te(this.createKeyLoadError(l,x.KEY_LOAD_ERROR,new Error(`HTTP Error ${Ut.code} loading key ${Ut.text}`),qt,f({url:Ae.url,data:void 0},Ut)))},onTimeout:(Ut,jt,qt)=>{this.resetLoader(jt),te(this.createKeyLoadError(l,x.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),qt))},onAbort:(Ut,jt,qt)=>{this.resetLoader(jt),te(this.createKeyLoadError(l,x.INTERNAL_ABORTED,new Error("key loading aborted"),qt))}})})}resetLoader(r){const{frag:l,keyInfo:_,url:M}=r,k=_.loader;l.keyLoader===k&&(l.keyLoader=null,_.loader=null),delete this.keyUriToKeyInfo[M],k&&k.destroy()}}class Ma{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(r){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,r),!0)}clearInterval(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}const Zs={length:0,start:()=>0,end:()=>0};class Fr{static isBuffered(r,l){try{if(r){const _=Fr.getBuffered(r);for(let M=0;M<_.length;M++)if(l>=_.start(M)&&l<=_.end(M))return!0}}catch{}return!1}static bufferInfo(r,l,_){try{if(r){const M=Fr.getBuffered(r),k=[];let H;for(H=0;H<M.length;H++)k.push({start:M.start(H),end:M.end(H)});return this.bufferedInfo(k,l,_)}}catch{}return{len:0,start:l,end:l,nextStart:void 0}}static bufferedInfo(r,l,_){l=Math.max(0,l),r.sort(function(Pe,dt){return Pe.start-dt.start||dt.end-Pe.end});let M=[];if(_)for(let Pe=0;Pe<r.length;Pe++){const dt=M.length;if(dt){const pt=M[dt-1].end;r[Pe].start-pt<_?r[Pe].end>pt&&(M[dt-1].end=r[Pe].end):M.push(r[Pe])}else M.push(r[Pe])}else M=r;let H,k=0,te=l,Ae=l;for(let Pe=0;Pe<M.length;Pe++){const dt=M[Pe].start,pt=M[Pe].end;if(l+_>=dt&&l<pt)te=dt,Ae=pt,k=Ae-l;else if(l+_<dt){H=dt;break}}return{len:k,start:te||0,end:Ae||0,nextStart:H}}static getBuffered(r){try{return r.buffered}catch(l){return b.log("failed to get media.buffered",l),Zs}}}class Uo{constructor(r,l,_,M=0,k=-1,H=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=r,this.sn=l,this.id=_,this.size=M,this.part=k,this.partial=H}}function ra(V,r){let l=null;for(let _=0,M=V.length;_<M;_++){const k=V[_];if(k&&k.cc===r){l=k;break}}return l}function Aa(V,r){if(V){const l=V.start+r;V.start=V.startPTS=l,V.endPTS=l+V.duration}}function Br(V,r){const l=r.fragments;for(let _=0,M=l.length;_<M;_++)Aa(l[_],V);r.fragmentHint&&Aa(r.fragmentHint,V),r.alignedSliding=!0}function ft(V,r){if(!V.hasProgramDateTime||!r.hasProgramDateTime)return;const l=V.fragments,_=r.fragments;if(!l.length||!_.length)return;const k=_[Math.round(_.length/2)-1],H=ra(l,k.cc)||l[Math.round(l.length/2)-1],te=k.programDateTime,Ae=H.programDateTime;null!==te&&null!==Ae&&Br((Ae-te)/1e3-(H.start-k.start),V)}class $t{constructor(r,l){this.subtle=void 0,this.aesIV=void 0,this.subtle=r,this.aesIV=l}decrypt(r,l){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},l,r)}}class On{constructor(r,l){this.subtle=void 0,this.key=void 0,this.subtle=r,this.key=l}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}class Zi{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(r){const l=new DataView(r),_=new Uint32Array(4);for(let M=0;M<4;M++)_[M]=l.getUint32(4*M);return _}initTable(){const r=this.sBox,l=this.invSBox,_=this.subMix,M=_[0],k=_[1],H=_[2],te=_[3],Ae=this.invSubMix,Pe=Ae[0],dt=Ae[1],pt=Ae[2],Ut=Ae[3],jt=new Uint32Array(256);let qt=0,cn=0,bn=0;for(bn=0;bn<256;bn++)jt[bn]=bn<128?bn<<1:bn<<1^283;for(bn=0;bn<256;bn++){let Bn=cn^cn<<1^cn<<2^cn<<3^cn<<4;Bn=Bn>>>8^255&Bn^99,r[qt]=Bn,l[Bn]=qt;const ei=jt[qt],Zn=jt[ei],di=jt[Zn];let oi=257*jt[Bn]^16843008*Bn;M[qt]=oi<<24|oi>>>8,k[qt]=oi<<16|oi>>>16,H[qt]=oi<<8|oi>>>24,te[qt]=oi,oi=16843009*di^65537*Zn^257*ei^16843008*qt,Pe[Bn]=oi<<24|oi>>>8,dt[Bn]=oi<<16|oi>>>16,pt[Bn]=oi<<8|oi>>>24,Ut[Bn]=oi,qt?(qt=ei^jt[jt[jt[di^ei]]],cn^=jt[jt[cn]]):qt=cn=1}}expandKey(r){const l=this.uint8ArrayToUint32Array_(r);let _=!0,M=0;for(;M<l.length&&_;)_=l[M]===this.key[M],M++;if(_)return;this.key=l;const k=this.keySize=l.length;if(4!==k&&6!==k&&8!==k)throw new Error("Invalid aes key size="+k);const H=this.ksRows=4*(k+6+1);let te,Ae;const Pe=this.keySchedule=new Uint32Array(H),dt=this.invKeySchedule=new Uint32Array(H),pt=this.sBox,Ut=this.rcon,jt=this.invSubMix,qt=jt[0],cn=jt[1],bn=jt[2],Bn=jt[3];let ei,Zn;for(te=0;te<H;te++)te<k?ei=Pe[te]=l[te]:(Zn=ei,te%k==0?(Zn=Zn<<8|Zn>>>24,Zn=pt[Zn>>>24]<<24|pt[Zn>>>16&255]<<16|pt[Zn>>>8&255]<<8|pt[255&Zn],Zn^=Ut[te/k|0]<<24):k>6&&te%k==4&&(Zn=pt[Zn>>>24]<<24|pt[Zn>>>16&255]<<16|pt[Zn>>>8&255]<<8|pt[255&Zn]),Pe[te]=ei=(Pe[te-k]^Zn)>>>0);for(Ae=0;Ae<H;Ae++)te=H-Ae,Zn=3&Ae?Pe[te]:Pe[te-4],dt[Ae]=Ae<4||te<=4?Zn:qt[pt[Zn>>>24]]^cn[pt[Zn>>>16&255]]^bn[pt[Zn>>>8&255]]^Bn[pt[255&Zn]],dt[Ae]=dt[Ae]>>>0}networkToHostOrderSwap(r){return r<<24|(65280&r)<<8|(16711680&r)>>8|r>>>24}decrypt(r,l,_){const M=this.keySize+6,k=this.invKeySchedule,H=this.invSBox,te=this.invSubMix,Ae=te[0],Pe=te[1],dt=te[2],pt=te[3],Ut=this.uint8ArrayToUint32Array_(_);let jt=Ut[0],qt=Ut[1],cn=Ut[2],bn=Ut[3];const Bn=new Int32Array(r),ei=new Int32Array(Bn.length);let Zn,di,oi,Ai,gi,Mi,Pi,ui,ji,Hi,to,Rs,yr,oo;const so=this.networkToHostOrderSwap;for(;l<Bn.length;){for(ji=so(Bn[l]),Hi=so(Bn[l+1]),to=so(Bn[l+2]),Rs=so(Bn[l+3]),gi=ji^k[0],Mi=Rs^k[1],Pi=to^k[2],ui=Hi^k[3],yr=4,oo=1;oo<M;oo++)Zn=Ae[gi>>>24]^Pe[Mi>>16&255]^dt[Pi>>8&255]^pt[255&ui]^k[yr],di=Ae[Mi>>>24]^Pe[Pi>>16&255]^dt[ui>>8&255]^pt[255&gi]^k[yr+1],oi=Ae[Pi>>>24]^Pe[ui>>16&255]^dt[gi>>8&255]^pt[255&Mi]^k[yr+2],Ai=Ae[ui>>>24]^Pe[gi>>16&255]^dt[Mi>>8&255]^pt[255&Pi]^k[yr+3],gi=Zn,Mi=di,Pi=oi,ui=Ai,yr+=4;Zn=H[gi>>>24]<<24^H[Mi>>16&255]<<16^H[Pi>>8&255]<<8^H[255&ui]^k[yr],di=H[Mi>>>24]<<24^H[Pi>>16&255]<<16^H[ui>>8&255]<<8^H[255&gi]^k[yr+1],oi=H[Pi>>>24]<<24^H[ui>>16&255]<<16^H[gi>>8&255]<<8^H[255&Mi]^k[yr+2],Ai=H[ui>>>24]<<24^H[gi>>16&255]<<16^H[Mi>>8&255]<<8^H[255&Pi]^k[yr+3],ei[l]=so(Zn^jt),ei[l+1]=so(Ai^qt),ei[l+2]=so(oi^cn),ei[l+3]=so(di^bn),jt=ji,qt=Hi,cn=to,bn=Rs,l+=4}return ei.buffer}}class ts{constructor(r,{removePKCS7Padding:l=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=r.enableSoftwareAES,this.removePKCS7Padding=l,l)try{const _=self.crypto;_&&(this.subtle=_.subtle||_.webkitSubtle)}catch{}null===this.subtle&&(this.useSoftware=!0)}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:r,remainderData:l}=this;if(!r||l)return this.reset(),null;const _=new Uint8Array(r);return this.reset(),this.removePKCS7Padding?function Ti(V){const r=V.byteLength,l=r&&new DataView(V.buffer).getUint8(r-1);return l?q(V,0,r-l):V}(_):_}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(r,l,_){return this.useSoftware?new Promise((M,k)=>{this.softwareDecrypt(new Uint8Array(r),l,_);const H=this.flush();H?M(H.buffer):k(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(r),l,_)}softwareDecrypt(r,l,_){const{currentIV:M,currentResult:k,remainderData:H}=this;this.logOnce("JS AES decrypt"),H&&(r=En(H,r),this.remainderData=null);const te=this.getValidChunk(r);if(!te.length)return null;M&&(_=M);let Ae=this.softwareDecrypter;Ae||(Ae=this.softwareDecrypter=new Zi),Ae.expandKey(l);const Pe=k;return this.currentResult=Ae.decrypt(te.buffer,0,_),this.currentIV=q(te,-16).buffer,Pe||null}webCryptoDecrypt(r,l,_){const M=this.subtle;return(this.key!==l||!this.fastAesKey)&&(this.key=l,this.fastAesKey=new On(M,l)),this.fastAesKey.expandKey().then(k=>M?(this.logOnce("WebCrypto AES decrypt"),new $t(M,new Uint8Array(_)).decrypt(r.buffer,k)):Promise.reject(new Error("web crypto not initialized"))).catch(k=>(b.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${k.name}: ${k.message}`),this.onWebCryptoError(r,l,_)))}onWebCryptoError(r,l,_){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(r,l,_);const M=this.flush();if(M)return M.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(r){let l=r;const _=r.length-r.length%16;return _!==r.length&&(l=q(r,0,_),this.remainderData=q(r,_)),l}logOnce(r){this.logEnabled&&(b.log(`[decrypter]: ${r}`),this.logEnabled=!1)}}class Os extends Ma{constructor(r,l,_,M,k){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state="STOPPED",this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=k,this.logPrefix=M,this.log=b.log.bind(b,`${M}:`),this.warn=b.warn.bind(b,`${M}:`),this.hls=r,this.fragmentLoader=new Ls(r.config),this.keyLoader=_,this.fragmentTracker=l,this.config=r.config,this.decrypter=new ts(r.config),r.on(C.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(r){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const r=this.fragCurrent;null!=r&&r.loader&&(r.abortRequests(),this.fragmentTracker.removeFragment(r)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state="STOPPED"}_streamEnded(r,l){if(l.live||r.nextStart||!r.end||!this.media)return!1;const _=l.partList;if(null!=_&&_.length){const k=_[_.length-1];return Fr.isBuffered(this.media,k.start+k.duration/2)}return this.fragmentTracker.isEndListAppended(l.fragments[l.fragments.length-1].type)}getLevelDetails(){var r;if(this.levels&&null!==this.levelLastLoaded)return null==(r=this.levels[this.levelLastLoaded])?void 0:r.details}onMediaAttached(r,l){const _=this.media=this.mediaBuffer=l.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),_.addEventListener("seeking",this.onvseeking),_.addEventListener("ended",this.onvended);const M=this.config;this.levels&&M.autoStartLoad&&"STOPPED"===this.state&&this.startLoad(M.startPosition)}onMediaDetaching(){const r=this.media;null!=r&&r.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),r&&this.onvseeking&&this.onvended&&(r.removeEventListener("seeking",this.onvseeking),r.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:r,fragCurrent:l,media:_,mediaBuffer:M,state:k}=this,H=_?_.currentTime:0,te=Fr.bufferInfo(M||_,H,r.maxBufferHole);if(this.log(`media seeking to ${p(H)?H.toFixed(3):H}, state: ${k}`),"ENDED"===this.state)this.resetLoadingState();else if(l){const Ae=r.maxFragLookUpTolerance,Pe=l.start-Ae,dt=l.start+l.duration+Ae;if(!te.len||dt<te.start||Pe>te.end){const pt=H>dt;(H<Pe||pt)&&(pt&&l.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),l.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}_&&(this.fragmentTracker.removeFragmentsInRange(H,1/0,this.playlistType,!0),this.lastCurrentTime=H),!this.loadedmetadata&&!te.len&&(this.nextLoadPosition=this.startPosition=H),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(r,l){this.startTimeOffset=l.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.stopLoad(),super.onHandlerDestroying()}onHandlerDestroyed(){this.state="STOPPED",this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(r,l,_){this._loadFragForPlayback(r,l,_)}_loadFragForPlayback(r,l,_){this._doFragLoad(r,l,_,k=>{if(this.fragContextChanged(r))return this.warn(`Fragment ${r.sn}${k.part?" p: "+k.part.index:""} of level ${r.level} was dropped during download.`),void this.fragmentTracker.removeFragment(r);r.stats.chunkCount++,this._handleFragmentLoadProgress(k)}).then(k=>{if(!k)return;const H=this.state;this.fragContextChanged(r)?("FRAG_LOADING"===H||!this.fragCurrent&&"PARSING"===H)&&(this.fragmentTracker.removeFragment(r),this.state="IDLE"):("payload"in k&&(this.log(`Loaded fragment ${r.sn} of level ${r.level}`),this.hls.trigger(C.FRAG_LOADED,k)),this._handleFragmentLoadComplete(k))}).catch(k=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(k),this.resetFragmentLoading(r))})}clearTrackerIfNeeded(r){var l;const{fragmentTracker:_}=this;if("APPENDING"===_.getState(r)){const H=this.getFwdBufferInfo(this.mediaBuffer,r.type),te=Math.max(r.duration,H?H.len:this.config.maxBufferLength);this.reduceMaxBufferLength(te)&&_.removeFragment(r)}else 0===(null==(l=this.mediaBuffer)?void 0:l.buffered.length)?_.removeAllFragments():_.hasParts(r.type)&&(_.detectPartialFragments({frag:r,part:null,stats:r.stats,id:r.type}),"PARTIAL"===_.getState(r)&&_.removeFragment(r))}flushMainBuffer(r,l,_=null){r-l&&this.hls.trigger(C.BUFFER_FLUSHING,{startOffset:r,endOffset:l,type:_})}_loadInitSegment(r,l){this._doFragLoad(r,l).then(_=>{if(!_||this.fragContextChanged(r)||!this.levels)throw new Error("init load aborted");return _}).then(_=>{const{hls:M}=this,{payload:k}=_,H=r.decryptdata;if(k&&k.byteLength>0&&H&&H.key&&H.iv&&"AES-128"===H.method){const te=self.performance.now();return this.decrypter.decrypt(new Uint8Array(k),H.key.buffer,H.iv.buffer).catch(Ae=>{throw M.trigger(C.ERROR,{type:A.MEDIA_ERROR,details:x.FRAG_DECRYPT_ERROR,fatal:!1,error:Ae,reason:Ae.message,frag:r}),Ae}).then(Ae=>{const Pe=self.performance.now();return M.trigger(C.FRAG_DECRYPTED,{frag:r,payload:Ae,stats:{tstart:te,tdecrypt:Pe}}),_.payload=Ae,_})}return _}).then(_=>{const{fragCurrent:M,hls:k,levels:H}=this;if(!H)throw new Error("init load aborted, missing levels");const te=r.stats;this.state="IDLE",l.fragmentError=0,r.data=new Uint8Array(_.payload),te.parsing.start=te.buffering.start=self.performance.now(),te.parsing.end=te.buffering.end=self.performance.now(),_.frag===M&&k.trigger(C.FRAG_BUFFERED,{stats:te,frag:M,part:null,id:r.type}),this.tick()}).catch(_=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(_),this.resetFragmentLoading(r))})}fragContextChanged(r){const{fragCurrent:l}=this;return!r||!l||r.level!==l.level||r.sn!==l.sn||r.urlId!==l.urlId}fragBufferedComplete(r,l){var _,M,k,H;const te=this.mediaBuffer?this.mediaBuffer:this.media;this.log(`Buffered ${r.type} sn: ${r.sn}${l?" part: "+l.index:""} of ${"main"===this.playlistType?"level":"track"} ${r.level} (frag:[${(null!=(_=r.startPTS)?_:NaN).toFixed(3)}-${(null!=(M=r.endPTS)?M:NaN).toFixed(3)}] > buffer:${te?function(V){let r="";const l=V.length;for(let _=0;_<l;_++)r+=`[${V.start(_).toFixed(3)}-${V.end(_).toFixed(3)}]`;return r}(Fr.getBuffered(te)):"(detached)"})`),this.state="IDLE",te&&(!this.loadedmetadata&&"main"==r.type&&te.buffered.length&&(null==(k=this.fragCurrent)?void 0:k.sn)===(null==(H=this.fragPrevious)?void 0:H.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(r){const{transmuxer:l}=this;if(!l)return;const{frag:_,part:M,partsLoaded:k}=r,H=!k||0===k.length||k.some(Ae=>!Ae),te=new Uo(_.level,_.sn,_.stats.chunkCount+1,0,M?M.index:-1,!H);l.flush(te)}_handleFragmentLoadProgress(r){}_doFragLoad(r,l,_=null,M){var k;const H=l?.details;if(!this.levels||!H)throw new Error(`frag load aborted, missing level${H?"":" detail"}s`);let te=null;if(!r.encrypted||null!=(k=r.decryptdata)&&k.key?!r.encrypted&&H.encryptedFragments.length&&this.keyLoader.loadClear(r,H.encryptedFragments):(this.log(`Loading key for ${r.sn} of [${H.startSN}-${H.endSN}], ${"[stream-controller]"===this.logPrefix?"level":"track"} ${r.level}`),this.state="KEY_LOADING",this.fragCurrent=r,te=this.keyLoader.load(r).then(dt=>{if(!this.fragContextChanged(dt.frag))return this.hls.trigger(C.KEY_LOADED,dt),"KEY_LOADING"===this.state&&(this.state="IDLE"),dt}),this.hls.trigger(C.KEY_LOADING,{frag:r}),null===this.fragCurrent&&(te=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),_=Math.max(r.start,_||0),this.config.lowLatencyMode&&"initSegment"!==r.sn){const dt=H.partList;if(dt&&M){_>r.end&&H.fragmentHint&&(r=H.fragmentHint);const pt=this.getNextPart(dt,r,_);if(pt>-1){const Ut=dt[pt];let jt;return this.log(`Loading part sn: ${r.sn} p: ${Ut.index} cc: ${r.cc} of playlist [${H.startSN}-${H.endSN}] parts [0-${pt}-${dt.length-1}] ${"[stream-controller]"===this.logPrefix?"level":"track"}: ${r.level}, target: ${parseFloat(_.toFixed(3))}`),this.nextLoadPosition=Ut.start+Ut.duration,this.state="FRAG_LOADING",jt=te?te.then(qt=>!qt||this.fragContextChanged(qt.frag)?null:this.doFragPartsLoad(r,Ut,l,M)).catch(qt=>this.handleFragLoadError(qt)):this.doFragPartsLoad(r,Ut,l,M).catch(qt=>this.handleFragLoadError(qt)),this.hls.trigger(C.FRAG_LOADING,{frag:r,part:Ut,targetBufferTime:_}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):jt}if(!r.url||this.loadedEndOfParts(dt,_))return Promise.resolve(null)}}this.log(`Loading fragment ${r.sn} cc: ${r.cc} ${H?"of ["+H.startSN+"-"+H.endSN+"] ":""}${"[stream-controller]"===this.logPrefix?"level":"track"}: ${r.level}, target: ${parseFloat(_.toFixed(3))}`),p(r.sn)&&!this.bitrateTest&&(this.nextLoadPosition=r.start+r.duration),this.state="FRAG_LOADING";const Ae=this.config.progressive;let Pe;return Pe=Ae&&te?te.then(dt=>!dt||this.fragContextChanged(dt?.frag)?null:this.fragmentLoader.load(r,M)).catch(dt=>this.handleFragLoadError(dt)):Promise.all([this.fragmentLoader.load(r,Ae?M:void 0),te]).then(([dt])=>(!Ae&&dt&&M&&M(dt),dt)).catch(dt=>this.handleFragLoadError(dt)),this.hls.trigger(C.FRAG_LOADING,{frag:r,targetBufferTime:_}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):Pe}doFragPartsLoad(r,l,_,M){return new Promise((k,H)=>{var te;const Ae=[],Pe=null==(te=_.details)?void 0:te.partList,dt=pt=>{this.fragmentLoader.loadPart(r,pt,M).then(Ut=>{Ae[pt.index]=Ut;const jt=Ut.part;this.hls.trigger(C.FRAG_LOADED,Ut);const qt=ko(_,r.sn,pt.index+1)||Ks(Pe,r.sn,pt.index+1);if(!qt)return k({frag:r,part:jt,partsLoaded:Ae});dt(qt)}).catch(H)};dt(l)})}handleFragLoadError(r){if("data"in r){const l=r.data;r.data&&l.details===x.INTERNAL_ABORTED?this.handleFragLoadAborted(l.frag,l.part):this.hls.trigger(C.ERROR,l)}else this.hls.trigger(C.ERROR,{type:A.OTHER_ERROR,details:x.INTERNAL_EXCEPTION,err:r,error:r,fatal:!0});return null}_handleTransmuxerFlush(r){const l=this.getCurrentContext(r);if(!l||"PARSING"!==this.state)return void(!this.fragCurrent&&"STOPPED"!==this.state&&"ERROR"!==this.state&&(this.state="IDLE"));const{frag:_,part:M,level:k}=l,H=self.performance.now();_.stats.parsing.end=H,M&&(M.stats.parsing.end=H),this.updateLevelTiming(_,M,k,r.partial)}getCurrentContext(r){const{levels:l,fragCurrent:_}=this,{level:M,sn:k,part:H}=r;if(null==l||!l[M])return this.warn(`Levels object was unset while buffering fragment ${k} of level ${M}. The current chunk will not be buffered.`),null;const te=l[M],Ae=H>-1?ko(te,k,H):null,Pe=Ae?Ae.fragment:function Lo(V,r,l){if(null==V||!V.details)return null;const _=V.details;let M=_.fragments[r-_.startSN];return M||(M=_.fragmentHint,M&&M.sn===r)?M:r<_.startSN&&l&&l.sn===r?l:null}(te,k,_);return Pe?(_&&_!==Pe&&(Pe.stats=_.stats),{frag:Pe,part:Ae,level:te}):null}bufferFragmentData(r,l,_,M,k){var H;if(!r||"PARSING"!==this.state)return;const{data1:te,data2:Ae}=r;let Pe=te;if(te&&Ae&&(Pe=En(te,Ae)),null!=(H=Pe)&&H.length&&(this.hls.trigger(C.BUFFER_APPENDING,{type:r.type,frag:l,part:_,chunkMeta:M,parent:l.type,data:Pe}),r.dropped&&r.independent&&!_)){if(k)return;this.flushBufferGap(l)}}flushBufferGap(r){const l=this.media;if(!l)return;if(!Fr.isBuffered(l,l.currentTime))return void this.flushMainBuffer(0,r.start);const _=l.currentTime,M=Fr.bufferInfo(l,_,0),H=Math.min(2*this.config.maxFragLookUpTolerance,.25*r.duration),te=Math.max(Math.min(r.start-H,M.end-H),_+H);r.start-te>H&&this.flushMainBuffer(te,r.start)}getFwdBufferInfo(r,l){const _=this.getLoadPosition();return p(_)?this.getFwdBufferInfoAtPos(r,_,l):null}getFwdBufferInfoAtPos(r,l,_){const{config:{maxBufferHole:M}}=this,k=Fr.bufferInfo(r,l,M);if(0===k.len&&void 0!==k.nextStart){const H=this.fragmentTracker.getBufferedFrag(l,_);if(H&&k.nextStart<H.end)return Fr.bufferInfo(r,l,Math.max(k.nextStart,M))}return k}getMaxBufferLength(r){const{config:l}=this;let _;return _=r?Math.max(8*l.maxBufferSize/r,l.maxBufferLength):l.maxBufferLength,Math.min(_,l.maxMaxBufferLength)}reduceMaxBufferLength(r){const l=this.config;return l.maxMaxBufferLength>=(r||l.maxBufferLength)&&(l.maxMaxBufferLength/=2,this.warn(`Reduce max buffer length to ${l.maxMaxBufferLength}s`),!0)}getAppendedFrag(r,l="main"){const _=this.fragmentTracker.getAppendedFrag(r,"main");return _&&"fragment"in _?_.fragment:_}getNextFragment(r,l){const _=l.fragments,M=_.length;if(!M)return null;const{config:k}=this,H=_[0].start;let te;if(l.live){const Ae=k.initialLiveManifestSize;if(M<Ae)return this.warn(`Not enough fragments to start playback (have: ${M}, need: ${Ae})`),null;!l.PTSKnown&&!this.startFragRequested&&-1===this.startPosition&&(te=this.getInitialLiveFragment(l,_),this.startPosition=te?this.hls.liveSyncPosition||te.start:r)}else r<=H&&(te=_[0]);return te||(te=this.getFragmentAtPosition(r,k.lowLatencyMode?l.partEnd:l.fragmentEnd,l)),this.mapToInitFragWhenRequired(te)}isLoopLoading(r,l){const _=this.fragmentTracker.getState(r);return("OK"===_||"PARTIAL"===_&&!!r.gap)&&this.nextLoadPosition>l}getNextFragmentLoopLoading(r,l,_,M,k){const H=r.gap,te=this.getNextFragment(this.nextLoadPosition,l);if(null===te)return te;if(r=te,H&&r&&!r.gap&&_.nextStart){const Ae=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,_.nextStart,M);if(null!==Ae&&_.len+Ae.len>=k)return this.log(`buffer full after gaps in "${M}" playlist starting at sn: ${r.sn}`),null}return r}mapToInitFragWhenRequired(r){return null==r||!r.initSegment||null!=r&&r.initSegment.data||this.bitrateTest?r:r.initSegment}getNextPart(r,l,_){let M=-1,k=!1,H=!0;for(let te=0,Ae=r.length;te<Ae;te++){const Pe=r[te];if(H=H&&!Pe.independent,M>-1&&_<Pe.start)break;const dt=Pe.loaded;dt?M=-1:(k||Pe.independent||H)&&Pe.fragment===l&&(M=te),k=dt}return M}loadedEndOfParts(r,l){const _=r[r.length-1];return _&&l>_.start&&_.loaded}getInitialLiveFragment(r,l){const _=this.fragPrevious;let M=null;if(_){if(r.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${_.programDateTime}`),M=function Ws(V,r,l){if(null===r||!Array.isArray(V)||!V.length||!p(r))return null;if(r<(V[0].programDateTime||0))return null;if(r>=(V[V.length-1].endProgramDateTime||0))return null;l=l||0;for(let k=0;k<V.length;++k){const H=V[k];if(xs(r,l,H))return H}return null}(l,_.endProgramDateTime,this.config.maxFragLookUpTolerance)),!M){const k=_.sn+1;if(k>=r.startSN&&k<=r.endSN){const H=l[k-r.startSN];_.cc===H.cc&&(M=H,this.log(`Live playlist, switching playlist, load frag with next SN: ${M.sn}`))}M||(M=function Is(V,r){return qo.search(V,l=>l.cc<r?1:l.cc>r?-1:0)}(l,_.cc),M&&this.log(`Live playlist, switching playlist, load frag with same CC: ${M.sn}`))}}else{const k=this.hls.liveSyncPosition;null!==k&&(M=this.getFragmentAtPosition(k,this.bitrateTest?r.fragmentEnd:r.edge,r))}return M}getFragmentAtPosition(r,l,_){const{config:M}=this;let{fragPrevious:k}=this,{fragments:H,endSN:te}=_;const{fragmentHint:Ae}=_,Pe=M.maxFragLookUpTolerance,dt=_.partList,pt=!!(M.lowLatencyMode&&null!=dt&&dt.length&&Ae);let Ut;if(pt&&Ae&&!this.bitrateTest&&(H=H.concat(Ae),te=Ae.sn),Ut=r<l?uo(k,H,r,r>l-Pe?0:Pe):H[H.length-1],Ut){const jt=Ut.sn-_.startSN,qt=this.fragmentTracker.getState(Ut);if(("OK"===qt||"PARTIAL"===qt&&Ut.gap)&&(k=Ut),k&&Ut.sn===k.sn&&(!pt||dt[0].fragment.sn>Ut.sn)&&k&&Ut.level===k.level){const bn=H[jt+1];Ut=Ut.sn<te&&"OK"!==this.fragmentTracker.getState(bn)?bn:null}}return Ut}synchronizeToLiveEdge(r){const{config:l,media:_}=this;if(!_)return;const M=this.hls.liveSyncPosition,k=_.currentTime,te=r.edge,Ae=k>=r.fragments[0].start-l.maxFragLookUpTolerance&&k<=te;null!==M&&_.duration>M&&(k<M||!Ae)&&(!Ae&&_.readyState<4||k<te-(void 0!==l.liveMaxLatencyDuration?l.liveMaxLatencyDuration:l.liveMaxLatencyDurationCount*r.targetduration))&&(this.loadedmetadata||(this.nextLoadPosition=M),_.readyState&&(this.warn(`Playback: ${k.toFixed(3)} is located too far from the end of live sliding playlist: ${te}, reset currentTime to : ${M.toFixed(3)}`),_.currentTime=M))}alignPlaylists(r,l){const{levels:_,levelLastLoaded:M,fragPrevious:k}=this,H=null!==M?_[M]:null,te=r.fragments.length;if(!te)return this.warn("No fragments in live playlist"),0;const Ae=r.fragments[0].start,Pe=!l,dt=r.alignedSliding&&p(Ae);if(Pe||!dt&&!Ae){!function kn(V,r,l){r&&(function _t(V,r,l){if(function Fs(V,r,l){return!(!r.details||!(l.endCC>l.startCC||V&&V.cc<l.startCC))}(V,l,r)){const _=function ys(V,r,l=0){const _=V.fragments,M=r.fragments;if(!M.length||!_.length)return void b.log("No fragments to align");const k=ra(_,M[0].cc);if(k&&(!k||k.startPTS))return k;b.log("No frag in previous level to align on")}(l.details,r);_&&p(_.start)&&(b.log(`Adjusting PTS using last level due to CC increase within current level ${r.url}`),Br(_.start,r))}}(V,l,r),!l.alignedSliding&&r.details&&function Ot(V,r){if(!r.fragments.length||!V.hasProgramDateTime||!r.hasProgramDateTime)return;const l=r.fragments[0].programDateTime,_=V.fragments[0].programDateTime,M=(_-l)/1e3+r.fragments[0].start;M&&p(M)&&(b.log(`Adjusting PTS using programDateTime delta ${_-l}ms, sliding:${M.toFixed(3)} ${V.url} `),Br(M,V))}(l,r.details),!l.alignedSliding&&r.details&&!l.skippedSegments&&Ki(r.details,l))}(k,H,r);const pt=r.fragments[0].start;return this.log(`Live playlist sliding: ${pt.toFixed(2)} start-sn: ${l?l.startSN:"na"}->${r.startSN} prev-sn: ${k?k.sn:"na"} fragments: ${te}`),pt}return Ae}waitForCdnTuneIn(r){return r.live&&r.canBlockReload&&r.partTarget&&r.tuneInGoal>Math.max(r.partHoldBack,3*r.partTarget)}setStartPosition(r,l){let _=this.startPosition;if(_<l&&(_=-1),-1===_||-1===this.lastCurrentTime){const M=null!==this.startTimeOffset,k=M?this.startTimeOffset:r.startTimeOffset;null!==k&&p(k)?(_=l+k,k<0&&(_+=r.totalduration),_=Math.min(Math.max(l,_),l+r.totalduration),this.log(`Start time offset ${k} found in ${M?"multivariant":"media"} playlist, adjust startPosition to ${_}`),this.startPosition=_):r.live?_=this.hls.liveSyncPosition||l:this.startPosition=_=0,this.lastCurrentTime=_}this.nextLoadPosition=_}getLoadPosition(){const{media:r}=this;let l=0;return this.loadedmetadata&&r?l=r.currentTime:this.nextLoadPosition&&(l=this.nextLoadPosition),l}handleFragLoadAborted(r,l){this.transmuxer&&"initSegment"!==r.sn&&r.stats.aborted&&(this.warn(`Fragment ${r.sn}${l?" part "+l.index:""} of level ${r.level} was aborted`),this.resetFragmentLoading(r))}resetFragmentLoading(r){(!this.fragCurrent||!this.fragContextChanged(r)&&"FRAG_LOADING_WAITING_RETRY"!==this.state)&&(this.state="IDLE")}onFragmentOrKeyLoadError(r,l){if(l.chunkMeta&&!l.frag){const pt=this.getCurrentContext(l.chunkMeta);pt&&(l.frag=pt.frag)}const _=l.frag;if(!_||_.type!==r||!this.levels)return;var M;if(this.fragContextChanged(_))return void this.warn(`Frag load error must match current frag to retry ${_.url} > ${null==(M=this.fragCurrent)?void 0:M.url}`);const k=l.details===x.FRAG_GAP;k&&this.fragmentTracker.fragBuffered(_,!0);const H=l.errorAction,{action:te,retryCount:Ae=0,retryConfig:Pe}=H||{};if(H&&5===te&&Pe){var dt;this.resetStartWhenNotLoaded(null!=(dt=this.levelLastLoaded)?dt:_.level);const pt=ss(Pe,Ae);this.warn(`Fragment ${_.sn} of ${r} ${_.level} errored with ${l.details}, retrying loading ${Ae+1}/${Pe.maxNumRetry} in ${pt}ms`),H.resolved=!0,this.retryDate=self.performance.now()+pt,this.state="FRAG_LOADING_WAITING_RETRY"}else Pe&&H?(this.resetFragmentErrors(r),Ae<Pe.maxNumRetry?k||(H.resolved=!0):b.warn(`${l.details} reached or exceeded max retry (${Ae})`)):this.state=2===H?.action?"WAITING_LEVEL":"ERROR";this.tickImmediate()}reduceLengthAndFlushBuffer(r){if("PARSING"===this.state||"PARSED"===this.state){const l=r.parent,_=this.getFwdBufferInfo(this.mediaBuffer,l),M=_&&_.len>.5;M&&this.reduceMaxBufferLength(_.len);const k=!M;return k&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${l} buffer`),r.frag&&(this.fragmentTracker.removeFragment(r.frag),this.nextLoadPosition=r.frag.start),this.resetLoadingState(),k}return!1}resetFragmentErrors(r){"audio"===r&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),"STOPPED"!==this.state&&(this.state="IDLE")}afterBufferFlushed(r,l,_){if(!r)return;const M=Fr.getBuffered(r);this.fragmentTracker.detectEvictedFragments(l,M,_),"ENDED"===this.state&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state="IDLE"}resetStartWhenNotLoaded(r){if(!this.loadedmetadata){this.startFragRequested=!1;const l=this.levels?this.levels[r].details:null;null!=l&&l.live?(this.startPosition=-1,this.setStartPosition(l,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(r){var l;this.warn(`The loading context changed while buffering fragment ${r.sn} of level ${r.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(null!=(l=this.levelLastLoaded)?l:r.level),this.resetLoadingState()}removeUnbufferedFrags(r=0){this.fragmentTracker.removeFragmentsInRange(r,1/0,this.playlistType,!1,!0)}updateLevelTiming(r,l,_,M){var k;const H=_.details;if(H){if(Object.keys(r.elementaryStreams).reduce((Ae,Pe)=>{const dt=r.elementaryStreams[Pe];if(dt){const pt=dt.endPTS-dt.startPTS;if(pt<=0)return this.warn(`Could not parse fragment ${r.sn} ${Pe} duration reliably (${pt})`),Ae||!1;const Ut=M?0:hi(H,r,dt.startPTS,dt.endPTS,dt.startDTS,dt.endDTS);return this.hls.trigger(C.LEVEL_PTS_UPDATED,{details:H,level:_,drift:Ut,type:Pe,frag:r,start:dt.startPTS,end:dt.endPTS}),!0}return Ae},!1))_.fragmentError=0;else if(null===(null==(k=this.transmuxer)?void 0:k.error)){const Ae=new Error(`Found no media in fragment ${r.sn} of level ${r.level} resetting transmuxer to fallback to playlist timing`);if(0===_.fragmentError&&(_.fragmentError++,r.gap=!0,this.fragmentTracker.removeFragment(r),this.fragmentTracker.fragBuffered(r,!0)),this.warn(Ae.message),this.hls.trigger(C.ERROR,{type:A.MEDIA_ERROR,details:x.FRAG_PARSING_ERROR,fatal:!1,error:Ae,frag:r,reason:`Found no media in msn ${r.sn} of level "${_.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state="PARSED",this.hls.trigger(C.FRAG_PARSED,{frag:r,part:l})}else this.warn("level.details undefined")}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(r){var l,_,M;"demuxerWorker"===r.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(null!=(l=null!=(_=this.levelLastLoaded)?_:null==(M=this.fragCurrent)?void 0:M.level)?l:0),this.resetLoadingState())}set state(r){const l=this._state;l!==r&&(this._state=r,this.log(`${l}->${r}`))}get state(){return this._state}}function qr(){return self.SourceBuffer||self.WebKitSourceBuffer}function us(V="",r=9e4){return{type:V,id:-1,pid:-1,inputTimeScale:r,sequenceNumber:-1,samples:[],dropped:0}}class dl{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(r,l,_,M){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(r){this.initPTS=r,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(r,l){return!1}appendFrame(r,l,_){}demux(r,l){this.cachedData&&(r=En(this.cachedData,r),this.cachedData=null);let k,_=ne(r,0),M=_?_.length:0;const H=this._audioTrack,te=this._id3Track,Ae=_?(V=>{const r=Ee(V);for(let l=0;l<r.length;l++){const _=r[l];if(ge(_))return gt(_)}})(_):void 0,Pe=r.length;for((null===this.basePTS||0===this.frameIndex&&p(Ae))&&(this.basePTS=Ol(Ae,l,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),_&&_.length>0&&te.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:_,type:"org.id3",duration:Number.POSITIVE_INFINITY});M<Pe;){if(this.canParse(r,M)){const dt=this.appendFrame(H,r,M);dt?(this.frameIndex++,this.lastPTS=dt.sample.pts,M+=dt.length,k=M):M=Pe}else re(r,M)?(_=ne(r,M),te.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:_,type:"org.id3",duration:Number.POSITIVE_INFINITY}),M+=_.length,k=M):M++;if(M===Pe&&k!==Pe){const dt=q(r,k);this.cachedData=this.cachedData?En(this.cachedData,dt):dt}}return{audioTrack:H,videoTrack:us(),id3Track:te,textTrack:us()}}demuxSampleAes(r,l,_){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(r){const l=this.cachedData;return l&&(this.cachedData=null,this.demux(l,0)),{audioTrack:this._audioTrack,videoTrack:us(),id3Track:this._id3Track,textTrack:us()}}destroy(){}}const Ol=(V,r,l)=>p(V)?90*V:9e4*r+(l?9e4*l.baseTime/l.timescale:0);function ul(V,r){return 255===V[r]&&240==(246&V[r+1])}function Ia(V,r){return 1&V[r+1]?7:9}function wo(V,r){return(3&V[r+3])<<11|V[r+4]<<3|(224&V[r+5])>>>5}function wa(V,r){return r+1<V.length&&ul(V,r)}function Va(V,r){if(wa(V,r)){const l=Ia(V,r);if(r+l>=V.length)return!1;const _=wo(V,r);if(_<=l)return!1;const M=r+_;return M===V.length||wa(V,M)}return!1}function Pl(V,r,l,_,M){if(!V.samplerate){const k=function ma(V,r,l,_){let M,k,H,te;const Ae=navigator.userAgent.toLowerCase(),Pe=_,dt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];M=1+((192&r[l+2])>>>6);const pt=(60&r[l+2])>>>2;if(!(pt>dt.length-1))return H=(1&r[l+2])<<2,H|=(192&r[l+3])>>>6,b.log(`manifest codec:${_}, ADTS type:${M}, samplingIndex:${pt}`),/firefox/i.test(Ae)?pt>=6?(M=5,te=new Array(4),k=pt-3):(M=2,te=new Array(2),k=pt):-1!==Ae.indexOf("android")?(M=2,te=new Array(2),k=pt):(M=5,te=new Array(4),_&&(-1!==_.indexOf("mp4a.40.29")||-1!==_.indexOf("mp4a.40.5"))||!_&&pt>=6?k=pt-3:((_&&-1!==_.indexOf("mp4a.40.2")&&(pt>=6&&1===H||/vivaldi/i.test(Ae))||!_&&1===H)&&(M=2,te=new Array(2)),k=pt)),te[0]=M<<3,te[0]|=(14&pt)>>1,te[1]|=(1&pt)<<7,te[1]|=H<<3,5===M&&(te[1]|=(14&k)>>1,te[2]=(1&k)<<7,te[2]|=8,te[3]=0),{config:te,samplerate:dt[pt],channelCount:H,codec:"mp4a.40."+M,manifestCodec:Pe};V.trigger(C.ERROR,{type:A.MEDIA_ERROR,details:x.FRAG_PARSING_ERROR,fatal:!0,reason:`invalid ADTS sampling index:${pt}`})}(r,l,_,M);if(!k)return;V.config=k.config,V.samplerate=k.samplerate,V.channelCount=k.channelCount,V.codec=k.codec,V.manifestCodec=k.manifestCodec,b.log(`parsed codec:${V.codec}, rate:${k.samplerate}, channels:${k.channelCount}`)}}function pa(V){return 9216e4/V}function ga(V,r,l,_,M){const H=_+M*pa(V.samplerate),te=function fl(V,r){const l=Ia(V,r);if(r+l<=V.length){const _=wo(V,r)-l;if(_>0)return{headerLength:l,frameLength:_}}}(r,l);let Ae;if(te){const{frameLength:pt,headerLength:Ut}=te,jt=Ut+pt,qt=Math.max(0,l+jt-r.length);qt?(Ae=new Uint8Array(jt-Ut),Ae.set(r.subarray(l+Ut,r.length),0)):Ae=r.subarray(l+Ut,l+jt);const cn={unit:Ae,pts:H};return qt||V.samples.push(cn),{sample:cn,length:jt,missing:qt}}const Pe=r.length-l;return Ae=new Uint8Array(Pe),Ae.set(r.subarray(l,r.length),0),{sample:{unit:Ae,pts:H},length:Pe,missing:-1}}const ml=/\/emsg[-/]ID3/i;let _a=null;const tl=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],pl=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Rl=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Es=[0,1,1,4];function Oa(V,r,l,_,M){if(l+24>r.length)return;const k=Ts(r,l);if(k&&l+k.frameLength<=r.length){const te=_+M*(9e4*k.samplesPerFrame/k.sampleRate),Ae={unit:r.subarray(l,l+k.frameLength),pts:te,dts:te};return V.config=[],V.channelCount=k.channelCount,V.samplerate=k.sampleRate,V.samples.push(Ae),{sample:Ae,length:k.frameLength,missing:0}}}function Ts(V,r){const l=V[r+1]>>3&3,_=V[r+1]>>1&3,M=V[r+2]>>4&15,k=V[r+2]>>2&3;if(1!==l&&0!==M&&15!==M&&3!==k){const te=V[r+3]>>6,Pe=1e3*tl[14*(3===l?3-_:3===_?3:4)+M-1],pt=pl[3*(3===l?0:2===l?1:2)+k],Ut=3===te?1:2,jt=Rl[l][_],qt=Es[_],cn=8*jt*qt,bn=Math.floor(jt*Pe/pt+(V[r+2]>>1&1))*qt;if(null===_a){const Zn=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);_a=Zn?parseInt(Zn[1]):0}return!!_a&&_a<=87&&2===_&&Pe>=224e3&&0===te&&(V[r+3]=128|V[r+3]),{sampleRate:pt,channelCount:Ut,frameLength:bn,samplesPerFrame:cn}}}function nr(V,r){return 255===V[r]&&224==(224&V[r+1])&&0!=(6&V[r+1])}function Ka(V,r){return r+1<V.length&&nr(V,r)}function Yt(V,r){if(r+1<V.length&&nr(V,r)){const _=Ts(V,r);let M=4;null!=_&&_.frameLength&&(M=_.frameLength);const k=r+M;return k===V.length||Ka(V,k)}return!1}class mt{constructor(r){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=r,this.bytesAvailable=r.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const r=this.data,l=this.bytesAvailable,_=r.byteLength-l,M=new Uint8Array(4),k=Math.min(4,l);if(0===k)throw new Error("no bytes available");M.set(r.subarray(_,_+k)),this.word=new DataView(M.buffer).getUint32(0),this.bitsAvailable=8*k,this.bytesAvailable-=k}skipBits(r){let l;r=Math.min(r,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>r?(this.word<<=r,this.bitsAvailable-=r):(l=(r-=this.bitsAvailable)>>3,r-=l<<3,this.bytesAvailable-=l,this.loadWord(),this.word<<=r,this.bitsAvailable-=r)}readBits(r){let l=Math.min(this.bitsAvailable,r);const _=this.word>>>32-l;if(r>32&&b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=l,this.bitsAvailable>0)this.word<<=l;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return l=r-l,l>0&&this.bitsAvailable?_<<l|this.readBits(l):_}skipLZ(){let r;for(r=0;r<this.bitsAvailable;++r)if(this.word&2147483648>>>r)return this.word<<=r,this.bitsAvailable-=r,r;return this.loadWord(),r+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const r=this.skipLZ();return this.readBits(r+1)-1}readEG(){const r=this.readUEG();return 1&r?1+r>>>1:-1*(r>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(r){let M,l=8,_=8;for(let k=0;k<r;k++)0!==_&&(M=this.readEG(),_=(l+M+256)%256),l=0===_?l:_}readSPS(){let k,H,te,r=0,l=0,_=0,M=0;const Ae=this.readUByte.bind(this),Pe=this.readBits.bind(this),dt=this.readUEG.bind(this),pt=this.readBoolean.bind(this),Ut=this.skipBits.bind(this),jt=this.skipEG.bind(this),qt=this.skipUEG.bind(this),cn=this.skipScalingList.bind(this);Ae();const bn=Ae();if(Pe(5),Ut(3),Ae(),qt(),100===bn||110===bn||122===bn||244===bn||44===bn||83===bn||86===bn||118===bn||128===bn){const Ai=dt();if(3===Ai&&Ut(1),qt(),qt(),Ut(1),pt())for(H=3!==Ai?8:12,te=0;te<H;te++)pt()&&cn(te<6?16:64)}qt();const Bn=dt();if(0===Bn)dt();else if(1===Bn)for(Ut(1),jt(),jt(),k=dt(),te=0;te<k;te++)jt();qt(),Ut(1);const ei=dt(),Zn=dt(),di=Pe(1);0===di&&Ut(1),Ut(1),pt()&&(r=dt(),l=dt(),_=dt(),M=dt());let oi=[1,1];if(pt()&&pt())switch(Ae()){case 1:oi=[1,1];break;case 2:oi=[12,11];break;case 3:oi=[10,11];break;case 4:oi=[16,11];break;case 5:oi=[40,33];break;case 6:oi=[24,11];break;case 7:oi=[20,11];break;case 8:oi=[32,11];break;case 9:oi=[80,33];break;case 10:oi=[18,11];break;case 11:oi=[15,11];break;case 12:oi=[64,33];break;case 13:oi=[160,99];break;case 14:oi=[4,3];break;case 15:oi=[3,2];break;case 16:oi=[2,1];break;case 255:oi=[Ae()<<8|Ae(),Ae()<<8|Ae()]}return{width:Math.ceil(16*(ei+1)-2*r-2*l),height:(2-di)*(Zn+1)*16-(di?2:4)*(_+M),pixelRatio:oi}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class Vt{constructor(r,l,_){this.keyData=void 0,this.decrypter=void 0,this.keyData=_,this.decrypter=new ts(l,{removePKCS7Padding:!1})}decryptBuffer(r){return this.decrypter.decrypt(r,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(r,l,_){const M=r[l].unit;if(M.length<=16)return;const k=M.subarray(16,M.length-M.length%16),H=k.buffer.slice(k.byteOffset,k.byteOffset+k.length);this.decryptBuffer(H).then(te=>{const Ae=new Uint8Array(te);M.set(Ae,16),this.decrypter.isSync()||this.decryptAacSamples(r,l+1,_)})}decryptAacSamples(r,l,_){for(;;l++){if(l>=r.length)return void _();if(!(r[l].unit.length<32||(this.decryptAacSample(r,l,_),this.decrypter.isSync())))return}}getAvcEncryptedData(r){const l=16*Math.floor((r.length-48)/160)+16,_=new Int8Array(l);let M=0;for(let k=32;k<r.length-16;k+=160,M+=16)_.set(r.subarray(k,k+16),M);return _}getAvcDecryptedUnit(r,l){const _=new Uint8Array(l);let M=0;for(let k=32;k<r.length-16;k+=160,M+=16)r.set(_.subarray(M,M+16),k);return r}decryptAvcSample(r,l,_,M,k){const H=$n(k.data),te=this.getAvcEncryptedData(H);this.decryptBuffer(te.buffer).then(Ae=>{k.data=this.getAvcDecryptedUnit(H,Ae),this.decrypter.isSync()||this.decryptAvcSamples(r,l,_+1,M)})}decryptAvcSamples(r,l,_,M){if(r instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;l++,_=0){if(l>=r.length)return void M();const k=r[l].units;for(;!(_>=k.length);_++){const H=k[_];if(!(H.data.length<=48||1!==H.type&&5!==H.type||(this.decryptAvcSample(r,l,_,M,H),this.decrypter.isSync())))return}}}}const Cn=188;class zn{constructor(r,l,_){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=r,this.config=l,this.typeSupported=_}static probe(r){const l=zn.syncOffset(r);return l>0&&b.warn(`MPEG2-TS detected but first sync word found @ offset ${l}`),-1!==l}static syncOffset(r){const l=r.length;let _=Math.min(940,r.length-Cn)+1,M=0;for(;M<_;){let k=!1,H=-1,te=0;for(let Ae=M;Ae<l;Ae+=Cn){if(71!==r[Ae]){if(te)return-1;break}if(te++,-1===H&&(H=Ae,0!==H&&(_=Math.min(H+18612,r.length-Cn)+1)),k||(k=0===Fi(r,Ae)),k&&te>1&&(0===H&&te>2||Ae+Cn>_))return H}M++}return-1}static createTrack(r,l){return{container:"video"===r||"audio"===r?"video/mp2t":void 0,type:r,id:Kt[r],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===r?l:void 0}}resetInitSegment(r,l,_,M){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=zn.createTrack("video"),this._audioTrack=zn.createTrack("audio",M),this._id3Track=zn.createTrack("id3"),this._txtTrack=zn.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=l,this.videoCodec=_,this._duration=M}resetTimeStamp(){}resetContiguity(){const{_audioTrack:r,_avcTrack:l,_id3Track:_}=this;r&&(r.pesData=null),l&&(l.pesData=null),_&&(_.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null}demux(r,l,_=!1,M=!1){let k;_||(this.sampleAes=null);const H=this._avcTrack,te=this._audioTrack,Ae=this._id3Track,Pe=this._txtTrack;let dt=H.pid,pt=H.pesData,Ut=te.pid,jt=Ae.pid,qt=te.pesData,cn=Ae.pesData,bn=null,Bn=this.pmtParsed,ei=this._pmtId,Zn=r.length;if(this.remainderData&&(Zn=(r=En(this.remainderData,r)).length,this.remainderData=null),Zn<Cn&&!M)return this.remainderData=r,{audioTrack:te,videoTrack:H,id3Track:Ae,textTrack:Pe};const di=Math.max(0,zn.syncOffset(r));Zn-=(Zn-di)%Cn,Zn<r.byteLength&&!M&&(this.remainderData=new Uint8Array(r.buffer,Zn,r.buffer.byteLength-Zn));let oi=0;for(let gi=di;gi<Zn;gi+=Cn)if(71===r[gi]){const Mi=!!(64&r[gi+1]),Pi=Fi(r,gi);let ji;if((48&r[gi+3])>>4>1){if(ji=gi+5+r[gi+4],ji===gi+Cn)continue}else ji=gi+4;switch(Pi){case dt:Mi&&(pt&&(k=dr(pt))&&this.parseAVCPES(H,Pe,k,!1),pt={data:[],size:0}),pt&&(pt.data.push(r.subarray(ji,gi+Cn)),pt.size+=gi+Cn-ji);break;case Ut:if(Mi){if(qt&&(k=dr(qt)))switch(te.segmentCodec){case"aac":this.parseAACPES(te,k);break;case"mp3":this.parseMPEGPES(te,k)}qt={data:[],size:0}}qt&&(qt.data.push(r.subarray(ji,gi+Cn)),qt.size+=gi+Cn-ji);break;case jt:Mi&&(cn&&(k=dr(cn))&&this.parseID3PES(Ae,k),cn={data:[],size:0}),cn&&(cn.data.push(r.subarray(ji,gi+Cn)),cn.size+=gi+Cn-ji);break;case 0:Mi&&(ji+=r[ji]+1),ei=this._pmtId=Rr(r,ji);break;case ei:{Mi&&(ji+=r[ji]+1);const Hi=gr(r,ji,this.typeSupported,_);dt=Hi.avc,dt>0&&(H.pid=dt),Ut=Hi.audio,Ut>0&&(te.pid=Ut,te.segmentCodec=Hi.segmentCodec),jt=Hi.id3,jt>0&&(Ae.pid=jt),null!==bn&&!Bn&&(b.warn(`MPEG-TS PMT found at ${gi} after unknown PID '${bn}'. Backtracking to sync byte @${di} to parse all TS packets.`),bn=null,gi=di-188),Bn=this.pmtParsed=!0;break}case 17:case 8191:break;default:bn=Pi}}else oi++;if(oi>0){const gi=new Error(`Found ${oi} TS packet/s that do not start with 0x47`);this.observer.emit(C.ERROR,C.ERROR,{type:A.MEDIA_ERROR,details:x.FRAG_PARSING_ERROR,fatal:!1,error:gi,reason:gi.message})}H.pesData=pt,te.pesData=qt,Ae.pesData=cn;const Ai={audioTrack:te,videoTrack:H,id3Track:Ae,textTrack:Pe};return M&&this.extractRemainingSamples(Ai),Ai}flush(){const{remainderData:r}=this;let l;return this.remainderData=null,l=r?this.demux(r,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(l),this.sampleAes?this.decrypt(l,this.sampleAes):l}extractRemainingSamples(r){const{audioTrack:l,videoTrack:_,id3Track:M,textTrack:k}=r,H=_.pesData,te=l.pesData,Ae=M.pesData;let Pe;if(H&&(Pe=dr(H))?(this.parseAVCPES(_,k,Pe,!0),_.pesData=null):_.pesData=H,te&&(Pe=dr(te))){switch(l.segmentCodec){case"aac":this.parseAACPES(l,Pe);break;case"mp3":this.parseMPEGPES(l,Pe)}l.pesData=null}else null!=te&&te.size&&b.log("last AAC PES packet truncated,might overlap between fragments"),l.pesData=te;Ae&&(Pe=dr(Ae))?(this.parseID3PES(M,Pe),M.pesData=null):M.pesData=Ae}demuxSampleAes(r,l,_){const M=this.demux(r,_,!0,!this.config.progressive),k=this.sampleAes=new Vt(this.observer,this.config,l);return this.decrypt(M,k)}decrypt(r,l){return new Promise(_=>{const{audioTrack:M,videoTrack:k}=r;M.samples&&"aac"===M.segmentCodec?l.decryptAacSamples(M.samples,0,()=>{k.samples?l.decryptAvcSamples(k.samples,0,0,()=>{_(r)}):_(r)}):k.samples&&l.decryptAvcSamples(k.samples,0,0,()=>{_(r)})})}destroy(){this._duration=0}parseAVCPES(r,l,_,M){const k=this.parseAVCNALu(r,_.data);let te,H=this.avcSample,Ae=!1;_.data=null,H&&k.length&&!r.audFound&&(er(H,r),H=this.avcSample=ai(!1,_.pts,_.dts,"")),k.forEach(Pe=>{var dt;switch(Pe.type){case 1:{let Ut=!1;te=!0;const jt=Pe.data;if(Ae&&jt.length>4){const qt=new mt(jt).readSliceType();(2===qt||4===qt||7===qt||9===qt)&&(Ut=!0)}var pt;Ut&&null!=(pt=H)&&pt.frame&&!H.key&&(er(H,r),H=this.avcSample=null),H||(H=this.avcSample=ai(!0,_.pts,_.dts,"")),H.frame=!0,H.key=Ut;break}case 5:te=!0,null!=(dt=H)&&dt.frame&&!H.key&&(er(H,r),H=this.avcSample=null),H||(H=this.avcSample=ai(!0,_.pts,_.dts,"")),H.key=!0,H.frame=!0;break;case 6:te=!0,Nn(Pe.data,1,_.pts,l.samples);break;case 7:if(te=!0,Ae=!0,!r.sps){const Ut=Pe.data,qt=new mt(Ut).readSPS();r.width=qt.width,r.height=qt.height,r.pixelRatio=qt.pixelRatio,r.sps=[Ut],r.duration=this._duration;const cn=Ut.subarray(1,4);let bn="avc1.";for(let Bn=0;Bn<3;Bn++){let ei=cn[Bn].toString(16);ei.length<2&&(ei="0"+ei),bn+=ei}r.codec=bn}break;case 8:te=!0,r.pps||(r.pps=[Pe.data]);break;case 9:te=!1,r.audFound=!0,H&&er(H,r),H=this.avcSample=ai(!1,_.pts,_.dts,"");break;case 12:te=!0;break;default:te=!1,H&&(H.debug+="unknown NAL "+Pe.type+" ")}H&&te&&H.units.push(Pe)}),M&&H&&(er(H,r),this.avcSample=null)}getLastNalUnit(r){var l;let M,_=this.avcSample;if((!_||0===_.units.length)&&(_=r[r.length-1]),null!=(l=_)&&l.units){const k=_.units;M=k[k.length-1]}return M}parseAVCNALu(r,l){const _=l.byteLength;let M=r.naluState||0;const k=M,H=[];let Ae,Pe,dt,te=0,pt=-1,Ut=0;for(-1===M&&(pt=0,Ut=31&l[0],M=0,te=1);te<_;)if(Ae=l[te++],M)if(1!==M)if(Ae)if(1===Ae){if(pt>=0){const jt={data:l.subarray(pt,te-M-1),type:Ut};H.push(jt)}else{const jt=this.getLastNalUnit(r.samples);if(jt&&(k&&te<=4-k&&jt.state&&(jt.data=jt.data.subarray(0,jt.data.byteLength-k)),Pe=te-M-1,Pe>0)){const qt=new Uint8Array(jt.data.byteLength+Pe);qt.set(jt.data,0),qt.set(l.subarray(0,Pe),jt.data.byteLength),jt.data=qt,jt.state=0}}te<_?(dt=31&l[te],pt=te,Ut=dt,M=0):M=-1}else M=0;else M=3;else M=Ae?0:2;else M=Ae?0:1;if(pt>=0&&M>=0){const jt={data:l.subarray(pt,_),type:Ut,state:M};H.push(jt)}if(0===H.length){const jt=this.getLastNalUnit(r.samples);if(jt){const qt=new Uint8Array(jt.data.byteLength+l.byteLength);qt.set(jt.data,0),qt.set(l,jt.data.byteLength),jt.data=qt}}return r.naluState=M,H}parseAACPES(r,l){let _=0;const M=this.aacOverFlow;let H,te,Ae,k=l.data;if(M){this.aacOverFlow=null;const pt=M.missing,Ut=M.sample.unit.byteLength;if(-1===pt){const jt=new Uint8Array(Ut+k.byteLength);jt.set(M.sample.unit,0),jt.set(k,Ut),k=jt}else{const jt=Ut-pt;M.sample.unit.set(k.subarray(0,pt),jt),r.samples.push(M.sample),_=M.missing}}for(H=_,te=k.length;H<te-1&&!wa(k,H);H++);if(H!==_){let pt;const Ut=H<te-1;pt=Ut?`AAC PES did not start with ADTS header,offset:${H}`:"No ADTS header found in AAC PES";const jt=new Error(pt);if(b.warn(`parsing error: ${pt}`),this.observer.emit(C.ERROR,C.ERROR,{type:A.MEDIA_ERROR,details:x.FRAG_PARSING_ERROR,fatal:!1,levelRetry:Ut,error:jt,reason:pt}),!Ut)return}if(Pl(r,this.observer,k,H,this.audioCodec),void 0!==l.pts)Ae=l.pts;else{if(!M)return void b.warn("[tsdemuxer]: AAC PES unknown PTS");{const pt=pa(r.samplerate);Ae=M.sample.pts+pt}}let dt,Pe=0;for(;H<te;){if(dt=ga(r,k,H,Ae,Pe),H+=dt.length,dt.missing){this.aacOverFlow=dt;break}for(Pe++;H<te-1&&!wa(k,H);H++);}}parseMPEGPES(r,l){const _=l.data,M=_.length;let k=0,H=0;const te=l.pts;if(void 0!==te)for(;H<M;)if(Ka(_,H)){const Ae=Oa(r,_,H,te,k);if(!Ae)break;H+=Ae.length,k++}else H++;else b.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseID3PES(r,l){if(void 0===l.pts)return void b.warn("[tsdemuxer]: ID3 PES unknown PTS");const _=c({},l,{type:this._avcTrack?xr_emsg:"org.id3",duration:Number.POSITIVE_INFINITY});r.samples.push(_)}}function ai(V,r,l,_){return{key:V,frame:!1,pts:r,dts:l,units:[],debug:_,length:0}}function Fi(V,r){return((31&V[r+1])<<8)+V[r+2]}function Rr(V,r){return(31&V[r+10])<<8|V[r+11]}function gr(V,r,l,_){const M={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},H=r+3+((15&V[r+1])<<8|V[r+2])-4;for(r+=12+((15&V[r+10])<<8|V[r+11]);r<H;){const Ae=Fi(V,r);switch(V[r]){case 207:if(!_){b.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===M.audio&&(M.audio=Ae);break;case 21:-1===M.id3&&(M.id3=Ae);break;case 219:if(!_){b.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===M.avc&&(M.avc=Ae);break;case 3:case 4:!0!==l.mpeg&&!0!==l.mp3?b.log("MPEG audio found, not supported in this browser"):-1===M.audio&&(M.audio=Ae,M.segmentCodec="mp3");break;case 36:b.warn("Unsupported HEVC stream type found")}r+=5+((15&V[r+3])<<8|V[r+4])}return M}function dr(V){let l,_,M,k,H,r=0;const te=V.data;if(!V||0===V.size)return null;for(;te[0].length<19&&te.length>1;){const Pe=new Uint8Array(te[0].length+te[1].length);Pe.set(te[0]),Pe.set(te[1],te[0].length),te[0]=Pe,te.splice(1,1)}if(l=te[0],(l[0]<<16)+(l[1]<<8)+l[2]===1){if(_=(l[4]<<8)+l[5],_&&_>V.size-6)return null;const Pe=l[7];192&Pe&&(k=536870912*(14&l[9])+4194304*(255&l[10])+16384*(254&l[11])+128*(255&l[12])+(254&l[13])/2,64&Pe?(H=536870912*(14&l[14])+4194304*(255&l[15])+16384*(254&l[16])+128*(255&l[17])+(254&l[18])/2,k-H>54e5&&(b.warn(`${Math.round((k-H)/9e4)}s delta between PTS and DTS, align them`),k=H)):H=k),M=l[8];let dt=M+9;if(V.size<=dt)return null;V.size-=dt;const pt=new Uint8Array(V.size);for(let Ut=0,jt=te.length;Ut<jt;Ut++){l=te[Ut];let qt=l.byteLength;if(dt){if(dt>qt){dt-=qt;continue}l=l.subarray(dt),qt-=dt,dt=0}pt.set(l,r),r+=qt}return _&&(_-=M+3),{data:pt,pts:k,dts:H,len:_}}return null}function er(V,r){if(V.units.length&&V.frame){if(void 0===V.pts){const l=r.samples,_=l.length;if(!_)return void r.dropped++;{const M=l[_-1];V.pts=M.pts,V.dts=M.dts}}r.samples.push(V)}V.debug.length&&b.log(V.pts+"/"+V.dts+":"+V.debug)}class Nr{static getSilentFrame(r,l){if("mp4a.40.2"===r){if(1===l)return new Uint8Array([0,200,0,128,35,128]);if(2===l)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===l)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===l)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===l)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===l)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===l)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===l)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===l)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const _r=Math.pow(2,32)-1;let ns=(()=>{class V{static init(){let l;for(l in V.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},V.types)V.types.hasOwnProperty(l)&&(V.types[l]=[l.charCodeAt(0),l.charCodeAt(1),l.charCodeAt(2),l.charCodeAt(3)]);const _=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),M=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);V.HDLR_TYPES={video:_,audio:M};const k=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),H=new Uint8Array([0,0,0,0,0,0,0,0]);V.STTS=V.STSC=V.STCO=H,V.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),V.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),V.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),V.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const te=new Uint8Array([105,115,111,109]),Ae=new Uint8Array([97,118,99,49]),Pe=new Uint8Array([0,0,0,1]);V.FTYP=V.box(V.types.ftyp,te,Pe,te,Ae),V.DINF=V.box(V.types.dinf,V.box(V.types.dref,k))}static box(l,..._){let M=8,k=_.length;const H=k;for(;k--;)M+=_[k].byteLength;const te=new Uint8Array(M);for(te[0]=M>>24&255,te[1]=M>>16&255,te[2]=M>>8&255,te[3]=255&M,te.set(l,4),k=0,M=8;k<H;k++)te.set(_[k],M),M+=_[k].byteLength;return te}static hdlr(l){return V.box(V.types.hdlr,V.HDLR_TYPES[l])}static mdat(l){return V.box(V.types.mdat,l)}static mdhd(l,_){_*=l;const M=Math.floor(_/(_r+1)),k=Math.floor(_%(_r+1));return V.box(V.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,l>>24&255,l>>16&255,l>>8&255,255&l,M>>24,M>>16&255,M>>8&255,255&M,k>>24,k>>16&255,k>>8&255,255&k,85,196,0,0]))}static mdia(l){return V.box(V.types.mdia,V.mdhd(l.timescale,l.duration),V.hdlr(l.type),V.minf(l))}static mfhd(l){return V.box(V.types.mfhd,new Uint8Array([0,0,0,0,l>>24,l>>16&255,l>>8&255,255&l]))}static minf(l){return V.box(V.types.minf,"audio"===l.type?V.box(V.types.smhd,V.SMHD):V.box(V.types.vmhd,V.VMHD),V.DINF,V.stbl(l))}static moof(l,_,M){return V.box(V.types.moof,V.mfhd(l),V.traf(M,_))}static moov(l){let _=l.length;const M=[];for(;_--;)M[_]=V.trak(l[_]);return V.box.apply(null,[V.types.moov,V.mvhd(l[0].timescale,l[0].duration)].concat(M).concat(V.mvex(l)))}static mvex(l){let _=l.length;const M=[];for(;_--;)M[_]=V.trex(l[_]);return V.box.apply(null,[V.types.mvex,...M])}static mvhd(l,_){_*=l;const M=Math.floor(_/(_r+1)),k=Math.floor(_%(_r+1)),H=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,l>>24&255,l>>16&255,l>>8&255,255&l,M>>24,M>>16&255,M>>8&255,255&M,k>>24,k>>16&255,k>>8&255,255&k,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return V.box(V.types.mvhd,H)}static sdtp(l){const _=l.samples||[],M=new Uint8Array(4+_.length);let k,H;for(k=0;k<_.length;k++)H=_[k].flags,M[k+4]=H.dependsOn<<4|H.isDependedOn<<2|H.hasRedundancy;return V.box(V.types.sdtp,M)}static stbl(l){return V.box(V.types.stbl,V.stsd(l),V.box(V.types.stts,V.STTS),V.box(V.types.stsc,V.STSC),V.box(V.types.stsz,V.STSZ),V.box(V.types.stco,V.STCO))}static avc1(l){let k,H,te,_=[],M=[];for(k=0;k<l.sps.length;k++)H=l.sps[k],te=H.byteLength,_.push(te>>>8&255),_.push(255&te),_=_.concat(Array.prototype.slice.call(H));for(k=0;k<l.pps.length;k++)H=l.pps[k],te=H.byteLength,M.push(te>>>8&255),M.push(255&te),M=M.concat(Array.prototype.slice.call(H));const Ae=V.box(V.types.avcC,new Uint8Array([1,_[3],_[4],_[5],255,224|l.sps.length].concat(_).concat([l.pps.length]).concat(M))),Pe=l.width,dt=l.height,pt=l.pixelRatio[0],Ut=l.pixelRatio[1];return V.box(V.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Pe>>8&255,255&Pe,dt>>8&255,255&dt,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),Ae,V.box(V.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),V.box(V.types.pasp,new Uint8Array([pt>>24,pt>>16&255,pt>>8&255,255&pt,Ut>>24,Ut>>16&255,Ut>>8&255,255&Ut])))}static esds(l){const _=l.config.length;return new Uint8Array([0,0,0,0,3,23+_,0,1,0,4,15+_,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([_]).concat(l.config).concat([6,1,2]))}static mp4a(l){const _=l.samplerate;return V.box(V.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,l.channelCount,0,16,0,0,0,0,_>>8&255,255&_,0,0]),V.box(V.types.esds,V.esds(l)))}static mp3(l){const _=l.samplerate;return V.box(V.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,l.channelCount,0,16,0,0,0,0,_>>8&255,255&_,0,0]))}static stsd(l){return V.box(V.types.stsd,V.STSD,"audio"===l.type?"mp3"===l.segmentCodec&&"mp3"===l.codec?V.mp3(l):V.mp4a(l):V.avc1(l))}static tkhd(l){const _=l.id,M=l.duration*l.timescale,k=l.width,H=l.height,te=Math.floor(M/(_r+1)),Ae=Math.floor(M%(_r+1));return V.box(V.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,_>>24&255,_>>16&255,_>>8&255,255&_,0,0,0,0,te>>24,te>>16&255,te>>8&255,255&te,Ae>>24,Ae>>16&255,Ae>>8&255,255&Ae,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,k>>8&255,255&k,0,0,H>>8&255,255&H,0,0]))}static traf(l,_){const M=V.sdtp(l),k=l.id,H=Math.floor(_/(_r+1)),te=Math.floor(_%(_r+1));return V.box(V.types.traf,V.box(V.types.tfhd,new Uint8Array([0,0,0,0,k>>24,k>>16&255,k>>8&255,255&k])),V.box(V.types.tfdt,new Uint8Array([1,0,0,0,H>>24,H>>16&255,H>>8&255,255&H,te>>24,te>>16&255,te>>8&255,255&te])),V.trun(l,M.length+16+20+8+16+8+8),M)}static trak(l){return l.duration=l.duration||4294967295,V.box(V.types.trak,V.tkhd(l),V.mdia(l))}static trex(l){const _=l.id;return V.box(V.types.trex,new Uint8Array([0,0,0,0,_>>24,_>>16&255,_>>8&255,255&_,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(l,_){const M=l.samples||[],k=M.length,H=12+16*k,te=new Uint8Array(H);let Ae,Pe,dt,pt,Ut,jt;for(te.set(["video"===l.type?1:0,0,15,1,k>>>24&255,k>>>16&255,k>>>8&255,255&k,(_+=8+H)>>>24&255,_>>>16&255,_>>>8&255,255&_],0),Ae=0;Ae<k;Ae++)Pe=M[Ae],dt=Pe.duration,pt=Pe.size,Ut=Pe.flags,jt=Pe.cts,te.set([dt>>>24&255,dt>>>16&255,dt>>>8&255,255&dt,pt>>>24&255,pt>>>16&255,pt>>>8&255,255&pt,Ut.isLeading<<2|Ut.dependsOn,Ut.isDependedOn<<6|Ut.hasRedundancy<<4|Ut.paddingValue<<1|Ut.isNonSync,61440&Ut.degradPrio,15&Ut.degradPrio,jt>>>24&255,jt>>>16&255,jt>>>8&255,255&jt],12+16*Ae);return V.box(V.types.trun,te)}static initSegment(l){V.types||V.init();const _=V.moov(l),M=new Uint8Array(V.FTYP.byteLength+_.byteLength);return M.set(V.FTYP),M.set(_,V.FTYP.byteLength),M}}return V.types=void 0,V.HDLR_TYPES=void 0,V.STTS=void 0,V.STSC=void 0,V.STCO=void 0,V.STSZ=void 0,V.VMHD=void 0,V.SMHD=void 0,V.STSD=void 0,V.FTYP=void 0,V.DINF=void 0,V})();function $r(V,r,l=1,_=!1){const M=V*r*l;return _?Math.round(M):M}function Cs(V,r=!1){return $r(V,1e3,1/9e4,r)}let io,Nl=null,ya=null;class Wa{constructor(r,l,_,M=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=r,this.config=l,this.typeSupported=_,this.ISGenerated=!1,null===Nl){const H=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Nl=H?parseInt(H[1]):0}if(null===ya){const k=navigator.userAgent.match(/Safari\/(\d+)/i);ya=k?parseInt(k[1]):0}}destroy(){}resetTimeStamp(r){b.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=r}resetNextTimestamp(){b.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){b.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1}getVideoStartPts(r){let l=!1;const _=r.reduce((M,k)=>{const H=k.pts-M;return H<-4294967296?(l=!0,Ss(M,k.pts)):H>0?M:k.pts},r[0].pts);return l&&b.debug("PTS rollover detected"),_}remux(r,l,_,M,k,H,te,Ae){let Pe,dt,pt,Ut,jt,qt,cn=k,bn=k;const ei=l.pid>-1,Zn=l.samples.length,di=r.samples.length>0,oi=te&&Zn>0||Zn>1;if((!(r.pid>-1)||di)&&(!ei||oi)||this.ISGenerated||te){this.ISGenerated||(pt=this.generateIS(r,l,k,H));const gi=this.isVideoContiguous;let Pi,Mi=-1;if(oi&&(Mi=function vc(V){for(let r=0;r<V.length;r++)if(V[r].key)return r;return-1}(l.samples),!gi&&this.config.forceKeyFrameOnDiscontinuity))if(qt=!0,Mi>0){b.warn(`[mp4-remuxer]: Dropped ${Mi} out of ${Zn} video samples due to a missing keyframe`);const ui=this.getVideoStartPts(l.samples);l.samples=l.samples.slice(Mi),l.dropped+=Mi,bn+=(l.samples[0].pts-ui)/l.inputTimeScale,Pi=bn}else-1===Mi&&(b.warn(`[mp4-remuxer]: No keyframe found out of ${Zn} video samples`),qt=!1);if(this.ISGenerated){if(di&&oi){const ui=this.getVideoStartPts(l.samples),Hi=(Ss(r.samples[0].pts,ui)-ui)/l.inputTimeScale;cn+=Math.max(0,Hi),bn+=Math.max(0,-Hi)}if(di){if(r.samplerate||(b.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),pt=this.generateIS(r,l,k,H)),dt=this.remuxAudio(r,cn,this.isAudioContiguous,H,ei||oi||"audio"===Ae?bn:void 0),oi){const ui=dt?dt.endPTS-dt.startPTS:0;l.inputTimeScale||(b.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),pt=this.generateIS(r,l,k,H)),Pe=this.remuxVideo(l,bn,gi,ui)}}else oi&&(Pe=this.remuxVideo(l,bn,gi,0));Pe&&(Pe.firstKeyFrame=Mi,Pe.independent=-1!==Mi,Pe.firstKeyFramePTS=Pi)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(_.samples.length&&(jt=ci(_,k,this._initPTS,this._initDTS)),M.samples.length&&(Ut=or(M,k,this._initPTS))),{audio:dt,video:Pe,initSegment:pt,independent:qt,text:Ut,id3:jt}}generateIS(r,l,_,M){const k=r.samples,H=l.samples,te=this.typeSupported,Ae={},Pe=this._initPTS;let Ut,jt,qt,dt=!Pe||M,pt="audio/mp4";if(dt&&(Ut=jt=1/0),r.config&&k.length&&("mp3"===(r.timescale=r.samplerate,r.segmentCodec)&&(te.mpeg?(pt="audio/mpeg",r.codec=""):te.mp3&&(r.codec="mp3")),Ae.audio={id:"audio",container:pt,codec:r.codec,initSegment:"mp3"===r.segmentCodec&&te.mpeg?new Uint8Array(0):ns.initSegment([r]),metadata:{channelCount:r.channelCount}},dt&&(qt=r.inputTimeScale,Pe&&qt===Pe.timescale?dt=!1:Ut=jt=k[0].pts-Math.round(qt*_))),l.sps&&l.pps&&H.length&&(l.timescale=l.inputTimeScale,Ae.video={id:"main",container:"video/mp4",codec:l.codec,initSegment:ns.initSegment([l]),metadata:{width:l.width,height:l.height}},dt))if(qt=l.inputTimeScale,Pe&&qt===Pe.timescale)dt=!1;else{const cn=this.getVideoStartPts(H),bn=Math.round(qt*_);jt=Math.min(jt,Ss(H[0].dts,cn)-bn),Ut=Math.min(Ut,cn-bn)}if(Object.keys(Ae).length)return this.ISGenerated=!0,dt?(this._initPTS={baseTime:Ut,timescale:qt},this._initDTS={baseTime:jt,timescale:qt}):Ut=qt=void 0,{tracks:Ae,initPTS:Ut,timescale:qt}}remuxVideo(r,l,_,M){const k=r.inputTimeScale,H=r.samples,te=[],Ae=H.length,Pe=this._initPTS;let jt,qt,dt=this.nextAvcDts,pt=8,Ut=this.videoSampleDuration,cn=Number.POSITIVE_INFINITY,bn=Number.NEGATIVE_INFINITY,Bn=!1;_&&null!==dt||(dt=l*k-(H[0].pts-Ss(H[0].dts,H[0].pts)));const ei=Pe.baseTime*k/Pe.timescale;for(let Vi=0;Vi<Ae;Vi++){const sr=H[Vi];sr.pts=Ss(sr.pts-ei,dt),sr.dts=Ss(sr.dts-ei,dt),sr.dts<H[Vi>0?Vi-1:Vi].dts&&(Bn=!0)}Bn&&H.sort(function(Vi,sr){return Vi.dts-sr.dts||Vi.pts-sr.pts}),jt=H[0].dts,qt=H[H.length-1].dts;const Zn=qt-jt,di=Zn?Math.round(Zn/(Ae-1)):Ut||r.inputTimeScale/30;if(_){const Vi=jt-dt,sr=Vi>di,Ro=Vi<-1;if((sr||Ro)&&(b.warn(sr?`AVC: ${Cs(Vi,!0)} ms (${Vi}dts) hole between fragments detected, filling it`:`AVC: ${Cs(-Vi,!0)} ms (${Vi}dts) overlapping between fragments detected`),!Ro||dt>=H[0].pts)){jt=dt;const jo=H[0].pts-Vi;H[0].dts=jt,H[0].pts=jo,b.log(`Video: First PTS/DTS adjusted: ${Cs(jo,!0)}/${Cs(jt,!0)}, delta: ${Cs(Vi,!0)} ms`)}}jt=Math.max(0,jt);let oi=0,Ai=0;for(let Vi=0;Vi<Ae;Vi++){const sr=H[Vi],Ro=sr.units,jo=Ro.length;let Eo=0;for(let js=0;js<jo;js++)Eo+=Ro[js].data.length;Ai+=Eo,oi+=jo,sr.length=Eo,sr.dts=Math.max(sr.dts,jt),cn=Math.min(sr.pts,cn),bn=Math.max(sr.pts,bn)}qt=H[Ae-1].dts;const gi=Ai+4*oi+8;let Mi;try{Mi=new Uint8Array(gi)}catch(Vi){return void this.observer.emit(C.ERROR,C.ERROR,{type:A.MUX_ERROR,details:x.REMUX_ALLOC_ERROR,fatal:!1,error:Vi,bytes:gi,reason:`fail allocating video mdat ${gi}`})}const Pi=new DataView(Mi.buffer);Pi.setUint32(0,gi),Mi.set(ns.types.mdat,4);let ui=!1,ji=Number.POSITIVE_INFINITY,Hi=Number.POSITIVE_INFINITY,to=Number.NEGATIVE_INFINITY,Rs=Number.NEGATIVE_INFINITY;for(let Vi=0;Vi<Ae;Vi++){const sr=H[Vi],Ro=sr.units;let Eo,jo=0;for(let Fa=0,Xa=Ro.length;Fa<Xa;Fa++){const xl=Ro[Fa],uc=xl.data,Ba=xl.data.byteLength;Pi.setUint32(pt,Ba),pt+=4,Mi.set(uc,pt),pt+=Ba,jo+=4+Ba}if(Vi<Ae-1)Ut=H[Vi+1].dts-sr.dts,Eo=H[Vi+1].pts-sr.pts;else{const Fa=this.config,Xa=Vi>0?sr.dts-H[Vi-1].dts:di;if(Eo=Vi>0?sr.pts-H[Vi-1].pts:di,Fa.stretchShortVideoTrack&&null!==this.nextAudioPts){const xl=Math.floor(Fa.maxBufferHole*k),uc=(M?cn+M*k:this.nextAudioPts)-sr.pts;uc>xl?(Ut=uc-Xa,Ut<0?Ut=Xa:ui=!0,b.log(`[mp4-remuxer]: It is approximately ${uc/90} ms to the next segment; using duration ${Ut/90} ms for the last video frame.`)):Ut=Xa}else Ut=Xa}const js=Math.round(sr.pts-sr.dts);ji=Math.min(ji,Ut),to=Math.max(to,Ut),Hi=Math.min(Hi,Eo),Rs=Math.max(Rs,Eo),te.push(new gl(sr.key,Ut,jo,js))}if(te.length)if(Nl){if(Nl<70){const Vi=te[0].flags;Vi.dependsOn=2,Vi.isNonSync=0}}else if(ya&&Rs-Hi<to-ji&&di/to<.025&&0===te[0].cts){b.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let Vi=jt;for(let sr=0,Ro=te.length;sr<Ro;sr++){const jo=Vi+te[sr].duration;te[sr].duration=sr<Ro-1?jo+te[sr+1].cts-(Vi+te[sr].cts):sr?te[sr-1].duration:di,te[sr].cts=0,Vi=jo}}Ut=ui||!Ut?di:Ut,this.nextAvcDts=dt=qt+Ut,this.videoSampleDuration=Ut,this.isVideoContiguous=!0;const so={data1:ns.moof(r.sequenceNumber++,jt,c({},r,{samples:te})),data2:Mi,startPTS:cn/k,endPTS:(bn+Ut)/k,startDTS:jt/k,endDTS:dt/k,type:"video",hasAudio:!1,hasVideo:!0,nb:te.length,dropped:r.dropped};return r.samples=[],r.dropped=0,so}remuxAudio(r,l,_,M,k){const H=r.inputTimeScale,Ae=H/(r.samplerate?r.samplerate:H),Pe="aac"===r.segmentCodec?1024:1152,dt=Pe*Ae,pt=this._initPTS,Ut="mp3"===r.segmentCodec&&this.typeSupported.mpeg,jt=[],qt=void 0!==k;let cn=r.samples,bn=Ut?0:8,Bn=this.nextAudioPts||-1;const ei=l*H,Zn=pt.baseTime*H/pt.timescale;if(this.isAudioContiguous=_=_||cn.length&&Bn>0&&(M&&Math.abs(ei-Bn)<9e3||Math.abs(Ss(cn[0].pts-Zn,ei)-Bn)<20*dt),cn.forEach(function(oo){oo.pts=Ss(oo.pts-Zn,ei)}),!_||Bn<0){if(cn=cn.filter(oo=>oo.pts>=0),!cn.length)return;Bn=0===k?0:M&&!qt?Math.max(0,ei):cn[0].pts}if("aac"===r.segmentCodec){const oo=this.config.maxAudioFramesDrift;for(let so=0,Vi=Bn;so<cn.length;so++){const sr=cn[so],Ro=sr.pts,jo=Ro-Vi,Eo=Math.abs(1e3*jo/H);if(jo<=-oo*dt&&qt)0===so&&(b.warn(`Audio frame @ ${(Ro/H).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*jo/H)} ms.`),this.nextAudioPts=Bn=Vi=Ro);else if(jo>=oo*dt&&Eo<1e4&&qt){let js=Math.round(jo/dt);Vi=Ro-js*dt,Vi<0&&(js--,Vi+=dt),0===so&&(this.nextAudioPts=Bn=Vi),b.warn(`[mp4-remuxer]: Injecting ${js} audio frame @ ${(Vi/H).toFixed(3)}s due to ${Math.round(1e3*jo/H)} ms gap.`);for(let Fa=0;Fa<js;Fa++){const Xa=Math.max(Vi,0);let xl=Nr.getSilentFrame(r.manifestCodec||r.codec,r.channelCount);xl||(b.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),xl=sr.unit.subarray()),cn.splice(so,0,{unit:xl,pts:Xa}),Vi+=dt,so++}}sr.pts=Vi,Vi+=dt}}let Ai,di=null,oi=null,gi=0,Mi=cn.length;for(;Mi--;)gi+=cn[Mi].unit.byteLength;for(let oo=0,so=cn.length;oo<so;oo++){const Vi=cn[oo],sr=Vi.unit;let Ro=Vi.pts;if(null!==oi)jt[oo-1].duration=Math.round((Ro-oi)/Ae);else{if(_&&"aac"===r.segmentCodec&&(Ro=Bn),di=Ro,!(gi>0))return;gi+=bn;try{Ai=new Uint8Array(gi)}catch(Eo){return void this.observer.emit(C.ERROR,C.ERROR,{type:A.MUX_ERROR,details:x.REMUX_ALLOC_ERROR,fatal:!1,error:Eo,bytes:gi,reason:`fail allocating audio mdat ${gi}`})}Ut||(new DataView(Ai.buffer).setUint32(0,gi),Ai.set(ns.types.mdat,4))}Ai.set(sr,bn);const jo=sr.byteLength;bn+=jo,jt.push(new gl(!0,Pe,jo,0)),oi=Ro}const Pi=jt.length;if(!Pi)return;this.nextAudioPts=Bn=oi+Ae*jt[jt.length-1].duration;const ji=Ut?new Uint8Array(0):ns.moof(r.sequenceNumber++,di/Ae,c({},r,{samples:jt}));r.samples=[];const Hi=di/H,to=Bn/H,yr={data1:ji,data2:Ai,startPTS:Hi,endPTS:to,startDTS:Hi,endDTS:to,type:"audio",hasAudio:!0,hasVideo:!1,nb:Pi};return this.isAudioContiguous=!0,yr}remuxEmptyAudio(r,l,_,M){const k=r.inputTimeScale,Ae=this.nextAudioPts,Pe=this._initDTS,dt=9e4*Pe.baseTime/Pe.timescale,pt=(null!==Ae?Ae:M.startDTS*k)+dt,jt=k/(r.samplerate?r.samplerate:k)*1024,qt=Math.ceil((M.endDTS*k+dt-pt)/jt),cn=Nr.getSilentFrame(r.manifestCodec||r.codec,r.channelCount);if(b.warn("[mp4-remuxer]: remux empty Audio"),!cn)return void b.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");const bn=[];for(let Bn=0;Bn<qt;Bn++){const ei=pt+Bn*jt;bn.push({unit:cn,pts:ei,dts:ei})}return r.samples=bn,this.remuxAudio(r,l,_,!1)}}function Ss(V,r){let l;if(null===r)return V;for(l=r<V?-8589934592:8589934592;Math.abs(V-r)>4294967296;)V+=l;return V}function ci(V,r,l,_){const M=V.samples.length;if(!M)return;const k=V.inputTimeScale;for(let te=0;te<M;te++){const Ae=V.samples[te];Ae.pts=Ss(Ae.pts-l.baseTime*k/l.timescale,r*k)/k,Ae.dts=Ss(Ae.dts-_.baseTime*k/_.timescale,r*k)/k}const H=V.samples;return V.samples=[],{samples:H}}function or(V,r,l){const _=V.samples.length;if(!_)return;const M=V.inputTimeScale;for(let H=0;H<_;H++){const te=V.samples[H];te.pts=Ss(te.pts-l.baseTime*M/l.timescale,r*M)/M}V.samples.sort((H,te)=>H.pts-te.pts);const k=V.samples;return V.samples=[],{samples:k}}class gl{constructor(r,l,_,M){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=l,this.size=_,this.cts=M,this.flags=new yc(r)}}class yc{constructor(r){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=r?2:1,this.isNonSync=r?0:1}}function nl(V,r){const l=V?.codec;return l&&l.length>4?l:"hvc1"===l||"hev1"===l?"hvc1.1.6.L120.90":"av01"===l?"av01.0.04M.08":"avc1"===l||"video"===r?"avc1.42e01e":"mp4a.40.5"}try{io=self.performance.now.bind(self.performance)}catch{b.debug("Unable to use Performance API on this environment"),io=typeof self<"u"&&self.Date.now}const Ya=[{demux:class _c{constructor(r,l){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=l}resetTimeStamp(){}resetInitSegment(r,l,_,M){const k=this.videoTrack=us("video",1),H=this.audioTrack=us("audio",1),te=this.txtTrack=us("text",1);if(this.id3Track=us("id3",1),this.timeOffset=0,null==r||!r.byteLength)return;const Ae=He(r);if(Ae.video){const{id:Pe,timescale:dt,codec:pt}=Ae.video;k.id=Pe,k.timescale=te.timescale=dt,k.codec=pt}if(Ae.audio){const{id:Pe,timescale:dt,codec:pt}=Ae.audio;H.id=Pe,H.timescale=dt,H.codec=pt}te.id=Kt.text,k.sampleDuration=0,k.duration=H.duration=M}resetContiguity(){this.remainderData=null}static probe(r){return vt(r=r.length>16384?r.subarray(0,16384):r,["moof"]).length>0}demux(r,l){this.timeOffset=l;let _=r;const M=this.videoTrack,k=this.txtTrack;if(this.config.progressive){this.remainderData&&(_=En(this.remainderData,r));const te=function on(V){const r={valid:null,remainder:null},l=vt(V,["moof"]);if(!l)return r;if(l.length<2)return r.remainder=V,r;const _=l[l.length-1];return r.valid=q(V,0,_.byteOffset-8),r.remainder=q(V,_.byteOffset-8),r}(_);this.remainderData=te.remainder,M.samples=te.valid||new Uint8Array}else M.samples=_;const H=this.extractID3Track(M,l);return k.samples=tn(l,M),{videoTrack:M,audioTrack:this.audioTrack,id3Track:H,textTrack:this.txtTrack}}flush(){const r=this.timeOffset,l=this.videoTrack,_=this.txtTrack;l.samples=this.remainderData||new Uint8Array,this.remainderData=null;const M=this.extractID3Track(l,this.timeOffset);return _.samples=tn(r,l),{videoTrack:l,audioTrack:us(),id3Track:M,textTrack:us()}}extractID3Track(r,l){const _=this.id3Track;if(r.samples.length){const M=vt(r.samples,["emsg"]);M&&M.forEach(k=>{const H=function ti(V){const r=V[0];let l="",_="",M=0,k=0,H=0,te=0,Ae=0,Pe=0;if(0===r){for(;"\0"!==Jt(V.subarray(Pe,Pe+1));)l+=Jt(V.subarray(Pe,Pe+1)),Pe+=1;for(l+=Jt(V.subarray(Pe,Pe+1)),Pe+=1;"\0"!==Jt(V.subarray(Pe,Pe+1));)_+=Jt(V.subarray(Pe,Pe+1)),Pe+=1;_+=Jt(V.subarray(Pe,Pe+1)),Pe+=1,M=un(V,12),k=un(V,16),te=un(V,20),Ae=un(V,24),Pe=28}else if(1===r){Pe+=4,M=un(V,Pe),Pe+=4;const pt=un(V,Pe);Pe+=4;const Ut=un(V,Pe);for(Pe+=4,H=2**32*pt+Ut,Number.isSafeInteger(H)||(H=Number.MAX_SAFE_INTEGER,b.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),te=un(V,Pe),Pe+=4,Ae=un(V,Pe),Pe+=4;"\0"!==Jt(V.subarray(Pe,Pe+1));)l+=Jt(V.subarray(Pe,Pe+1)),Pe+=1;for(l+=Jt(V.subarray(Pe,Pe+1)),Pe+=1;"\0"!==Jt(V.subarray(Pe,Pe+1));)_+=Jt(V.subarray(Pe,Pe+1)),Pe+=1;_+=Jt(V.subarray(Pe,Pe+1)),Pe+=1}return{schemeIdUri:l,value:_,timeScale:M,presentationTime:H,presentationTimeDelta:k,eventDuration:te,id:Ae,payload:V.subarray(Pe,V.byteLength)}}(k);if(ml.test(H.schemeIdUri)){const te=p(H.presentationTime)?H.presentationTime/H.timeScale:l+H.presentationTimeDelta/H.timeScale;let Ae=4294967295===H.eventDuration?Number.POSITIVE_INFINITY:H.eventDuration/H.timeScale;Ae<=.001&&(Ae=Number.POSITIVE_INFINITY);const Pe=H.payload;_.samples.push({data:Pe,len:Pe.byteLength,dts:te,pts:te,type:xr_emsg,duration:Ae})}})}return _}demuxSampleAes(r,l,_){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}},remux:class Go{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(r){this.initPTS=r,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(r,l,_,M){this.audioCodec=l,this.videoCodec=_,this.generateInitSegment(function Ze(V,r){if(!V||!r)return V;const l=r.keyId;return l&&r.isCommonEncryption&&vt(V,["moov","trak"]).forEach(M=>{const H=vt(M,["mdia","minf","stbl","stsd"])[0].subarray(8);let te=vt(H,["enca"]);const Ae=te.length>0;Ae||(te=vt(H,["encv"])),te.forEach(Pe=>{vt(Pe.subarray(Ae?28:78),["sinf"]).forEach(Ut=>{const jt=st(Ut);if(jt){const qt=jt.subarray(8,24);qt.some(cn=>0!==cn)||(b.log(`[eme] Patching keyId in 'enc${Ae?"a":"v"}>sinf>>tenc' box: ${me_hexDump(qt)} -> ${me_hexDump(l)}`),jt.set(l,8))}})})}),V}(r,M)),this.emitInitSegment=!0}generateInitSegment(r){let{audioCodec:l,videoCodec:_}=this;if(null==r||!r.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const M=this.initData=He(r);l||(l=nl(M.audio,"audio")),_||(_=nl(M.video,"video"));const k={};M.audio&&M.video?k.audiovideo={container:"video/mp4",codec:l+","+_,initSegment:r,id:"main"}:M.audio?k.audio={container:"audio/mp4",codec:l,initSegment:r,id:"audio"}:M.video?k.video={container:"video/mp4",codec:_,initSegment:r,id:"main"}:b.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=k}remux(r,l,_,M,k,H){var te,Ae;let{initPTS:Pe,lastEndTime:dt}=this;const pt={audio:void 0,video:void 0,text:M,id3:_,initSegment:void 0};p(dt)||(dt=this.lastEndTime=k||0);const Ut=l.samples;if(null==Ut||!Ut.length)return pt;const jt={initPTS:void 0,timescale:1};let qt=this.initData;if(null!=(te=qt)&&te.length||(this.generateInitSegment(Ut),qt=this.initData),null==(Ae=qt)||!Ae.length)return b.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),pt;this.emitInitSegment&&(jt.tracks=this.initTracks,this.emitInitSegment=!1);const cn=function St(V,r){let l=0,_=0,M=0;const k=vt(V,["moof","traf"]);for(let H=0;H<k.length;H++){const te=k[H],Ae=vt(te,["tfhd"])[0],dt=r[un(Ae,4)];if(!dt)continue;const pt=dt.default,Ut=un(Ae,0)|pt?.flags;let jt=pt?.duration;8&Ut&&(jt=un(Ae,2&Ut?12:8));const qt=dt.timescale||9e4,cn=vt(te,["trun"]);for(let bn=0;bn<cn.length;bn++)l=bt(cn[bn]),!l&&jt&&(l=jt*un(cn[bn],4)),"video"===dt.type?_+=l/qt:"audio"===dt.type&&(M+=l/qt)}if(0===_&&0===M){let H=0;const te=vt(V,["sidx"]);for(let Ae=0;Ae<te.length;Ae++){const Pe=it(te[Ae]);null!=Pe&&Pe.references&&(H+=Pe.references.reduce((dt,pt)=>dt+pt.info.duration||0,0))}return H}return _||M}(Ut,qt),bn=function lt(V,r){return vt(r,["moof","traf"]).reduce((l,_)=>{const M=vt(_,["tfdt"])[0],k=M[0],H=vt(_,["tfhd"]).reduce((te,Ae)=>{const Pe=un(Ae,4),dt=V[Pe];if(dt){let pt=un(M,4);if(1===k){if(pt===We)return b.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),te;pt*=We+1,pt+=un(M,8)}const jt=pt/(dt.timescale||9e4);if(isFinite(jt)&&(null===te||jt<te))return jt}return te},null);return null!==H&&isFinite(H)&&(null===l||H<l)?H:l},null)}(qt,Ut),Bn=null===bn?k:bn;(function zc(V,r,l,_){if(null===V)return!0;const M=Math.max(_,1);return Math.abs(r-V.baseTime/V.timescale-l)>M}(Pe,Bn,k,cn)||jt.timescale!==Pe.timescale&&H)&&(jt.initPTS=Bn-k,Pe&&1===Pe.timescale&&b.warn("Adjusting initPTS by "+(jt.initPTS-Pe.baseTime)),this.initPTS=Pe={baseTime:jt.initPTS,timescale:1});const ei=r?Bn-Pe.baseTime/Pe.timescale:dt,Zn=ei+cn;(function At(V,r,l){vt(r,["moof","traf"]).forEach(_=>{vt(_,["tfhd"]).forEach(M=>{const k=un(M,4),H=V[k];if(!H)return;const te=H.timescale||9e4;vt(_,["tfdt"]).forEach(Ae=>{const Pe=Ae[0];let dt=un(Ae,4);if(0===Pe)dt-=l*te,dt=Math.max(dt,0),It(Ae,4,dt);else{dt*=Math.pow(2,32),dt+=un(Ae,8),dt-=l*te,dt=Math.max(dt,0);const pt=Math.floor(dt/(We+1)),Ut=Math.floor(dt%(We+1));It(Ae,4,pt),It(Ae,8,Ut)}})})})})(qt,Ut,Pe.baseTime/Pe.timescale),cn>0?this.lastEndTime=Zn:(b.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const di=!!qt.audio,oi=!!qt.video;let Ai="";di&&(Ai+="audio"),oi&&(Ai+="video");const gi={data1:Ut,startPTS:ei,startDTS:ei,endPTS:Zn,endDTS:Zn,type:Ai,hasAudio:di,hasVideo:oi,nb:1,dropped:0};return pt.audio="audio"===gi.type?gi:void 0,pt.video="audio"!==gi.type?gi:void 0,pt.initSegment=jt,pt.id3=ci(_,k,Pe,Pe),M.samples.length&&(pt.text=or(M,k,Pe)),pt}}},{demux:zn,remux:Wa},{demux:class hl extends dl{constructor(r,l){super(),this.observer=void 0,this.config=void 0,this.observer=r,this.config=l}resetInitSegment(r,l,_,M){super.resetInitSegment(r,l,_,M),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:l,duration:M,inputTimeScale:9e4,dropped:0}}static probe(r){if(!r)return!1;let _=(ne(r,0)||[]).length;for(let M=r.length;_<M;_++)if(Va(r,_))return b.log("ADTS sync word found !"),!0;return!1}canParse(r,l){return function gc(V,r){return function Zc(V,r){return r+5<V.length}(V,r)&&ul(V,r)&&wo(V,r)<=V.length-r}(r,l)}appendFrame(r,l,_){Pl(r,this.observer,l,_,r.manifestCodec);const M=ga(r,l,_,this.basePTS,this.frameIndex);if(M&&0===M.missing)return M}},remux:Wa},{demux:class fo extends dl{resetInitSegment(r,l,_,M){super.resetInitSegment(r,l,_,M),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:l,duration:M,inputTimeScale:9e4,dropped:0}}static probe(r){if(!r)return!1;let _=(ne(r,0)||[]).length;for(let M=r.length;_<M;_++)if(Yt(r,_))return b.log("MPEG Audio sync word found !"),!0;return!1}canParse(r,l){return function ze(V,r){return nr(V,r)&&4<=V.length-r}(r,l)}appendFrame(r,l,_){if(null!==this.basePTS)return Oa(r,l,_,this.basePTS,this.frameIndex)}},remux:Wa}];class Oo{constructor(r,l,_,M,k){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=r,this.typeSupported=l,this.config=_,this.vendor=M,this.id=k}configure(r){this.transmuxConfig=r,this.decrypter&&this.decrypter.reset()}push(r,l,_,M){const k=_.transmuxing;k.executeStart=io();let H=new Uint8Array(r);const{currentTransmuxState:te,transmuxConfig:Ae}=this;M&&(this.currentTransmuxState=M);const{contiguous:Pe,discontinuity:dt,trackSwitch:pt,accurateTimeOffset:Ut,timeOffset:jt,initSegmentChange:qt}=M||te,{audioCodec:cn,videoCodec:bn,defaultInitPts:Bn,duration:ei,initSegmentData:Zn}=Ae,di=function Ll(V,r){let l=null;return V.byteLength>0&&null!=r&&null!=r.key&&null!==r.iv&&null!=r.method&&(l=r),l}(H,l);if(di&&"AES-128"===di.method){const Mi=this.getDecrypter();if(!Mi.isSync())return this.decryptionPromise=Mi.webCryptoDecrypt(H,di.key.buffer,di.iv.buffer).then(Pi=>{const ui=this.push(Pi,null,_);return this.decryptionPromise=null,ui}),this.decryptionPromise;{let Pi=Mi.softwareDecrypt(H,di.key.buffer,di.iv.buffer);if(_.part>-1&&(Pi=Mi.flush()),!Pi)return k.executeEnd=io(),ba(_);H=new Uint8Array(Pi)}}const oi=this.needsProbing(dt,pt);if(oi){const Mi=this.configureTransmuxer(H);if(Mi)return b.warn(`[transmuxer] ${Mi.message}`),this.observer.emit(C.ERROR,C.ERROR,{type:A.MEDIA_ERROR,details:x.FRAG_PARSING_ERROR,fatal:!1,error:Mi,reason:Mi.message}),k.executeEnd=io(),ba(_)}(dt||pt||qt||oi)&&this.resetInitSegment(Zn,cn,bn,ei,l),(dt||qt||oi)&&this.resetInitialTimestamp(Bn),Pe||this.resetContiguity();const Ai=this.transmux(H,di,jt,Ut,_),gi=this.currentTransmuxState;return gi.contiguous=!0,gi.discontinuity=!1,gi.trackSwitch=!1,k.executeEnd=io(),Ai}flush(r){const l=r.transmuxing;l.executeStart=io();const{decrypter:_,currentTransmuxState:M,decryptionPromise:k}=this;if(k)return k.then(()=>this.flush(r));const H=[],{timeOffset:te}=M;if(_){const pt=_.flush();pt&&H.push(this.push(pt,null,r))}const{demuxer:Ae,remuxer:Pe}=this;if(!Ae||!Pe)return l.executeEnd=io(),[ba(r)];const dt=Ae.flush(te);return fs(dt)?dt.then(pt=>(this.flushRemux(H,pt,r),H)):(this.flushRemux(H,dt,r),H)}flushRemux(r,l,_){const{audioTrack:M,videoTrack:k,id3Track:H,textTrack:te}=l,{accurateTimeOffset:Ae,timeOffset:Pe}=this.currentTransmuxState;b.log(`[transmuxer.ts]: Flushed fragment ${_.sn}${_.part>-1?" p: "+_.part:""} of level ${_.level}`);const dt=this.remuxer.remux(M,k,H,te,Pe,Ae,!0,this.id);r.push({remuxResult:dt,chunkMeta:_}),_.transmuxing.executeEnd=io()}resetInitialTimestamp(r){const{demuxer:l,remuxer:_}=this;!l||!_||(l.resetTimeStamp(r),_.resetTimeStamp(r))}resetContiguity(){const{demuxer:r,remuxer:l}=this;!r||!l||(r.resetContiguity(),l.resetNextTimestamp())}resetInitSegment(r,l,_,M,k){const{demuxer:H,remuxer:te}=this;!H||!te||(H.resetInitSegment(r,l,_,M),te.resetInitSegment(r,l,_,k))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(r,l,_,M,k){let H;return H=l&&"SAMPLE-AES"===l.method?this.transmuxSampleAes(r,l,_,M,k):this.transmuxUnencrypted(r,_,M,k),H}transmuxUnencrypted(r,l,_,M){const{audioTrack:k,videoTrack:H,id3Track:te,textTrack:Ae}=this.demuxer.demux(r,l,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(k,H,te,Ae,l,_,!1,this.id),chunkMeta:M}}transmuxSampleAes(r,l,_,M,k){return this.demuxer.demuxSampleAes(r,l,_).then(H=>({remuxResult:this.remuxer.remux(H.audioTrack,H.videoTrack,H.id3Track,H.textTrack,_,M,!1,this.id),chunkMeta:k}))}configureTransmuxer(r){const{config:l,observer:_,typeSupported:M,vendor:k}=this;let H;for(let pt=0,Ut=Ya.length;pt<Ut;pt++)if(Ya[pt].demux.probe(r)){H=Ya[pt];break}if(!H)return new Error("Failed to find demuxer by probing fragment data");const te=this.demuxer,Ae=this.remuxer,Pe=H.remux,dt=H.demux;(!Ae||!(Ae instanceof Pe))&&(this.remuxer=new Pe(_,l,M,k)),(!te||!(te instanceof dt))&&(this.demuxer=new dt(_,l,M),this.probe=dt.probe)}needsProbing(r,l){return!this.demuxer||!this.remuxer||r||l}getDecrypter(){let r=this.decrypter;return r||(r=this.decrypter=new ts(this.config)),r}}const ba=V=>({remuxResult:{},chunkMeta:V});function fs(V){return"then"in V&&V.then instanceof Function}class Zo{constructor(r,l,_,M,k){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=r,this.videoCodec=l,this.initSegmentData=_,this.duration=M,this.defaultInitPts=k||null}}class la{constructor(r,l,_,M,k,H){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=r,this.contiguous=l,this.accurateTimeOffset=_,this.trackSwitch=M,this.timeOffset=k,this.initSegmentChange=H}}var _l={exports:{}};!function(V){var r=Object.prototype.hasOwnProperty,l="~";function _(){}function M(Ae,Pe,dt){this.fn=Ae,this.context=Pe,this.once=dt||!1}function k(Ae,Pe,dt,pt,Ut){if("function"!=typeof dt)throw new TypeError("The listener must be a function");var jt=new M(dt,pt||Ae,Ut),qt=l?l+Pe:Pe;return Ae._events[qt]?Ae._events[qt].fn?Ae._events[qt]=[Ae._events[qt],jt]:Ae._events[qt].push(jt):(Ae._events[qt]=jt,Ae._eventsCount++),Ae}function H(Ae,Pe){0==--Ae._eventsCount?Ae._events=new _:delete Ae._events[Pe]}function te(){this._events=new _,this._eventsCount=0}Object.create&&(_.prototype=Object.create(null),(new _).__proto__||(l=!1)),te.prototype.eventNames=function(){var dt,pt,Pe=[];if(0===this._eventsCount)return Pe;for(pt in dt=this._events)r.call(dt,pt)&&Pe.push(l?pt.slice(1):pt);return Object.getOwnPropertySymbols?Pe.concat(Object.getOwnPropertySymbols(dt)):Pe},te.prototype.listeners=function(Pe){var pt=this._events[l?l+Pe:Pe];if(!pt)return[];if(pt.fn)return[pt.fn];for(var Ut=0,jt=pt.length,qt=new Array(jt);Ut<jt;Ut++)qt[Ut]=pt[Ut].fn;return qt},te.prototype.listenerCount=function(Pe){var pt=this._events[l?l+Pe:Pe];return pt?pt.fn?1:pt.length:0},te.prototype.emit=function(Pe,dt,pt,Ut,jt,qt){var cn=l?l+Pe:Pe;if(!this._events[cn])return!1;var ei,Zn,bn=this._events[cn],Bn=arguments.length;if(bn.fn){switch(bn.once&&this.removeListener(Pe,bn.fn,void 0,!0),Bn){case 1:return bn.fn.call(bn.context),!0;case 2:return bn.fn.call(bn.context,dt),!0;case 3:return bn.fn.call(bn.context,dt,pt),!0;case 4:return bn.fn.call(bn.context,dt,pt,Ut),!0;case 5:return bn.fn.call(bn.context,dt,pt,Ut,jt),!0;case 6:return bn.fn.call(bn.context,dt,pt,Ut,jt,qt),!0}for(Zn=1,ei=new Array(Bn-1);Zn<Bn;Zn++)ei[Zn-1]=arguments[Zn];bn.fn.apply(bn.context,ei)}else{var oi,di=bn.length;for(Zn=0;Zn<di;Zn++)switch(bn[Zn].once&&this.removeListener(Pe,bn[Zn].fn,void 0,!0),Bn){case 1:bn[Zn].fn.call(bn[Zn].context);break;case 2:bn[Zn].fn.call(bn[Zn].context,dt);break;case 3:bn[Zn].fn.call(bn[Zn].context,dt,pt);break;case 4:bn[Zn].fn.call(bn[Zn].context,dt,pt,Ut);break;default:if(!ei)for(oi=1,ei=new Array(Bn-1);oi<Bn;oi++)ei[oi-1]=arguments[oi];bn[Zn].fn.apply(bn[Zn].context,ei)}}return!0},te.prototype.on=function(Pe,dt,pt){return k(this,Pe,dt,pt,!1)},te.prototype.once=function(Pe,dt,pt){return k(this,Pe,dt,pt,!0)},te.prototype.removeListener=function(Pe,dt,pt,Ut){var jt=l?l+Pe:Pe;if(!this._events[jt])return this;if(!dt)return H(this,jt),this;var qt=this._events[jt];if(qt.fn)qt.fn===dt&&(!Ut||qt.once)&&(!pt||qt.context===pt)&&H(this,jt);else{for(var cn=0,bn=[],Bn=qt.length;cn<Bn;cn++)(qt[cn].fn!==dt||Ut&&!qt[cn].once||pt&&qt[cn].context!==pt)&&bn.push(qt[cn]);bn.length?this._events[jt]=1===bn.length?bn[0]:bn:H(this,jt)}return this},te.prototype.removeAllListeners=function(Pe){var dt;return Pe?this._events[dt=l?l+Pe:Pe]&&H(this,dt):(this._events=new _,this._eventsCount=0),this},te.prototype.off=te.prototype.removeListener,te.prototype.addListener=te.prototype.on,te.prefixed=l,te.EventEmitter=te,V.exports=te}(_l);var xo=y(_l.exports);const Bo=xn()||{isTypeSupported:()=>!1};class il{constructor(r,l,_,M){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const k=r.config;this.hls=r,this.id=l,this.useWorker=!!k.enableWorker,this.onTransmuxComplete=_,this.onFlush=M;const H=(Pe,dt)=>{(dt=dt||{}).frag=this.frag,dt.id=this.id,Pe===C.ERROR&&(this.error=dt.error),this.hls.trigger(Pe,dt)};this.observer=new xo,this.observer.on(C.FRAG_DECRYPTED,H),this.observer.on(C.ERROR,H);const te={mp4:Bo.isTypeSupported("video/mp4"),mpeg:Bo.isTypeSupported("audio/mpeg"),mp3:Bo.isTypeSupported('audio/mp4; codecs="mp3"')},Ae=navigator.vendor;if(this.useWorker&&typeof Worker<"u"&&(k.workerPath||function ha(){return"function"==typeof __HLS_WORKER_BUNDLE__}()))try{k.workerPath?(b.log(`loading Web Worker ${k.workerPath} for "${l}"`),this.workerContext=function oa(V){const r=new self.URL(V,self.location.href).href;return{worker:new self.Worker(r),scriptURL:r}}(k.workerPath)):(b.log(`injecting Web Worker for "${l}"`),this.workerContext=function xa(){const V=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),r=self.URL.createObjectURL(V);return{worker:new self.Worker(r),objectURL:r}}()),this.onwmsg=pt=>this.onWorkerMessage(pt);const{worker:dt}=this.workerContext;dt.addEventListener("message",this.onwmsg),dt.onerror=pt=>{const Ut=new Error(`${pt.message}  (${pt.filename}:${pt.lineno})`);k.enableWorker=!1,b.warn(`Error in "${l}" Web Worker, fallback to inline`),this.hls.trigger(C.ERROR,{type:A.OTHER_ERROR,details:x.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:Ut})},dt.postMessage({cmd:"init",typeSupported:te,vendor:Ae,id:l,config:JSON.stringify(k)})}catch(dt){b.warn(`Error setting up "${l}" Web Worker, fallback to inline`,dt),this.resetWorker(),this.error=null,this.transmuxer=new Oo(this.observer,te,k,Ae,l)}else this.transmuxer=new Oo(this.observer,te,k,Ae,l)}resetWorker(){if(this.workerContext){const{worker:r,objectURL:l}=this.workerContext;l&&self.URL.revokeObjectURL(l),r.removeEventListener("message",this.onwmsg),r.onerror=null,r.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const l=this.transmuxer;l&&(l.destroy(),this.transmuxer=null)}const r=this.observer;r&&r.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(r,l,_,M,k,H,te,Ae,Pe,dt){var pt,Ut;Pe.transmuxing.start=self.performance.now();const{transmuxer:jt}=this,qt=H?H.start:k.start,cn=k.decryptdata,bn=this.frag,Bn=!(bn&&k.cc===bn.cc),ei=!(bn&&Pe.level===bn.level),Zn=bn?Pe.sn-bn.sn:-1,di=this.part?Pe.part-this.part.index:-1,Ai=!ei&&(1===Zn||0===Zn&&(1===di||0===Zn&&Pe.id>1&&Pe.id===bn?.stats.chunkCount&&di<=0)),gi=self.performance.now();(ei||Zn||0===k.stats.parsing.start)&&(k.stats.parsing.start=gi),H&&(di||!Ai)&&(H.stats.parsing.start=gi);const Mi=!(bn&&(null==(pt=k.initSegment)?void 0:pt.url)===(null==(Ut=bn.initSegment)?void 0:Ut.url)),Pi=new la(Bn,Ai,Ae,ei,qt,Mi);if(!Ai||Bn||Mi){b.log(`[transmuxer-interface, ${k.type}]: Starting new transmux session for sn: ${Pe.sn} p: ${Pe.part} level: ${Pe.level} id: ${Pe.id}\n        discontinuity: ${Bn}\n        trackSwitch: ${ei}\n        contiguous: ${Ai}\n        accurateTimeOffset: ${Ae}\n        timeOffset: ${qt}\n        initSegmentChange: ${Mi}`);const ui=new Zo(_,M,l,te,dt);this.configureTransmuxer(ui)}if(this.frag=k,this.part=H,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:r,decryptdata:cn,chunkMeta:Pe,state:Pi},r instanceof ArrayBuffer?[r]:[]);else if(jt){const ui=jt.push(r,cn,Pe,Pi);fs(ui)?(jt.async=!0,ui.then(ji=>{this.handleTransmuxComplete(ji)}).catch(ji=>{this.transmuxerError(ji,Pe,"transmuxer-interface push error")})):(jt.async=!1,this.handleTransmuxComplete(ui))}}flush(r){r.transmuxing.start=self.performance.now();const{transmuxer:l}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:r});else if(l){let _=l.flush(r);fs(_)||l.async?(fs(_)||(_=Promise.resolve(_)),_.then(k=>{this.handleFlushResult(k,r)}).catch(k=>{this.transmuxerError(k,r,"transmuxer-interface flush error")})):this.handleFlushResult(_,r)}}transmuxerError(r,l,_){this.hls&&(this.error=r,this.hls.trigger(C.ERROR,{type:A.MEDIA_ERROR,details:x.FRAG_PARSING_ERROR,chunkMeta:l,fatal:!1,error:r,err:r,reason:_}))}handleFlushResult(r,l){r.forEach(_=>{this.handleTransmuxComplete(_)}),this.onFlush(l)}onWorkerMessage(r){const l=r.data,_=this.hls;switch(l.event){case"init":{var M;const k=null==(M=this.workerContext)?void 0:M.objectURL;k&&self.URL.revokeObjectURL(k);break}case"transmuxComplete":this.handleTransmuxComplete(l.data);break;case"flush":this.onFlush(l.data);break;case"workerLog":b[l.data.logType]&&b[l.data.logType](l.data.message);break;default:l.data=l.data||{},l.data.frag=this.frag,l.data.id=this.id,_.trigger(l.event,l.data)}}configureTransmuxer(r){const{transmuxer:l}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:r}):l&&l.configure(r)}handleTransmuxComplete(r){r.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(r)}}class bc{constructor(r,l,_,M){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=r,this.media=l,this.fragmentTracker=_,this.hls=M}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(r,l){const{config:_,media:M,stalled:k}=this;if(null===M)return;const{currentTime:H,seeking:te}=M,Ae=this.seeking&&!te,Pe=!this.seeking&&te;if(this.seeking=te,H!==r){if(this.moved=!0,null!==k){if(this.stallReported){const Bn=self.performance.now()-k;b.warn(`playback not stuck anymore @${H}, after ${Math.round(Bn)}ms`),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}return}if(Pe||Ae)return void(this.stalled=null);if(M.paused&&!te||M.ended||0===M.playbackRate||!Fr.getBuffered(M).length)return;const dt=Fr.bufferInfo(M,H,0),Ut=dt.nextStart||0;if(!(dt.len>0||Ut))return;if(te){const Bn=dt.len>2,ei=!Ut||l&&l.start<=H||Ut-H>2&&!this.fragmentTracker.getPartialFragment(H);if(Bn||ei)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var jt;const Bn=Math.max(Ut,dt.start||0)-H,ei=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,di=(null==ei||null==(jt=ei.details)?void 0:jt.live)?2*ei.details.targetduration:2,oi=this.fragmentTracker.getPartialFragment(H);if(Bn>0&&(Bn<=di||oi))return void this._trySkipBufferHole(oi)}const qt=self.performance.now();if(null===k)return void(this.stalled=qt);const cn=qt-k;if(!te&&cn>=250&&(this._reportStall(dt),!this.media))return;const bn=Fr.bufferInfo(M,H,_.maxBufferHole);this._tryFixBufferStall(bn,cn)}_tryFixBufferStall(r,l){const{config:_,fragmentTracker:M,media:k}=this;if(null===k)return;const H=k.currentTime,te=M.getPartialFragment(H);te&&(this._trySkipBufferHole(te)||!this.media)||(r.len>_.maxBufferHole||r.nextStart&&r.nextStart-H<_.maxBufferHole)&&l>1e3*_.highBufferWatchdogPeriod&&(b.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(r){const{hls:l,media:_,stallReported:M}=this;if(!M&&_){this.stallReported=!0;const k=new Error(`Playback stalling at @${_.currentTime} due to low buffer (${JSON.stringify(r)})`);b.warn(k.message),l.trigger(C.ERROR,{type:A.MEDIA_ERROR,details:x.BUFFER_STALLED_ERROR,fatal:!1,error:k,buffer:r.len})}}_trySkipBufferHole(r){const{config:l,hls:_,media:M}=this;if(null===M)return 0;const k=M.currentTime,H=Fr.bufferInfo(M,k,0),te=k<H.start?H.start:H.nextStart;if(te){const dt=te-k;if(dt>0&&(H.len<=l.maxBufferHole||H.len>0&&H.len<1&&M.readyState<3)){if(dt>l.maxBufferHole){const{fragmentTracker:Ut}=this;let jt=!1;if(0===k){const qt=Ut.getAppendedFrag(0,"main");qt&&te<qt.end&&(jt=!0)}if(!jt){const qt=r||Ut.getAppendedFrag(k,"main");if(qt){let cn=!1,bn=qt.end;for(;bn<te;){const Bn=Ut.getPartialFragment(bn);if(!Bn){cn=!0;break}bn+=Bn.duration}if(cn)return 0}}}const pt=Math.max(te+.05,k+.1);if(b.warn(`skipping hole, adjusting currentTime from ${k} to ${pt}`),this.moved=!0,this.stalled=null,M.currentTime=pt,r&&!r.gap){const Ut=new Error(`fragment loaded with buffer holes, seeking from ${k} to ${pt}`);_.trigger(C.ERROR,{type:A.MEDIA_ERROR,details:x.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:Ut,reason:Ut.message,frag:r})}return pt}}return 0}_tryNudgeBuffer(){const{config:r,hls:l,media:_,nudgeRetry:M}=this;if(null===_)return;const k=_.currentTime;if(this.nudgeRetry++,M<r.nudgeMaxRetry){const H=k+(M+1)*r.nudgeOffset,te=new Error(`Nudging 'currentTime' from ${k} to ${H}`);b.warn(te.message),_.currentTime=H,l.trigger(C.ERROR,{type:A.MEDIA_ERROR,details:x.BUFFER_NUDGE_ON_STALL,error:te,fatal:!1})}else{const H=new Error(`Playhead still not moving while enough data buffered @${k} after ${r.nudgeMaxRetry} nudges`);b.error(H.message),l.trigger(C.ERROR,{type:A.MEDIA_ERROR,details:x.BUFFER_STALLED_ERROR,error:H,fatal:!0})}}}class $c extends Os{constructor(r,l,_){super(r,l,_,"[stream-controller]","main"),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:r}=this;r.on(C.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(C.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(C.MANIFEST_LOADING,this.onManifestLoading,this),r.on(C.MANIFEST_PARSED,this.onManifestParsed,this),r.on(C.LEVEL_LOADING,this.onLevelLoading,this),r.on(C.LEVEL_LOADED,this.onLevelLoaded,this),r.on(C.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),r.on(C.ERROR,this.onError,this),r.on(C.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),r.on(C.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),r.on(C.BUFFER_CREATED,this.onBufferCreated,this),r.on(C.BUFFER_FLUSHED,this.onBufferFlushed,this),r.on(C.LEVELS_UPDATED,this.onLevelsUpdated,this),r.on(C.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:r}=this;r.off(C.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(C.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(C.MANIFEST_LOADING,this.onManifestLoading,this),r.off(C.MANIFEST_PARSED,this.onManifestParsed,this),r.off(C.LEVEL_LOADED,this.onLevelLoaded,this),r.off(C.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),r.off(C.ERROR,this.onError,this),r.off(C.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),r.off(C.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),r.off(C.BUFFER_CREATED,this.onBufferCreated,this),r.off(C.BUFFER_FLUSHED,this.onBufferFlushed,this),r.off(C.LEVELS_UPDATED,this.onLevelsUpdated,this),r.off(C.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),this.onMediaDetaching()}startLoad(r){if(this.levels){const{lastCurrentTime:l,hls:_}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let M=_.startLevel;-1===M&&(_.config.testBandwidth&&this.levels.length>1?(M=0,this.bitrateTest=!0):M=_.nextAutoLevel),this.level=_.nextLoadLevel=M,this.loadedmetadata=!1}l>0&&-1===r&&(this.log(`Override startPosition with lastCurrentTime @${l.toFixed(3)}`),r=l),this.state="IDLE",this.nextLoadPosition=this.startPosition=this.lastCurrentTime=r,this.tick()}else this._forceStartLoad=!0,this.state="STOPPED"}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case"WAITING_LEVEL":{var r;const{levels:_,level:M}=this,k=null==_||null==(r=_[M])?void 0:r.details;if(k&&(!k.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(k))break;this.state="IDLE";break}if(this.hls.nextLoadLevel!==this.level){this.state="IDLE";break}break}case"FRAG_LOADING_WAITING_RETRY":{var l;const _=self.performance.now(),M=this.retryDate;(!M||_>=M||null!=(l=this.media)&&l.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state="IDLE")}}"IDLE"===this.state&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:r,levelLastLoaded:l,levels:_,media:M}=this,{config:k,nextLoadLevel:H}=r;if(null===l||!M&&(this.startFragRequested||!k.startFragPrefetch)||this.altAudio&&this.audioOnly||null==_||!_[H])return;const te=_[H],Ae=this.getMainFwdBufferInfo();if(null===Ae)return;const Pe=this.getLevelDetails();if(Pe&&this._streamEnded(Ae,Pe)){const bn={};return this.altAudio&&(bn.type="video"),this.hls.trigger(C.BUFFER_EOS,bn),void(this.state="ENDED")}r.loadLevel!==H&&-1===r.manualLevel&&this.log(`Adapting to level ${H} from level ${this.level}`),this.level=r.nextLoadLevel=H;const dt=te.details;if(!dt||"WAITING_LEVEL"===this.state||dt.live&&this.levelLastLoaded!==H)return this.level=H,void(this.state="WAITING_LEVEL");const pt=Ae.len,Ut=this.getMaxBufferLength(te.maxBitrate);if(pt>=Ut)return;this.backtrackFragment&&this.backtrackFragment.start>Ae.end&&(this.backtrackFragment=null);const jt=this.backtrackFragment?this.backtrackFragment.start:Ae.end;let qt=this.getNextFragment(jt,dt);if(this.couldBacktrack&&!this.fragPrevious&&qt&&"initSegment"!==qt.sn&&"OK"!==this.fragmentTracker.getState(qt)){var cn;const Bn=(null!=(cn=this.backtrackFragment)?cn:qt).sn-dt.startSN,ei=dt.fragments[Bn-1];ei&&qt.cc===ei.cc&&(qt=ei,this.fragmentTracker.removeFragment(ei))}else this.backtrackFragment&&Ae.len&&(this.backtrackFragment=null);if(qt&&this.isLoopLoading(qt,jt)){if(!qt.gap){const Bn=this.audioOnly&&!this.altAudio?"audio":"video",ei=("video"===Bn?this.videoBuffer:this.mediaBuffer)||this.media;ei&&this.afterBufferFlushed(ei,Bn,"main")}qt=this.getNextFragmentLoopLoading(qt,dt,Ae,"main",Ut)}qt&&(qt.initSegment&&!qt.initSegment.data&&!this.bitrateTest&&(qt=qt.initSegment),this.loadFragment(qt,te,jt))}loadFragment(r,l,_){const M=this.fragmentTracker.getState(r);this.fragCurrent=r,"NOT_LOADED"===M||"PARTIAL"===M?"initSegment"===r.sn?this._loadInitSegment(r,l):this.bitrateTest?(this.log(`Fragment ${r.sn} of level ${r.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(r,l)):(this.startFragRequested=!0,super.loadFragment(r,l,_)):this.clearTrackerIfNeeded(r)}getBufferedFrag(r){return this.fragmentTracker.getBufferedFrag(r,"main")}followingBufferedFrag(r){return r?this.getBufferedFrag(r.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:r,media:l}=this;if(null!=l&&l.readyState){let _;const M=this.getAppendedFrag(l.currentTime);M&&M.start>1&&this.flushMainBuffer(0,M.start-1);const k=this.getLevelDetails();if(null!=k&&k.live){const te=this.getMainFwdBufferInfo();if(!te||te.len<2*k.targetduration)return}if(!l.paused&&r){const Pe=this.fragLastKbps;_=Pe&&this.fragCurrent?this.fragCurrent.duration*r[this.hls.nextLoadLevel].maxBitrate/(1e3*Pe)+1:0}else _=0;const H=this.getBufferedFrag(l.currentTime+_);if(H){const te=this.followingBufferedFrag(H);if(te){this.abortCurrentFrag();const Pe=te.duration,dt=Math.max(H.end,(te.maxStartPTS?te.maxStartPTS:te.start)+Math.min(Math.max(Pe-this.config.maxFragLookUpTolerance,.5*Pe),.75*Pe));this.flushMainBuffer(dt,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const r=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,r&&(r.abortRequests(),this.fragmentTracker.removeFragment(r)),this.state){case"KEY_LOADING":case"FRAG_LOADING":case"FRAG_LOADING_WAITING_RETRY":case"PARSING":case"PARSED":this.state="IDLE"}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(r,l){super.flushMainBuffer(r,l,this.altAudio?"video":null)}onMediaAttached(r,l){super.onMediaAttached(r,l);const _=l.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),_.addEventListener("playing",this.onvplaying),_.addEventListener("seeked",this.onvseeked),this.gapController=new bc(this.config,_,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:r}=this;r&&this.onvplaying&&this.onvseeked&&(r.removeEventListener("playing",this.onvplaying),r.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const r=this.media,l=r?r.currentTime:null;p(l)&&this.log(`Media seeked to ${l.toFixed(3)}`);const _=this.getMainFwdBufferInfo();null!==_&&0!==_.len?this.tick():this.warn(`Main forward buffer length on "seeked" event ${_?_.len:"empty"})`)}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(C.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1}onManifestParsed(r,l){let k,_=!1,M=!1;l.levels.forEach(H=>{k=H.audioCodec,k&&(-1!==k.indexOf("mp4a.40.2")&&(_=!0),-1!==k.indexOf("mp4a.40.5")&&(M=!0))}),this.audioCodecSwitch=_&&M&&!function cl(){var V;const r=qr();return"function"==typeof(null==r||null==(V=r.prototype)?void 0:V.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=l.levels,this.startFragRequested=!1}onLevelLoading(r,l){const{levels:_}=this;if(!_||"IDLE"!==this.state)return;const M=_[l.level];(!M.details||M.details.live&&this.levelLastLoaded!==l.level||this.waitForCdnTuneIn(M.details))&&(this.state="WAITING_LEVEL")}onLevelLoaded(r,l){var _;const{levels:M}=this,k=l.level,H=l.details,te=H.totalduration;if(!M)return void this.warn(`Levels were reset while loading level ${k}`);this.log(`Level ${k} loaded [${H.startSN},${H.endSN}]${H.lastPartSn?`[part-${H.lastPartSn}-${H.lastPartIndex}]`:""}, cc [${H.startCC}, ${H.endCC}] duration:${te}`);const Ae=M[k],Pe=this.fragCurrent;Pe&&("FRAG_LOADING"===this.state||"FRAG_LOADING_WAITING_RETRY"===this.state)&&(Pe.level!==l.level||Pe.urlId!==Ae.urlId)&&Pe.loader&&this.abortCurrentFrag();let dt=0;if(H.live||null!=(_=Ae.details)&&_.live){if(H.fragments[0]||(H.deltaUpdateFailed=!0),H.deltaUpdateFailed)return;dt=this.alignPlaylists(H,Ae.details)}if(Ae.details=H,this.levelLastLoaded=k,this.hls.trigger(C.LEVEL_UPDATED,{details:H,level:k}),"WAITING_LEVEL"===this.state){if(this.waitForCdnTuneIn(H))return;this.state="IDLE"}this.startFragRequested?H.live&&this.synchronizeToLiveEdge(H):this.setStartPosition(H,dt),this.tick()}_handleFragmentLoadProgress(r){var l;const{frag:_,part:M,payload:k}=r,{levels:H}=this;if(!H)return void this.warn(`Levels were reset while fragment load was in progress. Fragment ${_.sn} of level ${_.level} will not be buffered`);const te=H[_.level],Ae=te.details;if(!Ae)return this.warn(`Dropping fragment ${_.sn} of level ${_.level} after level details were reset`),void this.fragmentTracker.removeFragment(_);const Pe=te.videoCodec,dt=Ae.PTSKnown||!Ae.live,pt=null==(l=_.initSegment)?void 0:l.data,Ut=this._getAudioCodec(te),jt=this.transmuxer=this.transmuxer||new il(this.hls,"main",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),qt=M?M.index:-1,bn=new Uo(_.level,_.sn,_.stats.chunkCount,k.byteLength,qt,-1!==qt);jt.push(k,pt,Ut,Pe,_,M,Ae.totalduration,dt,bn,this.initPTS[_.cc])}onAudioTrackSwitching(r,l){const _=this.altAudio;if(!l.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const H=this.fragCurrent;H&&(this.log("Switching to main audio track, cancel main fragment load"),H.abortRequests(),this.fragmentTracker.removeFragment(H)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const k=this.hls;_&&(k.trigger(C.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),k.trigger(C.AUDIO_TRACK_SWITCHED,l)}}onAudioTrackSwitched(r,l){const M=!!this.hls.audioTracks[l.id].url;if(M){const k=this.videoBuffer;k&&this.mediaBuffer!==k&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=k)}this.altAudio=M,this.tick()}onBufferCreated(r,l){const _=l.tracks;let M,k,H=!1;for(const te in _){const Ae=_[te];if("main"===Ae.id){if(k=te,M=Ae,"video"===te){const Pe=_[te];Pe&&(this.videoBuffer=Pe.buffer)}}else H=!0}H&&M?(this.log(`Alternate track found, use ${k}.buffered to schedule main fragment loading`),this.mediaBuffer=M.buffer):this.mediaBuffer=this.media}onFragBuffered(r,l){const{frag:_,part:M}=l;if(_&&"main"!==_.type)return;if(this.fragContextChanged(_))return this.warn(`Fragment ${_.sn}${M?" p: "+M.index:""} of level ${_.level} finished buffering, but was aborted. state: ${this.state}`),void("PARSED"===this.state&&(this.state="IDLE"));const k=M?M.stats:_.stats;this.fragLastKbps=Math.round(8*k.total/(k.buffering.end-k.loading.first)),"initSegment"!==_.sn&&(this.fragPrevious=_),this.fragBufferedComplete(_,M)}onError(r,l){var _;if(l.fatal)this.state="ERROR";else switch(l.details){case x.FRAG_GAP:case x.FRAG_PARSING_ERROR:case x.FRAG_DECRYPT_ERROR:case x.FRAG_LOAD_ERROR:case x.FRAG_LOAD_TIMEOUT:case x.KEY_LOAD_ERROR:case x.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("main",l);break;case x.LEVEL_LOAD_ERROR:case x.LEVEL_LOAD_TIMEOUT:case x.LEVEL_PARSING_ERROR:!l.levelRetry&&"WAITING_LEVEL"===this.state&&"level"===(null==(_=l.context)?void 0:_.type)&&(this.state="IDLE");break;case x.BUFFER_FULL_ERROR:if(!l.parent||"main"!==l.parent)return;this.reduceLengthAndFlushBuffer(l)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case x.INTERNAL_EXCEPTION:this.recoverWorkerError(l)}}checkBuffer(){const{media:r,gapController:l}=this;r&&l&&r.readyState&&(!this.loadedmetadata&&Fr.getBuffered(r).length||l.poll(this.lastCurrentTime,"IDLE"!==this.state?this.fragCurrent:null),this.lastCurrentTime=r.currentTime)}onFragLoadEmergencyAborted(){this.state="IDLE",this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(r,{type:l}){("audio"!==l||this.audioOnly&&!this.altAudio)&&this.afterBufferFlushed(("video"===l?this.videoBuffer:this.mediaBuffer)||this.media,l,"main")}onLevelsUpdated(r,l){this.levels=l.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:r}=this;if(!r)return;const l=r.currentTime;let _=this.startPosition;if(_>=0&&l<_){if(r.seeking)return void this.log(`could not seek to ${_}, already seeking at ${l}`);const M=Fr.getBuffered(r),H=(M.length?M.start(0):0)-_;H>0&&(H<this.config.maxBufferHole||H<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${H} to match buffer start`),_+=H,this.startPosition=_),this.log(`seek to target start position ${_} from current time ${l}`),r.currentTime=_}}_getAudioCodec(r){let l=this.config.defaultAudioCodec||r.audioCodec;return this.audioCodecSwap&&l&&(this.log("Swapping audio codec"),l=-1!==l.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),l}_loadBitrateTestFrag(r,l){r.bitrateTest=!0,this._doFragLoad(r,l).then(_=>{const{hls:M}=this;if(!_||this.fragContextChanged(r))return;l.fragmentError=0,this.state="IDLE",this.startFragRequested=!1,this.bitrateTest=!1;const k=r.stats;k.parsing.start=k.parsing.end=k.buffering.start=k.buffering.end=self.performance.now(),M.trigger(C.FRAG_LOADED,_),r.bitrateTest=!1})}_handleTransmuxComplete(r){var l;const _="main",{hls:M}=this,{remuxResult:k,chunkMeta:H}=r,te=this.getCurrentContext(H);if(!te)return void this.resetWhenMissingContext(H);const{frag:Ae,part:Pe,level:dt}=te,{video:pt,text:Ut,id3:jt,initSegment:qt}=k,{details:cn}=dt,bn=this.altAudio?void 0:k.audio;if(this.fragContextChanged(Ae))this.fragmentTracker.removeFragment(Ae);else{if(this.state="PARSING",qt){if(null!=qt&&qt.tracks){const Zn=Ae.initSegment||Ae;this._bufferInitSegment(dt,qt.tracks,Zn,H),M.trigger(C.FRAG_PARSING_INIT_SEGMENT,{frag:Zn,id:_,tracks:qt.tracks})}const Bn=qt.initPTS,ei=qt.timescale;p(Bn)&&(this.initPTS[Ae.cc]={baseTime:Bn,timescale:ei},M.trigger(C.INIT_PTS_FOUND,{frag:Ae,id:_,initPTS:Bn,timescale:ei}))}if(pt&&cn&&"initSegment"!==Ae.sn){const Bn=cn.fragments[Ae.sn-1-cn.startSN],ei=Ae.sn===cn.startSN,Zn=!Bn||Ae.cc>Bn.cc;if(!1!==k.independent){const{startPTS:di,endPTS:oi,startDTS:Ai,endDTS:gi}=pt;if(Pe)Pe.elementaryStreams[pt.type]={startPTS:di,endPTS:oi,startDTS:Ai,endDTS:gi};else if(pt.firstKeyFrame&&pt.independent&&1===H.id&&!Zn&&(this.couldBacktrack=!0),pt.dropped&&pt.independent){const Mi=this.getMainFwdBufferInfo(),Pi=(Mi?Mi.end:this.getLoadPosition())+this.config.maxBufferHole;if(!ei&&Pi<(pt.firstKeyFramePTS?pt.firstKeyFramePTS:di)-this.config.maxBufferHole&&!Zn)return void this.backtrack(Ae);Zn&&(Ae.gap=!0),Ae.setElementaryStreamInfo(pt.type,Ae.start,oi,Ae.start,gi,!0)}Ae.setElementaryStreamInfo(pt.type,di,oi,Ai,gi),this.backtrackFragment&&(this.backtrackFragment=Ae),this.bufferFragmentData(pt,Ae,Pe,H,ei||Zn)}else{if(!ei&&!Zn)return void this.backtrack(Ae);Ae.gap=!0}}if(bn){const{startPTS:Bn,endPTS:ei,startDTS:Zn,endDTS:di}=bn;Pe&&(Pe.elementaryStreams.audio={startPTS:Bn,endPTS:ei,startDTS:Zn,endDTS:di}),Ae.setElementaryStreamInfo("audio",Bn,ei,Zn,di),this.bufferFragmentData(bn,Ae,Pe,H)}cn&&null!=jt&&null!=(l=jt.samples)&&l.length&&M.trigger(C.FRAG_PARSING_METADATA,{id:_,frag:Ae,details:cn,samples:jt.samples}),cn&&Ut&&M.trigger(C.FRAG_PARSING_USERDATA,{id:_,frag:Ae,details:cn,samples:Ut.samples})}}_bufferInitSegment(r,l,_,M){if("PARSING"!==this.state)return;this.audioOnly=!!l.audio&&!l.video,this.altAudio&&!this.audioOnly&&delete l.audio;const{audio:k,video:H,audiovideo:te}=l;if(k){let Ae=r.audioCodec;const Pe=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(Ae&&(Ae=-1!==Ae.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==k.metadata.channelCount&&-1===Pe.indexOf("firefox")&&(Ae="mp4a.40.5")),-1!==Pe.indexOf("android")&&"audio/mpeg"!==k.container&&(Ae="mp4a.40.2",this.log(`Android: force audio codec to ${Ae}`)),r.audioCodec&&r.audioCodec!==Ae&&this.log(`Swapping manifest audio codec "${r.audioCodec}" for "${Ae}"`),k.levelCodec=Ae,k.id="main",this.log(`Init audio buffer, container:${k.container}, codecs[selected/level/parsed]=[${Ae||""}/${r.audioCodec||""}/${k.codec}]`)}H&&(H.levelCodec=r.videoCodec,H.id="main",this.log(`Init video buffer, container:${H.container}, codecs[level/parsed]=[${r.videoCodec||""}/${H.codec}]`)),te&&this.log(`Init audiovideo buffer, container:${te.container}, codecs[level/parsed]=[${r.attrs.CODECS||""}/${te.codec}]`),this.hls.trigger(C.BUFFER_CODECS,l),Object.keys(l).forEach(Ae=>{const dt=l[Ae].initSegment;null!=dt&&dt.byteLength&&this.hls.trigger(C.BUFFER_APPENDING,{type:Ae,data:dt,frag:_,part:null,chunkMeta:M,parent:_.type})}),this.tick()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,"main")}backtrack(r){this.couldBacktrack=!0,this.backtrackFragment=r,this.resetTransmuxer(),this.flushBufferGap(r),this.fragmentTracker.removeFragment(r),this.fragPrevious=null,this.nextLoadPosition=r.start,this.state="IDLE"}checkFragmentChanged(){const r=this.media;let l=null;if(r&&r.readyState>1&&!1===r.seeking){const _=r.currentTime;if(Fr.isBuffered(r,_)?l=this.getAppendedFrag(_):Fr.isBuffered(r,_+.1)&&(l=this.getAppendedFrag(_+.1)),l){this.backtrackFragment=null;const M=this.fragPlaying,k=l.level;(!M||l.sn!==M.sn||M.level!==k||l.urlId!==M.urlId)&&(this.fragPlaying=l,this.hls.trigger(C.FRAG_CHANGED,{frag:l}),(!M||M.level!==k)&&this.hls.trigger(C.LEVEL_SWITCHED,{level:k}))}}}get nextLevel(){const r=this.nextBufferedFrag;return r?r.level:-1}get currentFrag(){const r=this.media;return r?this.fragPlaying||this.getAppendedFrag(r.currentTime):null}get currentProgramDateTime(){const r=this.media;if(r){const l=r.currentTime,_=this.currentFrag;if(_&&p(l)&&p(_.programDateTime))return new Date(_.programDateTime+1e3*(l-_.start))}return null}get currentLevel(){const r=this.currentFrag;return r?r.level:-1}get nextBufferedFrag(){const r=this.currentFrag;return r?this.followingBufferedFrag(r):null}get forceStartLoad(){return this._forceStartLoad}}class $s{constructor(r,l=0,_=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=r,this.alpha_=r?Math.exp(Math.log(.5)/r):0,this.estimate_=l,this.totalWeight_=_}sample(r,l){const _=Math.pow(this.alpha_,r);this.estimate_=l*(1-_)+_*this.estimate_,this.totalWeight_+=r}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const r=1-Math.pow(this.alpha_,this.totalWeight_);if(r)return this.estimate_/r}return this.estimate_}}class bl{constructor(r,l,_,M=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=_,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new $s(r),this.fast_=new $s(l),this.defaultTTFB_=M,this.ttfb_=new $s(r)}update(r,l){const{slow_:_,fast_:M,ttfb_:k}=this;_.halfLife!==r&&(this.slow_=new $s(r,_.getEstimate(),_.getTotalWeight())),M.halfLife!==l&&(this.fast_=new $s(l,M.getEstimate(),M.getTotalWeight())),k.halfLife!==r&&(this.ttfb_=new $s(r,k.getEstimate(),k.getTotalWeight()))}sample(r,l){const M=(r=Math.max(r,this.minDelayMs_))/1e3,k=8*l/M;this.fast_.sample(M,k),this.slow_.sample(M,k)}sampleTTFB(r){const l=r/1e3,_=Math.sqrt(2)*Math.exp(-Math.pow(l,2)/2);this.ttfb_.sample(_,Math.max(r,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}class $l{constructor(){this.chunks=[],this.dataLength=0}push(r){this.chunks.push(r),this.dataLength+=r.length}flush(){const{chunks:r,dataLength:l}=this;let _;return r.length?(_=1===r.length?r[0]:function Ec(V,r){const l=new Uint8Array(r);let _=0;for(let M=0;M<V.length;M++){const k=V[M];l.set(k,_),_+=k.length}return l}(r,l),this.reset(),_):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0}}function Jl(V,r){if(V.length!==r.length)return!1;for(let l=0;l<V.length;l++)if(!Ge(V[l].attrs,r[l].attrs))return!1;return!0}function Ge(V,r){const l=V["STABLE-RENDITION-ID"];return l?l===r["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some(_=>V[_]!==r[_])}class nt{constructor(r){this.buffered=void 0;const l=(_,M,k)=>{if((M>>>=0)>k-1)throw new DOMException(`Failed to execute '${_}' on 'TimeRanges': The index provided (${M}) is greater than the maximum bound (${k})`);return r[M][_]};this.buffered={get length(){return r.length},end:_=>l("end",_,r.length),start:_=>l("start",_,r.length)}}}function sn(V){const r=[];for(let l=0;l<V.length;l++){const _=V[l];("subtitles"===_.kind||"captions"===_.kind)&&_.label&&r.push(V[l])}return r}class dn{constructor(r){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=r}append(r,l){const _=this.queues[l];_.push(r),1===_.length&&this.buffers[l]&&this.executeNext(l)}insertAbort(r,l){this.queues[l].unshift(r),this.executeNext(l)}appendBlocker(r){let l;const _=new Promise(k=>{l=k});return this.append({execute:l,onStart:()=>{},onComplete:()=>{},onError:()=>{}},r),_}executeNext(r){const{buffers:l,queues:_}=this,M=l[r],k=_[r];if(k.length){const H=k[0];try{H.execute()}catch(te){b.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),H.onError(te),null!=M&&M.updating||(k.shift(),this.executeNext(r))}}}shiftAndExecuteNext(r){this.queues[r].shift(),this.executeNext(r)}current(r){return this.queues[r][0]}}const Kn=xn(),mi=/([ha]vc.)(?:\.[^.,]+)+/,Ri={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Er=function(r){let l=r;return Ri.hasOwnProperty(r)&&(l=Ri[r]),String.fromCharCode(l)},ro=100,zo={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},hs={17:2,18:4,21:6,22:8,23:10,19:13,20:15},is={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Za={25:2,26:4,29:6,30:8,31:10,27:13,28:15},El=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class da{constructor(){this.time=null,this.verboseLevel=0}log(r,l){if(this.verboseLevel>=r){const _="function"==typeof l?l():l;b.log(`${this.time} [${r}] ${_}`)}}}const ms=function(r){const l=[];for(let _=0;_<r.length;_++)l.push(r[_].toString(16));return l};class Tl{constructor(r,l,_,M,k){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=r||"white",this.underline=l||!1,this.italics=_||!1,this.background=M||"black",this.flash=k||!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(r){const l=["foreground","underline","italics","background","flash"];for(let _=0;_<l.length;_++){const M=l[_];r.hasOwnProperty(M)&&(this[M]=r[M])}}isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(r){return this.foreground===r.foreground&&this.underline===r.underline&&this.italics===r.italics&&this.background===r.background&&this.flash===r.flash}copy(r){this.foreground=r.foreground,this.underline=r.underline,this.italics=r.italics,this.background=r.background,this.flash=r.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class Cc{constructor(r,l,_,M,k,H){this.uchar=void 0,this.penState=void 0,this.uchar=r||" ",this.penState=new Tl(l,_,M,k,H)}reset(){this.uchar=" ",this.penState.reset()}setChar(r,l){this.uchar=r,this.penState.copy(l)}setPenState(r){this.penState.copy(r)}equals(r){return this.uchar===r.uchar&&this.penState.equals(r.penState)}copy(r){this.uchar=r.uchar,this.penState.copy(r.penState)}isEmpty(){return" "===this.uchar&&this.penState.isDefault()}}class wr{constructor(r){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(let l=0;l<ro;l++)this.chars.push(new Cc);this.logger=r,this.pos=0,this.currPenState=new Tl}equals(r){let l=!0;for(let _=0;_<ro;_++)if(!this.chars[_].equals(r.chars[_])){l=!1;break}return l}copy(r){for(let l=0;l<ro;l++)this.chars[l].copy(r.chars[l])}isEmpty(){let r=!0;for(let l=0;l<ro;l++)if(!this.chars[l].isEmpty()){r=!1;break}return r}setCursor(r){this.pos!==r&&(this.pos=r),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>ro&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=ro)}moveCursor(r){const l=this.pos+r;if(r>1)for(let _=this.pos+1;_<l+1;_++)this.chars[_].setPenState(this.currPenState);this.setCursor(l)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(r){r>=144&&this.backSpace();const l=Er(r);this.pos>=ro?this.logger.log(0,()=>"Cannot insert "+r.toString(16)+" ("+l+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(l,this.currPenState),this.moveCursor(1))}clearFromPos(r){let l;for(l=r;l<ro;l++)this.chars[l].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const r=[];let l=!0;for(let _=0;_<ro;_++){const M=this.chars[_].uchar;" "!==M&&(l=!1),r.push(M)}return l?"":r.join("")}setPenStyles(r){this.currPenState.setStyles(r),this.chars[this.pos].setPenState(this.currPenState)}}class Sc{constructor(r){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(let l=0;l<15;l++)this.rows.push(new wr(r));this.logger=r,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}reset(){for(let r=0;r<15;r++)this.rows[r].clear();this.currRow=14}equals(r){let l=!0;for(let _=0;_<15;_++)if(!this.rows[_].equals(r.rows[_])){l=!1;break}return l}copy(r){for(let l=0;l<15;l++)this.rows[l].copy(r.rows[l])}isEmpty(){let r=!0;for(let l=0;l<15;l++)if(!this.rows[l].isEmpty()){r=!1;break}return r}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(r){this.rows[this.currRow].insertChar(r)}setPen(r){this.rows[this.currRow].setPenStyles(r)}moveCursor(r){this.rows[this.currRow].moveCursor(r)}setCursor(r){this.logger.log(2,"setCursor: "+r),this.rows[this.currRow].setCursor(r)}setPAC(r){this.logger.log(2,()=>"pacData = "+JSON.stringify(r));let l=r.row-1;if(this.nrRollUpRows&&l<this.nrRollUpRows-1&&(l=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==l){for(let te=0;te<15;te++)this.rows[te].clear();const k=this.currRow+1-this.nrRollUpRows,H=this.lastOutputScreen;if(H){const te=H.rows[k].cueStartTime,Ae=this.logger.time;if(te&&null!==Ae&&te<Ae)for(let Pe=0;Pe<this.nrRollUpRows;Pe++)this.rows[l-this.nrRollUpRows+Pe+1].copy(H.rows[k+Pe])}}this.currRow=l;const _=this.rows[this.currRow];if(null!==r.indent){const H=Math.max(r.indent-1,0);_.setCursor(r.indent),r.color=_.chars[H].penState.foreground}this.setPen({foreground:r.color,underline:r.underline,italics:r.italics,background:"black",flash:!1})}setBkgData(r){this.logger.log(2,()=>"bkgData = "+JSON.stringify(r)),this.backSpace(),this.setPen(r),this.insertChar(32)}setRollUpRows(r){this.nrRollUpRows=r}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,()=>this.getDisplayText());const l=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];l.clear(),this.rows.splice(this.currRow,0,l),this.logger.log(2,"Rolling up")}getDisplayText(r){r=r||!1;const l=[];let _="",M=-1;for(let k=0;k<15;k++){const H=this.rows[k].getTextString();H&&(M=k+1,l.push(r?"Row "+M+": '"+H+"'":H.trim()))}return l.length>0&&(_=r?"["+l.join(" | ")+"]":l.join("\n")),_}getTextAndFormat(){return this.rows}}class Dc{constructor(r,l,_){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=r,this.outputFilter=l,this.mode=null,this.verbose=0,this.displayedMemory=new Sc(_),this.nonDisplayedMemory=new Sc(_),this.lastOutputScreen=new Sc(_),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=_}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(r){this.outputFilter=r}setPAC(r){this.writeScreen.setPAC(r)}setBkgData(r){this.writeScreen.setBkgData(r)}setMode(r){r!==this.mode&&(this.mode=r,this.logger.log(2,()=>"MODE="+r),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=r)}insertChars(r){for(let _=0;_<r.length;_++)this.writeScreen.insertChar(r[_]);const l=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>l+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(r){this.logger.log(2,"RU("+r+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(r)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const r=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=r,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(r){this.logger.log(2,"TO("+r+") - Tab Offset"),this.writeScreen.moveCursor(r)}ccMIDROW(r){const l={flash:!1};if(l.underline=r%2==1,l.italics=r>=46,l.italics)l.foreground="white";else{const _=Math.floor(r/2)-16;l.foreground=["white","green","blue","cyan","red","yellow","magenta"][_]}this.logger.log(2,"MIDROW: "+JSON.stringify(l)),this.writeScreen.setPen(l)}outputDataUpdate(r=!1){const l=this.logger.time;null!==l&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,l,this.lastOutputScreen),r&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:l):this.cueStartTime=l,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(r){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,r,this.displayedMemory),this.cueStartTime=r))}}class kl{constructor(r,l,_){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;const M=new da;this.channels=[null,new Dc(r,l,M),new Dc(r+1,_,M)],this.cmdHistory={a:null,b:null},this.logger=M}getHandler(r){return this.channels[r].getHandler()}setHandler(r,l){this.channels[r].setHandler(l)}addData(r,l){let _,M,k,H=!1;this.logger.time=r;for(let te=0;te<l.length;te+=2)if(M=127&l[te],k=127&l[te+1],0!==M||0!==k){if(this.logger.log(3,"["+ms([l[te],l[te+1]])+"] -> ("+ms([M,k])+")"),_=this.parseCmd(M,k),_||(_=this.parseMidrow(M,k)),_||(_=this.parsePAC(M,k)),_||(_=this.parseBackgroundAttributes(M,k)),!_&&(H=this.parseChars(M,k),H)){const Ae=this.currentChannel;Ae&&Ae>0?this.channels[Ae].insertChars(H):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!_&&!H&&this.logger.log(2,"Couldn't parse cleaned data "+ms([M,k])+" orig: "+ms([l[te],l[te+1]]))}}parseCmd(r,l){const{cmdHistory:_}=this;if(!((20===r||28===r||21===r||29===r)&&l>=32&&l<=47||(23===r||31===r)&&l>=33&&l<=35))return!1;if(Ra(r,l,_))return $o(null,null,_),this.logger.log(3,"Repeated command ("+ms([r,l])+") is dropped"),!0;const H=20===r||21===r||23===r?1:2,te=this.channels[H];return 20===r||21===r||28===r||29===r?32===l?te.ccRCL():33===l?te.ccBS():34===l?te.ccAOF():35===l?te.ccAON():36===l?te.ccDER():37===l?te.ccRU(2):38===l?te.ccRU(3):39===l?te.ccRU(4):40===l?te.ccFON():41===l?te.ccRDC():42===l?te.ccTR():43===l?te.ccRTD():44===l?te.ccEDM():45===l?te.ccCR():46===l?te.ccENM():47===l&&te.ccEOC():te.ccTO(l-32),$o(r,l,_),this.currentChannel=H,!0}parseMidrow(r,l){let _=0;if((17===r||25===r)&&l>=32&&l<=47){if(_=17===r?1:2,_!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const M=this.channels[_];return!!M&&(M.ccMIDROW(l),this.logger.log(3,"MIDROW ("+ms([r,l])+")"),!0)}return!1}parsePAC(r,l){let _;const M=this.cmdHistory;if(!((r>=17&&r<=23||r>=25&&r<=31)&&l>=64&&l<=127||(16===r||24===r)&&l>=64&&l<=95))return!1;if(Ra(r,l,M))return $o(null,null,M),!0;const te=r<=23?1:2;_=l>=64&&l<=95?1===te?zo[r]:is[r]:1===te?hs[r]:Za[r];const Ae=this.channels[te];return!!Ae&&(Ae.setPAC(this.interpretPAC(_,l)),$o(r,l,M),this.currentChannel=te,!0)}interpretPAC(r,l){let _;const M={color:null,italics:!1,indent:null,underline:!1,row:r};return _=l>95?l-96:l-64,M.underline=1==(1&_),_<=13?M.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(_/2)]:_<=15?(M.italics=!0,M.color="white"):M.indent=4*Math.floor((_-16)/2),M}parseChars(r,l){let _,M=null,k=null;if(r>=25?(_=2,k=r-8):(_=1,k=r),k>=17&&k<=19){let H;H=17===k?l+80:18===k?l+112:l+144,this.logger.log(2,"Special char '"+Er(H)+"' in channel "+_),M=[H]}else r>=32&&r<=127&&(M=0===l?[r]:[r,l]);if(M){const H=ms(M);this.logger.log(3,"Char codes =  "+H.join(",")),$o(r,l,this.cmdHistory)}return M}parseBackgroundAttributes(r,l){if(!((16===r||24===r)&&l>=32&&l<=47||(23===r||31===r)&&l>=45&&l<=47))return!1;let k;const H={};return 16===r||24===r?(k=Math.floor((l-32)/2),H.background=El[k],l%2==1&&(H.background=H.background+"_semi")):45===l?H.background="transparent":(H.foreground="black",47===l&&(H.underline=!0)),this.channels[r<=23?1:2].setBkgData(H),$o(r,l,this.cmdHistory),!0}reset(){for(let r=0;r<Object.keys(this.channels).length;r++){const l=this.channels[r];l&&l.reset()}this.cmdHistory={a:null,b:null}}cueSplitAtTime(r){for(let l=0;l<this.channels.length;l++){const _=this.channels[l];_&&_.cueSplitAtTime(r)}}}function $o(V,r,l){l.a=V,l.b=r}function Ra(V,r,l){return l.a===V&&l.b===r}class Ds{constructor(r,l){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=r,this.trackName=l}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(r,l,_){(null===this.startTime||this.startTime>r)&&(this.startTime=r),this.endTime=l,this.screen=_,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var Xl=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;const V=["","lr","rl"],r=["start","middle","end","left","right"];function l(te,Ae){if("string"!=typeof Ae||!Array.isArray(te))return!1;const Pe=Ae.toLowerCase();return!!~te.indexOf(Pe)&&Pe}function M(te){return l(r,te)}function k(te,...Ae){let Pe=1;for(;Pe<arguments.length;Pe++){const dt=arguments[Pe];for(const pt in dt)te[pt]=dt[pt]}return te}function H(te,Ae,Pe){const dt=this,pt={enumerable:!0};dt.hasBeenReset=!1;let Ut="",jt=!1,qt=te,cn=Ae,bn=Pe,Bn=null,ei="",Zn=!0,di="auto",oi="start",Ai=50,gi="middle",Mi=50,Pi="middle";Object.defineProperty(dt,"id",k({},pt,{get:function(){return Ut},set:function(ui){Ut=""+ui}})),Object.defineProperty(dt,"pauseOnExit",k({},pt,{get:function(){return jt},set:function(ui){jt=!!ui}})),Object.defineProperty(dt,"startTime",k({},pt,{get:function(){return qt},set:function(ui){if("number"!=typeof ui)throw new TypeError("Start time must be set to a number.");qt=ui,this.hasBeenReset=!0}})),Object.defineProperty(dt,"endTime",k({},pt,{get:function(){return cn},set:function(ui){if("number"!=typeof ui)throw new TypeError("End time must be set to a number.");cn=ui,this.hasBeenReset=!0}})),Object.defineProperty(dt,"text",k({},pt,{get:function(){return bn},set:function(ui){bn=""+ui,this.hasBeenReset=!0}})),Object.defineProperty(dt,"region",k({},pt,{get:function(){return Bn},set:function(ui){Bn=ui,this.hasBeenReset=!0}})),Object.defineProperty(dt,"vertical",k({},pt,{get:function(){return ei},set:function(ui){const ji=function _(te){return l(V,te)}(ui);if(!1===ji)throw new SyntaxError("An invalid or illegal string was specified.");ei=ji,this.hasBeenReset=!0}})),Object.defineProperty(dt,"snapToLines",k({},pt,{get:function(){return Zn},set:function(ui){Zn=!!ui,this.hasBeenReset=!0}})),Object.defineProperty(dt,"line",k({},pt,{get:function(){return di},set:function(ui){if("number"!=typeof ui&&"auto"!==ui)throw new SyntaxError("An invalid number or illegal string was specified.");di=ui,this.hasBeenReset=!0}})),Object.defineProperty(dt,"lineAlign",k({},pt,{get:function(){return oi},set:function(ui){const ji=M(ui);if(!ji)throw new SyntaxError("An invalid or illegal string was specified.");oi=ji,this.hasBeenReset=!0}})),Object.defineProperty(dt,"position",k({},pt,{get:function(){return Ai},set:function(ui){if(ui<0||ui>100)throw new Error("Position must be between 0 and 100.");Ai=ui,this.hasBeenReset=!0}})),Object.defineProperty(dt,"positionAlign",k({},pt,{get:function(){return gi},set:function(ui){const ji=M(ui);if(!ji)throw new SyntaxError("An invalid or illegal string was specified.");gi=ji,this.hasBeenReset=!0}})),Object.defineProperty(dt,"size",k({},pt,{get:function(){return Mi},set:function(ui){if(ui<0||ui>100)throw new Error("Size must be between 0 and 100.");Mi=ui,this.hasBeenReset=!0}})),Object.defineProperty(dt,"align",k({},pt,{get:function(){return Pi},set:function(ui){const ji=M(ui);if(!ji)throw new SyntaxError("An invalid or illegal string was specified.");Pi=ji,this.hasBeenReset=!0}})),dt.displayState=void 0}return H.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},H}();class Cl{decode(r,l){if(!r)return"";if("string"!=typeof r)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(r))}}function za(V){function r(_,M,k,H){return 3600*(0|_)+60*(0|M)+(0|k)+parseFloat(H||0)}const l=V.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return l?parseFloat(l[2])>59?r(l[2],l[3],0,l[4]):r(l[1],l[2],l[3],l[4]):null}class ql{constructor(){this.values=Object.create(null)}set(r,l){!this.get(r)&&""!==l&&(this.values[r]=l)}get(r,l,_){return _?this.has(r)?this.values[r]:l[_]:this.has(r)?this.values[r]:l}has(r){return r in this.values}alt(r,l,_){for(let M=0;M<_.length;++M)if(l===_[M]){this.set(r,l);break}}integer(r,l){/^-?\d+$/.test(l)&&this.set(r,parseInt(l,10))}percent(r,l){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(l)){const _=parseFloat(l);if(_>=0&&_<=100)return this.set(r,_),!0}return!1}}function ec(V,r,l,_){const M=_?V.split(_):[V];for(const k in M){if("string"!=typeof M[k])continue;const H=M[k].split(l);2===H.length&&r(H[0],H[1])}}const Us=new Xl(0,0,""),Na="middle"===Us.align?"middle":"center";function ld(V,r,l){const _=V;function M(){const te=za(V);if(null===te)throw new Error("Malformed timestamp: "+_);return V=V.replace(/^[^\sa-zA-Z-]+/,""),te}function H(){V=V.replace(/^\s+/,"")}if(H(),r.startTime=M(),H(),"--\x3e"!==V.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+_);V=V.slice(3),H(),r.endTime=M(),H(),function k(te,Ae){const Pe=new ql;ec(te,function(Ut,jt){let qt;switch(Ut){case"region":for(let cn=l.length-1;cn>=0;cn--)if(l[cn].id===jt){Pe.set(Ut,l[cn].region);break}break;case"vertical":Pe.alt(Ut,jt,["rl","lr"]);break;case"line":qt=jt.split(","),Pe.integer(Ut,qt[0]),Pe.percent(Ut,qt[0])&&Pe.set("snapToLines",!1),Pe.alt(Ut,qt[0],["auto"]),2===qt.length&&Pe.alt("lineAlign",qt[1],["start",Na,"end"]);break;case"position":qt=jt.split(","),Pe.percent(Ut,qt[0]),2===qt.length&&Pe.alt("positionAlign",qt[1],["start",Na,"end","line-left","line-right","auto"]);break;case"size":Pe.percent(Ut,jt);break;case"align":Pe.alt(Ut,jt,["start",Na,"end","left","right"])}},/:/,/\s/),Ae.region=Pe.get("region",null),Ae.vertical=Pe.get("vertical","");let dt=Pe.get("line","auto");"auto"===dt&&-1===Us.line&&(dt=-1),Ae.line=dt,Ae.lineAlign=Pe.get("lineAlign","start"),Ae.snapToLines=Pe.get("snapToLines",!0),Ae.size=Pe.get("size",100),Ae.align=Pe.get("align",Na);let pt=Pe.get("position","auto");"auto"===pt&&50===Us.position&&(pt="start"===Ae.align||"left"===Ae.align?0:"end"===Ae.align||"right"===Ae.align?100:50),Ae.position=pt}(V,r)}function ps(V){return V.replace(/<br(?: \/)?>/gi,"\n")}class Mc{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new Cl,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(r){const l=this;function _(){let k=l.buffer,H=0;for(k=ps(k);H<k.length&&"\r"!==k[H]&&"\n"!==k[H];)++H;const te=k.slice(0,H);return"\r"===k[H]&&++H,"\n"===k[H]&&++H,l.buffer=k.slice(H),te}function M(k){ec(k,function(H,te){},/:/)}r&&(l.buffer+=l.decoder.decode(r,{stream:!0}));try{let k="";if("INITIAL"===l.state){if(!/\r\n|\n/.test(l.buffer))return this;k=_();const te=k.match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(null==te||!te[0])throw new Error("Malformed WebVTT signature.");l.state="HEADER"}let H=!1;for(;l.buffer;){if(!/\r\n|\n/.test(l.buffer))return this;switch(H?H=!1:k=_(),l.state){case"HEADER":/:/.test(k)?M(k):k||(l.state="ID");continue;case"NOTE":k||(l.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(k)){l.state="NOTE";break}if(!k)continue;if(l.cue=new Xl(0,0,""),l.state="CUE",-1===k.indexOf("--\x3e")){l.cue.id=k;continue}case"CUE":if(!l.cue){l.state="BADCUE";continue}try{ld(k,l.cue,l.regionList)}catch{l.cue=null,l.state="BADCUE";continue}l.state="CUETEXT";continue;case"CUETEXT":{const te=-1!==k.indexOf("--\x3e");if(!k||te&&(H=!0)){l.oncue&&l.cue&&l.oncue(l.cue),l.cue=null,l.state="ID";continue}if(null===l.cue)continue;l.cue.text&&(l.cue.text+="\n"),l.cue.text+=k}continue;case"BADCUE":k||(l.state="ID")}}}catch{"CUETEXT"===l.state&&l.cue&&l.oncue&&l.oncue(l.cue),l.cue=null,l.state="INITIAL"===l.state?"BADWEBVTT":"BADCUE"}return this}flush(){const r=this;try{if((r.cue||"HEADER"===r.state)&&(r.buffer+="\n\n",r.parse()),"INITIAL"===r.state||"BADWEBVTT"===r.state)throw new Error("Malformed WebVTT signature.")}catch(l){r.onparsingerror&&r.onparsingerror(l)}return r.onflush&&r.onflush(),this}}const Fl=/\r\n|\n\r|\n|\r/g,rl=function(r,l,_=0){return r.slice(_,_+l.length)===l},Js=function(r){let l=5381,_=r.length;for(;_;)l=33*l^r.charCodeAt(--_);return(l>>>0).toString()};function tc(V,r,l){return Js(V.toString())+Js(r.toString())+Js(l)}const nc="stpp.ttml.im1t",Ac=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Bc=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,Qc={left:"start",center:"center",right:"end",start:"start",end:"end"};function Qs(V,r,l,_){const M=vt(new Uint8Array(V),["mdat"]);if(0===M.length)return void _(new Error("Could not parse IMSC1 mdat"));const k=M.map(te=>Qe(te)),H=function eo(V,r,l=1,_=!1){return $r(V,r,1/l,_)}(r.baseTime,1,r.timescale);try{k.forEach(te=>l(function La(V,r){const M=(new DOMParser).parseFromString(V,"text/xml").getElementsByTagName("tt")[0];if(!M)throw new Error("Invalid ttml");const k={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},H=Object.keys(k).reduce((pt,Ut)=>(pt[Ut]=M.getAttribute(`ttp:${Ut}`)||k[Ut],pt),{}),te="preserve"!==M.getAttribute("xml:space"),Ae=Dl(Sl(M,"styling","style")),Pe=Dl(Sl(M,"layout","region")),dt=Sl(M,"body","[begin]");return[].map.call(dt,pt=>{const Ut=Ul(pt,te);if(!Ut||!pt.hasAttribute("begin"))return null;const jt=Ic(pt.getAttribute("begin"),H),qt=Ic(pt.getAttribute("dur"),H);let cn=Ic(pt.getAttribute("end"),H);if(null===jt)throw xc(pt);if(null===cn){if(null===qt)throw xc(pt);cn=jt+qt}const bn=new Xl(jt-r,cn-r,Ut);bn.id=tc(bn.startTime,bn.endTime,bn.text);const Zn=function Gl(V,r,l){const _="http://www.w3.org/ns/ttml#styling";let M=null;const H=null!=V&&V.hasAttribute("style")?V.getAttribute("style"):null;return H&&l.hasOwnProperty(H)&&(M=l[H]),["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((te,Ae)=>{const Pe=Uc(r,_,Ae)||Uc(V,_,Ae)||Uc(M,_,Ae);return Pe&&(te[Ae]=Pe),te},{})}(Pe[pt.getAttribute("region")],Ae[pt.getAttribute("style")],Ae),{textAlign:di}=Zn;if(di){const oi=Qc[di];oi&&(bn.lineAlign=oi),bn.align=di}return c(bn,Zn),bn}).filter(pt=>null!==pt)}(te,H)))}catch(te){_(te)}}function Sl(V,r,l){const _=V.getElementsByTagName(r)[0];return _?[].slice.call(_.querySelectorAll(l)):[]}function Dl(V){return V.reduce((r,l)=>{const _=l.getAttribute("xml:id");return _&&(r[_]=l),r},{})}function Ul(V,r){return[].slice.call(V.childNodes).reduce((l,_,M)=>{var k;return"br"===_.nodeName&&M?l+"\n":null!=(k=_.childNodes)&&k.length?Ul(_,r):r?l+_.textContent.trim().replace(/\s+/g," "):l+_.textContent},"")}function Uc(V,r,l){return V&&V.hasAttributeNS(r,l)?V.getAttributeNS(r,l):null}function xc(V){return new Error(`Could not parse ttml timestamp ${V}`)}function Ic(V,r){if(!V)return null;let l=za(V);return null===l&&(Ac.test(V)?l=function Xc(V,r){const l=Ac.exec(V);return 3600*(0|l[1])+60*(0|l[2])+(0|l[3])+((0|l[4])+(0|l[5])/r.subFrameRate)/r.frameRate}(V,r):Bc.test(V)&&(l=function qc(V,r){const l=Bc.exec(V),_=Number(l[1]);switch(l[2]){case"h":return 3600*_;case"m":return 60*_;case"ms":return 1e3*_;case"f":return _/r.frameRate;case"t":return _/r.tickRate}return _}(V,r))),l}function $a(V,r){return!!V&&V.label===r.name&&!(V.textTrack1||V.textTrack2)}function ka(V,r,l,_){return Math.min(r,_)-Math.max(V,l)}class rc{constructor(r){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=r,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(r){this.streamController=r}destroy(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:r}=this;r.on(C.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),r.on(C.MEDIA_ATTACHING,this.onMediaAttaching,this),r.on(C.MANIFEST_PARSED,this.onManifestParsed,this),r.on(C.BUFFER_CODECS,this.onBufferCodecs,this),r.on(C.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:r}=this;r.off(C.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),r.off(C.MEDIA_ATTACHING,this.onMediaAttaching,this),r.off(C.MANIFEST_PARSED,this.onManifestParsed,this),r.off(C.BUFFER_CODECS,this.onBufferCodecs,this),r.off(C.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(r,l){const _=this.hls.levels[l.droppedLevel];this.isLevelAllowed(_)&&this.restrictedLevels.push({bitrate:_.bitrate,height:_.height,width:_.width})}onMediaAttaching(r,l){this.media=l.media instanceof HTMLVideoElement?l.media:null,this.clientRect=null}onManifestParsed(r,l){const _=this.hls;this.restrictedLevels=[],this.firstLevel=l.firstLevel,_.config.capLevelToPlayerSize&&l.video&&this.startCapping()}onBufferCodecs(r,l){this.hls.config.capLevelToPlayerSize&&l.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){const r=this.hls.levels;if(r.length){const l=this.hls;l.autoLevelCapping=this.getMaxLevel(r.length-1),l.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=l.autoLevelCapping}}}getMaxLevel(r){const l=this.hls.levels;if(!l.length)return-1;const _=l.filter((M,k)=>this.isLevelAllowed(M)&&k<=r);return this.clientRect=null,rc.getMaxLevelByMediaSize(_,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const r=this.media,l={width:0,height:0};if(r){const _=r.getBoundingClientRect();l.width=_.width,l.height=_.height,!l.width&&!l.height&&(l.width=_.right-_.left||r.width||0,l.height=_.bottom-_.top||r.height||0)}return this.clientRect=l,l}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let r=1;if(!this.hls.config.ignoreDevicePixelRatio)try{r=self.devicePixelRatio}catch{}return r}isLevelAllowed(r){return!this.restrictedLevels.some(_=>r.bitrate===_.bitrate&&r.width===_.width&&r.height===_.height)}static getMaxLevelByMediaSize(r,l,_){if(null==r||!r.length)return-1;const M=(H,te)=>!te||H.width!==te.width||H.height!==te.height;let k=r.length-1;for(let H=0;H<r.length;H+=1){const te=r[H];if((te.width>=l||te.height>=_)&&M(te,r[H+1])){k=H;break}}return k}}const Ja="[eme]";let wc=(()=>{class V{constructor(l){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=V.CDMCleanupPromise?[V.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=b.debug.bind(b,Ja),this.log=b.log.bind(b,Ja),this.warn=b.warn.bind(b,Ja),this.error=b.error.bind(b,Ja),this.hls=l,this.config=l.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const l=this.config;l.requestMediaKeySystemAccessFunc=null,l.licenseXhrSetup=l.licenseResponseCallback=void 0,l.drmSystems=l.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(C.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(C.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(C.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(C.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(C.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(C.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(C.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(C.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(l){const{drmSystems:_,widevineLicenseUrl:M}=this.config,k=_[l];if(k)return k.licenseUrl;if(l===pe.WIDEVINE&&M)return M;throw new Error(`no license server URL configured for key-system "${l}"`)}getServerCertificateUrl(l){const{drmSystems:_}=this.config,M=_[l];if(M)return M.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${l}"]`)}attemptKeySystemAccess(l){const _=this.hls.levels,M=(te,Ae,Pe)=>!!te&&Pe.indexOf(te)===Ae,k=_.map(te=>te.audioCodec).filter(M),H=_.map(te=>te.videoCodec).filter(M);return k.length+H.length===0&&H.push("avc1.42e01e"),new Promise((te,Ae)=>{const Pe=dt=>{const pt=dt.shift();this.getMediaKeysPromise(pt,k,H).then(Ut=>te({keySystem:pt,mediaKeys:Ut})).catch(Ut=>{dt.length?Pe(dt):Ae(Ut instanceof Xs?Ut:new Xs({type:A.KEY_SYSTEM_ERROR,details:x.KEY_SYSTEM_NO_ACCESS,error:Ut,fatal:!0},Ut.message))})};Pe(l)})}requestMediaKeySystemAccess(l,_){const{requestMediaKeySystemAccessFunc:M}=this.config;if("function"!=typeof M){let k=`Configured requestMediaKeySystemAccess is not a function ${M}`;return null===ee&&"http:"===self.location.protocol&&(k=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(k))}return M(l,_)}getMediaKeysPromise(l,_,M){const k=function fe(V,r,l,_){let M;switch(V){case pe.FAIRPLAY:M=["cenc","sinf"];break;case pe.WIDEVINE:case pe.PLAYREADY:M=["cenc"];break;case pe.CLEARKEY:M=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${V}`)}return function we(V,r,l,_){return[{initDataTypes:V,persistentState:_.persistentState||"not-allowed",distinctiveIdentifier:_.distinctiveIdentifier||"not-allowed",sessionTypes:_.sessionTypes||[_.sessionType||"temporary"],audioCapabilities:r.map(k=>({contentType:`audio/mp4; codecs="${k}"`,robustness:_.audioRobustness||"",encryptionScheme:_.audioEncryptionScheme||null})),videoCapabilities:l.map(k=>({contentType:`video/mp4; codecs="${k}"`,robustness:_.videoRobustness||"",encryptionScheme:_.videoEncryptionScheme||null}))}]}(M,r,l,_)}(l,_,M,this.config.drmSystemOptions),H=this.keySystemAccessPromises[l];let te=H?.keySystemAccess;if(!te){this.log(`Requesting encrypted media "${l}" key-system access with config: ${JSON.stringify(k)}`),te=this.requestMediaKeySystemAccess(l,k);const Ae=this.keySystemAccessPromises[l]={keySystemAccess:te};return te.catch(Pe=>{this.log(`Failed to obtain access to key-system "${l}": ${Pe}`)}),te.then(Pe=>{this.log(`Access for key-system "${Pe.keySystem}" obtained`);const dt=this.fetchServerCertificate(l);return this.log(`Create media-keys for "${l}"`),Ae.mediaKeys=Pe.createMediaKeys().then(pt=>(this.log(`Media-keys created for "${l}"`),dt.then(Ut=>Ut?this.setMediaKeysServerCertificate(pt,l,Ut):pt))),Ae.mediaKeys.catch(pt=>{this.error(`Failed to create media-keys for "${l}"}: ${pt}`)}),Ae.mediaKeys})}return te.then(()=>H.mediaKeys)}createMediaKeySessionContext({decryptdata:l,keySystem:_,mediaKeys:M}){this.log(`Creating key-system session "${_}" keyId: ${me_hexDump(l.keyId||[])}`);const k=M.createSession(),H={decryptdata:l,keySystem:_,mediaKeys:M,mediaKeysSession:k,keyStatus:"status-pending"};return this.mediaKeySessions.push(H),H}renewKeySession(l){const _=l.decryptdata;if(_.pssh){const M=this.createMediaKeySessionContext(l),k=this.getKeyIdString(_);this.keyIdToKeySessionPromise[k]=this.generateRequestWithPreferredKeySession(M,"cenc",_.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(l)}getKeyIdString(l){if(!l)throw new Error("Could not read keyId of undefined decryptdata");if(null===l.keyId)throw new Error("keyId is null");return me_hexDump(l.keyId)}updateKeySession(l,_){var M;const k=l.mediaKeysSession;return this.log(`Updating key-session "${k.sessionId}" for keyID ${me_hexDump((null==(M=l.decryptdata)?void 0:M.keyId)||[])}\n      } (data length: ${_&&_.byteLength})`),k.update(_)}selectKeySystemFormat(l){const _=Object.keys(l.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${l.sn} ${l.type}: ${l.level}) key formats ${_.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(_)),this.keyFormatPromise}getKeyFormatPromise(l){return new Promise((_,M)=>{const k=Ne(this.config),H=l.map(Be).filter(te=>!!te&&-1!==k.indexOf(te));return this.getKeySystemSelectionPromise(H).then(({keySystem:te})=>{const Ae=je(te);Ae?_(Ae):M(new Error(`Unable to find format for key-system "${te}"`))}).catch(M)})}loadKey(l){const _=l.keyInfo.decryptdata,M=this.getKeyIdString(_),k=`(keyId: ${M} format: "${_.keyFormat}" method: ${_.method} uri: ${_.uri})`;this.log(`Starting session for key ${k}`);let H=this.keyIdToKeySessionPromise[M];return H||(H=this.keyIdToKeySessionPromise[M]=this.getKeySystemForKeyPromise(_).then(({keySystem:te,mediaKeys:Ae})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${l.frag.sn} ${l.frag.type}: ${l.frag.level} using key ${k}`),this.attemptSetMediaKeys(te,Ae).then(()=>{this.throwIfDestroyed();const Pe=this.createMediaKeySessionContext({keySystem:te,mediaKeys:Ae,decryptdata:_});return this.generateRequestWithPreferredKeySession(Pe,"cenc",_.pssh,"playlist-key")}))),H.catch(te=>this.handleError(te))),H}throwIfDestroyed(l="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(l){this.hls&&(this.error(l.message),this.hls.trigger(C.ERROR,l instanceof Xs?l.data:{type:A.KEY_SYSTEM_ERROR,details:x.KEY_SYSTEM_NO_KEYS,error:l,fatal:!0}))}getKeySystemForKeyPromise(l){const _=this.getKeyIdString(l),M=this.keyIdToKeySessionPromise[_];if(!M){const k=Be(l.keyFormat),H=k?[k]:Ne(this.config);return this.attemptKeySystemAccess(H)}return M}getKeySystemSelectionPromise(l){if(l.length||(l=Ne(this.config)),0===l.length)throw new Xs({type:A.KEY_SYSTEM_ERROR,details:x.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(l)}_onMediaEncrypted(l){const{initDataType:_,initData:M}=l;if(this.debug(`"${l.type}" event: init data type: "${_}"`),null===M)return;let k,H;if("sinf"===_&&this.config.drmSystems[pe.FAIRPLAY]){const pt=Jt(new Uint8Array(M));try{const Ut=ie(JSON.parse(pt).sinf),jt=st(new Uint8Array(Ut));if(!jt)return;k=jt.subarray(8,24),H=pe.FAIRPLAY}catch{return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{const pt=function yn(V){if(!(V instanceof ArrayBuffer)||V.byteLength<32)return null;const r={version:0,systemId:"",kids:null,data:null},l=new DataView(V),_=l.getUint32(0);if(V.byteLength!==_&&_>44||1886614376!==l.getUint32(4)||(r.version=l.getUint32(8)>>>24,r.version>1))return null;r.systemId=me_hexDump(new Uint8Array(V,12,16));const k=l.getUint32(28);if(0===r.version){if(_-32<k)return null;r.data=new Uint8Array(V,32,k)}else if(1===r.version){r.kids=[];for(let H=0;H<k;H++)r.kids.push(new Uint8Array(V,32+16*H,16))}return r}(M);if(null===pt)return;0===pt.version&&"edef8ba979d64acea3c827dcd51d21ed"===pt.systemId&&pt.data&&(k=pt.data.subarray(8,24)),H=function Xe(V){if("edef8ba979d64acea3c827dcd51d21ed"===V)return pe.WIDEVINE}(pt.systemId)}if(!H||!k)return;const te=me_hexDump(k),{keyIdToKeySessionPromise:Ae,mediaKeySessions:Pe}=this;let dt=Ae[te];for(let pt=0;pt<Pe.length;pt++){const Ut=Pe[pt],jt=Ut.decryptdata;if(jt.pssh||!jt.keyId)continue;const qt=me_hexDump(jt.keyId);if(te===qt||-1!==jt.uri.replace(/-/g,"").indexOf(te)){dt=Ae[qt],delete Ae[qt],jt.pssh=new Uint8Array(M),jt.keyId=k,dt=Ae[te]=dt.then(()=>this.generateRequestWithPreferredKeySession(Ut,_,M,"encrypted-event-key-match"));break}}dt||(dt=Ae[te]=this.getKeySystemSelectionPromise([H]).then(({keySystem:pt,mediaKeys:Ut})=>{var jt;this.throwIfDestroyed();const qt=new _n("ISO-23001-7",te,null!=(jt=je(pt))?jt:"");return qt.pssh=new Uint8Array(M),qt.keyId=k,this.attemptSetMediaKeys(pt,Ut).then(()=>{this.throwIfDestroyed();const cn=this.createMediaKeySessionContext({decryptdata:qt,keySystem:pt,mediaKeys:Ut});return this.generateRequestWithPreferredKeySession(cn,_,M,"encrypted-event-no-match")})})),dt.catch(pt=>this.handleError(pt))}_onWaitingForKey(l){this.log(`"${l.type}" event`)}attemptSetMediaKeys(l,_){const M=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${l}"`);const k=Promise.all(M).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(_)});return this.setMediaKeysQueue.push(k),k.then(()=>{this.log(`Media-keys set for "${l}"`),M.push(k),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(H=>-1===M.indexOf(H))})}generateRequestWithPreferredKeySession(l,_,M,k){var H,te;const Ae=null==(H=this.config.drmSystems)||null==(te=H[l.keySystem])?void 0:te.generateRequest;if(Ae)try{const jt=Ae.call(this.hls,_,M,l);if(!jt)throw new Error("Invalid response from configured generateRequest filter");_=jt.initDataType,M=l.decryptdata.pssh=jt.initData?new Uint8Array(jt.initData):null}catch(jt){var Pe;if(this.warn(jt.message),null!=(Pe=this.hls)&&Pe.config.debug)throw jt}if(null===M)return this.log(`Skipping key-session request for "${k}" (no initData)`),Promise.resolve(l);const dt=this.getKeyIdString(l.decryptdata);this.log(`Generating key-session request for "${k}": ${dt} (init data type: ${_} length: ${M?M.byteLength:null})`);const pt=new xo;l.mediaKeysSession.onmessage=jt=>{const qt=l.mediaKeysSession;if(!qt)return void pt.emit("error",new Error("invalid state"));const{messageType:cn,message:bn}=jt;this.log(`"${cn}" message event for session "${qt.sessionId}" message size: ${bn.byteLength}`),"license-request"===cn||"license-renewal"===cn?this.renewLicense(l,bn).catch(Bn=>{this.handleError(Bn),pt.emit("error",Bn)}):"license-release"===cn?l.keySystem===pe.FAIRPLAY&&(this.updateKeySession(l,Me("acknowledged")),this.removeSession(l)):this.warn(`unhandled media key message type "${cn}"`)},l.mediaKeysSession.onkeystatuseschange=jt=>{if(!l.mediaKeysSession)return void pt.emit("error",new Error("invalid state"));this.onKeyStatusChange(l);const cn=l.keyStatus;pt.emit("keyStatus",cn),"expired"===cn&&(this.warn(`${l.keySystem} expired for key ${dt}`),this.renewKeySession(l))};const Ut=new Promise((jt,qt)=>{pt.on("error",qt),pt.on("keyStatus",cn=>{cn.startsWith("usable")?jt():"output-restricted"===cn?qt(new Xs({type:A.KEY_SYSTEM_ERROR,details:x.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===cn?qt(new Xs({type:A.KEY_SYSTEM_ERROR,details:x.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${cn}"`)):"expired"===cn?qt(new Error("key expired while generating request")):this.warn(`unhandled key status change "${cn}"`)})});return l.mediaKeysSession.generateRequest(_,M).then(()=>{var jt;this.log(`Request generated for key-session "${null==(jt=l.mediaKeysSession)?void 0:jt.sessionId}" keyId: ${dt}`)}).catch(jt=>{throw new Xs({type:A.KEY_SYSTEM_ERROR,details:x.KEY_SYSTEM_NO_SESSION,error:jt,fatal:!1},`Error generating key-session request: ${jt}`)}).then(()=>Ut).catch(jt=>{throw pt.removeAllListeners(),this.removeSession(l),jt}).then(()=>(pt.removeAllListeners(),l))}onKeyStatusChange(l){l.mediaKeysSession.keyStatuses.forEach((_,M)=>{this.log(`key status change "${_}" for keyStatuses keyId: ${me_hexDump("buffer"in M?new Uint8Array(M.buffer,M.byteOffset,M.byteLength):new Uint8Array(M))} session keyId: ${me_hexDump(new Uint8Array(l.decryptdata.keyId||[]))} uri: ${l.decryptdata.uri}`),l.keyStatus=_})}fetchServerCertificate(l){const _=this.config,k=new(0,_.loader)(_),H=this.getServerCertificateUrl(l);return H?(this.log(`Fetching serverCertificate for "${l}"`),new Promise((te,Ae)=>{const Pe={responseType:"arraybuffer",url:H},dt=_.certLoadPolicy.default;k.load(Pe,{loadPolicy:dt,timeout:dt.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(jt,qt,cn,bn)=>{te(jt.data)},onError:(jt,qt,cn,bn)=>{Ae(new Xs({type:A.KEY_SYSTEM_ERROR,details:x.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:cn,response:f({url:Pe.url,data:void 0},jt)},`"${l}" certificate request failed (${H}). Status: ${jt.code} (${jt.text})`))},onTimeout:(jt,qt,cn)=>{Ae(new Xs({type:A.KEY_SYSTEM_ERROR,details:x.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:cn,response:{url:Pe.url,data:void 0}},`"${l}" certificate request timed out (${H})`))},onAbort:(jt,qt,cn)=>{Ae(new Error("aborted"))}})})):Promise.resolve()}setMediaKeysServerCertificate(l,_,M){return new Promise((k,H)=>{l.setServerCertificate(M).then(te=>{this.log(`setServerCertificate ${te?"success":"not supported by CDM"} (${M?.byteLength}) on "${_}"`),k(l)}).catch(te=>{H(new Xs({type:A.KEY_SYSTEM_ERROR,details:x.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:te,fatal:!0},te.message))})})}renewLicense(l,_){return this.requestLicense(l,new Uint8Array(_)).then(M=>this.updateKeySession(l,new Uint8Array(M)).catch(k=>{throw new Xs({type:A.KEY_SYSTEM_ERROR,details:x.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:k,fatal:!0},k.message)}))}setupLicenseXHR(l,_,M,k){const H=this.config.licenseXhrSetup;return H?Promise.resolve().then(()=>{if(!M.decryptdata)throw new Error("Key removed");return H.call(this.hls,l,_,M,k)}).catch(te=>{if(!M.decryptdata)throw te;return l.open("POST",_,!0),H.call(this.hls,l,_,M,k)}).then(te=>(l.readyState||l.open("POST",_,!0),{xhr:l,licenseChallenge:te||k})):(l.open("POST",_,!0),Promise.resolve({xhr:l,licenseChallenge:k}))}requestLicense(l,_){const M=this.config.keyLoadPolicy.default;return new Promise((k,H)=>{const te=this.getLicenseServerUrl(l.keySystem);this.log(`Sending license request to URL: ${te}`);const Ae=new XMLHttpRequest;Ae.responseType="arraybuffer",Ae.onreadystatechange=()=>{if(!this.hls||!l.mediaKeysSession)return H(new Error("invalid state"));if(4===Ae.readyState)if(200===Ae.status){this._requestLicenseFailureCount=0;let Pe=Ae.response;this.log(`License received ${Pe instanceof ArrayBuffer?Pe.byteLength:Pe}`);const dt=this.config.licenseResponseCallback;if(dt)try{Pe=dt.call(this.hls,Ae,te,l)}catch(pt){this.error(pt)}k(Pe)}else{const Pe=M.errorRetry,dt=Pe?Pe.maxNumRetry:0;this._requestLicenseFailureCount++,this._requestLicenseFailureCount>dt||Ae.status>=400&&Ae.status<500?H(new Xs({type:A.KEY_SYSTEM_ERROR,details:x.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:Ae,response:{url:te,data:void 0,code:Ae.status,text:Ae.statusText}},`License Request XHR failed (${te}). Status: ${Ae.status} (${Ae.statusText})`)):(this.warn(`Retrying license request, ${dt-this._requestLicenseFailureCount+1} attempts left`),this.requestLicense(l,_).then(k,H))}},l.licenseXhr&&l.licenseXhr.readyState!==XMLHttpRequest.DONE&&l.licenseXhr.abort(),l.licenseXhr=Ae,this.setupLicenseXHR(Ae,te,l,_).then(({xhr:Pe,licenseChallenge:dt})=>{Pe.send(dt)})})}onMediaAttached(l,_){if(!this.config.emeEnabled)return;const M=_.media;this.media=M,M.addEventListener("encrypted",this.onMediaEncrypted),M.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const l=this.media,_=this.mediaKeySessions;l&&(l.removeEventListener("encrypted",this.onMediaEncrypted),l.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},_n.clearKeyUriToKeyIdMap();const M=_.length;V.CDMCleanupPromise=Promise.all(_.map(k=>this.removeSession(k)).concat(l?.setMediaKeys(null).catch(k=>{this.log(`Could not clear media keys: ${k}. media.src: ${l?.src}`)}))).then(()=>{M&&(this.log("finished closing key sessions and clearing media keys"),_.length=0)}).catch(k=>{this.log(`Could not close sessions and clear media keys: ${k}. media.src: ${l?.src}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(l,{sessionKeys:_}){if(_&&this.config.emeEnabled&&!this.keyFormatPromise){const M=_.reduce((k,H)=>(-1===k.indexOf(H.keyFormat)&&k.push(H.keyFormat),k),[]);this.log(`Selecting key-system from session-keys ${M.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(M)}}removeSession(l){const{mediaKeysSession:_,licenseXhr:M}=l;if(_){this.log(`Remove licenses and keys and close session ${_.sessionId}`),_.onmessage=null,_.onkeystatuseschange=null,M&&M.readyState!==XMLHttpRequest.DONE&&M.abort(),l.mediaKeysSession=l.decryptdata=l.licenseXhr=void 0;const k=this.mediaKeySessions.indexOf(l);return k>-1&&this.mediaKeySessions.splice(k,1),_.remove().catch(H=>{this.log(`Could not remove session: ${H}`)}).then(()=>_.close()).catch(H=>{this.log(`Could not close session: ${H}`)})}}}return V.CDMCleanupPromise=void 0,V})();class Xs extends Error{constructor(r,l){super(l),this.data=void 0,r.error||(r.error=new Error(l)),this.data=r,r.err=r.error}}class Qa{constructor(r){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=M=>{try{this.apply(M,{ot:"m",su:!this.initialized})}catch(k){b.warn("Could not generate manifest CMCD data.",k)}},this.applyFragmentData=M=>{try{const k=M.frag,H=this.hls.levels[k.level],te=this.getObjectType(k),Ae={d:1e3*k.duration,ot:te};("v"===te||"a"===te||"av"==te)&&(Ae.br=H.bitrate/1e3,Ae.tb=this.getTopBandwidth(te)/1e3,Ae.bl=this.getBufferLength(te)),this.apply(M,Ae)}catch(k){b.warn("Could not generate segment CMCD data.",k)}},this.hls=r;const l=this.config=r.config,{cmcd:_}=l;null!=_&&(l.pLoader=this.createPlaylistLoader(),l.fLoader=this.createFragmentLoader(),this.sid=_.sessionId||Qa.uuid(),this.cid=_.contentId,this.useHeaders=!0===_.useHeaders,this.registerListeners())}registerListeners(){const r=this.hls;r.on(C.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(C.MEDIA_DETACHED,this.onMediaDetached,this),r.on(C.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const r=this.hls;r.off(C.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(C.MEDIA_DETACHED,this.onMediaDetached,this),r.off(C.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null}onMediaAttached(r,l){this.media=l.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(r,l){var _,M;this.audioBuffer=null==(_=l.tracks.audio)?void 0:_.buffer,this.videoBuffer=null==(M=l.tracks.video)?void 0:M.buffer}createData(){var r;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:null==(r=this.media)?void 0:r.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(r,l={}){if(c(l,this.createData()),this.starved&&("i"===l.ot||"v"===l.ot||"av"===l.ot)&&(l.bs=!0,l.su=!0,this.starved=!1),null==l.su&&(l.su=this.buffering),this.useHeaders){const M=Qa.toHeaders(l);if(!Object.keys(M).length)return;r.headers||(r.headers={}),c(r.headers,M)}else{const M=Qa.toQuery(l);if(!M)return;r.url=Qa.appendQueryToUri(r.url,M)}}getObjectType(r){const{type:l}=r;return"subtitle"===l?"tt":"initSegment"===r.sn?"i":"audio"===l?"a":"main"===l?this.hls.audioTracks.length?"v":"av":void 0}getTopBandwidth(r){let _,l=0;const M=this.hls;if("a"===r)_=M.audioTracks;else{const k=M.maxAutoLevel;_=M.levels.slice(0,k>-1?k+1:M.levels.length)}for(const k of _)k.bitrate>l&&(l=k.bitrate);return l>0?l:NaN}getBufferLength(r){const l=this.hls.media,_="a"===r?this.audioBuffer:this.videoBuffer;return _&&l?1e3*Fr.bufferInfo(_,l.currentTime,this.config.maxBufferHole).len:NaN}createPlaylistLoader(){const{pLoader:r}=this.config,l=this.applyPlaylistData,_=r||this.config.loader;return class{constructor(k){this.loader=void 0,this.loader=new _(k)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(k,H,te){l(k),this.loader.load(k,H,te)}}}createFragmentLoader(){const{fLoader:r}=this.config,l=this.applyFragmentData,_=r||this.config.loader;return class{constructor(k){this.loader=void 0,this.loader=new _(k)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(k,H,te){l(k),this.loader.load(k,H,te)}}}static uuid(){const r=URL.createObjectURL(new Blob),l=r.toString();return URL.revokeObjectURL(r),l.slice(l.lastIndexOf("/")+1)}static serialize(r){const l=[],_=Pe=>!Number.isNaN(Pe)&&null!=Pe&&""!==Pe&&!1!==Pe,M=Pe=>Math.round(Pe),k=Pe=>100*M(Pe/100),te={br:M,d:M,bl:k,dl:k,mtp:k,nor:Pe=>encodeURIComponent(Pe),rtp:k,tb:M},Ae=Object.keys(r||{}).sort();for(const Pe of Ae){let dt=r[Pe];if(!_(dt)||"v"===Pe&&1===dt||"pr"==Pe&&1===dt)continue;const pt=te[Pe];pt&&(dt=pt(dt));const Ut=typeof dt;let jt;jt="ot"===Pe||"sf"===Pe||"st"===Pe?`${Pe}=${dt}`:"boolean"===Ut?Pe:"number"===Ut?`${Pe}=${dt}`:`${Pe}=${JSON.stringify(dt)}`,l.push(jt)}return l.join(",")}static toHeaders(r){const l=Object.keys(r),_={},M=["Object","Request","Session","Status"],k=[{},{},{},{}],H={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};for(const te of l)k[null!=H[te]?H[te]:1][te]=r[te];for(let te=0;te<k.length;te++){const Ae=Qa.serialize(k[te]);Ae&&(_[`CMCD-${M[te]}`]=Ae)}return _}static toQuery(r){return`CMCD=${encodeURIComponent(Qa.serialize(r))}`}static appendQueryToUri(r,l){if(!l)return r;const _=r.includes("?")?"&":"?";return`${r}${_}${l}`}}function jl(V,r,l,_){V&&Object.keys(r).forEach(M=>{const k=V.filter(H=>H.groupId===M).map(H=>{const te=c({},H);return te.details=void 0,te.attrs=new oe(te.attrs),te.url=te.attrs.URI=oc(H.url,H.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",l),te.groupId=te.attrs["GROUP-ID"]=r[M],te.attrs["PATHWAY-ID"]=_,te});V.push(...k)})}function oc(V,r,l,_){const{HOST:M,PARAMS:k,[l]:H}=_;let te;r&&(te=H?.[r],te&&(V=te));const Ae=new self.URL(V);return M&&!te&&(Ae.host=M),k&&Object.keys(k).sort().forEach(Pe=>{Pe&&Ae.searchParams.set(Pe,k[Pe])}),Ae.href}const sc=/^age:\s*[\d.]+\s*$/im;class Wr{constructor(r){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=r&&r.xhrSetup||null,this.stats=new ae,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null}abortInternal(){const r=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),r&&(r.onreadystatechange=null,r.onprogress=null,4!==r.readyState&&(this.stats.aborted=!0,r.abort()))}abort(){var r;this.abortInternal(),null!=(r=this.callbacks)&&r.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(r,l,_){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=r,this.config=l,this.callbacks=_,this.loadInternal()}loadInternal(){const{config:r,context:l}=this;if(!r)return;const _=this.loader=new self.XMLHttpRequest,M=this.stats;M.loading.first=0,M.loaded=0,M.aborted=!1;const k=this.xhrSetup;k?Promise.resolve().then(()=>{if(!this.stats.aborted)return k(_,l.url)}).catch(H=>(_.open("GET",l.url,!0),k(_,l.url))).then(()=>{this.stats.aborted||this.openAndSendXhr(_,l,r)}).catch(H=>{this.callbacks.onError({code:_.status,text:H.message},l,_,M)}):this.openAndSendXhr(_,l,r)}openAndSendXhr(r,l,_){r.readyState||r.open("GET",l.url,!0);const M=this.context.headers,{maxTimeToFirstByteMs:k,maxLoadTimeMs:H}=_.loadPolicy;if(M)for(const te in M)r.setRequestHeader(te,M[te]);l.rangeEnd&&r.setRequestHeader("Range","bytes="+l.rangeStart+"-"+(l.rangeEnd-1)),r.onreadystatechange=this.readystatechange.bind(this),r.onprogress=this.loadprogress.bind(this),r.responseType=l.responseType,self.clearTimeout(this.requestTimeout),_.timeout=k&&p(k)?k:H,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),_.timeout),r.send()}readystatechange(){const{context:r,loader:l,stats:_}=this;if(!r||!l)return;const M=l.readyState,k=this.config;if(!_.aborted&&M>=2&&(0===_.loading.first&&(_.loading.first=Math.max(self.performance.now(),_.loading.start),k.timeout!==k.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),k.timeout=k.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),k.loadPolicy.maxLoadTimeMs-(_.loading.first-_.loading.start)))),4===M)){self.clearTimeout(this.requestTimeout),l.onreadystatechange=null,l.onprogress=null;const H=l.status,te="text"!==l.responseType;if(H>=200&&H<300&&(te&&l.response||null!==l.responseText)){_.loading.end=Math.max(self.performance.now(),_.loading.first);const Ae=te?l.response:l.responseText;if(_.loaded=_.total="arraybuffer"===l.responseType?Ae.byteLength:Ae.length,_.bwEstimate=8e3*_.total/(_.loading.end-_.loading.first),!this.callbacks)return;const dt=this.callbacks.onProgress;if(dt&&dt(_,r,Ae,l),!this.callbacks)return;this.callbacks.onSuccess({url:l.responseURL,data:Ae,code:H},_,r,l)}else{const Ae=k.loadPolicy.errorRetry;lr(Ae,_.retry,!1,H)?this.retry(Ae):(b.error(`${H} while loading ${r.url}`),this.callbacks.onError({code:H,text:l.statusText},r,l,_))}}}loadtimeout(){var r;const l=null==(r=this.config)?void 0:r.loadPolicy.timeoutRetry;if(lr(l,this.stats.retry,!0))this.retry(l);else{b.warn(`timeout while loading ${this.context.url}`);const M=this.callbacks;M&&(this.abortInternal(),M.onTimeout(this.stats,this.context,this.loader))}}retry(r){const{context:l,stats:_}=this;this.retryDelay=ss(r,_.retry),_.retry++,b.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${l.url}, retrying ${_.retry}/${r.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(r){const l=this.stats;l.loaded=r.loaded,r.lengthComputable&&(l.total=r.total)}getCacheAge(){let r=null;if(this.loader&&sc.test(this.loader.getAllResponseHeaders())){const l=this.loader.getResponseHeader("age");r=l?parseFloat(l):null}return r}getResponseHeader(r){return this.loader&&new RegExp(`^${r}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(r):null}}const Ml=/(\d+)-(\d+)\/(\d+)/;class qs{constructor(r){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=r.fetchSetup||ac,this.controller=new self.AbortController,this.stats=new ae}destroy(){this.loader=this.callbacks=null,this.abortInternal()}abortInternal(){const r=this.response;null!=r&&r.ok||(this.stats.aborted=!0,this.controller.abort())}abort(){var r;this.abortInternal(),null!=(r=this.callbacks)&&r.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(r,l,_){const M=this.stats;if(M.loading.start)throw new Error("Loader can only be used once.");M.loading.start=self.performance.now();const k=function Hs(V,r){const l={method:"GET",mode:"cors",credentials:"same-origin",signal:r,headers:new self.Headers(c({},V.headers))};return V.rangeEnd&&l.headers.set("Range","bytes="+V.rangeStart+"-"+String(V.rangeEnd-1)),l}(r,this.controller.signal),H=_.onProgress,te="arraybuffer"===r.responseType,Ae=te?"byteLength":"length",{maxTimeToFirstByteMs:Pe,maxLoadTimeMs:dt}=l.loadPolicy;this.context=r,this.config=l,this.callbacks=_,this.request=this.fetchSetup(r,k),self.clearTimeout(this.requestTimeout),l.timeout=Pe&&p(Pe)?Pe:dt,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),_.onTimeout(M,r,this.response)},l.timeout),self.fetch(this.request).then(pt=>{this.response=this.loader=pt;const Ut=Math.max(self.performance.now(),M.loading.start);if(self.clearTimeout(this.requestTimeout),l.timeout=dt,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),_.onTimeout(M,r,this.response)},dt-(Ut-M.loading.start)),!pt.ok){const{status:jt,statusText:qt}=pt;throw new Al(qt||"fetch, bad network response",jt,pt)}return M.loading.first=Ut,M.total=function ed(V){const r=V.get("Content-Range");if(r){const _=function Ta(V){const r=Ml.exec(V);if(r)return parseInt(r[2])-parseInt(r[1])+1}(r);if(p(_))return _}const l=V.get("Content-Length");if(l)return parseInt(l)}(pt.headers)||M.total,H&&p(l.highWaterMark)?this.loadProgressively(pt,M,r,l.highWaterMark,H):te?pt.arrayBuffer():"json"===r.responseType?pt.json():pt.text()}).then(pt=>{const{response:Ut}=this;self.clearTimeout(this.requestTimeout),M.loading.end=Math.max(self.performance.now(),M.loading.first);const jt=pt[Ae];jt&&(M.loaded=M.total=jt);const qt={url:Ut.url,data:pt,code:Ut.status};H&&!p(l.highWaterMark)&&H(M,r,pt,Ut),_.onSuccess(qt,M,r,Ut)}).catch(pt=>{self.clearTimeout(this.requestTimeout),M.aborted||_.onError({code:pt&&pt.code||0,text:pt?pt.message:null},r,pt?pt.details:null,M)})}getCacheAge(){let r=null;if(this.response){const l=this.response.headers.get("age");r=l?parseFloat(l):null}return r}getResponseHeader(r){return this.response?this.response.headers.get(r):null}loadProgressively(r,l,_,M=0,k){const H=new $l,te=r.body.getReader(),Ae=()=>te.read().then(Pe=>{if(Pe.done)return H.dataLength&&k(l,_,H.flush(),r),Promise.resolve(new ArrayBuffer(0));const dt=Pe.value,pt=dt.length;return l.loaded+=pt,pt<M||H.dataLength?(H.push(dt),H.dataLength>=M&&k(l,_,H.flush(),r)):k(l,_,dt,r),Ae()}).catch(()=>Promise.reject());return Ae()}}function ac(V,r){return new self.Request(V.url,r)}class Al extends Error{constructor(r,l,_){super(r),this.code=void 0,this.details=void 0,this.code=l,this.details=_}}const lc=/\s/,jc={newCue(V,r,l,_){const M=[];let k,H,te,Ae,Pe;const dt=self.VTTCue||self.TextTrackCue;for(let Ut=0;Ut<_.rows.length;Ut++)if(k=_.rows[Ut],te=!0,Ae=0,Pe="",!k.isEmpty()){var pt;for(let cn=0;cn<k.chars.length;cn++)lc.test(k.chars[cn].uchar)&&te?Ae++:(Pe+=k.chars[cn].uchar,te=!1);k.cueStartTime=r,r===l&&(l+=1e-4),Ae>=16?Ae--:Ae++;const jt=ps(Pe.trim()),qt=tc(r,l,jt);null!=V&&null!=(pt=V.cues)&&pt.getCueById(qt)||(H=new dt(r,l,jt),H.id=qt,H.line=Ut+1,H.align="left",H.position=10+Math.min(80,10*Math.floor(8*Ae/32)),M.push(H))}return V&&M.length&&(M.sort((Ut,jt)=>"auto"===Ut.line||"auto"===jt.line?0:Ut.line>8&&jt.line>8?jt.line-Ut.line:Ut.line-jt.line),M.forEach(Ut=>Hr(V,Ut))),M}},Ye=f(f({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Wr,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class Fc{constructor(r){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=r;const l=r.config;this.bwEstimator=new bl(l.abrEwmaSlowVoD,l.abrEwmaFastVoD,l.abrEwmaDefaultEstimate),this.registerListeners()}registerListeners(){const{hls:r}=this;r.on(C.FRAG_LOADING,this.onFragLoading,this),r.on(C.FRAG_LOADED,this.onFragLoaded,this),r.on(C.FRAG_BUFFERED,this.onFragBuffered,this),r.on(C.LEVEL_SWITCHING,this.onLevelSwitching,this),r.on(C.LEVEL_LOADED,this.onLevelLoaded,this)}unregisterListeners(){const{hls:r}=this;r.off(C.FRAG_LOADING,this.onFragLoading,this),r.off(C.FRAG_LOADED,this.onFragLoaded,this),r.off(C.FRAG_BUFFERED,this.onFragBuffered,this),r.off(C.LEVEL_SWITCHING,this.onLevelSwitching,this),r.off(C.LEVEL_LOADED,this.onLevelLoaded,this)}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null}onFragLoading(r,l){var _;const M=l.frag;this.ignoreFragment(M)||(this.fragCurrent=M,this.partCurrent=null!=(_=l.part)?_:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))}onLevelSwitching(r,l){this.clearTimer()}getTimeToLoadFrag(r,l,_,M){return r+_/l+(M?this.lastLevelLoadSec:0)}onLevelLoaded(r,l){const _=this.hls.config,{total:M,bwEstimate:k}=l.stats;p(M)&&p(k)&&(this.lastLevelLoadSec=8*M/k),l.details.live?this.bwEstimator.update(_.abrEwmaSlowLive,_.abrEwmaFastLive):this.bwEstimator.update(_.abrEwmaSlowVoD,_.abrEwmaFastVoD)}_abandonRulesCheck(){const{fragCurrent:r,partCurrent:l,hls:_}=this,{autoLevelEnabled:M,media:k}=_;if(!r||!k)return;const H=performance.now(),te=l?l.stats:r.stats,Ae=l?l.duration:r.duration,Pe=H-te.loading.start;if(te.aborted||te.loaded&&te.loaded===te.total||0===r.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!M||k.paused||!k.playbackRate||!k.readyState)return;const dt=_.mainForwardBufferInfo;if(null===dt)return;const pt=this.bwEstimator.getEstimateTTFB(),Ut=Math.abs(k.playbackRate);if(Pe<=Math.max(pt,Ae/(2*Ut)*1e3))return;const jt=dt.len/Ut;if(jt>=2*Ae/Ut)return;const qt=te.loading.first?te.loading.first-te.loading.start:-1,cn=te.loaded&&qt>-1,bn=this.bwEstimator.getEstimate(),{levels:Bn,minAutoLevel:ei}=_,di=te.total||Math.max(te.loaded,Math.round(Ae*Bn[r.level].maxBitrate/8));let oi=Pe-qt;oi<1&&cn&&(oi=Math.min(Pe,8*te.loaded/bn));const Ai=cn?1e3*te.loaded/oi:0,gi=Ai?(di-te.loaded)/Ai:8*di/bn+pt/1e3;if(gi<=jt)return;const Mi=Ai?8*Ai:bn;let ui,Pi=Number.POSITIVE_INFINITY;for(ui=r.level-1;ui>ei&&(Pi=this.getTimeToLoadFrag(pt/1e3,Mi,Ae*Bn[ui].maxBitrate,!Bn[ui].details),!(Pi<jt));ui--);Pi>=gi||Pi>10*Ae||(_.nextLoadLevel=ui,cn?this.bwEstimator.sample(Pe-Math.min(pt,qt),te.loaded):this.bwEstimator.sampleTTFB(Pe),this.clearTimer(),b.warn(`[abr] Fragment ${r.sn}${l?" part "+l.index:""} of level ${r.level} is loading too slowly;\n      Time to underbuffer: ${jt.toFixed(3)} s\n      Estimated load time for current fragment: ${gi.toFixed(3)} s\n      Estimated load time for down switch fragment: ${Pi.toFixed(3)} s\n      TTFB estimate: ${qt}\n      Current BW estimate: ${p(bn)?(bn/1024).toFixed(3):"Unknown"} Kb/s\n      New BW estimate: ${(this.bwEstimator.getEstimate()/1024).toFixed(3)} Kb/s\n      Aborting and switching to level ${ui}`),r.loader&&(this.fragCurrent=this.partCurrent=null,r.abortRequests()),_.trigger(C.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,part:l,stats:te}))}onFragLoaded(r,{frag:l,part:_}){const M=_?_.stats:l.stats;if("main"===l.type&&this.bwEstimator.sampleTTFB(M.loading.first-M.loading.start),!this.ignoreFragment(l)){if(this.clearTimer(),this.lastLoadedFragLevel=l.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){const H=this.hls.levels[l.level],te=(H.loaded?H.loaded.bytes:0)+M.loaded,Ae=(H.loaded?H.loaded.duration:0)+(_?_.duration:l.duration);H.loaded={bytes:te,duration:Ae},H.realBitrate=Math.round(8*te/Ae)}l.bitrateTest&&(this.onFragBuffered(C.FRAG_BUFFERED,{stats:M,frag:l,part:_,id:l.type}),l.bitrateTest=!1)}}onFragBuffered(r,l){const{frag:_,part:M}=l,k=null!=M&&M.stats.loaded?M.stats:_.stats;if(k.aborted||this.ignoreFragment(_))return;const H=k.parsing.end-k.loading.start-Math.min(k.loading.first-k.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(H,k.loaded),k.bwEstimate=this.bwEstimator.getEstimate(),this.bitrateTestDelay=_.bitrateTest?H/1e3:0}ignoreFragment(r){return"main"!==r.type||"initSegment"===r.sn}clearTimer(){self.clearInterval(this.timer)}get nextAutoLevel(){const r=this._nextAutoLevel;if(-1!==r&&!this.bwEstimator.canEstimate())return r;let _=this.getNextABRAutoLevel();if(-1!==r){const M=this.hls.levels;if(M.length>Math.max(r,_)&&M[r].loadError<=M[_].loadError)return r}return-1!==r&&(_=Math.min(r,_)),_}getNextABRAutoLevel(){const{fragCurrent:r,partCurrent:l,hls:_}=this,{maxAutoLevel:M,config:k,minAutoLevel:H,media:te}=_,Ae=l?l.duration:r?r.duration:0,Pe=te&&0!==te.playbackRate?Math.abs(te.playbackRate):1,dt=this.bwEstimator?this.bwEstimator.getEstimate():k.abrEwmaDefaultEstimate,pt=_.mainForwardBufferInfo,Ut=(pt?pt.len:0)/Pe;let jt=this.findBestLevel(dt,H,M,Ut,k.abrBandWidthFactor,k.abrBandWidthUpFactor);if(jt>=0)return jt;b.trace(`[abr] ${Ut?"rebuffering expected":"buffer is empty"}, finding optimal quality level`);let qt=Ae?Math.min(Ae,k.maxStarvationDelay):k.maxStarvationDelay,cn=k.abrBandWidthFactor,bn=k.abrBandWidthUpFactor;if(!Ut){const Bn=this.bitrateTestDelay;Bn&&(qt=(Ae?Math.min(Ae,k.maxLoadingDelay):k.maxLoadingDelay)-Bn,b.trace(`[abr] bitrate test took ${Math.round(1e3*Bn)}ms, set first fragment max fetchDuration to ${Math.round(1e3*qt)} ms`),cn=bn=1)}return jt=this.findBestLevel(dt,H,M,Ut+qt,cn,bn),Math.max(jt,0)}findBestLevel(r,l,_,M,k,H){var te;const{fragCurrent:Ae,partCurrent:Pe,lastLoadedFragLevel:dt}=this,{levels:pt}=this.hls,Ut=pt[dt],jt=!(null==Ut||null==(te=Ut.details)||!te.live),qt=Ut?.codecSet,cn=Pe?Pe.duration:Ae?Ae.duration:0,bn=this.bwEstimator.getEstimateTTFB()/1e3;let Bn=l,ei=-1;for(let Zn=_;Zn>=l;Zn--){const di=pt[Zn];if(!di||qt&&di.codecSet!==qt){di&&(Bn=Math.min(Zn,Bn),ei=Math.max(Zn,ei));continue}-1!==ei&&b.trace(`[abr] Skipped level(s) ${Bn}-${ei} with CODECS:"${pt[ei].attrs.CODECS}"; not compatible with "${Ut.attrs.CODECS}"`);const oi=di.details,Ai=(Pe?oi?.partTarget:oi?.averagetargetduration)||cn;let gi;gi=Zn<=dt?k*r:H*r;const Mi=pt[Zn].maxBitrate,Pi=this.getTimeToLoadFrag(bn,gi,Mi*Ai,void 0===oi);if(b.trace(`[abr] level:${Zn} adjustedbw-bitrate:${Math.round(gi-Mi)} avgDuration:${Ai.toFixed(1)} maxFetchDuration:${M.toFixed(1)} fetchDuration:${Pi.toFixed(1)}`),gi>Mi&&(0===Pi||!p(Pi)||jt&&!this.bitrateTestDelay||Pi<M))return Zn}return-1}set nextAutoLevel(r){this._nextAutoLevel=r}},bufferController:class Oi{constructor(r){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=()=>{const{media:l,mediaSource:_}=this;b.log("[buffer-controller]: Media source opened"),l&&(l.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(C.MEDIA_ATTACHED,{media:l})),_&&_.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{b.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=()=>{b.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=()=>{const{media:l,_objectUrl:_}=this;l&&l.src!==_&&b.error(`Media element src was set while attaching MediaSource (${_} > ${l.src})`)},this.hls=r,this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null}registerListeners(){const{hls:r}=this;r.on(C.MEDIA_ATTACHING,this.onMediaAttaching,this),r.on(C.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(C.MANIFEST_LOADING,this.onManifestLoading,this),r.on(C.MANIFEST_PARSED,this.onManifestParsed,this),r.on(C.BUFFER_RESET,this.onBufferReset,this),r.on(C.BUFFER_APPENDING,this.onBufferAppending,this),r.on(C.BUFFER_CODECS,this.onBufferCodecs,this),r.on(C.BUFFER_EOS,this.onBufferEos,this),r.on(C.BUFFER_FLUSHING,this.onBufferFlushing,this),r.on(C.LEVEL_UPDATED,this.onLevelUpdated,this),r.on(C.FRAG_PARSED,this.onFragParsed,this),r.on(C.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:r}=this;r.off(C.MEDIA_ATTACHING,this.onMediaAttaching,this),r.off(C.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(C.MANIFEST_LOADING,this.onManifestLoading,this),r.off(C.MANIFEST_PARSED,this.onManifestParsed,this),r.off(C.BUFFER_RESET,this.onBufferReset,this),r.off(C.BUFFER_APPENDING,this.onBufferAppending,this),r.off(C.BUFFER_CODECS,this.onBufferCodecs,this),r.off(C.BUFFER_EOS,this.onBufferEos,this),r.off(C.BUFFER_FLUSHING,this.onBufferFlushing,this),r.off(C.LEVEL_UPDATED,this.onLevelUpdated,this),r.off(C.FRAG_PARSED,this.onFragParsed,this),r.off(C.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new dn(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(r,l){let _=2;(l.audio&&!l.video||!l.altAudio)&&(_=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=_,b.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(r,l){const _=this.media=l.media;if(_&&Kn){const M=this.mediaSource=new Kn;M.addEventListener("sourceopen",this._onMediaSourceOpen),M.addEventListener("sourceended",this._onMediaSourceEnded),M.addEventListener("sourceclose",this._onMediaSourceClose),_.src=self.URL.createObjectURL(M),this._objectUrl=_.src,_.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:r,mediaSource:l,_objectUrl:_}=this;if(l){if(b.log("[buffer-controller]: media source detaching"),"open"===l.readyState)try{l.endOfStream()}catch(M){b.warn(`[buffer-controller]: onMediaDetaching: ${M.message} while calling endOfStream`)}this.onBufferReset(),l.removeEventListener("sourceopen",this._onMediaSourceOpen),l.removeEventListener("sourceended",this._onMediaSourceEnded),l.removeEventListener("sourceclose",this._onMediaSourceClose),r&&(r.removeEventListener("emptied",this._onMediaEmptied),_&&self.URL.revokeObjectURL(_),r.src===_?(r.removeAttribute("src"),r.load()):b.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(C.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(r=>{const l=this.sourceBuffer[r];try{l&&(this.removeBufferListeners(r),this.mediaSource&&this.mediaSource.removeSourceBuffer(l),this.sourceBuffer[r]=void 0)}catch(_){b.warn(`[buffer-controller]: Failed to reset the ${r} buffer`,_)}}),this._initSourceBuffer()}onBufferCodecs(r,l){const _=this.getSourceBufferTypes().length;Object.keys(l).forEach(M=>{if(_){const k=this.tracks[M];if(k&&"function"==typeof k.buffer.changeType){const{id:H,codec:te,levelCodec:Ae,container:Pe,metadata:dt}=l[M],pt=(k.levelCodec||k.codec).replace(mi,"$1"),Ut=(Ae||te).replace(mi,"$1");pt!==Ut&&(this.appendChangeType(M,`${Pe};codecs=${Ae||te}`),b.log(`[buffer-controller]: switching codec ${pt} to ${Ut}`),this.tracks[M]={buffer:k.buffer,codec:te,container:Pe,levelCodec:Ae,metadata:dt,id:H})}}else this.pendingTracks[M]=l[M]}),!_&&(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())}appendChangeType(r,l){const{operationQueue:_}=this,M={execute:()=>{const k=this.sourceBuffer[r];k&&(b.log(`[buffer-controller]: changing ${r} sourceBuffer type to ${l}`),k.changeType(l)),_.shiftAndExecuteNext(r)},onStart:()=>{},onComplete:()=>{},onError:k=>{b.warn(`[buffer-controller]: Failed to change ${r} SourceBuffer type`,k)}};_.append(M,r)}onBufferAppending(r,l){const{hls:_,operationQueue:M,tracks:k}=this,{data:H,type:te,frag:Ae,part:Pe,chunkMeta:dt}=l,pt=dt.buffering[te],Ut=self.performance.now();pt.start=Ut;const jt=Ae.stats.buffering,qt=Pe?Pe.stats.buffering:null;0===jt.start&&(jt.start=Ut),qt&&0===qt.start&&(qt.start=Ut);const cn=k.audio;let bn=!1;"audio"===te&&"audio/mpeg"===cn?.container&&(bn=!this.lastMpegAudioChunk||1===dt.id||this.lastMpegAudioChunk.sn!==dt.sn,this.lastMpegAudioChunk=dt);const Bn=Ae.start;M.append({execute:()=>{if(pt.executeStart=self.performance.now(),bn){const Zn=this.sourceBuffer[te];if(Zn){const di=Bn-Zn.timestampOffset;Math.abs(di)>=.1&&(b.log(`[buffer-controller]: Updating audio SourceBuffer timestampOffset to ${Bn} (delta: ${di}) sn: ${Ae.sn})`),Zn.timestampOffset=Bn)}}this.appendExecutor(H,te)},onStart:()=>{},onComplete:()=>{const Zn=self.performance.now();pt.executeEnd=pt.end=Zn,0===jt.first&&(jt.first=Zn),qt&&0===qt.first&&(qt.first=Zn);const{sourceBuffer:di}=this,oi={};for(const Ai in di)oi[Ai]=Fr.getBuffered(di[Ai]);this.appendError=0,this.hls.trigger(C.BUFFER_APPENDED,{type:te,frag:Ae,part:Pe,chunkMeta:dt,parent:Ae.type,timeRanges:oi})},onError:Zn=>{b.error(`[buffer-controller]: Error encountered while trying to append to the ${te} SourceBuffer`,Zn);const di={type:A.MEDIA_ERROR,parent:Ae.type,details:x.BUFFER_APPEND_ERROR,frag:Ae,part:Pe,chunkMeta:dt,error:Zn,err:Zn,fatal:!1};Zn.code===DOMException.QUOTA_EXCEEDED_ERR?di.details=x.BUFFER_FULL_ERROR:(this.appendError++,di.details=x.BUFFER_APPEND_ERROR,this.appendError>_.config.appendErrorMaxRetry&&(b.error(`[buffer-controller]: Failed ${_.config.appendErrorMaxRetry} times to append segment in sourceBuffer`),di.fatal=!0)),_.trigger(C.ERROR,di)}},te)}onBufferFlushing(r,l){const{operationQueue:_}=this,M=k=>({execute:this.removeExecutor.bind(this,k,l.startOffset,l.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(C.BUFFER_FLUSHED,{type:k})},onError:H=>{b.warn(`[buffer-controller]: Failed to remove from ${k} SourceBuffer`,H)}});l.type?_.append(M(l.type),l.type):this.getSourceBufferTypes().forEach(k=>{_.append(M(k),k)})}onFragParsed(r,l){const{frag:_,part:M}=l,k=[],H=M?M.elementaryStreams:_.elementaryStreams;H.audiovideo?k.push("audiovideo"):(H.audio&&k.push("audio"),H.video&&k.push("video")),0===k.length&&b.warn(`Fragments must have at least one ElementaryStreamType set. type: ${_.type} level: ${_.level} sn: ${_.sn}`),this.blockBuffers(()=>{const Ae=self.performance.now();_.stats.buffering.end=Ae,M&&(M.stats.buffering.end=Ae),this.hls.trigger(C.FRAG_BUFFERED,{frag:_,part:M,stats:M?M.stats:_.stats,id:_.type})},k)}onFragChanged(r,l){this.flushBackBuffer()}onBufferEos(r,l){this.getSourceBufferTypes().reduce((M,k)=>{const H=this.sourceBuffer[k];return H&&(!l.type||l.type===k)&&(H.ending=!0,H.ended||(H.ended=!0,b.log(`[buffer-controller]: ${k} sourceBuffer now EOS`))),M&&!(H&&!H.ended)},!0)&&(b.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(k=>{const H=this.sourceBuffer[k];H&&(H.ending=!1)});const{mediaSource:M}=this;M&&"open"===M.readyState?(b.log("[buffer-controller]: Calling mediaSource.endOfStream()"),M.endOfStream()):M&&b.info(`[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ${M.readyState}`)}))}onLevelUpdated(r,{details:l}){l.fragments.length&&(this.details=l,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}flushBackBuffer(){const{hls:r,details:l,media:_,sourceBuffer:M}=this;if(!_||null===l)return;const k=this.getSourceBufferTypes();if(!k.length)return;const H=l.live&&null!==r.config.liveBackBufferLength?r.config.liveBackBufferLength:r.config.backBufferLength;if(!p(H)||H<0)return;const te=_.currentTime,Ae=l.levelTargetDuration,Pe=Math.max(H,Ae),dt=Math.floor(te/Ae)*Ae-Pe;k.forEach(pt=>{const Ut=M[pt];if(Ut){const jt=Fr.getBuffered(Ut);if(jt.length>0&&dt>jt.start(0)){if(r.trigger(C.BACK_BUFFER_REACHED,{bufferEnd:dt}),l.live)r.trigger(C.LIVE_BACK_BUFFER_REACHED,{bufferEnd:dt});else if(Ut.ended&&jt.end(jt.length-1)-te<2*Ae)return void b.info(`[buffer-controller]: Cannot flush ${pt} back buffer while SourceBuffer is in ended state`);r.trigger(C.BUFFER_FLUSHING,{startOffset:0,endOffset:dt,type:pt})}}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||"open"!==this.mediaSource.readyState)return;const{details:r,hls:l,media:_,mediaSource:M}=this,k=r.fragments[0].start+r.totalduration,H=_.duration,te=p(M.duration)?M.duration:0;r.live&&l.config.liveDurationInfinity?(b.log("[buffer-controller]: Media Source duration is set to Infinity"),M.duration=1/0,this.updateSeekableRange(r)):(k>te&&k>H||!p(H))&&(b.log(`[buffer-controller]: Updating Media Source duration to ${k.toFixed(3)}`),M.duration=k)}updateSeekableRange(r){const l=this.mediaSource,_=r.fragments;if(_.length&&r.live&&null!=l&&l.setLiveSeekableRange){const k=Math.max(0,_[0].start),H=Math.max(k,k+r.totalduration);l.setLiveSeekableRange(k,H)}}checkPendingTracks(){const{bufferCodecEventsExpected:r,operationQueue:l,pendingTracks:_}=this,M=Object.keys(_).length;if(M&&!r||2===M){this.createSourceBuffers(_),this.pendingTracks={};const k=this.getSourceBufferTypes();if(k.length)this.hls.trigger(C.BUFFER_CREATED,{tracks:this.tracks}),k.forEach(H=>{l.executeNext(H)});else{const H=new Error("could not create source buffer for media codec(s)");this.hls.trigger(C.ERROR,{type:A.MEDIA_ERROR,details:x.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:H,reason:H.message})}}}createSourceBuffers(r){const{sourceBuffer:l,mediaSource:_}=this;if(!_)throw Error("createSourceBuffers called when mediaSource was null");for(const M in r)if(!l[M]){const k=r[M];if(!k)throw Error(`source buffer exists for track ${M}, however track does not`);const H=k.levelCodec||k.codec,te=`${k.container};codecs=${H}`;b.log(`[buffer-controller]: creating sourceBuffer(${te})`);try{const Ae=l[M]=_.addSourceBuffer(te),Pe=M;this.addBufferListener(Pe,"updatestart",this._onSBUpdateStart),this.addBufferListener(Pe,"updateend",this._onSBUpdateEnd),this.addBufferListener(Pe,"error",this._onSBUpdateError),this.tracks[M]={buffer:Ae,codec:H,container:k.container,levelCodec:k.levelCodec,metadata:k.metadata,id:k.id}}catch(Ae){b.error(`[buffer-controller]: error while trying to add sourceBuffer: ${Ae.message}`),this.hls.trigger(C.ERROR,{type:A.MEDIA_ERROR,details:x.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:Ae,mimeType:te})}}}_onSBUpdateStart(r){const{operationQueue:l}=this;l.current(r).onStart()}_onSBUpdateEnd(r){const{operationQueue:l}=this;l.current(r).onComplete(),l.shiftAndExecuteNext(r)}_onSBUpdateError(r,l){const _=new Error(`${r} SourceBuffer error`);b.error(`[buffer-controller]: ${_}`,l),this.hls.trigger(C.ERROR,{type:A.MEDIA_ERROR,details:x.BUFFER_APPENDING_ERROR,error:_,fatal:!1});const M=this.operationQueue.current(r);M&&M.onError(l)}removeExecutor(r,l,_){const{media:M,mediaSource:k,operationQueue:H,sourceBuffer:te}=this,Ae=te[r];if(!M||!k||!Ae)return b.warn(`[buffer-controller]: Attempting to remove from the ${r} SourceBuffer, but it does not exist`),void H.shiftAndExecuteNext(r);const Pe=p(M.duration)?M.duration:1/0,dt=p(k.duration)?k.duration:1/0,pt=Math.max(0,l),Ut=Math.min(_,Pe,dt);Ut>pt&&!Ae.ending?(Ae.ended=!1,b.log(`[buffer-controller]: Removing [${pt},${Ut}] from the ${r} SourceBuffer`),Ae.remove(pt,Ut)):H.shiftAndExecuteNext(r)}appendExecutor(r,l){const{operationQueue:_,sourceBuffer:M}=this,k=M[l];if(!k)return b.warn(`[buffer-controller]: Attempting to append to the ${l} SourceBuffer, but it does not exist`),void _.shiftAndExecuteNext(l);k.ended=!1,k.appendBuffer(r)}blockBuffers(r,l=this.getSourceBufferTypes()){if(!l.length)return b.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(r);const{operationQueue:_}=this,M=l.map(k=>_.appendBlocker(k));Promise.all(M).then(()=>{r(),l.forEach(k=>{const H=this.sourceBuffer[k];null!=H&&H.updating||_.shiftAndExecuteNext(k)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(r,l,_){const M=this.sourceBuffer[r];if(!M)return;const k=_.bind(this,r);this.listeners[r].push({event:l,listener:k}),M.addEventListener(l,k)}removeBufferListeners(r){const l=this.sourceBuffer[r];l&&this.listeners[r].forEach(_=>{l.removeEventListener(_.event,_.listener)})}},capLevelController:rc,errorController:class no{constructor(r){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=r,this.log=b.log.bind(b,"[info]:"),this.warn=b.warn.bind(b,"[warning]:"),this.error=b.error.bind(b,"[error]:"),this.registerListeners()}registerListeners(){const r=this.hls;r.on(C.ERROR,this.onError,this),r.on(C.MANIFEST_LOADING,this.onManifestLoading,this),r.on(C.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const r=this.hls;r&&(r.off(C.ERROR,this.onError,this),r.off(C.ERROR,this.onErrorOut,this),r.off(C.MANIFEST_LOADING,this.onManifestLoading,this),r.off(C.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(r){this.playlistError=0}stopLoad(){}getVariantLevelIndex(r){return"main"===r?.type?r.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(r,l){var _,M;if(l.fatal)return;const k=this.hls,H=l.context;switch(l.details){case x.FRAG_LOAD_ERROR:case x.FRAG_LOAD_TIMEOUT:case x.KEY_LOAD_ERROR:case x.KEY_LOAD_TIMEOUT:return void(l.errorAction=this.getFragRetryOrSwitchAction(l));case x.FRAG_PARSING_ERROR:if(null!=(_=l.frag)&&_.gap)return void(l.errorAction={action:0,flags:0});case x.FRAG_GAP:case x.FRAG_DECRYPT_ERROR:return l.errorAction=this.getFragRetryOrSwitchAction(l),void(l.errorAction.action=2);case x.LEVEL_EMPTY_ERROR:case x.LEVEL_PARSING_ERROR:{var te,Ae;const Pe="main"===l.parent?l.level:k.loadLevel;l.details===x.LEVEL_EMPTY_ERROR&&null!=(te=l.context)&&null!=(Ae=te.levelDetails)&&Ae.live?l.errorAction=this.getPlaylistRetryOrSwitchAction(l,Pe):(l.levelRetry=!1,l.errorAction=this.getLevelSwitchAction(l,Pe))}return;case x.LEVEL_LOAD_ERROR:case x.LEVEL_LOAD_TIMEOUT:return void("number"==typeof H?.level&&(l.errorAction=this.getPlaylistRetryOrSwitchAction(l,H.level)));case x.AUDIO_TRACK_LOAD_ERROR:case x.AUDIO_TRACK_LOAD_TIMEOUT:case x.SUBTITLE_LOAD_ERROR:case x.SUBTITLE_TRACK_LOAD_TIMEOUT:if(H){const Pe=k.levels[k.loadLevel];if(Pe&&("audioTrack"===H.type&&H.groupId===Pe.audioGroupId||"subtitleTrack"===H.type&&H.groupId===Pe.textGroupId))return l.errorAction=this.getPlaylistRetryOrSwitchAction(l,k.loadLevel),l.errorAction.action=2,void(l.errorAction.flags=1)}return;case x.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const Pe=k.levels[k.loadLevel],dt=Pe?.attrs["HDCP-LEVEL"];dt&&(l.errorAction={action:2,flags:2,hdcpLevel:dt})}return;case x.BUFFER_ADD_CODEC_ERROR:case x.REMUX_ALLOC_ERROR:return void(l.errorAction=this.getLevelSwitchAction(l,null!=(M=l.level)?M:k.loadLevel));case x.INTERNAL_EXCEPTION:case x.BUFFER_APPENDING_ERROR:case x.BUFFER_APPEND_ERROR:case x.BUFFER_FULL_ERROR:case x.LEVEL_SWITCH_ERROR:case x.BUFFER_STALLED_ERROR:case x.BUFFER_SEEK_OVER_HOLE:case x.BUFFER_NUDGE_ON_STALL:return void(l.errorAction={action:0,flags:0})}if(l.type===A.KEY_SYSTEM_ERROR){const Pe=this.getVariantLevelIndex(l.frag);return l.levelRetry=!1,void(l.errorAction=this.getLevelSwitchAction(l,Pe))}}getPlaylistRetryOrSwitchAction(r,l){var _;const k=_o(this.hls.config.playlistLoadPolicy,r),H=this.playlistError++,te=null==(_=r.response)?void 0:_.code;if(lr(k,H,Xr(r),te))return{action:5,flags:0,retryConfig:k,retryCount:H};const Pe=this.getLevelSwitchAction(r,l);return k&&(Pe.retryConfig=k,Pe.retryCount=H),Pe}getFragRetryOrSwitchAction(r){const l=this.hls,_=this.getVariantLevelIndex(r.frag),M=l.levels[_],{fragLoadPolicy:k,keyLoadPolicy:H}=l.config,te=_o(r.details.startsWith("key")?H:k,r),Ae=l.levels.reduce((pt,Ut)=>pt+Ut.fragmentError,0);if(M){var Pe;r.details!==x.FRAG_GAP&&M.fragmentError++;const pt=null==(Pe=r.response)?void 0:Pe.code;if(lr(te,Ae,Xr(r),pt))return{action:5,flags:0,retryConfig:te,retryCount:Ae}}const dt=this.getLevelSwitchAction(r,_);return te&&(dt.retryConfig=te,dt.retryCount=Ae),dt}getLevelSwitchAction(r,l){const _=this.hls;null==l&&(l=_.loadLevel);const M=this.hls.levels[l];if(M&&(M.loadError++,_.autoLevelEnabled)){var k,H;let te=-1;const{levels:Ae,loadLevel:Pe,minAutoLevel:dt,maxAutoLevel:pt}=_,Ut=null==(k=r.frag)?void 0:k.type,{type:jt,groupId:qt}=null!=(H=r.context)?H:{};for(let cn=Ae.length;cn--;){const bn=(cn+Pe)%Ae.length;if(bn!==Pe&&bn>=dt&&bn<=pt&&0===Ae[bn].loadError){const Bn=Ae[bn];if(r.details===x.FRAG_GAP&&r.frag){const ei=Ae[bn].details;if(ei){const Zn=uo(r.frag,ei.fragments,r.frag.start);if(null!=Zn&&Zn.gap)continue}}else{if("audioTrack"===jt&&qt===Bn.audioGroupId||"subtitleTrack"===jt&&qt===Bn.textGroupId)continue;if("audio"===Ut&&M.audioGroupId===Bn.audioGroupId||"subtitle"===Ut&&M.textGroupId===Bn.textGroupId)continue}te=bn;break}}if(te>-1&&_.loadLevel!==te)return r.levelRetry=!0,this.playlistError=0,{action:2,flags:0,nextAutoLevel:te}}return{action:2,flags:1}}onErrorOut(r,l){var _;switch(null==(_=l.errorAction)?void 0:_.action){case 0:break;case 2:this.sendAlternateToPenaltyBox(l),!l.errorAction.resolved&&l.details!==x.FRAG_GAP&&(l.fatal=!0)}l.fatal&&this.hls.stopLoad()}sendAlternateToPenaltyBox(r){const l=this.hls,_=r.errorAction;if(!_)return;const{flags:M,hdcpLevel:k,nextAutoLevel:H}=_;switch(M){case 0:this.switchLevel(r,H);break;case 1:_.resolved||(_.resolved=this.redundantFailover(r));break;case 2:k&&(l.maxHdcpLevel=Vr[Vr.indexOf(k)-1],_.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${l.maxHdcpLevel}" or lower`)}_.resolved||this.switchLevel(r,H)}switchLevel(r,l){void 0!==l&&r.errorAction&&(this.warn(`switching to level ${l} after ${r.details}`),this.hls.nextAutoLevel=l,r.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}redundantFailover(r){const{hls:l,penalizedRenditions:_}=this,M="main"===r.parent?r.level:l.loadLevel,k=l.levels[M],H=k.url.length,te=r.frag?r.frag.urlId:k.urlId;k.urlId===te&&(!r.frag||k.details)&&this.penalizeRendition(k,r);for(let Ae=1;Ae<H;Ae++){const Pe=(te+Ae)%H,dt=_[Pe];if(!dt||ua(dt,r,_[te]))return this.warn(`Switching to Redundant Stream ${Pe+1}/${H}: "${k.url[Pe]}" after ${r.details}`),this.playlistError=0,l.levels.forEach(pt=>{pt.urlId=Pe}),l.nextLoadLevel=M,!0}return!1}penalizeRendition(r,l){const{penalizedRenditions:_}=this,M=_[r.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};M.lastErrorPerfMs=performance.now(),M.errors.push(l),M.details=r.details,_[r.urlId]=M}},fpsController:class Hl{constructor(r){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=r,this.registerListeners()}setStreamController(r){this.streamController=r}registerListeners(){this.hls.on(C.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(C.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(r,l){const _=this.hls.config;if(_.capLevelOnFPSDrop){const M=l.media instanceof self.HTMLVideoElement?l.media:null;this.media=M,M&&"function"==typeof M.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),_.fpsDroppedMonitoringPeriod)}}checkFPS(r,l,_){const M=performance.now();if(l){if(this.lastTime){const H=_-this.lastDroppedFrames,te=l-this.lastDecodedFrames,Ae=1e3*H/(M-this.lastTime),Pe=this.hls;if(Pe.trigger(C.FPS_DROP,{currentDropped:H,currentDecoded:te,totalDroppedFrames:_}),Ae>0&&H>Pe.config.fpsDroppedMonitoringThreshold*te){let dt=Pe.currentLevel;b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+dt),dt>0&&(-1===Pe.autoLevelCapping||Pe.autoLevelCapping>=dt)&&(dt-=1,Pe.trigger(C.FPS_DROP_LEVEL_CAPPING,{level:dt,droppedLevel:Pe.currentLevel}),Pe.autoLevelCapping=dt,this.streamController.nextLevelSwitch())}}this.lastTime=M,this.lastDroppedFrames=_,this.lastDecodedFrames=l}}checkFPSInterval(){const r=this.media;if(r)if(this.isVideoPlaybackQualityAvailable){const l=r.getVideoPlaybackQuality();this.checkFPS(r,l.totalVideoFrames,l.droppedVideoFrames)}else this.checkFPS(r,r.webkitDecodedFrameCount,r.webkitDroppedFrameCount)}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:ee,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},function ut(){return{cueHandler:jc,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}()),{},{subtitleStreamController:class xe extends Os{constructor(r,l,_){super(r,l,_,"[subtitle-stream-controller]","subtitle"),this.levels=[],this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null}_registerListeners(){const{hls:r}=this;r.on(C.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(C.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(C.MANIFEST_LOADING,this.onManifestLoading,this),r.on(C.LEVEL_LOADED,this.onLevelLoaded,this),r.on(C.ERROR,this.onError,this),r.on(C.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),r.on(C.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),r.on(C.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),r.on(C.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),r.on(C.BUFFER_FLUSHING,this.onBufferFlushing,this),r.on(C.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:r}=this;r.off(C.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(C.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(C.MANIFEST_LOADING,this.onManifestLoading,this),r.off(C.LEVEL_LOADED,this.onLevelLoaded,this),r.off(C.ERROR,this.onError,this),r.off(C.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),r.off(C.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),r.off(C.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),r.off(C.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),r.off(C.BUFFER_FLUSHING,this.onBufferFlushing,this),r.off(C.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(r){this.stopLoad(),this.state="IDLE",this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=r,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(r,l){this.mainDetails=l.details}onSubtitleFragProcessed(r,l){const{frag:_,success:M}=l;if(this.fragPrevious=_,this.state="IDLE",!M)return;const k=this.tracksBuffered[this.currentTrackId];if(!k)return;let H;const te=_.start;for(let Pe=0;Pe<k.length;Pe++)if(te>=k[Pe].start&&te<=k[Pe].end){H=k[Pe];break}const Ae=_.start+_.duration;H?H.end=Ae:(H={start:te,end:Ae},k.push(H)),this.fragmentTracker.fragBuffered(_)}onBufferFlushing(r,l){const{startOffset:_,endOffset:M}=l;if(0===_&&M!==Number.POSITIVE_INFINITY){const k=M-1;if(k<=0)return;l.endOffsetSubtitles=Math.max(0,k),this.tracksBuffered.forEach(H=>{for(let te=0;te<H.length;)if(H[te].end<=k)H.shift();else{if(!(H[te].start<k))break;H[te].start=k,te++}}),this.fragmentTracker.removeFragmentsInRange(_,k,"subtitle")}}onFragBuffered(r,l){var _;this.loadedmetadata||"main"!==l.frag.type||null!=(_=this.media)&&_.buffered.length&&(this.loadedmetadata=!0)}onError(r,l){const _=l.frag;"subtitle"===_?.type&&(this.fragCurrent&&this.fragCurrent.abortRequests(),"STOPPED"!==this.state&&(this.state="IDLE"))}onSubtitleTracksUpdated(r,{subtitleTracks:l}){Jl(this.levels,l)?this.levels=l.map(_=>new Dn(_)):(this.tracksBuffered=[],this.levels=l.map(_=>{const M=new Dn(_);return this.tracksBuffered[M.id]=[],M}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,"subtitle"),this.fragPrevious=null,this.mediaBuffer=null)}onSubtitleTrackSwitch(r,l){if(this.currentTrackId=l.id,!this.levels.length||-1===this.currentTrackId)return void this.clearInterval();const _=this.levels[this.currentTrackId];this.mediaBuffer=null!=_&&_.details?this.mediaBufferTimeRanges:null,_&&this.setInterval(500)}onSubtitleTrackLoaded(r,l){var _;const{details:M,id:k}=l,{currentTrackId:H,levels:te}=this;if(!te.length)return;const Ae=te[H];if(k>=te.length||k!==H||!Ae)return;this.mediaBuffer=this.mediaBufferTimeRanges;let Pe=0;if(M.live||null!=(_=Ae.details)&&_.live){const dt=this.mainDetails;if(M.deltaUpdateFailed||!dt)return;const pt=dt.fragments[0];Ae.details?(Pe=this.alignPlaylists(M,Ae.details),0===Pe&&pt&&(Pe=pt.start,Ir(M,Pe))):M.hasProgramDateTime&&dt.hasProgramDateTime?(ft(M,dt),Pe=M.fragments[0].start):pt&&(Pe=pt.start,Ir(M,Pe))}Ae.details=M,this.levelLastLoaded=k,!this.startFragRequested&&(this.mainDetails||!M.live)&&this.setStartPosition(Ae.details,Pe),this.tick(),M.live&&!this.fragCurrent&&this.media&&"IDLE"===this.state&&(uo(null,M.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),Ae.details=void 0))}_handleFragmentLoadComplete(r){const{frag:l,payload:_}=r,M=l.decryptdata,k=this.hls;if(!this.fragContextChanged(l)&&_&&_.byteLength>0&&M&&M.key&&M.iv&&"AES-128"===M.method){const H=performance.now();this.decrypter.decrypt(new Uint8Array(_),M.key.buffer,M.iv.buffer).catch(te=>{throw k.trigger(C.ERROR,{type:A.MEDIA_ERROR,details:x.FRAG_DECRYPT_ERROR,fatal:!1,error:te,reason:te.message,frag:l}),te}).then(te=>{const Ae=performance.now();k.trigger(C.FRAG_DECRYPTED,{frag:l,payload:te,stats:{tstart:H,tdecrypt:Ae}})}).catch(te=>{this.warn(`${te.name}: ${te.message}`),this.state="IDLE"})}}doTick(){if(this.media){if("IDLE"===this.state){const{currentTrackId:r,levels:l}=this,_=l[r];if(!l.length||!_||!_.details)return;const{config:M}=this,k=this.getLoadPosition(),H=Fr.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],k,M.maxBufferHole),{end:te,len:Ae}=H,Pe=this.getFwdBufferInfo(this.media,"main"),dt=_.details;if(Ae>this.getMaxBufferLength(Pe?.len)+dt.levelTargetDuration)return;const Ut=dt.fragments,jt=Ut.length,qt=dt.edge;let cn=null;const bn=this.fragPrevious;if(te<qt){const Bn=M.maxFragLookUpTolerance,ei=te>qt-Bn?0:Bn;cn=uo(bn,Ut,Math.max(Ut[0].start,te),ei),!cn&&bn&&bn.start<Ut[0].start&&(cn=Ut[0])}else cn=Ut[jt-1];if(!cn)return;if(cn=this.mapToInitFragWhenRequired(cn),"initSegment"!==cn.sn){const ei=Ut[cn.sn-dt.startSN-1];ei&&ei.cc===cn.cc&&"NOT_LOADED"===this.fragmentTracker.getState(ei)&&(cn=ei)}"NOT_LOADED"===this.fragmentTracker.getState(cn)&&this.loadFragment(cn,_,te)}}else this.state="IDLE"}getMaxBufferLength(r){const l=super.getMaxBufferLength();return r?Math.max(l,r):l}loadFragment(r,l,_){this.fragCurrent=r,"initSegment"===r.sn?this._loadInitSegment(r,l):(this.startFragRequested=!0,super.loadFragment(r,l,_))}get mediaBufferTimeRanges(){return new nt(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class Gt extends Ao{constructor(r){super(r,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.trackChangeListener=()=>this.onTextTracksChanged(),this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(r){this._subtitleDisplay=r,this.trackId>-1&&this.toggleTrackModes(this.trackId)}registerListeners(){const{hls:r}=this;r.on(C.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(C.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(C.MANIFEST_LOADING,this.onManifestLoading,this),r.on(C.MANIFEST_PARSED,this.onManifestParsed,this),r.on(C.LEVEL_LOADING,this.onLevelLoading,this),r.on(C.LEVEL_SWITCHING,this.onLevelSwitching,this),r.on(C.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),r.on(C.ERROR,this.onError,this)}unregisterListeners(){const{hls:r}=this;r.off(C.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(C.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(C.MANIFEST_LOADING,this.onManifestLoading,this),r.off(C.MANIFEST_PARSED,this.onManifestParsed,this),r.off(C.LEVEL_LOADING,this.onLevelLoading,this),r.off(C.LEVEL_SWITCHING,this.onLevelSwitching,this),r.off(C.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),r.off(C.ERROR,this.onError,this)}onMediaAttached(r,l){this.media=l.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(r){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,r)}onMediaDetaching(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),sn(this.media.textTracks).forEach(l=>{tr(l)}),this.subtitleTrack=-1,this.media=null)}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(r,l){this.tracks=l.subtitleTracks}onSubtitleTrackLoaded(r,l){const{id:_,details:M}=l,{trackId:k}=this,H=this.tracksInGroup[k];if(!H)return void this.warn(`Invalid subtitle track id ${_}`);const te=H.details;H.details=l.details,this.log(`subtitle track ${_} loaded [${M.startSN}-${M.endSN}]`),_===this.trackId&&this.playlistLoaded(_,l,te)}onLevelLoading(r,l){this.switchLevel(l.level)}onLevelSwitching(r,l){this.switchLevel(l.level)}switchLevel(r){const l=this.hls.levels[r];if(null==l||!l.textGroupIds)return;const _=l.textGroupIds[l.urlId],M=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==_){const k=this.tracks.filter(Ae=>!_||Ae.groupId===_);this.tracksInGroup=k;const H=this.findTrackId(M?.name)||this.findTrackId();this.groupId=_||null;const te={subtitleTracks:k};this.log(`Updating subtitle tracks, ${k.length} track(s) found in "${_}" group-id`),this.hls.trigger(C.SUBTITLE_TRACKS_UPDATED,te),-1!==H&&this.setSubtitleTrack(H,M)}else this.shouldReloadPlaylist(M)&&this.setSubtitleTrack(this.trackId,M)}findTrackId(r){const l=this.tracksInGroup;for(let _=0;_<l.length;_++){const M=l[_];if((!this.selectDefaultTrack||M.default)&&(!r||r===M.name))return M.id}return-1}onError(r,l){l.fatal||!l.context||"subtitleTrack"===l.context.type&&l.context.id===this.trackId&&l.context.groupId===this.groupId&&this.checkRetry(l)}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(r){this.selectDefaultTrack=!1,this.setSubtitleTrack(r,this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0)}loadPlaylist(r){super.loadPlaylist();const l=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(l)){const _=l.id,M=l.groupId;let k=l.url;if(r)try{k=r.addDirectives(k)}catch(H){this.warn(`Could not construct new URL with HLS Delivery Directives: ${H}`)}this.log(`Loading subtitle playlist for id ${_}`),this.hls.trigger(C.SUBTITLE_TRACK_LOADING,{url:k,id:_,groupId:M,deliveryDirectives:r||null})}}toggleTrackModes(r){const{media:l,trackId:_}=this;if(!l)return;const M=sn(l.textTracks),k=M.filter(te=>te.groupId===this.groupId);if(-1===r)[].slice.call(M).forEach(te=>{te.mode="disabled"});else{const te=k[_];te&&(te.mode="disabled")}const H=k[r];H&&(H.mode=this.subtitleDisplay?"showing":"hidden")}setSubtitleTrack(r,l){var _;const M=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=r);if(this.trackId!==r&&this.toggleTrackModes(r),this.trackId===r&&(-1===r||null!=(_=M[r])&&_.details)||r<-1||r>=M.length)return;this.clearTimer();const k=M[r];if(this.log(`Switching to subtitle-track ${r}`+(k?` "${k.name}" lang:${k.lang} group:${k.groupId}`:"")),this.trackId=r,k){const{id:H,groupId:te="",name:Ae,type:Pe,url:dt}=k;this.hls.trigger(C.SUBTITLE_TRACK_SWITCH,{id:H,groupId:te,name:Ae,type:Pe,url:dt});const pt=this.switchParams(k.url,l?.details);this.loadPlaylist(pt)}else this.hls.trigger(C.SUBTITLE_TRACK_SWITCH,{id:r})}onTextTracksChanged(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let r=-1;const l=sn(this.media.textTracks);for(let _=0;_<l.length;_++)if("hidden"===l[_].mode)r=_;else if("showing"===l[_].mode){r=_;break}this.subtitleTrack!==r&&(this.subtitleTrack=r)}},timelineController:class ic{constructor(r){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=r,this.config=r.config,this.Cues=r.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){const l=new Ds(this,"textTrack1"),_=new Ds(this,"textTrack2"),M=new Ds(this,"textTrack3"),k=new Ds(this,"textTrack4");this.cea608Parser1=new kl(1,l,_),this.cea608Parser2=new kl(3,M,k)}r.on(C.MEDIA_ATTACHING,this.onMediaAttaching,this),r.on(C.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(C.MANIFEST_LOADING,this.onManifestLoading,this),r.on(C.MANIFEST_LOADED,this.onManifestLoaded,this),r.on(C.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),r.on(C.FRAG_LOADING,this.onFragLoading,this),r.on(C.FRAG_LOADED,this.onFragLoaded,this),r.on(C.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),r.on(C.FRAG_DECRYPTED,this.onFragDecrypted,this),r.on(C.INIT_PTS_FOUND,this.onInitPtsFound,this),r.on(C.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),r.on(C.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:r}=this;r.off(C.MEDIA_ATTACHING,this.onMediaAttaching,this),r.off(C.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(C.MANIFEST_LOADING,this.onManifestLoading,this),r.off(C.MANIFEST_LOADED,this.onManifestLoaded,this),r.off(C.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),r.off(C.FRAG_LOADING,this.onFragLoading,this),r.off(C.FRAG_LOADED,this.onFragLoaded,this),r.off(C.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),r.off(C.FRAG_DECRYPTED,this.onFragDecrypted,this),r.off(C.INIT_PTS_FOUND,this.onInitPtsFound,this),r.off(C.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),r.off(C.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null}addCues(r,l,_,M,k){let H=!1;for(let te=k.length;te--;){const Ae=k[te],Pe=ka(Ae[0],Ae[1],l,_);if(Pe>=0&&(Ae[0]=Math.min(Ae[0],l),Ae[1]=Math.max(Ae[1],_),H=!0,Pe/(_-l)>.5))return}if(H||k.push([l,_]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[r],l,_,M);else{const te=this.Cues.newCue(null,l,_,M);this.hls.trigger(C.CUES_PARSED,{type:"captions",cues:te,track:r})}}onInitPtsFound(r,{frag:l,id:_,initPTS:M,timescale:k}){const{unparsedVttFrags:H}=this;"main"===_&&(this.initPTS[l.cc]={baseTime:M,timescale:k}),H.length&&(this.unparsedVttFrags=[],H.forEach(te=>{this.onFragLoaded(C.FRAG_LOADED,te)}))}getExistingTrack(r){const{media:l}=this;if(l)for(let _=0;_<l.textTracks.length;_++){const M=l.textTracks[_];if(M[r])return M}return null}createCaptionsTrack(r){this.config.renderTextTracksNatively?this.createNativeTrack(r):this.createNonNativeTrack(r)}createNativeTrack(r){if(this.captionsTracks[r])return;const{captionsProperties:l,captionsTracks:_,media:M}=this,{label:k,languageCode:H}=l[r],te=this.getExistingTrack(r);if(te)_[r]=te,tr(_[r]),Yi(_[r],M);else{const Ae=this.createTextTrack("captions",k,H);Ae&&(Ae[r]=!0,_[r]=Ae)}}createNonNativeTrack(r){if(this.nonNativeCaptionsTracks[r])return;const l=this.captionsProperties[r];if(!l)return;const M={_id:r,label:l.label,kind:"captions",default:!!l.media&&!!l.media.default,closedCaptions:l.media};this.nonNativeCaptionsTracks[r]=M,this.hls.trigger(C.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[M]})}createTextTrack(r,l,_){const M=this.media;if(M)return M.addTextTrack(r,l,_)}onMediaAttaching(r,l){this.media=l.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:r}=this;Object.keys(r).forEach(l=>{tr(r[l]),delete r[l]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:r}=this;if(!r)return;const l=r.textTracks;if(l)for(let _=0;_<l.length;_++)tr(l[_])}onSubtitleTracksUpdated(r,l){const _=l.subtitleTracks||[],M=_.some(k=>k.textCodec===nc);if(this.config.enableWebVTT||M&&this.config.enableIMSC1){if(Jl(this.tracks,_))return void(this.tracks=_);if(this.textTracks=[],this.tracks=_,this.config.renderTextTracksNatively){const H=this.media?this.media.textTracks:null;this.tracks.forEach((te,Ae)=>{let Pe;if(H&&Ae<H.length){let dt=null;for(let pt=0;pt<H.length;pt++)if($a(H[pt],te)){dt=H[pt];break}dt&&(Pe=dt)}if(Pe)tr(Pe);else{const dt=this._captionsOrSubtitlesFromCharacteristics(te);Pe=this.createTextTrack(dt,te.name,te.lang),Pe&&(Pe.mode="disabled")}Pe&&(Pe.groupId=te.groupId,this.textTracks.push(Pe))})}else if(this.tracks.length){const H=this.tracks.map(te=>({label:te.name,kind:te.type.toLowerCase(),default:te.default,subtitleTrack:te}));this.hls.trigger(C.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:H})}}}_captionsOrSubtitlesFromCharacteristics(r){if(r.attrs.CHARACTERISTICS){const l=/transcribes-spoken-dialog/gi.test(r.attrs.CHARACTERISTICS),_=/describes-music-and-sound/gi.test(r.attrs.CHARACTERISTICS);if(l&&_)return"captions"}return"subtitles"}onManifestLoaded(r,l){this.config.enableCEA708Captions&&l.captions&&l.captions.forEach(_=>{const M=/(?:CC|SERVICE)([1-4])/.exec(_.instreamId);if(!M)return;const H=this.captionsProperties[`textTrack${M[1]}`];H&&(H.label=_.name,_.lang&&(H.languageCode=_.lang),H.media=_)})}closedCaptionsForLevel(r){const l=this.hls.levels[r.level];return l?.attrs["CLOSED-CAPTIONS"]}onFragLoading(r,l){const{cea608Parser1:_,cea608Parser2:M,lastSn:k,lastPartIndex:H}=this;if(this.enabled&&_&&M&&"main"===l.frag.type){var te,Ae;const Pe=l.frag.sn,dt=null!=(te=null==l||null==(Ae=l.part)?void 0:Ae.index)?te:-1;Pe===k+1||Pe===k&&dt===H+1||(_.reset(),M.reset()),this.lastSn=Pe,this.lastPartIndex=dt}}onFragLoaded(r,l){const{frag:_,payload:M}=l;if("subtitle"===_.type)if(M.byteLength){const k=_.decryptdata;if(null==k||!k.encrypted||"stats"in l){const te=this.tracks[_.level],Ae=this.vttCCs;Ae[_.cc]||(Ae[_.cc]={start:_.start,prevCC:this.prevCC,new:!0},this.prevCC=_.cc),te&&te.textCodec===nc?this._parseIMSC1(_,M):this._parseVTTs(l)}}else this.hls.trigger(C.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:_,error:new Error("Empty subtitle payload")})}_parseIMSC1(r,l){const _=this.hls;Qs(l,this.initPTS[r.cc],M=>{this._appendCues(M,r.level),_.trigger(C.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:r})},M=>{b.log(`Failed to parse IMSC1: ${M}`),_.trigger(C.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:M})})}_parseVTTs(r){var l;const{frag:_,payload:M}=r,{initPTS:k,unparsedVttFrags:H}=this,te=k.length-1;if(!k[_.cc]&&-1===te)return void H.push(r);const Ae=this.hls;!function Bl(V,r,l,_,M,k,H){const te=new Mc,Ae=Qe(new Uint8Array(V)).trim().replace(Fl,"\n").split("\n"),Pe=[],dt=r?function zs(V,r=1){return $r(V,9e4,1/r)}(r.baseTime,r.timescale):0;let qt,pt="00:00.000",Ut=0,jt=0,cn=!0;te.oncue=function(bn){const Bn=l[_];let ei=l.ccOffset;const Zn=(Ut-dt)/9e4;if(null!=Bn&&Bn.new&&(void 0!==jt?ei=l.ccOffset=Bn.start:function(r,l,_){let M=r[l],k=r[M.prevCC];if(!k||!k.new&&M.new)return r.ccOffset=r.presentationOffset=M.start,void(M.new=!1);for(;null!=(H=k)&&H.new;){var H;r.ccOffset+=M.start-k.start,M.new=!1,M=k,k=r[M.prevCC]}r.presentationOffset=_}(l,_,Zn)),Zn){if(!r)return void(qt=new Error("Missing initPTS for VTT MPEGTS"));ei=Zn-l.presentationOffset}const di=bn.endTime-bn.startTime,oi=Ss(9e4*(bn.startTime+ei-jt),9e4*M)/9e4;bn.startTime=Math.max(oi,0),bn.endTime=Math.max(oi+di,0);const Ai=bn.text.trim();bn.text=decodeURIComponent(encodeURIComponent(Ai)),bn.id||(bn.id=tc(bn.startTime,bn.endTime,Ai)),bn.endTime>0&&Pe.push(bn)},te.onparsingerror=function(bn){qt=bn},te.onflush=function(){qt?H(qt):k(Pe)},Ae.forEach(bn=>{if(cn){if(rl(bn,"X-TIMESTAMP-MAP=")){cn=!1,bn.slice(16).split(",").forEach(Bn=>{rl(Bn,"LOCAL:")?pt=Bn.slice(6):rl(Bn,"MPEGTS:")&&(Ut=parseInt(Bn.slice(7)))});try{jt=function(r){let l=parseInt(r.slice(-3));const _=parseInt(r.slice(-6,-4)),M=parseInt(r.slice(-9,-7)),k=r.length>9?parseInt(r.substring(0,r.indexOf(":"))):0;if(!(p(l)&&p(_)&&p(M)&&p(k)))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${r}`);return l+=1e3*_,l+=6e4*M,l+=36e5*k,l}(pt)/1e3}catch(Bn){qt=Bn}return}""===bn&&(cn=!1)}te.parse(bn+"\n")}),te.flush()}(null!=(l=_.initSegment)&&l.data?En(_.initSegment.data,new Uint8Array(M)):M,this.initPTS[_.cc],this.vttCCs,_.cc,_.start,dt=>{this._appendCues(dt,_.level),Ae.trigger(C.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:_})},dt=>{const pt="Missing initPTS for VTT MPEGTS"===dt.message;pt?H.push(r):this._fallbackToIMSC1(_,M),b.log(`Failed to parse VTT cue: ${dt}`),!(pt&&te>_.cc)&&Ae.trigger(C.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:_,error:dt})})}_fallbackToIMSC1(r,l){const _=this.tracks[r.level];_.textCodec||Qs(l,this.initPTS[r.cc],()=>{_.textCodec=nc,this._parseIMSC1(r,l)},()=>{_.textCodec="wvtt"})}_appendCues(r,l){const _=this.hls;if(this.config.renderTextTracksNatively){const M=this.textTracks[l];if(!M||"disabled"===M.mode)return;r.forEach(k=>Hr(M,k))}else{const M=this.tracks[l];if(!M)return;_.trigger(C.CUES_PARSED,{type:"subtitles",cues:r,track:M.default?"default":"subtitles"+l})}}onFragDecrypted(r,l){const{frag:_}=l;"subtitle"===_.type&&this.onFragLoaded(C.FRAG_LOADED,l)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(r,l){const{cea608Parser1:_,cea608Parser2:M}=this;if(!this.enabled||!_||!M)return;const{frag:k,samples:H}=l;if("main"!==k.type||"NONE"!==this.closedCaptionsForLevel(k))for(let te=0;te<H.length;te++){const Ae=H[te].bytes;if(Ae){const Pe=this.extractCea608Data(Ae);_.addData(H[te].pts,Pe[0]),M.addData(H[te].pts,Pe[1])}}}onBufferFlushing(r,{startOffset:l,endOffset:_,endOffsetSubtitles:M,type:k}){const{media:H}=this;if(H&&!(H.currentTime<_)){if(!k||"video"===k){const{captionsTracks:te}=this;Object.keys(te).forEach(Ae=>lo(te[Ae],l,_))}if(this.config.renderTextTracksNatively&&0===l&&void 0!==M){const{textTracks:te}=this;Object.keys(te).forEach(Ae=>lo(te[Ae],l,M))}}}extractCea608Data(r){const l=[[],[]],_=31&r[0];let M=2;for(let k=0;k<_;k++){const H=r[M++],te=127&r[M++],Ae=127&r[M++];if((0!==te||0!==Ae)&&0!=(4&H)){const dt=3&H;(0===dt||1===dt)&&(l[dt].push(te),l[dt].push(Ae))}}return l}},audioStreamController:class Pa extends Os{constructor(r,l,_){super(r,l,_,"[audio-stream-controller]","audio"),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:r}=this;r.on(C.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(C.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(C.MANIFEST_LOADING,this.onManifestLoading,this),r.on(C.LEVEL_LOADED,this.onLevelLoaded,this),r.on(C.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),r.on(C.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),r.on(C.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),r.on(C.ERROR,this.onError,this),r.on(C.BUFFER_RESET,this.onBufferReset,this),r.on(C.BUFFER_CREATED,this.onBufferCreated,this),r.on(C.BUFFER_FLUSHED,this.onBufferFlushed,this),r.on(C.INIT_PTS_FOUND,this.onInitPtsFound,this),r.on(C.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:r}=this;r.off(C.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(C.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(C.MANIFEST_LOADING,this.onManifestLoading,this),r.off(C.LEVEL_LOADED,this.onLevelLoaded,this),r.off(C.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),r.off(C.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),r.off(C.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),r.off(C.ERROR,this.onError,this),r.off(C.BUFFER_RESET,this.onBufferReset,this),r.off(C.BUFFER_CREATED,this.onBufferCreated,this),r.off(C.BUFFER_FLUSHED,this.onBufferFlushed,this),r.off(C.INIT_PTS_FOUND,this.onInitPtsFound,this),r.off(C.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(r,{frag:l,id:_,initPTS:M,timescale:k}){if("main"===_){const H=l.cc;this.initPTS[l.cc]={baseTime:M,timescale:k},this.log(`InitPTS for cc: ${H} found from main: ${M}`),this.videoTrackCC=H,"WAITING_INIT_PTS"===this.state&&this.tick()}}startLoad(r){if(!this.levels)return this.startPosition=r,void(this.state="STOPPED");const l=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),l>0&&-1===r?(this.log(`Override startPosition with lastCurrentTime @${l.toFixed(3)}`),r=l,this.state="IDLE"):(this.loadedmetadata=!1,this.state="WAITING_TRACK"),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=r,this.tick()}doTick(){switch(this.state){case"IDLE":this.doTickIdle();break;case"WAITING_TRACK":{var r;const{levels:_,trackId:M}=this,k=null==_||null==(r=_[M])?void 0:r.details;if(k){if(this.waitForCdnTuneIn(k))break;this.state="WAITING_INIT_PTS"}break}case"FRAG_LOADING_WAITING_RETRY":{var l;const _=performance.now(),M=this.retryDate;(!M||_>=M||null!=(l=this.media)&&l.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state="IDLE");break}case"WAITING_INIT_PTS":{const _=this.waitingData;if(_){const{frag:M,part:k,cache:H,complete:te}=_;if(void 0!==this.initPTS[M.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state="FRAG_LOADING";const Pe={frag:M,part:k,payload:H.flush(),networkDetails:null};this._handleFragmentLoadProgress(Pe),te&&super._handleFragmentLoadComplete(Pe)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${M.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const Ae=this.getLoadPosition(),Pe=Fr.bufferInfo(this.mediaBuffer,Ae,this.config.maxBufferHole);ls(Pe.end,this.config.maxFragLookUpTolerance,M)<0&&(this.log(`Waiting fragment cc (${M.cc}) @ ${M.start} cancelled because another fragment at ${Pe.end} is needed`),this.clearWaitingFragment())}}else this.state="IDLE"}}this.onTickEnd()}clearWaitingFragment(){const r=this.waitingData;r&&(this.fragmentTracker.removeFragment(r.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state="IDLE")}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:r}=this;null!=r&&r.readyState&&(this.lastCurrentTime=r.currentTime)}doTickIdle(){const{hls:r,levels:l,media:_,trackId:M}=this;if(null==l||!l[M]||!_&&(this.startFragRequested||!r.config.startFragPrefetch))return;const H=l[M],te=H.details;if(!te||te.live&&this.levelLastLoaded!==M||this.waitForCdnTuneIn(te))return void(this.state="WAITING_TRACK");const Ae=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&Ae&&(this.bufferFlushed=!1,this.afterBufferFlushed(Ae,"audio","audio"));const Pe=this.getFwdBufferInfo(Ae,"audio");if(null===Pe)return;const{bufferedTrack:dt,switchingTrack:pt}=this;if(!pt&&this._streamEnded(Pe,te))return r.trigger(C.BUFFER_EOS,{type:"audio"}),void(this.state="ENDED");const Ut=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,"main"),jt=Pe.len,qt=this.getMaxBufferLength(Ut?.len);if(jt>=qt&&!pt)return;const bn=te.fragments[0].start;let Bn=Pe.end;if(pt&&_){const oi=this.getLoadPosition();dt&&pt.attrs!==dt.attrs&&(Bn=oi),te.PTSKnown&&oi<bn&&(Pe.end>bn||Pe.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),_.currentTime=bn+.05)}let ei=this.getNextFragment(Bn,te),Zn=!1;if(ei&&this.isLoopLoading(ei,Bn)&&(Zn=!!ei.gap,ei=this.getNextFragmentLoopLoading(ei,te,Pe,"main",qt)),!ei)return void(this.bufferFlushed=!0);const di=Ut&&ei.start>Ut.end+te.targetduration;if(di||(null==Ut||!Ut.len)&&Pe.len){const oi=this.getAppendedFrag(ei.start,"main");if(null===oi||(Zn||(Zn=!!oi.gap||!!di&&0===Ut.len),di&&!Zn||Zn&&Pe.nextStart&&Pe.nextStart<oi.end))return}this.loadFragment(ei,H,Bn)}getMaxBufferLength(r){const l=super.getMaxBufferLength();return r?Math.min(Math.max(l,r),this.config.maxMaxBufferLength):l}onMediaDetaching(){this.videoBuffer=null,super.onMediaDetaching()}onAudioTracksUpdated(r,{audioTracks:l}){this.resetTransmuxer(),this.levels=l.map(_=>new Dn(_))}onAudioTrackSwitching(r,l){const _=!!l.url;this.trackId=l.id;const{fragCurrent:M}=this;M&&(M.abortRequests(),this.removeUnbufferedFrags(M.start)),this.resetLoadingState(),_?this.setInterval(100):this.resetTransmuxer(),_?(this.switchingTrack=l,this.state="IDLE"):(this.switchingTrack=null,this.bufferedTrack=l,this.state="STOPPED"),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(r,l){this.mainDetails=l.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(C.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(r,l){var _;if(null==this.mainDetails)return void(this.cachedTrackLoadedData=l);const{levels:M}=this,{details:k,id:H}=l;if(!M)return void this.warn(`Audio tracks were reset while loading level ${H}`);this.log(`Track ${H} loaded [${k.startSN},${k.endSN}]${k.lastPartSn?`[part-${k.lastPartSn}-${k.lastPartIndex}]`:""},duration:${k.totalduration}`);const te=M[H];let Ae=0;if(k.live||null!=(_=te.details)&&_.live){const Pe=this.mainDetails;if(k.fragments[0]||(k.deltaUpdateFailed=!0),k.deltaUpdateFailed||!Pe)return;!te.details&&k.hasProgramDateTime&&Pe.hasProgramDateTime?(ft(k,Pe),Ae=k.fragments[0].start):Ae=this.alignPlaylists(k,te.details)}te.details=k,this.levelLastLoaded=H,!this.startFragRequested&&(this.mainDetails||!k.live)&&this.setStartPosition(te.details,Ae),"WAITING_TRACK"===this.state&&!this.waitForCdnTuneIn(k)&&(this.state="IDLE"),this.tick()}_handleFragmentLoadProgress(r){var l;const{frag:_,part:M,payload:k}=r,{config:H,trackId:te,levels:Ae}=this;if(!Ae)return void this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${_.sn} of level ${_.level} will not be buffered`);const Pe=Ae[te];if(!Pe)return void this.warn("Audio track is undefined on fragment load progress");const dt=Pe.details;if(!dt)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(_.start);const pt=H.defaultAudioCodec||Pe.audioCodec||"mp4a.40.2";let Ut=this.transmuxer;Ut||(Ut=this.transmuxer=new il(this.hls,"audio",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const jt=this.initPTS[_.cc],qt=null==(l=_.initSegment)?void 0:l.data;if(void 0!==jt){const bn=M?M.index:-1,ei=new Uo(_.level,_.sn,_.stats.chunkCount,k.byteLength,bn,-1!==bn);Ut.push(k,qt,pt,"",_,M,dt.totalduration,!1,ei,jt)}else{this.log(`Unknown video PTS for cc ${_.cc}, waiting for video PTS before demuxing audio frag ${_.sn} of [${dt.startSN} ,${dt.endSN}],track ${te}`);const{cache:cn}=this.waitingData=this.waitingData||{frag:_,part:M,cache:new $l,complete:!1};cn.push(new Uint8Array(k)),this.waitingVideoCC=this.videoTrackCC,this.state="WAITING_INIT_PTS"}}_handleFragmentLoadComplete(r){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(r)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(r,l){const _=l.tracks.audio;_&&(this.mediaBuffer=_.buffer||null),l.tracks.video&&(this.videoBuffer=l.tracks.video.buffer||null)}onFragBuffered(r,l){const{frag:_,part:M}=l;if("audio"===_.type)if(this.fragContextChanged(_))this.warn(`Fragment ${_.sn}${M?" p: "+M.index:""} of level ${_.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);else{if("initSegment"!==_.sn){this.fragPrevious=_;const k=this.switchingTrack;k&&(this.bufferedTrack=k,this.switchingTrack=null,this.hls.trigger(C.AUDIO_TRACK_SWITCHED,f({},k)))}this.fragBufferedComplete(_,M)}else if(!this.loadedmetadata&&"main"===_.type){const k=this.videoBuffer||this.media;k&&Fr.getBuffered(k).length&&(this.loadedmetadata=!0)}}onError(r,l){var _;if(l.fatal)this.state="ERROR";else switch(l.details){case x.FRAG_GAP:case x.FRAG_PARSING_ERROR:case x.FRAG_DECRYPT_ERROR:case x.FRAG_LOAD_ERROR:case x.FRAG_LOAD_TIMEOUT:case x.KEY_LOAD_ERROR:case x.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("audio",l);break;case x.AUDIO_TRACK_LOAD_ERROR:case x.AUDIO_TRACK_LOAD_TIMEOUT:case x.LEVEL_PARSING_ERROR:!l.levelRetry&&"WAITING_TRACK"===this.state&&"audioTrack"===(null==(_=l.context)?void 0:_.type)&&(this.state="IDLE");break;case x.BUFFER_FULL_ERROR:if(!l.parent||"audio"!==l.parent)return;this.reduceLengthAndFlushBuffer(l)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case x.INTERNAL_EXCEPTION:this.recoverWorkerError(l)}}onBufferFlushed(r,{type:l}){"audio"===l&&(this.bufferFlushed=!0,"ENDED"===this.state&&(this.state="IDLE"))}_handleTransmuxComplete(r){var l;const _="audio",{hls:M}=this,{remuxResult:k,chunkMeta:H}=r,te=this.getCurrentContext(H);if(!te)return void this.resetWhenMissingContext(H);const{frag:Ae,part:Pe,level:dt}=te,{details:pt}=dt,{audio:Ut,text:jt,id3:qt,initSegment:cn}=k;if(!this.fragContextChanged(Ae)&&pt){if(this.state="PARSING",this.switchingTrack&&Ut&&this.completeAudioSwitch(this.switchingTrack),null!=cn&&cn.tracks){const bn=Ae.initSegment||Ae;this._bufferInitSegment(cn.tracks,bn,H),M.trigger(C.FRAG_PARSING_INIT_SEGMENT,{frag:bn,id:_,tracks:cn.tracks})}if(Ut){const{startPTS:bn,endPTS:Bn,startDTS:ei,endDTS:Zn}=Ut;Pe&&(Pe.elementaryStreams.audio={startPTS:bn,endPTS:Bn,startDTS:ei,endDTS:Zn}),Ae.setElementaryStreamInfo("audio",bn,Bn,ei,Zn),this.bufferFragmentData(Ut,Ae,Pe,H)}if(null!=qt&&null!=(l=qt.samples)&&l.length){const bn=c({id:_,frag:Ae,details:pt},qt);M.trigger(C.FRAG_PARSING_METADATA,bn)}if(jt){const bn=c({id:_,frag:Ae,details:pt},jt);M.trigger(C.FRAG_PARSING_USERDATA,bn)}}else this.fragmentTracker.removeFragment(Ae)}_bufferInitSegment(r,l,_){if("PARSING"!==this.state)return;r.video&&delete r.video;const M=r.audio;if(!M)return;M.levelCodec=M.codec,M.id="audio",this.log(`Init audio buffer, container:${M.container}, codecs[parsed]=[${M.codec}]`),this.hls.trigger(C.BUFFER_CODECS,r);const k=M.initSegment;null!=k&&k.byteLength&&this.hls.trigger(C.BUFFER_APPENDING,{type:"audio",frag:l,part:null,chunkMeta:_,parent:l.type,data:k}),this.tick()}loadFragment(r,l,_){const M=this.fragmentTracker.getState(r);var k;this.fragCurrent=r,this.switchingTrack||"NOT_LOADED"===M||"PARTIAL"===M?"initSegment"===r.sn?this._loadInitSegment(r,l):null!=(k=l.details)&&k.live&&!this.initPTS[r.cc]?(this.log(`Waiting for video PTS in continuity counter ${r.cc} of live stream before loading audio fragment ${r.sn} of level ${this.trackId}`),this.state="WAITING_INIT_PTS"):(this.startFragRequested=!0,super.loadFragment(r,l,_)):this.clearTrackerIfNeeded(r)}completeAudioSwitch(r){const{hls:l,media:_,bufferedTrack:M}=this,k=M?.attrs,H=r.attrs;_&&k&&(k.CHANNELS!==H.CHANNELS||k.NAME!==H.NAME||k.LANGUAGE!==H.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=r,this.switchingTrack=null,l.trigger(C.AUDIO_TRACK_SWITCHED,f({},r))}},audioTrackController:class Tc extends Ao{constructor(r){super(r,"[audio-track-controller]"),this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:r}=this;r.on(C.MANIFEST_LOADING,this.onManifestLoading,this),r.on(C.MANIFEST_PARSED,this.onManifestParsed,this),r.on(C.LEVEL_LOADING,this.onLevelLoading,this),r.on(C.LEVEL_SWITCHING,this.onLevelSwitching,this),r.on(C.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),r.on(C.ERROR,this.onError,this)}unregisterListeners(){const{hls:r}=this;r.off(C.MANIFEST_LOADING,this.onManifestLoading,this),r.off(C.MANIFEST_PARSED,this.onManifestParsed,this),r.off(C.LEVEL_LOADING,this.onLevelLoading,this),r.off(C.LEVEL_SWITCHING,this.onLevelSwitching,this),r.off(C.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),r.off(C.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(r,l){this.tracks=l.audioTracks||[]}onAudioTrackLoaded(r,l){const{id:_,groupId:M,details:k}=l,H=this.tracksInGroup[_];if(!H||H.groupId!==M)return void this.warn(`Track with id:${_} and group:${M} not found in active group ${H.groupId}`);const te=H.details;H.details=l.details,this.log(`audio-track ${_} "${H.name}" lang:${H.lang} group:${M} loaded [${k.startSN}-${k.endSN}]`),_===this.trackId&&this.playlistLoaded(_,l,te)}onLevelLoading(r,l){this.switchLevel(l.level)}onLevelSwitching(r,l){this.switchLevel(l.level)}switchLevel(r){const l=this.hls.levels[r];if(null==l||!l.audioGroupIds)return;const _=l.audioGroupIds[l.urlId];if(this.groupId!==_){this.groupId=_||null;const M=this.tracks.filter(H=>!_||H.groupId===_);this.selectDefaultTrack&&!M.some(H=>H.default)&&(this.selectDefaultTrack=!1),this.tracksInGroup=M;const k={audioTracks:M};this.log(`Updating audio tracks, ${M.length} track(s) found in group:${_}`),this.hls.trigger(C.AUDIO_TRACKS_UPDATED,k),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}onError(r,l){l.fatal||!l.context||"audioTrack"===l.context.type&&l.context.id===this.trackId&&l.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(l))}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(r){this.selectDefaultTrack=!1,this.setAudioTrack(r)}setAudioTrack(r){const l=this.tracksInGroup;if(r<0||r>=l.length)return void this.warn("Invalid id passed to audio-track controller");this.clearTimer();const _=this.currentTrack,M=l[r],{groupId:k,name:H}=M;if(this.log(`Switching to audio-track ${r} "${H}" lang:${M.lang} group:${k}`),this.trackId=r,this.currentTrack=M,this.selectDefaultTrack=!1,this.hls.trigger(C.AUDIO_TRACK_SWITCHING,f({},M)),M.details&&!M.details.live)return;const te=this.switchParams(M.url,_?.details);this.loadPlaylist(te)}selectInitialTrack(){const r=this.tracksInGroup,l=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(-1!==l)this.setAudioTrack(l);else{const _=new Error(`No track found for running audio group-ID: ${this.groupId} track count: ${r.length}`);this.warn(_.message),this.hls.trigger(C.ERROR,{type:A.MEDIA_ERROR,details:x.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:_})}}findTrackId(r){const l=this.tracksInGroup;for(let _=0;_<l.length;_++){const M=l[_];if((!this.selectDefaultTrack||M.default)&&(!r||void 0!==r.attrs["STABLE-RENDITION-ID"]&&r.attrs["STABLE-RENDITION-ID"]===M.attrs["STABLE-RENDITION-ID"]||r.name===M.name&&r.lang===M.lang))return M.id}return-1}loadPlaylist(r){super.loadPlaylist();const l=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(l)){const _=l.id,M=l.groupId;let k=l.url;if(r)try{k=r.addDirectives(k)}catch(H){this.warn(`Could not construct new URL with HLS Delivery Directives: ${H}`)}this.log(`loading audio-track playlist ${_} "${l.name}" lang:${l.lang} group:${M}`),this.clearTimer(),this.hls.trigger(C.AUDIO_TRACK_LOADING,{url:k,id:_,groupId:M,deliveryDirectives:r||null})}}},emeController:wc,cmcdController:Qa,contentSteeringController:class iu{constructor(r){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=r,this.log=b.log.bind(b,"[content-steering]:"),this.registerListeners()}registerListeners(){const r=this.hls;r.on(C.MANIFEST_LOADING,this.onManifestLoading,this),r.on(C.MANIFEST_LOADED,this.onManifestLoaded,this),r.on(C.MANIFEST_PARSED,this.onManifestParsed,this),r.on(C.ERROR,this.onError,this)}unregisterListeners(){const r=this.hls;r&&(r.off(C.MANIFEST_LOADING,this.onManifestLoading,this),r.off(C.MANIFEST_LOADED,this.onManifestLoaded,this),r.off(C.MANIFEST_PARSED,this.onManifestParsed,this),r.off(C.ERROR,this.onError,this))}startLoad(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){const r=Math.max(1e3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,r)}else this.loadSteeringManifest(this.uri)}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(r){const l=this.levels;l&&(this.levels=l.filter(_=>_!==r))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(r,l){const{contentSteering:_}=l;null!==_&&(this.pathwayId=_.pathwayId,this.uri=_.uri,this.started&&this.startLoad())}onManifestParsed(r,l){this.audioTracks=l.audioTracks,this.subtitleTracks=l.subtitleTracks}onError(r,l){const{errorAction:_}=l;if(2===_?.action&&1===_.flags){let M=this.pathwayPriority;const k=this.pathwayId;this.penalizedPathways[k]||(this.penalizedPathways[k]=performance.now()),!M&&this.levels&&(M=this.levels.reduce((H,te)=>(-1===H.indexOf(te.pathwayId)&&H.push(te.pathwayId),H),[])),M&&M.length>1&&(this.updatePathwayPriority(M),_.resolved=this.pathwayId!==k)}}filterParsedLevels(r){this.levels=r;let l=this.getLevelsForPathway(this.pathwayId);if(0===l.length){const _=r[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${_}"`),l=this.getLevelsForPathway(_),this.pathwayId=_}return l.length!==r.length?(this.log(`Found ${l.length}/${r.length} levels in Pathway "${this.pathwayId}"`),l):r}getLevelsForPathway(r){return null===this.levels?[]:this.levels.filter(l=>r===l.pathwayId)}updatePathwayPriority(r){let l;this.pathwayPriority=r;const _=this.penalizedPathways,M=performance.now();Object.keys(_).forEach(k=>{M-_[k]>3e5&&delete _[k]});for(let k=0;k<r.length;k++){const H=r[k];if(_[H])continue;if(H===this.pathwayId)return;const te=this.hls.nextLoadLevel,Ae=this.hls.levels[te];if(l=this.getLevelsForPathway(H),l.length>0){this.log(`Setting Pathway to "${H}"`),this.pathwayId=H,this.hls.trigger(C.LEVELS_UPDATED,{levels:l});const Pe=this.hls.levels[te];Ae&&Pe&&this.levels&&(Pe.attrs["STABLE-VARIANT-ID"]!==Ae.attrs["STABLE-VARIANT-ID"]&&Pe.bitrate!==Ae.bitrate&&this.log(`Unstable Pathways change from bitrate ${Ae.bitrate} to ${Pe.bitrate}`),this.hls.nextLoadLevel=te);break}}}clonePathways(r){const l=this.levels;if(!l)return;const _={},M={};r.forEach(k=>{const{ID:H,"BASE-ID":te,"URI-REPLACEMENT":Ae}=k;if(l.some(dt=>dt.pathwayId===H))return;const Pe=this.getLevelsForPathway(te).map(dt=>{const pt=c({},dt);pt.details=void 0,pt.url=oc(dt.uri,dt.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",Ae);const Ut=new oe(dt.attrs);Ut["PATHWAY-ID"]=H;const jt=Ut.AUDIO&&`${Ut.AUDIO}_clone_${H}`,qt=Ut.SUBTITLES&&`${Ut.SUBTITLES}_clone_${H}`;jt&&(_[Ut.AUDIO]=jt,Ut.AUDIO=jt),qt&&(M[Ut.SUBTITLES]=qt,Ut.SUBTITLES=qt),pt.attrs=Ut;const cn=new Dn(pt);return Fo(cn,"audio",jt),Fo(cn,"text",qt),cn});l.push(...Pe),jl(this.audioTracks,_,Ae,H),jl(this.subtitleTracks,M,Ae,H)})}loadSteeringManifest(r){const l=this.hls.config,_=l.loader;let M;this.loader&&this.loader.destroy(),this.loader=new _(l);try{M=new self.URL(r)}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest URI: ${r}`)}if("data:"!==M.protocol){const dt=0|(this.hls.bandwidthEstimate||l.abrEwmaDefaultEstimate);M.searchParams.set("_HLS_pathway",this.pathwayId),M.searchParams.set("_HLS_throughput",""+dt)}const k={responseType:"json",url:M.href},H=l.steeringManifestLoadPolicy.default,te=H.errorRetry||H.timeoutRetry||{},Ae={loadPolicy:H,timeout:H.maxLoadTimeMs,maxRetry:te.maxNumRetry||0,retryDelay:te.retryDelayMs||0,maxRetryDelay:te.maxRetryDelayMs||0},Pe={onSuccess:(dt,pt,Ut,jt)=>{this.log(`Loaded steering manifest: "${M}"`);const qt=dt.data;if(1!==qt.VERSION)return void this.log(`Steering VERSION ${qt.VERSION} not supported!`);this.updated=performance.now(),this.timeToLoad=qt.TTL;const{"RELOAD-URI":cn,"PATHWAY-CLONES":bn,"PATHWAY-PRIORITY":Bn}=qt;if(cn)try{this.uri=new self.URL(cn,M).href}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest RELOAD-URI: ${cn}`)}this.scheduleRefresh(this.uri||Ut.url),bn&&this.clonePathways(bn),Bn&&this.updatePathwayPriority(Bn)},onError:(dt,pt,Ut,jt)=>{if(this.log(`Error loading steering manifest: ${dt.code} ${dt.text} (${pt.url})`),this.stopLoad(),410===dt.code)return this.enabled=!1,void this.log(`Steering manifest ${pt.url} no longer available`);let qt=1e3*this.timeToLoad;if(429!==dt.code)this.scheduleRefresh(this.uri||pt.url,qt);else{const cn=this.loader;if("function"==typeof cn?.getResponseHeader){const bn=cn.getResponseHeader("Retry-After");bn&&(qt=1e3*parseFloat(bn))}this.log(`Steering manifest ${pt.url} rate limited`)}},onTimeout:(dt,pt,Ut)=>{this.log(`Timeout loading steering manifest (${pt.url})`),this.scheduleRefresh(this.uri||pt.url)}};this.log(`Requesting steering manifest: ${M}`),this.loader.load(k,Ae,Pe)}scheduleRefresh(r,l=1e3*this.timeToLoad){self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout(()=>{this.loadSteeringManifest(r)},l)}}});function hn(V){return V&&"object"==typeof V?Array.isArray(V)?V.map(hn):Object.keys(V).reduce((r,l)=>(r[l]=hn(V[l]),r),{}):V}let Gn=(()=>{class V{static get version(){return"1.4.10"}static isSupported(){return function ds(){const V=xn();if(!V)return!1;const r=qr();return!(!V||"function"!=typeof V.isTypeSupported||!V.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')||r&&(!r.prototype||"function"!=typeof r.prototype.appendBuffer||"function"!=typeof r.prototype.remove))}()}static get Events(){return C}static get ErrorTypes(){return A}static get ErrorDetails(){return x}static get DefaultConfig(){return V.defaultConfig?V.defaultConfig:Ye}static set DefaultConfig(l){V.defaultConfig=l}constructor(l={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new xo,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,function L(V,r){if(self.console&&!0===V||"object"==typeof V){!function E(V,...r){r.forEach(function(l){S[l]=V[l]?V[l].bind(V):function I(V){const r=self.console[V];return r?r.bind(self.console,`[${V}] >`):R}(l)})}(V,"debug","log","info","warn","error");try{S.log(`Debug logs enabled for "${r}" in hls.js version 1.4.10`)}catch{S=O}}else S=O}(l.debug||!1,"Hls instance");const _=this.config=function Ht(V,r){if((r.liveSyncDurationCount||r.liveMaxLatencyDurationCount)&&(r.liveSyncDuration||r.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==r.liveMaxLatencyDurationCount&&(void 0===r.liveSyncDurationCount||r.liveMaxLatencyDurationCount<=r.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==r.liveMaxLatencyDuration&&(void 0===r.liveSyncDuration||r.liveMaxLatencyDuration<=r.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const l=hn(V),M=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach(k=>{const H=`${"level"===k?"playlist":k}LoadPolicy`,te=void 0===r[H],Ae=[];M.forEach(Pe=>{const dt=`${k}Loading${Pe}`,pt=r[dt];if(void 0!==pt&&te){Ae.push(dt);const Ut=l[H].default;switch(r[H]={default:Ut},Pe){case"TimeOut":Ut.maxLoadTimeMs=pt,Ut.maxTimeToFirstByteMs=pt;break;case"MaxRetry":Ut.errorRetry.maxNumRetry=pt,Ut.timeoutRetry.maxNumRetry=pt;break;case"RetryDelay":Ut.errorRetry.retryDelayMs=pt,Ut.timeoutRetry.retryDelayMs=pt;break;case"MaxRetryTimeout":Ut.errorRetry.maxRetryDelayMs=pt,Ut.timeoutRetry.maxRetryDelayMs=pt}}}),Ae.length&&b.warn(`hls.js config: "${Ae.join('", "')}" setting(s) are deprecated, use "${H}": ${JSON.stringify(r[H])}`)}),f(f({},l),r)}(V.DefaultConfig,l);this.userConfig=l,this._autoLevelCapping=-1,_.progressive&&function Ln(V){const r=V.loader;r!==qs&&r!==Wr?(b.log("[config]: Custom loader detected, cannot enable progressive streaming"),V.progressive=!1):function yo(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}()&&(V.loader=qs,V.progressive=!0,V.enableSoftwareAES=!0,b.log("[config]: Progressive streaming enabled, using FetchLoader"))}(_);const{abrController:M,bufferController:k,capLevelController:H,errorController:te,fpsController:Ae}=_,Pe=new te(this),dt=this.abrController=new M(this),pt=this.bufferController=new k(this),Ut=this.capLevelController=new H(this),jt=new Ae(this),qt=new _s(this),cn=new $i(this),bn=_.contentSteeringController,Bn=bn?new bn(this):null,ei=this.levelController=new mr(this,Bn),Zn=new vs(this),di=new fa(this.config),oi=this.streamController=new $c(this,Zn,di);Ut.setStreamController(oi),jt.setStreamController(oi);const Ai=[qt,ei,oi];Bn&&Ai.splice(1,0,Bn),this.networkControllers=Ai;const gi=[dt,pt,Ut,jt,cn,Zn];this.audioTrackController=this.createController(_.audioTrackController,Ai);const Mi=_.audioStreamController;Mi&&Ai.push(new Mi(this,Zn,di)),this.subtitleTrackController=this.createController(_.subtitleTrackController,Ai);const Pi=_.subtitleStreamController;Pi&&Ai.push(new Pi(this,Zn,di)),this.createController(_.timelineController,gi),di.emeController=this.emeController=this.createController(_.emeController,gi),this.cmcdController=this.createController(_.cmcdController,gi),this.latencyController=this.createController(Pr,gi),this.coreComponents=gi,Ai.push(Pe);const ui=Pe.onErrorOut;"function"==typeof ui&&this.on(C.ERROR,ui,Pe)}createController(l,_){if(l){const M=new l(this);return _&&_.push(M),M}return null}on(l,_,M=this){this._emitter.on(l,_,M)}once(l,_,M=this){this._emitter.once(l,_,M)}removeAllListeners(l){this._emitter.removeAllListeners(l)}off(l,_,M=this,k){this._emitter.off(l,_,M,k)}listeners(l){return this._emitter.listeners(l)}emit(l,_,M){return this._emitter.emit(l,_,M)}trigger(l,_){if(this.config.debug)return this.emit(l,l,_);try{return this.emit(l,l,_)}catch(M){b.error("An internal error happened while handling event "+l+'. Error message: "'+M.message+'". Here is a stacktrace:',M),this.trigger(C.ERROR,{type:A.OTHER_ERROR,details:x.INTERNAL_EXCEPTION,fatal:!1,event:l,error:M})}return!1}listenerCount(l){return this._emitter.listenerCount(l)}destroy(){b.log("destroy"),this.trigger(C.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(_=>_.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(_=>_.destroy()),this.coreComponents.length=0;const l=this.config;l.xhrSetup=l.fetchSetup=void 0,this.userConfig=null}attachMedia(l){b.log("attachMedia"),this._media=l,this.trigger(C.MEDIA_ATTACHING,{media:l})}detachMedia(){b.log("detachMedia"),this.trigger(C.MEDIA_DETACHING,void 0),this._media=null}loadSource(l){this.stopLoad();const _=this.media,M=this.url,k=this.url=P.buildAbsoluteURL(self.location.href,l,{alwaysNormalize:!0});b.log(`loadSource:${k}`),_&&M&&(M!==k||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(_)),this.trigger(C.MANIFEST_LOADING,{url:l})}startLoad(l=-1){b.log(`startLoad(${l})`),this.networkControllers.forEach(_=>{_.startLoad(l)})}stopLoad(){b.log("stopLoad"),this.networkControllers.forEach(l=>{l.stopLoad()})}swapAudioCodec(){b.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){b.log("recoverMediaError");const l=this._media;this.detachMedia(),l&&this.attachMedia(l)}removeLevel(l,_=0){this.levelController.removeLevel(l,_)}get levels(){return this.levelController.levels||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(l){b.log(`set currentLevel:${l}`),this.loadLevel=l,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(l){b.log(`set nextLevel:${l}`),this.levelController.manualLevel=l,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(l){b.log(`set loadLevel:${l}`),this.levelController.manualLevel=l}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(l){this.levelController.nextLoadLevel=l}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(l){b.log(`set firstLevel:${l}`),this.levelController.firstLevel=l}get startLevel(){return this.levelController.startLevel}set startLevel(l){b.log(`set startLevel:${l}`),-1!==l&&(l=Math.max(l,this.minAutoLevel)),this.levelController.startLevel=l}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(l){const _=!!l;_!==this.config.capLevelToPlayerSize&&(_?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=_)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:l}=this.abrController;return l?l.getEstimate():NaN}get ttfbEstimate(){const{bwEstimator:l}=this.abrController;return l?l.getEstimateTTFB():NaN}set autoLevelCapping(l){this._autoLevelCapping!==l&&(b.log(`set autoLevelCapping:${l}`),this._autoLevelCapping=l)}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(l){Vr.indexOf(l)>-1&&(this._maxHdcpLevel=l)}get autoLevelEnabled(){return-1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:l,config:{minAutoBitrate:_}}=this;if(!l)return 0;const M=l.length;for(let k=0;k<M;k++)if(l[k].maxBitrate>=_)return k;return 0}get maxAutoLevel(){const{levels:l,autoLevelCapping:_,maxHdcpLevel:M}=this;let k;if(k=-1===_&&l&&l.length?l.length-1:_,M)for(let H=k;H--;){const te=l[H].attrs["HDCP-LEVEL"];if(te&&te<=M)return H}return k}get nextAutoLevel(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)}set nextAutoLevel(l){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,l)}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get audioTracks(){const l=this.audioTrackController;return l?l.audioTracks:[]}get audioTrack(){const l=this.audioTrackController;return l?l.audioTrack:-1}set audioTrack(l){const _=this.audioTrackController;_&&(_.audioTrack=l)}get subtitleTracks(){const l=this.subtitleTrackController;return l?l.subtitleTracks:[]}get subtitleTrack(){const l=this.subtitleTrackController;return l?l.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(l){const _=this.subtitleTrackController;_&&(_.subtitleTrack=l)}get subtitleDisplay(){const l=this.subtitleTrackController;return!!l&&l.subtitleDisplay}set subtitleDisplay(l){const _=this.subtitleTrackController;_&&(_.subtitleDisplay=l)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(l){this.config.lowLatencyMode=l}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}return V.defaultConfig=void 0,V})();var Qn=g(863),Si=g(7700),zt=g(5879),Ni=g(6814);function Qi(V,r){if(1&V){const l=zt.EpF();zt.TgZ(0,"button",7),zt.NdJ("click",function(){const k=zt.CHM(l).$implicit,H=zt.oxw();return zt.KtG(H.onClickDialogAction(k))}),zt._uU(1),zt.qZA()}if(2&V){const l=r.$implicit;zt.xp6(1),zt.Oqu(l.text)}}let Ho=(()=>{class V{constructor(l,_){this.dialog=l,this.options=_}onClickDialogAction(l){this.dialog.close(l)}static#e=this.\u0275fac=function(_){return new(_||V)(zt.Y36(Si.so),zt.Y36(Si.WI))};static#t=this.\u0275cmp=zt.Xpm({type:V,selectors:[["app-custom-dialog-options"]],decls:9,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"custom-dialog-message"],[1,"modal-footer"],[1,"custom-dialog-options"],["ngFor","",3,"ngForOf"],["type","button",1,"custom-dialog-button",3,"click"]],template:function(_,M){1&_&&(zt.TgZ(0,"div",0)(1,"h5",1),zt._uU(2),zt.qZA()(),zt.TgZ(3,"div",2)(4,"div",3),zt._uU(5),zt.qZA()(),zt.TgZ(6,"div",4)(7,"div",5),zt.YNc(8,Qi,2,1,"ng-template",6),zt.qZA()()),2&_&&(zt.xp6(2),zt.Oqu(M.options.title),zt.xp6(3),zt.hij(" ",M.options.message," "),zt.xp6(3),zt.Q6J("ngForOf",M.options.actions))},dependencies:[Ni.sg],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return V})();var Oc=g(7394);class sl{}class cc{}class bo{}class ea{}class Pc{}var yd=g(7541),td=g(5908),dd=g(7990),bd=g(9429);let Rc=(()=>{class V{constructor(l){this.restProvider=l}createTranscodedMediaFile(l,_){return new Promise((M,k)=>{this.restProvider.executeHttpMediaServerApi(Qn.yw.POST,l+"/api/mediaFilePlaybacks/CreateTranscodedMediaFile",_).then(te=>{M(te)},te=>{k(te)})})}retranscodeMediaFile(l,_){return new Promise((M,k)=>{this.restProvider.executeHttpMediaServerApi(Qn.yw.PUT,l+"/api/mediaFilePlaybacks/RetranscodeMediaFile",_).then(te=>{M(te)},te=>{k(te)})})}static#e=this.\u0275fac=function(_){return new(_||V)(zt.LFG(bd.C))};static#t=this.\u0275prov=zt.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})();var Nc=g(5731),Vc=g(1367),Ed=g(9862);const Yd=["controlsContainer"],ud=["settingsContainer"],Zd=["videoPrincipalContainer"],Ld=["videoTarget"];function fd(V,r){if(1&V){const l=zt.EpF();zt.TgZ(0,"button",55),zt.NdJ("click",function(){zt.CHM(l);const M=zt.oxw(2);return zt.KtG(M.goToPreviousEpisode())}),zt._UZ(1,"i",56),zt.qZA()}}function nd(V,r){if(1&V){const l=zt.EpF();zt.TgZ(0,"button",57),zt.NdJ("click",function(){zt.CHM(l);const M=zt.oxw(2);return zt.KtG(M.goToNextEpisode())}),zt._UZ(1,"i",58),zt.qZA()}}function kd(V,r){if(1&V){const l=zt.EpF();zt.TgZ(0,"button",59,60),zt.NdJ("click",function(){zt.CHM(l);const M=zt.oxw(2);return zt.KtG(M.playOrPauseVideo())}),zt._UZ(2,"i",61),zt.qZA()}}function ke(V,r){if(1&V){const l=zt.EpF();zt.TgZ(0,"button",62,63),zt.NdJ("click",function(){zt.CHM(l);const M=zt.oxw(2);return zt.KtG(M.playOrPauseVideo())}),zt._UZ(2,"i",64),zt.qZA()}}const W=function(V){return{"show-controls":V}};function se(V,r){if(1&V&&(zt.TgZ(0,"div",65),zt._uU(1," Cargando video... "),zt.qZA()),2&V){const l=zt.oxw(2);zt.Q6J("ngClass",zt.VKq(1,W,l.showControls))}}const $e=function(V){return{selected:V}};function Wt(V,r){if(1&V){const l=zt.EpF();zt.TgZ(0,"button",76),zt.NdJ("click",function(){const k=zt.CHM(l).$implicit,H=zt.oxw(3);return zt.KtG(H.onClickPrincipalSettingsOption(k))}),zt._uU(1),zt.qZA()}if(2&V){const l=r.$implicit,_=zt.oxw(3);zt.MGl("id","stream_option_",l.index,""),zt.Q6J("ngClass",zt.VKq(3,$e,_.currentSelectedPrincipalSettingOption&&l.index==_.currentSelectedPrincipalSettingOption.index)),zt.xp6(1),zt.hij(" ",l.name," ")}}function an(V,r){if(1&V){const l=zt.EpF();zt.TgZ(0,"button",76),zt.NdJ("click",function(){const k=zt.CHM(l).$implicit,H=zt.oxw(4);return zt.KtG(H.onClickStreamOption(k))}),zt._uU(1),zt.qZA()}if(2&V){const l=r.$implicit,_=zt.oxw(4);zt.hYB("id","stream_option_",_.currentSelectedPrincipalSettingOption.id,"_suboption_",l.index,""),zt.Q6J("ngClass",zt.VKq(4,$e,_.currentSelectedPrincipalSettingOption.selectedOption&&_.currentSelectedPrincipalSettingOption.selectedOption.index==l.index)),zt.xp6(1),zt.hij(" ",l.name," ")}}function Hn(V,r){if(1&V&&(zt.TgZ(0,"section",77),zt.YNc(1,an,2,6,"ng-template",74),zt.qZA()),2&V){const l=zt.oxw(3);zt.MGl("id","streams_suboptions_section_",l.currentSelectedPrincipalSettingOption.index,""),zt.xp6(1),zt.Q6J("ngForOf",l.currentSelectedPrincipalSettingOption.listOptions)}}function ri(V,r){if(1&V){const l=zt.EpF();zt.TgZ(0,"section",66,67)(2,"div",68)(3,"section",69)(4,"div",70)(5,"div",71)(6,"button",72),zt.NdJ("click",function(){zt.CHM(l);const M=zt.oxw(2);return zt.KtG(M.hideSettings())}),zt._UZ(7,"i",11),zt.qZA()()()(),zt.TgZ(8,"section",73),zt.YNc(9,Wt,2,5,"ng-template",74),zt.qZA(),zt.YNc(10,Hn,2,2,"section",75),zt.qZA()()}if(2&V){const l=zt.oxw(2);zt.xp6(9),zt.Q6J("ngForOf",l.listPrincipalSettingsOptions),zt.xp6(1),zt.Q6J("ngIf",l.currentSelectedPrincipalSettingOption)}}function Ci(V,r){if(1&V&&zt._UZ(0,"div",78),2&V){const l=r.$implicit,_=zt.oxw(3);zt.Udp("display",_.checkIfDisplaySubtitles(l)?"block":"none"),zt.Q6J("innerHtml",l.text,zt.oJD)}}function xi(V,r){if(1&V&&zt.YNc(0,Ci,1,3,"ng-template",74),2&V){const l=zt.oxw(2);zt.Q6J("ngForOf",l.currentSubtitleData)}}function Wi(V,r){if(1&V){const l=zt.EpF();zt.TgZ(0,"video",79,80),zt.NdJ("error",function(){zt.CHM(l);const M=zt.oxw(2);return zt.KtG(M.onErrorVideo())})("loadedmetadata",function(){zt.CHM(l);const M=zt.oxw(2);return zt.KtG(M.onLoadedMetadata())})("loadeddata",function(){zt.CHM(l);const M=zt.oxw(2);return zt.KtG(M.onLoadedData())})("ended",function(){zt.CHM(l);const M=zt.oxw(2);return zt.KtG(M.OnEndedVideo())}),zt.qZA()}}const Dr=function(V){return{show:V}};function Ps(V,r){if(1&V){const l=zt.EpF();zt.TgZ(0,"div",4,5),zt.NdJ("click",function(){zt.CHM(l);const M=zt.MAs(1),k=zt.oxw();return zt.KtG(!k.commonService.isMobileDevice()&&k.onClickVideoContainer(M))})("touchstart",function(){zt.CHM(l);const M=zt.MAs(1),k=zt.oxw();return zt.KtG(k.commonService.isMobileDevice()&&k.onTouchVideoContainer(M))})("mousemove",function(){zt.CHM(l);const M=zt.MAs(1),k=zt.oxw();return zt.KtG(k.onMouseMoveVideoContainer(M))}),zt.TgZ(2,"div",6)(3,"section",7,8)(5,"section",9)(6,"button",10),zt.NdJ("click",function(){zt.CHM(l);const M=zt.oxw();return zt.KtG(M.closeVideo())}),zt._UZ(7,"i",11),zt.qZA(),zt.TgZ(8,"div",12),zt._uU(9),zt.qZA()(),zt.TgZ(10,"div",13)(11,"div",14)(12,"section",15)(13,"button",16)(14,"div",17,18),zt._uU(16),zt.qZA(),zt.TgZ(17,"div",19)(18,"div",20),zt.NdJ("contextmenu",function(){zt.CHM(l);const M=zt.MAs(23),k=zt.oxw();return zt.KtG(!k.commonService.isMobileDevice()&&k.onClickSlider(M))})("click",function(){zt.CHM(l);const M=zt.MAs(23),k=zt.oxw();return zt.KtG(k.onClickSlider(M))})("touchend",function(){zt.CHM(l);const M=zt.MAs(23),k=zt.oxw();return zt.KtG(k.commonService.isMobileDevice()&&k.onClickSlider(M))})("touchstart",function(M){zt.CHM(l);const k=zt.MAs(23),H=zt.MAs(15),te=zt.oxw();return zt.KtG(te.commonService.isMobileDevice()&&te.onTouchStartSlider(M,k,H))})("touchmove",function(M){zt.CHM(l);const k=zt.MAs(23),H=zt.MAs(15),te=zt.oxw();return zt.KtG(te.commonService.isMobileDevice()&&te.onTouchMoveSlider(M,k,H))})("mousedown",function(M){zt.CHM(l);const k=zt.MAs(23),H=zt.oxw();return zt.KtG(H.onMouseDownSlider(M,k))})("mousemove",function(M){zt.CHM(l);const k=zt.MAs(23),H=zt.oxw();return zt.KtG(H.onMouseMoveSlider(M,k))}),zt._UZ(19,"div",21,22),zt.TgZ(21,"div",23)(22,"div",24,25)(24,"div",26,25),zt._UZ(26,"div",27,28),zt.qZA()()()()(),zt.TgZ(28,"div",17,29),zt._uU(30),zt.qZA()()(),zt.TgZ(31,"section",30)(32,"div",31),zt.YNc(33,fd,2,0,"button",32),zt.qZA(),zt.TgZ(34,"div",33)(35,"div",34),zt.YNc(36,nd,2,0,"button",35),zt.TgZ(37,"button",36),zt.NdJ("click",function(){zt.CHM(l);const M=zt.oxw();return zt.KtG(M.onChangeObjectContain())}),zt._UZ(38,"i",37),zt.qZA(),zt.TgZ(39,"button",38),zt.NdJ("click",function(){zt.CHM(l);const M=zt.oxw();return zt.KtG(M.toggleFullScreenVideo())}),zt._UZ(40,"i",39),zt.qZA(),zt.TgZ(41,"button",40),zt.NdJ("click",function(){zt.CHM(l);const M=zt.oxw();return zt.KtG(M.showSettings())}),zt._UZ(42,"i",41),zt.qZA()()()(),zt.TgZ(43,"div",42)(44,"div",43)(45,"section",44)(46,"button",45),zt.NdJ("click",function(){zt.CHM(l);const M=zt.oxw();return zt.KtG(M.rewindVideo())}),zt._UZ(47,"i",46),zt.qZA(),zt.YNc(48,kd,3,0,"button",47),zt.YNc(49,ke,3,0,"button",48),zt.TgZ(50,"button",49),zt.NdJ("click",function(){zt.CHM(l);const M=zt.oxw();return zt.KtG(M.forwardVideo())}),zt._UZ(51,"i",50),zt.qZA()()()()()()(),zt.YNc(52,se,2,3,"div",51),zt.YNc(53,ri,11,2,"section",52),zt.YNc(54,xi,1,1,"ng-template",53),zt.YNc(55,Wi,2,0,"video",54),zt.qZA()()}if(2&V){const l=zt.MAs(15),_=zt.MAs(20),M=zt.MAs(29),k=zt.oxw();zt.xp6(3),zt.Q6J("ngClass",zt.VKq(22,Dr,k.showControls)),zt.xp6(6),zt.hij(" ",k.GetFullVideoTitle()," "),zt.xp6(5),zt.Udp("visibility",k.showControls?"":"hidden"),zt.xp6(2),zt.hij(" ",k.getVideoTime()," "),zt.xp6(1),zt.Udp("width","calc(100% - "+(l.offsetWidth+M.offsetWidth)+"px)"),zt.xp6(5),zt.Udp("width",_.offsetWidth+"px"),zt.xp6(4),zt.Udp("width",k.getSliderPogressWidth()),zt.xp6(2),zt.Udp("visibility",k.showControls?"":"hidden"),zt.xp6(2),zt.hij(" ",k.getDurationTime()," "),zt.xp6(3),zt.Q6J("ngIf",k.isEnablePreviousEpisodeButton()),zt.xp6(3),zt.Q6J("ngIf",k.isEnableNextEpisodeButton()),zt.xp6(12),zt.Q6J("ngIf",!k.isPlayingVideo()),zt.xp6(1),zt.Q6J("ngIf",k.isPlayingVideo()),zt.xp6(3),zt.Q6J("ngIf",!k.loadedData),zt.xp6(1),zt.Q6J("ngIf",k.showingSettings),zt.xp6(1),zt.Q6J("ngIf",k.currentSubtitleData),zt.xp6(1),zt.Q6J("ngIf",k.showVideoTarget)}}let dc=(()=>{class V{constructor(l,_,M,k,H,te,Ae,Pe,dt,pt){this.signalIrService=l,this.activeRoute=_,this.router=M,this.mediaItemService=k,this.dialog=H,this.mediaFilePlaybackService=te,this.commonService=Ae,this.sharedDataService=Pe,this.ref=dt,this.http=pt,this._window=window,this.showVideo=!0,this.lastCurrentTime=0,this.showControls=!1,this.currentSubtitleData=void 0,this.haveError=!1,this.currentEpisode={},this.lastClickSeekButton=new Date,this.countSeekSecondsToAdvance=0,this.isUpdatingVideoSource=!1,this.showingSettings=!1,this.listPrincipalSettingsOptions=[{index:0,name:"AUDIO",listOptions:[],selectedOption:null},{index:1,name:"SUBT\xcdTULOS",listOptions:[],selectedOption:null}],this.lastRealVideoTime=0,this.initializeVideo=!1,this.showVideoTarget=!1,this.loadedData=!1,this.beforeUnloadFunction=!1,this.subscription=new Oc.w0,this.isRetranscoding=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(Ut=>{this.mediaServer&&this.mediaServer.Guid==Ut&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.getMediaItemDetailByMediaFileAndProfile())})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(Ut=>{this.mediaServer&&this.mediaServer.Guid==Ut&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1,this.router.navigateByUrl("/media/server/"+Ut))})),this.subscription.add(this.signalIrService.isRemovedMediaFilePlayback().subscribe(Ut=>{this.mediaServer&&this.mediaServer.Guid==Ut.mediaServerGuid&&this.transcodedMediaFile&&this.transcodedMediaFile.Guid==Ut.mediaFilePlaybackGuid&&this.router.navigateByUrl("/media/server/"+Ut.mediaServerGuid)}))}ngOnInit(){this.initializeEventsAndIntervals();var l=this.activeRoute.snapshot.params.serverGuid;if(null!=l){var _=this.sharedDataService.mediaServers.find(M=>M.Guid==l);_&&(this.mediaServer=JSON.parse(JSON.stringify(_)),this.mediaServer.isSecureConnection?this.getMediaItemDetailByMediaFileAndProfile():setTimeout(()=>{0==this.mediaServer.isSecureConnection&&this.router.navigateByUrl("/media/server/"+l)},3e3))}else this.router.navigateByUrl("/404")}ngOnDestroy(){this.timeOutLoadVideoId&&(clearTimeout(this.timeOutLoadVideoId),this.timeOutLoadVideoId=void 0),this.subscription.unsubscribe(),this.dashMediaPlayer&&(this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy()),this.hls&&(this.hls.detachMedia(),this.hls.destroy()),this.detectChangesInterval&&window.clearInterval(this.detectChangesInterval),this.customMouseOutEvent&&window.removeEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction&&window.removeEventListener("beforeunload",this.beforeUnloadFunction),!this.sharedDataService.configurationData.alwaysFullScreen&&document.fullscreenElement&&document.exitFullscreen(),this.deleteTranscodedMediaFile()}initializeEventsAndIntervals(){let l=this;this.customMouseOutEvent=function(M){l.sliderContainer&&l.sliderContainer.startMove&&l.onClickSlider(l.sliderContainer)},window.addEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction=function(M){l.deleteTranscodedMediaFile()},window.addEventListener("beforeunload",this.beforeUnloadFunction),this.detectChangesInterval=window.setInterval(function(){l.mediaServer&&l.transcodedMediaFile&&!l.isRetranscoding&&l.signalIrService.updateCurrentTimeMediaFilePlayBack(l.mediaServer.Guid,l.transcodedMediaFile.Guid,l.getCurrentVideoTime(),l.isPlayingVideo()),l.ref.detectChanges()},0)}getMediaItemDetailByMediaFileAndProfile(){var l=this.activeRoute.snapshot.params.mediaFileId;l?this.mediaItemService.GetMediaItemDetailByMediaFileAndProfile(this.mediaServer.Url,l,this.sharedDataService.currentProfile.Id).then(_=>{this.itemDetail=_,this.CreateTranscodedMediaFile()},_=>{this.router.navigateByUrl("/404")}):this.router.navigateByUrl("/404")}CreateTranscodedMediaFile(){var l=0;this.itemDetail.MediaFileProfile&&(l=this.itemDetail.MediaFileProfile.CurrentTime>20?this.itemDetail.MediaFileProfile.CurrentTime-20:0),this.createTranscodedMediaFile(l)}getVideoByEpisode(l){this.deleteTranscodedMediaFile(),this.itemDetail.ListSeasons&&(this.itemDetail.CurrentSeason=this.itemDetail.ListSeasons.find(_=>_.SeasonNumber==l.SeasonNumber),this.itemDetail.CurrentEpisode=this.itemDetail.CurrentSeason.ListEpisodes.find(_=>_.EpisodeNumber==l.EpisodeNumber)),this.lastRealVideoTime=0,this.resetStream(),this.transcodedMediaFile=void 0,this.createTranscodedMediaFile(0)}createTranscodedMediaFile(l){this.mediaFilePlaybackService.createTranscodedMediaFile(this.mediaServer.Url,this.GetMediaFilePlayback(l)).then(_=>{this.loadStatus=Qn.O5.Generated,this.transcodedMediaFile=_.Data,this.initializeStreams(),this.getVideoSource()},_=>{this.showLoadVideoErrorActionsDialog(),console.error(_)})}GetMediaFilePlayback(l){var _;(_=new sl).Guid=(0,t.Z)();var M=new cc;M.ProfileId=this.sharedDataService.currentProfile.Id,M.ProfileName=this.sharedDataService.currentProfile.FullName,M.AvatarPath=this.sharedDataService.currentProfile.AvatarPath,_.ProfileData=M;var k=new bo;if(k.DeviceData=this.sharedDataService.deviceData,k.IsPlaying=!1,k.CurrentTime=l,_.ClientData=k,this.itemDetail.MediaItem.MediaTypeId==Qn.DD.Movie){var H=new ea,te=this.itemDetail.ListMediaFiles[0];H.Title=this.itemDetail.MediaItem.ExtendedTitle,H.PhysicalPath=te.PhysicalPath,H.MediaFileId=te.Id,H.PosterPath=this.getPosterPath(this.itemDetail.MediaItem,te),_.ItemData=H}return this.itemDetail.MediaItem.MediaTypeId==Qn.DD.TvSerie&&((H=new ea).MediaFileId=(te=this.itemDetail.CurrentEpisode.ListMediaFiles[0]).Id,H.PhysicalPath=te.PhysicalPath,H.Title=this.itemDetail.MediaItem.Title,H.Subtitle="T"+this.itemDetail.CurrentEpisode.SeasonNumber+":E"+this.itemDetail.CurrentEpisode.EpisodeNumber+" "+this.itemDetail.CurrentEpisode.Name,H.PosterPath=this.getPosterPath(this.itemDetail.MediaItem,te),_.ItemData=H),_}retranscodeMediaFile(l){this.deleteLastTranscodedMediaFileProcess();var _=new Pc;_.Guid=this.transcodedMediaFile.Guid,_.NewTime=l,this.loadStatus=Qn.O5.Empty,this.isRetranscoding=!0,this.mediaFilePlaybackService.retranscodeMediaFile(this.mediaServer.Url,_).then(M=>{this.isRetranscoding=!1,this.transcodedMediaFile.InitialTime=l,this.transcodedMediaFile.Url=M.Data,this.loadStatus=Qn.O5.Generated,this.updateAudioAndVideoList(),this.getVideoSource()},M=>{this.isRetranscoding=!1,this.showLoadVideoErrorActionsDialog(),console.error(M)})}deleteTranscodedMediaFile(){this.timeOutLoadVideoId&&(clearTimeout(this.timeOutLoadVideoId),this.timeOutLoadVideoId=void 0),this.signalIrService.removeMediaFilePlayBack(this.mediaServer.Guid,this.transcodedMediaFile.Guid)}deleteLastTranscodedMediaFileProcess(){this.timeOutLoadVideoId&&(clearTimeout(this.timeOutLoadVideoId),this.timeOutLoadVideoId=void 0),this.signalIrService.removeLastTranscodedMediaFileProcess(this.mediaServer.Guid,this.transcodedMediaFile.Guid)}GetFullVideoTitle(){var l="";return this.itemDetail&&this.itemDetail.MediaItem.MediaTypeId==Qn.DD.Movie&&(l=this.itemDetail.MediaItem.ExtendedTitle),this.itemDetail&&this.itemDetail.MediaItem.MediaTypeId==Qn.DD.TvSerie&&(l=this.itemDetail.MediaItem.Title+" T"+this.itemDetail.CurrentEpisode.SeasonNumber+":E"+this.itemDetail.CurrentEpisode.EpisodeNumber+" "+this.itemDetail.CurrentEpisode.Name),l}isEnablePreviousEpisodeButton(){if(this.itemDetail&&this.itemDetail.ListSeasons&&this.itemDetail.ListSeasons.length>0&&this.itemDetail.CurrentSeason){let l=this.itemDetail.CurrentSeason.SeasonNumber,M=this.itemDetail.CurrentEpisode.EpisodeNumber-1;if(-1!=this.itemDetail.CurrentSeason.ListEpisodes.findIndex(H=>H.EpisodeNumber==M))return!0;{let H=l-1,te=this.itemDetail.ListSeasons.findIndex(Ae=>Ae.SeasonNumber==H);if(-1!=te){let Ae=this.itemDetail.ListSeasons[te];return!!(Ae&&Ae.ListEpisodes&&Ae.ListEpisodes.length)}return!1}}return!1}isEnableNextEpisodeButton(){if(this.itemDetail&&this.itemDetail.ListSeasons&&this.itemDetail.ListSeasons.length>0&&this.itemDetail.CurrentSeason){let l=this.itemDetail.CurrentSeason.SeasonNumber,M=this.itemDetail.CurrentEpisode.EpisodeNumber+1;if(-1!=this.itemDetail.CurrentSeason.ListEpisodes.findIndex(H=>H.EpisodeNumber==M))return!0;{let H=l+1,te=this.itemDetail.ListSeasons.findIndex(Ae=>Ae.SeasonNumber==H);if(-1!=te){let Ae=this.itemDetail.ListSeasons[te];return!!(Ae&&Ae.ListEpisodes&&Ae.ListEpisodes.length)}return!1}}return!1}goToNextEpisode(){if(this.itemDetail&&this.itemDetail.ListSeasons&&this.itemDetail.ListSeasons.length>0&&this.itemDetail.CurrentSeason){let l=this.itemDetail.CurrentSeason.SeasonNumber,M=this.itemDetail.CurrentEpisode.EpisodeNumber+1,k=this.itemDetail.CurrentSeason.ListEpisodes.findIndex(H=>H.EpisodeNumber==M);if(-1!=k)this.getVideoByEpisode(this.itemDetail.CurrentSeason.ListEpisodes[k]);else{let H=l+1,te=this.itemDetail.ListSeasons.findIndex(Ae=>Ae.SeasonNumber==H);if(-1!=te){let Ae=this.itemDetail.ListSeasons[te];this.itemDetail.CurrentSeason=Ae,Ae&&Ae.ListEpisodes&&Ae.ListEpisodes.length&&this.getVideoByEpisode(Ae.ListEpisodes[0])}}}}goToPreviousEpisode(){if(this.itemDetail&&this.itemDetail.ListSeasons&&this.itemDetail.ListSeasons.length>0&&this.itemDetail.CurrentSeason){let l=this.itemDetail.CurrentSeason.SeasonNumber,M=this.itemDetail.CurrentEpisode.EpisodeNumber-1,k=this.itemDetail.CurrentSeason.ListEpisodes.findIndex(H=>H.EpisodeNumber==M);if(-1!=k)this.getVideoByEpisode(this.itemDetail.CurrentSeason.ListEpisodes[k]);else{let H=l+1,te=this.itemDetail.ListSeasons.findIndex(Ae=>Ae.SeasonNumber==H);if(-1!=te){let Ae=this.itemDetail.ListSeasons[te];this.itemDetail.CurrentSeason=Ae,Ae&&Ae.ListEpisodes&&Ae.ListEpisodes.length&&this.getVideoByEpisode(Ae.ListEpisodes[Ae.ListEpisodes.length-1])}}}}onTouchVideoContainer(l){this.showingSettings||this.commonService.isMobileDevice()&&this.showControlsTemporarily(l)}onClickVideoContainer(l){this.showingSettings||(l.clicked=!0,setTimeout(()=>{l.clicked=!1},2e3),this.commonService.isMobileDevice()||this.showControlsTemporarily(l))}onTouchStartSlider(l,_,M){this.sliderContainer=_,_.startMove=!0,this.lastTmpVideoTime=(l.changedTouches[0].clientX-M.offsetWidth-8-4)/_.offsetWidth*100*this.transcodedMediaFile.Duration/100}onTouchMoveSlider(l,_,M){_.startMove&&(this.lastTmpVideoTime=(l.changedTouches[0].clientX-M.offsetWidth-8-4)/_.offsetWidth*100*this.transcodedMediaFile.Duration/100)}showSettings(){this.showControls=!1,this.ref.detectChanges(),this.showingSettings=!0,this.ref.detectChanges()}hideSettings(){this.showingSettings=!1,this.ref.detectChanges()}onClickPrincipalSettingsOption(l){this.currentSelectedPrincipalSettingOption=l}onClickStreamOption(l){this.currentSelectedPrincipalSettingOption.selectedOption=l,this.showingSettings=!1,this.ref.detectChanges(),0==this.currentSelectedPrincipalSettingOption.index&&(this.hls.audioTrack=l.index),1==this.currentSelectedPrincipalSettingOption.index&&(1e6==l.index?this.hls.subtitleDisplay=!1:(this.hls.subtitleTrack=l.index,this.hls.subtitleDisplay=!0))}getPosterPath(l,_){return l.MetadataAgentsId==Qn.DM.TMDb?this.sharedDataService.originalUrlImagesMovieDataBase+l.PosterPath:l.PosterPath?l.PosterPath:this.mediaServer.Url+"/media/"+_.Guid+"/thumbnail.png"}getSubtitle(l){let _=this;this.http.get(l,{responseType:"text"}).subscribe(M=>{M&&(0,v.Q)(M)&&(0,v.Q)(M).entries?(_.currentSubtitleData=(0,v.Q)(M).entries,0==_.currentSubtitleData.length?setTimeout(()=>{_.getSubtitle(l)},1e3):_.ref.detectChanges()):(console.error("No hay data en los subtitulos aun"),setTimeout(()=>{_.getSubtitle(l)},1e3))},M=>{console.error(M),setTimeout(()=>{_.getSubtitle(l)},1e3)})}closeVideo(){this.router.navigateByUrl("/home")}getConfirmMessage(){var l="Vacio";switch(this.loadStatus){case Qn.O5.Empty:l="Vac\xedo";break;case Qn.O5.Generated:l="Generado";break;case Qn.O5.Initialized:l="Inicializado";break;case Qn.O5.LoadedMetada:l="Cargado Metadata";break;case Qn.O5.LoadedData:l="Cargado Data"}return"Hubo un error al intentar reproducir el video, se quedo con el estado de "+l+", desea intentarlo de nuevo?"}updateAudioAndVideoList(){if(this.listPrincipalSettingsOptions[0].listOptions=[],this.listPrincipalSettingsOptions[0].selectedOption=void 0,this.listPrincipalSettingsOptions[1].listOptions=[],this.listPrincipalSettingsOptions[1].selectedOption=void 0,this.transcodedMediaFile.ListAudioStreams&&this.transcodedMediaFile.ListAudioStreams.length>0&&(this.transcodedMediaFile.ListAudioStreams.forEach(l=>{let _="";"spa"==l.language&&(_="Espa\xf1ol"),"eng"==l.language&&(_="Ingles"),l.title&&(_=_+" ("+l.title+")"),l.name=_}),this.listPrincipalSettingsOptions[0].listOptions=this.transcodedMediaFile.ListAudioStreams,this.listPrincipalSettingsOptions[0].selectedOption=this.transcodedMediaFile.ListAudioStreams.find(l=>1==l.isDefault)),this.transcodedMediaFile.ListSubtitleStreams&&this.transcodedMediaFile.ListSubtitleStreams.length>0){this.transcodedMediaFile.ListSubtitleStreams.forEach(M=>{let k="";"spa"==M.language&&(k="Espa\xf1ol"),"eng"==M.language&&(k="Ingles"),M.title&&(k=k+" ("+M.title+")"),M.name=k});let l=[];l.push({index:1e6,name:"Ninguno"}),l=l.concat(this.transcodedMediaFile.ListSubtitleStreams),this.listPrincipalSettingsOptions[1].listOptions=l;let _=this.transcodedMediaFile.ListSubtitleStreams.find(M=>1==M.isDefault);null==_&&(_=l.find(M=>1e6==M.index)),this.listPrincipalSettingsOptions[1].selectedOption=_}this.currentSelectedPrincipalSettingOption=this.listPrincipalSettingsOptions[0]}initializeStreams(){this.updateAudioAndVideoList(),this.lastRealVideoTime=null!=this.transcodedMediaFile.InitialTime?this.transcodedMediaFile.InitialTime:0}executeHideControls(){this.sliderContainer&&this.sliderContainer.startMove?setTimeout(()=>{this.executeHideControls()},2e3):this.showControls=!1}getDurationTime(){return this.transcodedMediaFile&&this.transcodedMediaFile.Duration?this.getFormatTime(this.transcodedMediaFile.Duration):"00:00:00"}getFormatTime(l){var _=parseInt(l,10),M=Math.floor(_/3600),k=Math.floor((_-3600*M)/60),H=_-3600*M-60*k;return M<10&&(M="0"+M),k<10&&(k="0"+k),H<10&&(H="0"+H),M+":"+k+":"+H}getVideoTime(){if(this.lastTmpVideoTime)return this.getFormatTime(this.lastTmpVideoTime);{let l=this.getCurrentVideoTime();return null!=l&&l>0?this.getFormatTime(l):"00:00:00"}}onMouseDownSlider(l,_){this.sliderContainer=_,_.startMove=!0,this.calculateNewTimeToGo(l,_)}onMouseMoveSlider(l,_){_.startMove&&this.calculateNewTimeToGo(l,_)}calculateNewTimeToGo(l,_){this.lastTmpVideoTime=l.offsetX/_.offsetWidth*100*this.transcodedMediaFile.Duration/100}resetStream(){this.showVideoTarget=!1,this.loadedData=!1,null!=this.dashMediaPlayer&&(this.dashMediaPlayer.resetSettings(),this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy(),this.dashMediaPlayer=void 0),this.hls&&(this.hls.destroy(),this.hls=void 0)}onClickSlider(l){if(this.lastTmpVideoTime){if(l.startMove=!1,this.lastTmpVideoTime>this.getCurrentVideoTime()){let _=this.lastTmpVideoTime-this.getCurrentVideoTime();this.executeForwardVideo(_)}else if(this.lastTmpVideoTime<this.getCurrentVideoTime()){let _=this.getCurrentVideoTime()-this.lastTmpVideoTime;this.executeRewindVideo(_)}this.lastTmpVideoTime=void 0}}getSliderPogressWidth(){if(this.transcodedMediaFile&&this.transcodedMediaFile.Duration){let l=this.transcodedMediaFile.Duration,M=(this.lastTmpVideoTime?this.lastTmpVideoTime:this.getCurrentVideoTime())/l*100;return M>100&&(M=100),M+"%"}return 0}OnEndedVideo(){this.isEnableNextEpisodeButton()&&this.goToNextEpisode()}isPlayingVideo(){return this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==Qn.Ln.MPEGDASH?!(!this.dashMediaPlayer||this.dashMediaPlayer.isPaused()):!(!this.videoTarget||0!=this.videoTarget.nativeElement.paused)}playOrPauseVideo(){console.log("subtitle tracks"),console.log(this.hls.subtitleTracks),console.log("audio tracks"),console.log(this.hls.audioTracks),this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==Qn.Ln.MPEGDASH?this.dashMediaPlayer&&(this.dashMediaPlayer.isPaused()?this.dashMediaPlayer.play():this.dashMediaPlayer.pause()):this.videoTarget&&(this.videoTarget.nativeElement.paused?this.videoTarget.nativeElement.play():this.videoTarget.nativeElement.pause())}showVideoInFullScreen(){this.toggleFullScreenVideo()}toggleFullScreenVideo(){document.fullscreenElement||document.body.requestFullscreen&&document.body.requestFullscreen()}displayVideoUsingDash(l){let _=this;this.dashMediaPlayer=e.MediaPlayer().create(),this.dashMediaPlayer.updateSettings({streaming:{gaps:{jumpGaps:!0,jumpLargeGaps:!0,enableSeekFix:!0,enableStallFix:!0},buffer:{bufferPruningInterval:this.transcodedMediaFile.Duration,bufferToKeep:this.transcodedMediaFile.Duration}}}),this.dashMediaPlayer.initialize(this.videoTarget.nativeElement,l),this.dashMediaPlayer.on(e.MediaPlayer.events.ERROR,function(M){console.log(M),console.error("hubo un error")}),this.dashMediaPlayer.on(e.MediaPlayer.events.PLAYBACK_ERROR,function(M){console.log(M),console.error("hubo un error de playback")}),this.dashMediaPlayer.on(e.MediaPlayer.events.PLAYBACK_WAITING,function(M){console.error("PLAYBACK_WAITING"),console.log(M)}),this.dashMediaPlayer.on(e.MediaPlayer.events.BUFFER_EMPTY,function(M){console.error("BUFFER_EMPTY"),console.log(M)}),this.dashMediaPlayer.on(e.MediaPlayer.events.STREAM_INITIALIZED,function(M){console.error("STREAM_INITIALIZED"),_.initializeVideo=!0,console.log(M)}),this.ref.detectChanges(),this.dashMediaPlayer.play(),this.showVideoInFullScreen()}getCurrentVideoTime(){return this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==Qn.Ln.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()?this.lastRealVideoTime+this.dashMediaPlayer.time():this.lastRealVideoTime:this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime?this.lastRealVideoTime+this.videoTarget.nativeElement.currentTime:this.lastRealVideoTime}checkIfDisplaySubtitles(l){let M=1e3*(this.getCurrentVideoTime()-1);return l.from<=M&&l.to>=M}onDeclineReplyVideo(){this.closeVideo()}onConfirmReplyVideo(){this.lastRealVideoTime=this.getCurrentVideoTime()-2>=0?this.getCurrentVideoTime()-2:0,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)}onLoadedMetadata(){this.loadStatus=Qn.O5.LoadedMetada,console.log("onLoadedMetadata")}onLoadedData(){console.log("onLoadedData"),this.loadStatus=Qn.O5.LoadedData,this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play())}onErrorVideo(){console.log("onErrorVideo")}getVideoSource(){this.http.get(this.transcodedMediaFile.Url,{headers:void 0,responseType:"blob"}).subscribe(l=>{this.loadStatus=Qn.O5.Initialized,this.showVideoTarget=!0,this.ref.detectChanges(),-1!=this.transcodedMediaFile.Url.indexOf("mpd")?this.displayVideoUsingDash(this.transcodedMediaFile.Url):-1!=this.transcodedMediaFile.Url.indexOf("m3u8")?this.displayVideoUsingHLS(this.transcodedMediaFile.Url):(this.videoTarget.nativeElement.src=this.transcodedMediaFile.Url,this.videoTarget.nativeElement.currentTime=this.lastRealVideoTime,this.lastRealVideoTime=0,this.videoTarget.nativeElement.play())},l=>{console.error(l),this.showLoadVideoErrorActionsDialog()})}displayVideoUsingHLS(l){let _=this;this.timeOutLoadVideoId=setTimeout(()=>{_.loadStatus!=Qn.O5.LoadedData&&_.showLoadVideoErrorActionsDialog()},1e4,_),this.showVideoInFullScreen(),Gn.isSupported()?(this.hls=new Gn,this.hls.attachMedia(this.videoTarget.nativeElement),this.hls.loadSource(l),this.hls.on(Gn.Events.MEDIA_ATTACHED,function(M){console.log("MEDIA_ATTACHED"),console.log(M)}),this.hls.on(Gn.Events.AUDIO_TRACK_LOADED,function(M){console.log("AUDIO_LOADED"),console.log(M)}),this.hls.on(Gn.Events.MANIFEST_LOADED,function(M){console.log("MANIFEST_LOADED"),console.log(M)}),this.hls.on(Gn.Events.MANIFEST_PARSED,function(M){console.log("MANIFEST_PARSED"),console.log(M)}),this.hls.on(Gn.Events.ERROR,function(M){_.videoTarget.nativeElement.CurrentTime=_.videoTarget.nativeElement.CurrentTime+1,console.error("Ocurrio un error"),console.log(M)})):(this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.src=l,this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play()))}onChangeObjectContain(){"contain"==this.videoTarget.nativeElement.style.objectFit||""==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="cover":"cover"==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="fill":"fill"==this.videoTarget.nativeElement.style.objectFit&&(this.videoTarget.nativeElement.style.objectFit="contain")}callUpdateVideoData(l){let _=(0,t.Z)();this.lastTimeSpanChangeGUID=_,setTimeout(()=>{_==this.lastTimeSpanChangeGUID&&this.retranscodeMediaFile(l)},1e3)}rewindVideo(){this.executeRewindVideo(10)}executeRewindVideo(l){this.initializeVideo=!1;let _=0;_=this.getCurrentVideoTime()-l>=0?l:this.getCurrentVideoTime(),this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==Qn.Ln.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()>_?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()-_):(this.lastRealVideoTime=this.getCurrentVideoTime()-_,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.currentTime>_?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime-_:(this.lastRealVideoTime=this.getCurrentVideoTime()-_,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}forwardVideo(){this.executeForwardVideo(10)}executeForwardVideo(l){if(this.initializeVideo=!1,this.getCurrentVideoTime()<this.transcodedMediaFile.Duration){let _=0;_=this.getCurrentVideoTime()+l>this.transcodedMediaFile.Duration?this.transcodedMediaFile.Duration>this.getCurrentVideoTime()?this.transcodedMediaFile.Duration-this.getCurrentVideoTime():0:l,this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==Qn.Ln.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.duration()-this.dashMediaPlayer.time()>=_?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()+_):(this.lastRealVideoTime=this.getCurrentVideoTime()+_,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.duration&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.duration-this.videoTarget.nativeElement.currentTime>=_?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime+_:(this.lastRealVideoTime=this.getCurrentVideoTime()+_,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}}onMouseMoveVideoContainer(l){!this.showControls&&!l.clicked&&!this.showingSettings&&this.showControlsTemporarily(l)}executeShowControlsTemporarily(l,_){this.showControls=!0,this.ref.detectChanges(),setTimeout(()=>{l.guid==_&&this.executeHideControls()},2e3)}showControlsTemporarily(l){if(!this.showControls){let _=(0,t.Z)();l.guid=_,this.commonService.isMobileDevice()?setTimeout(()=>{this.executeShowControlsTemporarily(l,_)},250):this.executeShowControlsTemporarily(l,_)}}toogleVideoControls(l){this.showControls?this.showControls=!0:this.showControlsTemporarily(l)}showLoadVideoErrorActionsDialog(){var l=new Si.vA;l.disableClose=!0,l.data={title:"Mensaje",message:this.getConfirmMessage(),actions:[{text:"No",key:"No"},{text:"Si",key:"Si"}]},this.dialog.open(Ho,l).afterClosed().subscribe(_=>{"Si"==_.key&&this.onConfirmReplyVideo(),"No"==_.key&&this.onDeclineReplyVideo()})}static#e=this.\u0275fac=function(_){return new(_||V)(zt.Y36(yd.n),zt.Y36(td.gz),zt.Y36(td.F0),zt.Y36(dd.D),zt.Y36(Si.uw),zt.Y36(Rc),zt.Y36(Nc.v),zt.Y36(Vc.g),zt.Y36(zt.sBO),zt.Y36(Ed.eN))};static#t=this.\u0275cmp=zt.Xpm({type:V,selectors:[["app-item-video"]],viewQuery:function(_,M){if(1&_&&(zt.Gf(Yd,5),zt.Gf(ud,5),zt.Gf(Zd,5),zt.Gf(Ld,5)),2&_){let k;zt.iGM(k=zt.CRH())&&(M.controlsContainer=k.first),zt.iGM(k=zt.CRH())&&(M.settingsContainer=k.first),zt.iGM(k=zt.CRH())&&(M.videoPrincipalContainer=k.first),zt.iGM(k=zt.CRH())&&(M.videoTarget=k.first)}},decls:4,vars:1,consts:[[1,"sinovad-container-video"],["id","videoPrincipalContainer",1,"sinovad-video-principal-container","sinovad-custom-container",2,"width","100%","height","100%"],["videoPrincipalContainer",""],["class","sinovad-video-container",3,"click","touchstart","mousemove",4,"ngIf"],[1,"sinovad-video-container",3,"click","touchstart","mousemove"],["videoContainer",""],[1,"sinovad-full-screen-video-container"],["tabindex","0",1,"sinovad-controls-container",3,"ngClass"],["controlsContainer",""],["id","videoHeaderSection","tabindex","0",1,"sinovad-video-header-section"],["id","backVideoButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-chevron-left"],[1,"sinovad-video-header-section-title-container"],[1,"sinovad-full-screen-video-popup-footer"],[2,"width","100%"],["id","section_progress_bar",1,"sinovad-progress-bar-container"],["id","sliderButton",1,"sinovad-progress-bar"],[1,"sinovad-current-time"],["controlLeft",""],[1,"sinovad-slider-container"],["tabindex","-1",1,"sinovad-slider-content",3,"contextmenu","click","touchend","touchstart","touchmove","mousedown","mousemove"],[1,"sinovad-slider-fills"],["silderFills",""],[2,"width","0px"],[1,"sinovad-slider-fills-progress-container"],["sliderContainer",""],[1,"sinovad-slider-fills-progress-content"],[1,"sinovad-slider-fills-progress"],["silderProgress",""],["controlRight",""],["id","section_video_secondary_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-episode-buttons-section","sinovad-section"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-left"],["id","previousButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-right"],[2,"display","flex","align-items","center","float","right"],["id","nextButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],["id","aspectRatio",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-maximize"],["id","fullScreenButton",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-expand"],["id","settingsOption",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-gear"],[1,"sinovad-section",2,"display","flex","height","50px"],[1,"sinovad-full-screen-video-popup-footer-center"],["id","section_video_principal_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-footer-center-content"],["id","rewindButton",1,"sinovad-video-control-button",2,"margin-right","25px",3,"click"],[1,"fa-solid","fa-rotate-left"],["id","playButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","stopButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","forwardButton",1,"sinovad-video-control-button",2,"margin-left","25px",3,"click"],[1,"fa-solid","fa-rotate-right"],["class","sinovad-loading-video",3,"ngClass",4,"ngIf"],["class","easy-media-settings-section-container","tabindex","0",4,"ngIf"],[3,"ngIf"],["id","video","class","sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended",4,"ngIf"],["id","previousButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-backward-step"],["id","nextButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-forward-step"],["id","playButton",1,"sinovad-video-control-button","principal",3,"click"],["playButton",""],[1,"fa-solid","fa-play"],["id","stopButton",1,"sinovad-video-control-button","principal",3,"click"],["stopButton",""],[1,"fa-solid","fa-pause"],[1,"sinovad-loading-video",3,"ngClass"],["tabindex","0",1,"easy-media-settings-section-container"],["settingsContainer",""],[1,"easy-media-settings-section-content"],["id","section_settings_back_button","tabindex","0",1,"sinovad-settings-options-header-section"],[1,"sinovad-settings-section-container-left"],[1,"sinovad-settings-section-content-left"],["id","closeSettings",1,"sinovad-video-control-button",3,"click"],["id","streams_options_section","tabindex","0",1,"sinovad-settings-options-section"],["ngFor","",3,"ngForOf"],["class","sinovad-settings-suboptions-section","tabindex","0",3,"id",4,"ngIf"],[3,"id","ngClass","click"],["tabindex","0",1,"sinovad-settings-suboptions-section",3,"id"],[1,"sinovad-subtitles-forzed-section",3,"innerHtml"],["id","video",1,"sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended"],["videoTarget",""]],template:function(_,M){1&_&&(zt.TgZ(0,"div",0)(1,"div",1,2),zt.YNc(3,Ps,56,24,"div",3),zt.qZA()()),2&_&&(zt.xp6(3),zt.Q6J("ngIf",M.showVideo))},dependencies:[Ni.mk,Ni.sg,Ni.O5],styles:[".sinovad-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:1054;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}video[_ngcontent-%COMP%]::cue{background-color:transparent;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-loading-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;padding-bottom:0;left:0;background-color:#000;z-index:9999;display:flex;align-items:center;justify-content:center;font-size:30px;color:#fff}.sinovad-loading-video.show-controls[_ngcontent-%COMP%]{padding-bottom:300px;top:150px}.easy-media-settings-section-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:auto;background:rgba(0,0,0,.5);padding:0 0 50px;z-index:99999}.easy-media-settings-section-content[_ngcontent-%COMP%]{display:block}.sinovad-settings-options-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:48px;border-bottom:1px solid #dedede;margin-bottom:50px}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:20px;background-color:transparent;border:none;font-size:30px;border-radius:5px;cursor:pointer}.sinovad-settings-options-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:40px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:10px;background-color:transparent;border:none;font-size:30px;cursor:pointer;margin-right:6px;border-radius:5px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-full-screen-video-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.sinovad-full-screen-video-popup[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-video-header-section[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5);padding-left:10px;padding-top:10px}.sinovad-full-screen-video-popup-footer[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;padding-left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5)}.sinovad-progress-bar-container[_ngcontent-%COMP%]{width:100%;outline:none}.sinovad-progress-bar[_ngcontent-%COMP%]{height:40px;pointer-events:auto;position:relative;width:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px;border:none;border-radius:0;outline:none;background:transparent;opacity:.7}.sinovad-progress-bar[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-slider-container[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;height:100%;pointer-events:auto;position:relative;touch-action:none;padding-left:8px;padding-right:8px;border:none;border-radius:0;outline:none;background:transparent}.sinovad-slider-content[_ngcontent-%COMP%]{height:100%;padding-top:20px;cursor:pointer;outline:none}.sinovad-slider-fills[_ngcontent-%COMP%]{height:3px;overflow:hidden;pointer-events:none;width:100%;background:white;opacity:.5}.sinovad-slider-fills-progress-container[_ngcontent-%COMP%]{position:relative}.sinovad-slider-fills-progress-content[_ngcontent-%COMP%]{width:100%;height:8px;margin-top:-6px}.sinovad-slider-fills-progress[_ngcontent-%COMP%]{cursor:pointer;background:white;height:100%;width:0%}.sinovad-settings-options-header-section[_ngcontent-%COMP%]{display:flex;margin-left:10px;margin-top:10px}.sinovad-settings-section-container-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;float:left}.sinovad-settings-section-content-left[_ngcontent-%COMP%]{position:relative}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-controls-container[_ngcontent-%COMP%]{z-index:-99;pointer-events:none}.sinovad-controls-container.show[_ngcontent-%COMP%]{z-index:unset;pointer-events:unset}.sinovad-custom-video[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-full-screen-video-popup-episode-buttons-section[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:40px}.sinovad-full-screen-video-popup-episode-buttons-section-left[_ngcontent-%COMP%]{display:block;float:left;width:100%;padding-left:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]{display:block;float:right;width:100%;padding-right:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]   .sinovad-video-control-button[_ngcontent-%COMP%]{float:right}.sinovad-full-screen-video-popup-footer-left[_ngcontent-%COMP%]{display:block;float:left;width:170px}.sinovad-full-screen-video-popup-footer-left-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;color:#fff}.sinovad-current-time[_ngcontent-%COMP%]{color:#fff;font-size:25px}.sinovad-full-screen-video-popup-footer-center[_ngcontent-%COMP%]{display:block;float:left;width:100%}.sinovad-full-screen-video-popup-footer-center-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;justify-content:center}.sinovad-full-screen-video-popup-footer-right[_ngcontent-%COMP%]{width:100px;display:block;float:right}.sinovad-full-screen-video-popup-footer-right-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:right;height:100%}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;justify-content:center;width:100%;padding-right:70px}.sinovad-subtitles-forzed-section[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:10px;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;color:#fff;padding:10px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:6px;font-size:18px;font-weight:700}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#fff;color:#000;height:30px;font-size:18px;border-radius:5px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff;color:#000}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:25px}.sinovad-video-control-button[_ngcontent-%COMP%]{color:#fff;background:transparent;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:10px;opacity:.9;font-size:25px;border-radius:100px;min-width:45px}.sinovad-video-control-button[_ngcontent-%COMP%]:hover{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus-visible{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus{background:white;color:#000;opacity:1}@media only screen and (min-width: 2048px){.sinovad-video-control-button[_ngcontent-%COMP%], .sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:35px}}@media only screen and (max-width: 767px){video[_ngcontent-%COMP%]::cue{font-size:25px}}"]})}return V})()},1018:(Wn,Je,g)=>{"use strict";g.d(Je,{R:()=>O});var e=g(7394),t=g(5879),v=g(7541),y=g(7990),m=g(1044),P=g(5908),D=g(5731),f=g(1367),i=g(6814),c=g(5940),d=g(1444),h=g(3630);function p(S,I){if(1&S&&(t.TgZ(0,"div",5)(1,"button",6)(2,"div",7),t._uU(3),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.qZA()()()),2&S){const E=t.oxw(3);t.xp6(3),t.hij(" ",E.title," "),t.xp6(2),t.hij(" ",E.subtitle," ")}}function C(S,I){if(1&S&&(t.TgZ(0,"div",1)(1,"div",2),t.YNc(2,p,6,2,"div",3),t.TgZ(3,"div"),t._UZ(4,"app-media-items",4),t.qZA()()()),2&S){const E=t.oxw(2);t.xp6(2),t.Q6J("ngIf",E.title),t.xp6(1),t.Udp("height","calc(100% - 65px)"),t.xp6(1),t.Q6J("itemsGroupList",E.itemsGroupList)}}function A(S,I){if(1&S&&t._UZ(0,"app-server-connection-error",9),2&S){const E=t.oxw(2);t.Q6J("mediaServer",E.currentMediaServer)}}function x(S,I){if(1&S&&(t.YNc(0,C,5,4,"ng-template",0),t.YNc(1,A,1,1,"ng-template",0)),2&S){const E=t.oxw();t.Q6J("ngIf",E.currentMediaServer&&E.currentMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",E.currentMediaServer&&!E.currentMediaServer.isSecureConnection)}}function R(S,I){1&S&&(t.TgZ(0,"div",10),t._UZ(1,"mat-spinner"),t.qZA())}let O=(()=>{class S{constructor(E,L,b,B,Z,oe,le){this.signalIrService=E,this.mediaItemService=L,this.libraryService=b,this.activeRoute=B,this.router=Z,this.commonService=oe,this.sharedDataService=le,this.itemsGroupList=[],this._window=window,this.subscription=new e.w0,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1};let Re=this;this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(Y=>{Re.currentMediaServer&&Re.currentMediaServer.Guid==Y&&!Re.currentMediaServer.isSecureConnection&&(Re.loadingConnection=!1,Re.currentMediaServer.isSecureConnection=!0,Re.getItemsByCurrentMediaServerAndCurrentLibrary())})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(Y=>{Re.currentMediaServer&&Re.currentMediaServer.Guid==Y&&Re.currentMediaServer.isSecureConnection&&(Re.currentMediaServer.isSecureConnection=!1,Re.clearItemsInGroup(Re.currentMediaServer.Id))})),this.subscription.add(this.signalIrService.isUpdatingLibrariesByMediaServer().subscribe(Y=>{Re.currentMediaServer&&Re.currentMediaServer.Guid==Y&&!Re.currentMediaServer.isSecureConnection&&(Re.currentMediaServer.isSecureConnection=!0,Re.getItemsByCurrentMediaServerAndCurrentLibrary())})),this.subscription.add(this.signalIrService.isUpdatingItemsByMediaServer().subscribe(Y=>{Re.currentMediaServer&&Re.currentMediaServer.Guid==Y&&!Re.currentMediaServer.isSecureConnection&&(Re.currentMediaServer.isSecureConnection=!0,Re.getItemsByCurrentMediaServerAndCurrentLibrary())}))}ngOnInit(){var E=this.activeRoute.snapshot.params.serverGuid;if(null!=E){var L=this.sharedDataService.mediaServers.find(b=>b.Guid==E);L?(this.currentMediaServer=JSON.parse(JSON.stringify(L)),this.currentMediaServer.isSecureConnection?(this.loadingConnection=!1,this.getItemsByCurrentMediaServerAndCurrentLibrary()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}else this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscription.unsubscribe()}getItemsByCurrentMediaServerAndCurrentLibrary(){var E=this.activeRoute.snapshot.params.libraryId;E?this.libraryService.getLibrariesByMediaServer(this.currentMediaServer.Url).then(L=>{this.currentMediaServer.ListLibraries=L;var b=this.currentMediaServer.ListLibraries.findIndex(B=>B.Id==E);-1!=b&&(this.currentLibrary=this.currentMediaServer.ListLibraries[b],this.title=this.currentLibrary.Name,this.subtitle=this.currentMediaServer.FamilyName?this.currentMediaServer.FamilyName:this.currentMediaServer.DeviceName,this.mediaItemService.getMediaItemsByLibrary(this.currentMediaServer.Url,this.currentLibrary.Id,this.sharedDataService.currentProfile.Id).then(B=>{this.setItemsInGroup(this.currentMediaServer.Id,B)},B=>{console.error(B)}))}):this.router.navigateByUrl("/404")}setItemsInGroup(E,L){L.length>0&&(L.forEach(b=>{var B=this.itemsGroupList.find(Re=>Re.Name==b.Name);if(null==B)this.itemsGroupList.push(b);else{var le=B.ListItems.filter(Re=>Re.MediaServerId!=E).concat(b.ListItems).sort((Re,Y)=>new Date(Re.Created).getTime()>new Date(Y.Created).getTime()?-1:new Date(Y.Created).getTime()>new Date(Re.Created).getTime()?1:0);B.ListItems=le}}),this.itemsGroupList=this.itemsGroupList.sort((b,B)=>b.Id>B.Id?1:b.Id<=B.Id?-1:0))}clearItemsInGroup(E){this.itemsGroupList.forEach(L=>{var b=L.ListItems.filter(B=>B.MediaServerId!=E);L.ListItems=b.sort((B,Z)=>new Date(B.Created).getTime()>new Date(Z.Created).getTime()?-1:new Date(Z.Created).getTime()>new Date(B.Created).getTime()?1:0)})}static#e=this.\u0275fac=function(L){return new(L||S)(t.Y36(v.n),t.Y36(y.D),t.Y36(m.$),t.Y36(P.gz),t.Y36(P.F0),t.Y36(D.v),t.Y36(f.g))};static#t=this.\u0275cmp=t.Xpm({type:S,selectors:[["app-library-items"]],decls:2,vars:2,consts:[[3,"ngIf"],[1,"media-principal-section"],[1,"media-container"],["class","media-header",4,"ngIf"],[3,"itemsGroupList"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[1,"subtitle"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(L,b){1&L&&(t.YNc(0,x,2,2,"ng-template",0),t.YNc(1,R,2,0,"ng-template",0)),2&L&&(t.Q6J("ngIf",!b.loadingConnection),t.xp6(1),t.Q6J("ngIf",b.loadingConnection))},dependencies:[i.O5,c.Ou,d.Z,h.y],styles:["[_nghost-%COMP%]{width:100%;height:100%}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovadclient-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:9999;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}.sinovadclient-title-section[_ngcontent-%COMP%]{margin:10px 10px 10px 16px;font-size:30px;font-weight:700}.sinovadclient-section[_ngcontent-%COMP%]{margin:10px}.sinovad-item-container[_ngcontent-%COMP%]{padding-right:10px;width:min-content;margin:6px;border-radius:6px}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#000;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-vertical-list-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;overflow-y:auto;overflow-x:hidden}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-item-title-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-item-subtitle-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:400;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-list-container[_ngcontent-%COMP%]{padding:20px;overflow-x:hidden;overflow-y:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:220px;top:6px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;font-family:sans-serif;padding:0 0 0 8px}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:220px;top:6px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover, .sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2);opacity:.6}.sinovad-item-progress-bar-absolute-container[_ngcontent-%COMP%]{width:0px;height:0px;margin-bottom:9px}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:-9px;margin-left:4px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%]{display:none!important}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:170px;width:170px;height:220px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:20px}@media only screen and (min-width: 2048px){.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return S})()},2472:(Wn,Je,g)=>{"use strict";g.d(Je,{c:()=>R});var e=g(7394),t=g(5879),v=g(7541),y=g(7990),m=g(5908),P=g(5731),D=g(1367),f=g(6814),i=g(5940),c=g(1444),d=g(3630);function h(O,S){if(1&O&&(t.TgZ(0,"div",5)(1,"button",6)(2,"div",7),t._uU(3),t.qZA()()()),2&O){const I=t.oxw(3);t.xp6(3),t.hij(" ",I.title," ")}}function p(O,S){if(1&O&&(t.TgZ(0,"div",1)(1,"div",2),t.YNc(2,h,4,1,"div",3),t.TgZ(3,"div"),t._UZ(4,"app-media-items",4),t.qZA()()()),2&O){const I=t.oxw(2);t.xp6(2),t.Q6J("ngIf",I.title),t.xp6(1),t.Udp("height","calc(100% - 65px)"),t.xp6(1),t.Q6J("itemsGroupList",I.itemsGroupList)}}function C(O,S){if(1&O&&t._UZ(0,"app-server-connection-error",8),2&O){const I=t.oxw(2);t.Q6J("mediaServer",I.currentMediaServer)}}function A(O,S){if(1&O&&(t.YNc(0,p,5,4,"ng-template",0),t.YNc(1,C,1,1,"ng-template",0)),2&O){const I=t.oxw();t.Q6J("ngIf",I.currentMediaServer&&I.currentMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",I.currentMediaServer&&!I.currentMediaServer.isSecureConnection)}}function x(O,S){1&O&&(t.TgZ(0,"div",9),t._UZ(1,"mat-spinner"),t.qZA())}let R=(()=>{class O{constructor(I,E,L,b,B,Z){this.signalIrService=I,this.mediaItemService=E,this.activeRoute=L,this.router=b,this.commonService=B,this.sharedDataService=Z,this.itemsGroupList=[],this._window=window,this.subscription=new e.w0,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1};let oe=this;this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(le=>{oe.currentMediaServer&&oe.currentMediaServer.Guid==le&&!oe.currentMediaServer.isSecureConnection&&(oe.loadingConnection=!1,oe.currentMediaServer.isSecureConnection=!0,oe.getItemsByMediaServer())})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(le=>{oe.currentMediaServer&&oe.currentMediaServer.Guid==le&&oe.currentMediaServer.isSecureConnection&&(oe.currentMediaServer.isSecureConnection=!1,oe.clearItemsInGroup(oe.currentMediaServer.Id))})),this.subscription.add(this.signalIrService.isUpdatingLibrariesByMediaServer().subscribe(le=>{oe.currentMediaServer&&oe.currentMediaServer.Guid==le&&!oe.currentMediaServer.isSecureConnection&&(oe.currentMediaServer.isSecureConnection=!0,oe.getItemsByMediaServer())})),this.subscription.add(this.signalIrService.isUpdatingItemsByMediaServer().subscribe(le=>{oe.currentMediaServer&&oe.currentMediaServer.Guid==le&&!oe.currentMediaServer.isSecureConnection&&(oe.currentMediaServer.isSecureConnection=!0,oe.getItemsByMediaServer())}))}ngOnInit(){var I=this.activeRoute.snapshot.params.serverGuid;if(null!=I){var E=this.sharedDataService.mediaServers.find(L=>L.Guid==I);E?(this.currentMediaServer=JSON.parse(JSON.stringify(E)),this.currentMediaServer.isSecureConnection?(this.loadingConnection=!1,this.getItemsByMediaServer()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}else this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscription.unsubscribe()}getItemsByMediaServer(){this.title=this.currentMediaServer.FamilyName?this.currentMediaServer.FamilyName:this.currentMediaServer.DeviceName,this.mediaItemService.getAllMediaItems(this.currentMediaServer.Url,this.sharedDataService.currentProfile.Id).then(I=>{this.setItemsInGroup(this.currentMediaServer.Id,I)},I=>{console.error(I)})}setItemsInGroup(I,E){E.length>0&&(E.forEach(L=>{var b=this.itemsGroupList.find(le=>le.Name==L.Name);if(null==b)this.itemsGroupList.push(L);else{var oe=b.ListItems.filter(le=>le.MediaServerId!=I).concat(L.ListItems).sort((le,Re)=>new Date(le.Created).getTime()>new Date(Re.Created).getTime()?-1:new Date(Re.Created).getTime()>new Date(le.Created).getTime()?1:0);b.ListItems=oe}}),this.itemsGroupList=this.itemsGroupList.sort((L,b)=>L.Id>b.Id?1:L.Id<=b.Id?-1:0))}clearItemsInGroup(I){this.itemsGroupList.forEach(E=>{var L=E.ListItems.filter(b=>b.MediaServerId!=I);E.ListItems=L.sort((b,B)=>new Date(b.Created).getTime()>new Date(B.Created).getTime()?-1:new Date(B.Created).getTime()>new Date(b.Created).getTime()?1:0)})}static#e=this.\u0275fac=function(E){return new(E||O)(t.Y36(v.n),t.Y36(y.D),t.Y36(m.gz),t.Y36(m.F0),t.Y36(P.v),t.Y36(D.g))};static#t=this.\u0275cmp=t.Xpm({type:O,selectors:[["app-server-items"]],decls:2,vars:2,consts:[[3,"ngIf"],[1,"media-principal-section"],[1,"media-container"],["class","media-header",4,"ngIf"],[3,"itemsGroupList"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(E,L){1&E&&(t.YNc(0,A,2,2,"ng-template",0),t.YNc(1,x,2,0,"ng-template",0)),2&E&&(t.Q6J("ngIf",!L.loadingConnection),t.xp6(1),t.Q6J("ngIf",L.loadingConnection))},dependencies:[f.O5,i.Ou,c.Z,d.y],styles:["[_nghost-%COMP%]{width:100%;height:100%}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovadclient-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:9999;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}.sinovadclient-title-section[_ngcontent-%COMP%]{margin:10px 10px 10px 16px;font-size:30px;font-weight:700}.sinovadclient-section[_ngcontent-%COMP%]{margin:10px}.sinovad-item-container[_ngcontent-%COMP%]{padding-right:10px;width:min-content;margin:6px;border-radius:6px}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#000;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-vertical-list-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;overflow-y:auto;overflow-x:hidden}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-item-title-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-item-subtitle-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:400;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-list-container[_ngcontent-%COMP%]{padding:20px;overflow-x:hidden;overflow-y:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:220px;top:6px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;font-family:sans-serif;padding:0 0 0 8px}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:220px;top:6px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover, .sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2);opacity:.6}.sinovad-item-progress-bar-absolute-container[_ngcontent-%COMP%]{width:0px;height:0px;margin-bottom:9px}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:-9px;margin-left:4px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%]{display:none!important}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:170px;width:170px;height:220px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:20px}@media only screen and (min-width: 2048px){.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return O})()},7990:(Wn,Je,g)=>{"use strict";g.d(Je,{D:()=>y});var e=g(863),t=g(5879),v=g(9429);let y=(()=>{class m{constructor(D){this.restProvider=D}getAllMediaItemsBySearchQuery(D,f){return new Promise((i,c)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,D+"/api/mediaItems/GetAllMediaItemsBySearchQuery?searchQuery="+f).then(h=>{i(h.Data)},h=>{c(h)})})}getAllMediaItems(D,f){return new Promise((i,c)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,D+"/api/mediaItems/GetAllMediaItems?profileId="+f).then(h=>{i(h.Data)},h=>{c(h)})})}getMediaItemsByLibrary(D,f,i){return new Promise((c,d)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,D+"/api/mediaItems/GetMediaItemsByLibrary?libraryId="+f+"&profileId="+i).then(p=>{c(p.Data)},p=>{d(p)})})}getMediaItemsByMediaType(D,f,i){return new Promise((c,d)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,D+"/api/mediaItems/GetMediaItemsByMediaType?mediaTypeId="+f+"&profileId="+i).then(p=>{c(p.Data)},p=>{d(p)})})}getMediaItemDetail(D,f){return new Promise((i,c)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,D+"/api/mediaItems/GetMediaItemDetail/"+f).then(h=>{i(h.Data)},h=>{c(h)})})}GetMediaItemDetailByMediaFileAndProfile(D,f,i){return new Promise((c,d)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,D+"/api/mediaItems/GetMediaItemDetailByMediaFileAndProfile?mediaFileId="+f+"&profileId="+i).then(p=>{c(p.Data)},p=>{d(p)})})}static#e=this.\u0275fac=function(f){return new(f||m)(t.LFG(v.C))};static#t=this.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},4748:(Wn,Je,g)=>{"use strict";g.d(Je,{n:()=>x});var e=g(5879),t=g(1791),v=g(5908),y=g(5731),m=g(1367),P=g(6814),D=g(5220),f=g(1531);function i(R,O){if(1&R&&(e.TgZ(0,"div",23),e._uU(1),e.qZA()),2&R){const S=e.oxw().$implicit,I=e.oxw(2);e.xp6(1),e.hij(" ",I.commonService.getInitials(S)," ")}}function c(R,O){if(1&R&&(e._UZ(0,"img",23),e.ALo(1,"async"),e.ALo(2,"formatDataPipe")),2&R){const S=e.oxw().$implicit;e.uIk("src",e.lcZ(1,1,e.xi3(2,3,S.Id,"GetAvatarImageURLByProfileId")),e.LSH)}}function d(R,O){1&R&&(e.TgZ(0,"div",24)(1,"div",25),e._UZ(2,"img",6),e.ALo(3,"async"),e.ALo(4,"formatDataPipe"),e.qZA()()),2&R&&(e.xp6(2),e.Q6J("src",e.lcZ(3,1,e.xi3(4,3,"edit-profile.png","GetIconURLByKey")),e.LSH))}function h(R,O){if(1&R){const S=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){const L=e.CHM(S).$implicit,b=e.oxw(2);return e.KtG(b.onSelectProfile(L))}),e.YNc(1,i,2,1,"div",20),e.YNc(2,c,3,6,"img",20),e.YNc(3,d,5,6,"div",21),e.TgZ(4,"div",22),e._uU(5),e.qZA()()}if(2&R){const S=O.$implicit,I=e.oxw(2);e.MGl("id","profile_",S.Id,""),e.xp6(1),e.Q6J("ngIf",null==S.AvatarPath),e.xp6(1),e.Q6J("ngIf",null!=S.AvatarPath),e.xp6(1),e.Q6J("ngIf",I.enableEditMode),e.xp6(2),e.hij(" ",S.FullName," ")}}function p(R,O){if(1&R&&e.YNc(0,h,6,5,"ng-template",18),2&R){const S=e.oxw();e.Q6J("ngForOf",S.sharedDataService.listProfiles)}}function C(R,O){if(1&R){const S=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(S);const E=e.oxw();return e.KtG(E.changeToEditMode())}),e._uU(1," EDITAR PERFILES "),e.qZA()}}function A(R,O){if(1&R){const S=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(S);const E=e.oxw();return e.KtG(E.confirmEdit())}),e._uU(1," LISTO "),e.qZA()}}let x=(()=>{class R{constructor(S,I,E,L){this.profileService=S,this.router=I,this.commonService=E,this.sharedDataService=L,this.enableEditMode=!1,this.showLoading=!0,this._window=window}ngOnInit(){this.getProfiles()}changeToEditMode(){this.enableEditMode=!0}confirmEdit(){this.enableEditMode=!1}showNewProfile(){this.router.navigateByUrl("/profiles/add")}editProfile(S){this.router.navigateByUrl("/profiles/edit/"+S.Guid)}onSelectProfile(S){this.enableEditMode?this.editProfile(S):this.enterProfile(S)}enterProfile(S){this.sharedDataService.currentProfile=S,this.router.navigateByUrl("/home")}getProfiles(){this.showLoading=!0,this.profileService.getProfiles().then(S=>{let I=S.Data;this.sharedDataService.listProfiles=I,this.sharedDataService.currentProfile=I[0],this.showLoading=!1},S=>{this.showLoading=!1})}static#e=this.\u0275fac=function(I){return new(I||R)(e.Y36(t.H),e.Y36(v.F0),e.Y36(y.v),e.Y36(m.g))};static#t=this.\u0275cmp=e.Xpm({type:R,selectors:[["app-profiles-view"]],decls:26,vars:18,consts:[[1,"sinovad-profiles-view-container","sinovad-profiles-section"],[1,"sinovad-profiles-view-content"],["profilesViewContent",""],[1,"sinovad-page-header"],["profilesViewHeader",""],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-profiles-view-body"],[1,"sinovad-profiles-view-title-container"],[1,"sinovad-profiles-view-list-container"],[3,"ngIf"],["id","create_new_profile",3,"click"],[1,"sinovad-initials-profile","add"],["width","40px",3,"src"],[1,"sinovad-fullname-profile"],[1,"sinovad-profiles-view-footer"],["profilesViewFooter",""],[3,"showLoading"],["ngFor","",3,"ngForOf"],[3,"id","click"],["class","sinovad-initials-profile",4,"ngIf"],["class","sinovad-icon-edit-profile-container",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],[1,"sinovad-initials-profile"],[1,"sinovad-icon-edit-profile-container"],[1,"sinovad-icon-edit-profile-content"],[3,"click"],[1,"ready",3,"click"]],template:function(I,E){if(1&I&&(e.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3,4)(5,"div",5),e._UZ(6,"img",6),e.ALo(7,"async"),e.ALo(8,"formatDataPipe"),e.qZA()(),e.TgZ(9,"div",7)(10,"div",8),e._uU(11," \xbfQui\xe9n eres? "),e.qZA(),e.TgZ(12,"div",9),e.YNc(13,p,1,1,"ng-template",10),e.TgZ(14,"button",11),e.NdJ("click",function(){return E.showNewProfile()}),e.TgZ(15,"div",12),e._UZ(16,"img",13),e.ALo(17,"async"),e.ALo(18,"formatDataPipe"),e.qZA(),e.TgZ(19,"div",14),e._uU(20," Crear "),e.qZA()()()(),e.TgZ(21,"div",15,16),e.YNc(23,C,2,0,"ng-template",10),e.YNc(24,A,2,0,"ng-template",10),e.qZA()()(),e._UZ(25,"app-custom-spinner",17)),2&I){const L=e.MAs(4),b=e.MAs(22);e.xp6(6),e.Q6J("src",e.lcZ(7,8,e.xi3(8,10,"sinovad-stream-large-logo.png","GetIconURLByKey")),e.LSH),e.xp6(3),e.Udp("height",E._window.innerWidth<768?"calc(100% - "+(L.offsetHeight+b.offsetHeight)+"px)":""),e.xp6(4),e.Q6J("ngIf",E.sharedDataService.listProfiles),e.xp6(3),e.Q6J("src",e.lcZ(17,13,e.xi3(18,15,"plus.png","GetIconURLByKey")),e.LSH),e.xp6(7),e.Q6J("ngIf",!E.enableEditMode),e.xp6(1),e.Q6J("ngIf",E.enableEditMode),e.xp6(1),e.Q6J("showLoading",E.showLoading)}},dependencies:[P.sg,P.O5,D.D,P.Ov,f.A],styles:["[_nghost-%COMP%]{width:100%;height:100%;background:black;position:absolute;bottom:0;left:0}.sinovad-profiles-section[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}section[_ngcontent-%COMP%]{outline:none}input[_ngcontent-%COMP%]{outline:none}.sinovad-profiles-view-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.sinovad-profiles-view-content[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}.sinovad-profiles-view-title-container[_ngcontent-%COMP%]{font-size:32px;color:#fff;text-align:center;padding-bottom:60px;font-weight:700}.sinovad-profiles-view-body[_ngcontent-%COMP%]{overflow-y:auto}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;opacity:.8;padding:0;margin-right:20px;width:140px}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-top:60px;padding-bottom:30px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;opacity:.8;background:lightslategrey;color:#fff;font-size:15px;height:48PX;padding:0 24px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button.ready[_ngcontent-%COMP%]{background:#007bff}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-initials-profile[_ngcontent-%COMP%]{width:140px;height:140px;border-radius:100px;border:none;display:flex;align-items:center;justify-content:center;font-size:80px;background:lightslategrey;color:#fff}.sinovad-initials-profile.add[_ngcontent-%COMP%]{background:#007bff}.sinovad-initials-profile.add[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px}.sinovad-icon-edit-profile-container[_ngcontent-%COMP%]{display:block;position:relative}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]{display:block;position:absolute;right:0;top:-55px;background:white;border-radius:25px;padding:10px;border:none}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;color:#fff;font-size:30px;padding-top:10px}.sinovad-screen-back-container[_ngcontent-%COMP%]{position:relative}.sinovad-screen-back-content[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;left:0;position:absolute;margin-left:20px;opacity:.8;height:60px;display:flex;align-items:center;justify-content:center}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{width:54px}"]})}return R})()},1791:(Wn,Je,g)=>{"use strict";g.d(Je,{H:()=>P});var e=g(863),t=g(2372),v=g(5879),y=g(1367),m=g(9429);let P=(()=>{class D{constructor(i,c){this.sharedDataService=i,this.restProvider=c}uploadAvatarProfile(i){return new Promise((c,d)=>{this.restProvider.executeHttpPostMethodWithFormData("/documents/UploadAvatarProfile",i).then(p=>{c(p)},p=>{console.error(p),d(p)})})}getProfileById(i){return new Promise((c,d)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/users/"+this.sharedDataService.userData.Id+"/profiles/GetAsync/"+i).then(h=>{c(h)},h=>{console.error(h),d(h)})})}getProfileByGuid(i){return new Promise((c,d)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/users/"+this.sharedDataService.userData.Id+"/profiles/GetByGuidAsync/"+i).then(h=>{c(h)},h=>{console.error(h),d(h)})})}getProfiles(){return new Promise((i,c)=>{let d=(0,t.Z)();this.lastCallGuid=d,this.restProvider.executeSinovadApiService(e.yw.GET,"/users/"+this.sharedDataService.userData.Id+"/profiles/GetAllAsync").then(p=>{this.lastCallGuid==d&&i(p)},p=>{console.error(p),c(p)})})}saveItem(i){return new Promise((c,d)=>{this.restProvider.executeSinovadApiService(i.Id>0?e.yw.PUT:e.yw.POST,i.Id>0?"/users/"+i.UserId+"/profiles/UpdateAsync/"+i.Id:"/users/"+i.UserId+"/profiles/CreateAsync",i).then(C=>{c(!0)},C=>{console.error(C),d(C)})})}deleteItem(i){return new Promise((c,d)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/users/"+this.sharedDataService.userData.Id+"/profiles/DeleteAsync/"+i).then(p=>{c(p)},p=>{console.error(p),d(p)})})}static#e=this.\u0275fac=function(c){return new(c||D)(v.LFG(y.g),v.LFG(m.C))};static#t=this.\u0275prov=v.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})()},5529:(Wn,Je,g)=>{"use strict";g.d(Je,{H:()=>ie});var e=g(863),t=g(5879),v=g(9857),y=g(1367),m=g(6814),P=g(95),D=g(9429);let f=(()=>{class ye{constructor(de){this.restProvider=de}setPassword(de){return new Promise((Me,pe)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/SetPassword",de).then(Ie=>{Me(!0)},Ie=>{console.error(Ie),pe(Ie)})})}changePassword(de){return new Promise((Me,pe)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ChangePassword",de).then(Ie=>{Me(!0)},Ie=>{console.error(Ie),pe(Ie)})})}changeUsername(de){return new Promise((Me,pe)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ChangeUserName",de).then(Ie=>{Me(!0)},Ie=>{console.error(Ie),pe(Ie)})})}changeNanes(de){return new Promise((Me,pe)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ChangeNames",de).then(Ie=>{Me(!0)},Ie=>{console.error(Ie),pe(Ie)})})}static#e=this.\u0275fac=function(Me){return new(Me||ye)(t.LFG(D.C))};static#t=this.\u0275prov=t.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})();var i=g(5731);function c(ye,Ce){if(1&ye&&(t.TgZ(0,"div",13),t._UZ(1,"i",14),t._uU(2),t.qZA()),2&ye){const de=t.oxw();t.xp6(2),t.hij("",de.serverErrorMessage," ")}}function d(ye,Ce){1&ye&&t._UZ(0,"div",15)}const h=function(ye){return{error:ye}};let p=(()=>{class ye{constructor(de,Me,pe,Ie){this.accountSettingsService=de,this.formBuilder=Me,this.commonService=pe,this.sharedDataService=Ie,this.serverErrorMessage=void 0,this.closeChangePassword=new t.vpe,this.changePasswordForm=this.formBuilder.group({password:new P.NI("",[P.kI.required]),confirmPassword:new P.NI("",[P.kI.required]),currentPassword:new P.NI("",[P.kI.required])}),this.loading=!1}ngOnInit(){}changePasword(){this.changePasswordForm.valid?(this.changePasswordData={UserId:this.sharedDataService.userData.Id,Password:this.changePasswordForm.value.password,ConfirmPassword:this.changePasswordForm.value.confirmPassword,CurrentPassword:this.changePasswordForm.value.currentPassword},this.loading=!0,this.accountSettingsService.changePassword(this.changePasswordData).then(de=>{this.loading=!1,this.closeChangePassword.emit(!0)},de=>{this.loading=!1,this.serverErrorMessage=de,console.error(de)})):(this.serverErrorMessage=void 0,this.changePasswordForm.markAllAsTouched())}static#e=this.\u0275fac=function(Me){return new(Me||ye)(t.Y36(f),t.Y36(P.qu),t.Y36(i.v),t.Y36(y.g))};static#t=this.\u0275cmp=t.Xpm({type:ye,selectors:[["app-change-password"]],outputs:{closeChangePassword:"closeChangePassword"},decls:24,vars:18,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],["type","password","formControlName","currentPassword"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(Me,pe){1&Me&&(t.TgZ(0,"div",0),t.YNc(1,c,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return pe.closeChangePassword.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return pe.changePasword()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",6)(12,"label"),t._uU(13),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"div",6)(16,"label"),t._uU(17),t.qZA(),t._UZ(18,"input",9),t.qZA(),t.TgZ(19,"div",10)(20,"button",11)(21,"span"),t._uU(22,"Guardar Cambios"),t.qZA(),t.YNc(23,d,1,0,"div",12),t.qZA()()()()()),2&Me&&(t.xp6(1),t.Q6J("ngIf",pe.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",pe.changePasswordForm),t.xp6(1),t.Q6J("ngClass",t.VKq(12,h,pe.commonService.isInvalidFormControl(pe.changePasswordForm,"password"))),t.xp6(2),t.hij(" Contrase\xf1a",pe.commonService.isInvalidFormControl(pe.changePasswordForm,"password")&&pe.commonService.hasRequireErrorFormControl(pe.changePasswordForm,"password")?" - Se requiere Contrase\xf1a":""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(14,h,pe.commonService.isInvalidFormControl(pe.changePasswordForm,"confirmPassword"))),t.xp6(2),t.hij("Confirme la nueva contrase\xf1a",pe.commonService.isInvalidFormControl(pe.changePasswordForm,"confirmPassword")&&pe.commonService.hasRequireErrorFormControl(pe.changePasswordForm,"confirmPassword")?" - Confirme la contrase\xf1a":"",""),t.xp6(2),t.Q6J("ngClass",t.VKq(16,h,pe.commonService.isInvalidFormControl(pe.changePasswordForm,"currentPassword"))),t.xp6(2),t.hij("Contrase\xf1a actual",pe.commonService.isInvalidFormControl(pe.changePasswordForm,"currentPassword")&&pe.commonService.hasRequireErrorFormControl(pe.changePasswordForm,"currentPassword")?" - Introduza la contrase\xf1a actual":"",""),t.xp6(3),t.Q6J("disabled",pe.loading||!pe.changePasswordForm.valid),t.xp6(1),t.Udp("visibility",pe.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",pe.loading))},dependencies:[m.mk,m.O5,P._Y,P.Fj,P.JJ,P.JL,P.sg,P.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return ye})();function C(ye,Ce){if(1&ye&&(t.TgZ(0,"div",12),t._UZ(1,"i",13),t._uU(2),t.qZA()),2&ye){const de=t.oxw();t.xp6(2),t.hij("",de.serverErrorMessage," ")}}function A(ye,Ce){1&ye&&t._UZ(0,"div",14)}const x=function(ye){return{error:ye}};let R=(()=>{class ye{constructor(de,Me,pe,Ie){this.accountSettingsService=de,this.formBuilder=Me,this.commonService=pe,this.sharedDataService=Ie,this.serverErrorMessage=void 0,this.closeSetPassword=new t.vpe,this.setPasswordForm=this.formBuilder.group({password:new P.NI("",[P.kI.required]),confirmPassword:new P.NI("",[P.kI.required])}),this.loading=!1}ngOnInit(){}setPassword(){this.setPasswordForm.valid?(this.setPasswordData={UserId:this.sharedDataService.userData.Id,Password:this.setPasswordForm.value.password,ConfirmPassword:this.setPasswordForm.value.confirmPassword},this.loading=!0,this.accountSettingsService.setPassword(this.setPasswordData).then(de=>{this.loading=!1,this.sharedDataService.userData.IsPasswordSetted=!0,this.closeSetPassword.emit(!0)},de=>{this.loading=!1,this.serverErrorMessage=de,console.error(de)})):(this.serverErrorMessage=void 0,this.setPasswordForm.markAllAsTouched())}static#e=this.\u0275fac=function(Me){return new(Me||ye)(t.Y36(f),t.Y36(P.qu),t.Y36(i.v),t.Y36(y.g))};static#t=this.\u0275cmp=t.Xpm({type:ye,selectors:[["app-set-password"]],outputs:{closeSetPassword:"closeSetPassword"},decls:20,vars:14,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(Me,pe){1&Me&&(t.TgZ(0,"div",0),t.YNc(1,C,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return pe.closeSetPassword.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return pe.setPassword()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",6)(12,"label"),t._uU(13),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"div",9)(16,"button",10)(17,"span"),t._uU(18,"Guardar Cambios"),t.qZA(),t.YNc(19,A,1,0,"div",11),t.qZA()()()()()),2&Me&&(t.xp6(1),t.Q6J("ngIf",pe.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",pe.setPasswordForm),t.xp6(1),t.Q6J("ngClass",t.VKq(10,x,pe.commonService.isInvalidFormControl(pe.setPasswordForm,"password"))),t.xp6(2),t.hij(" Elegir una Contrase\xf1a",pe.commonService.isInvalidFormControl(pe.setPasswordForm,"password")&&pe.commonService.hasRequireErrorFormControl(pe.setPasswordForm,"password")?" - Se requiere Contrase\xf1a":""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(12,x,pe.commonService.isInvalidFormControl(pe.setPasswordForm,"confirmPassword"))),t.xp6(2),t.hij("Confirmar la contrase\xf1a",pe.commonService.isInvalidFormControl(pe.setPasswordForm,"confirmPassword")&&pe.commonService.hasRequireErrorFormControl(pe.setPasswordForm,"confirmPassword")?" - Confirme la contrase\xf1a":"",""),t.xp6(3),t.Q6J("disabled",pe.loading||!pe.setPasswordForm.valid),t.xp6(1),t.Udp("visibility",pe.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",pe.loading))},dependencies:[m.mk,m.O5,P._Y,P.Fj,P.JJ,P.JL,P.sg,P.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return ye})();function O(ye,Ce){if(1&ye&&(t.TgZ(0,"div",11),t._UZ(1,"i",12),t._uU(2),t.qZA()),2&ye){const de=t.oxw();t.xp6(2),t.hij("",de.serverErrorMessage," ")}}function S(ye,Ce){1&ye&&t._UZ(0,"div",13)}const I=function(ye){return{error:ye}};let E=(()=>{class ye{constructor(de,Me,pe,Ie){this.accountSettingsService=de,this.formBuilder=Me,this.commonService=pe,this.sharedDataService=Ie,this.serverErrorMessage=void 0,this.closeChangeUsername=new t.vpe,this.changeUsernameForm=this.formBuilder.group({username:new P.NI(this.sharedDataService.userData.UserName,[P.kI.required])}),this.loading=!1}ngOnInit(){}changeUsername(){this.changeUsernameForm.valid?(this.changeUsernameData={UserId:this.sharedDataService.userData.Id,UserName:this.changeUsernameForm.value.username},this.loading=!0,this.accountSettingsService.changeUsername(this.changeUsernameData).then(de=>{this.loading=!1,this.sharedDataService.userData.UserName=this.changeUsernameData.UserName,this.closeChangeUsername.emit(!0)},de=>{this.loading=!1,this.serverErrorMessage=de,console.error(de)})):(this.serverErrorMessage=void 0,this.changeUsernameForm.markAllAsTouched())}static#e=this.\u0275fac=function(Me){return new(Me||ye)(t.Y36(f),t.Y36(P.qu),t.Y36(i.v),t.Y36(y.g))};static#t=this.\u0275cmp=t.Xpm({type:ye,selectors:[["app-change-username"]],outputs:{closeChangeUsername:"closeChangeUsername"},decls:16,vars:10,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["formControlName","username"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(Me,pe){1&Me&&(t.TgZ(0,"div",0),t.YNc(1,O,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return pe.closeChangeUsername.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return pe.changeUsername()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",8)(12,"button",9)(13,"span"),t._uU(14,"Guardar Cambios"),t.qZA(),t.YNc(15,S,1,0,"div",10),t.qZA()()()()()),2&Me&&(t.xp6(1),t.Q6J("ngIf",pe.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",pe.changeUsernameForm),t.xp6(1),t.Q6J("ngClass",t.VKq(8,I,pe.commonService.isInvalidFormControl(pe.changeUsernameForm,"username"))),t.xp6(2),t.hij(" Nombre de Usuario",pe.commonService.isInvalidFormControl(pe.changeUsernameForm,"username")&&pe.commonService.hasRequireErrorFormControl(pe.changeUsernameForm,"username")?" - Se requiere nombre de usuario":""," "),t.xp6(3),t.Q6J("disabled",pe.loading||pe.changeUsernameForm.pristine||!pe.changeUsernameForm.valid||pe.changeUsernameForm.value.username==pe.sharedDataService.userData.UserName),t.xp6(1),t.Udp("visibility",pe.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",pe.loading))},dependencies:[m.mk,m.O5,P._Y,P.Fj,P.JJ,P.JL,P.sg,P.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return ye})();function L(ye,Ce){if(1&ye&&(t.TgZ(0,"div",12),t._UZ(1,"i",13),t._uU(2),t.qZA()),2&ye){const de=t.oxw();t.xp6(2),t.hij("",de.serverErrorMessage," ")}}function b(ye,Ce){1&ye&&t._UZ(0,"div",14)}const B=function(ye){return{error:ye}};let Z=(()=>{class ye{constructor(de,Me,pe,Ie){this.accountSettingsService=de,this.formBuilder=Me,this.commonService=pe,this.sharedDataService=Ie,this.serverErrorMessage=void 0,this.closeChangeNames=new t.vpe,this.changeNamesForm=this.formBuilder.group({firstName:new P.NI(this.sharedDataService.userData.FirstName,[P.kI.required]),lastName:new P.NI(this.sharedDataService.userData.LastName,[P.kI.required])}),this.loading=!1}ngOnInit(){}changeUsername(){this.changeNamesForm.valid?(this.changeNamesData={UserId:this.sharedDataService.userData.Id,FirstName:this.changeNamesForm.value.firstName,LastName:this.changeNamesForm.value.lastName},this.loading=!0,this.accountSettingsService.changeNanes(this.changeNamesData).then(de=>{this.loading=!1,this.sharedDataService.userData.FirstName=this.changeNamesData.FirstName,this.sharedDataService.userData.LastName=this.changeNamesData.LastName,this.closeChangeNames.emit(!0)},de=>{this.loading=!1,this.serverErrorMessage=de,console.error(de)})):(this.serverErrorMessage=void 0,this.changeNamesForm.markAllAsTouched())}static#e=this.\u0275fac=function(Me){return new(Me||ye)(t.Y36(f),t.Y36(P.qu),t.Y36(i.v),t.Y36(y.g))};static#t=this.\u0275cmp=t.Xpm({type:ye,selectors:[["app-change-names"]],outputs:{closeChangeNames:"closeChangeNames"},decls:20,vars:14,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["formControlName","firstName"],["formControlName","lastName"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(Me,pe){1&Me&&(t.TgZ(0,"div",0),t.YNc(1,L,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return pe.closeChangeNames.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return pe.changeUsername()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",6)(12,"label"),t._uU(13),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"div",9)(16,"button",10)(17,"span"),t._uU(18,"Guardar Cambios"),t.qZA(),t.YNc(19,b,1,0,"div",11),t.qZA()()()()()),2&Me&&(t.xp6(1),t.Q6J("ngIf",pe.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",pe.changeNamesForm),t.xp6(1),t.Q6J("ngClass",t.VKq(10,B,pe.commonService.isInvalidFormControl(pe.changeNamesForm,"firstName"))),t.xp6(2),t.hij(" Nombres",pe.commonService.isInvalidFormControl(pe.changeNamesForm,"firstName")&&pe.commonService.hasRequireErrorFormControl(pe.changeNamesForm,"firstName")?" - Se requiere nombres":""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(12,B,pe.commonService.isInvalidFormControl(pe.changeNamesForm,"lastName"))),t.xp6(2),t.hij(" Apellidos",pe.commonService.isInvalidFormControl(pe.changeNamesForm,"lastName")&&pe.commonService.hasRequireErrorFormControl(pe.changeNamesForm,"lastName")?" - Se requiere apellidos":""," "),t.xp6(3),t.Q6J("disabled",pe.loading||pe.changeNamesForm.pristine||!pe.changeNamesForm.valid),t.xp6(1),t.Udp("visibility",pe.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",pe.loading))},dependencies:[m.mk,m.O5,P._Y,P.Fj,P.JJ,P.JL,P.sg,P.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return ye})();function oe(ye,Ce){if(1&ye){const de=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(de);const pe=t.oxw();return t.KtG(pe.isCollapsedChangeUsernameSection=!1)}),t.TgZ(1,"div",8)(2,"div",14)(3,"button",15),t._uU(4,"Editar"),t.qZA()(),t.TgZ(5,"div",9)(6,"label"),t._uU(7,"Nombre de Usuario"),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.qZA()()()()}if(2&ye){const de=t.oxw();t.xp6(9),t.Oqu(de.sharedDataService.userData.UserName)}}function le(ye,Ce){if(1&ye){const de=t.EpF();t.TgZ(0,"app-change-username",16),t.NdJ("closeChangeUsername",function(){t.CHM(de);const pe=t.oxw();return t.KtG(pe.isCollapsedChangeUsernameSection=!0)}),t.qZA()}}function Re(ye,Ce){if(1&ye){const de=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(de);const pe=t.oxw();return t.KtG(pe.isCollapsedChangeNamesSection=!1)}),t.TgZ(1,"div",8)(2,"div",14)(3,"button",15),t._uU(4,"Editar"),t.qZA()(),t.TgZ(5,"div",9)(6,"label"),t._uU(7,"Nombres y apellidos"),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.qZA()()()()}if(2&ye){const de=t.oxw();t.xp6(9),t.AsE("",de.sharedDataService.userData.FirstName," ",de.sharedDataService.userData.LastName,"")}}function Y(ye,Ce){if(1&ye){const de=t.EpF();t.TgZ(0,"app-change-names",17),t.NdJ("closeChangeNames",function(){t.CHM(de);const pe=t.oxw();return t.KtG(pe.isCollapsedChangeNamesSection=!0)}),t.qZA()}}function ae(ye,Ce){1&ye&&(t.TgZ(0,"span"),t._uU(1,"*********"),t.qZA())}function G(ye,Ce){1&ye&&(t.TgZ(0,"span"),t._uU(1,"No establecida"),t.qZA())}function De(ye,Ce){if(1&ye){const de=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(de);const pe=t.oxw();return t.KtG(pe.isCollapsedChangePasswordSection=!1)}),t.TgZ(1,"div",8)(2,"div",14)(3,"button",15),t._uU(4,"Editar"),t.qZA()(),t.TgZ(5,"div",9)(6,"label"),t._uU(7,"Contrase\xf1a"),t.qZA(),t.YNc(8,ae,2,0,"span",18),t.YNc(9,G,2,0,"span",18),t.qZA()()()}if(2&ye){const de=t.oxw();t.xp6(8),t.Q6J("ngIf",de.sharedDataService.userData.IsPasswordSetted),t.xp6(1),t.Q6J("ngIf",!de.sharedDataService.userData.IsPasswordSetted)}}function ce(ye,Ce){if(1&ye){const de=t.EpF();t.TgZ(0,"app-change-password",19),t.NdJ("closeChangePassword",function(){t.CHM(de);const pe=t.oxw();return t.KtG(pe.isCollapsedChangePasswordSection=!0)}),t.qZA()}}function Te(ye,Ce){if(1&ye){const de=t.EpF();t.TgZ(0,"app-set-password",20),t.NdJ("closeSetPassword",function(){t.CHM(de);const pe=t.oxw();return t.KtG(pe.isCollapsedChangePasswordSection=!0)}),t.qZA()}}function be(ye,Ce){1&ye&&(t.TgZ(0,"span"),t._uU(1,"No establecida"),t.qZA())}function Oe(ye,Ce){if(1&ye&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&ye){const de=t.oxw();t.xp6(1),t.Oqu(de.currentUserLinkedAccountsText)}}let ie=(()=>{class ye{constructor(de,Me){this.catalogService=de,this.sharedDataService=Me,this.isCollapsedLinkedAccountsSection=!0,this.isCollapsedChangeNamesSection=!0,this.isCollapsedChangeUsernameSection=!0,this.isCollapsedChangePasswordSection=!0,this.allLinkedAccountProviders=[],this.currentUserLinkedAccountIds=[]}ngOnInit(){this.currentUserLinkedAccountIds=this.sharedDataService.linkedAccounts.map(de=>de.LinkedAccountProviderCatalogDetailId),this.catalogService.getDetailsByCatalogId(e.P9.LinkedAccountProvider).then(de=>{this.allLinkedAccountProviders=de.Data,this.currentUserLinkedAccountsText=this.allLinkedAccountProviders.filter(Me=>-1!=this.currentUserLinkedAccountIds.indexOf(Me.Id)).map(Me=>Me.Name).join(",")},de=>{})}static#e=this.\u0275fac=function(Me){return new(Me||ye)(t.Y36(v.a),t.Y36(y.g))};static#t=this.\u0275cmp=t.Xpm({type:ye,selectors:[["app-my-account-page"]],decls:37,vars:10,consts:[[1,"sinovad-page-container"],[1,"sinovad-page-title"],[1,"settings-category-header-background"],[2,"width","100%"],["class","sinovad-page-section-container","role","button",3,"click",4,"ngIf"],[3,"closeChangeUsername",4,"ngIf"],[3,"closeChangeNames",4,"ngIf"],[1,"sinovad-page-section-container"],[1,"sinovad-page-section-content"],[1,"detail"],[3,"closeChangePassword",4,"ngIf"],[3,"closeSetPassword",4,"ngIf"],[3,"ngIf"],["role","button",1,"sinovad-page-section-container",3,"click"],[1,"button-container"],[1,"edit"],[3,"closeChangeUsername"],[3,"closeChangeNames"],[4,"ngIf"],[3,"closeChangePassword"],[3,"closeSetPassword"]],template:function(Me,pe){1&Me&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2"),t._uU(3,"Cuenta"),t.qZA()(),t.TgZ(4,"div",2)(5,"div",3)(6,"h2"),t._uU(7,"Informaci\xf3n personal"),t.qZA()()(),t.YNc(8,oe,10,1,"div",4),t.YNc(9,le,1,0,"app-change-username",5),t.YNc(10,Re,10,2,"div",4),t.YNc(11,Y,1,0,"app-change-names",6),t.TgZ(12,"div",7)(13,"div",8)(14,"div",9)(15,"label"),t._uU(16,"Correo electr\xf3nico"),t.qZA(),t.TgZ(17,"span"),t._uU(18),t.qZA()()()(),t.TgZ(19,"div",2)(20,"div",3)(21,"h2"),t._uU(22,"Seguridad"),t.qZA()()(),t.YNc(23,De,10,2,"div",4),t.YNc(24,ce,1,0,"app-change-password",10),t.YNc(25,Te,1,0,"app-set-password",11),t.TgZ(26,"div",2)(27,"div",3)(28,"h2"),t._uU(29,"Ajustes"),t.qZA()()(),t.TgZ(30,"div",7)(31,"div",8)(32,"div",9)(33,"label"),t._uU(34,"Cuentas vinculadas"),t.qZA(),t.YNc(35,be,2,0,"ng-template",12),t.YNc(36,Oe,2,1,"ng-template",12),t.qZA()()()()),2&Me&&(t.xp6(8),t.Q6J("ngIf",pe.isCollapsedChangeUsernameSection),t.xp6(1),t.Q6J("ngIf",!pe.isCollapsedChangeUsernameSection),t.xp6(1),t.Q6J("ngIf",pe.isCollapsedChangeNamesSection),t.xp6(1),t.Q6J("ngIf",!pe.isCollapsedChangeNamesSection),t.xp6(7),t.Oqu(pe.sharedDataService.userData.Email),t.xp6(5),t.Q6J("ngIf",pe.isCollapsedChangePasswordSection),t.xp6(1),t.Q6J("ngIf",!pe.isCollapsedChangePasswordSection&&pe.sharedDataService.userData.IsPasswordSetted),t.xp6(1),t.Q6J("ngIf",!pe.isCollapsedChangePasswordSection&&!pe.sharedDataService.userData.IsPasswordSetted),t.xp6(10),t.Q6J("ngIf",0==pe.sharedDataService.linkedAccounts.length),t.xp6(1),t.Q6J("ngIf",pe.sharedDataService.linkedAccounts.length>0))},dependencies:[m.O5,p,R,E,Z],styles:[".settings-category-header-background[_ngcontent-%COMP%]{background-color:#0000001a;border-radius:.25rem;margin:.5rem 0;padding:.75rem}.settings-category-header-background[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;max-width:100%;overflow:hidden;overflow-wrap:break-word;font-size:20px}.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;margin-bottom:20px;margin-top:40px;font-size:24px}",'.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return ye})()},1921:(Wn,Je,g)=>{"use strict";g.d(Je,{o:()=>ee});var e=g(5879),t=g(7700),v=g(95),y=g(5550),m=g(863),P=g(8777),D=g(1044),f=g(8726),i=g(5220),c=g(6814),d=g(2032),h=g(4170),p=g(3680),C=g(8525);function A(fe,we){1&fe&&(e.TgZ(0,"mat-error"),e._uU(1," Nombre es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function x(fe,we){if(1&fe&&(e.TgZ(0,"mat-option",10),e._uU(1),e.qZA()),2&fe){const q=we.$implicit;e.Q6J("value",q.Id),e.xp6(1),e.hij(" ",q.Name," ")}}function R(fe,we){1&fe&&(e.TgZ(0,"mat-error"),e._uU(1," Tipo es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function O(fe,we){1&fe&&(e.TgZ(0,"mat-error"),e._uU(1," Directorio es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function S(fe,we){if(1&fe){const q=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){e.CHM(q);const Q=e.oxw();return e.KtG(Q.saveStorage())}),e.TgZ(1,"div",2)(2,"h5",3),e._uU(3),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){e.CHM(q);const Q=e.oxw();return e.KtG(Q.closeModal())}),e._UZ(5,"i",5),e.qZA()(),e.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),e._uU(9,"Nombre"),e.qZA(),e._UZ(10,"input",7),e.YNc(11,A,4,0,"mat-error",8),e.qZA(),e.TgZ(12,"mat-form-field")(13,"mat-label"),e._uU(14,"Tipo"),e.qZA(),e.TgZ(15,"mat-select",9)(16,"mat-option",10),e._uU(17,"--"),e.qZA(),e.YNc(18,x,2,2,"mat-option",11),e.qZA(),e.YNc(19,R,4,0,"mat-error",8),e.qZA(),e.TgZ(20,"mat-form-field")(21,"mat-label"),e._uU(22,"Directorio"),e.qZA(),e.TgZ(23,"input",12),e.NdJ("click",function(){e.CHM(q);const Q=e.oxw();return e.KtG(Q.showChooserDirectoryModal())}),e.qZA(),e.YNc(24,O,4,0,"mat-error",8),e.qZA()(),e.TgZ(25,"div",13)(26,"button",14),e.NdJ("click",function(){e.CHM(q);const Q=e.oxw();return e.KtG(Q.closeModal())}),e._uU(27,"Close"),e.qZA(),e.TgZ(28,"button",15),e._uU(29,"Guardar"),e.qZA()()(),e._UZ(30,"app-custom-spinner",16)}if(2&fe){const q=e.oxw();e.Q6J("formGroup",q.libraryFormGroup),e.xp6(3),e.Oqu(q.library.Id>0?"Editar Almacenamiento":"Nuevo Almacenamiento"),e.xp6(7),e.Q6J("errorStateMatcher",q.matcher),e.xp6(1),e.Q6J("ngIf",q.libraryFormGroup.controls.name.hasError("required")),e.xp6(5),e.Q6J("value",void 0),e.xp6(2),e.Q6J("ngForOf",q.mediaTypes),e.xp6(1),e.Q6J("ngIf",q.libraryFormGroup.controls.mediaType.hasError("required")),e.xp6(4),e.Q6J("errorStateMatcher",q.matcher),e.xp6(1),e.Q6J("ngIf",q.libraryFormGroup.controls.physicalPath.hasError("required")),e.xp6(4),e.Q6J("disabled",q.showLoading||!q.libraryFormGroup.valid),e.xp6(2),e.Q6J("showLoading",q.showLoading)}}let I=(()=>{class fe{constructor(q,$,Q,ne){this.libraryService=q,this.activeModal=$,this.formBuilder=Q,this.modalService=ne,this.showLoading=!1,this.matcher=new y.n,this.mediaTypes=[{Id:1,Name:"Movies"},{Id:2,Name:"Tv Series"}]}ngOnInit(){this.libraryFormGroup=this.formBuilder.group({name:new v.NI(this.library.Name,[v.kI.required]),mediaType:new v.NI(this.library.MediaTypeCatalogDetailId,[v.kI.required]),physicalPath:new v.NI(this.library.PhysicalPath,[v.kI.required])})}saveStorage(){if(this.libraryFormGroup.valid){this.showLoading=!0;var q=JSON.parse(JSON.stringify(this.library));q.Name=this.libraryFormGroup.value.name,q.MediaTypeCatalogDetailId=Number(this.libraryFormGroup.value.mediaType),q.MediaTypeCatalogId=m.P9.MediaType,q.PhysicalPath=this.libraryFormGroup.value.physicalPath,q.MediaServerId=this.mediaServer.Id,this.libraryService.saveItem(this.mediaServer.Url,q).then($=>{this.showLoading=!1,this.activeModal.close()},$=>{this.showLoading=!1,console.error($)})}else this.libraryFormGroup.markAllAsTouched()}showChooserDirectoryModal(){var q=this,$=this.modalService.open(P.g,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});$.componentInstance.mediaServer=this.mediaServer,$.closed.subscribe(Q=>{q.libraryFormGroup.controls.physicalPath.setValue(Q)})}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function($){return new($||fe)(e.Y36(D.$),e.Y36(f.Kz),e.Y36(v.qu),e.Y36(f.FF))};static#t=this.\u0275cmp=e.Xpm({type:fe,selectors:[["app-library-form"]],inputs:{mediaServer:"mediaServer",library:"library"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","mediaType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","physicalPath","readonly","",2,"cursor","pointer",3,"errorStateMatcher","click"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function($,Q){1&$&&e.YNc(0,S,31,11,"ng-template",0),2&$&&e.Q6J("ngIf",null!=Q.library&&Q.libraryFormGroup)},dependencies:[v._Y,v.Fj,v.JJ,v.JL,v.sg,v.u,i.D,c.sg,c.O5,d.Nt,h.KE,h.hX,h.TO,p.ey,C.gD],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return fe})();var E=g(7394),L=g(8923),b=g(9604);class B{}var Z=g(7541),oe=g(9223);function le(fe,we){if(1&fe){const q=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){const ne=e.CHM(q).$implicit,X=e.oxw(2);return e.KtG(X.onSelectItem(ne))}),e._UZ(1,"i"),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&fe){const q=we.$implicit;e.xp6(1),e.Gre("",q.iconClass," me-2"),e.xp6(2),e.Oqu(q.title)}}function Re(fe,we){if(1&fe){const q=e.EpF();e.TgZ(0,"div",1)(1,"div",2),e.NdJ("clickOutside",function(){e.CHM(q);const Q=e.oxw();return e.KtG(Q.onClickOutside())}),e.TgZ(2,"div",3),e.YNc(3,le,4,4,"ng-template",4),e.qZA()()()}if(2&fe){const q=e.oxw();e.xp6(1),e.Udp("top",q.top+"px")("right",q.right+"px"),e.xp6(2),e.Q6J("ngForOf",q.options.listItems)}}let Y=(()=>{class fe{constructor(q){this.ref=q,this.hide=new e.vpe,this.selectOption=new e.vpe,this.showMenu=!1}ngAfterViewInit(){setTimeout(()=>{this.showMenu=!0,this.ref.detectChanges()},100)}onClickOutside(){this.hide.emit(!0)}onSelectItem(q){this.selectOption.emit(q)}static#e=this.\u0275fac=function($){return new($||fe)(e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:fe,selectors:[["app-custom-menu"]],inputs:{options:"options",right:"right",top:"top"},outputs:{hide:"hide",selectOption:"selectOption"},decls:1,vars:1,consts:[["class","custom-actions-menu-container",4,"ngIf"],[1,"custom-actions-menu-container"],[1,"custom-actions-menu-content",3,"clickOutside"],[1,"custom-actions-menu-scroller"],["ngFor","",3,"ngForOf"],[1,"menu-item",3,"click"]],template:function($,Q){1&$&&e.YNc(0,Re,4,5,"div",0),2&$&&e.Q6J("ngIf",Q.showMenu)},dependencies:[c.sg,c.O5,oe._],styles:[".custom-actions-menu-container[_ngcontent-%COMP%]{position:absolute;inset:0 auto 0 0;margin:0;z-index:1014;width:100%;height:100%}.custom-actions-menu-content[_ngcontent-%COMP%]{background-color:#191a1c;border-radius:4px;box-shadow:0 4px 10px #00000059;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:8px 0;transform-origin:center top;transition:background .15s ease-out;position:absolute}.custom-actions-menu-scroller[_ngcontent-%COMP%]{overflow-y:auto;max-height:600px;padding-right:0;overflow-x:hidden}button.menu-item[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;word-wrap:break-word;display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:4px 20px;text-align:left;width:100%}button.menu-item[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}"]})}return fe})(),De=(()=>{class fe{constructor(q,$,Q){this.factoryResolver=q,this.injector=$,this.applicationRef=Q}show(q){return new Promise(($,Q)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const X=this.factoryResolver.resolveComponentFactory(Y).create(this.injector);this.lastViewRef=X.hostView,this.applicationRef.attachView(X.hostView);let re=this;const J=q.target.getBoundingClientRect();var ge=window.innerWidth-J.right,Se=J.top+J.height;X.instance.options=q,X.instance.right=ge,X.instance.top=Se,X.instance.selectOption.subscribe(ct=>{ct.eventOnSelectItem&&ct.eventOnSelectItem.emit(!0),X.destroy(),re.applicationRef.detachView(X.hostView),$(ct)}),X.instance.hide.subscribe(ct=>{X.destroy(),re.applicationRef.detachView(X.hostView),Q(!0)});const Ee=X.hostView.rootNodes[0];document.getElementById(q.containerId).appendChild(Ee)})}static#e=this.\u0275fac=function($){return new($||fe)(e.LFG(e._Vd),e.LFG(e.zs3),e.LFG(e.z2F))};static#t=this.\u0275prov=e.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})();var ce=g(9429);let Te=(()=>{class fe{constructor(q){this.restProvider=q}scanLibraries(q,$){return new Promise((Q,ne)=>{this.restProvider.executeHttpMediaServerApi(m.yw.POST,q+"/api/scanLibraries",{Listlibraries:$}).then(J=>{Q(J)},J=>{console.error(J),ne(J)})})}static#e=this.\u0275fac=function($){return new($||fe)(e.LFG(ce.C))};static#t=this.\u0275prov=e.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})();var be=g(3931),Oe=g(5908),ie=g(1367),ye=g(5940),Ce=g(1444);function de(fe,we){1&fe&&e._UZ(0,"i",17)}function Me(fe,we){1&fe&&e._UZ(0,"i",18)}const pe=function(fe){return{selected:fe}};function Ie(fe,we){if(1&fe){const q=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"div",9),e.YNc(3,de,1,0,"i",10),e.YNc(4,Me,1,0,"i",11),e.qZA(),e.TgZ(5,"a"),e._uU(6),e.qZA(),e.TgZ(7,"div",12)(8,"div",13)(9,"button",14),e.NdJ("click",function(Q){const X=e.CHM(q).$implicit,re=e.oxw(4);return e.KtG(re.showActions(Q,X))}),e.TgZ(10,"span",15),e._UZ(11,"i",16),e.qZA()()()()()()}if(2&fe){const q=we.$implicit,$=e.oxw(4);e.Q6J("ngClass",e.VKq(4,pe,$.currentLibrary&&$.currentLibrary.Id==q.Id)),e.xp6(3),e.Q6J("ngIf",1==q.MediaTypeCatalogDetailId),e.xp6(1),e.Q6J("ngIf",2==q.MediaTypeCatalogDetailId),e.xp6(2),e.Oqu(q.Name)}}function Be(fe,we){if(1&fe){const q=e.EpF();e.TgZ(0,"div",2)(1,"h2"),e._uU(2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4),e._uU(5),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){e.CHM(q);const Q=e.oxw(3);return e.KtG(Q.openNewLibrary())}),e._uU(7,"A\xf1adir biblioteca"),e.qZA(),e.TgZ(8,"button",5),e.NdJ("click",function(){e.CHM(q);const Q=e.oxw(3);return e.KtG(Q.updateVideoInAllLibraries())}),e._uU(9,"Buscar archivos en biblioteca"),e.qZA()(),e.YNc(10,Ie,12,6,"ng-template",6),e.qZA()}if(2&fe){const q=e.oxw(3);e.xp6(2),e.hij("",q.mediaServer.FamilyName?q.mediaServer.FamilyName:q.mediaServer.DeviceName," - Bibliotecas"),e.xp6(3),e.hij("",q.listLibraries?q.listLibraries.length:""," bibliotecas"),e.xp6(5),e.Q6J("ngForOf",q.listLibraries)}}function at(fe,we){if(1&fe&&e.YNc(0,Be,11,3,"div",1),2&fe){const q=e.oxw(2);e.Q6J("ngIf",q.mediaServer)}}function Xe(fe,we){if(1&fe&&e._UZ(0,"app-server-connection-error",19),2&fe){const q=e.oxw(2);e.Q6J("mediaServer",q.mediaServer)}}function je(fe,we){if(1&fe&&(e.YNc(0,at,1,1,"ng-template",0),e.YNc(1,Xe,1,1,"ng-template",0)),2&fe){const q=e.oxw();e.Q6J("ngIf",q.mediaServer&&q.mediaServer.isSecureConnection),e.xp6(1),e.Q6J("ngIf",q.mediaServer&&!q.mediaServer.isSecureConnection)}}function Ne(fe,we){1&fe&&(e.TgZ(0,"div",20),e._UZ(1,"mat-spinner"),e.qZA())}let ee=(()=>{class fe{constructor(q,$,Q,ne,X,re,J,ge,Se,Ee){this.signalIrService=q,this.customMenuService=$,this.modalService=Q,this.scanLibraryService=ne,this.libraryService=X,this.dialog=re,this.snackBarService=J,this.router=ge,this.activeRoute=Se,this.sharedDataService=Ee,this.loadingConnection=!0,this.subscription=new E.w0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(Fe=>{this.mediaServer&&this.mediaServer.Guid==Fe&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.getAllItems())})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(Fe=>{this.mediaServer&&this.mediaServer.Guid==Fe&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)}))}ngOnInit(){var q=this.activeRoute.snapshot.params.serverGuid,$=this.sharedDataService.mediaServers.find(Q=>Q.Guid==q);$?(this.mediaServer=JSON.parse(JSON.stringify($)),$.isSecureConnection?(this.loadingConnection=!1,this.getAllItems()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscription.unsubscribe()}getAllItems(){this.libraryService.getLibrariesByMediaServer(this.mediaServer.Url).then(q=>{this.listLibraries=q},q=>{})}openNewLibrary(){let q=new B;q.MediaServerId=this.mediaServer.Id,this.showModalForm(q)}editLibrary(q){this.showModalForm(JSON.parse(JSON.stringify(q)))}showModalForm(q){var $=this,Q=this.modalService.open(I,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});Q.componentInstance.library=q,Q.componentInstance.mediaServer=this.mediaServer,Q.closed.subscribe(ne=>{$.getAllItems()})}deleteLibrary(q){var $=new t.vA;$.data={title:"Eliminar biblioteca",message:"La biblioteca '"+q.Name+"' ser\xe1 eliminada de este servidor. Tus archivos multimedia no se ver\xe1n afectados. Esto no se puede deshacer. \xbfContinuar?",accordMessage:"Si, eliminar la biblioteca '"+q.Name+"'"},this.dialog.open(L.k,$).afterClosed().subscribe(Q=>{Q&&this.executeDeleteLibrary(q)})}executeDeleteLibrary(q){this.libraryService.deleteItem(this.mediaServer.Url,q.Id).then($=>{this.snackBarService.showSnackBar("Se elimin\xf3 la biblioteca satisfactoriamente",b.dA.Success),this.getAllItems()},$=>{console.error($),this.snackBarService.showSnackBar($,b.dA.Error)})}showActions(q,$){this.currentLibrary=$;var Q=JSON.parse(JSON.stringify($)),ne=q.currentTarget,X=[],re=new e.vpe;re.subscribe(Se=>{this.editLibrary(Q)}),X.push({title:"Editar biblioteca",iconClass:"fa-solid fa-pen-to-square",eventOnSelectItem:re});var J=new e.vpe;J.subscribe(Se=>{this.updateLibraryVideos(Q)}),X.push({title:"Buscar archivos en la biblioteca",iconClass:"fa-solid fa-magnifying-glass-plus",eventOnSelectItem:J});var ge=new e.vpe;ge.subscribe(Se=>{this.deleteLibrary(Q)}),X.push({title:"Eliminar biblioteca",iconClass:"fa-sharp fa-solid fa-trash",eventOnSelectItem:ge}),this.customMenuService.show({containerId:"sinovadMainContainer",listItems:X,target:ne}).then(Se=>{this.currentLibrary=void 0},Se=>{this.currentLibrary=void 0})}updateLibraryVideos(q){q.Id>0&&null!=q.PhysicalPath&&""!=q.PhysicalPath&&this.searchFilesInLibraries([q])}updateVideoInAllLibraries(){this.searchFilesInLibraries(this.listLibraries)}searchFilesInLibraries(q){this.scanLibraryService.scanLibraries(this.mediaServer.Url,q)}static#e=this.\u0275fac=function($){return new($||fe)(e.Y36(Z.n),e.Y36(De),e.Y36(f.FF),e.Y36(Te),e.Y36(D.$),e.Y36(t.uw),e.Y36(be.c),e.Y36(Oe.F0),e.Y36(Oe.gz),e.Y36(ie.g))};static#t=this.\u0275cmp=e.Xpm({type:fe,selectors:[["app-library-list"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"manage-libraries-header"],[1,"manage-libraries-count"],[3,"click"],["ngFor","",3,"ngForOf"],[1,"manage-library-summary-row",3,"ngClass"],[1,"manage-library-summary-overlay"],[1,"manage-library-icon-container"],["class","fa-solid fa-film",4,"ngIf"],["class","fa-solid fa-tv",4,"ngIf"],[1,"manage-library-summary-actions"],[1,"manage-library-summary-header"],[1,"manage-library-summary-action",3,"click"],[1,"manage-library-summary-header-icon"],[1,"fa-solid","fa-ellipsis-vertical"],[1,"fa-solid","fa-film"],[1,"fa-solid","fa-tv"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function($,Q){1&$&&(e.YNc(0,je,2,2,"ng-template",0),e.YNc(1,Ne,2,0,"ng-template",0)),2&$&&(e.Q6J("ngIf",!Q.loadingConnection),e.xp6(1),e.Q6J("ngIf",Q.loadingConnection))},dependencies:[c.mk,c.sg,c.O5,ye.Ou,Ce.Z],styles:[".sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.manage-libraries-header[_ngcontent-%COMP%]{background-color:#00000026;color:#ffffff73;display:flex;justify-content:space-between;margin:20px 0;padding:13px 20px}.manage-libraries-header[_ngcontent-%COMP%]   .manage-libraries-count[_ngcontent-%COMP%]{flex-grow:1;font-size:13px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;color:#fafafa;display:inline-block;overflow:hidden;text-align:center;transition:background-color .2s,color .2s;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;background-color:#ffffff40;margin-left:10px;padding:0 10px;border:none;font-size:14px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff26}.manage-library-summary-row[_ngcontent-%COMP%]{color:#ffffffb3;min-height:44px;position:relative;cursor:pointer}.manage-library-summary-overlay[_ngcontent-%COMP%]{align-items:center;display:flex;pointer-events:none;height:100%;left:0;position:absolute;top:0;width:100%}.manage-library-icon-container[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center;margin:0 20px;width:20px;font-size:13px}a[_ngcontent-%COMP%]{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-grow:1;overflow:hidden;pointer-events:all;color:#ffffffb3;font-size:13px}.manage-library-summary-actions[_ngcontent-%COMP%]{align-items:center;display:flex;flex:1;justify-content:flex-end;opacity:1}.manage-library-summary-row[_ngcontent-%COMP%]:hover, .manage-library-summary-row.selected[_ngcontent-%COMP%]{background-color:#ffffff0f;color:#fff}.manage-library-summary-header[_ngcontent-%COMP%]{display:flex}button.manage-library-summary-action[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-shrink:0;overflow:hidden;padding:0 15px;pointer-events:all;white-space:nowrap}.manage-library-summary-header-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;width:20px}button.manage-library-summary-action[_ngcontent-%COMP%]:hover{color:#fff}.sinovad-searh-media-log-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-searh-media-log-content[_ngcontent-%COMP%]{width:80%;height:80%;background:black;border:1px solid #dedede;border-radius:6px;color:#fff;padding:10px}.sinovad-searh-media-log-second-content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;font-size:26px}.sinovad-searh-media-log-html[_ngcontent-%COMP%]{color:#fff;font-size:16px;overflow-y:auto;overflow-x:hidden;width:100%;height:100%}.sinovad-library-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}.sinovad-library-principal-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin-left:10px;margin-bottom:2px;font-size:30px}.sinovad-library-container[_ngcontent-%COMP%]{display:block}.sinovad-library-section[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-library-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-left:0;font-size:20px}.sinovad-library-section[_ngcontent-%COMP%]   .sinovad-library-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-library-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:30px;border-radius:5px;outline:none;cursor:pointer}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px;cursor:pointer}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}"]})}return fe})()},1044:(Wn,Je,g)=>{"use strict";g.d(Je,{$:()=>y});var e=g(863),t=g(5879),v=g(9429);let y=(()=>{class m{constructor(D){this.restProvider=D}getLibrariesByMediaServer(D){return new Promise((f,i)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,D+"/api/libraries/GetAllAsync").then(d=>{f(d.Data)},d=>{i(d)})})}saveItem(D,f){return new Promise((i,c)=>{this.restProvider.executeHttpMediaServerApi(f.Id>0?e.yw.PUT:e.yw.POST,D+"/api"+(f.Id>0?"/libraries/UpdateAsync/"+f.Id:"/libraries/CreateAsync"),f).then(p=>{i(!0)},p=>{console.error(p),c(p)})})}deleteItem(D,f){return new Promise((i,c)=>{this.restProvider.executeHttpMediaServerApi(e.yw.DELETE,D+"/api/libraries/DeleteAsync/"+f).then(h=>{i(h)},h=>{console.error(h),c(h)})})}static#e=this.\u0275fac=function(f){return new(f||m)(t.LFG(v.C))};static#t=this.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},295:(Wn,Je,g)=>{"use strict";g.d(Je,{i:()=>O});var e=g(5861),t=g(95),v=g(7394),y=g(9604),m=g(5879),P=g(7541),D=g(5510),f=g(3931),i=g(5908),c=g(1367),d=g(6814),h=g(5940),p=g(1444);function C(S,I){if(1&S){const E=m.EpF();m.TgZ(0,"div",1)(1,"h2"),m._uU(2),m.qZA(),m.TgZ(3,"div")(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"span",7),m._uU(10,"Privado"),m.qZA(),m.TgZ(11,"span",8)(12,"span",9),m._uU(13),m.qZA()()()(),m.TgZ(14,"div",5)(15,"form",10),m.NdJ("ngSubmit",function(){m.CHM(E);const b=m.oxw(2);return m.KtG(b.updateMediaServer())}),m.TgZ(16,"div",5)(17,"label",11),m._uU(18,"Nombre Familiar"),m.qZA(),m._UZ(19,"input",12),m.TgZ(20,"p",13),m._uU(21,"Este nombre se usar\xe1 para que otros ordenadores identifiquen este servidor en tu red. Si lo dejas en blanco se usar\xe1 el nombre del equipo."),m.qZA()(),m.TgZ(22,"div",14)(23,"button",15)(24,"span",16),m._uU(25,"Guardar cambios"),m.qZA()(),m._UZ(26,"span",17),m.qZA()()()()()()()()}if(2&S){const E=m.oxw(2);m.xp6(2),m.hij("",E.mediaServer.FamilyName?E.mediaServer.FamilyName:E.mediaServer.DeviceName," - General"),m.xp6(11),m.Oqu(E.mediaServer.Url),m.xp6(2),m.Q6J("formGroup",E.customForm),m.xp6(4),m.Q6J("placeholder",E.mediaServer.FamilyName?E.mediaServer.FamilyName:E.mediaServer.DeviceName),m.xp6(4),m.Q6J("disabled",E.loading||E.customForm.pristine||E.customForm.invalid)}}function A(S,I){if(1&S&&m._UZ(0,"app-server-connection-error",18),2&S){const E=m.oxw(2);m.Q6J("mediaServer",E.mediaServer)}}function x(S,I){if(1&S&&(m.YNc(0,C,27,5,"ng-template",0),m.YNc(1,A,1,1,"ng-template",0)),2&S){const E=m.oxw();m.Q6J("ngIf",E.mediaServer&&E.mediaServer.isSecureConnection),m.xp6(1),m.Q6J("ngIf",E.mediaServer&&!E.mediaServer.isSecureConnection)}}function R(S,I){1&S&&(m.TgZ(0,"div",19),m._UZ(1,"mat-spinner"),m.qZA())}let O=(()=>{class S{constructor(E,L,b,B,Z,oe,le){this.signalIrService=E,this.serverService=L,this.snackBarService=b,this.formBuilder=B,this.router=Z,this.activeRoute=oe,this.sharedDataService=le,this.loading=!1,this.loadingConnection=!0,this.subscription=new v.w0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(Re=>{this.mediaServer&&this.mediaServer.Guid==Re&&!this.mediaServer.isSecureConnection&&(this.loadingConnection=!1,this.mediaServer.isSecureConnection=!0)})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(Re=>{this.mediaServer&&this.mediaServer.Guid==Re&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)}))}ngOnInit(){var E=this.activeRoute.snapshot.params.serverGuid,L=this.sharedDataService.mediaServers.find(b=>b.Guid==E);L?(this.mediaServer=JSON.parse(JSON.stringify(L)),L.isSecureConnection?this.loadingConnection=!1:setTimeout(()=>{this.loadingConnection=!1},3e3),this.customForm=this.formBuilder.group({familyName:new t.NI(this.mediaServer.FamilyName)})):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscription.unsubscribe()}getMediaServerData(){var E=this;return(0,e.Z)(function*(){E.loading=!0;var L=E.activeRoute.snapshot.params.serverGuid;E.serverService.getMediaServerByGuid(L).then(b=>{var B=b.Data,oe=E.sharedDataService.mediaServers.find(le=>le.Guid==L);oe.FamilyName=B.FamilyName,E.mediaServer=oe,E.customForm=E.formBuilder.group({familyName:new t.NI(E.mediaServer.FamilyName)}),E.loading=!1},b=>{E.router.navigateByUrl("/404"),E.loading=!1})})()}ngAfterViewInit(){}updateMediaServer(){this.loading=!0;var E=JSON.parse(JSON.stringify(this.mediaServer));E.FamilyName=this.customForm.value.familyName,this.serverService.saveItem(E).then(L=>{this.getMediaServerData(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",y.dA.Success)},L=>{this.loading=!1,console.error(L)})}static#e=this.\u0275fac=function(L){return new(L||S)(m.Y36(P.n),m.Y36(D.Z),m.Y36(f.c),m.Y36(t.qu),m.Y36(i.F0),m.Y36(i.gz),m.Y36(c.g))};static#t=this.\u0275cmp=m.Xpm({type:S,selectors:[["app-server-setttings-general-page"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"remote-access-mapping"],[1,"mapping-label"],[1,"mapping-address"],[1,"mapping-value"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["type","text","formControlName","familyName",1,"form-control",3,"placeholder"],[1,"help-block"],[1,"form-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn-label"],[1,"form-message"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(L,b){1&L&&(m.YNc(0,x,2,2,"ng-template",0),m.YNc(1,R,2,0,"ng-template",0)),2&L&&(m.Q6J("ngIf",!b.loadingConnection),m.xp6(1),m.Q6J("ngIf",b.loadingConnection))},dependencies:[d.O5,t._Y,t.Fj,t.JJ,t.JL,h.Ou,p.Z,t.sg,t.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}']})}return S})()},5934:(Wn,Je,g)=>{"use strict";g.d(Je,{$:()=>oe});var e=g(863),t=g(95),v=g(7394);class y{}var m=g(9604),P=g(8777),D=g(5879),f=g(9857),i=g(7541),c=g(9429);let d=(()=>{class le{constructor(Y){this.restProvider=Y}getByMediaServer(Y){return new Promise((ae,G)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,Y+"/api/transcoderSettings/GetAsync").then(ce=>{ae(ce.Data)},ce=>{console.error(ce),G(ce)})})}saveItem(Y,ae){return new Promise((G,De)=>{this.restProvider.executeHttpMediaServerApi(e.yw.PUT,Y+"/api/transcoderSettings/Save",ae).then(Te=>{G(!0)},Te=>{console.error(Te),De(Te)})})}static#e=this.\u0275fac=function(ae){return new(ae||le)(D.LFG(c.C))};static#t=this.\u0275prov=D.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();var h=g(8726),p=g(3931),C=g(5908),A=g(1367),x=g(6814),R=g(5940),O=g(1444);function S(le,Re){if(1&le&&(D.TgZ(0,"option",19),D._uU(1),D.qZA()),2&le){const Y=Re.$implicit;D.Q6J("ngValue",Y.Id),D.xp6(1),D.Oqu(Y.Name)}}function I(le,Re){if(1&le&&(D.TgZ(0,"option",19),D._uU(1),D.qZA()),2&le){const Y=Re.$implicit;D.Q6J("ngValue",Y.Id),D.xp6(1),D.Oqu(Y.Name)}}function E(le,Re){if(1&le){const Y=D.EpF();D.TgZ(0,"div",2)(1,"h2"),D._uU(2),D.qZA(),D.TgZ(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"form",7),D.NdJ("ngSubmit",function(){D.CHM(Y);const G=D.oxw(3);return D.KtG(G.saveTranscoder())}),D.TgZ(9,"div",6)(10,"label",8),D._uU(11,"M\xe9todo de transmisi\xf3n"),D.qZA(),D.TgZ(12,"select",9),D.YNc(13,S,2,2,"ng-template",10),D.qZA(),D.TgZ(14,"p",11),D._uU(15,"M\xe9todo de transmisi\xf3n para transcodificar los videos"),D.qZA()(),D.TgZ(16,"div",6)(17,"label",8),D._uU(18,"Carpeta temporal para el transcodificador"),D.qZA(),D.TgZ(19,"input",12),D.NdJ("click",function(){D.CHM(Y);const G=D.oxw(3);return D.KtG(G.showChooserDirectoryModal())}),D.qZA(),D.TgZ(20,"p",11),D._uU(21,"Carpeta que utilizar\xe1 el codificador para los archivos temporales."),D.qZA()(),D.TgZ(22,"div",6)(23,"label",8),D._uU(24,"Preset de conversi\xf3n x264 en segundo plano"),D.qZA(),D.TgZ(25,"select",13),D.YNc(26,I,2,2,"ng-template",10),D.qZA(),D.TgZ(27,"p",11),D._uU(28,"El valor de preset de x264 usado para conversi\xf3n en segundo plano (Sincronizaci\xf3n y Optimizador de Contenido). Valores m\xe1s lentos dar\xe1n lugar a mejor calidad de v\xeddeo y archivos m\xe1s peque\xf1os, pero llevar\xe1 mucho m\xe1s tiempo completar el proceso."),D.qZA()(),D.TgZ(29,"div",6)(30,"label",8),D._uU(31,"Factor de Tasa Constante"),D.qZA(),D._UZ(32,"input",14),D.TgZ(33,"p",11),D._uU(34,"El factor de tasa constante (CRF) es la configuraci\xf3n predeterminada de calidad (y control de velocidad) para los codificadores x264 y x265 , y tambi\xe9n est\xe1 disponible para libvpx . Con x264 y x265, puede establecer los valores entre 0 y 51, donde los valores m\xe1s bajos dar\xedan como resultado una mejor calidad, a expensas de tama\xf1os de archivo m\xe1s altos. Los valores m\xe1s altos significan m\xe1s compresi\xf3n, pero en alg\xfan momento notar\xe1 la degradaci\xf3n de la calidad. Para x264, los valores razonables est\xe1n entre 18 y 28. El valor predeterminado es 23, por lo que puede usarlo como punto de partida."),D.qZA()(),D.TgZ(35,"div",15)(36,"button",16)(37,"span",17),D._uU(38,"Guardar cambios"),D.qZA()(),D._UZ(39,"span",18),D.qZA()()()()()()()()}if(2&le){const Y=D.oxw(3);D.xp6(2),D.hij("",Y.mediaServer.FamilyName?Y.mediaServer.FamilyName:Y.mediaServer.DeviceName," - Transcodificador"),D.xp6(6),D.Q6J("formGroup",Y.customForm),D.xp6(5),D.Q6J("ngForOf",Y.transmissionMethodList),D.xp6(13),D.Q6J("ngForOf",Y.presetList),D.xp6(10),D.Q6J("disabled",Y.loading||Y.customForm.pristine||Y.customForm.invalid)}}function L(le,Re){if(1&le&&D.YNc(0,E,40,5,"div",1),2&le){const Y=D.oxw(2);D.Q6J("ngIf",Y.customForm)}}function b(le,Re){if(1&le&&D._UZ(0,"app-server-connection-error",20),2&le){const Y=D.oxw(2);D.Q6J("mediaServer",Y.mediaServer)}}function B(le,Re){if(1&le&&(D.YNc(0,L,1,1,"ng-template",0),D.YNc(1,b,1,1,"ng-template",0)),2&le){const Y=D.oxw();D.Q6J("ngIf",Y.mediaServer&&Y.mediaServer.isSecureConnection),D.xp6(1),D.Q6J("ngIf",Y.mediaServer&&!Y.mediaServer.isSecureConnection)}}function Z(le,Re){1&le&&(D.TgZ(0,"div",21),D._UZ(1,"mat-spinner"),D.qZA())}let oe=(()=>{class le{constructor(Y,ae,G,De,ce,Te,be,Oe,ie){this.catalogService=Y,this.signalIrService=ae,this.transcoderSettingsService=G,this.modalService=De,this.snackBarService=ce,this.formBuilder=Te,this.router=be,this.activeRoute=Oe,this.sharedDataService=ie,this.transmissionMethodList=[],this.presetList=[],this.loading=!1,this.loadingConnection=!0,this.subscription=new v.w0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(ye=>{this.mediaServer&&this.mediaServer.Guid==ye&&!this.mediaServer.isSecureConnection&&(this.loadingConnection=!1,this.mediaServer.isSecureConnection=!0,this.getTranscoderSettingss())})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(ye=>{this.mediaServer&&this.mediaServer.Guid==ye&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)}))}ngOnInit(){this.getCatalogDetails();var Y=this.activeRoute.snapshot.params.serverGuid,ae=this.sharedDataService.mediaServers.find(G=>G.Guid==Y);ae?(this.mediaServer=JSON.parse(JSON.stringify(ae)),ae.isSecureConnection?(this.loadingConnection=!1,this.getTranscoderSettingss()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscription.unsubscribe()}getCatalogDetails(){this.catalogService.getAllCatalogDetailsByCatalogIds(e.P9.TranscoderPreset+","+e.P9.VideoTransmissionType).then(ae=>{let G=ae.Data;this.transmissionMethodList=G.filter(De=>De.CatalogId==e.P9.VideoTransmissionType),this.presetList=G.filter(De=>De.CatalogId==e.P9.TranscoderPreset)},ae=>{console.error(ae)})}getTranscoderSettingss(){this.transcoderSettingsService.getByMediaServer(this.mediaServer.Url).then(Y=>{if(this.currentTranscoderSettingss=Y,null==this.currentTranscoderSettingss){var ae=new y;ae.TemporaryFolder="",ae.ConstantRateFactor=18,ae.MediaServerId=this.mediaServer.Id,this.currentTranscoderSettingss=ae}this.customForm=this.formBuilder.group({temporaryFolder:new t.NI(this.currentTranscoderSettingss.TemporaryFolder),preset:new t.NI(this.currentTranscoderSettingss.PresetCatalogDetailId),transmissionMethod:new t.NI(this.currentTranscoderSettingss.VideoTransmissionTypeCatalogDetailId),constantRateFactor:new t.NI(this.currentTranscoderSettingss.ConstantRateFactor)})},Y=>{console.error(Y)})}saveTranscoder(){this.loading=!0;var Y=JSON.parse(JSON.stringify(this.currentTranscoderSettingss));Y.TemporaryFolder=this.customForm.value.temporaryFolder,Y.ConstantRateFactor=this.customForm.value.constantRateFactor,Y.VideoTransmissionTypeCatalogDetailId=this.customForm.value.transmissionMethod,Y.PresetCatalogDetailId=this.customForm.value.preset,this.transcoderSettingsService.saveItem(this.mediaServer.Url,Y).then(ae=>{this.loading=!1,this.getTranscoderSettingss(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",m.dA.Success)},ae=>{this.loading=!1,this.snackBarService.showSnackBar(ae,m.dA.Error),console.error(ae)})}showChooserDirectoryModal(){var Y=this,ae=this.modalService.open(P.g,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});ae.componentInstance.mediaServer=this.mediaServer,ae.closed.subscribe(G=>{Y.customForm.controls.temporaryFolder.setValue(G),Y.customForm.controls.temporaryFolder.markAsDirty()})}static#e=this.\u0275fac=function(ae){return new(ae||le)(D.Y36(f.a),D.Y36(i.n),D.Y36(d),D.Y36(h.FF),D.Y36(p.c),D.Y36(t.qu),D.Y36(C.F0),D.Y36(C.gz),D.Y36(A.g))};static#t=this.\u0275cmp=D.Xpm({type:le,selectors:[["app-transcode-settings-page"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["name","transmissionMethods","formControlName","transmissionMethod",1,"form-control"],["ngFor","",3,"ngForOf"],[1,"help-block"],["readonly","","type","text","formControlName","temporaryFolder",1,"form-control",2,"cursor","pointer",3,"click"],["name","transmissionMethods","formControlName","preset",1,"form-control"],["type","text","formControlName","constantRateFactor",1,"form-control"],[1,"form-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn-label"],[1,"form-message"],[1,"form-option",3,"ngValue"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(ae,G){1&ae&&(D.YNc(0,B,2,2,"ng-template",0),D.YNc(1,Z,2,0,"ng-template",0)),2&ae&&(D.Q6J("ngIf",!G.loadingConnection),D.xp6(1),D.Q6J("ngIf",G.loadingConnection))},dependencies:[x.sg,x.O5,t._Y,t.YN,t.Kr,t.Fj,t.EJ,t.JJ,t.JL,R.Ou,O.Z,t.sg,t.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .form-option[_ngcontent-%COMP%]{background-color:#131313;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]{border-radius:3px;font-size:16px;line-height:1.33;padding:10px 18px;flex-shrink:0;text-transform:capitalize;border:0;overflow:hidden;position:relative;cursor:pointer;display:inline-block;font-weight:400;margin-bottom:0;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;color:#fff;background-color:#007bff;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   button.save.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}.sinovad-manage-media-container[_ngcontent-%COMP%]{display:block}.sinovad-manage-media-section[_ngcontent-%COMP%]{display:block;padding:10px}label[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}.sinovad-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-manage-media-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}']})}return le})()},2680:(Wn,Je,g)=>{"use strict";g.d(Je,{I:()=>le});var e=g(1476),t=g(2877),v=g(863),y=g(5313),m=g(7394),P=g(5879),D=g(1367),f=g(5908),i=g(7541),c=g(9429);let d=(()=>{class Re{constructor(ae){this.restProvider=ae}getAlertsByMediaServer(ae,G,De){return new Promise((ce,Te)=>{var be="?page="+G.toString()+"&take="+De.toString();this.restProvider.executeHttpMediaServerApi(v.yw.GET,ae+"/api/alerts/GetAllWithPagination"+be).then(ie=>{ce(ie)},ie=>{Te(ie)})})}static#e=this.\u0275fac=function(G){return new(G||Re)(P.LFG(c.C))};static#t=this.\u0275prov=P.Yz7({token:Re,factory:Re.\u0275fac,providedIn:"root"})}return Re})();var h=g(6814),p=g(5940),C=g(1444);function A(Re,Y){1&Re&&(P.TgZ(0,"div",18),P._UZ(1,"mat-spinner"),P.qZA())}function x(Re,Y){if(1&Re&&(P.TgZ(0,"td",19),P._UZ(1,"i"),P.qZA()),2&Re){const ae=Y.$implicit,G=P.oxw(4);P.xp6(1),P.Tol(G.getIconByAlertType(ae.AlertType))}}function R(Re,Y){if(1&Re&&(P.TgZ(0,"td",20),P._uU(1),P.ALo(2,"date"),P.qZA()),2&Re){const ae=Y.$implicit;P.xp6(1),P.hij(" ",P.xi3(2,1,ae.Created,"dd-MM-YYYY h:mm a")," ")}}function O(Re,Y){if(1&Re&&(P.TgZ(0,"td",21),P._uU(1),P.qZA()),2&Re){const ae=Y.$implicit;P.xp6(1),P.hij(" ",ae.Description," ")}}function S(Re,Y){1&Re&&P._UZ(0,"tr",22)}function I(Re,Y){1&Re&&(P.TgZ(0,"td",25),P._uU(1,"No se encontraron datos"),P.qZA())}function E(Re,Y){if(1&Re&&(P.TgZ(0,"tr",23),P.YNc(1,I,2,0,"td",24),P.qZA()),2&Re){const ae=P.oxw(4);P.xp6(1),P.Q6J("ngIf",!ae.showLoading)}}function L(Re,Y){if(1&Re&&(P.TgZ(0,"div",2)(1,"h2"),P._uU(2),P.qZA(),P.TgZ(3,"div",3)(4,"div",4)(5,"div",5),P.YNc(6,A,2,0,"div",6),P.TgZ(7,"div",7)(8,"table",8),P.ynx(9,9),P.YNc(10,x,2,3,"td",10),P.BQk(),P.ynx(11,11),P.YNc(12,R,3,4,"td",12),P.BQk(),P.ynx(13,13),P.YNc(14,O,2,1,"td",14),P.BQk(),P.YNc(15,S,1,0,"tr",15),P.YNc(16,E,2,1,"tr",16),P.qZA()()()()(),P.TgZ(17,"div",3)(18,"div",4),P._UZ(19,"mat-paginator",17),P.qZA()()()),2&Re){const ae=P.oxw(3);P.xp6(2),P.hij("",ae.mediaServer.FamilyName?ae.mediaServer.FamilyName:ae.mediaServer.DeviceName," - Alertas"),P.xp6(4),P.Q6J("ngIf",ae.showLoading),P.xp6(2),P.Q6J("dataSource",ae.dataSource),P.xp6(7),P.Q6J("matRowDefColumns",ae.getDisplayedColumns()),P.xp6(4),P.Q6J("color","primary")("hidePageSize",!0)}}function b(Re,Y){if(1&Re&&P.YNc(0,L,20,6,"div",1),2&Re){const ae=P.oxw(2);P.Q6J("ngIf",ae.mediaServer)}}function B(Re,Y){if(1&Re&&P._UZ(0,"app-server-connection-error",26),2&Re){const ae=P.oxw(2);P.Q6J("mediaServer",ae.mediaServer)}}function Z(Re,Y){if(1&Re&&(P.YNc(0,b,1,1,"ng-template",0),P.YNc(1,B,1,1,"ng-template",0)),2&Re){const ae=P.oxw();P.Q6J("ngIf",ae.mediaServer&&ae.mediaServer.isSecureConnection),P.xp6(1),P.Q6J("ngIf",ae.mediaServer&&!ae.mediaServer.isSecureConnection)}}function oe(Re,Y){1&Re&&(P.TgZ(0,"div",27),P._UZ(1,"mat-spinner"),P.qZA())}let le=(()=>{class Re extends t.G{constructor(ae,G,De,ce,Te,be,Oe){super(Oe),this.ref=ae,this.sharedDataService=G,this.router=De,this.activeRoute=ce,this.signalIrService=Te,this.alertsService=be,this.matPaginatorIntl=Oe,this.loadingConnection=!0,this.subscription=new m.w0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(ie=>{this.mediaServer&&this.mediaServer.Guid==ie&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.ref.detectChanges(),this.initializePaginator(),this.getAllItems())})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(ie=>{this.mediaServer&&this.mediaServer.Guid==ie&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)}))}ngOnInit(){var ae=this.activeRoute.snapshot.params.serverGuid,G=this.sharedDataService.mediaServers.find(De=>De.Guid==ae);G?(this.mediaServer=JSON.parse(JSON.stringify(G)),G.isSecureConnection?(this.loadingConnection=!1,this.getAllItems()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngAfterViewInit(){this.mediaServer&&this.mediaServer.isSecureConnection&&this.initializePaginator()}initializePaginator(){this.paginator.page.subscribe(ae=>{this.updatePageData(ae),this.getAllItems()}),this.dataSource.paginator=this.paginator}ngOnDestroy(){this.subscription.unsubscribe()}getAllItems(){this.showLoading=!0,this.alertsService.getAlertsByMediaServer(this.mediaServer.Url,this.currentPage,this.itemsPerPage).then(ae=>{this.showLoading=!1;var G=ae.Data;this.totalCount=ae.TotalCount,this.listItems=G,this.dataSource=new y.by(this.listItems),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},ae=>{this.showLoading=!1})}getDisplayedColumns(){return["AlertType","Created","Description"]}getIconByAlertType(ae){return ae==v.NK.Bullhorn?"fa-solid fa-bullhorn":ae==v.NK.Tags?"fa-solid fa-tags":ae==v.NK.Ok?"fa-solid fa-check":ae==v.NK.Plus?"fa-solid fa-plus":ae==v.NK.Bin?"fa-solid fa-trash":""}static#e=this.\u0275fac=function(G){return new(G||Re)(P.Y36(P.sBO),P.Y36(D.g),P.Y36(f.F0),P.Y36(f.gz),P.Y36(i.n),P.Y36(d),P.Y36(e.ye))};static#t=this.\u0275cmp=P.Xpm({type:Re,selectors:[["app-alerts"]],viewQuery:function(G,De){if(1&G&&P.Gf(e.NW,5),2&G){let ce;P.iGM(ce=P.CRH())&&(De.paginator=ce.first)}},features:[P.qOj],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"row"],[1,"col-12"],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","AlertType"],["mat-cell","","style","width:45px;max-width:45px;text-align: left;",4,"matCellDef"],["matColumnDef","Created"],["mat-cell","","style","min-width:140px;width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","Description"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","hidePageSize"],[1,"loading-shade"],["mat-cell","",2,"width","45px","max-width","45px","text-align","left"],["mat-cell","",2,"min-width","140px","width","140px","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(G,De){1&G&&(P.YNc(0,Z,2,2,"ng-template",0),P.YNc(1,oe,2,0,"ng-template",0)),2&G&&(P.Q6J("ngIf",!De.loadingConnection),P.xp6(1),P.Q6J("ngIf",De.loadingConnection))},dependencies:[h.O5,e.NW,y.BZ,y.w1,y.Dz,y.nj,y.ev,y.Gk,y.Ee,p.Ou,C.Z,h.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:650px!important}.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:650px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}td[_ngcontent-%COMP%]{font-size:13px;padding:6px}div[_ngcontent-%COMP%]{font-size:13px}span[_ngcontent-%COMP%]{font-size:13px!important}"]})}return Re})()},9411:(Wn,Je,g)=>{"use strict";g.d(Je,{M:()=>oe});var e=g(7394),t=g(5879),v=g(5731),y=g(1367),m=g(5908),P=g(7541),D=g(863),f=g(9429);let i=(()=>{class le{constructor(Y){this.restProvider=Y}GetListMediaFilePlayback(Y){return new Promise((ae,G)=>{this.restProvider.executeHttpMediaServerApi(D.yw.GET,Y+"/api/mediaFilePlaybacks/GetListMediaFilePlayback").then(ce=>{ae(ce.Data)},ce=>{G(ce)})})}static#e=this.\u0275fac=function(ae){return new(ae||le)(t.LFG(f.C))};static#t=this.\u0275prov=t.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();var c=g(6814),d=g(5940),h=g(1444),p=g(1531);function C(le,Re){if(1&le&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&le){const Y=t.oxw().$implicit;t.xp6(1),t.hij(" ",Y.ItemData.Subtitle," ")}}function A(le,Re){if(1&le&&(t.TgZ(0,"div",11),t._uU(1),t.qZA()),2&le){const Y=t.oxw().$implicit;t.xp6(1),t.lnq(" ",Y.ClientData.DeviceData.OperatingSystem," - ",Y.ClientData.DeviceData.DeviceType," - ",Y.ClientData.DeviceData.Browser," ")}}function x(le,Re){if(1&le&&(t.TgZ(0,"div",21),t._uU(1),t.qZA()),2&le){const Y=t.oxw().$implicit,ae=t.oxw(5);t.xp6(1),t.hij(" ",ae.commonService.getInitials(Y.ProfileData.ProfileName)," ")}}function R(le,Re){if(1&le&&(t._UZ(0,"img",21),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&le){const Y=t.oxw().$implicit;t.uIk("src",t.lcZ(1,1,t.xi3(2,3,Y.ProfileData.ProfileId,"GetAvatarImageURLByProfileId")),t.LSH)}}function O(le,Re){if(1&le&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div"),t._UZ(3,"img",9),t.qZA(),t.TgZ(4,"div",10)(5,"div",11),t._uU(6),t.qZA(),t.YNc(7,C,2,1,"div",12),t.TgZ(8,"div",13),t._uU(9),t.qZA()()(),t.TgZ(10,"div",14)(11,"div",15),t._UZ(12,"div",16),t.qZA(),t.TgZ(13,"div",10),t.YNc(14,A,2,3,"div",17),t.TgZ(15,"div",13),t._uU(16),t.qZA(),t.TgZ(17,"div",13),t._uU(18),t.qZA()()(),t.TgZ(19,"div",18),t.YNc(20,x,2,1,"div",19),t.YNc(21,R,3,6,"img",19),t.TgZ(22,"span",20),t._uU(23),t.qZA()()()),2&le){const Y=Re.$implicit,ae=t.oxw(5);t.xp6(3),t.Q6J("src",Y.ItemData.PosterPath,t.LSH),t.xp6(3),t.hij(" ",Y.ItemData.Title," "),t.xp6(1),t.Q6J("ngIf",Y.ItemData.Subtitle),t.xp6(2),t.hij(" ",ae.getFormattedDuration(Y.ItemData.Duration)," "),t.xp6(3),t.Udp("width",ae.getWidthProgressItem(Y.ClientData)),t.xp6(2),t.Q6J("ngIf",Y.ClientData.DeviceData),t.xp6(2),t.hij(" ",ae.getPlayingMediaInfo(Y.ClientData)," "),t.xp6(2),t.hij(" Local (",Y.ClientData.LocalIpAddress,") "),t.xp6(2),t.Q6J("ngIf",null==Y.ProfileData.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=Y.ProfileData.AvatarPath),t.xp6(2),t.hij(" ",Y.ProfileData.ProfileName," ")}}function S(le,Re){if(1&le&&t.YNc(0,O,24,12,"ng-template",6),2&le){const Y=t.oxw(4);t.Q6J("ngForOf",Y.listItems)}}function I(le,Re){1&le&&t._uU(0," No se est\xe1 reproduciendo nada actualmente ")}function E(le,Re){if(1&le&&(t.TgZ(0,"div",2)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div",3)(4,"h2",4),t._uU(5,"Reproduciendo ahora"),t.qZA(),t.TgZ(6,"div",5),t.YNc(7,S,1,1,"ng-template",0),t.YNc(8,I,1,0,"ng-template",0),t.qZA()()()),2&le){const Y=t.oxw(3);t.xp6(2),t.hij("",Y.mediaServer.FamilyName?Y.mediaServer.FamilyName:Y.mediaServer.DeviceName," - Panel de Control"),t.xp6(5),t.Q6J("ngIf",Y.listItems&&Y.listItems.length>0),t.xp6(1),t.Q6J("ngIf",null==Y.listItems||0==Y.listItems.length)}}function L(le,Re){if(1&le&&t.YNc(0,E,9,3,"div",1),2&le){const Y=t.oxw(2);t.Q6J("ngIf",Y.mediaServer)}}function b(le,Re){if(1&le&&t._UZ(0,"app-server-connection-error",22),2&le){const Y=t.oxw(2);t.Q6J("mediaServer",Y.mediaServer)}}function B(le,Re){if(1&le&&(t.YNc(0,L,1,1,"ng-template",0),t.YNc(1,b,1,1,"ng-template",0)),2&le){const Y=t.oxw();t.Q6J("ngIf",Y.mediaServer&&Y.mediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",Y.mediaServer&&!Y.mediaServer.isSecureConnection)}}function Z(le,Re){1&le&&(t.TgZ(0,"div",23),t._UZ(1,"mat-spinner"),t.qZA())}let oe=(()=>{class le{constructor(Y,ae,G,De,ce,Te,be){this.commonService=Y,this.sharedDataService=ae,this.ref=G,this.router=De,this.activeRoute=ce,this.signalIrService=Te,this.dashboardService=be,this.loadingConnection=!0,this.subscription=new e.w0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscription.add(this.signalIrService.isAddedMediaFilePlayback().subscribe(Oe=>{this.mediaServer&&this.mediaServer.Guid==Oe.mediaServerGuid&&null==this.listItems.find(ye=>ye.Guid==Oe.mediaFilePlaybackGuid)&&this.dashboardService.GetListMediaFilePlayback(this.mediaServer.Url).then(ye=>{var Ce=ye.find(de=>de.Guid==Oe.mediaFilePlaybackGuid);Ce&&(this.listItems.push(Ce),this.ref.detectChanges())},ye=>{})})),this.subscription.add(this.signalIrService.isRemovedMediaFilePlayback().subscribe(Oe=>{if(this.mediaServer&&this.mediaServer.Guid==Oe.mediaServerGuid){var ie=this.listItems.findIndex(ye=>ye.Guid==Oe.mediaFilePlaybackGuid);-1!=ie&&(this.listItems.splice(ie,1),this.ref.detectChanges())}})),this.subscription.add(this.signalIrService.isUpdatingCurrentTimeMediaFilePlayBack().subscribe(Oe=>{if(this.mediaServer&&this.mediaServer.Guid==Oe.mediaServerGuid){var ie=this.listItems.find(ye=>ye.Guid==Oe.mediaFilePlaybackGuid);ie&&(ie.ClientData.CurrentTime=Oe.currentTime,ie.ClientData.IsPlaying=Oe.isPlaying,this.ref.detectChanges())}})),this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(Oe=>{this.mediaServer&&this.mediaServer.Guid==Oe&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.ref.detectChanges(),this.getAllItems())})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(Oe=>{this.mediaServer&&this.mediaServer.Guid==Oe&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)}))}ngOnInit(){var Y=this.activeRoute.snapshot.params.serverGuid,ae=this.sharedDataService.mediaServers.find(G=>G.Guid==Y);ae?(this.mediaServer=JSON.parse(JSON.stringify(ae)),ae.isSecureConnection?(this.loadingConnection=!1,this.getAllItems()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscription.unsubscribe()}getAllItems(){this.dashboardService.GetListMediaFilePlayback(this.mediaServer.Url).then(Y=>{this.listItems=Y},Y=>{})}getFormattedDuration(Y){var ae=parseInt(Y,10),G=Math.floor(ae/3600),De=Math.floor((ae-3600*G)/60);return 0==G?De+"min":G+"hr "+De+"min"}getPlayingMediaInfo(Y){var ae=this.getFormatTime(Y.CurrentTime),G=this.getFormatTime(Y.Duration);return(Y.IsPlaying?"Playing":"Paused")+" - "+ae+" / "+G}getFormatTime(Y){var ae=parseInt(Y,10),G=Math.floor(ae/3600),De=Math.floor((ae-3600*G)/60),ce=ae-3600*G-60*De;return G<10&&(G="0"+G),De<10&&(De="0"+De),ce<10&&(ce="0"+ce),G+":"+De+":"+ce}getWidthProgressItem(Y){return Y.CurrentTime/Y.Duration*100+"%"}getInitials(Y){return Y.substring(0,1)}static#e=this.\u0275fac=function(ae){return new(ae||le)(t.Y36(v.v),t.Y36(y.g),t.Y36(t.sBO),t.Y36(m.F0),t.Y36(m.gz),t.Y36(P.n),t.Y36(i))};static#t=this.\u0275cmp=t.Xpm({type:le,selectors:[["app-dashboard"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"playback-container"],[1,"items-playing-title"],[1,"cards-container"],["ngFor","",3,"ngForOf"],[1,"custom-card"],[1,"custom-card-item-content"],[3,"src"],[1,"custom-card-item-content-right"],[1,"custom-card-text-title"],["class","custom-card-text-subtitle",4,"ngIf"],[1,"custom-card-text-subtitle"],[1,"custom-card-client-content"],[1,"sinovad-item-progress-bar-container"],[1,"sinovad-item-progress-bar-content"],["class","custom-card-text-title",4,"ngIf"],[1,"custom-card-profile-content"],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],[1,"sinovad-initials-profile"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(ae,G){1&ae&&(t.YNc(0,B,2,2,"ng-template",0),t.YNc(1,Z,2,0,"ng-template",0)),2&ae&&(t.Q6J("ngIf",!G.loadingConnection),t.xp6(1),t.Q6J("ngIf",G.loadingConnection))},dependencies:[c.sg,c.O5,d.Ou,h.Z,c.Ov,p.A],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:650px!important}.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px;max-width:950px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}td[_ngcontent-%COMP%]{font-size:13px;padding:6px}div[_ngcontent-%COMP%]{font-size:13px}span[_ngcontent-%COMP%]{font-size:13px!important}.custom-card[_ngcontent-%COMP%]{display:block;color:#fff;width:280px;background-color:#00000026}.custom-card[_ngcontent-%COMP%]   .custom-card-item-content[_ngcontent-%COMP%]{display:flex}.custom-card[_ngcontent-%COMP%]   .custom-card-item-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:120px}.custom-card[_ngcontent-%COMP%]   .custom-card-item-content-right[_ngcontent-%COMP%]{padding:20px;display:block}.custom-card[_ngcontent-%COMP%]   .custom-card-text-subtitle[_ngcontent-%COMP%]{color:#ffffff73;margin-top:4px}.items-playing-title[_ngcontent-%COMP%]{font-size:20px}.custom-card-client-content[_ngcontent-%COMP%]{background-color:#2d3744}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#000}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:#007bff;height:100%}.custom-card-profile-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px}.sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;margin-left:10px;font-size:20px;margin-right:10px}.sinovad-initials-profile[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;border:1px solid white;display:flex;align-items:center;justify-content:center;font-size:30px}.cards-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;width:100%;color:#fff}.playback-container[_ngcontent-%COMP%]{border-top:1px solid #dedede}"]})}return le})()},3482:(Wn,Je,g)=>{"use strict";g.d(Je,{p:()=>C});var e=g(1476),t=g(2877),v=g(5313),y=g(7394),m=g(5879),P=g(7541),D=g(1367),f=g(5908),i=g(6814);function c(A,x){if(1&A&&(m.TgZ(0,"td",13),m._uU(1),m.ALo(2,"date"),m.qZA()),2&A){const R=x.$implicit;m.xp6(1),m.hij(" ",m.xi3(2,1,R.Created,"dd-MM-YYYY h:mm a")," ")}}function d(A,x){if(1&A&&(m.TgZ(0,"td",14),m._uU(1),m.qZA()),2&A){const R=x.$implicit;m.xp6(1),m.hij(" ",R.Description," ")}}function h(A,x){1&A&&m._UZ(0,"tr",15)}function p(A,x){1&A&&(m.TgZ(0,"tr",16)(1,"td",17),m._uU(2,"No se encontraron datos"),m.qZA()())}let C=(()=>{class A extends t.G{constructor(R,O,S,I,E){super(E),this.signalIRHubService=R,this.sharedDataService=O,this.router=S,this.activeRoute=I,this.matPaginatorIntl=E,this.subscription=new y.w0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscription.add(this.signalIRHubService.isUpdatingWebLogs().subscribe(L=>{this.getAllItems()}))}ngOnInit(){this.getAllItems()}ngAfterViewInit(){this.initializePaginator(),this.getAllItems()}ngOnDestroy(){this.subscription.unsubscribe()}getAllItems(){this.listItems=this.sharedDataService.webLogs.sort((R,O)=>new Date(R.Created).getTime()>new Date(O.Created).getTime()?-1:new Date(O.Created).getTime()>new Date(R.Created).getTime()?1:0),this.totalCount=this.listItems.length,this.dataSource=new v.by(this.listItems)}initializePaginator(){this.paginator.page.subscribe(R=>{this.updatePageData(R),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage}),this.dataSource.paginator=this.paginator}getDisplayedColumns(){return["Created","Description"]}static#e=this.\u0275fac=function(O){return new(O||A)(m.Y36(P.n),m.Y36(D.g),m.Y36(f.F0),m.Y36(f.gz),m.Y36(e.ye))};static#t=this.\u0275cmp=m.Xpm({type:A,selectors:[["app-log-page"]],viewQuery:function(O,S){if(1&O&&m.Gf(e.NW,5),2&O){let I;m.iGM(I=m.CRH())&&(S.paginator=I.first)}},features:[m.qOj],decls:17,vars:4,consts:[["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"row"],[1,"col-12"],[1,"custom-container"],[1,"custom-table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Created"],["mat-cell","","style","min-width:140px;width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","Description"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","hidePageSize"],["mat-cell","",2,"min-width","140px","width","140px","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(O,S){1&O&&(m.TgZ(0,"div",0)(1,"h2"),m._uU(2,"Sinovad Web - Logs"),m.qZA(),m.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"table",5),m.ynx(8,6),m.YNc(9,c,3,4,"td",7),m.BQk(),m.ynx(10,8),m.YNc(11,d,2,1,"td",9),m.BQk(),m.YNc(12,h,1,0,"tr",10),m.YNc(13,p,3,0,"tr",11),m.qZA()()()()(),m.TgZ(14,"div",1)(15,"div",2),m._UZ(16,"mat-paginator",12),m.qZA()()()),2&O&&(m.xp6(7),m.Q6J("dataSource",S.dataSource),m.xp6(5),m.Q6J("matRowDefColumns",S.getDisplayedColumns()),m.xp6(4),m.Q6J("color","primary")("hidePageSize",!0))},dependencies:[e.NW,v.BZ,v.w1,v.Dz,v.nj,v.ev,v.Gk,v.Ee,i.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:650px!important}.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:650px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}td[_ngcontent-%COMP%]{font-size:13px;padding:6px}div[_ngcontent-%COMP%]{font-size:13px}span[_ngcontent-%COMP%]{font-size:13px!important}"]})}return A})()},8923:(Wn,Je,g)=>{"use strict";g.d(Je,{k:()=>P});var e=g(7700),t=g(5879),v=g(6814);const y=function(D){return{disabled:D}};let P=(()=>{class D{constructor(i,c){this.dialog=i,this.options=c}closeDialog(){this.dialog.close(!1)}confirmDialog(){this.dialog.close(!0)}ngOnInit(){}static#e=this.\u0275fac=function(c){return new(c||D)(t.Y36(e.so),t.Y36(e.WI))};static#t=this.\u0275cmp=t.Xpm({type:D,selectors:[["app-custom-confirm-dialog"]],decls:24,vars:6,consts:[[1,"modal-container"],["role","document",1,"modal-dialog"],[1,"modal-backdrop"],[1,"modal-small"],[1,"modal-content"],[1,"modal-content-close-button",3,"click"],[1,"fa-solid","fa-xmark"],["mat-dialog-title","",1,"modal-header"],["mat-dialog-content","",1,"confirm-modal-body"],[1,"inner-modal-body"],[1,"confirm-modal-accord-label"],["type","checkbox",1,"confirm-message-accord-input"],["checkBox",""],["mat-dialog-actions","",1,"modal-footer"],[1,"modal-footer-button-bar"],[1,"confirm-modal-button","cancel",3,"click"],[1,"confirm-modal-button","confirm",3,"ngClass","click"],[1,"spinner-button-label"]],template:function(c,d){if(1&c&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),t.NdJ("click",function(){return d.closeDialog()}),t._UZ(6,"i",6),t.qZA(),t.TgZ(7,"div",7),t._uU(8),t.qZA(),t.TgZ(9,"div",8)(10,"div",9)(11,"p"),t._uU(12),t.qZA(),t.TgZ(13,"label",10),t._UZ(14,"input",11,12),t._uU(16),t.qZA()()(),t.TgZ(17,"div",13)(18,"div",14)(19,"button",15),t.NdJ("click",function(){return d.closeDialog()}),t._uU(20,"Cancelar"),t.qZA(),t.TgZ(21,"button",16),t.NdJ("click",function(){return d.confirmDialog()}),t.TgZ(22,"span",17),t._uU(23,"Eliminar"),t.qZA()()()()()()()()()),2&c){const h=t.MAs(15);t.xp6(8),t.hij(" ",d.options.title," "),t.xp6(4),t.Oqu(d.options.message),t.xp6(4),t.hij("",d.options.accordMessage," "),t.xp6(5),t.Q6J("ngClass",t.VKq(4,y,!h.checked))}},dependencies:[v.mk,e.uh,e.xY,e.H8],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return D})()},9604:(Wn,Je,g)=>{"use strict";g.d(Je,{dA:()=>f,fJ:()=>c});var e=g(6814),t=g(5879),v=g(2939);function y(d,h){1&d&&t._UZ(0,"i",4)}function m(d,h){1&d&&t._UZ(0,"i",5)}function P(d,h){1&d&&t._UZ(0,"i",6)}const D=function(d,h,p){return{success:d,info:h,error:p}};var f=function(d){return d[d.Success=1]="Success",d[d.Error=2]="Error",d[d.Info=3]="Info",d}(f||{});let c=(()=>{class d{constructor(p){this.toastOptions=p,this.snackBarRef=(0,t.f3M)(v.OX)}SnackBarType(){return f}static#e=this.\u0275fac=function(C){return new(C||d)(t.Y36(v.qD))};static#t=this.\u0275cmp=t.Xpm({type:d,selectors:[["app-custom-snack-bar"]],standalone:!0,features:[t.jDz],decls:5,vars:9,consts:[[1,"custom-toast",3,"ngClass"],["class","fa-solid fa-circle-check me-2",4,"ngIf"],["class","fa-solid fa-circle-info me-2",4,"ngIf"],["class","fa-solid fa-circle-xmark me-2",4,"ngIf"],[1,"fa-solid","fa-circle-check","me-2"],[1,"fa-solid","fa-circle-info","me-2"],[1,"fa-solid","fa-circle-xmark","me-2"]],template:function(C,A){1&C&&(t.TgZ(0,"div",0),t.YNc(1,y,1,0,"i",1),t.YNc(2,m,1,0,"i",2),t.YNc(3,P,1,0,"i",3),t._uU(4),t.qZA()),2&C&&(t.Q6J("ngClass",t.kEZ(5,D,A.toastOptions.snackBarType==A.SnackBarType().Success,A.toastOptions.snackBarType==A.SnackBarType().Info,A.toastOptions.snackBarType==A.SnackBarType().Error)),t.xp6(1),t.Q6J("ngIf",A.toastOptions.snackBarType==A.SnackBarType().Success),t.xp6(1),t.Q6J("ngIf",A.toastOptions.snackBarType==A.SnackBarType().Info),t.xp6(1),t.Q6J("ngIf",A.toastOptions.snackBarType==A.SnackBarType().Error),t.xp6(1),t.hij(" ",A.toastOptions.message,"\n"))},dependencies:[v.ZX,e.ez,e.mk,e.O5],styles:[".custom-toast[_ngcontent-%COMP%]{background:transparent;font-weight:500;width:100%;height:100%;display:flex;align-items:center}.custom-toast[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0;font-size:23px}.custom-toast.success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:green}.custom-toast.error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red}.custom-toast.info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#00f}"]})}return d})()},5220:(Wn,Je,g)=>{"use strict";g.d(Je,{D:()=>y});var e=g(5879),t=g(6814);function v(m,P){1&m&&(e.TgZ(0,"div")(1,"div")(2,"div",1)(3,"div",2)(4,"div",3),e._UZ(5,"div")(6,"div")(7,"div")(8,"div")(9,"div")(10,"div")(11,"div")(12,"div")(13,"div")(14,"div")(15,"div")(16,"div"),e.qZA()()()()())}let y=(()=>{class m{constructor(D,f){this.ref=D,this.viewContainerRef=f,this.showLoading=!1}ngOnInit(){}ngAfterViewInit(){}static#e=this.\u0275fac=function(f){return new(f||m)(e.Y36(e.sBO),e.Y36(e.s_b))};static#t=this.\u0275cmp=e.Xpm({type:m,selectors:[["app-custom-spinner"]],inputs:{showLoading:"showLoading"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"spinner-container"],[1,"sinovad-spinner-container"],[1,"lds-spinner"]],template:function(f,i){1&f&&e.YNc(0,v,17,0,"div",0),2&f&&e.Q6J("ngIf",i.showLoading)},dependencies:[t.O5],styles:['.spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;z-index:999;justify-content:center;background:rgba(0,0,0,.5)}.lds-spinner[_ngcontent-%COMP%]{color:official;display:inline-block;position:relative;width:80px;height:80px}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{transform-origin:40px 40px;animation:_ngcontent-%COMP%_lds-spinner 1.2s linear infinite}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;top:3px;left:37px;width:6px;height:18px;border-radius:20%;background:#fff}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0);animation-delay:-1.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg);animation-delay:-1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg);animation-delay:-.9s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg);animation-delay:-.8s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg);animation-delay:-.7s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg);animation-delay:-.6s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg);animation-delay:-.5s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg);animation-delay:-.4s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg);animation-delay:-.3s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg);animation-delay:-.2s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg);animation-delay:-.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg);animation-delay:0s}@keyframes _ngcontent-%COMP%_lds-spinner{0%{opacity:1}to{opacity:0}}']})}return m})()},8777:(Wn,Je,g)=>{"use strict";g.d(Je,{g:()=>p});var e=g(5879),t=g(863),v=g(4440),y=g.n(v),m=g(9429);let P=(()=>{class C{constructor(x){this.restProvider=x}getDirectoriesByMediaServer(x){return new Promise((R,O)=>{this.restProvider.executeHttpMethodByUrl(t.yw.GET,x+"/api/directories").then(S=>{R(S)},S=>{console.error(S),O(S)})})}getSubdirectoriesByMediaServerAndDirectoryPath(x,R){return new Promise((O,S)=>{var I=y().encode(R);this.restProvider.executeHttpMethodByUrl(t.yw.GET,x+"/api/directories/"+I).then(E=>{O(E)},E=>{console.error(E),S(E)})})}static#e=this.\u0275fac=function(R){return new(R||C)(e.LFG(m.C))};static#t=this.\u0275prov=e.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();var D=g(8726),f=g(6814);const i=function(C){return{"sinovad-directory-selected":C}};function c(C,A){if(1&C){const x=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){const S=e.CHM(x).$implicit,I=e.oxw();return e.KtG(I.onClickMainDirectory(S))}),e._uU(1),e.qZA()}if(2&C){const x=A.$implicit,R=e.oxw();e.Q6J("ngClass",e.VKq(2,i,R.selectedMainDirectory&&x.Name==R.selectedMainDirectory.Name)),e.xp6(1),e.hij(" ",x.Name," ")}}function d(C,A){if(1&C){const x=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(x);const O=e.oxw();return e.KtG(O.onClickBackFolder())}),e._uU(1," <= .. [Regresar] "),e.qZA()}}function h(C,A){if(1&C){const x=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){const S=e.CHM(x).$implicit,I=e.oxw();return e.KtG(I.onClickSubDirectory(S))}),e._uU(1),e.qZA()}if(2&C){const x=A.$implicit,R=e.oxw();e.Q6J("ngClass",e.VKq(2,i,R.selectedSubdirectory&&x.Name==R.selectedSubdirectory.Name)),e.xp6(1),e.hij(" ",x.Name," ")}}let p=(()=>{class C{constructor(x,R){this.directoryService=x,this.activeModal=R,this.listMainDirectories=[],this.listSubdirectoriesTmp=[]}ngOnInit(){this.getDirectories()}getDirectories(){this.directoryService.getDirectoriesByMediaServer(this.mediaServer.Url).then(x=>{this.listMainDirectories=JSON.parse(x);let R=this.listMainDirectories[0];this.selectedMainDirectory=R,this.getSubdirectoriesByPath(R)})}getSubdirectoriesByPath(x){this.directoryService.getSubdirectoriesByMediaServerAndDirectoryPath(this.mediaServer.Url,x.Path).then(R=>{this.listSubdirectoriesTmp=JSON.parse(R)},R=>{console.error(R)})}saveDirectory(){this.activeModal.close(this.getCurrentPath())}getCurrentPath(){return this.selectedSubdirectory?this.selectedSubdirectory.Path:this.selectedMainDirectory.Path}closeModal(){this.activeModal.dismiss()}onClickBackFolder(){this.selectedSubdirectory.ParentDirectory.IsMainDirectory?(this.selectedSubdirectory=void 0,this.getSubdirectoriesByPath(this.selectedMainDirectory)):(this.selectedSubdirectory=this.selectedSubdirectory.ParentDirectory,this.getSubdirectoriesByPath(this.selectedSubdirectory))}onClickMainDirectory(x){this.selectedMainDirectory=x,this.getSubdirectoriesByPath(this.selectedMainDirectory)}onClickSubDirectory(x){if(null==this.selectedSubdirectory)this.selectedSubdirectory=x,this.selectedSubdirectory.ParentDirectory=this.selectedMainDirectory;else{let R=JSON.parse(JSON.stringify(this.selectedSubdirectory));this.selectedSubdirectory=x,this.selectedSubdirectory.ParentDirectory=R}this.getSubdirectoriesByPath(this.selectedSubdirectory)}static#e=this.\u0275fac=function(R){return new(R||C)(e.Y36(P),e.Y36(D.Kz))};static#t=this.\u0275cmp=e.Xpm({type:C,selectors:[["app-directory-chooser"]],inputs:{mediaServer:"mediaServer"},decls:17,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[1,"sinovad-directory-chooser-content"],[1,"sinovad-main-directories-section"],["ngFor","",3,"ngForOf"],[1,"sinovad-subdirectories-section"],["class","sinovad-subdirectory-option",3,"click",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"sinovad-main-directory-option",3,"ngClass","click"],[1,"sinovad-subdirectory-option",3,"click"],[1,"sinovad-subdirectory-option",3,"ngClass","click"]],template:function(R,O){1&R&&(e.TgZ(0,"div",0)(1,"h5",1),e._uU(2,"Seleccionar directorio"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return O.closeModal()}),e._UZ(4,"i",3),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"div",6),e.YNc(8,c,2,4,"ng-template",7),e.qZA(),e.TgZ(9,"div",8),e.YNc(10,d,2,0,"button",9),e.YNc(11,h,2,4,"ng-template",7),e.qZA()()(),e.TgZ(12,"div",10)(13,"button",11),e.NdJ("click",function(){return O.closeModal()}),e._uU(14,"Close"),e.qZA(),e.TgZ(15,"button",12),e.NdJ("click",function(){return O.saveDirectory()}),e._uU(16,"Guardar"),e.qZA()()),2&R&&(e.xp6(8),e.Q6J("ngForOf",O.listMainDirectories),e.xp6(2),e.Q6J("ngIf",O.selectedSubdirectory),e.xp6(1),e.Q6J("ngForOf",O.listSubdirectoriesTmp))},dependencies:[f.mk,f.sg,f.O5],styles:["[_nghost-%COMP%]{background:rgba(17,17,17,.65);padding:20px}.modal-body[_ngcontent-%COMP%]{height:100%;display:flex}.sinovad-directory-chooser-container[_ngcontent-%COMP%]{display:block;background-color:#282828;color:#000;width:400px;height:500px;border:1px solid #dedede;border-radius:5px;padding:20px}.sinovad-main-directories-section[_ngcontent-%COMP%]{display:block;width:50%;padding-right:20px}.sinovad-subdirectories-section[_ngcontent-%COMP%]{display:block;width:50%;overflow-x:hidden;overflow-y:auto;padding-left:10px;height:100%}.sinovad-directory-chooser-content[_ngcontent-%COMP%]{display:flex;width:100%;background:black}.sinovad-main-directory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-main-directory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-subdirectory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-subdirectory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-directory-chooser-header[_ngcontent-%COMP%]{display:block;float:right;width:100%}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;background:transparent;border:0;outline:none;cursor:pointer;font-size:20px;color:#fff;opacity:.7}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-directory-selected[_ngcontent-%COMP%]{border-left:4px solid #007bff;padding-left:6px;background-color:#ffffff0d;opacity:1}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]{display:inline-block;width:100%}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   .sinovad-directory-chooser-footer-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;color:#fff;background:#F18307;border:none;border-radius:5px;font-weight:700;cursor:pointer}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]{display:inline-block;padding:10px 0;width:100%;height:50px}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border-radius:5px;width:100%;padding:6px 10px}"]})}return C})()},3630:(Wn,Je,g)=>{"use strict";g.d(Je,{y:()=>p});var e=g(5879),t=g(5908),v=g(5731),y=g(1367),m=g(6814),P=g(1531);function D(C,A){if(1&C&&(e.TgZ(0,"div",23)(1,"div",24),e._UZ(2,"div",25),e.qZA()()),2&C){const x=e.oxw().$implicit,R=e.MAs(2),O=e.oxw(3);e.xp6(1),e.Udp("width",R.clientWidth-8+"px"),e.xp6(1),e.Udp("width",O.getWidthProgressItem(x))}}function f(C,A){if(1&C&&(e.TgZ(0,"div",26)(1,"span"),e._uU(2),e.qZA()()),2&C){const x=e.oxw().$implicit;e.xp6(2),e.Oqu(x.Title)}}function i(C,A){if(1&C&&(e.TgZ(0,"div")(1,"div",27)(2,"span"),e._uU(3),e.qZA()()()),2&C){const x=e.oxw().$implicit;e.xp6(3),e.AsE("",x.Title," ",x.Subtitle,"")}}function c(C,A){if(1&C){const x=e.EpF();e.TgZ(0,"div",16)(1,"button",17,18),e.NdJ("click",function(){const S=e.CHM(x).$implicit,I=e.oxw(3);return e.KtG(I.onClickItem(S))}),e._UZ(3,"img",19),e.YNc(4,D,3,4,"ng-template",20),e.qZA(),e.YNc(5,f,3,1,"div",21),e.YNc(6,i,4,2,"div",22),e.qZA()}if(2&C){const x=A.$implicit,R=e.oxw(2).$implicit,O=e.oxw();e.xp6(1),e.hYB("id","item_",R.Id,"_",x.MediaItemId,""),e.xp6(2),e.Q6J("src",O.commonService.getUrlByItemMovieDataBase(x),e.LSH),e.xp6(1),e.Q6J("ngIf",x.CurrentTime&&x.DurationTime),e.xp6(1),e.Q6J("ngIf",!x.Subtitle),e.xp6(1),e.Q6J("ngIf",x.Subtitle)}}function d(C,A){if(1&C){const x=e.EpF();e.TgZ(0,"section",3)(1,"div",4)(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"div",5)(5,"div",6)(6,"div",7,8),e.NdJ("click",function(){e.CHM(x);const O=e.MAs(12),S=e.MAs(7),I=e.MAs(18),E=e.oxw(2);return e.KtG(E.onClickButtonLeftScroll(O,S,I))}),e._UZ(8,"img",9),e.ALo(9,"async"),e.ALo(10,"formatDataPipe"),e.qZA()(),e.TgZ(11,"div",10,11)(13,"div",12,13),e.YNc(15,c,7,6,"ng-template",1),e.qZA()(),e.TgZ(16,"div",6)(17,"div",14,15),e.NdJ("click",function(){e.CHM(x);const O=e.MAs(12),S=e.MAs(7),I=e.MAs(18),E=e.oxw(2);return e.KtG(E.onClickButtonRightScroll(O,S,I))}),e._UZ(19,"img",9),e.ALo(20,"async"),e.ALo(21,"formatDataPipe"),e.qZA()()()()}if(2&C){const x=e.oxw().$implicit;e.MGl("id","section_",x.Id,""),e.xp6(3),e.Oqu(x.Name),e.xp6(5),e.Q6J("src",e.lcZ(9,5,e.xi3(10,7,"scroll-left.png","GetIconURLByKey")),e.LSH),e.xp6(7),e.Q6J("ngForOf",x.ListItems),e.xp6(4),e.Q6J("src",e.lcZ(20,10,e.xi3(21,12,"scroll-right.png","GetIconURLByKey")),e.LSH)}}function h(C,A){if(1&C&&e.YNc(0,d,22,15,"section",2),2&C){const x=A.$implicit;e.Q6J("ngIf",x.ListItems&&x.ListItems.length>0)}}let p=(()=>{class C{constructor(x,R,O,S,I){this.activeRoute=x,this.router=R,this.ref=O,this.commonService=S,this.sharedDataService=I,this.itemsGroupList=[]}getWidthProgressItem(x){return x.CurrentTime/x.DurationTime*100+"%"}onClickButtonLeftScroll(x,R,O){x.scrollLeft=x.scrollLeft-300,this.verifyIfShoOrHiddenScrollButtons(x,R,O)}onClickButtonRightScroll(x,R,O){x.scrollLeft=x.scrollLeft+300,this.verifyIfShoOrHiddenScrollButtons(x,R,O)}verifyIfShoOrHiddenScrollButtons(x,R,O){R.style.display=x.scrollLeft<=0?"none":"flex",O.style.display=x.scrollWidth==x.scrollLeft+x.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(x,R,O){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(x,R,O)},250)}onClickItem(x){x.ContinueVideo?this.continueVideoByItem(x):this.getMediaItemDetail(x)}getMediaItemDetail(x){var R=this.sharedDataService.mediaServers.find(O=>O.Id==x.MediaServerId);this.router.navigateByUrl("/media/server/"+R.Guid+"/libraries/"+x.LibraryId+"/detail?mediaType="+x.MediaTypeId+"&mediaId="+x.MediaItemId)}continueVideoByItem(x){var R=this.sharedDataService.mediaServers.find(O=>O.Id==x.MediaServerId);this.router.navigateByUrl("/media/server/"+R.Guid+"/video/"+x.FileId)}static#e=this.\u0275fac=function(R){return new(R||C)(e.Y36(t.gz),e.Y36(t.F0),e.Y36(e.sBO),e.Y36(v.v),e.Y36(y.g))};static#t=this.\u0275cmp=e.Xpm({type:C,selectors:[["app-media-items"]],inputs:{itemsGroupList:"itemsGroupList"},decls:2,vars:3,consts:[[1,"sinovad-list-container","sinovad-custom-container"],["ngFor","",3,"ngForOf"],["tabindex","0",3,"id",4,"ngIf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-title"],[1,"sinovad-list-row-container"],[2,"width","0px","height","0px"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[3,"src"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["itemContainer",""],["referrerpolicy","no-referrer","onError","this.src='assets/img/no-image-available.jpg'",3,"src"],[3,"ngIf"],["class","sinovad-item-caption-container",4,"ngIf"],[4,"ngIf"],[1,"sinovad-item-progress-bar-absolute-container"],[1,"sinovad-item-progress-bar-container"],[1,"sinovad-item-progress-bar-content"],[1,"sinovad-item-caption-container"],[1,"sinovad-item-title-caption-container"]],template:function(R,O){1&R&&(e.TgZ(0,"div",0),e.YNc(1,h,1,1,"ng-template",1),e.qZA()),2&R&&(e.Udp("height","100%"),e.xp6(1),e.Q6J("ngForOf",O.itemsGroupList))},dependencies:[m.sg,m.O5,m.Ov,P.A],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovadclient-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:9999;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}.sinovadclient-title-section[_ngcontent-%COMP%]{margin:10px 10px 10px 16px;font-size:30px;font-weight:700}.sinovadclient-section[_ngcontent-%COMP%]{margin:10px}.sinovad-item-container[_ngcontent-%COMP%]{padding-right:10px;width:min-content;margin:6px;border-radius:6px}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#000;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-vertical-list-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;overflow-y:auto;overflow-x:hidden}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-item-title-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-item-subtitle-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:400;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-list-container[_ngcontent-%COMP%]{padding:20px;overflow-x:hidden;overflow-y:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:220px;top:6px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;font-family:sans-serif;padding:0 0 0 8px}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:220px;top:6px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover, .sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2);opacity:.6}.sinovad-item-progress-bar-absolute-container[_ngcontent-%COMP%]{width:0px;height:0px;margin-bottom:9px}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:-9px;margin-left:4px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%]{display:none!important}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:170px;width:170px;height:220px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:20px}@media only screen and (min-width: 2048px){.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return C})()},1444:(Wn,Je,g)=>{"use strict";g.d(Je,{Z:()=>t});var e=g(5879);let t=(()=>{class v{constructor(){}static#e=this.\u0275fac=function(P){return new(P||v)};static#t=this.\u0275cmp=e.Xpm({type:v,selectors:[["app-server-connection-error"]],inputs:{mediaServer:"mediaServer"},decls:5,vars:1,consts:[[1,"server-error-page-container"],[1,"server-error-page-content"],[1,"server-error-message-title"],[1,"server-error-message-description"]],template:function(P,D){1&P&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3),e.qZA(),e._UZ(4,"div",3),e.qZA()()),2&P&&(e.xp6(3),e.hij(" No se puede conectar a ",D.mediaServer.FamilyName?D.mediaServer.FamilyName:D.mediaServer.DeviceName," "))}})}return v})()},9223:(Wn,Je,g)=>{"use strict";g.d(Je,{_:()=>t});var e=g(5879);let t=(()=>{class v{constructor(m){this.elementRef=m,this.clickOutside=new e.vpe}ngOnInit(){}ngAfterViewInit(){}onClick(m,P){P&&(this.elementRef.nativeElement.contains(P)||this.clickOutside.emit(m))}onContextMenu(){console.log("contextmenu")}static#e=this.\u0275fac=function(P){return new(P||v)(e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:v,selectors:[["","clickOutside",""]],hostBindings:function(P,D){1&P&&e.NdJ("click",function(i){return D.onClick(i,i.target)},!1,e.Jf7)("contextmenu",function(){return D.onContextMenu()})},outputs:{clickOutside:"clickOutside"}})}return v})()},863:(Wn,Je,g)=>{"use strict";g.d(Je,{DD:()=>v,DM:()=>i,G7:()=>h,Ln:()=>y,NK:()=>d,O5:()=>f,P9:()=>e,jP:()=>c,yw:()=>D});var e=function(p){return p[p.MediaServerState=1]="MediaServerState",p[p.MediaType=2]="MediaType",p[p.VideoTransmissionType=3]="VideoTransmissionType",p[p.TranscoderPreset=4]="TranscoderPreset",p[p.IconTypes=5]="IconTypes",p[p.LinkedAccountProvider=6]="LinkedAccountProvider",p}(e||{}),v=function(p){return p[p.Movie=1]="Movie",p[p.TvSerie=2]="TvSerie",p[p.Music=3]="Music",p[p.Photo=4]="Photo",p[p.Other=5]="Other",p}(v||{}),y=function(p){return p[p.None=1]="None",p[p.MPEGDASH=2]="MPEGDASH",p[p.HLS=3]="HLS",p}(y||{}),D=function(p){return p[p.GET=0]="GET",p[p.POST=1]="POST",p[p.PUT=2]="PUT",p[p.DELETE=3]="DELETE",p}(D||{}),f=function(p){return p[p.Empty=0]="Empty",p[p.Generated=1]="Generated",p[p.Initialized=2]="Initialized",p[p.LoadedMetada=3]="LoadedMetada",p[p.LoadedData=4]="LoadedData",p}(f||{}),i=function(p){return p[p.SinovadDb=1]="SinovadDb",p[p.TMDb=2]="TMDb",p[p.IMDb=3]="IMDb",p}(i||{}),c=function(p){return p[p.Google=1]="Google",p[p.Facebook=2]="Facebook",p[p.Apple=3]="Apple",p}(c||{}),d=function(p){return p[p.Ok=1]="Ok",p[p.Plus=2]="Plus",p[p.Bin=3]="Bin",p[p.Bullhorn=4]="Bullhorn",p[p.Tags=5]="Tags",p}(d||{}),h=function(p){return p[p.MainAdministrator=1]="MainAdministrator",p[p.MediaDbAdministrator=2]="MediaDbAdministrator",p}(h||{})},5550:(Wn,Je,g)=>{"use strict";g.d(Je,{n:()=>e});class e{isErrorState(v,y){return!!(v&&v.invalid&&(v.dirty||v.touched||y&&y.submitted))}}},2877:(Wn,Je,g)=>{"use strict";g.d(Je,{G:()=>v});var e=g(8337),t=g(5313);class v{constructor(m){this.matPaginatorIntl=m,this.showLoading=!0,this.dataSource=new t.by,this.selection=new e.Ov(!0,[]),this.itemsPerPage=10,this.currentPage=1,this.listItems=[],this.sortBy="Id",this.sortDirection="asc",this.searchText="",this.searchBy="",this.matPaginatorIntl.itemsPerPageLabel="Items por p\xe1gina",this.matPaginatorIntl.previousPageLabel="P\xe1gina anterior",this.matPaginatorIntl.nextPageLabel="P\xe1gina siguiente"}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}updatePageData(m){this.itemsPerPage=m.pageSize,this.currentPage=m.pageIndex+1}getElementNumber(m,P,D){return m+1+(P-1)*D}onChangeCheckValue(m,P){let D=m.target.checked;if(D?this.selection.select(P):this.selection.deselect(P),m.shiftKey&&this.lastSelectedItem){let i=0;this.selection.hasValue()&&this.lastSelectedItem&&(i=this.listItems.indexOf(this.lastSelectedItem));let c=this.listItems.indexOf(P);if(D){var f;(f=this.listItems.filter(c>=i?d=>this.listItems.indexOf(d)<=c&&this.listItems.indexOf(d)>=i&&!this.selection.isSelected(d):d=>this.listItems.indexOf(d)>=c&&this.listItems.indexOf(d)<=i&&!this.selection.isSelected(d)))&&f.length>0&&this.selection.select(...f)}else{let d=[];d=this.listItems.filter(c>=i?h=>this.listItems.indexOf(h)<=c&&this.listItems.indexOf(h)>=i&&this.selection.isSelected(h):h=>this.listItems.indexOf(h)>=c&&this.listItems.indexOf(h)<=i&&this.selection.isSelected(h)),d&&d.length>0&&this.selection.deselect(...d)}}this.lastSelectedItem=P}}},1531:(Wn,Je,g)=>{"use strict";g.d(Je,{A:()=>y});var e=g(5879),t=g(6593),v=g(1367);let y=(()=>{class m{constructor(D,f){this.domSanitizer=D,this.sharedDataService=f}transform(D,...f){return new Promise((i,c)=>{let h;switch(null!=f[0]?f[0]:""){case"GetIconURLByKey":null!=D&&""!=D&&(h=this.sharedDataService.configurationData.developerMode?"assets/icon/"+D:this.sharedDataService.urlSinovadCdn+"/assets/icon/"+D,i(h));break;case"GetAvatarImageURLByProfileId":null!=D&&""!=D&&fetch(this.sharedDataService.urlSinovadStreamWebApi+"/api/v1/documents/GetAvatarProfile/"+D).then(C=>C.blob()).then(C=>{h=this.domSanitizer.bypassSecurityTrustUrl(URL.createObjectURL(C)),i(h)});break;case"GetSoundUrlByKey":null!=D&&""!=D&&(h=this.sharedDataService.configurationData.developerMode?"assets/sound/"+D:this.sharedDataService.urlSinovadCdn+"/assets/sound/"+D,i(h))}})}static#e=this.\u0275fac=function(f){return new(f||m)(e.Y36(t.H7,16),e.Y36(v.g,16))};static#t=this.\u0275pipe=e.Yjl({name:"formatDataPipe",type:m,pure:!0})}return m})()},3931:(Wn,Je,g)=>{"use strict";g.d(Je,{c:()=>y});var e=g(2939),t=g(9604),v=g(5879);let y=(()=>{class m{constructor(D){this.snackBar=D}showSnackBar(D,f){var i=new e.u_;i.duration=2e3,i.data={message:D,snackBarType:f},this.snackBar.openFromComponent(t.fJ,i)}static#e=this.\u0275fac=function(f){return new(f||m)(v.LFG(e.ux))};static#t=this.\u0275prov=v.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},7102:(Wn,Je,g)=>{"use strict";g.d(Je,{m:()=>Ce});var e=g(6814),t=g(1476),v=g(7700),y=g(2939),m=g(5313),P=g(2032),D=g(4170),f=g(3566),i=g(5986),c=g(5940),d=g(2596),h=g(3680),p=g(8525),C=g(8034),A=g(5879);let ie=(()=>{class de{static#e=this.\u0275fac=function(Ie){return new(Ie||de)};static#t=this.\u0275mod=A.oAB({type:de});static#n=this.\u0275inj=A.cJS({imports:[h.BQ,e.ez,h.BQ]})}return de})(),ye=(()=>{class de{static#e=this.\u0275fac=function(Ie){return new(Ie||de)};static#t=this.\u0275mod=A.oAB({type:de});static#n=this.\u0275inj=A.cJS({imports:[e.ez,t.TU,v.Is,y.ZX,m.p0,P.c,D.lN,f.JX,i.p9,c.Cq,d.AV,h.Ng,p.LD,C.FA,h.XK,ie,t.TU,v.Is,y.ZX,m.p0,P.c,D.lN,f.JX,i.p9,c.Cq,d.AV,h.Ng,p.LD,C.FA,h.XK,ie]})}return de})(),Ce=(()=>{class de{static#e=this.\u0275fac=function(Ie){return new(Ie||de)};static#t=this.\u0275mod=A.oAB({type:de});static#n=this.\u0275inj=A.cJS({imports:[e.ez,ye,e.ez,ye]})}return de})()},5731:(Wn,Je,g)=>{"use strict";g.d(Je,{v:()=>y});var e=g(863),t=g(5879),v=g(1367);let y=(()=>{class m{constructor(D){this.sharedDataService=D}formatDate(D){const f=new Date(D);let i=""+(f.getMonth()+1),c=""+f.getDate();const d=f.getFullYear();return i.length<2&&(i="0"+i),c.length<2&&(c="0"+c),[d,i,c].join("-")}getInitials(D){return D.FullName.substring(0,1)}delay(D){return new Promise(f=>setTimeout(f,D))}hasRequireErrorFormControl(D,f){return!!D.controls[f].errors.required}isInvalidFormControl(D,f){return!(!D.controls[f].invalid||!D.controls[f].dirty&&!D.controls[f].touched)}hasErrorPatternFormControl(D,f){return!!D.controls[f].errors.pattern}isSmallDevice(){return window.innerWidth<=768}isMobileDevice(){return"ontouchstart"in window}getUrlByItemMovieDataBase(D){if(D.MetadataAgentsId==e.DM.TMDb)return this.sharedDataService.originalUrlImagesMovieDataBase+D.PosterPath;if(D.PosterPath)return D.PosterPath;var f=this.sharedDataService.mediaServers.find(i=>i.Id==D.MediaServerId);return f?f.Url+"/media/"+D.MediaFileGuid+"/thumbnail.png":"assets/img/no-image-available.jpg"}isHttpsSite(){return!!window.location.origin.startsWith("https")}static#e=this.\u0275fac=function(f){return new(f||m)(t.LFG(v.g))};static#t=this.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},9429:(Wn,Je,g)=>{"use strict";g.d(Je,{C:()=>m});var e=g(9862),t=g(863),v=g(5879),y=g(1367);let m=(()=>{class P{constructor(f,i){this.http=f,this.sharedDataService=i}performExecuteMethod(f,i,c){return new Promise((d,h)=>{try{let p={responseType:"text"};if(this.sharedDataService.apiToken){const A=new e.WM({"Content-Type":"application/json",Authorization:"Bearer "+this.sharedDataService.apiToken});p.headers=A}f==t.yw.GET&&this.http.get(i,p).subscribe(C=>{d(C)},C=>{h(C)}),f==t.yw.POST&&this.http.post(i,c,p).subscribe(C=>{d(C)},C=>{h(C)}),f==t.yw.PUT&&this.http.put(i,c,p).subscribe(C=>{d(C)},C=>{h(C)}),f==t.yw.DELETE&&this.http.delete(i,p).subscribe(C=>{d(C)},C=>{h(C)})}catch(p){h(p)}})}executeSinovadApiService(f,i,c){let d=this.sharedDataService.urlSinovadStreamWebApi+"/api/v1"+i;return new Promise((h,p)=>{try{this.performExecuteMethod(f,d,c).then(C=>{h(JSON.parse(C))},C=>{let A=C;if(null!=C.error){A=C.error;try{var x=JSON.parse(A);if(x.errors){let O=x.errors,S=[];Object.keys(O).map(I=>{var E=O[I].join("\n");S.push(E)}),A=S.join("\n")}else x.Errors?A=x.Errors.map(O=>O.ErrorMessage).join("\n"):x.Message&&(A=x.Message)}catch{}}401==C.status&&this.sharedDataService.apiToken&&(this.sharedDataService.apiToken=void 0,localStorage.removeItem("apiToken"),window.location.href="/"),console.error(A),p(A)})}catch(C){p(C)}})}executeHttpMediaServerApi(f,i,c){return new Promise((d,h)=>{try{this.performExecuteMethod(f,i,c).then(p=>{try{d(JSON.parse(p))}catch(C){h(C)}},p=>{h(p)})}catch(p){h(p)}})}executeHttpMethodByUrl(f,i,c){return new Promise((d,h)=>{this.performExecuteMethod(f,i,c).then(p=>{d(p)},p=>{h(p)})})}executeHttpPostMethodWithFormData(f,i){let c=this.sharedDataService.urlSinovadStreamWebApi+"/api/v1"+f;return new Promise((d,h)=>{let p={responseType:"text"};if(this.sharedDataService.apiToken){const A=new e.WM({Accept:"*/*",Authorization:"Bearer "+this.sharedDataService.apiToken});p.headers=A}this.http.post(c,i,p).subscribe(C=>{d(C)},C=>{h(C)})})}static#e=this.\u0275fac=function(i){return new(i||P)(v.LFG(e.eN),v.LFG(y.g))};static#t=this.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},1367:(Wn,Je,g)=>{"use strict";g.d(Je,{g:()=>v});class e{}var t=g(5879);let v=(()=>{class y{constructor(){this.showSplashScreen=!0,this.urlSinovadStreamWebApi="https://streamapi.sinovad.com",this.urlSinovadCdn="https://resources.sinovad.com/stream/web",this.originalUrlImagesMovieDataBase="https://image.tmdb.org/t/p/w600_and_h900_bestv2",this.urlEpisodeDataBase="https://www.themoviedb.org/t/p/w454_and_h254_bestv2",this.configurationData=new e,this.listProfiles=[],this.manageMenus=[],this.mediaServers=[],this.roles=[],this.linkedAccounts=[],this.hubLog=[],this.webLogs=[]}static#e=this.\u0275fac=function(D){return new(D||y)};static#t=this.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})()},7541:(Wn,Je,g)=>{"use strict";g.d(Je,{n:()=>yt});const e=[0,2e3,1e4,3e4,null];class t{constructor(me){this._retryDelays=void 0!==me?[...me,null]:e}nextRetryDelayInMilliseconds(me){return this._retryDelays[me.previousRetryCount]}}var v=g(5861);let y=(()=>{class Et{}return Et.Authorization="Authorization",Et.Cookie="Cookie",Et})();class m{constructor(me,We,Tt){this.statusCode=me,this.statusText=We,this.content=Tt}}class P{get(me,We){return this.send({...We,method:"GET",url:me})}post(me,We){return this.send({...We,method:"POST",url:me})}delete(me,We){return this.send({...We,method:"DELETE",url:me})}getCookieString(me){return""}}class D extends P{constructor(me,We){super(),this._innerClient=me,this._accessTokenFactory=We}send(me){var We=this;return(0,v.Z)(function*(){let Tt=!0;We._accessTokenFactory&&(!We._accessToken||me.url&&me.url.indexOf("/negotiate?")>0)&&(Tt=!1,We._accessToken=yield We._accessTokenFactory()),We._setAuthorizationHeader(me);const Kt=yield We._innerClient.send(me);return Tt&&401===Kt.statusCode&&We._accessTokenFactory?(We._accessToken=yield We._accessTokenFactory(),We._setAuthorizationHeader(me),yield We._innerClient.send(me)):Kt})()}_setAuthorizationHeader(me){me.headers||(me.headers={}),this._accessToken?me.headers[y.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&me.headers[y.Authorization]&&delete me.headers[y.Authorization]}getCookieString(me){return this._innerClient.getCookieString(me)}}class f extends Error{constructor(me,We){const Tt=new.target.prototype;super(`${me}: Status code '${We}'`),this.statusCode=We,this.__proto__=Tt}}class i extends Error{constructor(me="A timeout occurred."){const We=new.target.prototype;super(me),this.__proto__=We}}class c extends Error{constructor(me="An abort occurred."){const We=new.target.prototype;super(me),this.__proto__=We}}class d extends Error{constructor(me,We){const Tt=new.target.prototype;super(me),this.transport=We,this.errorType="UnsupportedTransportError",this.__proto__=Tt}}class h extends Error{constructor(me,We){const Tt=new.target.prototype;super(me),this.transport=We,this.errorType="DisabledTransportError",this.__proto__=Tt}}class p extends Error{constructor(me,We){const Tt=new.target.prototype;super(me),this.transport=We,this.errorType="FailedToStartTransportError",this.__proto__=Tt}}class C extends Error{constructor(me){const We=new.target.prototype;super(me),this.errorType="FailedToNegotiateWithServerError",this.__proto__=We}}class A extends Error{constructor(me,We){const Tt=new.target.prototype;super(me),this.innerErrors=We,this.__proto__=Tt}}var x=function(Et){return Et[Et.Trace=0]="Trace",Et[Et.Debug=1]="Debug",Et[Et.Information=2]="Information",Et[Et.Warning=3]="Warning",Et[Et.Error=4]="Error",Et[Et.Critical=5]="Critical",Et[Et.None=6]="None",Et}(x||{});class R{constructor(){}log(me,We){}}R.instance=new R;const O="7.0.10";class S{static isRequired(me,We){if(null==me)throw new Error(`The '${We}' argument is required.`)}static isNotEmpty(me,We){if(!me||me.match(/^\s*$/))throw new Error(`The '${We}' argument should not be empty.`)}static isIn(me,We,Tt){if(!(me in We))throw new Error(`Unknown ${Tt} value: ${me}.`)}}class I{static get isBrowser(){return"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return"object"==typeof self&&"importScripts"in self}static get isReactNative(){return"object"==typeof window&&typeof window.document>"u"}static get isNode(){return!this.isBrowser&&!this.isWebWorker&&!this.isReactNative}}function E(Et,me){let We="";return b(Et)?(We=`Binary data of length ${Et.byteLength}`,me&&(We+=`. Content: '${function L(Et){const me=new Uint8Array(Et);let We="";return me.forEach(Tt=>{We+=`0x${Tt<16?"0":""}${Tt.toString(16)} `}),We.substr(0,We.length-1)}(Et)}'`)):"string"==typeof Et&&(We=`String data of length ${Et.length}`,me&&(We+=`. Content: '${Et}'`)),We}function b(Et){return Et&&typeof ArrayBuffer<"u"&&(Et instanceof ArrayBuffer||Et.constructor&&"ArrayBuffer"===Et.constructor.name)}function B(Et,me,We,Tt,Kt,Jt){return Z.apply(this,arguments)}function Z(){return(Z=(0,v.Z)(function*(Et,me,We,Tt,Kt,Jt){const Xt={},[un,fn]=Y();Xt[un]=fn,Et.log(x.Trace,`(${me} transport) sending data. ${E(Kt,Jt.logMessageContent)}.`);const It=b(Kt)?"arraybuffer":"text",vt=yield We.post(Tt,{content:Kt,headers:{...Xt,...Jt.headers},responseType:It,timeout:Jt.timeout,withCredentials:Jt.withCredentials});Et.log(x.Trace,`(${me} transport) request complete. Response status: ${vt.statusCode}.`)})).apply(this,arguments)}class le{constructor(me,We){this._subject=me,this._observer=We}dispose(){const me=this._subject.observers.indexOf(this._observer);me>-1&&this._subject.observers.splice(me,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(We=>{})}}class Re{constructor(me){this._minLevel=me,this.out=console}log(me,We){if(me>=this._minLevel){const Tt=`[${(new Date).toISOString()}] ${x[me]}: ${We}`;switch(me){case x.Critical:case x.Error:this.out.error(Tt);break;case x.Warning:this.out.warn(Tt);break;case x.Information:this.out.info(Tt);break;default:this.out.log(Tt)}}}}function Y(){let Et="X-SignalR-User-Agent";return I.isNode&&(Et="User-Agent"),[Et,ae(O,G(),I.isNode?"NodeJS":"Browser",De())]}function ae(Et,me,We,Tt){let Kt="Microsoft SignalR/";const Jt=Et.split(".");return Kt+=`${Jt[0]}.${Jt[1]}`,Kt+=` (${Et}; `,Kt+=me&&""!==me?`${me}; `:"Unknown OS; ",Kt+=`${We}`,Kt+=Tt?`; ${Tt}`:"; Unknown Runtime Version",Kt+=")",Kt}function G(){if(!I.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function De(){if(I.isNode)return process.versions.node}function Te(Et){return Et.stack?Et.stack:Et.message?Et.message:`${Et}`}class Oe extends P{constructor(me){if(super(),this._logger=me,typeof fetch>"u"){const We=require;this._jar=new(We("tough-cookie").CookieJar),this._fetchType=We("node-fetch"),this._fetchType=We("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function be(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}());if(typeof AbortController>"u"){const We=require;this._abortControllerType=We("abort-controller")}else this._abortControllerType=AbortController}send(me){var We=this;return(0,v.Z)(function*(){if(me.abortSignal&&me.abortSignal.aborted)throw new c;if(!me.method)throw new Error("No method defined.");if(!me.url)throw new Error("No url defined.");const Tt=new We._abortControllerType;let Kt;me.abortSignal&&(me.abortSignal.onabort=()=>{Tt.abort(),Kt=new c});let Xt,Jt=null;me.timeout&&(Jt=setTimeout(()=>{Tt.abort(),We._logger.log(x.Warning,"Timeout from HTTP request."),Kt=new i},me.timeout)),""===me.content&&(me.content=void 0),me.content&&(me.headers=me.headers||{},me.headers["Content-Type"]=b(me.content)?"application/octet-stream":"text/plain;charset=UTF-8");try{Xt=yield We._fetchType(me.url,{body:me.content,cache:"no-cache",credentials:!0===me.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...me.headers},method:me.method,mode:"cors",redirect:"follow",signal:Tt.signal})}catch(It){throw Kt||(We._logger.log(x.Warning,`Error from HTTP request. ${It}.`),It)}finally{Jt&&clearTimeout(Jt),me.abortSignal&&(me.abortSignal.onabort=null)}if(!Xt.ok){const It=yield ie(Xt,"text");throw new f(It||Xt.statusText,Xt.status)}const fn=yield ie(Xt,me.responseType);return new m(Xt.status,Xt.statusText,fn)})()}getCookieString(me){let We="";return I.isNode&&this._jar&&this._jar.getCookies(me,(Tt,Kt)=>We=Kt.join("; ")),We}}function ie(Et,me){let We;switch(me){case"arraybuffer":We=Et.arrayBuffer();break;case"text":default:We=Et.text();break;case"blob":case"document":case"json":throw new Error(`${me} is not supported.`)}return We}class ye extends P{constructor(me){super(),this._logger=me}send(me){return me.abortSignal&&me.abortSignal.aborted?Promise.reject(new c):me.method?me.url?new Promise((We,Tt)=>{const Kt=new XMLHttpRequest;Kt.open(me.method,me.url,!0),Kt.withCredentials=void 0===me.withCredentials||me.withCredentials,Kt.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===me.content&&(me.content=void 0),me.content&&(b(me.content)?Kt.setRequestHeader("Content-Type","application/octet-stream"):Kt.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const Jt=me.headers;Jt&&Object.keys(Jt).forEach(Xt=>{Kt.setRequestHeader(Xt,Jt[Xt])}),me.responseType&&(Kt.responseType=me.responseType),me.abortSignal&&(me.abortSignal.onabort=()=>{Kt.abort(),Tt(new c)}),me.timeout&&(Kt.timeout=me.timeout),Kt.onload=()=>{me.abortSignal&&(me.abortSignal.onabort=null),Kt.status>=200&&Kt.status<300?We(new m(Kt.status,Kt.statusText,Kt.response||Kt.responseText)):Tt(new f(Kt.response||Kt.responseText||Kt.statusText,Kt.status))},Kt.onerror=()=>{this._logger.log(x.Warning,`Error from HTTP request. ${Kt.status}: ${Kt.statusText}.`),Tt(new f(Kt.statusText,Kt.status))},Kt.ontimeout=()=>{this._logger.log(x.Warning,"Timeout from HTTP request."),Tt(new i)},Kt.send(me.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class Ce extends P{constructor(me){if(super(),typeof fetch<"u"||I.isNode)this._httpClient=new Oe(me);else{if(!(typeof XMLHttpRequest<"u"))throw new Error("No usable HttpClient found.");this._httpClient=new ye(me)}}send(me){return me.abortSignal&&me.abortSignal.aborted?Promise.reject(new c):me.method?me.url?this._httpClient.send(me):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(me){return this._httpClient.getCookieString(me)}}var de=function(Et){return Et[Et.None=0]="None",Et[Et.WebSockets=1]="WebSockets",Et[Et.ServerSentEvents=2]="ServerSentEvents",Et[Et.LongPolling=4]="LongPolling",Et}(de||{}),Me=function(Et){return Et[Et.Text=1]="Text",Et[Et.Binary=2]="Binary",Et}(Me||{});class pe{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}}class Ie{constructor(me,We,Tt){this._httpClient=me,this._logger=We,this._pollAbort=new pe,this._options=Tt,this._running=!1,this.onreceive=null,this.onclose=null}get pollAborted(){return this._pollAbort.aborted}connect(me,We){var Tt=this;return(0,v.Z)(function*(){if(S.isRequired(me,"url"),S.isRequired(We,"transferFormat"),S.isIn(We,Me,"transferFormat"),Tt._url=me,Tt._logger.log(x.Trace,"(LongPolling transport) Connecting."),We===Me.Binary&&typeof XMLHttpRequest<"u"&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[Kt,Jt]=Y(),Xt={[Kt]:Jt,...Tt._options.headers},un={abortSignal:Tt._pollAbort.signal,headers:Xt,timeout:1e5,withCredentials:Tt._options.withCredentials};We===Me.Binary&&(un.responseType="arraybuffer");const fn=`${me}&_=${Date.now()}`;Tt._logger.log(x.Trace,`(LongPolling transport) polling: ${fn}.`);const It=yield Tt._httpClient.get(fn,un);200!==It.statusCode?(Tt._logger.log(x.Error,`(LongPolling transport) Unexpected response code: ${It.statusCode}.`),Tt._closeError=new f(It.statusText||"",It.statusCode),Tt._running=!1):Tt._running=!0,Tt._receiving=Tt._poll(Tt._url,un)})()}_poll(me,We){var Tt=this;return(0,v.Z)(function*(){try{for(;Tt._running;)try{const Kt=`${me}&_=${Date.now()}`;Tt._logger.log(x.Trace,`(LongPolling transport) polling: ${Kt}.`);const Jt=yield Tt._httpClient.get(Kt,We);204===Jt.statusCode?(Tt._logger.log(x.Information,"(LongPolling transport) Poll terminated by server."),Tt._running=!1):200!==Jt.statusCode?(Tt._logger.log(x.Error,`(LongPolling transport) Unexpected response code: ${Jt.statusCode}.`),Tt._closeError=new f(Jt.statusText||"",Jt.statusCode),Tt._running=!1):Jt.content?(Tt._logger.log(x.Trace,`(LongPolling transport) data received. ${E(Jt.content,Tt._options.logMessageContent)}.`),Tt.onreceive&&Tt.onreceive(Jt.content)):Tt._logger.log(x.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(Kt){Tt._running?Kt instanceof i?Tt._logger.log(x.Trace,"(LongPolling transport) Poll timed out, reissuing."):(Tt._closeError=Kt,Tt._running=!1):Tt._logger.log(x.Trace,`(LongPolling transport) Poll errored after shutdown: ${Kt.message}`)}}finally{Tt._logger.log(x.Trace,"(LongPolling transport) Polling complete."),Tt.pollAborted||Tt._raiseOnClose()}})()}send(me){var We=this;return(0,v.Z)(function*(){return We._running?B(We._logger,"LongPolling",We._httpClient,We._url,me,We._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){var me=this;return(0,v.Z)(function*(){me._logger.log(x.Trace,"(LongPolling transport) Stopping polling."),me._running=!1,me._pollAbort.abort();try{yield me._receiving,me._logger.log(x.Trace,`(LongPolling transport) sending DELETE request to ${me._url}.`);const We={},[Tt,Kt]=Y();We[Tt]=Kt;const Jt={headers:{...We,...me._options.headers},timeout:me._options.timeout,withCredentials:me._options.withCredentials};yield me._httpClient.delete(me._url,Jt),me._logger.log(x.Trace,"(LongPolling transport) DELETE request sent.")}finally{me._logger.log(x.Trace,"(LongPolling transport) Stop finished."),me._raiseOnClose()}})()}_raiseOnClose(){if(this.onclose){let me="(LongPolling transport) Firing onclose event.";this._closeError&&(me+=" Error: "+this._closeError),this._logger.log(x.Trace,me),this.onclose(this._closeError)}}}class Be{constructor(me,We,Tt,Kt){this._httpClient=me,this._accessToken=We,this._logger=Tt,this._options=Kt,this.onreceive=null,this.onclose=null}connect(me,We){var Tt=this;return(0,v.Z)(function*(){return S.isRequired(me,"url"),S.isRequired(We,"transferFormat"),S.isIn(We,Me,"transferFormat"),Tt._logger.log(x.Trace,"(SSE transport) Connecting."),Tt._url=me,Tt._accessToken&&(me+=(me.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(Tt._accessToken)}`),new Promise((Kt,Jt)=>{let un,Xt=!1;if(We===Me.Text){if(I.isBrowser||I.isWebWorker)un=new Tt._options.EventSource(me,{withCredentials:Tt._options.withCredentials});else{const fn=Tt._httpClient.getCookieString(me),It={};It.Cookie=fn;const[vt,it]=Y();It[vt]=it,un=new Tt._options.EventSource(me,{withCredentials:Tt._options.withCredentials,headers:{...It,...Tt._options.headers}})}try{un.onmessage=fn=>{if(Tt.onreceive)try{Tt._logger.log(x.Trace,`(SSE transport) data received. ${E(fn.data,Tt._options.logMessageContent)}.`),Tt.onreceive(fn.data)}catch(It){return void Tt._close(It)}},un.onerror=fn=>{Xt?Tt._close():Jt(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},un.onopen=()=>{Tt._logger.log(x.Information,`SSE connected to ${Tt._url}`),Tt._eventSource=un,Xt=!0,Kt()}}catch(fn){return void Jt(fn)}}else Jt(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})})()}send(me){var We=this;return(0,v.Z)(function*(){return We._eventSource?B(We._logger,"SSE",We._httpClient,We._url,me,We._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){return this._close(),Promise.resolve()}_close(me){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(me))}}class at{constructor(me,We,Tt,Kt,Jt,Xt){this._logger=Tt,this._accessTokenFactory=We,this._logMessageContent=Kt,this._webSocketConstructor=Jt,this._httpClient=me,this.onreceive=null,this.onclose=null,this._headers=Xt}connect(me,We){var Tt=this;return(0,v.Z)(function*(){let Kt;return S.isRequired(me,"url"),S.isRequired(We,"transferFormat"),S.isIn(We,Me,"transferFormat"),Tt._logger.log(x.Trace,"(WebSockets transport) Connecting."),Tt._accessTokenFactory&&(Kt=yield Tt._accessTokenFactory()),new Promise((Jt,Xt)=>{let un;me=me.replace(/^http/,"ws");const fn=Tt._httpClient.getCookieString(me);let It=!1;if(I.isNode||I.isReactNative){const vt={},[it,He]=Y();vt[it]=He,Kt&&(vt[y.Authorization]=`Bearer ${Kt}`),fn&&(vt[y.Cookie]=fn),un=new Tt._webSocketConstructor(me,void 0,{headers:{...vt,...Tt._headers}})}else Kt&&(me+=(me.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(Kt)}`);un||(un=new Tt._webSocketConstructor(me)),We===Me.Binary&&(un.binaryType="arraybuffer"),un.onopen=vt=>{Tt._logger.log(x.Information,`WebSocket connected to ${me}.`),Tt._webSocket=un,It=!0,Jt()},un.onerror=vt=>{let it=null;it=typeof ErrorEvent<"u"&&vt instanceof ErrorEvent?vt.error:"There was an error with the transport",Tt._logger.log(x.Information,`(WebSockets transport) ${it}.`)},un.onmessage=vt=>{if(Tt._logger.log(x.Trace,`(WebSockets transport) data received. ${E(vt.data,Tt._logMessageContent)}.`),Tt.onreceive)try{Tt.onreceive(vt.data)}catch(it){return void Tt._close(it)}},un.onclose=vt=>{if(It)Tt._close(vt);else{let it=null;it=typeof ErrorEvent<"u"&&vt instanceof ErrorEvent?vt.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",Xt(new Error(it))}}})})()}send(me){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(x.Trace,`(WebSockets transport) sending data. ${E(me,this._logMessageContent)}.`),this._webSocket.send(me),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(me){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(x.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(me)||!1!==me.wasClean&&1e3===me.code?me instanceof Error?this.onclose(me):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${me.code} (${me.reason||"no reason given"}).`)))}_isCloseEvent(me){return me&&"boolean"==typeof me.wasClean&&"number"==typeof me.code}}class je{constructor(me,We={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,S.isRequired(me,"url"),this._logger=function oe(Et){return void 0===Et?new Re(x.Information):null===Et?R.instance:void 0!==Et.log?Et:new Re(Et)}(We.logger),this.baseUrl=this._resolveUrl(me),(We=We||{}).logMessageContent=void 0!==We.logMessageContent&&We.logMessageContent,"boolean"!=typeof We.withCredentials&&void 0!==We.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");We.withCredentials=void 0===We.withCredentials||We.withCredentials,We.timeout=void 0===We.timeout?1e5:We.timeout;let Tt=null,Kt=null;if(I.isNode){const Jt=require;Tt=Jt("ws"),Kt=Jt("eventsource")}!I.isNode&&typeof WebSocket<"u"&&!We.WebSocket?We.WebSocket=WebSocket:I.isNode&&!We.WebSocket&&Tt&&(We.WebSocket=Tt),!I.isNode&&typeof EventSource<"u"&&!We.EventSource?We.EventSource=EventSource:I.isNode&&!We.EventSource&&typeof Kt<"u"&&(We.EventSource=Kt),this._httpClient=new D(We.httpClient||new Ce(this._logger),We.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=We,this.onreceive=null,this.onclose=null}start(me){var We=this;return(0,v.Z)(function*(){if(S.isIn(me=me||Me.Binary,Me,"transferFormat"),We._logger.log(x.Debug,`Starting connection with transfer format '${Me[me]}'.`),"Disconnected"!==We._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(We._connectionState="Connecting",We._startInternalPromise=We._startInternal(me),yield We._startInternalPromise,"Disconnecting"===We._connectionState){const Tt="Failed to start the HttpConnection before stop() was called.";return We._logger.log(x.Error,Tt),yield We._stopPromise,Promise.reject(new c(Tt))}if("Connected"!==We._connectionState){const Tt="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return We._logger.log(x.Error,Tt),Promise.reject(new c(Tt))}We._connectionStarted=!0})()}send(me){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new ee(this.transport)),this._sendQueue.send(me))}stop(me){var We=this;return(0,v.Z)(function*(){return"Disconnected"===We._connectionState?(We._logger.log(x.Debug,`Call to HttpConnection.stop(${me}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===We._connectionState?(We._logger.log(x.Debug,`Call to HttpConnection.stop(${me}) ignored because the connection is already in the disconnecting state.`),We._stopPromise):(We._connectionState="Disconnecting",We._stopPromise=new Promise(Tt=>{We._stopPromiseResolver=Tt}),yield We._stopInternal(me),void(yield We._stopPromise))})()}_stopInternal(me){var We=this;return(0,v.Z)(function*(){We._stopError=me;try{yield We._startInternalPromise}catch{}if(We.transport){try{yield We.transport.stop()}catch(Tt){We._logger.log(x.Error,`HttpConnection.transport.stop() threw error '${Tt}'.`),We._stopConnection()}We.transport=void 0}else We._logger.log(x.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})()}_startInternal(me){var We=this;return(0,v.Z)(function*(){let Tt=We.baseUrl;We._accessTokenFactory=We._options.accessTokenFactory,We._httpClient._accessTokenFactory=We._accessTokenFactory;try{if(We._options.skipNegotiation){if(We._options.transport!==de.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");We.transport=We._constructTransport(de.WebSockets),yield We._startTransport(Tt,me)}else{let Kt=null,Jt=0;do{if(Kt=yield We._getNegotiationResponse(Tt),"Disconnecting"===We._connectionState||"Disconnected"===We._connectionState)throw new c("The connection was stopped during negotiation.");if(Kt.error)throw new Error(Kt.error);if(Kt.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(Kt.url&&(Tt=Kt.url),Kt.accessToken){const Xt=Kt.accessToken;We._accessTokenFactory=()=>Xt,We._httpClient._accessToken=Xt,We._httpClient._accessTokenFactory=void 0}Jt++}while(Kt.url&&Jt<100);if(100===Jt&&Kt.url)throw new Error("Negotiate redirection limit exceeded.");yield We._createTransport(Tt,We._options.transport,Kt,me)}We.transport instanceof Ie&&(We.features.inherentKeepAlive=!0),"Connecting"===We._connectionState&&(We._logger.log(x.Debug,"The HttpConnection connected successfully."),We._connectionState="Connected")}catch(Kt){return We._logger.log(x.Error,"Failed to start the connection: "+Kt),We._connectionState="Disconnected",We.transport=void 0,We._stopPromiseResolver(),Promise.reject(Kt)}})()}_getNegotiationResponse(me){var We=this;return(0,v.Z)(function*(){const Tt={},[Kt,Jt]=Y();Tt[Kt]=Jt;const Xt=We._resolveNegotiateUrl(me);We._logger.log(x.Debug,`Sending negotiation request: ${Xt}.`);try{const un=yield We._httpClient.post(Xt,{content:"",headers:{...Tt,...We._options.headers},timeout:We._options.timeout,withCredentials:We._options.withCredentials});if(200!==un.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${un.statusCode}'`));const fn=JSON.parse(un.content);return(!fn.negotiateVersion||fn.negotiateVersion<1)&&(fn.connectionToken=fn.connectionId),fn}catch(un){let fn="Failed to complete negotiation with the server: "+un;return un instanceof f&&404===un.statusCode&&(fn+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),We._logger.log(x.Error,fn),Promise.reject(new C(fn))}})()}_createConnectUrl(me,We){return We?me+(-1===me.indexOf("?")?"?":"&")+`id=${We}`:me}_createTransport(me,We,Tt,Kt){var Jt=this;return(0,v.Z)(function*(){let Xt=Jt._createConnectUrl(me,Tt.connectionToken);if(Jt._isITransport(We))return Jt._logger.log(x.Debug,"Connection was provided an instance of ITransport, using that directly."),Jt.transport=We,yield Jt._startTransport(Xt,Kt),void(Jt.connectionId=Tt.connectionId);const un=[],fn=Tt.availableTransports||[];let It=Tt;for(const vt of fn){const it=Jt._resolveTransportOrError(vt,We,Kt);if(it instanceof Error)un.push(`${vt.transport} failed:`),un.push(it);else if(Jt._isITransport(it)){if(Jt.transport=it,!It){try{It=yield Jt._getNegotiationResponse(me)}catch(He){return Promise.reject(He)}Xt=Jt._createConnectUrl(me,It.connectionToken)}try{return yield Jt._startTransport(Xt,Kt),void(Jt.connectionId=It.connectionId)}catch(He){if(Jt._logger.log(x.Error,`Failed to start the transport '${vt.transport}': ${He}`),It=void 0,un.push(new p(`${vt.transport} failed: ${He}`,de[vt.transport])),"Connecting"!==Jt._connectionState){const Ze="Failed to select transport before stop() was called.";return Jt._logger.log(x.Debug,Ze),Promise.reject(new c(Ze))}}}}return Promise.reject(un.length>0?new A(`Unable to connect to the server with any of the available transports. ${un.join(" ")}`,un):new Error("None of the transports supported by the client are supported by the server."))})()}_constructTransport(me){switch(me){case de.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new at(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case de.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new Be(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case de.LongPolling:return new Ie(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${me}.`)}}_startTransport(me,We){return this.transport.onreceive=this.onreceive,this.transport.onclose=Tt=>this._stopConnection(Tt),this.transport.connect(me,We)}_resolveTransportOrError(me,We,Tt){const Kt=de[me.transport];if(null==Kt)return this._logger.log(x.Debug,`Skipping transport '${me.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${me.transport}' because it is not supported by this client.`);if(!function Ne(Et,me){return!Et||0!=(me&Et)}(We,Kt))return this._logger.log(x.Debug,`Skipping transport '${de[Kt]}' because it was disabled by the client.`),new h(`'${de[Kt]}' is disabled by the client.`,Kt);if(!(me.transferFormats.map(Xt=>Me[Xt]).indexOf(Tt)>=0))return this._logger.log(x.Debug,`Skipping transport '${de[Kt]}' because it does not support the requested transfer format '${Me[Tt]}'.`),new Error(`'${de[Kt]}' does not support ${Me[Tt]}.`);if(Kt===de.WebSockets&&!this._options.WebSocket||Kt===de.ServerSentEvents&&!this._options.EventSource)return this._logger.log(x.Debug,`Skipping transport '${de[Kt]}' because it is not supported in your environment.'`),new d(`'${de[Kt]}' is not supported in your environment.`,Kt);this._logger.log(x.Debug,`Selecting transport '${de[Kt]}'.`);try{return this._constructTransport(Kt)}catch(Xt){return Xt}}_isITransport(me){return me&&"object"==typeof me&&"connect"in me}_stopConnection(me){if(this._logger.log(x.Debug,`HttpConnection.stopConnection(${me}) called while in state ${this._connectionState}.`),this.transport=void 0,me=this._stopError||me,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(x.Warning,`Call to HttpConnection.stopConnection(${me}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${me}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),me?this._logger.log(x.Error,`Connection disconnected with error '${me}'.`):this._logger.log(x.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(We=>{this._logger.log(x.Error,`TransportSendQueue.stop() threw error '${We}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(me)}catch(We){this._logger.log(x.Error,`HttpConnection.onclose(${me}) threw error '${We}'.`)}}}else this._logger.log(x.Debug,`Call to HttpConnection.stopConnection(${me}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(me){if(0===me.lastIndexOf("https://",0)||0===me.lastIndexOf("http://",0))return me;if(!I.isBrowser)throw new Error(`Cannot resolve '${me}'.`);const We=window.document.createElement("a");return We.href=me,this._logger.log(x.Information,`Normalizing '${me}' to '${We.href}'.`),We.href}_resolveNegotiateUrl(me){const We=me.indexOf("?");let Tt=me.substring(0,-1===We?me.length:We);return"/"!==Tt[Tt.length-1]&&(Tt+="/"),Tt+="negotiate",Tt+=-1===We?"":me.substring(We),-1===Tt.indexOf("negotiateVersion")&&(Tt+=-1===We?"?":"&",Tt+="negotiateVersion="+this._negotiateVersion),Tt}}class ee{constructor(me){this._transport=me,this._buffer=[],this._executing=!0,this._sendBufferedData=new fe,this._transportResult=new fe,this._sendLoopPromise=this._sendLoop()}send(me){return this._bufferData(me),this._transportResult||(this._transportResult=new fe),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(me){if(this._buffer.length&&typeof this._buffer[0]!=typeof me)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof me}`);this._buffer.push(me),this._sendBufferedData.resolve()}_sendLoop(){var me=this;return(0,v.Z)(function*(){for(;;){if(yield me._sendBufferedData.promise,!me._executing){me._transportResult&&me._transportResult.reject("Connection stopped.");break}me._sendBufferedData=new fe;const We=me._transportResult;me._transportResult=void 0;const Tt="string"==typeof me._buffer[0]?me._buffer.join(""):ee._concatBuffers(me._buffer);me._buffer.length=0;try{yield me._transport.send(Tt),We.resolve()}catch(Kt){We.reject(Kt)}}})()}static _concatBuffers(me){const We=me.map(Jt=>Jt.byteLength).reduce((Jt,Xt)=>Jt+Xt),Tt=new Uint8Array(We);let Kt=0;for(const Jt of me)Tt.set(new Uint8Array(Jt),Kt),Kt+=Jt.byteLength;return Tt.buffer}}class fe{constructor(){this.promise=new Promise((me,We)=>[this._resolver,this._rejecter]=[me,We])}resolve(){this._resolver()}reject(me){this._rejecter(me)}}class we{static write(me){return`${me}${we.RecordSeparator}`}static parse(me){if(me[me.length-1]!==we.RecordSeparator)throw new Error("Message is incomplete.");const We=me.split(we.RecordSeparator);return We.pop(),We}}we.RecordSeparatorCode=30,we.RecordSeparator=String.fromCharCode(we.RecordSeparatorCode);class q{writeHandshakeRequest(me){return we.write(JSON.stringify(me))}parseHandshakeResponse(me){let We,Tt;if(b(me)){const un=new Uint8Array(me),fn=un.indexOf(we.RecordSeparatorCode);if(-1===fn)throw new Error("Message is incomplete.");const It=fn+1;We=String.fromCharCode.apply(null,Array.prototype.slice.call(un.slice(0,It))),Tt=un.byteLength>It?un.slice(It).buffer:null}else{const un=me,fn=un.indexOf(we.RecordSeparator);if(-1===fn)throw new Error("Message is incomplete.");const It=fn+1;We=un.substring(0,It),Tt=un.length>It?un.substring(It):null}const Kt=we.parse(We),Jt=JSON.parse(Kt[0]);if(Jt.type)throw new Error("Expected a handshake response from the server.");return[Tt,Jt]}}var $=function(Et){return Et[Et.Invocation=1]="Invocation",Et[Et.StreamItem=2]="StreamItem",Et[Et.Completion=3]="Completion",Et[Et.StreamInvocation=4]="StreamInvocation",Et[Et.CancelInvocation=5]="CancelInvocation",Et[Et.Ping=6]="Ping",Et[Et.Close=7]="Close",Et}($||{});class Q{constructor(){this.observers=[]}next(me){for(const We of this.observers)We.next(me)}error(me){for(const We of this.observers)We.error&&We.error(me)}complete(){for(const me of this.observers)me.complete&&me.complete()}subscribe(me){return this.observers.push(me),new le(this,me)}}var re=function(Et){return Et.Disconnected="Disconnected",Et.Connecting="Connecting",Et.Connected="Connected",Et.Disconnecting="Disconnecting",Et.Reconnecting="Reconnecting",Et}(re||{});class J{constructor(me,We,Tt,Kt){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(x.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://docs.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},S.isRequired(me,"connection"),S.isRequired(We,"logger"),S.isRequired(Tt,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this._logger=We,this._protocol=Tt,this.connection=me,this._reconnectPolicy=Kt,this._handshakeProtocol=new q,this.connection.onreceive=Jt=>this._processIncomingData(Jt),this.connection.onclose=Jt=>this._connectionClosed(Jt),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=re.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:$.Ping})}static create(me,We,Tt,Kt){return new J(me,We,Tt,Kt)}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(me){if(this._connectionState!==re.Disconnected&&this._connectionState!==re.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!me)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=me}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){var me=this;return(0,v.Z)(function*(){if(me._connectionState!==re.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));me._connectionState=re.Connecting,me._logger.log(x.Debug,"Starting HubConnection.");try{yield me._startInternal(),I.isBrowser&&window.document.addEventListener("freeze",me._freezeEventListener),me._connectionState=re.Connected,me._connectionStarted=!0,me._logger.log(x.Debug,"HubConnection connected successfully.")}catch(We){return me._connectionState=re.Disconnected,me._logger.log(x.Debug,`HubConnection failed to start successfully because of error '${We}'.`),Promise.reject(We)}})()}_startInternal(){var me=this;return(0,v.Z)(function*(){me._stopDuringStartError=void 0,me._receivedHandshakeResponse=!1;const We=new Promise((Tt,Kt)=>{me._handshakeResolver=Tt,me._handshakeRejecter=Kt});yield me.connection.start(me._protocol.transferFormat);try{const Tt={protocol:me._protocol.name,version:me._protocol.version};if(me._logger.log(x.Debug,"Sending handshake request."),yield me._sendMessage(me._handshakeProtocol.writeHandshakeRequest(Tt)),me._logger.log(x.Information,`Using HubProtocol '${me._protocol.name}'.`),me._cleanupTimeout(),me._resetTimeoutPeriod(),me._resetKeepAliveInterval(),yield We,me._stopDuringStartError)throw me._stopDuringStartError;me.connection.features.inherentKeepAlive||(yield me._sendMessage(me._cachedPingMessage))}catch(Tt){throw me._logger.log(x.Debug,`Hub handshake failed with error '${Tt}' during start(). Stopping HubConnection.`),me._cleanupTimeout(),me._cleanupPingTimer(),yield me.connection.stop(Tt),Tt}})()}stop(){var me=this;return(0,v.Z)(function*(){const We=me._startPromise;me._stopPromise=me._stopInternal(),yield me._stopPromise;try{yield We}catch{}})()}_stopInternal(me){return this._connectionState===re.Disconnected?(this._logger.log(x.Debug,`Call to HubConnection.stop(${me}) ignored because it is already in the disconnected state.`),Promise.resolve()):this._connectionState===re.Disconnecting?(this._logger.log(x.Debug,`Call to HttpConnection.stop(${me}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState=re.Disconnecting,this._logger.log(x.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(x.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=me||new c("The connection was stopped before the hub handshake could complete."),this.connection.stop(me)))}stream(me,...We){const[Tt,Kt]=this._replaceStreamingParams(We),Jt=this._createStreamInvocation(me,We,Kt);let Xt;const un=new Q;return un.cancelCallback=()=>{const fn=this._createCancelInvocation(Jt.invocationId);return delete this._callbacks[Jt.invocationId],Xt.then(()=>this._sendWithProtocol(fn))},this._callbacks[Jt.invocationId]=(fn,It)=>{It?un.error(It):fn&&(fn.type===$.Completion?fn.error?un.error(new Error(fn.error)):un.complete():un.next(fn.item))},Xt=this._sendWithProtocol(Jt).catch(fn=>{un.error(fn),delete this._callbacks[Jt.invocationId]}),this._launchStreams(Tt,Xt),un}_sendMessage(me){return this._resetKeepAliveInterval(),this.connection.send(me)}_sendWithProtocol(me){return this._sendMessage(this._protocol.writeMessage(me))}send(me,...We){const[Tt,Kt]=this._replaceStreamingParams(We),Jt=this._sendWithProtocol(this._createInvocation(me,We,!0,Kt));return this._launchStreams(Tt,Jt),Jt}invoke(me,...We){const[Tt,Kt]=this._replaceStreamingParams(We),Jt=this._createInvocation(me,We,!1,Kt);return new Promise((un,fn)=>{this._callbacks[Jt.invocationId]=(vt,it)=>{it?fn(it):vt&&(vt.type===$.Completion?vt.error?fn(new Error(vt.error)):un(vt.result):fn(new Error(`Unexpected message type: ${vt.type}`)))};const It=this._sendWithProtocol(Jt).catch(vt=>{fn(vt),delete this._callbacks[Jt.invocationId]});this._launchStreams(Tt,It)})}on(me,We){!me||!We||(me=me.toLowerCase(),this._methods[me]||(this._methods[me]=[]),-1===this._methods[me].indexOf(We)&&this._methods[me].push(We))}off(me,We){if(!me)return;me=me.toLowerCase();const Tt=this._methods[me];if(Tt)if(We){const Kt=Tt.indexOf(We);-1!==Kt&&(Tt.splice(Kt,1),0===Tt.length&&delete this._methods[me])}else delete this._methods[me]}onclose(me){me&&this._closedCallbacks.push(me)}onreconnecting(me){me&&this._reconnectingCallbacks.push(me)}onreconnected(me){me&&this._reconnectedCallbacks.push(me)}_processIncomingData(me){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(me=this._processHandshakeResponse(me),this._receivedHandshakeResponse=!0),me){const We=this._protocol.parseMessages(me,this._logger);for(const Tt of We)switch(Tt.type){case $.Invocation:this._invokeClientMethod(Tt);break;case $.StreamItem:case $.Completion:{const Kt=this._callbacks[Tt.invocationId];if(Kt){Tt.type===$.Completion&&delete this._callbacks[Tt.invocationId];try{Kt(Tt)}catch(Jt){this._logger.log(x.Error,`Stream callback threw error: ${Te(Jt)}`)}}break}case $.Ping:break;case $.Close:{this._logger.log(x.Information,"Close message received from server.");const Kt=Tt.error?new Error("Server returned an error on close: "+Tt.error):void 0;!0===Tt.allowReconnect?this.connection.stop(Kt):this._stopPromise=this._stopInternal(Kt);break}default:this._logger.log(x.Warning,`Invalid message type: ${Tt.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(me){let We,Tt;try{[Tt,We]=this._handshakeProtocol.parseHandshakeResponse(me)}catch(Kt){const Jt="Error parsing handshake response: "+Kt;this._logger.log(x.Error,Jt);const Xt=new Error(Jt);throw this._handshakeRejecter(Xt),Xt}if(We.error){const Kt="Server returned handshake error: "+We.error;this._logger.log(x.Error,Kt);const Jt=new Error(Kt);throw this._handshakeRejecter(Jt),Jt}return this._logger.log(x.Debug,"Server handshake complete."),this._handshakeResolver(),Tt}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){var me=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let We=this._nextKeepAlive-(new Date).getTime();We<0&&(We=0),this._pingServerHandle=setTimeout((0,v.Z)(function*(){if(me._connectionState===re.Connected)try{yield me._sendMessage(me._cachedPingMessage)}catch{me._cleanupPingTimer()}}),We)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(me){var We=this;return(0,v.Z)(function*(){const Tt=me.target.toLowerCase(),Kt=We._methods[Tt];if(!Kt)return We._logger.log(x.Warning,`No client method with the name '${Tt}' found.`),void(me.invocationId&&(We._logger.log(x.Warning,`No result given for '${Tt}' method and invocation ID '${me.invocationId}'.`),yield We._sendWithProtocol(We._createCompletionMessage(me.invocationId,"Client didn't provide a result.",null))));const Jt=Kt.slice(),Xt=!!me.invocationId;let un,fn,It;for(const vt of Jt)try{const it=un;un=yield vt.apply(We,me.arguments),Xt&&un&&it&&(We._logger.log(x.Error,`Multiple results provided for '${Tt}'. Sending error to server.`),It=We._createCompletionMessage(me.invocationId,"Client provided multiple results.",null)),fn=void 0}catch(it){fn=it,We._logger.log(x.Error,`A callback for the method '${Tt}' threw error '${it}'.`)}It?yield We._sendWithProtocol(It):Xt?(fn?It=We._createCompletionMessage(me.invocationId,`${fn}`,null):void 0!==un?It=We._createCompletionMessage(me.invocationId,null,un):(We._logger.log(x.Warning,`No result given for '${Tt}' method and invocation ID '${me.invocationId}'.`),It=We._createCompletionMessage(me.invocationId,"Client didn't provide a result.",null)),yield We._sendWithProtocol(It)):un&&We._logger.log(x.Error,`Result given for '${Tt}' method but server is not expecting a result.`)})()}_connectionClosed(me){this._logger.log(x.Debug,`HubConnection.connectionClosed(${me}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||me||new c("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(me||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===re.Disconnecting?this._completeClose(me):this._connectionState===re.Connected&&this._reconnectPolicy?this._reconnect(me):this._connectionState===re.Connected&&this._completeClose(me)}_completeClose(me){if(this._connectionStarted){this._connectionState=re.Disconnected,this._connectionStarted=!1,I.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(We=>We.apply(this,[me]))}catch(We){this._logger.log(x.Error,`An onclose callback called with error '${me}' threw error '${We}'.`)}}}_reconnect(me){var We=this;return(0,v.Z)(function*(){const Tt=Date.now();let Kt=0,Jt=void 0!==me?me:new Error("Attempting to reconnect due to a unknown error."),Xt=We._getNextRetryDelay(Kt++,0,Jt);if(null===Xt)return We._logger.log(x.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void We._completeClose(me);if(We._connectionState=re.Reconnecting,We._logger.log(x.Information,me?`Connection reconnecting because of error '${me}'.`:"Connection reconnecting."),0!==We._reconnectingCallbacks.length){try{We._reconnectingCallbacks.forEach(un=>un.apply(We,[me]))}catch(un){We._logger.log(x.Error,`An onreconnecting callback called with error '${me}' threw error '${un}'.`)}if(We._connectionState!==re.Reconnecting)return void We._logger.log(x.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==Xt;){if(We._logger.log(x.Information,`Reconnect attempt number ${Kt} will start in ${Xt} ms.`),yield new Promise(un=>{We._reconnectDelayHandle=setTimeout(un,Xt)}),We._reconnectDelayHandle=void 0,We._connectionState!==re.Reconnecting)return void We._logger.log(x.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(yield We._startInternal(),We._connectionState=re.Connected,We._logger.log(x.Information,"HubConnection reconnected successfully."),0!==We._reconnectedCallbacks.length)try{We._reconnectedCallbacks.forEach(un=>un.apply(We,[We.connection.connectionId]))}catch(un){We._logger.log(x.Error,`An onreconnected callback called with connectionId '${We.connection.connectionId}; threw error '${un}'.`)}return}catch(un){if(We._logger.log(x.Information,`Reconnect attempt failed because of error '${un}'.`),We._connectionState!==re.Reconnecting)return We._logger.log(x.Debug,`Connection moved to the '${We._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(We._connectionState===re.Disconnecting&&We._completeClose());Jt=un instanceof Error?un:new Error(un.toString()),Xt=We._getNextRetryDelay(Kt++,Date.now()-Tt,Jt)}}We._logger.log(x.Information,`Reconnect retries have been exhausted after ${Date.now()-Tt} ms and ${Kt} failed attempts. Connection disconnecting.`),We._completeClose()})()}_getNextRetryDelay(me,We,Tt){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:We,previousRetryCount:me,retryReason:Tt})}catch(Kt){return this._logger.log(x.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${me}, ${We}) threw error '${Kt}'.`),null}}_cancelCallbacksWithError(me){const We=this._callbacks;this._callbacks={},Object.keys(We).forEach(Tt=>{const Kt=We[Tt];try{Kt(null,me)}catch(Jt){this._logger.log(x.Error,`Stream 'error' callback called with '${me}' threw error: ${Te(Jt)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(me,We,Tt,Kt){if(Tt)return 0!==Kt.length?{arguments:We,streamIds:Kt,target:me,type:$.Invocation}:{arguments:We,target:me,type:$.Invocation};{const Jt=this._invocationId;return this._invocationId++,0!==Kt.length?{arguments:We,invocationId:Jt.toString(),streamIds:Kt,target:me,type:$.Invocation}:{arguments:We,invocationId:Jt.toString(),target:me,type:$.Invocation}}}_launchStreams(me,We){if(0!==me.length){We||(We=Promise.resolve());for(const Tt in me)me[Tt].subscribe({complete:()=>{We=We.then(()=>this._sendWithProtocol(this._createCompletionMessage(Tt)))},error:Kt=>{let Jt;Jt=Kt instanceof Error?Kt.message:Kt&&Kt.toString?Kt.toString():"Unknown error",We=We.then(()=>this._sendWithProtocol(this._createCompletionMessage(Tt,Jt)))},next:Kt=>{We=We.then(()=>this._sendWithProtocol(this._createStreamItemMessage(Tt,Kt)))}})}}_replaceStreamingParams(me){const We=[],Tt=[];for(let Kt=0;Kt<me.length;Kt++){const Jt=me[Kt];if(this._isObservable(Jt)){const Xt=this._invocationId;this._invocationId++,We[Xt]=Jt,Tt.push(Xt.toString()),me.splice(Kt,1)}}return[We,Tt]}_isObservable(me){return me&&me.subscribe&&"function"==typeof me.subscribe}_createStreamInvocation(me,We,Tt){const Kt=this._invocationId;return this._invocationId++,0!==Tt.length?{arguments:We,invocationId:Kt.toString(),streamIds:Tt,target:me,type:$.StreamInvocation}:{arguments:We,invocationId:Kt.toString(),target:me,type:$.StreamInvocation}}_createCancelInvocation(me){return{invocationId:me,type:$.CancelInvocation}}_createStreamItemMessage(me,We){return{invocationId:me,item:We,type:$.StreamItem}}_createCompletionMessage(me,We,Tt){return We?{error:We,invocationId:me,type:$.Completion}:{invocationId:me,result:Tt,type:$.Completion}}}class Se{constructor(){this.name="json",this.version=1,this.transferFormat=Me.Text}parseMessages(me,We){if("string"!=typeof me)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!me)return[];null===We&&(We=R.instance);const Tt=we.parse(me),Kt=[];for(const Jt of Tt){const Xt=JSON.parse(Jt);if("number"!=typeof Xt.type)throw new Error("Invalid payload.");switch(Xt.type){case $.Invocation:this._isInvocationMessage(Xt);break;case $.StreamItem:this._isStreamItemMessage(Xt);break;case $.Completion:this._isCompletionMessage(Xt);break;case $.Ping:case $.Close:break;default:We.log(x.Information,"Unknown message type '"+Xt.type+"' ignored.");continue}Kt.push(Xt)}return Kt}writeMessage(me){return we.write(JSON.stringify(me))}_isInvocationMessage(me){this._assertNotEmptyString(me.target,"Invalid payload for Invocation message."),void 0!==me.invocationId&&this._assertNotEmptyString(me.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(me){if(this._assertNotEmptyString(me.invocationId,"Invalid payload for StreamItem message."),void 0===me.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(me){if(me.result&&me.error)throw new Error("Invalid payload for Completion message.");!me.result&&me.error&&this._assertNotEmptyString(me.error,"Invalid payload for Completion message."),this._assertNotEmptyString(me.invocationId,"Invalid payload for Completion message.")}_assertNotEmptyString(me,We){if("string"!=typeof me||""===me)throw new Error(We)}}const Ee={trace:x.Trace,debug:x.Debug,info:x.Information,information:x.Information,warn:x.Warning,warning:x.Warning,error:x.Error,critical:x.Critical,none:x.None};class ct{configureLogging(me){if(S.isRequired(me,"logging"),function qe(Et){return void 0!==Et.log}(me))this.logger=me;else if("string"==typeof me){const We=function Fe(Et){const me=Ee[Et.toLowerCase()];if(typeof me<"u")return me;throw new Error(`Unknown log level: ${Et}`)}(me);this.logger=new Re(We)}else this.logger=new Re(me);return this}withUrl(me,We){return S.isRequired(me,"url"),S.isNotEmpty(me,"url"),this.url=me,this.httpConnectionOptions="object"==typeof We?{...this.httpConnectionOptions,...We}:{...this.httpConnectionOptions,transport:We},this}withHubProtocol(me){return S.isRequired(me,"protocol"),this.protocol=me,this}withAutomaticReconnect(me){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=me?Array.isArray(me)?new t(me):me:new t,this}build(){const me=this.httpConnectionOptions||{};if(void 0===me.logger&&(me.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const We=new je(this.url,me);return J.create(We,this.logger||R.instance,this.protocol||new Se,this.reconnectPolicy)}}var tt=g(8645),gt=g(5879),Qe=g(1367);let yt=(()=>{class Et{constructor(We){this.sharedDataService=We,this.addedMediaFilePlayBack$=new tt.x,this.removedMediaFilePlayBack$=new tt.x,this.updateCurrentTimeMediaFilePlayBack$=new tt.x,this.updateMediaServers$=new tt.x,this.enableMediaServerSubject$=new tt.x,this.disableMediaServerSubject$=new tt.x,this.updateLibrariesByMediaServerSubject$=new tt.x,this.updateItemsByMediaServerSubject$=new tt.x,this.webLogs$=new tt.x}addWebLog(We){this.sharedDataService.webLogs.push(We),this.webLogs$.next(this.sharedDataService.webLogs)}isUpdatingWebLogs(){return this.webLogs$.asObservable()}updateMediaServers(){this.updateMediaServers$.next(!0)}isUpdatingMediaServers(){return this.updateMediaServers$.asObservable()}enableMediaServer(We){this.enableMediaServerSubject$.next(We)}isEnablingMediaServer(){return this.enableMediaServerSubject$.asObservable()}disableMediaServer(We){this.disableMediaServerSubject$.next(We)}isDisablingMediaServer(){return this.disableMediaServerSubject$.asObservable()}updateLibrariesByMediaServer(We){this.updateLibrariesByMediaServerSubject$.next(We)}isUpdatingLibrariesByMediaServer(){return this.updateLibrariesByMediaServerSubject$.asObservable()}updateItemsByMediaServer(We){this.updateItemsByMediaServerSubject$.next(We)}isUpdatingItemsByMediaServer(){return this.updateItemsByMediaServerSubject$.asObservable()}openConnection(){this.addWebLog({Created:new Date,Description:"Definiendo conexi\xf3n a Signal IR"});var We=(new ct).withUrl(this.sharedDataService.urlSinovadStreamWebApi+"/mediaServerHub",{skipNegotiation:!0,transport:de.WebSockets}).configureLogging(x.None).withAutomaticReconnect([1e3,2e3,4e3,8e3,16e3,32e3,64e3,128e3]).build();this.sharedDataService.hubConnection=We;let Tt=this;this.sharedDataService.hubConnection.onclose(Kt=>{Tt.addWebLog({Created:new Date,Description:"Se cerr\xf3 la conexi\xf3n a Signal IR "+Kt.message})}),this.sharedDataService.hubConnection.onreconnecting(Kt=>{Tt.addWebLog({Created:new Date,Description:"Reconectando a Signal IR"})}),this.sharedDataService.hubConnection.onreconnected(Kt=>{Tt.addWebLog({Created:new Date,Description:"Reconexi\xf3n satisfactoria a Signal IR"}),Tt.removeHubHandlerMethods(),setTimeout(()=>{Tt.sharedDataService.hubConnection.invoke("AddConnectionToUserClientsGroup",this.sharedDataService.userData.Guid).then(Jt=>{}),Tt.addHubEvents()},100,Tt)}),this.tryStartHubConnection()}tryStartHubConnection(){let We=this;this.addWebLog({Created:new Date,Description:"Intentando conectarse a Signal IR"}),this.sharedDataService.hubConnection.start().then(()=>{We.addWebLog({Created:new Date,Description:"Se inicio satisfactoriamente la conexi\xf3n a Signal IR"}),We.removeHubHandlerMethods(),setTimeout(()=>{We.sharedDataService.hubConnection.invoke("AddConnectionToUserClientsGroup",We.sharedDataService.userData.Guid).then(Tt=>{}),We.addHubEvents()},100,We)}).catch(Tt=>{We.addWebLog({Created:new Date,Description:"Error al iniciar la conexi\xf3n a Signal IR"})})}stopConnection(){this.removeHubHandlerMethods(),this.sharedDataService.hubConnection.stop()}delay(We){return new Promise(Tt=>setTimeout(Tt,We))}removeHubHandlerMethods(){this.addWebLog({Created:new Date,Description:"Eliminando controladores para los metodos del hub"}),this.sharedDataService.hubConnection.off("UpdateCurrentTimeMediaFilePlayBack"),this.sharedDataService.hubConnection.off("AddedMediaFilePlayBack"),this.sharedDataService.hubConnection.off("RemovedMediaFilePlayBack"),this.sharedDataService.hubConnection.off("UpdateMediaServers"),this.sharedDataService.hubConnection.off("EnableMediaServer"),this.sharedDataService.hubConnection.off("DisableMediaServer"),this.sharedDataService.hubConnection.off("UpdateLibrariesByMediaServer"),this.sharedDataService.hubConnection.off("UpdateItemsByMediaServer"),this.sharedDataService.hubConnection.off("UpdateItemsByMediaServerAndLibrary")}addHubEvents(){this.addWebLog({Created:new Date,Description:"Agregando controladores para los metodos del hub"}),this.sharedDataService.hubConnection.on("UpdateMediaServers",We=>{this.updateMediaServers()}),this.sharedDataService.hubConnection.on("EnableMediaServer",We=>{var Tt=this.sharedDataService.mediaServers.find(Kt=>Kt.Guid==We);Tt.isSecureConnection||(Tt.isSecureConnection=!0),this.enableMediaServer(We)}),this.sharedDataService.hubConnection.on("DisableMediaServer",We=>{var Tt=this.sharedDataService.mediaServers.find(Kt=>Kt.Guid==We);Tt.isSecureConnection&&(Tt.isSecureConnection=!1),this.disableMediaServer(We)}),this.sharedDataService.hubConnection.on("UpdateLibrariesByMediaServer",We=>{this.updateLibrariesByMediaServer(We)}),this.sharedDataService.hubConnection.on("UpdateItemsByMediaServer",We=>{this.updateItemsByMediaServer(We)}),this.sharedDataService.hubConnection.on("UpdateCurrentTimeMediaFilePlayBack",(We,Tt,Kt,Jt)=>{this.updateCurrentTimeMediaFilePlayBack$.next({mediaServerGuid:We,mediaFilePlaybackGuid:Tt,currentTime:Kt,isPlaying:Jt})}),this.sharedDataService.hubConnection.on("AddedMediaFilePlayBack",(We,Tt)=>{this.addedMediaFilePlayBack$.next({mediaServerGuid:We,mediaFilePlaybackGuid:Tt})}),this.sharedDataService.hubConnection.on("RemovedMediaFilePlayBack",(We,Tt)=>{this.removedMediaFilePlayBack$.next({mediaServerGuid:We,mediaFilePlaybackGuid:Tt})})}isRemovedMediaFilePlayback(){return this.removedMediaFilePlayBack$.asObservable()}isAddedMediaFilePlayback(){return this.addedMediaFilePlayBack$.asObservable()}removeMediaFilePlayBack(We,Tt){let Kt=this;this.sharedDataService.hubConnection.send("RemoveMediaFilePlayBack",this.sharedDataService.userData.Guid,We,Tt).then(Jt=>{Kt.addWebLog({Created:new Date,Description:"Se complet\xf3 la llamada al metodo RemoveMediaFilePlayBack de forma exitosa"})},Jt=>{Kt.addWebLog({Created:new Date,Description:"Error al llamar al metodo RemoveMediaFilePlayBack"}),setTimeout(()=>{Kt.removeMediaFilePlayBack(We,Tt)},1e3,Kt)})}removeLastTranscodedMediaFileProcess(We,Tt){let Kt=this;this.sharedDataService.hubConnection.send("RemoveLastTranscodedMediaFileProcess",this.sharedDataService.userData.Guid,We,Tt).then(Jt=>{Kt.addWebLog({Created:new Date,Description:"Se complet\xf3 la llamada al metodo RemoveLastTranscodedMediaFileProcess de forma exitosa"})},Jt=>{Kt.addWebLog({Created:new Date,Description:"Error al llamar al metodo RemoveLastTranscodedMediaFileProcess"}),setTimeout(()=>{Kt.removeLastTranscodedMediaFileProcess(We,Tt)},1e3,Kt)})}updateCurrentTimeMediaFilePlayBack(We,Tt,Kt,Jt){this.sharedDataService.hubConnection.send("UpdateCurrentTimeMediaFilePlayBack",this.sharedDataService.userData.Guid,We,Tt,Kt,Jt)}isUpdatingCurrentTimeMediaFilePlayBack(){return this.updateCurrentTimeMediaFilePlayBack$.asObservable()}static#e=this.\u0275fac=function(Tt){return new(Tt||Et)(gt.LFG(Qe.g))};static#t=this.\u0275prov=gt.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"})}return Et})()},4998:(Wn,Je,g)=>{"use strict";var e=g(6593),t=g(5879),v=g(9862),y=g(5908),m=g(2392);const P=(ue,z)=>{const F=(0,t.f3M)(y.F0);return null==localStorage.getItem("apiToken")||F.navigateByUrl("/home")};var D=g(95),f=g(5550),i=g(863);class c{}class d{}var h=g(1270),p=g(6878),C=g(9058),A=g(534),x=g(7879),R=g(4537),O=g(9429),S=g(8645),I=g(2096),E=g(5592),L=g(2459),b=g(3019),B=g(3093),Z=g(4664),oe=g(7398),le=g(940),Re=g(1374),Y=g(4674);function ae(ue,z){return(0,Y.m)(z)?(0,Z.w)(()=>ue,z):(0,Z.w)(()=>ue)}var G=g(5137),De=g(2181),ce=g(8186),Te=g(6304),be=g(6814);g(3182);var Q=g(5861);const ne=new Map,X={activated:!1,tokenObservers:[]},re={initialized:!1,enabled:!1};function J(ue){return ne.get(ue)||Object.assign({},X)}function Se(){return re}const Ee="https://content-firebaseappcheck.googleapis.com/v1",qe="exchangeDebugToken",tt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Qe{constructor(z,F,he,Ve,xt){if(this.operation=z,this.retryPolicy=F,this.getWaitDuration=he,this.lowerBound=Ve,this.upperBound=xt,this.pending=null,this.nextErrorWaitInterval=Ve,Ve>xt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(z){var F=this;return(0,Q.Z)(function*(){F.stop();try{F.pending=new C.BH,yield function yt(ue){return new Promise(z=>{setTimeout(z,ue)})}(F.getNextRun(z)),F.pending.resolve(),yield F.pending.promise,F.pending=new C.BH,yield F.operation(),F.pending.resolve(),yield F.pending.promise,F.process(!0).catch(()=>{})}catch(he){F.retryPolicy(he)?F.process(!1).catch(()=>{}):F.stop()}})()}getNextRun(z){if(z)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const F=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),F}}}const me=new C.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Tt(ue){if(!J(ue).activated)throw me.create("use-before-activation",{appName:ue.name})}function Xt(ue,z){return un.apply(this,arguments)}function un(){return(un=(0,Q.Z)(function*({url:ue,body:z},F){const he={"Content-Type":"application/json"},Ve=F.getImmediate({optional:!0});if(Ve){const Ii=yield Ve.getHeartbeatsHeader();Ii&&(he["X-Firebase-Client"]=Ii)}const xt={method:"POST",body:JSON.stringify(z),headers:he};let rn,gn;try{rn=yield fetch(ue,xt)}catch(Ii){throw me.create("fetch-network-error",{originalErrorMessage:Ii?.message})}if(200!==rn.status)throw me.create("fetch-status-error",{httpStatus:rn.status});try{gn=yield rn.json()}catch(Ii){throw me.create("fetch-parse-error",{originalErrorMessage:Ii?.message})}const In=gn.ttl.match(/^([\d.]+)(s)$/);if(!In||!In[2]||isNaN(Number(In[1])))throw me.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${gn.ttl}`});const Yn=1e3*Number(In[1]),_i=Date.now();return{token:gn.token,expireTimeMillis:_i+Yn,issuedAtTimeMillis:_i}})).apply(this,arguments)}function vt(ue,z){const{projectId:F,appId:he,apiKey:Ve}=ue.options;return{url:`${Ee}/projects/${F}/apps/${he}:${qe}?key=${Ve}`,body:{debug_token:z}}}const it="firebase-app-check-database",He=1,Ze="firebase-app-check-store";let lt=null;function Mn(){return(Mn=(0,Q.Z)(function*(ue,z){const he=(yield function St(){return lt||(lt=new Promise((ue,z)=>{try{const F=indexedDB.open(it,He);F.onsuccess=he=>{ue(he.target.result)},F.onerror=he=>{var Ve;z(me.create("storage-open",{originalErrorMessage:null===(Ve=he.target.error)||void 0===Ve?void 0:Ve.message}))},F.onupgradeneeded=he=>{0===he.oldVersion&&he.target.result.createObjectStore(Ze,{keyPath:"compositeKey"})}}catch(F){z(me.create("storage-open",{originalErrorMessage:F?.message}))}}),lt)}()).transaction(Ze,"readwrite"),xt=he.objectStore(Ze).put({compositeKey:ue,value:z});return new Promise((rn,gn)=>{xt.onsuccess=In=>{rn()},he.onerror=In=>{var Yn;gn(me.create("storage-set",{originalErrorMessage:null===(Yn=In.target.error)||void 0===Yn?void 0:Yn.message}))}})})).apply(this,arguments)}const ti=new x.Yd("@firebase/app-check");function yn(ue,z){return(0,C.hl)()?function At(ue,z){return function tn(ue,z){return Mn.apply(this,arguments)}(function $n(ue){return`${ue.options.appId}-${ue.name}`}(ue),z)}(ue,z).catch(F=>{ti.warn(`Failed to write token to IndexedDB. Error: ${F}`)}):Promise.resolve()}function Mt(){return Se().enabled}function ht(){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,Q.Z)(function*(){const ue=Se();if(ue.enabled&&ue.token)return ue.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Dt={error:"UNKNOWN_ERROR"};function Qt(ue){return C.US.encodeString(JSON.stringify(ue),!1)}function Nt(ue){return xn.apply(this,arguments)}function xn(){return(xn=(0,Q.Z)(function*(ue,z=!1){const F=ue.app;Tt(F);const he=J(F);let xt,Ve=he.token;if(Ve&&!Ft(Ve)&&(he.token=void 0,Ve=void 0),!Ve){const In=yield he.cachedTokenPromise;In&&(Ft(In)?Ve=In:yield yn(F,void 0))}if(!z&&Ve&&Ft(Ve))return{token:Ve.token};let gn,rn=!1;if(Mt()){he.exchangeTokenPromise||(he.exchangeTokenPromise=Xt(vt(F,yield ht()),ue.heartbeatServiceProvider).finally(()=>{he.exchangeTokenPromise=void 0}),rn=!0);const In=yield he.exchangeTokenPromise;return yield yn(F,In),he.token=In,{token:In.token}}try{he.exchangeTokenPromise||(he.exchangeTokenPromise=he.provider.getToken().finally(()=>{he.exchangeTokenPromise=void 0}),rn=!0),Ve=yield J(F).exchangeTokenPromise}catch(In){"appCheck/throttled"===In.code?ti.warn(In.message):ti.error(In),xt=In}return Ve?xt?gn=Ft(Ve)?{token:Ve.token,internalError:xt}:Pn(xt):(gn={token:Ve.token},he.token=Ve,yield yn(F,Ve)):gn=Pn(xt),rn&&function ii(ue,z){const F=J(ue).tokenObservers;for(const he of F)try{"EXTERNAL"===he.type&&null!=z.error?he.error(z.error):he.next(z)}catch{}}(F,gn),gn})).apply(this,arguments)}function kt(ue){return wt.apply(this,arguments)}function wt(){return(wt=(0,Q.Z)(function*(ue){const z=ue.app;Tt(z);const{provider:F}=J(z);if(Mt()){const he=yield ht(),{token:Ve}=yield Xt(vt(z,he),ue.heartbeatServiceProvider);return{token:Ve}}{const{token:he}=yield F.getToken();return{token:he}}})).apply(this,arguments)}function en(ue,z){const F=J(ue),he=F.tokenObservers.filter(Ve=>Ve.next!==z);0===he.length&&F.tokenRefresher&&F.tokenRefresher.isRunning()&&F.tokenRefresher.stop(),F.tokenObservers=he}function An(ue){const{app:z}=ue,F=J(z);let he=F.tokenRefresher;he||(he=function Vn(ue){const{app:z}=ue;return new Qe((0,Q.Z)(function*(){let he;if(he=J(z).token?yield Nt(ue,!0):yield Nt(ue),he.error)throw he.error;if(he.internalError)throw he.internalError}),()=>!0,()=>{const F=J(z);if(F.token){let he=F.token.issuedAtTimeMillis+.5*(F.token.expireTimeMillis-F.token.issuedAtTimeMillis)+3e5;return he=Math.min(he,F.token.expireTimeMillis-3e5),Math.max(0,he-Date.now())}return 0},tt.RETRIAL_MIN_WAIT,tt.RETRIAL_MAX_WAIT)}(ue),F.tokenRefresher=he),!he.isRunning()&&F.isTokenAutoRefreshEnabled&&he.start()}function Ft(ue){return ue.expireTimeMillis-Date.now()>0}function Pn(ue){return{token:Qt(Dt),error:ue}}class Le{constructor(z,F){this.app=z,this.heartbeatServiceProvider=F}_delete(){const{tokenObservers:z}=J(this.app);for(const F of z)en(this.app,F.next);return Promise.resolve()}}const Mo="app-check-internal";!function zr(){(0,A._registerComponent)(new R.wA("app-check",ue=>function Bt(ue,z){return new Le(ue,z)}(ue.getProvider("app").getImmediate(),ue.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ue,z,F)=>{ue.getProvider(Mo).initialize()})),(0,A._registerComponent)(new R.wA(Mo,ue=>function Rt(ue){return{getToken:z=>Nt(ue,z),getLimitedUseToken:()=>kt(ue),addTokenListener:z=>function Pt(ue,z,F,he){const{app:Ve}=ue,xt=J(Ve);if(xt.tokenObservers=[...xt.tokenObservers,{next:F,error:he,type:z}],xt.token&&Ft(xt.token)){const gn=xt.token;Promise.resolve().then(()=>{F({token:gn.token}),An(ue)}).catch(()=>{})}xt.cachedTokenPromise.then(()=>An(ue))}(ue,"INTERNAL",z),removeTokenListener:z=>en(ue.app,z)}}(ue.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,A.registerVersion)("@firebase/app-check","0.8.0")}();class Xn{constructor(){return(0,ce.vb)("app-check")}}typeof window<"u"&&window;var lr=g(7142);const qo=new t.OlP("angularfire2.auth.use-emulator"),Ws=new t.OlP("angularfire2.auth.settings"),uo=new t.OlP("angularfire2.auth.tenant-id"),ls=new t.OlP("angularfire2.auth.langugage-code"),xs=new t.OlP("angularfire2.auth.use-device-language"),Is=new t.OlP("angularfire.auth.persistence");let hr=(()=>{class ue{constructor(F,he,Ve,xt,rn,gn,In,Yn,_i,Ii,Yr,Tr){const ir=new S.x,ur=(0,I.of)(void 0).pipe((0,B.Q)(rn.outsideAngular),(0,Z.w)(()=>xt.runOutsideAngular(()=>g.e(365).then(g.bind(g,6365)))),(0,oe.U)(()=>(0,Te.on)(F,xt,he)),(0,oe.U)(No=>((ue,z,F,he,Ve,xt,rn,gn)=>(0,Te.cc)(`${ue.name}.auth`,"AngularFireAuth",ue.name,()=>{const In=z.runOutsideAngular(()=>ue.auth());if(F&&In.useEmulator(...F),he&&(In.tenantId=he),In.languageCode=Ve,xt&&In.useDeviceLanguage(),rn)for(const[Yn,_i]of Object.entries(rn))In.settings[Yn]=_i;return gn&&In.setPersistence(gn),In},[F,he,Ve,xt,rn,gn]))(No,xt,gn,Yn,_i,Ii,In,Yr)),(0,le.d)({bufferSize:1,refCount:!1}));if((0,be.PM)(Ve))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,I.of)(null);else{ur.pipe((0,Re.P)()).subscribe();const rs=ur.pipe((0,Z.w)(ao=>ao.getRedirectResult().then(Ha=>Ha,()=>null)),ce.iC,(0,le.d)({bufferSize:1,refCount:!1})),na=ur.pipe((0,Z.w)(ao=>new E.y(Ha=>({unsubscribe:xt.runOutsideAngular(()=>ao.onAuthStateChanged(Ca=>Ha.next(Ca),Ca=>Ha.error(Ca),()=>Ha.complete()))})))),ia=ur.pipe((0,Z.w)(ao=>new E.y(Ha=>({unsubscribe:xt.runOutsideAngular(()=>ao.onIdTokenChanged(Ca=>Ha.next(Ca),Ca=>Ha.error(Ca),()=>Ha.complete()))}))));this.authState=rs.pipe(ae(na),(0,G.R)(rn.outsideAngular),(0,B.Q)(rn.insideAngular)),this.user=rs.pipe(ae(ia),(0,G.R)(rn.outsideAngular),(0,B.Q)(rn.insideAngular)),this.idToken=this.user.pipe((0,Z.w)(ao=>ao?(0,L.D)(ao.getIdToken()):(0,I.of)(null))),this.idTokenResult=this.user.pipe((0,Z.w)(ao=>ao?(0,L.D)(ao.getIdTokenResult()):(0,I.of)(null))),this.credential=(0,b.T)(rs,ir,this.authState.pipe((0,De.h)(ao=>!ao))).pipe((0,oe.U)(ao=>ao?.user?ao:null),(0,G.R)(rn.outsideAngular),(0,B.Q)(rn.insideAngular))}return(0,Te.pX)(this,ur,xt,{spy:{apply:(No,rs,na)=>{(No.startsWith("signIn")||No.startsWith("createUser"))&&na.then(ia=>ir.next(ia))}}})}}return ue.\u0275fac=function(F){return new(F||ue)(t.LFG(Te.Dh),t.LFG(Te.xv,8),t.LFG(t.Lbi),t.LFG(t.R0b),t.LFG(ce.HU),t.LFG(qo,8),t.LFG(Ws,8),t.LFG(uo,8),t.LFG(ls,8),t.LFG(xs,8),t.LFG(Is,8),t.LFG(Xn,8))},ue.\u0275prov=t.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"any"}),ue})(),Sr=(()=>{class ue{constructor(){lr.Z.registerVersion("angularfire",ce.q4.full,"auth-compat")}}return ue.\u0275fac=function(F){return new(F||ue)},ue.\u0275mod=t.oAB({type:ue}),ue.\u0275inj=t.cJS({providers:[hr]}),ue})(),no=(()=>{class ue{constructor(F,he){this.restProvider=F,this.afAuth=he}validateUser(F){return new Promise((he,Ve)=>{this.restProvider.executeSinovadApiService(i.yw.POST,"/authentication/ValidateUser",{UserName:F}).then(xt=>{he(xt)},xt=>{Ve(xt)})})}authenticateByLinkedAccount(F){return new Promise((he,Ve)=>{this.restProvider.executeSinovadApiService(i.yw.POST,"/authentication/AuthenticateLinkedAccount",F).then(xt=>{he(xt)},xt=>{Ve(xt)})})}authenticateUser(F){return new Promise((he,Ve)=>{this.restProvider.executeSinovadApiService(i.yw.POST,"/authentication/AuthenticateUser",F).then(xt=>{he(xt)},xt=>{Ve(xt)})})}authenticatePasswordAndConfirmLinkAccountToUser(F){return new Promise((he,Ve)=>{this.restProvider.executeSinovadApiService(i.yw.POST,"/authentication/AuthenticatePasswordAndConfirmLinkAccountToUser",F).then(xt=>{he(xt)},xt=>{Ve(xt)})})}authenticateWithGoogle(){return this.authenticate(new p.V)}authenticateWithFacebook(){return this.authenticate(new p.U)}authenticateWithApple(){}authenticate(F){return new Promise((he,Ve)=>this.afAuth.signInWithPopup(F).then(xt=>{he(xt)}).catch(xt=>{Ve(xt)}))}static#e=this.\u0275fac=function(he){return new(he||ue)(t.LFG(O.C),t.LFG(hr))};static#t=this.\u0275prov=t.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})();var ua=g(5864),Ao=g(7541),kr=g(1367),mr=g(5220),Fo=g(2032),Ys=g(4170),pr=g(1531);function vs(ue,z){if(1&ue&&(t.TgZ(0,"span",19),t._uU(1),t.qZA()),2&ue){const F=t.oxw(2);t.xp6(1),t.hij(" ",F.errorMessage," ")}}function Wo(ue,z){1&ue&&(t.TgZ(0,"mat-error"),t._UZ(1,"i",20),t._uU(2,"Ingresa el usuario correctamente "),t.qZA())}function ws(ue,z){if(1&ue){const F=t.EpF();t.TgZ(0,"form",10),t.NdJ("ngSubmit",function(){t.CHM(F);const Ve=t.oxw();return t.KtG(Ve.validateUser())}),t.YNc(1,vs,2,1,"span",11),t.TgZ(2,"div",12)(3,"mat-form-field",13)(4,"mat-label"),t._uU(5,"Usuario"),t.qZA(),t._UZ(6,"input",14),t.YNc(7,Wo,3,0,"mat-error",15),t.qZA()(),t.TgZ(8,"div",12)(9,"button",16),t._uU(10,"Siguiente"),t.qZA()()(),t.TgZ(11,"div",12)(12,"button",17),t.NdJ("click",function(){t.CHM(F);const Ve=t.oxw();return t.KtG(Ve.onClose())}),t._uU(13,"Cancelar"),t.qZA()(),t.TgZ(14,"div",12)(15,"button",18),t.NdJ("click",function(){t.CHM(F);const Ve=t.oxw();return t.KtG(Ve.loginWithGoogle())}),t._UZ(16,"img",2),t.ALo(17,"async"),t.ALo(18,"formatDataPipe"),t._uU(19,"Continuar con Google"),t.qZA()()}if(2&ue){const F=t.oxw();t.Q6J("formGroup",F.userFormGroup),t.xp6(1),t.Q6J("ngIf",F.errorMessage),t.xp6(5),t.Q6J("errorStateMatcher",F.matcher),t.xp6(1),t.Q6J("ngIf",F.userFormGroup.controls.username.hasError("required")),t.xp6(2),t.Q6J("disabled",F.showLoading||!F.userFormGroup.valid),t.xp6(7),t.Q6J("src",t.lcZ(17,6,t.xi3(18,8,"google.svg","GetIconURLByKey")),t.LSH)}}function Da(ue,z){if(1&ue&&(t.TgZ(0,"span",19),t._uU(1),t.qZA()),2&ue){const F=t.oxw(2);t.xp6(1),t.hij(" ",F.errorMessage," ")}}function Ls(ue,z){1&ue&&(t.TgZ(0,"mat-error"),t._UZ(1,"i",20),t._uU(2,"Ingresa la contrase\xf1a correctamente "),t.qZA())}const vo=function(ue){return{disable:ue}};function ks(ue,z){if(1&ue){const F=t.EpF();t.YNc(0,Da,2,1,"span",11),t.TgZ(1,"form",10),t.NdJ("ngSubmit",function(){t.CHM(F);const Ve=t.oxw();return t.KtG(Ve.authenticateUser())}),t.TgZ(2,"div",12)(3,"mat-form-field",13)(4,"mat-label"),t._uU(5,"Contrase\xf1a"),t.qZA(),t._UZ(6,"input",21),t.YNc(7,Ls,3,0,"mat-error",15),t.qZA()(),t.TgZ(8,"div",12)(9,"button",16),t._uU(10,"Iniciar sesi\xf3n"),t.qZA()()(),t.TgZ(11,"div",12)(12,"button",17),t.NdJ("click",function(){t.CHM(F);const Ve=t.oxw();return t.KtG(Ve.onClose())}),t._uU(13,"Cancelar"),t.qZA()(),t.TgZ(14,"div",12)(15,"button",22),t.NdJ("click",function(){t.CHM(F);const Ve=t.oxw();return t.KtG(Ve.showRecoverPasswordPage())}),t._uU(16,"Olvidaste tu contrase\xf1a?"),t.qZA()()}if(2&ue){const F=t.oxw();t.Q6J("ngIf",F.errorMessage),t.xp6(1),t.Q6J("formGroup",F.passwordFormGroup),t.xp6(5),t.Q6J("errorStateMatcher",F.matcher),t.xp6(1),t.Q6J("ngIf",F.passwordFormGroup.controls.password.hasError("required")),t.xp6(2),t.Q6J("disabled",F.showLoading||!F.passwordFormGroup.valid),t.xp6(6),t.Q6J("ngClass",t.VKq(6,vo,F.showLoading))}}function es(ue,z){if(1&ue&&(t.TgZ(0,"span",19),t._uU(1),t.qZA()),2&ue){const F=t.oxw(2);t.xp6(1),t.hij(" ",F.errorMessage," ")}}function fa(ue,z){1&ue&&(t.TgZ(0,"mat-error"),t._UZ(1,"i",20),t._uU(2,"Ingresa la contrase\xf1a correctamente "),t.qZA())}function Ma(ue,z){if(1&ue){const F=t.EpF();t.YNc(0,es,2,1,"span",11),t.TgZ(1,"div",23)(2,"div",24),t._uU(3," Encontramos una cuenta de Sinovad Stream para "),t.TgZ(4,"div",25),t._uU(5),t.qZA()(),t._uU(6," Verifique su cuenta para continuar "),t.qZA(),t.TgZ(7,"form",10),t.NdJ("ngSubmit",function(){t.CHM(F);const Ve=t.oxw();return t.KtG(Ve.ConfirmLinkAccountToUser())}),t.TgZ(8,"div",12)(9,"mat-form-field",13)(10,"mat-label"),t._uU(11,"Contrase\xf1a"),t.qZA(),t._UZ(12,"input",21),t.YNc(13,fa,3,0,"mat-error",15),t.qZA()(),t.TgZ(14,"div",12)(15,"button",16),t._uU(16,"Confirmar"),t.qZA()()(),t.TgZ(17,"div",12)(18,"button",17),t.NdJ("click",function(){t.CHM(F);const Ve=t.oxw();return t.KtG(Ve.onClose())}),t._uU(19,"Cancelar"),t.qZA()(),t.TgZ(20,"div",12)(21,"button",22),t.NdJ("click",function(){t.CHM(F);const Ve=t.oxw();return t.KtG(Ve.showRecoverPasswordPage())}),t._uU(22,"Olvidaste tu contrase\xf1a?"),t.qZA()()}if(2&ue){const F=t.oxw();t.Q6J("ngIf",F.errorMessage),t.xp6(5),t.hij(" ",F.confirmLinkAccountData.Email," "),t.xp6(2),t.Q6J("formGroup",F.passwordFormGroup),t.xp6(5),t.Q6J("errorStateMatcher",F.matcher),t.xp6(1),t.Q6J("ngIf",F.passwordFormGroup.controls.password.hasError("required")),t.xp6(2),t.Q6J("disabled",F.showLoading||!F.passwordFormGroup.valid),t.xp6(6),t.Q6J("ngClass",t.VKq(7,vo,F.showLoading))}}let Zs=(()=>{class ue{constructor(F,he,Ve,xt,rn,gn,In){this.userService=F,this.authenticationService=he,this.menuService=Ve,this.signalIRHubService=xt,this.formBuilder=rn,this.router=gn,this.sharedDataService=In,this._window=window,this.showLoading=!1,this.user=new c,this.userFormGroup=this.formBuilder.group({username:new D.NI("",[D.kI.required])}),this.passwordFormGroup=this.formBuilder.group({password:new D.NI("",[D.kI.required])}),this.matcher=new f.n,this.showPasswordForm=!1,this.showConfirmLinkedAccountForm=!1}validateUser(){this.userFormGroup.valid?(this.showLoading=!0,this.user.UserName=this.userFormGroup.value.username,this.authenticationService.validateUser(this.user.UserName).then(F=>{this.showPasswordForm=!0,this.showLoading=!1,this.errorMessage=void 0},F=>{this.showLoading=!1,this.errorMessage=F,console.error(F)})):(this.errorMessage=void 0,this.userFormGroup.markAllAsTouched())}authenticateUser(){this.passwordFormGroup.valid?(this.user.Password=this.passwordFormGroup.value.password,this.showLoading=!0,this.authenticationService.authenticateUser(this.user).then(F=>{this.setUserSessionDataAfterAuthenticate(F.Data)},F=>{this.showLoading=!1,this.errorMessage=F,console.error(F)})):(this.errorMessage=void 0,this.passwordFormGroup.markAllAsTouched())}loginWithGoogle(){this.showLoading=!0,this.errorMessage=void 0,this.authenticationService.authenticateWithGoogle().then(F=>{var he=new d;he.AccessToken=F.credential.accessToken,he.LinkedAccountProviderCatalogId=i.P9.LinkedAccountProvider,he.LinkedAccountProviderCatalogDetailId=i.jP.Google,this.authenticationService.authenticateByLinkedAccount(he).then(Ve=>{var xt=Ve.Data;xt.ConfirmLinkAccountData?(this.showLoading=!1,this.confirmLinkAccountData=xt.ConfirmLinkAccountData,this.showConfirmLinkedAccountForm=!0):this.setUserSessionDataAfterAuthenticate(xt)},Ve=>{this.showLoading=!1})},F=>{console.error(F),this.showLoading=!1})}ConfirmLinkAccountToUser(){this.errorMessage=void 0,this.passwordFormGroup.valid?(this.confirmLinkAccountData.Password=this.passwordFormGroup.value.password,this.showLoading=!0,this.authenticationService.authenticatePasswordAndConfirmLinkAccountToUser(this.confirmLinkAccountData).then(F=>{this.setUserSessionDataAfterAuthenticate(F.Data)},F=>{this.showLoading=!1,this.errorMessage=F,console.error(F)})):(this.errorMessage=void 0,this.passwordFormGroup.markAllAsTouched())}setUserSessionDataAfterAuthenticate(F){this.sharedDataService.apiToken=F.ApiToken,localStorage.setItem("apiToken",this.sharedDataService.apiToken);let he=F.UserData;this.sharedDataService.userData=he.User,this.sharedDataService.mediaServers=he.MediaServers,this.sharedDataService.listProfiles=he.Profiles,this.sharedDataService.linkedAccounts=he.LinkedAccounts,this.sharedDataService.currentProfile=he.Profiles[0],this.sharedDataService.manageMenus=he.Menus,this.sharedDataService.showSplashScreen=!0,this.signalIRHubService.openConnection(),this.router.navigate(["profiles"],{skipLocationChange:!1})}loginWithFacebook(){this.showLoading=!0,this.authenticationService.authenticateWithFacebook().then(F=>{console.log(F),this.showLoading=!1},F=>{console.error(F),this.showLoading=!1})}loginWithApple(){}onClose(){this.router.navigateByUrl("/landing")}showRecoverPasswordPage(){this.router.navigateByUrl("/recover")}static#e=this.\u0275fac=function(he){return new(he||ue)(t.Y36(h.K),t.Y36(no),t.Y36(ua.h),t.Y36(Ao.n),t.Y36(D.qu),t.Y36(y.F0),t.Y36(kr.g))};static#t=this.\u0275cmp=t.Xpm({type:ue,selectors:[["app-login"]],decls:18,vars:16,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"login-container"],[1,"login-logo-container"],[1,"login-content"],[1,"login-form-container"],[1,"login-title-container"],[3,"ngIf"],[3,"showLoading"],["autocomplete","off",1,"login-form-content",3,"formGroup","ngSubmit"],["class","form-error-message",4,"ngIf"],[1,"mb-3"],[1,"login-form-field"],["id","title","matInput","","formControlName","username",3,"errorStateMatcher"],[4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-secondary",3,"click"],[1,"btn","google",3,"click"],[1,"form-error-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],["id","title","matInput","","formControlName","password","type","password",3,"errorStateMatcher"],[1,"btn","btn-secondary",3,"ngClass","click"],[1,"confirm-link-account-title"],[1,"confirm-link-account-message"],[1,"confirm-link-account-message-email"]],template:function(he,Ve){1&he&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return Ve.onClose()}),t._UZ(2,"img",2),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4),t._UZ(7,"img",2),t.ALo(8,"async"),t.ALo(9,"formatDataPipe"),t.qZA(),t.TgZ(10,"div",5)(11,"div",6)(12,"div",7),t._uU(13," Inicia sesi\xf3n "),t.qZA(),t.YNc(14,ws,20,11,"ng-template",8),t.YNc(15,ks,17,8,"ng-template",8),t.YNc(16,Ma,23,9,"ng-template",8),t.qZA()()(),t._UZ(17,"app-custom-spinner",9)),2&he&&(t.xp6(2),t.Q6J("src",t.lcZ(3,6,t.xi3(4,8,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(5),t.Q6J("src",t.lcZ(8,11,t.xi3(9,13,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngIf",!Ve.showPasswordForm&&!Ve.showConfirmLinkedAccountForm),t.xp6(1),t.Q6J("ngIf",Ve.showPasswordForm&&!Ve.showConfirmLinkedAccountForm),t.xp6(1),t.Q6J("ngIf",Ve.showConfirmLinkedAccountForm),t.xp6(1),t.Q6J("showLoading",Ve.showLoading))},dependencies:[be.mk,be.O5,D._Y,D.Fj,D.JJ,D.JL,mr.D,Fo.Nt,Ys.KE,Ys.hX,Ys.TO,D.sg,D.u,be.Ov,pr.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.form-error-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:15px;justify-content:center;overflow:hidden;padding:20px 0;text-align:center;width:100%;border-bottom-width:2px;color:#f06464}.confirm-link-account-title[_ngcontent-%COMP%]{padding:30px 0;color:#282a2d;display:flex;flex-direction:column;font-size:13px}.confirm-link-account-message[_ngcontent-%COMP%]{color:#51595e;font-family:plexeina-bold,Helvetica,sans-serif;font-size:15px;margin-bottom:30px;text-align:center}.confirm-link-account-message-email[_ngcontent-%COMP%]{color:#007bff;font-family:plexeina-bold,Helvetica,sans-serif;font-size:15px;text-align:center}.login-container[_ngcontent-%COMP%]{text-align:-webkit-center;display:block!important;padding:100px 0;width:100%;height:100%;color:#fff;position:absolute}.login-logo-container[_ngcontent-%COMP%]{width:100%;text-align:center;font-weight:700;margin-bottom:20px;display:flex;align-items:center;justify-content:center;font-size:20px;max-width:300px}.login-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.login-title-container[_ngcontent-%COMP%]{margin-bottom:10px;font-size:20px}.login-content[_ngcontent-%COMP%]{display:block;max-width:500px}.login-form-container[_ngcontent-%COMP%]{padding:40px 20px;border-radius:5px;background:white;color:#000;justify-content:center;align-items:center;margin-bottom:300px;height:100%}.login-form-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-invalid-input-message[_ngcontent-%COMP%]{color:#d93025;margin-top:5px;font-size:13px}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;opacity:.9}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-right:10px}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.65}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.login-form-container[_ngcontent-%COMP%]   button.enter[_ngcontent-%COMP%]{background-color:#007bff}.login-form-container[_ngcontent-%COMP%]   button.recover[_ngcontent-%COMP%]{background-color:#2e303d}.login-form-container[_ngcontent-%COMP%]   button.google[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:2px solid rgba(0,0,0,.3)}.login-form-container[_ngcontent-%COMP%]   button.google[_ngcontent-%COMP%]:hover{background-color:#0000001a;color:#51595e}.login-form-container[_ngcontent-%COMP%]   button.facebook[_ngcontent-%COMP%]{background-color:#4267b2;color:#fff}.login-form-container[_ngcontent-%COMP%]   button.apple[_ngcontent-%COMP%]{background-color:#000;color:#fff}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]{display:block;color:#000}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border-radius:5px;padding:10px;color:#000;outline:rgba(0,0,0,.3)!important;background:white;border:none;font-size:14px;opacity:.8;height:35px;border:2px solid rgba(0,0,0,.3)}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#000}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{opacity:1;border:2px solid white}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{opacity:1;border:2px solid white}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{opacity:1;border:2px solid white}.sinovad-form-error-message-container[_ngcontent-%COMP%]{color:#f44336de!important;padding-bottom:10px}.login-form-content[_ngcontent-%COMP%]{max-width:300px;width:100%}.mb-3[_ngcontent-%COMP%]{text-align:left;max-width:300px}"]})}return ue})();class Fr{}var Uo=g(5731);function cs(ue,z){if(1&ue&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2),t.qZA()),2&ue){const F=t.oxw(2);t.xp6(2),t.hij(" ",F.commonService.hasRequireErrorFormControl(F.registerUserForm,"email")?"Confirma que hayas agregado el email correctamente":F.commonService.hasErrorPatternFormControl(F.registerUserForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}function ra(ue,z){1&ue&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado los nombres correctamente "),t.qZA())}function Fs(ue,z){1&ue&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado los apellidos correctamente "),t.qZA())}function ys(ue,z){1&ue&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado el usuario correctamente "),t.qZA())}function Aa(ue,z){1&ue&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado el password correctamente "),t.qZA())}function Br(ue,z){1&ue&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),t.qZA())}const kn=function(ue){return{error:ue}},_t=function(ue){return{disable:ue}};function Ot(ue,z){if(1&ue){const F=t.EpF();t.TgZ(0,"div",9)(1,"form",10),t.NdJ("ngSubmit",function(){t.CHM(F);const Ve=t.oxw();return t.KtG(Ve.register())}),t.TgZ(2,"div",11),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",12),t._uU(7," Reg\xedstrate "),t.qZA(),t.TgZ(8,"div",13)(9,"label",14),t._uU(10," Correo electr\xf3nico "),t.qZA(),t.TgZ(11,"div",15),t._UZ(12,"input",16),t.YNc(13,cs,3,1,"label",17),t.qZA()(),t.TgZ(14,"div",13)(15,"label",14),t._uU(16," Nombres "),t.qZA(),t.TgZ(17,"div",15),t._UZ(18,"input",18),t.YNc(19,ra,3,0,"label",17),t.qZA()(),t.TgZ(20,"div",13)(21,"label",14),t._uU(22," Apellidos "),t.qZA(),t.TgZ(23,"div",15),t._UZ(24,"input",19),t.YNc(25,Fs,3,0,"label",17),t.qZA()(),t.TgZ(26,"div",13)(27,"label",14),t._uU(28," Usuario "),t.qZA(),t.TgZ(29,"div",15),t._UZ(30,"input",20),t.YNc(31,ys,3,0,"label",17),t.qZA()(),t.TgZ(32,"div",13)(33,"label",14),t._uU(34," Contrase\xf1a "),t.qZA(),t.TgZ(35,"div",15),t._UZ(36,"input",21),t.YNc(37,Aa,3,0,"label",17),t.qZA()(),t.TgZ(38,"div",13)(39,"label",14),t._uU(40," Confirmar contrase\xf1a "),t.qZA(),t.TgZ(41,"div",15),t._UZ(42,"input",22),t.YNc(43,Br,3,0,"label",17),t.qZA()(),t.TgZ(44,"div",23)(45,"button",24),t._uU(46,"Registrar"),t.qZA()(),t.TgZ(47,"div",25),t._uU(48),t.qZA()()()}if(2&ue){const F=t.oxw();t.xp6(1),t.Q6J("formGroup",F.registerUserForm),t.xp6(2),t.Q6J("src",t.lcZ(4,16,t.xi3(5,18,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngClass",t.VKq(21,kn,F.commonService.isInvalidFormControl(F.registerUserForm,"email"))),t.xp6(5),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.registerUserForm,"email")),t.xp6(1),t.Q6J("ngClass",t.VKq(23,kn,F.commonService.isInvalidFormControl(F.registerUserForm,"firstName"))),t.xp6(5),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.registerUserForm,"firstName")&&F.commonService.hasRequireErrorFormControl(F.registerUserForm,"firstName")),t.xp6(1),t.Q6J("ngClass",t.VKq(25,kn,F.commonService.isInvalidFormControl(F.registerUserForm,"lastName"))),t.xp6(5),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.registerUserForm,"lastName")&&F.commonService.hasRequireErrorFormControl(F.registerUserForm,"lastName")),t.xp6(1),t.Q6J("ngClass",t.VKq(27,kn,F.commonService.isInvalidFormControl(F.registerUserForm,"username"))),t.xp6(5),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.registerUserForm,"username")&&F.commonService.hasRequireErrorFormControl(F.registerUserForm,"username")),t.xp6(1),t.Q6J("ngClass",t.VKq(29,kn,F.commonService.isInvalidFormControl(F.registerUserForm,"password"))),t.xp6(5),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.registerUserForm,"password")&&F.commonService.hasRequireErrorFormControl(F.registerUserForm,"password")),t.xp6(1),t.Q6J("ngClass",t.VKq(31,kn,F.commonService.isInvalidFormControl(F.registerUserForm,"confirmPassword"))),t.xp6(5),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.registerUserForm,"confirmPassword")&&F.commonService.hasRequireErrorFormControl(F.registerUserForm,"confirmPassword")),t.xp6(2),t.Q6J("ngClass",t.VKq(33,_t,F.showLoading)),t.xp6(3),t.hij(" ",F.errorMessage," ")}}function ft(ue,z){1&ue&&(t.TgZ(0,"div",28)(1,"div",29)(2,"div",11),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",12),t._uU(7," Registro de Usuario "),t.qZA(),t.TgZ(8,"h2"),t._uU(9,"Usuario registrado satistactoriamente, verifique su correo electr\xf3nico y active su cuenta por favor."),t.qZA()()()),2&ue&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH))}let $t=(()=>{class ue{constructor(F,he,Ve,xt,rn){this.formBuilder=F,this.router=he,this.userService=Ve,this.commonService=xt,this.sharedDataService=rn,this._window=window,this.showLoading=!1,this.showSuccessMessage=!1,this.registerUserModel=new Fr,this.registerUserForm=this.formBuilder.group({email:new D.NI("",[D.kI.required,D.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),firstName:new D.NI("",[D.kI.required]),lastName:new D.NI("",[D.kI.required]),username:new D.NI("",[D.kI.required]),password:new D.NI("",[D.kI.required]),confirmPassword:new D.NI("",[D.kI.required])})}ngOnInit(){}register(){this.registerUserForm.valid?(this.registerUserModel={Email:this.registerUserForm.value.email,FirstName:this.registerUserForm.value.firstName,LastName:this.registerUserForm.value.lastName,UserName:this.registerUserForm.value.username,Password:this.registerUserForm.value.password,ConfirmPassword:this.registerUserForm.value.confirmPassword,ConfirmEmailUrl:window.location.origin+"/confirm"},this.showLoading=!0,this.userService.registerUser(this.registerUserModel).then(F=>{this.showLoading=!1,this.showSuccessMessage=!0},F=>{this.showLoading=!1,this.errorMessage=F,console.error(F)})):(this.errorMessage=void 0,this.registerUserForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(he){return new(he||ue)(t.Y36(D.qu),t.Y36(y.F0),t.Y36(h.K),t.Y36(Uo.v),t.Y36(kr.g))};static#t=this.\u0275cmp=t.Xpm({type:ue,selectors:[["app-register-user"]],decls:11,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-form-backdrop"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3",3,"ngClass"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","text","formControlName","firstName"],["type","text","formControlName","lastName"],["type","text","formControlName","username"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],[1,"mb-3"],["type","submit",1,"register",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(he,Ve){1&he&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return Ve.onClose()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5),t.YNc(8,Ot,49,35,"div",6),t.YNc(9,ft,10,6,"div",7),t.qZA()(),t._UZ(10,"app-custom-spinner",8)),2&he&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngIf",!Ve.showSuccessMessage),t.xp6(1),t.Q6J("ngIf",Ve.showSuccessMessage),t.xp6(1),t.Q6J("showLoading",Ve.showLoading))},dependencies:[be.mk,be.O5,D._Y,D.Fj,D.JJ,D.JL,mr.D,D.sg,D.u,be.Ov,pr.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-form-backdrop[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}button.register[_ngcontent-%COMP%]{background-color:#007bff}"]})}return ue})();var On=g(4440),Ti=g.n(On);class Zi{}class Yo{}function ts(ue,z){1&ue&&(t.TgZ(0,"label",20),t._UZ(1,"i",21),t._uU(2,"Confirma que hayas agregado el password correctamente "),t.qZA())}function bs(ue,z){1&ue&&(t.TgZ(0,"label",20),t._UZ(1,"i",21),t._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),t.qZA())}const si=function(ue){return{disable:ue}};function Os(ue,z){if(1&ue){const F=t.EpF();t.TgZ(0,"div",8)(1,"form",9),t.NdJ("ngSubmit",function(){t.CHM(F);const Ve=t.oxw();return t.KtG(Ve.confirm())}),t.TgZ(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Cambiar contrase\xf1a "),t.qZA(),t.TgZ(8,"div",12)(9,"label",13),t._uU(10," Contrase\xf1a "),t.qZA(),t.TgZ(11,"div",14),t._UZ(12,"input",15),t.YNc(13,ts,3,0,"label",16),t.qZA()(),t.TgZ(14,"div",12)(15,"label",13),t._uU(16," Confirmaci\xf3n de contrase\xf1a "),t.qZA(),t.TgZ(17,"div",14),t._UZ(18,"input",17),t.YNc(19,bs,3,0,"label",16),t.qZA()(),t.TgZ(20,"div",12)(21,"button",18),t._uU(22,"Confirmar"),t.qZA()(),t.TgZ(23,"div",19),t._uU(24),t.qZA()()()}if(2&ue){const F=t.oxw();t.xp6(1),t.Q6J("formGroup",F.resetPasswordForm),t.xp6(2),t.Q6J("src",t.lcZ(4,6,t.xi3(5,8,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(10),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.resetPasswordForm,"password")&&F.commonService.hasRequireErrorFormControl(F.resetPasswordForm,"password")),t.xp6(6),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.resetPasswordForm,"confirmPassword")&&F.commonService.hasRequireErrorFormControl(F.resetPasswordForm,"confirmPassword")),t.xp6(2),t.Q6J("ngClass",t.VKq(11,si,F.showLoading)),t.xp6(3),t.hij(" ",F.errorMessage," ")}}function qr(ue,z){1&ue&&(t.TgZ(0,"div",11),t._uU(1," Cambio de contrase\xf1a "),t.qZA(),t.TgZ(2,"h2"),t._uU(3,"Se cambi\xf3 la contrase\xf1a satisfactoriamente"),t.qZA())}function ds(ue,z){1&ue&&(t.TgZ(0,"div",11),t._uU(1," Validaci\xf3n de Token "),t.qZA(),t.TgZ(2,"h2",25),t._uU(3,"Token inv\xe1lido"),t.qZA())}function cl(ue,z){if(1&ue&&(t.TgZ(0,"div",22)(1,"div",23)(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.YNc(6,qr,4,0,"ng-template",24),t.YNc(7,ds,4,0,"ng-template",24),t.qZA()()),2&ue){const F=t.oxw();t.xp6(3),t.Q6J("src",t.lcZ(4,3,t.xi3(5,5,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngIf",F.showResetPasswordSuccessMessage),t.xp6(1),t.Q6J("ngIf",F.showInvalidTokenMessage)}}let ha=(()=>{class ue{constructor(F,he,Ve,xt,rn,gn){this.formBuilder=F,this.router=he,this.activeRoute=Ve,this.userService=xt,this.commonService=rn,this.sharedDataService=gn,this._window=window,this.showLoading=!1,this.resetPasswordModel=new Zi,this.showResetPasswordForm=!1,this.showInvalidTokenMessage=!1,this.showResetPasswordSuccessMessage=!1,this.resetPasswordForm=this.formBuilder.group({password:new D.NI("",[D.kI.required]),confirmPassword:new D.NI("",[D.kI.required])})}ngOnInit(){let F=this.activeRoute.snapshot.params.base64Data;if(null!=F)try{let xt=Ti().decode(F);var he=JSON.parse(xt);if(this.resetPasswordToken=he.ResetPasswordToken,this.userId=he.UserId,null!=this.resetPasswordToken&&null!=this.userId){this.showLoading=!0;var Ve=new Yo;Ve.ResetPasswordToken=this.resetPasswordToken,Ve.UserId=this.userId,this.userService.validateResetPasswordToken(Ve).then(rn=>{this.showResetPasswordForm=!0,this.showLoading=!1},rn=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=rn,console.error(rn)})}else this.showInvalidTokenMessage=!0}catch{this.showInvalidTokenMessage=!0}else this.router.navigate(["home"],{skipLocationChange:!1})}confirm(){this.resetPasswordForm.valid?(this.showLoading=!0,this.resetPasswordModel={ResetPasswordToken:this.resetPasswordToken,UserId:this.userId,Password:this.resetPasswordForm.value.password,ConfirmPassword:this.resetPasswordForm.value.confirmPassword},this.userService.resetPassword(this.resetPasswordModel).then(F=>{this.showResetPasswordSuccessMessage=!0,this.showResetPasswordForm=!1,this.showLoading=!1},F=>{this.showLoading=!1,this.errorMessage=F,console.error(F)})):(this.errorMessage=void 0,this.resetPasswordForm.markAllAsTouched())}onClickCloseButton(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(he){return new(he||ue)(t.Y36(D.qu),t.Y36(y.F0),t.Y36(y.gz),t.Y36(h.K),t.Y36(Uo.v),t.Y36(kr.g))};static#t=this.\u0275cmp=t.Xpm({type:ue,selectors:[["app-reset-password"]],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","password","formControlName","password"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","password","formControlName","confirmPassword"],["type","submit",1,"confirm",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[3,"ngIf"],[1,"error"]],template:function(he,Ve){1&he&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return Ve.onClickCloseButton()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,Os,25,13,"div",5),t.YNc(8,cl,8,8,"div",6),t.qZA(),t._UZ(9,"app-custom-spinner",7)),2&he&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngIf",Ve.showResetPasswordForm),t.xp6(1),t.Q6J("ngIf",!Ve.showResetPasswordForm&&(Ve.showInvalidTokenMessage||Ve.showResetPasswordSuccessMessage)),t.xp6(1),t.Q6J("showLoading",Ve.showLoading))},dependencies:[be.mk,be.O5,D._Y,D.Fj,D.JJ,D.JL,mr.D,D.sg,D.u,be.Ov,pr.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.confirm[_ngcontent-%COMP%]{background-color:#007bff}"]})}return ue})();class xa{}function oa(ue,z){if(1&ue&&(t.TgZ(0,"h2",9),t._uU(1),t.qZA()),2&ue){const F=t.oxw();t.xp6(1),t.Oqu(F.errorMessage)}}function us(ue,z){1&ue&&(t.TgZ(0,"h2"),t._uU(1,"Su correo ha sido confirmado, ya puede iniciar sesi\xf3n"),t.qZA())}let dl=(()=>{class ue{constructor(F,he,Ve){this.router=F,this.activeRoute=he,this.userService=Ve,this._window=window,this.showLoading=!1,this.showInvalidTokenMessage=!1,this.showSuccessMessage=!1}ngOnInit(){let F=this.activeRoute.snapshot.params.base64Data;if(null!=F)try{let xt=Ti().decode(F);var he=JSON.parse(xt);if(he.ConfirmEmailToken){this.showLoading=!0;var Ve=new xa;Ve.ConfirmEmailToken=he.ConfirmEmailToken,Ve.UserId=he.UserId,this.userService.validateConfirmEmailToken(Ve).then(rn=>{this.showLoading=!1,this.showSuccessMessage=!0},rn=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=rn,console.error(rn)})}else this.router.navigate(["home"],{skipLocationChange:!1})}catch{this.router.navigate(["home"],{skipLocationChange:!1})}else this.router.navigate(["home"],{skipLocationChange:!1})}onClose(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(he){return new(he||ue)(t.Y36(y.F0),t.Y36(y.gz),t.Y36(h.K))};static#t=this.\u0275cmp=t.Xpm({type:ue,selectors:[["app-confirm-email"]],decls:16,vars:14,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[3,"ngIf"],[1,"error"]],template:function(he,Ve){1&he&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return Ve.onClose()}),t._UZ(2,"img",2),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),t._UZ(9,"img",2),t.ALo(10,"async"),t.ALo(11,"formatDataPipe"),t.qZA(),t.TgZ(12,"div",7),t._uU(13," Confirmaci\xf3n de Email "),t.qZA(),t.YNc(14,oa,2,1,"ng-template",8),t.YNc(15,us,2,0,"ng-template",8),t.qZA()()()),2&he&&(t.xp6(2),t.Q6J("src",t.lcZ(3,4,t.xi3(4,6,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(7),t.Q6J("src",t.lcZ(10,9,t.xi3(11,11,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngIf",Ve.showInvalidTokenMessage),t.xp6(1),t.Q6J("ngIf",Ve.showSuccessMessage))},dependencies:[be.O5,be.Ov,pr.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}"]})}return ue})(),Ol=(()=>{class ue{constructor(F,he){this.router=F,this.sharedDataService=he}ngOnInit(){}goInitialPage(){this.router.navigateByUrl(null!=this.sharedDataService.apiToken?"/home":"/landing").then(he=>{},he=>{console.error(he)})}static#e=this.\u0275fac=function(he){return new(he||ue)(t.Y36(y.F0),t.Y36(kr.g))};static#t=this.\u0275cmp=t.Xpm({type:ue,selectors:[["app-not-found"]],decls:12,vars:6,consts:[[1,"d-flex","align-items-center","justify-content-center","vh-100"],[1,"sinovad-page-not-found-content","text-center"],[1,"sinovad-logo-container"],[3,"src"],[1,"fs-3"],[1,"lead"],[1,"btn","btn-primary",3,"click"]],template:function(he,Ve){1&he&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"p",4),t._uU(7,"No encontramos la p\xe1gina que esta buscando"),t.qZA(),t.TgZ(8,"p",5),t._uU(9," Has click en el siguiente boton para ir a la p\xe1gina de inicio de Sinovad Stream "),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return Ve.goInitialPage()}),t._uU(11,"Inicio"),t.qZA()()()),2&he&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH))},dependencies:[be.Ov,pr.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black;color:#fff}.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:100px;padding:10px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:350px}@media only screen and (max-width: 767px){.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:unset}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}}"]})}return ue})();const ma=["loginFormContainer"];let ul=(()=>{class ue{constructor(F,he,Ve){this.router=F,this.activeRoute=he,this.sharedDataService=Ve,this._window=window,this.showLoading=!1}ngOnInit(){}showLoginPage(){this.router.navigateByUrl("/login")}showRegisterPage(){this.router.navigateByUrl("/register")}static#e=this.\u0275fac=function(he){return new(he||ue)(t.Y36(y.F0),t.Y36(y.gz),t.Y36(kr.g))};static#t=this.\u0275cmp=t.Xpm({type:ue,selectors:[["app-landing"]],viewQuery:function(he,Ve){if(1&he&&t.Gf(ma,5),2&he){let xt;t.iGM(xt=t.CRH())&&(Ve.loginFormContainer=xt.first)}},decls:12,vars:6,consts:[["id","sinovad-container",1,"sinovad-container"],[1,"sinovad-form-container"],[1,"sinovad-form-content"],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-form-button-section"],[1,"register",3,"click"],[1,"login",3,"click"]],template:function(he,Ve){1&he&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.ALo(5,"async"),t.ALo(6,"formatDataPipe"),t.qZA(),t.TgZ(7,"div",5)(8,"button",6),t.NdJ("click",function(){return Ve.showRegisterPage()}),t._uU(9,"REG\xcdSTRATE"),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(){return Ve.showLoginPage()}),t._uU(11,"INICIA SESI\xd3N"),t.qZA()()()()()),2&he&&(t.xp6(4),t.Q6J("src",t.lcZ(5,1,t.xi3(6,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH))},dependencies:[be.Ov,pr.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;width:100%;cursor:pointer;color:#fff;padding:10px;text-align:center;border-radius:5px;font-size:14px;opacity:.8;margin-bottom:10px;font-weight:700}.sinovad-form-button-section[_ngcontent-%COMP%]   button.register[_ngcontent-%COMP%]{background-color:#007bff}.sinovad-form-button-section[_ngcontent-%COMP%]   button.login[_ngcontent-%COMP%]{background-color:#2e303d}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}button.register[_ngcontent-%COMP%]{background-color:#007bff}button.login[_ngcontent-%COMP%]{background-color:#2e303d}"]})}return ue})();class Ia{}function wo(ue,z){if(1&ue&&(t.TgZ(0,"label",19),t._UZ(1,"i",20),t._uU(2),t.qZA()),2&ue){const F=t.oxw(2);t.xp6(2),t.hij(" ",F.commonService.hasRequireErrorFormControl(F.recoverPasswordForm,"email")?"Confirma que hayas agregado el email correctamente":F.commonService.hasErrorPatternFormControl(F.recoverPasswordForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}const Zc=function(ue){return{disable:ue}};function wa(ue,z){if(1&ue){const F=t.EpF();t.TgZ(0,"div",8)(1,"form",9),t.NdJ("ngSubmit",function(){t.CHM(F);const Ve=t.oxw();return t.KtG(Ve.SendRecoverPasswordEmail())}),t.TgZ(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Olvido su contrase\xf1a "),t.qZA(),t.TgZ(8,"div",12)(9,"label",13),t._uU(10," Correo electr\xf3nico "),t.qZA(),t.TgZ(11,"div",14),t._UZ(12,"input",15),t.YNc(13,wo,3,1,"label",16),t.qZA()(),t.TgZ(14,"div",12)(15,"button",17),t._uU(16,"Recuperar contrase\xf1a"),t.qZA()(),t.TgZ(17,"div",18),t._uU(18),t.qZA()()()}if(2&ue){const F=t.oxw();t.xp6(1),t.Q6J("formGroup",F.recoverPasswordForm),t.xp6(2),t.Q6J("src",t.lcZ(4,5,t.xi3(5,7,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(10),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.recoverPasswordForm,"email")),t.xp6(2),t.Q6J("ngClass",t.VKq(10,Zc,F.showLoading)),t.xp6(3),t.hij(" ",F.errorMessage," ")}}function gc(ue,z){1&ue&&(t.TgZ(0,"div",21)(1,"div",22)(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Confirmaci\xf3n de olvido de contrase\xf1a "),t.qZA(),t.TgZ(8,"h2"),t._uU(9,"Por favor verifique su email para recuperar su contrase\xf1a"),t.qZA()()()),2&ue&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH))}let Va=(()=>{class ue{constructor(F,he,Ve,xt,rn){this.formBuilder=F,this.router=he,this.userService=Ve,this.commonService=xt,this.sharedDataService=rn,this._window=window,this.showLoading=!1,this.recoverPasswordModel=new Ia,this.sendedConfirmationEmail=!1,this.recoverPasswordForm=this.formBuilder.group({email:new D.NI("",[D.kI.required,D.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")])})}SendRecoverPasswordEmail(){this.recoverPasswordForm.valid?(this.recoverPasswordModel={Email:this.recoverPasswordForm.value.email,ResetPasswordUrl:window.location.origin+"/reset"},this.showLoading=!0,this.userService.recoverPassword(this.recoverPasswordModel).then(F=>{this.sendedConfirmationEmail=!0,this.showLoading=!1},F=>{this.showLoading=!1,this.errorMessage=F,console.error(F)})):(this.errorMessage=void 0,this.recoverPasswordForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(he){return new(he||ue)(t.Y36(D.qu),t.Y36(y.F0),t.Y36(h.K),t.Y36(Uo.v),t.Y36(kr.g))};static#t=this.\u0275cmp=t.Xpm({type:ue,selectors:[["app-recover-password"]],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","submit",1,"recover",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(he,Ve){1&he&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return Ve.onClose()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,wa,19,12,"div",5),t.YNc(8,gc,10,6,"div",6),t.qZA(),t._UZ(9,"app-custom-spinner",7)),2&he&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngIf",!Ve.sendedConfirmationEmail),t.xp6(1),t.Q6J("ngIf",Ve.sendedConfirmationEmail),t.xp6(1),t.Q6J("showLoading",Ve.showLoading))},dependencies:[be.mk,be.O5,D._Y,D.Fj,D.JJ,D.JL,mr.D,D.sg,D.u,be.Ov,pr.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.recover[_ngcontent-%COMP%]{background-color:#007bff}"]})}return ue})();var Pl=g(7990);const pa=["itemListContainer"];function fl(ue,z){if(1&ue&&(t.TgZ(0,"div",14)(1,"span"),t._uU(2),t.qZA()()),2&ue){const F=t.oxw().$implicit;t.xp6(2),t.Oqu(F.Title)}}function ga(ue,z){if(1&ue){const F=t.EpF();t.TgZ(0,"div",10)(1,"button",11),t.NdJ("click",function(){const xt=t.CHM(F).$implicit,rn=t.oxw(2);return t.KtG(rn.onClickItem(xt))}),t._UZ(2,"img",12),t.qZA(),t.YNc(3,fl,3,1,"div",13),t.qZA()}if(2&ue){const F=z.$implicit,he=t.oxw(2);t.xp6(1),t.hYB("id","item_",F.TvSerieId?F.TvSerie_ID:F.MovieId,"_",F.MediaType,""),t.xp6(1),t.Q6J("src",he.commonService.getUrlByItemMovieDataBase(F),t.LSH),t.xp6(1),t.Q6J("ngIf",!F.Subtitle)}}function hl(ue,z){if(1&ue&&(t.TgZ(0,"section",4)(1,"div",5)(2,"div",6,7)(4,"div",8,9),t.YNc(6,ga,4,4,"ng-template",3),t.qZA()()()()),2&ue){const F=z.$implicit;t.MGl("id","section_search_",z.index,""),t.xp6(6),t.Q6J("ngForOf",F)}}let ml=(()=>{class ue{constructor(F,he,Ve,xt){this.mediaItemService=F,this.router=he,this.commonService=Ve,this.sharedDataService=xt,this.listItems=[],this.listGroupItems=[]}ngOnInit(){this.getItemsBySearch()}getItemsBySearch(){""!=this.searchText.trim()?this.sharedDataService.mediaServers.forEach(F=>{F.isSecureConnection&&this.mediaItemService.getAllMediaItemsBySearchQuery(F.Url,this.searchText).then(he=>{this.listItems=this.listItems.concat(he),this.buildGroupItems(this.listItems)},he=>{console.error(he)})}):(this.listItems=[],this.listGroupItems=[])}buildGroupItems(F){if(F&&F.length>0){let rn=window.innerWidth>=2048?250:180;var he=Math.floor(this.container.nativeElement.offsetWidth/rn),Ve=F.reduce((gn,In,Yn)=>{var _i=Math.floor(Yn/he)+1;return gn[`row${_i}`]=gn[`row${_i}`]||[],gn[`row${_i}`].push(In),gn},{}),xt=Object.keys(Ve).map(function(gn){return Ve[gn]});this.listGroupItems=xt}else this.listGroupItems=[]}onClickItem(F){this.getMediaDetail(F)}getMediaDetail(F){var he=this.sharedDataService.mediaServers.find(Ve=>Ve.Id==F.MediaServerId);this.router.navigateByUrl("/media/server/"+he.Guid+"/libraries/"+F.LibraryId+"/detail?mediaType="+F.MediaTypeId+"&mediaId="+F.MediaItemId)}onResize(F){this.buildGroupItems(this.listItems)}static#e=this.\u0275fac=function(he){return new(he||ue)(t.Y36(Pl.D),t.Y36(y.F0),t.Y36(Uo.v),t.Y36(kr.g))};static#t=this.\u0275cmp=t.Xpm({type:ue,selectors:[["app-vertical-item-list"]],viewQuery:function(he,Ve){if(1&he&&t.Gf(pa,5),2&he){let xt;t.iGM(xt=t.CRH())&&(Ve.container=xt.first)}},hostBindings:function(he,Ve){1&he&&t.NdJ("resize",function(rn){return Ve.onResize(rn)},!1,t.Jf7)},inputs:{searchText:"searchText"},decls:4,vars:3,consts:[[1,"sinovad-vertical-list-content"],["itemListContainer",""],[1,"sinovad-vertical-list-second-content"],["ngFor","",3,"ngForOf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-container"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["referrerpolicy","no-referrer","onError","this.src='assets/img/no-image-available.jpg'",3,"src"],["class","sinovad-item-caption-container",4,"ngIf"],[1,"sinovad-item-caption-container"]],template:function(he,Ve){1&he&&(t.TgZ(0,"div",0,1)(2,"div",2),t.YNc(3,hl,7,2,"ng-template",3),t.qZA()()),2&he&&(t.Udp("height","100%"),t.xp6(3),t.Q6J("ngForOf",Ve.listGroupItems))},dependencies:[be.sg,be.O5],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px;justify-content:center}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex;gap:20px}.sinovad-item-caption-container[_ngcontent-%COMP%]{color:#fff;font-weight:700;padding-top:10px;text-align:center}.sinovad-vertical-list-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-vertical-list-second-content[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:160px;width:160px;height:200px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-content[_ngcontent-%COMP%]{gap:20px}.sinovad-item-container[_ngcontent-%COMP%]{padding:0;margin:0;width:min-content;border-radius:6px}@media only screen and (min-width: 2048px){.sinovad-item-container[_ngcontent-%COMP%]{padding-right:0px 10px 0px 0px;margin:6px}.sinovad-list-content[_ngcontent-%COMP%]{gap:unset}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return ue})();function _c(ue,z){if(1&ue&&(t.TgZ(0,"div",7)(1,"h2"),t._uU(2),t.qZA()()),2&ue){const F=t.oxw();t.xp6(2),t.hij('Resultados para "',F.searchText,'"')}}let _a=(()=>{class ue{constructor(F,he,Ve){this.router=F,this.route=he,this.sharedDataService=Ve,this.searchText="",this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){let F=this.route.snapshot.queryParams.text;null!=F&&""!=F?this.searchText=F:this.router.navigate(["home"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(he){return new(he||ue)(t.Y36(y.F0),t.Y36(y.gz),t.Y36(kr.g))};static#t=this.\u0275cmp=t.Xpm({type:ue,selectors:[["app-search-view"]],decls:8,vars:4,consts:[[1,"sinovad-search-view-container"],["container",""],[1,"sinovad-search-view-title"],["header",""],["class","sinovad-search-view-title-content",4,"ngIf"],["itemListContainer",""],[3,"searchText"],[1,"sinovad-search-view-title-content"]],template:function(he,Ve){if(1&he&&(t.TgZ(0,"div",0,1)(2,"div",2,3),t.YNc(4,_c,3,1,"div",4),t.qZA(),t.TgZ(5,"div",null,5),t._UZ(7,"app-vertical-item-list",6),t.qZA()()),2&he){const xt=t.MAs(3);t.xp6(4),t.Q6J("ngIf",null!=Ve.searchText&&""!=Ve.searchText),t.xp6(1),t.Udp("height","calc(100% - "+xt.offsetHeight+"px)"),t.xp6(2),t.Q6J("searchText",Ve.searchText)}},dependencies:[be.O5,ml],styles:[".sinovad-search-view-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;background:#2d3744;overflow:auto}.sinovad-search-view-title[_ngcontent-%COMP%]{color:#fff;margin-left:20px;margin-right:20px}.sinovad-search-view-title[_ngcontent-%COMP%]   .sinovad-search-view-title-content[_ngcontent-%COMP%]{height:100%;border-bottom:1px solid #dedede;width:100%}"]})}return ue})();var tl=g(7394),pl=g(5940),Rl=g(3630);function Es(ue,z){if(1&ue&&(t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4)(4,"div",5),t._uU(5," Inicio "),t.qZA()()(),t.TgZ(6,"div"),t._UZ(7,"app-media-items",6),t.qZA()()()),2&ue){const F=t.oxw(2);t.xp6(6),t.Udp("height","calc(100% - 65px)"),t.xp6(1),t.Q6J("itemsGroupList",F.itemsGroupList)}}function Oa(ue,z){1&ue&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div",9),t._uU(3," No hay servidores disponibles en este momento "),t.qZA(),t._UZ(4,"div",10),t.qZA()())}function Ts(ue,z){if(1&ue&&(t.YNc(0,Es,8,3,"ng-template",0),t.YNc(1,Oa,5,0,"ng-template",0)),2&ue){const F=t.oxw();t.Q6J("ngIf",F.mediaServers&&F.isEnableAnyMediaServer()),t.xp6(1),t.Q6J("ngIf",F.mediaServers&&!F.isEnableAnyMediaServer())}}function nr(ue,z){1&ue&&(t.TgZ(0,"div",11),t._UZ(1,"mat-spinner"),t.qZA())}let Ka=(()=>{class ue{constructor(F,he,Ve,xt,rn){this.signalIrService=F,this.mediaItemService=he,this.router=Ve,this.commonService=xt,this.sharedDataService=rn,this.itemsGroupList=[],this._window=window,this.subscription=new tl.w0,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1};let gn=this;this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(In=>{var Yn=gn.mediaServers.find(_i=>_i.Guid==In);Yn&&!Yn.isSecureConnection&&(gn.loadingConnection=!1,Yn.isSecureConnection=!0,gn.getAllItemsByMediaServer(Yn))})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(In=>{var Yn=gn.mediaServers.find(_i=>_i.Guid==In);Yn&&Yn.isSecureConnection&&(Yn.isSecureConnection=!1,gn.clearItemsInGroup(Yn.Id))})),this.subscription.add(this.signalIrService.isUpdatingLibrariesByMediaServer().subscribe(In=>{var Yn=gn.mediaServers.find(_i=>_i.Guid==In);Yn&&!Yn.isSecureConnection&&(Yn.isSecureConnection=!0,gn.getAllItemsByMediaServer(Yn))})),this.subscription.add(this.signalIrService.isUpdatingItemsByMediaServer().subscribe(In=>{var Yn=gn.mediaServers.find(_i=>_i.Guid==In);Yn&&!Yn.isSecureConnection&&(Yn.isSecureConnection=!0,gn.getAllItemsByMediaServer(Yn))}))}ngOnInit(){this.mediaServers=JSON.parse(JSON.stringify(this.sharedDataService.mediaServers)),this.isEnableAnyMediaServer()?this.loadingConnection=!1:setTimeout(()=>{this.loadingConnection=!1},3e3),this.mediaServers.forEach(F=>{F.isSecureConnection&&this.getAllItemsByMediaServer(F)})}ngOnDestroy(){this.subscription.unsubscribe()}isEnableAnyMediaServer(){return this.mediaServers.filter(F=>F.isSecureConnection).length>0}considerAllMediaServers(){return!!window.location.pathname.endsWith("home")}getAllItemsByMediaServer(F){this.mediaItemService.getAllMediaItems(F.Url,this.sharedDataService.currentProfile.Id).then(he=>{this.setItemsInGroup(F.Id,he)},he=>{})}setItemsInGroup(F,he){he.length>0&&(he.forEach(Ve=>{var xt=this.itemsGroupList.find(Yn=>Yn.Name==Ve.Name);if(null==xt)this.itemsGroupList.push(Ve);else{var In=xt.ListItems.filter(Yn=>Yn.MediaServerId!=F).concat(Ve.ListItems).sort((Yn,_i)=>new Date(Yn.Created).getTime()>new Date(_i.Created).getTime()?-1:new Date(_i.Created).getTime()>new Date(Yn.Created).getTime()?1:0);xt.ListItems=In}}),this.itemsGroupList=this.itemsGroupList.sort((Ve,xt)=>Ve.Id>xt.Id?1:Ve.Id<=xt.Id?-1:0))}clearItemsInGroup(F){this.itemsGroupList.forEach(he=>{var Ve=he.ListItems.filter(xt=>xt.MediaServerId!=F);he.ListItems=Ve.sort((xt,rn)=>new Date(xt.Created).getTime()>new Date(rn.Created).getTime()?-1:new Date(rn.Created).getTime()>new Date(xt.Created).getTime()?1:0)})}static#e=this.\u0275fac=function(he){return new(he||ue)(t.Y36(Ao.n),t.Y36(Pl.D),t.Y36(y.F0),t.Y36(Uo.v),t.Y36(kr.g))};static#t=this.\u0275cmp=t.Xpm({type:ue,selectors:[["app-home-page"]],decls:2,vars:2,consts:[[3,"ngIf"],[1,"media-principal-section"],[1,"media-container"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[3,"itemsGroupList"],[1,"server-error-page-container"],[1,"server-error-page-content"],[1,"server-error-message-title"],[1,"server-error-message-description"],[1,"spinner-centered-container"]],template:function(he,Ve){1&he&&(t.YNc(0,Ts,2,2,"ng-template",0),t.YNc(1,nr,2,0,"ng-template",0)),2&he&&(t.Q6J("ngIf",!Ve.loadingConnection),t.xp6(1),t.Q6J("ngIf",Ve.loadingConnection))},dependencies:[be.O5,pl.Ou,Rl.y]})}return ue})();const ze=[{path:"home",component:Ka,loadChildren:()=>g.e(434).then(g.bind(g,8434)).then(ue=>ue.HomeModule),canActivate:[m.E]},{path:"media",loadChildren:()=>g.e(169).then(g.bind(g,1169)).then(ue=>ue.MediaModule)},{path:"search",component:_a,loadChildren:()=>g.e(85).then(g.bind(g,2085)).then(ue=>ue.MediaSearchModule),canActivate:[m.E]},{path:"profiles",loadChildren:()=>g.e(209).then(g.bind(g,4209)).then(ue=>ue.ProfilesModule)},{path:"settings",loadChildren:()=>g.e(573).then(g.bind(g,573)).then(ue=>ue.SettingsModule)},{path:"manage",loadChildren:()=>g.e(273).then(g.bind(g,8273)).then(ue=>ue.ManageModule)},{path:"landing",component:ul,canActivate:[P]},{path:"register",component:$t,loadChildren:()=>g.e(470).then(g.bind(g,1470)).then(ue=>ue.RegisterAcccountPageModule),canActivate:[P]},{path:"login",component:Zs,loadChildren:()=>g.e(717).then(g.bind(g,717)).then(ue=>ue.LoginPageModule),canActivate:[P]},{path:"recover",component:Va,loadChildren:()=>g.e(456).then(g.bind(g,456)).then(ue=>ue.RecoverPasswordPageModule),canActivate:[P]},{path:"reset/:base64Data",component:ha,loadChildren:()=>g.e(300).then(g.bind(g,2300)).then(ue=>ue.ResetPasswordPageModule),canActivate:[P]},{path:"confirm/:base64Data",component:dl,loadChildren:()=>g.e(159).then(g.bind(g,159)).then(ue=>ue.ConfirmEmailPageModule),canActivate:[P]},{path:"404",component:Ol},{path:"",pathMatch:"full",redirectTo:"home"},{path:"**",redirectTo:"/404"}];let Yt=(()=>{class ue{static#e=this.\u0275fac=function(he){return new(he||ue)};static#t=this.\u0275mod=t.oAB({type:ue});static#n=this.\u0275inj=t.cJS({imports:[y.Bz.forRoot(ze,{onSameUrlNavigation:"reload"}),y.Bz]})}return ue})();var mt=g(6825);function Cn(ue){return new t.vHH(3e3,!1)}function fs(ue){switch(ue.length){case 0:return new mt.ZN;case 1:return ue[0];default:return new mt.ZE(ue)}}function Zo(ue,z,F=new Map,he=new Map){const Ve=[],xt=[];let rn=-1,gn=null;if(z.forEach(In=>{const Yn=In.get("offset"),_i=Yn==rn,Ii=_i&&gn||new Map;In.forEach((Yr,Tr)=>{let ir=Tr,ur=Yr;if("offset"!==Tr)switch(ir=ue.normalizePropertyName(ir,Ve),ur){case mt.k1:ur=F.get(Tr);break;case mt.l3:ur=he.get(Tr);break;default:ur=ue.normalizeStyleValue(Tr,ir,ur,Ve)}Ii.set(ir,ur)}),_i||xt.push(Ii),gn=Ii,rn=Yn}),Ve.length)throw function vc(ue){return new t.vHH(3502,!1)}();return xt}function la(ue,z,F,he){switch(z){case"start":ue.onStart(()=>he(F&&_l(F,"start",ue)));break;case"done":ue.onDone(()=>he(F&&_l(F,"done",ue)));break;case"destroy":ue.onDestroy(()=>he(F&&_l(F,"destroy",ue)))}}function _l(ue,z,F){const xt=go(ue.element,ue.triggerName,ue.fromState,ue.toState,z||ue.phaseName,F.totalTime??ue.totalTime,!!F.disabled),rn=ue._data;return null!=rn&&(xt._data=rn),xt}function go(ue,z,F,he,Ve="",xt=0,rn){return{element:ue,triggerName:z,fromState:F,toState:he,phaseName:Ve,totalTime:xt,disabled:!!rn}}function xo(ue,z,F){let he=ue.get(z);return he||ue.set(z,he=F),he}function Bo(ue){const z=ue.indexOf(":");return[ue.substring(1,z),ue.slice(z+1)]}const il=(()=>typeof document>"u"?null:document.documentElement)();function Ea(ue){const z=ue.parentNode||ue.host||null;return z===il?null:z}let Bs=null,vl=!1;function $s(ue,z){for(;z;){if(z===ue)return!0;z=Ea(z)}return!1}function bl(ue,z,F){if(F)return Array.from(ue.querySelectorAll(z));const he=ue.querySelector(z);return he?[he]:[]}let $l=(()=>{class ue{validateStyleProperty(F){return function bc(ue){Bs||(Bs=function $c(){return typeof document<"u"?document.body:null}()||{},vl=!!Bs.style&&"WebkitAppearance"in Bs.style);let z=!0;return Bs.style&&!function ca(ue){return"ebkit"==ue.substring(1,6)}(ue)&&(z=ue in Bs.style,!z&&vl&&(z="Webkit"+ue.charAt(0).toUpperCase()+ue.slice(1)in Bs.style)),z}(F)}matchesElement(F,he){return!1}containsElement(F,he){return $s(F,he)}getParentElement(F){return Ea(F)}query(F,he,Ve){return bl(F,he,Ve)}computeStyle(F,he,Ve){return Ve||""}animate(F,he,Ve,xt,rn,gn=[],In){return new mt.ZN(Ve,xt)}static#e=this.\u0275fac=function(he){return new(he||ue)};static#t=this.\u0275prov=t.Yz7({token:ue,factory:ue.\u0275fac})}return ue})(),Ec=(()=>{class ue{static#e=this.NOOP=new $l}return ue})();const Po=1e3,Jl="ng-enter",Ge="ng-leave",rt="ng-trigger",xe=".ng-trigger",nt="ng-animating",Gt=".ng-animating";function sn(ue){if("number"==typeof ue)return ue;const z=ue.match(/^(-?[\.\d]+)(m?s)/);return!z||z.length<2?0:dn(parseFloat(z[1]),z[2])}function dn(ue,z){return"s"===z?ue*Po:ue}function Kn(ue,z,F){return ue.hasOwnProperty("duration")?ue:function mi(ue,z,F){let Ve,xt=0,rn="";if("string"==typeof ue){const gn=ue.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===gn)return z.push(Cn()),{duration:0,delay:0,easing:""};Ve=dn(parseFloat(gn[1]),gn[2]);const In=gn[3];null!=In&&(xt=dn(parseFloat(In),gn[4]));const Yn=gn[5];Yn&&(rn=Yn)}else Ve=ue;if(!F){let gn=!1,In=z.length;Ve<0&&(z.push(function zn(){return new t.vHH(3100,!1)}()),gn=!0),xt<0&&(z.push(function ai(){return new t.vHH(3101,!1)}()),gn=!0),gn&&z.splice(In,0,Cn())}return{duration:Ve,delay:xt,easing:rn}}(ue,z,F)}function Oi(ue,z={}){return Object.keys(ue).forEach(F=>{z[F]=ue[F]}),z}function Ri(ue){const z=new Map;return Object.keys(ue).forEach(F=>{z.set(F,ue[F])}),z}function ro(ue,z=new Map,F){if(F)for(let[he,Ve]of F)z.set(he,Ve);for(let[he,Ve]of ue)z.set(he,Ve);return z}function zo(ue,z,F){z.forEach((he,Ve)=>{const xt=wr(Ve);F&&!F.has(Ve)&&F.set(Ve,ue.style[xt]),ue.style[xt]=he})}function hs(ue,z){z.forEach((F,he)=>{const Ve=wr(he);ue.style[Ve]=""})}function is(ue){return Array.isArray(ue)?1==ue.length?ue[0]:(0,mt.vP)(ue):ue}const El=new RegExp("{{\\s*(.+?)\\s*}}","g");function da(ue){let z=[];if("string"==typeof ue){let F;for(;F=El.exec(ue);)z.push(F[1]);El.lastIndex=0}return z}function ms(ue,z,F){const he=ue.toString(),Ve=he.replace(El,(xt,rn)=>{let gn=z[rn];return null==gn&&(F.push(function Rr(ue){return new t.vHH(3003,!1)}()),gn=""),gn.toString()});return Ve==he?ue:Ve}function Tl(ue){const z=[];let F=ue.next();for(;!F.done;)z.push(F.value),F=ue.next();return z}const Cc=/-+([a-z0-9])/g;function wr(ue){return ue.replace(Cc,(...z)=>z[1].toUpperCase())}function $o(ue,z,F){switch(z.type){case 7:return ue.visitTrigger(z,F);case 0:return ue.visitState(z,F);case 1:return ue.visitTransition(z,F);case 2:return ue.visitSequence(z,F);case 3:return ue.visitGroup(z,F);case 4:return ue.visitAnimate(z,F);case 5:return ue.visitKeyframes(z,F);case 6:return ue.visitStyle(z,F);case 8:return ue.visitReference(z,F);case 9:return ue.visitAnimateChild(z,F);case 10:return ue.visitAnimateRef(z,F);case 11:return ue.visitQuery(z,F);case 12:return ue.visitStagger(z,F);default:throw function gr(ue){return new t.vHH(3004,!1)}()}}function Ra(ue,z){return window.getComputedStyle(ue)[z]}const ec="*";function Us(ue,z){const F=[];return"string"==typeof ue?ue.split(/\s*,\s*/).forEach(he=>function Na(ue,z,F){if(":"==ue[0]){const In=function ld(ue,z){switch(ue){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(F,he)=>parseFloat(he)>parseFloat(F);case":decrement":return(F,he)=>parseFloat(he)<parseFloat(F);default:return z.push(function Nl(ue){return new t.vHH(3016,!1)}()),"* => *"}}(ue,F);if("function"==typeof In)return void z.push(In);ue=In}const he=ue.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==he||he.length<4)return F.push(function aa(ue){return new t.vHH(3015,!1)}()),z;const Ve=he[1],xt=he[2],rn=he[3];z.push(Fl(Ve,rn));"<"==xt[0]&&!(Ve==ec&&rn==ec)&&z.push(Fl(rn,Ve))}(he,F,z)):F.push(ue),F}const ps=new Set(["true","1"]),Mc=new Set(["false","0"]);function Fl(ue,z){const F=ps.has(ue)||Mc.has(ue),he=ps.has(z)||Mc.has(z);return(Ve,xt)=>{let rn=ue==ec||ue==Ve,gn=z==ec||z==xt;return!rn&&F&&"boolean"==typeof Ve&&(rn=Ve?ps.has(ue):Mc.has(ue)),!gn&&he&&"boolean"==typeof xt&&(gn=xt?ps.has(z):Mc.has(z)),rn&&gn}}const Jc=new RegExp("s*:selfs*,?","g");function Js(ue,z,F,he){return new vd(ue).build(z,F,he)}class vd{constructor(z){this._driver=z}build(z,F,he){const Ve=new Ac(F);return this._resetContextStyleTimingState(Ve),$o(this,is(z),Ve)}_resetContextStyleTimingState(z){z.currentQuerySelector="",z.collectedStyles=new Map,z.collectedStyles.set("",new Map),z.currentTime=0}visitTrigger(z,F){let he=F.queryCount=0,Ve=F.depCount=0;const xt=[],rn=[];return"@"==z.name.charAt(0)&&F.errors.push(function er(){return new t.vHH(3006,!1)}()),z.definitions.forEach(gn=>{if(this._resetContextStyleTimingState(F),0==gn.type){const In=gn,Yn=In.name;Yn.toString().split(/\s*,\s*/).forEach(_i=>{In.name=_i,xt.push(this.visitState(In,F))}),In.name=Yn}else if(1==gn.type){const In=this.visitTransition(gn,F);he+=In.queryCount,Ve+=In.depCount,rn.push(In)}else F.errors.push(function fo(){return new t.vHH(3007,!1)}())}),{type:7,name:z.name,states:xt,transitions:rn,queryCount:he,depCount:Ve,options:null}}visitState(z,F){const he=this.visitStyle(z.styles,F),Ve=z.options&&z.options.params||null;if(he.containsDynamicStyles){const xt=new Set,rn=Ve||{};he.styles.forEach(gn=>{gn instanceof Map&&gn.forEach(In=>{da(In).forEach(Yn=>{rn.hasOwnProperty(Yn)||xt.add(Yn)})})}),xt.size&&(Tl(xt.values()),F.errors.push(function Nr(ue,z){return new t.vHH(3008,!1)}()))}return{type:0,name:z.name,style:he,options:Ve?{params:Ve}:null}}visitTransition(z,F){F.queryCount=0,F.depCount=0;const he=$o(this,is(z.animation),F);return{type:1,matchers:Us(z.expr,F.errors),animation:he,queryCount:F.queryCount,depCount:F.depCount,options:Qs(z.options)}}visitSequence(z,F){return{type:2,steps:z.steps.map(he=>$o(this,he,F)),options:Qs(z.options)}}visitGroup(z,F){const he=F.currentTime;let Ve=0;const xt=z.steps.map(rn=>{F.currentTime=he;const gn=$o(this,rn,F);return Ve=Math.max(Ve,F.currentTime),gn});return F.currentTime=Ve,{type:3,steps:xt,options:Qs(z.options)}}visitAnimate(z,F){const he=function Qc(ue,z){if(ue.hasOwnProperty("duration"))return ue;if("number"==typeof ue)return La(Kn(ue,z).duration,0,"");const F=ue;if(F.split(/\s+/).some(xt=>"{"==xt.charAt(0)&&"{"==xt.charAt(1))){const xt=La(0,0,"");return xt.dynamic=!0,xt.strValue=F,xt}const Ve=Kn(F,z);return La(Ve.duration,Ve.delay,Ve.easing)}(z.timings,F.errors);F.currentAnimateTimings=he;let Ve,xt=z.styles?z.styles:(0,mt.oB)({});if(5==xt.type)Ve=this.visitKeyframes(xt,F);else{let rn=z.styles,gn=!1;if(!rn){gn=!0;const Yn={};he.easing&&(Yn.easing=he.easing),rn=(0,mt.oB)(Yn)}F.currentTime+=he.duration+he.delay;const In=this.visitStyle(rn,F);In.isEmptyStep=gn,Ve=In}return F.currentAnimateTimings=null,{type:4,timings:he,style:Ve,options:null}}visitStyle(z,F){const he=this._makeStyleAst(z,F);return this._validateStyleAst(he,F),he}_makeStyleAst(z,F){const he=[],Ve=Array.isArray(z.styles)?z.styles:[z.styles];for(let gn of Ve)"string"==typeof gn?gn===mt.l3?he.push(gn):F.errors.push(new t.vHH(3002,!1)):he.push(Ri(gn));let xt=!1,rn=null;return he.forEach(gn=>{if(gn instanceof Map&&(gn.has("easing")&&(rn=gn.get("easing"),gn.delete("easing")),!xt))for(let In of gn.values())if(In.toString().indexOf("{{")>=0){xt=!0;break}}),{type:6,styles:he,easing:rn,offset:z.offset,containsDynamicStyles:xt,options:null}}_validateStyleAst(z,F){const he=F.currentAnimateTimings;let Ve=F.currentTime,xt=F.currentTime;he&&xt>0&&(xt-=he.duration+he.delay),z.styles.forEach(rn=>{"string"!=typeof rn&&rn.forEach((gn,In)=>{const Yn=F.collectedStyles.get(F.currentQuerySelector),_i=Yn.get(In);let Ii=!0;_i&&(xt!=Ve&&xt>=_i.startTime&&Ve<=_i.endTime&&(F.errors.push(function Gi(ue,z,F,he,Ve){return new t.vHH(3010,!1)}()),Ii=!1),xt=_i.startTime),Ii&&Yn.set(In,{startTime:xt,endTime:Ve}),F.options&&function Za(ue,z,F){const he=z.params||{},Ve=da(ue);Ve.length&&Ve.forEach(xt=>{he.hasOwnProperty(xt)||F.push(function Fi(ue){return new t.vHH(3001,!1)}())})}(gn,F.options,F.errors)})})}visitKeyframes(z,F){const he={type:5,styles:[],options:null};if(!F.currentAnimateTimings)return F.errors.push(function $r(){return new t.vHH(3011,!1)}()),he;let xt=0;const rn=[];let gn=!1,In=!1,Yn=0;const _i=z.steps.map(rs=>{const na=this._makeStyleAst(rs,F);let ia=null!=na.offset?na.offset:function Bc(ue){if("string"==typeof ue)return null;let z=null;if(Array.isArray(ue))ue.forEach(F=>{if(F instanceof Map&&F.has("offset")){const he=F;z=parseFloat(he.get("offset")),he.delete("offset")}});else if(ue instanceof Map&&ue.has("offset")){const F=ue;z=parseFloat(F.get("offset")),F.delete("offset")}return z}(na.styles),ao=0;return null!=ia&&(xt++,ao=na.offset=ia),In=In||ao<0||ao>1,gn=gn||ao<Yn,Yn=ao,rn.push(ao),na});In&&F.errors.push(function eo(){return new t.vHH(3012,!1)}()),gn&&F.errors.push(function Cs(){return new t.vHH(3200,!1)}());const Ii=z.steps.length;let Yr=0;xt>0&&xt<Ii?F.errors.push(function zs(){return new t.vHH(3202,!1)}()):0==xt&&(Yr=1/(Ii-1));const Tr=Ii-1,ir=F.currentTime,ur=F.currentAnimateTimings,No=ur.duration;return _i.forEach((rs,na)=>{const ia=Yr>0?na==Tr?1:Yr*na:rn[na],ao=ia*No;F.currentTime=ir+ur.delay+ao,ur.duration=ao,this._validateStyleAst(rs,F),rs.offset=ia,he.styles.push(rs)}),he}visitReference(z,F){return{type:8,animation:$o(this,is(z.animation),F),options:Qs(z.options)}}visitAnimateChild(z,F){return F.depCount++,{type:9,options:Qs(z.options)}}visitAnimateRef(z,F){return{type:10,animation:this.visitReference(z.animation,F),options:Qs(z.options)}}visitQuery(z,F){const he=F.currentQuerySelector,Ve=z.options||{};F.queryCount++,F.currentQuery=z;const[xt,rn]=function Bl(ue){const z=!!ue.split(/\s*,\s*/).find(F=>":self"==F);return z&&(ue=ue.replace(Jc,"")),ue=ue.replace(/@\*/g,xe).replace(/@\w+/g,F=>xe+"-"+F.slice(1)).replace(/:animating/g,Gt),[ue,z]}(z.selector);F.currentQuerySelector=he.length?he+" "+xt:xt,xo(F.collectedStyles,F.currentQuerySelector,new Map);const gn=$o(this,is(z.animation),F);return F.currentQuery=null,F.currentQuerySelector=he,{type:11,selector:xt,limit:Ve.limit||0,optional:!!Ve.optional,includeSelf:rn,animation:gn,originalSelector:z.selector,options:Qs(z.options)}}visitStagger(z,F){F.currentQuery||F.errors.push(function sa(){return new t.vHH(3013,!1)}());const he="full"===z.timings?{duration:0,delay:0,easing:"full"}:Kn(z.timings,F.errors,!0);return{type:12,animation:$o(this,is(z.animation),F),timings:he,options:null}}}class Ac{constructor(z){this.errors=z,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Qs(ue){return ue?(ue=Oi(ue)).params&&(ue.params=function nc(ue){return ue?Oi(ue):null}(ue.params)):ue={},ue}function La(ue,z,F){return{duration:ue,delay:z,easing:F}}function Sl(ue,z,F,he,Ve,xt,rn=null,gn=!1){return{type:1,element:ue,keyframes:z,preStyleProps:F,postStyleProps:he,duration:Ve,delay:xt,totalTime:Ve+xt,easing:rn,subTimeline:gn}}class Dl{constructor(){this._map=new Map}get(z){return this._map.get(z)||[]}append(z,F){let he=this._map.get(z);he||this._map.set(z,he=[]),he.push(...F)}has(z){return this._map.has(z)}clear(){this._map.clear()}}const Uc=new RegExp(":enter","g"),Ic=new RegExp(":leave","g");function Xc(ue,z,F,he,Ve,xt=new Map,rn=new Map,gn,In,Yn=[]){return(new qc).buildKeyframes(ue,z,F,he,Ve,xt,rn,gn,In,Yn)}class qc{buildKeyframes(z,F,he,Ve,xt,rn,gn,In,Yn,_i=[]){Yn=Yn||new Dl;const Ii=new $a(z,F,Yn,Ve,xt,_i,[]);Ii.options=In;const Yr=In.delay?sn(In.delay):0;Ii.currentTimeline.delayNextStep(Yr),Ii.currentTimeline.setStyles([rn],null,Ii.errors,In),$o(this,he,Ii);const Tr=Ii.timelines.filter(ir=>ir.containsAnimation());if(Tr.length&&gn.size){let ir;for(let ur=Tr.length-1;ur>=0;ur--){const No=Tr[ur];if(No.element===F){ir=No;break}}ir&&!ir.allowOnlyTimelineStyles()&&ir.setStyles([gn],null,Ii.errors,In)}return Tr.length?Tr.map(ir=>ir.buildKeyframes()):[Sl(F,[],[],[],0,Yr,"",!1)]}visitTrigger(z,F){}visitState(z,F){}visitTransition(z,F){}visitAnimateChild(z,F){const he=F.subInstructions.get(F.element);if(he){const Ve=F.createSubContext(z.options),xt=F.currentTimeline.currentTime,rn=this._visitSubInstructions(he,Ve,Ve.options);xt!=rn&&F.transformIntoNewTimeline(rn)}F.previousNode=z}visitAnimateRef(z,F){const he=F.createSubContext(z.options);he.transformIntoNewTimeline(),this._applyAnimationRefDelays([z.options,z.animation.options],F,he),this.visitReference(z.animation,he),F.transformIntoNewTimeline(he.currentTimeline.currentTime),F.previousNode=z}_applyAnimationRefDelays(z,F,he){for(const Ve of z){const xt=Ve?.delay;if(xt){const rn="number"==typeof xt?xt:sn(ms(xt,Ve?.params??{},F.errors));he.delayNextStep(rn)}}}_visitSubInstructions(z,F,he){let xt=F.currentTimeline.currentTime;const rn=null!=he.duration?sn(he.duration):null,gn=null!=he.delay?sn(he.delay):null;return 0!==rn&&z.forEach(In=>{const Yn=F.appendInstructionToTimeline(In,rn,gn);xt=Math.max(xt,Yn.duration+Yn.delay)}),xt}visitReference(z,F){F.updateOptions(z.options,!0),$o(this,z.animation,F),F.previousNode=z}visitSequence(z,F){const he=F.subContextCount;let Ve=F;const xt=z.options;if(xt&&(xt.params||xt.delay)&&(Ve=F.createSubContext(xt),Ve.transformIntoNewTimeline(),null!=xt.delay)){6==Ve.previousNode.type&&(Ve.currentTimeline.snapshotCurrentStyles(),Ve.previousNode=ic);const rn=sn(xt.delay);Ve.delayNextStep(rn)}z.steps.length&&(z.steps.forEach(rn=>$o(this,rn,Ve)),Ve.currentTimeline.applyStylesToKeyframe(),Ve.subContextCount>he&&Ve.transformIntoNewTimeline()),F.previousNode=z}visitGroup(z,F){const he=[];let Ve=F.currentTimeline.currentTime;const xt=z.options&&z.options.delay?sn(z.options.delay):0;z.steps.forEach(rn=>{const gn=F.createSubContext(z.options);xt&&gn.delayNextStep(xt),$o(this,rn,gn),Ve=Math.max(Ve,gn.currentTimeline.currentTime),he.push(gn.currentTimeline)}),he.forEach(rn=>F.currentTimeline.mergeTimelineCollectedStyles(rn)),F.transformIntoNewTimeline(Ve),F.previousNode=z}_visitTiming(z,F){if(z.dynamic){const he=z.strValue;return Kn(F.params?ms(he,F.params,F.errors):he,F.errors)}return{duration:z.duration,delay:z.delay,easing:z.easing}}visitAnimate(z,F){const he=F.currentAnimateTimings=this._visitTiming(z.timings,F),Ve=F.currentTimeline;he.delay&&(F.incrementTime(he.delay),Ve.snapshotCurrentStyles());const xt=z.style;5==xt.type?this.visitKeyframes(xt,F):(F.incrementTime(he.duration),this.visitStyle(xt,F),Ve.applyStylesToKeyframe()),F.currentAnimateTimings=null,F.previousNode=z}visitStyle(z,F){const he=F.currentTimeline,Ve=F.currentAnimateTimings;!Ve&&he.hasCurrentStyleProperties()&&he.forwardFrame();const xt=Ve&&Ve.easing||z.easing;z.isEmptyStep?he.applyEmptyStep(xt):he.setStyles(z.styles,xt,F.errors,F.options),F.previousNode=z}visitKeyframes(z,F){const he=F.currentAnimateTimings,Ve=F.currentTimeline.duration,xt=he.duration,gn=F.createSubContext().currentTimeline;gn.easing=he.easing,z.styles.forEach(In=>{gn.forwardTime((In.offset||0)*xt),gn.setStyles(In.styles,In.easing,F.errors,F.options),gn.applyStylesToKeyframe()}),F.currentTimeline.mergeTimelineCollectedStyles(gn),F.transformIntoNewTimeline(Ve+xt),F.previousNode=z}visitQuery(z,F){const he=F.currentTimeline.currentTime,Ve=z.options||{},xt=Ve.delay?sn(Ve.delay):0;xt&&(6===F.previousNode.type||0==he&&F.currentTimeline.hasCurrentStyleProperties())&&(F.currentTimeline.snapshotCurrentStyles(),F.previousNode=ic);let rn=he;const gn=F.invokeQuery(z.selector,z.originalSelector,z.limit,z.includeSelf,!!Ve.optional,F.errors);F.currentQueryTotal=gn.length;let In=null;gn.forEach((Yn,_i)=>{F.currentQueryIndex=_i;const Ii=F.createSubContext(z.options,Yn);xt&&Ii.delayNextStep(xt),Yn===F.element&&(In=Ii.currentTimeline),$o(this,z.animation,Ii),Ii.currentTimeline.applyStylesToKeyframe(),rn=Math.max(rn,Ii.currentTimeline.currentTime)}),F.currentQueryIndex=0,F.currentQueryTotal=0,F.transformIntoNewTimeline(rn),In&&(F.currentTimeline.mergeTimelineCollectedStyles(In),F.currentTimeline.snapshotCurrentStyles()),F.previousNode=z}visitStagger(z,F){const he=F.parentContext,Ve=F.currentTimeline,xt=z.timings,rn=Math.abs(xt.duration),gn=rn*(F.currentQueryTotal-1);let In=rn*F.currentQueryIndex;switch(xt.duration<0?"reverse":xt.easing){case"reverse":In=gn-In;break;case"full":In=he.currentStaggerTime}const _i=F.currentTimeline;In&&_i.delayNextStep(In);const Ii=_i.currentTime;$o(this,z.animation,F),F.previousNode=z,he.currentStaggerTime=Ve.currentTime-Ii+(Ve.startTime-he.currentTimeline.startTime)}}const ic={};class $a{constructor(z,F,he,Ve,xt,rn,gn,In){this._driver=z,this.element=F,this.subInstructions=he,this._enterClassName=Ve,this._leaveClassName=xt,this.errors=rn,this.timelines=gn,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ic,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=In||new ka(this._driver,F,0),gn.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(z,F){if(!z)return;const he=z;let Ve=this.options;null!=he.duration&&(Ve.duration=sn(he.duration)),null!=he.delay&&(Ve.delay=sn(he.delay));const xt=he.params;if(xt){let rn=Ve.params;rn||(rn=this.options.params={}),Object.keys(xt).forEach(gn=>{(!F||!rn.hasOwnProperty(gn))&&(rn[gn]=ms(xt[gn],rn,this.errors))})}}_copyOptions(){const z={};if(this.options){const F=this.options.params;if(F){const he=z.params={};Object.keys(F).forEach(Ve=>{he[Ve]=F[Ve]})}}return z}createSubContext(z=null,F,he){const Ve=F||this.element,xt=new $a(this._driver,Ve,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Ve,he||0));return xt.previousNode=this.previousNode,xt.currentAnimateTimings=this.currentAnimateTimings,xt.options=this._copyOptions(),xt.updateOptions(z),xt.currentQueryIndex=this.currentQueryIndex,xt.currentQueryTotal=this.currentQueryTotal,xt.parentContext=this,this.subContextCount++,xt}transformIntoNewTimeline(z){return this.previousNode=ic,this.currentTimeline=this.currentTimeline.fork(this.element,z),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(z,F,he){const Ve={duration:F??z.duration,delay:this.currentTimeline.currentTime+(he??0)+z.delay,easing:""},xt=new ol(this._driver,z.element,z.keyframes,z.preStyleProps,z.postStyleProps,Ve,z.stretchStartingKeyframe);return this.timelines.push(xt),Ve}incrementTime(z){this.currentTimeline.forwardTime(this.currentTimeline.duration+z)}delayNextStep(z){z>0&&this.currentTimeline.delayNextStep(z)}invokeQuery(z,F,he,Ve,xt,rn){let gn=[];if(Ve&&gn.push(this.element),z.length>0){z=(z=z.replace(Uc,"."+this._enterClassName)).replace(Ic,"."+this._leaveClassName);let Yn=this._driver.query(this.element,z,1!=he);0!==he&&(Yn=he<0?Yn.slice(Yn.length+he,Yn.length):Yn.slice(0,he)),gn.push(...Yn)}return!xt&&0==gn.length&&rn.push(function va(ue){return new t.vHH(3014,!1)}()),gn}}class ka{constructor(z,F,he,Ve){this._driver=z,this.element=F,this.startTime=he,this._elementTimelineStylesLookup=Ve,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(F),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(F,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(z){const F=1===this._keyframes.size&&this._pendingStyles.size;this.duration||F?(this.forwardTime(this.currentTime+z),F&&this.snapshotCurrentStyles()):this.startTime+=z}fork(z,F){return this.applyStylesToKeyframe(),new ka(this._driver,z,F||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(z){this.applyStylesToKeyframe(),this.duration=z,this._loadKeyframe()}_updateStyle(z,F){this._localTimelineStyles.set(z,F),this._globalTimelineStyles.set(z,F),this._styleSummary.set(z,{time:this.currentTime,value:F})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(z){z&&this._previousKeyframe.set("easing",z);for(let[F,he]of this._globalTimelineStyles)this._backFill.set(F,he||mt.l3),this._currentKeyframe.set(F,mt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(z,F,he,Ve){F&&this._previousKeyframe.set("easing",F);const xt=Ve&&Ve.params||{},rn=function Hl(ue,z){const F=new Map;let he;return ue.forEach(Ve=>{if("*"===Ve){he=he||z.keys();for(let xt of he)F.set(xt,mt.l3)}else ro(Ve,F)}),F}(z,this._globalTimelineStyles);for(let[gn,In]of rn){const Yn=ms(In,xt,he);this._pendingStyles.set(gn,Yn),this._localTimelineStyles.has(gn)||this._backFill.set(gn,this._globalTimelineStyles.get(gn)??mt.l3),this._updateStyle(gn,Yn)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((z,F)=>{this._currentKeyframe.set(F,z)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((z,F)=>{this._currentKeyframe.has(F)||this._currentKeyframe.set(F,z)}))}snapshotCurrentStyles(){for(let[z,F]of this._localTimelineStyles)this._pendingStyles.set(z,F),this._updateStyle(z,F)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const z=[];for(let F in this._currentKeyframe)z.push(F);return z}mergeTimelineCollectedStyles(z){z._styleSummary.forEach((F,he)=>{const Ve=this._styleSummary.get(he);(!Ve||F.time>Ve.time)&&this._updateStyle(he,F.value)})}buildKeyframes(){this.applyStylesToKeyframe();const z=new Set,F=new Set,he=1===this._keyframes.size&&0===this.duration;let Ve=[];this._keyframes.forEach((gn,In)=>{const Yn=ro(gn,new Map,this._backFill);Yn.forEach((_i,Ii)=>{_i===mt.k1?z.add(Ii):_i===mt.l3&&F.add(Ii)}),he||Yn.set("offset",In/this.duration),Ve.push(Yn)});const xt=z.size?Tl(z.values()):[],rn=F.size?Tl(F.values()):[];if(he){const gn=Ve[0],In=new Map(gn);gn.set("offset",0),In.set("offset",1),Ve=[gn,In]}return Sl(this.element,Ve,xt,rn,this.duration,this.startTime,this.easing,!1)}}class ol extends ka{constructor(z,F,he,Ve,xt,rn,gn=!1){super(z,F,rn.delay),this.keyframes=he,this.preStyleProps=Ve,this.postStyleProps=xt,this._stretchStartingKeyframe=gn,this.timings={duration:rn.duration,delay:rn.delay,easing:rn.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let z=this.keyframes,{delay:F,duration:he,easing:Ve}=this.timings;if(this._stretchStartingKeyframe&&F){const xt=[],rn=he+F,gn=F/rn,In=ro(z[0]);In.set("offset",0),xt.push(In);const Yn=ro(z[0]);Yn.set("offset",rc(gn)),xt.push(Yn);const _i=z.length-1;for(let Ii=1;Ii<=_i;Ii++){let Yr=ro(z[Ii]);const Tr=Yr.get("offset");Yr.set("offset",rc((F+Tr*he)/rn)),xt.push(Yr)}he=rn,F=0,Ve="",z=xt}return Sl(this.element,z,this.preStyleProps,this.postStyleProps,he,F,Ve,!0)}}function rc(ue,z=3){const F=Math.pow(10,z-1);return Math.round(ue*F)/F}class wc{}const Gc=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Gs extends wc{normalizePropertyName(z,F){return wr(z)}normalizeStyleValue(z,F,he,Ve){let xt="";const rn=he.toString().trim();if(Gc.has(F)&&0!==he&&"0"!==he)if("number"==typeof he)xt="px";else{const gn=he.match(/^[+-]?[\d\.]+([a-z]*)$/);gn&&0==gn[1].length&&Ve.push(function dr(ue,z){return new t.vHH(3005,!1)}())}return rn+xt}}function Hc(ue,z,F,he,Ve,xt,rn,gn,In,Yn,_i,Ii,Yr){return{type:0,element:ue,triggerName:z,isRemovalTransition:Ve,fromState:F,fromStyles:xt,toState:he,toStyles:rn,timelines:gn,queriedElements:In,preStyleProps:Yn,postStyleProps:_i,totalTime:Ii,errors:Yr}}const Qa={};class Nd{constructor(z,F,he){this._triggerName=z,this.ast=F,this._stateStyles=he}match(z,F,he,Ve){return function jl(ue,z,F,he,Ve){return ue.some(xt=>xt(z,F,he,Ve))}(this.ast.matchers,z,F,he,Ve)}buildStyles(z,F,he){let Ve=this._stateStyles.get("*");return void 0!==z&&(Ve=this._stateStyles.get(z?.toString())||Ve),Ve?Ve.buildStyles(F,he):new Map}build(z,F,he,Ve,xt,rn,gn,In,Yn,_i){const Ii=[],Yr=this.ast.options&&this.ast.options.params||Qa,ir=this.buildStyles(he,gn&&gn.params||Qa,Ii),ur=In&&In.params||Qa,No=this.buildStyles(Ve,ur,Ii),rs=new Set,na=new Map,ia=new Map,ao="void"===Ve,Ha={params:oc(ur,Yr),delay:this.ast.options?.delay},Ca=_i?[]:Xc(z,F,this.ast.animation,xt,rn,ir,No,Ha,Yn,Ii);let al=0;if(Ca.forEach(hd=>{al=Math.max(hd.duration+hd.delay,al)}),Ii.length)return Hc(F,this._triggerName,he,Ve,ao,ir,No,[],[],na,ia,al,Ii);Ca.forEach(hd=>{const Wc=hd.element,yu=xo(na,Wc,new Set);hd.preStyleProps.forEach(md=>yu.add(md));const bu=xo(ia,Wc,new Set);hd.postStyleProps.forEach(md=>bu.add(md)),Wc!==F&&rs.add(Wc)});const Il=Tl(rs.values());return Hc(F,this._triggerName,he,Ve,ao,ir,No,Ca,Il,na,ia,al)}}function oc(ue,z){const F=Oi(z);for(const he in ue)ue.hasOwnProperty(he)&&null!=ue[he]&&(F[he]=ue[he]);return F}class sc{constructor(z,F,he){this.styles=z,this.defaultParams=F,this.normalizer=he}buildStyles(z,F){const he=new Map,Ve=Oi(this.defaultParams);return Object.keys(z).forEach(xt=>{const rn=z[xt];null!==rn&&(Ve[xt]=rn)}),this.styles.styles.forEach(xt=>{"string"!=typeof xt&&xt.forEach((rn,gn)=>{rn&&(rn=ms(rn,Ve,F));const In=this.normalizer.normalizePropertyName(gn,F);rn=this.normalizer.normalizeStyleValue(gn,In,rn,F),he.set(gn,rn)})}),he}}class yo{constructor(z,F,he){this.name=z,this.ast=F,this._normalizer=he,this.transitionFactories=[],this.states=new Map,F.states.forEach(Ve=>{this.states.set(Ve.name,new sc(Ve.style,Ve.options&&Ve.options.params||{},he))}),qs(this.states,"true","1"),qs(this.states,"false","0"),F.transitions.forEach(Ve=>{this.transitionFactories.push(new Nd(z,Ve,this.states))}),this.fallbackTransition=function Ml(ue,z,F){return new Nd(ue,{type:1,animation:{type:2,steps:[],options:null},matchers:[(rn,gn)=>!0],options:null,queryCount:0,depCount:0},z)}(z,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(z,F,he,Ve){return this.transitionFactories.find(rn=>rn.match(z,F,he,Ve))||null}matchStyles(z,F,he){return this.fallbackTransition.buildStyles(z,F,he)}}function qs(ue,z,F){ue.has(z)?ue.has(F)||ue.set(F,ue.get(z)):ue.has(F)&&ue.set(z,ue.get(F))}const Hs=new Dl;class Ta{constructor(z,F,he){this.bodyNode=z,this._driver=F,this._normalizer=he,this._animations=new Map,this._playersById=new Map,this.players=[]}register(z,F){const he=[],xt=Js(this._driver,F,he,[]);if(he.length)throw function ci(ue){return new t.vHH(3503,!1)}();this._animations.set(z,xt)}_buildPlayer(z,F,he){const Ve=z.element,xt=Zo(this._normalizer,z.keyframes,F,he);return this._driver.animate(Ve,xt,z.duration,z.delay,z.easing,[],!0)}create(z,F,he={}){const Ve=[],xt=this._animations.get(z);let rn;const gn=new Map;if(xt?(rn=Xc(this._driver,F,xt,Jl,Ge,new Map,new Map,he,Hs,Ve),rn.forEach(_i=>{const Ii=xo(gn,_i.element,new Map);_i.postStyleProps.forEach(Yr=>Ii.set(Yr,null))})):(Ve.push(function or(){return new t.vHH(3300,!1)}()),rn=[]),Ve.length)throw function gl(ue){return new t.vHH(3504,!1)}();gn.forEach((_i,Ii)=>{_i.forEach((Yr,Tr)=>{_i.set(Tr,this._driver.computeStyle(Ii,Tr,mt.l3))})});const Yn=fs(rn.map(_i=>{const Ii=gn.get(_i.element);return this._buildPlayer(_i,new Map,Ii)}));return this._playersById.set(z,Yn),Yn.onDestroy(()=>this.destroy(z)),this.players.push(Yn),Yn}destroy(z){const F=this._getPlayer(z);F.destroy(),this._playersById.delete(z);const he=this.players.indexOf(F);he>=0&&this.players.splice(he,1)}_getPlayer(z){const F=this._playersById.get(z);if(!F)throw function yc(ue){return new t.vHH(3301,!1)}();return F}listen(z,F,he,Ve){const xt=go(F,"","","");return la(this._getPlayer(z),he,xt,Ve),()=>{}}command(z,F,he,Ve){if("register"==he)return void this.register(z,Ve[0]);if("create"==he)return void this.create(z,F,Ve[0]||{});const xt=this._getPlayer(z);switch(he){case"play":xt.play();break;case"pause":xt.pause();break;case"reset":xt.reset();break;case"restart":xt.restart();break;case"finish":xt.finish();break;case"init":xt.init();break;case"setPosition":xt.setPosition(parseFloat(Ve[0]));break;case"destroy":this.destroy(z)}}}const ed="ng-animate-queued",Al="ng-animate-disabled",Ye=[],ut={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ht={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hn="__ng_removed";class Ln{get params(){return this.options.params}constructor(z,F=""){this.namespaceId=F;const he=z&&z.hasOwnProperty("value");if(this.value=function cr(ue){return ue??null}(he?z.value:z),he){const xt=Oi(z);delete xt.value,this.options=xt}else this.options={};this.options.params||(this.options.params={})}absorbOptions(z){const F=z.params;if(F){const he=this.options.params;Object.keys(F).forEach(Ve=>{null==he[Ve]&&(he[Ve]=F[Ve])})}}}const Gn="void",Qn=new Ln(Gn);class Si{constructor(z,F,he){this.id=z,this.hostElement=F,this._engine=he,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+z,bo(F,this._hostClassName)}listen(z,F,he,Ve){if(!this._triggers.has(F))throw function Go(ue,z){return new t.vHH(3302,!1)}();if(null==he||0==he.length)throw function zc(ue){return new t.vHH(3303,!1)}();if(!function Ho(ue){return"start"==ue||"done"==ue}(he))throw function nl(ue,z){return new t.vHH(3400,!1)}();const xt=xo(this._elementListeners,z,[]),rn={name:F,phase:he,callback:Ve};xt.push(rn);const gn=xo(this._engine.statesByElement,z,new Map);return gn.has(F)||(bo(z,rt),bo(z,rt+"-"+F),gn.set(F,Qn)),()=>{this._engine.afterFlush(()=>{const In=xt.indexOf(rn);In>=0&&xt.splice(In,1),this._triggers.has(F)||gn.delete(F)})}}register(z,F){return!this._triggers.has(z)&&(this._triggers.set(z,F),!0)}_getTrigger(z){const F=this._triggers.get(z);if(!F)throw function io(ue){return new t.vHH(3401,!1)}();return F}trigger(z,F,he,Ve=!0){const xt=this._getTrigger(F),rn=new Ni(this.id,F,z);let gn=this._engine.statesByElement.get(z);gn||(bo(z,rt),bo(z,rt+"-"+F),this._engine.statesByElement.set(z,gn=new Map));let In=gn.get(F);const Yn=new Ln(he,this.id);if(!(he&&he.hasOwnProperty("value"))&&In&&Yn.absorbOptions(In.options),gn.set(F,Yn),In||(In=Qn),Yn.value!==Gn&&In.value===Yn.value){if(!function dd(ue,z){const F=Object.keys(ue),he=Object.keys(z);if(F.length!=he.length)return!1;for(let Ve=0;Ve<F.length;Ve++){const xt=F[Ve];if(!z.hasOwnProperty(xt)||ue[xt]!==z[xt])return!1}return!0}(In.params,Yn.params)){const ur=[],No=xt.matchStyles(In.value,In.params,ur),rs=xt.matchStyles(Yn.value,Yn.params,ur);ur.length?this._engine.reportError(ur):this._engine.afterFlush(()=>{hs(z,No),zo(z,rs)})}return}const Yr=xo(this._engine.playersByElement,z,[]);Yr.forEach(ur=>{ur.namespaceId==this.id&&ur.triggerName==F&&ur.queued&&ur.destroy()});let Tr=xt.matchTransition(In.value,Yn.value,z,Yn.params),ir=!1;if(!Tr){if(!Ve)return;Tr=xt.fallbackTransition,ir=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:z,triggerName:F,transition:Tr,fromState:In,toState:Yn,player:rn,isFallbackTransition:ir}),ir||(bo(z,ed),rn.onStart(()=>{ea(z,ed)})),rn.onDone(()=>{let ur=this.players.indexOf(rn);ur>=0&&this.players.splice(ur,1);const No=this._engine.playersByElement.get(z);if(No){let rs=No.indexOf(rn);rs>=0&&No.splice(rs,1)}}),this.players.push(rn),Yr.push(rn),rn}deregister(z){this._triggers.delete(z),this._engine.statesByElement.forEach(F=>F.delete(z)),this._elementListeners.forEach((F,he)=>{this._elementListeners.set(he,F.filter(Ve=>Ve.name!=z))})}clearElementCache(z){this._engine.statesByElement.delete(z),this._elementListeners.delete(z);const F=this._engine.playersByElement.get(z);F&&(F.forEach(he=>he.destroy()),this._engine.playersByElement.delete(z))}_signalRemovalForInnerTriggers(z,F){const he=this._engine.driver.query(z,xe,!0);he.forEach(Ve=>{if(Ve[hn])return;const xt=this._engine.fetchNamespacesByElement(Ve);xt.size?xt.forEach(rn=>rn.triggerLeaveAnimation(Ve,F,!1,!0)):this.clearElementCache(Ve)}),this._engine.afterFlushAnimationsDone(()=>he.forEach(Ve=>this.clearElementCache(Ve)))}triggerLeaveAnimation(z,F,he,Ve){const xt=this._engine.statesByElement.get(z),rn=new Map;if(xt){const gn=[];if(xt.forEach((In,Yn)=>{if(rn.set(Yn,In.value),this._triggers.has(Yn)){const _i=this.trigger(z,Yn,Gn,Ve);_i&&gn.push(_i)}}),gn.length)return this._engine.markElementAsRemoved(this.id,z,!0,F,rn),he&&fs(gn).onDone(()=>this._engine.processLeaveNode(z)),!0}return!1}prepareLeaveAnimationListeners(z){const F=this._elementListeners.get(z),he=this._engine.statesByElement.get(z);if(F&&he){const Ve=new Set;F.forEach(xt=>{const rn=xt.name;if(Ve.has(rn))return;Ve.add(rn);const In=this._triggers.get(rn).fallbackTransition,Yn=he.get(rn)||Qn,_i=new Ln(Gn),Ii=new Ni(this.id,rn,z);this._engine.totalQueuedPlayers++,this._queue.push({element:z,triggerName:rn,transition:In,fromState:Yn,toState:_i,player:Ii,isFallbackTransition:!0})})}}removeNode(z,F){const he=this._engine;if(z.childElementCount&&this._signalRemovalForInnerTriggers(z,F),this.triggerLeaveAnimation(z,F,!0))return;let Ve=!1;if(he.totalAnimations){const xt=he.players.length?he.playersByQueriedElement.get(z):[];if(xt&&xt.length)Ve=!0;else{let rn=z;for(;rn=rn.parentNode;)if(he.statesByElement.get(rn)){Ve=!0;break}}}if(this.prepareLeaveAnimationListeners(z),Ve)he.markElementAsRemoved(this.id,z,!1,F);else{const xt=z[hn];(!xt||xt===ut)&&(he.afterFlush(()=>this.clearElementCache(z)),he.destroyInnerAnimations(z),he._onRemovalComplete(z,F))}}insertNode(z,F){bo(z,this._hostClassName)}drainQueuedTransitions(z){const F=[];return this._queue.forEach(he=>{const Ve=he.player;if(Ve.destroyed)return;const xt=he.element,rn=this._elementListeners.get(xt);rn&&rn.forEach(gn=>{if(gn.name==he.triggerName){const In=go(xt,he.triggerName,he.fromState.value,he.toState.value);In._data=z,la(he.player,gn.phase,In,gn.callback)}}),Ve.markedForDestroy?this._engine.afterFlush(()=>{Ve.destroy()}):F.push(he)}),this._queue=[],F.sort((he,Ve)=>{const xt=he.transition.ast.depCount,rn=Ve.transition.ast.depCount;return 0==xt||0==rn?xt-rn:this._engine.driver.containsElement(he.element,Ve.element)?1:-1})}destroy(z){this.players.forEach(F=>F.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,z)}}class zt{_onRemovalComplete(z,F){this.onRemovalComplete(z,F)}constructor(z,F,he){this.bodyNode=z,this.driver=F,this._normalizer=he,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Ve,xt)=>{}}get queuedPlayers(){const z=[];return this._namespaceList.forEach(F=>{F.players.forEach(he=>{he.queued&&z.push(he)})}),z}createNamespace(z,F){const he=new Si(z,F,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,F)?this._balanceNamespaceList(he,F):(this.newHostElements.set(F,he),this.collectEnterElement(F)),this._namespaceLookup[z]=he}_balanceNamespaceList(z,F){const he=this._namespaceList,Ve=this.namespacesByHostElement;if(he.length-1>=0){let rn=!1,gn=this.driver.getParentElement(F);for(;gn;){const In=Ve.get(gn);if(In){const Yn=he.indexOf(In);he.splice(Yn+1,0,z),rn=!0;break}gn=this.driver.getParentElement(gn)}rn||he.unshift(z)}else he.push(z);return Ve.set(F,z),z}register(z,F){let he=this._namespaceLookup[z];return he||(he=this.createNamespace(z,F)),he}registerTrigger(z,F,he){let Ve=this._namespaceLookup[z];Ve&&Ve.register(F,he)&&this.totalAnimations++}destroy(z,F){z&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const he=this._fetchNamespace(z);this.namespacesByHostElement.delete(he.hostElement);const Ve=this._namespaceList.indexOf(he);Ve>=0&&this._namespaceList.splice(Ve,1),he.destroy(F),delete this._namespaceLookup[z]}))}_fetchNamespace(z){return this._namespaceLookup[z]}fetchNamespacesByElement(z){const F=new Set,he=this.statesByElement.get(z);if(he)for(let Ve of he.values())if(Ve.namespaceId){const xt=this._fetchNamespace(Ve.namespaceId);xt&&F.add(xt)}return F}trigger(z,F,he,Ve){if(gs(F)){const xt=this._fetchNamespace(z);if(xt)return xt.trigger(F,he,Ve),!0}return!1}insertNode(z,F,he,Ve){if(!gs(F))return;const xt=F[hn];if(xt&&xt.setForRemoval){xt.setForRemoval=!1,xt.setForMove=!0;const rn=this.collectedLeaveElements.indexOf(F);rn>=0&&this.collectedLeaveElements.splice(rn,1)}if(z){const rn=this._fetchNamespace(z);rn&&rn.insertNode(F,he)}Ve&&this.collectEnterElement(F)}collectEnterElement(z){this.collectedEnterElements.push(z)}markElementAsDisabled(z,F){F?this.disabledNodes.has(z)||(this.disabledNodes.add(z),bo(z,Al)):this.disabledNodes.has(z)&&(this.disabledNodes.delete(z),ea(z,Al))}removeNode(z,F,he){if(gs(F)){const Ve=z?this._fetchNamespace(z):null;Ve?Ve.removeNode(F,he):this.markElementAsRemoved(z,F,!1,he);const xt=this.namespacesByHostElement.get(F);xt&&xt.id!==z&&xt.removeNode(F,he)}else this._onRemovalComplete(F,he)}markElementAsRemoved(z,F,he,Ve,xt){this.collectedLeaveElements.push(F),F[hn]={namespaceId:z,setForRemoval:Ve,hasAnimation:he,removedBeforeQueried:!1,previousTriggersValues:xt}}listen(z,F,he,Ve,xt){return gs(F)?this._fetchNamespace(z).listen(F,he,Ve,xt):()=>{}}_buildInstruction(z,F,he,Ve,xt){return z.transition.build(this.driver,z.element,z.fromState.value,z.toState.value,he,Ve,z.fromState.options,z.toState.options,F,xt)}destroyInnerAnimations(z){let F=this.driver.query(z,xe,!0);F.forEach(he=>this.destroyActiveAnimationsForElement(he)),0!=this.playersByQueriedElement.size&&(F=this.driver.query(z,Gt,!0),F.forEach(he=>this.finishActiveQueriedAnimationOnElement(he)))}destroyActiveAnimationsForElement(z){const F=this.playersByElement.get(z);F&&F.forEach(he=>{he.queued?he.markedForDestroy=!0:he.destroy()})}finishActiveQueriedAnimationOnElement(z){const F=this.playersByQueriedElement.get(z);F&&F.forEach(he=>he.finish())}whenRenderingDone(){return new Promise(z=>{if(this.players.length)return fs(this.players).onDone(()=>z());z()})}processLeaveNode(z){const F=z[hn];if(F&&F.setForRemoval){if(z[hn]=ut,F.namespaceId){this.destroyInnerAnimations(z);const he=this._fetchNamespace(F.namespaceId);he&&he.clearElementCache(z)}this._onRemovalComplete(z,F.setForRemoval)}z.classList?.contains(Al)&&this.markElementAsDisabled(z,!1),this.driver.query(z,".ng-animate-disabled",!0).forEach(he=>{this.markElementAsDisabled(he,!1)})}flush(z=-1){let F=[];if(this.newHostElements.size&&(this.newHostElements.forEach((he,Ve)=>this._balanceNamespaceList(he,Ve)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let he=0;he<this.collectedEnterElements.length;he++)bo(this.collectedEnterElements[he],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const he=[];try{F=this._flushAnimations(he,z)}finally{for(let Ve=0;Ve<he.length;Ve++)he[Ve]()}}else for(let he=0;he<this.collectedLeaveElements.length;he++)this.processLeaveNode(this.collectedLeaveElements[he]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(he=>he()),this._flushFns=[],this._whenQuietFns.length){const he=this._whenQuietFns;this._whenQuietFns=[],F.length?fs(F).onDone(()=>{he.forEach(Ve=>Ve())}):he.forEach(Ve=>Ve())}}reportError(z){throw function Ya(ue){return new t.vHH(3402,!1)}()}_flushAnimations(z,F){const he=new Dl,Ve=[],xt=new Map,rn=[],gn=new Map,In=new Map,Yn=new Map,_i=new Set;this.disabledNodes.forEach(zi=>{_i.add(zi);const ar=this.driver.query(zi,".ng-animate-queued",!0);for(let fr=0;fr<ar.length;fr++)_i.add(ar[fr])});const Ii=this.bodyNode,Yr=Array.from(this.statesByElement.keys()),Tr=cc(Yr,this.collectedEnterElements),ir=new Map;let ur=0;Tr.forEach((zi,ar)=>{const fr=Jl+ur++;ir.set(ar,fr),zi.forEach(Co=>bo(Co,fr))});const No=[],rs=new Set,na=new Set;for(let zi=0;zi<this.collectedLeaveElements.length;zi++){const ar=this.collectedLeaveElements[zi],fr=ar[hn];fr&&fr.setForRemoval&&(No.push(ar),rs.add(ar),fr.hasAnimation?this.driver.query(ar,".ng-star-inserted",!0).forEach(Co=>rs.add(Co)):na.add(ar))}const ia=new Map,ao=cc(Yr,Array.from(rs));ao.forEach((zi,ar)=>{const fr=Ge+ur++;ia.set(ar,fr),zi.forEach(Co=>bo(Co,fr))}),z.push(()=>{Tr.forEach((zi,ar)=>{const fr=ir.get(ar);zi.forEach(Co=>ea(Co,fr))}),ao.forEach((zi,ar)=>{const fr=ia.get(ar);zi.forEach(Co=>ea(Co,fr))}),No.forEach(zi=>{this.processLeaveNode(zi)})});const Ha=[],Ca=[];for(let zi=this._namespaceList.length-1;zi>=0;zi--)this._namespaceList[zi].drainQueuedTransitions(F).forEach(fr=>{const Co=fr.player,Sa=fr.element;if(Ha.push(Co),this.collectedEnterElements.length){const ll=Sa[hn];if(ll&&ll.setForMove){if(ll.previousTriggersValues&&ll.previousTriggersValues.has(fr.triggerName)){const xd=ll.previousTriggersValues.get(fr.triggerName),Yl=this.statesByElement.get(fr.element);if(Yl&&Yl.has(fr.triggerName)){const Af=Yl.get(fr.triggerName);Af.value=xd,Yl.set(fr.triggerName,Af)}}return void Co.destroy()}}const wl=!Ii||!this.driver.containsElement(Ii,Sa),hc=ia.get(Sa),Ad=ir.get(Sa),Ns=this._buildInstruction(fr,he,Ad,hc,wl);if(Ns.errors&&Ns.errors.length)return void Ca.push(Ns);if(wl)return Co.onStart(()=>hs(Sa,Ns.fromStyles)),Co.onDestroy(()=>zo(Sa,Ns.toStyles)),void Ve.push(Co);if(fr.isFallbackTransition)return Co.onStart(()=>hs(Sa,Ns.fromStyles)),Co.onDestroy(()=>zo(Sa,Ns.toStyles)),void Ve.push(Co);const Fu=[];Ns.timelines.forEach(ll=>{ll.stretchStartingKeyframe=!0,this.disabledNodes.has(ll.element)||Fu.push(ll)}),Ns.timelines=Fu,he.append(Sa,Ns.timelines),rn.push({instruction:Ns,player:Co,element:Sa}),Ns.queriedElements.forEach(ll=>xo(gn,ll,[]).push(Co)),Ns.preStyleProps.forEach((ll,xd)=>{if(ll.size){let Yl=In.get(xd);Yl||In.set(xd,Yl=new Set),ll.forEach((Af,xf)=>Yl.add(xf))}}),Ns.postStyleProps.forEach((ll,xd)=>{let Yl=Yn.get(xd);Yl||Yn.set(xd,Yl=new Set),ll.forEach((Af,xf)=>Yl.add(xf))})});if(Ca.length){const zi=[];Ca.forEach(ar=>{zi.push(function Ll(ue,z){return new t.vHH(3505,!1)}())}),Ha.forEach(ar=>ar.destroy()),this.reportError(zi)}const al=new Map,Il=new Map;rn.forEach(zi=>{const ar=zi.element;he.has(ar)&&(Il.set(ar,ar),this._beforeAnimationBuild(zi.player.namespaceId,zi.instruction,al))}),Ve.forEach(zi=>{const ar=zi.element;this._getPreviousPlayers(ar,!1,zi.namespaceId,zi.triggerName,null).forEach(Co=>{xo(al,ar,[]).push(Co),Co.destroy()})});const hd=No.filter(zi=>bd(zi,In,Yn)),Wc=new Map;sl(Wc,this.driver,na,Yn,mt.l3).forEach(zi=>{bd(zi,In,Yn)&&hd.push(zi)});const bu=new Map;Tr.forEach((zi,ar)=>{sl(bu,this.driver,new Set(zi),In,mt.k1)}),hd.forEach(zi=>{const ar=Wc.get(zi),fr=bu.get(zi);Wc.set(zi,new Map([...ar?.entries()??[],...fr?.entries()??[]]))});const md=[],Eu=[],Md={};rn.forEach(zi=>{const{element:ar,player:fr,instruction:Co}=zi;if(he.has(ar)){if(_i.has(ar))return fr.onDestroy(()=>zo(ar,Co.toStyles)),fr.disabled=!0,fr.overrideTotalTime(Co.totalTime),void Ve.push(fr);let Sa=Md;if(Il.size>1){let hc=ar;const Ad=[];for(;hc=hc.parentNode;){const Ns=Il.get(hc);if(Ns){Sa=Ns;break}Ad.push(hc)}Ad.forEach(Ns=>Il.set(Ns,Sa))}const wl=this._buildAnimation(fr.namespaceId,Co,al,xt,bu,Wc);if(fr.setRealPlayer(wl),Sa===Md)md.push(fr);else{const hc=this.playersByElement.get(Sa);hc&&hc.length&&(fr.parentPlayer=fs(hc)),Ve.push(fr)}}else hs(ar,Co.fromStyles),fr.onDestroy(()=>zo(ar,Co.toStyles)),Eu.push(fr),_i.has(ar)&&Ve.push(fr)}),Eu.forEach(zi=>{const ar=xt.get(zi.element);if(ar&&ar.length){const fr=fs(ar);zi.setRealPlayer(fr)}}),Ve.forEach(zi=>{zi.parentPlayer?zi.syncPlayerEvents(zi.parentPlayer):zi.destroy()});for(let zi=0;zi<No.length;zi++){const ar=No[zi],fr=ar[hn];if(ea(ar,Ge),fr&&fr.hasAnimation)continue;let Co=[];if(gn.size){let wl=gn.get(ar);wl&&wl.length&&Co.push(...wl);let hc=this.driver.query(ar,Gt,!0);for(let Ad=0;Ad<hc.length;Ad++){let Ns=gn.get(hc[Ad]);Ns&&Ns.length&&Co.push(...Ns)}}const Sa=Co.filter(wl=>!wl.destroyed);Sa.length?Pc(this,ar,Sa):this.processLeaveNode(ar)}return No.length=0,md.forEach(zi=>{this.players.push(zi),zi.onDone(()=>{zi.destroy();const ar=this.players.indexOf(zi);this.players.splice(ar,1)}),zi.play()}),md}afterFlush(z){this._flushFns.push(z)}afterFlushAnimationsDone(z){this._whenQuietFns.push(z)}_getPreviousPlayers(z,F,he,Ve,xt){let rn=[];if(F){const gn=this.playersByQueriedElement.get(z);gn&&(rn=gn)}else{const gn=this.playersByElement.get(z);if(gn){const In=!xt||xt==Gn;gn.forEach(Yn=>{Yn.queued||!In&&Yn.triggerName!=Ve||rn.push(Yn)})}}return(he||Ve)&&(rn=rn.filter(gn=>!(he&&he!=gn.namespaceId||Ve&&Ve!=gn.triggerName))),rn}_beforeAnimationBuild(z,F,he){const xt=F.element,rn=F.isRemovalTransition?void 0:z,gn=F.isRemovalTransition?void 0:F.triggerName;for(const In of F.timelines){const Yn=In.element,_i=Yn!==xt,Ii=xo(he,Yn,[]);this._getPreviousPlayers(Yn,_i,rn,gn,F.toState).forEach(Tr=>{const ir=Tr.getRealPlayer();ir.beforeDestroy&&ir.beforeDestroy(),Tr.destroy(),Ii.push(Tr)})}hs(xt,F.fromStyles)}_buildAnimation(z,F,he,Ve,xt,rn){const gn=F.triggerName,In=F.element,Yn=[],_i=new Set,Ii=new Set,Yr=F.timelines.map(ir=>{const ur=ir.element;_i.add(ur);const No=ur[hn];if(No&&No.removedBeforeQueried)return new mt.ZN(ir.duration,ir.delay);const rs=ur!==In,na=function yd(ue){const z=[];return td(ue,z),z}((he.get(ur)||Ye).map(al=>al.getRealPlayer())).filter(al=>!!al.element&&al.element===ur),ia=xt.get(ur),ao=rn.get(ur),Ha=Zo(this._normalizer,ir.keyframes,ia,ao),Ca=this._buildPlayer(ir,Ha,na);if(ir.subTimeline&&Ve&&Ii.add(ur),rs){const al=new Ni(z,gn,ur);al.setRealPlayer(Ca),Yn.push(al)}return Ca});Yn.forEach(ir=>{xo(this.playersByQueriedElement,ir.element,[]).push(ir),ir.onDone(()=>function Qi(ue,z,F){let he=ue.get(z);if(he){if(he.length){const Ve=he.indexOf(F);he.splice(Ve,1)}0==he.length&&ue.delete(z)}return he}(this.playersByQueriedElement,ir.element,ir))}),_i.forEach(ir=>bo(ir,nt));const Tr=fs(Yr);return Tr.onDestroy(()=>{_i.forEach(ir=>ea(ir,nt)),zo(In,F.toStyles)}),Ii.forEach(ir=>{xo(Ve,ir,[]).push(Tr)}),Tr}_buildPlayer(z,F,he){return F.length>0?this.driver.animate(z.element,F,z.duration,z.delay,z.easing,he):new mt.ZN(z.duration,z.delay)}}class Ni{constructor(z,F,he){this.namespaceId=z,this.triggerName=F,this.element=he,this._player=new mt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(z){this._containsRealPlayer||(this._player=z,this._queuedCallbacks.forEach((F,he)=>{F.forEach(Ve=>la(z,he,void 0,Ve))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(z.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(z){this.totalTime=z}syncPlayerEvents(z){const F=this._player;F.triggerCallback&&z.onStart(()=>F.triggerCallback("start")),z.onDone(()=>this.finish()),z.onDestroy(()=>this.destroy())}_queueEvent(z,F){xo(this._queuedCallbacks,z,[]).push(F)}onDone(z){this.queued&&this._queueEvent("done",z),this._player.onDone(z)}onStart(z){this.queued&&this._queueEvent("start",z),this._player.onStart(z)}onDestroy(z){this.queued&&this._queueEvent("destroy",z),this._player.onDestroy(z)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(z){this.queued||this._player.setPosition(z)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(z){const F=this._player;F.triggerCallback&&F.triggerCallback(z)}}function gs(ue){return ue&&1===ue.nodeType}function Oc(ue,z){const F=ue.style.display;return ue.style.display=z??"none",F}function sl(ue,z,F,he,Ve){const xt=[];F.forEach(In=>xt.push(Oc(In)));const rn=[];he.forEach((In,Yn)=>{const _i=new Map;In.forEach(Ii=>{const Yr=z.computeStyle(Yn,Ii,Ve);_i.set(Ii,Yr),(!Yr||0==Yr.length)&&(Yn[hn]=Ht,rn.push(Yn))}),ue.set(Yn,_i)});let gn=0;return F.forEach(In=>Oc(In,xt[gn++])),rn}function cc(ue,z){const F=new Map;if(ue.forEach(gn=>F.set(gn,[])),0==z.length)return F;const Ve=new Set(z),xt=new Map;function rn(gn){if(!gn)return 1;let In=xt.get(gn);if(In)return In;const Yn=gn.parentNode;return In=F.has(Yn)?Yn:Ve.has(Yn)?1:rn(Yn),xt.set(gn,In),In}return z.forEach(gn=>{const In=rn(gn);1!==In&&F.get(In).push(gn)}),F}function bo(ue,z){ue.classList?.add(z)}function ea(ue,z){ue.classList?.remove(z)}function Pc(ue,z,F){fs(F).onDone(()=>ue.processLeaveNode(z))}function td(ue,z){for(let F=0;F<ue.length;F++){const he=ue[F];he instanceof mt.ZE?td(he.players,z):z.push(he)}}function bd(ue,z,F){const he=F.get(ue);if(!he)return!1;let Ve=z.get(ue);return Ve?he.forEach(xt=>Ve.add(xt)):z.set(ue,he),F.delete(ue),!0}class Rc{constructor(z,F,he){this.bodyNode=z,this._driver=F,this._normalizer=he,this._triggerCache={},this.onRemovalComplete=(Ve,xt)=>{},this._transitionEngine=new zt(z,F,he),this._timelineEngine=new Ta(z,F,he),this._transitionEngine.onRemovalComplete=(Ve,xt)=>this.onRemovalComplete(Ve,xt)}registerTrigger(z,F,he,Ve,xt){const rn=z+"-"+Ve;let gn=this._triggerCache[rn];if(!gn){const In=[],_i=Js(this._driver,xt,In,[]);if(In.length)throw function Ss(ue,z){return new t.vHH(3404,!1)}();gn=function Wr(ue,z,F){return new yo(ue,z,F)}(Ve,_i,this._normalizer),this._triggerCache[rn]=gn}this._transitionEngine.registerTrigger(F,Ve,gn)}register(z,F){this._transitionEngine.register(z,F)}destroy(z,F){this._transitionEngine.destroy(z,F)}onInsert(z,F,he,Ve){this._transitionEngine.insertNode(z,F,he,Ve)}onRemove(z,F,he){this._transitionEngine.removeNode(z,F,he)}disableAnimations(z,F){this._transitionEngine.markElementAsDisabled(z,F)}process(z,F,he,Ve){if("@"==he.charAt(0)){const[xt,rn]=Bo(he);this._timelineEngine.command(xt,F,rn,Ve)}else this._transitionEngine.trigger(z,F,he,Ve)}listen(z,F,he,Ve,xt){if("@"==he.charAt(0)){const[rn,gn]=Bo(he);return this._timelineEngine.listen(rn,F,gn,xt)}return this._transitionEngine.listen(z,F,he,Ve,xt)}flush(z=-1){this._transitionEngine.flush(z)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(z){this._transitionEngine.afterFlushAnimationsDone(z)}}let Vc=(()=>{class ue{static#e=this.initialStylesByElement=new WeakMap;constructor(F,he,Ve){this._element=F,this._startStyles=he,this._endStyles=Ve,this._state=0;let xt=ue.initialStylesByElement.get(F);xt||ue.initialStylesByElement.set(F,xt=new Map),this._initialStyles=xt}start(){this._state<1&&(this._startStyles&&zo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(zo(this._element,this._initialStyles),this._endStyles&&(zo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(ue.initialStylesByElement.delete(this._element),this._startStyles&&(hs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hs(this._element,this._endStyles),this._endStyles=null),zo(this._element,this._initialStyles),this._state=3)}}return ue})();function Ed(ue){let z=null;return ue.forEach((F,he)=>{(function Yd(ue){return"display"===ue||"position"===ue})(he)&&(z=z||new Map,z.set(he,F))}),z}class ud{constructor(z,F,he,Ve){this.element=z,this.keyframes=F,this.options=he,this._specialStyles=Ve,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=he.duration,this._delay=he.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(z=>z()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const z=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,z,this.options),this._finalKeyframe=z.length?z[z.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(z){const F=[];return z.forEach(he=>{F.push(Object.fromEntries(he))}),F}_triggerWebAnimation(z,F,he){return z.animate(this._convertKeyframesToObject(F),he)}onStart(z){this._originalOnStartFns.push(z),this._onStartFns.push(z)}onDone(z){this._originalOnDoneFns.push(z),this._onDoneFns.push(z)}onDestroy(z){this._onDestroyFns.push(z)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(z=>z()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(z=>z()),this._onDestroyFns=[])}setPosition(z){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=z*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const z=new Map;this.hasStarted()&&this._finalKeyframe.forEach((he,Ve)=>{"offset"!==Ve&&z.set(Ve,this._finished?he:Ra(this.element,Ve))}),this.currentSnapshot=z}triggerCallback(z){const F="start"===z?this._onStartFns:this._onDoneFns;F.forEach(he=>he()),F.length=0}}class Zd{validateStyleProperty(z){return!0}validateAnimatableStyleProperty(z){return!0}matchesElement(z,F){return!1}containsElement(z,F){return $s(z,F)}getParentElement(z){return Ea(z)}query(z,F,he){return bl(z,F,he)}computeStyle(z,F,he){return window.getComputedStyle(z)[F]}animate(z,F,he,Ve,xt,rn=[]){const In={duration:he,delay:Ve,fill:0==Ve?"both":"forwards"};xt&&(In.easing=xt);const Yn=new Map,_i=rn.filter(Tr=>Tr instanceof ud);(function Dc(ue,z){return 0===ue||0===z})(he,Ve)&&_i.forEach(Tr=>{Tr.currentSnapshot.forEach((ir,ur)=>Yn.set(ur,ir))});let Ii=function Er(ue){return ue.length?ue[0]instanceof Map?ue:ue.map(z=>Ri(z)):[]}(F).map(Tr=>ro(Tr));Ii=function kl(ue,z,F){if(F.size&&z.length){let he=z[0],Ve=[];if(F.forEach((xt,rn)=>{he.has(rn)||Ve.push(rn),he.set(rn,xt)}),Ve.length)for(let xt=1;xt<z.length;xt++){let rn=z[xt];Ve.forEach(gn=>rn.set(gn,Ra(ue,gn)))}}return z}(z,Ii,Yn);const Yr=function Nc(ue,z){let F=null,he=null;return Array.isArray(z)&&z.length?(F=Ed(z[0]),z.length>1&&(he=Ed(z[z.length-1]))):z instanceof Map&&(F=Ed(z)),F||he?new Vc(ue,F,he):null}(z,Ii);return new ud(z,Ii,In,Yr)}}let Ld=(()=>{class ue extends mt._j{constructor(F,he){super(),this._nextAnimationId=0,this._renderer=F.createRenderer(he.body,{id:"0",encapsulation:t.ifc.None,styles:[],data:{animation:[]}})}build(F){const he=this._nextAnimationId.toString();this._nextAnimationId++;const Ve=Array.isArray(F)?(0,mt.vP)(F):F;return kd(this._renderer,null,he,"register",[Ve]),new fd(he,this._renderer)}static#e=this.\u0275fac=function(he){return new(he||ue)(t.LFG(t.FYo),t.LFG(be.K0))};static#t=this.\u0275prov=t.Yz7({token:ue,factory:ue.\u0275fac})}return ue})();class fd extends mt.LC{constructor(z,F){super(),this._id=z,this._renderer=F}create(z,F){return new nd(this._id,z,F||{},this._renderer)}}class nd{constructor(z,F,he,Ve){this.id=z,this.element=F,this._renderer=Ve,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",he)}_listen(z,F){return this._renderer.listen(this.element,`@@${this.id}:${z}`,F)}_command(z,...F){return kd(this._renderer,this.element,this.id,z,F)}onDone(z){this._listen("done",z)}onStart(z){this._listen("start",z)}onDestroy(z){this._listen("destroy",z)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(z){this._command("setPosition",z)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function kd(ue,z,F,he,Ve){return ue.setProperty(z,`@@${F}:${he}`,Ve)}const W="@.disabled";let se=(()=>{class ue{constructor(F,he,Ve){this.delegate=F,this.engine=he,this._zone=Ve,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,he.onRemovalComplete=(xt,rn)=>{const gn=rn?.parentNode(xt);gn&&rn.removeChild(gn,xt)}}createRenderer(F,he){const xt=this.delegate.createRenderer(F,he);if(!(F&&he&&he.data&&he.data.animation)){let _i=this._rendererCache.get(xt);return _i||(_i=new $e("",xt,this.engine,()=>this._rendererCache.delete(xt)),this._rendererCache.set(xt,_i)),_i}const rn=he.id,gn=he.id+"-"+this._currentId;this._currentId++,this.engine.register(gn,F);const In=_i=>{Array.isArray(_i)?_i.forEach(In):this.engine.registerTrigger(rn,gn,F,_i.name,_i)};return he.data.animation.forEach(In),new Wt(this,gn,xt,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(F,he,Ve){F>=0&&F<this._microtaskId?this._zone.run(()=>he(Ve)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(xt=>{const[rn,gn]=xt;rn(gn)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([he,Ve]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(he){return new(he||ue)(t.LFG(t.FYo),t.LFG(Rc),t.LFG(t.R0b))};static#t=this.\u0275prov=t.Yz7({token:ue,factory:ue.\u0275fac})}return ue})();class $e{constructor(z,F,he,Ve){this.namespaceId=z,this.delegate=F,this.engine=he,this._onDestroy=Ve}get data(){return this.delegate.data}destroyNode(z){this.delegate.destroyNode?.(z)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(z,F){return this.delegate.createElement(z,F)}createComment(z){return this.delegate.createComment(z)}createText(z){return this.delegate.createText(z)}appendChild(z,F){this.delegate.appendChild(z,F),this.engine.onInsert(this.namespaceId,F,z,!1)}insertBefore(z,F,he,Ve=!0){this.delegate.insertBefore(z,F,he),this.engine.onInsert(this.namespaceId,F,z,Ve)}removeChild(z,F,he){this.engine.onRemove(this.namespaceId,F,this.delegate)}selectRootElement(z,F){return this.delegate.selectRootElement(z,F)}parentNode(z){return this.delegate.parentNode(z)}nextSibling(z){return this.delegate.nextSibling(z)}setAttribute(z,F,he,Ve){this.delegate.setAttribute(z,F,he,Ve)}removeAttribute(z,F,he){this.delegate.removeAttribute(z,F,he)}addClass(z,F){this.delegate.addClass(z,F)}removeClass(z,F){this.delegate.removeClass(z,F)}setStyle(z,F,he,Ve){this.delegate.setStyle(z,F,he,Ve)}removeStyle(z,F,he){this.delegate.removeStyle(z,F,he)}setProperty(z,F,he){"@"==F.charAt(0)&&F==W?this.disableAnimations(z,!!he):this.delegate.setProperty(z,F,he)}setValue(z,F){this.delegate.setValue(z,F)}listen(z,F,he){return this.delegate.listen(z,F,he)}disableAnimations(z,F){this.engine.disableAnimations(z,F)}}class Wt extends $e{constructor(z,F,he,Ve,xt){super(F,he,Ve,xt),this.factory=z,this.namespaceId=F}setProperty(z,F,he){"@"==F.charAt(0)?"."==F.charAt(1)&&F==W?this.disableAnimations(z,he=void 0===he||!!he):this.engine.process(this.namespaceId,z,F.slice(1),he):this.delegate.setProperty(z,F,he)}listen(z,F,he){if("@"==F.charAt(0)){const Ve=function an(ue){switch(ue){case"body":return document.body;case"document":return document;case"window":return window;default:return ue}}(z);let xt=F.slice(1),rn="";return"@"!=xt.charAt(0)&&([xt,rn]=function Hn(ue){const z=ue.indexOf(".");return[ue.substring(0,z),ue.slice(z+1)]}(xt)),this.engine.listen(this.namespaceId,Ve,xt,rn,gn=>{this.factory.scheduleListenerCallback(gn._data||-1,he,gn)})}return this.delegate.listen(z,F,he)}}const Wi=[{provide:mt._j,useClass:Ld},{provide:wc,useFactory:function Ci(){return new Gs}},{provide:Rc,useClass:(()=>{class ue extends Rc{constructor(F,he,Ve,xt){super(F.body,he,Ve)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(he){return new(he||ue)(t.LFG(be.K0),t.LFG(Ec),t.LFG(wc),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:ue,factory:ue.\u0275fac})}return ue})()},{provide:t.FYo,useFactory:function xi(ue,z,F){return new se(ue,z,F)},deps:[e.se,Rc,t.R0b]}],Dr=[{provide:Ec,useFactory:()=>new Zd},{provide:t.QbO,useValue:"BrowserAnimations"},...Wi],Ps=[{provide:Ec,useClass:$l},{provide:t.QbO,useValue:"NoopAnimations"},...Wi];let dc=(()=>{class ue{static withConfig(F){return{ngModule:ue,providers:F.disableAnimations?Ps:Dr}}static#e=this.\u0275fac=function(he){return new(he||ue)};static#t=this.\u0275mod=t.oAB({type:ue});static#n=this.\u0275inj=t.cJS({providers:Dr,imports:[e.b2]})}return ue})();const __firebase={apiKey:"AIzaSyCPw-M_b3TyI_lHHkg3lT8ZZ_Z8XRa6vLU",authDomain:"sinovadclient-119aa.firebaseapp.com",projectId:"sinovadclient-119aa",storageBucket:"sinovadclient-119aa.appspot.com",messagingSenderId:"734621308263",appId:"1:734621308263:web:93ab2203f67a179c5a4bc2",measurementId:"G-2HCXG6DS06"};var M=g(1921),k=g(2680),H=g(9411);class te{}var Ae=g(295),Pe=g(5934),dt=g(5529),pt=g(7581),Ut=g(2098),jt=g(1716),qt=g(7983),cn=g(7591),bn=g(5053),Bn=g(4748),ei=g(9817),Zn=g(2472),di=g(1018),oi=g(914),Ai=g(3482),gi=g(6442),Mi=g(6933),Pi=g(1424),ui=g(2128),ji=g(9230),Hi=g(661);const to={UKNOWN:"Unknown"},Rs={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:to.UKNOWN},yr={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},oo={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y|SM-X200|SM-T970"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09|AGS-L09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},so={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:to.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},Vi=[so.PS4,so.CHROME_BOOK,so.MAC,so.DELL,so.ASUS,so.UNKNOWN],sr={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:to.UKNOWN},Ro={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:to.UKNOWN.toLowerCase()},jo={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},js={...yr,...oo,...jo,FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}},Fa={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},Xa={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},xl=Object.keys(Fa).reduce((ue,z)=>(ue[z]=Fa[z],ue),{}),uc=Object.keys(Xa).reduce((ue,z)=>(ue[Rs[z]]=Xa[z],ue),{});var Ba=Object.freeze({__proto__:null,BROWSERS:Rs,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},BROWSER_VERSIONS_RE:uc,BROWSER_VERSIONS_RE_MAP:Xa,DESKTOP_DEVICES:Vi,DEVICES:so,DEVICES_RE:js,GENERAL:to,MOBILES_RE:yr,OS:sr,OS_RE:jo,OS_VERSIONS:Ro,OS_VERSIONS_RE:xl,OS_VERSIONS_RE_MAP:Fa,TABLETS_RE:oo});class Xf{constructor(){}test(z,F){return"string"==typeof F&&(F=new RegExp(F)),F instanceof RegExp?F.test(z):F&&Array.isArray(F.and)?F.and.every(he=>this.test(z,he)):F&&Array.isArray(F.or)?F.or.some(he=>this.test(z,he)):!(!F||!F.not||this.test(z,F.not))}exec(z,F){return"string"==typeof F&&(F=new RegExp(F)),F instanceof RegExp?F.exec(z):F&&Array.isArray(F)?F.reduce((he,Ve)=>he||this.exec(z,Ve),null):null}}var id=function(ue){return ue.Mobile="mobile",ue.Tablet="tablet",ue.Desktop="desktop",ue.Unknown="unknown",ue}(id||{}),ru=function(ue){return ue.Portrait="portrait",ue.Landscape="landscape",ue}(ru||{});const ou="iPad";let Mu=(()=>{class ue{constructor(F){this.platformId=F,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new Xf,this.deviceType="",this.orientation="",(0,be.NF)(this.platformId)&&typeof window<"u"&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(F=this.userAgent){F!==this.userAgent&&(this.userAgent=F);const he=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(he.forEach(Ve=>{this[Ve.prop]=Object.keys(Ba[Ve.const]).reduce((xt,rn)=>"device"===Ba[Ve.const][rn]&&(0,be.NF)(this.platformId)&&(this.reTree.test(this.userAgent,oo[ou])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(xt[Ba[Ve.const][rn]]=ou,Object):(xt[Ba[Ve.const][rn]]=this.reTree.test(F,Ba[`${Ve.const}_RE`][rn]),xt),{})}),he.forEach(Ve=>{this[Ve.prop]=Object.keys(Ba[Ve.const]).map(xt=>Ba[Ve.const][xt]).reduce((xt,rn)=>"device"===Ve.prop&&xt===Ba[Ve.const].ANDROID?this[Ve.prop][rn]?rn:xt:xt===Ba[Ve.const].UNKNOWN&&this[Ve.prop][rn]?rn:xt,Ba[Ve.const].UNKNOWN)}),this.browser_version="0",this.browser!==Rs.UNKNOWN){const xt=this.reTree.exec(F,uc[this.browser]);xt&&(this.browser_version=xt[1])}this.orientation=typeof window<"u"&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?ru.Landscape:ru.Portrait:to.UKNOWN,this.deviceType=this.isTablet()?id.Tablet:this.isMobile(this.userAgent)?id.Mobile:this.isDesktop(this.userAgent)?id.Desktop:id.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(F=this.userAgent){return!this.isTablet(F)&&!!Object.keys(yr).find(Ve=>this.reTree.test(F,yr[Ve]))}isTablet(F=this.userAgent){return!(!(0,be.NF)(this.platformId)||!(this.reTree.test(this.userAgent,oo[ou])||typeof navigator<"u"&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(oo).find(Ve=>!!this.reTree.test(F,oo[Ve]))}isDesktop(F=this.userAgent){return(this.device!==so.UNKNOWN||!this.isMobile(F)&&!this.isTablet(F))&&Vi.indexOf(this.device)>-1}static#e=this.\u0275fac=function(he){return new(he||ue)(t.LFG(t.Lbi))};static#t=this.\u0275prov=t.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})();function cf(ue,z){if(1&ue&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&ue){const F=t.oxw(3);t.xp6(1),t.hij(" ",F.commonService.getInitials(F.sharedDataService.currentProfile)," ")}}function df(ue,z){if(1&ue&&(t._UZ(0,"img",13),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&ue){const F=t.oxw(3);t.uIk("src",t.lcZ(1,1,t.xi3(2,3,F.sharedDataService.currentProfile.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function Fd(ue,z){if(1&ue&&(t.TgZ(0,"span",11),t._uU(1),t.qZA(),t.YNc(2,cf,2,1,"div",12),t.YNc(3,df,3,6,"img",12)),2&ue){const F=t.oxw(2);t.xp6(1),t.hij(" ",F.sharedDataService.currentProfile.FullName," "),t.xp6(1),t.Q6J("ngIf",null==F.sharedDataService.currentProfile.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=F.sharedDataService.currentProfile.AvatarPath)}}function su(ue,z){if(1&ue&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&ue){const F=t.oxw(2).$implicit,he=t.oxw(3);t.xp6(1),t.hij(" ",he.commonService.getInitials(F)," ")}}function uf(ue,z){if(1&ue&&(t._UZ(0,"img",13),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&ue){const F=t.oxw(2).$implicit;t.uIk("src",t.lcZ(1,1,t.xi3(2,3,F.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function Au(ue,z){if(1&ue){const F=t.EpF();t.TgZ(0,"li",3)(1,"a",15,5),t.NdJ("click",function(){t.CHM(F);const Ve=t.oxw().$implicit,xt=t.oxw(3);return t.KtG(xt.onSelectProfile(Ve))}),t.YNc(3,su,2,1,"div",12),t.YNc(4,uf,3,6,"img",12),t.TgZ(5,"span",11),t._uU(6),t.qZA()()()}if(2&ue){const F=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",null==F.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=F.AvatarPath),t.xp6(2),t.hij(" ",F.FullName," ")}}function au(ue,z){if(1&ue&&t.YNc(0,Au,7,3,"li",10),2&ue){const F=z.$implicit,he=t.oxw(3);t.Q6J("ngIf",he.sharedDataService.currentProfile&&F.Id!=he.sharedDataService.currentProfile.Id)}}function qf(ue,z){if(1&ue&&t.YNc(0,au,1,1,"ng-template",14),2&ue){const F=t.oxw(2);t.Q6J("ngForOf",F.sharedDataService.listProfiles)}}function ff(ue,z){if(1&ue){const F=t.EpF();t.TgZ(0,"li",3)(1,"a",9),t.NdJ("click",function(){t.CHM(F);const Ve=t.oxw(2);return t.KtG(Ve.onClickAdminMode())}),t.TgZ(2,"span"),t._uU(3,"Mantenimiento"),t.qZA()()()}}function eh(ue,z){if(1&ue){const F=t.EpF();t.TgZ(0,"div",1)(1,"ul",2)(2,"li",3)(3,"a",4,5),t.YNc(5,Fd,4,3,"ng-template",6),t.qZA()(),t._UZ(6,"div",7),t.TgZ(7,"div",8),t.YNc(8,qf,1,1,"ng-template",6),t.TgZ(9,"li",3)(10,"a",9),t.NdJ("click",function(){t.CHM(F);const Ve=t.oxw();return t.KtG(Ve.onClickEditProfilesButton())}),t.TgZ(11,"span"),t._uU(12,"Editar perfiles"),t.qZA()()(),t.TgZ(13,"li",3)(14,"a",9),t.NdJ("click",function(){t.CHM(F);const Ve=t.oxw();return t.KtG(Ve.onClickAccountOption())}),t.TgZ(15,"span"),t._uU(16,"Cuenta"),t.qZA()()(),t.YNc(17,ff,4,0,"li",10),t.TgZ(18,"li",3)(19,"a",9),t.NdJ("click",function(){t.CHM(F);const Ve=t.oxw();return t.KtG(Ve.logOut())}),t.TgZ(20,"span"),t._uU(21,"Cerrar Sesi\xf3n"),t.qZA()()()()()()}if(2&ue){const F=t.oxw();t.xp6(5),t.Q6J("ngIf",F.sharedDataService.currentProfile),t.xp6(3),t.Q6J("ngIf",F.sharedDataService.listProfiles&&F.sharedDataService.listProfiles.length>0),t.xp6(9),t.Q6J("ngIf",F.sharedDataService.manageMenus&&F.sharedDataService.manageMenus.length>0)}}let th=(()=>{class ue{constructor(F,he,Ve,xt,rn){this.commonService=F,this.userService=he,this.ref=Ve,this.router=xt,this.sharedDataService=rn}onClickChangeProfileButton(){this.sharedDataService.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/profiles")}onClickEditProfilesButton(){this.sharedDataService.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/profiles")}onSelectProfile(F){this.sharedDataService.currentProfile=F,this.router.navigateByUrl("/home")}onClickAccountOption(){this.router.navigateByUrl("/settings/account")}onClickAdminMode(){this.router.navigateByUrl(this.sharedDataService.manageMenus[0].ChildMenus[0].Path)}logOut(){this.userService.clearSessionData(),this.router.navigateByUrl("/landing")}static#e=this.\u0275fac=function(he){return new(he||ue)(t.Y36(Uo.v),t.Y36(h.K),t.Y36(t.sBO),t.Y36(y.F0),t.Y36(kr.g))};static#t=this.\u0275cmp=t.Xpm({type:ue,selectors:[["app-dropdown-user"]],decls:1,vars:1,consts:[["class","sinovad-user-dropdown",4,"ngIf"],[1,"sinovad-user-dropdown"],["role","menu",1,"sinovad-dropdown-list"],[1,"sinovad-avatar-item"],["id","avatar_button",1,"sinovad-avatar-button","principal"],["button",""],[3,"ngIf"],[1,"sinovad-separator-dropdown"],[1,"sinovad-bottom-list"],[3,"click"],["class","sinovad-avatar-item",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-initials-profile"],["ngFor","",3,"ngForOf"],["id","avatar_button",1,"sinovad-avatar-button",3,"click"]],template:function(he,Ve){1&he&&t.YNc(0,eh,22,3,"div",0),2&he&&t.Q6J("ngIf",!Ve.sharedDataService.showSplashScreen)},dependencies:[be.sg,be.O5,be.Ov,pr.A],styles:["[_nghost-%COMP%]{height:100%}.sinovad-user-dropdown[_ngcontent-%COMP%]{height:100%;display:flex;align-items:flex-start}ul.sinovad-dropdown-list[_ngcontent-%COMP%]{background:transparent;border:1px solid transparent;box-shadow:none;height:100%;max-height:72px;padding:0 20px;width:100px;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-separator-dropdown[_ngcontent-%COMP%], ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-bottom-list[_ngcontent-%COMP%]{display:none}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover{background:rgb(19,19,19);border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;height:auto;max-height:calc(100vh - 40px);padding-top:10px;padding-bottom:20px;width:240px;z-index:10;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-separator-dropdown[_ngcontent-%COMP%]{width:100%;padding-left:10px;height:2px;background-color:#fff;display:block;margin-top:10px}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]{display:block}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]{margin-top:10px;width:200px;opacity:.7;font-size:16px;cursor:pointer}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-avatar-button[_ngcontent-%COMP%]{display:block;padding-left:0;background:transparent;border:none;cursor:pointer;color:#fff;display:flex;align-items:center;text-decoration:unset}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;margin-left:10px;font-size:20px;margin-right:10px}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;border:1px solid white;display:flex;align-items:center;justify-content:center;font-size:30px}.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}@media only screen and (max-width: 1024px){.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:none}.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}}"]})}return ue})();const nh=["searchTarget"],hf=function(){return["/home"]};function xu(ue,z){1&ue&&(t.TgZ(0,"a",11),t._UZ(1,"i",12),t.qZA()),2&ue&&t.Q6J("routerLink",t.DdM(1,hf))}const lu=function(ue){return{focused:ue}};function mf(ue,z){if(1&ue){const F=t.EpF();t.TgZ(0,"div",13)(1,"div",14)(2,"input",6,7),t.NdJ("ngModelChange",function(Ve){t.CHM(F);const xt=t.oxw();return t.KtG(xt.searchText=Ve)})("change",function(){t.CHM(F);const Ve=t.oxw();return t.KtG(Ve.onChangeSearchValue())})("focus",function(){t.CHM(F);const Ve=t.oxw();return t.KtG(Ve.isFocusSearch=!0)})("blur",function(){t.CHM(F);const Ve=t.oxw();return t.KtG(Ve.isFocusSearch=!1)}),t.qZA(),t.TgZ(4,"button",8),t.NdJ("click",function(){t.CHM(F);const Ve=t.oxw();return t.KtG(Ve.onClickSearchButton())}),t._UZ(5,"i",9),t.qZA()(),t.TgZ(6,"div",15)(7,"button",8),t.NdJ("click",function(){t.CHM(F);const Ve=t.oxw();return t.KtG(Ve.showNavbarSearch=!1)}),t._UZ(8,"i",16),t.qZA()()()}if(2&ue){const F=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(2,lu,F.isFocusSearch)),t.xp6(1),t.Q6J("ngModel",F.searchText)}}let cu=(()=>{class ue{constructor(F,he,Ve){this.router=F,this.commonService=he,this.sharedDataService=Ve,this.toggleSidebar=new t.vpe,this.selectOption=new t.vpe,this.toggleMenu=new t.vpe,this.searchText="",this.isFocusSearch=!1,this.showDropDown=!1,this.showNavbarSearch=!1}ngOnInit(){}ngAfterViewInit(){this.addClickEvent()}onClickSearchButton(){this.showNavbarSearch=!0}addClickEvent(){const F=document.getElementById("userDropDown");document.addEventListener("click",he=>{this.showDropDown=!!he.composedPath().includes(F)})}onClickHomeOption(){this.router.navigateByUrl("/home")}onClickOption(F){this.selectOption.emit(F)}onSelectProfile(F){this.sharedDataService.currentProfile=F,this.router.navigateByUrl("/home")}onClickChangeProfileButton(){this.sharedDataService.showSplashScreen=!0}onChangeSearchValue(){this.router.navigateByUrl(null!=this.searchText&&""!=this.searchText?"/search?text="+this.searchText:"/home"),this.searchText=""}onClickToggleSidebarButton(F){F.preventDefault(),F.stopPropagation(),this.toggleSidebar.emit(!0)}static#e=this.\u0275fac=function(he){return new(he||ue)(t.Y36(y.F0),t.Y36(Uo.v),t.Y36(kr.g))};static#t=this.\u0275cmp=t.Xpm({type:ue,selectors:[["app-navbar"]],viewQuery:function(he,Ve){if(1&he&&t.Gf(nh,5),2&he){let xt;t.iGM(xt=t.CRH())&&(Ve.searchTarget=xt.first)}},inputs:{showingSidebarAccount:"showingSidebarAccount",showingSidebarAdminMode:"showingSidebarAdminMode"},outputs:{toggleSidebar:"toggleSidebar",selectOption:"selectOption",toggleMenu:"toggleMenu"},decls:16,vars:14,consts:[[1,"nav-button-icon-container","toggle",3,"click"],[1,"fa-solid","fa-bars"],["class","nav-button-icon-container home",3,"routerLink",4,"ngIf"],[1,"sinovad-logo-button",3,"routerLink"],[3,"src"],[1,"sinovad-custom-search",3,"ngClass"],["type","text",3,"ngModel","ngModelChange","change","focus","blur"],["input",""],[3,"click"],[1,"fa-solid","fa-magnifying-glass"],["class","sinovad-navbar-search",4,"ngIf"],[1,"nav-button-icon-container","home",3,"routerLink"],[1,"fa-solid","fa-house"],[1,"sinovad-navbar-search"],[1,"sinovad-bottom-search",3,"ngClass"],[1,"sinovad-close-search-container"],[1,"fa","fa-times"]],template:function(he,Ve){1&he&&(t.TgZ(0,"header")(1,"nav")(2,"a",0),t.NdJ("click",function(rn){return Ve.onClickToggleSidebarButton(rn)}),t._UZ(3,"i",1),t.qZA(),t.YNc(4,xu,2,2,"a",2),t.TgZ(5,"a",3),t._UZ(6,"img",4),t.ALo(7,"async"),t.ALo(8,"formatDataPipe"),t.qZA(),t.TgZ(9,"div",5)(10,"input",6,7),t.NdJ("ngModelChange",function(rn){return Ve.searchText=rn})("change",function(){return Ve.onChangeSearchValue()})("focus",function(){return Ve.isFocusSearch=!0})("blur",function(){return Ve.isFocusSearch=!1}),t.qZA(),t.TgZ(12,"button",8),t.NdJ("click",function(){return Ve.onClickSearchButton()}),t._UZ(13,"i",9),t.qZA()(),t._UZ(14,"app-dropdown-user"),t.qZA(),t.YNc(15,mf,9,4,"div",10),t.qZA()),2&he&&(t.xp6(4),t.Q6J("ngIf",Ve.showingSidebarAccount||Ve.showingSidebarAdminMode),t.xp6(1),t.Q6J("routerLink",t.DdM(11,hf)),t.xp6(1),t.Q6J("src",t.lcZ(7,6,t.xi3(8,8,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngClass",t.VKq(12,lu,Ve.isFocusSearch&&!Ve.commonService.isSmallDevice())),t.xp6(1),t.Q6J("ngModel",Ve.searchText),t.xp6(5),t.Q6J("ngIf",Ve.commonService.isSmallDevice()&&Ve.showNavbarSearch))},dependencies:[be.mk,be.O5,D.Fj,D.JJ,D.On,y.rH,th,be.Ov,pr.A],styles:[".nav-button-icon-container[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;color:#fff;font-size:24px;opacity:.7;display:none}.nav-button-icon-container.home[_ngcontent-%COMP%]{display:block}.sinovad-logo-button[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;text-decoration:unset;font-size:20px}.sinovad-logo-button[_ngcontent-%COMP%]   .first-span[_ngcontent-%COMP%]{color:#007bff;margin-right:6px}.sinovad-logo-button[_ngcontent-%COMP%]   .second-span[_ngcontent-%COMP%]{color:#fff}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:130px;margin-bottom:6px}.sinovad-custom-search[_ngcontent-%COMP%]{display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-left:20px;background-color:#fff}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-custom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.nav-button-icon-container[_ngcontent-%COMP%]:hover{opacity:1}nav[_ngcontent-%COMP%]{background:black;color:#fff;flex-wrap:nowrap;justify-content:flex-start;display:flex;height:70px;align-items:center}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]{list-style-type:none;flex-direction:row;display:flex;height:100%;align-items:center;margin-bottom:0}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-decoration:unset;height:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px}.sinovad-navbar-search[_ngcontent-%COMP%]{background:black;display:flex;align-items:center;padding:10px 20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-right:20px;background-color:#fff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px;width:100%}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]{width:20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;color:#fff;padding-right:8px;padding-left:8px;font-size:24px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}@media only screen and (max-width: 767px){.sinovad-logo-button[_ngcontent-%COMP%]{margin-left:10px;margin-right:0}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:110px}.nav-button-icon-container.toggle[_ngcontent-%COMP%]{display:block}.nav-button-icon-container.home[_ngcontent-%COMP%], .sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.sinovad-custom-search[_ngcontent-%COMP%]{background:transparent}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;font-size:24px}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}}"]})}return ue})();var du=g(9223);function ih(ue,z){1&ue&&t._UZ(0,"i",12)}const uu=function(ue){return{selected:ue}};function pf(ue,z){if(1&ue){const F=t.EpF();t.TgZ(0,"a",3),t.NdJ("click",function(){const xt=t.CHM(F).$implicit,rn=t.oxw(2);return t.KtG(rn.onClickDropDownMenuOption(xt))}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6),t._uU(4),t.qZA(),t.TgZ(5,"div",7),t._uU(6),t.qZA()(),t.TgZ(7,"div",8)(8,"div",9),t.YNc(9,ih,1,0,"i",10),t.qZA(),t.TgZ(10,"div",11),t._UZ(11,"i"),t.qZA()()()()}if(2&ue){const F=z.$implicit;t.Q6J("ngClass",t.VKq(7,uu,F.isSelected)),t.xp6(4),t.hij(" ",F.title," "),t.xp6(2),t.hij(" ",F.subtitle," "),t.xp6(3),t.Q6J("ngIf",F.isSelected),t.xp6(2),t.Tol(F.iconClass)}}function Td(ue,z){if(1&ue){const F=t.EpF();t.TgZ(0,"div",1),t.NdJ("clickOutside",function(){t.CHM(F);const Ve=t.oxw();return t.KtG(Ve.onClickOutside())}),t.YNc(1,pf,12,9,"ng-template",2),t.qZA()}if(2&ue){const F=t.oxw();t.Udp("width",F.width+"px")("top",F.top+"px")("left",F.left+"px"),t.xp6(1),t.Q6J("ngForOf",F.dropDownMenuOptions.listItems)}}let gf=(()=>{class ue{constructor(F,he,Ve){this.commonService=F,this.ref=he,this.router=Ve,this.hide=new t.vpe,this.clickItem=new t.vpe,this.show=!1}ngAfterViewInit(){this.showContent()}showContent(){var F=this;return(0,Q.Z)(function*(){yield F.commonService.delay(100),F.show=!0,F.ref.detectChanges()})()}onClickOutside(){this.hide.emit(!0)}onClickDropDownMenuOption(F){this.clickItem.emit(F),this.router.navigateByUrl(F.path)}static#e=this.\u0275fac=function(he){return new(he||ue)(t.Y36(Uo.v),t.Y36(t.sBO),t.Y36(y.F0))};static#t=this.\u0275cmp=t.Xpm({type:ue,selectors:[["app-drop-down-servers"]],inputs:{dropDownMenuOptions:"dropDownMenuOptions",top:"top",left:"left",width:"width"},outputs:{hide:"hide",clickItem:"clickItem"},decls:1,vars:1,consts:[["class","sinovad-drop-down-menu-item-list",3,"width","top","left","clickOutside",4,"ngIf"],[1,"sinovad-drop-down-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-drop-down-menu-item-container",3,"ngClass","click"],[1,"sinovad-drop-down-menu-item-content"],[1,"left"],[1,"title"],[1,"subtitle"],[1,"right"],[1,"selected-icon-container"],["class","fa-solid fa-check",4,"ngIf"],[1,"icon-container"],[1,"fa-solid","fa-check"]],template:function(he,Ve){1&he&&t.YNc(0,Td,2,7,"div",0),2&he&&t.Q6J("ngIf",Ve.show)},dependencies:[be.mk,be.sg,be.O5,du._],styles:[".sinovad-drop-down-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:none;box-shadow:#00000080 0 0 18px;color:#fff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]{height:60px;padding:8px 10px 8px 25px;width:100%;word-wrap:break-word;display:block;font-size:13px;text-align:left;-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3}a.sinovad-drop-down-menu-item-container.selected[_ngcontent-%COMP%]{color:#007bff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important;font-size:13px}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#ffffff4d;font-size:12px;max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;flex-shrink:0}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .selected-icon-container[_ngcontent-%COMP%]{fill:currentcolor;display:inline-block;height:1em;line-height:1;position:relative;vertical-align:middle;width:1em;font-size:14px;margin-left:10px;top:0;color:#007bff;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-left:10px;margin-right:10px;color:#6b5}"]})}return ue})(),_f=(()=>{class ue{constructor(F,he,Ve){this.factoryResolver=F,this.injector=he,this.applicationRef=Ve,this.isShowing=!1}show(F){return new Promise((he,Ve)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const xt=this.factoryResolver.resolveComponentFactory(gf);this.componentRef=xt.create(this.injector),this.lastViewRef=this.componentRef.hostView,this.applicationRef.attachView(this.componentRef.hostView);let rn=this;const gn=F.target.getBoundingClientRect();this.componentRef.instance.dropDownMenuOptions=F,this.componentRef.instance.left=gn.left,this.componentRef.instance.top=gn.top+gn.height,this.componentRef.instance.width=gn.width,this.componentRef.instance.clickItem.subscribe(_i=>{this.componentRef.destroy(),rn.applicationRef.detachView(this.componentRef.hostView),rn.isShowing=!1,he(_i)}),this.componentRef.instance.hide.subscribe(_i=>{this.componentRef.destroy(),rn.applicationRef.detachView(this.componentRef.hostView),rn.isShowing=!1,Ve(!0)}),this.isShowing=!0;const In=this.componentRef.hostView.rootNodes[0];document.getElementById("sinovadMainContainer").appendChild(In)})}closeDropDown(){this.componentRef.instance.hide.emit(!0)}static#e=this.\u0275fac=function(he){return new(he||ue)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})();const rh=["mediaServerButton"],oh=function(){return["/settings/account"]},Cd=function(ue){return{selected:ue}};function sh(ue,z){if(1&ue&&(t.TgZ(0,"div",4)(1,"div",5)(2,"div",6),t._uU(3),t.qZA()(),t.TgZ(4,"div",7)(5,"a",8)(6,"div",9),t._UZ(7,"div",10),t.TgZ(8,"div",11),t._uU(9," Cuenta "),t.qZA()()()()()),2&ue){const F=t.oxw();t.xp6(3),t.AsE(" ",F.sharedDataService.userData.FirstName," ",F.sharedDataService.userData.LastName," "),t.xp6(2),t.Q6J("routerLink",t.DdM(4,oh))("ngClass",t.VKq(5,Cd,F.isSelectedOption("/settings/account")))}}function vf(ue,z){1&ue&&t._UZ(0,"i",23)}function yf(ue,z){1&ue&&t._UZ(0,"i",24)}function Iu(ue,z){1&ue&&t._UZ(0,"i",28)}function wu(ue,z){1&ue&&t._UZ(0,"i",29)}const bf=function(ue,z){return{"icon-secure":ue,"icon-alert":z}};function fu(ue,z){if(1&ue&&(t.TgZ(0,"div",25),t.YNc(1,Iu,1,0,"i",26),t.YNc(2,wu,1,0,"i",27),t.qZA()),2&ue){const F=t.oxw(2);t.Q6J("ngClass",t.WLB(3,bf,F.selectedMediaServer.isSecureConnection,!F.selectedMediaServer.isSecureConnection)),t.xp6(1),t.Q6J("ngIf",F.selectedMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",!F.selectedMediaServer.isSecureConnection)}}function zd(ue,z){1&ue&&(t.TgZ(0,"div",30),t._UZ(1,"i",31),t.qZA())}function Ou(ue,z){if(1&ue){const F=t.EpF();t.TgZ(0,"button",14,15),t.NdJ("click",function(Ve){t.CHM(F);const xt=t.oxw();return t.KtG(xt.togleDropDownMediaServers(Ve))}),t.TgZ(2,"div",16)(3,"div",17)(4,"span",18),t._uU(5),t.qZA(),t.YNc(6,vf,1,0,"i",19),t.YNc(7,yf,1,0,"i",20),t.qZA(),t.YNc(8,fu,3,6,"div",21),t.YNc(9,zd,2,0,"div",22),t.qZA()()}if(2&ue){const F=t.oxw();t.Q6J("ngClass",t.VKq(6,Cd,F.isSelectedServerOption())),t.xp6(5),t.hij(" ",F.selectedMediaServer.FamilyName?F.selectedMediaServer.FamilyName:F.selectedMediaServer.DeviceName," "),t.xp6(1),t.Q6J("ngIf",F.dropDownServersService.isShowing),t.xp6(1),t.Q6J("ngIf",!F.dropDownServersService.isShowing),t.xp6(1),t.Q6J("ngIf",!F.loadingConnection),t.xp6(1),t.Q6J("ngIf",F.loadingConnection)}}const Pu=function(ue){return[ue]};function hu(ue,z){if(1&ue&&(t.TgZ(0,"div",33)(1,"a",34)(2,"div",9),t._UZ(3,"div",10),t.TgZ(4,"div",11),t._uU(5),t.qZA()()()()),2&ue){const F=z.$implicit,he=t.oxw(5);t.Q6J("ngClass",t.VKq(3,Cd,he.isSelectedSidebarOption(F))),t.xp6(1),t.Q6J("routerLink",t.VKq(5,Pu,he.getOptionPath(F))),t.xp6(4),t.hij(" ",F.name," ")}}function Ef(ue,z){if(1&ue&&(t.TgZ(0,"div",4)(1,"div",5)(2,"div",6),t._uU(3),t.qZA()(),t.YNc(4,hu,6,7,"ng-template",32),t.qZA()),2&ue){const F=z.$implicit;t.xp6(3),t.hij(" ",F.name," "),t.xp6(1),t.Q6J("ngForOf",F.listOptions)}}function Ru(ue,z){if(1&ue&&t.YNc(0,Ef,5,2,"ng-template",32),2&ue){const F=t.oxw(3);t.Q6J("ngForOf",F.serverModules)}}function Bd(ue,z){if(1&ue&&(t.TgZ(0,"div")(1,"p",35),t._uU(2),t.qZA()()),2&ue){const F=t.oxw(3);t.xp6(2),t.hij('No se puede conectar a "',F.selectedMediaServer.FamilyName?F.selectedMediaServer.FamilyName:F.selectedMediaServer.DeviceName,'" desde este sitio')}}function ah(ue,z){if(1&ue&&(t.YNc(0,Ru,1,1,"ng-template",13),t.YNc(1,Bd,3,1,"ng-template",13)),2&ue){const F=t.oxw(2);t.Q6J("ngIf",!F.commonService.isHttpsSite()),t.xp6(1),t.Q6J("ngIf",F.commonService.isHttpsSite())}}function Tf(ue,z){if(1&ue&&(t.TgZ(0,"div")(1,"p",35),t._uU(2),t.qZA()()),2&ue){const F=t.oxw(2);t.xp6(2),t.hij('No se puede conectar a "',F.selectedMediaServer.FamilyName?F.selectedMediaServer.FamilyName:F.selectedMediaServer.DeviceName,'" porque el servidor esta apagado')}}function Cf(ue,z){if(1&ue&&(t.YNc(0,ah,2,2,"ng-template",13),t.YNc(1,Tf,3,1,"ng-template",13)),2&ue){const F=t.oxw();t.Q6J("ngIf",F.selectedMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",!F.selectedMediaServer.isSecureConnection)}}function lh(ue,z){1&ue&&(t.TgZ(0,"div",36),t._UZ(1,"mat-spinner"),t.qZA())}const ch=function(){return["/settings/web/log"]};let Sf=(()=>{class ue{constructor(F,he,Ve,xt,rn,gn){this.signalIrService=F,this.dropDownServersService=he,this.activeRoute=Ve,this.ref=xt,this.commonService=rn,this.sharedDataService=gn,this.mediaServers=[],this.subscription=new tl.w0,this.collapseSidebar=new t.vpe,this.loadingConnection=!0,this.serverModules=[{index:1,order:1,name:"Estado",listOptions:[{index:1,name:"Panel de Control",path:"/settings/server/{serverGuid}/status/dashboard"},{index:2,name:"Alertas",path:"/settings/server/{serverGuid}/status/alerts"}]},{index:2,order:2,name:"Ajustes",listOptions:[{index:3,name:"General",path:"/settings/server/{serverGuid}/settings/general"},{index:4,name:"Transcodificador",path:"/settings/server/{serverGuid}/settings/transcode"}]},{index:3,order:3,name:"Gestionar",listOptions:[{index:7,name:"Bibliotecas",path:"/settings/server/{serverGuid}/manage/libraries"}]}],this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe({next:In=>{this.selectedMediaServer&&this.selectedMediaServer.Guid==In&&!this.selectedMediaServer.isSecureConnection&&(this.selectedMediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.closeDropDown());var Yn=this.mediaServers.find(_i=>_i.Guid==In);Yn&&!Yn.isSecureConnection&&(Yn.isSecureConnection=!0)},error:In=>{console.error("Ha ocurrido un error")},complete:()=>{console.info("completado")}})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(In=>{this.selectedMediaServer&&this.selectedMediaServer.Guid==In&&this.selectedMediaServer.isSecureConnection&&(this.selectedMediaServer.isSecureConnection=!1,this.closeDropDown());var Yn=this.mediaServers.find(_i=>_i.Guid==In);Yn&&Yn.isSecureConnection&&(Yn.isSecureConnection=!1)}))}ngOnInit(){if(this.mediaServers=JSON.parse(JSON.stringify(this.sharedDataService.mediaServers)),this.mediaServers&&this.mediaServers.length>0){if(this.activeRoute.firstChild&&this.activeRoute.firstChild.firstChild&&this.activeRoute.firstChild.firstChild.snapshot.params.serverGuid){var F=this.activeRoute.firstChild.firstChild.snapshot.params.serverGuid,he=this.mediaServers.find(Ve=>Ve.Guid==F);he&&(this.selectedMediaServer=he)}else this.selectedMediaServer=this.mediaServers[0];this.selectedMediaServer.isSecureConnection?this.loadingConnection=!1:setTimeout(()=>{this.loadingConnection=!1},3e3)}}ngOnDestroy(){this.subscription.unsubscribe()}getOptionPath(F){return F.path.replace("{serverGuid}",this.selectedMediaServer.Guid)}onClickModule(F){F.isCollapsed=!F.isCollapsed}togleDropDownMediaServers(F){this.showMediaServerMenuOptions(F)}showMediaServerMenuOptions(F){this.dropDownServersService.isShowing||this.dropDownServersService.show(this.getDropDownMenuOptions()).then(he=>{this.selectedMediaServer=he.itemData},he=>{})}getDropDownMenuOptions(){var F=void 0;if(this.mediaServerButton){let he=[];this.mediaServers.forEach(xt=>{he.push({title:xt.FamilyName?xt.FamilyName:xt.DeviceName,subtitle:xt.isSecureConnection?"Conexi\xf3n exitosa":"Sin conexi\xf3n",iconClass:xt.isSecureConnection?"fa-solid fa-lock icon-secure":"fa-solid fa-triangle-exclamation icon-alert",path:"/settings/server/"+xt.Guid+"/settings/general",isSelected:this.selectedMediaServer.Id==xt.Id,itemData:xt})}),F={containerId:"sinovadMainContainer",target:this.mediaServerButton.nativeElement,listItems:he}}return F}closeDropDown(){this.dropDownServersService.isShowing&&this.dropDownServersService.closeDropDown()}isSelectedSidebarOption(F){return-1!=this.getOptionPath(F).indexOf(window.location.pathname)}isSelectedOption(F){return-1!=F.indexOf(window.location.pathname)}isSelectedServerOption(){return!!window.location.pathname.startsWith("/settings/server")}onClickOutsideSidebar(F){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(he){return new(he||ue)(t.Y36(Ao.n),t.Y36(_f),t.Y36(y.gz),t.Y36(t.sBO),t.Y36(Uo.v),t.Y36(kr.g))};static#t=this.\u0275cmp=t.Xpm({type:ue,selectors:[["app-sidebar-account"]],viewQuery:function(he,Ve){if(1&he&&t.Gf(rh,5),2&he){let xt;t.iGM(xt=t.CRH())&&(Ve.mediaServerButton=xt.first)}},outputs:{collapseSidebar:"collapseSidebar"},decls:17,vars:9,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sidebar-container"],[1,"sidebar-content"],["role","navigation",4,"ngIf"],["role","navigation"],[1,"sidebar-list-header-container"],[1,"sidebar-list-header-content"],[1,"sidebar-list-item-container"],[3,"routerLink","ngClass"],[1,"sidebar-link-container"],[1,"sidebar-link-icon"],[1,"sidebar-link-title"],["class","media-server-button",3,"ngClass","click",4,"ngIf"],[3,"ngIf"],[1,"media-server-button",3,"ngClass","click"],["mediaServerButton",""],[1,"content"],[1,"left"],[1,"first"],["class","fa-solid fa-caret-up",4,"ngIf"],["class","fa-solid fa-caret-down",4,"ngIf"],["class","server-settings-menu-button-icon",3,"ngClass",4,"ngIf"],["class","server-settings-menu-button-icon",4,"ngIf"],[1,"fa-solid","fa-caret-up"],[1,"fa-solid","fa-caret-down"],[1,"server-settings-menu-button-icon",3,"ngClass"],["class","fa-solid fa-lock",4,"ngIf"],["class","fa-solid fa-triangle-exclamation",4,"ngIf"],[1,"fa-solid","fa-lock"],[1,"fa-solid","fa-triangle-exclamation"],[1,"server-settings-menu-button-icon"],[1,"fa-solid","fa-circle-notch","fa-spin",2,"color","white"],["ngFor","",3,"ngForOf"],[1,"sidebar-list-item-container",3,"ngClass"],[3,"routerLink"],[1,"sidebar-message"],[1,"spinner-centered-container"]],template:function(he,Ve){1&he&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(rn){return Ve.onClickOutsideSidebar(rn)}),t.TgZ(1,"div",1)(2,"div",2),t.YNc(3,sh,10,7,"div",3),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6),t._uU(7," Sinovad Web "),t.qZA()(),t.TgZ(8,"div",7)(9,"a",8)(10,"div",9),t._UZ(11,"div",10),t.TgZ(12,"div",11),t._uU(13," Hub Log "),t.qZA()()()()(),t.YNc(14,Ou,10,8,"button",12),t.YNc(15,Cf,2,2,"ng-template",13),t.YNc(16,lh,2,0,"ng-template",13),t.qZA()()()),2&he&&(t.xp6(3),t.Q6J("ngIf",Ve.sharedDataService.userData),t.xp6(6),t.Q6J("routerLink",t.DdM(6,ch))("ngClass",t.VKq(7,Cd,Ve.isSelectedOption("/settings/web/log"))),t.xp6(5),t.Q6J("ngIf",Ve.selectedMediaServer),t.xp6(1),t.Q6J("ngIf",!Ve.loadingConnection&&Ve.selectedMediaServer&&Ve.serverModules&&Ve.serverModules.length>0),t.xp6(1),t.Q6J("ngIf",Ve.loadingConnection))},dependencies:[be.mk,be.sg,be.O5,du._,pl.Ou,y.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11;overflow-y:auto}.sidebar-container[_ngcontent-%COMP%]{border-radius:4px;display:flex;flex:0 0 240px;flex-direction:column;height:calc(100% - 8px);margin:0;transform:translateZ(0);width:100%;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px}.sidebar-content[_ngcontent-%COMP%]{padding-bottom:60px;padding-top:10px}.sidebar-list-header-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-header-container[_ngcontent-%COMP%]   .sidebar-list-header-content[_ngcontent-%COMP%]{color:#ffffff4d;font-size:15px;height:45px;line-height:45px;max-width:100%;min-width:0;overflow:hidden!important;padding-left:25px;text-overflow:ellipsis;text-transform:capitalize;white-space:nowrap!important;flex-grow:1}.sidebar-list-item-container[_ngcontent-%COMP%]{border-bottom-right-radius:4px;border-top-right-radius:4px;display:flex;min-height:30px;position:relative}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;display:block;flex-grow:1;overflow:hidden;padding:4px 0 2px 25px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-icon[_ngcontent-%COMP%]{font-size:13px;width:18px;flex-shrink:0;height:14px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-title[_ngcontent-%COMP%]{flex-grow:1;word-break:break-word}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.sidebar-list-item-container[_ngcontent-%COMP%]   a.selected[_ngcontent-%COMP%]{color:#007bff}.sidebar-list-item-container[_ngcontent-%COMP%]   a.selected[_ngcontent-%COMP%]:hover{color:#fff}.media-server-button[_ngcontent-%COMP%]{background-color:#0000004d;font-size:13px;height:50px;line-height:50px;padding-left:25px;padding-right:15px;width:100%;-webkit-tap-highlight-color:transparent;color:#ffffffb3;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none}.content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;max-width:85%;text-align:left;display:flex;align-items:center}.left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;max-width:100%;max-width:85%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;vertical-align:top;white-space:nowrap!important;font-weight:700}.left[_ngcontent-%COMP%]   i.fa-caret-up[_ngcontent-%COMP%]{margin-left:7px;margin-top:2px}.left[_ngcontent-%COMP%]   i.fa-caret-down[_ngcontent-%COMP%]{margin-left:7px}.server-settings-menu-button-icon[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-right:10px}.media-server-button.selected[_ngcontent-%COMP%]{color:#007bff}.media-server-button[_ngcontent-%COMP%]:hover{color:#fff}.sidebar-message[_ngcontent-%COMP%]{color:#ffffff73;margin:15px 10px 15px 25px}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return ue})();function Df(ue,z){1&ue&&t._UZ(0,"i",9)}function mu(ue,z){1&ue&&t._UZ(0,"i",10)}function Nu(ue,z){if(1&ue&&t._UZ(0,"i"),2&ue){const F=t.oxw().$implicit;t.Tol(F.IconClass)}}const Ud=function(ue){return[ue]},dh=function(ue){return{active:ue}};function U(ue,z){if(1&ue&&(t.TgZ(0,"li",12)(1,"a",13),t.YNc(2,Nu,1,3,"i",14),t.TgZ(3,"span",7),t._uU(4),t.qZA()()()),2&ue){const F=z.$implicit,he=t.oxw(3);t.xp6(1),t.Q6J("routerLink",t.VKq(4,Ud,F.Path))("ngClass",t.VKq(6,dh,he.isSelectedMenu(F))),t.xp6(1),t.Q6J("ngIf",F.IconClass),t.xp6(2),t.Oqu(F.Title)}}function Ue(ue,z){if(1&ue&&(t.TgZ(0,"div")(1,"ul",11),t.YNc(2,U,5,8,"ng-template",2),t.qZA()()),2&ue){const F=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",F.ChildMenus)}}function w(ue,z){if(1&ue){const F=t.EpF();t.TgZ(0,"li",3)(1,"button",4),t.NdJ("click",function(Ve){const rn=t.CHM(F).$implicit,gn=t.oxw();return t.KtG(gn.onClickModule(rn,Ve))}),t.YNc(2,Df,1,0,"i",5),t.YNc(3,mu,1,0,"i",6),t.TgZ(4,"span",7),t._uU(5),t.qZA()(),t.YNc(6,Ue,3,1,"div",8),t.qZA()}if(2&ue){const F=z.$implicit;t.xp6(2),t.Q6J("ngIf",F.isCollapsed),t.xp6(1),t.Q6J("ngIf",!F.isCollapsed),t.xp6(2),t.Oqu(F.Title),t.xp6(1),t.Q6J("ngIf",!F.isCollapsed)}}let j=(()=>{class ue{constructor(F){this.sharedDataService=F,this.collapseSidebar=new t.vpe}onClickModule(F,he){he.preventDefault(),he.stopPropagation(),F.isCollapsed=!F.isCollapsed}onClickOutsideSidebar(F){this.collapseSidebar.emit(!0)}isSelectedMenu(F){return-1!=window.location.pathname.indexOf(F.Path)}static#e=this.\u0275fac=function(he){return new(he||ue)(t.Y36(kr.g))};static#t=this.\u0275cmp=t.Xpm({type:ue,selectors:[["app-sidebar-administrator"]],outputs:{collapseSidebar:"collapseSidebar"},decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"click"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"],[3,"class",4,"ngIf"]],template:function(he,Ve){1&he&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(rn){return Ve.onClickOutsideSidebar(rn)}),t.TgZ(1,"ul",1),t.YNc(2,w,7,4,"ng-template",2),t.qZA()()),2&he&&(t.xp6(2),t.Q6J("ngForOf",Ve.sharedDataService.manageMenus))},dependencies:[be.mk,be.sg,be.O5,du._,y.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:200px;height:100%;background:#0c0d11;overflow-y:auto}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return ue})();var ve=g(3826),Ct=g(1044);function Zt(ue,z){1&ue&&t._UZ(0,"i",10)}function Rn(ue,z){1&ue&&t._UZ(0,"i",11)}function Un(ue,z){if(1&ue&&t._UZ(0,"i"),2&ue){const F=t.oxw().$implicit;t.Tol(F.IconClass)}}function qn(ue,z){if(1&ue&&t._UZ(0,"i"),2&ue){const F=t.oxw().$implicit;t.Tol(F.IconClass)}}const ni=function(ue){return[ue]},Di=function(ue){return{active:ue}};function Ei(ue,z){if(1&ue&&(t.TgZ(0,"li",13)(1,"a",14),t.YNc(2,qn,1,3,"i",7),t.TgZ(3,"span",8),t._uU(4),t.qZA()()()),2&ue){const F=z.$implicit,he=t.oxw(3);t.xp6(1),t.Q6J("routerLink",t.VKq(4,ni,F.Path))("ngClass",t.VKq(6,Di,he.isSelectedMenu(F))),t.xp6(1),t.Q6J("ngIf",F.IconClass),t.xp6(2),t.Oqu(F.Title)}}function Li(ue,z){if(1&ue&&(t.TgZ(0,"div")(1,"ul",12),t.YNc(2,Ei,5,8,"ng-template",2),t.qZA()()),2&ue){const F=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",F.ChildMenus)}}function Qr(ue,z){if(1&ue&&(t.TgZ(0,"li",3)(1,"button",4),t.YNc(2,Zt,1,0,"i",5),t.YNc(3,Rn,1,0,"i",6),t.YNc(4,Un,1,3,"i",7),t.TgZ(5,"span",8),t._uU(6),t.qZA()(),t.YNc(7,Li,3,1,"div",9),t.qZA()),2&ue){const F=z.$implicit,he=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(7,ni,F.Path))("ngClass",t.VKq(9,Di,he.isSelectedMenu(F))),t.xp6(1),t.Q6J("ngIf",!F.IconClass&&F.isCollapsed),t.xp6(1),t.Q6J("ngIf",!F.IconClass&&!F.isCollapsed),t.xp6(1),t.Q6J("ngIf",F.IconClass),t.xp6(2),t.Oqu(F.Title),t.xp6(1),t.Q6J("ngIf",!F.isCollapsed)}}let Or=(()=>{class ue{constructor(F,he,Ve){this.libraryService=F,this.signalIrService=he,this.sharedDataService=Ve,this.collapseSidebar=new t.vpe,this.subscription=new tl.w0,this.mediaMenu=[],this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(xt=>{var rn=this.mediaMenu.find(In=>In.MediaServerGuid==xt);if(rn&&!rn.IsSecureConnection){rn.IsSecureConnection=!0;var gn=this.sharedDataService.mediaServers.find(In=>In.Guid==rn.MediaServerGuid);gn&&this.updateLibrariesInMediaServer(rn,gn)}})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(xt=>{var rn=this.mediaMenu.find(gn=>gn.MediaServerGuid==xt);rn&&rn.IsSecureConnection&&(rn.IsSecureConnection=!1,rn.ChildMenus=[])})),this.subscription.add(this.signalIrService.isUpdatingLibrariesByMediaServer().subscribe(xt=>{var rn=this.mediaMenu.find(In=>In.MediaServerGuid==xt),gn=this.sharedDataService.mediaServers.find(In=>In.Guid==xt);rn&&gn&&(rn.IsSecureConnection=!0,this.updateLibrariesInMediaServer(rn,gn))}))}ngOnInit(){this.getMediaMenu()}ngOnDestroy(){this.subscription.unsubscribe()}getMediaMenu(){var F=[],he=new ve.v;he.SortOrder=F.length+1,he.Title="Inicio",he.Path="/home",he.IconClass="fa-house fa-solid",F.push(he),this.mediaMenu=F,this.sharedDataService.mediaServers.forEach(Ve=>{var xt=new ve.v;xt.SortOrder=this.mediaMenu.length+1,xt.Title=null!=Ve.FamilyName&&""!=Ve.FamilyName?Ve.FamilyName:Ve.DeviceName,xt.Path="/media/server/"+Ve.Guid,xt.ChildMenus=[],xt.MediaServerId=Ve.Id,xt.MediaServerGuid=Ve.Guid,this.mediaMenu.push(xt)}),this.buildMediaMenuFromListLibraries()}buildMediaMenuFromListLibraries(){this.sharedDataService.mediaServers.forEach(F=>{var he=this.mediaMenu.find(Ve=>Ve.MediaServerId==F.Id);F.isSecureConnection?(he.IsSecureConnection=!0,this.updateLibrariesInMediaServer(he,F)):(he.IsSecureConnection=!1,he.ChildMenus=[])})}updateLibrariesInMediaServer(F,he){this.libraryService.getLibrariesByMediaServer(he.Url).then(Ve=>{var xt=[];Ve.forEach(rn=>{var gn=new ve.v;gn.SortOrder=xt.length+1,gn.Title=rn.Name,gn.Path="/media/server/"+he.Guid+"/libraries/"+rn.Id,gn.IconClass=rn.MediaTypeCatalogDetailId==i.DD.Movie?"fa-film fa-solid":"fa-tv fa-solid",xt.push(gn)}),F.ChildMenus=xt})}onClickModule(F){F.isCollapsed=!F.isCollapsed}isSelectedMenu(F){return-1!=decodeURIComponent(window.location.pathname).indexOf(F.Path)}onClickOutsideSidebar(F){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(he){return new(he||ue)(t.Y36(Ct.$),t.Y36(Ao.n),t.Y36(kr.g))};static#t=this.\u0275cmp=t.Xpm({type:ue,selectors:[["app-sidebar-media"]],outputs:{collapseSidebar:"collapseSidebar"},decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"routerLink","ngClass"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[3,"class",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"]],template:function(he,Ve){1&he&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(rn){return Ve.onClickOutsideSidebar(rn)}),t.TgZ(1,"ul",1),t.YNc(2,Qr,8,11,"ng-template",2),t.qZA()()),2&he&&(t.xp6(2),t.Q6J("ngForOf",Ve.mediaMenu))},dependencies:[be.mk,be.sg,be.O5,du._,y.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11;overflow-y:auto}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px;padding-top:10px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return ue})();function Xi(ue,z){if(1&ue&&(t.TgZ(0,"div",1)(1,"div",2,3)(3,"div",4)(4,"div",5),t._UZ(5,"img",6),t.ALo(6,"async"),t.ALo(7,"formatDataPipe"),t.qZA()()()()),2&ue){const F=t.MAs(2);t.xp6(5),t.Udp("width",F.offsetWidth/3+"px"),t.Q6J("src",t.lcZ(6,3,t.xi3(7,5,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH)}}let br=(()=>{class ue{constructor(F,he){this.domSanitizer=F,this.sharedDataService=he}static#e=this.\u0275fac=function(he){return new(he||ue)(t.Y36(e.H7),t.Y36(kr.g))};static#t=this.\u0275cmp=t.Xpm({type:ue,selectors:[["app-splash-screen"]],decls:1,vars:1,consts:[["class","splash-screen-container",4,"ngIf"],[1,"splash-screen-container"],[1,"sinovad-splash-screen-container"],["container",""],[2,"text-align","center"],["role","status",1,"spinner-grow"],[3,"src"]],template:function(he,Ve){1&he&&t.YNc(0,Xi,8,8,"div",0),2&he&&t.Q6J("ngIf",Ve.sharedDataService.showSplashScreen)},dependencies:[be.O5,be.Ov,pr.A],styles:[".splash-screen-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;position:absolute;z-index:99999;top:0;left:0}.sinovad-splash-screen-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.sinovad-splash-screen-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.spinner-grow[_ngcontent-%COMP%]{background:black;width:unset;height:unset}"]})}return ue})();function Mr(ue,z){if(1&ue){const F=t.EpF();t.TgZ(0,"app-navbar",12),t.NdJ("toggleSidebar",function(){t.CHM(F);const Ve=t.oxw();return t.KtG(Ve.onClickToggleSidebarButton())}),t.qZA()}if(2&ue){const F=t.oxw();t.Q6J("showingSidebarAccount",F.showingSidebarAccount)("showingSidebarAdminMode",F.showingSidebarAdminMode)}}function Jo(ue,z){if(1&ue){const F=t.EpF();t.TgZ(0,"app-sidebar-administrator",19),t.NdJ("collapseSidebar",function(){t.CHM(F);const Ve=t.oxw(2);return t.KtG(Ve.isCollapsedSidebar=!0)}),t.qZA()}}function Ur(ue,z){if(1&ue){const F=t.EpF();t.TgZ(0,"app-sidebar-account",19),t.NdJ("collapseSidebar",function(){t.CHM(F);const Ve=t.oxw(2);return t.KtG(Ve.isCollapsedSidebar=!0)}),t.qZA()}}function ho(ue,z){if(1&ue){const F=t.EpF();t.TgZ(0,"app-sidebar-media",19),t.NdJ("collapseSidebar",function(){t.CHM(F);const Ve=t.oxw(2);return t.KtG(Ve.isCollapsedSidebar=!0)}),t.qZA()}}function To(ue,z){if(1&ue&&(t.TgZ(0,"section",13,14)(2,"div",15),t._UZ(3,"div",16),t.TgZ(4,"div",17),t.YNc(5,Jo,1,0,"app-sidebar-administrator",18),t.YNc(6,Ur,1,0,"app-sidebar-account",18),t.YNc(7,ho,1,0,"app-sidebar-media",18),t.qZA()()()),2&ue){const F=t.oxw();t.Udp("height","100%"),t.xp6(5),t.Q6J("ngIf",F.showingSidebarAdminMode),t.xp6(1),t.Q6J("ngIf",F.showingSidebarAccount),t.xp6(1),t.Q6J("ngIf",F.showingSidebarMedia)}}const Qo=function(ue){return{locked:ue}};let Ko=(()=>{class ue{constructor(F,he,Ve,xt,rn){this.commonService=F,this.deviceService=he,this.userService=Ve,this.ref=xt,this.sharedDataService=rn,this._window=window,this.isCollapsedSidebar=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1,this.showRouterChildWithFullDimentions=!0}ngOnInit(){var F=this.deviceService.getDeviceInfo();this.sharedDataService.deviceData=new te,this.sharedDataService.deviceData.OperatingSystem=F.os,this.sharedDataService.deviceData.DeviceType=F.deviceType,this.sharedDataService.deviceData.Browser=F.browser;const he=window.location.search;if(""!=he){var Ve=new URLSearchParams(he).get("apiToken");null!=Ve&&localStorage.setItem("apiToken",Ve)}window.configurationData&&(this.sharedDataService.configurationData=window.configurationData),localStorage.getItem("apiToken")&&(this.sharedDataService.apiToken=localStorage.getItem("apiToken"))}ngAfterViewInit(){let F=this;window.addEventListener("click",function(xt){F.sharedDataService.configurationData.alwaysFullScreen&&F.showPageInFullScreen()})}showPageInFullScreen(){document.fullscreenElement||document.body.requestFullscreen&&document.body.requestFullscreen()}onClickToggleSidebarButton(){this.isCollapsedSidebar=!this.isCollapsedSidebar}onActivate(F){this.isCollapsedSidebar=!0,this.sharedDataService.showSplashScreen=!1,(F instanceof Ol||F instanceof ei.c||F instanceof Zs||F instanceof $t||F instanceof Va||F instanceof ha||F instanceof ul||F instanceof dl||F instanceof Bn.n)&&(this.showRouterChildWithFullDimentions=!0,this.showingSidebarMedia=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),(F instanceof Ka||F instanceof Zn.c||F instanceof di.R||F instanceof oi.g||F instanceof _a)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarMedia=!0,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),(F instanceof dt.H||F instanceof Pe.$||F instanceof Ae.i||F instanceof M.o||F instanceof k.I||F instanceof H.M||F instanceof Ai.p)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),(F instanceof pt.O||F instanceof Ut.f||F instanceof cn.U||F instanceof qt.o||F instanceof jt.C||F instanceof bn.C||F instanceof gi.e||F instanceof Mi.Y||F instanceof Pi.R||F instanceof ui.x||F instanceof ji.t||F instanceof Hi.T)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!0,this.showingSidebarMedia=!1)}onResize(F){}static#e=this.\u0275fac=function(he){return new(he||ue)(t.Y36(Uo.v),t.Y36(Mu),t.Y36(h.K),t.Y36(t.sBO),t.Y36(kr.g))};static#t=this.\u0275cmp=t.Xpm({type:ue,selectors:[["app-root"]],hostBindings:function(he,Ve){1&he&&t.NdJ("resize",function(rn){return Ve.onResize(rn)},!1,t.Jf7)},decls:16,vars:9,consts:[["id","sinovadMainContainer",1,"sinovad-main-container"],["mainContainer",""],[1,"sinovad-page-container"],["header",""],[3,"showingSidebarAccount","showingSidebarAdminMode","toggleSidebar",4,"ngIf"],[1,"sinovad-menu-body-container"],["menu",""],["id","menuContainer","class","sinovad-menu-container","tabindex","0",3,"height",4,"ngIf"],["id","bodyContainer","tabindex","0",1,"sinovad-body-container",3,"ngClass"],["principalContainer",""],[3,"activate"],["footer",""],[3,"showingSidebarAccount","showingSidebarAdminMode","toggleSidebar"],["id","menuContainer","tabindex","0",1,"sinovad-menu-container"],["menuContainer",""],[1,"sidebar"],[1,"blocker"],[1,"content"],[3,"collapseSidebar",4,"ngIf"],[3,"collapseSidebar"]],template:function(he,Ve){if(1&he&&(t.TgZ(0,"div",0,1)(2,"div",2)(3,"div",null,3),t.YNc(5,Mr,1,2,"app-navbar",4),t.qZA(),t.TgZ(6,"div",5)(7,"div",null,6),t.YNc(9,To,8,5,"section",7),t.qZA(),t.TgZ(10,"section",8,9)(12,"router-outlet",10),t.NdJ("activate",function(rn){return Ve.onActivate(rn)}),t.qZA()()(),t._UZ(13,"div",null,11),t.qZA()(),t._UZ(15,"app-splash-screen")),2&he){const xt=t.MAs(4),rn=t.MAs(8),gn=t.MAs(14);t.xp6(5),t.Q6J("ngIf",!Ve.showRouterChildWithFullDimentions),t.xp6(1),t.Udp("height","calc(100% - "+(xt.offsetHeight+gn.offsetHeight)+"px)"),t.xp6(3),t.Q6J("ngIf",!(Ve.showRouterChildWithFullDimentions||Ve.commonService.isSmallDevice()&&Ve.isCollapsedSidebar)),t.xp6(1),t.Udp("width","calc(100% - "+rn.offsetWidth+"px)"),t.Q6J("ngClass",t.VKq(7,Qo,Ve.commonService.isSmallDevice()&&!Ve.isCollapsedSidebar))}},dependencies:[be.mk,be.O5,y.lC,cu,Sf,j,Or,br],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}.sinovad-main-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-module-container[_ngcontent-%COMP%]{border-top:1px solid #dedede}.sinovad-page-container[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%}.sinovad-header-container[_ngcontent-%COMP%]{height:60px;background:rgba(0,0,0,.15)}.sinovad-menu-body-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}.sinovad-menu-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.6);position:relative}.sinovad-body-container[_ngcontent-%COMP%]{display:block;height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-body-container.locked[_ngcontent-%COMP%]{pointer-events:none}.sidebar[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:100%}@media only screen and (max-width: 767px){.sidebar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100vw;padding:0;background:rgba(0,0,0,.5);display:block;z-index:99999}.sidebar[_ngcontent-%COMP%]   .blocker[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;top:0;left:0}}"]})}return ue})();var ta=g(7102),Vs=g(4911),Ua=g(8504),Vl=g(2438),qa=g(5211),Lc=g(2420);const Ms=new E.y(Lc.Z);var Kl=g(3168),Gd=g(4829),rd=g(9360);const Lu={connector:()=>new S.x};function Hd(ue,z=Lu){const{connector:F}=z;return(0,rd.e)((he,Ve)=>{const xt=F();(0,Gd.Xf)(ue(function pu(ue){return new E.y(z=>ue.subscribe(z))}(xt))).subscribe(Ve),Ve.add(he.subscribe(xt))})}var Wl=g(8180),$d=g(9397),jd=g(5177);const fc="Service workers are disabled or not supported by this browser";class Jd{constructor(z){if(this.serviceWorker=z,z){const he=(0,Vl.R)(z,"controllerchange").pipe((0,oe.U)(()=>z.controller)),Ve=(0,Vs.P)(()=>(0,I.of)(z.controller)),xt=(0,qa.z)(Ve,he);this.worker=xt.pipe((0,De.h)(_i=>!!_i)),this.registration=this.worker.pipe((0,Z.w)(()=>z.getRegistration()));const Yn=(0,Vl.R)(z,"message").pipe((0,oe.U)(_i=>_i.data)).pipe((0,De.h)(_i=>_i&&_i.type)).pipe(function od(ue){return ue?z=>Hd(ue)(z):z=>function Sd(ue,z){const F=(0,Y.m)(ue)?ue:()=>ue;return(0,Y.m)(z)?Hd(z,{connector:F}):he=>new Kl.c(he,F)}(new S.x)(z)}());Yn.connect(),this.events=Yn}else this.worker=this.events=this.registration=function gu(ue){return(0,Vs.P)(()=>(0,Ua._)(new Error(ue)))}(fc)}postMessage(z,F){return this.worker.pipe((0,Wl.q)(1),(0,$d.b)(he=>{he.postMessage({action:z,...F})})).toPromise().then(()=>{})}postMessageWithOperation(z,F,he){const Ve=this.waitForOperationCompleted(he),xt=this.postMessage(z,F);return Promise.all([xt,Ve]).then(([,rn])=>rn)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(z){let F;return F="string"==typeof z?he=>he.type===z:he=>z.includes(he.type),this.events.pipe((0,De.h)(F))}nextEventOfType(z){return this.eventsOfType(z).pipe((0,Wl.q)(1))}waitForOperationCompleted(z){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,De.h)(F=>F.nonce===z),(0,Wl.q)(1),(0,oe.U)(F=>{if(void 0!==F.result)return F.result;throw new Error(F.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Qd=(()=>{class ue{get isEnabled(){return this.sw.isEnabled}constructor(F){if(this.sw=F,this.pushManager=null,this.subscriptionChanges=new S.x,!F.isEnabled)return this.messages=Ms,this.notificationClicks=Ms,void(this.subscription=Ms);this.messages=this.sw.eventsOfType("PUSH").pipe((0,oe.U)(Ve=>Ve.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,oe.U)(Ve=>Ve.data)),this.pushManager=this.sw.registration.pipe((0,oe.U)(Ve=>Ve.pushManager));const he=this.pushManager.pipe((0,Z.w)(Ve=>Ve.getSubscription()));this.subscription=(0,b.T)(he,this.subscriptionChanges)}requestSubscription(F){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(fc));const he={userVisibleOnly:!0};let Ve=this.decodeBase64(F.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),xt=new Uint8Array(new ArrayBuffer(Ve.length));for(let rn=0;rn<Ve.length;rn++)xt[rn]=Ve.charCodeAt(rn);return he.applicationServerKey=xt,this.pushManager.pipe((0,Z.w)(rn=>rn.subscribe(he)),(0,Wl.q)(1)).toPromise().then(rn=>(this.subscriptionChanges.next(rn),rn))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Wl.q)(1),(0,Z.w)(he=>{if(null===he)throw new Error("Not subscribed to push notifications.");return he.unsubscribe().then(Ve=>{if(!Ve)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(fc))}decodeBase64(F){return atob(F)}static#e=this.\u0275fac=function(he){return new(he||ue)(t.LFG(Jd))};static#t=this.\u0275prov=t.Yz7({token:ue,factory:ue.\u0275fac})}return ue})(),_u=(()=>{class ue{get isEnabled(){return this.sw.isEnabled}constructor(F){if(this.sw=F,!F.isEnabled)return this.versionUpdates=Ms,this.available=Ms,this.activated=Ms,void(this.unrecoverable=Ms);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,De.h)(he=>"VERSION_READY"===he.type),(0,oe.U)(he=>({type:"UPDATE_AVAILABLE",current:he.currentVersion,available:he.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(fc));const F=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:F},F)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(fc));const F=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:F},F)}static#e=this.\u0275fac=function(he){return new(he||ue)(t.LFG(Jd))};static#t=this.\u0275prov=t.Yz7({token:ue,factory:ue.\u0275fac})}return ue})();const Dd=new t.OlP("NGSW_REGISTER_SCRIPT");function ku(ue,z,F,he){return()=>{if(!(0,be.NF)(he)||!("serviceWorker"in navigator)||!1===F.enabled)return;let Ve;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof F.registrationStrategy)Ve=F.registrationStrategy();else{const[rn,...gn]=(F.registrationStrategy||"registerWhenStable:30000").split(":");switch(rn){case"registerImmediately":Ve=(0,I.of)(null);break;case"registerWithDelay":Ve=Xd(+gn[0]||0);break;case"registerWhenStable":Ve=gn[0]?(0,b.T)(vu(ue),Xd(+gn[0])):vu(ue);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${F.registrationStrategy}`)}}ue.get(t.R0b).runOutsideAngular(()=>Ve.pipe((0,Wl.q)(1)).subscribe(()=>navigator.serviceWorker.register(z,{scope:F.scope}).catch(rn=>console.error("Service worker registration failed with:",rn))))}}function Xd(ue){return(0,I.of)(null).pipe((0,jd.g)(ue))}function vu(ue){return ue.get(t.z2F).isStable.pipe((0,De.h)(F=>F))}function sd(ue,z){return new Jd((0,be.NF)(z)&&!1!==ue.enabled?navigator.serviceWorker:void 0)}class qd{}function Mf(ue,z={}){return(0,t.MR2)([Qd,_u,{provide:Dd,useValue:ue},{provide:qd,useValue:z},{provide:Jd,useFactory:sd,deps:[qd,t.Lbi]},{provide:t.ip1,useFactory:ku,deps:[t.zs3,Dd,qd,t.Lbi],multi:!0}])}let Kc=(()=>{class ue{static register(F,he={}){return{ngModule:ue,providers:[Mf(F,he)]}}static#e=this.\u0275fac=function(he){return new(he||ue)};static#t=this.\u0275mod=t.oAB({type:ue});static#n=this.\u0275inj=t.cJS({providers:[Qd,_u]})}return ue})(),Vd=(()=>{class ue{static#e=this.\u0275fac=function(he){return new(he||ue)};static#t=this.\u0275mod=t.oAB({type:ue,bootstrap:[Ko]});static#n=this.\u0275inj=t.cJS({providers:[{provide:be.mr,useValue:"/"}],imports:[e.b2,D.u5,ta.m,v.JF,Yt,Te.hO.initializeApp(__firebase),Sr,dc,Kc.register("ngsw-worker.js",{enabled:!(0,t.X6Q)(),registrationStrategy:"registerWhenStable:30000"})]})}return ue})();e.q6().bootstrapModule(Vd).catch(ue=>console.error(ue))},4753:(Wn,Je,g)=>{"use strict";Je.Q=void 0;const t=g(2546),v=g(8540);Je.Q=m=>m.startsWith("WEBVTT")?v.vttParser(m):t.srtParser(m)},2546:(Wn,Je,g)=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0}),Je.srtParser=void 0;const e=g(4575),t=g(2279),y=D=>{let i,c,d,f=D.split(":");return 2===f.length?[c,d]=f:[i,c,d]=f,parseInt(d.replace(",",""),10)+60*parseInt(c,10)*1e3+60*(i?parseInt(i,10):0)*60*1e3},m=()=>({start(D){let f="ID",i={tokens:D.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==f;){const c=this[f](i);i=c.params,f=c.next}return i.result},ID(D){const{tokens:f,pos:i,current:c}=D;if(f.length<=i)return{next:"FINISH",params:D};if(t.isBlank(f[i]))return{next:"ID",params:{...D,pos:i+1}};const d=f[i].includes("--\x3e");return c.id=d?"":f[i],{next:"TIME_LINE",params:{...D,current:c,tokens:f,pos:d?i:i+1}}},TIME_LINE(D){const{tokens:f,pos:i,current:c}=D,d=f[i],[h,p]=d.split("--\x3e");return c.from=y(h),c.to=y(p),{next:"TEXT",params:{...D,current:c,pos:i+1}}},TEXT(D){const{tokens:f,pos:i,current:c}=D;return f.length<=i?{next:"FINISH",params:D}:(c.text=f[i],{next:"MULTI_LINE_TEXT",params:{...D,current:c,pos:i+1}})},MULTI_LINE_TEXT(D){const{tokens:f,pos:i,current:c}=D;return f.length<=i?{next:"FINISH",params:D}:t.isBlank(f[i])?{next:"FIN_ENTRY",params:D}:(c.text=`${c.text}\n${f[i]}`,{next:"MULTI_LINE_TEXT",params:{...D,current:c,pos:i+1}})},FIN_ENTRY(D){const{pos:f,current:i,result:c}=D;if(!e.isEntryFromPartial(i))throw new Error(`Parsing error current not complete ${JSON.stringify(i)}`);return c.push(i),{next:"ID",params:{...D,current:{},pos:f+1}}},FINISH:D=>({next:"FINISH",params:D})});Je.srtParser=D=>({entries:m().start(D)})},4575:(Wn,Je)=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0}),Je.isEntryFromPartial=void 0,Je.isEntryFromPartial=e=>"string"==typeof e.id&&"number"==typeof e.from&&"number"==typeof e.to&&"string"==typeof e.text},2279:(Wn,Je)=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0}),Je.isBlank=void 0,Je.isBlank=e=>!e||/^\s*$/.test(e)},8540:(Wn,Je,g)=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0}),Je.vttParser=void 0;const e=g(4575),t=g(2279),y=D=>{let i,c,d,f=D.split(":");return 2===f.length?[c,d]=f:[i,c,d]=f,parseInt(d.replace(".",""),10)+60*parseInt(c,10)*1e3+60*(i?parseInt(i,10):0)*60*1e3},m=()=>({start(D){let f="HEADER",i={tokens:D.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==f;){const c=this[f](i);i=c.params,f=c.next}return i.result},HEADER:D=>({next:"ID_OR_NOTE_OR_STYLE",params:{...D,pos:D.pos+1}}),ID_OR_NOTE_OR_STYLE(D){const{tokens:f,pos:i}=D;return f.length<=i?{next:"FINISH",params:D}:t.isBlank(f[i])?{next:"ID_OR_NOTE_OR_STYLE",params:{...D,pos:i+1}}:f[i].toUpperCase().includes("NOTE")?{next:"NOTE",params:D}:f[i].toUpperCase().includes("STYLE")?{next:"STYLE",params:D}:{next:"ID",params:D}},STYLE(D){const{tokens:f,pos:i}=D;return t.isBlank(f[i])?{next:"ID_OR_NOTE_OR_STYLE",params:{...D,pos:i+1}}:{next:"STYLE",params:{...D,pos:i+1}}},NOTE(D){const{tokens:f,pos:i}=D;return t.isBlank(f[i])?{next:"ID_OR_NOTE_OR_STYLE",params:{...D,pos:i+1}}:{next:"STYLE",params:{...D,pos:i+1}}},ID(D){const{tokens:f,pos:i,current:c}=D;if(f.length<=i)return{next:"FINISH",params:D};if(t.isBlank(f[i]))return{next:"ID",params:{...D,pos:i+1}};const d=f[i].includes("--\x3e");return c.id=d?"":f[i],{next:"TIME_LINE",params:{...D,current:c,tokens:f,pos:d?i:i+1}}},TIME_LINE(D){const{tokens:f,pos:i,current:c}=D,d=f[i],[h,p]=d.split("--\x3e");return c.from=y(h),c.to=y(p),{next:"TEXT",params:{...D,current:c,pos:i+1}}},TEXT(D){const{tokens:f,pos:i,current:c}=D;return f.length<=i?{next:"FINISH",params:D}:(c.text=f[i],{next:"MULTI_LINE_TEXT",params:{...D,current:c,pos:i+1}})},MULTI_LINE_TEXT(D){const{tokens:f,pos:i,current:c}=D;return f.length<=i?{next:"FINISH",params:D}:t.isBlank(f[i])?{next:"FIN_ENTRY",params:D}:(c.text=`${c.text}\n${f[i]}`,{next:"MULTI_LINE_TEXT",params:{...D,current:c,pos:i+1}})},FIN_ENTRY(D){const{pos:f,current:i,result:c}=D;if(!e.isEntryFromPartial(i))throw new Error(`Parsing error current not complete ${JSON.stringify(i)}`);return c.push(i),{next:"ID_OR_NOTE_OR_STYLE",params:{...D,current:{},pos:f+1}}},FINISH:D=>({next:"FINISH",params:D})});Je.vttParser=D=>({entries:m().start(D)})},9919:(Wn,Je)=>{"use strict";Je.byteLength=function D(p){var C=P(p),x=C[1];return 3*(C[0]+x)/4-x},Je.toByteArray=function i(p){var C,E,A=P(p),x=A[0],R=A[1],O=new t(function f(p,C,A){return 3*(C+A)/4-A}(0,x,R)),S=0,I=R>0?x-4:x;for(E=0;E<I;E+=4)C=e[p.charCodeAt(E)]<<18|e[p.charCodeAt(E+1)]<<12|e[p.charCodeAt(E+2)]<<6|e[p.charCodeAt(E+3)],O[S++]=C>>16&255,O[S++]=C>>8&255,O[S++]=255&C;return 2===R&&(C=e[p.charCodeAt(E)]<<2|e[p.charCodeAt(E+1)]>>4,O[S++]=255&C),1===R&&(C=e[p.charCodeAt(E)]<<10|e[p.charCodeAt(E+1)]<<4|e[p.charCodeAt(E+2)]>>2,O[S++]=C>>8&255,O[S++]=255&C),O},Je.fromByteArray=function h(p){for(var C,A=p.length,x=A%3,R=[],O=16383,S=0,I=A-x;S<I;S+=O)R.push(d(p,S,S+O>I?I:S+O));return 1===x?R.push(g[(C=p[A-1])>>2]+g[C<<4&63]+"=="):2===x&&R.push(g[(C=(p[A-2]<<8)+p[A-1])>>10]+g[C>>4&63]+g[C<<2&63]+"="),R.join("")};for(var g=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=0;y<64;++y)g[y]=v[y],e[v.charCodeAt(y)]=y;function P(p){var C=p.length;if(C%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var A=p.indexOf("=");return-1===A&&(A=C),[A,A===C?0:4-A%4]}function c(p){return g[p>>18&63]+g[p>>12&63]+g[p>>6&63]+g[63&p]}function d(p,C,A){for(var R=[],O=C;O<A;O+=3)R.push(c((p[O]<<16&16711680)+(p[O+1]<<8&65280)+(255&p[O+2])));return R.join("")}e["-".charCodeAt(0)]=62,e["_".charCodeAt(0)]=63},9007:(Wn,Je,g)=>{"use strict";var t=g(9919),v=g(2601),y="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Je.lW=f,Je.h2=50;var m=2147483647;function D($){if($>m)throw new RangeError('The value "'+$+'" is invalid for option "size"');var Q=new Uint8Array($);return Object.setPrototypeOf(Q,f.prototype),Q}function f($,Q,ne){if("number"==typeof $){if("string"==typeof Q)throw new TypeError('The "string" argument must be of type string. Received type number');return h($)}return i($,Q,ne)}function i($,Q,ne){if("string"==typeof $)return function p($,Q){if(("string"!=typeof Q||""===Q)&&(Q="utf8"),!f.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);var ne=0|I($,Q),X=D(ne),re=X.write($,Q);return re!==ne&&(X=X.slice(0,re)),X}($,Q);if(ArrayBuffer.isView($))return function A($){if(fe($,Uint8Array)){var Q=new Uint8Array($);return x(Q.buffer,Q.byteOffset,Q.byteLength)}return C($)}($);if(null==$)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);if(fe($,ArrayBuffer)||$&&fe($.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(fe($,SharedArrayBuffer)||$&&fe($.buffer,SharedArrayBuffer)))return x($,Q,ne);if("number"==typeof $)throw new TypeError('The "value" argument must not be of type number. Received type number');var X=$.valueOf&&$.valueOf();if(null!=X&&X!==$)return f.from(X,Q,ne);var re=function R($){if(f.isBuffer($)){var Q=0|O($.length),ne=D(Q);return 0===ne.length||$.copy(ne,0,0,Q),ne}return void 0!==$.length?"number"!=typeof $.length||we($.length)?D(0):C($):"Buffer"===$.type&&Array.isArray($.data)?C($.data):void 0}($);if(re)return re;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof $[Symbol.toPrimitive])return f.from($[Symbol.toPrimitive]("string"),Q,ne);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}function c($){if("number"!=typeof $)throw new TypeError('"size" argument must be of type number');if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function h($){return c($),D($<0?0:0|O($))}function C($){for(var Q=$.length<0?0:0|O($.length),ne=D(Q),X=0;X<Q;X+=1)ne[X]=255&$[X];return ne}function x($,Q,ne){if(Q<0||$.byteLength<Q)throw new RangeError('"offset" is outside of buffer bounds');if($.byteLength<Q+(ne||0))throw new RangeError('"length" is outside of buffer bounds');var X;return X=void 0===Q&&void 0===ne?new Uint8Array($):void 0===ne?new Uint8Array($,Q):new Uint8Array($,Q,ne),Object.setPrototypeOf(X,f.prototype),X}function O($){if($>=m)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return 0|$}function I($,Q){if(f.isBuffer($))return $.length;if(ArrayBuffer.isView($)||fe($,ArrayBuffer))return $.byteLength;if("string"!=typeof $)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);var ne=$.length,X=arguments.length>2&&!0===arguments[2];if(!X&&0===ne)return 0;for(var re=!1;;)switch(Q){case"ascii":case"latin1":case"binary":return ne;case"utf8":case"utf-8":return at($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ne;case"hex":return ne>>>1;case"base64":return Ne($).length;default:if(re)return X?-1:at($).length;Q=(""+Q).toLowerCase(),re=!0}}function E($,Q,ne){var X=!1;if((void 0===Q||Q<0)&&(Q=0),Q>this.length||((void 0===ne||ne>this.length)&&(ne=this.length),ne<=0)||(ne>>>=0)<=(Q>>>=0))return"";for($||($="utf8");;)switch($){case"hex":return Oe(this,Q,ne);case"utf8":case"utf-8":return G(this,Q,ne);case"ascii":return Te(this,Q,ne);case"latin1":case"binary":return be(this,Q,ne);case"base64":return ae(this,Q,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,Q,ne);default:if(X)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),X=!0}}function L($,Q,ne){var X=$[Q];$[Q]=$[ne],$[ne]=X}function b($,Q,ne,X,re){if(0===$.length)return-1;if("string"==typeof ne?(X=ne,ne=0):ne>2147483647?ne=2147483647:ne<-2147483648&&(ne=-2147483648),we(ne=+ne)&&(ne=re?0:$.length-1),ne<0&&(ne=$.length+ne),ne>=$.length){if(re)return-1;ne=$.length-1}else if(ne<0){if(!re)return-1;ne=0}if("string"==typeof Q&&(Q=f.from(Q,X)),f.isBuffer(Q))return 0===Q.length?-1:B($,Q,ne,X,re);if("number"==typeof Q)return Q&=255,"function"==typeof Uint8Array.prototype.indexOf?re?Uint8Array.prototype.indexOf.call($,Q,ne):Uint8Array.prototype.lastIndexOf.call($,Q,ne):B($,[Q],ne,X,re);throw new TypeError("val must be string, number or Buffer")}function B($,Q,ne,X,re){var Fe,J=1,ge=$.length,Se=Q.length;if(void 0!==X&&("ucs2"===(X=String(X).toLowerCase())||"ucs-2"===X||"utf16le"===X||"utf-16le"===X)){if($.length<2||Q.length<2)return-1;J=2,ge/=2,Se/=2,ne/=2}function Ee(gt,Qe){return 1===J?gt[Qe]:gt.readUInt16BE(Qe*J)}if(re){var ct=-1;for(Fe=ne;Fe<ge;Fe++)if(Ee($,Fe)===Ee(Q,-1===ct?0:Fe-ct)){if(-1===ct&&(ct=Fe),Fe-ct+1===Se)return ct*J}else-1!==ct&&(Fe-=Fe-ct),ct=-1}else for(ne+Se>ge&&(ne=ge-Se),Fe=ne;Fe>=0;Fe--){for(var qe=!0,tt=0;tt<Se;tt++)if(Ee($,Fe+tt)!==Ee(Q,tt)){qe=!1;break}if(qe)return Fe}return-1}function Z($,Q,ne,X){ne=Number(ne)||0;var re=$.length-ne;X?(X=Number(X))>re&&(X=re):X=re;var J=Q.length;X>J/2&&(X=J/2);for(var ge=0;ge<X;++ge){var Se=parseInt(Q.substr(2*ge,2),16);if(we(Se))return ge;$[ne+ge]=Se}return ge}function oe($,Q,ne,X){return ee(at(Q,$.length-ne),$,ne,X)}function le($,Q,ne,X){return ee(function Xe($){for(var Q=[],ne=0;ne<$.length;++ne)Q.push(255&$.charCodeAt(ne));return Q}(Q),$,ne,X)}function Re($,Q,ne,X){return ee(Ne(Q),$,ne,X)}function Y($,Q,ne,X){return ee(function je($,Q){for(var ne,X,J=[],ge=0;ge<$.length&&!((Q-=2)<0);++ge)X=(ne=$.charCodeAt(ge))>>8,J.push(ne%256),J.push(X);return J}(Q,$.length-ne),$,ne,X)}function ae($,Q,ne){return t.fromByteArray(0===Q&&ne===$.length?$:$.slice(Q,ne))}function G($,Q,ne){ne=Math.min($.length,ne);for(var X=[],re=Q;re<ne;){var Ee,Fe,ct,qe,J=$[re],ge=null,Se=J>239?4:J>223?3:J>191?2:1;if(re+Se<=ne)switch(Se){case 1:J<128&&(ge=J);break;case 2:128==(192&(Ee=$[re+1]))&&(qe=(31&J)<<6|63&Ee)>127&&(ge=qe);break;case 3:Fe=$[re+2],128==(192&(Ee=$[re+1]))&&128==(192&Fe)&&(qe=(15&J)<<12|(63&Ee)<<6|63&Fe)>2047&&(qe<55296||qe>57343)&&(ge=qe);break;case 4:Fe=$[re+2],ct=$[re+3],128==(192&(Ee=$[re+1]))&&128==(192&Fe)&&128==(192&ct)&&(qe=(15&J)<<18|(63&Ee)<<12|(63&Fe)<<6|63&ct)>65535&&qe<1114112&&(ge=qe)}null===ge?(ge=65533,Se=1):ge>65535&&(X.push((ge-=65536)>>>10&1023|55296),ge=56320|1023&ge),X.push(ge),re+=Se}return function ce($){var Q=$.length;if(Q<=De)return String.fromCharCode.apply(String,$);for(var ne="",X=0;X<Q;)ne+=String.fromCharCode.apply(String,$.slice(X,X+=De));return ne}(X)}!(f.TYPED_ARRAY_SUPPORT=function P(){try{var $=new Uint8Array(1),Q={foo:function(){return 42}};return Object.setPrototypeOf(Q,Uint8Array.prototype),Object.setPrototypeOf($,Q),42===$.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function($,Q,ne){return i($,Q,ne)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function($,Q,ne){return function d($,Q,ne){return c($),$<=0?D($):void 0!==Q?"string"==typeof ne?D($).fill(Q,ne):D($).fill(Q):D($)}($,Q,ne)},f.allocUnsafe=function($){return h($)},f.allocUnsafeSlow=function($){return h($)},f.isBuffer=function(Q){return null!=Q&&!0===Q._isBuffer&&Q!==f.prototype},f.compare=function(Q,ne){if(fe(Q,Uint8Array)&&(Q=f.from(Q,Q.offset,Q.byteLength)),fe(ne,Uint8Array)&&(ne=f.from(ne,ne.offset,ne.byteLength)),!f.isBuffer(Q)||!f.isBuffer(ne))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Q===ne)return 0;for(var X=Q.length,re=ne.length,J=0,ge=Math.min(X,re);J<ge;++J)if(Q[J]!==ne[J]){X=Q[J],re=ne[J];break}return X<re?-1:re<X?1:0},f.isEncoding=function(Q){switch(String(Q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(Q,ne){if(!Array.isArray(Q))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Q.length)return f.alloc(0);var X;if(void 0===ne)for(ne=0,X=0;X<Q.length;++X)ne+=Q[X].length;var re=f.allocUnsafe(ne),J=0;for(X=0;X<Q.length;++X){var ge=Q[X];if(fe(ge,Uint8Array))J+ge.length>re.length?f.from(ge).copy(re,J):Uint8Array.prototype.set.call(re,ge,J);else{if(!f.isBuffer(ge))throw new TypeError('"list" argument must be an Array of Buffers');ge.copy(re,J)}J+=ge.length}return re},f.byteLength=I,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var Q=this.length;if(Q%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ne=0;ne<Q;ne+=2)L(this,ne,ne+1);return this},f.prototype.swap32=function(){var Q=this.length;if(Q%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ne=0;ne<Q;ne+=4)L(this,ne,ne+3),L(this,ne+1,ne+2);return this},f.prototype.swap64=function(){var Q=this.length;if(Q%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ne=0;ne<Q;ne+=8)L(this,ne,ne+7),L(this,ne+1,ne+6),L(this,ne+2,ne+5),L(this,ne+3,ne+4);return this},f.prototype.toLocaleString=f.prototype.toString=function(){var Q=this.length;return 0===Q?"":0===arguments.length?G(this,0,Q):E.apply(this,arguments)},f.prototype.equals=function(Q){if(!f.isBuffer(Q))throw new TypeError("Argument must be a Buffer");return this===Q||0===f.compare(this,Q)},f.prototype.inspect=function(){var Q="",ne=Je.h2;return Q=this.toString("hex",0,ne).replace(/(.{2})/g,"$1 ").trim(),this.length>ne&&(Q+=" ... "),"<Buffer "+Q+">"},y&&(f.prototype[y]=f.prototype.inspect),f.prototype.compare=function(Q,ne,X,re,J){if(fe(Q,Uint8Array)&&(Q=f.from(Q,Q.offset,Q.byteLength)),!f.isBuffer(Q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Q);if(void 0===ne&&(ne=0),void 0===X&&(X=Q?Q.length:0),void 0===re&&(re=0),void 0===J&&(J=this.length),ne<0||X>Q.length||re<0||J>this.length)throw new RangeError("out of range index");if(re>=J&&ne>=X)return 0;if(re>=J)return-1;if(ne>=X)return 1;if(this===Q)return 0;for(var ge=(J>>>=0)-(re>>>=0),Se=(X>>>=0)-(ne>>>=0),Ee=Math.min(ge,Se),Fe=this.slice(re,J),ct=Q.slice(ne,X),qe=0;qe<Ee;++qe)if(Fe[qe]!==ct[qe]){ge=Fe[qe],Se=ct[qe];break}return ge<Se?-1:Se<ge?1:0},f.prototype.includes=function(Q,ne,X){return-1!==this.indexOf(Q,ne,X)},f.prototype.indexOf=function(Q,ne,X){return b(this,Q,ne,X,!0)},f.prototype.lastIndexOf=function(Q,ne,X){return b(this,Q,ne,X,!1)},f.prototype.write=function(Q,ne,X,re){if(void 0===ne)re="utf8",X=this.length,ne=0;else if(void 0===X&&"string"==typeof ne)re=ne,X=this.length,ne=0;else{if(!isFinite(ne))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ne>>>=0,isFinite(X)?(X>>>=0,void 0===re&&(re="utf8")):(re=X,X=void 0)}var J=this.length-ne;if((void 0===X||X>J)&&(X=J),Q.length>0&&(X<0||ne<0)||ne>this.length)throw new RangeError("Attempt to write outside buffer bounds");re||(re="utf8");for(var ge=!1;;)switch(re){case"hex":return Z(this,Q,ne,X);case"utf8":case"utf-8":return oe(this,Q,ne,X);case"ascii":case"latin1":case"binary":return le(this,Q,ne,X);case"base64":return Re(this,Q,ne,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,Q,ne,X);default:if(ge)throw new TypeError("Unknown encoding: "+re);re=(""+re).toLowerCase(),ge=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var De=4096;function Te($,Q,ne){var X="";ne=Math.min($.length,ne);for(var re=Q;re<ne;++re)X+=String.fromCharCode(127&$[re]);return X}function be($,Q,ne){var X="";ne=Math.min($.length,ne);for(var re=Q;re<ne;++re)X+=String.fromCharCode($[re]);return X}function Oe($,Q,ne){var X=$.length;(!Q||Q<0)&&(Q=0),(!ne||ne<0||ne>X)&&(ne=X);for(var re="",J=Q;J<ne;++J)re+=q[$[J]];return re}function ie($,Q,ne){for(var X=$.slice(Q,ne),re="",J=0;J<X.length-1;J+=2)re+=String.fromCharCode(X[J]+256*X[J+1]);return re}function ye($,Q,ne){if($%1!=0||$<0)throw new RangeError("offset is not uint");if($+Q>ne)throw new RangeError("Trying to access beyond buffer length")}function Ce($,Q,ne,X,re,J){if(!f.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(Q>re||Q<J)throw new RangeError('"value" argument is out of bounds');if(ne+X>$.length)throw new RangeError("Index out of range")}function de($,Q,ne,X,re,J){if(ne+X>$.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("Index out of range")}function Me($,Q,ne,X,re){return Q=+Q,ne>>>=0,re||de($,0,ne,4),v.write($,Q,ne,X,23,4),ne+4}function pe($,Q,ne,X,re){return Q=+Q,ne>>>=0,re||de($,0,ne,8),v.write($,Q,ne,X,52,8),ne+8}f.prototype.slice=function(Q,ne){var X=this.length;(Q=~~Q)<0?(Q+=X)<0&&(Q=0):Q>X&&(Q=X),(ne=void 0===ne?X:~~ne)<0?(ne+=X)<0&&(ne=0):ne>X&&(ne=X),ne<Q&&(ne=Q);var re=this.subarray(Q,ne);return Object.setPrototypeOf(re,f.prototype),re},f.prototype.readUintLE=f.prototype.readUIntLE=function(Q,ne,X){Q>>>=0,ne>>>=0,X||ye(Q,ne,this.length);for(var re=this[Q],J=1,ge=0;++ge<ne&&(J*=256);)re+=this[Q+ge]*J;return re},f.prototype.readUintBE=f.prototype.readUIntBE=function(Q,ne,X){Q>>>=0,ne>>>=0,X||ye(Q,ne,this.length);for(var re=this[Q+--ne],J=1;ne>0&&(J*=256);)re+=this[Q+--ne]*J;return re},f.prototype.readUint8=f.prototype.readUInt8=function(Q,ne){return Q>>>=0,ne||ye(Q,1,this.length),this[Q]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(Q,ne){return Q>>>=0,ne||ye(Q,2,this.length),this[Q]|this[Q+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(Q,ne){return Q>>>=0,ne||ye(Q,2,this.length),this[Q]<<8|this[Q+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(Q,ne){return Q>>>=0,ne||ye(Q,4,this.length),(this[Q]|this[Q+1]<<8|this[Q+2]<<16)+16777216*this[Q+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(Q,ne){return Q>>>=0,ne||ye(Q,4,this.length),16777216*this[Q]+(this[Q+1]<<16|this[Q+2]<<8|this[Q+3])},f.prototype.readIntLE=function(Q,ne,X){Q>>>=0,ne>>>=0,X||ye(Q,ne,this.length);for(var re=this[Q],J=1,ge=0;++ge<ne&&(J*=256);)re+=this[Q+ge]*J;return re>=(J*=128)&&(re-=Math.pow(2,8*ne)),re},f.prototype.readIntBE=function(Q,ne,X){Q>>>=0,ne>>>=0,X||ye(Q,ne,this.length);for(var re=ne,J=1,ge=this[Q+--re];re>0&&(J*=256);)ge+=this[Q+--re]*J;return ge>=(J*=128)&&(ge-=Math.pow(2,8*ne)),ge},f.prototype.readInt8=function(Q,ne){return Q>>>=0,ne||ye(Q,1,this.length),128&this[Q]?-1*(255-this[Q]+1):this[Q]},f.prototype.readInt16LE=function(Q,ne){Q>>>=0,ne||ye(Q,2,this.length);var X=this[Q]|this[Q+1]<<8;return 32768&X?4294901760|X:X},f.prototype.readInt16BE=function(Q,ne){Q>>>=0,ne||ye(Q,2,this.length);var X=this[Q+1]|this[Q]<<8;return 32768&X?4294901760|X:X},f.prototype.readInt32LE=function(Q,ne){return Q>>>=0,ne||ye(Q,4,this.length),this[Q]|this[Q+1]<<8|this[Q+2]<<16|this[Q+3]<<24},f.prototype.readInt32BE=function(Q,ne){return Q>>>=0,ne||ye(Q,4,this.length),this[Q]<<24|this[Q+1]<<16|this[Q+2]<<8|this[Q+3]},f.prototype.readFloatLE=function(Q,ne){return Q>>>=0,ne||ye(Q,4,this.length),v.read(this,Q,!0,23,4)},f.prototype.readFloatBE=function(Q,ne){return Q>>>=0,ne||ye(Q,4,this.length),v.read(this,Q,!1,23,4)},f.prototype.readDoubleLE=function(Q,ne){return Q>>>=0,ne||ye(Q,8,this.length),v.read(this,Q,!0,52,8)},f.prototype.readDoubleBE=function(Q,ne){return Q>>>=0,ne||ye(Q,8,this.length),v.read(this,Q,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(Q,ne,X,re){Q=+Q,ne>>>=0,X>>>=0,re||Ce(this,Q,ne,X,Math.pow(2,8*X)-1,0);var ge=1,Se=0;for(this[ne]=255&Q;++Se<X&&(ge*=256);)this[ne+Se]=Q/ge&255;return ne+X},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(Q,ne,X,re){Q=+Q,ne>>>=0,X>>>=0,re||Ce(this,Q,ne,X,Math.pow(2,8*X)-1,0);var ge=X-1,Se=1;for(this[ne+ge]=255&Q;--ge>=0&&(Se*=256);)this[ne+ge]=Q/Se&255;return ne+X},f.prototype.writeUint8=f.prototype.writeUInt8=function(Q,ne,X){return Q=+Q,ne>>>=0,X||Ce(this,Q,ne,1,255,0),this[ne]=255&Q,ne+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(Q,ne,X){return Q=+Q,ne>>>=0,X||Ce(this,Q,ne,2,65535,0),this[ne]=255&Q,this[ne+1]=Q>>>8,ne+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(Q,ne,X){return Q=+Q,ne>>>=0,X||Ce(this,Q,ne,2,65535,0),this[ne]=Q>>>8,this[ne+1]=255&Q,ne+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(Q,ne,X){return Q=+Q,ne>>>=0,X||Ce(this,Q,ne,4,4294967295,0),this[ne+3]=Q>>>24,this[ne+2]=Q>>>16,this[ne+1]=Q>>>8,this[ne]=255&Q,ne+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(Q,ne,X){return Q=+Q,ne>>>=0,X||Ce(this,Q,ne,4,4294967295,0),this[ne]=Q>>>24,this[ne+1]=Q>>>16,this[ne+2]=Q>>>8,this[ne+3]=255&Q,ne+4},f.prototype.writeIntLE=function(Q,ne,X,re){if(Q=+Q,ne>>>=0,!re){var J=Math.pow(2,8*X-1);Ce(this,Q,ne,X,J-1,-J)}var ge=0,Se=1,Ee=0;for(this[ne]=255&Q;++ge<X&&(Se*=256);)Q<0&&0===Ee&&0!==this[ne+ge-1]&&(Ee=1),this[ne+ge]=(Q/Se>>0)-Ee&255;return ne+X},f.prototype.writeIntBE=function(Q,ne,X,re){if(Q=+Q,ne>>>=0,!re){var J=Math.pow(2,8*X-1);Ce(this,Q,ne,X,J-1,-J)}var ge=X-1,Se=1,Ee=0;for(this[ne+ge]=255&Q;--ge>=0&&(Se*=256);)Q<0&&0===Ee&&0!==this[ne+ge+1]&&(Ee=1),this[ne+ge]=(Q/Se>>0)-Ee&255;return ne+X},f.prototype.writeInt8=function(Q,ne,X){return Q=+Q,ne>>>=0,X||Ce(this,Q,ne,1,127,-128),Q<0&&(Q=255+Q+1),this[ne]=255&Q,ne+1},f.prototype.writeInt16LE=function(Q,ne,X){return Q=+Q,ne>>>=0,X||Ce(this,Q,ne,2,32767,-32768),this[ne]=255&Q,this[ne+1]=Q>>>8,ne+2},f.prototype.writeInt16BE=function(Q,ne,X){return Q=+Q,ne>>>=0,X||Ce(this,Q,ne,2,32767,-32768),this[ne]=Q>>>8,this[ne+1]=255&Q,ne+2},f.prototype.writeInt32LE=function(Q,ne,X){return Q=+Q,ne>>>=0,X||Ce(this,Q,ne,4,2147483647,-2147483648),this[ne]=255&Q,this[ne+1]=Q>>>8,this[ne+2]=Q>>>16,this[ne+3]=Q>>>24,ne+4},f.prototype.writeInt32BE=function(Q,ne,X){return Q=+Q,ne>>>=0,X||Ce(this,Q,ne,4,2147483647,-2147483648),Q<0&&(Q=4294967295+Q+1),this[ne]=Q>>>24,this[ne+1]=Q>>>16,this[ne+2]=Q>>>8,this[ne+3]=255&Q,ne+4},f.prototype.writeFloatLE=function(Q,ne,X){return Me(this,Q,ne,!0,X)},f.prototype.writeFloatBE=function(Q,ne,X){return Me(this,Q,ne,!1,X)},f.prototype.writeDoubleLE=function(Q,ne,X){return pe(this,Q,ne,!0,X)},f.prototype.writeDoubleBE=function(Q,ne,X){return pe(this,Q,ne,!1,X)},f.prototype.copy=function(Q,ne,X,re){if(!f.isBuffer(Q))throw new TypeError("argument should be a Buffer");if(X||(X=0),!re&&0!==re&&(re=this.length),ne>=Q.length&&(ne=Q.length),ne||(ne=0),re>0&&re<X&&(re=X),re===X||0===Q.length||0===this.length)return 0;if(ne<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("sourceEnd out of bounds");re>this.length&&(re=this.length),Q.length-ne<re-X&&(re=Q.length-ne+X);var J=re-X;return this===Q&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(ne,X,re):Uint8Array.prototype.set.call(Q,this.subarray(X,re),ne),J},f.prototype.fill=function(Q,ne,X,re){if("string"==typeof Q){if("string"==typeof ne?(re=ne,ne=0,X=this.length):"string"==typeof X&&(re=X,X=this.length),void 0!==re&&"string"!=typeof re)throw new TypeError("encoding must be a string");if("string"==typeof re&&!f.isEncoding(re))throw new TypeError("Unknown encoding: "+re);if(1===Q.length){var J=Q.charCodeAt(0);("utf8"===re&&J<128||"latin1"===re)&&(Q=J)}}else"number"==typeof Q?Q&=255:"boolean"==typeof Q&&(Q=Number(Q));if(ne<0||this.length<ne||this.length<X)throw new RangeError("Out of range index");if(X<=ne)return this;var ge;if(ne>>>=0,X=void 0===X?this.length:X>>>0,Q||(Q=0),"number"==typeof Q)for(ge=ne;ge<X;++ge)this[ge]=Q;else{var Se=f.isBuffer(Q)?Q:f.from(Q,re),Ee=Se.length;if(0===Ee)throw new TypeError('The value "'+Q+'" is invalid for argument "value"');for(ge=0;ge<X-ne;++ge)this[ge+ne]=Se[ge%Ee]}return this};var Ie=/[^+/0-9A-Za-z-_]/g;function at($,Q){Q=Q||1/0;for(var ne,X=$.length,re=null,J=[],ge=0;ge<X;++ge){if((ne=$.charCodeAt(ge))>55295&&ne<57344){if(!re){if(ne>56319){(Q-=3)>-1&&J.push(239,191,189);continue}if(ge+1===X){(Q-=3)>-1&&J.push(239,191,189);continue}re=ne;continue}if(ne<56320){(Q-=3)>-1&&J.push(239,191,189),re=ne;continue}ne=65536+(re-55296<<10|ne-56320)}else re&&(Q-=3)>-1&&J.push(239,191,189);if(re=null,ne<128){if((Q-=1)<0)break;J.push(ne)}else if(ne<2048){if((Q-=2)<0)break;J.push(ne>>6|192,63&ne|128)}else if(ne<65536){if((Q-=3)<0)break;J.push(ne>>12|224,ne>>6&63|128,63&ne|128)}else{if(!(ne<1114112))throw new Error("Invalid code point");if((Q-=4)<0)break;J.push(ne>>18|240,ne>>12&63|128,ne>>6&63|128,63&ne|128)}}return J}function Ne($){return t.toByteArray(function Be($){if(($=($=$.split("=")[0]).trim().replace(Ie,"")).length<2)return"";for(;$.length%4!=0;)$+="=";return $}($))}function ee($,Q,ne,X){for(var re=0;re<X&&!(re+ne>=Q.length||re>=$.length);++re)Q[re+ne]=$[re];return re}function fe($,Q){return $ instanceof Q||null!=$&&null!=$.constructor&&null!=$.constructor.name&&$.constructor.name===Q.name}function we($){return $!=$}var q=function(){for(var $="0123456789abcdef",Q=new Array(256),ne=0;ne<16;++ne)for(var X=16*ne,re=0;re<16;++re)Q[X+re]=$[ne]+$[re];return Q}()},5094:Wn=>{window,Wn.exports=function(Je){var g={};function e(t){if(g[t])return g[t].exports;var v=g[t]={i:t,l:!1,exports:{}};return Je[t].call(v.exports,v,v.exports,e),v.l=!0,v.exports}return e.m=Je,e.c=g,e.d=function(t,v,y){e.o(t,v)||Object.defineProperty(t,v,{enumerable:!0,get:y})},e.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,v){if(1&v&&(t=e(t)),8&v||4&v&&"object"==typeof t&&t&&t.__esModule)return t;var y=Object.create(null);if(e.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:t}),2&v&&"string"!=typeof t)for(var m in t)e.d(y,m,function(P){return t[P]}.bind(null,m));return y},e.n=function(t){var v=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(v,"a",v),v},e.o=function(t,v){return Object.prototype.hasOwnProperty.call(t,v)},e.p="/dist/",e(e.s="./index.js")}({"./externals/base64.js":
/*!*****************************!*\
                  !*** ./externals/base64.js ***!
                  \*****************************/
/*! no static exports found */function(Je,g,e){var y,m,P,D,f,t_encode=function(y){for(var m=[],P=0;P<y.length;++P){var D=y.charCodeAt(P);D<128?m.push(D):D<2048?(m.push(192|D>>6),m.push(128|63&D)):D<65536?(m.push(224|D>>12),m.push(128|63&D>>6),m.push(128|63&D)):(m.push(240|D>>18),m.push(128|63&D>>12),m.push(128|63&D>>6),m.push(128|63&D))}return m},t_decode=function(y){for(var m=[],P=0;P<y.length;){var D=y[P++];D<128||(D<224?(D=(31&D)<<6,D|=63&y[P++]):D<240?(D=(15&D)<<12,D|=(63&y[P++])<<6,D|=63&y[P++]):(D=(7&D)<<18,D|=(63&y[P++])<<12,D|=(63&y[P++])<<6,D|=63&y[P++])),m.push(String.fromCharCode(D))}return m.join("")},v={};y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=function(c){for(var d=0,h=[],p=0|c.length/3;0<p--;){var C=(c[d]<<16)+(c[d+1]<<8)+c[d+2];d+=3,h.push(y.charAt(63&C>>18)),h.push(y.charAt(63&C>>12)),h.push(y.charAt(63&C>>6)),h.push(y.charAt(63&C))}return c.length-d==2?(h.push(y.charAt(63&(C=(c[d]<<16)+(c[d+1]<<8))>>18)),h.push(y.charAt(63&C>>12)),h.push(y.charAt(63&C>>6)),h.push("=")):c.length-d==1&&(h.push(y.charAt(63&(C=c[d]<<16)>>18)),h.push(y.charAt(63&C>>12)),h.push("==")),h.join("")},P=function(){for(var i=[],c=0;c<64;++c)i[y.charCodeAt(c)]=c;return i["=".charCodeAt(0)]=0,i}(),D=function(c){for(var d=0,h=[],p=0|c.length/4;0<p--;){var C=(P[c.charCodeAt(d)]<<18)+(P[c.charCodeAt(d+1)]<<12)+(P[c.charCodeAt(d+2)]<<6)+P[c.charCodeAt(d+3)];h.push(255&C>>16),h.push(255&C>>8),h.push(255&C),d+=4}return h&&("="==c.charAt(d-2)?(h.pop(),h.pop()):"="==c.charAt(d-1)&&h.pop()),h},f={encode:function(i){for(var c=[],d=0;d<i.length;++d)c.push(i.charCodeAt(d));return c},decode:function(i){for(var c=0;c<s.length;++c)a[c]=String.fromCharCode(a[c]);return a.join("")}},v.decodeArray=function(i){var c=D(i);return new Uint8Array(c)},v.encodeASCII=function(i){var c=f.encode(i);return m(c)},v.decodeASCII=function(i){var c=D(i);return f.decode(c)},v.encode=function(i){var c=t_encode(i);return m(c)},v.decode=function(i){var c=D(i);return t_decode(c)},g.decode=v.decode,g.decodeArray=v.decodeArray,g.encode=v.encode,g.encodeASCII=v.encodeASCII},"./externals/cea608-parser.js":
/*!************************************!*\
                  !*** ./externals/cea608-parser.js ***!
                  \************************************/
/*! no static exports found */function(Je,g,e){!function(t){"use strict";var v={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},y=function(b){var B=b;return v.hasOwnProperty(b)&&(B=v[b]),String.fromCharCode(B)},m=15,P=32,D={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},f={17:2,18:4,21:6,22:8,23:10,19:13,20:15},i={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},c={25:2,26:4,29:6,30:8,31:10,27:13,28:15},d=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],h={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(b){this.time=b},log:function(b,B){this.verboseLevel>=this.verboseFilter[b]&&console.log(this.time+" ["+b+"] "+B)}},p=function(b){for(var B=[],Z=0;Z<b.length;Z++)B.push(b[Z].toString(16));return B},C=function(b,B,Z,oe,le){this.foreground=b||"white",this.underline=B||!1,this.italics=Z||!1,this.background=oe||"black",this.flash=le||!1};C.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(b){for(var B=["foreground","underline","italics","background","flash"],Z=0;Z<B.length;Z++){var oe=B[Z];b.hasOwnProperty(oe)&&(this[oe]=b[oe])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(b){return this.foreground===b.foreground&&this.underline===b.underline&&this.italics===b.italics&&this.background===b.background&&this.flash===b.flash},copy:function(b){this.foreground=b.foreground,this.underline=b.underline,this.italics=b.italics,this.background=b.background,this.flash=b.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var A=function(b,B,Z,oe,le,Re){this.uchar=b||" ",this.penState=new C(B,Z,oe,le,Re)};A.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(b,B){this.uchar=b,this.penState.copy(B)},setPenState:function(b){this.penState.copy(b)},equals:function(b){return this.uchar===b.uchar&&this.penState.equals(b.penState)},copy:function(b){this.uchar=b.uchar,this.penState.copy(b.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var x=function(){this.chars=[];for(var b=0;b<P;b++)this.chars.push(new A);this.pos=0,this.currPenState=new C};x.prototype={equals:function(b){for(var B=!0,Z=0;Z<P;Z++)if(!this.chars[Z].equals(b.chars[Z])){B=!1;break}return B},copy:function(b){for(var B=0;B<P;B++)this.chars[B].copy(b.chars[B])},isEmpty:function(){for(var b=!0,B=0;B<P;B++)if(!this.chars[B].isEmpty()){b=!1;break}return b},setCursor:function(b){this.pos!==b&&(this.pos=b),this.pos<0?(h.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>P&&(h.log("ERROR","Too large cursor position "+this.pos),this.pos=P)},moveCursor:function(b){var B=this.pos+b;if(b>1)for(var Z=this.pos+1;Z<B+1;Z++)this.chars[Z].setPenState(this.currPenState);this.setCursor(B)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(b){b>=144&&this.backSpace();var B=y(b);this.pos>=P?h.log("ERROR","Cannot insert "+b.toString(16)+" ("+B+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(B,this.currPenState),this.moveCursor(1))},clearFromPos:function(b){var B;for(B=b;B<P;B++)this.chars[B].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var b=[],B=!0,Z=0;Z<P;Z++){var oe=this.chars[Z].uchar;" "!==oe&&(B=!1),b.push(oe)}return B?"":b.join("")},setPenStyles:function(b){this.currPenState.setStyles(b),this.chars[this.pos].setPenState(this.currPenState)}};var R=function(){this.rows=[];for(var b=0;b<m;b++)this.rows.push(new x);this.currRow=14,this.nrRollUpRows=null,this.reset()};R.prototype={reset:function(){for(var b=0;b<m;b++)this.rows[b].clear();this.currRow=14},equals:function(b){for(var B=!0,Z=0;Z<m;Z++)if(!this.rows[Z].equals(b.rows[Z])){B=!1;break}return B},copy:function(b){for(var B=0;B<m;B++)this.rows[B].copy(b.rows[B])},isEmpty:function(){for(var b=!0,B=0;B<m;B++)if(!this.rows[B].isEmpty()){b=!1;break}return b},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(b){this.rows[this.currRow].insertChar(b)},setPen:function(b){this.rows[this.currRow].setPenStyles(b)},moveCursor:function(b){this.rows[this.currRow].moveCursor(b)},setCursor:function(b){h.log("INFO","setCursor: "+b),this.rows[this.currRow].setCursor(b)},setPAC:function(b){h.log("INFO","pacData = "+JSON.stringify(b));var B=b.row-1;this.nrRollUpRows&&B<this.nrRollUpRows-1&&(B=this.nrRollUpRows-1),this.currRow=B;var Z=this.rows[this.currRow];if(null!==b.indent){var le=Math.max(b.indent-1,0);Z.setCursor(b.indent),b.color=Z.chars[le].penState.foreground}this.setPen({foreground:b.color,underline:b.underline,italics:b.italics,background:"black",flash:!1})},setBkgData:function(b){h.log("INFO","bkgData = "+JSON.stringify(b)),this.backSpace(),this.setPen(b),this.insertChar(32)},setRollUpRows:function(b){this.nrRollUpRows=b},rollUp:function(){if(null!==this.nrRollUpRows){h.log("TEXT",this.getDisplayText());var B=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];B.clear(),this.rows.splice(this.currRow,0,B),h.log("INFO","Rolling up")}else h.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(b){b=b||!1;for(var B=[],Z="",le=0;le<m;le++){var Re=this.rows[le].getTextString();Re&&B.push(b?"Row "+(le+1)+': "'+Re+'"':Re.trim())}return B.length>0&&(Z=b?"["+B.join(" | ")+"]":B.join("\n")),Z},getTextAndFormat:function(){return this.rows}};var O=function(b,B){this.chNr=b,this.outputFilter=B,this.mode=null,this.verbose=0,this.displayedMemory=new R,this.nonDisplayedMemory=new R,this.lastOutputScreen=new R,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};O.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(b){this.outputFilter=b},setPAC:function(b){this.writeScreen.setPAC(b)},setBkgData:function(b){this.writeScreen.setBkgData(b)},setMode:function(b){b!==this.mode&&(this.mode=b,h.log("INFO","MODE="+b),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=b)},insertChars:function(b){for(var B=0;B<b.length;B++)this.writeScreen.insertChar(b[B]);h.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(h.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){h.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){h.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){h.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(b){h.log("INFO","RU("+b+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(b)},cc_FON:function(){h.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){h.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){h.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){h.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){h.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){h.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){h.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(h.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var b=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=b,this.writeScreen=this.nonDisplayedMemory,h.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(b){h.log("INFO","TO("+b+") - Tab Offset"),this.writeScreen.moveCursor(b)},cc_MIDROW:function(b){var B={flash:!1};if(B.underline=b%2==1,B.italics=b>=46,B.italics)B.foreground="white";else{var Z=Math.floor(b/2)-16;B.foreground=["white","green","blue","cyan","red","yellow","magenta"][Z]}h.log("INFO","MIDROW: "+JSON.stringify(B)),this.writeScreen.setPen(B)},outputDataUpdate:function(){var b=h.time;null!==b&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(b,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,b,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:b):this.cueStartTime=b,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(b){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,b,this.displayedMemory),this.cueStartTime=b))}};var S=function(b,B,Z){this.field=b||1,this.outputs=[B,Z],this.channels=[new O(1,B),new O(2,Z)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};S.prototype={getHandler:function(b){return this.channels[b].getHandler()},setHandler:function(b,B){this.channels[b].setHandler(B)},addData:function(b,B){var Z,oe,le,Re=!1;this.lastTime=b,h.setTime(b);for(var Y=0;Y<B.length;Y+=2)le=127&B[Y+1],(oe=127&B[Y])>=16&&oe<=31&&oe===this.lastCmdA&&le===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,h.log("DEBUG","Repeated command ("+p([oe,le])+") is dropped")):0!==oe||0!==le?(h.log("DATA","["+p([B[Y],B[Y+1]])+"] -> ("+p([oe,le])+")"),(Z=this.parseCmd(oe,le))||(Z=this.parseMidrow(oe,le)),Z||(Z=this.parsePAC(oe,le)),Z||(Z=this.parseBackgroundAttributes(oe,le)),!Z&&(Re=this.parseChars(oe,le))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(Re):h.log("WARNING","No channel found yet. TEXT-MODE?")),Z?this.dataCounters.cmd+=2:Re?this.dataCounters.char+=2:(this.dataCounters.other+=2,h.log("WARNING","Couldn't parse cleaned data "+p([oe,le])+" orig: "+p([B[Y],B[Y+1]])))):this.dataCounters.padding+=2},parseCmd:function(b,B){var Z;if(!((20===b||21===b||28===b||29===b)&&32<=B&&B<=47||(23===b||31===b)&&33<=B&&B<=35))return!1;var Re=this.channels[(Z=20===b||21===b||23===b?1:2)-1];return 20===b||21===b||28===b||29===b?32===B?Re.cc_RCL():33===B?Re.cc_BS():34===B?Re.cc_AOF():35===B?Re.cc_AON():36===B?Re.cc_DER():37===B?Re.cc_RU(2):38===B?Re.cc_RU(3):39===B?Re.cc_RU(4):40===B?Re.cc_FON():41===B?Re.cc_RDC():42===B?Re.cc_TR():43===B?Re.cc_RTD():44===B?Re.cc_EDM():45===B?Re.cc_CR():46===B?Re.cc_ENM():47===B&&Re.cc_EOC():Re.cc_TO(B-32),this.lastCmdA=b,this.lastCmdB=B,this.currChNr=Z,!0},parseMidrow:function(b,B){var Z=null;if((17===b||25===b)&&32<=B&&B<=47){if((Z=17===b?1:2)!==this.currChNr)return h.log("ERROR","Mismatch channel in midrow parsing"),!1;var oe=this.channels[Z-1];return oe.insertChars([32]),oe.cc_MIDROW(B),h.log("DEBUG","MIDROW ("+p([b,B])+")"),this.lastCmdA=b,this.lastCmdB=B,!0}return!1},parsePAC:function(b,B){var Z;if(!((17<=b&&b<=23||25<=b&&b<=31)&&64<=B&&B<=127||(16===b||24===b)&&64<=B&&B<=95))return!1;Z=b<=23?1:2;var Y=this.interpretPAC(64<=B&&B<=95?1===Z?D[b]:i[b]:1===Z?f[b]:c[b],B);return this.channels[Z-1].setPAC(Y),this.lastCmdA=b,this.lastCmdB=B,this.currChNr=Z,!0},interpretPAC:function(b,B){var Z,oe={color:null,italics:!1,indent:null,underline:!1,row:b};return oe.underline=1==(1&(Z=B>95?B-96:B-64)),Z<=13?oe.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(Z/2)]:Z<=15?(oe.italics=!0,oe.color="white"):oe.indent=4*Math.floor((Z-16)/2),oe},parseChars:function(b,B){var Z=null,oe=null,le=null;if(b>=25?(Z=2,le=b-8):(Z=1,le=b),17<=le&&le<=19){var Y;h.log("INFO","Special char '"+y(Y=17===le?B+80:18===le?B+112:B+144)+"' in channel "+Z),oe=[Y],this.lastCmdA=b,this.lastCmdB=B}else 32<=b&&b<=127&&(oe=0===B?[b]:[b,B],this.lastCmdA=null,this.lastCmdB=null);if(oe){var ae=p(oe);h.log("DEBUG","Char codes =  "+ae.join(","))}return oe},parseBackgroundAttributes:function(b,B){var Z,oe;return!!((16===b||24===b)&&32<=B&&B<=47||(23===b||31===b)&&45<=B&&B<=47)&&(Z={},16===b||24===b?(oe=Math.floor((B-32)/2),Z.background=d[oe],B%2==1&&(Z.background=Z.background+"_semi")):45===B?Z.background="transparent":(Z.foreground="black",47===B&&(Z.underline=!0)),this.channels[(b<24?1:2)-1].setBkgData(Z),this.lastCmdA=b,this.lastCmdB=B,!0)},reset:function(){for(var b=0;b<this.channels.length;b++)this.channels[b]&&this.channels[b].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(b){for(var B=0;B<this.channels.length;B++)this.channels[B]&&this.channels[B].cueSplitAtTime(b)}};t.logger=h,t.PenState=C,t.CaptionScreen=R,t.Cea608Parser=S,t.findCea608Nalus=function(b,B,Z){for(var oe=0,le=B,Y=[],ae=function(Oe,ie,ye,Ce){if(4!==Oe||ie<8)return null;var de=ye.getUint8(Ce),Me=ye.getUint16(Ce+1),pe=ye.getUint32(Ce+3),Ie=ye.getUint8(Ce+7);return 181==de&&49==Me&&1195456820==pe&&3==Ie};le<B+Z;){if(oe=b.getUint32(le),6==(31&b.getUint8(le+4)))for(var G=le+5,De=-1;G<le+4+oe-1;){De=0;for(var ce=255;255===ce;)De+=ce=b.getUint8(G),G++;var Te=0;for(ce=255;255===ce;)Te+=ce=b.getUint8(G),G++;ae(De,Te,b,G)&&Y.push([G,Te]),G+=Te}le+=oe+4}return Y},t.extractCea608DataFromRange=function(b,B){var Z=B[0],oe=[[],[]],le=31&b.getUint8(Z+=8);Z+=2;for(var Re=0;Re<le;Re++){var Y=b.getUint8(Z),ae=4&Y,G=3&Y;Z++;var De=b.getUint8(Z);Z++;var ce=b.getUint8(Z);Z++,ae&&(127&De)+(127&ce)!=0&&(0===G?(oe[0].push(De),oe[0].push(ce)):1===G&&(oe[1].push(De),oe[1].push(ce)))}return oe}}(g)},"./externals/xml2json.js":
/*!*******************************!*\
                  !*** ./externals/xml2json.js ***!
                  \*******************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g),g.default=function t(v){v=v||{},function m(){void 0===v.escapeMode&&(v.escapeMode=!0),void 0===v.attributePrefix&&(v.attributePrefix="_"),v.arrayAccessForm=v.arrayAccessForm||"none",v.emptyNodeForm=v.emptyNodeForm||"text",void 0===v.enableToStringFunc&&(v.enableToStringFunc=!0),v.arrayAccessFormPaths=v.arrayAccessFormPaths||[],void 0===v.skipEmptyTextNodesForObj&&(v.skipEmptyTextNodesForObj=!0),void 0===v.stripWhitespaces&&(v.stripWhitespaces=!0),v.datetimeAccessFormPaths=v.datetimeAccessFormPaths||[],void 0===v.useDoubleQuotes&&(v.useDoubleQuotes=!1),v.xmlElementsFilter=v.xmlElementsFilter||[],v.jsonPropertiesFilter=v.jsonPropertiesFilter||[],void 0===v.keepCData&&(v.keepCData=!1),void 0===v.ignoreRoot&&(v.ignoreRoot=!1)}();var P={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function f(ae){var G=ae.localName;return null==G&&(G=ae.baseName),(null==G||""==G)&&(G=ae.nodeName),G}function c(ae){return"string"==typeof ae?ae.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):ae}function h(ae,G,De,ce){for(var Te=0;Te<ae.length;Te++){var be=ae[Te];if("string"==typeof be){if(be==ce)break}else if(be instanceof RegExp){if(be.test(ce))break}else if("function"==typeof be&&be(G,De,ce))break}return Te!=ae.length}function p(ae,G,De){"property"===v.arrayAccessForm&&(ae[G+"_asArray"]=ae[G]instanceof Array?ae[G]:[ae[G]]),!(ae[G]instanceof Array)&&v.arrayAccessFormPaths.length>0&&h(v.arrayAccessFormPaths,ae,G,De)&&(ae[G]=[ae[G]])}function C(ae){var G=ae.split(/[-T:+Z]/g),De=new Date(G[0],G[1]-1,G[2]),ce=G[5].split(".");if(De.setHours(G[3],G[4],ce[0]),ce.length>1&&De.setMilliseconds(ce[1]),G[6]&&G[7]){var Te=60*G[6]+Number(G[7]);Te=0+("-"==(/\d\d-\d\d:\d\d$/.test(ae)?"-":"+")?-1*Te:Te),De.setMinutes(De.getMinutes()-Te-De.getTimezoneOffset())}else-1!==ae.indexOf("Z",ae.length-1)&&(De=new Date(Date.UTC(De.getFullYear(),De.getMonth(),De.getDate(),De.getHours(),De.getMinutes(),De.getSeconds(),De.getMilliseconds())));return De}function x(ae,G,De,ce){return!(G==P.ELEMENT_NODE&&v.xmlElementsFilter.length>0)||h(v.xmlElementsFilter,ae,De,ce)}function R(ae,G){if(ae.nodeType==P.DOCUMENT_NODE){for(var De=new Object,ce=ae.childNodes,Te=0;Te<ce.length;Te++)(be=ce[Te]).nodeType==P.ELEMENT_NODE&&(v.ignoreRoot?De=R(be):(De={})[Oe=f(be)]=R(be));return De}if(ae.nodeType==P.ELEMENT_NODE){(De=new Object).__cnt=0;var ie=[];for(ce=ae.childNodes,Te=0;Te<ce.length;Te++){var be,Oe=f(be=ce[Te]);if(be.nodeType!=P.COMMENT_NODE){var ye=G+"."+Oe;if(x(De,be.nodeType,Oe,ye))if(De.__cnt++,null==De[Oe]){var Ce=R(be,ye);("#text"!=Oe||/[^\s]/.test(Ce))&&((de={})[Oe]=Ce,ie.push(de)),De[Oe]=Ce,p(De,Oe,ye)}else{var de;null!=De[Oe]&&(De[Oe]instanceof Array||(De[Oe]=[De[Oe]],p(De,Oe,ye))),Ce=R(be,ye),("#text"!=Oe||/[^\s]/.test(Ce))&&((de={})[Oe]=Ce,ie.push(de)),De[Oe][De[Oe].length]=Ce}}}De.__children=ie;for(var Me=f(ae),pe=0;pe<ae.attributes.length;pe++){var Ie=ae.attributes[pe];De.__cnt++;for(var Be=Ie.value,at=0,Xe=v.matchers.length;at<Xe;at++){var je=v.matchers[at];je.test(Ie,Me)&&(Be=je.converter(Ie.value))}De[v.attributePrefix+Ie.name]=Be}var Ne=function i(ae){return ae.prefix}(ae);return null!=Ne&&""!=Ne&&(De.__cnt++,De.__prefix=Ne),null!=De["#text"]&&(De.__text=De["#text"],De.__text instanceof Array&&(De.__text=De.__text.join("\n")),v.stripWhitespaces&&(De.__text=De.__text.trim()),delete De["#text"],"property"==v.arrayAccessForm&&delete De["#text_asArray"],De.__text=function A(ae,G,De){if(v.datetimeAccessFormPaths.length>0){var ce=De.split(".#")[0];return h(v.datetimeAccessFormPaths,ae,G,ce)?C(ae):ae}return ae}(De.__text,Oe,G+"."+Oe)),null!=De["#cdata-section"]&&(De.__cdata=De["#cdata-section"],delete De["#cdata-section"],"property"==v.arrayAccessForm&&delete De["#cdata-section_asArray"]),0==De.__cnt&&"text"==v.emptyNodeForm?De="":1==De.__cnt&&null!=De.__text?De=De.__text:1!=De.__cnt||null==De.__cdata||v.keepCData?De.__cnt>1&&null!=De.__text&&v.skipEmptyTextNodesForObj&&(v.stripWhitespaces&&""==De.__text||""==De.__text.trim())&&delete De.__text:De=De.__cdata,delete De.__cnt,v.enableToStringFunc&&(null!=De.__text||null!=De.__cdata)&&(De.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),De}if(ae.nodeType==P.TEXT_NODE||ae.nodeType==P.CDATA_SECTION_NODE)return ae.nodeValue}function O(ae,G,De,ce){var Te="<"+(null!=ae&&null!=ae.__prefix?ae.__prefix+":":"")+G;if(null!=De)for(var be=0;be<De.length;be++){var Oe=De[be],ie=ae[Oe];v.escapeMode&&(ie=c(ie)),Te+=" "+Oe.substr(v.attributePrefix.length)+"=",Te+=v.useDoubleQuotes?'"'+ie+'"':"'"+ie+"'"}return Te+(ce?"/>":">")}function S(ae,G){return"</"+(null!=ae.__prefix?ae.__prefix+":":"")+G+">"}function E(ae,G){return!!("property"==v.arrayAccessForm&&function I(ae,G){return-1!==ae.indexOf(G,ae.length-G.length)}(G.toString(),"_asArray")||0==G.toString().indexOf(v.attributePrefix)||0==G.toString().indexOf("__")||ae[G]instanceof Function)}function L(ae){var G=0;if(ae instanceof Object)for(var De in ae)E(ae,De)||G++;return G}function b(ae,G,De){return 0==v.jsonPropertiesFilter.length||""==De||h(v.jsonPropertiesFilter,ae,G,De)}function B(ae){var G=[];if(ae instanceof Object)for(var De in ae)-1==De.toString().indexOf("__")&&0==De.toString().indexOf(v.attributePrefix)&&G.push(De);return G}function oe(ae){var G="";return ae instanceof Object?G+=function Z(ae){var G="";return null!=ae.__cdata&&(G+="<![CDATA["+ae.__cdata+"]]>"),null!=ae.__text&&(G+=v.escapeMode?c(ae.__text):ae.__text),G}(ae):null!=ae&&(G+=v.escapeMode?c(ae):ae),G}function le(ae,G){return""===ae?G:ae+"."+G}function Re(ae,G,De,ce){var Te="";if(0==ae.length)Te+=O(ae,G,De,!0);else for(var be=0;be<ae.length;be++)Te+=O(ae[be],G,B(ae[be]),!1),Te+=Y(ae[be],le(ce,G)),Te+=S(ae[be],G);return Te}function Y(ae,G){var De="";if(L(ae)>0)for(var Te in ae)if(!E(ae,Te)&&(""==G||b(ae,Te,le(G,Te)))){var be=ae[Te],Oe=B(be);null==be||null==be?De+=O(be,Te,Oe,!0):be instanceof Object?be instanceof Array?De+=Re(be,Te,Oe,G):be instanceof Date?(De+=O(be,Te,Oe,!1),De+=be.toISOString(),De+=S(be,Te)):L(be)>0||null!=be.__text||null!=be.__cdata?(De+=O(be,Te,Oe,!1),De+=Y(be,le(G,Te)),De+=S(be,Te)):De+=O(be,Te,Oe,!0):(De+=O(be,Te,Oe,!1),De+=oe(be),De+=S(be,Te))}return De+oe(ae)}this.parseXmlString=function(ae){var De;if(window.ActiveXObject||window,void 0===ae)return null;if(window.DOMParser){var ce=new window.DOMParser;try{(De=ce.parseFromString(ae,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(De=null)}catch{De=null}}else 0==ae.indexOf("<?")&&(ae=ae.substr(ae.indexOf("?>")+2)),(De=new ActiveXObject("Microsoft.XMLDOM")).async="false",De.loadXML(ae);return De},this.asArray=function(ae){return void 0===ae||null==ae?[]:ae instanceof Array?ae:[ae]},this.toXmlDateTime=function(ae){return ae instanceof Date?ae.toISOString():"number"==typeof ae?new Date(ae).toISOString():null},this.asDateTime=function(ae){return"string"==typeof ae?C(ae):ae},this.xml2json=function(ae){return R(ae)},this.xml_str2json=function(ae){var G=this.parseXmlString(ae);return null!=G?this.xml2json(G):null},this.json2xml_str=function(ae){return Y(ae,"")},this.json2xml=function(ae){var G=this.json2xml_str(ae);return this.parseXmlString(G)},this.getVersion=function(){return"1.2.0"}}},"./index.js":
/*!******************!*\
                  !*** ./index.js ***!
                  \******************/
/*! exports provided: default, MediaPlayer, Protection, MetricsReporting, MediaPlayerFactory, Debug, supportsMediaSource */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./index_mediaplayerOnly */
"./index_mediaplayerOnly.js");e.d(g,"MediaPlayer",function(){return t.MediaPlayer});var v=e(
/*! ./src/streaming/utils/Capabilities */
"./src/streaming/utils/Capabilities.js");e.d(g,"supportsMediaSource",function(){return v.supportsMediaSource});var y=e(
/*! ./src/streaming/metrics/MetricsReporting */
"./src/streaming/metrics/MetricsReporting.js");e.d(g,"MetricsReporting",function(){return y.default});var m=e(
/*! ./src/streaming/protection/Protection */
"./src/streaming/protection/Protection.js");e.d(g,"Protection",function(){return m.default});var P=e(
/*! ./src/streaming/MediaPlayerFactory */
"./src/streaming/MediaPlayerFactory.js");e.d(g,"MediaPlayerFactory",function(){return P.default});var D=e(
/*! ./src/core/Debug */
"./src/core/Debug.js");e.d(g,"Debug",function(){return D.default}),dashjs.Protection=m.default,dashjs.MetricsReporting=y.default,dashjs.MediaPlayerFactory=P.default,dashjs.Debug=D.default,dashjs.supportsMediaSource=v.supportsMediaSource,g.default=dashjs},"./index_mediaplayerOnly.js":
/*!**********************************!*\
                  !*** ./index_mediaplayerOnly.js ***!
                  \**********************************/
/*! exports provided: default, MediaPlayer, FactoryMaker, Debug */function(Je,g,e){"use strict";e.r(g),function(t){var v=e(
/*! ./src/streaming/MediaPlayer */
"./src/streaming/MediaPlayer.js");e.d(g,"MediaPlayer",function(){return v.default});var y=e(
/*! ./src/core/FactoryMaker */
"./src/core/FactoryMaker.js");e.d(g,"FactoryMaker",function(){return y.default});var m=e(
/*! ./src/core/Debug */
"./src/core/Debug.js");e.d(g,"Debug",function(){return m.default});var P=e(
/*! ./src/core/Version */
"./src/core/Version.js"),i=(e(
/*! es6-promise/auto */
"./node_modules/es6-promise/auto.js"),typeof window<"u"&&window||t),c=i.dashjs;c||(c=i.dashjs={}),c.MediaPlayer=v.default,c.FactoryMaker=y.default,c.Debug=m.default,c.Version=Object(P.getVersionString)(),g.default=c}.call(this,e(
/*! ./node_modules/webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/base64-js/index.js":
/*!*****************************************!*\
                  !*** ./node_modules/base64-js/index.js ***!
                  \*****************************************/
/*! no static exports found */function(Je,g,e){"use strict";g.byteLength=function i(A){var x=f(A),O=x[1];return 3*(x[0]+O)/4-O},g.toByteArray=function d(A){var x,b,R=f(A),O=R[0],S=R[1],I=new y(function c(A,x,R){return 3*(x+R)/4-R}(0,O,S)),E=0,L=S>0?O-4:O;for(b=0;b<L;b+=4)x=v[A.charCodeAt(b)]<<18|v[A.charCodeAt(b+1)]<<12|v[A.charCodeAt(b+2)]<<6|v[A.charCodeAt(b+3)],I[E++]=x>>16&255,I[E++]=x>>8&255,I[E++]=255&x;return 2===S&&(x=v[A.charCodeAt(b)]<<2|v[A.charCodeAt(b+1)]>>4,I[E++]=255&x),1===S&&(x=v[A.charCodeAt(b)]<<10|v[A.charCodeAt(b+1)]<<4|v[A.charCodeAt(b+2)]>>2,I[E++]=x>>8&255,I[E++]=255&x),I},g.fromByteArray=function C(A){for(var x,R=A.length,O=R%3,S=[],I=16383,E=0,L=R-O;E<L;E+=I)S.push(p(A,E,E+I>L?L:E+I));return 1===O?S.push(t[(x=A[R-1])>>2]+t[x<<4&63]+"=="):2===O&&S.push(t[(x=(A[R-2]<<8)+A[R-1])>>10]+t[x>>4&63]+t[x<<2&63]+"="),S.join("")};for(var t=[],v=[],y=typeof Uint8Array<"u"?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=0;P<64;++P)t[P]=m[P],v[m.charCodeAt(P)]=P;function f(A){var x=A.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=A.indexOf("=");return-1===R&&(R=x),[R,R===x?0:4-R%4]}function h(A){return t[A>>18&63]+t[A>>12&63]+t[A>>6&63]+t[63&A]}function p(A,x,R){for(var S=[],I=x;I<R;I+=3)S.push(h((A[I]<<16&16711680)+(A[I+1]<<8&65280)+(255&A[I+2])));return S.join("")}v["-".charCodeAt(0)]=62,v["_".charCodeAt(0)]=63},"./node_modules/bcp-47-match/index.js":
/*!********************************************!*\
                  !*** ./node_modules/bcp-47-match/index.js ***!
                  \********************************************/
/*! no static exports found */function(Je,g,e){"use strict";function m(D,f){return function i(c,d){for(var x,R,O,h=P(c,"tag"),p=P(d??"*","range"),C=[],A=-1;++A<p.length;)if(x=p[A].toLowerCase(),f||"*"!==x){for(R=-1,O=[];++R<h.length;)if(D(h[R].toLowerCase(),x)){if(!f)return h[R];C.push(h[R])}else O.push(h[R]);h=O}return f?C:void 0}}function P(D,f){var i=D&&"string"==typeof D?[D]:D;if(!i||"object"!=typeof i||!("length"in i))throw new Error("Invalid "+f+" `"+i+"`, expected non-empty string");return i}g.basicFilter=m(function t(D,f){return"*"===f||D===f||D.indexOf(f+"-")>-1},!0),g.extendedFilter=m(function v(D,f){var i=D.split("-"),c=f.split("-"),d=0,h=0;if("*"!==c[h]&&i[d]!==c[h])return!1;for(d++,h++;h<c.length;)if("*"!==c[h]){if(!i[d])return!1;if(i[d]!==c[h]){if(1===i[d].length)return!1;d++}else d++,h++}else h++;return!0},!0),g.lookup=m(function y(D,f){for(var c,i=f;;){if("*"===i||D===i)return!0;if((c=i.lastIndexOf("-"))<0)return!1;"-"===i.charAt(c-2)&&(c-=2),i=i.slice(0,c)}})},"./node_modules/bcp-47-normalize/index.js":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/index.js ***!
                  \************************************************/
/*! no static exports found */function(Je,g,e){"use strict";Je.exports=e(
/*! ./lib */
"./node_modules/bcp-47-normalize/lib/index.js")},"./node_modules/bcp-47-normalize/lib/defaults.json":
/*!*********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/defaults.json ***!
                  \*********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, default */function(Je){Je.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},"./node_modules/bcp-47-normalize/lib/fields.json":
/*!*******************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/fields.json ***!
                  \*******************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, default */function(Je){Je.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},"./node_modules/bcp-47-normalize/lib/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/index.js ***!
                  \****************************************************/
/*! no static exports found */function(Je,g,e){"use strict";var t=e(
/*! bcp-47 */
"./node_modules/bcp-47/index.js"),v=e(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js"),y=e(
/*! ./matches.json */
"./node_modules/bcp-47-normalize/lib/matches.json"),m=e(
/*! ./fields.json */
"./node_modules/bcp-47-normalize/lib/fields.json"),P=e(
/*! ./defaults.json */
"./node_modules/bcp-47-normalize/lib/defaults.json"),D=e(
/*! ./many.json */
"./node_modules/bcp-47-normalize/lib/many.json");Je.exports=function d(x,R){var L,O=R||{},S=t.parse(String(x||"").toLowerCase(),O),I=t.stringify(S),E=-1;if(!I)return I;for(;++E<y.length;)v.extendedFilter(I,y[E].from).length&&(h(S,y[E].from,y[E].to),I=t.stringify(S));for(E=-1;++E<m.length;)p(S,m[E].from.field,m[E].from.value)&&C(S,m[E].to.field,m[E].to.value);for(I=t.stringify(Object.assign({},S,c)),E=-1;++E<P.length;)I===P[E]&&(h(S,P[E],P[E].split("-").slice(0,-1).join("-")),I=t.stringify(Object.assign({},S,c)));if(S.extensions.sort(A),O.warning)for(L in D)f.call(D[L],S[L])&&O.warning("Deprecated "+L+" `"+S[L]+"`, expected one of `"+D[L][S[L]].join("`, `")+"`",null,7);return S.script&&(S.script=S.script.charAt(0).toUpperCase()+S.script.slice(1)),S.region&&(S.region=S.region.toUpperCase()),t.stringify(S)};var f={}.hasOwnProperty,i=new Intl.Collator,c={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function h(x,R,O){var L,S=t.parse(R),I=t.parse(O),E=[];for(L in S)S[L]&&S[L].length&&p(x,L,S[L])&&E.push(L);for(L in I)I[L]&&I[L].length&&(E.indexOf(L)>-1||!x[L]||!x[L].length)&&C(x,L,I[L])}function p(x,R,O){var I,E,L,b,S=!1;if(O){if(E=I=x[R],I&&"object"==typeof I)for(E=[],L=-1;++L<I.length;)O.indexOf(b=I[L])<0?E.push(b):S=!0;else I===O&&(E=null,S=!0);x[R]=E}return S}function C(x,R,O){var I,E,L,S=x[R];if(S&&"object"==typeof S)for(I=[].concat(O),E=-1;++E<I.length;)S.indexOf(L=I[E])<0&&S.push(L);else x[R]=O}function A(x,R){return i.compare(x.singleton,R.singleton)}},"./node_modules/bcp-47-normalize/lib/many.json":
/*!*****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/many.json ***!
                  \*****************************************************/
/*! exports provided: region, default */function(Je){Je.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},"./node_modules/bcp-47-normalize/lib/matches.json":
/*!********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/matches.json ***!
                  \********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, default */function(Je){Je.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},"./node_modules/bcp-47/index.js":
/*!**************************************!*\
                  !*** ./node_modules/bcp-47/index.js ***!
                  \**************************************/
/*! no static exports found */function(Je,g,e){"use strict";g.parse=e(
/*! ./lib/parse */
"./node_modules/bcp-47/lib/parse.js"),g.stringify=e(
/*! ./lib/stringify */
"./node_modules/bcp-47/lib/stringify.js")},"./node_modules/bcp-47/lib/normalize.json":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47/lib/normalize.json ***!
                  \************************************************/
/*! exports provided: en-gb-oed, i-ami, i-bnn, i-default, i-enochian, i-hak, i-klingon, i-lux, i-mingo, i-navajo, i-pwn, i-tao, i-tay, i-tsu, sgn-be-fr, sgn-be-nl, sgn-ch-de, art-lojban, cel-gaulish, no-bok, no-nyn, zh-guoyu, zh-hakka, zh-min, zh-min-nan, zh-xiang, default */function(Je){Je.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},"./node_modules/bcp-47/lib/parse.js":
/*!******************************************!*\
                  !*** ./node_modules/bcp-47/lib/parse.js ***!
                  \******************************************/
/*! no static exports found */function(Je,g,e){"use strict";var t=e(
/*! is-alphanumerical */
"./node_modules/is-alphanumerical/index.js"),v=e(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),y=e(
/*! is-decimal */
"./node_modules/is-decimal/index.js"),m=e(
/*! ./regular.json */
"./node_modules/bcp-47/lib/regular.json"),P=e(
/*! ./normalize.json */
"./node_modules/bcp-47/lib/normalize.json");Je.exports=function f(c,d){var R,O,S,h=d||{},p={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},C=String(c),A=C.toLowerCase(),x=0;if(null==c)throw new Error("Expected string, got `"+c+"`");if(D.call(P,A))return(null==h.normalize||h.normalize)&&P[A]?f(P[A]):(p[-1===m.indexOf(A)?"irregular":"regular"]=C,p);for(;v(A.charCodeAt(x))&&x<9;)x++;if(x>1&&x<9){if(p.language=C.slice(0,x),x<4)for(O=0;45===A.charCodeAt(x)&&v(A.charCodeAt(x+1))&&v(A.charCodeAt(x+2))&&v(A.charCodeAt(x+3))&&!v(A.charCodeAt(x+4));){if(O>2)return I(x,3,"Too many extended language subtags, expected at most 3 subtags");p.extendedLanguageSubtags.push(C.slice(x+1,x+4)),x+=4,O++}for(45===A.charCodeAt(x)&&v(A.charCodeAt(x+1))&&v(A.charCodeAt(x+2))&&v(A.charCodeAt(x+3))&&v(A.charCodeAt(x+4))&&!v(A.charCodeAt(x+5))&&(p.script=C.slice(x+1,x+5),x+=5),45===A.charCodeAt(x)&&(v(A.charCodeAt(x+1))&&v(A.charCodeAt(x+2))&&!v(A.charCodeAt(x+3))?(p.region=C.slice(x+1,x+3),x+=3):y(A.charCodeAt(x+1))&&y(A.charCodeAt(x+2))&&y(A.charCodeAt(x+3))&&!y(A.charCodeAt(x+4))&&(p.region=C.slice(x+1,x+4),x+=4));45===A.charCodeAt(x);){for(S=R=x+1;t(A.charCodeAt(S));){if(S-R>7)return I(S,1,"Too long variant, expected at most 8 characters");S++}if(!(S-R>4||S-R>3&&y(A.charCodeAt(R))))break;p.variants.push(C.slice(R,S)),x=S}for(;45===A.charCodeAt(x)&&120!==A.charCodeAt(x+1)&&t(A.charCodeAt(x+1))&&45===A.charCodeAt(x+2)&&t(A.charCodeAt(x+3));){for(S=x+2,O=0;45===A.charCodeAt(S)&&t(A.charCodeAt(S+1))&&t(A.charCodeAt(S+2));)for(S=(R=S+1)+2,O++;t(A.charCodeAt(S));){if(S-R>7)return I(S,2,"Too long extension, expected at most 8 characters");S++}if(!O)return I(S,4,"Empty extension, extensions must have at least 2 characters of content");p.extensions.push({singleton:C.charAt(x+1),extensions:C.slice(x+3,S).split("-")}),x=S}}else x=0;if(0===x&&120===A.charCodeAt(x)||45===A.charCodeAt(x)&&120===A.charCodeAt(x+1))for(S=x=x?x+2:1;45===A.charCodeAt(S)&&t(A.charCodeAt(S+1));){for(S=R=x+1;t(A.charCodeAt(S));){if(S-R>7)return I(S,5,"Too long private-use area, expected at most 8 characters");S++}p.privateuse.push(C.slice(x+1,S)),x=S}return x!==C.length?I(x,6,"Found superfluous content after tag"):p;function I(E,L,b){return h.warning&&h.warning(b,L,E),h.forgiving?p:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var D={}.hasOwnProperty},"./node_modules/bcp-47/lib/regular.json":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/regular.json ***!
                  \**********************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, default */function(Je){Je.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')},"./node_modules/bcp-47/lib/stringify.js":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/stringify.js ***!
                  \**********************************************/
/*! no static exports found */function(Je,g,e){"use strict";Je.exports=function t(v){var P,D,f,y=v||{},m=[];if(y.irregular||y.regular)return y.irregular||y.regular;if(y.language)for(m=m.concat(y.language,y.extendedLanguageSubtags||[],y.script||[],y.region||[],y.variants||[]),P=y.extensions||[],D=-1;++D<P.length;)(f=P[D]).singleton&&f.extensions&&f.extensions.length&&(m=m.concat(f.singleton,f.extensions));return y.privateuse&&y.privateuse.length&&(m=m.concat("x",y.privateuse)),m.join("-")}},"./node_modules/buffer/index.js":
/*!**************************************!*\
                  !*** ./node_modules/buffer/index.js ***!
                  \**************************************/
/*! no static exports found */function(Je,g,e){"use strict";(function(t){var v=e(
/*! base64-js */
"./node_modules/base64-js/index.js"),y=e(
/*! ieee754 */
"./node_modules/ieee754/index.js"),m=e(
/*! isarray */
"./node_modules/isarray/index.js");function D(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(X,re){if(D()<re)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(X=new Uint8Array(re)).__proto__=i.prototype:(null===X&&(X=new i(re)),X.length=re),X}function i(X,re,J){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(X,re,J);if("number"==typeof X){if("string"==typeof re)throw new Error("If encoding is specified then the first argument must be a string");return p(this,X)}return c(this,X,re,J)}function c(X,re,J,ge){if("number"==typeof re)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&re instanceof ArrayBuffer?function x(X,re,J,ge){if(J<0||re.byteLength<J)throw new RangeError("'offset' is out of bounds");if(re.byteLength<J+(ge||0))throw new RangeError("'length' is out of bounds");return re=void 0===J&&void 0===ge?new Uint8Array(re):void 0===ge?new Uint8Array(re,J):new Uint8Array(re,J,ge),i.TYPED_ARRAY_SUPPORT?(X=re).__proto__=i.prototype:X=A(X,re),X}(X,re,J,ge):"string"==typeof re?function C(X,re,J){if(("string"!=typeof J||""===J)&&(J="utf8"),!i.isEncoding(J))throw new TypeError('"encoding" must be a valid string encoding');var ge=0|I(re,J),Se=(X=f(X,ge)).write(re,J);return Se!==ge&&(X=X.slice(0,Se)),X}(X,re,J):function R(X,re){if(i.isBuffer(re)){var J=0|O(re.length);return 0===(X=f(X,J)).length||re.copy(X,0,0,J),X}if(re){if(typeof ArrayBuffer<"u"&&re.buffer instanceof ArrayBuffer||"length"in re)return"number"!=typeof re.length||function ne(X){return X!=X}(re.length)?f(X,0):A(X,re);if("Buffer"===re.type&&m(re.data))return A(X,re.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(X,re)}function d(X){if("number"!=typeof X)throw new TypeError('"size" argument must be a number');if(X<0)throw new RangeError('"size" argument must not be negative')}function p(X,re){if(d(re),X=f(X,re<0?0:0|O(re)),!i.TYPED_ARRAY_SUPPORT)for(var J=0;J<re;++J)X[J]=0;return X}function A(X,re){var J=re.length<0?0:0|O(re.length);X=f(X,J);for(var ge=0;ge<J;ge+=1)X[ge]=255&re[ge];return X}function O(X){if(X>=D())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+D().toString(16)+" bytes");return 0|X}function I(X,re){if(i.isBuffer(X))return X.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(X)||X instanceof ArrayBuffer))return X.byteLength;"string"!=typeof X&&(X=""+X);var J=X.length;if(0===J)return 0;for(var ge=!1;;)switch(re){case"ascii":case"latin1":case"binary":return J;case"utf8":case"utf-8":case void 0:return fe(X).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*J;case"hex":return J>>>1;case"base64":return $(X).length;default:if(ge)return fe(X).length;re=(""+re).toLowerCase(),ge=!0}}function E(X,re,J){var ge=!1;if((void 0===re||re<0)&&(re=0),re>this.length||((void 0===J||J>this.length)&&(J=this.length),J<=0)||(J>>>=0)<=(re>>>=0))return"";for(X||(X="utf8");;)switch(X){case"hex":return ie(this,re,J);case"utf8":case"utf-8":return De(this,re,J);case"ascii":return be(this,re,J);case"latin1":case"binary":return Oe(this,re,J);case"base64":return G(this,re,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,re,J);default:if(ge)throw new TypeError("Unknown encoding: "+X);X=(X+"").toLowerCase(),ge=!0}}function L(X,re,J){var ge=X[re];X[re]=X[J],X[J]=ge}function b(X,re,J,ge,Se){if(0===X.length)return-1;if("string"==typeof J?(ge=J,J=0):J>2147483647?J=2147483647:J<-2147483648&&(J=-2147483648),J=+J,isNaN(J)&&(J=Se?0:X.length-1),J<0&&(J=X.length+J),J>=X.length){if(Se)return-1;J=X.length-1}else if(J<0){if(!Se)return-1;J=0}if("string"==typeof re&&(re=i.from(re,ge)),i.isBuffer(re))return 0===re.length?-1:B(X,re,J,ge,Se);if("number"==typeof re)return re&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?Se?Uint8Array.prototype.indexOf.call(X,re,J):Uint8Array.prototype.lastIndexOf.call(X,re,J):B(X,[re],J,ge,Se);throw new TypeError("val must be string, number or Buffer")}function B(X,re,J,ge,Se){var tt,Ee=1,Fe=X.length,ct=re.length;if(void 0!==ge&&("ucs2"===(ge=String(ge).toLowerCase())||"ucs-2"===ge||"utf16le"===ge||"utf-16le"===ge)){if(X.length<2||re.length<2)return-1;Ee=2,Fe/=2,ct/=2,J/=2}function qe(Et,me){return 1===Ee?Et[me]:Et.readUInt16BE(me*Ee)}if(Se){var gt=-1;for(tt=J;tt<Fe;tt++)if(qe(X,tt)===qe(re,-1===gt?0:tt-gt)){if(-1===gt&&(gt=tt),tt-gt+1===ct)return gt*Ee}else-1!==gt&&(tt-=tt-gt),gt=-1}else for(J+ct>Fe&&(J=Fe-ct),tt=J;tt>=0;tt--){for(var Qe=!0,yt=0;yt<ct;yt++)if(qe(X,tt+yt)!==qe(re,yt)){Qe=!1;break}if(Qe)return tt}return-1}function Z(X,re,J,ge){J=Number(J)||0;var Se=X.length-J;ge?(ge=Number(ge))>Se&&(ge=Se):ge=Se;var Ee=re.length;if(Ee%2!=0)throw new TypeError("Invalid hex string");ge>Ee/2&&(ge=Ee/2);for(var Fe=0;Fe<ge;++Fe){var ct=parseInt(re.substr(2*Fe,2),16);if(isNaN(ct))return Fe;X[J+Fe]=ct}return Fe}function oe(X,re,J,ge){return Q(fe(re,X.length-J),X,J,ge)}function le(X,re,J,ge){return Q(function we(X){for(var re=[],J=0;J<X.length;++J)re.push(255&X.charCodeAt(J));return re}(re),X,J,ge)}function Re(X,re,J,ge){return le(X,re,J,ge)}function Y(X,re,J,ge){return Q($(re),X,J,ge)}function ae(X,re,J,ge){return Q(function q(X,re){for(var J,ge,Ee=[],Fe=0;Fe<X.length&&!((re-=2)<0);++Fe)ge=(J=X.charCodeAt(Fe))>>8,Ee.push(J%256),Ee.push(ge);return Ee}(re,X.length-J),X,J,ge)}function G(X,re,J){return v.fromByteArray(0===re&&J===X.length?X:X.slice(re,J))}function De(X,re,J){J=Math.min(X.length,J);for(var ge=[],Se=re;Se<J;){var qe,tt,gt,Qe,Ee=X[Se],Fe=null,ct=Ee>239?4:Ee>223?3:Ee>191?2:1;if(Se+ct<=J)switch(ct){case 1:Ee<128&&(Fe=Ee);break;case 2:128==(192&(qe=X[Se+1]))&&(Qe=(31&Ee)<<6|63&qe)>127&&(Fe=Qe);break;case 3:tt=X[Se+2],128==(192&(qe=X[Se+1]))&&128==(192&tt)&&(Qe=(15&Ee)<<12|(63&qe)<<6|63&tt)>2047&&(Qe<55296||Qe>57343)&&(Fe=Qe);break;case 4:tt=X[Se+2],gt=X[Se+3],128==(192&(qe=X[Se+1]))&&128==(192&tt)&&128==(192&gt)&&(Qe=(15&Ee)<<18|(63&qe)<<12|(63&tt)<<6|63&gt)>65535&&Qe<1114112&&(Fe=Qe)}null===Fe?(Fe=65533,ct=1):Fe>65535&&(ge.push((Fe-=65536)>>>10&1023|55296),Fe=56320|1023&Fe),ge.push(Fe),Se+=ct}return function Te(X){var re=X.length;if(re<=ce)return String.fromCharCode.apply(String,X);for(var J="",ge=0;ge<re;)J+=String.fromCharCode.apply(String,X.slice(ge,ge+=ce));return J}(ge)}g.Buffer=i,g.SlowBuffer=function S(X){return+X!=X&&(X=0),i.alloc(+X)},g.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function P(){try{var X=new Uint8Array(1);return X.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===X.foo()&&"function"==typeof X.subarray&&0===X.subarray(1,1).byteLength}catch{return!1}}(),g.kMaxLength=D(),i.poolSize=8192,i._augment=function(X){return X.__proto__=i.prototype,X},i.from=function(X,re,J){return c(null,X,re,J)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(X,re,J){return function h(X,re,J,ge){return d(re),re<=0?f(X,re):void 0!==J?"string"==typeof ge?f(X,re).fill(J,ge):f(X,re).fill(J):f(X,re)}(null,X,re,J)},i.allocUnsafe=function(X){return p(null,X)},i.allocUnsafeSlow=function(X){return p(null,X)},i.isBuffer=function(re){return!(null==re||!re._isBuffer)},i.compare=function(re,J){if(!i.isBuffer(re)||!i.isBuffer(J))throw new TypeError("Arguments must be Buffers");if(re===J)return 0;for(var ge=re.length,Se=J.length,Ee=0,Fe=Math.min(ge,Se);Ee<Fe;++Ee)if(re[Ee]!==J[Ee]){ge=re[Ee],Se=J[Ee];break}return ge<Se?-1:Se<ge?1:0},i.isEncoding=function(re){switch(String(re).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(re,J){if(!m(re))throw new TypeError('"list" argument must be an Array of Buffers');if(0===re.length)return i.alloc(0);var ge;if(void 0===J)for(J=0,ge=0;ge<re.length;++ge)J+=re[ge].length;var Se=i.allocUnsafe(J),Ee=0;for(ge=0;ge<re.length;++ge){var Fe=re[ge];if(!i.isBuffer(Fe))throw new TypeError('"list" argument must be an Array of Buffers');Fe.copy(Se,Ee),Ee+=Fe.length}return Se},i.byteLength=I,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var re=this.length;if(re%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var J=0;J<re;J+=2)L(this,J,J+1);return this},i.prototype.swap32=function(){var re=this.length;if(re%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var J=0;J<re;J+=4)L(this,J,J+3),L(this,J+1,J+2);return this},i.prototype.swap64=function(){var re=this.length;if(re%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var J=0;J<re;J+=8)L(this,J,J+7),L(this,J+1,J+6),L(this,J+2,J+5),L(this,J+3,J+4);return this},i.prototype.toString=function(){var re=0|this.length;return 0===re?"":0===arguments.length?De(this,0,re):E.apply(this,arguments)},i.prototype.equals=function(re){if(!i.isBuffer(re))throw new TypeError("Argument must be a Buffer");return this===re||0===i.compare(this,re)},i.prototype.inspect=function(){var re="",J=g.INSPECT_MAX_BYTES;return this.length>0&&(re=this.toString("hex",0,J).match(/.{2}/g).join(" "),this.length>J&&(re+=" ... ")),"<Buffer "+re+">"},i.prototype.compare=function(re,J,ge,Se,Ee){if(!i.isBuffer(re))throw new TypeError("Argument must be a Buffer");if(void 0===J&&(J=0),void 0===ge&&(ge=re?re.length:0),void 0===Se&&(Se=0),void 0===Ee&&(Ee=this.length),J<0||ge>re.length||Se<0||Ee>this.length)throw new RangeError("out of range index");if(Se>=Ee&&J>=ge)return 0;if(Se>=Ee)return-1;if(J>=ge)return 1;if(this===re)return 0;for(var Fe=(Ee>>>=0)-(Se>>>=0),ct=(ge>>>=0)-(J>>>=0),qe=Math.min(Fe,ct),tt=this.slice(Se,Ee),gt=re.slice(J,ge),Qe=0;Qe<qe;++Qe)if(tt[Qe]!==gt[Qe]){Fe=tt[Qe],ct=gt[Qe];break}return Fe<ct?-1:ct<Fe?1:0},i.prototype.includes=function(re,J,ge){return-1!==this.indexOf(re,J,ge)},i.prototype.indexOf=function(re,J,ge){return b(this,re,J,ge,!0)},i.prototype.lastIndexOf=function(re,J,ge){return b(this,re,J,ge,!1)},i.prototype.write=function(re,J,ge,Se){if(void 0===J)Se="utf8",ge=this.length,J=0;else if(void 0===ge&&"string"==typeof J)Se=J,ge=this.length,J=0;else{if(!isFinite(J))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");J|=0,isFinite(ge)?(ge|=0,void 0===Se&&(Se="utf8")):(Se=ge,ge=void 0)}var Ee=this.length-J;if((void 0===ge||ge>Ee)&&(ge=Ee),re.length>0&&(ge<0||J<0)||J>this.length)throw new RangeError("Attempt to write outside buffer bounds");Se||(Se="utf8");for(var Fe=!1;;)switch(Se){case"hex":return Z(this,re,J,ge);case"utf8":case"utf-8":return oe(this,re,J,ge);case"ascii":return le(this,re,J,ge);case"latin1":case"binary":return Re(this,re,J,ge);case"base64":return Y(this,re,J,ge);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,re,J,ge);default:if(Fe)throw new TypeError("Unknown encoding: "+Se);Se=(""+Se).toLowerCase(),Fe=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ce=4096;function be(X,re,J){var ge="";J=Math.min(X.length,J);for(var Se=re;Se<J;++Se)ge+=String.fromCharCode(127&X[Se]);return ge}function Oe(X,re,J){var ge="";J=Math.min(X.length,J);for(var Se=re;Se<J;++Se)ge+=String.fromCharCode(X[Se]);return ge}function ie(X,re,J){var ge=X.length;(!re||re<0)&&(re=0),(!J||J<0||J>ge)&&(J=ge);for(var Se="",Ee=re;Ee<J;++Ee)Se+=ee(X[Ee]);return Se}function ye(X,re,J){for(var ge=X.slice(re,J),Se="",Ee=0;Ee<ge.length;Ee+=2)Se+=String.fromCharCode(ge[Ee]+256*ge[Ee+1]);return Se}function Ce(X,re,J){if(X%1!=0||X<0)throw new RangeError("offset is not uint");if(X+re>J)throw new RangeError("Trying to access beyond buffer length")}function de(X,re,J,ge,Se,Ee){if(!i.isBuffer(X))throw new TypeError('"buffer" argument must be a Buffer instance');if(re>Se||re<Ee)throw new RangeError('"value" argument is out of bounds');if(J+ge>X.length)throw new RangeError("Index out of range")}function Me(X,re,J,ge){re<0&&(re=65535+re+1);for(var Se=0,Ee=Math.min(X.length-J,2);Se<Ee;++Se)X[J+Se]=(re&255<<8*(ge?Se:1-Se))>>>8*(ge?Se:1-Se)}function pe(X,re,J,ge){re<0&&(re=4294967295+re+1);for(var Se=0,Ee=Math.min(X.length-J,4);Se<Ee;++Se)X[J+Se]=re>>>8*(ge?Se:3-Se)&255}function Ie(X,re,J,ge,Se,Ee){if(J+ge>X.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("Index out of range")}function Be(X,re,J,ge,Se){return Se||Ie(X,0,J,4),y.write(X,re,J,ge,23,4),J+4}function at(X,re,J,ge,Se){return Se||Ie(X,0,J,8),y.write(X,re,J,ge,52,8),J+8}i.prototype.slice=function(re,J){var Se,ge=this.length;if((re=~~re)<0?(re+=ge)<0&&(re=0):re>ge&&(re=ge),(J=void 0===J?ge:~~J)<0?(J+=ge)<0&&(J=0):J>ge&&(J=ge),J<re&&(J=re),i.TYPED_ARRAY_SUPPORT)(Se=this.subarray(re,J)).__proto__=i.prototype;else{var Ee=J-re;Se=new i(Ee,void 0);for(var Fe=0;Fe<Ee;++Fe)Se[Fe]=this[Fe+re]}return Se},i.prototype.readUIntLE=function(re,J,ge){re|=0,J|=0,ge||Ce(re,J,this.length);for(var Se=this[re],Ee=1,Fe=0;++Fe<J&&(Ee*=256);)Se+=this[re+Fe]*Ee;return Se},i.prototype.readUIntBE=function(re,J,ge){re|=0,J|=0,ge||Ce(re,J,this.length);for(var Se=this[re+--J],Ee=1;J>0&&(Ee*=256);)Se+=this[re+--J]*Ee;return Se},i.prototype.readUInt8=function(re,J){return J||Ce(re,1,this.length),this[re]},i.prototype.readUInt16LE=function(re,J){return J||Ce(re,2,this.length),this[re]|this[re+1]<<8},i.prototype.readUInt16BE=function(re,J){return J||Ce(re,2,this.length),this[re]<<8|this[re+1]},i.prototype.readUInt32LE=function(re,J){return J||Ce(re,4,this.length),(this[re]|this[re+1]<<8|this[re+2]<<16)+16777216*this[re+3]},i.prototype.readUInt32BE=function(re,J){return J||Ce(re,4,this.length),16777216*this[re]+(this[re+1]<<16|this[re+2]<<8|this[re+3])},i.prototype.readIntLE=function(re,J,ge){re|=0,J|=0,ge||Ce(re,J,this.length);for(var Se=this[re],Ee=1,Fe=0;++Fe<J&&(Ee*=256);)Se+=this[re+Fe]*Ee;return Se>=(Ee*=128)&&(Se-=Math.pow(2,8*J)),Se},i.prototype.readIntBE=function(re,J,ge){re|=0,J|=0,ge||Ce(re,J,this.length);for(var Se=J,Ee=1,Fe=this[re+--Se];Se>0&&(Ee*=256);)Fe+=this[re+--Se]*Ee;return Fe>=(Ee*=128)&&(Fe-=Math.pow(2,8*J)),Fe},i.prototype.readInt8=function(re,J){return J||Ce(re,1,this.length),128&this[re]?-1*(255-this[re]+1):this[re]},i.prototype.readInt16LE=function(re,J){J||Ce(re,2,this.length);var ge=this[re]|this[re+1]<<8;return 32768&ge?4294901760|ge:ge},i.prototype.readInt16BE=function(re,J){J||Ce(re,2,this.length);var ge=this[re+1]|this[re]<<8;return 32768&ge?4294901760|ge:ge},i.prototype.readInt32LE=function(re,J){return J||Ce(re,4,this.length),this[re]|this[re+1]<<8|this[re+2]<<16|this[re+3]<<24},i.prototype.readInt32BE=function(re,J){return J||Ce(re,4,this.length),this[re]<<24|this[re+1]<<16|this[re+2]<<8|this[re+3]},i.prototype.readFloatLE=function(re,J){return J||Ce(re,4,this.length),y.read(this,re,!0,23,4)},i.prototype.readFloatBE=function(re,J){return J||Ce(re,4,this.length),y.read(this,re,!1,23,4)},i.prototype.readDoubleLE=function(re,J){return J||Ce(re,8,this.length),y.read(this,re,!0,52,8)},i.prototype.readDoubleBE=function(re,J){return J||Ce(re,8,this.length),y.read(this,re,!1,52,8)},i.prototype.writeUIntLE=function(re,J,ge,Se){re=+re,J|=0,ge|=0,Se||de(this,re,J,ge,Math.pow(2,8*ge)-1,0);var Fe=1,ct=0;for(this[J]=255&re;++ct<ge&&(Fe*=256);)this[J+ct]=re/Fe&255;return J+ge},i.prototype.writeUIntBE=function(re,J,ge,Se){re=+re,J|=0,ge|=0,Se||de(this,re,J,ge,Math.pow(2,8*ge)-1,0);var Fe=ge-1,ct=1;for(this[J+Fe]=255&re;--Fe>=0&&(ct*=256);)this[J+Fe]=re/ct&255;return J+ge},i.prototype.writeUInt8=function(re,J,ge){return re=+re,J|=0,ge||de(this,re,J,1,255,0),i.TYPED_ARRAY_SUPPORT||(re=Math.floor(re)),this[J]=255&re,J+1},i.prototype.writeUInt16LE=function(re,J,ge){return re=+re,J|=0,ge||de(this,re,J,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[J]=255&re,this[J+1]=re>>>8):Me(this,re,J,!0),J+2},i.prototype.writeUInt16BE=function(re,J,ge){return re=+re,J|=0,ge||de(this,re,J,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[J]=re>>>8,this[J+1]=255&re):Me(this,re,J,!1),J+2},i.prototype.writeUInt32LE=function(re,J,ge){return re=+re,J|=0,ge||de(this,re,J,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[J+3]=re>>>24,this[J+2]=re>>>16,this[J+1]=re>>>8,this[J]=255&re):pe(this,re,J,!0),J+4},i.prototype.writeUInt32BE=function(re,J,ge){return re=+re,J|=0,ge||de(this,re,J,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[J]=re>>>24,this[J+1]=re>>>16,this[J+2]=re>>>8,this[J+3]=255&re):pe(this,re,J,!1),J+4},i.prototype.writeIntLE=function(re,J,ge,Se){if(re=+re,J|=0,!Se){var Ee=Math.pow(2,8*ge-1);de(this,re,J,ge,Ee-1,-Ee)}var Fe=0,ct=1,qe=0;for(this[J]=255&re;++Fe<ge&&(ct*=256);)re<0&&0===qe&&0!==this[J+Fe-1]&&(qe=1),this[J+Fe]=(re/ct>>0)-qe&255;return J+ge},i.prototype.writeIntBE=function(re,J,ge,Se){if(re=+re,J|=0,!Se){var Ee=Math.pow(2,8*ge-1);de(this,re,J,ge,Ee-1,-Ee)}var Fe=ge-1,ct=1,qe=0;for(this[J+Fe]=255&re;--Fe>=0&&(ct*=256);)re<0&&0===qe&&0!==this[J+Fe+1]&&(qe=1),this[J+Fe]=(re/ct>>0)-qe&255;return J+ge},i.prototype.writeInt8=function(re,J,ge){return re=+re,J|=0,ge||de(this,re,J,1,127,-128),i.TYPED_ARRAY_SUPPORT||(re=Math.floor(re)),re<0&&(re=255+re+1),this[J]=255&re,J+1},i.prototype.writeInt16LE=function(re,J,ge){return re=+re,J|=0,ge||de(this,re,J,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[J]=255&re,this[J+1]=re>>>8):Me(this,re,J,!0),J+2},i.prototype.writeInt16BE=function(re,J,ge){return re=+re,J|=0,ge||de(this,re,J,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[J]=re>>>8,this[J+1]=255&re):Me(this,re,J,!1),J+2},i.prototype.writeInt32LE=function(re,J,ge){return re=+re,J|=0,ge||de(this,re,J,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[J]=255&re,this[J+1]=re>>>8,this[J+2]=re>>>16,this[J+3]=re>>>24):pe(this,re,J,!0),J+4},i.prototype.writeInt32BE=function(re,J,ge){return re=+re,J|=0,ge||de(this,re,J,4,2147483647,-2147483648),re<0&&(re=4294967295+re+1),i.TYPED_ARRAY_SUPPORT?(this[J]=re>>>24,this[J+1]=re>>>16,this[J+2]=re>>>8,this[J+3]=255&re):pe(this,re,J,!1),J+4},i.prototype.writeFloatLE=function(re,J,ge){return Be(this,re,J,!0,ge)},i.prototype.writeFloatBE=function(re,J,ge){return Be(this,re,J,!1,ge)},i.prototype.writeDoubleLE=function(re,J,ge){return at(this,re,J,!0,ge)},i.prototype.writeDoubleBE=function(re,J,ge){return at(this,re,J,!1,ge)},i.prototype.copy=function(re,J,ge,Se){if(ge||(ge=0),!Se&&0!==Se&&(Se=this.length),J>=re.length&&(J=re.length),J||(J=0),Se>0&&Se<ge&&(Se=ge),Se===ge||0===re.length||0===this.length)return 0;if(J<0)throw new RangeError("targetStart out of bounds");if(ge<0||ge>=this.length)throw new RangeError("sourceStart out of bounds");if(Se<0)throw new RangeError("sourceEnd out of bounds");Se>this.length&&(Se=this.length),re.length-J<Se-ge&&(Se=re.length-J+ge);var Fe,Ee=Se-ge;if(this===re&&ge<J&&J<Se)for(Fe=Ee-1;Fe>=0;--Fe)re[Fe+J]=this[Fe+ge];else if(Ee<1e3||!i.TYPED_ARRAY_SUPPORT)for(Fe=0;Fe<Ee;++Fe)re[Fe+J]=this[Fe+ge];else Uint8Array.prototype.set.call(re,this.subarray(ge,ge+Ee),J);return Ee},i.prototype.fill=function(re,J,ge,Se){if("string"==typeof re){if("string"==typeof J?(Se=J,J=0,ge=this.length):"string"==typeof ge&&(Se=ge,ge=this.length),1===re.length){var Ee=re.charCodeAt(0);Ee<256&&(re=Ee)}if(void 0!==Se&&"string"!=typeof Se)throw new TypeError("encoding must be a string");if("string"==typeof Se&&!i.isEncoding(Se))throw new TypeError("Unknown encoding: "+Se)}else"number"==typeof re&&(re&=255);if(J<0||this.length<J||this.length<ge)throw new RangeError("Out of range index");if(ge<=J)return this;var Fe;if(J>>>=0,ge=void 0===ge?this.length:ge>>>0,re||(re=0),"number"==typeof re)for(Fe=J;Fe<ge;++Fe)this[Fe]=re;else{var ct=i.isBuffer(re)?re:fe(new i(re,Se).toString()),qe=ct.length;for(Fe=0;Fe<ge-J;++Fe)this[Fe+J]=ct[Fe%qe]}return this};var Xe=/[^+\/0-9A-Za-z-_]/g;function ee(X){return X<16?"0"+X.toString(16):X.toString(16)}function fe(X,re){re=re||1/0;for(var J,ge=X.length,Se=null,Ee=[],Fe=0;Fe<ge;++Fe){if((J=X.charCodeAt(Fe))>55295&&J<57344){if(!Se){if(J>56319){(re-=3)>-1&&Ee.push(239,191,189);continue}if(Fe+1===ge){(re-=3)>-1&&Ee.push(239,191,189);continue}Se=J;continue}if(J<56320){(re-=3)>-1&&Ee.push(239,191,189),Se=J;continue}J=65536+(Se-55296<<10|J-56320)}else Se&&(re-=3)>-1&&Ee.push(239,191,189);if(Se=null,J<128){if((re-=1)<0)break;Ee.push(J)}else if(J<2048){if((re-=2)<0)break;Ee.push(J>>6|192,63&J|128)}else if(J<65536){if((re-=3)<0)break;Ee.push(J>>12|224,J>>6&63|128,63&J|128)}else{if(!(J<1114112))throw new Error("Invalid code point");if((re-=4)<0)break;Ee.push(J>>18|240,J>>12&63|128,J>>6&63|128,63&J|128)}}return Ee}function $(X){return v.toByteArray(function je(X){if((X=function Ne(X){return X.trim?X.trim():X.replace(/^\s+|\s+$/g,"")}(X).replace(Xe,"")).length<2)return"";for(;X.length%4!=0;)X+="=";return X}(X))}function Q(X,re,J,ge){for(var Se=0;Se<ge&&!(Se+J>=re.length||Se>=X.length);++Se)re[Se+J]=X[Se];return Se}}).call(this,e(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/codem-isoboxer/dist/iso_boxer.js":
/*!*******************************************************!*\
                  !*** ./node_modules/codem-isoboxer/dist/iso_boxer.js ***!
                  \*******************************************************/
/*! no static exports found */function(Je,g,e){var t={parseBuffer:function(m){return new v(m).parse()},addBoxProcessor:function(m,P){"string"!=typeof m||"function"!=typeof P||(y.prototype._boxProcessors[m]=P)},createFile:function(){return new v},createBox:function(m,P,D){var f=y.create(m);return P&&P.append(f,D),f},createFullBox:function(m,P,D){var f=t.createBox(m,P,D);return f.version=0,f.flags=0,f},Utils:{}};t.Utils.dataViewToString=function(m,P){var D=P||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(D).decode(m);var f=[],i=0;if("utf-8"===D)for(;i<m.byteLength;){var c=m.getUint8(i++);c<128||(c<224?(c=(31&c)<<6,c|=63&m.getUint8(i++)):c<240?(c=(15&c)<<12,c|=(63&m.getUint8(i++))<<6,c|=63&m.getUint8(i++)):(c=(7&c)<<18,c|=(63&m.getUint8(i++))<<12,c|=(63&m.getUint8(i++))<<6,c|=63&m.getUint8(i++))),f.push(String.fromCharCode(c))}else for(;i<m.byteLength;)f.push(String.fromCharCode(m.getUint8(i++)));return f.join("")},t.Utils.utf8ToByteArray=function(m){var P,D;if(typeof TextEncoder<"u")P=(new TextEncoder).encode(m);else for(P=[],D=0;D<m.length;++D){var f=m.charCodeAt(D);f<128?P.push(f):f<2048?(P.push(192|f>>6),P.push(128|63&f)):f<65536?(P.push(224|f>>12),P.push(128|63&f>>6),P.push(128|63&f)):(P.push(240|f>>18),P.push(128|63&f>>12),P.push(128|63&f>>6),P.push(128|63&f))}return P},t.Utils.appendBox=function(m,P,D){if(P._offset=m._cursor.offset,P._root=m._root?m._root:m,P._raw=m._raw,P._parent=m,-1!==D){if(null==D)return void m.boxes.push(P);var i,f=-1;if("number"==typeof D)f=D;else{if("string"==typeof D)i=D;else{if("object"!=typeof D||!D.type)return void m.boxes.push(P);i=D.type}for(var c=0;c<m.boxes.length;c++)if(i===m.boxes[c].type){f=c+1;break}}m.boxes.splice(f,0,P)}},g.parseBuffer=t.parseBuffer,g.addBoxProcessor=t.addBoxProcessor,g.createFile=t.createFile,g.createBox=t.createBox,g.createFullBox=t.createFullBox,g.Utils=t.Utils,t.Cursor=function(m){this.offset=typeof m>"u"?0:m};var v=function(m){this._cursor=new t.Cursor,this.boxes=[],m&&(this._raw=new DataView(m))};v.prototype.fetch=function(m){var P=this.fetchAll(m,!0);return P.length?P[0]:null},v.prototype.fetchAll=function(m,P){var D=[];return v._sweep.call(this,m,D,P),D},v.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var m=y.parse(this);if(typeof m.type>"u")break;this.boxes.push(m)}return this},v._sweep=function(m,P,D){for(var f in this.type&&this.type==m&&P.push(this),this.boxes){if(P.length&&D)return;v._sweep.call(this.boxes[f],m,P,D)}},v.prototype.write=function(){var P,m=0;for(P=0;P<this.boxes.length;P++)m+=this.boxes[P].getLength(!1);var D=new Uint8Array(m);for(this._rawo=new DataView(D.buffer),this.bytes=D,this._cursor.offset=0,P=0;P<this.boxes.length;P++)this.boxes[P].write();return D.buffer},v.prototype.append=function(m,P){t.Utils.appendBox(this,m,P)};var y=function(){this._cursor=new t.Cursor};y.parse=function(m){var P=new y;return P._offset=m._cursor.offset,P._root=m._root?m._root:m,P._raw=m._raw,P._parent=m,P._parseBox(),m._cursor.offset=P._raw.byteOffset+P._raw.byteLength,P},y.create=function(m){var P=new y;return P.type=m,P.boxes=[],P},y.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],y.prototype._boxProcessors={},y.prototype._procField=function(m,P,D){this._parsing?this[m]=this._readField(P,D):this._writeField(P,D,this[m])},y.prototype._procFieldArray=function(m,P,D,f){var i;if(this._parsing)for(this[m]=[],i=0;i<P;i++)this[m][i]=this._readField(D,f);else for(i=0;i<this[m].length;i++)this._writeField(D,f,this[m][i])},y.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},y.prototype._procEntries=function(m,P,D){var f;if(this._parsing)for(this[m]=[],f=0;f<P;f++)this[m].push({}),D.call(this,this[m][f]);else for(f=0;f<P;f++)D.call(this,this[m][f])},y.prototype._procSubEntries=function(m,P,D,f){var i;if(this._parsing)for(m[P]=[],i=0;i<D;i++)m[P].push({}),f.call(this,m[P][i]);else for(i=0;i<D;i++)f.call(this,m[P][i])},y.prototype._procEntryField=function(m,P,D,f){this._parsing?m[P]=this._readField(D,f):this._writeField(D,f,m[P])},y.prototype._procSubBoxes=function(m,P){var D;if(this._parsing)for(this[m]=[],D=0;D<P;D++)this[m].push(y.parse(this));else for(D=0;D<P;D++)this._rawo?this[m][D].write():this.size+=this[m][D].getLength()},y.prototype._readField=function(m,P){switch(m){case"uint":return this._readUint(P);case"int":return this._readInt(P);case"template":return this._readTemplate(P);case"string":return-1===P?this._readTerminatedString():this._readString(P);case"data":return this._readData(P);case"utf8":return this._readUTF8String();default:return-1}},y.prototype._readInt=function(m){var P=null,D=this._cursor.offset-this._raw.byteOffset;switch(m){case 8:P=this._raw.getInt8(D);break;case 16:P=this._raw.getInt16(D);break;case 32:P=this._raw.getInt32(D);break;case 64:var f=this._raw.getInt32(D),i=this._raw.getInt32(D+4);P=f*Math.pow(2,32)+i}return this._cursor.offset+=m>>3,P},y.prototype._readUint=function(m){var f,i,P=null,D=this._cursor.offset-this._raw.byteOffset;switch(m){case 8:P=this._raw.getUint8(D);break;case 16:P=this._raw.getUint16(D);break;case 24:P=((f=this._raw.getUint16(D))<<8)+(i=this._raw.getUint8(D+2));break;case 32:P=this._raw.getUint32(D);break;case 64:f=this._raw.getUint32(D),i=this._raw.getUint32(D+4),P=f*Math.pow(2,32)+i}return this._cursor.offset+=m>>3,P},y.prototype._readString=function(m){for(var P="",D=0;D<m;D++){var f=this._readUint(8);P+=String.fromCharCode(f)}return P},y.prototype._readTemplate=function(m){return this._readUint(m/2)+this._readUint(m/2)/Math.pow(2,m/2)},y.prototype._readTerminatedString=function(){for(var m="";this._cursor.offset-this._offset<this._raw.byteLength;){var P=this._readUint(8);if(0===P)break;m+=String.fromCharCode(P)}return m},y.prototype._readData=function(m){var P=m>0?m:this._raw.byteLength-(this._cursor.offset-this._offset);if(P>0){var D=new Uint8Array(this._raw.buffer,this._cursor.offset,P);return this._cursor.offset+=P,D}return null},y.prototype._readUTF8String=function(){var m=this._raw.byteLength-(this._cursor.offset-this._offset),P=null;return m>0&&(P=new DataView(this._raw.buffer,this._cursor.offset,m),this._cursor.offset+=m),P&&t.Utils.dataViewToString(P)},y.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},y.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},y.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(y.parse(this))},y.prototype.append=function(m,P){t.Utils.appendBox(this,m,P)},y.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var m=0;m<this.boxes.length;m++)this.size+=this.boxes[m].getLength();return this._data&&this._writeData(this._data),this.size},y.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var m=0;m<this.boxes.length;m++)this.boxes[m].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},y.prototype._writeInt=function(m,P){if(this._rawo){var D=this._cursor.offset-this._rawo.byteOffset;switch(m){case 8:this._rawo.setInt8(D,P);break;case 16:this._rawo.setInt16(D,P);break;case 32:this._rawo.setInt32(D,P);break;case 64:var f=Math.floor(P/Math.pow(2,32)),i=P-f*Math.pow(2,32);this._rawo.setUint32(D,f),this._rawo.setUint32(D+4,i)}this._cursor.offset+=m>>3}else this.size+=m>>3},y.prototype._writeUint=function(m,P){if(this._rawo){var f,i,D=this._cursor.offset-this._rawo.byteOffset;switch(m){case 8:this._rawo.setUint8(D,P);break;case 16:this._rawo.setUint16(D,P);break;case 24:i=255&P,this._rawo.setUint16(D,f=(16776960&P)>>8),this._rawo.setUint8(D+2,i);break;case 32:this._rawo.setUint32(D,P);break;case 64:i=P-(f=Math.floor(P/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(D,f),this._rawo.setUint32(D+4,i)}this._cursor.offset+=m>>3}else this.size+=m>>3},y.prototype._writeString=function(m,P){for(var D=0;D<m;D++)this._writeUint(8,P.charCodeAt(D))},y.prototype._writeTerminatedString=function(m){if(0!==m.length){for(var P=0;P<m.length;P++)this._writeUint(8,m.charCodeAt(P));this._writeUint(8,0)}},y.prototype._writeTemplate=function(m,P){var D=Math.floor(P),f=(P-D)*Math.pow(2,m/2);this._writeUint(m/2,D),this._writeUint(m/2,f)},y.prototype._writeData=function(m){if(m)if(this._rawo){if(m instanceof Array){for(var D=this._cursor.offset-this._rawo.byteOffset,P=0;P<m.length;P++)this._rawo.setInt8(D+P,m[P]);this._cursor.offset+=m.length}m instanceof Uint8Array&&(this._root.bytes.set(m,this._cursor.offset),this._cursor.offset+=m.length)}else this.size+=m.length},y.prototype._writeUTF8String=function(m){var P=t.Utils.utf8ToByteArray(m);if(this._rawo)for(var D=new DataView(this._rawo.buffer,this._cursor.offset,P.length),f=0;f<P.length;f++)D.setUint8(f,P[f]);else this.size+=P.length},y.prototype._writeField=function(m,P,D){switch(m){case"uint":this._writeUint(P,D);break;case"int":this._writeInt(P,D);break;case"template":this._writeTemplate(P,D);break;case"string":-1==P?this._writeTerminatedString(D):this._writeString(P,D);break;case"data":this._writeData(D);break;case"utf8":this._writeUTF8String(D)}},y.prototype._boxProcessors.avc1=y.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},y.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},y.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(m){this._procEntryField(m,"segment_duration","uint",1===this.version?64:32),this._procEntryField(m,"media_time","int",1===this.version?64:32),this._procEntryField(m,"media_rate_integer","int",16),this._procEntryField(m,"media_rate_fraction","int",16)})},y.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},y.prototype._boxProcessors.free=y.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},y.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},y.prototype._boxProcessors.ftyp=y.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var m=-1;this._parsing&&(m=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",m,"string",4)},y.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},y.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},y.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),!this._parsing&&"string"==typeof this.language&&(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},y.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},y.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},y.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},y.prototype._boxProcessors.mp4a=y.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},y.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},y.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},y.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},y.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},y.prototype._boxProcessors.sdtp=function(){this._procFullBox();var m=-1;this._parsing&&(m=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",m,"uint",8)},y.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(m){this._parsing||(m.reference=(1&m.reference_type)<<31,m.reference|=2147483647&m.referenced_size,m.sap=(1&m.starts_with_SAP)<<31,m.sap|=(3&m.SAP_type)<<28,m.sap|=268435455&m.SAP_delta_time),this._procEntryField(m,"reference","uint",32),this._procEntryField(m,"subsegment_duration","uint",32),this._procEntryField(m,"sap","uint",32),this._parsing&&(m.reference_type=m.reference>>31&1,m.referenced_size=2147483647&m.reference,m.starts_with_SAP=m.sap>>31&1,m.SAP_type=m.sap>>28&7,m.SAP_delta_time=268435455&m.sap)})},y.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},y.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(m){this._procEntryField(m,"ranges_count","uint",32),this._procSubEntries(m,"ranges",m.ranges_count,function(P){this._procEntryField(P,"level","uint",8),this._procEntryField(P,"range_size","uint",24)})})},y.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},y.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(m){this._procEntryField(m,"sample_delta","uint",32),this._procEntryField(m,"subsample_count","uint",16),this._procSubEntries(m,"subsamples",m.subsample_count,function(P){this._procEntryField(P,"subsample_size","uint",1===this.version?32:16),this._procEntryField(P,"subsample_priority","uint",8),this._procEntryField(P,"discardable","uint",8),this._procEntryField(P,"codec_specific_parameters","uint",32)})})},y.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},y.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},y.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},y.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(m){this._procEntryField(m,"time","uint",1===this.version?64:32),this._procEntryField(m,"moof_offset","uint",1===this.version?64:32),this._procEntryField(m,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(m,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(m,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},y.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},y.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},y.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(m){256&this.flags&&this._procEntryField(m,"sample_duration","uint",32),512&this.flags&&this._procEntryField(m,"sample_size","uint",32),1024&this.flags&&this._procEntryField(m,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(m,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},y.prototype._boxProcessors["url "]=y.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},y.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},y.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},y.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},y.prototype._boxProcessors.vtte=function(){}},"./node_modules/core-util-is/lib/util.js":
/*!***********************************************!*\
                  !*** ./node_modules/core-util-is/lib/util.js ***!
                  \***********************************************/
/*! no static exports found */function(Je,g,e){function x(R){return Object.prototype.toString.call(R)}g.isArray=function t(R){return Array.isArray?Array.isArray(R):"[object Array]"===x(R)},g.isBoolean=function v(R){return"boolean"==typeof R},g.isNull=function y(R){return null===R},g.isNullOrUndefined=function m(R){return null==R},g.isNumber=function P(R){return"number"==typeof R},g.isString=function D(R){return"string"==typeof R},g.isSymbol=function f(R){return"symbol"==typeof R},g.isUndefined=function i(R){return void 0===R},g.isRegExp=function c(R){return"[object RegExp]"===x(R)},g.isObject=function d(R){return"object"==typeof R&&null!==R},g.isDate=function h(R){return"[object Date]"===x(R)},g.isError=function p(R){return"[object Error]"===x(R)||R instanceof Error},g.isFunction=function C(R){return"function"==typeof R},g.isPrimitive=function A(R){return null===R||"boolean"==typeof R||"number"==typeof R||"string"==typeof R||"symbol"==typeof R||typeof R>"u"},g.isBuffer=e(
/*! buffer */
"./node_modules/buffer/index.js").Buffer.isBuffer},"./node_modules/es6-promise/auto.js":
/*!******************************************!*\
                  !*** ./node_modules/es6-promise/auto.js ***!
                  \******************************************/
/*! no static exports found */function(Je,g,e){"use strict";Je.exports=e(
/*! ./ */
"./node_modules/es6-promise/dist/es6-promise.js").polyfill()},"./node_modules/es6-promise/dist/es6-promise.js":
/*!******************************************************!*\
                  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!
                  \******************************************************/
/*! no static exports found */function(Je,g,e){(function(t,v){var m;m=function(){"use strict";function m(Ee){return"function"==typeof Ee}var D=Array.isArray?Array.isArray:function(Ee){return"[object Array]"===Object.prototype.toString.call(Ee)},f=0,i=void 0,c=void 0,d=function(Fe,ct){B[f]=Fe,B[f+1]=ct,2===(f+=2)&&(c?c(Z):le())};var C=typeof window<"u"?window:void 0,A=C||{},x=A.MutationObserver||A.WebKitMutationObserver,R=typeof self>"u"&&typeof t<"u"&&"[object process]"==={}.toString.call(t),O=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function b(){var Ee=setTimeout;return function(){return Ee(Z,1)}}var B=new Array(1e3);function Z(){for(var Ee=0;Ee<f;Ee+=2)(0,B[Ee])(B[Ee+1]),B[Ee]=void 0,B[Ee+1]=void 0;f=0}var le=void 0;function Re(Ee,Fe){var ct=this,qe=new this.constructor(G);void 0===qe[ae]&&we(qe);var tt=ct._state;if(tt){var gt=arguments[tt-1];d(function(){return je(tt,qe,gt,ct._result)})}else at(ct,qe,Ee,Fe);return qe}function Y(Ee){if(Ee&&"object"==typeof Ee&&Ee.constructor===this)return Ee;var ct=new this(G);return Me(ct,Ee),ct}le=R?function S(){return function(){return t.nextTick(Z)}}():x?function E(){var Ee=0,Fe=new x(Z),ct=document.createTextNode("");return Fe.observe(ct,{characterData:!0}),function(){ct.data=Ee=++Ee%2}}():O?function L(){var Ee=new MessageChannel;return Ee.port1.onmessage=Z,function(){return Ee.port2.postMessage(0)}}():void 0===C?function oe(){try{var Ee=Function("return this")().require("vertx");return i=Ee.runOnLoop||Ee.runOnContext,function I(){return typeof i<"u"?function(){i(Z)}:b()}()}catch{return b()}}():b();var ae=Math.random().toString(36).substring(2);function G(){}var De=void 0,ce=1,Te=2;function de(Ee,Fe,ct){Fe.constructor===Ee.constructor&&ct===Re&&Fe.constructor.resolve===Y?function Ce(Ee,Fe){Fe._state===ce?Ie(Ee,Fe._result):Fe._state===Te?Be(Ee,Fe._result):at(Fe,void 0,function(ct){return Me(Ee,ct)},function(ct){return Be(Ee,ct)})}(Ee,Fe):void 0===ct?Ie(Ee,Fe):m(ct)?function ye(Ee,Fe,ct){d(function(qe){var tt=!1,gt=function ie(Ee,Fe,ct,qe){try{Ee.call(Fe,ct,qe)}catch(tt){return tt}}(ct,Fe,function(Qe){tt||(tt=!0,Fe!==Qe?Me(qe,Qe):Ie(qe,Qe))},function(Qe){tt||(tt=!0,Be(qe,Qe))});!tt&&gt&&(tt=!0,Be(qe,gt))},Ee)}(Ee,Fe,ct):Ie(Ee,Fe)}function Me(Ee,Fe){if(Ee===Fe)Be(Ee,function be(){return new TypeError("You cannot resolve a promise with itself")}());else if(function y(Ee){var Fe=typeof Ee;return null!==Ee&&("object"===Fe||"function"===Fe)}(Fe)){var ct=void 0;try{ct=Fe.then}catch(qe){return void Be(Ee,qe)}de(Ee,Fe,ct)}else Ie(Ee,Fe)}function pe(Ee){Ee._onerror&&Ee._onerror(Ee._result),Xe(Ee)}function Ie(Ee,Fe){Ee._state===De&&(Ee._result=Fe,Ee._state=ce,0!==Ee._subscribers.length&&d(Xe,Ee))}function Be(Ee,Fe){Ee._state===De&&(Ee._state=Te,Ee._result=Fe,d(pe,Ee))}function at(Ee,Fe,ct,qe){var tt=Ee._subscribers,gt=tt.length;Ee._onerror=null,tt[gt]=Fe,tt[gt+ce]=ct,tt[gt+Te]=qe,0===gt&&Ee._state&&d(Xe,Ee)}function Xe(Ee){var Fe=Ee._subscribers,ct=Ee._state;if(0!==Fe.length){for(var qe=void 0,tt=void 0,gt=Ee._result,Qe=0;Qe<Fe.length;Qe+=3)tt=Fe[Qe+ct],(qe=Fe[Qe])?je(ct,qe,tt,gt):tt(gt);Ee._subscribers.length=0}}function je(Ee,Fe,ct,qe){var tt=m(ct),gt=void 0,Qe=void 0,yt=!0;if(tt){try{gt=ct(qe)}catch(Et){yt=!1,Qe=Et}if(Fe===gt)return void Be(Fe,function Oe(){return new TypeError("A promises callback cannot return that same promise.")}())}else gt=qe;Fe._state!==De||(tt&&yt?Me(Fe,gt):!1===yt?Be(Fe,Qe):Ee===ce?Ie(Fe,gt):Ee===Te&&Be(Fe,gt))}var ee=0;function we(Ee){Ee[ae]=ee++,Ee._state=void 0,Ee._result=void 0,Ee._subscribers=[]}var $=function(){function Ee(Fe,ct){this._instanceConstructor=Fe,this.promise=new Fe(G),this.promise[ae]||we(this.promise),D(ct)?(this.length=ct.length,this._remaining=ct.length,this._result=new Array(this.length),0===this.length?Ie(this.promise,this._result):(this.length=this.length||0,this._enumerate(ct),0===this._remaining&&Ie(this.promise,this._result))):Be(this.promise,function q(){return new Error("Array Methods must be provided an Array")}())}return Ee.prototype._enumerate=function(ct){for(var qe=0;this._state===De&&qe<ct.length;qe++)this._eachEntry(ct[qe],qe)},Ee.prototype._eachEntry=function(ct,qe){var tt=this._instanceConstructor,gt=tt.resolve;if(gt===Y){var Qe=void 0,yt=void 0,Et=!1;try{Qe=ct.then}catch(We){Et=!0,yt=We}if(Qe===Re&&ct._state!==De)this._settledAt(ct._state,qe,ct._result);else if("function"!=typeof Qe)this._remaining--,this._result[qe]=ct;else if(tt===ge){var me=new tt(G);Et?Be(me,yt):de(me,ct,Qe),this._willSettleAt(me,qe)}else this._willSettleAt(new tt(function(We){return We(ct)}),qe)}else this._willSettleAt(gt(ct),qe)},Ee.prototype._settledAt=function(ct,qe,tt){var gt=this.promise;gt._state===De&&(this._remaining--,ct===Te?Be(gt,tt):this._result[qe]=tt),0===this._remaining&&Ie(gt,this._result)},Ee.prototype._willSettleAt=function(ct,qe){var tt=this;at(ct,void 0,function(gt){return tt._settledAt(ce,qe,gt)},function(gt){return tt._settledAt(Te,qe,gt)})},Ee}();var ge=function(){function Ee(Fe){this[ae]=function fe(){return ee++}(),this._result=this._state=void 0,this._subscribers=[],G!==Fe&&("function"!=typeof Fe&&function re(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof Ee?function Ne(Ee,Fe){try{Fe(function(qe){Me(Ee,qe)},function(qe){Be(Ee,qe)})}catch(ct){Be(Ee,ct)}}(this,Fe):function J(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return Ee.prototype.catch=function(ct){return this.then(null,ct)},Ee.prototype.finally=function(ct){var tt=this.constructor;return m(ct)?this.then(function(gt){return tt.resolve(ct()).then(function(){return gt})},function(gt){return tt.resolve(ct()).then(function(){throw gt})}):this.then(ct,ct)},Ee}();return ge.prototype.then=Re,ge.all=function Q(Ee){return new $(this,Ee).promise},ge.race=function ne(Ee){var Fe=this;return D(Ee)?new Fe(function(ct,qe){for(var tt=Ee.length,gt=0;gt<tt;gt++)Fe.resolve(Ee[gt]).then(ct,qe)}):new Fe(function(ct,qe){return qe(new TypeError("You must pass an array to race."))})},ge.resolve=Y,ge.reject=function X(Ee){var ct=new this(G);return Be(ct,Ee),ct},ge._setScheduler=function h(Ee){c=Ee},ge._setAsap=function p(Ee){d=Ee},ge._asap=d,ge.polyfill=function Se(){var Ee=void 0;if(typeof v<"u")Ee=v;else if(typeof self<"u")Ee=self;else try{Ee=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Fe=Ee.Promise;if(Fe){var ct=null;try{ct=Object.prototype.toString.call(Fe.resolve())}catch{}if("[object Promise]"===ct&&!Fe.cast)return}Ee.Promise=ge},ge.Promise=ge,ge},Je.exports=m()}).call(this,e(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),e(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/events/events.js":
/*!***************************************!*\
                  !*** ./node_modules/events/events.js ***!
                  \***************************************/
/*! no static exports found */function(Je,g,e){"use strict";var y,t="object"==typeof Reflect?Reflect:null,v=t&&"function"==typeof t.apply?t.apply:function(b,B,Z){return Function.prototype.apply.call(b,B,Z)};y=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(b){return Object.getOwnPropertyNames(b).concat(Object.getOwnPropertySymbols(b))}:function(b){return Object.getOwnPropertyNames(b)};var P=Number.isNaN||function(b){return b!=b};function D(){D.init.call(this)}Je.exports=D,Je.exports.once=function S(L,b){return new Promise(function(B,Z){function oe(Re){L.removeListener(b,le),Z(Re)}function le(){"function"==typeof L.removeListener&&L.removeListener("error",oe),B([].slice.call(arguments))}E(L,b,le,{once:!0}),"error"!==b&&function I(L,b,B){"function"==typeof L.on&&E(L,"error",b,B)}(L,oe,{once:!0})})},D.EventEmitter=D,D.prototype._events=void 0,D.prototype._eventsCount=0,D.prototype._maxListeners=void 0;var f=10;function i(L){if("function"!=typeof L)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof L)}function c(L){return void 0===L._maxListeners?D.defaultMaxListeners:L._maxListeners}function d(L,b,B,Z){var oe,le,Re;if(i(B),void 0===(le=L._events)?(le=L._events=Object.create(null),L._eventsCount=0):(void 0!==le.newListener&&(L.emit("newListener",b,B.listener?B.listener:B),le=L._events),Re=le[b]),void 0===Re)Re=le[b]=B,++L._eventsCount;else if("function"==typeof Re?Re=le[b]=Z?[B,Re]:[Re,B]:Z?Re.unshift(B):Re.push(B),(oe=c(L))>0&&Re.length>oe&&!Re.warned){Re.warned=!0;var Y=new Error("Possible EventEmitter memory leak detected. "+Re.length+" "+String(b)+" listeners added. Use emitter.setMaxListeners() to increase limit");Y.name="MaxListenersExceededWarning",Y.emitter=L,Y.type=b,Y.count=Re.length,function m(L){console&&console.warn&&console.warn(L)}(Y)}return L}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(L,b,B){var Z={fired:!1,wrapFn:void 0,target:L,type:b,listener:B},oe=h.bind(Z);return oe.listener=B,Z.wrapFn=oe,oe}function C(L,b,B){var Z=L._events;if(void 0===Z)return[];var oe=Z[b];return void 0===oe?[]:"function"==typeof oe?B?[oe.listener||oe]:[oe]:B?function O(L){for(var b=new Array(L.length),B=0;B<b.length;++B)b[B]=L[B].listener||L[B];return b}(oe):x(oe,oe.length)}function A(L){var b=this._events;if(void 0!==b){var B=b[L];if("function"==typeof B)return 1;if(void 0!==B)return B.length}return 0}function x(L,b){for(var B=new Array(b),Z=0;Z<b;++Z)B[Z]=L[Z];return B}function E(L,b,B,Z){if("function"==typeof L.on)Z.once?L.once(b,B):L.on(b,B);else{if("function"!=typeof L.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof L);L.addEventListener(b,function oe(le){Z.once&&L.removeEventListener(b,oe),B(le)})}}Object.defineProperty(D,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(L){if("number"!=typeof L||L<0||P(L))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+L+".");f=L}}),D.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},D.prototype.setMaxListeners=function(b){if("number"!=typeof b||b<0||P(b))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+b+".");return this._maxListeners=b,this},D.prototype.getMaxListeners=function(){return c(this)},D.prototype.emit=function(b){for(var B=[],Z=1;Z<arguments.length;Z++)B.push(arguments[Z]);var oe="error"===b,le=this._events;if(void 0!==le)oe=oe&&void 0===le.error;else if(!oe)return!1;if(oe){var Re;if(B.length>0&&(Re=B[0]),Re instanceof Error)throw Re;var Y=new Error("Unhandled error."+(Re?" ("+Re.message+")":""));throw Y.context=Re,Y}var ae=le[b];if(void 0===ae)return!1;if("function"==typeof ae)v(ae,this,B);else{var G=ae.length,De=x(ae,G);for(Z=0;Z<G;++Z)v(De[Z],this,B)}return!0},D.prototype.on=D.prototype.addListener=function(b,B){return d(this,b,B,!1)},D.prototype.prependListener=function(b,B){return d(this,b,B,!0)},D.prototype.once=function(b,B){return i(B),this.on(b,p(this,b,B)),this},D.prototype.prependOnceListener=function(b,B){return i(B),this.prependListener(b,p(this,b,B)),this},D.prototype.off=D.prototype.removeListener=function(b,B){var Z,oe,le,Re,Y;if(i(B),void 0===(oe=this._events))return this;if(void 0===(Z=oe[b]))return this;if(Z===B||Z.listener===B)0==--this._eventsCount?this._events=Object.create(null):(delete oe[b],oe.removeListener&&this.emit("removeListener",b,Z.listener||B));else if("function"!=typeof Z){for(le=-1,Re=Z.length-1;Re>=0;Re--)if(Z[Re]===B||Z[Re].listener===B){Y=Z[Re].listener,le=Re;break}if(le<0)return this;0===le?Z.shift():function R(L,b){for(;b+1<L.length;b++)L[b]=L[b+1];L.pop()}(Z,le),1===Z.length&&(oe[b]=Z[0]),void 0!==oe.removeListener&&this.emit("removeListener",b,Y||B)}return this},D.prototype.removeAllListeners=function(b){var B,Z,oe;if(void 0===(Z=this._events))return this;if(void 0===Z.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==Z[b]&&(0==--this._eventsCount?this._events=Object.create(null):delete Z[b]),this;if(0===arguments.length){var Re,le=Object.keys(Z);for(oe=0;oe<le.length;++oe)"removeListener"!==(Re=le[oe])&&this.removeAllListeners(Re);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(B=Z[b]))this.removeListener(b,B);else if(void 0!==B)for(oe=B.length-1;oe>=0;oe--)this.removeListener(b,B[oe]);return this},D.prototype.listeners=function(b){return C(this,b,!0)},D.prototype.rawListeners=function(b){return C(this,b,!1)},D.listenerCount=function(L,b){return"function"==typeof L.listenerCount?L.listenerCount(b):A.call(L,b)},D.prototype.listenerCount=A,D.prototype.eventNames=function(){return this._eventsCount>0?y(this._events):[]}},"./node_modules/fast-deep-equal/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/fast-deep-equal/index.js ***!
                  \***********************************************/
/*! no static exports found */function(Je,g,e){"use strict";var t=Array.isArray,v=Object.keys,y=Object.prototype.hasOwnProperty;Je.exports=function m(P,D){if(P===D)return!0;if(P&&D&&"object"==typeof P&&"object"==typeof D){var c,d,h,f=t(P),i=t(D);if(f&&i){if((d=P.length)!=D.length)return!1;for(c=d;0!=c--;)if(!m(P[c],D[c]))return!1;return!0}if(f!=i)return!1;var p=P instanceof Date,C=D instanceof Date;if(p!=C)return!1;if(p&&C)return P.getTime()==D.getTime();var A=P instanceof RegExp,x=D instanceof RegExp;if(A!=x)return!1;if(A&&x)return P.toString()==D.toString();var R=v(P);if((d=R.length)!==v(D).length)return!1;for(c=d;0!=c--;)if(!y.call(D,R[c]))return!1;for(c=d;0!=c--;)if(!m(P[h=R[c]],D[h]))return!1;return!0}return P!=P&&D!=D}},"./node_modules/ieee754/index.js":
/*!***************************************!*\
                  !*** ./node_modules/ieee754/index.js ***!
                  \***************************************/
/*! no static exports found */function(Je,g){g.read=function(e,t,v,y,m){var P,D,f=8*m-y-1,i=(1<<f)-1,c=i>>1,d=-7,h=v?m-1:0,p=v?-1:1,C=e[t+h];for(h+=p,P=C&(1<<-d)-1,C>>=-d,d+=f;d>0;P=256*P+e[t+h],h+=p,d-=8);for(D=P&(1<<-d)-1,P>>=-d,d+=y;d>0;D=256*D+e[t+h],h+=p,d-=8);if(0===P)P=1-c;else{if(P===i)return D?NaN:1/0*(C?-1:1);D+=Math.pow(2,y),P-=c}return(C?-1:1)*D*Math.pow(2,P-y)},g.write=function(e,t,v,y,m,P){var D,f,i,c=8*P-m-1,d=(1<<c)-1,h=d>>1,p=23===m?Math.pow(2,-24)-Math.pow(2,-77):0,C=y?0:P-1,A=y?1:-1,x=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,D=d):(D=Math.floor(Math.log(t)/Math.LN2),t*(i=Math.pow(2,-D))<1&&(D--,i*=2),(t+=D+h>=1?p/i:p*Math.pow(2,1-h))*i>=2&&(D++,i/=2),D+h>=d?(f=0,D=d):D+h>=1?(f=(t*i-1)*Math.pow(2,m),D+=h):(f=t*Math.pow(2,h-1)*Math.pow(2,m),D=0));m>=8;e[v+C]=255&f,C+=A,f/=256,m-=8);for(D=D<<m|f,c+=m;c>0;e[v+C]=255&D,C+=A,D/=256,c-=8);e[v+C-A]|=128*x}},"./node_modules/imsc/src/main/js/doc.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/doc.js ***!
                  \**********************************************/
/*! no static exports found */function(Je,g,e){!function(t,v,y,m,P){function D(q){if("contents"in q)for(var $=("styleAttrs"in q?q.styleAttrs[m.byName.ruby.qname]:null),Q="span"===q.kind&&("container"===$||"textContainer"===$||"baseContainer"===$),ne=q.contents.length-1;ne>=0;ne--)!Q||"styleAttrs"in q.contents[ne]&&m.byName.ruby.qname in q.contents[ne].styleAttrs?D(q.contents[ne]):delete q.contents[ne]}function f(q,$,Q,ne){var X=ne&&"seq"===ne.timeContainer,re=0;ne&&(re=X&&Q?Q.end:ne.begin),$.begin=$.explicit_begin?$.explicit_begin+re:re;var J=$.begin,ge=null;if("sets"in $)for(var Se=0;Se<$.sets.length;Se++)f(q,$.sets[Se],ge,$),J="seq"===$.timeContainer?$.sets[Se].end:Math.max(J,$.sets[Se].end),ge=$.sets[Se];if("contents"in $){if("contents"in $)for(var Ee=0;Ee<$.contents.length;Ee++)f(q,$.contents[Ee],ge,$),J="seq"===$.timeContainer?$.contents[Ee].end:Math.max(J,$.contents[Ee].end),ge=$.contents[Ee]}else J=X?$.begin:Number.POSITIVE_INFINITY;$.end=null!==$.explicit_end&&null!==$.explicit_dur?Math.min($.begin+$.explicit_dur,re+$.explicit_end):null===$.explicit_end&&null!==$.explicit_dur?$.begin+$.explicit_dur:null!==$.explicit_end&&null===$.explicit_dur?re+$.explicit_end:J,delete $.explicit_begin,delete $.explicit_dur,delete $.explicit_end,q._registerEvent($)}function i(q){this.node=q}function c(){this.events=[],this.head=new d,this.body=null}function d(){this.styling=new h,this.layout=new A}function h(){this.styles={},this.initials={}}function p(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function C(){this.styleAttrs=null}function A(){this.regions={}}function x(q,$){R.call(this,"image"),this.src=q,this.type=$}function R(q){this.kind=q}function O(q){this.id=q}function S(q){this.regionID=q}function I(q){this.styleAttrs=q}function E(q){this.sets=q}function L(q){this.contents=q}function b(q,$,Q){this.explicit_begin=q,this.explicit_end=$,this.explicit_dur=Q}function B(){R.call(this,"body")}function Z(){R.call(this,"div")}function oe(){R.call(this,"p")}function le(){R.call(this,"span")}function Re(){R.call(this,"span")}function Y(){R.call(this,"br")}function ae(){}function G(){}function De(q){return q&&"xml:id"in q.attributes&&q.attributes["xml:id"].value||null}function be(q){return q&&"style"in q.attributes?q.attributes.style.value.split(" "):[]}function Oe(q,$){var Q={};if(null!==q)for(var ne in q.attributes){var X=q.attributes[ne].uri+" "+q.attributes[ne].local,re=m.byQName[X];if(void 0!==re){var J=re.parse(q.attributes[ne].value);null!==J?(Q[X]=J,re===m.byName.zIndex&&Ne($,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):ee($,"Cannot parse styling attribute "+X+" --\x3e "+q.attributes[ne].value)}}return Q}function ie(q,$,Q){for(var ne in q.attributes)if(q.attributes[ne].uri===$&&q.attributes[ne].local===Q)return q.attributes[ne].value;return null}function pe(q,$,Q){var ct,qe=null;return null!==(ct=/^(\d+(?:\.\d+)?)f$/.exec(Q))?null!==$&&(qe=parseFloat(ct[1])/$):null!==(ct=/^(\d+(?:\.\d+)?)t$/.exec(Q))?null!==q&&(qe=parseFloat(ct[1])/q):null!==(ct=/^(\d+(?:\.\d+)?)ms$/.exec(Q))?qe=parseFloat(ct[1])/1e3:null!==(ct=/^(\d+(?:\.\d+)?)s$/.exec(Q))?qe=parseFloat(ct[1]):null!==(ct=/^(\d+(?:\.\d+)?)h$/.exec(Q))?qe=3600*parseFloat(ct[1]):null!==(ct=/^(\d+(?:\.\d+)?)m$/.exec(Q))?qe=60*parseFloat(ct[1]):null!==(ct=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(Q))?qe=3600*parseInt(ct[1])+60*parseInt(ct[2])+parseFloat(ct[3]):null!==(ct=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(Q))&&null!==$&&(qe=3600*parseInt(ct[1])+60*parseInt(ct[2])+parseInt(ct[3])+(null===ct[4]?0:parseInt(ct[4])/$)),qe}function Be(q,$,Q){for(;$.styleRefs.length>0;){var ne=$.styleRefs.pop();ne in q.styles?(Be(q,q.styles[ne],Q),Xe(q.styles[ne].styleAttrs,$.styleAttrs)):ee(Q,"Non-existant style id referenced")}}function at(q,$,Q,ne){for(var X=$.length-1;X>=0;X--){var re=$[X];re in q.styles?Xe(q.styles[re].styleAttrs,Q):ee(ne,"Non-existant style id referenced")}}function Xe(q,$){for(var Q in q)q.hasOwnProperty(Q)&&(Q in $||($[Q]=q[Q]))}function Ne(q,$){if(q&&q.warn&&q.warn($))throw $}function ee(q,$){if(q&&q.error&&q.error($))throw $}function fe(q,$){throw q&&q.fatal&&q.fatal($),$}function we(q,$){for(var X,Q=0,ne=q.length-1;Q<=ne;){var re=q[X=Math.floor((Q+ne)/2)];if(re<$)Q=X+1;else{if(!(re>$))return{found:!0,index:X};ne=X-1}}return{found:!1,index:Q}}t.fromXML=function(q,$,Q){var ne=v.parser(!0,{xmlns:!0}),X=[],re=[],J=[],ge=0,Se=null;ne.onclosetag=function(tt){if(X[0]instanceof ae)null!==Se.head&&null!==Se.head.styling&&at(Se.head.styling,X[0].styleRefs,X[0].styleAttrs,$),delete X[0].styleRefs;else if(X[0]instanceof h)for(var gt in X[0].styles)X[0].styles.hasOwnProperty(gt)&&Be(X[0],X[0].styles[gt],$);else if(X[0]instanceof oe||X[0]instanceof le){if(X[0].contents.length>1){var yt,Qe=[X[0].contents[0]];for(yt=1;yt<X[0].contents.length;yt++)X[0].contents[yt]instanceof Re&&Qe[Qe.length-1]instanceof Re?Qe[Qe.length-1].text+=X[0].contents[yt].text:Qe.push(X[0].contents[yt]);X[0].contents=Qe}X[0]instanceof le&&1===X[0].contents.length&&X[0].contents[0]instanceof Re&&(X[0].text=X[0].contents[0].text,delete X[0].contents)}else X[0]instanceof i&&(X[0].node.uri===y.ns_tt&&"metadata"===X[0].node.local?ge--:ge>0&&Q&&"onCloseTag"in Q&&Q.onCloseTag());J.shift(),re.shift(),X.shift()},ne.ontext=function(tt){if(void 0!==X[0])if(X[0]instanceof le||X[0]instanceof oe){if(X[0]instanceof le){var gt=X[0].styleAttrs[m.byName.ruby.qname];if("container"===gt||"textContainer"===gt||"baseContainer"===gt)return}var Qe=new Re;Qe.initFromText(Se,X[0],tt,re[0],J[0],$),X[0].contents.push(Qe)}else X[0]instanceof i&&ge>0&&Q&&"onText"in Q&&Q.onText(tt)},ne.onopentag=function(tt){var gt=tt.attributes["xml:space"];J.unshift(gt?gt.value:0===J.length?"default":J[0]);var Qe=tt.attributes["xml:lang"];if(re.unshift(Qe?Qe.value:0===re.length?"":re[0]),tt.uri===y.ns_tt)if("tt"===tt.local)null!==Se&&fe($,"Two <tt> elements at ("+this.line+","+this.column+")"),(Se=new c).initFromNode(tt,re[0],$),X.unshift(Se);else if("head"===tt.local)X[0]instanceof c||fe($,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),X.unshift(Se.head);else if("styling"===tt.local)X[0]instanceof d||fe($,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),X.unshift(Se.head.styling);else if("style"===tt.local){var yt;X[0]instanceof h?((yt=new p).initFromNode(tt,$),yt.id?Se.head.styling.styles[yt.id]=yt:ee($,"<style> element missing @id attribute"),X.unshift(yt)):X[0]instanceof ae?((yt=new p).initFromNode(tt,$),Xe(yt.styleAttrs,X[0].styleAttrs),X.unshift(yt)):fe($,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===tt.local){var Et;if(X[0]instanceof h){for(var me in(Et=new C).initFromNode(tt,$),Et.styleAttrs)Et.styleAttrs.hasOwnProperty(me)&&(Se.head.styling.initials[me]=Et.styleAttrs[me]);X.unshift(Et)}else fe($,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===tt.local)X[0]instanceof d||fe($,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),X.unshift(Se.head.layout);else if("region"===tt.local){X[0]instanceof A||fe($,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var We=new ae;We.initFromNode(Se,tt,re[0],$),!We.id||We.id in Se.head.layout.regions?ee($,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):Se.head.layout.regions[We.id]=We,X.unshift(We)}else if("body"===tt.local){X[0]instanceof c||fe($,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==Se.body&&fe($,"Second <body> element at "+this.line+","+this.column+")");var Tt=new B;Tt.initFromNode(Se,tt,re[0],$),Se.body=Tt,X.unshift(Tt)}else if("div"===tt.local){X[0]instanceof Z||X[0]instanceof B||fe($,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var Kt=new Z;Kt.initFromNode(Se,X[0],tt,re[0],$);var Jt=Kt.styleAttrs[m.byName.backgroundImage.qname];Jt&&(Kt.contents.push(new x(Jt)),delete Kt.styleAttrs[m.byName.backgroundImage.qname]),X[0].contents.push(Kt),X.unshift(Kt)}else if("image"===tt.local){X[0]instanceof Z||fe($,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var Xt=new x;Xt.initFromNode(Se,X[0],tt,re[0],$),X[0].contents.push(Xt),X.unshift(Xt)}else if("p"===tt.local){X[0]instanceof Z||fe($,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var un=new oe;un.initFromNode(Se,X[0],tt,re[0],$),X[0].contents.push(un),X.unshift(un)}else if("span"===tt.local){X[0]instanceof le||X[0]instanceof oe||fe($,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var fn=new le;fn.initFromNode(Se,X[0],tt,re[0],J[0],$),X[0].contents.push(fn),X.unshift(fn)}else if("br"===tt.local){X[0]instanceof le||X[0]instanceof oe||fe($,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var It=new Y;It.initFromNode(Se,X[0],tt,re[0],$),X[0].contents.push(It),X.unshift(It)}else if("set"===tt.local){X[0]instanceof le||X[0]instanceof oe||X[0]instanceof Z||X[0]instanceof B||X[0]instanceof ae||X[0]instanceof Y||fe($,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var vt=new G;vt.initFromNode(Se,X[0],tt,$),X[0].sets.push(vt),X.unshift(vt)}else X.unshift(new i(tt));else X.unshift(new i(tt));if(X[0]instanceof i)if(tt.uri===y.ns_tt&&"metadata"===tt.local)ge++;else if(ge>0&&Q&&"onOpenTag"in Q){var it=[];for(var He in tt.attributes)it[tt.attributes[He].uri+" "+tt.attributes[He].local]={uri:tt.attributes[He].uri,local:tt.attributes[He].local,value:tt.attributes[He].value};Q.onOpenTag(tt.uri,tt.local,it)}},ne.write(q).close(),delete Se.head.styling.styles;var Ee=!1;for(var Fe in Se.head.layout.regions)if(Se.head.layout.regions.hasOwnProperty(Fe)){Ee=!0;break}if(!Ee){var ct=ae.prototype.createDefaultRegion(Se.lang);Se.head.layout.regions[ct.id]=ct}for(var qe in Se.head.layout.regions)Se.head.layout.regions.hasOwnProperty(qe)&&f(Se,Se.head.layout.regions[qe],null,null);return Se.body&&f(Se,Se.body,null,null),Se.body&&D(Se.body),Se},c.prototype.initFromNode=function(q,$,Q){var ne=function Ce(q,$){var Q=ie(q,y.ns_ttp,"cellResolution"),ne=15,X=32;if(null!==Q){var J=/(\d+) (\d+)/.exec(Q);null!==J?(X=parseInt(J[1]),ne=parseInt(J[2])):Ne($,"Malformed cellResolution value (using initial value instead)")}return{w:X,h:ne}}(q,Q);this.cellLength={h:new P.ComputedLength(0,1/ne.h),w:new P.ComputedLength(1/ne.w,0)};var X=function de(q,$){var X,Q=ie(q,y.ns_ttp,"frameRate"),ne=30;null!==Q&&(null!==(X=/(\d+)/.exec(Q))?ne=parseInt(X[1]):Ne($,"Malformed frame rate attribute (using initial value instead)"));var J=ie(q,y.ns_ttp,"frameRateMultiplier"),ge=1;null!==J&&(null!==(X=/(\d+) (\d+)/.exec(J))?ge=parseInt(X[1])/parseInt(X[2]):Ne($,"Malformed frame rate multiplier attribute (using initial value instead)"));var Ee=ge*ne,Fe=1,ct=ie(q,y.ns_ttp,"tickRate");return null===ct?null!==Q&&(Fe=Ee):null!==(X=/(\d+)/.exec(ct))?Fe=parseInt(X[1]):Ne($,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:Ee,tickRate:Fe}}(q,Q);this.effectiveFrameRate=X.effectiveFrameRate,this.tickRate=X.tickRate,this.aspectRatio=function ye(q,$){var Q=ie(q,y.ns_ittp,"aspectRatio");null===Q&&(Q=ie(q,y.ns_ttp,"displayAspectRatio"));var ne=null;if(null!==Q){var re=/(\d+)\s+(\d+)/.exec(Q);if(null!==re){var J=parseInt(re[1]),ge=parseInt(re[2]);0!==J&&0!==ge?ne=J/ge:ee($,"Illegal aspectRatio values (ignoring)")}else ee($,"Malformed aspectRatio attribute (ignoring)")}return ne}(q,Q);var re=ie(q,y.ns_ttp,"timeBase");null!==re&&"media"!==re&&fe(Q,"Unsupported time base");var J=function Me(q,$){var Q=ie(q,y.ns_tts,"extent");if(null===Q)return null;var ne=Q.split(" ");if(2!==ne.length)return Ne($,"Malformed extent (ignoring)"),null;var X=P.parseLength(ne[0]),re=P.parseLength(ne[1]);return re&&X?{h:re,w:X}:(Ne($,"Malformed extent values (ignoring)"),null)}(q,Q);null===J?this.pxLength={h:null,w:null}:(("px"!==J.h.unit||"px"!==J.w.unit)&&fe(Q,"Extent on TT must be in px or absent"),this.pxLength={h:new P.ComputedLength(0,1/J.h.value),w:new P.ComputedLength(1/J.w.value,0)}),this.dimensions={h:new P.ComputedLength(0,1),w:new P.ComputedLength(1,0)},this.lang=$},c.prototype._registerEvent=function(q){if(!(q.end<=q.begin)){var $=we(this.events,q.begin);if($.found||this.events.splice($.index,0,q.begin),q.end!==Number.POSITIVE_INFINITY){var Q=we(this.events,q.end);Q.found||this.events.splice(Q.index,0,q.end)}}},c.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},c.prototype.getMediaTimeEvents=function(){return this.events},p.prototype.initFromNode=function(q,$){this.id=De(q),this.styleAttrs=Oe(q,$),this.styleRefs=be(q)},C.prototype.initFromNode=function(q,$){for(var Q in this.styleAttrs={},q.attributes)q.attributes[Q].uri!==y.ns_itts&&q.attributes[Q].uri!==y.ns_ebutts&&q.attributes[Q].uri!==y.ns_tts||(this.styleAttrs[q.attributes[Q].uri+" "+q.attributes[Q].local]=q.attributes[Q].value)},x.prototype.initFromNode=function(q,$,Q,ne,X){this.src="src"in Q.attributes?Q.attributes.src.value:null,this.src||ee(X,"Invalid image@src attribute"),this.type="type"in Q.attributes?Q.attributes.type.value:null,this.type||ee(X,"Invalid image@type attribute"),I.prototype.initFromNode.call(this,q,$,Q,X),b.prototype.initFromNode.call(this,q,$,Q,X),E.prototype.initFromNode.call(this,q,$,Q,X),S.prototype.initFromNode.call(this,q,$,Q,X),this.lang=ne},O.prototype.initFromNode=function(q,$,Q,ne){this.id=De(Q)},S.prototype.initFromNode=function(q,$,Q,ne){this.regionID=function ce(q){return q&&"region"in q.attributes?q.attributes.region.value:""}(Q)},I.prototype.initFromNode=function(q,$,Q,ne){this.styleAttrs=Oe(Q,ne),null!==q.head&&null!==q.head.styling&&at(q.head.styling,be(Q),this.styleAttrs,ne)},E.prototype.initFromNode=function(q,$,Q,ne){this.sets=[]},L.prototype.initFromNode=function(q,$,Q,ne){this.contents=[]},b.prototype.initFromNode=function(q,$,Q,ne){var X=function Ie(q,$,Q,ne){var X=null;Q&&"begin"in Q.attributes&&null===(X=pe(q.tickRate,q.effectiveFrameRate,Q.attributes.begin.value))&&Ne(ne,"Malformed begin value "+Q.attributes.begin.value+" (using 0)");var re=null;Q&&"dur"in Q.attributes&&null===(re=pe(q.tickRate,q.effectiveFrameRate,Q.attributes.dur.value))&&Ne(ne,"Malformed dur value "+Q.attributes.dur.value+" (ignoring)");var J=null;return Q&&"end"in Q.attributes&&null===(J=pe(q.tickRate,q.effectiveFrameRate,Q.attributes.end.value))&&Ne(ne,"Malformed end value (ignoring)"),{explicit_begin:X,explicit_end:J,explicit_dur:re}}(q,0,Q,ne);this.explicit_begin=X.explicit_begin,this.explicit_end=X.explicit_end,this.explicit_dur=X.explicit_dur,this.timeContainer=function Te(q,$){var Q=q&&"timeContainer"in q.attributes?q.attributes.timeContainer.value:null;return Q&&"par"!==Q?"seq"===Q?"seq":(ee($,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(Q,ne)},B.prototype.initFromNode=function(q,$,Q,ne){I.prototype.initFromNode.call(this,q,null,$,ne),b.prototype.initFromNode.call(this,q,null,$,ne),E.prototype.initFromNode.call(this,q,null,$,ne),S.prototype.initFromNode.call(this,q,null,$,ne),L.prototype.initFromNode.call(this,q,null,$,ne),this.lang=Q},Z.prototype.initFromNode=function(q,$,Q,ne,X){I.prototype.initFromNode.call(this,q,$,Q,X),b.prototype.initFromNode.call(this,q,$,Q,X),E.prototype.initFromNode.call(this,q,$,Q,X),S.prototype.initFromNode.call(this,q,$,Q,X),L.prototype.initFromNode.call(this,q,$,Q,X),this.lang=ne},oe.prototype.initFromNode=function(q,$,Q,ne,X){I.prototype.initFromNode.call(this,q,$,Q,X),b.prototype.initFromNode.call(this,q,$,Q,X),E.prototype.initFromNode.call(this,q,$,Q,X),S.prototype.initFromNode.call(this,q,$,Q,X),L.prototype.initFromNode.call(this,q,$,Q,X),this.lang=ne},le.prototype.initFromNode=function(q,$,Q,ne,X,re){I.prototype.initFromNode.call(this,q,$,Q,re),b.prototype.initFromNode.call(this,q,$,Q,re),E.prototype.initFromNode.call(this,q,$,Q,re),S.prototype.initFromNode.call(this,q,$,Q,re),L.prototype.initFromNode.call(this,q,$,Q,re),this.space=X,this.lang=ne},Re.prototype.initFromText=function(q,$,Q,ne,X,re){b.prototype.initFromNode.call(this,q,$,null,re),this.text=Q,this.space=X,this.lang=ne},Y.prototype.initFromNode=function(q,$,Q,ne,X){S.prototype.initFromNode.call(this,q,$,Q,X),b.prototype.initFromNode.call(this,q,$,Q,X),this.lang=ne},ae.prototype.createDefaultRegion=function(q){var $=new ae;return O.call($,""),I.call($,{}),E.call($,[]),b.call($,0,Number.POSITIVE_INFINITY,null),this.lang=q,$},ae.prototype.initFromNode=function(q,$,Q,ne){O.prototype.initFromNode.call(this,q,null,$,ne),b.prototype.initFromNode.call(this,q,null,$,ne),E.prototype.initFromNode.call(this,q,null,$,ne),this.styleAttrs=Oe($,ne),this.styleRefs=be($),this.lang=Q},G.prototype.initFromNode=function(q,$,Q,ne){b.prototype.initFromNode.call(this,q,$,Q,ne);var X=Oe(Q,ne);for(var re in this.qname=null,this.value=null,X)if(X.hasOwnProperty(re)){if(this.qname){ee(ne,"More than one style specified on set");break}this.qname=re,this.value=X[re]}}}(g,typeof sax>"u"?e(
/*! sax */
"./node_modules/sax/lib/sax.js"):sax,typeof imscNames>"u"?e(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?e(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?e(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/html.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/html.js ***!
                  \***********************************************/
/*! no static exports found */function(Je,g,e){!function(t,v,y){function m(Y,ae,G,De){var ce;if("region"===G.kind)(ce=document.createElement("div")).style.position="absolute";else if("body"===G.kind)ce=document.createElement("div");else if("div"===G.kind)ce=document.createElement("div");else if("image"===G.kind){if(ce=document.createElement("img"),null!==Y.imgResolver&&null!==G.src){var Te=Y.imgResolver(G.src,ce);Te&&(ce.src=Te),ce.height=Y.regionH,ce.width=Y.regionW}}else if("p"===G.kind)ce=document.createElement("p");else if("span"===G.kind)if("container"===G.styleAttrs[y.byName.ruby.qname])ce=document.createElement("ruby"),Y.ruby=!0;else if("base"===G.styleAttrs[y.byName.ruby.qname])ce=document.createElement("rb");else if("text"===G.styleAttrs[y.byName.ruby.qname])ce=document.createElement("rt");else if("baseContainer"===G.styleAttrs[y.byName.ruby.qname])ce=document.createElement("rbc");else if("textContainer"===G.styleAttrs[y.byName.ruby.qname])ce=document.createElement("rtc");else{if("delimiter"===G.styleAttrs[y.byName.ruby.qname])return;ce=document.createElement("span")}else"br"===G.kind&&(ce=document.createElement("br"));if(ce){if(G.lang&&("region"===G.kind||G.lang!==De.lang)&&(ce.lang=G.lang),ae.appendChild(ce),ce.style.margin="0","region"===G.kind){var be=G.styleAttrs[y.byName.writingMode.qname];"lrtb"===be||"lr"===be?(Y.ipd="lr",Y.bpd="tb"):"rltb"===be||"rl"===be?(Y.ipd="rl",Y.bpd="tb"):"tblr"===be?(Y.ipd="tb",Y.bpd="lr"):("tbrl"===be||"tb"===be)&&(Y.ipd="tb",Y.bpd="rl")}else"p"===G.kind&&"tb"===Y.bpd&&(Y.ipd="ltr"===G.styleAttrs[y.byName.direction.qname]?"lr":"rl");for(var ie=0;ie<E.length;ie++){var ye=E[ie],Ce=G.styleAttrs[ye.qname];void 0!==Ce&&null!==ye.map&&ye.map(Y,ce,G,Ce)}var de=ce,Me=G.styleAttrs[y.byName.linePadding.qname];if(Me&&!Me.isZero()){var pe=Me.toUsedLength(Y.w,Y.h);if(pe>0){var Ie=Math.ceil(pe)+"px";"tb"===Y.bpd?(de.style.paddingLeft=Ie,de.style.paddingRight=Ie):(de.style.paddingTop=Ie,de.style.paddingBottom=Ie),Y.lp=Me}}var Be=G.styleAttrs[y.byName.multiRowAlign.qname];if(Be&&"auto"!==Be){var at=document.createElement("span");at.style.display="inline-block",at.style.textAlign=Be,ce.appendChild(at),de=at,Y.mra=Be}var Xe=G.styleAttrs[y.byName.rubyReserve.qname];if(Xe&&"none"!==Xe[0]&&(Y.rubyReserve=Xe),G.styleAttrs[y.byName.fillLineGap.qname]&&(Y.flg=!0),"span"===G.kind&&G.text){var je=G.styleAttrs[y.byName.textEmphasis.qname];if(je&&"none"!==je.style&&(Y.textEmphasis=!0),y.byName.textCombine.qname in G.styleAttrs&&"all"===G.styleAttrs[y.byName.textCombine.qname])ce.textContent=G.text,je&&S(Y,ce,0,je);else for(var Ne="",ee=0;ee<G.text.length;ee++){Ne+=G.text.charAt(ee);var fe=G.text.charCodeAt(ee);if(fe<55296||fe>56319||ee===G.text.length-1){var we=document.createElement("span");we.textContent=Ne,je&&S(Y,we,0,je),ce.appendChild(we),Ne="",we._isd_element=G}}}if("contents"in G)for(var q=0;q<G.contents.length;q++)m(Y,de,G.contents[q],G);var $=[];if("p"===G.kind&&(R(Y,de,$,null),Y.rubyReserve&&(function p(Y,ae){for(var G=0;G<Y.length;G++){var De=document.createElement("ruby"),ce=document.createElement("rb");ce.textContent="\u200b",De.appendChild(ce);var Te,be,Oe=ae.rubyReserve[1].toUsedLength(ae.w,ae.h)+"px";"both"===ae.rubyReserve[0]||"outside"===ae.rubyReserve[0]&&1==Y.length?((Te=document.createElement("rtc")).style[Z]=B?"after":"under",Te.textContent="\u200b",Te.style.fontSize=Oe,(be=document.createElement("rtc")).style[Z]=B?"before":"over",be.textContent="\u200b",be.style.fontSize=Oe,De.appendChild(Te),De.appendChild(be)):((Te=document.createElement("rtc")).textContent="\u200b",Te.style.fontSize=Oe,Te.style[Z]="after"===ae.rubyReserve[0]||"outside"===ae.rubyReserve[0]&&G>0?B?"after":"tb"===ae.bpd||"rl"===ae.bpd?"under":"over":B?"before":"tb"===ae.bpd||"rl"===ae.bpd?"over":"under",De.appendChild(Te));for(var ye=null,Ce=0;Ce<Y[G].rbc.length;Ce++)if("ruby"===Y[G].rbc[Ce].localName){ye=Y[G].rbc[Ce];for(var de=0;de<ye.style.length;de++)De.style.setProperty(ye.style.item(de),ye.style.getPropertyValue(ye.style.item(de)));break}(ye=ye||Y[G].elements[0].node).parentElement.insertBefore(De,ye)}}($,Y),Y.rubyReserve=null),(Y.ruby||Y.rubyReserve)&&(function h(Y,ae){for(var G=0;G<Y.length;G++)for(var De=0;De<Y[G].rbc.length;De++)Y[G].rbc[De].style[Z]||(Y[G].rbc[De].style[Z]=B?0===G?"before":"after":"tb"===ae.bpd||"rl"===ae.bpd?0===G?"over":"under":0===G?"under":"over")}($,Y),Y.ruby=null),Y.textEmphasis&&(function d(Y,ae){for(var G=0;G<Y.length;G++)for(var De=0;De<Y[G].te.length;De++)Y[G].te[De].style[le]&&"none"!==Y[G].te[De].style[le]||(Y[G].te[De].style[le]="tb"===ae.bpd?0===G?"left over":"left under":"rl"===ae.bpd?0===G?"right under":"left under":0===G?"left under":"right under")}($,Y),Y.textEmphasis=null),Y.mra&&(function c(Y){for(var ae=0;ae<Y.length-1;ae++){var G=Y[ae].elements.length;if(0!==G&&!1===Y[ae].br){var De=document.createElement("br"),ce=Y[ae].elements[G-1].node;ce.parentElement.insertBefore(De,ce.nextSibling)}}}($),Y.mra=null),Y.lp&&(function i(Y,ae,G){if(null!==Y)for(var De=0;De<Y.length;De++){var ce=Y[De].elements.length,Te=Math.ceil(ae)+"px",be="-"+Math.ceil(ae)+"px";if(0!==ce){var Oe=Y[De].elements[Y[De].start_elem],ie=Y[De].elements[Y[De].end_elem];if(Oe===ie&&(elementBoundingRect=Oe.node.getBoundingClientRect(),0==elementBoundingRect.width||0==elementBoundingRect.height))continue;"lr"===G.ipd?(Oe.node.style.marginLeft=be,Oe.node.style.paddingLeft=Te):"rl"===G.ipd?(Oe.node.style.paddingRight=Te,Oe.node.style.marginRight=be):"tb"===G.ipd&&(Oe.node.style.paddingTop=Te,Oe.node.style.marginTop=be),"lr"===G.ipd?(ie.node.style.marginRight=be,ie.node.style.paddingRight=Te):"rl"===G.ipd?(ie.node.style.paddingLeft=Te,ie.node.style.marginLeft=be):"tb"===G.ipd&&(ie.node.style.paddingBottom=Te,ie.node.style.marginBottom=be)}}}($,Y.lp.toUsedLength(Y.w,Y.h),Y),Y.lp=null),function P(Y){for(var ae=0;ae<Y.length;ae++)for(var G=Y[ae],De=1;De<G.elements.length;)f(G.elements[De-1].node,G.elements[De].node)?G.elements.splice(De,1):De++;for(var be,Oe,ie=[],ye=0;ye<Y.length;ye++)for(var Ce=0;Ce<Y[ye].elements.length;Ce++)(Oe=D(be=Y[ye].elements[Ce].node,ie,!1))&&(be.style.backgroundColor=Oe);for(var de=0;de<ie.length;de++)ie[de].style.backgroundColor=""}($),Y.flg)){var Q=x(de.getBoundingClientRect(),Y);(function C(Y,ae,G,De,ce){for(var Te=Math.sign(G-ae),be=0;be<=Y.length;be++){var Oe,ie,ye,Ce;if(Oe=0===be?Math.round(ae):be===Y.length?Math.round(G):Math.round((Y[be-1].after+Y[be].before)/2),be>0&&Y[be-1])for(ye=0;ye<Y[be-1].elements.length;ye++)ie=Te*(Oe-(Ce=Y[be-1].elements[ye]).after)+"px","lr"===De.bpd?Ce.node.style.paddingRight=ie:"rl"===De.bpd?Ce.node.style.paddingLeft=ie:"tb"===De.bpd&&(Ce.node.style.paddingBottom=ie);if(be<Y.length)for(ye=0;ye<Y[be].elements.length;ye++)ie=Te*((Ce=Y[be].elements[ye]).before-Oe)+"px","lr"===De.bpd?Ce.node.style.paddingLeft=ie:"rl"===De.bpd?Ce.node.style.paddingRight=ie:"tb"===De.bpd&&(Ce.node.style.paddingTop=ie)}})($,Q.before,Q.after,Y),Y.flg=null}if("region"===G.kind&&"tb"===Y.bpd&&Y.enableRollUp&&G.contents.length>0&&"after"===G.styleAttrs[y.byName.displayAlign.qname]){R(Y,de,$,null);var X=new A(""===G.id?"_":G.id,$);if(Y.currentISDState[X.id]=X,Y.previousISDState&&X.id in Y.previousISDState&&Y.previousISDState[X.id].plist.length>0&&X.plist.length>1&&X.plist[X.plist.length-2].text===Y.previousISDState[X.id].plist[Y.previousISDState[X.id].plist.length-1].text){var re=ce.firstElementChild,J=X.plist[X.plist.length-1].after-X.plist[X.plist.length-1].before;re.style.bottom="-"+J+"px",re.style.transition="transform 0.4s",re.style.position="relative",re.style.transform="translateY(-"+J+"px)"}}}else!function Re(Y,ae){if(Y&&Y.error&&Y.error(ae))throw ae}(Y.errorHandler,"Error processing ISD element kind: "+G.kind)}function D(Y,ae,G){return Y.style.backgroundColor?(G&&!ae.includes(Y)&&ae.push(Y),Y.style.backgroundColor):"SPAN"===Y.parentElement.nodeName?D(Y.parentElement,ae,!0):void 0}function f(Y,ae){if("SPAN"===Y.tagName&&"SPAN"===ae.tagName&&Y._isd_element===ae._isd_element){Y.textContent+=ae.textContent;for(var G=0;G<ae.style.length;G++){var De=ae.style[G];(De.indexOf("border")>=0||De.indexOf("padding")>=0||De.indexOf("margin")>=0)&&(Y.style[De]=ae.style[De])}return ae.parentElement.removeChild(ae),!0}return!1}function A(Y,ae){this.id=Y,this.plist=ae}function x(Y,ae){var G={before:null,after:null,start:null,end:null};return"tb"===ae.bpd?(G.before=Y.top,G.after=Y.bottom,"lr"===ae.ipd?(G.start=Y.left,G.end=Y.right):(G.start=Y.right,G.end=Y.left)):"lr"===ae.bpd?(G.before=Y.left,G.after=Y.right,G.start=Y.top,G.end=Y.bottom):"rl"===ae.bpd&&(G.before=Y.right,G.after=Y.left,G.start=Y.top,G.end=Y.bottom),G}function R(Y,ae,G,De){if("rt"!==ae.localName&&"rtc"!==ae.localName){var ce=ae.style.backgroundColor||De;if(0===ae.childElementCount)if("span"===ae.localName||"rb"===ae.localName){var be=x(ae.getBoundingClientRect(),Y);if(0!==G.length&&function O(Y,ae,G,De){return ae<De&&Y>G||De<=ae&&G>=Y}(be.before,be.after,G[G.length-1].before,G[G.length-1].after)){var Oe=Math.sign(be.after-be.before),ie=Math.sign(be.end-be.start);Oe*(be.before-G[G.length-1].before)<0&&(G[G.length-1].before=be.before),Oe*(be.after-G[G.length-1].after)>0&&(G[G.length-1].after=be.after),ie*(be.start-G[G.length-1].start)<0&&(G[G.length-1].start=be.start,G[G.length-1].start_elem=G[G.length-1].elements.length),ie*(be.end-G[G.length-1].end)>0&&(G[G.length-1].end=be.end,G[G.length-1].end_elem=G[G.length-1].elements.length)}else G.push({before:be.before,after:be.after,start:be.start,end:be.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});G[G.length-1].text+=ae.textContent,G[G.length-1].elements.push({node:ae,bgcolor:ce,before:be.before,after:be.after})}else"br"===ae.localName&&0!==G.length&&(G[G.length-1].br=!0);else for(var ye=ae.firstChild;ye;)ye.nodeType===Node.ELEMENT_NODE&&(R(Y,ye,G,ce),"ruby"===ye.localName||"rtc"===ye.localName?G.length>0&&G[G.length-1].rbc.push(ye):"span"===ye.localName&&ye.style[oe]&&"none"!==ye.style[oe]&&G.length>0&&G[G.length-1].te.push(ye)),ye=ye.nextSibling}}function S(Y,ae,G,De){"none"!==De.style&&(ae.style[oe]="auto"===De.style?"filled":De.style+" "+De.symbol,"before"===De.position||"after"===De.position)&&(ae.style[le]="tb"===Y.bpd?"before"===De.position?"left over":"left under":"rl"===Y.bpd?"before"===De.position?"right under":"left under":"before"===De.position?"left under":"right under")}function I(Y,ae){this.qname=Y,this.map=ae}t.render=function(Y,ae,G,De,ce,Te,be,Oe,ie){var ye=De||ae.clientHeight,Ce=ce||ae.clientWidth;if(null!==Y.aspectRatio){var de=ye*Y.aspectRatio;de>Ce?ye=Math.round(Ce/Y.aspectRatio):Ce=de}var Me=document.createElement("div");Me.style.position="relative",Me.style.width=Ce+"px",Me.style.height=ye+"px",Me.style.margin="auto",Me.style.top=0,Me.style.bottom=0,Me.style.left=0,Me.style.right=0,Me.style.zIndex=0;var pe={h:ye,w:Ce,regionH:null,regionW:null,imgResolver:G,displayForcedOnlyMode:Te||!1,isd:Y,errorHandler:be,previousISDState:Oe,enableRollUp:ie||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(ae.appendChild(Me),"contents"in Y)for(var Ie=0;Ie<Y.contents.length;Ie++)m(pe,Me,Y.contents[Ie],Y);return pe.currentISDState};for(var E=[new I("http://www.w3.org/ns/ttml#styling backgroundColor",function(Y,ae,G,De){0!==De[3]&&(ae.style.backgroundColor="rgba("+De[0].toString()+","+De[1].toString()+","+De[2].toString()+","+(De[3]/255).toString()+")")}),new I("http://www.w3.org/ns/ttml#styling color",function(Y,ae,G,De){ae.style.color="rgba("+De[0].toString()+","+De[1].toString()+","+De[2].toString()+","+(De[3]/255).toString()+")"}),new I("http://www.w3.org/ns/ttml#styling direction",function(Y,ae,G,De){ae.style.direction=De}),new I("http://www.w3.org/ns/ttml#styling display",function(Y,ae,G,De){}),new I("http://www.w3.org/ns/ttml#styling displayAlign",function(Y,ae,G,De){ae.style.display="flex",ae.style.flexDirection="column","before"===De?ae.style.justifyContent="flex-start":"center"===De?ae.style.justifyContent="center":"after"===De&&(ae.style.justifyContent="flex-end")}),new I("http://www.w3.org/ns/ttml#styling extent",function(Y,ae,G,De){Y.regionH=De.h.toUsedLength(Y.w,Y.h),Y.regionW=De.w.toUsedLength(Y.w,Y.h);var ce=0,Te=0,be=G.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];be&&(ce=be[0].toUsedLength(Y.w,Y.h)+be[2].toUsedLength(Y.w,Y.h),Te=be[1].toUsedLength(Y.w,Y.h)+be[3].toUsedLength(Y.w,Y.h)),ae.style.height=Y.regionH-ce+"px",ae.style.width=Y.regionW-Te+"px"}),new I("http://www.w3.org/ns/ttml#styling fontFamily",function(Y,ae,G,De){for(var ce=[],Te=0;Te<De.length;Te++)"monospaceSerif"===De[Te]?(ce.push("Courier New"),ce.push('"Liberation Mono"'),ce.push("Courier"),ce.push("monospace")):"proportionalSansSerif"===De[Te]?(ce.push("Arial"),ce.push("Helvetica"),ce.push('"Liberation Sans"'),ce.push("sans-serif")):"monospace"===De[Te]?ce.push("monospace"):"sansSerif"===De[Te]?ce.push("sans-serif"):"serif"===De[Te]?ce.push("serif"):"monospaceSansSerif"===De[Te]?(ce.push("Consolas"),ce.push("monospace")):ce.push("proportionalSerif"===De[Te]?"serif":De[Te]);if(ce.length>0){for(var be=[ce[0]],Oe=1;Oe<ce.length;Oe++)-1==be.indexOf(ce[Oe])&&be.push(ce[Oe]);ce=be}ae.style.fontFamily=ce.join(",")}),new I("http://www.w3.org/ns/ttml#styling shear",function(Y,ae,G,De){if(0!==De){var ce=-.9*De;ae.style.transform="tb"===Y.bpd?"skewX("+ce+"deg)":"skewY("+ce+"deg)"}}),new I("http://www.w3.org/ns/ttml#styling fontSize",function(Y,ae,G,De){ae.style.fontSize=De.toUsedLength(Y.w,Y.h)+"px"}),new I("http://www.w3.org/ns/ttml#styling fontStyle",function(Y,ae,G,De){ae.style.fontStyle=De}),new I("http://www.w3.org/ns/ttml#styling fontWeight",function(Y,ae,G,De){ae.style.fontWeight=De}),new I("http://www.w3.org/ns/ttml#styling lineHeight",function(Y,ae,G,De){ae.style.lineHeight="normal"===De?"normal":De.toUsedLength(Y.w,Y.h)+"px"}),new I("http://www.w3.org/ns/ttml#styling opacity",function(Y,ae,G,De){ae.style.opacity=De}),new I("http://www.w3.org/ns/ttml#styling origin",function(Y,ae,G,De){ae.style.top=De.h.toUsedLength(Y.w,Y.h)+"px",ae.style.left=De.w.toUsedLength(Y.w,Y.h)+"px"}),new I("http://www.w3.org/ns/ttml#styling overflow",function(Y,ae,G,De){ae.style.overflow=De}),new I("http://www.w3.org/ns/ttml#styling padding",function(Y,ae,G,De){var ce=[];ce[0]=De[0].toUsedLength(Y.w,Y.h)+"px",ce[1]=De[3].toUsedLength(Y.w,Y.h)+"px",ce[2]=De[2].toUsedLength(Y.w,Y.h)+"px",ce[3]=De[1].toUsedLength(Y.w,Y.h)+"px",ae.style.padding=ce.join(" ")}),new I("http://www.w3.org/ns/ttml#styling position",function(Y,ae,G,De){ae.style.top=De.h.toUsedLength(Y.w,Y.h)+"px",ae.style.left=De.w.toUsedLength(Y.w,Y.h)+"px"}),new I("http://www.w3.org/ns/ttml#styling rubyAlign",function(Y,ae,G,De){ae.style.rubyAlign="spaceAround"===De?"space-around":"center"}),new I("http://www.w3.org/ns/ttml#styling rubyPosition",function(Y,ae,G,De){"before"!==De&&"after"!==De||(ae.parentElement.style[Z]=B?De:"tb"===Y.bpd||"rl"===Y.bpd?"before"===De?"over":"under":"before"===De?"under":"over")}),new I("http://www.w3.org/ns/ttml#styling showBackground",null),new I("http://www.w3.org/ns/ttml#styling textAlign",function(Y,ae,G,De){ae.style.textAlign="start"===De?"rl"===Y.ipd?"right":"left":"end"===De?"rl"===Y.ipd?"left":"right":De}),new I("http://www.w3.org/ns/ttml#styling textDecoration",function(Y,ae,G,De){ae.style.textDecoration=De.join(" ").replace("lineThrough","line-through")}),new I("http://www.w3.org/ns/ttml#styling textOutline",function(Y,ae,G,De){}),new I("http://www.w3.org/ns/ttml#styling textShadow",function(Y,ae,G,De){var ce=G.styleAttrs[y.byName.textOutline.qname];if("none"===De&&"none"===ce)ae.style.textShadow="";else{var Te=[];if("none"!==ce){var be="rgba("+ce.color[0].toString()+","+ce.color[1].toString()+","+ce.color[2].toString()+","+(ce.color[3]/255).toString()+")";Te.push("1px 1px 1px "+be),Te.push("-1px 1px 1px "+be),Te.push("1px -1px 1px "+be),Te.push("-1px -1px 1px "+be)}if("none"!==De)for(var Oe=0;Oe<De.length;Oe++)Te.push(De[Oe].x_off.toUsedLength(Y.w,Y.h)+"px "+De[Oe].y_off.toUsedLength(Y.w,Y.h)+"px "+De[Oe].b_radius.toUsedLength(Y.w,Y.h)+"px rgba("+De[Oe].color[0].toString()+","+De[Oe].color[1].toString()+","+De[Oe].color[2].toString()+","+(De[Oe].color[3]/255).toString()+")");ae.style.textShadow=Te.join(",")}}),new I("http://www.w3.org/ns/ttml#styling textCombine",function(Y,ae,G,De){ae.style.textCombineUpright=De}),new I("http://www.w3.org/ns/ttml#styling textEmphasis",function(Y,ae,G,De){}),new I("http://www.w3.org/ns/ttml#styling unicodeBidi",function(Y,ae,G,De){ae.style.unicodeBidi="bidiOverride"===De?"bidi-override":De}),new I("http://www.w3.org/ns/ttml#styling visibility",function(Y,ae,G,De){ae.style.visibility=De}),new I("http://www.w3.org/ns/ttml#styling wrapOption",function(Y,ae,G,De){ae.style.whiteSpace="wrap"===De?"preserve"===G.space?"pre-wrap":"normal":"preserve"===G.space?"pre":"noWrap"}),new I("http://www.w3.org/ns/ttml#styling writingMode",function(Y,ae,G,De){"lrtb"===De||"lr"===De||"rltb"===De||"rl"===De?ae.style.writingMode="horizontal-tb":"tblr"===De?ae.style.writingMode="vertical-lr":("tbrl"===De||"tb"===De)&&(ae.style.writingMode="vertical-rl")}),new I("http://www.w3.org/ns/ttml#styling zIndex",function(Y,ae,G,De){ae.style.zIndex=De}),new I("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(Y,ae,G,De){Y.displayForcedOnlyMode&&!1===De&&(ae.style.visibility="hidden")})],L={},b=0;b<E.length;b++)L[E[b].qname]=E[b];var B="webkitRubyPosition"in window.getComputedStyle(document.documentElement),Z=B?"webkitRubyPosition":"rubyPosition",oe="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",le="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"}(g,typeof imscNames>"u"?e(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?e(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?e(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/isd.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/isd.js ***!
                  \**********************************************/
/*! no static exports found */function(Je,g,e){!function(t,v,y,m){t.generateISD=function(R,O,S){var L,I=new d(R),E={},b={},B=R.head.styling.initials[y.byName.showBackground.qname],Z=R.head.styling.initials[y.byName.backgroundColor.qname];for(var oe in R.head.layout.regions)if(R.head.layout.regions.hasOwnProperty(oe)){var le=R.head.layout.regions[oe],Re=le.styleAttrs[y.byName.showBackground.qname]||B;b[le.id]=("always"===Re||void 0===Re)&&void 0!==(le.styleAttrs[y.byName.backgroundColor.qname]||Z)&&!(O<le.begin||O>=le.end)}for(var G in R.body&&R.body.regionID&&(b[R.body.regionID]=!0),L=null!==R.body?function ae(ce,Te){if(Te.contents){var Oe={};for(var ie in Te)Te.hasOwnProperty(ie)&&(Oe[ie]=Te[ie]);return Oe.contents=[],Te.contents.filter(function be(ye){return!(ce<ye.begin||ce>=ye.end)}).forEach(function(ye){var Ce=ae(ce,ye);Ce.regionID&&(b[Ce.regionID]=!0),null!==Ce&&Oe.contents.push(Ce)}),Oe}return Te}(O,R.body):null,void 0!==b[""]&&(b[""]=!0),b)if(b[G]){var De=D(R,O,R.head.layout.regions[G],L,null,"",R.head.layout.regions[G],S,E);null!==De&&I.contents.push(De.element)}return I};var P=[y.byName.color.qname,y.byName.textCombine.qname,y.byName.textDecoration.qname,y.byName.textEmphasis.qname,y.byName.textOutline.qname,y.byName.textShadow.qname];function D(R,O,S,I,E,L,b,B,Z){if(O<b.begin||O>=b.end)return null;var oe="regionID"in b&&""!==b.regionID?b.regionID:L;if(null!==E&&oe!==S.id&&(!("contents"in b)||"contents"in b&&0===b.contents.length||""!==oe))return null;var le=new h(b);if("sets"in b)for(var Re=0;Re<b.sets.length;Re++)O<b.sets[Re].begin||O>=b.sets[Re].end||(le.styleAttrs[b.sets[Re].qname]=b.sets[Re].value);var Y={};for(var ae in le.styleAttrs)if(le.styleAttrs.hasOwnProperty(ae)&&(Y[ae]=!0,"region"===le.kind&&ae===y.byName.writingMode.qname&&!(y.byName.direction.qname in le.styleAttrs))){var G=le.styleAttrs[ae];"lrtb"===G||"lr"===G?le.styleAttrs[y.byName.direction.qname]="ltr":("rltb"===G||"rl"===G)&&(le.styleAttrs[y.byName.direction.qname]="rtl")}if(null!==E)for(var De=0;De<y.all.length;De++){var ce=y.all[De];if(ce.qname===y.byName.textDecoration.qname){var Te=E.styleAttrs[ce.qname],be=le.styleAttrs[ce.qname],Oe=[];void 0===be?Oe=Te:-1===be.indexOf("none")?((-1===be.indexOf("noUnderline")&&-1!==Te.indexOf("underline")||-1!==be.indexOf("underline"))&&Oe.push("underline"),(-1===be.indexOf("noLineThrough")&&-1!==Te.indexOf("lineThrough")||-1!==be.indexOf("lineThrough"))&&Oe.push("lineThrough"),(-1===be.indexOf("noOverline")&&-1!==Te.indexOf("overline")||-1!==be.indexOf("overline"))&&Oe.push("overline")):Oe.push("none"),le.styleAttrs[ce.qname]=Oe}else if(ce.qname!==y.byName.fontSize.qname||ce.qname in le.styleAttrs||"span"!==le.kind||"textContainer"!==le.styleAttrs[y.byName.ruby.qname])if(ce.qname!==y.byName.fontSize.qname||ce.qname in le.styleAttrs||"span"!==le.kind||"text"!==le.styleAttrs[y.byName.ruby.qname])ce.inherit&&ce.qname in E.styleAttrs&&!(ce.qname in le.styleAttrs)&&(le.styleAttrs[ce.qname]=E.styleAttrs[ce.qname]);else{var ye=E.styleAttrs[y.byName.fontSize.qname];le.styleAttrs[ce.qname]="textContainer"===E.styleAttrs[y.byName.ruby.qname]?ye:new m.ComputedLength(.5*ye.rw,.5*ye.rh)}else{var ie=E.styleAttrs[y.byName.fontSize.qname];le.styleAttrs[ce.qname]=new m.ComputedLength(.5*ie.rw,.5*ie.rh)}}for(var Ce=0;Ce<y.all.length;Ce++){var de=y.all[Ce];if(!(de.qname in le.styleAttrs||de.qname===y.byName.position.qname&&y.byName.origin.qname in le.styleAttrs||de.qname===y.byName.origin.qname&&y.byName.position.qname in le.styleAttrs)){var Me=R.head.styling.initials[de.qname]||de.initial;if(null!==Me&&("region"===le.kind||!1===de.inherit&&null!==Me)){var pe=de.parse(Me);null!==pe?(le.styleAttrs[de.qname]=pe,Y[de.qname]=!0):A(B,"Invalid initial value for '"+de.qname+"' on element '"+le.kind)}}}for(var Ie=0;Ie<y.all.length;Ie++){var Be=y.all[Ie];if(Be.qname in Y&&null!==Be.compute){var at=Be.compute(R,E,le,le.styleAttrs[Be.qname],Z);null!==at?le.styleAttrs[Be.qname]=at:(le.styleAttrs[Be.qname]=Be.compute(R,E,le,Be.parse(Be.initial),Z),A(B,"Style '"+Be.qname+"' on element '"+le.kind+"' cannot be computed"))}}if("none"===le.styleAttrs[y.byName.display.qname])return null;var Xe=null;null===E?Xe=null===I?[]:[I]:"contents"in b&&(Xe=b.contents);for(var je=0;null!==Xe&&je<Xe.length;je++){var Ne=D(R,O,S,I,le,oe,Xe[je],B,Z);null!==Ne&&le.contents.push(Ne.element)}for(var ee in le.styleAttrs)if(le.styleAttrs.hasOwnProperty(ee)){var fe=!1;if("span"===le.kind){var we=le.styleAttrs[y.byName.ruby.qname];(fe=("container"===we||"textContainer"===we||"baseContainer"===we)&&-1!==P.indexOf(ee))||(fe="container"!==we&&ee===y.byName.rubyAlign.qname),fe||(fe=!("textContainer"===we||"text"===we)&&ee===y.byName.rubyPosition.qname)}if(!fe){var q=y.byQName[ee];"applies"in q&&(fe=-1===q.applies.indexOf(le.kind))}fe&&delete le.styleAttrs[ee]}var $=le.styleAttrs[y.byName.ruby.qname];if("p"===le.kind||"span"===le.kind&&("textContainer"===$||"text"===$)){var Q=[];i(le,Q),function f(R){function O(b){return"br"===b.kind||/[\r\n\t ]$/.test(b.text)}function S(b){return"br"===b.kind||"preserve"===b.space&&/^[\r\n]/.test(b.text)}for(var I,E=0;E<R.length;)if("br"!==(I=R[E]).kind&&"preserve"!==I.space){var L=I.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(L)&&(0===E||O(R[E-1]))&&(L=L.substring(1)),I.text=L,0===L.length?R.splice(E,1):E++}else E++;for(E=0;E<R.length;E++)"br"!==(I=R[E]).kind&&"preserve"!==I.space?/[ ]$/.test(I.text)&&(E===R.length-1||S(R[E+1]))&&(I.text=I.text.slice(0,-1)):E++}(Q),c(le)}return"div"===le.kind&&y.byName.backgroundImage.qname in le.styleAttrs||"br"===le.kind||"image"===le.kind||"contents"in le&&le.contents.length>0||"span"===le.kind&&null!==le.text||"region"===le.kind&&"always"===le.styleAttrs[y.byName.showBackground.qname]?{region_id:oe,element:le}:null}function i(R,O){if("contents"in R)for(var S=0;S<R.contents.length;S++){var I=R.contents[S],E=I.styleAttrs[y.byName.ruby.qname];"span"===I.kind&&("textContainer"===E||"text"===E)||("contents"in I?i(I,O):("span"===I.kind&&0!==I.text.length||"br"===I.kind)&&O.push(I))}}function c(R){if("br"===R.kind)return!1;if("text"in R)return 0===R.text.length;if("contents"in R){for(var O=R.contents.length;O--;)c(R.contents[O])&&R.contents.splice(O,1);return 0===R.contents.length}}function d(R){this.contents=[],this.aspectRatio=R.aspectRatio,this.lang=R.lang}function h(R){for(var O in this.kind=R.kind||"region",this.lang=R.lang,R.id&&(this.id=R.id),this.styleAttrs={},R.styleAttrs)R.styleAttrs.hasOwnProperty(O)&&(this.styleAttrs[O]=R.styleAttrs[O]);"src"in R&&(this.src=R.src),"type"in R&&(this.type=R.type),"text"in R?this.text=R.text:("region"===this.kind||"contents"in R)&&(this.contents=[]),"space"in R&&(this.space=R.space)}function A(R,O){if(R&&R.error&&R.error(O))throw O}}(g,typeof imscNames>"u"?e(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?e(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?e(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/main.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/main.js ***!
                  \***********************************************/
/*! no static exports found */function(Je,g,e){g.generateISD=e(
/*! ./isd */
"./node_modules/imsc/src/main/js/isd.js").generateISD,g.fromXML=e(
/*! ./doc */
"./node_modules/imsc/src/main/js/doc.js").fromXML,g.renderHTML=e(
/*! ./html */
"./node_modules/imsc/src/main/js/html.js").render},"./node_modules/imsc/src/main/js/names.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/names.js ***!
                  \************************************************/
/*! no static exports found */function(Je,g,e){var t;(t=g).ns_tt="http://www.w3.org/ns/ttml",t.ns_tts="http://www.w3.org/ns/ttml#styling",t.ns_ttp="http://www.w3.org/ns/ttml#parameter",t.ns_xml="http://www.w3.org/XML/1998/namespace",t.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",t.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",t.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",t.ns_ebutts="urn:ebu:tt:style"},"./node_modules/imsc/src/main/js/styles.js":
/*!*************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/styles.js ***!
                  \*************************************************/
/*! no static exports found */function(Je,g,e){!function(t,v,y){function m(f,i,c,d,h,p,C,A){this.name=i,this.ns=f,this.qname=f+" "+i,this.inherit=h,this.animatable=p,this.initial=c,this.applies=d,this.parse=C,this.compute=A}for(var P in t.all=[new m(v.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,y.parseColor,null),new m(v.ns_tts,"color","white",["span"],!0,!0,y.parseColor,null),new m(v.ns_tts,"direction","ltr",["p","span"],!0,!0,function(f){return f},null),new m(v.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(f){return f},null),new m(v.ns_tts,"displayAlign","before",["region"],!1,!0,function(f){return f},null),new m(v.ns_tts,"extent","auto",["tt","region"],!1,!0,function(f){if("auto"===f)return f;var i=f.split(" ");if(2!==i.length)return null;var c=y.parseLength(i[0]),d=y.parseLength(i[1]);return d&&c?{h:d,w:c}:null},function(f,i,c,d,h){var p,C;if("auto"===d)p=new y.ComputedLength(0,1);else if(null===(p=y.toComputedLength(d.h.value,d.h.unit,null,f.dimensions.h,null,f.pxLength.h)))return null;if("auto"===d)C=new y.ComputedLength(1,0);else if(null===(C=y.toComputedLength(d.w.value,d.w.unit,null,f.dimensions.w,null,f.pxLength.w)))return null;return{h:p,w:C}}),new m(v.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(f){for(var i=f.split(","),c=[],d=0;d<i.length;d++)"'"!==i[d].charAt(0)&&'"'!==i[d].charAt(0)&&"default"===i[d]?c.push("monospaceSerif"):c.push(i[d]);return c},null),new m(v.ns_tts,"shear","0%",["p"],!0,!0,y.parseLength,function(f,i,c,d){return"%"!==d.unit?null:Math.abs(d.value)>100?100*Math.sign(d.value):d.value}),new m(v.ns_tts,"fontSize","1c",["span","p"],!0,!0,y.parseLength,function(f,i,c,d,h){return y.toComputedLength(d.value,d.unit,null!==i?i.styleAttrs[t.byName.fontSize.qname]:f.cellLength.h,null!==i?i.styleAttrs[t.byName.fontSize.qname]:f.cellLength.h,f.cellLength.h,f.pxLength.h)}),new m(v.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(f){return f},null),new m(v.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(f){return f},null),new m(v.ns_tts,"lineHeight","normal",["p"],!0,!0,function(f){return"normal"===f?f:y.parseLength(f)},function(f,i,c,d,h){var p;if("normal"===d)p=d;else if(null===(p=y.toComputedLength(d.value,d.unit,c.styleAttrs[t.byName.fontSize.qname],c.styleAttrs[t.byName.fontSize.qname],f.cellLength.h,f.pxLength.h)))return null;return p}),new m(v.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new m(v.ns_tts,"origin","auto",["region"],!1,!0,function(f){if("auto"===f)return f;var i=f.split(" ");if(2!==i.length)return null;var c=y.parseLength(i[0]),d=y.parseLength(i[1]);return d&&c?{h:d,w:c}:null},function(f,i,c,d,h){var p,C;if("auto"===d)p=new y.ComputedLength(0,0);else if(null===(p=y.toComputedLength(d.h.value,d.h.unit,null,f.dimensions.h,null,f.pxLength.h)))return null;if("auto"===d)C=new y.ComputedLength(0,0);else if(null===(C=y.toComputedLength(d.w.value,d.w.unit,null,f.dimensions.w,null,f.pxLength.w)))return null;return{h:p,w:C}}),new m(v.ns_tts,"overflow","hidden",["region"],!1,!0,function(f){return f},null),new m(v.ns_tts,"padding","0px",["region"],!1,!0,function(f){var i=f.split(" ");if(i.length>4)return null;for(var c=[],d=0;d<i.length;d++){var h=y.parseLength(i[d]);if(!h)return null;c.push(h)}return c},function(f,i,c,d,h){var p;if(1===d.length)p=[d[0],d[0],d[0],d[0]];else if(2===d.length)p=[d[0],d[1],d[0],d[1]];else if(3===d.length)p=[d[0],d[1],d[2],d[1]];else{if(4!==d.length)return null;p=[d[0],d[1],d[2],d[3]]}var C=c.styleAttrs[t.byName.writingMode.qname];if("lrtb"===C||"lr"===C)p=[p[0],p[3],p[2],p[1]];else if("rltb"===C||"rl"===C)p=[p[0],p[1],p[2],p[3]];else if("tblr"===C)p=[p[3],p[0],p[1],p[2]];else{if("tbrl"!==C&&"tb"!==C)return null;p=[p[3],p[2],p[1],p[0]]}for(var A=[],x=0;x<p.length;x++)if(0===p[x].value)A[x]=new y.ComputedLength(0,0);else if(A[x]=y.toComputedLength(p[x].value,p[x].unit,c.styleAttrs[t.byName.fontSize.qname],0===x||2===x?c.styleAttrs[t.byName.extent.qname].h:c.styleAttrs[t.byName.extent.qname].w,0===x||2===x?f.cellLength.h:f.cellLength.w,0===x||2===x?f.pxLength.h:f.pxLength.w),null===A[x])return null;return A}),new m(v.ns_tts,"position","top left",["region"],!1,!0,function(f){return y.parsePosition(f)},function(f,i,c,d){var h,p;return null===(h=y.toComputedLength(d.v.offset.value,d.v.offset.unit,null,new y.ComputedLength(-c.styleAttrs[t.byName.extent.qname].h.rw,f.dimensions.h.rh-c.styleAttrs[t.byName.extent.qname].h.rh),null,f.pxLength.h))||("bottom"===d.v.edge&&(h=new y.ComputedLength(-h.rw-c.styleAttrs[t.byName.extent.qname].h.rw,f.dimensions.h.rh-h.rh-c.styleAttrs[t.byName.extent.qname].h.rh)),p=y.toComputedLength(d.h.offset.value,d.h.offset.unit,null,new y.ComputedLength(f.dimensions.w.rw-c.styleAttrs[t.byName.extent.qname].w.rw,-c.styleAttrs[t.byName.extent.qname].w.rh),null,f.pxLength.w),null===h)?null:("right"===d.h.edge&&(p=new y.ComputedLength(f.dimensions.w.rw-p.rw-c.styleAttrs[t.byName.extent.qname].w.rw,-p.rh-c.styleAttrs[t.byName.extent.qname].w.rh)),{h,w:p})}),new m(v.ns_tts,"ruby","none",["span"],!1,!0,function(f){return f},null),new m(v.ns_tts,"rubyAlign","center",["span"],!0,!0,function(f){return"center"===f||"spaceAround"===f?f:null},null),new m(v.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(f){return f},null),new m(v.ns_tts,"rubyReserve","none",["p"],!0,!0,function(f){var i=f.split(" "),c=[null,null];if(0===i.length||i.length>2)return null;if("none"!==i[0]&&"both"!==i[0]&&"after"!==i[0]&&"before"!==i[0]&&"outside"!==i[0])return null;if(c[0]=i[0],2===i.length&&"none"!==i[0]){var d=y.parseLength(i[1]);if(!d)return null;c[1]=d}return c},function(f,i,c,d,h){if("none"===d[0])return d;var p;return null===(p=null===d[1]?new y.ComputedLength(.5*c.styleAttrs[t.byName.fontSize.qname].rw,.5*c.styleAttrs[t.byName.fontSize.qname].rh):y.toComputedLength(d[1].value,d[1].unit,c.styleAttrs[t.byName.fontSize.qname],c.styleAttrs[t.byName.fontSize.qname],f.cellLength.h,f.pxLength.h))?null:[d[0],p]}),new m(v.ns_tts,"showBackground","always",["region"],!1,!0,function(f){return f},null),new m(v.ns_tts,"textAlign","start",["p"],!0,!0,function(f){return f},function(f,i,c,d,h){return"left"===d?"start":"right"===d?"end":d}),new m(v.ns_tts,"textCombine","none",["span"],!0,!0,function(f){return"none"===f||"all"===f?f:null},null),new m(v.ns_tts,"textDecoration","none",["span"],!0,!0,function(f){return f.split(" ")},null),new m(v.ns_tts,"textEmphasis","none",["span"],!0,!0,function(f){for(var i=f.split(" "),c={style:null,symbol:null,color:null,position:null},d=0;d<i.length;d++)if("none"===i[d]||"auto"===i[d])c.style=i[d];else if("filled"===i[d]||"open"===i[d])c.style=i[d];else if("circle"===i[d]||"dot"===i[d]||"sesame"===i[d])c.symbol=i[d];else if("current"===i[d])c.color=i[d];else if("outside"===i[d]||"before"===i[d]||"after"===i[d])c.position=i[d];else if(c.color=y.parseColor(i[d]),null===c.color)return null;return null==c.style&&null==c.symbol?c.style="auto":(c.symbol=c.symbol||"circle",c.style=c.style||"filled"),c.position=c.position||"outside",c.color=c.color||"current",c},null),new m(v.ns_tts,"textOutline","none",["span"],!0,!0,function(f){if("none"===f)return f;var i={},c=f.split(" ");if(0===c.length||c.length>2)return null;var d=y.parseColor(c[0]);if(i.color=d,null!==d&&c.shift(),1!==c.length)return null;var h=y.parseLength(c[0]);return h?(i.thickness=h,i):null},function(f,i,c,d,h){if("none"===d)return d;var p={};return p.color=null===d.color?c.styleAttrs[t.byName.color.qname]:d.color,p.thickness=y.toComputedLength(d.thickness.value,d.thickness.unit,c.styleAttrs[t.byName.fontSize.qname],c.styleAttrs[t.byName.fontSize.qname],f.cellLength.h,f.pxLength.h),null===p.thickness?null:p}),new m(v.ns_tts,"textShadow","none",["span"],!0,!0,y.parseTextShadow,function(f,i,c,d){if("none"===d)return d;for(var h=[],p=0;p<d.length;p++){var C={};if(C.x_off=y.toComputedLength(d[p][0].value,d[p][0].unit,null,c.styleAttrs[t.byName.fontSize.qname],null,f.pxLength.w),null===C.x_off||(C.y_off=y.toComputedLength(d[p][1].value,d[p][1].unit,null,c.styleAttrs[t.byName.fontSize.qname],null,f.pxLength.h),null===C.y_off))return null;if(null===d[p][2])C.b_radius=0;else if(C.b_radius=y.toComputedLength(d[p][2].value,d[p][2].unit,null,c.styleAttrs[t.byName.fontSize.qname],null,f.pxLength.h),null===C.b_radius)return null;C.color=null===d[p][3]?c.styleAttrs[t.byName.color.qname]:d[p][3],h.push(C)}return h}),new m(v.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(f){return f},null),new m(v.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(f){return f},null),new m(v.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(f){return f},null),new m(v.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(f){return f},null),new m(v.ns_tts,"zIndex","auto",["region"],!1,!0,function(f){var i;return"auto"===f?i=f:(i=parseInt(f),isNaN(i)&&(i=null)),i},null),new m(v.ns_ebutts,"linePadding","0c",["p"],!0,!1,y.parseLength,function(f,i,c,d,h){return y.toComputedLength(d.value,d.unit,null,null,f.cellLength.w,null)}),new m(v.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(f){return f},null),new m(v.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(f){return f},null),new m(v.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(f){return"true"===f},null),new m(v.ns_itts,"fillLineGap","false",["p"],!0,!0,function(f){return"true"===f},null)],t.byQName={},t.all)t.byQName[t.all[P].qname]=t.all[P];for(var D in t.byName={},t.all)t.byName[t.all[D].name]=t.all[D]}(g,typeof imscNames>"u"?e(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscUtils>"u"?e(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/utils.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/utils.js ***!
                  \************************************************/
/*! no static exports found */function(Je,g,e){!function(t){var v=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,y=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,m=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,P={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};t.parseColor=function(f){var i,c=null,d=P[f.toLowerCase()];return void 0!==d?c=d:null!==(i=v.exec(f))?c=[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16),void 0!==i[4]?parseInt(i[4],16):255]:null!==(i=y.exec(f))?c=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3]),255]:null!==(i=m.exec(f))&&(c=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3]),parseInt(i[4])]),c};var D=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;t.parseLength=function(f){var i,c=null;return null!==(i=D.exec(f))&&(c={value:parseFloat(i[1]),unit:i[2]}),c},t.parseTextShadow=function(f){for(var i=f.match(/([^\(,\)]|\([^\)]+\))+/g),c=[],d=0;d<i.length;d++){var h=i[d].split(" ");if(1===h.length&&"none"===h[0])return"none";if(h.length>1&&h.length<5){var p=[null,null,null,null],C=t.parseLength(h.shift());if(null===C||(p[0]=C,null===(C=t.parseLength(h.shift()))))return null;if(p[1]=C,0===h.length){c.push(p);continue}if(null!==(C=t.parseLength(h[0]))&&(p[2]=C,h.shift()),0===h.length){c.push(p);continue}var A=t.parseColor(h[0]);if(null===A)return null;p[3]=A,c.push(p)}}return c},t.parsePosition=function(f){var i=f.split(" "),c=function(R){return"center"===R||"left"===R||"top"===R||"bottom"===R||"right"===R};if(i.length>4)return null;for(var d=0;d<i.length;d++)if(!c(i[d])){var h=t.parseLength(i[d]);if(null===h)return null;i[d]=h}for(var p={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},C=0;C<i.length;){var A=i[C++];if(c(A)){var x={value:0,unit:"%"};2!==i.length&&C<i.length&&!c(i[C])&&(x=i[C++]),"right"===A?(p.h.edge=A,p.h.offset=x):"bottom"===A?(p.v.edge=A,p.v.offset=x):"left"===A?p.h.offset=x:"top"===A&&(p.v.offset=x)}else{if(1!==i.length&&2!==i.length)return null;1===C?p.h.offset=A:p.v.offset=A}}return p},t.ComputedLength=function(f,i){this.rw=f,this.rh=i},t.ComputedLength.prototype.toUsedLength=function(f,i){return f*this.rw+i*this.rh},t.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},t.toComputedLength=function(f,i,c,d,h,p){return"%"===i&&d?new t.ComputedLength(d.rw*f/100,d.rh*f/100):"em"===i&&c?new t.ComputedLength(c.rw*f,c.rh*f):"c"===i&&h?new t.ComputedLength(f*h.rw,f*h.rh):"px"===i&&p?new t.ComputedLength(f*p.rw,f*p.rh):"rh"===i?new t.ComputedLength(0,f/100):"rw"===i?new t.ComputedLength(f/100,0):null}}(g)},"./node_modules/inherits/inherits_browser.js":
/*!***************************************************!*\
                  !*** ./node_modules/inherits/inherits_browser.js ***!
                  \***************************************************/
/*! no static exports found */function(Je,g){Je.exports="function"==typeof Object.create?function(t,v){v&&(t.super_=v,t.prototype=Object.create(v.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,v){if(v){t.super_=v;var y=function(){};y.prototype=v.prototype,t.prototype=new y,t.prototype.constructor=t}}},"./node_modules/is-alphabetical/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/is-alphabetical/index.js ***!
                  \***********************************************/
/*! no static exports found */function(Je,g,e){"use strict";Je.exports=function t(v){var y="string"==typeof v?v.charCodeAt(0):v;return y>=97&&y<=122||y>=65&&y<=90}},"./node_modules/is-alphanumerical/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/is-alphanumerical/index.js ***!
                  \*************************************************/
/*! no static exports found */function(Je,g,e){"use strict";var t=e(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),v=e(
/*! is-decimal */
"./node_modules/is-decimal/index.js");Je.exports=function y(m){return t(m)||v(m)}},"./node_modules/is-decimal/index.js":
/*!******************************************!*\
                  !*** ./node_modules/is-decimal/index.js ***!
                  \******************************************/
/*! no static exports found */function(Je,g,e){"use strict";Je.exports=function t(v){var y="string"==typeof v?v.charCodeAt(0):v;return y>=48&&y<=57}},"./node_modules/isarray/index.js":
/*!***************************************!*\
                  !*** ./node_modules/isarray/index.js ***!
                  \***************************************/
/*! no static exports found */function(Je,g){var e={}.toString;Je.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},"./node_modules/path-browserify/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/path-browserify/index.js ***!
                  \***********************************************/
/*! no static exports found */function(Je,g,e){(function(t){function v(D,f){for(var i=0,c=D.length-1;c>=0;c--){var d=D[c];"."===d?D.splice(c,1):".."===d?(D.splice(c,1),i++):i&&(D.splice(c,1),i--)}if(f)for(;i--;i)D.unshift("..");return D}function m(D,f){if(D.filter)return D.filter(f);for(var i=[],c=0;c<D.length;c++)f(D[c],c,D)&&i.push(D[c]);return i}g.resolve=function(){for(var D="",f=!1,i=arguments.length-1;i>=-1&&!f;i--){var c=i>=0?arguments[i]:t.cwd();if("string"!=typeof c)throw new TypeError("Arguments to path.resolve must be strings");c&&(D=c+"/"+D,f="/"===c.charAt(0))}return(f?"/":"")+(D=v(m(D.split("/"),function(d){return!!d}),!f).join("/"))||"."},g.normalize=function(D){var f=g.isAbsolute(D),i="/"===P(D,-1);return!(D=v(m(D.split("/"),function(c){return!!c}),!f).join("/"))&&!f&&(D="."),D&&i&&(D+="/"),(f?"/":"")+D},g.isAbsolute=function(D){return"/"===D.charAt(0)},g.join=function(){var D=Array.prototype.slice.call(arguments,0);return g.normalize(m(D,function(f,i){if("string"!=typeof f)throw new TypeError("Arguments to path.join must be strings");return f}).join("/"))},g.relative=function(D,f){function i(x){for(var R=0;R<x.length&&""===x[R];R++);for(var O=x.length-1;O>=0&&""===x[O];O--);return R>O?[]:x.slice(R,O-R+1)}D=g.resolve(D).substr(1),f=g.resolve(f).substr(1);for(var c=i(D.split("/")),d=i(f.split("/")),h=Math.min(c.length,d.length),p=h,C=0;C<h;C++)if(c[C]!==d[C]){p=C;break}var A=[];for(C=p;C<c.length;C++)A.push("..");return(A=A.concat(d.slice(p))).join("/")},g.sep="/",g.delimiter=":",g.dirname=function(D){if("string"!=typeof D&&(D+=""),0===D.length)return".";for(var f=D.charCodeAt(0),i=47===f,c=-1,d=!0,h=D.length-1;h>=1;--h)if(47===(f=D.charCodeAt(h))){if(!d){c=h;break}}else d=!1;return-1===c?i?"/":".":i&&1===c?"/":D.slice(0,c)},g.basename=function(D,f){var i=function y(D){"string"!=typeof D&&(D+="");var d,f=0,i=-1,c=!0;for(d=D.length-1;d>=0;--d)if(47===D.charCodeAt(d)){if(!c){f=d+1;break}}else-1===i&&(c=!1,i=d+1);return-1===i?"":D.slice(f,i)}(D);return f&&i.substr(-1*f.length)===f&&(i=i.substr(0,i.length-f.length)),i},g.extname=function(D){"string"!=typeof D&&(D+="");for(var f=-1,i=0,c=-1,d=!0,h=0,p=D.length-1;p>=0;--p){var C=D.charCodeAt(p);if(47!==C)-1===c&&(d=!1,c=p+1),46===C?-1===f?f=p:1!==h&&(h=1):-1!==f&&(h=-1);else if(!d){i=p+1;break}}return-1===f||-1===c||0===h||1===h&&f===c-1&&f===i+1?"":D.slice(f,c)};var P=function(D,f,i){return D.substr(f,i)}}).call(this,e(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process-nextick-args/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/process-nextick-args/index.js ***!
                  \****************************************************/
/*! no static exports found */function(Je,g,e){"use strict";(function(t){Je.exports=typeof t>"u"||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?{nextTick:function v(y,m,P,D){if("function"!=typeof y)throw new TypeError('"callback" argument must be a function');var i,c,f=arguments.length;switch(f){case 0:case 1:return t.nextTick(y);case 2:return t.nextTick(function(){y.call(null,m)});case 3:return t.nextTick(function(){y.call(null,m,P)});case 4:return t.nextTick(function(){y.call(null,m,P,D)});default:for(i=new Array(f-1),c=0;c<i.length;)i[c++]=arguments[c];return t.nextTick(function(){y.apply(null,i)})}}}:t}).call(this,e(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process/browser.js":
/*!*****************************************!*\
                  !*** ./node_modules/process/browser.js ***!
                  \*****************************************/
/*! no static exports found */function(Je,g){var t,v,e=Je.exports={};function y(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}function P(x){if(t===setTimeout)return setTimeout(x,0);if((t===y||!t)&&setTimeout)return t=setTimeout,setTimeout(x,0);try{return t(x,0)}catch{try{return t.call(null,x,0)}catch{return t.call(this,x,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:y}catch{t=y}try{v="function"==typeof clearTimeout?clearTimeout:m}catch{v=m}}();var c,f=[],i=!1,d=-1;function h(){!i||!c||(i=!1,c.length?f=c.concat(f):d=-1,f.length&&p())}function p(){if(!i){var x=P(h);i=!0;for(var R=f.length;R;){for(c=f,f=[];++d<R;)c&&c[d].run();d=-1,R=f.length}c=null,i=!1,function D(x){if(v===clearTimeout)return clearTimeout(x);if((v===m||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(x);try{return v(x)}catch{try{return v.call(null,x)}catch{return v.call(this,x)}}}(x)}}function C(x,R){this.fun=x,this.array=R}function A(){}e.nextTick=function(x){var R=new Array(arguments.length-1);if(arguments.length>1)for(var O=1;O<arguments.length;O++)R[O-1]=arguments[O];f.push(new C(x,R)),1===f.length&&!i&&P(p)},C.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=A,e.addListener=A,e.once=A,e.off=A,e.removeListener=A,e.removeAllListeners=A,e.emit=A,e.prependListener=A,e.prependOnceListener=A,e.listeners=function(x){return[]},e.binding=function(x){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(x){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},"./node_modules/readable-stream/duplex-browser.js":
/*!********************************************************!*\
                  !*** ./node_modules/readable-stream/duplex-browser.js ***!
                  \********************************************************/
/*! no static exports found */function(Je,g,e){Je.exports=e(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js")},"./node_modules/readable-stream/lib/_stream_duplex.js":
/*!************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_duplex.js ***!
                  \************************************************************/
/*! no static exports found */function(Je,g,e){"use strict";var t=e(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js"),v=Object.keys||function(p){var C=[];for(var A in p)C.push(A);return C};Je.exports=c;var y=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));y.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var m=e(
/*! ./_stream_readable */
"./node_modules/readable-stream/lib/_stream_readable.js"),P=e(
/*! ./_stream_writable */
"./node_modules/readable-stream/lib/_stream_writable.js");y.inherits(c,m);for(var D=v(P.prototype),f=0;f<D.length;f++){var i=D[f];c.prototype[i]||(c.prototype[i]=P.prototype[i])}function c(p){if(!(this instanceof c))return new c(p);m.call(this,p),P.call(this,p),p&&!1===p.readable&&(this.readable=!1),p&&!1===p.writable&&(this.writable=!1),this.allowHalfOpen=!0,p&&!1===p.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||t.nextTick(h,this)}function h(p){p.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),c.prototype._destroy=function(p,C){this.push(null),this.end(),t.nextTick(C,p)}},"./node_modules/readable-stream/lib/_stream_passthrough.js":
/*!*****************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_passthrough.js ***!
                  \*****************************************************************/
/*! no static exports found */function(Je,g,e){"use strict";Je.exports=y;var t=e(
/*! ./_stream_transform */
"./node_modules/readable-stream/lib/_stream_transform.js"),v=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function y(m){if(!(this instanceof y))return new y(m);t.call(this,m)}v.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),v.inherits(y,t),y.prototype._transform=function(m,P,D){D(null,m)}},"./node_modules/readable-stream/lib/_stream_readable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_readable.js ***!
                  \**************************************************************/
/*! no static exports found */function(Je,g,e){"use strict";(function(t,v){var y=e(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");Je.exports=b;var P,m=e(
/*! isarray */
"./node_modules/isarray/index.js");b.ReadableState=L,e(
/*! events */
"./node_modules/events/events.js");var f=function(Ne,ee){return Ne.listeners(ee).length},i=e(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),c=e(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,d=t.Uint8Array||function(){};var C=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));C.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var A=e(
/*! util */
0),x=void 0;x=A&&A.debuglog?A.debuglog("stream"):function(){};var S,R=e(
/*! ./internal/streams/BufferList */
"./node_modules/readable-stream/lib/internal/streams/BufferList.js"),O=e(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");C.inherits(b,i);var I=["error","close","destroy","pause","resume"];function L(Ne,ee){var fe=ee instanceof(P=P||e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"));this.objectMode=!!(Ne=Ne||{}).objectMode,fe&&(this.objectMode=this.objectMode||!!Ne.readableObjectMode);var we=Ne.highWaterMark,q=Ne.readableHighWaterMark;this.highWaterMark=we||0===we?we:fe&&(q||0===q)?q:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new R,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Ne.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Ne.encoding&&(S||(S=e(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this.decoder=new S(Ne.encoding),this.encoding=Ne.encoding)}function b(Ne){if(P=P||e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(this instanceof b))return new b(Ne);this._readableState=new L(Ne,this),this.readable=!0,Ne&&("function"==typeof Ne.read&&(this._read=Ne.read),"function"==typeof Ne.destroy&&(this._destroy=Ne.destroy)),i.call(this)}function B(Ne,ee,fe,we,q){var Q,$=Ne._readableState;return null===ee?($.reading=!1,function G(Ne,ee){if(!ee.ended){if(ee.decoder){var fe=ee.decoder.end();fe&&fe.length&&(ee.buffer.push(fe),ee.length+=ee.objectMode?1:fe.length)}ee.ended=!0,De(Ne)}}(Ne,$)):(q||(Q=function oe(Ne,ee){var fe;return!function p(Ne){return c.isBuffer(Ne)||Ne instanceof d}(ee)&&"string"!=typeof ee&&void 0!==ee&&!Ne.objectMode&&(fe=new TypeError("Invalid non-string/buffer chunk")),fe}($,ee)),Q?Ne.emit("error",Q):$.objectMode||ee&&ee.length>0?("string"!=typeof ee&&!$.objectMode&&Object.getPrototypeOf(ee)!==c.prototype&&(ee=function h(Ne){return c.from(Ne)}(ee)),we?$.endEmitted?Ne.emit("error",new Error("stream.unshift() after end event")):Z(Ne,$,ee,!0):$.ended?Ne.emit("error",new Error("stream.push() after EOF")):($.reading=!1,$.decoder&&!fe?(ee=$.decoder.write(ee),$.objectMode||0!==ee.length?Z(Ne,$,ee,!1):Te(Ne,$)):Z(Ne,$,ee,!1))):we||($.reading=!1)),function le(Ne){return!Ne.ended&&(Ne.needReadable||Ne.length<Ne.highWaterMark||0===Ne.length)}($)}function Z(Ne,ee,fe,we){ee.flowing&&0===ee.length&&!ee.sync?(Ne.emit("data",fe),Ne.read(0)):(ee.length+=ee.objectMode?1:fe.length,we?ee.buffer.unshift(fe):ee.buffer.push(fe),ee.needReadable&&De(Ne)),Te(Ne,ee)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(Ne){this._readableState&&(this._readableState.destroyed=Ne)}}),b.prototype.destroy=O.destroy,b.prototype._undestroy=O.undestroy,b.prototype._destroy=function(Ne,ee){this.push(null),ee(Ne)},b.prototype.push=function(Ne,ee){var we,fe=this._readableState;return fe.objectMode?we=!0:"string"==typeof Ne&&((ee=ee||fe.defaultEncoding)!==fe.encoding&&(Ne=c.from(Ne,ee),ee=""),we=!0),B(this,Ne,ee,!1,we)},b.prototype.unshift=function(Ne){return B(this,Ne,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(Ne){return S||(S=e(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this._readableState.decoder=new S(Ne),this._readableState.encoding=Ne,this};var Re=8388608;function ae(Ne,ee){return Ne<=0||0===ee.length&&ee.ended?0:ee.objectMode?1:Ne!=Ne?ee.flowing&&ee.length?ee.buffer.head.data.length:ee.length:(Ne>ee.highWaterMark&&(ee.highWaterMark=function Y(Ne){return Ne>=Re?Ne=Re:(Ne--,Ne|=Ne>>>1,Ne|=Ne>>>2,Ne|=Ne>>>4,Ne|=Ne>>>8,Ne|=Ne>>>16,Ne++),Ne}(Ne)),Ne<=ee.length?Ne:ee.ended?ee.length:(ee.needReadable=!0,0))}function De(Ne){var ee=Ne._readableState;ee.needReadable=!1,ee.emittedReadable||(x("emitReadable",ee.flowing),ee.emittedReadable=!0,ee.sync?y.nextTick(ce,Ne):ce(Ne))}function ce(Ne){x("emit readable"),Ne.emit("readable"),de(Ne)}function Te(Ne,ee){ee.readingMore||(ee.readingMore=!0,y.nextTick(be,Ne,ee))}function be(Ne,ee){for(var fe=ee.length;!ee.reading&&!ee.flowing&&!ee.ended&&ee.length<ee.highWaterMark&&(x("maybeReadMore read 0"),Ne.read(0),fe!==ee.length);)fe=ee.length;ee.readingMore=!1}function ie(Ne){x("readable nexttick read 0"),Ne.read(0)}function Ce(Ne,ee){ee.reading||(x("resume read 0"),Ne.read(0)),ee.resumeScheduled=!1,ee.awaitDrain=0,Ne.emit("resume"),de(Ne),ee.flowing&&!ee.reading&&Ne.read(0)}function de(Ne){var ee=Ne._readableState;for(x("flow",ee.flowing);ee.flowing&&null!==Ne.read(););}function Me(Ne,ee){return 0===ee.length?null:(ee.objectMode?fe=ee.buffer.shift():!Ne||Ne>=ee.length?(fe=ee.decoder?ee.buffer.join(""):1===ee.buffer.length?ee.buffer.head.data:ee.buffer.concat(ee.length),ee.buffer.clear()):fe=function pe(Ne,ee,fe){var we;return Ne<ee.head.data.length?(we=ee.head.data.slice(0,Ne),ee.head.data=ee.head.data.slice(Ne)):we=Ne===ee.head.data.length?ee.shift():fe?function Ie(Ne,ee){var fe=ee.head,we=1,q=fe.data;for(Ne-=q.length;fe=fe.next;){var $=fe.data,Q=Ne>$.length?$.length:Ne;if(q+=Q===$.length?$:$.slice(0,Ne),0==(Ne-=Q)){Q===$.length?(++we,ee.head=fe.next?fe.next:ee.tail=null):(ee.head=fe,fe.data=$.slice(Q));break}++we}return ee.length-=we,q}(Ne,ee):function Be(Ne,ee){var fe=c.allocUnsafe(Ne),we=ee.head,q=1;for(we.data.copy(fe),Ne-=we.data.length;we=we.next;){var $=we.data,Q=Ne>$.length?$.length:Ne;if($.copy(fe,fe.length-Ne,0,Q),0==(Ne-=Q)){Q===$.length?(++q,ee.head=we.next?we.next:ee.tail=null):(ee.head=we,we.data=$.slice(Q));break}++q}return ee.length-=q,fe}(Ne,ee),we}(Ne,ee.buffer,ee.decoder),fe);var fe}function at(Ne){var ee=Ne._readableState;if(ee.length>0)throw new Error('"endReadable()" called on non-empty stream');ee.endEmitted||(ee.ended=!0,y.nextTick(Xe,ee,Ne))}function Xe(Ne,ee){!Ne.endEmitted&&0===Ne.length&&(Ne.endEmitted=!0,ee.readable=!1,ee.emit("end"))}function je(Ne,ee){for(var fe=0,we=Ne.length;fe<we;fe++)if(Ne[fe]===ee)return fe;return-1}b.prototype.read=function(Ne){x("read",Ne),Ne=parseInt(Ne,10);var ee=this._readableState,fe=Ne;if(0!==Ne&&(ee.emittedReadable=!1),0===Ne&&ee.needReadable&&(ee.length>=ee.highWaterMark||ee.ended))return x("read: emitReadable",ee.length,ee.ended),0===ee.length&&ee.ended?at(this):De(this),null;if(0===(Ne=ae(Ne,ee))&&ee.ended)return 0===ee.length&&at(this),null;var q,we=ee.needReadable;return x("need readable",we),(0===ee.length||ee.length-Ne<ee.highWaterMark)&&x("length less than watermark",we=!0),ee.ended||ee.reading?x("reading or ended",we=!1):we&&(x("do read"),ee.reading=!0,ee.sync=!0,0===ee.length&&(ee.needReadable=!0),this._read(ee.highWaterMark),ee.sync=!1,ee.reading||(Ne=ae(fe,ee))),null===(q=Ne>0?Me(Ne,ee):null)?(ee.needReadable=!0,Ne=0):ee.length-=Ne,0===ee.length&&(ee.ended||(ee.needReadable=!0),fe!==Ne&&ee.ended&&at(this)),null!==q&&this.emit("data",q),q},b.prototype._read=function(Ne){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(Ne,ee){var fe=this,we=this._readableState;switch(we.pipesCount){case 0:we.pipes=Ne;break;case 1:we.pipes=[we.pipes,Ne];break;default:we.pipes.push(Ne)}we.pipesCount+=1,x("pipe count=%d opts=%j",we.pipesCount,ee);var $=ee&&!1===ee.end||Ne===v.stdout||Ne===v.stderr?qe:ne;function Q(tt,gt){x("onunpipe"),tt===fe&&gt&&!1===gt.hasUnpiped&&(gt.hasUnpiped=!0,function J(){x("cleanup"),Ne.removeListener("close",Fe),Ne.removeListener("finish",ct),Ne.removeListener("drain",X),Ne.removeListener("error",Ee),Ne.removeListener("unpipe",Q),fe.removeListener("end",ne),fe.removeListener("end",qe),fe.removeListener("data",Se),re=!0,we.awaitDrain&&(!Ne._writableState||Ne._writableState.needDrain)&&X()}())}function ne(){x("onend"),Ne.end()}we.endEmitted?y.nextTick($):fe.once("end",$),Ne.on("unpipe",Q);var X=function Oe(Ne){return function(){var ee=Ne._readableState;x("pipeOnDrain",ee.awaitDrain),ee.awaitDrain&&ee.awaitDrain--,0===ee.awaitDrain&&f(Ne,"data")&&(ee.flowing=!0,de(Ne))}}(fe);Ne.on("drain",X);var re=!1;var ge=!1;function Se(tt){x("ondata"),ge=!1,!1===Ne.write(tt)&&!ge&&((1===we.pipesCount&&we.pipes===Ne||we.pipesCount>1&&-1!==je(we.pipes,Ne))&&!re&&(x("false write response, pause",fe._readableState.awaitDrain),fe._readableState.awaitDrain++,ge=!0),fe.pause())}function Ee(tt){x("onerror",tt),qe(),Ne.removeListener("error",Ee),0===f(Ne,"error")&&Ne.emit("error",tt)}function Fe(){Ne.removeListener("finish",ct),qe()}function ct(){x("onfinish"),Ne.removeListener("close",Fe),qe()}function qe(){x("unpipe"),fe.unpipe(Ne)}return fe.on("data",Se),function E(Ne,ee,fe){if("function"==typeof Ne.prependListener)return Ne.prependListener(ee,fe);Ne._events&&Ne._events[ee]?m(Ne._events[ee])?Ne._events[ee].unshift(fe):Ne._events[ee]=[fe,Ne._events[ee]]:Ne.on(ee,fe)}(Ne,"error",Ee),Ne.once("close",Fe),Ne.once("finish",ct),Ne.emit("pipe",fe),we.flowing||(x("pipe resume"),fe.resume()),Ne},b.prototype.unpipe=function(Ne){var ee=this._readableState,fe={hasUnpiped:!1};if(0===ee.pipesCount)return this;if(1===ee.pipesCount)return Ne&&Ne!==ee.pipes||(Ne||(Ne=ee.pipes),ee.pipes=null,ee.pipesCount=0,ee.flowing=!1,Ne&&Ne.emit("unpipe",this,fe)),this;if(!Ne){var we=ee.pipes,q=ee.pipesCount;ee.pipes=null,ee.pipesCount=0,ee.flowing=!1;for(var $=0;$<q;$++)we[$].emit("unpipe",this,fe);return this}var Q=je(ee.pipes,Ne);return-1===Q||(ee.pipes.splice(Q,1),ee.pipesCount-=1,1===ee.pipesCount&&(ee.pipes=ee.pipes[0]),Ne.emit("unpipe",this,fe)),this},b.prototype.addListener=b.prototype.on=function(Ne,ee){var fe=i.prototype.on.call(this,Ne,ee);if("data"===Ne)!1!==this._readableState.flowing&&this.resume();else if("readable"===Ne){var we=this._readableState;!we.endEmitted&&!we.readableListening&&(we.readableListening=we.needReadable=!0,we.emittedReadable=!1,we.reading?we.length&&De(this):y.nextTick(ie,this))}return fe},b.prototype.resume=function(){var Ne=this._readableState;return Ne.flowing||(x("resume"),Ne.flowing=!0,function ye(Ne,ee){ee.resumeScheduled||(ee.resumeScheduled=!0,y.nextTick(Ce,Ne,ee))}(this,Ne)),this},b.prototype.pause=function(){return x("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(x("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(Ne){var ee=this,fe=this._readableState,we=!1;for(var q in Ne.on("end",function(){if(x("wrapped end"),fe.decoder&&!fe.ended){var Q=fe.decoder.end();Q&&Q.length&&ee.push(Q)}ee.push(null)}),Ne.on("data",function(Q){x("wrapped data"),fe.decoder&&(Q=fe.decoder.write(Q)),fe.objectMode&&null==Q||!(fe.objectMode||Q&&Q.length)||ee.push(Q)||(we=!0,Ne.pause())}),Ne)void 0===this[q]&&"function"==typeof Ne[q]&&(this[q]=function(Q){return function(){return Ne[Q].apply(Ne,arguments)}}(q));for(var $=0;$<I.length;$++)Ne.on(I[$],this.emit.bind(this,I[$]));return this._read=function(Q){x("wrapped _read",Q),we&&(we=!1,Ne.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=Me}).call(this,e(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),e(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/readable-stream/lib/_stream_transform.js":
/*!***************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_transform.js ***!
                  \***************************************************************/
/*! no static exports found */function(Je,g,e){"use strict";Je.exports=m;var t=e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),v=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function y(f,i){var c=this._transformState;c.transforming=!1;var d=c.writecb;if(!d)return this.emit("error",new Error("write callback called multiple times"));c.writechunk=null,c.writecb=null,null!=i&&this.push(i),d(f);var h=this._readableState;h.reading=!1,(h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}function m(f){if(!(this instanceof m))return new m(f);t.call(this,f),this._transformState={afterTransform:y.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&("function"==typeof f.transform&&(this._transform=f.transform),"function"==typeof f.flush&&(this._flush=f.flush)),this.on("prefinish",P)}function P(){var f=this;"function"==typeof this._flush?this._flush(function(i,c){D(f,i,c)}):D(this,null,null)}function D(f,i,c){if(i)return f.emit("error",i);if(null!=c&&f.push(c),f._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(f._transformState.transforming)throw new Error("Calling transform done when still transforming");return f.push(null)}v.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),v.inherits(m,t),m.prototype.push=function(f,i){return this._transformState.needTransform=!1,t.prototype.push.call(this,f,i)},m.prototype._transform=function(f,i,c){throw new Error("_transform() is not implemented")},m.prototype._write=function(f,i,c){var d=this._transformState;if(d.writecb=c,d.writechunk=f,d.writeencoding=i,!d.transforming){var h=this._readableState;(d.needTransform||h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}},m.prototype._read=function(f){var i=this._transformState;null!==i.writechunk&&i.writecb&&!i.transforming?(i.transforming=!0,this._transform(i.writechunk,i.writeencoding,i.afterTransform)):i.needTransform=!0},m.prototype._destroy=function(f,i){var c=this;t.prototype._destroy.call(this,f,function(d){i(d),c.emit("close")})}},"./node_modules/readable-stream/lib/_stream_writable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_writable.js ***!
                  \**************************************************************/
/*! no static exports found */function(Je,g,e){"use strict";(function(t,v,y){var m=e(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function D(Ce){var de=this;this.next=null,this.entry=null,this.finish=function(){!function ye(Ce,de,Me){var pe=Ce.entry;for(Ce.entry=null;pe;){var Ie=pe.callback;de.pendingcb--,Ie(Me),pe=pe.next}de.corkedRequestsFree?de.corkedRequestsFree.next=Ce:de.corkedRequestsFree=Ce}(de,Ce)}}Je.exports=E;var i,f=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?v:m.nextTick;E.WritableState=S;var c=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));c.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var d={deprecate:e(
/*! util-deprecate */
"./node_modules/util-deprecate/browser.js")},h=e(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),p=e(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,C=y.Uint8Array||function(){};var I,R=e(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");function O(){}function S(Ce,de){i=i||e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js");var Me=de instanceof i;this.objectMode=!!(Ce=Ce||{}).objectMode,Me&&(this.objectMode=this.objectMode||!!Ce.writableObjectMode);var pe=Ce.highWaterMark,Ie=Ce.writableHighWaterMark;this.highWaterMark=pe||0===pe?pe:Me&&(Ie||0===Ie)?Ie:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===Ce.decodeStrings),this.defaultEncoding=Ce.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Xe){!function Y(Ce,de){var Me=Ce._writableState,pe=Me.sync,Ie=Me.writecb;if(function Re(Ce){Ce.writing=!1,Ce.writecb=null,Ce.length-=Ce.writelen,Ce.writelen=0}(Me),de)!function le(Ce,de,Me,pe,Ie){--de.pendingcb,Me?(m.nextTick(Ie,pe),m.nextTick(Oe,Ce,de),Ce._writableState.errorEmitted=!0,Ce.emit("error",pe)):(Ie(pe),Ce._writableState.errorEmitted=!0,Ce.emit("error",pe),Oe(Ce,de))}(Ce,Me,pe,de,Ie);else{var Be=ce(Me);!Be&&!Me.corked&&!Me.bufferProcessing&&Me.bufferedRequest&&De(Ce,Me),pe?f(ae,Ce,Me,Be,Ie):ae(Ce,Me,Be,Ie)}}(de,Xe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new D(this)}function E(Ce){if(i=i||e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(I.call(E,this)||this instanceof i))return new E(Ce);this._writableState=new S(Ce,this),this.writable=!0,Ce&&("function"==typeof Ce.write&&(this._write=Ce.write),"function"==typeof Ce.writev&&(this._writev=Ce.writev),"function"==typeof Ce.destroy&&(this._destroy=Ce.destroy),"function"==typeof Ce.final&&(this._final=Ce.final)),h.call(this)}function Z(Ce,de,Me,pe,Ie,Be){if(!Me){var at=function B(Ce,de,Me){return!Ce.objectMode&&!1!==Ce.decodeStrings&&"string"==typeof de&&(de=p.from(de,Me)),de}(de,pe,Ie);pe!==at&&(Me=!0,Ie="buffer",pe=at)}var Xe=de.objectMode?1:pe.length;de.length+=Xe;var je=de.length<de.highWaterMark;if(je||(de.needDrain=!0),de.writing||de.corked){var Ne=de.lastBufferedRequest;de.lastBufferedRequest={chunk:pe,encoding:Ie,isBuf:Me,callback:Be,next:null},Ne?Ne.next=de.lastBufferedRequest:de.bufferedRequest=de.lastBufferedRequest,de.bufferedRequestCount+=1}else oe(Ce,de,!1,Xe,pe,Ie,Be);return je}function oe(Ce,de,Me,pe,Ie,Be,at){de.writelen=pe,de.writecb=at,de.writing=!0,de.sync=!0,Me?Ce._writev(Ie,de.onwrite):Ce._write(Ie,Be,de.onwrite),de.sync=!1}function ae(Ce,de,Me,pe){Me||function G(Ce,de){0===de.length&&de.needDrain&&(de.needDrain=!1,Ce.emit("drain"))}(Ce,de),de.pendingcb--,pe(),Oe(Ce,de)}function De(Ce,de){de.bufferProcessing=!0;var Me=de.bufferedRequest;if(Ce._writev&&Me&&Me.next){var Ie=new Array(de.bufferedRequestCount),Be=de.corkedRequestsFree;Be.entry=Me;for(var at=0,Xe=!0;Me;)Ie[at]=Me,Me.isBuf||(Xe=!1),Me=Me.next,at+=1;Ie.allBuffers=Xe,oe(Ce,de,!0,de.length,Ie,"",Be.finish),de.pendingcb++,de.lastBufferedRequest=null,Be.next?(de.corkedRequestsFree=Be.next,Be.next=null):de.corkedRequestsFree=new D(de),de.bufferedRequestCount=0}else{for(;Me;){var je=Me.chunk;if(oe(Ce,de,!1,de.objectMode?1:je.length,je,Me.encoding,Me.callback),Me=Me.next,de.bufferedRequestCount--,de.writing)break}null===Me&&(de.lastBufferedRequest=null)}de.bufferedRequest=Me,de.bufferProcessing=!1}function ce(Ce){return Ce.ending&&0===Ce.length&&null===Ce.bufferedRequest&&!Ce.finished&&!Ce.writing}function Te(Ce,de){Ce._final(function(Me){de.pendingcb--,Me&&Ce.emit("error",Me),de.prefinished=!0,Ce.emit("prefinish"),Oe(Ce,de)})}function Oe(Ce,de){var Me=ce(de);return Me&&(function be(Ce,de){!de.prefinished&&!de.finalCalled&&("function"==typeof Ce._final?(de.pendingcb++,de.finalCalled=!0,m.nextTick(Te,Ce,de)):(de.prefinished=!0,Ce.emit("prefinish")))}(Ce,de),0===de.pendingcb&&(de.finished=!0,Ce.emit("finish"))),Me}c.inherits(E,h),S.prototype.getBuffer=function(){for(var de=this.bufferedRequest,Me=[];de;)Me.push(de),de=de.next;return Me},function(){try{Object.defineProperty(S.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(I=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(Ce){return!!I.call(this,Ce)||this===E&&Ce&&Ce._writableState instanceof S}})):I=function(Ce){return Ce instanceof this},E.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},E.prototype.write=function(Ce,de,Me){var pe=this._writableState,Ie=!1,Be=!pe.objectMode&&function x(Ce){return p.isBuffer(Ce)||Ce instanceof C}(Ce);return Be&&!p.isBuffer(Ce)&&(Ce=function A(Ce){return p.from(Ce)}(Ce)),"function"==typeof de&&(Me=de,de=null),Be?de="buffer":de||(de=pe.defaultEncoding),"function"!=typeof Me&&(Me=O),pe.ended?function L(Ce,de){var Me=new Error("write after end");Ce.emit("error",Me),m.nextTick(de,Me)}(this,Me):(Be||function b(Ce,de,Me,pe){var Ie=!0,Be=!1;return null===Me?Be=new TypeError("May not write null values to stream"):"string"!=typeof Me&&void 0!==Me&&!de.objectMode&&(Be=new TypeError("Invalid non-string/buffer chunk")),Be&&(Ce.emit("error",Be),m.nextTick(pe,Be),Ie=!1),Ie}(this,pe,Ce,Me))&&(pe.pendingcb++,Ie=Z(this,pe,Be,Ce,de,Me)),Ie},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var Ce=this._writableState;Ce.corked&&(Ce.corked--,!Ce.writing&&!Ce.corked&&!Ce.finished&&!Ce.bufferProcessing&&Ce.bufferedRequest&&De(this,Ce))},E.prototype.setDefaultEncoding=function(de){if("string"==typeof de&&(de=de.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((de+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+de);return this._writableState.defaultEncoding=de,this},Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(Ce,de,Me){Me(new Error("_write() is not implemented"))},E.prototype._writev=null,E.prototype.end=function(Ce,de,Me){var pe=this._writableState;"function"==typeof Ce?(Me=Ce,Ce=null,de=null):"function"==typeof de&&(Me=de,de=null),null!=Ce&&this.write(Ce,de),pe.corked&&(pe.corked=1,this.uncork()),!pe.ending&&!pe.finished&&function ie(Ce,de,Me){de.ending=!0,Oe(Ce,de),Me&&(de.finished?m.nextTick(Me):Ce.once("finish",Me)),de.ended=!0,Ce.writable=!1}(this,pe,Me)},Object.defineProperty(E.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(Ce){this._writableState&&(this._writableState.destroyed=Ce)}}),E.prototype.destroy=R.destroy,E.prototype._undestroy=R.undestroy,E.prototype._destroy=function(Ce,de){this.end(),de(Ce)}}).call(this,e(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),e(
/*! ./../../timers-browserify/main.js */
"./node_modules/timers-browserify/main.js").setImmediate,e(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/readable-stream/lib/internal/streams/BufferList.js":
/*!*************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/BufferList.js ***!
                  \*************************************************************************/
/*! no static exports found */function(Je,g,e){"use strict";var v=e(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,y=e(
/*! util */
1);function m(P,D,f){P.copy(D,f)}Je.exports=function(){function P(){(function t(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")})(this,P),this.head=null,this.tail=null,this.length=0}return P.prototype.push=function(f){var i={data:f,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length},P.prototype.unshift=function(f){var i={data:f,next:this.head};0===this.length&&(this.tail=i),this.head=i,++this.length},P.prototype.shift=function(){if(0!==this.length){var f=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,f}},P.prototype.clear=function(){this.head=this.tail=null,this.length=0},P.prototype.join=function(f){if(0===this.length)return"";for(var i=this.head,c=""+i.data;i=i.next;)c+=f+i.data;return c},P.prototype.concat=function(f){if(0===this.length)return v.alloc(0);if(1===this.length)return this.head.data;for(var i=v.allocUnsafe(f>>>0),c=this.head,d=0;c;)m(c.data,i,d),d+=c.data.length,c=c.next;return i},P}(),y&&y.inspect&&y.inspect.custom&&(Je.exports.prototype[y.inspect.custom]=function(){var P=y.inspect({length:this.length});return this.constructor.name+" "+P})},"./node_modules/readable-stream/lib/internal/streams/destroy.js":
/*!**********************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/destroy.js ***!
                  \**********************************************************************/
/*! no static exports found */function(Je,g,e){"use strict";var t=e(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function m(P,D){P.emit("error",D)}Je.exports={destroy:function v(P,D){var f=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(D?D(P):P&&(!this._writableState||!this._writableState.errorEmitted)&&t.nextTick(m,this,P),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(P||null,function(d){!D&&d?(t.nextTick(m,f,d),f._writableState&&(f._writableState.errorEmitted=!0)):D&&D(d)}),this)},undestroy:function y(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},"./node_modules/readable-stream/lib/internal/streams/stream-browser.js":
/*!*****************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/stream-browser.js ***!
                  \*****************************************************************************/
/*! no static exports found */function(Je,g,e){Je.exports=e(
/*! events */
"./node_modules/events/events.js").EventEmitter},"./node_modules/readable-stream/node_modules/safe-buffer/index.js":
/*!************************************************************************!*\
                  !*** ./node_modules/readable-stream/node_modules/safe-buffer/index.js ***!
                  \************************************************************************/
/*! no static exports found */function(Je,g,e){var t=e(
/*! buffer */
"./node_modules/buffer/index.js"),v=t.Buffer;function y(P,D){for(var f in P)D[f]=P[f]}function m(P,D,f){return v(P,D,f)}v.from&&v.alloc&&v.allocUnsafe&&v.allocUnsafeSlow?Je.exports=t:(y(t,g),g.Buffer=m),y(v,m),m.from=function(P,D,f){if("number"==typeof P)throw new TypeError("Argument must not be a number");return v(P,D,f)},m.alloc=function(P,D,f){if("number"!=typeof P)throw new TypeError("Argument must be a number");var i=v(P);return void 0!==D?"string"==typeof f?i.fill(D,f):i.fill(D):i.fill(0),i},m.allocUnsafe=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return v(P)},m.allocUnsafeSlow=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return t.SlowBuffer(P)}},"./node_modules/readable-stream/passthrough.js":
/*!*****************************************************!*\
                  !*** ./node_modules/readable-stream/passthrough.js ***!
                  \*****************************************************/
/*! no static exports found */function(Je,g,e){Je.exports=e(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").PassThrough},"./node_modules/readable-stream/readable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/readable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(Je,g,e){(g=Je.exports=e(
/*! ./lib/_stream_readable.js */
"./node_modules/readable-stream/lib/_stream_readable.js")).Stream=g,g.Readable=g,g.Writable=e(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js"),g.Duplex=e(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js"),g.Transform=e(
/*! ./lib/_stream_transform.js */
"./node_modules/readable-stream/lib/_stream_transform.js"),g.PassThrough=e(
/*! ./lib/_stream_passthrough.js */
"./node_modules/readable-stream/lib/_stream_passthrough.js")},"./node_modules/readable-stream/transform.js":
/*!***************************************************!*\
                  !*** ./node_modules/readable-stream/transform.js ***!
                  \***************************************************/
/*! no static exports found */function(Je,g,e){Je.exports=e(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").Transform},"./node_modules/readable-stream/writable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/writable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(Je,g,e){Je.exports=e(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js")},"./node_modules/safe-buffer/index.js":
/*!*******************************************!*\
                  !*** ./node_modules/safe-buffer/index.js ***!
                  \*******************************************/
/*! no static exports found */function(Je,g,e){var t=e(
/*! buffer */
"./node_modules/buffer/index.js"),v=t.Buffer;function y(P,D){for(var f in P)D[f]=P[f]}function m(P,D,f){return v(P,D,f)}v.from&&v.alloc&&v.allocUnsafe&&v.allocUnsafeSlow?Je.exports=t:(y(t,g),g.Buffer=m),m.prototype=Object.create(v.prototype),y(v,m),m.from=function(P,D,f){if("number"==typeof P)throw new TypeError("Argument must not be a number");return v(P,D,f)},m.alloc=function(P,D,f){if("number"!=typeof P)throw new TypeError("Argument must be a number");var i=v(P);return void 0!==D?"string"==typeof f?i.fill(D,f):i.fill(D):i.fill(0),i},m.allocUnsafe=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return v(P)},m.allocUnsafeSlow=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return t.SlowBuffer(P)}},"./node_modules/sax/lib/sax.js":
/*!*************************************!*\
                  !*** ./node_modules/sax/lib/sax.js ***!
                  \*************************************/
/*! no static exports found */function(Je,g,e){(function(t){!function(v){v.parser=function(ee,fe){return new m(ee,fe)},v.SAXParser=m,v.SAXStream=h,v.createStream=function d(ee,fe){return new h(ee,fe)},v.MAX_BUFFER_LENGTH=65536;var i,y=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function m(ee,fe){if(!(this instanceof m))return new m(ee,fe);var we=this;(function D(ee){for(var fe=0,we=y.length;fe<we;fe++)ee[y[fe]]=""})(we),we.q=we.c="",we.bufferCheckPosition=v.MAX_BUFFER_LENGTH,we.opt=fe||{},we.opt.lowercase=we.opt.lowercase||we.opt.lowercasetags,we.looseCase=we.opt.lowercase?"toLowerCase":"toUpperCase",we.tags=[],we.closed=we.closedRoot=we.sawRoot=!1,we.tag=we.error=null,we.strict=!!ee,we.noscript=!(!ee&&!we.opt.noscript),we.state=G.BEGIN,we.strictEntities=we.opt.strictEntities,we.ENTITIES=Object.create(we.strictEntities?v.XML_ENTITIES:v.ENTITIES),we.attribList=[],we.opt.xmlns&&(we.ns=Object.create(L)),we.trackPosition=!1!==we.opt.position,we.trackPosition&&(we.position=we.line=we.column=0),ce(we,"onready")}v.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(ee){function fe(){}return fe.prototype=ee,new fe}),Object.keys||(Object.keys=function(ee){var fe=[];for(var we in ee)ee.hasOwnProperty(we)&&fe.push(we);return fe}),m.prototype={end:function(){ye(this)},write:function Ne(ee){var fe=this;if(this.error)throw this.error;if(fe.closed)return ie(fe,"Cannot write after close. Assign an onready handler.");if(null===ee)return ye(fe);"object"==typeof ee&&(ee=ee.toString());for(var we=0,q="";q=je(ee,we++),fe.c=q,q;)switch(fe.trackPosition&&(fe.position++,"\n"===q?(fe.line++,fe.column=0):fe.column++),fe.state){case G.BEGIN:if(fe.state=G.BEGIN_WHITESPACE,"\ufeff"===q)continue;Xe(fe,q);continue;case G.BEGIN_WHITESPACE:Xe(fe,q);continue;case G.TEXT:if(fe.sawRoot&&!fe.closedRoot){for(var $=we-1;q&&"<"!==q&&"&"!==q;)(q=je(ee,we++))&&fe.trackPosition&&(fe.position++,"\n"===q?(fe.line++,fe.column=0):fe.column++);fe.textNode+=ee.substring($,we-1)}"<"!==q||fe.sawRoot&&fe.closedRoot&&!fe.strict?(ae(p,q)&&(!fe.sawRoot||fe.closedRoot)&&Ce(fe,"Text data outside of root node."),"&"===q?fe.state=G.TEXT_ENTITY:fe.textNode+=q):(fe.state=G.OPEN_WAKA,fe.startTagPosition=fe.position);continue;case G.SCRIPT:"<"===q?fe.state=G.SCRIPT_ENDING:fe.script+=q;continue;case G.SCRIPT_ENDING:"/"===q?fe.state=G.CLOSE_TAG:(fe.script+="<"+q,fe.state=G.SCRIPT);continue;case G.OPEN_WAKA:"!"===q?(fe.state=G.SGML_DECL,fe.sgmlDecl=""):Y(p,q)||(Y(b,q)?(fe.state=G.OPEN_TAG,fe.tagName=q):"/"===q?(fe.state=G.CLOSE_TAG,fe.tagName=""):"?"===q?(fe.state=G.PROC_INST,fe.procInstName=fe.procInstBody=""):(Ce(fe,"Unencoded <"),fe.startTagPosition+1<fe.position&&(q=new Array(fe.position-fe.startTagPosition).join(" ")+q),fe.textNode+="<"+q,fe.state=G.TEXT));continue;case G.SGML_DECL:(fe.sgmlDecl+q).toUpperCase()===O?(Te(fe,"onopencdata"),fe.state=G.CDATA,fe.sgmlDecl="",fe.cdata=""):fe.sgmlDecl+q==="--"?(fe.state=G.COMMENT,fe.comment="",fe.sgmlDecl=""):(fe.sgmlDecl+q).toUpperCase()===S?(fe.state=G.DOCTYPE,(fe.doctype||fe.sawRoot)&&Ce(fe,"Inappropriately located doctype declaration"),fe.doctype="",fe.sgmlDecl=""):">"===q?(Te(fe,"onsgmldeclaration",fe.sgmlDecl),fe.sgmlDecl="",fe.state=G.TEXT):(Y(x,q)&&(fe.state=G.SGML_DECL_QUOTED),fe.sgmlDecl+=q);continue;case G.SGML_DECL_QUOTED:q===fe.q&&(fe.state=G.SGML_DECL,fe.q=""),fe.sgmlDecl+=q;continue;case G.DOCTYPE:">"===q?(fe.state=G.TEXT,Te(fe,"ondoctype",fe.doctype),fe.doctype=!0):(fe.doctype+=q,"["===q?fe.state=G.DOCTYPE_DTD:Y(x,q)&&(fe.state=G.DOCTYPE_QUOTED,fe.q=q));continue;case G.DOCTYPE_QUOTED:fe.doctype+=q,q===fe.q&&(fe.q="",fe.state=G.DOCTYPE);continue;case G.DOCTYPE_DTD:fe.doctype+=q,"]"===q?fe.state=G.DOCTYPE:Y(x,q)&&(fe.state=G.DOCTYPE_DTD_QUOTED,fe.q=q);continue;case G.DOCTYPE_DTD_QUOTED:fe.doctype+=q,q===fe.q&&(fe.state=G.DOCTYPE_DTD,fe.q="");continue;case G.COMMENT:"-"===q?fe.state=G.COMMENT_ENDING:fe.comment+=q;continue;case G.COMMENT_ENDING:"-"===q?(fe.state=G.COMMENT_ENDED,fe.comment=Oe(fe.opt,fe.comment),fe.comment&&Te(fe,"oncomment",fe.comment),fe.comment=""):(fe.comment+="-"+q,fe.state=G.COMMENT);continue;case G.COMMENT_ENDED:">"!==q?(Ce(fe,"Malformed comment"),fe.comment+="--"+q,fe.state=G.COMMENT):fe.state=G.TEXT;continue;case G.CDATA:"]"===q?fe.state=G.CDATA_ENDING:fe.cdata+=q;continue;case G.CDATA_ENDING:"]"===q?fe.state=G.CDATA_ENDING_2:(fe.cdata+="]"+q,fe.state=G.CDATA);continue;case G.CDATA_ENDING_2:">"===q?(fe.cdata&&Te(fe,"oncdata",fe.cdata),Te(fe,"onclosecdata"),fe.cdata="",fe.state=G.TEXT):"]"===q?fe.cdata+="]":(fe.cdata+="]]"+q,fe.state=G.CDATA);continue;case G.PROC_INST:"?"===q?fe.state=G.PROC_INST_ENDING:Y(p,q)?fe.state=G.PROC_INST_BODY:fe.procInstName+=q;continue;case G.PROC_INST_BODY:if(!fe.procInstBody&&Y(p,q))continue;"?"===q?fe.state=G.PROC_INST_ENDING:fe.procInstBody+=q;continue;case G.PROC_INST_ENDING:">"===q?(Te(fe,"onprocessinginstruction",{name:fe.procInstName,body:fe.procInstBody}),fe.procInstName=fe.procInstBody="",fe.state=G.TEXT):(fe.procInstBody+="?"+q,fe.state=G.PROC_INST_BODY);continue;case G.OPEN_TAG:Y(B,q)?fe.tagName+=q:(de(fe),">"===q?Ie(fe):"/"===q?fe.state=G.OPEN_TAG_SLASH:(ae(p,q)&&Ce(fe,"Invalid character in tag name"),fe.state=G.ATTRIB));continue;case G.OPEN_TAG_SLASH:">"===q?(Ie(fe,!0),Be(fe)):(Ce(fe,"Forward-slash in opening tag not followed by >"),fe.state=G.ATTRIB);continue;case G.ATTRIB:if(Y(p,q))continue;">"===q?Ie(fe):"/"===q?fe.state=G.OPEN_TAG_SLASH:Y(b,q)?(fe.attribName=q,fe.attribValue="",fe.state=G.ATTRIB_NAME):Ce(fe,"Invalid attribute name");continue;case G.ATTRIB_NAME:"="===q?fe.state=G.ATTRIB_VALUE:">"===q?(Ce(fe,"Attribute without value"),fe.attribValue=fe.attribName,pe(fe),Ie(fe)):Y(p,q)?fe.state=G.ATTRIB_NAME_SAW_WHITE:Y(B,q)?fe.attribName+=q:Ce(fe,"Invalid attribute name");continue;case G.ATTRIB_NAME_SAW_WHITE:if("="===q)fe.state=G.ATTRIB_VALUE;else{if(Y(p,q))continue;Ce(fe,"Attribute without value"),fe.tag.attributes[fe.attribName]="",fe.attribValue="",Te(fe,"onattribute",{name:fe.attribName,value:""}),fe.attribName="",">"===q?Ie(fe):Y(b,q)?(fe.attribName=q,fe.state=G.ATTRIB_NAME):(Ce(fe,"Invalid attribute name"),fe.state=G.ATTRIB)}continue;case G.ATTRIB_VALUE:if(Y(p,q))continue;Y(x,q)?(fe.q=q,fe.state=G.ATTRIB_VALUE_QUOTED):(Ce(fe,"Unquoted attribute value"),fe.state=G.ATTRIB_VALUE_UNQUOTED,fe.attribValue=q);continue;case G.ATTRIB_VALUE_QUOTED:if(q!==fe.q){"&"===q?fe.state=G.ATTRIB_VALUE_ENTITY_Q:fe.attribValue+=q;continue}pe(fe),fe.q="",fe.state=G.ATTRIB_VALUE_CLOSED;continue;case G.ATTRIB_VALUE_CLOSED:Y(p,q)?fe.state=G.ATTRIB:">"===q?Ie(fe):"/"===q?fe.state=G.OPEN_TAG_SLASH:Y(b,q)?(Ce(fe,"No whitespace between attributes"),fe.attribName=q,fe.attribValue="",fe.state=G.ATTRIB_NAME):Ce(fe,"Invalid attribute name");continue;case G.ATTRIB_VALUE_UNQUOTED:if(ae(R,q)){"&"===q?fe.state=G.ATTRIB_VALUE_ENTITY_U:fe.attribValue+=q;continue}pe(fe),">"===q?Ie(fe):fe.state=G.ATTRIB;continue;case G.CLOSE_TAG:if(fe.tagName)">"===q?Be(fe):Y(B,q)?fe.tagName+=q:fe.script?(fe.script+="</"+fe.tagName,fe.tagName="",fe.state=G.SCRIPT):(ae(p,q)&&Ce(fe,"Invalid tagname in closing tag"),fe.state=G.CLOSE_TAG_SAW_WHITE);else{if(Y(p,q))continue;ae(b,q)?fe.script?(fe.script+="</"+q,fe.state=G.SCRIPT):Ce(fe,"Invalid tagname in closing tag."):fe.tagName=q}continue;case G.CLOSE_TAG_SAW_WHITE:if(Y(p,q))continue;">"===q?Be(fe):Ce(fe,"Invalid characters in closing tag");continue;case G.TEXT_ENTITY:case G.ATTRIB_VALUE_ENTITY_Q:case G.ATTRIB_VALUE_ENTITY_U:var ne,X;switch(fe.state){case G.TEXT_ENTITY:ne=G.TEXT,X="textNode";break;case G.ATTRIB_VALUE_ENTITY_Q:ne=G.ATTRIB_VALUE_QUOTED,X="attribValue";break;case G.ATTRIB_VALUE_ENTITY_U:ne=G.ATTRIB_VALUE_UNQUOTED,X="attribValue"}";"===q?(fe[X]+=at(fe),fe.entity="",fe.state=ne):Y(fe.entity.length?oe:Z,q)?fe.entity+=q:(Ce(fe,"Invalid character in entity name"),fe[X]+="&"+fe.entity+q,fe.entity="",fe.state=ne);continue;default:throw new Error(fe,"Unknown state: "+fe.state)}return fe.position>=fe.bufferCheckPosition&&function P(ee){for(var fe=Math.max(v.MAX_BUFFER_LENGTH,10),we=0,q=0,$=y.length;q<$;q++){var Q=ee[y[q]].length;if(Q>fe)switch(y[q]){case"textNode":be(ee);break;case"cdata":Te(ee,"oncdata",ee.cdata),ee.cdata="";break;case"script":Te(ee,"onscript",ee.script),ee.script="";break;default:ie(ee,"Max buffer length exceeded: "+y[q])}we=Math.max(we,Q)}ee.bufferCheckPosition=v.MAX_BUFFER_LENGTH-we+ee.position}(fe),fe},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function f(ee){be(ee),""!==ee.cdata&&(Te(ee,"oncdata",ee.cdata),ee.cdata=""),""!==ee.script&&(Te(ee,"onscript",ee.script),ee.script="")}(this)}};try{i=e(
/*! stream */
"./node_modules/stream-browserify/index.js").Stream}catch{i=function(){}}var c=v.EVENTS.filter(function(ee){return"error"!==ee&&"end"!==ee});function h(ee,fe){if(!(this instanceof h))return new h(ee,fe);i.apply(this),this._parser=new m(ee,fe),this.writable=!0,this.readable=!0;var we=this;this._parser.onend=function(){we.emit("end")},this._parser.onerror=function(q){we.emit("error",q),we._parser.error=null},this._decoder=null,c.forEach(function(q){Object.defineProperty(we,"on"+q,{get:function(){return we._parser["on"+q]},set:function($){if(!$)return we.removeAllListeners(q),we._parser["on"+q]=$,$;we.on(q,$)},enumerable:!0,configurable:!1})})}(h.prototype=Object.create(i.prototype,{constructor:{value:h}})).write=function(ee){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(ee)){if(!this._decoder){var fe=e(
/*! string_decoder */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder;this._decoder=new fe("utf8")}ee=this._decoder.write(ee)}return this._parser.write(ee.toString()),this.emit("data",ee),!0},h.prototype.end=function(ee){return ee&&ee.length&&this.write(ee),this._parser.end(),!0},h.prototype.on=function(ee,fe){var we=this;return!we._parser["on"+ee]&&-1!==c.indexOf(ee)&&(we._parser["on"+ee]=function(){var q=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);q.splice(0,0,ee),we.emit.apply(we,q)}),i.prototype.on.call(we,ee,fe)};var p="\r\n\t ",C="0124356789",A="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",x="'\"",R=p+">",O="[CDATA[",S="DOCTYPE",I="http://www.w3.org/XML/1998/namespace",E="http://www.w3.org/2000/xmlns/",L={xml:I,xmlns:E};p=le(p),C=le(C),A=le(A);var b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,B=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,Z=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,oe=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function le(ee){return ee.split("").reduce(function(fe,we){return fe[we]=!0,fe},{})}function Y(ee,fe){return function Re(ee){return"[object RegExp]"===Object.prototype.toString.call(ee)}(ee)?!!fe.match(ee):ee[fe]}function ae(ee,fe){return!Y(ee,fe)}x=le(x),R=le(R);var ee,fe,we,G=0;for(var De in v.STATE={BEGIN:G++,BEGIN_WHITESPACE:G++,TEXT:G++,TEXT_ENTITY:G++,OPEN_WAKA:G++,SGML_DECL:G++,SGML_DECL_QUOTED:G++,DOCTYPE:G++,DOCTYPE_QUOTED:G++,DOCTYPE_DTD:G++,DOCTYPE_DTD_QUOTED:G++,COMMENT_STARTING:G++,COMMENT:G++,COMMENT_ENDING:G++,COMMENT_ENDED:G++,CDATA:G++,CDATA_ENDING:G++,CDATA_ENDING_2:G++,PROC_INST:G++,PROC_INST_BODY:G++,PROC_INST_ENDING:G++,OPEN_TAG:G++,OPEN_TAG_SLASH:G++,ATTRIB:G++,ATTRIB_NAME:G++,ATTRIB_NAME_SAW_WHITE:G++,ATTRIB_VALUE:G++,ATTRIB_VALUE_QUOTED:G++,ATTRIB_VALUE_CLOSED:G++,ATTRIB_VALUE_UNQUOTED:G++,ATTRIB_VALUE_ENTITY_Q:G++,ATTRIB_VALUE_ENTITY_U:G++,CLOSE_TAG:G++,CLOSE_TAG_SAW_WHITE:G++,SCRIPT:G++,SCRIPT_ENDING:G++},v.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},v.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(v.ENTITIES).forEach(function(ee){var fe=v.ENTITIES[ee],we="number"==typeof fe?String.fromCharCode(fe):fe;v.ENTITIES[ee]=we}),v.STATE)v.STATE[v.STATE[De]]=De;function ce(ee,fe,we){ee[fe]&&ee[fe](we)}function Te(ee,fe,we){ee.textNode&&be(ee),ce(ee,fe,we)}function be(ee){ee.textNode=Oe(ee.opt,ee.textNode),ee.textNode&&ce(ee,"ontext",ee.textNode),ee.textNode=""}function Oe(ee,fe){return ee.trim&&(fe=fe.trim()),ee.normalize&&(fe=fe.replace(/\s+/g," ")),fe}function ie(ee,fe){return be(ee),ee.trackPosition&&(fe+="\nLine: "+ee.line+"\nColumn: "+ee.column+"\nChar: "+ee.c),fe=new Error(fe),ee.error=fe,ce(ee,"onerror",fe),ee}function ye(ee){return ee.sawRoot&&!ee.closedRoot&&Ce(ee,"Unclosed root tag"),ee.state!==G.BEGIN&&ee.state!==G.BEGIN_WHITESPACE&&ee.state!==G.TEXT&&ie(ee,"Unexpected end"),be(ee),ee.c="",ee.closed=!0,ce(ee,"onend"),m.call(ee,ee.strict,ee.opt),ee}function Ce(ee,fe){if("object"!=typeof ee||!(ee instanceof m))throw new Error("bad call to strictFail");ee.strict&&ie(ee,fe)}function de(ee){ee.strict||(ee.tagName=ee.tagName[ee.looseCase]());var fe=ee.tags[ee.tags.length-1]||ee,we=ee.tag={name:ee.tagName,attributes:{}};ee.opt.xmlns&&(we.ns=fe.ns),ee.attribList.length=0,Te(ee,"onopentagstart",we)}function Me(ee,fe){var q=ee.indexOf(":")<0?["",ee]:ee.split(":"),$=q[0],Q=q[1];return fe&&"xmlns"===ee&&($="xmlns",Q=""),{prefix:$,local:Q}}function pe(ee){if(ee.strict||(ee.attribName=ee.attribName[ee.looseCase]()),-1!==ee.attribList.indexOf(ee.attribName)||ee.tag.attributes.hasOwnProperty(ee.attribName))ee.attribName=ee.attribValue="";else{if(ee.opt.xmlns){var fe=Me(ee.attribName,!0),q=fe.local;if("xmlns"===fe.prefix)if("xml"===q&&ee.attribValue!==I)Ce(ee,"xml: prefix must be bound to "+I+"\nActual: "+ee.attribValue);else if("xmlns"===q&&ee.attribValue!==E)Ce(ee,"xmlns: prefix must be bound to "+E+"\nActual: "+ee.attribValue);else{var $=ee.tag,Q=ee.tags[ee.tags.length-1]||ee;$.ns===Q.ns&&($.ns=Object.create(Q.ns)),$.ns[q]=ee.attribValue}ee.attribList.push([ee.attribName,ee.attribValue])}else ee.tag.attributes[ee.attribName]=ee.attribValue,Te(ee,"onattribute",{name:ee.attribName,value:ee.attribValue});ee.attribName=ee.attribValue=""}}function Ie(ee,fe){if(ee.opt.xmlns){var we=ee.tag,q=Me(ee.tagName);we.prefix=q.prefix,we.local=q.local,we.uri=we.ns[q.prefix]||"",we.prefix&&!we.uri&&(Ce(ee,"Unbound namespace prefix: "+JSON.stringify(ee.tagName)),we.uri=q.prefix),we.ns&&(ee.tags[ee.tags.length-1]||ee).ns!==we.ns&&Object.keys(we.ns).forEach(function(qe){Te(ee,"onopennamespace",{prefix:qe,uri:we.ns[qe]})});for(var Q=0,ne=ee.attribList.length;Q<ne;Q++){var X=ee.attribList[Q],re=X[0],J=X[1],ge=Me(re,!0),Se=ge.prefix,Fe=""===Se?"":we.ns[Se]||"",ct={name:re,value:J,prefix:Se,local:ge.local,uri:Fe};Se&&"xmlns"!==Se&&!Fe&&(Ce(ee,"Unbound namespace prefix: "+JSON.stringify(Se)),ct.uri=Se),ee.tag.attributes[re]=ct,Te(ee,"onattribute",ct)}ee.attribList.length=0}ee.tag.isSelfClosing=!!fe,ee.sawRoot=!0,ee.tags.push(ee.tag),Te(ee,"onopentag",ee.tag),fe||(ee.state=ee.noscript||"script"!==ee.tagName.toLowerCase()?G.TEXT:G.SCRIPT,ee.tag=null,ee.tagName=""),ee.attribName=ee.attribValue="",ee.attribList.length=0}function Be(ee){if(!ee.tagName)return Ce(ee,"Weird empty close tag."),ee.textNode+="</>",void(ee.state=G.TEXT);if(ee.script){if("script"!==ee.tagName)return ee.script+="</"+ee.tagName+">",ee.tagName="",void(ee.state=G.SCRIPT);Te(ee,"onscript",ee.script),ee.script=""}var fe=ee.tags.length,we=ee.tagName;ee.strict||(we=we[ee.looseCase]());for(var q=we;fe--&&ee.tags[fe].name!==q;)Ce(ee,"Unexpected close tag");if(fe<0)return Ce(ee,"Unmatched closing tag: "+ee.tagName),ee.textNode+="</"+ee.tagName+">",void(ee.state=G.TEXT);ee.tagName=we;for(var Q=ee.tags.length;Q-- >fe;){var ne=ee.tag=ee.tags.pop();ee.tagName=ee.tag.name,Te(ee,"onclosetag",ee.tagName);var X={};for(var re in ne.ns)X[re]=ne.ns[re];ee.opt.xmlns&&ne.ns!==(ee.tags[ee.tags.length-1]||ee).ns&&Object.keys(ne.ns).forEach(function(ge){Te(ee,"onclosenamespace",{prefix:ge,uri:ne.ns[ge]})})}0===fe&&(ee.closedRoot=!0),ee.tagName=ee.attribValue=ee.attribName="",ee.attribList.length=0,ee.state=G.TEXT}function at(ee){var q,fe=ee.entity,we=fe.toLowerCase(),$="";return ee.ENTITIES[fe]?ee.ENTITIES[fe]:ee.ENTITIES[we]?ee.ENTITIES[we]:("#"===(fe=we).charAt(0)&&("x"===fe.charAt(1)?(fe=fe.slice(2),$=(q=parseInt(fe,16)).toString(16)):(fe=fe.slice(1),$=(q=parseInt(fe,10)).toString(10))),fe=fe.replace(/^0+/,""),$.toLowerCase()!==fe?(Ce(ee,"Invalid character entity"),"&"+ee.entity+";"):String.fromCodePoint(q))}function Xe(ee,fe){"<"===fe?(ee.state=G.OPEN_WAKA,ee.startTagPosition=ee.position):ae(p,fe)&&(Ce(ee,"Non-whitespace before first tag."),ee.textNode=fe,ee.state=G.TEXT)}function je(ee,fe){var we="";return fe<ee.length&&(we=ee.charAt(fe)),we}G=v.STATE,String.fromCodePoint||(ee=String.fromCharCode,fe=Math.floor,we=function(){var $=[],X=-1,re=arguments.length;if(!re)return"";for(var J="";++X<re;){var ge=Number(arguments[X]);if(!isFinite(ge)||ge<0||ge>1114111||fe(ge)!==ge)throw RangeError("Invalid code point: "+ge);ge<=65535?$.push(ge):$.push(55296+((ge-=65536)>>10),ge%1024+56320),(X+1===re||$.length>16384)&&(J+=ee.apply(null,$),$.length=0)}return J},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:we,configurable:!0,writable:!0}):String.fromCodePoint=we)}(g)}).call(this,e(
/*! ./../../buffer/index.js */
"./node_modules/buffer/index.js").Buffer)},"./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
                  !*** ./node_modules/setimmediate/setImmediate.js ***!
                  \***************************************************/
/*! no static exports found */function(Je,g,e){(function(t,v){!function(y,m){"use strict";if(!y.setImmediate){var c,P=1,D={},f=!1,i=y.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(y);E=E&&E.setTimeout?E:y,"[object process]"==={}.toString.call(y.process)?function A(){c=function(L){v.nextTick(function(){C(L)})}}():function x(){if(y.postMessage&&!y.importScripts){var L=!0,b=y.onmessage;return y.onmessage=function(){L=!1},y.postMessage("","*"),y.onmessage=b,L}}()?function R(){var L="setImmediate$"+Math.random()+"$",b=function(B){B.source===y&&"string"==typeof B.data&&0===B.data.indexOf(L)&&C(+B.data.slice(L.length))};y.addEventListener?y.addEventListener("message",b,!1):y.attachEvent("onmessage",b),c=function(B){y.postMessage(L+B,"*")}}():y.MessageChannel?function O(){var L=new MessageChannel;L.port1.onmessage=function(b){C(b.data)},c=function(b){L.port2.postMessage(b)}}():i&&"onreadystatechange"in i.createElement("script")?function S(){var L=i.documentElement;c=function(b){var B=i.createElement("script");B.onreadystatechange=function(){C(b),B.onreadystatechange=null,L.removeChild(B),B=null},L.appendChild(B)}}():function I(){c=function(L){setTimeout(C,0,L)}}(),E.setImmediate=function d(L){"function"!=typeof L&&(L=new Function(""+L));for(var b=new Array(arguments.length-1),B=0;B<b.length;B++)b[B]=arguments[B+1];return D[P]={callback:L,args:b},c(P),P++},E.clearImmediate=h}function h(L){delete D[L]}function C(L){if(f)setTimeout(C,0,L);else{var b=D[L];if(b){f=!0;try{!function p(L){var b=L.callback,B=L.args;switch(B.length){case 0:b();break;case 1:b(B[0]);break;case 2:b(B[0],B[1]);break;case 3:b(B[0],B[1],B[2]);break;default:b.apply(m,B)}}(b)}finally{h(L),f=!1}}}}}(typeof self>"u"?typeof t>"u"?this:t:self)}).call(this,e(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),e(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/stream-browserify/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/stream-browserify/index.js ***!
                  \*************************************************/
/*! no static exports found */function(Je,g,e){Je.exports=y;var t=e(
/*! events */
"./node_modules/events/events.js").EventEmitter;function y(){t.call(this)}e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js")(y,t),y.Readable=e(
/*! readable-stream/readable.js */
"./node_modules/readable-stream/readable-browser.js"),y.Writable=e(
/*! readable-stream/writable.js */
"./node_modules/readable-stream/writable-browser.js"),y.Duplex=e(
/*! readable-stream/duplex.js */
"./node_modules/readable-stream/duplex-browser.js"),y.Transform=e(
/*! readable-stream/transform.js */
"./node_modules/readable-stream/transform.js"),y.PassThrough=e(
/*! readable-stream/passthrough.js */
"./node_modules/readable-stream/passthrough.js"),y.Stream=y,y.prototype.pipe=function(m,P){var D=this;function f(A){m.writable&&!1===m.write(A)&&D.pause&&D.pause()}function i(){D.readable&&D.resume&&D.resume()}D.on("data",f),m.on("drain",i),!m._isStdio&&(!P||!1!==P.end)&&(D.on("end",d),D.on("close",h));var c=!1;function d(){c||(c=!0,m.end())}function h(){c||(c=!0,"function"==typeof m.destroy&&m.destroy())}function p(A){if(C(),0===t.listenerCount(this,"error"))throw A}function C(){D.removeListener("data",f),m.removeListener("drain",i),D.removeListener("end",d),D.removeListener("close",h),D.removeListener("error",p),m.removeListener("error",p),D.removeListener("end",C),D.removeListener("close",C),m.removeListener("close",C)}return D.on("error",p),m.on("error",p),D.on("end",C),D.on("close",C),m.on("close",C),m.emit("pipe",D),m}},"./node_modules/string_decoder/lib/string_decoder.js":
/*!***********************************************************!*\
                  !*** ./node_modules/string_decoder/lib/string_decoder.js ***!
                  \***********************************************************/
/*! no static exports found */function(Je,g,e){"use strict";var t=e(
/*! safe-buffer */
"./node_modules/safe-buffer/index.js").Buffer,v=t.isEncoding||function(S){switch((S=""+S)&&S.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function P(S){var I;switch(this.encoding=function m(S){var I=function y(S){if(!S)return"utf8";for(var I;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(I)return;S=(""+S).toLowerCase(),I=!0}}(S);if("string"!=typeof I&&(t.isEncoding===v||!v(S)))throw new Error("Unknown encoding: "+S);return I||S}(S),this.encoding){case"utf16le":this.text=p,this.end=C,I=4;break;case"utf8":this.fillLast=c,I=4;break;case"base64":this.text=A,this.end=x,I=3;break;default:return this.write=R,void(this.end=O)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(I)}function D(S){return S<=127?0:S>>5==6?2:S>>4==14?3:S>>3==30?4:S>>6==2?-1:-2}function c(S){var I=this.lastTotal-this.lastNeed,E=function i(S,I,E){if(128!=(192&I[0]))return S.lastNeed=0,"\ufffd";if(S.lastNeed>1&&I.length>1){if(128!=(192&I[1]))return S.lastNeed=1,"\ufffd";if(S.lastNeed>2&&I.length>2&&128!=(192&I[2]))return S.lastNeed=2,"\ufffd"}}(this,S);return void 0!==E?E:this.lastNeed<=S.length?(S.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(S.copy(this.lastChar,I,0,S.length),void(this.lastNeed-=S.length))}function p(S,I){if((S.length-I)%2==0){var E=S.toString("utf16le",I);if(E){var L=E.charCodeAt(E.length-1);if(L>=55296&&L<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1],E.slice(0,-1)}return E}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=S[S.length-1],S.toString("utf16le",I,S.length-1)}function C(S){var I=S&&S.length?this.write(S):"";return this.lastNeed?I+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):I}function A(S,I){var E=(S.length-I)%3;return 0===E?S.toString("base64",I):(this.lastNeed=3-E,this.lastTotal=3,1===E?this.lastChar[0]=S[S.length-1]:(this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1]),S.toString("base64",I,S.length-E))}function x(S){var I=S&&S.length?this.write(S):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function R(S){return S.toString(this.encoding)}function O(S){return S&&S.length?this.write(S):""}g.StringDecoder=P,P.prototype.write=function(S){if(0===S.length)return"";var I,E;if(this.lastNeed){if(void 0===(I=this.fillLast(S)))return"";E=this.lastNeed,this.lastNeed=0}else E=0;return E<S.length?I?I+this.text(S,E):this.text(S,E):I||""},P.prototype.end=function h(S){var I=S&&S.length?this.write(S):"";return this.lastNeed?I+"\ufffd":I},P.prototype.text=function d(S,I){var E=function f(S,I,E){var L=I.length-1;if(L<E)return 0;var b=D(I[L]);return b>=0?(b>0&&(S.lastNeed=b-1),b):--L<E||-2===b?0:(b=D(I[L]))>=0?(b>0&&(S.lastNeed=b-2),b):--L<E||-2===b?0:(b=D(I[L]))>=0?(b>0&&(2===b?b=0:S.lastNeed=b-3),b):0}(this,S,I);if(!this.lastNeed)return S.toString("utf8",I);this.lastTotal=E;var L=S.length-(E-this.lastNeed);return S.copy(this.lastChar,0,L),S.toString("utf8",I,L)},P.prototype.fillLast=function(S){if(this.lastNeed<=S.length)return S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,S.length),this.lastNeed-=S.length}},"./node_modules/timers-browserify/main.js":
/*!************************************************!*\
                  !*** ./node_modules/timers-browserify/main.js ***!
                  \************************************************/
/*! no static exports found */function(Je,g,e){(function(t){var v=typeof t<"u"&&t||typeof self<"u"&&self||window,y=Function.prototype.apply;function m(P,D){this._id=P,this._clearFn=D}g.setTimeout=function(){return new m(y.call(setTimeout,v,arguments),clearTimeout)},g.setInterval=function(){return new m(y.call(setInterval,v,arguments),clearInterval)},g.clearTimeout=g.clearInterval=function(P){P&&P.close()},m.prototype.unref=m.prototype.ref=function(){},m.prototype.close=function(){this._clearFn.call(v,this._id)},g.enroll=function(P,D){clearTimeout(P._idleTimeoutId),P._idleTimeout=D},g.unenroll=function(P){clearTimeout(P._idleTimeoutId),P._idleTimeout=-1},g._unrefActive=g.active=function(P){clearTimeout(P._idleTimeoutId);var D=P._idleTimeout;D>=0&&(P._idleTimeoutId=setTimeout(function(){P._onTimeout&&P._onTimeout()},D))},e(
/*! setimmediate */
"./node_modules/setimmediate/setImmediate.js"),g.setImmediate=typeof self<"u"&&self.setImmediate||typeof t<"u"&&t.setImmediate||this&&this.setImmediate,g.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof t<"u"&&t.clearImmediate||this&&this.clearImmediate}).call(this,e(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/ua-parser-js/src/ua-parser.js":
/*!****************************************************!*\
                  !*** ./node_modules/ua-parser-js/src/ua-parser.js ***!
                  \****************************************************/
/*! no static exports found */function(Je,g,e){var t;!function(v,y){"use strict";var f="function",i="undefined",c="object",d="string",p="model",C="name",A="type",x="vendor",R="version",O="architecture",S="console",I="mobile",E="tablet",L="smarttv",b="wearable",B="embedded",oe="Amazon",le="Apple",Y="BlackBerry",ae="Browser",G="Chrome",ce="Firefox",Te="Google",ie="Microsoft",ye="Motorola",Ce="Opera",de="Samsung",pe="Sony",Ie="Xiaomi",Be="Zebra",at="Facebook",je=function(Se){for(var Ee={},Fe=0;Fe<Se.length;Fe++)Ee[Se[Fe].toUpperCase()]=Se[Fe];return Ee},Ne=function(Se,Ee){return typeof Se===d&&-1!==ee(Ee).indexOf(ee(Se))},ee=function(Se){return Se.toLowerCase()},we=function(Se,Ee){if(typeof Se===d)return Se=Se.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof Ee===i?Se:Se.substring(0,350)},q=function(Se,Ee){for(var ct,qe,tt,gt,Qe,yt,Fe=0;Fe<Ee.length&&!Qe;){var Et=Ee[Fe],me=Ee[Fe+1];for(ct=qe=0;ct<Et.length&&!Qe;)if(Qe=Et[ct++].exec(Se))for(tt=0;tt<me.length;tt++)yt=Qe[++qe],typeof(gt=me[tt])===c&&gt.length>0?2===gt.length?this[gt[0]]=typeof gt[1]==f?gt[1].call(this,yt):gt[1]:3===gt.length?this[gt[0]]=typeof gt[1]!==f||gt[1].exec&&gt[1].test?yt?yt.replace(gt[1],gt[2]):y:yt?gt[1].call(this,yt,gt[2]):y:4===gt.length&&(this[gt[0]]=yt?gt[3].call(this,yt.replace(gt[1],gt[2])):y):this[gt]=yt||y;Fe+=2}},$=function(Se,Ee){for(var Fe in Ee)if(typeof Ee[Fe]===c&&Ee[Fe].length>0){for(var ct=0;ct<Ee[Fe].length;ct++)if(Ne(Ee[Fe][ct],Se))return"?"===Fe?y:Fe}else if(Ne(Ee[Fe],Se))return"?"===Fe?y:Fe;return Se},ne={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[R,[C,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[R,[C,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[C,R],[/opios[\/ ]+([\w\.]+)/i],[R,[C,Ce+" Mini"]],[/\bopr\/([\w\.]+)/i],[R,[C,Ce]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[C,R],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[R,[C,"UC"+ae]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[R,[C,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[R,[C,"WeChat"]],[/konqueror\/([\w\.]+)/i],[R,[C,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[R,[C,"IE"]],[/yabrowser\/([\w\.]+)/i],[R,[C,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[C,/(.+)/,"$1 Secure "+ae],R],[/\bfocus\/([\w\.]+)/i],[R,[C,ce+" Focus"]],[/\bopt\/([\w\.]+)/i],[R,[C,Ce+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[R,[C,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[R,[C,"Dolphin"]],[/coast\/([\w\.]+)/i],[R,[C,Ce+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[R,[C,"MIUI "+ae]],[/fxios\/([-\w\.]+)/i],[R,[C,ce]],[/\bqihu|(qi?ho?o?|360)browser/i],[[C,"360 "+ae]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[C,/(.+)/,"$1 "+ae],R],[/(comodo_dragon)\/([\w\.]+)/i],[[C,/_/g," "],R],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[C,R],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[C],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[C,at],R],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[C,R],[/\bgsa\/([\w\.]+) .*safari\//i],[R,[C,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[R,[C,G+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[C,G+" WebView"],R],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[R,[C,"Android "+ae]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[C,R],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[R,[C,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[R,C],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[C,[R,$,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[C,R],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[C,"Netscape"],R],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[R,[C,ce+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[C,R]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[O,"amd64"]],[/(ia32(?=;))/i],[[O,ee]],[/((?:i[346]|x)86)[;\)]/i],[[O,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[O,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[O,"armhf"]],[/windows (ce|mobile); ppc;/i],[[O,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[O,/ower/,"",ee]],[/(sun4\w)[;\)]/i],[[O,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[O,ee]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[x,de],[A,E]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[p,[x,de],[A,I]],[/\((ip(?:hone|od)[\w ]*);/i],[p,[x,le],[A,I]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[x,le],[A,E]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[x,"Huawei"],[A,E]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[p,[x,"Huawei"],[A,I]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[p,/_/g," "],[x,Ie],[A,I]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[x,Ie],[A,E]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[x,"OPPO"],[A,I]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[x,"Vivo"],[A,I]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[p,[x,"Realme"],[A,I]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[x,ye],[A,I]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[x,ye],[A,E]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[x,"LG"],[A,E]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[x,"LG"],[A,I]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[x,"Lenovo"],[A,E]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[x,"Nokia"],[A,I]],[/(pixel c)\b/i],[p,[x,Te],[A,E]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[x,Te],[A,I]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[x,pe],[A,I]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[x,pe],[A,E]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[x,"OnePlus"],[A,I]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[x,oe],[A,E]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[x,oe],[A,I]],[/(playbook);[-\w\),; ]+(rim)/i],[p,x,[A,E]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[x,Y],[A,I]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[x,"ASUS"],[A,E]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[x,"ASUS"],[A,I]],[/(nexus 9)/i],[p,[x,"HTC"],[A,E]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[x,[p,/_/g," "],[A,I]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[x,"Acer"],[A,E]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[x,"Meizu"],[A,I]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[x,"Sharp"],[A,I]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[x,p,[A,I]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[x,p,[A,E]],[/(surface duo)/i],[p,[x,ie],[A,E]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[x,"Fairphone"],[A,I]],[/(u304aa)/i],[p,[x,"AT&T"],[A,I]],[/\bsie-(\w*)/i],[p,[x,"Siemens"],[A,I]],[/\b(rct\w+) b/i],[p,[x,"RCA"],[A,E]],[/\b(venue[\d ]{2,7}) b/i],[p,[x,"Dell"],[A,E]],[/\b(q(?:mv|ta)\w+) b/i],[p,[x,"Verizon"],[A,E]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[x,"Barnes & Noble"],[A,E]],[/\b(tm\d{3}\w+) b/i],[p,[x,"NuVision"],[A,E]],[/\b(k88) b/i],[p,[x,"ZTE"],[A,E]],[/\b(nx\d{3}j) b/i],[p,[x,"ZTE"],[A,I]],[/\b(gen\d{3}) b.+49h/i],[p,[x,"Swiss"],[A,I]],[/\b(zur\d{3}) b/i],[p,[x,"Swiss"],[A,E]],[/\b((zeki)?tb.*\b) b/i],[p,[x,"Zeki"],[A,E]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[x,"Dragon Touch"],p,[A,E]],[/\b(ns-?\w{0,9}) b/i],[p,[x,"Insignia"],[A,E]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[x,"NextBook"],[A,E]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[x,"Voice"],p,[A,I]],[/\b(lvtel\-)?(v1[12]) b/i],[[x,"LvTel"],p,[A,I]],[/\b(ph-1) /i],[p,[x,"Essential"],[A,I]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[x,"Envizen"],[A,E]],[/\b(trio[-\w\. ]+) b/i],[p,[x,"MachSpeed"],[A,E]],[/\btu_(1491) b/i],[p,[x,"Rotor"],[A,E]],[/(shield[\w ]+) b/i],[p,[x,"Nvidia"],[A,E]],[/(sprint) (\w+)/i],[x,p,[A,I]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[x,ie],[A,I]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[x,Be],[A,E]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[x,Be],[A,I]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[x,p,[A,S]],[/droid.+; (shield) bui/i],[p,[x,"Nvidia"],[A,S]],[/(playstation [345portablevi]+)/i],[p,[x,pe],[A,S]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[x,ie],[A,S]],[/smart-tv.+(samsung)/i],[x,[A,L]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[x,de],[A,L]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[x,"LG"],[A,L]],[/(apple) ?tv/i],[x,[p,le+" TV"],[A,L]],[/crkey/i],[[p,G+"cast"],[x,Te],[A,L]],[/droid.+aft(\w)( bui|\))/i],[p,[x,oe],[A,L]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[p,[x,"Sharp"],[A,L]],[/(bravia[\w ]+)( bui|\))/i],[p,[x,pe],[A,L]],[/(mitv-\w{5}) bui/i],[p,[x,Ie],[A,L]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[x,we],[p,we],[A,L]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[A,L]],[/((pebble))app/i],[x,p,[A,b]],[/droid.+; (glass) \d/i],[p,[x,Te],[A,b]],[/droid.+; (wt63?0{2,3})\)/i],[p,[x,Be],[A,b]],[/(quest( 2)?)/i],[p,[x,at],[A,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[x,[A,B]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[p,[A,I]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[A,E]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[A,E]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[A,I]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[x,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[R,[C,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[R,[C,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[C,R],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[R,C]],os:[[/microsoft (windows) (vista|xp)/i],[C,R],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[C,[R,$,ne]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[C,"Windows"],[R,$,ne]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[R,/_/g,"."],[C,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[C,"Mac OS"],[R,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[R,C],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[C,R],[/\(bb(10);/i],[R,[C,Y]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[R,[C,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[R,[C,ce+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[R,[C,"webOS"]],[/crkey\/([\d\.]+)/i],[R,[C,G+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[C,"Chromium OS"],R],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[C,R],[/(sunos) ?([\w\.\d]*)/i],[[C,"Solaris"],R],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[C,R]]},re=function(Se,Ee){if(typeof Se===c&&(Ee=Se,Se=y),!(this instanceof re))return new re(Se,Ee).getResult();var Fe=Se||(typeof v!==i&&v.navigator&&v.navigator.userAgent?v.navigator.userAgent:""),ct=Ee?function(Se,Ee){var Fe={};for(var ct in Se)Fe[ct]=Ee[ct]&&Ee[ct].length%2==0?Ee[ct].concat(Se[ct]):Se[ct];return Fe}(X,Ee):X;return this.getBrowser=function(){var qe={};return qe[C]=y,qe[R]=y,q.call(qe,Fe,ct.browser),qe.major=function(Se){return typeof Se===d?Se.replace(/[^\d\.]/g,"").split(".")[0]:y}(qe.version),qe},this.getCPU=function(){var qe={};return qe[O]=y,q.call(qe,Fe,ct.cpu),qe},this.getDevice=function(){var qe={};return qe[x]=y,qe[p]=y,qe[A]=y,q.call(qe,Fe,ct.device),qe},this.getEngine=function(){var qe={};return qe[C]=y,qe[R]=y,q.call(qe,Fe,ct.engine),qe},this.getOS=function(){var qe={};return qe[C]=y,qe[R]=y,q.call(qe,Fe,ct.os),qe},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Fe},this.setUA=function(qe){return Fe=typeof qe===d&&qe.length>350?we(qe,350):qe,this},this.setUA(Fe),this};re.VERSION="1.0.32",re.BROWSER=je([C,R,"major"]),re.CPU=je([O]),re.DEVICE=je([p,x,A,S,I,L,E,b,B]),re.ENGINE=re.OS=je([C,R]),typeof g!==i?(typeof Je!==i&&Je.exports&&(g=Je.exports=re),g.UAParser=re):e(
/*! !webpack amd options */
"./node_modules/webpack/buildin/amd-options.js")?(t=function(){return re}.call(g,e,g,Je))!==y&&(Je.exports=t):typeof v!==i&&(v.UAParser=re);var J=typeof v!==i&&(v.jQuery||v.Zepto);if(J&&!J.ua){var ge=new re;J.ua=ge.getResult(),J.ua.get=function(){return ge.getUA()},J.ua.set=function(Se){ge.setUA(Se);var Ee=ge.getResult();for(var Fe in Ee)J.ua[Fe]=Ee[Fe]}}}("object"==typeof window?window:this)},"./node_modules/util-deprecate/browser.js":
/*!************************************************!*\
                  !*** ./node_modules/util-deprecate/browser.js ***!
                  \************************************************/
/*! no static exports found */function(Je,g,e){(function(t){function y(m){try{if(!t.localStorage)return!1}catch{return!1}var P=t.localStorage[m];return null!=P&&"true"===String(P).toLowerCase()}Je.exports=function v(m,P){if(y("noDeprecation"))return m;var D=!1;return function f(){if(!D){if(y("throwDeprecation"))throw new Error(P);y("traceDeprecation")?console.trace(P):console.warn(P),D=!0}return m.apply(this,arguments)}}}).call(this,e(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/amd-options.js":
/*!****************************************!*\
                  !*** (webpack)/buildin/amd-options.js ***!
                  \****************************************/
/*! no static exports found */function(Je,g){(function(e){Je.exports=e}).call(this,{})},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
                  !*** (webpack)/buildin/global.js ***!
                  \***********************************/
/*! no static exports found */function(Je,g){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch{"object"==typeof window&&(e=window)}Je.exports=e},"./src/core/Debug.js":
/*!***************************!*\
                  !*** ./src/core/Debug.js ***!
                  \***************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./EventBus */
"./src/core/EventBus.js"),v=e(
/*! ./events/Events */
"./src/core/events/Events.js"),y=e(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),P=1,D=2,f=3,i=4,c=5;function d(p){p=p||{};var O,S,I,E,C=this.context,A=Object(t.default)(C).getInstance(),x=p.settings,R=[];function b(ce){return ce&&ce.bind?ce.bind(window.console):window.console.log.bind(window.console)}function le(){for(var ce=arguments.length,Te=new Array(ce),be=0;be<ce;be++)Te[be]=arguments[be];De.apply(void 0,[P,this].concat(Te))}function Re(){for(var ce=arguments.length,Te=new Array(ce),be=0;be<ce;be++)Te[be]=arguments[be];De.apply(void 0,[D,this].concat(Te))}function Y(){for(var ce=arguments.length,Te=new Array(ce),be=0;be<ce;be++)Te[be]=arguments[be];De.apply(void 0,[f,this].concat(Te))}function ae(){for(var ce=arguments.length,Te=new Array(ce),be=0;be<ce;be++)Te[be]=arguments[be];De.apply(void 0,[i,this].concat(Te))}function G(){for(var ce=arguments.length,Te=new Array(ce),be=0;be<ce;be++)Te[be]=arguments[be];De.apply(void 0,[c,this].concat(Te))}function De(ce,Te){var be="",Oe=null;S&&(Oe=(new Date).getTime(),be+="["+(Oe-E)+"]"),I&&Te&&Te.getClassName&&(be+="["+Te.getClassName()+"]",Te.getType&&(be+="["+Te.getType()+"]")),be.length>0&&(be+=" ");for(var ie=arguments.length,ye=new Array(ie>2?ie-2:0),Ce=2;Ce<ie;Ce++)ye[Ce-2]=arguments[Ce];Array.apply(null,ye).forEach(function(de){be+=de+" "}),R[ce]&&x.get().debug.logLevel>=ce&&R[ce](be),x&&x.get().debug.dispatchEvent&&A.trigger(v.default.LOG,{message:be,level:ce})}return O={getLogger:function B(ce){return{fatal:le.bind(ce),error:Re.bind(ce),warn:Y.bind(ce),info:ae.bind(ce),debug:G.bind(ce)}},setLogTimestampVisible:function Z(ce){S=ce},setCalleeNameVisible:function oe(ce){I=ce}},function L(){S=!0,I=!0,E=(new Date).getTime(),typeof window<"u"&&window.console&&(R[P]=b(window.console.error),R[D]=b(window.console.error),R[f]=b(window.console.warn),R[i]=b(window.console.info),R[c]=b(window.console.debug))}(),O}d.__dashjs_factory_name="Debug";var h=y.default.getSingletonFactory(d);h.LOG_LEVEL_NONE=0,h.LOG_LEVEL_FATAL=P,h.LOG_LEVEL_ERROR=D,h.LOG_LEVEL_WARNING=f,h.LOG_LEVEL_INFO=i,h.LOG_LEVEL_DEBUG=c,y.default.updateSingletonFactory(d.__dashjs_factory_name,h),g.default=h},"./src/core/EventBus.js":
/*!******************************!*\
                  !*** ./src/core/EventBus.js ***!
                  \******************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function P(){var f={};function h(A,x,R){var O=-1;return f[A]&&f[A].some(function(S,I){if(S&&S.callback===x&&(!R||R===S.scope))return O=I,!0}),O}return{on:function i(A,x,R){var O=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!A)throw new Error("event type cannot be null or undefined");if(!x||"function"!=typeof x)throw new Error("listener must be a function: "+x);var S=O.priority||0;if(!(h(A,x,R)>=0)){f[A]=f[A]||[];var I={callback:x,scope:R,priority:S};R&&R.getStreamId&&(I.streamId=R.getStreamId()),R&&R.getType&&(I.mediaType=R.getType()),O&&O.mode&&(I.mode=O.mode),f[A].some(function(L,b){if(L&&S>L.priority)return f[A].splice(b,0,I),!0})||f[A].push(I)}},off:function c(A,x,R){if(A&&x&&f[A]){var O=h(A,x,R);O<0||(f[A][O]=null)}},trigger:function d(A){var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(A&&f[A]){if((x=x||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");x.type=A,R.streamId&&(x.streamId=R.streamId),R.mediaType&&(x.mediaType=R.mediaType),f[A].filter(function(O){return!(!O||R.streamId&&O.streamId&&O.streamId!==R.streamId||R.mediaType&&O.mediaType&&O.mediaType!==R.mediaType||R.mode&&O.mode&&O.mode!==R.mode||!O.mode&&R.mode&&R.mode===v.default.EVENT_MODE_ON_RECEIVE)}).forEach(function(O){return O&&O.callback.call(O.scope,x)})}},reset:function p(){f={}}}}P.__dashjs_factory_name="EventBus";var D=t.default.getSingletonFactory(P);D.EVENT_PRIORITY_LOW=0,D.EVENT_PRIORITY_HIGH=5e3,t.default.updateSingletonFactory(P.__dashjs_factory_name,D),g.default=D},"./src/core/FactoryMaker.js":
/*!**********************************!*\
                  !*** ./src/core/FactoryMaker.js ***!
                  \**********************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=function(){var v,y=[],m={},P={};function f(I,E){for(var L in y){var b=y[L];if(b.context===I&&b.name===E)return b.instance}return null}function d(I,E){return E[I]}function h(I,E,L){I in L&&(L[I]=E)}function S(I,E,L){var b,B=I.__dashjs_factory_name,Z=E[B];if(Z){var oe=Z.instance;if(!Z.override)return oe.apply({context:E,factory:v},L);for(var le in b=I.apply({context:E},L),oe=oe.apply({context:E,factory:v,parent:b},L))b.hasOwnProperty(le)&&(b[le]=oe[le])}else b=I.apply({context:E},L);return b.getClassName=function(){return B},b}return v={extend:function D(I,E,L,b){!b[I]&&E&&(b[I]={instance:E,override:L})},getSingletonInstance:f,setSingletonInstance:function i(I,E,L){for(var b in y){var B=y[b];if(B.context===I&&B.name===E)return void(y[b].instance=L)}y.push({name:E,context:I,instance:L})},deleteSingletonInstances:function c(I){y=y.filter(function(E){return E.context!==I})},getSingletonFactory:function O(I){var E=d(I.__dashjs_factory_name,m);return E||(E=function(b){var B;return void 0===b&&(b={}),{getInstance:function(){return B||(B=f(b,I.__dashjs_factory_name)),B||(B=S(I,b,arguments),y.push({name:I.__dashjs_factory_name,context:b,instance:B})),B}}},m[I.__dashjs_factory_name]=E),E},getSingletonFactoryByName:function R(I){return d(I,m)},updateSingletonFactory:function x(I,E){h(I,E,m)},getClassFactory:function A(I){var E=d(I.__dashjs_factory_name,P);return E||(E=function(b){return void 0===b&&(b={}),{create:function(){return S(I,b,arguments)}}},P[I.__dashjs_factory_name]=E),E},getClassFactoryByName:function C(I){return d(I,P)},updateClassFactory:function p(I,E){h(I,E,P)}}}();g.default=t},"./src/core/Settings.js":
/*!******************************!*\
                  !*** ./src/core/Settings.js ***!
                  \******************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ./Utils.js */
"./src/core/Utils.js"),y=e(
/*! ../core/Debug */
"./src/core/Debug.js"),m=e(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),P=e(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),D=e(
/*! ./EventBus */
"./src/core/EventBus.js"),f=e(
/*! ./events/Events */
"./src/core/events/Events.js");function i(A){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(A)}function c(A,x,R){return(x=function d(A){var x=function h(A,x){if("object"!==i(A)||null===A)return A;var R=A[Symbol.toPrimitive];if(void 0!==R){var O=R.call(A,x||"default");if("object"!==i(O))return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(A)}(A,"string");return"symbol"===i(x)?x:String(x)}(x))in A?Object.defineProperty(A,x,{value:R,enumerable:!0,configurable:!0,writable:!0}):A[x]=R,A}function p(){var A,x,O=this.context,S=Object(D.default)(O).getInstance(),I={"streaming.delay.liveDelay":f.default.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":f.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":f.default.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":f.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":f.default.SETTING_UPDATED_PLAYBACK_RATE_MAX},E={debug:{logLevel:y.default.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:m.default.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:m.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:m.default.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:m.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,manifestRequestTimeout:1e4,retryIntervals:(A={},c(A,P.HTTPRequest.MPD_TYPE,500),c(A,P.HTTPRequest.XLINK_EXPANSION_TYPE,500),c(A,P.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),c(A,P.HTTPRequest.INIT_SEGMENT_TYPE,1e3),c(A,P.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),c(A,P.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),c(A,P.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),c(A,P.HTTPRequest.LICENSE,1e3),c(A,P.HTTPRequest.OTHER_TYPE,1e3),c(A,"lowLatencyReductionFactor",10),A),retryAttempts:(x={},c(x,P.HTTPRequest.MPD_TYPE,3),c(x,P.HTTPRequest.XLINK_EXPANSION_TYPE,1),c(x,P.HTTPRequest.MEDIA_SEGMENT_TYPE,3),c(x,P.HTTPRequest.INIT_SEGMENT_TYPE,3),c(x,P.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),c(x,P.HTTPRequest.INDEX_SEGMENT_TYPE,3),c(x,P.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),c(x,P.HTTPRequest.LICENSE,3),c(x,P.HTTPRequest.OTHER_TYPE,3),c(x,"lowLatencyMultiplyFactor",5),x),abr:{movingAverageMethod:m.default.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:m.default.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:m.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:m.default.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]}},errors:{recoverAttempts:{mediaErrorDecode:5}}},L=v.default.clone(E);function b(le,Re,Y){for(var ae in le)le.hasOwnProperty(ae)&&(Re.hasOwnProperty(ae)?"object"!==i(le[ae])||le[ae]instanceof Array||null===le[ae]?(Re[ae]=v.default.clone(le[ae]),I[Y+ae]&&S.trigger(I[Y+ae])):b(le[ae],Re[ae],Y.slice()+ae+"."):console.error("Settings parameter "+Y+ae+" is not supported"))}return{get:function B(){return L},update:function Z(le){"object"===i(le)&&b(le,L,"")},reset:function oe(){L=v.default.clone(E)}}}p.__dashjs_factory_name="Settings";var C=t.default.getSingletonFactory(p);g.default=C},"./src/core/Utils.js":
/*!***************************!*\
                  !*** ./src/core/Utils.js ***!
                  \***************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! path-browserify */
"./node_modules/path-browserify/index.js"),v=e.n(t),y=e(
/*! ua-parser-js */
"./node_modules/ua-parser-js/src/ua-parser.js");function P(p){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(p)}function f(p,C){for(var A=0;A<C.length;A++){var x=C[A];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,c(x.key),x)}}function c(p){var C=function d(p,C){if("object"!==P(p)||null===p)return p;var A=p[Symbol.toPrimitive];if(void 0!==A){var x=A.call(p,C||"default");if("object"!==P(x))return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(p)}(p,"string");return"symbol"===P(C)?C:String(C)}var h=function(){function p(){!function D(p,C){if(!(p instanceof C))throw new TypeError("Cannot call a class as a function")}(this,p)}return function i(p,C,A){return C&&f(p.prototype,C),A&&f(p,A),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,null,[{key:"mixin",value:function(A,x,R){var O,S={};if(A)for(var I in x)x.hasOwnProperty(I)&&(O=x[I],(!(I in A)||A[I]!==O&&(!(I in S)||S[I]!==O))&&(A[I]="object"===P(A[I])&&null!==A[I]?p.mixin(A[I],O,R):R(O)));return A}},{key:"clone",value:function(A){if(!A||"object"!==P(A))return A;var x;if(A instanceof Array){x=[];for(var R=0,O=A.length;R<O;++R)R in A&&x.push(p.clone(A[R]))}else x={};return p.mixin(x,A,p.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(A,x){try{if(!x||0===x.length)return A;var R=new URL(A);return x.forEach(function(O){O.key&&O.value&&R.searchParams.set(O.key,O.value)}),R.href}catch{return A}}},{key:"parseHttpHeaders",value:function(A){var x={};if(!A)return x;for(var R=A.trim().split("\r\n"),O=0,S=R.length;O<S;O++){var I=R[O],E=I.indexOf(": ");E>0&&(x[I.substring(0,E)]=I.substring(E+2))}return x}},{key:"generateUuid",value:function(){var A=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(R){var O=(A+16*Math.random())%16|0;return A=Math.floor(A/16),("x"==R?O:3&O|8).toString(16)})}},{key:"generateHashCode",value:function(A){var x=0;if(0===A.length)return x;for(var R=0;R<A.length;R++)x=(x<<5)-x+A.charCodeAt(R),x|=0;return x}},{key:"getRelativeUrl",value:function(A,x){try{var R=new URL(A),O=new URL(x);if(R.protocol=O.protocol,R.origin!==O.origin)return x;var S=v.a.relative(R.pathname.substr(0,R.pathname.lastIndexOf("/")),O.pathname.substr(0,O.pathname.lastIndexOf("/"))),I=0===S.length?1:0;return S+=O.pathname.substr(O.pathname.lastIndexOf("/")+I,O.pathname.length-1),O.pathname.length<S.length?O.pathname:S}catch{return x}}},{key:"parseUserAgent",value:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var x=null===A&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return Object(y.UAParser)(x)}catch{return{}}}}]),p}();g.default=h},"./src/core/Version.js":
/*!*****************************!*\
                  !*** ./src/core/Version.js ***!
                  \*****************************/
/*! exports provided: getVersionString */function(Je,g,e){"use strict";e.r(g),e.d(g,"getVersionString",function(){return v});var t="4.5.2";function v(){return t}},"./src/core/errors/Errors.js":
/*!***********************************!*\
                  !*** ./src/core/errors/Errors.js ***!
                  \***********************************/
/*! exports provided: default */function(Je,g,e){"use strict";function v(O){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(O)}function y(O,S){for(var I=0;I<S.length;I++){var E=S[I];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(O,P(E.key),E)}}function P(O){var S=function D(O,S){if("object"!==v(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var E=I.call(O,S||"default");if("object"!==v(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)(O)}(O,"string");return"symbol"===v(S)?S:String(S)}function i(O,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),S&&c(O,S)}function c(O,S){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,L){return E.__proto__=L,E})(O,S)}function d(O){var S=function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,E=A(O);if(S){var b=A(this).constructor;L=Reflect.construct(E,arguments,b)}else L=E.apply(this,arguments);return function h(O,S){if(S&&("object"===v(S)||"function"==typeof S))return S;if(void 0!==S)throw new TypeError("Derived constructors may only return object or undefined");return function p(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function A(O){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}e.r(g);var R=new(function(O){i(I,O);var S=d(I);function I(){var E;return function f(O,S){if(!(O instanceof S))throw new TypeError("Cannot call a class as a function")}(this,I),(E=S.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,E.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,E.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,E.SEGMENT_BASE_LOADER_ERROR_CODE=15,E.TIME_SYNC_FAILED_ERROR_CODE=16,E.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,E.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,E.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,E.APPEND_ERROR_CODE=20,E.REMOVE_ERROR_CODE=21,E.DATA_UPDATE_FAILED_ERROR_CODE=22,E.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,E.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,E.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,E.DOWNLOAD_ERROR_ID_SIDX_CODE=26,E.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,E.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,E.DOWNLOAD_ERROR_ID_XLINK_CODE=29,E.MANIFEST_ERROR_ID_PARSE_CODE=31,E.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,E.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,E.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,E.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,E.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",E.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",E.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",E.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",E.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",E.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",E.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",E.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",E.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",E.APPEND_ERROR_MESSAGE="chunk is not defined",E.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",E.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",E.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",E.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",E.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",E.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",E}return function m(O,S,I){return S&&y(O.prototype,S),I&&y(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(e(
/*! ./ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));g.default=R},"./src/core/errors/ErrorsBase.js":
/*!***************************************!*\
                  !*** ./src/core/errors/ErrorsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function y(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,P(h.key),h)}}function P(i){var c=function D(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=function(){function i(){!function v(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")}(this,i)}return function m(i,c,d){return c&&y(i.prototype,c),d&&y(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"extend",value:function(d,h){if(d){var p=!!h&&h.override,C=!!h&&h.publicOnly;for(var A in d)!d.hasOwnProperty(A)||this[A]&&!p||C&&-1===d[A].indexOf("public_")||(this[A]=d[A])}}}]),i}()},"./src/core/events/CoreEvents.js":
/*!***************************************!*\
                  !*** ./src/core/events/CoreEvents.js ***!
                  \***************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./EventsBase */
"./src/core/events/EventsBase.js");function v(R){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(R)}function y(R,O){for(var S=0;S<O.length;S++){var I=O[S];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(R,P(I.key),I)}}function P(R){var O=function D(R,O){if("object"!==v(R)||null===R)return R;var S=R[Symbol.toPrimitive];if(void 0!==S){var I=S.call(R,O||"default");if("object"!==v(I))return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(R)}(R,"string");return"symbol"===v(O)?O:String(O)}function i(R,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(O&&O.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),O&&c(R,O)}function c(R,O){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,E){return I.__proto__=E,I})(R,O)}function d(R){var O=function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var E,I=A(R);if(O){var L=A(this).constructor;E=Reflect.construct(I,arguments,L)}else E=I.apply(this,arguments);return function h(R,O){if(O&&("object"===v(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return function p(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,E)}}function A(R){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)})(R)}g.default=function(R){i(S,R);var O=d(S);function S(){var I;return function f(R,O){if(!(R instanceof O))throw new TypeError("Cannot call a class as a function")}(this,S),(I=O.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",I.BUFFERING_COMPLETED="bufferingCompleted",I.BUFFER_CLEARED="bufferCleared",I.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",I.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",I.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",I.CURRENT_TRACK_CHANGED="currentTrackChanged",I.DATA_UPDATE_COMPLETED="dataUpdateCompleted",I.INBAND_EVENTS="inbandEvents",I.INITIAL_STREAM_SWITCH="initialStreamSwitch",I.INIT_FRAGMENT_LOADED="initFragmentLoaded",I.INIT_FRAGMENT_NEEDED="initFragmentNeeded",I.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",I.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",I.LOADING_COMPLETED="loadingCompleted",I.LOADING_PROGRESS="loadingProgress",I.LOADING_DATA_PROGRESS="loadingDataProgress",I.LOADING_ABANDONED="loadingAborted",I.MANIFEST_UPDATED="manifestUpdated",I.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",I.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",I.QUOTA_EXCEEDED="quotaExceeded",I.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",I.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",I.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",I.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",I.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",I.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",I.SOURCE_BUFFER_ERROR="sourceBufferError",I.STREAMS_COMPOSED="streamsComposed",I.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",I.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",I.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",I.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",I.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",I.URL_RESOLUTION_FAILED="urlResolutionFailed",I.VIDEO_CHUNK_RECEIVED="videoChunkReceived",I.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",I.XLINK_ELEMENT_LOADED="xlinkElementLoaded",I.XLINK_READY="xlinkReady",I.SEEK_TARGET="seekTarget",I.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",I.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",I.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",I.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",I.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",I}return function m(R,O,S){return O&&y(R.prototype,O),S&&y(R,S),Object.defineProperty(R,"prototype",{writable:!1}),R}(S)}(t.default)},"./src/core/events/Events.js":
/*!***********************************!*\
                  !*** ./src/core/events/Events.js ***!
                  \***********************************/
/*! exports provided: default */function(Je,g,e){"use strict";function v(O){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(O)}function y(O,S){for(var I=0;I<S.length;I++){var E=S[I];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(O,P(E.key),E)}}function P(O){var S=function D(O,S){if("object"!==v(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var E=I.call(O,S||"default");if("object"!==v(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)(O)}(O,"string");return"symbol"===v(S)?S:String(S)}function i(O,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),S&&c(O,S)}function c(O,S){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,L){return E.__proto__=L,E})(O,S)}function d(O){var S=function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,E=A(O);if(S){var b=A(this).constructor;L=Reflect.construct(E,arguments,b)}else L=E.apply(this,arguments);return function h(O,S){if(S&&("object"===v(S)||"function"==typeof S))return S;if(void 0!==S)throw new TypeError("Derived constructors may only return object or undefined");return function p(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function A(O){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}e.r(g);var x=function(O){i(I,O);var S=d(I);function I(){return function f(O,S){if(!(O instanceof S))throw new TypeError("Cannot call a class as a function")}(this,I),S.apply(this,arguments)}return function m(O,S,I){return S&&y(O.prototype,S),I&&y(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(e(
/*! ./CoreEvents */
"./src/core/events/CoreEvents.js").default),R=new x;g.default=R},"./src/core/events/EventsBase.js":
/*!***************************************!*\
                  !*** ./src/core/events/EventsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function y(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,P(h.key),h)}}function P(i){var c=function D(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=function(){function i(){!function v(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")}(this,i)}return function m(i,c,d){return c&&y(i.prototype,c),d&&y(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"extend",value:function(d,h){if(d){var p=!!h&&h.override,C=!!h&&h.publicOnly;for(var A in d)!d.hasOwnProperty(A)||this[A]&&!p||C&&-1===d[A].indexOf("public_")||(this[A]=d[A])}}}]),i}()},"./src/dash/DashAdapter.js":
/*!*********************************!*\
                  !*** ./src/dash/DashAdapter.js ***!
                  \*********************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js"),v=e(
/*! ./vo/RepresentationInfo */
"./src/dash/vo/RepresentationInfo.js"),y=e(
/*! ./vo/MediaInfo */
"./src/dash/vo/MediaInfo.js"),m=e(
/*! ./vo/StreamInfo */
"./src/dash/vo/StreamInfo.js"),P=e(
/*! ./vo/ManifestInfo */
"./src/dash/vo/ManifestInfo.js"),D=e(
/*! ./vo/Event */
"./src/dash/vo/Event.js"),f=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),i=e(
/*! ./models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),c=e(
/*! ./models/PatchManifestModel */
"./src/dash/models/PatchManifestModel.js"),d=e(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),h=e.n(d);function p(){var C,A,x,R,O,S,I,E=this.context;function le(He){return A.getRolesForAdaptation(He).filter(function(Ze){return Ze.value===t.default.MAIN})[0]}function Re(He,Ze,st){var lt=A.getAdaptationsForType(R[0].mpd.manifest,He,Ze);if(!lt||0===lt.length)return null;if(lt.length>1&&st){var St=G(st,Ze);if(O[st.id]&&O[st.id][Ze])for(var bt=0,At=lt.length;bt<At;bt++)if(Y(O[st.id][Ze],St[bt]))return lt[bt];for(var on=0,En=lt.length;on<En;on++)if(le(lt[on]))return lt[on]}return lt[0]}function Y(He,Ze){if(!He||!Ze)return!1;var st=He.id===Ze.id,lt=He.codec===Ze.codec,St=He.viewpoint===Ze.viewpoint,bt=He.lang===Ze.lang,At=He.roles.toString()===Ze.roles.toString(),on=He.accessibility.toString()===Ze.accessibility.toString(),En=He.audioChannelConfiguration.toString()===Ze.audioChannelConfiguration.toString();return st&&lt&&St&&bt&&At&&on&&En}function ae(He,Ze,st,lt,St,bt){var En,tn,Mn,wn,Nn,At=[];if(!lt||0===lt.length)return[];var $n=A.getAdaptationsForPeriod(Ze);for(Mn=0,Nn=lt.length;Mn<Nn;Mn++)if(En=We($n[tn=A.getIndexForAdaptation(lt[Mn],He,st.index)]),bt){var ti=En.accessibility.length;for(wn=0;wn<ti;wn++)if(En){var vn=En.accessibility[wn];if(0===vn.indexOf("cea-608:")){var yn=vn.substring(8).split(";");if("CC"===yn[0].substring(0,2))for(wn=0;wn<yn.length;wn++)En||(En=We.call(this,$n[tn])),Tt(En,yn[wn].substring(0,3),yn[wn].substring(4)),At.push(En),En=null;else for(wn=0;wn<yn.length;wn++)En||(En=We.call(this,$n[tn])),Tt(En,"CC"+(wn+1),yn[wn]),At.push(En),En=null}else 0===vn.indexOf("cea-608")&&(Tt(En,S.CC1,"eng"),At.push(En),En=null)}}else St===S.IMAGE?(Kt(En),At.push(En),En=null):En&&At.push(En);return At}function G(He,Ze,st){var lt=R,St=st,bt=[];if(St)un(),lt=Ne(St);else{if(!(R.length>0))return bt;St=R[0].mpd.manifest}var At=me(He,lt),on=A.getAdaptationsForType(St,He?He.index:null,Ze);return bt=ae(St,At,He,on,Ze),Ze===S.TEXT&&(on=A.getAdaptationsForType(St,He?He.index:null,S.VIDEO),bt=bt.concat(ae(St,At,He,on,Ze,!0))),bt}function Ne(He){var Ze=ee(He);return A.getRegularPeriods(Ze)}function ee(He){var Ze=yt(He);return A.getMpd(Ze)}function tt(){R=[],O={}}function yt(He){return He||(R.length>0?R[0].mpd.manifest:null)}function Et(He){try{var Ze=me(He.streamInfo,R),st=A.getAdaptationsForPeriod(Ze);return He&&He.streamInfo&&void 0!==He.streamInfo.id&&st?st[He.index]:null}catch{return null}}function me(He,Ze){for(var st=Ze.length,lt=0;lt<st;lt++){var St=Ze[lt];if(He&&He.id===St.id)return St}return null}function We(He){if(!He)return null;var lt,Ze=new y.default,st=He.period.mpd.manifest.Period_asArray[He.period.index].AdaptationSet_asArray[He.index];if(Ze.id=He.id,Ze.index=He.index,Ze.type=He.type,Ze.streamInfo=Jt(He.period),Ze.representationCount=A.getRepresentationCount(st),Ze.labels=A.getLabelsForAdaptation(st),Ze.lang=A.getLanguageForAdaptation(st),lt=A.getViewpointForAdaptation(st),Ze.viewpoint=lt?lt.value:void 0,Ze.accessibility=A.getAccessibilityForAdaptation(st).map(function(At){var on=At.value,En=on;return At.schemeIdUri&&At.schemeIdUri.search("cea-608")>=0&&typeof I<"u"&&(En=on?"cea-608:"+on:"cea-608",Ze.embeddedCaptions=!0),En}),Ze.audioChannelConfiguration=A.getAudioChannelConfigurationForAdaptation(st).map(function(At){return At.value}),0===Ze.audioChannelConfiguration.length&&Array.isArray(st.Representation_asArray)&&st.Representation_asArray.length>0&&(Ze.audioChannelConfiguration=A.getAudioChannelConfigurationForRepresentation(st.Representation_asArray[0]).map(function(At){return At.value})),Ze.roles=A.getRolesForAdaptation(st).map(function(At){return At.value}),Ze.codec=A.getCodec(st),Ze.mimeType=A.getMimeType(st),Ze.contentProtection=A.getContentProtectionData(st),Ze.bitrateList=A.getBitrateListForAdaptation(st),Ze.selectionPriority=A.getSelectionPriority(st),Ze.contentProtection){var St=Ze.contentProtection.map(function(At){return A.getKID(At)}).filter(function(At){return null!==At});if(St.length){var bt=St[0];Ze.contentProtection.forEach(function(At){At.keyId=bt})}}return Ze.isText=A.getIsText(st),Ze.supplementalProperties=A.getSupplementalProperties(st),Ze.isFragmented=A.getIsFragmented(st),Ze.isEmbedded=!1,Ze}function Tt(He,Ze,st){He.id=Ze,He.index=100+parseInt(Ze.substring(2,3)),He.type=S.TEXT,He.codec="cea-608-in-SEI",He.isEmbedded=!0,He.isFragmented=!1,He.lang=h()(st),He.roles=["caption"]}function Kt(He){He.type=S.IMAGE}function Jt(He){var Ze=new m.default;return Ze.id=He.id,Ze.index=He.index,Ze.start=He.start,Ze.duration=He.duration,Ze.manifestInfo=function Xt(He){var Ze=new P.default;return Ze.dvrWindowSize=He.timeShiftBufferDepth,Ze.loadedTime=He.manifest.loadedTime,Ze.availableFrom=He.availabilityStartTime,Ze.minBufferTime=He.manifest.minBufferTime,Ze.maxFragmentDuration=He.maxSegmentDuration,Ze.duration=A.getDuration(He.manifest),Ze.isDynamic=A.getIsDynamic(He.manifest),Ze.serviceDescriptions=A.getServiceDescriptions(He.manifest),Ze.protocol=He.manifest.protocol,Ze}(He.mpd),Ze.isLast=1===He.mpd.manifest.Period_asArray.length||Math.abs(Ze.start+Ze.duration-Ze.manifestInfo.duration)<1,Ze}function un(){if(!S)throw new Error("setConfig function has to be called previously")}function fn(He){return R.length>0?R[0].mpd.manifest.Period_asArray[He]:null}function vt(He,Ze,st){var St,bt,At,on,En;if(He)for(St=He.AdaptationSet_asArray,on=0;on<St.length;on+=1)for(At=St[on].Representation_asArray,En=0;En<At.length;En+=1)if(Ze===(bt=At[En]).id)return st?En:bt;return null}return C={getBandwidthForRepresentation:function Se(He,Ze){var st;return(st=vt(fn(Ze),He))?st.bandwidth:null},getIndexForRepresentation:function Ee(He,Ze){return function It(He,Ze){var st=vt(He,Ze,!0);return null!==st?st:-1}(fn(Ze),He)},getMaxIndexForBufferType:function Fe(He,Ze){return function it(He,Ze){var st,lt,St,bt;if(!He||!Ze)return-1;for(lt=He.AdaptationSet_asArray,bt=0;bt<lt.length;bt+=1)if(St=(st=lt[bt]).Representation_asArray,A.getIsTypeOf(st,Ze))return St.length;return-1}(fn(Ze),He)},convertRepresentationToRepresentationInfo:function Z(He){if(He){var Ze=new v.default,lt=A.getRepresentationFor(He.index,He.adaptation.period.mpd.manifest.Period_asArray[He.adaptation.period.index].AdaptationSet_asArray[He.adaptation.index]);return Ze.id=He.id,Ze.quality=He.index,Ze.bandwidth=A.getBandwidth(lt),Ze.fragmentDuration=He.segmentDuration||(He.segments&&He.segments.length>0?He.segments[0].duration:NaN),Ze.MSETimeOffset=He.MSETimeOffset,Ze.mediaInfo=We(He.adaptation),Ze}return null},getStreamsInfo:function ce(He,Ze){var st=[],lt=R;if(He&&(un(),lt=Ne(He)),lt.length>0){(!Ze||Ze>lt.length)&&(Ze=lt.length);for(var St=0;St<Ze;St++)st.push(Jt(lt[St]))}return st},getMediaInfoForType:function oe(He,Ze){if(0===R.length||!He)return null;var st=me(He,R);if(!st)return null;var lt=A.getAdaptationsForPeriod(st),St=Re(He.index,Ze,He);return St?We(lt[A.getIndexForAdaptation(St,R[0].mpd.manifest,He.index)]):null},getAllMediaInfoForType:G,getAdaptationForType:Re,getRealAdaptation:function Te(He,Ze){var st,lt,St=me(He,R);return st=Ze?Ze.id:null,R.length>0&&St&&(lt=st?A.getAdaptationForId(st,R[0].mpd.manifest,St.index):A.getAdaptationForIndex(Ze?Ze.index:null,R[0].mpd.manifest,St.index)),lt},getProducerReferenceTimes:function be(He,Ze){var st,lt,St=me(He,R);return st=Ze?Ze.id:null,R.length>0&&St&&(lt=st?A.getAdaptationForId(st,R[0].mpd.manifest,St.index):A.getAdaptationForIndex(Ze?Ze.index:null,R[0].mpd.manifest,St.index)),lt?A.getProducerReferenceTimesForAdaptation(lt):[]},getRealPeriodByIndex:function ie(He){return A.getRealPeriodForIndex(He,R[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function Oe(He){try{return A.getEssentialPropertiesForRepresentation(He)}catch{return[]}},getVoRepresentations:function ye(He){var st=Et(He);return A.getRepresentationsForAdaptation(st)},getEventsFor:function de(He,Ze,st){var lt=[];if(R.length>0){var St=R[0].mpd.manifest;if(He instanceof m.default){var bt=me(He,R);lt=A.getEventsForPeriod(bt)}else if(He instanceof y.default){var At=me(st,R);lt=A.getEventStreamForAdaptationSet(St,Et(He),At)}else if(He instanceof v.default){var on=me(st,R);lt=A.getEventStreamForRepresentation(St,Ze,on)}}return lt},getEvent:function Ce(He,Ze,st,lt){try{if(!He||!Ze||isNaN(st)||!lt)return null;var St=He.scheme_id_uri,bt=He.value;if(!Ze[St+"/"+bt])return null;var Nn,At=new D.default,on=He.timescale||1,En=lt.adaptation.period.start,tn=Ze[St+"/"+bt],Mn=isNaN(lt.presentationTimeOffset)?isNaN(tn.presentationTimeOffset)?0:tn.presentationTimeOffset:lt.presentationTimeOffset,wn=He.presentation_time_delta/on;Nn=0===He.version?En+st-Mn+wn:En-Mn+wn;var $n=He.event_duration/on,ti=He.id,vn=He.message_data;return At.eventStream=tn,At.eventStream.value=bt,At.eventStream.timescale=on,At.duration=$n,At.id=ti,At.calculatedPresentationTime=Nn,At.messageData=vn,At.presentationTimeDelta=wn,At}catch{return null}},getMpd:ee,setConfig:function B(He){He&&(He.constants&&(S=He.constants),He.cea608parser&&(I=He.cea608parser),He.errHandler&&A.setConfig({errHandler:He.errHandler}),He.BASE64&&A.setConfig({BASE64:He.BASE64}))},updatePeriods:function De(He){if(!He)return null;un(),R=Ne(He)},getIsTextTrack:function pe(He){return A.getIsText(He)},getUTCTimingSources:function Ie(){var He=yt();return A.getUTCTimingSources(He)},getSuggestedPresentationDelay:function Be(){return A.getSuggestedPresentationDelay(R.length>0?R[0].mpd:null)},getAvailabilityStartTime:function at(He){var Ze=ee(He);return A.getAvailabilityStartTime(Ze)},getIsTypeOf:function qe(He,Ze){return A.getIsTypeOf(He,Ze)},getIsDynamic:function Xe(He){var Ze=yt(He);return A.getIsDynamic(Ze)},getDuration:function je(He){var Ze=yt(He);return A.getDuration(Ze)},getRegularPeriods:Ne,getContentSteering:function fe(He){return A.getContentSteering(He)},getLocation:function we(He){return A.getLocation(He)},getPatchLocation:function Q(He){var Ze=A.getPatchLocation(He),st=A.getPublishTime(He);if(!Ze||!st)return null;if(Ze.hasOwnProperty("ttl")&&st){var lt=1e3*parseFloat(Ze.ttl);if(st.getTime()+lt<=(new Date).getTime())return null}return Ze.__text},getManifestUpdatePeriod:function q(He){return A.getManifestUpdatePeriod(He,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},getPublishTime:function $(He){return A.getPublishTime(He)},getIsDVB:function ne(He){return A.hasProfile(He,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function X(He){return x.getIsPatch(He)},getBaseURLsFromElement:function re(He){return A.getBaseURLsFromElement(He)},getRepresentationSortFunction:function J(){return A.getRepresentationSortFunction()},getCodec:function ge(He,Ze,st){return A.getCodec(He,Ze,st)},getPeriodById:function ct(He){if(!He||0===R.length)return null;var Ze=R.filter(function(st){return st.id===He});return Ze&&Ze.length>0?Ze[0]:null},setCurrentMediaInfo:function Me(He,Ze,st){O[He]=O[He]||{},O[He][Ze]=O[He][Ze]||{},O[He][Ze]=st},isPatchValid:function gt(He,Ze){var st=A.getId(He),lt=x.getMpdId(Ze),St=A.getPublishTime(He),bt=x.getPublishTime(Ze),At=x.getOriginalPublishTime(Ze);return!!(st&&lt&&st==lt&&St&&At&&St.getTime()==At.getTime()&&bt&&St.getTime()<bt.getTime())},applyPatchToManifest:function Qe(He,Ze){x.getPatchOperations(Ze).forEach(function(st){var lt=st.getMpdTarget(He);if(null!==lt){var St=lt.name,bt=lt.target,At=lt.leaf;if(st.xpath.findsAttribute()){switch(st.action){case"add":case"replace":bt[St]=st.value;break;case"remove":delete bt[St]}return}var on=(bt[St+"_asArray"]||[]).indexOf(At),En="prepend"===st.position||"before"===st.position;if(("remove"===st.action||"replace"===st.action)&&(delete bt[St],-1!=on)){var tn=bt[St+"_asArray"];tn.splice(on,1),tn.length>1?bt[St]=tn:1==tn.length?bt[St]=tn[0]:delete bt[St+"_asArray"]}("add"===st.action||"replace"===st.action)&&Object.keys(st.value).forEach(function(Mn){var wn=st.value[Mn],Nn=bt[Mn+"_asArray"]||[];0===Nn.length&&bt[Mn]&&Nn.push(bt[Mn]),0===Nn.length?Nn=wn:Nn.splice.apply(Nn,[Mn==St&&-1!=on?on+(En?0:1)+("replace"==st.action?-1:0):En?0:Nn.length,0].concat(wn)),bt[Mn+"_asArray"]=Nn,bt[Mn]=1==Nn.length?Nn[0]:Nn})}})},areMediaInfosEqual:Y,reset:tt},function b(){A=Object(i.default)(E).getInstance(),x=Object(c.default)(E).getInstance(),tt()}(),C}p.__dashjs_factory_name="DashAdapter",g.default=f.default.getSingletonFactory(p)},"./src/dash/DashHandler.js":
/*!*********************************!*\
                  !*** ./src/dash/DashHandler.js ***!
                  \*********************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),v=e(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),y=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=e(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),P=e(
/*! ./utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),D=e(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js");function c(d){var I,E,L,b,B,h=(d=d||{}).eventBus,p=d.debug,C=d.urlUtils,A=d.type,x=d.streamInfo,R=d.segmentsController,O=d.timelineConverter,S=d.baseURLController;function Re(){return A}function ae(){L=null}function De(Ie,Be,at){var je,Ne,Xe=S.resolve(at.path);return Xe&&Be!==Xe.url&&C.isRelative(Be)?(je=Xe.url,Ne=Xe.serviceLocation,Be&&(je=C.resolve(Be,je))):je=Be,!C.isRelative(je)&&(Ie.url=je,Ie.serviceLocation=Ne,!0)}function be(Ie,Be){if(null==Be)return null;var at=new t.default,Xe=Be.representation,je=Xe.adaptation.period.mpd.manifest.Period_asArray[Xe.adaptation.period.index].AdaptationSet_asArray[Xe.adaptation.index].Representation_asArray[Xe.index].bandwidth,Ne=Be.media;return Ne=Object(P.replaceTokenForTemplate)(Ne,"Number",Be.replacementNumber),Ne=Object(P.replaceTokenForTemplate)(Ne,"Time",Be.replacementTime),Ne=Object(P.replaceTokenForTemplate)(Ne,"Bandwidth",je),Ne=Object(P.replaceIDForTemplate)(Ne,Xe.id),Ne=Object(P.unescapeDollarsInTemplate)(Ne),at.mediaType=Re(),at.type=v.HTTPRequest.MEDIA_SEGMENT_TYPE,at.range=Be.mediaRange,at.startTime=Be.presentationStartTime,at.mediaStartTime=Be.mediaStartTime,at.duration=Be.duration,at.timescale=Xe.timescale,at.availabilityStartTime=Be.availabilityStartTime,at.availabilityEndTime=Be.availabilityEndTime,at.availabilityTimeComplete=Xe.availabilityTimeComplete,at.wallStartTime=Be.wallStartTime,at.quality=Xe.index,at.index=Be.index,at.mediaInfo=Ie,at.adaptationIndex=Xe.adaptation.index,at.representationId=Xe.id,De(at,Ne,Xe)?at:void 0}function ie(Ie,Be,at){var Xe=null;if(!Be||!Be.segmentInfoType)return Xe;var je=R.getSegmentByTime(Be,at);return je&&(L=je,E.debug("Index for time "+at+" is "+je.index),Xe=be(Ie,je)),Xe}function pe(){E.debug("Dynamic stream complete"),B=!0}return I={initialize:function oe(Ie){b=Ie,B=!1,R.initialize(Ie)},getStreamId:function le(){return x.id},getType:Re,getStreamInfo:function Y(){return x},getInitRequest:function ce(Ie,Be){return Be?function Te(Ie,Be,at){var Xe=new t.default,je=Be.adaptation.period,Ne=je.start;if(Xe.mediaType=at,Xe.type=v.HTTPRequest.INIT_SEGMENT_TYPE,Xe.range=Be.range,Xe.availabilityStartTime=O.calcAvailabilityStartTimeFromPresentationTime(Ne,Be,b),Xe.availabilityEndTime=O.calcAvailabilityEndTimeFromPresentationTime(Ne+je.duration,Be,b),Xe.quality=Be.index,Xe.mediaInfo=Ie,Xe.representationId=Be.id,De(Xe,Be.initialization,Be))return Xe.url=Object(P.replaceTokenForTemplate)(Xe.url,"Bandwidth",Be.bandwidth),Xe}(Ie,Be,Re()):null},getSegmentRequestForTime:ie,getCurrentIndex:function Me(){return L?L.index:-1},getNextSegmentRequest:function Ce(Ie,Be){var at=null;if(!Be||!Be.segmentInfoType)return null;var Xe=L?L.index+1:0,je=R.getSegmentByIndex(Be,Xe,L?L.mediaStartTime:-1);if(je)at=be(Ie,je),L=je;else{if(b&&!B)return E.debug(Re()+" No segment found at index: "+Xe+". Wait for next loop"),null;B=!0}return at},isLastSegmentRequested:function Oe(Ie,Be){if(!Ie||!L)return!1;if(B)return!0;if(!isFinite(Ie.adaptation.period.duration)||L.presentationStartTime+L.duration>Be)return!1;if(Ie.mediaFinishedInformation&&!isNaN(Ie.mediaFinishedInformation.numberOfSegments)&&!isNaN(L.index)&&L.index>=Ie.mediaFinishedInformation.numberOfSegments-1){if(!b||Ie.segmentInfoType===D.default.SEGMENT_TEMPLATE)return!0;if(b&&Ie.segmentInfoType===D.default.SEGMENT_LIST&&Ie.adaptation.period.nextPeriodId)return!0}return!!(b&&Ie.adaptation.period.nextPeriodId&&Ie.segmentInfoType===D.default.SEGMENT_TIMELINE&&Ie.mediaFinishedInformation&&!isNaN(Ie.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&L&&!isNaN(L.mediaStartTime)&&!isNaN(L.duration)&&L.mediaStartTime+L.duration>=Ie.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},reset:function G(){ae(),h.off(m.default.DYNAMIC_TO_STATIC,pe,I)},getNextSegmentRequestIdempotent:function ye(Ie,Be){var je=R.getSegmentByIndex(Be,L?L.index+1:0,L?L.mediaStartTime:-1);return je?be(Ie,je):null},getValidTimeAheadOfTargetTime:function de(Ie,Be,at,Xe){try{if(isNaN(Ie)||!Be||!at)return NaN;if(Ie<0&&(Ie=0),isNaN(Xe)&&(Xe=.5),ie(Be,at,Ie))return Ie;if(at.adaptation.period.start+at.adaptation.period.duration<Ie)return NaN;for(var je=isFinite(at.adaptation.period.duration)?at.adaptation.period.start+at.adaptation.period.duration:Ie+30,Ne=Math.min(Ie+Xe,je),ee=NaN,fe=null;Ne<=je;){var we=null;if(Ne<=je&&(we=ie(Be,at,Ne)),we){ee=Ne,fe=we;break}Ne+=Xe}if(fe){var q=fe.startTime+fe.duration;return Ie>fe.startTime&&q-Ie>Xe?Ie:!isNaN(fe.startTime)&&Ie<fe.startTime&&ee>fe.startTime?fe.startTime+.001:Math.min(q-Xe,ee)}return ee}catch{return NaN}}},function Z(){E=p.getLogger(I),ae(),h.on(m.default.DYNAMIC_TO_STATIC,pe,I)}(),I}c.__dashjs_factory_name="DashHandler",g.default=y.default.getClassFactory(c)},"./src/dash/DashMetrics.js":
/*!*********************************!*\
                  !*** ./src/dash/DashMetrics.js ***!
                  \*********************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),y=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=e(
/*! ../streaming/constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),P=e(
/*! ./utils/Round10 */
"./src/dash/utils/Round10.js"),D=e(
/*! ../streaming/models/MetricsModel */
"./src/streaming/models/MetricsModel.js"),f=e(
/*! ../core/Utils */
"./src/core/Utils.js"),i=e(
/*! ../streaming/vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js");function c(d){var p,C,A,x,h=this.context,R=(d=d||{}).metricsModel;function le(we){var q=R.getMetricsFor(we,!0);if(!q)return null;var ne,$=q.HttpList,Q=null;if(!$||$.length<=0)return null;for(ne=$.length-1;ne>=0;){if($[ne].responsecode){Q=$[ne];break}ne--}return Q}function Re(we){var q=R.getMetricsFor(we,!0);return q&&q.HttpList?q.HttpList:[]}function ae(we,q){if(!we)return null;var $=we[q];return $&&0!==$.length?$[$.length-1]:null}return p={getCurrentRepresentationSwitch:function I(we){return ae(R.getMetricsFor(we,!0),m.default.TRACK_SWITCH)},getCurrentBufferState:function L(we){return ae(R.getMetricsFor(we,!0),m.default.BUFFER_STATE)},getCurrentBufferLevel:function b(we){var $=ae(R.getMetricsFor(we,!0),m.default.BUFFER_LEVEL);return $?P.default.round10($.level/1e3,-3):0},getCurrentHttpRequest:le,getHttpRequests:Re,getCurrentDroppedFrames:function G(){return ae(R.getMetricsFor(t.default.VIDEO,!0),m.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function ce(we){return ae(R.getMetricsFor(we,!0),m.default.SCHEDULING_INFO)},getCurrentDVRInfo:function Me(we){return ae(we?R.getMetricsFor(we,!0):R.getMetricsFor(t.default.VIDEO,!0)||R.getMetricsFor(t.default.AUDIO,!0),m.default.DVR_INFO)},getCurrentManifestUpdate:function be(){return ae(R.getMetricsFor(t.default.STREAM),m.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function Be(we,q){if(!q)return null;var $={},Q=le(we);Q&&($=f.default.parseHttpHeaders(Q._responseHeaders));var ne=$[q.toLowerCase()];return void 0===ne?null:ne},getLatestMPDRequestHeaderValueByID:function Ie(we){if(!we)return null;var $,Q,ne,q={};for(ne=($=Re(t.default.STREAM)).length-1;ne>=0;ne--)if((Q=$[ne]).type===v.HTTPRequest.MPD_TYPE){q=f.default.parseHttpHeaders(Q._responseHeaders);break}var X=q[we.toLowerCase()];return void 0===X?null:X},addRepresentationSwitch:function E(we,q,$,Q,ne){R.addRepresentationSwitch(we,q,$,Q,ne)},addDVRInfo:function pe(we,q,$,Q){R.addDVRInfo(we,q,$,Q)},updateManifestUpdateInfo:function Oe(we){var q=this.getCurrentManifestUpdate();R.updateManifestUpdateInfo(q,we)},addManifestUpdateStreamInfo:function ie(we){if(we){var q=this.getCurrentManifestUpdate();R.addManifestUpdateStreamInfo(q,we.id,we.index,we.start,we.duration)}},addManifestUpdateRepresentationInfo:function de(we,q){if(we){var $=this.getCurrentManifestUpdate();R.addManifestUpdateRepresentationInfo($,we.id,we.index,we.streamIndex,q,we.presentationTimeOffset,we.startNumber,we.fragmentInfoType)}},addManifestUpdate:function ye(we){R.addManifestUpdate(t.default.STREAM,we.type,we.requestStartDate,we.requestEndDate)},addHttpRequest:function Ce(we,q,$,Q,ne){R.addHttpRequest(we.mediaType,null,we.type,we.url,we.quality,q,we.serviceLocation||null,we.range||null,we.requestStartDate,we.firstByteDate,we.requestEndDate,$,we.duration,Q,ne,we.fileLoaderType)},addSchedulingInfo:function Te(we,q){R.addSchedulingInfo(we.mediaType,new Date,we.type,we.startTime,we.availabilityStartTime,we.duration,we.quality,we.range,q)},addRequestsQueue:function Y(we,q,$){R.addRequestsQueue(we,q,$)},addBufferLevel:function B(we,q,$){R.addBufferLevel(we,q,$)},addBufferState:function Z(we,q,$){R.addBufferState(we,q,$)},addDroppedFrames:function De(we){R.addDroppedFrames(t.default.VIDEO,we)},addPlayList:function at(){x&&(R.addPlayList(x),x=null)},addDVBErrors:function fe(we){R.addDVBErrors(we)},createPlaylistMetrics:function Xe(we,q){(x=new i.PlayList).start=new Date,x.mstart=we,x.starttype=q},createPlaylistTraceMetrics:function je(we,q,$){!0===C&&(C=!1,(A=new i.PlayListTrace).representationid=we,A.start=new Date,A.mstart=q,A.playbackspeed=null!==$?$.toString():null)},updatePlayListTraceMetrics:function Ne(we){if(A)for(var q in A)A[q]=we[q]},pushPlayListTraceMetrics:function ee(we,q){if(!1===C&&x&&A&&A.start){var $=A.start,Q=we.getTime()-$.getTime();A.duration=Q,A.stopreason=q,x.trace.push(A),C=!0}},clearAllCurrentMetrics:function oe(){R.clearAllCurrentMetrics()}},function O(){R=R||Object(D.default)(h).getInstance({settings:d.settings}),function S(){C=!0,A=null,x=null}()}(),p}c.__dashjs_factory_name="DashMetrics",g.default=y.default.getSingletonFactory(c)},"./src/dash/SegmentBaseLoader.js":
/*!***************************************!*\
                  !*** ./src/dash/SegmentBaseLoader.js ***!
                  \***************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),v=e(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),y=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=e(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),P=e(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js");function D(){var i,c,d,h,p,C,A,x,R,O,S,I,E,f=this.context;function oe(ce,Te,be,Oe){var ie=null,ye=ce?E.resolve(ce.path):null,Ce=Oe||{init:!0,url:ye?ye.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:Te};c.debug("Start searching for initialization.");var de=De(Ce);x.load({request:de,success:function(Be){if(Ce.bytesLoaded=Ce.range.end,!(ie=h.findInitRange(Be)))return Ce.range.end=Ce.bytesLoaded+Ce.bytesToLoad,oe(ce,Te,be,Ce);ce.range=ie,be(ce)},error:function(){be(ce)}}),c.debug("Perform init search: "+Ce.url)}function Re(ce,Te,be,Oe,ie,ye){if(be&&(void 0===be.start||void 0===be.end)){var Ce=be?be.toString().split("-"):null;be=Ce?{start:parseFloat(Ce[0]),end:parseFloat(Ce[1])}:null}ie=ie||Y;var de=null,Me=null,pe=!!be,Ie=ce?E.resolve(ce.path):null,Be={init:!1,url:Ie?Ie.url:void 0,range:pe?be:{start:0,end:1500},searching:!pe,bytesLoaded:ye?ye.bytesLoaded:0,bytesToLoad:1500,mediaType:Te},at=De(Be);x.load({request:at,success:function(ee){var fe=Be.bytesToLoad,we=ee.byteLength;if(Be.bytesLoaded=Be.range.end-Be.range.start,de=h.parse(ee),(Me=de.getBox("sidx"))&&Me.isComplete){var Q,ne,$=Me.references;if(null!=$&&$.length>0&&(Q=1===$[0].reference_type),Q){c.debug("Initiate multiple SIDX load."),Be.range.end=Be.range.start+Me.size;var X,re,J,ge,Ee=[],Fe=0,ct=(Me.offset||Be.range.start)+Me.size,qe=function(gt){gt?(Ee=Ee.concat(gt),++Fe>=re&&(Ee.sort(function(Qe,yt){return Qe.startTime-yt.startTime<0?-1:0}),ie(Ee,ce,Oe))):ie(null,ce,Oe)};for(X=0,re=$.length;X<re;X++)J=ct,ge=ct+$[X].referenced_size-1,ct+=$[X].referenced_size,Re(ce,Te,{start:J,end:ge},Oe,qe,Be)}else c.debug("Parsing segments from SIDX. representation "+Te+" - id: "+ce.id+" for range : "+Be.range.start+" - "+Be.range.end),ne=function G(ce,Te){for(var Me,Ie,Be,be=ce.references,Oe=be.length,ie=ce.timescale,ye=ce.earliest_presentation_time,Ce=Te.range.start+ce.offset+ce.first_offset+ce.size,de=[],at=0;at<Oe;at++)Ie=be[at].subsegment_duration,Be=be[at].referenced_size,(Me=new t.default).duration=Ie,Me.startTime=ye,Me.timescale=ie,Me.mediaRange=Ce+"-"+(Ce+Be-1),de.push(Me),ye+=Ie,Ce+=Be;return de}(Me,Be),ie(ne,ce,Oe)}else{if(Me)Be.range.start=Me.offset||Be.range.start,Be.range.end=Be.range.start+(Me.size||fe);else{if(we<Be.bytesLoaded)return void ie(null,ce,Oe);var q=de.getLastBox();q&&q.size?(Be.range.start=q.offset+q.size,Be.range.end=Be.range.start+fe):Be.range.end+=fe}Re(ce,Te,Be.range,Oe,null,Be)}},error:function(){ie(null,ce,Oe)}}),c.debug("Perform SIDX load for type ".concat(Te," : ").concat(Be.url," with range ").concat(Be.range.start," - ").concat(Be.range.end))}function Y(ce,Te,be){be({segments:ce,representation:Te,error:ce?void 0:new v.default(R.SEGMENT_BASE_LOADER_ERROR_CODE,R.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function De(ce){if(ce.url){var Te=new m.default;return Te.setInfo(ce),Te}}return i={setConfig:function B(ce){ce.baseURLController&&(E=ce.baseURLController),ce.dashMetrics&&(C=ce.dashMetrics),ce.mediaPlayerModel&&(A=ce.mediaPlayerModel),ce.errHandler&&(d=ce.errHandler),ce.boxParser&&(h=ce.boxParser),ce.debug&&(c=ce.debug.getLogger(i)),ce.requestModifier&&(p=ce.requestModifier),ce.errors&&(R=ce.errors),ce.urlUtils&&(I=ce.urlUtils),ce.constants&&(O=ce.constants),ce.dashConstants&&(S=ce.dashConstants)},initialize:function b(){x=Object(P.default)(f).create({errHandler:d,dashMetrics:C,mediaPlayerModel:A,requestModifier:p,boxParser:h,errors:R,urlUtils:I,constants:O,dashConstants:S})},loadInitialization:function Z(ce,Te){return new Promise(function(be){oe(ce,Te,be)})},loadSegments:function le(ce,Te,be){return new Promise(function(Oe){Re(ce,Te,be,Oe)})},reset:function ae(){x&&(x.abort(),x=null)}}}D.__dashjs_factory_name="SegmentBaseLoader",g.default=y.default.getSingletonFactory(D)},"./src/dash/WebmSegmentBaseLoader.js":
/*!*******************************************!*\
                  !*** ./src/dash/WebmSegmentBaseLoader.js ***!
                  \*******************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../streaming/utils/EBMLParser */
"./src/streaming/utils/EBMLParser.js"),v=e(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),y=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=e(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),P=e(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),D=e(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),f=e(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js");function i(){var d,h,p,C,A,x,R,O,S,I,c=this.context;function Z(G,De,ce,Te){var Oe,ie,ye,Ce,de;for(ie=[],Ce=0,de=(Oe=function B(G){var Te,be,De=[],ce=Object(t.default)(c).create({data:G});for(ce.consumeTagAndSize(p.Segment.Cues);ce.moreData()&&ce.consumeTagAndSize(p.Segment.Cues.CuePoint,!0);){for((Te={}).CueTime=ce.parseTag(p.Segment.Cues.CuePoint.CueTime),Te.CueTracks=[];ce.moreData()&&ce.consumeTag(p.Segment.Cues.CuePoint.CueTrackPositions,!0);){var Oe=ce.getMatroskaCodedNum(),ie=ce.getPos();if((be={}).Track=ce.parseTag(p.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===be.Track)throw new Error("Cue track cannot be 0");be.ClusterPosition=ce.parseTag(p.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),Te.CueTracks.push(be),ce.setPos(ie+Oe)}if(0===Te.CueTracks.length)throw new Error("Mandatory cuetrack not found");De.push(Te)}if(0===De.length)throw new Error("mandatory cuepoint not found");return De}(G)).length;Ce<de;Ce+=1)(ye=new m.default).duration=Ce<Oe.length-1?Oe[Ce+1].CueTime-Oe[Ce].CueTime:Te-Oe[Ce].CueTime,ye.startTime=Oe[Ce].CueTime,ye.timescale=1e3,ye.mediaRange=Oe[Ce].CueTracks[0].ClusterPosition+De+"-"+(Ce<Oe.length-1?Oe[Ce+1].CueTracks[0].ClusterPosition+De-1:ce-1),ie.push(ye);return h.debug("Parsed cues: "+ie.length+" cues."),ie}function Y(G){var De=new P.default;return De.setInfo(G),De}return d={setConfig:function b(G){if(!(G.baseURLController&&G.dashMetrics&&G.mediaPlayerModel&&G.errHandler))throw new Error(v.default.MISSING_CONFIG_ERROR);I=G.baseURLController,x=G.dashMetrics,R=G.mediaPlayerModel,C=G.errHandler,S=G.errors,h=G.debug.getLogger(d),A=G.requestModifier},initialize:function L(){O=Object(D.default)(c).create({errHandler:C,dashMetrics:x,mediaPlayerModel:R,requestModifier:A,errors:S})},loadInitialization:function le(G,De){return new Promise(function(ce){var Te=null,be=G?I.resolve(G.path):null,Oe=G?G.range.split("-"):null,ie={range:{start:Oe?parseFloat(Oe[0]):null,end:Oe?parseFloat(Oe[1]):null},request:Te,url:be?be.url:void 0,init:!0,mediaType:De};h.info("Start loading initialization."),Te=Y(ie),O.load({request:Te,success:function(){ce(G)},error:function(){ce(G)}}),h.debug("Perform init load: "+ie.url)})},loadSegments:function Re(G,De,ce){return new Promise(function(Te){var be=null,Oe=G?I.resolve(G.path):null,ie=Oe?Oe.url:void 0;be=Y({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:be,url:ie,init:!1,mediaType:De}),h.debug("Parsing ebml header"),O.load({request:be,success:function(Ie){!function oe(G,De,ce,Te){if(G&&0!==G.byteLength){var Oe,ie,ye,Ce,be=Object(t.default)(c).create({data:G}),de=ce?ce.split("-"):null,Me=null,pe={url:De,range:{start:de?parseFloat(de[0]):null,end:de?parseFloat(de[1]):null},request:Me};for(h.debug("Parse EBML header: "+pe.url),be.skipOverElement(p.EBML),be.consumeTag(p.Segment),ye=be.getMatroskaCodedNum(),ye+=be.getPos(),Ce=be.getPos();be.moreData()&&!be.consumeTagAndSize(p.Segment.Info,!0);)if(!(be.skipOverElement(p.Segment.SeekHead,!0)||be.skipOverElement(p.Segment.Tracks,!0)||be.skipOverElement(p.Segment.Cues,!0)||be.skipOverElement(p.Void,!0)))throw new Error("no valid top level element found");for(;void 0===Oe;){var Ie=be.getMatroskaCodedNum(!0),Be=be.getMatroskaCodedNum();Ie===p.Segment.Info.Duration.tag?Oe=be[p.Segment.Info.Duration.parse](Be):be.setPos(be.getPos()+Be)}Me=Y(pe),O.load({request:Me,success:function(Ne){ie=Z(Ne,Ce,ye,Oe),Te(ie)},error:function(){h.error("Download Error: Cues "+pe.url),Te(null)}}),h.debug("Perform cues load: "+pe.url+" bytes="+pe.range.start+"-"+pe.range.end)}else Te(null)}(Ie,ie,ce,function(Be){Te({segments:Be,representation:G,error:Be?void 0:new f.default(S.SEGMENT_BASE_LOADER_ERROR_CODE,S.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){Te({representation:G,error:new f.default(S.SEGMENT_BASE_LOADER_ERROR_CODE,S.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function ae(){O&&(O.abort(),O=null)}},function E(){p={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}(),d}i.__dashjs_factory_name="WebmSegmentBaseLoader",g.default=y.default.getSingletonFactory(i)},"./src/dash/constants/DashConstants.js":
/*!*********************************************!*\
                  !*** ./src/dash/constants/DashConstants.js ***!
                  \*********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function y(c,d){for(var h=0;h<d.length;h++){var p=d[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,P(p.key),p)}}function P(c){var d=function D(c,d){if("object"!==t(c)||null===c)return c;var h=c[Symbol.toPrimitive];if(void 0!==h){var p=h.call(c,d||"default");if("object"!==t(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}e.r(g);var i=new(function(){function c(){(function v(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.init()}return function m(c,d,h){return d&&y(c.prototype,d),h&&y(c,h),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.PROXY_SERVER_URL="proxyServerURL",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",SERVICE_LOCATION_PRIORITY:"SERVICE-LOCATION-PRIORITY"}}}]),c}());g.default=i},"./src/dash/controllers/ContentSteeringController.js":
/*!***********************************************************!*\
                  !*** ./src/dash/controllers/ContentSteeringController.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),y=e(
/*! ../../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),m=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),P=e(
/*! ../vo/ContentSteeringRequest */
"./src/dash/vo/ContentSteeringRequest.js"),D=e(
/*! ../vo/ContentSteeringResponse */
"./src/dash/vo/ContentSteeringResponse.js"),f=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),i=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),c=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),d=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),h=e(
/*! ../../core/Utils */
"./src/core/Utils.js"),p=e(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),C_THROUGHPUT="_DASH_throughput",C_PATHWAY="_DASH_pathway",C_URL="url";function A(){var O,S,I,E,L,b,B,Z,oe,le,Re,Y,ae,G,De,x=this.context,R=Object(p.default)(x).getInstance();function Oe(ee){ee&&ee.toStreamInfo&&(E=ee.toStreamInfo)}function ie(ee){ee&&ee.request&&ee.request.serviceLocation&&(L=ee.request.serviceLocation)}function ye(){var ee=Re.getValue();return De.getContentSteering(ee)}function de(){return new Promise(function(ee){try{var fe=ye();if(!fe||!fe.serverUrl)return void ee();var we=function Me(ee){var fe=ee.proxyServerUrl?ee.proxyServerUrl:ee.serverUrl;I&&I.reloadUri&&(fe=R.isRelative(I.reloadUri)?R.resolve(I.reloadUri,ee.serverUrl):I.reloadUri);var we=[];if(E){var q=De.getIsDynamic(),$=De.getAllMediaInfoForType(E,d.default.VIDEO).length>0?d.default.VIDEO:d.default.AUDIO,Q=ae.getThroughputHistory(),ne=Q?Q.getAverageThroughput($,q):NaN;isNaN(ne)||we.push({key:C_THROUGHPUT,value:1e3*ne})}return L&&we.push({key:C_PATHWAY,value:L}),ee.proxyServerUrl&&ee.proxyServerUrl===fe&&ee.serverUrl&&we.push({key:C_URL,value:encodeURI(ee.serverUrl)}),h.default.addAditionalQueryParameterToUrl(fe,we)}(fe),q=new P.default(we);B.load({request:q,success:function(Q){(function pe(ee){!ee||!ee[f.default.CONTENT_STEERING_RESPONSE.VERSION]||1!==parseInt(ee[f.default.CONTENT_STEERING_RESPONSE.VERSION])||((I=new D.default).version=ee[f.default.CONTENT_STEERING_RESPONSE.VERSION],ee[f.default.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(ee[f.default.CONTENT_STEERING_RESPONSE.TTL])&&(I.ttl=ee[f.default.CONTENT_STEERING_RESPONSE.TTL]),ee[f.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(I.reloadUri=ee[f.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]),ee[f.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]&&(I.serviceLocationPriority=ee[f.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]),Ie())})(Q),G.trigger(i.default.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:I,url:we}),ee()},error:function(Q){(function at(ee){S.warn("Error fetching data from content steering server",ee),Ie()})(Q),ee(Q)}})}catch($){ee($)}})}function Ie(){I&&I.ttl&&!isNaN(I.ttl)&&(b&&clearTimeout(b),b=setTimeout(function(){de()},1e3*I.ttl))}function Be(){b&&clearTimeout(b),b=null}function Ne(){I=null,E=null,L=null,Be()}return O={reset:function je(){Ne(),G.off(i.default.PERIOD_SWITCH_COMPLETED,Oe,O),G.off(c.default.FRAGMENT_LOADING_STARTED,ie,O)},setConfig:function Te(ee){ee&&(ee.adapter&&(De=ee.adapter),ee.errHandler&&(Z=ee.errHandler),ee.dashMetrics&&(oe=ee.dashMetrics),ee.mediaPlayerModel&&(le=ee.mediaPlayerModel),ee.requestModifier&&(Y=ee.requestModifier),ee.manifestModel&&(Re=ee.manifestModel),ee.abrController&&(ae=ee.abrController),ee.eventBus&&(G=ee.eventBus))},loadSteeringData:de,getCurrentSteeringResponseData:function Xe(){return I},shouldQueryBeforeStart:function Ce(){var ee=ye();return ee&&ee.queryBeforeStart},getSteeringDataFromManifest:ye,stopSteeringRequestTimer:Be,initialize:function be(){B=Object(y.default)(x).create({errHandler:Z,dashMetrics:oe,mediaPlayerModel:le,requestModifier:Y,errors:m.default}),G.on(i.default.PERIOD_SWITCH_COMPLETED,Oe,O),G.on(c.default.FRAGMENT_LOADING_STARTED,ie,O)}},function ce(){S=Object(v.default)(x).getInstance().getLogger(O),Ne()}(),O}A.__dashjs_factory_name="ContentSteeringController",g.default=t.default.getSingletonFactory(A)},"./src/dash/controllers/RepresentationController.js":
/*!**********************************************************!*\
                  !*** ./src/dash/controllers/RepresentationController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),m=e(
/*! ../utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function P(D){var S,I,E,L,b,f=(D=D||{}).eventBus,i=D.events,c=D.abrController,d=D.dashMetrics,h=D.playbackController,p=D.timelineConverter,C=D.type,A=D.streamInfo,x=D.dashConstants,R=D.segmentsController,O=D.isDynamic;function oe(){return C}function le(){if(!(c&&d&&h&&p))throw new Error(t.default.MISSING_CONFIG_ERROR)}function Y(){return E}function ae(){return b}function G(){I=null,E=!0,L=[]}function Te(je){return new Promise(function(Ne,ee){var fe=je.hasInitialization(),we=je.hasSegments(),q=[];q.push(R.updateInitData(je,fe)),q.push(R.updateSegmentData(je,we)),Promise.all(q).then(function($){$[0]&&!$[0].error&&(je=function Oe(je,Ne){return Ne&&!Ne.error&&Ne.representation?Ne.representation:je}(je,$[0])),$[1]&&!$[1].error&&(je=function ie(je,Ne){if(Ne&&!Ne.error){var q,$,Q,ne,ee=Ne.segments,fe=[],we=0;for(q=0,$=ee?ee.length:0;q<$;q++)Q=ee[q],(ne=Object(m.getTimeBasedSegment)(p,O,je,Q.startTime,Q.duration,Q.timescale,Q.media,Q.mediaRange,we))&&(fe.push(ne),ne=null,we++);return fe.length>0&&(je.segments=fe),je}}(je,$[1])),function be(je){je.mediaFinishedInformation=R.getMediaFinishedInformation(je)}(je),function Ie(je){if(Y()){var fe,Ne=d.getCurrentManifestUpdate(),ee=!1;if(Ne){for(var q=0;q<Ne.representationInfo.length;q++)if((fe=Ne.representationInfo[q]).index===je.index&&fe.mediaType===oe()){ee=!0;break}ee||d.addManifestUpdateRepresentationInfo(je,oe())}if(function Me(){for(var je=0,Ne=L.length;je<Ne;je++){var ee=L[je].segmentInfoType;if(!L[je].hasInitialization()||(ee===x.SEGMENT_BASE||ee===x.BASE_URL)&&!L[je].segments)return!1}return!0}()){c.setPlaybackQuality(C,A,function de(je){return L.indexOf(je)}(b));var $=d.getCurrentDVRInfo(C);$&&d.updateManifestUpdateInfo({latency:$.range.end-h.getTime()}),d.getCurrentRepresentationSwitch(ae().adaptation.type)||ye(),pe()}}}(je),Ne()}).catch(function($){ee($)})})}function ye(){le();var je=new Date,Ne=ae(),ee=1e3*h.getTime();Ne&&d.addRepresentationSwitch(Ne.adaptation.type,je,ee,Ne.id),f.trigger(y.default.REPRESENTATION_SWITCH,{mediaType:C,streamId:A.id,currentRepresentation:Ne,numberOfRepresentations:L.length},{streamId:A.id,mediaType:C})}function Ce(je){return null==je||je>=L.length?null:L[je]}function pe(je){E=!1,f.trigger(i.DATA_UPDATE_COMPLETED,{data:I,currentRepresentation:b,error:je},{streamId:A.id,mediaType:C})}function at(je){b=je}function Xe(je){if(je.newDuration){var Ne=ae();Ne&&Ne.adaptation.period&&(Ne.adaptation.period.duration=je.newDuration)}}return S={getStreamId:function Z(){return A.id},getType:oe,getData:function Re(){return I},isUpdating:Y,updateData:function ce(je,Ne,ee,fe,we){if(le(),E=!0,L=Ne,at(Ce(we)),I=je,ee!==t.default.VIDEO&&ee!==t.default.AUDIO&&(ee!==t.default.TEXT||!fe))return pe(),Promise.resolve();for(var $=[],Q=0,ne=L.length;Q<ne;Q++)$.push(Te(L[Q]));return Promise.all($)},getCurrentRepresentation:ae,getRepresentationForQuality:Ce,prepareQualityChange:function Be(je){at(Ce(je)),ye()},reset:function De(){f.off(y.default.MANIFEST_VALIDITY_CHANGED,Xe,S),G()}},function B(){G(),f.on(y.default.MANIFEST_VALIDITY_CHANGED,Xe,S)}(),S}P.__dashjs_factory_name="RepresentationController",g.default=v.default.getClassFactory(P)},"./src/dash/controllers/SegmentBaseController.js":
/*!*******************************************************!*\
                  !*** ./src/dash/controllers/SegmentBaseController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../SegmentBaseLoader */
"./src/dash/SegmentBaseLoader.js"),y=e(
/*! ../WebmSegmentBaseLoader */
"./src/dash/WebmSegmentBaseLoader.js");function m(D){var S,I,E,f=this.context,i=(D=D||{}).eventBus,c=D.events,d=D.dashMetrics,h=D.mediaPlayerModel,p=D.errHandler,C=D.baseURLController,A=D.debug,x=D.boxParser,R=D.requestModifier,O=D.errors;function b(Re){return"webm"===(Re?Re.split("/")[1]:"").toLowerCase()}return S={initialize:function B(){I.initialize(),E.initialize()},getSegmentBaseInitSegment:function Z(Re){return b(Re.representation.mimeType)?E.loadInitialization(Re.representation,Re.mediaType):I.loadInitialization(Re.representation,Re.mediaType)},getSegmentList:function oe(Re){return b(Re.mimeType)?E.loadSegments(Re.representation,Re.mediaType,Re.representation?Re.representation.indexRange:null):I.loadSegments(Re.representation,Re.mediaType,Re.representation?Re.representation.indexRange:null)},reset:function le(){I.reset(),E.reset()}},function L(){I=Object(v.default)(f).getInstance(),E=Object(y.default)(f).getInstance(),I.setConfig({baseURLController:C,dashMetrics:d,mediaPlayerModel:h,errHandler:p,eventBus:i,events:c,errors:O,debug:A,boxParser:x,requestModifier:R}),E.setConfig({baseURLController:C,dashMetrics:d,mediaPlayerModel:h,errHandler:p,eventBus:i,events:c,errors:O,debug:A,requestModifier:R})}(),S}m.__dashjs_factory_name="SegmentBaseController";var P=t.default.getSingletonFactory(m);g.default=P},"./src/dash/controllers/SegmentsController.js":
/*!****************************************************!*\
                  !*** ./src/dash/controllers/SegmentsController.js ***!
                  \****************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../utils/TimelineSegmentsGetter */
"./src/dash/utils/TimelineSegmentsGetter.js"),y=e(
/*! ../utils/TemplateSegmentsGetter */
"./src/dash/utils/TemplateSegmentsGetter.js"),m=e(
/*! ../utils/ListSegmentsGetter */
"./src/dash/utils/ListSegmentsGetter.js"),P=e(
/*! ../utils/SegmentBaseGetter */
"./src/dash/utils/SegmentBaseGetter.js");function D(i){var C,A,c=this.context,d=(i=i||{}).dashConstants,h=i.type,p=i.segmentBaseController;function I(B){return B?B.segments?A[d.SEGMENT_BASE]:A[B.segmentInfoType]:null}return C={initialize:function R(B){A[d.SEGMENT_TIMELINE]=Object(v.default)(c).create(i,B),A[d.SEGMENT_TEMPLATE]=Object(y.default)(c).create(i,B),A[d.SEGMENT_LIST]=Object(m.default)(c).create(i,B),A[d.SEGMENT_BASE]=Object(P.default)(c).create(i,B)},updateInitData:function O(B,Z){return Z?Promise.resolve():p.getSegmentBaseInitSegment({representation:B,mediaType:h})},updateSegmentData:function S(B,Z){return Z?Promise.resolve():p.getSegmentList({mimeType:B.mimeType,representation:B,mediaType:h})},getSegmentByIndex:function E(B,Z,oe){var le=I(B);return le?le.getSegmentByIndex(B,Z,oe):null},getSegmentByTime:function L(B,Z){var oe=I(B);return oe?oe.getSegmentByTime(B,Z):null},getMediaFinishedInformation:function b(B){var Z=I(B);return Z?Z.getMediaFinishedInformation(B):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},function x(){A={}}(),C}D.__dashjs_factory_name="SegmentsController";var f=t.default.getClassFactory(D);g.default=f},"./src/dash/controllers/ServiceDescriptionController.js":
/*!**************************************************************!*\
                  !*** ./src/dash/controllers/ServiceDescriptionController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),y=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),m=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),P=[y.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME],D_VIDEO="video",D_AUDIO="audio",D_ANY="any",D_ALL="all";function f(){var c,d,h,p,C,i=this.context;function O(){d={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{}},h=[]}function le(G,De,ce){try{d[G][De]=ce/1e3}catch(Te){p.error(Te)}}return c={getServiceDescriptionSettings:function S(){return d},getProducerReferenceTimeOffsets:function Re(){return h},calculateProducerReferenceTimeOffsets:function Y(G){try{var De=[];if(G&&G.length>0){var ce=[y.default.VIDEO,y.default.AUDIO,y.default.TEXT],Te=C.getAvailabilityStartTime()/1e3;G.forEach(function(be){var Oe=ce.reduce(function(ie,ye){return ie.concat(C.getAllMediaInfoForType(be,ye))},[]).reduce(function(ie,ye){return C.getProducerReferenceTimes(be,ye).forEach(function(de){var Me=C.getVoRepresentations(ye);if(Me&&Me.length>0&&Me[0].adaptation&&Me[0].segmentInfoType===m.default.SEGMENT_TEMPLATE){var pe=Me[0],Be=new Date(de[m.default.WALL_CLOCK_TIME]).getTime()/1e3;ie.push({id:de[m.default.ID],to:Te-(Be-(de[m.default.PRESENTATION_TIME]/pe[m.default.TIMESCALE]-pe[m.default.PRESENTATION_TIME_OFFSET]+be.start))})}}),ie},[]);De=De.concat(Oe)})}h=De}catch(be){p.error(be),h=[]}},applyServiceDescription:function I(G){if(G&&G.serviceDescriptions){var De=G.serviceDescriptions.filter(function(be){return P.includes(be.schemeIdUri)}),ce=G.serviceDescriptions.filter(function(be){return null==be.schemeIdUri}),Te=De.length>0?De[De.length-1]:ce[ce.length-1];Te&&(Te.latency&&Te.latency.target>0&&function E(G){var De;if(De=G.schemeIdUri===y.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME?function b(G){return{liveDelay:G.latency.target/1e3,maxDrift:!isNaN(G.latency.max)&&G.latency.max>G.latency.target?(G.latency.max-G.latency.target+500)/1e3:NaN,referenceId:G.latency.referenceId||NaN}}(G):function L(G){return{liveDelay:G.latency.target/1e3,maxDrift:!isNaN(G.latency.max)&&G.latency.max>G.latency.target?(G.latency.max-G.latency.target+500)/1e3:NaN,referenceId:G.latency.referenceId||NaN}}(G),h.length>0){var ce=function ae(G){var ce,De=0,Te=h.filter(function(be){return be.id===G.referenceId});return 0===Te.length?(De=h.length>0?h[0].to:0,ce=h[0].id||NaN):(De=Te[0].to||0,ce=Te[0].id||NaN),{to:De,id:ce}}(De),Te=ce.to,be=ce.id;d.liveDelay=De.liveDelay-Te,d.liveCatchup.maxDrift=De.maxDrift,p.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(Te," from ProducerReferenceTime element with id ").concat(be,".\n                Live Delay: ").concat(De.liveDelay-Te,", Live catchup max drift: ").concat(De.maxDrift,"\n            "))}else d.liveDelay=De.liveDelay,d.liveCatchup.maxDrift=De.maxDrift,p.debug("Found latency properties coming from service description: Live Delay: ".concat(De.liveDelay,", Live catchup max drift: ").concat(De.maxDrift))}(Te),Te.playbackRate&&function B(G){var De=G.playbackRate.min?Math.round(1e3*(G.playbackRate.min-1))/1e3:NaN,ce=G.playbackRate.max?Math.round(1e3*(G.playbackRate.max-1))/1e3:NaN;d.liveCatchup.playbackRate.min=De,d.liveCatchup.playbackRate.max=ce,p.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(De)),p.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(ce))}(Te),Te.operatingBandwidth&&function oe(G){if(G&&G.operatingBandwidth&&G.operatingBandwidth.mediaType&&G.operatingBandwidth.mediaType!==D_ALL){var De={};De.minBandwidth=G.operatingBandwidth.min,De.maxBandwidth=G.operatingBandwidth.max,De.targetBandwidth=G.operatingBandwidth.target;var ce=[];G.operatingBandwidth.mediaType===D_VIDEO||G.operatingBandwidth.mediaType===D_AUDIO?ce.push(G.operatingBandwidth.mediaType):G.operatingBandwidth.mediaType===D_ANY&&(ce.push(D_AUDIO),ce.push(D_VIDEO)),ce.forEach(function(Te){isNaN(De.minBandwidth)||le("minBitrate",Te,De.minBandwidth),isNaN(De.maxBandwidth)||le("maxBitrate",Te,De.maxBandwidth),isNaN(De.targetBandwidth)||le("initialBitrate",Te,De.targetBandwidth)})}}(Te))}},reset:function R(){O()},setConfig:function x(G){G&&G.adapter&&(C=G.adapter)}},function A(){p=Object(v.default)(i).getInstance().getLogger(c),O()}(),c}f.__dashjs_factory_name="ServiceDescriptionController",g.default=t.default.getSingletonFactory(f)},"./src/dash/models/DashManifestModel.js":
/*!**********************************************!*\
                  !*** ./src/dash/models/DashManifestModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),y=e(
/*! ../vo/Representation */
"./src/dash/vo/Representation.js"),m=e(
/*! ../vo/AdaptationSet */
"./src/dash/vo/AdaptationSet.js"),P=e(
/*! ../vo/Period */
"./src/dash/vo/Period.js"),D=e(
/*! ../vo/Mpd */
"./src/dash/vo/Mpd.js"),f=e(
/*! ../vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),i=e(
/*! ../vo/Event */
"./src/dash/vo/Event.js"),c=e(
/*! ../vo/BaseURL */
"./src/dash/vo/BaseURL.js"),d=e(
/*! ../vo/EventStream */
"./src/dash/vo/EventStream.js"),h=e(
/*! ../vo/ProducerReferenceTime */
"./src/dash/vo/ProducerReferenceTime.js"),p=e(
/*! ../vo/ContentSteering */
"./src/dash/vo/ContentSteering.js"),C=e(
/*! ../../streaming/utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),A=e(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),x=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),R=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),O=e(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),S=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),I=e(
/*! ../../streaming/thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js");function E(Y,ae){var G=typeof Symbol<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(!G){if(Array.isArray(Y)||(G=B(Y))||ae&&Y&&"number"==typeof Y.length){G&&(Y=G);var De=0,ce=function(){};return{s:ce,n:function(){return De>=Y.length?{done:!0}:{done:!1,value:Y[De++]}},e:function(ye){throw ye},f:ce}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Oe,Te=!0,be=!1;return{s:function(){G=G.call(Y)},n:function(){var ye=G.next();return Te=ye.done,ye},e:function(ye){be=!0,Oe=ye},f:function(){try{!Te&&null!=G.return&&G.return()}finally{if(be)throw Oe}}}}function L(Y){return function oe(Y){if(Array.isArray(Y))return le(Y)}(Y)||function Z(Y){if(typeof Symbol<"u"&&null!=Y[Symbol.iterator]||null!=Y["@@iterator"])return Array.from(Y)}(Y)||B(Y)||function b(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(Y,ae){if(Y){if("string"==typeof Y)return le(Y,ae);var G=Object.prototype.toString.call(Y).slice(8,-1);if("Object"===G&&Y.constructor&&(G=Y.constructor.name),"Map"===G||"Set"===G)return Array.from(Y);if("Arguments"===G||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return le(Y,ae)}}function le(Y,ae){(null==ae||ae>Y.length)&&(ae=Y.length);for(var G=0,De=new Array(ae);G<ae;G++)De[G]=Y[G];return De}function Re(){var Y,ae,G,De,ce=this.context,Te=Object(A.default)(ce).getInstance(),be=Number.isInteger||function(Mt){return"number"==typeof Mt&&isFinite(Mt)&&Math.floor(Mt)===Mt};function ie(Mt,ht){if(!Mt)throw new Error("adaptation is not defined");if(!ht)throw new Error("type is not defined");if(Mt.Representation_asArray&&Mt.Representation_asArray.length){var Tn=Xt(Mt.Representation_asArray[0]);if(Tn&&Tn.length>0&&I.THUMBNAILS_SCHEME_ID_URIS.indexOf(Tn[0].schemeIdUri)>=0)return ht===t.default.IMAGE}if(Mt.ContentComponent_asArray&&Mt.ContentComponent_asArray.length>0){if(Mt.ContentComponent_asArray.length>1)return ht===t.default.MUXED;if(Mt.ContentComponent_asArray[0].contentType===ht)return!0}var et=ht===t.default.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(ht);if(Mt.Representation_asArray&&Mt.Representation_asArray.length&&et.test(Mt.Representation_asArray[0].codecs))return!0;if(Mt.hasOwnProperty(v.default.MIME_TYPE))return et.test(Mt.mimeType);if(Mt.Representation_asArray)for(var Qt,Nt=0;Nt<Mt.Representation_asArray.length;Nt++)if((Qt=Mt.Representation_asArray[Nt]).hasOwnProperty(v.default.MIME_TYPE))return et.test(Qt.mimeType);return!1}function ye(Mt){if(!Mt)throw new Error("adaptation is not defined");if(Mt.hasOwnProperty(v.default.SEGMENT_TEMPLATE)||Mt.hasOwnProperty(v.default.SEGMENT_TIMELINE)||Mt.hasOwnProperty(v.default.SEGMENT_LIST)||Mt.hasOwnProperty(v.default.SEGMENT_BASE))return!0;if(Mt.Representation_asArray&&Mt.Representation_asArray.length>0){var ht=Mt.Representation_asArray[0];if(ht.hasOwnProperty(v.default.SEGMENT_TEMPLATE)||ht.hasOwnProperty(v.default.SEGMENT_TIMELINE)||ht.hasOwnProperty(v.default.SEGMENT_LIST)||ht.hasOwnProperty(v.default.SEGMENT_BASE))return!0}return!1}function Ce(Mt){return ie(Mt,t.default.AUDIO)}function de(Mt){return ie(Mt,t.default.VIDEO)}function Me(Mt){return ie(Mt,t.default.TEXT)}function pe(Mt){return ie(Mt,t.default.MUXED)}function Ie(Mt){return ie(Mt,t.default.IMAGE)}function we(){return function(Mt,ht){return Mt.bandwidth-ht.bandwidth}}function q(Mt){return Mt&&Array.isArray(Mt.Representation_asArray)&&Mt.Representation_asArray.sort(function(Mt,ht){return Mt.bandwidth-ht.bandwidth}),Mt}function $(Mt,ht){return Mt&&Mt.Period_asArray&&be(ht)&&Mt.Period_asArray[ht]?Mt.Period_asArray[ht].AdaptationSet_asArray:[]}function Q(Mt){return Mt&&Mt.Period_asArray?Mt.Period_asArray:[]}function tt(Mt){var ht=!1;return Mt&&Mt.hasOwnProperty("type")&&(ht=Mt.type===v.default.DYNAMIC),ht}function Xt(Mt){return Mt&&Mt.EssentialProperty_asArray&&Mt.EssentialProperty_asArray.length?Mt.EssentialProperty_asArray.map(function(ht){return{schemeIdUri:ht.schemeIdUri,value:ht.value}}):null}function vt(Mt){if(!Mt||!Mt.S_asArray)return NaN;var ht=Mt.S_asArray[0],Tn=Mt.S_asArray[1];return ht.hasOwnProperty("d")?ht.d:Tn.t-ht.t}function it(Mt){return Mt.adaptation.period.start-Mt.presentationTimeOffset}function st(Mt,ht){if(!Mt)throw new Error("Period cannot be null or undefined");var Tn=P.default.DEFAULT_ID+"_"+ht;return Mt.hasOwnProperty(v.default.ID)&&Mt.id.length>0&&"__proto__"!==Mt.id&&(Tn=Mt.id),Tn}function on(Mt,ht,Tn){var Dt,et=[];if(!Mt)return et;for(Dt=0;Dt<Mt.length;Dt++){var Qt=new d.default;if(Qt.timescale=1,Qt.representation=ht,!Mt[Dt].hasOwnProperty(t.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");Qt.schemeIdUri=Mt[Dt].schemeIdUri,Mt[Dt].hasOwnProperty(v.default.TIMESCALE)&&(Qt.timescale=Mt[Dt].timescale),Mt[Dt].hasOwnProperty(v.default.VALUE)&&(Qt.value=Mt[Dt].value),et.push(Qt),Qt.period=Tn}return et}function wn(Mt){var ht=[],et=!1;return(Mt.BaseURL_asArray||[Mt.baseUri]).some(function(Dt){if(Dt){var Qt=new c.default,Nt=Dt.__text||Dt;return Te.isRelative(Nt)&&(et=!0,Mt.baseUri&&(Nt=Te.resolve(Nt,Mt.baseUri))),Qt.url=Nt,Qt.serviceLocation=Dt.hasOwnProperty(v.default.SERVICE_LOCATION)&&Dt.serviceLocation.length?Dt.serviceLocation:Nt,Dt.hasOwnProperty(v.default.DVB_PRIORITY)&&(Qt.dvb_priority=Dt[v.default.DVB_PRIORITY]),Dt.hasOwnProperty(v.default.DVB_WEIGHT)&&(Qt.dvb_weight=Dt[v.default.DVB_WEIGHT]),Dt.hasOwnProperty(v.default.AVAILABILITY_TIME_OFFSET)&&(Qt.availabilityTimeOffset=Dt[v.default.AVAILABILITY_TIME_OFFSET]),Dt.hasOwnProperty(v.default.AVAILABILITY_TIME_COMPLETE)&&(Qt.availabilityTimeComplete="false"!==Dt[v.default.AVAILABILITY_TIME_COMPLETE]),ht.push(Qt),et}}),ht}return Y={getIsTypeOf:ie,getIsText:Me,getIsFragmented:ye,getProducerReferenceTimesForAdaptation:function Be(Mt){var ht=Mt&&Mt.hasOwnProperty(v.default.PRODUCERREFERENCETIME_ASARRAY)?Mt[v.default.PRODUCERREFERENCETIME_ASARRAY]:[];(Mt&&Mt.hasOwnProperty(v.default.REPRESENTATION_ASARRAY)?Mt[v.default.REPRESENTATION_ASARRAY]:[]).forEach(function(Dt){Dt.hasOwnProperty(v.default.PRODUCERREFERENCETIME_ASARRAY)&&ht.push.apply(ht,L(Dt[v.default.PRODUCERREFERENCETIME_ASARRAY]))});var et=[];return ht.forEach(function(Dt){var Qt=new h.default;Dt.hasOwnProperty(v.default.ID)&&(Qt[v.default.ID]=Dt[v.default.ID],Dt.hasOwnProperty(v.default.WALL_CLOCK_TIME)&&(Qt[v.default.WALL_CLOCK_TIME]=Dt[v.default.WALL_CLOCK_TIME],Dt.hasOwnProperty(v.default.PRESENTATION_TIME)&&(Qt[v.default.PRESENTATION_TIME]=Dt[v.default.PRESENTATION_TIME],et.push(Qt))))}),et},getLanguageForAdaptation:function at(Mt){var ht="";return Mt&&Mt.hasOwnProperty(v.default.LANG)&&(ht=Mt.lang),ht},getViewpointForAdaptation:function Xe(Mt){return Mt&&Mt.hasOwnProperty(v.default.VIEWPOINT)?Mt.Viewpoint:null},getRolesForAdaptation:function je(Mt){return Mt&&Mt.hasOwnProperty(v.default.ROLE_ASARRAY)?Mt.Role_asArray:[]},getAccessibilityForAdaptation:function Ne(Mt){return Mt&&Mt.hasOwnProperty(v.default.ACCESSIBILITY_ASARRAY)?Mt.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function ee(Mt){return Mt&&Mt.hasOwnProperty(v.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?Mt.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function fe(Mt){return Mt&&Mt.hasOwnProperty(v.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?Mt.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function re(Mt,ht,Tn){var et=$(ht,Tn);return et.length>0&&be(Mt)?et[Mt]:null},getIndexForAdaptation:function J(Mt,ht,Tn){if(!Mt)return-1;for(var et=$(ht,Tn),Dt=0;Dt<et.length;Dt++)if(Object(C.default)(ce).getInstance().areEqual(et[Dt],Mt))return Dt;return-1},getAdaptationForId:function X(Mt,ht,Tn){var Dt,Qt,et=$(ht,Tn);for(Dt=0,Qt=et.length;Dt<Qt;Dt++)if(et[Dt].hasOwnProperty(v.default.ID)&&et[Dt].id===Mt)return et[Dt];return null},getAdaptationsForType:function ge(Mt,ht,Tn){var Dt,Qt,et=$(Mt,ht),Nt=[];for(Dt=0,Qt=et.length;Dt<Qt;Dt++)ie(et[Dt],Tn)&&Nt.push(q(et[Dt]));return Nt},getRealPeriods:Q,getRealPeriodForIndex:function ne(Mt,ht){var Tn=Q(ht);return Tn.length>0&&be(Mt)?Tn[Mt]:null},getCodec:function Se(Mt,ht,Tn){var et=null;if(Mt&&Mt.Representation_asArray&&Mt.Representation_asArray.length>0){var Dt=be(ht)&&ht>=0&&ht<Mt.Representation_asArray.length?Mt.Representation_asArray[ht]:Mt.Representation_asArray[0];Dt&&(et=Dt.mimeType+';codecs="'+Dt.codecs+'"',Tn&&void 0!==Dt.width&&(et+=';width="'+Dt.width+'";height="'+Dt.height+'"'))}return et&&(et=et.replace(/\sprofiles=[^;]*/g,"")),et},getSelectionPriority:function Jt(Mt){try{var ht=Mt&&typeof Mt.selectionPriority<"u"?parseInt(Mt.selectionPriority):1;return isNaN(ht)?1:ht}catch{return 1}},getMimeType:function Ee(Mt){return Mt&&Mt.Representation_asArray&&Mt.Representation_asArray.length>0?Mt.Representation_asArray[0].mimeType:null},getKID:function Fe(Mt){return Mt&&Mt.hasOwnProperty(v.default.CENC_DEFAULT_KID)?Mt[v.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function ct(Mt){if(!Mt||!Array.isArray(Mt.Label_asArray))return[];for(var ht=[],Tn=0;Tn<Mt.Label_asArray.length;Tn++)ht.push({lang:Mt.Label_asArray[Tn].lang,text:Mt.Label_asArray[Tn].__text||Mt.Label_asArray[Tn]});return ht},getContentProtectionData:function qe(Mt){return Mt&&Mt.hasOwnProperty(v.default.CONTENTPROTECTION_ASARRAY)&&0!==Mt.ContentProtection_asArray.length?Mt.ContentProtection_asArray:null},getIsDynamic:tt,getId:function gt(Mt){return Mt&&Mt[v.default.ID]||null},hasProfile:function Qe(Mt,ht){var Tn=!1;return Mt&&Mt.profiles&&Mt.profiles.length>0&&(Tn=-1!==Mt.profiles.indexOf(ht)),Tn},getDuration:function yt(Mt){return Mt&&Mt.hasOwnProperty(v.default.MEDIA_PRESENTATION_DURATION)?Mt.mediaPresentationDuration:Mt&&"dynamic"==Mt.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function Et(Mt){return Mt&&Mt.bandwidth?Mt.bandwidth:NaN},getManifestUpdatePeriod:function me(Mt){var ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Tn=NaN;return Mt&&Mt.hasOwnProperty(v.default.MINIMUM_UPDATE_PERIOD)&&(Tn=Mt.minimumUpdatePeriod),isNaN(Tn)?Tn:Math.max(Tn-ht,1)},getPublishTime:function We(Mt){return Mt&&Mt.hasOwnProperty(v.default.PUBLISH_TIME)?new Date(Mt[v.default.PUBLISH_TIME]):null},getRepresentationCount:function Tt(Mt){return Mt&&Array.isArray(Mt.Representation_asArray)?Mt.Representation_asArray.length:0},getBitrateListForAdaptation:function Kt(Mt){var ht=q(Mt);return(ht&&Array.isArray(ht.Representation_asArray)?ht.Representation_asArray:[]).map(function(et){return{bandwidth:et.bandwidth,width:et.width||0,height:et.height||0,scanType:et.scanType||null,id:et.id||null}})},getRepresentationFor:function un(Mt,ht){return ht&&ht.Representation_asArray&&ht.Representation_asArray.length>0&&be(Mt)?ht.Representation_asArray[Mt]:null},getRepresentationsForAdaptation:function It(Mt){var et,Dt,ht=[],Tn=function fn(Mt){if(Mt&&Mt.period&&be(Mt.period.index)){var ht=Mt.period.mpd.manifest.Period_asArray[Mt.period.index];if(ht&&ht.AdaptationSet_asArray&&be(Mt.index))return q(ht.AdaptationSet_asArray[Mt.index])}}(Mt);if(Tn&&Tn.Representation_asArray){if(Mt&&Mt.period&&be(Mt.period.index)){var Qt=wn(Mt.period.mpd.manifest);Qt&&(Dt=Qt[0])}for(var Nt=0,xn=Tn.Representation_asArray.length;Nt<xn;++Nt){var kt=Tn.Representation_asArray[Nt],wt=new y.default;if(wt.index=Nt,wt.adaptation=Mt,kt.hasOwnProperty(v.default.ID)&&(wt.id=kt.id),kt.hasOwnProperty(v.default.CODECS)&&(wt.codecs=kt.codecs),kt.hasOwnProperty(v.default.MIME_TYPE)&&(wt.mimeType=kt[v.default.MIME_TYPE]),kt.hasOwnProperty(v.default.CODEC_PRIVATE_DATA)&&(wt.codecPrivateData=kt.codecPrivateData),kt.hasOwnProperty(v.default.BANDWITH)&&(wt.bandwidth=kt.bandwidth),kt.hasOwnProperty(v.default.WIDTH)&&(wt.width=kt.width),kt.hasOwnProperty(v.default.HEIGHT)&&(wt.height=kt.height),kt.hasOwnProperty(v.default.SCAN_TYPE)&&(wt.scanType=kt.scanType),kt.hasOwnProperty(v.default.MAX_PLAYOUT_RATE)&&(wt.maxPlayoutRate=kt.maxPlayoutRate),kt.hasOwnProperty(v.default.SEGMENT_BASE)?(et=kt.SegmentBase,wt.segmentInfoType=v.default.SEGMENT_BASE):kt.hasOwnProperty(v.default.SEGMENT_LIST)?wt.segmentInfoType=(et=kt.SegmentList).hasOwnProperty(v.default.SEGMENT_TIMELINE)?v.default.SEGMENT_TIMELINE:v.default.SEGMENT_LIST:kt.hasOwnProperty(v.default.SEGMENT_TEMPLATE)?(wt.segmentInfoType=(et=kt.SegmentTemplate).hasOwnProperty(v.default.SEGMENT_TIMELINE)?v.default.SEGMENT_TIMELINE:v.default.SEGMENT_TEMPLATE,et.hasOwnProperty(v.default.INITIALIZATION_MINUS)&&(wt.initialization=et.initialization.split("$Bandwidth$").join(kt.bandwidth).split("$RepresentationID$").join(kt.id))):wt.segmentInfoType=v.default.BASE_URL,wt.essentialProperties=Xt(kt),et){if(et.hasOwnProperty(v.default.INITIALIZATION)){var Pt=et.Initialization;Pt.hasOwnProperty(v.default.SOURCE_URL)&&(wt.initialization=Pt.sourceURL),Pt.hasOwnProperty(v.default.RANGE)&&(wt.range=Pt.range)}else Me(Tn)&&ye(Tn)&&Tn.mimeType&&-1===Tn.mimeType.indexOf("application/mp4")&&(wt.range=0);et.hasOwnProperty(v.default.TIMESCALE)&&(wt.timescale=et.timescale),et.hasOwnProperty(v.default.DURATION)?wt.segmentDuration=et.duration/wt.timescale:kt.hasOwnProperty(v.default.SEGMENT_TEMPLATE)&&(et=kt.SegmentTemplate).hasOwnProperty(v.default.SEGMENT_TIMELINE)&&(wt.segmentDuration=vt(et.SegmentTimeline)/wt.timescale),et.hasOwnProperty(v.default.MEDIA)&&(wt.media=et.media),et.hasOwnProperty(v.default.START_NUMBER)&&(wt.startNumber=et.startNumber),et.hasOwnProperty(v.default.INDEX_RANGE)&&(wt.indexRange=et.indexRange),et.hasOwnProperty(v.default.PRESENTATION_TIME_OFFSET)&&(wt.presentationTimeOffset=et.presentationTimeOffset/wt.timescale),et.hasOwnProperty(v.default.AVAILABILITY_TIME_OFFSET)?wt.availabilityTimeOffset=et.availabilityTimeOffset:Dt&&void 0!==Dt.availabilityTimeOffset&&(wt.availabilityTimeOffset=Dt.availabilityTimeOffset),et.hasOwnProperty(v.default.AVAILABILITY_TIME_COMPLETE)?wt.availabilityTimeComplete="false"!==et.availabilityTimeComplete:Dt&&void 0!==Dt.availabilityTimeComplete&&(wt.availabilityTimeComplete=Dt.availabilityTimeComplete)}wt.MSETimeOffset=it(wt),wt.path=[Mt.period.index,Mt.index,Nt],ht.push(wt)}}return ht},getAdaptationsForPeriod:function He(Mt){var et,Dt,Qt,ht=Mt&&be(Mt.index)?Mt.mpd.manifest.Period_asArray[Mt.index]:null,Tn=[];if(ht&&ht.AdaptationSet_asArray)for(Qt=0;Qt<ht.AdaptationSet_asArray.length;Qt++)Dt=ht.AdaptationSet_asArray[Qt],et=new m.default,Dt.hasOwnProperty(v.default.ID)&&(et.id=Dt.id),et.index=Qt,et.period=Mt,pe(Dt)?et.type=t.default.MUXED:Ce(Dt)?et.type=t.default.AUDIO:de(Dt)?et.type=t.default.VIDEO:Me(Dt)?et.type=t.default.TEXT:Ie(Dt)?et.type=t.default.IMAGE:ae.warn("Unknown Adaptation stream type"),Tn.push(et);return Tn},getRegularPeriods:function Ze(Mt){var xn,kt,ht=!!Mt&&tt(Mt.manifest),Tn=[],et=null,Dt=null,Qt=null,Nt=null;for(kt=0,xn=Mt&&Mt.manifest&&Mt.manifest.Period_asArray?Mt.manifest.Period_asArray.length:0;kt<xn;kt++)(Dt=Mt.manifest.Period_asArray[kt]).hasOwnProperty(v.default.START)?(Nt=new P.default).start=Dt.start:null!==et&&et.hasOwnProperty(v.default.DURATION)&&null!==Qt?(Nt=new P.default).start=parseFloat((Qt.start+Qt.duration).toFixed(5)):0===kt&&!ht&&((Nt=new P.default).start=0),null!==Qt&&isNaN(Qt.duration)&&(null!==Nt?Qt.duration=parseFloat((Nt.start-Qt.start).toFixed(5)):ae.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==Nt&&(Nt.id=st(Dt,kt),Nt.index=kt,Nt.mpd=Mt,Dt.hasOwnProperty(v.default.DURATION)&&(Nt.duration=Dt.duration),Qt&&(Qt.nextPeriodId=Nt.id),Tn.push(Nt),et=Dt,Qt=Nt),Dt=null,Nt=null;return 0===Tn.length||null!==Qt&&isNaN(Qt.duration)&&(Qt.duration=parseFloat((function bt(Mt){!function St(){if(!G||!G.hasOwnProperty("error"))throw new Error(t.default.MISSING_CONFIG_ERROR)}();var Tn,ht=tt(Mt.mpd.manifest);return Mt.mpd.manifest.mediaPresentationDuration?Tn=Mt.mpd.manifest.mediaPresentationDuration:Mt.duration?Tn=Mt.duration:ht?Tn=Number.POSITIVE_INFINITY:G.error(new O.default(S.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",Mt)),Tn}(Qt)-Qt.start).toFixed(5))),Tn},getMpd:function lt(Mt){var ht=new D.default;return Mt&&(ht.manifest=Mt,Mt.hasOwnProperty(v.default.AVAILABILITY_START_TIME)?ht.availabilityStartTime=new Date(Mt.availabilityStartTime.getTime()):Mt.loadedTime&&(ht.availabilityStartTime=new Date(Mt.loadedTime.getTime())),Mt.hasOwnProperty(v.default.AVAILABILITY_END_TIME)&&(ht.availabilityEndTime=new Date(Mt.availabilityEndTime.getTime())),Mt.hasOwnProperty(v.default.MINIMUM_UPDATE_PERIOD)&&(ht.minimumUpdatePeriod=Mt.minimumUpdatePeriod),Mt.hasOwnProperty(v.default.MEDIA_PRESENTATION_DURATION)&&(ht.mediaPresentationDuration=Mt.mediaPresentationDuration),Mt.hasOwnProperty(v.default.SUGGESTED_PRESENTATION_DELAY)&&(ht.suggestedPresentationDelay=Mt.suggestedPresentationDelay),Mt.hasOwnProperty(v.default.TIMESHIFT_BUFFER_DEPTH)&&(ht.timeShiftBufferDepth=Mt.timeShiftBufferDepth),Mt.hasOwnProperty(v.default.MAX_SEGMENT_DURATION)&&(ht.maxSegmentDuration=Mt.maxSegmentDuration),Mt.hasOwnProperty(v.default.PUBLISH_TIME)&&(ht.publishTime=new Date(Mt.publishTime))),ht},getEventsForPeriod:function At(Mt){var Qt,Nt,ht=Mt&&Mt.mpd&&Mt.mpd.manifest?Mt.mpd.manifest:null,Tn=ht?ht.Period_asArray:null,et=Tn&&Mt&&be(Mt.index)?Tn[Mt.index].EventStream_asArray:null,Dt=[];if(et)for(Qt=0;Qt<et.length;Qt++){var xn=new d.default;if(xn.period=Mt,xn.timescale=1,!et[Qt].hasOwnProperty(t.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(xn.schemeIdUri=et[Qt][t.default.SCHEME_ID_URI],et[Qt].hasOwnProperty(v.default.TIMESCALE)&&(xn.timescale=et[Qt][v.default.TIMESCALE]),et[Qt].hasOwnProperty(v.default.VALUE)&&(xn.value=et[Qt][v.default.VALUE]),et[Qt].hasOwnProperty(v.default.PRESENTATION_TIME_OFFSET)&&(xn.presentationTimeOffset=et[Qt][v.default.PRESENTATION_TIME_OFFSET]),Nt=0;et[Qt].Event_asArray&&Nt<et[Qt].Event_asArray.length;Nt++){var kt=et[Qt].Event_asArray[Nt],wt=new i.default;wt.presentationTime=0,wt.eventStream=xn,kt.hasOwnProperty(v.default.PRESENTATION_TIME)&&(wt.presentationTime=kt.presentationTime),wt.calculatedPresentationTime=wt.presentationTime/xn.timescale+Mt.start-(xn.presentationTimeOffset?xn.presentationTimeOffset/xn.timescale:0),kt.hasOwnProperty(v.default.DURATION)&&(wt.duration=kt.duration/xn.timescale),wt.id=kt.hasOwnProperty(v.default.ID)?kt.id:null,wt.messageData=kt.Signal&&kt.Signal.Binary?De.decodeArray(kt.Signal.Binary.toString()):kt.messageData||kt.__cdata||kt.__text,Dt.push(wt)}}return Dt},getEssentialPropertiesForRepresentation:Xt,getEventStreamForAdaptationSet:function En(Mt,ht,Tn){var et,Dt,Qt;return Mt&&Mt.Period_asArray&&ht&&ht.period&&be(ht.period.index)&&(Dt=Mt.Period_asArray[ht.period.index])&&Dt.AdaptationSet_asArray&&be(ht.index)&&(Qt=Dt.AdaptationSet_asArray[ht.index])&&(et=Qt.InbandEventStream_asArray),on(et,null,Tn)},getEventStreamForRepresentation:function tn(Mt,ht,Tn){var et,Dt,Qt,Nt;return Mt&&Mt.Period_asArray&&ht&&ht.adaptation&&ht.adaptation.period&&be(ht.adaptation.period.index)&&(Dt=Mt.Period_asArray[ht.adaptation.period.index])&&Dt.AdaptationSet_asArray&&be(ht.adaptation.index)&&(Qt=Dt.AdaptationSet_asArray[ht.adaptation.index])&&Qt.Representation_asArray&&be(ht.index)&&(Nt=Qt.Representation_asArray[ht.index])&&(et=Nt.InbandEventStream_asArray),on(et,ht,Tn)},getUTCTimingSources:function Mn(Mt){var ht=tt(Mt),Tn=!!Mt&&Mt.hasOwnProperty(v.default.AVAILABILITY_START_TIME),et=Mt?Mt.UTCTiming_asArray:null,Dt=[];return(ht||Tn)&&et&&et.forEach(function(Qt){var Nt=new f.default;Qt.hasOwnProperty(t.default.SCHEME_ID_URI)&&(Nt.schemeIdUri=Qt.schemeIdUri,Qt.hasOwnProperty(v.default.VALUE)&&(Nt.value=Qt.value.toString(),Dt.push(Nt)))}),Dt},getBaseURLsFromElement:wn,getRepresentationSortFunction:we,getContentSteering:function Nn(Mt){if(Mt&&Mt.hasOwnProperty(v.default.CONTENT_STEERING_AS_ARRAY)){var ht=Mt[v.default.CONTENT_STEERING_AS_ARRAY][0],Tn=new p.default;return Tn.serverUrl=ht.__text,ht.hasOwnProperty(v.default.DEFAULT_SERVICE_LOCATION)&&(Tn.defaultServiceLocation=ht[v.default.DEFAULT_SERVICE_LOCATION]),ht.hasOwnProperty(v.default.QUERY_BEFORE_START)&&(Tn.queryBeforeStart="true"===ht[v.default.QUERY_BEFORE_START].toLowerCase()),ht.hasOwnProperty(v.default.PROXY_SERVER_URL)&&(Tn.proxyServerUrl=ht[v.default.PROXY_SERVER_URL]),Tn}},getLocation:function $n(Mt){if(Mt&&Mt.hasOwnProperty(t.default.LOCATION))return Mt.Location=Mt.Location_asArray[0],Mt.Location},getPatchLocation:function ti(Mt){if(Mt&&Mt.hasOwnProperty(v.default.PATCH_LOCATION))return Mt.PatchLocation=Mt.PatchLocation_asArray[0],Mt.PatchLocation},getSuggestedPresentationDelay:function vn(Mt){return Mt&&Mt.hasOwnProperty(v.default.SUGGESTED_PRESENTATION_DELAY)?Mt.suggestedPresentationDelay:null},getAvailabilityStartTime:function pn(Mt){return Mt&&Mt.hasOwnProperty(v.default.AVAILABILITY_START_TIME)&&null!==Mt.availabilityStartTime?Mt.availabilityStartTime.getTime():null},getServiceDescriptions:function yn(Mt){var ht=[];if(Mt&&Mt.hasOwnProperty(v.default.SERVICE_DESCRIPTION)){var et,Tn=E(Mt.ServiceDescription_asArray);try{for(Tn.s();!(et=Tn.n()).done;){var Dt=et.value,Qt=null,Nt=null,xn=null,kt=null,wt=null,Pt=null;for(var en in Dt)Dt.hasOwnProperty(en)&&(en===v.default.ID?Qt=Dt[en]:en===v.default.SERVICE_DESCRIPTION_SCOPE?Nt=Dt[en].schemeIdUri:en===v.default.SERVICE_DESCRIPTION_LATENCY?xn={target:parseInt(Dt[en].target),max:parseInt(Dt[en].max),min:parseInt(Dt[en].min),referenceId:parseInt(Dt[en].referenceId)}:en===v.default.SERVICE_DESCRIPTION_PLAYBACK_RATE?kt={max:parseFloat(Dt[en].max),min:parseFloat(Dt[en].min)}:en===v.default.SERVICE_DESCRIPTION_OPERATING_QUALITY?wt={mediaType:Dt[en].mediaType,max:parseInt(Dt[en].max),min:parseInt(Dt[en].min),target:parseInt(Dt[en].target),type:Dt[en].type,maxQualityDifference:parseInt(Dt[en].maxQualityDifference)}:en===v.default.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH&&(Pt={mediaType:Dt[en].mediaType,max:parseInt(Dt[en].max),min:parseInt(Dt[en].min),target:parseInt(Dt[en].target)}));ht.push({id:Qt,schemeIdUri:Nt,latency:xn,playbackRate:kt,operatingQuality:wt,operatingBandwidth:Pt})}}catch(An){Tn.e(An)}finally{Tn.f()}}return ht},getSupplementalProperties:function mn(Mt){var ht={};if(Mt&&Mt.hasOwnProperty(v.default.SUPPLEMENTAL_PROPERTY)){var et,Tn=E(Mt.SupplementalProperty_asArray);try{for(Tn.s();!(et=Tn.n()).done;){var Dt=et.value;Dt.hasOwnProperty(t.default.SCHEME_ID_URI)&&Dt.hasOwnProperty(v.default.VALUE)&&(ht[Dt[t.default.SCHEME_ID_URI]]=Dt[v.default.VALUE])}}catch(Qt){Tn.e(Qt)}finally{Tn.f()}}return ht},setConfig:function _n(Mt){Mt&&(Mt.errHandler&&(G=Mt.errHandler),Mt.BASE64&&(De=Mt.BASE64))}},function Oe(){ae=Object(R.default)(ce).getInstance().getLogger(Y)}(),Y}Re.__dashjs_factory_name="DashManifestModel",g.default=x.default.getSingletonFactory(Re)},"./src/dash/models/PatchManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/dash/models/PatchManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),m=e(
/*! ../vo/SimpleXPath */
"./src/dash/vo/SimpleXPath.js"),P=e(
/*! ../vo/PatchOperation */
"./src/dash/vo/PatchOperation.js");function D(){var f,i,c=this.context;return f={getIsPatch:function h(R){return R&&R.hasOwnProperty(t.default.ORIGINAL_MPD_ID)||!1},getPublishTime:function p(R){return R&&R.hasOwnProperty(t.default.PUBLISH_TIME)?new Date(R[t.default.PUBLISH_TIME]):null},getOriginalPublishTime:function C(R){return R&&R.hasOwnProperty(t.default.ORIGINAL_PUBLISH_TIME)?new Date(R[t.default.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function A(R){return R&&R[t.default.ORIGINAL_MPD_ID]||null},getPatchOperations:function x(R){return R?(R.__children||[]).map(function(O){var S=Object.keys(O)[0];if("add"!==S&&"remove"!==S&&"replace"!==S)return i.warn("Ignoring node of invalid action: ".concat(S)),null;var I=O[S],E=I.sel;if("add"===S&&I.type){if(!I.type.startsWith("@"))return i.warn("Ignoring add action for prefixed namespace declaration: ".concat(I.type,"=").concat(I.__text)),null;E="".concat(E,"/").concat(I.type)}var L=new m.default(E);if(!L.isValid())return i.warn("Ignoring action with invalid selector: ".concat(S," - ").concat(E)),null;var b=null;L.findsAttribute()?b=I.__text||"":"remove"!==S&&(b=I.__children.reduce(function(Z,oe){var le=Object.keys(oe)[0];return"#text"!==le&&(Z[le]=Z[le]||[],Z[le].push(oe[le])),Z},{}));var B=new P.default(S,L,b);return"add"===S&&(B.position=I.pos),B}).filter(function(O){return!!O}):[]}},function d(){i=Object(y.default)(c).getInstance().getLogger(f)}(),f}D.__dashjs_factory_name="PatchManifestModel",g.default=v.default.getSingletonFactory(D)},"./src/dash/parser/DashParser.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/DashParser.js ***!
                  \***************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ./objectiron */
"./src/dash/parser/objectiron.js"),y=e(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),m=e(
/*! ./matchers/StringMatcher */
"./src/dash/parser/matchers/StringMatcher.js"),P=e(
/*! ./matchers/DurationMatcher */
"./src/dash/parser/matchers/DurationMatcher.js"),D=e(
/*! ./matchers/DateTimeMatcher */
"./src/dash/parser/matchers/DateTimeMatcher.js"),f=e(
/*! ./matchers/NumericMatcher */
"./src/dash/parser/matchers/NumericMatcher.js"),i=e(
/*! ./matchers/LangMatcher */
"./src/dash/parser/matchers/LangMatcher.js"),c=e(
/*! ./maps/RepresentationBaseValuesMap */
"./src/dash/parser/maps/RepresentationBaseValuesMap.js"),d=e(
/*! ./maps/SegmentValuesMap */
"./src/dash/parser/maps/SegmentValuesMap.js");function h(p){var x,R,O,S,I,C=this.context,A=(p=p||{}).debug;return x={parse:function B(Z){var oe,le=window.performance.now();if(!(oe=S.xml_str2json(Z)))throw new Error("parsing the manifest failed");var Re=window.performance.now();oe.Patch?((oe=oe.Patch).add_asArray&&oe.add_asArray.forEach(function(ae){return I.run(ae)}),oe.replace_asArray&&oe.replace_asArray.forEach(function(ae){return I.run(ae)})):I.run(oe=oe.MPD);var Y=window.performance.now();return R.info("Parsing complete: ( xml2json: "+(Re-le).toPrecision(3)+"ms, objectiron: "+(Y-Re).toPrecision(3)+"ms, total: "+((Y-le)/1e3).toPrecision(3)+"s)"),oe.protocol="DASH",oe},getMatchers:function L(){return O},getIron:function b(){return I}},function E(){R=A.getLogger(x),O=[new P.default,new D.default,new f.default,new i.default,new m.default],S=new y.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:O}),I=Object(v.default)(C).create({adaptationset:new c.default,period:new d.default})}(),x}h.__dashjs_factory_name="DashParser",g.default=t.default.getClassFactory(h)},"./src/dash/parser/maps/CommonProperty.js":
/*!************************************************!*\
                  !*** ./src/dash/parser/maps/CommonProperty.js ***!
                  \************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function y(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,P(h.key),h)}}function P(i){var c=function D(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=function(){function i(c){!function v(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")}(this,i);var p;this._name=c,this._merge=(p=c)&&p.length&&p.charAt(0)===p.charAt(0).toUpperCase()}return function m(i,c,d){return c&&y(i.prototype,c),d&&y(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),i}()},"./src/dash/parser/maps/MapNode.js":
/*!*****************************************!*\
                  !*** ./src/dash/parser/maps/MapNode.js ***!
                  \*****************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./CommonProperty */
"./src/dash/parser/maps/CommonProperty.js");function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function m(c,d){for(var h=0;h<d.length;h++){var p=d[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,D(p.key),p)}}function D(c){var d=function f(c,d){if("object"!==v(c)||null===c)return c;var h=c[Symbol.toPrimitive];if(void 0!==h){var p=h.call(c,d||"default");if("object"!==v(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===v(d)?d:String(d)}g.default=function(){function c(d,h,p){var C=this;(function y(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this._name=d||"",this._properties=[],this._children=p||[],Array.isArray(h)&&h.forEach(function(A){C._properties.push(new t.default(A))})}return function P(c,d,h){return d&&m(c.prototype,d),h&&m(c,h),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),c}()},"./src/dash/parser/maps/RepresentationBaseValuesMap.js":
/*!*************************************************************!*\
                  !*** ./src/dash/parser/maps/RepresentationBaseValuesMap.js ***!
                  \*************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),v=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function y(O){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(O)}function m(O,S){for(var I=0;I<S.length;I++){var E=S[I];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(O,D(E.key),E)}}function D(O){var S=function f(O,S){if("object"!==y(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var E=I.call(O,S||"default");if("object"!==y(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)(O)}(O,"string");return"symbol"===y(S)?S:String(S)}function c(O,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),S&&d(O,S)}function d(O,S){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,L){return E.__proto__=L,E})(O,S)}function h(O){var S=function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,E=x(O);if(S){var b=x(this).constructor;L=Reflect.construct(E,arguments,b)}else L=E.apply(this,arguments);return function p(O,S){if(S&&("object"===y(S)||"function"==typeof S))return S;if(void 0!==S)throw new TypeError("Derived constructors may only return object or undefined");return function C(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function x(O){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}g.default=function(O){c(I,O);var S=h(I);function I(){!function i(O,S){if(!(O instanceof S))throw new TypeError("Cannot call a class as a function")}(this,I);var E=[v.default.PROFILES,v.default.WIDTH,v.default.HEIGHT,v.default.SAR,v.default.FRAMERATE,v.default.AUDIO_SAMPLING_RATE,v.default.MIME_TYPE,v.default.SEGMENT_PROFILES,v.default.CODECS,v.default.MAXIMUM_SAP_PERIOD,v.default.START_WITH_SAP,v.default.MAX_PLAYOUT_RATE,v.default.CODING_DEPENDENCY,v.default.SCAN_TYPE,v.default.FRAME_PACKING,v.default.AUDIO_CHANNEL_CONFIGURATION,v.default.CONTENT_PROTECTION,v.default.ESSENTIAL_PROPERTY,v.default.SUPPLEMENTAL_PROPERTY,v.default.INBAND_EVENT_STREAM];return S.call(this,v.default.ADAPTATION_SET,E,[new t.default(v.default.REPRESENTATION,E,[new t.default(v.default.SUB_REPRESENTATION,E)])])}return function P(O,S,I){return S&&m(O.prototype,S),I&&m(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(t.default)},"./src/dash/parser/maps/SegmentValuesMap.js":
/*!**************************************************!*\
                  !*** ./src/dash/parser/maps/SegmentValuesMap.js ***!
                  \**************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),v=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function y(O){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(O)}function m(O,S){for(var I=0;I<S.length;I++){var E=S[I];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(O,D(E.key),E)}}function D(O){var S=function f(O,S){if("object"!==y(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var E=I.call(O,S||"default");if("object"!==y(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)(O)}(O,"string");return"symbol"===y(S)?S:String(S)}function c(O,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),S&&d(O,S)}function d(O,S){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,L){return E.__proto__=L,E})(O,S)}function h(O){var S=function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,E=x(O);if(S){var b=x(this).constructor;L=Reflect.construct(E,arguments,b)}else L=E.apply(this,arguments);return function p(O,S){if(S&&("object"===y(S)||"function"==typeof S))return S;if(void 0!==S)throw new TypeError("Derived constructors may only return object or undefined");return function C(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function x(O){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}g.default=function(O){c(I,O);var S=h(I);function I(){!function i(O,S){if(!(O instanceof S))throw new TypeError("Cannot call a class as a function")}(this,I);var E=[v.default.SEGMENT_BASE,v.default.SEGMENT_TEMPLATE,v.default.SEGMENT_LIST];return S.call(this,v.default.PERIOD,E,[new t.default(v.default.ADAPTATION_SET,E,[new t.default(v.default.REPRESENTATION,E)])])}return function P(O,S,I){return S&&m(O.prototype,S),I&&m(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(t.default)},"./src/dash/parser/matchers/BaseMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/BaseMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function y(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,P(h.key),h)}}function P(i){var c=function D(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=function(){function i(c,d){(function v(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this._test=c,this._converter=d}return function m(i,c,d){return c&&y(i.prototype,c),d&&y(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),i}()},"./src/dash/parser/matchers/DateTimeMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DateTimeMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function v(E){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(E)}function y(E,L){for(var b=0;b<L.length;b++){var B=L[b];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(E,P(B.key),B)}}function P(E){var L=function D(E,L){if("object"!==v(E)||null===E)return E;var b=E[Symbol.toPrimitive];if(void 0!==b){var B=b.call(E,L||"default");if("object"!==v(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===L?String:Number)(E)}(E,"string");return"symbol"===v(L)?L:String(L)}function i(E,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(L&&L.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),L&&c(E,L)}function c(E,L){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,Z){return B.__proto__=Z,B})(E,L)}function d(E){var L=function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Z,B=A(E);if(L){var oe=A(this).constructor;Z=Reflect.construct(B,arguments,oe)}else Z=B.apply(this,arguments);return function h(E,L){if(L&&("object"===v(L)||"function"==typeof L))return L;if(void 0!==L)throw new TypeError("Derived constructors may only return object or undefined");return function p(E){if(void 0===E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}(E)}(this,Z)}}function A(E){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)})(E)}var S=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;g.default=function(E){i(b,E);var L=d(b);function b(){return function f(E,L){if(!(E instanceof L))throw new TypeError("Cannot call a class as a function")}(this,b),L.call(this,function(B){return S.test(B.value)},function(B){var oe,Z=S.exec(B);if(oe=Date.UTC(parseInt(Z[1],10),parseInt(Z[2],10)-1,parseInt(Z[3],10),parseInt(Z[4],10),parseInt(Z[5],10),Z[6]&&parseInt(Z[6],10)||0,Z[7]&&1e3*parseFloat(Z[7])||0),Z[9]&&Z[10]){var le=60*parseInt(Z[9],10)+parseInt(Z[10],10);oe+=("+"===Z[8]?-1:1)*le*60*1e3}return new Date(oe)})}return function m(E,L,b){return L&&y(E.prototype,L),b&&y(E,b),Object.defineProperty(E,"prototype",{writable:!1}),E}(b)}(t.default)},"./src/dash/parser/matchers/DurationMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DurationMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),v=e(
/*! ../../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),y=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function m(Z){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(oe){return typeof oe}:function(oe){return oe&&"function"==typeof Symbol&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe})(Z)}function P(Z,oe){for(var le=0;le<oe.length;le++){var Re=oe[le];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(Z,f(Re.key),Re)}}function f(Z){var oe=function i(Z,oe){if("object"!==m(Z)||null===Z)return Z;var le=Z[Symbol.toPrimitive];if(void 0!==le){var Re=le.call(Z,oe||"default");if("object"!==m(Re))return Re;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===oe?String:Number)(Z)}(Z,"string");return"symbol"===m(oe)?oe:String(oe)}function d(Z,oe){if("function"!=typeof oe&&null!==oe)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(oe&&oe.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),Object.defineProperty(Z,"prototype",{writable:!1}),oe&&h(Z,oe)}function h(Z,oe){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Re,Y){return Re.__proto__=Y,Re})(Z,oe)}function p(Z){var oe=function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,Re=R(Z);if(oe){var ae=R(this).constructor;Y=Reflect.construct(Re,arguments,ae)}else Y=Re.apply(this,arguments);return function C(Z,oe){if(oe&&("object"===m(oe)||"function"==typeof oe))return oe;if(void 0!==oe)throw new TypeError("Derived constructors may only return object or undefined");return function A(Z){if(void 0===Z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z}(Z)}(this,Y)}}function R(Z){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(le){return le.__proto__||Object.getPrototypeOf(le)})(Z)}var O=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;g.default=function(Z){d(le,Z);var oe=p(le);function le(){return function c(Z,oe){if(!(Z instanceof oe))throw new TypeError("Cannot call a class as a function")}(this,le),oe.call(this,function(Re){for(var Y=[y.default.MIN_BUFFER_TIME,y.default.MEDIA_PRESENTATION_DURATION,y.default.MINIMUM_UPDATE_PERIOD,y.default.TIMESHIFT_BUFFER_DEPTH,y.default.MAX_SEGMENT_DURATION,y.default.MAX_SUBSEGMENT_DURATION,y.default.SUGGESTED_PRESENTATION_DELAY,y.default.START,v.default.START_TIME,y.default.DURATION],ae=Y.length,G=0;G<ae;G++)if(Re.nodeName===Y[G])return O.test(Re.value);return!1},function(Re){var Y=O.exec(Re),ae=31536e3*parseFloat(Y[3]||0)+2592e3*parseFloat(Y[5]||0)+86400*parseFloat(Y[7]||0)+3600*parseFloat(Y[9]||0)+60*parseFloat(Y[11]||0)+parseFloat(Y[13]||0);return void 0!==Y[1]&&(ae=-ae),ae})}return function D(Z,oe,le){return oe&&P(Z.prototype,oe),le&&P(Z,le),Object.defineProperty(Z,"prototype",{writable:!1}),Z}(le)}(t.default)},"./src/dash/parser/matchers/LangMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/LangMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),v=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),y=e(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),m=e.n(y);function P(E){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(E)}function D(E,L,b){return(L=c(L))in E?Object.defineProperty(E,L,{value:b,enumerable:!0,configurable:!0,writable:!0}):E[L]=b,E}function f(E,L){for(var b=0;b<L.length;b++){var B=L[b];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(E,c(B.key),B)}}function c(E){var L=function d(E,L){if("object"!==P(E)||null===E)return E;var b=E[Symbol.toPrimitive];if(void 0!==b){var B=b.call(E,L||"default");if("object"!==P(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===L?String:Number)(E)}(E,"string");return"symbol"===P(L)?L:String(L)}function p(E,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(L&&L.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),L&&C(E,L)}function C(E,L){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,Z){return B.__proto__=Z,B})(E,L)}function A(E){var L=function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Z,B=S(E);if(L){var oe=S(this).constructor;Z=Reflect.construct(B,arguments,oe)}else Z=B.apply(this,arguments);return function x(E,L){if(L&&("object"===P(L)||"function"==typeof L))return L;if(void 0!==L)throw new TypeError("Derived constructors may only return object or undefined");return function R(E){if(void 0===E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}(E)}(this,Z)}}function S(E){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)})(E)}g.default=function(E){p(b,E);var L=A(b);function b(){return function h(E,L){if(!(E instanceof L))throw new TypeError("Cannot call a class as a function")}(this,b),L.call(this,function(B,Z){var oe,le=(D(oe={},v.default.ADAPTATION_SET,[v.default.LANG]),D(oe,v.default.REPRESENTATION,[v.default.LANG]),D(oe,v.default.CONTENT_COMPONENT,[v.default.LANG]),D(oe,v.default.LABEL,[v.default.LANG]),D(oe,v.default.GROUP_LABEL,[v.default.LANG]),oe);if(le.hasOwnProperty(Z)){var Re=le[Z];return void 0!==Re&&Re.indexOf(B.name)>=0}return!1},function(B){var Z=m()(B);return void 0!==Z?Z:String(B)})}return function i(E,L,b){return L&&f(E.prototype,L),b&&f(E,b),Object.defineProperty(E,"prototype",{writable:!1}),E}(b)}(t.default)},"./src/dash/parser/matchers/NumericMatcher.js":
/*!****************************************************!*\
                  !*** ./src/dash/parser/matchers/NumericMatcher.js ***!
                  \****************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function v(O){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(O)}function y(O,S){for(var I=0;I<S.length;I++){var E=S[I];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(O,P(E.key),E)}}function P(O){var S=function D(O,S){if("object"!==v(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var E=I.call(O,S||"default");if("object"!==v(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)(O)}(O,"string");return"symbol"===v(S)?S:String(S)}function i(O,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),S&&c(O,S)}function c(O,S){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,L){return E.__proto__=L,E})(O,S)}function d(O){var S=function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,E=A(O);if(S){var b=A(this).constructor;L=Reflect.construct(E,arguments,b)}else L=E.apply(this,arguments);return function h(O,S){if(S&&("object"===v(S)||"function"==typeof S))return S;if(void 0!==S)throw new TypeError("Derived constructors may only return object or undefined");return function p(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function A(O){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}var x=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;g.default=function(O){i(I,O);var S=d(I);function I(){return function f(O,S){if(!(O instanceof S))throw new TypeError("Cannot call a class as a function")}(this,I),S.call(this,function(E){return x.test(E.value)},function(E){return parseFloat(E)})}return function m(O,S,I){return S&&y(O.prototype,S),I&&y(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(t.default)},"./src/dash/parser/matchers/StringMatcher.js":
/*!***************************************************!*\
                  !*** ./src/dash/parser/matchers/StringMatcher.js ***!
                  \***************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),v=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function y(S){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(S)}function m(S,I,E){return(I=f(I))in S?Object.defineProperty(S,I,{value:E,enumerable:!0,configurable:!0,writable:!0}):S[I]=E,S}function P(S,I){for(var E=0;E<I.length;E++){var L=I[E];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,f(L.key),L)}}function f(S){var I=function i(S,I){if("object"!==y(S)||null===S)return S;var E=S[Symbol.toPrimitive];if(void 0!==E){var L=E.call(S,I||"default");if("object"!==y(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===I?String:Number)(S)}(S,"string");return"symbol"===y(I)?I:String(I)}function d(S,I){if("function"!=typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(I&&I.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),I&&h(S,I)}function h(S,I){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,b){return L.__proto__=b,L})(S,I)}function p(S){var I=function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var b,L=R(S);if(I){var B=R(this).constructor;b=Reflect.construct(L,arguments,B)}else b=L.apply(this,arguments);return function C(S,I){if(I&&("object"===y(I)||"function"==typeof I))return I;if(void 0!==I)throw new TypeError("Derived constructors may only return object or undefined");return function A(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(S)}(this,b)}}function R(S){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)})(S)}g.default=function(S){d(E,S);var I=p(E);function E(){return function c(S,I){if(!(S instanceof I))throw new TypeError("Cannot call a class as a function")}(this,E),I.call(this,function(L,b){var B,Z=(m(B={},v.default.MPD,[v.default.ID,v.default.PROFILES]),m(B,v.default.PERIOD,[v.default.ID]),m(B,v.default.BASE_URL,[v.default.SERVICE_LOCATION,v.default.BYTE_RANGE]),m(B,v.default.SEGMENT_BASE,[v.default.INDEX_RANGE]),m(B,v.default.INITIALIZATION,[v.default.RANGE]),m(B,v.default.REPRESENTATION_INDEX,[v.default.RANGE]),m(B,v.default.SEGMENT_LIST,[v.default.INDEX_RANGE]),m(B,v.default.BITSTREAM_SWITCHING,[v.default.RANGE]),m(B,v.default.SEGMENT_URL,[v.default.MEDIA_RANGE,v.default.INDEX_RANGE]),m(B,v.default.SEGMENT_TEMPLATE,[v.default.INDEX_RANGE,v.default.MEDIA,v.default.INDEX,v.default.INITIALIZATION_MINUS,v.default.BITSTREAM_SWITCHING_MINUS]),m(B,v.default.ASSET_IDENTIFIER,[v.default.VALUE,v.default.ID]),m(B,v.default.EVENT_STREAM,[v.default.VALUE]),m(B,v.default.ADAPTATION_SET,[v.default.PROFILES,v.default.MIME_TYPE,v.default.SEGMENT_PROFILES,v.default.CODECS,v.default.CONTENT_TYPE]),m(B,v.default.FRAME_PACKING,[v.default.VALUE,v.default.ID]),m(B,v.default.AUDIO_CHANNEL_CONFIGURATION,[v.default.VALUE,v.default.ID]),m(B,v.default.CONTENT_PROTECTION,[v.default.VALUE,v.default.ID]),m(B,v.default.ESSENTIAL_PROPERTY,[v.default.VALUE,v.default.ID]),m(B,v.default.SUPPLEMENTAL_PROPERTY,[v.default.VALUE,v.default.ID]),m(B,v.default.INBAND_EVENT_STREAM,[v.default.VALUE,v.default.ID]),m(B,v.default.ACCESSIBILITY,[v.default.VALUE,v.default.ID]),m(B,v.default.ROLE,[v.default.VALUE,v.default.ID]),m(B,v.default.RATING,[v.default.VALUE,v.default.ID]),m(B,v.default.VIEWPOINT,[v.default.VALUE,v.default.ID]),m(B,v.default.CONTENT_COMPONENT,[v.default.CONTENT_TYPE]),m(B,v.default.REPRESENTATION,[v.default.ID,v.default.DEPENDENCY_ID,v.default.MEDIA_STREAM_STRUCTURE_ID]),m(B,v.default.SUBSET,[v.default.ID]),m(B,v.default.METRICS,[v.default.METRICS_MINUS]),m(B,v.default.REPORTING,[v.default.VALUE,v.default.ID]),B);if(Z.hasOwnProperty(b)){var oe=Z[b];return void 0!==oe&&oe.indexOf(L.name)>=0}return!1},function(L){return String(L)})}return function D(S,I,E){return I&&P(S.prototype,I),E&&P(S,E),Object.defineProperty(S,"prototype",{writable:!1}),S}(E)}(t.default)},"./src/dash/parser/objectiron.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/objectiron.js ***!
                  \***************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(P){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(P)}function y(P){function D(d,h){for(var p in d)h.hasOwnProperty(p)||(h[p]=d[p])}function f(d,h,p){for(var C=0,A=d.length;C<A;++C){var x=d[C];if(h[x.name])if(p[x.name]){if(x.merge){var R=h[x.name],O=p[x.name];"object"===v(R)&&"object"===v(O)?D(R,O):p[x.name]=R+O}}else p[x.name]=h[x.name]}}function i(d,h){for(var p=0,C=d.children.length;p<C;++p){var A=d.children[p],x=h[A.name+"_asArray"];if(x)for(var R=0,O=x.length;R<O;++R){var S=x[R];f(d.properties,h,S),i(A,S)}}}return{run:function c(d){if(null===d||"object"!==v(d))return d;if(d.Period_asArray&&"period"in P)for(var h=P.period,p=d.Period_asArray,C=0,A=p.length;C<A;++C){var x=p[C];if(i(h,x),"adaptationset"in P){var R=x.AdaptationSet_asArray;if(R)for(var O=P.adaptationset,S=0,I=R.length;S<I;++S)i(O,R[S])}}return d}}}y.__dashjs_factory_name="ObjectIron";var m=t.default.getClassFactory(y);g.default=m},"./src/dash/utils/ListSegmentsGetter.js":
/*!**********************************************!*\
                  !*** ./src/dash/utils/ListSegmentsGetter.js ***!
                  \**********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),y=e(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function m(D,f){var i=(D=D||{}).timelineConverter;function d(){if(!i||!i.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(v.default.MISSING_CONFIG_ERROR)}function p(A,x){if(d(),!A)return null;var R=A.adaptation.period.mpd.manifest.Period_asArray[A.adaptation.period.index].AdaptationSet_asArray[A.adaptation.index].Representation_asArray[A.index].SegmentList,O=R.SegmentURL_asArray.length,S=A&&!isNaN(A.startNumber)?A.startNumber:1,I=Math.max(S-1,0),E=Math.max(x-I,0),L=null;if(E<O){var b=R.SegmentURL_asArray[E];(L=Object(y.getIndexBasedSegment)(i,f,A,x))&&(L.replacementTime=(S+x-1)*A.segmentDuration,L.media=b.media?b.media:"",L.mediaRange=b.mediaRange,L.indexRange=b.indexRange)}return L}return{getSegmentByIndex:p,getSegmentByTime:function C(A,x){if(d(),!A)return null;var R=A.segmentDuration;if(isNaN(R))return null;var O=i.calcPeriodRelativeTimeFromMpdRelativeTime(A,x);return p(A,Math.floor(O/R))},getMediaFinishedInformation:function h(A){var x={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!A)return x;var R=A.adaptation.period.mpd.manifest.Period_asArray[A.adaptation.period.index].AdaptationSet_asArray[A.adaptation.index].Representation_asArray[A.index].SegmentList,O=A&&!isNaN(A.startNumber)?A.startNumber:1,S=Math.max(O-1,0);return x.numberOfSegments=S+R.SegmentURL_asArray.length,x}}}m.__dashjs_factory_name="ListSegmentsGetter";var P=t.default.getClassFactory(m);g.default=P},"./src/dash/utils/Round10.js":
/*!***********************************!*\
                  !*** ./src/dash/utils/Round10.js ***!
                  \***********************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function y(c,d){for(var h=0;h<d.length;h++){var p=d[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,P(p.key),p)}}function P(c){var d=function D(c,d){if("object"!==t(c)||null===c)return c;var h=c[Symbol.toPrimitive];if(void 0!==h){var p=h.call(c,d||"default");if("object"!==t(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}e.r(g),e.d(g,"default",function(){return f});var f=function(){function c(){!function v(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}(this,c)}return function m(c,d,h){return d&&y(c.prototype,d),h&&y(c,h),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,null,[{key:"round10",value:function(h,p){return function i(c,d,h){return typeof h>"u"||0==+h?Math[c](d):(h=+h,null===(d=+d)||isNaN(d)||"number"!=typeof h||h%1!=0?NaN:(d=d.toString().split("e"),+((d=(d=Math[c](+(d[0]+"e"+(d[1]?+d[1]-h:-h)))).toString().split("e"))[0]+"e"+(d[1]?+d[1]+h:h))))}("round",h,p)}}]),c}()},"./src/dash/utils/SegmentBaseGetter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/SegmentBaseGetter.js ***!
                  \*********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js");function y(P){var D=(P=P||{}).timelineConverter;function i(){if(!D||!D.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(v.default.MISSING_CONFIG_ERROR)}function d(C,A){if(i(),!C)return null;var R,x=C.segments?C.segments.length:-1;if(A<x&&(R=C.segments[A])&&R.index===A)return R;for(var O=0;O<x;O++)if((R=C.segments[O])&&R.index===A)return R;return null}return{getSegmentByIndex:d,getSegmentByTime:function h(C,A){return i(),d(C,function p(C,A){if(!C)return-1;var S,I,E,L,b,x=C.segments,R=x?x.length:null,O=-1;if(x&&R>0)for(b=0;b<R;b++)if(A+(S=(L=(I=x[b]).duration)/2)>=(E=I.presentationStartTime)&&A-S<E+L){O=I.index;break}return O}(C,A))},getMediaFinishedInformation:function c(C){var A={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return!C||!C.segments||(A.numberOfSegments=C.segments.length),A}}}y.__dashjs_factory_name="SegmentBaseGetter";var m=t.default.getClassFactory(y);g.default=m},"./src/dash/utils/SegmentsUtils.js":
/*!*****************************************!*\
                  !*** ./src/dash/utils/SegmentsUtils.js ***!
                  \*****************************************/
/*! exports provided: unescapeDollarsInTemplate, replaceIDForTemplate, replaceTokenForTemplate, getIndexBasedSegment, getTimeBasedSegment */function(Je,g,e){"use strict";e.r(g),e.d(g,"unescapeDollarsInTemplate",function(){return m}),e.d(g,"replaceIDForTemplate",function(){return P}),e.d(g,"replaceTokenForTemplate",function(){return D}),e.d(g,"getIndexBasedSegment",function(){return c}),e.d(g,"getTimeBasedSegment",function(){return d});var t=e(
/*! ./../vo/Segment */
"./src/dash/vo/Segment.js");function v(h,p){for(;h.length<p;)h="0"+h;return h}function m(h){return h&&h.split("$$").join("$")}function P(h,p){if(!p||!h||-1===h.indexOf("$RepresentationID$"))return h;var C=p.toString();return h.split("$RepresentationID$").join(C)}function D(h,p,C){var x,R,O,S,I,E,L=p.length;if(!h)return h;for(;;){if((x=h.indexOf("$"+p))<0||(R=h.indexOf("$",x+L))<0)return h;if((O=h.indexOf("%0",x+L))>x&&O<R)switch(S=h.charAt(R-1),I=parseInt(h.substring(O+2,R-1),10),S){case"d":case"i":case"u":E=v(C.toString(),I);break;case"x":E=v(C.toString(16),I);break;case"X":E=v(C.toString(16),I).toUpperCase();break;case"o":E=v(C.toString(8),I);break;default:return h}else E=C;h=h.substring(0,x)+E+h.substring(R+1)}}function f(h,p,C,A,x,R,O,S){var I=new t.default;return I.representation=h,I.duration=p,I.presentationStartTime=C,I.mediaStartTime=A,I.availabilityStartTime=x.calcAvailabilityStartTimeFromPresentationTime(R,h,O),I.availabilityEndTime=x.calcAvailabilityEndTimeFromPresentationTime(R+p,h,O),I.wallStartTime=x.calcWallTimeForSegment(I,O),I.replacementNumber=function y(h,p){return h.representation.startNumber+p}(I,S),I.index=S,I}function i(h,p,C,A){var x=p.adaptation.period;if(isFinite(x.duration)&&x.start+x.duration<=C.presentationStartTime)return!1;if(A){if("INF"===p.availabilityTimeOffset)return!0;var R=h.getClientReferenceTime();return C.availabilityStartTime.getTime()<=R&&(!isFinite(C.availabilityEndTime)||C.availabilityEndTime.getTime()>=R)}return!0}function c(h,p,C,A){var x,R,O;x=C.segmentDuration,isNaN(x)&&(x=C.adaptation.period.duration),R=parseFloat((C.adaptation.period.start+A*x).toFixed(5)),O=parseFloat((R+x).toFixed(5));var I=f(C,x,R,h.calcMediaTimeFromPresentationTime(R,C),h,O,p,A);return i(h,C,I,p)?I:null}function d(h,p,C,A,x,R,O,S,I,E){var B,oe,L=A/R,b=x/R;return B=h.calcPresentationTimeFromMediaTime(L,C),i(h,C,oe=f(C,b,B,L,h,B+b,p,I),p)?(oe.replacementTime=E||A,O=D(O,"Number",oe.replacementNumber),O=D(O,"Time",oe.replacementTime),oe.media=O,oe.mediaRange=S,oe):null}},"./src/dash/utils/TemplateSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TemplateSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),y=e(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function m(D,f){var i=(D=D||{}).timelineConverter;function d(){if(!i||!i.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(v.default.MISSING_CONFIG_ERROR)}function p(A,x){if(d(),!A)return null;var R=A.adaptation.period.mpd.manifest.Period_asArray[A.adaptation.period.index].AdaptationSet_asArray[A.adaptation.index].Representation_asArray[A.index].SegmentTemplate;x=Math.max(x,0);var O=Object(y.getIndexBasedSegment)(i,f,A,x);if(O){O.replacementTime=Math.round((x-1)*A.segmentDuration*A.timescale,10);var S=R.media;S=Object(y.replaceTokenForTemplate)(S,"Number",O.replacementNumber),S=Object(y.replaceTokenForTemplate)(S,"Time",O.replacementTime),O.media=S}return O}return{getSegmentByIndex:p,getSegmentByTime:function C(A,x){if(d(),!A)return null;var R=A.segmentDuration;if(isNaN(R))return null;var O=i.calcPeriodRelativeTimeFromMpdRelativeTime(A,x);return p(A,Math.floor(O/R))},getMediaFinishedInformation:function h(A){var x={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!A)return x;var R=A.segmentDuration;return x.numberOfSegments=isNaN(R)?1:Math.ceil(A.adaptation.period.duration/R),x}}}m.__dashjs_factory_name="TemplateSegmentsGetter";var P=t.default.getClassFactory(m);g.default=P},"./src/dash/utils/TimelineConverter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/TimelineConverter.js ***!
                  \*********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),v=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),P=e(
/*! ../models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),D=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),f=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),i=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),c=e(
/*! ../../streaming/constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function d(){var A,x,R,O,h=this.context,p=Object(t.default)(h).getInstance(),C=Object(D.default)(h).getInstance();function L(pe){O=pe}function B(pe,Ie,Be,at){var Xe,je=Ie.adaptation.period.mpd,Ne=je.availabilityStartTime;if(at)Xe=Be&&je.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(Ne.getTime()+1e3*(pe+je.timeShiftBufferDepth)):je.availabilityEndTime;else if(Be){var ee=Ie.availabilityTimeOffset;Xe=new Date(Ne.getTime()+1e3*(pe-ee))}else Xe=Ne;return Xe}function le(pe,Ie){return(pe.getTime()-Ie.mpd.availabilityStartTime.getTime()+1e3*O)/1e3}function Re(pe,Ie){return pe+(Ie.adaptation.period.start-Ie.presentationTimeOffset)}function Te(pe){var Ie={start:NaN,end:NaN},Be=pe[0].getAdapter().getRegularPeriods()[0],at=le(new Date,Be);if(!pe||0===pe.length)return{range:Ie,now:at};pe.forEach(function(je){var Ne=je.getAdapter(),ee=Ne.getMediaInfoForType(je.getStreamInfo(),f.default.VIDEO)||Ne.getMediaInfoForType(je.getStreamInfo(),f.default.AUDIO),we=Ne.getVoRepresentations(ee)[0],q={start:NaN,end:NaN};if(we)if(we.segmentInfoType===m.default.SEGMENT_TIMELINE)q=function ie(pe){var fe,we,q,$,Be=x.getRepresentationFor(pe.index,pe.adaptation.period.mpd.manifest.Period_asArray[pe.adaptation.period.index].AdaptationSet_asArray[pe.adaptation.index]),Xe=Be.SegmentTemplate.timescale,je=Be.SegmentTemplate.SegmentTimeline.S_asArray,Ne={start:0,end:0},ee=0;for(Ne.start=Re(je[0].t/Xe,pe),q=0,$=je.length;q<$;q++)we=0,(fe=je[q]).hasOwnProperty("r")&&(we=fe.r),ee+=fe.d*(1+we);return Ne.end=Re((je[0].t+ee)/Xe,pe),Ne}(we);else{var $=we.adaptation.period;q.start=$.start,q.end=Math.max(at,$.start+$.duration)}!isNaN(q.start)&&(isNaN(Ie.start)||Ie.start>q.start)&&(Ie.start=q.start),!isNaN(q.end)&&(isNaN(Ie.end)||Ie.end<q.end)&&(Ie.end=q.end)}),Ie.end=Math.min(at,Ie.end);var Xe=Oe(pe,Ie.end,!0);return Ie.end=isNaN(Xe)?Ie.end:Xe,Ie.start=Be&&Be.mpd&&Be.mpd.timeShiftBufferDepth&&!isNaN(Be.mpd.timeShiftBufferDepth)&&!isNaN(Ie.end)?Math.max(Ie.end-Be.mpd.timeShiftBufferDepth,Ie.start):Ie.start,Ie.start=Oe(pe,Ie.start),{range:Ie,now:at}}function be(pe,Ie){R=pe-Ie.end}function Oe(pe,Ie){var Be=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var at=0,Xe=!1,je=NaN;!Xe&&at<pe.length;){var Ne=pe[at].getStreamInfo();Ne.start<=Ie&&(!isFinite(Ne.duration)||Ne.start+Ne.duration>=Ie)?(je=Ie,Xe=!0):!Be&&Ne.start>Ie&&(isNaN(je)||Ne.start<je)?je=Ne.start:Be&&Ne.start+Ne.duration<Ie&&(isNaN(je)||Ne.start+Ne.duration>je)&&(je=Ne.start+Ne.duration),at+=1}return je}catch{return Ie}}function Ce(pe){void 0!==pe.offset&&!isNaN(pe.offset)&&L(pe.offset/1e3)}function de(){O=0,R=0}function Me(){p.off(v.default.UPDATE_TIME_SYNC_OFFSET,Ce,this),de()}return A={initialize:function I(){de(),p.on(v.default.UPDATE_TIME_SYNC_OFFSET,Ce,this)},getClientTimeOffset:function E(){return O},setClientTimeOffset:L,getClientReferenceTime:function b(){return Date.now()-1e3*R+1e3*O},calcAvailabilityStartTimeFromPresentationTime:function Z(pe,Ie,Be){return B(pe,Ie,Be)},calcAvailabilityEndTimeFromPresentationTime:function oe(pe,Ie,Be){return B(pe,Ie,Be,!0)},calcPresentationTimeFromWallTime:le,calcPresentationTimeFromMediaTime:Re,calcPeriodRelativeTimeFromMpdRelativeTime:function ye(pe,Ie){return Ie-pe.adaptation.period.start},calcMediaTimeFromPresentationTime:function Y(pe,Ie){return pe-Ie.adaptation.period.start+Ie.presentationTimeOffset},calcWallTimeForSegment:function ae(pe,Ie){var at,Xe;return Ie&&(at=pe.presentationStartTime+pe.representation.adaptation.period.mpd.suggestedPresentationDelay,Xe=new Date(pe.availabilityStartTime.getTime()+1e3*at)),Xe},calcTimeShiftBufferWindow:function G(pe,Ie){if(!Ie)return function De(pe){var Ie={start:NaN,end:NaN},Be=0,at=NaN;return pe.forEach(function(Xe){var je=Xe.getStreamInfo();Be+=je.duration,(isNaN(at)||je.start<at)&&(at=je.start)}),Ie.start=at,Ie.end=at+Be,Ie}(pe);if(C.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var Be=Te(pe);return be(Be.now,Be.range),Be.range}return function ce(pe){var Ie={start:NaN,end:NaN};if(!pe||0===pe.length)return Ie;var Be=pe[0].getAdapter().getRegularPeriods()[0],at=le(new Date,Be),Xe=Be.mpd.timeShiftBufferDepth,je=isNaN(Xe)?0:at-Xe;if(Ie.start=Oe(pe,je),Ie.end=!isNaN(Ie.start)&&at<Ie.start?at:Oe(pe,at,!0),!isNaN(Xe)&&Ie.end<at-Xe&&(Ie.end=NaN),C.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var Ne=Te(pe);if(Ne.range.end<Ie.start)return p.trigger(i.default.CONFORMANCE_VIOLATION,{level:c.default.LEVELS.WARNING,event:c.default.EVENTS.INVALID_DVR_WINDOW}),be(Ne.now,Ne.range),Ne.range}return Ie}(pe)},reset:Me},function S(){x=Object(P.default)(h).getInstance(),Me()}(),A}d.__dashjs_factory_name="TimelineConverter",g.default=y.default.getSingletonFactory(d)},"./src/dash/utils/TimelineSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TimelineSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),y=e(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function m(D,f){var i=(D=D||{}).timelineConverter,c=D.dashMetrics;function h(){if(!i)throw new Error(v.default.MISSING_CONFIG_ERROR)}function C(S,I){var oe,le,Re,Y,ae,G,De,E=S.adaptation.period.mpd.manifest.Period_asArray[S.adaptation.period.index].AdaptationSet_asArray[S.adaptation.index].Representation_asArray[S.index].SegmentTemplate||S.adaptation.period.mpd.manifest.Period_asArray[S.adaptation.period.index].AdaptationSet_asArray[S.adaptation.index].Representation_asArray[S.index].SegmentList,b=E.SegmentURL_asArray,B=0,Z=-1;De=S.timescale;var ce=!1;for(Re=0,Y=(oe=E.SegmentTimeline.S_asArray).length;Re<Y&&!ce;Re++)for(G=0,(le=oe[Re]).hasOwnProperty("r")&&(G=le.r),le.hasOwnProperty("t")&&(B=le.t),G<0&&(G=A(S,oe[Re+1],le,De,B/De)),ae=0;ae<=G&&!ce;ae++)(ce=I(B,E,b,le,De,++Z,Re))&&(S.segmentDuration=le.d/De),B+=le.d}function A(S,I,E,L,b){var B;if(I&&I.hasOwnProperty("t"))B=I.t/L;else try{var Z=0;if(isNaN(S.adaptation.period.start)||isNaN(S.adaptation.period.duration)||!isFinite(S.adaptation.period.duration)){var oe=c.getCurrentDVRInfo();Z=isNaN(oe.end)?0:oe.end}else Z=S.adaptation.period.start+S.adaptation.period.duration;B=i.calcMediaTimeFromPresentationTime(Z,S),S.segmentDuration=E.d/L}catch{B=0}return Math.max(Math.ceil((B-b)/(E.d/L))-1,0)}return{getSegmentByIndex:function x(S,I,E){if(h(),!S)return null;var L=null,b=!1;return C(S,function(B,Z,oe,le,Re,Y,ae){if(b||E<0){var G=Z.media,De=le.mediaRange;return oe&&(G=oe[ae].media||"",De=oe[ae].mediaRange),L=Object(y.getTimeBasedSegment)(i,f,S,B,le.d,Re,G,De,Y,le.tManifest),!0}return B>=E*Re-.5*le.d&&(b=!0),!1}),L},getSegmentByTime:function R(S,I){if(h(),!S)return null;void 0===I&&(I=null);var E=null,L=i.calcMediaTimeFromPresentationTime(I,S);return C(S,function(b,B,Z,oe,le,Re,Y){var ae=function O(S){return parseFloat(S.toPrecision(15))}(L*le);if(ae<b+oe.d&&ae>=b){var G=B.media,De=oe.mediaRange;return Z&&(G=Z[Y].media||"",De=Z[Y].mediaRange),E=Object(y.getTimeBasedSegment)(i,f,S,b,oe.d,le,G,De,Re,oe.tManifest),!0}return!1}),E},getMediaFinishedInformation:function p(S){if(!S)return 0;var Z,oe,le,Re,Y,ae,G,L=0,b=0,B=0;for(G=S.timescale,Re=(Z=(S.adaptation.period.mpd.manifest.Period_asArray[S.adaptation.period.index].AdaptationSet_asArray[S.adaptation.index].Representation_asArray[S.index].SegmentTemplate||S.adaptation.period.mpd.manifest.Period_asArray[S.adaptation.period.index].AdaptationSet_asArray[S.adaptation.index].Representation_asArray[S.index].SegmentList).SegmentTimeline.S_asArray).length,le=0;le<Re;le++)for(ae=0,(oe=Z[le]).hasOwnProperty("r")&&(ae=oe.r),oe.hasOwnProperty("t")&&(b=(L=oe.t)/G),ae<0&&(ae=A(S,Z[le+1],oe,G,b)),Y=0;Y<=ae;Y++)B++,b=(L+=oe.d)/G;return{numberOfSegments:B,mediaTimeOfLastSignaledSegment:b}}}}m.__dashjs_factory_name="TimelineSegmentsGetter";var P=t.default.getClassFactory(m);g.default=P},"./src/dash/vo/AdaptationSet.js":
/*!**************************************!*\
                  !*** ./src/dash/vo/AdaptationSet.js ***!
                  \**************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.period=null,this.index=-1,this.type=null})},"./src/dash/vo/BaseURL.js":
/*!********************************!*\
                  !*** ./src/dash/vo/BaseURL.js ***!
                  \********************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(d){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}function v(d,h){for(var p=0;p<h.length;p++){var C=h[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(d,m(C.key),C)}}function y(d,h,p){return h&&v(d.prototype,h),p&&v(d,p),Object.defineProperty(d,"prototype",{writable:!1}),d}function m(d){var h=function P(d,h){if("object"!==t(d)||null===d)return d;var p=d[Symbol.toPrimitive];if(void 0!==p){var C=p.call(d,h||"default");if("object"!==t(C))return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(d)}(d,"string");return"symbol"===t(h)?h:String(h)}e.r(g);var c=y(function d(h,p,C,A){(function D(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,d),this.url=h||"",this.serviceLocation=p||h||"",this.dvb_priority=C||1,this.dvb_weight=A||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0});c.DEFAULT_DVB_PRIORITY=1,c.DEFAULT_DVB_WEIGHT=1,g.default=c},"./src/dash/vo/ContentSteering.js":
/*!****************************************!*\
                  !*** ./src/dash/vo/ContentSteering.js ***!
                  \****************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.defaultServiceLocation=null,this.queryBeforeStart=!1,this.proxyServerUrl=null,this.serverUrl=null})},"./src/dash/vo/ContentSteeringRequest.js":
/*!***********************************************!*\
                  !*** ./src/dash/vo/ContentSteeringRequest.js ***!
                  \***********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function y(c,d){for(var h=0;h<d.length;h++){var p=d[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,P(p.key),p)}}function m(c,d,h){return d&&y(c.prototype,d),h&&y(c,h),Object.defineProperty(c,"prototype",{writable:!1}),c}function P(c){var d=function D(c,d){if("object"!==v(c)||null===c)return c;var h=c[Symbol.toPrimitive];if(void 0!==h){var p=h.call(c,d||"default");if("object"!==v(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===v(d)?d:String(d)}g.default=m(function c(d){(function f(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.url=d||null,this.type=t.HTTPRequest.CONTENT_STEERING_TYPE,this.responseType="json"})},"./src/dash/vo/ContentSteeringResponse.js":
/*!************************************************!*\
                  !*** ./src/dash/vo/ContentSteeringResponse.js ***!
                  \************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.version=null,this.ttl=300,this.reloadUri=null,this.serviceLocationPriority=[]})},"./src/dash/vo/Event.js":
/*!******************************!*\
                  !*** ./src/dash/vo/Event.js ***!
                  \******************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN})},"./src/dash/vo/EventStream.js":
/*!************************************!*\
                  !*** ./src/dash/vo/EventStream.js ***!
                  \************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0})},"./src/dash/vo/ManifestInfo.js":
/*!*************************************!*\
                  !*** ./src/dash/vo/ManifestInfo.js ***!
                  \*************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null})},"./src/dash/vo/MediaInfo.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/MediaInfo.js ***!
                  \**********************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={}})},"./src/dash/vo/Mpd.js":
/*!****************************!*\
                  !*** ./src/dash/vo/Mpd.js ***!
                  \****************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN})},"./src/dash/vo/PatchOperation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/PatchOperation.js ***!
                  \***************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function y(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,P(h.key),h)}}function P(i){var c=function D(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=function(){function i(c,d,h){(function v(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.action=c,this.xpath=d,this.value=h,this.position=null}return function m(i,c,d){return c&&y(i.prototype,c),d&&y(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"getMpdTarget",value:function(d){return this.xpath.getMpdTarget(d,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}]),i}()},"./src/dash/vo/Period.js":
/*!*******************************!*\
                  !*** ./src/dash/vo/Period.js ***!
                  \*******************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g);var f=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null});f.DEFAULT_ID="defaultId",g.default=f},"./src/dash/vo/ProducerReferenceTime.js":
/*!**********************************************!*\
                  !*** ./src/dash/vo/ProducerReferenceTime.js ***!
                  \**********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null})},"./src/dash/vo/Representation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/Representation.js ***!
                  \***************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function m(c,d){for(var h=0;h<d.length;h++){var p=d[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,D(p.key),p)}}function D(c){var d=function f(c,d){if("object"!==v(c)||null===c)return c;var h=c[Symbol.toPrimitive];if(void 0!==h){var p=h.call(c,d||"default");if("object"!==v(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===v(d)?d:String(d)}g.default=function(){function c(){(function y(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}return function P(c,d,h){return d&&m(c.prototype,d),h&&m(c,h),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==t.default.BASE_URL&&this.segmentInfoType!==t.default.SEGMENT_BASE&&!this.indexRange}}]),c}()},"./src/dash/vo/RepresentationInfo.js":
/*!*******************************************!*\
                  !*** ./src/dash/vo/RepresentationInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null})},"./src/dash/vo/Segment.js":
/*!********************************!*\
                  !*** ./src/dash/vo/Segment.js ***!
                  \********************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null})},"./src/dash/vo/SimpleXPath.js":
/*!************************************!*\
                  !*** ./src/dash/vo/SimpleXPath.js ***!
                  \************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function y(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,P(h.key),h)}}function P(i){var c=function D(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=function(){function i(c){var d=this;(function v(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.valid="/"==c[0],this.path=c.split("/").filter(function(h){return 0!==h.length}).map(function(h){var p={name:h},C=h.indexOf("[");if(-1!=C){p.name=h.substring(0,C);var A=h.substring(C+1,h.length-1);d.valid=d.valid&&-1==A.indexOf("[");var x=A.indexOf("=");-1!=x?(p.attribute={name:A.substring(1,x),value:A.substring(x+1)},-1!=["'",'"'].indexOf(p.attribute.value[0])&&(p.attribute.value=p.attribute.value.substring(1,p.attribute.value.length-1))):p.position=parseInt(A,10)-1}return p})}return function m(i,c,d){return c&&y(i.prototype,c),d&&y(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(d,h){for(var p=null,C=d,A=1,x="MPD";A<this.path.length&&null!==C;){p=C;var R=this.path[A];if(x=R.name,A!==this.path.length-1||!x.startsWith("@")){var O=p[x+"_asArray"]||[];0===O.length&&p[x]&&O.push(p[x]),R.position?C=O[R.position]||null:R.attribute?function(){var S=R.attribute;C=O.filter(function(I){return I[S.name]==S.value})[0]||null}():C=O[0]||null}A++}return null===C?null:x.startsWith("@")?{name:x.substring(1),leaf:C,target:C}:{name:x,leaf:C,target:h?p:C}}}]),i}()},"./src/dash/vo/StreamInfo.js":
/*!***********************************!*\
                  !*** ./src/dash/vo/StreamInfo.js ***!
                  \***********************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0})},"./src/dash/vo/UTCTiming.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/UTCTiming.js ***!
                  \**********************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.schemeIdUri="",this.value=""})},"./src/streaming/FragmentLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/FragmentLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),y=e(
/*! ./vo/HeadRequest */
"./src/streaming/vo/HeadRequest.js"),m=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),P=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js");function D(f){var A,x,i=this.context,c=(f=f||{}).eventBus,d=f.events,h=f.urlUtils,p=f.errors,C=f.streamId;return A={checkForExistence:function O(L){var b=function(oe){c.trigger(d.CHECK_FOR_EXISTENCE_COMPLETED,{request:L,exists:oe})};if(L){var B=new y.default(L.url);x.load({request:B,success:function(){b(!0)},error:function(){b(!1)}})}else b(!1)},load:function S(L){var b=function(Z,oe){c.trigger(d.LOADING_COMPLETED,{request:L,response:Z||null,error:oe||null,sender:A})};L?x.load({request:L,progress:function(Z){c.trigger(d.LOADING_PROGRESS,{request:L,stream:Z.stream,streamId:C}),Z.data&&c.trigger(d.LOADING_DATA_PROGRESS,{request:L,response:Z.data||null,error:null,sender:A})},success:function(Z){b(Z)},error:function(Z,oe,le){b(void 0,new m.default(p.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,le,oe))},abort:function(Z){Z&&c.trigger(d.LOADING_ABANDONED,{mediaType:Z.mediaType,request:Z,sender:A})}}):b(void 0,new m.default(p.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,p.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function I(){x&&x.abort()},reset:function E(){x&&(x.abort(),x=null)}},function R(){x=Object(v.default)(i).create({errHandler:f.errHandler,errors:p,dashMetrics:f.dashMetrics,mediaPlayerModel:f.mediaPlayerModel,requestModifier:f.requestModifier,urlUtils:h,constants:t.default,boxParser:f.boxParser,dashConstants:f.dashConstants,requestTimeout:f.settings.get().streaming.fragmentRequestTimeout})}(),A}D.__dashjs_factory_name="FragmentLoader",g.default=P.default.getClassFactory(D)},"./src/streaming/ManifestLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/ManifestLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),y=e(
/*! ./controllers/XlinkController */
"./src/streaming/controllers/XlinkController.js"),m=e(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),P=e(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),D=e(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),f=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),i=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),c=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),d=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),h=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),p=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=e(
/*! ../dash/parser/DashParser */
"./src/dash/parser/DashParser.js");function A(R){var b,B,Z,oe,le,O=this.context,S=(R=R||{}).debug,I=R.settings,E=Object(c.default)(O).getInstance(),L=Object(P.default)(O).getInstance(),Re=R.mssHandler,Y=R.errHandler;function G(be){E.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:be.manifest})}return b={load:function ce(be){var Oe=new D.default(be,i.HTTPRequest.MPD_TYPE);Z.load({request:Oe,success:function(ye,Ce,de){if(oe){var Me,pe,Ie;if(de&&de!==be?(pe=L.parseBaseUrl(de),Me=de):(L.isRelative(be)&&(be=L.resolve(be,window.location.href)),pe=L.parseBaseUrl(be)),"No Content"==Ce)return void E.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:null});if(null===le&&(le=function De(be){var Oe=null;return be.indexOf("SmoothStreamingMedia")>-1?(Re&&(Oe=Re.createMssParser(),Re.registerEvents()),Oe):be.indexOf("MPD")>-1||be.indexOf("Patch")>-1?Object(C.default)(O).create({debug:S}):Oe}(ye)),null===le)return void E.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new f.default(h.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,h.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(be))});oe.setMatchers(le.getMatchers()),oe.setIron(le.getIron());try{Ie=le.parse(ye)}catch{return void E.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new f.default(h.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,h.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(be))})}if(Ie){if(Ie.url=Me||be,Ie.originalUrl||(Ie.originalUrl=Ie.url),Ie.hasOwnProperty(t.default.LOCATION)&&(pe=L.parseBaseUrl(Ie.Location_asArray[0]),B.debug("BaseURI set by Location to: "+pe)),I&&I.get().streaming.enableManifestDurationMismatchFix&&Ie.mediaPresentationDuration&&Ie.Period_asArray.length>1){var Be=Ie.Period_asArray.reduce(function(at,Xe){return at+Xe.duration},0);!isNaN(Be)&&Ie.mediaPresentationDuration>Be&&(B.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),Ie.mediaPresentationDuration=Be)}Ie.baseUri=pe,Ie.loadedTime=new Date,oe.resolveManifestOnLoad(Ie),E.trigger(d.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:ye})}else E.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new f.default(h.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,h.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(be))})}},error:function(ye,Ce,de){E.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new f.default(h.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,h.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(be,", ").concat(de))})}})},reset:function Te(){E.off(d.default.XLINK_READY,G,b),Re&&Re.reset(),oe&&(oe.reset(),oe=null),Z&&(Z.abort(),Z=null)}},function ae(){B=S.getLogger(b),E.on(d.default.XLINK_READY,G,b),Z=Object(m.default)(O).create({errHandler:R.errHandler,dashMetrics:R.dashMetrics,mediaPlayerModel:R.mediaPlayerModel,requestModifier:R.requestModifier,urlUtils:L,constants:t.default,dashConstants:v.default,errors:h.default,requestTimeout:R.settings.get().streaming.manifestRequestTimeout}),oe=Object(y.default)(O).create({errHandler:Y,dashMetrics:R.dashMetrics,mediaPlayerModel:R.mediaPlayerModel,requestModifier:R.requestModifier,settings:R.settings}),le=null}(),b}A.__dashjs_factory_name="ManifestLoader";var x=p.default.getClassFactory(A);g.default=x},"./src/streaming/ManifestUpdater.js":
/*!******************************************!*\
                  !*** ./src/streaming/ManifestUpdater.js ***!
                  \******************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),v=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),y=e(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),m=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),P=e(
/*! ../core/Debug */
"./src/core/Debug.js"),D=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),f=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),i=e(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function c(){var C,A,x,R,O,S,I,E,L,b,B,Z,d=this.context,h=Object(t.default)(d).getInstance(),p=Object(i.default)(d).getInstance();function ae(){x=NaN,I=!1,O=!0,S=!1,De()}function De(){null!==R&&(clearTimeout(R),R=null)}function ce(pe){De(),!S&&(isNaN(pe)&&!isNaN(x)&&(pe=1e3*x),isNaN(pe)||(A.debug("Refresh manifest in "+pe+" milliseconds."),R=setTimeout(Oe,pe)))}function Te(){var pe=arguments.length>0&&void 0!==arguments[0]&&arguments[0];I=!0;var Ie=L.getValue(),Be=Ie.url,at=b.getPatchLocation(Ie),Xe=b.getLocation(Ie);at&&!pe?Be=at:Xe&&(Be=Xe),p.isRelative(Be)&&(Be=p.resolve(Be,Ie.url)),E.load(Be)}function be(pe){if(pe){if(b.getIsPatch(pe)){var Ie=pe;pe=L.getValue();var Be=b.isPatchValid(pe,Ie),at=Be;if(Be){var Xe=b.getPublishTime(pe);at=b.applyPatchToManifest(pe,Ie);var je=b.getPublishTime(pe);at=Xe.getTime()!=je.getTime()}if(!at)return A.debug("Patch provided is invalid, performing full manifest refresh"),void Te(!0);pe.loadedTime=new Date}}else(pe=L.getValue()).loadedTime=new Date;if(L.getValue()&&L.getValue().type===f.default.DYNAMIC&&pe.type===f.default.STATIC)return h.trigger(v.default.DYNAMIC_TO_STATIC),I=!1,void(S=!0);L.setValue(pe);var Ne=new Date,ee=(Ne.getTime()-pe.loadedTime.getTime())/1e3;1e3*(x=b.getManifestUpdatePeriod(pe,ee))>2147483647&&(x=2147483.647),h.trigger(v.default.MANIFEST_UPDATED,{manifest:pe}),A.info("Manifest has been refreshed at "+Ne+"["+Ne.getTime()/1e3+"] "),O||ce()}function Oe(){if(!O){if(I)return void ce(Z.get().streaming.manifestUpdateRetryInterval);Te()}}function ie(pe){pe.error?pe.error.code===D.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&B.error(pe.error):be(pe.manifest)}function ye(){O=!1,ce()}function Ce(){(O=!Z.get().streaming.scheduling.scheduleWhilePaused)&&De()}function de(){I=!1}return C={initialize:function Re(){ae(),h.on(v.default.STREAMS_COMPOSED,de,this),h.on(y.default.PLAYBACK_STARTED,ye,this),h.on(y.default.PLAYBACK_PAUSED,Ce,this),h.on(v.default.INTERNAL_MANIFEST_LOADED,ie,this)},setManifest:function Y(pe){be(pe)},refreshManifest:Te,getIsUpdating:function Me(){return I},setConfig:function le(pe){pe&&(pe.manifestModel&&(L=pe.manifestModel),pe.adapter&&(b=pe.adapter),pe.manifestLoader&&(E=pe.manifestLoader),pe.errHandler&&(B=pe.errHandler),pe.settings&&(Z=pe.settings))},reset:function G(){h.off(y.default.PLAYBACK_STARTED,ye,this),h.off(y.default.PLAYBACK_PAUSED,Ce,this),h.off(v.default.STREAMS_COMPOSED,de,this),h.off(v.default.INTERNAL_MANIFEST_LOADED,ie,this),ae()}},function oe(){A=Object(P.default)(d).getInstance().getLogger(C)}(),C}c.__dashjs_factory_name="ManifestUpdater",g.default=m.default.getClassFactory(c)},"./src/streaming/MediaPlayer.js":
/*!**************************************!*\
                  !*** ./src/streaming/MediaPlayer.js ***!
                  \**************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../externals/cea608-parser */
"./externals/cea608-parser.js"),v=e.n(t),y=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),m=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),P=e(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),D=e(
/*! ./controllers/PlaybackController */
"./src/streaming/controllers/PlaybackController.js"),f=e(
/*! ./controllers/StreamController */
"./src/streaming/controllers/StreamController.js"),i=e(
/*! ./controllers/GapController */
"./src/streaming/controllers/GapController.js"),c=e(
/*! ./controllers/CatchupController */
"./src/streaming/controllers/CatchupController.js"),d=e(
/*! ../dash/controllers/ServiceDescriptionController */
"./src/dash/controllers/ServiceDescriptionController.js"),h=e(
/*! ../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js"),p=e(
/*! ./controllers/MediaController */
"./src/streaming/controllers/MediaController.js"),C=e(
/*! ./controllers/BaseURLController */
"./src/streaming/controllers/BaseURLController.js"),A=e(
/*! ./ManifestLoader */
"./src/streaming/ManifestLoader.js"),x=e(
/*! ./utils/ErrorHandler */
"./src/streaming/utils/ErrorHandler.js"),R=e(
/*! ./utils/Capabilities */
"./src/streaming/utils/Capabilities.js"),O=e(
/*! ./utils/CapabilitiesFilter */
"./src/streaming/utils/CapabilitiesFilter.js"),S=e(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),I=e(
/*! ./models/URIFragmentModel */
"./src/streaming/models/URIFragmentModel.js"),E=e(
/*! ./models/ManifestModel */
"./src/streaming/models/ManifestModel.js"),L=e(
/*! ./models/MediaPlayerModel */
"./src/streaming/models/MediaPlayerModel.js"),b=e(
/*! ./controllers/AbrController */
"./src/streaming/controllers/AbrController.js"),B=e(
/*! ./net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js"),Z=e(
/*! ./models/VideoModel */
"./src/streaming/models/VideoModel.js"),oe=e(
/*! ./models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),le=e(
/*! ./utils/DOMStorage */
"./src/streaming/utils/DOMStorage.js"),Re=e(
/*! ./../core/Debug */
"./src/core/Debug.js"),Y=e(
/*! ./../core/errors/Errors */
"./src/core/errors/Errors.js"),ae=e(
/*! ./../core/EventBus */
"./src/core/EventBus.js"),G=e(
/*! ./../core/events/Events */
"./src/core/events/Events.js"),De=e(
/*! ./MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),ce=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),Te=e(
/*! ../core/Settings */
"./src/core/Settings.js"),be=e(
/*! ../core/Version */
"./src/core/Version.js"),Oe=e(
/*! ../dash/controllers/SegmentBaseController */
"./src/dash/controllers/SegmentBaseController.js"),ie=e(
/*! ../dash/DashAdapter */
"./src/dash/DashAdapter.js"),ye=e(
/*! ../dash/DashMetrics */
"./src/dash/DashMetrics.js"),Ce=e(
/*! ../dash/utils/TimelineConverter */
"./src/dash/utils/TimelineConverter.js"),de=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),Me=e(
/*! ../../externals/base64 */
"./externals/base64.js"),pe=e.n(Me),Ie=e(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),Be=e.n(Ie),at=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),Xe=e(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),je=e(
/*! ./ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),Ne=e(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),ee=e(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),fe=e(
/*! ./text/TextController */
"./src/streaming/text/TextController.js"),we=e(
/*! ./models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function q(){var ct,qe,tt,gt,Qe,yt,Et,me,We,Tt,Kt,Jt,Xt,un,fn,It,vt,it,He,Ze,st,lt,St,bt,At,on,En,tn,Mn,wn,Nn,$n,ti,vn,pn,yn,mn,Q="You must first call initialize() and set a source before calling this method",ne="You must first call initialize() and set a valid source and view before calling this method",X="You must first call attachView() to set the video element before calling this method",J="MediaPlayer not initialized!",ge=this.context,Se=Object(ae.default)(ge).getInstance(),Ee=Object(Te.default)(ge).getInstance(),Fe=Object(Re.default)(ge).getInstance({settings:Ee});function Tn(){pr(null),Ir(null),gt=null,Xt&&(Xt.reset(),Xt=null),un&&(un.reset(),un=null),He&&He.reset(),Ee.reset(),It&&(It.reset(),It=null)}function Dt(){return!!tt&&!!vn.getElement()}function xn(){return Object(be.getVersionString)()}function en(){if(!Et)throw ne;return En.isPaused()}function Ft(){if(!Et)throw ne;return En.getIsDynamic()}function Gr(kn){var _t=bt&&bt.hasVideoTrack()?y.default.VIDEO:y.default.AUDIO,Ot=Nn.getCurrentDVRInfo(_t);if(!Ot)return 0;var ft=En.getOriginalLiveDelay(),$t=Ot.range.start+kn;return $t>Ot.range.end-ft&&($t=Ot.range.end-ft),$t}function wi(kn){if(!Et)throw ne;var _t=Ki().currentTime;if(void 0!==kn)_t=bt.getTimeRelativeToStreamId(_t,kn);else if(En.getIsDynamic()){var Ot=bt&&bt.hasVideoTrack()?y.default.VIDEO:y.default.AUDIO,ft=Nn.getCurrentDVRInfo(Ot);_t=null===ft||0===_t?0:Math.max(0,_t-ft.range.start)}return _t}function Vo(){if(!Et)throw ne;var kn=Ki().duration;if(En.getIsDynamic()){var _t=bt&&bt.hasVideoTrack()?y.default.VIDEO:y.default.AUDIO,Ot=Nn.getCurrentDVRInfo(_t);kn=Ot?Ot.range.end-Ot.range.start:0}return kn}function jr(kn){Object(Xe.checkParameterType)(kn,"boolean"),me=kn}function Vr(){He.restoreDefaultUTCTimingSources()}function Xn(){return Nn}function Ki(){if(!vn.getElement())throw X;return vn.getElement()}function Ir(kn){if(!Qe)throw J;vn.setElement(kn),kn&&(cs(),function ra(){if(!un){var kn=dashjs.MetricsReporting;if("function"==typeof kn){var _t=kn(ge).create();un=_t.createMetricsReporting({debug:Fe,eventBus:Se,mediaElement:Ki(),adapter:vt,dashMetrics:Nn,mediaPlayerModel:it,events:G.default,constants:y.default,metricsConstants:P.default})}}}(),function Fs(){if(!fn){var kn=dashjs.MssHandler;"function"==typeof kn&&(Y.default.extend(kn.errors),fn=kn(ge).create({eventBus:Se,mediaPlayerModel:it,dashMetrics:Nn,manifestModel:$n,playbackController:En,streamController:bt,protectionController:Xt,baseURLController:st,errHandler:Ze,events:G.default,constants:y.default,debug:Fe,initSegmentType:de.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:pe.a,ISOBoxer:Be.a,settings:Ee}))}}(),bt&&bt.switchToVideoElement()),Et&&Zs(),Br()}function _o(kn){if(!yt)throw Q;var _t=bt.getActiveStreamInfo();return _t?Jt.getTracksFor(kn,_t.id):[]}function pr(kn){var _t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!Qe)throw J;"string"==typeof kn&&pn.initialize(kn),(null==_t||isNaN(_t))&&(_t=NaN),_t=Math.max(0,_t),tt=kn,(yt||Et)&&Zs(),Dt()&&Br(_t)}function ks(){if(!yt)throw Q;var kn=bt.getActiveStreamInfo();return kn?bt.getStreamById(kn.id):null}function Zs(){Et=!1,yt=!1,vt.reset(),bt.reset(),on.reset(),wn.reset(),En.reset(),tn.reset(),Mn.reset(),We.reset(),Jt.reset(),mn.reset(),Xt&&(Ee.get().streaming.protection.keepProtectionMediaKeys?Xt.stop():(Xt.reset(),Xt=null,cs())),At.reset(),ti.reset()}function Uo(){return Object(A.default)(ge).create({debug:Fe,errHandler:Ze,dashMetrics:Nn,mediaPlayerModel:it,requestModifier:Object(S.default)(ge).getInstance(),mssHandler:fn,settings:Ee})}function cs(){if(Xt)return Xt;var kn=dashjs.Protection;if("function"==typeof kn){var _t=kn(ge).create();return G.default.extend(kn.events),De.default.extend(kn.events,{publicOnly:!0}),Y.default.extend(kn.errors),lt||(lt=Object(R.default)(ge).getInstance()),Xt=_t.createProtectionSystem({debug:Fe,errHandler:Ze,videoModel:vn,customParametersModel:He,capabilities:lt,eventBus:Se,events:G.default,BASE64:pe.a,constants:y.default,cmcdModel:ti,settings:Ee})}return null}function ys(){if(!Qe)throw J;if(It)return It;var kn=dashjs.OfflineController;if("function"==typeof kn){G.default.extend(kn.events),De.default.extend(kn.events,{publicOnly:!0}),Y.default.extend(kn.errors);var _t=Uo(),Ot=Object(je.default)(ge).create();return Ot.setConfig({manifestModel:$n,adapter:vt,manifestLoader:_t,errHandler:Ze}),It=kn(ge).create({debug:Fe,manifestUpdater:Ot,baseURLController:st,manifestLoader:_t,manifestModel:$n,mediaPlayerModel:it,abrController:We,playbackController:En,adapter:vt,errHandler:Ze,dashMetrics:Nn,timelineConverter:Kt,segmentBaseController:mn,schemeLoaderFactory:Tt,eventBus:Se,events:G.default,errors:Y.default,constants:y.default,settings:Ee,dashConstants:m.default,urlUtils:Object(Ne.default)(ge).getInstance()})}return null}function Aa(kn){var _t=bt&&bt.hasVideoTrack()?y.default.VIDEO:y.default.AUDIO,Ot=Nn.getCurrentDVRInfo(_t);return Ot?kn+(Ot.manifestInfo.availableFrom.getTime()/1e3+Ot.range.start):0}function Br(){var kn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;It&&It.resetRecords(),!yt&&tt&&(yt=!0,qe.info("Streaming Initialized"),function Fr(){var kn=Uo();bt||(bt=Object(f.default)(ge).getInstance()),At||(At=Object(fe.default)(ge).create({errHandler:Ze,manifestModel:$n,adapter:vt,mediaController:Jt,videoModel:vn,settings:Ee})),St.setConfig({capabilities:lt,customParametersModel:He,adapter:vt,settings:Ee,manifestModel:$n,errHandler:Ze}),bt.setConfig({capabilities:lt,capabilitiesFilter:St,manifestLoader:kn,manifestModel:$n,mediaPlayerModel:it,customParametersModel:He,protectionController:Xt,textController:At,adapter:vt,dashMetrics:Nn,errHandler:Ze,timelineConverter:Kt,videoModel:vn,playbackController:En,serviceDescriptionController:tn,contentSteeringController:Mn,abrController:We,mediaController:Jt,settings:Ee,baseURLController:st,uriFragmentModel:pn,segmentBaseController:mn}),on.setConfig({settings:Ee,playbackController:En,streamController:bt,videoModel:vn,timelineConverter:Kt,adapter:vt}),En.setConfig({streamController:bt,serviceDescriptionController:tn,dashMetrics:Nn,adapter:vt,videoModel:vn,timelineConverter:Kt,settings:Ee}),wn.setConfig({streamController:bt,playbackController:En,mediaPlayerModel:it,videoModel:vn,settings:Ee}),We.setConfig({streamController:bt,domStorage:yn,mediaPlayerModel:it,customParametersModel:He,dashMetrics:Nn,adapter:vt,videoModel:vn,settings:Ee}),ti.setConfig({abrController:We,dashMetrics:Nn,playbackController:En}),Mn.setConfig({adapter:vt,errHandler:Ze,dashMetrics:Nn,mediaPlayerModel:it,manifestModel:$n,abrController:We,eventBus:Se,requestModifier:Object(S.default)(ge).getInstance()}),We.initialize(),bt.initialize(me,gt),At.initialize(),on.initialize(),wn.initialize(),ti.initialize(),Mn.initialize(),mn.initialize()}(),"string"==typeof tt?bt.load(tt,kn):bt.loadWithManifest(tt,kn)),!Et&&Dt()&&(Et=!0,qe.info("Playback Initialized"))}return ct={initialize:function ht(kn,_t,Ot){var ft=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;lt||(lt=Object(R.default)(ge).getInstance()).setConfig({settings:Ee}),Ze||(Ze=Object(x.default)(ge).getInstance()),lt.supportsMediaSource()?(Qe||(Qe=!0,Kt=Object(Ce.default)(ge).getInstance(),We||(We=Object(b.default)(ge).getInstance()).setConfig({settings:Ee}),Tt||(Tt=Object(B.default)(ge).getInstance()),En||(En=Object(D.default)(ge).getInstance()),Jt||(Jt=Object(p.default)(ge).getInstance()),bt||(bt=Object(f.default)(ge).getInstance()),on||(on=Object(i.default)(ge).getInstance()),wn||(wn=Object(c.default)(ge).getInstance()),tn||(tn=Object(d.default)(ge).getInstance()),Mn||(Mn=Object(h.default)(ge).getInstance()),St||(St=Object(O.default)(ge).getInstance()),vt=Object(ie.default)(ge).getInstance(),$n=Object(E.default)(ge).getInstance(),ti=Object(oe.default)(ge).getInstance(),Nn=Object(ye.default)(ge).getInstance({settings:Ee}),yn=Object(le.default)(ge).getInstance({settings:Ee}),vt.setConfig({constants:y.default,cea608parser:v.a,errHandler:Ze,BASE64:pe.a}),st||(st=Object(C.default)(ge).create()),st.setConfig({adapter:vt}),tn.setConfig({adapter:vt}),mn||(mn=Object(Oe.default)(ge).getInstance({dashMetrics:Nn,mediaPlayerModel:it,errHandler:Ze,baseURLController:st,events:G.default,eventBus:Se,debug:Fe,boxParser:Object(ee.default)(ge).getInstance(),requestModifier:Object(S.default)(ge).getInstance(),errors:Y.default})),Jt.setConfig({domStorage:yn,settings:Ee,customParametersModel:He}),it.setConfig({playbackController:En,serviceDescriptionController:tn}),Vr(),jr(void 0===Ot||Ot),ys()),kn&&Ir(kn),_t&&pr(_t,ft),qe.info("[dash.js "+xn()+"] MediaPlayer has been initialized")):Ze.error(new at.default(Y.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,Y.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function Mt(kn){kn&&(kn.capabilities&&(lt=kn.capabilities),kn.capabilitiesFilter&&(St=kn.capabilitiesFilter),kn.streamController&&(bt=kn.streamController),kn.textController&&(At=kn.textController),kn.gapController&&(on=kn.gapController),kn.playbackController&&(En=kn.playbackController),kn.serviceDescriptionController&&(tn=kn.serviceDescriptionController),kn.contentSteeringController&&(Mn=kn.contentSteeringController),kn.catchupController&&(wn=kn.catchupController),kn.mediaPlayerModel&&(it=kn.mediaPlayerModel),kn.customParametersModel&&(He=kn.customParametersModel),kn.abrController&&(We=kn.abrController),kn.schemeLoaderFactory&&(Tt=kn.schemeLoaderFactory),kn.mediaController&&(Jt=kn.mediaController),kn.settings&&(Ee=kn.settings))},on:function Qt(kn,_t,Ot,ft){Se.on(kn,_t,Ot,ft)},off:function Nt(kn,_t,Ot){Se.off(kn,_t,Ot)},extend:function vo(kn,_t,Ot){ce.default.extend(kn,_t,Ot,ge)},attachView:Ir,attachSource:pr,isReady:Dt,play:function wt(){if(!Et)throw ne;(!me||en()&&Et)&&En.play(!0)},isPaused:en,pause:function Pt(){if(!Et)throw ne;En.pause()},isSeeking:function ii(){if(!Et)throw ne;return En.isSeeking()},isDynamic:Ft,getLowLatencyModeEnabled:function Pn(){if(!Et)throw ne;return En.getLowLatencyModeEnabled()},seek:function An(kn){if(!Et)throw ne;if(Object(Xe.checkParameterType)(kn,"number"),isNaN(kn))throw y.default.BAD_ARGUMENT_ERROR;kn<0&&(kn=0);var _t=En.getIsDynamic()?Gr(kn):kn,Ot=Ki();!En.getIsDynamic()&&Ot.duration&&(_t=Math.min(Ot.duration,_t)),En.seek(_t,!1,!1,!0)},seekToOriginalLive:function Vn(){!Et||!Ft()||En.seekToOriginalLive()},setPlaybackRate:function Le(kn){Ki().playbackRate=kn},getPlaybackRate:function Bt(){return Ki().playbackRate},setMute:function Rt(kn){Object(Xe.checkParameterType)(kn,"boolean"),Ki().muted=kn},isMuted:function ln(){return Ki().muted},setVolume:function Fn(kn){if("number"!=typeof kn||isNaN(kn)||kn<0||kn>1)throw y.default.BAD_ARGUMENT_ERROR;Ki().volume=kn},getVolume:function vi(){return Ki().volume},time:wi,duration:Vo,timeAsUTC:function Do(){if(!Et)throw ne;return wi()<0?NaN:Aa(wi())},durationAsUTC:function _s(){if(!Et)throw ne;return Aa(Vo())},getActiveStream:ks,getDVRWindowSize:function Zr(){var kn=bt&&bt.hasVideoTrack()?y.default.VIDEO:y.default.AUDIO,_t=Nn.getCurrentDVRInfo(kn);return _t?_t.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:Gr,getTargetLiveDelay:function ki(){if(!Et)throw ne;return En.getOriginalLiveDelay()},convertToTimeCode:function Ls(kn){kn=Math.max(kn,0);var _t=Math.floor(kn/3600),Ot=Math.floor(kn%3600/60),ft=Math.floor(kn%3600%60);return(0===_t?"":_t<10?"0"+_t.toString()+":":_t.toString()+":")+(Ot<10?"0"+Ot.toString():Ot.toString())+":"+(ft<10?"0"+ft.toString():ft.toString())},formatUTC:function Da(kn,_t,Ot){var ft=arguments.length>3&&void 0!==arguments[3]&&arguments[3],$t=new Date(1e3*kn),On=$t.toLocaleDateString(_t),Ti=$t.toLocaleTimeString(_t,{hour12:Ot});return ft?Ti+" "+On:Ti},getVersion:xn,getDebug:function kt(){return Fe},getBufferLength:function vr(kn){var _t=[y.default.VIDEO,y.default.AUDIO,y.default.TEXT];if(kn)return-1!==_t.indexOf(kn)?Xn().getCurrentBufferLevel(kn)||NaN:(qe.warn("getBufferLength requested for invalid type"),NaN);var Ot=_t.map(function($t){return _o($t).length>0?Xn().getCurrentBufferLevel($t):Number.MAX_VALUE}).reduce(function($t,On){return Math.min($t,On)});return Ot===Number.MAX_VALUE?NaN:Ot},getTTMLRenderingDiv:function Io(){return vn?vn.getTTMLRenderingDiv():null},getVideoElement:Ki,getSource:function Fo(){if(!tt)throw"You must first call attachSource() with a valid source before calling this method";return tt},updateSource:function Ys(kn){bt.load(tt=kn)},getCurrentLiveLatency:function xr(){if(!Qe)throw J;return Et?En.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function Yi(kn){if(!yt)throw Q;return We.getTopBitrateInfoFor(kn)},setAutoPlay:jr,getAutoPlay:function os(){return me},getDashMetrics:Xn,getQualityFor:function Hr(kn){if(!yt)throw Q;if(kn===y.default.IMAGE){var _t=ks();if(!_t)return-1;var Ot=_t.getThumbnailController();return Ot?Ot.getCurrentTrackIndex():-1}return We.getQualityFor(kn)},setQualityFor:function tr(kn,_t){var Ot=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!yt)throw Q;if(kn===y.default.IMAGE){var ft=ks();if(!ft)return;var $t=ft.getThumbnailController();$t&&$t.setTrackByIndex(_t)}We.setPlaybackQuality(kn,bt.getActiveStreamInfo(),_t,{forceReplace:Ot})},updatePortalSize:function lo(){We.setElementSize(),We.setWindowResizeEventCalled(!0)},enableText:function hi(kn){var _t=bt.getActiveStreamInfo();return!(!_t||!At)&&At.enableText(_t.id,kn)},enableForcedTextStreaming:function li(kn){return!(!bt.getActiveStreamInfo()||!At)&&At.enableForcedTextStreaming(kn)},isTextEnabled:function Ui(){var kn=bt.getActiveStreamInfo();return!(!kn||!At)&&At.isTextEnabled(kn)},setTextTrack:function Ji(kn){if(!Et)throw ne;var _t=bt.getActiveStreamInfo();!_t||!At||At.setTextTrack(_t.id,kn)},getBitrateInfoListFor:function Ks(kn){if(!yt)throw Q;var _t=ks();return _t?_t.getBitrateListFor(kn):[]},getStreamsFromManifest:function Xr(kn){if(!yt)throw Q;return vt.getStreamsInfo(kn)},getTracksFor:_o,getTracksForTypeFromManifest:function ss(kn,_t,Ot){if(!yt)throw Q;return(Ot=Ot||vt.getStreamsInfo(_t,1)[0])?vt.getAllMediaInfoForType(Ot,kn,_t):[]},getCurrentTrackFor:function as(kn){if(!yt)throw Q;var _t=bt.getActiveStreamInfo();return Jt.getCurrentTrackFor(kn,_t.id)},setInitialMediaSettingsFor:function lr(kn,_t){if(!Qe)throw J;Jt.setInitialSettings(kn,_t)},getInitialMediaSettingsFor:function ja(kn){if(!Qe)throw J;return Jt.getInitialSettings(kn)},setCurrentTrack:function qo(kn){if(!yt)throw Q;Jt.setTrack(kn)},addABRCustomRule:function co(kn,_t,Ot){He.addAbrCustomRule(kn,_t,Ot)},removeABRCustomRule:function Xo(kn){He.removeAbrCustomRule(kn)},removeAllABRCustomRule:function As(){He.removeAllAbrCustomRule()},getABRCustomRules:function Cr(){return He.getAbrCustomRules()},getAverageThroughput:function Mo(kn){var _t=We.getThroughputHistory(),Ot=En.getIsDynamic();return _t?_t.getAverageThroughput(kn,Ot):0},retrieveManifest:function mr(kn,_t){var Ot=Uo(),ft=this;Se.on(G.default.INTERNAL_MANIFEST_LOADED,function On(Ti){Ti.error?_t(null,Ti.error):_t(Ti.manifest),Se.off(G.default.INTERNAL_MANIFEST_LOADED,On,ft),Ot.reset()},ft),pn.initialize(kn),Ot.load(kn)},addUTCTimingSource:function yi(kn,_t){He.addUTCTimingSource(kn,_t)},removeUTCTimingSource:function $i(kn,_t){He.removeUTCTimingSource(kn,_t)},clearDefaultUTCTimingSources:function Pr(){He.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:Vr,setXHRWithCredentialsForType:function zr(kn,_t){He.setXHRWithCredentialsForType(kn,_t)},getXHRWithCredentialsForType:function po(kn){return He.getXHRWithCredentialsForType(kn)},getProtectionController:function no(){return cs()},attachProtectionController:function ua(kn){Xt=kn},setProtectionData:function Ao(kn){gt=kn,bt&&bt.setProtectionData(gt)},registerLicenseRequestFilter:function Is(kn){He.registerLicenseRequestFilter(kn)},registerLicenseResponseFilter:function Kr(kn){He.registerLicenseResponseFilter(kn)},unregisterLicenseRequestFilter:function hr(kn){He.unregisterLicenseRequestFilter(kn)},unregisterLicenseResponseFilter:function Sr(kn){He.unregisterLicenseResponseFilter(kn)},registerCustomCapabilitiesFilter:function Ws(kn){He.registerCustomCapabilitiesFilter(kn)},unregisterCustomCapabilitiesFilter:function uo(kn){He.unregisterCustomCapabilitiesFilter(kn)},setCustomInitialTrackSelectionFunction:function ls(kn){He.setCustomInitialTrackSelectionFunction(kn)},resetCustomInitialTrackSelectionFunction:function xs(){He.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function Lo(kn){if(!vn.getElement())throw X;vn.setTTMLRenderingDiv(kn)},attachVttRenderingDiv:function ko(kn){if(!vn.getElement())throw X;vn.setVttRenderingDiv(kn)},getCurrentTextTrackIndex:function rr(){var _t=bt.getActiveStreamInfo();if(_t&&At)return At.getCurrentTrackIdx(_t.id)},provideThumbnail:function kr(kn,_t){if("function"==typeof _t){if(kn<0)return void _t(null);var Ot=En.getIsDynamic()?Gr(kn):kn,ft=bt.getStreamForTime(Ot);if(null===ft)return void _t(null);var $t=ft.getThumbnailController();return $t?$t.provide(Ot,_t):void _t(null)}},getDashAdapter:function es(){return vt},getOfflineController:function Dn(){return ys()},triggerSteeringRequest:function fa(){if(Mn)return Mn.loadSteeringData()},getCurrentSteeringResponseData:function Ma(){if(Mn)return Mn.getCurrentSteeringResponseData()},getSettings:function vs(){return Ee.get()},updateSettings:function Wo(kn){Ee.update(kn)},resetSettings:function ws(){Ee.reset()},reset:Tn,destroy:function et(){Tn(),ce.default.deleteSingletonInstances(ge)}},function _n(){qe=Fe.getLogger(ct),Qe=!1,Et=!1,yt=!1,me=!0,Xt=null,It=null,gt=null,vt=null,mn=null,G.default.extend(De.default),it=Object(L.default)(ge).getInstance(),He=Object(we.default)(ge).getInstance(),vn=Object(Z.default)(ge).getInstance(),pn=Object(I.default)(ge).getInstance()}(),ct}q.__dashjs_factory_name="MediaPlayer";var $=ce.default.getClassFactory(q);$.events=De.default,$.errors=Y.default,ce.default.updateClassFactory(q.__dashjs_factory_name,$),g.default=$},"./src/streaming/MediaPlayerEvents.js":
/*!********************************************!*\
                  !*** ./src/streaming/MediaPlayerEvents.js ***!
                  \********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function v(O){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(O)}function y(O,S){for(var I=0;I<S.length;I++){var E=S[I];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(O,P(E.key),E)}}function P(O){var S=function D(O,S){if("object"!==v(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var E=I.call(O,S||"default");if("object"!==v(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)(O)}(O,"string");return"symbol"===v(S)?S:String(S)}function i(O,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),S&&c(O,S)}function c(O,S){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,L){return E.__proto__=L,E})(O,S)}function d(O){var S=function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,E=A(O);if(S){var b=A(this).constructor;L=Reflect.construct(E,arguments,b)}else L=E.apply(this,arguments);return function h(O,S){if(S&&("object"===v(S)||"function"==typeof S))return S;if(void 0!==S)throw new TypeError("Derived constructors may only return object or undefined");return function p(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function A(O){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}e.r(g);var R=new(function(O){i(I,O);var S=d(I);function I(){var E;return function f(O,S){if(!(O instanceof S))throw new TypeError("Cannot call a class as a function")}(this,I),(E=S.call(this)).AST_IN_FUTURE="astInFuture",E.BUFFER_EMPTY="bufferStalled",E.BUFFER_LOADED="bufferLoaded",E.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",E.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",E.DYNAMIC_TO_STATIC="dynamicToStatic",E.ERROR="error",E.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",E.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",E.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",E.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",E.LOG="log",E.MANIFEST_LOADED="manifestLoaded",E.METRICS_CHANGED="metricsChanged",E.METRIC_CHANGED="metricChanged",E.METRIC_ADDED="metricAdded",E.METRIC_UPDATED="metricUpdated",E.PERIOD_SWITCH_STARTED="periodSwitchStarted",E.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",E.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",E.QUALITY_CHANGE_RENDERED="qualityChangeRendered",E.TRACK_CHANGE_RENDERED="trackChangeRendered",E.STREAM_INITIALIZING="streamInitializing",E.STREAM_UPDATED="streamUpdated",E.STREAM_ACTIVATED="streamActivated",E.STREAM_DEACTIVATED="streamDeactivated",E.STREAM_INITIALIZED="streamInitialized",E.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",E.TEXT_TRACKS_ADDED="allTextTracksAdded",E.TEXT_TRACK_ADDED="textTrackAdded",E.TTML_PARSED="ttmlParsed",E.TTML_TO_PARSE="ttmlToParse",E.CAPTION_RENDERED="captionRendered",E.CAPTION_CONTAINER_RESIZE="captionContainerResize",E.CAN_PLAY="canPlay",E.CAN_PLAY_THROUGH="canPlayThrough",E.PLAYBACK_ENDED="playbackEnded",E.PLAYBACK_ERROR="playbackError",E.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",E.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",E.PLAYBACK_LOADED_DATA="playbackLoadedData",E.PLAYBACK_PAUSED="playbackPaused",E.PLAYBACK_PLAYING="playbackPlaying",E.PLAYBACK_PROGRESS="playbackProgress",E.PLAYBACK_RATE_CHANGED="playbackRateChanged",E.PLAYBACK_SEEKED="playbackSeeked",E.PLAYBACK_SEEKING="playbackSeeking",E.PLAYBACK_STALLED="playbackStalled",E.PLAYBACK_STARTED="playbackStarted",E.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",E.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",E.PLAYBACK_WAITING="playbackWaiting",E.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",E.EVENT_MODE_ON_START="eventModeOnStart",E.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",E.CONFORMANCE_VIOLATION="conformanceViolation",E.REPRESENTATION_SWITCH="representationSwitch",E.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",E.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",E}return function m(O,S,I){return S&&y(O.prototype,S),I&&y(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(e(
/*! ../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));g.default=R},"./src/streaming/MediaPlayerFactory.js":
/*!*********************************************!*\
                  !*** ./src/streaming/MediaPlayerFactory.js ***!
                  \*********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./MediaPlayer */
"./src/streaming/MediaPlayer.js");var m,y=function v(){var c,i="application/dash+xml";function d(C,A,x){if(!C||!/^VIDEO$/i.test(C.nodeName))return null;if(C._dashjs_player)return C._dashjs_player;var R,O=C.id||C.name||"video element";if(!(A=A||[].slice.call(C.querySelectorAll("source")).filter(function(S){return S.type==i})[0])&&C.src)(A=document.createElement("source")).src=C.src;else if(!A&&!C.src)return null;return x=x||{},(R=Object(t.default)(x).create()).initialize(C,A.src,C.autoplay),c||(c=R.getDebug().getLogger()),c.debug("Converted "+O+" to dash.js player and added content: "+A.src),C._dashjs_player=R,R}function p(C){return/^VIDEO$/i.test(C.nodeName)?C:p(C.parentNode)}return{create:d,createAll:function h(C,A){var x=[];C=C||"[data-dashjs-player]";for(var R=(A=A||document).querySelectorAll(C),O=0;O<R.length;O++){var S=d(R[O],null);x.push(S)}for(var I=A.querySelectorAll('source[type="'+i+'"]'),E=0;E<I.length;E++){var b=d(p(I[E]),null);x.push(b)}return x}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?y.createAll():m=window.setInterval(function D(){window.dashjs&&(window.clearInterval(m),y.createAll())},500):window.addEventListener("load",function P(){window.removeEventListener("load",P),y.createAll()})),g.default=y},"./src/streaming/SourceBufferSink.js":
/*!*******************************************!*\
                  !*** ./src/streaming/SourceBufferSink.js ***!
                  \*******************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../core/Debug */
"./src/core/Debug.js"),v=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),y=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),P=e(
/*! ../core/Settings */
"./src/core/Settings.js"),D=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),f=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),i=e(
/*! ../core/events/Events */
"./src/core/events/Events.js");function p(A){var I,E,L,b,B,Z,x=this.context,R=Object(P.default)(x).getInstance(),O=A.textController,S=A.eventBus,oe=[],le=[],Re=!1,Y=A.mediaSource,ae=null;function ce(ne){return new Promise(function(X){Q(function(){b.changeType&&b.changeType(ne),X()})})}function Oe(ne){return b=O.getTextSourceBuffer(ne),Promise.resolve()}function ie(){if("function"==typeof b.addEventListener)try{b.addEventListener("updateend",we,!1),b.addEventListener("error",q,!1),b.addEventListener("abort",q,!1)}catch{Z=setInterval(we,50)}else Z=setInterval(we,50)}function de(ne){return new Promise(function(X){b&&R.get().streaming.buffer.useAppendWindow?Q(function(){try{if(!b)return void X();var re=Y.duration,J=0;ne&&!isNaN(ne.start)&&!isNaN(ne.duration)&&isFinite(ne.duration)&&(re=ne.start+ne.duration),ne&&!isNaN(ne.start)&&(J=ne.start),(b.appendWindowEnd!==re||b.appendWindowStart!==J)&&(b.appendWindowStart=0,b.appendWindowEnd=re+.01,b.appendWindowStart=Math.max(J-.1,0),L.debug("Updated append window for ".concat(B.type,". Set start to ").concat(b.appendWindowStart," and end to ").concat(b.appendWindowEnd))),X()}catch{L.warn("Failed to set append window"),X()}}):X()})}function Me(ne){return new Promise(function(X){b?Q(function(){try{b.timestampOffset!==ne&&!isNaN(ne)&&(b.timestampOffset=ne,L.debug("Set MSE timestamp offset to ".concat(ne))),X()}catch{X()}}):X()})}function Ne(){if(!Re&&le.length>0){Re=!0;var ne=le[0];le.splice(0,1);var X=function(){Re=!1,le.length>0&&Ne.call(this),ne&&ne.data&&ne.data.segmentType&&ne.data.segmentType!==f.HTTPRequest.INIT_SEGMENT_TYPE&&delete ne.data.bytes,ne.promise.resolve({chunk:ne.data})};try{ae=ne.request,0===ne.data.bytes.byteLength?X.call(this):(b.appendBuffer?b.appendBuffer(ne.data.bytes):b.append(ne.data.bytes,ne.data),Q(X.bind(this)))}catch(re){L.fatal('SourceBuffer append failed "'+re+'"'),le.length>0?Ne():Re=!1,delete ne.data.bytes,ne.promise.reject({chunk:ne.data,error:new v.default(re.code,re.message)})}}}function fe(){oe.length>0&&!b.updating&&(oe.shift()(),fe())}function we(){b.updating||fe()}function q(ne){!function $(ne,X){S.trigger(ne,X||{},{streamId:B.streamInfo.id,mediaType:E})}(i.default.SOURCE_BUFFER_ERROR,{error:ne.target||{},lastRequestAppended:ae})}function Q(ne){oe.push(ne),b.updating||fe()}return I={getType:function ye(){return E},getAllBufferRanges:function Be(){try{return b.buffered}catch(ne){return L.error("getAllBufferRanges exception: "+ne.message),null}},getBuffer:function Ie(){return b},append:function at(ne){var X=this,re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(J,ge){ne?(le.push({data:ne,promise:{resolve:J,reject:ge},request:re}),Q(Ne.bind(X))):ge({chunk:ne,error:new v.default(m.default.APPEND_ERROR_CODE,m.default.APPEND_ERROR_MESSAGE)})})},remove:function je(ne){return new Promise(function(X,re){var J=ne.start,ge=ne.end;J>=0&&ge>J?Q(function(){try{b.remove(J,ge),Q(function(){X({from:J,to:ge,unintended:!1}),ne.resolve&&ne.resolve()})}catch(Se){re({from:J,to:ge,unintended:!1,error:new v.default(m.default.REMOVE_ERROR_CODE,m.default.REMOVE_ERROR_MESSAGE)}),ne.reject&&ne.reject(Se)}}):X()})},abort:function ee(){return new Promise(function(ne){try{le=[],"open"===Y.readyState?Q(function(){try{b&&b.abort(),ne()}catch{ne()}}):(b&&b.setTextTrack&&"ended"===Y.readyState&&b.abort(),ne())}catch{ne()}})},reset:function pe(){if(b){try{oe=[],function Ce(){try{"function"==typeof b.removeEventListener&&(b.removeEventListener("updateend",we,!1),b.removeEventListener("error",q,!1),b.removeEventListener("abort",q,!1)),clearInterval(Z)}catch(ne){L.error(ne)}}(),Re=!1,le=[],(!b.getClassName||"TextSourceBuffer"!==b.getClassName())&&(L.debug("Removing sourcebuffer from media source"),Y.removeSourceBuffer(b))}catch{}b=null}ae=null},updateTimestampOffset:Me,initializeForStreamSwitch:function De(ne,X,re){E=(B=ne).type;var J=B.codec;(function Te(ne){b=ne.getBuffer()})(re),ie();var ge=[];return ge.push(function Xe(){return new Promise(function(ne){Q(function(){var X=b.appendWindowStart,re=b.appendWindowEnd;b&&(b.abort(),b.appendWindowStart=X,b.appendWindowEnd=re),ne()})})}()),ge.push(de(B.streamInfo)),ge.push(ce(J)),X&&void 0!==X.MSETimeOffset&&ge.push(Me(X.MSETimeOffset)),Promise.all(ge)},initializeForFirstUse:function be(ne,X,re){E=(B=X).type;var J=B.codec;try{if(J.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return Oe(ne);b=Y.addSourceBuffer(J),ie();var ge=[];return ge.push(de(B.streamInfo)),re&&void 0!==re.MSETimeOffset&&ge.push(Me(re.MSETimeOffset)),Promise.all(ge)}catch(Se){return B.type==D.default.TEXT&&!B.isFragmented||-1!==J.indexOf('codecs="stpp')||-1!==J.indexOf('codecs="vtt')?Oe(ne):Promise.reject(Se)}},updateAppendWindow:de,changeType:ce},function G(){L=Object(t.default)(x).getInstance().getLogger(I)}(),I}p.__dashjs_factory_name="SourceBufferSink";var C=y.default.getClassFactory(p);g.default=C},"./src/streaming/Stream.js":
/*!*********************************!*\
                  !*** ./src/streaming/Stream.js ***!
                  \*********************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),y=e(
/*! ./StreamProcessor */
"./src/streaming/StreamProcessor.js"),m=e(
/*! ./controllers/FragmentController */
"./src/streaming/controllers/FragmentController.js"),P=e(
/*! ./thumbnail/ThumbnailController */
"./src/streaming/thumbnail/ThumbnailController.js"),D=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),f=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),i=e(
/*! ../core/Debug */
"./src/core/Debug.js"),c=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),d=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),h=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),p=e(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),C=e(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),A=e(
/*! ./controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),x=[t.default.VIDEO,t.default.AUDIO,t.default.TEXT,t.default.MUXED,t.default.IMAGE];function R(O){O=O||{};var Ce,de,Me,pe,Ie,Be,at,Xe,je,Ne,ee,fe,we,q,$,Q,ne,X,S=this.context,I=Object(D.default)(S).getInstance(),E=Object(C.default)(S).getInstance(),L=O.manifestModel,b=O.mediaPlayerModel,B=O.dashMetrics,Z=O.manifestUpdater,oe=O.adapter,le=O.timelineConverter,Re=O.capabilities,Y=O.errHandler,ae=O.abrController,G=O.playbackController,De=O.eventController,ce=O.mediaController,Te=O.protectionController,be=O.textController,Oe=O.videoModel,ie=O.streamInfo,ye=O.settings;function Qe(Pt,en){return new Promise(function(An,Vn){bt(),Ne=!0,Mn();var ii=Oe.getElement();x.forEach(function(Ft){(Ft!==t.default.VIDEO||!ii||ii&&/^VIDEO$/i.test(ii.nodeName))&&function yt(Pt,en){var Ft,An=oe.getAllMediaInfoForType(ie,Pt),Vn=[],ii=null;if(An&&0!==An.length){Pt===t.default.VIDEO&&(at=!0),Pt===t.default.AUDIO&&(Xe=!0);for(var Pn=0,Le=An.length;Pn<Le;Pn++)ii=An[Pn],Pt===t.default.TEXT&&ii.isEmbedded&&(be.addEmbeddedTrack(ie,ii),Vn.push(ii)),Et(ii)&&ce.addTrack(ii);if(Vn.length>0&&(ce.setInitialMediaSettingsForType(Pt,ie),be.addMediaInfosToBuffer(ie,Pt,Vn)),0!==(An=An.filter(function(Rt){return!Rt.isEmbedded})).length){if(Pt===t.default.IMAGE)return void(fe=Object(P.default)(S).create({streamInfo:ie,adapter:oe,baseURLController:O.baseURLController,timelineConverter:O.timelineConverter,debug:Q,eventBus:I,events:f.default,dashConstants:v.default,dashMetrics:O.dashMetrics,segmentBaseController:O.segmentBaseController})).initialize();I.trigger(f.default.STREAM_INITIALIZING,{streamInfo:ie,mediaInfo:ii}),ce.setInitialMediaSettingsForType(Pt,ie);var Bt=function me(Pt,en){var An=Pt&&Pt.length>0?Pt[0]:null,Vn=ee.getModel(An?An.type:null),ii=An?An.type:null,Ft=An?An.mimeType:null,Pn=An?An.isFragmented:null,Le=Object(y.default)(S).create({streamInfo:ie,type:ii,mimeType:Ft,timelineConverter:le,adapter:oe,manifestModel:L,mediaPlayerModel:b,fragmentModel:Vn,dashMetrics:O.dashMetrics,baseURLController:O.baseURLController,segmentBaseController:O.segmentBaseController,abrController:ae,playbackController:G,mediaController:ce,textController:be,errHandler:Y,settings:ye,boxParser:$,segmentBlacklistController:we});Le.initialize(en,at,Pn),Me.push(Le);for(var Bt=0;Bt<Pt.length;Bt++)Le.addMediaInfo(Pt[Bt]);return ii===t.default.TEXT&&be.addMediaInfosToBuffer(ie,ii,Pt,Vn),Le}(An,en);(Ft=ce.getCurrentTrackFor(Pt,ie.id))&&(ae.updateTopQualityIndex(Ft),Bt.selectMediaInfo(Pt===t.default.TEXT&&Ft.isEmbedded?An[0]:Ft))}}else de.info("No "+Pt+" data.")}(Ft,Pt)}),function We(Pt){return new Promise(function(en){var An={},Vn=Me.map(function(ii){return ii.createBufferSinks(Pt)});Promise.all(Vn).then(function(ii){ii.forEach(function(Ft){Ft&&(An[Ft.getType()]=Ft)}),en(An)}).catch(function(){en(An)})})}(en).then(function(Ft){if(Ne=!1,0===Me.length){var Pn="No streams to play.";Y.error(new h.default(c.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Pn,L.getValue())),de.fatal(Pn)}else wn();be.createTracks(ie),An(Ft)}).catch(function(Ft){Vn(Ft)})})}function Et(Pt){var en=Pt?Pt.type:null;return en===t.default.MUXED?(de.fatal("Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),Y.error(new h.default(c.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",L.getValue())),!1):!(en!==t.default.TEXT&&en!==t.default.IMAGE&&Pt.contentProtection&&!Re.supportsEncryptedMedia()&&(Y.error(new h.default(c.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,c.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function Tt(Pt){for(var en=Me?Me.length:0,Vn=0;Vn<en;Vn++){var ii=Me[Vn].getFragmentModel();ii.abortRequests(),ii.resetInitialSettings(),Me[Vn].reset(false,Pt)}be&&be.deactivateStream(ie),Me=[],Ie=!1,Be=!1,Nt(!1),vt(!1),I.trigger(f.default.STREAM_DEACTIVATED,{streamInfo:ie})}function Xt(Pt){Tt(Pt),pe=!1,at=!1,Xe=!1,je={},Ne=!1,ne=!1,X=[]}function vt(Pt){ne=Pt}function it(){return ie?ie.start:NaN}function He(){return ie?ie.id:null}function Ze(){return ie}function bt(){if(!Oe||!ae)throw new Error(t.default.MISSING_CONFIG_ERROR)}function on(Pt){Pt.error&&(Y.error(Pt.error),de.fatal(Pt.error.message))}function Mn(){if(De){var Pt=oe.getEventsFor(ie);Pt&&Pt.length>0&&De.addInlineEvents(Pt,ie.id)}}function wn(){for(var Pt=Me.length,An=je.audio||je.video?new h.default(c.default.DATA_UPDATE_FAILED_ERROR_CODE,c.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,Vn=0;Vn<Pt;Vn++)if(Me[Vn].isUpdating()||Ne)return;if(Te){Te.clearMediaInfoArray();for(var ii=0;ii<Pt&&Me[ii];ii++){var Ft=Me[ii].getType(),Pn=Me[ii].getMediaInfo();if(Ft===t.default.AUDIO||Ft===t.default.VIDEO||Ft===t.default.TEXT&&Pn.isFragmented){var Le=Me[ii].getMediaInfo();Le&&Te.initializeForMedia(Le)}}Te.handleKeySystemFromManifest()}An?Y.error(An):pe||(pe=!0,Oe.waitForReadyState(t.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){I.trigger(f.default.STREAM_INITIALIZED,{streamInfo:ie})}))}function $n(){var Pt=mn(),en=Pt.length;if(0!==en){for(var An=0;An<en;An++)if(!Pt[An].isBufferingCompleted()&&(Pt[An].getType()===t.default.AUDIO||Pt[An].getType()===t.default.VIDEO))return void de.debug("onBufferingCompleted - One streamProcessor has finished but",Pt[An].getType(),"one is not buffering completed");de.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),Be=!0,I.trigger(f.default.STREAM_BUFFERING_COMPLETED,{streamInfo:ie},{streamInfo:ie})}else de.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function ti(Pt){je[Pt.mediaType]=Pt.error,wn()}function vn(Pt){De&&De.addInbandEvents(Pt.events,ie.id)}function pn(Pt){return Pt&&Pt.type?yn(Pt.type):null}function yn(Pt){return Pt?mn().filter(function(An){return An.getType()===Pt})[0]:null}function mn(){for(var en,An,Pt=[],Vn=0;Vn<Me.length;Vn++)((en=(An=Me[Vn]).getType())===t.default.AUDIO||en===t.default.VIDEO||en===t.default.TEXT)&&Pt.push(An);return Pt}function et(Pt,en){var An=Ze(),Vn=en.getStreamInfo();if(!Vn||!An)return!0;var ii=oe.getAdaptationForType(Vn.index,Pt,Vn),Ft=oe.getAdaptationForType(An.index,Pt,An);return ii&&Ft?!(!Dt(Ft)&&Dt(ii)):!ii&&!Ft}function Dt(Pt){return!!Pt&&!!(Pt.ContentProtection||Pt.Representation&&Pt.Representation.length>0&&Pt.Representation[0].ContentProtection)}function Qt(Pt,en){var An=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Pt||!Pt.hasOwnProperty("getStreamInfo"))return!1;var Vn=Pt.getStreamInfo(),ii=An?An.getStreamInfo():Ze();if(!Vn||!ii)return!1;var Ft=oe.getAdaptationForType(Vn.index,en,Vn),Pn=oe.getAdaptationForType(ii.index,en,ii);if(!Ft||!Pn)return!Ft&&!Pn;var Le=Ft&&Pn&&Ft.mimeType===Pn.mimeType,Bt=Pn.Representation_asArray.map(function(vi){return vi.codecs}),Rt=Ft.Representation_asArray.map(function(vi){return vi.codecs}),ln=Rt.some(function(vi){return Bt.indexOf(vi)>-1}),Fn=Rt.some(function(vi){return Bt.some(function(vr){return Re.codecRootCompatibleWithCodec(vr,vi)})});return ln||Fn&&Le}function Nt(Pt){q=Pt}function xn(){return q}return Ce={initialize:function J(){(function ge(){I.on(f.default.BUFFERING_COMPLETED,$n,Ce),I.on(f.default.DATA_UPDATE_COMPLETED,ti,Ce),I.on(f.default.INBAND_EVENTS,vn,Ce)})(),function Ee(){Te&&(I.on(f.default.KEY_ERROR,on,Ce),I.on(f.default.SERVER_CERTIFICATE_UPDATED,on,Ce),I.on(f.default.LICENSE_REQUEST_COMPLETE,on,Ce),I.on(f.default.KEY_SYSTEM_SELECTED,on,Ce),I.on(f.default.KEY_SESSION_CREATED,on,Ce),I.on(f.default.KEY_STATUSES_CHANGED,on,Ce))}(),be.initializeForStream(ie),I.trigger(f.default.STREAM_UPDATED,{streamInfo:ie})},getStreamId:function ct(){return ie?ie.id:null},activate:function qe(Pt,en){return new Promise(function(An,Vn){if(!Ie)return xn()?(Ie=!0,I.trigger(f.default.STREAM_ACTIVATED,{streamInfo:ie}),void An(en)):void function tt(Pt,en){return Qe(Pt,en)}(Pt,en).then(function(ii){Ie=!0,I.trigger(f.default.STREAM_ACTIVATED,{streamInfo:ie}),An(ii)}).catch(function(ii){Vn(ii)});An(en)})},deactivate:Tt,getIsActive:function Kt(){return Ie},getDuration:function fn(){return ie?ie.duration:NaN},getStartTime:it,getId:He,getStreamInfo:Ze,getHasAudioTrack:function st(){return Xe},getHasVideoTrack:function lt(){return at},startPreloading:function gt(Pt,en){return new Promise(function(An,Vn){xn()?Vn():(de.info("[startPreloading] Preloading next stream with id ".concat(He())),Nt(!0),Qe(Pt,en).then(function(){for(var ii=0;ii<Me.length&&Me[ii];ii++)Me[ii].setExplicitBufferingTime(it()),Me[ii].getScheduleController().startScheduleTimer();An()}).catch(function(){Nt(!1),Vn()}))})},getThumbnailController:function St(){return fe},getBitrateListFor:function At(Pt){if(bt(),Pt===t.default.IMAGE)return fe?fe.getBitrateList():[];var en=function Nn(Pt){for(var en=null,An=0;An<Me.length;An++)if((en=Me[An]).getType()===Pt)return en.getMediaInfo();return null}(Pt);return ae.getBitrateList(en)},updateData:function Mt(Pt){return new Promise(function(en){Ne=!0,ie=Pt,De&&Mn();for(var An=[],Vn=0,ii=Me.length;Vn<ii;Vn++){var Ft=Me[Vn],Pn=Ft.getMediaInfo();An.push(Ft.updateStreamInfo(ie));var Le=oe.getAllMediaInfoForType(ie,Ft.getType());if(Le){Ft.clearMediaInfoArray();for(var Bt=0;Bt<Le.length;Bt++){var Rt=Le[Bt];Ft.addMediaInfo(Le[Bt]),oe.areMediaInfosEqual(Pn,Rt)&&(ae.updateTopQualityIndex(Rt),An.push(Ft.selectMediaInfo(Rt)))}}}Promise.all(An).then(function(){for(An=[];X.length>0;){var ln=X.pop(),Fn=ln.newMediaInfo,vi=pn(ln.oldMediaInfo);if(!vi)return;An.push(vi.prepareTrackSwitch()),vi.selectMediaInfo(Fn)}return Promise.all(An)}).then(function(){Ne=!1,wn(),I.trigger(f.default.STREAM_UPDATED,{streamInfo:ie}),en()})})},reset:function un(Pt){ee&&(ee.reset(),ee=null),ae&&ie&&ae.clearDataForStream(ie.id),we&&(we.reset(),we=null),Xt(Pt),ie=null,function Se(){I.off(f.default.DATA_UPDATE_COMPLETED,ti,Ce),I.off(f.default.BUFFERING_COMPLETED,$n,Ce),I.off(f.default.INBAND_EVENTS,vn,Ce)}(),function Fe(){Te&&(I.off(f.default.KEY_ERROR,on,Ce),I.off(f.default.SERVER_CERTIFICATE_UPDATED,on,Ce),I.off(f.default.LICENSE_REQUEST_COMPLETE,on,Ce),I.off(f.default.KEY_SYSTEM_SELECTED,on,Ce),I.off(f.default.KEY_SESSION_CREATED,on,Ce),I.off(f.default.KEY_STATUSES_CHANGED,on,Ce))}()},getProcessors:mn,setMediaSource:function Jt(Pt){for(var en=0;en<Me.length;)Et(Me[en].getMediaInfo())?(Me[en].setMediaSource(Pt),en++):(Me[en].reset(),Me.splice(en,1));if(0===Me.length){var An="No streams to play.";Y.error(new h.default(c.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,An+"nostreams",L.getValue())),de.fatal(An)}},isMediaCodecCompatible:function ht(Pt){var en=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Qt(Pt,t.default.VIDEO,en)&&Qt(Pt,t.default.AUDIO,en)},isProtectionCompatible:function Tn(Pt){return!Pt||et(t.default.VIDEO,Pt)&&et(t.default.AUDIO,Pt)},getPreloaded:xn,getIsEndedEventSignaled:function It(){return ne},setIsEndedEventSignaled:vt,getAdapter:function wt(){return oe},getHasFinishedBuffering:function kt(){return Be},setPreloaded:Nt,startScheduleControllers:function _n(){for(var Pt=Me.length,en=0;en<Pt&&Me[en];en++)Me[en].getScheduleController().startScheduleTimer()},prepareTrackChange:function En(Pt){if(Ie&&ie){Be=!1;var en=Pt.newMediaInfo,An=L.getValue();oe.setCurrentMediaInfo(ie.id,en.type,en);var Vn=pn(en);if(Vn){var ii=G.getTime();de.info("Stream -  Process track changed at current time "+ii),An.refreshManifestOnSwitchTrack?(X.push(Pt),Z.getIsUpdating()||(de.debug("Stream -  Refreshing manifest for switch track"),Z.refreshManifest())):Vn.selectMediaInfo(en).then(function(){(en.type===t.default.VIDEO||en.type===t.default.AUDIO)&&ae.updateTopQualityIndex(en),Vn.prepareTrackSwitch()})}}},prepareQualityChange:function tn(Pt){var en=yn(Pt.mediaType);en&&en.prepareQualityChange(Pt)}},function re(){try{Q=Object(i.default)(S).getInstance(),de=Q.getLogger(Ce),Xt(),$=Object(p.default)(S).getInstance(),we=Object(A.default)(S).create({updateEventName:f.default.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:f.default.SEGMENT_LOCATION_BLACKLIST_ADD}),ee=Object(m.default)(S).create({streamInfo:ie,mediaPlayerModel:b,dashMetrics:B,errHandler:Y,settings:ye,boxParser:$,dashConstants:v.default,urlUtils:E})}catch(Pt){throw Pt}}(),Ce}R.__dashjs_factory_name="Stream",g.default=d.default.getClassFactory(R)},"./src/streaming/StreamProcessor.js":
/*!******************************************!*\
                  !*** ./src/streaming/StreamProcessor.js ***!
                  \******************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),y=e(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),m=e(
/*! ./models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),P=e(
/*! ./controllers/BufferController */
"./src/streaming/controllers/BufferController.js"),D=e(
/*! ./text/NotFragmentedTextBufferController */
"./src/streaming/text/NotFragmentedTextBufferController.js"),f=e(
/*! ./controllers/ScheduleController */
"./src/streaming/controllers/ScheduleController.js"),i=e(
/*! ../dash/controllers/RepresentationController */
"./src/dash/controllers/RepresentationController.js"),c=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),d=e(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),h=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),p=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),C=e(
/*! ../dash/DashHandler */
"./src/dash/DashHandler.js"),A=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),x=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),R=e(
/*! ../core/Debug */
"./src/core/Debug.js"),O=e(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),S=e(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),I=e(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),E=e(
/*! ./vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),L=e(
/*! ../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),b=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function B(Z){Z=Z||{};var at,Xe,je,Ne,ee,fe,we,q,$,Q,ne,X,re,oe=this.context,le=Object(h.default)(oe).getInstance(),Re=Z.streamInfo,Y=Z.type,ae=Z.errHandler,G=Z.mimeType,De=Z.timelineConverter,ce=Z.adapter,Te=Z.manifestModel,be=Z.mediaPlayerModel,Oe=Z.fragmentModel,ie=Z.abrController,ye=Z.playbackController,Ce=Z.mediaController,de=Z.textController,Me=Z.dashMetrics,pe=Z.settings,Ie=Z.boxParser,Be=Z.segmentBlacklistController;function Se(){return Re.id}function Ee(){return Y}function Fe(){return ce.getIsTextTrack(q.getData())}function ct(){ee=[],Ne=null,re=0,$=!1,Q=!1}function yt(Ft){var Pn=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Ft.sender){if(ye.getIsManifestUpdateInProgress())return void Jt();if((!Fe()||de.isTextEnabled())&&fe&&Ft.representationId&&!fe.appendInitSegmentFromCache(Ft.representationId)){var Le=q.getCurrentRepresentation();if(0===Le.range)return void Et();var Bt=ne?ne.getInitRequest(Ne,Le):null;Bt?Oe.executeRequest(Bt):Pn&&(we.setInitSegmentRequired(!0),Jt())}}}function Et(Ft){var Pn=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(ye.getIsManifestUpdateInProgress()||fe.getIsPruningInProgress())Jt();else{var Le=function Kt(){var Pn,Ft=ht();if(isNaN(re)||Ee()===t.default.TEXT&&!de.isTextEnabled())return null;var Le=$;if(ne){var Bt=q&&Ft?q.getRepresentationForQuality(Ft.quality):null;Pn=Le?ne.getSegmentRequestForTime(Ne,Bt,re):ne.getNextSegmentRequest(Ne,Bt)}return Pn}();Le?($=!1,function me(Ft){isNaN(Ft.startTime+Ft.duration)||(re=Ft.startTime+Ft.duration),Ft.delayLoadingTime=(new Date).getTime()+we.getTimeToLoadDelay(),we.setTimeToLoadDelay(0),function Tt(Ft){var Pn=Ft.url;return Ft.range&&(Pn=Pn.concat("_",Ft.range)),Be.contains(Pn)}(Ft)?(Xe.warn("Fragment request url ".concat(Ft.url," for stream id ").concat(Re.id," and media type ").concat(Y," is on the ignore list and will be skipped")),Jt()):(Xe.debug("Next fragment request url for stream id ".concat(Re.id," and media type ").concat(Y," is ").concat(Ft.url)),Oe.executeRequest(Ft))}(Le)):function We(Ft){var Le,Pn=q.getCurrentRepresentation();if(!pe.get().streaming.gaps.enableSeekFix||!$&&0!==ye.getTime()||(je?je&&Pn.segmentInfoType===v.default.SEGMENT_TIMELINE&&(Le=ne.getValidTimeAheadOfTargetTime(re,Ne,Pn,pe.get().streaming.gaps.threshold)):Le=ne.getValidTimeAheadOfTargetTime(re,Ne,Pn,pe.get().streaming.gaps.threshold),isNaN(Le)||Le===re)){if(ne.isLastSegmentRequested(Pn,re)){var Rt=ne.getCurrentIndex();return Xe.debug("Segment requesting for stream ".concat(Re.id," has finished")),le.trigger(p.default.STREAM_REQUESTING_COMPLETED,{segmentIndex:Rt},{streamId:Re.id,mediaType:Y}),fe.segmentRequestingCompleted(Rt),void we.clearScheduleTimer()}Ft&&Jt()}else ye.isSeeking()||0===ye.getTime()?(Xe.warn("Adjusting playback time ".concat(Le," because of gap in the manifest. Seeking by ").concat(Le-re)),ye.seek(Le,!1,!1)):(Xe.warn("Adjusting buffering time ".concat(Le," because of gap in the manifest. Adjusting time by ").concat(Le-re)),Vn(Le),Ft&&Jt())}(Pn)}}function Jt(){we.startScheduleTimer(ye.getLowLatencyModeEnabled()?pe.get().streaming.scheduling.lowLatencyTimeout:pe.get().streaming.scheduling.defaultTimeout)}function Xt(Ft){Ft.error||(we.setCurrentRepresentation(ce.convertRepresentationToRepresentationInfo(Ft.currentRepresentation)),fe.getIsBufferingCompleted()||fe.updateBufferTimestampOffset(Ft.currentRepresentation))}function un(Ft){Me.addBufferState(Y,Ft.state,we.getBufferTarget()),Ft.state===y.default.BUFFER_EMPTY&&!ye.isSeeking()&&(Xe.info("Buffer is empty! Stalling!"),Me.pushPlayListTraceMetrics(new Date,E.PlayListTrace.REBUFFERING_REASON))}function fn(Ft){Oe.syncExecutedRequestsWithBufferedRange(fe.getBuffer().getAllBufferRanges(),Re.duration),Ft.quotaExceeded&&Ft.from>ye.getTime()&&Vn(Ft.from),Ft.hasEnoughSpaceToAppend&&Ft.quotaExceeded&&we.startScheduleTimer()}function It(Ft){if(Ft&&Ft.lastRequestAppended&&Ft.lastRequestAppended.url){var Pn=Ft.lastRequestAppended.url;Ft.lastRequestAppended.range&&(Pn=Pn.concat("_",Ft.lastRequestAppended.range)),Xe.warn("Blacklisting segment with url ".concat(Pn)),Be.add(Pn)}}function Ze(){Pt(),Q=!1}function st(Ft){Xe.info("onFragmentLoadingAbandoned request: "+Ft.request.url+" has been aborted"),!ye.isSeeking()&&!we.getSwitchStrack()&&!Q&&(Xe.info("onFragmentLoadingAbandoned request: "+Ft.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),Ft.request&&Ft.request.isInitializationRequest()?we.setInitSegmentRequired(!0):Vn(Ft.request.startTime+Ft.request.duration/2),we.startScheduleTimer(0))}function lt(Ft){Xe.info("OnFragmentLoadingCompleted for stream id "+Re.id+" and media type "+Y+" - Url:",Ft.request?Ft.request.url:"undefined",Ft.request.range?", Range:"+Ft.request.range:""),Fe()&&we.startScheduleTimer(0),Ft.error&&Ft.request.serviceLocation&&function St(Ft){Xe.info("Fragment loading completed with an error"),Ft&&Ft.request&&Ft.request.type&&(Ft.request.type===b.HTTPRequest.INIT_SEGMENT_TYPE?yt({representationId:Ft.request.representationId,sender:{}},!1):Ft.request.type===b.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Vn(Ft.request.startTime+Ft.request.duration/2),Et({},!1)))}(Ft)}function bt(){Vn(ye.getTime()),Mt().startScheduleTimer()}function At(Ft){var Pn=Ft.currentTrackInfo;if(Pn){var Le=ee.find(function(Bt){return Bt.index===Pn.index&&Bt.lang===Pn.lang});Le&&ti(Le).then(function(){fe.setIsBufferingCompleted(!1),Vn(ye.getTime()),we.setInitSegmentRequired(!0),we.startScheduleTimer()})}}function on(Ft){Vn(Ft.quotaExceededTime),we.clearScheduleTimer()}function tn(){return fe?fe.getBuffer():null}function ti(Ft){Ft!==Ne&&(!Ft||!Ne||Ft.type===Ne.type)&&(Ne=Ft);var Pn=ce.getRealAdaptation(Re,Ne),Le=ce.getVoRepresentations(Ne);if(q){var Fn,Bt=q.getData(),Rt=ie.getMaxAllowedIndexFor(Y,Re.id),ln=ie.getMinAllowedIndexFor(Y,Re.id),vr=null;return null!==Bt&&Bt.id===Pn.id||Y===t.default.TEXT?Fn=ie.getQualityFor(Y,Re.id):(vr=ie.getThroughputHistory().getAverageThroughput(Y,je)||ie.getInitialBitrateFor(Y,Re.id),Fn=ie.getQualityForBitrate(Ne,vr,Re.id)),void 0!==ln&&Fn<ln&&(Fn=ln),Fn>Rt&&(Fn=Rt),q.updateData(Pn,Le,Y,Ne.isFragmented,Fn)}return Promise.resolve()}function Mt(){return we}function ht(Ft){var Pn;return void 0!==Ft?(Object(d.checkInteger)(Ft),Pn=q?q.getRepresentationForQuality(Ft):null):Pn=q?q.getCurrentRepresentation():null,ce.convertRepresentationToRepresentationInfo(Pn)}function Tn(){return!!fe&&fe.getIsBufferingCompleted()}function Qt(Ft){var Pn=Ft.chunk,Le=Pn.bytes,Bt=Pn.quality,Rt=ht(Bt),ln=q&&Rt?q.getRepresentationForQuality(Rt.quality):null;if(Rt&&ln){var Fn=ce.getEventsFor(Rt.mediaInfo,null,Re),vi=ce.getEventsFor(Rt,ln,Re);if(Fn&&Fn.length>0||vi&&vi.length>0){var Zr=function Nt(Ft,Pn,Le,Bt){try{for(var Rt={},ln=[],Fn=Le.concat(Bt),vi=0,vr=Fn.length;vi<vr;vi++)Rt[Fn[vi].schemeIdUri+"/"+Fn[vi].value]=Fn[vi];var Zr=Object(I.default)(oe).getInstance().parse(Ft),Gr=Zr.getBoxes("emsg");if(!Gr||0===Gr.length)return ln;for(var ki=Zr.getBox("sidx"),wi=!ki||isNaN(ki.earliest_presentation_time)||isNaN(ki.timescale)?Pn&&!isNaN(Pn.mediaStartTime)?Pn.mediaStartTime:0:ki.earliest_presentation_time/ki.timescale,Vo=Math.max(wi,0),Do=q.getCurrentRepresentation(),_s=0,Yi=Gr.length;_s<Yi;_s++){var Hr=ce.getEvent(Gr[_s],Rt,Vo,Do);Hr&&ln.push(Hr)}return ln}catch{return[]}}(Le,Oe.getRequests({state:m.default.FRAGMENT_MODEL_EXECUTED,quality:Bt,index:Pn.index})[0],Fn,vi);le.trigger(p.default.INBAND_EVENTS,{events:Zr},{streamId:Re.id})}}}function wt(){var Ft=ye.getTime();pe.get().streaming.buffer.flushBufferAtTrackSwitch&&ye.seek(Ft+.001,!1,!0),Vn(Ft),fe.setSeekTarget(Ft),we.startScheduleTimer()}function Pt(){var Ft=ye.getTime(),Pn=fe.getContinuousBufferTimeForTargetTime(Ft);Vn(isNaN(Pn)?Ft:Pn),we.startScheduleTimer()}function An(Ft){Ft&&!isNaN(Ft.time)&&(Vn(Ft.time),fe.setSeekTarget(Ft.time))}function Vn(Ft){re=Ft,$=!0}return at={initialize:function ge(Ft,Pn,Le){X=Object(L.default)(oe).create({events:p.default,eventBus:le,streamInfo:Re,timelineConverter:De,dashConstants:v.default,segmentBaseController:Z.segmentBaseController,type:Y}),(ne=Object(C.default)(oe).create({streamInfo:Re,type:Y,timelineConverter:De,dashMetrics:Me,mediaPlayerModel:be,baseURLController:Z.baseURLController,errHandler:ae,segmentsController:X,settings:pe,boxParser:Ie,events:p.default,eventBus:le,errors:A.default,debug:Object(R.default)(oe).getInstance(),requestModifier:Object(O.default)(oe).getInstance(),dashConstants:v.default,constants:t.default,urlUtils:Object(S.default)(oe).getInstance()})).initialize(je=Re.manifestInfo.isDynamic),ie.registerStreamType(Y,at),q=Object(i.default)(oe).create({streamInfo:Re,type:Y,abrController:ie,dashMetrics:Me,playbackController:ye,timelineConverter:De,dashConstants:v.default,events:p.default,eventBus:le,errors:A.default,isDynamic:je,segmentsController:X}),(fe=function en(Ft,Pn){return Ft?Ft!==t.default.TEXT||Pn?Object(P.default)(oe).create({streamInfo:Re,type:Ft,mediaPlayerModel:be,manifestModel:Te,fragmentModel:Oe,errHandler:ae,mediaController:Ce,representationController:q,adapter:ce,textController:de,abrController:ie,playbackController:ye,settings:pe}):Object(D.default)(oe).create({streamInfo:Re,type:Ft,mimeType:G,fragmentModel:Oe,textController:de,errHandler:ae,settings:pe}):(ae.error(new x.default(A.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,A.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(Y,Le))&&fe.initialize(Ft),(we=Object(f.default)(oe).create({streamInfo:Re,type:Y,mimeType:G,adapter:ce,dashMetrics:Me,mediaPlayerModel:be,fragmentModel:Oe,abrController:ie,playbackController:ye,textController:de,mediaController:Ce,bufferController:fe,settings:pe})).initialize(Pn),re=0,$=!1},getStreamId:Se,getType:Ee,isUpdating:function tt(){return!!q&&q.isUpdating()},getBufferController:function Mn(){return fe},getFragmentModel:function wn(){return Oe},getScheduleController:Mt,getRepresentationController:function En(){return q},getRepresentationInfo:ht,getBufferLevel:function et(){return fe?fe.getBufferLevel():0},isBufferingCompleted:Tn,createBufferSinks:function xn(Ft){var Pn=tn();return Pn?Promise.resolve(Pn):fe?fe.createBufferSink(Ne,Ft):Promise.resolve(null)},updateStreamInfo:function Nn(Ft){return Re=Ft,Tn()?Promise.resolve():fe.updateAppendWindow()},getStreamInfo:function $n(){return Re},selectMediaInfo:ti,clearMediaInfoArray:function pn(){ee=[]},addMediaInfo:function vn(Ft){-1===ee.indexOf(Ft)&&ee.push(Ft)},prepareTrackSwitch:function kt(){return new Promise(function(Ft){Xe.debug("Preparing track switch for type ".concat(Y));var Pn=Y===t.default.TEXT||pe.get().streaming.trackSwitchMode[Y]===t.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&ye.getTimeToStreamEnd(Re)>pe.get().streaming.buffer.stallThreshold;if(fe.getIsBufferingCompleted()&&!Pn)return fe.prepareForNonReplacementTrackSwitch(Ne.codec).then(function(){le.trigger(p.default.BUFFERING_COMPLETED,{},{streamId:Re.id,mediaType:Y})}).catch(function(){le.trigger(p.default.BUFFERING_COMPLETED,{},{streamId:Re.id,mediaType:Y})}),void Ft();we.clearScheduleTimer(),we.setSwitchTrack(!0),Pn?(le.trigger(p.default.BUFFER_REPLACEMENT_STARTED,{mediaType:Y,streamId:Re.id},{mediaType:Y,streamId:Re.id}),Oe.abortRequests(),fe.prepareForReplacementTrackSwitch(Ne.codec).then(function(){var Le=ht();return fe.updateBufferTimestampOffset(Le)}).then(function(){wt(),Ft()}).catch(function(){wt(),Ft()})):fe.prepareForNonReplacementTrackSwitch(Ne.codec).then(function(){Pt(),Ft()}).catch(function(){Pt(),Ft()})})},prepareQualityChange:function vt(Ft){Xe.debug("Preparing quality switch for type ".concat(Y));var Pn=Ft.newQuality;Q=!0,we.clearScheduleTimer();var Le=ht(Pn);we.setCurrentRepresentation(Le),q.prepareQualityChange(Pn),Oe.abortRequests(),fe.updateBufferTimestampOffset(Le).then(function(){Ft.reason&&Ft.reason.forceReplace?function it(){le.trigger(p.default.BUFFER_REPLACEMENT_STARTED,{mediaType:Y,streamId:Re.id},{mediaType:Y,streamId:Re.id}),fe.prepareForReplacementQualitySwitch().then(function(){wt(),Q=!1}).catch(function(){wt(),Q=!1})}():pe.get().streaming.buffer.fastSwitchEnabled?function He(Ft){var Pn=ye.getTime(),Le=1.5*(isNaN(Ft.fragmentDuration)?1:Ft.fragmentDuration),Bt=Oe.getRequests({state:m.default.FRAGMENT_MODEL_EXECUTED,time:Pn+Le,threshold:0})[0];if(Bt&&!Fe()){var Rt=fe.getBufferLevel(),ln=ie.getAbandonmentStateFor(Re.id,Y);Bt.quality<Ft.quality&&Rt>=Le&&ln!==y.default.ABANDON_LOAD?(Vn(Pn+Le),we.setCheckPlaybackQuality(!1),we.startScheduleTimer()):Ze()}else we.startScheduleTimer();Q=!1}(Le):Ze(),Me.pushPlayListTraceMetrics(new Date,E.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),Me.createPlaylistTraceMetrics(Le.id,1e3*ye.getTime(),ye.getPlaybackRate())})},getMediaInfo:function yn(){return Ne},getMediaSource:function mn(){return fe.getMediaSource()},setMediaSource:function _n(Ft){fe.setMediaSource(Ft)},getBuffer:tn,setExplicitBufferingTime:Vn,finalisePlayList:function ii(Ft,Pn){Me.pushPlayListTraceMetrics(Ft,Pn)},probeNextRequest:function Dt(){var Ft=ht(),Pn=q&&Ft?q.getRepresentationForQuality(Ft.quality):null;return ne.getNextSegmentRequestIdempotent(Ne,Pn)},prepareInnerPeriodPlaybackSeeking:function gt(Ft){return new Promise(function(Pn){if(fe.hasBufferAtTime(Ft.seekTime))return fe.pruneBuffer(),void Pn();we.clearScheduleTimer(),Oe.abortRequests(),fe.prepareForPlaybackSeek().then(function(){var Bt=fe.getAllRangesWithSafetyFactor(Ft.seekTime);return fe.clearBuffers(Bt)}).then(function(){var Bt=fe.getContinuousBufferTimeForTargetTime(Ft.seekTime);if(!isNaN(Bt)&&!isNaN(Re.duration)&&isFinite(Re.duration)&&Bt>=Re.start+Re.duration)fe.setIsBufferingCompleted(!0),Pn();else{var Rt=isNaN(Bt)?Ft.seekTime:Bt;Vn(Rt),fe.setSeekTarget(Rt);var ln=[];ln.push(fe.updateAppendWindow());var Fn=ht();ln.push(fe.updateBufferTimestampOffset(Fn)),Promise.all(ln).then(function(){we.setInitSegmentRequired(!0),we.setCheckPlaybackQuality(!1),we.startScheduleTimer(),Pn()})}}).catch(function(Bt){Xe.error(Bt)})})},prepareOuterPeriodPlaybackSeeking:function Qe(){return new Promise(function(Ft,Pn){try{we.clearScheduleTimer(),Oe.abortRequests(),fe.prepareForPlaybackSeek().then(function(){return fe.pruneAllSafely()}).then(function(){Ft()})}catch(Le){Pn(Le)}})},reset:function qe(Ft,Pn){ne&&ne.reset(),fe&&(fe.reset(Ft,Pn),fe=null),we&&(we.reset(),we=null),q&&(q.reset(),q=null),X&&(X=null),ie&&ie.unRegisterStreamType(Se(),Y),le.off(p.default.DATA_UPDATE_COMPLETED,Xt,at),le.off(p.default.INIT_FRAGMENT_NEEDED,yt,at),le.off(p.default.MEDIA_FRAGMENT_NEEDED,Et,at),le.off(p.default.MEDIA_FRAGMENT_LOADED,Qt,at),le.off(p.default.BUFFER_LEVEL_STATE_CHANGED,un,at),le.off(p.default.BUFFER_CLEARED,fn,at),le.off(p.default.SEEK_TARGET,An,at),le.off(p.default.FRAGMENT_LOADING_ABANDONED,st,at),le.off(p.default.FRAGMENT_LOADING_COMPLETED,lt,at),le.off(p.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,bt,at),le.off(p.default.SET_NON_FRAGMENTED_TEXT,At,at),le.off(p.default.QUOTA_EXCEEDED,on,at),le.off(p.default.SOURCE_BUFFER_ERROR,It,at),ct(),Y=null,Re=null}},function J(){Xe=Object(R.default)(oe).getInstance().getLogger(at),ct(),le.on(p.default.DATA_UPDATE_COMPLETED,Xt,at,{priority:h.default.EVENT_PRIORITY_HIGH}),le.on(p.default.INIT_FRAGMENT_NEEDED,yt,at),le.on(p.default.MEDIA_FRAGMENT_NEEDED,Et,at),le.on(p.default.MEDIA_FRAGMENT_LOADED,Qt,at),le.on(p.default.BUFFER_LEVEL_STATE_CHANGED,un,at),le.on(p.default.BUFFER_CLEARED,fn,at),le.on(p.default.SEEK_TARGET,An,at),le.on(p.default.FRAGMENT_LOADING_ABANDONED,st,at),le.on(p.default.FRAGMENT_LOADING_COMPLETED,lt,at),le.on(p.default.QUOTA_EXCEEDED,on,at),le.on(p.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,bt,at),le.on(p.default.SET_NON_FRAGMENTED_TEXT,At,at),le.on(p.default.SOURCE_BUFFER_ERROR,It,at)}(),at}B.__dashjs_factory_name="StreamProcessor",g.default=c.default.getClassFactory(B)},"./src/streaming/XlinkLoader.js":
/*!**************************************!*\
                  !*** ./src/streaming/XlinkLoader.js ***!
                  \**************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),v=e(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),y=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),m=e(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),P=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),D=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),f=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),i=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js");function c(d){d=d||{};var p=this.context,C=Object(P.default)(p).getInstance(),A=Object(v.default)(p).create({errHandler:d.errHandler,dashMetrics:d.dashMetrics,mediaPlayerModel:d.mediaPlayerModel,requestModifier:d.requestModifier,errors:i.default});return{load:function R(S,I,E){var L=function(Z,oe){I.resolved=!0,I.resolvedContent=Z||null,C.trigger(D.default.XLINK_ELEMENT_LOADED,{element:I,resolveObject:E,error:Z||oe?null:new t.default(i.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,i.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+S)})};if("urn:mpeg:dash:resolve-to-zero:2013"===S)L(null,!0);else{var b=new m.default(S,y.HTTPRequest.XLINK_EXPANSION_TYPE);A.load({request:b,success:function(Z){L(Z)},error:function(){L(null)}})}},reset:function O(){A&&(A.abort(),A=null)}}}c.__dashjs_factory_name="XlinkLoader",g.default=f.default.getClassFactory(c)},"./src/streaming/constants/ConformanceViolationConstants.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/constants/ConformanceViolationConstants.js ***!
                  \******************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g),g.default={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}}},"./src/streaming/constants/Constants.js":
/*!**********************************************!*\
                  !*** ./src/streaming/constants/Constants.js ***!
                  \**********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function y(c,d){for(var h=0;h<d.length;h++){var p=d[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,P(p.key),p)}}function P(c){var d=function D(c,d){if("object"!==t(c)||null===c)return c;var h=c[Symbol.toPrimitive];if(void 0!==h){var p=h.call(c,d||"default");if("object"!==t(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}e.r(g);var i=new(function(){function c(){(function v(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.init()}return function m(c,d,h){return d&&y(c.prototype,d),h&&y(c,h),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}]),c}());g.default=i},"./src/streaming/constants/MetricsConstants.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/constants/MetricsConstants.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function y(c,d){for(var h=0;h<d.length;h++){var p=d[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,P(p.key),p)}}function P(c){var d=function D(c,d){if("object"!==t(c)||null===c)return c;var h=c[Symbol.toPrimitive];if(void 0!==h){var p=h.call(c,d||"default");if("object"!==t(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}e.r(g);var i=new(function(){function c(){(function v(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.init()}return function m(c,d,h){return d&&y(c.prototype,d),h&&y(c,h),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}]),c}());g.default=i},"./src/streaming/constants/ProtectionConstants.js":
/*!********************************************************!*\
                  !*** ./src/streaming/constants/ProtectionConstants.js ***!
                  \********************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function y(c,d){for(var h=0;h<d.length;h++){var p=d[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,P(p.key),p)}}function P(c){var d=function D(c,d){if("object"!==t(c)||null===c)return c;var h=c[Symbol.toPrimitive];if(void 0!==h){var p=h.call(c,d||"default");if("object"!==t(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}e.r(g);var i=new(function(){function c(){(function v(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.init()}return function m(c,d,h){return d&&y(c.prototype,d),h&&y(c,h),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}]),c}());g.default=i},"./src/streaming/controllers/AbrController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/AbrController.js ***!
                  \****************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),v=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),m=e(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),P=e(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),D=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),f=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),i=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),c=e(
/*! ../rules/RulesContext */
"./src/streaming/rules/RulesContext.js"),d=e(
/*! ../rules/SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),h=e(
/*! ../rules/SwitchRequestHistory */
"./src/streaming/rules/SwitchRequestHistory.js"),p=e(
/*! ../rules/DroppedFramesHistory */
"./src/streaming/rules/DroppedFramesHistory.js"),C=e(
/*! ../rules/ThroughputHistory */
"./src/streaming/rules/ThroughputHistory.js"),A=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),x=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),R=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),O=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function L(){var le,Re,Y,ae,G,De,ce,Te,be,Oe,ie,ye,Ce,de,Me,pe,Ie,Be,at,Xe,je,Ne,ee,fe,we,q,B=this.context,Z=Object(A.default)(B).getInstance(),oe=Object(D.default)(B).getInstance();function J(){G={},De={},Te={},ce={},at={},Ne={},ee={},fe={},void 0===Oe&&(Oe=!1),Xe&&Xe.reset(),Be=void 0,Xe=void 0,je=void 0,clearTimeout(be),be=null}function Fe(tn){var Mn=tn.request.mediaType,wn=tn.streamId;if(Mn&&wn&&ce[wn]&&q.get().streaming.abr.autoSwitchBitrate[Mn]){var Nn=ce[wn][Mn];if(Nn){var $n=Object(c.default)(B).create({abrController:le,streamProcessor:Nn,currentRequest:tn.request,useBufferOccupancyABR:Ne[Mn],useL2AABR:ee[Mn],useLoLPABR:fe[Mn],videoModel:de}),ti=Y.shouldAbandonFragment($n,wn);ti.quality>d.default.NO_CHANGE&&Nn.getFragmentModel().getRequests({state:P.default.FRAGMENT_MODEL_LOADING,index:tn.request.index})[0]&&(Te[wn][Mn].state=y.default.ABANDON_LOAD,at[wn][Mn].reset(),at[wn][Mn].push({oldValue:Xt(Mn,wn),newValue:ti.quality,confidence:1,reason:ti.reason}),un(Mn,ae.getActiveStreamInfo(),ti.quality,ti.reason),clearTimeout(be),be=setTimeout(function(){Te[wn][Mn].state=y.default.ALLOW_LOAD,be=null},q.get().streaming.abandonLoadTimeout))}}}function ct(tn){tn.mediaType===v.default.VIDEO&&(void 0!==Be&&Xe.push(tn.streamId,Be,de.getPlaybackQuality()),Be=tn.newQuality)}function qe(tn){tn.metric===y.default.HTTP_REQUEST&&tn.value&&tn.value.type===x.HTTPRequest.MEDIA_SEGMENT_TYPE&&(tn.mediaType===v.default.AUDIO||tn.mediaType===v.default.VIDEO)&&je.push(tn.mediaType,tn.value,q.get().streaming.abr.useDeadTimeLatency),tn.metric===y.default.BUFFER_LEVEL&&(tn.mediaType===v.default.AUDIO||tn.mediaType===v.default.VIDEO)&&function Ze(tn,Mn){q.get().streaming.abr.ABRStrategy===v.default.ABR_STRATEGY_DYNAMIC&&function st(tn,Mn){try{var wn=Me.getStableBufferTime(),ti=Ne[tn],vn=Mn>(ti?.5*wn:wn);Ne[tn]=vn,vn!==ti&&Re.info(vn?"["+tn+"] switching from throughput to buffer occupancy ABR rule (buffer: "+Mn.toFixed(3)+").":"["+tn+"] switching from buffer occupancy to throughput ABR rule (buffer: "+Mn.toFixed(3)+").")}catch(pn){Re.error(pn)}}(tn,Mn)}(tn.mediaType,.001*tn.value.level)}function tt(tn,Mn){try{return G[Mn]=G[Mn]||{},G[Mn].hasOwnProperty(tn)||(G[Mn][tn]=0),function We(tn,Mn,wn){if(Mn!==v.default.VIDEO||!q.get().streaming.abr.limitBitrateByPortal||!ce[wn]||!ce[wn][Mn])return tn;Oe||on();var Nn=ce[wn][Mn].getStreamInfo(),$n=Ce.getAdaptationForType(Nn.index,Mn,Nn).Representation_asArray,ti=tn;if(ie>0&&ye>0){for(;ti>0&&$n[ti]&&ie<$n[ti].width&&ie-$n[ti-1].width<$n[ti].width-ie;)ti-=1;for(;ti<$n.length-1&&$n[ti].width===$n[ti+1].width;)ti+=1}return ti}(function me(tn,Mn,wn){var Nn=G[wn][Mn],$n=q.get().streaming.abr.maxRepresentationRatio[Mn];return isNaN($n)||$n>=1||$n<0?tn:Math.min(tn,Math.round(Nn*$n))}(function Et(tn,Mn){var wn=G[Mn][tn],Nn=wn;if(!ce[Mn]||!ce[Mn][tn])return Nn;var $n=gt(tn,Mn);void 0!==$n&&(Nn=Math.max(wn,$n));var ti=function Qe(tn,Mn){try{var wn=Me.getAbrBitrateParameter("maxBitrate",tn);return wn>-1?it(ce[Mn][tn].getMediaInfo(),wn,Mn):void 0}catch{return}}(tn,Mn);return void 0!==ti&&(Nn=Math.min(Nn,ti)),Nn}(tn,Mn),tn,Mn),tn,Mn)}catch{return}}function gt(tn,Mn){try{return function yt(tn,Mn){try{var wn=Me.getAbrBitrateParameter("minBitrate",tn);if(wn>-1){var Nn=ce[Mn][tn].getMediaInfo(),$n=He(Nn),ti=it(Nn,wn,Mn);return $n[ti]&&ti<$n.length-1&&$n[ti].bitrate<1e3*wn&&ti++,ti}return}catch{return}}(tn,Mn)}catch{return}}function Xt(tn){var Mn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return Mn||(Mn=ae.getActiveStreamInfo().id),tn&&ce[Mn]&&ce[Mn][tn]&&Mn?(De[Mn]=De[Mn]||{},De[Mn].hasOwnProperty(tn)||(De[Mn][tn]=0),De[Mn][tn]):0}catch{return 0}}function un(tn,Mn,wn){var Nn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(Mn&&Mn.id&&tn){var $n=Mn.id,ti=Xt(tn,$n);Object(R.checkInteger)(wn);var vn=tt(tn,$n);wn!==ti&&wn>=0&&wn<=vn&&It(tn,ti,wn,vn,Nn,$n)}}function It(tn,Mn,wn,Nn,$n,ti){if(tn&&ce[ti]&&ce[ti][tn]){var vn=ce[ti][tn].getStreamInfo(),pn=vn&&vn.manifestInfo&&vn.manifestInfo.isDynamic,yn=we.getCurrentBufferLevel(tn);Re.info("Stream ID: "+ti+" ["+tn+"] switch from "+Mn+" to "+wn+"/"+Nn+" (buffer: "+yn+") "+($n?JSON.stringify($n):".")),De[ti]=De[ti]||{},De[ti][tn]=wn;var mn=function vt(tn,Mn,wn){if(Mn&&ce&&ce[tn]&&ce[tn][Mn]){var Nn=He(ce[tn][Mn].getMediaInfo());return Nn[wn]?Nn[wn]:null}return null}(ti,tn,wn);oe.trigger(f.default.QUALITY_CHANGE_REQUESTED,{oldQuality:Mn,newQuality:wn,reason:$n,streamInfo:vn,bitrateInfo:mn,maxIdx:Nn,mediaType:tn},{streamId:vn.id,mediaType:tn});var _n=je.getAverageThroughput(tn,pn);isNaN(_n)||Ie.setSavedBitrateSettings(tn,_n)}}function it(tn,Mn,wn){var Nn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,$n=tn&&tn.type?ce[wn][tn.type].getRepresentationInfo():null;if(q.get().streaming.abr.useDeadTimeLatency&&Nn&&$n&&$n.fragmentDuration){var ti=$n.fragmentDuration;if((Nn/=1e3)>ti)return 0;Mn*=1-Nn/ti}for(var pn=He(tn),yn=pn.length-1;yn>=0;yn--)if(1e3*Mn>=pn[yn].bitrate)return yn;return 0}function He(tn){var Mn=[];if(!tn||!tn.bitrateList)return Mn;for(var $n,wn=tn.bitrateList,Nn=tn.type,ti=0,vn=wn.length;ti<vn;ti++)($n=new m.default).mediaType=Nn,$n.qualityIndex=ti,$n.bitrate=wn[ti].bandwidth,$n.width=wn[ti].width,$n.height=wn[ti].height,$n.scanType=wn[ti].scanType,Mn.push($n);return Mn}function on(){if(de){var Mn=q.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;ie=de.getClientWidth()*Mn,ye=de.getClientHeight()*Mn}}return le={initialize:function Q(){Xe=Object(p.default)(B).create(),je=Object(C.default)(B).create({settings:q}),(Y=Object(t.default)(B).create({dashMetrics:we,customParametersModel:pe,mediaPlayerModel:Me,settings:q})).initialize(),oe.on(O.default.QUALITY_CHANGE_RENDERED,ct,le),oe.on(O.default.METRIC_ADDED,qe,le),oe.on(f.default.LOADING_PROGRESS,Fe,le)},isPlayingAtTopQuality:function bt(tn){var Mn=tn?tn.id:null,wn=Xt(v.default.AUDIO,Mn),Nn=Xt(v.default.VIDEO,Mn);return wn===tt(v.default.AUDIO,Mn)&&Nn===tt(v.default.VIDEO,Mn)},updateTopQualityIndex:function St(tn){var Mn=tn.type,wn=tn.streamInfo.id,Nn=tn.representationCount-1;return G[wn]=G[wn]||{},G[wn][Mn]=Nn,Nn},clearDataForStream:function En(tn){Xe&&Xe.clearForStream(tn),ce[tn]&&delete ce[tn],at[tn]&&delete at[tn],Te[tn]&&delete Te[tn]},getThroughputHistory:function lt(){return je},getBitrateList:He,getQualityForBitrate:it,getTopBitrateInfoFor:function Tt(tn){var Mn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Mn||(Mn=ae.getActiveStreamInfo().id),tn&&ce&&ce[Mn]&&ce[Mn][tn]){var wn=tt(tn,Mn),Nn=He(ce[Mn][tn].getMediaInfo());return Nn[wn]?Nn[wn]:null}return null},getMinAllowedIndexFor:gt,getMaxAllowedIndexFor:tt,getInitialBitrateFor:function Kt(tn,Mn){if(function Ee(){if(!Ie||!Ie.hasOwnProperty("getSavedBitrateSettings"))throw new Error(v.default.MISSING_CONFIG_ERROR)}(),tn===v.default.TEXT)return NaN;var wn=Ie.getSavedBitrateSettings(tn),Nn=Me.getAbrBitrateParameter("initialBitrate",tn),$n=q.get().streaming.abr.initialRepresentationRatio[tn];if(-1===Nn)if($n>-1){var ti=ce[Mn][tn].getStreamInfo(),vn=Ce.getAdaptationForType(ti.index,tn,ti).Representation_asArray;Nn=Array.isArray(vn)?vn[Math.max(Math.round(vn.length*$n)-1,0)].bandwidth/1e3:0}else Nn=isNaN(wn)?tn===v.default.VIDEO?1e3:100:wn;return Nn},getQualityFor:Xt,getAbandonmentStateFor:function fn(tn,Mn){return Te[tn]&&Te[tn][Mn]?Te[tn][Mn].state:null},setPlaybackQuality:un,checkPlaybackQuality:function Jt(tn,Mn){try{if(!(tn&&ce&&ce[Mn]&&ce[Mn][tn]))return!1;if(Xe){var wn=de.getPlaybackQuality();wn&&Xe.push(Mn,Be,wn)}if(!q.get().streaming.abr.autoSwitchBitrate[tn])return!1;var Nn=Xt(tn,Mn),$n=Object(c.default)(B).create({abrController:le,switchHistory:at[Mn][tn],droppedFramesHistory:Xe,streamProcessor:ce[Mn][tn],currentValue:Nn,useBufferOccupancyABR:Ne[tn],useL2AABR:ee[tn],useLoLPABR:fe[tn],videoModel:de}),ti=gt(tn,Mn),vn=tt(tn,Mn),pn=Y.getMaxQuality($n),yn=pn.quality;return void 0!==ti&&(yn>d.default.NO_CHANGE?yn:Nn)<ti&&(yn=ti),yn>vn&&(yn=vn),at[Mn][tn].push({oldValue:Nn,newValue:yn}),yn>d.default.NO_CHANGE&&yn!==Nn&&(Te[Mn][tn].state===y.default.ALLOW_LOAD||yn<Nn)&&(It(tn,Nn,yn,vn,pn.reason,Mn),!0)}catch{return!1}},setElementSize:on,setWindowResizeEventCalled:function At(tn){Oe=tn},registerStreamType:function ne(tn,Mn){var wn=Mn.getStreamInfo().id;ce[wn]||(ce[wn]={}),at[wn]||(at[wn]={}),Te[wn]||(Te[wn]={}),at[wn][tn]=Object(h.default)(B).create(),ce[wn][tn]=Mn,Te[wn][tn]={},Te[wn][tn].state=y.default.ALLOW_LOAD,function X(tn){var Mn=q.get().streaming.abr.ABRStrategy;Mn===v.default.ABR_STRATEGY_L2A?(Ne[tn]=!1,fe[tn]=!1,ee[tn]=!0):Mn===v.default.ABR_STRATEGY_LoLP?(Ne[tn]=!1,fe[tn]=!0,ee[tn]=!1):Mn===v.default.ABR_STRATEGY_BOLA?(Ne[tn]=!0,fe[tn]=!1,ee[tn]=!1):Mn===v.default.ABR_STRATEGY_THROUGHPUT?(Ne[tn]=!1,fe[tn]=!1,ee[tn]=!1):Mn===v.default.ABR_STRATEGY_DYNAMIC&&(Ne[tn]=!(!Ne||!Ne[tn])&&Ne[tn],fe[tn]=!1,ee[tn]=!1)}(tn),tn===v.default.VIDEO&&on()},unRegisterStreamType:function re(tn,Mn){try{ce[tn]&&ce[tn][Mn]&&delete ce[tn][Mn],at[tn]&&at[tn][Mn]&&delete at[tn][Mn],Te[tn]&&Te[tn][Mn]&&delete Te[tn][Mn]}catch{}},setConfig:function Se(tn){tn&&(tn.streamController&&(ae=tn.streamController),tn.domStorage&&(Ie=tn.domStorage),tn.mediaPlayerModel&&(Me=tn.mediaPlayerModel),tn.customParametersModel&&(pe=tn.customParametersModel),tn.dashMetrics&&(we=tn.dashMetrics),tn.adapter&&(Ce=tn.adapter),tn.videoModel&&(de=tn.videoModel),tn.settings&&(q=tn.settings))},reset:function ge(){J(),oe.off(f.default.LOADING_PROGRESS,Fe,le),oe.off(O.default.QUALITY_CHANGE_RENDERED,ct,le),oe.off(O.default.METRIC_ADDED,qe,le),Y&&Y.reset()}},function $(){Re=Z.getLogger(le),J()}(),le}L.__dashjs_factory_name="AbrController";var b=i.default.getSingletonFactory(L);b.QUALITY_DEFAULT=0,i.default.updateSingletonFactory(L.__dashjs_factory_name,b),g.default=b},"./src/streaming/controllers/BaseURLController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/BaseURLController.js ***!
                  \********************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../models/BaseURLTreeModel */
"./src/streaming/models/BaseURLTreeModel.js"),v=e(
/*! ../utils/BaseURLSelector */
"./src/streaming/utils/BaseURLSelector.js"),y=e(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),m=e(
/*! ../../dash/vo/BaseURL */
"./src/dash/vo/BaseURL.js"),P=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),D=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),f=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function i(){var c,d,A,x,h=this.context,p=Object(D.default)(h).getInstance(),C=Object(y.default)(h).getInstance();function R(B){A.invalidateSelectedIndexes(B.entry)}return c={reset:function L(){A.reset(),x.reset()},initialize:function b(B){A.setConfig({adapter:d}),function I(B){A.update(B),x.chooseSelector(d.getIsDVB(B))}(B)},resolve:function E(B){var oe=A.getForPath(B).reduce(function(le,Re){var Y=x.select(Re);return Y?(C.isRelative(Y.url)?le.url=C.resolve(Y.url,le.url):(le.url=Y.url,le.serviceLocation=Y.serviceLocation),le.availabilityTimeOffset=Y.availabilityTimeOffset,le.availabilityTimeComplete=Y.availabilityTimeComplete,le):new m.default},new m.default);if(!C.isRelative(oe.url))return oe},setConfig:function S(B){B.baseURLTreeModel&&(A=B.baseURLTreeModel),B.baseURLSelector&&(x=B.baseURLSelector),B.adapter&&(d=B.adapter)}},function O(){A=Object(t.default)(h).create(),x=Object(v.default)(h).create(),p.on(f.default.SERVICE_LOCATION_BLACKLIST_CHANGED,R,c)}(),c}i.__dashjs_factory_name="BaseURLController",g.default=P.default.getClassFactory(i)},"./src/streaming/controllers/BlacklistController.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/controllers/BlacklistController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js");function y(m){m=m||{};var P,D=[],f=Object(v.default)(this.context).getInstance(),i=m.updateEventName,c=m.addBlacklistEventName;function h(x){-1===D.indexOf(x)&&(D.push(x),f.trigger(i,{entry:x}))}function p(x){h(x.entry)}return P={add:h,contains:function d(x){return!!(D.length&&x&&x.length)&&-1!==D.indexOf(x)},reset:function A(){D=[]}},function C(){c&&f.on(c,p,P)}(),P}y.__dashjs_factory_name="BlackListController",g.default=t.default.getClassFactory(y)},"./src/streaming/controllers/BufferController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/BufferController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),y=e(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),m=e(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),P=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),D=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),f=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),i=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),c=e(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),d=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),h=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),p=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),C=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),x=.01,O="BufferController";function S(I){I=I||{};var ce,Te,be,Oe,ie,ye,Ce,de,Me,pe,Ie,Be,at,Xe,je,Ne,ee,fe,E=this.context,L=Object(P.default)(E).getInstance(),b=I.errHandler,B=I.fragmentModel,Z=I.representationController,oe=I.adapter,le=I.textController,Re=I.abrController,Y=I.playbackController,ae=I.streamInfo,G=I.type,De=I.settings;function X(wt){ye=wt}function re(wt){return oe.convertRepresentationToRepresentationInfo(Z.getRepresentationForQuality(wt))}function Se(wt){De.get().streaming.cacheInitSegments&&(Te.info("Init fragment finished loading saving to",G+"'s init cache"),je.save(wt.chunk)),Te.debug("Append Init fragment",G," with representationId:",wt.chunk.representationId," and quality:",wt.chunk.quality,", data size:",wt.chunk.bytes.byteLength),ct(wt.chunk)}function Fe(wt){ct(wt.chunk,wt.request)}function ct(wt){Me.append(wt,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).then(function(en){tt(en)}).catch(function(en){tt(en)}),wt.mediaInfo.type===t.default.VIDEO&&Nt(D.default.VIDEO_CHUNK_RECEIVED,{chunk:wt})}function qe(wt){if(wt&&wt.length>0)for(var Pt=0,en=wt.length;Pt<en;Pt++)Te.debug("Buffered range: "+wt.start(Pt)+" - "+wt.end(Pt)+", currentTime = ",Y.getTime())}function tt(wt){if(wt.error)return 22===wt.error.code&&function Qe(){if(Xe=!0,ie=.8*Tn(),Te.warn("Quota exceeded, Critical Buffer: "+ie),ie>0){var wt=Math.max(.2*ie,1),Pt=ie-wt,en=Math.min(De.get().streaming.buffer.bufferTimeAtTopQuality,.9*Pt),An=Math.min(De.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*Pt),Vn={streaming:{buffer:{bufferToKeep:parseFloat(wt.toFixed(5)),bufferTimeAtTopQuality:parseFloat(en.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(An.toFixed(5))}}};De.update(Vn)}}(),void((22===wt.error.code||!Dt())&&(Te.warn("Clearing playback buffer to overcome quota exceed situation"),Nt(D.default.QUOTA_EXCEEDED,{criticalBufferLevel:ie,quotaExceededTime:wt.chunk.start}),on(At())));if(Me&&(Ze(),Xe=!1,(Ie=wt.chunk)&&Ie.endFragment)){Ie&&!isNaN(Ie.index)&&(Ce=Math.max(Ie.index,Ce),st());var Pt=Me.getAllBufferRanges();Ie.segmentType===p.HTTPRequest.MEDIA_SEGMENT_TYPE&&(qe(Pt),un(),function gt(){if(!isNaN(fe)){if(G!==t.default.AUDIO&&G!==t.default.VIDEO)return void(fe=NaN);var wt=Y.getTime(),Pt=it(wt,0),en=it(fe,0);if(Pt&&en&&Pt.start===en.start)return void(fe=NaN);var An=Z.getCurrentRepresentation().segmentDuration,Vn=it(fe,An);Vn&&(De.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(wt-fe)>An?fe<=Vn.end&&Y.seek(Math.max(fe,Vn.start),!1,!0):wt<Vn.start&&Y.seek(Vn.start,!1,!0))}}()),Ie&&Nt(D.default.BYTES_APPENDED_END_FRAGMENT,{quality:Ie.quality,startTime:Ie.start,index:Ie.index,bufferedRanges:Pt,segmentType:Ie.segmentType,mediaType:G})}}function Tt(){return new Promise(function(wt,Pt){var en=Kt();if(!en||0===en.length)return un(),void wt();on(en).then(function(){wt()}).catch(function(An){Pt(An)})})}function Kt(wt){var Pt=[],en=Me.getAllBufferRanges();if(!en||0===en.length)return Pt;if(!wt&&0!==wt||isNaN(wt))Pt.push({start:en.start(0),end:en.end(en.length-1)+.5});else{var An=function Jt(wt,Pt){var en=De.get().streaming.buffer.bufferToKeep,An=Pt.start(0);if(wt-An>en){var ii=Math.max(0,wt-en),Ft=B.getRequests({state:y.default.FRAGMENT_MODEL_EXECUTED,time:wt,threshold:x})[0];if(Ft&&(ii=Math.min(Ft.startTime,ii)),ii>0)return{start:An,end:ii}}return null}(wt,en),Vn=function Xt(wt,Pt){var en=Pt.end(Pt.length-1)+.5,An=et(wt),ii=ae.manifestInfo.duration>=De.get().streaming.buffer.longFormContentDurationThreshold?De.get().streaming.buffer.bufferTimeAtTopQualityLongForm:De.get().streaming.buffer.bufferTimeAtTopQuality,Ft=isNaN(An)?wt:Math.min(An,wt+ii);if(Ft>=Pt.end(Pt.length-1))return null;var Pn=B.getRequests({state:y.default.FRAGMENT_MODEL_EXECUTED,time:wt,threshold:x})[0];if(Pn&&(Ft=Math.max(Pn.startTime+Pn.duration,Ft)),De.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var Bt=0;Bt<Pt.length;Bt++)if(Pt.start(Bt)<=wt&&wt<=Pt.end(Bt)&&Pt.start(Bt)<=Ft&&Ft<=Pt.end(Bt)){var Rt=Ft;Ft=Bt+1<Pt.length?Pt.start(Bt+1):Pt.end(Bt)+1,Te.debug("Buffered range ["+Pt.start(Bt)+", "+Pt.end(Bt)+"] overlaps with targetTime "+wt+" and range to be pruned ["+Rt+", "+en+"], using ["+Ft+", "+en+"] instead"+(Ft<en?"":" (no actual pruning)"));break}return Ft<Pt.end(Pt.length-1)?{start:Ft,end:en}:null}(wt,en);An&&Pt.push(An),Vn&&Pt.push(Vn)}return Pt}function un(){(!ee||G===t.default.TEXT&&le.isTextEnabled())&&Ze()}function fn(){lt()}function It(){lt(),fe=NaN}function it(wt,Pt){var Le,Bt,en=Me.getAllBufferRanges(),An=0,Vn=0,ii=null,Ft=null,Pn=0,Rt=isNaN(Pt)?.15:Pt;if(null!=en){for(Bt=0,Le=en.length;Bt<Le;Bt++)if(An=en.start(Bt),Vn=en.end(Bt),null===ii)Pn=Math.abs(An-wt),(wt>=An&&wt<Vn||Pn<=Rt)&&(ii=An,Ft=Vn);else{if(!((Pn=An-Ft)<=Rt))break;Ft=Vn}if(null!==ii)return{start:ii,end:Ft}}return null}function Ze(){if(Y){var wt=De.get().streaming.gaps.jumpGaps&&!isNaN(De.get().streaming.gaps.smallGapLimit)?De.get().streaming.gaps.smallGapLimit:NaN;Oe=Math.max(function He(wt,Pt){var en;return De.get().streaming.gaps.jumpGaps&&(Pt=De.get().streaming.gaps.smallGapLimit),null===(en=it(wt,Pt))?0:en.end-wt}(Y.getTime()||0,wt),0),Nt(D.default.BUFFER_LEVEL_UPDATED,{mediaType:G,bufferLevel:Oe}),lt()}}function st(){var wt=Ce>=de-1,Pt=Y.getTimeToStreamEnd(ae)-Oe<1e-5;(wt||Pt)&&!be&&(Mt(!0),Te.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(ae.id," and type ").concat(G)))}function lt(){G!==t.default.AUDIO&&G!==t.default.VIDEO||((!Y.getLowLatencyModeEnabled()&&Oe<De.get().streaming.buffer.stallThreshold||0===Oe)&&!be?St(v.default.BUFFER_EMPTY):(be||Oe>=De.get().streaming.buffer.stallThreshold||Y.getLowLatencyModeEnabled()&&Oe>0)&&St(v.default.BUFFER_LOADED))}function St(wt){pe===wt||wt===v.default.BUFFER_EMPTY&&0===Y.getTime()||G===t.default.TEXT&&!le.isTextEnabled()||(pe=wt,Nt(D.default.BUFFER_LEVEL_STATE_CHANGED,{state:wt}),Nt(wt===v.default.BUFFER_LOADED?D.default.BUFFER_LOADED:D.default.BUFFER_EMPTY),Te.debug(wt===v.default.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function bt(){!Me||G===t.default.TEXT||be||on(At())}function At(){var wt=[],Pt=Me.getAllBufferRanges();if(!Pt||0===Pt.length)return wt;var en=Y.getTime(),An=Math.max(0,en-De.get().streaming.buffer.bufferToKeep),Vn=B.getRequests({state:y.default.FRAGMENT_MODEL_EXECUTED,time:en,threshold:x})[0];if(Vn)An=Math.min(Vn.startTime,An);else if(0===en&&Y.getIsDynamic())return[];if(Pt.start(0)<=An){for(var ii={start:0,end:An},Ft=0;Ft<Pt.length&&Pt.end(Ft)<=An;Ft++)ii.end=Pt.end(Ft);ii.start<ii.end&&wt.push(ii)}return wt}function on(wt){return new Promise(function(Pt,en){if(wt&&Me&&0!==wt.length){var An=[];wt.forEach(function(Vn){An.push(function En(wt){return new Promise(function(Pt,en){wt.resolve=Pt,wt.reject=en,Ne.push(wt)})}(Vn))}),at||tn(),Promise.all(An).then(function(){Pt()}).catch(function(Vn){en(Vn)})}else Pt()})}function tn(){try{if(0===Ne.length||!Me)return Te.debug("Nothing to prune, halt pruning"),Ne=[],void(at=!1);var wt=Me.getBuffer();if(!wt||!wt.buffered||0===wt.buffered.length)return Te.debug("SourceBuffer is empty (or does not exist), halt pruning"),Ne=[],void(at=!1);var Pt=Ne.shift();Te.debug("".concat(G,": Removing buffer from: ").concat(Pt.start," to ").concat(Pt.end)),at=!0,Y.getTime()<Pt.end&&Mt(!1),Me.remove(Pt).then(function(An){Mn(An)}).catch(function(An){Mn(An)})}catch{at=!1}}function Mn(wt){Te.debug("onRemoved buffer from:",wt.from,"to",wt.to),qe(Me.getAllBufferRanges()),0===Ne.length&&(at=!1,Ze()),wt.unintended&&(Te.warn("Detected unintended removal from:",wt.from,"to",wt.to,"setting streamprocessor time to",wt.from),Nt(D.default.SEEK_TARGET,{time:wt.from})),at?tn():(ee?ee=!1:Ze(),Nt(D.default.BUFFER_CLEARED,{from:wt.from,to:wt.to,unintended:wt.unintended,hasEnoughSpaceToAppend:Dt(),quotaExceeded:Xe}))}function wn(wt){return new Promise(function(Pt){wt&&void 0!==wt.MSETimeOffset&&Me&&Me.updateTimestampOffset?Me.updateTimestampOffset(wt.MSETimeOffset).then(function(){Pt()}).catch(function(){Pt()}):Pt()})}function Nn(){return Me&&!be?Me.updateAppendWindow(ae):Promise.resolve()}function ti(){++Be*(De.get().streaming.wallclockTimeUpdateInterval/1e3)>=De.get().streaming.buffer.bufferPruningInterval&&(Be=0,bt())}function vn(){lt()}function Mt(wt){be!==wt&&((be=wt)?Nt(D.default.BUFFERING_COMPLETED):de=Number.POSITIVE_INFINITY)}function Tn(){try{var en,An,wt=Me.getAllBufferRanges(),Pt=0;if(!wt)return Pt;for(An=0,en=wt.length;An<en;An++)Pt+=wt.end(An)-wt.start(An);return Pt}catch{return 0}}function et(wt){try{var Pt=wt,en=Me.getAllBufferRanges();if(!en||0===en.length)return NaN;for(var An=0;Pt===wt&&An<en.length;){var Vn=en.start(An),ii=en.end(An);Pt>=Vn&&Pt<=ii&&(Pt=ii),An+=1}return Pt===wt?NaN:Pt}catch{}}function Dt(){var wt=Tn();return isNaN(wt)||wt<ie}function Nt(wt,Pt){L.trigger(wt,Pt||{},{streamId:ae.id,mediaType:G})}function xn(wt,Pt){if(ie=Number.POSITIVE_INFINITY,pe=void 0,de=Number.POSITIVE_INFINITY,Ce=0,Ie=null,be=!1,at=!1,Xe=!1,Oe=0,Be=0,Ne=[],fe=NaN,Me){var en=Me;Me=null,!wt&&!Pt&&en.abort().then(function(){en.reset(Pt),en=null})}ee=!1}return ce={initialize:function q(wt){X(wt),L.on(D.default.INIT_FRAGMENT_LOADED,Se,ce),L.on(D.default.MEDIA_FRAGMENT_LOADED,Fe,ce),L.on(D.default.WALLCLOCK_TIME_UPDATED,ti,ce),L.on(C.default.PLAYBACK_PLAYING,It,ce),L.on(C.default.PLAYBACK_PROGRESS,un,ce),L.on(C.default.PLAYBACK_TIME_UPDATED,un,ce),L.on(C.default.PLAYBACK_RATE_CHANGED,vn,ce),L.on(C.default.PLAYBACK_STALLED,fn,ce)},getStreamId:function $(){return ae.id},getType:function Q(){return G},getBufferControllerType:function ne(){return O},createBufferSink:function J(wt){var Pt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(en,An){if(je&&wt&&ye){var Vn=Re.getQualityFor(G,ae.id);Me=Object(m.default)(E).create({mediaSource:ye,textController:le,eventBus:L}),function ge(wt,Pt,en){var An=re(en);return Pt&&Pt[G]&&(G===t.default.VIDEO||G===t.default.AUDIO)?Me.initializeForStreamSwitch(wt,An,Pt[G]):Me.initializeForFirstUse(ae,wt,An)}(wt,Pt,Vn).then(function(){return wn(re(Vn))}).then(function(){en(Me)}).catch(function(ii){Te.fatal("Caught error on create SourceBuffer: "+ii),b.error(new d.default(h.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,h.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+G)),An(ii)})}else en(null)})},getBuffer:function pn(){return Me},getBufferLevel:function yn(){return Oe},getRangeAt:it,hasBufferAtTime:function vt(wt){try{var Pt=Me.getAllBufferRanges();if(!Pt||0===Pt.length)return!1;for(var en=0;en<Pt.length;){var An=Pt.start(en),Vn=Pt.end(en);if(wt>=An&&wt<=Vn)return!0;en+=1}return!1}catch(ii){return Te.error(ii),!1}},pruneBuffer:bt,setMediaSource:X,getMediaSource:function mn(){return ye},appendInitSegmentFromCache:function Ee(wt){var Pt=je.extract(ae.id,wt);return!!Pt&&(Te.info("Append Init fragment",G," with representationId:",Pt.representationId," and quality:",Pt.quality,", data size:",Pt.bytes.byteLength),ct(Pt),!0)},getIsBufferingCompleted:function _n(){return be},setIsBufferingCompleted:Mt,getIsPruningInProgress:function ht(){return at},reset:function kt(wt,Pt){L.off(D.default.INIT_FRAGMENT_LOADED,Se,this),L.off(D.default.MEDIA_FRAGMENT_LOADED,Fe,this),L.off(D.default.WALLCLOCK_TIME_UPDATED,ti,this),L.off(C.default.PLAYBACK_PLAYING,It,this),L.off(C.default.PLAYBACK_PROGRESS,un,this),L.off(C.default.PLAYBACK_TIME_UPDATED,un,this),L.off(C.default.PLAYBACK_RATE_CHANGED,vn,this),L.off(C.default.PLAYBACK_STALLED,fn,this),xn(wt,Pt)},prepareForPlaybackSeek:function yt(){return be&&Mt(!1),Me.abort()},prepareForReplacementTrackSwitch:function Et(wt){return new Promise(function(Pt,en){Me.abort().then(function(){return Nn()}).then(function(){return De.get().streaming.buffer.useChangeTypeForTrackSwitch?Me.changeType(wt):Promise.resolve()}).then(function(){return Tt()}).then(function(){Mt(!1),Pt()}).catch(function(An){en(An)})})},prepareForNonReplacementTrackSwitch:function We(wt){return new Promise(function(Pt,en){Nn().then(function(){return De.get().streaming.buffer.useChangeTypeForTrackSwitch?Me.changeType(wt):Promise.resolve()}).then(function(){Pt()}).catch(function(An){en(An)})})},prepareForReplacementQualitySwitch:function me(){return new Promise(function(wt,Pt){Me.abort().then(function(){return Nn()}).then(function(){return Tt()}).then(function(){Mt(!1),wt()}).catch(function(en){Pt(en)})})},updateAppendWindow:Nn,getAllRangesWithSafetyFactor:Kt,getContinuousBufferTimeForTargetTime:et,clearBuffers:on,pruneAllSafely:Tt,updateBufferTimestampOffset:wn,setSeekTarget:function Qt(wt){fe=wt},segmentRequestingCompleted:function $n(wt){isNaN(wt)||(de=wt,st())}},function we(){Te=Object(i.default)(E).getInstance().getLogger(ce),je=Object(c.default)(E).getInstance(),xn()}(),ce}S.__dashjs_factory_name=O,g.default=f.default.getClassFactory(S)},"./src/streaming/controllers/CatchupController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/CatchupController.js ***!
                  \********************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),y=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),m=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),P=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),D=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),f=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),i=e(
/*! ../../core/Utils */
"./src/core/Utils.js");function c(){var p,C,A,x,R,O,S,I,E,L,d=this.context,h=Object(y.default)(d).getInstance();function Y(){C=!1;var Be=i.default.parseUserAgent();A=Be&&Be.browser&&Be.browser.name&&"safari"===Be.browser.name.toLowerCase()}function ae(){C=!1}function G(Be){if(Be.streamId===O.getActiveStreamInfo().id&&E){var at=S.getLiveDelay();S.getBufferLevel()>at/2&&(E=!1)}}function De(Be){Be.streamId===O.getActiveStreamInfo().id&&(E=Be.state===f.default.BUFFER_EMPTY)}function ce(){I.getCatchupModeEnabled()||x.setPlaybackRate(1)}function Te(){S.getIsDynamic()&&I.getCatchupModeEnabled()&&(I.getCatchupPlaybackRates().max>0||I.getCatchupPlaybackRates().min<0)&&!S.isPaused()&&!S.isSeeking()&&function ie(){try{return!(!S.getTime()>0||C)&&(ye()===m.default.LIVE_CATCHUP_MODE_LOLP?function de(Be,at){try{return Math.abs(Oe())>0||Be<at}catch{return!1}}(S.getBufferLevel(),R.get().streaming.liveCatchup.playbackBufferMin):function Ce(){try{return Math.abs(Oe())>0}catch{return!1}}())}catch{return!1}}()&&function be(){if(!C&&x){var Be,at=x.getPlaybackRate(),Xe=I.getCatchupPlaybackRates(),je=S.getBufferLevel(),Ne=Oe(),ee=I.getCatchupMaxDrift();if(!isNaN(ee)&&ee>0&&Ne>ee)L.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),C=!0,S.seekToCurrentLive(!0,!1);else{var fe=S.getCurrentLiveLatency(),we=S.getLiveDelay();Be=ye()===m.default.LIVE_CATCHUP_MODE_LOLP?function pe(Be,at,Xe,je,Ne){var ee;if(Ne<je){var fe=Math.abs(Be.min),$=2*fe/(1+Math.pow(Math.E,-5*(Ne-je)));L.debug("[LoL+ playback control_buffer-based] bufferLevel: "+Ne+", newRate: "+(ee=1-fe+$))}else{var Q=Be.max,ne=.02;ee=Math.abs(at-Xe)<=ne*Xe?1:1-Q+2*Q/(1+Math.pow(Math.E,-5*(at-Xe))),L.debug("[LoL+ playback control_latency-based] latency: "+at+", newRate: "+ee)}return ee}(Xe,fe,we,R.get().streaming.liveCatchup.playbackBufferMin,je):function Me(Be,at,Xe,je){if(E)return 1;var Ne=at-Xe,ee=Ne<0?Math.abs(Be.min):Be.max,q=1-ee+2*ee/(1+Math.pow(Math.E,-5*Ne));return S.getPlaybackStalled()&&je<=Xe/2&&Ne>0&&(q=1),q}(Xe,fe,we,je);var $=A?.25:.02/(.5/Xe.max);Be&&Math.abs(at-Be)>=$&&(L.debug("[CatchupController]: Setting playback rate to ".concat(Be)),x.setPlaybackRate(Be))}}}()}function Oe(){return S.getCurrentLiveLatency()-S.getLiveDelay()}function ye(){var Be=R.get().streaming.liveCatchup.playbackBufferMin;return R.get().streaming.liveCatchup.mode!==m.default.LIVE_CATCHUP_MODE_LOLP||null===Be||isNaN(Be)?m.default.LIVE_CATCHUP_MODE_DEFAULT:m.default.LIVE_CATCHUP_MODE_LOLP}function Ie(){I.getCatchupPlaybackRates(!0)}return p={reset:function Re(){(function oe(){h.off(P.default.BUFFER_LEVEL_UPDATED,G,p),h.off(P.default.BUFFER_LEVEL_STATE_CHANGED,De,p),h.off(P.default.PLAYBACK_PROGRESS,Te,p),h.off(P.default.PLAYBACK_TIME_UPDATED,Te,p),h.off(P.default.PLAYBACK_SEEKED,Te,p),h.off(D.default.SETTING_UPDATED_CATCHUP_ENABLED,ce,p),h.off(D.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,Ie,p),h.off(D.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,Ie,p),h.off(P.default.STREAM_INITIALIZED,Ie,p)})(),Y(),x.setPlaybackRate(1,!0)},setConfig:function B(Be){Be&&(Be.settings&&(R=Be.settings),Be.videoModel&&(x=Be.videoModel),Be.streamController&&(O=Be.streamController),Be.playbackController&&(S=Be.playbackController),Be.mediaPlayerModel&&(I=Be.mediaPlayerModel))},initialize:function b(){(function Z(){h.on(P.default.BUFFER_LEVEL_UPDATED,G,p),h.on(P.default.BUFFER_LEVEL_STATE_CHANGED,De,p),h.on(P.default.PLAYBACK_PROGRESS,Te,p),h.on(P.default.PLAYBACK_TIME_UPDATED,Te,p),h.on(P.default.PLAYBACK_SEEKED,ae,p),h.on(D.default.SETTING_UPDATED_CATCHUP_ENABLED,ce,p),h.on(D.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,Ie,p),h.on(D.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,Ie,p),h.on(P.default.STREAM_INITIALIZED,Ie,p)})(),Ie()}},function le(){L=Object(v.default)(d).getInstance().getLogger(p),Y()}(),p}c.__dashjs_factory_name="CatchupController",g.default=t.default.getSingletonFactory(c)},"./src/streaming/controllers/EventController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/EventController.js ***!
                  \******************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),y=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),m=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),P=e(
/*! ../net/XHRLoader */
"./src/streaming/net/XHRLoader.js");function D(){var x,R,O,S,I,E,L,b,B,Z,oe,f="urn:mpeg:dash:event:2012",i=1,c="urn:mpeg:dash:event:callback:2015",d=1,h=300,p={DISCARDED:"discarded",UPDATED:"updated",ADDED:"added"},C=this.context,A=Object(y.default)(C).getInstance();function Re(){if(!L||!b)throw new Error("setConfig function has to be called previously")}function Y(){oe=!1,O={},S={},I=null,Z=!1,E=Date.now()/1e3}function ae(){try{null!==I&&oe&&(clearInterval(I),I=null,oe=!1,function Ce(){try{de(S),de(O)}catch(q){R.error(q)}}())}catch(q){throw q}}function De(){try{if(!Z){Z=!0;var q=b.getTime(),$=q-E;$=E>0?Math.max(0,$):0,ce(S,$,q),ce(O,$,q),Te(S),Te(O),E=q,Z=!1}}catch(Q){Z=!1,R.error(Q)}}function ce(q,$,Q){try{Me(q,function(re){if(void 0!==re){var J=isNaN(re.duration)?0:re.duration;re.calculatedPresentationTime<=Q&&re.calculatedPresentationTime+$+J>=Q?Be(re,m.default.EVENT_MODE_ON_START):(pe(Q,J+$,re.calculatedPresentationTime)||function Ie(q){try{return q.calculatedPresentationTime>q.eventStream.period.start+q.eventStream.period.duration}catch(Q){return R.error(Q),!1}}(re))&&(R.debug("Removing event ".concat(re.id," from period ").concat(re.eventStream.period.id," as it is expired or invalid")),function at(q,$){try{var Q=$.eventStream.schemeIdUri,ne=$.eventStream.period.id,X=$.eventStream.value,re=$.id;q[ne][Q]=q[ne][Q].filter(function(J){return X&&J.eventStream.value&&J.eventStream.value!==X||J.id!==re}),0===q[ne][Q].length&&delete q[ne][Q]}catch(J){R.error(J)}}(q,re))}})}catch(X){R.error(X)}}function Te(q){try{for(var $ in q)q.hasOwnProperty($)&&0===Object.keys(q[$]).length&&delete q[$]}catch(Q){R.error(Q)}}function ie(q,$){var Q=arguments.length>2&&void 0!==arguments[2]&&arguments[2],ne=q.eventStream.schemeIdUri,X=q.eventStream.value,re=q.id,J=p.DISCARDED;$[ne]||($[ne]=[]);var ge=$[ne].findIndex(function(Ee){return(!X||Ee.eventStream.value&&Ee.eventStream.value===X)&&Ee.id===re});if(-1===ge)$[ne].push(q),q.triggeredReceivedEvent=!1,q.triggeredStartEvent=!1,J=p.ADDED;else if(Q){var Se=$[ne][ge];q.triggeredReceivedEvent=Se.triggeredReceivedEvent,q.triggeredStartEvent=Se.triggeredStartEvent,$[ne][ge]=q,J=p.UPDATED}return J}function ye(q){try{q.eventStream.value==i&&A.trigger(m.default.MANIFEST_VALIDITY_CHANGED,{id:q.id,validUntil:q.calculatedPresentationTime,newDuration:4294967295==q.calculatedPresentationTime?NaN:q.calculatedPresentationTime+q.duration,newManifestValidAfter:NaN},{mode:m.default.EVENT_MODE_ON_START})}catch(ne){R.error(ne)}}function de(q){try{var $=b.getTime();Me(q,function(X){var re=X.eventStream&&X.eventStream.period&&!isNaN(X.eventStream.period.duration)?X.eventStream.period.duration:NaN,J=X.eventStream&&X.eventStream.period&&!isNaN(X.eventStream.period.start)?X.eventStream.period.start:NaN;isNaN(re)||isNaN(J)||Math.abs(X.calculatedPresentationTime-$)<h&&Be(X,m.default.EVENT_MODE_ON_START)})}catch(ne){R.error(ne)}}function Me(q,$){try{if(q)for(var Q=Object.keys(q),ne=0;ne<Q.length;ne++)for(var X=q[Q[ne]],re=Object.keys(X),J=0;J<re.length;J++)X[re[J]].forEach(function(Se){void 0!==Se&&$(Se)})}catch(Se){R.error(Se)}}function pe(q,$,Q){try{return q-$>Q}catch(ne){return R.error(ne),!1}}function Be(q,$){try{var Q=b.getTime(),ne=q.id;if($===m.default.EVENT_MODE_ON_RECEIVE&&!q.triggeredReceivedEvent)return R.debug("Received event ".concat(ne)),q.triggeredReceivedEvent=!0,void A.trigger(q.eventStream.schemeIdUri,{event:q},{mode:$});q.triggeredStartEvent||(q.eventStream.schemeIdUri===f&&q.eventStream.value==i?(0!==q.duration||0!==q.presentationTimeDelta)&&(R.debug("Starting manifest refresh event ".concat(ne," at ").concat(Q)),function Xe(){try{Re(),L.refreshManifest()}catch(q){R.error(q)}}()):q.eventStream.schemeIdUri===c&&q.eventStream.value==d?(R.debug("Starting callback event ".concat(ne," at ").concat(Q)),function je(q){try{Object(P.default)(C).create({}).load({method:"get",url:q,request:{responseType:"arraybuffer"}})}catch(Q){R.error(Q)}}(q.messageData)):(R.debug("Starting event ".concat(ne," from period ").concat(q.eventStream.period.id," at ").concat(Q)),A.trigger(q.eventStream.schemeIdUri,{event:q},{mode:$})),q.triggeredStartEvent=!0)}catch(X){R.error(X)}}return x={addInlineEvents:function be(q,$){try{if(Re(),O[$]||(O[$]={}),q)for(var Q=0;Q<q.length;Q++){var ne=q[Q];if(!pe(b.getTime(),isNaN(ne.duration)?0:ne.duration,ne.calculatedPresentationTime)){var J=ie(ne,O[$],!0);J===p.ADDED?(R.debug("Added inline event with id ".concat(ne.id," from period ").concat($)),Be(ne,m.default.EVENT_MODE_ON_RECEIVE)):J===p.UPDATED&&R.debug("Updated inline event with id ".concat(ne.id," from period ").concat($))}}}catch(ge){throw ge}},addInbandEvents:function Oe(q,$){try{Re(),S[$]||(S[$]={});for(var Q=0;Q<q.length;Q++){var ne=q[Q];pe(b.getTime(),isNaN(ne.duration)?0:ne.duration,ne.calculatedPresentationTime)||(ie(ne,S[$],!1)===p.ADDED?(ne.eventStream.schemeIdUri===f&&ye(ne),R.debug("Added inband event with id ".concat(ne.id," from period ").concat($)),Be(ne,m.default.EVENT_MODE_ON_RECEIVE)):R.debug("Inband event with scheme_id_uri ".concat(ne.eventStream.schemeIdUri,", value ").concat(ne.eventStream.value,", period id ").concat($," and event id ").concat(ne.id," was ignored because it has been added before.")))}De()}catch(ge){throw ge}},getInbandEvents:function fe(){return S},getInlineEvents:function ee(){return O},start:function G(){try{Re(),R.debug("Start Event Controller");var q=B.get().streaming.eventControllerRefreshDelay;!oe&&!isNaN(q)&&(oe=!0,I=setInterval(De,q))}catch($){throw $}},setConfig:function Ne(q){try{if(!q)return;q.manifestUpdater&&(L=q.manifestUpdater),q.playbackController&&(b=q.playbackController),q.settings&&(B=q.settings)}catch($){throw $}},reset:function we(){ae(),Y()}},function le(){R=Object(v.default)(C).getInstance().getLogger(x),Y()}(),x}D.__dashjs_factory_name="EventController",g.default=t.default.getSingletonFactory(D)},"./src/streaming/controllers/FragmentController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/FragmentController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../vo/DataChunk */
"./src/streaming/vo/DataChunk.js"),y=e(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),m=e(
/*! ../FragmentLoader */
"./src/streaming/FragmentLoader.js"),P=e(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),D=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),f=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),i=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),c=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),d=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),h=e(
/*! ../../core/Debug */
"./src/core/Debug.js");function p(C){C=C||{};var L,b,B,A=this.context,x=Object(D.default)(A).getInstance(),R=C.errHandler,O=C.mediaPlayerModel,S=C.dashMetrics,I=Object(h.default)(A).getInstance(),E=C.streamInfo;function oe(){return E.id}function Re(){for(var De in B)B[De].reset();B={}}function G(De){if(De.sender){var ce=De.request,Te=De.response,be=ce.isInitializationRequest(),Oe=ce.mediaInfo.streamInfo;if(De.error&&(ce.mediaType===t.default.AUDIO||ce.mediaType===t.default.VIDEO||ce.mediaType===t.default.TEXT&&ce.mediaInfo.isFragmented)&&x.trigger(f.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:De.request.serviceLocation}),!Te||!Oe)return void b.warn("No "+ce.mediaType+" bytes to push or stream is inactive.");var ie=function ae(De,ce,Te,be){var Oe=new v.default;return Oe.streamId=Te,Oe.mediaInfo=ce.mediaInfo,Oe.segmentType=ce.type,Oe.start=ce.startTime,Oe.duration=ce.duration,Oe.end=Oe.start+Oe.duration,Oe.bytes=De,Oe.index=ce.index,Oe.quality=ce.quality,Oe.representationId=ce.representationId,Oe.endFragment=be,Oe}(Te,ce,E.id,De.type!==f.default.FRAGMENT_LOADING_PROGRESS);x.trigger(be?f.default.INIT_FRAGMENT_LOADED:f.default.MEDIA_FRAGMENT_LOADED,{chunk:ie,request:ce},{streamId:Oe.id,mediaType:ce.mediaType})}}return L={getStreamId:oe,getModel:function le(De){var ce=B[De];return ce||(ce=Object(y.default)(A).create({streamInfo:E,type:De,dashMetrics:S,fragmentLoader:Object(m.default)(A).create({dashMetrics:S,mediaPlayerModel:O,errHandler:R,requestModifier:Object(P.default)(A).getInstance(),settings:C.settings,boxParser:C.boxParser,eventBus:x,events:f.default,errors:c.default,dashConstants:C.dashConstants,urlUtils:C.urlUtils,streamId:oe()}),debug:I,eventBus:x,events:f.default}),B[De]=ce),ce},reset:function Y(){x.off(i.default.FRAGMENT_LOADING_COMPLETED,G,this),x.off(i.default.FRAGMENT_LOADING_PROGRESS,G,this),Re()}},function Z(){b=I.getLogger(L),Re(),x.on(i.default.FRAGMENT_LOADING_COMPLETED,G,L),x.on(i.default.FRAGMENT_LOADING_PROGRESS,G,L)}(),L}p.__dashjs_factory_name="FragmentController",g.default=d.default.getClassFactory(p)},"./src/streaming/controllers/GapController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/GapController.js ***!
                  \****************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),y=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),m=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),P=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function c(){var p,C,A,x,R,O,S,I,E,L,b,B,d=this.context,h=Object(m.default)(d).getInstance();function le(){(function pe(){B.debug("Stopping the gap controller"),R&&(clearInterval(R),R=null)})(),function G(){h.off(y.default.WALLCLOCK_TIME_UPDATED,Oe,this),h.off(y.default.INITIAL_STREAM_SWITCH,be,this),h.off(y.default.PLAYBACK_SEEKING,De,this),h.off(y.default.BUFFER_REPLACEMENT_STARTED,ce,p),h.off(y.default.TRACK_CHANGE_RENDERED,Te,p)}(),function Re(){R=null,O=NaN,x=0,L=null,b={}}()}function De(){L&&(clearTimeout(L),L=null)}function ce(Be){try{if(Be.streamId!==I.getActiveStreamInfo().id||Be.mediaType!==P.default.VIDEO&&Be.mediaType!==P.default.AUDIO)return;Be.streamId===I.getActiveStreamInfo().id&&(b[Be.mediaType]=!0)}catch(at){B.error(at)}}function Te(Be){!Be||!Be.mediaType||(b[Be.mediaType]=!1)}function be(){R||function Me(){try{R||(B.debug("Starting the gap controller"),R=setInterval(function(){ie()&&Ie(S.getTime())},100))}catch{}}()}function Oe(){if(ie(A.get().streaming.gaps.enableSeekFix)&&++x>=10){var Be=S.getTime();C===Be?Ie(Be,!0):(C=Be,O=NaN),x=0}}function ie(){var Be=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!I.getActiveStream())return!1;var at=Object.keys(b).some(function(je){return b[je]}),Xe=!!Be&&function ye(){var Be=I.getActiveStream(),at=parseFloat((Be.getStartTime()+Be.getDuration()).toFixed(5));return S.getTime()+A.get().streaming.gaps.threshold>=at}();return!at&&A.get().streaming.gaps.jumpGaps&&I.getActiveStreamProcessors().length>0&&(!S.isSeeking()||Xe)&&!S.isPaused()&&!I.getIsStreamSwitchInProgress()&&!I.getHasMediaOrInitialisationError()}function Ie(Be){var we,at=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Xe=A.get().streaming.gaps.enableStallFix,je=A.get().streaming.gaps.stallSeek,Ne=A.get().streaming.gaps.smallGapLimit,ee=A.get().streaming.gaps.jumpLargeGaps,fe=E.getBufferRange(),q=NaN,$=!1;if(we=function Ce(Be,at){try{if(!Be||Be.length<=1&&at>0)return NaN;for(var Xe=NaN,je=0;isNaN(Xe)&&je<Be.length;){var Ne=je>0?Be.end(je-1):0;at<Be.start(je)&&Ne-at<A.get().streaming.gaps.threshold&&(Xe=je),je+=1}return Xe}catch{return null}}(fe,Be),!isNaN(we)){var Q=fe.start(we),ne=Q-Be;ne>0&&(ne<=Ne||ee)&&(q=Q)}var X=S.getTimeToStreamEnd();if(isNaN(q)&&at&&isFinite(X)&&!isNaN(X)&&X<Ne&&(q=parseFloat(S.getStreamEndTime().toFixed(5)),$=!0),Xe&&isNaN(q)&&at&&isNaN(we)&&function de(Be,at){for(var Xe=0,je=Be.length;Xe<je;Xe++)if(at>=Be.start(Xe)&&at<=Be.end(Xe))return!0;return!1}(fe,Be)&&(0===je?(B.warn("Toggle play pause to break stall"),E.pause(),E.play()):(B.warn("Jumping ".concat(je,"s to break stall")),q=Be+je)),q>0&&O!==q&&q>Be&&!L){var re=q-Be;if($){var J=I.getStreamForTime(q),ge=J&&!!J.getPreloaded();B.warn("Jumping to end of stream because of gap from ".concat(Be," to ").concat(q,". Gap duration: ").concat(re)),S.seek(q,!0,ge)}else{var Se=S.getIsDynamic(),Ee=we>0?fe.end(we-1):Be,Fe=Se?1e3*Math.max(0,re-.1):0;L=window.setTimeout(function(){S.seek(q,!0,!0),B.warn("Jumping gap occuring in period ".concat(I.getActiveStream().getStreamId()," starting at ").concat(Ee," and ending at ").concat(q,". Jumping by: ").concat(q-Ee)),L=null},Fe)}O=q}}return p={reset:le,setConfig:function Y(Be){Be&&(Be.settings&&(A=Be.settings),Be.playbackController&&(S=Be.playbackController),Be.streamController&&(I=Be.streamController),Be.videoModel&&(E=Be.videoModel))},initialize:function Z(){!function ae(){h.on(y.default.WALLCLOCK_TIME_UPDATED,Oe,this),h.on(y.default.INITIAL_STREAM_SWITCH,be,this),h.on(y.default.PLAYBACK_SEEKING,De,this),h.on(y.default.BUFFER_REPLACEMENT_STARTED,ce,p),h.on(y.default.TRACK_CHANGE_RENDERED,Te,p)}()}},function oe(){B=Object(v.default)(d).getInstance().getLogger(p),le()}(),p}c.__dashjs_factory_name="GapController",g.default=t.default.getSingletonFactory(c)},"./src/streaming/controllers/MediaController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/MediaController.js ***!
                  \******************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),y=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),m=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),P=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),D=e(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),f=e.n(D),i=e(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js");function d(){var A,x,R,O,S,I,E,L,p=this.context,C=Object(y.default)(p).getInstance();function oe(J,ge){return J&&R[ge]&&R[ge][J]?R[ge][J].list:[]}function le(J,ge){return J&&R[ge]&&R[ge][J]?R[ge][J].current:null}function Y(J){var ge=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(J&&J.streamInfo){var Se=J.type,Fe=J.streamInfo.id,ct=le(Se,Fe);if(R[Fe]&&R[Fe][Se]&&(R[Fe][Se].current=J,R[Fe][Se].current&&(Se!==t.default.TEXT&&!Te(J,ct)||Se===t.default.TEXT&&J.isFragmented)&&C.trigger(v.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:ct,newMediaInfo:J,switchMode:O.get().streaming.trackSwitchMode[Se]},{streamId:Fe}),!ge)){var qe=function ie(J){var ge={lang:J.lang,viewpoint:J.viewpoint,roles:J.roles,accessibility:J.accessibility,audioChannelConfiguration:J.audioChannelConfiguration};return ge.lang||ge.viewpoint||ge.role&&ge.role.length>0||ge.accessibility&&ge.accessibility.length>0||ge.audioChannelConfiguration&&ge.audioChannelConfiguration.length>0?ge:null}(J);if(!qe||!R[Fe][Se].storeLastSettings)return;qe.roles&&(qe.role=qe.roles[0],delete qe.roles),qe.accessibility&&(qe.accessibility=qe.accessibility[0]),qe.audioChannelConfiguration&&(qe.audioChannelConfiguration=qe.audioChannelConfiguration[0]),I[Se]=qe,L.setSavedMediaSettings(Se,qe)}}}function ae(J,ge){!J||!ge||(S[J]=ge)}function G(J){return J?S[J]:null}function Te(J,ge){if(!J&&!ge)return!0;if(!J||!ge)return!1;var Se=J.id===ge.id,Ee=J.viewpoint===ge.viewpoint,Fe=J.lang===ge.lang,ct=J.codec===ge.codec,qe=J.roles.toString()===ge.roles.toString(),tt=J.accessibility.toString()===ge.accessibility.toString(),gt=J.audioChannelConfiguration.toString()===ge.audioChannelConfiguration.toString();return Se&&ct&&Ee&&Fe&&qe&&tt&&gt}function Oe(){R={},I={},function Xe(){S={audio:null,video:null,text:null}}()}function ye(J,ge,Se){var Ee=[];return J.forEach(function(Fe){ge(Se,Fe)&&Ee.push(Fe)}),0!==Ee.length?Ee:J}function Ce(J,ge){return!J.lang||J.lang instanceof RegExp?ge.lang.match(J.lang):""!==ge.lang&&Object(i.extendedFilter)(ge.lang,f()(J.lang)).length>0}function de(J,ge){return null==J.index||ge.index===J.index}function Me(J,ge){return!J.viewpoint||J.viewpoint===ge.viewpoint}function pe(J,ge){var Se=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!J.role||!!ge.roles.filter(function(Fe){return Fe===J.role})[0]||ge.type===t.default.AUDIO&&Se}function Ie(J,ge){return J.accessibility?!!ge.accessibility.filter(function(Ee){return Ee===J.accessibility})[0]:!ge.accessibility.length}function Be(J,ge){return!J.audioChannelConfiguration||!!ge.audioChannelConfiguration.filter(function(Ee){return Ee===J.audioChannelConfiguration})[0]}function Ne(J){var Ee,ge=0,Se=[];return J.forEach(function(Fe){(Ee=Math.max.apply(Math,Fe.bitrateList.map(function(ct){return ct.bandwidth})))>ge?(ge=Ee,Se=[Fe]):Ee===ge&&Se.push(Fe)}),Se}function ee(J){var Ee,ge=1/0,Se=[];return J.forEach(function(Fe){var ct=Fe.bitrateList.reduce(function(qe,tt){var gt=Math.max(1,tt.width*tt.height);return qe+tt.bandwidth/gt},0);(Ee=ct/Fe.bitrateList.length)<ge?(ge=Ee,Se=[Fe]):Ee===ge&&Se.push(Fe)}),Se}function fe(J){var Ee,ge=0,Se=[];return J.forEach(function(Fe){(Ee=Fe.representationCount)>ge?(ge=Ee,Se=[Fe]):Ee===ge&&Se.push(Fe)}),Se}function we(J,ge){if(J===t.default.TEXT)return ge[0];var Ee,Se=O.get().streaming.selectionModeForInitialTrack,Fe=E.getCustomInitialTrackSelectionFunction();if(Fe&&"function"==typeof Fe)Ee=Fe(ge);else switch(Se){case t.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:Ee=function q(J){var ge=function je(J){var ge=0,Se=[];return J.forEach(function(Ee){isNaN(Ee.selectionPriority)||(Ee.selectionPriority>ge?(ge=Ee.selectionPriority,Se=[Ee]):Ee.selectionPriority===ge&&Se.push(Ee))}),Se}(J);return ge.length>1&&(ge=Ne(ge)),ge.length>1&&(ge=fe(ge)),ge}(ge);break;case t.default.TRACK_SELECTION_MODE_HIGHEST_BITRATE:Ee=function $(J){var ge=Ne(J);return ge.length>1&&(ge=fe(ge)),ge}(ge);break;case t.default.TRACK_SELECTION_MODE_FIRST_TRACK:Ee=Q(ge);break;case t.default.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:Ee=function ne(J){var ge=ee(J);return ge.length>1&&(ge=Ne(ge)),ge}(ge);break;case t.default.TRACK_SELECTION_MODE_WIDEST_RANGE:Ee=function X(J){var ge=fe(J);return ge.length>1&&(ge=Ne(J)),ge}(ge);break;default:x.warn("Track selection mode ".concat(Se," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),Ee=Q(ge)}return Ee.length>0?Ee[0]:ge[0]}function Q(J){return J[0]}return A={setInitialMediaSettingsForType:function B(J,ge){var Se=I[J]||G(J),Ee=oe(J,ge.id),Fe=[];Se||ae(J,Se=L.getSavedMediaSettings(J)),Ee&&0!==Ee.length&&(Se&&(Fe=ye(Fe=Array.from(Ee),Ce,Se),Fe=ye(Fe,de,Se),Fe=ye(Fe,Me,Se),J===t.default.AUDIO&&I[J]||(Fe=ye(Fe,pe,Se)),Fe=ye(Fe,Ie,Se),Fe=ye(Fe,Be,Se)),0===Fe.length?Y(we(J,Ee),!0):Y(Fe.length>1?we(J,Fe):Fe[0]))},addTrack:function Z(J){if(J){var ge=J.type;if(function ce(J){return J===t.default.AUDIO||J===t.default.VIDEO||J===t.default.TEXT||J===t.default.IMAGE}(ge)){var Se=J.streamInfo.id;R[Se]||(R[Se]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var Ee=R[Se][ge].list,Fe=0,ct=Ee.length;Fe<ct;++Fe)if(Te(Ee[Fe],J))return;Ee.push(J)}}},getTracksFor:oe,getCurrentTrackFor:le,isCurrentTrack:function Re(J){if(!J)return!1;var ge=J.type,Se=J.streamInfo.id;return R[Se]&&R[Se][ge]&&Te(R[Se][ge].current,J)},setTrack:Y,selectInitialTrack:we,setInitialSettings:ae,getInitialSettings:G,getTracksWithHighestBitrate:Ne,getTracksWithHighestEfficiency:ee,getTracksWithWidestRange:fe,isTracksEqual:Te,matchSettings:function at(J,ge){var Se=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var Ee=!1;if(J.lang){if(J.lang instanceof RegExp)Ee=ge.lang.match(J.lang);else if(""!==ge.lang){var Fe=f()(J.lang);Fe&&(Ee=Object(i.extendedFilter)(ge.lang,Fe).length>0)}}else Ee=!0;var ct=null==J.index||ge.index===J.index,qe=!J.viewpoint||J.viewpoint===ge.viewpoint,tt=!J.role||!!ge.roles.filter(function(yt){return yt===J.role})[0],gt=!J.accessibility||!!ge.accessibility.filter(function(yt){return yt===J.accessibility})[0],Qe=!J.audioChannelConfiguration||!!ge.audioChannelConfiguration.filter(function(yt){return yt===J.audioChannelConfiguration})[0];return Ee&&ct&&qe&&(tt||ge.type===t.default.AUDIO&&Se)&&gt&&Qe}catch(yt){return!1}},matchSettingsLang:Ce,matchSettingsIndex:de,matchSettingsViewPoint:Me,matchSettingsRole:pe,matchSettingsAccessibility:Ie,matchSettingsAudioChannelConfig:Be,saveTextSettingsDisabled:function De(){L.setSavedMediaSettings(t.default.TEXT,null)},setConfig:function be(J){J&&(J.domStorage&&(L=J.domStorage),J.settings&&(O=J.settings),J.customParametersModel&&(E=J.customParametersModel))},reset:Oe},function b(){x=Object(P.default)(p).getInstance().getLogger(A),Oe()}(),A}d.__dashjs_factory_name="MediaController";var h=m.default.getSingletonFactory(d);m.default.updateSingletonFactory(d.__dashjs_factory_name,h),g.default=h},"./src/streaming/controllers/MediaSourceController.js":
/*!************************************************************!*\
                  !*** ./src/streaming/controllers/MediaSourceController.js ***!
                  \************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js");function y(){var m,P,D,f=this.context;return m={createMediaSource:function c(){var R="WebKitMediaSource"in window;return"MediaSource"in window?P=new MediaSource:R&&(P=new WebKitMediaSource),P},attachMediaSource:function d(R){var O=window.URL.createObjectURL(P);return R.setSource(O),O},detachMediaSource:function h(R){R.setSource(null)},setDuration:function p(R){!P||"open"!==P.readyState||null===R&&isNaN(R)||P.duration!==R&&(function x(R){for(var O=R.sourceBuffers,S=0;S<O.length;S++)if(O[S].updating)return!0;return!1}(P)?setTimeout(p.bind(null,R),50):(D.info("Set MediaSource duration:"+R),P.duration=R))},setSeekable:function C(R,O){P&&"function"==typeof P.setLiveSeekableRange&&"function"==typeof P.clearLiveSeekableRange&&"open"===P.readyState&&R>=0&&R<O&&(P.clearLiveSeekableRange(),P.setLiveSeekableRange(R,O))},signalEndOfStream:function A(R){if(R&&"open"===R.readyState){for(var O=R.sourceBuffers,S=0;S<O.length;S++)if(O[S].updating||0===O[S].buffered.length)return;D.info("call to mediaSource endOfStream"),R.endOfStream()}}},function i(){D=Object(v.default)(f).getInstance().getLogger(m)}(),m}y.__dashjs_factory_name="MediaSourceController",g.default=t.default.getSingletonFactory(y)},"./src/streaming/controllers/PlaybackController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/PlaybackController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),y=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),m=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),P=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),D=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),f=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function c(){var p,C,A,x,R,O,S,I,E,L,b,B,Z,oe,le,Re,ae,G,De,ce,Te,be,Oe,d=this.context,h=Object(v.default)(d).getInstance();function ye(){at(),oe=!1,L=0,b=0,Re=0,Te=!1,ae=!1,be=!1,G=NaN,S&&(h.off(y.default.DATA_UPDATE_COMPLETED,We,p),h.off(y.default.LOADING_PROGRESS,$n,p),h.off(y.default.MANIFEST_UPDATED,mn,p),h.off(y.default.STREAMS_COMPOSED,_n,p),h.off(D.default.PLAYBACK_ENDED,on,p),h.off(D.default.STREAM_INITIALIZING,vn,p),h.off(D.default.REPRESENTATION_SWITCH,pn,p),h.off(D.default.BUFFER_LEVEL_STATE_CHANGED,Jt,p),me(),function Tn(){S.removeEventListener("canplay",Tt),S.removeEventListener("canplaythrough",Kt),S.removeEventListener("play",Xt),S.removeEventListener("waiting",un),S.removeEventListener("playing",fn),S.removeEventListener("pause",It),S.removeEventListener("error",En),S.removeEventListener("seeking",vt),S.removeEventListener("seeked",it),S.removeEventListener("timeupdate",He),S.removeEventListener("progress",Ze),S.removeEventListener("ratechange",st),S.removeEventListener("loadedmetadata",lt),S.removeEventListener("loadeddata",St),S.removeEventListener("stalled",ti),S.removeEventListener("ended",bt),S.removeEventListener("volumechange",At)}()),E=null,S=null,B=null,Z=null}function pe(){return parseFloat((Ie(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-we()).toFixed(5))}function Ie(et){var Dt=et||B;return Dt.start+Dt.duration}function Be(){var et=arguments.length>0&&void 0!==arguments[0]&&arguments[0];B&&S&&S.getElement()?(et&&Z&&fe(we()),S.play()):oe=!0}function at(){B&&S&&S.pause()}function Xe(et){var Dt=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Qt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Nt=arguments.length>3&&void 0!==arguments[3]&&arguments[3];B&&S&&et!==(isNaN(G)?S.getTime():G)&&((De=!0===Qt)||(G=et),C.info("Requesting seek to time: "+et+(De?" (internal)":"")),Z&&Nt&&fe(et),S.setCurrentTime(et,Dt))}function ee(){if(B&&S&&Z){var et=A&&A.hasVideoTrack()?t.default.VIDEO:t.default.AUDIO,Dt=R.getCurrentDVRInfo(et);return Dt&&Dt.range?Dt.range.end:0}}function fe(et){var Dt=new Date(I.getClientReferenceTime()),Qt=O.getRegularPeriods()[0],Nt=I.calcPresentationTimeFromWallTime(Dt,Qt);L=Nt-et}function we(){return B&&S?S.getTime():null}function q(){return B&&S?S.isPaused():null}function $(){return B&&S?S.isSeeking():null}function Q(){return B&&S?S.isStalled():null}function ne(){return B&&S?S.getPlaybackRate():null}function re(){return B&&S?S.getEnded():null}function J(){return Z}function Qe(){var et=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!q()&&Z&&0!==S.getReadyState()&&!$()&&!Te){et||(et=A.hasVideoTrack()?t.default.VIDEO:t.default.AUDIO);var Dt=we(),Qt=function yt(et,Dt){var Qt=R.getCurrentDVRInfo(Dt),Nt=Qt?Qt.range:null;return Nt?et>Nt.end?Math.max(Nt.end-L,Nt.start):et>0&&et+.25<Nt.start&&Math.abs(et-Nt.start)<31536e4?ae?Math.max(Nt.end-L,Nt.start):Nt.start:et:NaN}(Dt,et);!isNaN(Qt)&&Qt!==Dt&&!$()&&(Q()||ce||1===S.getReadyState())&&(C.debug("UpdateCurrentTime: Seek to actual time: ".concat(Qt," from currentTime: ").concat(Dt)),Xe(Qt,!1,!1))}}function Et(){null===E&&(E=setInterval(function(){!function tn(){h.trigger(y.default.WALLCLOCK_TIME_UPDATED,{isDynamic:Z,time:new Date}),J()&&(A.addDVRMetric(),q()?function Mn(){var et=Date.now();(!le||et>le+500)&&(le=et,He())}():Qe())}()},Oe.get().streaming.wallclockTimeUpdateInterval))}function me(){clearInterval(E),E=null}function We(et){var Dt=O.convertRepresentationToRepresentationInfo(et.currentRepresentation),Qt=Dt?Dt.mediaInfo.streamInfo:null;null===Qt||B.id!==Qt.id||(B=Qt)}function Tt(){h.trigger(y.default.CAN_PLAY)}function Kt(){h.trigger(y.default.CAN_PLAY_THROUGH)}function Jt(et){et.streamId===A.getActiveStreamInfo().id&&(ce=et.state===f.default.BUFFER_EMPTY,Oe.get().streaming.buffer.setStallState&&S.setStallState(et.mediaType,et.state===f.default.BUFFER_EMPTY))}function Xt(){C.info("Native video element event: play"),Qe(),Et(),h.trigger(y.default.PLAYBACK_STARTED,{startTime:we()})}function un(){C.info("Native video element event: waiting"),h.trigger(y.default.PLAYBACK_WAITING,{playingTime:we()})}function fn(){C.info("Native video element event: playing"),De=!1,h.trigger(y.default.PLAYBACK_PLAYING,{playingTime:we()})}function It(){C.info("Native video element event: pause"),h.trigger(y.default.PLAYBACK_PAUSED,{ended:re()})}function vt(){if(!De){var et=we();!isNaN(G)&&G!==et&&(et=G),G=NaN,C.info("Seeking to: "+et),Et(),h.trigger(y.default.PLAYBACK_SEEKING,{seekTime:et,streamId:B.id})}}function it(){C.info("Native video element event: seeked"),De=!1,h.trigger(y.default.PLAYBACK_SEEKED)}function He(){B&&h.trigger(y.default.PLAYBACK_TIME_UPDATED,{timeToEnd:pe(),time:we(),streamId:B.id})}function Ze(){h.trigger(y.default.PLAYBACK_PROGRESS,{streamId:B.id})}function st(){var et=ne();C.info("Native video element event: ratechange: ",et),h.trigger(y.default.PLAYBACK_RATE_CHANGED,{playbackRate:et})}function lt(){C.info("Native video element event: loadedmetadata"),h.trigger(y.default.PLAYBACK_METADATA_LOADED),Et()}function St(){C.info("Native video element event: loadeddata"),h.trigger(y.default.PLAYBACK_LOADED_DATA)}function bt(){C.info("Native video element event: ended"),at(),me();var et=A?A.getActiveStreamInfo():null;et&&h.trigger(y.default.PLAYBACK_ENDED,{isLast:et.isLast})}function At(){h.trigger(y.default.PLAYBACK_VOLUME_CHANGED)}function on(et){if(E&&et.isLast){C.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var Dt=et.seekTime?et.seekTime:Ie();S.setCurrentTime(Dt),at(),me()}}function En(et){h.trigger(y.default.PLAYBACK_ERROR,{error:(et.target||et.srcElement).error})}function $n(et){if(!1===et.stream&&ae&&!isNaN(et.request.duration)){var Dt=1.2*et.request.duration;Dt>L&&(C.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",Dt.toFixed(2)),L=Dt,b=Dt)}}function ti(et){h.trigger(y.default.PLAYBACK_STALLED,{e:et})}function vn(et){!function Mt(et){et&&et.supplementalProperties&&"true"===et.supplementalProperties[t.default.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(C.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),ae=!0)}(et.mediaInfo)}function pn(et){var Dt=A.getActiveStreamInfo();!et||!Dt||!et.currentRepresentation||!et.streamId||et.streamId!==Dt.id||!et.mediaType||et.mediaType!==t.default.VIDEO&&et.mediaType!==t.default.AUDIO||(ae=!et.currentRepresentation.availabilityTimeComplete)&&!be&&(be=!0)}function mn(){Te=!0}function _n(){Te=!1}return p={initialize:function Ce(et,Dt){B=et,!0!==Dt&&function de(){(function ht(){S.addEventListener("canplay",Tt),S.addEventListener("canplaythrough",Kt),S.addEventListener("play",Xt),S.addEventListener("waiting",un),S.addEventListener("playing",fn),S.addEventListener("pause",It),S.addEventListener("error",En),S.addEventListener("seeking",vt),S.addEventListener("seeked",it),S.addEventListener("timeupdate",He),S.addEventListener("progress",Ze),S.addEventListener("ratechange",st),S.addEventListener("loadedmetadata",lt),S.addEventListener("loadeddata",St),S.addEventListener("stalled",ti),S.addEventListener("ended",bt),S.addEventListener("volumechange",At)})(),Z=B.manifestInfo.isDynamic,ce=!1,De=!1,h.on(y.default.DATA_UPDATE_COMPLETED,We,p),h.on(y.default.LOADING_PROGRESS,$n,p),h.on(y.default.MANIFEST_UPDATED,mn,p),h.on(y.default.STREAMS_COMPOSED,_n,p),h.on(D.default.PLAYBACK_ENDED,on,p,{priority:v.default.EVENT_PRIORITY_HIGH}),h.on(D.default.STREAM_INITIALIZING,vn,p),h.on(D.default.REPRESENTATION_SWITCH,pn,p),h.on(D.default.BUFFER_LEVEL_STATE_CHANGED,Jt,p),oe&&(oe=!1,Be())}()},setConfig:function gt(et){et&&(et.streamController&&(A=et.streamController),et.serviceDescriptionController&&(x=et.serviceDescriptionController),et.dashMetrics&&(R=et.dashMetrics),et.adapter&&(O=et.adapter),et.videoModel&&(S=et.videoModel),et.timelineConverter&&(I=et.timelineConverter),et.settings&&(Oe=et.settings))},getTimeToStreamEnd:pe,getBufferLevel:function wn(){var et=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,Dt=null;return A.getActiveStreamProcessors().forEach(function(Qt){if(!et||0===et.length||-1===et.indexOf(Qt.getType())){var Nt=Qt.getBufferLevel();Dt=null===Dt?Nt:Math.min(Dt,Nt)}}),Dt},getPlaybackStalled:function Me(){return ce},getTime:we,getLowLatencyModeEnabled:function Nn(){return ae},getInitialCatchupModeActivated:function yn(){return be},getIsManifestUpdateInProgress:function Se(){return Te},getPlaybackRate:ne,getPlayedRanges:function X(){return B&&S?S.getPlayedRanges():null},getEnded:re,getIsDynamic:J,getStreamController:function ge(){return A},computeAndSetLiveDelay:function tt(et,Dt){var Qt,Nt,xn,Pt=!isNaN(et)&&isFinite(et)?et:NaN,en=O.getSuggestedPresentationDelay(),An=x.getServiceDescriptionSettings();return Qt=isNaN(Oe.get().streaming.delay.liveDelay)?null===Oe.get().streaming.delay.liveDelayFragmentCount||isNaN(Oe.get().streaming.delay.liveDelayFragmentCount)||isNaN(Pt)?An&&!isNaN(An.liveDelay)&&An.liveDelay>0?An.liveDelay:!0===Oe.get().streaming.delay.useSuggestedPresentationDelay&&null!==en&&!isNaN(en)&&en>0?en:isNaN(Pt)?Dt&&!isNaN(Dt.minBufferTime)?4*Dt.minBufferTime:4*B.manifestInfo.minBufferTime:4*Pt:Pt*Oe.get().streaming.delay.liveDelayFragmentCount:Oe.get().streaming.delay.liveDelay,null!==(xn=O.getAvailabilityStartTime())&&(Re=xn),Nt=Dt&&Dt.dvrWindowSize>0?Math.min(Qt,Dt.dvrWindowSize):Qt,L=Nt,b=Nt,Nt},getLiveDelay:function Fe(){return L},getOriginalLiveDelay:function ct(){return b},getCurrentLiveLatency:function qe(){if(!Z||isNaN(Re))return NaN;var et=we();if(isNaN(et)||0===et)return 0;var Dt=(new Date).getTime()+1e3*I.getClientTimeOffset();return Math.max(((Dt-Re-1e3*et)/1e3).toFixed(3),0)},play:Be,isPaused:q,isStalled:Q,pause:at,isSeeking:$,getStreamEndTime:Ie,seek:Xe,seekToOriginalLive:function je(){var et=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Dt=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Qt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Nt=ee();0!==Nt&&Xe(Nt-(L=b),et,Dt,Qt)},seekToCurrentLive:function Ne(){var et=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Dt=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Qt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Nt=ee();0!==Nt&&Xe(Nt-L,et,Dt,Qt)},reset:ye,updateCurrentTime:Qe,getAvailabilityStartTime:function Ee(){return Re}},function ie(){C=Object(P.default)(d).getInstance().getLogger(p),ye()}(),p}c.__dashjs_factory_name="PlaybackController",g.default=m.default.getSingletonFactory(c)},"./src/streaming/controllers/ScheduleController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/ScheduleController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),y=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),m=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),P=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),D=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),f=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),i=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function c(d){d=d||{};var b,B,Z,oe,le,Re,Y,ae,G,De,ce,Te,be,h=this.context,p=Object(y.default)(h).getInstance(),C=d.dashMetrics,A=d.mediaPlayerModel,x=d.fragmentModel,R=d.abrController,O=d.playbackController,S=d.textController,I=d.type,E=d.bufferController,L=d.settings;function Me(yt){if(!E.getIsBufferingCompleted()){pe();var Et=isNaN(yt)?0:yt;Re=setTimeout(Be,Et)}}function pe(){Re&&(clearTimeout(Re),Re=null)}function Be(){try{if(function Xe(){try{return I===t.default.TEXT&&!S.isTextEnabled()||O.isPaused()&&(!O.getStreamController().getInitialPlayback()||!O.getStreamController().getAutoPlay())&&!L.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void pe();if(function je(){try{return oe&&(isNaN(De)||ce||function Ie(){var Et=R.getMaxAllowedIndexFor(I,B.id);return!(!isNaN(G)&&G==Et||(Z.info("Top quality "+I+" index has changed from "+G+" to "+Et),G=Et,0))}()||function Ne(){return!I||!oe||C.getCurrentBufferLevel(I)<ee()}())}catch{return!1}}()){var yt=!1;be&&(yt=R.checkPlaybackQuality(I,B.id)),yt||function at(){Te||oe.quality!==De||ce?(ce?(Z.debug("Switch track for "+I+", representation id = "+oe.id),ce=!1):Z.debug("Quality has changed, get init request for representationid = "+oe.id),p.trigger(m.default.INIT_FRAGMENT_NEEDED,{representationId:oe.id,sender:b},{streamId:B.id,mediaType:I}),be=!1,Te=!1):(Z.debug("Media segment needed for ".concat(I," and stream id ").concat(B.id)),p.trigger(m.default.MEDIA_FRAGMENT_NEEDED,{},{streamId:B.id,mediaType:I}),be=!0)}()}else Me(O.getLowLatencyModeEnabled()?L.get().streaming.scheduling.lowLatencyTimeout:L.get().streaming.scheduling.defaultTimeout)}catch{Me(O.getLowLatencyModeEnabled()?L.get().streaming.scheduling.lowLatencyTimeout:L.get().streaming.scheduling.defaultTimeout)}}function ee(){var yt=NaN;return!I||!oe||(yt=I===t.default.TEXT?function fe(){try{if(S.isTextEnabled()){if(isNaN(oe.fragmentDuration)){var yt=C.getCurrentSchedulingInfo(f.default.SCHEDULING_INFO);return yt?yt.duration:0}return oe.fragmentDuration}return 0}catch{return 0}}():I===t.default.AUDIO&&Y?function we(){try{var yt=C.getCurrentBufferLevel(t.default.VIDEO);return isNaN(oe.fragmentDuration)?yt+1:Math.max(yt+1,oe.fragmentDuration)}catch{return 0}}():function q(){try{var yt=oe.mediaInfo.streamInfo;return R.isPlayingAtTopQuality(yt)?yt.manifestInfo.duration>=L.get().streaming.buffer.longFormContentDurationThreshold?L.get().streaming.buffer.bufferTimeAtTopQualityLongForm:L.get().streaming.buffer.bufferTimeAtTopQuality:A.getStableBufferTime()}catch{return A.getStableBufferTime()}}()),yt}function ne(){X(!0)}function X(yt){if(O&&x){var Et=x.getRequests({state:v.default.FRAGMENT_MODEL_EXECUTED,time:O.getTime(),threshold:0})[0];Et&&O.getTime()>=Et.startTime&&((!ae.mediaInfo||Et.mediaInfo.type===ae.mediaInfo.type&&Et.mediaInfo.id!==ae.mediaInfo.id)&&yt&&p.trigger(m.default.TRACK_CHANGE_RENDERED,{mediaType:I,oldMediaInfo:ae.mediaInfo,newMediaInfo:Et.mediaInfo,streamId:B.id}),(Et.quality!==ae.quality||Et.adaptationIndex!==ae.adaptationIndex)&&yt&&(Z.debug("Quality change rendered for streamId ".concat(B.id," and type ").concat(I)),p.trigger(m.default.QUALITY_CHANGE_RENDERED,{mediaType:I,oldQuality:ae.quality,newQuality:Et.quality,streamId:B.id})),ae={mediaInfo:Et.mediaInfo,quality:Et.quality,adaptationIndex:Et.adaptationIndex})}}function re(yt){Z.debug("Appended bytes for ".concat(yt.mediaType," and stream id ").concat(B.id)),(isNaN(yt.index)||isNaN(De))&&(De=yt.quality,Z.info("["+I+"] lastInitializedRepresentationInfo changed to "+yt.quality)),Me(0)}function J(){x.abortRequests(),pe()}function ge(){L.get().streaming.scheduling.scheduleWhilePaused||Me()}function Se(yt){C.updatePlayListTraceMetrics({playbackspeed:yt.playbackRate.toString()})}function tt(){be=!0,le=0,De=NaN,ae={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},G=NaN,ce=!1,Te=!1}return b={initialize:function ie(yt){Y=yt,p.on(m.default.BYTES_APPENDED_END_FRAGMENT,re,b),p.on(m.default.URL_RESOLUTION_FAILED,J,b),p.on(i.default.PLAYBACK_STARTED,ge,b),p.on(i.default.PLAYBACK_RATE_CHANGED,Se,b),p.on(i.default.PLAYBACK_TIME_UPDATED,ne,b)},getType:function ye(){return I},getStreamId:function Ce(){return B.id},setCurrentRepresentation:function de(yt){oe=yt},setTimeToLoadDelay:function Ee(yt){le=yt},getTimeToLoadDelay:function Fe(){return le},setSwitchTrack:function $(yt){ce=yt},getSwitchStrack:function Q(){return ce},startScheduleTimer:Me,clearScheduleTimer:pe,reset:function gt(){p.off(m.default.BYTES_APPENDED_END_FRAGMENT,re,b),p.off(m.default.URL_RESOLUTION_FAILED,J,b),p.off(i.default.PLAYBACK_STARTED,ge,b),p.off(i.default.PLAYBACK_RATE_CHANGED,Se,b),p.off(i.default.PLAYBACK_TIME_UPDATED,ne,b),pe(),X(!1),tt(),B=null},getBufferTarget:ee,getPlaybackController:function Qe(){return O},setCheckPlaybackQuality:function ct(yt){be=yt},setInitSegmentRequired:function qe(yt){Te=yt}},function Oe(){Z=Object(D.default)(h).getInstance().getLogger(b),tt(),B=d.streamInfo}(),b}c.__dashjs_factory_name="ScheduleController",g.default=P.default.getClassFactory(c)},"./src/streaming/controllers/StreamController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/StreamController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),y=e(
/*! ../Stream */
"./src/streaming/Stream.js"),m=e(
/*! ../ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),P=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),D=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),f=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),i=e(
/*! ../vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),c=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),d=e(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),h=e(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),p=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),C=e(
/*! ./TimeSyncController */
"./src/streaming/controllers/TimeSyncController.js"),A=e(
/*! ./MediaSourceController */
"./src/streaming/controllers/MediaSourceController.js"),x=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),R=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),O=e(
/*! ./EventController */
"./src/streaming/controllers/EventController.js"),S=e(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function I(Y){return function B(Y){if(Array.isArray(Y))return Z(Y)}(Y)||function b(Y){if(typeof Symbol<"u"&&null!=Y[Symbol.iterator]||null!=Y["@@iterator"])return Array.from(Y)}(Y)||function L(Y,ae){if(Y){if("string"==typeof Y)return Z(Y,ae);var G=Object.prototype.toString.call(Y).slice(8,-1);if("Object"===G&&Y.constructor&&(G=Y.constructor.name),"Map"===G||"Set"===G)return Array.from(Y);if("Arguments"===G||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return Z(Y,ae)}}(Y)||function E(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(Y,ae){(null==ae||ae>Y.length)&&(ae=Y.length);for(var G=0,De=new Array(ae);G<ae;G++)De[G]=Y[G];return De}function Re(){var G,De,ce,Te,be,Oe,ie,ye,Ce,de,Me,pe,Ie,Be,at,Xe,je,Ne,ee,fe,we,q,$,Q,ne,X,re,J,ge,Se,Ee,Fe,ct,qe,tt,gt,Qe,yt,Et,me,We,Tt,Kt,Jt,Xt,un,fn,It,vt,Y=this.context,ae=Object(P.default)(Y).getInstance();function lt(){if(!(Oe&&Oe.hasOwnProperty("load")&&q&&q.hasOwnProperty("initialize")&&q.hasOwnProperty("reset")&&q.hasOwnProperty("getClientTimeOffset")&&ie&&we&&Ce&&qe))throw new Error(t.default.MISSING_CONFIG_ERROR)}function on(){!function tn(){try{var Dn=ye.getStreamsInfo();if(!Q&&0===Dn.length)throw new Error("There are no periods in the MPD");Q&&Dn.length>0&&Ce.updateManifestUpdateInfo({currentTime:qe.getTime(),buffered:ct.getBufferRange(),presentationStartTime:Dn[0].start,clientTimeOffset:q.getClientTimeOffset()}),$.length>0&&function Vo(Dn){0!==Dn.length?$=$.filter(function(Xn){var li=Dn.filter(function(Ui){return Ui.id===Xn.getId()}).length>0||Xn.getId()===Q.getId();return li||(De.debug("Removing stream ".concat(Xn.getId())),Xn.reset(!0)),li}):De.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(Dn);for(var Xn=[],hi=0,li=Dn.length;hi<li;hi++){var Ui=Dn[hi];Xn.push(Mn(Ui)),Ce.addManifestUpdateStreamInfo(Ui)}Promise.all(Xn).then(function(){return Xt.get().streaming.applyContentSteering&&!Q&&pe.shouldQueryBeforeStart()?pe.loadSteeringData():Promise.resolve()}).then(function(){Q||wn(Dn),ae.trigger(D.default.STREAMS_COMPOSED),An()}).catch(function(Ji){throw Ji})}catch(Ji){we.error(new x.default(R.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Ji.message+" nostreamscomposed",ie.getValue())),Ee=!0,Mo()}}()}function En(){un=!0}function Mn(Dn){var Xn=Cr(Dn.id);return Xn?Xn.updateData(Dn):(Xn=Object(y.default)(Y).create({manifestModel:ie,mediaPlayerModel:gt,dashMetrics:Ce,manifestUpdater:be,adapter:ye,timelineConverter:q,capabilities:ce,capabilitiesFilter:Te,errHandler:we,baseURLController:Ie,segmentBaseController:Be,textController:X,abrController:Xe,playbackController:qe,eventController:Ne,mediaController:je,protectionController:ne,videoModel:ct,streamInfo:Dn,settings:Xt}),$.push(Xn),Xn.initialize(),Promise.resolve())}function wn(Dn){Dt();var Xn=Ce.getCurrentDVRInfo().range;if(Xn.end<Xn.start){fn&&clearTimeout(fn);var hi=Math.min(1e3*(-1*(Xn.end-Xn.start)+2),2147483647);return De.debug("Waiting for ".concat(hi," ms before playback can start")),ae.trigger(D.default.AST_IN_FUTURE,{delay:hi}),void(fn=setTimeout(function(){wn(Dn)},hi))}Xt.get().streaming.applyProducerReferenceTime&&tt.calculateProducerReferenceTimeOffsets(Dn);var li=Dn[0].manifestInfo;if(Xt.get().streaming.applyServiceDescription&&tt.applyServiceDescription(li),ye.getIsDynamic()){var Ui=Do(Dn,li);qe.computeAndSetLiveDelay(Ui,li)}var Ji=function Zr(){var Dn;if(ye.getIsDynamic()){var hi=Ce.getCurrentDVRInfo();Dn=(hi&&hi.range?hi.range.end:0)-qe.getOriginalLiveDelay();var Ui=hi?hi.range:null;if(Ui){if(isNaN(It)&&-1===It.toString().indexOf("posix:")){var rr=Gr(!0);isNaN(rr)||(De.info("Start time from URI parameters: ".concat(rr)),Dn=Math.min(Dn,rr))}else{De.info("Start time provided by the app: ".concat(It));var Ji=ki(!0,It);isNaN(Ji)||(Dn=Math.min(Dn,Ji))}var Ki=Xt.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;Dn=Math.max(Dn,Ui.start+Ki)}}else if(Dn=po()[0].getStreamInfo().start,isNaN(It)){var ko=Gr(!1);isNaN(ko)||(De.info("Start time from URI parameters: ".concat(ko)),Dn=Math.max(Dn,ko))}else{De.info("Start time provided by the app: ".concat(It));var Lo=ki(!1,It);isNaN(Lo)||(Dn=Math.max(Dn,Lo))}return Dn}(),rr=et(Ji),Ki=null!==rr?rr:$[0];ae.trigger(D.default.INITIAL_STREAM_SWITCH,{startTime:Ji}),Nn(Ki,null,Ji),function Vn(){We||(We=setInterval(function(){!ge&&qe.getTimeToStreamEnd()<=0&&!qe.isSeeking()&&ae.trigger(D.default.PLAYBACK_ENDED,{isLast:co().isLast})},200))}()}function Nn(Dn,Xn,hi){try{if(ge||!Dn||Xn===Dn&&Dn.getIsActive())return;ge=!0,ae.trigger(D.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:Xn?Xn.getStreamInfo():null,toStreamInfo:Dn.getStreamInfo()});var li=!1;Q=Dn,Xn&&(li=ht(Dn,Xn),Xn.deactivate(li)),hi=isNaN(hi)?!li&&Xn?Dn.getStreamInfo().start:NaN:hi,De.info("Switch to stream ".concat(Dn.getId(),". Seektime is ").concat(hi,", current playback time is ").concat(qe.getTime(),". Seamless period switch is set to ").concat(li)),Kt=Kt.filter(function(Ui){return Ui.getId()!==Q.getId()}),qe.initialize(co(),!!Xn),ct.getElement()&&$n(hi,li)}catch{ge=!1}}function $n(Dn,Xn){var hi;function li(){if(Fe&&"open"===Fe.readyState){De.debug("MediaSource is open!"),window.URL.revokeObjectURL(hi),Fe.removeEventListener("sourceopen",li),Fe.removeEventListener("webkitsourceopen",li),ln();var Ji=Ce.getCurrentDVRInfo();de.setSeekable(Ji.range.start,Ji.range.end),ti(Dn,Xn)}}function Ui(){Fe.addEventListener("sourceopen",li,!1),Fe.addEventListener("webkitsourceopen",li,!1),hi=de.attachMediaSource(ct),De.debug("MediaSource attached to element.  Waiting on open...")}Fe?Xn?ti(Dn,Xn):(de.detachMediaSource(ct),Ui()):(Fe=de.createMediaSource(),Ui())}function ti(Dn,Xn){Q.activate(Fe,Xn?Tt:void 0,Dn).then(function(hi){if(hi){var li=Object.keys(hi);li.length>0&&hi[li[0]].getBuffer().changeType&&(Jt=!0),Tt=hi}isNaN(Dn)||(ae.trigger(D.default.SEEK_TARGET,{time:Dn},{streamId:Q.getId()}),qe.seek(Dn,!1,!0),Q.startScheduleControllers()),ge=!1,ae.trigger(D.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:co()})})}function vn(Dn){var hi=et(Dn.seekTime);hi&&hi!==Q?hi&&hi!==Q&&(pn(),function _n(Dn,Xn){var hi=Dn&&!isNaN(Dn.seekTime)?Dn.seekTime:NaN,Ui=Q.getProcessors().map(function(Ji){return Ji.prepareOuterPeriodPlaybackSeeking(Dn)});Promise.all(Ui).then(function(){Nn(Xn,Q,hi)}).catch(function(Ji){we.error(Ji)})}(Dn,hi)):(pn(),function mn(Dn){Q.getProcessors().forEach(function(hi){return hi.prepareInnerPeriodPlaybackSeeking(Dn)}),lo(i.PlayListTrace.USER_REQUEST_STOP_REASON)}(Dn)),jr(i.PlayList.SEEK_START_REASON)}function pn(){yn()}function yn(){Kt&&Kt.length>0&&(Kt.forEach(function(Dn){Dn.deactivate(!0)}),Kt=[])}function Mt(Dn){Dn.newMediaInfo.streamInfo.id===Q.getId()&&(yn(),Q.prepareTrackChange(Dn))}function ht(Dn,Xn){try{return Xt.get().streaming.buffer.reuseExistingSourceBuffers&&(Xn.isProtectionCompatible(Dn)||un)&&(Jt||Xn.isMediaCodecCompatible(Dn,Xn))}catch{return!1}}function Tn(Dn){var Xn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Fe&&!Dn.getPreloaded()&&ht(Dn,Xn)&&Dn.startPreloading(Fe,Tt).then(function(){Kt.push(Dn)})}function et(Dn){if(isNaN(Dn))return null;for(var Xn=$.length,hi=0;hi<Xn;hi++){var li=$[hi];if(Dn<parseFloat((li.getStartTime()+li.getDuration()).toFixed(5)))return li}return null}function Dt(){try{var Dn=ye.getIsDynamic(),hi=ye.getStreamsInfo()[0].manifestInfo,li=qe.getTime(),Ui=q.calcTimeShiftBufferWindow($,Dn),Ji=Pn();if(typeof Ui.start>"u"||typeof Ui.end>"u")return;Ji&&0!==Ji.length?Ji.forEach(function(rr){Ce.addDVRInfo(rr.getType(),li,hi,Ui)}):Ce.addDVRInfo(t.default.VIDEO,li,hi,Ui)}catch{}}function Qt(Dn){if(Et&&J){var Xn=gt.getInitialBufferLevel(),hi=[t.default.TEXT];(isNaN(Xn)||Xn<=qe.getBufferLevel(hi)||ye.getIsDynamic()&&Xn>qe.getLiveDelay())&&(Et=!1,jr(i.PlayList.INITIAL_PLAYOUT_START_REASON),qe.play())}Dn&&Dn.mediaType&&Ce.addBufferLevel(Dn.mediaType,new Date,1e3*Dn.bufferLevel)}function Nt(Dn){Dn.streamInfo.id===Q.getId()&&Dn.reason&&Dn.reason.forceReplace&&yn(),Cr(Dn.streamInfo.id).prepareQualityChange(Dn)}function xn(){if(ye.getIsDynamic()&&0!==qe.getOriginalLiveDelay()&&Q){var Dn=ye.getStreamsInfo();if(Dn.length>0){var Xn=Dn[0].manifestInfo,hi=Do(Dn,Xn);qe.computeAndSetLiveDelay(hi,Xn)}}}function kt(){if(Yi()){var Dn=ct.getPlaybackQuality();Dn&&Ce.addDroppedFrames(Dn)}}function wt(){De.debug("[onPlaybackStarted]"),!Et&&yt&&jr(i.PlayList.RESUME_FROM_PAUSE_START_REASON),Et&&(Et=!1),me&&(me=!1,Xt.get().streaming.applyContentSteering&&!pe.shouldQueryBeforeStart()&&pe.loadSteeringData()),yt=!1}function Pt(Dn){De.debug("[onPlaybackPaused]"),Dn.ended||(yt=!0,lo(i.PlayListTrace.USER_REQUEST_STOP_REASON))}function en(Dn){De.debug("Stream with id ".concat(Dn.streamInfo.id," finished buffering")),Fe&&Dn.streamInfo.isLast?(De.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),de.signalEndOfStream(Fe)):An()}function An(){if(Q&&Q.getHasFinishedBuffering())for(var Dn=function Rt(){var Dn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var Xn=Dn||Q||null;if(Xn){var hi=Xn.getStreamInfo();return $.filter(function(li){var Ui=li.getStreamInfo();return Ui.start>hi.start&&hi.id!==Ui.id})}}catch{return[]}}(Q),Xn=0;Xn<Dn.length;){var hi=Dn[Xn],li=0===Xn?Q:Dn[Xn-1];!hi.getPreloaded()&&li.getHasFinishedBuffering()&&Fe&&Tn(hi,li),Xn+=1}}function ii(){We&&(clearInterval(We),We=null)}function Pn(){return Q?Q.getProcessors():[]}function Le(Dn){if(Q&&!Q.getIsEndedEventSignaled()){Q.setIsEndedEventSignaled(!0);var Xn=function Bt(){var Xn=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||Q||null;if(!Xn)return null;for(var hi=Xn.getStreamInfo(),li=hi.start,Ui=0,Ji=-1,rr=NaN;Ui<$.length;){var Ir=$[Ui].getStreamInfo(),Io=Ir.start-li;Io>0&&(isNaN(rr)||Io<rr)&&hi.id!==Ir.id&&(rr=Io,Ji=Ui),Ui+=1}return Ji>=0?$[Ji]:null}();Xn?(De.debug("StreamController onEnded, found next stream with id ".concat(Xn.getStreamInfo().id,". Switching from ").concat(Q.getStreamInfo().id," to ").concat(Xn.getStreamInfo().id)),Nn(Xn,Q,NaN)):(De.debug("StreamController no next stream found"),Q.setIsEndedEventSignaled(!1)),lo(Xn?i.PlayListTrace.END_OF_PERIOD_STOP_REASON:i.PlayListTrace.END_OF_CONTENT_STOP_REASON)}Dn&&Dn.isLast&&(ii(),pe.stopSteeringRequestTimer())}function ln(Dn){var Xn=Dn||co().manifestInfo.duration;de.setDuration(Xn)}function Gr(Dn){var Xn=at.getURIFragmentData();if(!Xn||!Xn.t)return NaN;var li=po()[0].getStreamInfo().start;return Xn.t=Xn.t.split(",")[0],wi(Dn,Xn.t,li)}function ki(Dn,Xn){var hi=0;return Dn||(hi=po()[0].getStreamInfo().start),wi(Dn,Xn,hi)}function wi(Dn,Xn,hi){var li=ye.getRegularPeriods()[0],Ui=Xn.toString(),Ji=-1!==Ui.indexOf("posix:")?"now"===Ui.substring(6)?Date.now()/1e3:parseFloat(Ui.substring(6)):NaN;return Dn&&!isNaN(Ji)?q.calcPresentationTimeFromWallTime(new Date(1e3*Ji),li):parseFloat(Ui)+hi}function Do(Dn,Xn){try{var hi=NaN;if(Xn&&!isNaN(Xn.maxFragmentDuration)&&isFinite(Xn.maxFragmentDuration))return Xn.maxFragmentDuration;if(Dn&&1===Dn.length){var li=Dn[0],Ji=[t.default.VIDEO,t.default.AUDIO,t.default.TEXT].reduce(function(rr,Ki){var Ir=ye.getMediaInfoForType(li,Ki);return Ir&&!1!==Ir.isFragmented&&rr.push(Ir),rr},[]).reduce(function(rr,Ki){var Ir=ye.getVoRepresentations(Ki);return Ir&&Ir.length>0&&Ir.forEach(function(Io){Io&&rr.push(Io)}),rr},[]).reduce(function(rr,Ki){var Ir=ye.convertRepresentationToRepresentationInfo(Ki);return Ir&&Ir.fragmentDuration&&!isNaN(Ir.fragmentDuration)&&rr.push(Ir.fragmentDuration),rr},[]);hi=Math.max.apply(Math,I(Ji))}return isFinite(hi)?hi:NaN}catch{return NaN}}function _s(Dn){if(Dn.error)Ee=!0,Mo();else{De.info("Manifest updated... updating data system wide.");var Xn=Dn.manifest;ye.updatePeriods(Xn);var hi=ye.getUTCTimingSources();ye.getIsDynamic()&&(!hi||0===hi.length)&&ae.trigger(p.default.CONFORMANCE_VIOLATION,{level:S.default.LEVELS.WARNING,event:S.default.EVENTS.NO_UTC_TIMING_ELEMENT});var li=ye.getIsDynamic()?hi.concat(Qe.getUTCTimingSources()):hi,Ui=fe.isHTTPS(Dn.manifest.url);li.forEach(function(Ji){Ji.value.replace(/.*?:\/\//g,"")===Xt.get().streaming.utcSynchronization.defaultTimingSource.value.replace(/.*?:\/\//g,"")&&(Ji.value=Ji.value.replace(Ui?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),Ui?"https://":"http://"),De.debug("Matching default timing source protocol to manifest protocol: ",Ji.value))}),Te.filterUnsupportedFeatures(Xn).then(function(){Ie.initialize(Xn),Me.attemptSync(li,ye.getIsDynamic())})}}function Yi(){return!!Q&&Q.getHasVideoTrack()}function Hr(){return!!Q&&Q.getHasAudioTrack()}function lo(Dn,Xn){Xn=Xn||new Date,Pn().forEach(function(hi){hi.finalisePlayList(Xn,Dn)}),Ce.addPlayList()}function jr(Dn){Ce.createPlaylistMetrics(1e3*qe.getTime(),Dn)}function os(Dn){if(Dn.error){var Xn="";switch(Dn.error.code){case 1:Xn="MEDIA_ERR_ABORTED";break;case 2:Xn="MEDIA_ERR_NETWORK";break;case 3:Xn="MEDIA_ERR_DECODE",vt.counts.mediaErrorDecode+=1;break;case 4:Xn="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:Xn="MEDIA_ERR_ENCRYPTED";break;default:Xn="UNKNOWN"}if("MEDIA_ERR_DECODE"===Xn&&Xt.get().errors.recoverAttempts.mediaErrorDecode>=vt.counts.mediaErrorDecode)return void function xr(){De.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var Dn=qe.getTime();Q.deactivate(!1),De.warn("MediaSource has been resetted. Resuming playback from time ".concat(Dn)),$n(Dn,!1)}();Se=!0,Dn.error.message&&(Xn+=" ("+Dn.error.message+")"),Dn.error.msExtendedCode&&(Xn+=" (0x"+(Dn.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),De.fatal("Video Element Error: "+Xn),Dn.error&&De.fatal(Dn.error),we.error(new x.default(Dn.error.code,Xn)),Mo()}}function co(){return Q?Q.getStreamInfo():null}function Cr(Dn){for(var Xn=0,hi=$.length;Xn<hi;Xn++)if($[Xn].getId()===Dn)return $[Xn];return null}function yi(Dn){isNaN(Dn.newDuration)||ln(Dn.newDuration)}function Vr(){$=[],It=NaN,ne=null,ge=!1,Q=null,Se=!1,Ee=!1,Et=!0,me=!0,yt=!1,J=!0,We=null,un=!1,Jt=!1,Kt=[],fn=null,vt={counts:{mediaErrorDecode:0}}}function Mo(){lt(),Me.reset(),lo(Se||Ee?i.PlayListTrace.FAILURE_STOP_REASON:i.PlayListTrace.USER_REQUEST_STOP_REASON);for(var Dn=0,Xn=$?$.length:0;Dn<Xn;Dn++)$[Dn].reset(Se);(function st(){ae.off(p.default.PLAYBACK_TIME_UPDATED,kt,G),ae.off(p.default.PLAYBACK_SEEKING,vn,G),ae.off(p.default.PLAYBACK_ERROR,os,G),ae.off(p.default.PLAYBACK_STARTED,wt,G),ae.off(p.default.PLAYBACK_PAUSED,Pt,G),ae.off(p.default.PLAYBACK_ENDED,Le,G),ae.off(p.default.METRIC_ADDED,zr,G),ae.off(p.default.MANIFEST_VALIDITY_CHANGED,yi,G),ae.off(p.default.BUFFER_LEVEL_UPDATED,Qt,G),ae.off(p.default.QUALITY_CHANGE_REQUESTED,Nt,G),D.default.KEY_SESSION_UPDATED&&ae.off(D.default.KEY_SESSION_UPDATED,En,G),ae.off(D.default.MANIFEST_UPDATED,_s,G),ae.off(D.default.STREAM_BUFFERING_COMPLETED,en,G),ae.off(D.default.TIME_SYNCHRONIZATION_COMPLETED,on,G),ae.off(D.default.CURRENT_TRACK_CHANGED,Mt,G),ae.off(D.default.SETTING_UPDATED_LIVE_DELAY,xn,G),ae.off(D.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,xn,G)})(),Ie.reset(),be.reset(),Ne.reset(),Ce.clearAllCurrentMetrics(),ie.setValue(null),Oe.reset(),q.reset(),ee.reset(),Fe&&(de.detachMediaSource(ct),Fe=null),ct=null,ne&&(ne=null,re=null,ie.getValue()&&ae.trigger(D.default.PROTECTION_DESTROYED,{data:ie.getValue().url})),ii(),ae.trigger(D.default.STREAM_TEARDOWN_COMPLETE),Vr()}function zr(Dn){if(Dn.metric===v.default.DVR_INFO){var Xn=Hr()?t.default.AUDIO:t.default.VIDEO;Dn.mediaType===Xn&&de.setSeekable(Dn.value.range.start,Dn.value.range.end)}}function po(){return $}return G={initialize:function He(Dn,Xn){lt(),J=Dn,re=Xn,q.initialize(),(be=Object(m.default)(Y).create()).setConfig({manifestModel:ie,adapter:ye,manifestLoader:Oe,errHandler:we,settings:Xt}),be.initialize(),(Ne=Object(O.default)(Y).getInstance()).setConfig({manifestUpdater:be,playbackController:qe,settings:Xt}),Ne.start(),Me.setConfig({dashMetrics:Ce,baseURLController:Ie,errHandler:we,settings:Xt}),Me.initialize(),ne&&(ae.trigger(D.default.PROTECTION_CREATED,{controller:ne}),ne.setMediaElement(ct.getElement()),re&&ne.setProtectionData(re)),function Ze(){ae.on(p.default.PLAYBACK_TIME_UPDATED,kt,G),ae.on(p.default.PLAYBACK_SEEKING,vn,G),ae.on(p.default.PLAYBACK_ERROR,os,G),ae.on(p.default.PLAYBACK_STARTED,wt,G),ae.on(p.default.PLAYBACK_PAUSED,Pt,G),ae.on(p.default.PLAYBACK_ENDED,Le,G),ae.on(p.default.METRIC_ADDED,zr,G),ae.on(p.default.MANIFEST_VALIDITY_CHANGED,yi,G),ae.on(p.default.BUFFER_LEVEL_UPDATED,Qt,G),ae.on(p.default.QUALITY_CHANGE_REQUESTED,Nt,G),D.default.KEY_SESSION_UPDATED&&ae.on(D.default.KEY_SESSION_UPDATED,En,G),ae.on(D.default.MANIFEST_UPDATED,_s,G),ae.on(D.default.STREAM_BUFFERING_COMPLETED,en,G),ae.on(D.default.TIME_SYNCHRONIZATION_COMPLETED,on,G),ae.on(D.default.CURRENT_TRACK_CHANGED,Mt,G),ae.on(D.default.SETTING_UPDATED_LIVE_DELAY,xn,G),ae.on(D.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,xn,G)}()},getActiveStreamInfo:co,addDVRMetric:Dt,hasVideoTrack:Yi,hasAudioTrack:Hr,getStreamById:Cr,getStreamForTime:et,getTimeRelativeToStreamId:function Ft(Dn,Xn){for(var hi=null,li=0,Ui=0,Ji=null,rr=0;rr<$.length;rr++){if(Ui=(hi=$[rr]).getStartTime(),Ji=hi.getDuration(),Number.isFinite(Ui)&&(li=Ui),hi.getId()===Xn)return Dn-li;Number.isFinite(Ji)&&(li+=Ji)}return null},load:function bt(Dn){var Xn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;lt(),It=Xn,Oe.load(Dn)},loadWithManifest:function At(Dn){var Xn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;(function St(){if(!be||!be.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),It=Xn,be.setManifest(Dn)},getActiveStreamProcessors:Pn,setConfig:function $i(Dn){Dn&&(Dn.capabilities&&(ce=Dn.capabilities),Dn.capabilitiesFilter&&(Te=Dn.capabilitiesFilter),Dn.manifestLoader&&(Oe=Dn.manifestLoader),Dn.manifestModel&&(ie=Dn.manifestModel),Dn.mediaPlayerModel&&(gt=Dn.mediaPlayerModel),Dn.customParametersModel&&(Qe=Dn.customParametersModel),Dn.protectionController&&(ne=Dn.protectionController),Dn.adapter&&(ye=Dn.adapter),Dn.dashMetrics&&(Ce=Dn.dashMetrics),Dn.errHandler&&(we=Dn.errHandler),Dn.timelineConverter&&(q=Dn.timelineConverter),Dn.videoModel&&(ct=Dn.videoModel),Dn.playbackController&&(qe=Dn.playbackController),Dn.serviceDescriptionController&&(tt=Dn.serviceDescriptionController),Dn.contentSteeringController&&(pe=Dn.contentSteeringController),Dn.textController&&(X=Dn.textController),Dn.abrController&&(Xe=Dn.abrController),Dn.mediaController&&(je=Dn.mediaController),Dn.settings&&(Xt=Dn.settings),Dn.baseURLController&&(Ie=Dn.baseURLController),Dn.uriFragmentModel&&(at=Dn.uriFragmentModel),Dn.segmentBaseController&&(Be=Dn.segmentBaseController))},setProtectionData:function Pr(Dn){re=Dn,ne&&ne.setProtectionData(re)},getIsStreamSwitchInProgress:function Xo(){return ge},switchToVideoElement:function tr(Dn){Q&&(qe.initialize(co()),$n(Dn,!1))},getHasMediaOrInitialisationError:function As(){return Se||Ee},getStreams:po,getActiveStream:function Fn(){return Q},getInitialPlayback:function vi(){return Et},getAutoPlay:function vr(){return J},reset:Mo},function it(){De=Object(c.default)(Y).getInstance().getLogger(G),Me=Object(C.default)(Y).getInstance(),de=Object(A.default)(Y).getInstance(),ee=Object(d.default)(Y).getInstance(),fe=Object(h.default)(Y).getInstance(),Vr()}(),G}Re.__dashjs_factory_name="StreamController",g.default=f.default.getSingletonFactory(Re)},"./src/streaming/controllers/TimeSyncController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/TimeSyncController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),v=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),y=e(
/*! ./../../core/EventBus */
"./src/core/EventBus.js"),m=e(
/*! ./../../core/events/Events */
"./src/core/events/Events.js"),P=e(
/*! ./../../core/errors/Errors */
"./src/core/errors/Errors.js"),D=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),f=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),i=e(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function O(){var b,B,Z,oe,le,Re,Y,ae,G,De,ce,Te,be,Oe,ie,ye,I=this.context,E=Object(y.default)(I).getInstance(),L=Object(i.default)(I).getInstance();function Me(){ae=[],G=[],De=null,ce=null,be=null,Te=NaN,Z=!1,oe=!1,Oe=le.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function Be(){!le.get().streaming.utcSynchronization.enabled||Z||oe||!be||!be.value||!be.schemeIdUri||isNaN(Te)||isNaN(le.get().streaming.utcSynchronization.backgroundAttempts)||ce&&(Date.now()-ce)/1e3<30||(ae=[],oe=!0,at(isNaN(le.get().streaming.utcSynchronization.backgroundAttempts)?2:le.get().streaming.utcSynchronization.backgroundAttempts))}function at(qe){try{if(qe<=0)return void Ee();var tt=Date.now();Re[be.schemeIdUri](be.value,function(gt){var Qe=Date.now(),yt=je(tt,Qe,gt);ae.push(yt),at(qe-1)},function(){Ee()})}catch{Ee()}}function Xe(){var tt=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!G||0===G.length||tt>=G.length)ee();else{var gt=G[tt];if(gt)if(Re.hasOwnProperty(gt.schemeIdUri)){var Qe=(new Date).getTime();Re[gt.schemeIdUri](gt.value,function(yt){var Et=(new Date).getTime(),me=je(Qe,Et,yt);be=gt,ee(me)},function(){Xe(tt+1)})}else Xe(tt+1);else ee()}}function je(qe,tt,gt){return gt-(tt-(tt-qe)/2)}function ee(){var qe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,tt=isNaN(qe);tt&&le.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?function J(){var qe=Y.getLatestMPDRequestHeaderValueByID("Date"),tt=null!==qe?new Date(qe).getTime():Number.NaN;isNaN(tt)?ge(!0):ge(!1,tt-Date.now())}():ge(tt,qe)}function we(qe){var tt=Date.parse(qe);return isNaN(tt)&&(tt=function fe(qe){var Et,me,We=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(qe);return Et=Date.UTC(parseInt(We[1],10),parseInt(We[2],10)-1,parseInt(We[3],10),parseInt(We[4],10),parseInt(We[5],10),We[6]&&(parseInt(We[6],10)||0),We[7]&&1e3*parseFloat(We[7])||0),We[9]&&We[10]&&(me=60*parseInt(We[9],10)+parseInt(We[10],10),Et+=("+"===We[8]?-1:1)*me*60*1e3),new Date(Et).getTime()}(qe)),tt}function q(qe){return Date.parse(qe)}function $(qe){return Date.parse(qe)}function Q(qe,tt,gt){gt()}function ne(qe,tt,gt){var Qe=we(qe);isNaN(Qe)?gt():tt(Qe)}function X(qe,tt,gt,Qe,yt){var Et,me,We=!1,Tt=new XMLHttpRequest,Kt=yt?v.HTTPRequest.HEAD:v.HTTPRequest.GET,Jt=tt.match(/\S+/g);if(tt=Jt.shift(),Et=function(){We||(We=!0,Jt.length?X(qe,Jt.join(" "),gt,Qe,yt):Qe())},me=function(){var fn,It;200===Tt.status&&(fn=yt?Tt.getResponseHeader("Date"):Tt.response,It=qe(fn),isNaN(It)||(gt(It),We=!0))},L.isRelative(tt)){var Xt=ye.resolve();Xt&&(tt=L.resolve(tt,Xt.url))}Tt.open(Kt,tt),Tt.timeout=5e3,Tt.onload=me,Tt.onloadend=Et,Tt.send()}function re(qe,tt,gt){X($,qe,tt,gt,!0)}function ge(qe,tt){if(!isNaN(Te)&&!isNaN(tt)&&!qe&&function Se(qe){try{var me,tt=Fe(qe),gt=isNaN(Oe)?30:Oe,Qe=isNaN(le.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:le.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,yt=isNaN(le.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:le.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,Et=isNaN(le.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:le.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;tt?(me=Math.min(gt*Qe,yt),B.debug("Increasing timeBetweenSyncAttempts to ".concat(me))):(me=Math.max(gt/Qe,Et),B.debug("Decreasing timeBetweenSyncAttempts to ".concat(me))),Oe=me}catch{}}(tt),!qe&&!isNaN(tt)){De=Date.now(),Z=!1;var gt=isNaN(Te);Te=tt,gt&&Be(),B.debug("Completed UTC sync. Setting client - server offset to ".concat(tt))}qe&&(be=null,Z=!1,ie.error(new t.default(P.default.TIME_SYNC_FAILED_ERROR_CODE,P.default.TIME_SYNC_FAILED_ERROR_MESSAGE))),E.trigger(m.default.UPDATE_TIME_SYNC_OFFSET,{offset:tt}),E.trigger(m.default.TIME_SYNCHRONIZATION_COMPLETED)}function Ee(){if(ae&&0!==ae.length){var qe=ae.reduce(function(tt,gt){return tt+gt},0)/ae.length;Fe(qe)?B.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(B.debug("Completed background UTC sync. Setting client - server offset to ".concat(qe)),E.trigger(m.default.UPDATE_TIME_SYNC_OFFSET,{offset:Te=qe})),oe=!1,ce=Date.now()}}function Fe(qe){try{if(isNaN(Te))return!0;var tt=le.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(le.get().streaming.utcSynchronization.maximumAllowedDrift)?le.get().streaming.utcSynchronization.maximumAllowedDrift:100;return qe>=Te-tt&&qe<=Te+tt}catch{return!0}}return b={initialize:function pe(){Me(),Re={"urn:mpeg:dash:utc:http-head:2014":re,"urn:mpeg:dash:utc:http-xsdate:2014":X.bind(null,we),"urn:mpeg:dash:utc:http-iso:2014":X.bind(null,q),"urn:mpeg:dash:utc:direct:2014":ne,"urn:mpeg:dash:utc:http-head:2012":re,"urn:mpeg:dash:utc:http-xsdate:2012":X.bind(null,we),"urn:mpeg:dash:utc:http-iso:2012":X.bind(null,q),"urn:mpeg:dash:utc:direct:2012":ne,"urn:mpeg:dash:utc:http-ntp:2014":Q,"urn:mpeg:dash:utc:ntp:2014":Q,"urn:mpeg:dash:utc:sntp:2014":Q}},attemptSync:function Ie(qe,tt){if(G=qe,!Z){if(!function Ne(qe){try{if(!qe||!le.get().streaming.utcSynchronization.enabled)return!1;var tt=isNaN(Oe)?30:Oe;return!(De&&tt&&!isNaN(tt))||(Date.now()-De)/1e3>=tt}catch{return!0}}(tt))return void E.trigger(m.default.TIME_SYNCHRONIZATION_COMPLETED);Z=!0,Xe()}},setConfig:function de(qe){qe&&(qe.dashMetrics&&(Y=qe.dashMetrics),qe.baseURLController&&(ye=qe.baseURLController),qe.errHandler&&(ie=qe.errHandler),qe.settings&&(le=qe.settings))},reset:function ct(){Me(),E.off(m.default.ATTEMPT_BACKGROUND_SYNC,Be,b)}},function Ce(){B=Object(f.default)(I).getInstance().getLogger(b),E.on(m.default.ATTEMPT_BACKGROUND_SYNC,Be,b)}(),b}O.__dashjs_factory_name="TimeSyncController";var S=D.default.getSingletonFactory(O);S.HTTP_TIMEOUT_MS=5e3,D.default.updateSingletonFactory(O.__dashjs_factory_name,S),g.default=S},"./src/streaming/controllers/XlinkController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/XlinkController.js ***!
                  \******************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../XlinkLoader */
"./src/streaming/XlinkLoader.js"),v=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),y=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),m=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),P=e(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),D=e(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),f=e(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),i="onLoad";function h(p){p=p||{};var R,O,S,I,E,L,C=this.context,A=Object(v.default)(C).getInstance(),x=Object(D.default)(C).getInstance();function Re(Oe,ie,ye){var de,Me,Ce={};Ce.elements=Oe,Ce.type=ie,Ce.resolveType=ye,0===Ce.elements.length&&ae(Ce);for(var pe=0;pe<Ce.elements.length;pe++)Me=x.isHTTPURL((de=Ce.elements[pe]).url)?de.url:de.originalContent.BaseURL+de.url,L.load(Me,de,Ce)}function Y(Oe){var ie,ye,Me="";if(ye=Oe.resolveObject,(ie=Oe.element).resolvedContent){var pe=0;0===ie.resolvedContent.indexOf("<?xml")&&(pe=ie.resolvedContent.indexOf("?>")+2),Me=ie.resolvedContent.substr(0,pe)+"<response>"+ie.resolvedContent.substr(pe)+"</response>",ie.resolvedContent=E.xml_str2json(Me)}(function Te(Oe){var ie;for(ie=0;ie<Oe.elements.length;ie++)if(!1===Oe.elements[ie].resolved)return!1;return!0})(ye)&&ae(ye)}function ae(Oe){var ye,Ce,ie=[];if(function De(Oe){var ye,Ce,Me,pe,Ie,ie=[];for(Me=Oe.elements.length-1;Me>=0;Me--){if(Ce=(ye=Oe.elements[Me]).type+"_asArray",ye.resolvedContent){if(ye.resolvedContent)for(pe=0;pe<ye.resolvedContent[Ce].length;pe++)ie.push(ye.resolvedContent[Ce][pe])}else delete ye.originalContent["xlink:actuate"],delete ye.originalContent["xlink:href"],ie.push(ye.originalContent);for(ye.parentElement[Ce].splice(ye.index,1),Ie=0;Ie<ie.length;Ie++)ye.parentElement[Ce].splice(ye.index+Ie,0,ie[Ie]);ie=[]}Oe.elements.length>0&&S.run(I)}(Oe),"onActuate"===Oe.resolveType&&A.trigger(y.default.XLINK_READY,{manifest:I}),Oe.resolveType===i)switch(Oe.type){case f.default.PERIOD:for(ye=0;ye<I[f.default.PERIOD+"_asArray"].length;ye++)(Ce=I[f.default.PERIOD+"_asArray"][ye]).hasOwnProperty(f.default.ADAPTATION_SET+"_asArray")&&(ie=ie.concat(G(Ce[f.default.ADAPTATION_SET+"_asArray"],Ce,f.default.ADAPTATION_SET,i))),Ce.hasOwnProperty(f.default.EVENT_STREAM+"_asArray")&&(ie=ie.concat(G(Ce[f.default.EVENT_STREAM+"_asArray"],Ce,f.default.EVENT_STREAM,i)));Re(ie,f.default.ADAPTATION_SET,i);break;case f.default.ADAPTATION_SET:A.trigger(y.default.XLINK_READY,{manifest:I})}}function G(Oe,ie,ye,Ce){var Me,pe,Ie,de=[];for(pe=Oe.length-1;pe>=0;pe--)(Me=Oe[pe]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===Me["xlink:href"]&&Oe.splice(pe,1);for(pe=0;pe<Oe.length;pe++)(Me=Oe[pe]).hasOwnProperty("xlink:href")&&Me.hasOwnProperty("xlink:actuate")&&Me["xlink:actuate"]===Ce&&(Ie=ce(Me["xlink:href"],ie,ye,pe,Ce,Me),de.push(Ie));return de}function ce(Oe,ie,ye,Ce,de,Me){return{url:Oe,parentElement:ie,type:ye,index:Ce,resolveType:de,originalContent:Me,resolvedContent:null,resolved:!1}}return R={resolveManifestOnLoad:function oe(Oe){E=new P.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:O}),(I=Oe).Period_asArray?Re(G(I.Period_asArray,I,f.default.PERIOD,i),f.default.PERIOD,i):A.trigger(y.default.XLINK_READY,{manifest:I})},setMatchers:function B(Oe){Oe&&(O=Oe)},setIron:function Z(Oe){Oe&&(S=Oe)},reset:function le(){A.off(y.default.XLINK_ELEMENT_LOADED,Y,R),L&&(L.reset(),L=null)}},function b(){A.on(y.default.XLINK_ELEMENT_LOADED,Y,R),L=Object(t.default)(C).create({errHandler:p.errHandler,dashMetrics:p.dashMetrics,mediaPlayerModel:p.mediaPlayerModel,requestModifier:p.requestModifier,settings:p.settings})}(),R}h.__dashjs_factory_name="XlinkController",g.default=m.default.getClassFactory(h)},"./src/streaming/metrics/MetricsReporting.js":
/*!***************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReporting.js ***!
                  \***************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./utils/DVBErrorsTranslator */
"./src/streaming/metrics/utils/DVBErrorsTranslator.js"),v=e(
/*! ./MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),y=e(
/*! ./controllers/MetricsCollectionController */
"./src/streaming/metrics/controllers/MetricsCollectionController.js"),m=e(
/*! ./metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js"),P=e(
/*! ./reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function D(){var i=this.context;return{createMetricsReporting:function h(A){return Object(t.default)(i).getInstance({eventBus:A.eventBus,dashMetrics:A.dashMetrics,metricsConstants:A.metricsConstants,events:A.events}).initialise(),Object(y.default)(i).create(A)},getReportingFactory:function p(){return Object(P.default)(i).getInstance()},getMetricsHandlerFactory:function C(){return Object(m.default)(i).getInstance()}}}D.__dashjs_factory_name="MetricsReporting";var f=dashjs.FactoryMaker.getClassFactory(D);f.events=v.default,dashjs.FactoryMaker.updateClassFactory(D.__dashjs_factory_name,f),g.default=f},"./src/streaming/metrics/MetricsReportingEvents.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReportingEvents.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function v(O){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(O)}function y(O,S){for(var I=0;I<S.length;I++){var E=S[I];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(O,P(E.key),E)}}function P(O){var S=function D(O,S){if("object"!==v(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var E=I.call(O,S||"default");if("object"!==v(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)(O)}(O,"string");return"symbol"===v(S)?S:String(S)}function i(O,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),S&&c(O,S)}function c(O,S){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,L){return E.__proto__=L,E})(O,S)}function d(O){var S=function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,E=A(O);if(S){var b=A(this).constructor;L=Reflect.construct(E,arguments,b)}else L=E.apply(this,arguments);return function h(O,S){if(S&&("object"===v(S)||"function"==typeof S))return S;if(void 0!==S)throw new TypeError("Derived constructors may only return object or undefined");return function p(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function A(O){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}e.r(g);var R=new(function(O){i(I,O);var S=d(I);function I(){var E;return function f(O,S){if(!(O instanceof S))throw new TypeError("Cannot call a class as a function")}(this,I),(E=S.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",E.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",E.CMCD_DATA_GENERATED="cmcdDataGenerated",E}return function m(O,S,I){return S&&y(O.prototype,S),I&&y(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(e(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));g.default=R},"./src/streaming/metrics/controllers/MetricsCollectionController.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsCollectionController.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./MetricsController */
"./src/streaming/metrics/controllers/MetricsController.js"),v=e(
/*! ../utils/ManifestParsing */
"./src/streaming/metrics/utils/ManifestParsing.js"),y=e(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function m(P){var D,f={},i=this.context,c=(P=P||{}).eventBus,d=P.events;function h(x){if(!x.error){var R=Object.keys(f);Object(v.default)(i).getInstance({adapter:P.adapter,constants:P.constants}).getMetrics(x.manifest).forEach(function(S){var I=JSON.stringify(S);if(f.hasOwnProperty(I))R.splice(I,1);else try{var E=Object(t.default)(i).create(P);E.initialize(S),f[I]=E}catch{}}),R.forEach(function(S){f[S].reset(),delete f[S]}),c.trigger(y.default.METRICS_INITIALISATION_COMPLETE)}}function p(){Object.keys(f).forEach(function(x){f[x].reset()}),f={}}return D={reset:function A(){c.off(d.MANIFEST_UPDATED,h,D),c.off(d.STREAM_TEARDOWN_COMPLETE,p,D)}},function C(){c.on(d.MANIFEST_UPDATED,h,D),c.on(d.STREAM_TEARDOWN_COMPLETE,p,D)}(),D}m.__dashjs_factory_name="MetricsCollectionController",g.default=dashjs.FactoryMaker.getClassFactory(m)},"./src/streaming/metrics/controllers/MetricsController.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsController.js ***!
                  \****************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./RangeController */
"./src/streaming/metrics/controllers/RangeController.js"),v=e(
/*! ./ReportingController */
"./src/streaming/metrics/controllers/ReportingController.js"),y=e(
/*! ./MetricsHandlersController */
"./src/streaming/metrics/controllers/MetricsHandlersController.js");function m(P){P=P||{};var D,f,i,d=this.context;function p(){D&&D.reset(),f&&f.reset(),i&&i.reset()}return{initialize:function h(C){try{(i=Object(t.default)(d).create({mediaElement:P.mediaElement})).initialize(C.Range),(f=Object(v.default)(d).create({debug:P.debug,metricsConstants:P.metricsConstants,mediaPlayerModel:P.mediaPlayerModel})).initialize(C.Reporting,i),(D=Object(y.default)(d).create({debug:P.debug,eventBus:P.eventBus,metricsConstants:P.metricsConstants,events:P.events})).initialize(C.metrics,f)}catch(A){throw p(),A}},reset:p}}m.__dashjs_factory_name="MetricsController",g.default=dashjs.FactoryMaker.getClassFactory(m)},"./src/streaming/metrics/controllers/MetricsHandlersController.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsHandlersController.js ***!
                  \************************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js");function v(y){var P,m=[],D=this.context,f=(y=y||{}).eventBus,i=y.events,c=Object(t.default)(D).getInstance({debug:y.debug,eventBus:y.eventBus,metricsConstants:y.metricsConstants});function d(C){m.forEach(function(A){A.handleNewMetric(C.metric,C.value,C.mediaType)})}return P={initialize:function h(C,A){C.split(",").forEach(function(x,R,O){var S;if(-1!==x.indexOf("(")&&-1===x.indexOf(")")){var I=O[R+1];I&&-1===I.indexOf("(")&&-1!==I.indexOf(")")&&(x+=","+I,delete O[R+1])}(S=c.create(x,A))&&m.push(S)}),f.on(i.METRIC_ADDED,d,P),f.on(i.METRIC_UPDATED,d,P)},reset:function p(){f.off(i.METRIC_ADDED,d,P),f.off(i.METRIC_UPDATED,d,P),m.forEach(function(C){return C.reset()}),m=[]}}}v.__dashjs_factory_name="MetricsHandlersController",g.default=dashjs.FactoryMaker.getClassFactory(v)},"./src/streaming/metrics/controllers/RangeController.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/RangeController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js");function v(y){var D,f,m=!1,P=this.context,i=(y=y||{}).mediaElement;return D={initialize:function c(C){C&&C.length&&(C.forEach(function(A){var x=A.starttime;f.add(x,x+A.duration)}),m=!!C[0]._useWallClockTime)},reset:function d(){f.clear()},isEnabled:function p(){var A,C=f.length;if(!C)return!0;A=m?(new Date).getTime()/1e3:i.currentTime;for(var x=0;x<C;x+=1){var R=f.start(x),O=f.end(x);if(R<=A&&A<O)return!0}return!1}},function h(){f=Object(t.default)(P).create()}(),D}v.__dashjs_factory_name="RangeController",g.default=dashjs.FactoryMaker.getClassFactory(v)},"./src/streaming/metrics/controllers/ReportingController.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/ReportingController.js ***!
                  \******************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function v(y){var m=[],D=Object(t.default)(this.context).getInstance(y);return{initialize:function f(d,h){d.some(function(p){var C=D.create(p,h);if(C)return m.push(C),!0})},reset:function i(){m.forEach(function(d){return d.reset()}),m=[]},report:function c(d,h){m.forEach(function(p){return p.report(d,h)})}}}v.__dashjs_factory_name="ReportingController",g.default=dashjs.FactoryMaker.getClassFactory(v)},"./src/streaming/metrics/metrics/MetricsHandlerFactory.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/MetricsHandlerFactory.js ***!
                  \****************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./handlers/BufferLevelHandler */
"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js"),v=e(
/*! ./handlers/DVBErrorsHandler */
"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js"),y=e(
/*! ./handlers/HttpListHandler */
"./src/streaming/metrics/metrics/handlers/HttpListHandler.js"),m=e(
/*! ./handlers/GenericMetricHandler */
"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js");function P(D){var f,i=(D=D||{}).debug?D.debug.getLogger(f):{},c=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,d=this.context,h={BufferLevel:t.default,DVBErrors:v.default,HttpList:y.default,PlayList:m.default,RepSwitchList:m.default,TcpList:m.default};return{create:function p(x,R){var S,O=x.match(c);if(O){try{(S=h[O[1]](d).create({eventBus:D.eventBus,metricsConstants:D.metricsConstants})).initialize(O[1],R,O[3],O[5])}catch(I){S=null,i.error("MetricsHandlerFactory: Could not create handler for type ".concat(O[1]," with args ").concat(O[3],", ").concat(O[5]," (").concat(I.message,")"))}return S}},register:function C(x,R){h[x]=R},unregister:function A(x){delete h[x]}}}P.__dashjs_factory_name="MetricsHandlerFactory",g.default=dashjs.FactoryMaker.getSingletonFactory(P)},"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function v(y){y=y||{};var P,D,f,i,c,d=this.context,h=Object(t.default)(d).getInstance(),p=[],C=y.metricsConstants;function x(){var I=function A(){try{return Object.keys(p).map(function(I){return p[I]}).reduce(function(I,E){return I.level<E.level?I:E})}catch{return}}();I&&c!==I.t&&(c=I.t,P.report(f,I))}return{initialize:function R(I,E,L){E&&(D=h.validateN(L),P=E,f=h.reconstructFullMetricName(I,L),i=setInterval(x,D))},reset:function O(){clearInterval(i),i=null,D=0,P=null,c=null},handleNewMetric:function S(I,E,L){I===C.BUFFER_LEVEL&&(p[L]=E)}}}v.__dashjs_factory_name="BufferLevelHandler",g.default=dashjs.FactoryMaker.getClassFactory(v)},"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js":
/*!********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js ***!
                  \********************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");g.default=dashjs.FactoryMaker.getClassFactory(function v(y){var P,D=(y=y||{}).eventBus,f=y.metricsConstants;function i(){D.off(t.default.METRICS_INITIALISATION_COMPLETE,i,this),D.trigger(t.default.BECAME_REPORTING_PLAYER)}return{initialize:function c(p,C){C&&(P=C,D.on(t.default.METRICS_INITIALISATION_COMPLETE,i,this))},reset:function d(){P=null},handleNewMetric:function h(p,C){p===f.DVB_ERRORS&&P&&P.report(p,C)}}})},"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js ***!
                  \************************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(){var y,m;return{initialize:function P(i,c){y=i,m=c},reset:function D(){m=null,y=void 0},handleNewMetric:function f(i,c){i===y&&m&&m.report(y,c)}}}e.r(g),t.__dashjs_factory_name="GenericMetricHandler",g.default=dashjs.FactoryMaker.getClassFactory(t)},"./src/streaming/metrics/metrics/handlers/HttpListHandler.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/HttpListHandler.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function v(y){y=y||{};var P,D,f,i,c,d=[],h=Object(t.default)(this.context).getInstance(),p=y.metricsConstants;function C(){d.length&&P&&P.report(i,d),d=[]}return{initialize:function A(O,S,I,E){S&&(D=h.validateN(I),P=S,E&&E.length&&(f=E),i=h.reconstructFullMetricName(O,I,E),c=setInterval(C,D))},reset:function x(){clearInterval(c),c=null,D=null,f=null,d=[],P=null},handleNewMetric:function R(O,S){O===p.HTTP_REQUEST&&(!f||f===S.type)&&d.push(S)}}}v.__dashjs_factory_name="HttpListHandler",g.default=dashjs.FactoryMaker.getClassFactory(v)},"./src/streaming/metrics/reporting/ReportingFactory.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/ReportingFactory.js ***!
                  \*************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./reporters/DVBReporting */
"./src/streaming/metrics/reporting/reporters/DVBReporting.js");function v(y){var D,m={"urn:dvb:dash:reporting:2014":t.default},P=this.context,f=(y=y||{}).debug?y.debug.getLogger(D):{},i=y.metricsConstants,c=y.mediaPlayerModel||{};return{create:function d(C,A){var x;try{(x=m[C.schemeIdUri](P).create({metricsConstants:i,mediaPlayerModel:c})).initialize(C,A)}catch(R){x=null,f.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(C.schemeIdUri," (").concat(R.message,")"))}return x},register:function h(C,A){m[C]=A},unregister:function p(C){delete m[C]}}}v.__dashjs_factory_name="ReportingFactory",g.default=dashjs.FactoryMaker.getSingletonFactory(v)},"./src/streaming/metrics/reporting/reporters/DVBReporting.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/reporters/DVBReporting.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../utils/MetricSerialiser */
"./src/streaming/metrics/utils/MetricSerialiser.js"),v=e(
/*! ../../utils/RNG */
"./src/streaming/metrics/utils/RNG.js"),y=e(
/*! ../../../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function m(P){var D,i,c,d,h,p,C,A,f=this.context,O=[],S=(P=P||{}).metricsConstants;function B(){h=!1,p=!1,C=null,A=null}return D={report:function L(oe,le){Array.isArray(le)||(le=[le]),p&&A.isEnabled()&&le.forEach(function(Re){var Y=i.serialise(Re);oe!==S.DVB_ERRORS&&(Y="metricname=".concat(oe,"&").concat(Y)),function E(oe,le,Re){var Y=new XMLHttpRequest;Y.withCredentials=c.getXHRWithCredentialsForType(S.HTTP_REQUEST_DVB_REPORTING_TYPE);var ae=function(){var De=O.indexOf(Y);-1!==De&&(O.splice(De,1),Y.status>=200&&Y.status<300?le&&le():Re&&Re())};O.push(Y);try{Y.open("GET",oe),Y.onloadend=ae,Y.onerror=ae,Y.send()}catch{Y.onerror()}}(Y="".concat(C,"?").concat(Y),null,function(){p=!1})})},initialize:function b(oe,le){var Re;if(A=le,!(C=oe.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");h||((Re=oe.dvb_probability)&&(1e3===Re||Re/1e3>=d.random())&&(p=!0),h=!0)},reset:function Z(){B()}},function I(){i=Object(t.default)(f).getInstance(),d=Object(v.default)(f).getInstance(),c=Object(y.default)(f).getInstance(),B()}(),D}m.__dashjs_factory_name="DVBReporting",g.default=dashjs.FactoryMaker.getClassFactory(m)},"./src/streaming/metrics/utils/DVBErrorsTranslator.js":
/*!************************************************************!*\
                  !*** ./src/streaming/metrics/utils/DVBErrorsTranslator.js ***!
                  \************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../vo/DVBErrors */
"./src/streaming/metrics/vo/DVBErrors.js"),v=e(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function y(m){var P,D,f=(m=m||{}).eventBus,i=m.dashMetrics,c=m.metricsConstants,d=m.events;function h(E){var L=new t.default;if(D){for(var b in E)E.hasOwnProperty(b)&&(L[b]=E[b]);L.mpdurl||(L.mpdurl=D.originalUrl||D.url),L.terror||(L.terror=new Date),i.addDVBErrors(L)}}function p(E){E.error||(D=E.manifest)}function C(E){h({errorcode:t.default.BASE_URL_CHANGED,servicelocation:E.entry})}function A(){h({errorcode:t.default.BECAME_REPORTER})}function R(E){E.metric===c.HTTP_REQUEST&&function x(E){(0===E.responsecode||null==E.responsecode||E.responsecode>=400||E.responsecode<100||E.responsecode>=600)&&h({errorcode:E.responsecode||t.default.CONNECTION_ERROR,url:E.url,terror:E.tresponse,servicelocation:E._serviceLocation})}(E.value)}function O(E){var b;switch(E.error?E.error.code:0){case MediaError.MEDIA_ERR_NETWORK:b=t.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:b=t.default.CORRUPT_MEDIA_OTHER;break;default:return}h({errorcode:b})}return P={initialise:function S(){f.on(d.MANIFEST_UPDATED,p,P),f.on(d.SERVICE_LOCATION_BLACKLIST_CHANGED,C,P),f.on(d.METRIC_ADDED,R,P),f.on(d.METRIC_UPDATED,R,P),f.on(d.PLAYBACK_ERROR,O,P),f.on(v.default.BECAME_REPORTING_PLAYER,A,P)},reset:function I(){f.off(d.MANIFEST_UPDATED,p,P),f.off(d.SERVICE_LOCATION_BLACKLIST_CHANGED,C,P),f.off(d.METRIC_ADDED,R,P),f.off(d.METRIC_UPDATED,R,P),f.off(d.PLAYBACK_ERROR,O,P),f.off(v.default.BECAME_REPORTING_PLAYER,A,P)}}}y.__dashjs_factory_name="DVBErrorsTranslator",g.default=dashjs.FactoryMaker.getSingletonFactory(y)},"./src/streaming/metrics/utils/HandlerHelpers.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/metrics/utils/HandlerHelpers.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(){return{reconstructFullMetricName:function(y,m,P){var D=y;return m&&(D+="("+m,P&&P.length&&(D+=","+P),D+=")"),D},validateN:function(y){if(!y)throw new Error("missing n");if(isNaN(y))throw new Error("n is NaN");if(y<0)throw new Error("n must be positive");return y}}}e.r(g),t.__dashjs_factory_name="HandlerHelpers",g.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/utils/ManifestParsing.js":
/*!********************************************************!*\
                  !*** ./src/streaming/metrics/utils/ManifestParsing.js ***!
                  \********************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../vo/Metrics */
"./src/streaming/metrics/vo/Metrics.js"),v=e(
/*! ../vo/Range */
"./src/streaming/metrics/vo/Range.js"),y=e(
/*! ../vo/Reporting */
"./src/streaming/metrics/vo/Reporting.js");function m(P){var f=(P=P||{}).adapter,i=P.constants;return{getMetrics:function d(h){var p=[];return h&&h.Metrics_asArray&&h.Metrics_asArray.forEach(function(C){var A=new t.default,x=f.getIsDynamic(h);C.hasOwnProperty("metrics")&&(A.metrics=C.metrics,C.Range_asArray&&C.Range_asArray.forEach(function(R){var O=new v.default;O.starttime=function c(h,p,C){var A,x,R=0;return p?R=f.getAvailabilityStartTime(h)/1e3:(A=f.getRegularPeriods(h)).length&&(R=A[0].start),x=R,C&&C.hasOwnProperty(i.START_TIME)&&(x+=C.starttime),x}(h,x,R),O.duration=R.hasOwnProperty("duration")?R.duration:f.getDuration(h),O._useWallClockTime=x,A.Range.push(O)}),C.Reporting_asArray&&(C.Reporting_asArray.forEach(function(R){var O=new y.default;R.hasOwnProperty(i.SCHEME_ID_URI)&&(O.schemeIdUri=R.schemeIdUri,R.hasOwnProperty("value")&&(O.value=R.value),R.hasOwnProperty(i.DVB_REPORTING_URL)&&(O.dvb_reportingUrl=R[i.DVB_REPORTING_URL]),R.hasOwnProperty(i.DVB_PROBABILITY)&&(O.dvb_probability=R[i.DVB_PROBABILITY]),A.Reporting.push(O))}),p.push(A)))}),p}}}m.__dashjs_factory_name="ManifestParsing",g.default=dashjs.FactoryMaker.getSingletonFactory(m)},"./src/streaming/metrics/utils/MetricSerialiser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/utils/MetricSerialiser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(){return{serialise:function v(y){var D,f,m=[],P=[];for(D in y)if(y.hasOwnProperty(D)&&0!==D.indexOf("_")){if(null==(f=y[D])&&(f=""),Array.isArray(f)){if(!f.length)continue;P=[],f.forEach(function(i){var c="Object"!==Object.prototype.toString.call(i).slice(8,-1);P.push(c?i:v(i))}),f=P.map(encodeURIComponent).join(",")}else"string"==typeof f?f=encodeURIComponent(f):f instanceof Date?f=f.toISOString():"number"==typeof f&&(f=Math.round(f));m.push(D+"="+f)}return m.join("&")}}}e.r(g),t.__dashjs_factory_name="MetricSerialiser",g.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/utils/RNG.js":
/*!********************************************!*\
                  !*** ./src/streaming/metrics/utils/RNG.js ***!
                  \********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(){var D,f,i,v=window.crypto||window.msCrypto,y=Uint32Array,m=Math.pow(2,8*y.BYTES_PER_ELEMENT)-1,P=10;function c(){v&&(D||(D=new y(P)),v.getRandomValues(D),f=0)}return i={random:function d(h,p){var C;return h||(h=0),p||(p=1),v?(f===D.length&&c(),C=D[f]/m,f+=1):C=Math.random(),C*(p-h)+h}},c(),i}e.r(g),t.__dashjs_factory_name="RNG",g.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/vo/DVBErrors.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/DVBErrors.js ***!
                  \***********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g);var f=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null});f.SSL_CONNECTION_FAILED_PREFIX="SSL",f.DNS_RESOLUTION_FAILED="C00",f.HOST_UNREACHABLE="C01",f.CONNECTION_REFUSED="C02",f.CONNECTION_ERROR="C03",f.CORRUPT_MEDIA_ISOBMFF="M00",f.CORRUPT_MEDIA_OTHER="M01",f.BASE_URL_CHANGED="F00",f.BECAME_REPORTER="S00",g.default=f},"./src/streaming/metrics/vo/Metrics.js":
/*!*********************************************!*\
                  !*** ./src/streaming/metrics/vo/Metrics.js ***!
                  \*********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.metrics="",this.Range=[],this.Reporting=[]})},"./src/streaming/metrics/vo/Range.js":
/*!*******************************************!*\
                  !*** ./src/streaming/metrics/vo/Range.js ***!
                  \*******************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1})},"./src/streaming/metrics/vo/Reporting.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/Reporting.js ***!
                  \***********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function v(c,d){for(var h=0;h<d.length;h++){var p=d[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,m(p.key),p)}}function y(c,d,h){return d&&v(c.prototype,d),h&&v(c,h),Object.defineProperty(c,"prototype",{writable:!1}),c}function m(c){var d=function P(c,d){if("object"!==t(c)||null===c)return c;var h=c[Symbol.toPrimitive];if(void 0!==h){var p=h.call(c,d||"default");if("object"!==t(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}e.r(g);g.default=y(function c(){(function D(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3})},"./src/streaming/models/BaseURLTreeModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/BaseURLTreeModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(p){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(p)}function m(p,C){for(var A=0;A<C.length;A++){var x=C[A];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,D(x.key),x)}}function P(p,C,A){return C&&m(p.prototype,C),A&&m(p,A),Object.defineProperty(p,"prototype",{writable:!1}),p}function D(p){var C=function f(p,C){if("object"!==y(p)||null===p)return p;var A=p[Symbol.toPrimitive];if(void 0!==A){var x=A.call(p,C||"default");if("object"!==y(x))return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(p)}(p,"string");return"symbol"===y(C)?C:String(C)}var c=NaN,d=P(function p(C,A){(function i(p,C){if(!(p instanceof C))throw new TypeError("Cannot call a class as a function")})(this,p),this.data={baseUrls:C||null,selectedIdx:A||c},this.children=[]});function h(){var p,C,A,x=this.context,R=Object(t.default)(x).getInstance();function E(Re,Y,ae){var G=A.getBaseURLsFromElement(ae);Re[Y]?R.areEqual(G,Re[Y].data.baseUrls)||(Re[Y].data.baseUrls=G,Re[Y].data.selectedIdx=c):Re[Y]=new d(G)}function L(Re){!function I(){if(!A||!A.hasOwnProperty("getBaseURLsFromElement")||!A.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var Y=A.getBaseURLsFromElement(Re);R.areEqual(Y,C.data.baseUrls)||(C.data.baseUrls=Y,C.data.selectedIdx=c),Re&&Re.Period_asArray&&Re.Period_asArray.forEach(function(ae,G){E(C.children,G,ae),ae.AdaptationSet_asArray&&ae.AdaptationSet_asArray.forEach(function(De,ce){E(C.children[G].children,ce,De),De.Representation_asArray&&De.Representation_asArray.sort(A.getRepresentationSortFunction()).forEach(function(Te,be){E(C.children[G].children[ce].children,be,Te)})})})}function b(Re,Y){var ae=Y||C;Re(ae.data),ae.children&&ae.children.forEach(function(G){return b(Re,G)})}function oe(){C=new d}return p={reset:oe,update:function Z(Re){L(Re)},getForPath:function le(Re){var Y=C,ae=[Y.data];return Re&&Re.forEach(function(G){(Y=Y.children[G])&&ae.push(Y.data)}),ae.filter(function(G){return G.baseUrls.length})},invalidateSelectedIndexes:function B(Re){b(function(Y){isNaN(Y.selectedIdx)||Re===Y.baseUrls[Y.selectedIdx].serviceLocation&&(Y.selectedIdx=c)})},setConfig:function S(Re){Re.adapter&&(A=Re.adapter)}},function O(){oe()}(),p}h.__dashjs_factory_name="BaseURLTreeModel",g.default=v.default.getClassFactory(h)},"./src/streaming/models/CmcdModel.js":
/*!*******************************************!*\
                  !*** ./src/streaming/models/CmcdModel.js ***!
                  \*******************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),v=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),y=e(
/*! ../metrics/MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),m=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),P=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),D=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),f=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),i=e(
/*! ../../dash/models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),c=e(
/*! ../../core/Utils */
"./src/core/Utils.js");function d(E,L){var b=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(!b){if(Array.isArray(E)||(b=function h(E,L){if(E){if("string"==typeof E)return p(E,L);var b=Object.prototype.toString.call(E).slice(8,-1);if("Object"===b&&E.constructor&&(b=E.constructor.name),"Map"===b||"Set"===b)return Array.from(E);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return p(E,L)}}(E))||L&&E&&"number"==typeof E.length){b&&(E=b);var B=0,Z=function(){};return{s:Z,n:function(){return B>=E.length?{done:!0}:{done:!1,value:E[B++]}},e:function(ae){throw ae},f:Z}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Re,oe=!0,le=!1;return{s:function(){b=b.call(E)},n:function(){var ae=b.next();return oe=ae.done,ae},e:function(ae){le=!0,Re=ae},f:function(){try{!oe&&null!=b.return&&b.return()}finally{if(le)throw Re}}}}function p(E,L){(null==L||L>E.length)&&(L=E.length);for(var b=0,B=new Array(L);b<L;b++)B[b]=E[b];return B}var x_MANIFEST="m",x_AUDIO="a",x_VIDEO="v",x_INIT="i",x_CAPTION="c",x_ISOBMFF_TEXT_TRACK="tt",x_ENCRYPTION_KEY="k",x_OTHER="o",R_DASH="d",R_MSS="s",O_VOD="v",O_LIVE="l";function I(){var E,L,b,B,Z,oe,le,Re,Y,ae,G=this.context,De=Object(t.default)(G).getInstance(),ce=Object(P.default)(G).getInstance();function ie(){b={pr:1,nor:null,st:null,sf:null,sid:"".concat(c.default.generateUuid()),cid:null},Y={},Re={},ae={},Ce()}function ye(){Ce()}function Ce(){if(oe){var Qe=oe.getStreamController();if(Qe&&"function"==typeof Qe.getActiveStream){var yt=Qe.getActiveStream();yt&&(le=yt.getProcessors())}}}function pe(Qe,yt){var We,Et={},me=d(yt);try{for(me.s();!(We=me.n()).done;){var Tt=We.value;Qe[Tt]&&(Et[Tt]=Qe[Tt])}}catch(Kt){me.e(Kt)}finally{me.f()}return Et}function Be(Qe){var yt=ce.get().streaming.cmcd.enabledKeys;return Qe.filter(function(Et){return yt.includes(Et)})}function at(Qe){try{return Qe.type===f.HTTPRequest.MPD_TYPE?function je(){var Qe=q();return Qe.ot=x_MANIFEST,Qe}():Qe.type===f.HTTPRequest.MEDIA_SEGMENT_TYPE?(function ee(Qe){ae.hasOwnProperty(Qe)||(ae[Qe]=!1),Re.hasOwnProperty(Qe)||(Re[Qe]=!1),Y.hasOwnProperty(Qe)||(Y[Qe]=!1)}(Qe.mediaType),function Ne(Qe){var fn,yt=q(),Et=function $(Qe){try{return parseInt(Qe.mediaInfo.bitrateList[Qe.quality].bandwidth/1e3)}catch{return null}}(Qe),me=function ne(Qe){try{return isNaN(Qe.duration)?null:Math.round(1e3*Qe.duration)}catch{return null}}(Qe),We=function X(Qe){try{return 100*parseInt(B.getThroughputHistory().getSafeAverageThroughput(Qe)/100)}catch{return null}}(Qe.mediaType),Tt=function re(Qe){try{var yt=b.pr,Et=Z.getCurrentBufferLevel(Qe);return isNaN(yt)||isNaN(Et)?null:100*parseInt(Et/yt*10)}catch{return null}}(Qe.mediaType),Kt=J(Qe.mediaType),Jt=function Q(Qe){try{var yt=B.getTopBitrateInfoFor(Qe);return Math.round(yt.bitrate/1e3)}catch{return null}}(Qe.mediaType),Xt=b.pr,un=function qe(Qe){if(le&&0!==le.length){var Et,yt=d(le);try{for(yt.s();!(Et=yt.n()).done;){var me=Et.value;if(me.getType()===Qe)return me.probeNextRequest()}}catch(We){yt.e(We)}finally{yt.f()}}}(Qe.mediaType);Qe.mediaType===D.default.VIDEO&&(fn=x_VIDEO),Qe.mediaType===D.default.AUDIO&&(fn=x_AUDIO),Qe.mediaType===D.default.TEXT&&(fn="application/mp4"===Qe.mediaInfo.mimeType?x_ISOBMFF_TEXT_TRACK:x_CAPTION);var It=ce.get().streaming.cmcd.rtp;return It||(It=function tt(Qe){var yt=oe.getPlaybackRate();yt||(yt=1);var Et=Qe.quality,We=Qe.mediaInfo,Tt=Qe.duration,Kt=J(Qe.mediaType);0===Kt&&(Kt=500);var fn=We.bitrateList[Et].bandwidth*Tt/1e3/(Kt/yt/1e3),It=ce.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(ce.get().streaming.cmcd.rtpSafetyFactor)?ce.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(fn*It/100)+1)}(Qe)),yt.rtp=It,un&&(Qe.url!==un.url?yt.nor=encodeURIComponent(c.default.getRelativeUrl(Qe.url,un.url)):un.range&&(yt.nrr=un.range)),Et&&(yt.br=Et),fn&&(yt.ot=fn),isNaN(me)||(yt.d=me),isNaN(We)||(yt.mtp=We),isNaN(Tt)||(yt.dl=Tt),isNaN(Kt)||(yt.bl=Kt),isNaN(Jt)||(yt.tb=Jt),!isNaN(Xt)&&1!==Xt&&(yt.pr=Xt),Y[Qe.mediaType]&&(yt.bs=!0,Y[Qe.mediaType]=!1),(Re[Qe.mediaType]||!ae[Qe.mediaType])&&(yt.su=!0,Re[Qe.mediaType]=!1,ae[Qe.mediaType]=!0),yt}(Qe)):Qe.type===f.HTTPRequest.INIT_SEGMENT_TYPE?function fe(){var Qe=q();return Qe.ot=x_INIT,Qe.su=!0,Qe}():Qe.type===f.HTTPRequest.OTHER_TYPE||Qe.type===f.HTTPRequest.XLINK_EXPANSION_TYPE?function we(){var Qe=q();return Qe.ot=x_OTHER,Qe}():Qe.type===f.HTTPRequest.LICENSE?function Xe(Qe){var yt=q();return yt.ot=x_ENCRYPTION_KEY,yt}():null}catch{return null}}function q(){var Qe={},yt=ce.get().streaming.cmcd.cid?ce.get().streaming.cmcd.cid:b.cid;return Qe.v=1,Qe.sid=ce.get().streaming.cmcd.sid?ce.get().streaming.cmcd.sid:b.sid,Qe.sid="".concat(Qe.sid),yt&&(Qe.cid="".concat(yt)),!isNaN(b.pr)&&1!==b.pr&&null!==b.pr&&(Qe.pr=b.pr),b.st&&(Qe.st=b.st),b.sf&&(Qe.sf=b.sf),Qe}function J(Qe){try{var yt=Z.getCurrentBufferLevel(Qe);return isNaN(yt)?null:100*parseInt(10*yt)}catch{return null}}function ge(Qe){try{b.pr=Qe.playbackRate}catch{}}function Se(Qe){try{var yt=E.getIsDynamic(Qe.data),me=Qe.protocol&&"MSS"===Qe.protocol?R_MSS:R_DASH;b.st="".concat(yt?O_LIVE:O_VOD),b.sf="".concat(me)}catch{}}function Ee(Qe){try{Qe.state&&Qe.mediaType&&Qe.state===v.default.BUFFER_EMPTY&&(Y[Qe.mediaType]||(Y[Qe.mediaType]=!0),Re[Qe.mediaType]||(Re[Qe.mediaType]=!0))}catch{}}function Fe(){for(var Qe in Y)Y.hasOwnProperty(Qe)&&(Y[Qe]=!0);for(var yt in Re)Re.hasOwnProperty(yt)&&(Re[yt]=!0)}function ct(Qe){try{if(!Qe)return null;var yt=Object.keys(Qe).sort(function(We,Tt){return We.localeCompare(Tt)}),Et=yt.length,me=yt.reduce(function(We,Tt,Kt){return"v"===Tt&&1===Qe[Tt]||(We+="string"==typeof Qe[Tt]&&"ot"!==Tt&&"sf"!==Tt&&"st"!==Tt?"".concat(Tt,"=").concat(JSON.stringify(Qe[Tt])):"".concat(Tt,"=").concat(Qe[Tt]),Kt<Et-1&&(We+=",")),We},"");return(me=me.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return L={getQueryParameter:function de(Qe){try{if(ce.get().streaming.cmcd&&ce.get().streaming.cmcd.enabled){var yt=at(Qe),me=ct(function Me(Qe){try{var yt=ce.get().streaming.cmcd.enabledKeys;return Object.keys(Qe).filter(function(Et){return yt.includes(Et)}).reduce(function(Et,me){return Et[me]=Qe[me],Et},{})}catch{return Qe}}(yt));return De.trigger(y.default.CMCD_DATA_GENERATED,{url:Qe.url,mediaType:Qe.mediaType,cmcdData:yt,cmcdString:me}),{key:"CMCD",value:me}}return null}catch{return null}},getHeaderParameters:function Ie(Qe){try{if(ce.get().streaming.cmcd&&ce.get().streaming.cmcd.enabled){var yt=at(Qe),Et=pe(yt,Be(["br","d","ot","tb"])),me=pe(yt,Be(["bl","dl","mtp","nor","nrr","su"])),We=pe(yt,Be(["bs","rtp"])),Tt=pe(yt,Be(["cid","pr","sf","sid","st","v"])),Kt={"CMCD-Object":ct(Et),"CMCD-Request":ct(me),"CMCD-Status":ct(We),"CMCD-Session":ct(Tt)};return De.trigger(y.default.CMCD_DATA_GENERATED,{url:Qe.url,mediaType:Qe.mediaType,cmcdData:yt,headers:Kt}),Kt}return null}catch{return null}},setConfig:function Oe(Qe){Qe&&(Qe.abrController&&(B=Qe.abrController),Qe.dashMetrics&&(Z=Qe.dashMetrics),Qe.playbackController&&(oe=Qe.playbackController))},reset:function gt(){De.off(v.default.PLAYBACK_RATE_CHANGED,ge,this),De.off(v.default.MANIFEST_LOADED,Se,this),De.off(v.default.BUFFER_LEVEL_STATE_CHANGED,Ee,L),De.off(v.default.PLAYBACK_SEEKED,Fe,L),ie()},initialize:function be(){De.on(v.default.PLAYBACK_RATE_CHANGED,ge,L),De.on(v.default.MANIFEST_LOADED,Se,L),De.on(v.default.BUFFER_LEVEL_STATE_CHANGED,Ee,L),De.on(v.default.PLAYBACK_SEEKED,Fe,L),De.on(v.default.PERIOD_SWITCH_COMPLETED,ye,L)}},function Te(){E=Object(i.default)(G).getInstance(),ie()}(),L}I.__dashjs_factory_name="CmcdModel",g.default=m.default.getSingletonFactory(I)},"./src/streaming/models/CustomParametersModel.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/models/CustomParametersModel.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../dash/vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),m=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),P=e(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),D=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function i(){var c,d,h,p,C,A,x,R,O=this.context,S=Object(y.default)(O).getInstance();function E(){p=[],C=[],A=[],R=[],x=null,d=[]}function Oe(ee,fe){var we=-1;ee.some(function(q,$){if(q===fe)return we=$,!0}),!(we<0)&&ee.splice(we,1)}function ie(ee){var fe;for(fe=0;fe<R.length;fe++)if(R[fe].rulename===ee)return fe;return-1}function pe(ee,fe){Be(ee,fe);var we=new t.default;we.schemeIdUri=ee,we.value=fe,d.push(we)}function Be(ee,fe){Object(m.checkParameterType)(ee,"string"),Object(m.checkParameterType)(fe,"string"),d.forEach(function(we,q){we.schemeIdUri===ee&&we.value===fe&&d.splice(q,1)})}return c={getCustomInitialTrackSelectionFunction:function oe(){return x},setCustomInitialTrackSelectionFunction:function B(ee){x=ee},resetCustomInitialTrackSelectionFunction:function Z(){x=null},getLicenseResponseFilters:function Re(){return C},getLicenseRequestFilters:function le(){return p},getCustomCapabilitiesFilters:function ce(){return A},registerCustomCapabilitiesFilter:function Te(ee){A.push(ee)},registerLicenseResponseFilter:function ae(ee){C.push(ee)},registerLicenseRequestFilter:function Y(ee){p.push(ee)},unregisterCustomCapabilitiesFilter:function be(ee){Oe(A,ee)},unregisterLicenseResponseFilter:function De(ee){Oe(C,ee)},unregisterLicenseRequestFilter:function G(ee){Oe(p,ee)},addAbrCustomRule:function ye(ee,fe,we){if("string"!=typeof ee||ee!==P.default.ABANDON_FRAGMENT_RULES&&ee!==P.default.QUALITY_SWITCH_RULES||"string"!=typeof fe)throw D.default.BAD_ARGUMENT_ERROR;var q=ie(fe);-1===q?R.push({type:ee,rulename:fe,rule:we}):(R[q].type=ee,R[q].rule=we)},removeAllAbrCustomRule:function de(){R=[]},removeAbrCustomRule:function Ce(ee){if(ee){var fe=ie(ee);-1!==fe&&R.splice(fe,1)}else R=[]},getAbrCustomRules:function Me(){return R},addUTCTimingSource:pe,removeUTCTimingSource:Be,getUTCTimingSources:function Ie(){return d},clearDefaultUTCTimingSources:function at(){d=[]},restoreDefaultUTCTimingSources:function Xe(){var ee=S.get().streaming.utcSynchronization.defaultTimingSource;pe(ee.scheme,ee.value)},setXHRWithCredentialsForType:function je(ee,fe){ee?h[ee]=!!fe:Object.keys(h).forEach(function(we){je(we,fe)})},getXHRWithCredentialsForType:function Ne(ee){var fe=h[ee];return void 0===fe?h.default:fe},setConfig:function b(){},reset:function L(){E()}},function I(){h={default:false},E()}(),c}i.__dashjs_factory_name="CustomParametersModel",g.default=v.default.getSingletonFactory(i)},"./src/streaming/models/FragmentModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/FragmentModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),y="loading",m="executed",D="failed";function f(c){var O,S,I,E,d=(c=c||{}).eventBus,h=c.events,p=c.dashMetrics,C=c.fragmentLoader,A=c.debug,x=c.streamInfo,R=c.type;function Z(Xe){var $;return!!Xe&&($=!1,I.some(function(Q){if(function(q,$){return!isNaN(q.index)&&q.startTime===$.startTime&&q.adaptationIndex===$.adaptationIndex&&q.type===$.type}(Xe,Q)||function(q,$){return isNaN(q.index)&&isNaN($.index)&&q.quality===$.quality}(Xe,Q)||function(q,$){return q.action===v.default.ACTION_COMPLETE&&q.action===$.action}(Xe,Q))return $=!0}),$)}function Re(Xe){return isNaN(Xe.duration)?.25:Math.min(Xe.duration/8,.5)}function Y(Xe){I=I.filter(function(je){var Ne=Re(je);return isNaN(je.startTime)||void 0!==Xe&&je.startTime>=Xe-Ne})}function G(Xe,je){je<=Xe+.5||(I=I.filter(function(Ne){var ee=Re(Ne);return isNaN(Ne.startTime)||Ne.startTime>=je-ee||isNaN(Ne.duration)||Ne.startTime+Ne.duration<=Xe+ee}))}function Oe(Xe,je,Ne){for(var fe=Xe.length-1;fe>=0;fe--){var we=Xe[fe],q=we.startTime,$=q+we.duration;if(Ne=isNaN(Ne)?Re(we):Ne,!isNaN(q)&&!isNaN($)&&je+Ne>=q&&je-Ne<$||isNaN(q)&&isNaN(je))return we}return null}function Ce(Xe,je){p.addSchedulingInfo(Xe,je),p.addRequestsQueue(Xe.mediaType,E,I)}function de(Xe){Xe.sender===C&&(E.splice(E.indexOf(Xe.request),1),Xe.response&&!Xe.error&&I.push(Xe.request),Ce(Xe.request,Xe.error?D:m),d.trigger(h.FRAGMENT_LOADING_COMPLETED,{request:Xe.request,response:Xe.response,error:Xe.error,sender:this},{streamId:x.id,mediaType:R}))}function Me(Xe){Xe.sender===C&&d.trigger(h.FRAGMENT_LOADING_PROGRESS,{request:Xe.request,response:Xe.response,error:Xe.error,sender:this},{streamId:x.id,mediaType:R})}function pe(Xe){Xe.sender===C&&d.trigger(h.FRAGMENT_LOADING_ABANDONED,{request:Xe.request},{streamId:x.id,mediaType:R})}function Ie(){I=[],E=[]}return O={getStreamId:function b(){return x.id},getType:function B(){return R},getRequests:function le(Xe){var Ne=[];return(Xe?Xe.state instanceof Array?Xe.state:[Xe.state]:[]).forEach(function(ee){var fe=function ye(Xe){var je;switch(Xe){case y:je=E;break;case m:je=I;break;default:je=[]}return je}(ee);Ne=Ne.concat(function ie(Xe,je){return je.hasOwnProperty("time")?[Oe(Xe,je.time,je.threshold)]:Xe.filter(function(Ne){for(var ee in je)if("state"!==ee&&je.hasOwnProperty(ee)&&Ne[ee]!=je[ee])return!1;return!0})}(fe,Xe))}),Ne},isFragmentLoaded:Z,isFragmentLoadedOrPending:function oe(Xe){var ee,je=!1,Ne=0;if(!(je=Z(Xe)))for(Ne=0;Ne<E.length;Ne++)Xe.url===(ee=E[Ne]).url&&Xe.startTime===ee.startTime&&(je=!0);return je},removeExecutedRequestsBeforeTime:Y,removeExecutedRequestsAfterTime:function ae(Xe){I=I.filter(function(je){return isNaN(je.startTime)||void 0!==Xe&&je.startTime<Xe})},syncExecutedRequestsWithBufferedRange:function De(Xe,je){if(Xe&&0!==Xe.length){for(var Ne=0,ee=0,fe=Xe.length;ee<fe;ee++)G(Ne,Xe.start(ee)),Ne=Xe.end(ee);je>0&&G(Ne,je)}else Y()},abortRequests:function ce(){S.debug("abort requests"),C.abort(),E=[]},executeRequest:function Te(Xe){Xe.action===v.default.ACTION_DOWNLOAD?(Ce(Xe,y),E.push(Xe),function be(Xe){d.trigger(h.FRAGMENT_LOADING_STARTED,{request:Xe},{streamId:x.id,mediaType:R}),C.load(Xe)}(Xe)):S.warn("Unknown request action.")},reset:function Be(){d.off(h.LOADING_COMPLETED,de,this),d.off(h.LOADING_DATA_PROGRESS,Me,this),d.off(h.LOADING_ABANDONED,pe,this),C&&C.reset(),Ie()},resetInitialSettings:Ie,addExecutedRequest:function at(Xe){I.push(Xe)}},function L(){S=A.getLogger(O),Ie(),d.on(h.LOADING_COMPLETED,de,O),d.on(h.LOADING_DATA_PROGRESS,Me,O),d.on(h.LOADING_ABANDONED,pe,O)}(),O}f.__dashjs_factory_name="FragmentModel";var i=t.default.getClassFactory(f);i.FRAGMENT_MODEL_LOADING=y,i.FRAGMENT_MODEL_EXECUTED=m,i.FRAGMENT_MODEL_CANCELED="canceled",i.FRAGMENT_MODEL_FAILED=D,t.default.updateClassFactory(f.__dashjs_factory_name,i),g.default=i},"./src/streaming/models/LowLatencyThroughputModel.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/models/LowLatencyThroughputModel.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(){var d,h,c=this.context,p={};function C(){h=Object(t.default)(c).getInstance().getLogger(d)}function A(I){for(var E={},L=0,b=0,B=0,Z=0,oe=I.length,le=0;le<oe;++le)L+=I[le].chunkDownloadTimeRelativeMS,b+=I[le].bufferLevel,B+=I[le].chunkDownloadTimeRelativeMS*I[le].bufferLevel,Z+=I[le].chunkDownloadTimeRelativeMS*I[le].chunkDownloadTimeRelativeMS;return E.m=(B-L*b/oe)/(Z-L*L/oe),E.b=b/oe-E.m*L/oe,function(Re){return E.m*Re+E.b}}function x(I){var L,E=!0,b=I.reduce(function(B,Z){return B+Z.bufferLevelAtSegmentEnd},0)/I.length;return I.forEach(function(B){Math.abs(B.bufferLevelAtSegmentEnd/B.bufferLevelAtSegmentStart)<.95&&(E=!1),B.bufferLevelAtSegmentEnd/b<.8&&(E=!1),L?L>B.bitrate&&(E=!1):L=B.bitrate}),E}return d={setup:C,addMeasurement:function S(I,E,L,b,B){I&&I.mediaType&&!p[I.mediaType]&&(p[I.mediaType]=[]);var Z=I.mediaInfo.bitrateList.find(function(oe){return oe.id===I.representationId});p[I.mediaType].push({index:I.index,repId:I.representationId,mediaType:I.mediaType,requestTimeMS:b,adjustedAvailabilityStartTimeMS:I.availabilityStartTime.getTime(),segDurationMS:1e3*I.duration,chunksDurationMS:L.reduce(function(oe,le){return oe+le.chunkDownloadDurationMS},0),segmentBytes:L.reduce(function(oe,le){return oe+le.chunkBytes},0),bitrate:Z&&Z.bandwidth,bitrateList:I.mediaInfo.bitrateList,chunkMeasurements:L,fetchDownloadDurationMS:E,throughputCapacityDelayMS:B,getEstimatedBufferLevel:A(L.slice(1))}),p[I.mediaType].length>10&&p[I.mediaType].shift()},getThroughputCapacityDelayMS:function O(I,E){var L=p[I.mediaType]&&p[I.mediaType].slice(-3);return!L||L.length<3||!x(L)?0:E/4>250?250:E/4},getEstimatedDownloadDurationMS:function R(I){var E=p[I.mediaType].slice(-1).pop(),L=p[I.mediaType].slice(-3),b=E.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;E.bufferLevelAtSegmentStart=E.getEstimatedBufferLevel(b/2),E.bufferLevelAtSegmentEnd=E.getEstimatedBufferLevel(b);var B=x(L),Z=B?.6:.8;if(E.isBufferStable&&1.05*E.segDurationMS<E.fetchDownloadDurationMS)return E.fetchDownloadDurationMS;if(!B||E.segDurationMS<E.fetchDownloadDurationMS||E.adjustedAvailabilityStartTimeMS<=E.requestTimeMS+E.throughputCapacityDelayMS-E.segDurationMS)return.8*E.fetchDownloadDurationMS;for(var oe=E.requestTimeMS+E.throughputCapacityDelayMS-E.adjustedAvailabilityStartTimeMS,le=0,Re=0,Y=0,ae=0;ae<E.chunkMeasurements.length;ae++){var G=E.chunkMeasurements[ae];if(oe<Re+G.chunkDownloadDurationMS)break;Re+=G.chunkDownloadDurationMS,le+=G.chunkBytes,Y++}if(oe<0&&h.warn("request time was before adjusted availibitly start time"),le&&Re&&Y>.2*E.chunkMeasurements.length){var ce=E.segmentBytes/(le/Re);return E.fetchDownloadDurationMS<ce?E.fetchDownloadDurationMS*Z:ce*Z}var Te=E.bitrate;return E.bitrateList.some(function(be){if(be.bandwidth>E.bitrate)return Te=be.bandwidth,!0}),Te===E.bitrate?E.fetchDownloadDurationMS*Z:Z*E.segmentBytes*8*1e3/Te}},C(),d}y.__dashjs_factory_name="LowLatencyThroughputModel",g.default=v.default.getSingletonFactory(y)},"./src/streaming/models/ManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/ManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),v=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function m(){var i,P=this.context,D=Object(t.default)(P).getInstance();return{getValue:function c(){return i},setValue:function d(h){i=h,h&&D.trigger(v.default.MANIFEST_LOADED,{data:h})}}}m.__dashjs_factory_name="ManifestModel",g.default=y.default.getSingletonFactory(m)},"./src/streaming/models/MediaPlayerModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/MediaPlayerModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),h=-.5;function C(){var A,x,R,O,S=this.context,I=Object(y.default)(S).getInstance();function b(Te,be){return isNaN(Te)?0:Te>0?(be&&x.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):Te<h?(be&&x.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(h,": ").concat(-50,"% playback speed.")),h):Te}function B(Te,be){return isNaN(Te)?0:Te<0?(be&&x.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):Te>1?(be&&x.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):Te}function ae(){var Te=I.get().streaming.buffer.stableBufferTime>0?I.get().streaming.buffer.stableBufferTime:I.get().streaming.buffer.fastSwitchEnabled?20:12,be=R.getLiveDelay();return!isNaN(be)&&be>0?Math.min(Te,be):Te}return A={getCatchupMaxDrift:function Z(){if(!isNaN(I.get().streaming.liveCatchup.maxDrift)&&I.get().streaming.liveCatchup.maxDrift>0)return I.get().streaming.liveCatchup.maxDrift;var Te=O.getServiceDescriptionSettings();return Te&&Te.liveCatchup&&!isNaN(Te.liveCatchup.maxDrift)&&Te.liveCatchup.maxDrift>0?Te.liveCatchup.maxDrift:12},getCatchupModeEnabled:function le(){return null!==I.get().streaming.liveCatchup.enabled?I.get().streaming.liveCatchup.enabled:R.getInitialCatchupModeActivated()},getStableBufferTime:ae,getInitialBufferLevel:function Y(){var Te=I.get().streaming.buffer.initialBufferLevel;return isNaN(Te)||Te<0?0:Math.min(ae(),Te)},getRetryAttemptsForType:function G(Te){var be=isNaN(I.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:I.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return R.getLowLatencyModeEnabled()?I.get().streaming.retryAttempts[Te]*be:I.get().streaming.retryAttempts[Te]},getRetryIntervalsForType:function De(Te){var be=isNaN(I.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:I.get().streaming.retryIntervals.lowLatencyReductionFactor;return R.getLowLatencyModeEnabled()?I.get().streaming.retryIntervals[Te]/be:I.get().streaming.retryIntervals[Te]},getCatchupPlaybackRates:function oe(Te){var be=I.get().streaming.liveCatchup.playbackRate;if(!isNaN(be.min)||!isNaN(be.max))return{min:b(be.min,Te),max:B(be.max,Te)};var Oe=O.getServiceDescriptionSettings();if(Oe&&Oe.liveCatchup&&(!isNaN(Oe.liveCatchup.playbackRate.min)||!isNaN(Oe.liveCatchup.playbackRate.max))){var ie=Oe.liveCatchup.playbackRate;return{min:b(ie.min,Te),max:B(ie.max,Te)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function Re(Te,be){try{var Oe=I.get().streaming.abr[Te][be];if(!isNaN(Oe)&&-1!==Oe)return Oe;var ie=O.getServiceDescriptionSettings();return ie&&ie[Te]&&!isNaN(ie[Te][be])?ie[Te][be]:-1}catch{return-1}},setConfig:function L(Te){Te.playbackController&&(R=Te.playbackController),Te.serviceDescriptionController&&(O=Te.serviceDescriptionController)},reset:function ce(){}},function E(){x=Object(t.default)(S).getInstance().getLogger(A)}(),A}C.__dashjs_factory_name="MediaPlayerModel",g.default=v.default.getSingletonFactory(C)},"./src/streaming/models/MetricsModel.js":
/*!**********************************************!*\
                  !*** ./src/streaming/models/MetricsModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),y=e(
/*! ../vo/MetricsList */
"./src/streaming/vo/MetricsList.js"),m=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),P=e(
/*! ../vo/metrics/RepresentationSwitch */
"./src/streaming/vo/metrics/RepresentationSwitch.js"),D=e(
/*! ../vo/metrics/BufferLevel */
"./src/streaming/vo/metrics/BufferLevel.js"),f=e(
/*! ../vo/metrics/BufferState */
"./src/streaming/vo/metrics/BufferState.js"),i=e(
/*! ../vo/metrics/DVRInfo */
"./src/streaming/vo/metrics/DVRInfo.js"),c=e(
/*! ../vo/metrics/DroppedFrames */
"./src/streaming/vo/metrics/DroppedFrames.js"),d=e(
/*! ../vo/metrics/ManifestUpdate */
"./src/streaming/vo/metrics/ManifestUpdate.js"),h=e(
/*! ../vo/metrics/SchedulingInfo */
"./src/streaming/vo/metrics/SchedulingInfo.js"),p=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),C=e(
/*! ../vo/metrics/RequestsQueue */
"./src/streaming/vo/metrics/RequestsQueue.js"),A=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),x=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function R(O){var L,b,S=(O=O||{}).settings,I=this.context,E=Object(p.default)(I).getInstance();function Z(){E.trigger(A.default.METRICS_CHANGED)}function oe(ee){E.trigger(A.default.METRIC_CHANGED,{mediaType:ee}),Z()}function le(ee,fe,we){E.trigger(A.default.METRIC_UPDATED,{mediaType:ee,metric:fe,value:we}),oe(ee)}function Re(ee,fe,we){E.trigger(A.default.METRIC_ADDED,{mediaType:ee,metric:fe,value:we}),oe(ee)}function G(ee,fe){var we=null;return ee&&(b.hasOwnProperty(ee)?we=b[ee]:fe||(we=new y.default,b[ee]=we)),we}function De(ee,fe,we){var q=G(ee);null!==q&&(q[fe].push(we),q[fe].length>S.get().streaming.metrics.maxListDepth&&q[fe].shift())}function Oe(ee,fe,we){De(ee,fe,we),Re(ee,fe,we)}return L={clearCurrentMetricsForType:function Y(ee){delete b[ee],oe(ee)},clearAllCurrentMetrics:function ae(){b={},Z()},getMetricsFor:G,addHttpRequest:function Te(ee,fe,we,q,$,Q,ne,X,re,J,ge,Se,Ee,Fe,ct,qe){var tt=new m.HTTPRequest;Q&&Q!==q&&(Te(ee,null,we,q,$,null,null,X,re,null,null,null,Ee,null,null,qe),tt.actualurl=Q),tt.tcpid=fe,tt.type=we,tt.url=q,tt.range=X,tt.trequest=re,tt.tresponse=J,tt.responsecode=Se,tt._tfinish=ge,tt._stream=ee,tt._mediaduration=Ee,tt._quality=$,tt._responseHeaders=Fe,tt._serviceLocation=ne,tt._fileLoaderType=qe,ct?ct.forEach(function(gt){!function ce(ee,fe,we,q){var $=new m.HTTPRequestTrace;return $.s=fe,$.d=we,$.b=q,ee.trace.push($),ee.interval||(ee.interval=0),ee.interval+=we,$}(tt,gt.s,gt.d,gt.b)}):(delete tt.interval,delete tt.trace),Oe(ee,v.default.HTTP_REQUEST,tt)},addRepresentationSwitch:function be(ee,fe,we,q,$){var Q=new P.default;Q.t=fe,Q.mt=we,Q.to=q,$?Q.lto=$:delete Q.lto,Oe(ee,v.default.TRACK_SWITCH,Q)},addBufferLevel:function ie(ee,fe,we){var q=new D.default;q.t=fe,q.level=we,Oe(ee,v.default.BUFFER_LEVEL,q)},addBufferState:function ye(ee,fe,we){var q=new f.default;q.target=we,q.state=fe,Oe(ee,v.default.BUFFER_STATE,q)},addDVRInfo:function Ce(ee,fe,we,q){var $=new i.default;$.time=fe,$.range=q,$.manifestInfo=we,Oe(ee,v.default.DVR_INFO,$)},addDroppedFrames:function de(ee,fe){var we=new c.default,q=G(ee).DroppedFrames;fe&&(we.time=fe.creationTime,we.droppedFrames=fe.droppedVideoFrames,!(q.length>0&&q[q.length-1]==we)&&Oe(ee,v.default.DROPPED_FRAMES,we))},addSchedulingInfo:function Me(ee,fe,we,q,$,Q,ne,X,re){var J=new h.default;J.mediaType=ee,J.t=fe,J.type=we,J.startTime=q,J.availabilityStartTime=$,J.duration=Q,J.quality=ne,J.range=X,J.state=re,Oe(ee,v.default.SCHEDULING_INFO,J)},addRequestsQueue:function pe(ee,fe,we){var q=new C.default;q.loadingRequests=fe,q.executedRequests=we,G(ee).RequestsQueue=q,Re(ee,v.default.REQUESTS_QUEUE,q)},addManifestUpdate:function Ie(ee,fe,we,q,$,Q,ne,X,re,J){var ge=new d.ManifestUpdate;ge.mediaType=ee,ge.type=fe,ge.requestTime=we,ge.fetchTime=q,ge.availabilityStartTime=$,ge.presentationStartTime=Q,ge.clientTimeOffset=ne,ge.currentTime=X,ge.buffered=re,ge.latency=J,De(t.default.STREAM,v.default.MANIFEST_UPDATE,ge),Re(ee,v.default.MANIFEST_UPDATE,ge)},updateManifestUpdateInfo:function Be(ee,fe){if(ee){for(var we in fe)ee[we]=fe[we];le(ee.mediaType,v.default.MANIFEST_UPDATE,ee)}},addManifestUpdateStreamInfo:function at(ee,fe,we,q,$){if(ee){var Q=new d.ManifestUpdateStreamInfo;Q.id=fe,Q.index=we,Q.start=q,Q.duration=$,ee.streamInfo.push(Q),le(ee.mediaType,v.default.MANIFEST_UPDATE_STREAM_INFO,ee)}},addManifestUpdateRepresentationInfo:function Xe(ee,fe,we,q,$,Q,ne,X){if(ee&&ee.representationInfo){var re=new d.ManifestUpdateRepresentationInfo;re.id=fe,re.index=we,re.streamIndex=q,re.mediaType=$,re.startNumber=ne,re.fragmentInfoType=X,re.presentationTimeOffset=Q,ee.representationInfo.push(re),le(ee.mediaType,v.default.MANIFEST_UPDATE_TRACK_INFO,ee)}},addPlayList:function je(ee){ee.trace&&Array.isArray(ee.trace)?ee.trace.forEach(function(fe){fe.hasOwnProperty("subreplevel")&&!fe.subreplevel&&delete fe.subreplevel}):delete ee.trace,Oe(t.default.STREAM,v.default.PLAY_LIST,ee)},addDVBErrors:function Ne(ee){Oe(t.default.STREAM,v.default.DVB_ERRORS,ee)}},function B(){b={}}(),L}R.__dashjs_factory_name="MetricsModel",g.default=x.default.getSingletonFactory(R)},"./src/streaming/models/URIFragmentModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/URIFragmentModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../vo/URIFragmentData */
"./src/streaming/vo/URIFragmentData.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(){var P;return{initialize:function D(i){if(P=new t.default,!i)return null;var c=i.indexOf("#");if(-1!==c)for(var d=i.substr(c+1).split("&"),h=0,p=d.length;h<p;++h){var C=d[h],A=C.indexOf("=");if(-1!==A){var x=C.substring(0,A);P.hasOwnProperty(x)&&(P[x]=C.substr(A+1))}}},getURIFragmentData:function f(){return P}}}y.__dashjs_factory_name="URIFragmentModel",g.default=v.default.getSingletonFactory(y)},"./src/streaming/models/VideoModel.js":
/*!********************************************!*\
                  !*** ./src/streaming/models/VideoModel.js ***!
                  \********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),y=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),m=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),P=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),D=new Map([[P.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[P.default.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[P.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[P.default.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function f(){var i,c,d,h,p,C,A,R=this.context,O=Object(v.default)(R).getInstance(),S=[];function b(){d&&(d.playbackRate=A||1,d.removeEventListener("canplay",b))}function Oe(){return S.length>0}function de(){if(d&&Oe()&&0===d.playbackRate){var Qe=document.createEvent("Event");Qe.initEvent("waiting",!0,!1),d.dispatchEvent(Qe)}}function fe(Qe,yt){d&&d.addEventListener(Qe,yt)}function we(Qe,yt){d&&d.removeEventListener(Qe,yt)}function q(){return d?d.readyState:NaN}function $(){return d?d.buffered:null}function Ee(Qe,yt,Et,me,We){if(d)for(var Tt=0;Tt<d.textTracks.length;Tt++)if(d.textTracks[Tt].kind===Qe&&(!yt||d.textTracks[Tt].label==yt)&&d.textTracks[Tt].language===Et&&d.textTracks[Tt].isTTML===me&&d.textTracks[Tt].isEmbedded===We)return d.textTracks[Tt];return null}function tt(Qe,yt){Qe===P.default.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||q()>=Qe?yt():function gt(Qe,yt){fe(Qe,function me(){we(Qe,me),yt(Qe)})}(D.get(Qe),yt)}return i={initialize:function E(){O.on(y.default.PLAYBACK_PLAYING,de,this)},setCurrentTime:function Z(Qe,yt){h=Qe,tt(P.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(d){if(d.currentTime===h)return void(h=NaN);try{h=yt?function oe(Qe){var yt=$(),Et=Qe,me=9999999999;if(yt)for(var We=0;We<yt.length;We++){var Tt=yt.start(We),Kt=yt.end(We),Jt=Math.abs(Tt-Qe),Xt=Math.abs(Kt-Qe);if(Qe>=Tt&&Qe<=Kt)return Qe;Jt<me&&(me=Jt,Et=Tt),Xt<me&&(me=Xt,Et=Kt)}return Et}(h):h,d.currentTime=h,h=NaN}catch(Et){0===d.readyState&&Et.code===Et.INVALID_STATE_ERR&&setTimeout(function(){d.currentTime=h,h=NaN},400)}}})},play:function pe(){if(d){d.autoplay=!0;var Qe=d.play();Qe&&Qe.catch&&typeof Promise<"u"&&Qe.catch(function(yt){"NotAllowedError"===yt.name&&O.trigger(y.default.PLAYBACK_NOT_ALLOWED),c.warn("Caught pending play exception - continuing (".concat(yt,")"))})}},isPaused:function Ie(){return d?d.paused:null},pause:function Be(){d&&(d.pause(),d.autoplay=!1)},isStalled:Oe,isSeeking:function at(){return d?d.seeking||!isNaN(h):null},getTime:function Xe(){return d?isNaN(h)?d.currentTime:h:null},getPlaybackRate:function je(){return d?d.playbackRate:null},setPlaybackRate:function B(Qe){d&&(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&d.readyState<=2&&Qe>0?d.addEventListener("canplay",b):d.playbackRate=Qe)},getPlayedRanges:function Ne(){return d?d.played:null},getEnded:function ee(){return d?d.ended:null},setStallState:function be(Qe,yt){!function Ce(Qe,yt){yt?function ie(Qe){null===Qe||!d||d.seeking||-1!==S.indexOf(Qe)||S.push(Qe)}(Qe):function ye(Qe){var yt=S.indexOf(Qe);null!==Qe&&-1!==yt&&S.splice(yt,1)}(Qe)}(Qe,yt)},getElement:function le(){return d},setElement:function Re(Qe){if(!(null==Qe||Qe&&/^(VIDEO|AUDIO)$/i.test(Qe.nodeName)))throw"element is not video or audio DOM type!";(d=Qe)&&(d.preload="auto")},setSource:function Y(Qe){d&&(Qe?d.src=Qe:(d.removeAttribute("src"),d.load()))},getSource:function ae(){return d?d.src:null},getTTMLRenderingDiv:function G(){return p},setTTMLRenderingDiv:function ce(Qe){(p=Qe).style.position="absolute",p.style.display="flex",p.style.overflow="hidden",p.style.pointerEvents="none",p.style.top=0,p.style.left=0},getVttRenderingDiv:function De(){return C},setVttRenderingDiv:function Te(Qe){C=Qe},getPlaybackQuality:function Me(){if(!d)return null;var Qe="webkitDroppedFrameCount"in d&&"webkitDecodedFrameCount"in d,Et=null;return"getVideoPlaybackQuality"in d?Et=d.getVideoPlaybackQuality():Qe&&(Et={droppedVideoFrames:d.webkitDroppedFrameCount,totalVideoFrames:d.webkitDroppedFrameCount+d.webkitDecodedFrameCount,creationTime:new Date}),Et},addEventListener:fe,removeEventListener:we,getReadyState:q,getBufferRange:$,getClientWidth:function Q(){return d?d.clientWidth:NaN},getClientHeight:function ne(){return d?d.clientHeight:NaN},getTextTracks:function Se(){return d?d.textTracks:[]},getTextTrack:Ee,addTextTrack:function Fe(Qe,yt,Et,me,We){if(!d)return null;var Tt=Ee(Qe,yt,Et,me,We);return Tt||((Tt=d.addTextTrack(Qe,yt,Et)).isEmbedded=We,Tt.isTTML=me),Tt},appendChild:function ct(Qe){d&&(d.appendChild(Qe),void 0!==Qe.isTTML&&(d.textTracks[d.textTracks.length-1].isTTML=Qe.isTTML,d.textTracks[d.textTracks.length-1].isEmbedded=Qe.isEmbedded))},removeChild:function qe(Qe){d&&d.removeChild(Qe)},getVideoWidth:function X(){return d?d.videoWidth:NaN},getVideoHeight:function re(){return d?d.videoHeight:NaN},getVideoRelativeOffsetTop:function J(){var Qe=d.parentNode.host||d.parentNode;return Qe?d.getBoundingClientRect().top-Qe.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function ge(){var Qe=d.parentNode.host||d.parentNode;return Qe?d.getBoundingClientRect().left-Qe.getBoundingClientRect().left:NaN},waitForReadyState:tt,reset:function L(){O.off(y.default.PLAYBACK_PLAYING,de,this)}},function I(){c=Object(m.default)(R).getInstance().getLogger(i),h=NaN}(),i}f.__dashjs_factory_name="VideoModel",g.default=t.default.getSingletonFactory(f)},"./src/streaming/net/FetchLoader.js":
/*!******************************************!*\
                  !*** ./src/streaming/net/FetchLoader.js ***!
                  \******************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),y=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),m=e(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function P(A,x){return function i(A){if(Array.isArray(A))return A}(A)||function f(A,x){var R=null==A?null:typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(null!=R){var O,S,I,E,L=[],b=!0,B=!1;try{if(I=(R=R.call(A)).next,0===x){if(Object(R)!==R)return;b=!1}else for(;!(b=(O=I.call(R)).done)&&(L.push(O.value),L.length!==x);b=!0);}catch(Z){B=!0,S=Z}finally{try{if(!b&&null!=R.return&&(E=R.return(),Object(E)!==E))return}finally{if(B)throw S}}return L}}(A,x)||d(A,x)||function D(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(A,x){if(A){if("string"==typeof A)return h(A,x);var R=Object.prototype.toString.call(A).slice(8,-1);if("Object"===R&&A.constructor&&(R=A.constructor.name),"Map"===R||"Set"===R)return Array.from(A);if("Arguments"===R||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return h(A,x)}}function h(A,x){(null==x||x>A.length)&&(x=A.length);for(var R=0,O=new Array(x);R<x;R++)O[R]=A[R];return O}function p(A){var L,x=this.context,R=(A=A||{}).requestModifier,O=A.lowLatencyThroughputModel,S=A.boxParser,I=Object(v.default)(x).getInstance();function Z(G){var ie,De=new Date,ce=G.request,Te=new Headers;if(ce.range&&Te.append("Range","bytes="+ce.range),G.headers)for(var be in G.headers){var Oe=G.headers[be];Oe&&Te.append(be,Oe)}ce.requestStartDate||(ce.requestStartDate=De),R&&R.modifyRequestHeader&&R.modifyRequestHeader({setRequestHeader:function(Ie,Be){Te.append(Ie,Be)}},{url:G.url}),"function"==typeof window.AbortController&&(ie=new AbortController,G.abortController=ie,ie.signal.onabort=G.onabort);var ye={method:G.method,headers:Te,credentials:G.withCredentials?"include":void 0,signal:ie?ie.signal:void 0},Ce=I.get().streaming.abr.fetchThroughputCalculationMode,de=Date.now(),Me=0;new Promise(function(pe){if(Ce===y.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&O&&(Me=O.getThroughputCapacityDelayMS(ce,1e3*L.getCurrentBufferLevel(ce.mediaType))))return setTimeout(pe,Me);pe()}).then(function(){var pe=Date.now();fetch(G.url,ye).then(function(Ie){G.response||(G.response={}),G.response.status=Ie.status,G.response.statusText=Ie.statusText,G.response.responseURL=Ie.url,Ie.ok||G.onerror();var Xe,Be="",at=function c(A,x){var R=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(!R){if(Array.isArray(A)||(R=d(A))||x&&A&&"number"==typeof A.length){R&&(A=R);var O=0,S=function(){};return{s:S,n:function(){return O>=A.length?{done:!0}:{done:!1,value:A[O++]}},e:function(B){throw B},f:S}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var L,I=!0,E=!1;return{s:function(){R=R.call(A)},n:function(){var B=R.next();return I=B.done,B},e:function(B){E=!0,L=B},f:function(){try{!I&&null!=R.return&&R.return()}finally{if(E)throw L}}}}(Ie.headers.keys());try{for(at.s();!(Xe=at.n()).done;){var je=Xe.value;Be+=je+": "+Ie.headers.get(je)+"\r\n"}}catch(tt){at.e(tt)}finally{at.f()}if(G.response.responseHeaders=Be,!Ie.body)return Ie.arrayBuffer().then(function(tt){G.response.response=tt,G.progress({loaded:tt.byteLength,total:tt.byteLength,stream:!1}),G.onload(),G.onend()});var Qe,yt,Ne=parseInt(Ie.headers.get("Content-Length"),10),ee=0,fe=!1,we=new Uint8Array,q=0;if(Ce===y.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&O){var Q=pe,ne=0,re=P(Ie.body.tee(),2),ge=re[1];Qe=re[0].getReader(),yt=[],Qe.read().then(function Et(me){var We=me.value,Tt=me.done;if(ne=Date.now(),We&&We.length){var Kt=ne-Q,Jt=We.length;yt.push({chunkDownloadTimeRelativeMS:ne-pe,chunkDownloadDurationMS:Kt,chunkBytes:Jt,kbps:Math.round(8*Jt/(Kt/1e3)),bufferLevel:L.getCurrentBufferLevel(ce.mediaType)})}if(Tt){var Xt=ne-pe,un=yt.reduce(function(fn,It){return fn+It.chunkBytes},0);return O.addMeasurement(ce,Xt,yt,de,Me,Be),void G.progress({loaded:un,total:un,lengthComputable:!0,time:O.getEstimatedDownloadDurationMS(ce),stream:!0})}return Q=Date.now(),Qe.read().then(Et)}),G.reader=ge.getReader()}else G.reader=Ie.body.getReader();var Se=[],Ee=[],Fe=[],ct=!0;oe(G,function tt(gt){var Qe=gt.value;if(gt.done){if(we){if(Ce!==y.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var Et=null,me=null;Ce===y.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(Et=function ae(G,De){try{var ce,Te;ce=G.filter(function(pe,Ie){return Ie<G.length-1}),Te=De.filter(function(pe,Ie){return Ie<De.length-1});var be=[];if(ce.length>1){for(var Oe=0,ie=0,ye=0;ye<ce.length;ye++)if(ce[ye]&&Te[ye]){var Ce=Te[ye].ts-ce[ye].ts;if(Ce>1)be.push(8*Te[ye].bytes/Ce);else{0===ie&&(ie=ce[ye].ts);var de=Te[ye].ts-ie;de>1?(be.push(8*Oe/de),Oe=0,ie=0):Oe+=Te[ye].bytes}}if(be.length>0)return be.reduce(function(pe,Ie){return pe+Ie},0)/be.length}return null}catch{return null}}(Ee,Fe))&&(me=8*ee/Et):Ce===y.default.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(me=Y(Se,ee)),G.progress({loaded:ee,total:isNaN(Ne)?ee:Ne,lengthComputable:!0,time:me,stream:!0})}G.response.response=we.buffer}return G.onload(),void G.onend()}if(Qe&&Qe.length>0){we=function le(G,De){if(0===G.length)return De;var ce=new Uint8Array(G.length+De.length);return ce.set(G),ce.set(De,G.length),ce}(we,Qe),ee+=Qe.length,Se.push({ts:Date.now(),bytes:Qe.length}),Ce===y.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&ct&&S.findLastTopIsoBoxCompleted(["moof"],we,q).found&&(ct=!1,Ee.push({ts:performance.now(),bytes:Qe.length}));var Tt=S.findLastTopIsoBoxCompleted(["moov","mdat"],we,q);if(Tt.found){var Jt,Kt=Tt.lastCompletedOffset+Tt.size;Ce===y.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&!ct&&(ct=!0,Fe.push({ts:performance.now(),bytes:we.length})),Kt===we.length?(Jt=we,we=new Uint8Array):(Jt=new Uint8Array(we.subarray(0,Kt)),we=we.subarray(Kt)),G.progress({data:Jt.buffer,lengthComputable:!1,noTrace:!0}),q=0}else q=Tt.lastCompletedOffset,fe||(G.progress({lengthComputable:!1,noTrace:!0}),fe=!0)}oe(G,tt)})}).catch(function(Ie){G.onerror&&G.onerror(Ie)})})}function oe(G,De){G.reader.read().then(De).catch(function(ce){G.onerror&&200===G.response.status&&G.onerror(ce)})}function Y(G,De){try{if((G=G.filter(function(be){return be.bytes>De/4/G.length})).length>1){var ce=0,Te=(G[G.length-1].ts-G[0].ts)/G.length;return G.forEach(function(be,Oe){var ie=G[Oe+1];if(ie){var ye=ie.ts-be.ts;ce+=ye<Te?ye:0}}),ce}return null}catch{return null}}return{load:function B(G){R&&R.modifyRequest?Object(m.modifyRequest)(G,R).then(function(){return Z(G)}):Z(G)},abort:function Re(G){if(G.abortController)G.abortController.abort();else if(G.reader)try{G.reader.cancel(),G.onabort()}catch{}},calculateDownloadedTime:Y,setup:function b(G){L=G.dashMetrics}}}p.__dashjs_factory_name="FetchLoader";var C=t.default.getClassFactory(p);g.default=C},"./src/streaming/net/HTTPLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/net/HTTPLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./XHRLoader */
"./src/streaming/net/XHRLoader.js"),v=e(
/*! ./FetchLoader */
"./src/streaming/net/FetchLoader.js"),y=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),m=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),P=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),D=e(
/*! ../models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),f=e(
/*! ../../core/Utils */
"./src/core/Utils.js"),i=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),c=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),d=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),h=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),p=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),C=e(
/*! ../models/LowLatencyThroughputModel */
"./src/streaming/models/LowLatencyThroughputModel.js"),A=e(
/*! ../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function x(L){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(L)}function R(L,b,B){return(b=function O(L){var b=function S(L,b){if("object"!==x(L)||null===L)return L;var B=L[Symbol.toPrimitive];if(void 0!==B){var Z=B.call(L,b||"default");if("object"!==x(Z))return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(L)}(L,"string");return"symbol"===x(b)?b:String(b)}(b))in L?Object.defineProperty(L,b,{value:B,enumerable:!0,configurable:!0,writable:!0}):L[b]=B,L}function I(L){var ce,Te,be,Oe,ie,ye,Ce,de,Me,b=this.context,B=(L=L||{}).errHandler,Z=L.dashMetrics,oe=L.mediaPlayerModel,le=L.requestModifier,Re=L.boxParser,Y=L.errors,ae=L.requestTimeout||0,G=Object(c.default)(b).getInstance(),De=Object(h.default)(b).getInstance();function Ie(je,Ne){var re,ee=je.request,fe=[],we=!0,q=!0,$=new Date,Q=$,ne=0,X=null;if(!le||!Z||!B)throw new Error("config object is not correct or missing");var qe,J=function(Jt){if(q=!1,ee.requestStartDate=$,ee.requestEndDate=new Date,ee.firstByteDate=ee.firstByteDate||$,ee.fileLoaderType=X,!ee.checkExistenceOnly){var Xt=re.response?re.response.responseURL:null,un=re.response?re.response.status:null,fn=re.response&&re.response.getAllResponseHeaders?re.response.getAllResponseHeaders():re.response?re.response.responseHeaders:[];Z.addHttpRequest(ee,Xt,un,fn,Jt?fe:null),ee.type===y.HTTPRequest.MPD_TYPE&&Z.addManifestUpdate(ee)}},ge=function(){if(-1!==Te.indexOf(re)&&(Te.splice(Te.indexOf(re),1),q))if(J(!1),Ne>0){try{De.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&ee.type===y.HTTPRequest.MEDIA_SEGMENT_TYPE&&oe.getRetryAttemptsForType(y.HTTPRequest.MEDIA_SEGMENT_TYPE)===Ne&&G.trigger(d.default.ATTEMPT_BACKGROUND_SYNC)}catch{}Ne--;var Xt={config:je};Oe.push(Xt),Xt.timeout=setTimeout(function(){-1!==Oe.indexOf(Xt)&&(Oe.splice(Oe.indexOf(Xt),1),Ie(je,Ne))},oe.getRetryIntervalsForType(ee.type))}else{if(ee.type===y.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;B.error(new P.default(ie[ee.type],ee.url+" is not available",{request:ee,response:re.response})),je.error&&je.error(ee,"error",re.response.statusText),je.complete&&je.complete(ee,re.response.statusText)}};ee.hasOwnProperty("availabilityTimeComplete")&&!1===ee.availabilityTimeComplete&&window.fetch&&"arraybuffer"===ee.responseType&&ee.type===y.HTTPRequest.MEDIA_SEGMENT_TYPE?((qe=Object(v.default)(b).create({requestModifier:le,lowLatencyThroughputModel:de,boxParser:Re})).setup({dashMetrics:Z}),X=p.default.FILE_LOADER_TYPES.FETCH):(qe=Object(t.default)(b).create({requestModifier:le}),X=p.default.FILE_LOADER_TYPES.XHR);var tt=null,gt=le.modifyRequestURL?le.modifyRequestURL(ee.url):ee.url;if(De.get().streaming.cmcd&&De.get().streaming.cmcd.enabled){var Qe=De.get().streaming.cmcd.mode;if(Qe===p.default.CMCD_MODE_QUERY){var yt=function Be(je){try{var Ne=[],ee=ye.getQueryParameter(je);return ee&&Ne.push(ee),Ne}catch{return[]}}(ee);gt=f.default.addAditionalQueryParameterToUrl(gt,yt)}else Qe===p.default.CMCD_MODE_HEADER&&(tt=ye.getHeaderParameters(ee))}ee.url=gt;var Et=ee.checkExistenceOnly?y.HTTPRequest.HEAD:y.HTTPRequest.GET,me=Ce.getXHRWithCredentialsForType(ee.type);re={url:gt,method:Et,withCredentials:me,request:ee,onload:function(){re.response.status>=200&&re.response.status<=299&&(J(!0),je.success&&je.success(re.response.response,re.response.statusText,re.response.responseURL),je.complete&&je.complete(ee,re.response.statusText))},onend:ge,onerror:ge,progress:function(Jt){var Xt=new Date;we&&(we=!1,(!Jt.lengthComputable||Jt.lengthComputable&&Jt.total!==Jt.loaded)&&(ee.firstByteDate=Xt)),Jt.lengthComputable&&(ee.bytesLoaded=Jt.loaded,ee.bytesTotal=Jt.total),Jt.noTrace||(fe.push({s:Q,d:Jt.time?Jt.time:Xt.getTime()-Q.getTime(),b:[Jt.loaded?Jt.loaded-ne:0]}),Q=Xt,ne=Jt.loaded),je.progress&&Jt&&je.progress(Jt)},onabort:function(){je.abort&&je.abort(ee)},ontimeout:function(Jt){var Xt;Xt=Jt.lengthComputable?"Request timeout: loaded: "+Jt.loaded+", out of: "+Jt.total+" : "+(Jt.loaded/Jt.total*100).toFixed(3)+"% Completed":"Request timeout: non-computable download size",Me.warn(Xt)},loader:qe,timeout:ae,headers:tt};var We=(new Date).getTime();if(isNaN(ee.delayLoadingTime)||We>=ee.delayLoadingTime)Te.push(re),qe.load(re);else{var Tt={httpRequest:re};be.push(Tt),Tt.delayTimeout=setTimeout(function(){if(-1!==be.indexOf(Tt)){be.splice(be.indexOf(Tt),1);try{Q=$=new Date,Te.push(Tt.httpRequest),qe.load(Tt.httpRequest)}catch{Tt.httpRequest.onerror()}}},ee.delayLoadingTime-We)}}return ce={load:function at(je){je.request?Ie(je,oe.getRetryAttemptsForType(je.request.type)):je.error&&je.error(je.request,"error")},abort:function Xe(){Oe.forEach(function(je){clearTimeout(je.timeout),je.config.request&&je.config.abort&&je.config.abort(je.config.request)}),Oe=[],be.forEach(function(je){return clearTimeout(je.delayTimeout)}),be=[],Te.forEach(function(je){je.request.type!==y.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(je.onloadend=je.onerror=je.onprogress=void 0,je.loader.abort(je))}),Te=[]}},function pe(){var je;Me=Object(i.default)(b).getInstance().getLogger(ce),Te=[],be=[],Oe=[],ye=Object(D.default)(b).getInstance(),de=Object(C.default)(b).getInstance(),Ce=Object(A.default)(b).getInstance(),R(je={},y.HTTPRequest.MPD_TYPE,Y.DOWNLOAD_ERROR_ID_MANIFEST_CODE),R(je,y.HTTPRequest.XLINK_EXPANSION_TYPE,Y.DOWNLOAD_ERROR_ID_XLINK_CODE),R(je,y.HTTPRequest.INIT_SEGMENT_TYPE,Y.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),R(je,y.HTTPRequest.MEDIA_SEGMENT_TYPE,Y.DOWNLOAD_ERROR_ID_CONTENT_CODE),R(je,y.HTTPRequest.INDEX_SEGMENT_TYPE,Y.DOWNLOAD_ERROR_ID_CONTENT_CODE),R(je,y.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,Y.DOWNLOAD_ERROR_ID_CONTENT_CODE),R(je,y.HTTPRequest.OTHER_TYPE,Y.DOWNLOAD_ERROR_ID_CONTENT_CODE),ie=je}(),ce}I.__dashjs_factory_name="HTTPLoader";var E=m.default.getClassFactory(I);g.default=E},"./src/streaming/net/SchemeLoaderFactory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/net/SchemeLoaderFactory.js ***!
                  \**************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../streaming/net/HTTPLoader */
"./src/streaming/net/HTTPLoader.js");function y(){var D;function c(){D={}}function h(){c()}return function p(){h()}(),{getLoader:function d(C){for(var A in D)if(D.hasOwnProperty(A)&&C.startsWith(A))return D[A];return v.default},registerLoader:function f(C,A){D[C]=A},unregisterLoader:function i(C){D[C]&&delete D[C]},unregisterAllLoader:c,reset:h}}y.__dashjs_factory_name="SchemeLoaderFactory";var m=t.default.getSingletonFactory(y);g.default=m},"./src/streaming/net/URLLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/URLLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../streaming/net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js");function y(P){P=P||{};var i,c,D=this.context;return i=Object(v.default)(D).getInstance(),{load:function d(p){if(!c){var C=i.getLoader(p&&p.request?p.request.url:null);c=C(D).create({errHandler:P.errHandler,mediaPlayerModel:P.mediaPlayerModel,requestModifier:P.requestModifier,dashMetrics:P.dashMetrics,boxParser:P.boxParser?P.boxParser:null,constants:P.constants?P.constants:null,dashConstants:P.dashConstants?P.dashConstants:null,urlUtils:P.urlUtils?P.urlUtils:null,requestTimeout:isNaN(P.requestTimeout)?0:P.requestTimeout,errors:P.errors})}c.load(p)},abort:function h(){c&&c.abort()}}}y.__dashjs_factory_name="URLLoader";var m=t.default.getClassFactory(y);g.default=m},"./src/streaming/net/XHRLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/XHRLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function y(P){var D=(P=P||{}).requestModifier;function c(h){var p=new Date,C=h.request,A=new XMLHttpRequest;if(A.open(h.method,h.url,!0),C.responseType&&(A.responseType=C.responseType),C.range&&A.setRequestHeader("Range","bytes="+C.range),C.requestStartDate||(C.requestStartDate=p),D&&D.modifyRequestHeader&&(A=D.modifyRequestHeader(A,{url:h.url})),h.headers)for(var x in h.headers){var R=h.headers[x];R&&A.setRequestHeader(x,R)}A.withCredentials=h.withCredentials,A.onload=h.onload,A.onloadend=h.onend,A.onerror=h.onerror,A.onprogress=h.progress,A.onabort=h.onabort,A.ontimeout=h.ontimeout,A.timeout=h.timeout,A.send(),h.response=A}return{load:function i(h){D&&D.modifyRequest?Object(v.modifyRequest)(h,D).then(function(){return c(h)}):c(h)},abort:function d(h){var p=h.response;p.onloadend=p.onerror=p.onprogress=void 0,p.abort()}}}y.__dashjs_factory_name="XHRLoader";var m=t.default.getClassFactory(y);g.default=m},"./src/streaming/protection/CommonEncryption.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/CommonEncryption.js ***!
                  \******************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function y(c,d){for(var h=0;h<d.length;h++){var p=d[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,P(p.key),p)}}function P(c){var d=function D(c,d){if("object"!==t(c)||null===c)return c;var h=c[Symbol.toPrimitive];if(void 0!==h){var p=h.call(c,d||"default");if("object"!==t(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}e.r(g);var f={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]};g.default=function(){function c(){!function v(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}(this,c)}return function m(c,d,h){return d&&y(c.prototype,d),h&&y(c,h),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,null,[{key:"findCencContentProtection",value:function(h){for(var p=null,C=0;C<h.length;++C){var A=h[C];"urn:mpeg:dash:mp4protection:2011"===A.schemeIdUri.toLowerCase()&&("cenc"===A.value.toLowerCase()||"cbcs"===A.value.toLowerCase())&&(p=A)}return p}},{key:"getPSSHData",value:function(h){var p=8,C=new DataView(h),A=C.getUint8(p);return p+=20,A>0&&(p+=4+16*C.getUint32(p)),h.slice(p+=4)}},{key:"getPSSHForKeySystem",value:function(h,p){var C=c.parsePSSHList(p);return h&&C.hasOwnProperty(h.uuid.toLowerCase())?C[h.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(h,p){return"pssh"in h?(h.pssh.__text=h.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),p.decodeArray(h.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(h){if(null==h)return[];for(var p=new DataView(h.buffer||h),A={},x=0;;){var O,S=void 0,I=void 0,E=x;if(x>=p.buffer.byteLength)break;if(O=x+p.getUint32(x),1886614376===p.getUint32(x+=4))if(0===(S=p.getUint8(x+=4))||1===S){x++,x+=3,I="";var L=void 0,b=void 0;for(L=0;L<4;L++)I+=1===(b=p.getUint8(x+L).toString(16)).length?"0"+b:b;for(x+=4,I+="-",L=0;L<2;L++)I+=1===(b=p.getUint8(x+L).toString(16)).length?"0"+b:b;for(x+=2,I+="-",L=0;L<2;L++)I+=1===(b=p.getUint8(x+L).toString(16)).length?"0"+b:b;for(x+=2,I+="-",L=0;L<2;L++)I+=1===(b=p.getUint8(x+L).toString(16)).length?"0"+b:b;for(x+=2,I+="-",L=0;L<6;L++)I+=1===(b=p.getUint8(x+L).toString(16)).length?"0"+b:b;x+=6,x+=4,A[I=I.toLowerCase()]=p.buffer.slice(E,O),x=O}else x=O;else x=O}return A}},{key:"getLicenseServerUrlFromMediaInfo",value:function(h,p){try{if(!h||0===h.length)return null;for(var C=0,A=null;C<h.length&&!A;){var x=h[C];if(x&&x.contentProtection&&x.contentProtection.length>0){var R=x.contentProtection.filter(function(B){return B.schemeIdUri&&B.schemeIdUri===p});if(R&&R.length>0)for(var O=0;O<R.length&&!A;){for(var S=R[O],I=0;I<f.attributes.length&&!A;){for(var E=0,L=f.attributes[I];E<f.prefixes.length&&!A;)S[L]&&S[L].__prefix&&S[L].__prefix===f.prefixes[E]&&S[L].__text&&(A=S[L].__text),E+=1;I+=1}O+=1}}C+=1}return A}catch{return null}}}]),c}()},"./src/streaming/protection/Protection.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/Protection.js ***!
                  \************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./controllers/ProtectionController */
"./src/streaming/protection/controllers/ProtectionController.js"),v=e(
/*! ./controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),y=e(
/*! ./ProtectionEvents */
"./src/streaming/protection/ProtectionEvents.js"),m=e(
/*! ./errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),P=e(
/*! ./models/ProtectionModel_21Jan2015 */
"./src/streaming/protection/models/ProtectionModel_21Jan2015.js"),D=e(
/*! ./models/ProtectionModel_3Feb2014 */
"./src/streaming/protection/models/ProtectionModel_3Feb2014.js"),f=e(
/*! ./models/ProtectionModel_01b */
"./src/streaming/protection/models/ProtectionModel_01b.js"),i=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],c=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function d(){var p,C=this.context;function R(O,S){for(var I=0;I<S.length;I++){var E=S[I];if("function"==typeof O[E[Object.keys(E)[0]]])return E}return null}return p={createProtectionSystem:function A(O){var S=null,I=Object(v.default)(C).getInstance();I.setConfig({debug:O.debug,BASE64:O.BASE64,settings:O.settings}),I.initialize();var E=function x(O){var S=O.debug,I=S.getLogger(p),E=O.eventBus,L=O.errHandler,b=O.videoModel?O.videoModel.getElement():null;return b&&void 0===b.onencrypted||b&&void 0===b.mediaKeys?R(b,c)?(I.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Object(D.default)(C).create({debug:S,eventBus:E,events:O.events,api:R(b,c)})):R(b,i)?(I.info("EME detected on this user agent! (ProtectionModel_01b)"),Object(f.default)(C).create({debug:S,eventBus:E,errHandler:L,events:O.events,api:R(b,i)})):(I.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(I.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),Object(P.default)(C).create({debug:S,eventBus:E,events:O.events}))}(O);return!S&&E&&(S=Object(t.default)(C).create({protectionModel:E,protectionKeyController:I,eventBus:O.eventBus,debug:O.debug,events:O.events,BASE64:O.BASE64,constants:O.constants,cmcdModel:O.cmcdModel,customParametersModel:O.customParametersModel,settings:O.settings}),O.capabilities.setEncryptedMediaSupported(!0)),S}}}d.__dashjs_factory_name="Protection";var h=dashjs.FactoryMaker.getClassFactory(d);h.events=y.default,h.errors=m.default,dashjs.FactoryMaker.updateClassFactory(d.__dashjs_factory_name,h),g.default=h},"./src/streaming/protection/ProtectionEvents.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/ProtectionEvents.js ***!
                  \******************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function v(O){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(O)}function y(O,S){for(var I=0;I<S.length;I++){var E=S[I];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(O,P(E.key),E)}}function P(O){var S=function D(O,S){if("object"!==v(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var E=I.call(O,S||"default");if("object"!==v(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)(O)}(O,"string");return"symbol"===v(S)?S:String(S)}function i(O,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),S&&c(O,S)}function c(O,S){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,L){return E.__proto__=L,E})(O,S)}function d(O){var S=function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,E=A(O);if(S){var b=A(this).constructor;L=Reflect.construct(E,arguments,b)}else L=E.apply(this,arguments);return function h(O,S){if(S&&("object"===v(S)||"function"==typeof S))return S;if(void 0!==S)throw new TypeError("Derived constructors may only return object or undefined");return function p(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function A(O){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}e.r(g);var R=new(function(O){i(I,O);var S=d(I);function I(){var E;return function f(O,S){if(!(O instanceof S))throw new TypeError("Cannot call a class as a function")}(this,I),(E=S.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",E.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",E.KEY_ADDED="public_keyAdded",E.KEY_ERROR="public_keyError",E.KEY_MESSAGE="public_keyMessage",E.KEY_SESSION_CLOSED="public_keySessionClosed",E.KEY_SESSION_CREATED="public_keySessionCreated",E.KEY_SESSION_REMOVED="public_keySessionRemoved",E.KEY_STATUSES_CHANGED="public_keyStatusesChanged",E.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",E.KEY_SYSTEM_SELECTED="public_keySystemSelected",E.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",E.LICENSE_REQUEST_SENDING="public_licenseRequestSending",E.NEED_KEY="needkey",E.PROTECTION_CREATED="public_protectioncreated",E.PROTECTION_DESTROYED="public_protectiondestroyed",E.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",E.TEARDOWN_COMPLETE="protectionTeardownComplete",E.VIDEO_ELEMENT_SELECTED="videoElementSelected",E.KEY_SESSION_UPDATED="public_keySessionUpdated",E}return function m(O,S,I){return S&&y(O.prototype,S),I&&y(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(e(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));g.default=R},"./src/streaming/protection/controllers/ProtectionController.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionController.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),v=e(
/*! ../vo/MediaCapability */
"./src/streaming/protection/vo/MediaCapability.js"),y=e(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),m=e(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),P=e(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),D=e(
/*! ../vo/LicenseRequest */
"./src/streaming/protection/vo/LicenseRequest.js"),f=e(
/*! ../vo/LicenseResponse */
"./src/streaming/protection/vo/LicenseResponse.js"),i=e(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),c=e(
/*! ../../../core/Utils */
"./src/core/Utils.js"),d=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),h=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function p(I){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(I)}function S(I){var De,ce,Te,be,Oe,ie,ye,Ce,de,Me,pe,E=(I=I||{}).protectionKeyController,L=I.protectionModel,b=I.eventBus,B=I.events,Z=I.debug,oe=I.BASE64,le=I.constants,Re=[],Y=I.cmcdModel,ae=I.settings,G=I.customParametersModel;function Be(){if(!(b&&b.hasOwnProperty("on")&&E&&E.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function Ne(Ze,st){Ce||de?Ce&&fe():function ee(Ze,st){if(!de){de=!0;var At,lt=[];Ze=Ze.sort(function(on,En){return(Oe&&Oe[on.ks.systemString]&&Oe[on.ks.systemString].priority>=0?Oe[on.ks.systemString].priority:Ze.length)-(Oe&&Oe[En.ks.systemString]&&Oe[En.ks.systemString].priority>=0?Oe[En.ks.systemString].priority:Ze.length)});for(var St=0;St<Ze.length;St++){var bt=yt(Ze[St]);lt.push({ks:Ze[St].ks,configs:[bt],protData:Ze[St].protData})}L.requestKeySystemAccess(lt).then(function(on){return ce.info("DRM: KeySystem Access Granted for system string ("+((At=on.data).mksa&&At.mksa.selectedSystemString?At.mksa.selectedSystemString:At.keySystem.systemString)+")!  Selecting key system..."),L.selectKeySystem(At)}).then(function(on){if(Ce=on,de=!1,L){b.trigger(B.KEY_SYSTEM_SELECTED,{data:At});var En=Q(Ce);En&&En.serverCertificate&&En.serverCertificate.length>0&&L.setServerCertificate(oe.decodeArray(En.serverCertificate).buffer),fe()}}).catch(function(on){Ce=null,de=!1,st||b.trigger(B.KEY_SYSTEM_SELECTED,{data:null,error:new P.default(m.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,m.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+on.error)})})}}(Ze,st)}function fe(){for(var Ze,st=0;st<Te.length;st++)for(Ze=0;Ze<Te[st].length;Ze++)if(Ce===Te[st][Ze].ks){we(Te[st][Ze]);break}Te=[]}function we(Ze){if(E.isClearKey(Ce)&&Ze.protData&&Ze.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(Ze.protData.clearkeys).length){var st={kids:Object.keys(Ze.protData.clearkeys)};Ze.initData=(new TextEncoder).encode(JSON.stringify(st))}Ze.sessionId?q(Ze):null!==Ze.initData&&$(Ze)}function q(Ze){Be(),L.loadKeySession(Ze)}function $(Ze){var st=t.default.getPSSHForKeySystem(Ce,Ze?Ze.initData:null);if(st){if(function re(Ze){if(!Ze)return!1;try{for(var st=L.getSessions(),lt=0;lt<st.length;lt++)if(st[lt].getKeyId()===Ze)return!0;return!1}catch{return!1}}(Ze.keyId)||J(st))return;try{Ze.initData=st,L.createKeySession(Ze)}catch(lt){b.trigger(B.KEY_SESSION_CREATED,{data:null,error:new P.default(m.default.KEY_SESSION_CREATED_ERROR_CODE,m.default.KEY_SESSION_CREATED_ERROR_MESSAGE+lt.message)})}}else Ze&&Ze.initData?L.createKeySession(Ze):b.trigger(B.KEY_SESSION_CREATED,{data:null,error:new P.default(m.default.KEY_SESSION_CREATED_ERROR_CODE,m.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(Ce?Ce.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function Q(Ze){if(Ze){var st=Ze.systemString;if(Oe)return st in Oe?Oe[st]:null}return null}function J(Ze){if(!Ze)return!1;try{for(var st=L.getAllInitData(),lt=0;lt<st.length;lt++)if(E.initDataEquals(Ze,st[lt]))return ce.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function Fe(Ze){Be(),Ze?(L.setMediaElement(Ze),b.on(B.NEED_KEY,vt,De)):null===Ze&&(L.setMediaElement(Ze),b.off(B.NEED_KEY,vt,De))}function yt(Ze){var st=Ze.protData,lt=[],St=[],bt=st&&st.audioRobustness&&st.audioRobustness.length>0?st.audioRobustness:ye,At=st&&st.videoRobustness&&st.videoRobustness.length>0?st.videoRobustness:ye,on=Ze.sessionType,En=st&&st.distinctiveIdentifier?st.distinctiveIdentifier:"optional",tn=st&&st.persistentState?st.persistentState:"temporary"===on?"optional":"required";return be.forEach(function(Mn){Mn.type===le.AUDIO?lt.push(new v.default(Mn.codec,bt)):Mn.type===le.VIDEO&&St.push(new v.default(Mn.codec,At))}),new y.default(lt,St,En,tn,[on])}function Et(Ze){Ze.error?b.trigger(B.KEY_STATUSES_CHANGED,{data:null,error:Ze.error}):ce.debug("DRM: key status = "+Ze.status)}function me(Ze){ce.debug("DRM: onKeyMessage");var st=Ze.data;b.trigger(B.KEY_MESSAGE,{data:st});var lt=st.messageType?st.messageType:"license-request",St=st.message,bt=st.sessionToken,At=Q(Ce),on=E.getLicenseServerModelInstance(Ce,At,lt),En={sessionToken:bt,messageType:lt};if(St&&0!==St.byteLength){if(!on)return ce.debug("DRM: License server request not required for this message (type = "+Ze.data.messageType+").  Session ID = "+bt.getSessionId()),void We(En);if(E.isClearKey(Ce)){var tn=E.processClearKeyLicenseRequest(Ce,At,St);if(tn&&tn.keyPairs&&tn.keyPairs.length>0)return ce.debug("DRM: ClearKey license request handled by application!"),We(En),void L.updateKeySession(bt,tn)}!function Tt(Ze,st,lt){var St=Ze.sessionToken,bt=Ze.messageType?Ze.messageType:"license-request",At={sessionToken:St,messageType:bt},on=Ce?Ce.systemString:null,En=function Xt(Ze,st,lt,St,bt){var At=null,on=St.message;if(Ze&&Ze.serverURL){var En=Ze.serverURL;"string"==typeof En&&""!==En?At=En:"object"===p(En)&&En.hasOwnProperty(st)&&(At=En[st])}else if(Ze&&Ze.laURL&&""!==Ze.laURL)At=Ze.laURL;else if(!(At=t.default.getLicenseServerUrlFromMediaInfo(be,Ce.schemeIdURI))&&!E.isClearKey(Ce)){var tn=t.default.getPSSHData(lt.initData);(At=Ce.getLicenseServerURLFromInitData(tn))||(At=St.laURL)}return bt.getServerURLFromMessage(At,on,st)}(lt,bt,St,Ze,st);if(En){var tn={},Mn=!1;lt&&un(tn,lt.httpRequestHeaders);var wn=Ze.message;un(tn,Ce.getRequestHeadersFromMessage(wn)),Object.keys(tn).forEach(function(Dt){"authorization"===Dt.toLowerCase()&&(Mn=!0)}),lt&&"boolean"==typeof lt.withCredentials&&(Mn=lt.withCredentials);var $n=function(Qt){if(L)if(Qt.status>=200&&Qt.status<=299){var Nt=c.default.parseHttpHeaders(Qt.getAllResponseHeaders?Qt.getAllResponseHeaders():null),xn=new f.default(Qt.responseURL,Nt,Qt.response);It(G.getLicenseResponseFilters(),xn).then(function(){var wt=st.getLicenseMessage(xn.data,on,bt);null!==wt?(We(At),L.updateKeySession(St,wt)):fn(Qt,At,on,bt,st)})}else fn(Qt,At,on,bt,st)},ti=function(Qt){We(At,new P.default(m.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,m.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+on+' update, XHR aborted. status is "'+Qt.statusText+'" ('+Qt.status+"), readyState is "+Qt.readyState))},vn=function(Qt){We(At,new P.default(m.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,m.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+on+' update, XHR error. status is "'+Qt.statusText+'" ('+Qt.status+"), readyState is "+Qt.readyState))},pn=Ce.getLicenseRequestFromMessage(wn),yn=st.getHTTPMethod(bt),mn=st.getResponseType(on,bt),_n=lt&&!isNaN(lt.httpTimeout)?lt.httpTimeout:8e3,Mt=St.getSessionId()||null,ht=new D.default(En,yn,mn,tn,Mn,bt,Mt,pn),Tn=isNaN(ae.get().streaming.retryAttempts[i.HTTPRequest.LICENSE])?3:ae.get().streaming.retryAttempts[i.HTTPRequest.LICENSE];It(G.getLicenseRequestFilters(),ht).then(function(){Kt(ht,Tn,_n,$n,ti,vn)})}else We(At,new P.default(m.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,m.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(st,on,At)}else We(En,new P.default(m.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,m.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function We(Ze,st){b.trigger(B.LICENSE_REQUEST_COMPLETE,{data:Ze,error:st})}function Kt(Ze,st,lt,St,bt,At){var on=new XMLHttpRequest;if(ae.get().streaming.cmcd&&ae.get().streaming.cmcd.enabled&&ae.get().streaming.cmcd.mode===d.default.CMCD_MODE_QUERY){var tn=Y.getQueryParameter({url:Ze.url,type:i.HTTPRequest.LICENSE});tn&&(Ze.url=c.default.addAditionalQueryParameterToUrl(Ze.url,[tn]))}for(var Mn in on.open(Ze.method,Ze.url,!0),on.responseType=Ze.responseType,on.withCredentials=Ze.withCredentials,lt>0&&(on.timeout=lt),Ze.headers)on.setRequestHeader(Mn,Ze.headers[Mn]);if(ae.get().streaming.cmcd&&ae.get().streaming.cmcd.enabled&&ae.get().streaming.cmcd.mode===d.default.CMCD_MODE_HEADER){var Nn=Y.getHeaderParameters({url:Ze.url,type:i.HTTPRequest.LICENSE});if(Nn)for(var $n in Nn){var ti=Nn[$n];ti&&on.setRequestHeader($n,ti)}}var vn=function(){st--;var yn=isNaN(ae.get().streaming.retryIntervals[i.HTTPRequest.LICENSE])?1e3:ae.get().streaming.retryIntervals[i.HTTPRequest.LICENSE];pe=setTimeout(function(){Kt(Ze,st,lt,St,bt,At)},yn)};on.onload=function(){Me=null,this.status>=200&&this.status<=299||st<=0?St(this):(ce.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+st),vn())},on.ontimeout=on.onerror=function(){Me=null,st<=0?At(this):(ce.warn("License request network request failed . Retrying it... Pending retries: "+st),vn())},on.onabort=function(){bt(this)},b.trigger(B.LICENSE_REQUEST_SENDING,{url:Ze.url,headers:Ze.headers,payload:Ze.data,sessionId:Ze.sessionId}),Me=on,on.send(Ze.data)}function Jt(){Me&&(Me.onloadend=Me.onerror=Me.onprogress=void 0,Me.abort(),Me=null),pe&&(clearTimeout(pe),pe=null)}function un(Ze,st){if(st)for(var lt in st)Ze[lt]=st[lt]}function fn(Ze,st,lt,St,bt){var At="NONE",on=null;Ze.response&&(At=bt.getErrorResponse(Ze.response,lt,St),on={serverResponse:Ze.response||null,responseCode:Ze.status||null,responseText:Ze.statusText||null}),We(st,new P.default(m.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,m.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+lt+' update, XHR complete. status is "'+Ze.statusText+'" ('+Ze.status+"), readyState is "+Ze.readyState+".  Response is "+At,on))}function It(Ze,st){return Ze?Ze.reduce(function(lt,St){return lt.then(function(){return St(st)})},Promise.resolve()):Promise.resolve()}function vt(Ze,st){if(!ae.get().streaming.protection.ignoreEmeEncryptedEvent){if(ce.debug("DRM: onNeedKey"),"cenc"!==Ze.key.initDataType)return void ce.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+Ze.key.initDataType);if(0===be.length&&(ce.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(st=typeof st>"u"?1:st+1)<5))return void Re.push(setTimeout(function(){vt(Ze,st)},500));var lt=Ze.key.initData;if(ArrayBuffer.isView(lt)&&(lt=lt.buffer),Ce){var St=t.default.getPSSHForKeySystem(Ce,lt);if(St&&J(St))return}ce.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(lt)));var bt=E.getSupportedKeySystemsFromSegmentPssh(lt,Oe,ie);if(0===bt.length)return void ce.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");!function je(Ze){Te.push(Ze),Ne(Ze,!1)}(bt)}}return De={initializeForMedia:function at(Ze){if(!Ze)throw new Error("mediaInfo can not be null or undefined");Be(),be.push(Ze)},clearMediaInfoArray:function ne(){be=[]},handleKeySystemFromManifest:function Xe(){if(be&&0!==be.length){var Ze=[];be.forEach(function(st){var lt=E.getSupportedKeySystemsFromContentProtection(st.contentProtection,Oe,ie);lt.length>0&&(0===Ze.length&&(Ze=lt),Te.push(lt))}),Ze&&Ze.length>0&&Ne(Ze,!0)}},createKeySession:$,loadKeySession:q,removeKeySession:function ge(Ze){Be(),L.removeKeySession(Ze)},closeKeySession:function Se(Ze){Be(),L.closeKeySession(Ze)},setServerCertificate:function Ee(Ze){Be(),L.setServerCertificate(Ze)},setMediaElement:Fe,setSessionType:function ct(Ze){ie=Ze},setRobustnessLevel:function qe(Ze){ye=Ze},setProtectionData:function tt(Ze){Oe=Ze,E.setProtectionData(Ze)},getSupportedKeySystemsFromContentProtection:function X(Ze){return Be(),E.getSupportedKeySystemsFromContentProtection(Ze,Oe,ie)},getKeySystems:function it(){return E?E.getKeySystems():[]},setKeySystems:function He(Ze){E&&E.setKeySystems(Ze)},stop:function gt(){Jt(),L&&L.stop()},reset:function Qe(){b.off(B.INTERNAL_KEY_MESSAGE,me,De),b.off(B.INTERNAL_KEY_STATUS_CHANGED,Et,De),Be(),Jt(),Fe(null),Ce=null,de=!1,L&&(L.reset(),L=null),Re.forEach(function(Ze){return clearTimeout(Ze)}),Re=[],be=[],Te=[]}},function Ie(){ce=Z.getLogger(De),Te=[],be=[],ie="temporary",ye="",Me=null,pe=null,b.on(B.INTERNAL_KEY_MESSAGE,me,De),b.on(B.INTERNAL_KEY_STATUS_CHANGED,Et,De)}(),De}S.__dashjs_factory_name="ProtectionController",g.default=h.default.getClassFactory(S)},"./src/streaming/protection/controllers/ProtectionKeyController.js":
/*!*************************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionKeyController.js ***!
                  \*************************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),v=e(
/*! ./../drm/KeySystemClearKey */
"./src/streaming/protection/drm/KeySystemClearKey.js"),y=e(
/*! ./../drm/KeySystemW3CClearKey */
"./src/streaming/protection/drm/KeySystemW3CClearKey.js"),m=e(
/*! ./../drm/KeySystemWidevine */
"./src/streaming/protection/drm/KeySystemWidevine.js"),P=e(
/*! ./../drm/KeySystemPlayReady */
"./src/streaming/protection/drm/KeySystemPlayReady.js"),D=e(
/*! ./../servers/DRMToday */
"./src/streaming/protection/servers/DRMToday.js"),f=e(
/*! ./../servers/PlayReady */
"./src/streaming/protection/servers/PlayReady.js"),i=e(
/*! ./../servers/Widevine */
"./src/streaming/protection/servers/Widevine.js"),c=e(
/*! ./../servers/ClearKey */
"./src/streaming/protection/servers/ClearKey.js"),d=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function h(){var C,A,x,R,O,S,I,E,p=this.context;function Te(ie,ye){return ye&&ie in ye?ye[ie]:null}function be(ie,ye){return ie&&ie.sessionId?ie.sessionId:ye&&ye.sessionId?ye.sessionId:null}function Oe(ie,ye){return ie&&ie.sessionType?ie.sessionType:ye}return C={initialize:function b(){var ie;R=[],ie=Object(P.default)(p).getInstance({BASE64:O,settings:S}),R.push(ie),ie=Object(m.default)(p).getInstance({BASE64:O}),R.push(ie),ie=Object(v.default)(p).getInstance({BASE64:O}),R.push(ie),I=ie,ie=Object(y.default)(p).getInstance({BASE64:O,debug:A}),R.push(ie),E=ie},setProtectionData:function ce(ie){for(var Ce=0;Ce<R.length;Ce++){var de=R[Ce];de.hasOwnProperty("init")&&de.init((pe=de.systemString,Ie=void 0,Ie=null,ie&&(Ie=pe in ie?ie[pe]:null),Ie))}var pe,Ie},isClearKey:function le(ie){return ie===I||ie===E},initDataEquals:function Re(ie,ye){if(ie.byteLength===ye.byteLength){for(var Ce=new Uint8Array(ie),de=new Uint8Array(ye),Me=0;Me<Ce.length;Me++)if(Ce[Me]!==de[Me])return!1;return!0}return!1},getKeySystems:function B(){return R},setKeySystems:function Z(ie){R=ie},getKeySystemBySystemString:function oe(ie){for(var ye=0;ye<R.length;ye++)if(R[ye].systemString===ie)return R[ye];return null},getSupportedKeySystemsFromContentProtection:function Y(ie,ye,Ce){var de,Me,pe,Ie,Be=[];if(ie){var at=t.default.findCencContentProtection(ie);for(pe=0;pe<R.length;++pe){var Xe=Te((Me=R[pe]).systemString,ye);for(Ie=0;Ie<ie.length;++Ie)if((de=ie[Ie]).schemeIdUri.toLowerCase()===Me.schemeIdURI){var je=Me.getInitData(de,at);Be.push({ks:R[pe],keyId:de.keyId,initData:je,protData:Xe,cdmData:Me.getCDMData(Xe?Xe.cdmData:null),sessionId:be(Xe,de),sessionType:Oe(Xe,Ce)})}}}return Be},getSupportedKeySystemsFromSegmentPssh:function ae(ie,ye,Ce){for(var pe,de=[],Me=t.default.parsePSSHList(ie),Be=0;Be<R.length;++Be){var at=Te((pe=R[Be]).systemString,ye);pe.uuid in Me&&de.push({ks:pe,initData:Me[pe.uuid],protData:at,cdmData:pe.getCDMData(at?at.cdmData:null),sessionId:be(at),sessionType:Oe(at,Ce)})}return de},getLicenseServerModelInstance:function G(ie,ye,Ce){if("license-release"===Ce||"individualization-request"===Ce)return null;var de=null;return ye&&ye.hasOwnProperty("drmtoday")?de=Object(D.default)(p).getInstance({BASE64:O}):ie.systemString===d.default.WIDEVINE_KEYSTEM_STRING?de=Object(i.default)(p).getInstance():ie.systemString===d.default.PLAYREADY_KEYSTEM_STRING?de=Object(f.default)(p).getInstance():ie.systemString===d.default.CLEARKEY_KEYSTEM_STRING&&(de=Object(c.default)(p).getInstance()),de},processClearKeyLicenseRequest:function De(ie,ye,Ce){try{return ie.getClearKeysFromProtectionData(ye,Ce)}catch{return x.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function L(ie){ie&&(ie.debug&&(x=(A=ie.debug).getLogger(C)),ie.BASE64&&(O=ie.BASE64),ie.settings&&(S=ie.settings))}}}h.__dashjs_factory_name="ProtectionKeyController",g.default=dashjs.FactoryMaker.getSingletonFactory(h)},"./src/streaming/protection/drm/KeySystemClearKey.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemClearKey.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),v=e(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),y=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),m=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),P="e2719d58-a985-b3c9-781a-b030af78d30e",D=m.default.CLEARKEY_KEYSTEM_STRING,f="urn:uuid:"+P;function i(c){var h=(c=c||{}).BASE64;function A(I){try{var E=I.replace(/-/g,"");return(E=btoa(E.match(/\w{2}/g).map(function(L){return String.fromCharCode(parseInt(L,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}return{uuid:P,schemeIdURI:f,systemString:D,getInitData:function C(I,E){try{var L=y.default.parseInitDataFromContentProtection(I,h);if(!L&&E){var B={kids:[A(E["cenc:default_KID"])]};L=(new TextEncoder).encode(JSON.stringify(B))}return L}catch{return null}},getRequestHeadersFromMessage:function x(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function R(I){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(I))))},getLicenseServerURLFromInitData:function O(){return null},getCDMData:function S(){return null},getClearKeysFromProtectionData:function p(I,E){var L=null;if(I){for(var b=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(E))),B=[],Z=0;Z<b.kids.length;Z++){var oe=b.kids[Z],le=I.clearkeys&&I.clearkeys.hasOwnProperty(oe)?I.clearkeys[oe]:null;if(!le)throw new Error("DRM: ClearKey keyID ("+oe+") is not known!");B.push(new t.default(oe,le))}L=new v.default(B)}return L}}}i.__dashjs_factory_name="KeySystemClearKey",g.default=dashjs.FactoryMaker.getSingletonFactory(i)},"./src/streaming/protection/drm/KeySystemPlayReady.js":
/*!************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemPlayReady.js ***!
                  \************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),v=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),y="9a04f079-9840-4286-ab92-e65be0885f95",m=v.default.PLAYREADY_KEYSTEM_STRING,P="urn:uuid:"+y;function f(i){var d="utf-16",h=(i=i||{}).BASE64,p=i.settings;function C(){if(!h||!h.hasOwnProperty("decodeArray")||!h.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:y,schemeIdURI:P,systemString:m,getInitData:function O(E){var oe,le,Re,Y,ae,L=new Uint8Array([112,115,115,104,0,0,0,0]),b=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),B=0,Z=null;if(C(),!E)return null;if("pssh"in E)return t.default.parseInitDataFromContentProtection(E,h);if("pro"in E)Z=h.decodeArray(E.pro.__text);else{if(!("prheader"in E))return null;Z=h.decodeArray(E.prheader.__text)}return le=4+L.length+b.length+4+(oe=Z.length),Re=new ArrayBuffer(le),Y=new Uint8Array(Re),(ae=new DataView(Re)).setUint32(B,le),Y.set(L,B+=4),Y.set(b,B+=L.length),ae.setUint32(B+=b.length,oe),Y.set(Z,B+=4),B+=oe,Y.buffer},getRequestHeadersFromMessage:function A(E){var L,b,B={},Z=new DOMParser;if(p&&p.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===d&&E&&E.byteLength%2==1)return B["Content-Type"]="text/xml; charset=utf-8",B;var oe="utf-16"===d?new Uint16Array(E):new Uint8Array(E);L=String.fromCharCode.apply(null,oe);for(var le=(b=Z.parseFromString(L,"application/xml")).getElementsByTagName("name"),Re=b.getElementsByTagName("value"),Y=0;Y<le.length;Y++)B[le[Y].childNodes[0].nodeValue]=Re[Y].childNodes[0].nodeValue;return B.hasOwnProperty("Content")&&(B["Content-Type"]=B.Content,delete B.Content),B.hasOwnProperty("Content-Type")||(B["Content-Type"]="text/xml; charset=utf-8"),B},getLicenseRequestFromMessage:function x(E){var L=null,b=new DOMParser;if(p&&p.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===d&&E&&E.byteLength%2==1)return E;var B="utf-16"===d?new Uint16Array(E):new Uint8Array(E);C();var Z=String.fromCharCode.apply(null,B),oe=b.parseFromString(Z,"application/xml");if(!oe.getElementsByTagName("PlayReadyKeyMessage")[0])return E;var le=oe.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return le&&(L=h.decode(le)),L},getLicenseServerURLFromInitData:function R(E){if(E)for(var L=new DataView(E),b=L.getUint16(4,!0),B=6,Z=new DOMParser,oe=0;oe<b;oe++){var le=L.getUint16(B,!0),Re=L.getUint16(B+=2,!0);if(B+=2,1===le){var Y=E.slice(B,B+Re),ae=String.fromCharCode.apply(null,new Uint16Array(Y)),G=Z.parseFromString(ae,"application/xml");if(G.getElementsByTagName("LA_URL")[0]){var De=G.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(De)return De}if(G.getElementsByTagName("LUI_URL")[0]){var ce=G.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(ce)return ce}}else B+=Re}return null},getCDMData:function I(E){var L,b,B,Z;if(C(),!E)return null;for(L=[],Z=0;Z<E.length;++Z)L.push(E.charCodeAt(Z)),L.push(0);for(L=String.fromCharCode.apply(null,L),L=h.encode(L),b='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",L),B=[],Z=0;Z<b.length;++Z)B.push(b.charCodeAt(Z)),B.push(0);return new Uint8Array(B).buffer},setPlayReadyMessageFormat:function S(E){if("utf-8"!==E&&"utf-16"!==E)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');d=E}}}f.__dashjs_factory_name="KeySystemPlayReady",g.default=dashjs.FactoryMaker.getSingletonFactory(f)},"./src/streaming/protection/drm/KeySystemW3CClearKey.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemW3CClearKey.js ***!
                  \**************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),v=e(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),y=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),m=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),P="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",D=m.default.CLEARKEY_KEYSTEM_STRING,f="urn:uuid:"+P;function i(c){var d,h=c.BASE64,p=c.debug.getLogger(d);return{uuid:P,schemeIdURI:f,systemString:D,getInitData:function A(I){return y.default.parseInitDataFromContentProtection(I,h)},getRequestHeadersFromMessage:function x(){return null},getLicenseRequestFromMessage:function R(I){return new Uint8Array(I)},getLicenseServerURLFromInitData:function O(){return null},getCDMData:function S(){return null},getClearKeysFromProtectionData:function C(I,E){var L=null;if(I){for(var b=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(E))),B=[],Z=0;Z<b.kids.length;Z++){var oe=b.kids[Z],le=I.clearkeys&&I.clearkeys.hasOwnProperty(oe)?I.clearkeys[oe]:null;if(!le)throw new Error("DRM: ClearKey keyID ("+oe+") is not known!");B.push(new t.default(oe,le))}L=new v.default(B),p.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return L}}}i.__dashjs_factory_name="KeySystemW3CClearKey",g.default=dashjs.FactoryMaker.getSingletonFactory(i)},"./src/streaming/protection/drm/KeySystemWidevine.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemWidevine.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),v=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),y="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",m=v.default.WIDEVINE_KEYSTEM_STRING,P="urn:uuid:"+y;function D(f){var c=(f=f||{}).BASE64;return{uuid:y,schemeIdURI:P,systemString:m,getInitData:function d(x){return t.default.parseInitDataFromContentProtection(x,c)},getRequestHeadersFromMessage:function h(){return null},getLicenseRequestFromMessage:function p(x){return new Uint8Array(x)},getLicenseServerURLFromInitData:function C(){return null},getCDMData:function A(){return null}}}D.__dashjs_factory_name="KeySystemWidevine",g.default=dashjs.FactoryMaker.getSingletonFactory(D)},"./src/streaming/protection/errors/ProtectionErrors.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/protection/errors/ProtectionErrors.js ***!
                  \*************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function v(O){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(O)}function y(O,S){for(var I=0;I<S.length;I++){var E=S[I];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(O,P(E.key),E)}}function P(O){var S=function D(O,S){if("object"!==v(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var E=I.call(O,S||"default");if("object"!==v(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)(O)}(O,"string");return"symbol"===v(S)?S:String(S)}function i(O,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),S&&c(O,S)}function c(O,S){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,L){return E.__proto__=L,E})(O,S)}function d(O){var S=function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,E=A(O);if(S){var b=A(this).constructor;L=Reflect.construct(E,arguments,b)}else L=E.apply(this,arguments);return function h(O,S){if(S&&("object"===v(S)||"function"==typeof S))return S;if(void 0!==S)throw new TypeError("Derived constructors may only return object or undefined");return function p(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function A(O){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}e.r(g);var R=new(function(O){i(I,O);var S=d(I);function I(){var E;return function f(O,S){if(!(O instanceof S))throw new TypeError("Cannot call a class as a function")}(this,I),(E=S.call(this)).MEDIA_KEYERR_CODE=100,E.MEDIA_KEYERR_UNKNOWN_CODE=101,E.MEDIA_KEYERR_CLIENT_CODE=102,E.MEDIA_KEYERR_SERVICE_CODE=103,E.MEDIA_KEYERR_OUTPUT_CODE=104,E.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,E.MEDIA_KEYERR_DOMAIN_CODE=106,E.MEDIA_KEY_MESSAGE_ERROR_CODE=107,E.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,E.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,E.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,E.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,E.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,E.KEY_SESSION_CREATED_ERROR_CODE=113,E.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,E.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",E.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",E.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",E.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",E.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",E.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",E.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",E.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",E.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",E.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",E.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",E.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",E.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",E.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",E}return function m(O,S,I){return S&&y(O.prototype,S),I&&y(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(e(
/*! ../../../core/errors/ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));g.default=R},"./src/streaming/protection/models/ProtectionModel_01b.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_01b.js ***!
                  \****************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),v=e(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),y=e(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),m=e(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),P=e(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),D=e(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),f=e(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js");function i(c){var R,O,S,I,E,L,b,B,Z,d=this.context,h=(c=c||{}).eventBus,p=c.events,C=c.debug,A=c.api,x=c.errHandler;function le(){S&&Me();for(var pe=0;pe<b.length;pe++)be(b[pe]);h.trigger(p.TEARDOWN_COMPLETE)}function be(pe){try{S[A.cancelKeyRequest](I.systemString,pe.sessionId)}catch(Ie){h.trigger(p.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+pe.sessionId+") "+Ie.message})}}function de(pe,Ie){if(!Ie||!pe)return null;for(var Be=pe.length,at=0;at<Be;at++)if(pe[at].sessionId==Ie)return pe[at];return null}function Me(){S.removeEventListener(A.keyerror,Z),S.removeEventListener(A.needkey,Z),S.removeEventListener(A.keymessage,Z),S.removeEventListener(A.keyadded,Z)}return R={getAllInitData:function Re(){for(var pe=[],Ie=0;Ie<L.length;Ie++)pe.push(L[Ie].initData);for(var Be=0;Be<b.length;Be++)pe.push(b[Be].initData);return pe},getSessions:function Y(){return b.concat(L)},requestKeySystemAccess:function ae(pe){return new Promise(function(Ie,Be){var at=S;at||(at=document.createElement("video"));for(var Xe=!1,je=0;je<pe.length;je++)for(var Ne=pe[je].ks.systemString,ee=pe[je].configs,we=null,q=0;q<ee.length;q++){var $=ee[q].videoCapabilities;if($&&0!==$.length){we=[];for(var Q=0;Q<$.length;Q++)""!==at.canPlayType($[Q].contentType,Ne)&&we.push($[Q])}if(we&&(!we||0!==we.length)){Xe=!0;var ne=new P.default(null,we),X=E.getKeySystemBySystemString(Ne),re=new D.default(X,ne);h.trigger(p.KEY_SYSTEM_ACCESS_COMPLETE,{data:re}),Ie({data:re});break}}if(!Xe){var J="Key system access denied! -- No valid audio/video content configurations detected!";h.trigger(p.KEY_SYSTEM_ACCESS_COMPLETE,{error:J}),Be({error:J})}})},selectKeySystem:function G(pe){return I=pe.keySystem,Promise.resolve(I)},setMediaElement:function De(pe){if(S!==pe){if(S){Me();for(var Ie=0;Ie<b.length;Ie++)be(b[Ie]);b=[]}(S=pe)&&(S.addEventListener(A.keyerror,Z),S.addEventListener(A.needkey,Z),S.addEventListener(A.keymessage,Z),S.addEventListener(A.keyadded,Z),h.trigger(p.VIDEO_ELEMENT_SELECTED))}},createKeySession:function ce(pe){if(!I)throw new Error("Can not create sessions until you have selected a key system");if(B||0===b.length){var Ie={sessionId:null,keyId:pe.keyId,initData:pe.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return L.push(Ie),S[A.generateKeyRequest](I.systemString,new Uint8Array(pe.initData)),Ie}throw new Error("Multiple sessions not allowed!")},updateKeySession:function Te(pe,Ie){var Be=pe.sessionId;if(E.isClearKey(I))for(var at=0;at<Ie.keyPairs.length;at++)S[A.addKey](I.systemString,Ie.keyPairs[at].key,Ie.keyPairs[at].keyID,Be);else S[A.addKey](I.systemString,new Uint8Array(Ie),new Uint8Array(pe.initData),Be);h.trigger(p.KEY_SESSION_UPDATED)},closeKeySession:be,setServerCertificate:function Oe(){},loadKeySession:function ie(){},removeKeySession:function ye(){},stop:le,reset:le},function oe(){O=C.getLogger(R),S=null,I=null,L=[],b=[],E=Object(t.default)(d).getInstance(),Z=function Ce(){return{handleEvent:function(Ie){var Be=null;switch(Ie.type){case A.needkey:var at=ArrayBuffer.isView(Ie.initData)?Ie.initData.buffer:Ie.initData;h.trigger(p.NEED_KEY,{key:new v.default(at,"cenc")});break;case A.keyerror:if((Be=de(b,Ie.sessionId))||(Be=de(L,Ie.sessionId)),Be){var Xe=f.default.MEDIA_KEYERR_CODE,je="";switch(Ie.errorCode.code){case 1:Xe=f.default.MEDIA_KEYERR_UNKNOWN_CODE,je+="MEDIA_KEYERR_UNKNOWN - "+f.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:Xe=f.default.MEDIA_KEYERR_CLIENT_CODE,je+="MEDIA_KEYERR_CLIENT - "+f.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:Xe=f.default.MEDIA_KEYERR_SERVICE_CODE,je+="MEDIA_KEYERR_SERVICE - "+f.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:Xe=f.default.MEDIA_KEYERR_OUTPUT_CODE,je+="MEDIA_KEYERR_OUTPUT - "+f.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:Xe=f.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,je+="MEDIA_KEYERR_HARDWARECHANGE - "+f.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:Xe=f.default.MEDIA_KEYERR_DOMAIN_CODE,je+="MEDIA_KEYERR_DOMAIN - "+f.default.MEDIA_KEYERR_DOMAIN_MESSAGE}h.trigger(p.KEY_ERROR,{error:new y.default(Xe,je+="  System Code = "+Ie.systemCode,Be)})}else O.error("No session token found for key error");break;case A.keyadded:(Be=de(b,Ie.sessionId))||(Be=de(L,Ie.sessionId)),Be?(O.debug("DRM: Key added."),h.trigger(p.KEY_ADDED,{data:Be})):O.debug("No session token found for key added");break;case A.keymessage:if((B=null!=Ie.sessionId)?!(Be=de(b,Ie.sessionId))&&L.length>0&&(Be=L.shift(),b.push(Be),Be.sessionId=Ie.sessionId,h.trigger(p.KEY_SESSION_CREATED,{data:Be})):L.length>0&&(Be=L.shift(),b.push(Be),0!==L.length&&x.error(new y.default(f.default.MEDIA_KEY_MESSAGE_ERROR_CODE,f.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),Be){var Ne=ArrayBuffer.isView(Ie.message)?Ie.message.buffer:Ie.message;Be.keyMessage=Ne,h.trigger(p.INTERNAL_KEY_MESSAGE,{data:new m.default(Be,Ne,Ie.defaultURL)})}else O.warn("No session token found for key message")}}}}()}(),R}i.__dashjs_factory_name="ProtectionModel_01b",g.default=dashjs.FactoryMaker.getClassFactory(i)},"./src/streaming/protection/models/ProtectionModel_21Jan2015.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_21Jan2015.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),v=e(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),y=e(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),m=e(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),P=e(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),D=e(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),f=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),i={};function c(d){var x,R,O,S,I,E,L,b,h=this.context,p=(d=d||{}).eventBus,C=d.events,A=d.debug;function ae(Xe,je,Ne,ee){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var fe="Insecure origins are not allowed";return p.trigger(C.KEY_SYSTEM_ACCESS_COMPLETE,{error:fe}),void ee({error:fe})}var $=Xe[je].ks,Q=$.systemString;(function G(Xe,je){return new Promise(function(Ne,ee){De(Xe,je,0,Ne,ee)})})((Xe[je].protData&&Xe[je].protData.systemStringPriority?Xe[je].protData.systemStringPriority:null)||(i[Q]?i[Q]:[Q]),Xe[je].configs).then(function(X){var re="function"==typeof X.getConfiguration?X.getConfiguration():null,J=new D.default($,re);J.mksa=X,p.trigger(C.KEY_SYSTEM_ACCESS_COMPLETE,{data:J}),Ne({data:J})}).catch(function(X){if(je+1<Xe.length)ae(Xe,je+1,Ne,ee);else{var re="Key system access denied! ";p.trigger(C.KEY_SYSTEM_ACCESS_COMPLETE,{error:re+X.message}),ee({error:re+X.message})}})}function De(Xe,je,Ne,ee,fe){var we=Xe[Ne];R.debug("Requesting key system access for system string ".concat(we)),navigator.requestMediaKeySystemAccess(we,je).then(function(q){q.selectedSystemString=we,ee(q)}).catch(function(q){Ne+1<Xe.length?De(Xe,je,Ne+1,ee,fe):fe(q)})}function Me(Xe){var je=Xe.session;return je.removeEventListener("keystatuseschange",Xe),je.removeEventListener("message",Xe),je.close()}function Ie(Xe){for(var je=0;je<E.length;je++)if(E[je]===Xe){E.splice(je,1);break}}function Be(Xe){var je,Ne;return Xe&&Xe.length>0&&(Xe[0]&&("string"==typeof Xe[0]?je=Xe[0]:Ne=Xe[0]),Xe[1]&&("string"==typeof Xe[1]?je=Xe[1]:Ne=Xe[1])),{status:je,keyId:Ne}}function at(Xe,je){var Ne={session:Xe,keyId:je.keyId,initData:je.initData,sessionId:je.sessionId,sessionType:je.sessionType,handleEvent:function(fe){switch(fe.type){case"keystatuseschange":p.trigger(C.KEY_STATUSES_CHANGED,{data:this}),fe.target.keyStatuses.forEach(function(){var q=Be(arguments);p.trigger(C.INTERNAL_KEY_STATUS_CHANGED,"expired"===q.status?{error:new m.default(y.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,y.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}:q)});break;case"message":var we=ArrayBuffer.isView(fe.message)?fe.message.buffer:fe.message;p.trigger(C.INTERNAL_KEY_MESSAGE,{data:new P.default(this,we,void 0,fe.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return Xe.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return Xe.expiration},getKeyStatuses:function(){return Xe.keyStatuses},getUsable:function(){var fe=!1;return Xe.keyStatuses.forEach(function(){"usable"===Be(arguments).status&&(fe=!0)}),fe}};return Xe.addEventListener("keystatuseschange",Ne),Xe.addEventListener("message",Ne),Xe.closed.then(function(){Ie(Ne),R.debug("DRM: Session closed.  SessionID = "+Ne.getSessionId()),p.trigger(C.KEY_SESSION_CLOSED,{data:Ne.getSessionId()})}),E.push(Ne),Ne}return x={getAllInitData:function le(){for(var Xe=[],je=0;je<E.length;je++)E[je].initData&&Xe.push(E[je].initData);return Xe},getSessions:function Re(){return E},requestKeySystemAccess:function Y(Xe){return new Promise(function(je,Ne){ae(Xe,0,je,Ne)})},selectKeySystem:function ce(Xe){return new Promise(function(je,Ne){Xe.mksa.createMediaKeys().then(function(ee){return O=Xe.keySystem,I=ee,S?S.setMediaKeys(I):Promise.resolve()}).then(function(){je(O)}).catch(function(){Ne({error:"Error selecting keys system ("+Xe.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function Te(Xe){S!==Xe&&(S&&(S.removeEventListener("encrypted",L),S.setMediaKeys&&S.setMediaKeys(null)),(S=Xe)&&(S.addEventListener("encrypted",L),S.setMediaKeys&&I&&S.setMediaKeys(I)))},setServerCertificate:function be(Xe){if(!O||!I)throw new Error("Can not set server certificate until you have selected a key system");I.setServerCertificate(Xe).then(function(){R.info("DRM: License server certificate successfully updated."),p.trigger(C.SERVER_CERTIFICATE_UPDATED)}).catch(function(je){p.trigger(C.SERVER_CERTIFICATE_UPDATED,{error:new m.default(y.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,y.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+je.name)})})},createKeySession:function Oe(Xe){if(!O||!I)throw new Error("Can not create sessions until you have selected a key system");var je=I.createSession(Xe.sessionType),Ne=at(je,Xe);je.generateRequest(O.systemString===f.default.CLEARKEY_KEYSTEM_STRING&&(Xe.initData||Xe.protData&&Xe.protData.clearkeys)?f.default.INITIALIZATION_DATA_TYPE_KEYIDS:f.default.INITIALIZATION_DATA_TYPE_CENC,Xe.initData).then(function(){R.debug("DRM: Session created.  SessionID = "+Ne.getSessionId()),p.trigger(C.KEY_SESSION_CREATED,{data:Ne})}).catch(function(fe){Ie(Ne),p.trigger(C.KEY_SESSION_CREATED,{data:null,error:new m.default(y.default.KEY_SESSION_CREATED_ERROR_CODE,y.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+fe.name)})})},updateKeySession:function ie(Xe,je){var Ne=Xe.session;b.isClearKey(O)&&(je=je.toJWK()),Ne.update(je).then(function(){p.trigger(C.KEY_SESSION_UPDATED)}).catch(function(ee){p.trigger(C.KEY_ERROR,{error:new m.default(y.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+ee.name,Xe)})})},loadKeySession:function ye(Xe){if(!O||!I)throw new Error("Can not load sessions until you have selected a key system");for(var je=Xe.sessionId,Ne=0;Ne<E.length;Ne++)if(je===E[Ne].sessionId)return void R.warn("DRM: Ignoring session ID because we have already seen it!");var ee=I.createSession(Xe.sessionType),fe=at(ee,Xe);ee.load(je).then(function(we){we?(R.debug("DRM: Session loaded.  SessionID = "+fe.getSessionId()),p.trigger(C.KEY_SESSION_CREATED,{data:fe})):(Ie(fe),p.trigger(C.KEY_SESSION_CREATED,{data:null,error:new m.default(y.default.KEY_SESSION_CREATED_ERROR_CODE,y.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+je+")")}))}).catch(function(we){Ie(fe),p.trigger(C.KEY_SESSION_CREATED,{data:null,error:new m.default(y.default.KEY_SESSION_CREATED_ERROR_CODE,y.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+je+")! "+we.name)})})},removeKeySession:function Ce(Xe){Xe.session.remove().then(function(){R.debug("DRM: Session removed.  SessionID = "+Xe.getSessionId()),p.trigger(C.KEY_SESSION_REMOVED,{data:Xe.getSessionId()})},function(Ne){p.trigger(C.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+Xe.getSessionId()+"). "+Ne.name})})},closeKeySession:function de(Xe){Me(Xe).catch(function(je){Ie(Xe),p.trigger(C.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Xe.getSessionId()+") "+je.name})})},stop:function oe(){for(var Xe,je=0;je<E.length;je++)(Xe=E[je]).getUsable()||Me(Xe).catch(function(){Ie(Xe)})},reset:function Z(){var je,Xe=E.length;0!==Xe?function(){for(var Ne=function(we){Ie(we),0===E.length&&(S?(S.removeEventListener("encrypted",L),S.setMediaKeys(null).then(function(){p.trigger(C.TEARDOWN_COMPLETE)})):p.trigger(C.TEARDOWN_COMPLETE))},ee=0;ee<Xe;ee++)!function(fe){je.session.closed.then(function(){Ne(fe)}),Me(je).catch(function(){Ne(fe)})}(je=E[ee])}():p.trigger(C.TEARDOWN_COMPLETE)}},function B(){R=A.getLogger(x),O=null,S=null,I=null,E=[],b=Object(t.default)(h).getInstance(),L=function pe(){return{handleEvent:function(je){if("encrypted"===je.type&&je.initData){var Ne=ArrayBuffer.isView(je.initData)?je.initData.buffer:je.initData;p.trigger(C.NEED_KEY,{key:new v.default(Ne,je.initDataType)})}}}}()}(),x}i[f.default.PLAYREADY_KEYSTEM_STRING]=[f.default.PLAYREADY_KEYSTEM_STRING,f.default.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],i[f.default.WIDEVINE_KEYSTEM_STRING]=[f.default.WIDEVINE_KEYSTEM_STRING],i[f.default.CLEARKEY_KEYSTEM_STRING]=[f.default.CLEARKEY_KEYSTEM_STRING],c.__dashjs_factory_name="ProtectionModel_21Jan2015",g.default=dashjs.FactoryMaker.getClassFactory(c)},"./src/streaming/protection/models/ProtectionModel_3Feb2014.js":
/*!*********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_3Feb2014.js ***!
                  \*********************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),v=e(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),y=e(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),m=e(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),P=e(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),D=e(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),f=e(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js");function i(c){var x,R,O,S,I,E,L,b,B,d=this.context,h=(c=c||{}).eventBus,p=c.events,C=c.debug,A=c.api;function oe(){try{for(var Me=0;Me<L.length;Me++)Te(L[Me]);O&&O.removeEventListener(A.needkey,b),h.trigger(p.TEARDOWN_COMPLETE)}catch(pe){h.trigger(p.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+pe.message})}}function Te(Me){var pe=Me.session;pe.removeEventListener(A.error,Me),pe.removeEventListener(A.message,Me),pe.removeEventListener(A.ready,Me),pe.removeEventListener(A.close,Me);for(var Ie=0;Ie<L.length;Ie++)if(L[Ie]===Me){L.splice(Ie,1);break}pe[A.release]()}function Ce(){var Me=null,pe=function(){O.removeEventListener("loadedmetadata",Me),O[A.setMediaKeys](I),h.trigger(p.VIDEO_ELEMENT_SELECTED)};O.readyState>=1?pe():(Me=pe.bind(this),O.addEventListener("loadedmetadata",Me))}return x={getAllInitData:function le(){for(var Me=[],pe=0;pe<L.length;pe++)Me.push(L[pe].initData);return Me},getSessions:function Re(){return L},requestKeySystemAccess:function Y(Me){return new Promise(function(pe,Ie){for(var Be=!1,at=0;at<Me.length;at++)for(var Xe=Me[at].ks.systemString,je=Me[at].configs,Ne=null,ee=null,fe=0;fe<je.length;fe++){var we=je[fe].audioCapabilities,q=je[fe].videoCapabilities;if(we&&0!==we.length){Ne=[];for(var $=0;$<we.length;$++)window[A.MediaKeys].isTypeSupported(Xe,we[$].contentType)&&Ne.push(we[$])}if(q&&0!==q.length){ee=[];for(var Q=0;Q<q.length;Q++)window[A.MediaKeys].isTypeSupported(Xe,q[Q].contentType)&&ee.push(q[Q])}if(!(!Ne&&!ee||Ne&&0===Ne.length||ee&&0===ee.length)){Be=!0;var ne=new D.default(Ne,ee),X=B.getKeySystemBySystemString(Xe),re=new f.default(X,ne);h.trigger(p.KEY_SYSTEM_ACCESS_COMPLETE,{data:re}),pe({data:re});break}}if(!Be){var J="Key system access denied! -- No valid audio/video content configurations detected!";h.trigger(p.KEY_SYSTEM_ACCESS_COMPLETE,{error:J}),Ie({error:J})}})},selectKeySystem:function ae(Me){return new Promise(function(pe,Ie){try{I=Me.mediaKeys=new window[A.MediaKeys](Me.keySystem.systemString),S=Me.keySystem,E=Me,O&&Ce(),pe(S)}catch{Ie({error:"Error selecting keys system ("+S.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function G(Me){O!==Me&&(O&&O.removeEventListener(A.needkey,b),(O=Me)&&(O.addEventListener(A.needkey,b),I&&Ce()))},createKeySession:function De(Me){if(!S||!I||!E)throw new Error("Can not create sessions until you have selected a key system");var pe=null;if(E.ksConfiguration.videoCapabilities&&E.ksConfiguration.videoCapabilities.length>0&&(pe=E.ksConfiguration.videoCapabilities[0]),null===pe&&E.ksConfiguration.audioCapabilities&&E.ksConfiguration.audioCapabilities.length>0&&(pe=E.ksConfiguration.audioCapabilities[0]),null===pe)throw new Error("Can not create sessions for unknown content types.");var Be=I.createSession(pe.contentType,new Uint8Array(Me.initData),Me.cdmData?new Uint8Array(Me.cdmData):null),at=function de(Me,pe){return{session:Me,keyId:pe.keyId,initData:pe.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(Be){switch(Be.type){case A.error:h.trigger(p.KEY_ERROR,{error:new y.default(m.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case A.message:var Xe=ArrayBuffer.isView(Be.message)?Be.message.buffer:Be.message;h.trigger(p.INTERNAL_KEY_MESSAGE,{data:new P.default(this,Xe,Be.destinationURL)});break;case A.ready:R.debug("DRM: Key added."),h.trigger(p.KEY_ADDED);break;case A.close:R.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),h.trigger(p.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(Be,Me);Be.addEventListener(A.error,at),Be.addEventListener(A.message,at),Be.addEventListener(A.ready,at),Be.addEventListener(A.close,at),L.push(at),R.debug("DRM: Session created.  SessionID = "+at.getSessionId()),h.trigger(p.KEY_SESSION_CREATED,{data:at})},updateKeySession:function ce(Me,pe){var Ie=Me.session;B.isClearKey(S)?Ie.update(new Uint8Array(pe.toJWK())):Ie.update(new Uint8Array(pe)),h.trigger(p.KEY_SESSION_UPDATED)},closeKeySession:Te,setServerCertificate:function be(){},loadKeySession:function Oe(){},removeKeySession:function ie(){},stop:oe,reset:oe},function Z(){R=C.getLogger(x),O=null,S=null,I=null,E=null,L=[],B=Object(t.default)(d).getInstance(),b=function ye(){return{handleEvent:function(pe){if(pe.type===A.needkey&&pe.initData){var Ie=ArrayBuffer.isView(pe.initData)?pe.initData.buffer:pe.initData;h.trigger(p.NEED_KEY,{key:new v.default(Ie,"cenc")})}}}}()}(),x}i.__dashjs_factory_name="ProtectionModel_3Feb2014",g.default=dashjs.FactoryMaker.getClassFactory(i)},"./src/streaming/protection/servers/ClearKey.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/ClearKey.js ***!
                  \******************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),v=e(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js");function y(){return{getServerURLFromMessage:function P(d){return d},getHTTPMethod:function D(){return"POST"},getResponseType:function f(){return"json"},getLicenseMessage:function i(d){if(!d.hasOwnProperty("keys"))return null;for(var h=[],p=0;p<d.keys.length;p++){var C=d.keys[p],A=C.kid.replace(/=/g,""),x=C.k.replace(/=/g,"");h.push(new t.default(A,x))}return new v.default(h)},getErrorResponse:function c(d){return String.fromCharCode.apply(null,new Uint8Array(d))}}}y.__dashjs_factory_name="ClearKey",g.default=dashjs.FactoryMaker.getSingletonFactory(y)},"./src/streaming/protection/servers/DRMToday.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/DRMToday.js ***!
                  \******************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function v(y){var m=(y=y||{}).BASE64,P={};return P[t.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(A){return m.decodeArray(A.license)},getErrorResponse:function(A){return A}},P[t.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(A){return A},getErrorResponse:function(A){return String.fromCharCode.apply(null,new Uint8Array(A))}},{getServerURLFromMessage:function i(C){return C},getHTTPMethod:function c(){return"POST"},getResponseType:function d(C){return P[C].responseType},getLicenseMessage:function h(C,A){return function f(){if(!m||!m.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),P[A].getLicenseMessage(C)},getErrorResponse:function p(C,A){return P[A].getErrorResponse(C)}}}v.__dashjs_factory_name="DRMToday",g.default=dashjs.FactoryMaker.getSingletonFactory(v)},"./src/streaming/protection/servers/PlayReady.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/servers/PlayReady.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(){var y="http://schemas.xmlsoap.org/soap/envelope/";function m(p){var C=String.fromCharCode.apply(null,new Uint8Array(p));return decodeURIComponent(escape(C))}function P(p){if(window.DOMParser){var C=m(p),x=(new window.DOMParser).parseFromString(C,"text/xml"),R=x?x.getElementsByTagNameNS(y,"Envelope")[0]:null,O=R?R.getElementsByTagNameNS(y,"Body")[0]:null;if(O&&O.getElementsByTagNameNS(y,"Fault")[0])return null}return p}function D(p){var C="",A="",x="",R=-1,O=-1;if(window.DOMParser){var S=m(p),E=(new window.DOMParser).parseFromString(S,"text/xml"),L=E?E.getElementsByTagNameNS(y,"Envelope")[0]:null,b=L?L.getElementsByTagNameNS(y,"Body")[0]:null,B=b?b.getElementsByTagNameNS(y,"Fault")[0]:null,Z=B?B.getElementsByTagName("detail")[0]:null,oe=Z?Z.getElementsByTagName("Exception")[0]:null,le=null;if(null===B)return S;C=(le=B.getElementsByTagName("faultstring")[0].firstChild)?le.nodeValue:null,null!==oe&&(A=(le=oe.getElementsByTagName("StatusCode")[0])?le.firstChild.nodeValue:null,R=(x=(le=oe.getElementsByTagName("Message")[0])?le.firstChild.nodeValue:null)?x.lastIndexOf("[")+1:-1,O=x?x.indexOf("]"):-1,x=x?x.substring(R,O):"")}var Re="code: ".concat(A,", name: ").concat(C);return x&&(Re+=", message: ".concat(x)),Re}return{getServerURLFromMessage:function f(p){return p},getHTTPMethod:function i(){return"POST"},getResponseType:function c(){return"arraybuffer"},getLicenseMessage:function d(p){return P.call(this,p)},getErrorResponse:function h(p){return D.call(this,p)}}}e.r(g),t.__dashjs_factory_name="PlayReady",g.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/protection/servers/Widevine.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/Widevine.js ***!
                  \******************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(){return{getServerURLFromMessage:function y(i){return i},getHTTPMethod:function m(){return"POST"},getResponseType:function P(){return"arraybuffer"},getLicenseMessage:function D(i){return i},getErrorResponse:function f(i){return String.fromCharCode.apply(null,new Uint8Array(i))}}}e.r(g),t.__dashjs_factory_name="Widevine",g.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/protection/vo/ClearKeyKeySet.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/ClearKeyKeySet.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function y(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,P(h.key),h)}}function P(i){var c=function D(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=function(){function i(c,d){if(function v(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")}(this,i),d&&"persistent"!==d&&"temporary"!==d)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=c,this.type=d}return function m(i,c,d){return c&&y(i.prototype,c),d&&y(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"toJWK",value:function(){var d,h=this.keyPairs.length,p={keys:[]};for(d=0;d<h;d++)p.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[d].keyID,k:this.keyPairs[d].key});this.type&&(p.type=this.type);var A=JSON.stringify(p),x=A.length,R=new ArrayBuffer(x),O=new Uint8Array(R);for(d=0;d<x;d++)O[d]=A.charCodeAt(d);return R}}]),i}()},"./src/streaming/protection/vo/KeyMessage.js":
/*!***************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyMessage.js ***!
                  \***************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(c,d,h,p){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.sessionToken=c,this.message=d,this.defaultURL=h,this.messageType=p||"license-request"})},"./src/streaming/protection/vo/KeyPair.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyPair.js ***!
                  \************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(c,d){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.keyID=c,this.key=d})},"./src/streaming/protection/vo/KeySystemAccess.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemAccess.js ***!
                  \********************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(c,d){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.keySystem=c,this.ksConfiguration=d})},"./src/streaming/protection/vo/KeySystemConfiguration.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemConfiguration.js ***!
                  \***************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(c,d,h,p,C){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.initDataTypes=["cenc"],c&&c.length&&(this.audioCapabilities=c),d&&d.length&&(this.videoCapabilities=d),this.distinctiveIdentifier=h,this.persistentState=p,this.sessionTypes=C})},"./src/streaming/protection/vo/LicenseRequest.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseRequest.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(c,d,h,p,C,A,x,R){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.url=c,this.method=d,this.responseType=h,this.headers=p,this.withCredentials=C,this.messageType=A,this.sessionId=x,this.data=R})},"./src/streaming/protection/vo/LicenseResponse.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseResponse.js ***!
                  \********************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(c,d,h){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.url=c,this.headers=d,this.data=h})},"./src/streaming/protection/vo/MediaCapability.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/MediaCapability.js ***!
                  \********************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(c,d){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.contentType=c,this.robustness=d})},"./src/streaming/protection/vo/NeedKey.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/NeedKey.js ***!
                  \************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(c,d){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.initData=c,this.initDataType=d})},"./src/streaming/rules/DroppedFramesHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/DroppedFramesHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(){var m={},P={},D={};return{push:function f(h,p,C){if(p){m[h]||(m[h]=[],P[h]=0,D[h]=0);var A=C&&C.droppedVideoFrames?C.droppedVideoFrames:0,x=C&&C.totalVideoFrames?C.totalVideoFrames:0,R=A-P[h];P[h]=A;var O=x-D[h];D[h]=x;var S=m[h];isNaN(p)||(S[p]?(S[p].droppedVideoFrames+=R,S[p].totalVideoFrames+=O):S[p]={droppedVideoFrames:R,totalVideoFrames:O})}},getFrameHistory:function i(h){return m[h]},clearForStream:function c(h){try{delete m[h],delete P[h],delete D[h]}catch{}},reset:function d(){m={},P={},D={}}}}v.__dashjs_factory_name="DroppedFramesHistory";var y=t.default.getClassFactory(v);g.default=y},"./src/streaming/rules/RulesContext.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/RulesContext.js ***!
                  \*********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(y){var P=(y=y||{}).abrController,D=y.switchHistory,f=y.droppedFramesHistory,i=y.currentRequest,c=y.useBufferOccupancyABR,d=y.useL2AABR,h=y.useLoLPABR,p=y.streamProcessor?y.streamProcessor.getScheduleController():null,C=y.streamProcessor?y.streamProcessor.getRepresentationInfo():null,A=y.videoModel?y.videoModel:null;function O(){return C?C.mediaInfo:null}return{getMediaType:function x(){var Y=O();return Y?Y.type:null},getMediaInfo:O,getDroppedFramesHistory:function B(){return f},getCurrentRequest:function Z(){return i},getSwitchHistory:function L(){return D},getStreamInfo:function R(){var Y=O();return Y?Y.streamInfo:null},getScheduleController:function I(){return p},getAbrController:function E(){return P},getRepresentationInfo:function S(){return C},useBufferOccupancyABR:function oe(){return c},useL2AABR:function le(){return d},useLoLPABR:function Re(){return h},getVideoModel:function b(){return A}}}v.__dashjs_factory_name="RulesContext",g.default=t.default.getClassFactory(v)},"./src/streaming/rules/SwitchRequest.js":
/*!**********************************************!*\
                  !*** ./src/streaming/rules/SwitchRequest.js ***!
                  \**********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y={DEFAULT:.5,STRONG:1,WEAK:0};function m(D,f,i){return{quality:void 0===D?-1:D,reason:void 0===f?null:f,priority:function C(A){var x=y.DEFAULT;return(A===y.DEFAULT||A===y.STRONG||A===y.WEAK)&&(x=A),x}(i)}}m.__dashjs_factory_name="SwitchRequest";var P=t.default.getClassFactory(m);P.NO_CHANGE=-1,P.PRIORITY=y,t.default.updateClassFactory(m.__dashjs_factory_name,P),g.default=P},"./src/streaming/rules/SwitchRequestHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/SwitchRequestHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ./SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function m(){var D=[],f=[];return{push:function i(h){h.newValue===v.default.NO_CHANGE&&(h.newValue=h.oldValue),D[h.oldValue]||(D[h.oldValue]={noDrops:0,drops:0,dropSize:0});var p=h.newValue-h.oldValue,C=p<0?1:0,A=C?-p:0,x=C?0:1;if(D[h.oldValue].drops+=C,D[h.oldValue].dropSize+=A,D[h.oldValue].noDrops+=x,f.push({idx:h.oldValue,noDrop:x,drop:C,dropSize:A}),f.length>8){var R=f.shift();D[R.idx].drops-=R.drop,D[R.idx].dropSize-=R.dropSize,D[R.idx].noDrops-=R.noDrop}},getSwitchRequests:function c(){return D},reset:function d(){D=[],f=[]}}}m.__dashjs_factory_name="SwitchRequestHistory";var P=t.default.getClassFactory(m);g.default=P},"./src/streaming/rules/ThroughputHistory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/ThroughputHistory.js ***!
                  \**************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(m){var R,O,S,I,E,D=3,f=4,i=4,c=1.3,d=1.3,x=(m=m||{}).settings;function Z(ie,ye,Ce,de){var Me=Math.pow(.5,Ce/de.fast);ie.fastEstimate=(1-Me)*ye+Me*ie.fastEstimate;var pe=Math.pow(.5,Ce/de.slow);ie.slowEstimate=(1-pe)*ye+pe*ie.slowEstimate,ie.totalWeight+=Ce}function le(ie,ye,Ce){return x.get().streaming.abr.movingAverageMethod!==t.default.MOVING_AVERAGE_SLIDING_WINDOW?function Y(ie,ye){var Ce=ie?E.throughputHalfLife:E.latencyHalfLife,de=ie?S[ye]:I[ye];if(!de||de.totalWeight<=0)return NaN;var Me=de.fastEstimate/(1-Math.pow(.5,de.totalWeight/Ce.fast)),pe=de.slowEstimate/(1-Math.pow(.5,de.totalWeight/Ce.slow));return ie?Math.min(Me,pe):Math.max(Me,pe)}(ie,ye):function Re(ie,ye,Ce){var de=function oe(ie,ye,Ce){var de,Me;if(ie?(de=R[ye],Me=Ce?D:f):(de=O[ye],Me=i),de){if(Me>=de.length)Me=de.length;else if(ie)for(var pe=1;pe<Me;++pe){var Ie=de[de.length-pe]/de[de.length-pe-1];if((Ie>=d||Ie<=1/c)&&(Me+=1)===de.length)break}}else Me=0;return Me}(ie,ye,Ce),pe=(ie?R:O)[ye];return 0!==de&&pe&&0!==pe.length?(pe=pe.slice(-de)).reduce(function(Ie,Be){return Ie+Be})/pe.length:NaN}(ie,ye,Ce)}function ae(ie,ye){return le(!0,ie,ye)}function ce(ie){R[ie]=R[ie]||[],O[ie]=O[ie]||[],S[ie]=S[ie]||{fastEstimate:0,slowEstimate:0,totalWeight:0},I[ie]=I[ie]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function be(){R={},O={},S={},I={}}var Oe={push:function B(ie,ye,Ce){if(ye.trace&&ye.trace.length){var Ie,de=ye.tresponse.getTime()-ye.trequest.getTime()||1,Me=ye._tfinish.getTime()-ye.tresponse.getTime()||1,pe=ye.trace.reduce(function(at,Xe){return at+Xe.b[0]},0),Be=0;if(0!==(Ie=ye._fileLoaderType&&ye._fileLoaderType===t.default.FILE_LOADER_TYPES.FETCH?ye.trace.reduce(function(at,Xe){return at+Xe.d},0):Ce?Me:de+Me)&&(Be=Math.round(8*pe/Ie)),ce(ie),function b(ie,ye,Ce){return ie===t.default.VIDEO?Ce<x.get().streaming.cacheLoadThresholds[t.default.VIDEO]:ie===t.default.AUDIO?Ce<x.get().streaming.cacheLoadThresholds[t.default.AUDIO]:void 0}(ie,0,Me)){if(R[ie].length>0&&!R[ie].hasCachedEntries)return;R[ie].hasCachedEntries=!0}else R[ie]&&R[ie].hasCachedEntries&&function Te(ie){delete R[ie],delete O[ie],delete S[ie],delete I[ie],ce(ie)}(ie);R[ie].push(Be),R[ie].length>20&&R[ie].shift(),O[ie].push(de),O[ie].length>20&&O[ie].shift(),Z(S[ie],Be,.001*Me,E.throughputHalfLife),Z(I[ie],de,1,E.latencyHalfLife)}},getAverageThroughput:ae,getSafeAverageThroughput:function G(ie,ye){var Ce=ae(ie,ye);return isNaN(Ce)||(Ce*=x.get().streaming.abr.bandwidthSafetyFactor),Ce},getAverageLatency:function De(ie){return le(!1,ie)},reset:be};return function L(){E={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},be()}(),Oe}y.__dashjs_factory_name="ThroughputHistory",g.default=v.default.getClassFactory(y)},"./src/streaming/rules/abr/ABRRulesCollection.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/rules/abr/ABRRulesCollection.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./ThroughputRule */
"./src/streaming/rules/abr/ThroughputRule.js"),v=e(
/*! ./InsufficientBufferRule */
"./src/streaming/rules/abr/InsufficientBufferRule.js"),y=e(
/*! ./AbandonRequestsRule */
"./src/streaming/rules/abr/AbandonRequestsRule.js"),m=e(
/*! ./DroppedFramesRule */
"./src/streaming/rules/abr/DroppedFramesRule.js"),P=e(
/*! ./SwitchHistoryRule */
"./src/streaming/rules/abr/SwitchHistoryRule.js"),D=e(
/*! ./BolaRule */
"./src/streaming/rules/abr/BolaRule.js"),f=e(
/*! ./L2ARule.js */
"./src/streaming/rules/abr/L2ARule.js"),i=e(
/*! ./lolp/LoLpRule.js */
"./src/streaming/rules/abr/lolp/LoLpRule.js"),c=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),d=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),h=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),p="qualitySwitchRules",C="abandonFragmentRules";function A(R){var B,Z,O=this.context,S=(R=R||{}).mediaPlayerModel,I=R.customParametersModel,E=R.dashMetrics,L=R.settings;function le(ce){return ce.filter(function(Te){return Te.quality>d.default.NO_CHANGE})}function Re(ce){var Oe,ie,ye,Ce,de,Te={},be=null;if(0!==ce.length){for(Te[d.default.PRIORITY.STRONG]={quality:d.default.NO_CHANGE,reason:null},Te[d.default.PRIORITY.WEAK]={quality:d.default.NO_CHANGE,reason:null},Te[d.default.PRIORITY.DEFAULT]={quality:d.default.NO_CHANGE,reason:null},Oe=0,ie=ce.length;Oe<ie;Oe+=1)(ye=ce[Oe]).quality!==d.default.NO_CHANGE&&(Te[ye.priority].quality===d.default.NO_CHANGE||Te[ye.priority].quality>ye.quality)&&(Te[ye.priority].quality=ye.quality,Te[ye.priority].reason=ye.reason||null);return Te[d.default.PRIORITY.WEAK].quality!==d.default.NO_CHANGE&&(be=Te[d.default.PRIORITY.WEAK]),Te[d.default.PRIORITY.DEFAULT].quality!==d.default.NO_CHANGE&&(be=Te[d.default.PRIORITY.DEFAULT]),Te[d.default.PRIORITY.STRONG].quality!==d.default.NO_CHANGE&&(be=Te[d.default.PRIORITY.STRONG]),be&&(Ce=be.quality,de=be.reason),Object(d.default)(O).create(Ce,de)}}return{initialize:function oe(){B=[],Z=[],L.get().streaming.abr.useDefaultABRRules&&(L.get().streaming.abr.ABRStrategy===h.default.ABR_STRATEGY_L2A?B.push(Object(f.default)(O).create({dashMetrics:E,settings:L})):L.get().streaming.abr.ABRStrategy===h.default.ABR_STRATEGY_LoLP?B.push(Object(i.default)(O).create({dashMetrics:E})):(B.push(Object(D.default)(O).create({dashMetrics:E,mediaPlayerModel:S,settings:L})),B.push(Object(t.default)(O).create({dashMetrics:E})),L.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&B.push(Object(v.default)(O).create({dashMetrics:E,settings:L})),L.get().streaming.abr.additionalAbrRules.switchHistoryRule&&B.push(Object(P.default)(O).create()),L.get().streaming.abr.additionalAbrRules.droppedFramesRule&&B.push(Object(m.default)(O).create()),L.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&Z.push(Object(y.default)(O).create({dashMetrics:E,mediaPlayerModel:S,settings:L})))),I.getAbrCustomRules().forEach(function(Te){Te.type===p&&B.push(Te.rule(O).create()),Te.type===C&&Z.push(Te.rule(O).create())})},reset:function G(){[B,Z].forEach(function(ce){ce&&ce.length&&ce.forEach(function(Te){return Te.reset&&Te.reset()})}),B=[],Z=[]},getMaxQuality:function Y(ce){return Re(le(B.map(function(ie){return ie.getMaxIndex(ce)})))||Object(d.default)(O).create()},getMinSwitchRequest:Re,shouldAbandonFragment:function ae(ce,Te){return Re(le(Z.map(function(ye){return ye.shouldAbandon(ce,Te)})))||Object(d.default)(O).create()},getQualitySwitchRules:function De(){return B}}}A.__dashjs_factory_name="ABRRulesCollection";var x=c.default.getClassFactory(A);x.QUALITY_SWITCH_RULES=p,x.ABANDON_FRAGMENT_RULES=C,c.default.updateSingletonFactory(A.__dashjs_factory_name,x),g.default=x},"./src/streaming/rules/abr/AbandonRequestsRule.js":
/*!********************************************************!*\
                  !*** ./src/streaming/rules/abr/AbandonRequestsRule.js ***!
                  \********************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),v=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=e(
/*! ../../../core/Debug */
"./src/core/Debug.js");function m(P){var C,A,x,R,O,c=this.context,d=(P=P||{}).mediaPlayerModel,h=P.dashMetrics,p=P.settings;function b(){x={},R={},O=[]}return C={shouldAbandon:function L(B){var Z=Object(t.default)(c).create(t.default.NO_CHANGE,{name:m.__dashjs_factory_name});if(!(B&&B.hasOwnProperty("getMediaInfo")&&B.hasOwnProperty("getMediaType")&&B.hasOwnProperty("getCurrentRequest")&&B.hasOwnProperty("getRepresentationInfo")&&B.hasOwnProperty("getAbrController")))return Z;var oe=B.getMediaInfo(),le=B.getMediaType(),Re=B.getStreamInfo(),Y=Re?Re.id:null,ae=B.getCurrentRequest();if(!isNaN(ae.index)){!function I(B,Z){x[B]=x[B]||{},x[B][Z]=x[B][Z]||{}}(le,ae.index);var G=d.getStableBufferTime();if(h.getCurrentBufferLevel(le)>G)return Z;var ce=x[le][ae.index];if(null===ce||null===ae.firstByteDate||R.hasOwnProperty(ce.id))return Z;if(void 0===ce.firstByteTime&&(O[le]=[],ce.firstByteTime=ae.firstByteDate.getTime(),ce.segmentDuration=ae.duration,ce.bytesTotal=ae.bytesTotal,ce.id=ae.index),ce.bytesLoaded=ae.bytesLoaded,ce.elapsedTime=(new Date).getTime()-ce.firstByteTime,ce.bytesLoaded>0&&ce.elapsedTime>0&&function E(B,Z){O[B]=O[B]||[],O[B].push(Z)}(le,Math.round(8*ce.bytesLoaded/ce.elapsedTime)),O[le].length>=5&&ce.elapsedTime>500&&ce.bytesLoaded<ce.bytesTotal){var Te=O[le].reduce(function(pe,Ie){return pe+Ie},0);if(ce.measuredBandwidthInKbps=Math.round(Te/O[le].length),ce.estimatedTimeOfDownload=+(8*ce.bytesTotal/ce.measuredBandwidthInKbps/1e3).toFixed(2),ce.estimatedTimeOfDownload<1.8*ce.segmentDuration||0===B.getRepresentationInfo().quality)return Z;if(!R.hasOwnProperty(ce.id)){var be=B.getAbrController(),Oe=ce.bytesTotal-ce.bytesLoaded,ie=be.getBitrateList(oe),ye=be.getQualityForBitrate(oe,ce.measuredBandwidthInKbps*p.get().streaming.abr.bandwidthSafetyFactor,Y),Ce=be.getMinAllowedIndexFor(le,Y),de=void 0!==Ce?Math.max(Ce,ye):ye;Oe>ce.bytesTotal*ie[de].bitrate/ie[be.getQualityFor(le,Y)].bitrate&&(Z.quality=de,Z.reason.throughput=ce.measuredBandwidthInKbps,Z.reason.fragmentID=ce.id,R[ce.id]=ce,A.debug("["+le+"] frag id",ce.id," is asking to abandon and switch to quality to ",de," measured bandwidth was",ce.measuredBandwidthInKbps),delete x[le][ce.id])}}else ce.bytesLoaded===ce.bytesTotal&&delete x[le][ce.id]}return Z},reset:b},function S(){A=Object(y.default)(c).getInstance().getLogger(C),b()}(),C}m.__dashjs_factory_name="AbandonRequestsRule",g.default=v.default.getClassFactory(m)},"./src/streaming/rules/abr/BolaRule.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/abr/BolaRule.js ***!
                  \*********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),v=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),y=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=e(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),P=e(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),D=e(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),f=e(
/*! ../../../core/Debug */
"./src/core/Debug.js"),i=e(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),c=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),C=10;function R(O){var b,B,Z,S=this.context,I=(O=O||{}).dashMetrics,E=O.mediaPlayerModel,L=Object(P.default)(S).getInstance();function Re(je,Ne,ee){var fe=ee.reduce(function(Q,ne,X){return ne>ee[Q]?X:Q},0);if(0===fe)return null;var we=Math.max(je,C+2*Ne.length),q=(ee[fe]-1)/(we/C-1);return{gp:q,Vp:C/q}}function Y(je){var Ne={},fe=je.getMediaInfo().bitrateList.map(function(Q){return Q.bandwidth}),we=function le(je){return je.map(function(Ne){return Math.log(Ne)})}(fe);we=we.map(function(Q){return Q-we[0]+1});var q=E.getStableBufferTime(),$=Re(q,fe,we);return $?(Ne.state=1,Ne.bitrates=fe,Ne.utilities=we,Ne.stableBufferTime=q,Ne.Vp=$.Vp,Ne.gp=$.gp,Ne.lastQuality=0,ae(Ne)):Ne.state=0,Ne}function ae(je){je.placeholderBuffer=0,je.mostAdvancedSegmentStart=NaN,je.lastSegmentWasReplacement=!1,je.lastSegmentStart=NaN,je.lastSegmentDurationS=NaN,je.lastSegmentRequestTimeMs=NaN,je.lastSegmentFinishTimeMs=NaN}function G(je,Ne){var ee=E.getStableBufferTime();if(je.stableBufferTime!==ee){var fe=Re(ee,je.bitrates,je.utilities);if(fe.Vp!==je.Vp||fe.gp!==je.gp){var we=I.getCurrentBufferLevel(Ne),q=we+je.placeholderBuffer;q-=C,q*=fe.Vp/je.Vp,q+=C,je.stableBufferTime=ee,je.Vp=fe.Vp,je.gp=fe.gp,je.placeholderBuffer=Math.max(0,q-we)}}}function Te(je,Ne){return je.Vp*(je.utilities[Ne]+je.gp)}function be(je,Ne){for(var ee=je.bitrates[Ne],fe=je.utilities[Ne],we=0,q=Ne-1;q>=0;--q)if(je.utilities[q]<je.utilities[Ne]){var $=je.bitrates[q];we=Math.max(we,je.Vp*(je.gp+(ee*je.utilities[q]-$*fe)/(ee-$)))}return we}function ie(je){var ee=je.mediaType===c.default.AUDIO?[c.default.AUDIO]:Z;for(var fe in ee)Z.hasOwnProperty(fe)&&2===Z[fe].state&&(Z[fe].placeholderBuffer=0)}function ye(){for(var je in Z)if(Z.hasOwnProperty(je)){var Ne=Z[je];0!==Ne.state&&(Ne.state=1,ae(Ne))}}function Ce(je){if(je&&je.chunk&&je.chunk.mediaInfo){var Ne=Z[je.chunk.mediaInfo.type];if(Ne&&0!==Ne.state){var ee=je.chunk.start;isNaN(Ne.mostAdvancedSegmentStart)||ee>Ne.mostAdvancedSegmentStart?(Ne.mostAdvancedSegmentStart=ee,Ne.lastSegmentWasReplacement=!1):Ne.lastSegmentWasReplacement=!0,Ne.lastSegmentStart=ee,Ne.lastSegmentDurationS=je.chunk.duration,Ne.lastQuality=je.chunk.quality,Me(Ne,je.chunk.mediaInfo.type)}}}function de(je){if(je&&je.metric===t.default.HTTP_REQUEST&&je.value&&je.value.type===m.HTTPRequest.MEDIA_SEGMENT_TYPE&&je.value.trace&&je.value.trace.length){var Ne=Z[je.mediaType];Ne&&0!==Ne.state&&(Ne.lastSegmentRequestTimeMs=je.value.trequest.getTime(),Ne.lastSegmentFinishTimeMs=je.value._tfinish.getTime(),Me(Ne,je.mediaType))}}function Me(je,Ne){if(!isNaN(je.lastSegmentStart)&&!isNaN(je.lastSegmentRequestTimeMs)&&!isNaN(je.placeholderBuffer)){if(je.placeholderBuffer*=.99,!isNaN(je.lastSegmentFinishTimeMs)){var fe=I.getCurrentBufferLevel(Ne)+.001*(je.lastSegmentFinishTimeMs-je.lastSegmentRequestTimeMs),we=Te(je,je.lastQuality),q=Math.max(0,we-fe);je.placeholderBuffer=Math.min(q,je.placeholderBuffer)}je.lastSegmentWasReplacement&&!isNaN(je.lastSegmentDurationS)&&(je.placeholderBuffer+=je.lastSegmentDurationS),je.lastSegmentStart=NaN,je.lastSegmentRequestTimeMs=NaN}}function pe(je){if(je){var Ne=Z[je.mediaType];Ne&&0!==Ne.state&&(Ne.abrQuality=je.newQuality)}}function Ie(je){if(je){var Ne=Z[je.mediaType];if(Ne&&0!==Ne.state){var fe,ee=I.getCurrentBufferLevel(je.mediaType);fe=Ne.abrQuality>0?be(Ne,Ne.abrQuality):C;var we=Math.max(0,fe-ee);Ne.placeholderBuffer=Math.min(Ne.placeholderBuffer,we)}}}function at(){Z={}}return b={getMaxIndex:function Be(je){var Ne=Object(v.default)(S).create();if(!(je&&je.hasOwnProperty("getMediaInfo")&&je.hasOwnProperty("getMediaType")&&je.hasOwnProperty("getScheduleController")&&je.hasOwnProperty("getStreamInfo")&&je.hasOwnProperty("getAbrController")&&je.hasOwnProperty("useBufferOccupancyABR")))return Ne;var ee=je.getMediaInfo(),fe=je.getMediaType(),we=je.getScheduleController(),q=je.getStreamInfo(),$=je.getAbrController(),Q=$.getThroughputHistory(),ne=q?q.id:null,X=q&&q.manifestInfo&&q.manifestInfo.isDynamic,re=je.useBufferOccupancyABR();if(Ne.reason=Ne.reason||{},!re)return Ne;we.setTimeToLoadDelay(0);var J=function De(je){var Ne=je.getMediaType(),ee=Z[Ne];return ee?0!==ee.state&&G(ee,Ne):(ee=Y(je),Z[Ne]=ee),ee}(je);if(0===J.state)return Ne;var ct,ge=I.getCurrentBufferLevel(fe),Se=Q.getAverageThroughput(fe,X),Ee=Q.getSafeAverageThroughput(fe,X),Fe=Q.getAverageLatency(fe);if(Ne.reason.state=J.state,Ne.reason.throughput=Se,Ne.reason.latency=Fe,isNaN(Se))return Ne;switch(J.state){case 1:ct=$.getQualityForBitrate(ee,Ee,ne,Fe),Ne.quality=ct,Ne.reason.throughput=Ee,J.placeholderBuffer=Math.max(0,be(J,ct)-ge),J.lastQuality=ct,!isNaN(J.lastSegmentDurationS)&&ge>=J.lastSegmentDurationS&&(J.state=2);break;case 2:(function Oe(je,Ne){var ee=Date.now();isNaN(je.lastSegmentFinishTimeMs)?isNaN(je.lastCallTimeMs)||(je.placeholderBuffer+=Math.max(0,.001*(ee-je.lastCallTimeMs))):je.placeholderBuffer+=Math.max(0,.001*(ee-je.lastSegmentFinishTimeMs)),je.lastCallTimeMs=ee,je.lastSegmentStart=NaN,je.lastSegmentRequestTimeMs=NaN,je.lastSegmentFinishTimeMs=NaN,G(je,Ne)})(J,fe),ct=function ce(je,Ne){for(var ee=je.bitrates.length,fe=NaN,we=NaN,q=0;q<ee;++q){var $=(je.Vp*(je.utilities[q]+je.gp)-Ne)/je.bitrates[q];(isNaN(we)||$>=we)&&(we=$,fe=q)}return fe}(J,ge+J.placeholderBuffer);var qe=$.getQualityForBitrate(ee,Ee,ne,Fe);ct>J.lastQuality&&ct>qe&&(ct=Math.max(qe,J.lastQuality));var tt=Math.max(0,ge+J.placeholderBuffer-Te(J,ct));tt<=J.placeholderBuffer?(J.placeholderBuffer-=tt,tt=0):(tt-=J.placeholderBuffer,J.placeholderBuffer=0,ct<$.getMaxAllowedIndexFor(fe,ne)?we.setTimeToLoadDelay(1e3*tt):tt=0),Ne.quality=ct,Ne.reason.throughput=Se,Ne.reason.latency=Fe,Ne.reason.bufferLevel=ge,Ne.reason.placeholderBuffer=J.placeholderBuffer,Ne.reason.delay=tt,J.lastQuality=ct;break;default:B.debug("BOLA ABR rule invoked in bad state."),Ne.quality=$.getQualityForBitrate(ee,Ee,ne,Fe),Ne.reason.state=J.state,Ne.reason.throughput=Ee,Ne.reason.latency=Fe,J.state=1,ae(J)}return Ne},reset:function Xe(){at(),L.off(i.default.BUFFER_EMPTY,ie,b),L.off(i.default.PLAYBACK_SEEKING,ye,b),L.off(i.default.METRIC_ADDED,de,b),L.off(i.default.QUALITY_CHANGE_REQUESTED,pe,b),L.off(i.default.FRAGMENT_LOADING_ABANDONED,Ie,b),L.off(D.default.MEDIA_FRAGMENT_LOADED,Ce,b)}},function oe(){B=Object(f.default)(S).getInstance().getLogger(b),at(),L.on(i.default.BUFFER_EMPTY,ie,b),L.on(i.default.PLAYBACK_SEEKING,ye,b),L.on(i.default.METRIC_ADDED,de,b),L.on(i.default.QUALITY_CHANGE_REQUESTED,pe,b),L.on(i.default.FRAGMENT_LOADING_ABANDONED,Ie,b),L.on(D.default.MEDIA_FRAGMENT_LOADED,Ce,b)}(),b}R.__dashjs_factory_name="BolaRule",g.default=y.default.getClassFactory(R)},"./src/streaming/rules/abr/DroppedFramesRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/DroppedFramesRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),y=e(
/*! ../../../core/Debug */
"./src/core/Debug.js");function m(){var D,f,P=this.context;return D={getMaxIndex:function h(p){var C=Object(v.default)(P).create();if(!p||!p.hasOwnProperty("getDroppedFramesHistory"))return C;var A=p.getDroppedFramesHistory(),x=p.getStreamInfo().id;if(A){var R=A.getFrameHistory(x);if(!R||0===R.length)return C;for(var O=0,S=0,I=v.default.NO_CHANGE,E=1;E<R.length;E++)if(R[E]&&(O=R[E].droppedVideoFrames,(S=R[E].totalVideoFrames)>375&&O/S>.15)){f.debug("index: "+(I=E-1)+" Dropped Frames: "+O+" Total Frames: "+S);break}return Object(v.default)(P).create(I,{droppedFrames:O})}return C}},function d(){f=Object(y.default)(P).getInstance().getLogger(D)}(),D}m.__dashjs_factory_name="DroppedFramesRule",g.default=t.default.getClassFactory(m)},"./src/streaming/rules/abr/InsufficientBufferRule.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/rules/abr/InsufficientBufferRule.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),v=e(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),y=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=e(
/*! ../../../core/Debug */
"./src/core/Debug.js"),P=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),D=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),f=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),i=e(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function c(d){d=d||{};var R,O,S,p=2,C=this.context,A=Object(t.default)(C).getInstance(),x=d.dashMetrics;function B(){(S={})[D.default.VIDEO]={ignoreCount:p},S[D.default.AUDIO]={ignoreCount:p}}function Z(){B()}function oe(Re){!isNaN(Re.startTime)&&(Re.mediaType===D.default.AUDIO||Re.mediaType===D.default.VIDEO)&&S[Re.mediaType].ignoreCount>0&&S[Re.mediaType].ignoreCount--}return R={getMaxIndex:function L(Re){var Y=Object(P.default)(C).create();if(!Re||!Re.hasOwnProperty("getMediaType"))return Y;!function E(){if(!x||!x.hasOwnProperty("getCurrentBufferLevel")||!x.hasOwnProperty("getCurrentBufferState"))throw new Error(D.default.MISSING_CONFIG_ERROR)}();var ae=Re.getMediaType(),G=x.getCurrentBufferState(ae),ce=Re.getRepresentationInfo().fragmentDuration,Te=Re.getStreamInfo(),be=Te?Te.id:null,Oe=Re.getScheduleController(),ie=Te&&Te.manifestInfo&&Te.manifestInfo.isDynamic;if(function b(Re,Y){return!Re&&S[Y].ignoreCount>0}(Oe.getPlaybackController().getLowLatencyModeEnabled(),ae)||!ce)return Y;if(G&&G.state===f.default.BUFFER_EMPTY)O.debug("["+ae+"] Switch to index 0; buffer is empty."),Y.quality=0,Y.reason="InsufficientBufferRule: Buffer is empty";else{var de=Re.getMediaInfo(),Me=Re.getAbrController(),pe=Me.getThroughputHistory(),Ie=x.getCurrentBufferLevel(ae),Be=pe.getAverageThroughput(ae,ie),at=pe.getAverageLatency(ae);Y.quality=Me.getQualityForBitrate(de,Be*(Ie/ce)*.5,be,at),Y.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return Y},reset:function le(){B(),A.off(i.default.PLAYBACK_SEEKING,Z,R),A.off(v.default.BYTES_APPENDED_END_FRAGMENT,oe,R)}},function I(){O=Object(m.default)(C).getInstance().getLogger(R),B(),A.on(i.default.PLAYBACK_SEEKING,Z,R),A.on(v.default.BYTES_APPENDED_END_FRAGMENT,oe,R)}(),R}c.__dashjs_factory_name="InsufficientBufferRule",g.default=y.default.getClassFactory(c)},"./src/streaming/rules/abr/L2ARule.js":
/*!********************************************!*\
                  !*** ./src/streaming/rules/abr/L2ARule.js ***!
                  \********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),v=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),y=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=e(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),P=e(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),D=e(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),f=e(
/*! ../../../core/Debug */
"./src/core/Debug.js"),i=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js");function p(C){var O,S,I,E,A=this.context,x=(C=C||{}).dashMetrics,R=Object(P.default)(A).getInstance();function b(ie){var ye={},Ce=ie.getMediaInfo(),de=Ce.bitrateList.map(function(Me){return Me.bandwidth/1e3});return ye.state=1,ye.bitrates=de,ye.lastQuality=0,function B(ie){!ie||!ie.type||(I[ie.type]={},I[ie.type].w=[],I[ie.type].prev_w=[],I[ie.type].Q=0,I[ie.type].segment_request_start_s=0,I[ie.type].segment_download_finish_s=0,I[ie.type].B_target=1.5)}(Ce),Z(ye),ye}function Z(ie){ie.placeholderBuffer=0,ie.mostAdvancedSegmentStart=NaN,ie.lastSegmentWasReplacement=!1,ie.lastSegmentStart=NaN,ie.lastSegmentDurationS=NaN,ie.lastSegmentRequestTimeMs=NaN,ie.lastSegmentFinishTimeMs=NaN}function le(){for(var ie in S)if(S.hasOwnProperty(ie)){var ye=S[ie];0!==ye.state&&(ye.state=1,Z(ye))}}function Re(ie){if(ie&&ie.chunk&&ie.chunk.mediaInfo){var ye=S[ie.chunk.mediaInfo.type],Ce=I[ie.chunk.mediaInfo.type];if(ye&&0!==ye.state){var de=ie.chunk.start;isNaN(ye.mostAdvancedSegmentStart)||de>ye.mostAdvancedSegmentStart?(ye.mostAdvancedSegmentStart=de,ye.lastSegmentWasReplacement=!1):ye.lastSegmentWasReplacement=!0,ye.lastSegmentStart=de,ye.lastSegmentDurationS=ie.chunk.duration,ye.lastQuality=ie.chunk.quality,ae(ye,Ce)}}}function Y(ie){if(ie&&ie.metric===t.default.HTTP_REQUEST&&ie.value&&ie.value.type===m.HTTPRequest.MEDIA_SEGMENT_TYPE&&ie.value.trace&&ie.value.trace.length){var ye=S[ie.mediaType],Ce=I[ie.mediaType];ye&&0!==ye.state&&(ye.lastSegmentRequestTimeMs=ie.value.trequest.getTime(),ye.lastSegmentFinishTimeMs=ie.value._tfinish.getTime(),ae(ye,Ce))}}function ae(ie,ye){!isNaN(ie.lastSegmentStart)&&!isNaN(ie.lastSegmentRequestTimeMs)&&(ye.segment_request_start_s=.001*ie.lastSegmentRequestTimeMs,ye.segment_download_finish_s=.001*ie.lastSegmentFinishTimeMs,ie.lastSegmentStart=NaN,ie.lastSegmentRequestTimeMs=NaN)}function G(ie){if(ie&&ie.mediaType){var ye=S[ie.mediaType];ye&&0!==ye.state&&(ye.abrQuality=ie.newQuality)}}function De(ie,ye){if(ie.length!==ye.length)return-1;for(var Ce=0,de=0;de<ie.length;de++)Ce+=ie[de]*ye[de];return Ce}function be(){S={},I={}}return O={getMaxIndex:function Te(ie){var J,ye=Object(v.default)(A).create(),de=Math.pow(4,.99),Me=Math.max(Math.pow(4,1),de*Math.sqrt(4)),pe=ie.getMediaInfo(),Ie=ie.getMediaType(),Be=pe.bitrateList.map(function(Kt){return Kt.bandwidth}),at=Be.length,Xe=ie.getScheduleController(),je=ie.getStreamInfo(),Ne=ie.getAbrController(),ee=Ne.getThroughputHistory(),fe=je&&je.manifestInfo&&je.manifestInfo.isDynamic,we=ie.useL2AABR(),q=x.getCurrentBufferLevel(Ie,!0),$=ee.getSafeAverageThroughput(Ie,fe),Q=ee.getAverageThroughput(Ie,fe),X=ee.getAverageLatency(Ie),ge=ie.getVideoModel().getPlaybackRate();if(!(ie&&ie.hasOwnProperty("getMediaInfo")&&ie.hasOwnProperty("getMediaType")&&ie.hasOwnProperty("getScheduleController")&&ie.hasOwnProperty("getStreamInfo")&&ie.hasOwnProperty("getAbrController")&&ie.hasOwnProperty("useL2AABR")&&(ye.reason=ye.reason||{},we&&Ie!==i.default.AUDIO)))return ye;Xe.setTimeToLoadDelay(0);var Se=function oe(ie){var ye=ie.getMediaType(),Ce=S[ye];return Ce||(Ce=b(ie),S[ye]=Ce),Ce}(ie);if(0===Se.state)return ye;var Ee=I[Ie];if(!Ee||(ye.reason.state=Se.state,ye.reason.throughput=Q,ye.reason.latency=X,isNaN(Q)))return ye;switch(Se.state){case 1:if(J=Ne.getQualityForBitrate(pe,$,je.id,X),ye.quality=J,ye.reason.throughput=$,Se.lastQuality=J,!isNaN(Se.lastSegmentDurationS)&&q>=Ee.B_target){Se.state=2,Ee.Q=de;for(var Fe=0;Fe<at;++Fe)Ee.prev_w[Fe]=Fe===Se.lastQuality?1:0}break;case 2:var ct=[],qe=x.getCurrentHttpRequest(Ie).trace.reduce(function(Kt,Jt){return Kt+Jt.d},0),tt=x.getCurrentHttpRequest(Ie).trace.reduce(function(Kt,Jt){return Kt+Jt.b[0]},0),gt=Math.round(8*tt/qe);gt<1&&(gt=1);for(var Qe=Se.lastSegmentDurationS,yt=1,Et=0;Et<at;++Et)Be[Et]=Be[Et]/1e3,ge*Be[Et]>gt&&(yt=-1),Ee.w[Et]=Ee.prev_w[Et]+yt*(Qe/(2*Me))*((Ee.Q+de)*(ge*Be[Et]/gt));Ee.w=function ce(ie){for(var ye=ie.length,Ce=!1,de=[],Me=0;Me<ye;++Me)de[Me]=ie[Me];for(var pe=ie.sort(function(Ne,ee){return ee-Ne}),Ie=0,Be=0,at=[],Xe=0;Xe<ye-1;++Xe)if((Be=((Ie+=pe[Xe])-1)/(Xe+1))>=pe[Xe+1]){Ce=!0;break}Ce||(Be=(Ie+pe[ye-1]-1)/ye);for(var je=0;je<ye;++je)at[je]=Math.max(de[je]-Be,0);return at}(Ee.w);for(var me=0;me<at;++me)ct[me]=Ee.w[me]-Ee.prev_w[me],Ee.prev_w[me]=Ee.w[me];Ee.Q=Math.max(0,Ee.Q-Qe+Qe*ge*((De(Be,Ee.prev_w)+De(Be,ct))/gt));for(var We=[],Tt=0;Tt<at;++Tt)We[Tt]=Math.abs(Be[Tt]-De(Ee.w,Be));(J=We.indexOf(Math.min.apply(Math,We)))>Se.lastQuality&&Be[Se.lastQuality+1]<=gt&&(J=Se.lastQuality+1),Be[J]>=gt&&(Ee.Q=2*Math.max(de,Ee.Q)),ye.quality=J,ye.reason.throughput=Q,ye.reason.latency=X,ye.reason.bufferLevel=q,Se.lastQuality=ye.quality;break;default:E.debug("L2A ABR rule invoked in bad state."),ye.quality=Ne.getQualityForBitrate(pe,$,je.id,X),ye.reason.state=Se.state,ye.reason.throughput=$,ye.reason.latency=X,Se.state=1,Z(Se)}return ye},reset:function Oe(){be(),R.off(D.default.PLAYBACK_SEEKING,le,O),R.off(D.default.MEDIA_FRAGMENT_LOADED,Re,O),R.off(D.default.METRIC_ADDED,Y,O),R.off(D.default.QUALITY_CHANGE_REQUESTED,G,O)}},function L(){E=Object(f.default)(A).getInstance().getLogger(O),be(),R.on(D.default.PLAYBACK_SEEKING,le,O),R.on(D.default.MEDIA_FRAGMENT_LOADED,Re,O),R.on(D.default.METRIC_ADDED,Y,O),R.on(D.default.QUALITY_CHANGE_REQUESTED,G,O)}(),O}p.__dashjs_factory_name="L2ARule",g.default=y.default.getClassFactory(p)},"./src/streaming/rules/abr/SwitchHistoryRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/SwitchHistoryRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../../core/Debug */
"./src/core/Debug.js"),y=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function m(){var D,f,P=this.context;return D={getMaxIndex:function h(p){for(var C=p?p.getSwitchHistory():null,A=C?C.getSwitchRequests():[],x=0,R=0,O=0,S=Object(y.default)(P).create(),I=0;I<A.length;I++)if(void 0!==A[I]&&(O+=A[I].dropSize,(x+=A[I].drops)+(R+=A[I].noDrops)>=6&&x/R>.075)){S.quality=I>0&&A[I].drops>0?I-1:I,S.reason={index:S.quality,drops:x,noDrops:R,dropSize:O},f.debug("Switch history rule index: "+S.quality+" samples: "+(x+R)+" drops: "+x);break}return S}},function d(){f=Object(v.default)(P).getInstance().getLogger(D)}(),D}m.__dashjs_factory_name="SwitchHistoryRule",g.default=t.default.getClassFactory(m)},"./src/streaming/rules/abr/ThroughputRule.js":
/*!***************************************************!*\
                  !*** ./src/streaming/rules/abr/ThroughputRule.js ***!
                  \***************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),y=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),m=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function P(D){var f=this.context,i=(D=D||{}).dashMetrics;return{getMaxIndex:function p(A){var x=Object(v.default)(f).create();if(!(A&&A.hasOwnProperty("getMediaInfo")&&A.hasOwnProperty("getMediaType")&&A.hasOwnProperty("useBufferOccupancyABR")&&A.hasOwnProperty("getAbrController")&&A.hasOwnProperty("getScheduleController")))return x;!function h(){if(!i||!i.hasOwnProperty("getCurrentBufferState"))throw new Error(y.default.MISSING_CONFIG_ERROR)}();var R=A.getMediaInfo(),O=A.getMediaType(),S=i.getCurrentBufferState(O),I=A.getScheduleController(),E=A.getAbrController(),L=A.getStreamInfo(),b=L?L.id:null,B=L&&L.manifestInfo?L.manifestInfo.isDynamic:null,Z=E.getThroughputHistory(),oe=Z.getSafeAverageThroughput(O,B),le=Z.getAverageLatency(O),Re=A.useBufferOccupancyABR();return isNaN(oe)||!S||Re||E.getAbandonmentStateFor(b,O)!==m.default.ABANDON_LOAD&&(S.state===m.default.BUFFER_LOADED||B)&&(x.quality=E.getQualityForBitrate(R,oe,b,le),I.setTimeToLoadDelay(0),x.reason={throughput:oe,latency:le}),x},reset:function C(){}}}P.__dashjs_factory_name="ThroughputRule",g.default=t.default.getClassFactory(P)},"./src/streaming/rules/abr/lolp/LearningAbrController.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LearningAbrController.js ***!
                  \***************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),y_MANUAL="manual_weight_selection",y_RANDOM="random_weight_selection",y_DYNAMIC="dynamic_weight_selection";function m(){var D,f,i,c,d,h,p,C,A,P=this.context;function O(){i=null,c=1,d=100,h=0,p=null,C=null,A=y_DYNAMIC}function S(){var Te=0;if(i)for(var be=0;be<i.length;be++){var Oe=i[be];Oe.state.throughput>Te&&(Te=Oe.state.throughput)}return Te}function E(Te,be,Oe){var ie=Te.map(function(Ce,de){return Oe[de]*Math.pow(Ce-be[de],2)}).reduce(function(Ce,de){return Ce+de});return(ie<0?-1:1)*Math.sqrt(Math.abs(ie))}function L(Te,be){return E([Te.state.throughput,Te.state.latency,Te.state.rebuffer,Te.state.switch],[be.state.throughput,be.state.latency,be.state.rebuffer,be.state.switch],[1,1,1,1])}function b(Te,be,Oe){for(var ie=0;ie<be.length;ie++){var ye=be[ie],de=L(ye,Te);B(ye,Oe,Math.exp(-1*Math.pow(de,2)/(2*Math.pow(.1,2))))}}function B(Te,be,Oe){var ie=Te.state,ye=[.01,.01,.01,.01];ie.throughput=ie.throughput+(be[0]-ie.throughput)*ye[0]*Oe,ie.latency=ie.latency+(be[1]-ie.latency)*ye[1]*Oe,ie.rebuffer=ie.rebuffer+(be[2]-ie.rebuffer)*ye[2]*Oe,ie.switch=ie.switch+(be[3]-ie.switch)*ye[3]*Oe}return D={getNextQuality:function oe(Te,be,Oe,ie,ye,Ce,de){var Me=Oe,pe=ie,Ie=be,Be=function G(Te){if(!i){i=[];var be=Te.bitrateList,Oe=[];h=be[0].bandwidth,be.forEach(function(Ce){Oe.push(Ce.bandwidth),Ce.bandwidth<h&&(h=Ce.bandwidth)}),c=function I(Te){var be=Te.map(function(Oe){return Math.pow(Oe,2)}).reduce(function(Oe,ie){return Oe+ie});return Math.sqrt(be)}(Oe);for(var ie=0;ie<be.length;ie++)i.push({qualityIndex:ie,bitrate:be[ie].bandwidth,state:{throughput:be[ie].bandwidth/c,latency:0,rebuffer:0,switch:0}});C=function ce(Te){var be=[],Oe=function De(Te){for(var be=[],Oe=0;Oe<Te;Oe++){var ie=[Math.random()*S(),Math.random(),Math.random(),Math.random()];be.push(ie)}return be}(Math.pow(Te.length,2));be.push(Oe[0]);for(var ie=[1,1,1,1],ye=1;ye<Te.length;ye++){for(var Ce=null,de=null,Me=0;Me<Oe.length;Me++){for(var pe=Oe[Me],Ie=null,Be=0;Be<be.length;Be++){var at=E(pe,be[Be],ie);(null===Ie||at<Ie)&&(Ie=at)}(null===de||Ie>de)&&(Ce=pe,de=Ie)}be.push(Ce)}for(var Xe=null,je=null,Ne=0;Ne<be.length;Ne++){for(var ee=0,fe=0;fe<be.length;fe++)Ne!==fe&&(ee+=E(be[Ne],be[fe],ie));(null===Xe||ee>Xe)&&(Xe=ee,je=Ne)}var we=[];for(we.push(be[je]),be.splice(je,1);be.length>0;){for(var q=null,$=null,Q=0;Q<be.length;Q++){var ne=E(we[0],be[Q],ie);(null===q||ne<q)&&(q=ne,$=Q)}we.push(be[$]),be.splice($,1)}return we}(i)}return i}(Te),at=be/c;at>1&&(at=S()),Oe/=d,f.debug("getNextQuality called throughput:".concat(at," latency:").concat(Oe," bufferSize:").concat(ie," currentQualityIndex:").concat(Ce," playbackRate:").concat(ye));var fe=Be[Ce],we=fe.bitrate*de.getSegmentDuration()/Ie,q=Math.max(0,we-pe);if(pe-we<de.getMinBuffer())return f.debug("Buffer is low for bitrate= ".concat(fe.bitrate," downloadTime=").concat(we," currentBuffer=").concat(pe," rebuffer=").concat(q)),function Z(Te,be){var Oe=0,ie=Te;if(i)for(var ye=0;ye<i.length;ye++){var Ce=i[ye];Ce.bitrate<Te.bitrate&&Ce.bitrate>Oe&&be>Ce.bitrate&&(Oe=Ce.bitrate,ie=Ce)}return ie}(fe,Ie).qualityIndex;switch(A){case y_MANUAL:!function le(){p=[.4,.4,.4,.4]}();break;case y_RANDOM:!function Re(Te){p=function ae(Te,be){for(var Oe=[],ie=Math.sqrt(2/Te),ye=0;ye<be;ye++)Oe.push(Math.random()*ie);return p=Oe}(Te.length,4)}(Be);break;default:!function Y(Te,be,Oe,ie,ye,Ce,de){p||(p=C[C.length-1]);var Me=Te.findWeightVector(be,Oe,ie,ye,Ce,de);null!==Me&&-1!==Me&&(p=Me)}(de,Be,Me,pe,q,Ie,ye)}for(var $=null,Q=null,ne=null,X=0;X<Be.length;X++){var re=Be[X],J=re.state,ge=[J.throughput,J.latency,J.rebuffer,J.switch],Se=p.slice(),Ee=de.getNextBufferWithBitrate(re.bitrate,pe,Ie),Fe=Ee<de.getMinBuffer();Fe&&f.debug("Buffer is low for bitrate=".concat(re.bitrate," downloadTime=").concat(we," currentBuffer=").concat(pe," nextBuffer=").concat(Ee)),(re.bitrate>be-1e4||Fe)&&re.bitrate!==h&&(Se[0]=100);var ct=E(ge,[at,0,0,0],Se);(null===$||ct<$)&&($=ct,Q=re.qualityIndex,ne=re)}var qe=Math.abs(fe.bitrate-ne.bitrate)/c;return b(fe,Be,[at,Oe,q,qe]),b(ne,Be,[at,0,0,qe]),Q},reset:function R(){O()}},function x(){f=Object(v.default)(P).getInstance().getLogger(D),O()}(),D}m.__dashjs_factory_name="LearningAbrController",g.default=t.default.getClassFactory(m)},"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js ***!
                  \**********************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ./QoeInfo */
"./src/streaming/rules/abr/lolp/QoeInfo.js");function y(){var m,P,D,f,i;function d(){P=null,D=null,f=null,i=null}function p(S,I,E,L){var b=new v.default;return b.type=S,b.weights.bitrateReward=I||1,b.weights.bitrateSwitchPenalty=1,b.weights.rebufferPenalty=E||1e3,b.weights.latencyPenalty=[],b.weights.latencyPenalty.push({threshold:1.1,penalty:.05*L}),b.weights.latencyPenalty.push({threshold:1e8,penalty:.1*E}),b.weights.playbackSpeedPenalty=L||200,b}function A(S,I,E,L,b){b.bitrateWSum+=b.weights.bitrateReward*S,b.lastBitrate&&(b.bitrateSwitchWSum+=b.weights.bitrateSwitchPenalty*Math.abs(S-b.lastBitrate)),b.lastBitrate=S,b.rebufferWSum+=b.weights.rebufferPenalty*I;for(var B=0;B<b.weights.latencyPenalty.length;B++){var Z=b.weights.latencyPenalty[B];if(E<=Z.threshold){b.latencyWSum+=Z.penalty*E;break}}b.playbackSpeedWSum+=b.weights.playbackSpeedPenalty*Math.abs(1-L),b.totalQoe=b.bitrateWSum-b.bitrateSwitchWSum-b.rebufferWSum-b.latencyWSum-b.playbackSpeedWSum}return m={setupPerSegmentQoe:function h(S,I,E){P=p("segment",S,I,E),D=S,f=I,i=E},logSegmentMetrics:function C(S,I,E,L){P&&A(S,I,E,L,P)},getPerSegmentQoe:function x(){return P},calculateSingleUseQoe:function R(S,I,E,L){var b=null;return D&&f&&i&&(b=p("segment",D,f,i)),b?(A(S,I,E,L,b),b.totalQoe):0},reset:function O(){d()}},function c(){d()}(),m}y.__dashjs_factory_name="LoLpQoeEvaluator",g.default=t.default.getClassFactory(y)},"./src/streaming/rules/abr/lolp/LoLpRule.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpRule.js ***!
                  \**************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),v=e(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=e(
/*! ./LearningAbrController */
"./src/streaming/rules/abr/lolp/LearningAbrController.js"),m=e(
/*! ./LoLpQoEEvaluator */
"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js"),P=e(
/*! ../../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),D=e(
/*! ../../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),f=e(
/*! ./LoLpWeightSelector */
"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js"),i=e(
/*! ../../../constants/Constants */
"./src/streaming/constants/Constants.js");function h(p){var x,R,O,S,C=(p=p||{}).dashMetrics,A=this.context;return R={getMaxIndex:function E(B){try{var Z=Object(P.default)(A).create(),oe=B.getMediaInfo().type,le=B.getAbrController(),Re=B.getStreamInfo(),Y=le.getQualityFor(oe,Re.id),ae=B.getMediaInfo(),G=C.getCurrentBufferState(oe),De=B.getScheduleController(),ce=C.getCurrentBufferLevel(oe,!0),Te=Re&&Re.manifestInfo?Re.manifestInfo.isDynamic:null,be=De.getPlaybackController(),Oe=be.getCurrentLiveLatency();if(!B.useLoLPABR()||oe===i.default.AUDIO)return Z;Oe||(Oe=0);var ie=be.getPlaybackRate(),Ce=le.getThroughputHistory().getSafeAverageThroughput(oe,Te);if(x.debug("Throughput ".concat(Math.round(Ce)," kbps")),isNaN(Ce)||!G||le.getAbandonmentStateFor(Re.id,oe)===D.default.ABANDON_LOAD)return Z;for(var de=ae.bitrateList,Me=B.getRepresentationInfo().fragmentDuration,pe=de[0].bandwidth/1e3,Ie=de[de.length-1].bandwidth/1e3,Be=0;Be<de.length;Be++){var at=de[Be].bandwidth/1e3;at>Ie?Ie=at:at<pe&&(pe=at)}var je=de[Y].bandwidth/1e3,Ne=C.getCurrentHttpRequest(oe,!0),ee=(Ne.tresponse.getTime()-Ne.trequest.getTime())/1e3,fe=ee>Me?ee-Me:0;S.setupPerSegmentQoe(Me,Ie,pe),S.logSegmentMetrics(je,fe,Oe,ie);var we=Object(f.default)(A).create({targetLatency:1.5,bufferMin:.3,segmentDuration:Me,qoeEvaluator:S});return Z.quality=O.getNextQuality(ae,1e3*Ce,Oe,ce,ie,Y,we),Z.reason={throughput:Ce,latency:Oe},Z.priority=P.default.PRIORITY.STRONG,De.setTimeToLoadDelay(0),Z.quality!==Y&&console.log("[TgcLearningRule]["+oe+"] requesting switch to index: ",Z.quality,"Average throughput",Math.round(Ce),"kbps"),Z}catch(q){throw q}},reset:function b(){!function L(){O.reset(),S.reset()}()}},function I(){x=Object(t.default)(A).getInstance().getLogger(R),O=Object(y.default)(A).create(),S=Object(m.default)(A).create()}(),R}h.__dashjs_factory_name="LoLPRule",g.default=v.default.getClassFactory(h)},"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js":
/*!************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpWeightSelector.js ***!
                  \************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(y){var i,h,p,m=y.targetLatency,P=y.bufferMin,D=y.segmentDuration,f=y.qoeEvaluator;function I(){return D}function L(b,B){var Z=I();return B>Z?b-Z:b+Z-B}return i={getMinBuffer:function S(){return P},getSegmentDuration:I,getNextBufferWithBitrate:function E(b,B,Z){return L(B,b*D/Z)},getNextBuffer:L,findWeightVector:function x(b,B,Z,oe,le,Re){var Y=null,ae=null,G=null,De=Math.abs(B-p);return b.forEach(function(ce){h.forEach(function(Te){var be_latency=Te[1],be_buffer=Te[2],Oe=ce.bitrate*D/le,ie=L(Z,Oe),ye=Math.max(1e-5,Oe-ie),pe=f.calculateSingleUseQoe(ce.bitrate,(0===be_buffer?10:1/be_buffer)*ye,(0===be_latency?10:1/be_latency)*ce.state.latency,Re);(null===Y||pe>Y)&&function R(b,B,Z){return!(b>m+Z)&&B>=P}(B,ie,De)&&(Y=pe,ae=Te,G=ce.bitrate)})}),null===ae&&null===G&&(ae=-1),p=B,ae}},function C(){!function A(){h=function O(b,B){return function le(Re,Y,ae){if(ae===Y)return Re;for(var G=Re.length,De=0;De<G;De++)for(var ce=Re.shift(),Te=0;Te<b.length;Te++)Re.push(ce.concat(b[Te]));return le(Re,Y,ae+1)}(b.map(function(le){return[le]}),B,1)}([.2,.4,.6,.8,1],4),p=0}()}(),i}v.__dashjs_factory_name="LoLpWeightSelector",g.default=t.default.getClassFactory(v)},"./src/streaming/rules/abr/lolp/QoeInfo.js":
/*!*************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/QoeInfo.js ***!
                  \*************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0})},"./src/streaming/text/EmbeddedTextHtmlRender.js":
/*!******************************************************!*\
                  !*** ./src/streaming/text/EmbeddedTextHtmlRender.js ***!
                  \******************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(){var y=0;function P(p){for(var C="",A=0;A<p.length;++A)C+=p[A].uchar;return C.length-C.replace(/^\s+/,"").length}function D(p){return"left: "+3.125*p.x+"%; top: "+6.66*p.y1+"%; width: "+(100-3.125*p.x)+"%; height: "+6.66*Math.max(p.y2-1-p.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function f(p){return"red"===p?"rgb(255, 0, 0)":"green"===p?"rgb(0, 255, 0)":"blue"===p?"rgb(0, 0, 255)":"cyan"===p?"rgb(0, 255, 255)":"magenta"===p?"rgb(255, 0, 255)":"yellow"===p?"rgb(255, 255, 0)":"white"===p?"rgb(255, 255, 255)":"black"===p?"rgb(0, 0, 0)":p}function i(p,C){var A=p.videoHeight/15;return C?"font-size: "+A+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(C.foreground?f(C.foreground):"rgb(255, 255, 255)")+"; font-style: "+(C.italics?"italic":"normal")+"; text-decoration: "+(C.underline?"underline":"none")+"; white-space: pre; background-color: "+(C.background?f(C.background):"transparent")+";":"font-size: "+A+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function c(p){return p.replace(/^\s+/g,"")}function d(p){return p.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function h(p,C,A,x){var oe,le,R=null,S=!1,I=-1,E={start:C,end:A,spans:[]},L="style_cea608_white_black",b={},B={},Z=[];for(oe=0;oe<15;++oe){var Re=x.rows[oe],Y="",ae=null;if(!1===Re.isEmpty()){var G=P(Re.chars);null===R&&(R={x:G,y1:oe,y2:oe+1,p:[]}),G!==I&&S&&(R.p.push(E),E={start:C,end:A,spans:[]},R.y2=oe,R.name="region_"+R.x+"_"+R.y1+"_"+R.y2,!1===b.hasOwnProperty(R.name)?(Z.push(R),b[R.name]=R):b[R.name].p.contat(R.p),R={x:G,y1:oe,y2:oe+1,p:[]});for(var De=0;De<Re.chars.length;++De){var ce=Re.chars[De],Te=ce.penState;if(null===ae||!Te.equals(ae)){Y.trim().length>0&&(E.spans.push({name:L,line:Y,row:oe}),Y="");var be="style_cea608_"+Te.foreground+"_"+Te.background;Te.underline&&(be+="_underline"),Te.italics&&(be+="_italics"),B.hasOwnProperty(be)||(B[be]=JSON.parse(JSON.stringify(Te))),ae=Te,L=be}Y+=ce.uchar}Y.trim().length>0&&E.spans.push({name:L,line:Y,row:oe}),S=!0,I=G}else S=!1,I=-1,R&&(R.p.push(E),E={start:C,end:A,spans:[]},R.y2=oe,R.name="region_"+R.x+"_"+R.y1+"_"+R.y2,!1===b.hasOwnProperty(R.name)?(Z.push(R),b[R.name]=R):b[R.name].p.contat(R.p),R=null)}R&&(R.p.push(E),R.y2=oe+1,R.name="region_"+R.x+"_"+R.y1+"_"+R.y2,!1===b.hasOwnProperty(R.name)?(Z.push(R),b[R.name]=R):b[R.name].p.contat(R.p),R=null);var Oe=[];for(oe=0;oe<Z.length;++oe){var ie=Z[oe],ye="sub_cea608_"+y++,Ce=document.createElement("div");Ce.id=ye;var de=D(ie);Ce.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+de;var Me=document.createElement("div");Me.className="paragraph bodyStyle",Me.style.cssText=i(p);var pe=document.createElement("div");pe.className="cueUniWrapper",pe.style.cssText="unicode-bidi: normal; direction: ltr;";for(var Ie=0;Ie<ie.p.length;++Ie){var Be=ie.p[Ie],at=0;for(le=0;le<Be.spans.length;++le){var Xe=Be.spans[le];if(Xe.line.length>0){if(0!==le&&at!=Xe.row){var je=document.createElement("br");je.className="lineBreak",pe.appendChild(je)}var Ne=!1;at===Xe.row&&(Ne=!0),at=Xe.row;var ee=B[Xe.name],fe=document.createElement("span");fe.className="spanPadding "+Xe.name+" customSpanColor",fe.style.cssText=i(p,ee),fe.textContent=0!==le&&Ne?le===Be.spans.length-1?d(Xe.line):Xe.line:Be.spans.length>1&&le<Be.spans.length-1&&Xe.row===Be.spans[le+1].row?c(Xe.line):Xe.line.trim(),pe.appendChild(fe)}}}Me.appendChild(pe),Ce.appendChild(Me);var we={bodyStyle:["%",90]};for(var q in B)B.hasOwnProperty(q)&&(we[q]=["%",90]);Oe.push({type:"html",start:C,end:A,cueHTMLElement:Ce,cueID:ye,cellResolution:[32,15],isFromCEA608:!0,fontSize:we,lineHeight:{},linePadding:{}})}return Oe}}}v.__dashjs_factory_name="EmbeddedTextHtmlRender",g.default=t.default.getSingletonFactory(v)},"./src/streaming/text/NotFragmentedTextBufferController.js":
/*!*****************************************************************!*\
                  !*** ./src/streaming/text/NotFragmentedTextBufferController.js ***!
                  \*****************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),v=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=e(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),P=e(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),D=e(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),f=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),i="NotFragmentedTextBufferController";function c(d){d=d||{};var O,S,I,E,L,b,h=this.context,p=Object(t.default)(h).getInstance(),C=d.textController,A=d.errHandler,x=d.streamInfo,R=d.type;function G(Q){E=Q}function Oe(Q){S!==Q&&(S=Q)&&function $(Q,ne){p.trigger(Q,ne||{},{streamId:x.id,mediaType:R})}(v.default.BUFFERING_COMPLETED)}function Ce(Q){!Q.chunk.bytes||S||(b.save(Q.chunk),L.append(Q.chunk),Oe(!0))}return O={initialize:function oe(Q){G(Q)},getStreamId:function Re(){return x.id},getType:function Y(){return R},getBufferControllerType:function Z(){return i},createBufferSink:function le(Q){return new Promise(function(ne,X){try{(L=Object(P.default)(h).create({mediaSource:E,textController:C,eventBus:p})).initializeForFirstUse(x,Q),I||(L.getBuffer()&&"function"==typeof L.getBuffer().initialize&&L.getBuffer().initialize(),I=!0),ne(L)}catch(re){A.error(new D.default(f.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,f.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+R)),X(re)}})},getBuffer:function ae(){return L},getBufferLevel:function Te(){return 0},getRangeAt:function de(){return null},pruneBuffer:function at(){},hasBufferAtTime:function Me(){return!0},getAllRangesWithSafetyFactor:function pe(){return[]},getContinuousBufferTimeForTargetTime:function Ie(){return Number.POSITIVE_INFINITY},setMediaSource:G,getMediaSource:function De(){return E},appendInitSegmentFromCache:function ye(Q){return null!==b.extract(x.id,Q)},getIsBufferingCompleted:function be(){return S},setIsBufferingCompleted:Oe,getIsPruningInProgress:function ce(){return!1},reset:function ie(Q){p.off(v.default.INIT_FRAGMENT_LOADED,Ce,O),!Q&&L&&(L.abort(),L.reset(),L=null)},clearBuffers:function Be(){return Promise.resolve()},prepareForPlaybackSeek:function je(){return Promise.resolve()},prepareForReplacementTrackSwitch:function Ne(){return S=!1,Promise.resolve()},setSeekTarget:function fe(){},updateAppendWindow:function ee(){return Promise.resolve()},pruneAllSafely:function q(){return Promise.resolve()},updateBufferTimestampOffset:function Xe(){return Promise.resolve()},segmentRequestingCompleted:function we(){}},function B(){I=!1,E=null,S=!1,b=Object(m.default)(h).getInstance(),p.on(v.default.INIT_FRAGMENT_LOADED,Ce,O)}(),O}c.__dashjs_factory_name=i,g.default=y.default.getClassFactory(c)},"./src/streaming/text/TextController.js":
/*!**********************************************!*\
                  !*** ./src/streaming/text/TextController.js ***!
                  \**********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=e(
/*! ./TextSourceBuffer */
"./src/streaming/text/TextSourceBuffer.js"),m=e(
/*! ./TextTracks */
"./src/streaming/text/TextTracks.js"),P=e(
/*! ../utils/VTTParser */
"./src/streaming/utils/VTTParser.js"),D=e(
/*! ../utils/VttCustomRenderingParser */
"./src/streaming/utils/VttCustomRenderingParser.js"),f=e(
/*! ../utils/TTMLParser */
"./src/streaming/utils/TTMLParser.js"),i=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),c=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),d=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),h=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function p(C){var L,b,B,Z,oe,le,Re,Y,ae,G,De,ce,A=this.context,x=C.adapter,R=C.errHandler,O=C.manifestModel,S=C.mediaController,I=C.videoModel,E=C.settings;function pe(ne){var X=ne.tracks,re=ne.index,J=ne.streamId;if(!1===E.get().streaming.text.defaultEnabled&&!Xe()||ce)Ne(J,-1);else{var Se=S.getCurrentTrackFor(t.default.TEXT,J);if(Se){var Ee={lang:Se.lang,role:Se.roles[0],index:Se.index,codec:Se.codec,accessibility:Se.accessibility[0]};X.some(function(Fe,ct){if(S.matchSettings(Ee,Fe))return Ne(J,ct),re=ct,!0})}ae=!1}b[J].lastEnabledIndex=re,Y.trigger(d.default.TEXT_TRACKS_ADDED,{enabled:Xe(),index:re,tracks:X,streamId:J}),De=!0}function Ie(ne){try{var X=ne.streamId;if(!Z[X]||isNaN(ne.time))return;Z[X].manualCueProcessing(ne.time)}catch{}}function Be(ne){try{var X=ne.streamId;if(!Z[X])return;Z[X].disableManualTracks()}catch{}}function Xe(){var ne=!0;return ae&&!G&&(ne=!1),ne}function Ne(ne,X){(ae=-1===X)&&S&&S.saveTextSettingsDisabled();var re=we(ne);if(re!==X&&Z[ne]){Z[ne].disableManualTracks(),Z[ne].setModeForTrackIdx(re,t.default.TEXT_HIDDEN),Z[ne].setCurrentTrackIdx(X),Z[ne].setModeForTrackIdx(X,t.default.TEXT_SHOWING);var J=Z[ne].getCurrentTrackInfo();J&&J.isFragmented&&!J.isEmbedded?function ee(ne,X,re){if(B[ne])for(var ge=B[ne].getConfig().fragmentedTracks,Se=0;Se<ge.length;Se++){var Ee=ge[Se];if(X.lang===Ee.lang&&(Ee.id?X.id===Ee.id:X.index===Ee.index)){var Fe=S.getCurrentTrackFor(t.default.TEXT,ne);(Ee.id?Fe.id!==Ee.id:Fe.index!==Ee.index)?(Z[ne].deleteCuesFromTrackIdx(re),B[ne].setCurrentFragmentedTrackIdx(Se)):-1===re&&Y.trigger(c.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:ne,mediaType:t.default.TEXT})}}}(ne,J,re):J&&!J.isFragmented&&function fe(ne,X){Y.trigger(c.default.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:X},{streamId:ne,mediaType:t.default.TEXT})}(ne,J),S.setTrack(J)}}function we(ne){return Z[ne].getCurrentTrackIdx()}function $(){B={},Z={},b={},ae=!0,De=!1,ce=!1}return L={deactivateStream:function q(ne){if(ne){var X=ne.id;B[X]&&B[X].resetMediaInfos(),Z[X]&&Z[X].deleteAllTextTracks()}},initialize:function be(){Y.on(c.default.TEXT_TRACKS_QUEUE_INITIALIZED,pe,L),E.get().streaming.text.webvtt.customRenderingEnabled&&(Y.on(c.default.PLAYBACK_TIME_UPDATED,Ie,L),Y.on(c.default.PLAYBACK_SEEKING,Be,L))},initializeForStream:function Oe(ne){var X=ne.id,re=Object(m.default)(A).create({videoModel:I,settings:E,streamInfo:ne});re.initialize(),Z[X]=re;var J=Object(y.default)(A).create({errHandler:R,adapter:x,manifestModel:O,mediaController:S,videoModel:I,textTracks:re,vttParser:oe,vttCustomRenderingParser:le,ttmlParser:Re,streamInfo:ne,settings:E});J.initialize(),B[X]=J,b[X]={},b[X].lastEnabledIndex=-1},createTracks:function ie(ne){var X=ne.id;Z[X]&&Z[X].createTracks()},getTextSourceBuffer:function Ce(ne){var X=ne.id;if(B&&B[X])return B[X]},getAllTracksAreDisabled:function de(){return ae},addEmbeddedTrack:function Me(ne,X){var re=ne.id;B[re]&&B[re].addEmbeddedTrack(X)},enableText:function at(ne,X){Object(h.checkParameterType)(X,"boolean"),Xe()!==X&&(X&&Ne(ne,b[ne].lastEnabledIndex),X||(b[ne].lastEnabledIndex=we(ne),De?Ne(ne,-1):ce=!0))},isTextEnabled:Xe,setTextTrack:Ne,getCurrentTrackIdx:we,enableForcedTextStreaming:function je(ne){Object(h.checkParameterType)(ne,"boolean"),G=ne},addMediaInfosToBuffer:function ye(ne,X,re){var ge=ne.id;B[ge]&&B[ge].addMediaInfos(X,re,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},reset:function Q(){$(),Y.off(c.default.TEXT_TRACKS_QUEUE_INITIALIZED,pe,L),E.get().streaming.text.webvtt.customRenderingEnabled&&(Y.off(c.default.PLAYBACK_TIME_UPDATED,Ie,L),Y.off(c.default.PLAYBACK_SEEKING,Be,L)),Object.keys(B).forEach(function(ne){B[ne].resetEmbedded(),B[ne].reset()})}},function Te(){G=!1,De=!1,ce=!1,oe=Object(P.default)(A).getInstance(),le=Object(D.default)(A).getInstance(),Re=Object(f.default)(A).getInstance(),Y=Object(i.default)(A).getInstance(),$()}(),L}p.__dashjs_factory_name="TextController",g.default=v.default.getClassFactory(p)},"./src/streaming/text/TextSourceBuffer.js":
/*!************************************************!*\
                  !*** ./src/streaming/text/TextSourceBuffer.js ***!
                  \************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),y=e(
/*! ../vo/TextTrackInfo */
"./src/streaming/vo/TextTrackInfo.js"),m=e(
/*! ../utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),P=e(
/*! ../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js"),D=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),f=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),i=e(
/*! ./EmbeddedTextHtmlRender */
"./src/streaming/text/EmbeddedTextHtmlRender.js"),c=e(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),d=e.n(c),h=e(
/*! ../../../externals/cea608-parser */
"./externals/cea608-parser.js"),p=e.n(h),C=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),A=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),x=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),R=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js");function O(S){var ce,Te,be,Oe,ie,ye,Ce,de,Me,pe,Ie,Be,at,Xe,je,Ne,I=S.errHandler,E=S.manifestModel,L=S.mediaController,b=S.videoModel,B=S.textTracks,Z=S.vttParser,oe=S.vttCustomRenderingParser,le=S.ttmlParser,Re=S.streamInfo,Y=S.settings,ae=this.context,G=Object(C.default)(ae).getInstance(),De=!1;function q(){(function we(){ye=null,de=NaN,Me=[],pe=null,Ce=!1})(),ie=[],Oe=null}function ne(He){var Ze=new y.default;for(var lt in He)Ze[lt]=He[lt];Ze.labels=He.labels,Ze.defaultTrack=function un(He){var Ze=!1;return Be.length>1&&He.isEmbedded?Ze=He.id&&He.id===t.default.CC1:1===Be.length?He.id&&"string"==typeof He.id&&"CC"===He.id.substring(0,2)&&(Ze=!0):0===Be.length&&(Ze=He.index===ie[0].index),Ze}(He),Ze.isFragmented=He.isFragmented,Ze.isEmbedded=!!He.isEmbedded,Ze.isTTML=function qe(He){return He.codec&&He.codec.search(t.default.STPP)>=0||He.mimeType&&He.mimeType.search(t.default.TTML)>=0}(He),Ze.kind=function tt(He,Ze){var st=He.roles&&He.roles.length>0?Ze[He.roles[0]]:Ze.caption;return st===Ze.caption||st===Ze.subtitle?st:Ze.caption}(He,{subtitle:"subtitles",caption:"captions"}),B.addTextTrack(Ze)}function J(He){var Ze=He.chunk;Ze.mediaInfo.embeddedCaptions&&gt(Ze.bytes,Ze)}function ct(He){Ie=He}function gt(He,Ze){var st=Ze.mediaInfo,lt=st.type,bt=st.codec||st.mimeType;bt?-1!==st.codec.indexOf("application/mp4")?function Qe(He,Ze,st){var lt;if("InitializationSegment"===Ze.segmentType)Ce=!0,de=be.getMediaTimescaleFromMoov(He);else{if(!Ce)return;(lt=be.getSamplesInfo(He).sampleList).length>0&&(pe=lt[0].cts-Ze.start*de),st.search(t.default.STPP)>=0?function yt(He,Ze,st){var lt,St;for(Oe=null!==Oe?Oe:fn(st),lt=0;lt<Ze.length;lt++){var bt=Ze[lt],At=bt.cts,on=Xt(),En=on+At/de;ce.buffered.add(En,En+bt.duration/de);var Mn=new DataView(He,bt.offset,bt.subSizes[0]),wn=d.a.Utils.dataViewToString(Mn,t.default.UTF8),Nn=[],$n=bt.offset+bt.subSizes[0];for(St=1;St<bt.subSizes.length;St++){var ti=new Uint8Array(He,$n,bt.subSizes[St]),vn=String.fromCharCode.apply(null,ti);Nn.push(vn),$n+=bt.subSizes[St]}try{var pn=E.getValue(),mn=Oe.parse(wn,pn.ttmlTimeIsRelative?At/de:0,At/de,(At+bt.duration)/de,Nn);B.addCaptions(Ie,on,mn)}catch(_n){ye.removeExecutedRequestsBeforeTime(),this.remove(),Te.error("TTML parser error: "+_n.message)}}}(He,lt,st):function Et(He,Ze){var st,lt,St,bt=[];for(st=0;st<Ze.length;st++){var At=Ze[st];At.cts-=pe;var En=Xt()+At.cts/de;ce.buffered.add(En,En+At.duration/de);var Mn=He.slice(At.offset,At.offset+At.size),wn=d.a.parseBuffer(Mn);for(lt=0;lt<wn.boxes.length;lt++){var Nn=wn.boxes[lt];if(Te.debug("VTT box1: "+Nn.type),"vtte"!==Nn.type&&"vttc"===Nn.type)for(Te.debug("VTT vttc boxes.length = "+Nn.boxes.length),St=0;St<Nn.boxes.length;St++){var $n=Nn.boxes[St];if(Te.debug("VTT box2: "+$n.type),"payl"===$n.type){var ti=$n.cue_text;Te.debug("VTT cue_text = "+ti);var vn=At.cts/de,pn=(At.cts+At.duration)/de;bt.push({start:vn,end:pn,data:ti,styles:{}}),Te.debug("VTT "+vn+"-"+pn+" : "+ti)}}}}bt.length>0&&B.addCaptions(Ie,0,bt)}(He,lt)}}(He,Ze,bt):lt===t.default.VIDEO?function We(He,Ze){var st,lt;if(Ze.segmentType===v.HTTPRequest.INIT_SEGMENT_TYPE)0===at&&(at=be.getMediaTimescaleFromMoov(He));else if(Ze.segmentType===v.HTTPRequest.MEDIA_SEGMENT_TYPE){if(0===at)return void Te.warn("CEA-608: No timescale for embeddedTextTrack yet");var St=(lt=be.getSamplesInfo(He)).lastSequenceNumber;if(!je[0]&&!je[1]&&function Tt(){for(var He,Ze=0;Ze<Be.length;Ze++){if(-1===(He=B.getTrackIdxForId(Be[Ze].id)))return void Te.warn("CEA-608: data before track is ready.");var st=Kt(He);je[Ze]=new p.a.Cea608Parser(Ze+1,{newCue:st},null)}}(),at){if(null!==Xe&&St!==Xe+lt.numSequences)for(st=0;st<je.length;st++)je[st]&&je[st].reset();for(var bt=function Jt(He,Ze){if(0===Ze.length)return null;for(var st={splits:[],fields:[[],[]]},lt=new DataView(He),St=0;St<Ze.length;St++)for(var bt=Ze[St],At=p.a.findCea608Nalus(lt,bt.offset,bt.size),on=null,En=0,tn=0;tn<At.length;tn++)for(var Mn=p.a.extractCea608DataFromRange(lt,At[tn]),wn=0;wn<2;wn++)if(Mn[wn].length>0){bt.cts!==on?En=0:En+=1;var Nn=Xt();st.fields[wn].push([bt.cts+Nn*at,Mn[wn],En]),on=bt.cts}return st.fields.forEach(function(ti){ti.sort(function(vn,pn){return vn[0]===pn[0]?vn[2]-pn[2]:vn[0]-pn[0]})}),st}(He,lt.sampleList),At=0;At<je.length;At++){var on=bt.fields[At],En=je[At];if(En)for(st=0;st<on.length;st++)En.addData(on[st][0]/at,on[st][1])}Xe=St}}}(He,Ze):function me(He,Ze,st){var lt,St,bt=new DataView(He,0,He.byteLength);St=d.a.Utils.dataViewToString(bt,t.default.UTF8);try{lt=fn(st).parse(St,0),B.addCaptions(B.getCurrentTrackIdx(),0,lt),ce.buffered&&ce.buffered.add(Ze.start,Ze.end)}catch(At){I.error(new x.default(R.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,R.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+At.message,St))}}(He,Ze,bt):Te.error("No text type defined")}function Kt(He){return function Ze(st,lt,St){var bt;(bt=b.getTTMLRenderingDiv()?Ne.createHTMLCaptionsFromScreen(b.getElement(),st,lt,St):[{start:st,end:lt,data:St.getDisplayText(),styles:{}}])&&B.addCaptions(He,0,bt)}}function Xt(){return isNaN(ce.timestampOffset)?0:ce.timestampOffset}function fn(He){var Ze;return He.search(t.default.VTT)>=0?Ze=Y.get().streaming.text.webvtt.customRenderingEnabled&&oe?oe:Z:(He.search(t.default.TTML)>=0||He.search(t.default.STPP)>=0)&&(Ze=le),Ze}function vt(He){Be.forEach(function(Ze){var st=B.getTrackIdxForId(Ze.id);st>=0&&B.deleteCuesFromTrackIdx(st,He.from,He.to)})}return ce={initialize:function $(){De||function ge(){Be=[],Ie=null,at=0,je=[],Xe=null,De=!0,Ne=Object(i.default)(ae).getInstance(),G.on(A.default.VIDEO_CHUNK_RECEIVED,J,ce),G.on(A.default.BUFFER_CLEARED,vt,ce)}()},addMediaInfos:function Q(He,Ze,st){if(ie=ie.concat(Ze),He===t.default.TEXT&&Ze[0].isFragmented&&!Ze[0].isEmbedded){ye=st,ce.buffered=Object(P.default)(ae).create(),Me=L.getTracksFor(t.default.TEXT,Re.id).filter(function(At){return At.isFragmented});for(var lt=L.getCurrentTrackFor(t.default.TEXT,Re.id),St=0;St<Me.length;St++)if(Me[St]===lt){ct(St);break}}for(var bt=0;bt<Ze.length;bt++)ne(Ze[bt])},resetMediaInfos:function it(){ie=[]},getStreamId:function fe(){return Re.id},append:gt,abort:function X(){},addEmbeddedTrack:function Ee(He){if(De&&He)if(He.id===t.default.CC1||He.id===t.default.CC3){for(var Ze=0;Ze<Be.length;Ze++)if(Be[Ze].id===He.id)return;Be.push(He)}else Te.warn("Embedded track "+He.id+" not supported!")},resetEmbedded:function Se(){G.off(A.default.VIDEO_CHUNK_RECEIVED,J,ce),G.off(A.default.BUFFER_CLEARED,vt,ce),B&&B.deleteAllTextTracks(),De=!1,Be=[],je=[null,null],Xe=null},getConfig:function Fe(){return{fragmentModel:ye,fragmentedTracks:Me,videoModel:b}},setCurrentFragmentedTrackIdx:ct,remove:function It(He,Ze){void 0===He&&He===Ze&&(He=ce.buffered.start(0),Ze=ce.buffered.end(ce.buffered.length-1)),ce.buffered.remove(He,Ze),B.deleteCuesFromTrackIdx(Ie,He,Ze)},reset:function re(){q(),ie=[],be=null}},function ee(){Te=Object(f.default)(ae).getInstance().getLogger(ce),be=Object(m.default)(ae).getInstance(),q()}(),ce}O.__dashjs_factory_name="TextSourceBuffer",g.default=D.default.getClassFactory(O)},"./src/streaming/text/TextTracks.js":
/*!******************************************!*\
                  !*** ./src/streaming/text/TextTracks.js ***!
                  \******************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),y=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),m=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),P=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),D=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),f=e(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js");function c(C,A){var x=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!x){if(Array.isArray(C)||(x=function d(C,A){if(C){if("string"==typeof C)return h(C,A);var x=Object.prototype.toString.call(C).slice(8,-1);if("Object"===x&&C.constructor&&(x=C.constructor.name),"Map"===x||"Set"===x)return Array.from(C);if("Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return h(C,A)}}(C))||A&&C&&"number"==typeof C.length){x&&(C=x);var R=0,O=function(){};return{s:O,n:function(){return R>=C.length?{done:!0}:{done:!1,value:C[R++]}},e:function(b){throw b},f:O}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var E,S=!0,I=!1;return{s:function(){x=x.call(C)},n:function(){var b=x.next();return S=b.done,b},e:function(b){I=!0,E=b},f:function(){try{!S&&null!=x.return&&x.return()}finally{if(I)throw E}}}}function h(C,A){(null==A||A>C.length)&&(A=C.length);for(var x=0,R=new Array(A);x<A;x++)R[x]=C[x];return R}function p(C){var I,E,L,b,B,Z,oe,le,Re,Y,ae,G,De,ce,Te,be,Oe,ie,A=this.context,x=Object(v.default)(A).getInstance(),R=C.videoModel,O=C.streamInfo,S=C.settings;function Me(me){return R.addTextTrack(me.kind,void 0!==me.id?me.id:me.lang,me.lang,me.isTTML,me.isEmbedded)}function Be(me,We,Tt,Kt,Jt,Xt){var It=0,vt=0;me/We>Tt/Kt?It=(vt=We)/Kt*Tt:vt=(It=me)/Tt*Kt;var it,He,Ze=0,st=0;return It/vt>Jt?(st=vt,Ze=vt*Jt):(Ze=It,st=It/Jt),it=(me-Ze)/2,He=(We-st)/2,Xt?{x:it+.1*Ze,y:He+.1*st,w:.8*Ze,h:.8*st}:{x:it,y:He,w:Ze,h:st}}function at(me,We){var Tt=R.getClientWidth(),Kt=R.getClientHeight(),Jt=R.getVideoWidth(),Xt=R.getVideoHeight(),un=R.getVideoRelativeOffsetTop(),fn=R.getVideoRelativeOffsetLeft();if(0!==Jt&&0!==Xt){var It=Jt/Xt,vt=!1;me.isFromCEA608&&(It=3.5/3,vt=!0);var it=Be.call(this,Tt,Kt,Jt,Xt,It,vt),He=it.w,Ze=it.h,st=it.x,lt=it.y;if(He!=Re||Ze!=Y||st!=oe||lt!=le||We){if(oe=st+fn,le=lt+un,Re=He,Y=Ze,ae){var St=ae.style;St&&(St.left=oe+"px",St.top=le+"px",St.width=Re+"px",St.height=Y+"px",St.zIndex=ce&&document[ce]||Te?Oe:null,x.trigger(m.default.CAPTION_CONTAINER_RESIZE))}var bt=me.activeCues;if(bt)for(var At=bt.length,on=0;on<At;++on){var En=bt[on];En.scaleCue(En)}}}}function Xe(me){var Kt,Jt,Xt,un,fn;if(me.cellResolution){var It=[Re/me.cellResolution[0],Y/me.cellResolution[1]];if(me.linePadding)for(Kt in me.linePadding)if(me.linePadding.hasOwnProperty(Kt)){Jt=(me.linePadding[Kt]*It[0]).toString();for(var it=document.getElementsByClassName("spanPadding"),He=0;He<it.length;He++)it[He].style.cssText=it[He].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Jt),it[He].style.cssText=it[He].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Jt)}if(me.fontSize){for(Kt in me.fontSize)if(me.fontSize.hasOwnProperty(Kt)){"%"===me.fontSize[Kt][0]?Xt=me.fontSize[Kt][1]/100:"c"===me.fontSize[Kt][0]&&(Xt=me.fontSize[Kt][1]),Jt=(Xt*It[1]).toString(),fn="defaultFontSize"!==Kt?document.getElementsByClassName(Kt):document.getElementsByClassName("paragraph");for(var Ze=0;Ze<fn.length;Ze++)fn[Ze].style.cssText=fn[Ze].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Jt)}if(me.lineHeight)for(Kt in me.lineHeight)if(me.lineHeight.hasOwnProperty(Kt)){"%"===me.lineHeight[Kt][0]?un=me.lineHeight[Kt][1]/100:"c"===me.fontSize[Kt][0]&&(un=me.lineHeight[Kt][1]),Jt=(un*It[1]).toString(),fn=document.getElementsByClassName(Kt);for(var st=0;st<fn.length;st++)fn[st].style.cssText=fn[st].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Jt)}}}if(me.isd){var lt=document.getElementById(me.cueID);lt&&ae.removeChild(lt),je(me)}}function je(me){if(ae){var We=document.createElement("div");ae.appendChild(We),be=Object(f.renderHTML)(me.isd,We,function(Tt){var Kt=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,Jt=/^#(.*)$/;if(Kt.test(Tt)){var Xt=Kt.exec(Tt),un=parseInt(Xt[4],10)-1;return"data:image/png;base64,"+btoa(me.images[un])}if(Jt.test(Tt)){var vt=Jt.exec(Tt);return"data:image/png;base64,"+me.embeddedImages[vt[1]]}return null},ae.clientHeight,ae.clientWidth,!1,function(Tt){E.info("renderCaption :",Tt)},be,!0),We.id=me.cueID,x.trigger(m.default.CAPTION_RENDERED,{captionDiv:We,currentTrackIdx:Z})}}function Ne(me,We,Tt){var Kt=Q(me);if(Kt&&Array.isArray(Tt)&&0!==Tt.length)for(var Jt=0;Jt<Tt.length;Jt++){var Xt=void 0,un=Tt[Jt];Kt.cellResolution=un.cellResolution,Kt.isFromCEA608=un.isFromCEA608,!isNaN(un.start)&&!isNaN(un.end)&&(Xt="html"===un.type&&ae?ee(un,We,Kt):un.data?fe(un,We,Kt):null);try{Xt?ge(Kt,Xt)||(S.get().streaming.text.webvtt.customRenderingEnabled?(Kt.manualCueList||(Kt.manualCueList=[]),Kt.manualCueList.push(Xt)):Kt.addCue(Xt)):E.error("impossible to display subtitles.")}catch(fn){throw Ee(Kt),Kt.addCue(Xt),fn}}}function ee(me,We,Tt){var Kt=this,Jt=new L(me.start+We,me.end+We,"");return Jt.cueHTMLElement=me.cueHTMLElement,Jt.isd=me.isd,Jt.images=me.images,Jt.embeddedImages=me.embeddedImages,Jt.cueID=me.cueID,Jt.scaleCue=Xe.bind(Kt),Jt.cellResolution=me.cellResolution,Jt.lineHeight=me.lineHeight,Jt.linePadding=me.linePadding,Jt.fontSize=me.fontSize,ae.style.left=oe+"px",ae.style.top=le+"px",ae.style.width=Re+"px",ae.style.height=Y+"px",Jt.onenter=function(){Tt.mode===t.default.TEXT_SHOWING&&(this.isd?(je(this),E.debug("Cue enter id:"+this.cueID)):(ae.appendChild(this.cueHTMLElement),Xe.call(Kt,this),x.trigger(m.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:Z})))},Jt.onexit=function(){if(ae)for(var Xt=ae.childNodes,un=0;un<Xt.length;++un)Xt[un].id===this.cueID&&(E.debug("Cue exit id:"+Xt[un].id),ae.removeChild(Xt[un]),--un)},Jt}function fe(me,We,Tt){var Kt=new L(me.start-We,me.end-We,me.data);if(Kt.cueID="".concat(Kt.startTime,"_").concat(Kt.endTime),Kt.isActive=!1,me.styles)try{void 0!==me.styles.align&&"align"in Kt&&(Kt.align=me.styles.align),void 0!==me.styles.line&&"line"in Kt&&(Kt.line=me.styles.line),void 0!==me.styles.position&&"position"in Kt&&(Kt.position=me.styles.position),void 0!==me.styles.size&&"size"in Kt&&(Kt.size=me.styles.size)}catch(Jt){E.error(Jt)}return Kt.onenter=function(){Tt.mode===t.default.TEXT_SHOWING&&x.trigger(m.default.CAPTION_RENDERED,{currentTrackIdx:Z})},Kt}function $(){var Kt,We=[],Tt=c(R.getTextTracks());try{for(Tt.s();!(Kt=Tt.n()).done;){var Jt=Kt.value;Jt.manualMode===t.default.TEXT_SHOWING&&We.push(Jt)}}catch(Xt){Tt.e(Xt)}finally{Tt.f()}return We}function Q(me){return me>=0&&b[me]?R.getTextTrack(b[me].kind,b[me].id,b[me].lang,b[me].isTTML,b[me].isEmbedded):null}function re(me){var We=this;if(me!==Z){var Tt=Q(Z=me);J.call(this,Tt),De&&(clearInterval(De),De=null),Tt&&"html"===Tt.renderingType&&(at.call(this,Tt,!0),window.ResizeObserver?(ie=new window.ResizeObserver(function(){at.call(We,Tt,!0)})).observe(R.getElement()):De=setInterval(at.bind(this,Tt),500))}}function J(me){Qe.call(this),me&&"html"===me.renderingType?tt.call(this):gt.call(this)}function ge(me,We){if(!me.cues)return!1;for(var Tt=0;Tt<me.cues.length;Tt++)if(me.cues[Tt].startTime===We.startTime&&me.cues[Tt].endTime===We.endTime)return!0;return!1}function Se(me,We,Tt){var Kt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(isNaN(We)||(Kt?me.startTime:me.endTime)>=We)&&(isNaN(Tt)||(Kt?me.endTime:me.startTime)<=Tt)}function Ee(me,We,Tt){var Kt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(me.cues)for(var Jt=me.cues,un=Jt.length-1;un>=0;un--)Se(Jt[un],We,Tt,Kt)&&(Jt[un].onexit&&Jt[un].onexit(),me.removeCue(Jt[un]))}function tt(){var me=document.getElementById("native-cue-style");if(!me){(me=document.createElement("style")).id="native-cue-style",document.head.appendChild(me);var We=me.sheet,Tt=R.getElement();try{Tt&&We.insertRule(Tt.id?"#"+Tt.id+"::cue {background: transparent}":0!==Tt.classList.length?"."+Tt.className+"::cue {background: transparent}":"video::cue {background: transparent}",0)}catch(Kt){E.info(""+Kt.message)}}}function gt(){var me=document.getElementById("native-cue-style");me&&document.head.removeChild(me)}function Qe(){if(ae)for(;ae.firstChild;)ae.removeChild(ae.firstChild)}return I={initialize:function Ce(){typeof window>"u"||typeof navigator>"u"||(L=window.VTTCue||window.TextTrackCue,b=[],B=[],Z=-1,oe=0,le=0,Re=0,Y=0,ae=null,G=null,De=null,Te=!1,Oe=2147483647,be=null,void 0!==document.fullscreenElement?ce="fullscreenElement":void 0!==document.webkitIsFullScreen?ce="webkitIsFullScreen":document.msFullscreenElement?ce="msFullscreenElement":document.mozFullScreen&&(ce="mozFullScreen"))},getStreamId:function de(){return O.id},addTextTrack:function pe(me){b.push(me)},addCaptions:Ne,createTracks:function Ie(){b.sort(function(fn,It){return fn.index-It.index}),ae=R.getTTMLRenderingDiv(),G=R.getVttRenderingDiv();for(var me=-1,We=0;We<b.length;We++){var Tt=Me(b[We]);B.push(Tt),b[We].defaultTrack&&(Tt.default=!0,me=We);var Kt=Q(We);Kt&&(Kt.mode=t.default.TEXT_SHOWING,Kt.renderingType=ae&&(b[We].isTTML||b[We].isEmbedded)?"html":"default"),Ne(We,0,b[We].captionData),x.trigger(m.default.TEXT_TRACK_ADDED)}if(re.call(this,me),me>=0){x.on(m.default.PLAYBACK_METADATA_LOADED,function fn(){var It=Q(me);It&&"html"===It.renderingType&&at.call(this,It,!0),x.off(m.default.PLAYBACK_METADATA_LOADED,fn,this)},this);for(var Xt=0;Xt<b.length;Xt++){var un=Q(Xt);un&&(un.mode=Xt===me?t.default.TEXT_SHOWING:t.default.TEXT_HIDDEN,un.manualMode=Xt===me?t.default.TEXT_SHOWING:t.default.TEXT_HIDDEN)}}x.trigger(y.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:Z,tracks:b,streamId:O.id})},getCurrentTrackIdx:function ne(){return Z},setCurrentTrackIdx:re,getTrackIdxForId:function X(me){for(var We=-1,Tt=0;Tt<b.length;Tt++)if(b[Tt].id===me){We=Tt;break}return We},getCurrentTrackInfo:function Et(){return b[Z]},setModeForTrackIdx:function yt(me,We){var Tt=Q(me);Tt&&Tt.mode!==We&&(Tt.mode=We),Tt&&Tt.manualMode!==We&&(Tt.manualMode=We)},deleteCuesFromTrackIdx:function Fe(me,We,Tt){var Kt=Q(me);Kt&&Ee(Kt,We,Tt)},deleteAllTextTracks:function ct(){for(var me=B?B.length:0,We=0;We<me;We++){var Tt=Q(We);Tt&&Ee.call(this,Tt,O.start,O.start+O.duration,!1)}B=[],b=[],De&&(clearInterval(De),De=null),ie&&R&&(ie.unobserve(R.getElement()),ie=null),Z=-1,Qe.call(this)},deleteTextTrack:function qe(me){R.removeChild(B[me]),B.splice(me,1)},manualCueProcessing:function we(me){var We=$();if(We&&We.length>0){var Kt=We[0].manualCueList;Kt&&Kt.length>0&&Kt.forEach(function(Jt){if(Jt.startTime<=me&&Jt.endTime>=me&&!Jt.isActive)Jt.isActive=!0,WebVTT.processCues(window,[Jt],G,Jt.cueID);else if(Jt.isActive&&(Jt.startTime>me||Jt.endTime<me)&&(Jt.isActive=!1,G))for(var Xt=G.childNodes,un=0;un<Xt.length;++un)Xt[un].id===Jt.cueID&&(G.removeChild(Xt[un]),--un)})}},disableManualTracks:function q(){var me=$();if(me&&me.length>0){var Tt=me[0].manualCueList;Tt&&Tt.length>0&&Tt.forEach(function(Kt){if(Kt.isActive&&(Kt.isActive=!1,G))for(var Jt=G.childNodes,Xt=0;Xt<Jt.length;++Xt)Jt[Xt].id===Kt.cueID&&(G.removeChild(Jt[Xt]),--Xt)})}}},function ye(){E=Object(D.default)(A).getInstance().getLogger(I)}(),I}p.__dashjs_factory_name="TextTracks",g.default=P.default.getClassFactory(p)},"./src/streaming/thumbnail/ThumbnailController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailController.js ***!
                  \********************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=e(
/*! ../vo/Thumbnail */
"./src/streaming/vo/Thumbnail.js"),m=e(
/*! ./ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),P=e(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),D=e(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function f(i){var h,p,c=this.context,d=i.streamInfo;function S(b){p.setTrackByIndex(b)}function L(){p&&p.reset()}return h={getStreamId:function x(){return d.id},initialize:function A(){p.addTracks();var b=p.getTracks();b&&b.length>0&&S(0)},provide:function R(b,B){if("function"==typeof B){var le,Z=p.getCurrentTrack();if(!Z||Z.segmentDuration<=0||null==b)return void B(null);(le=p.getThumbnailRequestForTime(b))&&(Z.segmentDuration=le.duration);var Re=Math.floor(b%Z.segmentDuration*Z.tilesHor*Z.tilesVert/Z.segmentDuration),Y=new y.default;if(Y.width=Math.floor(Z.widthPerTile),Y.height=Math.floor(Z.heightPerTile),Y.x=Math.floor(Re%Z.tilesHor)*Z.widthPerTile,Y.y=Math.floor(Re/Z.tilesHor)*Z.heightPerTile,"readThumbnail"in Z)return Z.readThumbnail(b,function(G){Y.url=G,B(Y)});if(le)Y.url=le.url,Z.segmentDuration=NaN;else{var ae=Math.floor(b/Z.segmentDuration);Y.url=function O(b,B){var Z=B+b.startNumber,oe=Object(D.replaceTokenForTemplate)(b.templateUrl,"Number",Z);return oe=Object(D.replaceTokenForTemplate)(oe,"Time",(Z-1)*b.segmentDuration*b.timescale),oe=Object(D.replaceTokenForTemplate)(oe,"Bandwidth",b.bandwidth),Object(D.unescapeDollarsInTemplate)(oe)}(Z,ae)}B(Y)}},setTrackByIndex:S,getCurrentTrackIndex:function I(){return p.getCurrentTrackIndex()},getBitrateList:function E(){var b=p.getTracks(),B=0;return b.map(function(Z){var oe=new P.default;return oe.mediaType=v.default.IMAGE,oe.qualityIndex=B++,oe.bitrate=Z.bitrate,oe.width=Z.width,oe.height=Z.height,oe})},reset:L},function C(){L(),p=Object(m.default)(c).create({streamInfo:d,adapter:i.adapter,baseURLController:i.baseURLController,timelineConverter:i.timelineConverter,debug:i.debug,eventBus:i.eventBus,events:i.events,dashConstants:i.dashConstants,dashMetrics:i.dashMetrics,segmentBaseController:i.segmentBaseController})}(),h}f.__dashjs_factory_name="ThumbnailController",g.default=t.default.getClassFactory(f)},"./src/streaming/thumbnail/ThumbnailTracks.js":
/*!****************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailTracks.js ***!
                  \****************************************************/
/*! exports provided: THUMBNAILS_SCHEME_ID_URIS, default */function(Je,g,e){"use strict";e.r(g),e.d(g,"THUMBNAILS_SCHEME_ID_URIS",function(){return h});var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=e(
/*! ../vo/ThumbnailTrackInfo */
"./src/streaming/vo/ThumbnailTrackInfo.js"),P=e(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),D=e(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),f=e(
/*! ../../streaming/utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),i=e(
/*! ../../streaming/net/XHRLoader */
"./src/streaming/net/XHRLoader.js"),c=e(
/*! ../../dash/DashHandler */
"./src/dash/DashHandler.js"),d=e(
/*! ../../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),h=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function p(C){var Z,oe,le,Re,Y,ae,G,De,A=this.context,x=C.adapter,R=C.baseURLController,O=C.streamInfo,S=C.timelineConverter,I=C.debug,E=C.eventBus,L=C.events,b=C.dashConstants,B=Object(P.default)(A).getInstance();function be(at,Xe){var je=new m.default;je.id=at.id,je.bitrate=at.bandwidth,je.width=at.width,je.height=at.height,je.tilesHor=1,je.tilesVert=1,at.essentialProperties&&at.essentialProperties.forEach(function(Ne){if(h.indexOf(Ne.schemeIdUri)>=0&&Ne.value){var ee=Ne.value.split("x");2===ee.length&&!isNaN(ee[0])&&!isNaN(ee[1])&&(je.tilesHor=parseInt(ee[0],10),je.tilesVert=parseInt(ee[1],10))}}),Xe?ae.updateSegmentData(at).then(function(Ne){!function Oe(at,Xe,je){var Ne=[],ee=function ie(at,Xe){var ee,fe,we,q,je=[],Ne=0;for(ee=0,fe=at.segments.length;ee<fe;ee++)we=at.segments[ee],(q=Object(D.getTimeBasedSegment)(S,x.getIsDynamic(),Xe,we.startTime,we.duration,we.timescale,we.media,we.mediaRange,Ne))&&(je.push(q),q=null,Ne++);return je}(je,Xe);Xe.segments=ee,at.segmentDuration=Xe.segments[0].duration,at.readThumbnail=function(fe,we){var q=null;Ne.some(function($){if($.start<=fe&&$.end>fe)return q=$.url,!0}),q?we(q):Xe.segments.some(function($){if($.mediaStartTime<=fe&&$.mediaStartTime+$.duration>fe){var Q=R.resolve(Xe.path);return G.load({method:"get",url:Q.url,request:{range:$.mediaRange,responseType:"arraybuffer"},onload:function(X){var re=De.getSamplesInfo(X.target.response),J=new Blob([X.target.response.slice(re.sampleList[0].offset,re.sampleList[0].offset+re.sampleList[0].size)],{type:"image/jpeg"}),ge=window.URL.createObjectURL(J);Ne.push({start:$.mediaStartTime,end:$.mediaStartTime+$.duration,url:ge}),we&&we(ge)}}),!0}})}}(je,at,Ne)}):(je.startNumber=at.startNumber,je.segmentDuration=at.segmentDuration,je.timescale=at.timescale,je.templateUrl=function ye(at){var Xe=B.isRelative(at.media)?B.resolve(at.media,R.resolve(at.path).url):at.media;return Xe?Object(D.replaceIDForTemplate)(Xe,at.id):""}(at)),je.tilesHor>0&&je.tilesVert>0&&(je.widthPerTile=je.width/je.tilesHor,je.heightPerTile=je.height/je.tilesVert,oe.push(je))}function Be(){oe=[],Re=-1,Y=null}return Z={getTracks:function Ce(){return oe},addTracks:function Te(){if(O&&x&&(Y=x.getMediaInfoForType(O,t.default.IMAGE))){var at=x.getVoRepresentations(Y);at&&at.length>0&&at.forEach(function(Xe){(Xe.segmentInfoType===v.default.SEGMENT_TEMPLATE&&Xe.segmentDuration>0&&Xe.media||Xe.segmentInfoType===v.default.SEGMENT_TIMELINE)&&be(Xe),Xe.segmentInfoType===v.default.SEGMENT_BASE&&be(Xe,!0)}),oe.length>0&&oe.sort(function(Xe,je){return Xe.bitrate-je.bitrate})}},reset:Be,setTrackByIndex:function pe(at){!oe||0===oe.length||(at>=oe.length&&(at=oe.length-1),Re=at)},getCurrentTrack:function Me(){return Re<0?null:oe[Re]},getCurrentTrackIndex:function de(){return Re},getThumbnailRequestForTime:function Ie(at){for(var Xe,je=x.getVoRepresentations(Y),Ne=0;Ne<je.length;Ne++)if(oe[Re].id===je[Ne].id){Xe=je[Ne];break}return le.getSegmentRequestForTime(Y,Xe,at)}},function ce(){Be(),G=Object(i.default)(A).create({}),De=Object(f.default)(A).getInstance(),ae=Object(d.default)(A).create({events:L,eventBus:E,streamInfo:O,timelineConverter:S,dashConstants:b,dashMetrics:C.dashMetrics,segmentBaseController:C.segmentBaseController,type:t.default.IMAGE}),(le=Object(c.default)(A).create({streamInfo:O,type:t.default.IMAGE,timelineConverter:S,segmentsController:ae,baseURLController:R,debug:I,eventBus:E,events:L,dashConstants:b,urlUtils:B})).initialize(!!x&&x.getIsDynamic())}(),Z}p.__dashjs_factory_name="ThumbnailTracks",g.default=y.default.getClassFactory(p)},"./src/streaming/utils/BaseURLSelector.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/BaseURLSelector.js ***!
                  \************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),v=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),y=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),m=e(
/*! ../controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),P=e(
/*! ./baseUrlResolution/DVBSelector */
"./src/streaming/utils/baseUrlResolution/DVBSelector.js"),D=e(
/*! ./baseUrlResolution/BasicSelector */
"./src/streaming/utils/baseUrlResolution/BasicSelector.js"),f=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),i=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),c=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),d=e(
/*! ./baseUrlResolution/ContentSteeringSelector */
"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js"),h=e(
/*! ../../core/Settings */
"./src/core/Settings.js");function p(){var R,O,S,I,E,L,C=this.context,A=Object(v.default)(C).getInstance(),x=Object(h.default)(C).getInstance();function le(){O.reset()}return R={chooseSelector:function Z(Re){Object(c.checkParameterType)(Re,"boolean"),L=Re?I:S},select:function oe(Re){if(Re){if(x.get().streaming.applyContentSteering){var Y=E.selectBaseUrlIndex(Re);!isNaN(Y)&&-1!==Y&&(Re.selectedIdx=Y)}if(!isNaN(Re.selectedIdx))return Re.baseUrls[Re.selectedIdx];var ae=L.select(Re.baseUrls);return ae?(Re.selectedIdx=Re.baseUrls.indexOf(ae),ae):(A.trigger(y.default.URL_RESOLUTION_FAILED,{error:new i.default(t.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,t.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(L===S&&le()))}},reset:le,setConfig:function B(Re){Re.selector&&(L=Re.selector),Re.contentSteeringSelector&&(E=Re.contentSteeringSelector)}},function b(){O=Object(m.default)(C).create({updateEventName:y.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:y.default.SERVICE_LOCATION_BLACKLIST_ADD}),S=Object(D.default)(C).create({blacklistController:O}),I=Object(P.default)(C).create({blacklistController:O}),(E=Object(d.default)(C).create()).setConfig({blacklistController:O}),L=S}(),R}p.__dashjs_factory_name="BaseURLSelector",g.default=f.default.getClassFactory(p)},"./src/streaming/utils/BoxParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/BoxParser.js ***!
                  \******************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),v=e(
/*! ./IsoFile */
"./src/streaming/utils/IsoFile.js"),y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=e(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),P=e.n(m),D=e(
/*! ../vo/IsoBoxSearchInfo */
"./src/streaming/vo/IsoBoxSearchInfo.js");function f(){var i,c,d=this.context;function p(E){if(!E)return null;void 0===E.fileStart&&(E.fileStart=0);var L=P.a.parseBuffer(E),b=Object(v.default)(d).create();return b.setData(L),b}function R(E,L){return E[L+3]>>>0|E[L+2]<<8>>>0|E[L+1]<<16>>>0|E[L]<<24>>>0}function O(E,L){return String.fromCharCode(E[L++])+String.fromCharCode(E[L++])+String.fromCharCode(E[L++])+String.fromCharCode(E[L])}return c={parse:p,findLastTopIsoBoxCompleted:function C(E,L,b){if(void 0===b&&(b=0),!L||b+8>=L.byteLength)return new D.default(0,!1);for(var Z,B=L instanceof ArrayBuffer?new Uint8Array(L):L,oe=0;b<B.byteLength;){var le=R(B,b),Re=O(B,b+4);if(0===le)break;b+le<=B.byteLength&&(E.indexOf(Re)>=0?Z=new D.default(b,!0,le):oe=b+le),b+=le}return Z||new D.default(oe,!1)},getMediaTimescaleFromMoov:function x(E){var L=p(E),b=L?L.getBox("mdhd"):void 0;return b?b.timescale:NaN},getSamplesInfo:function A(E){if(!E||0===E.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var Z,le,Re,Y,ae,G,De,ce,Te,be,Oe,ie,ye,Ce,de,Me,L=p(E),b=L.getBoxes("moof"),B=L.getBoxes("mfhd");de=L.getBoxes("moof").length,Ce=B[B.length-1].sequence_number,le=0,ae=[];var pe=-1,Ie=-1;for(be=0;be<b.length;be++){var Be=b[be],at=Be.getChildBoxes("traf");for(ce=0;ce<at.length;ce++){var Xe=at[ce],je=Xe.getChildBox("tfhd"),Ne=Xe.getChildBox("tfdt");Y=Ne.baseMediaDecodeTime;var ee=Xe.getChildBoxes("trun"),fe=Xe.getChildBoxes("subs");for(Te=0;Te<ee.length;Te++){var we=ee[Te];for(le=we.sample_count,ye=(je.base_data_offset||0)+(we.data_offset||0),De=0;De<le;De++){var q={dts:Y,cts:Y+(void 0!==(G=we.samples[De]).sample_composition_time_offset?G.sample_composition_time_offset:0),duration:Z=void 0!==G.sample_duration?G.sample_duration:je.default_sample_duration,offset:Be.offset+ye,size:Re=void 0!==G.sample_size?G.sample_size:je.default_sample_size,subSizes:[Re]};if(fe)for(Oe=0;Oe<fe.length;Oe++){var $=fe[Oe];if(pe<$.entry_count-1&&De>Ie&&(pe++,Ie+=$.entries[pe].sample_delta),De==Ie){q.subSizes=[];var Q=$.entries[pe];for(ie=0;ie<Q.subsample_count;ie++)q.subSizes.push(Q.subsamples[ie].subsample_size)}}ae.push(q),ye+=Re,Y+=Z}}Me=Y-Ne.baseMediaDecodeTime}}return{sampleList:ae,lastSequenceNumber:Ce,totalDuration:Me,numSequences:de}},findInitRange:function S(E){var L=null,Z=p(E);if(!Z)return L;var oe=Z.getBox("ftyp"),le=Z.getBox("moov");return i.debug("Searching for initialization."),le&&le.isComplete&&i.debug("Found the initialization.  Range: "+(L=(oe?oe.offset:le.offset)+"-"+(le.offset+le.size-1))),L},parsePayload:function I(E,L,b){if(void 0===b&&(b=0),!L||b+8>=L.byteLength)return new D.default(0,!1);for(var Z,B=L instanceof ArrayBuffer?new Uint8Array(L):L,oe=0;b<B.byteLength;){var le=R(B,b),Re=O(B,b+4);if(0===le)break;b+le<=B.byteLength&&(E.indexOf(Re)>=0?Z=new D.default(b,!0,le,Re):oe=b+le),b+=le}return Z||new D.default(oe,!1)}},function h(){i=Object(t.default)(d).getInstance().getLogger(c)}(),c}f.__dashjs_factory_name="BoxParser",g.default=y.default.getSingletonFactory(f)},"./src/streaming/utils/Capabilities.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/Capabilities.js ***!
                  \*********************************************/
/*! exports provided: supportsMediaSource, default */function(Je,g,e){"use strict";e.r(g),e.d(g,"supportsMediaSource",function(){return P});var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),y=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),m=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function P(){var f="WebKitMediaSource"in window,i="MediaSource"in window;return f||i}function D(){var f,i,c;return f={setConfig:function h(E){E&&E.settings&&(i=E.settings)},supportsMediaSource:P,supportsEncryptedMedia:function p(){return c},supportsCodec:function A(E,L){return L!==y.default.AUDIO&&L!==y.default.VIDEO?Promise.resolve(!0):function x(E,L){return i.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(E.codec&&L===y.default.AUDIO||L===y.default.VIDEO&&E.codec&&E.width&&E.height&&E.bitrate&&E.framerate)}(E,L)?function O(E,L){return new Promise(function(b){if(E&&E.codec){var B={type:"media-source"};B[L]={},B[L].contentType=E.codec,B[L].width=E.width,B[L].height=E.height,B[L].bitrate=parseInt(E.bitrate),B[L].framerate=parseFloat(E.framerate),navigator.mediaCapabilities.decodingInfo(B).then(function(Z){b(Z.supported)}).catch(function(){b(!1)})}else b(!1)})}(E,L):function R(E){return new Promise(function(L){if(E&&E.codec){var b=E.codec;E.width&&E.height&&(b+=';width="'+E.width+'";height="'+E.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(b)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(b)?L(!0):L(!1)}else L(!1)})}(E)},setEncryptedMediaSupported:function C(E){c=E},supportsEssentialProperty:function S(E){try{return-1!==v.THUMBNAILS_SCHEME_ID_URIS.indexOf(E.schemeIdUri)}catch{return!0}},codecRootCompatibleWithCodec:function I(E,L){for(var Z,b=E.split(".")[0],B=0===L.indexOf(b),oe=0;oe<m.length;oe++)if(m[oe].codec===b){Z=m[oe];break}return Z?B||Z.compatibleCodecs.some(function(le){return 0===L.indexOf(le)}):B}},function d(){c=!1}(),f}D.__dashjs_factory_name="Capabilities",g.default=t.default.getSingletonFactory(D)},"./src/streaming/utils/CapabilitiesFilter.js":
/*!***************************************************!*\
                  !*** ./src/streaming/utils/CapabilitiesFilter.js ***!
                  \***************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),y=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),m=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),P=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function D(){var c,d,h,p,C,A,f=this.context,i=Object(m.default)(f).getInstance();function S(le,Re){if(!Re||!Re.Period_asArray||0===Re.Period_asArray.length)return Promise.resolve();var Y=[];return Re.Period_asArray.forEach(function(ae){Y.push(function I(le,Re){return new Promise(function(Y){if(le&&le.AdaptationSet_asArray&&0!==le.AdaptationSet_asArray.length){var ae=[];le.AdaptationSet_asArray.forEach(function(G){d.getIsTypeOf(G,Re)&&ae.push(function E(le,Re){return new Promise(function(Y){if(le.Representation_asArray&&0!==le.Representation_asArray.length){var ae=[],G=[];le.Representation_asArray.forEach(function(De,ce){var Te=d.getCodec(le,ce,!1),be=function L(le,Re,Y){switch(le){case y.default.VIDEO:return function b(le,Re){return{codec:Re,width:le.width||null,height:le.height||null,framerate:le.frameRate||null,bitrate:le.bandwidth||null}}(Re,Y);case y.default.AUDIO:return function B(le,Re){return{codec:Re,bitrate:le.bandwidth||null,samplerate:le.audioSamplingRate||null}}(Re,Y);default:return null}}(Re,De,Te);G.push(be),ae.push(h.supportsCodec(be,Re))}),Promise.all(ae).then(function(De){le.Representation_asArray=le.Representation_asArray.filter(function(ce,Te){return De[Te]||A.debug("[Stream] Codec ".concat(G[Te].codec," not supported ")),De[Te]}),Y()}).catch(function(){Y()})}else Y()})}(G,Re))}),Promise.all(ae).then(function(){le.AdaptationSet_asArray=le.AdaptationSet_asArray.filter(function(G){var De=G.Representation_asArray&&G.Representation_asArray.length>0;return De||(i.trigger(P.default.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:G}),A.warn("AdaptationSet has been removed because of no supported Representation")),De}),Y()}).catch(function(){Y()})}else Y()})}(ae,le))}),Promise.all(Y)}return c={setConfig:function R(le){le&&(le.adapter&&(d=le.adapter),le.capabilities&&(h=le.capabilities),le.settings&&(p=le.settings),le.customParametersModel&&(C=le.customParametersModel))},filterUnsupportedFeatures:function O(le){return new Promise(function(Re){var Y=[];Y.push(S(y.default.VIDEO,le)),Y.push(S(y.default.AUDIO,le)),Promise.all(Y).then(function(){p.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function Z(le){!le||!le.Period_asArray||0===le.Period_asArray.length||le.Period_asArray.forEach(function(Re){Re.AdaptationSet_asArray=Re.AdaptationSet_asArray.filter(function(Y){return!Y.Representation_asArray||0===Y.Representation_asArray.length||(Y.Representation_asArray=Y.Representation_asArray.filter(function(ae){var G=d.getEssentialPropertiesForRepresentation(ae);if(G&&G.length>0)for(var De=0;De<G.length;){if(!h.supportsEssentialProperty(G[De]))return A.debug("[Stream] EssentialProperty not supported: "+G[De].schemeIdUri),!1;De+=1}return!0}),Y.Representation_asArray&&Y.Representation_asArray.length>0)})})}(le),function oe(le){var Re=C.getCustomCapabilitiesFilters();!Re||0===Re.length||!le||!le.Period_asArray||0===le.Period_asArray.length||le.Period_asArray.forEach(function(Y){Y.AdaptationSet_asArray=Y.AdaptationSet_asArray.filter(function(ae){return!ae.Representation_asArray||0===ae.Representation_asArray.length||(ae.Representation_asArray=ae.Representation_asArray.filter(function(G){return!Re.some(function(De){return!De(G)})}),ae.Representation_asArray&&ae.Representation_asArray.length>0)})})}(le),Re()}).catch(function(){Re()})})}},function x(){A=Object(v.default)(f).getInstance().getLogger(c)}(),c}D.__dashjs_factory_name="CapabilitiesFilter",g.default=t.default.getSingletonFactory(D)},"./src/streaming/utils/CustomTimeRanges.js":
/*!*************************************************!*\
                  !*** ./src/streaming/utils/CustomTimeRanges.js ***!
                  \*************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function y(){return{customTimeRangeArray:[],length:0,add:function D(p,C){var A=0;for(A=0;A<this.customTimeRangeArray.length&&p>this.customTimeRangeArray[A].start;A++);for(this.customTimeRangeArray.splice(A,0,{start:p,end:C}),A=0;A<this.customTimeRangeArray.length-1;A++)this.mergeRanges(A,A+1)&&A--;this.length=this.customTimeRangeArray.length},clear:function f(){this.customTimeRangeArray=[],this.length=0},remove:function i(p,C){for(var A=0;A<this.customTimeRangeArray.length;A++)if(p<=this.customTimeRangeArray[A].start&&C>=this.customTimeRangeArray[A].end)this.customTimeRangeArray.splice(A,1),A--;else{if(p>this.customTimeRangeArray[A].start&&C<this.customTimeRangeArray[A].end){this.customTimeRangeArray.splice(A+1,0,{start:C,end:this.customTimeRangeArray[A].end}),this.customTimeRangeArray[A].end=p;break}p>this.customTimeRangeArray[A].start&&p<this.customTimeRangeArray[A].end?this.customTimeRangeArray[A].end=p:C>this.customTimeRangeArray[A].start&&C<this.customTimeRangeArray[A].end&&(this.customTimeRangeArray[A].start=C)}this.length=this.customTimeRangeArray.length},mergeRanges:function c(p,C){var A=this.customTimeRangeArray[p],x=this.customTimeRangeArray[C];return A.start<=x.start&&x.start<=A.end&&A.end<=x.end?(A.end=x.end,this.customTimeRangeArray.splice(C,1),!0):x.start<=A.start&&A.start<=x.end&&x.end<=A.end?(A.start=x.start,this.customTimeRangeArray.splice(C,1),!0):x.start<=A.start&&A.start<=x.end&&A.end<=x.end?(this.customTimeRangeArray.splice(p,1),!0):A.start<=x.start&&x.start<=A.end&&x.end<=A.end&&(this.customTimeRangeArray.splice(C,1),!0)},start:function d(p){return Object(v.checkInteger)(p),p>=this.customTimeRangeArray.length||p<0?NaN:this.customTimeRangeArray[p].start},end:function h(p){return Object(v.checkInteger)(p),p>=this.customTimeRangeArray.length||p<0?NaN:this.customTimeRangeArray[p].end}}}y.__dashjs_factory_name="CustomTimeRanges",g.default=t.default.getClassFactory(y)},"./src/streaming/utils/DOMStorage.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/DOMStorage.js ***!
                  \*******************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),y=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),m=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],P="dashjs_?_bitrate",D="dashjs_?_settings",f="localStorage",c="lastBitrate",d="lastMediaSettings";function h(C){var R,O,S,A=this.context,x=(C=C||{}).settings;function E(ae){if(void 0!==S)return S;S=!1;var ce;try{typeof window<"u"&&(ce=window[ae])}catch(Te){return O.warn("DOMStorage access denied: "+Te.message),S}if(!ce||ae!==f&&"sessionStorage"!==ae)return S;try{ce.setItem("1","1"),ce.removeItem("1"),S=!0}catch(Te){O.warn("DOMStorage is supported, but cannot be used: "+Te.message)}return S}function b(){return 6e5*Math.round((new Date).getTime()/6e5)}function B(ae,G){return E(ae)&&x.get().streaming[G+"CachingInfo"].enabled}function Z(){if(!x)throw new Error(y.default.MISSING_CONFIG_ERROR)}return R={getSavedBitrateSettings:function le(ae){if(Z(),!x.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var G=NaN;if(B(f,c)){var De=P.replace(/\?/,ae);try{var ce=JSON.parse(localStorage.getItem(De))||{},Te=(new Date).getTime()-parseInt(ce.timestamp,10)>=x.get().streaming.lastBitrateCachingInfo.ttl||!1,be=parseFloat(ce.bitrate);isNaN(be)||Te?Te&&localStorage.removeItem(De):(G=be,O.debug("Last saved bitrate for "+ae+" was "+be))}catch{return null}}return G},setSavedBitrateSettings:function Y(ae,G){if(B(f,c)&&G){var De=P.replace(/\?/,ae);try{localStorage.setItem(De,JSON.stringify({bitrate:G.toFixed(3),timestamp:b()}))}catch(ce){O.error(ce.message)}}},getSavedMediaSettings:function oe(ae){if(Z(),!x.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var G=null;if(B(f,d)){var De=D.replace(/\?/,ae);try{var ce=JSON.parse(localStorage.getItem(De))||{},Te=(new Date).getTime()-parseInt(ce.timestamp,10)>=x.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;G=ce.settings,Te&&(localStorage.removeItem(De),G=null)}catch{return null}}return G},setSavedMediaSettings:function Re(ae,G){if(B(f,d)){var De=D.replace(/\?/,ae);try{localStorage.setItem(De,JSON.stringify({settings:G,timestamp:b()}))}catch(ce){O.error(ce.message)}}}},function I(){O=Object(v.default)(A).getInstance().getLogger(R),function L(){E(f)&&m.forEach(function(ae){var G=localStorage.getItem(ae.oldKey);if(G){localStorage.removeItem(ae.oldKey);try{localStorage.setItem(ae.newKey,G)}catch(De){O.error(De.message)}}})}()}(),R}h.__dashjs_factory_name="DOMStorage";var p=t.default.getSingletonFactory(h);g.default=p},"./src/streaming/utils/DefaultURLUtils.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/DefaultURLUtils.js ***!
                  \************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(){var y,m=/^[a-z][a-z0-9+\-_.]*:/i,P=/^https?:\/\//i,D=/^https:\/\//i,f=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,i=function(B,Z){try{return new window.URL(B,Z).toString()}catch{return B}},c=function(B,Z){var oe=h;if(!Z||!x(B))return B;R(B)&&(oe=p),O(B)&&(oe=A);var le=oe(Z),Re="/"!==le.charAt(le.length-1)&&"/"!==B.charAt(0)?"/":"";return[le,B].join(Re)};function h(b){var B=b.indexOf("/"),Z=b.lastIndexOf("/");return-1!==B?Z===B+1?b:(-1!==b.indexOf("?")&&(b=b.substring(0,b.indexOf("?"))),b.substring(0,Z+1)):""}function p(b){var B=b.match(f);return B?B[1]:""}function A(b){var B=b.match(m);return B?B[0]:""}function x(b){return!m.test(b)}function R(b){return x(b)&&"/"===b.charAt(0)}function O(b){return 0===b.indexOf("//")}return function d(){try{new window.URL("x","http://y"),y=i}catch{}finally{y=y||c}}(),{parseBaseUrl:h,parseOrigin:p,parseScheme:A,isRelative:x,isPathAbsolute:R,isSchemeRelative:O,isHTTPURL:function S(b){return P.test(b)},isHTTPS:function I(b){return D.test(b)},removeHostname:function C(b){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(b)[2].substring(1)},resolve:function E(b,B){return y(b,B)}}}v.__dashjs_factory_name="DefaultURLUtils",g.default=t.default.getSingletonFactory(v)},"./src/streaming/utils/EBMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/EBMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(y){y=y||{};var m,P=new DataView(y.data),D=0;function c(O,S){var I=!0,E=0;if(void 0===S&&(S=!1),O.tag>16777215?(P.getUint32(D)!==O.tag&&(I=!1),E=4):O.tag>65535?(256*P.getUint16(D)+P.getUint8(D+2)!==O.tag&&(I=!1),E=3):O.tag>255?(P.getUint16(D)!==O.tag&&(I=!1),E=2):(P.getUint8(D)!==O.tag&&(I=!1),E=1),!I&&O.required&&!S)throw new Error("required tag not found");return I&&(D+=E),I}function C(O){var S=1,I=128,L=-1,b=0,B=P.getUint8(D),Z=0;for(Z=0;Z<8;Z+=1){if((B&I)===I){b=void 0===O?B&~I:B,L=Z;break}I>>=1}for(Z=0;Z<L;Z+=1,S+=1)b=b<<8|255&P.getUint8(D+S);return D+=S,b}return m={getPos:function f(){return D},setPos:function i(O){D=O},consumeTag:c,consumeTagAndSize:function d(O,S){var I=c(O,S);return I&&C(),I},parseTag:function h(O){var S;return c(O),S=C(),m[O.parse](S)},skipOverElement:function p(O,S){var E,I=c(O,S);return I&&(E=C(),D+=E),I},getMatroskaCodedNum:C,getMatroskaFloat:function A(O){var S;switch(O){case 4:S=P.getFloat32(D),D+=4;break;case 8:S=P.getFloat64(D),D+=8}return S},getMatroskaUint:function x(O){for(var S=0,I=0;I<O;I+=1)S<<=8,S|=255&P.getUint8(D+I);return D+=O,S},moreData:function R(){return D<P.byteLength}}}v.__dashjs_factory_name="EBMLParser",g.default=t.default.getClassFactory(v)},"./src/streaming/utils/ErrorHandler.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/ErrorHandler.js ***!
                  \*********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),v=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),y=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function m(){var D=this.context,f=Object(t.default)(D).getInstance();return{error:function i(c){f.trigger(v.default.ERROR,{error:c})}}}m.__dashjs_factory_name="ErrorHandler",g.default=y.default.getSingletonFactory(m)},"./src/streaming/utils/InitCache.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/InitCache.js ***!
                  \******************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(){var y={};return{save:function m(i){var c=i.streamId,d=i.representationId;y[c]=y[c]||{},y[c][d]=i},extract:function P(i,c){return y&&y[i]&&y[i][c]?y[i][c]:null},reset:function D(){y={}}}}v.__dashjs_factory_name="InitCache",g.default=t.default.getSingletonFactory(v)},"./src/streaming/utils/IsoFile.js":
/*!****************************************!*\
                  !*** ./src/streaming/utils/IsoFile.js ***!
                  \****************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../vo/IsoBox */
"./src/streaming/vo/IsoBox.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(){var P;function f(h){var p=[];if(!h||!P||"function"!=typeof P.fetchAll)return p;for(var A,C=P.fetchAll(h),x=0,R=C.length;x<R;x++)(A=d(C[x]))&&p.push(A);return p}function d(h){if(!h)return null;var p=new t.default(h);return h.hasOwnProperty("_incomplete")&&(p.isComplete=!h._incomplete),p}return{getBox:function D(h){return h&&P&&P.boxes&&0!==P.boxes.length&&"function"==typeof P.fetch?d(P.fetch(h)):null},getBoxes:f,setData:function i(h){P=h},getLastBox:function c(){if(!P||!P.boxes||!P.boxes.length)return null;var p=f(P.boxes[P.boxes.length-1].type);return p.length>0?p[p.length-1]:null}}}y.__dashjs_factory_name="IsoFile",g.default=v.default.getClassFactory(y)},"./src/streaming/utils/ObjectUtils.js":
/*!********************************************!*\
                  !*** ./src/streaming/utils/ObjectUtils.js ***!
                  \********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! fast-deep-equal */
"./node_modules/fast-deep-equal/index.js"),y=e.n(v);function m(){return{areEqual:function D(f,i){return y()(f,i)}}}m.__dashjs_factory_name="ObjectUtils",g.default=t.default.getSingletonFactory(m)},"./src/streaming/utils/RequestModifier.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/RequestModifier.js ***!
                  \************************************************/
/*! exports provided: modifyRequest, default */function(Je,g,e){"use strict";e.r(g),e.d(g,"modifyRequest",function(){return v});var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(m,P){var D={url:m.url,method:m.method,headers:Object.assign({},m.headers),credentials:m.withCredentials?"include":void 0};return Promise.resolve(P.modifyRequest(D)).then(function(){return Object.assign(m,D,{withCredentials:"include"===D.credentials})})}function y(){return{modifyRequest:null,modifyRequestURL:function P(f){return f},modifyRequestHeader:function D(f,i){return f}}}y.__dashjs_factory_name="RequestModifier",g.default=t.default.getSingletonFactory(y)},"./src/streaming/utils/SupervisorTools.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/SupervisorTools.js ***!
                  \************************************************/
/*! exports provided: checkParameterType, checkInteger, checkRange, checkIsVideoOrAudioType */function(Je,g,e){"use strict";e.r(g),e.d(g,"checkParameterType",function(){return y}),e.d(g,"checkInteger",function(){return m}),e.d(g,"checkRange",function(){return P}),e.d(g,"checkIsVideoOrAudioType",function(){return D});var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function v(f){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(f)}function y(f,i){if(v(f)!==i)throw t.default.BAD_ARGUMENT_ERROR}function m(f){if(null===f||isNaN(f)||f%1!=0)throw t.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"}function P(f,i,c){if(f<i||f>c)throw t.default.BAD_ARGUMENT_ERROR+" : argument out of range"}function D(f){if("string"!=typeof f||f!==t.default.AUDIO&&f!==t.default.VIDEO)throw t.default.BAD_ARGUMENT_ERROR}},"./src/streaming/utils/TTMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/TTMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),y=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),m=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),P=e(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js"),f=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),i=e(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function c(){var p,C,d=this.context,h=Object(y.default)(d).getInstance(),A=0;function R(){var S="cue_TTML_"+A;return A++,S}return p={parse:function O(S,I,E,L,b){var oe,le,Re,B="",Z=[],Y={},ae={},G="",De="",ce={onOpenTag:function(ye,Ce,de){if(de[" imagetype"]&&!de[" imageType"]&&(h.trigger(f.default.CONFORMANCE_VIOLATION,{level:i.default.LEVELS.ERROR,event:i.default.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),de[" imageType"]=de[" imagetype"]),"image"===Ce&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===ye||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===ye)){if(!de[" imageType"]||"PNG"!==de[" imageType"].value)return void C.warn("smpte-tt imageType != PNG. Discarded");G=de["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){G&&(ae[G]=De.trim()),De="",G=""},onText:function(ye){G&&(De+=ye)}};if(!S)throw B="no ttml data to parse",new Error(B);Y.data=S,h.trigger(m.default.TTML_TO_PARSE,Y);var Te=Object(P.fromXML)(Y.data,function(ie){B=ie},ce);h.trigger(m.default.TTML_PARSED,{ttmlString:Y.data,ttmlDoc:Te});var be=Te.getMediaTimeEvents();for(Re=0;Re<be.length;Re++){var Oe=Object(P.generateISD)(Te,be[Re],function(ie){B=ie});Oe.contents.some(function(ie){return ie.contents.length})&&(oe=be[Re]+I<E?E:be[Re]+I)<(le=be[Re+1]+I>L?L:be[Re+1]+I)&&Z.push({start:oe,end:le,type:"html",cueID:R(),isd:Oe,images:b,embeddedImages:ae})}if(""!==B)throw C.error(B),new Error(B);return Z}},function x(){C=Object(v.default)(d).getInstance().getLogger(p)}(),p}c.__dashjs_factory_name="TTMLParser",g.default=t.default.getSingletonFactory(c)},"./src/streaming/utils/URLUtils.js":
/*!*****************************************!*\
                  !*** ./src/streaming/utils/URLUtils.js ***!
                  \*****************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ./DefaultURLUtils */
"./src/streaming/utils/DefaultURLUtils.js");function y(){var D,f=[],i=this.context;function p(B,Z,oe){var le=function c(B){var Z;for(Z=0;Z<f.length;Z++)if(f[Z].regex.test(B))return f[Z].utils;return D}(oe||Z);return le&&"function"==typeof le[B]?le[B](Z,oe):D[B](Z,oe)}return function d(){D=Object(v.default)(i).getInstance()}(),{registerUrlRegex:function h(B,Z){f.push({regex:B,utils:Z})},parseBaseUrl:function C(B){return p("parseBaseUrl",B)},parseOrigin:function A(B){return p("parseOrigin",B)},parseScheme:function R(B){return p("parseScheme",B)},isRelative:function O(B){return p("isRelative",B)},isPathAbsolute:function S(B){return p("isPathAbsolute",B)},isSchemeRelative:function I(B){return p("isSchemeRelative",B)},isHTTPURL:function E(B){return p("isHTTPURL",B)},isHTTPS:function L(B){return p("isHTTPS",B)},removeHostname:function x(B){return p("removeHostname",B)},resolve:function b(B,Z){return p("resolve",B,Z)}}}y.__dashjs_factory_name="URLUtils";var m=t.default.getSingletonFactory(y);g.default=m},"./src/streaming/utils/VTTParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/VTTParser.js ***!
                  \******************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js");function m(){var D,f,i,c,d,h,P=this.context;function A(S){var I=S.split(":"),E=I.length-1;return S=60*parseInt(I[E-1],10)+parseFloat(I[E]),2===E&&(S+=3600*parseInt(I[0],10)),S}function x(S){var I=S.split(c),E=I[1].split(h);return E.shift(),I[1]=E[0],E.shift(),{cuePoints:I,styles:R(E)}}function R(S){var I={};return S.forEach(function(E){if(E.split(/:/).length>1){var L=E.split(/:/)[1];L&&-1!=L.search(/%/)&&(L=parseInt(L.replace(/%/,""),10)),(E.match(/align/)||E.match(/A/))&&(I.align=L),(E.match(/line/)||E.match(/L/))&&(I.line=L),(E.match(/position/)||E.match(/P/))&&(I.position=L),(E.match(/size/)||E.match(/S/))&&(I.size=L)}}),I}function O(S,I){for(var B,E=I,L="",b="";""!==S[E]&&E<S.length;)E++;if((B=E-I)>1)for(var Z=0;Z<B;Z++){if((b=S[I+Z]).match(c)){L="";break}L+=b,Z!==B-1&&(L+="\n")}else(b=S[I]).match(c)||(L=b);return L}return D={parse:function C(S){var E,L,I=[];if(!S)return I;E=(S=S.split(i)).length,L=-1;for(var b=0;b<E;b++){var B=S[b];if(B.length>0&&"WEBVTT"!==B&&B.match(c)){var Z=x(B),oe=Z.cuePoints,le=Z.styles,Re=O(S,b+1),Y=A(oe[0].replace(d,"")),ae=A(oe[1].replace(d,""));!isNaN(Y)&&!isNaN(ae)&&Y>=L&&ae>Y?""!==Re?(L=Y,I.push({start:Y,end:ae,data:Re,styles:le})):f.error("Skipping cue due to empty/malformed cue text"):f.error("Skipping cue due to incorrect cue timing")}}return I}},function p(){f=Object(v.default)(P).getInstance().getLogger(D),i=/(?:\r\n|\r|\n)/gm,c=/-->/,d=/(^[\s]+|[\s]+$)/g,h=/\s\b/g}(),D}m.__dashjs_factory_name="VTTParser",g.default=t.default.getSingletonFactory(m)},"./src/streaming/utils/VttCustomRenderingParser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/utils/VttCustomRenderingParser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(){var y,m;return y={parse:function D(f){var i=[];return m.oncue=function(c){c.start=c.startTime,c.end=c.endTime,c.data=c.text,c.styles={align:c.align,line:c.line,position:c.position,size:c.size},i.push(c)},m.parse(f),i}},function P(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(m=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),y}v.__dashjs_factory_name="VttCustomRenderingParser",g.default=t.default.getSingletonFactory(v)},"./src/streaming/utils/baseUrlResolution/BasicSelector.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/BasicSelector.js ***!
                  \****************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(y){var P=(y=y||{}).blacklistController;return{select:function D(f){var c,i=0;return f&&f.some(function(d,h){return i=h,!P.contains(d.serviceLocation)})&&(c=f[i]),c}}}v.__dashjs_factory_name="BasicSelector",g.default=t.default.getClassFactory(v)},"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js");function y(){var P,D,f,m=this.context;function h(){for(var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],A=0,x=NaN,R=function(){var I=p[A],E=C.findIndex(function(L){return L.serviceLocation&&L.serviceLocation===I});if(-1!==E&&!f.contains(C[E].serviceLocation))return x=E,"break";A+=1};A<p.length&&"break"!==R(););return x}return P={selectBaseUrlIndex:function d(p){var C=NaN;if(isNaN(p.selectedIdx)){var A=D.getSteeringDataFromManifest();A&&A.defaultServiceLocation&&(C=h([A.defaultServiceLocation],p.baseUrls))}var x=D.getCurrentSteeringResponseData();return p.baseUrls&&p.baseUrls.length&&x&&x.serviceLocationPriority&&x.serviceLocationPriority.length&&(C=h(x.serviceLocationPriority,p.baseUrls)),C},setConfig:function c(p){p.blacklistController&&(f=p.blacklistController),p.contentSteeringController&&(D=p.contentSteeringController)}},function i(){D=Object(v.default)(m).getInstance()}(),P}y.__dashjs_factory_name="ContentSteeringSelector",g.default=t.default.getClassFactory(y)},"./src/streaming/utils/baseUrlResolution/DVBSelector.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/DVBSelector.js ***!
                  \**************************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(y){var P=(y=y||{}).blacklistController;return{select:function i(c){return c&&function f(c){var x,R,p=0,C=[],A=0;if((R=c.sort(function(S,I){var E=S.dvb_priority-I.dvb_priority;return isNaN(E)?0:E}).filter(function(S,I,E){return!I||E[0].dvb_priority&&S.dvb_priority&&E[0].dvb_priority===S.dvb_priority})).length)return R.length>1&&(R.forEach(function(O){C.push(p+=O.dvb_weight)}),x=Math.floor(Math.random()*(p-1)),C.every(function(O,S){return A=S,!(x<O)})),R[A]}(function D(c){var d=[];return c.filter(function(A){return!P.contains(A.serviceLocation)||(A.dvb_priority&&d.push(A.dvb_priority),!1)}).filter(function(A){return!(d.length&&A.dvb_priority&&-1!==d.indexOf(A.dvb_priority))})}(c))}}}v.__dashjs_factory_name="DVBSelector",g.default=t.default.getClassFactory(v)},"./src/streaming/vo/BitrateInfo.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/BitrateInfo.js ***!
                  \*****************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN})},"./src/streaming/vo/DashJSError.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/DashJSError.js ***!
                  \*****************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(c,d,h){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.code=c||null,this.message=d||null,this.data=h||null})},"./src/streaming/vo/DataChunk.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/DataChunk.js ***!
                  \***************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null})},"./src/streaming/vo/FragmentRequest.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/FragmentRequest.js ***!
                  \*********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function m(c,d){for(var h=0;h<d.length;h++){var p=d[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,D(p.key),p)}}function D(c){var d=function f(c,d){if("object"!==v(c)||null===c)return c;var h=c[Symbol.toPrimitive];if(void 0!==h){var p=h.call(c,d||"default");if("object"!==v(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===v(d)?d:String(d)}var i=function(){function c(d){(function y(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.action=c.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=d||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}return function P(c,d,h){return d&&m(c.prototype,d),h&&m(c,h),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"isInitializationRequest",value:function(){return this.type&&this.type===t.HTTPRequest.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(h){this.type=h&&h.init?t.HTTPRequest.INIT_SEGMENT_TYPE:t.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=h&&h.url?h.url:null,this.range=h&&h.range?h.range.start+"-"+h.range.end:null,this.mediaType=h&&h.mediaType?h.mediaType:null}}]),c}();i.ACTION_DOWNLOAD="download",i.ACTION_COMPLETE="complete",g.default=i},"./src/streaming/vo/HeadRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/HeadRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function v(R){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(R)}function y(R,O){for(var S=0;S<O.length;S++){var I=O[S];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(R,P(I.key),I)}}function P(R){var O=function D(R,O){if("object"!==v(R)||null===R)return R;var S=R[Symbol.toPrimitive];if(void 0!==S){var I=S.call(R,O||"default");if("object"!==v(I))return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(R)}(R,"string");return"symbol"===v(O)?O:String(O)}function i(R,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(O&&O.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),O&&c(R,O)}function c(R,O){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,E){return I.__proto__=E,I})(R,O)}function d(R){var O=function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var E,I=A(R);if(O){var L=A(this).constructor;E=Reflect.construct(I,arguments,L)}else E=I.apply(this,arguments);return function h(R,O){if(O&&("object"===v(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return function p(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,E)}}function A(R){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)})(R)}g.default=function(R){i(S,R);var O=d(S);function S(I){var E;return function f(R,O){if(!(R instanceof O))throw new TypeError("Cannot call a class as a function")}(this,S),(E=O.call(this,I)).checkForExistenceOnly=!0,E}return function m(R,O,S){return O&&y(R.prototype,O),S&&y(R,S),Object.defineProperty(R,"prototype",{writable:!1}),R}(S)}(t.default)},"./src/streaming/vo/IsoBox.js":
/*!************************************!*\
                  !*** ./src/streaming/vo/IsoBox.js ***!
                  \************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function y(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,P(h.key),h)}}function P(i){var c=function D(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=function(){function i(c){if(function v(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")}(this,i),this.offset=c._offset,this.type=c.type,this.size=c.size,this.boxes=[],c.boxes)for(var d=0;d<c.boxes.length;d++)this.boxes.push(new i(c.boxes[d]));switch(this.isComplete=!0,c.type){case"sidx":if(this.timescale=c.timescale,this.earliest_presentation_time=c.earliest_presentation_time,this.first_offset=c.first_offset,this.references=c.references,c.references){this.references=[];for(var h=0;h<c.references.length;h++)this.references.push({reference_type:c.references[h].reference_type,referenced_size:c.references[h].referenced_size,subsegment_duration:c.references[h].subsegment_duration})}break;case"emsg":this.id=c.id,this.version=1===c.version?1:0,this.value=c.value,this.timescale=c.timescale,this.scheme_id_uri=c.scheme_id_uri,this.presentation_time_delta=1===c.version?c.presentation_time:c.presentation_time_delta,this.event_duration=c.event_duration,this.message_data=c.message_data;break;case"mdhd":this.timescale=c.timescale;break;case"mfhd":this.sequence_number=c.sequence_number;break;case"subs":this.entry_count=c.entry_count,this.entries=c.entries;break;case"tfhd":this.base_data_offset=c.base_data_offset,this.sample_description_index=c.sample_description_index,this.default_sample_duration=c.default_sample_duration,this.default_sample_size=c.default_sample_size,this.default_sample_flags=c.default_sample_flags,this.flags=c.flags;break;case"tfdt":this.version=c.version,this.baseMediaDecodeTime=c.baseMediaDecodeTime,this.flags=c.flags;break;case"trun":if(this.sample_count=c.sample_count,this.first_sample_flags=c.first_sample_flags,this.data_offset=c.data_offset,this.flags=c.flags,this.samples=c.samples,c.samples){this.samples=[];for(var C=0,A=c.samples.length;C<A;C++)this.samples.push({sample_size:c.samples[C].sample_size,sample_duration:c.samples[C].sample_duration,sample_composition_time_offset:c.samples[C].sample_composition_time_offset})}}}return function m(i,c,d){return c&&y(i.prototype,c),d&&y(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"getChildBox",value:function(d){for(var h=0;h<this.boxes.length;h++)if(this.boxes[h].type===d)return this.boxes[h]}},{key:"getChildBoxes",value:function(d){for(var h=[],p=0;p<this.boxes.length;p++)this.boxes[p].type===d&&h.push(this.boxes[p]);return h}}]),i}()},"./src/streaming/vo/IsoBoxSearchInfo.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/IsoBoxSearchInfo.js ***!
                  \**********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(c,d,h){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.lastCompletedOffset=c,this.found=d,this.size=h})},"./src/streaming/vo/MetricsList.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/MetricsList.js ***!
                  \*****************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]})},"./src/streaming/vo/TextRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/TextRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function y(O){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(O)}function m(O,S){for(var I=0;I<S.length;I++){var E=S[I];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(O,D(E.key),E)}}function D(O){var S=function f(O,S){if("object"!==y(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var E=I.call(O,S||"default");if("object"!==y(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)(O)}(O,"string");return"symbol"===y(S)?S:String(S)}function c(O,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),S&&d(O,S)}function d(O,S){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,L){return E.__proto__=L,E})(O,S)}function h(O){var S=function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,E=x(O);if(S){var b=x(this).constructor;L=Reflect.construct(E,arguments,b)}else L=E.apply(this,arguments);return function p(O,S){if(S&&("object"===y(S)||"function"==typeof S))return S;if(void 0!==S)throw new TypeError("Derived constructors may only return object or undefined");return function C(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function x(O){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}g.default=function(O){c(I,O);var S=h(I);function I(E,L){var b;return function i(O,S){if(!(O instanceof S))throw new TypeError("Cannot call a class as a function")}(this,I),(b=S.call(this)).url=E||null,b.type=L||null,b.mediaType=t.default.STREAM,b.responseType="",b}return function P(O,S,I){return S&&m(O.prototype,S),I&&m(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(v.default)},"./src/streaming/vo/TextTrackInfo.js":
/*!*******************************************!*\
                  !*** ./src/streaming/vo/TextTrackInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ./../../dash/vo/MediaInfo */
"./src/dash/vo/MediaInfo.js");function v(R){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(R)}function y(R,O){for(var S=0;S<O.length;S++){var I=O[S];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(R,P(I.key),I)}}function P(R){var O=function D(R,O){if("object"!==v(R)||null===R)return R;var S=R[Symbol.toPrimitive];if(void 0!==S){var I=S.call(R,O||"default");if("object"!==v(I))return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(R)}(R,"string");return"symbol"===v(O)?O:String(O)}function i(R,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(O&&O.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),O&&c(R,O)}function c(R,O){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,E){return I.__proto__=E,I})(R,O)}function d(R){var O=function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var E,I=A(R);if(O){var L=A(this).constructor;E=Reflect.construct(I,arguments,L)}else E=I.apply(this,arguments);return function h(R,O){if(O&&("object"===v(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return function p(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,E)}}function A(R){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)})(R)}g.default=function(R){i(S,R);var O=d(S);function S(){var I;return function f(R,O){if(!(R instanceof O))throw new TypeError("Cannot call a class as a function")}(this,S),(I=O.call(this)).captionData=null,I.label=null,I.defaultTrack=!1,I.kind=null,I.isFragmented=!1,I.isEmbedded=!1,I.isTTML=null,I}return function m(R,O,S){return O&&y(R.prototype,O),S&&y(R,S),Object.defineProperty(R,"prototype",{writable:!1}),R}(S)}(t.default)},"./src/streaming/vo/Thumbnail.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/Thumbnail.js ***!
                  \***************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null})},"./src/streaming/vo/ThumbnailTrackInfo.js":
/*!************************************************!*\
                  !*** ./src/streaming/vo/ThumbnailTrackInfo.js ***!
                  \************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""})},"./src/streaming/vo/URIFragmentData.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/URIFragmentData.js ***!
                  \*********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null})},"./src/streaming/vo/metrics/BufferLevel.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferLevel.js ***!
                  \*************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.t=null,this.level=null})},"./src/streaming/vo/metrics/BufferState.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferState.js ***!
                  \*************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";e.r(g);var t=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function y(c,d){for(var h=0;h<d.length;h++){var p=d[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,P(p.key),p)}}function m(c,d,h){return d&&y(c.prototype,d),h&&y(c,h),Object.defineProperty(c,"prototype",{writable:!1}),c}function P(c){var d=function D(c,d){if("object"!==v(c)||null===c)return c;var h=c[Symbol.toPrimitive];if(void 0!==h){var p=h.call(c,d||"default");if("object"!==v(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===v(d)?d:String(d)}g.default=m(function c(){(function f(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.target=null,this.state=t.default.BUFFER_EMPTY})},"./src/streaming/vo/metrics/DVRInfo.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/metrics/DVRInfo.js ***!
                  \*********************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.time=null,this.range=null,this.manifestInfo=null})},"./src/streaming/vo/metrics/DroppedFrames.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/DroppedFrames.js ***!
                  \***************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.time=null,this.droppedFrames=null})},"./src/streaming/vo/metrics/HTTPRequest.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/HTTPRequest.js ***!
                  \*************************************************/
/*! exports provided: HTTPRequest, HTTPRequestTrace */function(Je,g,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function v(c,d){for(var h=0;h<d.length;h++){var p=d[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,m(p.key),p)}}function y(c,d,h){return d&&v(c.prototype,d),h&&v(c,h),Object.defineProperty(c,"prototype",{writable:!1}),c}function m(c){var d=function P(c,d){if("object"!==t(c)||null===c)return c;var h=c[Symbol.toPrimitive];if(void 0!==h){var p=h.call(c,d||"default");if("object"!==t(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}function D(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}e.r(g),e.d(g,"HTTPRequest",function(){return f}),e.d(g,"HTTPRequestTrace",function(){return i});var f=y(function c(){D(this,c),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null}),i=y(function c(){D(this,c),this.s=null,this.d=null,this.b=[]});f.GET="GET",f.HEAD="HEAD",f.MPD_TYPE="MPD",f.XLINK_EXPANSION_TYPE="XLinkExpansion",f.INIT_SEGMENT_TYPE="InitializationSegment",f.INDEX_SEGMENT_TYPE="IndexSegment",f.MEDIA_SEGMENT_TYPE="MediaSegment",f.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",f.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",f.DVB_REPORTING_TYPE="DVBReporting",f.LICENSE="license",f.CONTENT_STEERING_TYPE="ContentSteering",f.OTHER_TYPE="other"},"./src/streaming/vo/metrics/ManifestUpdate.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/ManifestUpdate.js ***!
                  \****************************************************/
/*! exports provided: ManifestUpdate, ManifestUpdateStreamInfo, ManifestUpdateRepresentationInfo */function(Je,g,e){"use strict";function t(d){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(d)}function v(d,h){for(var p=0;p<h.length;p++){var C=h[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(d,m(C.key),C)}}function y(d,h,p){return h&&v(d.prototype,h),p&&v(d,p),Object.defineProperty(d,"prototype",{writable:!1}),d}function m(d){var h=function P(d,h){if("object"!==t(d)||null===d)return d;var p=d[Symbol.toPrimitive];if(void 0!==p){var C=p.call(d,h||"default");if("object"!==t(C))return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(d)}(d,"string");return"symbol"===t(h)?h:String(h)}function D(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}e.r(g),e.d(g,"ManifestUpdate",function(){return f}),e.d(g,"ManifestUpdateStreamInfo",function(){return i}),e.d(g,"ManifestUpdateRepresentationInfo",function(){return c});var f=y(function d(){D(this,d),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]}),i=y(function d(){D(this,d),this.id=null,this.index=null,this.start=null,this.duration=null}),c=y(function d(){D(this,d),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null})},"./src/streaming/vo/metrics/PlayList.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/metrics/PlayList.js ***!
                  \**********************************************/
/*! exports provided: PlayList, PlayListTrace */function(Je,g,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function v(c,d){for(var h=0;h<d.length;h++){var p=d[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,m(p.key),p)}}function y(c,d,h){return d&&v(c.prototype,d),h&&v(c,h),Object.defineProperty(c,"prototype",{writable:!1}),c}function m(c){var d=function P(c,d){if("object"!==t(c)||null===c)return c;var h=c[Symbol.toPrimitive];if(void 0!==h){var p=h.call(c,d||"default");if("object"!==t(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}function D(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}e.r(g),e.d(g,"PlayList",function(){return f}),e.d(g,"PlayListTrace",function(){return i});var f=y(function c(){D(this,c),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]});f.INITIAL_PLAYOUT_START_REASON="initial_playout",f.SEEK_START_REASON="seek",f.RESUME_FROM_PAUSE_START_REASON="resume",f.METRICS_COLLECTION_START_REASON="metrics_collection_start";var i=y(function c(){D(this,c),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null});i.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",i.REBUFFERING_REASON="rebuffering",i.USER_REQUEST_STOP_REASON="user_request",i.END_OF_PERIOD_STOP_REASON="end_of_period",i.END_OF_CONTENT_STOP_REASON="end_of_content",i.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",i.FAILURE_STOP_REASON="failure"},"./src/streaming/vo/metrics/RepresentationSwitch.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/vo/metrics/RepresentationSwitch.js ***!
                  \**********************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.t=null,this.mt=null,this.to=null,this.lto=null})},"./src/streaming/vo/metrics/RequestsQueue.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/RequestsQueue.js ***!
                  \***************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.loadingRequests=[],this.executedRequests=[]})},"./src/streaming/vo/metrics/SchedulingInfo.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/SchedulingInfo.js ***!
                  \****************************************************/
/*! exports provided: default */function(Je,g,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,m(h.key),h)}}function y(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function m(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var h=d.call(i,c||"default");if("object"!==t(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(g),g.default=y(function i(){(function D(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null})},0:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(Je,g){},1:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(Je,g){}}).default},4440:(Wn,Je,g)=>{var e;!function(){"use strict";var t="object"==typeof window?window:{},v=!t.HI_BASE64_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;v&&(t=global);var p,C,y=!t.HI_BASE64_NO_COMMON_JS&&Wn.exports,m=g.amdO,P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),D={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63,"-":62,_:63},i=function(S){var I,E,L,b,B=[],Z=0,oe=S.length;"="===S.charAt(oe-2)?oe-=2:"="===S.charAt(oe-1)&&(oe-=1);for(var le=0,Re=oe>>2<<2;le<Re;)I=D[S.charAt(le++)],E=D[S.charAt(le++)],L=D[S.charAt(le++)],b=D[S.charAt(le++)],B[Z++]=255&(I<<2|E>>>4),B[Z++]=255&(E<<4|L>>>2),B[Z++]=255&(L<<6|b);var Y=oe-Re;return 2===Y?(I=D[S.charAt(le++)],E=D[S.charAt(le++)],B[Z++]=255&(I<<2|E>>>4)):3===Y&&(I=D[S.charAt(le++)],E=D[S.charAt(le++)],L=D[S.charAt(le++)],B[Z++]=255&(I<<2|E>>>4),B[Z++]=255&(E<<4|L>>>2)),B},c=function(S){for(var I,E,L,b="",B=S.length,Z=0,oe=3*parseInt(B/3);Z<oe;)I=S[Z++],E=S[Z++],L=S[Z++],b+=P[I>>>2]+P[63&(I<<4|E>>>4)]+P[63&(E<<2|L>>>6)]+P[63&L];var le=B-oe;return 1===le?b+=P[(I=S[Z])>>>2]+P[I<<4&63]+"==":2===le&&(I=S[Z++],b+=P[I>>>2]+P[63&(I<<4|(E=S[Z])>>>4)]+P[E<<2&63]+"="),b},d=t.btoa,h=t.atob;if(v){var A=g(9007).lW;d=function(S){return new A(S,"ascii").toString("base64")},c=p=function(S){return new A(S).toString("base64")},h=function(S){return new A(S,"base64").toString("ascii")},C=function(S){return new A(S,"base64").toString()}}else d?(p=function(S){for(var I="",E=0;E<S.length;E++){var L=S.charCodeAt(E);L<128?I+=String.fromCharCode(L):L<2048?I+=String.fromCharCode(192|L>>6)+String.fromCharCode(128|63&L):L<55296||L>=57344?I+=String.fromCharCode(224|L>>12)+String.fromCharCode(128|L>>6&63)+String.fromCharCode(128|63&L):(L=65536+((1023&L)<<10|1023&S.charCodeAt(++E)),I+=String.fromCharCode(240|L>>18)+String.fromCharCode(128|L>>12&63)+String.fromCharCode(128|L>>6&63)+String.fromCharCode(128|63&L))}return d(I)},C=function(S){var I=h(S.trim("=").replace(/-/g,"+").replace(/_/g,"/"));if(!/[^\x00-\x7F]/.test(I))return I;for(var Z,oe,E="",L=0,b=I.length,B=0;L<b;)if((Z=I.charCodeAt(L++))<=127)E+=String.fromCharCode(Z);else{if(Z>191&&Z<=223)oe=31&Z,B=1;else if(Z<=239)oe=15&Z,B=2;else{if(!(Z<=247))throw"not a UTF-8 string";oe=7&Z,B=3}for(var le=0;le<B;++le){if((Z=I.charCodeAt(L++))<128||Z>191)throw"not a UTF-8 string";oe<<=6,oe+=63&Z}if(oe>=55296&&oe<=57343||oe>1114111)throw"not a UTF-8 string";oe<=65535?E+=String.fromCharCode(oe):(oe-=65536,E+=String.fromCharCode(55296+(oe>>10)),E+=String.fromCharCode(56320+(1023&oe)))}return E}):(d=function(S){for(var I,E,L,b="",B=S.length,Z=0,oe=3*parseInt(B/3);Z<oe;)I=S.charCodeAt(Z++),E=S.charCodeAt(Z++),L=S.charCodeAt(Z++),b+=P[I>>>2]+P[63&(I<<4|E>>>4)]+P[63&(E<<2|L>>>6)]+P[63&L];var le=B-oe;return 1===le?(I=S.charCodeAt(Z),b+=P[I>>>2]+P[I<<4&63]+"=="):2===le&&(I=S.charCodeAt(Z++),E=S.charCodeAt(Z),b+=P[I>>>2]+P[63&(I<<4|E>>>4)]+P[E<<2&63]+"="),b},p=function(S){for(var I,E,L,b="",B=function(S){for(var I=[],E=0;E<S.length;E++){var L=S.charCodeAt(E);L<128?I[I.length]=L:L<2048?(I[I.length]=192|L>>6,I[I.length]=128|63&L):L<55296||L>=57344?(I[I.length]=224|L>>12,I[I.length]=128|L>>6&63,I[I.length]=128|63&L):(L=65536+((1023&L)<<10|1023&S.charCodeAt(++E)),I[I.length]=240|L>>18,I[I.length]=128|L>>12&63,I[I.length]=128|L>>6&63,I[I.length]=128|63&L)}return I}(S),Z=B.length,oe=0,le=3*parseInt(Z/3);oe<le;)I=B[oe++],E=B[oe++],L=B[oe++],b+=P[I>>>2]+P[63&(I<<4|E>>>4)]+P[63&(E<<2|L>>>6)]+P[63&L];var Re=Z-le;return 1===Re?b+=P[(I=B[oe])>>>2]+P[I<<4&63]+"==":2===Re&&(I=B[oe++],b+=P[I>>>2]+P[63&(I<<4|(E=B[oe])>>>4)]+P[E<<2&63]+"="),b},h=function(S){var I,E,L,b,B="",Z=S.length;"="===S.charAt(Z-2)?Z-=2:"="===S.charAt(Z-1)&&(Z-=1);for(var oe=0,le=Z>>2<<2;oe<le;)I=D[S.charAt(oe++)],E=D[S.charAt(oe++)],L=D[S.charAt(oe++)],b=D[S.charAt(oe++)],B+=String.fromCharCode(255&(I<<2|E>>>4))+String.fromCharCode(255&(E<<4|L>>>2))+String.fromCharCode(255&(L<<6|b));var Re=Z-le;return 2===Re?(I=D[S.charAt(oe++)],E=D[S.charAt(oe++)],B+=String.fromCharCode(255&(I<<2|E>>>4))):3===Re&&(I=D[S.charAt(oe++)],E=D[S.charAt(oe++)],L=D[S.charAt(oe++)],B+=String.fromCharCode(255&(I<<2|E>>>4))+String.fromCharCode(255&(E<<4|L>>>2))),B},C=function(S){for(var Z,oe,I="",E=i(S),L=E.length,b=0,B=0;b<L;)if((Z=E[b++])<=127)I+=String.fromCharCode(Z);else{if(Z>191&&Z<=223)oe=31&Z,B=1;else if(Z<=239)oe=15&Z,B=2;else{if(!(Z<=247))throw"not a UTF-8 string";oe=7&Z,B=3}for(var le=0;le<B;++le){if((Z=E[b++])<128||Z>191)throw"not a UTF-8 string";oe<<=6,oe+=63&Z}if(oe>=55296&&oe<=57343||oe>1114111)throw"not a UTF-8 string";oe<=65535?I+=String.fromCharCode(oe):(oe-=65536,I+=String.fromCharCode(55296+(oe>>10)),I+=String.fromCharCode(56320+(1023&oe)))}return I});var R=function(S,I){return I?h(S):C(S)},O={encode:function(S,I){var E="string"!=typeof S;return E&&S.constructor===t.ArrayBuffer&&(S=new Uint8Array(S)),E?c(S):!I&&/[^\x00-\x7F]/.test(S)?p(S):d(S)},decode:R,atob:h,btoa:d};R.bytes=i,R.string=R,y?Wn.exports=O:(t.base64=O,m&&void 0!==(e=function(){return O}.call(O,g,O,Wn))&&(Wn.exports=e))}()},2601:(Wn,Je)=>{Je.read=function(g,e,t,v,y){var m,P,D=8*y-v-1,f=(1<<D)-1,i=f>>1,c=-7,d=t?y-1:0,h=t?-1:1,p=g[e+d];for(d+=h,m=p&(1<<-c)-1,p>>=-c,c+=D;c>0;m=256*m+g[e+d],d+=h,c-=8);for(P=m&(1<<-c)-1,m>>=-c,c+=v;c>0;P=256*P+g[e+d],d+=h,c-=8);if(0===m)m=1-i;else{if(m===f)return P?NaN:1/0*(p?-1:1);P+=Math.pow(2,v),m-=i}return(p?-1:1)*P*Math.pow(2,m-v)},Je.write=function(g,e,t,v,y,m){var P,D,f,i=8*m-y-1,c=(1<<i)-1,d=c>>1,h=23===y?Math.pow(2,-24)-Math.pow(2,-77):0,p=v?0:m-1,C=v?1:-1,A=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(D=isNaN(e)?1:0,P=c):(P=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-P))<1&&(P--,f*=2),(e+=P+d>=1?h/f:h*Math.pow(2,1-d))*f>=2&&(P++,f/=2),P+d>=c?(D=0,P=c):P+d>=1?(D=(e*f-1)*Math.pow(2,y),P+=d):(D=e*Math.pow(2,d-1)*Math.pow(2,y),P=0));y>=8;g[t+p]=255&D,p+=C,D/=256,y-=8);for(P=P<<y|D,i+=y;i>0;g[t+p]=255&P,p+=C,P/=256,i-=8);g[t+p-C]|=128*A}},5619:(Wn,Je,g)=>{"use strict";g.d(Je,{X:()=>t});var e=g(8645);class t extends e.x{constructor(y){super(),this._value=y}get value(){return this.getValue()}_subscribe(y){const m=super._subscribe(y);return!m.closed&&y.next(this._value),m}getValue(){const{hasError:y,thrownError:m,_value:P}=this;if(y)throw m;return this._throwIfClosed(),P}next(y){super.next(this._value=y)}}},5592:(Wn,Je,g)=>{"use strict";g.d(Je,{y:()=>f});var e=g(305),t=g(7394),v=g(4850),y=g(8407),m=g(2653),P=g(4674),D=g(1441);let f=(()=>{class h{constructor(C){C&&(this._subscribe=C)}lift(C){const A=new h;return A.source=this,A.operator=C,A}subscribe(C,A,x){const R=function d(h){return h&&h instanceof e.Lv||function c(h){return h&&(0,P.m)(h.next)&&(0,P.m)(h.error)&&(0,P.m)(h.complete)}(h)&&(0,t.Nn)(h)}(C)?C:new e.Hp(C,A,x);return(0,D.x)(()=>{const{operator:O,source:S}=this;R.add(O?O.call(R,S):S?this._subscribe(R):this._trySubscribe(R))}),R}_trySubscribe(C){try{return this._subscribe(C)}catch(A){C.error(A)}}forEach(C,A){return new(A=i(A))((x,R)=>{const O=new e.Hp({next:S=>{try{C(S)}catch(I){R(I),O.unsubscribe()}},error:R,complete:x});this.subscribe(O)})}_subscribe(C){var A;return null===(A=this.source)||void 0===A?void 0:A.subscribe(C)}[v.L](){return this}pipe(...C){return(0,y.U)(C)(this)}toPromise(C){return new(C=i(C))((A,x)=>{let R;this.subscribe(O=>R=O,O=>x(O),()=>A(R))})}}return h.create=p=>new h(p),h})();function i(h){var p;return null!==(p=h??m.config.Promise)&&void 0!==p?p:Promise}},8645:(Wn,Je,g)=>{"use strict";g.d(Je,{x:()=>D});var e=g(5592),t=g(7394);const y=(0,g(2306).d)(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var m=g(9039),P=g(1441);let D=(()=>{class i extends e.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(d){const h=new f(this,this);return h.operator=d,h}_throwIfClosed(){if(this.closed)throw new y}next(d){(0,P.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const h of this.currentObservers)h.next(d)}})}error(d){(0,P.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=d;const{observers:h}=this;for(;h.length;)h.shift().error(d)}})}complete(){(0,P.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:d}=this;for(;d.length;)d.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var d;return(null===(d=this.observers)||void 0===d?void 0:d.length)>0}_trySubscribe(d){return this._throwIfClosed(),super._trySubscribe(d)}_subscribe(d){return this._throwIfClosed(),this._checkFinalizedStatuses(d),this._innerSubscribe(d)}_innerSubscribe(d){const{hasError:h,isStopped:p,observers:C}=this;return h||p?t.Lc:(this.currentObservers=null,C.push(d),new t.w0(()=>{this.currentObservers=null,(0,m.P)(C,d)}))}_checkFinalizedStatuses(d){const{hasError:h,thrownError:p,isStopped:C}=this;h?d.error(p):C&&d.complete()}asObservable(){const d=new e.y;return d.source=this,d}}return i.create=(c,d)=>new f(c,d),i})();class f extends D{constructor(c,d){super(),this.destination=c,this.source=d}next(c){var d,h;null===(h=null===(d=this.destination)||void 0===d?void 0:d.next)||void 0===h||h.call(d,c)}error(c){var d,h;null===(h=null===(d=this.destination)||void 0===d?void 0:d.error)||void 0===h||h.call(d,c)}complete(){var c,d;null===(d=null===(c=this.destination)||void 0===c?void 0:c.complete)||void 0===d||d.call(c)}_subscribe(c){var d,h;return null!==(h=null===(d=this.source)||void 0===d?void 0:d.subscribe(c))&&void 0!==h?h:t.Lc}}},305:(Wn,Je,g)=>{"use strict";g.d(Je,{Hp:()=>x,Lv:()=>h});var e=g(4674),t=g(7394),v=g(2653),y=g(3894),m=g(2420);const P=i("C",void 0,void 0);function i(E,L,b){return{kind:E,value:L,error:b}}var c=g(7599),d=g(1441);class h extends t.w0{constructor(L){super(),this.isStopped=!1,L?(this.destination=L,(0,t.Nn)(L)&&L.add(this)):this.destination=I}static create(L,b,B){return new x(L,b,B)}next(L){this.isStopped?S(function f(E){return i("N",E,void 0)}(L),this):this._next(L)}error(L){this.isStopped?S(function D(E){return i("E",void 0,E)}(L),this):(this.isStopped=!0,this._error(L))}complete(){this.isStopped?S(P,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(L){this.destination.next(L)}_error(L){try{this.destination.error(L)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const p=Function.prototype.bind;function C(E,L){return p.call(E,L)}class A{constructor(L){this.partialObserver=L}next(L){const{partialObserver:b}=this;if(b.next)try{b.next(L)}catch(B){R(B)}}error(L){const{partialObserver:b}=this;if(b.error)try{b.error(L)}catch(B){R(B)}else R(L)}complete(){const{partialObserver:L}=this;if(L.complete)try{L.complete()}catch(b){R(b)}}}class x extends h{constructor(L,b,B){let Z;if(super(),(0,e.m)(L)||!L)Z={next:L??void 0,error:b??void 0,complete:B??void 0};else{let oe;this&&v.config.useDeprecatedNextContext?(oe=Object.create(L),oe.unsubscribe=()=>this.unsubscribe(),Z={next:L.next&&C(L.next,oe),error:L.error&&C(L.error,oe),complete:L.complete&&C(L.complete,oe)}):Z=L}this.destination=new A(Z)}}function R(E){v.config.useDeprecatedSynchronousErrorHandling?(0,d.O)(E):(0,y.h)(E)}function S(E,L){const{onStoppedNotification:b}=v.config;b&&c.z.setTimeout(()=>b(E,L))}const I={closed:!0,next:m.Z,error:function O(E){throw E},complete:m.Z}},7394:(Wn,Je,g)=>{"use strict";g.d(Je,{Lc:()=>P,w0:()=>m,Nn:()=>D});var e=g(4674);const v=(0,g(2306).d)(i=>function(d){i(this),this.message=d?`${d.length} errors occurred during unsubscription:\n${d.map((h,p)=>`${p+1}) ${h.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=d});var y=g(9039);class m{constructor(c){this.initialTeardown=c,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let c;if(!this.closed){this.closed=!0;const{_parentage:d}=this;if(d)if(this._parentage=null,Array.isArray(d))for(const C of d)C.remove(this);else d.remove(this);const{initialTeardown:h}=this;if((0,e.m)(h))try{h()}catch(C){c=C instanceof v?C.errors:[C]}const{_finalizers:p}=this;if(p){this._finalizers=null;for(const C of p)try{f(C)}catch(A){c=c??[],A instanceof v?c=[...c,...A.errors]:c.push(A)}}if(c)throw new v(c)}}add(c){var d;if(c&&c!==this)if(this.closed)f(c);else{if(c instanceof m){if(c.closed||c._hasParent(this))return;c._addParent(this)}(this._finalizers=null!==(d=this._finalizers)&&void 0!==d?d:[]).push(c)}}_hasParent(c){const{_parentage:d}=this;return d===c||Array.isArray(d)&&d.includes(c)}_addParent(c){const{_parentage:d}=this;this._parentage=Array.isArray(d)?(d.push(c),d):d?[d,c]:c}_removeParent(c){const{_parentage:d}=this;d===c?this._parentage=null:Array.isArray(d)&&(0,y.P)(d,c)}remove(c){const{_finalizers:d}=this;d&&(0,y.P)(d,c),c instanceof m&&c._removeParent(this)}}m.EMPTY=(()=>{const i=new m;return i.closed=!0,i})();const P=m.EMPTY;function D(i){return i instanceof m||i&&"closed"in i&&(0,e.m)(i.remove)&&(0,e.m)(i.add)&&(0,e.m)(i.unsubscribe)}function f(i){(0,e.m)(i)?i():i.unsubscribe()}},2653:(Wn,Je,g)=>{"use strict";g.d(Je,{config:()=>e});const e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(Wn,Je,g)=>{"use strict";g.d(Je,{c:()=>P});var e=g(5592),t=g(7394),v=g(6196),y=g(8251),m=g(9360);class P extends e.y{constructor(f,i){super(),this.source=f,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,(0,m.A)(f)&&(this.lift=f.lift)}_subscribe(f){return this.getSubject().subscribe(f)}getSubject(){const f=this._subject;return(!f||f.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:f}=this;this._subject=this._connection=null,f?.unsubscribe()}connect(){let f=this._connection;if(!f){f=this._connection=new t.w0;const i=this.getSubject();f.add(this.source.subscribe((0,y.x)(i,void 0,()=>{this._teardown(),i.complete()},c=>{this._teardown(),i.error(c)},()=>this._teardown()))),f.closed&&(this._connection=null,f=t.w0.EMPTY)}return f}refCount(){return(0,v.x)()(this)}}},2572:(Wn,Je,g)=>{"use strict";g.d(Je,{a:()=>c});var e=g(5592),t=g(7453),v=g(2459),y=g(2737),m=g(7400),P=g(9940),D=g(2714),f=g(8251),i=g(7103);function c(...p){const C=(0,P.yG)(p),A=(0,P.jO)(p),{args:x,keys:R}=(0,t.D)(p);if(0===x.length)return(0,v.D)([],C);const O=new e.y(function d(p,C,A=y.y){return x=>{h(C,()=>{const{length:R}=p,O=new Array(R);let S=R,I=R;for(let E=0;E<R;E++)h(C,()=>{const L=(0,v.D)(p[E],C);let b=!1;L.subscribe((0,f.x)(x,B=>{O[E]=B,b||(b=!0,I--),I||x.next(A(O.slice()))},()=>{--S||x.complete()}))},x)},x)}}(x,C,R?S=>(0,D.n)(R,S):y.y));return A?O.pipe((0,m.Z)(A)):O}function h(p,C,A){p?(0,i.f)(A,p,C):C()}},5211:(Wn,Je,g)=>{"use strict";g.d(Je,{z:()=>m});var e=g(7537),v=g(9940),y=g(2459);function m(...P){return function t(){return(0,e.J)(1)}()((0,y.D)(P,(0,v.yG)(P)))}},4911:(Wn,Je,g)=>{"use strict";g.d(Je,{P:()=>v});var e=g(5592),t=g(4829);function v(y){return new e.y(m=>{(0,t.Xf)(y()).subscribe(m)})}},6232:(Wn,Je,g)=>{"use strict";g.d(Je,{E:()=>t});const t=new(g(5592).y)(m=>m.complete())},2459:(Wn,Je,g)=>{"use strict";g.d(Je,{D:()=>L});var e=g(4829),t=g(3093),v=g(5137),P=g(5592),f=g(4971),i=g(4674),c=g(7103);function h(b,B){if(!b)throw new Error("Iterable cannot be null");return new P.y(Z=>{(0,c.f)(Z,B,()=>{const oe=b[Symbol.asyncIterator]();(0,c.f)(Z,B,()=>{oe.next().then(le=>{le.done?Z.complete():Z.next(le.value)})},0,!0)})})}var p=g(8382),C=g(4026),A=g(4266),x=g(3664),R=g(5726),O=g(9853),S=g(541);function L(b,B){return B?function E(b,B){if(null!=b){if((0,p.c)(b))return function y(b,B){return(0,e.Xf)(b).pipe((0,v.R)(B),(0,t.Q)(B))}(b,B);if((0,A.z)(b))return function D(b,B){return new P.y(Z=>{let oe=0;return B.schedule(function(){oe===b.length?Z.complete():(Z.next(b[oe++]),Z.closed||this.schedule())})})}(b,B);if((0,C.t)(b))return function m(b,B){return(0,e.Xf)(b).pipe((0,v.R)(B),(0,t.Q)(B))}(b,B);if((0,R.D)(b))return h(b,B);if((0,x.T)(b))return function d(b,B){return new P.y(Z=>{let oe;return(0,c.f)(Z,B,()=>{oe=b[f.h](),(0,c.f)(Z,B,()=>{let le,Re;try{({value:le,done:Re}=oe.next())}catch(Y){return void Z.error(Y)}Re?Z.complete():Z.next(le)},0,!0)}),()=>(0,i.m)(oe?.return)&&oe.return()})}(b,B);if((0,S.L)(b))return function I(b,B){return h((0,S.Q)(b),B)}(b,B)}throw(0,O.z)(b)}(b,B):(0,e.Xf)(b)}},2438:(Wn,Je,g)=>{"use strict";g.d(Je,{R:()=>c});var e=g(4829),t=g(5592),v=g(1631),y=g(4266),m=g(4674),P=g(7400);const D=["addListener","removeListener"],f=["addEventListener","removeEventListener"],i=["on","off"];function c(A,x,R,O){if((0,m.m)(R)&&(O=R,R=void 0),O)return c(A,x,R).pipe((0,P.Z)(O));const[S,I]=function C(A){return(0,m.m)(A.addEventListener)&&(0,m.m)(A.removeEventListener)}(A)?f.map(E=>L=>A[E](x,L,R)):function h(A){return(0,m.m)(A.addListener)&&(0,m.m)(A.removeListener)}(A)?D.map(d(A,x)):function p(A){return(0,m.m)(A.on)&&(0,m.m)(A.off)}(A)?i.map(d(A,x)):[];if(!S&&(0,y.z)(A))return(0,v.z)(E=>c(E,x,R))((0,e.Xf)(A));if(!S)throw new TypeError("Invalid event target");return new t.y(E=>{const L=(...b)=>E.next(1<b.length?b:b[0]);return S(L),()=>I(L)})}function d(A,x){return R=>O=>A[R](x,O)}},4829:(Wn,Je,g)=>{"use strict";g.d(Je,{Xf:()=>p});var e=g(7582),t=g(4266),v=g(4026),y=g(5592),m=g(8382),P=g(5726),D=g(9853),f=g(3664),i=g(541),c=g(4674),d=g(3894),h=g(4850);function p(E){if(E instanceof y.y)return E;if(null!=E){if((0,m.c)(E))return function C(E){return new y.y(L=>{const b=E[h.L]();if((0,c.m)(b.subscribe))return b.subscribe(L);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(E);if((0,t.z)(E))return function A(E){return new y.y(L=>{for(let b=0;b<E.length&&!L.closed;b++)L.next(E[b]);L.complete()})}(E);if((0,v.t)(E))return function x(E){return new y.y(L=>{E.then(b=>{L.closed||(L.next(b),L.complete())},b=>L.error(b)).then(null,d.h)})}(E);if((0,P.D)(E))return O(E);if((0,f.T)(E))return function R(E){return new y.y(L=>{for(const b of E)if(L.next(b),L.closed)return;L.complete()})}(E);if((0,i.L)(E))return function S(E){return O((0,i.Q)(E))}(E)}throw(0,D.z)(E)}function O(E){return new y.y(L=>{(function I(E,L){var b,B,Z,oe;return(0,e.mG)(this,void 0,void 0,function*(){try{for(b=(0,e.KL)(E);!(B=yield b.next()).done;)if(L.next(B.value),L.closed)return}catch(le){Z={error:le}}finally{try{B&&!B.done&&(oe=b.return)&&(yield oe.call(b))}finally{if(Z)throw Z.error}}L.complete()})})(E,L).catch(b=>L.error(b))})}},3019:(Wn,Je,g)=>{"use strict";g.d(Je,{T:()=>P});var e=g(7537),t=g(4829),v=g(6232),y=g(9940),m=g(2459);function P(...D){const f=(0,y.yG)(D),i=(0,y._6)(D,1/0),c=D;return c.length?1===c.length?(0,t.Xf)(c[0]):(0,e.J)(i)((0,m.D)(c,f)):v.E}},2096:(Wn,Je,g)=>{"use strict";g.d(Je,{of:()=>v});var e=g(9940),t=g(2459);function v(...y){const m=(0,e.yG)(y);return(0,t.D)(y,m)}},8504:(Wn,Je,g)=>{"use strict";g.d(Je,{_:()=>v});var e=g(5592),t=g(4674);function v(y,m){const P=(0,t.m)(y)?y:()=>y,D=f=>f.error(P());return new e.y(m?f=>m.schedule(D,0,f):D)}},4825:(Wn,Je,g)=>{"use strict";g.d(Je,{H:()=>m});var e=g(5592),t=g(6321),v=g(671);function m(P=0,D,f=t.P){let i=-1;return null!=D&&((0,v.K)(D)?f=D:i=D),new e.y(c=>{let d=function y(P){return P instanceof Date&&!isNaN(P)}(P)?+P-f.now():P;d<0&&(d=0);let h=0;return f.schedule(function(){c.closed||(c.next(h++),0<=i?this.schedule(void 0,i):c.complete())},d)})}},8251:(Wn,Je,g)=>{"use strict";g.d(Je,{x:()=>t});var e=g(305);function t(y,m,P,D,f){return new v(y,m,P,D,f)}class v extends e.Lv{constructor(m,P,D,f,i,c){super(m),this.onFinalize=i,this.shouldUnsubscribe=c,this._next=P?function(d){try{P(d)}catch(h){m.error(h)}}:super._next,this._error=f?function(d){try{f(d)}catch(h){m.error(h)}finally{this.unsubscribe()}}:super._error,this._complete=D?function(){try{D()}catch(d){m.error(d)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var m;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:P}=this;super.unsubscribe(),!P&&(null===(m=this.onFinalize)||void 0===m||m.call(this))}}}},6328:(Wn,Je,g)=>{"use strict";g.d(Je,{b:()=>v});var e=g(1631),t=g(4674);function v(y,m){return(0,t.m)(m)?(0,e.z)(y,m,1):(0,e.z)(y,1)}},3620:(Wn,Je,g)=>{"use strict";g.d(Je,{b:()=>y});var e=g(6321),t=g(9360),v=g(8251);function y(m,P=e.z){return(0,t.e)((D,f)=>{let i=null,c=null,d=null;const h=()=>{if(i){i.unsubscribe(),i=null;const C=c;c=null,f.next(C)}};function p(){const C=d+m,A=P.now();if(A<C)return i=this.schedule(void 0,C-A),void f.add(i);h()}D.subscribe((0,v.x)(f,C=>{c=C,d=P.now(),i||(i=P.schedule(p,m),f.add(i))},()=>{h(),f.complete()},void 0,()=>{c=i=null}))})}},3572:(Wn,Je,g)=>{"use strict";g.d(Je,{d:()=>v});var e=g(9360),t=g(8251);function v(y){return(0,e.e)((m,P)=>{let D=!1;m.subscribe((0,t.x)(P,f=>{D=!0,P.next(f)},()=>{D||P.next(y),P.complete()}))})}},5177:(Wn,Je,g)=>{"use strict";g.d(Je,{g:()=>p});var e=g(6321),t=g(5211),v=g(8180),y=g(9360),m=g(8251),P=g(2420),f=g(975),i=g(1631),c=g(4829);function d(C,A){return A?x=>(0,t.z)(A.pipe((0,v.q)(1),function D(){return(0,y.e)((C,A)=>{C.subscribe((0,m.x)(A,P.Z))})}()),x.pipe(d(C))):(0,i.z)((x,R)=>(0,c.Xf)(C(x,R)).pipe((0,v.q)(1),(0,f.h)(x)))}var h=g(4825);function p(C,A=e.z){const x=(0,h.H)(C,A);return d(()=>x)}},3997:(Wn,Je,g)=>{"use strict";g.d(Je,{x:()=>y});var e=g(2737),t=g(9360),v=g(8251);function y(P,D=e.y){return P=P??m,(0,t.e)((f,i)=>{let c,d=!0;f.subscribe((0,v.x)(i,h=>{const p=D(h);(d||!P(c,p))&&(d=!1,c=p,i.next(h))}))})}function m(P,D){return P===D}},2181:(Wn,Je,g)=>{"use strict";g.d(Je,{h:()=>v});var e=g(9360),t=g(8251);function v(y,m){return(0,e.e)((P,D)=>{let f=0;P.subscribe((0,t.x)(D,i=>y.call(m,i,f++)&&D.next(i)))})}},4716:(Wn,Je,g)=>{"use strict";g.d(Je,{x:()=>t});var e=g(9360);function t(v){return(0,e.e)((y,m)=>{try{y.subscribe(m)}finally{m.add(v)}})}},1374:(Wn,Je,g)=>{"use strict";g.d(Je,{P:()=>D});var e=g(6973),t=g(2181),v=g(8180),y=g(3572),m=g(3026),P=g(2737);function D(f,i){const c=arguments.length>=2;return d=>d.pipe(f?(0,t.h)((h,p)=>f(h,p,d)):P.y,(0,v.q)(1),c?(0,y.d)(i):(0,m.T)(()=>new e.K))}},7398:(Wn,Je,g)=>{"use strict";g.d(Je,{U:()=>v});var e=g(9360),t=g(8251);function v(y,m){return(0,e.e)((P,D)=>{let f=0;P.subscribe((0,t.x)(D,i=>{D.next(y.call(m,i,f++))}))})}},975:(Wn,Je,g)=>{"use strict";g.d(Je,{h:()=>t});var e=g(7398);function t(v){return(0,e.U)(()=>v)}},7537:(Wn,Je,g)=>{"use strict";g.d(Je,{J:()=>v});var e=g(1631),t=g(2737);function v(y=1/0){return(0,e.z)(t.y,y)}},1631:(Wn,Je,g)=>{"use strict";g.d(Je,{z:()=>f});var e=g(7398),t=g(4829),v=g(9360),y=g(7103),m=g(8251),D=g(4674);function f(i,c,d=1/0){return(0,D.m)(c)?f((h,p)=>(0,e.U)((C,A)=>c(h,C,p,A))((0,t.Xf)(i(h,p))),d):("number"==typeof c&&(d=c),(0,v.e)((h,p)=>function P(i,c,d,h,p,C,A,x){const R=[];let O=0,S=0,I=!1;const E=()=>{I&&!R.length&&!O&&c.complete()},L=B=>O<h?b(B):R.push(B),b=B=>{C&&c.next(B),O++;let Z=!1;(0,t.Xf)(d(B,S++)).subscribe((0,m.x)(c,oe=>{p?.(oe),C?L(oe):c.next(oe)},()=>{Z=!0},void 0,()=>{if(Z)try{for(O--;R.length&&O<h;){const oe=R.shift();A?(0,y.f)(c,A,()=>b(oe)):b(oe)}E()}catch(oe){c.error(oe)}}))};return i.subscribe((0,m.x)(c,L,()=>{I=!0,E()})),()=>{x?.()}}(h,p,i,d)))}},3093:(Wn,Je,g)=>{"use strict";g.d(Je,{Q:()=>y});var e=g(7103),t=g(9360),v=g(8251);function y(m,P=0){return(0,t.e)((D,f)=>{D.subscribe((0,v.x)(f,i=>(0,e.f)(f,m,()=>f.next(i),P),()=>(0,e.f)(f,m,()=>f.complete(),P),i=>(0,e.f)(f,m,()=>f.error(i),P)))})}},6196:(Wn,Je,g)=>{"use strict";g.d(Je,{x:()=>v});var e=g(9360),t=g(8251);function v(){return(0,e.e)((y,m)=>{let P=null;y._refCount++;const D=(0,t.x)(m,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(P=null);const f=y._connection,i=P;P=null,f&&(!i||f===i)&&f.unsubscribe(),m.unsubscribe()});y.subscribe(D),D.closed||(P=y.connect())})}},3020:(Wn,Je,g)=>{"use strict";g.d(Je,{B:()=>m});var e=g(4829),t=g(8645),v=g(305),y=g(9360);function m(D={}){const{connector:f=(()=>new t.x),resetOnError:i=!0,resetOnComplete:c=!0,resetOnRefCountZero:d=!0}=D;return h=>{let p,C,A,x=0,R=!1,O=!1;const S=()=>{C?.unsubscribe(),C=void 0},I=()=>{S(),p=A=void 0,R=O=!1},E=()=>{const L=p;I(),L?.unsubscribe()};return(0,y.e)((L,b)=>{x++,!O&&!R&&S();const B=A=A??f();b.add(()=>{x--,0===x&&!O&&!R&&(C=P(E,d))}),B.subscribe(b),!p&&x>0&&(p=new v.Hp({next:Z=>B.next(Z),error:Z=>{O=!0,S(),C=P(I,i,Z),B.error(Z)},complete:()=>{R=!0,S(),C=P(I,c),B.complete()}}),(0,e.Xf)(L).subscribe(p))})(h)}}function P(D,f,...i){if(!0===f)return void D();if(!1===f)return;const c=new v.Hp({next:()=>{c.unsubscribe(),D()}});return(0,e.Xf)(f(...i)).subscribe(c)}},940:(Wn,Je,g)=>{"use strict";g.d(Je,{d:()=>m});var e=g(8645),t=g(4552);class v extends e.x{constructor(D=1/0,f=1/0,i=t.l){super(),this._bufferSize=D,this._windowTime=f,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=f===1/0,this._bufferSize=Math.max(1,D),this._windowTime=Math.max(1,f)}next(D){const{isStopped:f,_buffer:i,_infiniteTimeWindow:c,_timestampProvider:d,_windowTime:h}=this;f||(i.push(D),!c&&i.push(d.now()+h)),this._trimBuffer(),super.next(D)}_subscribe(D){this._throwIfClosed(),this._trimBuffer();const f=this._innerSubscribe(D),{_infiniteTimeWindow:i,_buffer:c}=this,d=c.slice();for(let h=0;h<d.length&&!D.closed;h+=i?1:2)D.next(d[h]);return this._checkFinalizedStatuses(D),f}_trimBuffer(){const{_bufferSize:D,_timestampProvider:f,_buffer:i,_infiniteTimeWindow:c}=this,d=(c?1:2)*D;if(D<1/0&&d<i.length&&i.splice(0,i.length-d),!c){const h=f.now();let p=0;for(let C=1;C<i.length&&i[C]<=h;C+=2)p=C;p&&i.splice(0,p+1)}}}var y=g(3020);function m(P,D,f){let i,c=!1;return P&&"object"==typeof P?({bufferSize:i=1/0,windowTime:D=1/0,refCount:c=!1,scheduler:f}=P):i=P??1/0,(0,y.B)({connector:()=>new v(i,D,f),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}},836:(Wn,Je,g)=>{"use strict";g.d(Je,{T:()=>t});var e=g(2181);function t(v){return(0,e.h)((y,m)=>v<=m)}},7921:(Wn,Je,g)=>{"use strict";g.d(Je,{O:()=>y});var e=g(5211),t=g(9940),v=g(9360);function y(...m){const P=(0,t.yG)(m);return(0,v.e)((D,f)=>{(P?(0,e.z)(m,D,P):(0,e.z)(m,D)).subscribe(f)})}},5137:(Wn,Je,g)=>{"use strict";g.d(Je,{R:()=>t});var e=g(9360);function t(v,y=0){return(0,e.e)((m,P)=>{P.add(v.schedule(()=>m.subscribe(P),y))})}},4664:(Wn,Je,g)=>{"use strict";g.d(Je,{w:()=>y});var e=g(4829),t=g(9360),v=g(8251);function y(m,P){return(0,t.e)((D,f)=>{let i=null,c=0,d=!1;const h=()=>d&&!i&&f.complete();D.subscribe((0,v.x)(f,p=>{i?.unsubscribe();let C=0;const A=c++;(0,e.Xf)(m(p,A)).subscribe(i=(0,v.x)(f,x=>f.next(P?P(p,x,A,C++):x),()=>{i=null,h()}))},()=>{d=!0,h()}))})}},8180:(Wn,Je,g)=>{"use strict";g.d(Je,{q:()=>y});var e=g(6232),t=g(9360),v=g(8251);function y(m){return m<=0?()=>e.E:(0,t.e)((P,D)=>{let f=0;P.subscribe((0,v.x)(D,i=>{++f<=m&&(D.next(i),m<=f&&D.complete())}))})}},9773:(Wn,Je,g)=>{"use strict";g.d(Je,{R:()=>m});var e=g(9360),t=g(8251),v=g(4829),y=g(2420);function m(P){return(0,e.e)((D,f)=>{(0,v.Xf)(P).subscribe((0,t.x)(f,()=>f.complete(),y.Z)),!f.closed&&D.subscribe(f)})}},9397:(Wn,Je,g)=>{"use strict";g.d(Je,{b:()=>m});var e=g(4674),t=g(9360),v=g(8251),y=g(2737);function m(P,D,f){const i=(0,e.m)(P)||D||f?{next:P,error:D,complete:f}:P;return i?(0,t.e)((c,d)=>{var h;null===(h=i.subscribe)||void 0===h||h.call(i);let p=!0;c.subscribe((0,v.x)(d,C=>{var A;null===(A=i.next)||void 0===A||A.call(i,C),d.next(C)},()=>{var C;p=!1,null===(C=i.complete)||void 0===C||C.call(i),d.complete()},C=>{var A;p=!1,null===(A=i.error)||void 0===A||A.call(i,C),d.error(C)},()=>{var C,A;p&&(null===(C=i.unsubscribe)||void 0===C||C.call(i)),null===(A=i.finalize)||void 0===A||A.call(i)}))}):y.y}},3026:(Wn,Je,g)=>{"use strict";g.d(Je,{T:()=>y});var e=g(6973),t=g(9360),v=g(8251);function y(P=m){return(0,t.e)((D,f)=>{let i=!1;D.subscribe((0,v.x)(f,c=>{i=!0,f.next(c)},()=>i?f.complete():f.error(P())))})}function m(){return new e.K}},1954:(Wn,Je,g)=>{"use strict";g.d(Je,{o:()=>m});var e=g(7394);class t extends e.w0{constructor(D,f){super()}schedule(D,f=0){return this}}const v={setInterval(P,D,...f){const{delegate:i}=v;return i?.setInterval?i.setInterval(P,D,...f):setInterval(P,D,...f)},clearInterval(P){const{delegate:D}=v;return(D?.clearInterval||clearInterval)(P)},delegate:void 0};var y=g(9039);class m extends t{constructor(D,f){super(D,f),this.scheduler=D,this.work=f,this.pending=!1}schedule(D,f=0){var i;if(this.closed)return this;this.state=D;const c=this.id,d=this.scheduler;return null!=c&&(this.id=this.recycleAsyncId(d,c,f)),this.pending=!0,this.delay=f,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(d,this.id,f),this}requestAsyncId(D,f,i=0){return v.setInterval(D.flush.bind(D,this),i)}recycleAsyncId(D,f,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return f;null!=f&&v.clearInterval(f)}execute(D,f){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(D,f);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(D,f){let c,i=!1;try{this.work(D)}catch(d){i=!0,c=d||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),c}unsubscribe(){if(!this.closed){const{id:D,scheduler:f}=this,{actions:i}=f;this.work=this.state=this.scheduler=null,this.pending=!1,(0,y.P)(i,this),null!=D&&(this.id=this.recycleAsyncId(f,D,null)),this.delay=null,super.unsubscribe()}}}},2631:(Wn,Je,g)=>{"use strict";g.d(Je,{v:()=>v});var e=g(4552);class t{constructor(m,P=t.now){this.schedulerActionCtor=m,this.now=P}schedule(m,P=0,D){return new this.schedulerActionCtor(this,m).schedule(D,P)}}t.now=e.l.now;class v extends t{constructor(m,P=t.now){super(m,P),this.actions=[],this._active=!1}flush(m){const{actions:P}=this;if(this._active)return void P.push(m);let D;this._active=!0;do{if(D=m.execute(m.state,m.delay))break}while(m=P.shift());if(this._active=!1,D){for(;m=P.shift();)m.unsubscribe();throw D}}}},6321:(Wn,Je,g)=>{"use strict";g.d(Je,{P:()=>y,z:()=>v});var e=g(1954);const v=new(g(2631).v)(e.o),y=v},4552:(Wn,Je,g)=>{"use strict";g.d(Je,{l:()=>e});const e={now:()=>(e.delegate||Date).now(),delegate:void 0}},7599:(Wn,Je,g)=>{"use strict";g.d(Je,{z:()=>e});const e={setTimeout(t,v,...y){const{delegate:m}=e;return m?.setTimeout?m.setTimeout(t,v,...y):setTimeout(t,v,...y)},clearTimeout(t){const{delegate:v}=e;return(v?.clearTimeout||clearTimeout)(t)},delegate:void 0}},4971:(Wn,Je,g)=>{"use strict";g.d(Je,{h:()=>t});const t=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Wn,Je,g)=>{"use strict";g.d(Je,{L:()=>e});const e="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Wn,Je,g)=>{"use strict";g.d(Je,{K:()=>t});const t=(0,g(2306).d)(v=>function(){v(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Wn,Je,g)=>{"use strict";g.d(Je,{_6:()=>P,jO:()=>y,yG:()=>m});var e=g(4674),t=g(671);function v(D){return D[D.length-1]}function y(D){return(0,e.m)(v(D))?D.pop():void 0}function m(D){return(0,t.K)(v(D))?D.pop():void 0}function P(D,f){return"number"==typeof v(D)?D.pop():f}},7453:(Wn,Je,g)=>{"use strict";g.d(Je,{D:()=>m});const{isArray:e}=Array,{getPrototypeOf:t,prototype:v,keys:y}=Object;function m(D){if(1===D.length){const f=D[0];if(e(f))return{args:f,keys:null};if(function P(D){return D&&"object"==typeof D&&t(D)===v}(f)){const i=y(f);return{args:i.map(c=>f[c]),keys:i}}}return{args:D,keys:null}}},9039:(Wn,Je,g)=>{"use strict";function e(t,v){if(t){const y=t.indexOf(v);0<=y&&t.splice(y,1)}}g.d(Je,{P:()=>e})},2306:(Wn,Je,g)=>{"use strict";function e(t){const y=t(m=>{Error.call(m),m.stack=(new Error).stack});return y.prototype=Object.create(Error.prototype),y.prototype.constructor=y,y}g.d(Je,{d:()=>e})},2714:(Wn,Je,g)=>{"use strict";function e(t,v){return t.reduce((y,m,P)=>(y[m]=v[P],y),{})}g.d(Je,{n:()=>e})},1441:(Wn,Je,g)=>{"use strict";g.d(Je,{O:()=>y,x:()=>v});var e=g(2653);let t=null;function v(m){if(e.config.useDeprecatedSynchronousErrorHandling){const P=!t;if(P&&(t={errorThrown:!1,error:null}),m(),P){const{errorThrown:D,error:f}=t;if(t=null,D)throw f}}else m()}function y(m){e.config.useDeprecatedSynchronousErrorHandling&&t&&(t.errorThrown=!0,t.error=m)}},7103:(Wn,Je,g)=>{"use strict";function e(t,v,y,m=0,P=!1){const D=v.schedule(function(){y(),P?t.add(this.schedule(null,m)):this.unsubscribe()},m);if(t.add(D),!P)return D}g.d(Je,{f:()=>e})},2737:(Wn,Je,g)=>{"use strict";function e(t){return t}g.d(Je,{y:()=>e})},4266:(Wn,Je,g)=>{"use strict";g.d(Je,{z:()=>e});const e=t=>t&&"number"==typeof t.length&&"function"!=typeof t},5726:(Wn,Je,g)=>{"use strict";g.d(Je,{D:()=>t});var e=g(4674);function t(v){return Symbol.asyncIterator&&(0,e.m)(v?.[Symbol.asyncIterator])}},4674:(Wn,Je,g)=>{"use strict";function e(t){return"function"==typeof t}g.d(Je,{m:()=>e})},8382:(Wn,Je,g)=>{"use strict";g.d(Je,{c:()=>v});var e=g(4850),t=g(4674);function v(y){return(0,t.m)(y[e.L])}},3664:(Wn,Je,g)=>{"use strict";g.d(Je,{T:()=>v});var e=g(4971),t=g(4674);function v(y){return(0,t.m)(y?.[e.h])}},2664:(Wn,Je,g)=>{"use strict";g.d(Je,{b:()=>v});var e=g(5592),t=g(4674);function v(y){return!!y&&(y instanceof e.y||(0,t.m)(y.lift)&&(0,t.m)(y.subscribe))}},4026:(Wn,Je,g)=>{"use strict";g.d(Je,{t:()=>t});var e=g(4674);function t(v){return(0,e.m)(v?.then)}},541:(Wn,Je,g)=>{"use strict";g.d(Je,{L:()=>y,Q:()=>v});var e=g(7582),t=g(4674);function v(m){return(0,e.FC)(this,arguments,function*(){const D=m.getReader();try{for(;;){const{value:f,done:i}=yield(0,e.qq)(D.read());if(i)return yield(0,e.qq)(void 0);yield yield(0,e.qq)(f)}}finally{D.releaseLock()}})}function y(m){return(0,t.m)(m?.getReader)}},671:(Wn,Je,g)=>{"use strict";g.d(Je,{K:()=>t});var e=g(4674);function t(v){return v&&(0,e.m)(v.schedule)}},9360:(Wn,Je,g)=>{"use strict";g.d(Je,{A:()=>t,e:()=>v});var e=g(4674);function t(y){return(0,e.m)(y?.lift)}function v(y){return m=>{if(t(m))return m.lift(function(P){try{return y(P,this)}catch(D){this.error(D)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Wn,Je,g)=>{"use strict";g.d(Je,{Z:()=>y});var e=g(7398);const{isArray:t}=Array;function y(m){return(0,e.U)(P=>function v(m,P){return t(P)?m(...P):m(P)}(m,P))}},2420:(Wn,Je,g)=>{"use strict";function e(){}g.d(Je,{Z:()=>e})},8407:(Wn,Je,g)=>{"use strict";g.d(Je,{U:()=>v,z:()=>t});var e=g(2737);function t(...y){return v(y)}function v(y){return 0===y.length?e.y:1===y.length?y[0]:function(P){return y.reduce((D,f)=>f(D),P)}}},3894:(Wn,Je,g)=>{"use strict";g.d(Je,{h:()=>v});var e=g(2653),t=g(7599);function v(y){t.z.setTimeout(()=>{const{onUnhandledError:m}=e.config;if(!m)throw y;m(y)})}},9853:(Wn,Je,g)=>{"use strict";function e(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}g.d(Je,{z:()=>e})},2372:(Wn,Je,g)=>{"use strict";g.d(Je,{Z:()=>h});var e,t=new Uint8Array(16);function v(){if(!e&&!(e=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(t)}const y=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var D=[],f=0;f<256;++f)D.push((f+256).toString(16).substr(1));const c=function i(p){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,A=(D[p[C+0]]+D[p[C+1]]+D[p[C+2]]+D[p[C+3]]+"-"+D[p[C+4]]+D[p[C+5]]+"-"+D[p[C+6]]+D[p[C+7]]+"-"+D[p[C+8]]+D[p[C+9]]+"-"+D[p[C+10]]+D[p[C+11]]+D[p[C+12]]+D[p[C+13]]+D[p[C+14]]+D[p[C+15]]).toLowerCase();if(!function m(p){return"string"==typeof p&&y.test(p)}(A))throw TypeError("Stringified UUID is invalid");return A},h=function d(p,C,A){var x=(p=p||{}).random||(p.rng||v)();if(x[6]=15&x[6]|64,x[8]=63&x[8]|128,C){A=A||0;for(var R=0;R<16;++R)C[A+R]=x[R];return C}return c(x)}},6825:(Wn,Je,g)=>{"use strict";g.d(Je,{F4:()=>c,IO:()=>A,LC:()=>t,SB:()=>i,X$:()=>y,ZE:()=>O,ZN:()=>R,_j:()=>e,eR:()=>d,jt:()=>m,k1:()=>S,l3:()=>v,oB:()=>f,pV:()=>p,ru:()=>P,vP:()=>D});class e{}class t{}const v="*";function y(I,E){return{type:7,name:I,definitions:E,options:{}}}function m(I,E=null){return{type:4,styles:E,timings:I}}function P(I,E=null){return{type:3,steps:I,options:E}}function D(I,E=null){return{type:2,steps:I,options:E}}function f(I){return{type:6,styles:I,offset:null}}function i(I,E,L){return{type:0,name:I,styles:E,options:L}}function c(I){return{type:5,steps:I}}function d(I,E,L=null){return{type:1,expr:I,animation:E,options:L}}function p(I=null){return{type:9,options:I}}function A(I,E,L=null){return{type:11,selector:I,animation:E,options:L}}class R{constructor(E=0,L=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=E+L}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(E=>E()),this._onDoneFns=[])}onStart(E){this._originalOnStartFns.push(E),this._onStartFns.push(E)}onDone(E){this._originalOnDoneFns.push(E),this._onDoneFns.push(E)}onDestroy(E){this._onDestroyFns.push(E)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(E=>E()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(E=>E()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(E){this._position=this.totalTime?E*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(E){const L="start"==E?this._onStartFns:this._onDoneFns;L.forEach(b=>b()),L.length=0}}class O{constructor(E){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=E;let L=0,b=0,B=0;const Z=this.players.length;0==Z?queueMicrotask(()=>this._onFinish()):this.players.forEach(oe=>{oe.onDone(()=>{++L==Z&&this._onFinish()}),oe.onDestroy(()=>{++b==Z&&this._onDestroy()}),oe.onStart(()=>{++B==Z&&this._onStart()})}),this.totalTime=this.players.reduce((oe,le)=>Math.max(oe,le.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(E=>E()),this._onDoneFns=[])}init(){this.players.forEach(E=>E.init())}onStart(E){this._onStartFns.push(E)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(E=>E()),this._onStartFns=[])}onDone(E){this._onDoneFns.push(E)}onDestroy(E){this._onDestroyFns.push(E)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(E=>E.play())}pause(){this.players.forEach(E=>E.pause())}restart(){this.players.forEach(E=>E.restart())}finish(){this._onFinish(),this.players.forEach(E=>E.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(E=>E.destroy()),this._onDestroyFns.forEach(E=>E()),this._onDestroyFns=[])}reset(){this.players.forEach(E=>E.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(E){const L=E*this.totalTime;this.players.forEach(b=>{const B=b.totalTime?Math.min(1,L/b.totalTime):1;b.setPosition(B)})}getPosition(){const E=this.players.reduce((L,b)=>null===L||b.totalTime>L.totalTime?b:L,null);return null!=E?E.getPosition():0}beforeDestroy(){this.players.forEach(E=>{E.beforeDestroy&&E.beforeDestroy()})}triggerCallback(E){const L="start"==E?this._onStartFns:this._onDoneFns;L.forEach(b=>b()),L.length=0}}const S="!"},4300:(Wn,Je,g)=>{"use strict";g.d(Je,{$s:()=>Re,Kd:()=>Qe,X6:()=>X,Zf:()=>E,iD:()=>L,ic:()=>be,kH:()=>Tt,mK:()=>fe,qV:()=>ee,qm:()=>un,rt:()=>fn,s1:()=>De,tE:()=>We,yG:()=>re});var e=g(6814),t=g(5879),v=g(2831),y=g(8645),m=g(7394),P=g(5619),D=g(2096),f=g(6028),i=g(9397),c=g(3620),d=g(2181),h=g(7398),p=g(8180),C=g(836),A=g(3997),x=g(9773),R=g(2495),O=g(7131),S=g(1088);const I=" ";function E(It,vt,it){const He=b(It,vt);He.some(Ze=>Ze.trim()==it.trim())||(He.push(it.trim()),It.setAttribute(vt,He.join(I)))}function L(It,vt,it){const Ze=b(It,vt).filter(st=>st!=it.trim());Ze.length?It.setAttribute(vt,Ze.join(I)):It.removeAttribute(vt)}function b(It,vt){return(It.getAttribute(vt)||"").match(/\S+/g)||[]}const Z="cdk-describedby-message",oe="cdk-describedby-host";let le=0,Re=(()=>{class It{constructor(it,He){this._platform=He,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+le++,this._document=it,this._id=(0,t.f3M)(t.AFp)+"-"+le++}describe(it,He,Ze){if(!this._canBeDescribed(it,He))return;const st=Y(He,Ze);"string"!=typeof He?(ae(He,this._id),this._messageRegistry.set(st,{messageElement:He,referenceCount:0})):this._messageRegistry.has(st)||this._createMessageElement(He,Ze),this._isElementDescribedByMessage(it,st)||this._addMessageReference(it,st)}removeDescription(it,He,Ze){if(!He||!this._isElementNode(it))return;const st=Y(He,Ze);if(this._isElementDescribedByMessage(it,st)&&this._removeMessageReference(it,st),"string"==typeof He){const lt=this._messageRegistry.get(st);lt&&0===lt.referenceCount&&this._deleteMessageElement(st)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const it=this._document.querySelectorAll(`[${oe}="${this._id}"]`);for(let He=0;He<it.length;He++)this._removeCdkDescribedByReferenceIds(it[He]),it[He].removeAttribute(oe);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(it,He){const Ze=this._document.createElement("div");ae(Ze,this._id),Ze.textContent=it,He&&Ze.setAttribute("role",He),this._createMessagesContainer(),this._messagesContainer.appendChild(Ze),this._messageRegistry.set(Y(it,He),{messageElement:Ze,referenceCount:0})}_deleteMessageElement(it){this._messageRegistry.get(it)?.messageElement?.remove(),this._messageRegistry.delete(it)}_createMessagesContainer(){if(this._messagesContainer)return;const it="cdk-describedby-message-container",He=this._document.querySelectorAll(`.${it}[platform="server"]`);for(let st=0;st<He.length;st++)He[st].remove();const Ze=this._document.createElement("div");Ze.style.visibility="hidden",Ze.classList.add(it),Ze.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Ze.setAttribute("platform","server"),this._document.body.appendChild(Ze),this._messagesContainer=Ze}_removeCdkDescribedByReferenceIds(it){const He=b(it,"aria-describedby").filter(Ze=>0!=Ze.indexOf(Z));it.setAttribute("aria-describedby",He.join(" "))}_addMessageReference(it,He){const Ze=this._messageRegistry.get(He);E(it,"aria-describedby",Ze.messageElement.id),it.setAttribute(oe,this._id),Ze.referenceCount++}_removeMessageReference(it,He){const Ze=this._messageRegistry.get(He);Ze.referenceCount--,L(it,"aria-describedby",Ze.messageElement.id),it.removeAttribute(oe)}_isElementDescribedByMessage(it,He){const Ze=b(it,"aria-describedby"),st=this._messageRegistry.get(He),lt=st&&st.messageElement.id;return!!lt&&-1!=Ze.indexOf(lt)}_canBeDescribed(it,He){if(!this._isElementNode(it))return!1;if(He&&"object"==typeof He)return!0;const Ze=null==He?"":`${He}`.trim(),st=it.getAttribute("aria-label");return!(!Ze||st&&st.trim()===Ze)}_isElementNode(it){return it.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(He){return new(He||It)(t.LFG(e.K0),t.LFG(v.t4))};static#t=this.\u0275prov=t.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"})}return It})();function Y(It,vt){return"string"==typeof It?`${vt||""}/${It}`:It}function ae(It,vt){It.id||(It.id=`${Z}-${vt}-${le++}`)}class G{constructor(vt){this._items=vt,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new y.x,this._typeaheadSubscription=m.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=it=>it.disabled,this._pressedLetters=[],this.tabOut=new y.x,this.change=new y.x,vt instanceof t.n_E&&(this._itemChangesSubscription=vt.changes.subscribe(it=>{if(this._activeItem){const Ze=it.toArray().indexOf(this._activeItem);Ze>-1&&Ze!==this._activeItemIndex&&(this._activeItemIndex=Ze)}}))}skipPredicate(vt){return this._skipPredicateFn=vt,this}withWrap(vt=!0){return this._wrap=vt,this}withVerticalOrientation(vt=!0){return this._vertical=vt,this}withHorizontalOrientation(vt){return this._horizontal=vt,this}withAllowedModifierKeys(vt){return this._allowedModifierKeys=vt,this}withTypeAhead(vt=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,i.b)(it=>this._pressedLetters.push(it)),(0,c.b)(vt),(0,d.h)(()=>this._pressedLetters.length>0),(0,h.U)(()=>this._pressedLetters.join(""))).subscribe(it=>{const He=this._getItemsArray();for(let Ze=1;Ze<He.length+1;Ze++){const st=(this._activeItemIndex+Ze)%He.length,lt=He[st];if(!this._skipPredicateFn(lt)&&0===lt.getLabel().toUpperCase().trim().indexOf(it)){this.setActiveItem(st);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(vt=!0){return this._homeAndEnd=vt,this}withPageUpDown(vt=!0,it=10){return this._pageUpAndDown={enabled:vt,delta:it},this}setActiveItem(vt){const it=this._activeItem;this.updateActiveItem(vt),this._activeItem!==it&&this.change.next(this._activeItemIndex)}onKeydown(vt){const it=vt.keyCode,Ze=["altKey","ctrlKey","metaKey","shiftKey"].every(st=>!vt[st]||this._allowedModifierKeys.indexOf(st)>-1);switch(it){case f.Mf:return void this.tabOut.next();case f.JH:if(this._vertical&&Ze){this.setNextItemActive();break}return;case f.LH:if(this._vertical&&Ze){this.setPreviousItemActive();break}return;case f.SV:if(this._horizontal&&Ze){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case f.oh:if(this._horizontal&&Ze){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case f.Sd:if(this._homeAndEnd&&Ze){this.setFirstItemActive();break}return;case f.uR:if(this._homeAndEnd&&Ze){this.setLastItemActive();break}return;case f.Ku:if(this._pageUpAndDown.enabled&&Ze){const st=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(st>0?st:0,1);break}return;case f.VM:if(this._pageUpAndDown.enabled&&Ze){const st=this._activeItemIndex+this._pageUpAndDown.delta,lt=this._getItemsArray().length;this._setActiveItemByIndex(st<lt?st:lt-1,-1);break}return;default:return void((Ze||(0,f.Vb)(vt,"shiftKey"))&&(vt.key&&1===vt.key.length?this._letterKeyStream.next(vt.key.toLocaleUpperCase()):(it>=f.A&&it<=f.Z||it>=f.xE&&it<=f.aO)&&this._letterKeyStream.next(String.fromCharCode(it))))}this._pressedLetters=[],vt.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(vt){const it=this._getItemsArray(),He="number"==typeof vt?vt:it.indexOf(vt);this._activeItem=it[He]??null,this._activeItemIndex=He}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(vt){this._wrap?this._setActiveInWrapMode(vt):this._setActiveInDefaultMode(vt)}_setActiveInWrapMode(vt){const it=this._getItemsArray();for(let He=1;He<=it.length;He++){const Ze=(this._activeItemIndex+vt*He+it.length)%it.length;if(!this._skipPredicateFn(it[Ze]))return void this.setActiveItem(Ze)}}_setActiveInDefaultMode(vt){this._setActiveItemByIndex(this._activeItemIndex+vt,vt)}_setActiveItemByIndex(vt,it){const He=this._getItemsArray();if(He[vt]){for(;this._skipPredicateFn(He[vt]);)if(!He[vt+=it])return;this.setActiveItem(vt)}}_getItemsArray(){return this._items instanceof t.n_E?this._items.toArray():this._items}}class De extends G{setActiveItem(vt){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(vt),this.activeItem&&this.activeItem.setActiveStyles()}}let be=(()=>{class It{constructor(it){this._platform=it}isDisabled(it){return it.hasAttribute("disabled")}isVisible(it){return function ie(It){return!!(It.offsetWidth||It.offsetHeight||"function"==typeof It.getClientRects&&It.getClientRects().length)}(it)&&"visible"===getComputedStyle(it).visibility}isTabbable(it){if(!this._platform.isBrowser)return!1;const He=function Oe(It){try{return It.frameElement}catch{return null}}(function je(It){return It.ownerDocument&&It.ownerDocument.defaultView||window}(it));if(He&&(-1===Be(He)||!this.isVisible(He)))return!1;let Ze=it.nodeName.toLowerCase(),st=Be(it);return it.hasAttribute("contenteditable")?-1!==st:!("iframe"===Ze||"object"===Ze||this._platform.WEBKIT&&this._platform.IOS&&!function at(It){let vt=It.nodeName.toLowerCase(),it="input"===vt&&It.type;return"text"===it||"password"===it||"select"===vt||"textarea"===vt}(it))&&("audio"===Ze?!!it.hasAttribute("controls")&&-1!==st:"video"===Ze?-1!==st&&(null!==st||this._platform.FIREFOX||it.hasAttribute("controls")):it.tabIndex>=0)}isFocusable(it,He){return function Xe(It){return!function Ce(It){return function Me(It){return"input"==It.nodeName.toLowerCase()}(It)&&"hidden"==It.type}(It)&&(function ye(It){let vt=It.nodeName.toLowerCase();return"input"===vt||"select"===vt||"button"===vt||"textarea"===vt}(It)||function de(It){return function pe(It){return"a"==It.nodeName.toLowerCase()}(It)&&It.hasAttribute("href")}(It)||It.hasAttribute("contenteditable")||Ie(It))}(it)&&!this.isDisabled(it)&&(He?.ignoreVisibility||this.isVisible(it))}static#e=this.\u0275fac=function(He){return new(He||It)(t.LFG(v.t4))};static#t=this.\u0275prov=t.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"})}return It})();function Ie(It){if(!It.hasAttribute("tabindex")||void 0===It.tabIndex)return!1;let vt=It.getAttribute("tabindex");return!(!vt||isNaN(parseInt(vt,10)))}function Be(It){if(!Ie(It))return null;const vt=parseInt(It.getAttribute("tabindex")||"",10);return isNaN(vt)?-1:vt}class Ne{get enabled(){return this._enabled}set enabled(vt){this._enabled=vt,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(vt,this._startAnchor),this._toggleAnchorTabIndex(vt,this._endAnchor))}constructor(vt,it,He,Ze,st=!1){this._element=vt,this._checker=it,this._ngZone=He,this._document=Ze,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,st||this.attachAnchors()}destroy(){const vt=this._startAnchor,it=this._endAnchor;vt&&(vt.removeEventListener("focus",this.startAnchorListener),vt.remove()),it&&(it.removeEventListener("focus",this.endAnchorListener),it.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(vt){return new Promise(it=>{this._executeOnStable(()=>it(this.focusInitialElement(vt)))})}focusFirstTabbableElementWhenReady(vt){return new Promise(it=>{this._executeOnStable(()=>it(this.focusFirstTabbableElement(vt)))})}focusLastTabbableElementWhenReady(vt){return new Promise(it=>{this._executeOnStable(()=>it(this.focusLastTabbableElement(vt)))})}_getRegionBoundary(vt){const it=this._element.querySelectorAll(`[cdk-focus-region-${vt}], [cdkFocusRegion${vt}], [cdk-focus-${vt}]`);return"start"==vt?it.length?it[0]:this._getFirstTabbableElement(this._element):it.length?it[it.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(vt){const it=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(it){if(!this._checker.isFocusable(it)){const He=this._getFirstTabbableElement(it);return He?.focus(vt),!!He}return it.focus(vt),!0}return this.focusFirstTabbableElement(vt)}focusFirstTabbableElement(vt){const it=this._getRegionBoundary("start");return it&&it.focus(vt),!!it}focusLastTabbableElement(vt){const it=this._getRegionBoundary("end");return it&&it.focus(vt),!!it}hasAttached(){return this._hasAttached}_getFirstTabbableElement(vt){if(this._checker.isFocusable(vt)&&this._checker.isTabbable(vt))return vt;const it=vt.children;for(let He=0;He<it.length;He++){const Ze=it[He].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(it[He]):null;if(Ze)return Ze}return null}_getLastTabbableElement(vt){if(this._checker.isFocusable(vt)&&this._checker.isTabbable(vt))return vt;const it=vt.children;for(let He=it.length-1;He>=0;He--){const Ze=it[He].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(it[He]):null;if(Ze)return Ze}return null}_createAnchor(){const vt=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,vt),vt.classList.add("cdk-visually-hidden"),vt.classList.add("cdk-focus-trap-anchor"),vt.setAttribute("aria-hidden","true"),vt}_toggleAnchorTabIndex(vt,it){vt?it.setAttribute("tabindex","0"):it.removeAttribute("tabindex")}toggleAnchors(vt){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(vt,this._startAnchor),this._toggleAnchorTabIndex(vt,this._endAnchor))}_executeOnStable(vt){this._ngZone.isStable?vt():this._ngZone.onStable.pipe((0,p.q)(1)).subscribe(vt)}}let ee=(()=>{class It{constructor(it,He,Ze){this._checker=it,this._ngZone=He,this._document=Ze}create(it,He=!1){return new Ne(it,this._checker,this._ngZone,this._document,He)}static#e=this.\u0275fac=function(He){return new(He||It)(t.LFG(be),t.LFG(t.R0b),t.LFG(e.K0))};static#t=this.\u0275prov=t.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"})}return It})(),fe=(()=>{class It{get enabled(){return this.focusTrap.enabled}set enabled(it){this.focusTrap.enabled=(0,R.Ig)(it)}get autoCapture(){return this._autoCapture}set autoCapture(it){this._autoCapture=(0,R.Ig)(it)}constructor(it,He,Ze){this._elementRef=it,this._focusTrapFactory=He,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(it){const He=it.autoCapture;He&&!He.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,v.ht)(),this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(He){return new(He||It)(t.Y36(t.SBq),t.Y36(ee),t.Y36(e.K0))};static#t=this.\u0275dir=t.lG2({type:It,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[t.TTD]})}return It})();function X(It){return 0===It.buttons||0===It.offsetX&&0===It.offsetY}function re(It){const vt=It.touches&&It.touches[0]||It.changedTouches&&It.changedTouches[0];return!(!vt||-1!==vt.identifier||null!=vt.radiusX&&1!==vt.radiusX||null!=vt.radiusY&&1!==vt.radiusY)}const J=new t.OlP("cdk-input-modality-detector-options"),ge={ignoreKeys:[f.zL,f.jx,f.b2,f.MW,f.JU]},Ee=(0,v.i$)({passive:!0,capture:!0});let Fe=(()=>{class It{get mostRecentModality(){return this._modality.value}constructor(it,He,Ze,st){this._platform=it,this._mostRecentTarget=null,this._modality=new P.X(null),this._lastTouchMs=0,this._onKeydown=lt=>{this._options?.ignoreKeys?.some(St=>St===lt.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,v.sA)(lt))},this._onMousedown=lt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(X(lt)?"keyboard":"mouse"),this._mostRecentTarget=(0,v.sA)(lt))},this._onTouchstart=lt=>{re(lt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,v.sA)(lt))},this._options={...ge,...st},this.modalityDetected=this._modality.pipe((0,C.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,A.x)()),it.isBrowser&&He.runOutsideAngular(()=>{Ze.addEventListener("keydown",this._onKeydown,Ee),Ze.addEventListener("mousedown",this._onMousedown,Ee),Ze.addEventListener("touchstart",this._onTouchstart,Ee)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ee),document.removeEventListener("mousedown",this._onMousedown,Ee),document.removeEventListener("touchstart",this._onTouchstart,Ee))}static#e=this.\u0275fac=function(He){return new(He||It)(t.LFG(v.t4),t.LFG(t.R0b),t.LFG(e.K0),t.LFG(J,8))};static#t=this.\u0275prov=t.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"})}return It})();const ct=new t.OlP("liveAnnouncerElement",{providedIn:"root",factory:function qe(){return null}}),tt=new t.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let gt=0,Qe=(()=>{class It{constructor(it,He,Ze,st){this._ngZone=He,this._defaultOptions=st,this._document=Ze,this._liveElement=it||this._createLiveElement()}announce(it,...He){const Ze=this._defaultOptions;let st,lt;return 1===He.length&&"number"==typeof He[0]?lt=He[0]:[st,lt]=He,this.clear(),clearTimeout(this._previousTimeout),st||(st=Ze&&Ze.politeness?Ze.politeness:"polite"),null==lt&&Ze&&(lt=Ze.duration),this._liveElement.setAttribute("aria-live",st),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(St=>this._currentResolve=St)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=it,"number"==typeof lt&&(this._previousTimeout=setTimeout(()=>this.clear(),lt)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const it="cdk-live-announcer-element",He=this._document.getElementsByClassName(it),Ze=this._document.createElement("div");for(let st=0;st<He.length;st++)He[st].remove();return Ze.classList.add(it),Ze.classList.add("cdk-visually-hidden"),Ze.setAttribute("aria-atomic","true"),Ze.setAttribute("aria-live","polite"),Ze.id="cdk-live-announcer-"+gt++,this._document.body.appendChild(Ze),Ze}_exposeAnnouncerToModals(it){const He=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Ze=0;Ze<He.length;Ze++){const st=He[Ze],lt=st.getAttribute("aria-owns");lt?-1===lt.indexOf(it)&&st.setAttribute("aria-owns",lt+" "+it):st.setAttribute("aria-owns",it)}}static#e=this.\u0275fac=function(He){return new(He||It)(t.LFG(ct,8),t.LFG(t.R0b),t.LFG(e.K0),t.LFG(tt,8))};static#t=this.\u0275prov=t.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"})}return It})();const Et=new t.OlP("cdk-focus-monitor-default-options"),me=(0,v.i$)({passive:!0,capture:!0});let We=(()=>{class It{constructor(it,He,Ze,st,lt){this._ngZone=it,this._platform=He,this._inputModalityDetector=Ze,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new y.x,this._rootNodeFocusAndBlurListener=St=>{for(let At=(0,v.sA)(St);At;At=At.parentElement)"focus"===St.type?this._onFocus(St,At):this._onBlur(St,At)},this._document=st,this._detectionMode=lt?.detectionMode||0}monitor(it,He=!1){const Ze=(0,R.fI)(it);if(!this._platform.isBrowser||1!==Ze.nodeType)return(0,D.of)();const st=(0,v.kV)(Ze)||this._getDocument(),lt=this._elementInfo.get(Ze);if(lt)return He&&(lt.checkChildren=!0),lt.subject;const St={checkChildren:He,subject:new y.x,rootNode:st};return this._elementInfo.set(Ze,St),this._registerGlobalListeners(St),St.subject}stopMonitoring(it){const He=(0,R.fI)(it),Ze=this._elementInfo.get(He);Ze&&(Ze.subject.complete(),this._setClasses(He),this._elementInfo.delete(He),this._removeGlobalListeners(Ze))}focusVia(it,He,Ze){const st=(0,R.fI)(it);st===this._getDocument().activeElement?this._getClosestElementsInfo(st).forEach(([St,bt])=>this._originChanged(St,He,bt)):(this._setOrigin(He),"function"==typeof st.focus&&st.focus(Ze))}ngOnDestroy(){this._elementInfo.forEach((it,He)=>this.stopMonitoring(He))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(it){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(it)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:it&&this._isLastInteractionFromInputLabel(it)?"mouse":"program"}_shouldBeAttributedToTouch(it){return 1===this._detectionMode||!!it?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(it,He){it.classList.toggle("cdk-focused",!!He),it.classList.toggle("cdk-touch-focused","touch"===He),it.classList.toggle("cdk-keyboard-focused","keyboard"===He),it.classList.toggle("cdk-mouse-focused","mouse"===He),it.classList.toggle("cdk-program-focused","program"===He)}_setOrigin(it,He=!1){this._ngZone.runOutsideAngular(()=>{this._origin=it,this._originFromTouchInteraction="touch"===it&&He,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(it,He){const Ze=this._elementInfo.get(He),st=(0,v.sA)(it);!Ze||!Ze.checkChildren&&He!==st||this._originChanged(He,this._getFocusOrigin(st),Ze)}_onBlur(it,He){const Ze=this._elementInfo.get(He);!Ze||Ze.checkChildren&&it.relatedTarget instanceof Node&&He.contains(it.relatedTarget)||(this._setClasses(He),this._emitOrigin(Ze,null))}_emitOrigin(it,He){it.subject.observers.length&&this._ngZone.run(()=>it.subject.next(He))}_registerGlobalListeners(it){if(!this._platform.isBrowser)return;const He=it.rootNode,Ze=this._rootNodeFocusListenerCount.get(He)||0;Ze||this._ngZone.runOutsideAngular(()=>{He.addEventListener("focus",this._rootNodeFocusAndBlurListener,me),He.addEventListener("blur",this._rootNodeFocusAndBlurListener,me)}),this._rootNodeFocusListenerCount.set(He,Ze+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,x.R)(this._stopInputModalityDetector)).subscribe(st=>{this._setOrigin(st,!0)}))}_removeGlobalListeners(it){const He=it.rootNode;if(this._rootNodeFocusListenerCount.has(He)){const Ze=this._rootNodeFocusListenerCount.get(He);Ze>1?this._rootNodeFocusListenerCount.set(He,Ze-1):(He.removeEventListener("focus",this._rootNodeFocusAndBlurListener,me),He.removeEventListener("blur",this._rootNodeFocusAndBlurListener,me),this._rootNodeFocusListenerCount.delete(He))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(it,He,Ze){this._setClasses(it,He),this._emitOrigin(Ze,He),this._lastFocusOrigin=He}_getClosestElementsInfo(it){const He=[];return this._elementInfo.forEach((Ze,st)=>{(st===it||Ze.checkChildren&&st.contains(it))&&He.push([st,Ze])}),He}_isLastInteractionFromInputLabel(it){const{_mostRecentTarget:He,mostRecentModality:Ze}=this._inputModalityDetector;if("mouse"!==Ze||!He||He===it||"INPUT"!==it.nodeName&&"TEXTAREA"!==it.nodeName||it.disabled)return!1;const st=it.labels;if(st)for(let lt=0;lt<st.length;lt++)if(st[lt].contains(He))return!0;return!1}static#e=this.\u0275fac=function(He){return new(He||It)(t.LFG(t.R0b),t.LFG(v.t4),t.LFG(Fe),t.LFG(e.K0,8),t.LFG(Et,8))};static#t=this.\u0275prov=t.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"})}return It})(),Tt=(()=>{class It{constructor(it,He){this._elementRef=it,this._focusMonitor=He,this._focusOrigin=null,this.cdkFocusChange=new t.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const it=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(it,1===it.nodeType&&it.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(He=>{this._focusOrigin=He,this.cdkFocusChange.emit(He)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(He){return new(He||It)(t.Y36(t.SBq),t.Y36(We))};static#t=this.\u0275dir=t.lG2({type:It,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return It})();const Kt="cdk-high-contrast-black-on-white",Jt="cdk-high-contrast-white-on-black",Xt="cdk-high-contrast-active";let un=(()=>{class It{constructor(it,He){this._platform=it,this._document=He,this._breakpointSubscription=(0,t.f3M)(S.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const it=this._document.createElement("div");it.style.backgroundColor="rgb(1,2,3)",it.style.position="absolute",this._document.body.appendChild(it);const He=this._document.defaultView||window,Ze=He&&He.getComputedStyle?He.getComputedStyle(it):null,st=(Ze&&Ze.backgroundColor||"").replace(/ /g,"");switch(it.remove(),st){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const it=this._document.body.classList;it.remove(Xt,Kt,Jt),this._hasCheckedHighContrastMode=!0;const He=this.getHighContrastMode();1===He?it.add(Xt,Kt):2===He&&it.add(Xt,Jt)}}static#e=this.\u0275fac=function(He){return new(He||It)(t.LFG(v.t4),t.LFG(e.K0))};static#t=this.\u0275prov=t.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"})}return It})(),fn=(()=>{class It{constructor(it){it._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(He){return new(He||It)(t.LFG(un))};static#t=this.\u0275mod=t.oAB({type:It});static#n=this.\u0275inj=t.cJS({imports:[O.Q8]})}return It})()},9388:(Wn,Je,g)=>{"use strict";g.d(Je,{Is:()=>D,vT:()=>i});var e=g(5879),t=g(6814);const v=new e.OlP("cdk-dir-doc",{providedIn:"root",factory:function y(){return(0,e.f3M)(t.K0)}}),m=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let D=(()=>{class c{constructor(h){this.value="ltr",this.change=new e.vpe,h&&(this.value=function P(c){const d=c?.toLowerCase()||"";return"auto"===d&&typeof navigator<"u"&&navigator?.language?m.test(navigator.language)?"rtl":"ltr":"rtl"===d?"rtl":"ltr"}((h.body?h.body.dir:null)||(h.documentElement?h.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(p){return new(p||c)(e.LFG(v,8))};static#t=this.\u0275prov=e.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),i=(()=>{class c{static#e=this.\u0275fac=function(p){return new(p||c)};static#t=this.\u0275mod=e.oAB({type:c});static#n=this.\u0275inj=e.cJS({})}return c})()},2495:(Wn,Je,g)=>{"use strict";g.d(Je,{Eq:()=>m,HM:()=>P,Ig:()=>t,du:()=>f,fI:()=>D,su:()=>v,t6:()=>y});var e=g(5879);function t(i){return null!=i&&"false"!=`${i}`}function v(i,c=0){return y(i)?Number(i):c}function y(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function m(i){return Array.isArray(i)?i:[i]}function P(i){return null==i?"":"string"==typeof i?i:`${i}px`}function D(i){return i instanceof e.SBq?i.nativeElement:i}function f(i,c=/\s+/){const d=[];if(null!=i){const h=Array.isArray(i)?i:`${i}`.split(c);for(const p of h){const C=`${p}`.trim();C&&d.push(C)}}return d}},8337:(Wn,Je,g)=>{"use strict";g.d(Je,{Ov:()=>i,Z9:()=>m,eX:()=>f,k:()=>h,o2:()=>y,yy:()=>D});var e=g(3168),t=g(8645),v=g(5879);class y{}function m(p){return p&&"function"==typeof p.connect&&!(p instanceof e.c)}class D{applyChanges(C,A,x,R,O){C.forEachOperation((S,I,E)=>{let L,b;if(null==S.previousIndex){const B=x(S,I,E);L=A.createEmbeddedView(B.templateRef,B.context,B.index),b=1}else null==E?(A.remove(I),b=3):(L=A.get(I),A.move(L,E),b=2);O&&O({context:L?.context,operation:b,record:S})})}detach(){}}class f{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(C,A,x,R,O){C.forEachOperation((S,I,E)=>{let L,b;null==S.previousIndex?(L=this._insertView(()=>x(S,I,E),E,A,R(S)),b=L?1:0):null==E?(this._detachAndCacheView(I,A),b=3):(L=this._moveView(I,E,A,R(S)),b=2),O&&O({context:L?.context,operation:b,record:S})})}detach(){for(const C of this._viewCache)C.destroy();this._viewCache=[]}_insertView(C,A,x,R){const O=this._insertViewFromCache(A,x);if(O)return void(O.context.$implicit=R);const S=C();return x.createEmbeddedView(S.templateRef,S.context,S.index)}_detachAndCacheView(C,A){const x=A.detach(C);this._maybeCacheView(x,A)}_moveView(C,A,x,R){const O=x.get(C);return x.move(O,A),O.context.$implicit=R,O}_maybeCacheView(C,A){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(C);else{const x=A.indexOf(C);-1===x?C.destroy():A.remove(x)}}_insertViewFromCache(C,A){const x=this._viewCache.pop();return x&&A.insert(x,C),x||null}}class i{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(C=!1,A,x=!0,R){this._multiple=C,this._emitChanges=x,this.compareWith=R,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new t.x,A&&A.length&&(C?A.forEach(O=>this._markSelected(O)):this._markSelected(A[0]),this._selectedToEmit.length=0)}select(...C){this._verifyValueAssignment(C),C.forEach(x=>this._markSelected(x));const A=this._hasQueuedChanges();return this._emitChangeEvent(),A}deselect(...C){this._verifyValueAssignment(C),C.forEach(x=>this._unmarkSelected(x));const A=this._hasQueuedChanges();return this._emitChangeEvent(),A}setSelection(...C){this._verifyValueAssignment(C);const A=this.selected,x=new Set(C);C.forEach(O=>this._markSelected(O)),A.filter(O=>!x.has(O)).forEach(O=>this._unmarkSelected(O));const R=this._hasQueuedChanges();return this._emitChangeEvent(),R}toggle(C){return this.isSelected(C)?this.deselect(C):this.select(C)}clear(C=!0){this._unmarkAll();const A=this._hasQueuedChanges();return C&&this._emitChangeEvent(),A}isSelected(C){return this._selection.has(this._getConcreteValue(C))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(C){this._multiple&&this.selected&&this._selected.sort(C)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(C){C=this._getConcreteValue(C),this.isSelected(C)||(this._multiple||this._unmarkAll(),this.isSelected(C)||this._selection.add(C),this._emitChanges&&this._selectedToEmit.push(C))}_unmarkSelected(C){C=this._getConcreteValue(C),this.isSelected(C)&&(this._selection.delete(C),this._emitChanges&&this._deselectedToEmit.push(C))}_unmarkAll(){this.isEmpty()||this._selection.forEach(C=>this._unmarkSelected(C))}_verifyValueAssignment(C){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(C){if(this.compareWith){for(let A of this._selection)if(this.compareWith(C,A))return A;return C}return C}}const h=new v.OlP("_ViewRepeater")},6028:(Wn,Je,g)=>{"use strict";g.d(Je,{A:()=>Ce,JH:()=>I,JU:()=>P,K5:()=>m,Ku:()=>p,LH:()=>O,L_:()=>h,MW:()=>tt,Mf:()=>v,SV:()=>S,Sd:()=>x,VM:()=>C,Vb:()=>Rt,Z:()=>qe,aO:()=>Te,b2:()=>Bt,hY:()=>d,jx:()=>D,oh:()=>R,uR:()=>A,xE:()=>Z,zL:()=>f});const v=9,m=13,P=16,D=17,f=18,d=27,h=32,p=33,C=34,A=35,x=36,R=37,O=38,S=39,I=40,Z=48,Te=57,Ce=65,qe=90,tt=91,Bt=224;function Rt(ln,...Fn){return Fn.length?Fn.some(vi=>ln[vi]):ln.altKey||ln.shiftKey||ln.ctrlKey||ln.metaKey}},1088:(Wn,Je,g)=>{"use strict";g.d(Je,{Yg:()=>I,u3:()=>L});var e=g(5879),t=g(2495),v=g(8645),y=g(2572),m=g(5211),P=g(5592),D=g(8180),f=g(836),i=g(3620),c=g(7398),d=g(7921),h=g(9773),p=g(2831);const A=new Set;let x,R=(()=>{class b{constructor(Z,oe){this._platform=Z,this._nonce=oe,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):S}matchMedia(Z){return(this._platform.WEBKIT||this._platform.BLINK)&&function O(b,B){if(!A.has(b))try{x||(x=document.createElement("style"),B&&(x.nonce=B),x.setAttribute("type","text/css"),document.head.appendChild(x)),x.sheet&&(x.sheet.insertRule(`@media ${b} {body{ }}`,0),A.add(b))}catch(Z){console.error(Z)}}(Z,this._nonce),this._matchMedia(Z)}static#e=this.\u0275fac=function(oe){return new(oe||b)(e.LFG(p.t4),e.LFG(e.Ojb,8))};static#t=this.\u0275prov=e.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();function S(b){return{matches:"all"===b||""===b,media:b,addListener:()=>{},removeListener:()=>{}}}let I=(()=>{class b{constructor(Z,oe){this._mediaMatcher=Z,this._zone=oe,this._queries=new Map,this._destroySubject=new v.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Z){return E((0,t.Eq)(Z)).some(le=>this._registerQuery(le).mql.matches)}observe(Z){const le=E((0,t.Eq)(Z)).map(Y=>this._registerQuery(Y).observable);let Re=(0,y.a)(le);return Re=(0,m.z)(Re.pipe((0,D.q)(1)),Re.pipe((0,f.T)(1),(0,i.b)(0))),Re.pipe((0,c.U)(Y=>{const ae={matches:!1,breakpoints:{}};return Y.forEach(({matches:G,query:De})=>{ae.matches=ae.matches||G,ae.breakpoints[De]=G}),ae}))}_registerQuery(Z){if(this._queries.has(Z))return this._queries.get(Z);const oe=this._mediaMatcher.matchMedia(Z),Re={observable:new P.y(Y=>{const ae=G=>this._zone.run(()=>Y.next(G));return oe.addListener(ae),()=>{oe.removeListener(ae)}}).pipe((0,d.O)(oe),(0,c.U)(({matches:Y})=>({query:Z,matches:Y})),(0,h.R)(this._destroySubject)),mql:oe};return this._queries.set(Z,Re),Re}static#e=this.\u0275fac=function(oe){return new(oe||b)(e.LFG(R),e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();function E(b){return b.map(B=>B.split(",")).reduce((B,Z)=>B.concat(Z)).map(B=>B.trim())}const L={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7131:(Wn,Je,g)=>{"use strict";g.d(Je,{Q8:()=>m});var e=g(5879);let t=(()=>{class P{create(f){return typeof MutationObserver>"u"?null:new MutationObserver(f)}static#e=this.\u0275fac=function(i){return new(i||P)};static#t=this.\u0275prov=e.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})(),m=(()=>{class P{static#e=this.\u0275fac=function(i){return new(i||P)};static#t=this.\u0275mod=e.oAB({type:P});static#n=this.\u0275inj=e.cJS({providers:[t]})}return P})()},3651:(Wn,Je,g)=>{"use strict";g.d(Je,{pI:()=>Q,xu:()=>$,_G:()=>de,aV:()=>fe,X_:()=>le,Xj:()=>Oe,U8:()=>re,Iu:()=>ie});var e=g(799),t=g(6814),v=g(5879),y=g(2495),m=g(2831),P=g(2181),D=g(8180),f=g(9773),i=g(9360),c=g(8251),h=g(9388),p=g(8484),C=g(8645),A=g(7394),x=g(3019),R=g(6028);const O=(0,m.Mq)();class S{constructor(Se,Ee){this._viewportRuler=Se,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Ee}attach(){}enable(){if(this._canBeEnabled()){const Se=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Se.style.left||"",this._previousHTMLStyles.top=Se.style.top||"",Se.style.left=(0,y.HM)(-this._previousScrollPosition.left),Se.style.top=(0,y.HM)(-this._previousScrollPosition.top),Se.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Se=this._document.documentElement,Fe=Se.style,ct=this._document.body.style,qe=Fe.scrollBehavior||"",tt=ct.scrollBehavior||"";this._isEnabled=!1,Fe.left=this._previousHTMLStyles.left,Fe.top=this._previousHTMLStyles.top,Se.classList.remove("cdk-global-scrollblock"),O&&(Fe.scrollBehavior=ct.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),O&&(Fe.scrollBehavior=qe,ct.scrollBehavior=tt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Ee=this._document.body,Fe=this._viewportRuler.getViewportSize();return Ee.scrollHeight>Fe.height||Ee.scrollWidth>Fe.width}}class E{constructor(Se,Ee,Fe,ct){this._scrollDispatcher=Se,this._ngZone=Ee,this._viewportRuler=Fe,this._config=ct,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Se){this._overlayRef=Se}enable(){if(this._scrollSubscription)return;const Se=this._scrollDispatcher.scrolled(0).pipe((0,P.h)(Ee=>!Ee||!this._overlayRef.overlayElement.contains(Ee.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Se.subscribe(()=>{const Ee=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Ee-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Se.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class L{enable(){}disable(){}attach(){}}function b(ge,Se){return Se.some(Ee=>ge.bottom<Ee.top||ge.top>Ee.bottom||ge.right<Ee.left||ge.left>Ee.right)}function B(ge,Se){return Se.some(Ee=>ge.top<Ee.top||ge.bottom>Ee.bottom||ge.left<Ee.left||ge.right>Ee.right)}class Z{constructor(Se,Ee,Fe,ct){this._scrollDispatcher=Se,this._viewportRuler=Ee,this._ngZone=Fe,this._config=ct,this._scrollSubscription=null}attach(Se){this._overlayRef=Se}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Ee=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Fe,height:ct}=this._viewportRuler.getViewportSize();b(Ee,[{width:Fe,height:ct,bottom:ct,right:Fe,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let oe=(()=>{class ge{constructor(Ee,Fe,ct,qe){this._scrollDispatcher=Ee,this._viewportRuler=Fe,this._ngZone=ct,this.noop=()=>new L,this.close=tt=>new E(this._scrollDispatcher,this._ngZone,this._viewportRuler,tt),this.block=()=>new S(this._viewportRuler,this._document),this.reposition=tt=>new Z(this._scrollDispatcher,this._viewportRuler,this._ngZone,tt),this._document=qe}static#e=this.\u0275fac=function(Fe){return new(Fe||ge)(v.LFG(e.mF),v.LFG(e.rL),v.LFG(v.R0b),v.LFG(t.K0))};static#t=this.\u0275prov=v.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"})}return ge})();class le{constructor(Se){if(this.scrollStrategy=new L,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Se){const Ee=Object.keys(Se);for(const Fe of Ee)void 0!==Se[Fe]&&(this[Fe]=Se[Fe])}}}class ae{constructor(Se,Ee){this.connectionPair=Se,this.scrollableViewProperties=Ee}}let ce=(()=>{class ge{constructor(Ee){this._attachedOverlays=[],this._document=Ee}ngOnDestroy(){this.detach()}add(Ee){this.remove(Ee),this._attachedOverlays.push(Ee)}remove(Ee){const Fe=this._attachedOverlays.indexOf(Ee);Fe>-1&&this._attachedOverlays.splice(Fe,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(Fe){return new(Fe||ge)(v.LFG(t.K0))};static#t=this.\u0275prov=v.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"})}return ge})(),Te=(()=>{class ge extends ce{constructor(Ee,Fe){super(Ee),this._ngZone=Fe,this._keydownListener=ct=>{const qe=this._attachedOverlays;for(let tt=qe.length-1;tt>-1;tt--)if(qe[tt]._keydownEvents.observers.length>0){const gt=qe[tt]._keydownEvents;this._ngZone?this._ngZone.run(()=>gt.next(ct)):gt.next(ct);break}}}add(Ee){super.add(Ee),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(Fe){return new(Fe||ge)(v.LFG(t.K0),v.LFG(v.R0b,8))};static#t=this.\u0275prov=v.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"})}return ge})(),be=(()=>{class ge extends ce{constructor(Ee,Fe,ct){super(Ee),this._platform=Fe,this._ngZone=ct,this._cursorStyleIsSet=!1,this._pointerDownListener=qe=>{this._pointerDownEventTarget=(0,m.sA)(qe)},this._clickListener=qe=>{const tt=(0,m.sA)(qe),gt="click"===qe.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:tt;this._pointerDownEventTarget=null;const Qe=this._attachedOverlays.slice();for(let yt=Qe.length-1;yt>-1;yt--){const Et=Qe[yt];if(Et._outsidePointerEvents.observers.length<1||!Et.hasAttached())continue;if(Et.overlayElement.contains(tt)||Et.overlayElement.contains(gt))break;const me=Et._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>me.next(qe)):me.next(qe)}}}add(Ee){if(super.add(Ee),!this._isAttached){const Fe=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Fe)):this._addEventListeners(Fe),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Fe.style.cursor,Fe.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Ee=this._document.body;Ee.removeEventListener("pointerdown",this._pointerDownListener,!0),Ee.removeEventListener("click",this._clickListener,!0),Ee.removeEventListener("auxclick",this._clickListener,!0),Ee.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Ee.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Ee){Ee.addEventListener("pointerdown",this._pointerDownListener,!0),Ee.addEventListener("click",this._clickListener,!0),Ee.addEventListener("auxclick",this._clickListener,!0),Ee.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(Fe){return new(Fe||ge)(v.LFG(t.K0),v.LFG(m.t4),v.LFG(v.R0b,8))};static#t=this.\u0275prov=v.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"})}return ge})(),Oe=(()=>{class ge{constructor(Ee,Fe){this._platform=Fe,this._document=Ee}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ee="cdk-overlay-container";if(this._platform.isBrowser||(0,m.Oy)()){const ct=this._document.querySelectorAll(`.${Ee}[platform="server"], .${Ee}[platform="test"]`);for(let qe=0;qe<ct.length;qe++)ct[qe].remove()}const Fe=this._document.createElement("div");Fe.classList.add(Ee),(0,m.Oy)()?Fe.setAttribute("platform","test"):this._platform.isBrowser||Fe.setAttribute("platform","server"),this._document.body.appendChild(Fe),this._containerElement=Fe}static#e=this.\u0275fac=function(Fe){return new(Fe||ge)(v.LFG(t.K0),v.LFG(m.t4))};static#t=this.\u0275prov=v.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"})}return ge})();class ie{constructor(Se,Ee,Fe,ct,qe,tt,gt,Qe,yt,Et=!1){this._portalOutlet=Se,this._host=Ee,this._pane=Fe,this._config=ct,this._ngZone=qe,this._keyboardDispatcher=tt,this._document=gt,this._location=Qe,this._outsideClickDispatcher=yt,this._animationsDisabled=Et,this._backdropElement=null,this._backdropClick=new C.x,this._attachments=new C.x,this._detachments=new C.x,this._locationChanges=A.w0.EMPTY,this._backdropClickHandler=me=>this._backdropClick.next(me),this._backdropTransitionendHandler=me=>{this._disposeBackdrop(me.target)},this._keydownEvents=new C.x,this._outsidePointerEvents=new C.x,ct.scrollStrategy&&(this._scrollStrategy=ct.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=ct.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Se){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Ee=this._portalOutlet.attach(Se);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,D.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Ee?.onDestroy&&Ee.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Ee}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Se=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),Se}dispose(){const Se=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,Se&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Se){Se!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Se,this.hasAttached()&&(Se.attach(this),this.updatePosition()))}updateSize(Se){this._config={...this._config,...Se},this._updateElementSize()}setDirection(Se){this._config={...this._config,direction:Se},this._updateElementDirection()}addPanelClass(Se){this._pane&&this._toggleClasses(this._pane,Se,!0)}removePanelClass(Se){this._pane&&this._toggleClasses(this._pane,Se,!1)}getDirection(){const Se=this._config.direction;return Se?"string"==typeof Se?Se:Se.value:"ltr"}updateScrollStrategy(Se){Se!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Se,this.hasAttached()&&(Se.attach(this),Se.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Se=this._pane.style;Se.width=(0,y.HM)(this._config.width),Se.height=(0,y.HM)(this._config.height),Se.minWidth=(0,y.HM)(this._config.minWidth),Se.minHeight=(0,y.HM)(this._config.minHeight),Se.maxWidth=(0,y.HM)(this._config.maxWidth),Se.maxHeight=(0,y.HM)(this._config.maxHeight)}_togglePointerEvents(Se){this._pane.style.pointerEvents=Se?"":"none"}_attachBackdrop(){const Se="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Se)})}):this._backdropElement.classList.add(Se)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const Se=this._backdropElement;if(Se){if(this._animationsDisabled)return void this._disposeBackdrop(Se);Se.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Se.addEventListener("transitionend",this._backdropTransitionendHandler)}),Se.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(Se)},500))}}_toggleClasses(Se,Ee,Fe){const ct=(0,y.Eq)(Ee||[]).filter(qe=>!!qe);ct.length&&(Fe?Se.classList.add(...ct):Se.classList.remove(...ct))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const Se=this._ngZone.onStable.pipe((0,f.R)((0,x.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),Se.unsubscribe())})})}_disposeScrollStrategy(){const Se=this._scrollStrategy;Se&&(Se.disable(),Se.detach&&Se.detach())}_disposeBackdrop(Se){Se&&(Se.removeEventListener("click",this._backdropClickHandler),Se.removeEventListener("transitionend",this._backdropTransitionendHandler),Se.remove(),this._backdropElement===Se&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const ye="cdk-overlay-connected-position-bounding-box",Ce=/([A-Za-z%]+)$/;class de{get positions(){return this._preferredPositions}constructor(Se,Ee,Fe,ct,qe){this._viewportRuler=Ee,this._document=Fe,this._platform=ct,this._overlayContainer=qe,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new C.x,this._resizeSubscription=A.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(Se)}attach(Se){this._validatePositions(),Se.hostElement.classList.add(ye),this._overlayRef=Se,this._boundingBox=Se.hostElement,this._pane=Se.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Se=this._originRect,Ee=this._overlayRect,Fe=this._viewportRect,ct=this._containerRect,qe=[];let tt;for(let gt of this._preferredPositions){let Qe=this._getOriginPoint(Se,ct,gt),yt=this._getOverlayPoint(Qe,Ee,gt),Et=this._getOverlayFit(yt,Ee,Fe,gt);if(Et.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(gt,Qe);this._canFitWithFlexibleDimensions(Et,yt,Fe)?qe.push({position:gt,origin:Qe,overlayRect:Ee,boundingBoxRect:this._calculateBoundingBoxRect(Qe,gt)}):(!tt||tt.overlayFit.visibleArea<Et.visibleArea)&&(tt={overlayFit:Et,overlayPoint:yt,originPoint:Qe,position:gt,overlayRect:Ee})}if(qe.length){let gt=null,Qe=-1;for(const yt of qe){const Et=yt.boundingBoxRect.width*yt.boundingBoxRect.height*(yt.position.weight||1);Et>Qe&&(Qe=Et,gt=yt)}return this._isPushed=!1,void this._applyPosition(gt.position,gt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(tt.position,tt.originPoint);this._applyPosition(tt.position,tt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Me(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ye),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const Se=this._lastPosition;if(Se){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ee=this._getOriginPoint(this._originRect,this._containerRect,Se);this._applyPosition(Se,Ee)}else this.apply()}withScrollableContainers(Se){return this._scrollables=Se,this}withPositions(Se){return this._preferredPositions=Se,-1===Se.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Se){return this._viewportMargin=Se,this}withFlexibleDimensions(Se=!0){return this._hasFlexibleDimensions=Se,this}withGrowAfterOpen(Se=!0){return this._growAfterOpen=Se,this}withPush(Se=!0){return this._canPush=Se,this}withLockedPosition(Se=!0){return this._positionLocked=Se,this}setOrigin(Se){return this._origin=Se,this}withDefaultOffsetX(Se){return this._offsetX=Se,this}withDefaultOffsetY(Se){return this._offsetY=Se,this}withTransformOriginOn(Se){return this._transformOriginSelector=Se,this}_getOriginPoint(Se,Ee,Fe){let ct,qe;if("center"==Fe.originX)ct=Se.left+Se.width/2;else{const tt=this._isRtl()?Se.right:Se.left,gt=this._isRtl()?Se.left:Se.right;ct="start"==Fe.originX?tt:gt}return Ee.left<0&&(ct-=Ee.left),qe="center"==Fe.originY?Se.top+Se.height/2:"top"==Fe.originY?Se.top:Se.bottom,Ee.top<0&&(qe-=Ee.top),{x:ct,y:qe}}_getOverlayPoint(Se,Ee,Fe){let ct,qe;return ct="center"==Fe.overlayX?-Ee.width/2:"start"===Fe.overlayX?this._isRtl()?-Ee.width:0:this._isRtl()?0:-Ee.width,qe="center"==Fe.overlayY?-Ee.height/2:"top"==Fe.overlayY?0:-Ee.height,{x:Se.x+ct,y:Se.y+qe}}_getOverlayFit(Se,Ee,Fe,ct){const qe=Ie(Ee);let{x:tt,y:gt}=Se,Qe=this._getOffset(ct,"x"),yt=this._getOffset(ct,"y");Qe&&(tt+=Qe),yt&&(gt+=yt);let We=0-gt,Tt=gt+qe.height-Fe.height,Kt=this._subtractOverflows(qe.width,0-tt,tt+qe.width-Fe.width),Jt=this._subtractOverflows(qe.height,We,Tt),Xt=Kt*Jt;return{visibleArea:Xt,isCompletelyWithinViewport:qe.width*qe.height===Xt,fitsInViewportVertically:Jt===qe.height,fitsInViewportHorizontally:Kt==qe.width}}_canFitWithFlexibleDimensions(Se,Ee,Fe){if(this._hasFlexibleDimensions){const ct=Fe.bottom-Ee.y,qe=Fe.right-Ee.x,tt=pe(this._overlayRef.getConfig().minHeight),gt=pe(this._overlayRef.getConfig().minWidth);return(Se.fitsInViewportVertically||null!=tt&&tt<=ct)&&(Se.fitsInViewportHorizontally||null!=gt&&gt<=qe)}return!1}_pushOverlayOnScreen(Se,Ee,Fe){if(this._previousPushAmount&&this._positionLocked)return{x:Se.x+this._previousPushAmount.x,y:Se.y+this._previousPushAmount.y};const ct=Ie(Ee),qe=this._viewportRect,tt=Math.max(Se.x+ct.width-qe.width,0),gt=Math.max(Se.y+ct.height-qe.height,0),Qe=Math.max(qe.top-Fe.top-Se.y,0),yt=Math.max(qe.left-Fe.left-Se.x,0);let Et=0,me=0;return Et=ct.width<=qe.width?yt||-tt:Se.x<this._viewportMargin?qe.left-Fe.left-Se.x:0,me=ct.height<=qe.height?Qe||-gt:Se.y<this._viewportMargin?qe.top-Fe.top-Se.y:0,this._previousPushAmount={x:Et,y:me},{x:Se.x+Et,y:Se.y+me}}_applyPosition(Se,Ee){if(this._setTransformOrigin(Se),this._setOverlayElementStyles(Ee,Se),this._setBoundingBoxStyles(Ee,Se),Se.panelClass&&this._addPanelClasses(Se.panelClass),this._lastPosition=Se,this._positionChanges.observers.length){const Fe=this._getScrollVisibility(),ct=new ae(Se,Fe);this._positionChanges.next(ct)}this._isInitialRender=!1}_setTransformOrigin(Se){if(!this._transformOriginSelector)return;const Ee=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Fe,ct=Se.overlayY;Fe="center"===Se.overlayX?"center":this._isRtl()?"start"===Se.overlayX?"right":"left":"start"===Se.overlayX?"left":"right";for(let qe=0;qe<Ee.length;qe++)Ee[qe].style.transformOrigin=`${Fe} ${ct}`}_calculateBoundingBoxRect(Se,Ee){const Fe=this._viewportRect,ct=this._isRtl();let qe,tt,gt,Et,me,We;if("top"===Ee.overlayY)tt=Se.y,qe=Fe.height-tt+this._viewportMargin;else if("bottom"===Ee.overlayY)gt=Fe.height-Se.y+2*this._viewportMargin,qe=Fe.height-gt+this._viewportMargin;else{const Tt=Math.min(Fe.bottom-Se.y+Fe.top,Se.y),Kt=this._lastBoundingBoxSize.height;qe=2*Tt,tt=Se.y-Tt,qe>Kt&&!this._isInitialRender&&!this._growAfterOpen&&(tt=Se.y-Kt/2)}if("end"===Ee.overlayX&&!ct||"start"===Ee.overlayX&&ct)We=Fe.width-Se.x+this._viewportMargin,Et=Se.x-this._viewportMargin;else if("start"===Ee.overlayX&&!ct||"end"===Ee.overlayX&&ct)me=Se.x,Et=Fe.right-Se.x;else{const Tt=Math.min(Fe.right-Se.x+Fe.left,Se.x),Kt=this._lastBoundingBoxSize.width;Et=2*Tt,me=Se.x-Tt,Et>Kt&&!this._isInitialRender&&!this._growAfterOpen&&(me=Se.x-Kt/2)}return{top:tt,left:me,bottom:gt,right:We,width:Et,height:qe}}_setBoundingBoxStyles(Se,Ee){const Fe=this._calculateBoundingBoxRect(Se,Ee);!this._isInitialRender&&!this._growAfterOpen&&(Fe.height=Math.min(Fe.height,this._lastBoundingBoxSize.height),Fe.width=Math.min(Fe.width,this._lastBoundingBoxSize.width));const ct={};if(this._hasExactPosition())ct.top=ct.left="0",ct.bottom=ct.right=ct.maxHeight=ct.maxWidth="",ct.width=ct.height="100%";else{const qe=this._overlayRef.getConfig().maxHeight,tt=this._overlayRef.getConfig().maxWidth;ct.height=(0,y.HM)(Fe.height),ct.top=(0,y.HM)(Fe.top),ct.bottom=(0,y.HM)(Fe.bottom),ct.width=(0,y.HM)(Fe.width),ct.left=(0,y.HM)(Fe.left),ct.right=(0,y.HM)(Fe.right),ct.alignItems="center"===Ee.overlayX?"center":"end"===Ee.overlayX?"flex-end":"flex-start",ct.justifyContent="center"===Ee.overlayY?"center":"bottom"===Ee.overlayY?"flex-end":"flex-start",qe&&(ct.maxHeight=(0,y.HM)(qe)),tt&&(ct.maxWidth=(0,y.HM)(tt))}this._lastBoundingBoxSize=Fe,Me(this._boundingBox.style,ct)}_resetBoundingBoxStyles(){Me(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Me(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Se,Ee){const Fe={},ct=this._hasExactPosition(),qe=this._hasFlexibleDimensions,tt=this._overlayRef.getConfig();if(ct){const Et=this._viewportRuler.getViewportScrollPosition();Me(Fe,this._getExactOverlayY(Ee,Se,Et)),Me(Fe,this._getExactOverlayX(Ee,Se,Et))}else Fe.position="static";let gt="",Qe=this._getOffset(Ee,"x"),yt=this._getOffset(Ee,"y");Qe&&(gt+=`translateX(${Qe}px) `),yt&&(gt+=`translateY(${yt}px)`),Fe.transform=gt.trim(),tt.maxHeight&&(ct?Fe.maxHeight=(0,y.HM)(tt.maxHeight):qe&&(Fe.maxHeight="")),tt.maxWidth&&(ct?Fe.maxWidth=(0,y.HM)(tt.maxWidth):qe&&(Fe.maxWidth="")),Me(this._pane.style,Fe)}_getExactOverlayY(Se,Ee,Fe){let ct={top:"",bottom:""},qe=this._getOverlayPoint(Ee,this._overlayRect,Se);return this._isPushed&&(qe=this._pushOverlayOnScreen(qe,this._overlayRect,Fe)),"bottom"===Se.overlayY?ct.bottom=this._document.documentElement.clientHeight-(qe.y+this._overlayRect.height)+"px":ct.top=(0,y.HM)(qe.y),ct}_getExactOverlayX(Se,Ee,Fe){let tt,ct={left:"",right:""},qe=this._getOverlayPoint(Ee,this._overlayRect,Se);return this._isPushed&&(qe=this._pushOverlayOnScreen(qe,this._overlayRect,Fe)),tt=this._isRtl()?"end"===Se.overlayX?"left":"right":"end"===Se.overlayX?"right":"left","right"===tt?ct.right=this._document.documentElement.clientWidth-(qe.x+this._overlayRect.width)+"px":ct.left=(0,y.HM)(qe.x),ct}_getScrollVisibility(){const Se=this._getOriginRect(),Ee=this._pane.getBoundingClientRect(),Fe=this._scrollables.map(ct=>ct.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:B(Se,Fe),isOriginOutsideView:b(Se,Fe),isOverlayClipped:B(Ee,Fe),isOverlayOutsideView:b(Ee,Fe)}}_subtractOverflows(Se,...Ee){return Ee.reduce((Fe,ct)=>Fe-Math.max(ct,0),Se)}_getNarrowedViewportRect(){const Se=this._document.documentElement.clientWidth,Ee=this._document.documentElement.clientHeight,Fe=this._viewportRuler.getViewportScrollPosition();return{top:Fe.top+this._viewportMargin,left:Fe.left+this._viewportMargin,right:Fe.left+Se-this._viewportMargin,bottom:Fe.top+Ee-this._viewportMargin,width:Se-2*this._viewportMargin,height:Ee-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Se,Ee){return"x"===Ee?null==Se.offsetX?this._offsetX:Se.offsetX:null==Se.offsetY?this._offsetY:Se.offsetY}_validatePositions(){}_addPanelClasses(Se){this._pane&&(0,y.Eq)(Se).forEach(Ee=>{""!==Ee&&-1===this._appliedPanelClasses.indexOf(Ee)&&(this._appliedPanelClasses.push(Ee),this._pane.classList.add(Ee))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Se=>{this._pane.classList.remove(Se)}),this._appliedPanelClasses=[])}_getOriginRect(){const Se=this._origin;if(Se instanceof v.SBq)return Se.nativeElement.getBoundingClientRect();if(Se instanceof Element)return Se.getBoundingClientRect();const Ee=Se.width||0,Fe=Se.height||0;return{top:Se.y,bottom:Se.y+Fe,left:Se.x,right:Se.x+Ee,height:Fe,width:Ee}}}function Me(ge,Se){for(let Ee in Se)Se.hasOwnProperty(Ee)&&(ge[Ee]=Se[Ee]);return ge}function pe(ge){if("number"!=typeof ge&&null!=ge){const[Se,Ee]=ge.split(Ce);return Ee&&"px"!==Ee?null:parseFloat(Se)}return ge||null}function Ie(ge){return{top:Math.floor(ge.top),right:Math.floor(ge.right),bottom:Math.floor(ge.bottom),left:Math.floor(ge.left),width:Math.floor(ge.width),height:Math.floor(ge.height)}}const Xe="cdk-global-overlay-wrapper";class je{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(Se){const Ee=Se.getConfig();this._overlayRef=Se,this._width&&!Ee.width&&Se.updateSize({width:this._width}),this._height&&!Ee.height&&Se.updateSize({height:this._height}),Se.hostElement.classList.add(Xe),this._isDisposed=!1}top(Se=""){return this._bottomOffset="",this._topOffset=Se,this._alignItems="flex-start",this}left(Se=""){return this._xOffset=Se,this._xPosition="left",this}bottom(Se=""){return this._topOffset="",this._bottomOffset=Se,this._alignItems="flex-end",this}right(Se=""){return this._xOffset=Se,this._xPosition="right",this}start(Se=""){return this._xOffset=Se,this._xPosition="start",this}end(Se=""){return this._xOffset=Se,this._xPosition="end",this}width(Se=""){return this._overlayRef?this._overlayRef.updateSize({width:Se}):this._width=Se,this}height(Se=""){return this._overlayRef?this._overlayRef.updateSize({height:Se}):this._height=Se,this}centerHorizontally(Se=""){return this.left(Se),this._xPosition="center",this}centerVertically(Se=""){return this.top(Se),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Se=this._overlayRef.overlayElement.style,Ee=this._overlayRef.hostElement.style,Fe=this._overlayRef.getConfig(),{width:ct,height:qe,maxWidth:tt,maxHeight:gt}=Fe,Qe=!("100%"!==ct&&"100vw"!==ct||tt&&"100%"!==tt&&"100vw"!==tt),yt=!("100%"!==qe&&"100vh"!==qe||gt&&"100%"!==gt&&"100vh"!==gt),Et=this._xPosition,me=this._xOffset,We="rtl"===this._overlayRef.getConfig().direction;let Tt="",Kt="",Jt="";Qe?Jt="flex-start":"center"===Et?(Jt="center",We?Kt=me:Tt=me):We?"left"===Et||"end"===Et?(Jt="flex-end",Tt=me):("right"===Et||"start"===Et)&&(Jt="flex-start",Kt=me):"left"===Et||"start"===Et?(Jt="flex-start",Tt=me):("right"===Et||"end"===Et)&&(Jt="flex-end",Kt=me),Se.position=this._cssPosition,Se.marginLeft=Qe?"0":Tt,Se.marginTop=yt?"0":this._topOffset,Se.marginBottom=this._bottomOffset,Se.marginRight=Qe?"0":Kt,Ee.justifyContent=Jt,Ee.alignItems=yt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Se=this._overlayRef.overlayElement.style,Ee=this._overlayRef.hostElement,Fe=Ee.style;Ee.classList.remove(Xe),Fe.justifyContent=Fe.alignItems=Se.marginTop=Se.marginBottom=Se.marginLeft=Se.marginRight=Se.position="",this._overlayRef=null,this._isDisposed=!0}}let Ne=(()=>{class ge{constructor(Ee,Fe,ct,qe){this._viewportRuler=Ee,this._document=Fe,this._platform=ct,this._overlayContainer=qe}global(){return new je}flexibleConnectedTo(Ee){return new de(Ee,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(Fe){return new(Fe||ge)(v.LFG(e.rL),v.LFG(t.K0),v.LFG(m.t4),v.LFG(Oe))};static#t=this.\u0275prov=v.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"})}return ge})(),ee=0,fe=(()=>{class ge{constructor(Ee,Fe,ct,qe,tt,gt,Qe,yt,Et,me,We,Tt){this.scrollStrategies=Ee,this._overlayContainer=Fe,this._componentFactoryResolver=ct,this._positionBuilder=qe,this._keyboardDispatcher=tt,this._injector=gt,this._ngZone=Qe,this._document=yt,this._directionality=Et,this._location=me,this._outsideClickDispatcher=We,this._animationsModuleType=Tt}create(Ee){const Fe=this._createHostElement(),ct=this._createPaneElement(Fe),qe=this._createPortalOutlet(ct),tt=new le(Ee);return tt.direction=tt.direction||this._directionality.value,new ie(qe,Fe,ct,tt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(Ee){const Fe=this._document.createElement("div");return Fe.id="cdk-overlay-"+ee++,Fe.classList.add("cdk-overlay-pane"),Ee.appendChild(Fe),Fe}_createHostElement(){const Ee=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Ee),Ee}_createPortalOutlet(Ee){return this._appRef||(this._appRef=this._injector.get(v.z2F)),new p.u0(Ee,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(Fe){return new(Fe||ge)(v.LFG(oe),v.LFG(Oe),v.LFG(v._Vd),v.LFG(Ne),v.LFG(Te),v.LFG(v.zs3),v.LFG(v.R0b),v.LFG(t.K0),v.LFG(h.Is),v.LFG(t.Ye),v.LFG(be),v.LFG(v.QbO,8))};static#t=this.\u0275prov=v.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"})}return ge})();const we=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],q=new v.OlP("cdk-connected-overlay-scroll-strategy");let $=(()=>{class ge{constructor(Ee){this.elementRef=Ee}static#e=this.\u0275fac=function(Fe){return new(Fe||ge)(v.Y36(v.SBq))};static#t=this.\u0275dir=v.lG2({type:ge,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return ge})(),Q=(()=>{class ge{get offsetX(){return this._offsetX}set offsetX(Ee){this._offsetX=Ee,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(Ee){this._offsetY=Ee,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(Ee){this._hasBackdrop=(0,y.Ig)(Ee)}get lockPosition(){return this._lockPosition}set lockPosition(Ee){this._lockPosition=(0,y.Ig)(Ee)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(Ee){this._flexibleDimensions=(0,y.Ig)(Ee)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(Ee){this._growAfterOpen=(0,y.Ig)(Ee)}get push(){return this._push}set push(Ee){this._push=(0,y.Ig)(Ee)}constructor(Ee,Fe,ct,qe,tt){this._overlay=Ee,this._dir=tt,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=A.w0.EMPTY,this._attachSubscription=A.w0.EMPTY,this._detachSubscription=A.w0.EMPTY,this._positionSubscription=A.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new v.vpe,this.positionChange=new v.vpe,this.attach=new v.vpe,this.detach=new v.vpe,this.overlayKeydown=new v.vpe,this.overlayOutsideClick=new v.vpe,this._templatePortal=new p.UE(Fe,ct),this._scrollStrategyFactory=qe,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(Ee){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),Ee.origin&&this.open&&this._position.apply()),Ee.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=we);const Ee=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=Ee.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=Ee.detachments().subscribe(()=>this.detach.emit()),Ee.keydownEvents().subscribe(Fe=>{this.overlayKeydown.next(Fe),Fe.keyCode===R.hY&&!this.disableClose&&!(0,R.Vb)(Fe)&&(Fe.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Fe=>{this.overlayOutsideClick.next(Fe)})}_buildConfig(){const Ee=this._position=this.positionStrategy||this._createPositionStrategy(),Fe=new le({direction:this._dir,positionStrategy:Ee,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(Fe.width=this.width),(this.height||0===this.height)&&(Fe.height=this.height),(this.minWidth||0===this.minWidth)&&(Fe.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Fe.minHeight=this.minHeight),this.backdropClass&&(Fe.backdropClass=this.backdropClass),this.panelClass&&(Fe.panelClass=this.panelClass),Fe}_updatePositionStrategy(Ee){const Fe=this.positions.map(ct=>({originX:ct.originX,originY:ct.originY,overlayX:ct.overlayX,overlayY:ct.overlayY,offsetX:ct.offsetX||this.offsetX,offsetY:ct.offsetY||this.offsetY,panelClass:ct.panelClass||void 0}));return Ee.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(Fe).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const Ee=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(Ee),Ee}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof $?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(Ee=>{this.backdropClick.emit(Ee)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function d(ge,Se=!1){return(0,i.e)((Ee,Fe)=>{let ct=0;Ee.subscribe((0,c.x)(Fe,qe=>{const tt=ge(qe,ct++);(tt||Se)&&Fe.next(qe),!tt&&Fe.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(Ee=>{this.positionChange.emit(Ee),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(Fe){return new(Fe||ge)(v.Y36(fe),v.Y36(v.Rgc),v.Y36(v.s_b),v.Y36(q),v.Y36(h.Is,8))};static#t=this.\u0275dir=v.lG2({type:ge,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[v.TTD]})}return ge})();const X={provide:q,deps:[fe],useFactory:function ne(ge){return()=>ge.scrollStrategies.reposition()}};let re=(()=>{class ge{static#e=this.\u0275fac=function(Fe){return new(Fe||ge)};static#t=this.\u0275mod=v.oAB({type:ge});static#n=this.\u0275inj=v.cJS({providers:[fe,X],imports:[h.vT,p.eL,e.Cl,e.Cl]})}return ge})()},2831:(Wn,Je,g)=>{"use strict";g.d(Je,{Mq:()=>C,Oy:()=>E,ht:()=>S,i$:()=>d,kV:()=>O,qK:()=>f,sA:()=>I,t4:()=>y});var e=g(5879),t=g(6814);let v;try{v=typeof Intl<"u"&&Intl.v8BreakIterator}catch{v=!1}let P,y=(()=>{class L{constructor(B){this._platformId=B,this.isBrowser=this._platformId?(0,t.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!v)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Z){return new(Z||L)(e.LFG(e.Lbi))};static#t=this.\u0275prov=e.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})();const D=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function f(){if(P)return P;if("object"!=typeof document||!document)return P=new Set(D),P;let L=document.createElement("input");return P=new Set(D.filter(b=>(L.setAttribute("type",b),L.type===b))),P}let i,p,x;function d(L){return function c(){if(null==i&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>i=!0}))}finally{i=i||!1}return i}()?L:!!L.capture}function C(){if(null==p){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return p=!1,p;if("scrollBehavior"in document.documentElement.style)p=!0;else{const L=Element.prototype.scrollTo;p=!!L&&!/\{\s*\[native code\]\s*\}/.test(L.toString())}}return p}function O(L){if(function R(){if(null==x){const L=typeof document<"u"?document.head:null;x=!(!L||!L.createShadowRoot&&!L.attachShadow)}return x}()){const b=L.getRootNode?L.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&b instanceof ShadowRoot)return b}return null}function S(){let L=typeof document<"u"&&document?document.activeElement:null;for(;L&&L.shadowRoot;){const b=L.shadowRoot.activeElement;if(b===L)break;L=b}return L}function I(L){return L.composedPath?L.composedPath()[0]:L.target}function E(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8484:(Wn,Je,g)=>{"use strict";g.d(Je,{C5:()=>c,Pl:()=>S,UE:()=>d,eL:()=>E,en:()=>p,u0:()=>A});var e=g(5879),t=g(6814);class i{attach(B){return this._attachedHost=B,B.attach(this)}detach(){let B=this._attachedHost;null!=B&&(this._attachedHost=null,B.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(B){this._attachedHost=B}}class c extends i{constructor(B,Z,oe,le,Re){super(),this.component=B,this.viewContainerRef=Z,this.injector=oe,this.componentFactoryResolver=le,this.projectableNodes=Re}}class d extends i{constructor(B,Z,oe,le){super(),this.templateRef=B,this.viewContainerRef=Z,this.context=oe,this.injector=le}get origin(){return this.templateRef.elementRef}attach(B,Z=this.context){return this.context=Z,super.attach(B)}detach(){return this.context=void 0,super.detach()}}class h extends i{constructor(B){super(),this.element=B instanceof e.SBq?B.nativeElement:B}}class p{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(B){return B instanceof c?(this._attachedPortal=B,this.attachComponentPortal(B)):B instanceof d?(this._attachedPortal=B,this.attachTemplatePortal(B)):this.attachDomPortal&&B instanceof h?(this._attachedPortal=B,this.attachDomPortal(B)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(B){this._disposeFn=B}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class A extends p{constructor(B,Z,oe,le,Re){super(),this.outletElement=B,this._componentFactoryResolver=Z,this._appRef=oe,this._defaultInjector=le,this.attachDomPortal=Y=>{const ae=Y.element,G=this._document.createComment("dom-portal");ae.parentNode.insertBefore(G,ae),this.outletElement.appendChild(ae),this._attachedPortal=Y,super.setDisposeFn(()=>{G.parentNode&&G.parentNode.replaceChild(ae,G)})},this._document=Re}attachComponentPortal(B){const oe=(B.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(B.component);let le;return B.viewContainerRef?(le=B.viewContainerRef.createComponent(oe,B.viewContainerRef.length,B.injector||B.viewContainerRef.injector,B.projectableNodes||void 0),this.setDisposeFn(()=>le.destroy())):(le=oe.create(B.injector||this._defaultInjector||e.zs3.NULL),this._appRef.attachView(le.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(le.hostView),le.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(le)),this._attachedPortal=B,le}attachTemplatePortal(B){let Z=B.viewContainerRef,oe=Z.createEmbeddedView(B.templateRef,B.context,{injector:B.injector});return oe.rootNodes.forEach(le=>this.outletElement.appendChild(le)),oe.detectChanges(),this.setDisposeFn(()=>{let le=Z.indexOf(oe);-1!==le&&Z.remove(le)}),this._attachedPortal=B,oe}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(B){return B.hostView.rootNodes[0]}}let S=(()=>{class b extends p{constructor(Z,oe,le){super(),this._componentFactoryResolver=Z,this._viewContainerRef=oe,this._isInitialized=!1,this.attached=new e.vpe,this.attachDomPortal=Re=>{const Y=Re.element,ae=this._document.createComment("dom-portal");Re.setAttachedHost(this),Y.parentNode.insertBefore(ae,Y),this._getRootNode().appendChild(Y),this._attachedPortal=Re,super.setDisposeFn(()=>{ae.parentNode&&ae.parentNode.replaceChild(Y,ae)})},this._document=le}get portal(){return this._attachedPortal}set portal(Z){this.hasAttached()&&!Z&&!this._isInitialized||(this.hasAttached()&&super.detach(),Z&&super.attach(Z),this._attachedPortal=Z||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(Z){Z.setAttachedHost(this);const oe=null!=Z.viewContainerRef?Z.viewContainerRef:this._viewContainerRef,Re=(Z.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Z.component),Y=oe.createComponent(Re,oe.length,Z.injector||oe.injector,Z.projectableNodes||void 0);return oe!==this._viewContainerRef&&this._getRootNode().appendChild(Y.hostView.rootNodes[0]),super.setDisposeFn(()=>Y.destroy()),this._attachedPortal=Z,this._attachedRef=Y,this.attached.emit(Y),Y}attachTemplatePortal(Z){Z.setAttachedHost(this);const oe=this._viewContainerRef.createEmbeddedView(Z.templateRef,Z.context,{injector:Z.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Z,this._attachedRef=oe,this.attached.emit(oe),oe}_getRootNode(){const Z=this._viewContainerRef.element.nativeElement;return Z.nodeType===Z.ELEMENT_NODE?Z:Z.parentNode}static#e=this.\u0275fac=function(oe){return new(oe||b)(e.Y36(e._Vd),e.Y36(e.s_b),e.Y36(t.K0))};static#t=this.\u0275dir=e.lG2({type:b,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[e.qOj]})}return b})(),E=(()=>{class b{static#e=this.\u0275fac=function(oe){return new(oe||b)};static#t=this.\u0275mod=e.oAB({type:b});static#n=this.\u0275inj=e.cJS({})}return b})()},799:(Wn,Je,g)=>{"use strict";g.d(Je,{ZD:()=>ge,mF:()=>Xe,Cl:()=>Se,rL:()=>ee});var e=g(2495),t=g(5879),v=g(8645),y=g(2096),m=g(5592),P=g(2438),D=g(1954),f=g(7394);const i={schedule(Ee){let Fe=requestAnimationFrame,ct=cancelAnimationFrame;const{delegate:qe}=i;qe&&(Fe=qe.requestAnimationFrame,ct=qe.cancelAnimationFrame);const tt=Fe(gt=>{ct=void 0,Ee(gt)});return new f.w0(()=>ct?.(tt))},requestAnimationFrame(...Ee){const{delegate:Fe}=i;return(Fe?.requestAnimationFrame||requestAnimationFrame)(...Ee)},cancelAnimationFrame(...Ee){const{delegate:Fe}=i;return(Fe?.cancelAnimationFrame||cancelAnimationFrame)(...Ee)},delegate:void 0};var d=g(2631);new class h extends d.v{flush(Fe){this._active=!0;const ct=this._scheduled;this._scheduled=void 0;const{actions:qe}=this;let tt;Fe=Fe||qe.shift();do{if(tt=Fe.execute(Fe.state,Fe.delay))break}while((Fe=qe[0])&&Fe.id===ct&&qe.shift());if(this._active=!1,tt){for(;(Fe=qe[0])&&Fe.id===ct&&qe.shift();)Fe.unsubscribe();throw tt}}}(class c extends D.o{constructor(Fe,ct){super(Fe,ct),this.scheduler=Fe,this.work=ct}requestAsyncId(Fe,ct,qe=0){return null!==qe&&qe>0?super.requestAsyncId(Fe,ct,qe):(Fe.actions.push(this),Fe._scheduled||(Fe._scheduled=i.requestAnimationFrame(()=>Fe.flush(void 0))))}recycleAsyncId(Fe,ct,qe=0){var tt;if(null!=qe?qe>0:this.delay>0)return super.recycleAsyncId(Fe,ct,qe);const{actions:gt}=Fe;null!=ct&&(null===(tt=gt[gt.length-1])||void 0===tt?void 0:tt.id)!==ct&&(i.cancelAnimationFrame(ct),Fe._scheduled=void 0)}});let x,A=1;const R={};function O(Ee){return Ee in R&&(delete R[Ee],!0)}const S={setImmediate(Ee){const Fe=A++;return R[Fe]=!0,x||(x=Promise.resolve()),x.then(()=>O(Fe)&&Ee()),Fe},clearImmediate(Ee){O(Ee)}},{setImmediate:E,clearImmediate:L}=S,b={setImmediate(...Ee){const{delegate:Fe}=b;return(Fe?.setImmediate||E)(...Ee)},clearImmediate(Ee){const{delegate:Fe}=b;return(Fe?.clearImmediate||L)(Ee)},delegate:void 0};new class Z extends d.v{flush(Fe){this._active=!0;const ct=this._scheduled;this._scheduled=void 0;const{actions:qe}=this;let tt;Fe=Fe||qe.shift();do{if(tt=Fe.execute(Fe.state,Fe.delay))break}while((Fe=qe[0])&&Fe.id===ct&&qe.shift());if(this._active=!1,tt){for(;(Fe=qe[0])&&Fe.id===ct&&qe.shift();)Fe.unsubscribe();throw tt}}}(class B extends D.o{constructor(Fe,ct){super(Fe,ct),this.scheduler=Fe,this.work=ct}requestAsyncId(Fe,ct,qe=0){return null!==qe&&qe>0?super.requestAsyncId(Fe,ct,qe):(Fe.actions.push(this),Fe._scheduled||(Fe._scheduled=b.setImmediate(Fe.flush.bind(Fe,void 0))))}recycleAsyncId(Fe,ct,qe=0){var tt;if(null!=qe?qe>0:this.delay>0)return super.recycleAsyncId(Fe,ct,qe);const{actions:gt}=Fe;null!=ct&&(null===(tt=gt[gt.length-1])||void 0===tt?void 0:tt.id)!==ct&&(b.clearImmediate(ct),Fe._scheduled===ct&&(Fe._scheduled=void 0))}});var Re=g(6321),Y=g(9360),ae=g(4829),G=g(8251),ce=g(4825);function Te(Ee,Fe=Re.z){return function De(Ee){return(0,Y.e)((Fe,ct)=>{let qe=!1,tt=null,gt=null,Qe=!1;const yt=()=>{if(gt?.unsubscribe(),gt=null,qe){qe=!1;const me=tt;tt=null,ct.next(me)}Qe&&ct.complete()},Et=()=>{gt=null,Qe&&ct.complete()};Fe.subscribe((0,G.x)(ct,me=>{qe=!0,tt=me,gt||(0,ae.Xf)(Ee(me)).subscribe(gt=(0,G.x)(ct,yt,Et))},()=>{Qe=!0,(!qe||!gt||gt.closed)&&ct.complete()}))})}(()=>(0,ce.H)(Ee,Fe))}var be=g(2181),Oe=g(2831),ie=g(6814),ye=g(9388);let Xe=(()=>{class Ee{constructor(ct,qe,tt){this._ngZone=ct,this._platform=qe,this._scrolled=new v.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=tt}register(ct){this.scrollContainers.has(ct)||this.scrollContainers.set(ct,ct.elementScrolled().subscribe(()=>this._scrolled.next(ct)))}deregister(ct){const qe=this.scrollContainers.get(ct);qe&&(qe.unsubscribe(),this.scrollContainers.delete(ct))}scrolled(ct=20){return this._platform.isBrowser?new m.y(qe=>{this._globalSubscription||this._addGlobalListener();const tt=ct>0?this._scrolled.pipe(Te(ct)).subscribe(qe):this._scrolled.subscribe(qe);return this._scrolledCount++,()=>{tt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,y.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ct,qe)=>this.deregister(qe)),this._scrolled.complete()}ancestorScrolled(ct,qe){const tt=this.getAncestorScrollContainers(ct);return this.scrolled(qe).pipe((0,be.h)(gt=>!gt||tt.indexOf(gt)>-1))}getAncestorScrollContainers(ct){const qe=[];return this.scrollContainers.forEach((tt,gt)=>{this._scrollableContainsElement(gt,ct)&&qe.push(gt)}),qe}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ct,qe){let tt=(0,e.fI)(qe),gt=ct.getElementRef().nativeElement;do{if(tt==gt)return!0}while(tt=tt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ct=this._getWindow();return(0,P.R)(ct.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(qe){return new(qe||Ee)(t.LFG(t.R0b),t.LFG(Oe.t4),t.LFG(ie.K0,8))};static#t=this.\u0275prov=t.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})(),ee=(()=>{class Ee{constructor(ct,qe,tt){this._platform=ct,this._change=new v.x,this._changeListener=gt=>{this._change.next(gt)},this._document=tt,qe.runOutsideAngular(()=>{if(ct.isBrowser){const gt=this._getWindow();gt.addEventListener("resize",this._changeListener),gt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ct=this._getWindow();ct.removeEventListener("resize",this._changeListener),ct.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ct={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ct}getViewportRect(){const ct=this.getViewportScrollPosition(),{width:qe,height:tt}=this.getViewportSize();return{top:ct.top,left:ct.left,bottom:ct.top+tt,right:ct.left+qe,height:tt,width:qe}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ct=this._document,qe=this._getWindow(),tt=ct.documentElement,gt=tt.getBoundingClientRect();return{top:-gt.top||ct.body.scrollTop||qe.scrollY||tt.scrollTop||0,left:-gt.left||ct.body.scrollLeft||qe.scrollX||tt.scrollLeft||0}}change(ct=20){return ct>0?this._change.pipe(Te(ct)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ct=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ct.innerWidth,height:ct.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(qe){return new(qe||Ee)(t.LFG(Oe.t4),t.LFG(t.R0b),t.LFG(ie.K0,8))};static#t=this.\u0275prov=t.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})(),ge=(()=>{class Ee{static#e=this.\u0275fac=function(qe){return new(qe||Ee)};static#t=this.\u0275mod=t.oAB({type:Ee});static#n=this.\u0275inj=t.cJS({})}return Ee})(),Se=(()=>{class Ee{static#e=this.\u0275fac=function(qe){return new(qe||Ee)};static#t=this.\u0275mod=t.oAB({type:Ee});static#n=this.\u0275inj=t.cJS({imports:[ye.vT,ge,ye.vT,ge]})}return Ee})()},6814:(Wn,Je,g)=>{"use strict";g.d(Je,{Do:()=>x,ED:()=>Zr,EM:()=>Ws,HT:()=>y,JF:()=>Kr,K0:()=>P,Mn:()=>De,Mx:()=>kt,NF:()=>ss,O5:()=>Bt,Ov:()=>os,PM:()=>as,RF:()=>vi,S$:()=>p,Tn:()=>oe,UT:()=>ce,V_:()=>f,Ye:()=>R,ax:()=>Ft,b0:()=>A,bD:()=>ko,ez:()=>Lo,mk:()=>en,mr:()=>C,n9:()=>vr,p6:()=>Fe,q:()=>v,sg:()=>Ft,tP:()=>Do,uU:()=>Pr,w_:()=>m,x:()=>Z});var e=g(5879);let t=null;function v(){return t}function y(ze){t||(t=ze)}class m{}const P=new e.OlP("DocumentToken");let D=(()=>{class ze{historyGo(mt){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Vt){return new(Vt||ze)};static#t=this.\u0275prov=e.Yz7({token:ze,factory:function(){return(0,e.f3M)(i)},providedIn:"platform"})}return ze})();const f=new e.OlP("Location Initialized");let i=(()=>{class ze extends D{constructor(){super(),this._doc=(0,e.f3M)(P),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return v().getBaseHref(this._doc)}onPopState(mt){const Vt=v().getGlobalEventTarget(this._doc,"window");return Vt.addEventListener("popstate",mt,!1),()=>Vt.removeEventListener("popstate",mt)}onHashChange(mt){const Vt=v().getGlobalEventTarget(this._doc,"window");return Vt.addEventListener("hashchange",mt,!1),()=>Vt.removeEventListener("hashchange",mt)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(mt){this._location.pathname=mt}pushState(mt,Vt,Cn){this._history.pushState(mt,Vt,Cn)}replaceState(mt,Vt,Cn){this._history.replaceState(mt,Vt,Cn)}forward(){this._history.forward()}back(){this._history.back()}historyGo(mt=0){this._history.go(mt)}getState(){return this._history.state}static#e=this.\u0275fac=function(Vt){return new(Vt||ze)};static#t=this.\u0275prov=e.Yz7({token:ze,factory:function(){return new ze},providedIn:"platform"})}return ze})();function c(ze,Yt){if(0==ze.length)return Yt;if(0==Yt.length)return ze;let mt=0;return ze.endsWith("/")&&mt++,Yt.startsWith("/")&&mt++,2==mt?ze+Yt.substring(1):1==mt?ze+Yt:ze+"/"+Yt}function d(ze){const Yt=ze.match(/#|\?|$/),mt=Yt&&Yt.index||ze.length;return ze.slice(0,mt-("/"===ze[mt-1]?1:0))+ze.slice(mt)}function h(ze){return ze&&"?"!==ze[0]?"?"+ze:ze}let p=(()=>{class ze{historyGo(mt){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Vt){return new(Vt||ze)};static#t=this.\u0275prov=e.Yz7({token:ze,factory:function(){return(0,e.f3M)(A)},providedIn:"root"})}return ze})();const C=new e.OlP("appBaseHref");let A=(()=>{class ze extends p{constructor(mt,Vt){super(),this._platformLocation=mt,this._removeListenerFns=[],this._baseHref=Vt??this._platformLocation.getBaseHrefFromDOM()??(0,e.f3M)(P).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(mt){this._removeListenerFns.push(this._platformLocation.onPopState(mt),this._platformLocation.onHashChange(mt))}getBaseHref(){return this._baseHref}prepareExternalUrl(mt){return c(this._baseHref,mt)}path(mt=!1){const Vt=this._platformLocation.pathname+h(this._platformLocation.search),Cn=this._platformLocation.hash;return Cn&&mt?`${Vt}${Cn}`:Vt}pushState(mt,Vt,Cn,zn){const ai=this.prepareExternalUrl(Cn+h(zn));this._platformLocation.pushState(mt,Vt,ai)}replaceState(mt,Vt,Cn,zn){const ai=this.prepareExternalUrl(Cn+h(zn));this._platformLocation.replaceState(mt,Vt,ai)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(mt=0){this._platformLocation.historyGo?.(mt)}static#e=this.\u0275fac=function(Vt){return new(Vt||ze)(e.LFG(D),e.LFG(C,8))};static#t=this.\u0275prov=e.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"})}return ze})(),x=(()=>{class ze extends p{constructor(mt,Vt){super(),this._platformLocation=mt,this._baseHref="",this._removeListenerFns=[],null!=Vt&&(this._baseHref=Vt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(mt){this._removeListenerFns.push(this._platformLocation.onPopState(mt),this._platformLocation.onHashChange(mt))}getBaseHref(){return this._baseHref}path(mt=!1){let Vt=this._platformLocation.hash;return null==Vt&&(Vt="#"),Vt.length>0?Vt.substring(1):Vt}prepareExternalUrl(mt){const Vt=c(this._baseHref,mt);return Vt.length>0?"#"+Vt:Vt}pushState(mt,Vt,Cn,zn){let ai=this.prepareExternalUrl(Cn+h(zn));0==ai.length&&(ai=this._platformLocation.pathname),this._platformLocation.pushState(mt,Vt,ai)}replaceState(mt,Vt,Cn,zn){let ai=this.prepareExternalUrl(Cn+h(zn));0==ai.length&&(ai=this._platformLocation.pathname),this._platformLocation.replaceState(mt,Vt,ai)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(mt=0){this._platformLocation.historyGo?.(mt)}static#e=this.\u0275fac=function(Vt){return new(Vt||ze)(e.LFG(D),e.LFG(C,8))};static#t=this.\u0275prov=e.Yz7({token:ze,factory:ze.\u0275fac})}return ze})(),R=(()=>{class ze{constructor(mt){this._subject=new e.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=mt;const Vt=this._locationStrategy.getBaseHref();this._basePath=function E(ze){if(new RegExp("^(https?:)?//").test(ze)){const[,mt]=ze.split(/\/\/[^\/]+/);return mt}return ze}(d(I(Vt))),this._locationStrategy.onPopState(Cn=>{this._subject.emit({url:this.path(!0),pop:!0,state:Cn.state,type:Cn.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(mt=!1){return this.normalize(this._locationStrategy.path(mt))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(mt,Vt=""){return this.path()==this.normalize(mt+h(Vt))}normalize(mt){return ze.stripTrailingSlash(function S(ze,Yt){if(!ze||!Yt.startsWith(ze))return Yt;const mt=Yt.substring(ze.length);return""===mt||["/",";","?","#"].includes(mt[0])?mt:Yt}(this._basePath,I(mt)))}prepareExternalUrl(mt){return mt&&"/"!==mt[0]&&(mt="/"+mt),this._locationStrategy.prepareExternalUrl(mt)}go(mt,Vt="",Cn=null){this._locationStrategy.pushState(Cn,"",mt,Vt),this._notifyUrlChangeListeners(this.prepareExternalUrl(mt+h(Vt)),Cn)}replaceState(mt,Vt="",Cn=null){this._locationStrategy.replaceState(Cn,"",mt,Vt),this._notifyUrlChangeListeners(this.prepareExternalUrl(mt+h(Vt)),Cn)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(mt=0){this._locationStrategy.historyGo?.(mt)}onUrlChange(mt){return this._urlChangeListeners.push(mt),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Vt=>{this._notifyUrlChangeListeners(Vt.url,Vt.state)})),()=>{const Vt=this._urlChangeListeners.indexOf(mt);this._urlChangeListeners.splice(Vt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(mt="",Vt){this._urlChangeListeners.forEach(Cn=>Cn(mt,Vt))}subscribe(mt,Vt,Cn){return this._subject.subscribe({next:mt,error:Vt,complete:Cn})}static#e=this.normalizeQueryParams=h;static#t=this.joinWithSlash=c;static#n=this.stripTrailingSlash=d;static#i=this.\u0275fac=function(Vt){return new(Vt||ze)(e.LFG(p))};static#r=this.\u0275prov=e.Yz7({token:ze,factory:function(){return function O(){return new R((0,e.LFG)(p))}()},providedIn:"root"})}return ze})();function I(ze){return ze.replace(/\/index.html$/,"")}var Z=function(ze){return ze[ze.Format=0]="Format",ze[ze.Standalone=1]="Standalone",ze}(Z||{}),oe=function(ze){return ze[ze.Narrow=0]="Narrow",ze[ze.Abbreviated=1]="Abbreviated",ze[ze.Wide=2]="Wide",ze[ze.Short=3]="Short",ze}(oe||{}),le=function(ze){return ze[ze.Short=0]="Short",ze[ze.Medium=1]="Medium",ze[ze.Long=2]="Long",ze[ze.Full=3]="Full",ze}(le||{}),Re=function(ze){return ze[ze.Decimal=0]="Decimal",ze[ze.Group=1]="Group",ze[ze.List=2]="List",ze[ze.PercentSign=3]="PercentSign",ze[ze.PlusSign=4]="PlusSign",ze[ze.MinusSign=5]="MinusSign",ze[ze.Exponential=6]="Exponential",ze[ze.SuperscriptingExponent=7]="SuperscriptingExponent",ze[ze.PerMille=8]="PerMille",ze[ze.Infinity=9]="Infinity",ze[ze.NaN=10]="NaN",ze[ze.TimeSeparator=11]="TimeSeparator",ze[ze.CurrencyDecimal=12]="CurrencyDecimal",ze[ze.CurrencyGroup=13]="CurrencyGroup",ze}(Re||{});function De(ze,Yt,mt){const Vt=(0,e.cg1)(ze),zn=we([Vt[e.wAp.DaysFormat],Vt[e.wAp.DaysStandalone]],Yt);return we(zn,mt)}function ce(ze,Yt,mt){const Vt=(0,e.cg1)(ze),zn=we([Vt[e.wAp.MonthsFormat],Vt[e.wAp.MonthsStandalone]],Yt);return we(zn,mt)}function ie(ze,Yt){return we((0,e.cg1)(ze)[e.wAp.DateFormat],Yt)}function ye(ze,Yt){return we((0,e.cg1)(ze)[e.wAp.TimeFormat],Yt)}function Ce(ze,Yt){return we((0,e.cg1)(ze)[e.wAp.DateTimeFormat],Yt)}function de(ze,Yt){const mt=(0,e.cg1)(ze),Vt=mt[e.wAp.NumberSymbols][Yt];if(typeof Vt>"u"){if(Yt===Re.CurrencyDecimal)return mt[e.wAp.NumberSymbols][Re.Decimal];if(Yt===Re.CurrencyGroup)return mt[e.wAp.NumberSymbols][Re.Group]}return Vt}function je(ze){if(!ze[e.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${ze[e.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function we(ze,Yt){for(let mt=Yt;mt>-1;mt--)if(typeof ze[mt]<"u")return ze[mt];throw new Error("Locale data API: locale data undefined")}function q(ze){const[Yt,mt]=ze.split(":");return{hours:+Yt,minutes:+mt}}const X=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,re={},J=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ge=function(ze){return ze[ze.Short=0]="Short",ze[ze.ShortGMT=1]="ShortGMT",ze[ze.Long=2]="Long",ze[ze.Extended=3]="Extended",ze}(ge||{}),Se=function(ze){return ze[ze.FullYear=0]="FullYear",ze[ze.Month=1]="Month",ze[ze.Date=2]="Date",ze[ze.Hours=3]="Hours",ze[ze.Minutes=4]="Minutes",ze[ze.Seconds=5]="Seconds",ze[ze.FractionalSeconds=6]="FractionalSeconds",ze[ze.Day=7]="Day",ze}(Se||{}),Ee=function(ze){return ze[ze.DayPeriods=0]="DayPeriods",ze[ze.Days=1]="Days",ze[ze.Months=2]="Months",ze[ze.Eras=3]="Eras",ze}(Ee||{});function Fe(ze,Yt,mt,Vt){let Cn=function lt(ze){if(bt(ze))return ze;if("number"==typeof ze&&!isNaN(ze))return new Date(ze);if("string"==typeof ze){if(ze=ze.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(ze)){const[Cn,zn=1,ai=1]=ze.split("-").map(Fi=>+Fi);return ct(Cn,zn-1,ai)}const mt=parseFloat(ze);if(!isNaN(ze-mt))return new Date(mt);let Vt;if(Vt=ze.match(X))return function St(ze){const Yt=new Date(0);let mt=0,Vt=0;const Cn=ze[8]?Yt.setUTCFullYear:Yt.setFullYear,zn=ze[8]?Yt.setUTCHours:Yt.setHours;ze[9]&&(mt=Number(ze[9]+ze[10]),Vt=Number(ze[9]+ze[11])),Cn.call(Yt,Number(ze[1]),Number(ze[2])-1,Number(ze[3]));const ai=Number(ze[4]||0)-mt,Fi=Number(ze[5]||0)-Vt,Rr=Number(ze[6]||0),gr=Math.floor(1e3*parseFloat("0."+(ze[7]||0)));return zn.call(Yt,ai,Fi,Rr,gr),Yt}(Vt)}const Yt=new Date(ze);if(!bt(Yt))throw new Error(`Unable to convert "${ze}" into a date`);return Yt}(ze);Yt=qe(mt,Yt)||Yt;let Fi,ai=[];for(;Yt;){if(Fi=J.exec(Yt),!Fi){ai.push(Yt);break}{ai=ai.concat(Fi.slice(1));const dr=ai.pop();if(!dr)break;Yt=dr}}let Rr=Cn.getTimezoneOffset();Vt&&(Rr=He(Vt,Rr),Cn=function st(ze,Yt,mt){const Vt=mt?-1:1,Cn=ze.getTimezoneOffset();return function Ze(ze,Yt){return(ze=new Date(ze.getTime())).setMinutes(ze.getMinutes()+Yt),ze}(ze,Vt*(He(Yt,Cn)-Cn))}(Cn,Vt,!0));let gr="";return ai.forEach(dr=>{const er=function it(ze){if(vt[ze])return vt[ze];let Yt;switch(ze){case"G":case"GG":case"GGG":Yt=me(Ee.Eras,oe.Abbreviated);break;case"GGGG":Yt=me(Ee.Eras,oe.Wide);break;case"GGGGG":Yt=me(Ee.Eras,oe.Narrow);break;case"y":Yt=yt(Se.FullYear,1,0,!1,!0);break;case"yy":Yt=yt(Se.FullYear,2,0,!0,!0);break;case"yyy":Yt=yt(Se.FullYear,3,0,!1,!0);break;case"yyyy":Yt=yt(Se.FullYear,4,0,!1,!0);break;case"Y":Yt=It(1);break;case"YY":Yt=It(2,!0);break;case"YYY":Yt=It(3);break;case"YYYY":Yt=It(4);break;case"M":case"L":Yt=yt(Se.Month,1,1);break;case"MM":case"LL":Yt=yt(Se.Month,2,1);break;case"MMM":Yt=me(Ee.Months,oe.Abbreviated);break;case"MMMM":Yt=me(Ee.Months,oe.Wide);break;case"MMMMM":Yt=me(Ee.Months,oe.Narrow);break;case"LLL":Yt=me(Ee.Months,oe.Abbreviated,Z.Standalone);break;case"LLLL":Yt=me(Ee.Months,oe.Wide,Z.Standalone);break;case"LLLLL":Yt=me(Ee.Months,oe.Narrow,Z.Standalone);break;case"w":Yt=fn(1);break;case"ww":Yt=fn(2);break;case"W":Yt=fn(1,!0);break;case"d":Yt=yt(Se.Date,1);break;case"dd":Yt=yt(Se.Date,2);break;case"c":case"cc":Yt=yt(Se.Day,1);break;case"ccc":Yt=me(Ee.Days,oe.Abbreviated,Z.Standalone);break;case"cccc":Yt=me(Ee.Days,oe.Wide,Z.Standalone);break;case"ccccc":Yt=me(Ee.Days,oe.Narrow,Z.Standalone);break;case"cccccc":Yt=me(Ee.Days,oe.Short,Z.Standalone);break;case"E":case"EE":case"EEE":Yt=me(Ee.Days,oe.Abbreviated);break;case"EEEE":Yt=me(Ee.Days,oe.Wide);break;case"EEEEE":Yt=me(Ee.Days,oe.Narrow);break;case"EEEEEE":Yt=me(Ee.Days,oe.Short);break;case"a":case"aa":case"aaa":Yt=me(Ee.DayPeriods,oe.Abbreviated);break;case"aaaa":Yt=me(Ee.DayPeriods,oe.Wide);break;case"aaaaa":Yt=me(Ee.DayPeriods,oe.Narrow);break;case"b":case"bb":case"bbb":Yt=me(Ee.DayPeriods,oe.Abbreviated,Z.Standalone,!0);break;case"bbbb":Yt=me(Ee.DayPeriods,oe.Wide,Z.Standalone,!0);break;case"bbbbb":Yt=me(Ee.DayPeriods,oe.Narrow,Z.Standalone,!0);break;case"B":case"BB":case"BBB":Yt=me(Ee.DayPeriods,oe.Abbreviated,Z.Format,!0);break;case"BBBB":Yt=me(Ee.DayPeriods,oe.Wide,Z.Format,!0);break;case"BBBBB":Yt=me(Ee.DayPeriods,oe.Narrow,Z.Format,!0);break;case"h":Yt=yt(Se.Hours,1,-12);break;case"hh":Yt=yt(Se.Hours,2,-12);break;case"H":Yt=yt(Se.Hours,1);break;case"HH":Yt=yt(Se.Hours,2);break;case"m":Yt=yt(Se.Minutes,1);break;case"mm":Yt=yt(Se.Minutes,2);break;case"s":Yt=yt(Se.Seconds,1);break;case"ss":Yt=yt(Se.Seconds,2);break;case"S":Yt=yt(Se.FractionalSeconds,1);break;case"SS":Yt=yt(Se.FractionalSeconds,2);break;case"SSS":Yt=yt(Se.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Yt=Tt(ge.Short);break;case"ZZZZZ":Yt=Tt(ge.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Yt=Tt(ge.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Yt=Tt(ge.Long);break;default:return null}return vt[ze]=Yt,Yt}(dr);gr+=er?er(Cn,mt,Rr):"''"===dr?"'":dr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),gr}function ct(ze,Yt,mt){const Vt=new Date(0);return Vt.setFullYear(ze,Yt,mt),Vt.setHours(0,0,0),Vt}function qe(ze,Yt){const mt=function ae(ze){return(0,e.cg1)(ze)[e.wAp.LocaleId]}(ze);if(re[mt]=re[mt]||{},re[mt][Yt])return re[mt][Yt];let Vt="";switch(Yt){case"shortDate":Vt=ie(ze,le.Short);break;case"mediumDate":Vt=ie(ze,le.Medium);break;case"longDate":Vt=ie(ze,le.Long);break;case"fullDate":Vt=ie(ze,le.Full);break;case"shortTime":Vt=ye(ze,le.Short);break;case"mediumTime":Vt=ye(ze,le.Medium);break;case"longTime":Vt=ye(ze,le.Long);break;case"fullTime":Vt=ye(ze,le.Full);break;case"short":const Cn=qe(ze,"shortTime"),zn=qe(ze,"shortDate");Vt=tt(Ce(ze,le.Short),[Cn,zn]);break;case"medium":const ai=qe(ze,"mediumTime"),Fi=qe(ze,"mediumDate");Vt=tt(Ce(ze,le.Medium),[ai,Fi]);break;case"long":const Rr=qe(ze,"longTime"),gr=qe(ze,"longDate");Vt=tt(Ce(ze,le.Long),[Rr,gr]);break;case"full":const dr=qe(ze,"fullTime"),er=qe(ze,"fullDate");Vt=tt(Ce(ze,le.Full),[dr,er])}return Vt&&(re[mt][Yt]=Vt),Vt}function tt(ze,Yt){return Yt&&(ze=ze.replace(/\{([^}]+)}/g,function(mt,Vt){return null!=Yt&&Vt in Yt?Yt[Vt]:mt})),ze}function gt(ze,Yt,mt="-",Vt,Cn){let zn="";(ze<0||Cn&&ze<=0)&&(Cn?ze=1-ze:(ze=-ze,zn=mt));let ai=String(ze);for(;ai.length<Yt;)ai="0"+ai;return Vt&&(ai=ai.slice(ai.length-Yt)),zn+ai}function yt(ze,Yt,mt=0,Vt=!1,Cn=!1){return function(zn,ai){let Fi=function Et(ze,Yt){switch(ze){case Se.FullYear:return Yt.getFullYear();case Se.Month:return Yt.getMonth();case Se.Date:return Yt.getDate();case Se.Hours:return Yt.getHours();case Se.Minutes:return Yt.getMinutes();case Se.Seconds:return Yt.getSeconds();case Se.FractionalSeconds:return Yt.getMilliseconds();case Se.Day:return Yt.getDay();default:throw new Error(`Unknown DateType value "${ze}".`)}}(ze,zn);if((mt>0||Fi>-mt)&&(Fi+=mt),ze===Se.Hours)0===Fi&&-12===mt&&(Fi=12);else if(ze===Se.FractionalSeconds)return function Qe(ze,Yt){return gt(ze,3).substring(0,Yt)}(Fi,Yt);const Rr=de(ai,Re.MinusSign);return gt(Fi,Yt,Rr,Vt,Cn)}}function me(ze,Yt,mt=Z.Format,Vt=!1){return function(Cn,zn){return function We(ze,Yt,mt,Vt,Cn,zn){switch(mt){case Ee.Months:return ce(Yt,Cn,Vt)[ze.getMonth()];case Ee.Days:return De(Yt,Cn,Vt)[ze.getDay()];case Ee.DayPeriods:const ai=ze.getHours(),Fi=ze.getMinutes();if(zn){const gr=function Ne(ze){const Yt=(0,e.cg1)(ze);return je(Yt),(Yt[e.wAp.ExtraData][2]||[]).map(Vt=>"string"==typeof Vt?q(Vt):[q(Vt[0]),q(Vt[1])])}(Yt),dr=function ee(ze,Yt,mt){const Vt=(0,e.cg1)(ze);je(Vt);const zn=we([Vt[e.wAp.ExtraData][0],Vt[e.wAp.ExtraData][1]],Yt)||[];return we(zn,mt)||[]}(Yt,Cn,Vt),er=gr.findIndex(fo=>{if(Array.isArray(fo)){const[Nr,_r]=fo,ns=ai>=Nr.hours&&Fi>=Nr.minutes,Gi=ai<_r.hours||ai===_r.hours&&Fi<_r.minutes;if(Nr.hours<_r.hours){if(ns&&Gi)return!0}else if(ns||Gi)return!0}else if(fo.hours===ai&&fo.minutes===Fi)return!0;return!1});if(-1!==er)return dr[er]}return function G(ze,Yt,mt){const Vt=(0,e.cg1)(ze),zn=we([Vt[e.wAp.DayPeriodsFormat],Vt[e.wAp.DayPeriodsStandalone]],Yt);return we(zn,mt)}(Yt,Cn,Vt)[ai<12?0:1];case Ee.Eras:return function Te(ze,Yt){return we((0,e.cg1)(ze)[e.wAp.Eras],Yt)}(Yt,Vt)[ze.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${mt}`)}}(Cn,zn,ze,Yt,mt,Vt)}}function Tt(ze){return function(Yt,mt,Vt){const Cn=-1*Vt,zn=de(mt,Re.MinusSign),ai=Cn>0?Math.floor(Cn/60):Math.ceil(Cn/60);switch(ze){case ge.Short:return(Cn>=0?"+":"")+gt(ai,2,zn)+gt(Math.abs(Cn%60),2,zn);case ge.ShortGMT:return"GMT"+(Cn>=0?"+":"")+gt(ai,1,zn);case ge.Long:return"GMT"+(Cn>=0?"+":"")+gt(ai,2,zn)+":"+gt(Math.abs(Cn%60),2,zn);case ge.Extended:return 0===Vt?"Z":(Cn>=0?"+":"")+gt(ai,2,zn)+":"+gt(Math.abs(Cn%60),2,zn);default:throw new Error(`Unknown zone width "${ze}"`)}}}const Kt=0,Jt=4;function un(ze){return ct(ze.getFullYear(),ze.getMonth(),ze.getDate()+(Jt-ze.getDay()))}function fn(ze,Yt=!1){return function(mt,Vt){let Cn;if(Yt){const zn=new Date(mt.getFullYear(),mt.getMonth(),1).getDay()-1,ai=mt.getDate();Cn=1+Math.floor((ai+zn)/7)}else{const zn=un(mt),ai=function Xt(ze){const Yt=ct(ze,Kt,1).getDay();return ct(ze,0,1+(Yt<=Jt?Jt:Jt+7)-Yt)}(zn.getFullYear()),Fi=zn.getTime()-ai.getTime();Cn=1+Math.round(Fi/6048e5)}return gt(Cn,ze,de(Vt,Re.MinusSign))}}function It(ze,Yt=!1){return function(mt,Vt){return gt(un(mt).getFullYear(),ze,de(Vt,Re.MinusSign),Yt)}}const vt={};function He(ze,Yt){ze=ze.replace(/:/g,"");const mt=Date.parse("Jan 01, 1970 00:00:00 "+ze)/6e4;return isNaN(mt)?Yt:mt}function bt(ze){return ze instanceof Date&&!isNaN(ze.valueOf())}function kt(ze,Yt){Yt=encodeURIComponent(Yt);for(const mt of ze.split(";")){const Vt=mt.indexOf("="),[Cn,zn]=-1==Vt?[mt,""]:[mt.slice(0,Vt),mt.slice(Vt+1)];if(Cn.trim()===Yt)return decodeURIComponent(zn)}return null}const wt=/\s+/,Pt=[];let en=(()=>{class ze{constructor(mt,Vt,Cn,zn){this._iterableDiffers=mt,this._keyValueDiffers=Vt,this._ngEl=Cn,this._renderer=zn,this.initialClasses=Pt,this.stateMap=new Map}set klass(mt){this.initialClasses=null!=mt?mt.trim().split(wt):Pt}set ngClass(mt){this.rawClass="string"==typeof mt?mt.trim().split(wt):mt}ngDoCheck(){for(const Vt of this.initialClasses)this._updateState(Vt,!0);const mt=this.rawClass;if(Array.isArray(mt)||mt instanceof Set)for(const Vt of mt)this._updateState(Vt,!0);else if(null!=mt)for(const Vt of Object.keys(mt))this._updateState(Vt,!!mt[Vt]);this._applyStateDiff()}_updateState(mt,Vt){const Cn=this.stateMap.get(mt);void 0!==Cn?(Cn.enabled!==Vt&&(Cn.changed=!0,Cn.enabled=Vt),Cn.touched=!0):this.stateMap.set(mt,{enabled:Vt,changed:!0,touched:!0})}_applyStateDiff(){for(const mt of this.stateMap){const Vt=mt[0],Cn=mt[1];Cn.changed?(this._toggleClass(Vt,Cn.enabled),Cn.changed=!1):Cn.touched||(Cn.enabled&&this._toggleClass(Vt,!1),this.stateMap.delete(Vt)),Cn.touched=!1}}_toggleClass(mt,Vt){(mt=mt.trim()).length>0&&mt.split(wt).forEach(Cn=>{Vt?this._renderer.addClass(this._ngEl.nativeElement,Cn):this._renderer.removeClass(this._ngEl.nativeElement,Cn)})}static#e=this.\u0275fac=function(Vt){return new(Vt||ze)(e.Y36(e.ZZ4),e.Y36(e.aQg),e.Y36(e.SBq),e.Y36(e.Qsj))};static#t=this.\u0275dir=e.lG2({type:ze,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return ze})();class ii{constructor(Yt,mt,Vt,Cn){this.$implicit=Yt,this.ngForOf=mt,this.index=Vt,this.count=Cn}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ft=(()=>{class ze{set ngForOf(mt){this._ngForOf=mt,this._ngForOfDirty=!0}set ngForTrackBy(mt){this._trackByFn=mt}get ngForTrackBy(){return this._trackByFn}constructor(mt,Vt,Cn){this._viewContainer=mt,this._template=Vt,this._differs=Cn,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(mt){mt&&(this._template=mt)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const mt=this._ngForOf;!this._differ&&mt&&(this._differ=this._differs.find(mt).create(this.ngForTrackBy))}if(this._differ){const mt=this._differ.diff(this._ngForOf);mt&&this._applyChanges(mt)}}_applyChanges(mt){const Vt=this._viewContainer;mt.forEachOperation((Cn,zn,ai)=>{if(null==Cn.previousIndex)Vt.createEmbeddedView(this._template,new ii(Cn.item,this._ngForOf,-1,-1),null===ai?void 0:ai);else if(null==ai)Vt.remove(null===zn?void 0:zn);else if(null!==zn){const Fi=Vt.get(zn);Vt.move(Fi,ai),Pn(Fi,Cn)}});for(let Cn=0,zn=Vt.length;Cn<zn;Cn++){const Fi=Vt.get(Cn).context;Fi.index=Cn,Fi.count=zn,Fi.ngForOf=this._ngForOf}mt.forEachIdentityChange(Cn=>{Pn(Vt.get(Cn.currentIndex),Cn)})}static ngTemplateContextGuard(mt,Vt){return!0}static#e=this.\u0275fac=function(Vt){return new(Vt||ze)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(e.ZZ4))};static#t=this.\u0275dir=e.lG2({type:ze,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return ze})();function Pn(ze,Yt){ze.context.$implicit=Yt.item}let Bt=(()=>{class ze{constructor(mt,Vt){this._viewContainer=mt,this._context=new Rt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Vt}set ngIf(mt){this._context.$implicit=this._context.ngIf=mt,this._updateView()}set ngIfThen(mt){ln("ngIfThen",mt),this._thenTemplateRef=mt,this._thenViewRef=null,this._updateView()}set ngIfElse(mt){ln("ngIfElse",mt),this._elseTemplateRef=mt,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(mt,Vt){return!0}static#e=this.\u0275fac=function(Vt){return new(Vt||ze)(e.Y36(e.s_b),e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:ze,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return ze})();class Rt{constructor(){this.$implicit=null,this.ngIf=null}}function ln(ze,Yt){if(Yt&&!Yt.createEmbeddedView)throw new Error(`${ze} must be a TemplateRef, but received '${(0,e.AaK)(Yt)}'.`)}class Fn{constructor(Yt,mt){this._viewContainerRef=Yt,this._templateRef=mt,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Yt){Yt&&!this._created?this.create():!Yt&&this._created&&this.destroy()}}let vi=(()=>{class ze{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(mt){this._ngSwitch=mt,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(mt){this._defaultViews.push(mt)}_matchCase(mt){const Vt=mt==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Vt,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Vt}_updateDefaultCases(mt){if(this._defaultViews.length>0&&mt!==this._defaultUsed){this._defaultUsed=mt;for(const Vt of this._defaultViews)Vt.enforceState(mt)}}static#e=this.\u0275fac=function(Vt){return new(Vt||ze)};static#t=this.\u0275dir=e.lG2({type:ze,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return ze})(),vr=(()=>{class ze{constructor(mt,Vt,Cn){this.ngSwitch=Cn,Cn._addCase(),this._view=new Fn(mt,Vt)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(Vt){return new(Vt||ze)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(vi,9))};static#t=this.\u0275dir=e.lG2({type:ze,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return ze})(),Zr=(()=>{class ze{constructor(mt,Vt,Cn){Cn._addDefault(new Fn(mt,Vt))}static#e=this.\u0275fac=function(Vt){return new(Vt||ze)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(vi,9))};static#t=this.\u0275dir=e.lG2({type:ze,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return ze})(),Do=(()=>{class ze{constructor(mt){this._viewContainerRef=mt,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(mt){if(mt.ngTemplateOutlet||mt.ngTemplateOutletInjector){const Vt=this._viewContainerRef;if(this._viewRef&&Vt.remove(Vt.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Cn,ngTemplateOutletContext:zn,ngTemplateOutletInjector:ai}=this;this._viewRef=Vt.createEmbeddedView(Cn,zn,ai?{injector:ai}:void 0)}else this._viewRef=null}else this._viewRef&&mt.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(Vt){return new(Vt||ze)(e.Y36(e.s_b))};static#t=this.\u0275dir=e.lG2({type:ze,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[e.TTD]})}return ze})();function Yi(ze,Yt){return new e.vHH(2100,!1)}class Hr{createSubscription(Yt,mt){return(0,e.rg0)(()=>Yt.subscribe({next:mt,error:Vt=>{throw Vt}}))}dispose(Yt){(0,e.rg0)(()=>Yt.unsubscribe())}}class tr{createSubscription(Yt,mt){return Yt.then(mt,Vt=>{throw Vt})}dispose(Yt){}}const lo=new tr,jr=new Hr;let os=(()=>{class ze{constructor(mt){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=mt}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(mt){return this._obj?mt!==this._obj?(this._dispose(),this.transform(mt)):this._latestValue:(mt&&this._subscribe(mt),this._latestValue)}_subscribe(mt){this._obj=mt,this._strategy=this._selectStrategy(mt),this._subscription=this._strategy.createSubscription(mt,Vt=>this._updateLatestValue(mt,Vt))}_selectStrategy(mt){if((0,e.QGY)(mt))return lo;if((0,e.F4k)(mt))return jr;throw Yi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(mt,Vt){mt===this._obj&&(this._latestValue=Vt,this._ref.markForCheck())}static#e=this.\u0275fac=function(Vt){return new(Vt||ze)(e.Y36(e.sBO,16))};static#t=this.\u0275pipe=e.Yjl({name:"async",type:ze,pure:!1,standalone:!0})}return ze})();const yi=new e.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),$i=new e.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Pr=(()=>{class ze{constructor(mt,Vt,Cn){this.locale=mt,this.defaultTimezone=Vt,this.defaultOptions=Cn}transform(mt,Vt,Cn,zn){if(null==mt||""===mt||mt!=mt)return null;try{return Fe(mt,Vt??this.defaultOptions?.dateFormat??"mediumDate",zn||this.locale,Cn??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(ai){throw Yi()}}static#e=this.\u0275fac=function(Vt){return new(Vt||ze)(e.Y36(e.soG,16),e.Y36(yi,24),e.Y36($i,24))};static#t=this.\u0275pipe=e.Yjl({name:"date",type:ze,pure:!0,standalone:!0})}return ze})(),Lo=(()=>{class ze{static#e=this.\u0275fac=function(Vt){return new(Vt||ze)};static#t=this.\u0275mod=e.oAB({type:ze});static#n=this.\u0275inj=e.cJS({})}return ze})();const ko="browser",Ks="server";function ss(ze){return ze===ko}function as(ze){return ze===Ks}let Ws=(()=>{class ze{static#e=this.\u0275prov=(0,e.Yz7)({token:ze,providedIn:"root",factory:()=>new uo((0,e.LFG)(P),window)})}return ze})();class uo{constructor(Yt,mt){this.document=Yt,this.window=mt,this.offset=()=>[0,0]}setOffset(Yt){this.offset=Array.isArray(Yt)?()=>Yt:Yt}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Yt){this.supportsScrolling()&&this.window.scrollTo(Yt[0],Yt[1])}scrollToAnchor(Yt){if(!this.supportsScrolling())return;const mt=function xs(ze,Yt){const mt=ze.getElementById(Yt)||ze.getElementsByName(Yt)[0];if(mt)return mt;if("function"==typeof ze.createTreeWalker&&ze.body&&"function"==typeof ze.body.attachShadow){const Vt=ze.createTreeWalker(ze.body,NodeFilter.SHOW_ELEMENT);let Cn=Vt.currentNode;for(;Cn;){const zn=Cn.shadowRoot;if(zn){const ai=zn.getElementById(Yt)||zn.querySelector(`[name="${Yt}"]`);if(ai)return ai}Cn=Vt.nextNode()}}return null}(this.document,Yt);mt&&(this.scrollToElement(mt),mt.focus())}setHistoryScrollRestoration(Yt){if(this.supportScrollRestoration()){const mt=this.window.history;mt&&mt.scrollRestoration&&(mt.scrollRestoration=Yt)}}scrollToElement(Yt){const mt=Yt.getBoundingClientRect(),Vt=mt.left+this.window.pageXOffset,Cn=mt.top+this.window.pageYOffset,zn=this.offset();this.window.scrollTo(Vt-zn[0],Cn-zn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Yt=ls(this.window.history)||ls(Object.getPrototypeOf(this.window.history));return!(!Yt||!Yt.writable&&!Yt.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ls(ze){return Object.getOwnPropertyDescriptor(ze,"scrollRestoration")}class Kr{}},9862:(Wn,Je,g)=>{"use strict";g.d(Je,{JF:()=>At,WM:()=>p,eN:()=>Oe});var e=g(5879),t=g(2096),v=g(2459),y=g(5592),m=g(6328),P=g(2181),D=g(7398),f=g(4716),i=g(4664),c=g(6814);class d{}class h{}class p{constructor(pn){this.normalizedNames=new Map,this.lazyUpdate=null,pn?"string"==typeof pn?this.lazyInit=()=>{this.headers=new Map,pn.split("\n").forEach(yn=>{const mn=yn.indexOf(":");if(mn>0){const _n=yn.slice(0,mn),Mt=_n.toLowerCase(),ht=yn.slice(mn+1).trim();this.maybeSetNormalizedName(_n,Mt),this.headers.has(Mt)?this.headers.get(Mt).push(ht):this.headers.set(Mt,[ht])}})}:typeof Headers<"u"&&pn instanceof Headers?(this.headers=new Map,pn.forEach((yn,mn)=>{this.setHeaderEntries(mn,yn)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(pn).forEach(([yn,mn])=>{this.setHeaderEntries(yn,mn)})}:this.headers=new Map}has(pn){return this.init(),this.headers.has(pn.toLowerCase())}get(pn){this.init();const yn=this.headers.get(pn.toLowerCase());return yn&&yn.length>0?yn[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(pn){return this.init(),this.headers.get(pn.toLowerCase())||null}append(pn,yn){return this.clone({name:pn,value:yn,op:"a"})}set(pn,yn){return this.clone({name:pn,value:yn,op:"s"})}delete(pn,yn){return this.clone({name:pn,value:yn,op:"d"})}maybeSetNormalizedName(pn,yn){this.normalizedNames.has(yn)||this.normalizedNames.set(yn,pn)}init(){this.lazyInit&&(this.lazyInit instanceof p?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(pn=>this.applyUpdate(pn)),this.lazyUpdate=null))}copyFrom(pn){pn.init(),Array.from(pn.headers.keys()).forEach(yn=>{this.headers.set(yn,pn.headers.get(yn)),this.normalizedNames.set(yn,pn.normalizedNames.get(yn))})}clone(pn){const yn=new p;return yn.lazyInit=this.lazyInit&&this.lazyInit instanceof p?this.lazyInit:this,yn.lazyUpdate=(this.lazyUpdate||[]).concat([pn]),yn}applyUpdate(pn){const yn=pn.name.toLowerCase();switch(pn.op){case"a":case"s":let mn=pn.value;if("string"==typeof mn&&(mn=[mn]),0===mn.length)return;this.maybeSetNormalizedName(pn.name,yn);const _n=("a"===pn.op?this.headers.get(yn):void 0)||[];_n.push(...mn),this.headers.set(yn,_n);break;case"d":const Mt=pn.value;if(Mt){let ht=this.headers.get(yn);if(!ht)return;ht=ht.filter(Tn=>-1===Mt.indexOf(Tn)),0===ht.length?(this.headers.delete(yn),this.normalizedNames.delete(yn)):this.headers.set(yn,ht)}else this.headers.delete(yn),this.normalizedNames.delete(yn)}}setHeaderEntries(pn,yn){const mn=(Array.isArray(yn)?yn:[yn]).map(Mt=>Mt.toString()),_n=pn.toLowerCase();this.headers.set(_n,mn),this.maybeSetNormalizedName(pn,_n)}forEach(pn){this.init(),Array.from(this.normalizedNames.keys()).forEach(yn=>pn(this.normalizedNames.get(yn),this.headers.get(yn)))}}class A{encodeKey(pn){return S(pn)}encodeValue(pn){return S(pn)}decodeKey(pn){return decodeURIComponent(pn)}decodeValue(pn){return decodeURIComponent(pn)}}const R=/%(\d[a-f0-9])/gi,O={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function S(vn){return encodeURIComponent(vn).replace(R,(pn,yn)=>O[yn]??pn)}function I(vn){return`${vn}`}class E{constructor(pn={}){if(this.updates=null,this.cloneFrom=null,this.encoder=pn.encoder||new A,pn.fromString){if(pn.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function x(vn,pn){const yn=new Map;return vn.length>0&&vn.replace(/^\?/,"").split("&").forEach(_n=>{const Mt=_n.indexOf("="),[ht,Tn]=-1==Mt?[pn.decodeKey(_n),""]:[pn.decodeKey(_n.slice(0,Mt)),pn.decodeValue(_n.slice(Mt+1))],et=yn.get(ht)||[];et.push(Tn),yn.set(ht,et)}),yn}(pn.fromString,this.encoder)}else pn.fromObject?(this.map=new Map,Object.keys(pn.fromObject).forEach(yn=>{const mn=pn.fromObject[yn],_n=Array.isArray(mn)?mn.map(I):[I(mn)];this.map.set(yn,_n)})):this.map=null}has(pn){return this.init(),this.map.has(pn)}get(pn){this.init();const yn=this.map.get(pn);return yn?yn[0]:null}getAll(pn){return this.init(),this.map.get(pn)||null}keys(){return this.init(),Array.from(this.map.keys())}append(pn,yn){return this.clone({param:pn,value:yn,op:"a"})}appendAll(pn){const yn=[];return Object.keys(pn).forEach(mn=>{const _n=pn[mn];Array.isArray(_n)?_n.forEach(Mt=>{yn.push({param:mn,value:Mt,op:"a"})}):yn.push({param:mn,value:_n,op:"a"})}),this.clone(yn)}set(pn,yn){return this.clone({param:pn,value:yn,op:"s"})}delete(pn,yn){return this.clone({param:pn,value:yn,op:"d"})}toString(){return this.init(),this.keys().map(pn=>{const yn=this.encoder.encodeKey(pn);return this.map.get(pn).map(mn=>yn+"="+this.encoder.encodeValue(mn)).join("&")}).filter(pn=>""!==pn).join("&")}clone(pn){const yn=new E({encoder:this.encoder});return yn.cloneFrom=this.cloneFrom||this,yn.updates=(this.updates||[]).concat(pn),yn}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(pn=>this.map.set(pn,this.cloneFrom.map.get(pn))),this.updates.forEach(pn=>{switch(pn.op){case"a":case"s":const yn=("a"===pn.op?this.map.get(pn.param):void 0)||[];yn.push(I(pn.value)),this.map.set(pn.param,yn);break;case"d":if(void 0===pn.value){this.map.delete(pn.param);break}{let mn=this.map.get(pn.param)||[];const _n=mn.indexOf(I(pn.value));-1!==_n&&mn.splice(_n,1),mn.length>0?this.map.set(pn.param,mn):this.map.delete(pn.param)}}}),this.cloneFrom=this.updates=null)}}class b{constructor(){this.map=new Map}set(pn,yn){return this.map.set(pn,yn),this}get(pn){return this.map.has(pn)||this.map.set(pn,pn.defaultValue()),this.map.get(pn)}delete(pn){return this.map.delete(pn),this}has(pn){return this.map.has(pn)}keys(){return this.map.keys()}}function Z(vn){return typeof ArrayBuffer<"u"&&vn instanceof ArrayBuffer}function oe(vn){return typeof Blob<"u"&&vn instanceof Blob}function le(vn){return typeof FormData<"u"&&vn instanceof FormData}class Y{constructor(pn,yn,mn,_n){let Mt;if(this.url=yn,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=pn.toUpperCase(),function B(vn){switch(vn){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||_n?(this.body=void 0!==mn?mn:null,Mt=_n):Mt=mn,Mt&&(this.reportProgress=!!Mt.reportProgress,this.withCredentials=!!Mt.withCredentials,Mt.responseType&&(this.responseType=Mt.responseType),Mt.headers&&(this.headers=Mt.headers),Mt.context&&(this.context=Mt.context),Mt.params&&(this.params=Mt.params)),this.headers||(this.headers=new p),this.context||(this.context=new b),this.params){const ht=this.params.toString();if(0===ht.length)this.urlWithParams=yn;else{const Tn=yn.indexOf("?");this.urlWithParams=yn+(-1===Tn?"?":Tn<yn.length-1?"&":"")+ht}}else this.params=new E,this.urlWithParams=yn}serializeBody(){return null===this.body?null:Z(this.body)||oe(this.body)||le(this.body)||function Re(vn){return typeof URLSearchParams<"u"&&vn instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof E?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||le(this.body)?null:oe(this.body)?this.body.type||null:Z(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof E?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(pn={}){const yn=pn.method||this.method,mn=pn.url||this.url,_n=pn.responseType||this.responseType,Mt=void 0!==pn.body?pn.body:this.body,ht=void 0!==pn.withCredentials?pn.withCredentials:this.withCredentials,Tn=void 0!==pn.reportProgress?pn.reportProgress:this.reportProgress;let et=pn.headers||this.headers,Dt=pn.params||this.params;const Qt=pn.context??this.context;return void 0!==pn.setHeaders&&(et=Object.keys(pn.setHeaders).reduce((Nt,xn)=>Nt.set(xn,pn.setHeaders[xn]),et)),pn.setParams&&(Dt=Object.keys(pn.setParams).reduce((Nt,xn)=>Nt.set(xn,pn.setParams[xn]),Dt)),new Y(yn,mn,Mt,{params:Dt,headers:et,context:Qt,reportProgress:Tn,responseType:_n,withCredentials:ht})}}var ae=function(vn){return vn[vn.Sent=0]="Sent",vn[vn.UploadProgress=1]="UploadProgress",vn[vn.ResponseHeader=2]="ResponseHeader",vn[vn.DownloadProgress=3]="DownloadProgress",vn[vn.Response=4]="Response",vn[vn.User=5]="User",vn}(ae||{});class G{constructor(pn,yn=200,mn="OK"){this.headers=pn.headers||new p,this.status=void 0!==pn.status?pn.status:yn,this.statusText=pn.statusText||mn,this.url=pn.url||null,this.ok=this.status>=200&&this.status<300}}class De extends G{constructor(pn={}){super(pn),this.type=ae.ResponseHeader}clone(pn={}){return new De({headers:pn.headers||this.headers,status:void 0!==pn.status?pn.status:this.status,statusText:pn.statusText||this.statusText,url:pn.url||this.url||void 0})}}class ce extends G{constructor(pn={}){super(pn),this.type=ae.Response,this.body=void 0!==pn.body?pn.body:null}clone(pn={}){return new ce({body:void 0!==pn.body?pn.body:this.body,headers:pn.headers||this.headers,status:void 0!==pn.status?pn.status:this.status,statusText:pn.statusText||this.statusText,url:pn.url||this.url||void 0})}}class Te extends G{constructor(pn){super(pn,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${pn.url||"(unknown url)"}`:`Http failure response for ${pn.url||"(unknown url)"}: ${pn.status} ${pn.statusText}`,this.error=pn.error||null}}function be(vn,pn){return{body:pn,headers:vn.headers,context:vn.context,observe:vn.observe,params:vn.params,reportProgress:vn.reportProgress,responseType:vn.responseType,withCredentials:vn.withCredentials}}let Oe=(()=>{class vn{constructor(yn){this.handler=yn}request(yn,mn,_n={}){let Mt;if(yn instanceof Y)Mt=yn;else{let et,Dt;et=_n.headers instanceof p?_n.headers:new p(_n.headers),_n.params&&(Dt=_n.params instanceof E?_n.params:new E({fromObject:_n.params})),Mt=new Y(yn,mn,void 0!==_n.body?_n.body:null,{headers:et,context:_n.context,params:Dt,reportProgress:_n.reportProgress,responseType:_n.responseType||"json",withCredentials:_n.withCredentials})}const ht=(0,t.of)(Mt).pipe((0,m.b)(et=>this.handler.handle(et)));if(yn instanceof Y||"events"===_n.observe)return ht;const Tn=ht.pipe((0,P.h)(et=>et instanceof ce));switch(_n.observe||"body"){case"body":switch(Mt.responseType){case"arraybuffer":return Tn.pipe((0,D.U)(et=>{if(null!==et.body&&!(et.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return et.body}));case"blob":return Tn.pipe((0,D.U)(et=>{if(null!==et.body&&!(et.body instanceof Blob))throw new Error("Response is not a Blob.");return et.body}));case"text":return Tn.pipe((0,D.U)(et=>{if(null!==et.body&&"string"!=typeof et.body)throw new Error("Response is not a string.");return et.body}));default:return Tn.pipe((0,D.U)(et=>et.body))}case"response":return Tn;default:throw new Error(`Unreachable: unhandled observe type ${_n.observe}}`)}}delete(yn,mn={}){return this.request("DELETE",yn,mn)}get(yn,mn={}){return this.request("GET",yn,mn)}head(yn,mn={}){return this.request("HEAD",yn,mn)}jsonp(yn,mn){return this.request("JSONP",yn,{params:(new E).append(mn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(yn,mn={}){return this.request("OPTIONS",yn,mn)}patch(yn,mn,_n={}){return this.request("PATCH",yn,be(_n,mn))}post(yn,mn,_n={}){return this.request("POST",yn,be(_n,mn))}put(yn,mn,_n={}){return this.request("PUT",yn,be(_n,mn))}static#e=this.\u0275fac=function(mn){return new(mn||vn)(e.LFG(d))};static#t=this.\u0275prov=e.Yz7({token:vn,factory:vn.\u0275fac})}return vn})();function Be(vn,pn){return pn(vn)}function at(vn,pn){return(yn,mn)=>pn.intercept(yn,{handle:_n=>vn(_n,mn)})}const je=new e.OlP(""),Ne=new e.OlP(""),ee=new e.OlP("");function fe(){let vn=null;return(pn,yn)=>{null===vn&&(vn=((0,e.f3M)(je,{optional:!0})??[]).reduceRight(at,Be));const mn=(0,e.f3M)(e.HDt),_n=mn.add();return vn(pn,yn).pipe((0,f.x)(()=>mn.remove(_n)))}}let we=(()=>{class vn extends d{constructor(yn,mn){super(),this.backend=yn,this.injector=mn,this.chain=null,this.pendingTasks=(0,e.f3M)(e.HDt)}handle(yn){if(null===this.chain){const _n=Array.from(new Set([...this.injector.get(Ne),...this.injector.get(ee,[])]));this.chain=_n.reduceRight((Mt,ht)=>function Xe(vn,pn,yn){return(mn,_n)=>yn.runInContext(()=>pn(mn,Mt=>vn(Mt,_n)))}(Mt,ht,this.injector),Be)}const mn=this.pendingTasks.add();return this.chain(yn,_n=>this.backend.handle(_n)).pipe((0,f.x)(()=>this.pendingTasks.remove(mn)))}static#e=this.\u0275fac=function(mn){return new(mn||vn)(e.LFG(h),e.LFG(e.lqb))};static#t=this.\u0275prov=e.Yz7({token:vn,factory:vn.\u0275fac})}return vn})();const ct=/^\)\]\}',?\n/;let tt=(()=>{class vn{constructor(yn){this.xhrFactory=yn}handle(yn){if("JSONP"===yn.method)throw new e.vHH(-2800,!1);const mn=this.xhrFactory;return(mn.\u0275loadImpl?(0,v.D)(mn.\u0275loadImpl()):(0,t.of)(null)).pipe((0,i.w)(()=>new y.y(Mt=>{const ht=mn.build();if(ht.open(yn.method,yn.urlWithParams),yn.withCredentials&&(ht.withCredentials=!0),yn.headers.forEach((Pt,en)=>ht.setRequestHeader(Pt,en.join(","))),yn.headers.has("Accept")||ht.setRequestHeader("Accept","application/json, text/plain, */*"),!yn.headers.has("Content-Type")){const Pt=yn.detectContentTypeHeader();null!==Pt&&ht.setRequestHeader("Content-Type",Pt)}if(yn.responseType){const Pt=yn.responseType.toLowerCase();ht.responseType="json"!==Pt?Pt:"text"}const Tn=yn.serializeBody();let et=null;const Dt=()=>{if(null!==et)return et;const Pt=ht.statusText||"OK",en=new p(ht.getAllResponseHeaders()),An=function qe(vn){return"responseURL"in vn&&vn.responseURL?vn.responseURL:/^X-Request-URL:/m.test(vn.getAllResponseHeaders())?vn.getResponseHeader("X-Request-URL"):null}(ht)||yn.url;return et=new De({headers:en,status:ht.status,statusText:Pt,url:An}),et},Qt=()=>{let{headers:Pt,status:en,statusText:An,url:Vn}=Dt(),ii=null;204!==en&&(ii=typeof ht.response>"u"?ht.responseText:ht.response),0===en&&(en=ii?200:0);let Ft=en>=200&&en<300;if("json"===yn.responseType&&"string"==typeof ii){const Pn=ii;ii=ii.replace(ct,"");try{ii=""!==ii?JSON.parse(ii):null}catch(Le){ii=Pn,Ft&&(Ft=!1,ii={error:Le,text:ii})}}Ft?(Mt.next(new ce({body:ii,headers:Pt,status:en,statusText:An,url:Vn||void 0})),Mt.complete()):Mt.error(new Te({error:ii,headers:Pt,status:en,statusText:An,url:Vn||void 0}))},Nt=Pt=>{const{url:en}=Dt(),An=new Te({error:Pt,status:ht.status||0,statusText:ht.statusText||"Unknown Error",url:en||void 0});Mt.error(An)};let xn=!1;const kt=Pt=>{xn||(Mt.next(Dt()),xn=!0);let en={type:ae.DownloadProgress,loaded:Pt.loaded};Pt.lengthComputable&&(en.total=Pt.total),"text"===yn.responseType&&ht.responseText&&(en.partialText=ht.responseText),Mt.next(en)},wt=Pt=>{let en={type:ae.UploadProgress,loaded:Pt.loaded};Pt.lengthComputable&&(en.total=Pt.total),Mt.next(en)};return ht.addEventListener("load",Qt),ht.addEventListener("error",Nt),ht.addEventListener("timeout",Nt),ht.addEventListener("abort",Nt),yn.reportProgress&&(ht.addEventListener("progress",kt),null!==Tn&&ht.upload&&ht.upload.addEventListener("progress",wt)),ht.send(Tn),Mt.next({type:ae.Sent}),()=>{ht.removeEventListener("error",Nt),ht.removeEventListener("abort",Nt),ht.removeEventListener("load",Qt),ht.removeEventListener("timeout",Nt),yn.reportProgress&&(ht.removeEventListener("progress",kt),null!==Tn&&ht.upload&&ht.upload.removeEventListener("progress",wt)),ht.readyState!==ht.DONE&&ht.abort()}})))}static#e=this.\u0275fac=function(mn){return new(mn||vn)(e.LFG(c.JF))};static#t=this.\u0275prov=e.Yz7({token:vn,factory:vn.\u0275fac})}return vn})();const gt=new e.OlP("XSRF_ENABLED"),yt=new e.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),me=new e.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class We{}let Tt=(()=>{class vn{constructor(yn,mn,_n){this.doc=yn,this.platform=mn,this.cookieName=_n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const yn=this.doc.cookie||"";return yn!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,c.Mx)(yn,this.cookieName),this.lastCookieString=yn),this.lastToken}static#e=this.\u0275fac=function(mn){return new(mn||vn)(e.LFG(c.K0),e.LFG(e.Lbi),e.LFG(yt))};static#t=this.\u0275prov=e.Yz7({token:vn,factory:vn.\u0275fac})}return vn})();function Kt(vn,pn){const yn=vn.url.toLowerCase();if(!(0,e.f3M)(gt)||"GET"===vn.method||"HEAD"===vn.method||yn.startsWith("http://")||yn.startsWith("https://"))return pn(vn);const mn=(0,e.f3M)(We).getToken(),_n=(0,e.f3M)(me);return null!=mn&&!vn.headers.has(_n)&&(vn=vn.clone({headers:vn.headers.set(_n,mn)})),pn(vn)}var Xt=function(vn){return vn[vn.Interceptors=0]="Interceptors",vn[vn.LegacyInterceptors=1]="LegacyInterceptors",vn[vn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",vn[vn.NoXsrfProtection=3]="NoXsrfProtection",vn[vn.JsonpSupport=4]="JsonpSupport",vn[vn.RequestsMadeViaParent=5]="RequestsMadeViaParent",vn[vn.Fetch=6]="Fetch",vn}(Xt||{});function fn(...vn){const pn=[Oe,tt,we,{provide:d,useExisting:we},{provide:h,useExisting:tt},{provide:Ne,useValue:Kt,multi:!0},{provide:gt,useValue:!0},{provide:We,useClass:Tt}];for(const yn of vn)pn.push(...yn.\u0275providers);return(0,e.MR2)(pn)}const vt=new e.OlP("LEGACY_INTERCEPTOR_FN");function it(){return function un(vn,pn){return{\u0275kind:vn,\u0275providers:pn}}(Xt.LegacyInterceptors,[{provide:vt,useFactory:fe},{provide:Ne,useExisting:vt,multi:!0}])}let At=(()=>{class vn{static#e=this.\u0275fac=function(mn){return new(mn||vn)};static#t=this.\u0275mod=e.oAB({type:vn});static#n=this.\u0275inj=e.cJS({providers:[fn(it())]})}return vn})()},5879:(Wn,Je,g)=>{"use strict";g.d(Je,{$8M:()=>ic,$WT:()=>lo,$Z:()=>sg,AFp:()=>uh,ALo:()=>Gv,AaK:()=>h,AsE:()=>Vm,BQk:()=>Oh,CHM:()=>gl,CRH:()=>n0,DdM:()=>Ov,EJc:()=>cS,EiD:()=>ku,EpF:()=>Xg,F$t:()=>r_,F4k:()=>qg,FYo:()=>Bp,FiY:()=>sl,G48:()=>RS,Gf:()=>e0,GfV:()=>Up,GkF:()=>wm,Gpc:()=>A,Gre:()=>L_,HDt:()=>M0,Hsn:()=>o_,Ikx:()=>Wm,JOm:()=>cn,JVY:()=>Ur,JZr:()=>I,Jf7:()=>Kp,KtG:()=>yc,L6k:()=>ho,LAX:()=>Qo,LFG:()=>it,LMc:()=>aD,LSH:()=>Kc,Lbi:()=>Yl,Lck:()=>qT,MAs:()=>$g,MGl:()=>Ph,MMx:()=>Cv,MR2:()=>Tr,NdJ:()=>Pm,O4$:()=>nt,Ojb:()=>dy,OlP:()=>In,Oqu:()=>jm,P3R:()=>Ve,PXZ:()=>SS,Q6J:()=>Am,QGY:()=>Om,QbO:()=>xf,Qsj:()=>Sy,R0b:()=>pc,RDi:()=>ve,Rgc:()=>Jf,SBq:()=>Pf,SDv:()=>_v,Sil:()=>fS,Suo:()=>t0,TTD:()=>fl,TgZ:()=>xh,Tol:()=>b_,Udp:()=>Um,VKq:()=>Pv,VuI:()=>oD,W1O:()=>a0,WFA:()=>Rm,WLB:()=>Rv,X6Q:()=>PS,XFs:()=>ge,Xpm:()=>vi,Xq5:()=>Rg,Xts:()=>Yn,Y36:()=>ju,YKP:()=>Ev,YNc:()=>Yg,Yjl:()=>_s,Yz7:()=>je,Z0I:()=>we,ZZ4:()=>Ap,_Bn:()=>bv,_UZ:()=>Im,_Vd:()=>Of,_c5:()=>$S,_uU:()=>A_,aQg:()=>xp,c2e:()=>D0,cJS:()=>ee,cg1:()=>Zm,d8E:()=>Ym,dDg:()=>bS,dqk:()=>tt,eBb:()=>To,eFA:()=>G0,eJc:()=>up,ekj:()=>Gm,eoX:()=>k0,f3M:()=>Ze,g9A:()=>xd,h0i:()=>rf,hGG:()=>JS,hYB:()=>Lm,hij:()=>Lh,iGM:()=>qv,ifc:()=>Mn,ip1:()=>S0,jDz:()=>Sv,kEZ:()=>Nv,kL8:()=>W_,kcU:()=>sn,lG2:()=>Do,lcZ:()=>Hv,lnq:()=>Km,lqb:()=>Md,lri:()=>N0,mCW:()=>Lc,n5z:()=>xc,n_E:()=>Gh,oAB:()=>ki,oJD:()=>qd,oxw:()=>i_,pB0:()=>Ko,q3G:()=>sd,q4F:()=>Gp,qFp:()=>lD,qLn:()=>Gu,qOj:()=>ym,qZA:()=>Ih,qzn:()=>Mr,rWj:()=>L0,rg0:()=>gc,s9C:()=>Nm,sBO:()=>NS,s_b:()=>jh,soG:()=>Kh,tb:()=>Ep,tp0:()=>bo,uIk:()=>Em,vHH:()=>E,vpe:()=>Rd,wAp:()=>tf,xi3:()=>jv,xp6:()=>qp,ynx:()=>wh,z2F:()=>lf,z3N:()=>br,zSh:()=>Wc,zW0:()=>Ig,zs3:()=>eu});var e=g(8645),t=g(7394),v=g(5619),y=g(5592),m=g(3019),P=g(2096),D=g(3020),f=g(4664),i=g(3997);function c(n){for(let o in n)if(n[o]===c)return o;throw Error("Could not find renamed property on target object.")}function d(n,o){for(const u in o)o.hasOwnProperty(u)&&!n.hasOwnProperty(u)&&(n[u]=o[u])}function h(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(h).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const o=n.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function p(n,o){return null==n||""===n?null===o?"":o:null==o||""===o?n:n+" "+o}const C=c({__forward_ref__:c});function A(n){return n.__forward_ref__=A,n.toString=function(){return h(this())},n}function x(n){return R(n)?n():n}function R(n){return"function"==typeof n&&n.hasOwnProperty(C)&&n.__forward_ref__===A}function O(n){return n&&!!n.\u0275providers}const I="https://g.co/ng/security#xss";class E extends Error{constructor(o,u){super(function L(n,o){return`NG0${Math.abs(n)}${o?": "+o:""}`}(o,u)),this.code=o}}function b(n){return"string"==typeof n?n:null==n?"":String(n)}function Re(n,o){throw new E(-201,!1)}function Ie(n,o,u,T){throw new Error(`ASSERTION ERROR: ${n}`+(null==T?"":` [Expected=> ${u} ${T} ${o} <=Actual]`))}function je(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ee(n){return{providers:n.providers||[],imports:n.imports||[]}}function fe(n){return q(n,ne)||q(n,re)}function we(n){return null!==fe(n)}function q(n,o){return n.hasOwnProperty(o)?n[o]:null}function Q(n){return n&&(n.hasOwnProperty(X)||n.hasOwnProperty(J))?n[X]:null}const ne=c({\u0275prov:c}),X=c({\u0275inj:c}),re=c({ngInjectableDef:c}),J=c({ngInjectorDef:c});var ge=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ge||{});let Se;function Fe(n){const o=Se;return Se=n,o}function ct(n,o,u){const T=fe(n);return T&&"root"==T.providedIn?void 0===T.value?T.value=T.factory():T.value:u&ge.Optional?null:void 0!==o?o:void Re(h(n))}const tt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Et={},me="__NG_DI_FLAG__",We="ngTempTokenPath",Kt=/\n/gm,Xt="__source";let un;function It(n){const o=un;return un=n,o}function vt(n,o=ge.Default){if(void 0===un)throw new E(-203,!1);return null===un?ct(n,void 0,o):un.get(n,o&ge.Optional?null:void 0,o)}function it(n,o=ge.Default){return(function Ee(){return Se}()||vt)(x(n),o)}function Ze(n,o=ge.Default){return it(n,st(o))}function st(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function lt(n){const o=[];for(let u=0;u<n.length;u++){const T=x(n[u]);if(Array.isArray(T)){if(0===T.length)throw new E(900,!1);let N,K=ge.Default;for(let _e=0;_e<T.length;_e++){const Ke=T[_e],ot=bt(Ke);"number"==typeof ot?-1===ot?N=Ke.token:K|=ot:N=Ke}o.push(it(N,K))}else o.push(it(T))}return o}function St(n,o){return n[me]=o,n.prototype[me]=o,n}function bt(n){return n[me]}function En(n){return{toString:n}.toString()}var tn=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(tn||{}),Mn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Mn||{});const wn={},Nn=[],$n=c({\u0275cmp:c}),ti=c({\u0275dir:c}),vn=c({\u0275pipe:c}),pn=c({\u0275mod:c}),yn=c({\u0275fac:c}),mn=c({__NG_ELEMENT_ID__:c}),_n=c({__NG_ENV_ID__:c});function Mt(n,o,u){let T=n.length;for(;;){const N=n.indexOf(o,u);if(-1===N)return N;if(0===N||n.charCodeAt(N-1)<=32){const K=o.length;if(N+K===T||n.charCodeAt(N+K)<=32)return N}u=N+1}}function ht(n,o,u){let T=0;for(;T<u.length;){const N=u[T];if("number"==typeof N){if(0!==N)break;T++;const K=u[T++],_e=u[T++],Ke=u[T++];n.setAttribute(o,_e,Ke,K)}else{const K=N,_e=u[++T];et(K)?n.setProperty(o,K,_e):n.setAttribute(o,K,_e),T++}}return T}function Tn(n){return 3===n||4===n||6===n}function et(n){return 64===n.charCodeAt(0)}function Dt(n,o){if(null!==o&&0!==o.length)if(null===n||0===n.length)n=o.slice();else{let u=-1;for(let T=0;T<o.length;T++){const N=o[T];"number"==typeof N?u=N:0===u||Qt(n,u,N,null,-1===u||2===u?o[++T]:null)}}return n}function Qt(n,o,u,T,N){let K=0,_e=n.length;if(-1===o)_e=-1;else for(;K<n.length;){const Ke=n[K++];if("number"==typeof Ke){if(Ke===o){_e=-1;break}if(Ke>o){_e=K-1;break}}}for(;K<n.length;){const Ke=n[K];if("number"==typeof Ke)break;if(Ke===u){if(null===T)return void(null!==N&&(n[K+1]=N));if(T===n[K+1])return void(n[K+2]=N)}K++,null!==T&&K++,null!==N&&K++}-1!==_e&&(n.splice(_e,0,o),K=_e+1),n.splice(K++,0,u),null!==T&&n.splice(K++,0,T),null!==N&&n.splice(K++,0,N)}const Nt="ng-template";function xn(n,o,u){let T=0,N=!0;for(;T<n.length;){let K=n[T++];if("string"==typeof K&&N){const _e=n[T++];if(u&&"class"===K&&-1!==Mt(_e.toLowerCase(),o,0))return!0}else{if(1===K){for(;T<n.length&&"string"==typeof(K=n[T++]);)if(K.toLowerCase()===o)return!0;return!1}"number"==typeof K&&(N=!1)}}return!1}function kt(n){return 4===n.type&&n.value!==Nt}function wt(n,o,u){return o===(4!==n.type||u?n.value:Nt)}function Pt(n,o,u){let T=4;const N=n.attrs||[],K=function Ft(n){for(let o=0;o<n.length;o++)if(Tn(n[o]))return o;return n.length}(N);let _e=!1;for(let Ke=0;Ke<o.length;Ke++){const ot=o[Ke];if("number"!=typeof ot){if(!_e)if(4&T){if(T=2|1&T,""!==ot&&!wt(n,ot,u)||""===ot&&1===o.length){if(en(T))return!1;_e=!0}}else{const Lt=8&T?ot:o[++Ke];if(8&T&&null!==n.attrs){if(!xn(n.attrs,Lt,u)){if(en(T))return!1;_e=!0}continue}const Sn=An(8&T?"class":ot,N,kt(n),u);if(-1===Sn){if(en(T))return!1;_e=!0;continue}if(""!==Lt){let jn;jn=Sn>K?"":N[Sn+1].toLowerCase();const Jn=8&T?jn:null;if(Jn&&-1!==Mt(Jn,Lt,0)||2&T&&Lt!==jn){if(en(T))return!1;_e=!0}}}}else{if(!_e&&!en(T)&&!en(ot))return!1;if(_e&&en(ot))continue;_e=!1,T=ot|1&T}}return en(T)||_e}function en(n){return 0==(1&n)}function An(n,o,u,T){if(null===o)return-1;let N=0;if(T||!u){let K=!1;for(;N<o.length;){const _e=o[N];if(_e===n)return N;if(3===_e||6===_e)K=!0;else{if(1===_e||2===_e){let Ke=o[++N];for(;"string"==typeof Ke;)Ke=o[++N];continue}if(4===_e)break;if(0===_e){N+=4;continue}}N+=K?1:2}return-1}return function Pn(n,o){let u=n.indexOf(4);if(u>-1)for(u++;u<n.length;){const T=n[u];if("number"==typeof T)return-1;if(T===o)return u;u++}return-1}(o,n)}function Vn(n,o,u=!1){for(let T=0;T<o.length;T++)if(Pt(n,o[T],u))return!0;return!1}function Le(n,o){e:for(let u=0;u<o.length;u++){const T=o[u];if(n.length===T.length){for(let N=0;N<n.length;N++)if(n[N]!==T[N])continue e;return!0}}return!1}function Bt(n,o){return n?":not("+o.trim()+")":o}function Rt(n){let o=n[0],u=1,T=2,N="",K=!1;for(;u<n.length;){let _e=n[u];if("string"==typeof _e)if(2&T){const Ke=n[++u];N+="["+_e+(Ke.length>0?'="'+Ke+'"':"")+"]"}else 8&T?N+="."+_e:4&T&&(N+=" "+_e);else""!==N&&!en(_e)&&(o+=Bt(K,N),N=""),T=_e,K=K||!en(T);u++}return""!==N&&(o+=Bt(K,N)),o}function vi(n){return En(()=>{const o=os(n),u={...o,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===tn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Mn.Emulated,styles:n.styles||Nn,_:null,schemas:n.schemas||null,tView:null,id:""};xr(u);const T=n.dependencies;return u.directiveDefs=co(T,!1),u.pipeDefs=co(T,!0),u.id=function As(n){let o=0;const u=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const N of u)o=Math.imul(31,o)+N.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(u),u})}function Zr(n){return Yi(n)||Hr(n)}function Gr(n){return null!==n}function ki(n){return En(()=>({type:n.type,bootstrap:n.bootstrap||Nn,declarations:n.declarations||Nn,imports:n.imports||Nn,exports:n.exports||Nn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Vo(n,o){if(null==n)return wn;const u={};for(const T in n)if(n.hasOwnProperty(T)){let N=n[T],K=N;Array.isArray(N)&&(K=N[1],N=N[0]),u[N]=T,o&&(o[N]=K)}return u}function Do(n){return En(()=>{const o=os(n);return xr(o),o})}function _s(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Yi(n){return n[$n]||null}function Hr(n){return n[ti]||null}function tr(n){return n[vn]||null}function lo(n){const o=Yi(n)||Hr(n)||tr(n);return null!==o&&o.standalone}function jr(n,o){const u=n[pn]||null;if(!u&&!0===o)throw new Error(`Type ${h(n)} does not have '\u0275mod' property.`);return u}function os(n){const o={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:n.inputs||wn,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Nn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vo(n.inputs,o),outputs:Vo(n.outputs)}}function xr(n){n.features?.forEach(o=>o(n))}function co(n,o){if(!n)return null;const u=o?tr:Zr;return()=>("function"==typeof n?n():n).map(T=>u(T)).filter(Gr)}const Cr=0,yi=1,$i=2,Pr=3,Vr=4,Mo=5,zr=6,po=7,Dn=8,Xn=9,hi=10,li=11,Ui=12,Ji=13,rr=14,Ki=15,Ir=16,Io=17,Lo=18,ko=19,Ks=20,Xr=21,_o=22,ss=23,as=24,lr=25,qo=1,Ws=2,uo=7,xs=9,Kr=11;function Sr(n){return Array.isArray(n)&&"object"==typeof n[qo]}function no(n){return Array.isArray(n)&&!0===n[qo]}function ua(n){return 0!=(4&n.flags)}function Ao(n){return n.componentOffset>-1}function kr(n){return 1==(1&n.flags)}function mr(n){return!!n.template}function Fo(n){return 0!=(512&n[$i])}function _t(n,o){return n.hasOwnProperty(yn)?n[yn]:null}let Zi=tt.WeakRef??class Ti{constructor(o){this.ref=o}deref(){return this.ref}},bs=0,si=null,Os=!1;function qr(n){const o=si;return si=n,o}class ds{constructor(){this.id=bs++,this.ref=function Yo(n){return new Zi(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[o,u]of this.producers){const T=u.producerNode.deref();if(null!=T&&u.atTrackingVersion===this.trackingVersion){if(T.producerPollStatus(u.seenValueVersion))return!0}else this.producers.delete(o),T?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const o=Os;Os=!0;try{for(const[u,T]of this.consumers){const N=T.consumerNode.deref();null!=N&&N.trackingVersion===T.atTrackingVersion?N.onConsumerDependencyMayHaveChanged():(this.consumers.delete(u),N?.producers.delete(this.id))}}finally{Os=o}}producerAccessed(){if(Os)throw new Error("");if(null===si)return;let o=si.producers.get(this.id);void 0===o?(o={consumerNode:si.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:si.trackingVersion},si.producers.set(this.id,o),this.consumers.set(si.id,o)):(o.seenValueVersion=this.valueVersion,o.atTrackingVersion=si.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==si?.consumerAllowSignalWrites}producerPollStatus(o){return this.valueVersion!==o||(this.onProducerUpdateValueVersion(),this.valueVersion!==o)}}let Ol=null;function gc(n){const o=qr(null);try{return n()}finally{qr(o)}}const Va=()=>{};class Pl extends ds{constructor(o,u,T){super(),this.watch=o,this.schedule=u,this.dirty=!1,this.cleanupFn=Va,this.registerOnCleanup=N=>{this.cleanupFn=N},this.consumerAllowSignalWrites=T}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const o=qr(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Va,this.watch(this.registerOnCleanup)}finally{qr(o)}}cleanup(){this.cleanupFn()}}class pa{constructor(o,u,T){this.previousValue=o,this.currentValue=u,this.firstChange=T}isFirstChange(){return this.firstChange}}function fl(){return ga}function ga(n){return n.type.prototype.ngOnChanges&&(n.setInput=ml),hl}function hl(){const n=_a(this),o=n?.current;if(o){const u=n.previous;if(u===wn)n.previous=o;else for(let T in o)u[T]=o[T];n.current=null,this.ngOnChanges(o)}}function ml(n,o,u,T){const N=this.declaredInputs[u],K=_a(n)||function tl(n,o){return n[_c]=o}(n,{previous:wn,current:null}),_e=K.current||(K.current={}),Ke=K.previous,ot=Ke[N];_e[N]=new pa(ot&&ot.currentValue,o,Ke===wn),n[T]=o}fl.ngInherit=!0;const _c="__ngSimpleChanges__";function _a(n){return n[_c]||null}const Es=function(n,o,u){},Oa="svg";function nr(n){for(;Array.isArray(n);)n=n[Cr];return n}function ze(n,o){return nr(o[n])}function Yt(n,o){return nr(o[n.index])}function Vt(n,o){return n.data[o]}function Cn(n,o){return n[o]}function zn(n,o){const u=o[n];return Sr(u)?u:u[Cr]}function gr(n,o){return null==o?null:n[o]}function dr(n){n[Io]=0}function er(n){1024&n[$i]||(n[$i]|=1024,Nr(n,1))}function fo(n){1024&n[$i]&&(n[$i]&=-1025,Nr(n,-1))}function Nr(n,o){let u=n[Pr];if(null===u)return;u[Mo]+=o;let T=u;for(u=u[Pr];null!==u&&(1===o&&1===T[Mo]||-1===o&&0===T[Mo]);)u[Mo]+=o,T=u,u=u[Pr]}const Gi={lFrame:$l(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function va(){return Gi.bindingsEnabled}function aa(){return null!==Gi.skipHydrationRootTNode}function ci(){return Gi.lFrame.lView}function or(){return Gi.lFrame.tView}function gl(n){return Gi.lFrame.contextLView=n,n[Dn]}function yc(n){return Gi.lFrame.contextLView=null,n}function Go(){let n=zc();for(;null!==n&&64===n.type;)n=n.parent;return n}function zc(){return Gi.lFrame.currentTNode}function nl(){const n=Gi.lFrame,o=n.currentTNode;return n.isParent?o:o.parent}function io(n,o){const u=Gi.lFrame;u.currentTNode=n,u.isParent=o}function Ya(){return Gi.lFrame.isParent}function Oo(){Gi.lFrame.isParent=!1}function Zo(){const n=Gi.lFrame;let o=n.bindingRootIndex;return-1===o&&(o=n.bindingRootIndex=n.tView.bindingStartIndex),o}function la(){return Gi.lFrame.bindingIndex}function go(){return Gi.lFrame.bindingIndex++}function xo(n){const o=Gi.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+n,u}function il(n){Gi.lFrame.inI18n=n}function Ea(n,o){const u=Gi.lFrame;u.bindingIndex=u.bindingRootIndex=n,Bs(o)}function Bs(n){Gi.lFrame.currentDirectiveIndex=n}function vl(n){const o=Gi.lFrame.currentDirectiveIndex;return-1===o?null:n[o]}function bc(){return Gi.lFrame.currentQueryIndex}function yl(n){Gi.lFrame.currentQueryIndex=n}function $c(n){const o=n[yi];return 2===o.type?o.declTNode:1===o.type?n[zr]:null}function $s(n,o,u){if(u&ge.SkipSelf){let N=o,K=n;for(;!(N=N.parent,null!==N||u&ge.Host||(N=$c(K),null===N||(K=K[rr],10&N.type))););if(null===N)return!1;o=N,n=K}const T=Gi.lFrame=Fc();return T.currentTNode=o,T.lView=n,!0}function bl(n){const o=Fc(),u=n[yi];Gi.lFrame=o,o.currentTNode=u.firstChild,o.lView=n,o.tView=u,o.contextLView=n,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function Fc(){const n=Gi.lFrame,o=null===n?null:n.child;return null===o?$l(n):o}function $l(n){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=o),o}function Ec(){const n=Gi.lFrame;return Gi.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Po=Ec;function Pa(){const n=Ec();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ge(){return Gi.lFrame.selectedIndex}function rt(n){Gi.lFrame.selectedIndex=n}function xe(){const n=Gi.lFrame;return Vt(n.tView,n.selectedIndex)}function nt(){Gi.lFrame.currentNamespace=Oa}function sn(){!function dn(){Gi.lFrame.currentNamespace=null}()}let mi=!0;function Oi(){return mi}function Ri(n){mi=n}function Jr(n,o){for(let u=o.directiveStart,T=o.directiveEnd;u<T;u++){const K=n.data[u].type.prototype,{ngAfterContentInit:_e,ngAfterContentChecked:Ke,ngAfterViewInit:ot,ngAfterViewChecked:Lt,ngOnDestroy:nn}=K;_e&&(n.contentHooks??=[]).push(-u,_e),Ke&&((n.contentHooks??=[]).push(u,Ke),(n.contentCheckHooks??=[]).push(u,Ke)),ot&&(n.viewHooks??=[]).push(-u,ot),Lt&&((n.viewHooks??=[]).push(u,Lt),(n.viewCheckHooks??=[]).push(u,Lt)),null!=nn&&(n.destroyHooks??=[]).push(u,nn)}}function ro(n,o,u){is(n,o,3,u)}function zo(n,o,u,T){(3&n[$i])===u&&is(n,o,u,T)}function hs(n,o){let u=n[$i];(3&u)===o&&(u&=8191,u+=1,n[$i]=u)}function is(n,o,u,T){const K=T??-1,_e=o.length-1;let Ke=0;for(let ot=void 0!==T?65535&n[Io]:0;ot<_e;ot++)if("number"==typeof o[ot+1]){if(Ke=o[ot],null!=T&&Ke>=T)break}else o[ot]<0&&(n[Io]+=65536),(Ke<K||-1==K)&&(El(n,u,o,ot),n[Io]=(4294901760&n[Io])+ot+2),ot++}function Za(n,o){Es(4,n,o);const u=qr(null);try{o.call(n)}finally{qr(u),Es(5,n,o)}}function El(n,o,u,T){const N=u[T]<0,K=u[T+1],Ke=n[N?-u[T]:u[T]];N?n[$i]>>13<n[Io]>>16&&(3&n[$i])===o&&(n[$i]+=8192,Za(Ke,K)):Za(Ke,K)}const da=-1;class ms{constructor(o,u,T){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=T}}function Ql(n){return n!==da}function Ds(n){return 32767&n}function Cl(n,o){let u=function Xl(n){return n>>16}(n),T=o;for(;u>0;)T=T[rr],u--;return T}let za=!0;function ql(n){const o=za;return za=n,o}const Us=255,Na=5;let ld=0;const ps={};function Fl(n,o){const u=Jc(n,o);if(-1!==u)return u;const T=o[yi];T.firstCreatePass&&(n.injectorIndex=o.length,rl(T.data,n),rl(o,null),rl(T.blueprint,null));const N=Js(n,o),K=n.injectorIndex;if(Ql(N)){const _e=Ds(N),Ke=Cl(N,o),ot=Ke[yi].data;for(let Lt=0;Lt<8;Lt++)o[K+Lt]=Ke[_e+Lt]|ot[_e+Lt]}return o[K+8]=N,K}function rl(n,o){n.push(0,0,0,0,0,0,0,0,o)}function Jc(n,o){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===o[n.injectorIndex+8]?-1:n.injectorIndex}function Js(n,o){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let u=0,T=null,N=o;for(;null!==N;){if(T=qc(N),null===T)return da;if(u++,N=N[rr],-1!==T.injectorIndex)return T.injectorIndex|u<<16}return da}function tc(n,o,u){!function Mc(n,o,u){let T;"string"==typeof u?T=u.charCodeAt(0)||0:u.hasOwnProperty(mn)&&(T=u[mn]),null==T&&(T=u[mn]=ld++);const N=T&Us;o.data[n+(N>>Na)]|=1<<N}(n,o,u)}function Bl(n,o,u){if(u&ge.Optional||void 0!==n)return n;Re()}function nc(n,o,u,T){if(u&ge.Optional&&void 0===T&&(T=null),!(u&(ge.Self|ge.Host))){const N=n[Xn],K=Fe(void 0);try{return N?N.get(o,T,u&ge.Optional):ct(o,T,u&ge.Optional)}finally{Fe(K)}}return Bl(T,0,u)}function Ac(n,o,u,T=ge.Default,N){if(null!==n){if(2048&o[$i]&&!(T&ge.Self)){const _e=function Xc(n,o,u,T,N){let K=n,_e=o;for(;null!==K&&null!==_e&&2048&_e[$i]&&!(512&_e[$i]);){const Ke=Bc(K,_e,u,T|ge.Self,ps);if(Ke!==ps)return Ke;let ot=K.parent;if(!ot){const Lt=_e[Ks];if(Lt){const nn=Lt.get(u,ps,T);if(nn!==ps)return nn}ot=qc(_e),_e=_e[rr]}K=ot}return N}(n,o,u,T,ps);if(_e!==ps)return _e}const K=Bc(n,o,u,T,ps);if(K!==ps)return K}return nc(o,u,T,N)}function Bc(n,o,u,T,N){const K=function Sl(n){if("string"==typeof n)return n.charCodeAt(0)||0;const o=n.hasOwnProperty(mn)?n[mn]:void 0;return"number"==typeof o?o>=0?o&Us:Uc:o}(u);if("function"==typeof K){if(!$s(o,n,T))return T&ge.Host?Bl(N,0,T):nc(o,u,T,N);try{const _e=K(T);if(null!=_e||T&ge.Optional)return _e;Re()}finally{Po()}}else if("number"==typeof K){let _e=null,Ke=Jc(n,o),ot=da,Lt=T&ge.Host?o[Ki][zr]:null;for((-1===Ke||T&ge.SkipSelf)&&(ot=-1===Ke?Js(n,o):o[Ke+8],ot!==da&&Ul(T,!1)?(_e=o[yi],Ke=Ds(ot),o=Cl(ot,o)):Ke=-1);-1!==Ke;){const nn=o[yi];if(Dl(K,Ke,nn.data)){const Sn=Qc(Ke,o,u,_e,T,Lt);if(Sn!==ps)return Sn}ot=o[Ke+8],ot!==da&&Ul(T,o[yi].data[Ke+8]===Lt)&&Dl(K,Ke,o)?(_e=nn,Ke=Ds(ot),o=Cl(ot,o)):Ke=-1}}return N}function Qc(n,o,u,T,N,K){const _e=o[yi],Ke=_e.data[n+8],nn=Qs(Ke,_e,u,null==T?Ao(Ke)&&za:T!=_e&&0!=(3&Ke.type),N&ge.Host&&K===Ke);return null!==nn?La(o,_e,nn,Ke):ps}function Qs(n,o,u,T,N){const K=n.providerIndexes,_e=o.data,Ke=1048575&K,ot=n.directiveStart,nn=K>>20,jn=N?Ke+nn:n.directiveEnd;for(let Jn=T?Ke:Ke+nn;Jn<jn;Jn++){const fi=_e[Jn];if(Jn<ot&&u===fi||Jn>=ot&&fi.type===u)return Jn}if(N){const Jn=_e[ot];if(Jn&&mr(Jn)&&Jn.type===u)return ot}return null}function La(n,o,u,T){let N=n[u];const K=o.data;if(function Tl(n){return n instanceof ms}(N)){const _e=N;_e.resolving&&function Z(n,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${n}`:"";throw new E(-200,`Circular dependency in DI detected for ${n}${u}`)}(function B(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():b(n)}(K[u]));const Ke=ql(_e.canSeeViewProviders);_e.resolving=!0;const ot=_e.injectImpl?Fe(_e.injectImpl):null;$s(n,T,ge.Default);try{N=n[u]=_e.factory(void 0,K,n,T),o.firstCreatePass&&u>=T.directiveStart&&function Er(n,o,u){const{ngOnChanges:T,ngOnInit:N,ngDoCheck:K}=o.type.prototype;if(T){const _e=ga(o);(u.preOrderHooks??=[]).push(n,_e),(u.preOrderCheckHooks??=[]).push(n,_e)}N&&(u.preOrderHooks??=[]).push(0-n,N),K&&((u.preOrderHooks??=[]).push(n,K),(u.preOrderCheckHooks??=[]).push(n,K))}(u,K[u],o)}finally{null!==ot&&Fe(ot),ql(Ke),_e.resolving=!1,Po()}}return N}function Dl(n,o,u){return!!(u[o+(n>>Na)]&1<<n)}function Ul(n,o){return!(n&ge.Self||n&ge.Host&&o)}class Gl{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,T){return Ac(this._tNode,this._lView,o,st(T),u)}}function Uc(){return new Gl(Go(),ci())}function xc(n){return En(()=>{const o=n.prototype.constructor,u=o[yn]||Ic(o),T=Object.prototype;let N=Object.getPrototypeOf(n.prototype).constructor;for(;N&&N!==T;){const K=N[yn]||Ic(N);if(K&&K!==u)return K;N=Object.getPrototypeOf(N)}return K=>new K})}function Ic(n){return R(n)?()=>{const o=Ic(x(n));return o&&o()}:_t(n)}function qc(n){const o=n[yi],u=o.type;return 2===u?o.declTNode:1===u?n[zr]:null}function ic(n){return function vd(n,o){if("class"===o)return n.classes;if("style"===o)return n.styles;const u=n.attrs;if(u){const T=u.length;let N=0;for(;N<T;){const K=u[N];if(Tn(K))break;if(0===K)N+=2;else if("number"==typeof K)for(N++;N<T&&"string"==typeof u[N];)N++;else{if(K===o)return u[N+1];N+=2}}}return null}(Go(),n)}const ka="__parameters__";function Ja(n,o,u){return En(()=>{const T=function Hl(n){return function(...u){if(n){const T=n(...u);for(const N in T)this[N]=T[N]}}}(o);function N(...K){if(this instanceof N)return T.apply(this,K),this;const _e=new N(...K);return Ke.annotation=_e,Ke;function Ke(ot,Lt,nn){const Sn=ot.hasOwnProperty(ka)?ot[ka]:Object.defineProperty(ot,ka,{value:[]})[ka];for(;Sn.length<=nn;)Sn.push(null);return(Sn[nn]=Sn[nn]||[]).push(_e),ot}}return u&&(N.prototype=Object.create(u.prototype)),N.prototype.ngMetadataName=n,N.annotationCls=N,N})}function Ta(n,o){n.forEach(u=>Array.isArray(u)?Ta(u,o):o(u))}function ed(n,o,u){o>=n.length?n.push(u):n.splice(o,0,u)}function ac(n,o){return o>=n.length-1?n.pop():n.splice(o,1)[0]}function Al(n,o){const u=[];for(let T=0;T<n;T++)u.push(o);return u}function ut(n,o,u){let T=hn(n,o);return T>=0?n[1|T]=u:(T=~T,function cd(n,o,u,T){let N=n.length;if(N==o)n.push(u,T);else if(1===N)n.push(T,n[0]),n[0]=u;else{for(N--,n.push(n[N-1],n[N]);N>o;)n[N]=n[N-2],N--;n[o]=u,n[o+1]=T}}(n,T,o,u)),T}function Ht(n,o){const u=hn(n,o);if(u>=0)return n[1|u]}function hn(n,o){return function Gn(n,o,u){let T=0,N=n.length>>u;for(;N!==T;){const K=T+(N-T>>1),_e=n[K<<u];if(o===_e)return K<<u;_e>o?N=K:T=K+1}return~(N<<u)}(n,o,1)}const sl=St(Ja("Optional"),8),bo=St(Ja("SkipSelf"),4);function jt(n){return 128==(128&n.flags)}var cn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(cn||{});const bn=/^>|^->|<!--|-->|--!>|<!-$/g,Bn=/(<|>)/,ei="\u200b$1\u200b";const di=new Map;let oi=0;const Rs="__ngContext__";function yr(n,o){Sr(o)?(n[Rs]=o[ko],function gi(n){di.set(n[ko],n)}(o)):n[Rs]=o}let uc;function Ba(n,o){return uc(n,o)}function id(n){const o=n[Pr];return no(o)?o[Pr]:o}function Mu(n){return df(n[Ui])}function cf(n){return df(n[Vr])}function df(n){for(;null!==n&&!no(n);)n=n[Vr];return n}function Fd(n,o,u,T,N){if(null!=T){let K,_e=!1;no(T)?K=T:Sr(T)&&(_e=!0,T=T[Cr]);const Ke=nr(T);0===n&&null!==u?null==N?gf(o,u,Ke):Td(o,u,Ke,N||null,!0):1===n&&null!==u?Td(o,u,Ke,N||null,!0):2===n?function hu(n,o,u){const T=Cd(n,o);T&&function rh(n,o,u,T){n.removeChild(o,u,T)}(n,T,o,u)}(o,Ke,_e):3===n&&o.destroyNode(Ke),null!=K&&function Cf(n,o,u,T,N){const K=u[uo];K!==nr(u)&&Fd(o,n,T,K,N);for(let Ke=Kr;Ke<u.length;Ke++){const ot=u[Ke];Bd(ot[yi],ot,n,o,T,K)}}(o,n,K,u,N)}}function su(n,o){return n.createText(o)}function Au(n,o){return n.createComment(function Zn(n){return n.replace(bn,o=>o.replace(Bn,ei))}(o))}function au(n,o,u){return n.createElement(o,u)}function xu(n,o){const u=n[xs],T=u.indexOf(o);fo(o),u.splice(T,1)}function lu(n,o){if(n.length<=Kr)return;const u=Kr+o,T=n[u];if(T){const N=T[Ir];null!==N&&N!==n&&xu(N,T),o>0&&(n[u-1][Vr]=T[Vr]);const K=ac(n,Kr+o);!function qf(n,o){Bd(n,o,o[li],2,null,null),o[Cr]=null,o[zr]=null}(T[yi],T);const _e=K[Lo];null!==_e&&_e.detachView(K[yi]),T[Pr]=null,T[Vr]=null,T[$i]&=-129}return T}function mf(n,o){if(!(256&o[$i])){const u=o[li];o[ss]?.destroy(),o[as]?.destroy(),u.destroyNode&&Bd(n,o,u,3,null,null),function th(n){let o=n[Ui];if(!o)return cu(n[yi],n);for(;o;){let u=null;if(Sr(o))u=o[Ui];else{const T=o[Kr];T&&(u=T)}if(!u){for(;o&&!o[Vr]&&o!==n;)Sr(o)&&cu(o[yi],o),o=o[Pr];null===o&&(o=n),Sr(o)&&cu(o[yi],o),u=o&&o[Vr]}o=u}}(o)}}function cu(n,o){if(!(256&o[$i])){o[$i]&=-129,o[$i]|=256,function ih(n,o){let u;if(null!=n&&null!=(u=n.destroyHooks))for(let T=0;T<u.length;T+=2){const N=o[u[T]];if(!(N instanceof ms)){const K=u[T+1];if(Array.isArray(K))for(let _e=0;_e<K.length;_e+=2){const Ke=N[K[_e]],ot=K[_e+1];Es(4,Ke,ot);try{ot.call(Ke)}finally{Es(5,Ke,ot)}}else{Es(4,N,K);try{K.call(N)}finally{Es(5,N,K)}}}}}(n,o),function du(n,o){const u=n.cleanup,T=o[po];if(null!==u)for(let K=0;K<u.length-1;K+=2)if("string"==typeof u[K]){const _e=u[K+3];_e>=0?T[_e]():T[-_e].unsubscribe(),K+=2}else u[K].call(T[u[K+1]]);null!==T&&(o[po]=null);const N=o[Xr];if(null!==N){o[Xr]=null;for(let K=0;K<N.length;K++)(0,N[K])()}}(n,o),1===o[yi].type&&o[li].destroy();const u=o[Ir];if(null!==u&&no(o[Pr])){u!==o[Pr]&&xu(u,o);const T=o[Lo];null!==T&&T.detachView(n)}!function Pi(n){di.delete(n[ko])}(o)}}function uu(n,o,u){return pf(n,o.parent,u)}function pf(n,o,u){let T=o;for(;null!==T&&40&T.type;)T=(o=T).parent;if(null===T)return u[Cr];{const{componentOffset:N}=T;if(N>-1){const{encapsulation:K}=n.data[T.directiveStart+N];if(K===Mn.None||K===Mn.Emulated)return null}return Yt(T,u)}}function Td(n,o,u,T,N){n.insertBefore(o,u,T,N)}function gf(n,o,u){n.appendChild(o,u)}function _f(n,o,u,T,N){null!==T?Td(n,o,u,T,N):gf(n,o,u)}function Cd(n,o){return n.parentNode(o)}function vf(n,o,u){return Iu(n,o,u)}function yf(n,o,u){return 40&n.type?Yt(n,u):null}let wu,mu,j,Zt,Iu=yf;function bf(n,o){Iu=n,wu=o}function fu(n,o,u,T){const N=uu(n,T,o),K=o[li],Ke=vf(T.parent||o[zr],T,o);if(null!=N)if(Array.isArray(u))for(let ot=0;ot<u.length;ot++)_f(K,N,u[ot],Ke,!1);else _f(K,N,u,Ke,!1);void 0!==wu&&wu(K,T,o,u,N)}function zd(n,o){if(null!==o){const u=o.type;if(3&u)return Yt(o,n);if(4&u)return Pu(-1,n[o.index]);if(8&u){const T=o.child;if(null!==T)return zd(n,T);{const N=n[o.index];return no(N)?Pu(-1,N):nr(N)}}if(32&u)return Ba(o,n)()||nr(n[o.index]);{const T=Ou(n,o);return null!==T?Array.isArray(T)?T[0]:zd(id(n[Ki]),T):zd(n,o.next)}}return null}function Ou(n,o){return null!==o?n[Ki][zr].projection[o.projection]:null}function Pu(n,o){const u=Kr+n+1;if(u<o.length){const T=o[u],N=T[yi].firstChild;if(null!==N)return zd(T,N)}return o[uo]}function Ru(n,o,u,T,N,K,_e){for(;null!=u;){const Ke=T[u.index],ot=u.type;if(_e&&0===o&&(Ke&&yr(nr(Ke),T),u.flags|=2),32!=(32&u.flags))if(8&ot)Ru(n,o,u.child,T,N,K,!1),Fd(o,n,N,Ke,K);else if(32&ot){const Lt=Ba(u,T);let nn;for(;nn=Lt();)Fd(o,n,N,nn,K);Fd(o,n,N,Ke,K)}else 16&ot?Tf(n,o,T,u,N,K):Fd(o,n,N,Ke,K);u=_e?u.projectionNext:u.next}}function Bd(n,o,u,T,N,K){Ru(u,T,n.firstChild,o,N,K,!1)}function Tf(n,o,u,T,N,K){const _e=u[Ki],ot=_e[zr].projection[T.projection];if(Array.isArray(ot))for(let Lt=0;Lt<ot.length;Lt++)Fd(o,n,N,ot[Lt],K);else{let Lt=ot;const nn=_e[Pr];jt(T)&&(Lt.flags|=128),Ru(n,o,Lt,nn,N,K,!0)}}function Sf(n,o,u){""===u?n.removeAttribute(o,"class"):n.setAttribute(o,"class",u)}function Df(n,o,u){const{mergedAttrs:T,classes:N,styles:K}=u;null!==T&&ht(n,o,T),null!==N&&Sf(n,o,N),null!==K&&function ch(n,o,u){n.setAttribute(o,"style",u)}(n,o,K)}function Ud(n){return function Nu(){if(void 0===mu&&(mu=null,tt.trustedTypes))try{mu=tt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return mu}()?.createHTML(n)||n}function ve(n){j=n}function Ct(){if(void 0!==j)return j;if(typeof document<"u")return document;throw new E(210,!1)}function Rn(){if(void 0===Zt&&(Zt=null,tt.trustedTypes))try{Zt=tt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Zt}function Un(n){return Rn()?.createHTML(n)||n}function ni(n){return Rn()?.createScriptURL(n)||n}class Di{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${I})`}}class Ei extends Di{getTypeName(){return"HTML"}}class Li extends Di{getTypeName(){return"Style"}}class Qr extends Di{getTypeName(){return"Script"}}class Or extends Di{getTypeName(){return"URL"}}class Xi extends Di{getTypeName(){return"ResourceURL"}}function br(n){return n instanceof Di?n.changingThisBreaksApplicationSecurity:n}function Mr(n,o){const u=function Jo(n){return n instanceof Di&&n.getTypeName()||null}(n);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see ${I})`)}return u===o}function Ur(n){return new Ei(n)}function ho(n){return new Li(n)}function To(n){return new Qr(n)}function Qo(n){return new Or(n)}function Ko(n){return new Xi(n)}function ta(n){const o=new Ua(n);return function Vl(){try{return!!(new window.DOMParser).parseFromString(Ud(""),"text/html")}catch{return!1}}()?new Vs(o):o}class Vs{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(Ud(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch{return null}}}class Ua{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const u=this.inertDocument.createElement("template");return u.innerHTML=Ud(o),u}}const qa=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Lc(n){return(n=String(n)).match(qa)?n:"unsafe:"+n}function Ms(n){const o={};for(const u of n.split(","))o[u]=!0;return o}function Ga(...n){const o={};for(const u of n)for(const T in u)u.hasOwnProperty(T)&&(o[T]=!0);return o}const Kl=Ms("area,br,col,hr,img,wbr"),Gd=Ms("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rd=Ms("rp,rt"),Sd=Ga(Kl,Ga(Gd,Ms("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ga(rd,Ms("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ga(rd,Gd)),od=Ms("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),jd=Ga(od,Ms("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ms("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fc=Ms("script,style,template");class gu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,T=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?T=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,T&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let N=this.checkClobberedElement(u,u.nextSibling);if(N){u=N;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!Sd.hasOwnProperty(u))return this.sanitizedSomething=!0,!fc.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const T=o.attributes;for(let N=0;N<T.length;N++){const K=T.item(N),_e=K.name,Ke=_e.toLowerCase();if(!jd.hasOwnProperty(Ke)){this.sanitizedSomething=!0;continue}let ot=K.value;od[Ke]&&(ot=Lc(ot)),this.buf.push(" ",_e,'="',_u(ot),'"')}return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();Sd.hasOwnProperty(u)&&!Kl.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(_u(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const Jd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Qd=/([^\#-~ |!])/g;function _u(n){return n.replace(/&/g,"&amp;").replace(Jd,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Qd,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Dd;function ku(n,o){let u=null;try{Dd=Dd||ta(n);let T=o?String(o):"";u=Dd.getInertBodyElement(T);let N=5,K=T;do{if(0===N)throw new Error("Failed to sanitize html because the input is unstable");N--,T=K,K=u.innerHTML,u=Dd.getInertBodyElement(T)}while(T!==K);return Ud((new gu).sanitizeChildren(Xd(u)||u))}finally{if(u){const T=Xd(u)||u;for(;T.firstChild;)T.removeChild(T.firstChild)}}}function Xd(n){return"content"in n&&function vu(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var sd=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(sd||{});function qd(n){const o=gn();return o?Un(o.sanitize(sd.HTML,n)||""):Mr(n,"HTML")?Un(br(n)):ku(Ct(),b(n))}function Kc(n){const o=gn();return o?o.sanitize(sd.URL,n)||"":Mr(n,"URL")?br(n):Lc(b(n))}function Vd(n){const o=gn();if(o)return ni(o.sanitize(sd.RESOURCE_URL,n)||"");if(Mr(n,"ResourceURL"))return ni(br(n));throw new E(904,!1)}function Ve(n,o,u){return function he(n,o){return"src"===o&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===o&&("base"===n||"link"===n)?Vd:Kc}(o,u)(n)}function gn(){const n=ci();return n&&n[hi].sanitizer}class In{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=je({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Yn=new In("ENVIRONMENT_INITIALIZER"),_i=new In("INJECTOR",-1),Ii=new In("INJECTOR_DEF_TYPES");class Yr{get(o,u=Et){if(u===Et){const T=new Error(`NullInjectorError: No provider for ${h(o)}!`);throw T.name="NullInjectorError",T}return u}}function Tr(n){return{\u0275providers:n}}function ir(...n){return{\u0275providers:ur(0,n),\u0275fromNgModule:!0}}function ur(n,...o){const u=[],T=new Set;let N;return Ta(o,K=>{const _e=K;rs(_e,u,[],T)&&(N||=[],N.push(_e))}),void 0!==N&&No(N,u),u}function No(n,o){for(let u=0;u<n.length;u++){const{providers:N}=n[u];ia(N,K=>{o.push(K)})}}function rs(n,o,u,T){if(!(n=x(n)))return!1;let N=null,K=Q(n);const _e=!K&&Yi(n);if(K||_e){if(_e&&!_e.standalone)return!1;N=n}else{const ot=n.ngModule;if(K=Q(ot),!K)return!1;N=ot}const Ke=T.has(N);if(_e){if(Ke)return!1;if(T.add(N),_e.dependencies){const ot="function"==typeof _e.dependencies?_e.dependencies():_e.dependencies;for(const Lt of ot)rs(Lt,o,u,T)}}else{if(!K)return!1;{if(null!=K.imports&&!Ke){let Lt;T.add(N);try{Ta(K.imports,nn=>{rs(nn,o,u,T)&&(Lt||=[],Lt.push(nn))})}finally{}void 0!==Lt&&No(Lt,o)}if(!Ke){const Lt=_t(N)||(()=>new N);o.push({provide:N,useFactory:Lt,deps:Nn},{provide:Ii,useValue:N,multi:!0},{provide:Yn,useValue:()=>it(N),multi:!0})}const ot=K.providers;null==ot||Ke||ia(ot,nn=>{o.push(nn)})}}return N!==n&&void 0!==n.providers}function ia(n,o){for(let u of n)O(u)&&(u=u.\u0275providers),Array.isArray(u)?ia(u,o):o(u)}const ao=c({provide:String,useValue:c});function Ha(n){return null!==n&&"object"==typeof n&&ao in n}function Il(n){return"function"==typeof n}const Wc=new In("Set Injector scope."),yu={},bu={};let md;function Eu(){return void 0===md&&(md=new Yr),md}class Md{}class zi extends Md{get destroyed(){return this._destroyed}constructor(o,u,T,N){super(),this.parent=u,this.source=T,this.scopes=N,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fu(o,_e=>this.processProvider(_e)),this.records.set(_i,wl(void 0,this)),N.has("environment")&&this.records.set(Md,wl(void 0,this));const K=this.records.get(Wc);null!=K&&"string"==typeof K.value&&this.scopes.add(K.value),this.injectorDefTypes=new Set(this.get(Ii.multi,Nn,ge.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of o)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const u=It(this),T=Fe(void 0);try{return o()}finally{It(u),Fe(T)}}get(o,u=Et,T=ge.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(_n))return o[_n](this);T=st(T);const N=It(this),K=Fe(void 0);try{if(!(T&ge.SkipSelf)){let Ke=this.records.get(o);if(void 0===Ke){const ot=function Ns(n){return"function"==typeof n||"object"==typeof n&&n instanceof In}(o)&&fe(o);Ke=ot&&this.injectableDefInScope(ot)?wl(ar(o),yu):null,this.records.set(o,Ke)}if(null!=Ke)return this.hydrate(o,Ke)}return(T&ge.Self?Eu():this.parent).get(o,u=T&ge.Optional&&u===Et?null:u)}catch(_e){if("NullInjectorError"===_e.name){if((_e[We]=_e[We]||[]).unshift(h(o)),N)throw _e;return function At(n,o,u,T){const N=n[We];throw o[Xt]&&N.unshift(o[Xt]),n.message=function on(n,o,u,T=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let N=h(o);if(Array.isArray(o))N=o.map(h).join(" -> ");else if("object"==typeof o){let K=[];for(let _e in o)if(o.hasOwnProperty(_e)){let Ke=o[_e];K.push(_e+":"+("string"==typeof Ke?JSON.stringify(Ke):h(Ke)))}N=`{${K.join(", ")}}`}return`${u}${T?"("+T+")":""}[${N}]: ${n.replace(Kt,"\n  ")}`}("\n"+n.message,N,u,T),n.ngTokenPath=N,n[We]=null,n}(_e,o,"R3InjectorError",this.source)}throw _e}finally{Fe(K),It(N)}}resolveInjectorInitializers(){const o=It(this),u=Fe(void 0);try{const T=this.get(Yn.multi,Nn,ge.Self);for(const N of T)N()}finally{It(o),Fe(u)}}toString(){const o=[],u=this.records;for(const T of u.keys())o.push(h(T));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(o){let u=Il(o=x(o))?o:x(o&&o.provide);const T=function Co(n){return Ha(n)?wl(void 0,n.useValue):wl(Sa(n),yu)}(o);if(Il(o)||!0!==o.multi)this.records.get(u);else{let N=this.records.get(u);N||(N=wl(void 0,yu,!0),N.factory=()=>lt(N.multi),this.records.set(u,N)),u=o,N.multi.push(o)}this.records.set(u,T)}hydrate(o,u){return u.value===yu&&(u.value=bu,u.value=u.factory()),"object"==typeof u.value&&u.value&&function Ad(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=x(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(o){const u=this._onDestroyHooks.indexOf(o);-1!==u&&this._onDestroyHooks.splice(u,1)}}function ar(n){const o=fe(n),u=null!==o?o.factory:_t(n);if(null!==u)return u;if(n instanceof In)throw new E(204,!1);if(n instanceof Function)return function fr(n){const o=n.length;if(o>0)throw Al(o,"?"),new E(204,!1);const u=function $(n){return n&&(n[ne]||n[re])||null}(n);return null!==u?()=>u.factory(n):()=>new n}(n);throw new E(204,!1)}function Sa(n,o,u){let T;if(Il(n)){const N=x(n);return _t(N)||ar(N)}if(Ha(n))T=()=>x(n.useValue);else if(function al(n){return!(!n||!n.useFactory)}(n))T=()=>n.useFactory(...lt(n.deps||[]));else if(function Ca(n){return!(!n||!n.useExisting)}(n))T=()=>it(x(n.useExisting));else{const N=x(n&&(n.useClass||n.provide));if(!function hc(n){return!!n.deps}(n))return _t(N)||ar(N);T=()=>new N(...lt(n.deps))}return T}function wl(n,o,u=!1){return{factory:n,value:o,multi:u?[]:void 0}}function Fu(n,o){for(const u of n)Array.isArray(u)?Fu(u,o):u&&O(u)?Fu(u.\u0275providers,o):o(u)}const uh=new In("AppId",{providedIn:"root",factory:()=>ll}),ll="ng",xd=new In("Platform Initializer"),Yl=new In("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),xf=new In("AnimationModuleType"),dy=new In("CSP nonce",{providedIn:"root",factory:()=>Ct().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Pp=(n,o)=>null;function Rp(n,o){return Pp(n,o)}class yy{}class kp{}class Ey{resolveComponentFactory(o){throw function by(n){const o=Error(`No component factory found for ${h(n)}.`);return o.ngComponent=n,o}(o)}}let Of=(()=>{class n{static#e=this.NULL=new Ey}return n})();function Ty(){return Uu(Go(),ci())}function Uu(n,o){return new Pf(Yt(n,o))}let Pf=(()=>{class n{constructor(u){this.nativeElement=u}static#e=this.__NG_ELEMENT_ID__=Ty}return n})();function Cy(n){return n instanceof Pf?n.nativeElement:n}class Bp{}let Sy=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Dy(){const n=ci(),u=zn(Go().index,n);return(Sr(u)?u:n)[li]}()}return n})(),My=(()=>{class n{static#e=this.\u0275prov=je({token:n,providedIn:"root",factory:()=>null})}return n})();class Up{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Gp=new Up("16.1.7"),sm={};function Rf(n){for(;n;){n[$i]|=64;const o=id(n);if(Fo(n)&&!o)return n;n=o}return null}function am(n){return n.ngOriginalError}class Gu{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&am(o);for(;u&&am(u);)u=am(u);return u||null}}const Vp=new In("",{providedIn:"root",factory:()=>!1});function Kp(n){return n.ownerDocument.defaultView}function Kd(n){return n instanceof Function?n():n}class $p extends ds{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(o){this._lView=o}onConsumerDependencyMayHaveChanged(){Rf(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(o,u,T){const N=qr(this);this.trackingVersion++;try{o(u,T)}finally{qr(N)}}destroy(){this.trackingVersion++}}let _h=null;function Jp(){return _h??=new $p,_h}function Qp(n,o){return n[o]??Jp()}function Xp(n,o){const u=Jp();u.hasReadASignal&&(n[o]=_h,u.lView=n,_h=new $p)}const Lr={};function qp(n){eg(or(),ci(),Ge()+n,!1)}function eg(n,o,u,T){if(!T)if(3==(3&o[$i])){const K=n.preOrderCheckHooks;null!==K&&ro(o,K,u)}else{const K=n.preOrderHooks;null!==K&&zo(o,K,0,u)}rt(u)}function rg(n,o=null,u=null,T){const N=og(n,o,u,T);return N.resolveInjectorInitializers(),N}function og(n,o=null,u=null,T,N=new Set){const K=[u||Nn,ir(n)];return T=T||("object"==typeof n?void 0:h(n)),new zi(K,o||Eu(),T||null,N)}let eu=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Et;static#t=this.NULL=new Yr;static create(u,T){if(Array.isArray(u))return rg({name:""},T,u,"");{const N=u.name??"";return rg({name:N},u.parent,u.providers,N)}}static#n=this.\u0275prov=je({token:n,providedIn:"any",factory:()=>it(_i)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function ju(n,o=ge.Default){const u=ci();return null===u?it(n,o):Ac(Go(),u,x(n),o)}function sg(){throw new Error("invalid")}function vh(n,o,u,T,N,K,_e,Ke,ot,Lt,nn){const Sn=o.blueprint.slice();return Sn[Cr]=N,Sn[$i]=140|T,(null!==Lt||n&&2048&n[$i])&&(Sn[$i]|=2048),dr(Sn),Sn[Pr]=Sn[rr]=n,Sn[Dn]=u,Sn[hi]=_e||n&&n[hi],Sn[li]=Ke||n&&n[li],Sn[Xn]=ot||n&&n[Xn]||null,Sn[zr]=K,Sn[ko]=function Ai(){return oi++}(),Sn[_o]=nn,Sn[Ks]=Lt,Sn[Ki]=2==o.type?n[Ki]:Sn,Sn}function Vu(n,o,u,T,N){let K=n.data[o];if(null===K)K=lm(n,o,u,T,N),function Bo(){return Gi.lFrame.inI18n}()&&(K.flags|=32);else if(64&K.type){K.type=u,K.value=T,K.attrs=N;const _e=nl();K.injectorIndex=null===_e?-1:_e.injectorIndex}return io(K,!0),K}function lm(n,o,u,T,N){const K=zc(),_e=Ya(),ot=n.data[o]=function Yy(n,o,u,T,N,K){let _e=o?o.injectorIndex:-1,Ke=0;return aa()&&(Ke|=128),{type:u,index:T,insertBeforeIndex:null,injectorIndex:_e,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Ke,providerIndexes:0,value:N,attrs:K,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_e?K:K&&K.parent,u,o,T,N);return null===n.firstChild&&(n.firstChild=ot),null!==K&&(_e?null==K.child&&null!==ot.parent&&(K.child=ot):null===K.next&&(K.next=ot,ot.prev=K)),ot}function Nf(n,o,u,T){if(0===u)return-1;const N=o.length;for(let K=0;K<u;K++)o.push(T),n.blueprint.push(T),n.data.push(null);return N}function ag(n,o,u,T,N){const K=Qp(o,ss),_e=Ge(),Ke=2&T;try{if(rt(-1),Ke&&o.length>lr&&eg(n,o,lr,!1),Es(Ke?2:0,N),Ke)K.runInContext(u,T,N);else{const Lt=qr(null);try{u(T,N)}finally{qr(Lt)}}}finally{Ke&&null===o[ss]&&Xp(o,ss),rt(_e),Es(Ke?3:1,N)}}function cm(n,o,u){if(ua(o)){const T=qr(null);try{const K=o.directiveEnd;for(let _e=o.directiveStart;_e<K;_e++){const Ke=n.data[_e];Ke.contentQueries&&Ke.contentQueries(1,u[_e],_e)}}finally{qr(T)}}}function dm(n,o,u){va()&&(function qy(n,o,u,T){const N=u.directiveStart,K=u.directiveEnd;Ao(u)&&function sb(n,o,u){const T=Yt(o,n),N=lg(u);let _e=16;u.signals?_e=4096:u.onPush&&(_e=64);const Ke=yh(n,vh(n,N,null,_e,T,o,null,n[hi].rendererFactory.createRenderer(T,u),null,null,null));n[o.index]=Ke}(o,u,n.data[N+u.componentOffset]),n.firstCreatePass||Fl(u,o),yr(T,o);const _e=u.initialInputs;for(let Ke=N;Ke<K;Ke++){const ot=n.data[Ke],Lt=La(o,n,Ke,u);yr(Lt,o),null!==_e&&ab(0,Ke-N,Lt,ot,0,_e),mr(ot)&&(zn(u.index,o)[Dn]=La(o,n,Ke,u))}}(n,o,u,Yt(u,o)),64==(64&u.flags)&&hg(n,o,u))}function um(n,o,u=Yt){const T=o.localNames;if(null!==T){let N=o.index+1;for(let K=0;K<T.length;K+=2){const _e=T[K+1],Ke=-1===_e?u(o,n):n[_e];n[N++]=Ke}}}function lg(n){const o=n.tView;return null===o||o.incompleteFirstPass?n.tView=fm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):o}function fm(n,o,u,T,N,K,_e,Ke,ot,Lt,nn){const Sn=lr+T,jn=Sn+N,Jn=function Gy(n,o){const u=[];for(let T=0;T<o;T++)u.push(T<n?null:Lr);return u}(Sn,jn),fi="function"==typeof Lt?Lt():Lt;return Jn[yi]={type:n,blueprint:Jn,template:u,queries:null,viewQuery:Ke,declTNode:o,data:Jn.slice().fill(null,Sn),bindingStartIndex:Sn,expandoStartIndex:jn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof K?K():K,pipeRegistry:"function"==typeof _e?_e():_e,firstChild:null,schemas:ot,consts:fi,incompleteFirstPass:!1,ssrId:nn}}let cg=n=>null;function dg(n,o,u,T){for(let N in n)if(n.hasOwnProperty(N)){u=null===u?{}:u;const K=n[N];null===T?ug(u,o,N,K):T.hasOwnProperty(N)&&ug(u,o,T[N],K)}return u}function ug(n,o,u,T){n.hasOwnProperty(u)?n[u].push(o,T):n[u]=[o,T]}function Yc(n,o,u,T,N,K,_e,Ke){const ot=Yt(o,u);let nn,Lt=o.inputs;!Ke&&null!=Lt&&(nn=Lt[T])?(_m(n,u,nn,T,N),Ao(o)&&function $y(n,o){const u=zn(o,n);16&u[$i]||(u[$i]|=64)}(u,o.index)):3&o.type&&(T=function zy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(T),N=null!=_e?_e(N,o.value||"",T):N,K.setProperty(ot,T,N))}function hm(n,o,u,T){if(va()){const N=null===T?null:{"":-1},K=function tb(n,o){const u=n.directiveRegistry;let T=null,N=null;if(u)for(let K=0;K<u.length;K++){const _e=u[K];if(Vn(o,_e.selectors,!1))if(T||(T=[]),mr(_e))if(null!==_e.findHostDirectiveDefs){const Ke=[];N=N||new Map,_e.findHostDirectiveDefs(_e,Ke,N),T.unshift(...Ke,_e),mm(n,o,Ke.length)}else T.unshift(_e),mm(n,o,0);else N=N||new Map,_e.findHostDirectiveDefs?.(_e,T,N),T.push(_e)}return null===T?null:[T,N]}(n,u);let _e,Ke;null===K?_e=Ke=null:[_e,Ke]=K,null!==_e&&fg(n,o,u,_e,N,Ke),N&&function nb(n,o,u){if(o){const T=n.localNames=[];for(let N=0;N<o.length;N+=2){const K=u[o[N+1]];if(null==K)throw new E(-301,!1);T.push(o[N],K)}}}(u,T,N)}u.mergedAttrs=Dt(u.mergedAttrs,u.attrs)}function fg(n,o,u,T,N,K){for(let Lt=0;Lt<T.length;Lt++)tc(Fl(u,o),n,T[Lt].type);!function rb(n,o,u){n.flags|=1,n.directiveStart=o,n.directiveEnd=o+u,n.providerIndexes=o}(u,n.data.length,T.length);for(let Lt=0;Lt<T.length;Lt++){const nn=T[Lt];nn.providersResolver&&nn.providersResolver(nn)}let _e=!1,Ke=!1,ot=Nf(n,o,T.length,null);for(let Lt=0;Lt<T.length;Lt++){const nn=T[Lt];u.mergedAttrs=Dt(u.mergedAttrs,nn.hostAttrs),ob(n,u,o,ot,nn),ib(ot,nn,N),null!==nn.contentQueries&&(u.flags|=4),(null!==nn.hostBindings||null!==nn.hostAttrs||0!==nn.hostVars)&&(u.flags|=64);const Sn=nn.type.prototype;!_e&&(Sn.ngOnChanges||Sn.ngOnInit||Sn.ngDoCheck)&&((n.preOrderHooks??=[]).push(u.index),_e=!0),!Ke&&(Sn.ngOnChanges||Sn.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(u.index),Ke=!0),ot++}!function Zy(n,o,u){const N=o.directiveEnd,K=n.data,_e=o.attrs,Ke=[];let ot=null,Lt=null;for(let nn=o.directiveStart;nn<N;nn++){const Sn=K[nn],jn=u?u.get(Sn):null,fi=jn?jn.outputs:null;ot=dg(Sn.inputs,nn,ot,jn?jn.inputs:null),Lt=dg(Sn.outputs,nn,Lt,fi);const bi=null===ot||null===_e||kt(o)?null:lb(ot,nn,_e);Ke.push(bi)}null!==ot&&(ot.hasOwnProperty("class")&&(o.flags|=8),ot.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=Ke,o.inputs=ot,o.outputs=Lt}(n,u,K)}function hg(n,o,u){const T=u.directiveStart,N=u.directiveEnd,K=u.index,_e=function ca(){return Gi.lFrame.currentDirectiveIndex}();try{rt(K);for(let Ke=T;Ke<N;Ke++){const ot=n.data[Ke],Lt=o[Ke];Bs(Ke),(null!==ot.hostBindings||0!==ot.hostVars||null!==ot.hostAttrs)&&eb(ot,Lt)}}finally{rt(-1),Bs(_e)}}function eb(n,o){null!==n.hostBindings&&n.hostBindings(1,o)}function mm(n,o,u){o.componentOffset=u,(n.components??=[]).push(o.index)}function ib(n,o,u){if(u){if(o.exportAs)for(let T=0;T<o.exportAs.length;T++)u[o.exportAs[T]]=n;mr(o)&&(u[""]=n)}}function ob(n,o,u,T,N){n.data[T]=N;const K=N.factory||(N.factory=_t(N.type)),_e=new ms(K,mr(N),ju);n.blueprint[T]=_e,u[T]=_e,function Qy(n,o,u,T,N){const K=N.hostBindings;if(K){let _e=n.hostBindingOpCodes;null===_e&&(_e=n.hostBindingOpCodes=[]);const Ke=~o.index;(function Xy(n){let o=n.length;for(;o>0;){const u=n[--o];if("number"==typeof u&&u<0)return u}return 0})(_e)!=Ke&&_e.push(Ke),_e.push(u,T,K)}}(n,o,T,Nf(n,u,N.hostVars,Lr),N)}function Id(n,o,u,T,N,K){const _e=Yt(n,o);!function pm(n,o,u,T,N,K,_e){if(null==K)n.removeAttribute(o,N,u);else{const Ke=null==_e?b(K):_e(K,T||"",N);n.setAttribute(o,N,Ke,u)}}(o[li],_e,K,n.value,u,T,N)}function ab(n,o,u,T,N,K){const _e=K[o];if(null!==_e)for(let Ke=0;Ke<_e.length;)mg(T,u,_e[Ke++],_e[Ke++],_e[Ke++])}function mg(n,o,u,T,N){const K=qr(null);try{const _e=n.inputTransforms;null!==_e&&_e.hasOwnProperty(T)&&(N=_e[T].call(o,N)),null!==n.setInput?n.setInput(o,N,u,T):o[T]=N}finally{qr(K)}}function lb(n,o,u){let T=null,N=0;for(;N<u.length;){const K=u[N];if(0!==K)if(5!==K){if("number"==typeof K)break;if(n.hasOwnProperty(K)){null===T&&(T=[]);const _e=n[K];for(let Ke=0;Ke<_e.length;Ke+=2)if(_e[Ke]===o){T.push(K,_e[Ke+1],u[N+1]);break}}N+=2}else N+=2;else N+=4}return T}function pg(n,o,u,T){return[n,!0,!1,o,null,0,T,u,null,null,null]}function gg(n,o){const u=n.contentQueries;if(null!==u)for(let T=0;T<u.length;T+=2){const K=u[T+1];if(-1!==K){const _e=n.data[K];yl(u[T]),_e.contentQueries(2,o[K],K)}}}function yh(n,o){return n[Ui]?n[Ji][Vr]=o:n[Ui]=o,n[Ji]=o,o}function gm(n,o,u){yl(0);const T=qr(null);try{o(n,u)}finally{qr(T)}}function _g(n){return n[po]||(n[po]=[])}function vg(n){return n.cleanup||(n.cleanup=[])}function yg(n,o,u){return(null===n||mr(n))&&(u=function Ka(n){for(;Array.isArray(n);){if("object"==typeof n[qo])return n;n=n[Cr]}return null}(u[o.index])),u[li]}function bg(n,o){const u=n[Xn],T=u?u.get(Gu,null):null;T&&T.handleError(o)}function _m(n,o,u,T,N){for(let K=0;K<u.length;){const _e=u[K++],Ke=u[K++];mg(n.data[_e],o[_e],T,Ke,N)}}function Wd(n,o,u){const T=ze(o,n);!function uf(n,o,u){n.setValue(o,u)}(n[li],T,u)}function cb(n,o){const u=zn(o,n),T=u[yi];!function db(n,o){for(let u=o.length;u<n.blueprint.length;u++)o.push(n.blueprint[u])}(T,u);const N=u[Cr];null!==N&&null===u[_o]&&(u[_o]=Rp(N,u[Xn])),vm(T,u,u[Dn])}function vm(n,o,u){bl(o);try{const T=n.viewQuery;null!==T&&gm(1,T,u);const N=n.template;null!==N&&ag(n,o,N,1,u),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&gg(n,o),n.staticViewQueries&&gm(2,n.viewQuery,u);const K=n.components;null!==K&&function ub(n,o){for(let u=0;u<o.length;u++)cb(n,o[u])}(o,K)}catch(T){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),T}finally{o[$i]&=-5,Pa()}}let Eg=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(u,T,N){const K=typeof Zone>"u"?null:Zone.current,_e=new Pl(u,Lt=>{this.all.has(Lt)&&this.queue.set(Lt,K)},N);let Ke;this.all.add(_e),_e.notify();const ot=()=>{_e.cleanup(),Ke?.(),this.all.delete(_e),this.queue.delete(_e)};return Ke=T?.onDestroy(ot),{destroy:ot}}flush(){if(0!==this.queue.size)for(const[u,T]of this.queue)this.queue.delete(u),T?T.run(()=>u.run()):u.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=je({token:n,providedIn:"root",factory:()=>new n})}return n})();function bh(n,o,u){let T=u?n.styles:null,N=u?n.classes:null,K=0;if(null!==o)for(let _e=0;_e<o.length;_e++){const Ke=o[_e];"number"==typeof Ke?K=Ke:1==K?N=p(N,Ke):2==K&&(T=p(T,Ke+": "+o[++_e]+";"))}u?n.styles=T:n.stylesWithoutHost=T,u?n.classes=N:n.classesWithoutHost=N}function Lf(n,o,u,T,N=!1){for(;null!==u;){const K=o[u.index];if(null!==K&&T.push(nr(K)),no(K)){for(let Ke=Kr;Ke<K.length;Ke++){const ot=K[Ke],Lt=ot[yi].firstChild;null!==Lt&&Lf(ot[yi],ot,Lt,T)}K[uo]!==K[Cr]&&T.push(K[uo])}const _e=u.type;if(8&_e)Lf(n,o,u.child,T);else if(32&_e){const Ke=Ba(u,o);let ot;for(;ot=Ke();)T.push(ot)}else if(16&_e){const Ke=Ou(o,u);if(Array.isArray(Ke))T.push(...Ke);else{const ot=id(o[Ki]);Lf(ot[yi],ot,Ke,T,!0)}}u=N?u.projectionNext:u.next}return T}function Eh(n,o,u,T=!0){const N=o[hi].rendererFactory;N.begin&&N.begin();try{Tg(n,o,n.template,u)}catch(_e){throw T&&bg(o,_e),_e}finally{N.end&&N.end(),o[hi].effectManager?.flush()}}function Tg(n,o,u,T){const N=o[$i];if(256!=(256&N)){o[hi].effectManager?.flush(),bl(o);try{dr(o),function _l(n){return Gi.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==u&&ag(n,o,u,2,T);const _e=3==(3&N);if(_e){const Lt=n.preOrderCheckHooks;null!==Lt&&ro(o,Lt,null)}else{const Lt=n.preOrderHooks;null!==Lt&&zo(o,Lt,0,null),hs(o,0)}if(function gb(n){for(let o=Mu(n);null!==o;o=cf(o)){if(!o[Ws])continue;const u=o[xs];for(let T=0;T<u.length;T++){er(u[T])}}}(o),Cg(o,2),null!==n.contentQueries&&gg(n,o),_e){const Lt=n.contentCheckHooks;null!==Lt&&ro(o,Lt)}else{const Lt=n.contentHooks;null!==Lt&&zo(o,Lt,1),hs(o,1)}!function Uy(n,o){const u=n.hostBindingOpCodes;if(null===u)return;const T=Qp(o,as);try{for(let N=0;N<u.length;N++){const K=u[N];if(K<0)rt(~K);else{const _e=K,Ke=u[++N],ot=u[++N];Ea(Ke,_e),T.runInContext(ot,2,o[_e])}}}finally{null===o[as]&&Xp(o,as),rt(-1)}}(n,o);const Ke=n.components;null!==Ke&&Dg(o,Ke,0);const ot=n.viewQuery;if(null!==ot&&gm(2,ot,T),_e){const Lt=n.viewCheckHooks;null!==Lt&&ro(o,Lt)}else{const Lt=n.viewHooks;null!==Lt&&zo(o,Lt,2),hs(o,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o[$i]&=-73,fo(o)}finally{Pa()}}}function Cg(n,o){for(let u=Mu(n);null!==u;u=cf(u))for(let T=Kr;T<u.length;T++)Sg(u[T],o)}function _b(n,o,u){Sg(zn(o,n),u)}function Sg(n,o){if(!function Fi(n){return 128==(128&n[$i])}(n))return;const u=n[yi];if(80&n[$i]&&0===o||1024&n[$i]||2===o)Tg(u,n,u.template,n[Dn]);else if(n[Mo]>0){Cg(n,1);const N=n[yi].components;null!==N&&Dg(n,N,1)}}function Dg(n,o,u){for(let T=0;T<o.length;T++)_b(n,o[T],u)}class kf{get rootNodes(){const o=this._lView,u=o[yi];return Lf(u,o,u.firstChild,[])}constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Dn]}set context(o){this._lView[Dn]=o}get destroyed(){return 256==(256&this._lView[$i])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Pr];if(no(o)){const u=o[8],T=u?u.indexOf(this):-1;T>-1&&(lu(o,T),ac(u,T))}this._attachedToViewContainer=!1}mf(this._lView[yi],this._lView)}onDestroy(o){!function _r(n,o){if(256==(256&n[$i]))throw new E(911,!1);null===n[Xr]&&(n[Xr]=[]),n[Xr].push(o)}(this._lView,o)}markForCheck(){Rf(this._cdRefInjectingView||this._lView)}detach(){this._lView[$i]&=-129}reattach(){this._lView[$i]|=128}detectChanges(){Eh(this._lView[yi],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function eh(n,o){Bd(n,o,o[li],2,null,null)}(this._lView[yi],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=o}}class vb extends kf{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Eh(o[yi],o,o[Dn],!1)}checkNoChanges(){}get context(){return null}}class Mg extends Of{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Yi(o);return new Ff(u,this.ngModule)}}function Ag(n){const o=[];for(let u in n)n.hasOwnProperty(u)&&o.push({propName:n[u],templateName:u});return o}class bb{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,T){T=st(T);const N=this.injector.get(o,sm,T);return N!==sm||u===sm?N:this.parentInjector.get(o,u,T)}}class Ff extends kp{get inputs(){const o=this.componentDef,u=o.inputTransforms,T=Ag(o.inputs);if(null!==u)for(const N of T)u.hasOwnProperty(N.propName)&&(N.transform=u[N.propName]);return T}get outputs(){return Ag(this.componentDef.outputs)}constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function ln(n){return n.map(Rt).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}create(o,u,T,N){let K=(N=N||this.ngModule)instanceof Md?N:N?.injector;K&&null!==this.componentDef.getStandaloneInjector&&(K=this.componentDef.getStandaloneInjector(K)||K);const _e=K?new bb(o,K):o,Ke=_e.get(Bp,null);if(null===Ke)throw new E(407,!1);const nn={rendererFactory:Ke,sanitizer:_e.get(My,null),effectManager:_e.get(Eg,null)},Sn=Ke.createRenderer(null,this.componentDef),jn=this.componentDef.selectors[0][0]||"div",Jn=T?function Hy(n,o,u,T){const K=T.get(Vp,!1)||u===Mn.ShadowDom,_e=n.selectRootElement(o,K);return function jy(n){cg(n)}(_e),_e}(Sn,T,this.componentDef.encapsulation,_e):au(Sn,jn,function yb(n){const o=n.toLowerCase();return"svg"===o?Oa:"math"===o?"math":null}(jn)),Bi=this.componentDef.signals?4608:this.componentDef.onPush?576:528,qi=fm(0,null,null,1,0,null,null,null,null,null,null),pi=vh(null,qi,null,Bi,null,null,nn,Sn,_e,null,null);let Ar,mo;bl(pi);try{const So=this.componentDef;let zl,$h=null;So.findHostDirectiveDefs?(zl=[],$h=new Map,So.findHostDirectiveDefs(So,zl,$h),zl.push(So)):zl=[So];const cD=function Tb(n,o){const u=n[yi],T=lr;return n[T]=o,Vu(u,T,2,"#host",null)}(pi,Jn),dD=function Cb(n,o,u,T,N,K,_e){const Ke=N[yi];!function Sb(n,o,u,T){for(const N of n)o.mergedAttrs=Dt(o.mergedAttrs,N.hostAttrs);null!==o.mergedAttrs&&(bh(o,o.mergedAttrs,!0),null!==u&&Df(T,u,o))}(T,n,o,_e);let ot=null;null!==o&&(ot=Rp(o,N[Xn]));const Lt=K.rendererFactory.createRenderer(o,u);let nn=16;u.signals?nn=4096:u.onPush&&(nn=64);const Sn=vh(N,lg(u),null,nn,N[n.index],n,K,Lt,null,null,ot);return Ke.firstCreatePass&&mm(Ke,n,T.length-1),yh(N,Sn),N[n.index]=Sn}(cD,Jn,So,zl,pi,nn,Sn);mo=Vt(qi,lr),Jn&&function Mb(n,o,u,T){if(T)ht(n,u,["ng-version",Gp.full]);else{const{attrs:N,classes:K}=function Fn(n){const o=[],u=[];let T=1,N=2;for(;T<n.length;){let K=n[T];if("string"==typeof K)2===N?""!==K&&o.push(K,n[++T]):8===N&&u.push(K);else{if(!en(N))break;N=K}T++}return{attrs:o,classes:u}}(o.selectors[0]);N&&ht(n,u,N),K&&K.length>0&&Sf(n,u,K.join(" "))}}(Sn,So,Jn,T),void 0!==u&&function Ab(n,o,u){const T=n.projection=[];for(let N=0;N<o.length;N++){const K=u[N];T.push(null!=K?Array.from(K):null)}}(mo,this.ngContentSelectors,u),Ar=function Db(n,o,u,T,N,K){const _e=Go(),Ke=N[yi],ot=Yt(_e,N);fg(Ke,N,_e,u,null,T);for(let nn=0;nn<u.length;nn++)yr(La(N,Ke,_e.directiveStart+nn,_e),N);hg(Ke,N,_e),ot&&yr(ot,N);const Lt=La(N,Ke,_e.directiveStart+_e.componentOffset,_e);if(n[Dn]=N[Dn]=Lt,null!==K)for(const nn of K)nn(Lt,o);return cm(Ke,_e,n),Lt}(dD,So,zl,$h,pi,[xb]),vm(qi,pi,null)}finally{Pa()}return new Eb(this.componentType,Ar,Uu(mo,pi),pi,mo)}}class Eb extends yy{constructor(o,u,T,N,K){super(),this.location=T,this._rootLView=N,this._tNode=K,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new vb(N),this.componentType=o}setInput(o,u){const T=this._tNode.inputs;let N;if(null!==T&&(N=T[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),u))return;const K=this._rootLView;_m(K[yi],K,N,o,u),this.previousInputValues.set(o,u),Rf(zn(this._tNode.index,K))}}get injector(){return new Gl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function xb(){const n=Go();Jr(ci()[yi],n)}function ym(n){let o=function xg(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),u=!0;const T=[n];for(;o;){let N;if(mr(n))N=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new E(903,!1);N=o.\u0275dir}if(N){if(u){T.push(N);const _e=n;_e.inputs=Th(n.inputs),_e.inputTransforms=Th(n.inputTransforms),_e.declaredInputs=Th(n.declaredInputs),_e.outputs=Th(n.outputs);const Ke=N.hostBindings;Ke&&Pb(n,Ke);const ot=N.viewQuery,Lt=N.contentQueries;if(ot&&wb(n,ot),Lt&&Ob(n,Lt),d(n.inputs,N.inputs),d(n.declaredInputs,N.declaredInputs),d(n.outputs,N.outputs),null!==N.inputTransforms&&(null===_e.inputTransforms&&(_e.inputTransforms={}),d(_e.inputTransforms,N.inputTransforms)),mr(N)&&N.data.animation){const nn=n.data;nn.animation=(nn.animation||[]).concat(N.data.animation)}}const K=N.features;if(K)for(let _e=0;_e<K.length;_e++){const Ke=K[_e];Ke&&Ke.ngInherit&&Ke(n),Ke===ym&&(u=!1)}}o=Object.getPrototypeOf(o)}!function Ib(n){let o=0,u=null;for(let T=n.length-1;T>=0;T--){const N=n[T];N.hostVars=o+=N.hostVars,N.hostAttrs=Dt(N.hostAttrs,u=Dt(u,N.hostAttrs))}}(T)}function Th(n){return n===wn?{}:n===Nn?[]:n}function wb(n,o){const u=n.viewQuery;n.viewQuery=u?(T,N)=>{o(T,N),u(T,N)}:o}function Ob(n,o){const u=n.contentQueries;n.contentQueries=u?(T,N,K)=>{o(T,N,K),u(T,N,K)}:o}function Pb(n,o){const u=n.hostBindings;n.hostBindings=u?(T,N)=>{o(T,N),u(T,N)}:o}function Ig(n){return o=>{o.findHostDirectiveDefs=wg,o.hostDirectives=(Array.isArray(n)?n:n()).map(u=>"function"==typeof u?{directive:x(u),inputs:wn,outputs:wn}:{directive:x(u.directive),inputs:Og(u.inputs),outputs:Og(u.outputs)})}}function wg(n,o,u){if(null!==n.hostDirectives)for(const T of n.hostDirectives){const N=Hr(T.directive);kb(N.declaredInputs,T.inputs),wg(N,o,u),u.set(N,T),o.push(N)}}function Og(n){if(void 0===n||0===n.length)return wn;const o={};for(let u=0;u<n.length;u+=2)o[n[u]]=n[u+1];return o}function kb(n,o){for(const u in o)o.hasOwnProperty(u)&&(n[o[u]]=n[u])}function Rg(n){const o=n.inputConfig,u={};for(const T in o)if(o.hasOwnProperty(T)){const N=o[T];Array.isArray(N)&&N[2]&&(u[T]=N[2])}n.inputTransforms=u}function Ch(n){return!!bm(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function bm(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function wd(n,o,u){return n[o]=u}function Zl(n,o,u){return!Object.is(n[o],u)&&(n[o]=u,!0)}function Tu(n,o,u,T){const N=Zl(n,o,u);return Zl(n,o+1,T)||N}function Sh(n,o,u,T,N){const K=Tu(n,o,u,T);return Zl(n,o+2,N)||K}function Em(n,o,u,T){const N=ci();return Zl(N,go(),o)&&(or(),Id(xe(),N,n,o,u,T)),Em}function Wu(n,o,u,T){return Zl(n,go(),u)?o+b(u)+T:Lr}function Yu(n,o,u,T,N,K){const Ke=Tu(n,la(),u,N);return xo(2),Ke?o+b(u)+T+b(N)+K:Lr}function Yg(n,o,u,T,N,K,_e,Ke){const ot=ci(),Lt=or(),nn=n+lr,Sn=Lt.firstCreatePass?function nE(n,o,u,T,N,K,_e,Ke,ot){const Lt=o.consts,nn=Vu(o,n,4,_e||null,gr(Lt,Ke));hm(o,u,nn,gr(Lt,ot)),Jr(o,nn);const Sn=nn.tView=fm(2,nn,T,N,K,o.directiveRegistry,o.pipeRegistry,null,o.schemas,Lt,null);return null!==o.queries&&(o.queries.template(o,nn),Sn.queries=o.queries.embeddedTView(nn)),nn}(nn,Lt,ot,o,u,T,N,K,_e):Lt.data[nn];io(Sn,!1);const jn=Zg(Lt,ot,Sn,n);Oi()&&fu(Lt,ot,jn,Sn),yr(jn,ot),yh(ot,ot[nn]=pg(jn,ot,jn,Sn)),kr(Sn)&&dm(Lt,ot,Sn),null!=_e&&um(ot,Sn,Ke)}let Zg=function zg(n,o,u,T){return Ri(!0),o[li].createComment("")};function $g(n){return Cn(function Ll(){return Gi.lFrame.contextLView}(),lr+n)}function Am(n,o,u){const T=ci();return Zl(T,go(),o)&&Yc(or(),xe(),T,n,o,T[li],u,!1),Am}function xm(n,o,u,T,N){const _e=N?"class":"style";_m(n,u,o.inputs[_e],_e,T)}function xh(n,o,u,T){const N=ci(),K=or(),_e=lr+n,Ke=N[li],ot=K.firstCreatePass?function sE(n,o,u,T,N,K){const _e=o.consts,ot=Vu(o,n,2,T,gr(_e,N));return hm(o,u,ot,gr(_e,K)),null!==ot.attrs&&bh(ot,ot.attrs,!1),null!==ot.mergedAttrs&&bh(ot,ot.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,ot),ot}(_e,K,N,o,u,T):K.data[_e],Lt=Jg(K,N,ot,Ke,o,n);N[_e]=Lt;const nn=kr(ot);return io(ot,!0),Df(Ke,Lt,ot),32!=(32&ot.flags)&&Oi()&&fu(K,N,Lt,ot),0===function Cs(){return Gi.lFrame.elementDepthCount}()&&yr(Lt,N),function zs(){Gi.lFrame.elementDepthCount++}(),nn&&(dm(K,N,ot),cm(K,ot,N)),null!==T&&um(N,ot),xh}function Ih(){let n=Go();Ya()?Oo():(n=n.parent,io(n,!1));const o=n;(function Nl(n){return Gi.skipHydrationRootTNode===n})(o)&&function vc(){Gi.skipHydrationRootTNode=null}(),function sa(){Gi.lFrame.elementDepthCount--}();const u=or();return u.firstCreatePass&&(Jr(u,n),ua(n)&&u.queries.elementEnd(n)),null!=o.classesWithoutHost&&function Dc(n){return 0!=(8&n.flags)}(o)&&xm(u,o,ci(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function kl(n){return 0!=(16&n.flags)}(o)&&xm(u,o,ci(),o.stylesWithoutHost,!1),Ih}function Im(n,o,u,T){return xh(n,o,u,T),Ih(),Im}let Jg=(n,o,u,T,N,K)=>(Ri(!0),au(T,N,function Kn(){return Gi.lFrame.currentNamespace}()));function wh(n,o,u){const T=ci(),N=or(),K=n+lr,_e=N.firstCreatePass?function cE(n,o,u,T,N){const K=o.consts,_e=gr(K,T),Ke=Vu(o,n,8,"ng-container",_e);return null!==_e&&bh(Ke,_e,!0),hm(o,u,Ke,gr(K,N)),null!==o.queries&&o.queries.elementStart(o,Ke),Ke}(K,N,T,o,u):N.data[K];io(_e,!0);const Ke=Qg(N,T,_e,n);return T[K]=Ke,Oi()&&fu(N,T,Ke,_e),yr(Ke,T),kr(_e)&&(dm(N,T,_e),cm(N,_e,T)),null!=u&&um(T,_e),wh}function Oh(){let n=Go();const o=or();return Ya()?Oo():(n=n.parent,io(n,!1)),o.firstCreatePass&&(Jr(o,n),ua(n)&&o.queries.elementEnd(n)),Oh}function wm(n,o,u){return wh(n,o,u),Oh(),wm}let Qg=(n,o,u,T)=>(Ri(!0),Au(o[li],""));function Xg(){return ci()}function Om(n){return!!n&&"function"==typeof n.then}function qg(n){return!!n&&"function"==typeof n.subscribe}function Pm(n,o,u,T){const N=ci(),K=or(),_e=Go();return e_(K,N,N[li],_e,n,o,T),Pm}function Rm(n,o){const u=Go(),T=ci(),N=or();return e_(N,T,yg(vl(N.data),u,T),u,n,o),Rm}function e_(n,o,u,T,N,K,_e){const Ke=kr(T),Lt=n.firstCreatePass&&vg(n),nn=o[Dn],Sn=_g(o);let jn=!0;if(3&T.type||_e){const bi=Yt(T,o),Bi=_e?_e(bi):bi,qi=Sn.length,pi=_e?mo=>_e(nr(mo[T.index])):T.index;let Ar=null;if(!_e&&Ke&&(Ar=function fE(n,o,u,T){const N=n.cleanup;if(null!=N)for(let K=0;K<N.length-1;K+=2){const _e=N[K];if(_e===u&&N[K+1]===T){const Ke=o[po],ot=N[K+2];return Ke.length>ot?Ke[ot]:null}"string"==typeof _e&&(K+=2)}return null}(n,o,N,T.index)),null!==Ar)(Ar.__ngLastListenerFn__||Ar).__ngNextListenerFn__=K,Ar.__ngLastListenerFn__=K,jn=!1;else{K=n_(T,o,nn,K,!1);const mo=u.listen(Bi,N,K);Sn.push(K,mo),Lt&&Lt.push(N,pi,qi,qi+1)}}else K=n_(T,o,nn,K,!1);const Jn=T.outputs;let fi;if(jn&&null!==Jn&&(fi=Jn[N])){const bi=fi.length;if(bi)for(let Bi=0;Bi<bi;Bi+=2){const So=o[fi[Bi]][fi[Bi+1]].subscribe(K),zl=Sn.length;Sn.push(K,So),Lt&&Lt.push(N,T.index,zl,-(zl+1))}}}function t_(n,o,u,T){try{return Es(6,o,u),!1!==u(T)}catch(N){return bg(n,N),!1}finally{Es(7,o,u)}}function n_(n,o,u,T,N){return function K(_e){if(_e===Function)return T;Rf(n.componentOffset>-1?zn(n.index,o):o);let ot=t_(o,u,T,_e),Lt=K.__ngNextListenerFn__;for(;Lt;)ot=t_(o,u,Lt,_e)&&ot,Lt=Lt.__ngNextListenerFn__;return N&&!1===ot&&_e.preventDefault(),ot}}function i_(n=1){return function Tc(n){return(Gi.lFrame.contextLView=function Jl(n,o){for(;n>0;)o=o[rr],n--;return o}(n,Gi.lFrame.contextLView))[Dn]}(n)}function hE(n,o){let u=null;const T=function ii(n){const o=n.attrs;if(null!=o){const u=o.indexOf(5);if(!(1&u))return o[u+1]}return null}(n);for(let N=0;N<o.length;N++){const K=o[N];if("*"!==K){if(null===T?Vn(n,K,!0):Le(T,K))return N}else u=N}return u}function r_(n){const o=ci()[Ki][zr];if(!o.projection){const T=o.projection=Al(n?n.length:1,null),N=T.slice();let K=o.child;for(;null!==K;){const _e=n?hE(K,n):0;null!==_e&&(N[_e]?N[_e].projectionNext=K:T[_e]=K,N[_e]=K),K=K.next}}}function o_(n,o=0,u){const T=ci(),N=or(),K=Vu(N,lr+n,16,null,u||null);null===K.projection&&(K.projection=o),Oo(),(!T[_o]||aa())&&32!=(32&K.flags)&&function ah(n,o,u){Tf(o[li],0,o,u,uu(n,u,o),vf(u.parent||o[zr],u,o))}(N,T,K)}function Nm(n,o,u){return Ph(n,"",o,"",u),Nm}function Ph(n,o,u,T,N){const K=ci(),_e=Wu(K,o,u,T);return _e!==Lr&&Yc(or(),xe(),K,n,_e,K[li],N,!1),Ph}function Lm(n,o,u,T,N,K,_e){const Ke=ci(),ot=Yu(Ke,o,u,T,N,K);return ot!==Lr&&Yc(or(),xe(),Ke,n,ot,Ke[li],_e,!1),Lm}function Rh(n,o){return n<<17|o<<2}function tu(n){return n>>17&32767}function km(n){return 2|n}function Cu(n){return(131068&n)>>2}function Fm(n,o){return-131069&n|o<<2}function Bm(n){return 1|n}function h_(n,o,u,T,N){const K=n[u+1],_e=null===o;let Ke=T?tu(K):Cu(K),ot=!1;for(;0!==Ke&&(!1===ot||_e);){const nn=n[Ke+1];yE(n[Ke],o)&&(ot=!0,n[Ke+1]=T?Bm(nn):km(nn)),Ke=T?tu(nn):Cu(nn)}ot&&(n[u+1]=T?km(K):Bm(K))}function yE(n,o){return null===n||null==o||(Array.isArray(n)?n[1]:n)===o||!(!Array.isArray(n)||"string"!=typeof o)&&hn(n,o)>=0}const el={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function m_(n){return n.substring(el.key,el.keyEnd)}function p_(n,o){const u=el.textEnd;return u===o?-1:(o=el.keyEnd=function CE(n,o,u){for(;o<u&&n.charCodeAt(o)>32;)o++;return o}(n,el.key=o,u),qu(n,o,u))}function qu(n,o,u){for(;o<u&&n.charCodeAt(o)<=32;)o++;return o}function Um(n,o,u){return pd(n,o,u,!1),Um}function Gm(n,o){return pd(n,o,null,!0),Gm}function b_(n){gd(PE,Pd,n,!0)}function Pd(n,o){for(let u=function EE(n){return function __(n){el.key=0,el.keyEnd=0,el.value=0,el.valueEnd=0,el.textEnd=n.length}(n),p_(n,qu(n,0,el.textEnd))}(o);u>=0;u=p_(o,u))ut(n,m_(o),!0)}function pd(n,o,u,T){const N=ci(),K=or(),_e=xo(2);K.firstUpdatePass&&T_(K,n,_e,T),o!==Lr&&Zl(N,_e,o)&&S_(K,K.data[Ge()],N,N[li],n,N[_e+1]=function NE(n,o){return null==n||""===n||("string"==typeof o?n+=o:"object"==typeof n&&(n=h(br(n)))),n}(o,u),T,_e)}function gd(n,o,u,T){const N=or(),K=xo(2);N.firstUpdatePass&&T_(N,null,K,T);const _e=ci();if(u!==Lr&&Zl(_e,K,u)){const Ke=N.data[Ge()];if(M_(Ke,T)&&!E_(N,K)){let ot=T?Ke.classesWithoutHost:Ke.stylesWithoutHost;null!==ot&&(u=p(ot,u||"")),xm(N,Ke,_e,u,T)}else!function RE(n,o,u,T,N,K,_e,Ke){N===Lr&&(N=Nn);let ot=0,Lt=0,nn=0<N.length?N[0]:null,Sn=0<K.length?K[0]:null;for(;null!==nn||null!==Sn;){const jn=ot<N.length?N[ot+1]:void 0,Jn=Lt<K.length?K[Lt+1]:void 0;let bi,fi=null;nn===Sn?(ot+=2,Lt+=2,jn!==Jn&&(fi=Sn,bi=Jn)):null===Sn||null!==nn&&nn<Sn?(ot+=2,fi=nn):(Lt+=2,fi=Sn,bi=Jn),null!==fi&&S_(n,o,u,T,fi,bi,_e,Ke),nn=ot<N.length?N[ot]:null,Sn=Lt<K.length?K[Lt]:null}}(N,Ke,_e,_e[li],_e[K+1],_e[K+1]=function OE(n,o,u){if(null==u||""===u)return Nn;const T=[],N=br(u);if(Array.isArray(N))for(let K=0;K<N.length;K++)n(T,N[K],!0);else if("object"==typeof N)for(const K in N)N.hasOwnProperty(K)&&n(T,K,N[K]);else"string"==typeof N&&o(T,N);return T}(n,o,u),T,K)}}function E_(n,o){return o>=n.expandoStartIndex}function T_(n,o,u,T){const N=n.data;if(null===N[u+1]){const K=N[Ge()],_e=E_(n,u);M_(K,T)&&null===o&&!_e&&(o=!1),o=function AE(n,o,u,T){const N=vl(n);let K=T?o.residualClasses:o.residualStyles;if(null===N)0===(T?o.classBindings:o.styleBindings)&&(u=jf(u=Hm(null,n,o,u,T),o.attrs,T),K=null);else{const _e=o.directiveStylingLast;if(-1===_e||n[_e]!==N)if(u=Hm(N,n,o,u,T),null===K){let ot=function xE(n,o,u){const T=u?o.classBindings:o.styleBindings;if(0!==Cu(T))return n[tu(T)]}(n,o,T);void 0!==ot&&Array.isArray(ot)&&(ot=Hm(null,n,o,ot[1],T),ot=jf(ot,o.attrs,T),function IE(n,o,u,T){n[tu(u?o.classBindings:o.styleBindings)]=T}(n,o,T,ot))}else K=function wE(n,o,u){let T;const N=o.directiveEnd;for(let K=1+o.directiveStylingLast;K<N;K++)T=jf(T,n[K].hostAttrs,u);return jf(T,o.attrs,u)}(n,o,T)}return void 0!==K&&(T?o.residualClasses=K:o.residualStyles=K),u}(N,K,o,T),function _E(n,o,u,T,N,K){let _e=K?o.classBindings:o.styleBindings,Ke=tu(_e),ot=Cu(_e);n[T]=u;let nn,Lt=!1;if(Array.isArray(u)?(nn=u[1],(null===nn||hn(u,nn)>0)&&(Lt=!0)):nn=u,N)if(0!==ot){const jn=tu(n[Ke+1]);n[T+1]=Rh(jn,Ke),0!==jn&&(n[jn+1]=Fm(n[jn+1],T)),n[Ke+1]=function pE(n,o){return 131071&n|o<<17}(n[Ke+1],T)}else n[T+1]=Rh(Ke,0),0!==Ke&&(n[Ke+1]=Fm(n[Ke+1],T)),Ke=T;else n[T+1]=Rh(ot,0),0===Ke?Ke=T:n[ot+1]=Fm(n[ot+1],T),ot=T;Lt&&(n[T+1]=km(n[T+1])),h_(n,nn,T,!0),h_(n,nn,T,!1),function vE(n,o,u,T,N){const K=N?n.residualClasses:n.residualStyles;null!=K&&"string"==typeof o&&hn(K,o)>=0&&(u[T+1]=Bm(u[T+1]))}(o,nn,n,T,K),_e=Rh(Ke,ot),K?o.classBindings=_e:o.styleBindings=_e}(N,K,o,u,_e,T)}}function Hm(n,o,u,T,N){let K=null;const _e=u.directiveEnd;let Ke=u.directiveStylingLast;for(-1===Ke?Ke=u.directiveStart:Ke++;Ke<_e&&(K=o[Ke],T=jf(T,K.hostAttrs,N),K!==n);)Ke++;return null!==n&&(u.directiveStylingLast=Ke),T}function jf(n,o,u){const T=u?1:2;let N=-1;if(null!==o)for(let K=0;K<o.length;K++){const _e=o[K];"number"==typeof _e?N=_e:N===T&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ut(n,_e,!!u||o[++K]))}return void 0===n?null:n}function PE(n,o,u){const T=String(o);""!==T&&!T.includes(" ")&&ut(n,T,u)}function S_(n,o,u,T,N,K,_e,Ke){if(!(3&o.type))return;const ot=n.data,Lt=ot[Ke+1],nn=function gE(n){return 1==(1&n)}(Lt)?D_(ot,o,u,N,Cu(Lt),_e):void 0;Nh(nn)||(Nh(K)||function mE(n){return 2==(2&n)}(Lt)&&(K=D_(ot,null,u,N,Ke,_e)),function lh(n,o,u,T,N){if(o)N?n.addClass(u,T):n.removeClass(u,T);else{let K=-1===T.indexOf("-")?void 0:cn.DashCase;null==N?n.removeStyle(u,T,K):("string"==typeof N&&N.endsWith("!important")&&(N=N.slice(0,-10),K|=cn.Important),n.setStyle(u,T,N,K))}}(T,_e,ze(Ge(),u),N,K))}function D_(n,o,u,T,N,K){const _e=null===o;let Ke;for(;N>0;){const ot=n[N],Lt=Array.isArray(ot),nn=Lt?ot[1]:ot,Sn=null===nn;let jn=u[N+1];jn===Lr&&(jn=Sn?Nn:void 0);let Jn=Sn?Ht(jn,T):nn===T?jn:void 0;if(Lt&&!Nh(Jn)&&(Jn=Ht(ot,T)),Nh(Jn)&&(Ke=Jn,_e))return Ke;const fi=n[N+1];N=_e?tu(fi):Cu(fi)}if(null!==o){let ot=K?o.residualClasses:o.residualStyles;null!=ot&&(Ke=Ht(ot,T))}return Ke}function Nh(n){return void 0!==n}function M_(n,o){return 0!=(n.flags&(o?8:16))}function A_(n,o=""){const u=ci(),T=or(),N=n+lr,K=T.firstCreatePass?Vu(T,N,1,o,null):T.data[N],_e=x_(T,u,K,o,n);u[N]=_e,Oi()&&fu(T,u,_e,K),io(K,!1)}let x_=(n,o,u,T,N)=>(Ri(!0),su(o[li],T));function jm(n){return Lh("",n,""),jm}function Lh(n,o,u){const T=ci(),N=Wu(T,n,o,u);return N!==Lr&&Wd(T,Ge(),N),Lh}function Vm(n,o,u,T,N){const K=ci(),_e=Yu(K,n,o,u,T,N);return _e!==Lr&&Wd(K,Ge(),_e),Vm}function Km(n,o,u,T,N,K,_e){const Ke=ci(),ot=function Zu(n,o,u,T,N,K,_e,Ke){const Lt=Sh(n,la(),u,N,_e);return xo(3),Lt?o+b(u)+T+b(N)+K+b(_e)+Ke:Lr}(Ke,n,o,u,T,N,K,_e);return ot!==Lr&&Wd(Ke,Ge(),ot),Km}function L_(n,o,u){gd(ut,Pd,Wu(ci(),n,o,u),!0)}function Wm(n,o,u){const T=ci();return Zl(T,go(),o)&&Yc(or(),xe(),T,n,o,T[li],u,!0),Wm}function Ym(n,o,u){const T=ci();if(Zl(T,go(),o)){const K=or(),_e=xe();Yc(K,_e,T,n,o,yg(vl(K.data),_e,T),u,!0)}return Ym}const Su=void 0;var tT=["en",[["a","p"],["AM","PM"],Su],[["AM","PM"],Su,Su],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Su,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Su,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Su,"{1} 'at' {0}",Su],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function eT(n){const u=Math.floor(Math.abs(n)),T=n.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===T?1:5}];let ef={};function Zm(n){const o=function nT(n){return n.toLowerCase().replace(/_/g,"-")}(n);let u=Y_(o);if(u)return u;const T=o.split("-")[0];if(u=Y_(T),u)return u;if("en"===T)return tT;throw new E(701,!1)}function W_(n){return Zm(n)[tf.PluralCase]}function Y_(n){return n in ef||(ef[n]=tt.ng&&tt.ng.common&&tt.ng.common.locales&&tt.ng.common.locales[n]),ef[n]}var tf=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(tf||{});const nf="en-US",kh={marker:"element"},Fh={marker:"ICU"};var kc=function(n){return n[n.SHIFT=2]="SHIFT",n[n.APPEND_EAGERLY=1]="APPEND_EAGERLY",n[n.COMMENT=2]="COMMENT",n}(kc||{});let Z_=nf;function z_(n){(function pe(n,o){null==n&&Ie(o,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(Z_=n.toLowerCase().replace(/_/g,"-"))}function $_(n,o,u){const T=o.insertBeforeIndex,N=Array.isArray(T)?T[0]:T;return null===N?yf(n,0,u):nr(u[N])}function J_(n,o,u,T,N){const K=o.insertBeforeIndex;if(Array.isArray(K)){let _e=T,Ke=null;if(3&o.type||(Ke=_e,_e=N),null!==_e&&-1===o.componentOffset)for(let ot=1;ot<K.length;ot++)Td(n,_e,u[K[ot]],Ke,!1)}}function Q_(n,o){if(n.push(o),n.length>1)for(let u=n.length-2;u>=0;u--){const T=n[u];X_(T)||aT(T,o)&&null===lT(T)&&cT(T,o.index)}}function X_(n){return!(64&n.type)}function aT(n,o){return X_(o)||n.index>o.index}function lT(n){const o=n.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function cT(n,o){const u=n.insertBeforeIndex;Array.isArray(u)?u[0]=o:(bf($_,J_),n.insertBeforeIndex=o)}function fT(n,o,u){const T=lm(n,u,64,null,null);return Q_(o,T),T}function yT(){const n=[];let u,T,o=-1;function K(Ke,ot){o=0;const Lt=function Bh(n,o){const u=o[n.currentCaseLViewIndex];return null===u?u:u<0?~u:u}(Ke,ot);T=null!==Lt?Ke.remove[Lt]:Nn}function _e(){if(o<T.length){const Ke=T[o++];return Ke>0?u[Ke]:(n.push(o,T),K(u[yi].data[~Ke],u),_e())}return 0===n.length?null:(T=n.pop(),o=n.pop(),_e())}return function N(Ke,ot){for(u=ot;n.length;)n.pop();return K(Ke.value,ot),_e}}const Uh=/\ufffd(\d+):?\d*\ufffd/gi,ET=/\ufffd(\d+)\ufffd/,av=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Yf="\ufffd",TT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,CT=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ST=/\uE500/g;function lv(n,o,u,T,N,K,_e){const Ke=Nf(n,T,1,null);let ot=Ke<<kc.SHIFT,Lt=nl();o===Lt&&(Lt=null),null===Lt&&(ot|=kc.APPEND_EAGERLY),_e&&(ot|=kc.COMMENT,function Xf(n){void 0===uc&&(uc=n())}(yT)),N.push(ot,null===K?"":K);const nn=lm(n,Ke,_e?32:1,null===K?"":K,null);Q_(u,nn);const Sn=nn.index;return io(nn,!1),null!==Lt&&o!==Lt&&function uT(n,o){let u=n.insertBeforeIndex;null===u?(bf($_,J_),u=n.insertBeforeIndex=[null,o]):(function ce(n,o,u){n!=o&&Ie(u,n,o,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(o))}(Lt,Sn),nn}function AT(n,o,u,T,N,K,_e){const Ke=_e.match(Uh),ot=lv(n,o,u,K,T,Ke?null:_e,!1);Ke&&Zf(N,_e,ot.index,null,0,null)}function Zf(n,o,u,T,N,K){const _e=n.length,Ke=_e+1;n.push(null,null);const ot=_e+2,Lt=o.split(Uh);let nn=0;for(let Sn=0;Sn<Lt.length;Sn++){const jn=Lt[Sn];if(1&Sn){const Jn=N+parseInt(jn,10);n.push(-1-Jn),nn|=cv(Jn)}else""!==jn&&n.push(jn)}return n.push(u<<2|(T?1:0)),T&&n.push(T,K),n[_e]=nn,n[Ke]=n.length-ot,nn}function cv(n){return 1<<Math.min(n,31)}function dv(n){let o,K,u="",T=0,N=!1;for(;null!==(o=TT.exec(n));)N?o[0]===`${Yf}/*${K}${Yf}`&&(T=o.index,N=!1):(u+=n.substring(T,o.index+o[0].length),K=o[1],N=!0);return u+=n.slice(T),u}function uv(n,o,u,T,N,K){let _e=0;const Ke={type:N.type,currentCaseLViewIndex:Nf(n,o,1,null),anchorIdx:K,cases:[],create:[],remove:[],update:[]};(function LT(n,o,u){n.push(cv(o.mainBinding),2,-1-o.mainBinding,u<<2|2)})(u,N,K),function dT(n,o,u){const T=n.data[o];null===T?n.data[o]=u:T.value=u}(n,K,Ke);const ot=N.values;for(let Lt=0;Lt<ot.length;Lt++){const nn=ot[Lt],Sn=[];for(let jn=0;jn<nn.length;jn++){const Jn=nn[jn];if("string"!=typeof Jn){const fi=Sn.push(Jn)-1;nn[jn]=`\x3c!--\ufffd${fi}\ufffd--\x3e`}}_e=RT(n,Ke,o,u,T,N.cases[Lt],nn.join(""),Sn)|_e}_e&&function kT(n,o,u){n.push(o,1,u<<2|3)}(u,_e,K)}function PT(n){const o=[],u=[];let T=1,N=0;const K=zm(n=n.replace(av,function(_e,Ke,ot){return T="select"===ot?0:1,N=parseInt(Ke.slice(1),10),""}));for(let _e=0;_e<K.length;){let Ke=K[_e++].trim();1===T&&(Ke=Ke.replace(/\s*(?:=)?(\w+)\s*/,"$1")),Ke.length&&o.push(Ke);const ot=zm(K[_e++]);o.length>u.length&&u.push(ot)}return{type:T,mainBinding:N,cases:o,values:u}}function zm(n){if(!n)return[];let o=0;const u=[],T=[],N=/[{}]/g;let K;for(N.lastIndex=0;K=N.exec(n);){const Ke=K.index;if("}"==K[0]){if(u.pop(),0==u.length){const ot=n.substring(o,Ke);av.test(ot)?T.push(PT(ot)):T.push(ot),o=Ke+1}}else{if(0==u.length){const ot=n.substring(o,Ke);T.push(ot),o=Ke+1}u.push("{")}}const _e=n.substring(o);return T.push(_e),T}function RT(n,o,u,T,N,K,_e,Ke){const ot=[],Lt=[],nn=[];o.cases.push(K),o.create.push(ot),o.remove.push(Lt),o.update.push(nn);const jn=ta(Ct()).getInertBodyElement(_e),Jn=Xd(jn)||jn;return Jn?fv(n,o,u,T,ot,Lt,nn,Jn,N,Ke,0):0}function fv(n,o,u,T,N,K,_e,Ke,ot,Lt,nn){let Sn=0,jn=Ke.firstChild;for(;jn;){const Jn=Nf(n,u,1,null);switch(jn.nodeType){case Node.ELEMENT_NODE:const fi=jn,bi=fi.tagName.toLowerCase();if(Sd.hasOwnProperty(bi)){$m(N,kh,bi,ot,Jn),n.data[Jn]=bi;const Ar=fi.attributes;for(let mo=0;mo<Ar.length;mo++){const So=Ar.item(mo),zl=So.name.toLowerCase();So.value.match(Uh)?jd.hasOwnProperty(zl)&&Zf(_e,So.value,Jn,So.name,0,od[zl]?Lc:null):FT(N,Jn,So)}Sn=fv(n,o,u,T,N,K,_e,jn,Jn,Lt,nn+1)|Sn,hv(K,Jn,nn)}break;case Node.TEXT_NODE:const Bi=jn.textContent||"",qi=Bi.match(Uh);$m(N,null,qi?"":Bi,ot,Jn),hv(K,Jn,nn),qi&&(Sn=Zf(_e,Bi,Jn,null,0,null)|Sn);break;case Node.COMMENT_NODE:const pi=ET.exec(jn.textContent||"");if(pi){const mo=Lt[parseInt(pi[1],10)];$m(N,Fh,"",ot,Jn),uv(n,u,T,ot,mo,Jn),NT(K,Jn,nn)}}jn=jn.nextSibling}return Sn}function hv(n,o,u){0===u&&n.push(o)}function NT(n,o,u){0===u&&(n.push(~o),n.push(o))}function $m(n,o,u,T,N){null!==o&&n.push(o),n.push(u,N,function hT(n,o,u){return n|o<<17|u<<1}(0,T,N))}function FT(n,o,u){n.push(o<<1|1,u.name,u.value)}function pv(n,o,u=-1){const T=or(),N=ci(),K=lr+n,_e=gr(T.consts,o),Ke=nl();T.firstCreatePass&&function MT(n,o,u,T,N,K){const _e=nl(),Ke=[],ot=[],Lt=[[]];N=function OT(n,o){if(function wT(n){return-1===n}(o))return dv(n);{const u=n.indexOf(`:${o}${Yf}`)+2+o.toString().length,T=n.search(new RegExp(`${Yf}\\/\\*\\d+:${o}${Yf}`));return dv(n.substring(u,T))}}(N,K);const nn=function DT(n){return n.replace(ST," ")}(N).split(CT);for(let Sn=0;Sn<nn.length;Sn++){let jn=nn[Sn];if(1&Sn){const Jn=47===jn.charCodeAt(0),bi=(jn.charCodeAt(Jn?1:0),lr+Number.parseInt(jn.substring(Jn?2:1)));if(Jn)Lt.shift(),io(nl(),!1);else{const Bi=fT(n,Lt[0],bi);Lt.unshift([]),io(Bi,!0)}}else{const Jn=zm(jn);for(let fi=0;fi<Jn.length;fi++){let bi=Jn[fi];if(1&fi){const Bi=bi;if("object"!=typeof Bi)throw new Error(`Unable to parse ICU expression in "${N}" message.`);uv(n,u,ot,o,Bi,lv(n,_e,Lt[0],u,Ke,"",!0).index)}else""!==bi&&AT(n,_e,Lt[0],Ke,ot,u,bi)}}}n.data[T]={create:Ke,update:ot}}(T,null===Ke?0:Ke.index,N,K,_e,u),2===T.type?N[Ki][$i]|=32:N[$i]|=32;const ot=T.data[K],nn=pf(T,Ke===N[zr]?null:Ke,N);(function gT(n,o,u,T){const N=n[li];for(let K=0;K<o.length;K++){const _e=o[K++],Ke=o[K],Lt=(_e&kc.APPEND_EAGERLY)===kc.APPEND_EAGERLY,nn=_e>>>kc.SHIFT;let Sn=n[nn];null===Sn&&(Sn=n[nn]=(_e&kc.COMMENT)===kc.COMMENT?N.createComment(Ke):su(N,Ke)),Lt&&null!==u&&Td(N,u,Sn,T,!1)}})(N,ot.create,nn,Ke&&8&Ke.type?N[Ke.index]:null),il(!0)}function _v(n,o,u){pv(n,o,u),function gv(){il(!1)}()}function Jm(n,o,u,T,N){if(n=x(n),Array.isArray(n))for(let K=0;K<n.length;K++)Jm(n[K],o,u,T,N);else{const K=or(),_e=ci();let Ke=Il(n)?n:x(n.provide),ot=Sa(n);const Lt=Go(),nn=1048575&Lt.providerIndexes,Sn=Lt.directiveStart,jn=Lt.providerIndexes>>20;if(Il(n)||!n.multi){const Jn=new ms(ot,N,ju),fi=Xm(Ke,o,N?nn:nn+jn,Sn);-1===fi?(tc(Fl(Lt,_e),K,Ke),Qm(K,n,o.length),o.push(Ke),Lt.directiveStart++,Lt.directiveEnd++,N&&(Lt.providerIndexes+=1048576),u.push(Jn),_e.push(Jn)):(u[fi]=Jn,_e[fi]=Jn)}else{const Jn=Xm(Ke,o,nn+jn,Sn),fi=Xm(Ke,o,nn,nn+jn),Bi=fi>=0&&u[fi];if(N&&!Bi||!N&&!(Jn>=0&&u[Jn])){tc(Fl(Lt,_e),K,Ke);const qi=function XT(n,o,u,T,N){const K=new ms(n,u,ju);return K.multi=[],K.index=o,K.componentProviders=0,yv(K,N,T&&!u),K}(N?QT:JT,u.length,N,T,ot);!N&&Bi&&(u[fi].providerFactory=qi),Qm(K,n,o.length,0),o.push(Ke),Lt.directiveStart++,Lt.directiveEnd++,N&&(Lt.providerIndexes+=1048576),u.push(qi),_e.push(qi)}else Qm(K,n,Jn>-1?Jn:fi,yv(u[N?fi:Jn],ot,!N&&T));!N&&T&&Bi&&u[fi].componentProviders++}}}function Qm(n,o,u,T){const N=Il(o),K=function hd(n){return!!n.useClass}(o);if(N||K){const ot=(K?x(o.useClass):o).prototype.ngOnDestroy;if(ot){const Lt=n.destroyHooks||(n.destroyHooks=[]);if(!N&&o.multi){const nn=Lt.indexOf(u);-1===nn?Lt.push(u,[T,ot]):Lt[nn+1].push(T,ot)}else Lt.push(u,ot)}}}function yv(n,o,u){return u&&n.componentProviders++,n.multi.push(o)-1}function Xm(n,o,u,T){for(let N=u;N<T;N++)if(o[N]===n)return N;return-1}function JT(n,o,u,T){return qm(this.multi,[])}function QT(n,o,u,T){const N=this.multi;let K;if(this.providerFactory){const _e=this.providerFactory.componentProviders,Ke=La(u,u[yi],this.providerFactory.index,T);K=Ke.slice(0,_e),qm(N,K);for(let ot=_e;ot<Ke.length;ot++)K.push(Ke[ot])}else K=[],qm(N,K);return K}function qm(n,o){for(let u=0;u<n.length;u++)o.push((0,n[u])());return o}function bv(n,o=[]){return u=>{u.providersResolver=(T,N)=>function $T(n,o,u){const T=or();if(T.firstCreatePass){const N=mr(n);Jm(u,T.data,T.blueprint,N,!0),Jm(o,T.data,T.blueprint,N,!1)}}(T,N?N(n):n,o)}}class rf{}class Ev{}function qT(n,o){return new ep(n,o??null,[])}class ep extends rf{constructor(o,u,T){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Mg(this);const N=jr(o);this._bootstrapComponents=Kd(N.bootstrap),this._r3Injector=og(o,u,[{provide:rf,useValue:this},{provide:Of,useValue:this.componentFactoryResolver},...T],h(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class tp extends Ev{constructor(o){super(),this.moduleType=o}create(o){return new ep(this.moduleType,o,[])}}class Tv extends rf{constructor(o){super(),this.componentFactoryResolver=new Mg(this),this.instance=null;const u=new zi([...o.providers,{provide:rf,useValue:this},{provide:Of,useValue:this.componentFactoryResolver}],o.parent||Eu(),o.debugName,new Set(["environment"]));this.injector=u,o.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Cv(n,o,u=null){return new Tv({providers:n,parent:o,debugName:u,runEnvironmentInitializers:!0}).injector}let tC=(()=>{class n{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u)){const T=ur(0,u.type),N=T.length>0?Cv([T],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u,N)}return this.cachedInjectors.get(u)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=je({token:n,providedIn:"environment",factory:()=>new n(it(Md))})}return n})();function Sv(n){n.getStandaloneInjector=o=>o.get(tC).getOrCreateStandaloneInjector(n)}function Ov(n,o,u){const T=Zo()+n,N=ci();return N[T]===Lr?wd(N,T,u?o.call(u):o()):function Bf(n,o){return n[o]}(N,T)}function Pv(n,o,u,T){return Lv(ci(),Zo(),n,o,u,T)}function Rv(n,o,u,T,N){return kv(ci(),Zo(),n,o,u,T,N)}function Nv(n,o,u,T,N,K){return function Fv(n,o,u,T,N,K,_e,Ke){const ot=o+u;return Sh(n,ot,N,K,_e)?wd(n,ot+3,Ke?T.call(Ke,N,K,_e):T(N,K,_e)):zf(n,ot+3)}(ci(),Zo(),n,o,u,T,N,K)}function zf(n,o){const u=n[o];return u===Lr?void 0:u}function Lv(n,o,u,T,N,K){const _e=o+u;return Zl(n,_e,N)?wd(n,_e+1,K?T.call(K,N):T(N)):zf(n,_e+1)}function kv(n,o,u,T,N,K,_e){const Ke=o+u;return Tu(n,Ke,N,K)?wd(n,Ke+2,_e?T.call(_e,N,K):T(N,K)):zf(n,Ke+2)}function Gv(n,o){const u=or();let T;const N=n+lr;u.firstCreatePass?(T=function gC(n,o){if(o)for(let u=o.length-1;u>=0;u--){const T=o[u];if(n===T.name)return T}}(o,u.pipeRegistry),u.data[N]=T,T.onDestroy&&(u.destroyHooks??=[]).push(N,T.onDestroy)):T=u.data[N];const K=T.factory||(T.factory=_t(T.type)),_e=Fe(ju);try{const Ke=ql(!1),ot=K();return ql(Ke),function oE(n,o,u,T){u>=n.data.length&&(n.data[u]=null,n.blueprint[u]=null),o[u]=T}(u,ci(),N,ot),ot}finally{Fe(_e)}}function Hv(n,o,u){const T=n+lr,N=ci(),K=Cn(N,T);return $f(N,T)?Lv(N,Zo(),o,K.transform,u,K):K.transform(u)}function jv(n,o,u,T){const N=n+lr,K=ci(),_e=Cn(K,N);return $f(K,N)?kv(K,Zo(),o,_e.transform,u,T,_e):_e.transform(u,T)}function $f(n,o){return n[yi].data[o].pure}function ip(n){return o=>{setTimeout(n,void 0,o)}}const Rd=class bC extends e.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,T){let N=o,K=u||(()=>null),_e=T;if(o&&"object"==typeof o){const ot=o;N=ot.next?.bind(ot),K=ot.error?.bind(ot),_e=ot.complete?.bind(ot)}this.__isAsync&&(K=ip(K),N&&(N=ip(N)),_e&&(_e=ip(_e)));const Ke=super.subscribe({next:N,error:K,complete:_e});return o instanceof t.w0&&o.add(Ke),Ke}};function EC(){return this._results[Symbol.iterator]()}class Gh{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Rd)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Gh.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=EC)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const T=this;T.dirty=!1;const N=function Hs(n){return n.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function qs(n,o,u){if(n.length!==o.length)return!1;for(let T=0;T<n.length;T++){let N=n[T],K=o[T];if(u&&(N=u(N),K=u(K)),K!==N)return!1}return!0}(T._results,N,u))&&(T._results=N,T.length=N.length,T.last=N[this.length-1],T.first=N[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Jf=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=SC}return n})();const TC=Jf,CC=class extends TC{constructor(o,u,T){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=T}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,u){return this.createEmbeddedViewImpl(o,u,null)}createEmbeddedViewImpl(o,u,T){const _e=this._declarationTContainer.tView,Ke=vh(this._declarationLView,_e,o,4096&this._declarationLView[$i]?4096:16,null,_e.declTNode,null,null,null,u||null,T||null);Ke[Ir]=this._declarationLView[this._declarationTContainer.index];const Lt=this._declarationLView[Lo];return null!==Lt&&(Ke[Lo]=Lt.createEmbeddedView(_e)),vm(_e,Ke,o),new kf(Ke)}};function SC(){return Hh(Go(),ci())}function Hh(n,o){return 4&n.type?new CC(o,n,Uu(n,o)):null}let jh=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=OC}return n})();function OC(){return zv(Go(),ci())}const PC=jh,Yv=class extends PC{constructor(o,u,T){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=T}get element(){return Uu(this._hostTNode,this._hostLView)}get injector(){return new Gl(this._hostTNode,this._hostLView)}get parentInjector(){const o=Js(this._hostTNode,this._hostLView);if(Ql(o)){const u=Cl(o,this._hostLView),T=Ds(o);return new Gl(u[yi].data[T+8],u)}return new Gl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=Zv(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-Kr}createEmbeddedView(o,u,T){let N,K;"number"==typeof T?N=T:null!=T&&(N=T.index,K=T.injector);const Ke=o.createEmbeddedViewImpl(u||{},K,null);return this.insertImpl(Ke,N,false),Ke}createComponent(o,u,T,N,K){const _e=o&&!function Ml(n){return"function"==typeof n}(o);let Ke;if(_e)Ke=u;else{const bi=u||{};Ke=bi.index,T=bi.injector,N=bi.projectableNodes,K=bi.environmentInjector||bi.ngModuleRef}const ot=_e?o:new Ff(Yi(o)),Lt=T||this.parentInjector;if(!K&&null==ot.ngModule){const Bi=(_e?Lt:this.parentInjector).get(Md,null);Bi&&(K=Bi)}Yi(ot.componentType??{});const Jn=ot.create(Lt,N,null,K);return this.insertImpl(Jn.hostView,Ke,false),Jn}insert(o,u){return this.insertImpl(o,u,!1)}insertImpl(o,u,T){const N=o._lView,K=N[yi];if(function Rr(n){return no(n[Pr])}(N)){const ot=this.indexOf(o);if(-1!==ot)this.detach(ot);else{const Lt=N[Pr],nn=new Yv(Lt,Lt[zr],Lt[Pr]);nn.detach(nn.indexOf(o))}}const _e=this._adjustIndex(u),Ke=this._lContainer;if(function nh(n,o,u,T){const N=Kr+T,K=u.length;T>0&&(u[N-1][Vr]=o),T<K-Kr?(o[Vr]=u[N],ed(u,Kr+T,o)):(u.push(o),o[Vr]=null),o[Pr]=u;const _e=o[Ir];null!==_e&&u!==_e&&function hf(n,o){const u=n[xs];o[Ki]!==o[Pr][Pr][Ki]&&(n[Ws]=!0),null===u?n[xs]=[o]:u.push(o)}(_e,o);const Ke=o[Lo];null!==Ke&&Ke.insertView(n),o[$i]|=128}(K,N,Ke,_e),!T){const ot=Pu(_e,Ke),Lt=N[li],nn=Cd(Lt,Ke[uo]);null!==nn&&function ff(n,o,u,T,N,K){T[Cr]=N,T[zr]=o,Bd(n,T,u,1,N,K)}(K,Ke[zr],Lt,N,nn,ot)}return o.attachToViewContainerRef(),ed(op(Ke),_e,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=Zv(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),T=lu(this._lContainer,u);T&&(ac(op(this._lContainer),u),mf(T[yi],T))}detach(o){const u=this._adjustIndex(o,-1),T=lu(this._lContainer,u);return T&&null!=ac(op(this._lContainer),u)?new kf(T):null}_adjustIndex(o,u=0){return o??this.length+u}};function Zv(n){return n[8]}function op(n){return n[8]||(n[8]=[])}function zv(n,o){let u;const T=o[n.index];return no(T)?u=T:(u=pg(T,o,null,n),o[n.index]=u,yh(o,u)),$v(u,o,n,T),new Yv(u,n,o)}let $v=function Jv(n,o,u,T){if(n[uo])return;let N;N=8&u.type?nr(T):function RC(n,o){const u=n[li],T=u.createComment(""),N=Yt(o,n);return Td(u,Cd(u,N),T,function sh(n,o){return n.nextSibling(o)}(u,N),!1),T}(o,u),n[uo]=N};class sp{constructor(o){this.queryList=o,this.matches=null}clone(){return new sp(this.queryList)}setDirty(){this.queryList.setDirty()}}class ap{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const T=null!==o.contentQueries?o.contentQueries[0]:u.length,N=[];for(let K=0;K<T;K++){const _e=u.getByIndex(K);N.push(this.queries[_e.indexInDeclarationView].clone())}return new ap(N)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==s0(o,u).matches&&this.queries[u].setDirty()}}class Qv{constructor(o,u,T=null){this.predicate=o,this.flags=u,this.read=T}}class lp{constructor(o=[]){this.queries=o}elementStart(o,u){for(let T=0;T<this.queries.length;T++)this.queries[T].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let T=0;T<this.length;T++){const N=null!==u?u.length:0,K=this.getByIndex(T).embeddedTView(o,N);K&&(K.indexInDeclarationView=T,null!==u?u.push(K):u=[K])}return null!==u?new lp(u):null}template(o,u){for(let T=0;T<this.queries.length;T++)this.queries[T].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class cp{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new cp(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let T=o.parent;for(;null!==T&&8&T.type&&T.index!==u;)T=T.parent;return u===(null!==T?T.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const T=this.metadata.predicate;if(Array.isArray(T))for(let N=0;N<T.length;N++){const K=T[N];this.matchTNodeWithReadOption(o,u,kC(u,K)),this.matchTNodeWithReadOption(o,u,Qs(u,o,K,!1,!1))}else T===Jf?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,Qs(u,o,T,!1,!1))}matchTNodeWithReadOption(o,u,T){if(null!==T){const N=this.metadata.read;if(null!==N)if(N===Pf||N===jh||N===Jf&&4&u.type)this.addMatch(u.index,-2);else{const K=Qs(u,o,N,!1,!1);null!==K&&this.addMatch(u.index,K)}else this.addMatch(u.index,T)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function kC(n,o){const u=n.localNames;if(null!==u)for(let T=0;T<u.length;T+=2)if(u[T]===o)return u[T+1];return null}function BC(n,o,u,T){return-1===u?function FC(n,o){return 11&n.type?Uu(n,o):4&n.type?Hh(n,o):null}(o,n):-2===u?function UC(n,o,u){return u===Pf?Uu(o,n):u===Jf?Hh(o,n):u===jh?zv(o,n):void 0}(n,o,T):La(n,n[yi],u,o)}function Xv(n,o,u,T){const N=o[Lo].queries[T];if(null===N.matches){const K=n.data,_e=u.matches,Ke=[];for(let ot=0;ot<_e.length;ot+=2){const Lt=_e[ot];Ke.push(Lt<0?null:BC(o,K[Lt],_e[ot+1],u.metadata.read))}N.matches=Ke}return N.matches}function dp(n,o,u,T){const N=n.queries.getByIndex(u),K=N.matches;if(null!==K){const _e=Xv(n,o,N,u);for(let Ke=0;Ke<K.length;Ke+=2){const ot=K[Ke];if(ot>0)T.push(_e[Ke/2]);else{const Lt=K[Ke+1],nn=o[-ot];for(let Sn=Kr;Sn<nn.length;Sn++){const jn=nn[Sn];jn[Ir]===jn[Pr]&&dp(jn[yi],jn,Lt,T)}if(null!==nn[xs]){const Sn=nn[xs];for(let jn=0;jn<Sn.length;jn++){const Jn=Sn[jn];dp(Jn[yi],Jn,Lt,T)}}}}}return T}function qv(n){const o=ci(),u=or(),T=bc();yl(T+1);const N=s0(u,T);if(n.dirty&&function ai(n){return 4==(4&n[$i])}(o)===(2==(2&N.metadata.flags))){if(null===N.matches)n.reset([]);else{const K=N.crossesNgTemplate?dp(u,o,T,[]):Xv(u,o,N,T);n.reset(K,Cy),n.notifyOnChanges()}return!0}return!1}function e0(n,o,u){const T=or();T.firstCreatePass&&(o0(T,new Qv(n,o,u),-1),2==(2&o)&&(T.staticViewQueries=!0)),r0(T,ci(),o)}function t0(n,o,u,T){const N=or();if(N.firstCreatePass){const K=Go();o0(N,new Qv(o,u,T),K.index),function HC(n,o){const u=n.contentQueries||(n.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(n.queries.length-1,o)}(N,n),2==(2&u)&&(N.staticContentQueries=!0)}r0(N,ci(),u)}function n0(){return function GC(n,o){return n[Lo].queries[o].queryList}(ci(),bc())}function r0(n,o,u){const T=new Gh(4==(4&u));(function Wy(n,o,u,T){const N=_g(o);N.push(u),n.firstCreatePass&&vg(n).push(T,N.length-1)})(n,o,T,T.destroy),null===o[Lo]&&(o[Lo]=new ap),o[Lo].queries.push(new sp(T))}function o0(n,o,u){null===n.queries&&(n.queries=new lp),n.queries.track(new cp(o,u))}function s0(n,o){return n.queries.getByIndex(o)}function a0(n,o){return Hh(n,o)}function up(n){return!!jr(n)}const S0=new In("Application Initializer");let gp=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,T)=>{this.resolve=u,this.reject=T}),this.appInits=Ze(S0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const N of this.appInits){const K=N();if(Om(K))u.push(K);else if(qg(K)){const _e=new Promise((Ke,ot)=>{K.subscribe({complete:Ke,error:ot})});u.push(_e)}}const T=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{T()}).catch(N=>{this.reject(N)}),0===u.length&&T(),this.initialized=!0}static#e=this.\u0275fac=function(T){return new(T||n)};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),D0=(()=>{class n{log(u){console.log(u)}warn(u){console.warn(u)}static#e=this.\u0275fac=function(T){return new(T||n)};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Kh=new In("LocaleId",{providedIn:"root",factory:()=>Ze(Kh,ge.Optional|ge.SkipSelf)||function lS(){return typeof $localize<"u"&&$localize.locale||nf}()}),cS=new In("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let M0=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new v.X(!1)}add(){this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(T){return new(T||n)};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class uS{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let fS=(()=>{class n{compileModuleSync(u){return new tp(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const T=this.compileModuleSync(u),K=Kd(jr(u).declarations).reduce((_e,Ke)=>{const ot=Yi(Ke);return ot&&_e.push(new Ff(ot)),_e},[]);return new uS(T,K)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}static#e=this.\u0275fac=function(T){return new(T||n)};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function I0(...n){}class pc{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:T=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rd(!1),this.onMicrotaskEmpty=new Rd(!1),this.onStable=new Rd(!1),this.onError=new Rd(!1),typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();const N=this;N._nesting=0,N._outer=N._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(N._inner=N._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(N._inner=N._inner.fork(Zone.longStackTraceZoneSpec)),N.shouldCoalesceEventChangeDetection=!T&&u,N.shouldCoalesceRunChangeDetection=T,N.lastRequestAnimationFrameId=-1,N.nativeRequestAnimationFrame=function pS(){const n="function"==typeof tt.requestAnimationFrame;let o=tt[n?"requestAnimationFrame":"setTimeout"],u=tt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&u){const T=o[Zone.__symbol__("OriginalDelegate")];T&&(o=T);const N=u[Zone.__symbol__("OriginalDelegate")];N&&(u=N)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function vS(n){const o=()=>{!function _S(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(tt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,vp(n),n.isCheckStableRunning=!0,_p(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),vp(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,T,N,K,_e,Ke)=>{try{return w0(n),u.invokeTask(N,K,_e,Ke)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===K.type||n.shouldCoalesceRunChangeDetection)&&o(),O0(n)}},onInvoke:(u,T,N,K,_e,Ke,ot)=>{try{return w0(n),u.invoke(N,K,_e,Ke,ot)}finally{n.shouldCoalesceRunChangeDetection&&o(),O0(n)}},onHasTask:(u,T,N,K)=>{u.hasTask(N,K),T===N&&("microTask"==K.change?(n._hasPendingMicrotasks=K.microTask,vp(n),_p(n)):"macroTask"==K.change&&(n.hasPendingMacrotasks=K.macroTask))},onHandleError:(u,T,N,K)=>(u.handleError(N,K),n.runOutsideAngular(()=>n.onError.emit(K)),!1)})}(N)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pc.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(pc.isInAngularZone())throw new E(909,!1)}run(o,u,T){return this._inner.run(o,u,T)}runTask(o,u,T,N){const K=this._inner,_e=K.scheduleEventTask("NgZoneEvent: "+N,o,gS,I0,I0);try{return K.runTask(_e,u,T)}finally{K.cancelTask(_e)}}runGuarded(o,u,T){return this._inner.runGuarded(o,u,T)}runOutsideAngular(o){return this._outer.run(o)}}const gS={};function _p(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function vp(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function w0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function O0(n){n._nesting--,_p(n)}class yS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rd,this.onMicrotaskEmpty=new Rd,this.onStable=new Rd,this.onError=new Rd}run(o,u,T){return o.apply(u,T)}runGuarded(o,u,T){return o.apply(u,T)}runOutsideAngular(o){return o()}runTask(o,u,T,N){return o.apply(u,T)}}const P0=new In("",{providedIn:"root",factory:R0});function R0(){const n=Ze(pc);let o=!0;const u=new y.y(N=>{o=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{N.next(o),N.complete()})}),T=new y.y(N=>{let K;n.runOutsideAngular(()=>{K=n.onStable.subscribe(()=>{pc.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(o=!0,N.next(!0))})})});const _e=n.onUnstable.subscribe(()=>{pc.assertInAngularZone(),o&&(o=!1,n.runOutsideAngular(()=>{N.next(!1)}))});return()=>{K.unsubscribe(),_e.unsubscribe()}});return(0,m.T)(u,T.pipe((0,D.B)()))}const N0=new In(""),L0=new In("");let yp,bS=(()=>{class n{constructor(u,T,N){this._ngZone=u,this.registry=T,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,yp||(function ES(n){yp=n}(N),N.addToWindow(T)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pc.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(T=>!T.updateCb||!T.updateCb(u)||(clearTimeout(T.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,T,N){let K=-1;T&&T>0&&(K=setTimeout(()=>{this._callbacks=this._callbacks.filter(_e=>_e.timeoutId!==K),u(this._didWork,this.getPendingTasks())},T)),this._callbacks.push({doneCb:u,timeoutId:K,updateCb:N})}whenStable(u,T,N){if(N&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,T,N),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,T,N){return[]}static#e=this.\u0275fac=function(T){return new(T||n)(it(pc),it(k0),it(L0))};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac})}return n})(),k0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(u,T){this._applications.set(u,T)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,T=!0){return yp?.findTestabilityInTree(this,u,T)??null}static#e=this.\u0275fac=function(T){return new(T||n)};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),nu=null;const F0=new In("AllowMultipleToken"),bp=new In("PlatformDestroyListeners"),Ep=new In("appBootstrapListener");class SS{constructor(o,u){this.name=o,this.token=u}}function G0(n,o,u=[]){const T=`Platform: ${o}`,N=new In(T);return(K=[])=>{let _e=Tp();if(!_e||_e.injector.get(F0,!1)){const Ke=[...u,...K,{provide:N,useValue:!0}];n?n(Ke):function DS(n){if(nu&&!nu.get(F0,!1))throw new E(400,!1);(function B0(){!function ul(n){Ol=n}(()=>{throw new E(600,!1)})})(),nu=n;const o=n.get(j0);(function U0(n){n.get(xd,null)?.forEach(u=>u())})(n)}(function H0(n=[],o){return eu.create({name:o,providers:[{provide:Wc,useValue:"platform"},{provide:bp,useValue:new Set([()=>nu=null])},...n]})}(Ke,T))}return function AS(n){const o=Tp();if(!o)throw new E(401,!1);return o}()}}function Tp(){return nu?.get(j0)??null}let j0=(()=>{class n{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,T){const N=function xS(n="zone.js",o){return"noop"===n?new yS:"zone.js"===n?new pc(o):n}(T?.ngZone,function V0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:T?.ngZoneEventCoalescing,runCoalescing:T?.ngZoneRunCoalescing}));return N.run(()=>{const K=function eC(n,o,u){return new ep(n,o,u)}(u.moduleType,this.injector,function z0(n){return[{provide:pc,useFactory:n},{provide:Yn,multi:!0,useFactory:()=>{const o=Ze(wS,{optional:!0});return()=>o.initialize()}},{provide:Z0,useFactory:IS},{provide:P0,useFactory:R0}]}(()=>N)),_e=K.injector.get(Gu,null);return N.runOutsideAngular(()=>{const Ke=N.onError.subscribe({next:ot=>{_e.handleError(ot)}});K.onDestroy(()=>{Wh(this._modules,K),Ke.unsubscribe()})}),function K0(n,o,u){try{const T=u();return Om(T)?T.catch(N=>{throw o.runOutsideAngular(()=>n.handleError(N)),N}):T}catch(T){throw o.runOutsideAngular(()=>n.handleError(T)),T}}(_e,N,()=>{const Ke=K.injector.get(gp);return Ke.runInitializers(),Ke.donePromise.then(()=>(z_(K.injector.get(Kh,nf)||nf),this._moduleDoBootstrap(K),K))})})}bootstrapModule(u,T=[]){const N=W0({},T);return function TS(n,o,u){const T=new tp(u);return Promise.resolve(T)}(0,0,u).then(K=>this.bootstrapModuleFactory(K,N))}_moduleDoBootstrap(u){const T=u.injector.get(lf);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(N=>T.bootstrap(N));else{if(!u.instance.ngDoBootstrap)throw new E(-403,!1);u.instance.ngDoBootstrap(T)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(T=>T.destroy()),this._destroyListeners.forEach(T=>T());const u=this._injector.get(bp,null);u&&(u.forEach(T=>T()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(T){return new(T||n)(it(eu))};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function W0(n,o){return Array.isArray(o)?o.reduce(W0,n):{...n,...o}}let lf=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ze(Z0),this.zoneIsStable=Ze(P0),this.componentTypes=[],this.components=[],this.isStable=Ze(M0).hasPendingTasks.pipe((0,f.w)(u=>u?(0,P.of)(!1):this.zoneIsStable),(0,i.x)(),(0,D.B)()),this._injector=Ze(Md)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,T){const N=u instanceof kp;if(!this._injector.get(gp).done)throw!N&&lo(u),new E(405,!1);let _e;_e=N?u:this._injector.get(Of).resolveComponentFactory(u),this.componentTypes.push(_e.componentType);const Ke=function CS(n){return n.isBoundToModule}(_e)?void 0:this._injector.get(rf),Lt=_e.create(eu.NULL,[],T||_e.selector,Ke),nn=Lt.location.nativeElement,Sn=Lt.injector.get(N0,null);return Sn?.registerApplication(nn),Lt.onDestroy(()=>{this.detachView(Lt.hostView),Wh(this.components,Lt),Sn?.unregisterApplication(nn)}),this._loadComponent(Lt),Lt}tick(){if(this._runningTick)throw new E(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const T=u;this._views.push(T),T.attachToAppRef(this)}detachView(u){const T=u;Wh(this._views,T),T.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const T=this._injector.get(Ep,[]);T.push(...this._bootstrapListeners),T.forEach(N=>N(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Wh(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new E(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(T){return new(T||n)};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wh(n,o){const u=n.indexOf(o);u>-1&&n.splice(u,1)}const Z0=new In("",{providedIn:"root",factory:()=>Ze(Gu).handleError.bind(void 0)});function IS(){const n=Ze(pc),o=Ze(Gu);return u=>n.runOutsideAngular(()=>o.handleError(u))}let wS=(()=>{class n{constructor(){this.zone=Ze(pc),this.applicationRef=Ze(lf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(T){return new(T||n)};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function PS(){return!1}function RS(){}let NS=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=LS}return n})();function LS(n){return function kS(n,o,u){if(Ao(n)&&!u){const T=zn(n.index,o);return new kf(T,T)}return 47&n.type?new kf(o[Ki],o):null}(Go(),ci(),16==(16&n))}class X0{constructor(){}supports(o){return Ch(o)}create(o){return new jS(o)}}const HS=(n,o)=>o;class jS{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||HS}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,T=this._removalsHead,N=0,K=null;for(;u||T;){const _e=!T||u&&u.currentIndex<ey(T,N,K)?u:T,Ke=ey(_e,N,K),ot=_e.currentIndex;if(_e===T)N--,T=T._nextRemoved;else if(u=u._next,null==_e.previousIndex)N++;else{K||(K=[]);const Lt=Ke-N,nn=ot-N;if(Lt!=nn){for(let jn=0;jn<Lt;jn++){const Jn=jn<K.length?K[jn]:K[jn]=0,fi=Jn+jn;nn<=fi&&fi<Lt&&(K[jn]=Jn+1)}K[_e.previousIndex]=nn-Lt}}Ke!==ot&&o(_e,Ke,ot)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Ch(o))throw new E(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let N,K,_e,u=this._itHead,T=!1;if(Array.isArray(o)){this.length=o.length;for(let Ke=0;Ke<this.length;Ke++)K=o[Ke],_e=this._trackByFn(Ke,K),null!==u&&Object.is(u.trackById,_e)?(T&&(u=this._verifyReinsertion(u,K,_e,Ke)),Object.is(u.item,K)||this._addIdentityChange(u,K)):(u=this._mismatch(u,K,_e,Ke),T=!0),u=u._next}else N=0,function Bb(n,o){if(Array.isArray(n))for(let u=0;u<n.length;u++)o(n[u]);else{const u=n[Symbol.iterator]();let T;for(;!(T=u.next()).done;)o(T.value)}}(o,Ke=>{_e=this._trackByFn(N,Ke),null!==u&&Object.is(u.trackById,_e)?(T&&(u=this._verifyReinsertion(u,Ke,_e,N)),Object.is(u.item,Ke)||this._addIdentityChange(u,Ke)):(u=this._mismatch(u,Ke,_e,N),T=!0),u=u._next,N++}),this.length=N;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,T,N){let K;return null===o?K=this._itTail:(K=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(T,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,K,N)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(T,N))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,K,N)):o=this._addAfter(new VS(u,T),K,N),o}_verifyReinsertion(o,u,T,N){let K=null===this._unlinkedRecords?null:this._unlinkedRecords.get(T,null);return null!==K?o=this._reinsertAfter(K,o._prev,N):o.currentIndex!=N&&(o.currentIndex=N,this._addToMoves(o,N)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,T){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const N=o._prevRemoved,K=o._nextRemoved;return null===N?this._removalsHead=K:N._nextRemoved=K,null===K?this._removalsTail=N:K._prevRemoved=N,this._insertAfter(o,u,T),this._addToMoves(o,T),o}_moveAfter(o,u,T){return this._unlink(o),this._insertAfter(o,u,T),this._addToMoves(o,T),o}_addAfter(o,u,T){return this._insertAfter(o,u,T),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,T){const N=null===u?this._itHead:u._next;return o._next=N,o._prev=u,null===N?this._itTail=o:N._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new q0),this._linkedRecords.put(o),o.currentIndex=T,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,T=o._next;return null===u?this._itHead=T:u._next=T,null===T?this._itTail=u:T._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new q0),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class VS{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class KS{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let T;for(T=this._head;null!==T;T=T._nextDup)if((null===u||u<=T.currentIndex)&&Object.is(T.trackById,o))return T;return null}remove(o){const u=o._prevDup,T=o._nextDup;return null===u?this._head=T:u._nextDup=T,null===T?this._tail=u:T._prevDup=u,null===this._head}}class q0{constructor(){this.map=new Map}put(o){const u=o.trackById;let T=this.map.get(u);T||(T=new KS,this.map.set(u,T)),T.add(o)}get(o,u){const N=this.map.get(o);return N?N.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ey(n,o,u){const T=n.previousIndex;if(null===T)return T;let N=0;return u&&T<u.length&&(N=u[T]),T+o+N}class ty{constructor(){}supports(o){return o instanceof Map||bm(o)}create(){return new WS}}class WS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||bm(o)))throw new E(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(T,N)=>{if(u&&u.key===N)this._maybeAddToChanges(u,T),this._appendAfter=u,u=u._next;else{const K=this._getOrCreateRecordForKey(N,T);u=this._insertBeforeOrAppend(u,K)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let T=u;null!==T;T=T._nextRemoved)T===this._mapHead&&(this._mapHead=null),this._records.delete(T.key),T._nextRemoved=T._next,T.previousValue=T.currentValue,T.currentValue=null,T._prev=null,T._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const T=o._prev;return u._next=o,u._prev=T,o._prev=u,T&&(T._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const N=this._records.get(o);this._maybeAddToChanges(N,u);const K=N._prev,_e=N._next;return K&&(K._next=_e),_e&&(_e._prev=K),N._next=null,N._prev=null,N}const T=new YS(o);return this._records.set(o,T),T.currentValue=u,this._addToAdditions(T),T}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(T=>u(o[T],T))}}class YS{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ny(){return new Ap([new X0])}let Ap=(()=>{class n{static#e=this.\u0275prov=je({token:n,providedIn:"root",factory:ny});constructor(u){this.factories=u}static create(u,T){if(null!=T){const N=T.factories.slice();u=u.concat(N)}return new n(u)}static extend(u){return{provide:n,useFactory:T=>n.create(u,T||ny()),deps:[[n,new bo,new sl]]}}find(u){const T=this.factories.find(N=>N.supports(u));if(null!=T)return T;throw new E(901,!1)}}return n})();function iy(){return new xp([new ty])}let xp=(()=>{class n{static#e=this.\u0275prov=je({token:n,providedIn:"root",factory:iy});constructor(u){this.factories=u}static create(u,T){if(T){const N=T.factories.slice();u=u.concat(N)}return new n(u)}static extend(u){return{provide:n,useFactory:T=>n.create(u,T||iy()),deps:[[n,new bo,new sl]]}}find(u){const T=this.factories.find(N=>N.supports(u));if(T)return T;throw new E(901,!1)}}return n})();const $S=G0(null,"core",[]);let JS=(()=>{class n{constructor(u){}static#e=this.\u0275fac=function(T){return new(T||n)(it(lf))};static#t=this.\u0275mod=ki({type:n});static#n=this.\u0275inj=ee({})}return n})();function oD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function aD(n,o){const u=Yi(n),T=o.elementInjector||Eu();return new Ff(u).create(T,o.projectableNodes,o.hostElement,o.environmentInjector)}function lD(n){const o=Yi(n);if(!o)return null;const u=new Ff(o);return{get selector(){return u.selector},get type(){return u.componentType},get inputs(){return u.inputs},get outputs(){return u.outputs},get ngContentSelectors(){return u.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},95:(Wn,Je,g)=>{"use strict";g.d(Je,{Zs:()=>Fo,Fj:()=>E,qu:()=>ra,NI:()=>ki,u:()=>ko,sg:()=>Ui,u5:()=>Br,Cf:()=>B,JU:()=>A,a5:()=>X,JJ:()=>Se,JL:()=>Ee,F:()=>vr,On:()=>co,YN:()=>as,wV:()=>Cr,UX:()=>kn,EJ:()=>ss,kI:()=>le,_Y:()=>Xo,Kr:()=>ls});var e=g(5879),t=g(6814),v=g(2459),y=g(5592),m=g(7453),P=g(4829),D=g(9940),f=g(8251),i=g(7400),c=g(2714),h=g(7398);let p=(()=>{class _t{constructor(ft,$t){this._renderer=ft,this._elementRef=$t,this.onChange=On=>{},this.onTouched=()=>{}}setProperty(ft,$t){this._renderer.setProperty(this._elementRef.nativeElement,ft,$t)}registerOnTouched(ft){this.onTouched=ft}registerOnChange(ft){this.onChange=ft}setDisabledState(ft){this.setProperty("disabled",ft)}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36(e.Qsj),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:_t})}return _t})(),C=(()=>{class _t extends p{static#e=this.\u0275fac=function(){let ft;return function(On){return(ft||(ft=e.n5z(_t)))(On||_t)}}();static#t=this.\u0275dir=e.lG2({type:_t,features:[e.qOj]})}return _t})();const A=new e.OlP("NgValueAccessor"),O={provide:A,useExisting:(0,e.Gpc)(()=>E),multi:!0},I=new e.OlP("CompositionEventMode");let E=(()=>{class _t extends p{constructor(ft,$t,On){super(ft,$t),this._compositionMode=On,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function S(){const _t=(0,t.q)()?(0,t.q)().getUserAgent():"";return/android (\d+)/.test(_t.toLowerCase())}())}writeValue(ft){this.setProperty("value",ft??"")}_handleInput(ft){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ft)}_compositionStart(){this._composing=!0}_compositionEnd(ft){this._composing=!1,this._compositionMode&&this.onChange(ft)}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(I,8))};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function($t,On){1&$t&&e.NdJ("input",function(Zi){return On._handleInput(Zi.target.value)})("blur",function(){return On.onTouched()})("compositionstart",function(){return On._compositionStart()})("compositionend",function(Zi){return On._compositionEnd(Zi.target.value)})},features:[e._Bn([O]),e.qOj]})}return _t})();function L(_t){return null==_t||("string"==typeof _t||Array.isArray(_t))&&0===_t.length}function b(_t){return null!=_t&&"number"==typeof _t.length}const B=new e.OlP("NgValidators"),Z=new e.OlP("NgAsyncValidators"),oe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class le{static min(Ot){return function Re(_t){return Ot=>{if(L(Ot.value)||L(_t))return null;const ft=parseFloat(Ot.value);return!isNaN(ft)&&ft<_t?{min:{min:_t,actual:Ot.value}}:null}}(Ot)}static max(Ot){return function Y(_t){return Ot=>{if(L(Ot.value)||L(_t))return null;const ft=parseFloat(Ot.value);return!isNaN(ft)&&ft>_t?{max:{max:_t,actual:Ot.value}}:null}}(Ot)}static required(Ot){return ae(Ot)}static requiredTrue(Ot){return G(Ot)}static email(Ot){return function De(_t){return L(_t.value)||oe.test(_t.value)?null:{email:!0}}(Ot)}static minLength(Ot){return function ce(_t){return Ot=>L(Ot.value)||!b(Ot.value)?null:Ot.value.length<_t?{minlength:{requiredLength:_t,actualLength:Ot.value.length}}:null}(Ot)}static maxLength(Ot){return function Te(_t){return Ot=>b(Ot.value)&&Ot.value.length>_t?{maxlength:{requiredLength:_t,actualLength:Ot.value.length}}:null}(Ot)}static pattern(Ot){return function be(_t){if(!_t)return Oe;let Ot,ft;return"string"==typeof _t?(ft="","^"!==_t.charAt(0)&&(ft+="^"),ft+=_t,"$"!==_t.charAt(_t.length-1)&&(ft+="$"),Ot=new RegExp(ft)):(ft=_t.toString(),Ot=_t),$t=>{if(L($t.value))return null;const On=$t.value;return Ot.test(On)?null:{pattern:{requiredPattern:ft,actualValue:On}}}}(Ot)}static nullValidator(Ot){return null}static compose(Ot){return Ie(Ot)}static composeAsync(Ot){return at(Ot)}}function ae(_t){return L(_t.value)?{required:!0}:null}function G(_t){return!0===_t.value?null:{required:!0}}function Oe(_t){return null}function ie(_t){return null!=_t}function ye(_t){return(0,e.QGY)(_t)?(0,v.D)(_t):_t}function Ce(_t){let Ot={};return _t.forEach(ft=>{Ot=null!=ft?{...Ot,...ft}:Ot}),0===Object.keys(Ot).length?null:Ot}function de(_t,Ot){return Ot.map(ft=>ft(_t))}function pe(_t){return _t.map(Ot=>function Me(_t){return!_t.validate}(Ot)?Ot:ft=>Ot.validate(ft))}function Ie(_t){if(!_t)return null;const Ot=_t.filter(ie);return 0==Ot.length?null:function(ft){return Ce(de(ft,Ot))}}function Be(_t){return null!=_t?Ie(pe(_t)):null}function at(_t){if(!_t)return null;const Ot=_t.filter(ie);return 0==Ot.length?null:function(ft){return function d(..._t){const Ot=(0,D.jO)(_t),{args:ft,keys:$t}=(0,m.D)(_t),On=new y.y(Ti=>{const{length:Zi}=ft;if(!Zi)return void Ti.complete();const Yo=new Array(Zi);let ts=Zi,bs=Zi;for(let si=0;si<Zi;si++){let Os=!1;(0,P.Xf)(ft[si]).subscribe((0,f.x)(Ti,qr=>{Os||(Os=!0,bs--),Yo[si]=qr},()=>ts--,void 0,()=>{(!ts||!Os)&&(bs||Ti.next($t?(0,c.n)($t,Yo):Yo),Ti.complete())}))}});return Ot?On.pipe((0,i.Z)(Ot)):On}(de(ft,Ot).map(ye)).pipe((0,h.U)(Ce))}}function Xe(_t){return null!=_t?at(pe(_t)):null}function je(_t,Ot){return null===_t?[Ot]:Array.isArray(_t)?[..._t,Ot]:[_t,Ot]}function Ne(_t){return _t._rawValidators}function ee(_t){return _t._rawAsyncValidators}function fe(_t){return _t?Array.isArray(_t)?_t:[_t]:[]}function we(_t,Ot){return Array.isArray(_t)?_t.includes(Ot):_t===Ot}function q(_t,Ot){const ft=fe(Ot);return fe(_t).forEach(On=>{we(ft,On)||ft.push(On)}),ft}function $(_t,Ot){return fe(Ot).filter(ft=>!we(_t,ft))}class Q{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Ot){this._rawValidators=Ot||[],this._composedValidatorFn=Be(this._rawValidators)}_setAsyncValidators(Ot){this._rawAsyncValidators=Ot||[],this._composedAsyncValidatorFn=Xe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Ot){this._onDestroyCallbacks.push(Ot)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Ot=>Ot()),this._onDestroyCallbacks=[]}reset(Ot=void 0){this.control&&this.control.reset(Ot)}hasError(Ot,ft){return!!this.control&&this.control.hasError(Ot,ft)}getError(Ot,ft){return this.control?this.control.getError(Ot,ft):null}}class ne extends Q{get formDirective(){return null}get path(){return null}}class X extends Q{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class re{constructor(Ot){this._cd=Ot}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Se=(()=>{class _t extends re{constructor(ft){super(ft)}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36(X,2))};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function($t,On){2&$t&&e.ekj("ng-untouched",On.isUntouched)("ng-touched",On.isTouched)("ng-pristine",On.isPristine)("ng-dirty",On.isDirty)("ng-valid",On.isValid)("ng-invalid",On.isInvalid)("ng-pending",On.isPending)},features:[e.qOj]})}return _t})(),Ee=(()=>{class _t extends re{constructor(ft){super(ft)}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36(ne,10))};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function($t,On){2&$t&&e.ekj("ng-untouched",On.isUntouched)("ng-touched",On.isTouched)("ng-pristine",On.isPristine)("ng-dirty",On.isDirty)("ng-valid",On.isValid)("ng-invalid",On.isInvalid)("ng-pending",On.isPending)("ng-submitted",On.isSubmitted)},features:[e.qOj]})}return _t})();const vt="VALID",it="INVALID",He="PENDING",Ze="DISABLED";function st(_t){return(At(_t)?_t.validators:_t)||null}function St(_t,Ot){return(At(Ot)?Ot.asyncValidators:_t)||null}function At(_t){return null!=_t&&!Array.isArray(_t)&&"object"==typeof _t}function on(_t,Ot,ft){const $t=_t.controls;if(!(Ot?Object.keys($t):$t).length)throw new e.vHH(1e3,"");if(!$t[ft])throw new e.vHH(1001,"")}function En(_t,Ot,ft){_t._forEachChild(($t,On)=>{if(void 0===ft[On])throw new e.vHH(1002,"")})}class tn{constructor(Ot,ft){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Ot),this._assignAsyncValidators(ft)}get validator(){return this._composedValidatorFn}set validator(Ot){this._rawValidators=this._composedValidatorFn=Ot}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Ot){this._rawAsyncValidators=this._composedAsyncValidatorFn=Ot}get parent(){return this._parent}get valid(){return this.status===vt}get invalid(){return this.status===it}get pending(){return this.status==He}get disabled(){return this.status===Ze}get enabled(){return this.status!==Ze}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Ot){this._assignValidators(Ot)}setAsyncValidators(Ot){this._assignAsyncValidators(Ot)}addValidators(Ot){this.setValidators(q(Ot,this._rawValidators))}addAsyncValidators(Ot){this.setAsyncValidators(q(Ot,this._rawAsyncValidators))}removeValidators(Ot){this.setValidators($(Ot,this._rawValidators))}removeAsyncValidators(Ot){this.setAsyncValidators($(Ot,this._rawAsyncValidators))}hasValidator(Ot){return we(this._rawValidators,Ot)}hasAsyncValidator(Ot){return we(this._rawAsyncValidators,Ot)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Ot={}){this.touched=!0,this._parent&&!Ot.onlySelf&&this._parent.markAsTouched(Ot)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Ot=>Ot.markAllAsTouched())}markAsUntouched(Ot={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(ft=>{ft.markAsUntouched({onlySelf:!0})}),this._parent&&!Ot.onlySelf&&this._parent._updateTouched(Ot)}markAsDirty(Ot={}){this.pristine=!1,this._parent&&!Ot.onlySelf&&this._parent.markAsDirty(Ot)}markAsPristine(Ot={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(ft=>{ft.markAsPristine({onlySelf:!0})}),this._parent&&!Ot.onlySelf&&this._parent._updatePristine(Ot)}markAsPending(Ot={}){this.status=He,!1!==Ot.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Ot.onlySelf&&this._parent.markAsPending(Ot)}disable(Ot={}){const ft=this._parentMarkedDirty(Ot.onlySelf);this.status=Ze,this.errors=null,this._forEachChild($t=>{$t.disable({...Ot,onlySelf:!0})}),this._updateValue(),!1!==Ot.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Ot,skipPristineCheck:ft}),this._onDisabledChange.forEach($t=>$t(!0))}enable(Ot={}){const ft=this._parentMarkedDirty(Ot.onlySelf);this.status=vt,this._forEachChild($t=>{$t.enable({...Ot,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ot.emitEvent}),this._updateAncestors({...Ot,skipPristineCheck:ft}),this._onDisabledChange.forEach($t=>$t(!1))}_updateAncestors(Ot){this._parent&&!Ot.onlySelf&&(this._parent.updateValueAndValidity(Ot),Ot.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Ot){this._parent=Ot}getRawValue(){return this.value}updateValueAndValidity(Ot={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vt||this.status===He)&&this._runAsyncValidator(Ot.emitEvent)),!1!==Ot.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Ot.onlySelf&&this._parent.updateValueAndValidity(Ot)}_updateTreeValidity(Ot={emitEvent:!0}){this._forEachChild(ft=>ft._updateTreeValidity(Ot)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ot.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ze:vt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Ot){if(this.asyncValidator){this.status=He,this._hasOwnPendingAsyncValidator=!0;const ft=ye(this.asyncValidator(this));this._asyncValidationSubscription=ft.subscribe($t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors($t,{emitEvent:Ot})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Ot,ft={}){this.errors=Ot,this._updateControlsErrors(!1!==ft.emitEvent)}get(Ot){let ft=Ot;return null==ft||(Array.isArray(ft)||(ft=ft.split(".")),0===ft.length)?null:ft.reduce(($t,On)=>$t&&$t._find(On),this)}getError(Ot,ft){const $t=ft?this.get(ft):this;return $t&&$t.errors?$t.errors[Ot]:null}hasError(Ot,ft){return!!this.getError(Ot,ft)}get root(){let Ot=this;for(;Ot._parent;)Ot=Ot._parent;return Ot}_updateControlsErrors(Ot){this.status=this._calculateStatus(),Ot&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Ot)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?Ze:this.errors?it:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(He)?He:this._anyControlsHaveStatus(it)?it:vt}_anyControlsHaveStatus(Ot){return this._anyControls(ft=>ft.status===Ot)}_anyControlsDirty(){return this._anyControls(Ot=>Ot.dirty)}_anyControlsTouched(){return this._anyControls(Ot=>Ot.touched)}_updatePristine(Ot={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Ot.onlySelf&&this._parent._updatePristine(Ot)}_updateTouched(Ot={}){this.touched=this._anyControlsTouched(),this._parent&&!Ot.onlySelf&&this._parent._updateTouched(Ot)}_registerOnCollectionChange(Ot){this._onCollectionChange=Ot}_setUpdateStrategy(Ot){At(Ot)&&null!=Ot.updateOn&&(this._updateOn=Ot.updateOn)}_parentMarkedDirty(Ot){return!Ot&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Ot){return null}_assignValidators(Ot){this._rawValidators=Array.isArray(Ot)?Ot.slice():Ot,this._composedValidatorFn=function lt(_t){return Array.isArray(_t)?Be(_t):_t||null}(this._rawValidators)}_assignAsyncValidators(Ot){this._rawAsyncValidators=Array.isArray(Ot)?Ot.slice():Ot,this._composedAsyncValidatorFn=function bt(_t){return Array.isArray(_t)?Xe(_t):_t||null}(this._rawAsyncValidators)}}class Mn extends tn{constructor(Ot,ft,$t){super(st(ft),St($t,ft)),this.controls=Ot,this._initObservables(),this._setUpdateStrategy(ft),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Ot,ft){return this.controls[Ot]?this.controls[Ot]:(this.controls[Ot]=ft,ft.setParent(this),ft._registerOnCollectionChange(this._onCollectionChange),ft)}addControl(Ot,ft,$t={}){this.registerControl(Ot,ft),this.updateValueAndValidity({emitEvent:$t.emitEvent}),this._onCollectionChange()}removeControl(Ot,ft={}){this.controls[Ot]&&this.controls[Ot]._registerOnCollectionChange(()=>{}),delete this.controls[Ot],this.updateValueAndValidity({emitEvent:ft.emitEvent}),this._onCollectionChange()}setControl(Ot,ft,$t={}){this.controls[Ot]&&this.controls[Ot]._registerOnCollectionChange(()=>{}),delete this.controls[Ot],ft&&this.registerControl(Ot,ft),this.updateValueAndValidity({emitEvent:$t.emitEvent}),this._onCollectionChange()}contains(Ot){return this.controls.hasOwnProperty(Ot)&&this.controls[Ot].enabled}setValue(Ot,ft={}){En(this,0,Ot),Object.keys(Ot).forEach($t=>{on(this,!0,$t),this.controls[$t].setValue(Ot[$t],{onlySelf:!0,emitEvent:ft.emitEvent})}),this.updateValueAndValidity(ft)}patchValue(Ot,ft={}){null!=Ot&&(Object.keys(Ot).forEach($t=>{const On=this.controls[$t];On&&On.patchValue(Ot[$t],{onlySelf:!0,emitEvent:ft.emitEvent})}),this.updateValueAndValidity(ft))}reset(Ot={},ft={}){this._forEachChild(($t,On)=>{$t.reset(Ot[On],{onlySelf:!0,emitEvent:ft.emitEvent})}),this._updatePristine(ft),this._updateTouched(ft),this.updateValueAndValidity(ft)}getRawValue(){return this._reduceChildren({},(Ot,ft,$t)=>(Ot[$t]=ft.getRawValue(),Ot))}_syncPendingControls(){let Ot=this._reduceChildren(!1,(ft,$t)=>!!$t._syncPendingControls()||ft);return Ot&&this.updateValueAndValidity({onlySelf:!0}),Ot}_forEachChild(Ot){Object.keys(this.controls).forEach(ft=>{const $t=this.controls[ft];$t&&Ot($t,ft)})}_setUpControls(){this._forEachChild(Ot=>{Ot.setParent(this),Ot._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Ot){for(const[ft,$t]of Object.entries(this.controls))if(this.contains(ft)&&Ot($t))return!0;return!1}_reduceValue(){return this._reduceChildren({},(ft,$t,On)=>(($t.enabled||this.disabled)&&(ft[On]=$t.value),ft))}_reduceChildren(Ot,ft){let $t=Ot;return this._forEachChild((On,Ti)=>{$t=ft($t,On,Ti)}),$t}_allControlsDisabled(){for(const Ot of Object.keys(this.controls))if(this.controls[Ot].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Ot){return this.controls.hasOwnProperty(Ot)?this.controls[Ot]:null}}class $n extends Mn{}const vn=new e.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>pn}),pn="always";function yn(_t,Ot){return[...Ot.path,_t]}function mn(_t,Ot,ft=pn){Tn(_t,Ot),Ot.valueAccessor.writeValue(_t.value),(_t.disabled||"always"===ft)&&Ot.valueAccessor.setDisabledState?.(_t.disabled),function Dt(_t,Ot){Ot.valueAccessor.registerOnChange(ft=>{_t._pendingValue=ft,_t._pendingChange=!0,_t._pendingDirty=!0,"change"===_t.updateOn&&Nt(_t,Ot)})}(_t,Ot),function xn(_t,Ot){const ft=($t,On)=>{Ot.valueAccessor.writeValue($t),On&&Ot.viewToModelUpdate($t)};_t.registerOnChange(ft),Ot._registerOnDestroy(()=>{_t._unregisterOnChange(ft)})}(_t,Ot),function Qt(_t,Ot){Ot.valueAccessor.registerOnTouched(()=>{_t._pendingTouched=!0,"blur"===_t.updateOn&&_t._pendingChange&&Nt(_t,Ot),"submit"!==_t.updateOn&&_t.markAsTouched()})}(_t,Ot),function ht(_t,Ot){if(Ot.valueAccessor.setDisabledState){const ft=$t=>{Ot.valueAccessor.setDisabledState($t)};_t.registerOnDisabledChange(ft),Ot._registerOnDestroy(()=>{_t._unregisterOnDisabledChange(ft)})}}(_t,Ot)}function _n(_t,Ot,ft=!0){const $t=()=>{};Ot.valueAccessor&&(Ot.valueAccessor.registerOnChange($t),Ot.valueAccessor.registerOnTouched($t)),et(_t,Ot),_t&&(Ot._invokeOnDestroyCallbacks(),_t._registerOnCollectionChange(()=>{}))}function Mt(_t,Ot){_t.forEach(ft=>{ft.registerOnValidatorChange&&ft.registerOnValidatorChange(Ot)})}function Tn(_t,Ot){const ft=Ne(_t);null!==Ot.validator?_t.setValidators(je(ft,Ot.validator)):"function"==typeof ft&&_t.setValidators([ft]);const $t=ee(_t);null!==Ot.asyncValidator?_t.setAsyncValidators(je($t,Ot.asyncValidator)):"function"==typeof $t&&_t.setAsyncValidators([$t]);const On=()=>_t.updateValueAndValidity();Mt(Ot._rawValidators,On),Mt(Ot._rawAsyncValidators,On)}function et(_t,Ot){let ft=!1;if(null!==_t){if(null!==Ot.validator){const On=Ne(_t);if(Array.isArray(On)&&On.length>0){const Ti=On.filter(Zi=>Zi!==Ot.validator);Ti.length!==On.length&&(ft=!0,_t.setValidators(Ti))}}if(null!==Ot.asyncValidator){const On=ee(_t);if(Array.isArray(On)&&On.length>0){const Ti=On.filter(Zi=>Zi!==Ot.asyncValidator);Ti.length!==On.length&&(ft=!0,_t.setAsyncValidators(Ti))}}}const $t=()=>{};return Mt(Ot._rawValidators,$t),Mt(Ot._rawAsyncValidators,$t),ft}function Nt(_t,Ot){_t._pendingDirty&&_t.markAsDirty(),_t.setValue(_t._pendingValue,{emitModelToViewChange:!1}),Ot.viewToModelUpdate(_t._pendingValue),_t._pendingChange=!1}function kt(_t,Ot){Tn(_t,Ot)}function Ft(_t,Ot){if(!_t.hasOwnProperty("model"))return!1;const ft=_t.model;return!!ft.isFirstChange()||!Object.is(Ot,ft.currentValue)}function Le(_t,Ot){_t._syncPendingControls(),Ot.forEach(ft=>{const $t=ft.control;"submit"===$t.updateOn&&$t._pendingChange&&(ft.viewToModelUpdate($t._pendingValue),$t._pendingChange=!1)})}function Bt(_t,Ot){if(!Ot)return null;let ft,$t,On;return Array.isArray(Ot),Ot.forEach(Ti=>{Ti.constructor===E?ft=Ti:function Pn(_t){return Object.getPrototypeOf(_t.constructor)===C}(Ti)?$t=Ti:On=Ti}),On||$t||ft||null}const Fn={provide:ne,useExisting:(0,e.Gpc)(()=>vr)},vi=(()=>Promise.resolve())();let vr=(()=>{class _t extends ne{constructor(ft,$t,On){super(),this.callSetDisabledState=On,this.submitted=!1,this._directives=new Set,this.ngSubmit=new e.vpe,this.form=new Mn({},Be(ft),Xe($t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(ft){vi.then(()=>{const $t=this._findContainer(ft.path);ft.control=$t.registerControl(ft.name,ft.control),mn(ft.control,ft,this.callSetDisabledState),ft.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(ft)})}getControl(ft){return this.form.get(ft.path)}removeControl(ft){vi.then(()=>{const $t=this._findContainer(ft.path);$t&&$t.removeControl(ft.name),this._directives.delete(ft)})}addFormGroup(ft){vi.then(()=>{const $t=this._findContainer(ft.path),On=new Mn({});kt(On,ft),$t.registerControl(ft.name,On),On.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(ft){vi.then(()=>{const $t=this._findContainer(ft.path);$t&&$t.removeControl(ft.name)})}getFormGroup(ft){return this.form.get(ft.path)}updateModel(ft,$t){vi.then(()=>{this.form.get(ft.path).setValue($t)})}setValue(ft){this.control.setValue(ft)}onSubmit(ft){return this.submitted=!0,Le(this.form,this._directives),this.ngSubmit.emit(ft),"dialog"===ft?.target?.method}onReset(){this.resetForm()}resetForm(ft=void 0){this.form.reset(ft),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(ft){return ft.pop(),ft.length?this.form.get(ft):this.form}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36(B,10),e.Y36(Z,10),e.Y36(vn,8))};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function($t,On){1&$t&&e.NdJ("submit",function(Zi){return On.onSubmit(Zi)})("reset",function(){return On.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([Fn]),e.qOj]})}return _t})();function Zr(_t,Ot){const ft=_t.indexOf(Ot);ft>-1&&_t.splice(ft,1)}function Gr(_t){return"object"==typeof _t&&null!==_t&&2===Object.keys(_t).length&&"value"in _t&&"disabled"in _t}const ki=class extends tn{constructor(Ot=null,ft,$t){super(st(ft),St($t,ft)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Ot),this._setUpdateStrategy(ft),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),At(ft)&&(ft.nonNullable||ft.initialValueIsDefault)&&(this.defaultValue=Gr(Ot)?Ot.value:Ot)}setValue(Ot,ft={}){this.value=this._pendingValue=Ot,this._onChange.length&&!1!==ft.emitModelToViewChange&&this._onChange.forEach($t=>$t(this.value,!1!==ft.emitViewToModelChange)),this.updateValueAndValidity(ft)}patchValue(Ot,ft={}){this.setValue(Ot,ft)}reset(Ot=this.defaultValue,ft={}){this._applyFormState(Ot),this.markAsPristine(ft),this.markAsUntouched(ft),this.setValue(this.value,ft),this._pendingChange=!1}_updateValue(){}_anyControls(Ot){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Ot){this._onChange.push(Ot)}_unregisterOnChange(Ot){Zr(this._onChange,Ot)}registerOnDisabledChange(Ot){this._onDisabledChange.push(Ot)}_unregisterOnDisabledChange(Ot){Zr(this._onDisabledChange,Ot)}_forEachChild(Ot){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Ot){Gr(Ot)?(this.value=this._pendingValue=Ot.value,Ot.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Ot}},os={provide:X,useExisting:(0,e.Gpc)(()=>co)},xr=(()=>Promise.resolve())();let co=(()=>{class _t extends X{constructor(ft,$t,On,Ti,Zi,Yo){super(),this._changeDetectorRef=Zi,this.callSetDisabledState=Yo,this.control=new ki,this._registered=!1,this.name="",this.update=new e.vpe,this._parent=ft,this._setValidators($t),this._setAsyncValidators(On),this.valueAccessor=Bt(0,Ti)}ngOnChanges(ft){if(this._checkForErrors(),!this._registered||"name"in ft){if(this._registered&&(this._checkName(),this.formDirective)){const $t=ft.name.previousValue;this.formDirective.removeControl({name:$t,path:this._getPath($t)})}this._setUpControl()}"isDisabled"in ft&&this._updateDisabled(ft),Ft(ft,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ft){this.viewModel=ft,this.update.emit(ft)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){mn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ft){xr.then(()=>{this.control.setValue(ft,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(ft){const $t=ft.isDisabled.currentValue,On=0!==$t&&(0,e.VuI)($t);xr.then(()=>{On&&!this.control.disabled?this.control.disable():!On&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(ft){return this._parent?yn(ft,this._parent):[ft]}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36(ne,9),e.Y36(B,10),e.Y36(Z,10),e.Y36(A,10),e.Y36(e.sBO,8),e.Y36(vn,8))};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([os]),e.qOj,e.TTD]})}return _t})(),Xo=(()=>{class _t{static#e=this.\u0275fac=function($t){return new($t||_t)};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return _t})();const As={provide:A,useExisting:(0,e.Gpc)(()=>Cr),multi:!0};let Cr=(()=>{class _t extends C{writeValue(ft){this.setProperty("value",ft??"")}registerOnChange(ft){this.onChange=$t=>{ft(""==$t?null:parseFloat($t))}}static#e=this.\u0275fac=function(){let ft;return function(On){return(ft||(ft=e.n5z(_t)))(On||_t)}}();static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function($t,On){1&$t&&e.NdJ("input",function(Zi){return On.onChange(Zi.target.value)})("blur",function(){return On.onTouched()})},features:[e._Bn([As]),e.qOj]})}return _t})(),Pr=(()=>{class _t{static#e=this.\u0275fac=function($t){return new($t||_t)};static#t=this.\u0275mod=e.oAB({type:_t});static#n=this.\u0275inj=e.cJS({})}return _t})();const Dn=new e.OlP("NgModelWithFormControlWarning"),li={provide:ne,useExisting:(0,e.Gpc)(()=>Ui)};let Ui=(()=>{class _t extends ne{constructor(ft,$t,On){super(),this.callSetDisabledState=On,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.vpe,this._setValidators(ft),this._setAsyncValidators($t)}ngOnChanges(ft){this._checkFormPresent(),ft.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(et(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(ft){const $t=this.form.get(ft.path);return mn($t,ft,this.callSetDisabledState),$t.updateValueAndValidity({emitEvent:!1}),this.directives.push(ft),$t}getControl(ft){return this.form.get(ft.path)}removeControl(ft){_n(ft.control||null,ft,!1),function Rt(_t,Ot){const ft=_t.indexOf(Ot);ft>-1&&_t.splice(ft,1)}(this.directives,ft)}addFormGroup(ft){this._setUpFormContainer(ft)}removeFormGroup(ft){this._cleanUpFormContainer(ft)}getFormGroup(ft){return this.form.get(ft.path)}addFormArray(ft){this._setUpFormContainer(ft)}removeFormArray(ft){this._cleanUpFormContainer(ft)}getFormArray(ft){return this.form.get(ft.path)}updateModel(ft,$t){this.form.get(ft.path).setValue($t)}onSubmit(ft){return this.submitted=!0,Le(this.form,this.directives),this.ngSubmit.emit(ft),"dialog"===ft?.target?.method}onReset(){this.resetForm()}resetForm(ft=void 0){this.form.reset(ft),this.submitted=!1}_updateDomValue(){this.directives.forEach(ft=>{const $t=ft.control,On=this.form.get(ft.path);$t!==On&&(_n($t||null,ft),(_t=>_t instanceof ki)(On)&&(mn(On,ft,this.callSetDisabledState),ft.control=On))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(ft){const $t=this.form.get(ft.path);kt($t,ft),$t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(ft){if(this.form){const $t=this.form.get(ft.path);$t&&function wt(_t,Ot){return et(_t,Ot)}($t,ft)&&$t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Tn(this.form,this),this._oldForm&&et(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36(B,10),e.Y36(Z,10),e.Y36(vn,8))};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["","formGroup",""]],hostBindings:function($t,On){1&$t&&e.NdJ("submit",function(Zi){return On.onSubmit(Zi)})("reset",function(){return On.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([li]),e.qOj,e.TTD]})}return _t})();const Lo={provide:X,useExisting:(0,e.Gpc)(()=>ko)};let ko=(()=>{class _t extends X{set isDisabled(ft){}static#e=this._ngModelWarningSentOnce=!1;constructor(ft,$t,On,Ti,Zi){super(),this._ngModelWarningConfig=Zi,this._added=!1,this.name=null,this.update=new e.vpe,this._ngModelWarningSent=!1,this._parent=ft,this._setValidators($t),this._setAsyncValidators(On),this.valueAccessor=Bt(0,Ti)}ngOnChanges(ft){this._added||this._setUpControl(),Ft(ft,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(ft){this.viewModel=ft,this.update.emit(ft)}get path(){return yn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function($t){return new($t||_t)(e.Y36(ne,13),e.Y36(B,10),e.Y36(Z,10),e.Y36(A,10),e.Y36(Dn,8))};static#n=this.\u0275dir=e.lG2({type:_t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[e._Bn([Lo]),e.qOj,e.TTD]})}return _t})();const Ks={provide:A,useExisting:(0,e.Gpc)(()=>ss),multi:!0};function Xr(_t,Ot){return null==_t?`${Ot}`:(Ot&&"object"==typeof Ot&&(Ot="Object"),`${_t}: ${Ot}`.slice(0,50))}let ss=(()=>{class _t extends C{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(ft){this._compareWith=ft}writeValue(ft){this.value=ft;const On=Xr(this._getOptionId(ft),ft);this.setProperty("value",On)}registerOnChange(ft){this.onChange=$t=>{this.value=this._getOptionValue($t),ft(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(ft){for(const $t of this._optionMap.keys())if(this._compareWith(this._optionMap.get($t),ft))return $t;return null}_getOptionValue(ft){const $t=function _o(_t){return _t.split(":")[0]}(ft);return this._optionMap.has($t)?this._optionMap.get($t):ft}static#e=this.\u0275fac=function(){let ft;return function(On){return(ft||(ft=e.n5z(_t)))(On||_t)}}();static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function($t,On){1&$t&&e.NdJ("change",function(Zi){return On.onChange(Zi.target.value)})("blur",function(){return On.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([Ks]),e.qOj]})}return _t})(),as=(()=>{class _t{constructor(ft,$t,On){this._element=ft,this._renderer=$t,this._select=On,this._select&&(this.id=this._select._registerOption())}set ngValue(ft){null!=this._select&&(this._select._optionMap.set(this.id,ft),this._setElementValue(Xr(this.id,ft)),this._select.writeValue(this._select.value))}set value(ft){this._setElementValue(ft),this._select&&this._select.writeValue(this._select.value)}_setElementValue(ft){this._renderer.setProperty(this._element.nativeElement,"value",ft)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(ss,9))};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return _t})();const lr={provide:A,useExisting:(0,e.Gpc)(()=>uo),multi:!0};function ja(_t,Ot){return null==_t?`${Ot}`:("string"==typeof Ot&&(Ot=`'${Ot}'`),Ot&&"object"==typeof Ot&&(Ot="Object"),`${_t}: ${Ot}`.slice(0,50))}let uo=(()=>{class _t extends C{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(ft){this._compareWith=ft}writeValue(ft){let $t;if(this.value=ft,Array.isArray(ft)){const On=ft.map(Ti=>this._getOptionId(Ti));$t=(Ti,Zi)=>{Ti._setSelected(On.indexOf(Zi.toString())>-1)}}else $t=(On,Ti)=>{On._setSelected(!1)};this._optionMap.forEach($t)}registerOnChange(ft){this.onChange=$t=>{const On=[],Ti=$t.selectedOptions;if(void 0!==Ti){const Zi=Ti;for(let Yo=0;Yo<Zi.length;Yo++){const bs=this._getOptionValue(Zi[Yo].value);On.push(bs)}}else{const Zi=$t.options;for(let Yo=0;Yo<Zi.length;Yo++){const ts=Zi[Yo];if(ts.selected){const bs=this._getOptionValue(ts.value);On.push(bs)}}}this.value=On,ft(On)}}_registerOption(ft){const $t=(this._idCounter++).toString();return this._optionMap.set($t,ft),$t}_getOptionId(ft){for(const $t of this._optionMap.keys())if(this._compareWith(this._optionMap.get($t)._value,ft))return $t;return null}_getOptionValue(ft){const $t=function qo(_t){return _t.split(":")[0]}(ft);return this._optionMap.has($t)?this._optionMap.get($t)._value:ft}static#e=this.\u0275fac=function(){let ft;return function(On){return(ft||(ft=e.n5z(_t)))(On||_t)}}();static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function($t,On){1&$t&&e.NdJ("change",function(Zi){return On.onChange(Zi.target)})("blur",function(){return On.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([lr]),e.qOj]})}return _t})(),ls=(()=>{class _t{constructor(ft,$t,On){this._element=ft,this._renderer=$t,this._select=On,this._select&&(this.id=this._select._registerOption(this))}set ngValue(ft){null!=this._select&&(this._value=ft,this._setElementValue(ja(this.id,ft)),this._select.writeValue(this._select.value))}set value(ft){this._select?(this._value=ft,this._setElementValue(ja(this.id,ft)),this._select.writeValue(this._select.value)):this._setElementValue(ft)}_setElementValue(ft){this._renderer.setProperty(this._element.nativeElement,"value",ft)}_setSelected(ft){this._renderer.setProperty(this._element.nativeElement,"selected",ft)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(uo,9))};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return _t})(),Kr=(()=>{class _t{constructor(){this._validator=Oe}ngOnChanges(ft){if(this.inputName in ft){const $t=this.normalizeInput(ft[this.inputName].currentValue);this._enabled=this.enabled($t),this._validator=this._enabled?this.createValidator($t):Oe,this._onChange&&this._onChange()}}validate(ft){return this._validator(ft)}registerOnValidatorChange(ft){this._onChange=ft}enabled(ft){return null!=ft}static#e=this.\u0275fac=function($t){return new($t||_t)};static#t=this.\u0275dir=e.lG2({type:_t,features:[e.TTD]})}return _t})();const Ao={provide:B,useExisting:(0,e.Gpc)(()=>mr),multi:!0},kr={provide:B,useExisting:(0,e.Gpc)(()=>Fo),multi:!0};let mr=(()=>{class _t extends Kr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e.VuI,this.createValidator=ft=>ae}enabled(ft){return ft}static#e=this.\u0275fac=function(){let ft;return function(On){return(ft||(ft=e.n5z(_t)))(On||_t)}}();static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function($t,On){2&$t&&e.uIk("required",On._enabled?"":null)},inputs:{required:"required"},features:[e._Bn([Ao]),e.qOj]})}return _t})(),Fo=(()=>{class _t extends mr{constructor(){super(...arguments),this.createValidator=ft=>G}static#e=this.\u0275fac=function(){let ft;return function(On){return(ft||(ft=e.n5z(_t)))(On||_t)}}();static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function($t,On){2&$t&&e.uIk("required",On._enabled?"":null)},features:[e._Bn([kr]),e.qOj]})}return _t})(),Ma=(()=>{class _t{static#e=this.\u0275fac=function($t){return new($t||_t)};static#t=this.\u0275mod=e.oAB({type:_t});static#n=this.\u0275inj=e.cJS({imports:[Pr]})}return _t})();class Zs extends tn{constructor(Ot,ft,$t){super(st(ft),St($t,ft)),this.controls=Ot,this._initObservables(),this._setUpdateStrategy(ft),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Ot){return this.controls[this._adjustIndex(Ot)]}push(Ot,ft={}){this.controls.push(Ot),this._registerControl(Ot),this.updateValueAndValidity({emitEvent:ft.emitEvent}),this._onCollectionChange()}insert(Ot,ft,$t={}){this.controls.splice(Ot,0,ft),this._registerControl(ft),this.updateValueAndValidity({emitEvent:$t.emitEvent})}removeAt(Ot,ft={}){let $t=this._adjustIndex(Ot);$t<0&&($t=0),this.controls[$t]&&this.controls[$t]._registerOnCollectionChange(()=>{}),this.controls.splice($t,1),this.updateValueAndValidity({emitEvent:ft.emitEvent})}setControl(Ot,ft,$t={}){let On=this._adjustIndex(Ot);On<0&&(On=0),this.controls[On]&&this.controls[On]._registerOnCollectionChange(()=>{}),this.controls.splice(On,1),ft&&(this.controls.splice(On,0,ft),this._registerControl(ft)),this.updateValueAndValidity({emitEvent:$t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Ot,ft={}){En(this,0,Ot),Ot.forEach(($t,On)=>{on(this,!1,On),this.at(On).setValue($t,{onlySelf:!0,emitEvent:ft.emitEvent})}),this.updateValueAndValidity(ft)}patchValue(Ot,ft={}){null!=Ot&&(Ot.forEach(($t,On)=>{this.at(On)&&this.at(On).patchValue($t,{onlySelf:!0,emitEvent:ft.emitEvent})}),this.updateValueAndValidity(ft))}reset(Ot=[],ft={}){this._forEachChild(($t,On)=>{$t.reset(Ot[On],{onlySelf:!0,emitEvent:ft.emitEvent})}),this._updatePristine(ft),this._updateTouched(ft),this.updateValueAndValidity(ft)}getRawValue(){return this.controls.map(Ot=>Ot.getRawValue())}clear(Ot={}){this.controls.length<1||(this._forEachChild(ft=>ft._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Ot.emitEvent}))}_adjustIndex(Ot){return Ot<0?Ot+this.length:Ot}_syncPendingControls(){let Ot=this.controls.reduce((ft,$t)=>!!$t._syncPendingControls()||ft,!1);return Ot&&this.updateValueAndValidity({onlySelf:!0}),Ot}_forEachChild(Ot){this.controls.forEach((ft,$t)=>{Ot(ft,$t)})}_updateValue(){this.value=this.controls.filter(Ot=>Ot.enabled||this.disabled).map(Ot=>Ot.value)}_anyControls(Ot){return this.controls.some(ft=>ft.enabled&&Ot(ft))}_setUpControls(){this._forEachChild(Ot=>this._registerControl(Ot))}_allControlsDisabled(){for(const Ot of this.controls)if(Ot.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Ot){Ot.setParent(this),Ot._registerOnCollectionChange(this._onCollectionChange)}_find(Ot){return this.at(Ot)??null}}function cs(_t){return!!_t&&(void 0!==_t.asyncValidators||void 0!==_t.validators||void 0!==_t.updateOn)}let ra=(()=>{class _t{constructor(){this.useNonNullable=!1}get nonNullable(){const ft=new _t;return ft.useNonNullable=!0,ft}group(ft,$t=null){const On=this._reduceControls(ft);let Ti={};return cs($t)?Ti=$t:null!==$t&&(Ti.validators=$t.validator,Ti.asyncValidators=$t.asyncValidator),new Mn(On,Ti)}record(ft,$t=null){const On=this._reduceControls(ft);return new $n(On,$t)}control(ft,$t,On){let Ti={};return this.useNonNullable?(cs($t)?Ti=$t:(Ti.validators=$t,Ti.asyncValidators=On),new ki(ft,{...Ti,nonNullable:!0})):new ki(ft,$t,On)}array(ft,$t,On){const Ti=ft.map(Zi=>this._createControl(Zi));return new Zs(Ti,$t,On)}_reduceControls(ft){const $t={};return Object.keys(ft).forEach(On=>{$t[On]=this._createControl(ft[On])}),$t}_createControl(ft){return ft instanceof ki||ft instanceof tn?ft:Array.isArray(ft)?this.control(ft[0],ft.length>1?ft[1]:null,ft.length>2?ft[2]:null):this.control(ft)}static#e=this.\u0275fac=function($t){return new($t||_t)};static#t=this.\u0275prov=e.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"root"})}return _t})(),Br=(()=>{class _t{static withConfig(ft){return{ngModule:_t,providers:[{provide:vn,useValue:ft.callSetDisabledState??pn}]}}static#e=this.\u0275fac=function($t){return new($t||_t)};static#t=this.\u0275mod=e.oAB({type:_t});static#n=this.\u0275inj=e.cJS({imports:[Ma]})}return _t})(),kn=(()=>{class _t{static withConfig(ft){return{ngModule:_t,providers:[{provide:Dn,useValue:ft.warnOnNgModelWithFormControl??"always"},{provide:vn,useValue:ft.callSetDisabledState??pn}]}}static#e=this.\u0275fac=function($t){return new($t||_t)};static#t=this.\u0275mod=e.oAB({type:_t});static#n=this.\u0275inj=e.cJS({imports:[Ma]})}return _t})()},2296:(Wn,Je,g)=>{"use strict";g.d(Je,{RK:()=>de,lW:()=>ae,ot:()=>pe});var e=g(2831),t=g(5879),v=g(4300),y=g(3680),m=g(6814);const P=["mat-button",""],D=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],f=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],C=["mat-icon-button",""],A=["*"],R={capture:!0},O=["focus","click","mouseenter","touchstart"],S="mat-button-ripple-uninitialized";let I=(()=>{class Ie{constructor(){this._document=(0,t.f3M)(m.K0,{optional:!0}),this._animationMode=(0,t.f3M)(t.QbO,{optional:!0}),this._globalRippleOptions=(0,t.f3M)(y.Y2,{optional:!0}),this._platform=(0,t.f3M)(e.t4),this._ngZone=(0,t.f3M)(t.R0b),this._onInteraction=at=>{if(at.target===this._document)return;const je=at.target.closest(`[${S}]`);je&&(je.removeAttribute(S),this._appendRipple(je))},this._ngZone.runOutsideAngular(()=>{for(const at of O)this._document?.addEventListener(at,this._onInteraction,R)})}ngOnDestroy(){for(const at of O)this._document?.removeEventListener(at,this._onInteraction,R)}_appendRipple(at){if(!this._document)return;const Xe=this._document.createElement("span");Xe.classList.add("mat-mdc-button-ripple");const je=new E(at,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);je.rippleConfig.centered=at.hasAttribute("mat-icon-button"),new y.IR(je,this._ngZone,Xe,this._platform).setupTriggerEvents(at),at.append(Xe)}_createMatRipple(at){if(!this._document)return;at.querySelector(".mat-mdc-button-ripple")?.remove(),at.removeAttribute(S);const Xe=this._document.createElement("span");Xe.classList.add("mat-mdc-button-ripple");const je=new y.wG(new t.SBq(Xe),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return je._isInitialized=!0,je.trigger=at,at.append(Xe),je}static#e=this.\u0275fac=function(Xe){return new(Xe||Ie)};static#t=this.\u0275prov=t.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}return Ie})();class E{constructor(Be,at,Xe){this._button=Be,this._globalRippleOptions=at,this._setRippleConfig(at,Xe)}_setRippleConfig(Be,at){this.rippleConfig=Be||{},"NoopAnimations"===at&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const B=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Z=(0,y.pj)((0,y.Id)((0,y.Kr)(class{constructor(Ie){this._elementRef=Ie}})));let oe=(()=>{class Ie extends Z{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(at){this._ripple=at}constructor(at,Xe,je,Ne){super(at),this._platform=Xe,this._ngZone=je,this._animationMode=Ne,this._focusMonitor=(0,t.f3M)(v.tE),this._rippleLoader=(0,t.f3M)(I),this._isFab=!1;const ee=at.nativeElement.classList;for(const fe of B)this._hasHostAttributes(fe.selector)&&fe.mdcClasses.forEach(we=>{ee.add(we)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(at="program",Xe){at?this._focusMonitor.focusVia(this._elementRef.nativeElement,at,Xe):this._elementRef.nativeElement.focus(Xe)}_hasHostAttributes(...at){return at.some(Xe=>this._elementRef.nativeElement.hasAttribute(Xe))}static#e=this.\u0275fac=function(Xe){t.$Z()};static#t=this.\u0275dir=t.lG2({type:Ie,features:[t.qOj,t.TTD]})}return Ie})(),ae=(()=>{class Ie extends oe{constructor(at,Xe,je,Ne){super(at,Xe,je,Ne)}static#e=this.\u0275fac=function(Xe){return new(Xe||Ie)(t.Y36(t.SBq),t.Y36(e.t4),t.Y36(t.R0b),t.Y36(t.QbO,8))};static#t=this.\u0275cmp=t.Xpm({type:Ie,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(Xe,je){2&Xe&&(t.uIk("disabled",je.disabled||null),t.ekj("_mat-animation-noopable","NoopAnimations"===je._animationMode)("mat-unthemed",!je.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[t.qOj],attrs:P,ngContentSelectors:f,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Xe,je){1&Xe&&(t.F$t(D),t._UZ(0,"span",0),t.Hsn(1),t.TgZ(2,"span",1),t.Hsn(3,1),t.qZA(),t.Hsn(4,2),t._UZ(5,"span",2)(6,"span",3)),2&Xe&&t.ekj("mdc-button__ripple",!je._isFab)("mdc-fab__ripple",je._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Ie})(),de=(()=>{class Ie extends oe{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(at,Xe,je,Ne){super(at,Xe,je,Ne)}static#e=this.\u0275fac=function(Xe){return new(Xe||Ie)(t.Y36(t.SBq),t.Y36(e.t4),t.Y36(t.R0b),t.Y36(t.QbO,8))};static#t=this.\u0275cmp=t.Xpm({type:Ie,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(Xe,je){2&Xe&&(t.uIk("disabled",je.disabled||null),t.ekj("_mat-animation-noopable","NoopAnimations"===je._animationMode)("mat-unthemed",!je.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[t.qOj],attrs:C,ngContentSelectors:A,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Xe,je){1&Xe&&(t.F$t(),t._UZ(0,"span",0),t.Hsn(1),t._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Ie})(),pe=(()=>{class Ie{static#e=this.\u0275fac=function(Xe){return new(Xe||Ie)};static#t=this.\u0275mod=t.oAB({type:Ie});static#n=this.\u0275inj=t.cJS({imports:[y.BQ,y.si,y.BQ]})}return Ie})()},5986:(Wn,Je,g)=>{"use strict";g.d(Je,{oG:()=>x,p9:()=>I});var e=g(5879),t=g(95),v=g(3680),y=g(2495);const m=["input"],P=["label"],D=["*"],f=new e.OlP("mat-checkbox-default-options",{providedIn:"root",factory:i});function i(){return{color:"accent",clickAction:"check-indeterminate"}}const c={provide:t.JU,useExisting:(0,e.Gpc)(()=>x),multi:!0};class d{}let h=0;const p=i(),C=(0,v.sb)((0,v.pj)((0,v.Kr)((0,v.Id)(class{constructor(E){this._elementRef=E}}))));let A=(()=>{class E extends C{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(b){this._required=(0,y.Ig)(b)}constructor(b,B,Z,oe,le,Re,Y){super(B),this._changeDetectorRef=Z,this._ngZone=oe,this._animationMode=Re,this._options=Y,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new e.vpe,this.indeterminateChange=new e.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||p,this.color=this.defaultColor=this._options.color||p.color,this.tabIndex=parseInt(le)||0,this.id=this._uniqueId=`${b}${++h}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(b){const B=(0,y.Ig)(b);B!=this.checked&&(this._checked=B,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(b){const B=(0,y.Ig)(b);B!==this.disabled&&(this._disabled=B,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(b){const B=b!=this._indeterminate;this._indeterminate=(0,y.Ig)(b),B&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(b){this.checked=!!b}registerOnChange(b){this._controlValueAccessorChangeFn=b}registerOnTouched(b){this._onTouched=b}setDisabledState(b){this.disabled=b}_transitionCheckState(b){let B=this._currentCheckState,Z=this._getAnimationTargetElement();if(B!==b&&Z&&(this._currentAnimationClass&&Z.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(B,b),this._currentCheckState=b,this._currentAnimationClass.length>0)){Z.classList.add(this._currentAnimationClass);const oe=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{Z.classList.remove(oe)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const b=this._options?.clickAction;this.disabled||"noop"===b?!this.disabled&&"noop"===b&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==b&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(b){b.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(b,B){if("NoopAnimations"===this._animationMode)return"";switch(b){case 0:if(1===B)return this._animationClasses.uncheckedToChecked;if(3==B)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===B?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===B?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===B?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(b){const B=this._inputElement;B&&(B.nativeElement.indeterminate=b)}static#e=this.\u0275fac=function(B){e.$Z()};static#t=this.\u0275dir=e.lG2({type:E,viewQuery:function(B,Z){if(1&B&&(e.Gf(m,5),e.Gf(P,5),e.Gf(v.wG,5)),2&B){let oe;e.iGM(oe=e.CRH())&&(Z._inputElement=oe.first),e.iGM(oe=e.CRH())&&(Z._labelElement=oe.first),e.iGM(oe=e.CRH())&&(Z.ripple=oe.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[e.qOj]})}return E})(),x=(()=>{class E extends A{constructor(b,B,Z,oe,le,Re){super("mat-mdc-checkbox-",b,B,Z,oe,le,Re),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(b){const B=new d;return B.source=this,B.checked=b,B}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(b){b.target&&this._labelElement.nativeElement.contains(b.target)&&b.stopPropagation()}static#e=this.\u0275fac=function(B){return new(B||E)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(e.R0b),e.$8M("tabindex"),e.Y36(e.QbO,8),e.Y36(f,8))};static#t=this.\u0275cmp=e.Xpm({type:E,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(B,Z){2&B&&(e.Ikx("id",Z.id),e.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),e.ekj("_mat-animation-noopable","NoopAnimations"===Z._animationMode)("mdc-checkbox--disabled",Z.disabled)("mat-mdc-checkbox-disabled",Z.disabled)("mat-mdc-checkbox-checked",Z.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[e._Bn([c]),e.qOj],ngContentSelectors:D,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(B,Z){if(1&B&&(e.F$t(),e.TgZ(0,"div",0),e.NdJ("click",function(le){return Z._preventBubblingFromLabel(le)}),e.TgZ(1,"div",1,2)(3,"div",3),e.NdJ("click",function(){return Z._onTouchTargetClick()}),e.qZA(),e.TgZ(4,"input",4,5),e.NdJ("blur",function(){return Z._onBlur()})("click",function(){return Z._onInputClick()})("change",function(le){return Z._onInteractionEvent(le)}),e.qZA(),e._UZ(6,"div",6),e.TgZ(7,"div",7),e.O4$(),e.TgZ(8,"svg",8),e._UZ(9,"path",9),e.qZA(),e.kcU(),e._UZ(10,"div",10),e.qZA(),e._UZ(11,"div",11),e.qZA(),e.TgZ(12,"label",12,13),e.Hsn(14),e.qZA()()),2&B){const oe=e.MAs(2);e.ekj("mdc-form-field--align-end","before"==Z.labelPosition),e.xp6(4),e.ekj("mdc-checkbox--selected",Z.checked),e.Q6J("checked",Z.checked)("indeterminate",Z.indeterminate)("disabled",Z.disabled)("id",Z.inputId)("required",Z.required)("tabIndex",Z.tabIndex),e.uIk("aria-label",Z.ariaLabel||null)("aria-labelledby",Z.ariaLabelledby)("aria-describedby",Z.ariaDescribedby)("name",Z.name)("value",Z.value),e.xp6(7),e.Q6J("matRippleTrigger",oe)("matRippleDisabled",Z.disableRipple||Z.disabled)("matRippleCentered",!0),e.xp6(1),e.Q6J("for",Z.inputId)}},dependencies:[v.wG],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return E})(),S=(()=>{class E{static#e=this.\u0275fac=function(B){return new(B||E)};static#t=this.\u0275mod=e.oAB({type:E});static#n=this.\u0275inj=e.cJS({})}return E})(),I=(()=>{class E{static#e=this.\u0275fac=function(B){return new(B||E)};static#t=this.\u0275mod=e.oAB({type:E});static#n=this.\u0275inj=e.cJS({imports:[v.BQ,v.si,S,v.BQ,S]})}return E})()},3680:(Wn,Je,g)=>{"use strict";g.d(Je,{yN:()=>I,mZ:()=>E,_A:()=>Oe,rD:()=>at,sG:()=>ie,K7:()=>Et,HF:()=>tt,Y2:()=>Se,BQ:()=>B,XK:()=>Ie,ey:()=>Jt,Ng:()=>fn,wG:()=>Ee,si:()=>Fe,IR:()=>J,CB:()=>Xt,jH:()=>un,pj:()=>Y,Kr:()=>ae,Id:()=>Re,FD:()=>De,dB:()=>ce,sb:()=>G});var e=g(5879),t=g(4300),v=g(9388),m=g(6814),P=g(2831),D=g(2495),f=g(5592),i=g(8645),c=g(6028);const p=["text"];function C(It,vt){if(1&It&&e._UZ(0,"mat-pseudo-checkbox",6),2&It){const it=e.oxw();e.Q6J("disabled",it.disabled)("state",it.selected?"checked":"unchecked")}}function A(It,vt){if(1&It&&e._UZ(0,"mat-pseudo-checkbox",7),2&It){const it=e.oxw();e.Q6J("disabled",it.disabled)}}function x(It,vt){if(1&It&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&It){const it=e.oxw();e.xp6(1),e.hij("(",it.group.label,")")}}const R=[[["mat-icon"]],"*"],O=["mat-icon","*"];let I=(()=>{class It{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return It})(),E=(()=>{class It{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return It})();const b=new e.OlP("mat-sanity-checks",{providedIn:"root",factory:function L(){return!0}});let B=(()=>{class It{constructor(it,He,Ze){this._sanityChecks=He,this._document=Ze,this._hasDoneGlobalChecks=!1,it._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(it){return!(0,P.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[it])}static#e=this.\u0275fac=function(He){return new(He||It)(e.LFG(t.qm),e.LFG(b,8),e.LFG(m.K0))};static#t=this.\u0275mod=e.oAB({type:It});static#n=this.\u0275inj=e.cJS({imports:[v.vT,v.vT]})}return It})();function Re(It){return class extends It{get disabled(){return this._disabled}set disabled(vt){this._disabled=(0,D.Ig)(vt)}constructor(...vt){super(...vt),this._disabled=!1}}}function Y(It,vt){return class extends It{get color(){return this._color}set color(it){const He=it||this.defaultColor;He!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),He&&this._elementRef.nativeElement.classList.add(`mat-${He}`),this._color=He)}constructor(...it){super(...it),this.defaultColor=vt,this.color=vt}}}function ae(It){return class extends It{get disableRipple(){return this._disableRipple}set disableRipple(vt){this._disableRipple=(0,D.Ig)(vt)}constructor(...vt){super(...vt),this._disableRipple=!1}}}function G(It,vt=0){return class extends It{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(it){this._tabIndex=null!=it?(0,D.su)(it):this.defaultTabIndex}constructor(...it){super(...it),this._tabIndex=vt,this.defaultTabIndex=vt}}}function De(It){return class extends It{updateErrorState(){const vt=this.errorState,st=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);st!==vt&&(this.errorState=st,this.stateChanges.next())}constructor(...vt){super(...vt),this.errorState=!1}}}function ce(It){return class extends It{constructor(...vt){super(...vt),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new f.y(it=>{this._isInitialized?this._notifySubscriber(it):this._pendingSubscribers.push(it)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(vt){vt.next(),vt.complete()}}}const Te=new e.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function be(){return(0,e.f3M)(e.soG)}});class Oe{constructor(){this._localeChanges=new i.x,this.localeChanges=this._localeChanges}getValidDateOrNull(vt){return this.isDateInstance(vt)&&this.isValid(vt)?vt:null}deserialize(vt){return null==vt||this.isDateInstance(vt)&&this.isValid(vt)?vt:this.invalid()}setLocale(vt){this.locale=vt,this._localeChanges.next()}compareDate(vt,it){return this.getYear(vt)-this.getYear(it)||this.getMonth(vt)-this.getMonth(it)||this.getDate(vt)-this.getDate(it)}sameDate(vt,it){if(vt&&it){let He=this.isValid(vt),Ze=this.isValid(it);return He&&Ze?!this.compareDate(vt,it):He==Ze}return vt==it}clampDate(vt,it,He){return it&&this.compareDate(vt,it)<0?it:He&&this.compareDate(vt,He)>0?He:vt}}const ie=new e.OlP("mat-date-formats"),ye=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Ce(It,vt){const it=Array(It);for(let He=0;He<It;He++)it[He]=vt(He);return it}let de=(()=>{class It extends Oe{constructor(it,He){super(),this.useUtcForDisplay=!1,super.setLocale(it)}getYear(it){return it.getFullYear()}getMonth(it){return it.getMonth()}getDate(it){return it.getDate()}getDayOfWeek(it){return it.getDay()}getMonthNames(it){const He=new Intl.DateTimeFormat(this.locale,{month:it,timeZone:"utc"});return Ce(12,Ze=>this._format(He,new Date(2017,Ze,1)))}getDateNames(){const it=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Ce(31,He=>this._format(it,new Date(2017,0,He+1)))}getDayOfWeekNames(it){const He=new Intl.DateTimeFormat(this.locale,{weekday:it,timeZone:"utc"});return Ce(7,Ze=>this._format(He,new Date(2017,0,Ze+1)))}getYearName(it){const He=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(He,it)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(it){return this.getDate(this._createDateWithOverflow(this.getYear(it),this.getMonth(it)+1,0))}clone(it){return new Date(it.getTime())}createDate(it,He,Ze){let st=this._createDateWithOverflow(it,He,Ze);return st.getMonth(),st}today(){return new Date}parse(it,He){return"number"==typeof it?new Date(it):it?new Date(Date.parse(it)):null}format(it,He){if(!this.isValid(it))throw Error("NativeDateAdapter: Cannot format invalid date.");const Ze=new Intl.DateTimeFormat(this.locale,{...He,timeZone:"utc"});return this._format(Ze,it)}addCalendarYears(it,He){return this.addCalendarMonths(it,12*He)}addCalendarMonths(it,He){let Ze=this._createDateWithOverflow(this.getYear(it),this.getMonth(it)+He,this.getDate(it));return this.getMonth(Ze)!=((this.getMonth(it)+He)%12+12)%12&&(Ze=this._createDateWithOverflow(this.getYear(Ze),this.getMonth(Ze),0)),Ze}addCalendarDays(it,He){return this._createDateWithOverflow(this.getYear(it),this.getMonth(it),this.getDate(it)+He)}toIso8601(it){return[it.getUTCFullYear(),this._2digit(it.getUTCMonth()+1),this._2digit(it.getUTCDate())].join("-")}deserialize(it){if("string"==typeof it){if(!it)return null;if(ye.test(it)){let He=new Date(it);if(this.isValid(He))return He}}return super.deserialize(it)}isDateInstance(it){return it instanceof Date}isValid(it){return!isNaN(it.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(it,He,Ze){const st=new Date;return st.setFullYear(it,He,Ze),st.setHours(0,0,0,0),st}_2digit(it){return("00"+it).slice(-2)}_format(it,He){const Ze=new Date;return Ze.setUTCFullYear(He.getFullYear(),He.getMonth(),He.getDate()),Ze.setUTCHours(He.getHours(),He.getMinutes(),He.getSeconds(),He.getMilliseconds()),it.format(Ze)}static#e=this.\u0275fac=function(He){return new(He||It)(e.LFG(Te,8),e.LFG(P.t4))};static#t=this.\u0275prov=e.Yz7({token:It,factory:It.\u0275fac})}return It})();const Me={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let pe=(()=>{class It{static#e=this.\u0275fac=function(He){return new(He||It)};static#t=this.\u0275mod=e.oAB({type:It});static#n=this.\u0275inj=e.cJS({providers:[{provide:Oe,useClass:de}]})}return It})(),Ie=(()=>{class It{static#e=this.\u0275fac=function(He){return new(He||It)};static#t=this.\u0275mod=e.oAB({type:It});static#n=this.\u0275inj=e.cJS({providers:[{provide:ie,useValue:Me}],imports:[pe]})}return It})(),at=(()=>{class It{isErrorState(it,He){return!!(it&&it.invalid&&(it.touched||He&&He.submitted))}static#e=this.\u0275fac=function(He){return new(He||It)};static#t=this.\u0275prov=e.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"})}return It})();class fe{constructor(vt,it,He,Ze=!1){this._renderer=vt,this.element=it,this.config=He,this._animationForciblyDisabledThroughCss=Ze,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const we=(0,P.i$)({passive:!0,capture:!0});class q{constructor(){this._events=new Map,this._delegateEventHandler=vt=>{const it=(0,P.sA)(vt);it&&this._events.get(vt.type)?.forEach((He,Ze)=>{(Ze===it||Ze.contains(it))&&He.forEach(st=>st.handleEvent(vt))})}}addHandler(vt,it,He,Ze){const st=this._events.get(it);if(st){const lt=st.get(He);lt?lt.add(Ze):st.set(He,new Set([Ze]))}else this._events.set(it,new Map([[He,new Set([Ze])]])),vt.runOutsideAngular(()=>{document.addEventListener(it,this._delegateEventHandler,we)})}removeHandler(vt,it,He){const Ze=this._events.get(vt);if(!Ze)return;const st=Ze.get(it);st&&(st.delete(He),0===st.size&&Ze.delete(it),0===Ze.size&&(this._events.delete(vt),document.removeEventListener(vt,this._delegateEventHandler,we)))}}const $={enterDuration:225,exitDuration:150},ne=(0,P.i$)({passive:!0,capture:!0}),X=["mousedown","touchstart"],re=["mouseup","mouseleave","touchend","touchcancel"];class J{static#e=this._eventManager=new q;constructor(vt,it,He,Ze){this._target=vt,this._ngZone=it,this._platform=Ze,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Ze.isBrowser&&(this._containerElement=(0,D.fI)(He))}fadeInRipple(vt,it,He={}){const Ze=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),st={...$,...He.animation};He.centered&&(vt=Ze.left+Ze.width/2,it=Ze.top+Ze.height/2);const lt=He.radius||function ge(It,vt,it){const He=Math.max(Math.abs(It-it.left),Math.abs(It-it.right)),Ze=Math.max(Math.abs(vt-it.top),Math.abs(vt-it.bottom));return Math.sqrt(He*He+Ze*Ze)}(vt,it,Ze),St=vt-Ze.left,bt=it-Ze.top,At=st.enterDuration,on=document.createElement("div");on.classList.add("mat-ripple-element"),on.style.left=St-lt+"px",on.style.top=bt-lt+"px",on.style.height=2*lt+"px",on.style.width=2*lt+"px",null!=He.color&&(on.style.backgroundColor=He.color),on.style.transitionDuration=`${At}ms`,this._containerElement.appendChild(on);const En=window.getComputedStyle(on),Mn=En.transitionDuration,wn="none"===En.transitionProperty||"0s"===Mn||"0s, 0s"===Mn||0===Ze.width&&0===Ze.height,Nn=new fe(this,on,He,wn);on.style.transform="scale3d(1, 1, 1)",Nn.state=0,He.persistent||(this._mostRecentTransientRipple=Nn);let $n=null;return!wn&&(At||st.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ti=()=>this._finishRippleTransition(Nn),vn=()=>this._destroyRipple(Nn);on.addEventListener("transitionend",ti),on.addEventListener("transitioncancel",vn),$n={onTransitionEnd:ti,onTransitionCancel:vn}}),this._activeRipples.set(Nn,$n),(wn||!At)&&this._finishRippleTransition(Nn),Nn}fadeOutRipple(vt){if(2===vt.state||3===vt.state)return;const it=vt.element,He={...$,...vt.config.animation};it.style.transitionDuration=`${He.exitDuration}ms`,it.style.opacity="0",vt.state=2,(vt._animationForciblyDisabledThroughCss||!He.exitDuration)&&this._finishRippleTransition(vt)}fadeOutAll(){this._getActiveRipples().forEach(vt=>vt.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(vt=>{vt.config.persistent||vt.fadeOut()})}setupTriggerEvents(vt){const it=(0,D.fI)(vt);!this._platform.isBrowser||!it||it===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=it,X.forEach(He=>{J._eventManager.addHandler(this._ngZone,He,it,this)}))}handleEvent(vt){"mousedown"===vt.type?this._onMousedown(vt):"touchstart"===vt.type?this._onTouchStart(vt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{re.forEach(it=>{this._triggerElement.addEventListener(it,this,ne)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(vt){0===vt.state?this._startFadeOutTransition(vt):2===vt.state&&this._destroyRipple(vt)}_startFadeOutTransition(vt){const it=vt===this._mostRecentTransientRipple,{persistent:He}=vt.config;vt.state=1,!He&&(!it||!this._isPointerDown)&&vt.fadeOut()}_destroyRipple(vt){const it=this._activeRipples.get(vt)??null;this._activeRipples.delete(vt),this._activeRipples.size||(this._containerRect=null),vt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),vt.state=3,null!==it&&(vt.element.removeEventListener("transitionend",it.onTransitionEnd),vt.element.removeEventListener("transitioncancel",it.onTransitionCancel)),vt.element.remove()}_onMousedown(vt){const it=(0,t.X6)(vt),He=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!it&&!He&&(this._isPointerDown=!0,this.fadeInRipple(vt.clientX,vt.clientY,this._target.rippleConfig))}_onTouchStart(vt){if(!this._target.rippleDisabled&&!(0,t.yG)(vt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const it=vt.changedTouches;if(it)for(let He=0;He<it.length;He++)this.fadeInRipple(it[He].clientX,it[He].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(vt=>{!vt.config.persistent&&(1===vt.state||vt.config.terminateOnPointerUp&&0===vt.state)&&vt.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const vt=this._triggerElement;vt&&(X.forEach(it=>J._eventManager.removeHandler(it,vt,this)),this._pointerUpEventsRegistered&&re.forEach(it=>vt.removeEventListener(it,this,ne)))}}const Se=new e.OlP("mat-ripple-global-options");let Ee=(()=>{class It{get disabled(){return this._disabled}set disabled(it){it&&this.fadeOutAllNonPersistent(),this._disabled=it,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(it){this._trigger=it,this._setupTriggerEventsIfEnabled()}constructor(it,He,Ze,st,lt){this._elementRef=it,this._animationMode=lt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=st||{},this._rippleRenderer=new J(this,He,it,Ze)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(it,He=0,Ze){return"number"==typeof it?this._rippleRenderer.fadeInRipple(it,He,{...this.rippleConfig,...Ze}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...it})}static#e=this.\u0275fac=function(He){return new(He||It)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(P.t4),e.Y36(Se,8),e.Y36(e.QbO,8))};static#t=this.\u0275dir=e.lG2({type:It,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(He,Ze){2&He&&e.ekj("mat-ripple-unbounded",Ze.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return It})(),Fe=(()=>{class It{static#e=this.\u0275fac=function(He){return new(He||It)};static#t=this.\u0275mod=e.oAB({type:It});static#n=this.\u0275inj=e.cJS({imports:[B,B]})}return It})(),ct=(()=>{class It{constructor(it){this._animationMode=it,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(He){return new(He||It)(e.Y36(e.QbO,8))};static#t=this.\u0275cmp=e.Xpm({type:It,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(He,Ze){2&He&&e.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===Ze.state)("mat-pseudo-checkbox-checked","checked"===Ze.state)("mat-pseudo-checkbox-disabled",Ze.disabled)("mat-pseudo-checkbox-minimal","minimal"===Ze.appearance)("mat-pseudo-checkbox-full","full"===Ze.appearance)("_mat-animation-noopable","NoopAnimations"===Ze._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(He,Ze){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return It})(),qe=(()=>{class It{static#e=this.\u0275fac=function(He){return new(He||It)};static#t=this.\u0275mod=e.oAB({type:It});static#n=this.\u0275inj=e.cJS({imports:[B]})}return It})();const tt=new e.OlP("MAT_OPTION_PARENT_COMPONENT"),Et=new e.OlP("MatOptgroup");let We=0;class Tt{constructor(vt,it=!1){this.source=vt,this.isUserInput=it}}let Kt=(()=>{class It{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(it){this._disabled=(0,D.Ig)(it)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(it,He,Ze,st){this._element=it,this._changeDetectorRef=He,this._parent=Ze,this.group=st,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+We++,this.onSelectionChange=new e.vpe,this._stateChanges=new i.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(it=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),it&&this._emitSelectionChangeEvent())}deselect(it=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),it&&this._emitSelectionChangeEvent())}focus(it,He){const Ze=this._getHostElement();"function"==typeof Ze.focus&&Ze.focus(He)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(it){(it.keyCode===c.K5||it.keyCode===c.L_)&&!(0,c.Vb)(it)&&(this._selectViaInteraction(),it.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const it=this.viewValue;it!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=it)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(it=!1){this.onSelectionChange.emit(new Tt(this,it))}static#e=this.\u0275fac=function(He){e.$Z()};static#t=this.\u0275dir=e.lG2({type:It,viewQuery:function(He,Ze){if(1&He&&e.Gf(p,7),2&He){let st;e.iGM(st=e.CRH())&&(Ze._text=st.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return It})(),Jt=(()=>{class It extends Kt{constructor(it,He,Ze,st){super(it,He,Ze,st)}static#e=this.\u0275fac=function(He){return new(He||It)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(tt,8),e.Y36(Et,8))};static#t=this.\u0275cmp=e.Xpm({type:It,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(He,Ze){1&He&&e.NdJ("click",function(){return Ze._selectViaInteraction()})("keydown",function(lt){return Ze._handleKeydown(lt)}),2&He&&(e.Ikx("id",Ze.id),e.uIk("aria-selected",Ze.selected)("aria-disabled",Ze.disabled.toString()),e.ekj("mdc-list-item--selected",Ze.selected)("mat-mdc-option-multiple",Ze.multiple)("mat-mdc-option-active",Ze.active)("mdc-list-item--disabled",Ze.disabled))},exportAs:["matOption"],features:[e.qOj],ngContentSelectors:O,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(He,Ze){1&He&&(e.F$t(R),e.YNc(0,C,1,2,"mat-pseudo-checkbox",0),e.Hsn(1),e.TgZ(2,"span",1,2),e.Hsn(4,1),e.qZA(),e.YNc(5,A,1,1,"mat-pseudo-checkbox",3),e.YNc(6,x,2,1,"span",4),e._UZ(7,"div",5)),2&He&&(e.Q6J("ngIf",Ze.multiple),e.xp6(5),e.Q6J("ngIf",!Ze.multiple&&Ze.selected&&!Ze.hideSingleSelectionIndicator),e.xp6(1),e.Q6J("ngIf",Ze.group&&Ze.group._inert),e.xp6(1),e.Q6J("matRippleTrigger",Ze._getHostElement())("matRippleDisabled",Ze.disabled||Ze.disableRipple))},dependencies:[Ee,m.O5,ct],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return It})();function Xt(It,vt,it){if(it.length){let He=vt.toArray(),Ze=it.toArray(),st=0;for(let lt=0;lt<It+1;lt++)He[lt].group&&He[lt].group===Ze[st]&&st++;return st}return 0}function un(It,vt,it,He){return It<it?It:It+vt>it+He?Math.max(0,It-He+vt):it}let fn=(()=>{class It{static#e=this.\u0275fac=function(He){return new(He||It)};static#t=this.\u0275mod=e.oAB({type:It});static#n=this.\u0275inj=e.cJS({imports:[Fe,m.ez,B,qe]})}return It})()},8034:(Wn,Je,g)=>{"use strict";g.d(Je,{FA:()=>ii,Mq:()=>tn,hl:()=>vn,nW:()=>yn});var e=g(4300),t=g(3651),v=g(8484),y=g(6814),m=g(5879),P=g(2296),D=g(799),f=g(3680),i=g(8645),c=g(7394),d=g(3019),h=g(2096),p=g(6028),C=g(9388),A=g(2831),x=g(8180),R=g(7921),O=g(2181),S=g(2495),I=g(6825),E=g(95),L=g(4170),b=g(2032);const B=["mat-calendar-body",""];function Z(Ft,Pn){if(1&Ft&&(m.TgZ(0,"tr",3)(1,"td",4),m._uU(2),m.qZA()()),2&Ft){const Le=m.oxw();m.xp6(1),m.Udp("padding-top",Le._cellPadding)("padding-bottom",Le._cellPadding),m.uIk("colspan",Le.numCols),m.xp6(1),m.hij(" ",Le.label," ")}}function oe(Ft,Pn){if(1&Ft&&(m.TgZ(0,"td",4),m._uU(1),m.qZA()),2&Ft){const Le=m.oxw(2);m.Udp("padding-top",Le._cellPadding)("padding-bottom",Le._cellPadding),m.uIk("colspan",Le._firstRowOffset),m.xp6(1),m.hij(" ",Le._firstRowOffset>=Le.labelMinRequiredCells?Le.label:""," ")}}function le(Ft,Pn){if(1&Ft){const Le=m.EpF();m.TgZ(0,"td",8)(1,"button",9),m.NdJ("click",function(Rt){const Fn=m.CHM(Le).$implicit,vi=m.oxw(2);return m.KtG(vi._cellClicked(Fn,Rt))})("focus",function(Rt){const Fn=m.CHM(Le).$implicit,vi=m.oxw(2);return m.KtG(vi._emitActiveDateChange(Fn,Rt))}),m.TgZ(2,"span",10),m._uU(3),m.qZA(),m._UZ(4,"span",11),m.qZA()()}if(2&Ft){const Le=Pn.$implicit,Bt=Pn.index,Rt=m.oxw().index,ln=m.oxw();m.Udp("width",ln._cellWidth)("padding-top",ln._cellPadding)("padding-bottom",ln._cellPadding),m.uIk("data-mat-row",Rt)("data-mat-col",Bt),m.xp6(1),m.ekj("mat-calendar-body-disabled",!Le.enabled)("mat-calendar-body-active",ln._isActiveCell(Rt,Bt))("mat-calendar-body-range-start",ln._isRangeStart(Le.compareValue))("mat-calendar-body-range-end",ln._isRangeEnd(Le.compareValue))("mat-calendar-body-in-range",ln._isInRange(Le.compareValue))("mat-calendar-body-comparison-bridge-start",ln._isComparisonBridgeStart(Le.compareValue,Rt,Bt))("mat-calendar-body-comparison-bridge-end",ln._isComparisonBridgeEnd(Le.compareValue,Rt,Bt))("mat-calendar-body-comparison-start",ln._isComparisonStart(Le.compareValue))("mat-calendar-body-comparison-end",ln._isComparisonEnd(Le.compareValue))("mat-calendar-body-in-comparison-range",ln._isInComparisonRange(Le.compareValue))("mat-calendar-body-preview-start",ln._isPreviewStart(Le.compareValue))("mat-calendar-body-preview-end",ln._isPreviewEnd(Le.compareValue))("mat-calendar-body-in-preview",ln._isInPreview(Le.compareValue)),m.Q6J("ngClass",Le.cssClasses)("tabindex",ln._isActiveCell(Rt,Bt)?0:-1),m.uIk("aria-label",Le.ariaLabel)("aria-disabled",!Le.enabled||null)("aria-pressed",ln._isSelected(Le.compareValue))("aria-current",ln.todayValue===Le.compareValue?"date":null)("aria-describedby",ln._getDescribedby(Le.compareValue)),m.xp6(1),m.ekj("mat-calendar-body-selected",ln._isSelected(Le.compareValue))("mat-calendar-body-comparison-identical",ln._isComparisonIdentical(Le.compareValue))("mat-calendar-body-today",ln.todayValue===Le.compareValue),m.xp6(1),m.hij(" ",Le.displayValue," ")}}function Re(Ft,Pn){if(1&Ft&&(m.TgZ(0,"tr",5),m.YNc(1,oe,2,6,"td",6),m.YNc(2,le,5,48,"td",7),m.qZA()),2&Ft){const Le=Pn.$implicit,Bt=Pn.index,Rt=m.oxw();m.xp6(1),m.Q6J("ngIf",0===Bt&&Rt._firstRowOffset),m.xp6(1),m.Q6J("ngForOf",Le)}}function Y(Ft,Pn){if(1&Ft&&(m.TgZ(0,"th",5)(1,"span",6),m._uU(2),m.qZA(),m.TgZ(3,"span",7),m._uU(4),m.qZA()()),2&Ft){const Le=Pn.$implicit;m.xp6(2),m.Oqu(Le.long),m.xp6(2),m.Oqu(Le.narrow)}}const ae=["*"];function G(Ft,Pn){}function De(Ft,Pn){if(1&Ft){const Le=m.EpF();m.TgZ(0,"mat-month-view",5),m.NdJ("activeDateChange",function(Rt){m.CHM(Le);const ln=m.oxw();return m.KtG(ln.activeDate=Rt)})("_userSelection",function(Rt){m.CHM(Le);const ln=m.oxw();return m.KtG(ln._dateSelected(Rt))})("dragStarted",function(Rt){m.CHM(Le);const ln=m.oxw();return m.KtG(ln._dragStarted(Rt))})("dragEnded",function(Rt){m.CHM(Le);const ln=m.oxw();return m.KtG(ln._dragEnded(Rt))}),m.qZA()}if(2&Ft){const Le=m.oxw();m.Q6J("activeDate",Le.activeDate)("selected",Le.selected)("dateFilter",Le.dateFilter)("maxDate",Le.maxDate)("minDate",Le.minDate)("dateClass",Le.dateClass)("comparisonStart",Le.comparisonStart)("comparisonEnd",Le.comparisonEnd)("startDateAccessibleName",Le.startDateAccessibleName)("endDateAccessibleName",Le.endDateAccessibleName)("activeDrag",Le._activeDrag)}}function ce(Ft,Pn){if(1&Ft){const Le=m.EpF();m.TgZ(0,"mat-year-view",6),m.NdJ("activeDateChange",function(Rt){m.CHM(Le);const ln=m.oxw();return m.KtG(ln.activeDate=Rt)})("monthSelected",function(Rt){m.CHM(Le);const ln=m.oxw();return m.KtG(ln._monthSelectedInYearView(Rt))})("selectedChange",function(Rt){m.CHM(Le);const ln=m.oxw();return m.KtG(ln._goToDateInView(Rt,"month"))}),m.qZA()}if(2&Ft){const Le=m.oxw();m.Q6J("activeDate",Le.activeDate)("selected",Le.selected)("dateFilter",Le.dateFilter)("maxDate",Le.maxDate)("minDate",Le.minDate)("dateClass",Le.dateClass)}}function Te(Ft,Pn){if(1&Ft){const Le=m.EpF();m.TgZ(0,"mat-multi-year-view",7),m.NdJ("activeDateChange",function(Rt){m.CHM(Le);const ln=m.oxw();return m.KtG(ln.activeDate=Rt)})("yearSelected",function(Rt){m.CHM(Le);const ln=m.oxw();return m.KtG(ln._yearSelectedInMultiYearView(Rt))})("selectedChange",function(Rt){m.CHM(Le);const ln=m.oxw();return m.KtG(ln._goToDateInView(Rt,"year"))}),m.qZA()}if(2&Ft){const Le=m.oxw();m.Q6J("activeDate",Le.activeDate)("selected",Le.selected)("dateFilter",Le.dateFilter)("maxDate",Le.maxDate)("minDate",Le.minDate)("dateClass",Le.dateClass)}}function be(Ft,Pn){}const Oe=["button"];function ie(Ft,Pn){1&Ft&&(m.O4$(),m.TgZ(0,"svg",3),m._UZ(1,"path",4),m.qZA())}const ye=[[["","matDatepickerToggleIcon",""]]],Ce=["[matDatepickerToggleIcon]"];let Be=(()=>{class Ft{constructor(){this.changes=new i.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(Le,Bt){return`${Le} \u2013 ${Bt}`}formatYearRangeLabel(Le,Bt){return`${Le} to ${Bt}`}static#e=this.\u0275fac=function(Bt){return new(Bt||Ft)};static#t=this.\u0275prov=m.Yz7({token:Ft,factory:Ft.\u0275fac,providedIn:"root"})}return Ft})();class at{constructor(Pn,Le,Bt,Rt,ln={},Fn=Pn,vi){this.value=Pn,this.displayValue=Le,this.ariaLabel=Bt,this.enabled=Rt,this.cssClasses=ln,this.compareValue=Fn,this.rawValue=vi}}let Xe=1;const je=(0,A.i$)({passive:!1,capture:!0}),Ne=(0,A.i$)({passive:!0,capture:!0}),ee=(0,A.i$)({passive:!0});let fe=(()=>{class Ft{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(Le,Bt){this._elementRef=Le,this._ngZone=Bt,this._platform=(0,m.f3M)(A.t4),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new m.vpe,this.previewChange=new m.vpe,this.activeDateChange=new m.vpe,this.dragStarted=new m.vpe,this.dragEnded=new m.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=Rt=>{if(this._skipNextFocus&&"focus"===Rt.type)this._skipNextFocus=!1;else if(Rt.target&&this.isRange){const ln=this._getCellFromElement(Rt.target);ln&&this._ngZone.run(()=>this.previewChange.emit({value:ln.enabled?ln:null,event:Rt}))}},this._touchmoveHandler=Rt=>{if(!this.isRange)return;const ln=X(Rt),Fn=ln?this._getCellFromElement(ln):null;ln!==Rt.target&&(this._didDragSinceMouseDown=!0),q(Rt.target)&&Rt.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:Fn?.enabled?Fn:null,event:Rt}))},this._leaveHandler=Rt=>{null!==this.previewEnd&&this.isRange&&("blur"!==Rt.type&&(this._didDragSinceMouseDown=!0),Rt.target&&this._getCellFromElement(Rt.target)&&(!Rt.relatedTarget||!this._getCellFromElement(Rt.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:Rt})))},this._mousedownHandler=Rt=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const ln=Rt.target&&this._getCellFromElement(Rt.target);!ln||!this._isInRange(ln.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:ln.rawValue,event:Rt})})},this._mouseupHandler=Rt=>{if(!this.isRange)return;const ln=q(Rt.target);ln?ln.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const Fn=this._getCellFromElement(ln);this.dragEnded.emit({value:Fn?.rawValue??null,event:Rt})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:Rt})})},this._touchendHandler=Rt=>{const ln=X(Rt);ln&&this._mouseupHandler({target:ln})},this._id="mat-calendar-body-"+Xe++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,Bt.runOutsideAngular(()=>{const Rt=Le.nativeElement;Rt.addEventListener("touchmove",this._touchmoveHandler,je),Rt.addEventListener("mouseenter",this._enterHandler,Ne),Rt.addEventListener("focus",this._enterHandler,Ne),Rt.addEventListener("mouseleave",this._leaveHandler,Ne),Rt.addEventListener("blur",this._leaveHandler,Ne),Rt.addEventListener("mousedown",this._mousedownHandler,ee),Rt.addEventListener("touchstart",this._mousedownHandler,ee),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(Le,Bt){this._didDragSinceMouseDown||Le.enabled&&this.selectedValueChange.emit({value:Le.value,event:Bt})}_emitActiveDateChange(Le,Bt){Le.enabled&&this.activeDateChange.emit({value:Le.value,event:Bt})}_isSelected(Le){return this.startValue===Le||this.endValue===Le}ngOnChanges(Le){const Bt=Le.numCols,{rows:Rt,numCols:ln}=this;(Le.rows||Bt)&&(this._firstRowOffset=Rt&&Rt.length&&Rt[0].length?ln-Rt[0].length:0),(Le.cellAspectRatio||Bt||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/ln+"%"),(Bt||!this._cellWidth)&&(this._cellWidth=100/ln+"%")}ngOnDestroy(){const Le=this._elementRef.nativeElement;Le.removeEventListener("touchmove",this._touchmoveHandler,je),Le.removeEventListener("mouseenter",this._enterHandler,Ne),Le.removeEventListener("focus",this._enterHandler,Ne),Le.removeEventListener("mouseleave",this._leaveHandler,Ne),Le.removeEventListener("blur",this._leaveHandler,Ne),Le.removeEventListener("mousedown",this._mousedownHandler,ee),Le.removeEventListener("touchstart",this._mousedownHandler,ee),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(Le,Bt){let Rt=Le*this.numCols+Bt;return Le&&(Rt-=this._firstRowOffset),Rt==this.activeCell}_focusActiveCell(Le=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,x.q)(1)).subscribe(()=>{setTimeout(()=>{const Bt=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");Bt&&(Le||(this._skipNextFocus=!0),Bt.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(Le){return $(Le,this.startValue,this.endValue)}_isRangeEnd(Le){return Q(Le,this.startValue,this.endValue)}_isInRange(Le){return ne(Le,this.startValue,this.endValue,this.isRange)}_isComparisonStart(Le){return $(Le,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(Le,Bt,Rt){if(!this._isComparisonStart(Le)||this._isRangeStart(Le)||!this._isInRange(Le))return!1;let ln=this.rows[Bt][Rt-1];if(!ln){const Fn=this.rows[Bt-1];ln=Fn&&Fn[Fn.length-1]}return ln&&!this._isRangeEnd(ln.compareValue)}_isComparisonBridgeEnd(Le,Bt,Rt){if(!this._isComparisonEnd(Le)||this._isRangeEnd(Le)||!this._isInRange(Le))return!1;let ln=this.rows[Bt][Rt+1];if(!ln){const Fn=this.rows[Bt+1];ln=Fn&&Fn[0]}return ln&&!this._isRangeStart(ln.compareValue)}_isComparisonEnd(Le){return Q(Le,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(Le){return ne(Le,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(Le){return this.comparisonStart===this.comparisonEnd&&Le===this.comparisonStart}_isPreviewStart(Le){return $(Le,this.previewStart,this.previewEnd)}_isPreviewEnd(Le){return Q(Le,this.previewStart,this.previewEnd)}_isInPreview(Le){return ne(Le,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(Le){return this.isRange?this.startValue===Le&&this.endValue===Le?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===Le?this._startDateLabelId:this.endValue===Le?this._endDateLabelId:null:null}_getCellFromElement(Le){const Bt=q(Le);if(Bt){const Rt=Bt.getAttribute("data-mat-row"),ln=Bt.getAttribute("data-mat-col");if(Rt&&ln)return this.rows[parseInt(Rt)][parseInt(ln)]}return null}static#e=this.\u0275fac=function(Bt){return new(Bt||Ft)(m.Y36(m.SBq),m.Y36(m.R0b))};static#t=this.\u0275cmp=m.Xpm({type:Ft,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[m.TTD],attrs:B,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(Bt,Rt){1&Bt&&(m.YNc(0,Z,3,6,"tr",0),m.YNc(1,Re,3,2,"tr",1),m.TgZ(2,"label",2),m._uU(3),m.qZA(),m.TgZ(4,"label",2),m._uU(5),m.qZA()),2&Bt&&(m.Q6J("ngIf",Rt._firstRowOffset<Rt.labelMinRequiredCells),m.xp6(1),m.Q6J("ngForOf",Rt.rows),m.xp6(1),m.Q6J("id",Rt._startDateLabelId),m.xp6(1),m.hij(" ",Rt.startDateAccessibleName,"\n"),m.xp6(1),m.Q6J("id",Rt._endDateLabelId),m.xp6(1),m.hij(" ",Rt.endDateAccessibleName,"\n"))},dependencies:[y.mk,y.sg,y.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}return Ft})();function we(Ft){return"TD"===Ft?.nodeName}function q(Ft){let Pn;return we(Ft)?Pn=Ft:we(Ft.parentNode)?Pn=Ft.parentNode:we(Ft.parentNode?.parentNode)&&(Pn=Ft.parentNode.parentNode),null!=Pn?.getAttribute("data-mat-row")?Pn:null}function $(Ft,Pn,Le){return null!==Le&&Pn!==Le&&Ft<Le&&Ft===Pn}function Q(Ft,Pn,Le){return null!==Pn&&Pn!==Le&&Ft>=Pn&&Ft===Le}function ne(Ft,Pn,Le,Bt){return Bt&&null!==Pn&&null!==Le&&Pn!==Le&&Ft>=Pn&&Ft<=Le}function X(Ft){const Pn=Ft.changedTouches[0];return document.elementFromPoint(Pn.clientX,Pn.clientY)}class re{constructor(Pn,Le){this.start=Pn,this.end=Le}}let J=(()=>{class Ft{constructor(Le,Bt){this.selection=Le,this._adapter=Bt,this._selectionChanged=new i.x,this.selectionChanged=this._selectionChanged,this.selection=Le}updateSelection(Le,Bt){const Rt=this.selection;this.selection=Le,this._selectionChanged.next({selection:Le,source:Bt,oldValue:Rt})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(Le){return this._adapter.isDateInstance(Le)&&this._adapter.isValid(Le)}static#e=this.\u0275fac=function(Bt){m.$Z()};static#t=this.\u0275prov=m.Yz7({token:Ft,factory:Ft.\u0275fac})}return Ft})(),ge=(()=>{class Ft extends J{constructor(Le){super(null,Le)}add(Le){super.updateSelection(Le,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const Le=new Ft(this._adapter);return Le.updateSelection(this.selection,this),Le}static#e=this.\u0275fac=function(Bt){return new(Bt||Ft)(m.LFG(f._A))};static#t=this.\u0275prov=m.Yz7({token:Ft,factory:Ft.\u0275fac})}return Ft})();const Fe={provide:J,deps:[[new m.FiY,new m.tp0,J],f._A],useFactory:function Ee(Ft,Pn){return Ft||new ge(Pn)}},tt=new m.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let me=(()=>{class Ft{get activeDate(){return this._activeDate}set activeDate(Le){const Bt=this._activeDate,Rt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Le))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(Rt,this.minDate,this.maxDate),this._hasSameMonthAndYear(Bt,this._activeDate)||this._init()}get selected(){return this._selected}set selected(Le){this._selected=Le instanceof re?Le:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Le)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(Le){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Le))}get maxDate(){return this._maxDate}set maxDate(Le){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Le))}constructor(Le,Bt,Rt,ln,Fn){this._changeDetectorRef=Le,this._dateFormats=Bt,this._dateAdapter=Rt,this._dir=ln,this._rangeStrategy=Fn,this._rerenderSubscription=c.w0.EMPTY,this.activeDrag=null,this.selectedChange=new m.vpe,this._userSelection=new m.vpe,this.dragStarted=new m.vpe,this.dragEnded=new m.vpe,this.activeDateChange=new m.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,R.O)(null)).subscribe(()=>this._init())}ngOnChanges(Le){const Bt=Le.comparisonStart||Le.comparisonEnd;Bt&&!Bt.firstChange&&this._setRanges(this.selected),Le.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(Le){const Bt=Le.value,Rt=this._getDateFromDayOfMonth(Bt);let ln,Fn;this._selected instanceof re?(ln=this._getDateInCurrentMonth(this._selected.start),Fn=this._getDateInCurrentMonth(this._selected.end)):ln=Fn=this._getDateInCurrentMonth(this._selected),(ln!==Bt||Fn!==Bt)&&this.selectedChange.emit(Rt),this._userSelection.emit({value:Rt,event:Le.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(Le){const Rt=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(Le.value),this._dateAdapter.compareDate(Rt,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(Le){const Bt=this._activeDate,Rt=this._isRtl();switch(Le.keyCode){case p.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,Rt?1:-1);break;case p.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,Rt?-1:1);break;case p.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case p.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case p.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case p.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case p.Ku:this.activeDate=Le.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case p.VM:this.activeDate=Le.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case p.K5:case p.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&Le.preventDefault());case p.hY:return void(null!=this._previewEnd&&!(0,p.Vb)(Le)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:Le}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:Le})),Le.preventDefault(),Le.stopPropagation()));default:return}this._dateAdapter.compareDate(Bt,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),Le.preventDefault()}_handleCalendarBodyKeyup(Le){(Le.keyCode===p.L_||Le.keyCode===p.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:Le}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let Le=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(Le)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(Le){this._matCalendarBody._focusActiveCell(Le)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:Le,value:Bt}){if(this._rangeStrategy){const Rt=Bt?Bt.rawValue:null,ln=this._rangeStrategy.createPreview(Rt,this.selected,Le);if(this._previewStart=this._getCellCompareValue(ln.start),this._previewEnd=this._getCellCompareValue(ln.end),this.activeDrag&&Rt){const Fn=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,Rt,Le);Fn&&(this._previewStart=this._getCellCompareValue(Fn.start),this._previewEnd=this._getCellCompareValue(Fn.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(Le){if(this.activeDrag)if(Le.value){const Bt=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,Le.value,Le.event);this.dragEnded.emit({value:Bt??null,event:Le.event})}else this.dragEnded.emit({value:null,event:Le.event})}_getDateFromDayOfMonth(Le){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),Le)}_initWeekdays(){const Le=this._dateAdapter.getFirstDayOfWeek(),Bt=this._dateAdapter.getDayOfWeekNames("narrow");let ln=this._dateAdapter.getDayOfWeekNames("long").map((Fn,vi)=>({long:Fn,narrow:Bt[vi]}));this._weekdays=ln.slice(Le).concat(ln.slice(0,Le))}_createWeekCells(){const Le=this._dateAdapter.getNumDaysInMonth(this.activeDate),Bt=this._dateAdapter.getDateNames();this._weeks=[[]];for(let Rt=0,ln=this._firstWeekOffset;Rt<Le;Rt++,ln++){7==ln&&(this._weeks.push([]),ln=0);const Fn=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),Rt+1),vi=this._shouldEnableDate(Fn),vr=this._dateAdapter.format(Fn,this._dateFormats.display.dateA11yLabel),Zr=this.dateClass?this.dateClass(Fn,"month"):void 0;this._weeks[this._weeks.length-1].push(new at(Rt+1,Bt[Rt],vr,vi,Zr,this._getCellCompareValue(Fn),Fn))}}_shouldEnableDate(Le){return!!Le&&(!this.minDate||this._dateAdapter.compareDate(Le,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(Le,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(Le))}_getDateInCurrentMonth(Le){return Le&&this._hasSameMonthAndYear(Le,this.activeDate)?this._dateAdapter.getDate(Le):null}_hasSameMonthAndYear(Le,Bt){return!(!Le||!Bt||this._dateAdapter.getMonth(Le)!=this._dateAdapter.getMonth(Bt)||this._dateAdapter.getYear(Le)!=this._dateAdapter.getYear(Bt))}_getCellCompareValue(Le){if(Le){const Bt=this._dateAdapter.getYear(Le),Rt=this._dateAdapter.getMonth(Le),ln=this._dateAdapter.getDate(Le);return new Date(Bt,Rt,ln).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(Le){Le instanceof re?(this._rangeStart=this._getCellCompareValue(Le.start),this._rangeEnd=this._getCellCompareValue(Le.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(Le),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(Le){return!this.dateFilter||this.dateFilter(Le)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(Bt){return new(Bt||Ft)(m.Y36(m.sBO),m.Y36(f.sG,8),m.Y36(f._A,8),m.Y36(C.Is,8),m.Y36(tt,8))};static#t=this.\u0275cmp=m.Xpm({type:Ft,selectors:[["mat-month-view"]],viewQuery:function(Bt,Rt){if(1&Bt&&m.Gf(fe,5),2&Bt){let ln;m.iGM(ln=m.CRH())&&(Rt._matCalendarBody=ln.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[m.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(Bt,Rt){1&Bt&&(m.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),m.YNc(3,Y,5,2,"th",2),m.qZA(),m.TgZ(4,"tr"),m._UZ(5,"th",3),m.qZA()(),m.TgZ(6,"tbody",4),m.NdJ("selectedValueChange",function(Fn){return Rt._dateSelected(Fn)})("activeDateChange",function(Fn){return Rt._updateActiveDate(Fn)})("previewChange",function(Fn){return Rt._previewChanged(Fn)})("dragStarted",function(Fn){return Rt.dragStarted.emit(Fn)})("dragEnded",function(Fn){return Rt._dragEnded(Fn)})("keyup",function(Fn){return Rt._handleCalendarBodyKeyup(Fn)})("keydown",function(Fn){return Rt._handleCalendarBodyKeydown(Fn)}),m.qZA()()),2&Bt&&(m.xp6(3),m.Q6J("ngForOf",Rt._weekdays),m.xp6(3),m.Q6J("label",Rt._monthLabel)("rows",Rt._weeks)("todayValue",Rt._todayDate)("startValue",Rt._rangeStart)("endValue",Rt._rangeEnd)("comparisonStart",Rt._comparisonRangeStart)("comparisonEnd",Rt._comparisonRangeEnd)("previewStart",Rt._previewStart)("previewEnd",Rt._previewEnd)("isRange",Rt._isRange)("labelMinRequiredCells",3)("activeCell",Rt._dateAdapter.getDate(Rt.activeDate)-1)("startDateAccessibleName",Rt.startDateAccessibleName)("endDateAccessibleName",Rt.endDateAccessibleName))},dependencies:[y.sg,fe],encapsulation:2,changeDetection:0})}return Ft})();const We=24;let Kt=(()=>{class Ft{get activeDate(){return this._activeDate}set activeDate(Le){let Bt=this._activeDate;const Rt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Le))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(Rt,this.minDate,this.maxDate),Jt(this._dateAdapter,Bt,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(Le){this._selected=Le instanceof re?Le:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Le)),this._setSelectedYear(Le)}get minDate(){return this._minDate}set minDate(Le){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Le))}get maxDate(){return this._maxDate}set maxDate(Le){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Le))}constructor(Le,Bt,Rt){this._changeDetectorRef=Le,this._dateAdapter=Bt,this._dir=Rt,this._rerenderSubscription=c.w0.EMPTY,this.selectedChange=new m.vpe,this.yearSelected=new m.vpe,this.activeDateChange=new m.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,R.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const Bt=this._dateAdapter.getYear(this._activeDate)-Xt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let Rt=0,ln=[];Rt<We;Rt++)ln.push(Bt+Rt),4==ln.length&&(this._years.push(ln.map(Fn=>this._createCellForYear(Fn))),ln=[]);this._changeDetectorRef.markForCheck()}_yearSelected(Le){const Bt=Le.value,Rt=this._dateAdapter.createDate(Bt,0,1),ln=this._getDateFromYear(Bt);this.yearSelected.emit(Rt),this.selectedChange.emit(ln)}_updateActiveDate(Le){const Rt=this._activeDate;this.activeDate=this._getDateFromYear(Le.value),this._dateAdapter.compareDate(Rt,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(Le){const Bt=this._activeDate,Rt=this._isRtl();switch(Le.keyCode){case p.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Rt?1:-1);break;case p.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Rt?-1:1);break;case p.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case p.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case p.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Xt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case p.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,We-Xt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case p.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Le.altKey?10*-We:-We);break;case p.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Le.altKey?10*We:We);break;case p.K5:case p.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(Bt,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),Le.preventDefault()}_handleCalendarBodyKeyup(Le){(Le.keyCode===p.L_||Le.keyCode===p.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:Le}),this._selectionKeyPressed=!1)}_getActiveCell(){return Xt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(Le){const Bt=this._dateAdapter.getMonth(this.activeDate),Rt=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(Le,Bt,1));return this._dateAdapter.createDate(Le,Bt,Math.min(this._dateAdapter.getDate(this.activeDate),Rt))}_createCellForYear(Le){const Bt=this._dateAdapter.createDate(Le,0,1),Rt=this._dateAdapter.getYearName(Bt),ln=this.dateClass?this.dateClass(Bt,"multi-year"):void 0;return new at(Le,Rt,Rt,this._shouldEnableYear(Le),ln)}_shouldEnableYear(Le){if(null==Le||this.maxDate&&Le>this._dateAdapter.getYear(this.maxDate)||this.minDate&&Le<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let Rt=this._dateAdapter.createDate(Le,0,1);this._dateAdapter.getYear(Rt)==Le;Rt=this._dateAdapter.addCalendarDays(Rt,1))if(this.dateFilter(Rt))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(Le){if(this._selectedYear=null,Le instanceof re){const Bt=Le.start||Le.end;Bt&&(this._selectedYear=this._dateAdapter.getYear(Bt))}else Le&&(this._selectedYear=this._dateAdapter.getYear(Le))}static#e=this.\u0275fac=function(Bt){return new(Bt||Ft)(m.Y36(m.sBO),m.Y36(f._A,8),m.Y36(C.Is,8))};static#t=this.\u0275cmp=m.Xpm({type:Ft,selectors:[["mat-multi-year-view"]],viewQuery:function(Bt,Rt){if(1&Bt&&m.Gf(fe,5),2&Bt){let ln;m.iGM(ln=m.CRH())&&(Rt._matCalendarBody=ln.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(Bt,Rt){1&Bt&&(m.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),m._UZ(3,"th",2),m.qZA()(),m.TgZ(4,"tbody",3),m.NdJ("selectedValueChange",function(Fn){return Rt._yearSelected(Fn)})("activeDateChange",function(Fn){return Rt._updateActiveDate(Fn)})("keyup",function(Fn){return Rt._handleCalendarBodyKeyup(Fn)})("keydown",function(Fn){return Rt._handleCalendarBodyKeydown(Fn)}),m.qZA()()),2&Bt&&(m.xp6(4),m.Q6J("rows",Rt._years)("todayValue",Rt._todayYear)("startValue",Rt._selectedYear)("endValue",Rt._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",Rt._getActiveCell()))},dependencies:[fe],encapsulation:2,changeDetection:0})}return Ft})();function Jt(Ft,Pn,Le,Bt,Rt){const ln=Ft.getYear(Pn),Fn=Ft.getYear(Le),vi=un(Ft,Bt,Rt);return Math.floor((ln-vi)/We)===Math.floor((Fn-vi)/We)}function Xt(Ft,Pn,Le,Bt){return function fn(Ft,Pn){return(Ft%Pn+Pn)%Pn}(Ft.getYear(Pn)-un(Ft,Le,Bt),We)}function un(Ft,Pn,Le){let Bt=0;return Le?Bt=Ft.getYear(Le)-We+1:Pn&&(Bt=Ft.getYear(Pn)),Bt}let It=(()=>{class Ft{get activeDate(){return this._activeDate}set activeDate(Le){let Bt=this._activeDate;const Rt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Le))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(Rt,this.minDate,this.maxDate),this._dateAdapter.getYear(Bt)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(Le){this._selected=Le instanceof re?Le:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Le)),this._setSelectedMonth(Le)}get minDate(){return this._minDate}set minDate(Le){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Le))}get maxDate(){return this._maxDate}set maxDate(Le){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Le))}constructor(Le,Bt,Rt,ln){this._changeDetectorRef=Le,this._dateFormats=Bt,this._dateAdapter=Rt,this._dir=ln,this._rerenderSubscription=c.w0.EMPTY,this.selectedChange=new m.vpe,this.monthSelected=new m.vpe,this.activeDateChange=new m.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,R.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(Le){const Bt=Le.value,Rt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Bt,1);this.monthSelected.emit(Rt);const ln=this._getDateFromMonth(Bt);this.selectedChange.emit(ln)}_updateActiveDate(Le){const Rt=this._activeDate;this.activeDate=this._getDateFromMonth(Le.value),this._dateAdapter.compareDate(Rt,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(Le){const Bt=this._activeDate,Rt=this._isRtl();switch(Le.keyCode){case p.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,Rt?1:-1);break;case p.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,Rt?-1:1);break;case p.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case p.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case p.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case p.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case p.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Le.altKey?-10:-1);break;case p.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Le.altKey?10:1);break;case p.K5:case p.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(Bt,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),Le.preventDefault()}_handleCalendarBodyKeyup(Le){(Le.keyCode===p.L_||Le.keyCode===p.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:Le}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let Le=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(Bt=>Bt.map(Rt=>this._createCellForMonth(Rt,Le[Rt]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(Le){return Le&&this._dateAdapter.getYear(Le)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(Le):null}_getDateFromMonth(Le){const Bt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Le,1),Rt=this._dateAdapter.getNumDaysInMonth(Bt);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Le,Math.min(this._dateAdapter.getDate(this.activeDate),Rt))}_createCellForMonth(Le,Bt){const Rt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Le,1),ln=this._dateAdapter.format(Rt,this._dateFormats.display.monthYearA11yLabel),Fn=this.dateClass?this.dateClass(Rt,"year"):void 0;return new at(Le,Bt.toLocaleUpperCase(),ln,this._shouldEnableMonth(Le),Fn)}_shouldEnableMonth(Le){const Bt=this._dateAdapter.getYear(this.activeDate);if(null==Le||this._isYearAndMonthAfterMaxDate(Bt,Le)||this._isYearAndMonthBeforeMinDate(Bt,Le))return!1;if(!this.dateFilter)return!0;for(let ln=this._dateAdapter.createDate(Bt,Le,1);this._dateAdapter.getMonth(ln)==Le;ln=this._dateAdapter.addCalendarDays(ln,1))if(this.dateFilter(ln))return!0;return!1}_isYearAndMonthAfterMaxDate(Le,Bt){if(this.maxDate){const Rt=this._dateAdapter.getYear(this.maxDate),ln=this._dateAdapter.getMonth(this.maxDate);return Le>Rt||Le===Rt&&Bt>ln}return!1}_isYearAndMonthBeforeMinDate(Le,Bt){if(this.minDate){const Rt=this._dateAdapter.getYear(this.minDate),ln=this._dateAdapter.getMonth(this.minDate);return Le<Rt||Le===Rt&&Bt<ln}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(Le){this._selectedMonth=Le instanceof re?this._getMonthInCurrentYear(Le.start)||this._getMonthInCurrentYear(Le.end):this._getMonthInCurrentYear(Le)}static#e=this.\u0275fac=function(Bt){return new(Bt||Ft)(m.Y36(m.sBO),m.Y36(f.sG,8),m.Y36(f._A,8),m.Y36(C.Is,8))};static#t=this.\u0275cmp=m.Xpm({type:Ft,selectors:[["mat-year-view"]],viewQuery:function(Bt,Rt){if(1&Bt&&m.Gf(fe,5),2&Bt){let ln;m.iGM(ln=m.CRH())&&(Rt._matCalendarBody=ln.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(Bt,Rt){1&Bt&&(m.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),m._UZ(3,"th",2),m.qZA()(),m.TgZ(4,"tbody",3),m.NdJ("selectedValueChange",function(Fn){return Rt._monthSelected(Fn)})("activeDateChange",function(Fn){return Rt._updateActiveDate(Fn)})("keyup",function(Fn){return Rt._handleCalendarBodyKeyup(Fn)})("keydown",function(Fn){return Rt._handleCalendarBodyKeydown(Fn)}),m.qZA()()),2&Bt&&(m.xp6(4),m.Q6J("label",Rt._yearLabel)("rows",Rt._months)("todayValue",Rt._todayMonth)("startValue",Rt._selectedMonth)("endValue",Rt._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",Rt._dateAdapter.getMonth(Rt.activeDate)))},dependencies:[fe],encapsulation:2,changeDetection:0})}return Ft})(),vt=1,it=(()=>{class Ft{constructor(Le,Bt,Rt,ln,Fn){this._intl=Le,this.calendar=Bt,this._dateAdapter=Rt,this._dateFormats=ln,this._id="mat-calendar-header-"+vt++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>Fn.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-We)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:We)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(Le,Bt){return"month"==this.calendar.currentView?this._dateAdapter.getYear(Le)==this._dateAdapter.getYear(Bt)&&this._dateAdapter.getMonth(Le)==this._dateAdapter.getMonth(Bt):"year"==this.calendar.currentView?this._dateAdapter.getYear(Le)==this._dateAdapter.getYear(Bt):Jt(this._dateAdapter,Le,Bt,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const Bt=this._dateAdapter.getYear(this.calendar.activeDate)-Xt(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),Rt=Bt+We-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(Bt,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(Rt,0,1))]}static#e=this.\u0275fac=function(Bt){return new(Bt||Ft)(m.Y36(Be),m.Y36((0,m.Gpc)(()=>He)),m.Y36(f._A,8),m.Y36(f.sG,8),m.Y36(m.sBO))};static#t=this.\u0275cmp=m.Xpm({type:Ft,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:ae,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(Bt,Rt){1&Bt&&(m.F$t(),m.TgZ(0,"div",0)(1,"div",1)(2,"button",2),m.NdJ("click",function(){return Rt.currentPeriodClicked()}),m.TgZ(3,"span",3),m._uU(4),m.qZA(),m.O4$(),m.TgZ(5,"svg",4),m._UZ(6,"polygon",5),m.qZA()(),m.kcU(),m._UZ(7,"div",6),m.Hsn(8),m.TgZ(9,"button",7),m.NdJ("click",function(){return Rt.previousClicked()}),m.qZA(),m.TgZ(10,"button",8),m.NdJ("click",function(){return Rt.nextClicked()}),m.qZA()()(),m.TgZ(11,"label",9),m._uU(12),m.qZA()),2&Bt&&(m.xp6(2),m.uIk("aria-label",Rt.periodButtonLabel)("aria-describedby",Rt._periodButtonLabelId),m.xp6(2),m.Oqu(Rt.periodButtonText),m.xp6(1),m.ekj("mat-calendar-invert","month"!==Rt.calendar.currentView),m.xp6(4),m.Q6J("disabled",!Rt.previousEnabled()),m.uIk("aria-label",Rt.prevButtonLabel),m.xp6(1),m.Q6J("disabled",!Rt.nextEnabled()),m.uIk("aria-label",Rt.nextButtonLabel),m.xp6(1),m.Q6J("id",Rt._periodButtonLabelId),m.xp6(1),m.Oqu(Rt.periodButtonDescription))},dependencies:[P.lW,P.RK],encapsulation:2,changeDetection:0})}return Ft})(),He=(()=>{class Ft{get startAt(){return this._startAt}set startAt(Le){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Le))}get selected(){return this._selected}set selected(Le){this._selected=Le instanceof re?Le:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Le))}get minDate(){return this._minDate}set minDate(Le){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Le))}get maxDate(){return this._maxDate}set maxDate(Le){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Le))}get activeDate(){return this._clampedActiveDate}set activeDate(Le){this._clampedActiveDate=this._dateAdapter.clampDate(Le,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(Le){const Bt=this._currentView!==Le?Le:null;this._currentView=Le,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),Bt&&this.viewChanged.emit(Bt)}constructor(Le,Bt,Rt,ln){this._dateAdapter=Bt,this._dateFormats=Rt,this._changeDetectorRef=ln,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new m.vpe,this.yearSelected=new m.vpe,this.monthSelected=new m.vpe,this.viewChanged=new m.vpe(!0),this._userSelection=new m.vpe,this._userDragDrop=new m.vpe,this._activeDrag=null,this.stateChanges=new i.x,this._intlChanges=Le.changes.subscribe(()=>{ln.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new v.C5(this.headerComponent||it),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(Le){const Bt=Le.minDate&&!this._dateAdapter.sameDate(Le.minDate.previousValue,Le.minDate.currentValue)?Le.minDate:void 0,Rt=Le.maxDate&&!this._dateAdapter.sameDate(Le.maxDate.previousValue,Le.maxDate.currentValue)?Le.maxDate:void 0,ln=Bt||Rt||Le.dateFilter;if(ln&&!ln.firstChange){const Fn=this._getCurrentViewComponent();Fn&&(this._changeDetectorRef.detectChanges(),Fn._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(Le){const Bt=Le.value;(this.selected instanceof re||Bt&&!this._dateAdapter.sameDate(Bt,this.selected))&&this.selectedChange.emit(Bt),this._userSelection.emit(Le)}_yearSelectedInMultiYearView(Le){this.yearSelected.emit(Le)}_monthSelectedInYearView(Le){this.monthSelected.emit(Le)}_goToDateInView(Le,Bt){this.activeDate=Le,this.currentView=Bt}_dragStarted(Le){this._activeDrag=Le}_dragEnded(Le){this._activeDrag&&(Le.value&&this._userDragDrop.emit(Le),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(Bt){return new(Bt||Ft)(m.Y36(Be),m.Y36(f._A,8),m.Y36(f.sG,8),m.Y36(m.sBO))};static#t=this.\u0275cmp=m.Xpm({type:Ft,selectors:[["mat-calendar"]],viewQuery:function(Bt,Rt){if(1&Bt&&(m.Gf(me,5),m.Gf(It,5),m.Gf(Kt,5)),2&Bt){let ln;m.iGM(ln=m.CRH())&&(Rt.monthView=ln.first),m.iGM(ln=m.CRH())&&(Rt.yearView=ln.first),m.iGM(ln=m.CRH())&&(Rt.multiYearView=ln.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[m._Bn([Fe]),m.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(Bt,Rt){1&Bt&&(m.YNc(0,G,0,0,"ng-template",0),m.TgZ(1,"div",1),m.YNc(2,De,1,11,"mat-month-view",2),m.YNc(3,ce,1,6,"mat-year-view",3),m.YNc(4,Te,1,6,"mat-multi-year-view",4),m.qZA()),2&Bt&&(m.Q6J("cdkPortalOutlet",Rt._calendarHeaderPortal),m.xp6(1),m.Q6J("ngSwitch",Rt.currentView),m.xp6(1),m.Q6J("ngSwitchCase","month"),m.xp6(1),m.Q6J("ngSwitchCase","year"),m.xp6(1),m.Q6J("ngSwitchCase","multi-year"))},dependencies:[y.RF,y.n9,e.kH,v.Pl,me,It,Kt],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}return Ft})();const Ze={transformPanel:(0,I.X$)("transformPanel",[(0,I.eR)("void => enter-dropdown",(0,I.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,I.F4)([(0,I.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,I.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,I.eR)("void => enter-dialog",(0,I.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,I.F4)([(0,I.oB)({opacity:0,transform:"scale(0.7)"}),(0,I.oB)({transform:"none",opacity:1})]))),(0,I.eR)("* => void",(0,I.jt)("100ms linear",(0,I.oB)({opacity:0})))]),fadeInCalendar:(0,I.X$)("fadeInCalendar",[(0,I.SB)("void",(0,I.oB)({opacity:0})),(0,I.SB)("enter",(0,I.oB)({opacity:1})),(0,I.eR)("void => *",(0,I.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let st=0;const lt=new m.OlP("mat-datepicker-scroll-strategy"),bt={provide:lt,deps:[t.aV],useFactory:function St(Ft){return()=>Ft.scrollStrategies.reposition()}},At=(0,f.pj)(class{constructor(Ft){this._elementRef=Ft}});let on=(()=>{class Ft extends At{constructor(Le,Bt,Rt,ln,Fn,vi){super(Le),this._changeDetectorRef=Bt,this._globalModel=Rt,this._dateAdapter=ln,this._rangeSelectionStrategy=Fn,this._subscriptions=new c.w0,this._animationDone=new i.x,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=vi.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(Le){const Bt=this._model.selection,Rt=Le.value,ln=Bt instanceof re;if(ln&&this._rangeSelectionStrategy){const Fn=this._rangeSelectionStrategy.selectionFinished(Rt,Bt,Le.event);this._model.updateSelection(Fn,this)}else Rt&&(ln||!this._dateAdapter.sameDate(Rt,Bt))&&this._model.add(Rt);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(Le){this._model.updateSelection(Le.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(Le){this._isAnimating="start"===Le.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(Le,Bt){this._model=Le?this._globalModel.clone():this._globalModel,this._actionsPortal=Le,Bt&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(Bt){return new(Bt||Ft)(m.Y36(m.SBq),m.Y36(m.sBO),m.Y36(J),m.Y36(f._A),m.Y36(tt,8),m.Y36(Be))};static#t=this.\u0275cmp=m.Xpm({type:Ft,selectors:[["mat-datepicker-content"]],viewQuery:function(Bt,Rt){if(1&Bt&&m.Gf(He,5),2&Bt){let ln;m.iGM(ln=m.CRH())&&(Rt._calendar=ln.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(Bt,Rt){1&Bt&&m.WFA("@transformPanel.start",function(Fn){return Rt._handleAnimationEvent(Fn)})("@transformPanel.done",function(Fn){return Rt._handleAnimationEvent(Fn)}),2&Bt&&(m.d8E("@transformPanel",Rt._animationState),m.ekj("mat-datepicker-content-touch",Rt.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[m.qOj],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(Bt,Rt){if(1&Bt&&(m.TgZ(0,"div",0)(1,"mat-calendar",1),m.NdJ("yearSelected",function(Fn){return Rt.datepicker._selectYear(Fn)})("monthSelected",function(Fn){return Rt.datepicker._selectMonth(Fn)})("viewChanged",function(Fn){return Rt.datepicker._viewChanged(Fn)})("_userSelection",function(Fn){return Rt._handleUserSelection(Fn)})("_userDragDrop",function(Fn){return Rt._handleUserDragDrop(Fn)}),m.qZA(),m.YNc(2,be,0,0,"ng-template",2),m.TgZ(3,"button",3),m.NdJ("focus",function(){return Rt._closeButtonFocused=!0})("blur",function(){return Rt._closeButtonFocused=!1})("click",function(){return Rt.datepicker.close()}),m._uU(4),m.qZA()()),2&Bt){let ln;m.ekj("mat-datepicker-content-container-with-custom-header",Rt.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",Rt._actionsPortal),m.uIk("aria-modal",!0)("aria-labelledby",null!==(ln=Rt._dialogLabelId)&&void 0!==ln?ln:void 0),m.xp6(1),m.Q6J("id",Rt.datepicker.id)("ngClass",Rt.datepicker.panelClass)("startAt",Rt.datepicker.startAt)("startView",Rt.datepicker.startView)("minDate",Rt.datepicker._getMinDate())("maxDate",Rt.datepicker._getMaxDate())("dateFilter",Rt.datepicker._getDateFilter())("headerComponent",Rt.datepicker.calendarHeaderComponent)("selected",Rt._getSelected())("dateClass",Rt.datepicker.dateClass)("comparisonStart",Rt.comparisonStart)("comparisonEnd",Rt.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",Rt.startDateAccessibleName)("endDateAccessibleName",Rt.endDateAccessibleName),m.xp6(1),m.Q6J("cdkPortalOutlet",Rt._actionsPortal),m.xp6(1),m.ekj("cdk-visually-hidden",!Rt._closeButtonFocused),m.Q6J("color",Rt.color||"primary"),m.xp6(1),m.Oqu(Rt._closeButtonText)}},dependencies:[y.mk,P.lW,e.mK,v.Pl,He],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[Ze.transformPanel,Ze.fadeInCalendar]},changeDetection:0})}return Ft})(),En=(()=>{class Ft{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(Le){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Le))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(Le){this._color=Le}get touchUi(){return this._touchUi}set touchUi(Le){this._touchUi=(0,S.Ig)(Le)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(Le){const Bt=(0,S.Ig)(Le);Bt!==this._disabled&&(this._disabled=Bt,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(Le){this._restoreFocus=(0,S.Ig)(Le)}get panelClass(){return this._panelClass}set panelClass(Le){this._panelClass=(0,S.du)(Le)}get opened(){return this._opened}set opened(Le){(0,S.Ig)(Le)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(Le,Bt,Rt,ln,Fn,vi,vr){this._overlay=Le,this._ngZone=Bt,this._viewContainerRef=Rt,this._dateAdapter=Fn,this._dir=vi,this._model=vr,this._inputStateChanges=c.w0.EMPTY,this._document=(0,m.f3M)(y.K0),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new m.vpe,this.monthSelected=new m.vpe,this.viewChanged=new m.vpe(!0),this.openedStream=new m.vpe,this.closedStream=new m.vpe,this._opened=!1,this.id="mat-datepicker-"+st++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new i.x,this._scrollStrategy=ln}ngOnChanges(Le){const Bt=Le.xPosition||Le.yPosition;if(Bt&&!Bt.firstChange&&this._overlayRef){const Rt=this._overlayRef.getConfig().positionStrategy;Rt instanceof t._G&&(this._setConnectedPositions(Rt),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(Le){this._model.add(Le)}_selectYear(Le){this.yearSelected.emit(Le)}_selectMonth(Le){this.monthSelected.emit(Le)}_viewChanged(Le){this.viewChanged.emit(Le)}registerInput(Le){return this._inputStateChanges.unsubscribe(),this.datepickerInput=Le,this._inputStateChanges=Le.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(Le){this._actionsPortal=Le,this._componentRef?.instance._assignActions(Le,!0)}removeActions(Le){Le===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,A.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const Le=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,Bt=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:Rt,location:ln}=this._componentRef;Rt._startExitAnimation(),Rt._animationDone.pipe((0,x.q)(1)).subscribe(()=>{const Fn=this._document.activeElement;Le&&(!Fn||Fn===this._document.activeElement||ln.nativeElement.contains(Fn))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}Le?setTimeout(Bt):Bt()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(Le){Le.datepicker=this,Le.color=this.color,Le._dialogLabelId=this.datepickerInput.getOverlayLabelId(),Le._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const Le=this.touchUi,Bt=new v.C5(on,this._viewContainerRef),Rt=this._overlayRef=this._overlay.create(new t.X_({positionStrategy:Le?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[Le?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:Le?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(Le?"dialog":"popup")}));this._getCloseStream(Rt).subscribe(ln=>{ln&&ln.preventDefault(),this.close()}),Rt.keydownEvents().subscribe(ln=>{const Fn=ln.keyCode;(Fn===p.LH||Fn===p.JH||Fn===p.oh||Fn===p.SV||Fn===p.Ku||Fn===p.VM)&&ln.preventDefault()}),this._componentRef=Rt.attach(Bt),this._forwardContentValues(this._componentRef.instance),Le||this._ngZone.onStable.pipe((0,x.q)(1)).subscribe(()=>Rt.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const Le=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(Le)}_setConnectedPositions(Le){const Bt="end"===this.xPosition?"end":"start",Rt="start"===Bt?"end":"start",ln="above"===this.yPosition?"bottom":"top",Fn="top"===ln?"bottom":"top";return Le.withPositions([{originX:Bt,originY:Fn,overlayX:Bt,overlayY:ln},{originX:Bt,originY:ln,overlayX:Bt,overlayY:Fn},{originX:Rt,originY:Fn,overlayX:Rt,overlayY:ln},{originX:Rt,originY:ln,overlayX:Rt,overlayY:Fn}])}_getCloseStream(Le){const Bt=["ctrlKey","shiftKey","metaKey"];return(0,d.T)(Le.backdropClick(),Le.detachments(),Le.keydownEvents().pipe((0,O.h)(Rt=>Rt.keyCode===p.hY&&!(0,p.Vb)(Rt)||this.datepickerInput&&(0,p.Vb)(Rt,"altKey")&&Rt.keyCode===p.LH&&Bt.every(ln=>!(0,p.Vb)(Rt,ln)))))}static#e=this.\u0275fac=function(Bt){return new(Bt||Ft)(m.Y36(t.aV),m.Y36(m.R0b),m.Y36(m.s_b),m.Y36(lt),m.Y36(f._A,8),m.Y36(C.Is,8),m.Y36(J))};static#t=this.\u0275dir=m.lG2({type:Ft,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[m.TTD]})}return Ft})(),tn=(()=>{class Ft extends En{static#e=this.\u0275fac=function(){let Le;return function(Rt){return(Le||(Le=m.n5z(Ft)))(Rt||Ft)}}();static#t=this.\u0275cmp=m.Xpm({type:Ft,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[m._Bn([Fe,{provide:En,useExisting:Ft}]),m.qOj],decls:0,vars:0,template:function(Bt,Rt){},encapsulation:2,changeDetection:0})}return Ft})();class Mn{constructor(Pn,Le){this.target=Pn,this.targetElement=Le,this.value=this.target.value}}let wn=(()=>{class Ft{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(Le){this._assignValueProgrammatically(Le)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(Le){const Bt=(0,S.Ig)(Le),Rt=this._elementRef.nativeElement;this._disabled!==Bt&&(this._disabled=Bt,this.stateChanges.next(void 0)),Bt&&this._isInitialized&&Rt.blur&&Rt.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(Le){this._model=Le,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(Bt=>{if(this._shouldHandleChangeEvent(Bt)){const Rt=this._getValueFromModel(Bt.selection);this._lastValueValid=this._isValidValue(Rt),this._cvaOnChange(Rt),this._onTouched(),this._formatValue(Rt),this.dateInput.emit(new Mn(this,this._elementRef.nativeElement)),this.dateChange.emit(new Mn(this,this._elementRef.nativeElement))}})}constructor(Le,Bt,Rt){this._elementRef=Le,this._dateAdapter=Bt,this._dateFormats=Rt,this.dateChange=new m.vpe,this.dateInput=new m.vpe,this.stateChanges=new i.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=c.w0.EMPTY,this._localeSubscription=c.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=ln=>{const Fn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ln.value));return!Fn||this._matchesFilter(Fn)?null:{matDatepickerFilter:!0}},this._minValidator=ln=>{const Fn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ln.value)),vi=this._getMinDate();return!vi||!Fn||this._dateAdapter.compareDate(vi,Fn)<=0?null:{matDatepickerMin:{min:vi,actual:Fn}}},this._maxValidator=ln=>{const Fn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ln.value)),vi=this._getMaxDate();return!vi||!Fn||this._dateAdapter.compareDate(vi,Fn)>=0?null:{matDatepickerMax:{max:vi,actual:Fn}}},this._lastValueValid=!1,this._localeSubscription=Bt.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(Le){(function Nn(Ft,Pn){const Le=Object.keys(Ft);for(let Bt of Le){const{previousValue:Rt,currentValue:ln}=Ft[Bt];if(!Pn.isDateInstance(Rt)||!Pn.isDateInstance(ln))return!0;if(!Pn.sameDate(Rt,ln))return!0}return!1})(Le,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(Le){this._validatorOnChange=Le}validate(Le){return this._validator?this._validator(Le):null}writeValue(Le){this._assignValueProgrammatically(Le)}registerOnChange(Le){this._cvaOnChange=Le}registerOnTouched(Le){this._onTouched=Le}setDisabledState(Le){this.disabled=Le}_onKeydown(Le){(0,p.Vb)(Le,"altKey")&&Le.keyCode===p.JH&&["ctrlKey","shiftKey","metaKey"].every(ln=>!(0,p.Vb)(Le,ln))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),Le.preventDefault())}_onInput(Le){const Bt=this._lastValueValid;let Rt=this._dateAdapter.parse(Le,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(Rt),Rt=this._dateAdapter.getValidDateOrNull(Rt);const ln=!this._dateAdapter.sameDate(Rt,this.value);!Rt||ln?this._cvaOnChange(Rt):(Le&&!this.value&&this._cvaOnChange(Rt),Bt!==this._lastValueValid&&this._validatorOnChange()),ln&&(this._assignValue(Rt),this.dateInput.emit(new Mn(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Mn(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(Le){this._elementRef.nativeElement.value=null!=Le?this._dateAdapter.format(Le,this._dateFormats.display.dateInput):""}_assignValue(Le){this._model?(this._assignValueToModel(Le),this._pendingValue=null):this._pendingValue=Le}_isValidValue(Le){return!Le||this._dateAdapter.isValid(Le)}_parentDisabled(){return!1}_assignValueProgrammatically(Le){Le=this._dateAdapter.deserialize(Le),this._lastValueValid=this._isValidValue(Le),Le=this._dateAdapter.getValidDateOrNull(Le),this._assignValue(Le),this._formatValue(Le)}_matchesFilter(Le){const Bt=this._getDateFilter();return!Bt||Bt(Le)}static#e=this.\u0275fac=function(Bt){return new(Bt||Ft)(m.Y36(m.SBq),m.Y36(f._A,8),m.Y36(f.sG,8))};static#t=this.\u0275dir=m.lG2({type:Ft,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[m.TTD]})}return Ft})();const $n={provide:E.JU,useExisting:(0,m.Gpc)(()=>vn),multi:!0},ti={provide:E.Cf,useExisting:(0,m.Gpc)(()=>vn),multi:!0};let vn=(()=>{class Ft extends wn{set matDatepicker(Le){Le&&(this._datepicker=Le,this._closedSubscription=Le.closedStream.subscribe(()=>this._onTouched()),this._registerModel(Le.registerInput(this)))}get min(){return this._min}set min(Le){const Bt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Le));this._dateAdapter.sameDate(Bt,this._min)||(this._min=Bt,this._validatorOnChange())}get max(){return this._max}set max(Le){const Bt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Le));this._dateAdapter.sameDate(Bt,this._max)||(this._max=Bt,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(Le){const Bt=this._matchesFilter(this.value);this._dateFilter=Le,this._matchesFilter(this.value)!==Bt&&this._validatorOnChange()}constructor(Le,Bt,Rt,ln){super(Le,Bt,Rt),this._formField=ln,this._closedSubscription=c.w0.EMPTY,this._validator=E.kI.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(Le){return Le}_assignValueToModel(Le){this._model&&this._model.updateSelection(Le,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(Le){return Le.source!==this}static#e=this.\u0275fac=function(Bt){return new(Bt||Ft)(m.Y36(m.SBq),m.Y36(f._A,8),m.Y36(f.sG,8),m.Y36(L.G_,8))};static#t=this.\u0275dir=m.lG2({type:Ft,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(Bt,Rt){1&Bt&&m.NdJ("input",function(Fn){return Rt._onInput(Fn.target.value)})("change",function(){return Rt._onChange()})("blur",function(){return Rt._onBlur()})("keydown",function(Fn){return Rt._onKeydown(Fn)}),2&Bt&&(m.Ikx("disabled",Rt.disabled),m.uIk("aria-haspopup",Rt._datepicker?"dialog":null)("aria-owns",(null==Rt._datepicker?null:Rt._datepicker.opened)&&Rt._datepicker.id||null)("min",Rt.min?Rt._dateAdapter.toIso8601(Rt.min):null)("max",Rt.max?Rt._dateAdapter.toIso8601(Rt.max):null)("data-mat-calendar",Rt._datepicker?Rt._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[m._Bn([$n,ti,{provide:b.Jk,useExisting:Ft}]),m.qOj]})}return Ft})(),pn=(()=>{class Ft{static#e=this.\u0275fac=function(Bt){return new(Bt||Ft)};static#t=this.\u0275dir=m.lG2({type:Ft,selectors:[["","matDatepickerToggleIcon",""]]})}return Ft})(),yn=(()=>{class Ft{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(Le){this._disabled=(0,S.Ig)(Le)}constructor(Le,Bt,Rt){this._intl=Le,this._changeDetectorRef=Bt,this._stateChanges=c.w0.EMPTY;const ln=Number(Rt);this.tabIndex=ln||0===ln?ln:null}ngOnChanges(Le){Le.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(Le){this.datepicker&&!this.disabled&&(this.datepicker.open(),Le.stopPropagation())}_watchStateChanges(){const Le=this.datepicker?this.datepicker.stateChanges:(0,h.of)(),Bt=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,h.of)(),Rt=this.datepicker?(0,d.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,h.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,d.T)(this._intl.changes,Le,Bt,Rt).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(Bt){return new(Bt||Ft)(m.Y36(Be),m.Y36(m.sBO),m.$8M("tabindex"))};static#t=this.\u0275cmp=m.Xpm({type:Ft,selectors:[["mat-datepicker-toggle"]],contentQueries:function(Bt,Rt,ln){if(1&Bt&&m.Suo(ln,pn,5),2&Bt){let Fn;m.iGM(Fn=m.CRH())&&(Rt._customIcon=Fn.first)}},viewQuery:function(Bt,Rt){if(1&Bt&&m.Gf(Oe,5),2&Bt){let ln;m.iGM(ln=m.CRH())&&(Rt._button=ln.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(Bt,Rt){1&Bt&&m.NdJ("click",function(Fn){return Rt._open(Fn)}),2&Bt&&(m.uIk("tabindex",null)("data-mat-calendar",Rt.datepicker?Rt.datepicker.id:null),m.ekj("mat-datepicker-toggle-active",Rt.datepicker&&Rt.datepicker.opened)("mat-accent",Rt.datepicker&&"accent"===Rt.datepicker.color)("mat-warn",Rt.datepicker&&"warn"===Rt.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[m.TTD],ngContentSelectors:Ce,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(Bt,Rt){1&Bt&&(m.F$t(ye),m.TgZ(0,"button",0,1),m.YNc(2,ie,2,0,"svg",2),m.Hsn(3),m.qZA()),2&Bt&&(m.Q6J("disabled",Rt.disabled)("disableRipple",Rt.disableRipple),m.uIk("aria-haspopup",Rt.datepicker?"dialog":null)("aria-label",Rt.ariaLabel||Rt._intl.openCalendarLabel)("tabindex",Rt.disabled?-1:Rt.tabIndex),m.xp6(2),m.Q6J("ngIf",!Rt._customIcon))},dependencies:[y.O5,P.RK],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return Ft})(),ii=(()=>{class Ft{static#e=this.\u0275fac=function(Bt){return new(Bt||Ft)};static#t=this.\u0275mod=m.oAB({type:Ft});static#n=this.\u0275inj=m.cJS({providers:[Be,bt],imports:[y.ez,P.ot,t.U8,e.rt,v.eL,f.BQ,D.ZD]})}return Ft})()},7700:(Wn,Je,g)=>{"use strict";g.d(Je,{WI:()=>Xe,uw:()=>Q,H8:()=>ge,vA:()=>Te,xY:()=>J,Is:()=>Ee,so:()=>Be,uh:()=>re});var e=g(3651),t=g(6814),v=g(5879),y=g(4300),m=g(2831),P=g(8484),D=g(6028),f=g(8645),i=g(4911),c=g(2096),d=g(9388),h=g(7921);function p(qe,tt){}class C{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let x=(()=>{class qe extends P.en{constructor(gt,Qe,yt,Et,me,We,Tt,Kt){super(),this._elementRef=gt,this._focusTrapFactory=Qe,this._config=Et,this._interactivityChecker=me,this._ngZone=We,this._overlayRef=Tt,this._focusMonitor=Kt,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=Jt=>{this._portalOutlet.hasAttached();const Xt=this._portalOutlet.attachDomPortal(Jt);return this._contentAttached(),Xt},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=yt}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(gt){this._portalOutlet.hasAttached();const Qe=this._portalOutlet.attachComponentPortal(gt);return this._contentAttached(),Qe}attachTemplatePortal(gt){this._portalOutlet.hasAttached();const Qe=this._portalOutlet.attachTemplatePortal(gt);return this._contentAttached(),Qe}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(gt,Qe){this._interactivityChecker.isFocusable(gt)||(gt.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const yt=()=>{gt.removeEventListener("blur",yt),gt.removeEventListener("mousedown",yt),gt.removeAttribute("tabindex")};gt.addEventListener("blur",yt),gt.addEventListener("mousedown",yt)})),gt.focus(Qe)}_focusByCssSelector(gt,Qe){let yt=this._elementRef.nativeElement.querySelector(gt);yt&&this._forceFocus(yt,Qe)}_trapFocus(){const gt=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||gt.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(Qe=>{Qe||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const gt=this._config.restoreFocus;let Qe=null;if("string"==typeof gt?Qe=this._document.querySelector(gt):"boolean"==typeof gt?Qe=gt?this._elementFocusedBeforeDialogWasOpened:null:gt&&(Qe=gt),this._config.restoreFocus&&Qe&&"function"==typeof Qe.focus){const yt=(0,m.ht)(),Et=this._elementRef.nativeElement;(!yt||yt===this._document.body||yt===Et||Et.contains(yt))&&(this._focusMonitor?(this._focusMonitor.focusVia(Qe,this._closeInteractionType),this._closeInteractionType=null):Qe.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const gt=this._elementRef.nativeElement,Qe=(0,m.ht)();return gt===Qe||gt.contains(Qe)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,m.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(Qe){return new(Qe||qe)(v.Y36(v.SBq),v.Y36(y.qV),v.Y36(t.K0,8),v.Y36(C),v.Y36(y.ic),v.Y36(v.R0b),v.Y36(e.Iu),v.Y36(y.tE))};static#t=this.\u0275cmp=v.Xpm({type:qe,selectors:[["cdk-dialog-container"]],viewQuery:function(Qe,yt){if(1&Qe&&v.Gf(P.Pl,7),2&Qe){let Et;v.iGM(Et=v.CRH())&&(yt._portalOutlet=Et.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(Qe,yt){2&Qe&&v.uIk("id",yt._config.id||null)("role",yt._config.role)("aria-modal",yt._config.ariaModal)("aria-labelledby",yt._config.ariaLabel?null:yt._ariaLabelledBy)("aria-label",yt._config.ariaLabel)("aria-describedby",yt._config.ariaDescribedBy||null)},features:[v.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Qe,yt){1&Qe&&v.YNc(0,p,0,0,"ng-template",0)},dependencies:[P.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return qe})();class R{constructor(tt,gt){this.overlayRef=tt,this.config=gt,this.closed=new f.x,this.disableClose=gt.disableClose,this.backdropClick=tt.backdropClick(),this.keydownEvents=tt.keydownEvents(),this.outsidePointerEvents=tt.outsidePointerEvents(),this.id=gt.id,this.keydownEvents.subscribe(Qe=>{Qe.keyCode===D.hY&&!this.disableClose&&!(0,D.Vb)(Qe)&&(Qe.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=tt.detachments().subscribe(()=>{!1!==gt.closeOnOverlayDetachments&&this.close()})}close(tt,gt){if(this.containerInstance){const Qe=this.closed;this.containerInstance._closeInteractionType=gt?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),Qe.next(tt),Qe.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(tt="",gt=""){return this.overlayRef.updateSize({width:tt,height:gt}),this}addPanelClass(tt){return this.overlayRef.addPanelClass(tt),this}removePanelClass(tt){return this.overlayRef.removePanelClass(tt),this}}const O=new v.OlP("DialogScrollStrategy"),S=new v.OlP("DialogData"),I=new v.OlP("DefaultDialogConfig"),L={provide:O,deps:[e.aV],useFactory:function E(qe){return()=>qe.scrollStrategies.block()}};let b=0,B=(()=>{class qe{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(gt,Qe,yt,Et,me,We){this._overlay=gt,this._injector=Qe,this._defaultOptions=yt,this._parentDialog=Et,this._overlayContainer=me,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new f.x,this._afterOpenedAtThisLevel=new f.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,i.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,h.O)(void 0))),this._scrollStrategy=We}open(gt,Qe){(Qe={...this._defaultOptions||new C,...Qe}).id=Qe.id||"cdk-dialog-"+b++,Qe.id&&this.getDialogById(Qe.id);const Et=this._getOverlayConfig(Qe),me=this._overlay.create(Et),We=new R(me,Qe),Tt=this._attachContainer(me,We,Qe);return We.containerInstance=Tt,this._attachDialogContent(gt,We,Tt,Qe),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(We),We.closed.subscribe(()=>this._removeOpenDialog(We,!0)),this.afterOpened.next(We),We}closeAll(){Z(this.openDialogs,gt=>gt.close())}getDialogById(gt){return this.openDialogs.find(Qe=>Qe.id===gt)}ngOnDestroy(){Z(this._openDialogsAtThisLevel,gt=>{!1===gt.config.closeOnDestroy&&this._removeOpenDialog(gt,!1)}),Z(this._openDialogsAtThisLevel,gt=>gt.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(gt){const Qe=new e.X_({positionStrategy:gt.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:gt.scrollStrategy||this._scrollStrategy(),panelClass:gt.panelClass,hasBackdrop:gt.hasBackdrop,direction:gt.direction,minWidth:gt.minWidth,minHeight:gt.minHeight,maxWidth:gt.maxWidth,maxHeight:gt.maxHeight,width:gt.width,height:gt.height,disposeOnNavigation:gt.closeOnNavigation});return gt.backdropClass&&(Qe.backdropClass=gt.backdropClass),Qe}_attachContainer(gt,Qe,yt){const Et=yt.injector||yt.viewContainerRef?.injector,me=[{provide:C,useValue:yt},{provide:R,useValue:Qe},{provide:e.Iu,useValue:gt}];let We;yt.container?"function"==typeof yt.container?We=yt.container:(We=yt.container.type,me.push(...yt.container.providers(yt))):We=x;const Tt=new P.C5(We,yt.viewContainerRef,v.zs3.create({parent:Et||this._injector,providers:me}),yt.componentFactoryResolver);return gt.attach(Tt).instance}_attachDialogContent(gt,Qe,yt,Et){if(gt instanceof v.Rgc){const me=this._createInjector(Et,Qe,yt,void 0);let We={$implicit:Et.data,dialogRef:Qe};Et.templateContext&&(We={...We,..."function"==typeof Et.templateContext?Et.templateContext():Et.templateContext}),yt.attachTemplatePortal(new P.UE(gt,null,We,me))}else{const me=this._createInjector(Et,Qe,yt,this._injector),We=yt.attachComponentPortal(new P.C5(gt,Et.viewContainerRef,me,Et.componentFactoryResolver));Qe.componentInstance=We.instance}}_createInjector(gt,Qe,yt,Et){const me=gt.injector||gt.viewContainerRef?.injector,We=[{provide:S,useValue:gt.data},{provide:R,useValue:Qe}];return gt.providers&&("function"==typeof gt.providers?We.push(...gt.providers(Qe,gt,yt)):We.push(...gt.providers)),gt.direction&&(!me||!me.get(d.Is,null,{optional:!0}))&&We.push({provide:d.Is,useValue:{value:gt.direction,change:(0,c.of)()}}),v.zs3.create({parent:me||Et,providers:We})}_removeOpenDialog(gt,Qe){const yt=this.openDialogs.indexOf(gt);yt>-1&&(this.openDialogs.splice(yt,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Et,me)=>{Et?me.setAttribute("aria-hidden",Et):me.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),Qe&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const gt=this._overlayContainer.getContainerElement();if(gt.parentElement){const Qe=gt.parentElement.children;for(let yt=Qe.length-1;yt>-1;yt--){const Et=Qe[yt];Et!==gt&&"SCRIPT"!==Et.nodeName&&"STYLE"!==Et.nodeName&&!Et.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Et,Et.getAttribute("aria-hidden")),Et.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const gt=this._parentDialog;return gt?gt._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(Qe){return new(Qe||qe)(v.LFG(e.aV),v.LFG(v.zs3),v.LFG(I,8),v.LFG(qe,12),v.LFG(e.Xj),v.LFG(O))};static#t=this.\u0275prov=v.Yz7({token:qe,factory:qe.\u0275fac})}return qe})();function Z(qe,tt){let gt=qe.length;for(;gt--;)tt(qe[gt])}let oe=(()=>{class qe{static#e=this.\u0275fac=function(Qe){return new(Qe||qe)};static#t=this.\u0275mod=v.oAB({type:qe});static#n=this.\u0275inj=v.cJS({providers:[B,L],imports:[e.U8,P.eL,y.rt,P.eL]})}return qe})();var le=g(2495),Re=g(3019),Y=g(2181),ae=g(8180),G=g(3680);function ce(qe,tt){}g(6825);class Te{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const be="mdc-dialog--open",Oe="mdc-dialog--opening",ie="mdc-dialog--closing";let de=(()=>{class qe extends x{constructor(gt,Qe,yt,Et,me,We,Tt,Kt){super(gt,Qe,yt,Et,me,We,Tt,Kt),this._animationStateChanged=new v.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(gt){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:gt})}static#e=this.\u0275fac=function(Qe){return new(Qe||qe)(v.Y36(v.SBq),v.Y36(y.qV),v.Y36(t.K0,8),v.Y36(Te),v.Y36(y.ic),v.Y36(v.R0b),v.Y36(e.Iu),v.Y36(y.tE))};static#t=this.\u0275cmp=v.Xpm({type:qe,selectors:[["ng-component"]],features:[v.qOj],decls:0,vars:0,template:function(Qe,yt){},encapsulation:2})}return qe})();const Me="--mat-dialog-transition-duration";function pe(qe){return null==qe?null:"number"==typeof qe?qe:qe.endsWith("ms")?(0,le.su)(qe.substring(0,qe.length-2)):qe.endsWith("s")?1e3*(0,le.su)(qe.substring(0,qe.length-1)):"0"===qe?0:null}let Ie=(()=>{class qe extends de{constructor(gt,Qe,yt,Et,me,We,Tt,Kt,Jt){super(gt,Qe,yt,Et,me,We,Tt,Jt),this._animationMode=Kt,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?pe(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?pe(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Me,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Oe,be)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(be),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(be),this._animationsEnabled?(this._hostElement.style.setProperty(Me,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ie)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Oe,ie)}_waitForAnimationToComplete(gt,Qe){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(Qe,gt)}_requestAnimationFrame(gt){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(gt):gt()})}static#e=this.\u0275fac=function(Qe){return new(Qe||qe)(v.Y36(v.SBq),v.Y36(y.qV),v.Y36(t.K0,8),v.Y36(Te),v.Y36(y.ic),v.Y36(v.R0b),v.Y36(e.Iu),v.Y36(v.QbO,8),v.Y36(y.tE))};static#t=this.\u0275cmp=v.Xpm({type:qe,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(Qe,yt){2&Qe&&(v.Ikx("id",yt._config.id),v.uIk("aria-modal",yt._config.ariaModal)("role",yt._config.role)("aria-labelledby",yt._config.ariaLabel?null:yt._ariaLabelledBy)("aria-label",yt._config.ariaLabel)("aria-describedby",yt._config.ariaDescribedBy||null),v.ekj("_mat-animation-noopable",!yt._animationsEnabled))},features:[v.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(Qe,yt){1&Qe&&(v.TgZ(0,"div",0)(1,"div",1),v.YNc(2,ce,0,0,"ng-template",2),v.qZA()())},dependencies:[P.Pl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return qe})();class Be{constructor(tt,gt,Qe){this._ref=tt,this._containerInstance=Qe,this._afterOpened=new f.x,this._beforeClosed=new f.x,this._state=0,this.disableClose=gt.disableClose,this.id=tt.id,Qe._animationStateChanged.pipe((0,Y.h)(yt=>"opened"===yt.state),(0,ae.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Qe._animationStateChanged.pipe((0,Y.h)(yt=>"closed"===yt.state),(0,ae.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),tt.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Re.T)(this.backdropClick(),this.keydownEvents().pipe((0,Y.h)(yt=>yt.keyCode===D.hY&&!this.disableClose&&!(0,D.Vb)(yt)))).subscribe(yt=>{this.disableClose||(yt.preventDefault(),function at(qe,tt,gt){qe._closeInteractionType=tt,qe.close(gt)}(this,"keydown"===yt.type?"keyboard":"mouse"))})}close(tt){this._result=tt,this._containerInstance._animationStateChanged.pipe((0,Y.h)(gt=>"closing"===gt.state),(0,ae.q)(1)).subscribe(gt=>{this._beforeClosed.next(tt),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),gt.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(tt){let gt=this._ref.config.positionStrategy;return tt&&(tt.left||tt.right)?tt.left?gt.left(tt.left):gt.right(tt.right):gt.centerHorizontally(),tt&&(tt.top||tt.bottom)?tt.top?gt.top(tt.top):gt.bottom(tt.bottom):gt.centerVertically(),this._ref.updatePosition(),this}updateSize(tt="",gt=""){return this._ref.updateSize(tt,gt),this}addPanelClass(tt){return this._ref.addPanelClass(tt),this}removePanelClass(tt){return this._ref.removePanelClass(tt),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Xe=new v.OlP("MatMdcDialogData"),je=new v.OlP("mat-mdc-dialog-default-options"),Ne=new v.OlP("mat-mdc-dialog-scroll-strategy"),fe={provide:Ne,deps:[e.aV],useFactory:function ee(qe){return()=>qe.scrollStrategies.block()}};let q=0,$=(()=>{class qe{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const gt=this._parentDialog;return gt?gt._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(gt,Qe,yt,Et,me,We,Tt,Kt,Jt,Xt){this._overlay=gt,this._defaultOptions=yt,this._parentDialog=Et,this._dialogRefConstructor=Tt,this._dialogContainerType=Kt,this._dialogDataToken=Jt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new f.x,this._afterOpenedAtThisLevel=new f.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=Te,this.afterAllClosed=(0,i.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,h.O)(void 0))),this._scrollStrategy=We,this._dialog=Qe.get(B)}open(gt,Qe){let yt;(Qe={...this._defaultOptions||new Te,...Qe}).id=Qe.id||`${this._idPrefix}${q++}`,Qe.scrollStrategy=Qe.scrollStrategy||this._scrollStrategy();const Et=this._dialog.open(gt,{...Qe,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:Qe},{provide:C,useValue:Qe}]},templateContext:()=>({dialogRef:yt}),providers:(me,We,Tt)=>(yt=new this._dialogRefConstructor(me,Qe,Tt),yt.updatePosition(Qe?.position),[{provide:this._dialogContainerType,useValue:Tt},{provide:this._dialogDataToken,useValue:We.data},{provide:this._dialogRefConstructor,useValue:yt}])});return yt.componentInstance=Et.componentInstance,this.openDialogs.push(yt),this.afterOpened.next(yt),yt.afterClosed().subscribe(()=>{const me=this.openDialogs.indexOf(yt);me>-1&&(this.openDialogs.splice(me,1),this.openDialogs.length||this._getAfterAllClosed().next())}),yt}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(gt){return this.openDialogs.find(Qe=>Qe.id===gt)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(gt){let Qe=gt.length;for(;Qe--;)gt[Qe].close()}static#e=this.\u0275fac=function(Qe){v.$Z()};static#t=this.\u0275prov=v.Yz7({token:qe,factory:qe.\u0275fac})}return qe})(),Q=(()=>{class qe extends ${constructor(gt,Qe,yt,Et,me,We,Tt,Kt){super(gt,Qe,Et,We,Tt,me,Be,Ie,Xe,Kt),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(Qe){return new(Qe||qe)(v.LFG(e.aV),v.LFG(v.zs3),v.LFG(t.Ye,8),v.LFG(je,8),v.LFG(Ne),v.LFG(qe,12),v.LFG(e.Xj),v.LFG(v.QbO,8))};static#t=this.\u0275prov=v.Yz7({token:qe,factory:qe.\u0275fac})}return qe})(),ne=0,re=(()=>{class qe{constructor(gt,Qe,yt){this._dialogRef=gt,this._elementRef=Qe,this._dialog=yt,this.id="mat-mdc-dialog-title-"+ne++}ngOnInit(){this._dialogRef||(this._dialogRef=function Se(qe,tt){let gt=qe.nativeElement.parentElement;for(;gt&&!gt.classList.contains("mat-mdc-dialog-container");)gt=gt.parentElement;return gt?tt.find(Qe=>Qe.id===gt.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const gt=this._dialogRef._containerInstance;gt&&!gt._ariaLabelledBy&&(gt._ariaLabelledBy=this.id)})}static#e=this.\u0275fac=function(Qe){return new(Qe||qe)(v.Y36(Be,8),v.Y36(v.SBq),v.Y36(Q))};static#t=this.\u0275dir=v.lG2({type:qe,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(Qe,yt){2&Qe&&v.Ikx("id",yt.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}return qe})(),J=(()=>{class qe{static#e=this.\u0275fac=function(Qe){return new(Qe||qe)};static#t=this.\u0275dir=v.lG2({type:qe,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}return qe})(),ge=(()=>{class qe{constructor(){this.align="start"}static#e=this.\u0275fac=function(Qe){return new(Qe||qe)};static#t=this.\u0275dir=v.lG2({type:qe,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(Qe,yt){2&Qe&&v.ekj("mat-mdc-dialog-actions-align-center","center"===yt.align)("mat-mdc-dialog-actions-align-end","end"===yt.align)},inputs:{align:"align"}})}return qe})(),Ee=(()=>{class qe{static#e=this.\u0275fac=function(Qe){return new(Qe||qe)};static#t=this.\u0275mod=v.oAB({type:qe});static#n=this.\u0275inj=v.cJS({providers:[Q,fe],imports:[oe,e.U8,P.eL,G.BQ,G.BQ]})}return qe})()},4170:(Wn,Je,g)=>{"use strict";g.d(Je,{G_:()=>gt,TO:()=>je,KE:()=>Kt,Eo:()=>Fe,lN:()=>Jt,bx:()=>ee,hX:()=>Be,R9:()=>$});var e=g(5879),t=g(9388),v=g(2831),y=g(7394),m=g(8645),P=g(3019),D=g(9773),f=g(5592),i=g(2181),c=g(940);class h{constructor(un){this._box=un,this._destroyed=new m.x,this._resizeSubject=new m.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(fn=>this._resizeSubject.next(fn)))}observe(un){return this._elementObservables.has(un)||this._elementObservables.set(un,new f.y(fn=>{const It=this._resizeSubject.subscribe(fn);return this._resizeObserver?.observe(un,{box:this._box}),()=>{this._resizeObserver?.unobserve(un),It.unsubscribe(),this._elementObservables.delete(un)}}).pipe((0,i.h)(fn=>fn.some(It=>It.target===un)),(0,c.d)({bufferSize:1,refCount:!0}),(0,D.R)(this._destroyed))),this._elementObservables.get(un)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let p=(()=>{class Xt{constructor(){this._observers=new Map,this._ngZone=(0,e.f3M)(e.R0b)}ngOnDestroy(){for(const[,fn]of this._observers)fn.destroy();this._observers.clear()}observe(fn,It){const vt=It?.box||"content-box";return this._observers.has(vt)||this._observers.set(vt,new h(vt)),this._observers.get(vt).observe(fn)}static#e=this.\u0275fac=function(It){return new(It||Xt)};static#t=this.\u0275prov=e.Yz7({token:Xt,factory:Xt.\u0275fac,providedIn:"root"})}return Xt})();var C=g(2495),A=g(6825),x=g(6814),R=g(7131),O=g(3680);const S=["notch"],I=["matFormFieldNotchedOutline",""],E=["*"],L=["textField"],b=["iconPrefixContainer"],B=["textPrefixContainer"];function Z(Xt,un){1&Xt&&e._UZ(0,"span",19)}function oe(Xt,un){if(1&Xt&&(e.TgZ(0,"label",17),e.Hsn(1,1),e.YNc(2,Z,1,0,"span",18),e.qZA()),2&Xt){const fn=e.oxw(2);e.Q6J("floating",fn._shouldLabelFloat())("monitorResize",fn._hasOutline())("id",fn._labelId),e.uIk("for",fn._control.id),e.xp6(2),e.Q6J("ngIf",!fn.hideRequiredMarker&&fn._control.required)}}function le(Xt,un){if(1&Xt&&e.YNc(0,oe,3,5,"label",16),2&Xt){const fn=e.oxw();e.Q6J("ngIf",fn._hasFloatingLabel())}}function Re(Xt,un){1&Xt&&e._UZ(0,"div",20)}function Y(Xt,un){}function ae(Xt,un){if(1&Xt&&e.YNc(0,Y,0,0,"ng-template",22),2&Xt){e.oxw(2);const fn=e.MAs(1);e.Q6J("ngTemplateOutlet",fn)}}function G(Xt,un){if(1&Xt&&(e.TgZ(0,"div",21),e.YNc(1,ae,1,1,"ng-template",9),e.qZA()),2&Xt){const fn=e.oxw();e.Q6J("matFormFieldNotchedOutlineOpen",fn._shouldLabelFloat()),e.xp6(1),e.Q6J("ngIf",!fn._forceDisplayInfixLabel())}}function De(Xt,un){1&Xt&&(e.TgZ(0,"div",23,24),e.Hsn(2,2),e.qZA())}function ce(Xt,un){1&Xt&&(e.TgZ(0,"div",25,26),e.Hsn(2,3),e.qZA())}function Te(Xt,un){}function be(Xt,un){if(1&Xt&&e.YNc(0,Te,0,0,"ng-template",22),2&Xt){e.oxw();const fn=e.MAs(1);e.Q6J("ngTemplateOutlet",fn)}}function Oe(Xt,un){1&Xt&&(e.TgZ(0,"div",27),e.Hsn(1,4),e.qZA())}function ie(Xt,un){1&Xt&&(e.TgZ(0,"div",28),e.Hsn(1,5),e.qZA())}function ye(Xt,un){1&Xt&&e._UZ(0,"div",29)}function Ce(Xt,un){if(1&Xt&&(e.TgZ(0,"div",30),e.Hsn(1,6),e.qZA()),2&Xt){const fn=e.oxw();e.Q6J("@transitionMessages",fn._subscriptAnimationState)}}function de(Xt,un){if(1&Xt&&(e.TgZ(0,"mat-hint",34),e._uU(1),e.qZA()),2&Xt){const fn=e.oxw(2);e.Q6J("id",fn._hintLabelId),e.xp6(1),e.Oqu(fn.hintLabel)}}function Me(Xt,un){if(1&Xt&&(e.TgZ(0,"div",31),e.YNc(1,de,2,2,"mat-hint",32),e.Hsn(2,7),e._UZ(3,"div",33),e.Hsn(4,8),e.qZA()),2&Xt){const fn=e.oxw();e.Q6J("@transitionMessages",fn._subscriptAnimationState),e.xp6(1),e.Q6J("ngIf",fn.hintLabel)}}const pe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Ie=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Be=(()=>{class Xt{static#e=this.\u0275fac=function(It){return new(It||Xt)};static#t=this.\u0275dir=e.lG2({type:Xt,selectors:[["mat-label"]]})}return Xt})(),at=0;const Xe=new e.OlP("MatError");let je=(()=>{class Xt{constructor(fn,It){this.id="mat-mdc-error-"+at++,fn||It.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(It){return new(It||Xt)(e.$8M("aria-live"),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:Xt,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(It,vt){2&It&&e.Ikx("id",vt.id)},inputs:{id:"id"},features:[e._Bn([{provide:Xe,useExisting:Xt}])]})}return Xt})(),Ne=0,ee=(()=>{class Xt{constructor(){this.align="start",this.id="mat-mdc-hint-"+Ne++}static#e=this.\u0275fac=function(It){return new(It||Xt)};static#t=this.\u0275dir=e.lG2({type:Xt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(It,vt){2&It&&(e.Ikx("id",vt.id),e.uIk("align",null),e.ekj("mat-mdc-form-field-hint-end","end"===vt.align))},inputs:{align:"align",id:"id"}})}return Xt})();const fe=new e.OlP("MatPrefix"),q=new e.OlP("MatSuffix");let $=(()=>{class Xt{constructor(){this._isText=!1}set _isTextSelector(fn){this._isText=!0}static#e=this.\u0275fac=function(It){return new(It||Xt)};static#t=this.\u0275dir=e.lG2({type:Xt,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[e._Bn([{provide:q,useExisting:Xt}])]})}return Xt})();const Q=new e.OlP("FloatingLabelParent");let ne=(()=>{class Xt{get floating(){return this._floating}set floating(fn){this._floating=fn,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(fn){this._monitorResize=fn,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(fn){this._elementRef=fn,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,e.f3M)(p),this._ngZone=(0,e.f3M)(e.R0b),this._parent=(0,e.f3M)(Q),this._resizeSubscription=new y.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function X(Xt){if(null!==Xt.offsetParent)return Xt.scrollWidth;const fn=Xt.cloneNode(!0);fn.style.setProperty("position","absolute"),fn.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(fn);const It=fn.scrollWidth;return fn.remove(),It}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(It){return new(It||Xt)(e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:Xt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(It,vt){2&It&&e.ekj("mdc-floating-label--float-above",vt.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return Xt})();const re="mdc-line-ripple--active",J="mdc-line-ripple--deactivating";let ge=(()=>{class Xt{constructor(fn,It){this._elementRef=fn,this._handleTransitionEnd=vt=>{const it=this._elementRef.nativeElement.classList,He=it.contains(J);"opacity"===vt.propertyName&&He&&it.remove(re,J)},It.runOutsideAngular(()=>{fn.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const fn=this._elementRef.nativeElement.classList;fn.remove(J),fn.add(re)}deactivate(){this._elementRef.nativeElement.classList.add(J)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(It){return new(It||Xt)(e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275dir=e.lG2({type:Xt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return Xt})(),Se=(()=>{class Xt{constructor(fn,It){this._elementRef=fn,this._ngZone=It,this.open=!1}ngAfterViewInit(){const fn=this._elementRef.nativeElement.querySelector(".mdc-floating-label");fn?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(fn.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>fn.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(fn){this._notch.nativeElement.style.width=this.open&&fn?`calc(${fn}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(It){return new(It||Xt)(e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:Xt,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(It,vt){if(1&It&&e.Gf(S,5),2&It){let it;e.iGM(it=e.CRH())&&(vt._notch=it.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(It,vt){2&It&&e.ekj("mdc-notched-outline--notched",vt.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:I,ngContentSelectors:E,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(It,vt){1&It&&(e.F$t(),e._UZ(0,"div",0),e.TgZ(1,"div",1,2),e.Hsn(3),e.qZA(),e._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return Xt})();const Ee={transitionMessages:(0,A.X$)("transitionMessages",[(0,A.SB)("enter",(0,A.oB)({opacity:1,transform:"translateY(0%)"})),(0,A.eR)("void => enter",[(0,A.oB)({opacity:0,transform:"translateY(-5px)"}),(0,A.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Fe=(()=>{class Xt{static#e=this.\u0275fac=function(It){return new(It||Xt)};static#t=this.\u0275dir=e.lG2({type:Xt})}return Xt})();const gt=new e.OlP("MatFormField"),Qe=new e.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let yt=0,Kt=(()=>{class Xt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(fn){this._hideRequiredMarker=(0,C.Ig)(fn)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(fn){fn!==this._floatLabel&&(this._floatLabel=fn,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(fn){const It=this._appearance;this._appearance=fn||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==It&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(fn){this._subscriptSizing=fn||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(fn){this._hintLabel=fn,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(fn){this._explicitFormFieldControl=fn}constructor(fn,It,vt,it,He,Ze,st,lt){this._elementRef=fn,this._changeDetectorRef=It,this._ngZone=vt,this._dir=it,this._platform=He,this._defaults=Ze,this._animationMode=st,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+yt++,this._hintLabelId="mat-mdc-hint-"+yt++,this._subscriptAnimationState="",this._destroyed=new m.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,Ze&&(Ze.appearance&&(this.appearance=Ze.appearance),this._hideRequiredMarker=!!Ze?.hideRequiredMarker,Ze.color&&(this.color=Ze.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const fn=this._control;fn.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${fn.controlType}`),fn.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),fn.ngControl&&fn.ngControl.valueChanges&&fn.ngControl.valueChanges.pipe((0,D.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(fn=>!fn._isText),this._hasTextPrefix=!!this._prefixChildren.find(fn=>fn._isText),this._hasIconSuffix=!!this._suffixChildren.find(fn=>!fn._isText),this._hasTextSuffix=!!this._suffixChildren.find(fn=>fn._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,P.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,D.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,D.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(fn){const It=this._control?this._control.ngControl:null;return It&&It[fn]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let fn=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&fn.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const It=this._hintChildren?this._hintChildren.find(it=>"start"===it.align):null,vt=this._hintChildren?this._hintChildren.find(it=>"end"===it.align):null;It?fn.push(It.id):this._hintLabel&&fn.push(this._hintLabelId),vt&&fn.push(vt.id)}else this._errorChildren&&fn.push(...this._errorChildren.map(It=>It.id));this._control.setDescribedByIds(fn)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const fn=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(fn.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const It=this._iconPrefixContainer?.nativeElement,vt=this._textPrefixContainer?.nativeElement,it=It?.getBoundingClientRect().width??0,He=vt?.getBoundingClientRect().width??0;fn.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${it+He}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const fn=this._elementRef.nativeElement;if(fn.getRootNode){const It=fn.getRootNode();return It&&It!==fn}return document.documentElement.contains(fn)}static#e=this.\u0275fac=function(It){return new(It||Xt)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(t.Is),e.Y36(v.t4),e.Y36(Qe,8),e.Y36(e.QbO,8),e.Y36(x.K0))};static#t=this.\u0275cmp=e.Xpm({type:Xt,selectors:[["mat-form-field"]],contentQueries:function(It,vt,it){if(1&It&&(e.Suo(it,Be,5),e.Suo(it,Be,7),e.Suo(it,Fe,5),e.Suo(it,fe,5),e.Suo(it,q,5),e.Suo(it,Xe,5),e.Suo(it,ee,5)),2&It){let He;e.iGM(He=e.CRH())&&(vt._labelChildNonStatic=He.first),e.iGM(He=e.CRH())&&(vt._labelChildStatic=He.first),e.iGM(He=e.CRH())&&(vt._formFieldControl=He.first),e.iGM(He=e.CRH())&&(vt._prefixChildren=He),e.iGM(He=e.CRH())&&(vt._suffixChildren=He),e.iGM(He=e.CRH())&&(vt._errorChildren=He),e.iGM(He=e.CRH())&&(vt._hintChildren=He)}},viewQuery:function(It,vt){if(1&It&&(e.Gf(L,5),e.Gf(b,5),e.Gf(B,5),e.Gf(ne,5),e.Gf(Se,5),e.Gf(ge,5)),2&It){let it;e.iGM(it=e.CRH())&&(vt._textField=it.first),e.iGM(it=e.CRH())&&(vt._iconPrefixContainer=it.first),e.iGM(it=e.CRH())&&(vt._textPrefixContainer=it.first),e.iGM(it=e.CRH())&&(vt._floatingLabel=it.first),e.iGM(it=e.CRH())&&(vt._notchedOutline=it.first),e.iGM(it=e.CRH())&&(vt._lineRipple=it.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(It,vt){2&It&&e.ekj("mat-mdc-form-field-label-always-float",vt._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",vt._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",vt._hasIconSuffix)("mat-form-field-invalid",vt._control.errorState)("mat-form-field-disabled",vt._control.disabled)("mat-form-field-autofilled",vt._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===vt._animationMode)("mat-form-field-appearance-fill","fill"==vt.appearance)("mat-form-field-appearance-outline","outline"==vt.appearance)("mat-form-field-hide-placeholder",vt._hasFloatingLabel()&&!vt._shouldLabelFloat())("mat-focused",vt._control.focused)("mat-primary","accent"!==vt.color&&"warn"!==vt.color)("mat-accent","accent"===vt.color)("mat-warn","warn"===vt.color)("ng-untouched",vt._shouldForward("untouched"))("ng-touched",vt._shouldForward("touched"))("ng-pristine",vt._shouldForward("pristine"))("ng-dirty",vt._shouldForward("dirty"))("ng-valid",vt._shouldForward("valid"))("ng-invalid",vt._shouldForward("invalid"))("ng-pending",vt._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[e._Bn([{provide:gt,useExisting:Xt},{provide:Q,useExisting:Xt}])],ngContentSelectors:Ie,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(It,vt){1&It&&(e.F$t(pe),e.YNc(0,le,1,1,"ng-template",null,0,e.W1O),e.TgZ(2,"div",1,2),e.NdJ("click",function(He){return vt._control.onContainerClick(He)}),e.YNc(4,Re,1,0,"div",3),e.TgZ(5,"div",4),e.YNc(6,G,2,2,"div",5),e.YNc(7,De,3,0,"div",6),e.YNc(8,ce,3,0,"div",7),e.TgZ(9,"div",8),e.YNc(10,be,1,1,"ng-template",9),e.Hsn(11),e.qZA(),e.YNc(12,Oe,2,0,"div",10),e.YNc(13,ie,2,0,"div",11),e.qZA(),e.YNc(14,ye,1,0,"div",12),e.qZA(),e.TgZ(15,"div",13),e.YNc(16,Ce,2,1,"div",14),e.YNc(17,Me,5,2,"div",15),e.qZA()),2&It&&(e.xp6(2),e.ekj("mdc-text-field--filled",!vt._hasOutline())("mdc-text-field--outlined",vt._hasOutline())("mdc-text-field--no-label",!vt._hasFloatingLabel())("mdc-text-field--disabled",vt._control.disabled)("mdc-text-field--invalid",vt._control.errorState),e.xp6(2),e.Q6J("ngIf",!vt._hasOutline()&&!vt._control.disabled),e.xp6(2),e.Q6J("ngIf",vt._hasOutline()),e.xp6(1),e.Q6J("ngIf",vt._hasIconPrefix),e.xp6(1),e.Q6J("ngIf",vt._hasTextPrefix),e.xp6(2),e.Q6J("ngIf",!vt._hasOutline()||vt._forceDisplayInfixLabel()),e.xp6(2),e.Q6J("ngIf",vt._hasTextSuffix),e.xp6(1),e.Q6J("ngIf",vt._hasIconSuffix),e.xp6(1),e.Q6J("ngIf",!vt._hasOutline()),e.xp6(1),e.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===vt.subscriptSizing),e.Q6J("ngSwitch",vt._getDisplayedMessages()),e.xp6(1),e.Q6J("ngSwitchCase","error"),e.xp6(1),e.Q6J("ngSwitchCase","hint"))},dependencies:[x.O5,x.tP,x.RF,x.n9,ee,ne,Se,ge],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Ee.transitionMessages]},changeDetection:0})}return Xt})(),Jt=(()=>{class Xt{static#e=this.\u0275fac=function(It){return new(It||Xt)};static#t=this.\u0275mod=e.oAB({type:Xt});static#n=this.\u0275inj=e.cJS({imports:[O.BQ,x.ez,R.Q8,O.BQ]})}return Xt})()},2032:(Wn,Je,g)=>{"use strict";g.d(Je,{Jk:()=>A,Nt:()=>S,c:()=>I});var e=g(2495),t=g(2831),v=g(5879),y=g(6232),m=g(8645);const P=(0,t.i$)({passive:!0});let D=(()=>{class E{constructor(b,B){this._platform=b,this._ngZone=B,this._monitoredElements=new Map}monitor(b){if(!this._platform.isBrowser)return y.E;const B=(0,e.fI)(b),Z=this._monitoredElements.get(B);if(Z)return Z.subject;const oe=new m.x,le="cdk-text-field-autofilled",Re=Y=>{"cdk-text-field-autofill-start"!==Y.animationName||B.classList.contains(le)?"cdk-text-field-autofill-end"===Y.animationName&&B.classList.contains(le)&&(B.classList.remove(le),this._ngZone.run(()=>oe.next({target:Y.target,isAutofilled:!1}))):(B.classList.add(le),this._ngZone.run(()=>oe.next({target:Y.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{B.addEventListener("animationstart",Re,P),B.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(B,{subject:oe,unlisten:()=>{B.removeEventListener("animationstart",Re,P)}}),oe}stopMonitoring(b){const B=(0,e.fI)(b),Z=this._monitoredElements.get(B);Z&&(Z.unlisten(),Z.subject.complete(),B.classList.remove("cdk-text-field-autofill-monitored"),B.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(B))}ngOnDestroy(){this._monitoredElements.forEach((b,B)=>this.stopMonitoring(B))}static#e=this.\u0275fac=function(B){return new(B||E)(v.LFG(t.t4),v.LFG(v.R0b))};static#t=this.\u0275prov=v.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})(),c=(()=>{class E{static#e=this.\u0275fac=function(B){return new(B||E)};static#t=this.\u0275mod=v.oAB({type:E});static#n=this.\u0275inj=v.cJS({})}return E})();var d=g(95),h=g(3680),p=g(4170);const A=new v.OlP("MAT_INPUT_VALUE_ACCESSOR"),x=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let R=0;const O=(0,h.FD)(class{constructor(E,L,b,B){this._defaultErrorStateMatcher=E,this._parentForm=L,this._parentFormGroup=b,this.ngControl=B,this.stateChanges=new m.x}});let S=(()=>{class E extends O{get disabled(){return this._disabled}set disabled(b){this._disabled=(0,e.Ig)(b),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(b){this._id=b||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(d.kI.required)??!1}set required(b){this._required=(0,e.Ig)(b)}get type(){return this._type}set type(b){this._type=b||"text",this._validateType(),!this._isTextarea&&(0,t.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(b){b!==this.value&&(this._inputValueAccessor.value=b,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(b){this._readonly=(0,e.Ig)(b)}constructor(b,B,Z,oe,le,Re,Y,ae,G,De){super(Re,oe,le,Z),this._elementRef=b,this._platform=B,this._autofillMonitor=ae,this._formField=De,this._uid="mat-input-"+R++,this.focused=!1,this.stateChanges=new m.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(be=>(0,t.qK)().has(be)),this._iOSKeyupListener=be=>{const Oe=be.target;!Oe.value&&0===Oe.selectionStart&&0===Oe.selectionEnd&&(Oe.setSelectionRange(1,1),Oe.setSelectionRange(0,0))};const ce=this._elementRef.nativeElement,Te=ce.nodeName.toLowerCase();this._inputValueAccessor=Y||ce,this._previousNativeValue=this.value,this.id=this.id,B.IOS&&G.runOutsideAngular(()=>{b.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Te,this._isTextarea="textarea"===Te,this._isInFormField=!!De,this._isNativeSelect&&(this.controlType=ce.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(b=>{this.autofilled=b.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(b){this._elementRef.nativeElement.focus(b)}_focusChanged(b){b!==this.focused&&(this.focused=b,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const b=this._elementRef.nativeElement.value;this._previousNativeValue!==b&&(this._previousNativeValue=b,this.stateChanges.next())}_dirtyCheckPlaceholder(){const b=this._getPlaceholder();if(b!==this._previousPlaceholder){const B=this._elementRef.nativeElement;this._previousPlaceholder=b,b?B.setAttribute("placeholder",b):B.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){x.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let b=this._elementRef.nativeElement.validity;return b&&b.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const b=this._elementRef.nativeElement,B=b.options[0];return this.focused||b.multiple||!this.empty||!!(b.selectedIndex>-1&&B&&B.label)}return this.focused||!this.empty}setDescribedByIds(b){b.length?this._elementRef.nativeElement.setAttribute("aria-describedby",b.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const b=this._elementRef.nativeElement;return this._isNativeSelect&&(b.multiple||b.size>1)}static#e=this.\u0275fac=function(B){return new(B||E)(v.Y36(v.SBq),v.Y36(t.t4),v.Y36(d.a5,10),v.Y36(d.F,8),v.Y36(d.sg,8),v.Y36(h.rD),v.Y36(A,10),v.Y36(D),v.Y36(v.R0b),v.Y36(p.G_,8))};static#t=this.\u0275dir=v.lG2({type:E,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(B,Z){1&B&&v.NdJ("focus",function(){return Z._focusChanged(!0)})("blur",function(){return Z._focusChanged(!1)})("input",function(){return Z._onInput()}),2&B&&(v.Ikx("id",Z.id)("disabled",Z.disabled)("required",Z.required),v.uIk("name",Z.name||null)("readonly",Z.readonly&&!Z._isNativeSelect||null)("aria-invalid",Z.empty&&Z.required?null:Z.errorState)("aria-required",Z.required)("id",Z.id),v.ekj("mat-input-server",Z._isServer)("mat-mdc-form-field-textarea-control",Z._isInFormField&&Z._isTextarea)("mat-mdc-form-field-input-control",Z._isInFormField)("mdc-text-field__input",Z._isInFormField)("mat-mdc-native-select-inline",Z._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[v._Bn([{provide:p.Eo,useExisting:E}]),v.qOj,v.TTD]})}return E})(),I=(()=>{class E{static#e=this.\u0275fac=function(B){return new(B||E)};static#t=this.\u0275mod=v.oAB({type:E});static#n=this.\u0275inj=v.cJS({imports:[h.BQ,p.lN,p.lN,c,h.BQ]})}return E})()},1476:(Wn,Je,g)=>{"use strict";g.d(Je,{NW:()=>Z,TU:()=>oe,ye:()=>x});var e=g(6814),t=g(5879),v=g(8645),y=g(2296),m=g(8525),P=g(2596),D=g(3680),f=g(2495),i=g(4170);function c(le,Re){if(1&le&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&le){const Y=Re.$implicit;t.Q6J("value",Y),t.xp6(1),t.hij(" ",Y," ")}}function d(le,Re){if(1&le){const Y=t.EpF();t.TgZ(0,"mat-form-field",16)(1,"mat-select",17),t.NdJ("selectionChange",function(G){t.CHM(Y);const De=t.oxw(2);return t.KtG(De._changePageSize(G.value))}),t.YNc(2,c,2,2,"mat-option",18),t.qZA()()}if(2&le){const Y=t.oxw(2);t.Q6J("appearance",Y._formFieldAppearance)("color",Y.color),t.xp6(1),t.Q6J("value",Y.pageSize)("disabled",Y.disabled)("aria-labelledby",Y._pageSizeLabelId)("panelClass",Y.selectConfig.panelClass||"")("disableOptionCentering",Y.selectConfig.disableOptionCentering),t.xp6(1),t.Q6J("ngForOf",Y._displayedPageSizeOptions)}}function h(le,Re){if(1&le&&(t.TgZ(0,"div",20),t._uU(1),t.qZA()),2&le){const Y=t.oxw(2);t.xp6(1),t.Oqu(Y.pageSize)}}function p(le,Re){if(1&le&&(t.TgZ(0,"div",12)(1,"div",13),t._uU(2),t.qZA(),t.YNc(3,d,3,8,"mat-form-field",14),t.YNc(4,h,2,1,"div",15),t.qZA()),2&le){const Y=t.oxw();t.xp6(1),t.s9C("id",Y._pageSizeLabelId),t.xp6(1),t.hij(" ",Y._intl.itemsPerPageLabel," "),t.xp6(1),t.Q6J("ngIf",Y._displayedPageSizeOptions.length>1),t.xp6(1),t.Q6J("ngIf",Y._displayedPageSizeOptions.length<=1)}}function C(le,Re){if(1&le){const Y=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(Y);const G=t.oxw();return t.KtG(G.firstPage())}),t.O4$(),t.TgZ(1,"svg",7),t._UZ(2,"path",22),t.qZA()()}if(2&le){const Y=t.oxw();t.Q6J("matTooltip",Y._intl.firstPageLabel)("matTooltipDisabled",Y._previousButtonsDisabled())("matTooltipPosition","above")("disabled",Y._previousButtonsDisabled()),t.uIk("aria-label",Y._intl.firstPageLabel)}}function A(le,Re){if(1&le){const Y=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(Y);const G=t.oxw();return t.KtG(G.lastPage())}),t.O4$(),t.TgZ(1,"svg",7),t._UZ(2,"path",24),t.qZA()()}if(2&le){const Y=t.oxw();t.Q6J("matTooltip",Y._intl.lastPageLabel)("matTooltipDisabled",Y._nextButtonsDisabled())("matTooltipPosition","above")("disabled",Y._nextButtonsDisabled()),t.uIk("aria-label",Y._intl.lastPageLabel)}}let x=(()=>{class le{constructor(){this.changes=new v.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(Y,ae,G)=>{if(0==G||0==ae)return`0 of ${G}`;const De=Y*ae;return`${De+1} \u2013 ${De<(G=Math.max(G,0))?Math.min(De+ae,G):De+ae} of ${G}`}}static#e=this.\u0275fac=function(ae){return new(ae||le)};static#t=this.\u0275prov=t.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();const O={provide:x,deps:[[new t.FiY,new t.tp0,x]],useFactory:function R(le){return le||new x}},E=new t.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),L=(0,D.Id)((0,D.dB)(class{}));let b=(()=>{class le extends L{get pageIndex(){return this._pageIndex}set pageIndex(Y){this._pageIndex=Math.max((0,f.su)(Y),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(Y){this._length=(0,f.su)(Y),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(Y){this._pageSize=Math.max((0,f.su)(Y),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(Y){this._pageSizeOptions=(Y||[]).map(ae=>(0,f.su)(ae)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(Y){this._hidePageSize=(0,f.Ig)(Y)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(Y){this._showFirstLastButtons=(0,f.Ig)(Y)}constructor(Y,ae,G){if(super(),this._intl=Y,this._changeDetectorRef=ae,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new t.vpe,this._intlChanges=Y.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),G){const{pageSize:De,pageSizeOptions:ce,hidePageSize:Te,showFirstLastButtons:be}=G;null!=De&&(this._pageSize=De),null!=ce&&(this._pageSizeOptions=ce),null!=Te&&(this._hidePageSize=Te),null!=be&&(this._showFirstLastButtons=be)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const Y=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(Y)}previousPage(){if(!this.hasPreviousPage())return;const Y=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(Y)}firstPage(){if(!this.hasPreviousPage())return;const Y=this.pageIndex;this.pageIndex=0,this._emitPageEvent(Y)}lastPage(){if(!this.hasNextPage())return;const Y=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(Y)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const Y=this.getNumberOfPages()-1;return this.pageIndex<Y&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(Y){const G=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/Y)||0,this.pageSize=Y,this._emitPageEvent(G)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((Y,ae)=>Y-ae),this._changeDetectorRef.markForCheck())}_emitPageEvent(Y){this.page.emit({previousPageIndex:Y,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(ae){t.$Z()};static#t=this.\u0275dir=t.lG2({type:le,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[t.qOj]})}return le})(),B=0,Z=(()=>{class le extends b{constructor(Y,ae,G){super(Y,ae,G),this._pageSizeLabelId="mat-paginator-page-size-label-"+B++,this._formFieldAppearance=G?.formFieldAppearance||"outline"}static#e=this.\u0275fac=function(ae){return new(ae||le)(t.Y36(x),t.Y36(t.sBO),t.Y36(E,8))};static#t=this.\u0275cmp=t.Xpm({type:le,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[t.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(ae,G){1&ae&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,p,5,4,"div",2),t.TgZ(3,"div",3)(4,"div",4),t._uU(5),t.qZA(),t.YNc(6,C,3,5,"button",5),t.TgZ(7,"button",6),t.NdJ("click",function(){return G.previousPage()}),t.O4$(),t.TgZ(8,"svg",7),t._UZ(9,"path",8),t.qZA()(),t.kcU(),t.TgZ(10,"button",9),t.NdJ("click",function(){return G.nextPage()}),t.O4$(),t.TgZ(11,"svg",7),t._UZ(12,"path",10),t.qZA()(),t.YNc(13,A,3,5,"button",11),t.qZA()()()),2&ae&&(t.xp6(2),t.Q6J("ngIf",!G.hidePageSize),t.xp6(3),t.hij(" ",G._intl.getRangeLabel(G.pageIndex,G.pageSize,G.length)," "),t.xp6(1),t.Q6J("ngIf",G.showFirstLastButtons),t.xp6(1),t.Q6J("matTooltip",G._intl.previousPageLabel)("matTooltipDisabled",G._previousButtonsDisabled())("matTooltipPosition","above")("disabled",G._previousButtonsDisabled()),t.uIk("aria-label",G._intl.previousPageLabel),t.xp6(3),t.Q6J("matTooltip",G._intl.nextPageLabel)("matTooltipDisabled",G._nextButtonsDisabled())("matTooltipPosition","above")("disabled",G._nextButtonsDisabled()),t.uIk("aria-label",G._intl.nextPageLabel),t.xp6(3),t.Q6J("ngIf",G.showFirstLastButtons))},dependencies:[e.sg,e.O5,y.RK,i.KE,m.gD,D.ey,P.gM],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return le})(),oe=(()=>{class le{static#e=this.\u0275fac=function(ae){return new(ae||le)};static#t=this.\u0275mod=t.oAB({type:le});static#n=this.\u0275inj=t.cJS({providers:[O],imports:[e.ez,y.ot,m.LD,P.AV]})}return le})()},5940:(Wn,Je,g)=>{"use strict";g.d(Je,{Cq:()=>C,Ou:()=>h});var e=g(5879),t=g(3680),v=g(2495),y=g(6814);const m=["determinateSpinner"];function P(A,x){if(1&A&&(e.O4$(),e.TgZ(0,"svg",11),e._UZ(1,"circle",12),e.qZA()),2&A){const R=e.oxw();e.uIk("viewBox",R._viewBox()),e.xp6(1),e.Udp("stroke-dasharray",R._strokeCircumference(),"px")("stroke-dashoffset",R._strokeCircumference()/2,"px")("stroke-width",R._circleStrokeWidth(),"%"),e.uIk("r",R._circleRadius())}}const D=(0,t.pj)(class{constructor(A){this._elementRef=A}},"primary"),f=new e.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function i(){return{diameter:c}}}),c=100;let h=(()=>{class A extends D{constructor(R,O,S){super(R),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=c,this._noopAnimations="NoopAnimations"===O&&!!S&&!S._forceAnimations,S&&(S.color&&(this.color=this.defaultColor=S.color),S.diameter&&(this.diameter=S.diameter),S.strokeWidth&&(this.strokeWidth=S.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(R){this._value=Math.max(0,Math.min(100,(0,v.su)(R)))}get diameter(){return this._diameter}set diameter(R){this._diameter=(0,v.su)(R)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(R){this._strokeWidth=(0,v.su)(R)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const R=2*this._circleRadius()+this.strokeWidth;return`0 0 ${R} ${R}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(O){return new(O||A)(e.Y36(e.SBq),e.Y36(e.QbO,8),e.Y36(f))};static#t=this.\u0275cmp=e.Xpm({type:A,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(O,S){if(1&O&&e.Gf(m,5),2&O){let I;e.iGM(I=e.CRH())&&(S._determinateCircle=I.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(O,S){2&O&&(e.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===S.mode?S.value:null)("mode",S.mode),e.Udp("width",S.diameter,"px")("height",S.diameter,"px")("--mdc-circular-progress-size",S.diameter+"px")("--mdc-circular-progress-active-indicator-width",S.diameter+"px"),e.ekj("_mat-animation-noopable",S._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===S.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[e.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(O,S){if(1&O&&(e.YNc(0,P,2,8,"ng-template",null,0,e.W1O),e.TgZ(2,"div",1,2),e.O4$(),e.TgZ(4,"svg",3),e._UZ(5,"circle",4),e.qZA()(),e.kcU(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7),e.GkF(9,8),e.qZA(),e.TgZ(10,"div",9),e.GkF(11,8),e.qZA(),e.TgZ(12,"div",10),e.GkF(13,8),e.qZA()()()),2&O){const I=e.MAs(1);e.xp6(4),e.uIk("viewBox",S._viewBox()),e.xp6(1),e.Udp("stroke-dasharray",S._strokeCircumference(),"px")("stroke-dashoffset",S._strokeDashOffset(),"px")("stroke-width",S._circleStrokeWidth(),"%"),e.uIk("r",S._circleRadius()),e.xp6(4),e.Q6J("ngTemplateOutlet",I),e.xp6(2),e.Q6J("ngTemplateOutlet",I),e.xp6(2),e.Q6J("ngTemplateOutlet",I)}},dependencies:[y.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return A})(),C=(()=>{class A{static#e=this.\u0275fac=function(O){return new(O||A)};static#t=this.\u0275mod=e.oAB({type:A});static#n=this.\u0275inj=e.cJS({imports:[y.ez,t.BQ]})}return A})()},8525:(Wn,Je,g)=>{"use strict";g.d(Je,{LD:()=>Ne,gD:()=>je});var e=g(3651),t=g(6814),v=g(5879),y=g(3680),m=g(4170),P=g(799),D=g(4300),f=g(9388),i=g(2495),c=g(8337),d=g(6028),h=g(95),p=g(8645),C=g(4911),A=g(3019),x=g(7921),R=g(4664),O=g(8180),S=g(2181),I=g(7398),E=g(3997),L=g(9773),b=g(6825);const B=["trigger"],Z=["panel"];function oe(ee,fe){if(1&ee&&(v.TgZ(0,"span",10),v._uU(1),v.qZA()),2&ee){const we=v.oxw();v.xp6(1),v.Oqu(we.placeholder)}}function le(ee,fe){if(1&ee&&(v.TgZ(0,"span",14),v._uU(1),v.qZA()),2&ee){const we=v.oxw(2);v.xp6(1),v.Oqu(we.triggerValue)}}function Re(ee,fe){1&ee&&v.Hsn(0,0,["*ngSwitchCase","true"])}function Y(ee,fe){if(1&ee&&(v.TgZ(0,"span",11),v.YNc(1,le,2,1,"span",12),v.YNc(2,Re,1,0,"ng-content",13),v.qZA()),2&ee){const we=v.oxw();v.Q6J("ngSwitch",!!we.customTrigger),v.xp6(2),v.Q6J("ngSwitchCase",!0)}}function ae(ee,fe){if(1&ee){const we=v.EpF();v.O4$(),v.kcU(),v.TgZ(0,"div",15,16),v.NdJ("@transformPanel.done",function($){v.CHM(we);const Q=v.oxw();return v.KtG(Q._panelDoneAnimatingStream.next($.toState))})("keydown",function($){v.CHM(we);const Q=v.oxw();return v.KtG(Q._handleKeydown($))}),v.Hsn(2,1),v.qZA()}if(2&ee){const we=v.oxw();v.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",we._getPanelTheme(),""),v.Q6J("ngClass",we.panelClass)("@transformPanel","showing"),v.uIk("id",we.id+"-panel")("aria-multiselectable",we.multiple)("aria-label",we.ariaLabel||null)("aria-labelledby",we._getPanelAriaLabelledby())}}const G=[[["mat-select-trigger"]],"*"],De=["mat-select-trigger","*"],ce={transformPanelWrap:(0,b.X$)("transformPanelWrap",[(0,b.eR)("* => void",(0,b.IO)("@transformPanel",[(0,b.pV)()],{optional:!0}))]),transformPanel:(0,b.X$)("transformPanel",[(0,b.SB)("void",(0,b.oB)({opacity:0,transform:"scale(1, 0.8)"})),(0,b.eR)("void => showing",(0,b.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,b.oB)({opacity:1,transform:"scale(1, 1)"}))),(0,b.eR)("* => void",(0,b.jt)("100ms linear",(0,b.oB)({opacity:0})))])};let ie=0;const ye=new v.OlP("mat-select-scroll-strategy"),de=new v.OlP("MAT_SELECT_CONFIG"),Me={provide:ye,deps:[e.aV],useFactory:function Ce(ee){return()=>ee.scrollStrategies.reposition()}},pe=new v.OlP("MatSelectTrigger");class Ie{constructor(fe,we){this.source=fe,this.value=we}}const Be=(0,y.Kr)((0,y.sb)((0,y.Id)((0,y.FD)(class{constructor(ee,fe,we,q,$){this._elementRef=ee,this._defaultErrorStateMatcher=fe,this._parentForm=we,this._parentFormGroup=q,this.ngControl=$,this.stateChanges=new p.x}}))));let at=(()=>{class ee extends Be{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(we){this._placeholder=we,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(h.kI.required)??!1}set required(we){this._required=(0,i.Ig)(we),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(we){this._multiple=(0,i.Ig)(we)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(we){this._disableOptionCentering=(0,i.Ig)(we)}get compareWith(){return this._compareWith}set compareWith(we){this._compareWith=we,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(we){this._assignValue(we)&&this._onChange(we)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(we){this._typeaheadDebounceInterval=(0,i.su)(we)}get id(){return this._id}set id(we){this._id=we||this._uid,this.stateChanges.next()}constructor(we,q,$,Q,ne,X,re,J,ge,Se,Ee,Fe,ct,qe){super(ne,Q,re,J,Se),this._viewportRuler=we,this._changeDetectorRef=q,this._ngZone=$,this._dir=X,this._parentFormField=ge,this._liveAnnouncer=ct,this._defaultOptions=qe,this._panelOpen=!1,this._compareWith=(tt,gt)=>tt===gt,this._uid="mat-select-"+ie++,this._triggerAriaLabelledBy=null,this._destroy=new p.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+ie++,this._panelDoneAnimatingStream=new p.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,C.P)(()=>{const tt=this.options;return tt?tt.changes.pipe((0,x.O)(tt),(0,R.w)(()=>(0,A.T)(...tt.map(gt=>gt.onSelectionChange)))):this._ngZone.onStable.pipe((0,O.q)(1),(0,R.w)(()=>this.optionSelectionChanges))}),this.openedChange=new v.vpe,this._openedStream=this.openedChange.pipe((0,S.h)(tt=>tt),(0,I.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,S.h)(tt=>!tt),(0,I.U)(()=>{})),this.selectionChange=new v.vpe,this.valueChange=new v.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=qe?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=qe.typeaheadDebounceInterval),this._scrollStrategyFactory=Fe,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Ee)||0,this.id=this.id}ngOnInit(){this._selectionModel=new c.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,E.x)(),(0,L.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,L.R)(this._destroy)).subscribe(we=>{we.added.forEach(q=>q.select()),we.removed.forEach(q=>q.deselect())}),this.options.changes.pipe((0,x.O)(null),(0,L.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const we=this._getTriggerAriaLabelledby(),q=this.ngControl;if(we!==this._triggerAriaLabelledBy){const $=this._elementRef.nativeElement;this._triggerAriaLabelledBy=we,we?$.setAttribute("aria-labelledby",we):$.removeAttribute("aria-labelledby")}q&&(this._previousControl!==q.control&&(void 0!==this._previousControl&&null!==q.disabled&&q.disabled!==this.disabled&&(this.disabled=q.disabled),this._previousControl=q.control),this.updateErrorState())}ngOnChanges(we){(we.disabled||we.userAriaDescribedBy)&&this.stateChanges.next(),we.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const we=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!we)return;const q=`${this.id}-panel`;this._trackedModal&&(0,D.iD)(this._trackedModal,"aria-owns",q),(0,D.Zf)(we,"aria-owns",q),this._trackedModal=we}_clearFromModal(){this._trackedModal&&((0,D.iD)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(we){this._assignValue(we)}registerOnChange(we){this._onChange=we}registerOnTouched(we){this._onTouched=we}setDisabledState(we){this.disabled=we,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const we=this._selectionModel.selected.map(q=>q.viewValue);return this._isRtl()&&we.reverse(),we.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(we){this.disabled||(this.panelOpen?this._handleOpenKeydown(we):this._handleClosedKeydown(we))}_handleClosedKeydown(we){const q=we.keyCode,$=q===d.JH||q===d.LH||q===d.oh||q===d.SV,Q=q===d.K5||q===d.L_,ne=this._keyManager;if(!ne.isTyping()&&Q&&!(0,d.Vb)(we)||(this.multiple||we.altKey)&&$)we.preventDefault(),this.open();else if(!this.multiple){const X=this.selected;ne.onKeydown(we);const re=this.selected;re&&X!==re&&this._liveAnnouncer.announce(re.viewValue,1e4)}}_handleOpenKeydown(we){const q=this._keyManager,$=we.keyCode,Q=$===d.JH||$===d.LH,ne=q.isTyping();if(Q&&we.altKey)we.preventDefault(),this.close();else if(ne||$!==d.K5&&$!==d.L_||!q.activeItem||(0,d.Vb)(we))if(!ne&&this._multiple&&$===d.A&&we.ctrlKey){we.preventDefault();const X=this.options.some(re=>!re.disabled&&!re.selected);this.options.forEach(re=>{re.disabled||(X?re.select():re.deselect())})}else{const X=q.activeItemIndex;q.onKeydown(we),this._multiple&&Q&&we.shiftKey&&q.activeItem&&q.activeItemIndex!==X&&q.activeItem._selectViaInteraction()}else we.preventDefault(),q.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,O.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(we){if(this.options.forEach(q=>q.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&we)Array.isArray(we),we.forEach(q=>this._selectOptionByValue(q)),this._sortValues();else{const q=this._selectOptionByValue(we);q?this._keyManager.updateActiveItem(q):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(we){const q=this.options.find($=>{if(this._selectionModel.isSelected($))return!1;try{return null!=$.value&&this._compareWith($.value,we)}catch{return!1}});return q&&this._selectionModel.select(q),q}_assignValue(we){return!!(we!==this._value||this._multiple&&Array.isArray(we))&&(this.options&&this._setSelectionByValue(we),this._value=we,!0)}_skipPredicate(we){return we.disabled}_initKeyManager(){this._keyManager=new D.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const we=(0,A.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,L.R)(we)).subscribe(q=>{this._onSelect(q.source,q.isUserInput),q.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,A.T)(...this.options.map(q=>q._stateChanges)).pipe((0,L.R)(we)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(we,q){const $=this._selectionModel.isSelected(we);null!=we.value||this._multiple?($!==we.selected&&(we.selected?this._selectionModel.select(we):this._selectionModel.deselect(we)),q&&this._keyManager.setActiveItem(we),this.multiple&&(this._sortValues(),q&&this.focus())):(we.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(we.value)),$!==this._selectionModel.isSelected(we)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const we=this.options.toArray();this._selectionModel.sort((q,$)=>this.sortComparator?this.sortComparator(q,$,we):we.indexOf(q)-we.indexOf($)),this.stateChanges.next()}}_propagateChanges(we){let q=null;q=this.multiple?this.selected.map($=>$.value):this.selected?this.selected.value:we,this._value=q,this.valueChange.emit(q),this._onChange(q),this.selectionChange.emit(this._getChangeEvent(q)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let we=-1;for(let q=0;q<this.options.length;q++)if(!this.options.get(q).disabled){we=q;break}this._keyManager.setActiveItem(we)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(we){this._elementRef.nativeElement.focus(we)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const we=this._parentFormField?.getLabelId();return this.ariaLabelledby?(we?we+" ":"")+this.ariaLabelledby:we}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const we=this._parentFormField?.getLabelId();let q=(we?we+" ":"")+this._valueId;return this.ariaLabelledby&&(q+=" "+this.ariaLabelledby),q}_panelDoneAnimating(we){this.openedChange.emit(we)}setDescribedByIds(we){we.length?this._elementRef.nativeElement.setAttribute("aria-describedby",we.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(q){return new(q||ee)(v.Y36(P.rL),v.Y36(v.sBO),v.Y36(v.R0b),v.Y36(y.rD),v.Y36(v.SBq),v.Y36(f.Is,8),v.Y36(h.F,8),v.Y36(h.sg,8),v.Y36(m.G_,8),v.Y36(h.a5,10),v.$8M("tabindex"),v.Y36(ye),v.Y36(D.Kd),v.Y36(de,8))};static#t=this.\u0275dir=v.lG2({type:ee,viewQuery:function(q,$){if(1&q&&(v.Gf(B,5),v.Gf(Z,5),v.Gf(e.pI,5)),2&q){let Q;v.iGM(Q=v.CRH())&&($.trigger=Q.first),v.iGM(Q=v.CRH())&&($.panel=Q.first),v.iGM(Q=v.CRH())&&($._overlayDir=Q.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[v.qOj,v.TTD]})}return ee})(),je=(()=>{class ee extends at{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=we=>!this.panelOpen&&we.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,L.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(we){const q=this.options.toArray()[we];if(q){const $=this.panel.nativeElement,Q=(0,y.CB)(we,this.options,this.optionGroups),ne=q._getHostElement();$.scrollTop=0===we&&1===Q?0:(0,y.jH)(ne.offsetTop,ne.offsetHeight,$.scrollTop,$.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(we){return new Ie(this,we)}_getOverlayWidth(we){return"auto"===this.panelWidth?(we instanceof e.xu?we.elementRef:we||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(we){this._hideSingleSelectionIndicator=(0,i.Ig)(we),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const we of this.options)we._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let we;return function($){return(we||(we=v.n5z(ee)))($||ee)}}();static#t=this.\u0275cmp=v.Xpm({type:ee,selectors:[["mat-select"]],contentQueries:function(q,$,Q){if(1&q&&(v.Suo(Q,pe,5),v.Suo(Q,y.ey,5),v.Suo(Q,y.K7,5)),2&q){let ne;v.iGM(ne=v.CRH())&&($.customTrigger=ne.first),v.iGM(ne=v.CRH())&&($.options=ne),v.iGM(ne=v.CRH())&&($.optionGroups=ne)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(q,$){1&q&&v.NdJ("keydown",function(ne){return $._handleKeydown(ne)})("focus",function(){return $._onFocus()})("blur",function(){return $._onBlur()}),2&q&&(v.uIk("id",$.id)("tabindex",$.tabIndex)("aria-controls",$.panelOpen?$.id+"-panel":null)("aria-expanded",$.panelOpen)("aria-label",$.ariaLabel||null)("aria-required",$.required.toString())("aria-disabled",$.disabled.toString())("aria-invalid",$.errorState)("aria-activedescendant",$._getAriaActiveDescendant()),v.ekj("mat-mdc-select-disabled",$.disabled)("mat-mdc-select-invalid",$.errorState)("mat-mdc-select-required",$.required)("mat-mdc-select-empty",$.empty)("mat-mdc-select-multiple",$.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[v._Bn([{provide:m.Eo,useExisting:ee},{provide:y.HF,useExisting:ee}]),v.qOj],ngContentSelectors:De,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(q,$){if(1&q&&(v.F$t(G),v.TgZ(0,"div",0,1),v.NdJ("click",function(){return $.toggle()}),v.TgZ(3,"div",2),v.YNc(4,oe,2,1,"span",3),v.YNc(5,Y,3,2,"span",4),v.qZA(),v.TgZ(6,"div",5)(7,"div",6),v.O4$(),v.TgZ(8,"svg",7),v._UZ(9,"path",8),v.qZA()()()(),v.YNc(10,ae,3,9,"ng-template",9),v.NdJ("backdropClick",function(){return $.close()})("attach",function(){return $._onAttached()})("detach",function(){return $.close()})),2&q){const Q=v.MAs(1);v.xp6(3),v.Q6J("ngSwitch",$.empty),v.uIk("id",$._valueId),v.xp6(1),v.Q6J("ngSwitchCase",!0),v.xp6(1),v.Q6J("ngSwitchCase",!1),v.xp6(5),v.Q6J("cdkConnectedOverlayPanelClass",$._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",$._scrollStrategy)("cdkConnectedOverlayOrigin",$._preferredOverlayOrigin||Q)("cdkConnectedOverlayOpen",$.panelOpen)("cdkConnectedOverlayPositions",$._positions)("cdkConnectedOverlayWidth",$._overlayWidth)}},dependencies:[t.mk,t.RF,t.n9,t.ED,e.pI,e.xu],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[ce.transformPanel]},changeDetection:0})}return ee})(),Ne=(()=>{class ee{static#e=this.\u0275fac=function(q){return new(q||ee)};static#t=this.\u0275mod=v.oAB({type:ee});static#n=this.\u0275inj=v.cJS({providers:[Me],imports:[t.ez,e.U8,y.Ng,y.BQ,P.ZD,m.lN,y.Ng,y.BQ]})}return ee})()},2939:(Wn,Je,g)=>{"use strict";g.d(Je,{OX:()=>O,ZX:()=>Y,qD:()=>S,u_:()=>I,ux:()=>ce});var e=g(5879),t=g(8645),v=g(6814),y=g(2296),m=g(6825),P=g(8484),D=g(2831),f=g(8180),i=g(9773),c=g(4300),d=g(1088),h=g(3651),p=g(3680);function C(Te,be){if(1&Te){const Oe=e.EpF();e.TgZ(0,"div",2)(1,"button",3),e.NdJ("click",function(){e.CHM(Oe);const ye=e.oxw();return e.KtG(ye.action())}),e._uU(2),e.qZA()()}if(2&Te){const Oe=e.oxw();e.xp6(2),e.hij(" ",Oe.data.action," ")}}const A=["label"];function x(Te,be){}const R=Math.pow(2,31)-1;class O{constructor(be,Oe){this._overlayRef=Oe,this._afterDismissed=new t.x,this._afterOpened=new t.x,this._onAction=new t.x,this._dismissedByAction=!1,this.containerInstance=be,be._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(be){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(be,R))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const S=new e.OlP("MatSnackBarData");class I{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let E=(()=>{class Te{static#e=this.\u0275fac=function(ie){return new(ie||Te)};static#t=this.\u0275dir=e.lG2({type:Te,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return Te})(),L=(()=>{class Te{static#e=this.\u0275fac=function(ie){return new(ie||Te)};static#t=this.\u0275dir=e.lG2({type:Te,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return Te})(),b=(()=>{class Te{static#e=this.\u0275fac=function(ie){return new(ie||Te)};static#t=this.\u0275dir=e.lG2({type:Te,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return Te})(),B=(()=>{class Te{constructor(Oe,ie){this.snackBarRef=Oe,this.data=ie}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(ie){return new(ie||Te)(e.Y36(O),e.Y36(S))};static#t=this.\u0275cmp=e.Xpm({type:Te,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(ie,ye){1&ie&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.YNc(2,C,3,1,"div",1)),2&ie&&(e.xp6(1),e.hij(" ",ye.data.message,"\n"),e.xp6(1),e.Q6J("ngIf",ye.hasAction))},dependencies:[v.O5,y.lW,E,L,b],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return Te})();const Z={snackBarState:(0,m.X$)("state",[(0,m.SB)("void, hidden",(0,m.oB)({transform:"scale(0.8)",opacity:0})),(0,m.SB)("visible",(0,m.oB)({transform:"scale(1)",opacity:1})),(0,m.eR)("* => visible",(0,m.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,m.eR)("* => void, * => hidden",(0,m.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,m.oB)({opacity:0})))])};let oe=0,le=(()=>{class Te extends P.en{constructor(Oe,ie,ye,Ce,de){super(),this._ngZone=Oe,this._elementRef=ie,this._changeDetectorRef=ye,this._platform=Ce,this.snackBarConfig=de,this._document=(0,e.f3M)(v.K0),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new t.x,this._onExit=new t.x,this._onEnter=new t.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+oe++,this.attachDomPortal=Me=>{this._assertNotAttached();const pe=this._portalOutlet.attachDomPortal(Me);return this._afterPortalAttached(),pe},this._live="assertive"!==de.politeness||de.announcementMessage?"off"===de.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(Oe){this._assertNotAttached();const ie=this._portalOutlet.attachComponentPortal(Oe);return this._afterPortalAttached(),ie}attachTemplatePortal(Oe){this._assertNotAttached();const ie=this._portalOutlet.attachTemplatePortal(Oe);return this._afterPortalAttached(),ie}onAnimationEnd(Oe){const{fromState:ie,toState:ye}=Oe;if(("void"===ye&&"void"!==ie||"hidden"===ye)&&this._completeExit(),"visible"===ye){const Ce=this._onEnter;this._ngZone.run(()=>{Ce.next(),Ce.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,f.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const Oe=this._elementRef.nativeElement,ie=this.snackBarConfig.panelClass;ie&&(Array.isArray(ie)?ie.forEach(ye=>Oe.classList.add(ye)):Oe.classList.add(ie)),this._exposeToModals()}_exposeToModals(){const Oe=this._liveElementId,ie=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let ye=0;ye<ie.length;ye++){const Ce=ie[ye],de=Ce.getAttribute("aria-owns");this._trackedModals.add(Ce),de?-1===de.indexOf(Oe)&&Ce.setAttribute("aria-owns",de+" "+Oe):Ce.setAttribute("aria-owns",Oe)}}_clearFromModals(){this._trackedModals.forEach(Oe=>{const ie=Oe.getAttribute("aria-owns");if(ie){const ye=ie.replace(this._liveElementId,"").trim();ye.length>0?Oe.setAttribute("aria-owns",ye):Oe.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const Oe=this._elementRef.nativeElement.querySelector("[aria-hidden]"),ie=this._elementRef.nativeElement.querySelector("[aria-live]");if(Oe&&ie){let ye=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&Oe.contains(document.activeElement)&&(ye=document.activeElement),Oe.removeAttribute("aria-hidden"),ie.appendChild(Oe),ye?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(ie){return new(ie||Te)(e.Y36(e.R0b),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(D.t4),e.Y36(I))};static#t=this.\u0275dir=e.lG2({type:Te,viewQuery:function(ie,ye){if(1&ie&&e.Gf(P.Pl,7),2&ie){let Ce;e.iGM(Ce=e.CRH())&&(ye._portalOutlet=Ce.first)}},features:[e.qOj]})}return Te})(),Re=(()=>{class Te extends le{_afterPortalAttached(){super._afterPortalAttached();const Oe=this._label.nativeElement,ie="mdc-snackbar__label";Oe.classList.toggle(ie,!Oe.querySelector(`.${ie}`))}static#e=this.\u0275fac=function(){let Oe;return function(ye){return(Oe||(Oe=e.n5z(Te)))(ye||Te)}}();static#t=this.\u0275cmp=e.Xpm({type:Te,selectors:[["mat-snack-bar-container"]],viewQuery:function(ie,ye){if(1&ie&&e.Gf(A,7),2&ie){let Ce;e.iGM(Ce=e.CRH())&&(ye._label=Ce.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(ie,ye){1&ie&&e.WFA("@state.done",function(de){return ye.onAnimationEnd(de)}),2&ie&&e.d8E("@state",ye._animationState)},features:[e.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(ie,ye){1&ie&&(e.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),e.YNc(4,x,0,0,"ng-template",4),e.qZA(),e._UZ(5,"div"),e.qZA()()),2&ie&&(e.xp6(5),e.uIk("aria-live",ye._live)("role",ye._role)("id",ye._liveElementId))},dependencies:[P.Pl],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Z.snackBarState]}})}return Te})(),Y=(()=>{class Te{static#e=this.\u0275fac=function(ie){return new(ie||Te)};static#t=this.\u0275mod=e.oAB({type:Te});static#n=this.\u0275inj=e.cJS({imports:[h.U8,P.eL,v.ez,y.ot,p.BQ,p.BQ]})}return Te})();const G=new e.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function ae(){return new I}});let De=(()=>{class Te{get _openedSnackBarRef(){const Oe=this._parentSnackBar;return Oe?Oe._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(Oe){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=Oe:this._snackBarRefAtThisLevel=Oe}constructor(Oe,ie,ye,Ce,de,Me){this._overlay=Oe,this._live=ie,this._injector=ye,this._breakpointObserver=Ce,this._parentSnackBar=de,this._defaultConfig=Me,this._snackBarRefAtThisLevel=null}openFromComponent(Oe,ie){return this._attach(Oe,ie)}openFromTemplate(Oe,ie){return this._attach(Oe,ie)}open(Oe,ie="",ye){const Ce={...this._defaultConfig,...ye};return Ce.data={message:Oe,action:ie},Ce.announcementMessage===Oe&&(Ce.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,Ce)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(Oe,ie){const Ce=e.zs3.create({parent:ie&&ie.viewContainerRef&&ie.viewContainerRef.injector||this._injector,providers:[{provide:I,useValue:ie}]}),de=new P.C5(this.snackBarContainerComponent,ie.viewContainerRef,Ce),Me=Oe.attach(de);return Me.instance.snackBarConfig=ie,Me.instance}_attach(Oe,ie){const ye={...new I,...this._defaultConfig,...ie},Ce=this._createOverlay(ye),de=this._attachSnackBarContainer(Ce,ye),Me=new O(de,Ce);if(Oe instanceof e.Rgc){const pe=new P.UE(Oe,null,{$implicit:ye.data,snackBarRef:Me});Me.instance=de.attachTemplatePortal(pe)}else{const pe=this._createInjector(ye,Me),Ie=new P.C5(Oe,void 0,pe),Be=de.attachComponentPortal(Ie);Me.instance=Be.instance}return this._breakpointObserver.observe(d.u3.HandsetPortrait).pipe((0,i.R)(Ce.detachments())).subscribe(pe=>{Ce.overlayElement.classList.toggle(this.handsetCssClass,pe.matches)}),ye.announcementMessage&&de._onAnnounce.subscribe(()=>{this._live.announce(ye.announcementMessage,ye.politeness)}),this._animateSnackBar(Me,ye),this._openedSnackBarRef=Me,this._openedSnackBarRef}_animateSnackBar(Oe,ie){Oe.afterDismissed().subscribe(()=>{this._openedSnackBarRef==Oe&&(this._openedSnackBarRef=null),ie.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{Oe.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):Oe.containerInstance.enter(),ie.duration&&ie.duration>0&&Oe.afterOpened().subscribe(()=>Oe._dismissAfter(ie.duration))}_createOverlay(Oe){const ie=new h.X_;ie.direction=Oe.direction;let ye=this._overlay.position().global();const Ce="rtl"===Oe.direction,de="left"===Oe.horizontalPosition||"start"===Oe.horizontalPosition&&!Ce||"end"===Oe.horizontalPosition&&Ce,Me=!de&&"center"!==Oe.horizontalPosition;return de?ye.left("0"):Me?ye.right("0"):ye.centerHorizontally(),"top"===Oe.verticalPosition?ye.top("0"):ye.bottom("0"),ie.positionStrategy=ye,this._overlay.create(ie)}_createInjector(Oe,ie){return e.zs3.create({parent:Oe&&Oe.viewContainerRef&&Oe.viewContainerRef.injector||this._injector,providers:[{provide:O,useValue:ie},{provide:S,useValue:Oe.data}]})}static#e=this.\u0275fac=function(ie){return new(ie||Te)(e.LFG(h.aV),e.LFG(c.Kd),e.LFG(e.zs3),e.LFG(d.Yg),e.LFG(Te,12),e.LFG(G))};static#t=this.\u0275prov=e.Yz7({token:Te,factory:Te.\u0275fac})}return Te})(),ce=(()=>{class Te extends De{constructor(Oe,ie,ye,Ce,de,Me){super(Oe,ie,ye,Ce,de,Me),this.simpleSnackBarComponent=B,this.snackBarContainerComponent=Re,this.handsetCssClass="mat-mdc-snack-bar-handset"}static#e=this.\u0275fac=function(ie){return new(ie||Te)(e.LFG(h.aV),e.LFG(c.Kd),e.LFG(e.zs3),e.LFG(d.Yg),e.LFG(Te,12),e.LFG(G))};static#t=this.\u0275prov=e.Yz7({token:Te,factory:Te.\u0275fac,providedIn:Y})}return Te})()},3566:(Wn,Je,g)=>{"use strict";g.d(Je,{JX:()=>Re,YE:()=>S,nU:()=>le});var e=g(5879),t=g(4300),v=g(2495),y=g(6028),m=g(3680),P=g(8645),D=g(3019),f=g(6825),i=g(6814);const c=["mat-sort-header",""];function d(Y,ae){if(1&Y){const G=e.EpF();e.TgZ(0,"div",3),e.NdJ("@arrowPosition.start",function(){e.CHM(G);const ce=e.oxw();return e.KtG(ce._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){e.CHM(G);const ce=e.oxw();return e.KtG(ce._disableViewStateAnimation=!1)}),e._UZ(1,"div",4),e.TgZ(2,"div",5),e._UZ(3,"div",6)(4,"div",7)(5,"div",8),e.qZA()()}if(2&Y){const G=e.oxw();e.Q6J("@arrowOpacity",G._getArrowViewState())("@arrowPosition",G._getArrowViewState())("@allowChildren",G._getArrowDirectionState()),e.xp6(2),e.Q6J("@indicator",G._getArrowDirectionState()),e.xp6(1),e.Q6J("@leftPointer",G._getArrowDirectionState()),e.xp6(1),e.Q6J("@rightPointer",G._getArrowDirectionState())}}const h=["*"],R=new e.OlP("MAT_SORT_DEFAULT_OPTIONS"),O=(0,m.dB)((0,m.Id)(class{}));let S=(()=>{class Y extends O{get direction(){return this._direction}set direction(G){this._direction=G}get disableClear(){return this._disableClear}set disableClear(G){this._disableClear=(0,v.Ig)(G)}constructor(G){super(),this._defaultOptions=G,this.sortables=new Map,this._stateChanges=new P.x,this.start="asc",this._direction="",this.sortChange=new e.vpe}register(G){this.sortables.set(G.id,G)}deregister(G){this.sortables.delete(G.id)}sort(G){this.active!=G.id?(this.active=G.id,this.direction=G.start?G.start:this.start):this.direction=this.getNextSortDirection(G),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(G){if(!G)return"";let ce=function I(Y,ae){let G=["asc","desc"];return"desc"==Y&&G.reverse(),ae||G.push(""),G}(G.start||this.start,G?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),Te=ce.indexOf(this.direction)+1;return Te>=ce.length&&(Te=0),ce[Te]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}static#e=this.\u0275fac=function(De){return new(De||Y)(e.Y36(R,8))};static#t=this.\u0275dir=e.lG2({type:Y,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[e.qOj,e.TTD]})}return Y})();const E=m.mZ.ENTERING+" "+m.yN.STANDARD_CURVE,L={indicator:(0,f.X$)("indicator",[(0,f.SB)("active-asc, asc",(0,f.oB)({transform:"translateY(0px)"})),(0,f.SB)("active-desc, desc",(0,f.oB)({transform:"translateY(10px)"})),(0,f.eR)("active-asc <=> active-desc",(0,f.jt)(E))]),leftPointer:(0,f.X$)("leftPointer",[(0,f.SB)("active-asc, asc",(0,f.oB)({transform:"rotate(-45deg)"})),(0,f.SB)("active-desc, desc",(0,f.oB)({transform:"rotate(45deg)"})),(0,f.eR)("active-asc <=> active-desc",(0,f.jt)(E))]),rightPointer:(0,f.X$)("rightPointer",[(0,f.SB)("active-asc, asc",(0,f.oB)({transform:"rotate(45deg)"})),(0,f.SB)("active-desc, desc",(0,f.oB)({transform:"rotate(-45deg)"})),(0,f.eR)("active-asc <=> active-desc",(0,f.jt)(E))]),arrowOpacity:(0,f.X$)("arrowOpacity",[(0,f.SB)("desc-to-active, asc-to-active, active",(0,f.oB)({opacity:1})),(0,f.SB)("desc-to-hint, asc-to-hint, hint",(0,f.oB)({opacity:.54})),(0,f.SB)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,f.oB)({opacity:0})),(0,f.eR)("* => asc, * => desc, * => active, * => hint, * => void",(0,f.jt)("0ms")),(0,f.eR)("* <=> *",(0,f.jt)(E))]),arrowPosition:(0,f.X$)("arrowPosition",[(0,f.eR)("* => desc-to-hint, * => desc-to-active",(0,f.jt)(E,(0,f.F4)([(0,f.oB)({transform:"translateY(-25%)"}),(0,f.oB)({transform:"translateY(0)"})]))),(0,f.eR)("* => hint-to-desc, * => active-to-desc",(0,f.jt)(E,(0,f.F4)([(0,f.oB)({transform:"translateY(0)"}),(0,f.oB)({transform:"translateY(25%)"})]))),(0,f.eR)("* => asc-to-hint, * => asc-to-active",(0,f.jt)(E,(0,f.F4)([(0,f.oB)({transform:"translateY(25%)"}),(0,f.oB)({transform:"translateY(0)"})]))),(0,f.eR)("* => hint-to-asc, * => active-to-asc",(0,f.jt)(E,(0,f.F4)([(0,f.oB)({transform:"translateY(0)"}),(0,f.oB)({transform:"translateY(-25%)"})]))),(0,f.SB)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,f.oB)({transform:"translateY(0)"})),(0,f.SB)("hint-to-desc, active-to-desc, desc",(0,f.oB)({transform:"translateY(-25%)"})),(0,f.SB)("hint-to-asc, active-to-asc, asc",(0,f.oB)({transform:"translateY(25%)"}))]),allowChildren:(0,f.X$)("allowChildren",[(0,f.eR)("* <=> *",[(0,f.IO)("@*",(0,f.pV)(),{optional:!0})])])};let b=(()=>{class Y{constructor(){this.changes=new P.x}static#e=this.\u0275fac=function(De){return new(De||Y)};static#t=this.\u0275prov=e.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})();const Z={provide:b,deps:[[new e.FiY,new e.tp0,b]],useFactory:function B(Y){return Y||new b}},oe=(0,m.Id)(class{});let le=(()=>{class Y extends oe{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(G){this._updateSortActionDescription(G)}get disableClear(){return this._disableClear}set disableClear(G){this._disableClear=(0,v.Ig)(G)}constructor(G,De,ce,Te,be,Oe,ie,ye){super(),this._intl=G,this._changeDetectorRef=De,this._sort=ce,this._columnDef=Te,this._focusMonitor=be,this._elementRef=Oe,this._ariaDescriber=ie,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",ye?.arrowPosition&&(this.arrowPosition=ye?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(G=>{const De=!!G;De!==this._showIndicatorHint&&(this._setIndicatorHintVisible(De),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(G){this._isDisabled()&&G||(this._showIndicatorHint=G,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(G){this._viewState=G||{},this._disableViewStateAnimation&&(this._viewState={toState:G.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(G){!this._isDisabled()&&(G.keyCode===y.L_||G.keyCode===y.K5)&&(G.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const G=this._viewState.fromState;return(G?`${G}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(G){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,G)),this._sortActionDescription=G}_handleStateChanges(){this._rerenderSubscription=(0,D.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(De){return new(De||Y)(e.Y36(b),e.Y36(e.sBO),e.Y36(S,8),e.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),e.Y36(t.tE),e.Y36(e.SBq),e.Y36(t.$s,8),e.Y36(R,8))};static#t=this.\u0275cmp=e.Xpm({type:Y,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(De,ce){1&De&&e.NdJ("click",function(){return ce._handleClick()})("keydown",function(be){return ce._handleKeydown(be)})("mouseenter",function(){return ce._setIndicatorHintVisible(!0)})("mouseleave",function(){return ce._setIndicatorHintVisible(!1)}),2&De&&(e.uIk("aria-sort",ce._getAriaSortAttribute()),e.ekj("mat-sort-header-disabled",ce._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[e.qOj],attrs:c,ngContentSelectors:h,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(De,ce){1&De&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.Hsn(2),e.qZA(),e.YNc(3,d,6,6,"div",2),e.qZA()),2&De&&(e.ekj("mat-sort-header-sorted",ce._isSorted())("mat-sort-header-position-before","before"===ce.arrowPosition),e.uIk("tabindex",ce._isDisabled()?null:0)("role",ce._isDisabled()?null:"button"),e.xp6(3),e.Q6J("ngIf",ce._renderArrow()))},dependencies:[i.O5],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[L.indicator,L.leftPointer,L.rightPointer,L.arrowOpacity,L.arrowPosition,L.allowChildren]},changeDetection:0})}return Y})(),Re=(()=>{class Y{static#e=this.\u0275fac=function(De){return new(De||Y)};static#t=this.\u0275mod=e.oAB({type:Y});static#n=this.\u0275inj=e.cJS({providers:[Z],imports:[i.ez,m.BQ]})}return Y})()},5313:(Wn,Je,g)=>{"use strict";g.d(Je,{ev:()=>on,Dz:()=>Ze,w1:()=>St,ge:()=>bt,fO:()=>st,XQ:()=>wn,as:()=>En,Ee:()=>ti,Gk:()=>$n,nj:()=>Mn,BZ:()=>He,by:()=>Mt,p0:()=>yn});var e=g(5879),t=g(9388),v=g(2495),y=g(8337),m=g(2831),P=g(799),D=g(6814),f=g(8645),i=g(2459),c=g(5619),d=g(2664),h=g(2096),p=g(9773),C=g(8180);const A=[[["caption"]],[["colgroup"],["col"]]],x=["caption","colgroup, col"];function S(ht){return class extends ht{get sticky(){return this._sticky}set sticky(Tn){const et=this._sticky;this._sticky=(0,v.Ig)(Tn),this._hasStickyChanged=et!==this._sticky}hasStickyChanged(){const Tn=this._hasStickyChanged;return this._hasStickyChanged=!1,Tn}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...Tn){super(...Tn),this._sticky=!1,this._hasStickyChanged=!1}}}const I=new e.OlP("CDK_TABLE");let L=(()=>{class ht{constructor(et){this.template=et}static#e=this.\u0275fac=function(Dt){return new(Dt||ht)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","cdkCellDef",""]]})}return ht})(),b=(()=>{class ht{constructor(et){this.template=et}static#e=this.\u0275fac=function(Dt){return new(Dt||ht)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","cdkHeaderCellDef",""]]})}return ht})(),B=(()=>{class ht{constructor(et){this.template=et}static#e=this.\u0275fac=function(Dt){return new(Dt||ht)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","cdkFooterCellDef",""]]})}return ht})();class Z{}const oe=S(Z);let le=(()=>{class ht extends oe{get name(){return this._name}set name(et){this._setNameInput(et)}get stickyEnd(){return this._stickyEnd}set stickyEnd(et){const Dt=this._stickyEnd;this._stickyEnd=(0,v.Ig)(et),this._hasStickyChanged=Dt!==this._stickyEnd}constructor(et){super(),this._table=et,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(et){et&&(this._name=et,this.cssClassFriendlyName=et.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(Dt){return new(Dt||ht)(e.Y36(I,8))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","cdkColumnDef",""]],contentQueries:function(Dt,Qt,Nt){if(1&Dt&&(e.Suo(Nt,L,5),e.Suo(Nt,b,5),e.Suo(Nt,B,5)),2&Dt){let xn;e.iGM(xn=e.CRH())&&(Qt.cell=xn.first),e.iGM(xn=e.CRH())&&(Qt.headerCell=xn.first),e.iGM(xn=e.CRH())&&(Qt.footerCell=xn.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[e._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:ht}]),e.qOj]})}return ht})();class Re{constructor(Tn,et){et.nativeElement.classList.add(...Tn._columnCssClassName)}}let Y=(()=>{class ht extends Re{constructor(et,Dt){super(et,Dt)}static#e=this.\u0275fac=function(Dt){return new(Dt||ht)(e.Y36(le),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[e.qOj]})}return ht})(),G=(()=>{class ht extends Re{constructor(et,Dt){if(super(et,Dt),1===et._table?._elementRef.nativeElement.nodeType){const Qt=et._table._elementRef.nativeElement.getAttribute("role");Dt.nativeElement.setAttribute("role","grid"===Qt||"treegrid"===Qt?"gridcell":"cell")}}static#e=this.\u0275fac=function(Dt){return new(Dt||ht)(e.Y36(le),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[e.qOj]})}return ht})();class De{constructor(){this.tasks=[],this.endTasks=[]}}const ce=new e.OlP("_COALESCED_STYLE_SCHEDULER");let Te=(()=>{class ht{constructor(et){this._ngZone=et,this._currentSchedule=null,this._destroyed=new f.x}schedule(et){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(et)}scheduleEnd(et){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(et)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new De,this._getScheduleObservable().pipe((0,p.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const et=this._currentSchedule;this._currentSchedule=new De;for(const Dt of et.tasks)Dt();for(const Dt of et.endTasks)Dt()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,i.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,C.q)(1))}static#e=this.\u0275fac=function(Dt){return new(Dt||ht)(e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:ht,factory:ht.\u0275fac})}return ht})(),Oe=(()=>{class ht{constructor(et,Dt){this.template=et,this._differs=Dt}ngOnChanges(et){if(!this._columnsDiffer){const Dt=et.columns&&et.columns.currentValue||[];this._columnsDiffer=this._differs.find(Dt).create(),this._columnsDiffer.diff(Dt)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(et){return this instanceof Ce?et.headerCell.template:this instanceof pe?et.footerCell.template:et.cell.template}static#e=this.\u0275fac=function(Dt){return new(Dt||ht)(e.Y36(e.Rgc),e.Y36(e.ZZ4))};static#t=this.\u0275dir=e.lG2({type:ht,features:[e.TTD]})}return ht})();class ie extends Oe{}const ye=S(ie);let Ce=(()=>{class ht extends ye{constructor(et,Dt,Qt){super(et,Dt),this._table=Qt}ngOnChanges(et){super.ngOnChanges(et)}static#e=this.\u0275fac=function(Dt){return new(Dt||ht)(e.Y36(e.Rgc),e.Y36(e.ZZ4),e.Y36(I,8))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[e.qOj,e.TTD]})}return ht})();class de extends Oe{}const Me=S(de);let pe=(()=>{class ht extends Me{constructor(et,Dt,Qt){super(et,Dt),this._table=Qt}ngOnChanges(et){super.ngOnChanges(et)}static#e=this.\u0275fac=function(Dt){return new(Dt||ht)(e.Y36(e.Rgc),e.Y36(e.ZZ4),e.Y36(I,8))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[e.qOj,e.TTD]})}return ht})(),Ie=(()=>{class ht extends Oe{constructor(et,Dt,Qt){super(et,Dt),this._table=Qt}static#e=this.\u0275fac=function(Dt){return new(Dt||ht)(e.Y36(e.Rgc),e.Y36(e.ZZ4),e.Y36(I,8))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[e.qOj]})}return ht})(),Be=(()=>{class ht{static#e=this.mostRecentCellOutlet=null;constructor(et){this._viewContainer=et,ht.mostRecentCellOutlet=this}ngOnDestroy(){ht.mostRecentCellOutlet===this&&(ht.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(Dt){return new(Dt||ht)(e.Y36(e.s_b))};static#n=this.\u0275dir=e.lG2({type:ht,selectors:[["","cdkCellOutlet",""]]})}return ht})(),at=(()=>{class ht{static#e=this.\u0275fac=function(Dt){return new(Dt||ht)};static#t=this.\u0275cmp=e.Xpm({type:ht,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Dt,Qt){1&Dt&&e.GkF(0,0)},dependencies:[Be],encapsulation:2})}return ht})(),je=(()=>{class ht{static#e=this.\u0275fac=function(Dt){return new(Dt||ht)};static#t=this.\u0275cmp=e.Xpm({type:ht,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Dt,Qt){1&Dt&&e.GkF(0,0)},dependencies:[Be],encapsulation:2})}return ht})(),Ne=(()=>{class ht{constructor(et){this.templateRef=et,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(Dt){return new(Dt||ht)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["ng-template","cdkNoDataRow",""]]})}return ht})();const ee=["top","bottom","left","right"];class fe{constructor(Tn,et,Dt,Qt,Nt=!0,xn=!0,kt){this._isNativeHtmlTable=Tn,this._stickCellCss=et,this.direction=Dt,this._coalescedStyleScheduler=Qt,this._isBrowser=Nt,this._needsPositionStickyOnElement=xn,this._positionListener=kt,this._cachedCellWidths=[],this._borderCellCss={top:`${et}-border-elem-top`,bottom:`${et}-border-elem-bottom`,left:`${et}-border-elem-left`,right:`${et}-border-elem-right`}}clearStickyPositioning(Tn,et){const Dt=[];for(const Qt of Tn)if(Qt.nodeType===Qt.ELEMENT_NODE){Dt.push(Qt);for(let Nt=0;Nt<Qt.children.length;Nt++)Dt.push(Qt.children[Nt])}this._coalescedStyleScheduler.schedule(()=>{for(const Qt of Dt)this._removeStickyStyle(Qt,et)})}updateStickyColumns(Tn,et,Dt,Qt=!0){if(!Tn.length||!this._isBrowser||!et.some(Vn=>Vn)&&!Dt.some(Vn=>Vn))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const Nt=Tn[0],xn=Nt.children.length,kt=this._getCellWidths(Nt,Qt),wt=this._getStickyStartColumnPositions(kt,et),Pt=this._getStickyEndColumnPositions(kt,Dt),en=et.lastIndexOf(!0),An=Dt.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const Vn="rtl"===this.direction,ii=Vn?"right":"left",Ft=Vn?"left":"right";for(const Pn of Tn)for(let Le=0;Le<xn;Le++){const Bt=Pn.children[Le];et[Le]&&this._addStickyStyle(Bt,ii,wt[Le],Le===en),Dt[Le]&&this._addStickyStyle(Bt,Ft,Pt[Le],Le===An)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===en?[]:kt.slice(0,en+1).map((Pn,Le)=>et[Le]?Pn:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===An?[]:kt.slice(An).map((Pn,Le)=>Dt[Le+An]?Pn:null).reverse()}))})}stickRows(Tn,et,Dt){if(!this._isBrowser)return;const Qt="bottom"===Dt?Tn.slice().reverse():Tn,Nt="bottom"===Dt?et.slice().reverse():et,xn=[],kt=[],wt=[];for(let en=0,An=0;en<Qt.length;en++){if(!Nt[en])continue;xn[en]=An;const Vn=Qt[en];wt[en]=this._isNativeHtmlTable?Array.from(Vn.children):[Vn];const ii=Vn.getBoundingClientRect().height;An+=ii,kt[en]=ii}const Pt=Nt.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let en=0;en<Qt.length;en++){if(!Nt[en])continue;const An=xn[en],Vn=en===Pt;for(const ii of wt[en])this._addStickyStyle(ii,Dt,An,Vn)}"top"===Dt?this._positionListener?.stickyHeaderRowsUpdated({sizes:kt,offsets:xn,elements:wt}):this._positionListener?.stickyFooterRowsUpdated({sizes:kt,offsets:xn,elements:wt})})}updateStickyFooterContainer(Tn,et){if(!this._isNativeHtmlTable)return;const Dt=Tn.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{et.some(Qt=>!Qt)?this._removeStickyStyle(Dt,["bottom"]):this._addStickyStyle(Dt,"bottom",0,!1)})}_removeStickyStyle(Tn,et){for(const Qt of et)Tn.style[Qt]="",Tn.classList.remove(this._borderCellCss[Qt]);ee.some(Qt=>-1===et.indexOf(Qt)&&Tn.style[Qt])?Tn.style.zIndex=this._getCalculatedZIndex(Tn):(Tn.style.zIndex="",this._needsPositionStickyOnElement&&(Tn.style.position=""),Tn.classList.remove(this._stickCellCss))}_addStickyStyle(Tn,et,Dt,Qt){Tn.classList.add(this._stickCellCss),Qt&&Tn.classList.add(this._borderCellCss[et]),Tn.style[et]=`${Dt}px`,Tn.style.zIndex=this._getCalculatedZIndex(Tn),this._needsPositionStickyOnElement&&(Tn.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(Tn){const et={top:100,bottom:10,left:1,right:1};let Dt=0;for(const Qt of ee)Tn.style[Qt]&&(Dt+=et[Qt]);return Dt?`${Dt}`:""}_getCellWidths(Tn,et=!0){if(!et&&this._cachedCellWidths.length)return this._cachedCellWidths;const Dt=[],Qt=Tn.children;for(let Nt=0;Nt<Qt.length;Nt++)Dt.push(Qt[Nt].getBoundingClientRect().width);return this._cachedCellWidths=Dt,Dt}_getStickyStartColumnPositions(Tn,et){const Dt=[];let Qt=0;for(let Nt=0;Nt<Tn.length;Nt++)et[Nt]&&(Dt[Nt]=Qt,Qt+=Tn[Nt]);return Dt}_getStickyEndColumnPositions(Tn,et){const Dt=[];let Qt=0;for(let Nt=Tn.length;Nt>0;Nt--)et[Nt]&&(Dt[Nt]=Qt,Qt+=Tn[Nt]);return Dt}}const ge=new e.OlP("CDK_SPL");let Ee=(()=>{class ht{constructor(et,Dt){this.viewContainer=et,this.elementRef=Dt}static#e=this.\u0275fac=function(Dt){return new(Dt||ht)(e.Y36(e.s_b),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","rowOutlet",""]]})}return ht})(),Fe=(()=>{class ht{constructor(et,Dt){this.viewContainer=et,this.elementRef=Dt}static#e=this.\u0275fac=function(Dt){return new(Dt||ht)(e.Y36(e.s_b),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","headerRowOutlet",""]]})}return ht})(),ct=(()=>{class ht{constructor(et,Dt){this.viewContainer=et,this.elementRef=Dt}static#e=this.\u0275fac=function(Dt){return new(Dt||ht)(e.Y36(e.s_b),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","footerRowOutlet",""]]})}return ht})(),qe=(()=>{class ht{constructor(et,Dt){this.viewContainer=et,this.elementRef=Dt}static#e=this.\u0275fac=function(Dt){return new(Dt||ht)(e.Y36(e.s_b),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","noDataRowOutlet",""]]})}return ht})(),Qe=(()=>{class ht{get trackBy(){return this._trackByFn}set trackBy(et){this._trackByFn=et}get dataSource(){return this._dataSource}set dataSource(et){this._dataSource!==et&&this._switchDataSource(et)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(et){this._multiTemplateDataRows=(0,v.Ig)(et),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(et){this._fixedLayout=(0,v.Ig)(et),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(et,Dt,Qt,Nt,xn,kt,wt,Pt,en,An,Vn,ii){this._differs=et,this._changeDetectorRef=Dt,this._elementRef=Qt,this._dir=xn,this._platform=wt,this._viewRepeater=Pt,this._coalescedStyleScheduler=en,this._viewportRuler=An,this._stickyPositioningListener=Vn,this._ngZone=ii,this._onDestroy=new f.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new e.vpe,this.viewChange=new c.X({start:0,end:Number.MAX_VALUE}),Nt||this._elementRef.nativeElement.setAttribute("role","table"),this._document=kt,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((et,Dt)=>this.trackBy?this.trackBy(Dt.dataIndex,Dt.data):Dt),this._viewportRuler.change().pipe((0,p.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const Dt=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||Dt,this._forceRecalculateCellWidths=Dt,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(et=>{et.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,y.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const et=this._dataDiffer.diff(this._renderRows);if(!et)return this._updateNoDataRow(),void this.contentChanged.next();const Dt=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(et,Dt,(Qt,Nt,xn)=>this._getEmbeddedViewArgs(Qt.item,xn),Qt=>Qt.item.data,Qt=>{1===Qt.operation&&Qt.context&&this._renderCellTemplateForItem(Qt.record.item.rowDef,Qt.context)}),this._updateRowIndexContext(),et.forEachIdentityChange(Qt=>{Dt.get(Qt.currentIndex).context.$implicit=Qt.item.data}),this._updateNoDataRow(),this._ngZone&&e.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,C.q)(1),(0,p.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(et){this._customColumnDefs.add(et)}removeColumnDef(et){this._customColumnDefs.delete(et)}addRowDef(et){this._customRowDefs.add(et)}removeRowDef(et){this._customRowDefs.delete(et)}addHeaderRowDef(et){this._customHeaderRowDefs.add(et),this._headerRowDefChanged=!0}removeHeaderRowDef(et){this._customHeaderRowDefs.delete(et),this._headerRowDefChanged=!0}addFooterRowDef(et){this._customFooterRowDefs.add(et),this._footerRowDefChanged=!0}removeFooterRowDef(et){this._customFooterRowDefs.delete(et),this._footerRowDefChanged=!0}setNoDataRow(et){this._customNoDataRow=et}updateStickyHeaderRowStyles(){const et=this._getRenderedRows(this._headerRowOutlet),Qt=this._elementRef.nativeElement.querySelector("thead");Qt&&(Qt.style.display=et.length?"":"none");const Nt=this._headerRowDefs.map(xn=>xn.sticky);this._stickyStyler.clearStickyPositioning(et,["top"]),this._stickyStyler.stickRows(et,Nt,"top"),this._headerRowDefs.forEach(xn=>xn.resetStickyChanged())}updateStickyFooterRowStyles(){const et=this._getRenderedRows(this._footerRowOutlet),Qt=this._elementRef.nativeElement.querySelector("tfoot");Qt&&(Qt.style.display=et.length?"":"none");const Nt=this._footerRowDefs.map(xn=>xn.sticky);this._stickyStyler.clearStickyPositioning(et,["bottom"]),this._stickyStyler.stickRows(et,Nt,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,Nt),this._footerRowDefs.forEach(xn=>xn.resetStickyChanged())}updateStickyColumnStyles(){const et=this._getRenderedRows(this._headerRowOutlet),Dt=this._getRenderedRows(this._rowOutlet),Qt=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...et,...Dt,...Qt],["left","right"]),this._stickyColumnStylesNeedReset=!1),et.forEach((Nt,xn)=>{this._addStickyColumnStyles([Nt],this._headerRowDefs[xn])}),this._rowDefs.forEach(Nt=>{const xn=[];for(let kt=0;kt<Dt.length;kt++)this._renderRows[kt].rowDef===Nt&&xn.push(Dt[kt]);this._addStickyColumnStyles(xn,Nt)}),Qt.forEach((Nt,xn)=>{this._addStickyColumnStyles([Nt],this._footerRowDefs[xn])}),Array.from(this._columnDefsByName.values()).forEach(Nt=>Nt.resetStickyChanged())}_getAllRenderRows(){const et=[],Dt=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let Qt=0;Qt<this._data.length;Qt++){let Nt=this._data[Qt];const xn=this._getRenderRowsForData(Nt,Qt,Dt.get(Nt));this._cachedRenderRowsMap.has(Nt)||this._cachedRenderRowsMap.set(Nt,new WeakMap);for(let kt=0;kt<xn.length;kt++){let wt=xn[kt];const Pt=this._cachedRenderRowsMap.get(wt.data);Pt.has(wt.rowDef)?Pt.get(wt.rowDef).push(wt):Pt.set(wt.rowDef,[wt]),et.push(wt)}}return et}_getRenderRowsForData(et,Dt,Qt){return this._getRowDefs(et,Dt).map(xn=>{const kt=Qt&&Qt.has(xn)?Qt.get(xn):[];if(kt.length){const wt=kt.shift();return wt.dataIndex=Dt,wt}return{data:et,rowDef:xn,dataIndex:Dt}})}_cacheColumnDefs(){this._columnDefsByName.clear(),yt(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(Dt=>{this._columnDefsByName.has(Dt.name),this._columnDefsByName.set(Dt.name,Dt)})}_cacheRowDefs(){this._headerRowDefs=yt(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=yt(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=yt(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const et=this._rowDefs.filter(Dt=>!Dt.when);this._defaultRowDef=et[0]}_renderUpdatedColumns(){const et=(xn,kt)=>xn||!!kt.getColumnsDiff(),Dt=this._rowDefs.reduce(et,!1);Dt&&this._forceRenderDataRows();const Qt=this._headerRowDefs.reduce(et,!1);Qt&&this._forceRenderHeaderRows();const Nt=this._footerRowDefs.reduce(et,!1);return Nt&&this._forceRenderFooterRows(),Dt||Qt||Nt}_switchDataSource(et){this._data=[],(0,y.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),et||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=et}_observeRenderChanges(){if(!this.dataSource)return;let et;(0,y.Z9)(this.dataSource)?et=this.dataSource.connect(this):(0,d.b)(this.dataSource)?et=this.dataSource:Array.isArray(this.dataSource)&&(et=(0,h.of)(this.dataSource)),this._renderChangeSubscription=et.pipe((0,p.R)(this._onDestroy)).subscribe(Dt=>{this._data=Dt||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((et,Dt)=>this._renderRow(this._headerRowOutlet,et,Dt)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((et,Dt)=>this._renderRow(this._footerRowOutlet,et,Dt)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(et,Dt){const Qt=Array.from(Dt.columns||[]).map(kt=>this._columnDefsByName.get(kt)),Nt=Qt.map(kt=>kt.sticky),xn=Qt.map(kt=>kt.stickyEnd);this._stickyStyler.updateStickyColumns(et,Nt,xn,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(et){const Dt=[];for(let Qt=0;Qt<et.viewContainer.length;Qt++){const Nt=et.viewContainer.get(Qt);Dt.push(Nt.rootNodes[0])}return Dt}_getRowDefs(et,Dt){if(1==this._rowDefs.length)return[this._rowDefs[0]];let Qt=[];if(this.multiTemplateDataRows)Qt=this._rowDefs.filter(Nt=>!Nt.when||Nt.when(Dt,et));else{let Nt=this._rowDefs.find(xn=>xn.when&&xn.when(Dt,et))||this._defaultRowDef;Nt&&Qt.push(Nt)}return Qt}_getEmbeddedViewArgs(et,Dt){return{templateRef:et.rowDef.template,context:{$implicit:et.data},index:Dt}}_renderRow(et,Dt,Qt,Nt={}){const xn=et.viewContainer.createEmbeddedView(Dt.template,Nt,Qt);return this._renderCellTemplateForItem(Dt,Nt),xn}_renderCellTemplateForItem(et,Dt){for(let Qt of this._getCellTemplates(et))Be.mostRecentCellOutlet&&Be.mostRecentCellOutlet._viewContainer.createEmbeddedView(Qt,Dt);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const et=this._rowOutlet.viewContainer;for(let Dt=0,Qt=et.length;Dt<Qt;Dt++){const xn=et.get(Dt).context;xn.count=Qt,xn.first=0===Dt,xn.last=Dt===Qt-1,xn.even=Dt%2==0,xn.odd=!xn.even,this.multiTemplateDataRows?(xn.dataIndex=this._renderRows[Dt].dataIndex,xn.renderIndex=Dt):xn.index=this._renderRows[Dt].dataIndex}}_getCellTemplates(et){return et&&et.columns?Array.from(et.columns,Dt=>{const Qt=this._columnDefsByName.get(Dt);return et.extractCellTemplate(Qt)}):[]}_applyNativeTableSections(){const et=this._document.createDocumentFragment(),Dt=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const Qt of Dt){const Nt=this._document.createElement(Qt.tag);Nt.setAttribute("role","rowgroup");for(const xn of Qt.outlets)Nt.appendChild(xn.elementRef.nativeElement);et.appendChild(Nt)}this._elementRef.nativeElement.appendChild(et)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const et=(Dt,Qt)=>Dt||Qt.hasStickyChanged();this._headerRowDefs.reduce(et,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(et,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(et,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new fe(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,h.of)()).pipe((0,p.R)(this._onDestroy)).subscribe(Dt=>{this._stickyStyler.direction=Dt,this.updateStickyColumnStyles()})}_getOwnDefs(et){return et.filter(Dt=>!Dt._table||Dt._table===this)}_updateNoDataRow(){const et=this._customNoDataRow||this._noDataRow;if(!et)return;const Dt=0===this._rowOutlet.viewContainer.length;if(Dt===this._isShowingNoDataRow)return;const Qt=this._noDataRowOutlet.viewContainer;if(Dt){const Nt=Qt.createEmbeddedView(et.templateRef),xn=Nt.rootNodes[0];1===Nt.rootNodes.length&&xn?.nodeType===this._document.ELEMENT_NODE&&(xn.setAttribute("role","row"),xn.classList.add(et._contentClassName))}else Qt.clear();this._isShowingNoDataRow=Dt}static#e=this.\u0275fac=function(Dt){return new(Dt||ht)(e.Y36(e.ZZ4),e.Y36(e.sBO),e.Y36(e.SBq),e.$8M("role"),e.Y36(t.Is,8),e.Y36(D.K0),e.Y36(m.t4),e.Y36(y.k),e.Y36(ce),e.Y36(P.rL),e.Y36(ge,12),e.Y36(e.R0b,8))};static#t=this.\u0275cmp=e.Xpm({type:ht,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(Dt,Qt,Nt){if(1&Dt&&(e.Suo(Nt,Ne,5),e.Suo(Nt,le,5),e.Suo(Nt,Ie,5),e.Suo(Nt,Ce,5),e.Suo(Nt,pe,5)),2&Dt){let xn;e.iGM(xn=e.CRH())&&(Qt._noDataRow=xn.first),e.iGM(xn=e.CRH())&&(Qt._contentColumnDefs=xn),e.iGM(xn=e.CRH())&&(Qt._contentRowDefs=xn),e.iGM(xn=e.CRH())&&(Qt._contentHeaderRowDefs=xn),e.iGM(xn=e.CRH())&&(Qt._contentFooterRowDefs=xn)}},viewQuery:function(Dt,Qt){if(1&Dt&&(e.Gf(Ee,7),e.Gf(Fe,7),e.Gf(ct,7),e.Gf(qe,7)),2&Dt){let Nt;e.iGM(Nt=e.CRH())&&(Qt._rowOutlet=Nt.first),e.iGM(Nt=e.CRH())&&(Qt._headerRowOutlet=Nt.first),e.iGM(Nt=e.CRH())&&(Qt._footerRowOutlet=Nt.first),e.iGM(Nt=e.CRH())&&(Qt._noDataRowOutlet=Nt.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(Dt,Qt){2&Dt&&e.ekj("cdk-table-fixed-layout",Qt.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[e._Bn([{provide:I,useExisting:ht},{provide:y.k,useClass:y.yy},{provide:ce,useClass:Te},{provide:ge,useValue:null}])],ngContentSelectors:x,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(Dt,Qt){1&Dt&&(e.F$t(A),e.Hsn(0),e.Hsn(1,1),e.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Ee,Fe,ct,qe],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return ht})();function yt(ht,Tn){return ht.concat(Array.from(Tn))}let We=(()=>{class ht{static#e=this.\u0275fac=function(Dt){return new(Dt||ht)};static#t=this.\u0275mod=e.oAB({type:ht});static#n=this.\u0275inj=e.cJS({imports:[P.Cl]})}return ht})();var Tt=g(3680),Kt=g(3019),Jt=g(2572),Xt=g(7398);const un=[[["caption"]],[["colgroup"],["col"]]],fn=["caption","colgroup, col"];let He=(()=>{class ht extends Qe{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}static#e=this.\u0275fac=function(){let et;return function(Qt){return(et||(et=e.n5z(ht)))(Qt||ht)}}();static#t=this.\u0275cmp=e.Xpm({type:ht,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(Dt,Qt){2&Dt&&e.ekj("mdc-table-fixed-layout",Qt.fixedLayout)},exportAs:["matTable"],features:[e._Bn([{provide:Qe,useExisting:ht},{provide:I,useExisting:ht},{provide:ce,useClass:Te},{provide:y.k,useClass:y.yy},{provide:ge,useValue:null}]),e.qOj],ngContentSelectors:fn,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(Dt,Qt){1&Dt&&(e.F$t(un),e.Hsn(0),e.Hsn(1,1),e.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Ee,Fe,ct,qe],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child>.mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return ht})(),Ze=(()=>{class ht extends L{static#e=this.\u0275fac=function(){let et;return function(Qt){return(et||(et=e.n5z(ht)))(Qt||ht)}}();static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","matCellDef",""]],features:[e._Bn([{provide:L,useExisting:ht}]),e.qOj]})}return ht})(),st=(()=>{class ht extends b{static#e=this.\u0275fac=function(){let et;return function(Qt){return(et||(et=e.n5z(ht)))(Qt||ht)}}();static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","matHeaderCellDef",""]],features:[e._Bn([{provide:b,useExisting:ht}]),e.qOj]})}return ht})(),St=(()=>{class ht extends le{get name(){return this._name}set name(et){this._setNameInput(et)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#e=this.\u0275fac=function(){let et;return function(Qt){return(et||(et=e.n5z(ht)))(Qt||ht)}}();static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[e._Bn([{provide:le,useExisting:ht},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:ht}]),e.qOj]})}return ht})(),bt=(()=>{class ht extends Y{static#e=this.\u0275fac=function(){let et;return function(Qt){return(et||(et=e.n5z(ht)))(Qt||ht)}}();static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[e.qOj]})}return ht})(),on=(()=>{class ht extends G{static#e=this.\u0275fac=function(){let et;return function(Qt){return(et||(et=e.n5z(ht)))(Qt||ht)}}();static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[e.qOj]})}return ht})(),En=(()=>{class ht extends Ce{static#e=this.\u0275fac=function(){let et;return function(Qt){return(et||(et=e.n5z(ht)))(Qt||ht)}}();static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[e._Bn([{provide:Ce,useExisting:ht}]),e.qOj]})}return ht})(),Mn=(()=>{class ht extends Ie{static#e=this.\u0275fac=function(){let et;return function(Qt){return(et||(et=e.n5z(ht)))(Qt||ht)}}();static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[e._Bn([{provide:Ie,useExisting:ht}]),e.qOj]})}return ht})(),wn=(()=>{class ht extends at{static#e=this.\u0275fac=function(){let et;return function(Qt){return(et||(et=e.n5z(ht)))(Qt||ht)}}();static#t=this.\u0275cmp=e.Xpm({type:ht,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[e._Bn([{provide:at,useExisting:ht}]),e.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Dt,Qt){1&Dt&&e.GkF(0,0)},dependencies:[Be],encapsulation:2})}return ht})(),$n=(()=>{class ht extends je{static#e=this.\u0275fac=function(){let et;return function(Qt){return(et||(et=e.n5z(ht)))(Qt||ht)}}();static#t=this.\u0275cmp=e.Xpm({type:ht,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[e._Bn([{provide:je,useExisting:ht}]),e.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Dt,Qt){1&Dt&&e.GkF(0,0)},dependencies:[Be],encapsulation:2})}return ht})(),ti=(()=>{class ht extends Ne{constructor(){super(...arguments),this._contentClassName="mat-mdc-no-data-row"}static#e=this.\u0275fac=function(){let et;return function(Qt){return(et||(et=e.n5z(ht)))(Qt||ht)}}();static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["ng-template","matNoDataRow",""]],features:[e._Bn([{provide:Ne,useExisting:ht}]),e.qOj]})}return ht})(),yn=(()=>{class ht{static#e=this.\u0275fac=function(Dt){return new(Dt||ht)};static#t=this.\u0275mod=e.oAB({type:ht});static#n=this.\u0275inj=e.cJS({imports:[Tt.BQ,We,Tt.BQ]})}return ht})();class _n extends y.o2{get data(){return this._data.value}set data(Tn){Tn=Array.isArray(Tn)?Tn:[],this._data.next(Tn),this._renderChangesSubscription||this._filterData(Tn)}get filter(){return this._filter.value}set filter(Tn){this._filter.next(Tn),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(Tn){this._sort=Tn,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(Tn){this._paginator=Tn,this._updateChangeSubscription()}constructor(Tn=[]){super(),this._renderData=new c.X([]),this._filter=new c.X(""),this._internalPageChanges=new f.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(et,Dt)=>{const Qt=et[Dt];if((0,v.t6)(Qt)){const Nt=Number(Qt);return Nt<9007199254740991?Nt:Qt}return Qt},this.sortData=(et,Dt)=>{const Qt=Dt.active,Nt=Dt.direction;return Qt&&""!=Nt?et.sort((xn,kt)=>{let wt=this.sortingDataAccessor(xn,Qt),Pt=this.sortingDataAccessor(kt,Qt);const en=typeof wt,An=typeof Pt;en!==An&&("number"===en&&(wt+=""),"number"===An&&(Pt+=""));let Vn=0;return null!=wt&&null!=Pt?wt>Pt?Vn=1:wt<Pt&&(Vn=-1):null!=wt?Vn=1:null!=Pt&&(Vn=-1),Vn*("asc"==Nt?1:-1)}):et},this.filterPredicate=(et,Dt)=>{const Qt=Object.keys(et).reduce((xn,kt)=>xn+et[kt]+"\u25ec","").toLowerCase(),Nt=Dt.trim().toLowerCase();return-1!=Qt.indexOf(Nt)},this._data=new c.X(Tn),this._updateChangeSubscription()}_updateChangeSubscription(){const Tn=this._sort?(0,Kt.T)(this._sort.sortChange,this._sort.initialized):(0,h.of)(null),et=this._paginator?(0,Kt.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,h.of)(null),Qt=(0,Jt.a)([this._data,this._filter]).pipe((0,Xt.U)(([kt])=>this._filterData(kt))),Nt=(0,Jt.a)([Qt,Tn]).pipe((0,Xt.U)(([kt])=>this._orderData(kt))),xn=(0,Jt.a)([Nt,et]).pipe((0,Xt.U)(([kt])=>this._pageData(kt)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=xn.subscribe(kt=>this._renderData.next(kt))}_filterData(Tn){return this.filteredData=null==this.filter||""===this.filter?Tn:Tn.filter(et=>this.filterPredicate(et,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(Tn){return this.sort?this.sortData(Tn.slice(),this.sort):Tn}_pageData(Tn){if(!this.paginator)return Tn;const et=this.paginator.pageIndex*this.paginator.pageSize;return Tn.slice(et,et+this.paginator.pageSize)}_updatePaginator(Tn){Promise.resolve().then(()=>{const et=this.paginator;if(et&&(et.length=Tn,et.pageIndex>0)){const Dt=Math.ceil(et.length/et.pageSize)-1||0,Qt=Math.min(et.pageIndex,Dt);Qt!==et.pageIndex&&(et.pageIndex=Qt,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class Mt extends _n{}},2596:(Wn,Je,g)=>{"use strict";g.d(Je,{AV:()=>ie,gM:()=>ce});var e=g(9773),t=g(8180),v=g(2495),y=g(6028),m=g(5879),P=g(6814),D=g(2831),f=g(4300),i=g(9388),c=g(3651),d=g(799),h=g(8484),p=g(8645),A=(g(6825),g(3680));const x=["tooltip"],S=new m.OlP("mat-tooltip-scroll-strategy"),E={provide:S,deps:[c.aV],useFactory:function I(ye){return()=>ye.scrollStrategies.reposition({scrollThrottle:20})}},b=new m.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function L(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),Z="tooltip-panel",oe=(0,D.i$)({passive:!0});let De=(()=>{class ye{get position(){return this._position}set position(de){de!==this._position&&(this._position=de,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(de){this._positionAtOrigin=(0,v.Ig)(de),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(de){this._disabled=(0,v.Ig)(de),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(de){this._showDelay=(0,v.su)(de)}get hideDelay(){return this._hideDelay}set hideDelay(de){this._hideDelay=(0,v.su)(de),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(de){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=de?String(de).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(de){this._tooltipClass=de,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(de,Me,pe,Ie,Be,at,Xe,je,Ne,ee,fe,we){this._overlay=de,this._elementRef=Me,this._scrollDispatcher=pe,this._viewContainerRef=Ie,this._ngZone=Be,this._platform=at,this._ariaDescriber=Xe,this._focusMonitor=je,this._dir=ee,this._defaultOptions=fe,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new p.x,this._scrollStrategy=Ne,this._document=we,fe&&(this._showDelay=fe.showDelay,this._hideDelay=fe.hideDelay,fe.position&&(this.position=fe.position),fe.positionAtOrigin&&(this.positionAtOrigin=fe.positionAtOrigin),fe.touchGestures&&(this.touchGestures=fe.touchGestures)),ee.change.pipe((0,e.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,e.R)(this._destroyed)).subscribe(de=>{de?"keyboard"===de&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const de=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([Me,pe])=>{de.removeEventListener(Me,pe,oe)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(de,this.message,"tooltip"),this._focusMonitor.stopMonitoring(de)}show(de=this.showDelay,Me){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const pe=this._createOverlay(Me);this._detach(),this._portal=this._portal||new h.C5(this._tooltipComponent,this._viewContainerRef);const Ie=this._tooltipInstance=pe.attach(this._portal).instance;Ie._triggerElement=this._elementRef.nativeElement,Ie._mouseLeaveHideDelay=this._hideDelay,Ie.afterHidden().pipe((0,e.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),Ie.show(de)}hide(de=this.hideDelay){const Me=this._tooltipInstance;Me&&(Me.isVisible()?Me.hide(de):(Me._cancelPendingAnimations(),this._detach()))}toggle(de){this._isTooltipVisible()?this.hide():this.show(void 0,de)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(de){if(this._overlayRef){const Ie=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!de)&&Ie._origin instanceof m.SBq)return this._overlayRef;this._detach()}const Me=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),pe=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&de||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(Me);return pe.positionChanges.pipe((0,e.R)(this._destroyed)).subscribe(Ie=>{this._updateCurrentPositionClass(Ie.connectionPair),this._tooltipInstance&&Ie.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:pe,panelClass:`${this._cssClassPrefix}-${Z}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,e.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,e.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,e.R)(this._destroyed)).subscribe(Ie=>{this._isTooltipVisible()&&Ie.keyCode===y.hY&&!(0,y.Vb)(Ie)&&(Ie.preventDefault(),Ie.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(de){const Me=de.getConfig().positionStrategy,pe=this._getOrigin(),Ie=this._getOverlayPosition();Me.withPositions([this._addOffset({...pe.main,...Ie.main}),this._addOffset({...pe.fallback,...Ie.fallback})])}_addOffset(de){return de}_getOrigin(){const de=!this._dir||"ltr"==this._dir.value,Me=this.position;let pe;"above"==Me||"below"==Me?pe={originX:"center",originY:"above"==Me?"top":"bottom"}:"before"==Me||"left"==Me&&de||"right"==Me&&!de?pe={originX:"start",originY:"center"}:("after"==Me||"right"==Me&&de||"left"==Me&&!de)&&(pe={originX:"end",originY:"center"});const{x:Ie,y:Be}=this._invertPosition(pe.originX,pe.originY);return{main:pe,fallback:{originX:Ie,originY:Be}}}_getOverlayPosition(){const de=!this._dir||"ltr"==this._dir.value,Me=this.position;let pe;"above"==Me?pe={overlayX:"center",overlayY:"bottom"}:"below"==Me?pe={overlayX:"center",overlayY:"top"}:"before"==Me||"left"==Me&&de||"right"==Me&&!de?pe={overlayX:"end",overlayY:"center"}:("after"==Me||"right"==Me&&de||"left"==Me&&!de)&&(pe={overlayX:"start",overlayY:"center"});const{x:Ie,y:Be}=this._invertPosition(pe.overlayX,pe.overlayY);return{main:pe,fallback:{overlayX:Ie,overlayY:Be}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,t.q)(1),(0,e.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(de){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=de,this._tooltipInstance._markForCheck())}_invertPosition(de,Me){return"above"===this.position||"below"===this.position?"top"===Me?Me="bottom":"bottom"===Me&&(Me="top"):"end"===de?de="start":"start"===de&&(de="end"),{x:de,y:Me}}_updateCurrentPositionClass(de){const{overlayY:Me,originX:pe,originY:Ie}=de;let Be;if(Be="center"===Me?this._dir&&"rtl"===this._dir.value?"end"===pe?"left":"right":"start"===pe?"left":"right":"bottom"===Me&&"top"===Ie?"above":"below",Be!==this._currentPosition){const at=this._overlayRef;if(at){const Xe=`${this._cssClassPrefix}-${Z}-`;at.removePanelClass(Xe+this._currentPosition),at.addPanelClass(Xe+Be)}this._currentPosition=Be}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",de=>{let Me;this._setupPointerExitEventsIfNeeded(),void 0!==de.x&&void 0!==de.y&&(Me=de),this.show(void 0,Me)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",de=>{const Me=de.targetTouches?.[0],pe=Me?{x:Me.clientX,y:Me.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,pe),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const de=[];if(this._platformSupportsMouseEvents())de.push(["mouseleave",Me=>{const pe=Me.relatedTarget;(!pe||!this._overlayRef?.overlayElement.contains(pe))&&this.hide()}],["wheel",Me=>this._wheelListener(Me)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const Me=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};de.push(["touchend",Me],["touchcancel",Me])}this._addListeners(de),this._passiveListeners.push(...de)}_addListeners(de){de.forEach(([Me,pe])=>{this._elementRef.nativeElement.addEventListener(Me,pe,oe)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(de){if(this._isTooltipVisible()){const Me=this._document.elementFromPoint(de.clientX,de.clientY),pe=this._elementRef.nativeElement;Me!==pe&&!pe.contains(Me)&&this.hide()}}_disableNativeGesturesIfNecessary(){const de=this.touchGestures;if("off"!==de){const Me=this._elementRef.nativeElement,pe=Me.style;("on"===de||"INPUT"!==Me.nodeName&&"TEXTAREA"!==Me.nodeName)&&(pe.userSelect=pe.msUserSelect=pe.webkitUserSelect=pe.MozUserSelect="none"),("on"===de||!Me.draggable)&&(pe.webkitUserDrag="none"),pe.touchAction="none",pe.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(Me){m.$Z()};static#t=this.\u0275dir=m.lG2({type:ye,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return ye})(),ce=(()=>{class ye extends De{constructor(de,Me,pe,Ie,Be,at,Xe,je,Ne,ee,fe,we){super(de,Me,pe,Ie,Be,at,Xe,je,Ne,ee,fe,we),this._tooltipComponent=be,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(de){const pe=!this._dir||"ltr"==this._dir.value;return"top"===de.originY?de.offsetY=-8:"bottom"===de.originY?de.offsetY=8:"start"===de.originX?de.offsetX=pe?-8:8:"end"===de.originX&&(de.offsetX=pe?8:-8),de}static#e=this.\u0275fac=function(Me){return new(Me||ye)(m.Y36(c.aV),m.Y36(m.SBq),m.Y36(d.mF),m.Y36(m.s_b),m.Y36(m.R0b),m.Y36(D.t4),m.Y36(f.$s),m.Y36(f.tE),m.Y36(S),m.Y36(i.Is,8),m.Y36(b,8),m.Y36(P.K0))};static#t=this.\u0275dir=m.lG2({type:ye,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(Me,pe){2&Me&&m.ekj("mat-mdc-tooltip-disabled",pe.disabled)},exportAs:["matTooltip"],features:[m.qOj]})}return ye})(),Te=(()=>{class ye{constructor(de,Me){this._changeDetectorRef=de,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new p.x,this._animationsDisabled="NoopAnimations"===Me}show(de){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},de)}hide(de){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},de)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:de}){(!de||!this._triggerElement.contains(de))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:de}){(de===this._showAnimation||de===this._hideAnimation)&&this._finalizeAnimation(de===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(de){de?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(de){const Me=this._tooltip.nativeElement,pe=this._showAnimation,Ie=this._hideAnimation;if(Me.classList.remove(de?Ie:pe),Me.classList.add(de?pe:Ie),this._isVisible=de,de&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const Be=getComputedStyle(Me);("0s"===Be.getPropertyValue("animation-duration")||"none"===Be.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}de&&this._onShow(),this._animationsDisabled&&(Me.classList.add("_mat-animation-noopable"),this._finalizeAnimation(de))}static#e=this.\u0275fac=function(Me){return new(Me||ye)(m.Y36(m.sBO),m.Y36(m.QbO,8))};static#t=this.\u0275dir=m.lG2({type:ye})}return ye})(),be=(()=>{class ye extends Te{constructor(de,Me,pe){super(de,pe),this._elementRef=Me,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const de=this._elementRef.nativeElement.getBoundingClientRect();return de.height>24&&de.width>=200}static#e=this.\u0275fac=function(Me){return new(Me||ye)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.QbO,8))};static#t=this.\u0275cmp=m.Xpm({type:ye,selectors:[["mat-tooltip-component"]],viewQuery:function(Me,pe){if(1&Me&&m.Gf(x,7),2&Me){let Ie;m.iGM(Ie=m.CRH())&&(pe._tooltip=Ie.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(Me,pe){1&Me&&m.NdJ("mouseleave",function(Be){return pe._handleMouseLeave(Be)}),2&Me&&m.Udp("zoom",pe.isVisible()?1:null)},features:[m.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(Me,pe){1&Me&&(m.TgZ(0,"div",0,1),m.NdJ("animationend",function(Be){return pe._handleAnimationEnd(Be)}),m.TgZ(2,"div",2),m._uU(3),m.qZA()()),2&Me&&(m.ekj("mdc-tooltip--multiline",pe._isMultiline),m.Q6J("ngClass",pe.tooltipClass),m.xp6(3),m.Oqu(pe.message))},dependencies:[P.mk],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return ye})(),ie=(()=>{class ye{static#e=this.\u0275fac=function(Me){return new(Me||ye)};static#t=this.\u0275mod=m.oAB({type:ye});static#n=this.\u0275inj=m.cJS({providers:[E],imports:[f.rt,P.ez,c.U8,A.BQ,A.BQ,d.ZD]})}return ye})()},6593:(Wn,Je,g)=>{"use strict";g.d(Je,{Dx:()=>X,H7:()=>Kt,b2:()=>we,q6:()=>je,se:()=>oe});var e=g(5879),t=g(6814);class v extends t.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class y extends v{static makeCurrent(){(0,t.HT)(new y)}onAndCancel(St,bt,At){return St.addEventListener(bt,At),()=>{St.removeEventListener(bt,At)}}dispatchEvent(St,bt){St.dispatchEvent(bt)}remove(St){St.parentNode&&St.parentNode.removeChild(St)}createElement(St,bt){return(bt=bt||this.getDefaultDocument()).createElement(St)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(St){return St.nodeType===Node.ELEMENT_NODE}isShadowRoot(St){return St instanceof DocumentFragment}getGlobalEventTarget(St,bt){return"window"===bt?window:"document"===bt?St:"body"===bt?St.body:null}getBaseHref(St){const bt=function P(){return m=m||document.querySelector("base"),m?m.getAttribute("href"):null}();return null==bt?null:function f(lt){D=D||document.createElement("a"),D.setAttribute("href",lt);const St=D.pathname;return"/"===St.charAt(0)?St:`/${St}`}(bt)}resetBaseElement(){m=null}getUserAgent(){return window.navigator.userAgent}getCookie(St){return(0,t.Mx)(document.cookie,St)}}let D,m=null,c=(()=>{class lt{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(At){return new(At||lt)};static#t=this.\u0275prov=e.Yz7({token:lt,factory:lt.\u0275fac})}return lt})();const d=new e.OlP("EventManagerPlugins");let h=(()=>{class lt{constructor(bt,At){this._zone=At,this._eventNameToPlugin=new Map,bt.forEach(on=>{on.manager=this}),this._plugins=bt.slice().reverse()}addEventListener(bt,At,on){return this._findPluginFor(At).addEventListener(bt,At,on)}getZone(){return this._zone}_findPluginFor(bt){let At=this._eventNameToPlugin.get(bt);if(At)return At;if(At=this._plugins.find(En=>En.supports(bt)),!At)throw new e.vHH(5101,!1);return this._eventNameToPlugin.set(bt,At),At}static#e=this.\u0275fac=function(At){return new(At||lt)(e.LFG(d),e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:lt,factory:lt.\u0275fac})}return lt})();class p{constructor(St){this._doc=St}}const C="ng-app-id";let A=(()=>{class lt{constructor(bt,At,on,En={}){this.doc=bt,this.appId=At,this.nonce=on,this.platformId=En,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,t.PM)(En),this.resetHostNodes()}addStyles(bt){for(const At of bt)1===this.changeUsageCount(At,1)&&this.onStyleAdded(At)}removeStyles(bt){for(const At of bt)this.changeUsageCount(At,-1)<=0&&this.onStyleRemoved(At)}ngOnDestroy(){const bt=this.styleNodesInDOM;bt&&(bt.forEach(At=>At.remove()),bt.clear());for(const At of this.getAllStyles())this.onStyleRemoved(At);this.resetHostNodes()}addHost(bt){this.hostNodes.add(bt);for(const At of this.getAllStyles())this.addStyleToHost(bt,At)}removeHost(bt){this.hostNodes.delete(bt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(bt){for(const At of this.hostNodes)this.addStyleToHost(At,bt)}onStyleRemoved(bt){const At=this.styleRef;At.get(bt)?.elements?.forEach(on=>on.remove()),At.delete(bt)}collectServerRenderedStyles(){const bt=this.doc.head?.querySelectorAll(`style[${C}="${this.appId}"]`);if(bt?.length){const At=new Map;return bt.forEach(on=>{null!=on.textContent&&At.set(on.textContent,on)}),At}return null}changeUsageCount(bt,At){const on=this.styleRef;if(on.has(bt)){const En=on.get(bt);return En.usage+=At,En.usage}return on.set(bt,{usage:At,elements:[]}),At}getStyleElement(bt,At){const on=this.styleNodesInDOM,En=on?.get(At);if(En?.parentNode===bt)return on.delete(At),En.removeAttribute(C),En;{const tn=this.doc.createElement("style");return this.nonce&&tn.setAttribute("nonce",this.nonce),tn.textContent=At,this.platformIsServer&&tn.setAttribute(C,this.appId),tn}}addStyleToHost(bt,At){const on=this.getStyleElement(bt,At);bt.appendChild(on);const En=this.styleRef,tn=En.get(At)?.elements;tn?tn.push(on):En.set(At,{elements:[on],usage:1})}resetHostNodes(){const bt=this.hostNodes;bt.clear(),bt.add(this.doc.head)}static#e=this.\u0275fac=function(At){return new(At||lt)(e.LFG(t.K0),e.LFG(e.AFp),e.LFG(e.Ojb,8),e.LFG(e.Lbi))};static#t=this.\u0275prov=e.Yz7({token:lt,factory:lt.\u0275fac})}return lt})();const x={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},R=/%COMP%/g,O="%COMP%",S=`_nghost-${O}`,I=`_ngcontent-${O}`,L=new e.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Z(lt,St){return St.map(bt=>bt.replace(R,lt))}let oe=(()=>{class lt{constructor(bt,At,on,En,tn,Mn,wn,Nn=null){this.eventManager=bt,this.sharedStylesHost=At,this.appId=on,this.removeStylesOnCompDestroy=En,this.doc=tn,this.platformId=Mn,this.ngZone=wn,this.nonce=Nn,this.rendererByCompId=new Map,this.platformIsServer=(0,t.PM)(Mn),this.defaultRenderer=new le(bt,tn,wn,this.platformIsServer)}createRenderer(bt,At){if(!bt||!At)return this.defaultRenderer;this.platformIsServer&&At.encapsulation===e.ifc.ShadowDom&&(At={...At,encapsulation:e.ifc.Emulated});const on=this.getOrCreateRenderer(bt,At);return on instanceof ce?on.applyToHost(bt):on instanceof De&&on.applyStyles(),on}getOrCreateRenderer(bt,At){const on=this.rendererByCompId;let En=on.get(At.id);if(!En){const tn=this.doc,Mn=this.ngZone,wn=this.eventManager,Nn=this.sharedStylesHost,$n=this.removeStylesOnCompDestroy,ti=this.platformIsServer;switch(At.encapsulation){case e.ifc.Emulated:En=new ce(wn,Nn,At,this.appId,$n,tn,Mn,ti);break;case e.ifc.ShadowDom:return new G(wn,Nn,bt,At,tn,Mn,this.nonce,ti);default:En=new De(wn,Nn,At,$n,tn,Mn,ti)}on.set(At.id,En)}return En}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(At){return new(At||lt)(e.LFG(h),e.LFG(A),e.LFG(e.AFp),e.LFG(L),e.LFG(t.K0),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(e.Ojb))};static#t=this.\u0275prov=e.Yz7({token:lt,factory:lt.\u0275fac})}return lt})();class le{constructor(St,bt,At,on){this.eventManager=St,this.doc=bt,this.ngZone=At,this.platformIsServer=on,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(St,bt){return bt?this.doc.createElementNS(x[bt]||bt,St):this.doc.createElement(St)}createComment(St){return this.doc.createComment(St)}createText(St){return this.doc.createTextNode(St)}appendChild(St,bt){(ae(St)?St.content:St).appendChild(bt)}insertBefore(St,bt,At){St&&(ae(St)?St.content:St).insertBefore(bt,At)}removeChild(St,bt){St&&St.removeChild(bt)}selectRootElement(St,bt){let At="string"==typeof St?this.doc.querySelector(St):St;if(!At)throw new e.vHH(-5104,!1);return bt||(At.textContent=""),At}parentNode(St){return St.parentNode}nextSibling(St){return St.nextSibling}setAttribute(St,bt,At,on){if(on){bt=on+":"+bt;const En=x[on];En?St.setAttributeNS(En,bt,At):St.setAttribute(bt,At)}else St.setAttribute(bt,At)}removeAttribute(St,bt,At){if(At){const on=x[At];on?St.removeAttributeNS(on,bt):St.removeAttribute(`${At}:${bt}`)}else St.removeAttribute(bt)}addClass(St,bt){St.classList.add(bt)}removeClass(St,bt){St.classList.remove(bt)}setStyle(St,bt,At,on){on&(e.JOm.DashCase|e.JOm.Important)?St.style.setProperty(bt,At,on&e.JOm.Important?"important":""):St.style[bt]=At}removeStyle(St,bt,At){At&e.JOm.DashCase?St.style.removeProperty(bt):St.style[bt]=""}setProperty(St,bt,At){St[bt]=At}setValue(St,bt){St.nodeValue=bt}listen(St,bt,At){if("string"==typeof St&&!(St=(0,t.q)().getGlobalEventTarget(this.doc,St)))throw new Error(`Unsupported event target ${St} for event ${bt}`);return this.eventManager.addEventListener(St,bt,this.decoratePreventDefault(At))}decoratePreventDefault(St){return bt=>{if("__ngUnwrap__"===bt)return St;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>St(bt)):St(bt))&&bt.preventDefault()}}}function ae(lt){return"TEMPLATE"===lt.tagName&&void 0!==lt.content}class G extends le{constructor(St,bt,At,on,En,tn,Mn,wn){super(St,En,tn,wn),this.sharedStylesHost=bt,this.hostEl=At,this.shadowRoot=At.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Nn=Z(on.id,on.styles);for(const $n of Nn){const ti=document.createElement("style");Mn&&ti.setAttribute("nonce",Mn),ti.textContent=$n,this.shadowRoot.appendChild(ti)}}nodeOrShadowRoot(St){return St===this.hostEl?this.shadowRoot:St}appendChild(St,bt){return super.appendChild(this.nodeOrShadowRoot(St),bt)}insertBefore(St,bt,At){return super.insertBefore(this.nodeOrShadowRoot(St),bt,At)}removeChild(St,bt){return super.removeChild(this.nodeOrShadowRoot(St),bt)}parentNode(St){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(St)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class De extends le{constructor(St,bt,At,on,En,tn,Mn,wn){super(St,En,tn,Mn),this.sharedStylesHost=bt,this.removeStylesOnCompDestroy=on,this.styles=wn?Z(wn,At.styles):At.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ce extends De{constructor(St,bt,At,on,En,tn,Mn,wn){const Nn=on+"-"+At.id;super(St,bt,At,En,tn,Mn,wn,Nn),this.contentAttr=function b(lt){return I.replace(R,lt)}(Nn),this.hostAttr=function B(lt){return S.replace(R,lt)}(Nn)}applyToHost(St){this.applyStyles(),this.setAttribute(St,this.hostAttr,"")}createElement(St,bt){const At=super.createElement(St,bt);return super.setAttribute(At,this.contentAttr,""),At}}let Te=(()=>{class lt extends p{constructor(bt){super(bt)}supports(bt){return!0}addEventListener(bt,At,on){return bt.addEventListener(At,on,!1),()=>this.removeEventListener(bt,At,on)}removeEventListener(bt,At,on){return bt.removeEventListener(At,on)}static#e=this.\u0275fac=function(At){return new(At||lt)(e.LFG(t.K0))};static#t=this.\u0275prov=e.Yz7({token:lt,factory:lt.\u0275fac})}return lt})();const be=["alt","control","meta","shift"],Oe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ie={alt:lt=>lt.altKey,control:lt=>lt.ctrlKey,meta:lt=>lt.metaKey,shift:lt=>lt.shiftKey};let ye=(()=>{class lt extends p{constructor(bt){super(bt)}supports(bt){return null!=lt.parseEventName(bt)}addEventListener(bt,At,on){const En=lt.parseEventName(At),tn=lt.eventCallback(En.fullKey,on,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,t.q)().onAndCancel(bt,En.domEventName,tn))}static parseEventName(bt){const At=bt.toLowerCase().split("."),on=At.shift();if(0===At.length||"keydown"!==on&&"keyup"!==on)return null;const En=lt._normalizeKey(At.pop());let tn="",Mn=At.indexOf("code");if(Mn>-1&&(At.splice(Mn,1),tn="code."),be.forEach(Nn=>{const $n=At.indexOf(Nn);$n>-1&&(At.splice($n,1),tn+=Nn+".")}),tn+=En,0!=At.length||0===En.length)return null;const wn={};return wn.domEventName=on,wn.fullKey=tn,wn}static matchEventFullKeyCode(bt,At){let on=Oe[bt.key]||bt.key,En="";return At.indexOf("code.")>-1&&(on=bt.code,En="code."),!(null==on||!on)&&(on=on.toLowerCase()," "===on?on="space":"."===on&&(on="dot"),be.forEach(tn=>{tn!==on&&(0,ie[tn])(bt)&&(En+=tn+".")}),En+=on,En===At)}static eventCallback(bt,At,on){return En=>{lt.matchEventFullKeyCode(En,bt)&&on.runGuarded(()=>At(En))}}static _normalizeKey(bt){return"esc"===bt?"escape":bt}static#e=this.\u0275fac=function(At){return new(At||lt)(e.LFG(t.K0))};static#t=this.\u0275prov=e.Yz7({token:lt,factory:lt.\u0275fac})}return lt})();const je=(0,e.eFA)(e._c5,"browser",[{provide:e.Lbi,useValue:t.bD},{provide:e.g9A,useValue:function Ie(){y.makeCurrent()},multi:!0},{provide:t.K0,useFactory:function at(){return(0,e.RDi)(document),document},deps:[]}]),Ne=new e.OlP(""),ee=[{provide:e.rWj,useClass:class i{addToWindow(St){e.dqk.getAngularTestability=(At,on=!0)=>{const En=St.findTestabilityInTree(At,on);if(null==En)throw new e.vHH(5103,!1);return En},e.dqk.getAllAngularTestabilities=()=>St.getAllTestabilities(),e.dqk.getAllAngularRootElements=()=>St.getAllRootElements(),e.dqk.frameworkStabilizers||(e.dqk.frameworkStabilizers=[]),e.dqk.frameworkStabilizers.push(At=>{const on=e.dqk.getAllAngularTestabilities();let En=on.length,tn=!1;const Mn=function(wn){tn=tn||wn,En--,0==En&&At(tn)};on.forEach(wn=>{wn.whenStable(Mn)})})}findTestabilityInTree(St,bt,At){return null==bt?null:St.getTestability(bt)??(At?(0,t.q)().isShadowRoot(bt)?this.findTestabilityInTree(St,bt.host,!0):this.findTestabilityInTree(St,bt.parentElement,!0):null)}},deps:[]},{provide:e.lri,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]},{provide:e.dDg,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]}],fe=[{provide:e.zSh,useValue:"root"},{provide:e.qLn,useFactory:function Be(){return new e.qLn},deps:[]},{provide:d,useClass:Te,multi:!0,deps:[t.K0,e.R0b,e.Lbi]},{provide:d,useClass:ye,multi:!0,deps:[t.K0]},oe,A,h,{provide:e.FYo,useExisting:oe},{provide:t.JF,useClass:c,deps:[]},[]];let we=(()=>{class lt{constructor(bt){}static withServerTransition(bt){return{ngModule:lt,providers:[{provide:e.AFp,useValue:bt.appId}]}}static#e=this.\u0275fac=function(At){return new(At||lt)(e.LFG(Ne,12))};static#t=this.\u0275mod=e.oAB({type:lt});static#n=this.\u0275inj=e.cJS({providers:[...fe,...ee],imports:[t.ez,e.hGG]})}return lt})(),X=(()=>{class lt{constructor(bt){this._doc=bt}getTitle(){return this._doc.title}setTitle(bt){this._doc.title=bt||""}static#e=this.\u0275fac=function(At){return new(At||lt)(e.LFG(t.K0))};static#t=this.\u0275prov=e.Yz7({token:lt,factory:function(At){let on=null;return on=At?new At:function ne(){return new X((0,e.LFG)(t.K0))}(),on},providedIn:"root"})}return lt})();typeof window<"u"&&window;let Kt=(()=>{class lt{static#e=this.\u0275fac=function(At){return new(At||lt)};static#t=this.\u0275prov=e.Yz7({token:lt,factory:function(At){let on=null;return on=At?new(At||lt):e.LFG(Xt),on},providedIn:"root"})}return lt})(),Xt=(()=>{class lt extends Kt{constructor(bt){super(),this._doc=bt}sanitize(bt,At){if(null==At)return null;switch(bt){case e.q3G.NONE:return At;case e.q3G.HTML:return(0,e.qzn)(At,"HTML")?(0,e.z3N)(At):(0,e.EiD)(this._doc,String(At)).toString();case e.q3G.STYLE:return(0,e.qzn)(At,"Style")?(0,e.z3N)(At):At;case e.q3G.SCRIPT:if((0,e.qzn)(At,"Script"))return(0,e.z3N)(At);throw new e.vHH(5200,!1);case e.q3G.URL:return(0,e.qzn)(At,"URL")?(0,e.z3N)(At):(0,e.mCW)(String(At));case e.q3G.RESOURCE_URL:if((0,e.qzn)(At,"ResourceURL"))return(0,e.z3N)(At);throw new e.vHH(5201,!1);default:throw new e.vHH(5202,!1)}}bypassSecurityTrustHtml(bt){return(0,e.JVY)(bt)}bypassSecurityTrustStyle(bt){return(0,e.L6k)(bt)}bypassSecurityTrustScript(bt){return(0,e.eBb)(bt)}bypassSecurityTrustUrl(bt){return(0,e.LAX)(bt)}bypassSecurityTrustResourceUrl(bt){return(0,e.pB0)(bt)}static#e=this.\u0275fac=function(At){return new(At||lt)(e.LFG(t.K0))};static#t=this.\u0275prov=e.Yz7({token:lt,factory:function(At){let on=null;return on=At?new At:function Jt(lt){return new Xt(lt.get(t.K0))}(e.LFG(e.zs3)),on},providedIn:"root"})}return lt})()},5908:(Wn,Je,g)=>{"use strict";g.d(Je,{gz:()=>yi,F0:()=>$r,rH:()=>Cs,Bz:()=>Bs,lC:()=>hi});var e=g(5879),t=g(2664),v=g(2459),y=g(2096),m=g(5619),P=g(2572),D=g(6973),f=g(5211),i=g(4911),c=g(8407),d=g(8504),h=g(6232),p=g(3168),C=g(8645),A=g(6814),x=g(7398),R=g(4664),O=g(8180),S=g(7921),I=g(2181),E=g(1631),L=g(1374),b=g(6328),B=g(9397),Z=g(4829),oe=g(8251),le=g(9360);function Re(Ge){return(0,le.e)((rt,xe)=>{let sn,nt=null,Gt=!1;nt=rt.subscribe((0,oe.x)(xe,void 0,void 0,dn=>{sn=(0,Z.Xf)(Ge(dn,Re(Ge)(rt))),nt?(nt.unsubscribe(),nt=null,sn.subscribe(xe)):Gt=!0})),Gt&&(nt.unsubscribe(),nt=null,sn.subscribe(xe))})}var G=g(3572);function De(Ge){return Ge<=0?()=>h.E:(0,le.e)((rt,xe)=>{let nt=[];rt.subscribe((0,oe.x)(xe,Gt=>{nt.push(Gt),Ge<nt.length&&nt.shift()},()=>{for(const Gt of nt)xe.next(Gt);xe.complete()},void 0,()=>{nt=null}))})}var ce=g(3026),Te=g(2737),Oe=g(975),ie=g(4716),ye=g(6196),Ce=g(7537),de=g(6593);const Me="primary",pe=Symbol("RouteTitle");class Ie{constructor(rt){this.params=rt||{}}has(rt){return Object.prototype.hasOwnProperty.call(this.params,rt)}get(rt){if(this.has(rt)){const xe=this.params[rt];return Array.isArray(xe)?xe[0]:xe}return null}getAll(rt){if(this.has(rt)){const xe=this.params[rt];return Array.isArray(xe)?xe:[xe]}return[]}get keys(){return Object.keys(this.params)}}function Be(Ge){return new Ie(Ge)}function at(Ge,rt,xe){const nt=xe.path.split("/");if(nt.length>Ge.length||"full"===xe.pathMatch&&(rt.hasChildren()||nt.length<Ge.length))return null;const Gt={};for(let sn=0;sn<nt.length;sn++){const dn=nt[sn],Kn=Ge[sn];if(dn.startsWith(":"))Gt[dn.substring(1)]=Kn;else if(dn!==Kn.path)return null}return{consumed:Ge.slice(0,nt.length),posParams:Gt}}function je(Ge,rt){const xe=Ge?Object.keys(Ge):void 0,nt=rt?Object.keys(rt):void 0;if(!xe||!nt||xe.length!=nt.length)return!1;let Gt;for(let sn=0;sn<xe.length;sn++)if(Gt=xe[sn],!Ne(Ge[Gt],rt[Gt]))return!1;return!0}function Ne(Ge,rt){if(Array.isArray(Ge)&&Array.isArray(rt)){if(Ge.length!==rt.length)return!1;const xe=[...Ge].sort(),nt=[...rt].sort();return xe.every((Gt,sn)=>nt[sn]===Gt)}return Ge===rt}function ee(Ge){return Ge.length>0?Ge[Ge.length-1]:null}function fe(Ge){return(0,t.b)(Ge)?Ge:(0,e.QGY)(Ge)?(0,v.D)(Promise.resolve(Ge)):(0,y.of)(Ge)}const we={exact:function ne(Ge,rt,xe){if(!qe(Ge.segments,rt.segments)||!ge(Ge.segments,rt.segments,xe)||Ge.numberOfChildren!==rt.numberOfChildren)return!1;for(const nt in rt.children)if(!Ge.children[nt]||!ne(Ge.children[nt],rt.children[nt],xe))return!1;return!0},subset:re},q={exact:function Q(Ge,rt){return je(Ge,rt)},subset:function X(Ge,rt){return Object.keys(rt).length<=Object.keys(Ge).length&&Object.keys(rt).every(xe=>Ne(Ge[xe],rt[xe]))},ignored:()=>!0};function $(Ge,rt,xe){return we[xe.paths](Ge.root,rt.root,xe.matrixParams)&&q[xe.queryParams](Ge.queryParams,rt.queryParams)&&!("exact"===xe.fragment&&Ge.fragment!==rt.fragment)}function re(Ge,rt,xe){return J(Ge,rt,rt.segments,xe)}function J(Ge,rt,xe,nt){if(Ge.segments.length>xe.length){const Gt=Ge.segments.slice(0,xe.length);return!(!qe(Gt,xe)||rt.hasChildren()||!ge(Gt,xe,nt))}if(Ge.segments.length===xe.length){if(!qe(Ge.segments,xe)||!ge(Ge.segments,xe,nt))return!1;for(const Gt in rt.children)if(!Ge.children[Gt]||!re(Ge.children[Gt],rt.children[Gt],nt))return!1;return!0}{const Gt=xe.slice(0,Ge.segments.length),sn=xe.slice(Ge.segments.length);return!!(qe(Ge.segments,Gt)&&ge(Ge.segments,Gt,nt)&&Ge.children[Me])&&J(Ge.children[Me],rt,sn,nt)}}function ge(Ge,rt,xe){return rt.every((nt,Gt)=>q[xe](Ge[Gt].parameters,nt.parameters))}class Se{constructor(rt=new Ee([],{}),xe={},nt=null){this.root=rt,this.queryParams=xe,this.fragment=nt}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Be(this.queryParams)),this._queryParamMap}toString(){return yt.serialize(this)}}class Ee{constructor(rt,xe){this.segments=rt,this.children=xe,this.parent=null,Object.values(xe).forEach(nt=>nt.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Et(this)}}class Fe{constructor(rt,xe){this.path=rt,this.parameters=xe}get parameterMap(){return this._parameterMap||(this._parameterMap=Be(this.parameters)),this._parameterMap}toString(){return fn(this)}}function qe(Ge,rt){return Ge.length===rt.length&&Ge.every((xe,nt)=>xe.path===rt[nt].path)}let gt=(()=>{class Ge{static#e=this.\u0275fac=function(nt){return new(nt||Ge)};static#t=this.\u0275prov=e.Yz7({token:Ge,factory:function(){return new Qe},providedIn:"root"})}return Ge})();class Qe{parse(rt){const xe=new on(rt);return new Se(xe.parseRootSegment(),xe.parseQueryParams(),xe.parseFragment())}serialize(rt){const xe=`/${me(rt.root,!0)}`,nt=function vt(Ge){const rt=Object.keys(Ge).map(xe=>{const nt=Ge[xe];return Array.isArray(nt)?nt.map(Gt=>`${Tt(xe)}=${Tt(Gt)}`).join("&"):`${Tt(xe)}=${Tt(nt)}`}).filter(xe=>!!xe);return rt.length?`?${rt.join("&")}`:""}(rt.queryParams);return`${xe}${nt}${"string"==typeof rt.fragment?`#${function Kt(Ge){return encodeURI(Ge)}(rt.fragment)}`:""}`}}const yt=new Qe;function Et(Ge){return Ge.segments.map(rt=>fn(rt)).join("/")}function me(Ge,rt){if(!Ge.hasChildren())return Et(Ge);if(rt){const xe=Ge.children[Me]?me(Ge.children[Me],!1):"",nt=[];return Object.entries(Ge.children).forEach(([Gt,sn])=>{Gt!==Me&&nt.push(`${Gt}:${me(sn,!1)}`)}),nt.length>0?`${xe}(${nt.join("//")})`:xe}{const xe=function tt(Ge,rt){let xe=[];return Object.entries(Ge.children).forEach(([nt,Gt])=>{nt===Me&&(xe=xe.concat(rt(Gt,nt)))}),Object.entries(Ge.children).forEach(([nt,Gt])=>{nt!==Me&&(xe=xe.concat(rt(Gt,nt)))}),xe}(Ge,(nt,Gt)=>Gt===Me?[me(Ge.children[Me],!1)]:[`${Gt}:${me(nt,!1)}`]);return 1===Object.keys(Ge.children).length&&null!=Ge.children[Me]?`${Et(Ge)}/${xe[0]}`:`${Et(Ge)}/(${xe.join("//")})`}}function We(Ge){return encodeURIComponent(Ge).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tt(Ge){return We(Ge).replace(/%3B/gi,";")}function Jt(Ge){return We(Ge).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xt(Ge){return decodeURIComponent(Ge)}function un(Ge){return Xt(Ge.replace(/\+/g,"%20"))}function fn(Ge){return`${Jt(Ge.path)}${function It(Ge){return Object.keys(Ge).map(rt=>`;${Jt(rt)}=${Jt(Ge[rt])}`).join("")}(Ge.parameters)}`}const it=/^[^\/()?;#]+/;function He(Ge){const rt=Ge.match(it);return rt?rt[0]:""}const Ze=/^[^\/()?;=#]+/,lt=/^[^=?&#]+/,bt=/^[^&#]+/;class on{constructor(rt){this.url=rt,this.remaining=rt}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){const rt={};if(this.consumeOptional("?"))do{this.parseQueryParam(rt)}while(this.consumeOptional("&"));return rt}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const rt=[];for(this.peekStartsWith("(")||rt.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),rt.push(this.parseSegment());let xe={};this.peekStartsWith("/(")&&(this.capture("/"),xe=this.parseParens(!0));let nt={};return this.peekStartsWith("(")&&(nt=this.parseParens(!1)),(rt.length>0||Object.keys(xe).length>0)&&(nt[Me]=new Ee(rt,xe)),nt}parseSegment(){const rt=He(this.remaining);if(""===rt&&this.peekStartsWith(";"))throw new e.vHH(4009,!1);return this.capture(rt),new Fe(Xt(rt),this.parseMatrixParams())}parseMatrixParams(){const rt={};for(;this.consumeOptional(";");)this.parseParam(rt);return rt}parseParam(rt){const xe=function st(Ge){const rt=Ge.match(Ze);return rt?rt[0]:""}(this.remaining);if(!xe)return;this.capture(xe);let nt="";if(this.consumeOptional("=")){const Gt=He(this.remaining);Gt&&(nt=Gt,this.capture(nt))}rt[Xt(xe)]=Xt(nt)}parseQueryParam(rt){const xe=function St(Ge){const rt=Ge.match(lt);return rt?rt[0]:""}(this.remaining);if(!xe)return;this.capture(xe);let nt="";if(this.consumeOptional("=")){const dn=function At(Ge){const rt=Ge.match(bt);return rt?rt[0]:""}(this.remaining);dn&&(nt=dn,this.capture(nt))}const Gt=un(xe),sn=un(nt);if(rt.hasOwnProperty(Gt)){let dn=rt[Gt];Array.isArray(dn)||(dn=[dn],rt[Gt]=dn),dn.push(sn)}else rt[Gt]=sn}parseParens(rt){const xe={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const nt=He(this.remaining),Gt=this.remaining[nt.length];if("/"!==Gt&&")"!==Gt&&";"!==Gt)throw new e.vHH(4010,!1);let sn;nt.indexOf(":")>-1?(sn=nt.slice(0,nt.indexOf(":")),this.capture(sn),this.capture(":")):rt&&(sn=Me);const dn=this.parseChildren();xe[sn]=1===Object.keys(dn).length?dn[Me]:new Ee([],dn),this.consumeOptional("//")}return xe}peekStartsWith(rt){return this.remaining.startsWith(rt)}consumeOptional(rt){return!!this.peekStartsWith(rt)&&(this.remaining=this.remaining.substring(rt.length),!0)}capture(rt){if(!this.consumeOptional(rt))throw new e.vHH(4011,!1)}}function En(Ge){return Ge.segments.length>0?new Ee([],{[Me]:Ge}):Ge}function tn(Ge){const rt={};for(const nt of Object.keys(Ge.children)){const sn=tn(Ge.children[nt]);if(nt===Me&&0===sn.segments.length&&sn.hasChildren())for(const[dn,Kn]of Object.entries(sn.children))rt[dn]=Kn;else(sn.segments.length>0||sn.hasChildren())&&(rt[nt]=sn)}return function Mn(Ge){if(1===Ge.numberOfChildren&&Ge.children[Me]){const rt=Ge.children[Me];return new Ee(Ge.segments.concat(rt.segments),rt.children)}return Ge}(new Ee(Ge.segments,rt))}function wn(Ge){return Ge instanceof Se}function $n(Ge){let rt;const Gt=En(function xe(sn){const dn={};for(const mi of sn.children){const Oi=xe(mi);dn[mi.outlet]=Oi}const Kn=new Ee(sn.url,dn);return sn===Ge&&(rt=Kn),Kn}(Ge.root));return rt??Gt}function ti(Ge,rt,xe,nt){let Gt=Ge;for(;Gt.parent;)Gt=Gt.parent;if(0===rt.length)return yn(Gt,Gt,Gt,xe,nt);const sn=function Mt(Ge){if("string"==typeof Ge[0]&&1===Ge.length&&"/"===Ge[0])return new _n(!0,0,Ge);let rt=0,xe=!1;const nt=Ge.reduce((Gt,sn,dn)=>{if("object"==typeof sn&&null!=sn){if(sn.outlets){const Kn={};return Object.entries(sn.outlets).forEach(([mi,Oi])=>{Kn[mi]="string"==typeof Oi?Oi.split("/"):Oi}),[...Gt,{outlets:Kn}]}if(sn.segmentPath)return[...Gt,sn.segmentPath]}return"string"!=typeof sn?[...Gt,sn]:0===dn?(sn.split("/").forEach((Kn,mi)=>{0==mi&&"."===Kn||(0==mi&&""===Kn?xe=!0:".."===Kn?rt++:""!=Kn&&Gt.push(Kn))}),Gt):[...Gt,sn]},[]);return new _n(xe,rt,nt)}(rt);if(sn.toRoot())return yn(Gt,Gt,new Ee([],{}),xe,nt);const dn=function Tn(Ge,rt,xe){if(Ge.isAbsolute)return new ht(rt,!0,0);if(!xe)return new ht(rt,!1,NaN);if(null===xe.parent)return new ht(xe,!0,0);const nt=vn(Ge.commands[0])?0:1;return function et(Ge,rt,xe){let nt=Ge,Gt=rt,sn=xe;for(;sn>Gt;){if(sn-=Gt,nt=nt.parent,!nt)throw new e.vHH(4005,!1);Gt=nt.segments.length}return new ht(nt,!1,Gt-sn)}(xe,xe.segments.length-1+nt,Ge.numberOfDoubleDots)}(sn,Gt,Ge),Kn=dn.processChildren?Nt(dn.segmentGroup,dn.index,sn.commands):Qt(dn.segmentGroup,dn.index,sn.commands);return yn(Gt,dn.segmentGroup,Kn,xe,nt)}function vn(Ge){return"object"==typeof Ge&&null!=Ge&&!Ge.outlets&&!Ge.segmentPath}function pn(Ge){return"object"==typeof Ge&&null!=Ge&&Ge.outlets}function yn(Ge,rt,xe,nt,Gt){let dn,sn={};nt&&Object.entries(nt).forEach(([mi,Oi])=>{sn[mi]=Array.isArray(Oi)?Oi.map(Ri=>`${Ri}`):`${Oi}`}),dn=Ge===rt?xe:mn(Ge,rt,xe);const Kn=En(tn(dn));return new Se(Kn,sn,Gt)}function mn(Ge,rt,xe){const nt={};return Object.entries(Ge.children).forEach(([Gt,sn])=>{nt[Gt]=sn===rt?xe:mn(sn,rt,xe)}),new Ee(Ge.segments,nt)}class _n{constructor(rt,xe,nt){if(this.isAbsolute=rt,this.numberOfDoubleDots=xe,this.commands=nt,rt&&nt.length>0&&vn(nt[0]))throw new e.vHH(4003,!1);const Gt=nt.find(pn);if(Gt&&Gt!==ee(nt))throw new e.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ht{constructor(rt,xe,nt){this.segmentGroup=rt,this.processChildren=xe,this.index=nt}}function Qt(Ge,rt,xe){if(Ge||(Ge=new Ee([],{})),0===Ge.segments.length&&Ge.hasChildren())return Nt(Ge,rt,xe);const nt=function xn(Ge,rt,xe){let nt=0,Gt=rt;const sn={match:!1,pathIndex:0,commandIndex:0};for(;Gt<Ge.segments.length;){if(nt>=xe.length)return sn;const dn=Ge.segments[Gt],Kn=xe[nt];if(pn(Kn))break;const mi=`${Kn}`,Oi=nt<xe.length-1?xe[nt+1]:null;if(Gt>0&&void 0===mi)break;if(mi&&Oi&&"object"==typeof Oi&&void 0===Oi.outlets){if(!en(mi,Oi,dn))return sn;nt+=2}else{if(!en(mi,{},dn))return sn;nt++}Gt++}return{match:!0,pathIndex:Gt,commandIndex:nt}}(Ge,rt,xe),Gt=xe.slice(nt.commandIndex);if(nt.match&&nt.pathIndex<Ge.segments.length){const sn=new Ee(Ge.segments.slice(0,nt.pathIndex),{});return sn.children[Me]=new Ee(Ge.segments.slice(nt.pathIndex),Ge.children),Nt(sn,0,Gt)}return nt.match&&0===Gt.length?new Ee(Ge.segments,{}):nt.match&&!Ge.hasChildren()?kt(Ge,rt,xe):nt.match?Nt(Ge,0,Gt):kt(Ge,rt,xe)}function Nt(Ge,rt,xe){if(0===xe.length)return new Ee(Ge.segments,{});{const nt=function Dt(Ge){return pn(Ge[0])?Ge[0].outlets:{[Me]:Ge}}(xe),Gt={};if(!nt[Me]&&Ge.children[Me]&&1===Ge.numberOfChildren&&0===Ge.children[Me].segments.length){const sn=Nt(Ge.children[Me],rt,xe);return new Ee(Ge.segments,sn.children)}return Object.entries(nt).forEach(([sn,dn])=>{"string"==typeof dn&&(dn=[dn]),null!==dn&&(Gt[sn]=Qt(Ge.children[sn],rt,dn))}),Object.entries(Ge.children).forEach(([sn,dn])=>{void 0===nt[sn]&&(Gt[sn]=dn)}),new Ee(Ge.segments,Gt)}}function kt(Ge,rt,xe){const nt=Ge.segments.slice(0,rt);let Gt=0;for(;Gt<xe.length;){const sn=xe[Gt];if(pn(sn)){const mi=wt(sn.outlets);return new Ee(nt,mi)}if(0===Gt&&vn(xe[0])){nt.push(new Fe(Ge.segments[rt].path,Pt(xe[0]))),Gt++;continue}const dn=pn(sn)?sn.outlets[Me]:`${sn}`,Kn=Gt<xe.length-1?xe[Gt+1]:null;dn&&Kn&&vn(Kn)?(nt.push(new Fe(dn,Pt(Kn))),Gt+=2):(nt.push(new Fe(dn,{})),Gt++)}return new Ee(nt,{})}function wt(Ge){const rt={};return Object.entries(Ge).forEach(([xe,nt])=>{"string"==typeof nt&&(nt=[nt]),null!==nt&&(rt[xe]=kt(new Ee([],{}),0,nt))}),rt}function Pt(Ge){const rt={};return Object.entries(Ge).forEach(([xe,nt])=>rt[xe]=`${nt}`),rt}function en(Ge,rt,xe){return Ge==xe.path&&je(rt,xe.parameters)}const An="imperative";class Vn{constructor(rt,xe){this.id=rt,this.url=xe}}class ii extends Vn{constructor(rt,xe,nt="imperative",Gt=null){super(rt,xe),this.type=0,this.navigationTrigger=nt,this.restoredState=Gt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ft extends Vn{constructor(rt,xe,nt){super(rt,xe),this.urlAfterRedirects=nt,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Pn extends Vn{constructor(rt,xe,nt,Gt){super(rt,xe),this.reason=nt,this.code=Gt,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Le extends Vn{constructor(rt,xe,nt,Gt){super(rt,xe),this.reason=nt,this.code=Gt,this.type=16}}class Bt extends Vn{constructor(rt,xe,nt,Gt){super(rt,xe),this.error=nt,this.target=Gt,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Rt extends Vn{constructor(rt,xe,nt,Gt){super(rt,xe),this.urlAfterRedirects=nt,this.state=Gt,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ln extends Vn{constructor(rt,xe,nt,Gt){super(rt,xe),this.urlAfterRedirects=nt,this.state=Gt,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fn extends Vn{constructor(rt,xe,nt,Gt,sn){super(rt,xe),this.urlAfterRedirects=nt,this.state=Gt,this.shouldActivate=sn,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vi extends Vn{constructor(rt,xe,nt,Gt){super(rt,xe),this.urlAfterRedirects=nt,this.state=Gt,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vr extends Vn{constructor(rt,xe,nt,Gt){super(rt,xe),this.urlAfterRedirects=nt,this.state=Gt,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zr{constructor(rt){this.route=rt,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gr{constructor(rt){this.route=rt,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ki{constructor(rt){this.snapshot=rt,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wi{constructor(rt){this.snapshot=rt,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vo{constructor(rt){this.snapshot=rt,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Do{constructor(rt){this.snapshot=rt,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _s{constructor(rt,xe,nt){this.routerEvent=rt,this.position=xe,this.anchor=nt,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Hr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new tr,this.attachRef=null}}let tr=(()=>{class Ge{constructor(){this.contexts=new Map}onChildOutletCreated(xe,nt){const Gt=this.getOrCreateContext(xe);Gt.outlet=nt,this.contexts.set(xe,Gt)}onChildOutletDestroyed(xe){const nt=this.getContext(xe);nt&&(nt.outlet=null,nt.attachRef=null)}onOutletDeactivated(){const xe=this.contexts;return this.contexts=new Map,xe}onOutletReAttached(xe){this.contexts=xe}getOrCreateContext(xe){let nt=this.getContext(xe);return nt||(nt=new Hr,this.contexts.set(xe,nt)),nt}getContext(xe){return this.contexts.get(xe)||null}static#e=this.\u0275fac=function(nt){return new(nt||Ge)};static#t=this.\u0275prov=e.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();class lo{constructor(rt){this._root=rt}get root(){return this._root.value}parent(rt){const xe=this.pathFromRoot(rt);return xe.length>1?xe[xe.length-2]:null}children(rt){const xe=jr(rt,this._root);return xe?xe.children.map(nt=>nt.value):[]}firstChild(rt){const xe=jr(rt,this._root);return xe&&xe.children.length>0?xe.children[0].value:null}siblings(rt){const xe=os(rt,this._root);return xe.length<2?[]:xe[xe.length-2].children.map(Gt=>Gt.value).filter(Gt=>Gt!==rt)}pathFromRoot(rt){return os(rt,this._root).map(xe=>xe.value)}}function jr(Ge,rt){if(Ge===rt.value)return rt;for(const xe of rt.children){const nt=jr(Ge,xe);if(nt)return nt}return null}function os(Ge,rt){if(Ge===rt.value)return[rt];for(const xe of rt.children){const nt=os(Ge,xe);if(nt.length)return nt.unshift(rt),nt}return[]}class xr{constructor(rt,xe){this.value=rt,this.children=xe}toString(){return`TreeNode(${this.value})`}}function co(Ge){const rt={};return Ge&&Ge.children.forEach(xe=>rt[xe.value.outlet]=xe),rt}class Xo extends lo{constructor(rt,xe){super(rt),this.snapshot=xe,zr(this,rt)}toString(){return this.snapshot.toString()}}function As(Ge,rt){const xe=function Cr(Ge,rt){const dn=new Vr([],{},{},"",{},Me,rt,null,{});return new Mo("",new xr(dn,[]))}(0,rt),nt=new m.X([new Fe("",{})]),Gt=new m.X({}),sn=new m.X({}),dn=new m.X({}),Kn=new m.X(""),mi=new yi(nt,Gt,dn,Kn,sn,Me,rt,xe.root);return mi.snapshot=xe.root,new Xo(new xr(mi,[]),xe)}class yi{constructor(rt,xe,nt,Gt,sn,dn,Kn,mi){this.urlSubject=rt,this.paramsSubject=xe,this.queryParamsSubject=nt,this.fragmentSubject=Gt,this.dataSubject=sn,this.outlet=dn,this.component=Kn,this._futureSnapshot=mi,this.title=this.dataSubject?.pipe((0,x.U)(Oi=>Oi[pe]))??(0,y.of)(void 0),this.url=rt,this.params=xe,this.queryParams=nt,this.fragment=Gt,this.data=sn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,x.U)(rt=>Be(rt)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,x.U)(rt=>Be(rt)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $i(Ge,rt="emptyOnly"){const xe=Ge.pathFromRoot;let nt=0;if("always"!==rt)for(nt=xe.length-1;nt>=1;){const Gt=xe[nt],sn=xe[nt-1];if(Gt.routeConfig&&""===Gt.routeConfig.path)nt--;else{if(sn.component)break;nt--}}return function Pr(Ge){return Ge.reduce((rt,xe)=>({params:{...rt.params,...xe.params},data:{...rt.data,...xe.data},resolve:{...xe.data,...rt.resolve,...xe.routeConfig?.data,...xe._resolvedData}}),{params:{},data:{},resolve:{}})}(xe.slice(nt))}class Vr{get title(){return this.data?.[pe]}constructor(rt,xe,nt,Gt,sn,dn,Kn,mi,Oi){this.url=rt,this.params=xe,this.queryParams=nt,this.fragment=Gt,this.data=sn,this.outlet=dn,this.component=Kn,this.routeConfig=mi,this._resolve=Oi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Be(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Be(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(nt=>nt.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mo extends lo{constructor(rt,xe){super(xe),this.url=rt,zr(this,xe)}toString(){return po(this._root)}}function zr(Ge,rt){rt.value._routerState=Ge,rt.children.forEach(xe=>zr(Ge,xe))}function po(Ge){const rt=Ge.children.length>0?` { ${Ge.children.map(po).join(", ")} } `:"";return`${Ge.value}${rt}`}function Dn(Ge){if(Ge.snapshot){const rt=Ge.snapshot,xe=Ge._futureSnapshot;Ge.snapshot=xe,je(rt.queryParams,xe.queryParams)||Ge.queryParamsSubject.next(xe.queryParams),rt.fragment!==xe.fragment&&Ge.fragmentSubject.next(xe.fragment),je(rt.params,xe.params)||Ge.paramsSubject.next(xe.params),function Xe(Ge,rt){if(Ge.length!==rt.length)return!1;for(let xe=0;xe<Ge.length;++xe)if(!je(Ge[xe],rt[xe]))return!1;return!0}(rt.url,xe.url)||Ge.urlSubject.next(xe.url),je(rt.data,xe.data)||Ge.dataSubject.next(xe.data)}else Ge.snapshot=Ge._futureSnapshot,Ge.dataSubject.next(Ge._futureSnapshot.data)}function Xn(Ge,rt){const xe=je(Ge.params,rt.params)&&function ct(Ge,rt){return qe(Ge,rt)&&Ge.every((xe,nt)=>je(xe.parameters,rt[nt].parameters))}(Ge.url,rt.url);return xe&&!(!Ge.parent!=!rt.parent)&&(!Ge.parent||Xn(Ge.parent,rt.parent))}let hi=(()=>{class Ge{constructor(){this.activated=null,this._activatedRoute=null,this.name=Me,this.activateEvents=new e.vpe,this.deactivateEvents=new e.vpe,this.attachEvents=new e.vpe,this.detachEvents=new e.vpe,this.parentContexts=(0,e.f3M)(tr),this.location=(0,e.f3M)(e.s_b),this.changeDetector=(0,e.f3M)(e.sBO),this.environmentInjector=(0,e.f3M)(e.lqb),this.inputBinder=(0,e.f3M)(Ui,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(xe){if(xe.name){const{firstChange:nt,previousValue:Gt}=xe.name;if(nt)return;this.isTrackedInParentContexts(Gt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Gt)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(xe){return this.parentContexts.getContext(xe)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const xe=this.parentContexts.getContext(this.name);xe?.route&&(xe.attachRef?this.attach(xe.attachRef,xe.route):this.activateWith(xe.route,xe.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.vHH(4012,!1);this.location.detach();const xe=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(xe.instance),xe}attach(xe,nt){this.activated=xe,this._activatedRoute=nt,this.location.insert(xe.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(xe.instance)}deactivate(){if(this.activated){const xe=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(xe)}}activateWith(xe,nt){if(this.isActivated)throw new e.vHH(4013,!1);this._activatedRoute=xe;const Gt=this.location,dn=xe.snapshot.component,Kn=this.parentContexts.getOrCreateContext(this.name).children,mi=new li(xe,Kn,Gt.injector);this.activated=Gt.createComponent(dn,{index:Gt.length,injector:mi,environmentInjector:nt??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(nt){return new(nt||Ge)};static#t=this.\u0275dir=e.lG2({type:Ge,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[e.TTD]})}return Ge})();class li{constructor(rt,xe,nt){this.route=rt,this.childContexts=xe,this.parent=nt}get(rt,xe){return rt===yi?this.route:rt===tr?this.childContexts:this.parent.get(rt,xe)}}const Ui=new e.OlP("");let Ji=(()=>{class Ge{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(xe){this.unsubscribeFromRouteData(xe),this.subscribeToRouteData(xe)}unsubscribeFromRouteData(xe){this.outletDataSubscriptions.get(xe)?.unsubscribe(),this.outletDataSubscriptions.delete(xe)}subscribeToRouteData(xe){const{activatedRoute:nt}=xe,Gt=(0,P.a)([nt.queryParams,nt.params,nt.data]).pipe((0,R.w)(([sn,dn,Kn],mi)=>(Kn={...sn,...dn,...Kn},0===mi?(0,y.of)(Kn):Promise.resolve(Kn)))).subscribe(sn=>{if(!xe.isActivated||!xe.activatedComponentRef||xe.activatedRoute!==nt||null===nt.component)return void this.unsubscribeFromRouteData(xe);const dn=(0,e.qFp)(nt.component);if(dn)for(const{templateName:Kn}of dn.inputs)xe.activatedComponentRef.setInput(Kn,sn[Kn]);else this.unsubscribeFromRouteData(xe)});this.outletDataSubscriptions.set(xe,Gt)}static#e=this.\u0275fac=function(nt){return new(nt||Ge)};static#t=this.\u0275prov=e.Yz7({token:Ge,factory:Ge.\u0275fac})}return Ge})();function Ki(Ge,rt,xe){if(xe&&Ge.shouldReuseRoute(rt.value,xe.value.snapshot)){const nt=xe.value;nt._futureSnapshot=rt.value;const Gt=function Ir(Ge,rt,xe){return rt.children.map(nt=>{for(const Gt of xe.children)if(Ge.shouldReuseRoute(nt.value,Gt.value.snapshot))return Ki(Ge,nt,Gt);return Ki(Ge,nt)})}(Ge,rt,xe);return new xr(nt,Gt)}{if(Ge.shouldAttach(rt.value)){const sn=Ge.retrieve(rt.value);if(null!==sn){const dn=sn.route;return dn.value._futureSnapshot=rt.value,dn.children=rt.children.map(Kn=>Ki(Ge,Kn)),dn}}const nt=function Io(Ge){return new yi(new m.X(Ge.url),new m.X(Ge.params),new m.X(Ge.queryParams),new m.X(Ge.fragment),new m.X(Ge.data),Ge.outlet,Ge.component,Ge)}(rt.value),Gt=rt.children.map(sn=>Ki(Ge,sn));return new xr(nt,Gt)}}const Lo="ngNavigationCancelingError";function ko(Ge,rt){const{redirectTo:xe,navigationBehaviorOptions:nt}=wn(rt)?{redirectTo:rt,navigationBehaviorOptions:void 0}:rt,Gt=Ks(!1,0,rt);return Gt.url=xe,Gt.navigationBehaviorOptions=nt,Gt}function Ks(Ge,rt,xe){const nt=new Error("NavigationCancelingError: "+(Ge||""));return nt[Lo]=!0,nt.cancellationCode=rt,xe&&(nt.url=xe),nt}function Xr(Ge){return _o(Ge)&&wn(Ge.url)}function _o(Ge){return Ge&&Ge[Lo]}let ss=(()=>{class Ge{static#e=this.\u0275fac=function(nt){return new(nt||Ge)};static#t=this.\u0275cmp=e.Xpm({type:Ge,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(nt,Gt){1&nt&&e._UZ(0,"router-outlet")},dependencies:[hi],encapsulation:2})}return Ge})();function Kr(Ge){const rt=Ge.children&&Ge.children.map(Kr),xe=rt?{...Ge,children:rt}:{...Ge};return!xe.component&&!xe.loadComponent&&(rt||xe.loadChildren)&&xe.outlet&&xe.outlet!==Me&&(xe.component=ss),xe}function hr(Ge){return Ge.outlet||Me}function no(Ge){if(!Ge)return null;if(Ge.routeConfig?._injector)return Ge.routeConfig._injector;for(let rt=Ge.parent;rt;rt=rt.parent){const xe=rt.routeConfig;if(xe?._loadedInjector)return xe._loadedInjector;if(xe?._injector)return xe._injector}return null}class kr{constructor(rt,xe,nt,Gt,sn){this.routeReuseStrategy=rt,this.futureState=xe,this.currState=nt,this.forwardEvent=Gt,this.inputBindingEnabled=sn}activate(rt){const xe=this.futureState._root,nt=this.currState?this.currState._root:null;this.deactivateChildRoutes(xe,nt,rt),Dn(this.futureState.root),this.activateChildRoutes(xe,nt,rt)}deactivateChildRoutes(rt,xe,nt){const Gt=co(xe);rt.children.forEach(sn=>{const dn=sn.value.outlet;this.deactivateRoutes(sn,Gt[dn],nt),delete Gt[dn]}),Object.values(Gt).forEach(sn=>{this.deactivateRouteAndItsChildren(sn,nt)})}deactivateRoutes(rt,xe,nt){const Gt=rt.value,sn=xe?xe.value:null;if(Gt===sn)if(Gt.component){const dn=nt.getContext(Gt.outlet);dn&&this.deactivateChildRoutes(rt,xe,dn.children)}else this.deactivateChildRoutes(rt,xe,nt);else sn&&this.deactivateRouteAndItsChildren(xe,nt)}deactivateRouteAndItsChildren(rt,xe){rt.value.component&&this.routeReuseStrategy.shouldDetach(rt.value.snapshot)?this.detachAndStoreRouteSubtree(rt,xe):this.deactivateRouteAndOutlet(rt,xe)}detachAndStoreRouteSubtree(rt,xe){const nt=xe.getContext(rt.value.outlet),Gt=nt&&rt.value.component?nt.children:xe,sn=co(rt);for(const dn of Object.keys(sn))this.deactivateRouteAndItsChildren(sn[dn],Gt);if(nt&&nt.outlet){const dn=nt.outlet.detach(),Kn=nt.children.onOutletDeactivated();this.routeReuseStrategy.store(rt.value.snapshot,{componentRef:dn,route:rt,contexts:Kn})}}deactivateRouteAndOutlet(rt,xe){const nt=xe.getContext(rt.value.outlet),Gt=nt&&rt.value.component?nt.children:xe,sn=co(rt);for(const dn of Object.keys(sn))this.deactivateRouteAndItsChildren(sn[dn],Gt);nt&&(nt.outlet&&(nt.outlet.deactivate(),nt.children.onOutletDeactivated()),nt.attachRef=null,nt.route=null)}activateChildRoutes(rt,xe,nt){const Gt=co(xe);rt.children.forEach(sn=>{this.activateRoutes(sn,Gt[sn.value.outlet],nt),this.forwardEvent(new Do(sn.value.snapshot))}),rt.children.length&&this.forwardEvent(new wi(rt.value.snapshot))}activateRoutes(rt,xe,nt){const Gt=rt.value,sn=xe?xe.value:null;if(Dn(Gt),Gt===sn)if(Gt.component){const dn=nt.getOrCreateContext(Gt.outlet);this.activateChildRoutes(rt,xe,dn.children)}else this.activateChildRoutes(rt,xe,nt);else if(Gt.component){const dn=nt.getOrCreateContext(Gt.outlet);if(this.routeReuseStrategy.shouldAttach(Gt.snapshot)){const Kn=this.routeReuseStrategy.retrieve(Gt.snapshot);this.routeReuseStrategy.store(Gt.snapshot,null),dn.children.onOutletReAttached(Kn.contexts),dn.attachRef=Kn.componentRef,dn.route=Kn.route.value,dn.outlet&&dn.outlet.attach(Kn.componentRef,Kn.route.value),Dn(Kn.route.value),this.activateChildRoutes(rt,null,dn.children)}else{const Kn=no(Gt.snapshot);dn.attachRef=null,dn.route=Gt,dn.injector=Kn,dn.outlet&&dn.outlet.activateWith(Gt,dn.injector),this.activateChildRoutes(rt,null,dn.children)}}else this.activateChildRoutes(rt,null,nt)}}class mr{constructor(rt){this.path=rt,this.route=this.path[this.path.length-1]}}class Fo{constructor(rt,xe){this.component=rt,this.route=xe}}function Ys(Ge,rt,xe){const nt=Ge._root;return Wo(nt,rt?rt._root:null,xe,[nt.value])}function vs(Ge,rt){const xe=Symbol(),nt=rt.get(Ge,xe);return nt===xe?"function"!=typeof Ge||(0,e.Z0I)(Ge)?rt.get(Ge):Ge:nt}function Wo(Ge,rt,xe,nt,Gt={canDeactivateChecks:[],canActivateChecks:[]}){const sn=co(rt);return Ge.children.forEach(dn=>{(function ws(Ge,rt,xe,nt,Gt={canDeactivateChecks:[],canActivateChecks:[]}){const sn=Ge.value,dn=rt?rt.value:null,Kn=xe?xe.getContext(Ge.value.outlet):null;if(dn&&sn.routeConfig===dn.routeConfig){const mi=function Da(Ge,rt,xe){if("function"==typeof xe)return xe(Ge,rt);switch(xe){case"pathParamsChange":return!qe(Ge.url,rt.url);case"pathParamsOrQueryParamsChange":return!qe(Ge.url,rt.url)||!je(Ge.queryParams,rt.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xn(Ge,rt)||!je(Ge.queryParams,rt.queryParams);default:return!Xn(Ge,rt)}}(dn,sn,sn.routeConfig.runGuardsAndResolvers);mi?Gt.canActivateChecks.push(new mr(nt)):(sn.data=dn.data,sn._resolvedData=dn._resolvedData),Wo(Ge,rt,sn.component?Kn?Kn.children:null:xe,nt,Gt),mi&&Kn&&Kn.outlet&&Kn.outlet.isActivated&&Gt.canDeactivateChecks.push(new Fo(Kn.outlet.component,dn))}else dn&&Ls(rt,Kn,Gt),Gt.canActivateChecks.push(new mr(nt)),Wo(Ge,null,sn.component?Kn?Kn.children:null:xe,nt,Gt)})(dn,sn[dn.value.outlet],xe,nt.concat([dn.value]),Gt),delete sn[dn.value.outlet]}),Object.entries(sn).forEach(([dn,Kn])=>Ls(Kn,xe.getContext(dn),Gt)),Gt}function Ls(Ge,rt,xe){const nt=co(Ge),Gt=Ge.value;Object.entries(nt).forEach(([sn,dn])=>{Ls(dn,Gt.component?rt?rt.children.getContext(sn):null:rt,xe)}),xe.canDeactivateChecks.push(new Fo(Gt.component&&rt&&rt.outlet&&rt.outlet.isActivated?rt.outlet.component:null,Gt))}function vo(Ge){return"function"==typeof Ge}function ra(Ge){return Ge instanceof D.K||"EmptyError"===Ge?.name}const Fs=Symbol("INITIAL_VALUE");function ys(){return(0,R.w)(Ge=>(0,P.a)(Ge.map(rt=>rt.pipe((0,O.q)(1),(0,S.O)(Fs)))).pipe((0,x.U)(rt=>{for(const xe of rt)if(!0!==xe){if(xe===Fs)return Fs;if(!1===xe||xe instanceof Se)return xe}return!0}),(0,I.h)(rt=>rt!==Fs),(0,O.q)(1)))}function Zi(Ge){return(0,c.z)((0,B.b)(rt=>{if(wn(rt))throw ko(0,rt)}),(0,x.U)(rt=>!0===rt))}class ts{constructor(rt){this.segmentGroup=rt||null}}class bs{constructor(rt){this.urlTree=rt}}function si(Ge){return(0,d._)(new ts(Ge))}function Os(Ge){return(0,d._)(new bs(Ge))}class cl{constructor(rt,xe){this.urlSerializer=rt,this.urlTree=xe}noMatchError(rt){return new e.vHH(4002,!1)}lineralizeSegments(rt,xe){let nt=[],Gt=xe.root;for(;;){if(nt=nt.concat(Gt.segments),0===Gt.numberOfChildren)return(0,y.of)(nt);if(Gt.numberOfChildren>1||!Gt.children[Me])return(0,d._)(new e.vHH(4e3,!1));Gt=Gt.children[Me]}}applyRedirectCommands(rt,xe,nt){return this.applyRedirectCreateUrlTree(xe,this.urlSerializer.parse(xe),rt,nt)}applyRedirectCreateUrlTree(rt,xe,nt,Gt){const sn=this.createSegmentGroup(rt,xe.root,nt,Gt);return new Se(sn,this.createQueryParams(xe.queryParams,this.urlTree.queryParams),xe.fragment)}createQueryParams(rt,xe){const nt={};return Object.entries(rt).forEach(([Gt,sn])=>{if("string"==typeof sn&&sn.startsWith(":")){const Kn=sn.substring(1);nt[Gt]=xe[Kn]}else nt[Gt]=sn}),nt}createSegmentGroup(rt,xe,nt,Gt){const sn=this.createSegments(rt,xe.segments,nt,Gt);let dn={};return Object.entries(xe.children).forEach(([Kn,mi])=>{dn[Kn]=this.createSegmentGroup(rt,mi,nt,Gt)}),new Ee(sn,dn)}createSegments(rt,xe,nt,Gt){return xe.map(sn=>sn.path.startsWith(":")?this.findPosParam(rt,sn,Gt):this.findOrReturn(sn,nt))}findPosParam(rt,xe,nt){const Gt=nt[xe.path.substring(1)];if(!Gt)throw new e.vHH(4001,!1);return Gt}findOrReturn(rt,xe){let nt=0;for(const Gt of xe){if(Gt.path===rt.path)return xe.splice(nt),Gt;nt++}return rt}}const ha={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xa(Ge,rt,xe,nt,Gt){const sn=oa(Ge,rt,xe);return sn.matched?(nt=function as(Ge,rt){return Ge.providers&&!Ge._injector&&(Ge._injector=(0,e.MMx)(Ge.providers,rt,`Route: ${Ge.path}`)),Ge._injector??rt}(rt,nt),function Yo(Ge,rt,xe,nt){const Gt=rt.canMatch;if(!Gt||0===Gt.length)return(0,y.of)(!0);const sn=Gt.map(dn=>{const Kn=vs(dn,Ge);return fe(function Fr(Ge){return Ge&&vo(Ge.canMatch)}(Kn)?Kn.canMatch(rt,xe):Ge.runInContext(()=>Kn(rt,xe)))});return(0,y.of)(sn).pipe(ys(),Zi())}(nt,rt,xe).pipe((0,x.U)(dn=>!0===dn?sn:{...ha}))):(0,y.of)(sn)}function oa(Ge,rt,xe){if(""===rt.path)return"full"===rt.pathMatch&&(Ge.hasChildren()||xe.length>0)?{...ha}:{matched:!0,consumedSegments:[],remainingSegments:xe,parameters:{},positionalParamSegments:{}};const Gt=(rt.matcher||at)(xe,Ge,rt);if(!Gt)return{...ha};const sn={};Object.entries(Gt.posParams??{}).forEach(([Kn,mi])=>{sn[Kn]=mi.path});const dn=Gt.consumed.length>0?{...sn,...Gt.consumed[Gt.consumed.length-1].parameters}:sn;return{matched:!0,consumedSegments:Gt.consumed,remainingSegments:xe.slice(Gt.consumed.length),parameters:dn,positionalParamSegments:Gt.posParams??{}}}function us(Ge,rt,xe,nt){return xe.length>0&&function ma(Ge,rt,xe){return xe.some(nt=>Ia(Ge,rt,nt)&&hr(nt)!==Me)}(Ge,xe,nt)?{segmentGroup:new Ee(rt,Ol(nt,new Ee(xe,Ge.children))),slicedSegments:[]}:0===xe.length&&function ul(Ge,rt,xe){return xe.some(nt=>Ia(Ge,rt,nt))}(Ge,xe,nt)?{segmentGroup:new Ee(Ge.segments,dl(Ge,0,xe,nt,Ge.children)),slicedSegments:xe}:{segmentGroup:new Ee(Ge.segments,Ge.children),slicedSegments:xe}}function dl(Ge,rt,xe,nt,Gt){const sn={};for(const dn of nt)if(Ia(Ge,xe,dn)&&!Gt[hr(dn)]){const Kn=new Ee([],{});sn[hr(dn)]=Kn}return{...Gt,...sn}}function Ol(Ge,rt){const xe={};xe[Me]=rt;for(const nt of Ge)if(""===nt.path&&hr(nt)!==Me){const Gt=new Ee([],{});xe[hr(nt)]=Gt}return xe}function Ia(Ge,rt,xe){return(!(Ge.hasChildren()||rt.length>0)||"full"!==xe.pathMatch)&&""===xe.path}class gc{constructor(rt,xe,nt,Gt,sn,dn,Kn){this.injector=rt,this.configLoader=xe,this.rootComponentType=nt,this.config=Gt,this.urlTree=sn,this.paramsInheritanceStrategy=dn,this.urlSerializer=Kn,this.allowRedirects=!0,this.applyRedirects=new cl(this.urlSerializer,this.urlTree)}noMatchError(rt){return new e.vHH(4002,!1)}recognize(){const rt=us(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,rt,Me).pipe(Re(xe=>{if(xe instanceof bs)return this.allowRedirects=!1,this.urlTree=xe.urlTree,this.match(xe.urlTree);throw xe instanceof ts?this.noMatchError(xe):xe}),(0,x.U)(xe=>{const nt=new Vr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Me,this.rootComponentType,null,{}),Gt=new xr(nt,xe),sn=new Mo("",Gt),dn=function Nn(Ge,rt,xe=null,nt=null){return ti($n(Ge),rt,xe,nt)}(nt,[],this.urlTree.queryParams,this.urlTree.fragment);return dn.queryParams=this.urlTree.queryParams,sn.url=this.urlSerializer.serialize(dn),this.inheritParamsAndData(sn._root),{state:sn,tree:dn}}))}match(rt){return this.processSegmentGroup(this.injector,this.config,rt.root,Me).pipe(Re(nt=>{throw nt instanceof ts?this.noMatchError(nt):nt}))}inheritParamsAndData(rt){const xe=rt.value,nt=$i(xe,this.paramsInheritanceStrategy);xe.params=Object.freeze(nt.params),xe.data=Object.freeze(nt.data),rt.children.forEach(Gt=>this.inheritParamsAndData(Gt))}processSegmentGroup(rt,xe,nt,Gt){return 0===nt.segments.length&&nt.hasChildren()?this.processChildren(rt,xe,nt):this.processSegment(rt,xe,nt,nt.segments,Gt,!0)}processChildren(rt,xe,nt){const Gt=[];for(const sn of Object.keys(nt.children))"primary"===sn?Gt.unshift(sn):Gt.push(sn);return(0,v.D)(Gt).pipe((0,b.b)(sn=>{const dn=nt.children[sn],Kn=function Sr(Ge,rt){const xe=Ge.filter(nt=>hr(nt)===rt);return xe.push(...Ge.filter(nt=>hr(nt)!==rt)),xe}(xe,sn);return this.processSegmentGroup(rt,Kn,dn,sn)}),function ae(Ge,rt){return(0,le.e)(function Y(Ge,rt,xe,nt,Gt){return(sn,dn)=>{let Kn=xe,mi=rt,Oi=0;sn.subscribe((0,oe.x)(dn,Ri=>{const Er=Oi++;mi=Kn?Ge(mi,Ri,Er):(Kn=!0,Ri),nt&&dn.next(mi)},Gt&&(()=>{Kn&&dn.next(mi),dn.complete()})))}}(Ge,rt,arguments.length>=2,!0))}((sn,dn)=>(sn.push(...dn),sn)),(0,G.d)(null),function be(Ge,rt){const xe=arguments.length>=2;return nt=>nt.pipe(Ge?(0,I.h)((Gt,sn)=>Ge(Gt,sn,nt)):Te.y,De(1),xe?(0,G.d)(rt):(0,ce.T)(()=>new D.K))}(),(0,E.z)(sn=>{if(null===sn)return si(nt);const dn=pa(sn);return function Va(Ge){Ge.sort((rt,xe)=>rt.value.outlet===Me?-1:xe.value.outlet===Me?1:rt.value.outlet.localeCompare(xe.value.outlet))}(dn),(0,y.of)(dn)}))}processSegment(rt,xe,nt,Gt,sn,dn){return(0,v.D)(xe).pipe((0,b.b)(Kn=>this.processSegmentAgainstRoute(Kn._injector??rt,xe,Kn,nt,Gt,sn,dn).pipe(Re(mi=>{if(mi instanceof ts)return(0,y.of)(null);throw mi}))),(0,L.P)(Kn=>!!Kn),Re(Kn=>{if(ra(Kn))return function Zc(Ge,rt,xe){return 0===rt.length&&!Ge.children[xe]}(nt,Gt,sn)?(0,y.of)([]):si(nt);throw Kn}))}processSegmentAgainstRoute(rt,xe,nt,Gt,sn,dn,Kn){return function wo(Ge,rt,xe,nt){return!!(hr(Ge)===nt||nt!==Me&&Ia(rt,xe,Ge))&&("**"===Ge.path||oa(rt,Ge,xe).matched)}(nt,Gt,sn,dn)?void 0===nt.redirectTo?this.matchSegmentAgainstRoute(rt,Gt,nt,sn,dn,Kn):Kn&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(rt,Gt,xe,nt,sn,dn):si(Gt):si(Gt)}expandSegmentAgainstRouteUsingRedirect(rt,xe,nt,Gt,sn,dn){return"**"===Gt.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(rt,nt,Gt,dn):this.expandRegularSegmentAgainstRouteUsingRedirect(rt,xe,nt,Gt,sn,dn)}expandWildCardWithParamsAgainstRouteUsingRedirect(rt,xe,nt,Gt){const sn=this.applyRedirects.applyRedirectCommands([],nt.redirectTo,{});return nt.redirectTo.startsWith("/")?Os(sn):this.applyRedirects.lineralizeSegments(nt,sn).pipe((0,E.z)(dn=>{const Kn=new Ee(dn,{});return this.processSegment(rt,xe,Kn,dn,Gt,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(rt,xe,nt,Gt,sn,dn){const{matched:Kn,consumedSegments:mi,remainingSegments:Oi,positionalParamSegments:Ri}=oa(xe,Gt,sn);if(!Kn)return si(xe);const Er=this.applyRedirects.applyRedirectCommands(mi,Gt.redirectTo,Ri);return Gt.redirectTo.startsWith("/")?Os(Er):this.applyRedirects.lineralizeSegments(Gt,Er).pipe((0,E.z)(Jr=>this.processSegment(rt,nt,xe,Jr.concat(Oi),dn,!1)))}matchSegmentAgainstRoute(rt,xe,nt,Gt,sn,dn){let Kn;if("**"===nt.path){const mi=Gt.length>0?ee(Gt).parameters:{},Oi=new Vr(Gt,mi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ga(nt),hr(nt),nt.component??nt._loadedComponent??null,nt,hl(nt));Kn=(0,y.of)({snapshot:Oi,consumedSegments:[],remainingSegments:[]}),xe.children={}}else Kn=xa(xe,nt,Gt,rt).pipe((0,x.U)(({matched:mi,consumedSegments:Oi,remainingSegments:Ri,parameters:Er})=>mi?{snapshot:new Vr(Oi,Er,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ga(nt),hr(nt),nt.component??nt._loadedComponent??null,nt,hl(nt)),consumedSegments:Oi,remainingSegments:Ri}:null));return Kn.pipe((0,R.w)(mi=>null===mi?si(xe):this.getChildConfig(rt=nt._injector??rt,nt,Gt).pipe((0,R.w)(({routes:Oi})=>{const Ri=nt._loadedInjector??rt,{snapshot:Er,consumedSegments:Jr,remainingSegments:ro}=mi,{segmentGroup:zo,slicedSegments:hs}=us(xe,Jr,ro,Oi);if(0===hs.length&&zo.hasChildren())return this.processChildren(Ri,Oi,zo).pipe((0,x.U)(Za=>null===Za?null:[new xr(Er,Za)]));if(0===Oi.length&&0===hs.length)return(0,y.of)([new xr(Er,[])]);const is=hr(nt)===sn;return this.processSegment(Ri,Oi,zo,hs,is?Me:sn,!0).pipe((0,x.U)(Za=>[new xr(Er,Za)]))}))))}getChildConfig(rt,xe,nt){return xe.children?(0,y.of)({routes:xe.children,injector:rt}):xe.loadChildren?void 0!==xe._loadedRoutes?(0,y.of)({routes:xe._loadedRoutes,injector:xe._loadedInjector}):function Ti(Ge,rt,xe,nt){const Gt=rt.canLoad;if(void 0===Gt||0===Gt.length)return(0,y.of)(!0);const sn=Gt.map(dn=>{const Kn=vs(dn,Ge);return fe(function es(Ge){return Ge&&vo(Ge.canLoad)}(Kn)?Kn.canLoad(rt,xe):Ge.runInContext(()=>Kn(rt,xe)))});return(0,y.of)(sn).pipe(ys(),Zi())}(rt,xe,nt).pipe((0,E.z)(Gt=>Gt?this.configLoader.loadChildren(rt,xe).pipe((0,B.b)(sn=>{xe._loadedRoutes=sn.routes,xe._loadedInjector=sn.injector})):function ds(Ge){return(0,d._)(Ks(!1,3))}())):(0,y.of)({routes:[],injector:rt})}}function Pl(Ge){const rt=Ge.value.routeConfig;return rt&&""===rt.path}function pa(Ge){const rt=[],xe=new Set;for(const nt of Ge){if(!Pl(nt)){rt.push(nt);continue}const Gt=rt.find(sn=>nt.value.routeConfig===sn.value.routeConfig);void 0!==Gt?(Gt.children.push(...nt.children),xe.add(Gt)):rt.push(nt)}for(const nt of xe){const Gt=pa(nt.children);rt.push(new xr(nt.value,Gt))}return rt.filter(nt=>!xe.has(nt))}function ga(Ge){return Ge.data||{}}function hl(Ge){return Ge.resolve||{}}function Es(Ge){return"string"==typeof Ge.title||null===Ge.title}function Oa(Ge){return(0,R.w)(rt=>{const xe=Ge(rt);return xe?(0,v.D)(xe).pipe((0,x.U)(()=>rt)):(0,y.of)(rt)})}const Ts=new e.OlP("ROUTES");let nr=(()=>{class Ge{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,e.f3M)(e.Sil)}loadComponent(xe){if(this.componentLoaders.get(xe))return this.componentLoaders.get(xe);if(xe._loadedComponent)return(0,y.of)(xe._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(xe);const nt=fe(xe.loadComponent()).pipe((0,x.U)(ze),(0,B.b)(sn=>{this.onLoadEndListener&&this.onLoadEndListener(xe),xe._loadedComponent=sn}),(0,ie.x)(()=>{this.componentLoaders.delete(xe)})),Gt=new p.c(nt,()=>new C.x).pipe((0,ye.x)());return this.componentLoaders.set(xe,Gt),Gt}loadChildren(xe,nt){if(this.childrenLoaders.get(nt))return this.childrenLoaders.get(nt);if(nt._loadedRoutes)return(0,y.of)({routes:nt._loadedRoutes,injector:nt._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(nt);const sn=this.loadModuleFactoryOrRoutes(nt.loadChildren).pipe((0,x.U)(Kn=>{this.onLoadEndListener&&this.onLoadEndListener(nt);let mi,Oi;return Array.isArray(Kn)?Oi=Kn:(mi=Kn.create(xe).injector,Oi=mi.get(Ts,[],e.XFs.Self|e.XFs.Optional).flat()),{routes:Oi.map(Kr),injector:mi}}),(0,ie.x)(()=>{this.childrenLoaders.delete(nt)})),dn=new p.c(sn,()=>new C.x).pipe((0,ye.x)());return this.childrenLoaders.set(nt,dn),dn}loadModuleFactoryOrRoutes(xe){return fe(xe()).pipe((0,x.U)(ze),(0,E.z)(nt=>nt instanceof e.YKP||Array.isArray(nt)?(0,y.of)(nt):(0,v.D)(this.compiler.compileModuleAsync(nt))))}static#e=this.\u0275fac=function(nt){return new(nt||Ge)};static#t=this.\u0275prov=e.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();function ze(Ge){return function Ka(Ge){return Ge&&"object"==typeof Ge&&"default"in Ge}(Ge)?Ge.default:Ge}let Yt=(()=>{class Ge{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new C.x,this.configLoader=(0,e.f3M)(nr),this.environmentInjector=(0,e.f3M)(e.lqb),this.urlSerializer=(0,e.f3M)(gt),this.rootContexts=(0,e.f3M)(tr),this.inputBindingEnabled=null!==(0,e.f3M)(Ui,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,y.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Gt=>this.events.next(new Gr(Gt)),this.configLoader.onLoadStartListener=Gt=>this.events.next(new Zr(Gt))}complete(){this.transitions?.complete()}handleNavigationRequest(xe){const nt=++this.navigationId;this.transitions?.next({...this.transitions.value,...xe,id:nt})}setupNavigations(xe){return this.transitions=new m.X({id:0,currentUrlTree:xe.currentUrlTree,currentRawUrl:xe.currentUrlTree,extractedUrl:xe.urlHandlingStrategy.extract(xe.currentUrlTree),urlAfterRedirects:xe.urlHandlingStrategy.extract(xe.currentUrlTree),rawUrl:xe.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:An,restoredState:null,currentSnapshot:xe.routerState.snapshot,targetSnapshot:null,currentRouterState:xe.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,I.h)(nt=>0!==nt.id),(0,x.U)(nt=>({...nt,extractedUrl:xe.urlHandlingStrategy.extract(nt.rawUrl)})),(0,R.w)(nt=>{let Gt=!1,sn=!1;return(0,y.of)(nt).pipe((0,B.b)(dn=>{this.currentNavigation={id:dn.id,initialUrl:dn.rawUrl,extractedUrl:dn.extractedUrl,trigger:dn.source,extras:dn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,R.w)(dn=>{const Kn=xe.browserUrlTree.toString(),mi=!xe.navigated||dn.extractedUrl.toString()!==Kn||Kn!==xe.currentUrlTree.toString();if(!mi&&"reload"!==(dn.extras.onSameUrlNavigation??xe.onSameUrlNavigation)){const Ri="";return this.events.next(new Le(dn.id,xe.serializeUrl(nt.rawUrl),Ri,0)),xe.rawUrlTree=dn.rawUrl,dn.resolve(null),h.E}if(xe.urlHandlingStrategy.shouldProcessUrl(dn.rawUrl))return mt(dn.source)&&(xe.browserUrlTree=dn.extractedUrl),(0,y.of)(dn).pipe((0,R.w)(Ri=>{const Er=this.transitions?.getValue();return this.events.next(new ii(Ri.id,this.urlSerializer.serialize(Ri.extractedUrl),Ri.source,Ri.restoredState)),Er!==this.transitions?.getValue()?h.E:Promise.resolve(Ri)}),function ml(Ge,rt,xe,nt,Gt,sn){return(0,E.z)(dn=>function wa(Ge,rt,xe,nt,Gt,sn,dn="emptyOnly"){return new gc(Ge,rt,xe,nt,Gt,dn,sn).recognize()}(Ge,rt,xe,nt,dn.extractedUrl,Gt,sn).pipe((0,x.U)(({state:Kn,tree:mi})=>({...dn,targetSnapshot:Kn,urlAfterRedirects:mi}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,xe.config,this.urlSerializer,xe.paramsInheritanceStrategy),(0,B.b)(Ri=>{if(nt.targetSnapshot=Ri.targetSnapshot,nt.urlAfterRedirects=Ri.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ri.urlAfterRedirects},"eager"===xe.urlUpdateStrategy){if(!Ri.extras.skipLocationChange){const Jr=xe.urlHandlingStrategy.merge(Ri.urlAfterRedirects,Ri.rawUrl);xe.setBrowserUrl(Jr,Ri)}xe.browserUrlTree=Ri.urlAfterRedirects}const Er=new Rt(Ri.id,this.urlSerializer.serialize(Ri.extractedUrl),this.urlSerializer.serialize(Ri.urlAfterRedirects),Ri.targetSnapshot);this.events.next(Er)}));if(mi&&xe.urlHandlingStrategy.shouldProcessUrl(xe.rawUrlTree)){const{id:Ri,extractedUrl:Er,source:Jr,restoredState:ro,extras:zo}=dn,hs=new ii(Ri,this.urlSerializer.serialize(Er),Jr,ro);this.events.next(hs);const is=As(0,this.rootComponentType).snapshot;return nt={...dn,targetSnapshot:is,urlAfterRedirects:Er,extras:{...zo,skipLocationChange:!1,replaceUrl:!1}},(0,y.of)(nt)}{const Ri="";return this.events.next(new Le(dn.id,xe.serializeUrl(nt.extractedUrl),Ri,1)),xe.rawUrlTree=dn.rawUrl,dn.resolve(null),h.E}}),(0,B.b)(dn=>{const Kn=new ln(dn.id,this.urlSerializer.serialize(dn.extractedUrl),this.urlSerializer.serialize(dn.urlAfterRedirects),dn.targetSnapshot);this.events.next(Kn)}),(0,x.U)(dn=>nt={...dn,guards:Ys(dn.targetSnapshot,dn.currentSnapshot,this.rootContexts)}),function Aa(Ge,rt){return(0,E.z)(xe=>{const{targetSnapshot:nt,currentSnapshot:Gt,guards:{canActivateChecks:sn,canDeactivateChecks:dn}}=xe;return 0===dn.length&&0===sn.length?(0,y.of)({...xe,guardsResult:!0}):function Br(Ge,rt,xe,nt){return(0,v.D)(Ge).pipe((0,E.z)(Gt=>function On(Ge,rt,xe,nt,Gt){const sn=rt&&rt.routeConfig?rt.routeConfig.canDeactivate:null;if(!sn||0===sn.length)return(0,y.of)(!0);const dn=sn.map(Kn=>{const mi=no(rt)??Gt,Oi=vs(Kn,mi);return fe(function Zs(Ge){return Ge&&vo(Ge.canDeactivate)}(Oi)?Oi.canDeactivate(Ge,rt,xe,nt):mi.runInContext(()=>Oi(Ge,rt,xe,nt))).pipe((0,L.P)())});return(0,y.of)(dn).pipe(ys())}(Gt.component,Gt.route,xe,rt,nt)),(0,L.P)(Gt=>!0!==Gt,!0))}(dn,nt,Gt,Ge).pipe((0,E.z)(Kn=>Kn&&function ks(Ge){return"boolean"==typeof Ge}(Kn)?function kn(Ge,rt,xe,nt){return(0,v.D)(rt).pipe((0,b.b)(Gt=>(0,f.z)(function Ot(Ge,rt){return null!==Ge&&rt&&rt(new ki(Ge)),(0,y.of)(!0)}(Gt.route.parent,nt),function _t(Ge,rt){return null!==Ge&&rt&&rt(new Vo(Ge)),(0,y.of)(!0)}(Gt.route,nt),function $t(Ge,rt,xe){const nt=rt[rt.length-1],sn=rt.slice(0,rt.length-1).reverse().map(dn=>function pr(Ge){const rt=Ge.routeConfig?Ge.routeConfig.canActivateChild:null;return rt&&0!==rt.length?{node:Ge,guards:rt}:null}(dn)).filter(dn=>null!==dn).map(dn=>(0,i.P)(()=>{const Kn=dn.guards.map(mi=>{const Oi=no(dn.node)??xe,Ri=vs(mi,Oi);return fe(function Ma(Ge){return Ge&&vo(Ge.canActivateChild)}(Ri)?Ri.canActivateChild(nt,Ge):Oi.runInContext(()=>Ri(nt,Ge))).pipe((0,L.P)())});return(0,y.of)(Kn).pipe(ys())}));return(0,y.of)(sn).pipe(ys())}(Ge,Gt.path,xe),function ft(Ge,rt,xe){const nt=rt.routeConfig?rt.routeConfig.canActivate:null;if(!nt||0===nt.length)return(0,y.of)(!0);const Gt=nt.map(sn=>(0,i.P)(()=>{const dn=no(rt)??xe,Kn=vs(sn,dn);return fe(function fa(Ge){return Ge&&vo(Ge.canActivate)}(Kn)?Kn.canActivate(rt,Ge):dn.runInContext(()=>Kn(rt,Ge))).pipe((0,L.P)())}));return(0,y.of)(Gt).pipe(ys())}(Ge,Gt.route,xe))),(0,L.P)(Gt=>!0!==Gt,!0))}(nt,sn,Ge,rt):(0,y.of)(Kn)),(0,x.U)(Kn=>({...xe,guardsResult:Kn})))})}(this.environmentInjector,dn=>this.events.next(dn)),(0,B.b)(dn=>{if(nt.guardsResult=dn.guardsResult,wn(dn.guardsResult))throw ko(0,dn.guardsResult);const Kn=new Fn(dn.id,this.urlSerializer.serialize(dn.extractedUrl),this.urlSerializer.serialize(dn.urlAfterRedirects),dn.targetSnapshot,!!dn.guardsResult);this.events.next(Kn)}),(0,I.h)(dn=>!!dn.guardsResult||(xe.restoreHistory(dn),this.cancelNavigationTransition(dn,"",3),!1)),Oa(dn=>{if(dn.guards.canActivateChecks.length)return(0,y.of)(dn).pipe((0,B.b)(Kn=>{const mi=new vi(Kn.id,this.urlSerializer.serialize(Kn.extractedUrl),this.urlSerializer.serialize(Kn.urlAfterRedirects),Kn.targetSnapshot);this.events.next(mi)}),(0,R.w)(Kn=>{let mi=!1;return(0,y.of)(Kn).pipe(function _c(Ge,rt){return(0,E.z)(xe=>{const{targetSnapshot:nt,guards:{canActivateChecks:Gt}}=xe;if(!Gt.length)return(0,y.of)(xe);let sn=0;return(0,v.D)(Gt).pipe((0,b.b)(dn=>function _a(Ge,rt,xe,nt){const Gt=Ge.routeConfig,sn=Ge._resolve;return void 0!==Gt?.title&&!Es(Gt)&&(sn[pe]=Gt.title),function tl(Ge,rt,xe,nt){const Gt=function pl(Ge){return[...Object.keys(Ge),...Object.getOwnPropertySymbols(Ge)]}(Ge);if(0===Gt.length)return(0,y.of)({});const sn={};return(0,v.D)(Gt).pipe((0,E.z)(dn=>function Rl(Ge,rt,xe,nt){const Gt=no(rt)??nt,sn=vs(Ge,Gt);return fe(sn.resolve?sn.resolve(rt,xe):Gt.runInContext(()=>sn(rt,xe)))}(Ge[dn],rt,xe,nt).pipe((0,L.P)(),(0,B.b)(Kn=>{sn[dn]=Kn}))),De(1),(0,Oe.h)(sn),Re(dn=>ra(dn)?h.E:(0,d._)(dn)))}(sn,Ge,rt,nt).pipe((0,x.U)(dn=>(Ge._resolvedData=dn,Ge.data=$i(Ge,xe).resolve,Gt&&Es(Gt)&&(Ge.data[pe]=Gt.title),null)))}(dn.route,nt,Ge,rt)),(0,B.b)(()=>sn++),De(1),(0,E.z)(dn=>sn===Gt.length?(0,y.of)(xe):h.E))})}(xe.paramsInheritanceStrategy,this.environmentInjector),(0,B.b)({next:()=>mi=!0,complete:()=>{mi||(xe.restoreHistory(Kn),this.cancelNavigationTransition(Kn,"",2))}}))}),(0,B.b)(Kn=>{const mi=new vr(Kn.id,this.urlSerializer.serialize(Kn.extractedUrl),this.urlSerializer.serialize(Kn.urlAfterRedirects),Kn.targetSnapshot);this.events.next(mi)}))}),Oa(dn=>{const Kn=mi=>{const Oi=[];mi.routeConfig?.loadComponent&&!mi.routeConfig._loadedComponent&&Oi.push(this.configLoader.loadComponent(mi.routeConfig).pipe((0,B.b)(Ri=>{mi.component=Ri}),(0,x.U)(()=>{})));for(const Ri of mi.children)Oi.push(...Kn(Ri));return Oi};return(0,P.a)(Kn(dn.targetSnapshot.root)).pipe((0,G.d)(),(0,O.q)(1))}),Oa(()=>this.afterPreactivation()),(0,x.U)(dn=>{const Kn=function rr(Ge,rt,xe){const nt=Ki(Ge,rt._root,xe?xe._root:void 0);return new Xo(nt,rt)}(xe.routeReuseStrategy,dn.targetSnapshot,dn.currentRouterState);return nt={...dn,targetRouterState:Kn}}),(0,B.b)(dn=>{xe.currentUrlTree=dn.urlAfterRedirects,xe.rawUrlTree=xe.urlHandlingStrategy.merge(dn.urlAfterRedirects,dn.rawUrl),xe.routerState=dn.targetRouterState,"deferred"===xe.urlUpdateStrategy&&(dn.extras.skipLocationChange||xe.setBrowserUrl(xe.rawUrlTree,dn),xe.browserUrlTree=dn.urlAfterRedirects)}),((Ge,rt,xe,nt)=>(0,x.U)(Gt=>(new kr(rt,Gt.targetRouterState,Gt.currentRouterState,xe,nt).activate(Ge),Gt)))(this.rootContexts,xe.routeReuseStrategy,dn=>this.events.next(dn),this.inputBindingEnabled),(0,O.q)(1),(0,B.b)({next:dn=>{Gt=!0,this.lastSuccessfulNavigation=this.currentNavigation,xe.navigated=!0,this.events.next(new Ft(dn.id,this.urlSerializer.serialize(dn.extractedUrl),this.urlSerializer.serialize(xe.currentUrlTree))),xe.titleStrategy?.updateTitle(dn.targetRouterState.snapshot),dn.resolve(!0)},complete:()=>{Gt=!0}}),(0,ie.x)(()=>{Gt||sn||this.cancelNavigationTransition(nt,"",1),this.currentNavigation?.id===nt.id&&(this.currentNavigation=null)}),Re(dn=>{if(sn=!0,_o(dn)){Xr(dn)||(xe.navigated=!0,xe.restoreHistory(nt,!0));const Kn=new Pn(nt.id,this.urlSerializer.serialize(nt.extractedUrl),dn.message,dn.cancellationCode);if(this.events.next(Kn),Xr(dn)){const mi=xe.urlHandlingStrategy.merge(dn.url,xe.rawUrlTree),Oi={skipLocationChange:nt.extras.skipLocationChange,replaceUrl:"eager"===xe.urlUpdateStrategy||mt(nt.source)};xe.scheduleNavigation(mi,An,null,Oi,{resolve:nt.resolve,reject:nt.reject,promise:nt.promise})}else nt.resolve(!1)}else{xe.restoreHistory(nt,!0);const Kn=new Bt(nt.id,this.urlSerializer.serialize(nt.extractedUrl),dn,nt.targetSnapshot??void 0);this.events.next(Kn);try{nt.resolve(xe.errorHandler(dn))}catch(mi){nt.reject(mi)}}return h.E}))}))}cancelNavigationTransition(xe,nt,Gt){const sn=new Pn(xe.id,this.urlSerializer.serialize(xe.extractedUrl),nt,Gt);this.events.next(sn),xe.resolve(!1)}static#e=this.\u0275fac=function(nt){return new(nt||Ge)};static#t=this.\u0275prov=e.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();function mt(Ge){return Ge!==An}let Vt=(()=>{class Ge{buildTitle(xe){let nt,Gt=xe.root;for(;void 0!==Gt;)nt=this.getResolvedTitleForRoute(Gt)??nt,Gt=Gt.children.find(sn=>sn.outlet===Me);return nt}getResolvedTitleForRoute(xe){return xe.data[pe]}static#e=this.\u0275fac=function(nt){return new(nt||Ge)};static#t=this.\u0275prov=e.Yz7({token:Ge,factory:function(){return(0,e.f3M)(Cn)},providedIn:"root"})}return Ge})(),Cn=(()=>{class Ge extends Vt{constructor(xe){super(),this.title=xe}updateTitle(xe){const nt=this.buildTitle(xe);void 0!==nt&&this.title.setTitle(nt)}static#e=this.\u0275fac=function(nt){return new(nt||Ge)(e.LFG(de.Dx))};static#t=this.\u0275prov=e.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),zn=(()=>{class Ge{static#e=this.\u0275fac=function(nt){return new(nt||Ge)};static#t=this.\u0275prov=e.Yz7({token:Ge,factory:function(){return(0,e.f3M)(Fi)},providedIn:"root"})}return Ge})();class ai{shouldDetach(rt){return!1}store(rt,xe){}shouldAttach(rt){return!1}retrieve(rt){return null}shouldReuseRoute(rt,xe){return rt.routeConfig===xe.routeConfig}}let Fi=(()=>{class Ge extends ai{static#e=this.\u0275fac=function(){let xe;return function(Gt){return(xe||(xe=e.n5z(Ge)))(Gt||Ge)}}();static#t=this.\u0275prov=e.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();const Rr=new e.OlP("",{providedIn:"root",factory:()=>({})});let gr=(()=>{class Ge{static#e=this.\u0275fac=function(nt){return new(nt||Ge)};static#t=this.\u0275prov=e.Yz7({token:Ge,factory:function(){return(0,e.f3M)(dr)},providedIn:"root"})}return Ge})(),dr=(()=>{class Ge{shouldProcessUrl(xe){return!0}extract(xe){return xe}merge(xe,nt){return xe}static#e=this.\u0275fac=function(nt){return new(nt||Ge)};static#t=this.\u0275prov=e.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();var er=function(Ge){return Ge[Ge.COMPLETE=0]="COMPLETE",Ge[Ge.FAILED=1]="FAILED",Ge[Ge.REDIRECTING=2]="REDIRECTING",Ge}(er||{});function fo(Ge,rt){Ge.events.pipe((0,I.h)(xe=>xe instanceof Ft||xe instanceof Pn||xe instanceof Bt||xe instanceof Le),(0,x.U)(xe=>xe instanceof Ft||xe instanceof Le?er.COMPLETE:xe instanceof Pn&&(0===xe.code||1===xe.code)?er.REDIRECTING:er.FAILED),(0,I.h)(xe=>xe!==er.REDIRECTING),(0,O.q)(1)).subscribe(()=>{rt()})}function Nr(Ge){throw Ge}function _r(Ge,rt,xe){return rt.parse("/")}const ns={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Gi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $r=(()=>{class Ge{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,e.f3M)(e.c2e),this.isNgZoneEnabled=!1,this.options=(0,e.f3M)(Rr,{optional:!0})||{},this.pendingTasks=(0,e.f3M)(e.HDt),this.errorHandler=this.options.errorHandler||Nr,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||_r,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,e.f3M)(gr),this.routeReuseStrategy=(0,e.f3M)(zn),this.titleStrategy=(0,e.f3M)(Vt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,e.f3M)(Ts,{optional:!0})?.flat()??[],this.navigationTransitions=(0,e.f3M)(Yt),this.urlSerializer=(0,e.f3M)(gt),this.location=(0,e.f3M)(A.Ye),this.componentInputBindingEnabled=!!(0,e.f3M)(Ui,{optional:!0}),this.isNgZoneEnabled=(0,e.f3M)(e.R0b)instanceof e.R0b&&e.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Se,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=As(0,null),this.navigationTransitions.setupNavigations(this).subscribe(xe=>{this.lastSuccessfulId=xe.id,this.currentPageId=this.browserPageId??0},xe=>{this.console.warn(`Unhandled Navigation Error: ${xe}`)})}resetRootComponentType(xe){this.routerState.root.component=xe,this.navigationTransitions.rootComponentType=xe}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const xe=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),An,xe)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(xe=>{const nt="popstate"===xe.type?"popstate":"hashchange";"popstate"===nt&&setTimeout(()=>{this.navigateToSyncWithBrowser(xe.url,nt,xe.state)},0)}))}navigateToSyncWithBrowser(xe,nt,Gt){const sn={replaceUrl:!0},dn=Gt?.navigationId?Gt:null;if(Gt){const mi={...Gt};delete mi.navigationId,delete mi.\u0275routerPageId,0!==Object.keys(mi).length&&(sn.state=mi)}const Kn=this.parseUrl(xe);this.scheduleNavigation(Kn,nt,dn,sn)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(xe){this.config=xe.map(Kr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(xe,nt={}){const{relativeTo:Gt,queryParams:sn,fragment:dn,queryParamsHandling:Kn,preserveFragment:mi}=nt,Oi=mi?this.currentUrlTree.fragment:dn;let Er,Ri=null;switch(Kn){case"merge":Ri={...this.currentUrlTree.queryParams,...sn};break;case"preserve":Ri=this.currentUrlTree.queryParams;break;default:Ri=sn||null}null!==Ri&&(Ri=this.removeEmptyProps(Ri));try{Er=$n(Gt?Gt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof xe[0]||!xe[0].startsWith("/"))&&(xe=[]),Er=this.currentUrlTree.root}return ti(Er,xe,Ri,Oi??null)}navigateByUrl(xe,nt={skipLocationChange:!1}){const Gt=wn(xe)?xe:this.parseUrl(xe),sn=this.urlHandlingStrategy.merge(Gt,this.rawUrlTree);return this.scheduleNavigation(sn,An,null,nt)}navigate(xe,nt={skipLocationChange:!1}){return function eo(Ge){for(let rt=0;rt<Ge.length;rt++)if(null==Ge[rt])throw new e.vHH(4008,!1)}(xe),this.navigateByUrl(this.createUrlTree(xe,nt),nt)}serializeUrl(xe){return this.urlSerializer.serialize(xe)}parseUrl(xe){let nt;try{nt=this.urlSerializer.parse(xe)}catch(Gt){nt=this.malformedUriErrorHandler(Gt,this.urlSerializer,xe)}return nt}isActive(xe,nt){let Gt;if(Gt=!0===nt?{...ns}:!1===nt?{...Gi}:nt,wn(xe))return $(this.currentUrlTree,xe,Gt);const sn=this.parseUrl(xe);return $(this.currentUrlTree,sn,Gt)}removeEmptyProps(xe){return Object.keys(xe).reduce((nt,Gt)=>{const sn=xe[Gt];return null!=sn&&(nt[Gt]=sn),nt},{})}scheduleNavigation(xe,nt,Gt,sn,dn){if(this.disposed)return Promise.resolve(!1);let Kn,mi,Oi;dn?(Kn=dn.resolve,mi=dn.reject,Oi=dn.promise):Oi=new Promise((Er,Jr)=>{Kn=Er,mi=Jr});const Ri=this.pendingTasks.add();return fo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ri))}),this.navigationTransitions.handleNavigationRequest({source:nt,restoredState:Gt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:xe,extras:sn,resolve:Kn,reject:mi,promise:Oi,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Oi.catch(Er=>Promise.reject(Er))}setBrowserUrl(xe,nt){const Gt=this.urlSerializer.serialize(xe);if(this.location.isCurrentPathEqualTo(Gt)||nt.extras.replaceUrl){const dn={...nt.extras.state,...this.generateNgRouterState(nt.id,this.browserPageId)};this.location.replaceState(Gt,"",dn)}else{const sn={...nt.extras.state,...this.generateNgRouterState(nt.id,(this.browserPageId??0)+1)};this.location.go(Gt,"",sn)}}restoreHistory(xe,nt=!1){if("computed"===this.canceledNavigationResolution){const sn=this.currentPageId-(this.browserPageId??this.currentPageId);0!==sn?this.location.historyGo(sn):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===sn&&(this.resetState(xe),this.browserUrlTree=xe.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(nt&&this.resetState(xe),this.resetUrlToCurrentUrlTree())}resetState(xe){this.routerState=xe.currentRouterState,this.currentUrlTree=xe.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,xe.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(xe,nt){return"computed"===this.canceledNavigationResolution?{navigationId:xe,\u0275routerPageId:nt}:{navigationId:xe}}static#e=this.\u0275fac=function(nt){return new(nt||Ge)};static#t=this.\u0275prov=e.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),Cs=(()=>{class Ge{constructor(xe,nt,Gt,sn,dn,Kn){this.router=xe,this.route=nt,this.tabIndexAttribute=Gt,this.renderer=sn,this.el=dn,this.locationStrategy=Kn,this.href=null,this.commands=null,this.onChanges=new C.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const mi=dn.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===mi||"area"===mi,this.isAnchorElement?this.subscription=xe.events.subscribe(Oi=>{Oi instanceof Ft&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(xe){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",xe)}ngOnChanges(xe){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(xe){null!=xe?(this.commands=Array.isArray(xe)?xe:[xe],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(xe,nt,Gt,sn,dn){return!!(null===this.urlTree||this.isAnchorElement&&(0!==xe||nt||Gt||sn||dn||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const xe=null===this.href?null:(0,e.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",xe)}applyAttributeValue(xe,nt){const Gt=this.renderer,sn=this.el.nativeElement;null!==nt?Gt.setAttribute(sn,xe,nt):Gt.removeAttribute(sn,xe)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(nt){return new(nt||Ge)(e.Y36($r),e.Y36(yi),e.$8M("tabindex"),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(A.S$))};static#t=this.\u0275dir=e.lG2({type:Ge,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(nt,Gt){1&nt&&e.NdJ("click",function(dn){return Gt.onClick(dn.button,dn.ctrlKey,dn.shiftKey,dn.altKey,dn.metaKey)}),2&nt&&e.uIk("target",Gt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",e.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",e.VuI],replaceUrl:["replaceUrl","replaceUrl",e.VuI],routerLink:"routerLink"},standalone:!0,features:[e.Xq5,e.TTD]})}return Ge})();class va{}let ya=(()=>{class Ge{constructor(xe,nt,Gt,sn,dn){this.router=xe,this.injector=Gt,this.preloadingStrategy=sn,this.loader=dn}setUpPreloading(){this.subscription=this.router.events.pipe((0,I.h)(xe=>xe instanceof Ft),(0,b.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(xe,nt){const Gt=[];for(const sn of nt){sn.providers&&!sn._injector&&(sn._injector=(0,e.MMx)(sn.providers,xe,`Route: ${sn.path}`));const dn=sn._injector??xe,Kn=sn._loadedInjector??dn;(sn.loadChildren&&!sn._loadedRoutes&&void 0===sn.canLoad||sn.loadComponent&&!sn._loadedComponent)&&Gt.push(this.preloadConfig(dn,sn)),(sn.children||sn._loadedRoutes)&&Gt.push(this.processRoutes(Kn,sn.children??sn._loadedRoutes))}return(0,v.D)(Gt).pipe((0,Ce.J)())}preloadConfig(xe,nt){return this.preloadingStrategy.preload(nt,()=>{let Gt;Gt=nt.loadChildren&&void 0===nt.canLoad?this.loader.loadChildren(xe,nt):(0,y.of)(null);const sn=Gt.pipe((0,E.z)(dn=>null===dn?(0,y.of)(void 0):(nt._loadedRoutes=dn.routes,nt._loadedInjector=dn.injector,this.processRoutes(dn.injector??xe,dn.routes))));if(nt.loadComponent&&!nt._loadedComponent){const dn=this.loader.loadComponent(nt);return(0,v.D)([sn,dn]).pipe((0,Ce.J)())}return sn})}static#e=this.\u0275fac=function(nt){return new(nt||Ge)(e.LFG($r),e.LFG(e.Sil),e.LFG(e.lqb),e.LFG(va),e.LFG(nr))};static#t=this.\u0275prov=e.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();const Wa=new e.OlP("");let Ss=(()=>{class Ge{constructor(xe,nt,Gt,sn,dn={}){this.urlSerializer=xe,this.transitions=nt,this.viewportScroller=Gt,this.zone=sn,this.options=dn,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},dn.scrollPositionRestoration=dn.scrollPositionRestoration||"disabled",dn.anchorScrolling=dn.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(xe=>{xe instanceof ii?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=xe.navigationTrigger,this.restoredId=xe.restoredState?xe.restoredState.navigationId:0):xe instanceof Ft?(this.lastId=xe.id,this.scheduleScrollEvent(xe,this.urlSerializer.parse(xe.urlAfterRedirects).fragment)):xe instanceof Le&&0===xe.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(xe,this.urlSerializer.parse(xe.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(xe=>{xe instanceof _s&&(xe.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(xe.position):xe.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(xe.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(xe,nt){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _s(xe,"popstate"===this.lastSource?this.store[this.restoredId]:null,nt))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(nt){e.$Z()};static#t=this.\u0275prov=e.Yz7({token:Ge,factory:Ge.\u0275fac})}return Ge})();function or(Ge,rt){return{\u0275kind:Ge,\u0275providers:rt}}function nl(){const Ge=(0,e.f3M)(e.zs3);return rt=>{const xe=Ge.get(e.z2F);if(rt!==xe.components[0])return;const nt=Ge.get($r),Gt=Ge.get(io);1===Ge.get(Ya)&&nt.initialNavigation(),Ge.get(fs,null,e.XFs.Optional)?.setUpPreloading(),Ge.get(Wa,null,e.XFs.Optional)?.init(),nt.resetRootComponentType(xe.componentTypes[0]),Gt.closed||(Gt.next(),Gt.complete(),Gt.unsubscribe())}}const io=new e.OlP("",{factory:()=>new C.x}),Ya=new e.OlP("",{providedIn:"root",factory:()=>1}),fs=new e.OlP("");function Zo(Ge){return or(0,[{provide:fs,useExisting:ya},{provide:va,useExisting:Ge}])}const il=new e.OlP("ROUTER_FORROOT_GUARD"),Ea=[A.Ye,{provide:gt,useClass:Qe},$r,tr,{provide:yi,useFactory:function ci(Ge){return Ge.routerState.root},deps:[$r]},nr,[]];function ca(){return new e.PXZ("Router",$r)}let Bs=(()=>{class Ge{constructor(xe){}static forRoot(xe,nt){return{ngModule:Ge,providers:[Ea,[],{provide:Ts,multi:!0,useValue:xe},{provide:il,useFactory:$c,deps:[[$r,new e.FiY,new e.tp0]]},{provide:Rr,useValue:nt||{}},nt?.useHash?{provide:A.S$,useClass:A.Do}:{provide:A.S$,useClass:A.b0},{provide:Wa,useFactory:()=>{const Ge=(0,e.f3M)(A.EM),rt=(0,e.f3M)(e.R0b),xe=(0,e.f3M)(Rr),nt=(0,e.f3M)(Yt),Gt=(0,e.f3M)(gt);return xe.scrollOffset&&Ge.setOffset(xe.scrollOffset),new Ss(Gt,nt,Ge,rt,xe)}},nt?.preloadingStrategy?Zo(nt.preloadingStrategy).\u0275providers:[],{provide:e.PXZ,multi:!0,useFactory:ca},nt?.initialNavigation?$s(nt):[],nt?.bindToComponentInputs?or(8,[Ji,{provide:Ui,useExisting:Ji}]).\u0275providers:[],[{provide:bl,useFactory:nl},{provide:e.tb,multi:!0,useExisting:bl}]]}}static forChild(xe){return{ngModule:Ge,providers:[{provide:Ts,multi:!0,useValue:xe}]}}static#e=this.\u0275fac=function(nt){return new(nt||Ge)(e.LFG(il,8))};static#t=this.\u0275mod=e.oAB({type:Ge});static#n=this.\u0275inj=e.cJS({})}return Ge})();function $c(Ge){return"guarded"}function $s(Ge){return["disabled"===Ge.initialNavigation?or(3,[{provide:e.ip1,multi:!0,useFactory:()=>{const rt=(0,e.f3M)($r);return()=>{rt.setUpLocationChangeListener()}}},{provide:Ya,useValue:2}]).\u0275providers:[],"enabledBlocking"===Ge.initialNavigation?or(2,[{provide:Ya,useValue:0},{provide:e.ip1,multi:!0,deps:[e.zs3],useFactory:rt=>{const xe=rt.get(A.V_,Promise.resolve());return()=>xe.then(()=>new Promise(nt=>{const Gt=rt.get($r),sn=rt.get(io);fo(Gt,()=>{nt(!0)}),rt.get(Yt).afterPreactivation=()=>(nt(!0),sn.closed?(0,y.of)(void 0):sn),Gt.initialNavigation()}))}}]).\u0275providers:[]]}const bl=new e.OlP("")},3106:(Wn,Je,g)=>{"use strict";g.d(Je,{Z:()=>A});var e=g(9058),t=g(4537),v=g(534),y=g(7879);class m{constructor(R,O){this._delegate=R,this.firebase=O,(0,v._addComponent)(R,new t.wA("app-compat",()=>this,"PUBLIC")),this.container=R.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(R){this._delegate.automaticDataCollectionEnabled=R}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(R=>{this._delegate.checkDestroyed(),R()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,v.deleteApp)(this._delegate)))}_getService(R,O=v._DEFAULT_ENTRY_NAME){var S;this._delegate.checkDestroyed();const I=this._delegate.container.getProvider(R);return!I.isInitialized()&&"EXPLICIT"===(null===(S=I.getComponent())||void 0===S?void 0:S.instantiationMode)&&I.initialize(),I.getImmediate({identifier:O})}_removeServiceInstance(R,O=v._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(R).clearInstance(O)}_addComponent(R){(0,v._addComponent)(this._delegate,R)}_addOrOverwriteComponent(R){(0,v._addOrOverwriteComponent)(this._delegate,R)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const D=new e.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=function i(){const x=function f(x){const R={},O={__esModule:!0,initializeApp:function E(Z,oe={}){const le=v.initializeApp(Z,oe);if((0,e.r3)(R,le.name))return R[le.name];const Re=new x(le,O);return R[le.name]=Re,Re},app:I,registerVersion:v.registerVersion,setLogLevel:v.setLogLevel,onLog:v.onLog,apps:null,SDK_VERSION:v.SDK_VERSION,INTERNAL:{registerComponent:function b(Z){const oe=Z.name,le=oe.replace("-compat","");if(v._registerComponent(Z)&&"PUBLIC"===Z.type){const Re=(Y=I())=>{if("function"!=typeof Y[le])throw D.create("invalid-app-argument",{appName:oe});return Y[le]()};void 0!==Z.serviceProps&&(0,e.ZB)(Re,Z.serviceProps),O[le]=Re,x.prototype[le]=function(...Y){return this._getService.bind(this,oe).apply(this,Z.multipleInstances?Y:[])}}return"PUBLIC"===Z.type?O[le]:null},removeApp:function S(Z){delete R[Z]},useAsService:function B(Z,oe){return"serverAuth"===oe?null:oe},modularAPIs:v}};function I(Z){if(!(0,e.r3)(R,Z=Z||v._DEFAULT_ENTRY_NAME))throw D.create("no-app",{appName:Z});return R[Z]}return O.default=O,Object.defineProperty(O,"apps",{get:function L(){return Object.keys(R).map(Z=>R[Z])}}),I.App=x,O}(m);return x.INTERNAL=Object.assign(Object.assign({},x.INTERNAL),{createFirebaseNamespace:i,extendNamespace:function R(O){(0,e.ZB)(x,O)},createSubscribe:e.ne,ErrorFactory:e.LL,deepExtend:e.ZB}),x}(),d=new y.Yd("@firebase/app-compat");if((0,e.jU)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const x=self.firebase.SDK_VERSION;x&&x.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const A=c;!function C(x){(0,v.registerVersion)("@firebase/app-compat","0.2.13",x)}()},534:(Wn,Je,g)=>{"use strict";g.r(Je),g.d(Je,{FirebaseError:()=>y.ZR,SDK_VERSION:()=>Tt,_DEFAULT_ENTRY_NAME:()=>ge,_addComponent:()=>ct,_addOrOverwriteComponent:()=>qe,_apps:()=>Ee,_clearComponents:()=>yt,_components:()=>Fe,_getProvider:()=>gt,_registerComponent:()=>tt,_removeServiceInstance:()=>Qe,deleteApp:()=>un,getApp:()=>Jt,getApps:()=>Xt,initializeApp:()=>Kt,onLog:()=>vt,registerVersion:()=>It,setLogLevel:()=>it});var e=g(5861),t=g(4537),v=g(7879),y=g(9058);const m=(mn,_n)=>_n.some(Mt=>mn instanceof Mt);let P,D;const c=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,C=new WeakMap;let R={get(mn,_n,Mt){if(mn instanceof IDBTransaction){if("done"===_n)return d.get(mn);if("objectStoreNames"===_n)return mn.objectStoreNames||h.get(mn);if("store"===_n)return Mt.objectStoreNames[1]?void 0:Mt.objectStore(Mt.objectStoreNames[0])}return E(mn[_n])},set:(mn,_n,Mt)=>(mn[_n]=Mt,!0),has:(mn,_n)=>mn instanceof IDBTransaction&&("done"===_n||"store"===_n)||_n in mn};function I(mn){return"function"==typeof mn?function S(mn){return mn!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function i(){return D||(D=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(mn)?function(..._n){return mn.apply(L(this),_n),E(c.get(this))}:function(..._n){return E(mn.apply(L(this),_n))}:function(_n,...Mt){const ht=mn.call(L(this),_n,...Mt);return h.set(ht,_n.sort?_n.sort():[_n]),E(ht)}}(mn):(mn instanceof IDBTransaction&&function x(mn){if(d.has(mn))return;const _n=new Promise((Mt,ht)=>{const Tn=()=>{mn.removeEventListener("complete",et),mn.removeEventListener("error",Dt),mn.removeEventListener("abort",Dt)},et=()=>{Mt(),Tn()},Dt=()=>{ht(mn.error||new DOMException("AbortError","AbortError")),Tn()};mn.addEventListener("complete",et),mn.addEventListener("error",Dt),mn.addEventListener("abort",Dt)});d.set(mn,_n)}(mn),m(mn,function f(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(mn,R):mn)}function E(mn){if(mn instanceof IDBRequest)return function A(mn){const _n=new Promise((Mt,ht)=>{const Tn=()=>{mn.removeEventListener("success",et),mn.removeEventListener("error",Dt)},et=()=>{Mt(E(mn.result)),Tn()},Dt=()=>{ht(mn.error),Tn()};mn.addEventListener("success",et),mn.addEventListener("error",Dt)});return _n.then(Mt=>{Mt instanceof IDBCursor&&c.set(Mt,mn)}).catch(()=>{}),C.set(_n,mn),_n}(mn);if(p.has(mn))return p.get(mn);const _n=I(mn);return _n!==mn&&(p.set(mn,_n),C.set(_n,mn)),_n}const L=mn=>C.get(mn),Z=["get","getKey","getAll","getAllKeys","count"],oe=["put","add","delete","clear"],le=new Map;function Re(mn,_n){if(!(mn instanceof IDBDatabase)||_n in mn||"string"!=typeof _n)return;if(le.get(_n))return le.get(_n);const Mt=_n.replace(/FromIndex$/,""),ht=_n!==Mt,Tn=oe.includes(Mt);if(!(Mt in(ht?IDBIndex:IDBObjectStore).prototype)||!Tn&&!Z.includes(Mt))return;const et=function(){var Dt=(0,e.Z)(function*(Qt,...Nt){const xn=this.transaction(Qt,Tn?"readwrite":"readonly");let kt=xn.store;return ht&&(kt=kt.index(Nt.shift())),(yield Promise.all([kt[Mt](...Nt),Tn&&xn.done]))[0]});return function(Nt){return Dt.apply(this,arguments)}}();return le.set(_n,et),et}!function O(mn){R=mn(R)}(mn=>({...mn,get:(_n,Mt,ht)=>Re(_n,Mt)||mn.get(_n,Mt,ht),has:(_n,Mt)=>!!Re(_n,Mt)||mn.has(_n,Mt)}));class Y{constructor(_n){this.container=_n}getPlatformInfoString(){return this.container.getProviders().map(Mt=>{if(function ae(mn){const _n=mn.getComponent();return"VERSION"===_n?.type}(Mt)){const ht=Mt.getImmediate();return`${ht.library}/${ht.version}`}return null}).filter(Mt=>Mt).join(" ")}}const G="@firebase/app",ce=new v.Yd("@firebase/app"),ge="[DEFAULT]",Se={[G]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ee=new Map,Fe=new Map;function ct(mn,_n){try{mn.container.addComponent(_n)}catch(Mt){ce.debug(`Component ${_n.name} failed to register with FirebaseApp ${mn.name}`,Mt)}}function qe(mn,_n){mn.container.addOrOverwriteComponent(_n)}function tt(mn){const _n=mn.name;if(Fe.has(_n))return ce.debug(`There were multiple attempts to register component ${_n}.`),!1;Fe.set(_n,mn);for(const Mt of Ee.values())ct(Mt,mn);return!0}function gt(mn,_n){const Mt=mn.container.getProvider("heartbeat").getImmediate({optional:!0});return Mt&&Mt.triggerHeartbeat(),mn.container.getProvider(_n)}function Qe(mn,_n,Mt=ge){gt(mn,_n).clearInstance(Mt)}function yt(){Fe.clear()}const me=new y.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class We{constructor(_n,Mt,ht){this._isDeleted=!1,this._options=Object.assign({},_n),this._config=Object.assign({},Mt),this._name=Mt.name,this._automaticDataCollectionEnabled=Mt.automaticDataCollectionEnabled,this._container=ht,this.container.addComponent(new t.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_n){this.checkDestroyed(),this._automaticDataCollectionEnabled=_n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_n){this._isDeleted=_n}checkDestroyed(){if(this.isDeleted)throw me.create("app-deleted",{appName:this._name})}}const Tt="9.23.0";function Kt(mn,_n={}){let Mt=mn;"object"!=typeof _n&&(_n={name:_n});const ht=Object.assign({name:ge,automaticDataCollectionEnabled:!1},_n),Tn=ht.name;if("string"!=typeof Tn||!Tn)throw me.create("bad-app-name",{appName:String(Tn)});if(Mt||(Mt=(0,y.aH)()),!Mt)throw me.create("no-options");const et=Ee.get(Tn);if(et){if((0,y.vZ)(Mt,et.options)&&(0,y.vZ)(ht,et.config))return et;throw me.create("duplicate-app",{appName:Tn})}const Dt=new t.H0(Tn);for(const Nt of Fe.values())Dt.addComponent(Nt);const Qt=new We(Mt,ht,Dt);return Ee.set(Tn,Qt),Qt}function Jt(mn=ge){const _n=Ee.get(mn);if(!_n&&mn===ge&&(0,y.aH)())return Kt();if(!_n)throw me.create("no-app",{appName:mn});return _n}function Xt(){return Array.from(Ee.values())}function un(mn){return fn.apply(this,arguments)}function fn(){return(fn=(0,e.Z)(function*(mn){const _n=mn.name;Ee.has(_n)&&(Ee.delete(_n),yield Promise.all(mn.container.getProviders().map(Mt=>Mt.delete())),mn.isDeleted=!0)})).apply(this,arguments)}function It(mn,_n,Mt){var ht;let Tn=null!==(ht=Se[mn])&&void 0!==ht?ht:mn;Mt&&(Tn+=`-${Mt}`);const et=Tn.match(/\s|\//),Dt=_n.match(/\s|\//);if(et||Dt){const Qt=[`Unable to register library "${Tn}" with version "${_n}":`];return et&&Qt.push(`library name "${Tn}" contains illegal characters (whitespace or "/")`),et&&Dt&&Qt.push("and"),Dt&&Qt.push(`version name "${_n}" contains illegal characters (whitespace or "/")`),void ce.warn(Qt.join(" "))}tt(new t.wA(`${Tn}-version`,()=>({library:Tn,version:_n}),"VERSION"))}function vt(mn,_n){if(null!==mn&&"function"!=typeof mn)throw me.create("invalid-log-argument");(0,v.Am)(mn,_n)}function it(mn){(0,v.Ub)(mn)}const He="firebase-heartbeat-database",Ze=1,st="firebase-heartbeat-store";let lt=null;function St(){return lt||(lt=function b(mn,_n,{blocked:Mt,upgrade:ht,blocking:Tn,terminated:et}={}){const Dt=indexedDB.open(mn,_n),Qt=E(Dt);return ht&&Dt.addEventListener("upgradeneeded",Nt=>{ht(E(Dt.result),Nt.oldVersion,Nt.newVersion,E(Dt.transaction),Nt)}),Mt&&Dt.addEventListener("blocked",Nt=>Mt(Nt.oldVersion,Nt.newVersion,Nt)),Qt.then(Nt=>{et&&Nt.addEventListener("close",()=>et()),Tn&&Nt.addEventListener("versionchange",xn=>Tn(xn.oldVersion,xn.newVersion,xn))}).catch(()=>{}),Qt}(He,Ze,{upgrade:(mn,_n)=>{0===_n&&mn.createObjectStore(st)}}).catch(mn=>{throw me.create("idb-open",{originalErrorMessage:mn.message})})),lt}function At(){return(At=(0,e.Z)(function*(mn){try{return yield(yield St()).transaction(st).objectStore(st).get(tn(mn))}catch(_n){if(_n instanceof y.ZR)ce.warn(_n.message);else{const Mt=me.create("idb-get",{originalErrorMessage:_n?.message});ce.warn(Mt.message)}}})).apply(this,arguments)}function on(mn,_n){return En.apply(this,arguments)}function En(){return(En=(0,e.Z)(function*(mn,_n){try{const ht=(yield St()).transaction(st,"readwrite");yield ht.objectStore(st).put(_n,tn(mn)),yield ht.done}catch(Mt){if(Mt instanceof y.ZR)ce.warn(Mt.message);else{const ht=me.create("idb-set",{originalErrorMessage:Mt?.message});ce.warn(ht.message)}}})).apply(this,arguments)}function tn(mn){return`${mn.name}!${mn.options.appId}`}class Nn{constructor(_n){this.container=_n,this._heartbeatsCache=null;const Mt=this.container.getProvider("app").getImmediate();this._storage=new vn(Mt),this._heartbeatsCachePromise=this._storage.read().then(ht=>(this._heartbeatsCache=ht,ht))}triggerHeartbeat(){var _n=this;return(0,e.Z)(function*(){const ht=_n.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Tn=$n();if(null===_n._heartbeatsCache&&(_n._heartbeatsCache=yield _n._heartbeatsCachePromise),_n._heartbeatsCache.lastSentHeartbeatDate!==Tn&&!_n._heartbeatsCache.heartbeats.some(et=>et.date===Tn))return _n._heartbeatsCache.heartbeats.push({date:Tn,agent:ht}),_n._heartbeatsCache.heartbeats=_n._heartbeatsCache.heartbeats.filter(et=>{const Dt=new Date(et.date).valueOf();return Date.now()-Dt<=2592e6}),_n._storage.overwrite(_n._heartbeatsCache)})()}getHeartbeatsHeader(){var _n=this;return(0,e.Z)(function*(){if(null===_n._heartbeatsCache&&(yield _n._heartbeatsCachePromise),null===_n._heartbeatsCache||0===_n._heartbeatsCache.heartbeats.length)return"";const Mt=$n(),{heartbeatsToSend:ht,unsentEntries:Tn}=function ti(mn,_n=1024){const Mt=[];let ht=mn.slice();for(const Tn of mn){const et=Mt.find(Dt=>Dt.agent===Tn.agent);if(et){if(et.dates.push(Tn.date),pn(Mt)>_n){et.dates.pop();break}}else if(Mt.push({agent:Tn.agent,dates:[Tn.date]}),pn(Mt)>_n){Mt.pop();break}ht=ht.slice(1)}return{heartbeatsToSend:Mt,unsentEntries:ht}}(_n._heartbeatsCache.heartbeats),et=(0,y.L)(JSON.stringify({version:2,heartbeats:ht}));return _n._heartbeatsCache.lastSentHeartbeatDate=Mt,Tn.length>0?(_n._heartbeatsCache.heartbeats=Tn,yield _n._storage.overwrite(_n._heartbeatsCache)):(_n._heartbeatsCache.heartbeats=[],_n._storage.overwrite(_n._heartbeatsCache)),et})()}}function $n(){return(new Date).toISOString().substring(0,10)}class vn{constructor(_n){this.app=_n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,e.Z)(function*(){return!!(0,y.hl)()&&(0,y.eu)().then(()=>!0).catch(()=>!1)})()}read(){var _n=this;return(0,e.Z)(function*(){return(yield _n._canUseIndexedDBPromise)&&(yield function bt(mn){return At.apply(this,arguments)}(_n.app))||{heartbeats:[]}})()}overwrite(_n){var Mt=this;return(0,e.Z)(function*(){var ht;if(yield Mt._canUseIndexedDBPromise){const et=yield Mt.read();return on(Mt.app,{lastSentHeartbeatDate:null!==(ht=_n.lastSentHeartbeatDate)&&void 0!==ht?ht:et.lastSentHeartbeatDate,heartbeats:_n.heartbeats})}})()}add(_n){var Mt=this;return(0,e.Z)(function*(){var ht;if(yield Mt._canUseIndexedDBPromise){const et=yield Mt.read();return on(Mt.app,{lastSentHeartbeatDate:null!==(ht=_n.lastSentHeartbeatDate)&&void 0!==ht?ht:et.lastSentHeartbeatDate,heartbeats:[...et.heartbeats,..._n.heartbeats]})}})()}}function pn(mn){return(0,y.L)(JSON.stringify({version:2,heartbeats:mn})).length}!function yn(mn){tt(new t.wA("platform-logger",_n=>new Y(_n),"PRIVATE")),tt(new t.wA("heartbeat",_n=>new Nn(_n),"PRIVATE")),It(G,"0.9.13",mn),It(G,"0.9.13","esm2017"),It("fire-js","")}("")},4537:(Wn,Je,g)=>{"use strict";g.d(Je,{H0:()=>f,wA:()=>v});var e=g(5861),t=g(9058);class v{constructor(c,d,h){this.name=c,this.instanceFactory=d,this.type=h,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(c){return this.instantiationMode=c,this}setMultipleInstances(c){return this.multipleInstances=c,this}setServiceProps(c){return this.serviceProps=c,this}setInstanceCreatedCallback(c){return this.onInstanceCreated=c,this}}const y="[DEFAULT]";class m{constructor(c,d){this.name=c,this.container=d,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(c){const d=this.normalizeInstanceIdentifier(c);if(!this.instancesDeferred.has(d)){const h=new t.BH;if(this.instancesDeferred.set(d,h),this.isInitialized(d)||this.shouldAutoInitialize())try{const p=this.getOrInitializeService({instanceIdentifier:d});p&&h.resolve(p)}catch{}}return this.instancesDeferred.get(d).promise}getImmediate(c){var d;const h=this.normalizeInstanceIdentifier(c?.identifier),p=null!==(d=c?.optional)&&void 0!==d&&d;if(!this.isInitialized(h)&&!this.shouldAutoInitialize()){if(p)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:h})}catch(C){if(p)return null;throw C}}getComponent(){return this.component}setComponent(c){if(c.name!==this.name)throw Error(`Mismatching Component ${c.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=c,this.shouldAutoInitialize()){if(function D(i){return"EAGER"===i.instantiationMode}(c))try{this.getOrInitializeService({instanceIdentifier:y})}catch{}for(const[d,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(d);try{const C=this.getOrInitializeService({instanceIdentifier:p});h.resolve(C)}catch{}}}}clearInstance(c=y){this.instancesDeferred.delete(c),this.instancesOptions.delete(c),this.instances.delete(c)}delete(){var c=this;return(0,e.Z)(function*(){const d=Array.from(c.instances.values());yield Promise.all([...d.filter(h=>"INTERNAL"in h).map(h=>h.INTERNAL.delete()),...d.filter(h=>"_delete"in h).map(h=>h._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(c=y){return this.instances.has(c)}getOptions(c=y){return this.instancesOptions.get(c)||{}}initialize(c={}){const{options:d={}}=c,h=this.normalizeInstanceIdentifier(c.instanceIdentifier);if(this.isInitialized(h))throw Error(`${this.name}(${h}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const p=this.getOrInitializeService({instanceIdentifier:h,options:d});for(const[C,A]of this.instancesDeferred.entries())h===this.normalizeInstanceIdentifier(C)&&A.resolve(p);return p}onInit(c,d){var h;const p=this.normalizeInstanceIdentifier(d),C=null!==(h=this.onInitCallbacks.get(p))&&void 0!==h?h:new Set;C.add(c),this.onInitCallbacks.set(p,C);const A=this.instances.get(p);return A&&c(A,p),()=>{C.delete(c)}}invokeOnInitCallbacks(c,d){const h=this.onInitCallbacks.get(d);if(h)for(const p of h)try{p(c,d)}catch{}}getOrInitializeService({instanceIdentifier:c,options:d={}}){let h=this.instances.get(c);if(!h&&this.component&&(h=this.component.instanceFactory(this.container,{instanceIdentifier:(i=c,i===y?void 0:i),options:d}),this.instances.set(c,h),this.instancesOptions.set(c,d),this.invokeOnInitCallbacks(h,c),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,c,h)}catch{}var i;return h||null}normalizeInstanceIdentifier(c=y){return this.component?this.component.multipleInstances?c:y:c}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class f{constructor(c){this.name=c,this.providers=new Map}addComponent(c){const d=this.getProvider(c.name);if(d.isComponentSet())throw new Error(`Component ${c.name} has already been registered with ${this.name}`);d.setComponent(c)}addOrOverwriteComponent(c){this.getProvider(c.name).isComponentSet()&&this.providers.delete(c.name),this.addComponent(c)}getProvider(c){if(this.providers.has(c))return this.providers.get(c);const d=new m(c,this);return this.providers.set(c,d),d}getProviders(){return Array.from(this.providers.values())}}},7879:(Wn,Je,g)=>{"use strict";g.d(Je,{Am:()=>i,Ub:()=>f,Yd:()=>D,in:()=>t});const e=[];var t=function(c){return c[c.DEBUG=0]="DEBUG",c[c.VERBOSE=1]="VERBOSE",c[c.INFO=2]="INFO",c[c.WARN=3]="WARN",c[c.ERROR=4]="ERROR",c[c.SILENT=5]="SILENT",c}(t||{});const v={debug:t.DEBUG,verbose:t.VERBOSE,info:t.INFO,warn:t.WARN,error:t.ERROR,silent:t.SILENT},y=t.INFO,m={[t.DEBUG]:"log",[t.VERBOSE]:"log",[t.INFO]:"info",[t.WARN]:"warn",[t.ERROR]:"error"},P=(c,d,...h)=>{if(d<c.logLevel)return;const p=(new Date).toISOString(),C=m[d];if(!C)throw new Error(`Attempted to log a message with an invalid logType (value: ${d})`);console[C](`[${p}]  ${c.name}:`,...h)};class D{constructor(d){this.name=d,this._logLevel=y,this._logHandler=P,this._userLogHandler=null,e.push(this)}get logLevel(){return this._logLevel}set logLevel(d){if(!(d in t))throw new TypeError(`Invalid value "${d}" assigned to \`logLevel\``);this._logLevel=d}setLogLevel(d){this._logLevel="string"==typeof d?v[d]:d}get logHandler(){return this._logHandler}set logHandler(d){if("function"!=typeof d)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=d}get userLogHandler(){return this._userLogHandler}set userLogHandler(d){this._userLogHandler=d}debug(...d){this._userLogHandler&&this._userLogHandler(this,t.DEBUG,...d),this._logHandler(this,t.DEBUG,...d)}log(...d){this._userLogHandler&&this._userLogHandler(this,t.VERBOSE,...d),this._logHandler(this,t.VERBOSE,...d)}info(...d){this._userLogHandler&&this._userLogHandler(this,t.INFO,...d),this._logHandler(this,t.INFO,...d)}warn(...d){this._userLogHandler&&this._userLogHandler(this,t.WARN,...d),this._logHandler(this,t.WARN,...d)}error(...d){this._userLogHandler&&this._userLogHandler(this,t.ERROR,...d),this._logHandler(this,t.ERROR,...d)}}function f(c){e.forEach(d=>{d.setLogLevel(c)})}function i(c,d){for(const h of e){let p=null;d&&d.level&&(p=v[d.level]),h.userLogHandler=null===c?null:(C,A,...x)=>{const R=x.map(O=>{if(null==O)return null;if("string"==typeof O)return O;if("number"==typeof O||"boolean"==typeof O)return O.toString();if(O instanceof Error)return O.message;try{return JSON.stringify(O)}catch{return null}}).filter(O=>O).join(" ");A>=(p??C.logLevel)&&c({level:t[A].toLowerCase(),message:R,args:x,type:C.name})}}}},8726:(Wn,Je,g)=>{"use strict";g.d(Je,{Kz:()=>Hn,FF:()=>r});var e=g(5879),t=g(5592),v=g(6232),y=g(2096),m=g(8645),P=g(2438),D=g(4825),f=g(4829);const{isArray:i}=Array;function c(U){return 1===U.length&&i(U[0])?U[0]:U}var d=g(8251);g(3019);var A=g(9940);function x(...U){const Ue=(0,A.jO)(U),w=c(U);return w.length?new t.y(j=>{let ve=w.map(()=>[]),Ct=w.map(()=>!1);j.add(()=>{ve=Ct=null});for(let Zt=0;!j.closed&&Zt<w.length;Zt++)(0,f.Xf)(w[Zt]).subscribe((0,d.x)(j,Rn=>{if(ve[Zt].push(Rn),ve.every(Un=>Un.length)){const Un=ve.map(qn=>qn.shift());j.next(Ue?Ue(...Un):Un),ve.some((qn,ni)=>!qn.length&&Ct[ni])&&j.complete()}},()=>{Ct[Zt]=!0,!ve[Zt].length&&j.complete()}));return()=>{ve=Ct=null}}):v.E}var R=g(5211),S=g(9773),I=g(2181),E=g(8180),L=g(9397),b=g(7398),B=g(9360),Z=g(2737),oe=g(2420);function le(...U){const Ue=(0,A.jO)(U);return(0,B.e)((w,j)=>{const ve=U.length,Ct=new Array(ve);let Zt=U.map(()=>!1),Rn=!1;for(let Un=0;Un<ve;Un++)(0,f.Xf)(U[Un]).subscribe((0,d.x)(j,qn=>{Ct[Un]=qn,!Rn&&!Zt[Un]&&(Zt[Un]=!0,(Rn=Zt.every(Z.y))&&(Zt=null))},oe.Z));w.subscribe((0,d.x)(j,Un=>{if(Rn){const qn=[Un,...Ct];j.next(Ue?Ue(...qn):qn)}}))})}g(5177);var Y=g(4664),ce=(g(7921),g(3997),g(836),g(6814));g(95),Math,Math,Math;const Ui=["*"],Da=["dialog"];function Yt(U){return"string"==typeof U}function Cn(U){return null!=U}function dr(U){return(U||document.body).getBoundingClientRect()}const _r={animation:!0,transitionTimerDelayMs:5},ns=()=>{},{transitionTimerDelayMs:Gi}=_r,$r=new Map,eo=(U,Ue,w,j)=>{let ve=j.context||{};const Ct=$r.get(Ue);if(Ct)switch(j.runningTransition){case"continue":return v.E;case"stop":U.run(()=>Ct.transition$.complete()),ve=Object.assign(Ct.context,ve),$r.delete(Ue)}const Zt=w(Ue,j.animation,ve)||ns;if(!j.animation||"none"===window.getComputedStyle(Ue).transitionProperty)return U.run(()=>Zt()),(0,y.of)(void 0).pipe(function er(U){return Ue=>new t.y(w=>Ue.subscribe({next:Zt=>U.run(()=>w.next(Zt)),error:Zt=>U.run(()=>w.error(Zt)),complete:()=>U.run(()=>w.complete())}))}(U));const Rn=new m.x,Un=new m.x,qn=Rn.pipe(function O(...U){return Ue=>(0,R.z)(Ue,(0,y.of)(...U))}(!0));$r.set(Ue,{transition$:Rn,complete:()=>{Un.next(),Un.complete()},context:ve});const ni=function Nr(U){const{transitionDelay:Ue,transitionDuration:w}=window.getComputedStyle(U);return 1e3*(parseFloat(Ue)+parseFloat(w))}(Ue);return U.runOutsideAngular(()=>{const Di=(0,P.R)(Ue,"transitionend").pipe((0,S.R)(qn),(0,I.h)(({target:Li})=>Li===Ue));(function h(...U){return 1===(U=c(U)).length?(0,f.Xf)(U[0]):new t.y(function p(U){return Ue=>{let w=[];for(let j=0;w&&!Ue.closed&&j<U.length;j++)w.push((0,f.Xf)(U[j]).subscribe((0,d.x)(Ue,ve=>{if(w){for(let Ct=0;Ct<w.length;Ct++)Ct!==j&&w[Ct].unsubscribe();w=null}Ue.next(ve)})))}}(U))})((0,D.H)(ni+Gi).pipe((0,S.R)(qn)),Di,Un).pipe((0,S.R)(qn)).subscribe(()=>{$r.delete(Ue),U.run(()=>{Zt(),Rn.next(),Rn.complete()})})}),Rn.asObservable()};let va=(()=>{class U{constructor(){this.animation=_r.animation}static#e=this.\u0275fac=function(j){return new(j||U)};static#t=this.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})();var wr=function(U){return U[U.Tab=9]="Tab",U[U.Enter=13]="Enter",U[U.Escape=27]="Escape",U[U.Space=32]="Space",U[U.PageUp=33]="PageUp",U[U.PageDown=34]="PageDown",U[U.End=35]="End",U[U.Home=36]="Home",U[U.ArrowLeft=37]="ArrowLeft",U[U.ArrowUp=38]="ArrowUp",U[U.ArrowRight=39]="ArrowRight",U[U.ArrowDown=40]="ArrowDown",U}(wr||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Na=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function ld(U){const Ue=Array.from(U.querySelectorAll(Na)).filter(w=>-1!==w.tabIndex);return[Ue[0],Ue[Ue.length-1]]}new Date(1882,10,12),new Date(2174,10,25);class $e{constructor(Ue,w,j){this.nodes=Ue,this.viewRef=w,this.componentRef=j}}let an=(()=>{class U{constructor(w,j){this._el=w,this._zone=j}ngOnInit(){this._zone.onStable.asObservable().pipe((0,E.q)(1)).subscribe(()=>{eo(this._zone,this._el.nativeElement,(w,j)=>{j&&dr(w),w.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return eo(this._zone,this._el.nativeElement,({classList:w})=>w.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(j){return new(j||U)(e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:U,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(j,ve){2&j&&(e.Tol("modal-backdrop"+(ve.backdropClass?" "+ve.backdropClass:"")),e.ekj("show",!ve.animation)("fade",ve.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(j,ve){},encapsulation:2})}return U})();class Hn{update(Ue){}close(Ue){}dismiss(Ue){}}const ri=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Ci=["animation","backdropClass"];class xi{_applyWindowOptions(Ue,w){ri.forEach(j=>{Cn(w[j])&&(Ue[j]=w[j])})}_applyBackdropOptions(Ue,w){Ci.forEach(j=>{Cn(w[j])&&(Ue[j]=w[j])})}update(Ue){this._applyWindowOptions(this._windowCmptRef.instance,Ue),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,Ue)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,S.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,S.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(Ue,w,j,ve){this._windowCmptRef=Ue,this._contentRef=w,this._backdropCmptRef=j,this._beforeDismiss=ve,this._closed=new m.x,this._dismissed=new m.x,this._hidden=new m.x,Ue.instance.dismissEvent.subscribe(Ct=>{this.dismiss(Ct)}),this.result=new Promise((Ct,Zt)=>{this._resolve=Ct,this._reject=Zt}),this.result.then(null,()=>{})}close(Ue){this._windowCmptRef&&(this._closed.next(Ue),this._resolve(Ue),this._removeModalElements())}_dismiss(Ue){this._dismissed.next(Ue),this._reject(Ue),this._removeModalElements()}dismiss(Ue){if(this._windowCmptRef)if(this._beforeDismiss){const w=this._beforeDismiss();!function zn(U){return U&&U.then}(w)?!1!==w&&this._dismiss(Ue):w.then(j=>{!1!==j&&this._dismiss(Ue)},()=>{})}else this._dismiss(Ue)}_removeModalElements(){const Ue=this._windowCmptRef.instance.hide(),w=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,y.of)(void 0);Ue.subscribe(()=>{const{nativeElement:j}=this._windowCmptRef.location;j.parentNode.removeChild(j),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),w.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:j}=this._backdropCmptRef.location;j.parentNode.removeChild(j),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),x(Ue,w).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Wi=function(U){return U[U.BACKDROP_CLICK=0]="BACKDROP_CLICK",U[U.ESC=1]="ESC",U}(Wi||{});let Dr=(()=>{class U{constructor(w,j,ve){this._document=w,this._elRef=j,this._zone=ve,this._closed$=new m.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.vpe,this.shown=new m.x,this.hidden=new m.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Yt(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(w){this.dismissEvent.emit(w)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,E.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:w}=this._elRef,j={animation:this.animation,runningTransition:"stop"},Zt=x(eo(this._zone,w,()=>w.classList.remove("show"),j),eo(this._zone,this._dialogEl.nativeElement,()=>{},j));return Zt.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),Zt}_show(){const w={animation:this.animation,runningTransition:"continue"};x(eo(this._zone,this._elRef.nativeElement,(Ct,Zt)=>{Zt&&dr(Ct),Ct.classList.add("show")},w),eo(this._zone,this._dialogEl.nativeElement,()=>{},w)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:w}=this._elRef;this._zone.runOutsideAngular(()=>{(0,P.R)(w,"keydown").pipe((0,S.R)(this._closed$),(0,I.h)(ve=>ve.which===wr.Escape)).subscribe(ve=>{this.keyboard?requestAnimationFrame(()=>{ve.defaultPrevented||this._zone.run(()=>this.dismiss(Wi.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let j=!1;(0,P.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,S.R)(this._closed$),(0,L.b)(()=>j=!1),(0,Y.w)(()=>(0,P.R)(w,"mouseup").pipe((0,S.R)(this._closed$),(0,E.q)(1))),(0,I.h)(({target:ve})=>w===ve)).subscribe(()=>{j=!0}),(0,P.R)(w,"click").pipe((0,S.R)(this._closed$)).subscribe(({target:ve})=>{w===ve&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!j&&this._zone.run(()=>this.dismiss(Wi.BACKDROP_CLICK))),j=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:w}=this._elRef;if(!w.contains(document.activeElement)){const j=w.querySelector("[ngbAutofocus]"),ve=ld(w)[0];(j||ve||w).focus()}}_restoreFocus(){const w=this._document.body,j=this._elWithFocus;let ve;ve=j&&j.focus&&w.contains(j)?j:w,this._zone.runOutsideAngular(()=>{setTimeout(()=>ve.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&eo(this._zone,this._elRef.nativeElement,({classList:w})=>(w.add("modal-static"),()=>w.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(j){return new(j||U)(e.Y36(ce.K0),e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:U,selectors:[["ngb-modal-window"]],viewQuery:function(j,ve){if(1&j&&e.Gf(Da,7),2&j){let Ct;e.iGM(Ct=e.CRH())&&(ve._dialogEl=Ct.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(j,ve){2&j&&(e.uIk("aria-modal",!0)("aria-labelledby",ve.ariaLabelledBy)("aria-describedby",ve.ariaDescribedBy),e.Tol("modal d-block"+(ve.windowClass?" "+ve.windowClass:"")),e.ekj("fade",ve.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[e.jDz],ngContentSelectors:Ui,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(j,ve){1&j&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2),e.Hsn(3),e.qZA()()),2&j&&e.Tol("modal-dialog"+(ve.size?" modal-"+ve.size:"")+(ve.centered?" modal-dialog-centered":"")+ve.fullscreenClass+(ve.scrollable?" modal-dialog-scrollable":"")+(ve.modalDialogClass?" "+ve.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return U})(),Ps=(()=>{class U{constructor(w){this._document=w}hide(){const w=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),j=this._document.body,ve=j.style,{overflow:Ct,paddingRight:Zt}=ve;if(w>0){const Rn=parseFloat(window.getComputedStyle(j).paddingRight);ve.paddingRight=`${Rn+w}px`}return ve.overflow="hidden",()=>{w>0&&(ve.paddingRight=Zt),ve.overflow=Ct}}static#e=this.\u0275fac=function(j){return new(j||U)(e.LFG(ce.K0))};static#t=this.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),dc=(()=>{class U{constructor(w,j,ve,Ct,Zt,Rn,Un){this._applicationRef=w,this._injector=j,this._environmentInjector=ve,this._document=Ct,this._scrollBar=Zt,this._rendererFactory=Rn,this._ngZone=Un,this._activeWindowCmptHasChanged=new m.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new e.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const qn=this._windowCmpts[this._windowCmpts.length-1];((U,Ue,w,j=!1)=>{U.runOutsideAngular(()=>{const ve=(0,P.R)(Ue,"focusin").pipe((0,S.R)(w),(0,b.U)(Ct=>Ct.target));(0,P.R)(Ue,"keydown").pipe((0,S.R)(w),(0,I.h)(Ct=>Ct.which===wr.Tab),le(ve)).subscribe(([Ct,Zt])=>{const[Rn,Un]=ld(Ue);(Zt===Rn||Zt===Ue)&&Ct.shiftKey&&(Un.focus(),Ct.preventDefault()),Zt===Un&&!Ct.shiftKey&&(Rn.focus(),Ct.preventDefault())}),j&&(0,P.R)(Ue,"click").pipe((0,S.R)(w),le(ve),(0,b.U)(Ct=>Ct[1])).subscribe(Ct=>Ct.focus())})})(this._ngZone,qn.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(qn.location.nativeElement)}})}_restoreScrollBar(){const w=this._scrollBarRestoreFn;w&&(this._scrollBarRestoreFn=null,w())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(w,j,ve){const Ct=ve.container instanceof HTMLElement?ve.container:Cn(ve.container)?this._document.querySelector(ve.container):this._document.body,Zt=this._rendererFactory.createRenderer(null,null);if(!Ct)throw new Error(`The specified modal container "${ve.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Rn=new Hn,Un=(w=ve.injector||w).get(e.lqb,null)||this._environmentInjector,qn=this._getContentRef(w,Un,j,Rn,ve);let ni=!1!==ve.backdrop?this._attachBackdrop(Ct):void 0,Di=this._attachWindowComponent(Ct,qn.nodes),Ei=new xi(Di,qn,ni,ve.beforeDismiss);return this._registerModalRef(Ei),this._registerWindowCmpt(Di),Ei.hidden.pipe((0,E.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(Zt.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Rn.close=Li=>{Ei.close(Li)},Rn.dismiss=Li=>{Ei.dismiss(Li)},Rn.update=Li=>{Ei.update(Li)},Ei.update(ve),1===this._modalRefs.length&&Zt.addClass(this._document.body,"modal-open"),ni&&ni.instance&&ni.changeDetectorRef.detectChanges(),Di.changeDetectorRef.detectChanges(),Ei}get activeInstances(){return this._activeInstances}dismissAll(w){this._modalRefs.forEach(j=>j.dismiss(w))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(w){let j=(0,e.LMc)(an,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(j.hostView),w.appendChild(j.location.nativeElement),j}_attachWindowComponent(w,j){let ve=(0,e.LMc)(Dr,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:j});return this._applicationRef.attachView(ve.hostView),w.appendChild(ve.location.nativeElement),ve}_getContentRef(w,j,ve,Ct,Zt){return ve?ve instanceof e.Rgc?this._createFromTemplateRef(ve,Ct):Yt(ve)?this._createFromString(ve):this._createFromComponent(w,j,ve,Ct,Zt):new $e([])}_createFromTemplateRef(w,j){const Ct=w.createEmbeddedView({$implicit:j,close(Zt){j.close(Zt)},dismiss(Zt){j.dismiss(Zt)}});return this._applicationRef.attachView(Ct),new $e([Ct.rootNodes],Ct)}_createFromString(w){const j=this._document.createTextNode(`${w}`);return new $e([[j]])}_createFromComponent(w,j,ve,Ct,Zt){const Rn=e.zs3.create({providers:[{provide:Hn,useValue:Ct}],parent:w}),Un=(0,e.LMc)(ve,{environmentInjector:j,elementInjector:Rn}),qn=Un.location.nativeElement;return Zt.scrollable&&qn.classList.add("component-host-scrollable"),this._applicationRef.attachView(Un.hostView),new $e([[qn]],Un.hostView,Un)}_setAriaHidden(w){const j=w.parentElement;j&&w!==this._document.body&&(Array.from(j.children).forEach(ve=>{ve!==w&&"SCRIPT"!==ve.nodeName&&(this._ariaHiddenValues.set(ve,ve.getAttribute("aria-hidden")),ve.setAttribute("aria-hidden","true"))}),this._setAriaHidden(j))}_revertAriaHidden(){this._ariaHiddenValues.forEach((w,j)=>{w?j.setAttribute("aria-hidden",w):j.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(w){const j=()=>{const ve=this._modalRefs.indexOf(w);ve>-1&&(this._modalRefs.splice(ve,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(w),this._activeInstances.emit(this._modalRefs),w.result.then(j,j)}_registerWindowCmpt(w){this._windowCmpts.push(w),this._activeWindowCmptHasChanged.next(),w.onDestroy(()=>{const j=this._windowCmpts.indexOf(w);j>-1&&(this._windowCmpts.splice(j,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(j){return new(j||U)(e.LFG(e.z2F),e.LFG(e.zs3),e.LFG(e.lqb),e.LFG(ce.K0),e.LFG(Ps),e.LFG(e.FYo),e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),V=(()=>{class U{constructor(w){this._ngbConfig=w,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(w){this._animation=w}static#e=this.\u0275fac=function(j){return new(j||U)(e.LFG(va))};static#t=this.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),r=(()=>{class U{constructor(w,j,ve){this._injector=w,this._modalStack=j,this._config=ve}open(w,j={}){const ve={...this._config,animation:this._config.animation,...j};return this._modalStack.open(this._injector,w,ve)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(w){this._modalStack.dismissAll(w)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(j){return new(j||U)(e.LFG(e.zs3),e.LFG(dc),e.LFG(V))};static#t=this.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})();new e.OlP("live announcer delay",{providedIn:"root",factory:function Ou(){return 100}})},3182:(Wn,Je,g)=>{"use strict";g.d(Je,{C6:()=>e.getApps,Mq:()=>e.getApp});var e=g(534);(0,e.registerVersion)("firebase","9.23.0","app")},7142:(Wn,Je,g)=>{"use strict";g.d(Je,{Z:()=>e.Z});var e=g(3106);e.Z.registerVersion("firebase","9.23.0","app-compat")},5861:(Wn,Je,g)=>{"use strict";function e(v,y,m,P,D,f,i){try{var c=v[f](i),d=c.value}catch(h){return void m(h)}c.done?y(d):Promise.resolve(d).then(P,D)}function t(v){return function(){var y=this,m=arguments;return new Promise(function(P,D){var f=v.apply(y,m);function i(d){e(f,P,D,i,c,"next",d)}function c(d){e(f,P,D,i,c,"throw",d)}i(void 0)})}}g.d(Je,{Z:()=>t})},7582:(Wn,Je,g)=>{"use strict";function y(ce,Te){var be={};for(var Oe in ce)Object.prototype.hasOwnProperty.call(ce,Oe)&&Te.indexOf(Oe)<0&&(be[Oe]=ce[Oe]);if(null!=ce&&"function"==typeof Object.getOwnPropertySymbols){var ie=0;for(Oe=Object.getOwnPropertySymbols(ce);ie<Oe.length;ie++)Te.indexOf(Oe[ie])<0&&Object.prototype.propertyIsEnumerable.call(ce,Oe[ie])&&(be[Oe[ie]]=ce[Oe[ie]])}return be}function h(ce,Te,be,Oe){return new(be||(be=Promise))(function(ye,Ce){function de(Ie){try{pe(Oe.next(Ie))}catch(Be){Ce(Be)}}function Me(Ie){try{pe(Oe.throw(Ie))}catch(Be){Ce(Be)}}function pe(Ie){Ie.done?ye(Ie.value):function ie(ye){return ye instanceof be?ye:new be(function(Ce){Ce(ye)})}(Ie.value).then(de,Me)}pe((Oe=Oe.apply(ce,Te||[])).next())})}function E(ce){return this instanceof E?(this.v=ce,this):new E(ce)}function L(ce,Te,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,Oe=be.apply(ce,Te||[]),ye=[];return ie={},Ce("next"),Ce("throw"),Ce("return"),ie[Symbol.asyncIterator]=function(){return this},ie;function Ce(at){Oe[at]&&(ie[at]=function(Xe){return new Promise(function(je,Ne){ye.push([at,Xe,je,Ne])>1||de(at,Xe)})})}function de(at,Xe){try{!function Me(at){at.value instanceof E?Promise.resolve(at.value.v).then(pe,Ie):Be(ye[0][2],at)}(Oe[at](Xe))}catch(je){Be(ye[0][3],je)}}function pe(at){de("next",at)}function Ie(at){de("throw",at)}function Be(at,Xe){at(Xe),ye.shift(),ye.length&&de(ye[0][0],ye[0][1])}}function B(ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,Te=ce[Symbol.asyncIterator];return Te?Te.call(ce):(ce=function x(ce){var Te="function"==typeof Symbol&&Symbol.iterator,be=Te&&ce[Te],Oe=0;if(be)return be.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&Oe>=ce.length&&(ce=void 0),{value:ce&&ce[Oe++],done:!ce}}};throw new TypeError(Te?"Object is not iterable.":"Symbol.iterator is not defined.")}(ce),be={},Oe("next"),Oe("throw"),Oe("return"),be[Symbol.asyncIterator]=function(){return this},be);function Oe(ye){be[ye]=ce[ye]&&function(Ce){return new Promise(function(de,Me){!function ie(ye,Ce,de,Me){Promise.resolve(Me).then(function(pe){ye({value:pe,done:de})},Ce)}(de,Me,(Ce=ce[ye](Ce)).done,Ce.value)})}}}g.d(Je,{FC:()=>L,KL:()=>B,_T:()=>y,mG:()=>h,qq:()=>E})}},Wn=>{Wn(Wn.s=4998)}]);