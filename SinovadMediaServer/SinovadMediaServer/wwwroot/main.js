(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{3452:(wn,qe,x)=>{"use strict";x.d(qe,{m:()=>we});var c=x(6814),t=x(1476),E=x(7700),O=x(2939),b=x(5313),F=x(2032),L=x(9157),D=x(3566),m=x(5986),h=x(5940),g=x(2596),v=x(3680),A=x(8525),U=x(8034),P=x(5879);let le=(()=>{class _e{static#e=this.\u0275fac=function(Oe){return new(Oe||_e)};static#t=this.\u0275mod=P.oAB({type:_e});static#n=this.\u0275inj=P.cJS({imports:[v.BQ,c.ez,v.BQ]})}return _e})(),Me=(()=>{class _e{static#e=this.\u0275fac=function(Oe){return new(Oe||_e)};static#t=this.\u0275mod=P.oAB({type:_e});static#n=this.\u0275inj=P.cJS({imports:[c.ez,t.TU,E.Is,O.ZX,b.p0,F.c,L.lN,D.JX,m.p9,h.Cq,g.AV,v.Ng,A.LD,U.FA,v.XK,le,t.TU,E.Is,O.ZX,b.p0,F.c,L.lN,D.JX,m.p9,h.Cq,g.AV,v.Ng,A.LD,U.FA,v.XK,le]})}return _e})(),we=(()=>{class _e{static#e=this.\u0275fac=function(Oe){return new(Oe||_e)};static#t=this.\u0275mod=P.oAB({type:_e});static#n=this.\u0275inj=P.cJS({imports:[c.ez,Me,c.ez,Me]})}return _e})()},2726:(wn,qe,x)=>{"use strict";var c=x(6593),t=x(5879),E=x(2096),O=x(7715),b=x(5592),F=x(6328),L=x(2181),D=x(7398),m=x(4716),h=x(4664),g=x(6814);class v{}class A{}class U{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?"string"==typeof i?this.lazyInit=()=>{this.headers=new Map,i.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const o=e.slice(0,n),u=o.toLowerCase(),p=e.slice(n+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(p):this.headers.set(u,[p])}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((e,n)=>{this.setHeaderEntries(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const e=this.headers.get(i.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,e){return this.clone({name:i,value:e,op:"a"})}set(i,e){return this.clone({name:i,value:e,op:"s"})}delete(i,e){return this.clone({name:i,value:e,op:"d"})}maybeSetNormalizedName(i,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,i)}init(){this.lazyInit&&(this.lazyInit instanceof U?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(e=>{this.headers.set(e,i.headers.get(e)),this.normalizedNames.set(e,i.normalizedNames.get(e))})}clone(i){const e=new U;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof U?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([i]),e}applyUpdate(i){const e=i.name.toLowerCase();switch(i.op){case"a":case"s":let n=i.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(i.name,e);const o=("a"===i.op?this.headers.get(e):void 0)||[];o.push(...n),this.headers.set(e,o);break;case"d":const u=i.value;if(u){let p=this.headers.get(e);if(!p)return;p=p.filter(y=>-1===u.indexOf(y)),0===p.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,p)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(i,e){const n=(Array.isArray(e)?e:[e]).map(u=>u.toString()),o=i.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(i,o)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>i(this.normalizedNames.get(e),this.headers.get(e)))}}class V{encodeKey(i){return w(i)}encodeValue(i){return w(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const R=/%(\d[a-f0-9])/gi,C={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function w(r){return encodeURIComponent(r).replace(R,(i,e)=>C[e]??i)}function T(r){return`${r}`}class N{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new V,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function k(r,i){const e=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[p,y]=-1==u?[i.decodeKey(o),""]:[i.decodeKey(o.slice(0,u)),i.decodeValue(o.slice(u+1))],I=e.get(p)||[];I.push(y),e.set(p,I)}),e}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(e=>{const n=i.fromObject[e],o=Array.isArray(n)?n.map(T):[T(n)];this.map.set(e,o)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const e=this.map.get(i);return e?e[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,e){return this.clone({param:i,value:e,op:"a"})}appendAll(i){const e=[];return Object.keys(i).forEach(n=>{const o=i[n];Array.isArray(o)?o.forEach(u=>{e.push({param:n,value:u,op:"a"})}):e.push({param:n,value:o,op:"a"})}),this.clone(e)}set(i,e){return this.clone({param:i,value:e,op:"s"})}delete(i,e){return this.clone({param:i,value:e,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const e=this.encoder.encodeKey(i);return this.map.get(i).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const e=new N({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(i),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const e=("a"===i.op?this.map.get(i.param):void 0)||[];e.push(T(i.value)),this.map.set(i.param,e);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let n=this.map.get(i.param)||[];const o=n.indexOf(T(i.value));-1!==o&&n.splice(o,1),n.length>0?this.map.set(i.param,n):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class B{constructor(){this.map=new Map}set(i,e){return this.map.set(i,e),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}}function re(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function ae(r){return typeof Blob<"u"&&r instanceof Blob}function Re(r){return typeof FormData<"u"&&r instanceof FormData}class oe{constructor(i,e,n,o){let u;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function Y(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==n?n:null,u=o):u=n,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new U),this.context||(this.context=new B),this.params){const p=this.params.toString();if(0===p.length)this.urlWithParams=e;else{const y=e.indexOf("?");this.urlWithParams=e+(-1===y?"?":y<e.length-1?"&":"")+p}}else this.params=new N,this.urlWithParams=e}serializeBody(){return null===this.body?null:re(this.body)||ae(this.body)||Re(this.body)||function z(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof N?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Re(this.body)?null:ae(this.body)?this.body.type||null:re(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof N?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){const e=i.method||this.method,n=i.url||this.url,o=i.responseType||this.responseType,u=void 0!==i.body?i.body:this.body,p=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,y=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let I=i.headers||this.headers,G=i.params||this.params;const ne=i.context??this.context;return void 0!==i.setHeaders&&(I=Object.keys(i.setHeaders).reduce((Te,Ve)=>Te.set(Ve,i.setHeaders[Ve]),I)),i.setParams&&(G=Object.keys(i.setParams).reduce((Te,Ve)=>Te.set(Ve,i.setParams[Ve]),G)),new oe(e,n,u,{params:G,headers:I,context:ne,reportProgress:y,responseType:o,withCredentials:p})}}var H=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(H||{});class me{constructor(i,e=200,n="OK"){this.headers=i.headers||new U,this.status=void 0!==i.status?i.status:e,this.statusText=i.statusText||n,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class te extends me{constructor(i={}){super(i),this.type=H.ResponseHeader}clone(i={}){return new te({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class ue extends me{constructor(i={}){super(i),this.type=H.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new ue({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class Se extends me{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${i.url||"(unknown url)"}`:`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}}function Ie(r,i){return{body:i,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let le=(()=>{class r{constructor(e){this.handler=e}request(e,n,o={}){let u;if(e instanceof oe)u=e;else{let I,G;I=o.headers instanceof U?o.headers:new U(o.headers),o.params&&(G=o.params instanceof N?o.params:new N({fromObject:o.params})),u=new oe(e,n,void 0!==o.body?o.body:null,{headers:I,context:o.context,params:G,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const p=(0,E.of)(u).pipe((0,F.b)(I=>this.handler.handle(I)));if(e instanceof oe||"events"===o.observe)return p;const y=p.pipe((0,L.h)(I=>I instanceof ue));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return y.pipe((0,D.U)(I=>{if(null!==I.body&&!(I.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return I.body}));case"blob":return y.pipe((0,D.U)(I=>{if(null!==I.body&&!(I.body instanceof Blob))throw new Error("Response is not a Blob.");return I.body}));case"text":return y.pipe((0,D.U)(I=>{if(null!==I.body&&"string"!=typeof I.body)throw new Error("Response is not a string.");return I.body}));default:return y.pipe((0,D.U)(I=>I.body))}case"response":return y;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new N).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,o={}){return this.request("PATCH",e,Ie(o,n))}post(e,n,o={}){return this.request("POST",e,Ie(o,n))}put(e,n,o={}){return this.request("PUT",e,Ie(o,n))}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(v))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();function ze(r,i){return i(r)}function He(r,i){return(e,n)=>i.intercept(e,{handle:o=>r(o,n)})}const ye=new t.OlP(""),K=new t.OlP(""),ie=new t.OlP("");function he(){let r=null;return(i,e)=>{null===r&&(r=((0,t.f3M)(ye,{optional:!0})??[]).reduceRight(He,ze));const n=(0,t.f3M)(t.HDt),o=n.add();return r(i,e).pipe((0,m.x)(()=>n.remove(o)))}}let $=(()=>{class r extends v{constructor(e,n){super(),this.backend=e,this.injector=n,this.chain=null,this.pendingTasks=(0,t.f3M)(t.HDt)}handle(e){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(K),...this.injector.get(ie,[])]));this.chain=o.reduceRight((u,p)=>function Ae(r,i,e){return(n,o)=>e.runInContext(()=>i(n,u=>r(u,o)))}(u,p,this.injector),ze)}const n=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe((0,m.x)(()=>this.pendingTasks.remove(n)))}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(A),t.LFG(t.lqb))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();const Be=/^\)\]\}',?\n/;let Qe=(()=>{class r{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new t.vHH(-2800,!1);const n=this.xhrFactory;return(n.\u0275loadImpl?(0,O.D)(n.\u0275loadImpl()):(0,E.of)(null)).pipe((0,h.w)(()=>new b.y(u=>{const p=n.build();if(p.open(e.method,e.urlWithParams),e.withCredentials&&(p.withCredentials=!0),e.headers.forEach((ft,vt)=>p.setRequestHeader(ft,vt.join(","))),e.headers.has("Accept")||p.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const ft=e.detectContentTypeHeader();null!==ft&&p.setRequestHeader("Content-Type",ft)}if(e.responseType){const ft=e.responseType.toLowerCase();p.responseType="json"!==ft?ft:"text"}const y=e.serializeBody();let I=null;const G=()=>{if(null!==I)return I;const ft=p.statusText||"OK",vt=new U(p.getAllResponseHeaders()),Lt=function Ze(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(p)||e.url;return I=new te({headers:vt,status:p.status,statusText:ft,url:Lt}),I},ne=()=>{let{headers:ft,status:vt,statusText:Lt,url:qt}=G(),zt=null;204!==vt&&(zt=typeof p.response>"u"?p.responseText:p.response),0===vt&&(vt=zt?200:0);let un=vt>=200&&vt<300;if("json"===e.responseType&&"string"==typeof zt){const cn=zt;zt=zt.replace(Be,"");try{zt=""!==zt?JSON.parse(zt):null}catch(Sn){zt=cn,un&&(un=!1,zt={error:Sn,text:zt})}}un?(u.next(new ue({body:zt,headers:ft,status:vt,statusText:Lt,url:qt||void 0})),u.complete()):u.error(new Se({error:zt,headers:ft,status:vt,statusText:Lt,url:qt||void 0}))},Te=ft=>{const{url:vt}=G(),Lt=new Se({error:ft,status:p.status||0,statusText:p.statusText||"Unknown Error",url:vt||void 0});u.error(Lt)};let Ve=!1;const Ge=ft=>{Ve||(u.next(G()),Ve=!0);let vt={type:H.DownloadProgress,loaded:ft.loaded};ft.lengthComputable&&(vt.total=ft.total),"text"===e.responseType&&p.responseText&&(vt.partialText=p.responseText),u.next(vt)},et=ft=>{let vt={type:H.UploadProgress,loaded:ft.loaded};ft.lengthComputable&&(vt.total=ft.total),u.next(vt)};return p.addEventListener("load",ne),p.addEventListener("error",Te),p.addEventListener("timeout",Te),p.addEventListener("abort",Te),e.reportProgress&&(p.addEventListener("progress",Ge),null!==y&&p.upload&&p.upload.addEventListener("progress",et)),p.send(y),u.next({type:H.Sent}),()=>{p.removeEventListener("error",Te),p.removeEventListener("abort",Te),p.removeEventListener("load",ne),p.removeEventListener("timeout",Te),e.reportProgress&&(p.removeEventListener("progress",Ge),null!==y&&p.upload&&p.upload.removeEventListener("progress",et)),p.readyState!==p.DONE&&p.abort()}})))}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(g.JF))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();const $e=new t.OlP("XSRF_ENABLED"),It=new t.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Pt=new t.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Vt{}let $t=(()=>{class r{constructor(e,n,o){this.doc=e,this.platform=n,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,g.Mx)(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(g.K0),t.LFG(t.Lbi),t.LFG(It))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();function Qt(r,i){const e=r.url.toLowerCase();if(!(0,t.f3M)($e)||"GET"===r.method||"HEAD"===r.method||e.startsWith("http://")||e.startsWith("https://"))return i(r);const n=(0,t.f3M)(Vt).getToken(),o=(0,t.f3M)(Pt);return null!=n&&!r.headers.has(o)&&(r=r.clone({headers:r.headers.set(o,n)})),i(r)}var pn=function(r){return r[r.Interceptors=0]="Interceptors",r[r.LegacyInterceptors=1]="LegacyInterceptors",r[r.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",r[r.NoXsrfProtection=3]="NoXsrfProtection",r[r.JsonpSupport=4]="JsonpSupport",r[r.RequestsMadeViaParent=5]="RequestsMadeViaParent",r[r.Fetch=6]="Fetch",r}(pn||{});function ot(...r){const i=[le,Qe,$,{provide:v,useExisting:$},{provide:A,useExisting:Qe},{provide:K,useValue:Qt,multi:!0},{provide:$e,useValue:!0},{provide:Vt,useClass:$t}];for(const e of r)i.push(...e.\u0275providers);return(0,t.MR2)(i)}const xe=new t.OlP("LEGACY_INTERCEPTOR_FN");function fe(){return function Un(r,i){return{\u0275kind:r,\u0275providers:i}}(pn.LegacyInterceptors,[{provide:xe,useFactory:he},{provide:K,useExisting:xe,multi:!0}])}let Nt=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({providers:[ot(fe())]})}return r})();var kn=x(8930);const qn=[];let ui=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[kn.Bz.forRoot(qn,{onSameUrlNavigation:"reload"}),kn.Bz]})}return r})();var Ft=x(95);class St{}var at=function(r){return r[r.MediaServerState=1]="MediaServerState",r[r.MediaType=2]="MediaType",r[r.VideoTransmissionType=3]="VideoTransmissionType",r[r.TranscoderPreset=4]="TranscoderPreset",r[r.IconTypes=5]="IconTypes",r}(at||{}),Ke=function(r){return r[r.Movie=1]="Movie",r[r.TvSerie=2]="TvSerie",r[r.Music=3]="Music",r[r.Photo=4]="Photo",r[r.Other=5]="Other",r}(Ke||{}),tt=function(r){return r[r.None=1]="None",r[r.MPEGDASH=2]="MPEGDASH",r[r.HLS=3]="HLS",r}(tt||{}),Gt=function(r){return r[r.GET=0]="GET",r[r.POST=1]="POST",r[r.PUT=2]="PUT",r[r.DELETE=3]="DELETE",r}(Gt||{}),_n=function(r){return r[r.Empty=0]="Empty",r[r.Generated=1]="Generated",r[r.Initialized=2]="Initialized",r[r.LoadedMetada=3]="LoadedMetada",r[r.LoadedData=4]="LoadedData",r}(_n||{}),kt=function(r){return r[r.SinovadDb=1]="SinovadDb",r[r.TMDb=2]="TMDb",r[r.IMDb=3]="IMDb",r}(kt||{});let Ot=(()=>{class r{constructor(){this.showSplashScreen=!0,this.urlSinovadStreamWebApi="https://streamapi.sinovad.com",this.urlSinovadCdn="https://resources.sinovad.com/stream/web",this.originalUrlImagesMovieDataBase="https://image.tmdb.org/t/p/w600_and_h900_bestv2",this.urlEpisodeDataBase="https://www.themoviedb.org/t/p/w454_and_h254_bestv2",this.listProcessGUIDs=[],this.configurationData=new St,this.listProfiles=[],this.listMenus=[],this.mediaMenu=[],this.pageNotFoundShowing=!1,this.mediaServers=[],this.libraries=[]}formatDate(e){const n=new Date(e);let o=""+(n.getMonth()+1),u=""+n.getDate();const p=n.getFullYear();return o.length<2&&(o="0"+o),u.length<2&&(u="0"+u),[p,o,u].join("-")}getInitials(e){return e.FullName.substring(0,1)}delay(e){return new Promise(n=>setTimeout(n,e))}hasRequireErrorFormControl(e,n){return!!e.controls[n].errors.required}isInvalidFormControl(e,n){return!(!e.controls[n].invalid||!e.controls[n].dirty&&!e.controls[n].touched)}hasErrorPatternFormControl(e,n){return!!e.controls[n].errors.pattern}isSmallDevice(){return window.innerWidth<=768}isMobileDevice(){return"ontouchstart"in window}getUrlByItemDetailMovieDataBase(e){return e.MediaItem.MetadataAgentsId==kt.TMDb?this.originalUrlImagesMovieDataBase+e.MediaItem.PosterPath:e.MediaItem.PosterPath}getUrlByItemMovieDataBase(e){return e.MetadataAgentsId==kt.TMDb?this.originalUrlImagesMovieDataBase+e.PosterPath:e.PosterPath}getYearByDateFormat(e){return new Date(e).getFullYear()}sort_by(e,n,o){let u=o?p=>o(p[e]):p=>p[e];return n=n?-1:1,(p,y)=>(p=u(p),y=u(y),n*(+(p>y)-+(y>p)))}validateEmailFormat(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Bt=(()=>{class r{constructor(e,n){this.http=e,this.sharedService=n}performExecuteMethod(e,n,o){return new Promise((u,p)=>{try{let y={responseType:"text"};if(this.sharedService.apiToken){const G=new U({"Content-Type":"application/json",Authorization:"Bearer "+this.sharedService.apiToken});y.headers=G}e==Gt.GET&&this.http.get(n,y).subscribe(I=>{u(I)},I=>{p(I)}),e==Gt.POST&&this.http.post(n,o,y).subscribe(I=>{u(I)},I=>{p(I)}),e==Gt.PUT&&this.http.put(n,o,y).subscribe(I=>{u(I)},I=>{p(I)}),e==Gt.DELETE&&this.http.delete(n,y).subscribe(I=>{u(I)},I=>{p(I)})}catch(y){p(y)}})}executeSinovadApiService(e,n,o){let u=this.sharedService.urlSinovadStreamWebApi+"/api/v1"+n;return new Promise((p,y)=>{try{this.performExecuteMethod(e,u,o).then(I=>{p(JSON.parse(I))},I=>{let G=I;if(null!=I.error){G=I.error;try{var ne=JSON.parse(G);if(ne.errors){let Ve=ne.errors,Ge=[];Object.keys(Ve).map(et=>{var ft=Ve[et].join("\n");Ge.push(ft)}),G=Ge.join("\n")}else ne.Errors?G=ne.Errors.map(Ve=>Ve.ErrorMessage).join("\n"):ne.Message&&(G=ne.Message)}catch{}}401==I.status&&this.sharedService.apiToken&&(this.sharedService.apiToken=void 0,localStorage.removeItem("apiToken"),window.location.href="/"),console.error(G),y(G)})}catch(I){y(I)}})}executeHttpMediaServerApi(e,n,o){return new Promise((u,p)=>{try{this.performExecuteMethod(e,n,o).then(y=>{try{u(JSON.parse(y))}catch(I){p(I)}},y=>{p(y)})}catch(y){p(y)}})}executeHttpMethodByUrl(e,n,o){return new Promise((u,p)=>{this.performExecuteMethod(e,n,o).then(y=>{u(y)},y=>{p(y)})})}executeHttpPostMethodWithFormData(e,n){let o=this.sharedService.urlSinovadStreamWebApi+"/api/v1"+e;return new Promise((u,p)=>{let y={responseType:"text"};if(this.sharedService.apiToken){const G=new U({Accept:"*/*",Authorization:"Bearer "+this.sharedService.apiToken});y.headers=G}this.http.post(o,n,y).subscribe(I=>{u(I)},I=>{p(I)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(le),t.LFG(Ot))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function on(r,i){if(1&r&&(t.TgZ(0,"div",13),t._UZ(1,"i",14),t._uU(2),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.hij("",e.serverErrorMessage," ")}}function bn(r,i){1&r&&t._UZ(0,"div",15)}const Fn=function(r){return{error:r}},ht=function(r){return{disable:r}};let rn=(()=>{class r{constructor(e,n,o){this.formBuilder=e,this.restProvider=n,this.sharedService=o,this.serverErrorMessage=void 0,this.closeChangePassword=new t.vpe,this.changePasswordForm=this.formBuilder.group({password:new Ft.NI("",[Ft.kI.required]),confirmPassword:new Ft.NI("",[Ft.kI.required]),currentPassword:new Ft.NI("",[Ft.kI.required])}),this.loading=!1}ngOnInit(){}changePasword(){this.changePasswordForm.valid?(this.changePasswordData={UserId:this.sharedService.userData.Id,Password:this.changePasswordForm.value.password,ConfirmPassword:this.changePasswordForm.value.confirmPassword,CurrentPassword:this.changePasswordForm.value.currentPassword},this.loading=!0,this.restProvider.executeSinovadApiService(Gt.POST,"/users/ChangePassword",this.changePasswordData).then(e=>{this.loading=!1,this.closeChangePassword.emit(!0)},e=>{this.loading=!1,this.serverErrorMessage=e,console.error(e)})):(this.serverErrorMessage=void 0,this.changePasswordForm.markAllAsTouched())}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Ft.qu),t.Y36(Bt),t.Y36(Ot))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-change-password"]],outputs:{closeChangePassword:"closeChangePassword"},decls:24,vars:20,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],["type","password","formControlName","currentPassword"],[1,"submit-button-container"],["type","submit",3,"ngClass"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.YNc(1,on,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.closeChangePassword.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return o.changePasword()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",6)(12,"label"),t._uU(13),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"div",6)(16,"label"),t._uU(17),t.qZA(),t._UZ(18,"input",9),t.qZA(),t.TgZ(19,"div",10)(20,"button",11)(21,"span"),t._uU(22,"Guardar Cambios"),t.qZA(),t.YNc(23,bn,1,0,"div",12),t.qZA()()()()()),2&n&&(t.xp6(1),t.Q6J("ngIf",o.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",o.changePasswordForm),t.xp6(1),t.Q6J("ngClass",t.VKq(12,Fn,o.sharedService.isInvalidFormControl(o.changePasswordForm,"password"))),t.xp6(2),t.hij(" Contrase\xf1a",o.sharedService.isInvalidFormControl(o.changePasswordForm,"password")&&o.sharedService.hasRequireErrorFormControl(o.changePasswordForm,"password")?" - Se requiere Contrase\xf1a":""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(14,Fn,o.sharedService.isInvalidFormControl(o.changePasswordForm,"confirmPassword"))),t.xp6(2),t.hij("Confirme la nueva contrase\xf1a",o.sharedService.isInvalidFormControl(o.changePasswordForm,"confirmPassword")&&o.sharedService.hasRequireErrorFormControl(o.changePasswordForm,"confirmPassword")?" - Confirme la contrase\xf1a":"",""),t.xp6(2),t.Q6J("ngClass",t.VKq(16,Fn,o.sharedService.isInvalidFormControl(o.changePasswordForm,"currentPassword"))),t.xp6(2),t.hij("Contrase\xf1a actual",o.sharedService.isInvalidFormControl(o.changePasswordForm,"currentPassword")&&o.sharedService.hasRequireErrorFormControl(o.changePasswordForm,"currentPassword")?" - Introduza la contrase\xf1a actual":"",""),t.xp6(3),t.Q6J("ngClass",t.VKq(18,ht,o.loading)),t.xp6(1),t.Udp("visibility",o.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",o.loading))},dependencies:[g.mk,g.O5,Ft._Y,Ft.Fj,Ft.JJ,Ft.JL,Ft.sg,Ft.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-top:2px solid rgba(0,0,0,.3);background:rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:red}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button.disable[_ngcontent-%COMP%]{pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return r})();function ve(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangePasswordSection=!1)}),t.TgZ(1,"div",3)(2,"div",8)(3,"button",9),t._uU(4,"Editar"),t.qZA()(),t.TgZ(5,"div",4)(6,"label"),t._uU(7,"Contrase\xf1a"),t.qZA(),t.TgZ(8,"span"),t._uU(9,"*********"),t.qZA()()()()}}function lt(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"app-change-password",10),t.NdJ("closeChangePassword",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangePasswordSection=!0)}),t.qZA()}}let it=(()=>{class r{constructor(e,n){this.router=e,this.sharedService=n,this.isCollapsedChangePasswordSection=!0}ngOnInit(){null==this.sharedService.apiToken&&this.router.navigateByUrl("/landing")}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kn.F0),t.Y36(Ot))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-account"]],decls:20,vars:4,consts:[[1,"sinovad-page-container"],[1,"sinovad-page-title"],[1,"sinovad-page-section-container"],[1,"sinovad-page-section-content"],[1,"detail"],["class","sinovad-page-section-container","role","button",3,"click",4,"ngIf"],[3,"closeChangePassword",4,"ngIf"],["role","button",1,"sinovad-page-section-container",3,"click"],[1,"button-container"],[1,"edit"],[3,"closeChangePassword"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2"),t._uU(3,"Cuenta"),t.qZA()(),t.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"label"),t._uU(8,"Nombre de Usuario"),t.qZA(),t.TgZ(9,"span"),t._uU(10),t.qZA()()()(),t.TgZ(11,"div",2)(12,"div",3)(13,"div",4)(14,"label"),t._uU(15,"Correo electr\xf3nico"),t.qZA(),t.TgZ(16,"span"),t._uU(17),t.qZA()()()(),t.YNc(18,ve,10,0,"div",5),t.YNc(19,lt,1,0,"app-change-password",6),t.qZA()),2&n&&(t.xp6(10),t.Oqu(o.sharedService.userData.UserName),t.xp6(7),t.Oqu(o.sharedService.userData.Email),t.xp6(1),t.Q6J("ngIf",o.isCollapsedChangePasswordSection),t.xp6(1),t.Q6J("ngIf",!o.isCollapsedChangePasswordSection))},dependencies:[g.O5,rn],styles:[".sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;margin-bottom:20px;margin-top:40px;font-size:24px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-top:2px solid rgba(0,0,0,.3)}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%]{color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]:hover{background-color:#00000026}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container.showing[_ngcontent-%COMP%]{background:rgba(0,0,0,.3)}"]})}return r})();class At{}var Kt=x(1476),vn=x(7700);const Fi=function(r){return{disabled:r}};let Ti=(()=>{class r{constructor(e,n){this.dialog=e,this.options=n}closeDialog(){this.dialog.close(!1)}confirmDialog(){this.dialog.close(!0)}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(vn.so),t.Y36(vn.WI))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-confirm-dialog"]],decls:24,vars:6,consts:[[1,"modal-container"],["role","document",1,"modal-dialog"],[1,"modal-backdrop"],[1,"modal-small"],[1,"modal-content"],[1,"modal-content-close-button",3,"click"],[1,"fa-solid","fa-xmark"],["mat-dialog-title","",1,"modal-header"],["mat-dialog-content","",1,"confirm-modal-body"],[1,"inner-modal-body"],[1,"confirm-modal-accord-label"],["type","checkbox",1,"confirm-message-accord-input"],["checkBox",""],["mat-dialog-actions","",1,"modal-footer"],[1,"modal-footer-button-bar"],[1,"confirm-modal-button","cancel",3,"click"],[1,"confirm-modal-button","confirm",3,"ngClass","click"],[1,"spinner-button-label"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),t.NdJ("click",function(){return o.closeDialog()}),t._UZ(6,"i",6),t.qZA(),t.TgZ(7,"div",7),t._uU(8),t.qZA(),t.TgZ(9,"div",8)(10,"div",9)(11,"p"),t._uU(12),t.qZA(),t.TgZ(13,"label",10),t._UZ(14,"input",11,12),t._uU(16),t.qZA()()(),t.TgZ(17,"div",13)(18,"div",14)(19,"button",15),t.NdJ("click",function(){return o.closeDialog()}),t._uU(20,"Cancelar"),t.qZA(),t.TgZ(21,"button",16),t.NdJ("click",function(){return o.confirmDialog()}),t.TgZ(22,"span",17),t._uU(23,"Eliminar"),t.qZA()()()()()()()()()),2&n){const u=t.MAs(15);t.xp6(8),t.hij(" ",o.options.title," "),t.xp6(4),t.Oqu(o.options.message),t.xp6(4),t.hij("",o.options.accordMessage," "),t.xp6(5),t.Q6J("ngClass",t.VKq(4,Fi,!u.checked))}},dependencies:[g.mk,vn.uh,vn.xY,vn.H8],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return r})();var Li=x(8337),Cn=x(5313);class Tr{constructor(i){this.matPaginatorIntl=i,this.showLoading=!0,this.dataSource=new Cn.by,this.selection=new Li.Ov(!0,[]),this.itemsPerPage=10,this.currentPage=1,this.listItems=[],this.sortBy="Id",this.sortDirection="asc",this.searchText="",this.searchBy="",this.matPaginatorIntl.itemsPerPageLabel="Items por p\xe1gina",this.matPaginatorIntl.previousPageLabel="P\xe1gina anterior",this.matPaginatorIntl.nextPageLabel="P\xe1gina siguiente"}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}updatePageData(i){this.itemsPerPage=i.pageSize,this.currentPage=i.pageIndex+1}getElementNumber(i,e,n){return i+1+(e-1)*n}onChangeCheckValue(i,e){let n=i.target.checked;if(n?this.selection.select(e):this.selection.deselect(e),i.shiftKey&&this.lastSelectedItem){let u=0;this.selection.hasValue()&&this.lastSelectedItem&&(u=this.listItems.indexOf(this.lastSelectedItem));let p=this.listItems.indexOf(e);if(n){var o;(o=this.listItems.filter(p>=u?y=>this.listItems.indexOf(y)<=p&&this.listItems.indexOf(y)>=u&&!this.selection.isSelected(y):y=>this.listItems.indexOf(y)>=p&&this.listItems.indexOf(y)<=u&&!this.selection.isSelected(y)))&&o.length>0&&this.selection.select(...o)}else{let y=[];y=this.listItems.filter(p>=u?I=>this.listItems.indexOf(I)<=p&&this.listItems.indexOf(I)>=u&&this.selection.isSelected(I):I=>this.listItems.indexOf(I)>=p&&this.listItems.indexOf(I)<=u&&this.selection.isSelected(I)),y&&y.length>0&&this.selection.deselect(...y)}}this.lastSelectedItem=e}}var Ci=x(3566),Lr=x(2939);function di(r,i){1&r&&t._UZ(0,"i",4)}function er(r,i){1&r&&t._UZ(0,"i",5)}function mr(r,i){1&r&&t._UZ(0,"i",6)}const Ir=function(r,i,e){return{success:r,info:i,error:e}};var Zn=function(r){return r[r.Success=1]="Success",r[r.Error=2]="Error",r[r.Info=3]="Info",r}(Zn||{});let $r=(()=>{class r{constructor(e){this.toastOptions=e,this.snackBarRef=(0,t.f3M)(Lr.OX)}SnackBarType(){return Zn}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Lr.qD))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-snack-bar"]],standalone:!0,features:[t.jDz],decls:5,vars:9,consts:[[1,"custom-toast",3,"ngClass"],["class","fa-solid fa-circle-check me-2",4,"ngIf"],["class","fa-solid fa-circle-info me-2",4,"ngIf"],["class","fa-solid fa-circle-xmark me-2",4,"ngIf"],[1,"fa-solid","fa-circle-check","me-2"],[1,"fa-solid","fa-circle-info","me-2"],[1,"fa-solid","fa-circle-xmark","me-2"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.YNc(1,di,1,0,"i",1),t.YNc(2,er,1,0,"i",2),t.YNc(3,mr,1,0,"i",3),t._uU(4),t.qZA()),2&n&&(t.Q6J("ngClass",t.kEZ(5,Ir,o.toastOptions.snackBarType==o.SnackBarType().Success,o.toastOptions.snackBarType==o.SnackBarType().Info,o.toastOptions.snackBarType==o.SnackBarType().Error)),t.xp6(1),t.Q6J("ngIf",o.toastOptions.snackBarType==o.SnackBarType().Success),t.xp6(1),t.Q6J("ngIf",o.toastOptions.snackBarType==o.SnackBarType().Info),t.xp6(1),t.Q6J("ngIf",o.toastOptions.snackBarType==o.SnackBarType().Error),t.xp6(1),t.hij(" ",o.toastOptions.message,"\n"))},dependencies:[Lr.ZX,g.ez,g.mk,g.O5],styles:[".custom-toast[_ngcontent-%COMP%]{background:transparent;font-weight:500;width:100%;height:100%;display:flex;align-items:center}.custom-toast[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0;font-size:23px}.custom-toast.success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:green}.custom-toast.error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red}.custom-toast.info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#00f}"]})}return r})();class Qi{isErrorState(i,e){return!!(i&&i.invalid&&(i.dirty||i.touched||e&&e.submitted))}}var go=x(6232),Xi=x(8645),si=x(2438),Kn=x(4825),ai=x(4829);const{isArray:Ri}=Array;function pr(r){return 1===r.length&&Ri(r[0])?r[0]:r}var tr=x(8251);x(3019);var hn=x(9940);function Pn(...r){const i=(0,hn.jO)(r),e=pr(r);return e.length?new b.y(n=>{let o=e.map(()=>[]),u=e.map(()=>!1);n.add(()=>{o=u=null});for(let p=0;!n.closed&&p<e.length;p++)(0,ai.Xf)(e[p]).subscribe((0,tr.x)(n,y=>{if(o[p].push(y),o.every(I=>I.length)){const I=o.map(G=>G.shift());n.next(i?i(...I):I),o.some((G,ne)=>!G.length&&u[ne])&&n.complete()}},()=>{u[p]=!0,!o[p].length&&n.complete()}));return()=>{o=u=null}}):go.E}var Rn=x(5211),Jn=x(9773),oi=x(8180),li=x(9397),Ai=x(9360),gr=x(2737),xr=x(2420);function fr(...r){const i=(0,hn.jO)(r);return(0,Ai.e)((e,n)=>{const o=r.length,u=new Array(o);let p=r.map(()=>!1),y=!1;for(let I=0;I<o;I++)(0,ai.Xf)(r[I]).subscribe((0,tr.x)(n,G=>{u[I]=G,!y&&!p[I]&&(p[I]=!0,(y=p.every(gr.y))&&(p=null))},xr.Z));e.subscribe((0,tr.x)(n,I=>{if(y){const G=[I,...u];n.next(i?i(...G):G)}}))})}x(6321),x(975),x(1631),x(7921),x(3997),x(836),Math,Math,Math;const Yd=["*"],Mt=["dialog"];function Cl(r){return"string"==typeof r}function Dl(r){return null!=r}function vr(r){return(r||document.body).getBoundingClientRect()}const Ko={animation:!0,transitionTimerDelayMs:5},Rc=()=>{},{transitionTimerDelayMs:Sg}=Ko,_s=new Map,Wr=(r,i,e,n)=>{let o=n.context||{};const u=_s.get(i);if(u)switch(n.runningTransition){case"continue":return go.E;case"stop":r.run(()=>u.transition$.complete()),o=Object.assign(u.context,o),_s.delete(i)}const p=e(i,n.animation,o)||Rc;if(!n.animation||"none"===window.getComputedStyle(i).transitionProperty)return r.run(()=>p()),(0,E.of)(void 0).pipe(function tE(r){return i=>new b.y(e=>i.subscribe({next:p=>r.run(()=>e.next(p)),error:p=>r.run(()=>e.error(p)),complete:()=>r.run(()=>e.complete())}))}(r));const y=new Xi.x,I=new Xi.x,G=y.pipe(function ei(...r){return i=>(0,Rn.z)(i,(0,E.of)(...r))}(!0));_s.set(i,{transition$:y,complete:()=>{I.next(),I.complete()},context:o});const ne=function nE(r){const{transitionDelay:i,transitionDuration:e}=window.getComputedStyle(r);return 1e3*(parseFloat(i)+parseFloat(e))}(i);return r.runOutsideAngular(()=>{const Te=(0,si.R)(i,"transitionend").pipe((0,Jn.R)(G),(0,L.h)(({target:Ge})=>Ge===i));(function nr(...r){return 1===(r=pr(r)).length?(0,ai.Xf)(r[0]):new b.y(function Or(r){return i=>{let e=[];for(let n=0;e&&!i.closed&&n<r.length;n++)e.push((0,ai.Xf)(r[n]).subscribe((0,tr.x)(i,o=>{if(e){for(let u=0;u<e.length;u++)u!==n&&e[u].unsubscribe();e=null}i.next(o)})))}}(r))})((0,Kn.H)(ne+Sg).pipe((0,Jn.R)(G)),Te,I).pipe((0,Jn.R)(G)).subscribe(()=>{_s.delete(i),r.run(()=>{p(),y.next(),y.complete()})})}),y.asObservable()};let eh=(()=>{class r{constructor(){this.animation=Ko.animation}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var cr=function(r){return r[r.Tab=9]="Tab",r[r.Enter=13]="Enter",r[r.Escape=27]="Escape",r[r.Space=32]="Space",r[r.PageUp=33]="PageUp",r[r.PageDown=34]="PageDown",r[r.End=35]="End",r[r.Home=36]="Home",r[r.ArrowLeft=37]="ArrowLeft",r[r.ArrowUp=38]="ArrowUp",r[r.ArrowRight=39]="ArrowRight",r[r.ArrowDown=40]="ArrowDown",r}(cr||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Jr=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function wl(r){const i=Array.from(r.querySelectorAll(Jr)).filter(e=>-1!==e.tabIndex);return[i[0],i[i.length-1]]}new Date(1882,10,12),new Date(2174,10,25);class Hs{constructor(i,e,n){this.nodes=i,this.viewRef=e,this.componentRef=n}}let r_=(()=>{class r{constructor(e,n){this._el=e,this._zone=n}ngOnInit(){this._zone.onStable.asObservable().pipe((0,oi.q)(1)).subscribe(()=>{Wr(this._zone,this._el.nativeElement,(e,n)=>{n&&vr(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Wr(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(t.SBq),t.Y36(t.R0b))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(n,o){2&n&&(t.Tol("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),t.ekj("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[t.jDz],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return r})();class uo{update(i){}close(i){}dismiss(i){}}const PE=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],RE=["animation","backdropClass"];class NE{_applyWindowOptions(i,e){PE.forEach(n=>{Dl(e[n])&&(i[n]=e[n])})}_applyBackdropOptions(i,e){RE.forEach(n=>{Dl(e[n])&&(i[n]=e[n])})}update(i){this._applyWindowOptions(this._windowCmptRef.instance,i),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,i)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Jn.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Jn.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(i,e,n,o){this._windowCmptRef=i,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=o,this._closed=new Xi.x,this._dismissed=new Xi.x,this._hidden=new Xi.x,i.instance.dismissEvent.subscribe(u=>{this.dismiss(u)}),this.result=new Promise((u,p)=>{this._resolve=u,this._reject=p}),this.result.then(null,()=>{})}close(i){this._windowCmptRef&&(this._closed.next(i),this._resolve(i),this._removeModalElements())}_dismiss(i){this._dismissed.next(i),this._reject(i),this._removeModalElements()}dismiss(i){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function Qb(r){return r&&r.then}(e)?!1!==e&&this._dismiss(i):e.then(n=>{!1!==n&&this._dismiss(i)},()=>{})}else this._dismiss(i)}_removeModalElements(){const i=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,E.of)(void 0);i.subscribe(()=>{const{nativeElement:n}=this._windowCmptRef.location;n.parentNode.removeChild(n),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:n}=this._backdropCmptRef.location;n.parentNode.removeChild(n),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Pn(i,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Ll=function(r){return r[r.BACKDROP_CLICK=0]="BACKDROP_CLICK",r[r.ESC=1]="ESC",r}(Ll||{});let ns=(()=>{class r{constructor(e,n,o){this._document=e,this._elRef=n,this._zone=o,this._closed$=new Xi.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new t.vpe,this.shown=new Xi.x,this.hidden=new Xi.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Cl(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,oi.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,n={animation:this.animation,runningTransition:"stop"},p=Pn(Wr(this._zone,e,()=>e.classList.remove("show"),n),Wr(this._zone,this._dialogEl.nativeElement,()=>{},n));return p.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),p}_show(){const e={animation:this.animation,runningTransition:"continue"};Pn(Wr(this._zone,this._elRef.nativeElement,(u,p)=>{p&&vr(u),u.classList.add("show")},e),Wr(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{(0,si.R)(e,"keydown").pipe((0,Jn.R)(this._closed$),(0,L.h)(o=>o.which===cr.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(Ll.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let n=!1;(0,si.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,Jn.R)(this._closed$),(0,li.b)(()=>n=!1),(0,h.w)(()=>(0,si.R)(e,"mouseup").pipe((0,Jn.R)(this._closed$),(0,oi.q)(1))),(0,L.h)(({target:o})=>e===o)).subscribe(()=>{n=!0}),(0,si.R)(e,"click").pipe((0,Jn.R)(this._closed$)).subscribe(({target:o})=>{e===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!n&&this._zone.run(()=>this.dismiss(Ll.BACKDROP_CLICK))),n=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const n=e.querySelector("[ngbAutofocus]"),o=wl(e)[0];(n||o||e).focus()}}_restoreFocus(){const e=this._document.body,n=this._elWithFocus;let o;o=n&&n.focus&&e.contains(n)?n:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Wr(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(g.K0),t.Y36(t.SBq),t.Y36(t.R0b))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["ngb-modal-window"]],viewQuery:function(n,o){if(1&n&&t.Gf(Mt,7),2&n){let u;t.iGM(u=t.CRH())&&(o._dialogEl=u.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,o){2&n&&(t.uIk("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),t.Tol("modal d-block"+(o.windowClass?" "+o.windowClass:"")),t.ekj("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[t.jDz],ngContentSelectors:Yd,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(n,o){1&n&&(t.F$t(),t.TgZ(0,"div",0,1)(2,"div",2),t.Hsn(3),t.qZA()()),2&n&&t.Tol("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return r})(),Hc=(()=>{class r{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),n=this._document.body,o=n.style,{overflow:u,paddingRight:p}=o;if(e>0){const y=parseFloat(window.getComputedStyle(n).paddingRight);o.paddingRight=`${y+e}px`}return o.overflow="hidden",()=>{e>0&&(o.paddingRight=p),o.overflow=u}}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(g.K0))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),o_=(()=>{class r{constructor(e,n,o,u,p,y,I){this._applicationRef=e,this._injector=n,this._environmentInjector=o,this._document=u,this._scrollBar=p,this._rendererFactory=y,this._ngZone=I,this._activeWindowCmptHasChanged=new Xi.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new t.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const G=this._windowCmpts[this._windowCmpts.length-1];((r,i,e,n=!1)=>{r.runOutsideAngular(()=>{const o=(0,si.R)(i,"focusin").pipe((0,Jn.R)(e),(0,D.U)(u=>u.target));(0,si.R)(i,"keydown").pipe((0,Jn.R)(e),(0,L.h)(u=>u.which===cr.Tab),fr(o)).subscribe(([u,p])=>{const[y,I]=wl(i);(p===y||p===i)&&u.shiftKey&&(I.focus(),u.preventDefault()),p===I&&!u.shiftKey&&(y.focus(),u.preventDefault())}),n&&(0,si.R)(i,"click").pipe((0,Jn.R)(e),fr(o),(0,D.U)(u=>u[1])).subscribe(u=>u.focus())})})(this._ngZone,G.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(G.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,n,o){const u=o.container instanceof HTMLElement?o.container:Dl(o.container)?this._document.querySelector(o.container):this._document.body,p=this._rendererFactory.createRenderer(null,null);if(!u)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const y=new uo,I=(e=o.injector||e).get(t.lqb,null)||this._environmentInjector,G=this._getContentRef(e,I,n,y,o);let ne=!1!==o.backdrop?this._attachBackdrop(u):void 0,Te=this._attachWindowComponent(u,G.nodes),Ve=new NE(Te,G,ne,o.beforeDismiss);return this._registerModalRef(Ve),this._registerWindowCmpt(Te),Ve.hidden.pipe((0,oi.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(p.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),y.close=Ge=>{Ve.close(Ge)},y.dismiss=Ge=>{Ve.dismiss(Ge)},y.update=Ge=>{Ve.update(Ge)},Ve.update(o),1===this._modalRefs.length&&p.addClass(this._document.body,"modal-open"),ne&&ne.instance&&ne.changeDetectorRef.detectChanges(),Te.changeDetectorRef.detectChanges(),Ve}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(n=>n.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let n=(0,t.LMc)(r_,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(e,n){let o=(0,t.LMc)(ns,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:n});return this._applicationRef.attachView(o.hostView),e.appendChild(o.location.nativeElement),o}_getContentRef(e,n,o,u,p){return o?o instanceof t.Rgc?this._createFromTemplateRef(o,u):Cl(o)?this._createFromString(o):this._createFromComponent(e,n,o,u,p):new Hs([])}_createFromTemplateRef(e,n){const u=e.createEmbeddedView({$implicit:n,close(p){n.close(p)},dismiss(p){n.dismiss(p)}});return this._applicationRef.attachView(u),new Hs([u.rootNodes],u)}_createFromString(e){const n=this._document.createTextNode(`${e}`);return new Hs([[n]])}_createFromComponent(e,n,o,u,p){const y=t.zs3.create({providers:[{provide:uo,useValue:u}],parent:e}),I=(0,t.LMc)(o,{environmentInjector:n,elementInjector:y}),G=I.location.nativeElement;return p.scrollable&&G.classList.add("component-host-scrollable"),this._applicationRef.attachView(I.hostView),new Hs([[G]],I.hostView,I)}_setAriaHidden(e){const n=e.parentElement;n&&e!==this._document.body&&(Array.from(n.children).forEach(o=>{o!==e&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,n)=>{e?n.setAttribute("aria-hidden",e):n.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const n=()=>{const o=this._modalRefs.indexOf(e);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(n,n)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const n=this._windowCmpts.indexOf(e);n>-1&&(this._windowCmpts.splice(n,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(t.z2F),t.LFG(t.zs3),t.LFG(t.lqb),t.LFG(g.K0),t.LFG(Hc),t.LFG(t.FYo),t.LFG(t.R0b))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),a_=(()=>{class r{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(eh))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Eo=(()=>{class r{constructor(e,n,o){this._injector=e,this._modalStack=n,this._config=o}open(e,n={}){const o={...this._config,animation:this._config.animation,...n};return this._modalStack.open(this._injector,e,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(t.zs3),t.LFG(o_),t.LFG(a_))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();new t.OlP("live announcer delay",{providedIn:"root",factory:function zc(){return 100}});let Ar=(()=>{class r{constructor(e){this.snackBar=e}showSnackBar(e,n){var o=new Lr.u_;o.duration=2e3,o.data={message:e,snackBarType:n},this.snackBar.openFromComponent($r,o)}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(Lr.ux))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var wu,O_=new Uint8Array(16);function Fh(){if(!wu&&!(wu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wu(O_)}const Iu=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Qr=[],Ou=0;Ou<256;++Ou)Qr.push((Ou+256).toString(16).substr(1));const rT=function AM(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(Qr[r[i+0]]+Qr[r[i+1]]+Qr[r[i+2]]+Qr[r[i+3]]+"-"+Qr[r[i+4]]+Qr[r[i+5]]+"-"+Qr[r[i+6]]+Qr[r[i+7]]+"-"+Qr[r[i+8]]+Qr[r[i+9]]+"-"+Qr[r[i+10]]+Qr[r[i+11]]+Qr[r[i+12]]+Qr[r[i+13]]+Qr[r[i+14]]+Qr[r[i+15]]).toLowerCase();if(!function iT(r){return"string"==typeof r&&Iu.test(r)}(e))throw TypeError("Stringified UUID is invalid");return e},fo=function Zc(r,i,e){var n=(r=r||{}).random||(r.rng||Fh)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,i){e=e||0;for(var o=0;o<16;++o)i[e+o]=n[o];return i}return rT(n)};let is=(()=>{class r{constructor(e){this.restProvider=e}getAllGenres(){return new Promise((e,n)=>{this.restProvider.executeSinovadApiService(Gt.GET,"/genres/GetAllAsync").then(o=>{e(o)},o=>{console.error(o),n(o)})})}getItems(e,n,o,u,p,y){return new Promise((I,G)=>{let ne=fo();this.lastCallGuid=ne;var Te="?page="+e.toString()+"&take="+n.toString()+"&sortBy="+o+"&sortDirection="+u+"&searchText="+p+"&searchBy="+y;this.restProvider.executeSinovadApiService(Gt.GET,"/genres/GetAllWithPaginationAsync"+Te).then(Ge=>{this.lastCallGuid==ne&&I(Ge)},Ge=>{console.error(Ge),G(Ge)})})}saveItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Gt.PUT:Gt.POST,e.Id>0?"/genres/Update":"/genres/Create",e).then(y=>{n(!0)},y=>{console.error(y),o(y)})})}deleteItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(Gt.DELETE,"/genres/Delete/"+e).then(p=>{n(p)},p=>{console.error(p),o(p)})})}deleteItems(e){return new Promise((n,o)=>{let u=[];for(let I=0;I<e.length;I++)u.push(e[I].Id);var p=u.join(",");this.restProvider.executeSinovadApiService(Gt.DELETE,"/genres/DeleteList/"+p).then(I=>{n(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function $c(r,i){1&r&&(t.TgZ(0,"div")(1,"div")(2,"div",1)(3,"div",2)(4,"div",3),t._UZ(5,"div")(6,"div")(7,"div")(8,"div")(9,"div")(10,"div")(11,"div")(12,"div")(13,"div")(14,"div")(15,"div")(16,"div"),t.qZA()()()()())}let wo=(()=>{class r{constructor(e,n){this.ref=e,this.viewContainerRef=n,this.showLoading=!1}ngOnInit(){}ngAfterViewInit(){}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(t.sBO),t.Y36(t.s_b))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-spinner"]],inputs:{showLoading:"showLoading"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"spinner-container"],[1,"sinovad-spinner-container"],[1,"lds-spinner"]],template:function(n,o){1&n&&t.YNc(0,$c,17,0,"div",0),2&n&&t.Q6J("ngIf",o.showLoading)},dependencies:[g.O5],styles:['.spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;z-index:999;justify-content:center;background:rgba(0,0,0,.5)}.lds-spinner[_ngcontent-%COMP%]{color:official;display:inline-block;position:relative;width:80px;height:80px}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{transform-origin:40px 40px;animation:_ngcontent-%COMP%_lds-spinner 1.2s linear infinite}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;top:3px;left:37px;width:6px;height:18px;border-radius:20%;background:#fff}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0);animation-delay:-1.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg);animation-delay:-1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg);animation-delay:-.9s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg);animation-delay:-.8s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg);animation-delay:-.7s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg);animation-delay:-.6s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg);animation-delay:-.5s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg);animation-delay:-.4s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg);animation-delay:-.3s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg);animation-delay:-.2s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg);animation-delay:-.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg);animation-delay:0s}@keyframes _ngcontent-%COMP%_lds-spinner{0%{opacity:1}to{opacity:0}}']})}return r})();var jr=x(2032),pi=x(9157);function oT(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function aT(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,oT,4,0,"mat-error",8),t.qZA()(),t.TgZ(12,"div",9)(13,"button",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(14,"Close"),t.qZA(),t.TgZ(15,"button",11),t._uU(16,"Guardar"),t.qZA()()(),t._UZ(17,"app-custom-spinner",12)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.genreFormGroup),t.xp6(3),t.Oqu(e.genre&&e.genre.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.genreFormGroup.controls.name.hasError("required")),t.xp6(4),t.Q6J("disabled",e.showLoading||!e.genreFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let R_=(()=>{class r{constructor(e,n,o,u){this.formBuilder=e,this.activeModal=n,this.snackbarService=o,this.genreService=u,this.showLoading=!1,this.matcher=new Qi}ngOnInit(){}ngAfterViewInit(){this.genreFormGroup=this.formBuilder.group({name:new Ft.NI(this.genre.Name,[Ft.kI.required])})}saveItem(){if(this.genreFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.genre));e.Name=this.genreFormGroup.value.name,this.genreService.saveItem(e).then(n=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el genre satisfactoriamente",Zn.Success),this.activeModal.close()},n=>{this.showLoading=!1,console.error(n)})}else this.genreFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Ft.qu),t.Y36(uo),t.Y36(Ar),t.Y36(is))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-genre-form"]],inputs:{genre:"genre"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&t.YNc(0,aT,18,6,"ng-template",0),2&n&&t.Q6J("ngIf",null!=o.genre&&o.genreFormGroup)},dependencies:[Ft._Y,Ft.Fj,Ft.JJ,Ft.JL,Ft.sg,Ft.u,wo,g.O5,jr.Nt,pi.KE,pi.hX,pi.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();var La=x(5986),_a=x(5940),va=x(2596);function N_(r,i){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function wM(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const u=t.oxw();return t.KtG(o?u.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function Bh(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const p=t.CHM(e).$implicit,y=t.oxw();return t.KtG(y.onChangeCheckValue(o,p))}),t.qZA()()}if(2&r){const e=i.$implicit,n=t.oxw();t.xp6(1),t.Q6J("checked",n.selection.isSelected(e))}}function Ul(r,i){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function Pu(r,i){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=i.index,n=t.oxw();t.xp6(1),t.hij(" ",n.getElementNumber(e,n.currentPage,n.itemsPerPage),"")}}function L_(r,i){1&r&&(t.TgZ(0,"th",39),t._uU(1," Nombre "),t.qZA())}function k_(r,i){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function sT(r,i){1&r&&t._UZ(0,"th",41)}function lT(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.editItem(u))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.deleteItem(u))}),t._UZ(5,"i",7),t.qZA()()()}}function cT(r,i){1&r&&t._UZ(0,"tr",47)}function dT(r,i){1&r&&t._UZ(0,"tr",48)}function F_(r,i){1&r&&(t.TgZ(0,"td",51),t._uU(1,"No se encontraron datos"),t.qZA())}function uT(r,i){if(1&r&&(t.TgZ(0,"tr",49),t.YNc(1,F_,2,0,"td",50),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const B_=function(r){return{disable:r}},jl=function(){return[5,10,25,100]};let ka=(()=>{class r extends Tr{constructor(e,n,o,u,p){super(o),this.modalService=e,this.dialog=n,this.matPaginatorIntl=o,this.snackbarService=u,this.genreService=p,this.displayedColumns=["Select","Id","Name","Actions"]}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new At;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var n=this,o=this.modalService.open(R_,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.genre=e,o.closed.subscribe(u=>{n.getAllItems()})}getAllItems(){this.showLoading=!0,this.genreService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var n=e.Data;this.totalCount=e.TotalCount,this.listItems=n,this.dataSource=new Cn.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var n=new vn.vA;n.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+e.Name+"?",accordMessage:"Si, eliminar el rol '"+e.Name+"'"},this.dialog.open(Ti,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.genreService.deleteItem(e.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Zn.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,Zn.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new vn.vA;e.data={title:"Eliminar genres",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Ti,e).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.genreService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Zn.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Zn.Error)})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Eo),t.Y36(vn.uw),t.Y36(Kt.ye),t.Y36(Ar),t.Y36(is))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-genre-list"]],viewQuery:function(n,o){if(1&n&&(t.Gf(Kt.NW,5),t.Gf(Ci.YE,5)),2&n){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},features:[t.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," G\xe9neros"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(p){return o.applyFilter(p)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,N_,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,wM,2,2,"th",17),t.YNc(25,Bh,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,Ul,2,0,"th",20),t.YNc(28,Pu,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,L_,2,0,"th",23),t.YNc(31,k_,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,sT,1,0,"th",26),t.YNc(34,lT,6,0,"td",27),t.BQk(),t.YNc(35,cT,1,0,"tr",28),t.YNc(36,dT,1,0,"tr",29),t.YNc(37,uT,2,1,"tr",30),t.qZA()()()()(),t.TgZ(38,"div",1)(39,"div",9),t._UZ(40,"mat-paginator",31),t.qZA()()()()),2&n&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,B_,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,jl)))},dependencies:[g.mk,g.O5,Kt.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,jr.Nt,pi.KE,pi.hX,Ci.YE,Ci.nU,La.oG,_a.Ou,va.gM],styles:["h3[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#fff}.selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}"]})}return r})();function Uh(r,i,e,n,o,u,p){try{var y=r[u](p),I=y.value}catch(G){return void e(G)}y.done?i(I):Promise.resolve(I).then(n,o)}function jh(r){return function(){var i=this,e=arguments;return new Promise(function(n,o){var u=r.apply(i,e);function p(I){Uh(u,n,o,p,y,"next",I)}function y(I){Uh(u,n,o,p,y,"throw",I)}p(void 0)})}}var fT=x(4440),Vl=x.n(fT);let IM=(()=>{class r{constructor(e){this.restProvider=e}getDirectoriesByMediaServer(e){return new Promise((n,o)=>{this.restProvider.executeHttpMethodByUrl(Gt.GET,e+"/api/directories").then(u=>{n(u)},u=>{console.error(u),o(u)})})}getSubdirectoriesByMediaServerAndDirectoryPath(e,n){return new Promise((o,u)=>{var p=Vl().encode(n);this.restProvider.executeHttpMethodByUrl(Gt.GET,e+"/api/directories/"+p).then(y=>{o(y)},y=>{console.error(y),u(y)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const Vh=function(r){return{"sinovad-directory-selected":r}};function U_(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.onClickMainDirectory(u))}),t._uU(1),t.qZA()}if(2&r){const e=i.$implicit,n=t.oxw();t.Q6J("ngClass",t.VKq(2,Vh,n.selectedMainDirectory&&e.name==n.selectedMainDirectory.name)),t.xp6(1),t.hij(" ",e.name," ")}}function OM(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickBackFolder())}),t._uU(1," <= .. [Regresar] "),t.qZA()}}function j_(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.onClickSubDirectory(u))}),t._uU(1),t.qZA()}if(2&r){const e=i.$implicit,n=t.oxw();t.Q6J("ngClass",t.VKq(2,Vh,n.selectedSubdirectory&&e.name==n.selectedSubdirectory.name)),t.xp6(1),t.hij(" ",e.name," ")}}let qc=(()=>{class r{constructor(e,n){this.directoryService=e,this.activeModal=n,this.listSubdirectoriesTmp=[]}ngOnInit(){this.getDirectories()}getDirectories(){this.directoryService.getDirectoriesByMediaServer(this.mediaServer.Url).then(e=>{this.listMainDirectories=JSON.parse(e);let n=this.listMainDirectories[0];this.selectedMainDirectory=n,this.getSubdirectoriesByPath(n)})}getSubdirectoriesByPath(e){this.directoryService.getSubdirectoriesByMediaServerAndDirectoryPath(this.mediaServer.Url,e.path).then(n=>{this.listSubdirectoriesTmp=JSON.parse(n)},n=>{console.error(n)})}saveDirectory(){this.activeModal.close(this.getCurrentPath())}getCurrentPath(){return this.selectedSubdirectory?this.selectedSubdirectory.path:this.selectedMainDirectory.path}closeModal(){this.activeModal.dismiss()}onClickBackFolder(){this.selectedSubdirectory.parentDirectory.isMainDirectory?(this.selectedSubdirectory=void 0,this.getSubdirectoriesByPath(this.selectedMainDirectory)):(this.selectedSubdirectory=this.selectedSubdirectory.parentDirectory,this.getSubdirectoriesByPath(this.selectedSubdirectory))}onClickMainDirectory(e){this.selectedMainDirectory=e,this.getSubdirectoriesByPath(this.selectedMainDirectory)}onClickSubDirectory(e){if(null==this.selectedSubdirectory)this.selectedSubdirectory=e,this.selectedSubdirectory.parentDirectory=this.selectedMainDirectory;else{let n=JSON.parse(JSON.stringify(this.selectedSubdirectory));this.selectedSubdirectory=e,this.selectedSubdirectory.parentDirectory=n}this.getSubdirectoriesByPath(this.selectedSubdirectory)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(IM),t.Y36(uo))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-directory-chooser"]],inputs:{mediaServer:"mediaServer"},decls:17,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[1,"sinovad-directory-chooser-content"],[1,"sinovad-main-directories-section"],["ngFor","",3,"ngForOf"],[1,"sinovad-subdirectories-section"],["class","sinovad-subdirectory-option",3,"click",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"sinovad-main-directory-option",3,"ngClass","click"],[1,"sinovad-subdirectory-option",3,"click"],[1,"sinovad-subdirectory-option",3,"ngClass","click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"h5",1),t._uU(2,"Seleccionar directorio"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return o.closeModal()}),t._UZ(4,"i",3),t.qZA()(),t.TgZ(5,"div",4)(6,"div",5)(7,"div",6),t.YNc(8,U_,2,4,"ng-template",7),t.qZA(),t.TgZ(9,"div",8),t.YNc(10,OM,2,0,"button",9),t.YNc(11,j_,2,4,"ng-template",7),t.qZA()()(),t.TgZ(12,"div",10)(13,"button",11),t.NdJ("click",function(){return o.closeModal()}),t._uU(14,"Close"),t.qZA(),t.TgZ(15,"button",12),t.NdJ("click",function(){return o.saveDirectory()}),t._uU(16,"Guardar"),t.qZA()()),2&n&&(t.xp6(8),t.Q6J("ngForOf",o.listMainDirectories),t.xp6(2),t.Q6J("ngIf",o.selectedSubdirectory),t.xp6(1),t.Q6J("ngForOf",o.listSubdirectoriesTmp))},dependencies:[g.mk,g.sg,g.O5],styles:["[_nghost-%COMP%]{background:rgba(17,17,17,.65);padding:20px}.modal-body[_ngcontent-%COMP%]{height:100%;display:flex}.sinovad-directory-chooser-container[_ngcontent-%COMP%]{display:block;background-color:#282828;color:#000;width:400px;height:500px;border:1px solid #dedede;border-radius:5px;padding:20px}.sinovad-main-directories-section[_ngcontent-%COMP%]{display:block;width:50%;padding-right:20px}.sinovad-subdirectories-section[_ngcontent-%COMP%]{display:block;width:50%;overflow-x:hidden;overflow-y:auto;padding-left:10px;height:100%}.sinovad-directory-chooser-content[_ngcontent-%COMP%]{display:flex;width:100%;background:black}.sinovad-main-directory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-main-directory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-subdirectory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-subdirectory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-directory-chooser-header[_ngcontent-%COMP%]{display:block;float:right;width:100%}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;background:transparent;border:0;outline:none;cursor:pointer;font-size:20px;color:#fff;opacity:.7}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-directory-selected[_ngcontent-%COMP%]{border-left:4px solid #007bff;padding-left:6px;background-color:#ffffff0d;opacity:1}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]{display:inline-block;width:100%}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   .sinovad-directory-chooser-footer-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;color:#fff;background:#F18307;border:none;border-radius:5px;font-weight:700;cursor:pointer}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]{display:inline-block;padding:10px 0;width:100%;height:50px}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border-radius:5px;width:100%;padding:6px 10px}"]})}return r})();class V_{}let G_=(()=>{class r{constructor(e){this.restProvider=e}getByMediaServer(e){return new Promise((n,o)=>{this.restProvider.executeHttpMediaServerApi(Gt.GET,e+"/api/transcoderSettings/GetAsync").then(p=>{n(p.Data)},p=>{console.error(p),o(p)})})}saveItem(e,n){return new Promise((o,u)=>{this.restProvider.executeHttpMediaServerApi(n.Id>0?Gt.PUT:Gt.POST,e+"/api"+(n.Id>0?"/transcoderSettings/Update":"/transcoderSettings/Create"),n).then(I=>{o(!0)},I=>{console.error(I),u(I)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function H_(r,i){if(1&r&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.Q6J("ngValue",e.Id),t.xp6(1),t.Oqu(e.Name)}}function Si(r,i){if(1&r&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.Q6J("ngValue",e.Id),t.xp6(1),t.Oqu(e.Name)}}const Y_=function(r,i){return{load:r,disable:i}};function K_(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div")(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"form",6),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveTranscoder())}),t.TgZ(9,"div",5)(10,"label",7),t._uU(11,"M\xe9todo de transmisi\xf3n"),t.qZA(),t.TgZ(12,"select",8),t.YNc(13,H_,2,2,"ng-template",9),t.qZA(),t.TgZ(14,"p",10),t._uU(15,"M\xe9todo de transmisi\xf3n para transcodificar los videos"),t.qZA()(),t.TgZ(16,"div",5)(17,"label",7),t._uU(18,"Carpeta temporal para el transcodificador"),t.qZA(),t.TgZ(19,"input",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showChooserDirectoryModal())}),t.qZA(),t.TgZ(20,"p",10),t._uU(21,"Carpeta que utilizar\xe1 el codificador para los archivos temporales."),t.qZA()(),t.TgZ(22,"div",5)(23,"label",7),t._uU(24,"Preset de conversi\xf3n x264 en segundo plano"),t.qZA(),t.TgZ(25,"select",12),t.YNc(26,Si,2,2,"ng-template",9),t.qZA(),t.TgZ(27,"p",10),t._uU(28,"El valor de preset de x264 usado para conversi\xf3n en segundo plano (Sincronizaci\xf3n y Optimizador de Contenido). Valores m\xe1s lentos dar\xe1n lugar a mejor calidad de v\xeddeo y archivos m\xe1s peque\xf1os, pero llevar\xe1 mucho m\xe1s tiempo completar el proceso."),t.qZA()(),t.TgZ(29,"div",5)(30,"label",7),t._uU(31,"Factor de Tasa Constante"),t.qZA(),t._UZ(32,"input",13),t.TgZ(33,"p",10),t._uU(34,"El factor de tasa constante (CRF) es la configuraci\xf3n predeterminada de calidad (y control de velocidad) para los codificadores x264 y x265 , y tambi\xe9n est\xe1 disponible para libvpx . Con x264 y x265, puede establecer los valores entre 0 y 51, donde los valores m\xe1s bajos dar\xedan como resultado una mejor calidad, a expensas de tama\xf1os de archivo m\xe1s altos. Los valores m\xe1s altos significan m\xe1s compresi\xf3n, pero en alg\xfan momento notar\xe1 la degradaci\xf3n de la calidad. Para x264, los valores razonables est\xe1n entre 18 y 28. El valor predeterminado es 23, por lo que puede usarlo como punto de partida."),t.qZA()(),t.TgZ(35,"div",14)(36,"button",15),t._UZ(37,"div",16),t.TgZ(38,"span",17),t._uU(39,"Guardar cambios"),t.qZA()(),t._UZ(40,"span",18),t.qZA()()()()()()()()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName," - Transcodificador"),t.xp6(6),t.Q6J("formGroup",e.customForm),t.xp6(5),t.Q6J("ngForOf",e.transmissionMethodList),t.xp6(13),t.Q6J("ngForOf",e.presetList),t.xp6(10),t.Q6J("ngClass",t.WLB(5,Y_,e.loading,e.customForm.pristine||e.customForm.invalid))}}let hT=(()=>{class r{constructor(e,n,o,u,p,y,I,G){this.transcoderSettingsService=e,this.modalService=n,this.snackBarService=o,this.formBuilder=u,this.router=p,this.activeRoute=y,this.restProvider=I,this.sharedService=G,this.transmissionMethodList=[],this.presetList=[],this.loading=!1}ngOnInit(){this.getCatalogDetails(),this.getMediaServerData()}getCatalogDetails(){this.restProvider.executeSinovadApiService(Gt.GET,"/catalogs/GetAllCatalogDetailsWithPaginationByCatalogIdsAsync?catalogIds="+at.TranscoderPreset+","+at.VideoTransmissionType).then(n=>{let o=n.Data;this.transmissionMethodList=o.filter(u=>u.CatalogId==at.VideoTransmissionType),this.presetList=o.filter(u=>u.CatalogId==at.TranscoderPreset)},n=>{console.error(n)})}ngAfterViewInit(){}getMediaServerData(){var e=this;return jh(function*(){e.restProvider.executeSinovadApiService(Gt.GET,"/mediaServers/GetByGuidAsync/"+e.activeRoute.snapshot.params.serverGuid).then(o=>{e.mediaServer=o.Data,e.getTranscoderSettingss()},o=>{e.router.navigateByUrl("/404")})})()}getTranscoderSettingss(){this.transcoderSettingsService.getByMediaServer(this.mediaServer.Url).then(e=>{if(this.currentTranscoderSettingss=e,null==this.currentTranscoderSettingss){var n=new V_;n.TemporaryFolder="",n.ConstantRateFactor=18,n.MediaServerId=this.mediaServer.Id,this.currentTranscoderSettingss=n}this.customForm=this.formBuilder.group({temporaryFolder:new Ft.NI(this.currentTranscoderSettingss.TemporaryFolder),preset:new Ft.NI(this.currentTranscoderSettingss.PresetCatalogDetailId),transmissionMethod:new Ft.NI(this.currentTranscoderSettingss.VideoTransmissionTypeCatalogDetailId),constantRateFactor:new Ft.NI(this.currentTranscoderSettingss.ConstantRateFactor)})},e=>{console.error(e)})}saveTranscoder(){this.loading=!0;var e=JSON.parse(JSON.stringify(this.currentTranscoderSettingss));e.TemporaryFolder=this.customForm.value.temporaryFolder,e.ConstantRateFactor=this.customForm.value.constantRateFactor,e.VideoTransmissionTypeCatalogDetailId=this.customForm.value.transmissionMethod,e.PresetCatalogDetailId=this.customForm.value.preset,this.transcoderSettingsService.saveItem(this.mediaServer.Url,e).then(n=>{this.loading=!1,this.getTranscoderSettingss(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",Zn.Success)},n=>{this.loading=!1,this.snackBarService.showSnackBar(n,Zn.Error),console.error(n)})}showChooserDirectoryModal(){var e=this,n=this.modalService.open(qc,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});n.componentInstance.mediaServer=this.sharedService.selectedMediaServer,n.closed.subscribe(o=>{e.customForm.controls.temporaryFolder.setValue(o),e.customForm.controls.temporaryFolder.markAsDirty()})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(G_),t.Y36(Eo),t.Y36(Ar),t.Y36(Ft.qu),t.Y36(kn.F0),t.Y36(kn.gz),t.Y36(Bt),t.Y36(Ot))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-transcode-settings"]],decls:1,vars:1,consts:[["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["name","transmissionMethods","formControlName","transmissionMethod",1,"form-control"],["ngFor","",3,"ngForOf"],[1,"help-block"],["readonly","","type","text","formControlName","temporaryFolder",1,"form-control",2,"cursor","pointer",3,"click"],["name","transmissionMethods","formControlName","preset",1,"form-control"],["type","text","formControlName","constantRateFactor",1,"form-control"],[1,"form-footer"],["type","submit",1,"save",3,"ngClass"],[1,"loading"],[1,"btn-label"],[1,"form-message"],[1,"form-option",3,"ngValue"]],template:function(n,o){1&n&&t.YNc(0,K_,41,8,"div",0),2&n&&t.Q6J("ngIf",o.customForm)},dependencies:[g.mk,g.sg,g.O5,Ft._Y,Ft.YN,Ft.Kr,Ft.Fj,Ft.EJ,Ft.JJ,Ft.JL,Ft.sg,Ft.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .form-option[_ngcontent-%COMP%]{background-color:#131313;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]{border-radius:3px;font-size:16px;line-height:1.33;padding:10px 18px;flex-shrink:0;text-transform:capitalize;border:0;overflow:hidden;position:relative;cursor:pointer;display:inline-block;font-weight:400;margin-bottom:0;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;color:#fff;background-color:#007bff;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   button.save.load[_ngcontent-%COMP%]{pointer-events:none}.sinovad-page-container[_ngcontent-%COMP%]   button.save.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{animation:auto;border-color:#cc7b19 transparent transparent #cc7b19;border-radius:50%;border-style:solid;border-width:2px;height:16px;margin:-8px 0 0 -8px;width:16px;border-left-color:#fff;border-top-color:#fff;left:-12px;position:absolute;top:50%;transition:left .2s;visibility:hidden;z-index:1}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}.sinovad-manage-media-container[_ngcontent-%COMP%]{display:block}.sinovad-manage-media-section[_ngcontent-%COMP%]{display:block;padding:10px}label[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}.sinovad-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-manage-media-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}']})}return r})(),To=(()=>{class r{constructor(e,n){this.domSanitizer=e,this.sharedService=n}transform(e,...n){return new Promise((o,u)=>{let y;switch(null!=n[0]?n[0]:""){case"GetImageURLByKey":null!=e&&""!=e&&(y=this.sharedService.configurationData.developerMode?"assets/icon/"+e:this.sharedService.urlSinovadCdn+"/assets/icon/"+e,o(y));break;case"GetAvatarImageURLByProfileId":null!=e&&""!=e&&fetch(this.sharedService.urlSinovadStreamWebApi+"/api/v1/documents/GetAvatarProfile/"+e).then(G=>G.blob()).then(G=>{y=this.domSanitizer.bypassSecurityTrustUrl(URL.createObjectURL(G)),o(y)});break;case"GetSoundUrlByKey":null!=e&&""!=e&&(y=this.sharedService.configurationData.developerMode?"assets/sound/"+e:this.sharedService.urlSinovadCdn+"/assets/sound/"+e,o(y))}})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(c.H7,16),t.Y36(Ot,16))};static#t=this.\u0275pipe=t.Yjl({name:"formatDataPipe",type:r,pure:!0})}return r})(),Gh=(()=>{class r{constructor(e,n){this.router=e,this.sharedService=n}ngOnInit(){this.sharedService.pageNotFoundShowing=!0}goInitialPage(){this.router.navigateByUrl(null!=this.sharedService.apiToken?"/home":"/landing").then(n=>{this.sharedService.pageNotFoundShowing=!1},n=>{console.error(n)})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kn.F0),t.Y36(Ot))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-not-found"]],decls:12,vars:6,consts:[[1,"d-flex","align-items-center","justify-content-center","vh-100"],[1,"sinovad-page-not-found-content","text-center"],[1,"sinovad-logo-container"],[3,"src"],[1,"fs-3"],[1,"lead"],[1,"btn","btn-primary",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"p",4),t._uU(7,"No encontramos la p\xe1gina que esta buscando"),t.qZA(),t.TgZ(8,"p",5),t._uU(9," Has click en el siguiente boton para ir a la p\xe1gina de inicio de Sinovad Stream "),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return o.goInitialPage()}),t._uU(11,"Inicio"),t.qZA()()()),2&n&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH))},dependencies:[g.Ov,To],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black;color:#fff}.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:100px;padding:10px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:350px}@media only screen and (max-width: 767px){.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:unset}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}}"]})}return r})();class mT{}function pT(r,i){if(1&r&&(t.TgZ(0,"h2",9),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.errorMessage)}}function W_(r,i){1&r&&(t.TgZ(0,"h2"),t._uU(1,"Su correo ha sido confirmado, ya puede iniciar sesi\xf3n"),t.qZA())}let z_=(()=>{class r{constructor(e,n,o){this.router=e,this.activeRoute=n,this.restProvider=o,this._window=window,this.showLoading=!1,this.showInvalidTokenMessage=!1,this.showSuccessMessage=!1}ngOnInit(){localStorage.getItem("apiToken")&&this.router.navigate(["home"],{skipLocationChange:!1});let e=this.activeRoute.snapshot.params.base64Data;if(null!=e)try{let u=Vl().decode(e);var n=JSON.parse(u);if(n.ConfirmEmailToken){this.showLoading=!0;var o=new mT;o.ConfirmEmailToken=n.ConfirmEmailToken,o.UserId=n.UserId,this.restProvider.executeSinovadApiService(Gt.POST,"/users/ValidateConfirmEmailToken",o).then(p=>{this.showLoading=!1,this.showSuccessMessage=!0},p=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=p,console.error(p)})}else this.router.navigate(["home"],{skipLocationChange:!1})}catch{this.router.navigate(["home"],{skipLocationChange:!1})}else this.router.navigate(["home"],{skipLocationChange:!1})}onClose(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kn.F0),t.Y36(kn.gz),t.Y36(Bt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-confirm-email"]],decls:16,vars:14,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[3,"ngIf"],[1,"error"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return o.onClose()}),t._UZ(2,"img",2),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),t._UZ(9,"img",2),t.ALo(10,"async"),t.ALo(11,"formatDataPipe"),t.qZA(),t.TgZ(12,"div",7),t._uU(13," Confirmaci\xf3n de Email "),t.qZA(),t.YNc(14,pT,2,1,"ng-template",8),t.YNc(15,W_,2,0,"ng-template",8),t.qZA()()()),2&n&&(t.xp6(2),t.Q6J("src",t.lcZ(3,4,t.xi3(4,6,"back-screen.png","GetImageURLByKey")),t.LSH),t.xp6(7),t.Q6J("src",t.lcZ(10,9,t.xi3(11,11,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngIf",o.showInvalidTokenMessage),t.xp6(1),t.Q6J("ngIf",o.showSuccessMessage))},dependencies:[g.O5,g.Ov,To],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}"]})}return r})();class Z_{}class gT{}function _T(r,i){1&r&&(t.TgZ(0,"label",20),t._UZ(1,"i",21),t._uU(2,"Confirma que hayas agregado el password correctamente "),t.qZA())}function PM(r,i){1&r&&(t.TgZ(0,"label",20),t._UZ(1,"i",21),t._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),t.qZA())}const $_=function(r){return{disable:r}};function q_(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"form",9),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirm())}),t.TgZ(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Cambiar contrase\xf1a "),t.qZA(),t.TgZ(8,"div",12)(9,"label",13),t._uU(10," Contrase\xf1a "),t.qZA(),t.TgZ(11,"div",14),t._UZ(12,"input",15),t.YNc(13,_T,3,0,"label",16),t.qZA()(),t.TgZ(14,"div",12)(15,"label",13),t._uU(16," Confirmaci\xf3n de contrase\xf1a "),t.qZA(),t.TgZ(17,"div",14),t._UZ(18,"input",17),t.YNc(19,PM,3,0,"label",16),t.qZA()(),t.TgZ(20,"div",12)(21,"button",18),t._uU(22,"Confirmar"),t.qZA()(),t.TgZ(23,"div",19),t._uU(24),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.resetPasswordForm),t.xp6(2),t.Q6J("src",t.lcZ(4,6,t.xi3(5,8,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(10),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.resetPasswordForm,"password")&&e.sharedService.hasRequireErrorFormControl(e.resetPasswordForm,"password")),t.xp6(6),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.resetPasswordForm,"confirmPassword")&&e.sharedService.hasRequireErrorFormControl(e.resetPasswordForm,"confirmPassword")),t.xp6(2),t.Q6J("ngClass",t.VKq(11,$_,e.showLoading)),t.xp6(3),t.hij(" ",e.errorMessage," ")}}function Es(r,i){1&r&&(t.TgZ(0,"div",11),t._uU(1," Cambio de contrase\xf1a "),t.qZA(),t.TgZ(2,"h2"),t._uU(3,"Se cambi\xf3 la contrase\xf1a satisfactoriamente"),t.qZA())}function Gl(r,i){1&r&&(t.TgZ(0,"div",11),t._uU(1," Validaci\xf3n de Token "),t.qZA(),t.TgZ(2,"h2",25),t._uU(3,"Token inv\xe1lido"),t.qZA())}function J_(r,i){if(1&r&&(t.TgZ(0,"div",22)(1,"div",23)(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.YNc(6,Es,4,0,"ng-template",24),t.YNc(7,Gl,4,0,"ng-template",24),t.qZA()()),2&r){const e=t.oxw();t.xp6(3),t.Q6J("src",t.lcZ(4,3,t.xi3(5,5,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngIf",e.showResetPasswordSuccessMessage),t.xp6(1),t.Q6J("ngIf",e.showInvalidTokenMessage)}}let Q_=(()=>{class r{constructor(e,n,o,u,p){this.formBuilder=e,this.router=n,this.activeRoute=o,this.restProvider=u,this.sharedService=p,this._window=window,this.showLoading=!1,this.resetPasswordModel=new Z_,this.showResetPasswordForm=!1,this.showInvalidTokenMessage=!1,this.showResetPasswordSuccessMessage=!1,this.resetPasswordForm=this.formBuilder.group({password:new Ft.NI("",[Ft.kI.required]),confirmPassword:new Ft.NI("",[Ft.kI.required])})}ngOnInit(){localStorage.getItem("apiToken")&&this.router.navigate(["home"],{skipLocationChange:!1});let e=this.activeRoute.snapshot.params.base64Data;if(null!=e)try{let u=Vl().decode(e);var n=JSON.parse(u);if(this.resetPasswordToken=n.ResetPasswordToken,this.userId=n.UserId,null!=this.resetPasswordToken&&null!=this.userId){this.showLoading=!0;var o=new gT;o.ResetPasswordToken=this.resetPasswordToken,o.UserId=this.userId,this.restProvider.executeSinovadApiService(Gt.POST,"/users/ValidateResetPasswordToken",o).then(p=>{this.showResetPasswordForm=!0,this.showLoading=!1},p=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=p,console.error(p)})}else this.showInvalidTokenMessage=!0}catch{this.showInvalidTokenMessage=!0}else this.router.navigate(["home"],{skipLocationChange:!1})}confirm(){this.resetPasswordForm.valid?(this.showLoading=!0,this.resetPasswordModel={ResetPasswordToken:this.resetPasswordToken,UserId:this.userId,Password:this.resetPasswordForm.value.password,ConfirmPassword:this.resetPasswordForm.value.confirmPassword},this.restProvider.executeSinovadApiService(Gt.POST,"/users/ResetPassword",this.resetPasswordModel).then(e=>{this.showResetPasswordSuccessMessage=!0,this.showResetPasswordForm=!1,this.showLoading=!1},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.resetPasswordForm.markAllAsTouched())}onClickCloseButton(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Ft.qu),t.Y36(kn.F0),t.Y36(kn.gz),t.Y36(Bt),t.Y36(Ot))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-reset-password"]],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","password","formControlName","password"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","password","formControlName","confirmPassword"],["type","submit",1,"confirm",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[3,"ngIf"],[1,"error"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return o.onClickCloseButton()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,q_,25,13,"div",5),t.YNc(8,J_,8,8,"div",6),t.qZA(),t._UZ(9,"app-custom-spinner",7)),2&n&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetImageURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngIf",o.showResetPasswordForm),t.xp6(1),t.Q6J("ngIf",!o.showResetPasswordForm&&(o.showInvalidTokenMessage||o.showResetPasswordSuccessMessage)),t.xp6(1),t.Q6J("showLoading",o.showLoading))},dependencies:[g.mk,g.O5,Ft._Y,Ft.Fj,Ft.JJ,Ft.JL,wo,Ft.sg,Ft.u,g.Ov,To],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.confirm[_ngcontent-%COMP%]{background-color:#007bff}"]})}return r})();class Ru{}function Hl(r,i){if(1&r&&(t.TgZ(0,"label",19),t._UZ(1,"i",20),t._uU(2),t.qZA()),2&r){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.sharedService.hasRequireErrorFormControl(e.recoverPasswordForm,"email")?"Confirma que hayas agregado el email correctamente":e.sharedService.hasErrorPatternFormControl(e.recoverPasswordForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}const Hh=function(r){return{disable:r}};function Jc(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"form",9),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.SendRecoverPasswordEmail())}),t.TgZ(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Olvido su contrase\xf1a "),t.qZA(),t.TgZ(8,"div",12)(9,"label",13),t._uU(10," Correo electr\xf3nico "),t.qZA(),t.TgZ(11,"div",14),t._UZ(12,"input",15),t.YNc(13,Hl,3,1,"label",16),t.qZA()(),t.TgZ(14,"div",12)(15,"button",17),t._uU(16,"Recuperar contrase\xf1a"),t.qZA()(),t.TgZ(17,"div",18),t._uU(18),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.recoverPasswordForm),t.xp6(2),t.Q6J("src",t.lcZ(4,5,t.xi3(5,7,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(10),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.recoverPasswordForm,"email")),t.xp6(2),t.Q6J("ngClass",t.VKq(10,Hh,e.showLoading)),t.xp6(3),t.hij(" ",e.errorMessage," ")}}function X_(r,i){1&r&&(t.TgZ(0,"div",21)(1,"div",22)(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Confirmaci\xf3n de olvido de contrase\xf1a "),t.qZA(),t.TgZ(8,"h2"),t._uU(9,"Por favor verifique su email para recuperar su contrase\xf1a"),t.qZA()()()),2&r&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH))}let Nu=(()=>{class r{constructor(e,n,o,u){this.formBuilder=e,this.router=n,this.restProvider=o,this.sharedService=u,this._window=window,this.showLoading=!1,this.recoverPasswordModel=new Ru,this.sendedConfirmationEmail=!1,this.recoverPasswordForm=this.formBuilder.group({email:new Ft.NI("",[Ft.kI.required,Ft.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")])})}SendRecoverPasswordEmail(){this.recoverPasswordForm.valid?(this.recoverPasswordModel={Email:this.recoverPasswordForm.value.email,ResetPasswordUrl:window.location.origin+"/reset"},this.showLoading=!0,this.restProvider.executeSinovadApiService(Gt.POST,"/users/RecoverPassword",this.recoverPasswordModel).then(e=>{this.sendedConfirmationEmail=!0,this.showLoading=!1},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.recoverPasswordForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Ft.qu),t.Y36(kn.F0),t.Y36(Bt),t.Y36(Ot))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-recover-password"]],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","submit",1,"recover",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return o.onClose()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,Jc,19,12,"div",5),t.YNc(8,X_,10,6,"div",6),t.qZA(),t._UZ(9,"app-custom-spinner",7)),2&n&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetImageURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngIf",!o.sendedConfirmationEmail),t.xp6(1),t.Q6J("ngIf",o.sendedConfirmationEmail),t.xp6(1),t.Q6J("showLoading",o.showLoading))},dependencies:[g.mk,g.O5,Ft._Y,Ft.Fj,Ft.JJ,Ft.JL,wo,Ft.sg,Ft.u,g.Ov,To],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.recover[_ngcontent-%COMP%]{background-color:#007bff}"]})}return r})();class Yh{}class Lu{}class Kh{}let ra=(()=>{class r{constructor(e){this.restProvider=e,this.updateLibraries$=new Xi.x}updateLibraries(){this.updateLibraries$.next(!0)}isUpdatingLibraries(){return this.updateLibraries$.asObservable()}getLibrariesByMediaServer(e){return new Promise((n,o)=>{this.restProvider.executeHttpMediaServerApi(Gt.GET,e+"/api/libraries/GetAllLibraries").then(p=>{n(p.Data)},p=>{o(p)})})}saveItem(e,n){return new Promise((o,u)=>{this.restProvider.executeHttpMediaServerApi(n.Id>0?Gt.PUT:Gt.POST,e+"/api"+(n.Id>0?"/libraries/Update":"/libraries/Create"),n).then(I=>{o(!0)},I=>{console.error(I),u(I)})})}deleteItem(e,n){return new Promise((o,u)=>{this.restProvider.executeHttpMediaServerApi(Gt.DELETE,e+"/api/libraries/Delete/"+n).then(y=>{o(y)},y=>{console.error(y),u(y)})})}deleteItems(e,n){return new Promise((o,u)=>{let p=[];for(let G=0;G<n.length;G++)p.push(n[G].Id);var y=p.join(",");this.restProvider.executeHttpMediaServerApi(Gt.DELETE,e+"/api/libraries/DeleteList/"+y).then(G=>{o(G)},G=>{console.error(G),u(G)})})}searchFiles(e,n){return new Promise((o,u)=>{let p=fo();this.restProvider.executeHttpMediaServerApi(Gt.POST,e+"/api/libraries/SearchFiles",{Listlibraries:n,LogIdentifier:p}).then(G=>{o(G)},G=>{console.error(G),u(G)})})}getAllMediaItemsBySearchQuery(e,n){return new Promise((o,u)=>{this.restProvider.executeHttpMediaServerApi(Gt.GET,e+"/api/libraries/GetAllMediaItemsBySearchQuery?searchQuery="+n).then(y=>{o(y.Data)},y=>{u(y)})})}getAllMediaItems(e,n){return new Promise((o,u)=>{this.restProvider.executeHttpMediaServerApi(Gt.GET,e+"/api/libraries/GetAllMediaItems?profileId="+n).then(y=>{o(y.Data)},y=>{u(y)})})}getMediaItemsByLibrary(e,n,o){return new Promise((u,p)=>{this.restProvider.executeHttpMediaServerApi(Gt.GET,e+"/api/libraries/GetMediaItemsByLibrary?libraryId="+n+"&profileId="+o).then(I=>{u(I.Data)},I=>{p(I)})})}getMediaItemsByMediaType(e,n,o){return new Promise((u,p)=>{this.restProvider.executeHttpMediaServerApi(Gt.GET,e+"/api/libraries/GetMediaItemsByMediaType?mediaTypeId="+n+"&profileId="+o).then(I=>{u(I.Data)},I=>{p(I)})})}getMediaItemDetail(e,n){return new Promise((o,u)=>{this.restProvider.executeHttpMediaServerApi(Gt.GET,e+"/api/libraries/GetMediaItemDetail/"+n).then(y=>{o(y.Data)},y=>{u(y)})})}updateMediaFilePlayback(e,n){return new Promise((o,u)=>{this.restProvider.executeHttpMediaServerApi(Gt.PUT,e+"/api/libraries/UpdateMediaFilePlayback",n).then(y=>{o(y.Data)},y=>{u(y)})})}CreateBuilderVideoFromItem(e,n,o){let u=fo();var p=e.ListMediaFiles[0],y=new Lu;y.VideoId=p.Id,y.Title=e.MediaItem.ExtendedTitle,y.PhysicalPath=p.PhysicalPath,y.MediaServerId=n.Id,y.MediaServerUrl=n.Url,y.CurrentTime=o||0,y.ProcessGUID=u,y.TimeSpan=y.CurrentTime?y.CurrentTime.toString():"0";var I=new Kh;return I.TranscodePrepareVideo=y,I.ItemDetail=e,I}CreateBuilderVideoFromEpisode(e,n,o,u){var p=this.GetTranscodeVideoFromEpisode(e,n,o,u);e.ListSeasons&&(e.CurrentSeason=e.ListSeasons.find(I=>I.SeasonNumber==n.SeasonNumber),e.CurrentEpisode=e.CurrentSeason.ListEpisodes.find(I=>I.EpisodeNumber==n.EpisodeNumber));var y=new Kh;return y.TranscodePrepareVideo=p,y.ItemDetail=e,y}GetTranscodeVideoFromEpisode(e,n,o,u){var p=n.ListMediaFiles[0];let y=fo();var I=new Lu;return I.VideoId=p.Id,I.Title=e.MediaItem.Title,I.Subtitle="T"+n.SeasonNumber+":E"+n.EpisodeNumber+" "+n.Name,I.PhysicalPath=p.PhysicalPath,I.MediaServerId=o.Id,I.MediaServerUrl=o.Url,I.ProcessGUID=y,I.CurrentTime=u||0,I.TimeSpan=I.CurrentTime?I.CurrentTime.toString():"0",I}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class Yl{}let Qc=(()=>{class r{constructor(e,n,o){this.libraryService=e,this.sharedService=n,this.restProvider=o}getMediaMenu(){var e=[],n=new Yl;n.SortOrder=e.length+1,n.Title="Inicio",n.Path="/home",n.IconClass="fa-house fa-solid",e.push(n);var o=new Yl;o.SortOrder=e.length+1,o.Title="Pel\xedculas",o.Path="/media/movies",o.IconClass="fa-film fa-solid",e.push(o);var u=new Yl;u.SortOrder=e.length+1,u.Title="Series",u.Path="/media/tvseries",u.IconClass="fa-tv fa-solid",e.push(u),this.sharedService.mediaMenu=e,this.sharedService.mediaServers.forEach(p=>{var y=new Yl;y.SortOrder=this.sharedService.mediaMenu.length+1,y.Title=null!=p.FamilyName&&""!=p.FamilyName?p.FamilyName:p.DeviceName,y.Path="/media/server/"+p.Guid,y.ChildMenus=[],y.MediaServerId=p.Id,this.sharedService.mediaMenu.push(y)}),this.buildMediaMenuFromListLibraries()}buildMediaMenuFromListLibraries(){this.sharedService.mediaServers.forEach(e=>{var n=this.sharedService.mediaMenu.find(o=>o.MediaServerId==e.Id);e.isSecureConnection?this.libraryService.getLibrariesByMediaServer(e.Url).then(o=>{var u=[];o.forEach(p=>{var y=new Yl;y.SortOrder=u.length+1,y.Title=p.Name,y.Path="/media/server/"+e.Guid+"/libraries/"+p.Id,y.IconClass=p.MediaTypeCatalogDetailId==Ke.Movie?"fa-film fa-solid":"fa-tv fa-solid",u.push(y)}),n.ChildMenus=u}):n.ChildMenus=[]}),setTimeout(()=>{this.buildMediaMenuFromListLibraries()},1e3)}getManageMenu(){return new Promise((e,n)=>{this.restProvider.executeSinovadApiService(Gt.GET,"/menus/GetByUserAsync/"+this.sharedService.userData.Id).then(o=>{this.sharedService.listMenus=o.Data,e(!0)},o=>{n(o)})})}getAllMenus(){return new Promise((e,n)=>{this.restProvider.executeSinovadApiService(Gt.GET,"/menus/GetAllAsync").then(u=>{e(u)},u=>{console.error(u),n(u)})})}getItems(e,n,o,u,p,y){return new Promise((I,G)=>{let ne=fo();this.lastCallGuid=ne;var Te="?page="+e.toString()+"&take="+n.toString()+"&sortBy="+o+"&sortDirection="+u+"&searchText="+p+"&searchBy="+y;this.restProvider.executeSinovadApiService(Gt.GET,"/menus/GetAllWithPaginationAsync"+Te).then(Ge=>{this.lastCallGuid==ne&&I(Ge)},Ge=>{console.error(Ge),G(Ge)})})}saveItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Gt.PUT:Gt.POST,e.Id>0?"/menus/Update":"/menus/Create",e).then(y=>{n(!0)},y=>{console.error(y),o(y)})})}deleteItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(Gt.DELETE,"/menus/Delete/"+e).then(p=>{n(p)},p=>{console.error(p),o(p)})})}deleteItems(e){return new Promise((n,o)=>{let u=[];for(let I=0;I<e.length;I++)u.push(e[I].Id);var p=u.join(",");this.restProvider.executeSinovadApiService(Gt.DELETE,"/menus/DeleteList/"+p).then(I=>{n(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(ra),t.LFG(Ot),t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Wh=(()=>{class r{constructor(e,n){this.sharedService=e,this.restProvider=n}getUser(){return new Promise((e,n)=>{this.restProvider.executeSinovadApiService(Gt.GET,"/users/GetUserData").then(o=>{this.sharedService.userData=o.Data,null==this.sharedService.userData?(this.sharedService.apiToken=void 0,localStorage.removeItem("apiToken")):e(!0)},o=>{console.error(o),n(o)})})}getItems(e,n,o,u,p,y){return new Promise((I,G)=>{let ne=fo();this.lastCallGuid=ne;var Te="?page="+e.toString()+"&take="+n.toString()+"&sortBy="+o+"&sortDirection="+u+"&searchText="+p+"&searchBy="+y;this.restProvider.executeSinovadApiService(Gt.GET,"/users/GetAllWithPaginationAsync"+Te).then(Ge=>{this.lastCallGuid==ne&&I(Ge)},Ge=>{console.error(Ge),G(Ge)})})}saveItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Gt.PUT:Gt.POST,e.Id>0?"/users/Update":"/users/Create",e).then(y=>{n(!0)},y=>{console.error(y),o(y)})})}deleteItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(Gt.DELETE,"/users/Delete/"+e).then(p=>{n(p)},p=>{console.error(p),o(p)})})}deleteItems(e){return new Promise((n,o)=>{let u=[];for(let I=0;I<e.length;I++)u.push(e[I].Id);var p=u.join(",");this.restProvider.executeSinovadApiService(Gt.DELETE,"/users/DeleteList/"+p).then(I=>{n(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(Ot),t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Kl=(()=>{class r{constructor(e,n){this.sharedService=e,this.restProvider=n}getProfileByGuid(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(Gt.GET,"/profiles/GetByGuidAsync/"+e).then(u=>{n(u)},u=>{console.error(u),o(u)})})}getAllProfiles(){return new Promise((e,n)=>{this.restProvider.executeSinovadApiService(Gt.GET,"/profiles/GetAllWithPaginationByUserAsync/"+this.sharedService.userData.Id).then(o=>{let u=o.Data;this.sharedService.listProfiles=u,this.sharedService.currentProfile=u[0],e(!0)},o=>{n(o)})})}getProfiles(e,n,o,u,p,y,I){return new Promise((G,ne)=>{let Te=fo();this.lastCallGuid=Te;var Ve="?page="+n.toString()+"&take="+o.toString()+"&sortBy="+u+"&sortDirection="+p+"&searchText="+y+"&searchBy="+I;this.restProvider.executeSinovadApiService(Gt.GET,"/profiles/GetAllWithPaginationByUserAsync/"+e+Ve).then(et=>{this.lastCallGuid==Te&&G(et)},et=>{console.error(et),ne(et)})})}saveItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Gt.PUT:Gt.POST,e.Id>0?"/profiles/Update":"/profiles/Create",e).then(y=>{n(!0)},y=>{console.error(y),o(y)})})}deleteItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(Gt.DELETE,"/profiles/Delete/"+e).then(p=>{n(p)},p=>{console.error(p),o(p)})})}deleteItems(e){return new Promise((n,o)=>{let u=[];for(let I=0;I<e.length;I++)u.push(e[I].Id);var p=u.join(",");this.restProvider.executeSinovadApiService(Gt.DELETE,"/profiles/DeleteList/"+p).then(I=>{n(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(Ot),t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Xc=(()=>{class r{constructor(e,n,o,u){this.menuService=e,this.libraryService=n,this.sharedService=o,this.restProvider=u}getMediaServers(){return new Promise((e,n)=>{this.restProvider.executeSinovadApiService(Gt.GET,"/mediaServers/GetAllByUserAsync/"+this.sharedService.userData.Id).then(o=>{this.sharedService.mediaServers=o.Data,this.menuService.getMediaMenu(),this.checkSecureConnectionMediaServers(),e(!0)},o=>{n(o)})})}checkSecureConnectionMediaServers(){if(null!=this.sharedService.mediaServers&&this.sharedService.mediaServers.length>0){var e=this;e.sharedService.mediaServers.forEach(n=>{e.libraryService.getLibrariesByMediaServer(n.Url).then(o=>{n.ListLibraries=o,n.isSecureConnection=!0,e.libraryService.updateLibraries()},o=>{n.ListLibraries=[],n.isSecureConnection=!1,e.libraryService.updateLibraries()})})}setTimeout(()=>{this.checkSecureConnectionMediaServers()},1e4)}getMediaServerByGuid(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(Gt.GET,"/mediaServers/GetByGuidAsync/"+e).then(u=>{n(u)},u=>{console.error(u),o(u)})})}getItems(e,n,o,u,p,y,I){return new Promise((G,ne)=>{let Te=fo();this.lastCallGuid=Te;var Ve="?page="+n.toString()+"&take="+o.toString()+"&sortBy="+u+"&sortDirection="+p+"&searchText="+y+"&searchBy="+I;this.restProvider.executeSinovadApiService(Gt.GET,"/mediaServers/GetAllWithPaginationByUserAsync/"+e+Ve).then(et=>{this.lastCallGuid==Te&&G(et)},et=>{console.error(et),ne(et)})})}saveItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Gt.PUT:Gt.POST,e.Id>0?"/mediaServers/Update":"/mediaServers/Create",e).then(y=>{n(!0)},y=>{console.error(y),o(y)})})}deleteItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(Gt.DELETE,"/mediaServers/Delete/"+e).then(p=>{n(p)},p=>{console.error(p),o(p)})})}deleteItems(e){return new Promise((n,o)=>{let u=[];for(let I=0;I<e.length;I++)u.push(e[I].Id);var p=u.join(",");this.restProvider.executeSinovadApiService(Gt.DELETE,"/mediaServers/DeleteList/"+p).then(I=>{n(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(Qc),t.LFG(ra),t.LFG(Ot),t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function vT(r,i){1&r&&(t.TgZ(0,"label",19),t._UZ(1,"i",20),t._uU(2,"Confirma que hayas agregado el usuario correctamente "),t.qZA())}function yT(r,i){1&r&&(t.TgZ(0,"label",19),t._UZ(1,"i",20),t._uU(2,"Confirma que hayas agregado la contrase\xf1a correctamente "),t.qZA())}const ev=function(r){return{disable:r}};let zh=(()=>{class r{constructor(e,n,o,u,p,y,I,G,ne){this.libraryService=e,this.menuService=n,this.userService=o,this.profileService=u,this.serverService=p,this.formBuilder=y,this.router=I,this.restProvider=G,this.sharedService=ne,this._window=window,this.showLoading=!1,this.user=new Yh,this.loginForm=this.formBuilder.group({username:new Ft.NI("",[Ft.kI.required]),password:new Ft.NI("",[Ft.kI.required])})}ngOnInit(){localStorage.getItem("apiToken")&&this.router.navigateByUrl("/home")}ngOnDestroy(){}ngAfterViewInit(){this.initializeLoginViewControls()}initializeLoginViewControls(){}login(){this.loginForm.valid?(this.user={UserName:this.loginForm.value.username,Password:this.loginForm.value.password},this.showLoading=!0,this.restProvider.executeSinovadApiService(Gt.POST,"/users/Login",this.user).then(e=>{let n=e.Data;localStorage.setItem("apiToken",n),this.sharedService.apiToken=n,this.sharedService.showSplashScreen=!0,this.userService.getUser().then(o=>{this.menuService.getManageMenu(),this.serverService.getMediaServers(),this.profileService.getAllProfiles().then(u=>{this.router.navigate(["select-profile"],{skipLocationChange:!1})},u=>{console.error(u)})},o=>{console.error(o)})},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.loginForm.markAllAsTouched())}onClose(){this.router.navigateByUrl("/landing")}showRecoverPasswordPage(){this.router.navigateByUrl("/recover")}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(ra),t.Y36(Qc),t.Y36(Wh),t.Y36(Kl),t.Y36(Xc),t.Y36(Ft.qu),t.Y36(kn.F0),t.Y36(Bt),t.Y36(Ot))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-login"]],decls:36,vars:23,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","username"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","password","formControlName","password"],["password",""],["type","submit",1,"enter",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"recover",3,"ngClass","click"],[3,"showLoading"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return o.onClose()}),t._UZ(2,"img",2),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"form",5),t.NdJ("ngSubmit",function(){return o.login()}),t.TgZ(8,"div",6),t._UZ(9,"img",2),t.ALo(10,"async"),t.ALo(11,"formatDataPipe"),t.qZA(),t.TgZ(12,"div",7),t._uU(13," Inicia sesi\xf3n "),t.qZA(),t.TgZ(14,"div",8)(15,"label",9),t._uU(16," Usuario "),t.qZA(),t.TgZ(17,"div",10),t._UZ(18,"input",11),t.YNc(19,vT,3,0,"label",12),t.qZA()(),t.TgZ(20,"div",8)(21,"label",9),t._uU(22," Contrase\xf1a "),t.qZA(),t.TgZ(23,"div",10),t._UZ(24,"input",13,14),t.YNc(26,yT,3,0,"label",12),t.qZA()(),t.TgZ(27,"div",8)(28,"button",15),t._uU(29,"INGRESAR"),t.qZA()(),t.TgZ(30,"div",16),t._uU(31),t.qZA(),t.TgZ(32,"div",8)(33,"button",17),t.NdJ("click",function(){return o.showRecoverPasswordPage()}),t._uU(34,"OLVIDASTE TU CONTRASE\xd1A?"),t.qZA()()()()(),t._UZ(35,"app-custom-spinner",18)),2&n&&(t.xp6(2),t.Q6J("src",t.lcZ(3,9,t.xi3(4,11,"back-screen.png","GetImageURLByKey")),t.LSH),t.xp6(5),t.Q6J("formGroup",o.loginForm),t.xp6(2),t.Q6J("src",t.lcZ(10,14,t.xi3(11,16,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(10),t.Q6J("ngIf",o.sharedService.isInvalidFormControl(o.loginForm,"username")&&o.sharedService.hasRequireErrorFormControl(o.loginForm,"username")),t.xp6(7),t.Q6J("ngIf",o.sharedService.isInvalidFormControl(o.loginForm,"password")&&o.sharedService.hasRequireErrorFormControl(o.loginForm,"password")),t.xp6(2),t.Q6J("ngClass",t.VKq(19,ev,o.showLoading)),t.xp6(3),t.hij(" ",o.errorMessage," "),t.xp6(2),t.Q6J("ngClass",t.VKq(21,ev,o.showLoading)),t.xp6(2),t.Q6J("showLoading",o.showLoading))},dependencies:[g.mk,g.O5,Ft._Y,Ft.Fj,Ft.JJ,Ft.JL,wo,Ft.sg,Ft.u,g.Ov,To],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.enter[_ngcontent-%COMP%]{background-color:#007bff}button.recover[_ngcontent-%COMP%]{background-color:#2e303d}"]})}return r})();class tv{}function bT(r,i){if(1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2),t.qZA()),2&r){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"email")?"Confirma que hayas agregado el email correctamente":e.sharedService.hasErrorPatternFormControl(e.registerUserForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}function ET(r,i){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado los nombres correctamente "),t.qZA())}function Wo(r,i){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado los apellidos correctamente "),t.qZA())}function TT(r,i){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado el usuario correctamente "),t.qZA())}function ST(r,i){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado el password correctamente "),t.qZA())}function RM(r,i){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),t.qZA())}const Ts=function(r){return{error:r}},nv=function(r){return{disable:r}};function CT(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",9)(1,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.register())}),t.TgZ(2,"div",11),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",12),t._uU(7," Reg\xedstrate "),t.qZA(),t.TgZ(8,"div",13)(9,"label",14),t._uU(10," Correo electr\xf3nico "),t.qZA(),t.TgZ(11,"div",15),t._UZ(12,"input",16),t.YNc(13,bT,3,1,"label",17),t.qZA()(),t.TgZ(14,"div",13)(15,"label",14),t._uU(16," Nombres "),t.qZA(),t.TgZ(17,"div",15),t._UZ(18,"input",18),t.YNc(19,ET,3,0,"label",17),t.qZA()(),t.TgZ(20,"div",13)(21,"label",14),t._uU(22," Apellidos "),t.qZA(),t.TgZ(23,"div",15),t._UZ(24,"input",19),t.YNc(25,Wo,3,0,"label",17),t.qZA()(),t.TgZ(26,"div",13)(27,"label",14),t._uU(28," Usuario "),t.qZA(),t.TgZ(29,"div",15),t._UZ(30,"input",20),t.YNc(31,TT,3,0,"label",17),t.qZA()(),t.TgZ(32,"div",13)(33,"label",14),t._uU(34," Contrase\xf1a "),t.qZA(),t.TgZ(35,"div",15),t._UZ(36,"input",21),t.YNc(37,ST,3,0,"label",17),t.qZA()(),t.TgZ(38,"div",13)(39,"label",14),t._uU(40," Confirmar contrase\xf1a "),t.qZA(),t.TgZ(41,"div",15),t._UZ(42,"input",22),t.YNc(43,RM,3,0,"label",17),t.qZA()(),t.TgZ(44,"div",23)(45,"button",24),t._uU(46,"Registrar"),t.qZA()(),t.TgZ(47,"div",25),t._uU(48),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.registerUserForm),t.xp6(2),t.Q6J("src",t.lcZ(4,16,t.xi3(5,18,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngClass",t.VKq(21,Ts,e.sharedService.isInvalidFormControl(e.registerUserForm,"email"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"email")),t.xp6(1),t.Q6J("ngClass",t.VKq(23,Ts,e.sharedService.isInvalidFormControl(e.registerUserForm,"firstName"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"firstName")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"firstName")),t.xp6(1),t.Q6J("ngClass",t.VKq(25,Ts,e.sharedService.isInvalidFormControl(e.registerUserForm,"lastName"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"lastName")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"lastName")),t.xp6(1),t.Q6J("ngClass",t.VKq(27,Ts,e.sharedService.isInvalidFormControl(e.registerUserForm,"username"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"username")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"username")),t.xp6(1),t.Q6J("ngClass",t.VKq(29,Ts,e.sharedService.isInvalidFormControl(e.registerUserForm,"password"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"password")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"password")),t.xp6(1),t.Q6J("ngClass",t.VKq(31,Ts,e.sharedService.isInvalidFormControl(e.registerUserForm,"confirmPassword"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"confirmPassword")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"confirmPassword")),t.xp6(2),t.Q6J("ngClass",t.VKq(33,nv,e.showLoading)),t.xp6(3),t.hij(" ",e.errorMessage," ")}}function DT(r,i){1&r&&(t.TgZ(0,"div",28)(1,"div",29)(2,"div",11),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",12),t._uU(7," Registro de Usuario "),t.qZA(),t.TgZ(8,"h2"),t._uU(9,"Usuario registrado satistactoriamente, verifique su correo electr\xf3nico y active su cuenta por favor."),t.qZA()()()),2&r&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH))}let iv=(()=>{class r{constructor(e,n,o,u){this.formBuilder=e,this.router=n,this.restProvider=o,this.sharedService=u,this._window=window,this.showLoading=!1,this.showSuccessMessage=!1,this.registerUserModel=new tv,this.registerUserForm=this.formBuilder.group({email:new Ft.NI("",[Ft.kI.required,Ft.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),firstName:new Ft.NI("",[Ft.kI.required]),lastName:new Ft.NI("",[Ft.kI.required]),username:new Ft.NI("",[Ft.kI.required]),password:new Ft.NI("",[Ft.kI.required]),confirmPassword:new Ft.NI("",[Ft.kI.required])})}ngOnInit(){localStorage.getItem("apiToken")&&this.router.navigate(["home"],{skipLocationChange:!1})}register(){this.registerUserForm.valid?(this.registerUserModel={Email:this.registerUserForm.value.email,FirstName:this.registerUserForm.value.firstName,LastName:this.registerUserForm.value.lastName,UserName:this.registerUserForm.value.username,Password:this.registerUserForm.value.password,ConfirmPassword:this.registerUserForm.value.confirmPassword,ConfirmEmailUrl:window.location.origin+"/confirm"},this.showLoading=!0,this.restProvider.executeSinovadApiService(Gt.POST,"/users/Register",this.registerUserModel).then(e=>{console.log("Registrado exitosamente"),this.showLoading=!1,this.showSuccessMessage=!0},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.registerUserForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Ft.qu),t.Y36(kn.F0),t.Y36(Bt),t.Y36(Ot))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-register-user"]],decls:11,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-form-backdrop"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3",3,"ngClass"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","text","formControlName","firstName"],["type","text","formControlName","lastName"],["type","text","formControlName","username"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],[1,"mb-3"],["type","submit",1,"register",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return o.onClose()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5),t.YNc(8,CT,49,35,"div",6),t.YNc(9,DT,10,6,"div",7),t.qZA()(),t._UZ(10,"app-custom-spinner",8)),2&n&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetImageURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngIf",!o.showSuccessMessage),t.xp6(1),t.Q6J("ngIf",o.showSuccessMessage),t.xp6(1),t.Q6J("showLoading",o.showLoading))},dependencies:[g.mk,g.O5,Ft._Y,Ft.Fj,Ft.JJ,Ft.JL,wo,Ft.sg,Ft.u,g.Ov,To],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-form-backdrop[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}button.register[_ngcontent-%COMP%]{background-color:#007bff}"]})}return r})();const rv=["loginFormContainer"];let ov=(()=>{class r{constructor(e,n,o){this.router=e,this.activeRoute=n,this.sharedService=o,this._window=window,this.showLoading=!1}ngOnInit(){localStorage.getItem("apiToken")&&this.router.navigateByUrl("/home")}showLoginPage(){this.router.navigateByUrl("/login")}showRegisterPage(){this.router.navigateByUrl("/register")}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kn.F0),t.Y36(kn.gz),t.Y36(Ot))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-landing"]],viewQuery:function(n,o){if(1&n&&t.Gf(rv,5),2&n){let u;t.iGM(u=t.CRH())&&(o.loginFormContainer=u.first)}},decls:12,vars:6,consts:[["id","sinovad-container",1,"sinovad-container"],[1,"sinovad-form-container"],[1,"sinovad-form-content"],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-form-button-section"],[1,"register",3,"click"],[1,"login",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.ALo(5,"async"),t.ALo(6,"formatDataPipe"),t.qZA(),t.TgZ(7,"div",5)(8,"button",6),t.NdJ("click",function(){return o.showRegisterPage()}),t._uU(9,"REG\xcdSTRATE"),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(){return o.showLoginPage()}),t._uU(11,"INICIA SESI\xd3N"),t.qZA()()()()()),2&n&&(t.xp6(4),t.Q6J("src",t.lcZ(5,1,t.xi3(6,3,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH))},dependencies:[g.Ov,To],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;width:100%;cursor:pointer;color:#fff;padding:10px;text-align:center;border-radius:5px;font-size:14px;opacity:.8;margin-bottom:10px;font-weight:700}.sinovad-form-button-section[_ngcontent-%COMP%]   button.register[_ngcontent-%COMP%]{background-color:#007bff}.sinovad-form-button-section[_ngcontent-%COMP%]   button.login[_ngcontent-%COMP%]{background-color:#2e303d}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}button.register[_ngcontent-%COMP%]{background-color:#007bff}button.login[_ngcontent-%COMP%]{background-color:#2e303d}"]})}return r})();const xT=function(r,i){return{load:r,disable:i}};function Zh(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div")(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"span",7),t._uU(10,"Privado"),t.qZA(),t.TgZ(11,"span",8)(12,"span",9),t._uU(13),t.qZA()()()(),t.TgZ(14,"div",5)(15,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.updateMediaServer())}),t.TgZ(16,"div",5)(17,"label",11),t._uU(18,"Nombre Familiar"),t.qZA(),t._UZ(19,"input",12),t.TgZ(20,"p",13),t._uU(21,"Este nombre se usar\xe1 para que otros ordenadores identifiquen este servidor en tu red. Si lo dejas en blanco se usar\xe1 el nombre del equipo."),t.qZA()(),t.TgZ(22,"div",14)(23,"button",15),t._UZ(24,"div",16),t.TgZ(25,"span",17),t._uU(26,"Guardar cambios"),t.qZA()(),t._UZ(27,"span",18),t.qZA()()()()()()()()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName," - General"),t.xp6(11),t.Oqu(e.mediaServer.Url),t.xp6(2),t.Q6J("formGroup",e.customForm),t.xp6(4),t.Q6J("placeholder",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName),t.xp6(4),t.Q6J("ngClass",t.WLB(5,xT,e.loading,e.customForm.pristine||e.customForm.invalid))}}let av=(()=>{class r{constructor(e,n,o,u,p,y,I){this.serverService=e,this.snackBarService=n,this.formBuilder=o,this.router=u,this.activeRoute=p,this.restProvider=y,this.sharedService=I,this.loading=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){this.getMediaServerData()}getMediaServerData(){var e=this;return jh(function*(){e.serverService.getMediaServerByGuid(e.activeRoute.snapshot.params.serverGuid).then(o=>{var u=o.Data,p=e.sharedService.mediaServers.find(y=>y.Id==u.Id);u.isSecureConnection=p.isSecureConnection,e.sharedService.selectedMediaServer=u,e.mediaServer=u,e.customForm=e.formBuilder.group({familyName:new Ft.NI(e.mediaServer.FamilyName)})},o=>{e.router.navigateByUrl("/404")})})()}ngAfterViewInit(){}updateMediaServer(){this.loading=!0;var n=JSON.parse(JSON.stringify(this.mediaServer));n.FamilyName=this.customForm.value.familyName,this.restProvider.executeSinovadApiService(Gt.PUT,"/mediaServers/Update",n).then(o=>{this.loading=!1,this.serverService.getMediaServers(),this.getMediaServerData(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",Zn.Success)},o=>{this.loading=!1,console.error(o)})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Xc),t.Y36(Ar),t.Y36(Ft.qu),t.Y36(kn.F0),t.Y36(kn.gz),t.Y36(Bt),t.Y36(Ot))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-server-setttings-general"]],decls:1,vars:1,consts:[["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"remote-access-mapping"],[1,"mapping-label"],[1,"mapping-address"],[1,"mapping-value"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["type","text","formControlName","familyName",1,"form-control",3,"placeholder"],[1,"help-block"],[1,"form-footer"],["type","submit",1,"save",3,"ngClass"],[1,"loading"],[1,"btn-label"],[1,"form-message"]],template:function(n,o){1&n&&t.YNc(0,Zh,28,8,"div",0),2&n&&t.Q6J("ngIf",o.mediaServer)},dependencies:[g.mk,g.O5,Ft._Y,Ft.Fj,Ft.JJ,Ft.JL,Ft.sg,Ft.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]{border-radius:3px;font-size:16px;line-height:1.33;padding:10px 18px;flex-shrink:0;text-transform:capitalize;border:0;overflow:hidden;position:relative;cursor:pointer;display:inline-block;font-weight:400;margin-bottom:0;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;color:#fff;background-color:#007bff;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   button.save.load[_ngcontent-%COMP%]{pointer-events:none}.sinovad-page-container[_ngcontent-%COMP%]   button.save.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{animation:auto;border-color:#cc7b19 transparent transparent #cc7b19;border-radius:50%;border-style:solid;border-width:2px;height:16px;margin:-8px 0 0 -8px;width:16px;border-left-color:#fff;border-top-color:#fff;left:-12px;position:absolute;top:50%;transition:left .2s;visibility:hidden;z-index:1}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}']})}return r})();var zs=x(3452);let MT=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[Ft.u5,Ft.UX,zs.m,kn.Bz]})}return r})(),AT=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[Ft.u5,Ft.UX,zs.m,kn.Bz]})}return r})(),wT=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[g.ez,Ft.u5,zs.m]})}return r})(),Fa=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[g.ez,Ft.u5,MT,AT,Ft.UX,zs.m,wT,kn.Bz.forChild([])]})}return r})(),$h=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[g.ez,Ft.u5,Ft.UX,zs.m]})}return r})();function IT(r,i){1&r&&(t.TgZ(0,"div",27),t._UZ(1,"mat-spinner"),t.qZA())}function sv(r,i){1&r&&(t.TgZ(0,"th",28),t._uU(1,"N\xb0"),t.qZA())}function OT(r,i){if(1&r&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&r){const e=i.index,n=t.oxw();t.xp6(1),t.hij(" ",n.getElementNumber(e,n.currentPage,n.itemsPerPage),"")}}function lv(r,i){1&r&&(t.TgZ(0,"th",30),t._uU(1,"Nombre del dispositivo"),t.qZA())}function cv(r,i){if(1&r&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.DeviceName," ")}}function ku(r,i){1&r&&(t.TgZ(0,"th",30),t._uU(1,"Nombre familiar"),t.qZA())}function qh(r,i){if(1&r&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.FamilyName," ")}}function NM(r,i){1&r&&(t.TgZ(0,"th",32),t._uU(1,"IP Privada"),t.qZA())}function dv(r,i){if(1&r&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.IpAddress," ")}}function uv(r,i){1&r&&(t.TgZ(0,"th",34),t._uU(1,"Puerto"),t.qZA())}function fv(r,i){if(1&r&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.Port," ")}}function hv(r,i){1&r&&t._UZ(0,"tr",36)}function Jh(r,i){1&r&&t._UZ(0,"tr",37)}function rs(r,i){1&r&&(t.TgZ(0,"td",40),t._uU(1,"No se encontraron datos"),t.qZA())}function PT(r,i){if(1&r&&(t.TgZ(0,"tr",38),t.YNc(1,rs,2,0,"td",39),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const RT=function(){return[5,10,25,100]};let Qh=(()=>{class r extends Tr{constructor(e,n,o,u){super(o),this.dialog=e,this.mediaServerService=n,this.matPaginatorIntl=o,this.snackbarService=u}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="DeviceName",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"DeviceName",start:"asc",disableClear:!0}),this.searchBy="IpAddress|Port|FamilyName|DeviceName",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.mediaServerService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var n=e.Data;this.totalCount=e.TotalCount,this.listItems=n,this.dataSource=new Cn.by(n),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var n=new vn.vA;n.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el servidor "+e.DeviceName+"?",accordMessage:"Si, eliminar el servidor '"+e.DeviceName+"'"},this.dialog.open(Ti,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.mediaServerService.deleteItem(e.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Zn.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,Zn.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new vn.vA;e.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Ti,e).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.mediaServerService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Zn.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Zn.Error)})}getDisplayedColumns(){return window.innerWidth>600?["Id","DeviceName","FamilyName","IpAddress","Port"]:window.innerWidth>475?["Id","DeviceName","FamilyName"]:["Id","DeviceName"]}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(vn.uw),t.Y36(Xc),t.Y36(Kt.ye),t.Y36(Ar))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-server-list"]],viewQuery:function(n,o){if(1&n&&(t.Gf(Kt.NW,5),t.Gf(Ci.YE,5)),2&n){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},inputs:{parentItem:"parentItem"},features:[t.qOj],decls:37,vars:8,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","style","width:50px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","width:50px;text-align: center;",4,"matCellDef"],["matColumnDef","DeviceName"],["mat-header-cell","","mat-sort-header","","style","width:calc(50% - 140px);text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:calc(50% - 165px);text-align: left;",4,"matCellDef"],["matColumnDef","FamilyName"],["matColumnDef","IpAddress"],["mat-header-cell","","mat-sort-header","","style","width:150px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:150px;text-align: left;",4,"matCellDef"],["matColumnDef","Port"],["mat-header-cell","","mat-sort-header","","style","width:80px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:80px;text-align: left;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",2,"width","50px","text-align","center"],["mat-cell","",2,"width","50px","text-align","center"],["mat-header-cell","","mat-sort-header","",2,"width","calc(50% - 140px)","text-align","left"],["mat-cell","",2,"width","calc(50% - 165px)","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","150px","text-align","left"],["mat-cell","",2,"width","150px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","80px","text-align","left"],["mat-cell","",2,"width","80px","text-align","left"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Buscar"),t.qZA(),t.TgZ(10,"input",4,5),t.NdJ("keyup",function(p){return o.applyFilter(p)}),t.qZA()(),t.TgZ(12,"div",6),t.YNc(13,IT,2,0,"div",7),t.TgZ(14,"div",8)(15,"table",9),t.ynx(16,10),t.YNc(17,sv,2,0,"th",11),t.YNc(18,OT,2,1,"td",12),t.BQk(),t.ynx(19,13),t.YNc(20,lv,2,0,"th",14),t.YNc(21,cv,2,1,"td",15),t.BQk(),t.ynx(22,16),t.YNc(23,ku,2,0,"th",14),t.YNc(24,qh,2,1,"td",15),t.BQk(),t.ynx(25,17),t.YNc(26,NM,2,0,"th",18),t.YNc(27,dv,2,1,"td",19),t.BQk(),t.ynx(28,20),t.YNc(29,uv,2,0,"th",21),t.YNc(30,fv,2,1,"td",22),t.BQk(),t.YNc(31,hv,1,0,"tr",23),t.YNc(32,Jh,1,0,"tr",24),t.YNc(33,PT,2,1,"tr",25),t.qZA()()()()(),t.TgZ(34,"div",1)(35,"div",3),t._UZ(36,"mat-paginator",26),t.qZA()()()()),2&n&&(t.xp6(3),t.hij("",o.parentItem.UserName," : Servidores multimedia"),t.xp6(10),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(7,RT)))},dependencies:[g.O5,Kt.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,jr.Nt,pi.KE,pi.hX,Ci.YE,Ci.nU,_a.Ou],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:850px!important}"]})}return r})();function NT(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",1),t._UZ(1,"h5",2),t.TgZ(2,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(3,"i",4),t.qZA()(),t.TgZ(4,"div",5),t._UZ(5,"app-media-server-list",6),t.qZA(),t.TgZ(6,"div",7)(7,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(8,"Close"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("parentItem",e.parent)}}let LT=(()=>{class r{constructor(e){this.activeModal=e}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(uo))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-server-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(n,o){1&n&&t.YNc(0,NT,9,1,"ng-template",0),2&n&&t.Q6J("ngIf",null!=o.parent)},dependencies:[g.O5,Qh]})}return r})(),Wl=(()=>{class r{constructor(e){this.elementRef=e,this.clickOutside=new t.vpe}ngOnInit(){}ngAfterViewInit(){}onClick(e,n){n&&(this.elementRef.nativeElement.contains(n)||this.clickOutside.emit(e))}onContextMenu(){console.log("contextmenu")}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(t.SBq))};static#t=this.\u0275dir=t.lG2({type:r,selectors:[["","clickOutside",""]],hostBindings:function(n,o){1&n&&t.NdJ("click",function(p){return o.onClick(p,p.target)},!1,t.Jf7)("contextmenu",function(){return o.onContextMenu()})},outputs:{clickOutside:"clickOutside"}})}return r})();function LM(r,i){if(1&r&&t._UZ(0,"img",7),2&r){const e=t.oxw().$implicit;t.Q6J("src",e.imageUrl,t.LSH)}}function mv(r,i){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.iconClass)}}function kT(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.onClickContextMenuOption(u))}),t.TgZ(1,"div",3),t.YNc(2,LM,1,1,"img",4),t.YNc(3,mv,1,3,"i",5),t.qZA(),t.TgZ(4,"div",6),t._uU(5),t.qZA()()}if(2&r){const e=i.$implicit;t.Udp("border-bottom",e.showBorderBottom?"1px solid black":""),t.xp6(2),t.Q6J("ngIf",e.imageUrl),t.xp6(1),t.Q6J("ngIf",e.iconClass),t.xp6(2),t.hij(" ",e.text," ")}}let ed=(()=>{class r{constructor(){this.hideContextMenu=new t.vpe,this.clickOption=new t.vpe}onClickOutside(){this.hideContextMenu.emit(!0)}onClickContextMenuOption(e){this.clickOption.emit(e)}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-context-menu"]],decls:2,vars:5,consts:[[1,"sinovad-context-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-context-menu-option",3,"click"],[1,"sinovad-context-menu-option-icon"],["style","width:24px;",3,"src",4,"ngIf"],[3,"class",4,"ngIf"],[1,"sinovad-context-menu-option-text"],[2,"width","24px",3,"src"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(){return o.onClickOutside()}),t.YNc(1,kT,6,5,"ng-template",1),t.qZA()),2&n&&(t.Udp("top",o.top+"px")("left",o.left+"px"),t.xp6(1),t.Q6J("ngForOf",o.listOptions))},dependencies:[g.sg,g.O5,Wl],styles:[".sinovad-context-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;color:#fff}.sinovad-context-menu-option[_ngcontent-%COMP%]{display:flex;padding:10px;cursor:pointer;align-items:center;opacity:.8}.sinovad-context-menu-option[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-context-menu-option-icon[_ngcontent-%COMP%]{display:block}.sinovad-context-menu-option-text[_ngcontent-%COMP%]{padding-left:10px;display:block}"]})}return r})(),Fu=(()=>{class r{constructor(e,n,o){this.factoryResolver=e,this.injector=n,this.applicationRef=o}show(e,n,o,u){return new Promise((p,y)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const G=this.factoryResolver.resolveComponentFactory(ed).create(this.injector);this.lastViewRef=G.hostView,this.applicationRef.attachView(G.hostView);let ne=this;G.instance.left=n,G.instance.top=o,G.instance.listOptions=u,G.instance.clickOption.subscribe(Ge=>{G.destroy(),ne.applicationRef.detachView(G.hostView),p(Ge)}),G.instance.hideContextMenu.subscribe(Ge=>{G.destroy(),ne.applicationRef.detachView(G.hostView),y(!0)});const Te=G.hostView.rootNodes[0];document.getElementById(e).appendChild(Te)})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function kM(r,i){1&r&&(t.TgZ(0,"div",23),t._UZ(1,"mat-spinner"),t.qZA())}function FT(r,i){1&r&&(t.TgZ(0,"th",24),t._uU(1,"N\xb0"),t.qZA())}function pv(r,i){if(1&r&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&r){const e=i.index,n=t.oxw();t.xp6(1),t.hij(" ",n.getElementNumber(e,n.currentPage,n.itemsPerPage),"")}}function gv(r,i){1&r&&(t.TgZ(0,"th",26),t._uU(1," Usuario "),t.qZA())}function BT(r,i){if(1&r&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.UserName," ")}}function UT(r,i){1&r&&(t.TgZ(0,"th",26),t._uU(1," Correo "),t.qZA())}function _v(r,i){if(1&r&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.Email," ")}}function vv(r,i){1&r&&(t.TgZ(0,"th",26),t._uU(1," Nombres "),t.qZA())}function td(r,i){if(1&r&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.FirstName," ")}}function jT(r,i){1&r&&(t.TgZ(0,"th",26),t._uU(1," Apellidos "),t.qZA())}function yv(r,i){if(1&r&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.LastName," ")}}function bv(r,i){1&r&&t._UZ(0,"tr",28)}const VT=function(r){return{active:r}};function GT(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"tr",29),t.NdJ("contextmenu",function(o){const p=t.CHM(e).$implicit,y=t.oxw();return t.KtG(y.onContextMenuItem(o,p))}),t.qZA()}if(2&r){const e=i.$implicit,n=t.oxw();t.Q6J("ngClass",t.VKq(1,VT,n.lastSelectedItem&&e.Id==n.lastSelectedItem.Id))}}function nd(r,i){1&r&&(t.TgZ(0,"td",32),t._uU(1,"No se encontraron datos"),t.qZA())}function HT(r,i){if(1&r&&(t.TgZ(0,"tr",30),t.YNc(1,nd,2,0,"td",31),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const FM=function(){return[5,10,25,100]};let Ev=(()=>{class r extends Tr{constructor(e,n,o,u,p,y){super(p),this.modalService=e,this.contextMenuService=n,this.dialog=o,this.userService=u,this.matPaginatorIntl=p,this.snackbarService=y}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="UserName",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"UserName",start:"asc",disableClear:!0}),this.searchBy="UserName|Email|FirstName|LastName",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.userService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var n=e.Data;this.totalCount=e.TotalCount,this.listItems=n,this.dataSource=new Cn.by(n),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var n=new vn.vA;n.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el usuario "+e.UserName+"?",accordMessage:"Si, eliminar el usuario '"+e.UserName+"'"},this.dialog.open(Ti,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.userService.deleteItem(e.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Zn.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,Zn.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new vn.vA;e.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Ti,e).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.userService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Zn.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Zn.Error)})}getDisplayedColumns(){return window.innerWidth>600?["Id","UserName","Email","FirstName","LastName"]:window.innerWidth>475?["Id","UserName","Email","LastName"]:window.innerWidth>375?["Id","UserName","Email"]:["Id","UserName"]}onContextMenuItem(e,n){this.lastSelectedItem=n,e.preventDefault(),e.stopPropagation();let o=[];o.push({key:"ShowMediaServers",text:"Servidores multimedia",iconClass:"fa-solid fa-server"}),o&&o.length>0&&this.renderContextMenuComponent(e.clientX,e.clientY,o,n)}renderContextMenuComponent(e,n,o,u){this.contextMenuService.show("sinovadMainContainer",e,n,o).then(p=>{"ShowMediaServers"==p.key&&this.showMediaServerListModal(u)},()=>{this.lastSelectedItem=void 0})}showMediaServerListModal(e){var n=this,o=this.modalService.open(LT,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});o.componentInstance.parent=e,o.closed.subscribe(u=>{n.lastSelectedItem=void 0})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Eo),t.Y36(Fu),t.Y36(vn.uw),t.Y36(Wh),t.Y36(Kt.ye),t.Y36(Ar))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-user-list"]],viewQuery:function(n,o){if(1&n&&(t.Gf(Kt.NW,5),t.Gf(Ci.YE,5)),2&n){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},features:[t.qOj],decls:37,vars:7,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","style","width:50px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","width:50px;text-align: center;",4,"matCellDef"],["matColumnDef","UserName"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Email"],["matColumnDef","FirstName"],["matColumnDef","LastName"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",3,"ngClass","contextmenu",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",2,"width","50px","text-align","center"],["mat-cell","",2,"width","50px","text-align","center"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable",3,"ngClass","contextmenu"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"Usuarios"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Buscar"),t.qZA(),t.TgZ(10,"input",4,5),t.NdJ("keyup",function(p){return o.applyFilter(p)}),t.qZA()(),t.TgZ(12,"div",6),t.YNc(13,kM,2,0,"div",7),t.TgZ(14,"div",8)(15,"table",9),t.ynx(16,10),t.YNc(17,FT,2,0,"th",11),t.YNc(18,pv,2,1,"td",12),t.BQk(),t.ynx(19,13),t.YNc(20,gv,2,0,"th",14),t.YNc(21,BT,2,1,"td",15),t.BQk(),t.ynx(22,16),t.YNc(23,UT,2,0,"th",14),t.YNc(24,_v,2,1,"td",15),t.BQk(),t.ynx(25,17),t.YNc(26,vv,2,0,"th",14),t.YNc(27,td,2,1,"td",15),t.BQk(),t.ynx(28,18),t.YNc(29,jT,2,0,"th",14),t.YNc(30,yv,2,1,"td",15),t.BQk(),t.YNc(31,bv,1,0,"tr",19),t.YNc(32,GT,1,3,"tr",20),t.YNc(33,HT,2,1,"tr",21),t.qZA()()()()(),t.TgZ(34,"div",1)(35,"div",3),t._UZ(36,"mat-paginator",22),t.qZA()()()()),2&n&&(t.xp6(13),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(6,FM)))},dependencies:[g.mk,g.O5,Kt.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,jr.Nt,pi.KE,pi.hX,Ci.YE,Ci.nU,_a.Ou]})}return r})();class YT{}let Tv=(()=>{class r{constructor(e){this.restProvider=e}getItems(e,n,o,u,p,y){return new Promise((I,G)=>{let ne=fo();this.lastCallGuid=ne;var Te="?page="+e.toString()+"&take="+n.toString()+"&sortBy="+o+"&sortDirection="+u+"&searchText="+p+"&searchBy="+y;this.restProvider.executeSinovadApiService(Gt.GET,"/roles/GetAllWithPaginationAsync"+Te).then(Ge=>{this.lastCallGuid==ne&&I(Ge)},Ge=>{console.error(Ge),G(Ge)})})}saveItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Gt.PUT:Gt.POST,e.Id>0?"/roles/Update":"/roles/Create",e).then(y=>{n(!0)},y=>{console.error(y),o(y)})})}deleteItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(Gt.DELETE,"/roles/Delete/"+e).then(p=>{n(p)},p=>{console.error(p),o(p)})})}deleteItems(e){return new Promise((n,o)=>{let u=[];for(let I=0;I<e.length;I++)u.push(e[I].Id);var p=u.join(",");this.restProvider.executeSinovadApiService(Gt.DELETE,"/roles/DeleteList/"+p).then(I=>{n(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function KT(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function WT(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,KT,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-checkbox",9),t._uU(13,"Activo"),t.qZA()(),t.TgZ(14,"div",10)(15,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(16,"Close"),t.qZA(),t.TgZ(17,"button",12),t._uU(18,"Guardar"),t.qZA()()(),t._UZ(19,"app-custom-spinner",13)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.roleFormGroup),t.xp6(3),t.Oqu(e.role&&e.role.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.roleFormGroup.controls.name.hasError("required")),t.xp6(6),t.Q6J("disabled",e.showLoading||!e.roleFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let zT=(()=>{class r{constructor(e,n,o,u){this.formBuilder=e,this.activeModal=n,this.snackbarService=o,this.roleService=u,this.showLoading=!1,this.matcher=new Qi}ngAfterViewInit(){this.roleFormGroup=this.formBuilder.group({name:new Ft.NI(this.role.Name,[Ft.kI.required]),enabled:new Ft.NI(this.role.Enabled)})}saveItem(){if(this.roleFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.role));e.Name=this.roleFormGroup.value.name,e.Enabled=this.roleFormGroup.value.enabled,this.roleService.saveItem(e).then(n=>{this.showLoading=!1,this.role=void 0,this.snackbarService.showSnackBar("Se guardo el rol satisfactoriamente",Zn.Success),this.activeModal.close()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,Zn.Error)})}else this.roleFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Ft.qu),t.Y36(uo),t.Y36(Ar),t.Y36(Tv))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-role-form"]],inputs:{role:"role"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&t.YNc(0,WT,20,6,"ng-template",0),2&n&&t.Q6J("ngIf",null!=o.role&&o.roleFormGroup)},dependencies:[Ft._Y,Ft.Fj,Ft.JJ,Ft.JL,Ft.sg,Ft.u,wo,g.O5,jr.Nt,pi.KE,pi.hX,pi.TO,La.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function ZT(r,i){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function Sv(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const u=t.oxw();return t.KtG(o?u.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function em(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const p=t.CHM(e).$implicit,y=t.oxw();return t.KtG(y.onChangeCheckValue(o,p))}),t.qZA()()}if(2&r){const e=i.$implicit,n=t.oxw();t.xp6(1),t.Q6J("checked",n.selection.isSelected(e))}}function $T(r,i){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function Bu(r,i){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=i.index,n=t.oxw();t.xp6(1),t.hij(" ",n.getElementNumber(e,n.currentPage,n.itemsPerPage),"")}}function qT(r,i){1&r&&(t.TgZ(0,"th",39),t._uU(1," Nombre "),t.qZA())}function JT(r,i){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function QT(r,i){1&r&&t._UZ(0,"th",41)}function XT(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.editItem(u))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.deleteItem(u))}),t._UZ(5,"i",7),t.qZA()()()}}function eS(r,i){1&r&&t._UZ(0,"tr",47)}function tS(r,i){1&r&&t._UZ(0,"tr",48)}function Cv(r,i){1&r&&(t.TgZ(0,"td",51),t._uU(1,"No se encontraron datos"),t.qZA())}function Dv(r,i){if(1&r&&(t.TgZ(0,"tr",49),t.YNc(1,Cv,2,0,"td",50),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const xv=function(r){return{disable:r}},nS=function(){return[5,10,25,100]};let iS=(()=>{class r extends Tr{constructor(e,n,o,u,p){super(o),this.modalService=e,this.dialog=n,this.matPaginatorIntl=o,this.snackbarService=u,this.roleService=p,this.displayedColumns=["Select","Id","Name","Actions"]}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new YT;e.Enabled=!0,this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var n=this,o=this.modalService.open(zT,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.role=e,o.closed.subscribe(u=>{n.getAllItems()})}getAllItems(){this.showLoading=!0,this.roleService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var n=e.Data;this.totalCount=e.TotalCount,this.listItems=n,this.dataSource=new Cn.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var n=new vn.vA;n.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+e.Name+"?",accordMessage:"Si, eliminar el rol '"+e.Name+"'"},this.dialog.open(Ti,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.roleService.deleteItem(e.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Zn.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,Zn.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new vn.vA;e.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Ti,e).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.roleService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Zn.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Zn.Error)})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Eo),t.Y36(vn.uw),t.Y36(Kt.ye),t.Y36(Ar),t.Y36(Tv))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-role-list"]],viewQuery:function(n,o){if(1&n&&(t.Gf(Kt.NW,5),t.Gf(Ci.YE,5)),2&n){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},features:[t.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," Roles"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(p){return o.applyFilter(p)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,ZT,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,Sv,2,2,"th",17),t.YNc(25,em,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,$T,2,0,"th",20),t.YNc(28,Bu,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,qT,2,0,"th",23),t.YNc(31,JT,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,QT,1,0,"th",26),t.YNc(34,XT,6,0,"td",27),t.BQk(),t.YNc(35,eS,1,0,"tr",28),t.YNc(36,tS,1,0,"tr",29),t.YNc(37,Dv,2,1,"tr",30),t.qZA()()()()(),t.TgZ(38,"div",1)(39,"div",9),t._UZ(40,"mat-paginator",31),t.qZA()()()()),2&n&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,xv,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,nS)))},dependencies:[g.mk,g.O5,Kt.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,jr.Nt,pi.KE,pi.hX,Ci.YE,Ci.nU,La.oG,_a.Ou,va.gM]})}return r})();var tm=x(3680),nm=x(8525);function BM(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," T\xedtulo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function Uu(r,i){if(1&r&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.Q6J("value",e.Id),t.xp6(1),t.hij(" ",e.Name," ")}}function rS(r,i){if(1&r&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.Q6J("value",e.Id),t.xp6(1),t.hij(" ",e.Title," ")}}function oS(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"T\xedtulo"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,BM,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Path"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field")(17,"mat-label"),t._uU(18,"N\xfamero de Orden"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"mat-form-field")(21,"mat-label"),t._uU(22,"Tipo de \xcdcono"),t.qZA(),t.TgZ(23,"mat-select",11)(24,"mat-option",12),t._uU(25,"--"),t.qZA(),t.YNc(26,Uu,2,2,"mat-option",13),t.qZA()(),t.TgZ(27,"mat-form-field")(28,"mat-label"),t._uU(29,"Icon Class"),t.qZA(),t._UZ(30,"input",14),t.qZA(),t.TgZ(31,"mat-form-field")(32,"mat-label"),t._uU(33,"Menu Padre"),t.qZA(),t.TgZ(34,"mat-select",15)(35,"mat-option",12),t._uU(36,"--"),t.qZA(),t.YNc(37,rS,2,2,"mat-option",13),t.qZA()(),t.TgZ(38,"mat-checkbox",16),t._uU(39,"Activo"),t.qZA()(),t.TgZ(40,"div",17)(41,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(42,"Cerrar"),t.qZA(),t.TgZ(43,"button",19),t._uU(44,"Guardar"),t.qZA()()(),t._UZ(45,"app-custom-spinner",20)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.menuFormGroup),t.xp6(3),t.Oqu(e.menu.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.menuFormGroup.controls.title.hasError("required")),t.xp6(13),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",e.listIconTypes),t.xp6(9),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",e.listMenusSelectable),t.xp6(6),t.Q6J("disabled",e.showLoading||!e.menuFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let im=(()=>{class r{constructor(e,n,o,u,p,y){this.sharedService=e,this.restProvider=n,this.formBuilder=o,this.activeModal=u,this.snackbarService=p,this.menuService=y,this.showLoading=!1,this.matcher=new Qi}ngOnInit(){this.getAllMenus(),this.getIconTypes()}getAllMenus(){this.menuService.getAllMenus().then(e=>{this.listMenusSelectable=e.Data.filter(o=>o.Id!=this.menu.Id)},e=>{console.error(e)})}getIconTypes(){this.restProvider.executeSinovadApiService(Gt.GET,"/catalogs/GetDetailsByCatalogAsync/"+at.IconTypes).then(n=>{this.listIconTypes=n.Data},n=>{console.error(n)})}ngAfterViewInit(){this.menuFormGroup=this.formBuilder.group({title:new Ft.NI(this.menu.Title,[Ft.kI.required]),path:new Ft.NI(this.menu.Path),iconType:new Ft.NI(this.menu.IconTypeCatalogDetailId),iconClass:new Ft.NI(this.menu.IconClass),sortOrder:new Ft.NI(this.menu.SortOrder),parentId:new Ft.NI(this.menu.ParentId),enabled:new Ft.NI(this.menu.Enabled)})}saveItem(){if(this.menuFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.menu));e.Title=this.menuFormGroup.value.title,e.Path=this.menuFormGroup.value.path,e.IconClass=this.menuFormGroup.value.iconClass,e.SortOrder=this.menuFormGroup.value.sortOrder,null!=this.menuFormGroup.value.iconType?(e.IconTypeCatalogId=at.IconTypes,e.IconTypeCatalogDetailId=this.menuFormGroup.value.iconType):(e.IconTypeCatalogId=void 0,e.IconTypeCatalogDetailId=void 0),e.ParentId=this.menuFormGroup.value.parentId,e.Enabled=this.menuFormGroup.value.enabled,this.menuService.saveItem(e).then(n=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el menu satisfactoriamente",Zn.Success),this.menuService.getManageMenu(),this.activeModal.close()},n=>{this.showLoading=!1,console.error(n)})}else this.menuFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Ot),t.Y36(Bt),t.Y36(Ft.qu),t.Y36(uo),t.Y36(Ar),t.Y36(Qc))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-menu-form"]],inputs:{menu:"menu"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["id","path","matInput","","formControlName","path"],["id","sortOrder","type","number","matInput","","formControlName","sortOrder"],["formControlName","iconType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["id","iconClass","matInput","","formControlName","iconClass"],["formControlName","parentId"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&t.YNc(0,oS,46,10,"ng-template",0),2&n&&t.Q6J("ngIf",null!=o.menu&&o.menuFormGroup)},dependencies:[Ft._Y,Ft.Fj,Ft.wV,Ft.JJ,Ft.JL,Ft.sg,Ft.u,wo,g.sg,g.O5,jr.Nt,pi.KE,pi.hX,pi.TO,La.oG,tm.ey,nm.gD],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}.form-check-input[_ngcontent-%COMP%]{width:18px;height:18px}form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function aS(r,i){1&r&&(t.TgZ(0,"div",41),t._UZ(1,"mat-spinner"),t.qZA())}function Ba(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"th",42)(1,"mat-checkbox",43),t.NdJ("change",function(o){t.CHM(e);const u=t.oxw();return t.KtG(o?u.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function id(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",44)(1,"mat-checkbox",45),t.NdJ("click",function(o){const p=t.CHM(e).$implicit,y=t.oxw();return t.KtG(y.onChangeCheckValue(o,p))}),t.qZA()()}if(2&r){const e=i.$implicit,n=t.oxw();t.xp6(1),t.Q6J("checked",n.selection.isSelected(e))}}function ho(r,i){1&r&&(t.TgZ(0,"th",46),t._uU(1,"N\xb0"),t.qZA())}function Zs(r,i){if(1&r&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&r){const e=i.index,n=t.oxw();t.xp6(1),t.hij(" ",n.getElementNumber(e,n.currentPage,n.itemsPerPage),"")}}function ju(r,i){1&r&&(t.TgZ(0,"th",48),t._uU(1,"T\xedtulo"),t.qZA())}function oa(r,i){if(1&r&&(t.TgZ(0,"td",49),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.Title," ")}}function rm(r,i){1&r&&(t.TgZ(0,"th",50),t._uU(1,"Path"),t.qZA())}function zl(r,i){if(1&r&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.Path," ")}}function Zl(r,i){1&r&&(t.TgZ(0,"th",52),t._uU(1,"\xcdcono"),t.qZA())}function $l(r,i){if(1&r&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.IconClass," ")}}function ql(r,i){1&r&&(t.TgZ(0,"th",54),t._uU(1,"Orden"),t.qZA())}function Jl(r,i){if(1&r&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.SortOrder," ")}}function Ql(r,i){1&r&&t._UZ(0,"th",56)}function Xl(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",57)(1,"div",58)(2,"button",59),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.editItem(u))}),t._UZ(3,"i",60),t.qZA(),t.TgZ(4,"button",61),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.deleteItem(u))}),t._UZ(5,"i",7),t.qZA()()()}}function ec(r,i){1&r&&t._UZ(0,"tr",62)}function tc(r,i){1&r&&t._UZ(0,"tr",63)}function Mv(r,i){1&r&&(t.TgZ(0,"td",66),t._uU(1,"No se encontraron datos"),t.qZA())}function Av(r,i){if(1&r&&(t.TgZ(0,"tr",64),t.YNc(1,Mv,2,0,"td",65),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const wv=function(r){return{disable:r}},Iv=function(){return[5,10,25,100]};let om=(()=>{class r extends Tr{constructor(e,n,o,u,p){super(o),this.modalService=e,this.dialog=n,this.matPaginatorIntl=o,this.snackbarService=u,this.menuService=p}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new Yl;e.Enabled=!0,this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var n=this,o=this.modalService.open(im,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.menu=e,o.closed.subscribe(u=>{n.getAllItems()})}getAllItems(){this.showLoading=!0,this.menuService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var n=e.Data;this.totalCount=e.TotalCount,this.listItems=n,this.dataSource=new Cn.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var n=new vn.vA;n.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el menu "+e.Title+"?",accordMessage:"Si, eliminar el menu '"+e.Title+"'"},this.dialog.open(Ti,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.menuService.deleteItem(e.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Zn.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,Zn.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new vn.vA;e.data={title:"Eliminar menus",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Ti,e).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.menuService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Zn.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Zn.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","Path","IconClass","SortOrder","Actions"]:window.innerWidth>875?["Select","Id","Title","Path","IconClass","Actions"]:window.innerWidth>495?["Select","Id","Title","Path","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Eo),t.Y36(vn.uw),t.Y36(Kt.ye),t.Y36(Ar),t.Y36(Qc))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-menu-list"]],viewQuery:function(n,o){if(1&n&&(t.Gf(Kt.NW,5),t.Gf(Ci.YE,5)),2&n){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},features:[t.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Path"],["mat-header-cell","","mat-sort-header","","style","min-width:100px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","IconClass"],["mat-header-cell","","mat-sort-header","","style","min-width:180px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:180px;text-align: left;",4,"matCellDef"],["matColumnDef","SortOrder"],["mat-header-cell","","mat-sort-header","","style","max-width:70px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:70px;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","100px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","180px","text-align","left"],["mat-cell","",2,"min-width","180px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","70px","text-align","left"],["mat-cell","",2,"max-width","70px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"Menus"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(p){return o.applyFilter(p)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,aS,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,Ba,2,2,"th",17),t.YNc(25,id,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,ho,2,0,"th",20),t.YNc(28,Zs,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,ju,2,0,"th",23),t.YNc(31,oa,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,rm,2,0,"th",26),t.YNc(34,zl,2,1,"td",27),t.BQk(),t.ynx(35,28),t.YNc(36,Zl,2,0,"th",29),t.YNc(37,$l,2,1,"td",30),t.BQk(),t.ynx(38,31),t.YNc(39,ql,2,0,"th",32),t.YNc(40,Jl,2,1,"td",33),t.BQk(),t.ynx(41,34),t.YNc(42,Ql,1,0,"th",35),t.YNc(43,Xl,6,0,"td",36),t.BQk(),t.YNc(44,ec,1,0,"tr",37),t.YNc(45,tc,1,0,"tr",38),t.YNc(46,Av,2,1,"tr",39),t.qZA()()()()(),t.TgZ(47,"div",1)(48,"div",9),t._UZ(49,"mat-paginator",40),t.qZA()()()()),2&n&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,wv,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,Iv)))},dependencies:[g.mk,g.O5,Kt.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,jr.Nt,pi.KE,pi.hX,Ci.YE,Ci.nU,La.oG,_a.Ou,va.gM],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();class Ov{}function Pv(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"p")(1,"mat-checkbox",10),t.NdJ("click",function(o){const p=t.CHM(e).$implicit,y=t.oxw(2);return t.KtG(y.onChangeCheckValue(o,p))}),t._uU(2),t.qZA()()}if(2&r){const e=i.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("checked",n.selection.isSelected(e)),t.xp6(1),t.Oqu(e.Name)}}function Rv(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h5",2),t._uU(2),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(4,"i",4),t.qZA()(),t.TgZ(5,"div",5),t.YNc(6,Pv,3,2,"ng-template",6),t.qZA(),t.TgZ(7,"div",7)(8,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(9,"Close"),t.qZA(),t.TgZ(10,"button",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onSaveSelection())}),t._uU(11,"Guardar"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(2),t.Oqu("G\xe9neros"),t.xp6(4),t.Q6J("ngForOf",e.listAllGenres)}}let am=(()=>{class r{constructor(e){this.activeModal=e}closeModal(){this.activeModal.dismiss()}onSaveSelection(){this.activeModal.close(this.selection.selected)}onChangeCheckValue(e,n){e.target.checked?this.selection.select(n):this.selection.deselect(n)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(uo))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-genres-selection-modal"]],inputs:{listAllGenres:"listAllGenres",selection:"selection"},decls:2,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["ngFor","",3,"ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"checked","click"]],template:function(n,o){1&n&&(t.YNc(0,Rv,12,2,"ng-template",0),t._uU(1," <\n")),2&n&&t.Q6J("ngIf",null!=o.listAllGenres)},dependencies:[g.sg,g.O5,La.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}"]})}return r})(),Vu=(()=>{class r{constructor(e){this.restProvider=e}getMovie(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(Gt.GET,"/movies/GetAsync/"+e).then(u=>{n(u)},u=>{console.error(u),o(u)})})}getItems(e,n,o,u,p,y){return new Promise((I,G)=>{let ne=fo();this.lastCallGuid=ne;var Te="?page="+e.toString()+"&take="+n.toString()+"&sortBy="+o+"&sortDirection="+u+"&searchText="+p+"&searchBy="+y;this.restProvider.executeSinovadApiService(Gt.GET,"/movies/GetAllWithPaginationAsync"+Te).then(Ge=>{this.lastCallGuid==ne&&I(Ge)},Ge=>{console.error(Ge),G(Ge)})})}saveItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Gt.PUT:Gt.POST,e.Id>0?"/movies/Update":"/movies/Create",e).then(y=>{n(!0)},y=>{console.error(y),o(y)})})}deleteItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(Gt.DELETE,"/movies/Delete/"+e).then(p=>{n(p)},p=>{console.error(p),o(p)})})}deleteItems(e){return new Promise((n,o)=>{let u=[];for(let I=0;I<e.length;I++)u.push(e[I].Id);var p=u.join(",");this.restProvider.executeSinovadApiService(Gt.DELETE,"/movies/DeleteList/"+p).then(I=>{n(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var nc=x(8034);function UM(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," T\xedtulo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function jM(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"T\xedtulo"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,UM,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Fecha de Lanzamiento"),t.qZA(),t._UZ(15,"input",9),t.TgZ(16,"mat-hint"),t._uU(17,"MM/DD/YYYY"),t.qZA(),t._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),t.qZA(),t.TgZ(21,"mat-form-field")(22,"mat-label"),t._uU(23,"G\xe9neros"),t.qZA(),t.TgZ(24,"textarea",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showGenresSelectionModal())}),t.qZA()(),t.TgZ(25,"mat-form-field")(26,"mat-label"),t._uU(27,"Directores"),t.qZA(),t._UZ(28,"textarea",13),t.qZA(),t.TgZ(29,"mat-form-field")(30,"mat-label"),t._uU(31,"Actores"),t.qZA(),t._UZ(32,"textarea",14),t.qZA(),t.TgZ(33,"mat-form-field")(34,"mat-label"),t._uU(35,"Resumen"),t.qZA(),t._UZ(36,"textarea",15),t.qZA(),t.TgZ(37,"mat-form-field")(38,"mat-label"),t._uU(39,"Im\xe1gen"),t.qZA(),t._UZ(40,"textarea",16),t.qZA()(),t.TgZ(41,"div",17)(42,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(43,"Close"),t.qZA(),t.TgZ(44,"button",19),t._uU(45,"Guardar"),t.qZA()()(),t._UZ(46,"app-custom-spinner",20)}if(2&r){const e=t.MAs(20),n=t.oxw();t.Q6J("formGroup",n.movieFormGroup),t.xp6(3),t.Oqu(n.movie.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",n.matcher),t.xp6(1),t.Q6J("ngIf",n.movieFormGroup.controls.title.hasError("required")),t.xp6(4),t.Q6J("matDatepicker",e),t.xp6(3),t.Q6J("for",e),t.xp6(6),t.Q6J("readonly",!0),t.xp6(20),t.Q6J("disabled",n.showLoading||!n.movieFormGroup.valid),t.xp6(2),t.Q6J("showLoading",n.showLoading)}}let sS=(()=>{class r{constructor(e,n,o,u,p,y,I){this.sharedService=e,this.modalService=n,this.genreService=o,this.formBuilder=u,this.activeModal=p,this.snackbarService=y,this.movieService=I,this.showLoading=!1,this.matcher=new Qi}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(e=>{this.listGenres=e.Data}),this.movie.Id>0?this.getMovie():this.movie.ListItemGenres=[]}buildFormGroup(){this.movieFormGroup=this.formBuilder.group({title:new Ft.NI(this.movie.Title,[Ft.kI.required]),releaseDate:new Ft.NI(this.sharedService.formatDate(this.movie.ReleaseDate)),directors:new Ft.NI(this.movie.Directors),actors:new Ft.NI(this.movie.Actors),overview:new Ft.NI(this.movie.Overview),posterPath:new Ft.NI(this.movie.PosterPath),selectedGenres:new Ft.NI("")})}getMovie(){this.movieService.getMovie(this.movie.Id).then(e=>{this.movie=e.Data,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.movieFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.movie));e.Title=this.movieFormGroup.value.title,e.ReleaseDate=this.movieFormGroup.value.releaseDate,e.Directors=this.movieFormGroup.value.directors,e.Actors=this.movieFormGroup.value.actors,e.Overview=this.movieFormGroup.value.overview,this.movieService.saveItem(e).then(n=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el movie satisfactoriamente",Zn.Success),this.activeModal.close()},n=>{this.showLoading=!1,console.error(n)})}else this.movieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){return this.movie.ListItemGenres&&this.movie.ListItemGenres.length>0?this.movie.ListItemGenres.map(n=>n.GenreName).join(", "):""}showGenresSelectionModal(){var e=this,n=this.modalService.open(am,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});n.componentInstance.listAllGenres=this.listGenres,n.componentInstance.selection=new Li.Ov(!0,this.getMovieGenres()),n.closed.subscribe(o=>{e.setMovieGenres(o)})}getMovieGenres(){var e=this.movie.ListItemGenres.map(n=>n.GenreId);return this.listGenres.filter(n=>-1!=e.indexOf(n.Id))}setMovieGenres(e){var n=[];e.forEach(o=>{n.push({MovieId:this.movie.Id,GenreId:o.Id,GenreName:o.Name})}),this.movie.ListItemGenres=n,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Ot),t.Y36(Eo),t.Y36(is),t.Y36(Ft.qu),t.Y36(uo),t.Y36(Ar),t.Y36(Vu))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-movie-form"]],inputs:{movie:"movie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","releaseDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&t.YNc(0,jM,47,9,"ng-template",0),2&n&&t.Q6J("ngIf",null!=o.movie&&o.movieFormGroup)},dependencies:[Ft._Y,Ft.Fj,Ft.JJ,Ft.JL,Ft.sg,Ft.u,wo,g.O5,jr.Nt,pi.KE,pi.hX,pi.bx,pi.TO,pi.R9,nc.Mq,nc.hl,nc.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function lS(r,i){1&r&&(t.TgZ(0,"div",39),t._UZ(1,"mat-spinner"),t.qZA())}function VM(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"th",40)(1,"mat-checkbox",41),t.NdJ("change",function(o){t.CHM(e);const u=t.oxw();return t.KtG(o?u.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function cS(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"mat-checkbox",43),t.NdJ("click",function(o){const p=t.CHM(e).$implicit,y=t.oxw();return t.KtG(y.onChangeCheckValue(o,p))}),t.qZA()()}if(2&r){const e=i.$implicit,n=t.oxw();t.xp6(1),t.Q6J("checked",n.selection.isSelected(e))}}function GM(r,i){1&r&&(t.TgZ(0,"th",44),t._uU(1,"N\xb0"),t.qZA())}function dS(r,i){if(1&r&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&r){const e=i.index,n=t.oxw();t.xp6(1),t.hij(" ",n.getElementNumber(e,n.currentPage,n.itemsPerPage),"")}}function uS(r,i){1&r&&(t.TgZ(0,"th",46),t._uU(1,"T\xedtulo"),t.qZA())}function fS(r,i){if(1&r&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.Title," ")}}function sm(r,i){1&r&&(t.TgZ(0,"th",48),t._uU(1,"Fecha"),t.qZA())}function rd(r,i){if(1&r&&(t.TgZ(0,"td",49),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.ReleaseDate,"dd-MM-YYYY")," ")}}function lm(r,i){1&r&&(t.TgZ(0,"th",50),t._uU(1,"Actores"),t.qZA())}function Gu(r,i){if(1&r&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.Actors," ")}}function Nv(r,i){1&r&&(t.TgZ(0,"th",50),t._uU(1,"Directores"),t.qZA())}function od(r,i){if(1&r&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.Directors," ")}}function Lv(r,i){1&r&&t._UZ(0,"th",52)}function hS(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",53)(1,"div",54)(2,"button",55),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.editItem(u))}),t._UZ(3,"i",56),t.qZA(),t.TgZ(4,"button",57),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.deleteItem(u))}),t._UZ(5,"i",7),t.qZA()()()}}function ad(r,i){1&r&&t._UZ(0,"tr",58)}function mS(r,i){1&r&&t._UZ(0,"tr",59)}function pS(r,i){1&r&&(t.TgZ(0,"td",62),t._uU(1,"No se encontraron datos"),t.qZA())}function gS(r,i){if(1&r&&(t.TgZ(0,"tr",60),t.YNc(1,pS,2,0,"td",61),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const _S=function(r){return{disable:r}},cm=function(){return[5,10,25,100]};let ic=(()=>{class r extends Tr{constructor(e,n,o,u,p){super(o),this.modalService=e,this.dialog=n,this.matPaginatorIntl=o,this.snackbarService=u,this.movieService=p}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new Ov;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var n=this,o=this.modalService.open(sS,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.movie=e,o.closed.subscribe(u=>{n.getAllItems()})}getAllItems(){this.showLoading=!0,this.movieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var n=e.Data;this.totalCount=e.TotalCount,this.listItems=n,this.dataSource=new Cn.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var n=new vn.vA;n.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el movie "+e.Title+"?",accordMessage:"Si, eliminar el movie '"+e.Title+"'"},this.dialog.open(Ti,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.movieService.deleteItem(e.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Zn.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,Zn.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new vn.vA;e.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Ti,e).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.movieService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Zn.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Zn.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","ReleaseDate","Actors","Directors","Actions"]:window.innerWidth>875?["Select","Id","Title","ReleaseDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Title","ReleaseDate","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Eo),t.Y36(vn.uw),t.Y36(Kt.ye),t.Y36(Ar),t.Y36(Vu))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-movie-list"]],viewQuery:function(n,o){if(1&n&&(t.Gf(Kt.NW,5),t.Gf(Ci.YE,5)),2&n){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},features:[t.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","ReleaseDate"],["mat-header-cell","","mat-sort-header","","style","min-width:140px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","140px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",2,"max-width","120px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," Pel\xedculas"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(p){return o.applyFilter(p)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,lS,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,VM,2,2,"th",17),t.YNc(25,cS,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,GM,2,0,"th",20),t.YNc(28,dS,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,uS,2,0,"th",23),t.YNc(31,fS,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,sm,2,0,"th",26),t.YNc(34,rd,3,4,"td",27),t.BQk(),t.ynx(35,28),t.YNc(36,lm,2,0,"th",29),t.YNc(37,Gu,2,1,"td",30),t.BQk(),t.ynx(38,31),t.YNc(39,Nv,2,0,"th",29),t.YNc(40,od,2,1,"td",30),t.BQk(),t.ynx(41,32),t.YNc(42,Lv,1,0,"th",33),t.YNc(43,hS,6,0,"td",34),t.BQk(),t.YNc(44,ad,1,0,"tr",35),t.YNc(45,mS,1,0,"tr",36),t.YNc(46,gS,2,1,"tr",37),t.qZA()()()()(),t.TgZ(47,"div",1)(48,"div",9),t._UZ(49,"mat-paginator",38),t.qZA()()()()),2&n&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,_S,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,cm)))},dependencies:[g.mk,g.O5,Kt.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,jr.Nt,pi.KE,pi.hX,Ci.YE,Ci.nU,La.oG,_a.Ou,va.gM,g.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();class Hu{}let vS=(()=>{class r{constructor(e){this.restProvider=e}getTvSerie(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(Gt.GET,"/tvseries/GetAsync/"+e).then(u=>{n(u)},u=>{console.error(u),o(u)})})}getItems(e,n,o,u,p,y){return new Promise((I,G)=>{let ne=fo();this.lastCallGuid=ne;var Te="?page="+e.toString()+"&take="+n.toString()+"&sortBy="+o+"&sortDirection="+u+"&searchText="+p+"&searchBy="+y;this.restProvider.executeSinovadApiService(Gt.GET,"/tvseries/GetAllWithPaginationAsync"+Te).then(Ge=>{this.lastCallGuid==ne&&I(Ge)},Ge=>{console.error(Ge),G(Ge)})})}saveItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Gt.PUT:Gt.POST,e.Id>0?"/tvseries/Update":"/tvseries/Create",e).then(y=>{n(!0)},y=>{console.error(y),o(y)})})}deleteItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(Gt.DELETE,"/tvseries/Delete/"+e).then(p=>{n(p)},p=>{console.error(p),o(p)})})}deleteItems(e){return new Promise((n,o)=>{let u=[];for(let I=0;I<e.length;I++)u.push(e[I].Id);var p=u.join(",");this.restProvider.executeSinovadApiService(Gt.DELETE,"/tvseries/DeleteList/"+p).then(I=>{n(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function yS(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function bS(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,yS,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Primera fecha de emisi\xf3n"),t.qZA(),t._UZ(15,"input",9),t.TgZ(16,"mat-hint"),t._uU(17,"MM/DD/YYYY"),t.qZA(),t._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),t.qZA(),t.TgZ(21,"mat-form-field")(22,"mat-label"),t._uU(23,"\xdaltima fecha de emisi\xf3n"),t.qZA(),t._UZ(24,"input",12),t.TgZ(25,"mat-hint"),t._uU(26,"MM/DD/YYYY"),t.qZA(),t._UZ(27,"mat-datepicker-toggle",10)(28,"mat-datepicker",null,11),t.qZA(),t.TgZ(30,"mat-form-field")(31,"mat-label"),t._uU(32,"G\xe9neros"),t.qZA(),t.TgZ(33,"textarea",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showGenresSelectionModal())}),t.qZA()(),t.TgZ(34,"mat-form-field")(35,"mat-label"),t._uU(36,"Directores"),t.qZA(),t._UZ(37,"textarea",14),t.qZA(),t.TgZ(38,"mat-form-field")(39,"mat-label"),t._uU(40,"Actores"),t.qZA(),t._UZ(41,"textarea",15),t.qZA(),t.TgZ(42,"mat-form-field")(43,"mat-label"),t._uU(44,"Resumen"),t.qZA(),t._UZ(45,"textarea",16),t.qZA(),t.TgZ(46,"mat-form-field")(47,"mat-label"),t._uU(48,"Im\xe1gen"),t.qZA(),t._UZ(49,"textarea",17),t.qZA()(),t.TgZ(50,"div",18)(51,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(52,"Close"),t.qZA(),t.TgZ(53,"button",20),t._uU(54,"Guardar"),t.qZA()()(),t._UZ(55,"app-custom-spinner",21)}if(2&r){const e=t.MAs(20),n=t.oxw();t.Q6J("formGroup",n.tvserieFormGroup),t.xp6(3),t.Oqu(n.tvserie.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",n.matcher),t.xp6(1),t.Q6J("ngIf",n.tvserieFormGroup.controls.name.hasError("required")),t.xp6(4),t.Q6J("matDatepicker",e),t.xp6(3),t.Q6J("for",e),t.xp6(6),t.Q6J("matDatepicker",e),t.xp6(3),t.Q6J("for",e),t.xp6(6),t.Q6J("readonly",!0),t.xp6(20),t.Q6J("disabled",n.showLoading||!n.tvserieFormGroup.valid),t.xp6(2),t.Q6J("showLoading",n.showLoading)}}let dm=(()=>{class r{constructor(e,n,o,u,p,y,I){this.sharedService=e,this.modalService=n,this.genreService=o,this.formBuilder=u,this.activeModal=p,this.snackbarService=y,this.tvserieService=I,this.showLoading=!1,this.matcher=new Qi}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(e=>{this.listGenres=e.Data}),this.tvserie.Id>0?this.getTvSerie():this.tvserie.ListItemGenres=[]}buildFormGroup(){this.tvserieFormGroup=this.formBuilder.group({name:new Ft.NI(this.tvserie.Name,[Ft.kI.required]),firstAirDate:new Ft.NI(this.sharedService.formatDate(this.tvserie.FirstAirDate)),lastAirDate:new Ft.NI(this.sharedService.formatDate(this.tvserie.LastAirDate)),directors:new Ft.NI(this.tvserie.Directors),actors:new Ft.NI(this.tvserie.Actors),overview:new Ft.NI(this.tvserie.Overview),posterPath:new Ft.NI(this.tvserie.PosterPath),selectedGenres:new Ft.NI("")})}getTvSerie(){this.tvserieService.getTvSerie(this.tvserie.Id).then(e=>{this.tvserie=e.Data,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.tvserieFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.tvserie));e.Name=this.tvserieFormGroup.value.name,e.FirstAirDate=this.tvserieFormGroup.value.firstAirDate,e.LastAirDate=this.tvserieFormGroup.value.lastAirDate,e.Directors=this.tvserieFormGroup.value.directors,e.Actors=this.tvserieFormGroup.value.actors,e.Overview=this.tvserieFormGroup.value.overview,this.tvserieService.saveItem(e).then(n=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo la serie satisfactoriamente",Zn.Success),this.activeModal.close()},n=>{this.showLoading=!1,console.error(n)})}else this.tvserieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){return this.tvserie.ListItemGenres&&this.tvserie.ListItemGenres.length>0?this.tvserie.ListItemGenres.map(n=>n.GenreName).join(", "):""}showGenresSelectionModal(){var e=this,n=this.modalService.open(am,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});n.componentInstance.listAllGenres=this.listGenres,n.componentInstance.selection=new Li.Ov(!0,this.getTvSerieGenres()),n.closed.subscribe(o=>{e.setTvSerieGenres(o)})}getTvSerieGenres(){var e=this.tvserie.ListItemGenres.map(n=>n.GenreId);return this.listGenres.filter(n=>-1!=e.indexOf(n.Id))}setTvSerieGenres(e){var n=[];e.forEach(o=>{n.push({TvSerieId:this.tvserie.Id,GenreId:o.Id,GenreName:o.Name})}),this.tvserie.ListItemGenres=n,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Ot),t.Y36(Eo),t.Y36(is),t.Y36(Ft.qu),t.Y36(uo),t.Y36(Ar),t.Y36(vS))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-tvserie-form"]],inputs:{tvserie:"tvserie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","firstAirDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","lastAirDate",3,"matDatepicker"],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&t.YNc(0,bS,56,11,"ng-template",0),2&n&&t.Q6J("ngIf",null!=o.tvserie&&o.tvserieFormGroup)},dependencies:[Ft._Y,Ft.Fj,Ft.JJ,Ft.JL,Ft.sg,Ft.u,wo,g.O5,jr.Nt,pi.KE,pi.hX,pi.bx,pi.TO,pi.R9,nc.Mq,nc.hl,nc.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();class ES{}let um=(()=>{class r{constructor(e){this.restProvider=e}getItems(e,n,o,u,p,y,I){return new Promise((G,ne)=>{let Te=fo();this.lastCallGuid=Te;var Ve="?page="+n.toString()+"&take="+o.toString()+"&sortBy="+u+"&sortDirection="+p+"&searchText="+y+"&searchBy="+I;this.restProvider.executeSinovadApiService(Gt.GET,"/seasons/GetAllWithPaginationByTvSerieAsync/"+e+Ve).then(et=>{this.lastCallGuid==Te&&G(et)},et=>{console.error(et),ne(et)})})}saveItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Gt.PUT:Gt.POST,e.Id>0?"/seasons/Update":"/seasons/Create",e).then(y=>{n(!0)},y=>{console.error(y),o(y)})})}deleteItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(Gt.DELETE,"/seasons/Delete/"+e).then(p=>{n(p)},p=>{console.error(p),o(p)})})}deleteItems(e){return new Promise((n,o)=>{let u=[];for(let I=0;I<e.length;I++)u.push(e[I].Id);var p=u.join(",");this.restProvider.executeSinovadApiService(Gt.DELETE,"/seasons/DeleteList/"+p).then(I=>{n(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function TS(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function SS(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,TS,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"N\xfamero"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field")(17,"mat-label"),t._uU(18,"Resumen"),t.qZA(),t._UZ(19,"textarea",10),t.qZA()(),t.TgZ(20,"div",11)(21,"button",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(22,"Close"),t.qZA(),t.TgZ(23,"button",13),t._uU(24,"Guardar"),t.qZA()()(),t._UZ(25,"app-custom-spinner",14)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.seasonFormGroup),t.xp6(3),t.Oqu(e.season.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.seasonFormGroup.controls.name.hasError("required")),t.xp6(12),t.Q6J("disabled",e.showLoading||!e.seasonFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let kv=(()=>{class r{constructor(e,n,o,u){this.formBuilder=e,this.activeModal=n,this.snackbarService=o,this.seasonService=u,this.showLoading=!1,this.matcher=new Qi}ngAfterViewInit(){this.seasonFormGroup=this.formBuilder.group({name:new Ft.NI(this.season.Name,[Ft.kI.required]),seasonNumber:new Ft.NI(this.season.SeasonNumber),summary:new Ft.NI(this.season.Summary)})}saveItem(){if(this.seasonFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.season));e.SeasonNumber=this.seasonFormGroup.value.seasonNumber,e.Name=this.seasonFormGroup.value.name,e.Summary=this.seasonFormGroup.value.summary,this.seasonService.saveItem(e).then(n=>{this.showLoading=!1,this.season=void 0,this.snackbarService.showSnackBar("Se guardo la temporada satisfactoriamente satisfactoriamente",Zn.Success),this.activeModal.close()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,Zn.Error)})}else this.seasonFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Ft.qu),t.Y36(uo),t.Y36(Ar),t.Y36(um))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-season-form"]],inputs:{season:"season"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","seasonNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&t.YNc(0,SS,26,6,"ng-template",0),2&n&&t.Q6J("ngIf",null!=o.season&&o.seasonFormGroup)},dependencies:[Ft._Y,Ft.Fj,Ft.wV,Ft.JJ,Ft.JL,Ft.sg,Ft.u,wo,g.O5,jr.Nt,pi.KE,pi.hX,pi.TO],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return r})();class fm{}let Yu=(()=>{class r{constructor(e){this.restProvider=e}getItems(e,n,o,u,p,y,I){return new Promise((G,ne)=>{let Te=fo();this.lastCallGuid=Te;var Ve="?page="+n.toString()+"&take="+o.toString()+"&sortBy="+u+"&sortDirection="+p+"&searchText="+y+"&searchBy="+I;this.restProvider.executeSinovadApiService(Gt.GET,"/episodes/GetAllWithPaginationBySeasonAsync/"+e+Ve).then(et=>{this.lastCallGuid==Te&&G(et)},et=>{console.error(et),ne(et)})})}saveItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Gt.PUT:Gt.POST,e.Id>0?"/episodes/Update":"/episodes/Create",e).then(y=>{n(!0)},y=>{console.error(y),o(y)})})}createList(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(Gt.POST,"/episodes/CreateList",e).then(u=>{n(!0)},u=>{console.error(u),o(u)})})}deleteItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(Gt.DELETE,"/episodes/Delete/"+e).then(p=>{n(p)},p=>{console.error(p),o(p)})})}deleteItems(e){return new Promise((n,o)=>{let u=[];for(let I=0;I<e.length;I++)u.push(e[I].Id);var p=u.join(",");this.restProvider.executeSinovadApiService(Gt.DELETE,"/episodes/DeleteList/"+p).then(I=>{n(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function CS(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," T\xcdtulo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function DS(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"T\xcdtulo"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,CS,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"N\xfamero"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field")(17,"mat-label"),t._uU(18,"Resumen"),t.qZA(),t._UZ(19,"textarea",10),t.qZA()(),t.TgZ(20,"div",11)(21,"button",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(22,"Close"),t.qZA(),t.TgZ(23,"button",13),t._uU(24,"Guardar"),t.qZA()()(),t._UZ(25,"app-custom-spinner",14)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.episodeFormGroup),t.xp6(3),t.Oqu(e.episode.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.episodeFormGroup.controls.title.hasError("required")),t.xp6(12),t.Q6J("disabled",e.showLoading||!e.episodeFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let xS=(()=>{class r{constructor(e,n,o,u){this.formBuilder=e,this.activeModal=n,this.snackbarService=o,this.episodeService=u,this.showLoading=!1,this.matcher=new Qi}ngAfterViewInit(){this.episodeFormGroup=this.formBuilder.group({title:new Ft.NI(this.episode.Title,[Ft.kI.required]),episodeNumber:new Ft.NI(this.episode.EpisodeNumber),summary:new Ft.NI(this.episode.Summary)})}saveItem(){if(this.episodeFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.episode));e.EpisodeNumber=this.episodeFormGroup.value.episodeNumber,e.Title=this.episodeFormGroup.value.title,e.Summary=this.episodeFormGroup.value.summary,this.episodeService.saveItem(e).then(n=>{this.showLoading=!1,this.episode=void 0,this.snackbarService.showSnackBar("Se guardo el episodio satisfactoriamente satisfactoriamente",Zn.Success),this.activeModal.close()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,Zn.Error)})}else this.episodeFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Ft.qu),t.Y36(uo),t.Y36(Ar),t.Y36(Yu))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-form"]],inputs:{episode:"episode"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","episodeNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&t.YNc(0,DS,26,6,"ng-template",0),2&n&&t.Q6J("ngIf",null!=o.episode&&o.episodeFormGroup)},dependencies:[Ft._Y,Ft.Fj,Ft.wV,Ft.JJ,Ft.JL,Ft.sg,Ft.u,wo,g.O5,jr.Nt,pi.KE,pi.hX,pi.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function Fv(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," El campo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function hm(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," El campo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function mm(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.save())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3,"Rango de Episodios"),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Desde"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,Fv,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Hasta"),t.qZA(),t._UZ(15,"input",9),t.YNc(16,hm,4,0,"mat-error",8),t.qZA()(),t.TgZ(17,"div",10)(18,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(19,"Close"),t.qZA(),t.TgZ(20,"button",12),t._uU(21,"Guardar"),t.qZA()(),t._UZ(22,"app-custom-spinner",13),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.formGroup),t.xp6(11),t.Q6J("ngIf",e.formGroup.controls.initialEpisodeNumber.hasError("required")),t.xp6(5),t.Q6J("ngIf",e.formGroup.controls.lastEpisodeNumber.hasError("required")),t.xp6(4),t.Q6J("disabled",e.showLoading||!e.formGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let MS=(()=>{class r{constructor(e,n,o){this.formBuilder=e,this.episodeService=n,this.activeModal=o,this.matcher=new Qi,this.showLoading=!1}ngAfterViewInit(){this.formGroup=this.formBuilder.group({initialEpisodeNumber:new Ft.NI("",[Ft.kI.required]),lastEpisodeNumber:new Ft.NI("",[Ft.kI.required])})}save(){if(this.formGroup.valid){this.showLoading=!0;let n=[];for(let o=Number(this.formGroup.value.initialEpisodeNumber);o<=Number(this.formGroup.value.lastEpisodeNumber);o++){var e=new fm;e.EpisodeNumber=o,e.SeasonId=this.parent.Id,e.Title="Episodio "+o,n.push(e)}this.episodeService.createList(n).then(o=>{this.showLoading=!1,this.activeModal.close(!0)},o=>{this.showLoading=!1,console.error(o)})}else this.formGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Ft.qu),t.Y36(Yu),t.Y36(uo))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-range-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["type","number","matInput","","formControlName","initialEpisodeNumber"],[4,"ngIf"],["type","number","matInput","","formControlName","lastEpisodeNumber"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&t.YNc(0,mm,23,5,"form",0),2&n&&t.Q6J("ngIf",o.formGroup)},dependencies:[Ft._Y,Ft.Fj,Ft.wV,Ft.JJ,Ft.JL,Ft.sg,Ft.u,wo,g.O5,jr.Nt,pi.KE,pi.hX,pi.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function Ku(r,i){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function Wu(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const u=t.oxw();return t.KtG(o?u.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function pm(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const p=t.CHM(e).$implicit,y=t.oxw();return t.KtG(y.onChangeCheckValue(o,p))}),t.qZA()()}if(2&r){const e=i.$implicit,n=t.oxw();t.xp6(1),t.Q6J("checked",n.selection.isSelected(e))}}function Bv(r,i){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function AS(r,i){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.EpisodeNumber,"")}}function wS(r,i){1&r&&(t.TgZ(0,"th",39),t._uU(1,"T\xcdtulo"),t.qZA())}function IS(r,i){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.Title," ")}}function zu(r,i){1&r&&t._UZ(0,"th",41)}function Zu(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.editItem(u))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.deleteItem(u))}),t._UZ(5,"i",7),t.qZA()()()}}function gm(r,i){1&r&&t._UZ(0,"tr",47)}function Uv(r,i){1&r&&t._UZ(0,"tr",48)}function OS(r,i){1&r&&(t.TgZ(0,"td",51),t._uU(1,"No se encontraron datos"),t.qZA())}function PS(r,i){if(1&r&&(t.TgZ(0,"tr",49),t.YNc(1,OS,2,0,"td",50),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const jv=function(r){return{disable:r}},_m=function(){return[5,10,25,100]};let Vv=(()=>{class r extends Tr{constructor(e,n,o,u,p){super(u),this.modalService=e,this.dialog=n,this.episodeService=o,this.matPaginatorIntl=u,this.snackbarService=p}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="EpisodeNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"EpisodeNumber",start:"asc",disableClear:!0}),this.searchBy="EpisodeNumber|Title",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new fm;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var n=this,o=this.modalService.open(xS,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.episode=e,o.closed.subscribe(u=>{n.getAllItems()})}getAllItems(){this.showLoading=!0,this.episodeService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var n=e.Data;this.totalCount=e.TotalCount,this.listItems=n,this.dataSource=new Cn.by(n),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var n=new vn.vA;n.data={title:"Eliminar Episodio",message:"\xbfEsta seguro que desea eliminar el episodio "+e.Title+"?",accordMessage:"Si, eliminar el episodio '"+e.Title+"'"},this.dialog.open(Ti,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.episodeService.deleteItem(e.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Zn.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,Zn.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new vn.vA;e.data={title:"Eliminar episodios",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Ti,e).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.episodeService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Zn.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Zn.Error)})}getDisplayedColumns(){return["Select","EpisodeNumber","Title","Actions"]}showEpisodeRangeModal(){var e=this,n=this.modalService.open(MS,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});n.componentInstance.parent=this.parentItem,n.closed.subscribe(o=>{e.getAllItems()})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Eo),t.Y36(vn.uw),t.Y36(Yu),t.Y36(Kt.ye),t.Y36(Ar))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-list"]],viewQuery:function(n,o){if(1&n&&(t.Gf(Kt.NW,5),t.Gf(Ci.YE,5)),2&n){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},inputs:{parentItem:"parentItem"},features:[t.qOj],decls:42,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],["type","button",1,"custom-toolbar-button",3,"click"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","EpisodeNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){return o.showEpisodeRangeModal()}),t._uU(12," Agregar por Rango "),t.qZA()()(),t.TgZ(13,"div",1)(14,"div",9)(15,"mat-form-field")(16,"mat-label"),t._uU(17,"Buscar"),t.qZA(),t.TgZ(18,"input",10,11),t.NdJ("keyup",function(p){return o.applyFilter(p)}),t.qZA()(),t.TgZ(20,"div",12),t.YNc(21,Ku,2,0,"div",13),t.TgZ(22,"div",14)(23,"table",15),t.ynx(24,16),t.YNc(25,Wu,2,2,"th",17),t.YNc(26,pm,2,1,"td",18),t.BQk(),t.ynx(27,19),t.YNc(28,Bv,2,0,"th",20),t.YNc(29,AS,2,1,"td",21),t.BQk(),t.ynx(30,22),t.YNc(31,wS,2,0,"th",23),t.YNc(32,IS,2,1,"td",24),t.BQk(),t.ynx(33,25),t.YNc(34,zu,1,0,"th",26),t.YNc(35,Zu,6,0,"td",27),t.BQk(),t.YNc(36,gm,1,0,"tr",28),t.YNc(37,Uv,1,0,"tr",29),t.YNc(38,PS,2,1,"tr",30),t.qZA()()()()(),t.TgZ(39,"div",1)(40,"div",9),t._UZ(41,"mat-paginator",31),t.qZA()()()()),2&n&&(t.xp6(3),t.hij("",o.parentItem.Name," :Episodios"),t.xp6(6),t.Q6J("ngClass",t.VKq(8,jv,!o.selection.hasValue())),t.xp6(12),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(10,_m)))},dependencies:[g.mk,g.O5,Kt.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,jr.Nt,pi.KE,pi.hX,Ci.YE,Ci.nU,La.oG,_a.Ou,va.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return r})();function vm(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h5",2),t._uU(2),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(4,"i",4),t.qZA()(),t.TgZ(5,"div",5),t._UZ(6,"app-episode-list",6),t.qZA(),t.TgZ(7,"div",7)(8,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(9,"Close"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.parent.Name," :Episodios"),t.xp6(4),t.Q6J("parentItem",e.parent)}}let ym=(()=>{class r{constructor(e){this.activeModal=e}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(uo))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(n,o){1&n&&t.YNc(0,vm,10,2,"ng-template",0),2&n&&t.Q6J("ngIf",null!=o.parent)},dependencies:[g.O5,Vv]})}return r})();function RS(r,i){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function Gv(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const u=t.oxw();return t.KtG(o?u.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function Hv(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const p=t.CHM(e).$implicit,y=t.oxw();return t.KtG(y.onChangeCheckValue(o,p))}),t.qZA()()}if(2&r){const e=i.$implicit,n=t.oxw();t.xp6(1),t.Q6J("checked",n.selection.isSelected(e))}}function Yv(r,i){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function Kv(r,i){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.SeasonNumber,"")}}function NS(r,i){1&r&&(t.TgZ(0,"th",39),t._uU(1,"Nombre"),t.qZA())}function Wv(r,i){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function zv(r,i){1&r&&t._UZ(0,"th",41)}function bm(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.showEpisodeListModal(u))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.editItem(u))}),t._UZ(5,"i",47),t.qZA(),t.TgZ(6,"button",48),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.deleteItem(u))}),t._UZ(7,"i",7),t.qZA()()()}}function $u(r,i){1&r&&t._UZ(0,"tr",49)}function Em(r,i){1&r&&t._UZ(0,"tr",50)}function Zv(r,i){1&r&&(t.TgZ(0,"td",53),t._uU(1,"No se encontraron datos"),t.qZA())}function $v(r,i){if(1&r&&(t.TgZ(0,"tr",51),t.YNc(1,Zv,2,0,"td",52),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const qv=function(r){return{disable:r}},Jv=function(){return[5,10,25,100]};let Qv=(()=>{class r extends Tr{constructor(e,n,o,u,p){super(u),this.modalService=e,this.dialog=n,this.seasonService=o,this.matPaginatorIntl=u,this.snackbarService=p}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="SeasonNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"SeasonNumber",start:"asc",disableClear:!0}),this.searchBy="SeasonNumber",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new ES;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var n=this,o=this.modalService.open(kv,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.season=e,o.closed.subscribe(u=>{n.getAllItems()})}getAllItems(){this.showLoading=!0,this.seasonService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var n=e.Data;this.totalCount=e.TotalCount,this.listItems=n,this.dataSource=new Cn.by(n),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var n=new vn.vA;n.data={title:"Eliminar Temporada",message:"\xbfEsta seguro que desea eliminar la temporada "+e.Name+"?",accordMessage:"Si, eliminar la temporada '"+e.Name+"'"},this.dialog.open(Ti,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.seasonService.deleteItem(e.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Zn.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,Zn.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new vn.vA;e.data={title:"Eliminar seasons",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Ti,e).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.seasonService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Zn.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Zn.Error)})}getDisplayedColumns(){return["Select","SeasonNumber","Name","Actions"]}showEpisodeListModal(e){var o=this.modalService.open(ym,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});o.componentInstance.parent=e,o.closed.subscribe(u=>{})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Eo),t.Y36(vn.uw),t.Y36(um),t.Y36(Kt.ye),t.Y36(Ar))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-season-list"]],viewQuery:function(n,o){if(1&n&&(t.Gf(Kt.NW,5),t.Gf(Ci.YE,5)),2&n){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},inputs:{parentItem:"parentItem"},features:[t.qOj],decls:41,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","SeasonNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver episodios",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(p){return o.applyFilter(p)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,RS,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,Gv,2,2,"th",17),t.YNc(25,Hv,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,Yv,2,0,"th",20),t.YNc(28,Kv,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,NS,2,0,"th",23),t.YNc(31,Wv,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,zv,1,0,"th",26),t.YNc(34,bm,8,0,"td",27),t.BQk(),t.YNc(35,$u,1,0,"tr",28),t.YNc(36,Em,1,0,"tr",29),t.YNc(37,$v,2,1,"tr",30),t.qZA()()()()(),t.TgZ(38,"div",1)(39,"div",9),t._UZ(40,"mat-paginator",31),t.qZA()()()()),2&n&&(t.xp6(3),t.hij("",o.parentItem.Name," :Temporadas"),t.xp6(6),t.Q6J("ngClass",t.VKq(8,qv,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(10,Jv)))},dependencies:[g.mk,g.O5,Kt.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,jr.Nt,pi.KE,pi.hX,Ci.YE,Ci.nU,La.oG,_a.Ou,va.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return r})();function Xv(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h5",2),t._uU(2),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(4,"i",4),t.qZA()(),t.TgZ(5,"div",5),t._UZ(6,"app-season-list",6),t.qZA(),t.TgZ(7,"div",7)(8,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(9,"Close"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.parent.Name," :Temporadas"),t.xp6(4),t.Q6J("parentItem",e.parent)}}let ey=(()=>{class r{constructor(e){this.activeModal=e}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(uo))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-season-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(n,o){1&n&&t.YNc(0,Xv,10,2,"ng-template",0),2&n&&t.Q6J("ngIf",null!=o.parent)},dependencies:[g.O5,Qv]})}return r})();function qu(r,i){1&r&&(t.TgZ(0,"div",40),t._UZ(1,"mat-spinner"),t.qZA())}function Ss(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"th",41)(1,"mat-checkbox",42),t.NdJ("change",function(o){t.CHM(e);const u=t.oxw();return t.KtG(o?u.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function LS(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",43)(1,"mat-checkbox",44),t.NdJ("click",function(o){const p=t.CHM(e).$implicit,y=t.oxw();return t.KtG(y.onChangeCheckValue(o,p))}),t.qZA()()}if(2&r){const e=i.$implicit,n=t.oxw();t.xp6(1),t.Q6J("checked",n.selection.isSelected(e))}}function kS(r,i){1&r&&(t.TgZ(0,"th",45),t._uU(1,"N\xb0"),t.qZA())}function Tm(r,i){if(1&r&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&r){const e=i.index,n=t.oxw();t.xp6(1),t.hij(" ",n.getElementNumber(e,n.currentPage,n.itemsPerPage),"")}}function $s(r,i){1&r&&(t.TgZ(0,"th",47),t._uU(1,"Nombre"),t.qZA())}function Sm(r,i){if(1&r&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function FS(r,i){1&r&&(t.TgZ(0,"th",49),t._uU(1,"Primera emisi\xf3n"),t.qZA())}function Cm(r,i){if(1&r&&(t.TgZ(0,"td",50),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.FirstAirDate,"dd-MM-YYYY")," ")}}function HM(r,i){1&r&&(t.TgZ(0,"th",49),t._uU(1,"\xdaltima emisi\xf3n"),t.qZA())}function YM(r,i){if(1&r&&(t.TgZ(0,"td",50),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.LastAirDate,"dd-MM-YYYY")," ")}}function BS(r,i){1&r&&(t.TgZ(0,"th",51),t._uU(1,"Actores"),t.qZA())}function US(r,i){if(1&r&&(t.TgZ(0,"td",52,53),t._uU(2),t.qZA()),2&r){const e=i.$implicit,n=t.MAs(1);t.Udp("cursor",n.offsetWidth<n.scrollWidth?"pointer":""),t.s9C("matTooltip",n.offsetWidth<n.scrollWidth?e.Actors:""),t.xp6(2),t.Oqu(e.Actors)}}function ty(r,i){1&r&&(t.TgZ(0,"th",51),t._uU(1,"Directores"),t.qZA())}function jS(r,i){if(1&r&&(t.TgZ(0,"td",52,53),t._uU(2),t.qZA()),2&r){const e=i.$implicit,n=t.MAs(1);t.Udp("cursor",n.offsetWidth<n.scrollWidth?"pointer":""),t.s9C("matTooltip",n.offsetWidth<n.scrollWidth?e.Directors:""),t.xp6(2),t.hij(" ",e.Directors," ")}}function Vr(r,i){1&r&&t._UZ(0,"th",54)}function ny(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",55)(1,"div",56)(2,"button",57),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.showSeasonListModal(u))}),t._UZ(3,"i",58),t.qZA(),t.TgZ(4,"button",59),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.editItem(u))}),t._UZ(5,"i",60),t.qZA(),t.TgZ(6,"button",61),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.deleteItem(u))}),t._UZ(7,"i",7),t.qZA()()()}}function VS(r,i){1&r&&t._UZ(0,"tr",62)}function GS(r,i){1&r&&t._UZ(0,"tr",63)}function iy(r,i){1&r&&(t.TgZ(0,"td",66),t._uU(1,"No se encontraron datos"),t.qZA())}function HS(r,i){if(1&r&&(t.TgZ(0,"tr",64),t.YNc(1,iy,2,0,"td",65),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const ry=function(r){return{disable:r}},oy=function(){return[5,10,25,100]};let Cs=(()=>{class r extends Tr{constructor(e,n,o,u,p){super(o),this.modalService=e,this.dialog=n,this.matPaginatorIntl=o,this.snackbarService=u,this.tvserieService=p}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new Hu;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var n=this,o=this.modalService.open(dm,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.tvserie=e,o.closed.subscribe(u=>{n.getAllItems()})}getAllItems(){this.showLoading=!0,this.tvserieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var n=e.Data;this.totalCount=e.TotalCount,this.listItems=n,this.dataSource=new Cn.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var n=new vn.vA;n.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar la serie "+e.Name+"?",accordMessage:"Si, eliminar la serie '"+e.Name+"'"},this.dialog.open(Ti,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.tvserieService.deleteItem(e.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Zn.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,Zn.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new vn.vA;e.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Ti,e).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.tvserieService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Zn.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Zn.Error)})}getDisplayedColumns(){return window.innerWidth>1100?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Directors","Actions"]:window.innerWidth>975?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Actions"]:window.innerWidth>875?["Select","Id","Name","FirstAirDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Name","FirstAirDate","Actions"]:["Select","Id","Name","Actions"]}showSeasonListModal(e){var o=this.modalService.open(ey,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});o.componentInstance.parent=e,o.closed.subscribe(u=>{})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Eo),t.Y36(vn.uw),t.Y36(Kt.ye),t.Y36(Ar),t.Y36(vS))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-tvserie-list"]],viewQuery:function(n,o){if(1&n&&(t.Gf(Kt.NW,5),t.Gf(Ci.YE,5)),2&n){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},features:[t.qOj],decls:53,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","FirstAirDate"],["mat-header-cell","","mat-sort-header","","style","min-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","LastAirDate"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","class","text-truncate","style","max-width:120px;text-align: left;cursor: pointer;",3,"cursor","matTooltip",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","120px","text-align","left"],["mat-cell","",2,"min-width","120px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",1,"text-truncate",2,"max-width","120px","text-align","left","cursor","pointer",3,"matTooltip"],["cell",""],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver temporadas",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"Series"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(p){return o.applyFilter(p)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,qu,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,Ss,2,2,"th",17),t.YNc(25,LS,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,kS,2,0,"th",20),t.YNc(28,Tm,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,$s,2,0,"th",23),t.YNc(31,Sm,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,FS,2,0,"th",26),t.YNc(34,Cm,3,4,"td",27),t.BQk(),t.ynx(35,28),t.YNc(36,HM,2,0,"th",26),t.YNc(37,YM,3,4,"td",27),t.BQk(),t.ynx(38,29),t.YNc(39,BS,2,0,"th",30),t.YNc(40,US,3,4,"td",31),t.BQk(),t.ynx(41,32),t.YNc(42,ty,2,0,"th",30),t.YNc(43,jS,3,4,"td",31),t.BQk(),t.ynx(44,33),t.YNc(45,Vr,1,0,"th",34),t.YNc(46,ny,8,0,"td",35),t.BQk(),t.YNc(47,VS,1,0,"tr",36),t.YNc(48,GS,1,0,"tr",37),t.YNc(49,HS,2,1,"tr",38),t.qZA()()()()(),t.TgZ(50,"div",1)(51,"div",9),t._UZ(52,"mat-paginator",39),t.qZA()()()()),2&n&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,ry,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,oy)))},dependencies:[g.mk,g.O5,Kt.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,jr.Nt,pi.KE,pi.hX,Ci.YE,Ci.nU,La.oG,_a.Ou,va.gM,g.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();class YS{}function KS(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function ay(r,i){if(1&r&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.Q6J("value",e.Id),t.xp6(1),t.hij(" ",e.Name," ")}}function WS(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Tipo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function sy(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Directorio es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function KM(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveStorage())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,KS,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Tipo"),t.qZA(),t.TgZ(15,"mat-select",9)(16,"mat-option",10),t._uU(17,"--"),t.qZA(),t.YNc(18,ay,2,2,"mat-option",11),t.qZA(),t.YNc(19,WS,4,0,"mat-error",8),t.qZA(),t.TgZ(20,"mat-form-field")(21,"mat-label"),t._uU(22,"Directorio"),t.qZA(),t.TgZ(23,"input",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showChooserDirectoryModal())}),t.qZA(),t.YNc(24,sy,4,0,"mat-error",8),t.qZA()(),t.TgZ(25,"div",13)(26,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(27,"Close"),t.qZA(),t.TgZ(28,"button",15),t._uU(29,"Guardar"),t.qZA()()(),t._UZ(30,"app-custom-spinner",16)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.libraryFormGroup),t.xp6(3),t.Oqu(e.library.Id>0?"Editar Almacenamiento":"Nuevo Almacenamiento"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.libraryFormGroup.controls.name.hasError("required")),t.xp6(5),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",e.mediaTypes),t.xp6(1),t.Q6J("ngIf",e.libraryFormGroup.controls.mediaType.hasError("required")),t.xp6(4),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.libraryFormGroup.controls.physicalPath.hasError("required")),t.xp6(4),t.Q6J("disabled",e.showLoading||!e.libraryFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let Dm=(()=>{class r{constructor(e,n,o,u,p){this.sharedService=e,this.libraryService=n,this.activeModal=o,this.formBuilder=u,this.modalService=p,this.showLoading=!1,this.matcher=new Qi,this.mediaTypes=[{Id:1,Name:"Movies"},{Id:2,Name:"Tv Series"}]}ngOnInit(){this.libraryFormGroup=this.formBuilder.group({name:new Ft.NI(this.library.Name,[Ft.kI.required]),mediaType:new Ft.NI(this.library.MediaTypeCatalogDetailId,[Ft.kI.required]),physicalPath:new Ft.NI(this.library.PhysicalPath,[Ft.kI.required])})}saveStorage(){if(this.libraryFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.library));e.Name=this.libraryFormGroup.value.name,e.MediaTypeCatalogDetailId=Number(this.libraryFormGroup.value.mediaType),e.MediaTypeCatalogId=at.MediaType,e.PhysicalPath=this.libraryFormGroup.value.physicalPath,e.MediaServerId=this.sharedService.selectedMediaServer.Id,this.libraryService.saveItem(this.mediaServer.Url,e).then(n=>{this.showLoading=!1,this.activeModal.close()},n=>{this.showLoading=!1,console.error(n)})}else this.libraryFormGroup.markAllAsTouched()}showChooserDirectoryModal(){var e=this,n=this.modalService.open(qc,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});n.componentInstance.mediaServer=this.sharedService.selectedMediaServer,n.closed.subscribe(o=>{e.libraryFormGroup.controls.physicalPath.setValue(o)})}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Ot),t.Y36(ra),t.Y36(uo),t.Y36(Ft.qu),t.Y36(Eo))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-library-form"]],inputs:{mediaServer:"mediaServer",library:"library"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","mediaType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","physicalPath","readonly","",2,"cursor","pointer",3,"errorStateMatcher","click"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&t.YNc(0,KM,31,11,"ng-template",0),2&n&&t.Q6J("ngIf",null!=o.library&&o.libraryFormGroup)},dependencies:[Ft._Y,Ft.Fj,Ft.JJ,Ft.JL,Ft.sg,Ft.u,wo,g.sg,g.O5,jr.Nt,pi.KE,pi.hX,pi.TO,tm.ey,nm.gD],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function xm(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.onSelectItem(u))}),t._UZ(1,"i"),t.TgZ(2,"span"),t._uU(3),t.qZA()()}if(2&r){const e=i.$implicit;t.xp6(1),t.Gre("",e.iconClass," me-2"),t.xp6(2),t.Oqu(e.title)}}function Ua(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t.NdJ("clickOutside",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickOutside())}),t.TgZ(2,"div",3),t.YNc(3,xm,4,4,"ng-template",4),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Udp("top",e.top+"px")("right",e.right+"px"),t.xp6(2),t.Q6J("ngForOf",e.options.listItems)}}let zS=(()=>{class r{constructor(e){this.ref=e,this.hide=new t.vpe,this.selectOption=new t.vpe,this.showMenu=!1}ngAfterViewInit(){setTimeout(()=>{this.showMenu=!0,this.ref.detectChanges()},100)}onClickOutside(){this.hide.emit(!0)}onSelectItem(e){this.selectOption.emit(e)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(t.sBO))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-menu"]],inputs:{options:"options",right:"right",top:"top"},outputs:{hide:"hide",selectOption:"selectOption"},decls:1,vars:1,consts:[["class","custom-actions-menu-container",4,"ngIf"],[1,"custom-actions-menu-container"],[1,"custom-actions-menu-content",3,"clickOutside"],[1,"custom-actions-menu-scroller"],["ngFor","",3,"ngForOf"],[1,"menu-item",3,"click"]],template:function(n,o){1&n&&t.YNc(0,Ua,4,5,"div",0),2&n&&t.Q6J("ngIf",o.showMenu)},dependencies:[g.sg,g.O5,Wl],styles:[".custom-actions-menu-container[_ngcontent-%COMP%]{position:absolute;inset:0 auto 0 0;margin:0;z-index:1014;width:100%;height:100%}.custom-actions-menu-content[_ngcontent-%COMP%]{background-color:#191a1c;border-radius:4px;box-shadow:0 4px 10px #00000059;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:8px 0;transform-origin:center top;transition:background .15s ease-out;position:absolute}.custom-actions-menu-scroller[_ngcontent-%COMP%]{overflow-y:auto;max-height:600px;padding-right:0;overflow-x:hidden}button.menu-item[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;word-wrap:break-word;display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:4px 20px;text-align:left;width:100%}button.menu-item[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}"]})}return r})(),ya=(()=>{class r{constructor(e,n,o){this.factoryResolver=e,this.injector=n,this.applicationRef=o}show(e){return new Promise((n,o)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const p=this.factoryResolver.resolveComponentFactory(zS).create(this.injector);this.lastViewRef=p.hostView,this.applicationRef.attachView(p.hostView);let y=this;const I=e.target.getBoundingClientRect();var G=window.innerWidth-I.right,ne=I.top+I.height;p.instance.options=e,p.instance.right=G,p.instance.top=ne,p.instance.selectOption.subscribe(Ge=>{Ge.eventOnSelectItem&&Ge.eventOnSelectItem.emit(!0),p.destroy(),y.applicationRef.detachView(p.hostView),n(Ge)}),p.instance.hide.subscribe(Ge=>{p.destroy(),y.applicationRef.detachView(p.hostView),o(!0)});const Te=p.hostView.rootNodes[0];document.getElementById(e.containerId).appendChild(Te)})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function ba(r,i){1&r&&t._UZ(0,"i",16)}function ly(r,i){1&r&&t._UZ(0,"i",17)}const cy=function(r){return{selected:r}};function $S(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t.YNc(3,ba,1,0,"i",9),t.YNc(4,ly,1,0,"i",10),t.qZA(),t.TgZ(5,"a"),t._uU(6),t.qZA(),t.TgZ(7,"div",11)(8,"div",12)(9,"button",13),t.NdJ("click",function(o){const p=t.CHM(e).$implicit,y=t.oxw(2);return t.KtG(y.showActions(o,p))}),t.TgZ(10,"span",14),t._UZ(11,"i",15),t.qZA()()()()()()}if(2&r){const e=i.$implicit,n=t.oxw(2);t.Q6J("ngClass",t.VKq(4,cy,n.currentLibrary&&n.currentLibrary.Id==e.Id)),t.xp6(3),t.Q6J("ngIf",1==e.MediaTypeCatalogDetailId),t.xp6(1),t.Q6J("ngIf",2==e.MediaTypeCatalogDetailId),t.xp6(2),t.Oqu(e.Name)}}function qS(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"div",3),t._uU(5),t.qZA(),t.TgZ(6,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openNewLibrary())}),t._uU(7,"A\xf1adir biblioteca"),t.qZA(),t.TgZ(8,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.updateVideoInAllLibraries())}),t._uU(9,"Buscar archivos en biblioteca"),t.qZA()(),t.YNc(10,$S,12,6,"ng-template",5),t.qZA()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName," - Bibliotecas"),t.xp6(3),t.hij("",e.listLibraries?e.listLibraries.length:""," bibliotecas"),t.xp6(5),t.Q6J("ngForOf",e.listLibraries)}}let dy=(()=>{class r{constructor(e,n,o,u,p,y,I,G,ne){this.customMenuService=e,this.modalService=n,this.libraryService=o,this.mediaServerService=u,this.dialog=p,this.snackBarService=y,this.router=I,this.activeRoute=G,this.sharedService=ne}ngOnInit(){this.getMediaServerData()}getMediaServerData(){var e=this;return jh(function*(){e.mediaServerService.getMediaServerByGuid(e.activeRoute.snapshot.params.serverGuid).then(o=>{var u=o.Data,p=e.sharedService.mediaServers.find(y=>y.Id==u.Id);u.isSecureConnection=p.isSecureConnection,e.sharedService.selectedMediaServer=u,e.mediaServer=u,e.getAllItems()},o=>{e.router.navigateByUrl("/404")})})()}getAllItems(){this.libraryService.getLibrariesByMediaServer(this.mediaServer.Url).then(e=>{this.listLibraries=e},e=>{})}openNewLibrary(){let e=new YS;e.MediaServerId=this.sharedService.selectedMediaServer.Id,this.showModalForm(e)}editLibrary(e){this.showModalForm(JSON.parse(JSON.stringify(e)))}showModalForm(e){var n=this,o=this.modalService.open(Dm,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.library=e,o.componentInstance.mediaServer=this.mediaServer,o.closed.subscribe(u=>{n.getAllItems()})}deleteLibrary(e){var n=new vn.vA;n.data={title:"Eliminar biblioteca",message:"La biblioteca '"+e.Name+"' ser\xe1 eliminada de este servidor. Tus archivos multimedia no se ver\xe1n afectados. Esto no se puede deshacer. \xbfContinuar?",accordMessage:"Si, eliminar la biblioteca '"+e.Name+"'"},this.dialog.open(Ti,n).afterClosed().subscribe(o=>{o&&this.executeDeleteLibrary(e)})}executeDeleteLibrary(e){this.libraryService.deleteItem(this.mediaServer.Url,e.Id).then(n=>{this.snackBarService.showSnackBar("Se elimin\xf3 la biblioteca satisfactoriamente",Zn.Success),this.getAllItems()},n=>{console.error(n),this.snackBarService.showSnackBar(n,Zn.Error)})}showActions(e,n){this.currentLibrary=n;var o=JSON.parse(JSON.stringify(n)),u=e.currentTarget,p=[],y=new t.vpe;y.subscribe(ne=>{this.editLibrary(o)}),p.push({title:"Editar biblioteca",iconClass:"fa-solid fa-pen-to-square",eventOnSelectItem:y});var I=new t.vpe;I.subscribe(ne=>{this.updateLibraryVideos(o)}),p.push({title:"Buscar archivos en la biblioteca",iconClass:"fa-solid fa-magnifying-glass-plus",eventOnSelectItem:I});var G=new t.vpe;G.subscribe(ne=>{this.deleteLibrary(o)}),p.push({title:"Eliminar biblioteca",iconClass:"fa-sharp fa-solid fa-trash",eventOnSelectItem:G}),this.customMenuService.show({containerId:"sinovadMainContainer",listItems:p,target:u}).then(ne=>{this.currentLibrary=void 0},ne=>{this.currentLibrary=void 0})}updateLibraryVideos(e){e.Id>0&&null!=e.PhysicalPath&&""!=e.PhysicalPath&&this.searchFilesInLibraries([e])}updateVideoInAllLibraries(){this.searchFilesInLibraries(this.listLibraries)}searchFilesInLibraries(e){this.libraryService.searchFiles(this.sharedService.selectedMediaServer.Url,e)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(ya),t.Y36(Eo),t.Y36(ra),t.Y36(Xc),t.Y36(vn.uw),t.Y36(Ar),t.Y36(kn.F0),t.Y36(kn.gz),t.Y36(Ot))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-library-list"]],decls:1,vars:1,consts:[["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"manage-libraries-header"],[1,"manage-libraries-count"],[3,"click"],["ngFor","",3,"ngForOf"],[1,"manage-library-summary-row",3,"ngClass"],[1,"manage-library-summary-overlay"],[1,"manage-library-icon-container"],["class","fa-solid fa-film",4,"ngIf"],["class","fa-solid fa-tv",4,"ngIf"],[1,"manage-library-summary-actions"],[1,"manage-library-summary-header"],[1,"manage-library-summary-action",3,"click"],[1,"manage-library-summary-header-icon"],[1,"fa-solid","fa-ellipsis-vertical"],[1,"fa-solid","fa-film"],[1,"fa-solid","fa-tv"]],template:function(n,o){1&n&&t.YNc(0,qS,11,3,"div",0),2&n&&t.Q6J("ngIf",o.mediaServer)},dependencies:[g.mk,g.sg,g.O5],styles:[".sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.manage-libraries-header[_ngcontent-%COMP%]{background-color:#00000026;color:#ffffff73;display:flex;justify-content:space-between;margin:20px 0;padding:13px 20px}.manage-libraries-header[_ngcontent-%COMP%]   .manage-libraries-count[_ngcontent-%COMP%]{flex-grow:1;font-size:13px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;color:#fafafa;display:inline-block;overflow:hidden;text-align:center;transition:background-color .2s,color .2s;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;background-color:#ffffff40;margin-left:10px;padding:0 10px;border:none;font-size:14px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff26}.manage-library-summary-row[_ngcontent-%COMP%]{color:#ffffffb3;min-height:44px;position:relative;cursor:pointer}.manage-library-summary-overlay[_ngcontent-%COMP%]{align-items:center;display:flex;pointer-events:none;height:100%;left:0;position:absolute;top:0;width:100%}.manage-library-icon-container[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center;margin:0 20px;width:20px;font-size:13px}a[_ngcontent-%COMP%]{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-grow:1;overflow:hidden;pointer-events:all;color:#ffffffb3;font-size:13px}.manage-library-summary-actions[_ngcontent-%COMP%]{align-items:center;display:flex;flex:1;justify-content:flex-end;opacity:1}.manage-library-summary-row[_ngcontent-%COMP%]:hover, .manage-library-summary-row.selected[_ngcontent-%COMP%]{background-color:#ffffff0f;color:#fff}.manage-library-summary-header[_ngcontent-%COMP%]{display:flex}button.manage-library-summary-action[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-shrink:0;overflow:hidden;padding:0 15px;pointer-events:all;white-space:nowrap}.manage-library-summary-header-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;width:20px}button.manage-library-summary-action[_ngcontent-%COMP%]:hover{color:#fff}.sinovad-searh-media-log-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-searh-media-log-content[_ngcontent-%COMP%]{width:80%;height:80%;background:black;border:1px solid #dedede;border-radius:6px;color:#fff;padding:10px}.sinovad-searh-media-log-second-content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;font-size:26px}.sinovad-searh-media-log-html[_ngcontent-%COMP%]{color:#fff;font-size:16px;overflow-y:auto;overflow-x:hidden;width:100%;height:100%}.sinovad-library-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}.sinovad-library-principal-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin-left:10px;margin-bottom:2px;font-size:30px}.sinovad-library-container[_ngcontent-%COMP%]{display:block}.sinovad-library-section[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-library-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-left:0;font-size:20px}.sinovad-library-section[_ngcontent-%COMP%]   .sinovad-library-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-library-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:30px;border-radius:5px;outline:none;cursor:pointer}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px;cursor:pointer}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}"]})}return r})();function JS(r,i){if(1&r&&(t.TgZ(0,"div",23),t._uU(1),t.qZA()),2&r){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.hij(" ",n.sharedService.getInitials(e)," ")}}function Mm(r,i){if(1&r&&(t._UZ(0,"img",23),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw().$implicit;t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function sd(r,i){1&r&&(t.TgZ(0,"div",24)(1,"div",25),t._UZ(2,"img",6),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()()),2&r&&(t.xp6(2),t.Q6J("src",t.lcZ(3,1,t.xi3(4,3,"edit-profile.png","GetImageURLByKey")),t.LSH))}function QS(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.onSelectProfile(u))}),t.YNc(1,JS,2,1,"div",20),t.YNc(2,Mm,3,6,"img",20),t.YNc(3,sd,5,6,"div",21),t.TgZ(4,"div",22),t._uU(5),t.qZA()()}if(2&r){const e=i.$implicit,n=t.oxw(2);t.MGl("id","profile_",e.Id,""),t.xp6(1),t.Q6J("ngIf",null==e.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.AvatarPath),t.xp6(1),t.Q6J("ngIf",n.enableEditMode),t.xp6(2),t.hij(" ",e.FullName," ")}}function uy(r,i){if(1&r&&t.YNc(0,QS,6,5,"ng-template",18),2&r){const e=t.oxw();t.Q6J("ngForOf",e.sharedService.listProfiles)}}function XS(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeToEditMode())}),t._uU(1," EDITAR PERFILES "),t.qZA()}}function eC(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirmEdit())}),t._uU(1," LISTO "),t.qZA()}}let Am=(()=>{class r{constructor(e,n,o){this.profileService=e,this.router=n,this.sharedService=o,this.enableEditMode=!1,this.showLoading=!0,this._window=window}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigate(["landing"],{skipLocationChange:!1}),this.getProfiles()}changeToEditMode(){this.enableEditMode=!0}confirmEdit(){this.enableEditMode=!1}showNewProfile(){this.router.navigateByUrl("/add-profile")}editProfile(e){this.router.navigateByUrl("/edit-profile/"+e.Guid)}onSelectProfile(e){this.enableEditMode?this.editProfile(e):this.enterProfile(e)}enterProfile(e){this.sharedService.currentProfile=e,this.router.navigateByUrl("/home")}getProfiles(){this.showLoading=!0,this.profileService.getProfiles(this.sharedService.userData.Id,1,100,"Id","asc","","").then(e=>{let n=e.Data;this.sharedService.listProfiles=n,this.sharedService.currentProfile=n[0],this.showLoading=!1},e=>{this.showLoading=!1})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Kl),t.Y36(kn.F0),t.Y36(Ot))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-profiles-view"]],decls:26,vars:18,consts:[[1,"sinovad-profiles-view-container","sinovad-profiles-section"],[1,"sinovad-profiles-view-content"],["profilesViewContent",""],[1,"sinovad-page-header"],["profilesViewHeader",""],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-profiles-view-body"],[1,"sinovad-profiles-view-title-container"],[1,"sinovad-profiles-view-list-container"],[3,"ngIf"],["id","create_new_profile",3,"click"],[1,"sinovad-initials-profile","add"],["width","40px",3,"src"],[1,"sinovad-fullname-profile"],[1,"sinovad-profiles-view-footer"],["profilesViewFooter",""],[3,"showLoading"],["ngFor","",3,"ngForOf"],[3,"id","click"],["class","sinovad-initials-profile",4,"ngIf"],["class","sinovad-icon-edit-profile-container",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],[1,"sinovad-initials-profile"],[1,"sinovad-icon-edit-profile-container"],[1,"sinovad-icon-edit-profile-content"],[3,"click"],[1,"ready",3,"click"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3,4)(5,"div",5),t._UZ(6,"img",6),t.ALo(7,"async"),t.ALo(8,"formatDataPipe"),t.qZA()(),t.TgZ(9,"div",7)(10,"div",8),t._uU(11," \xbfQui\xe9n eres? "),t.qZA(),t.TgZ(12,"div",9),t.YNc(13,uy,1,1,"ng-template",10),t.TgZ(14,"button",11),t.NdJ("click",function(){return o.showNewProfile()}),t.TgZ(15,"div",12),t._UZ(16,"img",13),t.ALo(17,"async"),t.ALo(18,"formatDataPipe"),t.qZA(),t.TgZ(19,"div",14),t._uU(20," Crear "),t.qZA()()()(),t.TgZ(21,"div",15,16),t.YNc(23,XS,2,0,"ng-template",10),t.YNc(24,eC,2,0,"ng-template",10),t.qZA()()(),t._UZ(25,"app-custom-spinner",17)),2&n){const u=t.MAs(4),p=t.MAs(22);t.xp6(6),t.Q6J("src",t.lcZ(7,8,t.xi3(8,10,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(3),t.Udp("height",o._window.innerWidth<768?"calc(100% - "+(u.offsetHeight+p.offsetHeight)+"px)":""),t.xp6(4),t.Q6J("ngIf",o.sharedService.listProfiles),t.xp6(3),t.Q6J("src",t.lcZ(17,13,t.xi3(18,15,"plus.png","GetImageURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngIf",!o.enableEditMode),t.xp6(1),t.Q6J("ngIf",o.enableEditMode),t.xp6(1),t.Q6J("showLoading",o.showLoading)}},dependencies:[wo,g.sg,g.O5,To,g.Ov],styles:["[_nghost-%COMP%]{width:100%;height:100%;background:black;position:absolute;bottom:0;left:0}.sinovad-profiles-section[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}section[_ngcontent-%COMP%]{outline:none}input[_ngcontent-%COMP%]{outline:none}.sinovad-profiles-view-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.sinovad-profiles-view-content[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}.sinovad-profiles-view-title-container[_ngcontent-%COMP%]{font-size:32px;color:#fff;text-align:center;padding-bottom:60px;font-weight:700}.sinovad-profiles-view-body[_ngcontent-%COMP%]{overflow-y:auto}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;opacity:.8;padding:0;margin-right:20px;width:140px}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-top:60px;padding-bottom:30px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;opacity:.8;background:lightslategrey;color:#fff;font-size:15px;height:48PX;padding:0 24px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button.ready[_ngcontent-%COMP%]{background:#007bff}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-initials-profile[_ngcontent-%COMP%]{width:140px;height:140px;border-radius:100px;border:none;display:flex;align-items:center;justify-content:center;font-size:80px;background:lightslategrey;color:#fff}.sinovad-initials-profile.add[_ngcontent-%COMP%]{background:#007bff}.sinovad-initials-profile.add[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px}.sinovad-icon-edit-profile-container[_ngcontent-%COMP%]{display:block;position:relative}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]{display:block;position:absolute;right:0;top:-55px;background:white;border-radius:25px;padding:10px;border:none}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;color:#fff;font-size:30px;padding-top:10px}.sinovad-screen-back-container[_ngcontent-%COMP%]{position:relative}.sinovad-screen-back-content[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;left:0;position:absolute;margin-left:20px;opacity:.8;height:60px;display:flex;align-items:center;justify-content:center}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{width:54px}"]})}return r})();class fy{}function Ju(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t._UZ(3,"img",4),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",5)(7,"button",6),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onCloseProfileNew())}),t._uU(8,"CANCELAR"),t.qZA()()(),t.TgZ(9,"div",7)(10,"div",8)(11,"h2"),t._uU(12,"Crear Perfil"),t.qZA(),t.TgZ(13,"div",9)(14,"input",10),t.NdJ("ngModelChange",function(o){t.CHM(e);const u=t.oxw();return t.KtG(u.currentTmpProfile.FullName=o)}),t.qZA()(),t.TgZ(15,"div",9)(16,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveProfile())}),t._uU(17,"GUARDAR"),t.qZA()()()()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("src",t.lcZ(4,3,t.xi3(5,5,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(11),t.Q6J("placeholder",e.placeHolder)("ngModel",e.currentTmpProfile.FullName)}}let tC=(()=>{class r{constructor(e,n,o){this.router=e,this.sharedService=n,this.profileService=o,this.placeHolder="Nombre de Perfil"}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigate(["landing"],{skipLocationChange:!1}),this.currentTmpProfile=new fy,this.currentTmpProfile.UserId=this.sharedService.userData.Id}ngAfterViewInit(){}saveProfile(){this.profileService.saveItem(this.currentTmpProfile).then(e=>{this.router.navigateByUrl("/select-profile")},e=>{console.error(e)})}onCloseProfileNew(){this.router.navigateByUrl("/select-profile")}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kn.F0),t.Y36(Ot),t.Y36(Kl))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-profile-new"]],decls:1,vars:1,consts:[["class","sinovad-form-page-container",4,"ngIf"],[1,"sinovad-form-page-container"],[1,"sinovad-page-header"],[1,"sinovad-logo-container","sinovaclient-left"],[3,"src"],[1,"sinovaclient-right"],[1,"cancel",3,"click"],[1,"sinovad-page-body"],[1,"sinovad-page-content"],[1,"mb-3"],["type","text",3,"placeholder","ngModel","ngModelChange"],[1,"save",3,"click"]],template:function(n,o){1&n&&t.YNc(0,Ju,18,8,"div",0),2&n&&t.Q6J("ngIf",o.currentTmpProfile)},dependencies:[Ft.Fj,Ft.JJ,Ft.On,g.O5,To,g.Ov],styles:[".sinovad-form-page-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px;display:flex}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovaclient-left[_ngcontent-%COMP%]{float:left;width:100%}.sinovaclient-left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px}.sinovaclient-right[_ngcontent-%COMP%]{float:right;width:100%}button[_ngcontent-%COMP%]{float:right;font-size:15px;padding:0 24px;height:48px;color:#f9f9f9;border-radius:5px;border:none;opacity:.8}button.save[_ngcontent-%COMP%]{background:#007bff;width:100%}button.cancel[_ngcontent-%COMP%]{background:lightslategrey}button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-page-body[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]{width:300px}.sinovad-page-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;text-align:center}.sinovad-page-body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#f9f9f91a;color:#fff;width:100%;padding:7px 12px;font-size:15px;height:48px}"]})}return r})();function hy(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",6)(1,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveProfile())}),t._uU(2,"Listo"),t.qZA()()}}function my(r,i){1&r&&(t.TgZ(0,"p",24),t._uU(1,"El perfil principal no se puede eliminar"),t.qZA())}function py(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onClickDeleteButton())}),t._uU(1,"Eliminar Perfil"),t.qZA()}}function nC(r,i){if(1&r&&(t.TgZ(0,"div",25),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.sharedService.getInitials(e.currentTmpProfile)," ")}}function iC(r,i){if(1&r&&(t._UZ(0,"img",25),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw(2);t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.currentTmpProfile.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function wm(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"h2",11),t._uU(4,"Editar Perfil"),t.qZA(),t.YNc(5,my,2,0,"p",12),t.qZA(),t.TgZ(6,"div",13)(7,"div",14)(8,"input",15),t.NdJ("ngModelChange",function(o){t.CHM(e);const u=t.oxw();return t.KtG(u.currentTmpProfile.FullName=o)}),t.qZA(),t.TgZ(9,"div",16),t.YNc(10,py,2,0,"button",17),t.qZA()(),t.TgZ(11,"div",18)(12,"input",19,20),t.NdJ("change",function(o){t.CHM(e);const u=t.oxw();return t.KtG(u.uploadAvatarImage(o))}),t.qZA(),t.TgZ(14,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(13);return t.KtG(o.click())}),t.YNc(15,nC,2,1,"div",21),t.YNc(16,iC,3,6,"img",21),t.TgZ(17,"div",22)(18,"div",23),t._UZ(19,"img",3),t.ALo(20,"async"),t.ALo(21,"formatDataPipe"),t.qZA()()()()()()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.currentTmpProfile&&e.currentTmpProfile.Id>0&&e.currentTmpProfile.Main),t.xp6(3),t.Q6J("ngModel",e.currentTmpProfile.FullName),t.xp6(2),t.Q6J("ngIf",e.currentTmpProfile&&e.currentTmpProfile.Id>0&&!e.currentTmpProfile.Main),t.xp6(5),t.Q6J("ngIf",null==e.currentTmpProfile.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.currentTmpProfile.AvatarPath&&!e.hideImage),t.xp6(3),t.Q6J("src",t.lcZ(20,6,t.xi3(21,8,"edit-profile.png","GetImageURLByKey")),t.LSH)}}let Qu=(()=>{class r{constructor(e,n,o,u,p){this.router=e,this.activeRoute=n,this.profileService=o,this.restProvider=u,this.sharedService=p,this.hideImage=!1}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigate(["landing"],{skipLocationChange:!1}),this.profileService.getProfileByGuid(this.activeRoute.snapshot.params.profileGuid).then(n=>{null==n.Data&&this.router.navigateByUrl("404"),this.currentTmpProfile=n.Data},n=>{this.router.navigateByUrl("404")})}ngAfterViewInit(){}saveProfile(){this.profileService.saveItem(this.currentTmpProfile).then(e=>{this.router.navigateByUrl("/select-profile")},e=>{console.error(e)})}onClickDeleteButton(){this.profileService.deleteItem(this.currentTmpProfile.Id).then(e=>{this.router.navigateByUrl("/select-profile")},e=>{console.error(e)})}uploadAvatarImage(e){if(e.target.files&&e.target.files.length>0){let u=e.target.files[0];var n=new FormData;n.append("ProfileId",this.currentTmpProfile.Id.toString()),n.append("File",u,u.name),this.restProvider.executeHttpPostMethodWithFormData("/documents/UploadAvatarProfile",n).then(p=>{this.restProvider.executeSinovadApiService(Gt.GET,"/profiles/GetAsync/"+this.currentTmpProfile.Id).then(y=>{this.currentTmpProfile=y.Data,this.hideImage=!0,setTimeout(()=>{this.hideImage=!1},0)},y=>{console.error(y)})},p=>{console.error(p)})}}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kn.F0),t.Y36(kn.gz),t.Y36(Kl),t.Y36(Bt),t.Y36(Ot))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-profile-edit"]],decls:8,vars:8,consts:[[1,"sinovad-form-page-container"],[1,"sinovad-page-header"],[1,"sinovad-logo-container","sinovaclient-left"],[3,"src"],["class","sinovaclient-right",4,"ngIf"],["class","sinovad-page-container",4,"ngIf"],[1,"sinovaclient-right"],[3,"click"],[1,"sinovad-page-container"],[1,"sinovad-page-content"],[1,"top-container"],[1,"title"],["class","subtitle",4,"ngIf"],[1,"bottom-container"],[1,"first"],["type","text",3,"ngModel","ngModelChange"],[1,"sinovad-delete-profile-button-container"],[3,"click",4,"ngIf"],[1,"second"],["type","file","accept",".png,.jpg",2,"display","none",3,"change"],["input",""],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-icon-edit-profile-container"],[1,"sinovad-icon-edit-profile-content"],[1,"subtitle"],[1,"sinovad-initials-profile"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.YNc(6,hy,3,0,"div",4),t.qZA(),t.YNc(7,wm,22,11,"div",5),t.qZA()),2&n&&(t.xp6(3),t.Q6J("src",t.lcZ(4,3,t.xi3(5,5,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngIf",o.currentTmpProfile),t.xp6(1),t.Q6J("ngIf",o.currentTmpProfile))},dependencies:[Ft.Fj,Ft.JJ,Ft.On,g.O5,To,g.Ov],styles:[".sinovad-form-page-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px;display:flex}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovaclient-left[_ngcontent-%COMP%]{float:left;width:100%}.sinovaclient-left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px}.sinovaclient-right[_ngcontent-%COMP%]{float:right;width:100%}.sinovaclient-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;font-size:20px;background:#007bff;color:#f9f9f9;border-radius:5px;border:none;opacity:.8;height:48px;padding:0 24px}.sinovaclient-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:100px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]{display:block}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]{text-align:left}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   h2.title[_ngcontent-%COMP%]{color:#fff;font-size:32px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   p.subtitle[_ngcontent-%COMP%]{font-size:15px;color:#cacaca}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]{display:flex}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#f9f9f91a;color:#fff;min-width:200px;font-size:20px;border-radius:4px;outline:none;padding:7px 12px;border:1px solid transparent}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #dedede}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{margin:0 0 0 75px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:213px;height:213px;border:2px solid transparent;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:80px;background-color:#789;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-container[_ngcontent-%COMP%]{display:block;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-content[_ngcontent-%COMP%]{display:block;position:absolute;right:0;top:-55px;background:white;border-radius:25px;padding:10px;border:none}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:30px}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:transparent;color:red;opacity:.8;font-size:15px}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}@media only screen and (max-width: 767px){.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:170px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]{text-align:center}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{order:2}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0 0 20px;order:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:140px;height:140px}}"]})}return r})();const Im=["itemListContainer"];function gy(r,i){if(1&r&&(t.TgZ(0,"div",14)(1,"span"),t._uU(2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.Title)}}function _y(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",10)(1,"button",11),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.onClickItem(u))}),t._UZ(2,"img",12),t.qZA(),t.YNc(3,gy,3,1,"div",13),t.qZA()}if(2&r){const e=i.$implicit,n=t.oxw(2);t.xp6(1),t.hYB("id","item_",e.TvSerieId?e.TvSerie_ID:e.MovieId,"_",e.MediaType,""),t.xp6(1),t.Q6J("src",n.sharedService.getUrlByItemMovieDataBase(e),t.LSH),t.xp6(1),t.Q6J("ngIf",!e.Subtitle)}}function vy(r,i){if(1&r&&(t.TgZ(0,"section",4)(1,"div",5)(2,"div",6,7)(4,"div",8,9),t.YNc(6,_y,4,4,"ng-template",3),t.qZA()()()()),2&r){const e=i.$implicit;t.MGl("id","section_search_",i.index,""),t.xp6(6),t.Q6J("ngForOf",e)}}let yy=(()=>{class r{constructor(e,n,o){this.libraryService=e,this.router=n,this.sharedService=o,this.listItems=[],this.listGroupItems=[]}ngOnInit(){this.getItemsBySearch()}getItemsBySearch(){""!=this.searchText.trim()?this.sharedService.mediaServers.forEach(e=>{e.isSecureConnection&&this.libraryService.getAllMediaItemsBySearchQuery(e.Url,this.searchText).then(n=>{this.listItems=this.listItems.concat(n),this.buildGroupItems(this.listItems)},n=>{console.error(n)})}):(this.listItems=[],this.listGroupItems=[])}buildGroupItems(e){if(e&&e.length>0){let p=window.innerWidth>=2048?250:180;var n=Math.floor(this.container.nativeElement.offsetWidth/p),o=e.reduce((y,I,G)=>{var ne=Math.floor(G/n)+1;return y[`row${ne}`]=y[`row${ne}`]||[],y[`row${ne}`].push(I),y},{}),u=Object.keys(o).map(function(y){return o[y]});this.listGroupItems=u}else this.listGroupItems=[]}onClickItem(e){this.getMediaDetail(e)}getMediaDetail(e){var n=this.sharedService.mediaServers.find(o=>o.Id==e.MediaServerId);this.router.navigateByUrl("/media/server/"+n.Guid+"/libraries/"+e.LibraryId+"/detail?mediaType="+e.MediaTypeId+"&mediaId="+e.MediaItemId)}onResize(e){this.buildGroupItems(this.listItems)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(ra),t.Y36(kn.F0),t.Y36(Ot))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-vertical-item-list"]],viewQuery:function(n,o){if(1&n&&t.Gf(Im,5),2&n){let u;t.iGM(u=t.CRH())&&(o.container=u.first)}},hostBindings:function(n,o){1&n&&t.NdJ("resize",function(p){return o.onResize(p)},!1,t.Jf7)},inputs:{searchText:"searchText"},decls:4,vars:3,consts:[[1,"sinovad-vertical-list-content"],["itemListContainer",""],[1,"sinovad-vertical-list-second-content"],["ngFor","",3,"ngForOf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-container"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["referrerpolicy","no-referrer",3,"src"],["class","sinovad-item-caption-container",4,"ngIf"],[1,"sinovad-item-caption-container"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0,1)(2,"div",2),t.YNc(3,vy,7,2,"ng-template",3),t.qZA()()),2&n&&(t.Udp("height","100%"),t.xp6(3),t.Q6J("ngForOf",o.listGroupItems))},dependencies:[g.sg,g.O5],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px;justify-content:center}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex;gap:20px}.sinovad-item-caption-container[_ngcontent-%COMP%]{color:#fff;font-weight:700;padding-top:10px;text-align:center}.sinovad-vertical-list-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-vertical-list-second-content[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:160px;width:160px;height:200px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-content[_ngcontent-%COMP%]{gap:20px}.sinovad-item-container[_ngcontent-%COMP%]{padding:0;margin:0;width:min-content;border-radius:6px}@media only screen and (min-width: 2048px){.sinovad-item-container[_ngcontent-%COMP%]{padding-right:0px 10px 0px 0px;margin:6px}.sinovad-list-content[_ngcontent-%COMP%]{gap:unset}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return r})();function by(r,i){if(1&r&&(t.TgZ(0,"div",7)(1,"h2"),t._uU(2),t.qZA()()),2&r){const e=t.oxw();t.xp6(2),t.hij('Resultados para "',e.searchText,'"')}}let Om=(()=>{class r{constructor(e,n,o){this.router=e,this.route=n,this.sharedService=o,this.searchText="",this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){let e=this.route.snapshot.queryParams.text;null!=e&&""!=e?this.searchText=e:this.router.navigate(["home"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kn.F0),t.Y36(kn.gz),t.Y36(Ot))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-search-view"]],decls:8,vars:4,consts:[[1,"sinovad-search-view-container"],["container",""],[1,"sinovad-search-view-title"],["header",""],["class","sinovad-search-view-title-content",4,"ngIf"],["itemListContainer",""],[3,"searchText"],[1,"sinovad-search-view-title-content"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0,1)(2,"div",2,3),t.YNc(4,by,3,1,"div",4),t.qZA(),t.TgZ(5,"div",null,5),t._UZ(7,"app-vertical-item-list",6),t.qZA()()),2&n){const u=t.MAs(3);t.xp6(4),t.Q6J("ngIf",null!=o.searchText&&""!=o.searchText),t.xp6(1),t.Udp("height","calc(100% - "+u.offsetHeight+"px)"),t.xp6(2),t.Q6J("searchText",o.searchText)}},dependencies:[g.O5,yy],styles:[".sinovad-search-view-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;background:#2d3744;overflow:auto}.sinovad-search-view-title[_ngcontent-%COMP%]{color:#fff;margin-left:20px;margin-right:20px}.sinovad-search-view-title[_ngcontent-%COMP%]   .sinovad-search-view-title-content[_ngcontent-%COMP%]{height:100%;border-bottom:1px solid #dedede;width:100%}"]})}return r})();class Pm{constructor(i,e){this.activeRoute=i,this.sharedService=e}initializeHeaderData(){var i=this.activeRoute.snapshot.params.serverGuid;if(null!=i){var e=this.sharedService.mediaServers.find(u=>u.Guid==i);if(e){this.mediaServer=e;var n=this.activeRoute.snapshot.params.libraryId;if(null!=e.ListLibraries&&e.ListLibraries.length>0){var o=e.ListLibraries.find(u=>u.MediaServerId==this.mediaServer.Id&&u.Id==n);null!=o?(this.library=o,this.title=o.Name,this.subtitle=this.mediaServer.FamilyName?this.mediaServer.FamilyName:this.mediaServer.DeviceName):this.title=this.mediaServer.FamilyName?this.mediaServer.FamilyName:this.mediaServer.DeviceName}}}}}var qs=x(5094),Rm=x(4753);function rC(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var n,o,u,p,y,Ey={exports:{}};n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,o=/^(?=([^\/?#]*))\1([^]*)$/,u=/(?:\/|^)\.(?=\/)/g,p=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,Ey.exports=y={buildAbsoluteURL:function(I,G,ne){if(ne=ne||{},I=I.trim(),!(G=G.trim())){if(!ne.alwaysNormalize)return I;var Te=y.parseURL(I);if(!Te)throw new Error("Error trying to parse base URL.");return Te.path=y.normalizePath(Te.path),y.buildURLFromParts(Te)}var Ve=y.parseURL(G);if(!Ve)throw new Error("Error trying to parse relative URL.");if(Ve.scheme)return ne.alwaysNormalize?(Ve.path=y.normalizePath(Ve.path),y.buildURLFromParts(Ve)):G;var Ge=y.parseURL(I);if(!Ge)throw new Error("Error trying to parse base URL.");if(!Ge.netLoc&&Ge.path&&"/"!==Ge.path[0]){var et=o.exec(Ge.path);Ge.netLoc=et[1],Ge.path=et[2]}Ge.netLoc&&!Ge.path&&(Ge.path="/");var ft={scheme:Ge.scheme,netLoc:Ve.netLoc,path:null,params:Ve.params,query:Ve.query,fragment:Ve.fragment};if(!Ve.netLoc&&(ft.netLoc=Ge.netLoc,"/"!==Ve.path[0]))if(Ve.path){var vt=Ge.path,Lt=vt.substring(0,vt.lastIndexOf("/")+1)+Ve.path;ft.path=y.normalizePath(Lt)}else ft.path=Ge.path,Ve.params||(ft.params=Ge.params,Ve.query||(ft.query=Ge.query));return null===ft.path&&(ft.path=ne.alwaysNormalize?y.normalizePath(Ve.path):Ve.path),y.buildURLFromParts(ft)},parseURL:function(I){var G=n.exec(I);return G?{scheme:G[1]||"",netLoc:G[2]||"",path:G[3]||"",params:G[4]||"",query:G[5]||"",fragment:G[6]||""}:null},normalizePath:function(I){for(I=I.split("").reverse().join("").replace(u,"");I.length!==(I=I.replace(p,"")).length;);return I.split("").reverse().join("")},buildURLFromParts:function(I){return I.scheme+I.netLoc+I.path+I.params+I.query+I.fragment}};var Nm=Ey.exports;function Ty(r,i){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);i&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),e.push.apply(e,n)}return e}function Io(r){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?Ty(Object(e),!0).forEach(function(n){oC(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Ty(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function oC(r,i,e){return i=function sC(r){var i=function aC(r,i){if("object"!=typeof r||null===r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var n=e.call(r,i||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(r)}(r,"string");return"symbol"==typeof i?i:String(i)}(i),i in r?Object.defineProperty(r,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[i]=e,r}function Gr(){return Gr=Object.assign?Object.assign.bind():function(r){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Gr.apply(this,arguments)}const ci=Number.isFinite||function(r){return"number"==typeof r&&isFinite(r)};let Et=function(r){return r.MEDIA_ATTACHING="hlsMediaAttaching",r.MEDIA_ATTACHED="hlsMediaAttached",r.MEDIA_DETACHING="hlsMediaDetaching",r.MEDIA_DETACHED="hlsMediaDetached",r.BUFFER_RESET="hlsBufferReset",r.BUFFER_CODECS="hlsBufferCodecs",r.BUFFER_CREATED="hlsBufferCreated",r.BUFFER_APPENDING="hlsBufferAppending",r.BUFFER_APPENDED="hlsBufferAppended",r.BUFFER_EOS="hlsBufferEos",r.BUFFER_FLUSHING="hlsBufferFlushing",r.BUFFER_FLUSHED="hlsBufferFlushed",r.MANIFEST_LOADING="hlsManifestLoading",r.MANIFEST_LOADED="hlsManifestLoaded",r.MANIFEST_PARSED="hlsManifestParsed",r.LEVEL_SWITCHING="hlsLevelSwitching",r.LEVEL_SWITCHED="hlsLevelSwitched",r.LEVEL_LOADING="hlsLevelLoading",r.LEVEL_LOADED="hlsLevelLoaded",r.LEVEL_UPDATED="hlsLevelUpdated",r.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",r.LEVELS_UPDATED="hlsLevelsUpdated",r.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",r.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",r.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",r.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",r.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",r.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",r.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",r.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",r.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",r.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",r.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",r.CUES_PARSED="hlsCuesParsed",r.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",r.INIT_PTS_FOUND="hlsInitPtsFound",r.FRAG_LOADING="hlsFragLoading",r.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",r.FRAG_LOADED="hlsFragLoaded",r.FRAG_DECRYPTED="hlsFragDecrypted",r.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",r.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",r.FRAG_PARSING_METADATA="hlsFragParsingMetadata",r.FRAG_PARSED="hlsFragParsed",r.FRAG_BUFFERED="hlsFragBuffered",r.FRAG_CHANGED="hlsFragChanged",r.FPS_DROP="hlsFpsDrop",r.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",r.ERROR="hlsError",r.DESTROYING="hlsDestroying",r.KEY_LOADING="hlsKeyLoading",r.KEY_LOADED="hlsKeyLoaded",r.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",r.BACK_BUFFER_REACHED="hlsBackBufferReached",r}({}),hi=function(r){return r.NETWORK_ERROR="networkError",r.MEDIA_ERROR="mediaError",r.KEY_SYSTEM_ERROR="keySystemError",r.MUX_ERROR="muxError",r.OTHER_ERROR="otherError",r}({}),En=function(r){return r.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",r.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",r.KEY_SYSTEM_NO_SESSION="keySystemNoSession",r.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",r.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",r.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",r.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",r.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",r.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",r.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",r.MANIFEST_LOAD_ERROR="manifestLoadError",r.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",r.MANIFEST_PARSING_ERROR="manifestParsingError",r.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",r.LEVEL_EMPTY_ERROR="levelEmptyError",r.LEVEL_LOAD_ERROR="levelLoadError",r.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",r.LEVEL_PARSING_ERROR="levelParsingError",r.LEVEL_SWITCH_ERROR="levelSwitchError",r.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",r.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",r.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",r.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",r.FRAG_LOAD_ERROR="fragLoadError",r.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",r.FRAG_DECRYPT_ERROR="fragDecryptError",r.FRAG_PARSING_ERROR="fragParsingError",r.FRAG_GAP="fragGap",r.REMUX_ALLOC_ERROR="remuxAllocError",r.KEY_LOAD_ERROR="keyLoadError",r.KEY_LOAD_TIMEOUT="keyLoadTimeOut",r.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",r.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",r.BUFFER_APPEND_ERROR="bufferAppendError",r.BUFFER_APPENDING_ERROR="bufferAppendingError",r.BUFFER_STALLED_ERROR="bufferStalledError",r.BUFFER_FULL_ERROR="bufferFullError",r.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",r.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",r.INTERNAL_EXCEPTION="internalException",r.INTERNAL_ABORTED="aborted",r.UNKNOWN="unknown",r}({});const Js=function(){},Lm={trace:Js,debug:Js,log:Js,warn:Js,info:Js,error:Js};let ld=Lm;const sn=ld,xy=/^(\d+)x(\d+)$/,km=/(.+?)=(".*?"|.*?)(?:,|$)/g;class yr{constructor(i){"string"==typeof i&&(i=yr.parseAttrList(i));for(const e in i)i.hasOwnProperty(e)&&("X-"===e.substring(0,2)&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(e)),this[e]=i[e])}decimalInteger(i){const e=parseInt(this[i],10);return e>Number.MAX_SAFE_INTEGER?1/0:e}hexadecimalInteger(i){if(this[i]){let e=(this[i]||"0x").slice(2);e=(1&e.length?"0":"")+e;const n=new Uint8Array(e.length/2);for(let o=0;o<e.length/2;o++)n[o]=parseInt(e.slice(2*o,2*o+2),16);return n}return null}hexadecimalIntegerAsNumber(i){const e=parseInt(this[i],16);return e>Number.MAX_SAFE_INTEGER?1/0:e}decimalFloatingPoint(i){return parseFloat(this[i])}optionalFloat(i,e){const n=this[i];return n?parseFloat(n):e}enumeratedString(i){return this[i]}bool(i){return"YES"===this[i]}decimalResolution(i){const e=xy.exec(this[i]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}}static parseAttrList(i){let e;const n={};for(km.lastIndex=0;null!==(e=km.exec(i));){let u=e[2];0===u.indexOf('"')&&u.lastIndexOf('"')===u.length-1&&(u=u.slice(1,-1)),n[e[1].trim()]=u}return n}}function Ay(r){return"SCTE35-OUT"===r||"SCTE35-IN"===r}class Xu{constructor(i,e){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,e){const n=e.attr;for(const o in n)if(Object.prototype.hasOwnProperty.call(i,o)&&i[o]!==n[o]){sn.warn(`DATERANGE tag attribute: "${o}" does not match for tags with ID: "${i.ID}"`),this._badValueForSameId=o;break}i=Gr(new yr({}),n,i)}if(this.attr=i,this._startDate=new Date(i["START-DATE"]),"END-DATE"in this.attr){const n=new Date(this.attr["END-DATE"]);ci(n.getTime())&&(this._endDate=n)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const i=this.duration;return null!==i?new Date(this._startDate.getTime()+1e3*i):null}get duration(){if("DURATION"in this.attr){const i=this.attr.decimalFloatingPoint("DURATION");if(ci(i))return i}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&ci(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class rc{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}class wy{constructor(i){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={audio:null,video:null,audiovideo:null},this.baseurl=i}setByteRange(i,e){const n=i.split("@",2),o=[];o[0]=1===n.length?e?e.byteRangeEndOffset:0:parseInt(n[1]),o[1]=parseInt(n[0])+o[0],this._byteRange=o}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Nm.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(i){this._url=i}}class Fm extends wy{constructor(i,e){super(e),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new rc,this.urlId=0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.type=i}get decryptdata(){const{levelkeys:i}=this;if(!i&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const e=this.levelkeys.identity;if(e)this._decryptdata=e.getDecryptData(this.sn);else{const n=Object.keys(this.levelkeys);if(1===n.length)return this._decryptdata=this.levelkeys[n[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime||!ci(this.programDateTime))return null;const i=ci(this.duration)?this.duration:0;return this.programDateTime+1e3*i}get encrypted(){var i;if(null!=(i=this._decryptdata)&&i.encrypted)return!0;if(this.levelkeys){const e=Object.keys(this.levelkeys),n=e.length;if(n>1||1===n&&this.levelkeys[e[0]].encrypted)return!0}return!1}setKeyFormat(i){if(this.levelkeys){const e=this.levelkeys[i];e&&!this._decryptdata&&(this._decryptdata=e.getDecryptData(this.sn))}}abortRequests(){var i,e;null==(i=this.loader)||i.abort(),null==(e=this.keyLoader)||e.abort()}setElementaryStreamInfo(i,e,n,o,u,p=!1){const{elementaryStreams:y}=this,I=y[i];I?(I.startPTS=Math.min(I.startPTS,e),I.endPTS=Math.max(I.endPTS,n),I.startDTS=Math.min(I.startDTS,o),I.endDTS=Math.max(I.endDTS,u)):y[i]={startPTS:e,endPTS:n,startDTS:o,endDTS:u,partial:p}}clearElementaryStreamInfo(){const{elementaryStreams:i}=this;i.audio=null,i.video=null,i.audiovideo=null}}class oc extends wy{constructor(i,e,n,o,u){super(n),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new rc,this.duration=i.decimalFloatingPoint("DURATION"),this.gap=i.bool("GAP"),this.independent=i.bool("INDEPENDENT"),this.relurl=i.enumeratedString("URI"),this.fragment=e,this.index=o;const p=i.enumeratedString("BYTERANGE");p&&this.setByteRange(p,u),u&&(this.fragOffset=u.fragOffset+u.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:i}=this;return!!(i.audio||i.video||i.audiovideo)}}class Bm{constructor(i){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=i}reloaded(i){if(!i)return this.advanced=!0,void(this.updated=!0);const e=this.lastPartSn-i.lastPartSn,n=this.lastPartIndex-i.lastPartIndex;this.updated=this.endSN!==i.endSN||!!n||!!e,this.advanced=this.endSN>i.endSN||e>0||0===e&&n>0,this.misses=this.updated||this.advanced?Math.floor(.6*i.misses):i.misses+1,this.availabilityDelay=i.availabilityDelay}get hasProgramDateTime(){return!!this.fragments.length&&ci(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const i=this.driftEndTime-this.driftStartTime;return i>0?1e3*(this.driftEnd-this.driftStart)/i:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var i;return null!=(i=this.partList)&&i.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var i;return null!=(i=this.fragments)&&i.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var i;return null!=(i=this.partList)&&i.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var i;return null!=(i=this.partList)&&i.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function Iy(r){return Uint8Array.from(atob(r),i=>i.charCodeAt(0))}function Qs(r){return Uint8Array.from(unescape(encodeURIComponent(r)),i=>i.charCodeAt(0))}var Dr={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Oo_FAIRPLAY="com.apple.streamingkeydelivery",Oo_PLAYREADY="com.microsoft.playready",Oo_WIDEVINE="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function Ry(r){switch(r){case Oo_FAIRPLAY:return Dr.FAIRPLAY;case Oo_PLAYREADY:return Dr.PLAYREADY;case Oo_WIDEVINE:return Dr.WIDEVINE;case"org.w3.clearkey":return Dr.CLEARKEY}}function cd(r){switch(r){case Dr.FAIRPLAY:return Oo_FAIRPLAY;case Dr.PLAYREADY:return Oo_PLAYREADY;case Dr.WIDEVINE:return Oo_WIDEVINE;case Dr.CLEARKEY:return"org.w3.clearkey"}}function ac(r){const{drmSystems:i,widevineLicenseUrl:e}=r,n=i?[Dr.FAIRPLAY,Dr.WIDEVINE,Dr.PLAYREADY,Dr.CLEARKEY].filter(o=>!!i[o]):[];return!n[Dr.WIDEVINE]&&e&&n.push(Dr.WIDEVINE),n}const So=typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function Ds(r,i,e){return Uint8Array.prototype.slice?r.slice(i,e):new Uint8Array(Array.prototype.slice.call(r,i,e))}const Um=(r,i)=>i+10<=r.length&&73===r[i]&&68===r[i+1]&&51===r[i+2]&&r[i+3]<255&&r[i+4]<255&&r[i+6]<128&&r[i+7]<128&&r[i+8]<128&&r[i+9]<128,jm=(r,i)=>i+10<=r.length&&51===r[i]&&68===r[i+1]&&73===r[i+2]&&r[i+3]<255&&r[i+4]<255&&r[i+6]<128&&r[i+7]<128&&r[i+8]<128&&r[i+9]<128,dd=(r,i)=>{const e=i;let n=0;for(;Um(r,i);)n+=10,n+=ud(r,i+6),jm(r,i+10)&&(n+=10),i+=n;if(n>0)return r.subarray(e,e+n)},ud=(r,i)=>{let e=0;return e=(127&r[i])<<21,e|=(127&r[i+1])<<14,e|=(127&r[i+2])<<7,e|=127&r[i+3],e},Ly=(r,i)=>Um(r,i)&&ud(r,i+6)+10<=r.length-i,ky=r=>r&&"PRIV"===r.key&&"com.apple.streaming.transportStreamTimestamp"===r.info,dC=r=>{const i=String.fromCharCode(r[0],r[1],r[2],r[3]),e=ud(r,4);return{type:i,size:e,data:r.subarray(10,10+e)}},sc=r=>{let i=0;const e=[];for(;Um(r,i);){const n=ud(r,i+6);i+=10;const o=i+n;for(;i+8<o;){const u=dC(r.subarray(i)),p=uC(u);p&&e.push(p),i+=u.size+10}jm(r,i)&&(i+=10)}return e},uC=r=>"PRIV"===r.type?fC(r):"W"===r.type[0]?ef(r):hC(r),fC=r=>{if(r.size<2)return;const i=Ea(r.data,!0),e=new Uint8Array(r.data.subarray(i.length+1));return{key:r.type,info:i,data:e.buffer}},hC=r=>{if(r.size<2)return;if("TXXX"===r.type){let e=1;const n=Ea(r.data.subarray(e),!0);e+=n.length+1;const o=Ea(r.data.subarray(e));return{key:r.type,info:n,data:o}}const i=Ea(r.data.subarray(1));return{key:r.type,data:i}},ef=r=>{if("WXXX"===r.type){if(r.size<2)return;let e=1;const n=Ea(r.data.subarray(e),!0);e+=n.length+1;const o=Ea(r.data.subarray(e));return{key:r.type,info:n,data:o}}const i=Ea(r.data);return{key:r.type,data:i}},Fy=r=>{if(8===r.data.byteLength){const i=new Uint8Array(r.data);let n=(i[4]<<23)+(i[5]<<15)+(i[6]<<7)+i[7];return n/=45,1&i[3]&&(n+=47721858.84),Math.round(n)}},Ea=(r,i=!1)=>{const e=function mC(){return!tf&&typeof self.TextDecoder<"u"&&(tf=new self.TextDecoder("utf-8")),tf}();if(e){const G=e.decode(r);if(i){const ne=G.indexOf("\0");return-1!==ne?G.substring(0,ne):G}return G.replace(/\0/g,"")}const n=r.length;let o,u,p,y="",I=0;for(;I<n;){if(o=r[I++],0===o&&i)return y;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:y+=String.fromCharCode(o);break;case 12:case 13:u=r[I++],y+=String.fromCharCode((31&o)<<6|63&u);break;case 14:u=r[I++],p=r[I++],y+=String.fromCharCode((15&o)<<12|(63&u)<<6|(63&p)<<0)}}return y};let tf;const Po_hexDump=function(r){let i="";for(let e=0;e<r.length;e++){let n=r[e].toString(16);n.length<2&&(n="0"+n),i+=n}return i},xs=Math.pow(2,32)-1,pC=[].push,By={video:1,audio:2,id3:3,text:4};function Xr(r){return String.fromCharCode.apply(null,r)}function Vm(r,i){const e=r[i]<<8|r[i+1];return e<0?65536+e:e}function vi(r,i){const e=Gm(r,i);return e<0?4294967296+e:e}function Gm(r,i){return r[i]<<24|r[i+1]<<16|r[i+2]<<8|r[i+3]}function Hm(r,i,e){r[i]=e>>24,r[i+1]=e>>16&255,r[i+2]=e>>8&255,r[i+3]=255&e}function Vi(r,i){const e=[];if(!i.length)return e;const n=r.byteLength;for(let o=0;o<n;){const u=vi(r,o),y=u>1?o+u:n;if(Xr(r.subarray(o+4,o+8))===i[0])if(1===i.length)e.push(r.subarray(o+8,y));else{const I=Vi(r.subarray(o+8,y),i.slice(1));I.length&&pC.apply(e,I)}o=y}return e}function gC(r){const i=[],e=r[0];let n=8;const o=vi(r,n);n+=4,n+=0===e?8:16,n+=2;let y=r.length+0;const I=Vm(r,n);n+=2;for(let G=0;G<I;G++){let ne=n;const Te=vi(r,ne);ne+=4;const Ve=2147483647&Te;if((2147483648&Te)>>>31==1)return sn.warn("SIDX has hierarchical references (not supported)"),null;const et=vi(r,ne);ne+=4,i.push({referenceSize:Ve,subsegmentDuration:et,info:{duration:et/o,start:y,end:y+Ve-1}}),y+=Ve,ne+=4,n=ne}return{earliestPresentationTime:0,timescale:o,version:e,referencesCount:I,references:i}}function Uy(r){const i=[],e=Vi(r,["moov","trak"]);for(let o=0;o<e.length;o++){const u=e[o],p=Vi(u,["tkhd"])[0];if(p){let y=p[0],I=0===y?12:20;const G=vi(p,I),ne=Vi(u,["mdia","mdhd"])[0];if(ne){y=ne[0],I=0===y?12:20;const Te=vi(ne,I),Ve=Vi(u,["mdia","hdlr"])[0];if(Ve){const et={soun:"audio",vide:"video"}[Xr(Ve.subarray(8,12))];if(et){const ft=Vi(u,["mdia","minf","stbl","stsd"])[0];let vt;ft&&(vt=Xr(ft.subarray(12,16))),i[G]={timescale:Te,type:et},i[et]={timescale:Te,id:G,codec:vt}}}}}}return Vi(r,["moov","mvex","trex"]).forEach(o=>{const u=vi(o,4),p=i[u];p&&(p.default={duration:vi(o,12),flags:vi(o,20)})}),i}function _C(r){const i=Vi(r,["schm"])[0];if(i){const e=Xr(i.subarray(4,8));if("cbcs"===e||"cenc"===e)return Vi(r,["schi","tenc"])[0]}return sn.error("[eme] missing 'schm' box"),null}function jy(r){const i=vi(r,0);let e=8;1&i&&(e+=4),4&i&&(e+=4);let n=0;const o=vi(r,4);for(let u=0;u<o;u++)256&i&&(n+=vi(r,e),e+=4),512&i&&(e+=4),1024&i&&(e+=4),2048&i&&(e+=4);return n}function el(r,i){const e=new Uint8Array(r.length+i.length);return e.set(r),e.set(i,r.length),e}function Ym(r,i){const e=[],n=i.samples,o=i.timescale,u=i.id;let p=!1;return Vi(n,["moof"]).map(I=>{const G=I.byteOffset-8;Vi(I,["traf"]).map(Te=>{const Ve=Vi(Te,["tfdt"]).map(Ge=>{const et=Ge[0];let ft=vi(Ge,4);return 1===et&&(ft*=Math.pow(2,32),ft+=vi(Ge,8)),ft/o})[0];return void 0!==Ve&&(r=Ve),Vi(Te,["tfhd"]).map(Ge=>{const et=vi(Ge,4),ft=16777215&vi(Ge,0);let zt=0;const un=0!=(16&ft);let cn=0;const Sn=0!=(32&ft);let mn=8;et===u&&(0!=(1&ft)&&(mn+=8),0!=(2&ft)&&(mn+=4),0!=(8&ft)&&(zt=vi(Ge,mn),mn+=4),un&&(cn=vi(Ge,mn),mn+=4),Sn&&(mn+=4),"video"===i.type&&(p=function fd(r){if(!r)return!1;const i=r.indexOf("."),e=i<0?r:r.substring(0,i);return"hvc1"===e||"hev1"===e||"dvh1"===e||"dvhe"===e}(i.codec)),Vi(Te,["trun"]).map(Mn=>{const jn=Mn[0],gn=16777215&vi(Mn,0),Qn=0!=(1&gn);let zn=0;const gi=0!=(4&gn),Er=0!=(256&gn);let Ki=0;const Gn=0!=(512&gn);let Yn=0;const On=0!=(1024&gn),Hn=0!=(2048&gn);let _i=0;const Ii=vi(Mn,4);let yi=8;Qn&&(zn=vi(Mn,yi),yi+=4),gi&&(yi+=4);let Ji=zn+G;for(let xi=0;xi<Ii;xi++){if(Er?(Ki=vi(Mn,yi),yi+=4):Ki=zt,Gn?(Yn=vi(Mn,yi),yi+=4):Yn=cn,On&&(yi+=4),Hn&&(_i=0===jn?vi(Mn,yi):Gm(Mn,yi),yi+=4),"video"===i.type){let wr=0;for(;wr<Yn;){const Zr=vi(n,Ji);Ji+=4,yC(p,n[Ji])&&Vy(n.subarray(Ji,Ji+Zr),p?2:1,r+_i/o,e),Ji+=Zr,wr+=Zr+4}}r+=Ki/o}}))})})}),e}function yC(r,i){if(r){const e=i>>1&63;return 39===e||40===e}return 6==(31&i)}function Vy(r,i,e,n){const o=Gy(r);let u=0;u+=i;let p=0,y=0,I=!1,G=0;for(;u<o.length;){p=0;do{if(u>=o.length)break;G=o[u++],p+=G}while(255===G);y=0;do{if(u>=o.length)break;G=o[u++],y+=G}while(255===G);const ne=o.length-u;if(!I&&4===p&&u<o.length){if(I=!0,181===o[u++]){const Ve=Vm(o,u);if(u+=2,49===Ve){const Ge=vi(o,u);if(u+=4,1195456820===Ge){const et=o[u++];if(3===et){const ft=o[u++],Lt=64&ft,qt=Lt?2+3*(31&ft):0,zt=new Uint8Array(qt);if(Lt){zt[0]=ft;for(let un=1;un<qt;un++)zt[un]=o[u++]}n.push({type:et,payloadType:p,pts:e,bytes:zt})}}}}}else if(5===p&&y<ne){if(I=!0,y>16){const Te=[];for(let et=0;et<16;et++){const ft=o[u++].toString(16);Te.push(1==ft.length?"0"+ft:ft),(3===et||5===et||7===et||9===et)&&Te.push("-")}const Ve=y-16,Ge=new Uint8Array(Ve);for(let et=0;et<Ve;et++)Ge[et]=o[u++];n.push({payloadType:p,pts:e,uuid:Te.join(""),userData:Ea(Ge),userDataBytes:Ge})}}else if(y<ne)u+=y;else if(y>ne)break}}function Gy(r){const i=r.byteLength,e=[];let n=1;for(;n<i-2;)0===r[n]&&0===r[n+1]&&3===r[n+2]?(e.push(n+2),n+=2):n++;if(0===e.length)return r;const o=i-e.length,u=new Uint8Array(o);let p=0;for(n=0;n<o;p++,n++)p===e[0]&&(p++,e.shift()),u[n]=r[p];return u}let rf={};class hd{static clearKeyUriToKeyIdMap(){rf={}}constructor(i,e,n,o=[1],u=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=i,this.uri=e,this.keyFormat=n,this.keyFormatVersions=o,this.iv=u,this.encrypted=!!i&&"NONE"!==i,this.isCommonEncryption=this.encrypted&&"AES-128"!==i}isSupported(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case Oo_FAIRPLAY:case Oo_WIDEVINE:case Oo_PLAYREADY:case"org.w3.clearkey":return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}getDecryptData(i){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!=typeof i&&("AES-128"===this.method&&!this.iv&&sn.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),i=0);const n=function md(r){const i=new Uint8Array(16);for(let e=12;e<16;e++)i[e]=r>>8*(15-e)&255;return i}(i);return new hd(this.method,this.uri,"identity",this.keyFormatVersions,n)}const e=function zM(r){const i=r.split(":");let e=null;if("data"===i[0]&&2===i.length){const n=i[1].split(";"),o=n[n.length-1].split(",");if(2===o.length){const p=o[1];"base64"===o[0]?(n.splice(-1,1),e=Iy(p)):e=function Oy(r){const i=Qs(r).subarray(0,16),e=new Uint8Array(16);return e.set(i,16-i.length),e}(p)}}return e}(this.uri);if(e)switch(this.keyFormat){case Oo_WIDEVINE:this.pssh=e,e.length>=22&&(this.keyId=e.subarray(e.length-22,e.length-6));break;case Oo_PLAYREADY:{const n=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=function EC(r,i,e){if(16!==r.byteLength)throw new RangeError("Invalid system id");let n,o,u;if(i){n=1,o=new Uint8Array(16*i.length);for(let y=0;y<i.length;y++){const I=i[y];if(16!==I.byteLength)throw new RangeError("Invalid key");o.set(I,16*y)}}else n=0,o=new Uint8Array;n>0?(u=new Uint8Array(4),i.length>0&&new DataView(u.buffer).setUint32(0,i.length,!1)):u=new Uint8Array;const p=new Uint8Array(4);return e&&e.byteLength>0&&new DataView(p.buffer).setUint32(0,e.byteLength,!1),function QM(r,...i){const e=i.length;let n=8,o=e;for(;o--;)n+=i[o].byteLength;const u=new Uint8Array(n);for(u[0]=n>>24&255,u[1]=n>>16&255,u[2]=n>>8&255,u[3]=255&n,u.set(r,4),o=0,n=8;o<e;o++)u.set(i[o],n),n+=i[o].byteLength;return u}([112,115,115,104],new Uint8Array([n,0,0,0]),r,u,o,p,e||new Uint8Array)}(n,null,e);const o=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),u=String.fromCharCode.apply(null,Array.from(o)),p=u.substring(u.indexOf("<"),u.length),G=(new DOMParser).parseFromString(p,"text/xml").getElementsByTagName("KID")[0];if(G){const ne=G.childNodes[0]?G.childNodes[0].nodeValue:G.getAttribute("VALUE");if(ne){const Te=Iy(ne).subarray(0,16);(function Py(r){const i=function(n,o,u){const p=n[o];n[o]=n[u],n[u]=p};i(r,0,3),i(r,1,2),i(r,4,5),i(r,6,7)})(Te),this.keyId=Te}}break}default:{let n=e.subarray(0,16);if(16!==n.length){const o=new Uint8Array(16);o.set(n,16-n.length),n=o}this.keyId=n;break}}if(!this.keyId||16!==this.keyId.byteLength){let n=rf[this.uri];if(!n){const o=Object.keys(rf).length%Number.MAX_SAFE_INTEGER;n=new Uint8Array(16),new DataView(n.buffer,12,4).setUint32(0,o),rf[this.uri]=n}this.keyId=n}return this}}const Yy=/\{\$([a-zA-Z0-9-_]+)\}/g;function Km(r){return Yy.test(r)}function Ro(r,i,e){if(null!==r.variableList||r.hasVariableRefs)for(let n=e.length;n--;){const o=e[n],u=i[o];u&&(i[o]=af(r,u))}}function af(r,i){if(null!==r.variableList||r.hasVariableRefs){const e=r.variableList;return i.replace(Yy,n=>{const o=n.substring(2,n.length-1),u=e?.[o];return void 0===u?(r.playlistParsingError||(r.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${o}"`)),n):u})}return i}function Ky(r,i,e){let o,u,n=r.variableList;if(n||(r.variableList=n={}),"QUERYPARAM"in i){o=i.QUERYPARAM;try{const p=new self.URL(e).searchParams;if(!p.has(o))throw new Error(`"${o}" does not match any query parameter in URI: "${e}"`);u=p.get(o)}catch(p){r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${p.message}`))}}else o=i.NAME,u=i.VALUE;o in n?r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${o}"`)):n[o]=u||""}function Wy(r,i,e){const n=i.IMPORT;if(e&&n in e){let o=r.variableList;o||(r.variableList=o={}),o[n]=e[n]}else r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${n}"`))}function sf(){if(!(typeof self>"u"))return self.MediaSource||self.WebKitMediaSource}const Wm={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},zy=sf();function lf(r,i){var e;return null!=(e=zy?.isTypeSupported(`${i||"video"}/mp4;codecs="${r}"`))&&e}const $y=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,qy=/#EXT-X-MEDIA:(.*)/g,TC=/^#EXT(?:INF|-X-TARGETDURATION):/m,cf=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),SC=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class aa{static findGroup(i,e){for(let n=0;n<i.length;n++){const o=i[n];if(o.id===e)return o}}static convertAVC1ToAVCOTI(i){const e=i.split(".");if(e.length>2){let n=e.shift()+".";return n+=parseInt(e.shift()).toString(16),n+=("000"+parseInt(e.shift()).toString(16)).slice(-4),n}return i}static resolve(i,e){return Nm.buildAbsoluteURL(e,i,{alwaysNormalize:!0})}static isMediaPlaylist(i){return TC.test(i)}static parseMasterPlaylist(i,e){const o={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:Km(i)},u=[];let p;for($y.lastIndex=0;null!=(p=$y.exec(i));)if(p[1]){var y;const G=new yr(p[1]);Ro(o,G,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const ne=af(o,p[2]),Te={attrs:G,bitrate:G.decimalInteger("AVERAGE-BANDWIDTH")||G.decimalInteger("BANDWIDTH"),name:G.NAME,url:aa.resolve(ne,e)},Ve=G.decimalResolution("RESOLUTION");Ve&&(Te.width=Ve.width,Te.height=Ve.height),CC((G.CODECS||"").split(/[ ,]+/).filter(Ge=>Ge),Te),Te.videoCodec&&-1!==Te.videoCodec.indexOf("avc1")&&(Te.videoCodec=aa.convertAVC1ToAVCOTI(Te.videoCodec)),null!=(y=Te.unknownCodecs)&&y.length||u.push(Te),o.levels.push(Te)}else if(p[3]){const ne=p[4];switch(p[3]){case"SESSION-DATA":{const Te=new yr(ne);Ro(o,Te,["DATA-ID","LANGUAGE","VALUE","URI"]);const Ve=Te["DATA-ID"];Ve&&(null===o.sessionData&&(o.sessionData={}),o.sessionData[Ve]=Te);break}case"SESSION-KEY":{const Te=Jy(ne,e,o);Te.encrypted&&Te.isSupported()?(null===o.sessionKeys&&(o.sessionKeys=[]),o.sessionKeys.push(Te)):sn.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${ne}"`);break}case"DEFINE":{const Te=new yr(ne);Ro(o,Te,["NAME","VALUE","QUERYPARAM"]),Ky(o,Te,e)}break;case"CONTENT-STEERING":{const Te=new yr(ne);Ro(o,Te,["SERVER-URI","PATHWAY-ID"]),o.contentSteering={uri:aa.resolve(Te["SERVER-URI"],e),pathwayId:Te["PATHWAY-ID"]||"."};break}case"START":o.startTimeOffset=Qy(ne)}}return o.levels=u.length>0&&u.length<o.levels.length?u:o.levels,0===o.levels.length&&(o.playlistParsingError=new Error("no levels found in manifest")),o}static parseMasterPlaylistMedia(i,e,n){let o;const u={},p=n.levels,y={AUDIO:p.map(G=>({id:G.attrs.AUDIO,audioCodec:G.audioCodec})),SUBTITLES:p.map(G=>({id:G.attrs.SUBTITLES,textCodec:G.textCodec})),"CLOSED-CAPTIONS":[]};let I=0;for(qy.lastIndex=0;null!==(o=qy.exec(i));){const G=new yr(o[1]),ne=G.TYPE;if(ne){const Te=y[ne],Ve=u[ne]||[];u[ne]=Ve,Ro(n,G,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const Ge={attrs:G,bitrate:0,id:I++,groupId:G["GROUP-ID"]||"",instreamId:G["INSTREAM-ID"],name:G.NAME||G.LANGUAGE||"",type:ne,default:G.bool("DEFAULT"),autoselect:G.bool("AUTOSELECT"),forced:G.bool("FORCED"),lang:G.LANGUAGE,url:G.URI?aa.resolve(G.URI,e):""};if(null!=Te&&Te.length){const et=aa.findGroup(Te,Ge.groupId)||Te[0];Xy(Ge,et,"audioCodec"),Xy(Ge,et,"textCodec")}Ve.push(Ge)}}return u}static parseLevelPlaylist(i,e,n,o,u,p){const y=new Bm(e),I=y.fragments;let vt,Lt,qt,G=null,ne=0,Te=0,Ve=0,Ge=0,et=null,ft=new Fm(o,e),zt=-1,un=!1;for(cf.lastIndex=0,y.m3u8=i,y.hasVariableRefs=Km(i);null!==(vt=cf.exec(i));){un&&(un=!1,ft=new Fm(o,e),ft.start=Ve,ft.sn=ne,ft.cc=Ge,ft.level=n,G&&(ft.initSegment=G,ft.rawProgramDateTime=G.rawProgramDateTime,G.rawProgramDateTime=null));const Mn=vt[1];if(Mn){ft.duration=parseFloat(Mn);const jn=(" "+vt[2]).slice(1);ft.title=jn||null,ft.tagList.push(jn?["INF",Mn,jn]:["INF",Mn])}else if(vt[3]){if(ci(ft.duration)){ft.start=Ve,qt&&n0(ft,qt,y),ft.sn=ne,ft.level=n,ft.cc=Ge,ft.urlId=u,I.push(ft);const jn=(" "+vt[3]).slice(1);ft.relurl=af(y,jn),e0(ft,et),et=ft,Ve+=ft.duration,ne++,Te=0,un=!0}}else if(vt[4]){const jn=(" "+vt[4]).slice(1);et?ft.setByteRange(jn,et):ft.setByteRange(jn)}else if(vt[5])ft.rawProgramDateTime=(" "+vt[5]).slice(1),ft.tagList.push(["PROGRAM-DATE-TIME",ft.rawProgramDateTime]),-1===zt&&(zt=I.length);else{if(vt=vt[0].match(SC),!vt){sn.warn("No matches on slow regex match for level playlist!");continue}for(Lt=1;Lt<vt.length&&!(typeof vt[Lt]<"u");Lt++);const jn=(" "+vt[Lt]).slice(1),gn=(" "+vt[Lt+1]).slice(1),Qn=vt[Lt+2]?(" "+vt[Lt+2]).slice(1):"";switch(jn){case"PLAYLIST-TYPE":y.type=gn.toUpperCase();break;case"MEDIA-SEQUENCE":ne=y.startSN=parseInt(gn);break;case"SKIP":{const zn=new yr(gn);Ro(y,zn,["RECENTLY-REMOVED-DATERANGES"]);const gi=zn.decimalInteger("SKIPPED-SEGMENTS");if(ci(gi)){y.skippedSegments=gi;for(let Ki=gi;Ki--;)I.unshift(null);ne+=gi}const Er=zn.enumeratedString("RECENTLY-REMOVED-DATERANGES");Er&&(y.recentlyRemovedDateranges=Er.split("\t"));break}case"TARGETDURATION":y.targetduration=Math.max(parseInt(gn),1);break;case"VERSION":y.version=parseInt(gn);break;case"EXTM3U":break;case"ENDLIST":y.live=!1;break;case"#":(gn||Qn)&&ft.tagList.push(Qn?[gn,Qn]:[gn]);break;case"DISCONTINUITY":Ge++,ft.tagList.push(["DIS"]);break;case"GAP":ft.gap=!0,ft.tagList.push([jn]);break;case"BITRATE":ft.tagList.push([jn,gn]);break;case"DATERANGE":{const zn=new yr(gn);Ro(y,zn,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),Ro(y,zn,zn.clientAttrs);const gi=new Xu(zn,y.dateRanges[zn.ID]);gi.isValid||y.skippedSegments?y.dateRanges[gi.id]=gi:sn.warn(`Ignoring invalid DATERANGE tag: "${gn}"`),ft.tagList.push(["EXT-X-DATERANGE",gn]);break}case"DEFINE":{const zn=new yr(gn);Ro(y,zn,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in zn?Wy(y,zn,p):Ky(y,zn,e)}break;case"DISCONTINUITY-SEQUENCE":Ge=parseInt(gn);break;case"KEY":{const zn=Jy(gn,e,y);if(zn.isSupported()){if("NONE"===zn.method){qt=void 0;break}qt||(qt={}),qt[zn.keyFormat]&&(qt=Gr({},qt)),qt[zn.keyFormat]=zn}else sn.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${gn}"`);break}case"START":y.startTimeOffset=Qy(gn);break;case"MAP":{const zn=new yr(gn);if(Ro(y,zn,["BYTERANGE","URI"]),ft.duration){const gi=new Fm(o,e);t0(gi,zn,n,qt),G=gi,ft.initSegment=G,G.rawProgramDateTime&&!ft.rawProgramDateTime&&(ft.rawProgramDateTime=G.rawProgramDateTime)}else t0(ft,zn,n,qt),G=ft,un=!0;break}case"SERVER-CONTROL":{const zn=new yr(gn);y.canBlockReload=zn.bool("CAN-BLOCK-RELOAD"),y.canSkipUntil=zn.optionalFloat("CAN-SKIP-UNTIL",0),y.canSkipDateRanges=y.canSkipUntil>0&&zn.bool("CAN-SKIP-DATERANGES"),y.partHoldBack=zn.optionalFloat("PART-HOLD-BACK",0),y.holdBack=zn.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const zn=new yr(gn);y.partTarget=zn.decimalFloatingPoint("PART-TARGET");break}case"PART":{let zn=y.partList;zn||(zn=y.partList=[]);const gi=Te>0?zn[zn.length-1]:void 0,Er=Te++,Ki=new yr(gn);Ro(y,Ki,["BYTERANGE","URI"]);const Gn=new oc(Ki,ft,e,Er,gi);zn.push(Gn),ft.duration+=Gn.duration;break}case"PRELOAD-HINT":{const zn=new yr(gn);Ro(y,zn,["URI"]),y.preloadHint=zn;break}case"RENDITION-REPORT":{const zn=new yr(gn);Ro(y,zn,["URI"]),y.renditionReports=y.renditionReports||[],y.renditionReports.push(zn);break}default:sn.warn(`line parsed but not handled: ${vt}`)}}}et&&!et.relurl?(I.pop(),Ve-=et.duration,y.partList&&(y.fragmentHint=et)):y.partList&&(e0(ft,et),ft.cc=Ge,y.fragmentHint=ft,qt&&n0(ft,qt,y));const cn=I.length,Sn=I[0],mn=I[cn-1];if(Ve+=y.skippedSegments*y.targetduration,Ve>0&&cn&&mn){y.averagetargetduration=Ve/cn;const Mn=mn.sn;y.endSN="initSegment"!==Mn?Mn:0,y.live||(mn.endList=!0),Sn&&(y.startCC=Sn.cc)}else y.endSN=0,y.startCC=0;return y.fragmentHint&&(Ve+=y.fragmentHint.duration),y.totalduration=Ve,y.endCC=Ge,zt>0&&function DC(r,i){let e=r[i];for(let n=i;n--;){const o=r[n];if(!o)return;o.programDateTime=e.programDateTime-1e3*o.duration,e=o}}(I,zt),y}}function Jy(r,i,e){var n,o;const u=new yr(r);Ro(e,u,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const p=null!=(n=u.METHOD)?n:"",y=u.URI,I=u.hexadecimalInteger("IV"),G=u.KEYFORMATVERSIONS,ne=null!=(o=u.KEYFORMAT)?o:"identity";y&&u.IV&&!I&&sn.error(`Invalid IV: ${u.IV}`);const Te=y?aa.resolve(y,i):"",Ve=(G||"1").split("/").map(Number).filter(Number.isFinite);return new hd(p,Te,ne,Ve,I)}function Qy(r){const e=new yr(r).decimalFloatingPoint("TIME-OFFSET");return ci(e)?e:null}function CC(r,i){["video","audio","text"].forEach(e=>{const n=r.filter(o=>function Zy(r,i){const e=Wm[i];return!!e&&!0===e[r.slice(0,4)]}(o,e));if(n.length){const o=n.filter(u=>0===u.lastIndexOf("avc1",0)||0===u.lastIndexOf("mp4a",0));i[`${e}Codec`]=o.length>0?o[0]:n[0],r=r.filter(u=>-1===n.indexOf(u))}}),i.unknownCodecs=r}function Xy(r,i,e){const n=i[e];n&&(r[e]=n)}function e0(r,i){r.rawProgramDateTime?r.programDateTime=Date.parse(r.rawProgramDateTime):null!=i&&i.programDateTime&&(r.programDateTime=i.endProgramDateTime),ci(r.programDateTime)||(r.programDateTime=null,r.rawProgramDateTime=null)}function t0(r,i,e,n){r.relurl=i.URI,i.BYTERANGE&&r.setByteRange(i.BYTERANGE),r.level=e,r.sn="initSegment",n&&(r.levelkeys=n),r.initSegment=null}function n0(r,i,e){r.levelkeys=i;const{encryptedFragments:n}=e;(!n.length||n[n.length-1].levelkeys!==i)&&Object.keys(i).some(o=>i[o].isCommonEncryption)&&n.push(r)}function zm(r){const{type:i}=r;switch(i){case"audioTrack":return"audio";case"subtitleTrack":return"subtitle";default:return"main"}}function Zm(r,i){let e=r.url;return(void 0===e||0===e.indexOf("data:"))&&(e=i.url),e}class r0{constructor(i){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=i,this.registerListeners()}startLoad(i){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:i}=this;i.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),i.on(Et.LEVEL_LOADING,this.onLevelLoading,this),i.on(Et.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),i.on(Et.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:i}=this;i.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),i.off(Et.LEVEL_LOADING,this.onLevelLoading,this),i.off(Et.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),i.off(Et.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(i){const e=this.hls.config,p=new(e.pLoader||e.loader)(e);return this.loaders[i.type]=p,p}getInternalLoader(i){return this.loaders[i.type]}resetInternalLoader(i){this.loaders[i]&&delete this.loaders[i]}destroyInternalLoaders(){for(const i in this.loaders){const e=this.loaders[i];e&&e.destroy(),this.resetInternalLoader(i)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(i,e){const{url:n}=e;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:"manifest",url:n,deliveryDirectives:null})}onLevelLoading(i,e){const{id:n,level:o,url:u,deliveryDirectives:p}=e;this.load({id:n,level:o,responseType:"text",type:"level",url:u,deliveryDirectives:p})}onAudioTrackLoading(i,e){const{id:n,groupId:o,url:u,deliveryDirectives:p}=e;this.load({id:n,groupId:o,level:null,responseType:"text",type:"audioTrack",url:u,deliveryDirectives:p})}onSubtitleTrackLoading(i,e){const{id:n,groupId:o,url:u,deliveryDirectives:p}=e;this.load({id:n,groupId:o,level:null,responseType:"text",type:"subtitleTrack",url:u,deliveryDirectives:p})}load(i){var e;const n=this.hls.config;let u,o=this.getInternalLoader(i);if(o){const G=o.context;if(G&&G.url===i.url)return void sn.trace("[playlist-loader]: playlist request ongoing");sn.log(`[playlist-loader]: aborting previous loader for type: ${i.type}`),o.abort()}if(u="manifest"===i.type?n.manifestLoadPolicy.default:Gr({},n.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),o=this.createInternalLoader(i),null!=(e=i.deliveryDirectives)&&e.part){let G;if("level"===i.type&&null!==i.level?G=this.hls.levels[i.level].details:"audioTrack"===i.type&&null!==i.id?G=this.hls.audioTracks[i.id].details:"subtitleTrack"===i.type&&null!==i.id&&(G=this.hls.subtitleTracks[i.id].details),G){const ne=G.partTarget,Te=G.targetduration;if(ne&&Te){const Ve=1e3*Math.max(3*ne,.8*Te);u=Gr({},u,{maxTimeToFirstByteMs:Math.min(Ve,u.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(Ve,u.maxTimeToFirstByteMs)})}}}const p=u.errorRetry||u.timeoutRetry||{};o.load(i,{loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:p.maxNumRetry||0,retryDelay:p.retryDelayMs||0,maxRetryDelay:p.maxRetryDelayMs||0},{onSuccess:(G,ne,Te,Ve)=>{const Ge=this.getInternalLoader(Te);this.resetInternalLoader(Te.type);const et=G.data;0===et.indexOf("#EXTM3U")?(ne.parsing.start=performance.now(),aa.isMediaPlaylist(et)?this.handleTrackOrLevelPlaylist(G,ne,Te,Ve||null,Ge):this.handleMasterPlaylist(G,ne,Te,Ve)):this.handleManifestParsingError(G,Te,new Error("no EXTM3U delimiter"),Ve||null,ne)},onError:(G,ne,Te,Ve)=>{this.handleNetworkError(ne,Te,!1,G,Ve)},onTimeout:(G,ne,Te)=>{this.handleNetworkError(ne,Te,!0,void 0,G)}})}handleMasterPlaylist(i,e,n,o){const u=this.hls,p=i.data,y=Zm(i,n),I=aa.parseMasterPlaylist(p,y);if(I.playlistParsingError)return void this.handleManifestParsingError(i,n,I.playlistParsingError,o,e);const{contentSteering:G,levels:ne,sessionData:Te,sessionKeys:Ve,startTimeOffset:Ge,variableList:et}=I;this.variableList=et;const{AUDIO:ft=[],SUBTITLES:vt,"CLOSED-CAPTIONS":Lt}=aa.parseMasterPlaylistMedia(p,y,I);ft.length&&!ft.some(zt=>!zt.url)&&ne[0].audioCodec&&!ne[0].attrs.AUDIO&&(sn.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),ft.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new yr({}),bitrate:0,url:""})),u.trigger(Et.MANIFEST_LOADED,{levels:ne,audioTracks:ft,subtitles:vt,captions:Lt,contentSteering:G,url:y,stats:e,networkDetails:o,sessionData:Te,sessionKeys:Ve,startTimeOffset:Ge,variableList:et})}handleTrackOrLevelPlaylist(i,e,n,o,u){const p=this.hls,{id:y,level:I,type:G}=n,ne=Zm(i,n),Te=ci(y)?y:0,Ve=ci(I)?I:Te,Ge=zm(n),et=aa.parseLevelPlaylist(i.data,ne,Ve,Ge,Te,this.variableList);if("manifest"===G){const ft={attrs:new yr({}),bitrate:0,details:et,name:"",url:ne};p.trigger(Et.MANIFEST_LOADED,{levels:[ft],audioTracks:[],url:ne,stats:e,networkDetails:o,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}e.parsing.end=performance.now(),n.levelDetails=et,this.handlePlaylistLoaded(et,i,e,n,o,u)}handleManifestParsingError(i,e,n,o,u){this.hls.trigger(Et.ERROR,{type:hi.NETWORK_ERROR,details:En.MANIFEST_PARSING_ERROR,fatal:"manifest"===e.type,url:i.url,err:n,error:n,reason:n.message,response:i,context:e,networkDetails:o,stats:u})}handleNetworkError(i,e,n=!1,o,u){let p=`A network ${n?"timeout":"error"+(o?" (status "+o.code+")":"")} occurred while loading ${i.type}`;"level"===i.type?p+=`: ${i.level} id: ${i.id}`:("audioTrack"===i.type||"subtitleTrack"===i.type)&&(p+=` id: ${i.id} group-id: "${i.groupId}"`);const y=new Error(p);sn.warn(`[playlist-loader]: ${p}`);let I=En.UNKNOWN,G=!1;const ne=this.getInternalLoader(i);switch(i.type){case"manifest":I=n?En.MANIFEST_LOAD_TIMEOUT:En.MANIFEST_LOAD_ERROR,G=!0;break;case"level":I=n?En.LEVEL_LOAD_TIMEOUT:En.LEVEL_LOAD_ERROR,G=!1;break;case"audioTrack":I=n?En.AUDIO_TRACK_LOAD_TIMEOUT:En.AUDIO_TRACK_LOAD_ERROR,G=!1;break;case"subtitleTrack":I=n?En.SUBTITLE_TRACK_LOAD_TIMEOUT:En.SUBTITLE_LOAD_ERROR,G=!1}ne&&this.resetInternalLoader(i.type);const Te={type:hi.NETWORK_ERROR,details:I,fatal:G,url:i.url,loader:ne,context:i,error:y,networkDetails:e,stats:u};o&&(Te.response=Io({url:e?.url||i.url,data:void 0},o)),this.hls.trigger(Et.ERROR,Te)}handlePlaylistLoaded(i,e,n,o,u,p){const y=this.hls,{type:I,level:G,id:ne,groupId:Te,deliveryDirectives:Ve}=o,Ge=Zm(e,o),et=zm(o),ft="number"==typeof o.level&&"main"===et?G:void 0;if(!i.fragments.length){const Lt=new Error("No Segments found in Playlist");return void y.trigger(Et.ERROR,{type:hi.NETWORK_ERROR,details:En.LEVEL_EMPTY_ERROR,fatal:!1,url:Ge,error:Lt,reason:Lt.message,response:e,context:o,level:ft,parent:et,networkDetails:u,stats:n})}i.targetduration||(i.playlistParsingError=new Error("Missing Target Duration"));const vt=i.playlistParsingError;if(vt)y.trigger(Et.ERROR,{type:hi.NETWORK_ERROR,details:En.LEVEL_PARSING_ERROR,fatal:!1,url:Ge,error:vt,reason:vt.message,response:e,context:o,level:ft,parent:et,networkDetails:u,stats:n});else switch(i.live&&p&&(p.getCacheAge&&(i.ageHeader=p.getCacheAge()||0),(!p.getCacheAge||isNaN(i.ageHeader))&&(i.ageHeader=0)),I){case"manifest":case"level":y.trigger(Et.LEVEL_LOADED,{details:i,level:ft||0,id:ne||0,stats:n,networkDetails:u,deliveryDirectives:Ve});break;case"audioTrack":y.trigger(Et.AUDIO_TRACK_LOADED,{details:i,id:ne||0,groupId:Te||"",stats:n,networkDetails:u,deliveryDirectives:Ve});break;case"subtitleTrack":y.trigger(Et.SUBTITLE_TRACK_LOADED,{details:i,id:ne||0,groupId:Te||"",stats:n,networkDetails:u,deliveryDirectives:Ve})}}}function o0(r,i){let e;try{e=new Event("addtrack")}catch{e=document.createEvent("Event"),e.initEvent("addtrack",!1,!1)}e.track=r,i.dispatchEvent(e)}function a0(r,i){const e=r.mode;if("disabled"===e&&(r.mode="hidden"),r.cues&&!r.cues.getCueById(i.id))try{if(r.addCue(i),!r.cues.getCueById(i.id))throw new Error(`addCue is failed for: ${i}`)}catch(n){sn.debug(`[texttrack-utils]: ${n}`);try{const o=new self.TextTrackCue(i.startTime,i.endTime,i.text);o.id=i.id,r.addCue(o)}catch(o){sn.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${o}`)}}"disabled"===e&&(r.mode=e)}function lc(r){const i=r.mode;if("disabled"===i&&(r.mode="hidden"),r.cues)for(let e=r.cues.length;e--;)r.removeCue(r.cues[e]);"disabled"===i&&(r.mode=i)}function pd(r,i,e,n){const o=r.mode;if("disabled"===o&&(r.mode="hidden"),r.cues&&r.cues.length>0){const u=function s0(r,i,e){const n=[],o=function $m(r,i){if(i<r[0].startTime)return 0;const e=r.length-1;if(i>r[e].endTime)return-1;let n=0,o=e;for(;n<=o;){const u=Math.floor((o+n)/2);if(i<r[u].startTime)o=u-1;else{if(!(i>r[u].startTime&&n<e))return u;n=u+1}}return r[n].startTime-i<i-r[o].startTime?n:o}(r,i);if(o>-1)for(let u=o,p=r.length;u<p;u++){const y=r[u];if(y.startTime>=i&&y.endTime<=e)n.push(y);else if(y.startTime>e)return n}return n}(r.cues,i,e);for(let p=0;p<u.length;p++)(!n||n(u[p]))&&r.removeCue(u[p])}"disabled"===o&&(r.mode=o)}var zo_emsg="https://aomedia.org/emsg/ID3";function qm(){if(!(typeof self>"u"))return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}const cc=(()=>{const r=qm();try{new r(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function Jm(r,i){return r.getTime()/1e3-i}function l0(r){return Uint8Array.from(r.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class dc{constructor(i){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=i,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:i}=this;i.on(Et.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(Et.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),i.on(Et.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),i.on(Et.BUFFER_FLUSHING,this.onBufferFlushing,this),i.on(Et.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:i}=this;i.off(Et.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(Et.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),i.off(Et.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),i.off(Et.BUFFER_FLUSHING,this.onBufferFlushing,this),i.off(Et.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(i,e){this.media=e.media}onMediaDetaching(){this.id3Track&&(lc(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(i){const e=this.getID3Track(i.textTracks);return e.mode="hidden",e}getID3Track(i){if(this.media){for(let e=0;e<i.length;e++){const n=i[e];if("metadata"===n.kind&&"id3"===n.label)return o0(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(i,e){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:n,enableID3MetadataCues:o}}}=this;if(!n&&!o)return;const{samples:u}=e;this.id3Track||(this.id3Track=this.createTrack(this.media));const p=qm();for(let y=0;y<u.length;y++){const I=u[y].type;if(I===zo_emsg&&!n||!o)continue;const G=sc(u[y].data);if(G){const ne=u[y].pts;let Te=ne+u[y].duration;Te>cc&&(Te=cc),Te-ne<=0&&(Te=ne+.25);for(let Ge=0;Ge<G.length;Ge++){const et=G[Ge];if(!ky(et)){this.updateId3CueEnds(ne,I);const ft=new p(ne,Te,"");ft.value=et,I&&(ft.type=I),this.id3Track.addCue(ft)}}}}}updateId3CueEnds(i,e){var n;const o=null==(n=this.id3Track)?void 0:n.cues;if(o)for(let u=o.length;u--;){const p=o[u];p.type===e&&p.startTime<i&&p.endTime===cc&&(p.endTime=i)}}onBufferFlushing(i,{startOffset:e,endOffset:n,type:o}){const{id3Track:u,hls:p}=this;if(!p)return;const{config:{enableEmsgMetadataCues:y,enableID3MetadataCues:I}}=p;if(u&&(y||I)){let G;G="audio"===o?ne=>"org.id3"===ne.type&&I:"video"===o?ne=>ne.type===zo_emsg&&y:ne=>"org.id3"===ne.type&&I||ne.type===zo_emsg&&y,pd(u,e,n,G)}}onLevelUpdated(i,{details:e}){if(!this.media||!e.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:n,id3Track:o}=this,{dateRanges:u}=e,p=Object.keys(u);if(o){const ne=Object.keys(n).filter(Te=>!p.includes(Te));for(let Te=ne.length;Te--;){const Ve=ne[Te];Object.keys(n[Ve].cues).forEach(Ge=>{o.removeCue(n[Ve].cues[Ge])}),delete n[Ve]}}const y=e.fragments[e.fragments.length-1];if(0===p.length||!ci(y?.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const I=y.programDateTime/1e3-y.start,G=qm();for(let ne=0;ne<p.length;ne++){const Te=p[ne],Ve=u[Te],Ge=n[Te],et=Ge?.cues||{};let ft=Ge?.durationKnown||!1;const vt=Jm(Ve.startDate,I);let Lt=cc;const qt=Ve.endDate;if(qt)Lt=Jm(qt,I),ft=!0;else if(Ve.endOnNext&&!ft){const un=p.reduce((cn,Sn)=>{const mn=u[Sn];return mn.class===Ve.class&&mn.id!==Sn&&mn.startDate>Ve.startDate&&cn.push(mn),cn},[]).sort((cn,Sn)=>cn.startDate.getTime()-Sn.startDate.getTime())[0];un&&(Lt=Jm(un.startDate,I),ft=!0)}const zt=Object.keys(Ve.attr);for(let un=0;un<zt.length;un++){const cn=zt[un];if("ID"===(r=cn)||"CLASS"===r||"START-DATE"===r||"DURATION"===r||"END-DATE"===r||"END-ON-NEXT"===r)continue;let Sn=et[cn];if(Sn)ft&&!Ge.durationKnown&&(Sn.endTime=Lt);else{let mn=Ve.attr[cn];Sn=new G(vt,Lt,""),Ay(cn)&&(mn=l0(mn)),Sn.value={key:cn,data:mn},Sn.type="com.apple.quicktime.HLS",Sn.id=Te,this.id3Track.addCue(Sn),et[cn]=Sn}}n[Te]={cues:et,dateRange:Ve,durationKnown:ft}}var r}}class c0{constructor(i){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=i,this.config=i.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:i,levelDetails:e}=this;return void 0!==i.liveMaxLatencyDuration?i.liveMaxLatencyDuration:e?i.liveMaxLatencyDurationCount*e.targetduration:0}get targetLatency(){const{levelDetails:i}=this;if(null===i)return null;const{holdBack:e,partHoldBack:n,targetduration:o}=i,{liveSyncDuration:u,liveSyncDurationCount:p,lowLatencyMode:y}=this.config,I=this.hls.userConfig;let G=y&&n||e;return(I.liveSyncDuration||I.liveSyncDurationCount||0===G)&&(G=void 0!==u?u:p*o),G+Math.min(1*this.stallCount,o)}get liveSyncPosition(){const i=this.estimateLiveEdge(),e=this.targetLatency,n=this.levelDetails;if(null===i||null===e||null===n)return null;const o=n.edge,y=o-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(o-n.totalduration,i-e-this.edgeStalled),y)}get drift(){const{levelDetails:i}=this;return null===i?1:i.drift}get edgeStalled(){const{levelDetails:i}=this;return null===i?0:Math.max(i.age-3*(this.config.lowLatencyMode&&i.partTarget||i.targetduration),0)}get forwardBufferLength(){const{media:i,levelDetails:e}=this;if(!i||!e)return 0;const n=i.buffered.length;return(n?i.buffered.end(n-1):e.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(Et.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Et.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Et.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(Et.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(Et.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Et.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Et.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(Et.ERROR,this.onError,this)}onMediaAttached(i,e){this.media=e.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(i,{details:e}){this.levelDetails=e,e.advanced&&this.timeupdate(),!e.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(i,e){var n;e.details===En.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(n=this.levelDetails)&&n.live&&sn.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:i,levelDetails:e}=this;if(!i||!e)return;this.currentTime=i.currentTime;const n=this.computeLatency();if(null===n)return;this._latency=n;const{lowLatencyMode:o,maxLiveSyncPlaybackRate:u}=this.config;if(!o||1===u)return;const p=this.targetLatency;if(null===p)return;const y=n-p,I=Math.min(this.maxLatency,p+e.targetduration);if(e.live&&y<I&&y>.05&&this.forwardBufferLength>1){const ne=Math.min(2,Math.max(1,u)),Te=Math.round(2/(1+Math.exp(-.75*y-this.edgeStalled))*20)/20;i.playbackRate=Math.min(ne,Math.max(1,Te))}else 1!==i.playbackRate&&0!==i.playbackRate&&(i.playbackRate=1)}estimateLiveEdge(){const{levelDetails:i}=this;return null===i?null:i.edge+i.age}computeLatency(){const i=this.estimateLiveEdge();return null===i?null:i-this.currentTime}}const Qm=["NONE","TYPE-0","TYPE-1",null];class uf{constructor(i,e,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=i,this.part=e,this.skip=n}addDirectives(i){const e=new self.URL(i);return void 0!==this.msn&&e.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&e.searchParams.set("_HLS_part",this.part.toString()),this.skip&&e.searchParams.set("_HLS_skip",this.skip),e.href}}class gd{constructor(i){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[i.url],this._attrs=[i.attrs],this.bitrate=i.bitrate,i.details&&(this.details=i.details),this.id=i.id||0,this.name=i.name,this.width=i.width||0,this.height=i.height||0,this.audioCodec=i.audioCodec,this.videoCodec=i.videoCodec,this.unknownCodecs=i.unknownCodecs,this.codecSet=[i.videoCodec,i.audioCodec].filter(e=>e).join(",").replace(/\.[^.,]+/g,"")}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get attrs(){return this._attrs[this._urlId]}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get uri(){return this.url[this._urlId]||""}get urlId(){return this._urlId}set urlId(i){const e=i%this.url.length;this._urlId!==e&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=e)}get audioGroupId(){var i;return null==(i=this.audioGroupIds)?void 0:i[this.urlId]}get textGroupId(){var i;return null==(i=this.textGroupIds)?void 0:i[this.urlId]}addFallback(i){this.url.push(i.url),this._attrs.push(i.attrs)}}function ff(r,i){const e=i.startPTS;if(ci(e)){let o,n=0;i.sn>r.sn?(n=e-r.start,o=r):(n=r.start-e,o=i),o.duration!==n&&(o.duration=n)}else i.start=i.sn>r.sn?r.cc===i.cc&&r.minEndPTS?r.start+(r.minEndPTS-r.start):r.start+r.duration:Math.max(r.start-i.duration,0)}function ep(r,i,e,n,o,u){n-e<=0&&(sn.warn("Fragment should have a positive duration",i),n=e+i.duration,u=o+i.duration);let y=e,I=n;const G=i.startPTS,ne=i.endPTS;if(ci(G)){const vt=Math.abs(G-e);i.deltaPTS=ci(i.deltaPTS)?Math.max(vt,i.deltaPTS):vt,y=Math.max(e,G),e=Math.min(e,G),o=Math.min(o,i.startDTS),I=Math.min(n,ne),n=Math.max(n,ne),u=Math.max(u,i.endDTS)}const Te=e-i.start;0!==i.start&&(i.start=e),i.duration=n-i.start,i.startPTS=e,i.maxStartPTS=y,i.startDTS=o,i.endPTS=n,i.minEndPTS=I,i.endDTS=u;const Ve=i.sn;if(!r||Ve<r.startSN||Ve>r.endSN)return 0;let Ge;const et=Ve-r.startSN,ft=r.fragments;for(ft[et]=i,Ge=et;Ge>0;Ge--)ff(ft[Ge],ft[Ge-1]);for(Ge=et;Ge<ft.length-1;Ge++)ff(ft[Ge],ft[Ge+1]);return r.fragmentHint&&ff(ft[ft.length-1],r.fragmentHint),r.PTSKnown=r.alignedSliding=!0,Te}function np(r,i){const e=i.startSN+i.skippedSegments-r.startSN,n=r.fragments;e<0||e>=n.length||hf(i,n[e].start)}function hf(r,i){if(i){const e=r.fragments;for(let n=r.skippedSegments;n<e.length;n++)e[n].start+=i;r.fragmentHint&&(r.fragmentHint.start+=i)}}function h0(r,i,e){var n;return null!=r&&r.details?m0(null==(n=r.details)?void 0:n.partList,i,e):null}function m0(r,i,e){if(r)for(let n=r.length;n--;){const o=r[n];if(o.index===e&&o.fragment.sn===i)return o}return null}function mf(r){switch(r.details){case En.FRAG_LOAD_TIMEOUT:case En.KEY_LOAD_TIMEOUT:case En.LEVEL_LOAD_TIMEOUT:case En.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function ip(r,i){const e=mf(i);return r.default[(e?"timeout":"error")+"Retry"]}function p0(r,i){const e="linear"===r.backoff?1:Math.pow(2,i);return Math.min(e*r.retryDelayMs,r.maxRetryDelayMs)}function rp(r){return Io(Io({},r),{errorRetry:null,timeoutRetry:null})}function pf(r,i,e,n){return!!r&&i<r.maxNumRetry&&(function wC(r){return 0===r&&!1===navigator.onLine||!!r&&(r<400||r>499)}(n)||!!e)}const IC={search:function(r,i){let e=0,n=r.length-1,o=null,u=null;for(;e<=n;){o=(e+n)/2|0,u=r[o];const p=i(u);if(p>0)e=o+1;else{if(!(p<0))return u;n=o-1}}return null}};function _d(r,i,e=0,n=0){let o=null;if(r?o=i[r.sn-i[0].sn+1]||null:0===e&&0===i[0].start&&(o=i[0]),o&&0===gf(e,n,o))return o;const u=IC.search(i,gf.bind(null,e,n));return!u||u===r&&o?o:u}function gf(r=0,i=0,e){if(e.start<=r&&e.start+e.duration>r)return 0;const n=Math.min(i,e.duration+(e.deltaPTS?e.deltaPTS:0));return e.start+e.duration-n<=r?1:e.start-n>r&&e.start?-1:0}function g0(r,i,e){const n=1e3*Math.min(i,e.duration+(e.deltaPTS?e.deltaPTS:0));return(e.endProgramDateTime||0)-n>r}function RC(r,i,e){if(performance.now()-r.lastErrorPerfMs>3e5)return!0;const n=r.details;if(i.details===En.FRAG_GAP&&n&&i.frag){const u=_d(null,n.fragments,i.frag.start);if(u&&!u.gap)return!0}if(e&&r.errors.length<e.errors.length){const o=r.errors[r.errors.length-1];if(n&&o.frag&&i.frag&&Math.abs(o.frag.start-i.frag.start)>3*n.targetduration)return!0}return!1}class op{constructor(i,e){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=sn.log.bind(sn,`${e}:`),this.warn=sn.warn.bind(sn,`${e}:`),this.hls=i}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){clearTimeout(this.timer),this.timer=-1}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(i,e){const n=e?.renditionReports;if(n){let o=-1;for(let u=0;u<n.length;u++){const p=n[u];let y;try{y=new self.URL(p.URI,e.url).href}catch(I){sn.warn(`Could not construct new URL for Rendition Report: ${I}`),y=p.URI||""}if(y===i){o=u;break}y===i.substring(0,y.length)&&(o=u)}if(-1!==o){const u=n[o],p=parseInt(u["LAST-MSN"])||e?.lastPartSn;let y=parseInt(u["LAST-PART"])||e?.lastPartIndex;if(this.hls.config.lowLatencyMode){const I=Math.min(e.age-e.partTarget,e.targetduration);y>=0&&I>e.partTarget&&(y+=1)}return new uf(p,y>=0?y:void 0,"")}}}loadPlaylist(i){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(i){return this.canLoad&&!!i&&!!i.url&&(!i.details||i.details.live)}shouldReloadPlaylist(i){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(i)}playlistLoaded(i,e,n){const{details:o,stats:u}=e,p=self.performance.now(),y=u.loading.first?Math.max(0,p-u.loading.first):0;if(o.advancedDateTime=Date.now()-y,o.live||null!=n&&n.live){if(o.reloaded(n),n&&this.log(`live playlist ${i} ${o.advanced?"REFRESHED "+o.lastPartSn+"-"+o.lastPartIndex:"MISSED"}`),n&&o.fragments.length>0&&function MC(r,i){let e=null;const n=r.fragments;for(let I=n.length-1;I>=0;I--){const G=n[I].initSegment;if(G){e=G;break}}r.fragmentHint&&delete r.fragmentHint.endPTS;let u,o=0;if(function u0(r,i,e){const n=i.skippedSegments,o=Math.max(r.startSN,i.startSN)-i.startSN,u=(r.fragmentHint?1:0)+(n?i.endSN:Math.min(r.endSN,i.endSN))-i.startSN,p=i.startSN-r.startSN,y=i.fragmentHint?i.fragments.concat(i.fragmentHint):i.fragments,I=r.fragmentHint?r.fragments.concat(r.fragmentHint):r.fragments;for(let G=o;G<=u;G++){const ne=I[p+G];let Te=y[G];n&&!Te&&G<n&&(Te=i.fragments[G]=ne),ne&&Te&&e(ne,Te)}}(r,i,(I,G)=>{I.relurl&&(o=I.cc-G.cc),ci(I.startPTS)&&ci(I.endPTS)&&(G.start=G.startPTS=I.startPTS,G.startDTS=I.startDTS,G.maxStartPTS=I.maxStartPTS,G.endPTS=I.endPTS,G.endDTS=I.endDTS,G.minEndPTS=I.minEndPTS,G.duration=I.endPTS-I.startPTS,G.duration&&(u=G),i.PTSKnown=i.alignedSliding=!0),G.elementaryStreams=I.elementaryStreams,G.loader=I.loader,G.stats=I.stats,G.urlId=I.urlId,I.initSegment&&(G.initSegment=I.initSegment,e=I.initSegment)}),e&&(i.fragmentHint?i.fragments.concat(i.fragmentHint):i.fragments).forEach(G=>{var ne;(!G.initSegment||G.initSegment.relurl===(null==(ne=e)?void 0:ne.relurl))&&(G.initSegment=e)}),i.skippedSegments)if(i.deltaUpdateFailed=i.fragments.some(I=>!I),i.deltaUpdateFailed){sn.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let I=i.skippedSegments;I--;)i.fragments.shift();i.startSN=i.fragments[0].sn,i.startCC=i.fragments[0].cc}else i.canSkipDateRanges&&(i.dateRanges=function d0(r,i,e){const n=Gr({},r);return e&&e.forEach(o=>{delete n[o]}),Object.keys(i).forEach(o=>{const u=new Xu(i[o].attr,n[o]);u.isValid?n[o]=u:sn.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(i[o].attr)}"`)}),n}(r.dateRanges,i.dateRanges,i.recentlyRemovedDateranges));const p=i.fragments;if(o){sn.warn("discontinuity sliding from playlist, take drift into account");for(let I=0;I<p.length;I++)p[I].cc+=o}i.skippedSegments&&(i.startCC=i.fragments[0].cc),function tp(r,i,e){if(r&&i){let n=0;for(let o=0,u=r.length;o<=u;o++){const p=r[o],y=i[o+n];p&&y&&p.index===y.index&&p.fragment.sn===y.fragment.sn?e(p,y):n--}}}(r.partList,i.partList,(I,G)=>{G.elementaryStreams=I.elementaryStreams,G.stats=I.stats}),u?ep(i,u,u.startPTS,u.endPTS,u.startDTS,u.endDTS):np(r,i),p.length&&(i.totalduration=i.edge-p[0].start),i.driftStartTime=r.driftStartTime,i.driftStart=r.driftStart;const y=i.advancedDateTime;if(i.advanced&&y){const I=i.edge;i.driftStart||(i.driftStartTime=y,i.driftStart=I),i.driftEndTime=y,i.driftEnd=I}else i.driftEndTime=r.driftEndTime,i.driftEnd=r.driftEnd,i.advancedDateTime=r.advancedDateTime}(n,o),!this.canLoad||!o.live)return;let I,G,ne;if(o.canBlockReload&&o.endSN&&o.advanced){const vt=this.hls.config.lowLatencyMode,Lt=o.lastPartSn,qt=o.endSN,zt=o.lastPartIndex,cn=Lt===qt;-1!==zt?(G=cn?qt+1:Lt,ne=cn?vt?0:zt:zt+1):G=qt+1;const mn=o.age;let jn=Math.min(mn+o.ageHeader-o.partTarget,1.5*o.targetduration);if(jn>0){if(n&&jn>n.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${n.tuneInGoal} to: ${jn} with playlist age: ${o.age}`),jn=0;else{const gn=Math.floor(jn/o.targetduration);G+=gn,void 0!==ne&&(ne+=Math.round(jn%o.targetduration/o.partTarget)),this.log(`CDN Tune-in age: ${o.ageHeader}s last advanced ${mn.toFixed(2)}s goal: ${jn} skip sn ${gn} to part ${ne}`)}o.tuneInGoal=jn}if(I=this.getDeliveryDirectives(o,e.deliveryDirectives,G,ne),vt||!cn)return void this.loadPlaylist(I)}else o.canBlockReload&&(I=this.getDeliveryDirectives(o,e.deliveryDirectives,G,ne));const Te=this.hls.mainForwardBufferInfo,et=function f0(r,i=1/0){let e=1e3*r.targetduration;if(r.updated){const n=r.fragments;if(n.length&&4*e>i){const u=1e3*n[n.length-1].duration;u<e&&(e=u)}}else e/=2;return Math.round(e)}(o,1e3*(o.edge-(Te?Te.end-Te.len:0)));o.updated&&p>this.requestScheduled+et&&(this.requestScheduled=u.loading.start),void 0!==G&&o.canBlockReload?this.requestScheduled=u.loading.first+et-(1e3*o.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+et<p?this.requestScheduled=p:this.requestScheduled-p<=0&&(this.requestScheduled+=et);let ft=this.requestScheduled-p;ft=Math.max(0,ft),this.log(`reload live playlist ${i} in ${Math.round(ft)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(I),ft)}else this.clearTimer()}getDeliveryDirectives(i,e,n,o){let u=function Xm(r,i){const{canSkipUntil:e,canSkipDateRanges:n,endSN:o}=r;return e&&(void 0!==i?i-o:0)<e?n?"v2":"YES":""}(i,n);return null!=e&&e.skip&&i.deltaUpdateFailed&&(n=e.msn,o=e.part,u=""),new uf(n,o,u)}checkRetry(i){const e=i.details,n=mf(i),o=i.errorAction,{action:u,retryCount:p=0,retryConfig:y}=o||{},I=!!o&&!!y&&(5===u||!o.resolved&&2===u);if(I){var G;if(this.requestScheduled=-1,p>=y.maxNumRetry)return!1;if(n&&null!=(G=i.context)&&G.deliveryDirectives)this.warn(`Retrying playlist loading ${p+1}/${y.maxNumRetry} after "${e}" without delivery-directives`),this.loadPlaylist();else{const ne=p0(y,p);this.timer=self.setTimeout(()=>this.loadPlaylist(),ne),this.warn(`Retrying playlist loading ${p+1}/${y.maxNumRetry} after "${e}" in ${ne}ms`)}i.levelRetry=!0,o.resolved=!0}return I}}let ap;class vd extends op{constructor(i,e){super(i,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=e,this._registerListeners()}_registerListeners(){const{hls:i}=this;i.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),i.on(Et.MANIFEST_LOADED,this.onManifestLoaded,this),i.on(Et.LEVEL_LOADED,this.onLevelLoaded,this),i.on(Et.LEVELS_UPDATED,this.onLevelsUpdated,this),i.on(Et.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),i.on(Et.FRAG_LOADED,this.onFragLoaded,this),i.on(Et.ERROR,this.onError,this)}_unregisterListeners(){const{hls:i}=this;i.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),i.off(Et.MANIFEST_LOADED,this.onManifestLoaded,this),i.off(Et.LEVEL_LOADED,this.onLevelLoaded,this),i.off(Et.LEVELS_UPDATED,this.onLevelsUpdated,this),i.off(Et.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),i.off(Et.FRAG_LOADED,this.onFragLoaded,this),i.off(Et.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}startLoad(){this._levels.forEach(e=>{e.loadError=0,e.fragmentError=0}),super.startLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]}onManifestLoading(i,e){this.resetLevels()}onManifestLoaded(i,e){const n=[],o={};let u;e.levels.forEach(p=>{var y;const I=p.attrs;-1!==(null==(y=p.audioCodec)?void 0:y.indexOf("mp4a.40.34"))&&(ap||(ap=/chrome|firefox/i.test(navigator.userAgent)),ap&&(p.audioCodec=void 0));const{AUDIO:G,CODECS:ne,"FRAME-RATE":Te,"PATHWAY-ID":Ve,RESOLUTION:Ge,SUBTITLES:et}=I,vt=`${Ve||"."}-${p.bitrate}-${Ge}-${Te}-${ne}`;u=o[vt],u?u.addFallback(p):(u=new gd(p),o[vt]=u,n.push(u)),yd(u,"audio",G),yd(u,"text",et)}),this.filterAndSortMediaOptions(n,e)}filterAndSortMediaOptions(i,e){let n=[],o=[],u=!1,p=!1,y=!1,I=i.filter(({audioCodec:Ge,videoCodec:et,width:ft,height:vt,unknownCodecs:Lt})=>(u||(u=!(!ft||!vt)),p||(p=!!et),y||(y=!!Ge),!(null!=Lt&&Lt.length)&&(!Ge||lf(Ge,"audio"))&&(!et||lf(et,"video"))));if((u||p)&&y&&(I=I.filter(({videoCodec:Ge,width:et,height:ft})=>!!Ge||!(!et||!ft))),0===I.length)return void Promise.resolve().then(()=>{if(this.hls){const Ge=new Error("no level with compatible codecs found in manifest");this.hls.trigger(Et.ERROR,{type:hi.MEDIA_ERROR,details:En.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:e.url,error:Ge,reason:Ge.message})}});e.audioTracks&&(n=e.audioTracks.filter(Ge=>!Ge.audioCodec||lf(Ge.audioCodec,"audio")),sp(n)),e.subtitles&&(o=e.subtitles,sp(o));const G=I.slice(0);I.sort((Ge,et)=>Ge.attrs["HDCP-LEVEL"]!==et.attrs["HDCP-LEVEL"]?(Ge.attrs["HDCP-LEVEL"]||"")>(et.attrs["HDCP-LEVEL"]||"")?1:-1:Ge.bitrate!==et.bitrate?Ge.bitrate-et.bitrate:Ge.attrs["FRAME-RATE"]!==et.attrs["FRAME-RATE"]?Ge.attrs.decimalFloatingPoint("FRAME-RATE")-et.attrs.decimalFloatingPoint("FRAME-RATE"):Ge.attrs.SCORE!==et.attrs.SCORE?Ge.attrs.decimalFloatingPoint("SCORE")-et.attrs.decimalFloatingPoint("SCORE"):u&&Ge.height!==et.height?Ge.height-et.height:0);let ne=G[0];if(this.steering&&(I=this.steering.filterParsedLevels(I),I.length!==G.length))for(let Ge=0;Ge<G.length;Ge++)if(G[Ge].pathwayId===I[0].pathwayId){ne=G[Ge];break}this._levels=I;for(let Ge=0;Ge<I.length;Ge++)if(I[Ge]===ne){this._firstLevel=Ge,this.log(`manifest loaded, ${I.length} level(s) found, first bitrate: ${ne.bitrate}`);break}const Ve={levels:I,audioTracks:n,subtitleTracks:o,sessionData:e.sessionData,sessionKeys:e.sessionKeys,firstLevel:this._firstLevel,stats:e.stats,audio:y,video:p,altAudio:!(y&&!p)&&n.some(Ge=>!!Ge.url)};this.hls.trigger(Et.MANIFEST_PARSED,Ve),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return 0===this._levels.length?null:this._levels}get level(){return this.currentLevelIndex}set level(i){const e=this._levels;if(0===e.length)return;if(i<0||i>=e.length){const ne=new Error("invalid level idx"),Te=i<0;if(this.hls.trigger(Et.ERROR,{type:hi.OTHER_ERROR,details:En.LEVEL_SWITCH_ERROR,level:i,fatal:Te,error:ne,reason:ne.message}),Te)return;i=Math.min(i,e.length-1)}const n=this.currentLevelIndex,o=this.currentLevel,u=o?o.attrs["PATHWAY-ID"]:void 0,p=e[i],y=p.attrs["PATHWAY-ID"];if(this.currentLevelIndex=i,this.currentLevel=p,n===i&&p.details&&o&&u===y)return;this.log(`Switching to level ${i}${y?" with Pathway "+y:""} from level ${n}${u?" with Pathway "+u:""}`);const I=Gr({},p,{level:i,maxBitrate:p.maxBitrate,attrs:p.attrs,uri:p.uri,urlId:p.urlId});delete I._attrs,delete I._urlId,this.hls.trigger(Et.LEVEL_SWITCHING,I);const G=p.details;if(!G||G.live){const ne=this.switchParams(p.uri,o?.details);this.loadPlaylist(ne)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(i){this.manualLevelIndex=i,void 0===this._startLevel&&(this._startLevel=i),-1!==i&&(this.level=i)}get firstLevel(){return this._firstLevel}set firstLevel(i){this._firstLevel=i}get startLevel(){if(void 0===this._startLevel){const i=this.hls.config.startLevel;return void 0!==i?i:this._firstLevel}return this._startLevel}set startLevel(i){this._startLevel=i}onError(i,e){e.fatal||!e.context||"level"===e.context.type&&e.context.level===this.level&&this.checkRetry(e)}onFragLoaded(i,{frag:e}){if(void 0!==e&&"main"===e.type){const n=this._levels[e.level];void 0!==n&&(n.loadError=0)}}onLevelLoaded(i,e){var n;const{level:o,details:u}=e,p=this._levels[o];var y;if(!p)return this.warn(`Invalid level index ${o}`),void(null!=(y=e.deliveryDirectives)&&y.skip&&(u.deltaUpdateFailed=!0));o===this.currentLevelIndex?(0===p.fragmentError&&(p.loadError=0),this.playlistLoaded(o,e,p.details)):null!=(n=e.deliveryDirectives)&&n.skip&&(u.deltaUpdateFailed=!0)}onAudioTrackSwitched(i,e){const n=this.currentLevel;if(!n)return;const o=this.hls.audioTracks[e.id].groupId;if(n.audioGroupIds&&n.audioGroupId!==o){let u=-1;for(let p=0;p<n.audioGroupIds.length;p++)if(n.audioGroupIds[p]===o){u=p;break}-1!==u&&u!==n.urlId&&(n.urlId=u,this.canLoad&&this.startLoad())}}loadPlaylist(i){super.loadPlaylist();const e=this.currentLevelIndex,n=this.currentLevel;if(n&&this.shouldLoadPlaylist(n)){const o=n.urlId;let u=n.uri;if(i)try{u=i.addDirectives(u)}catch(y){this.warn(`Could not construct new URL with HLS Delivery Directives: ${y}`)}const p=n.attrs["PATHWAY-ID"];this.log(`Loading level index ${e}${void 0!==i?.msn?" at sn "+i.msn+" part "+i.part:""} with${p?" Pathway "+p:""} URI ${o+1}/${n.url.length} ${u}`),this.clearTimer(),this.hls.trigger(Et.LEVEL_LOADING,{url:u,level:e,id:o,deliveryDirectives:i||null})}}get nextLoadLevel(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(i){this.level=i,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=i)}removeLevel(i,e){const n=(u,p)=>p!==e,o=this._levels.filter((u,p)=>p!==i||(u.url.length>1&&void 0!==e?(u.url=u.url.filter(n),u.audioGroupIds&&(u.audioGroupIds=u.audioGroupIds.filter(n)),u.textGroupIds&&(u.textGroupIds=u.textGroupIds.filter(n)),u.urlId=0,!0):(this.steering&&this.steering.removeLevel(u),!1)));this.hls.trigger(Et.LEVELS_UPDATED,{levels:o})}onLevelsUpdated(i,{levels:e}){e.forEach((n,o)=>{const{details:u}=n;null!=u&&u.fragments&&u.fragments.forEach(p=>{p.level=o})}),this._levels=e}}function yd(r,i,e){e&&("audio"===i?(r.audioGroupIds||(r.audioGroupIds=[]),r.audioGroupIds[r.url.length-1]=e):"text"===i&&(r.textGroupIds||(r.textGroupIds=[]),r.textGroupIds[r.url.length-1]=e))}function sp(r){const i={};r.forEach(e=>{const n=e.groupId||"";e.id=i[n]=i[n]||0,i[n]++})}class y0{constructor(i){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=i,this._registerListeners()}_registerListeners(){const{hls:i}=this;i.on(Et.BUFFER_APPENDED,this.onBufferAppended,this),i.on(Et.FRAG_BUFFERED,this.onFragBuffered,this),i.on(Et.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:i}=this;i.off(Et.BUFFER_APPENDED,this.onBufferAppended,this),i.off(Et.FRAG_BUFFERED,this.onFragBuffered,this),i.off(Et.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(i,e){const n=this.activePartLists[e];if(n)for(let o=n.length;o--;){const u=n[o];if(!u)break;const p=u.end;if(u.start<=i&&null!==p&&i<=p)return u}return this.getBufferedFrag(i,e)}getBufferedFrag(i,e){const{fragments:n}=this,o=Object.keys(n);for(let u=o.length;u--;){const p=n[o[u]];if(p?.body.type===e&&p.buffered){const y=p.body;if(y.start<=i&&i<=y.end)return y}}return null}detectEvictedFragments(i,e,n,o){this.timeRanges&&(this.timeRanges[i]=e);const u=o?.fragment.sn||-1;Object.keys(this.fragments).forEach(p=>{const y=this.fragments[p];if(!y||u>=y.body.sn)return;if(!y.buffered&&!y.loaded)return void(y.body.type===n&&this.removeFragment(y.body));const I=y.range[i];I&&I.time.some(G=>{const ne=!this.isTimeBuffered(G.startPTS,G.endPTS,e);return ne&&this.removeFragment(y.body),ne})})}detectPartialFragments(i){const e=this.timeRanges,{frag:n,part:o}=i;if(!e||"initSegment"===n.sn)return;const u=tl(n),p=this.fragments[u];if(!p||p.buffered&&n.gap)return;const y=!n.relurl;Object.keys(e).forEach(I=>{const G=n.elementaryStreams[I];G&&(p.range[I]=this.getBufferedTimes(n,o,y||!0===G.partial,e[I]))}),p.loaded=null,Object.keys(p.range).length?(p.buffered=!0,p.body.endList&&(this.endListFragments[p.body.type]=p),bd(p)||this.removeParts(n.sn-1,n.type)):this.removeFragment(p.body)}removeParts(i,e){const n=this.activePartLists[e];n&&(this.activePartLists[e]=n.filter(o=>o.fragment.sn>=i))}fragBuffered(i,e){const n=tl(i);let o=this.fragments[n];!o&&e&&(o=this.fragments[n]={body:i,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},i.gap&&(this.hasGaps=!0)),o&&(o.loaded=null,o.buffered=!0)}getBufferedTimes(i,e,n,o){const u={time:[],partial:n},p=i.start,y=i.end,I=i.minEndPTS||y,G=i.maxStartPTS||p;for(let ne=0;ne<o.length;ne++){const Te=o.start(ne)-this.bufferPadding,Ve=o.end(ne)+this.bufferPadding;if(G>=Te&&I<=Ve){u.time.push({startPTS:Math.max(p,o.start(ne)),endPTS:Math.min(y,o.end(ne))});break}if(p<Ve&&y>Te)u.partial=!0,u.time.push({startPTS:Math.max(p,o.start(ne)),endPTS:Math.min(y,o.end(ne))});else if(y<=Te)break}return u}getPartialFragment(i){let n,o,u,e=null,p=0;const{bufferPadding:y,fragments:I}=this;return Object.keys(I).forEach(G=>{const ne=I[G];ne&&bd(ne)&&(o=ne.body.start-y,u=ne.body.end+y,i>=o&&i<=u&&(n=Math.min(i-o,u-i),p<=n&&(e=ne.body,p=n)))}),e}isEndListAppended(i){const e=this.endListFragments[i];return void 0!==e&&(e.buffered||bd(e))}getState(i){const e=tl(i),n=this.fragments[e];return n?n.buffered?bd(n)?"PARTIAL":"OK":"APPENDING":"NOT_LOADED"}isTimeBuffered(i,e,n){let o,u;for(let p=0;p<n.length;p++){if(o=n.start(p)-this.bufferPadding,u=n.end(p)+this.bufferPadding,i>=o&&e<=u)return!0;if(e<=o)return!1}return!1}onFragLoaded(i,e){const{frag:n,part:o}=e;if("initSegment"===n.sn||n.bitrateTest)return;const u=o?null:e,p=tl(n);this.fragments[p]={body:n,appendedPTS:null,loaded:u,buffered:!1,range:Object.create(null)}}onBufferAppended(i,e){const{frag:n,part:o,timeRanges:u}=e;if("initSegment"===n.sn)return;const p=n.type;if(o){let y=this.activePartLists[p];y||(this.activePartLists[p]=y=[]),y.push(o)}this.timeRanges=u,Object.keys(u).forEach(y=>{this.detectEvictedFragments(y,u[y],p,o)})}onFragBuffered(i,e){this.detectPartialFragments(e)}hasFragment(i){const e=tl(i);return!!this.fragments[e]}hasParts(i){var e;return!(null==(e=this.activePartLists[i])||!e.length)}removeFragmentsInRange(i,e,n,o,u){o&&!this.hasGaps||Object.keys(this.fragments).forEach(p=>{const y=this.fragments[p];if(!y)return;const I=y.body;I.type!==n||o&&!I.gap||I.start<e&&I.end>i&&(y.buffered||u)&&this.removeFragment(I)})}removeFragment(i){const e=tl(i);i.stats.loaded=0,i.clearElementaryStreamInfo();const n=this.activePartLists[i.type];if(n){const o=i.sn;this.activePartLists[i.type]=n.filter(u=>u.fragment.sn!==o)}delete this.fragments[e],i.endList&&delete this.endListFragments[i.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function bd(r){var i,e,n;return r.buffered&&(r.body.gap||(null==(i=r.range.video)?void 0:i.partial)||(null==(e=r.range.audio)?void 0:e.partial)||(null==(n=r.range.audiovideo)?void 0:n.partial))}function tl(r){return`${r.type}_${r.level}_${r.urlId}_${r.sn}`}const b0=Math.pow(2,17);class XM{constructor(i){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=i}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(i,e){const n=i.url;if(!n)return Promise.reject(new ja({type:hi.NETWORK_ERROR,details:En.FRAG_LOAD_ERROR,fatal:!1,frag:i,error:new Error("Fragment does not have a "+(n?"part list":"url")),networkDetails:null}));this.abort();const o=this.config,u=o.fLoader,p=o.loader;return new Promise((y,I)=>{if(this.loader&&this.loader.destroy(),i.gap){if(i.tagList.some(Ge=>"GAP"===Ge[0]))return void I(lp(i));i.gap=!1}const G=this.loader=i.loader=u?new u(o):new p(o),ne=NC(i),Te=rp(o.fragLoadPolicy.default),Ve={loadPolicy:Te,timeout:Te.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===i.sn?1/0:b0};i.stats=G.stats,G.load(ne,Ve,{onSuccess:(Ge,et,ft,vt)=>{this.resetLoader(i,G);let Lt=Ge.data;ft.resetIV&&i.decryptdata&&(i.decryptdata.iv=new Uint8Array(Lt.slice(0,16)),Lt=Lt.slice(16)),y({frag:i,part:null,payload:Lt,networkDetails:vt})},onError:(Ge,et,ft,vt)=>{this.resetLoader(i,G),I(new ja({type:hi.NETWORK_ERROR,details:En.FRAG_LOAD_ERROR,fatal:!1,frag:i,response:Io({url:n,data:void 0},Ge),error:new Error(`HTTP Error ${Ge.code} ${Ge.text}`),networkDetails:ft,stats:vt}))},onAbort:(Ge,et,ft)=>{this.resetLoader(i,G),I(new ja({type:hi.NETWORK_ERROR,details:En.INTERNAL_ABORTED,fatal:!1,frag:i,error:new Error("Aborted"),networkDetails:ft,stats:Ge}))},onTimeout:(Ge,et,ft)=>{this.resetLoader(i,G),I(new ja({type:hi.NETWORK_ERROR,details:En.FRAG_LOAD_TIMEOUT,fatal:!1,frag:i,error:new Error(`Timeout after ${Ve.timeout}ms`),networkDetails:ft,stats:Ge}))},onProgress:(Ge,et,ft,vt)=>{e&&e({frag:i,part:null,payload:ft,networkDetails:vt})}})})}loadPart(i,e,n){this.abort();const o=this.config,u=o.fLoader,p=o.loader;return new Promise((y,I)=>{if(this.loader&&this.loader.destroy(),i.gap||e.gap)return void I(lp(i,e));const G=this.loader=i.loader=u?new u(o):new p(o),ne=NC(i,e),Te=rp(o.fragLoadPolicy.default),Ve={loadPolicy:Te,timeout:Te.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:b0};e.stats=G.stats,G.load(ne,Ve,{onSuccess:(Ge,et,ft,vt)=>{this.resetLoader(i,G),this.updateStatsFromPart(i,e);const Lt={frag:i,part:e,payload:Ge.data,networkDetails:vt};n(Lt),y(Lt)},onError:(Ge,et,ft,vt)=>{this.resetLoader(i,G),I(new ja({type:hi.NETWORK_ERROR,details:En.FRAG_LOAD_ERROR,fatal:!1,frag:i,part:e,response:Io({url:ne.url,data:void 0},Ge),error:new Error(`HTTP Error ${Ge.code} ${Ge.text}`),networkDetails:ft,stats:vt}))},onAbort:(Ge,et,ft)=>{i.stats.aborted=e.stats.aborted,this.resetLoader(i,G),I(new ja({type:hi.NETWORK_ERROR,details:En.INTERNAL_ABORTED,fatal:!1,frag:i,part:e,error:new Error("Aborted"),networkDetails:ft,stats:Ge}))},onTimeout:(Ge,et,ft)=>{this.resetLoader(i,G),I(new ja({type:hi.NETWORK_ERROR,details:En.FRAG_LOAD_TIMEOUT,fatal:!1,frag:i,part:e,error:new Error(`Timeout after ${Ve.timeout}ms`),networkDetails:ft,stats:Ge}))}})})}updateStatsFromPart(i,e){const n=i.stats,o=e.stats,u=o.total;if(n.loaded+=o.loaded,u){const I=Math.round(i.duration/e.duration),G=Math.min(Math.round(n.loaded/u),I),Te=(I-G)*Math.round(n.loaded/G);n.total=n.loaded+Te}else n.total=Math.max(n.loaded,n.total);const p=n.loading,y=o.loading;p.start?p.first+=y.first-y.start:(p.start=y.start,p.first=y.first),p.end=y.end}resetLoader(i,e){i.loader=null,this.loader===e&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),e.destroy()}}function NC(r,i=null){const e=i||r,n={frag:r,part:i,responseType:"arraybuffer",url:e.url,headers:{},rangeStart:0,rangeEnd:0},o=e.byteRangeStartOffset,u=e.byteRangeEndOffset;if(ci(o)&&ci(u)){var p;let y=o,I=u;if("initSegment"===r.sn&&"AES-128"===(null==(p=r.decryptdata)?void 0:p.method)){const G=u-o;G%16&&(I=u+(16-G%16)),0!==o&&(n.resetIV=!0,y=o-16)}n.rangeStart=y,n.rangeEnd=I}return n}function lp(r,i){const e=new Error(`GAP ${r.gap?"tag":"attribute"} found`),n={type:hi.MEDIA_ERROR,details:En.FRAG_GAP,fatal:!1,frag:r,error:e,networkDetails:null};return i&&(n.part=i),(i||r).stats.aborted=!0,new ja(n)}class ja extends Error{constructor(i){super(i.error.message),this.data=void 0,this.data=i}}class LC{constructor(i){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=i}abort(i){for(const e in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[e].loader;if(n){if(i&&i!==n.context.frag.type)return;n.abort()}}}detach(){for(const i in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[i];(e.mediaKeySessionContext||e.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[i]}}destroy(){this.detach();for(const i in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[i].loader;e&&e.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(i,e=En.KEY_LOAD_ERROR,n,o,u){return new ja({type:hi.NETWORK_ERROR,details:e,fatal:!1,frag:i,response:u,error:n,networkDetails:o})}loadClear(i,e){if(this.emeController&&this.config.emeEnabled){const{sn:n,cc:o}=i;for(let u=0;u<e.length;u++){const p=e[u];if(o<=p.cc&&("initSegment"===n||"initSegment"===p.sn||n<p.sn)){this.emeController.selectKeySystemFormat(p).then(y=>{p.setKeyFormat(y)});break}}}}load(i){return!i.decryptdata&&i.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(i).then(e=>this.loadInternal(i,e)):this.loadInternal(i)}loadInternal(i,e){var n,o;e&&i.setKeyFormat(e);const u=i.decryptdata;if(!u){const G=new Error(e?`Expected frag.decryptdata to be defined after setting format ${e}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(i,En.KEY_LOAD_ERROR,G))}const p=u.uri;if(!p)return Promise.reject(this.createKeyLoadError(i,En.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${p}"`)));let y=this.keyUriToKeyInfo[p];if(null!=(n=y)&&n.decryptdata.key)return u.key=y.decryptdata.key,Promise.resolve({frag:i,keyInfo:y});var I;if(null!=(o=y)&&o.keyLoadPromise)switch(null==(I=y.mediaKeySessionContext)?void 0:I.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return y.keyLoadPromise.then(G=>(u.key=G.keyInfo.decryptdata.key,{frag:i,keyInfo:y}))}switch(y=this.keyUriToKeyInfo[p]={decryptdata:u,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},u.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===u.keyFormat?this.loadKeyHTTP(y,i):this.loadKeyEME(y,i);case"AES-128":return this.loadKeyHTTP(y,i);default:return Promise.reject(this.createKeyLoadError(i,En.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${u.method}"`)))}}loadKeyEME(i,e){const n={frag:e,keyInfo:i};if(this.emeController&&this.config.emeEnabled){const o=this.emeController.loadKey(n);if(o)return(i.keyLoadPromise=o.then(u=>(i.mediaKeySessionContext=u,n))).catch(u=>{throw i.keyLoadPromise=null,u})}return Promise.resolve(n)}loadKeyHTTP(i,e){const n=this.config,u=new(0,n.loader)(n);return e.keyLoader=i.loader=u,i.keyLoadPromise=new Promise((p,y)=>{const I={keyInfo:i,frag:e,responseType:"arraybuffer",url:i.decryptdata.uri},G=n.keyLoadPolicy.default;u.load(I,{loadPolicy:G,timeout:G.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(Ve,Ge,et,ft)=>{const{frag:vt,keyInfo:Lt,url:qt}=et;if(!vt.decryptdata||Lt!==this.keyUriToKeyInfo[qt])return y(this.createKeyLoadError(vt,En.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),ft));Lt.decryptdata.key=vt.decryptdata.key=new Uint8Array(Ve.data),vt.keyLoader=null,Lt.loader=null,p({frag:vt,keyInfo:Lt})},onError:(Ve,Ge,et,ft)=>{this.resetLoader(Ge),y(this.createKeyLoadError(e,En.KEY_LOAD_ERROR,new Error(`HTTP Error ${Ve.code} loading key ${Ve.text}`),et,Io({url:I.url,data:void 0},Ve)))},onTimeout:(Ve,Ge,et)=>{this.resetLoader(Ge),y(this.createKeyLoadError(e,En.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),et))},onAbort:(Ve,Ge,et)=>{this.resetLoader(Ge),y(this.createKeyLoadError(e,En.INTERNAL_ABORTED,new Error("key loading aborted"),et))}})})}resetLoader(i){const{frag:e,keyInfo:n,url:o}=i,u=n.loader;e.keyLoader===u&&(e.keyLoader=null,n.loader=null),delete this.keyUriToKeyInfo[o],u&&u.destroy()}}class kC{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(i){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,i),!0)}clearInterval(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}const FC={length:0,start:()=>0,end:()=>0};class rr{static isBuffered(i,e){try{if(i){const n=rr.getBuffered(i);for(let o=0;o<n.length;o++)if(e>=n.start(o)&&e<=n.end(o))return!0}}catch{}return!1}static bufferInfo(i,e,n){try{if(i){const o=rr.getBuffered(i),u=[];let p;for(p=0;p<o.length;p++)u.push({start:o.start(p),end:o.end(p)});return this.bufferedInfo(u,e,n)}}catch{}return{len:0,start:e,end:e,nextStart:void 0}}static bufferedInfo(i,e,n){e=Math.max(0,e),i.sort(function(G,ne){return G.start-ne.start||ne.end-G.end});let o=[];if(n)for(let G=0;G<i.length;G++){const ne=o.length;if(ne){const Te=o[ne-1].end;i[G].start-Te<n?i[G].end>Te&&(o[ne-1].end=i[G].end):o.push(i[G])}else o.push(i[G])}else o=i;let p,u=0,y=e,I=e;for(let G=0;G<o.length;G++){const ne=o[G].start,Te=o[G].end;if(e+n>=ne&&e<Te)y=ne,I=Te,u=I-e;else if(e+n<ne){p=ne;break}}return{len:u,start:y||0,end:I||0,nextStart:p}}static getBuffered(i){try{return i.buffered}catch(e){return sn.log("failed to get media.buffered",e),FC}}}class cp{constructor(i,e,n,o=0,u=-1,p=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=i,this.sn=e,this.id=n,this.size=o,this.part=u,this.partial=p}}function Ta(r,i){let e=null;for(let n=0,o=r.length;n<o;n++){const u=r[n];if(u&&u.cc===i){e=u;break}}return e}function fc(r,i){if(r){const e=r.start+i;r.start=r.startPTS=e,r.endPTS=e+r.duration}}function dp(r,i){const e=i.fragments;for(let n=0,o=e.length;n<o;n++)fc(e[n],r);i.fragmentHint&&fc(i.fragmentHint,r),i.alignedSliding=!0}function up(r,i){if(!r.hasProgramDateTime||!i.hasProgramDateTime)return;const e=r.fragments,n=i.fragments;if(!e.length||!n.length)return;const u=n[Math.round(n.length/2)-1],p=Ta(e,u.cc)||e[Math.round(e.length/2)-1],y=u.programDateTime,I=p.programDateTime;null!==y&&null!==I&&dp((I-y)/1e3-(p.start-u.start),r)}class VC{constructor(i,e){this.subtle=void 0,this.aesIV=void 0,this.subtle=i,this.aesIV=e}decrypt(i,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,i)}}class GC{constructor(i,e){this.subtle=void 0,this.key=void 0,this.subtle=i,this.key=e}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}class HC{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(i){const e=new DataView(i),n=new Uint32Array(4);for(let o=0;o<4;o++)n[o]=e.getUint32(4*o);return n}initTable(){const i=this.sBox,e=this.invSBox,n=this.subMix,o=n[0],u=n[1],p=n[2],y=n[3],I=this.invSubMix,G=I[0],ne=I[1],Te=I[2],Ve=I[3],Ge=new Uint32Array(256);let et=0,ft=0,vt=0;for(vt=0;vt<256;vt++)Ge[vt]=vt<128?vt<<1:vt<<1^283;for(vt=0;vt<256;vt++){let Lt=ft^ft<<1^ft<<2^ft<<3^ft<<4;Lt=Lt>>>8^255&Lt^99,i[et]=Lt,e[Lt]=et;const qt=Ge[et],zt=Ge[qt],un=Ge[zt];let cn=257*Ge[Lt]^16843008*Lt;o[et]=cn<<24|cn>>>8,u[et]=cn<<16|cn>>>16,p[et]=cn<<8|cn>>>24,y[et]=cn,cn=16843009*un^65537*zt^257*qt^16843008*et,G[Lt]=cn<<24|cn>>>8,ne[Lt]=cn<<16|cn>>>16,Te[Lt]=cn<<8|cn>>>24,Ve[Lt]=cn,et?(et=qt^Ge[Ge[Ge[un^qt]]],ft^=Ge[Ge[ft]]):et=ft=1}}expandKey(i){const e=this.uint8ArrayToUint32Array_(i);let n=!0,o=0;for(;o<e.length&&n;)n=e[o]===this.key[o],o++;if(n)return;this.key=e;const u=this.keySize=e.length;if(4!==u&&6!==u&&8!==u)throw new Error("Invalid aes key size="+u);const p=this.ksRows=4*(u+6+1);let y,I;const G=this.keySchedule=new Uint32Array(p),ne=this.invKeySchedule=new Uint32Array(p),Te=this.sBox,Ve=this.rcon,Ge=this.invSubMix,et=Ge[0],ft=Ge[1],vt=Ge[2],Lt=Ge[3];let qt,zt;for(y=0;y<p;y++)y<u?qt=G[y]=e[y]:(zt=qt,y%u==0?(zt=zt<<8|zt>>>24,zt=Te[zt>>>24]<<24|Te[zt>>>16&255]<<16|Te[zt>>>8&255]<<8|Te[255&zt],zt^=Ve[y/u|0]<<24):u>6&&y%u==4&&(zt=Te[zt>>>24]<<24|Te[zt>>>16&255]<<16|Te[zt>>>8&255]<<8|Te[255&zt]),G[y]=qt=(G[y-u]^zt)>>>0);for(I=0;I<p;I++)y=p-I,zt=3&I?G[y]:G[y-4],ne[I]=I<4||y<=4?zt:et[Te[zt>>>24]]^ft[Te[zt>>>16&255]]^vt[Te[zt>>>8&255]]^Lt[Te[255&zt]],ne[I]=ne[I]>>>0}networkToHostOrderSwap(i){return i<<24|(65280&i)<<8|(16711680&i)>>8|i>>>24}decrypt(i,e,n){const o=this.keySize+6,u=this.invKeySchedule,p=this.invSBox,y=this.invSubMix,I=y[0],G=y[1],ne=y[2],Te=y[3],Ve=this.uint8ArrayToUint32Array_(n);let Ge=Ve[0],et=Ve[1],ft=Ve[2],vt=Ve[3];const Lt=new Int32Array(i),qt=new Int32Array(Lt.length);let zt,un,cn,Sn,mn,Mn,jn,gn,Qn,zn,gi,Er,Ki,Gn;const Yn=this.networkToHostOrderSwap;for(;e<Lt.length;){for(Qn=Yn(Lt[e]),zn=Yn(Lt[e+1]),gi=Yn(Lt[e+2]),Er=Yn(Lt[e+3]),mn=Qn^u[0],Mn=Er^u[1],jn=gi^u[2],gn=zn^u[3],Ki=4,Gn=1;Gn<o;Gn++)zt=I[mn>>>24]^G[Mn>>16&255]^ne[jn>>8&255]^Te[255&gn]^u[Ki],un=I[Mn>>>24]^G[jn>>16&255]^ne[gn>>8&255]^Te[255&mn]^u[Ki+1],cn=I[jn>>>24]^G[gn>>16&255]^ne[mn>>8&255]^Te[255&Mn]^u[Ki+2],Sn=I[gn>>>24]^G[mn>>16&255]^ne[Mn>>8&255]^Te[255&jn]^u[Ki+3],mn=zt,Mn=un,jn=cn,gn=Sn,Ki+=4;zt=p[mn>>>24]<<24^p[Mn>>16&255]<<16^p[jn>>8&255]<<8^p[255&gn]^u[Ki],un=p[Mn>>>24]<<24^p[jn>>16&255]<<16^p[gn>>8&255]<<8^p[255&mn]^u[Ki+1],cn=p[jn>>>24]<<24^p[gn>>16&255]<<16^p[mn>>8&255]<<8^p[255&Mn]^u[Ki+2],Sn=p[gn>>>24]<<24^p[mn>>16&255]<<16^p[Mn>>8&255]<<8^p[255&jn]^u[Ki+3],qt[e]=Yn(zt^Ge),qt[e+1]=Yn(Sn^et),qt[e+2]=Yn(cn^ft),qt[e+3]=Yn(un^vt),Ge=Qn,et=zn,ft=gi,vt=Er,e+=4}return qt.buffer}}class yf{constructor(i,{removePKCS7Padding:e=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=i.enableSoftwareAES,this.removePKCS7Padding=e,e)try{const n=self.crypto;n&&(this.subtle=n.subtle||n.webkitSubtle)}catch{}null===this.subtle&&(this.useSoftware=!0)}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:i,remainderData:e}=this;if(!i||e)return this.reset(),null;const n=new Uint8Array(i);return this.reset(),this.removePKCS7Padding?function fp(r){const i=r.byteLength,e=i&&new DataView(r.buffer).getUint8(i-1);return e?Ds(r,0,i-e):r}(n):n}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(i,e,n){return this.useSoftware?new Promise((o,u)=>{this.softwareDecrypt(new Uint8Array(i),e,n);const p=this.flush();p?o(p.buffer):u(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(i),e,n)}softwareDecrypt(i,e,n){const{currentIV:o,currentResult:u,remainderData:p}=this;this.logOnce("JS AES decrypt"),p&&(i=el(p,i),this.remainderData=null);const y=this.getValidChunk(i);if(!y.length)return null;o&&(n=o);let I=this.softwareDecrypter;I||(I=this.softwareDecrypter=new HC),I.expandKey(e);const G=u;return this.currentResult=I.decrypt(y.buffer,0,n),this.currentIV=Ds(y,-16).buffer,G||null}webCryptoDecrypt(i,e,n){const o=this.subtle;return(this.key!==e||!this.fastAesKey)&&(this.key=e,this.fastAesKey=new GC(o,e)),this.fastAesKey.expandKey().then(u=>o?(this.logOnce("WebCrypto AES decrypt"),new VC(o,new Uint8Array(n)).decrypt(i.buffer,u)):Promise.reject(new Error("web crypto not initialized"))).catch(u=>(sn.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${u.name}: ${u.message}`),this.onWebCryptoError(i,e,n)))}onWebCryptoError(i,e,n){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(i,e,n);const o=this.flush();if(o)return o.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(i){let e=i;const n=i.length-i.length%16;return n!==i.length&&(e=Ds(i,0,n),this.remainderData=Ds(i,n)),e}logOnce(i){this.logEnabled&&(sn.log(`[decrypter]: ${i}`),this.logEnabled=!1)}}class bf extends kC{constructor(i,e,n,o,u){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state="STOPPED",this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=u,this.logPrefix=o,this.log=sn.log.bind(sn,`${o}:`),this.warn=sn.warn.bind(sn,`${o}:`),this.hls=i,this.fragmentLoader=new XM(i.config),this.keyLoader=n,this.fragmentTracker=e,this.config=i.config,this.decrypter=new yf(i.config),i.on(Et.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(i){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const i=this.fragCurrent;null!=i&&i.loader&&(i.abortRequests(),this.fragmentTracker.removeFragment(i)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state="STOPPED"}_streamEnded(i,e){if(e.live||i.nextStart||!i.end||!this.media)return!1;const n=e.partList;if(null!=n&&n.length){const u=n[n.length-1];return rr.isBuffered(this.media,u.start+u.duration/2)}return this.fragmentTracker.isEndListAppended(e.fragments[e.fragments.length-1].type)}getLevelDetails(){var i;if(this.levels&&null!==this.levelLastLoaded)return null==(i=this.levels[this.levelLastLoaded])?void 0:i.details}onMediaAttached(i,e){const n=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);const o=this.config;this.levels&&o.autoStartLoad&&"STOPPED"===this.state&&this.startLoad(o.startPosition)}onMediaDetaching(){const i=this.media;null!=i&&i.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),i&&this.onvseeking&&this.onvended&&(i.removeEventListener("seeking",this.onvseeking),i.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:i,fragCurrent:e,media:n,mediaBuffer:o,state:u}=this,p=n?n.currentTime:0,y=rr.bufferInfo(o||n,p,i.maxBufferHole);if(this.log(`media seeking to ${ci(p)?p.toFixed(3):p}, state: ${u}`),"ENDED"===this.state)this.resetLoadingState();else if(e){const I=i.maxFragLookUpTolerance,G=e.start-I,ne=e.start+e.duration+I;if(!y.len||ne<y.start||G>y.end){const Te=p>ne;(p<G||Te)&&(Te&&e.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}n&&(this.fragmentTracker.removeFragmentsInRange(p,1/0,this.playlistType,!0),this.lastCurrentTime=p),!this.loadedmetadata&&!y.len&&(this.nextLoadPosition=this.startPosition=p),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(i,e){this.startTimeOffset=e.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.stopLoad(),super.onHandlerDestroying()}onHandlerDestroyed(){this.state="STOPPED",this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(i,e,n){this._loadFragForPlayback(i,e,n)}_loadFragForPlayback(i,e,n){this._doFragLoad(i,e,n,u=>{if(this.fragContextChanged(i))return this.warn(`Fragment ${i.sn}${u.part?" p: "+u.part.index:""} of level ${i.level} was dropped during download.`),void this.fragmentTracker.removeFragment(i);i.stats.chunkCount++,this._handleFragmentLoadProgress(u)}).then(u=>{if(!u)return;const p=this.state;this.fragContextChanged(i)?("FRAG_LOADING"===p||!this.fragCurrent&&"PARSING"===p)&&(this.fragmentTracker.removeFragment(i),this.state="IDLE"):("payload"in u&&(this.log(`Loaded fragment ${i.sn} of level ${i.level}`),this.hls.trigger(Et.FRAG_LOADED,u)),this._handleFragmentLoadComplete(u))}).catch(u=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(u),this.resetFragmentLoading(i))})}clearTrackerIfNeeded(i){var e;const{fragmentTracker:n}=this;if("APPENDING"===n.getState(i)){const p=this.getFwdBufferInfo(this.mediaBuffer,i.type),y=Math.max(i.duration,p?p.len:this.config.maxBufferLength);this.reduceMaxBufferLength(y)&&n.removeFragment(i)}else 0===(null==(e=this.mediaBuffer)?void 0:e.buffered.length)?n.removeAllFragments():n.hasParts(i.type)&&(n.detectPartialFragments({frag:i,part:null,stats:i.stats,id:i.type}),"PARTIAL"===n.getState(i)&&n.removeFragment(i))}flushMainBuffer(i,e,n=null){i-e&&this.hls.trigger(Et.BUFFER_FLUSHING,{startOffset:i,endOffset:e,type:n})}_loadInitSegment(i,e){this._doFragLoad(i,e).then(n=>{if(!n||this.fragContextChanged(i)||!this.levels)throw new Error("init load aborted");return n}).then(n=>{const{hls:o}=this,{payload:u}=n,p=i.decryptdata;if(u&&u.byteLength>0&&p&&p.key&&p.iv&&"AES-128"===p.method){const y=self.performance.now();return this.decrypter.decrypt(new Uint8Array(u),p.key.buffer,p.iv.buffer).catch(I=>{throw o.trigger(Et.ERROR,{type:hi.MEDIA_ERROR,details:En.FRAG_DECRYPT_ERROR,fatal:!1,error:I,reason:I.message,frag:i}),I}).then(I=>{const G=self.performance.now();return o.trigger(Et.FRAG_DECRYPTED,{frag:i,payload:I,stats:{tstart:y,tdecrypt:G}}),n.payload=I,n})}return n}).then(n=>{const{fragCurrent:o,hls:u,levels:p}=this;if(!p)throw new Error("init load aborted, missing levels");const y=i.stats;this.state="IDLE",e.fragmentError=0,i.data=new Uint8Array(n.payload),y.parsing.start=y.buffering.start=self.performance.now(),y.parsing.end=y.buffering.end=self.performance.now(),n.frag===o&&u.trigger(Et.FRAG_BUFFERED,{stats:y,frag:o,part:null,id:i.type}),this.tick()}).catch(n=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(n),this.resetFragmentLoading(i))})}fragContextChanged(i){const{fragCurrent:e}=this;return!i||!e||i.level!==e.level||i.sn!==e.sn||i.urlId!==e.urlId}fragBufferedComplete(i,e){var n,o,u,p;const y=this.mediaBuffer?this.mediaBuffer:this.media;this.log(`Buffered ${i.type} sn: ${i.sn}${e?" part: "+e.index:""} of ${"main"===this.playlistType?"level":"track"} ${i.level} (frag:[${(null!=(n=i.startPTS)?n:NaN).toFixed(3)}-${(null!=(o=i.endPTS)?o:NaN).toFixed(3)}] > buffer:${y?function(r){let i="";const e=r.length;for(let n=0;n<e;n++)i+=`[${r.start(n).toFixed(3)}-${r.end(n).toFixed(3)}]`;return i}(rr.getBuffered(y)):"(detached)"})`),this.state="IDLE",y&&(!this.loadedmetadata&&"main"==i.type&&y.buffered.length&&(null==(u=this.fragCurrent)?void 0:u.sn)===(null==(p=this.fragPrevious)?void 0:p.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(i){const{transmuxer:e}=this;if(!e)return;const{frag:n,part:o,partsLoaded:u}=i,p=!u||0===u.length||u.some(I=>!I),y=new cp(n.level,n.sn,n.stats.chunkCount+1,0,o?o.index:-1,!p);e.flush(y)}_handleFragmentLoadProgress(i){}_doFragLoad(i,e,n=null,o){var u;const p=e?.details;if(!this.levels||!p)throw new Error(`frag load aborted, missing level${p?"":" detail"}s`);let y=null;if(!i.encrypted||null!=(u=i.decryptdata)&&u.key?!i.encrypted&&p.encryptedFragments.length&&this.keyLoader.loadClear(i,p.encryptedFragments):(this.log(`Loading key for ${i.sn} of [${p.startSN}-${p.endSN}], ${"[stream-controller]"===this.logPrefix?"level":"track"} ${i.level}`),this.state="KEY_LOADING",this.fragCurrent=i,y=this.keyLoader.load(i).then(ne=>{if(!this.fragContextChanged(ne.frag))return this.hls.trigger(Et.KEY_LOADED,ne),"KEY_LOADING"===this.state&&(this.state="IDLE"),ne}),this.hls.trigger(Et.KEY_LOADING,{frag:i}),null===this.fragCurrent&&(y=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),n=Math.max(i.start,n||0),this.config.lowLatencyMode&&"initSegment"!==i.sn){const ne=p.partList;if(ne&&o){n>i.end&&p.fragmentHint&&(i=p.fragmentHint);const Te=this.getNextPart(ne,i,n);if(Te>-1){const Ve=ne[Te];let Ge;return this.log(`Loading part sn: ${i.sn} p: ${Ve.index} cc: ${i.cc} of playlist [${p.startSN}-${p.endSN}] parts [0-${Te}-${ne.length-1}] ${"[stream-controller]"===this.logPrefix?"level":"track"}: ${i.level}, target: ${parseFloat(n.toFixed(3))}`),this.nextLoadPosition=Ve.start+Ve.duration,this.state="FRAG_LOADING",Ge=y?y.then(et=>!et||this.fragContextChanged(et.frag)?null:this.doFragPartsLoad(i,Ve,e,o)).catch(et=>this.handleFragLoadError(et)):this.doFragPartsLoad(i,Ve,e,o).catch(et=>this.handleFragLoadError(et)),this.hls.trigger(Et.FRAG_LOADING,{frag:i,part:Ve,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):Ge}if(!i.url||this.loadedEndOfParts(ne,n))return Promise.resolve(null)}}this.log(`Loading fragment ${i.sn} cc: ${i.cc} ${p?"of ["+p.startSN+"-"+p.endSN+"] ":""}${"[stream-controller]"===this.logPrefix?"level":"track"}: ${i.level}, target: ${parseFloat(n.toFixed(3))}`),ci(i.sn)&&!this.bitrateTest&&(this.nextLoadPosition=i.start+i.duration),this.state="FRAG_LOADING";const I=this.config.progressive;let G;return G=I&&y?y.then(ne=>!ne||this.fragContextChanged(ne?.frag)?null:this.fragmentLoader.load(i,o)).catch(ne=>this.handleFragLoadError(ne)):Promise.all([this.fragmentLoader.load(i,I?o:void 0),y]).then(([ne])=>(!I&&ne&&o&&o(ne),ne)).catch(ne=>this.handleFragLoadError(ne)),this.hls.trigger(Et.FRAG_LOADING,{frag:i,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):G}doFragPartsLoad(i,e,n,o){return new Promise((u,p)=>{var y;const I=[],G=null==(y=n.details)?void 0:y.partList,ne=Te=>{this.fragmentLoader.loadPart(i,Te,o).then(Ve=>{I[Te.index]=Ve;const Ge=Ve.part;this.hls.trigger(Et.FRAG_LOADED,Ve);const et=h0(n,i.sn,Te.index+1)||m0(G,i.sn,Te.index+1);if(!et)return u({frag:i,part:Ge,partsLoaded:I});ne(et)}).catch(p)};ne(e)})}handleFragLoadError(i){if("data"in i){const e=i.data;i.data&&e.details===En.INTERNAL_ABORTED?this.handleFragLoadAborted(e.frag,e.part):this.hls.trigger(Et.ERROR,e)}else this.hls.trigger(Et.ERROR,{type:hi.OTHER_ERROR,details:En.INTERNAL_EXCEPTION,err:i,error:i,fatal:!0});return null}_handleTransmuxerFlush(i){const e=this.getCurrentContext(i);if(!e||"PARSING"!==this.state)return void(!this.fragCurrent&&"STOPPED"!==this.state&&"ERROR"!==this.state&&(this.state="IDLE"));const{frag:n,part:o,level:u}=e,p=self.performance.now();n.stats.parsing.end=p,o&&(o.stats.parsing.end=p),this.updateLevelTiming(n,o,u,i.partial)}getCurrentContext(i){const{levels:e,fragCurrent:n}=this,{level:o,sn:u,part:p}=i;if(null==e||!e[o])return this.warn(`Levels object was unset while buffering fragment ${u} of level ${o}. The current chunk will not be buffered.`),null;const y=e[o],I=p>-1?h0(y,u,p):null,G=I?I.fragment:function AC(r,i,e){if(null==r||!r.details)return null;const n=r.details;let o=n.fragments[i-n.startSN];return o||(o=n.fragmentHint,o&&o.sn===i)?o:i<n.startSN&&e&&e.sn===i?e:null}(y,u,n);return G?(n&&n!==G&&(G.stats=n.stats),{frag:G,part:I,level:y}):null}bufferFragmentData(i,e,n,o,u){var p;if(!i||"PARSING"!==this.state)return;const{data1:y,data2:I}=i;let G=y;if(y&&I&&(G=el(y,I)),null!=(p=G)&&p.length&&(this.hls.trigger(Et.BUFFER_APPENDING,{type:i.type,frag:e,part:n,chunkMeta:o,parent:e.type,data:G}),i.dropped&&i.independent&&!n)){if(u)return;this.flushBufferGap(e)}}flushBufferGap(i){const e=this.media;if(!e)return;if(!rr.isBuffered(e,e.currentTime))return void this.flushMainBuffer(0,i.start);const n=e.currentTime,o=rr.bufferInfo(e,n,0),p=Math.min(2*this.config.maxFragLookUpTolerance,.25*i.duration),y=Math.max(Math.min(i.start-p,o.end-p),n+p);i.start-y>p&&this.flushMainBuffer(y,i.start)}getFwdBufferInfo(i,e){const n=this.getLoadPosition();return ci(n)?this.getFwdBufferInfoAtPos(i,n,e):null}getFwdBufferInfoAtPos(i,e,n){const{config:{maxBufferHole:o}}=this,u=rr.bufferInfo(i,e,o);if(0===u.len&&void 0!==u.nextStart){const p=this.fragmentTracker.getBufferedFrag(e,n);if(p&&u.nextStart<p.end)return rr.bufferInfo(i,e,Math.max(u.nextStart,o))}return u}getMaxBufferLength(i){const{config:e}=this;let n;return n=i?Math.max(8*e.maxBufferSize/i,e.maxBufferLength):e.maxBufferLength,Math.min(n,e.maxMaxBufferLength)}reduceMaxBufferLength(i){const e=this.config;return e.maxMaxBufferLength>=(i||e.maxBufferLength)&&(e.maxMaxBufferLength/=2,this.warn(`Reduce max buffer length to ${e.maxMaxBufferLength}s`),!0)}getAppendedFrag(i,e="main"){const n=this.fragmentTracker.getAppendedFrag(i,"main");return n&&"fragment"in n?n.fragment:n}getNextFragment(i,e){const n=e.fragments,o=n.length;if(!o)return null;const{config:u}=this,p=n[0].start;let y;if(e.live){const I=u.initialLiveManifestSize;if(o<I)return this.warn(`Not enough fragments to start playback (have: ${o}, need: ${I})`),null;!e.PTSKnown&&!this.startFragRequested&&-1===this.startPosition&&(y=this.getInitialLiveFragment(e,n),this.startPosition=y?this.hls.liveSyncPosition||y.start:i)}else i<=p&&(y=n[0]);return y||(y=this.getFragmentAtPosition(i,u.lowLatencyMode?e.partEnd:e.fragmentEnd,e)),this.mapToInitFragWhenRequired(y)}isLoopLoading(i,e){const n=this.fragmentTracker.getState(i);return("OK"===n||"PARTIAL"===n&&!!i.gap)&&this.nextLoadPosition>e}getNextFragmentLoopLoading(i,e,n,o,u){const p=i.gap,y=this.getNextFragment(this.nextLoadPosition,e);if(null===y)return y;if(i=y,p&&i&&!i.gap&&n.nextStart){const I=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,o);if(null!==I&&n.len+I.len>=u)return this.log(`buffer full after gaps in "${o}" playlist starting at sn: ${i.sn}`),null}return i}mapToInitFragWhenRequired(i){return null==i||!i.initSegment||null!=i&&i.initSegment.data||this.bitrateTest?i:i.initSegment}getNextPart(i,e,n){let o=-1,u=!1,p=!0;for(let y=0,I=i.length;y<I;y++){const G=i[y];if(p=p&&!G.independent,o>-1&&n<G.start)break;const ne=G.loaded;ne?o=-1:(u||G.independent||p)&&G.fragment===e&&(o=y),u=ne}return o}loadedEndOfParts(i,e){const n=i[i.length-1];return n&&e>n.start&&n.loaded}getInitialLiveFragment(i,e){const n=this.fragPrevious;let o=null;if(n){if(i.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${n.programDateTime}`),o=function OC(r,i,e){if(null===i||!Array.isArray(r)||!r.length||!ci(i))return null;if(i<(r[0].programDateTime||0))return null;if(i>=(r[r.length-1].endProgramDateTime||0))return null;e=e||0;for(let u=0;u<r.length;++u){const p=r[u];if(g0(i,e,p))return p}return null}(e,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!o){const u=n.sn+1;if(u>=i.startSN&&u<=i.endSN){const p=e[u-i.startSN];n.cc===p.cc&&(o=p,this.log(`Live playlist, switching playlist, load frag with next SN: ${o.sn}`))}o||(o=function _0(r,i){return IC.search(r,e=>e.cc<i?1:e.cc>i?-1:0)}(e,n.cc),o&&this.log(`Live playlist, switching playlist, load frag with same CC: ${o.sn}`))}}else{const u=this.hls.liveSyncPosition;null!==u&&(o=this.getFragmentAtPosition(u,this.bitrateTest?i.fragmentEnd:i.edge,i))}return o}getFragmentAtPosition(i,e,n){const{config:o}=this;let{fragPrevious:u}=this,{fragments:p,endSN:y}=n;const{fragmentHint:I}=n,G=o.maxFragLookUpTolerance,ne=n.partList,Te=!!(o.lowLatencyMode&&null!=ne&&ne.length&&I);let Ve;if(Te&&I&&!this.bitrateTest&&(p=p.concat(I),y=I.sn),Ve=i<e?_d(u,p,i,i>e-G?0:G):p[p.length-1],Ve){const Ge=Ve.sn-n.startSN,et=this.fragmentTracker.getState(Ve);if(("OK"===et||"PARTIAL"===et&&Ve.gap)&&(u=Ve),u&&Ve.sn===u.sn&&(!Te||ne[0].fragment.sn>Ve.sn)&&u&&Ve.level===u.level){const vt=p[Ge+1];Ve=Ve.sn<y&&"OK"!==this.fragmentTracker.getState(vt)?vt:null}}return Ve}synchronizeToLiveEdge(i){const{config:e,media:n}=this;if(!n)return;const o=this.hls.liveSyncPosition,u=n.currentTime,y=i.edge,I=u>=i.fragments[0].start-e.maxFragLookUpTolerance&&u<=y;null!==o&&n.duration>o&&(u<o||!I)&&(!I&&n.readyState<4||u<y-(void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:e.liveMaxLatencyDurationCount*i.targetduration))&&(this.loadedmetadata||(this.nextLoadPosition=o),n.readyState&&(this.warn(`Playback: ${u.toFixed(3)} is located too far from the end of live sliding playlist: ${y}, reset currentTime to : ${o.toFixed(3)}`),n.currentTime=o))}alignPlaylists(i,e){const{levels:n,levelLastLoaded:o,fragPrevious:u}=this,p=null!==o?n[o]:null,y=i.fragments.length;if(!y)return this.warn("No fragments in live playlist"),0;const I=i.fragments[0].start,G=!e,ne=i.alignedSliding&&ci(I);if(G||!ne&&!I){!function UC(r,i,e){i&&(function jC(r,i,e){if(function BC(r,i,e){return!(!i.details||!(e.endCC>e.startCC||r&&r.cc<e.startCC))}(r,e,i)){const n=function _f(r,i,e=0){const n=r.fragments,o=i.fragments;if(!o.length||!n.length)return void sn.log("No fragments to align");const u=Ta(n,o[0].cc);if(u&&(!u||u.startPTS))return u;sn.log("No frag in previous level to align on")}(e.details,i);n&&ci(n.start)&&(sn.log(`Adjusting PTS using last level due to CC increase within current level ${i.url}`),dp(n.start,i))}}(r,e,i),!e.alignedSliding&&i.details&&function vf(r,i){if(!i.fragments.length||!r.hasProgramDateTime||!i.hasProgramDateTime)return;const e=i.fragments[0].programDateTime,n=r.fragments[0].programDateTime,o=(n-e)/1e3+i.fragments[0].start;o&&ci(o)&&(sn.log(`Adjusting PTS using programDateTime delta ${n-e}ms, sliding:${o.toFixed(3)} ${r.url} `),dp(o,r))}(e,i.details),!e.alignedSliding&&i.details&&!e.skippedSegments&&np(i.details,e))}(u,p,i);const Te=i.fragments[0].start;return this.log(`Live playlist sliding: ${Te.toFixed(2)} start-sn: ${e?e.startSN:"na"}->${i.startSN} prev-sn: ${u?u.sn:"na"} fragments: ${y}`),Te}return I}waitForCdnTuneIn(i){return i.live&&i.canBlockReload&&i.partTarget&&i.tuneInGoal>Math.max(i.partHoldBack,3*i.partTarget)}setStartPosition(i,e){let n=this.startPosition;if(n<e&&(n=-1),-1===n||-1===this.lastCurrentTime){const o=null!==this.startTimeOffset,u=o?this.startTimeOffset:i.startTimeOffset;null!==u&&ci(u)?(n=e+u,u<0&&(n+=i.totalduration),n=Math.min(Math.max(e,n),e+i.totalduration),this.log(`Start time offset ${u} found in ${o?"multivariant":"media"} playlist, adjust startPosition to ${n}`),this.startPosition=n):i.live?n=this.hls.liveSyncPosition||e:this.startPosition=n=0,this.lastCurrentTime=n}this.nextLoadPosition=n}getLoadPosition(){const{media:i}=this;let e=0;return this.loadedmetadata&&i?e=i.currentTime:this.nextLoadPosition&&(e=this.nextLoadPosition),e}handleFragLoadAborted(i,e){this.transmuxer&&"initSegment"!==i.sn&&i.stats.aborted&&(this.warn(`Fragment ${i.sn}${e?" part "+e.index:""} of level ${i.level} was aborted`),this.resetFragmentLoading(i))}resetFragmentLoading(i){(!this.fragCurrent||!this.fragContextChanged(i)&&"FRAG_LOADING_WAITING_RETRY"!==this.state)&&(this.state="IDLE")}onFragmentOrKeyLoadError(i,e){if(e.chunkMeta&&!e.frag){const Te=this.getCurrentContext(e.chunkMeta);Te&&(e.frag=Te.frag)}const n=e.frag;if(!n||n.type!==i||!this.levels)return;var o;if(this.fragContextChanged(n))return void this.warn(`Frag load error must match current frag to retry ${n.url} > ${null==(o=this.fragCurrent)?void 0:o.url}`);const u=e.details===En.FRAG_GAP;u&&this.fragmentTracker.fragBuffered(n,!0);const p=e.errorAction,{action:y,retryCount:I=0,retryConfig:G}=p||{};if(p&&5===y&&G){var ne;this.resetStartWhenNotLoaded(null!=(ne=this.levelLastLoaded)?ne:n.level);const Te=p0(G,I);this.warn(`Fragment ${n.sn} of ${i} ${n.level} errored with ${e.details}, retrying loading ${I+1}/${G.maxNumRetry} in ${Te}ms`),p.resolved=!0,this.retryDate=self.performance.now()+Te,this.state="FRAG_LOADING_WAITING_RETRY"}else G&&p?(this.resetFragmentErrors(i),I<G.maxNumRetry?u||(p.resolved=!0):sn.warn(`${e.details} reached or exceeded max retry (${I})`)):this.state=2===p?.action?"WAITING_LEVEL":"ERROR";this.tickImmediate()}reduceLengthAndFlushBuffer(i){if("PARSING"===this.state||"PARSED"===this.state){const e=i.parent,n=this.getFwdBufferInfo(this.mediaBuffer,e),o=n&&n.len>.5;o&&this.reduceMaxBufferLength(n.len);const u=!o;return u&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${e} buffer`),i.frag&&(this.fragmentTracker.removeFragment(i.frag),this.nextLoadPosition=i.frag.start),this.resetLoadingState(),u}return!1}resetFragmentErrors(i){"audio"===i&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),"STOPPED"!==this.state&&(this.state="IDLE")}afterBufferFlushed(i,e,n){if(!i)return;const o=rr.getBuffered(i);this.fragmentTracker.detectEvictedFragments(e,o,n),"ENDED"===this.state&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state="IDLE"}resetStartWhenNotLoaded(i){if(!this.loadedmetadata){this.startFragRequested=!1;const e=this.levels?this.levels[i].details:null;null!=e&&e.live?(this.startPosition=-1,this.setStartPosition(e,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(i){var e;this.warn(`The loading context changed while buffering fragment ${i.sn} of level ${i.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(null!=(e=this.levelLastLoaded)?e:i.level),this.resetLoadingState()}removeUnbufferedFrags(i=0){this.fragmentTracker.removeFragmentsInRange(i,1/0,this.playlistType,!1,!0)}updateLevelTiming(i,e,n,o){var u;const p=n.details;if(p){if(Object.keys(i.elementaryStreams).reduce((I,G)=>{const ne=i.elementaryStreams[G];if(ne){const Te=ne.endPTS-ne.startPTS;if(Te<=0)return this.warn(`Could not parse fragment ${i.sn} ${G} duration reliably (${Te})`),I||!1;const Ve=o?0:ep(p,i,ne.startPTS,ne.endPTS,ne.startDTS,ne.endDTS);return this.hls.trigger(Et.LEVEL_PTS_UPDATED,{details:p,level:n,drift:Ve,type:G,frag:i,start:ne.startPTS,end:ne.endPTS}),!0}return I},!1))n.fragmentError=0;else if(null===(null==(u=this.transmuxer)?void 0:u.error)){const I=new Error(`Found no media in fragment ${i.sn} of level ${i.level} resetting transmuxer to fallback to playlist timing`);if(0===n.fragmentError&&(n.fragmentError++,i.gap=!0,this.fragmentTracker.removeFragment(i),this.fragmentTracker.fragBuffered(i,!0)),this.warn(I.message),this.hls.trigger(Et.ERROR,{type:hi.MEDIA_ERROR,details:En.FRAG_PARSING_ERROR,fatal:!1,error:I,frag:i,reason:`Found no media in msn ${i.sn} of level "${n.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state="PARSED",this.hls.trigger(Et.FRAG_PARSED,{frag:i,part:e})}else this.warn("level.details undefined")}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(i){var e,n,o;"demuxerWorker"===i.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(null!=(e=null!=(n=this.levelLastLoaded)?n:null==(o=this.fragCurrent)?void 0:o.level)?e:0),this.resetLoadingState())}set state(i){const e=this._state;e!==i&&(this._state=i,this.log(`${e}->${i}`))}get state(){return this._state}}function Ed(){return self.SourceBuffer||self.WebKitSourceBuffer}function Sa(r="",i=9e4){return{type:r,id:-1,pid:-1,inputTimeScale:i,sequenceNumber:-1,samples:[],dropped:0}}class S0{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(i,e,n,o){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(i){this.initPTS=i,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(i,e){return!1}appendFrame(i,e,n){}demux(i,e){this.cachedData&&(i=el(this.cachedData,i),this.cachedData=null);let u,n=dd(i,0),o=n?n.length:0;const p=this._audioTrack,y=this._id3Track,I=n?(r=>{const i=sc(r);for(let e=0;e<i.length;e++){const n=i[e];if(ky(n))return Fy(n)}})(n):void 0,G=i.length;for((null===this.basePTS||0===this.frameIndex&&ci(I))&&(this.basePTS=C0(I,e,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),n&&n.length>0&&y.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:"org.id3",duration:Number.POSITIVE_INFINITY});o<G;){if(this.canParse(i,o)){const ne=this.appendFrame(p,i,o);ne?(this.frameIndex++,this.lastPTS=ne.sample.pts,o+=ne.length,u=o):o=G}else Ly(i,o)?(n=dd(i,o),y.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:"org.id3",duration:Number.POSITIVE_INFINITY}),o+=n.length,u=o):o++;if(o===G&&u!==G){const ne=Ds(i,u);this.cachedData=this.cachedData?el(this.cachedData,ne):ne}}return{audioTrack:p,videoTrack:Sa(),id3Track:y,textTrack:Sa()}}demuxSampleAes(i,e,n){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(i){const e=this.cachedData;return e&&(this.cachedData=null,this.demux(e,0)),{audioTrack:this._audioTrack,videoTrack:Sa(),id3Track:this._id3Track,textTrack:Sa()}}destroy(){}}const C0=(r,i,e)=>ci(r)?90*r:9e4*i+(e?9e4*e.baseTime/e.timescale:0);function x0(r,i){return 255===r[i]&&240==(246&r[i+1])}function M0(r,i){return 1&r[i+1]?7:9}function Td(r,i){return(3&r[i+3])<<11|r[i+4]<<3|(224&r[i+5])>>>5}function Sd(r,i){return i+1<r.length&&x0(r,i)}function gp(r,i){if(Sd(r,i)){const e=M0(r,i);if(i+e>=r.length)return!1;const n=Td(r,i);if(n<=e)return!1;const o=i+n;return o===r.length||Sd(r,o)}return!1}function A0(r,i,e,n,o){if(!r.samplerate){const u=function D0(r,i,e,n){let o,u,p,y;const I=navigator.userAgent.toLowerCase(),G=n,ne=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];o=1+((192&i[e+2])>>>6);const Te=(60&i[e+2])>>>2;if(!(Te>ne.length-1))return p=(1&i[e+2])<<2,p|=(192&i[e+3])>>>6,sn.log(`manifest codec:${n}, ADTS type:${o}, samplingIndex:${Te}`),/firefox/i.test(I)?Te>=6?(o=5,y=new Array(4),u=Te-3):(o=2,y=new Array(2),u=Te):-1!==I.indexOf("android")?(o=2,y=new Array(2),u=Te):(o=5,y=new Array(4),n&&(-1!==n.indexOf("mp4a.40.29")||-1!==n.indexOf("mp4a.40.5"))||!n&&Te>=6?u=Te-3:((n&&-1!==n.indexOf("mp4a.40.2")&&(Te>=6&&1===p||/vivaldi/i.test(I))||!n&&1===p)&&(o=2,y=new Array(2)),u=Te)),y[0]=o<<3,y[0]|=(14&Te)>>1,y[1]|=(1&Te)<<7,y[1]|=p<<3,5===o&&(y[1]|=(14&u)>>1,y[2]=(1&u)<<7,y[2]|=8,y[3]=0),{config:y,samplerate:ne[Te],channelCount:p,codec:"mp4a.40."+o,manifestCodec:G};r.trigger(Et.ERROR,{type:hi.MEDIA_ERROR,details:En.FRAG_PARSING_ERROR,fatal:!0,reason:`invalid ADTS sampling index:${Te}`})}(i,e,n,o);if(!u)return;r.config=u.config,r.samplerate=u.samplerate,r.channelCount=u.channelCount,r.codec=u.codec,r.manifestCodec=u.manifestCodec,sn.log(`parsed codec:${r.codec}, rate:${u.samplerate}, channels:${u.channelCount}`)}}function w0(r){return 9216e4/r}function I0(r,i,e,n,o){const p=n+o*w0(r.samplerate),y=function ZC(r,i){const e=M0(r,i);if(i+e<=r.length){const n=Td(r,i)-e;if(n>0)return{headerLength:e,frameLength:n}}}(i,e);let I;if(y){const{frameLength:Te,headerLength:Ve}=y,Ge=Ve+Te,et=Math.max(0,e+Ge-i.length);et?(I=new Uint8Array(Ge-Ve),I.set(i.subarray(e+Ve,i.length),0)):I=i.subarray(e+Ve,e+Ge);const ft={unit:I,pts:p};return et||r.samples.push(ft),{sample:ft,length:Ge,missing:et}}const G=i.length-e;return I=new Uint8Array(G),I.set(i.subarray(e,i.length),0),{sample:{unit:I,pts:p},length:G,missing:-1}}const _p=/\/emsg[-/]ID3/i;let Cd=null;const R0=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],N0=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],$C=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],L0=[0,1,1,4];function vp(r,i,e,n,o){if(e+24>i.length)return;const u=k0(i,e);if(u&&e+u.frameLength<=i.length){const y=n+o*(9e4*u.samplesPerFrame/u.sampleRate),I={unit:i.subarray(e,e+u.frameLength),pts:y,dts:y};return r.config=[],r.channelCount=u.channelCount,r.samplerate=u.sampleRate,r.samples.push(I),{sample:I,length:u.frameLength,missing:0}}}function k0(r,i){const e=r[i+1]>>3&3,n=r[i+1]>>1&3,o=r[i+2]>>4&15,u=r[i+2]>>2&3;if(1!==e&&0!==o&&15!==o&&3!==u){const y=r[i+3]>>6,G=1e3*R0[14*(3===e?3-n:3===n?3:4)+o-1],Te=N0[3*(3===e?0:2===e?1:2)+u],Ve=3===y?1:2,Ge=$C[e][n],et=L0[n],ft=8*Ge*et,vt=Math.floor(Ge*G/Te+(r[i+2]>>1&1))*et;if(null===Cd){const zt=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Cd=zt?parseInt(zt[1]):0}return!!Cd&&Cd<=87&&2===n&&G>=224e3&&0===y&&(r[i+3]=128|r[i+3]),{sampleRate:Te,channelCount:Ve,frameLength:vt,samplesPerFrame:ft}}}function Ef(r,i){return 255===r[i]&&224==(224&r[i+1])&&0!=(6&r[i+1])}function yp(r,i){return i+1<r.length&&Ef(r,i)}function hc(r,i){if(i+1<r.length&&Ef(r,i)){const n=k0(r,i);let o=4;null!=n&&n.frameLength&&(o=n.frameLength);const u=i+o;return u===r.length||yp(r,u)}return!1}class F0{constructor(i){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=i,this.bytesAvailable=i.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const i=this.data,e=this.bytesAvailable,n=i.byteLength-e,o=new Uint8Array(4),u=Math.min(4,e);if(0===u)throw new Error("no bytes available");o.set(i.subarray(n,n+u)),this.word=new DataView(o.buffer).getUint32(0),this.bitsAvailable=8*u,this.bytesAvailable-=u}skipBits(i){let e;i=Math.min(i,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>i?(this.word<<=i,this.bitsAvailable-=i):(e=(i-=this.bitsAvailable)>>3,i-=e<<3,this.bytesAvailable-=e,this.loadWord(),this.word<<=i,this.bitsAvailable-=i)}readBits(i){let e=Math.min(this.bitsAvailable,i);const n=this.word>>>32-e;if(i>32&&sn.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0)this.word<<=e;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return e=i-e,e>0&&this.bitsAvailable?n<<e|this.readBits(e):n}skipLZ(){let i;for(i=0;i<this.bitsAvailable;++i)if(this.word&2147483648>>>i)return this.word<<=i,this.bitsAvailable-=i,i;return this.loadWord(),i+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const i=this.skipLZ();return this.readBits(i+1)-1}readEG(){const i=this.readUEG();return 1&i?1+i>>>1:-1*(i>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(i){let o,e=8,n=8;for(let u=0;u<i;u++)0!==n&&(o=this.readEG(),n=(e+o+256)%256),e=0===n?e:n}readSPS(){let u,p,y,i=0,e=0,n=0,o=0;const I=this.readUByte.bind(this),G=this.readBits.bind(this),ne=this.readUEG.bind(this),Te=this.readBoolean.bind(this),Ve=this.skipBits.bind(this),Ge=this.skipEG.bind(this),et=this.skipUEG.bind(this),ft=this.skipScalingList.bind(this);I();const vt=I();if(G(5),Ve(3),I(),et(),100===vt||110===vt||122===vt||244===vt||44===vt||83===vt||86===vt||118===vt||128===vt){const Sn=ne();if(3===Sn&&Ve(1),et(),et(),Ve(1),Te())for(p=3!==Sn?8:12,y=0;y<p;y++)Te()&&ft(y<6?16:64)}et();const Lt=ne();if(0===Lt)ne();else if(1===Lt)for(Ve(1),Ge(),Ge(),u=ne(),y=0;y<u;y++)Ge();et(),Ve(1);const qt=ne(),zt=ne(),un=G(1);0===un&&Ve(1),Ve(1),Te()&&(i=ne(),e=ne(),n=ne(),o=ne());let cn=[1,1];if(Te()&&Te())switch(I()){case 1:cn=[1,1];break;case 2:cn=[12,11];break;case 3:cn=[10,11];break;case 4:cn=[16,11];break;case 5:cn=[40,33];break;case 6:cn=[24,11];break;case 7:cn=[20,11];break;case 8:cn=[32,11];break;case 9:cn=[80,33];break;case 10:cn=[18,11];break;case 11:cn=[15,11];break;case 12:cn=[64,33];break;case 13:cn=[160,99];break;case 14:cn=[4,3];break;case 15:cn=[3,2];break;case 16:cn=[2,1];break;case 255:cn=[I()<<8|I(),I()<<8|I()]}return{width:Math.ceil(16*(qt+1)-2*i-2*e),height:(2-un)*(zt+1)*16-(un?2:4)*(n+o),pixelRatio:cn}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class qC{constructor(i,e,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new yf(e,{removePKCS7Padding:!1})}decryptBuffer(i){return this.decrypter.decrypt(i,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(i,e,n){const o=i[e].unit;if(o.length<=16)return;const u=o.subarray(16,o.length-o.length%16),p=u.buffer.slice(u.byteOffset,u.byteOffset+u.length);this.decryptBuffer(p).then(y=>{const I=new Uint8Array(y);o.set(I,16),this.decrypter.isSync()||this.decryptAacSamples(i,e+1,n)})}decryptAacSamples(i,e,n){for(;;e++){if(e>=i.length)return void n();if(!(i[e].unit.length<32||(this.decryptAacSample(i,e,n),this.decrypter.isSync())))return}}getAvcEncryptedData(i){const e=16*Math.floor((i.length-48)/160)+16,n=new Int8Array(e);let o=0;for(let u=32;u<i.length-16;u+=160,o+=16)n.set(i.subarray(u,u+16),o);return n}getAvcDecryptedUnit(i,e){const n=new Uint8Array(e);let o=0;for(let u=32;u<i.length-16;u+=160,o+=16)i.set(n.subarray(o,o+16),u);return i}decryptAvcSample(i,e,n,o,u){const p=Gy(u.data),y=this.getAvcEncryptedData(p);this.decryptBuffer(y.buffer).then(I=>{u.data=this.getAvcDecryptedUnit(p,I),this.decrypter.isSync()||this.decryptAvcSamples(i,e,n+1,o)})}decryptAvcSamples(i,e,n,o){if(i instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;e++,n=0){if(e>=i.length)return void o();const u=i[e].units;for(;!(n>=u.length);n++){const p=u[n];if(!(p.data.length<=48||1!==p.type&&5!==p.type||(this.decryptAvcSample(i,e,n,o,p),this.decrypter.isSync())))return}}}}const Do=188;class nl{constructor(i,e,n){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=i,this.config=e,this.typeSupported=n}static probe(i){const e=nl.syncOffset(i);return e>0&&sn.warn(`MPEG2-TS detected but first sync word found @ offset ${e}`),-1!==e}static syncOffset(i){const e=i.length;let n=Math.min(940,i.length-Do)+1,o=0;for(;o<n;){let u=!1,p=-1,y=0;for(let I=o;I<e;I+=Do){if(71!==i[I]){if(y)return-1;break}if(y++,-1===p&&(p=I,0!==p&&(n=Math.min(p+18612,i.length-Do)+1)),u||(u=0===xd(i,I)),u&&y>1&&(0===p&&y>2||I+Do>n))return p}o++}return-1}static createTrack(i,e){return{container:"video"===i||"audio"===i?"video/mp2t":void 0,type:i,id:By[i],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===i?e:void 0}}resetInitSegment(i,e,n,o){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=nl.createTrack("video"),this._audioTrack=nl.createTrack("audio",o),this._id3Track=nl.createTrack("id3"),this._txtTrack=nl.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=e,this.videoCodec=n,this._duration=o}resetTimeStamp(){}resetContiguity(){const{_audioTrack:i,_avcTrack:e,_id3Track:n}=this;i&&(i.pesData=null),e&&(e.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null}demux(i,e,n=!1,o=!1){let u;n||(this.sampleAes=null);const p=this._avcTrack,y=this._audioTrack,I=this._id3Track,G=this._txtTrack;let ne=p.pid,Te=p.pesData,Ve=y.pid,Ge=I.pid,et=y.pesData,ft=I.pesData,vt=null,Lt=this.pmtParsed,qt=this._pmtId,zt=i.length;if(this.remainderData&&(zt=(i=el(this.remainderData,i)).length,this.remainderData=null),zt<Do&&!o)return this.remainderData=i,{audioTrack:y,videoTrack:p,id3Track:I,textTrack:G};const un=Math.max(0,nl.syncOffset(i));zt-=(zt-un)%Do,zt<i.byteLength&&!o&&(this.remainderData=new Uint8Array(i.buffer,zt,i.buffer.byteLength-zt));let cn=0;for(let mn=un;mn<zt;mn+=Do)if(71===i[mn]){const Mn=!!(64&i[mn+1]),jn=xd(i,mn);let Qn;if((48&i[mn+3])>>4>1){if(Qn=mn+5+i[mn+4],Qn===mn+Do)continue}else Qn=mn+4;switch(jn){case ne:Mn&&(Te&&(u=Ms(Te))&&this.parseAVCPES(p,G,u,!1),Te={data:[],size:0}),Te&&(Te.data.push(i.subarray(Qn,mn+Do)),Te.size+=mn+Do-Qn);break;case Ve:if(Mn){if(et&&(u=Ms(et)))switch(y.segmentCodec){case"aac":this.parseAACPES(y,u);break;case"mp3":this.parseMPEGPES(y,u)}et={data:[],size:0}}et&&(et.data.push(i.subarray(Qn,mn+Do)),et.size+=mn+Do-Qn);break;case Ge:Mn&&(ft&&(u=Ms(ft))&&this.parseID3PES(I,u),ft={data:[],size:0}),ft&&(ft.data.push(i.subarray(Qn,mn+Do)),ft.size+=mn+Do-Qn);break;case 0:Mn&&(Qn+=i[Qn]+1),qt=this._pmtId=Md(i,Qn);break;case qt:{Mn&&(Qn+=i[Qn]+1);const zn=JC(i,Qn,this.typeSupported,n);ne=zn.avc,ne>0&&(p.pid=ne),Ve=zn.audio,Ve>0&&(y.pid=Ve,y.segmentCodec=zn.segmentCodec),Ge=zn.id3,Ge>0&&(I.pid=Ge),null!==vt&&!Lt&&(sn.warn(`MPEG-TS PMT found at ${mn} after unknown PID '${vt}'. Backtracking to sync byte @${un} to parse all TS packets.`),vt=null,mn=un-188),Lt=this.pmtParsed=!0;break}case 17:case 8191:break;default:vt=jn}}else cn++;if(cn>0){const mn=new Error(`Found ${cn} TS packet/s that do not start with 0x47`);this.observer.emit(Et.ERROR,Et.ERROR,{type:hi.MEDIA_ERROR,details:En.FRAG_PARSING_ERROR,fatal:!1,error:mn,reason:mn.message})}p.pesData=Te,y.pesData=et,I.pesData=ft;const Sn={audioTrack:y,videoTrack:p,id3Track:I,textTrack:G};return o&&this.extractRemainingSamples(Sn),Sn}flush(){const{remainderData:i}=this;let e;return this.remainderData=null,e=i?this.demux(i,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e}extractRemainingSamples(i){const{audioTrack:e,videoTrack:n,id3Track:o,textTrack:u}=i,p=n.pesData,y=e.pesData,I=o.pesData;let G;if(p&&(G=Ms(p))?(this.parseAVCPES(n,u,G,!0),n.pesData=null):n.pesData=p,y&&(G=Ms(y))){switch(e.segmentCodec){case"aac":this.parseAACPES(e,G);break;case"mp3":this.parseMPEGPES(e,G)}e.pesData=null}else null!=y&&y.size&&sn.log("last AAC PES packet truncated,might overlap between fragments"),e.pesData=y;I&&(G=Ms(I))?(this.parseID3PES(o,G),o.pesData=null):o.pesData=I}demuxSampleAes(i,e,n){const o=this.demux(i,n,!0,!this.config.progressive),u=this.sampleAes=new qC(this.observer,this.config,e);return this.decrypt(o,u)}decrypt(i,e){return new Promise(n=>{const{audioTrack:o,videoTrack:u}=i;o.samples&&"aac"===o.segmentCodec?e.decryptAacSamples(o.samples,0,()=>{u.samples?e.decryptAvcSamples(u.samples,0,0,()=>{n(i)}):n(i)}):u.samples&&e.decryptAvcSamples(u.samples,0,0,()=>{n(i)})})}destroy(){this._duration=0}parseAVCPES(i,e,n,o){const u=this.parseAVCNALu(i,n.data);let y,p=this.avcSample,I=!1;n.data=null,p&&u.length&&!i.audFound&&(Ad(p,i),p=this.avcSample=Dd(!1,n.pts,n.dts,"")),u.forEach(G=>{var ne;switch(G.type){case 1:{let Ve=!1;y=!0;const Ge=G.data;if(I&&Ge.length>4){const et=new F0(Ge).readSliceType();(2===et||4===et||7===et||9===et)&&(Ve=!0)}var Te;Ve&&null!=(Te=p)&&Te.frame&&!p.key&&(Ad(p,i),p=this.avcSample=null),p||(p=this.avcSample=Dd(!0,n.pts,n.dts,"")),p.frame=!0,p.key=Ve;break}case 5:y=!0,null!=(ne=p)&&ne.frame&&!p.key&&(Ad(p,i),p=this.avcSample=null),p||(p=this.avcSample=Dd(!0,n.pts,n.dts,"")),p.key=!0,p.frame=!0;break;case 6:y=!0,Vy(G.data,1,n.pts,e.samples);break;case 7:if(y=!0,I=!0,!i.sps){const Ve=G.data,et=new F0(Ve).readSPS();i.width=et.width,i.height=et.height,i.pixelRatio=et.pixelRatio,i.sps=[Ve],i.duration=this._duration;const ft=Ve.subarray(1,4);let vt="avc1.";for(let Lt=0;Lt<3;Lt++){let qt=ft[Lt].toString(16);qt.length<2&&(qt="0"+qt),vt+=qt}i.codec=vt}break;case 8:y=!0,i.pps||(i.pps=[G.data]);break;case 9:y=!1,i.audFound=!0,p&&Ad(p,i),p=this.avcSample=Dd(!1,n.pts,n.dts,"");break;case 12:y=!0;break;default:y=!1,p&&(p.debug+="unknown NAL "+G.type+" ")}p&&y&&p.units.push(G)}),o&&p&&(Ad(p,i),this.avcSample=null)}getLastNalUnit(i){var e;let o,n=this.avcSample;if((!n||0===n.units.length)&&(n=i[i.length-1]),null!=(e=n)&&e.units){const u=n.units;o=u[u.length-1]}return o}parseAVCNALu(i,e){const n=e.byteLength;let o=i.naluState||0;const u=o,p=[];let I,G,ne,y=0,Te=-1,Ve=0;for(-1===o&&(Te=0,Ve=31&e[0],o=0,y=1);y<n;)if(I=e[y++],o)if(1!==o)if(I)if(1===I){if(Te>=0){const Ge={data:e.subarray(Te,y-o-1),type:Ve};p.push(Ge)}else{const Ge=this.getLastNalUnit(i.samples);if(Ge&&(u&&y<=4-u&&Ge.state&&(Ge.data=Ge.data.subarray(0,Ge.data.byteLength-u)),G=y-o-1,G>0)){const et=new Uint8Array(Ge.data.byteLength+G);et.set(Ge.data,0),et.set(e.subarray(0,G),Ge.data.byteLength),Ge.data=et,Ge.state=0}}y<n?(ne=31&e[y],Te=y,Ve=ne,o=0):o=-1}else o=0;else o=3;else o=I?0:2;else o=I?0:1;if(Te>=0&&o>=0){const Ge={data:e.subarray(Te,n),type:Ve,state:o};p.push(Ge)}if(0===p.length){const Ge=this.getLastNalUnit(i.samples);if(Ge){const et=new Uint8Array(Ge.data.byteLength+e.byteLength);et.set(Ge.data,0),et.set(e,Ge.data.byteLength),Ge.data=et}}return i.naluState=o,p}parseAACPES(i,e){let n=0;const o=this.aacOverFlow;let p,y,I,u=e.data;if(o){this.aacOverFlow=null;const Te=o.missing,Ve=o.sample.unit.byteLength;if(-1===Te){const Ge=new Uint8Array(Ve+u.byteLength);Ge.set(o.sample.unit,0),Ge.set(u,Ve),u=Ge}else{const Ge=Ve-Te;o.sample.unit.set(u.subarray(0,Te),Ge),i.samples.push(o.sample),n=o.missing}}for(p=n,y=u.length;p<y-1&&!Sd(u,p);p++);if(p!==n){let Te;const Ve=p<y-1;Te=Ve?`AAC PES did not start with ADTS header,offset:${p}`:"No ADTS header found in AAC PES";const Ge=new Error(Te);if(sn.warn(`parsing error: ${Te}`),this.observer.emit(Et.ERROR,Et.ERROR,{type:hi.MEDIA_ERROR,details:En.FRAG_PARSING_ERROR,fatal:!1,levelRetry:Ve,error:Ge,reason:Te}),!Ve)return}if(A0(i,this.observer,u,p,this.audioCodec),void 0!==e.pts)I=e.pts;else{if(!o)return void sn.warn("[tsdemuxer]: AAC PES unknown PTS");{const Te=w0(i.samplerate);I=o.sample.pts+Te}}let ne,G=0;for(;p<y;){if(ne=I0(i,u,p,I,G),p+=ne.length,ne.missing){this.aacOverFlow=ne;break}for(G++;p<y-1&&!Sd(u,p);p++);}}parseMPEGPES(i,e){const n=e.data,o=n.length;let u=0,p=0;const y=e.pts;if(void 0!==y)for(;p<o;)if(yp(n,p)){const I=vp(i,n,p,y,u);if(!I)break;p+=I.length,u++}else p++;else sn.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseID3PES(i,e){if(void 0===e.pts)return void sn.warn("[tsdemuxer]: ID3 PES unknown PTS");const n=Gr({},e,{type:this._avcTrack?zo_emsg:"org.id3",duration:Number.POSITIVE_INFINITY});i.samples.push(n)}}function Dd(r,i,e,n){return{key:r,frame:!1,pts:i,dts:e,units:[],debug:n,length:0}}function xd(r,i){return((31&r[i+1])<<8)+r[i+2]}function Md(r,i){return(31&r[i+10])<<8|r[i+11]}function JC(r,i,e,n){const o={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},p=i+3+((15&r[i+1])<<8|r[i+2])-4;for(i+=12+((15&r[i+10])<<8|r[i+11]);i<p;){const I=xd(r,i);switch(r[i]){case 207:if(!n){sn.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===o.audio&&(o.audio=I);break;case 21:-1===o.id3&&(o.id3=I);break;case 219:if(!n){sn.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===o.avc&&(o.avc=I);break;case 3:case 4:!0!==e.mpeg&&!0!==e.mp3?sn.log("MPEG audio found, not supported in this browser"):-1===o.audio&&(o.audio=I,o.segmentCodec="mp3");break;case 36:sn.warn("Unsupported HEVC stream type found")}i+=5+((15&r[i+3])<<8|r[i+4])}return o}function Ms(r){let e,n,o,u,p,i=0;const y=r.data;if(!r||0===r.size)return null;for(;y[0].length<19&&y.length>1;){const G=new Uint8Array(y[0].length+y[1].length);G.set(y[0]),G.set(y[1],y[0].length),y[0]=G,y.splice(1,1)}if(e=y[0],(e[0]<<16)+(e[1]<<8)+e[2]===1){if(n=(e[4]<<8)+e[5],n&&n>r.size-6)return null;const G=e[7];192&G&&(u=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&G?(p=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2,u-p>54e5&&(sn.warn(`${Math.round((u-p)/9e4)}s delta between PTS and DTS, align them`),u=p)):p=u),o=e[8];let ne=o+9;if(r.size<=ne)return null;r.size-=ne;const Te=new Uint8Array(r.size);for(let Ve=0,Ge=y.length;Ve<Ge;Ve++){e=y[Ve];let et=e.byteLength;if(ne){if(ne>et){ne-=et;continue}e=e.subarray(ne),et-=ne,ne=0}Te.set(e,i),i+=et}return n&&(n-=o+3),{data:Te,pts:u,dts:p,len:n}}return null}function Ad(r,i){if(r.units.length&&r.frame){if(void 0===r.pts){const e=i.samples,n=e.length;if(!n)return void i.dropped++;{const o=e[n-1];r.pts=o.pts,r.dts=o.dts}}i.samples.push(r)}r.debug.length&&sn.log(r.pts+"/"+r.dts+":"+r.debug)}class U0{static getSilentFrame(i,e){if("mp4a.40.2"===i){if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const As=Math.pow(2,32)-1;let mc=(()=>{class r{static init(){let e;for(e in r.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},r.types)r.types.hasOwnProperty(e)&&(r.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),o=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);r.HDLR_TYPES={video:n,audio:o};const u=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),p=new Uint8Array([0,0,0,0,0,0,0,0]);r.STTS=r.STSC=r.STCO=p,r.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),r.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),r.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),r.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const y=new Uint8Array([105,115,111,109]),I=new Uint8Array([97,118,99,49]),G=new Uint8Array([0,0,0,1]);r.FTYP=r.box(r.types.ftyp,y,G,y,I),r.DINF=r.box(r.types.dinf,r.box(r.types.dref,u))}static box(e,...n){let o=8,u=n.length;const p=u;for(;u--;)o+=n[u].byteLength;const y=new Uint8Array(o);for(y[0]=o>>24&255,y[1]=o>>16&255,y[2]=o>>8&255,y[3]=255&o,y.set(e,4),u=0,o=8;u<p;u++)y.set(n[u],o),o+=n[u].byteLength;return y}static hdlr(e){return r.box(r.types.hdlr,r.HDLR_TYPES[e])}static mdat(e){return r.box(r.types.mdat,e)}static mdhd(e,n){n*=e;const o=Math.floor(n/(As+1)),u=Math.floor(n%(As+1));return r.box(r.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,o>>24,o>>16&255,o>>8&255,255&o,u>>24,u>>16&255,u>>8&255,255&u,85,196,0,0]))}static mdia(e){return r.box(r.types.mdia,r.mdhd(e.timescale,e.duration),r.hdlr(e.type),r.minf(e))}static mfhd(e){return r.box(r.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))}static minf(e){return r.box(r.types.minf,"audio"===e.type?r.box(r.types.smhd,r.SMHD):r.box(r.types.vmhd,r.VMHD),r.DINF,r.stbl(e))}static moof(e,n,o){return r.box(r.types.moof,r.mfhd(e),r.traf(o,n))}static moov(e){let n=e.length;const o=[];for(;n--;)o[n]=r.trak(e[n]);return r.box.apply(null,[r.types.moov,r.mvhd(e[0].timescale,e[0].duration)].concat(o).concat(r.mvex(e)))}static mvex(e){let n=e.length;const o=[];for(;n--;)o[n]=r.trex(e[n]);return r.box.apply(null,[r.types.mvex,...o])}static mvhd(e,n){n*=e;const o=Math.floor(n/(As+1)),u=Math.floor(n%(As+1)),p=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,o>>24,o>>16&255,o>>8&255,255&o,u>>24,u>>16&255,u>>8&255,255&u,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return r.box(r.types.mvhd,p)}static sdtp(e){const n=e.samples||[],o=new Uint8Array(4+n.length);let u,p;for(u=0;u<n.length;u++)p=n[u].flags,o[u+4]=p.dependsOn<<4|p.isDependedOn<<2|p.hasRedundancy;return r.box(r.types.sdtp,o)}static stbl(e){return r.box(r.types.stbl,r.stsd(e),r.box(r.types.stts,r.STTS),r.box(r.types.stsc,r.STSC),r.box(r.types.stsz,r.STSZ),r.box(r.types.stco,r.STCO))}static avc1(e){let u,p,y,n=[],o=[];for(u=0;u<e.sps.length;u++)p=e.sps[u],y=p.byteLength,n.push(y>>>8&255),n.push(255&y),n=n.concat(Array.prototype.slice.call(p));for(u=0;u<e.pps.length;u++)p=e.pps[u],y=p.byteLength,o.push(y>>>8&255),o.push(255&y),o=o.concat(Array.prototype.slice.call(p));const I=r.box(r.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|e.sps.length].concat(n).concat([e.pps.length]).concat(o))),G=e.width,ne=e.height,Te=e.pixelRatio[0],Ve=e.pixelRatio[1];return r.box(r.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,G>>8&255,255&G,ne>>8&255,255&ne,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),I,r.box(r.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),r.box(r.types.pasp,new Uint8Array([Te>>24,Te>>16&255,Te>>8&255,255&Te,Ve>>24,Ve>>16&255,Ve>>8&255,255&Ve])))}static esds(e){const n=e.config.length;return new Uint8Array([0,0,0,0,3,23+n,0,1,0,4,15+n,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([n]).concat(e.config).concat([6,1,2]))}static mp4a(e){const n=e.samplerate;return r.box(r.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),r.box(r.types.esds,r.esds(e)))}static mp3(e){const n=e.samplerate;return r.box(r.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))}static stsd(e){return r.box(r.types.stsd,r.STSD,"audio"===e.type?"mp3"===e.segmentCodec&&"mp3"===e.codec?r.mp3(e):r.mp4a(e):r.avc1(e))}static tkhd(e){const n=e.id,o=e.duration*e.timescale,u=e.width,p=e.height,y=Math.floor(o/(As+1)),I=Math.floor(o%(As+1));return r.box(r.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,y>>24,y>>16&255,y>>8&255,255&y,I>>24,I>>16&255,I>>8&255,255&I,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,u>>8&255,255&u,0,0,p>>8&255,255&p,0,0]))}static traf(e,n){const o=r.sdtp(e),u=e.id,p=Math.floor(n/(As+1)),y=Math.floor(n%(As+1));return r.box(r.types.traf,r.box(r.types.tfhd,new Uint8Array([0,0,0,0,u>>24,u>>16&255,u>>8&255,255&u])),r.box(r.types.tfdt,new Uint8Array([1,0,0,0,p>>24,p>>16&255,p>>8&255,255&p,y>>24,y>>16&255,y>>8&255,255&y])),r.trun(e,o.length+16+20+8+16+8+8),o)}static trak(e){return e.duration=e.duration||4294967295,r.box(r.types.trak,r.tkhd(e),r.mdia(e))}static trex(e){const n=e.id;return r.box(r.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,n){const o=e.samples||[],u=o.length,p=12+16*u,y=new Uint8Array(p);let I,G,ne,Te,Ve,Ge;for(y.set(["video"===e.type?1:0,0,15,1,u>>>24&255,u>>>16&255,u>>>8&255,255&u,(n+=8+p)>>>24&255,n>>>16&255,n>>>8&255,255&n],0),I=0;I<u;I++)G=o[I],ne=G.duration,Te=G.size,Ve=G.flags,Ge=G.cts,y.set([ne>>>24&255,ne>>>16&255,ne>>>8&255,255&ne,Te>>>24&255,Te>>>16&255,Te>>>8&255,255&Te,Ve.isLeading<<2|Ve.dependsOn,Ve.isDependedOn<<6|Ve.hasRedundancy<<4|Ve.paddingValue<<1|Ve.isNonSync,61440&Ve.degradPrio,15&Ve.degradPrio,Ge>>>24&255,Ge>>>16&255,Ge>>>8&255,255&Ge],12+16*I);return r.box(r.types.trun,y)}static initSegment(e){r.types||r.init();const n=r.moov(e),o=new Uint8Array(r.FTYP.byteLength+n.byteLength);return o.set(r.FTYP),o.set(n,r.FTYP.byteLength),o}}return r.types=void 0,r.HDLR_TYPES=void 0,r.STTS=void 0,r.STSC=void 0,r.STCO=void 0,r.STSZ=void 0,r.VMHD=void 0,r.SMHD=void 0,r.STSD=void 0,r.FTYP=void 0,r.DINF=void 0,r})();function Sf(r,i,e=1,n=!1){const o=r*i*e;return n?Math.round(o):o}function ws(r,i=!1){return Sf(r,1e3,1/9e4,i)}let Va,wd=null,Is=null;class Tp{constructor(i,e,n,o=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=i,this.config=e,this.typeSupported=n,this.ISGenerated=!1,null===wd){const p=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);wd=p?parseInt(p[1]):0}if(null===Is){const u=navigator.userAgent.match(/Safari\/(\d+)/i);Is=u?parseInt(u[1]):0}}destroy(){}resetTimeStamp(i){sn.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=i}resetNextTimestamp(){sn.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){sn.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1}getVideoStartPts(i){let e=!1;const n=i.reduce((o,u)=>{const p=u.pts-o;return p<-4294967296?(e=!0,Zo(o,u.pts)):p>0?o:u.pts},i[0].pts);return e&&sn.debug("PTS rollover detected"),n}remux(i,e,n,o,u,p,y,I){let G,ne,Te,Ve,Ge,et,ft=u,vt=u;const qt=e.pid>-1,zt=e.samples.length,un=i.samples.length>0,cn=y&&zt>0||zt>1;if((!(i.pid>-1)||un)&&(!qt||cn)||this.ISGenerated||y){this.ISGenerated||(Te=this.generateIS(i,e,u,p));const mn=this.isVideoContiguous;let jn,Mn=-1;if(cn&&(Mn=function Sp(r){for(let i=0;i<r.length;i++)if(r[i].key)return i;return-1}(e.samples),!mn&&this.config.forceKeyFrameOnDiscontinuity))if(et=!0,Mn>0){sn.warn(`[mp4-remuxer]: Dropped ${Mn} out of ${zt} video samples due to a missing keyframe`);const gn=this.getVideoStartPts(e.samples);e.samples=e.samples.slice(Mn),e.dropped+=Mn,vt+=(e.samples[0].pts-gn)/e.inputTimeScale,jn=vt}else-1===Mn&&(sn.warn(`[mp4-remuxer]: No keyframe found out of ${zt} video samples`),et=!1);if(this.ISGenerated){if(un&&cn){const gn=this.getVideoStartPts(e.samples),zn=(Zo(i.samples[0].pts,gn)-gn)/e.inputTimeScale;ft+=Math.max(0,zn),vt+=Math.max(0,-zn)}if(un){if(i.samplerate||(sn.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),Te=this.generateIS(i,e,u,p)),ne=this.remuxAudio(i,ft,this.isAudioContiguous,p,qt||cn||"audio"===I?vt:void 0),cn){const gn=ne?ne.endPTS-ne.startPTS:0;e.inputTimeScale||(sn.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),Te=this.generateIS(i,e,u,p)),G=this.remuxVideo(e,vt,mn,gn)}}else cn&&(G=this.remuxVideo(e,vt,mn,0));G&&(G.firstKeyFrame=Mn,G.independent=-1!==Mn,G.firstKeyFramePTS=jn)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(Ge=eD(n,u,this._initPTS,this._initDTS)),o.samples.length&&(Ve=j0(o,u,this._initPTS))),{audio:ne,video:G,initSegment:Te,independent:et,text:Ve,id3:Ge}}generateIS(i,e,n,o){const u=i.samples,p=e.samples,y=this.typeSupported,I={},G=this._initPTS;let Ve,Ge,et,ne=!G||o,Te="audio/mp4";if(ne&&(Ve=Ge=1/0),i.config&&u.length&&("mp3"===(i.timescale=i.samplerate,i.segmentCodec)&&(y.mpeg?(Te="audio/mpeg",i.codec=""):y.mp3&&(i.codec="mp3")),I.audio={id:"audio",container:Te,codec:i.codec,initSegment:"mp3"===i.segmentCodec&&y.mpeg?new Uint8Array(0):mc.initSegment([i]),metadata:{channelCount:i.channelCount}},ne&&(et=i.inputTimeScale,G&&et===G.timescale?ne=!1:Ve=Ge=u[0].pts-Math.round(et*n))),e.sps&&e.pps&&p.length&&(e.timescale=e.inputTimeScale,I.video={id:"main",container:"video/mp4",codec:e.codec,initSegment:mc.initSegment([e]),metadata:{width:e.width,height:e.height}},ne))if(et=e.inputTimeScale,G&&et===G.timescale)ne=!1;else{const ft=this.getVideoStartPts(p),vt=Math.round(et*n);Ge=Math.min(Ge,Zo(p[0].dts,ft)-vt),Ve=Math.min(Ve,ft-vt)}if(Object.keys(I).length)return this.ISGenerated=!0,ne?(this._initPTS={baseTime:Ve,timescale:et},this._initDTS={baseTime:Ge,timescale:et}):Ve=et=void 0,{tracks:I,initPTS:Ve,timescale:et}}remuxVideo(i,e,n,o){const u=i.inputTimeScale,p=i.samples,y=[],I=p.length,G=this._initPTS;let Ge,et,ne=this.nextAvcDts,Te=8,Ve=this.videoSampleDuration,ft=Number.POSITIVE_INFINITY,vt=Number.NEGATIVE_INFINITY,Lt=!1;n&&null!==ne||(ne=e*u-(p[0].pts-Zo(p[0].dts,p[0].pts)));const qt=G.baseTime*u/G.timescale;for(let On=0;On<I;On++){const Hn=p[On];Hn.pts=Zo(Hn.pts-qt,ne),Hn.dts=Zo(Hn.dts-qt,ne),Hn.dts<p[On>0?On-1:On].dts&&(Lt=!0)}Lt&&p.sort(function(On,Hn){return On.dts-Hn.dts||On.pts-Hn.pts}),Ge=p[0].dts,et=p[p.length-1].dts;const zt=et-Ge,un=zt?Math.round(zt/(I-1)):Ve||i.inputTimeScale/30;if(n){const On=Ge-ne,Hn=On>un,_i=On<-1;if((Hn||_i)&&(sn.warn(Hn?`AVC: ${ws(On,!0)} ms (${On}dts) hole between fragments detected, filling it`:`AVC: ${ws(-On,!0)} ms (${On}dts) overlapping between fragments detected`),!_i||ne>=p[0].pts)){Ge=ne;const Ii=p[0].pts-On;p[0].dts=Ge,p[0].pts=Ii,sn.log(`Video: First PTS/DTS adjusted: ${ws(Ii,!0)}/${ws(Ge,!0)}, delta: ${ws(On,!0)} ms`)}}Ge=Math.max(0,Ge);let cn=0,Sn=0;for(let On=0;On<I;On++){const Hn=p[On],_i=Hn.units,Ii=_i.length;let yi=0;for(let Ji=0;Ji<Ii;Ji++)yi+=_i[Ji].data.length;Sn+=yi,cn+=Ii,Hn.length=yi,Hn.dts=Math.max(Hn.dts,Ge),ft=Math.min(Hn.pts,ft),vt=Math.max(Hn.pts,vt)}et=p[I-1].dts;const mn=Sn+4*cn+8;let Mn;try{Mn=new Uint8Array(mn)}catch(On){return void this.observer.emit(Et.ERROR,Et.ERROR,{type:hi.MUX_ERROR,details:En.REMUX_ALLOC_ERROR,fatal:!1,error:On,bytes:mn,reason:`fail allocating video mdat ${mn}`})}const jn=new DataView(Mn.buffer);jn.setUint32(0,mn),Mn.set(mc.types.mdat,4);let gn=!1,Qn=Number.POSITIVE_INFINITY,zn=Number.POSITIVE_INFINITY,gi=Number.NEGATIVE_INFINITY,Er=Number.NEGATIVE_INFINITY;for(let On=0;On<I;On++){const Hn=p[On],_i=Hn.units;let yi,Ii=0;for(let xi=0,wr=_i.length;xi<wr;xi++){const Zr=_i[xi],ur=Zr.data,eo=Zr.data.byteLength;jn.setUint32(Te,eo),Te+=4,Mn.set(ur,Te),Te+=eo,Ii+=4+eo}if(On<I-1)Ve=p[On+1].dts-Hn.dts,yi=p[On+1].pts-Hn.pts;else{const xi=this.config,wr=On>0?Hn.dts-p[On-1].dts:un;if(yi=On>0?Hn.pts-p[On-1].pts:un,xi.stretchShortVideoTrack&&null!==this.nextAudioPts){const Zr=Math.floor(xi.maxBufferHole*u),ur=(o?ft+o*u:this.nextAudioPts)-Hn.pts;ur>Zr?(Ve=ur-wr,Ve<0?Ve=wr:gn=!0,sn.log(`[mp4-remuxer]: It is approximately ${ur/90} ms to the next segment; using duration ${Ve/90} ms for the last video frame.`)):Ve=wr}else Ve=wr}const Ji=Math.round(Hn.pts-Hn.dts);Qn=Math.min(Qn,Ve),gi=Math.max(gi,Ve),zn=Math.min(zn,yi),Er=Math.max(Er,yi),y.push(new tD(Hn.key,Ve,Ii,Ji))}if(y.length)if(wd){if(wd<70){const On=y[0].flags;On.dependsOn=2,On.isNonSync=0}}else if(Is&&Er-zn<gi-Qn&&un/gi<.025&&0===y[0].cts){sn.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let On=Ge;for(let Hn=0,_i=y.length;Hn<_i;Hn++){const Ii=On+y[Hn].duration;y[Hn].duration=Hn<_i-1?Ii+y[Hn+1].cts-(On+y[Hn].cts):Hn?y[Hn-1].duration:un,y[Hn].cts=0,On=Ii}}Ve=gn||!Ve?un:Ve,this.nextAvcDts=ne=et+Ve,this.videoSampleDuration=Ve,this.isVideoContiguous=!0;const Yn={data1:mc.moof(i.sequenceNumber++,Ge,Gr({},i,{samples:y})),data2:Mn,startPTS:ft/u,endPTS:(vt+Ve)/u,startDTS:Ge/u,endDTS:ne/u,type:"video",hasAudio:!1,hasVideo:!0,nb:y.length,dropped:i.dropped};return i.samples=[],i.dropped=0,Yn}remuxAudio(i,e,n,o,u){const p=i.inputTimeScale,I=p/(i.samplerate?i.samplerate:p),G="aac"===i.segmentCodec?1024:1152,ne=G*I,Te=this._initPTS,Ve="mp3"===i.segmentCodec&&this.typeSupported.mpeg,Ge=[],et=void 0!==u;let ft=i.samples,vt=Ve?0:8,Lt=this.nextAudioPts||-1;const qt=e*p,zt=Te.baseTime*p/Te.timescale;if(this.isAudioContiguous=n=n||ft.length&&Lt>0&&(o&&Math.abs(qt-Lt)<9e3||Math.abs(Zo(ft[0].pts-zt,qt)-Lt)<20*ne),ft.forEach(function(Gn){Gn.pts=Zo(Gn.pts-zt,qt)}),!n||Lt<0){if(ft=ft.filter(Gn=>Gn.pts>=0),!ft.length)return;Lt=0===u?0:o&&!et?Math.max(0,qt):ft[0].pts}if("aac"===i.segmentCodec){const Gn=this.config.maxAudioFramesDrift;for(let Yn=0,On=Lt;Yn<ft.length;Yn++){const Hn=ft[Yn],_i=Hn.pts,Ii=_i-On,yi=Math.abs(1e3*Ii/p);if(Ii<=-Gn*ne&&et)0===Yn&&(sn.warn(`Audio frame @ ${(_i/p).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*Ii/p)} ms.`),this.nextAudioPts=Lt=On=_i);else if(Ii>=Gn*ne&&yi<1e4&&et){let Ji=Math.round(Ii/ne);On=_i-Ji*ne,On<0&&(Ji--,On+=ne),0===Yn&&(this.nextAudioPts=Lt=On),sn.warn(`[mp4-remuxer]: Injecting ${Ji} audio frame @ ${(On/p).toFixed(3)}s due to ${Math.round(1e3*Ii/p)} ms gap.`);for(let xi=0;xi<Ji;xi++){const wr=Math.max(On,0);let Zr=U0.getSilentFrame(i.manifestCodec||i.codec,i.channelCount);Zr||(sn.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Zr=Hn.unit.subarray()),ft.splice(Yn,0,{unit:Zr,pts:wr}),On+=ne,Yn++}}Hn.pts=On,On+=ne}}let Sn,un=null,cn=null,mn=0,Mn=ft.length;for(;Mn--;)mn+=ft[Mn].unit.byteLength;for(let Gn=0,Yn=ft.length;Gn<Yn;Gn++){const On=ft[Gn],Hn=On.unit;let _i=On.pts;if(null!==cn)Ge[Gn-1].duration=Math.round((_i-cn)/I);else{if(n&&"aac"===i.segmentCodec&&(_i=Lt),un=_i,!(mn>0))return;mn+=vt;try{Sn=new Uint8Array(mn)}catch(yi){return void this.observer.emit(Et.ERROR,Et.ERROR,{type:hi.MUX_ERROR,details:En.REMUX_ALLOC_ERROR,fatal:!1,error:yi,bytes:mn,reason:`fail allocating audio mdat ${mn}`})}Ve||(new DataView(Sn.buffer).setUint32(0,mn),Sn.set(mc.types.mdat,4))}Sn.set(Hn,vt);const Ii=Hn.byteLength;vt+=Ii,Ge.push(new tD(!0,G,Ii,0)),cn=_i}const jn=Ge.length;if(!jn)return;this.nextAudioPts=Lt=cn+I*Ge[Ge.length-1].duration;const Qn=Ve?new Uint8Array(0):mc.moof(i.sequenceNumber++,un/I,Gr({},i,{samples:Ge}));i.samples=[];const zn=un/p,gi=Lt/p,Ki={data1:Qn,data2:Sn,startPTS:zn,endPTS:gi,startDTS:zn,endDTS:gi,type:"audio",hasAudio:!0,hasVideo:!1,nb:jn};return this.isAudioContiguous=!0,Ki}remuxEmptyAudio(i,e,n,o){const u=i.inputTimeScale,I=this.nextAudioPts,G=this._initDTS,ne=9e4*G.baseTime/G.timescale,Te=(null!==I?I:o.startDTS*u)+ne,Ge=u/(i.samplerate?i.samplerate:u)*1024,et=Math.ceil((o.endDTS*u+ne-Te)/Ge),ft=U0.getSilentFrame(i.manifestCodec||i.codec,i.channelCount);if(sn.warn("[mp4-remuxer]: remux empty Audio"),!ft)return void sn.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");const vt=[];for(let Lt=0;Lt<et;Lt++){const qt=Te+Lt*Ge;vt.push({unit:ft,pts:qt,dts:qt})}return i.samples=vt,this.remuxAudio(i,e,n,!1)}}function Zo(r,i){let e;if(null===i)return r;for(e=i<r?-8589934592:8589934592;Math.abs(r-i)>4294967296;)r+=e;return r}function eD(r,i,e,n){const o=r.samples.length;if(!o)return;const u=r.inputTimeScale;for(let y=0;y<o;y++){const I=r.samples[y];I.pts=Zo(I.pts-e.baseTime*u/e.timescale,i*u)/u,I.dts=Zo(I.dts-n.baseTime*u/n.timescale,i*u)/u}const p=r.samples;return r.samples=[],{samples:p}}function j0(r,i,e){const n=r.samples.length;if(!n)return;const o=r.inputTimeScale;for(let p=0;p<n;p++){const y=r.samples[p];y.pts=Zo(y.pts-e.baseTime*o/e.timescale,i*o)/o}r.samples.sort((p,y)=>p.pts-y.pts);const u=r.samples;return r.samples=[],{samples:u}}class tD{constructor(i,e,n,o){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=e,this.size=n,this.cts=o,this.flags=new nD(i)}}class nD{constructor(i){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=i?2:1,this.isNonSync=i?0:1}}function Cp(r,i){const e=r?.codec;return e&&e.length>4?e:"hvc1"===e||"hev1"===e?"hvc1.1.6.L120.90":"av01"===e?"av01.0.04M.08":"avc1"===e||"video"===i?"avc1.42e01e":"mp4a.40.5"}try{Va=self.performance.now.bind(self.performance)}catch{sn.debug("Unable to use Performance API on this environment"),Va=typeof self<"u"&&self.Date.now}const Dp=[{demux:class P0{constructor(i,e){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=e}resetTimeStamp(){}resetInitSegment(i,e,n,o){const u=this.videoTrack=Sa("video",1),p=this.audioTrack=Sa("audio",1),y=this.txtTrack=Sa("text",1);if(this.id3Track=Sa("id3",1),this.timeOffset=0,null==i||!i.byteLength)return;const I=Uy(i);if(I.video){const{id:G,timescale:ne,codec:Te}=I.video;u.id=G,u.timescale=y.timescale=ne,u.codec=Te}if(I.audio){const{id:G,timescale:ne,codec:Te}=I.audio;p.id=G,p.timescale=ne,p.codec=Te}y.id=By.text,u.sampleDuration=0,u.duration=p.duration=o}resetContiguity(){this.remainderData=null}static probe(i){return Vi(i=i.length>16384?i.subarray(0,16384):i,["moof"]).length>0}demux(i,e){this.timeOffset=e;let n=i;const o=this.videoTrack,u=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=el(this.remainderData,i));const y=function vC(r){const i={valid:null,remainder:null},e=Vi(r,["moof"]);if(!e)return i;if(e.length<2)return i.remainder=r,i;const n=e[e.length-1];return i.valid=Ds(r,0,n.byteOffset-8),i.remainder=Ds(r,n.byteOffset-8),i}(n);this.remainderData=y.remainder,o.samples=y.valid||new Uint8Array}else o.samples=n;const p=this.extractID3Track(o,e);return u.samples=Ym(e,o),{videoTrack:o,audioTrack:this.audioTrack,id3Track:p,textTrack:this.txtTrack}}flush(){const i=this.timeOffset,e=this.videoTrack,n=this.txtTrack;e.samples=this.remainderData||new Uint8Array,this.remainderData=null;const o=this.extractID3Track(e,this.timeOffset);return n.samples=Ym(i,e),{videoTrack:e,audioTrack:Sa(),id3Track:o,textTrack:Sa()}}extractID3Track(i,e){const n=this.id3Track;if(i.samples.length){const o=Vi(i.samples,["emsg"]);o&&o.forEach(u=>{const p=function bC(r){const i=r[0];let e="",n="",o=0,u=0,p=0,y=0,I=0,G=0;if(0===i){for(;"\0"!==Xr(r.subarray(G,G+1));)e+=Xr(r.subarray(G,G+1)),G+=1;for(e+=Xr(r.subarray(G,G+1)),G+=1;"\0"!==Xr(r.subarray(G,G+1));)n+=Xr(r.subarray(G,G+1)),G+=1;n+=Xr(r.subarray(G,G+1)),G+=1,o=vi(r,12),u=vi(r,16),y=vi(r,20),I=vi(r,24),G=28}else if(1===i){G+=4,o=vi(r,G),G+=4;const Te=vi(r,G);G+=4;const Ve=vi(r,G);for(G+=4,p=2**32*Te+Ve,Number.isSafeInteger(p)||(p=Number.MAX_SAFE_INTEGER,sn.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),y=vi(r,G),G+=4,I=vi(r,G),G+=4;"\0"!==Xr(r.subarray(G,G+1));)e+=Xr(r.subarray(G,G+1)),G+=1;for(e+=Xr(r.subarray(G,G+1)),G+=1;"\0"!==Xr(r.subarray(G,G+1));)n+=Xr(r.subarray(G,G+1)),G+=1;n+=Xr(r.subarray(G,G+1)),G+=1}return{schemeIdUri:e,value:n,timeScale:o,presentationTime:p,presentationTimeDelta:u,eventDuration:y,id:I,payload:r.subarray(G,r.byteLength)}}(u);if(_p.test(p.schemeIdUri)){const y=ci(p.presentationTime)?p.presentationTime/p.timeScale:e+p.presentationTimeDelta/p.timeScale;let I=4294967295===p.eventDuration?Number.POSITIVE_INFINITY:p.eventDuration/p.timeScale;I<=.001&&(I=Number.POSITIVE_INFINITY);const G=p.payload;n.samples.push({data:G,len:G.byteLength,dts:y,pts:y,type:zo_emsg,duration:I})}})}return n}demuxSampleAes(i,e,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}},remux:class iD{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(i){this.initPTS=i,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(i,e,n,o){this.audioCodec=e,this.videoCodec=n,this.generateInitSegment(function $M(r,i){if(!r||!i)return r;const e=i.keyId;return e&&i.isCommonEncryption&&Vi(r,["moov","trak"]).forEach(o=>{const p=Vi(o,["mdia","minf","stbl","stsd"])[0].subarray(8);let y=Vi(p,["enca"]);const I=y.length>0;I||(y=Vi(p,["encv"])),y.forEach(G=>{Vi(G.subarray(I?28:78),["sinf"]).forEach(Ve=>{const Ge=_C(Ve);if(Ge){const et=Ge.subarray(8,24);et.some(ft=>0!==ft)||(sn.log(`[eme] Patching keyId in 'enc${I?"a":"v"}>sinf>>tenc' box: ${Po_hexDump(et)} -> ${Po_hexDump(e)}`),Ge.set(e,8))}})})}),r}(i,o)),this.emitInitSegment=!0}generateInitSegment(i){let{audioCodec:e,videoCodec:n}=this;if(null==i||!i.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const o=this.initData=Uy(i);e||(e=Cp(o.audio,"audio")),n||(n=Cp(o.video,"video"));const u={};o.audio&&o.video?u.audiovideo={container:"video/mp4",codec:e+","+n,initSegment:i,id:"main"}:o.audio?u.audio={container:"audio/mp4",codec:e,initSegment:i,id:"audio"}:o.video?u.video={container:"video/mp4",codec:n,initSegment:i,id:"main"}:sn.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=u}remux(i,e,n,o,u,p){var y,I;let{initPTS:G,lastEndTime:ne}=this;const Te={audio:void 0,video:void 0,text:o,id3:n,initSegment:void 0};ci(ne)||(ne=this.lastEndTime=u||0);const Ve=e.samples;if(null==Ve||!Ve.length)return Te;const Ge={initPTS:void 0,timescale:1};let et=this.initData;if(null!=(y=et)&&y.length||(this.generateInitSegment(Ve),et=this.initData),null==(I=et)||!I.length)return sn.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),Te;this.emitInitSegment&&(Ge.tracks=this.initTracks,this.emitInitSegment=!1);const ft=function JM(r,i){let e=0,n=0,o=0;const u=Vi(r,["moof","traf"]);for(let p=0;p<u.length;p++){const y=u[p],I=Vi(y,["tfhd"])[0],ne=i[vi(I,4)];if(!ne)continue;const Te=ne.default,Ve=vi(I,0)|Te?.flags;let Ge=Te?.duration;8&Ve&&(Ge=vi(I,2&Ve?12:8));const et=ne.timescale||9e4,ft=Vi(y,["trun"]);for(let vt=0;vt<ft.length;vt++)e=jy(ft[vt]),!e&&Ge&&(e=Ge*vi(ft[vt],4)),"video"===ne.type?n+=e/et:"audio"===ne.type&&(o+=e/et)}if(0===n&&0===o){let p=0;const y=Vi(r,["sidx"]);for(let I=0;I<y.length;I++){const G=gC(y[I]);null!=G&&G.references&&(p+=G.references.reduce((ne,Te)=>ne+Te.info.duration||0,0))}return p}return n||o}(Ve,et),vt=function qM(r,i){return Vi(i,["moof","traf"]).reduce((e,n)=>{const o=Vi(n,["tfdt"])[0],u=o[0],p=Vi(n,["tfhd"]).reduce((y,I)=>{const G=vi(I,4),ne=r[G];if(ne){let Te=vi(o,4);if(1===u){if(Te===xs)return sn.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),y;Te*=xs+1,Te+=vi(o,8)}const Ge=Te/(ne.timescale||9e4);if(isFinite(Ge)&&(null===y||Ge<y))return Ge}return y},null);return null!==p&&isFinite(p)&&(null===e||p<e)?p:e},null)}(et,Ve),Lt=null===vt?u:vt;(function rD(r,i,e,n){if(null===r)return!0;const o=Math.max(n,1);return Math.abs(i-r.baseTime/r.timescale-e)>o}(G,Lt,u,ft)||Ge.timescale!==G.timescale&&p)&&(Ge.initPTS=Lt-u,G&&1===G.timescale&&sn.warn("Adjusting initPTS by "+(Ge.initPTS-G.baseTime)),this.initPTS=G={baseTime:Ge.initPTS,timescale:1});const qt=i?Lt-G.baseTime/G.timescale:ne,zt=qt+ft;(function nf(r,i,e){Vi(i,["moof","traf"]).forEach(n=>{Vi(n,["tfhd"]).forEach(o=>{const u=vi(o,4),p=r[u];if(!p)return;const y=p.timescale||9e4;Vi(n,["tfdt"]).forEach(I=>{const G=I[0];let ne=vi(I,4);if(0===G)ne-=e*y,ne=Math.max(ne,0),Hm(I,4,ne);else{ne*=Math.pow(2,32),ne+=vi(I,8),ne-=e*y,ne=Math.max(ne,0);const Te=Math.floor(ne/(xs+1)),Ve=Math.floor(ne%(xs+1));Hm(I,4,Te),Hm(I,8,Ve)}})})})})(et,Ve,G.baseTime/G.timescale),ft>0?this.lastEndTime=zt:(sn.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const un=!!et.audio,cn=!!et.video;let Sn="";un&&(Sn+="audio"),cn&&(Sn+="video");const mn={data1:Ve,startPTS:qt,startDTS:qt,endPTS:zt,endDTS:zt,type:Sn,hasAudio:un,hasVideo:cn,nb:1,dropped:0};return Te.audio="audio"===mn.type?mn:void 0,Te.video="audio"!==mn.type?mn:void 0,Te.initSegment=Ge,Te.id3=eD(n,u,G,G),o.samples.length&&(Te.text=j0(o,u,G)),Te}}},{demux:nl,remux:Tp},{demux:class O0 extends S0{constructor(i,e){super(),this.observer=void 0,this.config=void 0,this.observer=i,this.config=e}resetInitSegment(i,e,n,o){super.resetInitSegment(i,e,n,o),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:e,duration:o,inputTimeScale:9e4,dropped:0}}static probe(i){if(!i)return!1;let n=(dd(i,0)||[]).length;for(let o=i.length;n<o;n++)if(gp(i,n))return sn.log("ADTS sync word found !"),!0;return!1}canParse(i,e){return function pp(r,i){return function mp(r,i){return i+5<r.length}(r,i)&&x0(r,i)&&Td(r,i)<=r.length-i}(i,e)}appendFrame(i,e,n){A0(i,this.observer,e,n,i.manifestCodec);const o=I0(i,e,n,this.basePTS,this.frameIndex);if(o&&0===o.missing)return o}},remux:Tp},{demux:class B0 extends S0{resetInitSegment(i,e,n,o){super.resetInitSegment(i,e,n,o),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:e,duration:o,inputTimeScale:9e4,dropped:0}}static probe(i){if(!i)return!1;let n=(dd(i,0)||[]).length;for(let o=i.length;n<o;n++)if(hc(i,n))return sn.log("MPEG Audio sync word found !"),!0;return!1}canParse(i,e){return function Co(r,i){return Ef(r,i)&&4<=r.length-i}(i,e)}appendFrame(i,e,n){if(null!==this.basePTS)return vp(i,e,n,this.basePTS,this.frameIndex)}},remux:Tp}];class xp{constructor(i,e,n,o,u){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=i,this.typeSupported=e,this.config=n,this.vendor=o,this.id=u}configure(i){this.transmuxConfig=i,this.decrypter&&this.decrypter.reset()}push(i,e,n,o){const u=n.transmuxing;u.executeStart=Va();let p=new Uint8Array(i);const{currentTransmuxState:y,transmuxConfig:I}=this;o&&(this.currentTransmuxState=o);const{contiguous:G,discontinuity:ne,trackSwitch:Te,accurateTimeOffset:Ve,timeOffset:Ge,initSegmentChange:et}=o||y,{audioCodec:ft,videoCodec:vt,defaultInitPts:Lt,duration:qt,initSegmentData:zt}=I,un=function V0(r,i){let e=null;return r.byteLength>0&&null!=i&&null!=i.key&&null!==i.iv&&null!=i.method&&(e=i),e}(p,e);if(un&&"AES-128"===un.method){const Mn=this.getDecrypter();if(!Mn.isSync())return this.decryptionPromise=Mn.webCryptoDecrypt(p,un.key.buffer,un.iv.buffer).then(jn=>{const gn=this.push(jn,null,n);return this.decryptionPromise=null,gn}),this.decryptionPromise;{let jn=Mn.softwareDecrypt(p,un.key.buffer,un.iv.buffer);if(n.part>-1&&(jn=Mn.flush()),!jn)return u.executeEnd=Va(),Mp(n);p=new Uint8Array(jn)}}const cn=this.needsProbing(ne,Te);if(cn){const Mn=this.configureTransmuxer(p);if(Mn)return sn.warn(`[transmuxer] ${Mn.message}`),this.observer.emit(Et.ERROR,Et.ERROR,{type:hi.MEDIA_ERROR,details:En.FRAG_PARSING_ERROR,fatal:!1,error:Mn,reason:Mn.message}),u.executeEnd=Va(),Mp(n)}(ne||Te||et||cn)&&this.resetInitSegment(zt,ft,vt,qt,e),(ne||et||cn)&&this.resetInitialTimestamp(Lt),G||this.resetContiguity();const Sn=this.transmux(p,un,Ge,Ve,n),mn=this.currentTransmuxState;return mn.contiguous=!0,mn.discontinuity=!1,mn.trackSwitch=!1,u.executeEnd=Va(),Sn}flush(i){const e=i.transmuxing;e.executeStart=Va();const{decrypter:n,currentTransmuxState:o,decryptionPromise:u}=this;if(u)return u.then(()=>this.flush(i));const p=[],{timeOffset:y}=o;if(n){const Te=n.flush();Te&&p.push(this.push(Te,null,i))}const{demuxer:I,remuxer:G}=this;if(!I||!G)return e.executeEnd=Va(),[Mp(i)];const ne=I.flush(y);return Cf(ne)?ne.then(Te=>(this.flushRemux(p,Te,i),p)):(this.flushRemux(p,ne,i),p)}flushRemux(i,e,n){const{audioTrack:o,videoTrack:u,id3Track:p,textTrack:y}=e,{accurateTimeOffset:I,timeOffset:G}=this.currentTransmuxState;sn.log(`[transmuxer.ts]: Flushed fragment ${n.sn}${n.part>-1?" p: "+n.part:""} of level ${n.level}`);const ne=this.remuxer.remux(o,u,p,y,G,I,!0,this.id);i.push({remuxResult:ne,chunkMeta:n}),n.transmuxing.executeEnd=Va()}resetInitialTimestamp(i){const{demuxer:e,remuxer:n}=this;!e||!n||(e.resetTimeStamp(i),n.resetTimeStamp(i))}resetContiguity(){const{demuxer:i,remuxer:e}=this;!i||!e||(i.resetContiguity(),e.resetNextTimestamp())}resetInitSegment(i,e,n,o,u){const{demuxer:p,remuxer:y}=this;!p||!y||(p.resetInitSegment(i,e,n,o),y.resetInitSegment(i,e,n,u))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(i,e,n,o,u){let p;return p=e&&"SAMPLE-AES"===e.method?this.transmuxSampleAes(i,e,n,o,u):this.transmuxUnencrypted(i,n,o,u),p}transmuxUnencrypted(i,e,n,o){const{audioTrack:u,videoTrack:p,id3Track:y,textTrack:I}=this.demuxer.demux(i,e,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(u,p,y,I,e,n,!1,this.id),chunkMeta:o}}transmuxSampleAes(i,e,n,o,u){return this.demuxer.demuxSampleAes(i,e,n).then(p=>({remuxResult:this.remuxer.remux(p.audioTrack,p.videoTrack,p.id3Track,p.textTrack,n,o,!1,this.id),chunkMeta:u}))}configureTransmuxer(i){const{config:e,observer:n,typeSupported:o,vendor:u}=this;let p;for(let Te=0,Ve=Dp.length;Te<Ve;Te++)if(Dp[Te].demux.probe(i)){p=Dp[Te];break}if(!p)return new Error("Failed to find demuxer by probing fragment data");const y=this.demuxer,I=this.remuxer,G=p.remux,ne=p.demux;(!I||!(I instanceof G))&&(this.remuxer=new G(n,e,o,u)),(!y||!(y instanceof ne))&&(this.demuxer=new ne(n,e,o),this.probe=ne.probe)}needsProbing(i,e){return!this.demuxer||!this.remuxer||i||e}getDecrypter(){let i=this.decrypter;return i||(i=this.decrypter=new yf(this.config)),i}}const Mp=r=>({remuxResult:{},chunkMeta:r});function Cf(r){return"then"in r&&r.then instanceof Function}class G0{constructor(i,e,n,o,u){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=i,this.videoCodec=e,this.initSegmentData=n,this.duration=o,this.defaultInitPts=u||null}}class oD{constructor(i,e,n,o,u,p){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=i,this.contiguous=e,this.accurateTimeOffset=n,this.trackSwitch=o,this.timeOffset=u,this.initSegmentChange=p}}var Ap={exports:{}};!function(r){var i=Object.prototype.hasOwnProperty,e="~";function n(){}function o(I,G,ne){this.fn=I,this.context=G,this.once=ne||!1}function u(I,G,ne,Te,Ve){if("function"!=typeof ne)throw new TypeError("The listener must be a function");var Ge=new o(ne,Te||I,Ve),et=e?e+G:G;return I._events[et]?I._events[et].fn?I._events[et]=[I._events[et],Ge]:I._events[et].push(Ge):(I._events[et]=Ge,I._eventsCount++),I}function p(I,G){0==--I._eventsCount?I._events=new n:delete I._events[G]}function y(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(e=!1)),y.prototype.eventNames=function(){var ne,Te,G=[];if(0===this._eventsCount)return G;for(Te in ne=this._events)i.call(ne,Te)&&G.push(e?Te.slice(1):Te);return Object.getOwnPropertySymbols?G.concat(Object.getOwnPropertySymbols(ne)):G},y.prototype.listeners=function(G){var Te=this._events[e?e+G:G];if(!Te)return[];if(Te.fn)return[Te.fn];for(var Ve=0,Ge=Te.length,et=new Array(Ge);Ve<Ge;Ve++)et[Ve]=Te[Ve].fn;return et},y.prototype.listenerCount=function(G){var Te=this._events[e?e+G:G];return Te?Te.fn?1:Te.length:0},y.prototype.emit=function(G,ne,Te,Ve,Ge,et){var ft=e?e+G:G;if(!this._events[ft])return!1;var qt,zt,vt=this._events[ft],Lt=arguments.length;if(vt.fn){switch(vt.once&&this.removeListener(G,vt.fn,void 0,!0),Lt){case 1:return vt.fn.call(vt.context),!0;case 2:return vt.fn.call(vt.context,ne),!0;case 3:return vt.fn.call(vt.context,ne,Te),!0;case 4:return vt.fn.call(vt.context,ne,Te,Ve),!0;case 5:return vt.fn.call(vt.context,ne,Te,Ve,Ge),!0;case 6:return vt.fn.call(vt.context,ne,Te,Ve,Ge,et),!0}for(zt=1,qt=new Array(Lt-1);zt<Lt;zt++)qt[zt-1]=arguments[zt];vt.fn.apply(vt.context,qt)}else{var cn,un=vt.length;for(zt=0;zt<un;zt++)switch(vt[zt].once&&this.removeListener(G,vt[zt].fn,void 0,!0),Lt){case 1:vt[zt].fn.call(vt[zt].context);break;case 2:vt[zt].fn.call(vt[zt].context,ne);break;case 3:vt[zt].fn.call(vt[zt].context,ne,Te);break;case 4:vt[zt].fn.call(vt[zt].context,ne,Te,Ve);break;default:if(!qt)for(cn=1,qt=new Array(Lt-1);cn<Lt;cn++)qt[cn-1]=arguments[cn];vt[zt].fn.apply(vt[zt].context,qt)}}return!0},y.prototype.on=function(G,ne,Te){return u(this,G,ne,Te,!1)},y.prototype.once=function(G,ne,Te){return u(this,G,ne,Te,!0)},y.prototype.removeListener=function(G,ne,Te,Ve){var Ge=e?e+G:G;if(!this._events[Ge])return this;if(!ne)return p(this,Ge),this;var et=this._events[Ge];if(et.fn)et.fn===ne&&(!Ve||et.once)&&(!Te||et.context===Te)&&p(this,Ge);else{for(var ft=0,vt=[],Lt=et.length;ft<Lt;ft++)(et[ft].fn!==ne||Ve&&!et[ft].once||Te&&et[ft].context!==Te)&&vt.push(et[ft]);vt.length?this._events[Ge]=1===vt.length?vt[0]:vt:p(this,Ge)}return this},y.prototype.removeAllListeners=function(G){var ne;return G?this._events[ne=e?e+G:G]&&p(this,ne):(this._events=new n,this._eventsCount=0),this},y.prototype.off=y.prototype.removeListener,y.prototype.addListener=y.prototype.on,y.prefixed=e,y.EventEmitter=y,r.exports=y}(Ap);var Df=rC(Ap.exports);const xf=sf()||{isTypeSupported:()=>!1};class Y0{constructor(i,e,n,o){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const u=i.config;this.hls=i,this.id=e,this.useWorker=!!u.enableWorker,this.onTransmuxComplete=n,this.onFlush=o;const p=(G,ne)=>{(ne=ne||{}).frag=this.frag,ne.id=this.id,G===Et.ERROR&&(this.error=ne.error),this.hls.trigger(G,ne)};this.observer=new Df,this.observer.on(Et.FRAG_DECRYPTED,p),this.observer.on(Et.ERROR,p);const y={mp4:xf.isTypeSupported("video/mp4"),mpeg:xf.isTypeSupported("audio/mpeg"),mp3:xf.isTypeSupported('audio/mp4; codecs="mp3"')},I=navigator.vendor;if(this.useWorker&&typeof Worker<"u"&&(u.workerPath||function E0(){return"function"==typeof __HLS_WORKER_BUNDLE__}()))try{u.workerPath?(sn.log(`loading Web Worker ${u.workerPath} for "${e}"`),this.workerContext=function hp(r){const i=new self.URL(r,self.location.href).href;return{worker:new self.Worker(i),scriptURL:i}}(u.workerPath)):(sn.log(`injecting Web Worker for "${e}"`),this.workerContext=function T0(){const r=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),i=self.URL.createObjectURL(r);return{worker:new self.Worker(i),objectURL:i}}()),this.onwmsg=Te=>this.onWorkerMessage(Te);const{worker:ne}=this.workerContext;ne.addEventListener("message",this.onwmsg),ne.onerror=Te=>{const Ve=new Error(`${Te.message}  (${Te.filename}:${Te.lineno})`);u.enableWorker=!1,sn.warn(`Error in "${e}" Web Worker, fallback to inline`),this.hls.trigger(Et.ERROR,{type:hi.OTHER_ERROR,details:En.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:Ve})},ne.postMessage({cmd:"init",typeSupported:y,vendor:I,id:e,config:JSON.stringify(u)})}catch(ne){sn.warn(`Error setting up "${e}" Web Worker, fallback to inline`,ne),this.resetWorker(),this.error=null,this.transmuxer=new xp(this.observer,y,u,I,e)}else this.transmuxer=new xp(this.observer,y,u,I,e)}resetWorker(){if(this.workerContext){const{worker:i,objectURL:e}=this.workerContext;e&&self.URL.revokeObjectURL(e),i.removeEventListener("message",this.onwmsg),i.onerror=null,i.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const e=this.transmuxer;e&&(e.destroy(),this.transmuxer=null)}const i=this.observer;i&&i.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(i,e,n,o,u,p,y,I,G,ne){var Te,Ve;G.transmuxing.start=self.performance.now();const{transmuxer:Ge}=this,et=p?p.start:u.start,ft=u.decryptdata,vt=this.frag,Lt=!(vt&&u.cc===vt.cc),qt=!(vt&&G.level===vt.level),zt=vt?G.sn-vt.sn:-1,un=this.part?G.part-this.part.index:-1,Sn=!qt&&(1===zt||0===zt&&(1===un||0===zt&&G.id>1&&G.id===vt?.stats.chunkCount&&un<=0)),mn=self.performance.now();(qt||zt||0===u.stats.parsing.start)&&(u.stats.parsing.start=mn),p&&(un||!Sn)&&(p.stats.parsing.start=mn);const Mn=!(vt&&(null==(Te=u.initSegment)?void 0:Te.url)===(null==(Ve=vt.initSegment)?void 0:Ve.url)),jn=new oD(Lt,Sn,I,qt,et,Mn);if(!Sn||Lt||Mn){sn.log(`[transmuxer-interface, ${u.type}]: Starting new transmux session for sn: ${G.sn} p: ${G.part} level: ${G.level} id: ${G.id}\n        discontinuity: ${Lt}\n        trackSwitch: ${qt}\n        contiguous: ${Sn}\n        accurateTimeOffset: ${I}\n        timeOffset: ${et}\n        initSegmentChange: ${Mn}`);const gn=new G0(n,o,e,y,ne);this.configureTransmuxer(gn)}if(this.frag=u,this.part=p,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:i,decryptdata:ft,chunkMeta:G,state:jn},i instanceof ArrayBuffer?[i]:[]);else if(Ge){const gn=Ge.push(i,ft,G,jn);Cf(gn)?(Ge.async=!0,gn.then(Qn=>{this.handleTransmuxComplete(Qn)}).catch(Qn=>{this.transmuxerError(Qn,G,"transmuxer-interface push error")})):(Ge.async=!1,this.handleTransmuxComplete(gn))}}flush(i){i.transmuxing.start=self.performance.now();const{transmuxer:e}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:i});else if(e){let n=e.flush(i);Cf(n)||e.async?(Cf(n)||(n=Promise.resolve(n)),n.then(u=>{this.handleFlushResult(u,i)}).catch(u=>{this.transmuxerError(u,i,"transmuxer-interface flush error")})):this.handleFlushResult(n,i)}}transmuxerError(i,e,n){this.hls&&(this.error=i,this.hls.trigger(Et.ERROR,{type:hi.MEDIA_ERROR,details:En.FRAG_PARSING_ERROR,chunkMeta:e,fatal:!1,error:i,err:i,reason:n}))}handleFlushResult(i,e){i.forEach(n=>{this.handleTransmuxComplete(n)}),this.onFlush(e)}onWorkerMessage(i){const e=i.data,n=this.hls;switch(e.event){case"init":{var o;const u=null==(o=this.workerContext)?void 0:o.objectURL;u&&self.URL.revokeObjectURL(u);break}case"transmuxComplete":this.handleTransmuxComplete(e.data);break;case"flush":this.onFlush(e.data);break;case"workerLog":sn[e.data.logType]&&sn[e.data.logType](e.data.message);break;default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,n.trigger(e.event,e.data)}}configureTransmuxer(i){const{transmuxer:e}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:i}):e&&e.configure(i)}handleTransmuxComplete(i){i.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(i)}}class nA{constructor(i,e,n,o){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=i,this.media=e,this.fragmentTracker=n,this.hls=o}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(i,e){const{config:n,media:o,stalled:u}=this;if(null===o)return;const{currentTime:p,seeking:y}=o,I=this.seeking&&!y,G=!this.seeking&&y;if(this.seeking=y,p!==i){if(this.moved=!0,null!==u){if(this.stallReported){const Lt=self.performance.now()-u;sn.warn(`playback not stuck anymore @${p}, after ${Math.round(Lt)}ms`),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}return}if(G||I)return void(this.stalled=null);if(o.paused&&!y||o.ended||0===o.playbackRate||!rr.getBuffered(o).length)return;const ne=rr.bufferInfo(o,p,0),Ve=ne.nextStart||0;if(!(ne.len>0||Ve))return;if(y){const Lt=ne.len>2,qt=!Ve||e&&e.start<=p||Ve-p>2&&!this.fragmentTracker.getPartialFragment(p);if(Lt||qt)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var Ge;const Lt=Math.max(Ve,ne.start||0)-p,qt=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,un=(null==qt||null==(Ge=qt.details)?void 0:Ge.live)?2*qt.details.targetduration:2,cn=this.fragmentTracker.getPartialFragment(p);if(Lt>0&&(Lt<=un||cn))return void this._trySkipBufferHole(cn)}const et=self.performance.now();if(null===u)return void(this.stalled=et);const ft=et-u;if(!y&&ft>=250&&(this._reportStall(ne),!this.media))return;const vt=rr.bufferInfo(o,p,n.maxBufferHole);this._tryFixBufferStall(vt,ft)}_tryFixBufferStall(i,e){const{config:n,fragmentTracker:o,media:u}=this;if(null===u)return;const p=u.currentTime,y=o.getPartialFragment(p);y&&(this._trySkipBufferHole(y)||!this.media)||(i.len>n.maxBufferHole||i.nextStart&&i.nextStart-p<n.maxBufferHole)&&e>1e3*n.highBufferWatchdogPeriod&&(sn.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(i){const{hls:e,media:n,stallReported:o}=this;if(!o&&n){this.stallReported=!0;const u=new Error(`Playback stalling at @${n.currentTime} due to low buffer (${JSON.stringify(i)})`);sn.warn(u.message),e.trigger(Et.ERROR,{type:hi.MEDIA_ERROR,details:En.BUFFER_STALLED_ERROR,fatal:!1,error:u,buffer:i.len})}}_trySkipBufferHole(i){const{config:e,hls:n,media:o}=this;if(null===o)return 0;const u=o.currentTime,p=rr.bufferInfo(o,u,0),y=u<p.start?p.start:p.nextStart;if(y){const ne=y-u;if(ne>0&&(p.len<=e.maxBufferHole||p.len>0&&p.len<1&&o.readyState<3)){if(ne>e.maxBufferHole){const{fragmentTracker:Ve}=this;let Ge=!1;if(0===u){const et=Ve.getAppendedFrag(0,"main");et&&y<et.end&&(Ge=!0)}if(!Ge){const et=i||Ve.getAppendedFrag(u,"main");if(et){let ft=!1,vt=et.end;for(;vt<y;){const Lt=Ve.getPartialFragment(vt);if(!Lt){ft=!0;break}vt+=Lt.duration}if(ft)return 0}}}const Te=Math.max(y+.05,u+.1);if(sn.warn(`skipping hole, adjusting currentTime from ${u} to ${Te}`),this.moved=!0,this.stalled=null,o.currentTime=Te,i&&!i.gap){const Ve=new Error(`fragment loaded with buffer holes, seeking from ${u} to ${Te}`);n.trigger(Et.ERROR,{type:hi.MEDIA_ERROR,details:En.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:Ve,reason:Ve.message,frag:i})}return Te}}return 0}_tryNudgeBuffer(){const{config:i,hls:e,media:n,nudgeRetry:o}=this;if(null===n)return;const u=n.currentTime;if(this.nudgeRetry++,o<i.nudgeMaxRetry){const p=u+(o+1)*i.nudgeOffset,y=new Error(`Nudging 'currentTime' from ${u} to ${p}`);sn.warn(y.message),n.currentTime=p,e.trigger(Et.ERROR,{type:hi.MEDIA_ERROR,details:En.BUFFER_NUDGE_ON_STALL,error:y,fatal:!1})}else{const p=new Error(`Playhead still not moving while enough data buffered @${u} after ${i.nudgeMaxRetry} nudges`);sn.error(p.message),e.trigger(Et.ERROR,{type:hi.MEDIA_ERROR,details:En.BUFFER_STALLED_ERROR,error:p,fatal:!0})}}}class rA extends bf{constructor(i,e,n){super(i,e,n,"[stream-controller]","main"),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:i}=this;i.on(Et.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(Et.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),i.on(Et.MANIFEST_PARSED,this.onManifestParsed,this),i.on(Et.LEVEL_LOADING,this.onLevelLoading,this),i.on(Et.LEVEL_LOADED,this.onLevelLoaded,this),i.on(Et.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),i.on(Et.ERROR,this.onError,this),i.on(Et.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),i.on(Et.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),i.on(Et.BUFFER_CREATED,this.onBufferCreated,this),i.on(Et.BUFFER_FLUSHED,this.onBufferFlushed,this),i.on(Et.LEVELS_UPDATED,this.onLevelsUpdated,this),i.on(Et.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:i}=this;i.off(Et.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(Et.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),i.off(Et.MANIFEST_PARSED,this.onManifestParsed,this),i.off(Et.LEVEL_LOADED,this.onLevelLoaded,this),i.off(Et.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),i.off(Et.ERROR,this.onError,this),i.off(Et.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),i.off(Et.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),i.off(Et.BUFFER_CREATED,this.onBufferCreated,this),i.off(Et.BUFFER_FLUSHED,this.onBufferFlushed,this),i.off(Et.LEVELS_UPDATED,this.onLevelsUpdated,this),i.off(Et.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),this.onMediaDetaching()}startLoad(i){if(this.levels){const{lastCurrentTime:e,hls:n}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let o=n.startLevel;-1===o&&(n.config.testBandwidth&&this.levels.length>1?(o=0,this.bitrateTest=!0):o=n.nextAutoLevel),this.level=n.nextLoadLevel=o,this.loadedmetadata=!1}e>0&&-1===i&&(this.log(`Override startPosition with lastCurrentTime @${e.toFixed(3)}`),i=e),this.state="IDLE",this.nextLoadPosition=this.startPosition=this.lastCurrentTime=i,this.tick()}else this._forceStartLoad=!0,this.state="STOPPED"}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case"WAITING_LEVEL":{var i;const{levels:n,level:o}=this,u=null==n||null==(i=n[o])?void 0:i.details;if(u&&(!u.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(u))break;this.state="IDLE";break}if(this.hls.nextLoadLevel!==this.level){this.state="IDLE";break}break}case"FRAG_LOADING_WAITING_RETRY":{var e;const n=self.performance.now(),o=this.retryDate;(!o||n>=o||null!=(e=this.media)&&e.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state="IDLE")}}"IDLE"===this.state&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:i,levelLastLoaded:e,levels:n,media:o}=this,{config:u,nextLoadLevel:p}=i;if(null===e||!o&&(this.startFragRequested||!u.startFragPrefetch)||this.altAudio&&this.audioOnly||null==n||!n[p])return;const y=n[p],I=this.getMainFwdBufferInfo();if(null===I)return;const G=this.getLevelDetails();if(G&&this._streamEnded(I,G)){const vt={};return this.altAudio&&(vt.type="video"),this.hls.trigger(Et.BUFFER_EOS,vt),void(this.state="ENDED")}i.loadLevel!==p&&-1===i.manualLevel&&this.log(`Adapting to level ${p} from level ${this.level}`),this.level=i.nextLoadLevel=p;const ne=y.details;if(!ne||"WAITING_LEVEL"===this.state||ne.live&&this.levelLastLoaded!==p)return this.level=p,void(this.state="WAITING_LEVEL");const Te=I.len,Ve=this.getMaxBufferLength(y.maxBitrate);if(Te>=Ve)return;this.backtrackFragment&&this.backtrackFragment.start>I.end&&(this.backtrackFragment=null);const Ge=this.backtrackFragment?this.backtrackFragment.start:I.end;let et=this.getNextFragment(Ge,ne);if(this.couldBacktrack&&!this.fragPrevious&&et&&"initSegment"!==et.sn&&"OK"!==this.fragmentTracker.getState(et)){var ft;const Lt=(null!=(ft=this.backtrackFragment)?ft:et).sn-ne.startSN,qt=ne.fragments[Lt-1];qt&&et.cc===qt.cc&&(et=qt,this.fragmentTracker.removeFragment(qt))}else this.backtrackFragment&&I.len&&(this.backtrackFragment=null);if(et&&this.isLoopLoading(et,Ge)){if(!et.gap){const Lt=this.audioOnly&&!this.altAudio?"audio":"video",qt=("video"===Lt?this.videoBuffer:this.mediaBuffer)||this.media;qt&&this.afterBufferFlushed(qt,Lt,"main")}et=this.getNextFragmentLoopLoading(et,ne,I,"main",Ve)}et&&(et.initSegment&&!et.initSegment.data&&!this.bitrateTest&&(et=et.initSegment),this.loadFragment(et,y,Ge))}loadFragment(i,e,n){const o=this.fragmentTracker.getState(i);this.fragCurrent=i,"NOT_LOADED"===o||"PARTIAL"===o?"initSegment"===i.sn?this._loadInitSegment(i,e):this.bitrateTest?(this.log(`Fragment ${i.sn} of level ${i.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(i,e)):(this.startFragRequested=!0,super.loadFragment(i,e,n)):this.clearTrackerIfNeeded(i)}getBufferedFrag(i){return this.fragmentTracker.getBufferedFrag(i,"main")}followingBufferedFrag(i){return i?this.getBufferedFrag(i.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:i,media:e}=this;if(null!=e&&e.readyState){let n;const o=this.getAppendedFrag(e.currentTime);o&&o.start>1&&this.flushMainBuffer(0,o.start-1);const u=this.getLevelDetails();if(null!=u&&u.live){const y=this.getMainFwdBufferInfo();if(!y||y.len<2*u.targetduration)return}if(!e.paused&&i){const G=this.fragLastKbps;n=G&&this.fragCurrent?this.fragCurrent.duration*i[this.hls.nextLoadLevel].maxBitrate/(1e3*G)+1:0}else n=0;const p=this.getBufferedFrag(e.currentTime+n);if(p){const y=this.followingBufferedFrag(p);if(y){this.abortCurrentFrag();const G=y.duration,ne=Math.max(p.end,(y.maxStartPTS?y.maxStartPTS:y.start)+Math.min(Math.max(G-this.config.maxFragLookUpTolerance,.5*G),.75*G));this.flushMainBuffer(ne,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const i=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,i&&(i.abortRequests(),this.fragmentTracker.removeFragment(i)),this.state){case"KEY_LOADING":case"FRAG_LOADING":case"FRAG_LOADING_WAITING_RETRY":case"PARSING":case"PARSED":this.state="IDLE"}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(i,e){super.flushMainBuffer(i,e,this.altAudio?"video":null)}onMediaAttached(i,e){super.onMediaAttached(i,e);const n=e.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),n.addEventListener("playing",this.onvplaying),n.addEventListener("seeked",this.onvseeked),this.gapController=new nA(this.config,n,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:i}=this;i&&this.onvplaying&&this.onvseeked&&(i.removeEventListener("playing",this.onvplaying),i.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const i=this.media,e=i?i.currentTime:null;ci(e)&&this.log(`Media seeked to ${e.toFixed(3)}`);const n=this.getMainFwdBufferInfo();null!==n&&0!==n.len?this.tick():this.warn(`Main forward buffer length on "seeked" event ${n?n.len:"empty"})`)}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(Et.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1}onManifestParsed(i,e){let u,n=!1,o=!1;e.levels.forEach(p=>{u=p.audioCodec,u&&(-1!==u.indexOf("mp4a.40.2")&&(n=!0),-1!==u.indexOf("mp4a.40.5")&&(o=!0))}),this.audioCodecSwitch=n&&o&&!function zC(){var r;const i=Ed();return"function"==typeof(null==i||null==(r=i.prototype)?void 0:r.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1}onLevelLoading(i,e){const{levels:n}=this;if(!n||"IDLE"!==this.state)return;const o=n[e.level];(!o.details||o.details.live&&this.levelLastLoaded!==e.level||this.waitForCdnTuneIn(o.details))&&(this.state="WAITING_LEVEL")}onLevelLoaded(i,e){var n;const{levels:o}=this,u=e.level,p=e.details,y=p.totalduration;if(!o)return void this.warn(`Levels were reset while loading level ${u}`);this.log(`Level ${u} loaded [${p.startSN},${p.endSN}]${p.lastPartSn?`[part-${p.lastPartSn}-${p.lastPartIndex}]`:""}, cc [${p.startCC}, ${p.endCC}] duration:${y}`);const I=o[u],G=this.fragCurrent;G&&("FRAG_LOADING"===this.state||"FRAG_LOADING_WAITING_RETRY"===this.state)&&(G.level!==e.level||G.urlId!==I.urlId)&&G.loader&&this.abortCurrentFrag();let ne=0;if(p.live||null!=(n=I.details)&&n.live){if(p.fragments[0]||(p.deltaUpdateFailed=!0),p.deltaUpdateFailed)return;ne=this.alignPlaylists(p,I.details)}if(I.details=p,this.levelLastLoaded=u,this.hls.trigger(Et.LEVEL_UPDATED,{details:p,level:u}),"WAITING_LEVEL"===this.state){if(this.waitForCdnTuneIn(p))return;this.state="IDLE"}this.startFragRequested?p.live&&this.synchronizeToLiveEdge(p):this.setStartPosition(p,ne),this.tick()}_handleFragmentLoadProgress(i){var e;const{frag:n,part:o,payload:u}=i,{levels:p}=this;if(!p)return void this.warn(`Levels were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);const y=p[n.level],I=y.details;if(!I)return this.warn(`Dropping fragment ${n.sn} of level ${n.level} after level details were reset`),void this.fragmentTracker.removeFragment(n);const G=y.videoCodec,ne=I.PTSKnown||!I.live,Te=null==(e=n.initSegment)?void 0:e.data,Ve=this._getAudioCodec(y),Ge=this.transmuxer=this.transmuxer||new Y0(this.hls,"main",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),et=o?o.index:-1,vt=new cp(n.level,n.sn,n.stats.chunkCount,u.byteLength,et,-1!==et);Ge.push(u,Te,Ve,G,n,o,I.totalduration,ne,vt,this.initPTS[n.cc])}onAudioTrackSwitching(i,e){const n=this.altAudio;if(!e.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const p=this.fragCurrent;p&&(this.log("Switching to main audio track, cancel main fragment load"),p.abortRequests(),this.fragmentTracker.removeFragment(p)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const u=this.hls;n&&(u.trigger(Et.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),u.trigger(Et.AUDIO_TRACK_SWITCHED,e)}}onAudioTrackSwitched(i,e){const o=!!this.hls.audioTracks[e.id].url;if(o){const u=this.videoBuffer;u&&this.mediaBuffer!==u&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=u)}this.altAudio=o,this.tick()}onBufferCreated(i,e){const n=e.tracks;let o,u,p=!1;for(const y in n){const I=n[y];if("main"===I.id){if(u=y,o=I,"video"===y){const G=n[y];G&&(this.videoBuffer=G.buffer)}}else p=!0}p&&o?(this.log(`Alternate track found, use ${u}.buffered to schedule main fragment loading`),this.mediaBuffer=o.buffer):this.mediaBuffer=this.media}onFragBuffered(i,e){const{frag:n,part:o}=e;if(n&&"main"!==n.type)return;if(this.fragContextChanged(n))return this.warn(`Fragment ${n.sn}${o?" p: "+o.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}`),void("PARSED"===this.state&&(this.state="IDLE"));const u=o?o.stats:n.stats;this.fragLastKbps=Math.round(8*u.total/(u.buffering.end-u.loading.first)),"initSegment"!==n.sn&&(this.fragPrevious=n),this.fragBufferedComplete(n,o)}onError(i,e){var n;if(e.fatal)this.state="ERROR";else switch(e.details){case En.FRAG_GAP:case En.FRAG_PARSING_ERROR:case En.FRAG_DECRYPT_ERROR:case En.FRAG_LOAD_ERROR:case En.FRAG_LOAD_TIMEOUT:case En.KEY_LOAD_ERROR:case En.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("main",e);break;case En.LEVEL_LOAD_ERROR:case En.LEVEL_LOAD_TIMEOUT:case En.LEVEL_PARSING_ERROR:!e.levelRetry&&"WAITING_LEVEL"===this.state&&"level"===(null==(n=e.context)?void 0:n.type)&&(this.state="IDLE");break;case En.BUFFER_FULL_ERROR:if(!e.parent||"main"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case En.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}checkBuffer(){const{media:i,gapController:e}=this;i&&e&&i.readyState&&(!this.loadedmetadata&&rr.getBuffered(i).length||e.poll(this.lastCurrentTime,"IDLE"!==this.state?this.fragCurrent:null),this.lastCurrentTime=i.currentTime)}onFragLoadEmergencyAborted(){this.state="IDLE",this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(i,{type:e}){("audio"!==e||this.audioOnly&&!this.altAudio)&&this.afterBufferFlushed(("video"===e?this.videoBuffer:this.mediaBuffer)||this.media,e,"main")}onLevelsUpdated(i,e){this.levels=e.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:i}=this;if(!i)return;const e=i.currentTime;let n=this.startPosition;if(n>=0&&e<n){if(i.seeking)return void this.log(`could not seek to ${n}, already seeking at ${e}`);const o=rr.getBuffered(i),p=(o.length?o.start(0):0)-n;p>0&&(p<this.config.maxBufferHole||p<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${p} to match buffer start`),n+=p,this.startPosition=n),this.log(`seek to target start position ${n} from current time ${e}`),i.currentTime=n}}_getAudioCodec(i){let e=this.config.defaultAudioCodec||i.audioCodec;return this.audioCodecSwap&&e&&(this.log("Swapping audio codec"),e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),e}_loadBitrateTestFrag(i,e){i.bitrateTest=!0,this._doFragLoad(i,e).then(n=>{const{hls:o}=this;if(!n||this.fragContextChanged(i))return;e.fragmentError=0,this.state="IDLE",this.startFragRequested=!1,this.bitrateTest=!1;const u=i.stats;u.parsing.start=u.parsing.end=u.buffering.start=u.buffering.end=self.performance.now(),o.trigger(Et.FRAG_LOADED,n),i.bitrateTest=!1})}_handleTransmuxComplete(i){var e;const n="main",{hls:o}=this,{remuxResult:u,chunkMeta:p}=i,y=this.getCurrentContext(p);if(!y)return void this.resetWhenMissingContext(p);const{frag:I,part:G,level:ne}=y,{video:Te,text:Ve,id3:Ge,initSegment:et}=u,{details:ft}=ne,vt=this.altAudio?void 0:u.audio;if(this.fragContextChanged(I))this.fragmentTracker.removeFragment(I);else{if(this.state="PARSING",et){if(null!=et&&et.tracks){const zt=I.initSegment||I;this._bufferInitSegment(ne,et.tracks,zt,p),o.trigger(Et.FRAG_PARSING_INIT_SEGMENT,{frag:zt,id:n,tracks:et.tracks})}const Lt=et.initPTS,qt=et.timescale;ci(Lt)&&(this.initPTS[I.cc]={baseTime:Lt,timescale:qt},o.trigger(Et.INIT_PTS_FOUND,{frag:I,id:n,initPTS:Lt,timescale:qt}))}if(Te&&ft&&"initSegment"!==I.sn){const Lt=ft.fragments[I.sn-1-ft.startSN],qt=I.sn===ft.startSN,zt=!Lt||I.cc>Lt.cc;if(!1!==u.independent){const{startPTS:un,endPTS:cn,startDTS:Sn,endDTS:mn}=Te;if(G)G.elementaryStreams[Te.type]={startPTS:un,endPTS:cn,startDTS:Sn,endDTS:mn};else if(Te.firstKeyFrame&&Te.independent&&1===p.id&&!zt&&(this.couldBacktrack=!0),Te.dropped&&Te.independent){const Mn=this.getMainFwdBufferInfo(),jn=(Mn?Mn.end:this.getLoadPosition())+this.config.maxBufferHole;if(!qt&&jn<(Te.firstKeyFramePTS?Te.firstKeyFramePTS:un)-this.config.maxBufferHole&&!zt)return void this.backtrack(I);zt&&(I.gap=!0),I.setElementaryStreamInfo(Te.type,I.start,cn,I.start,mn,!0)}I.setElementaryStreamInfo(Te.type,un,cn,Sn,mn),this.backtrackFragment&&(this.backtrackFragment=I),this.bufferFragmentData(Te,I,G,p,qt||zt)}else{if(!qt&&!zt)return void this.backtrack(I);I.gap=!0}}if(vt){const{startPTS:Lt,endPTS:qt,startDTS:zt,endDTS:un}=vt;G&&(G.elementaryStreams.audio={startPTS:Lt,endPTS:qt,startDTS:zt,endDTS:un}),I.setElementaryStreamInfo("audio",Lt,qt,zt,un),this.bufferFragmentData(vt,I,G,p)}ft&&null!=Ge&&null!=(e=Ge.samples)&&e.length&&o.trigger(Et.FRAG_PARSING_METADATA,{id:n,frag:I,details:ft,samples:Ge.samples}),ft&&Ve&&o.trigger(Et.FRAG_PARSING_USERDATA,{id:n,frag:I,details:ft,samples:Ve.samples})}}_bufferInitSegment(i,e,n,o){if("PARSING"!==this.state)return;this.audioOnly=!!e.audio&&!e.video,this.altAudio&&!this.audioOnly&&delete e.audio;const{audio:u,video:p,audiovideo:y}=e;if(u){let I=i.audioCodec;const G=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(I&&(I=-1!==I.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==u.metadata.channelCount&&-1===G.indexOf("firefox")&&(I="mp4a.40.5")),-1!==G.indexOf("android")&&"audio/mpeg"!==u.container&&(I="mp4a.40.2",this.log(`Android: force audio codec to ${I}`)),i.audioCodec&&i.audioCodec!==I&&this.log(`Swapping manifest audio codec "${i.audioCodec}" for "${I}"`),u.levelCodec=I,u.id="main",this.log(`Init audio buffer, container:${u.container}, codecs[selected/level/parsed]=[${I||""}/${i.audioCodec||""}/${u.codec}]`)}p&&(p.levelCodec=i.videoCodec,p.id="main",this.log(`Init video buffer, container:${p.container}, codecs[level/parsed]=[${i.videoCodec||""}/${p.codec}]`)),y&&this.log(`Init audiovideo buffer, container:${y.container}, codecs[level/parsed]=[${i.attrs.CODECS||""}/${y.codec}]`),this.hls.trigger(Et.BUFFER_CODECS,e),Object.keys(e).forEach(I=>{const ne=e[I].initSegment;null!=ne&&ne.byteLength&&this.hls.trigger(Et.BUFFER_APPENDING,{type:I,data:ne,frag:n,part:null,chunkMeta:o,parent:n.type})}),this.tick()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,"main")}backtrack(i){this.couldBacktrack=!0,this.backtrackFragment=i,this.resetTransmuxer(),this.flushBufferGap(i),this.fragmentTracker.removeFragment(i),this.fragPrevious=null,this.nextLoadPosition=i.start,this.state="IDLE"}checkFragmentChanged(){const i=this.media;let e=null;if(i&&i.readyState>1&&!1===i.seeking){const n=i.currentTime;if(rr.isBuffered(i,n)?e=this.getAppendedFrag(n):rr.isBuffered(i,n+.1)&&(e=this.getAppendedFrag(n+.1)),e){this.backtrackFragment=null;const o=this.fragPlaying,u=e.level;(!o||e.sn!==o.sn||o.level!==u||e.urlId!==o.urlId)&&(this.fragPlaying=e,this.hls.trigger(Et.FRAG_CHANGED,{frag:e}),(!o||o.level!==u)&&this.hls.trigger(Et.LEVEL_SWITCHED,{level:u}))}}}get nextLevel(){const i=this.nextBufferedFrag;return i?i.level:-1}get currentFrag(){const i=this.media;return i?this.fragPlaying||this.getAppendedFrag(i.currentTime):null}get currentProgramDateTime(){const i=this.media;if(i){const e=i.currentTime,n=this.currentFrag;if(n&&ci(e)&&ci(n.programDateTime))return new Date(n.programDateTime+1e3*(e-n.start))}return null}get currentLevel(){const i=this.currentFrag;return i?i.level:-1}get nextBufferedFrag(){const i=this.currentFrag;return i?this.followingBufferedFrag(i):null}get forceStartLoad(){return this._forceStartLoad}}class Id{constructor(i,e=0,n=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=i,this.alpha_=i?Math.exp(Math.log(.5)/i):0,this.estimate_=e,this.totalWeight_=n}sample(i,e){const n=Math.pow(this.alpha_,i);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=i}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const i=1-Math.pow(this.alpha_,this.totalWeight_);if(i)return this.estimate_/i}return this.estimate_}}class oA{constructor(i,e,n,o=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Id(i),this.fast_=new Id(e),this.defaultTTFB_=o,this.ttfb_=new Id(i)}update(i,e){const{slow_:n,fast_:o,ttfb_:u}=this;n.halfLife!==i&&(this.slow_=new Id(i,n.getEstimate(),n.getTotalWeight())),o.halfLife!==e&&(this.fast_=new Id(e,o.getEstimate(),o.getTotalWeight())),u.halfLife!==i&&(this.ttfb_=new Id(i,u.getEstimate(),u.getTotalWeight()))}sample(i,e){const o=(i=Math.max(i,this.minDelayMs_))/1e3,u=8*e/o;this.fast_.sample(o,u),this.slow_.sample(o,u)}sampleTTFB(i){const e=i/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(e,2)/2);this.ttfb_.sample(n,Math.max(i,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}class sD{constructor(){this.chunks=[],this.dataLength=0}push(i){this.chunks.push(i),this.dataLength+=i.length}flush(){const{chunks:i,dataLength:e}=this;let n;return i.length?(n=1===i.length?i[0]:function sA(r,i){const e=new Uint8Array(i);let n=0;for(let o=0;o<r.length;o++){const u=r[o];e.set(u,n),n+=u.length}return e}(i,e),this.reset(),n):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0}}function Z0(r,i){if(r.length!==i.length)return!1;for(let e=0;e<r.length;e++)if(!Mf(r[e].attrs,i[e].attrs))return!1;return!0}function Mf(r,i){const e=r["STABLE-RENDITION-ID"];return e?e===i["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some(n=>r[n]!==i[n])}class cA{constructor(i){this.buffered=void 0;const e=(n,o,u)=>{if((o>>>=0)>u-1)throw new DOMException(`Failed to execute '${n}' on 'TimeRanges': The index provided (${o}) is greater than the maximum bound (${u})`);return i[o][n]};this.buffered={get length(){return i.length},end:n=>e("end",n,i.length),start:n=>e("start",n,i.length)}}}function Af(r){const i=[];for(let e=0;e<r.length;e++){const n=r[e];("subtitles"===n.kind||"captions"===n.kind)&&n.label&&i.push(r[e])}return i}class cD{constructor(i){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=i}append(i,e){const n=this.queues[e];n.push(i),1===n.length&&this.buffers[e]&&this.executeNext(e)}insertAbort(i,e){this.queues[e].unshift(i),this.executeNext(e)}appendBlocker(i){let e;const n=new Promise(u=>{e=u});return this.append({execute:e,onStart:()=>{},onComplete:()=>{},onError:()=>{}},i),n}executeNext(i){const{buffers:e,queues:n}=this,o=e[i],u=n[i];if(u.length){const p=u[0];try{p.execute()}catch(y){sn.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),p.onError(y),null!=o&&o.updating||(u.shift(),this.executeNext(i))}}}shiftAndExecuteNext(i){this.queues[i].shift(),this.executeNext(i)}current(i){return this.queues[i][0]}}const q0=sf(),J0=/([ha]vc.)(?:\.[^.,]+)+/,Q0={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Op=function(i){let e=i;return Q0.hasOwnProperty(i)&&(e=Q0[i]),String.fromCharCode(e)},Os=100,Ca={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},X0={17:2,18:4,21:6,22:8,23:10,19:13,20:15},dD={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},uA={25:2,26:4,29:6,30:8,31:10,27:13,28:15},xo=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class uD{constructor(){this.time=null,this.verboseLevel=0}log(i,e){if(this.verboseLevel>=i){const n="function"==typeof e?e():e;sn.log(`${this.time} [${i}] ${n}`)}}}const as=function(i){const e=[];for(let n=0;n<i.length;n++)e.push(i[n].toString(16));return e};class eb{constructor(i,e,n,o,u){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=i||"white",this.underline=e||!1,this.italics=n||!1,this.background=o||"black",this.flash=u||!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(i){const e=["foreground","underline","italics","background","flash"];for(let n=0;n<e.length;n++){const o=e[n];i.hasOwnProperty(o)&&(this[o]=i[o])}}isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(i){return this.foreground===i.foreground&&this.underline===i.underline&&this.italics===i.italics&&this.background===i.background&&this.flash===i.flash}copy(i){this.foreground=i.foreground,this.underline=i.underline,this.italics=i.italics,this.background=i.background,this.flash=i.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class fD{constructor(i,e,n,o,u,p){this.uchar=void 0,this.penState=void 0,this.uchar=i||" ",this.penState=new eb(e,n,o,u,p)}reset(){this.uchar=" ",this.penState.reset()}setChar(i,e){this.uchar=i,this.penState.copy(e)}setPenState(i){this.penState.copy(i)}equals(i){return this.uchar===i.uchar&&this.penState.equals(i.penState)}copy(i){this.uchar=i.uchar,this.penState.copy(i.penState)}isEmpty(){return" "===this.uchar&&this.penState.isDefault()}}class Pp{constructor(i){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(let e=0;e<Os;e++)this.chars.push(new fD);this.logger=i,this.pos=0,this.currPenState=new eb}equals(i){let e=!0;for(let n=0;n<Os;n++)if(!this.chars[n].equals(i.chars[n])){e=!1;break}return e}copy(i){for(let e=0;e<Os;e++)this.chars[e].copy(i.chars[e])}isEmpty(){let i=!0;for(let e=0;e<Os;e++)if(!this.chars[e].isEmpty()){i=!1;break}return i}setCursor(i){this.pos!==i&&(this.pos=i),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Os&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Os)}moveCursor(i){const e=this.pos+i;if(i>1)for(let n=this.pos+1;n<e+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(e)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(i){i>=144&&this.backSpace();const e=Op(i);this.pos>=Os?this.logger.log(0,()=>"Cannot insert "+i.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))}clearFromPos(i){let e;for(e=i;e<Os;e++)this.chars[e].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const i=[];let e=!0;for(let n=0;n<Os;n++){const o=this.chars[n].uchar;" "!==o&&(e=!1),i.push(o)}return e?"":i.join("")}setPenStyles(i){this.currPenState.setStyles(i),this.chars[this.pos].setPenState(this.currPenState)}}class wf{constructor(i){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(let e=0;e<15;e++)this.rows.push(new Pp(i));this.logger=i,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}reset(){for(let i=0;i<15;i++)this.rows[i].clear();this.currRow=14}equals(i){let e=!0;for(let n=0;n<15;n++)if(!this.rows[n].equals(i.rows[n])){e=!1;break}return e}copy(i){for(let e=0;e<15;e++)this.rows[e].copy(i.rows[e])}isEmpty(){let i=!0;for(let e=0;e<15;e++)if(!this.rows[e].isEmpty()){i=!1;break}return i}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(i){this.rows[this.currRow].insertChar(i)}setPen(i){this.rows[this.currRow].setPenStyles(i)}moveCursor(i){this.rows[this.currRow].moveCursor(i)}setCursor(i){this.logger.log(2,"setCursor: "+i),this.rows[this.currRow].setCursor(i)}setPAC(i){this.logger.log(2,()=>"pacData = "+JSON.stringify(i));let e=i.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(let y=0;y<15;y++)this.rows[y].clear();const u=this.currRow+1-this.nrRollUpRows,p=this.lastOutputScreen;if(p){const y=p.rows[u].cueStartTime,I=this.logger.time;if(y&&null!==I&&y<I)for(let G=0;G<this.nrRollUpRows;G++)this.rows[e-this.nrRollUpRows+G+1].copy(p.rows[u+G])}}this.currRow=e;const n=this.rows[this.currRow];if(null!==i.indent){const p=Math.max(i.indent-1,0);n.setCursor(i.indent),i.color=n.chars[p].penState.foreground}this.setPen({foreground:i.color,underline:i.underline,italics:i.italics,background:"black",flash:!1})}setBkgData(i){this.logger.log(2,()=>"bkgData = "+JSON.stringify(i)),this.backSpace(),this.setPen(i),this.insertChar(32)}setRollUpRows(i){this.nrRollUpRows=i}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,()=>this.getDisplayText());const e=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),this.logger.log(2,"Rolling up")}getDisplayText(i){i=i||!1;const e=[];let n="",o=-1;for(let u=0;u<15;u++){const p=this.rows[u].getTextString();p&&(o=u+1,e.push(i?"Row "+o+": '"+p+"'":p.trim()))}return e.length>0&&(n=i?"["+e.join(" | ")+"]":e.join("\n")),n}getTextAndFormat(){return this.rows}}class Rp{constructor(i,e,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=i,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new wf(n),this.nonDisplayedMemory=new wf(n),this.lastOutputScreen=new wf(n),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(i){this.outputFilter=i}setPAC(i){this.writeScreen.setPAC(i)}setBkgData(i){this.writeScreen.setBkgData(i)}setMode(i){i!==this.mode&&(this.mode=i,this.logger.log(2,()=>"MODE="+i),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=i)}insertChars(i){for(let n=0;n<i.length;n++)this.writeScreen.insertChar(i[n]);const e=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>e+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(i){this.logger.log(2,"RU("+i+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(i)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const i=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=i,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(i){this.logger.log(2,"TO("+i+") - Tab Offset"),this.writeScreen.moveCursor(i)}ccMIDROW(i){const e={flash:!1};if(e.underline=i%2==1,e.italics=i>=46,e.italics)e.foreground="white";else{const n=Math.floor(i/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}this.logger.log(2,"MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)}outputDataUpdate(i=!1){const e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),i&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(i){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,i,this.displayedMemory),this.cueStartTime=i))}}class tb{constructor(i,e,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;const o=new uD;this.channels=[null,new Rp(i,e,o),new Rp(i+1,n,o)],this.cmdHistory={a:null,b:null},this.logger=o}getHandler(i){return this.channels[i].getHandler()}setHandler(i,e){this.channels[i].setHandler(e)}addData(i,e){let n,o,u,p=!1;this.logger.time=i;for(let y=0;y<e.length;y+=2)if(o=127&e[y],u=127&e[y+1],0!==o||0!==u){if(this.logger.log(3,"["+as([e[y],e[y+1]])+"] -> ("+as([o,u])+")"),n=this.parseCmd(o,u),n||(n=this.parseMidrow(o,u)),n||(n=this.parsePAC(o,u)),n||(n=this.parseBackgroundAttributes(o,u)),!n&&(p=this.parseChars(o,u),p)){const I=this.currentChannel;I&&I>0?this.channels[I].insertChars(p):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!n&&!p&&this.logger.log(2,"Couldn't parse cleaned data "+as([o,u])+" orig: "+as([e[y],e[y+1]]))}}parseCmd(i,e){const{cmdHistory:n}=this;if(!((20===i||28===i||21===i||29===i)&&e>=32&&e<=47||(23===i||31===i)&&e>=33&&e<=35))return!1;if(Np(i,e,n))return il(null,null,n),this.logger.log(3,"Repeated command ("+as([i,e])+") is dropped"),!0;const p=20===i||21===i||23===i?1:2,y=this.channels[p];return 20===i||21===i||28===i||29===i?32===e?y.ccRCL():33===e?y.ccBS():34===e?y.ccAOF():35===e?y.ccAON():36===e?y.ccDER():37===e?y.ccRU(2):38===e?y.ccRU(3):39===e?y.ccRU(4):40===e?y.ccFON():41===e?y.ccRDC():42===e?y.ccTR():43===e?y.ccRTD():44===e?y.ccEDM():45===e?y.ccCR():46===e?y.ccENM():47===e&&y.ccEOC():y.ccTO(e-32),il(i,e,n),this.currentChannel=p,!0}parseMidrow(i,e){let n=0;if((17===i||25===i)&&e>=32&&e<=47){if(n=17===i?1:2,n!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const o=this.channels[n];return!!o&&(o.ccMIDROW(e),this.logger.log(3,"MIDROW ("+as([i,e])+")"),!0)}return!1}parsePAC(i,e){let n;const o=this.cmdHistory;if(!((i>=17&&i<=23||i>=25&&i<=31)&&e>=64&&e<=127||(16===i||24===i)&&e>=64&&e<=95))return!1;if(Np(i,e,o))return il(null,null,o),!0;const y=i<=23?1:2;n=e>=64&&e<=95?1===y?Ca[i]:dD[i]:1===y?X0[i]:uA[i];const I=this.channels[y];return!!I&&(I.setPAC(this.interpretPAC(n,e)),il(i,e,o),this.currentChannel=y,!0)}interpretPAC(i,e){let n;const o={color:null,italics:!1,indent:null,underline:!1,row:i};return n=e>95?e-96:e-64,o.underline=1==(1&n),n<=13?o.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(o.italics=!0,o.color="white"):o.indent=4*Math.floor((n-16)/2),o}parseChars(i,e){let n,o=null,u=null;if(i>=25?(n=2,u=i-8):(n=1,u=i),u>=17&&u<=19){let p;p=17===u?e+80:18===u?e+112:e+144,this.logger.log(2,"Special char '"+Op(p)+"' in channel "+n),o=[p]}else i>=32&&i<=127&&(o=0===e?[i]:[i,e]);if(o){const p=as(o);this.logger.log(3,"Char codes =  "+p.join(",")),il(i,e,this.cmdHistory)}return o}parseBackgroundAttributes(i,e){if(!((16===i||24===i)&&e>=32&&e<=47||(23===i||31===i)&&e>=45&&e<=47))return!1;let u;const p={};return 16===i||24===i?(u=Math.floor((e-32)/2),p.background=xo[u],e%2==1&&(p.background=p.background+"_semi")):45===e?p.background="transparent":(p.foreground="black",47===e&&(p.underline=!0)),this.channels[i<=23?1:2].setBkgData(p),il(i,e,this.cmdHistory),!0}reset(){for(let i=0;i<Object.keys(this.channels).length;i++){const e=this.channels[i];e&&e.reset()}this.cmdHistory={a:null,b:null}}cueSplitAtTime(i){for(let e=0;e<this.channels.length;e++){const n=this.channels[e];n&&n.cueSplitAtTime(i)}}}function il(r,i,e){e.a=r,e.b=i}function Np(r,i,e){return e.a===r&&e.b===i}class Od{constructor(i,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=i,this.trackName=e}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(i,e,n){(null===this.startTime||this.startTime>i)&&(this.startTime=i),this.endTime=e,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var kp=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;const r=["","lr","rl"],i=["start","middle","end","left","right"];function e(y,I){if("string"!=typeof I||!Array.isArray(y))return!1;const G=I.toLowerCase();return!!~y.indexOf(G)&&G}function o(y){return e(i,y)}function u(y,...I){let G=1;for(;G<arguments.length;G++){const ne=arguments[G];for(const Te in ne)y[Te]=ne[Te]}return y}function p(y,I,G){const ne=this,Te={enumerable:!0};ne.hasBeenReset=!1;let Ve="",Ge=!1,et=y,ft=I,vt=G,Lt=null,qt="",zt=!0,un="auto",cn="start",Sn=50,mn="middle",Mn=50,jn="middle";Object.defineProperty(ne,"id",u({},Te,{get:function(){return Ve},set:function(gn){Ve=""+gn}})),Object.defineProperty(ne,"pauseOnExit",u({},Te,{get:function(){return Ge},set:function(gn){Ge=!!gn}})),Object.defineProperty(ne,"startTime",u({},Te,{get:function(){return et},set:function(gn){if("number"!=typeof gn)throw new TypeError("Start time must be set to a number.");et=gn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"endTime",u({},Te,{get:function(){return ft},set:function(gn){if("number"!=typeof gn)throw new TypeError("End time must be set to a number.");ft=gn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"text",u({},Te,{get:function(){return vt},set:function(gn){vt=""+gn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"region",u({},Te,{get:function(){return Lt},set:function(gn){Lt=gn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"vertical",u({},Te,{get:function(){return qt},set:function(gn){const Qn=function n(y){return e(r,y)}(gn);if(!1===Qn)throw new SyntaxError("An invalid or illegal string was specified.");qt=Qn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"snapToLines",u({},Te,{get:function(){return zt},set:function(gn){zt=!!gn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"line",u({},Te,{get:function(){return un},set:function(gn){if("number"!=typeof gn&&"auto"!==gn)throw new SyntaxError("An invalid number or illegal string was specified.");un=gn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"lineAlign",u({},Te,{get:function(){return cn},set:function(gn){const Qn=o(gn);if(!Qn)throw new SyntaxError("An invalid or illegal string was specified.");cn=Qn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"position",u({},Te,{get:function(){return Sn},set:function(gn){if(gn<0||gn>100)throw new Error("Position must be between 0 and 100.");Sn=gn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"positionAlign",u({},Te,{get:function(){return mn},set:function(gn){const Qn=o(gn);if(!Qn)throw new SyntaxError("An invalid or illegal string was specified.");mn=Qn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"size",u({},Te,{get:function(){return Mn},set:function(gn){if(gn<0||gn>100)throw new Error("Size must be between 0 and 100.");Mn=gn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"align",u({},Te,{get:function(){return jn},set:function(gn){const Qn=o(gn);if(!Qn)throw new SyntaxError("An invalid or illegal string was specified.");jn=Qn,this.hasBeenReset=!0}})),ne.displayState=void 0}return p.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},p}();class nb{decode(i,e){if(!i)return"";if("string"!=typeof i)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(i))}}function ib(r){function i(n,o,u,p){return 3600*(0|n)+60*(0|o)+(0|u)+parseFloat(p||0)}const e=r.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return e?parseFloat(e[2])>59?i(e[2],e[3],0,e[4]):i(e[1],e[2],e[3],e[4]):null}class Fp{constructor(){this.values=Object.create(null)}set(i,e){!this.get(i)&&""!==e&&(this.values[i]=e)}get(i,e,n){return n?this.has(i)?this.values[i]:e[n]:this.has(i)?this.values[i]:e}has(i){return i in this.values}alt(i,e,n){for(let o=0;o<n.length;++o)if(e===n[o]){this.set(i,e);break}}integer(i,e){/^-?\d+$/.test(e)&&this.set(i,parseInt(e,10))}percent(i,e){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(e)){const n=parseFloat(e);if(n>=0&&n<=100)return this.set(i,n),!0}return!1}}function ss(r,i,e,n){const o=n?r.split(n):[r];for(const u in o){if("string"!=typeof o[u])continue;const p=o[u].split(e);2===p.length&&i(p[0],p[1])}}const If=new kp(0,0,""),pc="middle"===If.align?"middle":"center";function Bp(r,i,e){const n=r;function o(){const y=ib(r);if(null===y)throw new Error("Malformed timestamp: "+n);return r=r.replace(/^[^\sa-zA-Z-]+/,""),y}function p(){r=r.replace(/^\s+/,"")}if(p(),i.startTime=o(),p(),"--\x3e"!==r.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);r=r.slice(3),p(),i.endTime=o(),p(),function u(y,I){const G=new Fp;ss(y,function(Ve,Ge){let et;switch(Ve){case"region":for(let ft=e.length-1;ft>=0;ft--)if(e[ft].id===Ge){G.set(Ve,e[ft].region);break}break;case"vertical":G.alt(Ve,Ge,["rl","lr"]);break;case"line":et=Ge.split(","),G.integer(Ve,et[0]),G.percent(Ve,et[0])&&G.set("snapToLines",!1),G.alt(Ve,et[0],["auto"]),2===et.length&&G.alt("lineAlign",et[1],["start",pc,"end"]);break;case"position":et=Ge.split(","),G.percent(Ve,et[0]),2===et.length&&G.alt("positionAlign",et[1],["start",pc,"end","line-left","line-right","auto"]);break;case"size":G.percent(Ve,Ge);break;case"align":G.alt(Ve,Ge,["start",pc,"end","left","right"])}},/:/,/\s/),I.region=G.get("region",null),I.vertical=G.get("vertical","");let ne=G.get("line","auto");"auto"===ne&&-1===If.line&&(ne=-1),I.line=ne,I.lineAlign=G.get("lineAlign","start"),I.snapToLines=G.get("snapToLines",!0),I.size=G.get("size",100),I.align=G.get("align",pc);let Te=G.get("position","auto");"auto"===Te&&50===If.position&&(Te="start"===I.align||"left"===I.align?0:"end"===I.align||"right"===I.align?100:50),I.position=Te}(r,i)}function rb(r){return r.replace(/<br(?: \/)?>/gi,"\n")}class fA{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new nb,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(i){const e=this;function n(){let u=e.buffer,p=0;for(u=rb(u);p<u.length&&"\r"!==u[p]&&"\n"!==u[p];)++p;const y=u.slice(0,p);return"\r"===u[p]&&++p,"\n"===u[p]&&++p,e.buffer=u.slice(p),y}function o(u){ss(u,function(p,y){},/:/)}i&&(e.buffer+=e.decoder.decode(i,{stream:!0}));try{let u="";if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;u=n();const y=u.match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(null==y||!y[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}let p=!1;for(;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(p?p=!1:u=n(),e.state){case"HEADER":/:/.test(u)?o(u):u||(e.state="ID");continue;case"NOTE":u||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(u)){e.state="NOTE";break}if(!u)continue;if(e.cue=new kp(0,0,""),e.state="CUE",-1===u.indexOf("--\x3e")){e.cue.id=u;continue}case"CUE":if(!e.cue){e.state="BADCUE";continue}try{Bp(u,e.cue,e.regionList)}catch{e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":{const y=-1!==u.indexOf("--\x3e");if(!u||y&&(p=!0)){e.oncue&&e.cue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}if(null===e.cue)continue;e.cue.text&&(e.cue.text+="\n"),e.cue.text+=u}continue;case"BADCUE":u||(e.state="ID")}}}catch{"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this}flush(){const i=this;try{if((i.cue||"HEADER"===i.state)&&(i.buffer+="\n\n",i.parse()),"INITIAL"===i.state||"BADWEBVTT"===i.state)throw new Error("Malformed WebVTT signature.")}catch(e){i.onparsingerror&&i.onparsingerror(e)}return i.onflush&&i.onflush(),this}}const ob=/\r\n|\n\r|\n|\r/g,Up=function(i,e,n=0){return i.slice(n,n+e.length)===e},jp=function(i){let e=5381,n=i.length;for(;n;)e=33*e^i.charCodeAt(--n);return(e>>>0).toString()};function Vp(r,i,e){return jp(r.toString())+jp(i.toString())+jp(e)}const Of="stpp.ttml.im1t",sb=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Gp=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,mA={left:"start",center:"center",right:"end",start:"start",end:"end"};function Pf(r,i,e,n){const o=Vi(new Uint8Array(r),["mdat"]);if(0===o.length)return void n(new Error("Could not parse IMSC1 mdat"));const u=o.map(y=>Ea(y)),p=function QC(r,i,e=1,n=!1){return Sf(r,i,1/e,n)}(i.baseTime,1,i.timescale);try{u.forEach(y=>e(function lb(r,i){const o=(new DOMParser).parseFromString(r,"text/xml").getElementsByTagName("tt")[0];if(!o)throw new Error("Invalid ttml");const u={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},p=Object.keys(u).reduce((Te,Ve)=>(Te[Ve]=o.getAttribute(`ttp:${Ve}`)||u[Ve],Te),{}),y="preserve"!==o.getAttribute("xml:space"),I=cb(Rf(o,"styling","style")),G=cb(Rf(o,"layout","region")),ne=Rf(o,"body","[begin]");return[].map.call(ne,Te=>{const Ve=Hp(Te,y);if(!Ve||!Te.hasAttribute("begin"))return null;const Ge=Nf(Te.getAttribute("begin"),p),et=Nf(Te.getAttribute("dur"),p);let ft=Nf(Te.getAttribute("end"),p);if(null===Ge)throw Pd(Te);if(null===ft){if(null===et)throw Pd(Te);ft=Ge+et}const vt=new kp(Ge-i,ft-i,Ve);vt.id=Vp(vt.startTime,vt.endTime,vt.text);const zt=function db(r,i,e){const n="http://www.w3.org/ns/ttml#styling";let o=null;const p=null!=r&&r.hasAttribute("style")?r.getAttribute("style"):null;return p&&e.hasOwnProperty(p)&&(o=e[p]),["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((y,I)=>{const G=Ps(i,n,I)||Ps(r,n,I)||Ps(o,n,I);return G&&(y[I]=G),y},{})}(G[Te.getAttribute("region")],I[Te.getAttribute("style")],I),{textAlign:un}=zt;if(un){const cn=mA[un];cn&&(vt.lineAlign=cn),vt.align=un}return Gr(vt,zt),vt}).filter(Te=>null!==Te)}(y,p)))}catch(y){n(y)}}function Rf(r,i,e){const n=r.getElementsByTagName(i)[0];return n?[].slice.call(n.querySelectorAll(e)):[]}function cb(r){return r.reduce((i,e)=>{const n=e.getAttribute("xml:id");return n&&(i[n]=e),i},{})}function Hp(r,i){return[].slice.call(r.childNodes).reduce((e,n,o)=>{var u;return"br"===n.nodeName&&o?e+"\n":null!=(u=n.childNodes)&&u.length?Hp(n,i):i?e+n.textContent.trim().replace(/\s+/g," "):e+n.textContent},"")}function Ps(r,i,e){return r&&r.hasAttributeNS(i,e)?r.getAttributeNS(i,e):null}function Pd(r){return new Error(`Could not parse ttml timestamp ${r}`)}function Nf(r,i){if(!r)return null;let e=ib(r);return null===e&&(sb.test(r)?e=function ub(r,i){const e=sb.exec(r);return 3600*(0|e[1])+60*(0|e[2])+(0|e[3])+((0|e[4])+(0|e[5])/i.subFrameRate)/i.frameRate}(r,i):Gp.test(r)&&(e=function mD(r,i){const e=Gp.exec(r),n=Number(e[1]);switch(e[2]){case"h":return 3600*n;case"m":return 60*n;case"ms":return 1e3*n;case"f":return n/i.frameRate;case"t":return n/i.tickRate}return n}(r,i))),e}function pA(r,i){return!!r&&r.label===i.name&&!(r.textTrack1||r.textTrack2)}function fb(r,i,e,n){return Math.min(i,n)-Math.max(r,e)}class mb{constructor(i){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=i,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(i){this.streamController=i}destroy(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:i}=this;i.on(Et.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),i.on(Et.MEDIA_ATTACHING,this.onMediaAttaching,this),i.on(Et.MANIFEST_PARSED,this.onManifestParsed,this),i.on(Et.BUFFER_CODECS,this.onBufferCodecs,this),i.on(Et.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:i}=this;i.off(Et.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),i.off(Et.MEDIA_ATTACHING,this.onMediaAttaching,this),i.off(Et.MANIFEST_PARSED,this.onManifestParsed,this),i.off(Et.BUFFER_CODECS,this.onBufferCodecs,this),i.off(Et.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(i,e){const n=this.hls.levels[e.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}onMediaAttaching(i,e){this.media=e.media instanceof HTMLVideoElement?e.media:null,this.clientRect=null}onManifestParsed(i,e){const n=this.hls;this.restrictedLevels=[],this.firstLevel=e.firstLevel,n.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onBufferCodecs(i,e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){const i=this.hls.levels;if(i.length){const e=this.hls;e.autoLevelCapping=this.getMaxLevel(i.length-1),e.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}}getMaxLevel(i){const e=this.hls.levels;if(!e.length)return-1;const n=e.filter((o,u)=>this.isLevelAllowed(o)&&u<=i);return this.clientRect=null,mb.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const i=this.media,e={width:0,height:0};if(i){const n=i.getBoundingClientRect();e.width=n.width,e.height=n.height,!e.width&&!e.height&&(e.width=n.right-n.left||i.width||0,e.height=n.bottom-n.top||i.height||0)}return this.clientRect=e,e}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let i=1;if(!this.hls.config.ignoreDevicePixelRatio)try{i=self.devicePixelRatio}catch{}return i}isLevelAllowed(i){return!this.restrictedLevels.some(n=>i.bitrate===n.bitrate&&i.width===n.width&&i.height===n.height)}static getMaxLevelByMediaSize(i,e,n){if(null==i||!i.length)return-1;const o=(p,y)=>!y||p.width!==y.width||p.height!==y.height;let u=i.length-1;for(let p=0;p<i.length;p+=1){const y=i[p];if((y.width>=e||y.height>=n)&&o(y,i[p+1])){u=p;break}}return u}}const Yp="[eme]";let gA=(()=>{class r{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=r.CDMCleanupPromise?[r.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=sn.debug.bind(sn,Yp),this.log=sn.log.bind(sn,Yp),this.warn=sn.warn.bind(sn,Yp),this.error=sn.error.bind(sn,Yp),this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(Et.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Et.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Et.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(Et.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Et.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Et.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:n,widevineLicenseUrl:o}=this.config,u=n[e];if(u)return u.licenseUrl;if(e===Dr.WIDEVINE&&o)return o;throw new Error(`no license server URL configured for key-system "${e}"`)}getServerCertificateUrl(e){const{drmSystems:n}=this.config,o=n[e];if(o)return o.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const n=this.hls.levels,o=(y,I,G)=>!!y&&G.indexOf(y)===I,u=n.map(y=>y.audioCodec).filter(o),p=n.map(y=>y.videoCodec).filter(o);return u.length+p.length===0&&p.push("avc1.42e01e"),new Promise((y,I)=>{const G=ne=>{const Te=ne.shift();this.getMediaKeysPromise(Te,u,p).then(Ve=>y({keySystem:Te,mediaKeys:Ve})).catch(Ve=>{ne.length?G(ne):I(Ve instanceof $o?Ve:new $o({type:hi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_NO_ACCESS,error:Ve,fatal:!0},Ve.message))})};G(e)})}requestMediaKeySystemAccess(e,n){const{requestMediaKeySystemAccessFunc:o}=this.config;if("function"!=typeof o){let u=`Configured requestMediaKeySystemAccess is not a function ${o}`;return null===So&&"http:"===self.location.protocol&&(u=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(u))}return o(e,n)}getMediaKeysPromise(e,n,o){const u=function ZM(r,i,e,n){let o;switch(r){case Dr.FAIRPLAY:o=["cenc","sinf"];break;case Dr.WIDEVINE:case Dr.PLAYREADY:o=["cenc"];break;case Dr.CLEARKEY:o=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${r}`)}return function Ny(r,i,e,n){return[{initDataTypes:r,persistentState:n.persistentState||"not-allowed",distinctiveIdentifier:n.distinctiveIdentifier||"not-allowed",sessionTypes:n.sessionTypes||[n.sessionType||"temporary"],audioCapabilities:i.map(u=>({contentType:`audio/mp4; codecs="${u}"`,robustness:n.audioRobustness||"",encryptionScheme:n.audioEncryptionScheme||null})),videoCapabilities:e.map(u=>({contentType:`video/mp4; codecs="${u}"`,robustness:n.videoRobustness||"",encryptionScheme:n.videoEncryptionScheme||null}))}]}(o,i,e,n)}(e,n,o,this.config.drmSystemOptions),p=this.keySystemAccessPromises[e];let y=p?.keySystemAccess;if(!y){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(u)}`),y=this.requestMediaKeySystemAccess(e,u);const I=this.keySystemAccessPromises[e]={keySystemAccess:y};return y.catch(G=>{this.log(`Failed to obtain access to key-system "${e}": ${G}`)}),y.then(G=>{this.log(`Access for key-system "${G.keySystem}" obtained`);const ne=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),I.mediaKeys=G.createMediaKeys().then(Te=>(this.log(`Media-keys created for "${e}"`),ne.then(Ve=>Ve?this.setMediaKeysServerCertificate(Te,e,Ve):Te))),I.mediaKeys.catch(Te=>{this.error(`Failed to create media-keys for "${e}"}: ${Te}`)}),I.mediaKeys})}return y.then(()=>p.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:n,mediaKeys:o}){this.log(`Creating key-system session "${n}" keyId: ${Po_hexDump(e.keyId||[])}`);const u=o.createSession(),p={decryptdata:e,keySystem:n,mediaKeys:o,mediaKeysSession:u,keyStatus:"status-pending"};return this.mediaKeySessions.push(p),p}renewKeySession(e){const n=e.decryptdata;if(n.pssh){const o=this.createMediaKeySessionContext(e),u=this.getKeyIdString(n);this.keyIdToKeySessionPromise[u]=this.generateRequestWithPreferredKeySession(o,"cenc",n.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(null===e.keyId)throw new Error("keyId is null");return Po_hexDump(e.keyId)}updateKeySession(e,n){var o;const u=e.mediaKeysSession;return this.log(`Updating key-session "${u.sessionId}" for keyID ${Po_hexDump((null==(o=e.decryptdata)?void 0:o.keyId)||[])}\n      } (data length: ${n&&n.byteLength})`),u.update(n)}selectKeySystemFormat(e){const n=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((n,o)=>{const u=ac(this.config),p=e.map(Ry).filter(y=>!!y&&-1!==u.indexOf(y));return this.getKeySystemSelectionPromise(p).then(({keySystem:y})=>{const I=cd(y);I?n(I):o(new Error(`Unable to find format for key-system "${y}"`))}).catch(o)})}loadKey(e){const n=e.keyInfo.decryptdata,o=this.getKeyIdString(n),u=`(keyId: ${o} format: "${n.keyFormat}" method: ${n.method} uri: ${n.uri})`;this.log(`Starting session for key ${u}`);let p=this.keyIdToKeySessionPromise[o];return p||(p=this.keyIdToKeySessionPromise[o]=this.getKeySystemForKeyPromise(n).then(({keySystem:y,mediaKeys:I})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${u}`),this.attemptSetMediaKeys(y,I).then(()=>{this.throwIfDestroyed();const G=this.createMediaKeySessionContext({keySystem:y,mediaKeys:I,decryptdata:n});return this.generateRequestWithPreferredKeySession(G,"cenc",n.pssh,"playlist-key")}))),p.catch(y=>this.handleError(y))),p}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),this.hls.trigger(Et.ERROR,e instanceof $o?e.data:{type:hi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const n=this.getKeyIdString(e),o=this.keyIdToKeySessionPromise[n];if(!o){const u=Ry(e.keyFormat),p=u?[u]:ac(this.config);return this.attemptKeySystemAccess(p)}return o}getKeySystemSelectionPromise(e){if(e.length||(e=ac(this.config)),0===e.length)throw new $o({type:hi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}_onMediaEncrypted(e){const{initDataType:n,initData:o}=e;if(this.debug(`"${e.type}" event: init data type: "${n}"`),null===o)return;let u,p;if("sinf"===n&&this.config.drmSystems[Dr.FAIRPLAY]){const Te=Xr(new Uint8Array(o));try{const Ve=Iy(JSON.parse(Te).sinf),Ge=_C(new Uint8Array(Ve));if(!Ge)return;u=Ge.subarray(8,24),p=Dr.FAIRPLAY}catch{return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{const Te=function Hy(r){if(!(r instanceof ArrayBuffer)||r.byteLength<32)return null;const i={version:0,systemId:"",kids:null,data:null},e=new DataView(r),n=e.getUint32(0);if(r.byteLength!==n&&n>44||1886614376!==e.getUint32(4)||(i.version=e.getUint32(8)>>>24,i.version>1))return null;i.systemId=Po_hexDump(new Uint8Array(r,12,16));const u=e.getUint32(28);if(0===i.version){if(n-32<u)return null;i.data=new Uint8Array(r,32,u)}else if(1===i.version){i.kids=[];for(let p=0;p<u;p++)i.kids.push(new Uint8Array(r,32+16*p,16))}return i}(o);if(null===Te)return;0===Te.version&&"edef8ba979d64acea3c827dcd51d21ed"===Te.systemId&&Te.data&&(u=Te.data.subarray(8,24)),p=function lC(r){if("edef8ba979d64acea3c827dcd51d21ed"===r)return Dr.WIDEVINE}(Te.systemId)}if(!p||!u)return;const y=Po_hexDump(u),{keyIdToKeySessionPromise:I,mediaKeySessions:G}=this;let ne=I[y];for(let Te=0;Te<G.length;Te++){const Ve=G[Te],Ge=Ve.decryptdata;if(Ge.pssh||!Ge.keyId)continue;const et=Po_hexDump(Ge.keyId);if(y===et||-1!==Ge.uri.replace(/-/g,"").indexOf(y)){ne=I[et],delete I[et],Ge.pssh=new Uint8Array(o),Ge.keyId=u,ne=I[y]=ne.then(()=>this.generateRequestWithPreferredKeySession(Ve,n,o,"encrypted-event-key-match"));break}}ne||(ne=I[y]=this.getKeySystemSelectionPromise([p]).then(({keySystem:Te,mediaKeys:Ve})=>{var Ge;this.throwIfDestroyed();const et=new hd("ISO-23001-7",y,null!=(Ge=cd(Te))?Ge:"");return et.pssh=new Uint8Array(o),et.keyId=u,this.attemptSetMediaKeys(Te,Ve).then(()=>{this.throwIfDestroyed();const ft=this.createMediaKeySessionContext({decryptdata:et,keySystem:Te,mediaKeys:Ve});return this.generateRequestWithPreferredKeySession(ft,n,o,"encrypted-event-no-match")})})),ne.catch(Te=>this.handleError(Te))}_onWaitingForKey(e){this.log(`"${e.type}" event`)}attemptSetMediaKeys(e,n){const o=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const u=Promise.all(o).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(n)});return this.setMediaKeysQueue.push(u),u.then(()=>{this.log(`Media-keys set for "${e}"`),o.push(u),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(p=>-1===o.indexOf(p))})}generateRequestWithPreferredKeySession(e,n,o,u){var p,y;const I=null==(p=this.config.drmSystems)||null==(y=p[e.keySystem])?void 0:y.generateRequest;if(I)try{const Ge=I.call(this.hls,n,o,e);if(!Ge)throw new Error("Invalid response from configured generateRequest filter");n=Ge.initDataType,o=e.decryptdata.pssh=Ge.initData?new Uint8Array(Ge.initData):null}catch(Ge){var G;if(this.warn(Ge.message),null!=(G=this.hls)&&G.config.debug)throw Ge}if(null===o)return this.log(`Skipping key-session request for "${u}" (no initData)`),Promise.resolve(e);const ne=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${u}": ${ne} (init data type: ${n} length: ${o?o.byteLength:null})`);const Te=new Df;e.mediaKeysSession.onmessage=Ge=>{const et=e.mediaKeysSession;if(!et)return void Te.emit("error",new Error("invalid state"));const{messageType:ft,message:vt}=Ge;this.log(`"${ft}" message event for session "${et.sessionId}" message size: ${vt.byteLength}`),"license-request"===ft||"license-renewal"===ft?this.renewLicense(e,vt).catch(Lt=>{this.handleError(Lt),Te.emit("error",Lt)}):"license-release"===ft?e.keySystem===Dr.FAIRPLAY&&(this.updateKeySession(e,Qs("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${ft}"`)},e.mediaKeysSession.onkeystatuseschange=Ge=>{if(!e.mediaKeysSession)return void Te.emit("error",new Error("invalid state"));this.onKeyStatusChange(e);const ft=e.keyStatus;Te.emit("keyStatus",ft),"expired"===ft&&(this.warn(`${e.keySystem} expired for key ${ne}`),this.renewKeySession(e))};const Ve=new Promise((Ge,et)=>{Te.on("error",et),Te.on("keyStatus",ft=>{ft.startsWith("usable")?Ge():"output-restricted"===ft?et(new $o({type:hi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===ft?et(new $o({type:hi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${ft}"`)):"expired"===ft?et(new Error("key expired while generating request")):this.warn(`unhandled key status change "${ft}"`)})});return e.mediaKeysSession.generateRequest(n,o).then(()=>{var Ge;this.log(`Request generated for key-session "${null==(Ge=e.mediaKeysSession)?void 0:Ge.sessionId}" keyId: ${ne}`)}).catch(Ge=>{throw new $o({type:hi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_NO_SESSION,error:Ge,fatal:!1},`Error generating key-session request: ${Ge}`)}).then(()=>Ve).catch(Ge=>{throw Te.removeAllListeners(),this.removeSession(e),Ge}).then(()=>(Te.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((n,o)=>{this.log(`key status change "${n}" for keyStatuses keyId: ${Po_hexDump("buffer"in o?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o))} session keyId: ${Po_hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=n})}fetchServerCertificate(e){const n=this.config,u=new(0,n.loader)(n),p=this.getServerCertificateUrl(e);return p?(this.log(`Fetching serverCertificate for "${e}"`),new Promise((y,I)=>{const G={responseType:"arraybuffer",url:p},ne=n.certLoadPolicy.default;u.load(G,{loadPolicy:ne,timeout:ne.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(Ge,et,ft,vt)=>{y(Ge.data)},onError:(Ge,et,ft,vt)=>{I(new $o({type:hi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:ft,response:Io({url:G.url,data:void 0},Ge)},`"${e}" certificate request failed (${p}). Status: ${Ge.code} (${Ge.text})`))},onTimeout:(Ge,et,ft)=>{I(new $o({type:hi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:ft,response:{url:G.url,data:void 0}},`"${e}" certificate request timed out (${p})`))},onAbort:(Ge,et,ft)=>{I(new Error("aborted"))}})})):Promise.resolve()}setMediaKeysServerCertificate(e,n,o){return new Promise((u,p)=>{e.setServerCertificate(o).then(y=>{this.log(`setServerCertificate ${y?"success":"not supported by CDM"} (${o?.byteLength}) on "${n}"`),u(e)}).catch(y=>{p(new $o({type:hi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:y,fatal:!0},y.message))})})}renewLicense(e,n){return this.requestLicense(e,new Uint8Array(n)).then(o=>this.updateKeySession(e,new Uint8Array(o)).catch(u=>{throw new $o({type:hi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:u,fatal:!0},u.message)}))}setupLicenseXHR(e,n,o,u){const p=this.config.licenseXhrSetup;return p?Promise.resolve().then(()=>{if(!o.decryptdata)throw new Error("Key removed");return p.call(this.hls,e,n,o,u)}).catch(y=>{if(!o.decryptdata)throw y;return e.open("POST",n,!0),p.call(this.hls,e,n,o,u)}).then(y=>(e.readyState||e.open("POST",n,!0),{xhr:e,licenseChallenge:y||u})):(e.open("POST",n,!0),Promise.resolve({xhr:e,licenseChallenge:u}))}requestLicense(e,n){const o=this.config.keyLoadPolicy.default;return new Promise((u,p)=>{const y=this.getLicenseServerUrl(e.keySystem);this.log(`Sending license request to URL: ${y}`);const I=new XMLHttpRequest;I.responseType="arraybuffer",I.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return p(new Error("invalid state"));if(4===I.readyState)if(200===I.status){this._requestLicenseFailureCount=0;let G=I.response;this.log(`License received ${G instanceof ArrayBuffer?G.byteLength:G}`);const ne=this.config.licenseResponseCallback;if(ne)try{G=ne.call(this.hls,I,y,e)}catch(Te){this.error(Te)}u(G)}else{const G=o.errorRetry,ne=G?G.maxNumRetry:0;this._requestLicenseFailureCount++,this._requestLicenseFailureCount>ne||I.status>=400&&I.status<500?p(new $o({type:hi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:I,response:{url:y,data:void 0,code:I.status,text:I.statusText}},`License Request XHR failed (${y}). Status: ${I.status} (${I.statusText})`)):(this.warn(`Retrying license request, ${ne-this._requestLicenseFailureCount+1} attempts left`),this.requestLicense(e,n).then(u,p))}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=I,this.setupLicenseXHR(I,y,e,n).then(({xhr:G,licenseChallenge:ne})=>{G.send(ne)})})}onMediaAttached(e,n){if(!this.config.emeEnabled)return;const o=n.media;this.media=o,o.addEventListener("encrypted",this.onMediaEncrypted),o.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,n=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},hd.clearKeyUriToKeyIdMap();const o=n.length;r.CDMCleanupPromise=Promise.all(n.map(u=>this.removeSession(u)).concat(e?.setMediaKeys(null).catch(u=>{this.log(`Could not clear media keys: ${u}. media.src: ${e?.src}`)}))).then(()=>{o&&(this.log("finished closing key sessions and clearing media keys"),n.length=0)}).catch(u=>{this.log(`Could not close sessions and clear media keys: ${u}. media.src: ${e?.src}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:n}){if(n&&this.config.emeEnabled&&!this.keyFormatPromise){const o=n.reduce((u,p)=>(-1===u.indexOf(p.keyFormat)&&u.push(p.keyFormat),u),[]);this.log(`Selecting key-system from session-keys ${o.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(o)}}removeSession(e){const{mediaKeysSession:n,licenseXhr:o}=e;if(n){this.log(`Remove licenses and keys and close session ${n.sessionId}`),n.onmessage=null,n.onkeystatuseschange=null,o&&o.readyState!==XMLHttpRequest.DONE&&o.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const u=this.mediaKeySessions.indexOf(e);return u>-1&&this.mediaKeySessions.splice(u,1),n.remove().catch(p=>{this.log(`Could not remove session: ${p}`)}).then(()=>n.close()).catch(p=>{this.log(`Could not close session: ${p}`)})}}}return r.CDMCleanupPromise=void 0,r})();class $o extends Error{constructor(i,e){super(e),this.data=void 0,i.error||(i.error=new Error(e)),this.data=i,i.err=i.error}}class rl{constructor(i){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=o=>{try{this.apply(o,{ot:"m",su:!this.initialized})}catch(u){sn.warn("Could not generate manifest CMCD data.",u)}},this.applyFragmentData=o=>{try{const u=o.frag,p=this.hls.levels[u.level],y=this.getObjectType(u),I={d:1e3*u.duration,ot:y};("v"===y||"a"===y||"av"==y)&&(I.br=p.bitrate/1e3,I.tb=this.getTopBandwidth(y)/1e3,I.bl=this.getBufferLength(y)),this.apply(o,I)}catch(u){sn.warn("Could not generate segment CMCD data.",u)}},this.hls=i;const e=this.config=i.config,{cmcd:n}=e;null!=n&&(e.pLoader=this.createPlaylistLoader(),e.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||rl.uuid(),this.cid=n.contentId,this.useHeaders=!0===n.useHeaders,this.registerListeners())}registerListeners(){const i=this.hls;i.on(Et.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(Et.MEDIA_DETACHED,this.onMediaDetached,this),i.on(Et.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const i=this.hls;i.off(Et.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(Et.MEDIA_DETACHED,this.onMediaDetached,this),i.off(Et.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null}onMediaAttached(i,e){this.media=e.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(i,e){var n,o;this.audioBuffer=null==(n=e.tracks.audio)?void 0:n.buffer,this.videoBuffer=null==(o=e.tracks.video)?void 0:o.buffer}createData(){var i;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:null==(i=this.media)?void 0:i.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(i,e={}){if(Gr(e,this.createData()),this.starved&&("i"===e.ot||"v"===e.ot||"av"===e.ot)&&(e.bs=!0,e.su=!0,this.starved=!1),null==e.su&&(e.su=this.buffering),this.useHeaders){const o=rl.toHeaders(e);if(!Object.keys(o).length)return;i.headers||(i.headers={}),Gr(i.headers,o)}else{const o=rl.toQuery(e);if(!o)return;i.url=rl.appendQueryToUri(i.url,o)}}getObjectType(i){const{type:e}=i;return"subtitle"===e?"tt":"initSegment"===i.sn?"i":"audio"===e?"a":"main"===e?this.hls.audioTracks.length?"v":"av":void 0}getTopBandwidth(i){let n,e=0;const o=this.hls;if("a"===i)n=o.audioTracks;else{const u=o.maxAutoLevel;n=o.levels.slice(0,u>-1?u+1:o.levels.length)}for(const u of n)u.bitrate>e&&(e=u.bitrate);return e>0?e:NaN}getBufferLength(i){const e=this.hls.media,n="a"===i?this.audioBuffer:this.videoBuffer;return n&&e?1e3*rr.bufferInfo(n,e.currentTime,this.config.maxBufferHole).len:NaN}createPlaylistLoader(){const{pLoader:i}=this.config,e=this.applyPlaylistData,n=i||this.config.loader;return class{constructor(u){this.loader=void 0,this.loader=new n(u)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(u,p,y){e(u),this.loader.load(u,p,y)}}}createFragmentLoader(){const{fLoader:i}=this.config,e=this.applyFragmentData,n=i||this.config.loader;return class{constructor(u){this.loader=void 0,this.loader=new n(u)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(u,p,y){e(u),this.loader.load(u,p,y)}}}static uuid(){const i=URL.createObjectURL(new Blob),e=i.toString();return URL.revokeObjectURL(i),e.slice(e.lastIndexOf("/")+1)}static serialize(i){const e=[],n=G=>!Number.isNaN(G)&&null!=G&&""!==G&&!1!==G,o=G=>Math.round(G),u=G=>100*o(G/100),y={br:o,d:o,bl:u,dl:u,mtp:u,nor:G=>encodeURIComponent(G),rtp:u,tb:o},I=Object.keys(i||{}).sort();for(const G of I){let ne=i[G];if(!n(ne)||"v"===G&&1===ne||"pr"==G&&1===ne)continue;const Te=y[G];Te&&(ne=Te(ne));const Ve=typeof ne;let Ge;Ge="ot"===G||"sf"===G||"st"===G?`${G}=${ne}`:"boolean"===Ve?G:"number"===Ve?`${G}=${ne}`:`${G}=${JSON.stringify(ne)}`,e.push(Ge)}return e.join(",")}static toHeaders(i){const e=Object.keys(i),n={},o=["Object","Request","Session","Status"],u=[{},{},{},{}],p={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};for(const y of e)u[null!=p[y]?p[y]:1][y]=i[y];for(let y=0;y<u.length;y++){const I=rl.serialize(u[y]);I&&(n[`CMCD-${o[y]}`]=I)}return n}static toQuery(i){return`CMCD=${encodeURIComponent(rl.serialize(i))}`}static appendQueryToUri(i,e){if(!e)return i;const n=i.includes("?")?"&":"?";return`${i}${n}${e}`}}function yD(r,i,e,n){r&&Object.keys(i).forEach(o=>{const u=r.filter(p=>p.groupId===o).map(p=>{const y=Gr({},p);return y.details=void 0,y.attrs=new yr(y.attrs),y.url=y.attrs.URI=bD(p.url,p.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",e),y.groupId=y.attrs["GROUP-ID"]=i[o],y.attrs["PATHWAY-ID"]=n,y});r.push(...u)})}function bD(r,i,e,n){const{HOST:o,PARAMS:u,[e]:p}=n;let y;i&&(y=p?.[i],y&&(r=y));const I=new self.URL(r);return o&&!y&&(I.host=o),u&&Object.keys(u).sort().forEach(G=>{G&&I.searchParams.set(G,u[G])}),I.href}const ED=/^age:\s*[\d.]+\s*$/im;class Rd{constructor(i){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=i&&i.xhrSetup||null,this.stats=new rc,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null}abortInternal(){const i=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),i&&(i.onreadystatechange=null,i.onprogress=null,4!==i.readyState&&(this.stats.aborted=!0,i.abort()))}abort(){var i;this.abortInternal(),null!=(i=this.callbacks)&&i.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(i,e,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=i,this.config=e,this.callbacks=n,this.loadInternal()}loadInternal(){const{config:i,context:e}=this;if(!i)return;const n=this.loader=new self.XMLHttpRequest,o=this.stats;o.loading.first=0,o.loaded=0,o.aborted=!1;const u=this.xhrSetup;u?Promise.resolve().then(()=>{if(!this.stats.aborted)return u(n,e.url)}).catch(p=>(n.open("GET",e.url,!0),u(n,e.url))).then(()=>{this.stats.aborted||this.openAndSendXhr(n,e,i)}).catch(p=>{this.callbacks.onError({code:n.status,text:p.message},e,n,o)}):this.openAndSendXhr(n,e,i)}openAndSendXhr(i,e,n){i.readyState||i.open("GET",e.url,!0);const o=this.context.headers,{maxTimeToFirstByteMs:u,maxLoadTimeMs:p}=n.loadPolicy;if(o)for(const y in o)i.setRequestHeader(y,o[y]);e.rangeEnd&&i.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),i.onreadystatechange=this.readystatechange.bind(this),i.onprogress=this.loadprogress.bind(this),i.responseType=e.responseType,self.clearTimeout(this.requestTimeout),n.timeout=u&&ci(u)?u:p,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),i.send()}readystatechange(){const{context:i,loader:e,stats:n}=this;if(!i||!e)return;const o=e.readyState,u=this.config;if(!n.aborted&&o>=2&&(0===n.loading.first&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),u.timeout!==u.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),u.timeout=u.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),u.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),4===o)){self.clearTimeout(this.requestTimeout),e.onreadystatechange=null,e.onprogress=null;const p=e.status,y="text"!==e.responseType;if(p>=200&&p<300&&(y&&e.response||null!==e.responseText)){n.loading.end=Math.max(self.performance.now(),n.loading.first);const I=y?e.response:e.responseText;if(n.loaded=n.total="arraybuffer"===e.responseType?I.byteLength:I.length,n.bwEstimate=8e3*n.total/(n.loading.end-n.loading.first),!this.callbacks)return;const ne=this.callbacks.onProgress;if(ne&&ne(n,i,I,e),!this.callbacks)return;this.callbacks.onSuccess({url:e.responseURL,data:I,code:p},n,i,e)}else{const I=u.loadPolicy.errorRetry;pf(I,n.retry,!1,p)?this.retry(I):(sn.error(`${p} while loading ${i.url}`),this.callbacks.onError({code:p,text:e.statusText},i,e,n))}}}loadtimeout(){var i;const e=null==(i=this.config)?void 0:i.loadPolicy.timeoutRetry;if(pf(e,this.stats.retry,!0))this.retry(e);else{sn.warn(`timeout while loading ${this.context.url}`);const o=this.callbacks;o&&(this.abortInternal(),o.onTimeout(this.stats,this.context,this.loader))}}retry(i){const{context:e,stats:n}=this;this.retryDelay=p0(i,n.retry),n.retry++,sn.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${e.url}, retrying ${n.retry}/${i.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(i){const e=this.stats;e.loaded=i.loaded,i.lengthComputable&&(e.total=i.total)}getCacheAge(){let i=null;if(this.loader&&ED.test(this.loader.getAllResponseHeaders())){const e=this.loader.getResponseHeader("age");i=e?parseFloat(e):null}return i}getResponseHeader(i){return this.loader&&new RegExp(`^${i}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(i):null}}const SD=/(\d+)-(\d+)\/(\d+)/;class Kp{constructor(i){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=i.fetchSetup||zp,this.controller=new self.AbortController,this.stats=new rc}destroy(){this.loader=this.callbacks=null,this.abortInternal()}abortInternal(){const i=this.response;null!=i&&i.ok||(this.stats.aborted=!0,this.controller.abort())}abort(){var i;this.abortInternal(),null!=(i=this.callbacks)&&i.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(i,e,n){const o=this.stats;if(o.loading.start)throw new Error("Loader can only be used once.");o.loading.start=self.performance.now();const u=function ol(r,i){const e={method:"GET",mode:"cors",credentials:"same-origin",signal:i,headers:new self.Headers(Gr({},r.headers))};return r.rangeEnd&&e.headers.set("Range","bytes="+r.rangeStart+"-"+String(r.rangeEnd-1)),e}(i,this.controller.signal),p=n.onProgress,y="arraybuffer"===i.responseType,I=y?"byteLength":"length",{maxTimeToFirstByteMs:G,maxLoadTimeMs:ne}=e.loadPolicy;this.context=i,this.config=e,this.callbacks=n,this.request=this.fetchSetup(i,u),self.clearTimeout(this.requestTimeout),e.timeout=G&&ci(G)?G:ne,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),n.onTimeout(o,i,this.response)},e.timeout),self.fetch(this.request).then(Te=>{this.response=this.loader=Te;const Ve=Math.max(self.performance.now(),o.loading.start);if(self.clearTimeout(this.requestTimeout),e.timeout=ne,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),n.onTimeout(o,i,this.response)},ne-(Ve-o.loading.start)),!Te.ok){const{status:Ge,statusText:et}=Te;throw new CD(et||"fetch, bad network response",Ge,Te)}return o.loading.first=Ve,o.total=function Wp(r){const i=r.get("Content-Range");if(i){const n=function pb(r){const i=SD.exec(r);if(i)return parseInt(i[2])-parseInt(i[1])+1}(i);if(ci(n))return n}const e=r.get("Content-Length");if(e)return parseInt(e)}(Te.headers)||o.total,p&&ci(e.highWaterMark)?this.loadProgressively(Te,o,i,e.highWaterMark,p):y?Te.arrayBuffer():"json"===i.responseType?Te.json():Te.text()}).then(Te=>{const{response:Ve}=this;self.clearTimeout(this.requestTimeout),o.loading.end=Math.max(self.performance.now(),o.loading.first);const Ge=Te[I];Ge&&(o.loaded=o.total=Ge);const et={url:Ve.url,data:Te,code:Ve.status};p&&!ci(e.highWaterMark)&&p(o,i,Te,Ve),n.onSuccess(et,o,i,Ve)}).catch(Te=>{self.clearTimeout(this.requestTimeout),o.aborted||n.onError({code:Te&&Te.code||0,text:Te?Te.message:null},i,Te?Te.details:null,o)})}getCacheAge(){let i=null;if(this.response){const e=this.response.headers.get("age");i=e?parseFloat(e):null}return i}getResponseHeader(i){return this.response?this.response.headers.get(i):null}loadProgressively(i,e,n,o=0,u){const p=new sD,y=i.body.getReader(),I=()=>y.read().then(G=>{if(G.done)return p.dataLength&&u(e,n,p.flush(),i),Promise.resolve(new ArrayBuffer(0));const ne=G.value,Te=ne.length;return e.loaded+=Te,Te<o||p.dataLength?(p.push(ne),p.dataLength>=o&&u(e,n,p.flush(),i)):u(e,n,ne,i),I()}).catch(()=>Promise.reject());return I()}}function zp(r,i){return new self.Request(r.url,i)}class CD extends Error{constructor(i,e,n){super(i),this.code=void 0,this.details=void 0,this.code=e,this.details=n}}const Zp=/\s/,$p={newCue(r,i,e,n){const o=[];let u,p,y,I,G;const ne=self.VTTCue||self.TextTrackCue;for(let Ve=0;Ve<n.rows.length;Ve++)if(u=n.rows[Ve],y=!0,I=0,G="",!u.isEmpty()){var Te;for(let ft=0;ft<u.chars.length;ft++)Zp.test(u.chars[ft].uchar)&&y?I++:(G+=u.chars[ft].uchar,y=!1);u.cueStartTime=i,i===e&&(e+=1e-4),I>=16?I--:I++;const Ge=rb(G.trim()),et=Vp(i,e,Ge);null!=r&&null!=(Te=r.cues)&&Te.getCueById(et)||(p=new ne(i,e,Ge),p.id=et,p.line=Ve+1,p.align="left",p.position=10+Math.min(80,10*Math.floor(8*I/32)),o.push(p))}return r&&o.length&&(o.sort((Ve,Ge)=>"auto"===Ve.line||"auto"===Ge.line?0:Ve.line>8&&Ge.line>8?Ge.line-Ve.line:Ve.line-Ge.line),o.forEach(Ve=>a0(r,Ve))),o}},yA=Io(Io({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Rd,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class aA{constructor(i){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=i;const e=i.config;this.bwEstimator=new oA(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate),this.registerListeners()}registerListeners(){const{hls:i}=this;i.on(Et.FRAG_LOADING,this.onFragLoading,this),i.on(Et.FRAG_LOADED,this.onFragLoaded,this),i.on(Et.FRAG_BUFFERED,this.onFragBuffered,this),i.on(Et.LEVEL_SWITCHING,this.onLevelSwitching,this),i.on(Et.LEVEL_LOADED,this.onLevelLoaded,this)}unregisterListeners(){const{hls:i}=this;i.off(Et.FRAG_LOADING,this.onFragLoading,this),i.off(Et.FRAG_LOADED,this.onFragLoaded,this),i.off(Et.FRAG_BUFFERED,this.onFragBuffered,this),i.off(Et.LEVEL_SWITCHING,this.onLevelSwitching,this),i.off(Et.LEVEL_LOADED,this.onLevelLoaded,this)}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null}onFragLoading(i,e){var n;const o=e.frag;this.ignoreFragment(o)||(this.fragCurrent=o,this.partCurrent=null!=(n=e.part)?n:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))}onLevelSwitching(i,e){this.clearTimer()}getTimeToLoadFrag(i,e,n,o){return i+n/e+(o?this.lastLevelLoadSec:0)}onLevelLoaded(i,e){const n=this.hls.config,{total:o,bwEstimate:u}=e.stats;ci(o)&&ci(u)&&(this.lastLevelLoadSec=8*o/u),e.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD)}_abandonRulesCheck(){const{fragCurrent:i,partCurrent:e,hls:n}=this,{autoLevelEnabled:o,media:u}=n;if(!i||!u)return;const p=performance.now(),y=e?e.stats:i.stats,I=e?e.duration:i.duration,G=p-y.loading.start;if(y.aborted||y.loaded&&y.loaded===y.total||0===i.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!o||u.paused||!u.playbackRate||!u.readyState)return;const ne=n.mainForwardBufferInfo;if(null===ne)return;const Te=this.bwEstimator.getEstimateTTFB(),Ve=Math.abs(u.playbackRate);if(G<=Math.max(Te,I/(2*Ve)*1e3))return;const Ge=ne.len/Ve;if(Ge>=2*I/Ve)return;const et=y.loading.first?y.loading.first-y.loading.start:-1,ft=y.loaded&&et>-1,vt=this.bwEstimator.getEstimate(),{levels:Lt,minAutoLevel:qt}=n,un=y.total||Math.max(y.loaded,Math.round(I*Lt[i.level].maxBitrate/8));let cn=G-et;cn<1&&ft&&(cn=Math.min(G,8*y.loaded/vt));const Sn=ft?1e3*y.loaded/cn:0,mn=Sn?(un-y.loaded)/Sn:8*un/vt+Te/1e3;if(mn<=Ge)return;const Mn=Sn?8*Sn:vt;let gn,jn=Number.POSITIVE_INFINITY;for(gn=i.level-1;gn>qt&&(jn=this.getTimeToLoadFrag(Te/1e3,Mn,I*Lt[gn].maxBitrate,!Lt[gn].details),!(jn<Ge));gn--);jn>=mn||jn>10*I||(n.nextLoadLevel=gn,ft?this.bwEstimator.sample(G-Math.min(Te,et),y.loaded):this.bwEstimator.sampleTTFB(G),this.clearTimer(),sn.warn(`[abr] Fragment ${i.sn}${e?" part "+e.index:""} of level ${i.level} is loading too slowly;\n      Time to underbuffer: ${Ge.toFixed(3)} s\n      Estimated load time for current fragment: ${mn.toFixed(3)} s\n      Estimated load time for down switch fragment: ${jn.toFixed(3)} s\n      TTFB estimate: ${et}\n      Current BW estimate: ${ci(vt)?(vt/1024).toFixed(3):"Unknown"} Kb/s\n      New BW estimate: ${(this.bwEstimator.getEstimate()/1024).toFixed(3)} Kb/s\n      Aborting and switching to level ${gn}`),i.loader&&(this.fragCurrent=this.partCurrent=null,i.abortRequests()),n.trigger(Et.FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,part:e,stats:y}))}onFragLoaded(i,{frag:e,part:n}){const o=n?n.stats:e.stats;if("main"===e.type&&this.bwEstimator.sampleTTFB(o.loading.first-o.loading.start),!this.ignoreFragment(e)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){const p=this.hls.levels[e.level],y=(p.loaded?p.loaded.bytes:0)+o.loaded,I=(p.loaded?p.loaded.duration:0)+(n?n.duration:e.duration);p.loaded={bytes:y,duration:I},p.realBitrate=Math.round(8*y/I)}e.bitrateTest&&(this.onFragBuffered(Et.FRAG_BUFFERED,{stats:o,frag:e,part:n,id:e.type}),e.bitrateTest=!1)}}onFragBuffered(i,e){const{frag:n,part:o}=e,u=null!=o&&o.stats.loaded?o.stats:n.stats;if(u.aborted||this.ignoreFragment(n))return;const p=u.parsing.end-u.loading.start-Math.min(u.loading.first-u.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(p,u.loaded),u.bwEstimate=this.bwEstimator.getEstimate(),this.bitrateTestDelay=n.bitrateTest?p/1e3:0}ignoreFragment(i){return"main"!==i.type||"initSegment"===i.sn}clearTimer(){self.clearInterval(this.timer)}get nextAutoLevel(){const i=this._nextAutoLevel;if(-1!==i&&!this.bwEstimator.canEstimate())return i;let n=this.getNextABRAutoLevel();if(-1!==i){const o=this.hls.levels;if(o.length>Math.max(i,n)&&o[i].loadError<=o[n].loadError)return i}return-1!==i&&(n=Math.min(i,n)),n}getNextABRAutoLevel(){const{fragCurrent:i,partCurrent:e,hls:n}=this,{maxAutoLevel:o,config:u,minAutoLevel:p,media:y}=n,I=e?e.duration:i?i.duration:0,G=y&&0!==y.playbackRate?Math.abs(y.playbackRate):1,ne=this.bwEstimator?this.bwEstimator.getEstimate():u.abrEwmaDefaultEstimate,Te=n.mainForwardBufferInfo,Ve=(Te?Te.len:0)/G;let Ge=this.findBestLevel(ne,p,o,Ve,u.abrBandWidthFactor,u.abrBandWidthUpFactor);if(Ge>=0)return Ge;sn.trace(`[abr] ${Ve?"rebuffering expected":"buffer is empty"}, finding optimal quality level`);let et=I?Math.min(I,u.maxStarvationDelay):u.maxStarvationDelay,ft=u.abrBandWidthFactor,vt=u.abrBandWidthUpFactor;if(!Ve){const Lt=this.bitrateTestDelay;Lt&&(et=(I?Math.min(I,u.maxLoadingDelay):u.maxLoadingDelay)-Lt,sn.trace(`[abr] bitrate test took ${Math.round(1e3*Lt)}ms, set first fragment max fetchDuration to ${Math.round(1e3*et)} ms`),ft=vt=1)}return Ge=this.findBestLevel(ne,p,o,Ve+et,ft,vt),Math.max(Ge,0)}findBestLevel(i,e,n,o,u,p){var y;const{fragCurrent:I,partCurrent:G,lastLoadedFragLevel:ne}=this,{levels:Te}=this.hls,Ve=Te[ne],Ge=!(null==Ve||null==(y=Ve.details)||!y.live),et=Ve?.codecSet,ft=G?G.duration:I?I.duration:0,vt=this.bwEstimator.getEstimateTTFB()/1e3;let Lt=e,qt=-1;for(let zt=n;zt>=e;zt--){const un=Te[zt];if(!un||et&&un.codecSet!==et){un&&(Lt=Math.min(zt,Lt),qt=Math.max(zt,qt));continue}-1!==qt&&sn.trace(`[abr] Skipped level(s) ${Lt}-${qt} with CODECS:"${Te[qt].attrs.CODECS}"; not compatible with "${Ve.attrs.CODECS}"`);const cn=un.details,Sn=(G?cn?.partTarget:cn?.averagetargetduration)||ft;let mn;mn=zt<=ne?u*i:p*i;const Mn=Te[zt].maxBitrate,jn=this.getTimeToLoadFrag(vt,mn,Mn*Sn,void 0===cn);if(sn.trace(`[abr] level:${zt} adjustedbw-bitrate:${Math.round(mn-Mn)} avgDuration:${Sn.toFixed(1)} maxFetchDuration:${o.toFixed(1)} fetchDuration:${jn.toFixed(1)}`),mn>Mn&&(0===jn||!ci(jn)||Ge&&!this.bitrateTestDelay||jn<o))return zt}return-1}set nextAutoLevel(i){this._nextAutoLevel=i}},bufferController:class dA{constructor(i){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=()=>{const{media:e,mediaSource:n}=this;sn.log("[buffer-controller]: Media source opened"),e&&(e.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(Et.MEDIA_ATTACHED,{media:e})),n&&n.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{sn.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=()=>{sn.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=()=>{const{media:e,_objectUrl:n}=this;e&&e.src!==n&&sn.error(`Media element src was set while attaching MediaSource (${n} > ${e.src})`)},this.hls=i,this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null}registerListeners(){const{hls:i}=this;i.on(Et.MEDIA_ATTACHING,this.onMediaAttaching,this),i.on(Et.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),i.on(Et.MANIFEST_PARSED,this.onManifestParsed,this),i.on(Et.BUFFER_RESET,this.onBufferReset,this),i.on(Et.BUFFER_APPENDING,this.onBufferAppending,this),i.on(Et.BUFFER_CODECS,this.onBufferCodecs,this),i.on(Et.BUFFER_EOS,this.onBufferEos,this),i.on(Et.BUFFER_FLUSHING,this.onBufferFlushing,this),i.on(Et.LEVEL_UPDATED,this.onLevelUpdated,this),i.on(Et.FRAG_PARSED,this.onFragParsed,this),i.on(Et.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:i}=this;i.off(Et.MEDIA_ATTACHING,this.onMediaAttaching,this),i.off(Et.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),i.off(Et.MANIFEST_PARSED,this.onManifestParsed,this),i.off(Et.BUFFER_RESET,this.onBufferReset,this),i.off(Et.BUFFER_APPENDING,this.onBufferAppending,this),i.off(Et.BUFFER_CODECS,this.onBufferCodecs,this),i.off(Et.BUFFER_EOS,this.onBufferEos,this),i.off(Et.BUFFER_FLUSHING,this.onBufferFlushing,this),i.off(Et.LEVEL_UPDATED,this.onLevelUpdated,this),i.off(Et.FRAG_PARSED,this.onFragParsed,this),i.off(Et.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new cD(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(i,e){let n=2;(e.audio&&!e.video||!e.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,sn.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(i,e){const n=this.media=e.media;if(n&&q0){const o=this.mediaSource=new q0;o.addEventListener("sourceopen",this._onMediaSourceOpen),o.addEventListener("sourceended",this._onMediaSourceEnded),o.addEventListener("sourceclose",this._onMediaSourceClose),n.src=self.URL.createObjectURL(o),this._objectUrl=n.src,n.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:i,mediaSource:e,_objectUrl:n}=this;if(e){if(sn.log("[buffer-controller]: media source detaching"),"open"===e.readyState)try{e.endOfStream()}catch(o){sn.warn(`[buffer-controller]: onMediaDetaching: ${o.message} while calling endOfStream`)}this.onBufferReset(),e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),i&&(i.removeEventListener("emptied",this._onMediaEmptied),n&&self.URL.revokeObjectURL(n),i.src===n?(i.removeAttribute("src"),i.load()):sn.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(Et.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(i=>{const e=this.sourceBuffer[i];try{e&&(this.removeBufferListeners(i),this.mediaSource&&this.mediaSource.removeSourceBuffer(e),this.sourceBuffer[i]=void 0)}catch(n){sn.warn(`[buffer-controller]: Failed to reset the ${i} buffer`,n)}}),this._initSourceBuffer()}onBufferCodecs(i,e){const n=this.getSourceBufferTypes().length;Object.keys(e).forEach(o=>{if(n){const u=this.tracks[o];if(u&&"function"==typeof u.buffer.changeType){const{id:p,codec:y,levelCodec:I,container:G,metadata:ne}=e[o],Te=(u.levelCodec||u.codec).replace(J0,"$1"),Ve=(I||y).replace(J0,"$1");Te!==Ve&&(this.appendChangeType(o,`${G};codecs=${I||y}`),sn.log(`[buffer-controller]: switching codec ${Te} to ${Ve}`),this.tracks[o]={buffer:u.buffer,codec:y,container:G,levelCodec:I,metadata:ne,id:p})}}else this.pendingTracks[o]=e[o]}),!n&&(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())}appendChangeType(i,e){const{operationQueue:n}=this,o={execute:()=>{const u=this.sourceBuffer[i];u&&(sn.log(`[buffer-controller]: changing ${i} sourceBuffer type to ${e}`),u.changeType(e)),n.shiftAndExecuteNext(i)},onStart:()=>{},onComplete:()=>{},onError:u=>{sn.warn(`[buffer-controller]: Failed to change ${i} SourceBuffer type`,u)}};n.append(o,i)}onBufferAppending(i,e){const{hls:n,operationQueue:o,tracks:u}=this,{data:p,type:y,frag:I,part:G,chunkMeta:ne}=e,Te=ne.buffering[y],Ve=self.performance.now();Te.start=Ve;const Ge=I.stats.buffering,et=G?G.stats.buffering:null;0===Ge.start&&(Ge.start=Ve),et&&0===et.start&&(et.start=Ve);const ft=u.audio;let vt=!1;"audio"===y&&"audio/mpeg"===ft?.container&&(vt=!this.lastMpegAudioChunk||1===ne.id||this.lastMpegAudioChunk.sn!==ne.sn,this.lastMpegAudioChunk=ne);const Lt=I.start;o.append({execute:()=>{if(Te.executeStart=self.performance.now(),vt){const zt=this.sourceBuffer[y];if(zt){const un=Lt-zt.timestampOffset;Math.abs(un)>=.1&&(sn.log(`[buffer-controller]: Updating audio SourceBuffer timestampOffset to ${Lt} (delta: ${un}) sn: ${I.sn})`),zt.timestampOffset=Lt)}}this.appendExecutor(p,y)},onStart:()=>{},onComplete:()=>{const zt=self.performance.now();Te.executeEnd=Te.end=zt,0===Ge.first&&(Ge.first=zt),et&&0===et.first&&(et.first=zt);const{sourceBuffer:un}=this,cn={};for(const Sn in un)cn[Sn]=rr.getBuffered(un[Sn]);this.appendError=0,this.hls.trigger(Et.BUFFER_APPENDED,{type:y,frag:I,part:G,chunkMeta:ne,parent:I.type,timeRanges:cn})},onError:zt=>{sn.error(`[buffer-controller]: Error encountered while trying to append to the ${y} SourceBuffer`,zt);const un={type:hi.MEDIA_ERROR,parent:I.type,details:En.BUFFER_APPEND_ERROR,frag:I,part:G,chunkMeta:ne,error:zt,err:zt,fatal:!1};zt.code===DOMException.QUOTA_EXCEEDED_ERR?un.details=En.BUFFER_FULL_ERROR:(this.appendError++,un.details=En.BUFFER_APPEND_ERROR,this.appendError>n.config.appendErrorMaxRetry&&(sn.error(`[buffer-controller]: Failed ${n.config.appendErrorMaxRetry} times to append segment in sourceBuffer`),un.fatal=!0)),n.trigger(Et.ERROR,un)}},y)}onBufferFlushing(i,e){const{operationQueue:n}=this,o=u=>({execute:this.removeExecutor.bind(this,u,e.startOffset,e.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(Et.BUFFER_FLUSHED,{type:u})},onError:p=>{sn.warn(`[buffer-controller]: Failed to remove from ${u} SourceBuffer`,p)}});e.type?n.append(o(e.type),e.type):this.getSourceBufferTypes().forEach(u=>{n.append(o(u),u)})}onFragParsed(i,e){const{frag:n,part:o}=e,u=[],p=o?o.elementaryStreams:n.elementaryStreams;p.audiovideo?u.push("audiovideo"):(p.audio&&u.push("audio"),p.video&&u.push("video")),0===u.length&&sn.warn(`Fragments must have at least one ElementaryStreamType set. type: ${n.type} level: ${n.level} sn: ${n.sn}`),this.blockBuffers(()=>{const I=self.performance.now();n.stats.buffering.end=I,o&&(o.stats.buffering.end=I),this.hls.trigger(Et.FRAG_BUFFERED,{frag:n,part:o,stats:o?o.stats:n.stats,id:n.type})},u)}onFragChanged(i,e){this.flushBackBuffer()}onBufferEos(i,e){this.getSourceBufferTypes().reduce((o,u)=>{const p=this.sourceBuffer[u];return p&&(!e.type||e.type===u)&&(p.ending=!0,p.ended||(p.ended=!0,sn.log(`[buffer-controller]: ${u} sourceBuffer now EOS`))),o&&!(p&&!p.ended)},!0)&&(sn.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(u=>{const p=this.sourceBuffer[u];p&&(p.ending=!1)});const{mediaSource:o}=this;o&&"open"===o.readyState?(sn.log("[buffer-controller]: Calling mediaSource.endOfStream()"),o.endOfStream()):o&&sn.info(`[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ${o.readyState}`)}))}onLevelUpdated(i,{details:e}){e.fragments.length&&(this.details=e,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}flushBackBuffer(){const{hls:i,details:e,media:n,sourceBuffer:o}=this;if(!n||null===e)return;const u=this.getSourceBufferTypes();if(!u.length)return;const p=e.live&&null!==i.config.liveBackBufferLength?i.config.liveBackBufferLength:i.config.backBufferLength;if(!ci(p)||p<0)return;const y=n.currentTime,I=e.levelTargetDuration,G=Math.max(p,I),ne=Math.floor(y/I)*I-G;u.forEach(Te=>{const Ve=o[Te];if(Ve){const Ge=rr.getBuffered(Ve);if(Ge.length>0&&ne>Ge.start(0)){if(i.trigger(Et.BACK_BUFFER_REACHED,{bufferEnd:ne}),e.live)i.trigger(Et.LIVE_BACK_BUFFER_REACHED,{bufferEnd:ne});else if(Ve.ended&&Ge.end(Ge.length-1)-y<2*I)return void sn.info(`[buffer-controller]: Cannot flush ${Te} back buffer while SourceBuffer is in ended state`);i.trigger(Et.BUFFER_FLUSHING,{startOffset:0,endOffset:ne,type:Te})}}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||"open"!==this.mediaSource.readyState)return;const{details:i,hls:e,media:n,mediaSource:o}=this,u=i.fragments[0].start+i.totalduration,p=n.duration,y=ci(o.duration)?o.duration:0;i.live&&e.config.liveDurationInfinity?(sn.log("[buffer-controller]: Media Source duration is set to Infinity"),o.duration=1/0,this.updateSeekableRange(i)):(u>y&&u>p||!ci(p))&&(sn.log(`[buffer-controller]: Updating Media Source duration to ${u.toFixed(3)}`),o.duration=u)}updateSeekableRange(i){const e=this.mediaSource,n=i.fragments;if(n.length&&i.live&&null!=e&&e.setLiveSeekableRange){const u=Math.max(0,n[0].start),p=Math.max(u,u+i.totalduration);e.setLiveSeekableRange(u,p)}}checkPendingTracks(){const{bufferCodecEventsExpected:i,operationQueue:e,pendingTracks:n}=this,o=Object.keys(n).length;if(o&&!i||2===o){this.createSourceBuffers(n),this.pendingTracks={};const u=this.getSourceBufferTypes();if(u.length)this.hls.trigger(Et.BUFFER_CREATED,{tracks:this.tracks}),u.forEach(p=>{e.executeNext(p)});else{const p=new Error("could not create source buffer for media codec(s)");this.hls.trigger(Et.ERROR,{type:hi.MEDIA_ERROR,details:En.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:p,reason:p.message})}}}createSourceBuffers(i){const{sourceBuffer:e,mediaSource:n}=this;if(!n)throw Error("createSourceBuffers called when mediaSource was null");for(const o in i)if(!e[o]){const u=i[o];if(!u)throw Error(`source buffer exists for track ${o}, however track does not`);const p=u.levelCodec||u.codec,y=`${u.container};codecs=${p}`;sn.log(`[buffer-controller]: creating sourceBuffer(${y})`);try{const I=e[o]=n.addSourceBuffer(y),G=o;this.addBufferListener(G,"updatestart",this._onSBUpdateStart),this.addBufferListener(G,"updateend",this._onSBUpdateEnd),this.addBufferListener(G,"error",this._onSBUpdateError),this.tracks[o]={buffer:I,codec:p,container:u.container,levelCodec:u.levelCodec,metadata:u.metadata,id:u.id}}catch(I){sn.error(`[buffer-controller]: error while trying to add sourceBuffer: ${I.message}`),this.hls.trigger(Et.ERROR,{type:hi.MEDIA_ERROR,details:En.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:I,mimeType:y})}}}_onSBUpdateStart(i){const{operationQueue:e}=this;e.current(i).onStart()}_onSBUpdateEnd(i){const{operationQueue:e}=this;e.current(i).onComplete(),e.shiftAndExecuteNext(i)}_onSBUpdateError(i,e){const n=new Error(`${i} SourceBuffer error`);sn.error(`[buffer-controller]: ${n}`,e),this.hls.trigger(Et.ERROR,{type:hi.MEDIA_ERROR,details:En.BUFFER_APPENDING_ERROR,error:n,fatal:!1});const o=this.operationQueue.current(i);o&&o.onError(e)}removeExecutor(i,e,n){const{media:o,mediaSource:u,operationQueue:p,sourceBuffer:y}=this,I=y[i];if(!o||!u||!I)return sn.warn(`[buffer-controller]: Attempting to remove from the ${i} SourceBuffer, but it does not exist`),void p.shiftAndExecuteNext(i);const G=ci(o.duration)?o.duration:1/0,ne=ci(u.duration)?u.duration:1/0,Te=Math.max(0,e),Ve=Math.min(n,G,ne);Ve>Te&&!I.ending?(I.ended=!1,sn.log(`[buffer-controller]: Removing [${Te},${Ve}] from the ${i} SourceBuffer`),I.remove(Te,Ve)):p.shiftAndExecuteNext(i)}appendExecutor(i,e){const{operationQueue:n,sourceBuffer:o}=this,u=o[e];if(!u)return sn.warn(`[buffer-controller]: Attempting to append to the ${e} SourceBuffer, but it does not exist`),void n.shiftAndExecuteNext(e);u.ended=!1,u.appendBuffer(i)}blockBuffers(i,e=this.getSourceBufferTypes()){if(!e.length)return sn.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(i);const{operationQueue:n}=this,o=e.map(u=>n.appendBlocker(u));Promise.all(o).then(()=>{i(),e.forEach(u=>{const p=this.sourceBuffer[u];null!=p&&p.updating||n.shiftAndExecuteNext(u)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(i,e,n){const o=this.sourceBuffer[i];if(!o)return;const u=n.bind(this,i);this.listeners[i].push({event:e,listener:u}),o.addEventListener(e,u)}removeBufferListeners(i){const e=this.sourceBuffer[i];e&&this.listeners[i].forEach(n=>{e.removeEventListener(n.event,n.listener)})}},capLevelController:mb,errorController:class PC{constructor(i){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=i,this.log=sn.log.bind(sn,"[info]:"),this.warn=sn.warn.bind(sn,"[warning]:"),this.error=sn.error.bind(sn,"[error]:"),this.registerListeners()}registerListeners(){const i=this.hls;i.on(Et.ERROR,this.onError,this),i.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),i.on(Et.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const i=this.hls;i&&(i.off(Et.ERROR,this.onError,this),i.off(Et.ERROR,this.onErrorOut,this),i.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),i.off(Et.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(i){this.playlistError=0}stopLoad(){}getVariantLevelIndex(i){return"main"===i?.type?i.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(i,e){var n,o;if(e.fatal)return;const u=this.hls,p=e.context;switch(e.details){case En.FRAG_LOAD_ERROR:case En.FRAG_LOAD_TIMEOUT:case En.KEY_LOAD_ERROR:case En.KEY_LOAD_TIMEOUT:return void(e.errorAction=this.getFragRetryOrSwitchAction(e));case En.FRAG_PARSING_ERROR:if(null!=(n=e.frag)&&n.gap)return void(e.errorAction={action:0,flags:0});case En.FRAG_GAP:case En.FRAG_DECRYPT_ERROR:return e.errorAction=this.getFragRetryOrSwitchAction(e),void(e.errorAction.action=2);case En.LEVEL_EMPTY_ERROR:case En.LEVEL_PARSING_ERROR:{var y,I;const G="main"===e.parent?e.level:u.loadLevel;e.details===En.LEVEL_EMPTY_ERROR&&null!=(y=e.context)&&null!=(I=y.levelDetails)&&I.live?e.errorAction=this.getPlaylistRetryOrSwitchAction(e,G):(e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,G))}return;case En.LEVEL_LOAD_ERROR:case En.LEVEL_LOAD_TIMEOUT:return void("number"==typeof p?.level&&(e.errorAction=this.getPlaylistRetryOrSwitchAction(e,p.level)));case En.AUDIO_TRACK_LOAD_ERROR:case En.AUDIO_TRACK_LOAD_TIMEOUT:case En.SUBTITLE_LOAD_ERROR:case En.SUBTITLE_TRACK_LOAD_TIMEOUT:if(p){const G=u.levels[u.loadLevel];if(G&&("audioTrack"===p.type&&p.groupId===G.audioGroupId||"subtitleTrack"===p.type&&p.groupId===G.textGroupId))return e.errorAction=this.getPlaylistRetryOrSwitchAction(e,u.loadLevel),e.errorAction.action=2,void(e.errorAction.flags=1)}return;case En.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const G=u.levels[u.loadLevel],ne=G?.attrs["HDCP-LEVEL"];ne&&(e.errorAction={action:2,flags:2,hdcpLevel:ne})}return;case En.BUFFER_ADD_CODEC_ERROR:case En.REMUX_ALLOC_ERROR:return void(e.errorAction=this.getLevelSwitchAction(e,null!=(o=e.level)?o:u.loadLevel));case En.INTERNAL_EXCEPTION:case En.BUFFER_APPENDING_ERROR:case En.BUFFER_APPEND_ERROR:case En.BUFFER_FULL_ERROR:case En.LEVEL_SWITCH_ERROR:case En.BUFFER_STALLED_ERROR:case En.BUFFER_SEEK_OVER_HOLE:case En.BUFFER_NUDGE_ON_STALL:return void(e.errorAction={action:0,flags:0})}if(e.type===hi.KEY_SYSTEM_ERROR){const G=this.getVariantLevelIndex(e.frag);return e.levelRetry=!1,void(e.errorAction=this.getLevelSwitchAction(e,G))}}getPlaylistRetryOrSwitchAction(i,e){var n;const u=ip(this.hls.config.playlistLoadPolicy,i),p=this.playlistError++,y=null==(n=i.response)?void 0:n.code;if(pf(u,p,mf(i),y))return{action:5,flags:0,retryConfig:u,retryCount:p};const G=this.getLevelSwitchAction(i,e);return u&&(G.retryConfig=u,G.retryCount=p),G}getFragRetryOrSwitchAction(i){const e=this.hls,n=this.getVariantLevelIndex(i.frag),o=e.levels[n],{fragLoadPolicy:u,keyLoadPolicy:p}=e.config,y=ip(i.details.startsWith("key")?p:u,i),I=e.levels.reduce((Te,Ve)=>Te+Ve.fragmentError,0);if(o){var G;i.details!==En.FRAG_GAP&&o.fragmentError++;const Te=null==(G=i.response)?void 0:G.code;if(pf(y,I,mf(i),Te))return{action:5,flags:0,retryConfig:y,retryCount:I}}const ne=this.getLevelSwitchAction(i,n);return y&&(ne.retryConfig=y,ne.retryCount=I),ne}getLevelSwitchAction(i,e){const n=this.hls;null==e&&(e=n.loadLevel);const o=this.hls.levels[e];if(o&&(o.loadError++,n.autoLevelEnabled)){var u,p;let y=-1;const{levels:I,loadLevel:G,minAutoLevel:ne,maxAutoLevel:Te}=n,Ve=null==(u=i.frag)?void 0:u.type,{type:Ge,groupId:et}=null!=(p=i.context)?p:{};for(let ft=I.length;ft--;){const vt=(ft+G)%I.length;if(vt!==G&&vt>=ne&&vt<=Te&&0===I[vt].loadError){const Lt=I[vt];if(i.details===En.FRAG_GAP&&i.frag){const qt=I[vt].details;if(qt){const zt=_d(i.frag,qt.fragments,i.frag.start);if(null!=zt&&zt.gap)continue}}else{if("audioTrack"===Ge&&et===Lt.audioGroupId||"subtitleTrack"===Ge&&et===Lt.textGroupId)continue;if("audio"===Ve&&o.audioGroupId===Lt.audioGroupId||"subtitle"===Ve&&o.textGroupId===Lt.textGroupId)continue}y=vt;break}}if(y>-1&&n.loadLevel!==y)return i.levelRetry=!0,this.playlistError=0,{action:2,flags:0,nextAutoLevel:y}}return{action:2,flags:1}}onErrorOut(i,e){var n;switch(null==(n=e.errorAction)?void 0:n.action){case 0:break;case 2:this.sendAlternateToPenaltyBox(e),!e.errorAction.resolved&&e.details!==En.FRAG_GAP&&(e.fatal=!0)}e.fatal&&this.hls.stopLoad()}sendAlternateToPenaltyBox(i){const e=this.hls,n=i.errorAction;if(!n)return;const{flags:o,hdcpLevel:u,nextAutoLevel:p}=n;switch(o){case 0:this.switchLevel(i,p);break;case 1:n.resolved||(n.resolved=this.redundantFailover(i));break;case 2:u&&(e.maxHdcpLevel=Qm[Qm.indexOf(u)-1],n.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${e.maxHdcpLevel}" or lower`)}n.resolved||this.switchLevel(i,p)}switchLevel(i,e){void 0!==e&&i.errorAction&&(this.warn(`switching to level ${e} after ${i.details}`),this.hls.nextAutoLevel=e,i.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}redundantFailover(i){const{hls:e,penalizedRenditions:n}=this,o="main"===i.parent?i.level:e.loadLevel,u=e.levels[o],p=u.url.length,y=i.frag?i.frag.urlId:u.urlId;u.urlId===y&&(!i.frag||u.details)&&this.penalizeRendition(u,i);for(let I=1;I<p;I++){const G=(y+I)%p,ne=n[G];if(!ne||RC(ne,i,n[y]))return this.warn(`Switching to Redundant Stream ${G+1}/${p}: "${u.url[G]}" after ${i.details}`),this.playlistError=0,e.levels.forEach(Te=>{Te.urlId=G}),e.nextLoadLevel=o,!0}return!1}penalizeRendition(i,e){const{penalizedRenditions:n}=this,o=n[i.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};o.lastErrorPerfMs=performance.now(),o.errors.push(e),o.details=i.details,n[i.urlId]=o}},fpsController:class gD{constructor(i){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=i,this.registerListeners()}setStreamController(i){this.streamController=i}registerListeners(){this.hls.on(Et.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(Et.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(i,e){const n=this.hls.config;if(n.capLevelOnFPSDrop){const o=e.media instanceof self.HTMLVideoElement?e.media:null;this.media=o,o&&"function"==typeof o.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}checkFPS(i,e,n){const o=performance.now();if(e){if(this.lastTime){const p=n-this.lastDroppedFrames,y=e-this.lastDecodedFrames,I=1e3*p/(o-this.lastTime),G=this.hls;if(G.trigger(Et.FPS_DROP,{currentDropped:p,currentDecoded:y,totalDroppedFrames:n}),I>0&&p>G.config.fpsDroppedMonitoringThreshold*y){let ne=G.currentLevel;sn.warn("drop FPS ratio greater than max allowed value for currentLevel: "+ne),ne>0&&(-1===G.autoLevelCapping||G.autoLevelCapping>=ne)&&(ne-=1,G.trigger(Et.FPS_DROP_LEVEL_CAPPING,{level:ne,droppedLevel:G.currentLevel}),G.autoLevelCapping=ne,this.streamController.nextLevelSwitch())}}this.lastTime=o,this.lastDroppedFrames=n,this.lastDecodedFrames=e}}checkFPSInterval(){const i=this.media;if(i)if(this.isVideoPlaybackQualityAvailable){const e=i.getVideoPlaybackQuality();this.checkFPS(i,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(i,i.webkitDecodedFrameCount,i.webkitDroppedFrameCount)}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:So,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},function bA(){return{cueHandler:$p,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}()),{},{subtitleStreamController:class lA extends bf{constructor(i,e,n){super(i,e,n,"[subtitle-stream-controller]","subtitle"),this.levels=[],this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null}_registerListeners(){const{hls:i}=this;i.on(Et.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(Et.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),i.on(Et.LEVEL_LOADED,this.onLevelLoaded,this),i.on(Et.ERROR,this.onError,this),i.on(Et.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),i.on(Et.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),i.on(Et.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),i.on(Et.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),i.on(Et.BUFFER_FLUSHING,this.onBufferFlushing,this),i.on(Et.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:i}=this;i.off(Et.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(Et.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),i.off(Et.LEVEL_LOADED,this.onLevelLoaded,this),i.off(Et.ERROR,this.onError,this),i.off(Et.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),i.off(Et.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),i.off(Et.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),i.off(Et.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),i.off(Et.BUFFER_FLUSHING,this.onBufferFlushing,this),i.off(Et.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(i){this.stopLoad(),this.state="IDLE",this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=i,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(i,e){this.mainDetails=e.details}onSubtitleFragProcessed(i,e){const{frag:n,success:o}=e;if(this.fragPrevious=n,this.state="IDLE",!o)return;const u=this.tracksBuffered[this.currentTrackId];if(!u)return;let p;const y=n.start;for(let G=0;G<u.length;G++)if(y>=u[G].start&&y<=u[G].end){p=u[G];break}const I=n.start+n.duration;p?p.end=I:(p={start:y,end:I},u.push(p)),this.fragmentTracker.fragBuffered(n)}onBufferFlushing(i,e){const{startOffset:n,endOffset:o}=e;if(0===n&&o!==Number.POSITIVE_INFINITY){const u=o-1;if(u<=0)return;e.endOffsetSubtitles=Math.max(0,u),this.tracksBuffered.forEach(p=>{for(let y=0;y<p.length;)if(p[y].end<=u)p.shift();else{if(!(p[y].start<u))break;p[y].start=u,y++}}),this.fragmentTracker.removeFragmentsInRange(n,u,"subtitle")}}onFragBuffered(i,e){var n;this.loadedmetadata||"main"!==e.frag.type||null!=(n=this.media)&&n.buffered.length&&(this.loadedmetadata=!0)}onError(i,e){const n=e.frag;"subtitle"===n?.type&&(this.fragCurrent&&this.fragCurrent.abortRequests(),"STOPPED"!==this.state&&(this.state="IDLE"))}onSubtitleTracksUpdated(i,{subtitleTracks:e}){Z0(this.levels,e)?this.levels=e.map(n=>new gd(n)):(this.tracksBuffered=[],this.levels=e.map(n=>{const o=new gd(n);return this.tracksBuffered[o.id]=[],o}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,"subtitle"),this.fragPrevious=null,this.mediaBuffer=null)}onSubtitleTrackSwitch(i,e){if(this.currentTrackId=e.id,!this.levels.length||-1===this.currentTrackId)return void this.clearInterval();const n=this.levels[this.currentTrackId];this.mediaBuffer=null!=n&&n.details?this.mediaBufferTimeRanges:null,n&&this.setInterval(500)}onSubtitleTrackLoaded(i,e){var n;const{details:o,id:u}=e,{currentTrackId:p,levels:y}=this;if(!y.length)return;const I=y[p];if(u>=y.length||u!==p||!I)return;this.mediaBuffer=this.mediaBufferTimeRanges;let G=0;if(o.live||null!=(n=I.details)&&n.live){const ne=this.mainDetails;if(o.deltaUpdateFailed||!ne)return;const Te=ne.fragments[0];I.details?(G=this.alignPlaylists(o,I.details),0===G&&Te&&(G=Te.start,hf(o,G))):o.hasProgramDateTime&&ne.hasProgramDateTime?(up(o,ne),G=o.fragments[0].start):Te&&(G=Te.start,hf(o,G))}I.details=o,this.levelLastLoaded=u,!this.startFragRequested&&(this.mainDetails||!o.live)&&this.setStartPosition(I.details,G),this.tick(),o.live&&!this.fragCurrent&&this.media&&"IDLE"===this.state&&(_d(null,o.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),I.details=void 0))}_handleFragmentLoadComplete(i){const{frag:e,payload:n}=i,o=e.decryptdata,u=this.hls;if(!this.fragContextChanged(e)&&n&&n.byteLength>0&&o&&o.key&&o.iv&&"AES-128"===o.method){const p=performance.now();this.decrypter.decrypt(new Uint8Array(n),o.key.buffer,o.iv.buffer).catch(y=>{throw u.trigger(Et.ERROR,{type:hi.MEDIA_ERROR,details:En.FRAG_DECRYPT_ERROR,fatal:!1,error:y,reason:y.message,frag:e}),y}).then(y=>{const I=performance.now();u.trigger(Et.FRAG_DECRYPTED,{frag:e,payload:y,stats:{tstart:p,tdecrypt:I}})}).catch(y=>{this.warn(`${y.name}: ${y.message}`),this.state="IDLE"})}}doTick(){if(this.media){if("IDLE"===this.state){const{currentTrackId:i,levels:e}=this,n=e[i];if(!e.length||!n||!n.details)return;const{config:o}=this,u=this.getLoadPosition(),p=rr.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],u,o.maxBufferHole),{end:y,len:I}=p,G=this.getFwdBufferInfo(this.media,"main"),ne=n.details;if(I>this.getMaxBufferLength(G?.len)+ne.levelTargetDuration)return;const Ve=ne.fragments,Ge=Ve.length,et=ne.edge;let ft=null;const vt=this.fragPrevious;if(y<et){const Lt=o.maxFragLookUpTolerance,qt=y>et-Lt?0:Lt;ft=_d(vt,Ve,Math.max(Ve[0].start,y),qt),!ft&&vt&&vt.start<Ve[0].start&&(ft=Ve[0])}else ft=Ve[Ge-1];if(!ft)return;if(ft=this.mapToInitFragWhenRequired(ft),"initSegment"!==ft.sn){const qt=Ve[ft.sn-ne.startSN-1];qt&&qt.cc===ft.cc&&"NOT_LOADED"===this.fragmentTracker.getState(qt)&&(ft=qt)}"NOT_LOADED"===this.fragmentTracker.getState(ft)&&this.loadFragment(ft,n,y)}}else this.state="IDLE"}getMaxBufferLength(i){const e=super.getMaxBufferLength();return i?Math.max(e,i):e}loadFragment(i,e,n){this.fragCurrent=i,"initSegment"===i.sn?this._loadInitSegment(i,e):(this.startFragRequested=!0,super.loadFragment(i,e,n))}get mediaBufferTimeRanges(){return new cA(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class lD extends op{constructor(i){super(i,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.trackChangeListener=()=>this.onTextTracksChanged(),this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(i){this._subtitleDisplay=i,this.trackId>-1&&this.toggleTrackModes(this.trackId)}registerListeners(){const{hls:i}=this;i.on(Et.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(Et.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),i.on(Et.MANIFEST_PARSED,this.onManifestParsed,this),i.on(Et.LEVEL_LOADING,this.onLevelLoading,this),i.on(Et.LEVEL_SWITCHING,this.onLevelSwitching,this),i.on(Et.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),i.on(Et.ERROR,this.onError,this)}unregisterListeners(){const{hls:i}=this;i.off(Et.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(Et.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),i.off(Et.MANIFEST_PARSED,this.onManifestParsed,this),i.off(Et.LEVEL_LOADING,this.onLevelLoading,this),i.off(Et.LEVEL_SWITCHING,this.onLevelSwitching,this),i.off(Et.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),i.off(Et.ERROR,this.onError,this)}onMediaAttached(i,e){this.media=e.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(i){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,i)}onMediaDetaching(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),Af(this.media.textTracks).forEach(e=>{lc(e)}),this.subtitleTrack=-1,this.media=null)}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(i,e){this.tracks=e.subtitleTracks}onSubtitleTrackLoaded(i,e){const{id:n,details:o}=e,{trackId:u}=this,p=this.tracksInGroup[u];if(!p)return void this.warn(`Invalid subtitle track id ${n}`);const y=p.details;p.details=e.details,this.log(`subtitle track ${n} loaded [${o.startSN}-${o.endSN}]`),n===this.trackId&&this.playlistLoaded(n,e,y)}onLevelLoading(i,e){this.switchLevel(e.level)}onLevelSwitching(i,e){this.switchLevel(e.level)}switchLevel(i){const e=this.hls.levels[i];if(null==e||!e.textGroupIds)return;const n=e.textGroupIds[e.urlId],o=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==n){const u=this.tracks.filter(I=>!n||I.groupId===n);this.tracksInGroup=u;const p=this.findTrackId(o?.name)||this.findTrackId();this.groupId=n||null;const y={subtitleTracks:u};this.log(`Updating subtitle tracks, ${u.length} track(s) found in "${n}" group-id`),this.hls.trigger(Et.SUBTITLE_TRACKS_UPDATED,y),-1!==p&&this.setSubtitleTrack(p,o)}else this.shouldReloadPlaylist(o)&&this.setSubtitleTrack(this.trackId,o)}findTrackId(i){const e=this.tracksInGroup;for(let n=0;n<e.length;n++){const o=e[n];if((!this.selectDefaultTrack||o.default)&&(!i||i===o.name))return o.id}return-1}onError(i,e){e.fatal||!e.context||"subtitleTrack"===e.context.type&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&this.checkRetry(e)}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(i){this.selectDefaultTrack=!1,this.setSubtitleTrack(i,this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0)}loadPlaylist(i){super.loadPlaylist();const e=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(e)){const n=e.id,o=e.groupId;let u=e.url;if(i)try{u=i.addDirectives(u)}catch(p){this.warn(`Could not construct new URL with HLS Delivery Directives: ${p}`)}this.log(`Loading subtitle playlist for id ${n}`),this.hls.trigger(Et.SUBTITLE_TRACK_LOADING,{url:u,id:n,groupId:o,deliveryDirectives:i||null})}}toggleTrackModes(i){const{media:e,trackId:n}=this;if(!e)return;const o=Af(e.textTracks),u=o.filter(y=>y.groupId===this.groupId);if(-1===i)[].slice.call(o).forEach(y=>{y.mode="disabled"});else{const y=u[n];y&&(y.mode="disabled")}const p=u[i];p&&(p.mode=this.subtitleDisplay?"showing":"hidden")}setSubtitleTrack(i,e){var n;const o=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=i);if(this.trackId!==i&&this.toggleTrackModes(i),this.trackId===i&&(-1===i||null!=(n=o[i])&&n.details)||i<-1||i>=o.length)return;this.clearTimer();const u=o[i];if(this.log(`Switching to subtitle-track ${i}`+(u?` "${u.name}" lang:${u.lang} group:${u.groupId}`:"")),this.trackId=i,u){const{id:p,groupId:y="",name:I,type:G,url:ne}=u;this.hls.trigger(Et.SUBTITLE_TRACK_SWITCH,{id:p,groupId:y,name:I,type:G,url:ne});const Te=this.switchParams(u.url,e?.details);this.loadPlaylist(Te)}else this.hls.trigger(Et.SUBTITLE_TRACK_SWITCH,{id:i})}onTextTracksChanged(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let i=-1;const e=Af(this.media.textTracks);for(let n=0;n<e.length;n++)if("hidden"===e[n].mode)i=n;else if("showing"===e[n].mode){i=n;break}this.subtitleTrack!==i&&(this.subtitleTrack=i)}},timelineController:class pD{constructor(i){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=i,this.config=i.config,this.Cues=i.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){const e=new Od(this,"textTrack1"),n=new Od(this,"textTrack2"),o=new Od(this,"textTrack3"),u=new Od(this,"textTrack4");this.cea608Parser1=new tb(1,e,n),this.cea608Parser2=new tb(3,o,u)}i.on(Et.MEDIA_ATTACHING,this.onMediaAttaching,this),i.on(Et.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),i.on(Et.MANIFEST_LOADED,this.onManifestLoaded,this),i.on(Et.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),i.on(Et.FRAG_LOADING,this.onFragLoading,this),i.on(Et.FRAG_LOADED,this.onFragLoaded,this),i.on(Et.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),i.on(Et.FRAG_DECRYPTED,this.onFragDecrypted,this),i.on(Et.INIT_PTS_FOUND,this.onInitPtsFound,this),i.on(Et.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),i.on(Et.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:i}=this;i.off(Et.MEDIA_ATTACHING,this.onMediaAttaching,this),i.off(Et.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),i.off(Et.MANIFEST_LOADED,this.onManifestLoaded,this),i.off(Et.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),i.off(Et.FRAG_LOADING,this.onFragLoading,this),i.off(Et.FRAG_LOADED,this.onFragLoaded,this),i.off(Et.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),i.off(Et.FRAG_DECRYPTED,this.onFragDecrypted,this),i.off(Et.INIT_PTS_FOUND,this.onInitPtsFound,this),i.off(Et.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),i.off(Et.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null}addCues(i,e,n,o,u){let p=!1;for(let y=u.length;y--;){const I=u[y],G=fb(I[0],I[1],e,n);if(G>=0&&(I[0]=Math.min(I[0],e),I[1]=Math.max(I[1],n),p=!0,G/(n-e)>.5))return}if(p||u.push([e,n]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[i],e,n,o);else{const y=this.Cues.newCue(null,e,n,o);this.hls.trigger(Et.CUES_PARSED,{type:"captions",cues:y,track:i})}}onInitPtsFound(i,{frag:e,id:n,initPTS:o,timescale:u}){const{unparsedVttFrags:p}=this;"main"===n&&(this.initPTS[e.cc]={baseTime:o,timescale:u}),p.length&&(this.unparsedVttFrags=[],p.forEach(y=>{this.onFragLoaded(Et.FRAG_LOADED,y)}))}getExistingTrack(i){const{media:e}=this;if(e)for(let n=0;n<e.textTracks.length;n++){const o=e.textTracks[n];if(o[i])return o}return null}createCaptionsTrack(i){this.config.renderTextTracksNatively?this.createNativeTrack(i):this.createNonNativeTrack(i)}createNativeTrack(i){if(this.captionsTracks[i])return;const{captionsProperties:e,captionsTracks:n,media:o}=this,{label:u,languageCode:p}=e[i],y=this.getExistingTrack(i);if(y)n[i]=y,lc(n[i]),o0(n[i],o);else{const I=this.createTextTrack("captions",u,p);I&&(I[i]=!0,n[i]=I)}}createNonNativeTrack(i){if(this.nonNativeCaptionsTracks[i])return;const e=this.captionsProperties[i];if(!e)return;const o={_id:i,label:e.label,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[i]=o,this.hls.trigger(Et.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[o]})}createTextTrack(i,e,n){const o=this.media;if(o)return o.addTextTrack(i,e,n)}onMediaAttaching(i,e){this.media=e.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:i}=this;Object.keys(i).forEach(e=>{lc(i[e]),delete i[e]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:i}=this;if(!i)return;const e=i.textTracks;if(e)for(let n=0;n<e.length;n++)lc(e[n])}onSubtitleTracksUpdated(i,e){const n=e.subtitleTracks||[],o=n.some(u=>u.textCodec===Of);if(this.config.enableWebVTT||o&&this.config.enableIMSC1){if(Z0(this.tracks,n))return void(this.tracks=n);if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){const p=this.media?this.media.textTracks:null;this.tracks.forEach((y,I)=>{let G;if(p&&I<p.length){let ne=null;for(let Te=0;Te<p.length;Te++)if(pA(p[Te],y)){ne=p[Te];break}ne&&(G=ne)}if(G)lc(G);else{const ne=this._captionsOrSubtitlesFromCharacteristics(y);G=this.createTextTrack(ne,y.name,y.lang),G&&(G.mode="disabled")}G&&(G.groupId=y.groupId,this.textTracks.push(G))})}else if(this.tracks.length){const p=this.tracks.map(y=>({label:y.name,kind:y.type.toLowerCase(),default:y.default,subtitleTrack:y}));this.hls.trigger(Et.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:p})}}}_captionsOrSubtitlesFromCharacteristics(i){if(i.attrs.CHARACTERISTICS){const e=/transcribes-spoken-dialog/gi.test(i.attrs.CHARACTERISTICS),n=/describes-music-and-sound/gi.test(i.attrs.CHARACTERISTICS);if(e&&n)return"captions"}return"subtitles"}onManifestLoaded(i,e){this.config.enableCEA708Captions&&e.captions&&e.captions.forEach(n=>{const o=/(?:CC|SERVICE)([1-4])/.exec(n.instreamId);if(!o)return;const p=this.captionsProperties[`textTrack${o[1]}`];p&&(p.label=n.name,n.lang&&(p.languageCode=n.lang),p.media=n)})}closedCaptionsForLevel(i){const e=this.hls.levels[i.level];return e?.attrs["CLOSED-CAPTIONS"]}onFragLoading(i,e){const{cea608Parser1:n,cea608Parser2:o,lastSn:u,lastPartIndex:p}=this;if(this.enabled&&n&&o&&"main"===e.frag.type){var y,I;const G=e.frag.sn,ne=null!=(y=null==e||null==(I=e.part)?void 0:I.index)?y:-1;G===u+1||G===u&&ne===p+1||(n.reset(),o.reset()),this.lastSn=G,this.lastPartIndex=ne}}onFragLoaded(i,e){const{frag:n,payload:o}=e;if("subtitle"===n.type)if(o.byteLength){const u=n.decryptdata;if(null==u||!u.encrypted||"stats"in e){const y=this.tracks[n.level],I=this.vttCCs;I[n.cc]||(I[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),y&&y.textCodec===Of?this._parseIMSC1(n,o):this._parseVTTs(e)}}else this.hls.trigger(Et.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}_parseIMSC1(i,e){const n=this.hls;Pf(e,this.initPTS[i.cc],o=>{this._appendCues(o,i.level),n.trigger(Et.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:i})},o=>{sn.log(`Failed to parse IMSC1: ${o}`),n.trigger(Et.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:o})})}_parseVTTs(i){var e;const{frag:n,payload:o}=i,{initPTS:u,unparsedVttFrags:p}=this,y=u.length-1;if(!u[n.cc]&&-1===y)return void p.push(i);const I=this.hls;!function hA(r,i,e,n,o,u,p){const y=new fA,I=Ea(new Uint8Array(r)).trim().replace(ob,"\n").split("\n"),G=[],ne=i?function bp(r,i=1){return Sf(r,9e4,1/i)}(i.baseTime,i.timescale):0;let et,Te="00:00.000",Ve=0,Ge=0,ft=!0;y.oncue=function(vt){const Lt=e[n];let qt=e.ccOffset;const zt=(Ve-ne)/9e4;if(null!=Lt&&Lt.new&&(void 0!==Ge?qt=e.ccOffset=Lt.start:function(i,e,n){let o=i[e],u=i[o.prevCC];if(!u||!u.new&&o.new)return i.ccOffset=i.presentationOffset=o.start,void(o.new=!1);for(;null!=(p=u)&&p.new;){var p;i.ccOffset+=o.start-u.start,o.new=!1,o=u,u=i[o.prevCC]}i.presentationOffset=n}(e,n,zt)),zt){if(!i)return void(et=new Error("Missing initPTS for VTT MPEGTS"));qt=zt-e.presentationOffset}const un=vt.endTime-vt.startTime,cn=Zo(9e4*(vt.startTime+qt-Ge),9e4*o)/9e4;vt.startTime=Math.max(cn,0),vt.endTime=Math.max(cn+un,0);const Sn=vt.text.trim();vt.text=decodeURIComponent(encodeURIComponent(Sn)),vt.id||(vt.id=Vp(vt.startTime,vt.endTime,Sn)),vt.endTime>0&&G.push(vt)},y.onparsingerror=function(vt){et=vt},y.onflush=function(){et?p(et):u(G)},I.forEach(vt=>{if(ft){if(Up(vt,"X-TIMESTAMP-MAP=")){ft=!1,vt.slice(16).split(",").forEach(Lt=>{Up(Lt,"LOCAL:")?Te=Lt.slice(6):Up(Lt,"MPEGTS:")&&(Ve=parseInt(Lt.slice(7)))});try{Ge=function(i){let e=parseInt(i.slice(-3));const n=parseInt(i.slice(-6,-4)),o=parseInt(i.slice(-9,-7)),u=i.length>9?parseInt(i.substring(0,i.indexOf(":"))):0;if(!(ci(e)&&ci(n)&&ci(o)&&ci(u)))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${i}`);return e+=1e3*n,e+=6e4*o,e+=36e5*u,e}(Te)/1e3}catch(Lt){et=Lt}return}""===vt&&(ft=!1)}y.parse(vt+"\n")}),y.flush()}(null!=(e=n.initSegment)&&e.data?el(n.initSegment.data,new Uint8Array(o)):o,this.initPTS[n.cc],this.vttCCs,n.cc,n.start,ne=>{this._appendCues(ne,n.level),I.trigger(Et.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})},ne=>{const Te="Missing initPTS for VTT MPEGTS"===ne.message;Te?p.push(i):this._fallbackToIMSC1(n,o),sn.log(`Failed to parse VTT cue: ${ne}`),!(Te&&y>n.cc)&&I.trigger(Et.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:ne})})}_fallbackToIMSC1(i,e){const n=this.tracks[i.level];n.textCodec||Pf(e,this.initPTS[i.cc],()=>{n.textCodec=Of,this._parseIMSC1(i,e)},()=>{n.textCodec="wvtt"})}_appendCues(i,e){const n=this.hls;if(this.config.renderTextTracksNatively){const o=this.textTracks[e];if(!o||"disabled"===o.mode)return;i.forEach(u=>a0(o,u))}else{const o=this.tracks[e];if(!o)return;n.trigger(Et.CUES_PARSED,{type:"subtitles",cues:i,track:o.default?"default":"subtitles"+e})}}onFragDecrypted(i,e){const{frag:n}=e;"subtitle"===n.type&&this.onFragLoaded(Et.FRAG_LOADED,e)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(i,e){const{cea608Parser1:n,cea608Parser2:o}=this;if(!this.enabled||!n||!o)return;const{frag:u,samples:p}=e;if("main"!==u.type||"NONE"!==this.closedCaptionsForLevel(u))for(let y=0;y<p.length;y++){const I=p[y].bytes;if(I){const G=this.extractCea608Data(I);n.addData(p[y].pts,G[0]),o.addData(p[y].pts,G[1])}}}onBufferFlushing(i,{startOffset:e,endOffset:n,endOffsetSubtitles:o,type:u}){const{media:p}=this;if(p&&!(p.currentTime<n)){if(!u||"video"===u){const{captionsTracks:y}=this;Object.keys(y).forEach(I=>pd(y[I],e,n))}if(this.config.renderTextTracksNatively&&0===e&&void 0!==o){const{textTracks:y}=this;Object.keys(y).forEach(I=>pd(y[I],e,o))}}}extractCea608Data(i){const e=[[],[]],n=31&i[0];let o=2;for(let u=0;u<n;u++){const p=i[o++],y=127&i[o++],I=127&i[o++];if((0!==y||0!==I)&&0!=(4&p)){const ne=3&p;(0===ne||1===ne)&&(e[ne].push(y),e[ne].push(I))}}return e}},audioStreamController:class Ip extends bf{constructor(i,e,n){super(i,e,n,"[audio-stream-controller]","audio"),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:i}=this;i.on(Et.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(Et.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),i.on(Et.LEVEL_LOADED,this.onLevelLoaded,this),i.on(Et.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),i.on(Et.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),i.on(Et.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),i.on(Et.ERROR,this.onError,this),i.on(Et.BUFFER_RESET,this.onBufferReset,this),i.on(Et.BUFFER_CREATED,this.onBufferCreated,this),i.on(Et.BUFFER_FLUSHED,this.onBufferFlushed,this),i.on(Et.INIT_PTS_FOUND,this.onInitPtsFound,this),i.on(Et.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:i}=this;i.off(Et.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(Et.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),i.off(Et.LEVEL_LOADED,this.onLevelLoaded,this),i.off(Et.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),i.off(Et.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),i.off(Et.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),i.off(Et.ERROR,this.onError,this),i.off(Et.BUFFER_RESET,this.onBufferReset,this),i.off(Et.BUFFER_CREATED,this.onBufferCreated,this),i.off(Et.BUFFER_FLUSHED,this.onBufferFlushed,this),i.off(Et.INIT_PTS_FOUND,this.onInitPtsFound,this),i.off(Et.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(i,{frag:e,id:n,initPTS:o,timescale:u}){if("main"===n){const p=e.cc;this.initPTS[e.cc]={baseTime:o,timescale:u},this.log(`InitPTS for cc: ${p} found from main: ${o}`),this.videoTrackCC=p,"WAITING_INIT_PTS"===this.state&&this.tick()}}startLoad(i){if(!this.levels)return this.startPosition=i,void(this.state="STOPPED");const e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),e>0&&-1===i?(this.log(`Override startPosition with lastCurrentTime @${e.toFixed(3)}`),i=e,this.state="IDLE"):(this.loadedmetadata=!1,this.state="WAITING_TRACK"),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=i,this.tick()}doTick(){switch(this.state){case"IDLE":this.doTickIdle();break;case"WAITING_TRACK":{var i;const{levels:n,trackId:o}=this,u=null==n||null==(i=n[o])?void 0:i.details;if(u){if(this.waitForCdnTuneIn(u))break;this.state="WAITING_INIT_PTS"}break}case"FRAG_LOADING_WAITING_RETRY":{var e;const n=performance.now(),o=this.retryDate;(!o||n>=o||null!=(e=this.media)&&e.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state="IDLE");break}case"WAITING_INIT_PTS":{const n=this.waitingData;if(n){const{frag:o,part:u,cache:p,complete:y}=n;if(void 0!==this.initPTS[o.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state="FRAG_LOADING";const G={frag:o,part:u,payload:p.flush(),networkDetails:null};this._handleFragmentLoadProgress(G),y&&super._handleFragmentLoadComplete(G)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${o.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const I=this.getLoadPosition(),G=rr.bufferInfo(this.mediaBuffer,I,this.config.maxBufferHole);gf(G.end,this.config.maxFragLookUpTolerance,o)<0&&(this.log(`Waiting fragment cc (${o.cc}) @ ${o.start} cancelled because another fragment at ${G.end} is needed`),this.clearWaitingFragment())}}else this.state="IDLE"}}this.onTickEnd()}clearWaitingFragment(){const i=this.waitingData;i&&(this.fragmentTracker.removeFragment(i.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state="IDLE")}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:i}=this;null!=i&&i.readyState&&(this.lastCurrentTime=i.currentTime)}doTickIdle(){const{hls:i,levels:e,media:n,trackId:o}=this;if(null==e||!e[o]||!n&&(this.startFragRequested||!i.config.startFragPrefetch))return;const p=e[o],y=p.details;if(!y||y.live&&this.levelLastLoaded!==o||this.waitForCdnTuneIn(y))return void(this.state="WAITING_TRACK");const I=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&I&&(this.bufferFlushed=!1,this.afterBufferFlushed(I,"audio","audio"));const G=this.getFwdBufferInfo(I,"audio");if(null===G)return;const{bufferedTrack:ne,switchingTrack:Te}=this;if(!Te&&this._streamEnded(G,y))return i.trigger(Et.BUFFER_EOS,{type:"audio"}),void(this.state="ENDED");const Ve=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,"main"),Ge=G.len,et=this.getMaxBufferLength(Ve?.len);if(Ge>=et&&!Te)return;const vt=y.fragments[0].start;let Lt=G.end;if(Te&&n){const cn=this.getLoadPosition();ne&&Te.attrs!==ne.attrs&&(Lt=cn),y.PTSKnown&&cn<vt&&(G.end>vt||G.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),n.currentTime=vt+.05)}let qt=this.getNextFragment(Lt,y),zt=!1;if(qt&&this.isLoopLoading(qt,Lt)&&(zt=!!qt.gap,qt=this.getNextFragmentLoopLoading(qt,y,G,"main",et)),!qt)return void(this.bufferFlushed=!0);const un=Ve&&qt.start>Ve.end+y.targetduration;if(un||(null==Ve||!Ve.len)&&G.len){const cn=this.getAppendedFrag(qt.start,"main");if(null===cn||(zt||(zt=!!cn.gap||!!un&&0===Ve.len),un&&!zt||zt&&G.nextStart&&G.nextStart<cn.end))return}this.loadFragment(qt,p,Lt)}getMaxBufferLength(i){const e=super.getMaxBufferLength();return i?Math.min(Math.max(e,i),this.config.maxMaxBufferLength):e}onMediaDetaching(){this.videoBuffer=null,super.onMediaDetaching()}onAudioTracksUpdated(i,{audioTracks:e}){this.resetTransmuxer(),this.levels=e.map(n=>new gd(n))}onAudioTrackSwitching(i,e){const n=!!e.url;this.trackId=e.id;const{fragCurrent:o}=this;o&&(o.abortRequests(),this.removeUnbufferedFrags(o.start)),this.resetLoadingState(),n?this.setInterval(100):this.resetTransmuxer(),n?(this.switchingTrack=e,this.state="IDLE"):(this.switchingTrack=null,this.bufferedTrack=e,this.state="STOPPED"),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(i,e){this.mainDetails=e.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(Et.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(i,e){var n;if(null==this.mainDetails)return void(this.cachedTrackLoadedData=e);const{levels:o}=this,{details:u,id:p}=e;if(!o)return void this.warn(`Audio tracks were reset while loading level ${p}`);this.log(`Track ${p} loaded [${u.startSN},${u.endSN}]${u.lastPartSn?`[part-${u.lastPartSn}-${u.lastPartIndex}]`:""},duration:${u.totalduration}`);const y=o[p];let I=0;if(u.live||null!=(n=y.details)&&n.live){const G=this.mainDetails;if(u.fragments[0]||(u.deltaUpdateFailed=!0),u.deltaUpdateFailed||!G)return;!y.details&&u.hasProgramDateTime&&G.hasProgramDateTime?(up(u,G),I=u.fragments[0].start):I=this.alignPlaylists(u,y.details)}y.details=u,this.levelLastLoaded=p,!this.startFragRequested&&(this.mainDetails||!u.live)&&this.setStartPosition(y.details,I),"WAITING_TRACK"===this.state&&!this.waitForCdnTuneIn(u)&&(this.state="IDLE"),this.tick()}_handleFragmentLoadProgress(i){var e;const{frag:n,part:o,payload:u}=i,{config:p,trackId:y,levels:I}=this;if(!I)return void this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);const G=I[y];if(!G)return void this.warn("Audio track is undefined on fragment load progress");const ne=G.details;if(!ne)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(n.start);const Te=p.defaultAudioCodec||G.audioCodec||"mp4a.40.2";let Ve=this.transmuxer;Ve||(Ve=this.transmuxer=new Y0(this.hls,"audio",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const Ge=this.initPTS[n.cc],et=null==(e=n.initSegment)?void 0:e.data;if(void 0!==Ge){const vt=o?o.index:-1,qt=new cp(n.level,n.sn,n.stats.chunkCount,u.byteLength,vt,-1!==vt);Ve.push(u,et,Te,"",n,o,ne.totalduration,!1,qt,Ge)}else{this.log(`Unknown video PTS for cc ${n.cc}, waiting for video PTS before demuxing audio frag ${n.sn} of [${ne.startSN} ,${ne.endSN}],track ${y}`);const{cache:ft}=this.waitingData=this.waitingData||{frag:n,part:o,cache:new sD,complete:!1};ft.push(new Uint8Array(u)),this.waitingVideoCC=this.videoTrackCC,this.state="WAITING_INIT_PTS"}}_handleFragmentLoadComplete(i){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(i)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(i,e){const n=e.tracks.audio;n&&(this.mediaBuffer=n.buffer||null),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer||null)}onFragBuffered(i,e){const{frag:n,part:o}=e;if("audio"===n.type)if(this.fragContextChanged(n))this.warn(`Fragment ${n.sn}${o?" p: "+o.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);else{if("initSegment"!==n.sn){this.fragPrevious=n;const u=this.switchingTrack;u&&(this.bufferedTrack=u,this.switchingTrack=null,this.hls.trigger(Et.AUDIO_TRACK_SWITCHED,Io({},u)))}this.fragBufferedComplete(n,o)}else if(!this.loadedmetadata&&"main"===n.type){const u=this.videoBuffer||this.media;u&&rr.getBuffered(u).length&&(this.loadedmetadata=!0)}}onError(i,e){var n;if(e.fatal)this.state="ERROR";else switch(e.details){case En.FRAG_GAP:case En.FRAG_PARSING_ERROR:case En.FRAG_DECRYPT_ERROR:case En.FRAG_LOAD_ERROR:case En.FRAG_LOAD_TIMEOUT:case En.KEY_LOAD_ERROR:case En.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("audio",e);break;case En.AUDIO_TRACK_LOAD_ERROR:case En.AUDIO_TRACK_LOAD_TIMEOUT:case En.LEVEL_PARSING_ERROR:!e.levelRetry&&"WAITING_TRACK"===this.state&&"audioTrack"===(null==(n=e.context)?void 0:n.type)&&(this.state="IDLE");break;case En.BUFFER_FULL_ERROR:if(!e.parent||"audio"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case En.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}onBufferFlushed(i,{type:e}){"audio"===e&&(this.bufferFlushed=!0,"ENDED"===this.state&&(this.state="IDLE"))}_handleTransmuxComplete(i){var e;const n="audio",{hls:o}=this,{remuxResult:u,chunkMeta:p}=i,y=this.getCurrentContext(p);if(!y)return void this.resetWhenMissingContext(p);const{frag:I,part:G,level:ne}=y,{details:Te}=ne,{audio:Ve,text:Ge,id3:et,initSegment:ft}=u;if(!this.fragContextChanged(I)&&Te){if(this.state="PARSING",this.switchingTrack&&Ve&&this.completeAudioSwitch(this.switchingTrack),null!=ft&&ft.tracks){const vt=I.initSegment||I;this._bufferInitSegment(ft.tracks,vt,p),o.trigger(Et.FRAG_PARSING_INIT_SEGMENT,{frag:vt,id:n,tracks:ft.tracks})}if(Ve){const{startPTS:vt,endPTS:Lt,startDTS:qt,endDTS:zt}=Ve;G&&(G.elementaryStreams.audio={startPTS:vt,endPTS:Lt,startDTS:qt,endDTS:zt}),I.setElementaryStreamInfo("audio",vt,Lt,qt,zt),this.bufferFragmentData(Ve,I,G,p)}if(null!=et&&null!=(e=et.samples)&&e.length){const vt=Gr({id:n,frag:I,details:Te},et);o.trigger(Et.FRAG_PARSING_METADATA,vt)}if(Ge){const vt=Gr({id:n,frag:I,details:Te},Ge);o.trigger(Et.FRAG_PARSING_USERDATA,vt)}}else this.fragmentTracker.removeFragment(I)}_bufferInitSegment(i,e,n){if("PARSING"!==this.state)return;i.video&&delete i.video;const o=i.audio;if(!o)return;o.levelCodec=o.codec,o.id="audio",this.log(`Init audio buffer, container:${o.container}, codecs[parsed]=[${o.codec}]`),this.hls.trigger(Et.BUFFER_CODECS,i);const u=o.initSegment;null!=u&&u.byteLength&&this.hls.trigger(Et.BUFFER_APPENDING,{type:"audio",frag:e,part:null,chunkMeta:n,parent:e.type,data:u}),this.tick()}loadFragment(i,e,n){const o=this.fragmentTracker.getState(i);var u;this.fragCurrent=i,this.switchingTrack||"NOT_LOADED"===o||"PARTIAL"===o?"initSegment"===i.sn?this._loadInitSegment(i,e):null!=(u=e.details)&&u.live&&!this.initPTS[i.cc]?(this.log(`Waiting for video PTS in continuity counter ${i.cc} of live stream before loading audio fragment ${i.sn} of level ${this.trackId}`),this.state="WAITING_INIT_PTS"):(this.startFragRequested=!0,super.loadFragment(i,e,n)):this.clearTrackerIfNeeded(i)}completeAudioSwitch(i){const{hls:e,media:n,bufferedTrack:o}=this,u=o?.attrs,p=i.attrs;n&&u&&(u.CHANNELS!==p.CHANNELS||u.NAME!==p.NAME||u.LANGUAGE!==p.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=i,this.switchingTrack=null,e.trigger(Et.AUDIO_TRACK_SWITCHED,Io({},i))}},audioTrackController:class z0 extends op{constructor(i){super(i,"[audio-track-controller]"),this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:i}=this;i.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),i.on(Et.MANIFEST_PARSED,this.onManifestParsed,this),i.on(Et.LEVEL_LOADING,this.onLevelLoading,this),i.on(Et.LEVEL_SWITCHING,this.onLevelSwitching,this),i.on(Et.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),i.on(Et.ERROR,this.onError,this)}unregisterListeners(){const{hls:i}=this;i.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),i.off(Et.MANIFEST_PARSED,this.onManifestParsed,this),i.off(Et.LEVEL_LOADING,this.onLevelLoading,this),i.off(Et.LEVEL_SWITCHING,this.onLevelSwitching,this),i.off(Et.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),i.off(Et.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(i,e){this.tracks=e.audioTracks||[]}onAudioTrackLoaded(i,e){const{id:n,groupId:o,details:u}=e,p=this.tracksInGroup[n];if(!p||p.groupId!==o)return void this.warn(`Track with id:${n} and group:${o} not found in active group ${p.groupId}`);const y=p.details;p.details=e.details,this.log(`audio-track ${n} "${p.name}" lang:${p.lang} group:${o} loaded [${u.startSN}-${u.endSN}]`),n===this.trackId&&this.playlistLoaded(n,e,y)}onLevelLoading(i,e){this.switchLevel(e.level)}onLevelSwitching(i,e){this.switchLevel(e.level)}switchLevel(i){const e=this.hls.levels[i];if(null==e||!e.audioGroupIds)return;const n=e.audioGroupIds[e.urlId];if(this.groupId!==n){this.groupId=n||null;const o=this.tracks.filter(p=>!n||p.groupId===n);this.selectDefaultTrack&&!o.some(p=>p.default)&&(this.selectDefaultTrack=!1),this.tracksInGroup=o;const u={audioTracks:o};this.log(`Updating audio tracks, ${o.length} track(s) found in group:${n}`),this.hls.trigger(Et.AUDIO_TRACKS_UPDATED,u),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}onError(i,e){e.fatal||!e.context||"audioTrack"===e.context.type&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(e))}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(i){this.selectDefaultTrack=!1,this.setAudioTrack(i)}setAudioTrack(i){const e=this.tracksInGroup;if(i<0||i>=e.length)return void this.warn("Invalid id passed to audio-track controller");this.clearTimer();const n=this.currentTrack,o=e[i],{groupId:u,name:p}=o;if(this.log(`Switching to audio-track ${i} "${p}" lang:${o.lang} group:${u}`),this.trackId=i,this.currentTrack=o,this.selectDefaultTrack=!1,this.hls.trigger(Et.AUDIO_TRACK_SWITCHING,Io({},o)),o.details&&!o.details.live)return;const y=this.switchParams(o.url,n?.details);this.loadPlaylist(y)}selectInitialTrack(){const i=this.tracksInGroup,e=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(-1!==e)this.setAudioTrack(e);else{const n=new Error(`No track found for running audio group-ID: ${this.groupId} track count: ${i.length}`);this.warn(n.message),this.hls.trigger(Et.ERROR,{type:hi.MEDIA_ERROR,details:En.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:n})}}findTrackId(i){const e=this.tracksInGroup;for(let n=0;n<e.length;n++){const o=e[n];if((!this.selectDefaultTrack||o.default)&&(!i||void 0!==i.attrs["STABLE-RENDITION-ID"]&&i.attrs["STABLE-RENDITION-ID"]===o.attrs["STABLE-RENDITION-ID"]||i.name===o.name&&i.lang===o.lang))return o.id}return-1}loadPlaylist(i){super.loadPlaylist();const e=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(e)){const n=e.id,o=e.groupId;let u=e.url;if(i)try{u=i.addDirectives(u)}catch(p){this.warn(`Could not construct new URL with HLS Delivery Directives: ${p}`)}this.log(`loading audio-track playlist ${n} "${e.name}" lang:${e.lang} group:${o}`),this.clearTimer(),this.hls.trigger(Et.AUDIO_TRACK_LOADING,{url:u,id:n,groupId:o,deliveryDirectives:i||null})}}},emeController:gA,cmcdController:rl,contentSteeringController:class vA{constructor(i){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=i,this.log=sn.log.bind(sn,"[content-steering]:"),this.registerListeners()}registerListeners(){const i=this.hls;i.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),i.on(Et.MANIFEST_LOADED,this.onManifestLoaded,this),i.on(Et.MANIFEST_PARSED,this.onManifestParsed,this),i.on(Et.ERROR,this.onError,this)}unregisterListeners(){const i=this.hls;i&&(i.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),i.off(Et.MANIFEST_LOADED,this.onManifestLoaded,this),i.off(Et.MANIFEST_PARSED,this.onManifestParsed,this),i.off(Et.ERROR,this.onError,this))}startLoad(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){const i=Math.max(1e3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,i)}else this.loadSteeringManifest(this.uri)}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(i){const e=this.levels;e&&(this.levels=e.filter(n=>n!==i))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(i,e){const{contentSteering:n}=e;null!==n&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}onManifestParsed(i,e){this.audioTracks=e.audioTracks,this.subtitleTracks=e.subtitleTracks}onError(i,e){const{errorAction:n}=e;if(2===n?.action&&1===n.flags){let o=this.pathwayPriority;const u=this.pathwayId;this.penalizedPathways[u]||(this.penalizedPathways[u]=performance.now()),!o&&this.levels&&(o=this.levels.reduce((p,y)=>(-1===p.indexOf(y.pathwayId)&&p.push(y.pathwayId),p),[])),o&&o.length>1&&(this.updatePathwayPriority(o),n.resolved=this.pathwayId!==u)}}filterParsedLevels(i){this.levels=i;let e=this.getLevelsForPathway(this.pathwayId);if(0===e.length){const n=i[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${n}"`),e=this.getLevelsForPathway(n),this.pathwayId=n}return e.length!==i.length?(this.log(`Found ${e.length}/${i.length} levels in Pathway "${this.pathwayId}"`),e):i}getLevelsForPathway(i){return null===this.levels?[]:this.levels.filter(e=>i===e.pathwayId)}updatePathwayPriority(i){let e;this.pathwayPriority=i;const n=this.penalizedPathways,o=performance.now();Object.keys(n).forEach(u=>{o-n[u]>3e5&&delete n[u]});for(let u=0;u<i.length;u++){const p=i[u];if(n[p])continue;if(p===this.pathwayId)return;const y=this.hls.nextLoadLevel,I=this.hls.levels[y];if(e=this.getLevelsForPathway(p),e.length>0){this.log(`Setting Pathway to "${p}"`),this.pathwayId=p,this.hls.trigger(Et.LEVELS_UPDATED,{levels:e});const G=this.hls.levels[y];I&&G&&this.levels&&(G.attrs["STABLE-VARIANT-ID"]!==I.attrs["STABLE-VARIANT-ID"]&&G.bitrate!==I.bitrate&&this.log(`Unstable Pathways change from bitrate ${I.bitrate} to ${G.bitrate}`),this.hls.nextLoadLevel=y);break}}}clonePathways(i){const e=this.levels;if(!e)return;const n={},o={};i.forEach(u=>{const{ID:p,"BASE-ID":y,"URI-REPLACEMENT":I}=u;if(e.some(ne=>ne.pathwayId===p))return;const G=this.getLevelsForPathway(y).map(ne=>{const Te=Gr({},ne);Te.details=void 0,Te.url=bD(ne.uri,ne.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",I);const Ve=new yr(ne.attrs);Ve["PATHWAY-ID"]=p;const Ge=Ve.AUDIO&&`${Ve.AUDIO}_clone_${p}`,et=Ve.SUBTITLES&&`${Ve.SUBTITLES}_clone_${p}`;Ge&&(n[Ve.AUDIO]=Ge,Ve.AUDIO=Ge),et&&(o[Ve.SUBTITLES]=et,Ve.SUBTITLES=et),Te.attrs=Ve;const ft=new gd(Te);return yd(ft,"audio",Ge),yd(ft,"text",et),ft});e.push(...G),yD(this.audioTracks,n,I,p),yD(this.subtitleTracks,o,I,p)})}loadSteeringManifest(i){const e=this.hls.config,n=e.loader;let o;this.loader&&this.loader.destroy(),this.loader=new n(e);try{o=new self.URL(i)}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest URI: ${i}`)}if("data:"!==o.protocol){const ne=0|(this.hls.bandwidthEstimate||e.abrEwmaDefaultEstimate);o.searchParams.set("_HLS_pathway",this.pathwayId),o.searchParams.set("_HLS_throughput",""+ne)}const u={responseType:"json",url:o.href},p=e.steeringManifestLoadPolicy.default,y=p.errorRetry||p.timeoutRetry||{},I={loadPolicy:p,timeout:p.maxLoadTimeMs,maxRetry:y.maxNumRetry||0,retryDelay:y.retryDelayMs||0,maxRetryDelay:y.maxRetryDelayMs||0},G={onSuccess:(ne,Te,Ve,Ge)=>{this.log(`Loaded steering manifest: "${o}"`);const et=ne.data;if(1!==et.VERSION)return void this.log(`Steering VERSION ${et.VERSION} not supported!`);this.updated=performance.now(),this.timeToLoad=et.TTL;const{"RELOAD-URI":ft,"PATHWAY-CLONES":vt,"PATHWAY-PRIORITY":Lt}=et;if(ft)try{this.uri=new self.URL(ft,o).href}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest RELOAD-URI: ${ft}`)}this.scheduleRefresh(this.uri||Ve.url),vt&&this.clonePathways(vt),Lt&&this.updatePathwayPriority(Lt)},onError:(ne,Te,Ve,Ge)=>{if(this.log(`Error loading steering manifest: ${ne.code} ${ne.text} (${Te.url})`),this.stopLoad(),410===ne.code)return this.enabled=!1,void this.log(`Steering manifest ${Te.url} no longer available`);let et=1e3*this.timeToLoad;if(429!==ne.code)this.scheduleRefresh(this.uri||Te.url,et);else{const ft=this.loader;if("function"==typeof ft?.getResponseHeader){const vt=ft.getResponseHeader("Retry-After");vt&&(et=1e3*parseFloat(vt))}this.log(`Steering manifest ${Te.url} rate limited`)}},onTimeout:(ne,Te,Ve)=>{this.log(`Timeout loading steering manifest (${Te.url})`),this.scheduleRefresh(this.uri||Te.url)}};this.log(`Requesting steering manifest: ${o}`),this.loader.load(u,I,G)}scheduleRefresh(i,e=1e3*this.timeToLoad){self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout(()=>{this.loadSteeringManifest(i)},e)}}});function kf(r){return r&&"object"==typeof r?Array.isArray(r)?r.map(kf):Object.keys(r).reduce((i,e)=>(i[e]=kf(r[e]),i),{}):r}let al=(()=>{class r{static get version(){return"1.4.10"}static isSupported(){return function WC(){const r=sf();if(!r)return!1;const i=Ed();return!(!r||"function"!=typeof r.isTypeSupported||!r.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')||i&&(!i.prototype||"function"!=typeof i.prototype.appendBuffer||"function"!=typeof i.prototype.remove))}()}static get Events(){return Et}static get ErrorTypes(){return hi}static get ErrorDetails(){return En}static get DefaultConfig(){return r.defaultConfig?r.defaultConfig:yA}static set DefaultConfig(e){r.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Df,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,function Dy(r,i){if(self.console&&!0===r||"object"==typeof r){!function Cy(r,...i){i.forEach(function(e){ld[e]=r[e]?r[e].bind(r):function Sy(r){const i=self.console[r];return i?i.bind(self.console,`[${r}] >`):Js}(e)})}(r,"debug","log","info","warn","error");try{ld.log(`Debug logs enabled for "${i}" in hls.js version 1.4.10`)}catch{ld=Lm}}else ld=Lm}(e.debug||!1,"Hls instance");const n=this.config=function EA(r,i){if((i.liveSyncDurationCount||i.liveMaxLatencyDurationCount)&&(i.liveSyncDuration||i.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==i.liveMaxLatencyDurationCount&&(void 0===i.liveSyncDurationCount||i.liveMaxLatencyDurationCount<=i.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==i.liveMaxLatencyDuration&&(void 0===i.liveSyncDuration||i.liveMaxLatencyDuration<=i.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const e=kf(r),o=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach(u=>{const p=`${"level"===u?"playlist":u}LoadPolicy`,y=void 0===i[p],I=[];o.forEach(G=>{const ne=`${u}Loading${G}`,Te=i[ne];if(void 0!==Te&&y){I.push(ne);const Ve=e[p].default;switch(i[p]={default:Ve},G){case"TimeOut":Ve.maxLoadTimeMs=Te,Ve.maxTimeToFirstByteMs=Te;break;case"MaxRetry":Ve.errorRetry.maxNumRetry=Te,Ve.timeoutRetry.maxNumRetry=Te;break;case"RetryDelay":Ve.errorRetry.retryDelayMs=Te,Ve.timeoutRetry.retryDelayMs=Te;break;case"MaxRetryTimeout":Ve.errorRetry.maxRetryDelayMs=Te,Ve.timeoutRetry.maxRetryDelayMs=Te}}}),I.length&&sn.warn(`hls.js config: "${I.join('", "')}" setting(s) are deprecated, use "${p}": ${JSON.stringify(i[p])}`)}),Io(Io({},e),i)}(r.DefaultConfig,e);this.userConfig=e,this._autoLevelCapping=-1,n.progressive&&function DD(r){const i=r.loader;i!==Kp&&i!==Rd?(sn.log("[config]: Custom loader detected, cannot enable progressive streaming"),r.progressive=!1):function TD(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}()&&(r.loader=Kp,r.progressive=!0,r.enableSoftwareAES=!0,sn.log("[config]: Progressive streaming enabled, using FetchLoader"))}(n);const{abrController:o,bufferController:u,capLevelController:p,errorController:y,fpsController:I}=n,G=new y(this),ne=this.abrController=new o(this),Te=this.bufferController=new u(this),Ve=this.capLevelController=new p(this),Ge=new I(this),et=new r0(this),ft=new dc(this),vt=n.contentSteeringController,Lt=vt?new vt(this):null,qt=this.levelController=new vd(this,Lt),zt=new y0(this),un=new LC(this.config),cn=this.streamController=new rA(this,zt,un);Ve.setStreamController(cn),Ge.setStreamController(cn);const Sn=[et,qt,cn];Lt&&Sn.splice(1,0,Lt),this.networkControllers=Sn;const mn=[ne,Te,Ve,Ge,ft,zt];this.audioTrackController=this.createController(n.audioTrackController,Sn);const Mn=n.audioStreamController;Mn&&Sn.push(new Mn(this,zt,un)),this.subtitleTrackController=this.createController(n.subtitleTrackController,Sn);const jn=n.subtitleStreamController;jn&&Sn.push(new jn(this,zt,un)),this.createController(n.timelineController,mn),un.emeController=this.emeController=this.createController(n.emeController,mn),this.cmcdController=this.createController(n.cmcdController,mn),this.latencyController=this.createController(c0,mn),this.coreComponents=mn,Sn.push(G);const gn=G.onErrorOut;"function"==typeof gn&&this.on(Et.ERROR,gn,G)}createController(e,n){if(e){const o=new e(this);return n&&n.push(o),o}return null}on(e,n,o=this){this._emitter.on(e,n,o)}once(e,n,o=this){this._emitter.once(e,n,o)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,n,o=this,u){this._emitter.off(e,n,o,u)}listeners(e){return this._emitter.listeners(e)}emit(e,n,o){return this._emitter.emit(e,n,o)}trigger(e,n){if(this.config.debug)return this.emit(e,e,n);try{return this.emit(e,e,n)}catch(o){sn.error("An internal error happened while handling event "+e+'. Error message: "'+o.message+'". Here is a stacktrace:',o),this.trigger(Et.ERROR,{type:hi.OTHER_ERROR,details:En.INTERNAL_EXCEPTION,fatal:!1,event:e,error:o})}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){sn.log("destroy"),this.trigger(Et.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(n=>n.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(n=>n.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){sn.log("attachMedia"),this._media=e,this.trigger(Et.MEDIA_ATTACHING,{media:e})}detachMedia(){sn.log("detachMedia"),this.trigger(Et.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const n=this.media,o=this.url,u=this.url=Nm.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});sn.log(`loadSource:${u}`),n&&o&&(o!==u||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(n)),this.trigger(Et.MANIFEST_LOADING,{url:e})}startLoad(e=-1){sn.log(`startLoad(${e})`),this.networkControllers.forEach(n=>{n.startLoad(e)})}stopLoad(){sn.log("stopLoad"),this.networkControllers.forEach(e=>{e.stopLoad()})}swapAudioCodec(){sn.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){sn.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e,n=0){this.levelController.removeLevel(e,n)}get levels(){return this.levelController.levels||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){sn.log(`set currentLevel:${e}`),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){sn.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){sn.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){sn.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){return this.levelController.startLevel}set startLevel(e){sn.log(`set startLevel:${e}`),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const n=!!e;n!==this.config.capLevelToPlayerSize&&(n?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=n)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(sn.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e)}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){Qm.indexOf(e)>-1&&(this._maxHdcpLevel=e)}get autoLevelEnabled(){return-1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:n}}=this;if(!e)return 0;const o=e.length;for(let u=0;u<o;u++)if(e[u].maxBitrate>=n)return u;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:n,maxHdcpLevel:o}=this;let u;if(u=-1===n&&e&&e.length?e.length-1:n,o)for(let p=u;p--;){const y=e[p].attrs["HDCP-LEVEL"];if(y&&y<=o)return p}return u}get nextAutoLevel(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)}set nextAutoLevel(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const n=this.audioTrackController;n&&(n.audioTrack=e)}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const n=this.subtitleTrackController;n&&(n.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return!!e&&e.subtitleDisplay}set subtitleDisplay(e){const n=this.subtitleTrackController;n&&(n.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}return r.defaultConfig=void 0,r})();function xD(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.onClickDialogAction(u))}),t._uU(1),t.qZA()}if(2&r){const e=i.$implicit;t.xp6(1),t.Oqu(e.text)}}let gb=(()=>{class r{constructor(e,n){this.dialog=e,this.options=n}onClickDialogAction(e){this.dialog.close(e)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(vn.so),t.Y36(vn.WI))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-dialog-options"]],decls:9,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"custom-dialog-message"],[1,"modal-footer"],[1,"custom-dialog-options"],["ngFor","",3,"ngForOf"],["type","button",1,"custom-dialog-button",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"h5",1),t._uU(2),t.qZA()(),t.TgZ(3,"div",2)(4,"div",3),t._uU(5),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5),t.YNc(8,xD,2,1,"ng-template",6),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(o.options.title),t.xp6(3),t.hij(" ",o.options.message," "),t.xp6(3),t.Q6J("ngForOf",o.options.actions))},dependencies:[g.sg],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return r})();const _b=["controlsContainer"],AD=["settingsContainer"],wD=["videoPrincipalContainer"],vb=["videoTarget"];function qp(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",55),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToPreviousEpisode())}),t._UZ(1,"i",56),t.qZA()}}function SA(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",57),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToNextEpisode())}),t._UZ(1,"i",58),t.qZA()}}function yb(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",59,60),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.playOrPauseVideo())}),t.TgZ(2,"img",61),t.NdJ("error",function(){t.CHM(e);const o=t.MAs(1),u=t.oxw(2);return t.KtG(u.focusButton(o))}),t.qZA(),t._UZ(3,"i",62),t.qZA()}}function Jp(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",63,64),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.playOrPauseVideo())}),t.TgZ(2,"img",61),t.NdJ("error",function(){t.CHM(e);const o=t.MAs(1),u=t.oxw(2);return t.KtG(u.focusButton(o))}),t.qZA(),t._UZ(3,"i",65),t.qZA()}}const ID=function(r){return{"show-controls":r}};function OD(r,i){if(1&r&&(t.TgZ(0,"div",66),t._uU(1," Cargando video... "),t.qZA()),2&r){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(1,ID,e.showControls))}}const PD=function(r){return{selected:r}};function CA(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",77),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw(3);return t.KtG(p.onClickPrincipalSettingsOption(u))}),t._uU(1),t.qZA()}if(2&r){const e=i.$implicit,n=t.oxw(3);t.MGl("id","stream_option_",e.index,""),t.Q6J("ngClass",t.VKq(3,PD,n.currentSelectedPrincipalSettingOption&&e.index==n.currentSelectedPrincipalSettingOption.index)),t.xp6(1),t.hij(" ",e.name," ")}}function RD(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",77),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw(4);return t.KtG(p.onClickStreamOption(u))}),t._uU(1),t.qZA()}if(2&r){const e=i.$implicit,n=t.oxw(4);t.hYB("id","stream_option_",n.currentSelectedPrincipalSettingOption.id,"_suboption_",e.index,""),t.Q6J("ngClass",t.VKq(4,PD,n.currentSelectedPrincipalSettingOption.selectedOption&&n.currentSelectedPrincipalSettingOption.selectedOption.index==e.index)),t.xp6(1),t.hij(" ",e.name," ")}}function ND(r,i){if(1&r&&(t.TgZ(0,"section",78),t.YNc(1,RD,2,6,"ng-template",75),t.qZA()),2&r){const e=t.oxw(3);t.MGl("id","streams_suboptions_section_",e.currentSelectedPrincipalSettingOption.index,""),t.xp6(1),t.Q6J("ngForOf",e.currentSelectedPrincipalSettingOption.listOptions)}}function LD(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"section",67,68)(2,"div",69)(3,"section",70)(4,"div",71)(5,"div",72)(6,"button",73),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.hideSettings())}),t._UZ(7,"i",11),t.qZA()()()(),t.TgZ(8,"section",74),t.YNc(9,CA,2,5,"ng-template",75),t.qZA(),t.YNc(10,ND,2,2,"section",76),t.qZA()()}if(2&r){const e=t.oxw(2);t.xp6(9),t.Q6J("ngForOf",e.listPrincipalSettingsOptions),t.xp6(1),t.Q6J("ngIf",e.currentSelectedPrincipalSettingOption)}}function kD(r,i){if(1&r&&t._UZ(0,"div",79),2&r){const e=i.$implicit,n=t.oxw(3);t.Udp("display",n.checkIfDisplaySubtitles(e)?"block":"none"),t.Q6J("innerHtml",e.text,t.oJD)}}function bb(r,i){if(1&r&&t.YNc(0,kD,1,3,"ng-template",75),2&r){const e=t.oxw(2);t.Q6J("ngForOf",e.currentSubtitleData)}}function Eb(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"video",80,81),t.NdJ("error",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onErrorVideo())})("loadedmetadata",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onLoadedMetadata())})("loadeddata",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onLoadedData())})("ended",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.OnEndedVideo())}),t.qZA()}}const DA=function(r){return{show:r}};function FD(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",4,5),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(1),u=t.oxw();return t.KtG(!u.sharedService.isMobileDevice()&&u.onClickVideoContainer(o))})("touchstart",function(){t.CHM(e);const o=t.MAs(1),u=t.oxw();return t.KtG(u.sharedService.isMobileDevice()&&u.onTouchVideoContainer(o))})("mousemove",function(){t.CHM(e);const o=t.MAs(1),u=t.oxw();return t.KtG(u.onMouseMoveVideoContainer(o))}),t.TgZ(2,"div",6)(3,"section",7,8)(5,"section",9)(6,"button",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeVideo())}),t._UZ(7,"i",11),t.qZA(),t.TgZ(8,"div",12),t._uU(9),t.qZA()(),t.TgZ(10,"div",13)(11,"div",14)(12,"section",15)(13,"button",16)(14,"div",17,18),t._uU(16),t.qZA(),t.TgZ(17,"div",19)(18,"div",20),t.NdJ("contextmenu",function(){t.CHM(e);const o=t.MAs(23),u=t.oxw();return t.KtG(!u.sharedService.isMobileDevice()&&u.onClickSlider(o))})("click",function(){t.CHM(e);const o=t.MAs(23),u=t.oxw();return t.KtG(u.onClickSlider(o))})("touchend",function(){t.CHM(e);const o=t.MAs(23),u=t.oxw();return t.KtG(u.sharedService.isMobileDevice()&&u.onClickSlider(o))})("touchstart",function(o){t.CHM(e);const u=t.MAs(23),p=t.MAs(15),y=t.oxw();return t.KtG(y.sharedService.isMobileDevice()&&y.onTouchStartSlider(o,u,p))})("touchmove",function(o){t.CHM(e);const u=t.MAs(23),p=t.MAs(15),y=t.oxw();return t.KtG(y.sharedService.isMobileDevice()&&y.onTouchMoveSlider(o,u,p))})("mousedown",function(o){t.CHM(e);const u=t.MAs(23),p=t.oxw();return t.KtG(p.onMouseDownSlider(o,u))})("mousemove",function(o){t.CHM(e);const u=t.MAs(23),p=t.oxw();return t.KtG(p.onMouseMoveSlider(o,u))}),t._UZ(19,"div",21,22),t.TgZ(21,"div",23)(22,"div",24,25)(24,"div",26,25),t._UZ(26,"div",27,28),t.qZA()()()()(),t.TgZ(28,"div",17,29),t._uU(30),t.qZA()()(),t.TgZ(31,"section",30)(32,"div",31),t.YNc(33,qp,2,0,"button",32),t.qZA(),t.TgZ(34,"div",33)(35,"div",34),t.YNc(36,SA,2,0,"button",35),t.TgZ(37,"button",36),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onChangeObjectContain())}),t._UZ(38,"i",37),t.qZA(),t.TgZ(39,"button",38),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.toggleFullScreenVideo())}),t._UZ(40,"i",39),t.qZA(),t.TgZ(41,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showSettings())}),t._UZ(42,"i",41),t.qZA()()()(),t.TgZ(43,"div",42)(44,"div",43)(45,"section",44)(46,"button",45),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.rewindVideo())}),t._UZ(47,"i",46),t.qZA(),t.YNc(48,yb,4,0,"button",47),t.YNc(49,Jp,4,0,"button",48),t.TgZ(50,"button",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.forwardVideo())}),t._UZ(51,"i",50),t.qZA()()()()()()(),t.YNc(52,OD,2,3,"div",51),t.YNc(53,LD,11,2,"section",52),t.YNc(54,bb,1,1,"ng-template",53),t.YNc(55,Eb,2,0,"video",54),t.qZA()()}if(2&r){const e=t.MAs(15),n=t.MAs(20),o=t.MAs(29),u=t.oxw();t.xp6(3),t.Q6J("ngClass",t.VKq(23,DA,u.showControls)),t.xp6(6),t.AsE(" ",u.builderVideo.TranscodePrepareVideo.Title," ",u.builderVideo.TranscodePrepareVideo.Subtitle," "),t.xp6(5),t.Udp("visibility",u.showControls?"":"hidden"),t.xp6(2),t.hij(" ",u.getVideoTime()," "),t.xp6(1),t.Udp("width","calc(100% - "+(e.offsetWidth+o.offsetWidth)+"px)"),t.xp6(5),t.Udp("width",n.offsetWidth+"px"),t.xp6(4),t.Udp("width",u.getSliderPogressWidth()),t.xp6(2),t.Udp("visibility",u.showControls?"":"hidden"),t.xp6(2),t.hij(" ",u.getDurationTime()," "),t.xp6(3),t.Q6J("ngIf",u.isEnablePreviousEpisodeButton()),t.xp6(3),t.Q6J("ngIf",u.isEnableNextEpisodeButton()),t.xp6(12),t.Q6J("ngIf",!u.isPlayingVideo()),t.xp6(1),t.Q6J("ngIf",u.isPlayingVideo()),t.xp6(3),t.Q6J("ngIf",!u.loadedData),t.xp6(1),t.Q6J("ngIf",u.showingSettings),t.xp6(1),t.Q6J("ngIf",u.currentSubtitleData),t.xp6(1),t.Q6J("ngIf",u.showVideoTarget)}}let Qp=(()=>{class r{constructor(e,n,o,u,p,y){this.libraryService=e,this.dialog=n,this.restProvider=o,this.sharedService=u,this.ref=p,this.http=y,this.outputCloseVideo=new t.vpe,this._window=window,this.showVideo=!0,this.lastCurrentTime=0,this.showControls=!1,this.currentSubtitleData=void 0,this.haveError=!1,this.currentEpisode={},this.lastClickSeekButton=new Date,this.countSeekSecondsToAdvance=0,this.isUpdatingVideoSource=!1,this.showingSettings=!1,this.listPrincipalSettingsOptions=[{index:0,name:"AUDIO",listOptions:[],selectedOption:null},{index:1,name:"SUBT\xcdTULOS",listOptions:[],selectedOption:null}],this.lastRealVideoTime=0,this.initializeVideo=!1,this.showVideoTarget=!1,this.loadedData=!1,this.beforeUnloadFunction=!1}ngOnInit(){let e=this;this.customMouseOutEvent=function(o){e.sliderContainer&&e.sliderContainer.startMove&&e.onClickSlider(e.sliderContainer)},window.addEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction=function(o){e.deleteAllProcessesAndDirectories()},window.addEventListener("beforeunload",this.beforeUnloadFunction),this.detectChangesInterval=window.setInterval(function(){e.ref.detectChanges()},0),this.updateMediaFilePlaybackInterval=window.setInterval(function(){e.updateMediaFilePlayback()},1e4),this.initializeVideoData()}ngOnDestroy(){this.dashMediaPlayer&&(this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy()),this.hls&&(this.hls.detachMedia(),this.hls.destroy()),this.detectChangesInterval&&window.clearInterval(this.detectChangesInterval),this.updateMediaFilePlaybackInterval&&window.clearInterval(this.updateMediaFilePlaybackInterval),this.customMouseOutEvent&&window.removeEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction&&window.removeEventListener("beforeunload",this.beforeUnloadFunction)}initializeVideoData(){this.sharedService.listProcessGUIDs.push(this.builderVideo.TranscodePrepareVideo.ProcessGUID),this.builderVideo.LoadStatus=_n.Empty,this.restProvider.executeHttpMethodByUrl(Gt.POST,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodeVideos/GetVideoData",this.builderVideo.TranscodePrepareVideo).then(n=>{this.builderVideo.LoadStatus=_n.Generated;const o=Vl().decode(n);let u=JSON.parse(o);this.builderVideo.TranscodeRunVideo=u,this.builderVideo.TranscodePrepareVideo=u.TranscodePrepareVideo,this.initializeStreams(),setTimeout(()=>{this.executeHideControls()},1e3),this.onInitializeVideo()},n=>{this.showLoadVideoErrorActionsDialog(),console.error(n)})}onTouchVideoContainer(e){this.showingSettings||this.sharedService.isMobileDevice()&&this.showControlsTemporarily(e)}onClickVideoContainer(e){this.showingSettings||(e.clicked=!0,setTimeout(()=>{e.clicked=!1},2e3),this.sharedService.isMobileDevice()||this.showControlsTemporarily(e))}onTouchStartSlider(e,n,o){this.sliderContainer=n,n.startMove=!0,this.lastTmpVideoTime=(e.changedTouches[0].clientX-o.offsetWidth-8-4)/n.offsetWidth*100*this.builderVideo.TranscodePrepareVideo.TotalSeconds/100}onTouchMoveSlider(e,n,o){n.startMove&&(this.lastTmpVideoTime=(e.changedTouches[0].clientX-o.offsetWidth-8-4)/n.offsetWidth*100*this.builderVideo.TranscodePrepareVideo.TotalSeconds/100)}goToNextEpisode(){if(this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let e=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber+1,u=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(p=>p.EpisodeNumber==o);if(-1!=u)this.getVideoByEpisode(this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes[u]);else{let p=e+1,y=this.builderVideo.ItemDetail.ListSeasons.findIndex(I=>I.SeasonNumber==p);if(-1!=y){let I=this.builderVideo.ItemDetail.ListSeasons[y];this.builderVideo.ItemDetail.CurrentSeason=I,I&&I.ListEpisodes&&I.ListEpisodes.length&&this.getVideoByEpisode(I.ListEpisodes[0])}}}}getVideoByEpisode(e){this.deleteAllProcessesAndDirectories();var n=this.sharedService.mediaServers.find(p=>p.Id==this.builderVideo.TranscodePrepareVideo.MediaServerId),o=this.libraryService.GetTranscodeVideoFromEpisode(this.builderVideo.ItemDetail,e,n);this.builderVideo.TranscodePrepareVideo=o,this.builderVideo.ItemDetail.ListSeasons&&(this.builderVideo.ItemDetail.CurrentSeason=this.builderVideo.ItemDetail.ListSeasons.find(p=>p.SeasonNumber==e.SeasonNumber),this.builderVideo.ItemDetail.CurrentEpisode=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.find(p=>p.EpisodeNumber==e.EpisodeNumber)),this.lastRealVideoTime=0,this.resetStream(),this.sharedService.listProcessGUIDs.push(this.builderVideo.TranscodePrepareVideo.ProcessGUID),this.builderVideo.LoadStatus=_n.Empty,this.restProvider.executeHttpMethodByUrl(Gt.POST,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodeVideos/GetVideoData",this.builderVideo.TranscodePrepareVideo).then(p=>{this.builderVideo.LoadStatus=_n.Generated;const y=Vl().decode(p);let I=JSON.parse(y);this.builderVideo.TranscodeRunVideo=I,this.builderVideo.TranscodePrepareVideo=I.TranscodePrepareVideo,this.initializeStreams(),this.getVideoSource()},p=>{this.showLoadVideoErrorActionsDialog(),console.error(p)})}goToPreviousEpisode(){if(this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let e=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber-1,u=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(p=>p.EpisodeNumber==o);if(-1!=u)this.getVideoByEpisode(this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes[u]);else{let p=e+1,y=this.builderVideo.ItemDetail.ListSeasons.findIndex(I=>I.SeasonNumber==p);if(-1!=y){let I=this.builderVideo.ItemDetail.ListSeasons[y];this.builderVideo.ItemDetail.CurrentSeason=I,I&&I.ListEpisodes&&I.ListEpisodes.length&&this.getVideoByEpisode(I.ListEpisodes[I.ListEpisodes.length-1])}}}}isEnablePreviousEpisodeButton(){if(this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let e=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber-1;if(-1!=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(p=>p.EpisodeNumber==o))return!0;{let p=e-1,y=this.builderVideo.ItemDetail.ListSeasons.findIndex(I=>I.SeasonNumber==p);if(-1!=y){let I=this.builderVideo.ItemDetail.ListSeasons[y];return!!(I&&I.ListEpisodes&&I.ListEpisodes.length)}return!1}}return!1}isEnableNextEpisodeButton(){if(this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let e=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber+1;if(-1!=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(p=>p.EpisodeNumber==o))return!0;{let p=e+1,y=this.builderVideo.ItemDetail.ListSeasons.findIndex(I=>I.SeasonNumber==p);if(-1!=y){let I=this.builderVideo.ItemDetail.ListSeasons[y];return!!(I&&I.ListEpisodes&&I.ListEpisodes.length)}return!1}}return!1}showSettings(){this.showControls=!1,this.ref.detectChanges(),this.showingSettings=!0,this.ref.detectChanges()}hideSettings(){this.showingSettings=!1,this.ref.detectChanges()}onClickPrincipalSettingsOption(e){this.currentSelectedPrincipalSettingOption=e}onClickStreamOption(e){this.currentSelectedPrincipalSettingOption.selectedOption=e,this.showingSettings=!1,this.ref.detectChanges(),0==this.currentSelectedPrincipalSettingOption.index&&(this.hls.audioTrack=e.index),1==this.currentSelectedPrincipalSettingOption.index&&(1e6==e.index?this.hls.subtitleDisplay=!1:(this.hls.subtitleTrack=e.index,this.hls.subtitleDisplay=!0))}getSubtitle(e){let n=this;this.http.get(e,{responseType:"text"}).subscribe(o=>{o&&(0,Rm.Q)(o)&&(0,Rm.Q)(o).entries?(n.currentSubtitleData=(0,Rm.Q)(o).entries,0==n.currentSubtitleData.length?setTimeout(()=>{n.getSubtitle(e)},1e3):n.ref.detectChanges()):(console.error("No hay data en los subtitulos aun"),setTimeout(()=>{n.getSubtitle(e)},1e3))},o=>{console.error(o),setTimeout(()=>{n.getSubtitle(e)},1e3)})}showSubtitle(){}closeVideo(){document.fullscreenElement&&document.exitFullscreen(),this.deleteAllProcessesAndDirectories(),this.outputCloseVideo.emit(!0)}focusButton(e){e.focus(),this.sharedService.currentSelectedElement=e}ngAfterViewInit(){}getConfirmMessage(){var e="Vacio";switch(this.builderVideo.LoadStatus){case _n.Empty:e="Vac\xedo";break;case _n.Generated:e="Generado";break;case _n.Initialized:e="Inicializado";break;case _n.LoadedMetada:e="Cargado Metadata";break;case _n.LoadedData:e="Cargado Data"}return"Hubo un error al intentar reproducir el video, se quedo con el estado de "+e+", desea intentarlo de nuevo?"}updateAudioAndVideoList(){if(this.listPrincipalSettingsOptions[0].listOptions=[],this.listPrincipalSettingsOptions[0].selectedOption=void 0,this.listPrincipalSettingsOptions[1].listOptions=[],this.listPrincipalSettingsOptions[1].selectedOption=void 0,this.builderVideo.TranscodePrepareVideo.ListAudioStreams&&this.builderVideo.TranscodePrepareVideo.ListAudioStreams.length>0&&(this.builderVideo.TranscodePrepareVideo.ListAudioStreams.forEach(e=>{let n="";"spa"==e.language&&(n="Espa\xf1ol"),"eng"==e.language&&(n="Ingles"),e.title&&(n=n+" ("+e.title+")"),e.name=n}),this.listPrincipalSettingsOptions[0].listOptions=this.builderVideo.TranscodePrepareVideo.ListAudioStreams,this.listPrincipalSettingsOptions[0].selectedOption=this.builderVideo.TranscodePrepareVideo.ListAudioStreams.find(e=>1==e.isDefault)),this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams&&this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams.length>0){this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams.forEach(o=>{let u="";"spa"==o.language&&(u="Espa\xf1ol"),"eng"==o.language&&(u="Ingles"),o.title&&(u=u+" ("+o.title+")"),o.name=u});let e=[];e.push({index:1e6,name:"Ninguno"}),e=e.concat(this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams),this.listPrincipalSettingsOptions[1].listOptions=e;let n=this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams.find(o=>1==o.isDefault);null==n&&(n=e.find(o=>1e6==o.index)),this.listPrincipalSettingsOptions[1].selectedOption=n}this.currentSelectedPrincipalSettingOption=this.listPrincipalSettingsOptions[0]}initializeStreams(){this.updateAudioAndVideoList(),this.lastRealVideoTime=null!=this.builderVideo.TranscodePrepareVideo.CurrentTime?this.builderVideo.TranscodePrepareVideo.CurrentTime:0}updateMediaFilePlayback(){if(null!=this.builderVideo.TranscodePrepareVideo.TotalSeconds){var e=0;this.getCurrentVideoTime()>0&&this.getCurrentVideoTime()<=this.builderVideo.TranscodePrepareVideo.TotalSeconds&&((e=this.getCurrentVideoTime())-20<0?e=0:e-=20);let n={Title:this.builderVideo.TranscodePrepareVideo.Title,MediaFileId:this.builderVideo.TranscodePrepareVideo.VideoId,ProfileId:this.sharedService.currentProfile.Id,DurationTime:this.builderVideo.TranscodePrepareVideo.TotalSeconds,CurrentTime:e};this.builderVideo.TranscodePrepareVideo.Subtitle&&(n.Subtitle=this.builderVideo.TranscodePrepareVideo.Subtitle),this.builderVideo.ItemDetail.CurrentSeason&&(n.SeasonNumber=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber),this.builderVideo.ItemDetail.CurrentEpisode&&(n.EpisodeNumber=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber),this.libraryService.updateMediaFilePlayback(this.builderVideo.TranscodePrepareVideo.MediaServerUrl,n).then(o=>{},o=>{console.error(o)})}}executeHideControls(){this.sliderContainer&&this.sliderContainer.startMove?setTimeout(()=>{this.executeHideControls()},2e3):this.showControls=!1}getDurationTime(){return this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.TotalSeconds?this.getFormatTime(this.builderVideo.TranscodePrepareVideo.TotalSeconds):"00:00:00"}getFormatTime(e){var n=parseInt(e,10),o=Math.floor(n/3600),u=Math.floor((n-3600*o)/60),p=n-3600*o-60*u;return o<10&&(o="0"+o),u<10&&(u="0"+u),p<10&&(p="0"+p),o+":"+u+":"+p}getVideoTime(){if(this.lastTmpVideoTime)return this.getFormatTime(this.lastTmpVideoTime);{let e=this.getCurrentVideoTime();return null!=e&&e>0?this.getFormatTime(e):"00:00:00"}}onMouseDownSlider(e,n){this.sliderContainer=n,n.startMove=!0,this.calculateNewTimeToGo(e,n)}onMouseMoveSlider(e,n){n.startMove&&this.calculateNewTimeToGo(e,n)}calculateNewTimeToGo(e,n){this.lastTmpVideoTime=e.offsetX/n.offsetWidth*100*this.builderVideo.TranscodePrepareVideo.TotalSeconds/100}resetStream(){this.showVideoTarget=!1,this.loadedData=!1,null!=this.dashMediaPlayer&&(this.dashMediaPlayer.resetSettings(),this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy(),this.dashMediaPlayer=void 0),this.hls&&(this.hls.destroy(),this.hls=void 0)}onClickSlider(e){if(this.lastTmpVideoTime){if(e.startMove=!1,this.lastTmpVideoTime>this.getCurrentVideoTime()){let n=this.lastTmpVideoTime-this.getCurrentVideoTime();this.executeForwardVideo(n)}else if(this.lastTmpVideoTime<this.getCurrentVideoTime()){let n=this.getCurrentVideoTime()-this.lastTmpVideoTime;this.executeRewindVideo(n)}this.lastTmpVideoTime=void 0}}updateVideoData(e){this.deleteAllProcessesAndDirectories();let n=fo();this.sharedService.listProcessGUIDs.push(n),this.builderVideo.TranscodePrepareVideo.TimeSpan=e.toString(),this.builderVideo.TranscodePrepareVideo.ProcessGUID=n,this.builderVideo.LoadStatus=_n.Empty,this.restProvider.executeHttpMethodByUrl(Gt.POST,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodeVideos/UpdateVideoData",this.builderVideo.TranscodePrepareVideo).then(u=>{this.builderVideo.LoadStatus=_n.Generated;const p=Vl().decode(u);let y=JSON.parse(p);this.builderVideo.TranscodeRunVideo=y,this.updateAudioAndVideoList(),this.getVideoSource()},u=>{this.showLoadVideoErrorActionsDialog(),console.error(u)})}deleteAllProcessesAndDirectories(){this.sharedService.listProcessGUIDs&&this.sharedService.listProcessGUIDs.length>0&&this.deleteProcessesAndDirectories()}deleteProcessesAndDirectories(){var e=this.sharedService.listProcessGUIDs.join(",");this.restProvider.executeHttpMethodByUrl(Gt.DELETE,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodeVideos?guids="+e).then(o=>{const u=Vl().decode(o);let p=JSON.parse(u);if(p&&p.length>0&&this.sharedService.listProcessGUIDs.length>0)for(var y=0;y<p.length;y++){let I=p[y],G=this.sharedService.listProcessGUIDs.findIndex(ne=>ne==I);-1!=G&&this.sharedService.listProcessGUIDs.splice(G,1)}},o=>{console.error(o)})}getSliderPogressWidth(){if(this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.TotalSeconds){let e=this.builderVideo.TranscodePrepareVideo.TotalSeconds,o=(this.lastTmpVideoTime?this.lastTmpVideoTime:this.getCurrentVideoTime())/e*100;return o>100&&(o=100),o+"%"}return 0}OnEndedVideo(){this.isEnableNextEpisodeButton()&&this.goToNextEpisode()}isPlayingVideo(){return this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==tt.MPEGDASH?!(!this.dashMediaPlayer||this.dashMediaPlayer.isPaused()):!(!this.videoTarget||0!=this.videoTarget.nativeElement.paused)}playOrPauseVideo(){console.log("subtitle tracks"),console.log(this.hls.subtitleTracks),console.log("audio tracks"),console.log(this.hls.audioTracks),this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==tt.MPEGDASH?this.dashMediaPlayer&&(this.dashMediaPlayer.isPaused()?this.dashMediaPlayer.play():this.dashMediaPlayer.pause()):this.videoTarget&&(this.videoTarget.nativeElement.paused?this.videoTarget.nativeElement.play():this.videoTarget.nativeElement.pause())}showVideoInFullScreen(){this.toggleFullScreenVideo()}toggleFullScreenVideo(){document.fullscreenElement||document.body.requestFullscreen&&document.body.requestFullscreen()}displayVideoUsingDash(e){let n=this;this.dashMediaPlayer=qs.MediaPlayer().create(),this.dashMediaPlayer.updateSettings({streaming:{gaps:{jumpGaps:!0,jumpLargeGaps:!0,enableSeekFix:!0,enableStallFix:!0},buffer:{bufferPruningInterval:this.builderVideo.TranscodePrepareVideo.TotalSeconds,bufferToKeep:this.builderVideo.TranscodePrepareVideo.TotalSeconds}}}),this.dashMediaPlayer.initialize(this.videoTarget.nativeElement,e),this.dashMediaPlayer.on(qs.MediaPlayer.events.ERROR,function(o){console.log(o),console.error("hubo un error")}),this.dashMediaPlayer.on(qs.MediaPlayer.events.PLAYBACK_ERROR,function(o){console.log(o),console.error("hubo un error de playback")}),this.dashMediaPlayer.on(qs.MediaPlayer.events.PLAYBACK_WAITING,function(o){console.error("PLAYBACK_WAITING"),console.log(o)}),this.dashMediaPlayer.on(qs.MediaPlayer.events.BUFFER_EMPTY,function(o){console.error("BUFFER_EMPTY"),console.log(o)}),this.dashMediaPlayer.on(qs.MediaPlayer.events.STREAM_INITIALIZED,function(o){console.error("STREAM_INITIALIZED"),n.initializeVideo=!0,console.log(o)}),this.ref.detectChanges(),this.dashMediaPlayer.play(),this.showVideoInFullScreen()}onInitializeVideo(){this.executeInitializeVideo()}getCurrentVideoTime(){return this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==tt.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()?this.lastRealVideoTime+this.dashMediaPlayer.time():this.lastRealVideoTime:this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime?this.lastRealVideoTime+this.videoTarget.nativeElement.currentTime:this.lastRealVideoTime}checkIfDisplaySubtitles(e){let o=1e3*(this.getCurrentVideoTime()-1);return e.from<=o&&e.to>=o}onDeclineReplyVideo(){this.closeVideo()}onConfirmReplyVideo(){this.lastRealVideoTime=this.getCurrentVideoTime()-2>=0?this.getCurrentVideoTime()-2:0,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)}onLoadedMetadata(){this.builderVideo.LoadStatus=_n.LoadedMetada,console.log("onLoadedMetadata")}onLoadedData(){console.log("onLoadedData"),this.builderVideo.LoadStatus=_n.LoadedData,this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play())}onErrorVideo(){console.log("onErrorVideo")}executeInitializeVideo(){this.getVideoSource()}testAnyVideo(){}getVideoSource(){this.http.get(this.builderVideo.TranscodeRunVideo.VideoPath,{headers:void 0,responseType:"blob"}).subscribe(e=>{this.builderVideo.LoadStatus=_n.Initialized,this.showVideoTarget=!0,this.ref.detectChanges(),-1!=this.builderVideo.TranscodeRunVideo.VideoPath.indexOf("mpd")?this.displayVideoUsingDash(this.builderVideo.TranscodeRunVideo.VideoPath):-1!=this.builderVideo.TranscodeRunVideo.VideoPath.indexOf("m3u8")?this.displayVideoUsingHLS(this.builderVideo.TranscodeRunVideo.VideoPath):(this.videoTarget.nativeElement.src=this.builderVideo.TranscodeRunVideo.VideoPath,this.videoTarget.nativeElement.currentTime=this.lastRealVideoTime,this.lastRealVideoTime=0,this.videoTarget.nativeElement.play())},e=>{console.error(e),this.showLoadVideoErrorActionsDialog()})}displayVideoUsingHLS(e){let n=this;setTimeout(()=>{n.builderVideo.LoadStatus!=_n.LoadedData&&n.showLoadVideoErrorActionsDialog()},1e4,n),this.showVideoInFullScreen(),al.isSupported()?(this.hls=new al,this.hls.attachMedia(this.videoTarget.nativeElement),this.hls.loadSource(e),this.hls.on(al.Events.MEDIA_ATTACHED,function(o){console.log("MEDIA_ATTACHED"),console.log(o)}),this.hls.on(al.Events.AUDIO_TRACK_LOADED,function(o){console.log("AUDIO_LOADED"),console.log(o)}),this.hls.on(al.Events.MANIFEST_LOADED,function(o){console.log("MANIFEST_LOADED"),console.log(o)}),this.hls.on(al.Events.MANIFEST_PARSED,function(o){console.log("MANIFEST_PARSED"),console.log(o)}),this.hls.on(al.Events.ERROR,function(o){n.videoTarget.nativeElement.CurrentTime=n.videoTarget.nativeElement.CurrentTime+1,console.error("Ocurrio un error"),console.log(o)})):(this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.src=e,this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play()))}onChangeObjectContain(){"contain"==this.videoTarget.nativeElement.style.objectFit||""==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="cover":"cover"==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="fill":"fill"==this.videoTarget.nativeElement.style.objectFit&&(this.videoTarget.nativeElement.style.objectFit="contain")}callUpdateVideoData(e){let n=fo();this.lastTimeSpanChangeGUID=n,setTimeout(()=>{n==this.lastTimeSpanChangeGUID&&this.updateVideoData(e)},1e3)}rewindVideo(){this.executeRewindVideo(10)}executeRewindVideo(e){this.initializeVideo=!1;let n=0;n=this.getCurrentVideoTime()-e>=0?e:this.getCurrentVideoTime(),this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==tt.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()>n?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()-n):(this.lastRealVideoTime=this.getCurrentVideoTime()-n,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.currentTime>n?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime-n:(this.lastRealVideoTime=this.getCurrentVideoTime()-n,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}forwardVideo(){this.executeForwardVideo(10)}executeForwardVideo(e){if(this.initializeVideo=!1,this.getCurrentVideoTime()<this.builderVideo.TranscodePrepareVideo.TotalSeconds){let n=0;n=this.getCurrentVideoTime()+e>this.builderVideo.TranscodePrepareVideo.TotalSeconds?this.builderVideo.TranscodePrepareVideo.TotalSeconds>this.getCurrentVideoTime()?this.builderVideo.TranscodePrepareVideo.TotalSeconds-this.getCurrentVideoTime():0:e,this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==tt.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.duration()-this.dashMediaPlayer.time()>=n?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()+n):(this.lastRealVideoTime=this.getCurrentVideoTime()+n,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.duration&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.duration-this.videoTarget.nativeElement.currentTime>=n?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime+n:(this.lastRealVideoTime=this.getCurrentVideoTime()+n,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}}onMouseMoveVideoContainer(e){!this.showControls&&!e.clicked&&!this.showingSettings&&this.showControlsTemporarily(e)}executeShowControlsTemporarily(e,n){this.showControls=!0,this.ref.detectChanges(),setTimeout(()=>{e.guid==n&&this.executeHideControls()},2e3)}showControlsTemporarily(e){if(!this.showControls){let n=fo();e.guid=n,this.sharedService.isMobileDevice()?setTimeout(()=>{this.executeShowControlsTemporarily(e,n)},250):this.executeShowControlsTemporarily(e,n)}}toogleVideoControls(e){this.showControls?this.showControls=!0:this.showControlsTemporarily(e)}showLoadVideoErrorActionsDialog(){var e=new vn.vA;e.disableClose=!0,e.data={title:"Mensaje",message:this.getConfirmMessage(),actions:[{text:"No",key:"No"},{text:"Si",key:"Si"}]},this.dialog.open(gb,e).afterClosed().subscribe(n=>{"Si"==n.key&&this.onConfirmReplyVideo(),"No"==n.key&&this.onDeclineReplyVideo()})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(ra),t.Y36(vn.uw),t.Y36(Bt),t.Y36(Ot),t.Y36(t.sBO),t.Y36(le))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-video"]],viewQuery:function(n,o){if(1&n&&(t.Gf(_b,5),t.Gf(AD,5),t.Gf(wD,5),t.Gf(vb,5)),2&n){let u;t.iGM(u=t.CRH())&&(o.controlsContainer=u.first),t.iGM(u=t.CRH())&&(o.settingsContainer=u.first),t.iGM(u=t.CRH())&&(o.videoPrincipalContainer=u.first),t.iGM(u=t.CRH())&&(o.videoTarget=u.first)}},inputs:{builderVideo:"builderVideo"},outputs:{outputCloseVideo:"outputCloseVideo"},decls:4,vars:1,consts:[[1,"sinovad-container-video"],["id","videoPrincipalContainer",1,"sinovad-video-principal-container","sinovad-custom-container",2,"width","100%","height","100%"],["videoPrincipalContainer",""],["class","sinovad-video-container",3,"click","touchstart","mousemove",4,"ngIf"],[1,"sinovad-video-container",3,"click","touchstart","mousemove"],["videoContainer",""],[1,"sinovad-full-screen-video-container"],["tabindex","0",1,"sinovad-controls-container",3,"ngClass"],["controlsContainer",""],["id","videoHeaderSection","tabindex","0",1,"sinovad-video-header-section"],["id","backVideoButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-chevron-left"],[1,"sinovad-video-header-section-title-container"],[1,"sinovad-full-screen-video-popup-footer"],[2,"width","100%"],["id","section_progress_bar",1,"sinovad-progress-bar-container"],["id","sliderButton",1,"sinovad-progress-bar"],[1,"sinovad-current-time"],["controlLeft",""],[1,"sinovad-slider-container"],["tabindex","-1",1,"sinovad-slider-content",3,"contextmenu","click","touchend","touchstart","touchmove","mousedown","mousemove"],[1,"sinovad-slider-fills"],["silderFills",""],[2,"width","0px"],[1,"sinovad-slider-fills-progress-container"],["sliderContainer",""],[1,"sinovad-slider-fills-progress-content"],[1,"sinovad-slider-fills-progress"],["silderProgress",""],["controlRight",""],["id","section_video_secondary_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-episode-buttons-section","sinovad-section"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-left"],["id","previousButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-right"],[2,"display","flex","align-items","center","float","right"],["id","nextButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],["id","aspectRatio",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-maximize"],["id","fullScreenButton",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-expand"],["id","settingsOption",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-gear"],[1,"sinovad-section",2,"display","flex","height","50px"],[1,"sinovad-full-screen-video-popup-footer-center"],["id","section_video_principal_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-footer-center-content"],["id","rewindButton",1,"sinovad-video-control-button",2,"margin-right","25px",3,"click"],[1,"fa-solid","fa-rotate-left"],["id","playButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","stopButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","forwardButton",1,"sinovad-video-control-button",2,"margin-left","25px",3,"click"],[1,"fa-solid","fa-rotate-right"],["class","sinovad-loading-video",3,"ngClass",4,"ngIf"],["class","easy-media-settings-section-container","tabindex","0",4,"ngIf"],[3,"ngIf"],["id","video","class","sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended",4,"ngIf"],["id","previousButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-backward-step"],["id","nextButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-forward-step"],["id","playButton",1,"sinovad-video-control-button","principal",3,"click"],["playButton",""],["src","",2,"display","none",3,"error"],[1,"fa-solid","fa-play"],["id","stopButton",1,"sinovad-video-control-button","principal",3,"click"],["stopButton",""],[1,"fa-solid","fa-pause"],[1,"sinovad-loading-video",3,"ngClass"],["tabindex","0",1,"easy-media-settings-section-container"],["settingsContainer",""],[1,"easy-media-settings-section-content"],["id","section_settings_back_button","tabindex","0",1,"sinovad-settings-options-header-section"],[1,"sinovad-settings-section-container-left"],[1,"sinovad-settings-section-content-left"],["id","closeSettings",1,"sinovad-video-control-button",3,"click"],["id","streams_options_section","tabindex","0",1,"sinovad-settings-options-section"],["ngFor","",3,"ngForOf"],["class","sinovad-settings-suboptions-section","tabindex","0",3,"id",4,"ngIf"],[3,"id","ngClass","click"],["tabindex","0",1,"sinovad-settings-suboptions-section",3,"id"],[1,"sinovad-subtitles-forzed-section",3,"innerHtml"],["id","video",1,"sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended"],["videoTarget",""]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1,2),t.YNc(3,FD,56,25,"div",3),t.qZA()()),2&n&&(t.xp6(3),t.Q6J("ngIf",o.showVideo))},dependencies:[g.mk,g.sg,g.O5],styles:[".sinovad-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:1054;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}video[_ngcontent-%COMP%]::cue{background-color:transparent;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-loading-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;padding-bottom:0;left:0;background-color:#000;z-index:9999;display:flex;align-items:center;justify-content:center;font-size:30px;color:#fff}.sinovad-loading-video.show-controls[_ngcontent-%COMP%]{padding-bottom:300px;top:150px}.easy-media-settings-section-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:auto;background:rgba(0,0,0,.5);padding:0 0 50px;z-index:99999}.easy-media-settings-section-content[_ngcontent-%COMP%]{display:block}.sinovad-settings-options-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:48px;border-bottom:1px solid #dedede;margin-bottom:50px}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:20px;background-color:transparent;border:none;font-size:30px;border-radius:5px;cursor:pointer}.sinovad-settings-options-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:40px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:10px;background-color:transparent;border:none;font-size:30px;cursor:pointer;margin-right:6px;border-radius:5px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-full-screen-video-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.sinovad-full-screen-video-popup[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-video-header-section[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5);padding-left:10px;padding-top:10px}.sinovad-full-screen-video-popup-footer[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;padding-left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5)}.sinovad-progress-bar-container[_ngcontent-%COMP%]{width:100%;outline:none}.sinovad-progress-bar[_ngcontent-%COMP%]{height:40px;pointer-events:auto;position:relative;width:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px;border:none;border-radius:0;outline:none;background:transparent;opacity:.7}.sinovad-progress-bar[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-slider-container[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;height:100%;pointer-events:auto;position:relative;touch-action:none;padding-left:8px;padding-right:8px;border:none;border-radius:0;outline:none;background:transparent}.sinovad-slider-content[_ngcontent-%COMP%]{height:100%;padding-top:20px;cursor:pointer;outline:none}.sinovad-slider-fills[_ngcontent-%COMP%]{height:3px;overflow:hidden;pointer-events:none;width:100%;background:white;opacity:.5}.sinovad-slider-fills-progress-container[_ngcontent-%COMP%]{position:relative}.sinovad-slider-fills-progress-content[_ngcontent-%COMP%]{width:100%;height:8px;margin-top:-6px}.sinovad-slider-fills-progress[_ngcontent-%COMP%]{cursor:pointer;background:white;height:100%;width:0%}.sinovad-settings-options-header-section[_ngcontent-%COMP%]{display:flex;margin-left:10px;margin-top:10px}.sinovad-settings-section-container-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;float:left}.sinovad-settings-section-content-left[_ngcontent-%COMP%]{position:relative}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-controls-container[_ngcontent-%COMP%]{z-index:-99;pointer-events:none}.sinovad-controls-container.show[_ngcontent-%COMP%]{z-index:unset;pointer-events:unset}.sinovad-custom-video[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-full-screen-video-popup-episode-buttons-section[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:40px}.sinovad-full-screen-video-popup-episode-buttons-section-left[_ngcontent-%COMP%]{display:block;float:left;width:100%;padding-left:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]{display:block;float:right;width:100%;padding-right:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]   .sinovad-video-control-button[_ngcontent-%COMP%]{float:right}.sinovad-full-screen-video-popup-footer-left[_ngcontent-%COMP%]{display:block;float:left;width:170px}.sinovad-full-screen-video-popup-footer-left-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;color:#fff}.sinovad-current-time[_ngcontent-%COMP%]{color:#fff;font-size:25px}.sinovad-full-screen-video-popup-footer-center[_ngcontent-%COMP%]{display:block;float:left;width:100%}.sinovad-full-screen-video-popup-footer-center-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;justify-content:center}.sinovad-full-screen-video-popup-footer-right[_ngcontent-%COMP%]{width:100px;display:block;float:right}.sinovad-full-screen-video-popup-footer-right-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:right;height:100%}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;justify-content:center;width:100%;padding-right:70px}.sinovad-subtitles-forzed-section[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:10px;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;color:#fff;padding:10px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:6px;font-size:18px;font-weight:700}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#fff;color:#000;height:30px;font-size:18px;border-radius:5px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff;color:#000}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:25px}.sinovad-video-control-button[_ngcontent-%COMP%]{color:#fff;background:transparent;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:10px;opacity:.9;font-size:25px;border-radius:100px;min-width:45px}.sinovad-video-control-button[_ngcontent-%COMP%]:hover{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus-visible{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus{background:white;color:#000;opacity:1}@media only screen and (min-width: 2048px){.sinovad-video-control-button[_ngcontent-%COMP%], .sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:35px}}@media only screen and (max-width: 767px){video[_ngcontent-%COMP%]::cue{font-size:25px}}"]})}return r})(),Xp=(()=>{class r{constructor(e,n,o,u){this.router=e,this.factoryResolver=n,this.injector=o,this.applicationRef=u,this.video$=new Xi.x}show(e){null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const o=this.factoryResolver.resolveComponentFactory(Qp).create(this.injector);this.lastViewRef=o.hostView,this.applicationRef.attachView(o.hostView);let u=this;o.instance.builderVideo=e,o.instance.outputCloseVideo.subscribe(I=>{u.router.navigateByUrl("/home"),o.destroy(),u.applicationRef.detachView(o.hostView)});const p=o.hostView.rootNodes[0];document.getElementById("sinovadMainContainer").appendChild(p)}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(kn.F0),t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function UD(r,i){if(1&r&&t._UZ(0,"img",9),2&r){const e=t.oxw();t.Q6J("src",e.sharedService.getUrlByItemDetailMovieDataBase(e.detail),t.LSH)}}function eg(r,i){if(1&r&&(t.TgZ(0,"div",10)(1,"button",11)(2,"div",12),t._uU(3),t.qZA(),t.TgZ(4,"div",13),t._uU(5),t.qZA()()()),2&r){const e=t.oxw();t.xp6(3),t.hij(" ",e.title," "),t.xp6(2),t.hij(" ",e.subtitle," ")}}function jD(r,i){if(1&r&&(t.TgZ(0,"div",18)(1,"span",23),t._uU(2,"Director: "),t.qZA(),t.TgZ(3,"span",24),t._uU(4),t.qZA()()),2&r){const e=t.oxw(3);t.xp6(4),t.Oqu(e.detail.MediaItem.Directors)}}function VD(r,i){if(1&r&&(t.TgZ(0,"div",18)(1,"span",23),t._uU(2,"Reparto: "),t.qZA(),t.TgZ(3,"span",24),t._uU(4),t.qZA()()),2&r){const e=t.oxw(3);t.xp6(4),t.Oqu(e.detail.MediaItem.Actors)}}function Tb(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"div")(2,"button",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.continueVideo())}),t._uU(3,"Continuar"),t.qZA()(),t.TgZ(4,"div",26),t._UZ(5,"div",27),t.qZA(),t.TgZ(6,"div",28),t._uU(7),t.qZA()()}if(2&r){const e=t.oxw(3);t.xp6(5),t.Udp("width",e.getWidthProgressItem(e.lastEpisodeWatched)),t.xp6(2),t.hij(" ",e.lastEpisodeWatched.Subtitle," ")}}function Sb(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.showVideo())}),t._uU(1,"Ver desde el principio"),t.qZA(),t.TgZ(2,"button",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.continueVideo())}),t._uU(3,"Continuar viendo"),t.qZA()}}function xA(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.showVideo())}),t._UZ(1,"i",31),t._uU(2," Ver ahora "),t.qZA()}}function GD(r,i){if(1&r&&(t.YNc(0,Sb,4,0,"ng-template",15),t.YNc(1,xA,3,0,"ng-template",15)),2&r){const e=t.oxw(3);t.Q6J("ngIf",e.itemUserData),t.xp6(1),t.Q6J("ngIf",!e.itemUserData)}}function Ff(r,i){if(1&r&&(t.TgZ(0,"div",32),t._uU(1),t.qZA()),2&r){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.detail.MediaItem.Overview," ")}}function MA(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"img",46),t.NdJ("error",function(){t.CHM(e),t.oxw();const o=t.MAs(12),u=t.MAs(7),p=t.MAs(18),y=t.oxw(3);return t.KtG(y.onInitializeItemsRow(o,u,p))}),t.qZA()}}const HD=function(r){return{selected:r}};function AA(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",47)(1,"button",48),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw(4);return t.KtG(p.onClickSeason(u))}),t.TgZ(2,"span"),t._uU(3),t.qZA()()()}if(2&r){const e=i.$implicit,n=t.oxw(4);t.xp6(1),t.MGl("id","section_season_",e.SeasonNumber,""),t.Q6J("ngClass",t.VKq(3,HD,e.SeasonNumber==n.detail.CurrentSeason.SeasonNumber)),t.xp6(2),t.Oqu(e.Name)}}function wA(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"section",49)(1,"button",50),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw(4);return t.KtG(p.onClickEpisode(u))}),t.TgZ(2,"div",51),t._UZ(3,"img",9),t.qZA(),t.TgZ(4,"div",52)(5,"div",53),t._uU(6),t.qZA(),t.TgZ(7,"div",54),t._uU(8),t.qZA()()()()}if(2&r){const e=i.$implicit,n=t.oxw(4);t.hYB("id","section_episode_s",e.SeasonNumber,"_e",e.EpisodeNumber,""),t.xp6(1),t.hYB("id","button_episode_s",e.SeasonNumber,"_e",e.EpisodeNumber,""),t.xp6(2),t.Q6J("src",n.getEpisodeImagePath(e),t.LSH),t.xp6(3),t.AsE(" ",e.EpisodeNumber,". ",e.Name," "),t.xp6(2),t.hij(" ",e.Overview," ")}}function YD(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",33)(1,"div"),t._uU(2," EPISODIOS "),t.qZA(),t.TgZ(3,"div",34),t.YNc(4,MA,1,0,"img",35),t.TgZ(5,"div",2)(6,"div",36,37),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),u=t.MAs(7),p=t.MAs(18),y=t.oxw(3);return t.KtG(y.onClickButtonLeftScroll(o,u,p))}),t._UZ(8,"img",9),t.ALo(9,"async"),t.ALo(10,"formatDataPipe"),t.qZA()(),t.TgZ(11,"div",38,39)(13,"section",40,41),t.YNc(15,AA,4,5,"ng-template",42),t.qZA()(),t.TgZ(16,"div",2)(17,"div",43,44),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),u=t.MAs(7),p=t.MAs(18),y=t.oxw(3);return t.KtG(y.onClickButtonRightScroll(o,u,p))}),t._UZ(19,"img",9),t.ALo(20,"async"),t.ALo(21,"formatDataPipe"),t.qZA()()(),t.TgZ(22,"div",45),t.YNc(23,wA,9,8,"ng-template",42),t.qZA()()}if(2&r){const e=t.oxw(3);t.xp6(4),t.Q6J("ngIf",!e.startResize),t.xp6(4),t.Q6J("src",t.lcZ(9,5,t.xi3(10,7,"left.png","GetImageURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngForOf",e.detail.ListSeasons),t.xp6(4),t.Q6J("src",t.lcZ(20,10,t.xi3(21,12,"right.png","GetImageURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngForOf",e.detail.CurrentSeason.ListEpisodes)}}function IA(r,i){if(1&r&&(t.TgZ(0,"div",16)(1,"div",17),t._uU(2),t.qZA(),t.TgZ(3,"div",18),t._uU(4),t.qZA(),t.YNc(5,jD,5,1,"div",19),t.YNc(6,VD,5,1,"div",19),t.TgZ(7,"section",20),t.YNc(8,Tb,8,3,"ng-template",15),t.YNc(9,GD,2,2,"ng-template",15),t.qZA(),t.YNc(10,Ff,2,1,"div",21),t.YNc(11,YD,24,15,"div",22),t.qZA()),2&r){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.detail.MediaItem.Title," "),t.xp6(2),t.hij(" ",e.detail.MediaItem.Genres," "),t.xp6(1),t.Q6J("ngIf",e.detail.MediaItem.Directors),t.xp6(1),t.Q6J("ngIf",e.detail.MediaItem.Actors),t.xp6(2),t.Q6J("ngIf",e.lastEpisodeWatched),t.xp6(1),t.Q6J("ngIf",!e.lastEpisodeWatched),t.xp6(1),t.Q6J("ngIf",!e.lastEpisodeWatched),t.xp6(1),t.Q6J("ngIf",e.detail.ListSeasons&&e.detail.ListSeasons.length>0)}}function OA(r,i){if(1&r&&(t.TgZ(0,"div",14),t.YNc(1,IA,12,8,"ng-template",15),t.qZA()),2&r){const e=t.oxw();t.Udp("height",e.title?"calc(100% - 65px)":"100%"),t.xp6(1),t.Q6J("ngIf",e.detail)}}let KD=(()=>{class r extends Pm{constructor(e,n,o,u,p,y){super(n,y),this.libraryService=e,this.activeRoute=n,this.router=o,this.videoService=u,this.ref=p,this.sharedService=y,this._window=window,this.startResize=!1}ngOnInit(){this.initializeHeaderData();let e=this.activeRoute.snapshot.queryParams.mediaId;e?this.libraryService.getMediaItemDetail(this.mediaServer.Url,e).then(n=>{this.detail=n,this.detail.CurrentSeason=this.detail.ListSeasons[0]},n=>{this.router.navigate(["404"],{skipLocationChange:!1})}):this.router.navigate(["404"],{skipLocationChange:!1})}getEpisodeImagePath(e){return this.detail.MediaItem.MetadataAgentsId==kt.TMDb&&e.StillPath?this.sharedService.urlEpisodeDataBase+e.StillPath:this.sharedService.getUrlByItemDetailMovieDataBase(this.detail)}verifyIfShoOrHiddenScrollButtons(e,n,o){n.style.display=e.scrollLeft<=0?"none":"flex",o.style.display=e.scrollWidth==e.scrollLeft+e.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(e,n,o){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(e,n,o)},250)}onClickButtonLeftScroll(e,n,o){e.scrollLeft=e.scrollLeft-20,this.verifyIfShoOrHiddenScrollButtons(e,n,o)}onClickButtonRightScroll(e,n,o){e.scrollLeft=e.scrollLeft+20,this.verifyIfShoOrHiddenScrollButtons(e,n,o)}getWidthProgressItem(e){return e.CurrentTime/e.DurationTime*100+"%"}continueVideo(){}showVideo(){if(this.detail.MediaItem.MediaTypeId==Ke.Movie)this.getVideosByItem();else if(this.detail.ListSeasons&&this.detail.ListSeasons.length>0){let e=this.detail.ListSeasons[0];e.ListEpisodes&&e.ListEpisodes.length>0&&this.getVideoByEpisode(e.ListEpisodes[0])}}getVideosByItem(){this.videoService.show(this.libraryService.CreateBuilderVideoFromItem(this.detail,this.mediaServer))}onClickSeason(e){this.detail.CurrentSeason=e}onClickEpisode(e){this.getVideoByEpisode(e)}getVideoByEpisode(e){this.videoService.show(this.libraryService.CreateBuilderVideoFromEpisode(this.detail,e,this.mediaServer))}onResize(e){setTimeout(()=>{this.startResize=!0,this.ref.detectChanges(),this.startResize=!1,this.ref.detectChanges()},100)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(ra),t.Y36(kn.gz),t.Y36(kn.F0),t.Y36(Xp),t.Y36(t.sBO),t.Y36(Ot))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-detail"]],hostBindings:function(n,o){1&n&&t.NdJ("resize",function(p){return o.onResize(p)},!1,t.Jf7)},features:[t.qOj],decls:9,vars:5,consts:[[1,"media-principal-section"],["container",""],[2,"width","0px","height","0px"],[1,"sinovad-item-view-background-container"],[2,"position","fixed"],[3,"src",4,"ngIf"],[1,"media-container"],["class","media-header",4,"ngIf"],["class","sinovad-item-view-container sinovad-custom-container",3,"height",4,"ngIf"],[3,"src"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[1,"subtitle"],[1,"sinovad-item-view-container","sinovad-custom-container"],[3,"ngIf"],[1,"sinovad-item-view-principal-section"],[1,"sinovad-item-view-title-container"],[1,"sinovad-item-view-subtitle-container"],["class","sinovad-item-view-subtitle-container",4,"ngIf"],["id","section_principal_buttons",1,"sinovad-item-view-principal-button-container","sinovad-section"],["class","sinovad-item-view-summary-container",4,"ngIf"],["class","sinovad-item-view-seasons-container",4,"ngIf"],[2,"font-weight","bold"],[2,"font-weight","normal"],["id","continue_play",1,"",3,"click"],[1,"sinovad-item-progress-bar-container",2,"width","300px"],[1,"sinovad-item-progress-bar-content"],[2,"margin-top","5px"],["id","restart_play",1,"",3,"click"],["id","play_now",1,"",3,"click"],[1,"fa-solid","fa-play","me-1"],[1,"sinovad-item-view-summary-container"],[1,"sinovad-item-view-seasons-container"],[1,"sinovad-list-row-container"],["style","display:none;","src","",3,"error",4,"ngIf"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[1,"sinovad-list-row","sinovad-section"],["itemsRowContainer",""],["id","section_seasons",1,"sinovad-list-content"],["content",""],["ngFor","",3,"ngForOf"],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-view-episodes-container"],["src","",2,"display","none",3,"error"],[1,"sinovad-season-container"],[1,"sinovad-season-button",3,"id","ngClass","click"],[1,"sinovad-section",3,"id"],[1,"sinovad-episode-button",3,"id","click"],[1,"sinovad-episode-image-section"],[1,"sinovad-episode-detail-section"],[1,"sinovad-episode-title-section"],[1,"sinovad-overview-section"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4),t.YNc(5,UD,1,1,"img",5),t.qZA()()(),t.TgZ(6,"div",6),t.YNc(7,eg,6,2,"div",7),t.YNc(8,OA,2,3,"div",8),t.qZA()()),2&n){const u=t.MAs(1);t.xp6(4),t.Udp("width",u.clientWidth+"px"),t.xp6(1),t.Q6J("ngIf",o.detail),t.xp6(2),t.Q6J("ngIf",o.title),t.xp6(1),t.Q6J("ngIf",o.detail)}},dependencies:[g.mk,g.sg,g.O5,g.Ov,To],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-episode-button[_ngcontent-%COMP%]{width:100%;cursor:pointer;display:flex;border-radius:5px;margin-bottom:15px;padding:0;border:none;background:transparent}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;font-weight:400;overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:10}.sinovad-episode-title-section[_ngcontent-%COMP%]{margin-bottom:10px;overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:1}.sinovad-episode-image-section[_ngcontent-%COMP%]{display:block}.sinovad-episode-detail-section[_ngcontent-%COMP%]{display:block;background-color:transparent;color:#fff;padding:20px;text-align:left;width:100%}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:10px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-item-view-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden;outline:none}.sinovad-item-view-title-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:50px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-background-container[_ngcontent-%COMP%]{position:relative}.sinovad-item-view-background-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;width:100%;opacity:.5}.sinovad-item-view-seasons-container[_ngcontent-%COMP%]{position:relative;width:100%;font-size:20px;color:#fff;padding-right:20px;padding-left:20px;padding-top:20px;font-weight:700}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:82px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.4;max-width:unset;height:110px;display:none}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:82px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:110px;display:none;opacity:.4}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;width:100%}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-season-container[_ngcontent-%COMP%]{padding-right:10px}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;text-align:center;display:flex;align-items:center;justify-content:center;cursor:pointer;padding:10px 10px 4px;background:transparent;border:none}.sinovad-season-button[_ngcontent-%COMP%]:hover{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus-visible{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus{border-bottom:4px solid #007bff!important}.sinovad-season-button.selected[_ngcontent-%COMP%]{border-bottom:4px solid #007bff}button[_ngcontent-%COMP%]{font-size:25px}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{display:none!important}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;border:4px solid transparent}.sinovad-episode-button[_ngcontent-%COMP%]:hover   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-button[_ngcontent-%COMP%]:focus-visible   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-button[_ngcontent-%COMP%]:focus   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:15px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:13px;-webkit-line-clamp:7}.sinovad-season-button[_ngcontent-%COMP%]{font-size:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:16px;border:none;background:white;color:#000;font-weight:700;padding:8px 20px;border-radius:5px;margin-right:10px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background:#007bff;color:#fff}.sinovad-item-view-summary-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;color:#fff;padding:20px;font-size:16px}@media only screen and (min-width: 2048px){.sinovad-item-view-summary-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:50px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{font-size:25px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:300px}.sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:25px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;-webkit-line-clamp:10}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px}}@media only screen and (max-width: 767px){.sinovad-episode-button[_ngcontent-%COMP%]{display:block;text-align:left;margin-bottom:20px}.sinovad-episode-detail-section[_ngcontent-%COMP%]{padding:0 8px}.sinovad-episode-image-section[_ngcontent-%COMP%]{margin-bottom:10px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset;width:100%;max-height:410px;object-fit:cover;object-position:top}.sinovad-episode-title-section[_ngcontent-%COMP%]{-webkit-line-clamp:2}.sinovad-episode-button[_ngcontent-%COMP%]:hover   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.sinovad-episode-button[_ngcontent-%COMP%]:focus-visible   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.sinovad-episode-button[_ngcontent-%COMP%]:focus   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media only screen and (max-width: 575px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:320px}}@media only screen and (max-width: 475px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:260px}}@media only screen and (max-width: 375px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px}}"]})}return r})();function PA(r,i){if(1&r&&(t.TgZ(0,"div",5)(1,"button",6)(2,"div",7),t._uU(3),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.qZA()()()),2&r){const e=t.oxw();t.xp6(3),t.hij(" ",e.title," "),t.xp6(2),t.hij(" ",e.subtitle," ")}}function RA(r,i){if(1&r&&(t.TgZ(0,"div",30)(1,"div",31),t._UZ(2,"div",32),t.qZA()()),2&r){const e=t.oxw().$implicit,n=t.MAs(2),o=t.oxw(3);t.xp6(1),t.Udp("width",n.clientWidth-8+"px"),t.xp6(1),t.Udp("width",o.getWidthProgressItem(e))}}function WD(r,i){if(1&r&&(t.TgZ(0,"div",33)(1,"span"),t._uU(2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.Title)}}function NA(r,i){if(1&r&&(t.TgZ(0,"div")(1,"div",34)(2,"span"),t._uU(3),t.qZA()()()),2&r){const e=t.oxw().$implicit;t.xp6(3),t.AsE("",e.Title," ",e.Subtitle,"")}}function LA(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",23)(1,"button",24,25),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw(3);return t.KtG(p.onClickItem(u))}),t._UZ(3,"img",26),t.YNc(4,RA,3,4,"ng-template",27),t.qZA(),t.YNc(5,WD,3,1,"div",28),t.YNc(6,NA,4,2,"div",29),t.qZA()}if(2&r){const e=i.$implicit,n=t.oxw(3);t.xp6(1),t.hYB("id","item_",e.TvSerieId?e.TvSerieId:e.MovieId,"_",e.MediaType,""),t.xp6(2),t.Q6J("src",n.sharedService.getUrlByItemMovieDataBase(e),t.LSH),t.xp6(1),t.Q6J("ngIf",e.CurrentTime&&e.DurationTime),t.xp6(1),t.Q6J("ngIf",!e.Subtitle),t.xp6(1),t.Q6J("ngIf",e.Subtitle)}}function kA(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"section",10)(1,"div",11)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"div",12)(5,"div",13)(6,"div",14,15),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),u=t.MAs(7),p=t.MAs(18),y=t.oxw(2);return t.KtG(y.onClickButtonLeftScroll(o,u,p))}),t._UZ(8,"img",16),t.ALo(9,"async"),t.ALo(10,"formatDataPipe"),t.qZA()(),t.TgZ(11,"div",17,18)(13,"div",19,20),t.YNc(15,LA,7,6,"ng-template",4),t.qZA()(),t.TgZ(16,"div",13)(17,"div",21,22),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),u=t.MAs(7),p=t.MAs(18),y=t.oxw(2);return t.KtG(y.onClickButtonRightScroll(o,u,p))}),t._UZ(19,"img",16),t.ALo(20,"async"),t.ALo(21,"formatDataPipe"),t.qZA()()()()}if(2&r){const e=t.oxw().$implicit;t.MGl("id","section_",e.Id,""),t.xp6(3),t.Oqu(e.Name),t.xp6(5),t.Q6J("src",t.lcZ(9,5,t.xi3(10,7,"scroll-left.png","GetImageURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngForOf",e.ListItems),t.xp6(4),t.Q6J("src",t.lcZ(20,10,t.xi3(21,12,"scroll-right.png","GetImageURLByKey")),t.LSH)}}function FA(r,i){if(1&r&&t.YNc(0,kA,22,15,"section",9),2&r){const e=i.$implicit;t.Q6J("ngIf",e.ListItems&&e.ListItems.length>0)}}let gc=(()=>{class r extends Pm{constructor(e,n,o,u,p,y,I){super(n,I),this.libraryService=e,this.activeRoute=n,this.router=o,this.videoService=u,this.restProvider=p,this.ref=y,this.sharedService=I,this.showLoadingApp=!0,this.itemsGroupList=[],this._window=window,this.subscriptionUpdatingLibraries=this.libraryService.isUpdatingLibraries().subscribe(G=>{this.initializeData()}),this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){this.initializeData()}ngAfterViewInit(){}ngOnDestroy(){this.subscriptionUpdatingLibraries.unsubscribe()}initializeData(){this.sharedService.mediaServers&&this.sharedService.mediaServers.length>0&&(window.location.pathname.endsWith("home")?this.sharedService.mediaServers.forEach(e=>{try{e.isSecureConnection?this.libraryService.getAllMediaItems(e.Url,this.sharedService.currentProfile.Id).then(n=>{this.setItemsInGroup(e.Id,n)},n=>{}):this.clearItemsInGroup(e.Id)}catch{}}):window.location.pathname.endsWith("movies")?(this.title="Pel\xedculas",this.sharedService.mediaServers.forEach(e=>{e.isSecureConnection?this.libraryService.getMediaItemsByMediaType(e.Url,Ke.Movie,this.sharedService.currentProfile.Id).then(n=>{this.setItemsInGroup(e.Id,n)},n=>{console.error(n)}):this.clearItemsInGroup(e.Id)})):window.location.pathname.endsWith("tvseries")?(this.title="Series de TV",this.sharedService.mediaServers.forEach(e=>{e.isSecureConnection?this.libraryService.getMediaItemsByMediaType(e.Url,Ke.TvSerie,this.sharedService.currentProfile.Id).then(n=>{this.setItemsInGroup(e.Id,n)},n=>{console.error(n)}):this.clearItemsInGroup(e.Id)})):(this.initializeHeaderData(),null!=this.mediaServer&&(this.mediaServer.isSecureConnection?null!=this.library?this.libraryService.getMediaItemsByLibrary(this.mediaServer.Url,this.library.Id,this.sharedService.currentProfile.Id).then(e=>{this.setItemsInGroup(this.mediaServer.Id,e)},e=>{console.error(e)}):this.libraryService.getAllMediaItems(this.mediaServer.Url,this.sharedService.currentProfile.Id).then(e=>{this.setItemsInGroup(this.mediaServer.Id,e)},e=>{console.error(e)}):this.clearItemsInGroup(this.mediaServer.Id))))}setItemsInGroup(e,n){n.forEach(o=>{var u=this.itemsGroupList.find(p=>p.MediaServerId==e&&p.Id==o.Id);null==u?this.itemsGroupList.push(o):u.ListItems=o.ListItems})}clearItemsInGroup(e){var n=this.itemsGroupList.filter(o=>o.MediaServerId==e);n&&n.length>0&&n.forEach(o=>{o.ListItems=[]})}getWidthProgressItem(e){return e.CurrentTime/e.DurationTime*100+"%"}onClickButtonLeftScroll(e,n,o){e.scrollLeft=e.scrollLeft-300,this.verifyIfShoOrHiddenScrollButtons(e,n,o)}onClickButtonRightScroll(e,n,o){e.scrollLeft=e.scrollLeft+300,this.verifyIfShoOrHiddenScrollButtons(e,n,o)}verifyIfShoOrHiddenScrollButtons(e,n,o){n.style.display=e.scrollLeft<=0?"none":"flex",o.style.display=e.scrollWidth==e.scrollLeft+e.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(e,n,o){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(e,n,o)},250)}onClickItem(e){null!=e.CurrentTime&&e.CurrentTime>0?this.continueVideoByItem(e):this.getMediaItemDetail(e)}getMediaItemDetail(e){var n=this.sharedService.mediaServers.find(o=>o.Id==e.MediaServerId);this.router.navigateByUrl("/media/server/"+n.Guid+"/libraries/"+e.LibraryId+"/detail?mediaType="+e.MediaTypeId+"&mediaId="+e.MediaItemId)}continueVideoByItem(e){var n=this.sharedService.mediaServers.find(o=>o.Id==e.MediaServerId);this.libraryService.getMediaItemDetail(n.Url,e.MediaItemId).then(o=>{if(null!=e.MediaEpisodeId){o.CurrentSeason=o.ListSeasons.find(p=>p.SeasonNumber==e.SeasonNumber),o.CurrentEpisode=o.CurrentSeason.ListEpisodes.find(p=>p.EpisodeNumber==e.EpisodeNumber);var u=this.libraryService.CreateBuilderVideoFromEpisode(o,o.CurrentEpisode,n,e.CurrentTime);this.videoService.show(u)}else u=this.libraryService.CreateBuilderVideoFromItem(o,n,e.CurrentTime),this.videoService.show(u)},o=>{console.error(o)})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(ra),t.Y36(kn.gz),t.Y36(kn.F0),t.Y36(Xp),t.Y36(Bt),t.Y36(t.sBO),t.Y36(Ot))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-server"]],features:[t.qOj],decls:5,vars:4,consts:[[1,"media-principal-section"],[1,"media-container"],["class","media-header",4,"ngIf"],[1,"sinovad-list-container","sinovad-custom-container"],["ngFor","",3,"ngForOf"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[1,"subtitle"],["tabindex","0",3,"id",4,"ngIf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-title"],[1,"sinovad-list-row-container"],[2,"width","0px","height","0px"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[3,"src"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["itemContainer",""],["referrerpolicy","no-referrer",3,"src"],[3,"ngIf"],["class","sinovad-item-caption-container",4,"ngIf"],[4,"ngIf"],[1,"sinovad-item-progress-bar-absolute-container"],[1,"sinovad-item-progress-bar-container"],[1,"sinovad-item-progress-bar-content"],[1,"sinovad-item-caption-container"],[1,"sinovad-item-title-caption-container"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,PA,6,2,"div",2),t.TgZ(3,"div",3),t.YNc(4,FA,1,1,"ng-template",4),t.qZA()()()),2&n&&(t.xp6(2),t.Q6J("ngIf",o.title),t.xp6(1),t.Udp("height",o.title?"calc(100% - 65px)":"100%"),t.xp6(1),t.Q6J("ngForOf",o.itemsGroupList))},dependencies:[g.sg,g.O5,g.Ov,To],styles:["[_nghost-%COMP%]{width:100%;height:100%}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovadclient-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:9999;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}.sinovadclient-title-section[_ngcontent-%COMP%]{margin:10px 10px 10px 16px;font-size:30px;font-weight:700}.sinovadclient-section[_ngcontent-%COMP%]{margin:10px}.sinovad-item-container[_ngcontent-%COMP%]{padding-right:10px;width:min-content;margin:6px;border-radius:6px}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#000;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-vertical-list-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;overflow-y:auto;overflow-x:hidden}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-item-title-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-item-subtitle-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:400;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-list-container[_ngcontent-%COMP%]{padding:20px;overflow-x:hidden;overflow-y:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:220px;top:6px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;font-family:sans-serif;padding:0 0 0 8px}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:220px;top:6px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover, .sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2);opacity:.6}.sinovad-item-progress-bar-absolute-container[_ngcontent-%COMP%]{width:0px;height:0px;margin-bottom:9px}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:-9px;margin-left:4px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%]{display:none!important}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:170px;width:170px;height:220px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:20px}@media only screen and (min-width: 2048px){.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return r})();const zD=[{path:"",children:[{path:"home",component:gc,loadChildren:()=>x.e(377).then(x.bind(x,8377)).then(r=>r.MediaModule)},{path:"media/movies",component:gc,loadChildren:()=>x.e(377).then(x.bind(x,8377)).then(r=>r.MediaModule)},{path:"media/tvseries",component:gc,loadChildren:()=>x.e(377).then(x.bind(x,8377)).then(r=>r.MediaModule)},{path:"media/server/:serverGuid",component:gc,loadChildren:()=>x.e(377).then(x.bind(x,8377)).then(r=>r.MediaModule)},{path:"media/server/:serverGuid/libraries/:libraryId",component:gc,loadChildren:()=>x.e(377).then(x.bind(x,8377)).then(r=>r.MediaModule)},{path:"media/server/:serverGuid/libraries/:libraryId/detail",component:KD,loadChildren:()=>x.e(377).then(x.bind(x,8377)).then(r=>r.MediaModule)},{path:"search",component:Om,loadChildren:()=>x.e(316).then(x.bind(x,6316)).then(r=>r.SearchModule)},{path:"select-profile",component:Am,loadChildren:()=>x.e(931).then(x.bind(x,6931)).then(r=>r.ProfilesModule)},{path:"add-profile",component:tC,loadChildren:()=>x.e(931).then(x.bind(x,6931)).then(r=>r.ProfilesModule)},{path:"edit-profile/:profileGuid",component:Qu,loadChildren:()=>x.e(931).then(x.bind(x,6931)).then(r=>r.ProfilesModule)},{path:"landing",component:ov,loadChildren:()=>x.e(325).then(x.bind(x,7325)).then(r=>r.LandingPageModule)},{path:"register",component:iv,loadChildren:()=>x.e(166).then(x.bind(x,166)).then(r=>r.RegisterAcccountPageModule)},{path:"login",component:zh,loadChildren:()=>x.e(660).then(x.bind(x,7660)).then(r=>r.LoginPageModule)},{path:"recover",component:Nu,loadChildren:()=>x.e(264).then(x.bind(x,6264)).then(r=>r.RecoverPasswordPageModule)},{path:"reset/:base64Data",component:Q_,loadChildren:()=>x.e(334).then(x.bind(x,9334)).then(r=>r.ResetPasswordPageModule)},{path:"confirm/:base64Data",component:z_,loadChildren:()=>x.e(271).then(x.bind(x,4271)).then(r=>r.ConfirmEmailPageModule)},{path:"404",component:Gh,loadChildren:()=>x.e(170).then(x.bind(x,7170)).then(r=>r.NotFoundPageModule)},{path:"settings/server/:serverGuid/settings/general",component:av,loadChildren:()=>x.e(527).then(x.bind(x,1527)).then(r=>r.ServerSettingsGeneralPageModule)},{path:"settings/server/:serverGuid/manage/libraries",component:dy,loadChildren:()=>x.e(558).then(x.bind(x,7558)).then(r=>r.LibrariesModule)},{path:"settings/server/:serverGuid/settings/transcoder",component:hT,loadChildren:()=>x.e(211).then(x.bind(x,3211)).then(r=>r.TranscoderSettingssPageModule)},{path:"manage/movies",component:ic,loadChildren:()=>x.e(369).then(x.bind(x,3369)).then(r=>r.MoviesModule)},{path:"manage/tvseries",component:Cs,loadChildren:()=>x.e(425).then(x.bind(x,5425)).then(r=>r.TvSeriesModule)},{path:"manage/genres",component:ka,loadChildren:()=>x.e(153).then(x.bind(x,7153)).then(r=>r.GenresModule)},{path:"manage/menus",component:om,loadChildren:()=>x.e(991).then(x.bind(x,3991)).then(r=>r.MenusModule)},{path:"manage/users",component:Ev,loadChildren:()=>x.e(417).then(x.bind(x,3417)).then(r=>r.UsersModule)},{path:"manage/roles",component:iS,loadChildren:()=>x.e(111).then(x.bind(x,6111)).then(r=>r.RolesPageModule)},{path:"settings/account",component:it,loadChildren:()=>x.e(294).then(x.bind(x,8294)).then(r=>r.AccountPageModule)},{path:"",pathMatch:"full",redirectTo:"home"},{path:"web",pathMatch:"full",redirectTo:"home"},{path:"**",redirectTo:"/404"}]}];let BA=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[c.b2,g.ez,Ft.u5,zs.m,Ft.UX,Fa,$h,kn.Bz.forChild(zD)]})}return r})();function l(r,i){1&r&&t._UZ(0,"i",12)}const d=function(r){return{selected:r}};function f(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"a",3),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.onClickDropDownMenuOption(u))}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6),t._uU(4),t.qZA(),t.TgZ(5,"div",7),t._uU(6),t.qZA()(),t.TgZ(7,"div",8)(8,"div",9),t.YNc(9,l,1,0,"i",10),t.qZA(),t.TgZ(10,"div",11),t._UZ(11,"i"),t.qZA()()()()}if(2&r){const e=i.$implicit;t.Q6J("ngClass",t.VKq(7,d,e.isSelected)),t.xp6(4),t.hij(" ",e.title," "),t.xp6(2),t.hij(" ",e.subtitle," "),t.xp6(3),t.Q6J("ngIf",e.isSelected),t.xp6(2),t.Tol(e.iconClass)}}function _(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("clickOutside",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickOutside())}),t.YNc(1,f,12,9,"ng-template",2),t.qZA()}if(2&r){const e=t.oxw();t.Udp("width",e.width+"px")("top",e.top+"px")("left",e.left+"px"),t.xp6(1),t.Q6J("ngForOf",e.dropDownMenuOptions.listItems)}}let M=(()=>{class r{constructor(e,n,o){this.ref=e,this.sharedService=n,this.router=o,this.hide=new t.vpe,this.clickItem=new t.vpe,this.show=!1}ngAfterViewInit(){this.showContent()}showContent(){var e=this;return jh(function*(){yield e.sharedService.delay(100),e.show=!0,e.ref.detectChanges()})()}onClickOutside(){this.hide.emit(!0)}onClickDropDownMenuOption(e){this.clickItem.emit(e),this.router.navigateByUrl(e.path)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(t.sBO),t.Y36(Ot),t.Y36(kn.F0))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-drop-down-servers"]],inputs:{dropDownMenuOptions:"dropDownMenuOptions",top:"top",left:"left",width:"width"},outputs:{hide:"hide",clickItem:"clickItem"},decls:1,vars:1,consts:[["class","sinovad-drop-down-menu-item-list",3,"width","top","left","clickOutside",4,"ngIf"],[1,"sinovad-drop-down-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-drop-down-menu-item-container",3,"ngClass","click"],[1,"sinovad-drop-down-menu-item-content"],[1,"left"],[1,"title"],[1,"subtitle"],[1,"right"],[1,"selected-icon-container"],["class","fa-solid fa-check",4,"ngIf"],[1,"icon-container"],[1,"fa-solid","fa-check"]],template:function(n,o){1&n&&t.YNc(0,_,2,7,"div",0),2&n&&t.Q6J("ngIf",o.show)},dependencies:[Wl,g.mk,g.sg,g.O5],styles:[".sinovad-drop-down-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:none;box-shadow:#00000080 0 0 18px;color:#fff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]{height:60px;padding:8px 10px 8px 25px;width:100%;word-wrap:break-word;display:block;font-size:13px;text-align:left;-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3}a.sinovad-drop-down-menu-item-container.selected[_ngcontent-%COMP%]{color:#007bff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important;font-size:13px}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#ffffff4d;font-size:12px;max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;flex-shrink:0}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .selected-icon-container[_ngcontent-%COMP%]{fill:currentcolor;display:inline-block;height:1em;line-height:1;position:relative;vertical-align:middle;width:1em;font-size:14px;margin-left:10px;top:0;color:#007bff;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-left:10px;margin-right:10px;color:#6b5}"]})}return r})(),j=(()=>{class r{constructor(e,n,o){this.factoryResolver=e,this.injector=n,this.applicationRef=o,this.isShowing=!1}show(e){return new Promise((n,o)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const p=this.factoryResolver.resolveComponentFactory(M).create(this.injector);this.lastViewRef=p.hostView,this.applicationRef.attachView(p.hostView);let y=this;const I=e.target.getBoundingClientRect();p.instance.dropDownMenuOptions=e,p.instance.left=I.left,p.instance.top=I.top+I.height,p.instance.width=I.width,p.instance.clickItem.subscribe(Te=>{p.destroy(),y.applicationRef.detachView(p.hostView),y.isShowing=!1,n(Te)}),p.instance.hide.subscribe(Te=>{p.destroy(),y.applicationRef.detachView(p.hostView),y.isShowing=!1,o(!0)}),this.isShowing=!0;const G=p.hostView.rootNodes[0];document.getElementById("sinovadMainContainer").appendChild(G)})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const ee=["mediaServerButton"],Ee=function(r){return{selected:r}},ke=function(){return["/settings/account"]};function nt(r,i){if(1&r&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t._uU(3),t.qZA()(),t.TgZ(4,"div",9)(5,"a",10)(6,"div",11),t._UZ(7,"div",12),t.TgZ(8,"div",13),t._uU(9," Cuenta "),t.qZA()()()()()),2&r){const e=t.oxw();t.xp6(3),t.AsE(" ",e.sharedService.userData.FirstName," ",e.sharedService.userData.LastName," "),t.xp6(1),t.Q6J("ngClass",t.VKq(4,Ee,e.isSelectedAccountOption())),t.xp6(1),t.Q6J("routerLink",t.DdM(6,ke))}}function Tt(r,i){1&r&&t._UZ(0,"i",24)}function Rt(r,i){1&r&&t._UZ(0,"i",25)}function nn(r,i){1&r&&t._UZ(0,"i",26)}function ln(r,i){1&r&&t._UZ(0,"i",27)}const xn=function(r,i){return{"icon-secure":r,"icon-alert":i}};function Vn(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",14,15),t.NdJ("click",function(o){t.CHM(e);const u=t.oxw();return t.KtG(u.togleDropDownMediaServers(o))}),t.TgZ(2,"div",16)(3,"div",17)(4,"span",18),t._uU(5),t.qZA(),t.YNc(6,Tt,1,0,"i",19),t.YNc(7,Rt,1,0,"i",20),t.qZA(),t.TgZ(8,"div",21),t.YNc(9,nn,1,0,"i",22),t.YNc(10,ln,1,0,"i",23),t.qZA()()()}if(2&r){const e=t.oxw();t.Q6J("ngClass",t.VKq(7,Ee,e.isSelectedServerOption())),t.xp6(5),t.hij(" ",e.sharedService.selectedMediaServer.FamilyName?e.sharedService.selectedMediaServer.FamilyName:e.sharedService.selectedMediaServer.DeviceName," "),t.xp6(1),t.Q6J("ngIf",e.dropDownServersService.isShowing),t.xp6(1),t.Q6J("ngIf",!e.dropDownServersService.isShowing),t.xp6(1),t.Q6J("ngClass",t.WLB(9,xn,e.sharedService.selectedMediaServer.isSecureConnection,!e.sharedService.selectedMediaServer.isSecureConnection)),t.xp6(1),t.Q6J("ngIf",e.sharedService.selectedMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",!e.sharedService.selectedMediaServer.isSecureConnection)}}const $n=function(r){return[r]};function ri(r,i){if(1&r&&(t.TgZ(0,"div",9)(1,"a",10)(2,"div",11),t._UZ(3,"div",12),t.TgZ(4,"div",13),t._uU(5),t.qZA()()()()),2&r){const e=i.$implicit,n=t.oxw(3);t.Q6J("ngClass",t.VKq(3,Ee,n.isSelectedSidebarOption(e))),t.xp6(1),t.Q6J("routerLink",t.VKq(5,$n,n.getOptionPath(e))),t.xp6(4),t.hij(" ",e.name," ")}}function An(r,i){if(1&r&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t._uU(3),t.qZA()(),t.YNc(4,ri,6,7,"ng-template",28),t.qZA()),2&r){const e=i.$implicit;t.xp6(3),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("ngForOf",e.listOptions)}}function bi(r,i){if(1&r&&t.YNc(0,An,5,2,"ng-template",28),2&r){const e=t.oxw();t.Q6J("ngForOf",e.serverModules)}}let Pi=(()=>{class r{constructor(e,n,o,u){this.dropDownServersService=e,this.activeRoute=n,this.ref=o,this.sharedService=u,this.prepareRouterOutlet=new t.vpe,this.collapseSidebar=new t.vpe,this.serverModules=[{index:2,order:2,name:"Ajustes",listOptions:[{index:3,name:"General",path:"/settings/server/{serverGuid}/settings/general"},{index:4,name:"Transcodificador",path:"/settings/server/{serverGuid}/settings/transcoder"}]},{index:3,order:3,name:"Gestionar",listOptions:[{index:7,name:"Bibliotecas",path:"/settings/server/{serverGuid}/manage/libraries"}]}]}ngOnInit(){this.setSelectedMediaServer()}setSelectedMediaServer(){if(this.activeRoute.firstChild.firstChild.snapshot.params.serverGuid){var e=this.activeRoute.firstChild.firstChild.snapshot.params.serverGuid,n=this.sharedService.mediaServers.find(o=>o.Guid==e);n&&(this.sharedService.selectedMediaServer=n)}null==this.sharedService.selectedMediaServer&&this.sharedService.mediaServers&&this.sharedService.mediaServers.length>0&&(this.sharedService.selectedMediaServer=this.sharedService.mediaServers[0])}ngAfterViewInit(){}getOptionPath(e){return e.path.replace("{serverGuid}",this.sharedService.selectedMediaServer.Guid)}onClickModule(e){e.isCollapsed=!e.isCollapsed}togleDropDownMediaServers(e){this.showMediaServerMenuOptions(e)}showMediaServerMenuOptions(e){this.dropDownServersService.isShowing||this.dropDownServersService.show(this.getDropDownMenuOptions()).then(n=>{},n=>{})}getDropDownMenuOptions(){var e=void 0;if(this.mediaServerButton){let n=[];this.sharedService.mediaServers.forEach(u=>{n.push({title:u.FamilyName?u.FamilyName:u.DeviceName,subtitle:u.isSecureConnection?"Conexi\xf3n exitosa":"Sin conexi\xf3n",iconClass:u.isSecureConnection?"fa-solid fa-lock icon-secure":"fa-solid fa-triangle-exclamation icon-alert",path:"/settings/server/"+u.Guid+"/settings/general",isSelected:this.sharedService.selectedMediaServer.Id==u.Id})}),e={containerId:"sinovadMainContainer",target:this.mediaServerButton.nativeElement,listItems:n}}return e}isSelectedSidebarOption(e){return-1!=this.getOptionPath(e).indexOf(window.location.pathname)}isSelectedAccountOption(){return-1!="/settings/account".indexOf(window.location.pathname)}isSelectedServerOption(){return!!window.location.pathname.startsWith("/settings/server")}onClickOutsideSidebar(e){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(j),t.Y36(kn.gz),t.Y36(t.sBO),t.Y36(Ot))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-sidebar-account"]],viewQuery:function(n,o){if(1&n&&t.Gf(ee,5),2&n){let u;t.iGM(u=t.CRH())&&(o.mediaServerButton=u.first)}},outputs:{prepareRouterOutlet:"prepareRouterOutlet",collapseSidebar:"collapseSidebar"},decls:6,vars:3,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sidebar-container"],[1,"sidebar-content"],["role","navigation",4,"ngIf"],["class","media-server-button",3,"ngClass","click",4,"ngIf"],[3,"ngIf"],["role","navigation"],[1,"sidebar-list-header-container"],[1,"sidebar-list-header-content"],[1,"sidebar-list-item-container",3,"ngClass"],[3,"routerLink"],[1,"sidebar-link-container"],[1,"sidebar-link-icon"],[1,"sidebar-link-title"],[1,"media-server-button",3,"ngClass","click"],["mediaServerButton",""],[1,"content"],[1,"left"],[1,"first"],["class","fa-solid fa-caret-up",4,"ngIf"],["class","fa-solid fa-caret-down",4,"ngIf"],[1,"server-settings-menu-button-icon",3,"ngClass"],["class","fa-solid fa-lock",4,"ngIf"],["class","fa-solid fa-triangle-exclamation",4,"ngIf"],[1,"fa-solid","fa-caret-up"],[1,"fa-solid","fa-caret-down"],[1,"fa-solid","fa-lock"],[1,"fa-solid","fa-triangle-exclamation"],["ngFor","",3,"ngForOf"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(p){return o.onClickOutsideSidebar(p)}),t.TgZ(1,"div",1)(2,"div",2),t.YNc(3,nt,10,7,"div",3),t.YNc(4,Vn,11,12,"button",4),t.YNc(5,bi,1,1,"ng-template",5),t.qZA()()()),2&n&&(t.xp6(3),t.Q6J("ngIf",o.sharedService.userData),t.xp6(1),t.Q6J("ngIf",o.sharedService.selectedMediaServer),t.xp6(1),t.Q6J("ngIf",o.sharedService.selectedMediaServer&&o.serverModules&&o.serverModules.length>0))},dependencies:[Wl,g.mk,g.sg,g.O5,kn.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11}.sidebar-container[_ngcontent-%COMP%]{border-radius:4px;display:flex;flex:0 0 240px;flex-direction:column;height:calc(100% - 8px);margin:0;transform:translateZ(0);width:100%;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px}.sidebar-content[_ngcontent-%COMP%]{padding-bottom:60px;padding-top:10px}.sidebar-list-header-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-header-container[_ngcontent-%COMP%]   .sidebar-list-header-content[_ngcontent-%COMP%]{color:#ffffff4d;font-size:15px;height:45px;line-height:45px;max-width:100%;min-width:0;overflow:hidden!important;padding-left:25px;text-overflow:ellipsis;text-transform:capitalize;white-space:nowrap!important;flex-grow:1}.sidebar-list-item-container[_ngcontent-%COMP%]{border-bottom-right-radius:4px;border-top-right-radius:4px;display:flex;min-height:30px;position:relative}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;display:block;flex-grow:1;overflow:hidden;padding:4px 0 2px 25px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-icon[_ngcontent-%COMP%]{font-size:13px;width:18px;flex-shrink:0;height:14px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-title[_ngcontent-%COMP%]{flex-grow:1;word-break:break-word}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.sidebar-list-item-container.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff}.sidebar-list-item-container.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.media-server-button[_ngcontent-%COMP%]{background-color:#0000004d;font-size:13px;height:50px;line-height:50px;padding-left:25px;padding-right:15px;width:100%;-webkit-tap-highlight-color:transparent;color:#ffffffb3;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none}.content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;max-width:85%;text-align:left;display:flex;align-items:center}.left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;max-width:100%;max-width:85%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;vertical-align:top;white-space:nowrap!important;font-weight:700}.left[_ngcontent-%COMP%]   i.fa-caret-up[_ngcontent-%COMP%]{margin-left:7px;margin-top:2px}.left[_ngcontent-%COMP%]   i.fa-caret-down[_ngcontent-%COMP%]{margin-left:7px}.server-settings-menu-button-icon[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-right:10px}.media-server-button.selected[_ngcontent-%COMP%]{color:#007bff}.media-server-button[_ngcontent-%COMP%]:hover{color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return r})();function ki(r,i){1&r&&t._UZ(0,"i",9)}function po(r,i){1&r&&t._UZ(0,"i",10)}function Bf(r,i){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.IconClass)}}const ZD=function(r){return[r]},$D=function(r){return{active:r}};function Uw(r,i){if(1&r&&(t.TgZ(0,"li",12)(1,"a",13),t.YNc(2,Bf,1,3,"i",14),t.TgZ(3,"span",7),t._uU(4),t.qZA()()()),2&r){const e=i.$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("routerLink",t.VKq(4,ZD,e.Path))("ngClass",t.VKq(6,$D,n.isSelectedMenu(e))),t.xp6(1),t.Q6J("ngIf",e.IconClass),t.xp6(2),t.Oqu(e.Title)}}function jw(r,i){if(1&r&&(t.TgZ(0,"div")(1,"ul",11),t.YNc(2,Uw,5,8,"ng-template",2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",e.ChildMenus)}}function Vw(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"li",3)(1,"button",4),t.NdJ("click",function(o){const p=t.CHM(e).$implicit,y=t.oxw();return t.KtG(y.onClickModule(p,o))}),t.YNc(2,ki,1,0,"i",5),t.YNc(3,po,1,0,"i",6),t.TgZ(4,"span",7),t._uU(5),t.qZA()(),t.YNc(6,jw,3,1,"div",8),t.qZA()}if(2&r){const e=i.$implicit;t.xp6(2),t.Q6J("ngIf",e.isCollapsed),t.xp6(1),t.Q6J("ngIf",!e.isCollapsed),t.xp6(2),t.Oqu(e.Title),t.xp6(1),t.Q6J("ngIf",!e.isCollapsed)}}let Gw=(()=>{class r{constructor(e){this.sharedService=e,this.collapseSidebar=new t.vpe}onClickModule(e,n){n.preventDefault(),n.stopPropagation(),e.isCollapsed=!e.isCollapsed}onClickOutsideSidebar(e){this.collapseSidebar.emit(!0)}isSelectedMenu(e){return-1!=e.Path.indexOf(window.location.pathname)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Ot))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-sidebar-administrator"]],outputs:{collapseSidebar:"collapseSidebar"},decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"click"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"],[3,"class",4,"ngIf"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(p){return o.onClickOutsideSidebar(p)}),t.TgZ(1,"ul",1),t.YNc(2,Vw,7,4,"ng-template",2),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("ngForOf",o.sharedService.listMenus))},dependencies:[Wl,g.mk,g.sg,g.O5,kn.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:200px;height:100%;background:#0c0d11}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return r})();function Hw(r,i){1&r&&t._UZ(0,"i",10)}function Yw(r,i){1&r&&t._UZ(0,"i",11)}function Kw(r,i){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.IconClass)}}function Ww(r,i){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.IconClass)}}const UA=function(r){return[r]},jA=function(r){return{active:r}};function zw(r,i){if(1&r&&(t.TgZ(0,"li",13)(1,"a",14),t.YNc(2,Ww,1,3,"i",7),t.TgZ(3,"span",8),t._uU(4),t.qZA()()()),2&r){const e=i.$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("routerLink",t.VKq(4,UA,e.Path))("ngClass",t.VKq(6,jA,n.isSelectedMenu(e))),t.xp6(1),t.Q6J("ngIf",e.IconClass),t.xp6(2),t.Oqu(e.Title)}}function Zw(r,i){if(1&r&&(t.TgZ(0,"div")(1,"ul",12),t.YNc(2,zw,5,8,"ng-template",2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",e.ChildMenus)}}function $w(r,i){if(1&r&&(t.TgZ(0,"li",3)(1,"button",4),t.YNc(2,Hw,1,0,"i",5),t.YNc(3,Yw,1,0,"i",6),t.YNc(4,Kw,1,3,"i",7),t.TgZ(5,"span",8),t._uU(6),t.qZA()(),t.YNc(7,Zw,3,1,"div",9),t.qZA()),2&r){const e=i.$implicit,n=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(7,UA,e.Path))("ngClass",t.VKq(9,jA,n.isSelectedMenu(e))),t.xp6(1),t.Q6J("ngIf",!e.IconClass&&e.isCollapsed),t.xp6(1),t.Q6J("ngIf",!e.IconClass&&!e.isCollapsed),t.xp6(1),t.Q6J("ngIf",e.IconClass),t.xp6(2),t.Oqu(e.Title),t.xp6(1),t.Q6J("ngIf",!e.isCollapsed)}}let qw=(()=>{class r{constructor(e){this.sharedService=e,this.collapseSidebar=new t.vpe}ngOnInit(){}onClickModule(e){e.isCollapsed=!e.isCollapsed}isSelectedMenu(e){return-1!=decodeURIComponent(window.location.pathname).indexOf(e.Path)}onClickOutsideSidebar(e){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Ot))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-sidebar-media"]],outputs:{collapseSidebar:"collapseSidebar"},decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"routerLink","ngClass"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[3,"class",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(p){return o.onClickOutsideSidebar(p)}),t.TgZ(1,"ul",1),t.YNc(2,$w,8,11,"ng-template",2),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("ngForOf",o.sharedService.mediaMenu))},dependencies:[Wl,g.mk,g.sg,g.O5,kn.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px;padding-top:10px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return r})();function Jw(r,i){if(1&r&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&r){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.sharedService.getInitials(e.sharedService.currentProfile)," ")}}function Qw(r,i){if(1&r&&(t._UZ(0,"img",13),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw(3);t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.sharedService.currentProfile.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function Xw(r,i){if(1&r&&(t.TgZ(0,"span",11),t._uU(1),t.qZA(),t.YNc(2,Jw,2,1,"div",12),t.YNc(3,Qw,3,6,"img",12)),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.sharedService.currentProfile.FullName," "),t.xp6(1),t.Q6J("ngIf",null==e.sharedService.currentProfile.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.sharedService.currentProfile.AvatarPath)}}function e1(r,i){if(1&r&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&r){const e=t.oxw(2).$implicit,n=t.oxw(3);t.xp6(1),t.hij(" ",n.sharedService.getInitials(e)," ")}}function t1(r,i){if(1&r&&(t._UZ(0,"img",13),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw(2).$implicit;t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function n1(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"li",3)(1,"a",15,5),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,u=t.oxw(3);return t.KtG(u.onSelectProfile(o))}),t.YNc(3,e1,2,1,"div",12),t.YNc(4,t1,3,6,"img",12),t.TgZ(5,"span",11),t._uU(6),t.qZA()()()}if(2&r){const e=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",null==e.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.AvatarPath),t.xp6(2),t.hij(" ",e.FullName," ")}}function r1(r,i){if(1&r&&t.YNc(0,n1,7,3,"li",10),2&r){const e=i.$implicit,n=t.oxw(3);t.Q6J("ngIf",n.sharedService.currentProfile&&e.Id!=n.sharedService.currentProfile.Id)}}function o1(r,i){if(1&r&&t.YNc(0,r1,1,1,"ng-template",14),2&r){const e=t.oxw(2);t.Q6J("ngForOf",e.sharedService.listProfiles)}}function a1(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"li",3)(1,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onClickAdminMode())}),t.TgZ(2,"span"),t._uU(3,"Mantenimiento"),t.qZA()()()}}function s1(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"ul",2)(2,"li",3)(3,"a",4,5),t.YNc(5,Xw,4,3,"ng-template",6),t.qZA()(),t._UZ(6,"div",7),t.TgZ(7,"div",8),t.YNc(8,o1,1,1,"ng-template",6),t.TgZ(9,"li",3)(10,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickEditProfilesButton())}),t.TgZ(11,"span"),t._uU(12,"Editar perfiles"),t.qZA()()(),t.TgZ(13,"li",3)(14,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickAccountOption())}),t.TgZ(15,"span"),t._uU(16,"Cuenta"),t.qZA()()(),t.YNc(17,a1,4,0,"li",10),t.TgZ(18,"li",3)(19,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.logOut())}),t.TgZ(20,"span"),t._uU(21,"Cerrar Sesi\xf3n"),t.qZA()()()()()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.sharedService.currentProfile),t.xp6(3),t.Q6J("ngIf",e.sharedService.listProfiles&&e.sharedService.listProfiles.length>0),t.xp6(9),t.Q6J("ngIf",e.sharedService.listMenus&&e.sharedService.listMenus.length>0)}}let l1=(()=>{class r{constructor(e,n,o){this.ref=e,this.router=n,this.sharedService=o}onClickChangeProfileButton(){this.sharedService.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/select-profile")}onClickEditProfilesButton(){this.sharedService.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/select-profile")}onSelectProfile(e){this.sharedService.currentProfile=e,this.router.navigateByUrl("/home")}onClickAccountOption(){this.router.navigateByUrl("/settings/account")}onClickAdminMode(){this.router.navigateByUrl(this.sharedService.listMenus[0].ChildMenus[0].Path)}logOut(){this.sharedService.currentProfile=void 0,this.sharedService.userData=void 0,this.sharedService.apiToken=void 0,localStorage.removeItem("apiToken"),this.router.navigateByUrl("/landing")}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(t.sBO),t.Y36(kn.F0),t.Y36(Ot))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-dropdown-user"]],decls:1,vars:1,consts:[["class","sinovad-user-dropdown",4,"ngIf"],[1,"sinovad-user-dropdown"],["role","menu",1,"sinovad-dropdown-list"],[1,"sinovad-avatar-item"],["id","avatar_button",1,"sinovad-avatar-button","principal"],["button",""],[3,"ngIf"],[1,"sinovad-separator-dropdown"],[1,"sinovad-bottom-list"],[3,"click"],["class","sinovad-avatar-item",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-initials-profile"],["ngFor","",3,"ngForOf"],["id","avatar_button",1,"sinovad-avatar-button",3,"click"]],template:function(n,o){1&n&&t.YNc(0,s1,22,3,"div",0),2&n&&t.Q6J("ngIf",!o.sharedService.showSplashScreen)},dependencies:[g.sg,g.O5,To,g.Ov],styles:["[_nghost-%COMP%]{height:100%}.sinovad-user-dropdown[_ngcontent-%COMP%]{height:100%;display:flex;align-items:flex-start}ul.sinovad-dropdown-list[_ngcontent-%COMP%]{background:transparent;border:1px solid transparent;box-shadow:none;height:100%;max-height:72px;padding:0 20px;width:100px;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-separator-dropdown[_ngcontent-%COMP%], ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-bottom-list[_ngcontent-%COMP%]{display:none}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover{background:rgb(19,19,19);border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;height:auto;max-height:calc(100vh - 40px);padding-top:10px;padding-bottom:20px;width:240px;z-index:10;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-separator-dropdown[_ngcontent-%COMP%]{width:100%;padding-left:10px;height:2px;background-color:#fff;display:block;margin-top:10px}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]{display:block}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]{margin-top:10px;width:200px;opacity:.7;font-size:16px;cursor:pointer}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-avatar-button[_ngcontent-%COMP%]{display:block;padding-left:0;background:transparent;border:none;cursor:pointer;color:#fff;display:flex;align-items:center;text-decoration:unset}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;margin-left:10px;font-size:20px;margin-right:10px}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;border:1px solid white;display:flex;align-items:center;justify-content:center;font-size:30px}.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}@media only screen and (max-width: 1024px){.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:none}.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}}"]})}return r})();const c1=["searchTarget"],VA=function(){return["/home"]};function d1(r,i){1&r&&(t.TgZ(0,"a",11),t._UZ(1,"i",12),t.qZA()),2&r&&t.Q6J("routerLink",t.DdM(1,VA))}const GA=function(r){return{focused:r}};function u1(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",13)(1,"div",14)(2,"input",6,7),t.NdJ("ngModelChange",function(o){t.CHM(e);const u=t.oxw();return t.KtG(u.searchText=o)})("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onChangeSearchValue())})("focus",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isFocusSearch=!0)})("blur",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isFocusSearch=!1)}),t.qZA(),t.TgZ(4,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickSearchButton())}),t._UZ(5,"i",9),t.qZA()(),t.TgZ(6,"div",15)(7,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showNavbarSearch=!1)}),t._UZ(8,"i",16),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(2,GA,e.isFocusSearch)),t.xp6(1),t.Q6J("ngModel",e.searchText)}}let f1=(()=>{class r{constructor(e,n,o){this.router=e,this.restProvider=n,this.sharedService=o,this.toggleSidebar=new t.vpe,this.selectOption=new t.vpe,this.toggleMenu=new t.vpe,this.searchText="",this.isFocusSearch=!1,this.showDropDown=!1,this.showNavbarSearch=!1}ngOnInit(){}ngAfterViewInit(){this.addClickEvent()}onClickSearchButton(){this.showNavbarSearch=!0}addClickEvent(){const e=document.getElementById("userDropDown");document.addEventListener("click",n=>{this.showDropDown=!!n.composedPath().includes(e)})}onClickHomeOption(){this.router.navigateByUrl("/home")}onClickOption(e){this.selectOption.emit(e)}onSelectProfile(e){this.sharedService.currentProfile=e,this.router.navigateByUrl("/home")}onClickChangeProfileButton(){this.sharedService.showSplashScreen=!0}onChangeSearchValue(){this.router.navigateByUrl(null!=this.searchText&&""!=this.searchText?"/search?text="+this.searchText:"/home"),this.searchText=""}onClickToggleSidebarButton(e){e.preventDefault(),e.stopPropagation(),this.toggleSidebar.emit(!0)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kn.F0),t.Y36(Bt),t.Y36(Ot))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-header"]],viewQuery:function(n,o){if(1&n&&t.Gf(c1,5),2&n){let u;t.iGM(u=t.CRH())&&(o.searchTarget=u.first)}},inputs:{showingSidebarAccount:"showingSidebarAccount",showingSidebarAdminMode:"showingSidebarAdminMode"},outputs:{toggleSidebar:"toggleSidebar",selectOption:"selectOption",toggleMenu:"toggleMenu"},decls:16,vars:14,consts:[[1,"nav-button-icon-container","toggle",3,"click"],[1,"fa-solid","fa-bars"],["class","nav-button-icon-container home",3,"routerLink",4,"ngIf"],[1,"sinovad-logo-button",3,"routerLink"],[3,"src"],[1,"sinovad-custom-search",3,"ngClass"],["type","text",3,"ngModel","ngModelChange","change","focus","blur"],["input",""],[3,"click"],[1,"fa-solid","fa-magnifying-glass"],["class","sinovad-navbar-search",4,"ngIf"],[1,"nav-button-icon-container","home",3,"routerLink"],[1,"fa-solid","fa-house"],[1,"sinovad-navbar-search"],[1,"sinovad-bottom-search",3,"ngClass"],[1,"sinovad-close-search-container"],[1,"fa","fa-times"]],template:function(n,o){1&n&&(t.TgZ(0,"header")(1,"nav")(2,"a",0),t.NdJ("click",function(p){return o.onClickToggleSidebarButton(p)}),t._UZ(3,"i",1),t.qZA(),t.YNc(4,d1,2,2,"a",2),t.TgZ(5,"a",3),t._UZ(6,"img",4),t.ALo(7,"async"),t.ALo(8,"formatDataPipe"),t.qZA(),t.TgZ(9,"div",5)(10,"input",6,7),t.NdJ("ngModelChange",function(p){return o.searchText=p})("change",function(){return o.onChangeSearchValue()})("focus",function(){return o.isFocusSearch=!0})("blur",function(){return o.isFocusSearch=!1}),t.qZA(),t.TgZ(12,"button",8),t.NdJ("click",function(){return o.onClickSearchButton()}),t._UZ(13,"i",9),t.qZA()(),t._UZ(14,"app-dropdown-user"),t.qZA(),t.YNc(15,u1,9,4,"div",10),t.qZA()),2&n&&(t.xp6(4),t.Q6J("ngIf",o.showingSidebarAccount||o.showingSidebarAdminMode),t.xp6(1),t.Q6J("routerLink",t.DdM(11,VA)),t.xp6(1),t.Q6J("src",t.lcZ(7,6,t.xi3(8,8,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngClass",t.VKq(12,GA,o.isFocusSearch&&!o.sharedService.isSmallDevice())),t.xp6(1),t.Q6J("ngModel",o.searchText),t.xp6(5),t.Q6J("ngIf",o.sharedService.isSmallDevice()&&o.showNavbarSearch))},dependencies:[Ft.Fj,Ft.JJ,Ft.On,g.mk,g.O5,kn.rH,l1,To,g.Ov],styles:[".nav-button-icon-container[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;color:#fff;font-size:24px;opacity:.7;display:none}.nav-button-icon-container.home[_ngcontent-%COMP%]{display:block}.sinovad-logo-button[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;text-decoration:unset;font-size:20px}.sinovad-logo-button[_ngcontent-%COMP%]   .first-span[_ngcontent-%COMP%]{color:#007bff;margin-right:6px}.sinovad-logo-button[_ngcontent-%COMP%]   .second-span[_ngcontent-%COMP%]{color:#fff}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:130px;margin-bottom:6px}.sinovad-custom-search[_ngcontent-%COMP%]{display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-left:20px;background-color:#fff}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-custom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.nav-button-icon-container[_ngcontent-%COMP%]:hover{opacity:1}nav[_ngcontent-%COMP%]{background:black;color:#fff;flex-wrap:nowrap;justify-content:flex-start;display:flex;height:70px;align-items:center}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]{list-style-type:none;flex-direction:row;display:flex;height:100%;align-items:center;margin-bottom:0}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-decoration:unset;height:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px}.sinovad-navbar-search[_ngcontent-%COMP%]{background:black;display:flex;align-items:center;padding:10px 20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-right:20px;background-color:#fff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px;width:100%}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]{width:20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;color:#fff;padding-right:8px;padding-left:8px;font-size:24px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}@media only screen and (max-width: 767px){.sinovad-logo-button[_ngcontent-%COMP%]{margin-left:10px;margin-right:0}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:110px}.nav-button-icon-container.toggle[_ngcontent-%COMP%]{display:block}.nav-button-icon-container.home[_ngcontent-%COMP%], .sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.sinovad-custom-search[_ngcontent-%COMP%]{background:transparent}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;font-size:24px}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}}"]})}return r})();function h1(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"app-header",10),t.NdJ("toggleSidebar",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickToggleSidebarButton())}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("showingSidebarAccount",e.showingSidebarAccount)("showingSidebarAdminMode",e.showingSidebarAdminMode)}}function m1(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"app-sidebar-administrator",14),t.NdJ("collapseSidebar",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isCollapsedSidebar=!0)}),t.qZA()}}function p1(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"app-sidebar-account",14),t.NdJ("collapseSidebar",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isCollapsedSidebar=!0)}),t.qZA()}}function g1(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"app-sidebar-media",14),t.NdJ("collapseSidebar",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isCollapsedSidebar=!0)}),t.qZA()}}function _1(r,i){if(1&r&&(t.TgZ(0,"section",11,12),t.YNc(2,m1,1,0,"app-sidebar-administrator",13),t.YNc(3,p1,1,0,"app-sidebar-account",13),t.YNc(4,g1,1,0,"app-sidebar-media",13),t.qZA()),2&r){const e=t.oxw();t.Udp("height","100%"),t.xp6(2),t.Q6J("ngIf",e.showingSidebarAdminMode),t.xp6(1),t.Q6J("ngIf",e.showingSidebarAccount),t.xp6(1),t.Q6J("ngIf",e.showingSidebarMedia)}}const v1=function(r){return{locked:r}};let y1=(()=>{class r{constructor(e){this.sharedService=e,this._window=window,this.isCollapsedSidebar=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1,this.showRouterChildWithFullDimentions=!0}onClickToggleSidebarButton(){this.isCollapsedSidebar=!this.isCollapsedSidebar}onActivate(e){this.isCollapsedSidebar=!0,this.sharedService.showSplashScreen=!1,(e instanceof Gh||e instanceof zh||e instanceof iv||e instanceof Nu||e instanceof Q_||e instanceof ov||e instanceof z_||e instanceof Am)&&(this.showRouterChildWithFullDimentions=!0,this.showingSidebarMedia=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),e instanceof Om&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarMedia=!0,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),(e instanceof gc||e instanceof KD)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarMedia=!0,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),e instanceof it&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),e instanceof hT&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),e instanceof av&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),e instanceof dy&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),(e instanceof ic||e instanceof Cs)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!0,this.showingSidebarMedia=!1),(e instanceof om||e instanceof Cs||e instanceof ic||e instanceof ka||e instanceof Ev||e instanceof iS)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!0,this.showingSidebarMedia=!1)}onResize(e){}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Ot))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-web-container"]],hostBindings:function(n,o){1&n&&t.NdJ("resize",function(p){return o.onResize(p)},!1,t.Jf7)},decls:13,vars:9,consts:[[1,"sinovad-page-container"],["header",""],[3,"showingSidebarAccount","showingSidebarAdminMode","toggleSidebar",4,"ngIf"],[1,"sinovad-menu-body-container"],["menu",""],["id","menuContainer","class","sinovad-menu-container","tabindex","0",3,"height",4,"ngIf"],["id","bodyContainer","tabindex","0",1,"sinovad-body-container",3,"ngClass"],["principalContainer",""],[3,"activate"],["footer",""],[3,"showingSidebarAccount","showingSidebarAdminMode","toggleSidebar"],["id","menuContainer","tabindex","0",1,"sinovad-menu-container"],["menuContainer",""],[3,"collapseSidebar",4,"ngIf"],[3,"collapseSidebar"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0)(1,"div",null,1),t.YNc(3,h1,1,2,"app-header",2),t.qZA(),t.TgZ(4,"div",3)(5,"div",null,4),t.YNc(7,_1,5,5,"section",5),t.qZA(),t.TgZ(8,"section",6,7)(10,"router-outlet",8),t.NdJ("activate",function(p){return o.onActivate(p)}),t.qZA()()(),t._UZ(11,"div",null,9),t.qZA()),2&n){const u=t.MAs(2),p=t.MAs(6),y=t.MAs(12);t.xp6(3),t.Q6J("ngIf",!o.showRouterChildWithFullDimentions),t.xp6(1),t.Udp("height","calc(100% - "+(u.offsetHeight+y.offsetHeight)+"px)"),t.xp6(3),t.Q6J("ngIf",!(o.showRouterChildWithFullDimentions||o.sharedService.isSmallDevice()&&o.isCollapsedSidebar)),t.xp6(1),t.Udp("width","calc(100% - "+p.offsetWidth+"px)"),t.Q6J("ngClass",t.VKq(7,v1,o.sharedService.isSmallDevice()&&!o.isCollapsedSidebar))}},dependencies:[g.mk,g.O5,Pi,Gw,qw,f1,kn.lC],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-module-container[_ngcontent-%COMP%]{border-top:1px solid #dedede}.sinovad-page-container[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%}.sinovad-header-container[_ngcontent-%COMP%]{height:60px;background:rgba(0,0,0,.15)}.sinovad-menu-body-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}.sinovad-menu-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.6);position:relative}.sinovad-body-container[_ngcontent-%COMP%]{display:block;height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-body-container.locked[_ngcontent-%COMP%]{pointer-events:none}"]})}return r})();function b1(r,i){if(1&r&&(t.TgZ(0,"div",1)(1,"div",2,3)(3,"div",4)(4,"div",5),t._UZ(5,"img",6),t.ALo(6,"async"),t.ALo(7,"formatDataPipe"),t.qZA()()()()),2&r){const e=t.MAs(2);t.xp6(5),t.Udp("width",e.offsetWidth/3+"px"),t.Q6J("src",t.lcZ(6,3,t.xi3(7,5,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH)}}let E1=(()=>{class r{constructor(e,n,o){this.restProvider=e,this.domSanitizer=n,this.sharedService=o}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Bt),t.Y36(c.H7),t.Y36(Ot))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-splash-screen"]],decls:1,vars:1,consts:[["class","splash-screen-container",4,"ngIf"],[1,"splash-screen-container"],[1,"sinovad-splash-screen-container"],["container",""],[2,"text-align","center"],["role","status",1,"spinner-grow"],[3,"src"]],template:function(n,o){1&n&&t.YNc(0,b1,8,8,"div",0),2&n&&t.Q6J("ngIf",o.sharedService.showSplashScreen)},dependencies:[g.O5,g.Ov,To],styles:[".splash-screen-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;position:absolute;z-index:99999;top:0;left:0}.sinovad-splash-screen-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.sinovad-splash-screen-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.spinner-grow[_ngcontent-%COMP%]{background:black;width:unset;height:unset}"]})}return r})();function T1(r,i){1&r&&t._UZ(0,"app-web-container")}let S1=(()=>{class r{constructor(e,n,o,u,p,y,I){this.libraryService=e,this.menuService=n,this.userService=o,this.profileService=u,this.serverService=p,this.ref=y,this.sharedService=I,this.showRootPage=!1}ngOnInit(){const e=window.location.search;if(""!=e){var n=new URLSearchParams(e).get("apiToken");null!=n&&localStorage.setItem("apiToken",n)}window.configurationData&&(this.sharedService.configurationData=window.configurationData),this.intervalCheckMediaServers=window.setInterval(function(){},15e3),localStorage.getItem("apiToken")?(this.sharedService.apiToken=localStorage.getItem("apiToken"),this.userService.getUser().then(u=>{var p=!1,y=!1;this.menuService.getManageMenu(),this.serverService.getMediaServers().then(I=>{(p=!0)&&y&&(this.showRootPage=!0,this.ref.detectChanges())},I=>{}),this.profileService.getAllProfiles().then(I=>{y=!0,p&&y&&(this.showRootPage=!0,this.ref.detectChanges())},I=>{})},u=>{console.error(u)}),this.ref.detectChanges()):(this.sharedService.apiToken=void 0,setTimeout(()=>{this.showRootPage=!0,this.ref.detectChanges()},100))}ngOnDestroy(){this.intervalCheckMediaServers&&window.clearInterval(this.intervalCheckMediaServers)}ngAfterViewInit(){let e=this;window.addEventListener("click",function(u){e.sharedService.configurationData.alwaysFullScreen&&e.showPageInFullScreen()})}showPageInFullScreen(){document.fullscreenElement||document.body.requestFullscreen&&document.body.requestFullscreen()}onResize(e){}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(ra),t.Y36(Qc),t.Y36(Wh),t.Y36(Kl),t.Y36(Xc),t.Y36(t.sBO),t.Y36(Ot))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-sinovad-web"]],hostBindings:function(n,o){1&n&&t.NdJ("resize",function(p){return o.onResize(p)},!1,t.Jf7)},decls:4,vars:1,consts:[["id","sinovadMainContainer",1,"sinovad-main-container"],["mainContainer",""],[4,"ngIf"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0,1),t.YNc(2,T1,1,0,"app-web-container",2),t.qZA(),t._UZ(3,"app-splash-screen")),2&n&&(t.xp6(2),t.Q6J("ngIf",o.showRootPage))},dependencies:[g.O5,y1,E1],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}.sinovad-main-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}"]})}return r})();var br=x(6825);function HA(r){return new t.vHH(3e3,!1)}function _c(r){switch(r.length){case 0:return new br.ZN;case 1:return r[0];default:return new br.ZE(r)}}function YA(r,i,e=new Map,n=new Map){const o=[],u=[];let p=-1,y=null;if(i.forEach(I=>{const G=I.get("offset"),ne=G==p,Te=ne&&y||new Map;I.forEach((Ve,Ge)=>{let et=Ge,ft=Ve;if("offset"!==Ge)switch(et=r.normalizePropertyName(et,o),ft){case br.k1:ft=e.get(Ge);break;case br.l3:ft=n.get(Ge);break;default:ft=r.normalizeStyleValue(Ge,et,ft,o)}Te.set(et,ft)}),ne||u.push(Te),y=Te,p=G}),o.length)throw function W1(r){return new t.vHH(3502,!1)}();return u}function qD(r,i,e,n){switch(i){case"start":r.onStart(()=>n(e&&JD(e,"start",r)));break;case"done":r.onDone(()=>n(e&&JD(e,"done",r)));break;case"destroy":r.onDestroy(()=>n(e&&JD(e,"destroy",r)))}}function JD(r,i,e){const u=QD(r.element,r.triggerName,r.fromState,r.toState,i||r.phaseName,e.totalTime??r.totalTime,!!e.disabled),p=r._data;return null!=p&&(u._data=p),u}function QD(r,i,e,n,o="",u=0,p){return{element:r,triggerName:i,fromState:e,toState:n,phaseName:o,totalTime:u,disabled:!!p}}function Da(r,i,e){let n=r.get(i);return n||r.set(i,n=e),n}function KA(r){const i=r.indexOf(":");return[r.substring(1,i),r.slice(i+1)]}const rI=(()=>typeof document>"u"?null:document.documentElement)();function XD(r){const i=r.parentNode||r.host||null;return i===rI?null:i}let Nd=null,WA=!1;function zA(r,i){for(;i;){if(i===r)return!0;i=XD(i)}return!1}function ZA(r,i,e){if(e)return Array.from(r.querySelectorAll(i));const n=r.querySelector(i);return n?[n]:[]}let $A=(()=>{class r{validateStyleProperty(e){return function aI(r){Nd||(Nd=function sI(){return typeof document<"u"?document.body:null}()||{},WA=!!Nd.style&&"WebkitAppearance"in Nd.style);let i=!0;return Nd.style&&!function oI(r){return"ebkit"==r.substring(1,6)}(r)&&(i=r in Nd.style,!i&&WA&&(i="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in Nd.style)),i}(e)}matchesElement(e,n){return!1}containsElement(e,n){return zA(e,n)}getParentElement(e){return XD(e)}query(e,n,o){return ZA(e,n,o)}computeStyle(e,n,o){return o||""}animate(e,n,o,u,p,y=[],I){return new br.ZN(o,u)}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})(),ex=(()=>{class r{static#e=this.NOOP=new $A}return r})();const lI=1e3,tx="ng-enter",Cb="ng-leave",Db="ng-trigger",xb=".ng-trigger",JA="ng-animating",nx=".ng-animating";function sl(r){if("number"==typeof r)return r;const i=r.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:ix(parseFloat(i[1]),i[2])}function ix(r,i){return"s"===i?r*lI:r}function Mb(r,i,e){return r.hasOwnProperty("duration")?r:function dI(r,i,e){let o,u=0,p="";if("string"==typeof r){const y=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===y)return i.push(HA()),{duration:0,delay:0,easing:""};o=ix(parseFloat(y[1]),y[2]);const I=y[3];null!=I&&(u=ix(parseFloat(I),y[4]));const G=y[5];G&&(p=G)}else o=r;if(!e){let y=!1,I=i.length;o<0&&(i.push(function C1(){return new t.vHH(3100,!1)}()),y=!0),u<0&&(i.push(function D1(){return new t.vHH(3101,!1)}()),y=!0),y&&i.splice(I,0,HA())}return{duration:o,delay:u,easing:p}}(r,i,e)}function tg(r,i={}){return Object.keys(r).forEach(e=>{i[e]=r[e]}),i}function QA(r){const i=new Map;return Object.keys(r).forEach(e=>{i.set(e,r[e])}),i}function vc(r,i=new Map,e){if(e)for(let[n,o]of e)i.set(n,o);for(let[n,o]of r)i.set(n,o);return i}function Rs(r,i,e){i.forEach((n,o)=>{const u=ox(o);e&&!e.has(o)&&e.set(o,r.style[u]),r.style[u]=n})}function Ld(r,i){i.forEach((e,n)=>{const o=ox(n);r.style[o]=""})}function ng(r){return Array.isArray(r)?1==r.length?r[0]:(0,br.vP)(r):r}const rx=new RegExp("{{\\s*(.+?)\\s*}}","g");function ew(r){let i=[];if("string"==typeof r){let e;for(;e=rx.exec(r);)i.push(e[1]);rx.lastIndex=0}return i}function ig(r,i,e){const n=r.toString(),o=n.replace(rx,(u,p)=>{let y=i[p];return null==y&&(e.push(function M1(r){return new t.vHH(3003,!1)}()),y=""),y.toString()});return o==n?r:o}function Ab(r){const i=[];let e=r.next();for(;!e.done;)i.push(e.value),e=r.next();return i}const hI=/-+([a-z0-9])/g;function ox(r){return r.replace(hI,(...i)=>i[1].toUpperCase())}function xa(r,i,e){switch(i.type){case 7:return r.visitTrigger(i,e);case 0:return r.visitState(i,e);case 1:return r.visitTransition(i,e);case 2:return r.visitSequence(i,e);case 3:return r.visitGroup(i,e);case 4:return r.visitAnimate(i,e);case 5:return r.visitKeyframes(i,e);case 6:return r.visitStyle(i,e);case 8:return r.visitReference(i,e);case 9:return r.visitAnimateChild(i,e);case 10:return r.visitAnimateRef(i,e);case 11:return r.visitQuery(i,e);case 12:return r.visitStagger(i,e);default:throw function A1(r){return new t.vHH(3004,!1)}()}}function tw(r,i){return window.getComputedStyle(r)[i]}const wb="*";function gI(r,i){const e=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(n=>function _I(r,i,e){if(":"==r[0]){const I=function vI(r,i){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return i.push(function G1(r){return new t.vHH(3016,!1)}()),"* => *"}}(r,e);if("function"==typeof I)return void i.push(I);r=I}const n=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return e.push(function V1(r){return new t.vHH(3015,!1)}()),i;const o=n[1],u=n[2],p=n[3];i.push(nw(o,p));"<"==u[0]&&!(o==wb&&p==wb)&&i.push(nw(p,o))}(n,e,i)):e.push(r),e}const Ib=new Set(["true","1"]),Ob=new Set(["false","0"]);function nw(r,i){const e=Ib.has(r)||Ob.has(r),n=Ib.has(i)||Ob.has(i);return(o,u)=>{let p=r==wb||r==o,y=i==wb||i==u;return!p&&e&&"boolean"==typeof o&&(p=o?Ib.has(r):Ob.has(r)),!y&&n&&"boolean"==typeof u&&(y=u?Ib.has(i):Ob.has(i)),p&&y}}const yI=new RegExp("s*:selfs*,?","g");function ax(r,i,e,n){return new bI(r).build(i,e,n)}class bI{constructor(i){this._driver=i}build(i,e,n){const o=new SI(e);return this._resetContextStyleTimingState(o),xa(this,ng(i),o)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles=new Map,i.collectedStyles.set("",new Map),i.currentTime=0}visitTrigger(i,e){let n=e.queryCount=0,o=e.depCount=0;const u=[],p=[];return"@"==i.name.charAt(0)&&e.errors.push(function I1(){return new t.vHH(3006,!1)}()),i.definitions.forEach(y=>{if(this._resetContextStyleTimingState(e),0==y.type){const I=y,G=I.name;G.toString().split(/\s*,\s*/).forEach(ne=>{I.name=ne,u.push(this.visitState(I,e))}),I.name=G}else if(1==y.type){const I=this.visitTransition(y,e);n+=I.queryCount,o+=I.depCount,p.push(I)}else e.errors.push(function O1(){return new t.vHH(3007,!1)}())}),{type:7,name:i.name,states:u,transitions:p,queryCount:n,depCount:o,options:null}}visitState(i,e){const n=this.visitStyle(i.styles,e),o=i.options&&i.options.params||null;if(n.containsDynamicStyles){const u=new Set,p=o||{};n.styles.forEach(y=>{y instanceof Map&&y.forEach(I=>{ew(I).forEach(G=>{p.hasOwnProperty(G)||u.add(G)})})}),u.size&&(Ab(u.values()),e.errors.push(function P1(r,i){return new t.vHH(3008,!1)}()))}return{type:0,name:i.name,style:n,options:o?{params:o}:null}}visitTransition(i,e){e.queryCount=0,e.depCount=0;const n=xa(this,ng(i.animation),e);return{type:1,matchers:gI(i.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:kd(i.options)}}visitSequence(i,e){return{type:2,steps:i.steps.map(n=>xa(this,n,e)),options:kd(i.options)}}visitGroup(i,e){const n=e.currentTime;let o=0;const u=i.steps.map(p=>{e.currentTime=n;const y=xa(this,p,e);return o=Math.max(o,e.currentTime),y});return e.currentTime=o,{type:3,steps:u,options:kd(i.options)}}visitAnimate(i,e){const n=function DI(r,i){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return sx(Mb(r,i).duration,0,"");const e=r;if(e.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=sx(0,0,"");return u.dynamic=!0,u.strValue=e,u}const o=Mb(e,i);return sx(o.duration,o.delay,o.easing)}(i.timings,e.errors);e.currentAnimateTimings=n;let o,u=i.styles?i.styles:(0,br.oB)({});if(5==u.type)o=this.visitKeyframes(u,e);else{let p=i.styles,y=!1;if(!p){y=!0;const G={};n.easing&&(G.easing=n.easing),p=(0,br.oB)(G)}e.currentTime+=n.duration+n.delay;const I=this.visitStyle(p,e);I.isEmptyStep=y,o=I}return e.currentAnimateTimings=null,{type:4,timings:n,style:o,options:null}}visitStyle(i,e){const n=this._makeStyleAst(i,e);return this._validateStyleAst(n,e),n}_makeStyleAst(i,e){const n=[],o=Array.isArray(i.styles)?i.styles:[i.styles];for(let y of o)"string"==typeof y?y===br.l3?n.push(y):e.errors.push(new t.vHH(3002,!1)):n.push(QA(y));let u=!1,p=null;return n.forEach(y=>{if(y instanceof Map&&(y.has("easing")&&(p=y.get("easing"),y.delete("easing")),!u))for(let I of y.values())if(I.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:n,easing:p,offset:i.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(i,e){const n=e.currentAnimateTimings;let o=e.currentTime,u=e.currentTime;n&&u>0&&(u-=n.duration+n.delay),i.styles.forEach(p=>{"string"!=typeof p&&p.forEach((y,I)=>{const G=e.collectedStyles.get(e.currentQuerySelector),ne=G.get(I);let Te=!0;ne&&(u!=o&&u>=ne.startTime&&o<=ne.endTime&&(e.errors.push(function N1(r,i,e,n,o){return new t.vHH(3010,!1)}()),Te=!1),u=ne.startTime),Te&&G.set(I,{startTime:u,endTime:o}),e.options&&function fI(r,i,e){const n=i.params||{},o=ew(r);o.length&&o.forEach(u=>{n.hasOwnProperty(u)||e.push(function x1(r){return new t.vHH(3001,!1)}())})}(y,e.options,e.errors)})})}visitKeyframes(i,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function L1(){return new t.vHH(3011,!1)}()),n;let u=0;const p=[];let y=!1,I=!1,G=0;const ne=i.steps.map(Lt=>{const qt=this._makeStyleAst(Lt,e);let zt=null!=qt.offset?qt.offset:function CI(r){if("string"==typeof r)return null;let i=null;if(Array.isArray(r))r.forEach(e=>{if(e instanceof Map&&e.has("offset")){const n=e;i=parseFloat(n.get("offset")),n.delete("offset")}});else if(r instanceof Map&&r.has("offset")){const e=r;i=parseFloat(e.get("offset")),e.delete("offset")}return i}(qt.styles),un=0;return null!=zt&&(u++,un=qt.offset=zt),I=I||un<0||un>1,y=y||un<G,G=un,p.push(un),qt});I&&e.errors.push(function k1(){return new t.vHH(3012,!1)}()),y&&e.errors.push(function F1(){return new t.vHH(3200,!1)}());const Te=i.steps.length;let Ve=0;u>0&&u<Te?e.errors.push(function B1(){return new t.vHH(3202,!1)}()):0==u&&(Ve=1/(Te-1));const Ge=Te-1,et=e.currentTime,ft=e.currentAnimateTimings,vt=ft.duration;return ne.forEach((Lt,qt)=>{const zt=Ve>0?qt==Ge?1:Ve*qt:p[qt],un=zt*vt;e.currentTime=et+ft.delay+un,ft.duration=un,this._validateStyleAst(Lt,e),Lt.offset=zt,n.styles.push(Lt)}),n}visitReference(i,e){return{type:8,animation:xa(this,ng(i.animation),e),options:kd(i.options)}}visitAnimateChild(i,e){return e.depCount++,{type:9,options:kd(i.options)}}visitAnimateRef(i,e){return{type:10,animation:this.visitReference(i.animation,e),options:kd(i.options)}}visitQuery(i,e){const n=e.currentQuerySelector,o=i.options||{};e.queryCount++,e.currentQuery=i;const[u,p]=function EI(r){const i=!!r.split(/\s*,\s*/).find(e=>":self"==e);return i&&(r=r.replace(yI,"")),r=r.replace(/@\*/g,xb).replace(/@\w+/g,e=>xb+"-"+e.slice(1)).replace(/:animating/g,nx),[r,i]}(i.selector);e.currentQuerySelector=n.length?n+" "+u:u,Da(e.collectedStyles,e.currentQuerySelector,new Map);const y=xa(this,ng(i.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:u,limit:o.limit||0,optional:!!o.optional,includeSelf:p,animation:y,originalSelector:i.selector,options:kd(i.options)}}visitStagger(i,e){e.currentQuery||e.errors.push(function U1(){return new t.vHH(3013,!1)}());const n="full"===i.timings?{duration:0,delay:0,easing:"full"}:Mb(i.timings,e.errors,!0);return{type:12,animation:xa(this,ng(i.animation),e),timings:n,options:null}}}class SI{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function kd(r){return r?(r=tg(r)).params&&(r.params=function TI(r){return r?tg(r):null}(r.params)):r={},r}function sx(r,i,e){return{duration:r,delay:i,easing:e}}function lx(r,i,e,n,o,u,p=null,y=!1){return{type:1,element:r,keyframes:i,preStyleProps:e,postStyleProps:n,duration:o,delay:u,totalTime:o+u,easing:p,subTimeline:y}}class Pb{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,e){let n=this._map.get(i);n||this._map.set(i,n=[]),n.push(...e)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const AI=new RegExp(":enter","g"),II=new RegExp(":leave","g");function cx(r,i,e,n,o,u=new Map,p=new Map,y,I,G=[]){return(new OI).buildKeyframes(r,i,e,n,o,u,p,y,I,G)}class OI{buildKeyframes(i,e,n,o,u,p,y,I,G,ne=[]){G=G||new Pb;const Te=new dx(i,e,G,o,u,ne,[]);Te.options=I;const Ve=I.delay?sl(I.delay):0;Te.currentTimeline.delayNextStep(Ve),Te.currentTimeline.setStyles([p],null,Te.errors,I),xa(this,n,Te);const Ge=Te.timelines.filter(et=>et.containsAnimation());if(Ge.length&&y.size){let et;for(let ft=Ge.length-1;ft>=0;ft--){const vt=Ge[ft];if(vt.element===e){et=vt;break}}et&&!et.allowOnlyTimelineStyles()&&et.setStyles([y],null,Te.errors,I)}return Ge.length?Ge.map(et=>et.buildKeyframes()):[lx(e,[],[],[],0,Ve,"",!1)]}visitTrigger(i,e){}visitState(i,e){}visitTransition(i,e){}visitAnimateChild(i,e){const n=e.subInstructions.get(e.element);if(n){const o=e.createSubContext(i.options),u=e.currentTimeline.currentTime,p=this._visitSubInstructions(n,o,o.options);u!=p&&e.transformIntoNewTimeline(p)}e.previousNode=i}visitAnimateRef(i,e){const n=e.createSubContext(i.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],e,n),this.visitReference(i.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=i}_applyAnimationRefDelays(i,e,n){for(const o of i){const u=o?.delay;if(u){const p="number"==typeof u?u:sl(ig(u,o?.params??{},e.errors));n.delayNextStep(p)}}}_visitSubInstructions(i,e,n){let u=e.currentTimeline.currentTime;const p=null!=n.duration?sl(n.duration):null,y=null!=n.delay?sl(n.delay):null;return 0!==p&&i.forEach(I=>{const G=e.appendInstructionToTimeline(I,p,y);u=Math.max(u,G.duration+G.delay)}),u}visitReference(i,e){e.updateOptions(i.options,!0),xa(this,i.animation,e),e.previousNode=i}visitSequence(i,e){const n=e.subContextCount;let o=e;const u=i.options;if(u&&(u.params||u.delay)&&(o=e.createSubContext(u),o.transformIntoNewTimeline(),null!=u.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Rb);const p=sl(u.delay);o.delayNextStep(p)}i.steps.length&&(i.steps.forEach(p=>xa(this,p,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>n&&o.transformIntoNewTimeline()),e.previousNode=i}visitGroup(i,e){const n=[];let o=e.currentTimeline.currentTime;const u=i.options&&i.options.delay?sl(i.options.delay):0;i.steps.forEach(p=>{const y=e.createSubContext(i.options);u&&y.delayNextStep(u),xa(this,p,y),o=Math.max(o,y.currentTimeline.currentTime),n.push(y.currentTimeline)}),n.forEach(p=>e.currentTimeline.mergeTimelineCollectedStyles(p)),e.transformIntoNewTimeline(o),e.previousNode=i}_visitTiming(i,e){if(i.dynamic){const n=i.strValue;return Mb(e.params?ig(n,e.params,e.errors):n,e.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,e){const n=e.currentAnimateTimings=this._visitTiming(i.timings,e),o=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),o.snapshotCurrentStyles());const u=i.style;5==u.type?this.visitKeyframes(u,e):(e.incrementTime(n.duration),this.visitStyle(u,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=i}visitStyle(i,e){const n=e.currentTimeline,o=e.currentAnimateTimings;!o&&n.hasCurrentStyleProperties()&&n.forwardFrame();const u=o&&o.easing||i.easing;i.isEmptyStep?n.applyEmptyStep(u):n.setStyles(i.styles,u,e.errors,e.options),e.previousNode=i}visitKeyframes(i,e){const n=e.currentAnimateTimings,o=e.currentTimeline.duration,u=n.duration,y=e.createSubContext().currentTimeline;y.easing=n.easing,i.styles.forEach(I=>{y.forwardTime((I.offset||0)*u),y.setStyles(I.styles,I.easing,e.errors,e.options),y.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(y),e.transformIntoNewTimeline(o+u),e.previousNode=i}visitQuery(i,e){const n=e.currentTimeline.currentTime,o=i.options||{},u=o.delay?sl(o.delay):0;u&&(6===e.previousNode.type||0==n&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Rb);let p=n;const y=e.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=y.length;let I=null;y.forEach((G,ne)=>{e.currentQueryIndex=ne;const Te=e.createSubContext(i.options,G);u&&Te.delayNextStep(u),G===e.element&&(I=Te.currentTimeline),xa(this,i.animation,Te),Te.currentTimeline.applyStylesToKeyframe(),p=Math.max(p,Te.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(p),I&&(e.currentTimeline.mergeTimelineCollectedStyles(I),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=i}visitStagger(i,e){const n=e.parentContext,o=e.currentTimeline,u=i.timings,p=Math.abs(u.duration),y=p*(e.currentQueryTotal-1);let I=p*e.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":I=y-I;break;case"full":I=n.currentStaggerTime}const ne=e.currentTimeline;I&&ne.delayNextStep(I);const Te=ne.currentTime;xa(this,i.animation,e),e.previousNode=i,n.currentStaggerTime=o.currentTime-Te+(o.startTime-n.currentTimeline.startTime)}}const Rb={};class dx{constructor(i,e,n,o,u,p,y,I){this._driver=i,this.element=e,this.subInstructions=n,this._enterClassName=o,this._leaveClassName=u,this.errors=p,this.timelines=y,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Rb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=I||new Nb(this._driver,e,0),y.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,e){if(!i)return;const n=i;let o=this.options;null!=n.duration&&(o.duration=sl(n.duration)),null!=n.delay&&(o.delay=sl(n.delay));const u=n.params;if(u){let p=o.params;p||(p=this.options.params={}),Object.keys(u).forEach(y=>{(!e||!p.hasOwnProperty(y))&&(p[y]=ig(u[y],p,this.errors))})}}_copyOptions(){const i={};if(this.options){const e=this.options.params;if(e){const n=i.params={};Object.keys(e).forEach(o=>{n[o]=e[o]})}}return i}createSubContext(i=null,e,n){const o=e||this.element,u=new dx(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,n||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(i),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(i){return this.previousNode=Rb,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,e,n){const o={duration:e??i.duration,delay:this.currentTimeline.currentTime+(n??0)+i.delay,easing:""},u=new PI(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,o,i.stretchStartingKeyframe);return this.timelines.push(u),o}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,e,n,o,u,p){let y=[];if(o&&y.push(this.element),i.length>0){i=(i=i.replace(AI,"."+this._enterClassName)).replace(II,"."+this._leaveClassName);let G=this._driver.query(this.element,i,1!=n);0!==n&&(G=n<0?G.slice(G.length+n,G.length):G.slice(0,n)),y.push(...G)}return!u&&0==y.length&&p.push(function j1(r){return new t.vHH(3014,!1)}()),y}}class Nb{constructor(i,e,n,o){this._driver=i,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+i),e&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,e){return this.applyStylesToKeyframe(),new Nb(this._driver,i,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,e){this._localTimelineStyles.set(i,e),this._globalTimelineStyles.set(i,e),this._styleSummary.set(i,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||br.l3),this._currentKeyframe.set(e,br.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,e,n,o){e&&this._previousKeyframe.set("easing",e);const u=o&&o.params||{},p=function RI(r,i){const e=new Map;let n;return r.forEach(o=>{if("*"===o){n=n||i.keys();for(let u of n)e.set(u,br.l3)}else vc(o,e)}),e}(i,this._globalTimelineStyles);for(let[y,I]of p){const G=ig(I,u,n);this._pendingStyles.set(y,G),this._localTimelineStyles.has(y)||this._backFill.set(y,this._globalTimelineStyles.get(y)??br.l3),this._updateStyle(y,G)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((i,e)=>{this._currentKeyframe.set(e,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,i)}))}snapshotCurrentStyles(){for(let[i,e]of this._localTimelineStyles)this._pendingStyles.set(i,e),this._updateStyle(i,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let e in this._currentKeyframe)i.push(e);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((e,n)=>{const o=this._styleSummary.get(n);(!o||e.time>o.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((y,I)=>{const G=vc(y,new Map,this._backFill);G.forEach((ne,Te)=>{ne===br.k1?i.add(Te):ne===br.l3&&e.add(Te)}),n||G.set("offset",I/this.duration),o.push(G)});const u=i.size?Ab(i.values()):[],p=e.size?Ab(e.values()):[];if(n){const y=o[0],I=new Map(y);y.set("offset",0),I.set("offset",1),o=[y,I]}return lx(this.element,o,u,p,this.duration,this.startTime,this.easing,!1)}}class PI extends Nb{constructor(i,e,n,o,u,p,y=!1){super(i,e,p.delay),this.keyframes=n,this.preStyleProps=o,this.postStyleProps=u,this._stretchStartingKeyframe=y,this.timings={duration:p.duration,delay:p.delay,easing:p.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:e,duration:n,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const u=[],p=n+e,y=e/p,I=vc(i[0]);I.set("offset",0),u.push(I);const G=vc(i[0]);G.set("offset",ow(y)),u.push(G);const ne=i.length-1;for(let Te=1;Te<=ne;Te++){let Ve=vc(i[Te]);const Ge=Ve.get("offset");Ve.set("offset",ow((e+Ge*n)/p)),u.push(Ve)}n=p,e=0,o="",i=u}return lx(this.element,i,this.preStyleProps,this.postStyleProps,n,e,o,!0)}}function ow(r,i=3){const e=Math.pow(10,i-1);return Math.round(r*e)/e}class ux{}const NI=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class LI extends ux{normalizePropertyName(i,e){return ox(i)}normalizeStyleValue(i,e,n,o){let u="";const p=n.toString().trim();if(NI.has(e)&&0!==n&&"0"!==n)if("number"==typeof n)u="px";else{const y=n.match(/^[+-]?[\d\.]+([a-z]*)$/);y&&0==y[1].length&&o.push(function w1(r,i){return new t.vHH(3005,!1)}())}return p+u}}function aw(r,i,e,n,o,u,p,y,I,G,ne,Te,Ve){return{type:0,element:r,triggerName:i,isRemovalTransition:o,fromState:e,fromStyles:u,toState:n,toStyles:p,timelines:y,queriedElements:I,preStyleProps:G,postStyleProps:ne,totalTime:Te,errors:Ve}}const fx={};class sw{constructor(i,e,n){this._triggerName=i,this.ast=e,this._stateStyles=n}match(i,e,n,o){return function kI(r,i,e,n,o){return r.some(u=>u(i,e,n,o))}(this.ast.matchers,i,e,n,o)}buildStyles(i,e,n){let o=this._stateStyles.get("*");return void 0!==i&&(o=this._stateStyles.get(i?.toString())||o),o?o.buildStyles(e,n):new Map}build(i,e,n,o,u,p,y,I,G,ne){const Te=[],Ve=this.ast.options&&this.ast.options.params||fx,et=this.buildStyles(n,y&&y.params||fx,Te),ft=I&&I.params||fx,vt=this.buildStyles(o,ft,Te),Lt=new Set,qt=new Map,zt=new Map,un="void"===o,cn={params:FI(ft,Ve),delay:this.ast.options?.delay},Sn=ne?[]:cx(i,e,this.ast.animation,u,p,et,vt,cn,G,Te);let mn=0;if(Sn.forEach(jn=>{mn=Math.max(jn.duration+jn.delay,mn)}),Te.length)return aw(e,this._triggerName,n,o,un,et,vt,[],[],qt,zt,mn,Te);Sn.forEach(jn=>{const gn=jn.element,Qn=Da(qt,gn,new Set);jn.preStyleProps.forEach(gi=>Qn.add(gi));const zn=Da(zt,gn,new Set);jn.postStyleProps.forEach(gi=>zn.add(gi)),gn!==e&&Lt.add(gn)});const Mn=Ab(Lt.values());return aw(e,this._triggerName,n,o,un,et,vt,Sn,Mn,qt,zt,mn)}}function FI(r,i){const e=tg(i);for(const n in r)r.hasOwnProperty(n)&&null!=r[n]&&(e[n]=r[n]);return e}class BI{constructor(i,e,n){this.styles=i,this.defaultParams=e,this.normalizer=n}buildStyles(i,e){const n=new Map,o=tg(this.defaultParams);return Object.keys(i).forEach(u=>{const p=i[u];null!==p&&(o[u]=p)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((p,y)=>{p&&(p=ig(p,o,e));const I=this.normalizer.normalizePropertyName(y,e);p=this.normalizer.normalizeStyleValue(y,I,p,e),n.set(y,p)})}),n}}class jI{constructor(i,e,n){this.name=i,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{this.states.set(o.name,new BI(o.style,o.options&&o.options.params||{},n))}),lw(this.states,"true","1"),lw(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new sw(i,o,this.states))}),this.fallbackTransition=function VI(r,i,e){return new sw(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(p,y)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,e,n,o){return this.transitionFactories.find(p=>p.match(i,e,n,o))||null}matchStyles(i,e,n){return this.fallbackTransition.buildStyles(i,e,n)}}function lw(r,i,e){r.has(i)?r.has(e)||r.set(e,r.get(i)):r.has(e)&&r.set(i,r.get(e))}const GI=new Pb;class HI{constructor(i,e,n){this.bodyNode=i,this._driver=e,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,e){const n=[],u=ax(this._driver,e,n,[]);if(n.length)throw function z1(r){return new t.vHH(3503,!1)}();this._animations.set(i,u)}_buildPlayer(i,e,n){const o=i.element,u=YA(this._normalizer,i.keyframes,e,n);return this._driver.animate(o,u,i.duration,i.delay,i.easing,[],!0)}create(i,e,n={}){const o=[],u=this._animations.get(i);let p;const y=new Map;if(u?(p=cx(this._driver,e,u,tx,Cb,new Map,new Map,n,GI,o),p.forEach(ne=>{const Te=Da(y,ne.element,new Map);ne.postStyleProps.forEach(Ve=>Te.set(Ve,null))})):(o.push(function Z1(){return new t.vHH(3300,!1)}()),p=[]),o.length)throw function $1(r){return new t.vHH(3504,!1)}();y.forEach((ne,Te)=>{ne.forEach((Ve,Ge)=>{ne.set(Ge,this._driver.computeStyle(Te,Ge,br.l3))})});const G=_c(p.map(ne=>{const Te=y.get(ne.element);return this._buildPlayer(ne,new Map,Te)}));return this._playersById.set(i,G),G.onDestroy(()=>this.destroy(i)),this.players.push(G),G}destroy(i){const e=this._getPlayer(i);e.destroy(),this._playersById.delete(i);const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(i){const e=this._playersById.get(i);if(!e)throw function q1(r){return new t.vHH(3301,!1)}();return e}listen(i,e,n,o){const u=QD(e,"","","");return qD(this._getPlayer(i),n,u,o),()=>{}}command(i,e,n,o){if("register"==n)return void this.register(i,o[0]);if("create"==n)return void this.create(i,e,o[0]||{});const u=this._getPlayer(i);switch(n){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(i)}}}const cw="ng-animate-queued",hx="ng-animate-disabled",ZI=[],dw={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$I={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ls="__ng_removed";class mx{get params(){return this.options.params}constructor(i,e=""){this.namespaceId=e;const n=i&&i.hasOwnProperty("value");if(this.value=function XI(r){return r??null}(n?i.value:i),n){const u=tg(i);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){const e=i.params;if(e){const n=this.options.params;Object.keys(e).forEach(o=>{null==n[o]&&(n[o]=e[o])})}}}const rg="void",px=new mx(rg);class qI{constructor(i,e,n){this.id=i,this.hostElement=e,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Ga(e,this._hostClassName)}listen(i,e,n,o){if(!this._triggers.has(e))throw function J1(r,i){return new t.vHH(3302,!1)}();if(null==n||0==n.length)throw function Q1(r){return new t.vHH(3303,!1)}();if(!function eO(r){return"start"==r||"done"==r}(n))throw function X1(r,i){return new t.vHH(3400,!1)}();const u=Da(this._elementListeners,i,[]),p={name:e,phase:n,callback:o};u.push(p);const y=Da(this._engine.statesByElement,i,new Map);return y.has(e)||(Ga(i,Db),Ga(i,Db+"-"+e),y.set(e,px)),()=>{this._engine.afterFlush(()=>{const I=u.indexOf(p);I>=0&&u.splice(I,1),this._triggers.has(e)||y.delete(e)})}}register(i,e){return!this._triggers.has(i)&&(this._triggers.set(i,e),!0)}_getTrigger(i){const e=this._triggers.get(i);if(!e)throw function eI(r){return new t.vHH(3401,!1)}();return e}trigger(i,e,n,o=!0){const u=this._getTrigger(e),p=new gx(this.id,e,i);let y=this._engine.statesByElement.get(i);y||(Ga(i,Db),Ga(i,Db+"-"+e),this._engine.statesByElement.set(i,y=new Map));let I=y.get(e);const G=new mx(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&I&&G.absorbOptions(I.options),y.set(e,G),I||(I=px),G.value!==rg&&I.value===G.value){if(!function iO(r,i){const e=Object.keys(r),n=Object.keys(i);if(e.length!=n.length)return!1;for(let o=0;o<e.length;o++){const u=e[o];if(!i.hasOwnProperty(u)||r[u]!==i[u])return!1}return!0}(I.params,G.params)){const ft=[],vt=u.matchStyles(I.value,I.params,ft),Lt=u.matchStyles(G.value,G.params,ft);ft.length?this._engine.reportError(ft):this._engine.afterFlush(()=>{Ld(i,vt),Rs(i,Lt)})}return}const Ve=Da(this._engine.playersByElement,i,[]);Ve.forEach(ft=>{ft.namespaceId==this.id&&ft.triggerName==e&&ft.queued&&ft.destroy()});let Ge=u.matchTransition(I.value,G.value,i,G.params),et=!1;if(!Ge){if(!o)return;Ge=u.fallbackTransition,et=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:e,transition:Ge,fromState:I,toState:G,player:p,isFallbackTransition:et}),et||(Ga(i,cw),p.onStart(()=>{Uf(i,cw)})),p.onDone(()=>{let ft=this.players.indexOf(p);ft>=0&&this.players.splice(ft,1);const vt=this._engine.playersByElement.get(i);if(vt){let Lt=vt.indexOf(p);Lt>=0&&vt.splice(Lt,1)}}),this.players.push(p),Ve.push(p),p}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(e=>e.delete(i)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(o=>o.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const e=this._engine.playersByElement.get(i);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,e){const n=this._engine.driver.query(i,xb,!0);n.forEach(o=>{if(o[ls])return;const u=this._engine.fetchNamespacesByElement(o);u.size?u.forEach(p=>p.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(i,e,n,o){const u=this._engine.statesByElement.get(i),p=new Map;if(u){const y=[];if(u.forEach((I,G)=>{if(p.set(G,I.value),this._triggers.has(G)){const ne=this.trigger(i,G,rg,o);ne&&y.push(ne)}}),y.length)return this._engine.markElementAsRemoved(this.id,i,!0,e,p),n&&_c(y).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const e=this._elementListeners.get(i),n=this._engine.statesByElement.get(i);if(e&&n){const o=new Set;e.forEach(u=>{const p=u.name;if(o.has(p))return;o.add(p);const I=this._triggers.get(p).fallbackTransition,G=n.get(p)||px,ne=new mx(rg),Te=new gx(this.id,p,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:p,transition:I,fromState:G,toState:ne,player:Te,isFallbackTransition:!0})})}}removeNode(i,e){const n=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,e),this.triggerLeaveAnimation(i,e,!0))return;let o=!1;if(n.totalAnimations){const u=n.players.length?n.playersByQueriedElement.get(i):[];if(u&&u.length)o=!0;else{let p=i;for(;p=p.parentNode;)if(n.statesByElement.get(p)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(i),o)n.markElementAsRemoved(this.id,i,!1,e);else{const u=i[ls];(!u||u===dw)&&(n.afterFlush(()=>this.clearElementCache(i)),n.destroyInnerAnimations(i),n._onRemovalComplete(i,e))}}insertNode(i,e){Ga(i,this._hostClassName)}drainQueuedTransitions(i){const e=[];return this._queue.forEach(n=>{const o=n.player;if(o.destroyed)return;const u=n.element,p=this._elementListeners.get(u);p&&p.forEach(y=>{if(y.name==n.triggerName){const I=QD(u,n.triggerName,n.fromState.value,n.toState.value);I._data=i,qD(n.player,y.phase,I,y.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(n)}),this._queue=[],e.sort((n,o)=>{const u=n.transition.ast.depCount,p=o.transition.ast.depCount;return 0==u||0==p?u-p:this._engine.driver.containsElement(n.element,o.element)?1:-1})}destroy(i){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}}class JI{_onRemovalComplete(i,e){this.onRemovalComplete(i,e)}constructor(i,e,n){this.bodyNode=i,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,u)=>{}}get queuedPlayers(){const i=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&i.push(n)})}),i}createNamespace(i,e){const n=new qI(i,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[i]=n}_balanceNamespaceList(i,e){const n=this._namespaceList,o=this.namespacesByHostElement;if(n.length-1>=0){let p=!1,y=this.driver.getParentElement(e);for(;y;){const I=o.get(y);if(I){const G=n.indexOf(I);n.splice(G+1,0,i),p=!0;break}y=this.driver.getParentElement(y)}p||n.unshift(i)}else n.push(i);return o.set(e,i),i}register(i,e){let n=this._namespaceLookup[i];return n||(n=this.createNamespace(i,e)),n}registerTrigger(i,e,n){let o=this._namespaceLookup[i];o&&o.register(e,n)&&this.totalAnimations++}destroy(i,e){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(i);this.namespacesByHostElement.delete(n.hostElement);const o=this._namespaceList.indexOf(n);o>=0&&this._namespaceList.splice(o,1),n.destroy(e),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const e=new Set,n=this.statesByElement.get(i);if(n)for(let o of n.values())if(o.namespaceId){const u=this._fetchNamespace(o.namespaceId);u&&e.add(u)}return e}trigger(i,e,n,o){if(Lb(e)){const u=this._fetchNamespace(i);if(u)return u.trigger(e,n,o),!0}return!1}insertNode(i,e,n,o){if(!Lb(e))return;const u=e[ls];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const p=this.collectedLeaveElements.indexOf(e);p>=0&&this.collectedLeaveElements.splice(p,1)}if(i){const p=this._fetchNamespace(i);p&&p.insertNode(e,n)}o&&this.collectEnterElement(e)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,e){e?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Ga(i,hx)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),Uf(i,hx))}removeNode(i,e,n){if(Lb(e)){const o=i?this._fetchNamespace(i):null;o?o.removeNode(e,n):this.markElementAsRemoved(i,e,!1,n);const u=this.namespacesByHostElement.get(e);u&&u.id!==i&&u.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(i,e,n,o,u){this.collectedLeaveElements.push(e),e[ls]={namespaceId:i,setForRemoval:o,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:u}}listen(i,e,n,o,u){return Lb(e)?this._fetchNamespace(i).listen(e,n,o,u):()=>{}}_buildInstruction(i,e,n,o,u){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,n,o,i.fromState.options,i.toState.options,e,u)}destroyInnerAnimations(i){let e=this.driver.query(i,xb,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(i,nx,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(i){const e=this.playersByElement.get(i);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(i){const e=this.playersByQueriedElement.get(i);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return _c(this.players).onDone(()=>i());i()})}processLeaveNode(i){const e=i[ls];if(e&&e.setForRemoval){if(i[ls]=dw,e.namespaceId){this.destroyInnerAnimations(i);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(i)}this._onRemovalComplete(i,e.setForRemoval)}i.classList?.contains(hx)&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(i=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,o)=>this._balanceNamespaceList(n,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Ga(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,i)}finally{for(let o=0;o<n.length;o++)n[o]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],e.length?_c(e).onDone(()=>{n.forEach(o=>o())}):n.forEach(o=>o())}}reportError(i){throw function tI(r){return new t.vHH(3402,!1)}()}_flushAnimations(i,e){const n=new Pb,o=[],u=new Map,p=[],y=new Map,I=new Map,G=new Map,ne=new Set;this.disabledNodes.forEach(Gn=>{ne.add(Gn);const Yn=this.driver.query(Gn,".ng-animate-queued",!0);for(let On=0;On<Yn.length;On++)ne.add(Yn[On])});const Te=this.bodyNode,Ve=Array.from(this.statesByElement.keys()),Ge=hw(Ve,this.collectedEnterElements),et=new Map;let ft=0;Ge.forEach((Gn,Yn)=>{const On=tx+ft++;et.set(Yn,On),Gn.forEach(Hn=>Ga(Hn,On))});const vt=[],Lt=new Set,qt=new Set;for(let Gn=0;Gn<this.collectedLeaveElements.length;Gn++){const Yn=this.collectedLeaveElements[Gn],On=Yn[ls];On&&On.setForRemoval&&(vt.push(Yn),Lt.add(Yn),On.hasAnimation?this.driver.query(Yn,".ng-star-inserted",!0).forEach(Hn=>Lt.add(Hn)):qt.add(Yn))}const zt=new Map,un=hw(Ve,Array.from(Lt));un.forEach((Gn,Yn)=>{const On=Cb+ft++;zt.set(Yn,On),Gn.forEach(Hn=>Ga(Hn,On))}),i.push(()=>{Ge.forEach((Gn,Yn)=>{const On=et.get(Yn);Gn.forEach(Hn=>Uf(Hn,On))}),un.forEach((Gn,Yn)=>{const On=zt.get(Yn);Gn.forEach(Hn=>Uf(Hn,On))}),vt.forEach(Gn=>{this.processLeaveNode(Gn)})});const cn=[],Sn=[];for(let Gn=this._namespaceList.length-1;Gn>=0;Gn--)this._namespaceList[Gn].drainQueuedTransitions(e).forEach(On=>{const Hn=On.player,_i=On.element;if(cn.push(Hn),this.collectedEnterElements.length){const ur=_i[ls];if(ur&&ur.setForMove){if(ur.previousTriggersValues&&ur.previousTriggersValues.has(On.triggerName)){const eo=ur.previousTriggersValues.get(On.triggerName),Lo=this.statesByElement.get(On.element);if(Lo&&Lo.has(On.triggerName)){const jf=Lo.get(On.triggerName);jf.value=eo,Lo.set(On.triggerName,jf)}}return void Hn.destroy()}}const Ii=!Te||!this.driver.containsElement(Te,_i),yi=zt.get(_i),Ji=et.get(_i),xi=this._buildInstruction(On,n,Ji,yi,Ii);if(xi.errors&&xi.errors.length)return void Sn.push(xi);if(Ii)return Hn.onStart(()=>Ld(_i,xi.fromStyles)),Hn.onDestroy(()=>Rs(_i,xi.toStyles)),void o.push(Hn);if(On.isFallbackTransition)return Hn.onStart(()=>Ld(_i,xi.fromStyles)),Hn.onDestroy(()=>Rs(_i,xi.toStyles)),void o.push(Hn);const wr=[];xi.timelines.forEach(ur=>{ur.stretchStartingKeyframe=!0,this.disabledNodes.has(ur.element)||wr.push(ur)}),xi.timelines=wr,n.append(_i,xi.timelines),p.push({instruction:xi,player:Hn,element:_i}),xi.queriedElements.forEach(ur=>Da(y,ur,[]).push(Hn)),xi.preStyleProps.forEach((ur,eo)=>{if(ur.size){let Lo=I.get(eo);Lo||I.set(eo,Lo=new Set),ur.forEach((jf,Fd)=>Lo.add(Fd))}}),xi.postStyleProps.forEach((ur,eo)=>{let Lo=G.get(eo);Lo||G.set(eo,Lo=new Set),ur.forEach((jf,Fd)=>Lo.add(Fd))})});if(Sn.length){const Gn=[];Sn.forEach(Yn=>{Gn.push(function nI(r,i){return new t.vHH(3505,!1)}())}),cn.forEach(Yn=>Yn.destroy()),this.reportError(Gn)}const mn=new Map,Mn=new Map;p.forEach(Gn=>{const Yn=Gn.element;n.has(Yn)&&(Mn.set(Yn,Yn),this._beforeAnimationBuild(Gn.player.namespaceId,Gn.instruction,mn))}),o.forEach(Gn=>{const Yn=Gn.element;this._getPreviousPlayers(Yn,!1,Gn.namespaceId,Gn.triggerName,null).forEach(Hn=>{Da(mn,Yn,[]).push(Hn),Hn.destroy()})});const jn=vt.filter(Gn=>pw(Gn,I,G)),gn=new Map;fw(gn,this.driver,qt,G,br.l3).forEach(Gn=>{pw(Gn,I,G)&&jn.push(Gn)});const zn=new Map;Ge.forEach((Gn,Yn)=>{fw(zn,this.driver,new Set(Gn),I,br.k1)}),jn.forEach(Gn=>{const Yn=gn.get(Gn),On=zn.get(Gn);gn.set(Gn,new Map([...Yn?.entries()??[],...On?.entries()??[]]))});const gi=[],Er=[],Ki={};p.forEach(Gn=>{const{element:Yn,player:On,instruction:Hn}=Gn;if(n.has(Yn)){if(ne.has(Yn))return On.onDestroy(()=>Rs(Yn,Hn.toStyles)),On.disabled=!0,On.overrideTotalTime(Hn.totalTime),void o.push(On);let _i=Ki;if(Mn.size>1){let yi=Yn;const Ji=[];for(;yi=yi.parentNode;){const xi=Mn.get(yi);if(xi){_i=xi;break}Ji.push(yi)}Ji.forEach(xi=>Mn.set(xi,_i))}const Ii=this._buildAnimation(On.namespaceId,Hn,mn,u,zn,gn);if(On.setRealPlayer(Ii),_i===Ki)gi.push(On);else{const yi=this.playersByElement.get(_i);yi&&yi.length&&(On.parentPlayer=_c(yi)),o.push(On)}}else Ld(Yn,Hn.fromStyles),On.onDestroy(()=>Rs(Yn,Hn.toStyles)),Er.push(On),ne.has(Yn)&&o.push(On)}),Er.forEach(Gn=>{const Yn=u.get(Gn.element);if(Yn&&Yn.length){const On=_c(Yn);Gn.setRealPlayer(On)}}),o.forEach(Gn=>{Gn.parentPlayer?Gn.syncPlayerEvents(Gn.parentPlayer):Gn.destroy()});for(let Gn=0;Gn<vt.length;Gn++){const Yn=vt[Gn],On=Yn[ls];if(Uf(Yn,Cb),On&&On.hasAnimation)continue;let Hn=[];if(y.size){let Ii=y.get(Yn);Ii&&Ii.length&&Hn.push(...Ii);let yi=this.driver.query(Yn,nx,!0);for(let Ji=0;Ji<yi.length;Ji++){let xi=y.get(yi[Ji]);xi&&xi.length&&Hn.push(...xi)}}const _i=Hn.filter(Ii=>!Ii.destroyed);_i.length?tO(this,Yn,_i):this.processLeaveNode(Yn)}return vt.length=0,gi.forEach(Gn=>{this.players.push(Gn),Gn.onDone(()=>{Gn.destroy();const Yn=this.players.indexOf(Gn);this.players.splice(Yn,1)}),Gn.play()}),gi}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,e,n,o,u){let p=[];if(e){const y=this.playersByQueriedElement.get(i);y&&(p=y)}else{const y=this.playersByElement.get(i);if(y){const I=!u||u==rg;y.forEach(G=>{G.queued||!I&&G.triggerName!=o||p.push(G)})}}return(n||o)&&(p=p.filter(y=>!(n&&n!=y.namespaceId||o&&o!=y.triggerName))),p}_beforeAnimationBuild(i,e,n){const u=e.element,p=e.isRemovalTransition?void 0:i,y=e.isRemovalTransition?void 0:e.triggerName;for(const I of e.timelines){const G=I.element,ne=G!==u,Te=Da(n,G,[]);this._getPreviousPlayers(G,ne,p,y,e.toState).forEach(Ge=>{const et=Ge.getRealPlayer();et.beforeDestroy&&et.beforeDestroy(),Ge.destroy(),Te.push(Ge)})}Ld(u,e.fromStyles)}_buildAnimation(i,e,n,o,u,p){const y=e.triggerName,I=e.element,G=[],ne=new Set,Te=new Set,Ve=e.timelines.map(et=>{const ft=et.element;ne.add(ft);const vt=ft[ls];if(vt&&vt.removedBeforeQueried)return new br.ZN(et.duration,et.delay);const Lt=ft!==I,qt=function nO(r){const i=[];return mw(r,i),i}((n.get(ft)||ZI).map(mn=>mn.getRealPlayer())).filter(mn=>!!mn.element&&mn.element===ft),zt=u.get(ft),un=p.get(ft),cn=YA(this._normalizer,et.keyframes,zt,un),Sn=this._buildPlayer(et,cn,qt);if(et.subTimeline&&o&&Te.add(ft),Lt){const mn=new gx(i,y,ft);mn.setRealPlayer(Sn),G.push(mn)}return Sn});G.forEach(et=>{Da(this.playersByQueriedElement,et.element,[]).push(et),et.onDone(()=>function QI(r,i,e){let n=r.get(i);if(n){if(n.length){const o=n.indexOf(e);n.splice(o,1)}0==n.length&&r.delete(i)}return n}(this.playersByQueriedElement,et.element,et))}),ne.forEach(et=>Ga(et,JA));const Ge=_c(Ve);return Ge.onDestroy(()=>{ne.forEach(et=>Uf(et,JA)),Rs(I,e.toStyles)}),Te.forEach(et=>{Da(o,et,[]).push(Ge)}),Ge}_buildPlayer(i,e,n){return e.length>0?this.driver.animate(i.element,e,i.duration,i.delay,i.easing,n):new br.ZN(i.duration,i.delay)}}class gx{constructor(i,e,n){this.namespaceId=i,this.triggerName=e,this.element=n,this._player=new br.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((e,n)=>{e.forEach(o=>qD(i,n,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const e=this._player;e.triggerCallback&&i.onStart(()=>e.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,e){Da(this._queuedCallbacks,i,[]).push(e)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const e=this._player;e.triggerCallback&&e.triggerCallback(i)}}function Lb(r){return r&&1===r.nodeType}function uw(r,i){const e=r.style.display;return r.style.display=i??"none",e}function fw(r,i,e,n,o){const u=[];e.forEach(I=>u.push(uw(I)));const p=[];n.forEach((I,G)=>{const ne=new Map;I.forEach(Te=>{const Ve=i.computeStyle(G,Te,o);ne.set(Te,Ve),(!Ve||0==Ve.length)&&(G[ls]=$I,p.push(G))}),r.set(G,ne)});let y=0;return e.forEach(I=>uw(I,u[y++])),p}function hw(r,i){const e=new Map;if(r.forEach(y=>e.set(y,[])),0==i.length)return e;const o=new Set(i),u=new Map;function p(y){if(!y)return 1;let I=u.get(y);if(I)return I;const G=y.parentNode;return I=e.has(G)?G:o.has(G)?1:p(G),u.set(y,I),I}return i.forEach(y=>{const I=p(y);1!==I&&e.get(I).push(y)}),e}function Ga(r,i){r.classList?.add(i)}function Uf(r,i){r.classList?.remove(i)}function tO(r,i,e){_c(e).onDone(()=>r.processLeaveNode(i))}function mw(r,i){for(let e=0;e<r.length;e++){const n=r[e];n instanceof br.ZE?mw(n.players,i):i.push(n)}}function pw(r,i,e){const n=e.get(r);if(!n)return!1;let o=i.get(r);return o?n.forEach(u=>o.add(u)):i.set(r,n),e.delete(r),!0}class kb{constructor(i,e,n){this.bodyNode=i,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(o,u)=>{},this._transitionEngine=new JI(i,e,n),this._timelineEngine=new HI(i,e,n),this._transitionEngine.onRemovalComplete=(o,u)=>this.onRemovalComplete(o,u)}registerTrigger(i,e,n,o,u){const p=i+"-"+o;let y=this._triggerCache[p];if(!y){const I=[],ne=ax(this._driver,u,I,[]);if(I.length)throw function K1(r,i){return new t.vHH(3404,!1)}();y=function UI(r,i,e){return new jI(r,i,e)}(o,ne,this._normalizer),this._triggerCache[p]=y}this._transitionEngine.registerTrigger(e,o,y)}register(i,e){this._transitionEngine.register(i,e)}destroy(i,e){this._transitionEngine.destroy(i,e)}onInsert(i,e,n,o){this._transitionEngine.insertNode(i,e,n,o)}onRemove(i,e,n){this._transitionEngine.removeNode(i,e,n)}disableAnimations(i,e){this._transitionEngine.markElementAsDisabled(i,e)}process(i,e,n,o){if("@"==n.charAt(0)){const[u,p]=KA(n);this._timelineEngine.command(u,e,p,o)}else this._transitionEngine.trigger(i,e,n,o)}listen(i,e,n,o,u){if("@"==n.charAt(0)){const[p,y]=KA(n);return this._timelineEngine.listen(p,e,y,u)}return this._transitionEngine.listen(i,e,n,o,u)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}}let oO=(()=>{class r{static#e=this.initialStylesByElement=new WeakMap;constructor(e,n,o){this._element=e,this._startStyles=n,this._endStyles=o,this._state=0;let u=r.initialStylesByElement.get(e);u||r.initialStylesByElement.set(e,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&Rs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Rs(this._element,this._initialStyles),this._endStyles&&(Rs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Ld(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ld(this._element,this._endStyles),this._endStyles=null),Rs(this._element,this._initialStyles),this._state=3)}}return r})();function _x(r){let i=null;return r.forEach((e,n)=>{(function aO(r){return"display"===r||"position"===r})(n)&&(i=i||new Map,i.set(n,e))}),i}class gw{constructor(i,e,n,o){this.element=i,this.keyframes=e,this.options=n,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){const e=[];return i.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(i,e,n){return i.animate(this._convertKeyframesToObject(e),n)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,o)=>{"offset"!==o&&i.set(o,this._finished?n:tw(this.element,o))}),this.currentSnapshot=i}triggerCallback(i){const e="start"===i?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class sO{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}matchesElement(i,e){return!1}containsElement(i,e){return zA(i,e)}getParentElement(i){return XD(i)}query(i,e,n){return ZA(i,e,n)}computeStyle(i,e,n){return window.getComputedStyle(i)[e]}animate(i,e,n,o,u,p=[]){const I={duration:n,delay:o,fill:0==o?"both":"forwards"};u&&(I.easing=u);const G=new Map,ne=p.filter(Ge=>Ge instanceof gw);(function mI(r,i){return 0===r||0===i})(n,o)&&ne.forEach(Ge=>{Ge.currentSnapshot.forEach((et,ft)=>G.set(ft,et))});let Te=function uI(r){return r.length?r[0]instanceof Map?r:r.map(i=>QA(i)):[]}(e).map(Ge=>vc(Ge));Te=function pI(r,i,e){if(e.size&&i.length){let n=i[0],o=[];if(e.forEach((u,p)=>{n.has(p)||o.push(p),n.set(p,u)}),o.length)for(let u=1;u<i.length;u++){let p=i[u];o.forEach(y=>p.set(y,tw(r,y)))}}return i}(i,Te,G);const Ve=function rO(r,i){let e=null,n=null;return Array.isArray(i)&&i.length?(e=_x(i[0]),i.length>1&&(n=_x(i[i.length-1]))):i instanceof Map&&(e=_x(i)),e||n?new oO(r,e,n):null}(i,Te);return new gw(i,Te,I,Ve)}}let lO=(()=>{class r extends br._j{constructor(e,n){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(n.body,{id:"0",encapsulation:t.ifc.None,styles:[],data:{animation:[]}})}build(e){const n=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?(0,br.vP)(e):e;return _w(this._renderer,null,n,"register",[o]),new cO(n,this._renderer)}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(t.FYo),t.LFG(g.K0))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();class cO extends br.LC{constructor(i,e){super(),this._id=i,this._renderer=e}create(i,e){return new dO(this._id,i,e||{},this._renderer)}}class dO{constructor(i,e,n,o){this.id=i,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(i,e){return this._renderer.listen(this.element,`@@${this.id}:${i}`,e)}_command(i,...e){return _w(this._renderer,this.element,this.id,i,e)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function _w(r,i,e,n,o){return r.setProperty(i,`@@${e}:${n}`,o)}const vw="@.disabled";let uO=(()=>{class r{constructor(e,n,o){this.delegate=e,this.engine=n,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(u,p)=>{const y=p?.parentNode(u);y&&p.removeChild(y,u)}}createRenderer(e,n){const u=this.delegate.createRenderer(e,n);if(!(e&&n&&n.data&&n.data.animation)){let ne=this._rendererCache.get(u);return ne||(ne=new yw("",u,this.engine,()=>this._rendererCache.delete(u)),this._rendererCache.set(u,ne)),ne}const p=n.id,y=n.id+"-"+this._currentId;this._currentId++,this.engine.register(y,e);const I=ne=>{Array.isArray(ne)?ne.forEach(I):this.engine.registerTrigger(p,y,e,ne.name,ne)};return n.data.animation.forEach(I),new fO(this,y,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,o){e>=0&&e<this._microtaskId?this._zone.run(()=>n(o)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[p,y]=u;p(y)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(t.FYo),t.LFG(kb),t.LFG(t.R0b))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();class yw{constructor(i,e,n,o){this.namespaceId=i,this.delegate=e,this.engine=n,this._onDestroy=o}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,e){this.delegate.appendChild(i,e),this.engine.onInsert(this.namespaceId,e,i,!1)}insertBefore(i,e,n,o=!0){this.delegate.insertBefore(i,e,n),this.engine.onInsert(this.namespaceId,e,i,o)}removeChild(i,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,n,o){this.delegate.setAttribute(i,e,n,o)}removeAttribute(i,e,n){this.delegate.removeAttribute(i,e,n)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,n,o){this.delegate.setStyle(i,e,n,o)}removeStyle(i,e,n){this.delegate.removeStyle(i,e,n)}setProperty(i,e,n){"@"==e.charAt(0)&&e==vw?this.disableAnimations(i,!!n):this.delegate.setProperty(i,e,n)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,n){return this.delegate.listen(i,e,n)}disableAnimations(i,e){this.engine.disableAnimations(i,e)}}class fO extends yw{constructor(i,e,n,o,u){super(e,n,o,u),this.factory=i,this.namespaceId=e}setProperty(i,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&e==vw?this.disableAnimations(i,n=void 0===n||!!n):this.engine.process(this.namespaceId,i,e.slice(1),n):this.delegate.setProperty(i,e,n)}listen(i,e,n){if("@"==e.charAt(0)){const o=function hO(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(i);let u=e.slice(1),p="";return"@"!=u.charAt(0)&&([u,p]=function mO(r){const i=r.indexOf(".");return[r.substring(0,i),r.slice(i+1)]}(u)),this.engine.listen(this.namespaceId,o,u,p,y=>{this.factory.scheduleListenerCallback(y._data||-1,n,y)})}return this.delegate.listen(i,e,n)}}let pO=(()=>{class r extends kb{constructor(e,n,o,u){super(e.body,n,o)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(g.K0),t.LFG(ex),t.LFG(ux),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();const bw=[{provide:br._j,useClass:lO},{provide:ux,useFactory:function gO(){return new LI}},{provide:kb,useClass:pO},{provide:t.FYo,useFactory:function _O(r,i,e){return new uO(r,i,e)},deps:[c.se,kb,t.R0b]}],vx=[{provide:ex,useFactory:()=>new sO},{provide:t.QbO,useValue:"BrowserAnimations"},...bw],Ew=[{provide:ex,useClass:$A},{provide:t.QbO,useValue:"NoopAnimations"},...bw];let vO=(()=>{class r{static withConfig(e){return{ngModule:r,providers:e.disableAnimations?Ew:vx}}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({providers:vx,imports:[c.b2]})}return r})(),yO=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=t.oAB({type:r,bootstrap:[S1]});static#n=this.\u0275inj=t.cJS({providers:[{provide:g.mr,useValue:"/"}],imports:[c.b2,Ft.u5,zs.m,Nt,BA,ui,vO]})}return r})();c.q6().bootstrapModule(yO).catch(r=>console.error(r))},4753:(wn,qe,x)=>{"use strict";qe.Q=void 0;const t=x(2546),E=x(8540);qe.Q=b=>b.startsWith("WEBVTT")?E.vttParser(b):t.srtParser(b)},2546:(wn,qe,x)=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0}),qe.srtParser=void 0;const c=x(4575),t=x(2279),O=L=>{let m,h,g,D=L.split(":");return 2===D.length?[h,g]=D:[m,h,g]=D,parseInt(g.replace(",",""),10)+60*parseInt(h,10)*1e3+60*(m?parseInt(m,10):0)*60*1e3},b=()=>({start(L){let D="ID",m={tokens:L.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==D;){const h=this[D](m);m=h.params,D=h.next}return m.result},ID(L){const{tokens:D,pos:m,current:h}=L;if(D.length<=m)return{next:"FINISH",params:L};if(t.isBlank(D[m]))return{next:"ID",params:{...L,pos:m+1}};const g=D[m].includes("--\x3e");return h.id=g?"":D[m],{next:"TIME_LINE",params:{...L,current:h,tokens:D,pos:g?m:m+1}}},TIME_LINE(L){const{tokens:D,pos:m,current:h}=L,g=D[m],[v,A]=g.split("--\x3e");return h.from=O(v),h.to=O(A),{next:"TEXT",params:{...L,current:h,pos:m+1}}},TEXT(L){const{tokens:D,pos:m,current:h}=L;return D.length<=m?{next:"FINISH",params:L}:(h.text=D[m],{next:"MULTI_LINE_TEXT",params:{...L,current:h,pos:m+1}})},MULTI_LINE_TEXT(L){const{tokens:D,pos:m,current:h}=L;return D.length<=m?{next:"FINISH",params:L}:t.isBlank(D[m])?{next:"FIN_ENTRY",params:L}:(h.text=`${h.text}\n${D[m]}`,{next:"MULTI_LINE_TEXT",params:{...L,current:h,pos:m+1}})},FIN_ENTRY(L){const{pos:D,current:m,result:h}=L;if(!c.isEntryFromPartial(m))throw new Error(`Parsing error current not complete ${JSON.stringify(m)}`);return h.push(m),{next:"ID",params:{...L,current:{},pos:D+1}}},FINISH:L=>({next:"FINISH",params:L})});qe.srtParser=L=>({entries:b().start(L)})},4575:(wn,qe)=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0}),qe.isEntryFromPartial=void 0,qe.isEntryFromPartial=c=>"string"==typeof c.id&&"number"==typeof c.from&&"number"==typeof c.to&&"string"==typeof c.text},2279:(wn,qe)=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0}),qe.isBlank=void 0,qe.isBlank=c=>!c||/^\s*$/.test(c)},8540:(wn,qe,x)=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0}),qe.vttParser=void 0;const c=x(4575),t=x(2279),O=L=>{let m,h,g,D=L.split(":");return 2===D.length?[h,g]=D:[m,h,g]=D,parseInt(g.replace(".",""),10)+60*parseInt(h,10)*1e3+60*(m?parseInt(m,10):0)*60*1e3},b=()=>({start(L){let D="HEADER",m={tokens:L.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==D;){const h=this[D](m);m=h.params,D=h.next}return m.result},HEADER:L=>({next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:L.pos+1}}),ID_OR_NOTE_OR_STYLE(L){const{tokens:D,pos:m}=L;return D.length<=m?{next:"FINISH",params:L}:t.isBlank(D[m])?{next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:m+1}}:D[m].toUpperCase().includes("NOTE")?{next:"NOTE",params:L}:D[m].toUpperCase().includes("STYLE")?{next:"STYLE",params:L}:{next:"ID",params:L}},STYLE(L){const{tokens:D,pos:m}=L;return t.isBlank(D[m])?{next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:m+1}}:{next:"STYLE",params:{...L,pos:m+1}}},NOTE(L){const{tokens:D,pos:m}=L;return t.isBlank(D[m])?{next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:m+1}}:{next:"STYLE",params:{...L,pos:m+1}}},ID(L){const{tokens:D,pos:m,current:h}=L;if(D.length<=m)return{next:"FINISH",params:L};if(t.isBlank(D[m]))return{next:"ID",params:{...L,pos:m+1}};const g=D[m].includes("--\x3e");return h.id=g?"":D[m],{next:"TIME_LINE",params:{...L,current:h,tokens:D,pos:g?m:m+1}}},TIME_LINE(L){const{tokens:D,pos:m,current:h}=L,g=D[m],[v,A]=g.split("--\x3e");return h.from=O(v),h.to=O(A),{next:"TEXT",params:{...L,current:h,pos:m+1}}},TEXT(L){const{tokens:D,pos:m,current:h}=L;return D.length<=m?{next:"FINISH",params:L}:(h.text=D[m],{next:"MULTI_LINE_TEXT",params:{...L,current:h,pos:m+1}})},MULTI_LINE_TEXT(L){const{tokens:D,pos:m,current:h}=L;return D.length<=m?{next:"FINISH",params:L}:t.isBlank(D[m])?{next:"FIN_ENTRY",params:L}:(h.text=`${h.text}\n${D[m]}`,{next:"MULTI_LINE_TEXT",params:{...L,current:h,pos:m+1}})},FIN_ENTRY(L){const{pos:D,current:m,result:h}=L;if(!c.isEntryFromPartial(m))throw new Error(`Parsing error current not complete ${JSON.stringify(m)}`);return h.push(m),{next:"ID_OR_NOTE_OR_STYLE",params:{...L,current:{},pos:D+1}}},FINISH:L=>({next:"FINISH",params:L})});qe.vttParser=L=>({entries:b().start(L)})},9919:(wn,qe)=>{"use strict";qe.byteLength=function L(A){var U=F(A),V=U[1];return 3*(U[0]+V)/4-V},qe.toByteArray=function m(A){var U,T,P=F(A),V=P[0],k=P[1],R=new t(function D(A,U,P){return 3*(U+P)/4-P}(0,V,k)),C=0,w=k>0?V-4:V;for(T=0;T<w;T+=4)U=c[A.charCodeAt(T)]<<18|c[A.charCodeAt(T+1)]<<12|c[A.charCodeAt(T+2)]<<6|c[A.charCodeAt(T+3)],R[C++]=U>>16&255,R[C++]=U>>8&255,R[C++]=255&U;return 2===k&&(U=c[A.charCodeAt(T)]<<2|c[A.charCodeAt(T+1)]>>4,R[C++]=255&U),1===k&&(U=c[A.charCodeAt(T)]<<10|c[A.charCodeAt(T+1)]<<4|c[A.charCodeAt(T+2)]>>2,R[C++]=U>>8&255,R[C++]=255&U),R},qe.fromByteArray=function v(A){for(var U,P=A.length,V=P%3,k=[],R=16383,C=0,w=P-V;C<w;C+=R)k.push(g(A,C,C+R>w?w:C+R));return 1===V?k.push(x[(U=A[P-1])>>2]+x[U<<4&63]+"=="):2===V&&k.push(x[(U=(A[P-2]<<8)+A[P-1])>>10]+x[U>>4&63]+x[U<<2&63]+"="),k.join("")};for(var x=[],c=[],t=typeof Uint8Array<"u"?Uint8Array:Array,E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=0;O<64;++O)x[O]=E[O],c[E.charCodeAt(O)]=O;function F(A){var U=A.length;if(U%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var P=A.indexOf("=");return-1===P&&(P=U),[P,P===U?0:4-P%4]}function h(A){return x[A>>18&63]+x[A>>12&63]+x[A>>6&63]+x[63&A]}function g(A,U,P){for(var k=[],R=U;R<P;R+=3)k.push(h((A[R]<<16&16711680)+(A[R+1]<<8&65280)+(255&A[R+2])));return k.join("")}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},9007:(wn,qe,x)=>{"use strict";var t=x(9919),E=x(2601),O="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;qe.lW=D,qe.h2=50;var b=2147483647;function L(Z){if(Z>b)throw new RangeError('The value "'+Z+'" is invalid for option "size"');var W=new Uint8Array(Z);return Object.setPrototypeOf(W,D.prototype),W}function D(Z,W,X){if("number"==typeof Z){if("string"==typeof W)throw new TypeError('The "string" argument must be of type string. Received type number');return v(Z)}return m(Z,W,X)}function m(Z,W,X){if("string"==typeof Z)return function A(Z,W){if(("string"!=typeof W||""===W)&&(W="utf8"),!D.isEncoding(W))throw new TypeError("Unknown encoding: "+W);var X=0|w(Z,W),Q=L(X),q=Q.write(Z,W);return q!==X&&(Q=Q.slice(0,q)),Q}(Z,W);if(ArrayBuffer.isView(Z))return function P(Z){if(ie(Z,Uint8Array)){var W=new Uint8Array(Z);return V(W.buffer,W.byteOffset,W.byteLength)}return U(Z)}(Z);if(null==Z)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Z);if(ie(Z,ArrayBuffer)||Z&&ie(Z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ie(Z,SharedArrayBuffer)||Z&&ie(Z.buffer,SharedArrayBuffer)))return V(Z,W,X);if("number"==typeof Z)throw new TypeError('The "value" argument must not be of type number. Received type number');var Q=Z.valueOf&&Z.valueOf();if(null!=Q&&Q!==Z)return D.from(Q,W,X);var q=function k(Z){if(D.isBuffer(Z)){var W=0|R(Z.length),X=L(W);return 0===X.length||Z.copy(X,0,0,W),X}return void 0!==Z.length?"number"!=typeof Z.length||he(Z.length)?L(0):U(Z):"Buffer"===Z.type&&Array.isArray(Z.data)?U(Z.data):void 0}(Z);if(q)return q;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof Z[Symbol.toPrimitive])return D.from(Z[Symbol.toPrimitive]("string"),W,X);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Z)}function h(Z){if("number"!=typeof Z)throw new TypeError('"size" argument must be of type number');if(Z<0)throw new RangeError('The value "'+Z+'" is invalid for option "size"')}function v(Z){return h(Z),L(Z<0?0:0|R(Z))}function U(Z){for(var W=Z.length<0?0:0|R(Z.length),X=L(W),Q=0;Q<W;Q+=1)X[Q]=255&Z[Q];return X}function V(Z,W,X){if(W<0||Z.byteLength<W)throw new RangeError('"offset" is outside of buffer bounds');if(Z.byteLength<W+(X||0))throw new RangeError('"length" is outside of buffer bounds');var Q;return Q=void 0===W&&void 0===X?new Uint8Array(Z):void 0===X?new Uint8Array(Z,W):new Uint8Array(Z,W,X),Object.setPrototypeOf(Q,D.prototype),Q}function R(Z){if(Z>=b)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b.toString(16)+" bytes");return 0|Z}function w(Z,W){if(D.isBuffer(Z))return Z.length;if(ArrayBuffer.isView(Z)||ie(Z,ArrayBuffer))return Z.byteLength;if("string"!=typeof Z)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Z);var X=Z.length,Q=arguments.length>2&&!0===arguments[2];if(!Q&&0===X)return 0;for(var q=!1;;)switch(W){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":return ze(Z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*X;case"hex":return X>>>1;case"base64":return ye(Z).length;default:if(q)return Q?-1:ze(Z).length;W=(""+W).toLowerCase(),q=!0}}function T(Z,W,X){var Q=!1;if((void 0===W||W<0)&&(W=0),W>this.length||((void 0===X||X>this.length)&&(X=this.length),X<=0)||(X>>>=0)<=(W>>>=0))return"";for(Z||(Z="utf8");;)switch(Z){case"hex":return Ie(this,W,X);case"utf8":case"utf-8":return H(this,W,X);case"ascii":return ue(this,W,X);case"latin1":case"binary":return Se(this,W,X);case"base64":return oe(this,W,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,W,X);default:if(Q)throw new TypeError("Unknown encoding: "+Z);Z=(Z+"").toLowerCase(),Q=!0}}function N(Z,W,X){var Q=Z[W];Z[W]=Z[X],Z[X]=Q}function S(Z,W,X,Q,q){if(0===Z.length)return-1;if("string"==typeof X?(Q=X,X=0):X>2147483647?X=2147483647:X<-2147483648&&(X=-2147483648),he(X=+X)&&(X=q?0:Z.length-1),X<0&&(X=Z.length+X),X>=Z.length){if(q)return-1;X=Z.length-1}else if(X<0){if(!q)return-1;X=0}if("string"==typeof W&&(W=D.from(W,Q)),D.isBuffer(W))return 0===W.length?-1:B(Z,W,X,Q,q);if("number"==typeof W)return W&=255,"function"==typeof Uint8Array.prototype.indexOf?q?Uint8Array.prototype.indexOf.call(Z,W,X):Uint8Array.prototype.lastIndexOf.call(Z,W,X):B(Z,[W],X,Q,q);throw new TypeError("val must be string, number or Buffer")}function B(Z,W,X,Q,q){var Ce,J=1,de=Z.length,pe=W.length;if(void 0!==Q&&("ucs2"===(Q=String(Q).toLowerCase())||"ucs-2"===Q||"utf16le"===Q||"utf-16le"===Q)){if(Z.length<2||W.length<2)return-1;J=2,de/=2,pe/=2,X/=2}function ce(Qe,$e){return 1===J?Qe[$e]:Qe.readUInt16BE($e*J)}if(q){var Ye=-1;for(Ce=X;Ce<de;Ce++)if(ce(Z,Ce)===ce(W,-1===Ye?0:Ce-Ye)){if(-1===Ye&&(Ye=Ce),Ce-Ye+1===pe)return Ye*J}else-1!==Ye&&(Ce-=Ce-Ye),Ye=-1}else for(X+pe>de&&(X=de-pe),Ce=X;Ce>=0;Ce--){for(var Be=!0,Ze=0;Ze<pe;Ze++)if(ce(Z,Ce+Ze)!==ce(W,Ze)){Be=!1;break}if(Be)return Ce}return-1}function Y(Z,W,X,Q){X=Number(X)||0;var q=Z.length-X;Q?(Q=Number(Q))>q&&(Q=q):Q=q;var J=W.length;Q>J/2&&(Q=J/2);for(var de=0;de<Q;++de){var pe=parseInt(W.substr(2*de,2),16);if(he(pe))return de;Z[X+de]=pe}return de}function re(Z,W,X,Q){return K(ze(W,Z.length-X),Z,X,Q)}function ae(Z,W,X,Q){return K(function He(Z){for(var W=[],X=0;X<Z.length;++X)W.push(255&Z.charCodeAt(X));return W}(W),Z,X,Q)}function Re(Z,W,X,Q){return K(ye(W),Z,X,Q)}function z(Z,W,X,Q){return K(function Ae(Z,W){for(var X,Q,J=[],de=0;de<Z.length&&!((W-=2)<0);++de)Q=(X=Z.charCodeAt(de))>>8,J.push(X%256),J.push(Q);return J}(W,Z.length-X),Z,X,Q)}function oe(Z,W,X){return t.fromByteArray(0===W&&X===Z.length?Z:Z.slice(W,X))}function H(Z,W,X){X=Math.min(Z.length,X);for(var Q=[],q=W;q<X;){var ce,Ce,Ye,Be,J=Z[q],de=null,pe=J>239?4:J>223?3:J>191?2:1;if(q+pe<=X)switch(pe){case 1:J<128&&(de=J);break;case 2:128==(192&(ce=Z[q+1]))&&(Be=(31&J)<<6|63&ce)>127&&(de=Be);break;case 3:Ce=Z[q+2],128==(192&(ce=Z[q+1]))&&128==(192&Ce)&&(Be=(15&J)<<12|(63&ce)<<6|63&Ce)>2047&&(Be<55296||Be>57343)&&(de=Be);break;case 4:Ce=Z[q+2],Ye=Z[q+3],128==(192&(ce=Z[q+1]))&&128==(192&Ce)&&128==(192&Ye)&&(Be=(15&J)<<18|(63&ce)<<12|(63&Ce)<<6|63&Ye)>65535&&Be<1114112&&(de=Be)}null===de?(de=65533,pe=1):de>65535&&(Q.push((de-=65536)>>>10&1023|55296),de=56320|1023&de),Q.push(de),q+=pe}return function te(Z){var W=Z.length;if(W<=me)return String.fromCharCode.apply(String,Z);for(var X="",Q=0;Q<W;)X+=String.fromCharCode.apply(String,Z.slice(Q,Q+=me));return X}(Q)}!(D.TYPED_ARRAY_SUPPORT=function F(){try{var Z=new Uint8Array(1),W={foo:function(){return 42}};return Object.setPrototypeOf(W,Uint8Array.prototype),Object.setPrototypeOf(Z,W),42===Z.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(D.prototype,"parent",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.buffer}}),Object.defineProperty(D.prototype,"offset",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.byteOffset}}),D.poolSize=8192,D.from=function(Z,W,X){return m(Z,W,X)},Object.setPrototypeOf(D.prototype,Uint8Array.prototype),Object.setPrototypeOf(D,Uint8Array),D.alloc=function(Z,W,X){return function g(Z,W,X){return h(Z),Z<=0?L(Z):void 0!==W?"string"==typeof X?L(Z).fill(W,X):L(Z).fill(W):L(Z)}(Z,W,X)},D.allocUnsafe=function(Z){return v(Z)},D.allocUnsafeSlow=function(Z){return v(Z)},D.isBuffer=function(W){return null!=W&&!0===W._isBuffer&&W!==D.prototype},D.compare=function(W,X){if(ie(W,Uint8Array)&&(W=D.from(W,W.offset,W.byteLength)),ie(X,Uint8Array)&&(X=D.from(X,X.offset,X.byteLength)),!D.isBuffer(W)||!D.isBuffer(X))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(W===X)return 0;for(var Q=W.length,q=X.length,J=0,de=Math.min(Q,q);J<de;++J)if(W[J]!==X[J]){Q=W[J],q=X[J];break}return Q<q?-1:q<Q?1:0},D.isEncoding=function(W){switch(String(W).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},D.concat=function(W,X){if(!Array.isArray(W))throw new TypeError('"list" argument must be an Array of Buffers');if(0===W.length)return D.alloc(0);var Q;if(void 0===X)for(X=0,Q=0;Q<W.length;++Q)X+=W[Q].length;var q=D.allocUnsafe(X),J=0;for(Q=0;Q<W.length;++Q){var de=W[Q];if(ie(de,Uint8Array))J+de.length>q.length?D.from(de).copy(q,J):Uint8Array.prototype.set.call(q,de,J);else{if(!D.isBuffer(de))throw new TypeError('"list" argument must be an Array of Buffers');de.copy(q,J)}J+=de.length}return q},D.byteLength=w,D.prototype._isBuffer=!0,D.prototype.swap16=function(){var W=this.length;if(W%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var X=0;X<W;X+=2)N(this,X,X+1);return this},D.prototype.swap32=function(){var W=this.length;if(W%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var X=0;X<W;X+=4)N(this,X,X+3),N(this,X+1,X+2);return this},D.prototype.swap64=function(){var W=this.length;if(W%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var X=0;X<W;X+=8)N(this,X,X+7),N(this,X+1,X+6),N(this,X+2,X+5),N(this,X+3,X+4);return this},D.prototype.toLocaleString=D.prototype.toString=function(){var W=this.length;return 0===W?"":0===arguments.length?H(this,0,W):T.apply(this,arguments)},D.prototype.equals=function(W){if(!D.isBuffer(W))throw new TypeError("Argument must be a Buffer");return this===W||0===D.compare(this,W)},D.prototype.inspect=function(){var W="",X=qe.h2;return W=this.toString("hex",0,X).replace(/(.{2})/g,"$1 ").trim(),this.length>X&&(W+=" ... "),"<Buffer "+W+">"},O&&(D.prototype[O]=D.prototype.inspect),D.prototype.compare=function(W,X,Q,q,J){if(ie(W,Uint8Array)&&(W=D.from(W,W.offset,W.byteLength)),!D.isBuffer(W))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof W);if(void 0===X&&(X=0),void 0===Q&&(Q=W?W.length:0),void 0===q&&(q=0),void 0===J&&(J=this.length),X<0||Q>W.length||q<0||J>this.length)throw new RangeError("out of range index");if(q>=J&&X>=Q)return 0;if(q>=J)return-1;if(X>=Q)return 1;if(this===W)return 0;for(var de=(J>>>=0)-(q>>>=0),pe=(Q>>>=0)-(X>>>=0),ce=Math.min(de,pe),Ce=this.slice(q,J),Ye=W.slice(X,Q),Be=0;Be<ce;++Be)if(Ce[Be]!==Ye[Be]){de=Ce[Be],pe=Ye[Be];break}return de<pe?-1:pe<de?1:0},D.prototype.includes=function(W,X,Q){return-1!==this.indexOf(W,X,Q)},D.prototype.indexOf=function(W,X,Q){return S(this,W,X,Q,!0)},D.prototype.lastIndexOf=function(W,X,Q){return S(this,W,X,Q,!1)},D.prototype.write=function(W,X,Q,q){if(void 0===X)q="utf8",Q=this.length,X=0;else if(void 0===Q&&"string"==typeof X)q=X,Q=this.length,X=0;else{if(!isFinite(X))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");X>>>=0,isFinite(Q)?(Q>>>=0,void 0===q&&(q="utf8")):(q=Q,Q=void 0)}var J=this.length-X;if((void 0===Q||Q>J)&&(Q=J),W.length>0&&(Q<0||X<0)||X>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");for(var de=!1;;)switch(q){case"hex":return Y(this,W,X,Q);case"utf8":case"utf-8":return re(this,W,X,Q);case"ascii":case"latin1":case"binary":return ae(this,W,X,Q);case"base64":return Re(this,W,X,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,W,X,Q);default:if(de)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),de=!0}},D.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var me=4096;function ue(Z,W,X){var Q="";X=Math.min(Z.length,X);for(var q=W;q<X;++q)Q+=String.fromCharCode(127&Z[q]);return Q}function Se(Z,W,X){var Q="";X=Math.min(Z.length,X);for(var q=W;q<X;++q)Q+=String.fromCharCode(Z[q]);return Q}function Ie(Z,W,X){var Q=Z.length;(!W||W<0)&&(W=0),(!X||X<0||X>Q)&&(X=Q);for(var q="",J=W;J<X;++J)q+=$[Z[J]];return q}function le(Z,W,X){for(var Q=Z.slice(W,X),q="",J=0;J<Q.length-1;J+=2)q+=String.fromCharCode(Q[J]+256*Q[J+1]);return q}function Me(Z,W,X){if(Z%1!=0||Z<0)throw new RangeError("offset is not uint");if(Z+W>X)throw new RangeError("Trying to access beyond buffer length")}function we(Z,W,X,Q,q,J){if(!D.isBuffer(Z))throw new TypeError('"buffer" argument must be a Buffer instance');if(W>q||W<J)throw new RangeError('"value" argument is out of bounds');if(X+Q>Z.length)throw new RangeError("Index out of range")}function _e(Z,W,X,Q,q,J){if(X+Q>Z.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("Index out of range")}function Le(Z,W,X,Q,q){return W=+W,X>>>=0,q||_e(Z,0,X,4),E.write(Z,W,X,Q,23,4),X+4}function Pe(Z,W,X,Q,q){return W=+W,X>>>=0,q||_e(Z,0,X,8),E.write(Z,W,X,Q,52,8),X+8}D.prototype.slice=function(W,X){var Q=this.length;(W=~~W)<0?(W+=Q)<0&&(W=0):W>Q&&(W=Q),(X=void 0===X?Q:~~X)<0?(X+=Q)<0&&(X=0):X>Q&&(X=Q),X<W&&(X=W);var q=this.subarray(W,X);return Object.setPrototypeOf(q,D.prototype),q},D.prototype.readUintLE=D.prototype.readUIntLE=function(W,X,Q){W>>>=0,X>>>=0,Q||Me(W,X,this.length);for(var q=this[W],J=1,de=0;++de<X&&(J*=256);)q+=this[W+de]*J;return q},D.prototype.readUintBE=D.prototype.readUIntBE=function(W,X,Q){W>>>=0,X>>>=0,Q||Me(W,X,this.length);for(var q=this[W+--X],J=1;X>0&&(J*=256);)q+=this[W+--X]*J;return q},D.prototype.readUint8=D.prototype.readUInt8=function(W,X){return W>>>=0,X||Me(W,1,this.length),this[W]},D.prototype.readUint16LE=D.prototype.readUInt16LE=function(W,X){return W>>>=0,X||Me(W,2,this.length),this[W]|this[W+1]<<8},D.prototype.readUint16BE=D.prototype.readUInt16BE=function(W,X){return W>>>=0,X||Me(W,2,this.length),this[W]<<8|this[W+1]},D.prototype.readUint32LE=D.prototype.readUInt32LE=function(W,X){return W>>>=0,X||Me(W,4,this.length),(this[W]|this[W+1]<<8|this[W+2]<<16)+16777216*this[W+3]},D.prototype.readUint32BE=D.prototype.readUInt32BE=function(W,X){return W>>>=0,X||Me(W,4,this.length),16777216*this[W]+(this[W+1]<<16|this[W+2]<<8|this[W+3])},D.prototype.readIntLE=function(W,X,Q){W>>>=0,X>>>=0,Q||Me(W,X,this.length);for(var q=this[W],J=1,de=0;++de<X&&(J*=256);)q+=this[W+de]*J;return q>=(J*=128)&&(q-=Math.pow(2,8*X)),q},D.prototype.readIntBE=function(W,X,Q){W>>>=0,X>>>=0,Q||Me(W,X,this.length);for(var q=X,J=1,de=this[W+--q];q>0&&(J*=256);)de+=this[W+--q]*J;return de>=(J*=128)&&(de-=Math.pow(2,8*X)),de},D.prototype.readInt8=function(W,X){return W>>>=0,X||Me(W,1,this.length),128&this[W]?-1*(255-this[W]+1):this[W]},D.prototype.readInt16LE=function(W,X){W>>>=0,X||Me(W,2,this.length);var Q=this[W]|this[W+1]<<8;return 32768&Q?4294901760|Q:Q},D.prototype.readInt16BE=function(W,X){W>>>=0,X||Me(W,2,this.length);var Q=this[W+1]|this[W]<<8;return 32768&Q?4294901760|Q:Q},D.prototype.readInt32LE=function(W,X){return W>>>=0,X||Me(W,4,this.length),this[W]|this[W+1]<<8|this[W+2]<<16|this[W+3]<<24},D.prototype.readInt32BE=function(W,X){return W>>>=0,X||Me(W,4,this.length),this[W]<<24|this[W+1]<<16|this[W+2]<<8|this[W+3]},D.prototype.readFloatLE=function(W,X){return W>>>=0,X||Me(W,4,this.length),E.read(this,W,!0,23,4)},D.prototype.readFloatBE=function(W,X){return W>>>=0,X||Me(W,4,this.length),E.read(this,W,!1,23,4)},D.prototype.readDoubleLE=function(W,X){return W>>>=0,X||Me(W,8,this.length),E.read(this,W,!0,52,8)},D.prototype.readDoubleBE=function(W,X){return W>>>=0,X||Me(W,8,this.length),E.read(this,W,!1,52,8)},D.prototype.writeUintLE=D.prototype.writeUIntLE=function(W,X,Q,q){W=+W,X>>>=0,Q>>>=0,q||we(this,W,X,Q,Math.pow(2,8*Q)-1,0);var de=1,pe=0;for(this[X]=255&W;++pe<Q&&(de*=256);)this[X+pe]=W/de&255;return X+Q},D.prototype.writeUintBE=D.prototype.writeUIntBE=function(W,X,Q,q){W=+W,X>>>=0,Q>>>=0,q||we(this,W,X,Q,Math.pow(2,8*Q)-1,0);var de=Q-1,pe=1;for(this[X+de]=255&W;--de>=0&&(pe*=256);)this[X+de]=W/pe&255;return X+Q},D.prototype.writeUint8=D.prototype.writeUInt8=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,1,255,0),this[X]=255&W,X+1},D.prototype.writeUint16LE=D.prototype.writeUInt16LE=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,2,65535,0),this[X]=255&W,this[X+1]=W>>>8,X+2},D.prototype.writeUint16BE=D.prototype.writeUInt16BE=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,2,65535,0),this[X]=W>>>8,this[X+1]=255&W,X+2},D.prototype.writeUint32LE=D.prototype.writeUInt32LE=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,4,4294967295,0),this[X+3]=W>>>24,this[X+2]=W>>>16,this[X+1]=W>>>8,this[X]=255&W,X+4},D.prototype.writeUint32BE=D.prototype.writeUInt32BE=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,4,4294967295,0),this[X]=W>>>24,this[X+1]=W>>>16,this[X+2]=W>>>8,this[X+3]=255&W,X+4},D.prototype.writeIntLE=function(W,X,Q,q){if(W=+W,X>>>=0,!q){var J=Math.pow(2,8*Q-1);we(this,W,X,Q,J-1,-J)}var de=0,pe=1,ce=0;for(this[X]=255&W;++de<Q&&(pe*=256);)W<0&&0===ce&&0!==this[X+de-1]&&(ce=1),this[X+de]=(W/pe>>0)-ce&255;return X+Q},D.prototype.writeIntBE=function(W,X,Q,q){if(W=+W,X>>>=0,!q){var J=Math.pow(2,8*Q-1);we(this,W,X,Q,J-1,-J)}var de=Q-1,pe=1,ce=0;for(this[X+de]=255&W;--de>=0&&(pe*=256);)W<0&&0===ce&&0!==this[X+de+1]&&(ce=1),this[X+de]=(W/pe>>0)-ce&255;return X+Q},D.prototype.writeInt8=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,1,127,-128),W<0&&(W=255+W+1),this[X]=255&W,X+1},D.prototype.writeInt16LE=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,2,32767,-32768),this[X]=255&W,this[X+1]=W>>>8,X+2},D.prototype.writeInt16BE=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,2,32767,-32768),this[X]=W>>>8,this[X+1]=255&W,X+2},D.prototype.writeInt32LE=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,4,2147483647,-2147483648),this[X]=255&W,this[X+1]=W>>>8,this[X+2]=W>>>16,this[X+3]=W>>>24,X+4},D.prototype.writeInt32BE=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,4,2147483647,-2147483648),W<0&&(W=4294967295+W+1),this[X]=W>>>24,this[X+1]=W>>>16,this[X+2]=W>>>8,this[X+3]=255&W,X+4},D.prototype.writeFloatLE=function(W,X,Q){return Le(this,W,X,!0,Q)},D.prototype.writeFloatBE=function(W,X,Q){return Le(this,W,X,!1,Q)},D.prototype.writeDoubleLE=function(W,X,Q){return Pe(this,W,X,!0,Q)},D.prototype.writeDoubleBE=function(W,X,Q){return Pe(this,W,X,!1,Q)},D.prototype.copy=function(W,X,Q,q){if(!D.isBuffer(W))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!q&&0!==q&&(q=this.length),X>=W.length&&(X=W.length),X||(X=0),q>0&&q<Q&&(q=Q),q===Q||0===W.length||0===this.length)return 0;if(X<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),W.length-X<q-Q&&(q=W.length-X+Q);var J=q-Q;return this===W&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(X,Q,q):Uint8Array.prototype.set.call(W,this.subarray(Q,q),X),J},D.prototype.fill=function(W,X,Q,q){if("string"==typeof W){if("string"==typeof X?(q=X,X=0,Q=this.length):"string"==typeof Q&&(q=Q,Q=this.length),void 0!==q&&"string"!=typeof q)throw new TypeError("encoding must be a string");if("string"==typeof q&&!D.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(1===W.length){var J=W.charCodeAt(0);("utf8"===q&&J<128||"latin1"===q)&&(W=J)}}else"number"==typeof W?W&=255:"boolean"==typeof W&&(W=Number(W));if(X<0||this.length<X||this.length<Q)throw new RangeError("Out of range index");if(Q<=X)return this;var de;if(X>>>=0,Q=void 0===Q?this.length:Q>>>0,W||(W=0),"number"==typeof W)for(de=X;de<Q;++de)this[de]=W;else{var pe=D.isBuffer(W)?W:D.from(W,q),ce=pe.length;if(0===ce)throw new TypeError('The value "'+W+'" is invalid for argument "value"');for(de=0;de<Q-X;++de)this[de+X]=pe[de%ce]}return this};var Oe=/[^+/0-9A-Za-z-_]/g;function ze(Z,W){W=W||1/0;for(var X,Q=Z.length,q=null,J=[],de=0;de<Q;++de){if((X=Z.charCodeAt(de))>55295&&X<57344){if(!q){if(X>56319){(W-=3)>-1&&J.push(239,191,189);continue}if(de+1===Q){(W-=3)>-1&&J.push(239,191,189);continue}q=X;continue}if(X<56320){(W-=3)>-1&&J.push(239,191,189),q=X;continue}X=65536+(q-55296<<10|X-56320)}else q&&(W-=3)>-1&&J.push(239,191,189);if(q=null,X<128){if((W-=1)<0)break;J.push(X)}else if(X<2048){if((W-=2)<0)break;J.push(X>>6|192,63&X|128)}else if(X<65536){if((W-=3)<0)break;J.push(X>>12|224,X>>6&63|128,63&X|128)}else{if(!(X<1114112))throw new Error("Invalid code point");if((W-=4)<0)break;J.push(X>>18|240,X>>12&63|128,X>>6&63|128,63&X|128)}}return J}function ye(Z){return t.toByteArray(function Ue(Z){if((Z=(Z=Z.split("=")[0]).trim().replace(Oe,"")).length<2)return"";for(;Z.length%4!=0;)Z+="=";return Z}(Z))}function K(Z,W,X,Q){for(var q=0;q<Q&&!(q+X>=W.length||q>=Z.length);++q)W[q+X]=Z[q];return q}function ie(Z,W){return Z instanceof W||null!=Z&&null!=Z.constructor&&null!=Z.constructor.name&&Z.constructor.name===W.name}function he(Z){return Z!=Z}var $=function(){for(var Z="0123456789abcdef",W=new Array(256),X=0;X<16;++X)for(var Q=16*X,q=0;q<16;++q)W[Q+q]=Z[X]+Z[q];return W}()},5094:wn=>{window,wn.exports=function(qe){var x={};function c(t){if(x[t])return x[t].exports;var E=x[t]={i:t,l:!1,exports:{}};return qe[t].call(E.exports,E,E.exports,c),E.l=!0,E.exports}return c.m=qe,c.c=x,c.d=function(t,E,O){c.o(t,E)||Object.defineProperty(t,E,{enumerable:!0,get:O})},c.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,E){if(1&E&&(t=c(t)),8&E||4&E&&"object"==typeof t&&t&&t.__esModule)return t;var O=Object.create(null);if(c.r(O),Object.defineProperty(O,"default",{enumerable:!0,value:t}),2&E&&"string"!=typeof t)for(var b in t)c.d(O,b,function(F){return t[F]}.bind(null,b));return O},c.n=function(t){var E=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(E,"a",E),E},c.o=function(t,E){return Object.prototype.hasOwnProperty.call(t,E)},c.p="/dist/",c(c.s="./index.js")}({"./externals/base64.js":
/*!*****************************!*\
                  !*** ./externals/base64.js ***!
                  \*****************************/
/*! no static exports found */function(qe,x,c){var O,b,F,L,D,t_encode=function(O){for(var b=[],F=0;F<O.length;++F){var L=O.charCodeAt(F);L<128?b.push(L):L<2048?(b.push(192|L>>6),b.push(128|63&L)):L<65536?(b.push(224|L>>12),b.push(128|63&L>>6),b.push(128|63&L)):(b.push(240|L>>18),b.push(128|63&L>>12),b.push(128|63&L>>6),b.push(128|63&L))}return b},t_decode=function(O){for(var b=[],F=0;F<O.length;){var L=O[F++];L<128||(L<224?(L=(31&L)<<6,L|=63&O[F++]):L<240?(L=(15&L)<<12,L|=(63&O[F++])<<6,L|=63&O[F++]):(L=(7&L)<<18,L|=(63&O[F++])<<12,L|=(63&O[F++])<<6,L|=63&O[F++])),b.push(String.fromCharCode(L))}return b.join("")},E={};O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=function(h){for(var g=0,v=[],A=0|h.length/3;0<A--;){var U=(h[g]<<16)+(h[g+1]<<8)+h[g+2];g+=3,v.push(O.charAt(63&U>>18)),v.push(O.charAt(63&U>>12)),v.push(O.charAt(63&U>>6)),v.push(O.charAt(63&U))}return h.length-g==2?(v.push(O.charAt(63&(U=(h[g]<<16)+(h[g+1]<<8))>>18)),v.push(O.charAt(63&U>>12)),v.push(O.charAt(63&U>>6)),v.push("=")):h.length-g==1&&(v.push(O.charAt(63&(U=h[g]<<16)>>18)),v.push(O.charAt(63&U>>12)),v.push("==")),v.join("")},F=function(){for(var m=[],h=0;h<64;++h)m[O.charCodeAt(h)]=h;return m["=".charCodeAt(0)]=0,m}(),L=function(h){for(var g=0,v=[],A=0|h.length/4;0<A--;){var U=(F[h.charCodeAt(g)]<<18)+(F[h.charCodeAt(g+1)]<<12)+(F[h.charCodeAt(g+2)]<<6)+F[h.charCodeAt(g+3)];v.push(255&U>>16),v.push(255&U>>8),v.push(255&U),g+=4}return v&&("="==h.charAt(g-2)?(v.pop(),v.pop()):"="==h.charAt(g-1)&&v.pop()),v},D={encode:function(m){for(var h=[],g=0;g<m.length;++g)h.push(m.charCodeAt(g));return h},decode:function(m){for(var h=0;h<s.length;++h)a[h]=String.fromCharCode(a[h]);return a.join("")}},E.decodeArray=function(m){var h=L(m);return new Uint8Array(h)},E.encodeASCII=function(m){var h=D.encode(m);return b(h)},E.decodeASCII=function(m){var h=L(m);return D.decode(h)},E.encode=function(m){var h=t_encode(m);return b(h)},E.decode=function(m){var h=L(m);return t_decode(h)},x.decode=E.decode,x.decodeArray=E.decodeArray,x.encode=E.encode,x.encodeASCII=E.encodeASCII},"./externals/cea608-parser.js":
/*!************************************!*\
                  !*** ./externals/cea608-parser.js ***!
                  \************************************/
/*! no static exports found */function(qe,x,c){!function(t){"use strict";var E={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},O=function(S){var B=S;return E.hasOwnProperty(S)&&(B=E[S]),String.fromCharCode(B)},b=15,F=32,L={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},D={17:2,18:4,21:6,22:8,23:10,19:13,20:15},m={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},h={25:2,26:4,29:6,30:8,31:10,27:13,28:15},g=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],v={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(S){this.time=S},log:function(S,B){this.verboseLevel>=this.verboseFilter[S]&&console.log(this.time+" ["+S+"] "+B)}},A=function(S){for(var B=[],Y=0;Y<S.length;Y++)B.push(S[Y].toString(16));return B},U=function(S,B,Y,re,ae){this.foreground=S||"white",this.underline=B||!1,this.italics=Y||!1,this.background=re||"black",this.flash=ae||!1};U.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(S){for(var B=["foreground","underline","italics","background","flash"],Y=0;Y<B.length;Y++){var re=B[Y];S.hasOwnProperty(re)&&(this[re]=S[re])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(S){return this.foreground===S.foreground&&this.underline===S.underline&&this.italics===S.italics&&this.background===S.background&&this.flash===S.flash},copy:function(S){this.foreground=S.foreground,this.underline=S.underline,this.italics=S.italics,this.background=S.background,this.flash=S.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var P=function(S,B,Y,re,ae,Re){this.uchar=S||" ",this.penState=new U(B,Y,re,ae,Re)};P.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(S,B){this.uchar=S,this.penState.copy(B)},setPenState:function(S){this.penState.copy(S)},equals:function(S){return this.uchar===S.uchar&&this.penState.equals(S.penState)},copy:function(S){this.uchar=S.uchar,this.penState.copy(S.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var V=function(){this.chars=[];for(var S=0;S<F;S++)this.chars.push(new P);this.pos=0,this.currPenState=new U};V.prototype={equals:function(S){for(var B=!0,Y=0;Y<F;Y++)if(!this.chars[Y].equals(S.chars[Y])){B=!1;break}return B},copy:function(S){for(var B=0;B<F;B++)this.chars[B].copy(S.chars[B])},isEmpty:function(){for(var S=!0,B=0;B<F;B++)if(!this.chars[B].isEmpty()){S=!1;break}return S},setCursor:function(S){this.pos!==S&&(this.pos=S),this.pos<0?(v.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>F&&(v.log("ERROR","Too large cursor position "+this.pos),this.pos=F)},moveCursor:function(S){var B=this.pos+S;if(S>1)for(var Y=this.pos+1;Y<B+1;Y++)this.chars[Y].setPenState(this.currPenState);this.setCursor(B)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(S){S>=144&&this.backSpace();var B=O(S);this.pos>=F?v.log("ERROR","Cannot insert "+S.toString(16)+" ("+B+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(B,this.currPenState),this.moveCursor(1))},clearFromPos:function(S){var B;for(B=S;B<F;B++)this.chars[B].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var S=[],B=!0,Y=0;Y<F;Y++){var re=this.chars[Y].uchar;" "!==re&&(B=!1),S.push(re)}return B?"":S.join("")},setPenStyles:function(S){this.currPenState.setStyles(S),this.chars[this.pos].setPenState(this.currPenState)}};var k=function(){this.rows=[];for(var S=0;S<b;S++)this.rows.push(new V);this.currRow=14,this.nrRollUpRows=null,this.reset()};k.prototype={reset:function(){for(var S=0;S<b;S++)this.rows[S].clear();this.currRow=14},equals:function(S){for(var B=!0,Y=0;Y<b;Y++)if(!this.rows[Y].equals(S.rows[Y])){B=!1;break}return B},copy:function(S){for(var B=0;B<b;B++)this.rows[B].copy(S.rows[B])},isEmpty:function(){for(var S=!0,B=0;B<b;B++)if(!this.rows[B].isEmpty()){S=!1;break}return S},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(S){this.rows[this.currRow].insertChar(S)},setPen:function(S){this.rows[this.currRow].setPenStyles(S)},moveCursor:function(S){this.rows[this.currRow].moveCursor(S)},setCursor:function(S){v.log("INFO","setCursor: "+S),this.rows[this.currRow].setCursor(S)},setPAC:function(S){v.log("INFO","pacData = "+JSON.stringify(S));var B=S.row-1;this.nrRollUpRows&&B<this.nrRollUpRows-1&&(B=this.nrRollUpRows-1),this.currRow=B;var Y=this.rows[this.currRow];if(null!==S.indent){var ae=Math.max(S.indent-1,0);Y.setCursor(S.indent),S.color=Y.chars[ae].penState.foreground}this.setPen({foreground:S.color,underline:S.underline,italics:S.italics,background:"black",flash:!1})},setBkgData:function(S){v.log("INFO","bkgData = "+JSON.stringify(S)),this.backSpace(),this.setPen(S),this.insertChar(32)},setRollUpRows:function(S){this.nrRollUpRows=S},rollUp:function(){if(null!==this.nrRollUpRows){v.log("TEXT",this.getDisplayText());var B=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];B.clear(),this.rows.splice(this.currRow,0,B),v.log("INFO","Rolling up")}else v.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(S){S=S||!1;for(var B=[],Y="",ae=0;ae<b;ae++){var Re=this.rows[ae].getTextString();Re&&B.push(S?"Row "+(ae+1)+': "'+Re+'"':Re.trim())}return B.length>0&&(Y=S?"["+B.join(" | ")+"]":B.join("\n")),Y},getTextAndFormat:function(){return this.rows}};var R=function(S,B){this.chNr=S,this.outputFilter=B,this.mode=null,this.verbose=0,this.displayedMemory=new k,this.nonDisplayedMemory=new k,this.lastOutputScreen=new k,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};R.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(S){this.outputFilter=S},setPAC:function(S){this.writeScreen.setPAC(S)},setBkgData:function(S){this.writeScreen.setBkgData(S)},setMode:function(S){S!==this.mode&&(this.mode=S,v.log("INFO","MODE="+S),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=S)},insertChars:function(S){for(var B=0;B<S.length;B++)this.writeScreen.insertChar(S[B]);v.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(v.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){v.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){v.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){v.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(S){v.log("INFO","RU("+S+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(S)},cc_FON:function(){v.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){v.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){v.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){v.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){v.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){v.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){v.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(v.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var S=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=S,this.writeScreen=this.nonDisplayedMemory,v.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(S){v.log("INFO","TO("+S+") - Tab Offset"),this.writeScreen.moveCursor(S)},cc_MIDROW:function(S){var B={flash:!1};if(B.underline=S%2==1,B.italics=S>=46,B.italics)B.foreground="white";else{var Y=Math.floor(S/2)-16;B.foreground=["white","green","blue","cyan","red","yellow","magenta"][Y]}v.log("INFO","MIDROW: "+JSON.stringify(B)),this.writeScreen.setPen(B)},outputDataUpdate:function(){var S=v.time;null!==S&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(S,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,S,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:S):this.cueStartTime=S,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(S){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,S,this.displayedMemory),this.cueStartTime=S))}};var C=function(S,B,Y){this.field=S||1,this.outputs=[B,Y],this.channels=[new R(1,B),new R(2,Y)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};C.prototype={getHandler:function(S){return this.channels[S].getHandler()},setHandler:function(S,B){this.channels[S].setHandler(B)},addData:function(S,B){var Y,re,ae,Re=!1;this.lastTime=S,v.setTime(S);for(var z=0;z<B.length;z+=2)ae=127&B[z+1],(re=127&B[z])>=16&&re<=31&&re===this.lastCmdA&&ae===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,v.log("DEBUG","Repeated command ("+A([re,ae])+") is dropped")):0!==re||0!==ae?(v.log("DATA","["+A([B[z],B[z+1]])+"] -> ("+A([re,ae])+")"),(Y=this.parseCmd(re,ae))||(Y=this.parseMidrow(re,ae)),Y||(Y=this.parsePAC(re,ae)),Y||(Y=this.parseBackgroundAttributes(re,ae)),!Y&&(Re=this.parseChars(re,ae))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(Re):v.log("WARNING","No channel found yet. TEXT-MODE?")),Y?this.dataCounters.cmd+=2:Re?this.dataCounters.char+=2:(this.dataCounters.other+=2,v.log("WARNING","Couldn't parse cleaned data "+A([re,ae])+" orig: "+A([B[z],B[z+1]])))):this.dataCounters.padding+=2},parseCmd:function(S,B){var Y;if(!((20===S||21===S||28===S||29===S)&&32<=B&&B<=47||(23===S||31===S)&&33<=B&&B<=35))return!1;var Re=this.channels[(Y=20===S||21===S||23===S?1:2)-1];return 20===S||21===S||28===S||29===S?32===B?Re.cc_RCL():33===B?Re.cc_BS():34===B?Re.cc_AOF():35===B?Re.cc_AON():36===B?Re.cc_DER():37===B?Re.cc_RU(2):38===B?Re.cc_RU(3):39===B?Re.cc_RU(4):40===B?Re.cc_FON():41===B?Re.cc_RDC():42===B?Re.cc_TR():43===B?Re.cc_RTD():44===B?Re.cc_EDM():45===B?Re.cc_CR():46===B?Re.cc_ENM():47===B&&Re.cc_EOC():Re.cc_TO(B-32),this.lastCmdA=S,this.lastCmdB=B,this.currChNr=Y,!0},parseMidrow:function(S,B){var Y=null;if((17===S||25===S)&&32<=B&&B<=47){if((Y=17===S?1:2)!==this.currChNr)return v.log("ERROR","Mismatch channel in midrow parsing"),!1;var re=this.channels[Y-1];return re.insertChars([32]),re.cc_MIDROW(B),v.log("DEBUG","MIDROW ("+A([S,B])+")"),this.lastCmdA=S,this.lastCmdB=B,!0}return!1},parsePAC:function(S,B){var Y;if(!((17<=S&&S<=23||25<=S&&S<=31)&&64<=B&&B<=127||(16===S||24===S)&&64<=B&&B<=95))return!1;Y=S<=23?1:2;var z=this.interpretPAC(64<=B&&B<=95?1===Y?L[S]:m[S]:1===Y?D[S]:h[S],B);return this.channels[Y-1].setPAC(z),this.lastCmdA=S,this.lastCmdB=B,this.currChNr=Y,!0},interpretPAC:function(S,B){var Y,re={color:null,italics:!1,indent:null,underline:!1,row:S};return re.underline=1==(1&(Y=B>95?B-96:B-64)),Y<=13?re.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(Y/2)]:Y<=15?(re.italics=!0,re.color="white"):re.indent=4*Math.floor((Y-16)/2),re},parseChars:function(S,B){var Y=null,re=null,ae=null;if(S>=25?(Y=2,ae=S-8):(Y=1,ae=S),17<=ae&&ae<=19){var z;v.log("INFO","Special char '"+O(z=17===ae?B+80:18===ae?B+112:B+144)+"' in channel "+Y),re=[z],this.lastCmdA=S,this.lastCmdB=B}else 32<=S&&S<=127&&(re=0===B?[S]:[S,B],this.lastCmdA=null,this.lastCmdB=null);if(re){var oe=A(re);v.log("DEBUG","Char codes =  "+oe.join(","))}return re},parseBackgroundAttributes:function(S,B){var Y,re;return!!((16===S||24===S)&&32<=B&&B<=47||(23===S||31===S)&&45<=B&&B<=47)&&(Y={},16===S||24===S?(re=Math.floor((B-32)/2),Y.background=g[re],B%2==1&&(Y.background=Y.background+"_semi")):45===B?Y.background="transparent":(Y.foreground="black",47===B&&(Y.underline=!0)),this.channels[(S<24?1:2)-1].setBkgData(Y),this.lastCmdA=S,this.lastCmdB=B,!0)},reset:function(){for(var S=0;S<this.channels.length;S++)this.channels[S]&&this.channels[S].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(S){for(var B=0;B<this.channels.length;B++)this.channels[B]&&this.channels[B].cueSplitAtTime(S)}};t.logger=v,t.PenState=U,t.CaptionScreen=k,t.Cea608Parser=C,t.findCea608Nalus=function(S,B,Y){for(var re=0,ae=B,z=[],oe=function(Ie,le,Me,we){if(4!==Ie||le<8)return null;var _e=Me.getUint8(we),Le=Me.getUint16(we+1),Pe=Me.getUint32(we+3),Oe=Me.getUint8(we+7);return 181==_e&&49==Le&&1195456820==Pe&&3==Oe};ae<B+Y;){if(re=S.getUint32(ae),6==(31&S.getUint8(ae+4)))for(var H=ae+5,me=-1;H<ae+4+re-1;){me=0;for(var te=255;255===te;)me+=te=S.getUint8(H),H++;var ue=0;for(te=255;255===te;)ue+=te=S.getUint8(H),H++;oe(me,ue,S,H)&&z.push([H,ue]),H+=ue}ae+=re+4}return z},t.extractCea608DataFromRange=function(S,B){var Y=B[0],re=[[],[]],ae=31&S.getUint8(Y+=8);Y+=2;for(var Re=0;Re<ae;Re++){var z=S.getUint8(Y),oe=4&z,H=3&z;Y++;var me=S.getUint8(Y);Y++;var te=S.getUint8(Y);Y++,oe&&(127&me)+(127&te)!=0&&(0===H?(re[0].push(me),re[0].push(te)):1===H&&(re[1].push(me),re[1].push(te)))}return re}}(x)},"./externals/xml2json.js":
/*!*******************************!*\
                  !*** ./externals/xml2json.js ***!
                  \*******************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x),x.default=function t(E){E=E||{},function b(){void 0===E.escapeMode&&(E.escapeMode=!0),void 0===E.attributePrefix&&(E.attributePrefix="_"),E.arrayAccessForm=E.arrayAccessForm||"none",E.emptyNodeForm=E.emptyNodeForm||"text",void 0===E.enableToStringFunc&&(E.enableToStringFunc=!0),E.arrayAccessFormPaths=E.arrayAccessFormPaths||[],void 0===E.skipEmptyTextNodesForObj&&(E.skipEmptyTextNodesForObj=!0),void 0===E.stripWhitespaces&&(E.stripWhitespaces=!0),E.datetimeAccessFormPaths=E.datetimeAccessFormPaths||[],void 0===E.useDoubleQuotes&&(E.useDoubleQuotes=!1),E.xmlElementsFilter=E.xmlElementsFilter||[],E.jsonPropertiesFilter=E.jsonPropertiesFilter||[],void 0===E.keepCData&&(E.keepCData=!1),void 0===E.ignoreRoot&&(E.ignoreRoot=!1)}();var F={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function D(oe){var H=oe.localName;return null==H&&(H=oe.baseName),(null==H||""==H)&&(H=oe.nodeName),H}function h(oe){return"string"==typeof oe?oe.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):oe}function v(oe,H,me,te){for(var ue=0;ue<oe.length;ue++){var Se=oe[ue];if("string"==typeof Se){if(Se==te)break}else if(Se instanceof RegExp){if(Se.test(te))break}else if("function"==typeof Se&&Se(H,me,te))break}return ue!=oe.length}function A(oe,H,me){"property"===E.arrayAccessForm&&(oe[H+"_asArray"]=oe[H]instanceof Array?oe[H]:[oe[H]]),!(oe[H]instanceof Array)&&E.arrayAccessFormPaths.length>0&&v(E.arrayAccessFormPaths,oe,H,me)&&(oe[H]=[oe[H]])}function U(oe){var H=oe.split(/[-T:+Z]/g),me=new Date(H[0],H[1]-1,H[2]),te=H[5].split(".");if(me.setHours(H[3],H[4],te[0]),te.length>1&&me.setMilliseconds(te[1]),H[6]&&H[7]){var ue=60*H[6]+Number(H[7]);ue=0+("-"==(/\d\d-\d\d:\d\d$/.test(oe)?"-":"+")?-1*ue:ue),me.setMinutes(me.getMinutes()-ue-me.getTimezoneOffset())}else-1!==oe.indexOf("Z",oe.length-1)&&(me=new Date(Date.UTC(me.getFullYear(),me.getMonth(),me.getDate(),me.getHours(),me.getMinutes(),me.getSeconds(),me.getMilliseconds())));return me}function V(oe,H,me,te){return!(H==F.ELEMENT_NODE&&E.xmlElementsFilter.length>0)||v(E.xmlElementsFilter,oe,me,te)}function k(oe,H){if(oe.nodeType==F.DOCUMENT_NODE){for(var me=new Object,te=oe.childNodes,ue=0;ue<te.length;ue++)(Se=te[ue]).nodeType==F.ELEMENT_NODE&&(E.ignoreRoot?me=k(Se):(me={})[Ie=D(Se)]=k(Se));return me}if(oe.nodeType==F.ELEMENT_NODE){(me=new Object).__cnt=0;var le=[];for(te=oe.childNodes,ue=0;ue<te.length;ue++){var Se,Ie=D(Se=te[ue]);if(Se.nodeType!=F.COMMENT_NODE){var Me=H+"."+Ie;if(V(me,Se.nodeType,Ie,Me))if(me.__cnt++,null==me[Ie]){var we=k(Se,Me);("#text"!=Ie||/[^\s]/.test(we))&&((_e={})[Ie]=we,le.push(_e)),me[Ie]=we,A(me,Ie,Me)}else{var _e;null!=me[Ie]&&(me[Ie]instanceof Array||(me[Ie]=[me[Ie]],A(me,Ie,Me))),we=k(Se,Me),("#text"!=Ie||/[^\s]/.test(we))&&((_e={})[Ie]=we,le.push(_e)),me[Ie][me[Ie].length]=we}}}me.__children=le;for(var Le=D(oe),Pe=0;Pe<oe.attributes.length;Pe++){var Oe=oe.attributes[Pe];me.__cnt++;for(var Ue=Oe.value,ze=0,He=E.matchers.length;ze<He;ze++){var Ae=E.matchers[ze];Ae.test(Oe,Le)&&(Ue=Ae.converter(Oe.value))}me[E.attributePrefix+Oe.name]=Ue}var ye=function m(oe){return oe.prefix}(oe);return null!=ye&&""!=ye&&(me.__cnt++,me.__prefix=ye),null!=me["#text"]&&(me.__text=me["#text"],me.__text instanceof Array&&(me.__text=me.__text.join("\n")),E.stripWhitespaces&&(me.__text=me.__text.trim()),delete me["#text"],"property"==E.arrayAccessForm&&delete me["#text_asArray"],me.__text=function P(oe,H,me){if(E.datetimeAccessFormPaths.length>0){var te=me.split(".#")[0];return v(E.datetimeAccessFormPaths,oe,H,te)?U(oe):oe}return oe}(me.__text,Ie,H+"."+Ie)),null!=me["#cdata-section"]&&(me.__cdata=me["#cdata-section"],delete me["#cdata-section"],"property"==E.arrayAccessForm&&delete me["#cdata-section_asArray"]),0==me.__cnt&&"text"==E.emptyNodeForm?me="":1==me.__cnt&&null!=me.__text?me=me.__text:1!=me.__cnt||null==me.__cdata||E.keepCData?me.__cnt>1&&null!=me.__text&&E.skipEmptyTextNodesForObj&&(E.stripWhitespaces&&""==me.__text||""==me.__text.trim())&&delete me.__text:me=me.__cdata,delete me.__cnt,E.enableToStringFunc&&(null!=me.__text||null!=me.__cdata)&&(me.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),me}if(oe.nodeType==F.TEXT_NODE||oe.nodeType==F.CDATA_SECTION_NODE)return oe.nodeValue}function R(oe,H,me,te){var ue="<"+(null!=oe&&null!=oe.__prefix?oe.__prefix+":":"")+H;if(null!=me)for(var Se=0;Se<me.length;Se++){var Ie=me[Se],le=oe[Ie];E.escapeMode&&(le=h(le)),ue+=" "+Ie.substr(E.attributePrefix.length)+"=",ue+=E.useDoubleQuotes?'"'+le+'"':"'"+le+"'"}return ue+(te?"/>":">")}function C(oe,H){return"</"+(null!=oe.__prefix?oe.__prefix+":":"")+H+">"}function T(oe,H){return!!("property"==E.arrayAccessForm&&function w(oe,H){return-1!==oe.indexOf(H,oe.length-H.length)}(H.toString(),"_asArray")||0==H.toString().indexOf(E.attributePrefix)||0==H.toString().indexOf("__")||oe[H]instanceof Function)}function N(oe){var H=0;if(oe instanceof Object)for(var me in oe)T(oe,me)||H++;return H}function S(oe,H,me){return 0==E.jsonPropertiesFilter.length||""==me||v(E.jsonPropertiesFilter,oe,H,me)}function B(oe){var H=[];if(oe instanceof Object)for(var me in oe)-1==me.toString().indexOf("__")&&0==me.toString().indexOf(E.attributePrefix)&&H.push(me);return H}function re(oe){var H="";return oe instanceof Object?H+=function Y(oe){var H="";return null!=oe.__cdata&&(H+="<![CDATA["+oe.__cdata+"]]>"),null!=oe.__text&&(H+=E.escapeMode?h(oe.__text):oe.__text),H}(oe):null!=oe&&(H+=E.escapeMode?h(oe):oe),H}function ae(oe,H){return""===oe?H:oe+"."+H}function Re(oe,H,me,te){var ue="";if(0==oe.length)ue+=R(oe,H,me,!0);else for(var Se=0;Se<oe.length;Se++)ue+=R(oe[Se],H,B(oe[Se]),!1),ue+=z(oe[Se],ae(te,H)),ue+=C(oe[Se],H);return ue}function z(oe,H){var me="";if(N(oe)>0)for(var ue in oe)if(!T(oe,ue)&&(""==H||S(oe,ue,ae(H,ue)))){var Se=oe[ue],Ie=B(Se);null==Se||null==Se?me+=R(Se,ue,Ie,!0):Se instanceof Object?Se instanceof Array?me+=Re(Se,ue,Ie,H):Se instanceof Date?(me+=R(Se,ue,Ie,!1),me+=Se.toISOString(),me+=C(Se,ue)):N(Se)>0||null!=Se.__text||null!=Se.__cdata?(me+=R(Se,ue,Ie,!1),me+=z(Se,ae(H,ue)),me+=C(Se,ue)):me+=R(Se,ue,Ie,!0):(me+=R(Se,ue,Ie,!1),me+=re(Se),me+=C(Se,ue))}return me+re(oe)}this.parseXmlString=function(oe){var me;if(window.ActiveXObject||window,void 0===oe)return null;if(window.DOMParser){var te=new window.DOMParser;try{(me=te.parseFromString(oe,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(me=null)}catch{me=null}}else 0==oe.indexOf("<?")&&(oe=oe.substr(oe.indexOf("?>")+2)),(me=new ActiveXObject("Microsoft.XMLDOM")).async="false",me.loadXML(oe);return me},this.asArray=function(oe){return void 0===oe||null==oe?[]:oe instanceof Array?oe:[oe]},this.toXmlDateTime=function(oe){return oe instanceof Date?oe.toISOString():"number"==typeof oe?new Date(oe).toISOString():null},this.asDateTime=function(oe){return"string"==typeof oe?U(oe):oe},this.xml2json=function(oe){return k(oe)},this.xml_str2json=function(oe){var H=this.parseXmlString(oe);return null!=H?this.xml2json(H):null},this.json2xml_str=function(oe){return z(oe,"")},this.json2xml=function(oe){var H=this.json2xml_str(oe);return this.parseXmlString(H)},this.getVersion=function(){return"1.2.0"}}},"./index.js":
/*!******************!*\
                  !*** ./index.js ***!
                  \******************/
/*! exports provided: default, MediaPlayer, Protection, MetricsReporting, MediaPlayerFactory, Debug, supportsMediaSource */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./index_mediaplayerOnly */
"./index_mediaplayerOnly.js");c.d(x,"MediaPlayer",function(){return t.MediaPlayer});var E=c(
/*! ./src/streaming/utils/Capabilities */
"./src/streaming/utils/Capabilities.js");c.d(x,"supportsMediaSource",function(){return E.supportsMediaSource});var O=c(
/*! ./src/streaming/metrics/MetricsReporting */
"./src/streaming/metrics/MetricsReporting.js");c.d(x,"MetricsReporting",function(){return O.default});var b=c(
/*! ./src/streaming/protection/Protection */
"./src/streaming/protection/Protection.js");c.d(x,"Protection",function(){return b.default});var F=c(
/*! ./src/streaming/MediaPlayerFactory */
"./src/streaming/MediaPlayerFactory.js");c.d(x,"MediaPlayerFactory",function(){return F.default});var L=c(
/*! ./src/core/Debug */
"./src/core/Debug.js");c.d(x,"Debug",function(){return L.default}),dashjs.Protection=b.default,dashjs.MetricsReporting=O.default,dashjs.MediaPlayerFactory=F.default,dashjs.Debug=L.default,dashjs.supportsMediaSource=E.supportsMediaSource,x.default=dashjs},"./index_mediaplayerOnly.js":
/*!**********************************!*\
                  !*** ./index_mediaplayerOnly.js ***!
                  \**********************************/
/*! exports provided: default, MediaPlayer, FactoryMaker, Debug */function(qe,x,c){"use strict";c.r(x),function(t){var E=c(
/*! ./src/streaming/MediaPlayer */
"./src/streaming/MediaPlayer.js");c.d(x,"MediaPlayer",function(){return E.default});var O=c(
/*! ./src/core/FactoryMaker */
"./src/core/FactoryMaker.js");c.d(x,"FactoryMaker",function(){return O.default});var b=c(
/*! ./src/core/Debug */
"./src/core/Debug.js");c.d(x,"Debug",function(){return b.default});var F=c(
/*! ./src/core/Version */
"./src/core/Version.js"),m=(c(
/*! es6-promise/auto */
"./node_modules/es6-promise/auto.js"),typeof window<"u"&&window||t),h=m.dashjs;h||(h=m.dashjs={}),h.MediaPlayer=E.default,h.FactoryMaker=O.default,h.Debug=b.default,h.Version=Object(F.getVersionString)(),x.default=h}.call(this,c(
/*! ./node_modules/webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/base64-js/index.js":
/*!*****************************************!*\
                  !*** ./node_modules/base64-js/index.js ***!
                  \*****************************************/
/*! no static exports found */function(qe,x,c){"use strict";x.byteLength=function m(P){var V=D(P),R=V[1];return 3*(V[0]+R)/4-R},x.toByteArray=function g(P){var V,S,k=D(P),R=k[0],C=k[1],w=new O(function h(P,V,k){return 3*(V+k)/4-k}(0,R,C)),T=0,N=C>0?R-4:R;for(S=0;S<N;S+=4)V=E[P.charCodeAt(S)]<<18|E[P.charCodeAt(S+1)]<<12|E[P.charCodeAt(S+2)]<<6|E[P.charCodeAt(S+3)],w[T++]=V>>16&255,w[T++]=V>>8&255,w[T++]=255&V;return 2===C&&(V=E[P.charCodeAt(S)]<<2|E[P.charCodeAt(S+1)]>>4,w[T++]=255&V),1===C&&(V=E[P.charCodeAt(S)]<<10|E[P.charCodeAt(S+1)]<<4|E[P.charCodeAt(S+2)]>>2,w[T++]=V>>8&255,w[T++]=255&V),w},x.fromByteArray=function U(P){for(var V,k=P.length,R=k%3,C=[],w=16383,T=0,N=k-R;T<N;T+=w)C.push(A(P,T,T+w>N?N:T+w));return 1===R?C.push(t[(V=P[k-1])>>2]+t[V<<4&63]+"=="):2===R&&C.push(t[(V=(P[k-2]<<8)+P[k-1])>>10]+t[V>>4&63]+t[V<<2&63]+"="),C.join("")};for(var t=[],E=[],O=typeof Uint8Array<"u"?Uint8Array:Array,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",F=0;F<64;++F)t[F]=b[F],E[b.charCodeAt(F)]=F;function D(P){var V=P.length;if(V%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=P.indexOf("=");return-1===k&&(k=V),[k,k===V?0:4-k%4]}function v(P){return t[P>>18&63]+t[P>>12&63]+t[P>>6&63]+t[63&P]}function A(P,V,k){for(var C=[],w=V;w<k;w+=3)C.push(v((P[w]<<16&16711680)+(P[w+1]<<8&65280)+(255&P[w+2])));return C.join("")}E["-".charCodeAt(0)]=62,E["_".charCodeAt(0)]=63},"./node_modules/bcp-47-match/index.js":
/*!********************************************!*\
                  !*** ./node_modules/bcp-47-match/index.js ***!
                  \********************************************/
/*! no static exports found */function(qe,x,c){"use strict";function b(L,D){return function m(h,g){for(var V,k,R,v=F(h,"tag"),A=F(g??"*","range"),U=[],P=-1;++P<A.length;)if(V=A[P].toLowerCase(),D||"*"!==V){for(k=-1,R=[];++k<v.length;)if(L(v[k].toLowerCase(),V)){if(!D)return v[k];U.push(v[k])}else R.push(v[k]);v=R}return D?U:void 0}}function F(L,D){var m=L&&"string"==typeof L?[L]:L;if(!m||"object"!=typeof m||!("length"in m))throw new Error("Invalid "+D+" `"+m+"`, expected non-empty string");return m}x.basicFilter=b(function t(L,D){return"*"===D||L===D||L.indexOf(D+"-")>-1},!0),x.extendedFilter=b(function E(L,D){var m=L.split("-"),h=D.split("-"),g=0,v=0;if("*"!==h[v]&&m[g]!==h[v])return!1;for(g++,v++;v<h.length;)if("*"!==h[v]){if(!m[g])return!1;if(m[g]!==h[v]){if(1===m[g].length)return!1;g++}else g++,v++}else v++;return!0},!0),x.lookup=b(function O(L,D){for(var h,m=D;;){if("*"===m||L===m)return!0;if((h=m.lastIndexOf("-"))<0)return!1;"-"===m.charAt(h-2)&&(h-=2),m=m.slice(0,h)}})},"./node_modules/bcp-47-normalize/index.js":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/index.js ***!
                  \************************************************/
/*! no static exports found */function(qe,x,c){"use strict";qe.exports=c(
/*! ./lib */
"./node_modules/bcp-47-normalize/lib/index.js")},"./node_modules/bcp-47-normalize/lib/defaults.json":
/*!*********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/defaults.json ***!
                  \*********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, default */function(qe){qe.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},"./node_modules/bcp-47-normalize/lib/fields.json":
/*!*******************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/fields.json ***!
                  \*******************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, default */function(qe){qe.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},"./node_modules/bcp-47-normalize/lib/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/index.js ***!
                  \****************************************************/
/*! no static exports found */function(qe,x,c){"use strict";var t=c(
/*! bcp-47 */
"./node_modules/bcp-47/index.js"),E=c(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js"),O=c(
/*! ./matches.json */
"./node_modules/bcp-47-normalize/lib/matches.json"),b=c(
/*! ./fields.json */
"./node_modules/bcp-47-normalize/lib/fields.json"),F=c(
/*! ./defaults.json */
"./node_modules/bcp-47-normalize/lib/defaults.json"),L=c(
/*! ./many.json */
"./node_modules/bcp-47-normalize/lib/many.json");qe.exports=function g(V,k){var N,R=k||{},C=t.parse(String(V||"").toLowerCase(),R),w=t.stringify(C),T=-1;if(!w)return w;for(;++T<O.length;)E.extendedFilter(w,O[T].from).length&&(v(C,O[T].from,O[T].to),w=t.stringify(C));for(T=-1;++T<b.length;)A(C,b[T].from.field,b[T].from.value)&&U(C,b[T].to.field,b[T].to.value);for(w=t.stringify(Object.assign({},C,h)),T=-1;++T<F.length;)w===F[T]&&(v(C,F[T],F[T].split("-").slice(0,-1).join("-")),w=t.stringify(Object.assign({},C,h)));if(C.extensions.sort(P),R.warning)for(N in L)D.call(L[N],C[N])&&R.warning("Deprecated "+N+" `"+C[N]+"`, expected one of `"+L[N][C[N]].join("`, `")+"`",null,7);return C.script&&(C.script=C.script.charAt(0).toUpperCase()+C.script.slice(1)),C.region&&(C.region=C.region.toUpperCase()),t.stringify(C)};var D={}.hasOwnProperty,m=new Intl.Collator,h={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function v(V,k,R){var N,C=t.parse(k),w=t.parse(R),T=[];for(N in C)C[N]&&C[N].length&&A(V,N,C[N])&&T.push(N);for(N in w)w[N]&&w[N].length&&(T.indexOf(N)>-1||!V[N]||!V[N].length)&&U(V,N,w[N])}function A(V,k,R){var w,T,N,S,C=!1;if(R){if(T=w=V[k],w&&"object"==typeof w)for(T=[],N=-1;++N<w.length;)R.indexOf(S=w[N])<0?T.push(S):C=!0;else w===R&&(T=null,C=!0);V[k]=T}return C}function U(V,k,R){var w,T,N,C=V[k];if(C&&"object"==typeof C)for(w=[].concat(R),T=-1;++T<w.length;)C.indexOf(N=w[T])<0&&C.push(N);else V[k]=R}function P(V,k){return m.compare(V.singleton,k.singleton)}},"./node_modules/bcp-47-normalize/lib/many.json":
/*!*****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/many.json ***!
                  \*****************************************************/
/*! exports provided: region, default */function(qe){qe.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},"./node_modules/bcp-47-normalize/lib/matches.json":
/*!********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/matches.json ***!
                  \********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, default */function(qe){qe.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},"./node_modules/bcp-47/index.js":
/*!**************************************!*\
                  !*** ./node_modules/bcp-47/index.js ***!
                  \**************************************/
/*! no static exports found */function(qe,x,c){"use strict";x.parse=c(
/*! ./lib/parse */
"./node_modules/bcp-47/lib/parse.js"),x.stringify=c(
/*! ./lib/stringify */
"./node_modules/bcp-47/lib/stringify.js")},"./node_modules/bcp-47/lib/normalize.json":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47/lib/normalize.json ***!
                  \************************************************/
/*! exports provided: en-gb-oed, i-ami, i-bnn, i-default, i-enochian, i-hak, i-klingon, i-lux, i-mingo, i-navajo, i-pwn, i-tao, i-tay, i-tsu, sgn-be-fr, sgn-be-nl, sgn-ch-de, art-lojban, cel-gaulish, no-bok, no-nyn, zh-guoyu, zh-hakka, zh-min, zh-min-nan, zh-xiang, default */function(qe){qe.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},"./node_modules/bcp-47/lib/parse.js":
/*!******************************************!*\
                  !*** ./node_modules/bcp-47/lib/parse.js ***!
                  \******************************************/
/*! no static exports found */function(qe,x,c){"use strict";var t=c(
/*! is-alphanumerical */
"./node_modules/is-alphanumerical/index.js"),E=c(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),O=c(
/*! is-decimal */
"./node_modules/is-decimal/index.js"),b=c(
/*! ./regular.json */
"./node_modules/bcp-47/lib/regular.json"),F=c(
/*! ./normalize.json */
"./node_modules/bcp-47/lib/normalize.json");qe.exports=function D(h,g){var k,R,C,v=g||{},A={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},U=String(h),P=U.toLowerCase(),V=0;if(null==h)throw new Error("Expected string, got `"+h+"`");if(L.call(F,P))return(null==v.normalize||v.normalize)&&F[P]?D(F[P]):(A[-1===b.indexOf(P)?"irregular":"regular"]=U,A);for(;E(P.charCodeAt(V))&&V<9;)V++;if(V>1&&V<9){if(A.language=U.slice(0,V),V<4)for(R=0;45===P.charCodeAt(V)&&E(P.charCodeAt(V+1))&&E(P.charCodeAt(V+2))&&E(P.charCodeAt(V+3))&&!E(P.charCodeAt(V+4));){if(R>2)return w(V,3,"Too many extended language subtags, expected at most 3 subtags");A.extendedLanguageSubtags.push(U.slice(V+1,V+4)),V+=4,R++}for(45===P.charCodeAt(V)&&E(P.charCodeAt(V+1))&&E(P.charCodeAt(V+2))&&E(P.charCodeAt(V+3))&&E(P.charCodeAt(V+4))&&!E(P.charCodeAt(V+5))&&(A.script=U.slice(V+1,V+5),V+=5),45===P.charCodeAt(V)&&(E(P.charCodeAt(V+1))&&E(P.charCodeAt(V+2))&&!E(P.charCodeAt(V+3))?(A.region=U.slice(V+1,V+3),V+=3):O(P.charCodeAt(V+1))&&O(P.charCodeAt(V+2))&&O(P.charCodeAt(V+3))&&!O(P.charCodeAt(V+4))&&(A.region=U.slice(V+1,V+4),V+=4));45===P.charCodeAt(V);){for(C=k=V+1;t(P.charCodeAt(C));){if(C-k>7)return w(C,1,"Too long variant, expected at most 8 characters");C++}if(!(C-k>4||C-k>3&&O(P.charCodeAt(k))))break;A.variants.push(U.slice(k,C)),V=C}for(;45===P.charCodeAt(V)&&120!==P.charCodeAt(V+1)&&t(P.charCodeAt(V+1))&&45===P.charCodeAt(V+2)&&t(P.charCodeAt(V+3));){for(C=V+2,R=0;45===P.charCodeAt(C)&&t(P.charCodeAt(C+1))&&t(P.charCodeAt(C+2));)for(C=(k=C+1)+2,R++;t(P.charCodeAt(C));){if(C-k>7)return w(C,2,"Too long extension, expected at most 8 characters");C++}if(!R)return w(C,4,"Empty extension, extensions must have at least 2 characters of content");A.extensions.push({singleton:U.charAt(V+1),extensions:U.slice(V+3,C).split("-")}),V=C}}else V=0;if(0===V&&120===P.charCodeAt(V)||45===P.charCodeAt(V)&&120===P.charCodeAt(V+1))for(C=V=V?V+2:1;45===P.charCodeAt(C)&&t(P.charCodeAt(C+1));){for(C=k=V+1;t(P.charCodeAt(C));){if(C-k>7)return w(C,5,"Too long private-use area, expected at most 8 characters");C++}A.privateuse.push(U.slice(V+1,C)),V=C}return V!==U.length?w(V,6,"Found superfluous content after tag"):A;function w(T,N,S){return v.warning&&v.warning(S,N,T),v.forgiving?A:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var L={}.hasOwnProperty},"./node_modules/bcp-47/lib/regular.json":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/regular.json ***!
                  \**********************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, default */function(qe){qe.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')},"./node_modules/bcp-47/lib/stringify.js":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/stringify.js ***!
                  \**********************************************/
/*! no static exports found */function(qe,x,c){"use strict";qe.exports=function t(E){var F,L,D,O=E||{},b=[];if(O.irregular||O.regular)return O.irregular||O.regular;if(O.language)for(b=b.concat(O.language,O.extendedLanguageSubtags||[],O.script||[],O.region||[],O.variants||[]),F=O.extensions||[],L=-1;++L<F.length;)(D=F[L]).singleton&&D.extensions&&D.extensions.length&&(b=b.concat(D.singleton,D.extensions));return O.privateuse&&O.privateuse.length&&(b=b.concat("x",O.privateuse)),b.join("-")}},"./node_modules/buffer/index.js":
/*!**************************************!*\
                  !*** ./node_modules/buffer/index.js ***!
                  \**************************************/
/*! no static exports found */function(qe,x,c){"use strict";(function(t){var E=c(
/*! base64-js */
"./node_modules/base64-js/index.js"),O=c(
/*! ieee754 */
"./node_modules/ieee754/index.js"),b=c(
/*! isarray */
"./node_modules/isarray/index.js");function L(){return m.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function D(Q,q){if(L()<q)throw new RangeError("Invalid typed array length");return m.TYPED_ARRAY_SUPPORT?(Q=new Uint8Array(q)).__proto__=m.prototype:(null===Q&&(Q=new m(q)),Q.length=q),Q}function m(Q,q,J){if(!(m.TYPED_ARRAY_SUPPORT||this instanceof m))return new m(Q,q,J);if("number"==typeof Q){if("string"==typeof q)throw new Error("If encoding is specified then the first argument must be a string");return A(this,Q)}return h(this,Q,q,J)}function h(Q,q,J,de){if("number"==typeof q)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&q instanceof ArrayBuffer?function V(Q,q,J,de){if(J<0||q.byteLength<J)throw new RangeError("'offset' is out of bounds");if(q.byteLength<J+(de||0))throw new RangeError("'length' is out of bounds");return q=void 0===J&&void 0===de?new Uint8Array(q):void 0===de?new Uint8Array(q,J):new Uint8Array(q,J,de),m.TYPED_ARRAY_SUPPORT?(Q=q).__proto__=m.prototype:Q=P(Q,q),Q}(Q,q,J,de):"string"==typeof q?function U(Q,q,J){if(("string"!=typeof J||""===J)&&(J="utf8"),!m.isEncoding(J))throw new TypeError('"encoding" must be a valid string encoding');var de=0|w(q,J),pe=(Q=D(Q,de)).write(q,J);return pe!==de&&(Q=Q.slice(0,pe)),Q}(Q,q,J):function k(Q,q){if(m.isBuffer(q)){var J=0|R(q.length);return 0===(Q=D(Q,J)).length||q.copy(Q,0,0,J),Q}if(q){if(typeof ArrayBuffer<"u"&&q.buffer instanceof ArrayBuffer||"length"in q)return"number"!=typeof q.length||function X(Q){return Q!=Q}(q.length)?D(Q,0):P(Q,q);if("Buffer"===q.type&&b(q.data))return P(Q,q.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(Q,q)}function g(Q){if("number"!=typeof Q)throw new TypeError('"size" argument must be a number');if(Q<0)throw new RangeError('"size" argument must not be negative')}function A(Q,q){if(g(q),Q=D(Q,q<0?0:0|R(q)),!m.TYPED_ARRAY_SUPPORT)for(var J=0;J<q;++J)Q[J]=0;return Q}function P(Q,q){var J=q.length<0?0:0|R(q.length);Q=D(Q,J);for(var de=0;de<J;de+=1)Q[de]=255&q[de];return Q}function R(Q){if(Q>=L())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+L().toString(16)+" bytes");return 0|Q}function w(Q,q){if(m.isBuffer(Q))return Q.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(Q)||Q instanceof ArrayBuffer))return Q.byteLength;"string"!=typeof Q&&(Q=""+Q);var J=Q.length;if(0===J)return 0;for(var de=!1;;)switch(q){case"ascii":case"latin1":case"binary":return J;case"utf8":case"utf-8":case void 0:return ie(Q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*J;case"hex":return J>>>1;case"base64":return Z(Q).length;default:if(de)return ie(Q).length;q=(""+q).toLowerCase(),de=!0}}function T(Q,q,J){var de=!1;if((void 0===q||q<0)&&(q=0),q>this.length||((void 0===J||J>this.length)&&(J=this.length),J<=0)||(J>>>=0)<=(q>>>=0))return"";for(Q||(Q="utf8");;)switch(Q){case"hex":return le(this,q,J);case"utf8":case"utf-8":return me(this,q,J);case"ascii":return Se(this,q,J);case"latin1":case"binary":return Ie(this,q,J);case"base64":return H(this,q,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Me(this,q,J);default:if(de)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase(),de=!0}}function N(Q,q,J){var de=Q[q];Q[q]=Q[J],Q[J]=de}function S(Q,q,J,de,pe){if(0===Q.length)return-1;if("string"==typeof J?(de=J,J=0):J>2147483647?J=2147483647:J<-2147483648&&(J=-2147483648),J=+J,isNaN(J)&&(J=pe?0:Q.length-1),J<0&&(J=Q.length+J),J>=Q.length){if(pe)return-1;J=Q.length-1}else if(J<0){if(!pe)return-1;J=0}if("string"==typeof q&&(q=m.from(q,de)),m.isBuffer(q))return 0===q.length?-1:B(Q,q,J,de,pe);if("number"==typeof q)return q&=255,m.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?pe?Uint8Array.prototype.indexOf.call(Q,q,J):Uint8Array.prototype.lastIndexOf.call(Q,q,J):B(Q,[q],J,de,pe);throw new TypeError("val must be string, number or Buffer")}function B(Q,q,J,de,pe){var Ze,ce=1,Ce=Q.length,Ye=q.length;if(void 0!==de&&("ucs2"===(de=String(de).toLowerCase())||"ucs-2"===de||"utf16le"===de||"utf-16le"===de)){if(Q.length<2||q.length<2)return-1;ce=2,Ce/=2,Ye/=2,J/=2}function Be(It,_t){return 1===ce?It[_t]:It.readUInt16BE(_t*ce)}if(pe){var Qe=-1;for(Ze=J;Ze<Ce;Ze++)if(Be(Q,Ze)===Be(q,-1===Qe?0:Ze-Qe)){if(-1===Qe&&(Qe=Ze),Ze-Qe+1===Ye)return Qe*ce}else-1!==Qe&&(Ze-=Ze-Qe),Qe=-1}else for(J+Ye>Ce&&(J=Ce-Ye),Ze=J;Ze>=0;Ze--){for(var $e=!0,ct=0;ct<Ye;ct++)if(Be(Q,Ze+ct)!==Be(q,ct)){$e=!1;break}if($e)return Ze}return-1}function Y(Q,q,J,de){J=Number(J)||0;var pe=Q.length-J;de?(de=Number(de))>pe&&(de=pe):de=pe;var ce=q.length;if(ce%2!=0)throw new TypeError("Invalid hex string");de>ce/2&&(de=ce/2);for(var Ce=0;Ce<de;++Ce){var Ye=parseInt(q.substr(2*Ce,2),16);if(isNaN(Ye))return Ce;Q[J+Ce]=Ye}return Ce}function re(Q,q,J,de){return W(ie(q,Q.length-J),Q,J,de)}function ae(Q,q,J,de){return W(function he(Q){for(var q=[],J=0;J<Q.length;++J)q.push(255&Q.charCodeAt(J));return q}(q),Q,J,de)}function Re(Q,q,J,de){return ae(Q,q,J,de)}function z(Q,q,J,de){return W(Z(q),Q,J,de)}function oe(Q,q,J,de){return W(function $(Q,q){for(var J,de,ce=[],Ce=0;Ce<Q.length&&!((q-=2)<0);++Ce)de=(J=Q.charCodeAt(Ce))>>8,ce.push(J%256),ce.push(de);return ce}(q,Q.length-J),Q,J,de)}function H(Q,q,J){return E.fromByteArray(0===q&&J===Q.length?Q:Q.slice(q,J))}function me(Q,q,J){J=Math.min(Q.length,J);for(var de=[],pe=q;pe<J;){var Be,Ze,Qe,$e,ce=Q[pe],Ce=null,Ye=ce>239?4:ce>223?3:ce>191?2:1;if(pe+Ye<=J)switch(Ye){case 1:ce<128&&(Ce=ce);break;case 2:128==(192&(Be=Q[pe+1]))&&($e=(31&ce)<<6|63&Be)>127&&(Ce=$e);break;case 3:Ze=Q[pe+2],128==(192&(Be=Q[pe+1]))&&128==(192&Ze)&&($e=(15&ce)<<12|(63&Be)<<6|63&Ze)>2047&&($e<55296||$e>57343)&&(Ce=$e);break;case 4:Ze=Q[pe+2],Qe=Q[pe+3],128==(192&(Be=Q[pe+1]))&&128==(192&Ze)&&128==(192&Qe)&&($e=(15&ce)<<18|(63&Be)<<12|(63&Ze)<<6|63&Qe)>65535&&$e<1114112&&(Ce=$e)}null===Ce?(Ce=65533,Ye=1):Ce>65535&&(de.push((Ce-=65536)>>>10&1023|55296),Ce=56320|1023&Ce),de.push(Ce),pe+=Ye}return function ue(Q){var q=Q.length;if(q<=te)return String.fromCharCode.apply(String,Q);for(var J="",de=0;de<q;)J+=String.fromCharCode.apply(String,Q.slice(de,de+=te));return J}(de)}x.Buffer=m,x.SlowBuffer=function C(Q){return+Q!=Q&&(Q=0),m.alloc(+Q)},x.INSPECT_MAX_BYTES=50,m.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function F(){try{var Q=new Uint8Array(1);return Q.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===Q.foo()&&"function"==typeof Q.subarray&&0===Q.subarray(1,1).byteLength}catch{return!1}}(),x.kMaxLength=L(),m.poolSize=8192,m._augment=function(Q){return Q.__proto__=m.prototype,Q},m.from=function(Q,q,J){return h(null,Q,q,J)},m.TYPED_ARRAY_SUPPORT&&(m.prototype.__proto__=Uint8Array.prototype,m.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&m[Symbol.species]===m&&Object.defineProperty(m,Symbol.species,{value:null,configurable:!0})),m.alloc=function(Q,q,J){return function v(Q,q,J,de){return g(q),q<=0?D(Q,q):void 0!==J?"string"==typeof de?D(Q,q).fill(J,de):D(Q,q).fill(J):D(Q,q)}(null,Q,q,J)},m.allocUnsafe=function(Q){return A(null,Q)},m.allocUnsafeSlow=function(Q){return A(null,Q)},m.isBuffer=function(q){return!(null==q||!q._isBuffer)},m.compare=function(q,J){if(!m.isBuffer(q)||!m.isBuffer(J))throw new TypeError("Arguments must be Buffers");if(q===J)return 0;for(var de=q.length,pe=J.length,ce=0,Ce=Math.min(de,pe);ce<Ce;++ce)if(q[ce]!==J[ce]){de=q[ce],pe=J[ce];break}return de<pe?-1:pe<de?1:0},m.isEncoding=function(q){switch(String(q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(q,J){if(!b(q))throw new TypeError('"list" argument must be an Array of Buffers');if(0===q.length)return m.alloc(0);var de;if(void 0===J)for(J=0,de=0;de<q.length;++de)J+=q[de].length;var pe=m.allocUnsafe(J),ce=0;for(de=0;de<q.length;++de){var Ce=q[de];if(!m.isBuffer(Ce))throw new TypeError('"list" argument must be an Array of Buffers');Ce.copy(pe,ce),ce+=Ce.length}return pe},m.byteLength=w,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var q=this.length;if(q%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var J=0;J<q;J+=2)N(this,J,J+1);return this},m.prototype.swap32=function(){var q=this.length;if(q%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var J=0;J<q;J+=4)N(this,J,J+3),N(this,J+1,J+2);return this},m.prototype.swap64=function(){var q=this.length;if(q%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var J=0;J<q;J+=8)N(this,J,J+7),N(this,J+1,J+6),N(this,J+2,J+5),N(this,J+3,J+4);return this},m.prototype.toString=function(){var q=0|this.length;return 0===q?"":0===arguments.length?me(this,0,q):T.apply(this,arguments)},m.prototype.equals=function(q){if(!m.isBuffer(q))throw new TypeError("Argument must be a Buffer");return this===q||0===m.compare(this,q)},m.prototype.inspect=function(){var q="",J=x.INSPECT_MAX_BYTES;return this.length>0&&(q=this.toString("hex",0,J).match(/.{2}/g).join(" "),this.length>J&&(q+=" ... ")),"<Buffer "+q+">"},m.prototype.compare=function(q,J,de,pe,ce){if(!m.isBuffer(q))throw new TypeError("Argument must be a Buffer");if(void 0===J&&(J=0),void 0===de&&(de=q?q.length:0),void 0===pe&&(pe=0),void 0===ce&&(ce=this.length),J<0||de>q.length||pe<0||ce>this.length)throw new RangeError("out of range index");if(pe>=ce&&J>=de)return 0;if(pe>=ce)return-1;if(J>=de)return 1;if(this===q)return 0;for(var Ce=(ce>>>=0)-(pe>>>=0),Ye=(de>>>=0)-(J>>>=0),Be=Math.min(Ce,Ye),Ze=this.slice(pe,ce),Qe=q.slice(J,de),$e=0;$e<Be;++$e)if(Ze[$e]!==Qe[$e]){Ce=Ze[$e],Ye=Qe[$e];break}return Ce<Ye?-1:Ye<Ce?1:0},m.prototype.includes=function(q,J,de){return-1!==this.indexOf(q,J,de)},m.prototype.indexOf=function(q,J,de){return S(this,q,J,de,!0)},m.prototype.lastIndexOf=function(q,J,de){return S(this,q,J,de,!1)},m.prototype.write=function(q,J,de,pe){if(void 0===J)pe="utf8",de=this.length,J=0;else if(void 0===de&&"string"==typeof J)pe=J,de=this.length,J=0;else{if(!isFinite(J))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");J|=0,isFinite(de)?(de|=0,void 0===pe&&(pe="utf8")):(pe=de,de=void 0)}var ce=this.length-J;if((void 0===de||de>ce)&&(de=ce),q.length>0&&(de<0||J<0)||J>this.length)throw new RangeError("Attempt to write outside buffer bounds");pe||(pe="utf8");for(var Ce=!1;;)switch(pe){case"hex":return Y(this,q,J,de);case"utf8":case"utf-8":return re(this,q,J,de);case"ascii":return ae(this,q,J,de);case"latin1":case"binary":return Re(this,q,J,de);case"base64":return z(this,q,J,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,q,J,de);default:if(Ce)throw new TypeError("Unknown encoding: "+pe);pe=(""+pe).toLowerCase(),Ce=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var te=4096;function Se(Q,q,J){var de="";J=Math.min(Q.length,J);for(var pe=q;pe<J;++pe)de+=String.fromCharCode(127&Q[pe]);return de}function Ie(Q,q,J){var de="";J=Math.min(Q.length,J);for(var pe=q;pe<J;++pe)de+=String.fromCharCode(Q[pe]);return de}function le(Q,q,J){var de=Q.length;(!q||q<0)&&(q=0),(!J||J<0||J>de)&&(J=de);for(var pe="",ce=q;ce<J;++ce)pe+=K(Q[ce]);return pe}function Me(Q,q,J){for(var de=Q.slice(q,J),pe="",ce=0;ce<de.length;ce+=2)pe+=String.fromCharCode(de[ce]+256*de[ce+1]);return pe}function we(Q,q,J){if(Q%1!=0||Q<0)throw new RangeError("offset is not uint");if(Q+q>J)throw new RangeError("Trying to access beyond buffer length")}function _e(Q,q,J,de,pe,ce){if(!m.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(q>pe||q<ce)throw new RangeError('"value" argument is out of bounds');if(J+de>Q.length)throw new RangeError("Index out of range")}function Le(Q,q,J,de){q<0&&(q=65535+q+1);for(var pe=0,ce=Math.min(Q.length-J,2);pe<ce;++pe)Q[J+pe]=(q&255<<8*(de?pe:1-pe))>>>8*(de?pe:1-pe)}function Pe(Q,q,J,de){q<0&&(q=4294967295+q+1);for(var pe=0,ce=Math.min(Q.length-J,4);pe<ce;++pe)Q[J+pe]=q>>>8*(de?pe:3-pe)&255}function Oe(Q,q,J,de,pe,ce){if(J+de>Q.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("Index out of range")}function Ue(Q,q,J,de,pe){return pe||Oe(Q,0,J,4),O.write(Q,q,J,de,23,4),J+4}function ze(Q,q,J,de,pe){return pe||Oe(Q,0,J,8),O.write(Q,q,J,de,52,8),J+8}m.prototype.slice=function(q,J){var pe,de=this.length;if((q=~~q)<0?(q+=de)<0&&(q=0):q>de&&(q=de),(J=void 0===J?de:~~J)<0?(J+=de)<0&&(J=0):J>de&&(J=de),J<q&&(J=q),m.TYPED_ARRAY_SUPPORT)(pe=this.subarray(q,J)).__proto__=m.prototype;else{var ce=J-q;pe=new m(ce,void 0);for(var Ce=0;Ce<ce;++Ce)pe[Ce]=this[Ce+q]}return pe},m.prototype.readUIntLE=function(q,J,de){q|=0,J|=0,de||we(q,J,this.length);for(var pe=this[q],ce=1,Ce=0;++Ce<J&&(ce*=256);)pe+=this[q+Ce]*ce;return pe},m.prototype.readUIntBE=function(q,J,de){q|=0,J|=0,de||we(q,J,this.length);for(var pe=this[q+--J],ce=1;J>0&&(ce*=256);)pe+=this[q+--J]*ce;return pe},m.prototype.readUInt8=function(q,J){return J||we(q,1,this.length),this[q]},m.prototype.readUInt16LE=function(q,J){return J||we(q,2,this.length),this[q]|this[q+1]<<8},m.prototype.readUInt16BE=function(q,J){return J||we(q,2,this.length),this[q]<<8|this[q+1]},m.prototype.readUInt32LE=function(q,J){return J||we(q,4,this.length),(this[q]|this[q+1]<<8|this[q+2]<<16)+16777216*this[q+3]},m.prototype.readUInt32BE=function(q,J){return J||we(q,4,this.length),16777216*this[q]+(this[q+1]<<16|this[q+2]<<8|this[q+3])},m.prototype.readIntLE=function(q,J,de){q|=0,J|=0,de||we(q,J,this.length);for(var pe=this[q],ce=1,Ce=0;++Ce<J&&(ce*=256);)pe+=this[q+Ce]*ce;return pe>=(ce*=128)&&(pe-=Math.pow(2,8*J)),pe},m.prototype.readIntBE=function(q,J,de){q|=0,J|=0,de||we(q,J,this.length);for(var pe=J,ce=1,Ce=this[q+--pe];pe>0&&(ce*=256);)Ce+=this[q+--pe]*ce;return Ce>=(ce*=128)&&(Ce-=Math.pow(2,8*J)),Ce},m.prototype.readInt8=function(q,J){return J||we(q,1,this.length),128&this[q]?-1*(255-this[q]+1):this[q]},m.prototype.readInt16LE=function(q,J){J||we(q,2,this.length);var de=this[q]|this[q+1]<<8;return 32768&de?4294901760|de:de},m.prototype.readInt16BE=function(q,J){J||we(q,2,this.length);var de=this[q+1]|this[q]<<8;return 32768&de?4294901760|de:de},m.prototype.readInt32LE=function(q,J){return J||we(q,4,this.length),this[q]|this[q+1]<<8|this[q+2]<<16|this[q+3]<<24},m.prototype.readInt32BE=function(q,J){return J||we(q,4,this.length),this[q]<<24|this[q+1]<<16|this[q+2]<<8|this[q+3]},m.prototype.readFloatLE=function(q,J){return J||we(q,4,this.length),O.read(this,q,!0,23,4)},m.prototype.readFloatBE=function(q,J){return J||we(q,4,this.length),O.read(this,q,!1,23,4)},m.prototype.readDoubleLE=function(q,J){return J||we(q,8,this.length),O.read(this,q,!0,52,8)},m.prototype.readDoubleBE=function(q,J){return J||we(q,8,this.length),O.read(this,q,!1,52,8)},m.prototype.writeUIntLE=function(q,J,de,pe){q=+q,J|=0,de|=0,pe||_e(this,q,J,de,Math.pow(2,8*de)-1,0);var Ce=1,Ye=0;for(this[J]=255&q;++Ye<de&&(Ce*=256);)this[J+Ye]=q/Ce&255;return J+de},m.prototype.writeUIntBE=function(q,J,de,pe){q=+q,J|=0,de|=0,pe||_e(this,q,J,de,Math.pow(2,8*de)-1,0);var Ce=de-1,Ye=1;for(this[J+Ce]=255&q;--Ce>=0&&(Ye*=256);)this[J+Ce]=q/Ye&255;return J+de},m.prototype.writeUInt8=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,1,255,0),m.TYPED_ARRAY_SUPPORT||(q=Math.floor(q)),this[J]=255&q,J+1},m.prototype.writeUInt16LE=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,2,65535,0),m.TYPED_ARRAY_SUPPORT?(this[J]=255&q,this[J+1]=q>>>8):Le(this,q,J,!0),J+2},m.prototype.writeUInt16BE=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,2,65535,0),m.TYPED_ARRAY_SUPPORT?(this[J]=q>>>8,this[J+1]=255&q):Le(this,q,J,!1),J+2},m.prototype.writeUInt32LE=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,4,4294967295,0),m.TYPED_ARRAY_SUPPORT?(this[J+3]=q>>>24,this[J+2]=q>>>16,this[J+1]=q>>>8,this[J]=255&q):Pe(this,q,J,!0),J+4},m.prototype.writeUInt32BE=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,4,4294967295,0),m.TYPED_ARRAY_SUPPORT?(this[J]=q>>>24,this[J+1]=q>>>16,this[J+2]=q>>>8,this[J+3]=255&q):Pe(this,q,J,!1),J+4},m.prototype.writeIntLE=function(q,J,de,pe){if(q=+q,J|=0,!pe){var ce=Math.pow(2,8*de-1);_e(this,q,J,de,ce-1,-ce)}var Ce=0,Ye=1,Be=0;for(this[J]=255&q;++Ce<de&&(Ye*=256);)q<0&&0===Be&&0!==this[J+Ce-1]&&(Be=1),this[J+Ce]=(q/Ye>>0)-Be&255;return J+de},m.prototype.writeIntBE=function(q,J,de,pe){if(q=+q,J|=0,!pe){var ce=Math.pow(2,8*de-1);_e(this,q,J,de,ce-1,-ce)}var Ce=de-1,Ye=1,Be=0;for(this[J+Ce]=255&q;--Ce>=0&&(Ye*=256);)q<0&&0===Be&&0!==this[J+Ce+1]&&(Be=1),this[J+Ce]=(q/Ye>>0)-Be&255;return J+de},m.prototype.writeInt8=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,1,127,-128),m.TYPED_ARRAY_SUPPORT||(q=Math.floor(q)),q<0&&(q=255+q+1),this[J]=255&q,J+1},m.prototype.writeInt16LE=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,2,32767,-32768),m.TYPED_ARRAY_SUPPORT?(this[J]=255&q,this[J+1]=q>>>8):Le(this,q,J,!0),J+2},m.prototype.writeInt16BE=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,2,32767,-32768),m.TYPED_ARRAY_SUPPORT?(this[J]=q>>>8,this[J+1]=255&q):Le(this,q,J,!1),J+2},m.prototype.writeInt32LE=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,4,2147483647,-2147483648),m.TYPED_ARRAY_SUPPORT?(this[J]=255&q,this[J+1]=q>>>8,this[J+2]=q>>>16,this[J+3]=q>>>24):Pe(this,q,J,!0),J+4},m.prototype.writeInt32BE=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,4,2147483647,-2147483648),q<0&&(q=4294967295+q+1),m.TYPED_ARRAY_SUPPORT?(this[J]=q>>>24,this[J+1]=q>>>16,this[J+2]=q>>>8,this[J+3]=255&q):Pe(this,q,J,!1),J+4},m.prototype.writeFloatLE=function(q,J,de){return Ue(this,q,J,!0,de)},m.prototype.writeFloatBE=function(q,J,de){return Ue(this,q,J,!1,de)},m.prototype.writeDoubleLE=function(q,J,de){return ze(this,q,J,!0,de)},m.prototype.writeDoubleBE=function(q,J,de){return ze(this,q,J,!1,de)},m.prototype.copy=function(q,J,de,pe){if(de||(de=0),!pe&&0!==pe&&(pe=this.length),J>=q.length&&(J=q.length),J||(J=0),pe>0&&pe<de&&(pe=de),pe===de||0===q.length||0===this.length)return 0;if(J<0)throw new RangeError("targetStart out of bounds");if(de<0||de>=this.length)throw new RangeError("sourceStart out of bounds");if(pe<0)throw new RangeError("sourceEnd out of bounds");pe>this.length&&(pe=this.length),q.length-J<pe-de&&(pe=q.length-J+de);var Ce,ce=pe-de;if(this===q&&de<J&&J<pe)for(Ce=ce-1;Ce>=0;--Ce)q[Ce+J]=this[Ce+de];else if(ce<1e3||!m.TYPED_ARRAY_SUPPORT)for(Ce=0;Ce<ce;++Ce)q[Ce+J]=this[Ce+de];else Uint8Array.prototype.set.call(q,this.subarray(de,de+ce),J);return ce},m.prototype.fill=function(q,J,de,pe){if("string"==typeof q){if("string"==typeof J?(pe=J,J=0,de=this.length):"string"==typeof de&&(pe=de,de=this.length),1===q.length){var ce=q.charCodeAt(0);ce<256&&(q=ce)}if(void 0!==pe&&"string"!=typeof pe)throw new TypeError("encoding must be a string");if("string"==typeof pe&&!m.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe)}else"number"==typeof q&&(q&=255);if(J<0||this.length<J||this.length<de)throw new RangeError("Out of range index");if(de<=J)return this;var Ce;if(J>>>=0,de=void 0===de?this.length:de>>>0,q||(q=0),"number"==typeof q)for(Ce=J;Ce<de;++Ce)this[Ce]=q;else{var Ye=m.isBuffer(q)?q:ie(new m(q,pe).toString()),Be=Ye.length;for(Ce=0;Ce<de-J;++Ce)this[Ce+J]=Ye[Ce%Be]}return this};var He=/[^+\/0-9A-Za-z-_]/g;function K(Q){return Q<16?"0"+Q.toString(16):Q.toString(16)}function ie(Q,q){q=q||1/0;for(var J,de=Q.length,pe=null,ce=[],Ce=0;Ce<de;++Ce){if((J=Q.charCodeAt(Ce))>55295&&J<57344){if(!pe){if(J>56319){(q-=3)>-1&&ce.push(239,191,189);continue}if(Ce+1===de){(q-=3)>-1&&ce.push(239,191,189);continue}pe=J;continue}if(J<56320){(q-=3)>-1&&ce.push(239,191,189),pe=J;continue}J=65536+(pe-55296<<10|J-56320)}else pe&&(q-=3)>-1&&ce.push(239,191,189);if(pe=null,J<128){if((q-=1)<0)break;ce.push(J)}else if(J<2048){if((q-=2)<0)break;ce.push(J>>6|192,63&J|128)}else if(J<65536){if((q-=3)<0)break;ce.push(J>>12|224,J>>6&63|128,63&J|128)}else{if(!(J<1114112))throw new Error("Invalid code point");if((q-=4)<0)break;ce.push(J>>18|240,J>>12&63|128,J>>6&63|128,63&J|128)}}return ce}function Z(Q){return E.toByteArray(function Ae(Q){if((Q=function ye(Q){return Q.trim?Q.trim():Q.replace(/^\s+|\s+$/g,"")}(Q).replace(He,"")).length<2)return"";for(;Q.length%4!=0;)Q+="=";return Q}(Q))}function W(Q,q,J,de){for(var pe=0;pe<de&&!(pe+J>=q.length||pe>=Q.length);++pe)q[pe+J]=Q[pe];return pe}}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/codem-isoboxer/dist/iso_boxer.js":
/*!*******************************************************!*\
                  !*** ./node_modules/codem-isoboxer/dist/iso_boxer.js ***!
                  \*******************************************************/
/*! no static exports found */function(qe,x,c){var t={parseBuffer:function(b){return new E(b).parse()},addBoxProcessor:function(b,F){"string"!=typeof b||"function"!=typeof F||(O.prototype._boxProcessors[b]=F)},createFile:function(){return new E},createBox:function(b,F,L){var D=O.create(b);return F&&F.append(D,L),D},createFullBox:function(b,F,L){var D=t.createBox(b,F,L);return D.version=0,D.flags=0,D},Utils:{}};t.Utils.dataViewToString=function(b,F){var L=F||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(L).decode(b);var D=[],m=0;if("utf-8"===L)for(;m<b.byteLength;){var h=b.getUint8(m++);h<128||(h<224?(h=(31&h)<<6,h|=63&b.getUint8(m++)):h<240?(h=(15&h)<<12,h|=(63&b.getUint8(m++))<<6,h|=63&b.getUint8(m++)):(h=(7&h)<<18,h|=(63&b.getUint8(m++))<<12,h|=(63&b.getUint8(m++))<<6,h|=63&b.getUint8(m++))),D.push(String.fromCharCode(h))}else for(;m<b.byteLength;)D.push(String.fromCharCode(b.getUint8(m++)));return D.join("")},t.Utils.utf8ToByteArray=function(b){var F,L;if(typeof TextEncoder<"u")F=(new TextEncoder).encode(b);else for(F=[],L=0;L<b.length;++L){var D=b.charCodeAt(L);D<128?F.push(D):D<2048?(F.push(192|D>>6),F.push(128|63&D)):D<65536?(F.push(224|D>>12),F.push(128|63&D>>6),F.push(128|63&D)):(F.push(240|D>>18),F.push(128|63&D>>12),F.push(128|63&D>>6),F.push(128|63&D))}return F},t.Utils.appendBox=function(b,F,L){if(F._offset=b._cursor.offset,F._root=b._root?b._root:b,F._raw=b._raw,F._parent=b,-1!==L){if(null==L)return void b.boxes.push(F);var m,D=-1;if("number"==typeof L)D=L;else{if("string"==typeof L)m=L;else{if("object"!=typeof L||!L.type)return void b.boxes.push(F);m=L.type}for(var h=0;h<b.boxes.length;h++)if(m===b.boxes[h].type){D=h+1;break}}b.boxes.splice(D,0,F)}},x.parseBuffer=t.parseBuffer,x.addBoxProcessor=t.addBoxProcessor,x.createFile=t.createFile,x.createBox=t.createBox,x.createFullBox=t.createFullBox,x.Utils=t.Utils,t.Cursor=function(b){this.offset=typeof b>"u"?0:b};var E=function(b){this._cursor=new t.Cursor,this.boxes=[],b&&(this._raw=new DataView(b))};E.prototype.fetch=function(b){var F=this.fetchAll(b,!0);return F.length?F[0]:null},E.prototype.fetchAll=function(b,F){var L=[];return E._sweep.call(this,b,L,F),L},E.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var b=O.parse(this);if(typeof b.type>"u")break;this.boxes.push(b)}return this},E._sweep=function(b,F,L){for(var D in this.type&&this.type==b&&F.push(this),this.boxes){if(F.length&&L)return;E._sweep.call(this.boxes[D],b,F,L)}},E.prototype.write=function(){var F,b=0;for(F=0;F<this.boxes.length;F++)b+=this.boxes[F].getLength(!1);var L=new Uint8Array(b);for(this._rawo=new DataView(L.buffer),this.bytes=L,this._cursor.offset=0,F=0;F<this.boxes.length;F++)this.boxes[F].write();return L.buffer},E.prototype.append=function(b,F){t.Utils.appendBox(this,b,F)};var O=function(){this._cursor=new t.Cursor};O.parse=function(b){var F=new O;return F._offset=b._cursor.offset,F._root=b._root?b._root:b,F._raw=b._raw,F._parent=b,F._parseBox(),b._cursor.offset=F._raw.byteOffset+F._raw.byteLength,F},O.create=function(b){var F=new O;return F.type=b,F.boxes=[],F},O.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],O.prototype._boxProcessors={},O.prototype._procField=function(b,F,L){this._parsing?this[b]=this._readField(F,L):this._writeField(F,L,this[b])},O.prototype._procFieldArray=function(b,F,L,D){var m;if(this._parsing)for(this[b]=[],m=0;m<F;m++)this[b][m]=this._readField(L,D);else for(m=0;m<this[b].length;m++)this._writeField(L,D,this[b][m])},O.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},O.prototype._procEntries=function(b,F,L){var D;if(this._parsing)for(this[b]=[],D=0;D<F;D++)this[b].push({}),L.call(this,this[b][D]);else for(D=0;D<F;D++)L.call(this,this[b][D])},O.prototype._procSubEntries=function(b,F,L,D){var m;if(this._parsing)for(b[F]=[],m=0;m<L;m++)b[F].push({}),D.call(this,b[F][m]);else for(m=0;m<L;m++)D.call(this,b[F][m])},O.prototype._procEntryField=function(b,F,L,D){this._parsing?b[F]=this._readField(L,D):this._writeField(L,D,b[F])},O.prototype._procSubBoxes=function(b,F){var L;if(this._parsing)for(this[b]=[],L=0;L<F;L++)this[b].push(O.parse(this));else for(L=0;L<F;L++)this._rawo?this[b][L].write():this.size+=this[b][L].getLength()},O.prototype._readField=function(b,F){switch(b){case"uint":return this._readUint(F);case"int":return this._readInt(F);case"template":return this._readTemplate(F);case"string":return-1===F?this._readTerminatedString():this._readString(F);case"data":return this._readData(F);case"utf8":return this._readUTF8String();default:return-1}},O.prototype._readInt=function(b){var F=null,L=this._cursor.offset-this._raw.byteOffset;switch(b){case 8:F=this._raw.getInt8(L);break;case 16:F=this._raw.getInt16(L);break;case 32:F=this._raw.getInt32(L);break;case 64:var D=this._raw.getInt32(L),m=this._raw.getInt32(L+4);F=D*Math.pow(2,32)+m}return this._cursor.offset+=b>>3,F},O.prototype._readUint=function(b){var D,m,F=null,L=this._cursor.offset-this._raw.byteOffset;switch(b){case 8:F=this._raw.getUint8(L);break;case 16:F=this._raw.getUint16(L);break;case 24:F=((D=this._raw.getUint16(L))<<8)+(m=this._raw.getUint8(L+2));break;case 32:F=this._raw.getUint32(L);break;case 64:D=this._raw.getUint32(L),m=this._raw.getUint32(L+4),F=D*Math.pow(2,32)+m}return this._cursor.offset+=b>>3,F},O.prototype._readString=function(b){for(var F="",L=0;L<b;L++){var D=this._readUint(8);F+=String.fromCharCode(D)}return F},O.prototype._readTemplate=function(b){return this._readUint(b/2)+this._readUint(b/2)/Math.pow(2,b/2)},O.prototype._readTerminatedString=function(){for(var b="";this._cursor.offset-this._offset<this._raw.byteLength;){var F=this._readUint(8);if(0===F)break;b+=String.fromCharCode(F)}return b},O.prototype._readData=function(b){var F=b>0?b:this._raw.byteLength-(this._cursor.offset-this._offset);if(F>0){var L=new Uint8Array(this._raw.buffer,this._cursor.offset,F);return this._cursor.offset+=F,L}return null},O.prototype._readUTF8String=function(){var b=this._raw.byteLength-(this._cursor.offset-this._offset),F=null;return b>0&&(F=new DataView(this._raw.buffer,this._cursor.offset,b),this._cursor.offset+=b),F&&t.Utils.dataViewToString(F)},O.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},O.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},O.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(O.parse(this))},O.prototype.append=function(b,F){t.Utils.appendBox(this,b,F)},O.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var b=0;b<this.boxes.length;b++)this.size+=this.boxes[b].getLength();return this._data&&this._writeData(this._data),this.size},O.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var b=0;b<this.boxes.length;b++)this.boxes[b].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},O.prototype._writeInt=function(b,F){if(this._rawo){var L=this._cursor.offset-this._rawo.byteOffset;switch(b){case 8:this._rawo.setInt8(L,F);break;case 16:this._rawo.setInt16(L,F);break;case 32:this._rawo.setInt32(L,F);break;case 64:var D=Math.floor(F/Math.pow(2,32)),m=F-D*Math.pow(2,32);this._rawo.setUint32(L,D),this._rawo.setUint32(L+4,m)}this._cursor.offset+=b>>3}else this.size+=b>>3},O.prototype._writeUint=function(b,F){if(this._rawo){var D,m,L=this._cursor.offset-this._rawo.byteOffset;switch(b){case 8:this._rawo.setUint8(L,F);break;case 16:this._rawo.setUint16(L,F);break;case 24:m=255&F,this._rawo.setUint16(L,D=(16776960&F)>>8),this._rawo.setUint8(L+2,m);break;case 32:this._rawo.setUint32(L,F);break;case 64:m=F-(D=Math.floor(F/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(L,D),this._rawo.setUint32(L+4,m)}this._cursor.offset+=b>>3}else this.size+=b>>3},O.prototype._writeString=function(b,F){for(var L=0;L<b;L++)this._writeUint(8,F.charCodeAt(L))},O.prototype._writeTerminatedString=function(b){if(0!==b.length){for(var F=0;F<b.length;F++)this._writeUint(8,b.charCodeAt(F));this._writeUint(8,0)}},O.prototype._writeTemplate=function(b,F){var L=Math.floor(F),D=(F-L)*Math.pow(2,b/2);this._writeUint(b/2,L),this._writeUint(b/2,D)},O.prototype._writeData=function(b){if(b)if(this._rawo){if(b instanceof Array){for(var L=this._cursor.offset-this._rawo.byteOffset,F=0;F<b.length;F++)this._rawo.setInt8(L+F,b[F]);this._cursor.offset+=b.length}b instanceof Uint8Array&&(this._root.bytes.set(b,this._cursor.offset),this._cursor.offset+=b.length)}else this.size+=b.length},O.prototype._writeUTF8String=function(b){var F=t.Utils.utf8ToByteArray(b);if(this._rawo)for(var L=new DataView(this._rawo.buffer,this._cursor.offset,F.length),D=0;D<F.length;D++)L.setUint8(D,F[D]);else this.size+=F.length},O.prototype._writeField=function(b,F,L){switch(b){case"uint":this._writeUint(F,L);break;case"int":this._writeInt(F,L);break;case"template":this._writeTemplate(F,L);break;case"string":-1==F?this._writeTerminatedString(L):this._writeString(F,L);break;case"data":this._writeData(L);break;case"utf8":this._writeUTF8String(L)}},O.prototype._boxProcessors.avc1=O.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},O.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},O.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(b){this._procEntryField(b,"segment_duration","uint",1===this.version?64:32),this._procEntryField(b,"media_time","int",1===this.version?64:32),this._procEntryField(b,"media_rate_integer","int",16),this._procEntryField(b,"media_rate_fraction","int",16)})},O.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},O.prototype._boxProcessors.free=O.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},O.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},O.prototype._boxProcessors.ftyp=O.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var b=-1;this._parsing&&(b=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",b,"string",4)},O.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},O.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},O.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),!this._parsing&&"string"==typeof this.language&&(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},O.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},O.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},O.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},O.prototype._boxProcessors.mp4a=O.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},O.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},O.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},O.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},O.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},O.prototype._boxProcessors.sdtp=function(){this._procFullBox();var b=-1;this._parsing&&(b=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",b,"uint",8)},O.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(b){this._parsing||(b.reference=(1&b.reference_type)<<31,b.reference|=2147483647&b.referenced_size,b.sap=(1&b.starts_with_SAP)<<31,b.sap|=(3&b.SAP_type)<<28,b.sap|=268435455&b.SAP_delta_time),this._procEntryField(b,"reference","uint",32),this._procEntryField(b,"subsegment_duration","uint",32),this._procEntryField(b,"sap","uint",32),this._parsing&&(b.reference_type=b.reference>>31&1,b.referenced_size=2147483647&b.reference,b.starts_with_SAP=b.sap>>31&1,b.SAP_type=b.sap>>28&7,b.SAP_delta_time=268435455&b.sap)})},O.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},O.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(b){this._procEntryField(b,"ranges_count","uint",32),this._procSubEntries(b,"ranges",b.ranges_count,function(F){this._procEntryField(F,"level","uint",8),this._procEntryField(F,"range_size","uint",24)})})},O.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},O.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(b){this._procEntryField(b,"sample_delta","uint",32),this._procEntryField(b,"subsample_count","uint",16),this._procSubEntries(b,"subsamples",b.subsample_count,function(F){this._procEntryField(F,"subsample_size","uint",1===this.version?32:16),this._procEntryField(F,"subsample_priority","uint",8),this._procEntryField(F,"discardable","uint",8),this._procEntryField(F,"codec_specific_parameters","uint",32)})})},O.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},O.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},O.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},O.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(b){this._procEntryField(b,"time","uint",1===this.version?64:32),this._procEntryField(b,"moof_offset","uint",1===this.version?64:32),this._procEntryField(b,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(b,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(b,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},O.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},O.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},O.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(b){256&this.flags&&this._procEntryField(b,"sample_duration","uint",32),512&this.flags&&this._procEntryField(b,"sample_size","uint",32),1024&this.flags&&this._procEntryField(b,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(b,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},O.prototype._boxProcessors["url "]=O.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},O.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},O.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},O.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},O.prototype._boxProcessors.vtte=function(){}},"./node_modules/core-util-is/lib/util.js":
/*!***********************************************!*\
                  !*** ./node_modules/core-util-is/lib/util.js ***!
                  \***********************************************/
/*! no static exports found */function(qe,x,c){function V(k){return Object.prototype.toString.call(k)}x.isArray=function t(k){return Array.isArray?Array.isArray(k):"[object Array]"===V(k)},x.isBoolean=function E(k){return"boolean"==typeof k},x.isNull=function O(k){return null===k},x.isNullOrUndefined=function b(k){return null==k},x.isNumber=function F(k){return"number"==typeof k},x.isString=function L(k){return"string"==typeof k},x.isSymbol=function D(k){return"symbol"==typeof k},x.isUndefined=function m(k){return void 0===k},x.isRegExp=function h(k){return"[object RegExp]"===V(k)},x.isObject=function g(k){return"object"==typeof k&&null!==k},x.isDate=function v(k){return"[object Date]"===V(k)},x.isError=function A(k){return"[object Error]"===V(k)||k instanceof Error},x.isFunction=function U(k){return"function"==typeof k},x.isPrimitive=function P(k){return null===k||"boolean"==typeof k||"number"==typeof k||"string"==typeof k||"symbol"==typeof k||typeof k>"u"},x.isBuffer=c(
/*! buffer */
"./node_modules/buffer/index.js").Buffer.isBuffer},"./node_modules/es6-promise/auto.js":
/*!******************************************!*\
                  !*** ./node_modules/es6-promise/auto.js ***!
                  \******************************************/
/*! no static exports found */function(qe,x,c){"use strict";qe.exports=c(
/*! ./ */
"./node_modules/es6-promise/dist/es6-promise.js").polyfill()},"./node_modules/es6-promise/dist/es6-promise.js":
/*!******************************************************!*\
                  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!
                  \******************************************************/
/*! no static exports found */function(qe,x,c){(function(t,E){var b;b=function(){"use strict";function b(ce){return"function"==typeof ce}var L=Array.isArray?Array.isArray:function(ce){return"[object Array]"===Object.prototype.toString.call(ce)},D=0,m=void 0,h=void 0,g=function(Ce,Ye){B[D]=Ce,B[D+1]=Ye,2===(D+=2)&&(h?h(Y):ae())};var U=typeof window<"u"?window:void 0,P=U||{},V=P.MutationObserver||P.WebKitMutationObserver,k=typeof self>"u"&&typeof t<"u"&&"[object process]"==={}.toString.call(t),R=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function S(){var ce=setTimeout;return function(){return ce(Y,1)}}var B=new Array(1e3);function Y(){for(var ce=0;ce<D;ce+=2)(0,B[ce])(B[ce+1]),B[ce]=void 0,B[ce+1]=void 0;D=0}var ae=void 0;function Re(ce,Ce){var Ye=this,Be=new this.constructor(H);void 0===Be[oe]&&he(Be);var Ze=Ye._state;if(Ze){var Qe=arguments[Ze-1];g(function(){return Ae(Ze,Be,Qe,Ye._result)})}else ze(Ye,Be,ce,Ce);return Be}function z(ce){if(ce&&"object"==typeof ce&&ce.constructor===this)return ce;var Ye=new this(H);return Le(Ye,ce),Ye}ae=k?function C(){return function(){return t.nextTick(Y)}}():V?function T(){var ce=0,Ce=new V(Y),Ye=document.createTextNode("");return Ce.observe(Ye,{characterData:!0}),function(){Ye.data=ce=++ce%2}}():R?function N(){var ce=new MessageChannel;return ce.port1.onmessage=Y,function(){return ce.port2.postMessage(0)}}():void 0===U?function re(){try{var ce=Function("return this")().require("vertx");return m=ce.runOnLoop||ce.runOnContext,function w(){return typeof m<"u"?function(){m(Y)}:S()}()}catch{return S()}}():S();var oe=Math.random().toString(36).substring(2);function H(){}var me=void 0,te=1,ue=2;function _e(ce,Ce,Ye){Ce.constructor===ce.constructor&&Ye===Re&&Ce.constructor.resolve===z?function we(ce,Ce){Ce._state===te?Oe(ce,Ce._result):Ce._state===ue?Ue(ce,Ce._result):ze(Ce,void 0,function(Ye){return Le(ce,Ye)},function(Ye){return Ue(ce,Ye)})}(ce,Ce):void 0===Ye?Oe(ce,Ce):b(Ye)?function Me(ce,Ce,Ye){g(function(Be){var Ze=!1,Qe=function le(ce,Ce,Ye,Be){try{ce.call(Ce,Ye,Be)}catch(Ze){return Ze}}(Ye,Ce,function($e){Ze||(Ze=!0,Ce!==$e?Le(Be,$e):Oe(Be,$e))},function($e){Ze||(Ze=!0,Ue(Be,$e))});!Ze&&Qe&&(Ze=!0,Ue(Be,Qe))},ce)}(ce,Ce,Ye):Oe(ce,Ce)}function Le(ce,Ce){if(ce===Ce)Ue(ce,function Se(){return new TypeError("You cannot resolve a promise with itself")}());else if(function O(ce){var Ce=typeof ce;return null!==ce&&("object"===Ce||"function"===Ce)}(Ce)){var Ye=void 0;try{Ye=Ce.then}catch(Be){return void Ue(ce,Be)}_e(ce,Ce,Ye)}else Oe(ce,Ce)}function Pe(ce){ce._onerror&&ce._onerror(ce._result),He(ce)}function Oe(ce,Ce){ce._state===me&&(ce._result=Ce,ce._state=te,0!==ce._subscribers.length&&g(He,ce))}function Ue(ce,Ce){ce._state===me&&(ce._state=ue,ce._result=Ce,g(Pe,ce))}function ze(ce,Ce,Ye,Be){var Ze=ce._subscribers,Qe=Ze.length;ce._onerror=null,Ze[Qe]=Ce,Ze[Qe+te]=Ye,Ze[Qe+ue]=Be,0===Qe&&ce._state&&g(He,ce)}function He(ce){var Ce=ce._subscribers,Ye=ce._state;if(0!==Ce.length){for(var Be=void 0,Ze=void 0,Qe=ce._result,$e=0;$e<Ce.length;$e+=3)Ze=Ce[$e+Ye],(Be=Ce[$e])?Ae(Ye,Be,Ze,Qe):Ze(Qe);ce._subscribers.length=0}}function Ae(ce,Ce,Ye,Be){var Ze=b(Ye),Qe=void 0,$e=void 0,ct=!0;if(Ze){try{Qe=Ye(Be)}catch(It){ct=!1,$e=It}if(Ce===Qe)return void Ue(Ce,function Ie(){return new TypeError("A promises callback cannot return that same promise.")}())}else Qe=Be;Ce._state!==me||(Ze&&ct?Le(Ce,Qe):!1===ct?Ue(Ce,$e):ce===te?Oe(Ce,Qe):ce===ue&&Ue(Ce,Qe))}var K=0;function he(ce){ce[oe]=K++,ce._state=void 0,ce._result=void 0,ce._subscribers=[]}var Z=function(){function ce(Ce,Ye){this._instanceConstructor=Ce,this.promise=new Ce(H),this.promise[oe]||he(this.promise),L(Ye)?(this.length=Ye.length,this._remaining=Ye.length,this._result=new Array(this.length),0===this.length?Oe(this.promise,this._result):(this.length=this.length||0,this._enumerate(Ye),0===this._remaining&&Oe(this.promise,this._result))):Ue(this.promise,function $(){return new Error("Array Methods must be provided an Array")}())}return ce.prototype._enumerate=function(Ye){for(var Be=0;this._state===me&&Be<Ye.length;Be++)this._eachEntry(Ye[Be],Be)},ce.prototype._eachEntry=function(Ye,Be){var Ze=this._instanceConstructor,Qe=Ze.resolve;if(Qe===z){var $e=void 0,ct=void 0,It=!1;try{$e=Ye.then}catch(Pt){It=!0,ct=Pt}if($e===Re&&Ye._state!==me)this._settledAt(Ye._state,Be,Ye._result);else if("function"!=typeof $e)this._remaining--,this._result[Be]=Ye;else if(Ze===de){var _t=new Ze(H);It?Ue(_t,ct):_e(_t,Ye,$e),this._willSettleAt(_t,Be)}else this._willSettleAt(new Ze(function(Pt){return Pt(Ye)}),Be)}else this._willSettleAt(Qe(Ye),Be)},ce.prototype._settledAt=function(Ye,Be,Ze){var Qe=this.promise;Qe._state===me&&(this._remaining--,Ye===ue?Ue(Qe,Ze):this._result[Be]=Ze),0===this._remaining&&Oe(Qe,this._result)},ce.prototype._willSettleAt=function(Ye,Be){var Ze=this;ze(Ye,void 0,function(Qe){return Ze._settledAt(te,Be,Qe)},function(Qe){return Ze._settledAt(ue,Be,Qe)})},ce}();var de=function(){function ce(Ce){this[oe]=function ie(){return K++}(),this._result=this._state=void 0,this._subscribers=[],H!==Ce&&("function"!=typeof Ce&&function q(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof ce?function ye(ce,Ce){try{Ce(function(Be){Le(ce,Be)},function(Be){Ue(ce,Be)})}catch(Ye){Ue(ce,Ye)}}(this,Ce):function J(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return ce.prototype.catch=function(Ye){return this.then(null,Ye)},ce.prototype.finally=function(Ye){var Ze=this.constructor;return b(Ye)?this.then(function(Qe){return Ze.resolve(Ye()).then(function(){return Qe})},function(Qe){return Ze.resolve(Ye()).then(function(){throw Qe})}):this.then(Ye,Ye)},ce}();return de.prototype.then=Re,de.all=function W(ce){return new Z(this,ce).promise},de.race=function X(ce){var Ce=this;return L(ce)?new Ce(function(Ye,Be){for(var Ze=ce.length,Qe=0;Qe<Ze;Qe++)Ce.resolve(ce[Qe]).then(Ye,Be)}):new Ce(function(Ye,Be){return Be(new TypeError("You must pass an array to race."))})},de.resolve=z,de.reject=function Q(ce){var Ye=new this(H);return Ue(Ye,ce),Ye},de._setScheduler=function v(ce){h=ce},de._setAsap=function A(ce){g=ce},de._asap=g,de.polyfill=function pe(){var ce=void 0;if(typeof E<"u")ce=E;else if(typeof self<"u")ce=self;else try{ce=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Ce=ce.Promise;if(Ce){var Ye=null;try{Ye=Object.prototype.toString.call(Ce.resolve())}catch{}if("[object Promise]"===Ye&&!Ce.cast)return}ce.Promise=de},de.Promise=de,de},qe.exports=b()}).call(this,c(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),c(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/events/events.js":
/*!***************************************!*\
                  !*** ./node_modules/events/events.js ***!
                  \***************************************/
/*! no static exports found */function(qe,x,c){"use strict";var O,t="object"==typeof Reflect?Reflect:null,E=t&&"function"==typeof t.apply?t.apply:function(S,B,Y){return Function.prototype.apply.call(S,B,Y)};O=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:function(S){return Object.getOwnPropertyNames(S)};var F=Number.isNaN||function(S){return S!=S};function L(){L.init.call(this)}qe.exports=L,qe.exports.once=function C(N,S){return new Promise(function(B,Y){function re(Re){N.removeListener(S,ae),Y(Re)}function ae(){"function"==typeof N.removeListener&&N.removeListener("error",re),B([].slice.call(arguments))}T(N,S,ae,{once:!0}),"error"!==S&&function w(N,S,B){"function"==typeof N.on&&T(N,"error",S,B)}(N,re,{once:!0})})},L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var D=10;function m(N){if("function"!=typeof N)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}function h(N){return void 0===N._maxListeners?L.defaultMaxListeners:N._maxListeners}function g(N,S,B,Y){var re,ae,Re;if(m(B),void 0===(ae=N._events)?(ae=N._events=Object.create(null),N._eventsCount=0):(void 0!==ae.newListener&&(N.emit("newListener",S,B.listener?B.listener:B),ae=N._events),Re=ae[S]),void 0===Re)Re=ae[S]=B,++N._eventsCount;else if("function"==typeof Re?Re=ae[S]=Y?[B,Re]:[Re,B]:Y?Re.unshift(B):Re.push(B),(re=h(N))>0&&Re.length>re&&!Re.warned){Re.warned=!0;var z=new Error("Possible EventEmitter memory leak detected. "+Re.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");z.name="MaxListenersExceededWarning",z.emitter=N,z.type=S,z.count=Re.length,function b(N){console&&console.warn&&console.warn(N)}(z)}return N}function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function A(N,S,B){var Y={fired:!1,wrapFn:void 0,target:N,type:S,listener:B},re=v.bind(Y);return re.listener=B,Y.wrapFn=re,re}function U(N,S,B){var Y=N._events;if(void 0===Y)return[];var re=Y[S];return void 0===re?[]:"function"==typeof re?B?[re.listener||re]:[re]:B?function R(N){for(var S=new Array(N.length),B=0;B<S.length;++B)S[B]=N[B].listener||N[B];return S}(re):V(re,re.length)}function P(N){var S=this._events;if(void 0!==S){var B=S[N];if("function"==typeof B)return 1;if(void 0!==B)return B.length}return 0}function V(N,S){for(var B=new Array(S),Y=0;Y<S;++Y)B[Y]=N[Y];return B}function T(N,S,B,Y){if("function"==typeof N.on)Y.once?N.once(S,B):N.on(S,B);else{if("function"!=typeof N.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N);N.addEventListener(S,function re(ae){Y.once&&N.removeEventListener(S,re),B(ae)})}}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return D},set:function(N){if("number"!=typeof N||N<0||F(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");D=N}}),L.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(S){if("number"!=typeof S||S<0||F(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this},L.prototype.getMaxListeners=function(){return h(this)},L.prototype.emit=function(S){for(var B=[],Y=1;Y<arguments.length;Y++)B.push(arguments[Y]);var re="error"===S,ae=this._events;if(void 0!==ae)re=re&&void 0===ae.error;else if(!re)return!1;if(re){var Re;if(B.length>0&&(Re=B[0]),Re instanceof Error)throw Re;var z=new Error("Unhandled error."+(Re?" ("+Re.message+")":""));throw z.context=Re,z}var oe=ae[S];if(void 0===oe)return!1;if("function"==typeof oe)E(oe,this,B);else{var H=oe.length,me=V(oe,H);for(Y=0;Y<H;++Y)E(me[Y],this,B)}return!0},L.prototype.on=L.prototype.addListener=function(S,B){return g(this,S,B,!1)},L.prototype.prependListener=function(S,B){return g(this,S,B,!0)},L.prototype.once=function(S,B){return m(B),this.on(S,A(this,S,B)),this},L.prototype.prependOnceListener=function(S,B){return m(B),this.prependListener(S,A(this,S,B)),this},L.prototype.off=L.prototype.removeListener=function(S,B){var Y,re,ae,Re,z;if(m(B),void 0===(re=this._events))return this;if(void 0===(Y=re[S]))return this;if(Y===B||Y.listener===B)0==--this._eventsCount?this._events=Object.create(null):(delete re[S],re.removeListener&&this.emit("removeListener",S,Y.listener||B));else if("function"!=typeof Y){for(ae=-1,Re=Y.length-1;Re>=0;Re--)if(Y[Re]===B||Y[Re].listener===B){z=Y[Re].listener,ae=Re;break}if(ae<0)return this;0===ae?Y.shift():function k(N,S){for(;S+1<N.length;S++)N[S]=N[S+1];N.pop()}(Y,ae),1===Y.length&&(re[S]=Y[0]),void 0!==re.removeListener&&this.emit("removeListener",S,z||B)}return this},L.prototype.removeAllListeners=function(S){var B,Y,re;if(void 0===(Y=this._events))return this;if(void 0===Y.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==Y[S]&&(0==--this._eventsCount?this._events=Object.create(null):delete Y[S]),this;if(0===arguments.length){var Re,ae=Object.keys(Y);for(re=0;re<ae.length;++re)"removeListener"!==(Re=ae[re])&&this.removeAllListeners(Re);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(B=Y[S]))this.removeListener(S,B);else if(void 0!==B)for(re=B.length-1;re>=0;re--)this.removeListener(S,B[re]);return this},L.prototype.listeners=function(S){return U(this,S,!0)},L.prototype.rawListeners=function(S){return U(this,S,!1)},L.listenerCount=function(N,S){return"function"==typeof N.listenerCount?N.listenerCount(S):P.call(N,S)},L.prototype.listenerCount=P,L.prototype.eventNames=function(){return this._eventsCount>0?O(this._events):[]}},"./node_modules/fast-deep-equal/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/fast-deep-equal/index.js ***!
                  \***********************************************/
/*! no static exports found */function(qe,x,c){"use strict";var t=Array.isArray,E=Object.keys,O=Object.prototype.hasOwnProperty;qe.exports=function b(F,L){if(F===L)return!0;if(F&&L&&"object"==typeof F&&"object"==typeof L){var h,g,v,D=t(F),m=t(L);if(D&&m){if((g=F.length)!=L.length)return!1;for(h=g;0!=h--;)if(!b(F[h],L[h]))return!1;return!0}if(D!=m)return!1;var A=F instanceof Date,U=L instanceof Date;if(A!=U)return!1;if(A&&U)return F.getTime()==L.getTime();var P=F instanceof RegExp,V=L instanceof RegExp;if(P!=V)return!1;if(P&&V)return F.toString()==L.toString();var k=E(F);if((g=k.length)!==E(L).length)return!1;for(h=g;0!=h--;)if(!O.call(L,k[h]))return!1;for(h=g;0!=h--;)if(!b(F[v=k[h]],L[v]))return!1;return!0}return F!=F&&L!=L}},"./node_modules/ieee754/index.js":
/*!***************************************!*\
                  !*** ./node_modules/ieee754/index.js ***!
                  \***************************************/
/*! no static exports found */function(qe,x){x.read=function(c,t,E,O,b){var F,L,D=8*b-O-1,m=(1<<D)-1,h=m>>1,g=-7,v=E?b-1:0,A=E?-1:1,U=c[t+v];for(v+=A,F=U&(1<<-g)-1,U>>=-g,g+=D;g>0;F=256*F+c[t+v],v+=A,g-=8);for(L=F&(1<<-g)-1,F>>=-g,g+=O;g>0;L=256*L+c[t+v],v+=A,g-=8);if(0===F)F=1-h;else{if(F===m)return L?NaN:1/0*(U?-1:1);L+=Math.pow(2,O),F-=h}return(U?-1:1)*L*Math.pow(2,F-O)},x.write=function(c,t,E,O,b,F){var L,D,m,h=8*F-b-1,g=(1<<h)-1,v=g>>1,A=23===b?Math.pow(2,-24)-Math.pow(2,-77):0,U=O?0:F-1,P=O?1:-1,V=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(D=isNaN(t)?1:0,L=g):(L=Math.floor(Math.log(t)/Math.LN2),t*(m=Math.pow(2,-L))<1&&(L--,m*=2),(t+=L+v>=1?A/m:A*Math.pow(2,1-v))*m>=2&&(L++,m/=2),L+v>=g?(D=0,L=g):L+v>=1?(D=(t*m-1)*Math.pow(2,b),L+=v):(D=t*Math.pow(2,v-1)*Math.pow(2,b),L=0));b>=8;c[E+U]=255&D,U+=P,D/=256,b-=8);for(L=L<<b|D,h+=b;h>0;c[E+U]=255&L,U+=P,L/=256,h-=8);c[E+U-P]|=128*V}},"./node_modules/imsc/src/main/js/doc.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/doc.js ***!
                  \**********************************************/
/*! no static exports found */function(qe,x,c){!function(t,E,O,b,F){function L($){if("contents"in $)for(var Z=("styleAttrs"in $?$.styleAttrs[b.byName.ruby.qname]:null),W="span"===$.kind&&("container"===Z||"textContainer"===Z||"baseContainer"===Z),X=$.contents.length-1;X>=0;X--)!W||"styleAttrs"in $.contents[X]&&b.byName.ruby.qname in $.contents[X].styleAttrs?L($.contents[X]):delete $.contents[X]}function D($,Z,W,X){var Q=X&&"seq"===X.timeContainer,q=0;X&&(q=Q&&W?W.end:X.begin),Z.begin=Z.explicit_begin?Z.explicit_begin+q:q;var J=Z.begin,de=null;if("sets"in Z)for(var pe=0;pe<Z.sets.length;pe++)D($,Z.sets[pe],de,Z),J="seq"===Z.timeContainer?Z.sets[pe].end:Math.max(J,Z.sets[pe].end),de=Z.sets[pe];if("contents"in Z){if("contents"in Z)for(var ce=0;ce<Z.contents.length;ce++)D($,Z.contents[ce],de,Z),J="seq"===Z.timeContainer?Z.contents[ce].end:Math.max(J,Z.contents[ce].end),de=Z.contents[ce]}else J=Q?Z.begin:Number.POSITIVE_INFINITY;Z.end=null!==Z.explicit_end&&null!==Z.explicit_dur?Math.min(Z.begin+Z.explicit_dur,q+Z.explicit_end):null===Z.explicit_end&&null!==Z.explicit_dur?Z.begin+Z.explicit_dur:null!==Z.explicit_end&&null===Z.explicit_dur?q+Z.explicit_end:J,delete Z.explicit_begin,delete Z.explicit_dur,delete Z.explicit_end,$._registerEvent(Z)}function m($){this.node=$}function h(){this.events=[],this.head=new g,this.body=null}function g(){this.styling=new v,this.layout=new P}function v(){this.styles={},this.initials={}}function A(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function U(){this.styleAttrs=null}function P(){this.regions={}}function V($,Z){k.call(this,"image"),this.src=$,this.type=Z}function k($){this.kind=$}function R($){this.id=$}function C($){this.regionID=$}function w($){this.styleAttrs=$}function T($){this.sets=$}function N($){this.contents=$}function S($,Z,W){this.explicit_begin=$,this.explicit_end=Z,this.explicit_dur=W}function B(){k.call(this,"body")}function Y(){k.call(this,"div")}function re(){k.call(this,"p")}function ae(){k.call(this,"span")}function Re(){k.call(this,"span")}function z(){k.call(this,"br")}function oe(){}function H(){}function me($){return $&&"xml:id"in $.attributes&&$.attributes["xml:id"].value||null}function Se($){return $&&"style"in $.attributes?$.attributes.style.value.split(" "):[]}function Ie($,Z){var W={};if(null!==$)for(var X in $.attributes){var Q=$.attributes[X].uri+" "+$.attributes[X].local,q=b.byQName[Q];if(void 0!==q){var J=q.parse($.attributes[X].value);null!==J?(W[Q]=J,q===b.byName.zIndex&&ye(Z,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):K(Z,"Cannot parse styling attribute "+Q+" --\x3e "+$.attributes[X].value)}}return W}function le($,Z,W){for(var X in $.attributes)if($.attributes[X].uri===Z&&$.attributes[X].local===W)return $.attributes[X].value;return null}function Pe($,Z,W){var Ye,Be=null;return null!==(Ye=/^(\d+(?:\.\d+)?)f$/.exec(W))?null!==Z&&(Be=parseFloat(Ye[1])/Z):null!==(Ye=/^(\d+(?:\.\d+)?)t$/.exec(W))?null!==$&&(Be=parseFloat(Ye[1])/$):null!==(Ye=/^(\d+(?:\.\d+)?)ms$/.exec(W))?Be=parseFloat(Ye[1])/1e3:null!==(Ye=/^(\d+(?:\.\d+)?)s$/.exec(W))?Be=parseFloat(Ye[1]):null!==(Ye=/^(\d+(?:\.\d+)?)h$/.exec(W))?Be=3600*parseFloat(Ye[1]):null!==(Ye=/^(\d+(?:\.\d+)?)m$/.exec(W))?Be=60*parseFloat(Ye[1]):null!==(Ye=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(W))?Be=3600*parseInt(Ye[1])+60*parseInt(Ye[2])+parseFloat(Ye[3]):null!==(Ye=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(W))&&null!==Z&&(Be=3600*parseInt(Ye[1])+60*parseInt(Ye[2])+parseInt(Ye[3])+(null===Ye[4]?0:parseInt(Ye[4])/Z)),Be}function Ue($,Z,W){for(;Z.styleRefs.length>0;){var X=Z.styleRefs.pop();X in $.styles?(Ue($,$.styles[X],W),He($.styles[X].styleAttrs,Z.styleAttrs)):K(W,"Non-existant style id referenced")}}function ze($,Z,W,X){for(var Q=Z.length-1;Q>=0;Q--){var q=Z[Q];q in $.styles?He($.styles[q].styleAttrs,W):K(X,"Non-existant style id referenced")}}function He($,Z){for(var W in $)$.hasOwnProperty(W)&&(W in Z||(Z[W]=$[W]))}function ye($,Z){if($&&$.warn&&$.warn(Z))throw Z}function K($,Z){if($&&$.error&&$.error(Z))throw Z}function ie($,Z){throw $&&$.fatal&&$.fatal(Z),Z}function he($,Z){for(var Q,W=0,X=$.length-1;W<=X;){var q=$[Q=Math.floor((W+X)/2)];if(q<Z)W=Q+1;else{if(!(q>Z))return{found:!0,index:Q};X=Q-1}}return{found:!1,index:W}}t.fromXML=function($,Z,W){var X=E.parser(!0,{xmlns:!0}),Q=[],q=[],J=[],de=0,pe=null;X.onclosetag=function(Ze){if(Q[0]instanceof oe)null!==pe.head&&null!==pe.head.styling&&ze(pe.head.styling,Q[0].styleRefs,Q[0].styleAttrs,Z),delete Q[0].styleRefs;else if(Q[0]instanceof v)for(var Qe in Q[0].styles)Q[0].styles.hasOwnProperty(Qe)&&Ue(Q[0],Q[0].styles[Qe],Z);else if(Q[0]instanceof re||Q[0]instanceof ae){if(Q[0].contents.length>1){var ct,$e=[Q[0].contents[0]];for(ct=1;ct<Q[0].contents.length;ct++)Q[0].contents[ct]instanceof Re&&$e[$e.length-1]instanceof Re?$e[$e.length-1].text+=Q[0].contents[ct].text:$e.push(Q[0].contents[ct]);Q[0].contents=$e}Q[0]instanceof ae&&1===Q[0].contents.length&&Q[0].contents[0]instanceof Re&&(Q[0].text=Q[0].contents[0].text,delete Q[0].contents)}else Q[0]instanceof m&&(Q[0].node.uri===O.ns_tt&&"metadata"===Q[0].node.local?de--:de>0&&W&&"onCloseTag"in W&&W.onCloseTag());J.shift(),q.shift(),Q.shift()},X.ontext=function(Ze){if(void 0!==Q[0])if(Q[0]instanceof ae||Q[0]instanceof re){if(Q[0]instanceof ae){var Qe=Q[0].styleAttrs[b.byName.ruby.qname];if("container"===Qe||"textContainer"===Qe||"baseContainer"===Qe)return}var $e=new Re;$e.initFromText(pe,Q[0],Ze,q[0],J[0],Z),Q[0].contents.push($e)}else Q[0]instanceof m&&de>0&&W&&"onText"in W&&W.onText(Ze)},X.onopentag=function(Ze){var Qe=Ze.attributes["xml:space"];J.unshift(Qe?Qe.value:0===J.length?"default":J[0]);var $e=Ze.attributes["xml:lang"];if(q.unshift($e?$e.value:0===q.length?"":q[0]),Ze.uri===O.ns_tt)if("tt"===Ze.local)null!==pe&&ie(Z,"Two <tt> elements at ("+this.line+","+this.column+")"),(pe=new h).initFromNode(Ze,q[0],Z),Q.unshift(pe);else if("head"===Ze.local)Q[0]instanceof h||ie(Z,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),Q.unshift(pe.head);else if("styling"===Ze.local)Q[0]instanceof g||ie(Z,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),Q.unshift(pe.head.styling);else if("style"===Ze.local){var ct;Q[0]instanceof v?((ct=new A).initFromNode(Ze,Z),ct.id?pe.head.styling.styles[ct.id]=ct:K(Z,"<style> element missing @id attribute"),Q.unshift(ct)):Q[0]instanceof oe?((ct=new A).initFromNode(Ze,Z),He(ct.styleAttrs,Q[0].styleAttrs),Q.unshift(ct)):ie(Z,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===Ze.local){var It;if(Q[0]instanceof v){for(var _t in(It=new U).initFromNode(Ze,Z),It.styleAttrs)It.styleAttrs.hasOwnProperty(_t)&&(pe.head.styling.initials[_t]=It.styleAttrs[_t]);Q.unshift(It)}else ie(Z,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===Ze.local)Q[0]instanceof g||ie(Z,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),Q.unshift(pe.head.layout);else if("region"===Ze.local){Q[0]instanceof P||ie(Z,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var Pt=new oe;Pt.initFromNode(pe,Ze,q[0],Z),!Pt.id||Pt.id in pe.head.layout.regions?K(Z,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):pe.head.layout.regions[Pt.id]=Pt,Q.unshift(Pt)}else if("body"===Ze.local){Q[0]instanceof h||ie(Z,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==pe.body&&ie(Z,"Second <body> element at "+this.line+","+this.column+")");var Vt=new B;Vt.initFromNode(pe,Ze,q[0],Z),pe.body=Vt,Q.unshift(Vt)}else if("div"===Ze.local){Q[0]instanceof Y||Q[0]instanceof B||ie(Z,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var $t=new Y;$t.initFromNode(pe,Q[0],Ze,q[0],Z);var Qt=$t.styleAttrs[b.byName.backgroundImage.qname];Qt&&($t.contents.push(new V(Qt)),delete $t.styleAttrs[b.byName.backgroundImage.qname]),Q[0].contents.push($t),Q.unshift($t)}else if("image"===Ze.local){Q[0]instanceof Y||ie(Z,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var dn=new V;dn.initFromNode(pe,Q[0],Ze,q[0],Z),Q[0].contents.push(dn),Q.unshift(dn)}else if("p"===Ze.local){Q[0]instanceof Y||ie(Z,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var pn=new re;pn.initFromNode(pe,Q[0],Ze,q[0],Z),Q[0].contents.push(pn),Q.unshift(pn)}else if("span"===Ze.local){Q[0]instanceof ae||Q[0]instanceof re||ie(Z,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var Un=new ae;Un.initFromNode(pe,Q[0],Ze,q[0],J[0],Z),Q[0].contents.push(Un),Q.unshift(Un)}else if("br"===Ze.local){Q[0]instanceof ae||Q[0]instanceof re||ie(Z,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var ot=new z;ot.initFromNode(pe,Q[0],Ze,q[0],Z),Q[0].contents.push(ot),Q.unshift(ot)}else if("set"===Ze.local){Q[0]instanceof ae||Q[0]instanceof re||Q[0]instanceof Y||Q[0]instanceof B||Q[0]instanceof oe||Q[0]instanceof z||ie(Z,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var dt=new H;dt.initFromNode(pe,Q[0],Ze,Z),Q[0].sets.push(dt),Q.unshift(dt)}else Q.unshift(new m(Ze));else Q.unshift(new m(Ze));if(Q[0]instanceof m)if(Ze.uri===O.ns_tt&&"metadata"===Ze.local)de++;else if(de>0&&W&&"onOpenTag"in W){var xe=[];for(var fe in Ze.attributes)xe[Ze.attributes[fe].uri+" "+Ze.attributes[fe].local]={uri:Ze.attributes[fe].uri,local:Ze.attributes[fe].local,value:Ze.attributes[fe].value};W.onOpenTag(Ze.uri,Ze.local,xe)}},X.write($).close(),delete pe.head.styling.styles;var ce=!1;for(var Ce in pe.head.layout.regions)if(pe.head.layout.regions.hasOwnProperty(Ce)){ce=!0;break}if(!ce){var Ye=oe.prototype.createDefaultRegion(pe.lang);pe.head.layout.regions[Ye.id]=Ye}for(var Be in pe.head.layout.regions)pe.head.layout.regions.hasOwnProperty(Be)&&D(pe,pe.head.layout.regions[Be],null,null);return pe.body&&D(pe,pe.body,null,null),pe.body&&L(pe.body),pe},h.prototype.initFromNode=function($,Z,W){var X=function we($,Z){var W=le($,O.ns_ttp,"cellResolution"),X=15,Q=32;if(null!==W){var J=/(\d+) (\d+)/.exec(W);null!==J?(Q=parseInt(J[1]),X=parseInt(J[2])):ye(Z,"Malformed cellResolution value (using initial value instead)")}return{w:Q,h:X}}($,W);this.cellLength={h:new F.ComputedLength(0,1/X.h),w:new F.ComputedLength(1/X.w,0)};var Q=function _e($,Z){var Q,W=le($,O.ns_ttp,"frameRate"),X=30;null!==W&&(null!==(Q=/(\d+)/.exec(W))?X=parseInt(Q[1]):ye(Z,"Malformed frame rate attribute (using initial value instead)"));var J=le($,O.ns_ttp,"frameRateMultiplier"),de=1;null!==J&&(null!==(Q=/(\d+) (\d+)/.exec(J))?de=parseInt(Q[1])/parseInt(Q[2]):ye(Z,"Malformed frame rate multiplier attribute (using initial value instead)"));var ce=de*X,Ce=1,Ye=le($,O.ns_ttp,"tickRate");return null===Ye?null!==W&&(Ce=ce):null!==(Q=/(\d+)/.exec(Ye))?Ce=parseInt(Q[1]):ye(Z,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:ce,tickRate:Ce}}($,W);this.effectiveFrameRate=Q.effectiveFrameRate,this.tickRate=Q.tickRate,this.aspectRatio=function Me($,Z){var W=le($,O.ns_ittp,"aspectRatio");null===W&&(W=le($,O.ns_ttp,"displayAspectRatio"));var X=null;if(null!==W){var q=/(\d+)\s+(\d+)/.exec(W);if(null!==q){var J=parseInt(q[1]),de=parseInt(q[2]);0!==J&&0!==de?X=J/de:K(Z,"Illegal aspectRatio values (ignoring)")}else K(Z,"Malformed aspectRatio attribute (ignoring)")}return X}($,W);var q=le($,O.ns_ttp,"timeBase");null!==q&&"media"!==q&&ie(W,"Unsupported time base");var J=function Le($,Z){var W=le($,O.ns_tts,"extent");if(null===W)return null;var X=W.split(" ");if(2!==X.length)return ye(Z,"Malformed extent (ignoring)"),null;var Q=F.parseLength(X[0]),q=F.parseLength(X[1]);return q&&Q?{h:q,w:Q}:(ye(Z,"Malformed extent values (ignoring)"),null)}($,W);null===J?this.pxLength={h:null,w:null}:(("px"!==J.h.unit||"px"!==J.w.unit)&&ie(W,"Extent on TT must be in px or absent"),this.pxLength={h:new F.ComputedLength(0,1/J.h.value),w:new F.ComputedLength(1/J.w.value,0)}),this.dimensions={h:new F.ComputedLength(0,1),w:new F.ComputedLength(1,0)},this.lang=Z},h.prototype._registerEvent=function($){if(!($.end<=$.begin)){var Z=he(this.events,$.begin);if(Z.found||this.events.splice(Z.index,0,$.begin),$.end!==Number.POSITIVE_INFINITY){var W=he(this.events,$.end);W.found||this.events.splice(W.index,0,$.end)}}},h.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},h.prototype.getMediaTimeEvents=function(){return this.events},A.prototype.initFromNode=function($,Z){this.id=me($),this.styleAttrs=Ie($,Z),this.styleRefs=Se($)},U.prototype.initFromNode=function($,Z){for(var W in this.styleAttrs={},$.attributes)$.attributes[W].uri!==O.ns_itts&&$.attributes[W].uri!==O.ns_ebutts&&$.attributes[W].uri!==O.ns_tts||(this.styleAttrs[$.attributes[W].uri+" "+$.attributes[W].local]=$.attributes[W].value)},V.prototype.initFromNode=function($,Z,W,X,Q){this.src="src"in W.attributes?W.attributes.src.value:null,this.src||K(Q,"Invalid image@src attribute"),this.type="type"in W.attributes?W.attributes.type.value:null,this.type||K(Q,"Invalid image@type attribute"),w.prototype.initFromNode.call(this,$,Z,W,Q),S.prototype.initFromNode.call(this,$,Z,W,Q),T.prototype.initFromNode.call(this,$,Z,W,Q),C.prototype.initFromNode.call(this,$,Z,W,Q),this.lang=X},R.prototype.initFromNode=function($,Z,W,X){this.id=me(W)},C.prototype.initFromNode=function($,Z,W,X){this.regionID=function te($){return $&&"region"in $.attributes?$.attributes.region.value:""}(W)},w.prototype.initFromNode=function($,Z,W,X){this.styleAttrs=Ie(W,X),null!==$.head&&null!==$.head.styling&&ze($.head.styling,Se(W),this.styleAttrs,X)},T.prototype.initFromNode=function($,Z,W,X){this.sets=[]},N.prototype.initFromNode=function($,Z,W,X){this.contents=[]},S.prototype.initFromNode=function($,Z,W,X){var Q=function Oe($,Z,W,X){var Q=null;W&&"begin"in W.attributes&&null===(Q=Pe($.tickRate,$.effectiveFrameRate,W.attributes.begin.value))&&ye(X,"Malformed begin value "+W.attributes.begin.value+" (using 0)");var q=null;W&&"dur"in W.attributes&&null===(q=Pe($.tickRate,$.effectiveFrameRate,W.attributes.dur.value))&&ye(X,"Malformed dur value "+W.attributes.dur.value+" (ignoring)");var J=null;return W&&"end"in W.attributes&&null===(J=Pe($.tickRate,$.effectiveFrameRate,W.attributes.end.value))&&ye(X,"Malformed end value (ignoring)"),{explicit_begin:Q,explicit_end:J,explicit_dur:q}}($,0,W,X);this.explicit_begin=Q.explicit_begin,this.explicit_end=Q.explicit_end,this.explicit_dur=Q.explicit_dur,this.timeContainer=function ue($,Z){var W=$&&"timeContainer"in $.attributes?$.attributes.timeContainer.value:null;return W&&"par"!==W?"seq"===W?"seq":(K(Z,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(W,X)},B.prototype.initFromNode=function($,Z,W,X){w.prototype.initFromNode.call(this,$,null,Z,X),S.prototype.initFromNode.call(this,$,null,Z,X),T.prototype.initFromNode.call(this,$,null,Z,X),C.prototype.initFromNode.call(this,$,null,Z,X),N.prototype.initFromNode.call(this,$,null,Z,X),this.lang=W},Y.prototype.initFromNode=function($,Z,W,X,Q){w.prototype.initFromNode.call(this,$,Z,W,Q),S.prototype.initFromNode.call(this,$,Z,W,Q),T.prototype.initFromNode.call(this,$,Z,W,Q),C.prototype.initFromNode.call(this,$,Z,W,Q),N.prototype.initFromNode.call(this,$,Z,W,Q),this.lang=X},re.prototype.initFromNode=function($,Z,W,X,Q){w.prototype.initFromNode.call(this,$,Z,W,Q),S.prototype.initFromNode.call(this,$,Z,W,Q),T.prototype.initFromNode.call(this,$,Z,W,Q),C.prototype.initFromNode.call(this,$,Z,W,Q),N.prototype.initFromNode.call(this,$,Z,W,Q),this.lang=X},ae.prototype.initFromNode=function($,Z,W,X,Q,q){w.prototype.initFromNode.call(this,$,Z,W,q),S.prototype.initFromNode.call(this,$,Z,W,q),T.prototype.initFromNode.call(this,$,Z,W,q),C.prototype.initFromNode.call(this,$,Z,W,q),N.prototype.initFromNode.call(this,$,Z,W,q),this.space=Q,this.lang=X},Re.prototype.initFromText=function($,Z,W,X,Q,q){S.prototype.initFromNode.call(this,$,Z,null,q),this.text=W,this.space=Q,this.lang=X},z.prototype.initFromNode=function($,Z,W,X,Q){C.prototype.initFromNode.call(this,$,Z,W,Q),S.prototype.initFromNode.call(this,$,Z,W,Q),this.lang=X},oe.prototype.createDefaultRegion=function($){var Z=new oe;return R.call(Z,""),w.call(Z,{}),T.call(Z,[]),S.call(Z,0,Number.POSITIVE_INFINITY,null),this.lang=$,Z},oe.prototype.initFromNode=function($,Z,W,X){R.prototype.initFromNode.call(this,$,null,Z,X),S.prototype.initFromNode.call(this,$,null,Z,X),T.prototype.initFromNode.call(this,$,null,Z,X),this.styleAttrs=Ie(Z,X),this.styleRefs=Se(Z),this.lang=W},H.prototype.initFromNode=function($,Z,W,X){S.prototype.initFromNode.call(this,$,Z,W,X);var Q=Ie(W,X);for(var q in this.qname=null,this.value=null,Q)if(Q.hasOwnProperty(q)){if(this.qname){K(X,"More than one style specified on set");break}this.qname=q,this.value=Q[q]}}}(x,typeof sax>"u"?c(
/*! sax */
"./node_modules/sax/lib/sax.js"):sax,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?c(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/html.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/html.js ***!
                  \***********************************************/
/*! no static exports found */function(qe,x,c){!function(t,E,O){function b(z,oe,H,me){var te;if("region"===H.kind)(te=document.createElement("div")).style.position="absolute";else if("body"===H.kind)te=document.createElement("div");else if("div"===H.kind)te=document.createElement("div");else if("image"===H.kind){if(te=document.createElement("img"),null!==z.imgResolver&&null!==H.src){var ue=z.imgResolver(H.src,te);ue&&(te.src=ue),te.height=z.regionH,te.width=z.regionW}}else if("p"===H.kind)te=document.createElement("p");else if("span"===H.kind)if("container"===H.styleAttrs[O.byName.ruby.qname])te=document.createElement("ruby"),z.ruby=!0;else if("base"===H.styleAttrs[O.byName.ruby.qname])te=document.createElement("rb");else if("text"===H.styleAttrs[O.byName.ruby.qname])te=document.createElement("rt");else if("baseContainer"===H.styleAttrs[O.byName.ruby.qname])te=document.createElement("rbc");else if("textContainer"===H.styleAttrs[O.byName.ruby.qname])te=document.createElement("rtc");else{if("delimiter"===H.styleAttrs[O.byName.ruby.qname])return;te=document.createElement("span")}else"br"===H.kind&&(te=document.createElement("br"));if(te){if(H.lang&&("region"===H.kind||H.lang!==me.lang)&&(te.lang=H.lang),oe.appendChild(te),te.style.margin="0","region"===H.kind){var Se=H.styleAttrs[O.byName.writingMode.qname];"lrtb"===Se||"lr"===Se?(z.ipd="lr",z.bpd="tb"):"rltb"===Se||"rl"===Se?(z.ipd="rl",z.bpd="tb"):"tblr"===Se?(z.ipd="tb",z.bpd="lr"):("tbrl"===Se||"tb"===Se)&&(z.ipd="tb",z.bpd="rl")}else"p"===H.kind&&"tb"===z.bpd&&(z.ipd="ltr"===H.styleAttrs[O.byName.direction.qname]?"lr":"rl");for(var le=0;le<T.length;le++){var Me=T[le],we=H.styleAttrs[Me.qname];void 0!==we&&null!==Me.map&&Me.map(z,te,H,we)}var _e=te,Le=H.styleAttrs[O.byName.linePadding.qname];if(Le&&!Le.isZero()){var Pe=Le.toUsedLength(z.w,z.h);if(Pe>0){var Oe=Math.ceil(Pe)+"px";"tb"===z.bpd?(_e.style.paddingLeft=Oe,_e.style.paddingRight=Oe):(_e.style.paddingTop=Oe,_e.style.paddingBottom=Oe),z.lp=Le}}var Ue=H.styleAttrs[O.byName.multiRowAlign.qname];if(Ue&&"auto"!==Ue){var ze=document.createElement("span");ze.style.display="inline-block",ze.style.textAlign=Ue,te.appendChild(ze),_e=ze,z.mra=Ue}var He=H.styleAttrs[O.byName.rubyReserve.qname];if(He&&"none"!==He[0]&&(z.rubyReserve=He),H.styleAttrs[O.byName.fillLineGap.qname]&&(z.flg=!0),"span"===H.kind&&H.text){var Ae=H.styleAttrs[O.byName.textEmphasis.qname];if(Ae&&"none"!==Ae.style&&(z.textEmphasis=!0),O.byName.textCombine.qname in H.styleAttrs&&"all"===H.styleAttrs[O.byName.textCombine.qname])te.textContent=H.text,Ae&&C(z,te,0,Ae);else for(var ye="",K=0;K<H.text.length;K++){ye+=H.text.charAt(K);var ie=H.text.charCodeAt(K);if(ie<55296||ie>56319||K===H.text.length-1){var he=document.createElement("span");he.textContent=ye,Ae&&C(z,he,0,Ae),te.appendChild(he),ye="",he._isd_element=H}}}if("contents"in H)for(var $=0;$<H.contents.length;$++)b(z,_e,H.contents[$],H);var Z=[];if("p"===H.kind&&(k(z,_e,Z,null),z.rubyReserve&&(function A(z,oe){for(var H=0;H<z.length;H++){var me=document.createElement("ruby"),te=document.createElement("rb");te.textContent="\u200b",me.appendChild(te);var ue,Se,Ie=oe.rubyReserve[1].toUsedLength(oe.w,oe.h)+"px";"both"===oe.rubyReserve[0]||"outside"===oe.rubyReserve[0]&&1==z.length?((ue=document.createElement("rtc")).style[Y]=B?"after":"under",ue.textContent="\u200b",ue.style.fontSize=Ie,(Se=document.createElement("rtc")).style[Y]=B?"before":"over",Se.textContent="\u200b",Se.style.fontSize=Ie,me.appendChild(ue),me.appendChild(Se)):((ue=document.createElement("rtc")).textContent="\u200b",ue.style.fontSize=Ie,ue.style[Y]="after"===oe.rubyReserve[0]||"outside"===oe.rubyReserve[0]&&H>0?B?"after":"tb"===oe.bpd||"rl"===oe.bpd?"under":"over":B?"before":"tb"===oe.bpd||"rl"===oe.bpd?"over":"under",me.appendChild(ue));for(var Me=null,we=0;we<z[H].rbc.length;we++)if("ruby"===z[H].rbc[we].localName){Me=z[H].rbc[we];for(var _e=0;_e<Me.style.length;_e++)me.style.setProperty(Me.style.item(_e),Me.style.getPropertyValue(Me.style.item(_e)));break}(Me=Me||z[H].elements[0].node).parentElement.insertBefore(me,Me)}}(Z,z),z.rubyReserve=null),(z.ruby||z.rubyReserve)&&(function v(z,oe){for(var H=0;H<z.length;H++)for(var me=0;me<z[H].rbc.length;me++)z[H].rbc[me].style[Y]||(z[H].rbc[me].style[Y]=B?0===H?"before":"after":"tb"===oe.bpd||"rl"===oe.bpd?0===H?"over":"under":0===H?"under":"over")}(Z,z),z.ruby=null),z.textEmphasis&&(function g(z,oe){for(var H=0;H<z.length;H++)for(var me=0;me<z[H].te.length;me++)z[H].te[me].style[ae]&&"none"!==z[H].te[me].style[ae]||(z[H].te[me].style[ae]="tb"===oe.bpd?0===H?"left over":"left under":"rl"===oe.bpd?0===H?"right under":"left under":0===H?"left under":"right under")}(Z,z),z.textEmphasis=null),z.mra&&(function h(z){for(var oe=0;oe<z.length-1;oe++){var H=z[oe].elements.length;if(0!==H&&!1===z[oe].br){var me=document.createElement("br"),te=z[oe].elements[H-1].node;te.parentElement.insertBefore(me,te.nextSibling)}}}(Z),z.mra=null),z.lp&&(function m(z,oe,H){if(null!==z)for(var me=0;me<z.length;me++){var te=z[me].elements.length,ue=Math.ceil(oe)+"px",Se="-"+Math.ceil(oe)+"px";if(0!==te){var Ie=z[me].elements[z[me].start_elem],le=z[me].elements[z[me].end_elem];if(Ie===le&&(elementBoundingRect=Ie.node.getBoundingClientRect(),0==elementBoundingRect.width||0==elementBoundingRect.height))continue;"lr"===H.ipd?(Ie.node.style.marginLeft=Se,Ie.node.style.paddingLeft=ue):"rl"===H.ipd?(Ie.node.style.paddingRight=ue,Ie.node.style.marginRight=Se):"tb"===H.ipd&&(Ie.node.style.paddingTop=ue,Ie.node.style.marginTop=Se),"lr"===H.ipd?(le.node.style.marginRight=Se,le.node.style.paddingRight=ue):"rl"===H.ipd?(le.node.style.paddingLeft=ue,le.node.style.marginLeft=Se):"tb"===H.ipd&&(le.node.style.paddingBottom=ue,le.node.style.marginBottom=Se)}}}(Z,z.lp.toUsedLength(z.w,z.h),z),z.lp=null),function F(z){for(var oe=0;oe<z.length;oe++)for(var H=z[oe],me=1;me<H.elements.length;)D(H.elements[me-1].node,H.elements[me].node)?H.elements.splice(me,1):me++;for(var Se,Ie,le=[],Me=0;Me<z.length;Me++)for(var we=0;we<z[Me].elements.length;we++)(Ie=L(Se=z[Me].elements[we].node,le,!1))&&(Se.style.backgroundColor=Ie);for(var _e=0;_e<le.length;_e++)le[_e].style.backgroundColor=""}(Z),z.flg)){var W=V(_e.getBoundingClientRect(),z);(function U(z,oe,H,me,te){for(var ue=Math.sign(H-oe),Se=0;Se<=z.length;Se++){var Ie,le,Me,we;if(Ie=0===Se?Math.round(oe):Se===z.length?Math.round(H):Math.round((z[Se-1].after+z[Se].before)/2),Se>0&&z[Se-1])for(Me=0;Me<z[Se-1].elements.length;Me++)le=ue*(Ie-(we=z[Se-1].elements[Me]).after)+"px","lr"===me.bpd?we.node.style.paddingRight=le:"rl"===me.bpd?we.node.style.paddingLeft=le:"tb"===me.bpd&&(we.node.style.paddingBottom=le);if(Se<z.length)for(Me=0;Me<z[Se].elements.length;Me++)le=ue*((we=z[Se].elements[Me]).before-Ie)+"px","lr"===me.bpd?we.node.style.paddingLeft=le:"rl"===me.bpd?we.node.style.paddingRight=le:"tb"===me.bpd&&(we.node.style.paddingTop=le)}})(Z,W.before,W.after,z),z.flg=null}if("region"===H.kind&&"tb"===z.bpd&&z.enableRollUp&&H.contents.length>0&&"after"===H.styleAttrs[O.byName.displayAlign.qname]){k(z,_e,Z,null);var Q=new P(""===H.id?"_":H.id,Z);if(z.currentISDState[Q.id]=Q,z.previousISDState&&Q.id in z.previousISDState&&z.previousISDState[Q.id].plist.length>0&&Q.plist.length>1&&Q.plist[Q.plist.length-2].text===z.previousISDState[Q.id].plist[z.previousISDState[Q.id].plist.length-1].text){var q=te.firstElementChild,J=Q.plist[Q.plist.length-1].after-Q.plist[Q.plist.length-1].before;q.style.bottom="-"+J+"px",q.style.transition="transform 0.4s",q.style.position="relative",q.style.transform="translateY(-"+J+"px)"}}}else!function Re(z,oe){if(z&&z.error&&z.error(oe))throw oe}(z.errorHandler,"Error processing ISD element kind: "+H.kind)}function L(z,oe,H){return z.style.backgroundColor?(H&&!oe.includes(z)&&oe.push(z),z.style.backgroundColor):"SPAN"===z.parentElement.nodeName?L(z.parentElement,oe,!0):void 0}function D(z,oe){if("SPAN"===z.tagName&&"SPAN"===oe.tagName&&z._isd_element===oe._isd_element){z.textContent+=oe.textContent;for(var H=0;H<oe.style.length;H++){var me=oe.style[H];(me.indexOf("border")>=0||me.indexOf("padding")>=0||me.indexOf("margin")>=0)&&(z.style[me]=oe.style[me])}return oe.parentElement.removeChild(oe),!0}return!1}function P(z,oe){this.id=z,this.plist=oe}function V(z,oe){var H={before:null,after:null,start:null,end:null};return"tb"===oe.bpd?(H.before=z.top,H.after=z.bottom,"lr"===oe.ipd?(H.start=z.left,H.end=z.right):(H.start=z.right,H.end=z.left)):"lr"===oe.bpd?(H.before=z.left,H.after=z.right,H.start=z.top,H.end=z.bottom):"rl"===oe.bpd&&(H.before=z.right,H.after=z.left,H.start=z.top,H.end=z.bottom),H}function k(z,oe,H,me){if("rt"!==oe.localName&&"rtc"!==oe.localName){var te=oe.style.backgroundColor||me;if(0===oe.childElementCount)if("span"===oe.localName||"rb"===oe.localName){var Se=V(oe.getBoundingClientRect(),z);if(0!==H.length&&function R(z,oe,H,me){return oe<me&&z>H||me<=oe&&H>=z}(Se.before,Se.after,H[H.length-1].before,H[H.length-1].after)){var Ie=Math.sign(Se.after-Se.before),le=Math.sign(Se.end-Se.start);Ie*(Se.before-H[H.length-1].before)<0&&(H[H.length-1].before=Se.before),Ie*(Se.after-H[H.length-1].after)>0&&(H[H.length-1].after=Se.after),le*(Se.start-H[H.length-1].start)<0&&(H[H.length-1].start=Se.start,H[H.length-1].start_elem=H[H.length-1].elements.length),le*(Se.end-H[H.length-1].end)>0&&(H[H.length-1].end=Se.end,H[H.length-1].end_elem=H[H.length-1].elements.length)}else H.push({before:Se.before,after:Se.after,start:Se.start,end:Se.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});H[H.length-1].text+=oe.textContent,H[H.length-1].elements.push({node:oe,bgcolor:te,before:Se.before,after:Se.after})}else"br"===oe.localName&&0!==H.length&&(H[H.length-1].br=!0);else for(var Me=oe.firstChild;Me;)Me.nodeType===Node.ELEMENT_NODE&&(k(z,Me,H,te),"ruby"===Me.localName||"rtc"===Me.localName?H.length>0&&H[H.length-1].rbc.push(Me):"span"===Me.localName&&Me.style[re]&&"none"!==Me.style[re]&&H.length>0&&H[H.length-1].te.push(Me)),Me=Me.nextSibling}}function C(z,oe,H,me){"none"!==me.style&&(oe.style[re]="auto"===me.style?"filled":me.style+" "+me.symbol,"before"===me.position||"after"===me.position)&&(oe.style[ae]="tb"===z.bpd?"before"===me.position?"left over":"left under":"rl"===z.bpd?"before"===me.position?"right under":"left under":"before"===me.position?"left under":"right under")}function w(z,oe){this.qname=z,this.map=oe}t.render=function(z,oe,H,me,te,ue,Se,Ie,le){var Me=me||oe.clientHeight,we=te||oe.clientWidth;if(null!==z.aspectRatio){var _e=Me*z.aspectRatio;_e>we?Me=Math.round(we/z.aspectRatio):we=_e}var Le=document.createElement("div");Le.style.position="relative",Le.style.width=we+"px",Le.style.height=Me+"px",Le.style.margin="auto",Le.style.top=0,Le.style.bottom=0,Le.style.left=0,Le.style.right=0,Le.style.zIndex=0;var Pe={h:Me,w:we,regionH:null,regionW:null,imgResolver:H,displayForcedOnlyMode:ue||!1,isd:z,errorHandler:Se,previousISDState:Ie,enableRollUp:le||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(oe.appendChild(Le),"contents"in z)for(var Oe=0;Oe<z.contents.length;Oe++)b(Pe,Le,z.contents[Oe],z);return Pe.currentISDState};for(var T=[new w("http://www.w3.org/ns/ttml#styling backgroundColor",function(z,oe,H,me){0!==me[3]&&(oe.style.backgroundColor="rgba("+me[0].toString()+","+me[1].toString()+","+me[2].toString()+","+(me[3]/255).toString()+")")}),new w("http://www.w3.org/ns/ttml#styling color",function(z,oe,H,me){oe.style.color="rgba("+me[0].toString()+","+me[1].toString()+","+me[2].toString()+","+(me[3]/255).toString()+")"}),new w("http://www.w3.org/ns/ttml#styling direction",function(z,oe,H,me){oe.style.direction=me}),new w("http://www.w3.org/ns/ttml#styling display",function(z,oe,H,me){}),new w("http://www.w3.org/ns/ttml#styling displayAlign",function(z,oe,H,me){oe.style.display="flex",oe.style.flexDirection="column","before"===me?oe.style.justifyContent="flex-start":"center"===me?oe.style.justifyContent="center":"after"===me&&(oe.style.justifyContent="flex-end")}),new w("http://www.w3.org/ns/ttml#styling extent",function(z,oe,H,me){z.regionH=me.h.toUsedLength(z.w,z.h),z.regionW=me.w.toUsedLength(z.w,z.h);var te=0,ue=0,Se=H.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];Se&&(te=Se[0].toUsedLength(z.w,z.h)+Se[2].toUsedLength(z.w,z.h),ue=Se[1].toUsedLength(z.w,z.h)+Se[3].toUsedLength(z.w,z.h)),oe.style.height=z.regionH-te+"px",oe.style.width=z.regionW-ue+"px"}),new w("http://www.w3.org/ns/ttml#styling fontFamily",function(z,oe,H,me){for(var te=[],ue=0;ue<me.length;ue++)"monospaceSerif"===me[ue]?(te.push("Courier New"),te.push('"Liberation Mono"'),te.push("Courier"),te.push("monospace")):"proportionalSansSerif"===me[ue]?(te.push("Arial"),te.push("Helvetica"),te.push('"Liberation Sans"'),te.push("sans-serif")):"monospace"===me[ue]?te.push("monospace"):"sansSerif"===me[ue]?te.push("sans-serif"):"serif"===me[ue]?te.push("serif"):"monospaceSansSerif"===me[ue]?(te.push("Consolas"),te.push("monospace")):te.push("proportionalSerif"===me[ue]?"serif":me[ue]);if(te.length>0){for(var Se=[te[0]],Ie=1;Ie<te.length;Ie++)-1==Se.indexOf(te[Ie])&&Se.push(te[Ie]);te=Se}oe.style.fontFamily=te.join(",")}),new w("http://www.w3.org/ns/ttml#styling shear",function(z,oe,H,me){if(0!==me){var te=-.9*me;oe.style.transform="tb"===z.bpd?"skewX("+te+"deg)":"skewY("+te+"deg)"}}),new w("http://www.w3.org/ns/ttml#styling fontSize",function(z,oe,H,me){oe.style.fontSize=me.toUsedLength(z.w,z.h)+"px"}),new w("http://www.w3.org/ns/ttml#styling fontStyle",function(z,oe,H,me){oe.style.fontStyle=me}),new w("http://www.w3.org/ns/ttml#styling fontWeight",function(z,oe,H,me){oe.style.fontWeight=me}),new w("http://www.w3.org/ns/ttml#styling lineHeight",function(z,oe,H,me){oe.style.lineHeight="normal"===me?"normal":me.toUsedLength(z.w,z.h)+"px"}),new w("http://www.w3.org/ns/ttml#styling opacity",function(z,oe,H,me){oe.style.opacity=me}),new w("http://www.w3.org/ns/ttml#styling origin",function(z,oe,H,me){oe.style.top=me.h.toUsedLength(z.w,z.h)+"px",oe.style.left=me.w.toUsedLength(z.w,z.h)+"px"}),new w("http://www.w3.org/ns/ttml#styling overflow",function(z,oe,H,me){oe.style.overflow=me}),new w("http://www.w3.org/ns/ttml#styling padding",function(z,oe,H,me){var te=[];te[0]=me[0].toUsedLength(z.w,z.h)+"px",te[1]=me[3].toUsedLength(z.w,z.h)+"px",te[2]=me[2].toUsedLength(z.w,z.h)+"px",te[3]=me[1].toUsedLength(z.w,z.h)+"px",oe.style.padding=te.join(" ")}),new w("http://www.w3.org/ns/ttml#styling position",function(z,oe,H,me){oe.style.top=me.h.toUsedLength(z.w,z.h)+"px",oe.style.left=me.w.toUsedLength(z.w,z.h)+"px"}),new w("http://www.w3.org/ns/ttml#styling rubyAlign",function(z,oe,H,me){oe.style.rubyAlign="spaceAround"===me?"space-around":"center"}),new w("http://www.w3.org/ns/ttml#styling rubyPosition",function(z,oe,H,me){"before"!==me&&"after"!==me||(oe.parentElement.style[Y]=B?me:"tb"===z.bpd||"rl"===z.bpd?"before"===me?"over":"under":"before"===me?"under":"over")}),new w("http://www.w3.org/ns/ttml#styling showBackground",null),new w("http://www.w3.org/ns/ttml#styling textAlign",function(z,oe,H,me){oe.style.textAlign="start"===me?"rl"===z.ipd?"right":"left":"end"===me?"rl"===z.ipd?"left":"right":me}),new w("http://www.w3.org/ns/ttml#styling textDecoration",function(z,oe,H,me){oe.style.textDecoration=me.join(" ").replace("lineThrough","line-through")}),new w("http://www.w3.org/ns/ttml#styling textOutline",function(z,oe,H,me){}),new w("http://www.w3.org/ns/ttml#styling textShadow",function(z,oe,H,me){var te=H.styleAttrs[O.byName.textOutline.qname];if("none"===me&&"none"===te)oe.style.textShadow="";else{var ue=[];if("none"!==te){var Se="rgba("+te.color[0].toString()+","+te.color[1].toString()+","+te.color[2].toString()+","+(te.color[3]/255).toString()+")";ue.push("1px 1px 1px "+Se),ue.push("-1px 1px 1px "+Se),ue.push("1px -1px 1px "+Se),ue.push("-1px -1px 1px "+Se)}if("none"!==me)for(var Ie=0;Ie<me.length;Ie++)ue.push(me[Ie].x_off.toUsedLength(z.w,z.h)+"px "+me[Ie].y_off.toUsedLength(z.w,z.h)+"px "+me[Ie].b_radius.toUsedLength(z.w,z.h)+"px rgba("+me[Ie].color[0].toString()+","+me[Ie].color[1].toString()+","+me[Ie].color[2].toString()+","+(me[Ie].color[3]/255).toString()+")");oe.style.textShadow=ue.join(",")}}),new w("http://www.w3.org/ns/ttml#styling textCombine",function(z,oe,H,me){oe.style.textCombineUpright=me}),new w("http://www.w3.org/ns/ttml#styling textEmphasis",function(z,oe,H,me){}),new w("http://www.w3.org/ns/ttml#styling unicodeBidi",function(z,oe,H,me){oe.style.unicodeBidi="bidiOverride"===me?"bidi-override":me}),new w("http://www.w3.org/ns/ttml#styling visibility",function(z,oe,H,me){oe.style.visibility=me}),new w("http://www.w3.org/ns/ttml#styling wrapOption",function(z,oe,H,me){oe.style.whiteSpace="wrap"===me?"preserve"===H.space?"pre-wrap":"normal":"preserve"===H.space?"pre":"noWrap"}),new w("http://www.w3.org/ns/ttml#styling writingMode",function(z,oe,H,me){"lrtb"===me||"lr"===me||"rltb"===me||"rl"===me?oe.style.writingMode="horizontal-tb":"tblr"===me?oe.style.writingMode="vertical-lr":("tbrl"===me||"tb"===me)&&(oe.style.writingMode="vertical-rl")}),new w("http://www.w3.org/ns/ttml#styling zIndex",function(z,oe,H,me){oe.style.zIndex=me}),new w("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(z,oe,H,me){z.displayForcedOnlyMode&&!1===me&&(oe.style.visibility="hidden")})],N={},S=0;S<T.length;S++)N[T[S].qname]=T[S];var B="webkitRubyPosition"in window.getComputedStyle(document.documentElement),Y=B?"webkitRubyPosition":"rubyPosition",re="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",ae="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"}(x,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?c(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/isd.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/isd.js ***!
                  \**********************************************/
/*! no static exports found */function(qe,x,c){!function(t,E,O,b){t.generateISD=function(k,R,C){var N,w=new g(k),T={},S={},B=k.head.styling.initials[O.byName.showBackground.qname],Y=k.head.styling.initials[O.byName.backgroundColor.qname];for(var re in k.head.layout.regions)if(k.head.layout.regions.hasOwnProperty(re)){var ae=k.head.layout.regions[re],Re=ae.styleAttrs[O.byName.showBackground.qname]||B;S[ae.id]=("always"===Re||void 0===Re)&&void 0!==(ae.styleAttrs[O.byName.backgroundColor.qname]||Y)&&!(R<ae.begin||R>=ae.end)}for(var H in k.body&&k.body.regionID&&(S[k.body.regionID]=!0),N=null!==k.body?function oe(te,ue){if(ue.contents){var Ie={};for(var le in ue)ue.hasOwnProperty(le)&&(Ie[le]=ue[le]);return Ie.contents=[],ue.contents.filter(function Se(Me){return!(te<Me.begin||te>=Me.end)}).forEach(function(Me){var we=oe(te,Me);we.regionID&&(S[we.regionID]=!0),null!==we&&Ie.contents.push(we)}),Ie}return ue}(R,k.body):null,void 0!==S[""]&&(S[""]=!0),S)if(S[H]){var me=L(k,R,k.head.layout.regions[H],N,null,"",k.head.layout.regions[H],C,T);null!==me&&w.contents.push(me.element)}return w};var F=[O.byName.color.qname,O.byName.textCombine.qname,O.byName.textDecoration.qname,O.byName.textEmphasis.qname,O.byName.textOutline.qname,O.byName.textShadow.qname];function L(k,R,C,w,T,N,S,B,Y){if(R<S.begin||R>=S.end)return null;var re="regionID"in S&&""!==S.regionID?S.regionID:N;if(null!==T&&re!==C.id&&(!("contents"in S)||"contents"in S&&0===S.contents.length||""!==re))return null;var ae=new v(S);if("sets"in S)for(var Re=0;Re<S.sets.length;Re++)R<S.sets[Re].begin||R>=S.sets[Re].end||(ae.styleAttrs[S.sets[Re].qname]=S.sets[Re].value);var z={};for(var oe in ae.styleAttrs)if(ae.styleAttrs.hasOwnProperty(oe)&&(z[oe]=!0,"region"===ae.kind&&oe===O.byName.writingMode.qname&&!(O.byName.direction.qname in ae.styleAttrs))){var H=ae.styleAttrs[oe];"lrtb"===H||"lr"===H?ae.styleAttrs[O.byName.direction.qname]="ltr":("rltb"===H||"rl"===H)&&(ae.styleAttrs[O.byName.direction.qname]="rtl")}if(null!==T)for(var me=0;me<O.all.length;me++){var te=O.all[me];if(te.qname===O.byName.textDecoration.qname){var ue=T.styleAttrs[te.qname],Se=ae.styleAttrs[te.qname],Ie=[];void 0===Se?Ie=ue:-1===Se.indexOf("none")?((-1===Se.indexOf("noUnderline")&&-1!==ue.indexOf("underline")||-1!==Se.indexOf("underline"))&&Ie.push("underline"),(-1===Se.indexOf("noLineThrough")&&-1!==ue.indexOf("lineThrough")||-1!==Se.indexOf("lineThrough"))&&Ie.push("lineThrough"),(-1===Se.indexOf("noOverline")&&-1!==ue.indexOf("overline")||-1!==Se.indexOf("overline"))&&Ie.push("overline")):Ie.push("none"),ae.styleAttrs[te.qname]=Ie}else if(te.qname!==O.byName.fontSize.qname||te.qname in ae.styleAttrs||"span"!==ae.kind||"textContainer"!==ae.styleAttrs[O.byName.ruby.qname])if(te.qname!==O.byName.fontSize.qname||te.qname in ae.styleAttrs||"span"!==ae.kind||"text"!==ae.styleAttrs[O.byName.ruby.qname])te.inherit&&te.qname in T.styleAttrs&&!(te.qname in ae.styleAttrs)&&(ae.styleAttrs[te.qname]=T.styleAttrs[te.qname]);else{var Me=T.styleAttrs[O.byName.fontSize.qname];ae.styleAttrs[te.qname]="textContainer"===T.styleAttrs[O.byName.ruby.qname]?Me:new b.ComputedLength(.5*Me.rw,.5*Me.rh)}else{var le=T.styleAttrs[O.byName.fontSize.qname];ae.styleAttrs[te.qname]=new b.ComputedLength(.5*le.rw,.5*le.rh)}}for(var we=0;we<O.all.length;we++){var _e=O.all[we];if(!(_e.qname in ae.styleAttrs||_e.qname===O.byName.position.qname&&O.byName.origin.qname in ae.styleAttrs||_e.qname===O.byName.origin.qname&&O.byName.position.qname in ae.styleAttrs)){var Le=k.head.styling.initials[_e.qname]||_e.initial;if(null!==Le&&("region"===ae.kind||!1===_e.inherit&&null!==Le)){var Pe=_e.parse(Le);null!==Pe?(ae.styleAttrs[_e.qname]=Pe,z[_e.qname]=!0):P(B,"Invalid initial value for '"+_e.qname+"' on element '"+ae.kind)}}}for(var Oe=0;Oe<O.all.length;Oe++){var Ue=O.all[Oe];if(Ue.qname in z&&null!==Ue.compute){var ze=Ue.compute(k,T,ae,ae.styleAttrs[Ue.qname],Y);null!==ze?ae.styleAttrs[Ue.qname]=ze:(ae.styleAttrs[Ue.qname]=Ue.compute(k,T,ae,Ue.parse(Ue.initial),Y),P(B,"Style '"+Ue.qname+"' on element '"+ae.kind+"' cannot be computed"))}}if("none"===ae.styleAttrs[O.byName.display.qname])return null;var He=null;null===T?He=null===w?[]:[w]:"contents"in S&&(He=S.contents);for(var Ae=0;null!==He&&Ae<He.length;Ae++){var ye=L(k,R,C,w,ae,re,He[Ae],B,Y);null!==ye&&ae.contents.push(ye.element)}for(var K in ae.styleAttrs)if(ae.styleAttrs.hasOwnProperty(K)){var ie=!1;if("span"===ae.kind){var he=ae.styleAttrs[O.byName.ruby.qname];(ie=("container"===he||"textContainer"===he||"baseContainer"===he)&&-1!==F.indexOf(K))||(ie="container"!==he&&K===O.byName.rubyAlign.qname),ie||(ie=!("textContainer"===he||"text"===he)&&K===O.byName.rubyPosition.qname)}if(!ie){var $=O.byQName[K];"applies"in $&&(ie=-1===$.applies.indexOf(ae.kind))}ie&&delete ae.styleAttrs[K]}var Z=ae.styleAttrs[O.byName.ruby.qname];if("p"===ae.kind||"span"===ae.kind&&("textContainer"===Z||"text"===Z)){var W=[];m(ae,W),function D(k){function R(S){return"br"===S.kind||/[\r\n\t ]$/.test(S.text)}function C(S){return"br"===S.kind||"preserve"===S.space&&/^[\r\n]/.test(S.text)}for(var w,T=0;T<k.length;)if("br"!==(w=k[T]).kind&&"preserve"!==w.space){var N=w.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(N)&&(0===T||R(k[T-1]))&&(N=N.substring(1)),w.text=N,0===N.length?k.splice(T,1):T++}else T++;for(T=0;T<k.length;T++)"br"!==(w=k[T]).kind&&"preserve"!==w.space?/[ ]$/.test(w.text)&&(T===k.length-1||C(k[T+1]))&&(w.text=w.text.slice(0,-1)):T++}(W),h(ae)}return"div"===ae.kind&&O.byName.backgroundImage.qname in ae.styleAttrs||"br"===ae.kind||"image"===ae.kind||"contents"in ae&&ae.contents.length>0||"span"===ae.kind&&null!==ae.text||"region"===ae.kind&&"always"===ae.styleAttrs[O.byName.showBackground.qname]?{region_id:re,element:ae}:null}function m(k,R){if("contents"in k)for(var C=0;C<k.contents.length;C++){var w=k.contents[C],T=w.styleAttrs[O.byName.ruby.qname];"span"===w.kind&&("textContainer"===T||"text"===T)||("contents"in w?m(w,R):("span"===w.kind&&0!==w.text.length||"br"===w.kind)&&R.push(w))}}function h(k){if("br"===k.kind)return!1;if("text"in k)return 0===k.text.length;if("contents"in k){for(var R=k.contents.length;R--;)h(k.contents[R])&&k.contents.splice(R,1);return 0===k.contents.length}}function g(k){this.contents=[],this.aspectRatio=k.aspectRatio,this.lang=k.lang}function v(k){for(var R in this.kind=k.kind||"region",this.lang=k.lang,k.id&&(this.id=k.id),this.styleAttrs={},k.styleAttrs)k.styleAttrs.hasOwnProperty(R)&&(this.styleAttrs[R]=k.styleAttrs[R]);"src"in k&&(this.src=k.src),"type"in k&&(this.type=k.type),"text"in k?this.text=k.text:("region"===this.kind||"contents"in k)&&(this.contents=[]),"space"in k&&(this.space=k.space)}function P(k,R){if(k&&k.error&&k.error(R))throw R}}(x,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?c(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/main.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/main.js ***!
                  \***********************************************/
/*! no static exports found */function(qe,x,c){x.generateISD=c(
/*! ./isd */
"./node_modules/imsc/src/main/js/isd.js").generateISD,x.fromXML=c(
/*! ./doc */
"./node_modules/imsc/src/main/js/doc.js").fromXML,x.renderHTML=c(
/*! ./html */
"./node_modules/imsc/src/main/js/html.js").render},"./node_modules/imsc/src/main/js/names.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/names.js ***!
                  \************************************************/
/*! no static exports found */function(qe,x,c){var t;(t=x).ns_tt="http://www.w3.org/ns/ttml",t.ns_tts="http://www.w3.org/ns/ttml#styling",t.ns_ttp="http://www.w3.org/ns/ttml#parameter",t.ns_xml="http://www.w3.org/XML/1998/namespace",t.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",t.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",t.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",t.ns_ebutts="urn:ebu:tt:style"},"./node_modules/imsc/src/main/js/styles.js":
/*!*************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/styles.js ***!
                  \*************************************************/
/*! no static exports found */function(qe,x,c){!function(t,E,O){function b(D,m,h,g,v,A,U,P){this.name=m,this.ns=D,this.qname=D+" "+m,this.inherit=v,this.animatable=A,this.initial=h,this.applies=g,this.parse=U,this.compute=P}for(var F in t.all=[new b(E.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,O.parseColor,null),new b(E.ns_tts,"color","white",["span"],!0,!0,O.parseColor,null),new b(E.ns_tts,"direction","ltr",["p","span"],!0,!0,function(D){return D},null),new b(E.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(D){return D},null),new b(E.ns_tts,"displayAlign","before",["region"],!1,!0,function(D){return D},null),new b(E.ns_tts,"extent","auto",["tt","region"],!1,!0,function(D){if("auto"===D)return D;var m=D.split(" ");if(2!==m.length)return null;var h=O.parseLength(m[0]),g=O.parseLength(m[1]);return g&&h?{h:g,w:h}:null},function(D,m,h,g,v){var A,U;if("auto"===g)A=new O.ComputedLength(0,1);else if(null===(A=O.toComputedLength(g.h.value,g.h.unit,null,D.dimensions.h,null,D.pxLength.h)))return null;if("auto"===g)U=new O.ComputedLength(1,0);else if(null===(U=O.toComputedLength(g.w.value,g.w.unit,null,D.dimensions.w,null,D.pxLength.w)))return null;return{h:A,w:U}}),new b(E.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(D){for(var m=D.split(","),h=[],g=0;g<m.length;g++)"'"!==m[g].charAt(0)&&'"'!==m[g].charAt(0)&&"default"===m[g]?h.push("monospaceSerif"):h.push(m[g]);return h},null),new b(E.ns_tts,"shear","0%",["p"],!0,!0,O.parseLength,function(D,m,h,g){return"%"!==g.unit?null:Math.abs(g.value)>100?100*Math.sign(g.value):g.value}),new b(E.ns_tts,"fontSize","1c",["span","p"],!0,!0,O.parseLength,function(D,m,h,g,v){return O.toComputedLength(g.value,g.unit,null!==m?m.styleAttrs[t.byName.fontSize.qname]:D.cellLength.h,null!==m?m.styleAttrs[t.byName.fontSize.qname]:D.cellLength.h,D.cellLength.h,D.pxLength.h)}),new b(E.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(D){return D},null),new b(E.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(D){return D},null),new b(E.ns_tts,"lineHeight","normal",["p"],!0,!0,function(D){return"normal"===D?D:O.parseLength(D)},function(D,m,h,g,v){var A;if("normal"===g)A=g;else if(null===(A=O.toComputedLength(g.value,g.unit,h.styleAttrs[t.byName.fontSize.qname],h.styleAttrs[t.byName.fontSize.qname],D.cellLength.h,D.pxLength.h)))return null;return A}),new b(E.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new b(E.ns_tts,"origin","auto",["region"],!1,!0,function(D){if("auto"===D)return D;var m=D.split(" ");if(2!==m.length)return null;var h=O.parseLength(m[0]),g=O.parseLength(m[1]);return g&&h?{h:g,w:h}:null},function(D,m,h,g,v){var A,U;if("auto"===g)A=new O.ComputedLength(0,0);else if(null===(A=O.toComputedLength(g.h.value,g.h.unit,null,D.dimensions.h,null,D.pxLength.h)))return null;if("auto"===g)U=new O.ComputedLength(0,0);else if(null===(U=O.toComputedLength(g.w.value,g.w.unit,null,D.dimensions.w,null,D.pxLength.w)))return null;return{h:A,w:U}}),new b(E.ns_tts,"overflow","hidden",["region"],!1,!0,function(D){return D},null),new b(E.ns_tts,"padding","0px",["region"],!1,!0,function(D){var m=D.split(" ");if(m.length>4)return null;for(var h=[],g=0;g<m.length;g++){var v=O.parseLength(m[g]);if(!v)return null;h.push(v)}return h},function(D,m,h,g,v){var A;if(1===g.length)A=[g[0],g[0],g[0],g[0]];else if(2===g.length)A=[g[0],g[1],g[0],g[1]];else if(3===g.length)A=[g[0],g[1],g[2],g[1]];else{if(4!==g.length)return null;A=[g[0],g[1],g[2],g[3]]}var U=h.styleAttrs[t.byName.writingMode.qname];if("lrtb"===U||"lr"===U)A=[A[0],A[3],A[2],A[1]];else if("rltb"===U||"rl"===U)A=[A[0],A[1],A[2],A[3]];else if("tblr"===U)A=[A[3],A[0],A[1],A[2]];else{if("tbrl"!==U&&"tb"!==U)return null;A=[A[3],A[2],A[1],A[0]]}for(var P=[],V=0;V<A.length;V++)if(0===A[V].value)P[V]=new O.ComputedLength(0,0);else if(P[V]=O.toComputedLength(A[V].value,A[V].unit,h.styleAttrs[t.byName.fontSize.qname],0===V||2===V?h.styleAttrs[t.byName.extent.qname].h:h.styleAttrs[t.byName.extent.qname].w,0===V||2===V?D.cellLength.h:D.cellLength.w,0===V||2===V?D.pxLength.h:D.pxLength.w),null===P[V])return null;return P}),new b(E.ns_tts,"position","top left",["region"],!1,!0,function(D){return O.parsePosition(D)},function(D,m,h,g){var v,A;return null===(v=O.toComputedLength(g.v.offset.value,g.v.offset.unit,null,new O.ComputedLength(-h.styleAttrs[t.byName.extent.qname].h.rw,D.dimensions.h.rh-h.styleAttrs[t.byName.extent.qname].h.rh),null,D.pxLength.h))||("bottom"===g.v.edge&&(v=new O.ComputedLength(-v.rw-h.styleAttrs[t.byName.extent.qname].h.rw,D.dimensions.h.rh-v.rh-h.styleAttrs[t.byName.extent.qname].h.rh)),A=O.toComputedLength(g.h.offset.value,g.h.offset.unit,null,new O.ComputedLength(D.dimensions.w.rw-h.styleAttrs[t.byName.extent.qname].w.rw,-h.styleAttrs[t.byName.extent.qname].w.rh),null,D.pxLength.w),null===v)?null:("right"===g.h.edge&&(A=new O.ComputedLength(D.dimensions.w.rw-A.rw-h.styleAttrs[t.byName.extent.qname].w.rw,-A.rh-h.styleAttrs[t.byName.extent.qname].w.rh)),{h:v,w:A})}),new b(E.ns_tts,"ruby","none",["span"],!1,!0,function(D){return D},null),new b(E.ns_tts,"rubyAlign","center",["span"],!0,!0,function(D){return"center"===D||"spaceAround"===D?D:null},null),new b(E.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(D){return D},null),new b(E.ns_tts,"rubyReserve","none",["p"],!0,!0,function(D){var m=D.split(" "),h=[null,null];if(0===m.length||m.length>2)return null;if("none"!==m[0]&&"both"!==m[0]&&"after"!==m[0]&&"before"!==m[0]&&"outside"!==m[0])return null;if(h[0]=m[0],2===m.length&&"none"!==m[0]){var g=O.parseLength(m[1]);if(!g)return null;h[1]=g}return h},function(D,m,h,g,v){if("none"===g[0])return g;var A;return null===(A=null===g[1]?new O.ComputedLength(.5*h.styleAttrs[t.byName.fontSize.qname].rw,.5*h.styleAttrs[t.byName.fontSize.qname].rh):O.toComputedLength(g[1].value,g[1].unit,h.styleAttrs[t.byName.fontSize.qname],h.styleAttrs[t.byName.fontSize.qname],D.cellLength.h,D.pxLength.h))?null:[g[0],A]}),new b(E.ns_tts,"showBackground","always",["region"],!1,!0,function(D){return D},null),new b(E.ns_tts,"textAlign","start",["p"],!0,!0,function(D){return D},function(D,m,h,g,v){return"left"===g?"start":"right"===g?"end":g}),new b(E.ns_tts,"textCombine","none",["span"],!0,!0,function(D){return"none"===D||"all"===D?D:null},null),new b(E.ns_tts,"textDecoration","none",["span"],!0,!0,function(D){return D.split(" ")},null),new b(E.ns_tts,"textEmphasis","none",["span"],!0,!0,function(D){for(var m=D.split(" "),h={style:null,symbol:null,color:null,position:null},g=0;g<m.length;g++)if("none"===m[g]||"auto"===m[g])h.style=m[g];else if("filled"===m[g]||"open"===m[g])h.style=m[g];else if("circle"===m[g]||"dot"===m[g]||"sesame"===m[g])h.symbol=m[g];else if("current"===m[g])h.color=m[g];else if("outside"===m[g]||"before"===m[g]||"after"===m[g])h.position=m[g];else if(h.color=O.parseColor(m[g]),null===h.color)return null;return null==h.style&&null==h.symbol?h.style="auto":(h.symbol=h.symbol||"circle",h.style=h.style||"filled"),h.position=h.position||"outside",h.color=h.color||"current",h},null),new b(E.ns_tts,"textOutline","none",["span"],!0,!0,function(D){if("none"===D)return D;var m={},h=D.split(" ");if(0===h.length||h.length>2)return null;var g=O.parseColor(h[0]);if(m.color=g,null!==g&&h.shift(),1!==h.length)return null;var v=O.parseLength(h[0]);return v?(m.thickness=v,m):null},function(D,m,h,g,v){if("none"===g)return g;var A={};return A.color=null===g.color?h.styleAttrs[t.byName.color.qname]:g.color,A.thickness=O.toComputedLength(g.thickness.value,g.thickness.unit,h.styleAttrs[t.byName.fontSize.qname],h.styleAttrs[t.byName.fontSize.qname],D.cellLength.h,D.pxLength.h),null===A.thickness?null:A}),new b(E.ns_tts,"textShadow","none",["span"],!0,!0,O.parseTextShadow,function(D,m,h,g){if("none"===g)return g;for(var v=[],A=0;A<g.length;A++){var U={};if(U.x_off=O.toComputedLength(g[A][0].value,g[A][0].unit,null,h.styleAttrs[t.byName.fontSize.qname],null,D.pxLength.w),null===U.x_off||(U.y_off=O.toComputedLength(g[A][1].value,g[A][1].unit,null,h.styleAttrs[t.byName.fontSize.qname],null,D.pxLength.h),null===U.y_off))return null;if(null===g[A][2])U.b_radius=0;else if(U.b_radius=O.toComputedLength(g[A][2].value,g[A][2].unit,null,h.styleAttrs[t.byName.fontSize.qname],null,D.pxLength.h),null===U.b_radius)return null;U.color=null===g[A][3]?h.styleAttrs[t.byName.color.qname]:g[A][3],v.push(U)}return v}),new b(E.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(D){return D},null),new b(E.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(D){return D},null),new b(E.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(D){return D},null),new b(E.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(D){return D},null),new b(E.ns_tts,"zIndex","auto",["region"],!1,!0,function(D){var m;return"auto"===D?m=D:(m=parseInt(D),isNaN(m)&&(m=null)),m},null),new b(E.ns_ebutts,"linePadding","0c",["p"],!0,!1,O.parseLength,function(D,m,h,g,v){return O.toComputedLength(g.value,g.unit,null,null,D.cellLength.w,null)}),new b(E.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(D){return D},null),new b(E.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(D){return D},null),new b(E.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(D){return"true"===D},null),new b(E.ns_itts,"fillLineGap","false",["p"],!0,!0,function(D){return"true"===D},null)],t.byQName={},t.all)t.byQName[t.all[F].qname]=t.all[F];for(var L in t.byName={},t.all)t.byName[t.all[L].name]=t.all[L]}(x,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/utils.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/utils.js ***!
                  \************************************************/
/*! no static exports found */function(qe,x,c){!function(t){var E=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,O=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,b=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,F={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};t.parseColor=function(D){var m,h=null,g=F[D.toLowerCase()];return void 0!==g?h=g:null!==(m=E.exec(D))?h=[parseInt(m[1],16),parseInt(m[2],16),parseInt(m[3],16),void 0!==m[4]?parseInt(m[4],16):255]:null!==(m=O.exec(D))?h=[parseInt(m[1]),parseInt(m[2]),parseInt(m[3]),255]:null!==(m=b.exec(D))&&(h=[parseInt(m[1]),parseInt(m[2]),parseInt(m[3]),parseInt(m[4])]),h};var L=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;t.parseLength=function(D){var m,h=null;return null!==(m=L.exec(D))&&(h={value:parseFloat(m[1]),unit:m[2]}),h},t.parseTextShadow=function(D){for(var m=D.match(/([^\(,\)]|\([^\)]+\))+/g),h=[],g=0;g<m.length;g++){var v=m[g].split(" ");if(1===v.length&&"none"===v[0])return"none";if(v.length>1&&v.length<5){var A=[null,null,null,null],U=t.parseLength(v.shift());if(null===U||(A[0]=U,null===(U=t.parseLength(v.shift()))))return null;if(A[1]=U,0===v.length){h.push(A);continue}if(null!==(U=t.parseLength(v[0]))&&(A[2]=U,v.shift()),0===v.length){h.push(A);continue}var P=t.parseColor(v[0]);if(null===P)return null;A[3]=P,h.push(A)}}return h},t.parsePosition=function(D){var m=D.split(" "),h=function(k){return"center"===k||"left"===k||"top"===k||"bottom"===k||"right"===k};if(m.length>4)return null;for(var g=0;g<m.length;g++)if(!h(m[g])){var v=t.parseLength(m[g]);if(null===v)return null;m[g]=v}for(var A={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},U=0;U<m.length;){var P=m[U++];if(h(P)){var V={value:0,unit:"%"};2!==m.length&&U<m.length&&!h(m[U])&&(V=m[U++]),"right"===P?(A.h.edge=P,A.h.offset=V):"bottom"===P?(A.v.edge=P,A.v.offset=V):"left"===P?A.h.offset=V:"top"===P&&(A.v.offset=V)}else{if(1!==m.length&&2!==m.length)return null;1===U?A.h.offset=P:A.v.offset=P}}return A},t.ComputedLength=function(D,m){this.rw=D,this.rh=m},t.ComputedLength.prototype.toUsedLength=function(D,m){return D*this.rw+m*this.rh},t.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},t.toComputedLength=function(D,m,h,g,v,A){return"%"===m&&g?new t.ComputedLength(g.rw*D/100,g.rh*D/100):"em"===m&&h?new t.ComputedLength(h.rw*D,h.rh*D):"c"===m&&v?new t.ComputedLength(D*v.rw,D*v.rh):"px"===m&&A?new t.ComputedLength(D*A.rw,D*A.rh):"rh"===m?new t.ComputedLength(0,D/100):"rw"===m?new t.ComputedLength(D/100,0):null}}(x)},"./node_modules/inherits/inherits_browser.js":
/*!***************************************************!*\
                  !*** ./node_modules/inherits/inherits_browser.js ***!
                  \***************************************************/
/*! no static exports found */function(qe,x){qe.exports="function"==typeof Object.create?function(t,E){E&&(t.super_=E,t.prototype=Object.create(E.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,E){if(E){t.super_=E;var O=function(){};O.prototype=E.prototype,t.prototype=new O,t.prototype.constructor=t}}},"./node_modules/is-alphabetical/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/is-alphabetical/index.js ***!
                  \***********************************************/
/*! no static exports found */function(qe,x,c){"use strict";qe.exports=function t(E){var O="string"==typeof E?E.charCodeAt(0):E;return O>=97&&O<=122||O>=65&&O<=90}},"./node_modules/is-alphanumerical/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/is-alphanumerical/index.js ***!
                  \*************************************************/
/*! no static exports found */function(qe,x,c){"use strict";var t=c(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),E=c(
/*! is-decimal */
"./node_modules/is-decimal/index.js");qe.exports=function O(b){return t(b)||E(b)}},"./node_modules/is-decimal/index.js":
/*!******************************************!*\
                  !*** ./node_modules/is-decimal/index.js ***!
                  \******************************************/
/*! no static exports found */function(qe,x,c){"use strict";qe.exports=function t(E){var O="string"==typeof E?E.charCodeAt(0):E;return O>=48&&O<=57}},"./node_modules/isarray/index.js":
/*!***************************************!*\
                  !*** ./node_modules/isarray/index.js ***!
                  \***************************************/
/*! no static exports found */function(qe,x){var c={}.toString;qe.exports=Array.isArray||function(t){return"[object Array]"==c.call(t)}},"./node_modules/path-browserify/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/path-browserify/index.js ***!
                  \***********************************************/
/*! no static exports found */function(qe,x,c){(function(t){function E(L,D){for(var m=0,h=L.length-1;h>=0;h--){var g=L[h];"."===g?L.splice(h,1):".."===g?(L.splice(h,1),m++):m&&(L.splice(h,1),m--)}if(D)for(;m--;m)L.unshift("..");return L}function b(L,D){if(L.filter)return L.filter(D);for(var m=[],h=0;h<L.length;h++)D(L[h],h,L)&&m.push(L[h]);return m}x.resolve=function(){for(var L="",D=!1,m=arguments.length-1;m>=-1&&!D;m--){var h=m>=0?arguments[m]:t.cwd();if("string"!=typeof h)throw new TypeError("Arguments to path.resolve must be strings");h&&(L=h+"/"+L,D="/"===h.charAt(0))}return(D?"/":"")+(L=E(b(L.split("/"),function(g){return!!g}),!D).join("/"))||"."},x.normalize=function(L){var D=x.isAbsolute(L),m="/"===F(L,-1);return!(L=E(b(L.split("/"),function(h){return!!h}),!D).join("/"))&&!D&&(L="."),L&&m&&(L+="/"),(D?"/":"")+L},x.isAbsolute=function(L){return"/"===L.charAt(0)},x.join=function(){var L=Array.prototype.slice.call(arguments,0);return x.normalize(b(L,function(D,m){if("string"!=typeof D)throw new TypeError("Arguments to path.join must be strings");return D}).join("/"))},x.relative=function(L,D){function m(V){for(var k=0;k<V.length&&""===V[k];k++);for(var R=V.length-1;R>=0&&""===V[R];R--);return k>R?[]:V.slice(k,R-k+1)}L=x.resolve(L).substr(1),D=x.resolve(D).substr(1);for(var h=m(L.split("/")),g=m(D.split("/")),v=Math.min(h.length,g.length),A=v,U=0;U<v;U++)if(h[U]!==g[U]){A=U;break}var P=[];for(U=A;U<h.length;U++)P.push("..");return(P=P.concat(g.slice(A))).join("/")},x.sep="/",x.delimiter=":",x.dirname=function(L){if("string"!=typeof L&&(L+=""),0===L.length)return".";for(var D=L.charCodeAt(0),m=47===D,h=-1,g=!0,v=L.length-1;v>=1;--v)if(47===(D=L.charCodeAt(v))){if(!g){h=v;break}}else g=!1;return-1===h?m?"/":".":m&&1===h?"/":L.slice(0,h)},x.basename=function(L,D){var m=function O(L){"string"!=typeof L&&(L+="");var g,D=0,m=-1,h=!0;for(g=L.length-1;g>=0;--g)if(47===L.charCodeAt(g)){if(!h){D=g+1;break}}else-1===m&&(h=!1,m=g+1);return-1===m?"":L.slice(D,m)}(L);return D&&m.substr(-1*D.length)===D&&(m=m.substr(0,m.length-D.length)),m},x.extname=function(L){"string"!=typeof L&&(L+="");for(var D=-1,m=0,h=-1,g=!0,v=0,A=L.length-1;A>=0;--A){var U=L.charCodeAt(A);if(47!==U)-1===h&&(g=!1,h=A+1),46===U?-1===D?D=A:1!==v&&(v=1):-1!==D&&(v=-1);else if(!g){m=A+1;break}}return-1===D||-1===h||0===v||1===v&&D===h-1&&D===m+1?"":L.slice(D,h)};var F=function(L,D,m){return L.substr(D,m)}}).call(this,c(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process-nextick-args/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/process-nextick-args/index.js ***!
                  \****************************************************/
/*! no static exports found */function(qe,x,c){"use strict";(function(t){qe.exports=typeof t>"u"||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?{nextTick:function E(O,b,F,L){if("function"!=typeof O)throw new TypeError('"callback" argument must be a function');var m,h,D=arguments.length;switch(D){case 0:case 1:return t.nextTick(O);case 2:return t.nextTick(function(){O.call(null,b)});case 3:return t.nextTick(function(){O.call(null,b,F)});case 4:return t.nextTick(function(){O.call(null,b,F,L)});default:for(m=new Array(D-1),h=0;h<m.length;)m[h++]=arguments[h];return t.nextTick(function(){O.apply(null,m)})}}}:t}).call(this,c(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process/browser.js":
/*!*****************************************!*\
                  !*** ./node_modules/process/browser.js ***!
                  \*****************************************/
/*! no static exports found */function(qe,x){var t,E,c=qe.exports={};function O(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}function F(V){if(t===setTimeout)return setTimeout(V,0);if((t===O||!t)&&setTimeout)return t=setTimeout,setTimeout(V,0);try{return t(V,0)}catch{try{return t.call(null,V,0)}catch{return t.call(this,V,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:O}catch{t=O}try{E="function"==typeof clearTimeout?clearTimeout:b}catch{E=b}}();var h,D=[],m=!1,g=-1;function v(){!m||!h||(m=!1,h.length?D=h.concat(D):g=-1,D.length&&A())}function A(){if(!m){var V=F(v);m=!0;for(var k=D.length;k;){for(h=D,D=[];++g<k;)h&&h[g].run();g=-1,k=D.length}h=null,m=!1,function L(V){if(E===clearTimeout)return clearTimeout(V);if((E===b||!E)&&clearTimeout)return E=clearTimeout,clearTimeout(V);try{return E(V)}catch{try{return E.call(null,V)}catch{return E.call(this,V)}}}(V)}}function U(V,k){this.fun=V,this.array=k}function P(){}c.nextTick=function(V){var k=new Array(arguments.length-1);if(arguments.length>1)for(var R=1;R<arguments.length;R++)k[R-1]=arguments[R];D.push(new U(V,k)),1===D.length&&!m&&F(A)},U.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=P,c.addListener=P,c.once=P,c.off=P,c.removeListener=P,c.removeAllListeners=P,c.emit=P,c.prependListener=P,c.prependOnceListener=P,c.listeners=function(V){return[]},c.binding=function(V){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(V){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},"./node_modules/readable-stream/duplex-browser.js":
/*!********************************************************!*\
                  !*** ./node_modules/readable-stream/duplex-browser.js ***!
                  \********************************************************/
/*! no static exports found */function(qe,x,c){qe.exports=c(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js")},"./node_modules/readable-stream/lib/_stream_duplex.js":
/*!************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_duplex.js ***!
                  \************************************************************/
/*! no static exports found */function(qe,x,c){"use strict";var t=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js"),E=Object.keys||function(A){var U=[];for(var P in A)U.push(P);return U};qe.exports=h;var O=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));O.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var b=c(
/*! ./_stream_readable */
"./node_modules/readable-stream/lib/_stream_readable.js"),F=c(
/*! ./_stream_writable */
"./node_modules/readable-stream/lib/_stream_writable.js");O.inherits(h,b);for(var L=E(F.prototype),D=0;D<L.length;D++){var m=L[D];h.prototype[m]||(h.prototype[m]=F.prototype[m])}function h(A){if(!(this instanceof h))return new h(A);b.call(this,A),F.call(this,A),A&&!1===A.readable&&(this.readable=!1),A&&!1===A.writable&&(this.writable=!1),this.allowHalfOpen=!0,A&&!1===A.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||t.nextTick(v,this)}function v(A){A.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(A){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=A,this._writableState.destroyed=A)}}),h.prototype._destroy=function(A,U){this.push(null),this.end(),t.nextTick(U,A)}},"./node_modules/readable-stream/lib/_stream_passthrough.js":
/*!*****************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_passthrough.js ***!
                  \*****************************************************************/
/*! no static exports found */function(qe,x,c){"use strict";qe.exports=O;var t=c(
/*! ./_stream_transform */
"./node_modules/readable-stream/lib/_stream_transform.js"),E=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function O(b){if(!(this instanceof O))return new O(b);t.call(this,b)}E.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),E.inherits(O,t),O.prototype._transform=function(b,F,L){L(null,b)}},"./node_modules/readable-stream/lib/_stream_readable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_readable.js ***!
                  \**************************************************************/
/*! no static exports found */function(qe,x,c){"use strict";(function(t,E){var O=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");qe.exports=S;var F,b=c(
/*! isarray */
"./node_modules/isarray/index.js");S.ReadableState=N,c(
/*! events */
"./node_modules/events/events.js");var D=function(ye,K){return ye.listeners(K).length},m=c(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),h=c(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,g=t.Uint8Array||function(){};var U=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));U.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var P=c(
/*! util */
0),V=void 0;V=P&&P.debuglog?P.debuglog("stream"):function(){};var C,k=c(
/*! ./internal/streams/BufferList */
"./node_modules/readable-stream/lib/internal/streams/BufferList.js"),R=c(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");U.inherits(S,m);var w=["error","close","destroy","pause","resume"];function N(ye,K){var ie=K instanceof(F=F||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"));this.objectMode=!!(ye=ye||{}).objectMode,ie&&(this.objectMode=this.objectMode||!!ye.readableObjectMode);var he=ye.highWaterMark,$=ye.readableHighWaterMark;this.highWaterMark=he||0===he?he:ie&&($||0===$)?$:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new k,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=ye.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ye.encoding&&(C||(C=c(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this.decoder=new C(ye.encoding),this.encoding=ye.encoding)}function S(ye){if(F=F||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(this instanceof S))return new S(ye);this._readableState=new N(ye,this),this.readable=!0,ye&&("function"==typeof ye.read&&(this._read=ye.read),"function"==typeof ye.destroy&&(this._destroy=ye.destroy)),m.call(this)}function B(ye,K,ie,he,$){var W,Z=ye._readableState;return null===K?(Z.reading=!1,function H(ye,K){if(!K.ended){if(K.decoder){var ie=K.decoder.end();ie&&ie.length&&(K.buffer.push(ie),K.length+=K.objectMode?1:ie.length)}K.ended=!0,me(ye)}}(ye,Z)):($||(W=function re(ye,K){var ie;return!function A(ye){return h.isBuffer(ye)||ye instanceof g}(K)&&"string"!=typeof K&&void 0!==K&&!ye.objectMode&&(ie=new TypeError("Invalid non-string/buffer chunk")),ie}(Z,K)),W?ye.emit("error",W):Z.objectMode||K&&K.length>0?("string"!=typeof K&&!Z.objectMode&&Object.getPrototypeOf(K)!==h.prototype&&(K=function v(ye){return h.from(ye)}(K)),he?Z.endEmitted?ye.emit("error",new Error("stream.unshift() after end event")):Y(ye,Z,K,!0):Z.ended?ye.emit("error",new Error("stream.push() after EOF")):(Z.reading=!1,Z.decoder&&!ie?(K=Z.decoder.write(K),Z.objectMode||0!==K.length?Y(ye,Z,K,!1):ue(ye,Z)):Y(ye,Z,K,!1))):he||(Z.reading=!1)),function ae(ye){return!ye.ended&&(ye.needReadable||ye.length<ye.highWaterMark||0===ye.length)}(Z)}function Y(ye,K,ie,he){K.flowing&&0===K.length&&!K.sync?(ye.emit("data",ie),ye.read(0)):(K.length+=K.objectMode?1:ie.length,he?K.buffer.unshift(ie):K.buffer.push(ie),K.needReadable&&me(ye)),ue(ye,K)}Object.defineProperty(S.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(ye){this._readableState&&(this._readableState.destroyed=ye)}}),S.prototype.destroy=R.destroy,S.prototype._undestroy=R.undestroy,S.prototype._destroy=function(ye,K){this.push(null),K(ye)},S.prototype.push=function(ye,K){var he,ie=this._readableState;return ie.objectMode?he=!0:"string"==typeof ye&&((K=K||ie.defaultEncoding)!==ie.encoding&&(ye=h.from(ye,K),K=""),he=!0),B(this,ye,K,!1,he)},S.prototype.unshift=function(ye){return B(this,ye,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(ye){return C||(C=c(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this._readableState.decoder=new C(ye),this._readableState.encoding=ye,this};var Re=8388608;function oe(ye,K){return ye<=0||0===K.length&&K.ended?0:K.objectMode?1:ye!=ye?K.flowing&&K.length?K.buffer.head.data.length:K.length:(ye>K.highWaterMark&&(K.highWaterMark=function z(ye){return ye>=Re?ye=Re:(ye--,ye|=ye>>>1,ye|=ye>>>2,ye|=ye>>>4,ye|=ye>>>8,ye|=ye>>>16,ye++),ye}(ye)),ye<=K.length?ye:K.ended?K.length:(K.needReadable=!0,0))}function me(ye){var K=ye._readableState;K.needReadable=!1,K.emittedReadable||(V("emitReadable",K.flowing),K.emittedReadable=!0,K.sync?O.nextTick(te,ye):te(ye))}function te(ye){V("emit readable"),ye.emit("readable"),_e(ye)}function ue(ye,K){K.readingMore||(K.readingMore=!0,O.nextTick(Se,ye,K))}function Se(ye,K){for(var ie=K.length;!K.reading&&!K.flowing&&!K.ended&&K.length<K.highWaterMark&&(V("maybeReadMore read 0"),ye.read(0),ie!==K.length);)ie=K.length;K.readingMore=!1}function le(ye){V("readable nexttick read 0"),ye.read(0)}function we(ye,K){K.reading||(V("resume read 0"),ye.read(0)),K.resumeScheduled=!1,K.awaitDrain=0,ye.emit("resume"),_e(ye),K.flowing&&!K.reading&&ye.read(0)}function _e(ye){var K=ye._readableState;for(V("flow",K.flowing);K.flowing&&null!==ye.read(););}function Le(ye,K){return 0===K.length?null:(K.objectMode?ie=K.buffer.shift():!ye||ye>=K.length?(ie=K.decoder?K.buffer.join(""):1===K.buffer.length?K.buffer.head.data:K.buffer.concat(K.length),K.buffer.clear()):ie=function Pe(ye,K,ie){var he;return ye<K.head.data.length?(he=K.head.data.slice(0,ye),K.head.data=K.head.data.slice(ye)):he=ye===K.head.data.length?K.shift():ie?function Oe(ye,K){var ie=K.head,he=1,$=ie.data;for(ye-=$.length;ie=ie.next;){var Z=ie.data,W=ye>Z.length?Z.length:ye;if($+=W===Z.length?Z:Z.slice(0,ye),0==(ye-=W)){W===Z.length?(++he,K.head=ie.next?ie.next:K.tail=null):(K.head=ie,ie.data=Z.slice(W));break}++he}return K.length-=he,$}(ye,K):function Ue(ye,K){var ie=h.allocUnsafe(ye),he=K.head,$=1;for(he.data.copy(ie),ye-=he.data.length;he=he.next;){var Z=he.data,W=ye>Z.length?Z.length:ye;if(Z.copy(ie,ie.length-ye,0,W),0==(ye-=W)){W===Z.length?(++$,K.head=he.next?he.next:K.tail=null):(K.head=he,he.data=Z.slice(W));break}++$}return K.length-=$,ie}(ye,K),he}(ye,K.buffer,K.decoder),ie);var ie}function ze(ye){var K=ye._readableState;if(K.length>0)throw new Error('"endReadable()" called on non-empty stream');K.endEmitted||(K.ended=!0,O.nextTick(He,K,ye))}function He(ye,K){!ye.endEmitted&&0===ye.length&&(ye.endEmitted=!0,K.readable=!1,K.emit("end"))}function Ae(ye,K){for(var ie=0,he=ye.length;ie<he;ie++)if(ye[ie]===K)return ie;return-1}S.prototype.read=function(ye){V("read",ye),ye=parseInt(ye,10);var K=this._readableState,ie=ye;if(0!==ye&&(K.emittedReadable=!1),0===ye&&K.needReadable&&(K.length>=K.highWaterMark||K.ended))return V("read: emitReadable",K.length,K.ended),0===K.length&&K.ended?ze(this):me(this),null;if(0===(ye=oe(ye,K))&&K.ended)return 0===K.length&&ze(this),null;var $,he=K.needReadable;return V("need readable",he),(0===K.length||K.length-ye<K.highWaterMark)&&V("length less than watermark",he=!0),K.ended||K.reading?V("reading or ended",he=!1):he&&(V("do read"),K.reading=!0,K.sync=!0,0===K.length&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(ye=oe(ie,K))),null===($=ye>0?Le(ye,K):null)?(K.needReadable=!0,ye=0):K.length-=ye,0===K.length&&(K.ended||(K.needReadable=!0),ie!==ye&&K.ended&&ze(this)),null!==$&&this.emit("data",$),$},S.prototype._read=function(ye){this.emit("error",new Error("_read() is not implemented"))},S.prototype.pipe=function(ye,K){var ie=this,he=this._readableState;switch(he.pipesCount){case 0:he.pipes=ye;break;case 1:he.pipes=[he.pipes,ye];break;default:he.pipes.push(ye)}he.pipesCount+=1,V("pipe count=%d opts=%j",he.pipesCount,K);var Z=K&&!1===K.end||ye===E.stdout||ye===E.stderr?Be:X;function W(Ze,Qe){V("onunpipe"),Ze===ie&&Qe&&!1===Qe.hasUnpiped&&(Qe.hasUnpiped=!0,function J(){V("cleanup"),ye.removeListener("close",Ce),ye.removeListener("finish",Ye),ye.removeListener("drain",Q),ye.removeListener("error",ce),ye.removeListener("unpipe",W),ie.removeListener("end",X),ie.removeListener("end",Be),ie.removeListener("data",pe),q=!0,he.awaitDrain&&(!ye._writableState||ye._writableState.needDrain)&&Q()}())}function X(){V("onend"),ye.end()}he.endEmitted?O.nextTick(Z):ie.once("end",Z),ye.on("unpipe",W);var Q=function Ie(ye){return function(){var K=ye._readableState;V("pipeOnDrain",K.awaitDrain),K.awaitDrain&&K.awaitDrain--,0===K.awaitDrain&&D(ye,"data")&&(K.flowing=!0,_e(ye))}}(ie);ye.on("drain",Q);var q=!1;var de=!1;function pe(Ze){V("ondata"),de=!1,!1===ye.write(Ze)&&!de&&((1===he.pipesCount&&he.pipes===ye||he.pipesCount>1&&-1!==Ae(he.pipes,ye))&&!q&&(V("false write response, pause",ie._readableState.awaitDrain),ie._readableState.awaitDrain++,de=!0),ie.pause())}function ce(Ze){V("onerror",Ze),Be(),ye.removeListener("error",ce),0===D(ye,"error")&&ye.emit("error",Ze)}function Ce(){ye.removeListener("finish",Ye),Be()}function Ye(){V("onfinish"),ye.removeListener("close",Ce),Be()}function Be(){V("unpipe"),ie.unpipe(ye)}return ie.on("data",pe),function T(ye,K,ie){if("function"==typeof ye.prependListener)return ye.prependListener(K,ie);ye._events&&ye._events[K]?b(ye._events[K])?ye._events[K].unshift(ie):ye._events[K]=[ie,ye._events[K]]:ye.on(K,ie)}(ye,"error",ce),ye.once("close",Ce),ye.once("finish",Ye),ye.emit("pipe",ie),he.flowing||(V("pipe resume"),ie.resume()),ye},S.prototype.unpipe=function(ye){var K=this._readableState,ie={hasUnpiped:!1};if(0===K.pipesCount)return this;if(1===K.pipesCount)return ye&&ye!==K.pipes||(ye||(ye=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,ye&&ye.emit("unpipe",this,ie)),this;if(!ye){var he=K.pipes,$=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var Z=0;Z<$;Z++)he[Z].emit("unpipe",this,ie);return this}var W=Ae(K.pipes,ye);return-1===W||(K.pipes.splice(W,1),K.pipesCount-=1,1===K.pipesCount&&(K.pipes=K.pipes[0]),ye.emit("unpipe",this,ie)),this},S.prototype.addListener=S.prototype.on=function(ye,K){var ie=m.prototype.on.call(this,ye,K);if("data"===ye)!1!==this._readableState.flowing&&this.resume();else if("readable"===ye){var he=this._readableState;!he.endEmitted&&!he.readableListening&&(he.readableListening=he.needReadable=!0,he.emittedReadable=!1,he.reading?he.length&&me(this):O.nextTick(le,this))}return ie},S.prototype.resume=function(){var ye=this._readableState;return ye.flowing||(V("resume"),ye.flowing=!0,function Me(ye,K){K.resumeScheduled||(K.resumeScheduled=!0,O.nextTick(we,ye,K))}(this,ye)),this},S.prototype.pause=function(){return V("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(V("pause"),this._readableState.flowing=!1,this.emit("pause")),this},S.prototype.wrap=function(ye){var K=this,ie=this._readableState,he=!1;for(var $ in ye.on("end",function(){if(V("wrapped end"),ie.decoder&&!ie.ended){var W=ie.decoder.end();W&&W.length&&K.push(W)}K.push(null)}),ye.on("data",function(W){V("wrapped data"),ie.decoder&&(W=ie.decoder.write(W)),ie.objectMode&&null==W||!(ie.objectMode||W&&W.length)||K.push(W)||(he=!0,ye.pause())}),ye)void 0===this[$]&&"function"==typeof ye[$]&&(this[$]=function(W){return function(){return ye[W].apply(ye,arguments)}}($));for(var Z=0;Z<w.length;Z++)ye.on(w[Z],this.emit.bind(this,w[Z]));return this._read=function(W){V("wrapped _read",W),he&&(he=!1,ye.resume())},this},Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),S._fromList=Le}).call(this,c(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),c(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/readable-stream/lib/_stream_transform.js":
/*!***************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_transform.js ***!
                  \***************************************************************/
/*! no static exports found */function(qe,x,c){"use strict";qe.exports=b;var t=c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),E=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function O(D,m){var h=this._transformState;h.transforming=!1;var g=h.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));h.writechunk=null,h.writecb=null,null!=m&&this.push(m),g(D);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function b(D){if(!(this instanceof b))return new b(D);t.call(this,D),this._transformState={afterTransform:O.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,D&&("function"==typeof D.transform&&(this._transform=D.transform),"function"==typeof D.flush&&(this._flush=D.flush)),this.on("prefinish",F)}function F(){var D=this;"function"==typeof this._flush?this._flush(function(m,h){L(D,m,h)}):L(this,null,null)}function L(D,m,h){if(m)return D.emit("error",m);if(null!=h&&D.push(h),D._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(D._transformState.transforming)throw new Error("Calling transform done when still transforming");return D.push(null)}E.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),E.inherits(b,t),b.prototype.push=function(D,m){return this._transformState.needTransform=!1,t.prototype.push.call(this,D,m)},b.prototype._transform=function(D,m,h){throw new Error("_transform() is not implemented")},b.prototype._write=function(D,m,h){var g=this._transformState;if(g.writecb=h,g.writechunk=D,g.writeencoding=m,!g.transforming){var v=this._readableState;(g.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},b.prototype._read=function(D){var m=this._transformState;null!==m.writechunk&&m.writecb&&!m.transforming?(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform)):m.needTransform=!0},b.prototype._destroy=function(D,m){var h=this;t.prototype._destroy.call(this,D,function(g){m(g),h.emit("close")})}},"./node_modules/readable-stream/lib/_stream_writable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_writable.js ***!
                  \**************************************************************/
/*! no static exports found */function(qe,x,c){"use strict";(function(t,E,O){var b=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function L(we){var _e=this;this.next=null,this.entry=null,this.finish=function(){!function Me(we,_e,Le){var Pe=we.entry;for(we.entry=null;Pe;){var Oe=Pe.callback;_e.pendingcb--,Oe(Le),Pe=Pe.next}_e.corkedRequestsFree?_e.corkedRequestsFree.next=we:_e.corkedRequestsFree=we}(_e,we)}}qe.exports=T;var m,D=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?E:b.nextTick;T.WritableState=C;var h=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));h.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var g={deprecate:c(
/*! util-deprecate */
"./node_modules/util-deprecate/browser.js")},v=c(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),A=c(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,U=O.Uint8Array||function(){};var w,k=c(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");function R(){}function C(we,_e){m=m||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js");var Le=_e instanceof m;this.objectMode=!!(we=we||{}).objectMode,Le&&(this.objectMode=this.objectMode||!!we.writableObjectMode);var Pe=we.highWaterMark,Oe=we.writableHighWaterMark;this.highWaterMark=Pe||0===Pe?Pe:Le&&(Oe||0===Oe)?Oe:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===we.decodeStrings),this.defaultEncoding=we.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(He){!function z(we,_e){var Le=we._writableState,Pe=Le.sync,Oe=Le.writecb;if(function Re(we){we.writing=!1,we.writecb=null,we.length-=we.writelen,we.writelen=0}(Le),_e)!function ae(we,_e,Le,Pe,Oe){--_e.pendingcb,Le?(b.nextTick(Oe,Pe),b.nextTick(Ie,we,_e),we._writableState.errorEmitted=!0,we.emit("error",Pe)):(Oe(Pe),we._writableState.errorEmitted=!0,we.emit("error",Pe),Ie(we,_e))}(we,Le,Pe,_e,Oe);else{var Ue=te(Le);!Ue&&!Le.corked&&!Le.bufferProcessing&&Le.bufferedRequest&&me(we,Le),Pe?D(oe,we,Le,Ue,Oe):oe(we,Le,Ue,Oe)}}(_e,He)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new L(this)}function T(we){if(m=m||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(w.call(T,this)||this instanceof m))return new T(we);this._writableState=new C(we,this),this.writable=!0,we&&("function"==typeof we.write&&(this._write=we.write),"function"==typeof we.writev&&(this._writev=we.writev),"function"==typeof we.destroy&&(this._destroy=we.destroy),"function"==typeof we.final&&(this._final=we.final)),v.call(this)}function Y(we,_e,Le,Pe,Oe,Ue){if(!Le){var ze=function B(we,_e,Le){return!we.objectMode&&!1!==we.decodeStrings&&"string"==typeof _e&&(_e=A.from(_e,Le)),_e}(_e,Pe,Oe);Pe!==ze&&(Le=!0,Oe="buffer",Pe=ze)}var He=_e.objectMode?1:Pe.length;_e.length+=He;var Ae=_e.length<_e.highWaterMark;if(Ae||(_e.needDrain=!0),_e.writing||_e.corked){var ye=_e.lastBufferedRequest;_e.lastBufferedRequest={chunk:Pe,encoding:Oe,isBuf:Le,callback:Ue,next:null},ye?ye.next=_e.lastBufferedRequest:_e.bufferedRequest=_e.lastBufferedRequest,_e.bufferedRequestCount+=1}else re(we,_e,!1,He,Pe,Oe,Ue);return Ae}function re(we,_e,Le,Pe,Oe,Ue,ze){_e.writelen=Pe,_e.writecb=ze,_e.writing=!0,_e.sync=!0,Le?we._writev(Oe,_e.onwrite):we._write(Oe,Ue,_e.onwrite),_e.sync=!1}function oe(we,_e,Le,Pe){Le||function H(we,_e){0===_e.length&&_e.needDrain&&(_e.needDrain=!1,we.emit("drain"))}(we,_e),_e.pendingcb--,Pe(),Ie(we,_e)}function me(we,_e){_e.bufferProcessing=!0;var Le=_e.bufferedRequest;if(we._writev&&Le&&Le.next){var Oe=new Array(_e.bufferedRequestCount),Ue=_e.corkedRequestsFree;Ue.entry=Le;for(var ze=0,He=!0;Le;)Oe[ze]=Le,Le.isBuf||(He=!1),Le=Le.next,ze+=1;Oe.allBuffers=He,re(we,_e,!0,_e.length,Oe,"",Ue.finish),_e.pendingcb++,_e.lastBufferedRequest=null,Ue.next?(_e.corkedRequestsFree=Ue.next,Ue.next=null):_e.corkedRequestsFree=new L(_e),_e.bufferedRequestCount=0}else{for(;Le;){var Ae=Le.chunk;if(re(we,_e,!1,_e.objectMode?1:Ae.length,Ae,Le.encoding,Le.callback),Le=Le.next,_e.bufferedRequestCount--,_e.writing)break}null===Le&&(_e.lastBufferedRequest=null)}_e.bufferedRequest=Le,_e.bufferProcessing=!1}function te(we){return we.ending&&0===we.length&&null===we.bufferedRequest&&!we.finished&&!we.writing}function ue(we,_e){we._final(function(Le){_e.pendingcb--,Le&&we.emit("error",Le),_e.prefinished=!0,we.emit("prefinish"),Ie(we,_e)})}function Ie(we,_e){var Le=te(_e);return Le&&(function Se(we,_e){!_e.prefinished&&!_e.finalCalled&&("function"==typeof we._final?(_e.pendingcb++,_e.finalCalled=!0,b.nextTick(ue,we,_e)):(_e.prefinished=!0,we.emit("prefinish")))}(we,_e),0===_e.pendingcb&&(_e.finished=!0,we.emit("finish"))),Le}h.inherits(T,v),C.prototype.getBuffer=function(){for(var _e=this.bufferedRequest,Le=[];_e;)Le.push(_e),_e=_e.next;return Le},function(){try{Object.defineProperty(C.prototype,"buffer",{get:g.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(w=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(we){return!!w.call(this,we)||this===T&&we&&we._writableState instanceof C}})):w=function(we){return we instanceof this},T.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},T.prototype.write=function(we,_e,Le){var Pe=this._writableState,Oe=!1,Ue=!Pe.objectMode&&function V(we){return A.isBuffer(we)||we instanceof U}(we);return Ue&&!A.isBuffer(we)&&(we=function P(we){return A.from(we)}(we)),"function"==typeof _e&&(Le=_e,_e=null),Ue?_e="buffer":_e||(_e=Pe.defaultEncoding),"function"!=typeof Le&&(Le=R),Pe.ended?function N(we,_e){var Le=new Error("write after end");we.emit("error",Le),b.nextTick(_e,Le)}(this,Le):(Ue||function S(we,_e,Le,Pe){var Oe=!0,Ue=!1;return null===Le?Ue=new TypeError("May not write null values to stream"):"string"!=typeof Le&&void 0!==Le&&!_e.objectMode&&(Ue=new TypeError("Invalid non-string/buffer chunk")),Ue&&(we.emit("error",Ue),b.nextTick(Pe,Ue),Oe=!1),Oe}(this,Pe,we,Le))&&(Pe.pendingcb++,Oe=Y(this,Pe,Ue,we,_e,Le)),Oe},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var we=this._writableState;we.corked&&(we.corked--,!we.writing&&!we.corked&&!we.finished&&!we.bufferProcessing&&we.bufferedRequest&&me(this,we))},T.prototype.setDefaultEncoding=function(_e){if("string"==typeof _e&&(_e=_e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+_e);return this._writableState.defaultEncoding=_e,this},Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(we,_e,Le){Le(new Error("_write() is not implemented"))},T.prototype._writev=null,T.prototype.end=function(we,_e,Le){var Pe=this._writableState;"function"==typeof we?(Le=we,we=null,_e=null):"function"==typeof _e&&(Le=_e,_e=null),null!=we&&this.write(we,_e),Pe.corked&&(Pe.corked=1,this.uncork()),!Pe.ending&&!Pe.finished&&function le(we,_e,Le){_e.ending=!0,Ie(we,_e),Le&&(_e.finished?b.nextTick(Le):we.once("finish",Le)),_e.ended=!0,we.writable=!1}(this,Pe,Le)},Object.defineProperty(T.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(we){this._writableState&&(this._writableState.destroyed=we)}}),T.prototype.destroy=k.destroy,T.prototype._undestroy=k.undestroy,T.prototype._destroy=function(we,_e){this.end(),_e(we)}}).call(this,c(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),c(
/*! ./../../timers-browserify/main.js */
"./node_modules/timers-browserify/main.js").setImmediate,c(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/readable-stream/lib/internal/streams/BufferList.js":
/*!*************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/BufferList.js ***!
                  \*************************************************************************/
/*! no static exports found */function(qe,x,c){"use strict";var E=c(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,O=c(
/*! util */
1);function b(F,L,D){F.copy(L,D)}qe.exports=function(){function F(){(function t(F,L){if(!(F instanceof L))throw new TypeError("Cannot call a class as a function")})(this,F),this.head=null,this.tail=null,this.length=0}return F.prototype.push=function(D){var m={data:D,next:null};this.length>0?this.tail.next=m:this.head=m,this.tail=m,++this.length},F.prototype.unshift=function(D){var m={data:D,next:this.head};0===this.length&&(this.tail=m),this.head=m,++this.length},F.prototype.shift=function(){if(0!==this.length){var D=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,D}},F.prototype.clear=function(){this.head=this.tail=null,this.length=0},F.prototype.join=function(D){if(0===this.length)return"";for(var m=this.head,h=""+m.data;m=m.next;)h+=D+m.data;return h},F.prototype.concat=function(D){if(0===this.length)return E.alloc(0);if(1===this.length)return this.head.data;for(var m=E.allocUnsafe(D>>>0),h=this.head,g=0;h;)b(h.data,m,g),g+=h.data.length,h=h.next;return m},F}(),O&&O.inspect&&O.inspect.custom&&(qe.exports.prototype[O.inspect.custom]=function(){var F=O.inspect({length:this.length});return this.constructor.name+" "+F})},"./node_modules/readable-stream/lib/internal/streams/destroy.js":
/*!**********************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/destroy.js ***!
                  \**********************************************************************/
/*! no static exports found */function(qe,x,c){"use strict";var t=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function b(F,L){F.emit("error",L)}qe.exports={destroy:function E(F,L){var D=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(L?L(F):F&&(!this._writableState||!this._writableState.errorEmitted)&&t.nextTick(b,this,F),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(F||null,function(g){!L&&g?(t.nextTick(b,D,g),D._writableState&&(D._writableState.errorEmitted=!0)):L&&L(g)}),this)},undestroy:function O(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},"./node_modules/readable-stream/lib/internal/streams/stream-browser.js":
/*!*****************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/stream-browser.js ***!
                  \*****************************************************************************/
/*! no static exports found */function(qe,x,c){qe.exports=c(
/*! events */
"./node_modules/events/events.js").EventEmitter},"./node_modules/readable-stream/node_modules/safe-buffer/index.js":
/*!************************************************************************!*\
                  !*** ./node_modules/readable-stream/node_modules/safe-buffer/index.js ***!
                  \************************************************************************/
/*! no static exports found */function(qe,x,c){var t=c(
/*! buffer */
"./node_modules/buffer/index.js"),E=t.Buffer;function O(F,L){for(var D in F)L[D]=F[D]}function b(F,L,D){return E(F,L,D)}E.from&&E.alloc&&E.allocUnsafe&&E.allocUnsafeSlow?qe.exports=t:(O(t,x),x.Buffer=b),O(E,b),b.from=function(F,L,D){if("number"==typeof F)throw new TypeError("Argument must not be a number");return E(F,L,D)},b.alloc=function(F,L,D){if("number"!=typeof F)throw new TypeError("Argument must be a number");var m=E(F);return void 0!==L?"string"==typeof D?m.fill(L,D):m.fill(L):m.fill(0),m},b.allocUnsafe=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return E(F)},b.allocUnsafeSlow=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return t.SlowBuffer(F)}},"./node_modules/readable-stream/passthrough.js":
/*!*****************************************************!*\
                  !*** ./node_modules/readable-stream/passthrough.js ***!
                  \*****************************************************/
/*! no static exports found */function(qe,x,c){qe.exports=c(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").PassThrough},"./node_modules/readable-stream/readable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/readable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(qe,x,c){(x=qe.exports=c(
/*! ./lib/_stream_readable.js */
"./node_modules/readable-stream/lib/_stream_readable.js")).Stream=x,x.Readable=x,x.Writable=c(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js"),x.Duplex=c(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js"),x.Transform=c(
/*! ./lib/_stream_transform.js */
"./node_modules/readable-stream/lib/_stream_transform.js"),x.PassThrough=c(
/*! ./lib/_stream_passthrough.js */
"./node_modules/readable-stream/lib/_stream_passthrough.js")},"./node_modules/readable-stream/transform.js":
/*!***************************************************!*\
                  !*** ./node_modules/readable-stream/transform.js ***!
                  \***************************************************/
/*! no static exports found */function(qe,x,c){qe.exports=c(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").Transform},"./node_modules/readable-stream/writable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/writable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(qe,x,c){qe.exports=c(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js")},"./node_modules/safe-buffer/index.js":
/*!*******************************************!*\
                  !*** ./node_modules/safe-buffer/index.js ***!
                  \*******************************************/
/*! no static exports found */function(qe,x,c){var t=c(
/*! buffer */
"./node_modules/buffer/index.js"),E=t.Buffer;function O(F,L){for(var D in F)L[D]=F[D]}function b(F,L,D){return E(F,L,D)}E.from&&E.alloc&&E.allocUnsafe&&E.allocUnsafeSlow?qe.exports=t:(O(t,x),x.Buffer=b),b.prototype=Object.create(E.prototype),O(E,b),b.from=function(F,L,D){if("number"==typeof F)throw new TypeError("Argument must not be a number");return E(F,L,D)},b.alloc=function(F,L,D){if("number"!=typeof F)throw new TypeError("Argument must be a number");var m=E(F);return void 0!==L?"string"==typeof D?m.fill(L,D):m.fill(L):m.fill(0),m},b.allocUnsafe=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return E(F)},b.allocUnsafeSlow=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return t.SlowBuffer(F)}},"./node_modules/sax/lib/sax.js":
/*!*************************************!*\
                  !*** ./node_modules/sax/lib/sax.js ***!
                  \*************************************/
/*! no static exports found */function(qe,x,c){(function(t){!function(E){E.parser=function(K,ie){return new b(K,ie)},E.SAXParser=b,E.SAXStream=v,E.createStream=function g(K,ie){return new v(K,ie)},E.MAX_BUFFER_LENGTH=65536;var m,O=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function b(K,ie){if(!(this instanceof b))return new b(K,ie);var he=this;(function L(K){for(var ie=0,he=O.length;ie<he;ie++)K[O[ie]]=""})(he),he.q=he.c="",he.bufferCheckPosition=E.MAX_BUFFER_LENGTH,he.opt=ie||{},he.opt.lowercase=he.opt.lowercase||he.opt.lowercasetags,he.looseCase=he.opt.lowercase?"toLowerCase":"toUpperCase",he.tags=[],he.closed=he.closedRoot=he.sawRoot=!1,he.tag=he.error=null,he.strict=!!K,he.noscript=!(!K&&!he.opt.noscript),he.state=H.BEGIN,he.strictEntities=he.opt.strictEntities,he.ENTITIES=Object.create(he.strictEntities?E.XML_ENTITIES:E.ENTITIES),he.attribList=[],he.opt.xmlns&&(he.ns=Object.create(N)),he.trackPosition=!1!==he.opt.position,he.trackPosition&&(he.position=he.line=he.column=0),te(he,"onready")}E.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(K){function ie(){}return ie.prototype=K,new ie}),Object.keys||(Object.keys=function(K){var ie=[];for(var he in K)K.hasOwnProperty(he)&&ie.push(he);return ie}),b.prototype={end:function(){Me(this)},write:function ye(K){var ie=this;if(this.error)throw this.error;if(ie.closed)return le(ie,"Cannot write after close. Assign an onready handler.");if(null===K)return Me(ie);"object"==typeof K&&(K=K.toString());for(var he=0,$="";$=Ae(K,he++),ie.c=$,$;)switch(ie.trackPosition&&(ie.position++,"\n"===$?(ie.line++,ie.column=0):ie.column++),ie.state){case H.BEGIN:if(ie.state=H.BEGIN_WHITESPACE,"\ufeff"===$)continue;He(ie,$);continue;case H.BEGIN_WHITESPACE:He(ie,$);continue;case H.TEXT:if(ie.sawRoot&&!ie.closedRoot){for(var Z=he-1;$&&"<"!==$&&"&"!==$;)($=Ae(K,he++))&&ie.trackPosition&&(ie.position++,"\n"===$?(ie.line++,ie.column=0):ie.column++);ie.textNode+=K.substring(Z,he-1)}"<"!==$||ie.sawRoot&&ie.closedRoot&&!ie.strict?(oe(A,$)&&(!ie.sawRoot||ie.closedRoot)&&we(ie,"Text data outside of root node."),"&"===$?ie.state=H.TEXT_ENTITY:ie.textNode+=$):(ie.state=H.OPEN_WAKA,ie.startTagPosition=ie.position);continue;case H.SCRIPT:"<"===$?ie.state=H.SCRIPT_ENDING:ie.script+=$;continue;case H.SCRIPT_ENDING:"/"===$?ie.state=H.CLOSE_TAG:(ie.script+="<"+$,ie.state=H.SCRIPT);continue;case H.OPEN_WAKA:"!"===$?(ie.state=H.SGML_DECL,ie.sgmlDecl=""):z(A,$)||(z(S,$)?(ie.state=H.OPEN_TAG,ie.tagName=$):"/"===$?(ie.state=H.CLOSE_TAG,ie.tagName=""):"?"===$?(ie.state=H.PROC_INST,ie.procInstName=ie.procInstBody=""):(we(ie,"Unencoded <"),ie.startTagPosition+1<ie.position&&($=new Array(ie.position-ie.startTagPosition).join(" ")+$),ie.textNode+="<"+$,ie.state=H.TEXT));continue;case H.SGML_DECL:(ie.sgmlDecl+$).toUpperCase()===R?(ue(ie,"onopencdata"),ie.state=H.CDATA,ie.sgmlDecl="",ie.cdata=""):ie.sgmlDecl+$==="--"?(ie.state=H.COMMENT,ie.comment="",ie.sgmlDecl=""):(ie.sgmlDecl+$).toUpperCase()===C?(ie.state=H.DOCTYPE,(ie.doctype||ie.sawRoot)&&we(ie,"Inappropriately located doctype declaration"),ie.doctype="",ie.sgmlDecl=""):">"===$?(ue(ie,"onsgmldeclaration",ie.sgmlDecl),ie.sgmlDecl="",ie.state=H.TEXT):(z(V,$)&&(ie.state=H.SGML_DECL_QUOTED),ie.sgmlDecl+=$);continue;case H.SGML_DECL_QUOTED:$===ie.q&&(ie.state=H.SGML_DECL,ie.q=""),ie.sgmlDecl+=$;continue;case H.DOCTYPE:">"===$?(ie.state=H.TEXT,ue(ie,"ondoctype",ie.doctype),ie.doctype=!0):(ie.doctype+=$,"["===$?ie.state=H.DOCTYPE_DTD:z(V,$)&&(ie.state=H.DOCTYPE_QUOTED,ie.q=$));continue;case H.DOCTYPE_QUOTED:ie.doctype+=$,$===ie.q&&(ie.q="",ie.state=H.DOCTYPE);continue;case H.DOCTYPE_DTD:ie.doctype+=$,"]"===$?ie.state=H.DOCTYPE:z(V,$)&&(ie.state=H.DOCTYPE_DTD_QUOTED,ie.q=$);continue;case H.DOCTYPE_DTD_QUOTED:ie.doctype+=$,$===ie.q&&(ie.state=H.DOCTYPE_DTD,ie.q="");continue;case H.COMMENT:"-"===$?ie.state=H.COMMENT_ENDING:ie.comment+=$;continue;case H.COMMENT_ENDING:"-"===$?(ie.state=H.COMMENT_ENDED,ie.comment=Ie(ie.opt,ie.comment),ie.comment&&ue(ie,"oncomment",ie.comment),ie.comment=""):(ie.comment+="-"+$,ie.state=H.COMMENT);continue;case H.COMMENT_ENDED:">"!==$?(we(ie,"Malformed comment"),ie.comment+="--"+$,ie.state=H.COMMENT):ie.state=H.TEXT;continue;case H.CDATA:"]"===$?ie.state=H.CDATA_ENDING:ie.cdata+=$;continue;case H.CDATA_ENDING:"]"===$?ie.state=H.CDATA_ENDING_2:(ie.cdata+="]"+$,ie.state=H.CDATA);continue;case H.CDATA_ENDING_2:">"===$?(ie.cdata&&ue(ie,"oncdata",ie.cdata),ue(ie,"onclosecdata"),ie.cdata="",ie.state=H.TEXT):"]"===$?ie.cdata+="]":(ie.cdata+="]]"+$,ie.state=H.CDATA);continue;case H.PROC_INST:"?"===$?ie.state=H.PROC_INST_ENDING:z(A,$)?ie.state=H.PROC_INST_BODY:ie.procInstName+=$;continue;case H.PROC_INST_BODY:if(!ie.procInstBody&&z(A,$))continue;"?"===$?ie.state=H.PROC_INST_ENDING:ie.procInstBody+=$;continue;case H.PROC_INST_ENDING:">"===$?(ue(ie,"onprocessinginstruction",{name:ie.procInstName,body:ie.procInstBody}),ie.procInstName=ie.procInstBody="",ie.state=H.TEXT):(ie.procInstBody+="?"+$,ie.state=H.PROC_INST_BODY);continue;case H.OPEN_TAG:z(B,$)?ie.tagName+=$:(_e(ie),">"===$?Oe(ie):"/"===$?ie.state=H.OPEN_TAG_SLASH:(oe(A,$)&&we(ie,"Invalid character in tag name"),ie.state=H.ATTRIB));continue;case H.OPEN_TAG_SLASH:">"===$?(Oe(ie,!0),Ue(ie)):(we(ie,"Forward-slash in opening tag not followed by >"),ie.state=H.ATTRIB);continue;case H.ATTRIB:if(z(A,$))continue;">"===$?Oe(ie):"/"===$?ie.state=H.OPEN_TAG_SLASH:z(S,$)?(ie.attribName=$,ie.attribValue="",ie.state=H.ATTRIB_NAME):we(ie,"Invalid attribute name");continue;case H.ATTRIB_NAME:"="===$?ie.state=H.ATTRIB_VALUE:">"===$?(we(ie,"Attribute without value"),ie.attribValue=ie.attribName,Pe(ie),Oe(ie)):z(A,$)?ie.state=H.ATTRIB_NAME_SAW_WHITE:z(B,$)?ie.attribName+=$:we(ie,"Invalid attribute name");continue;case H.ATTRIB_NAME_SAW_WHITE:if("="===$)ie.state=H.ATTRIB_VALUE;else{if(z(A,$))continue;we(ie,"Attribute without value"),ie.tag.attributes[ie.attribName]="",ie.attribValue="",ue(ie,"onattribute",{name:ie.attribName,value:""}),ie.attribName="",">"===$?Oe(ie):z(S,$)?(ie.attribName=$,ie.state=H.ATTRIB_NAME):(we(ie,"Invalid attribute name"),ie.state=H.ATTRIB)}continue;case H.ATTRIB_VALUE:if(z(A,$))continue;z(V,$)?(ie.q=$,ie.state=H.ATTRIB_VALUE_QUOTED):(we(ie,"Unquoted attribute value"),ie.state=H.ATTRIB_VALUE_UNQUOTED,ie.attribValue=$);continue;case H.ATTRIB_VALUE_QUOTED:if($!==ie.q){"&"===$?ie.state=H.ATTRIB_VALUE_ENTITY_Q:ie.attribValue+=$;continue}Pe(ie),ie.q="",ie.state=H.ATTRIB_VALUE_CLOSED;continue;case H.ATTRIB_VALUE_CLOSED:z(A,$)?ie.state=H.ATTRIB:">"===$?Oe(ie):"/"===$?ie.state=H.OPEN_TAG_SLASH:z(S,$)?(we(ie,"No whitespace between attributes"),ie.attribName=$,ie.attribValue="",ie.state=H.ATTRIB_NAME):we(ie,"Invalid attribute name");continue;case H.ATTRIB_VALUE_UNQUOTED:if(oe(k,$)){"&"===$?ie.state=H.ATTRIB_VALUE_ENTITY_U:ie.attribValue+=$;continue}Pe(ie),">"===$?Oe(ie):ie.state=H.ATTRIB;continue;case H.CLOSE_TAG:if(ie.tagName)">"===$?Ue(ie):z(B,$)?ie.tagName+=$:ie.script?(ie.script+="</"+ie.tagName,ie.tagName="",ie.state=H.SCRIPT):(oe(A,$)&&we(ie,"Invalid tagname in closing tag"),ie.state=H.CLOSE_TAG_SAW_WHITE);else{if(z(A,$))continue;oe(S,$)?ie.script?(ie.script+="</"+$,ie.state=H.SCRIPT):we(ie,"Invalid tagname in closing tag."):ie.tagName=$}continue;case H.CLOSE_TAG_SAW_WHITE:if(z(A,$))continue;">"===$?Ue(ie):we(ie,"Invalid characters in closing tag");continue;case H.TEXT_ENTITY:case H.ATTRIB_VALUE_ENTITY_Q:case H.ATTRIB_VALUE_ENTITY_U:var X,Q;switch(ie.state){case H.TEXT_ENTITY:X=H.TEXT,Q="textNode";break;case H.ATTRIB_VALUE_ENTITY_Q:X=H.ATTRIB_VALUE_QUOTED,Q="attribValue";break;case H.ATTRIB_VALUE_ENTITY_U:X=H.ATTRIB_VALUE_UNQUOTED,Q="attribValue"}";"===$?(ie[Q]+=ze(ie),ie.entity="",ie.state=X):z(ie.entity.length?re:Y,$)?ie.entity+=$:(we(ie,"Invalid character in entity name"),ie[Q]+="&"+ie.entity+$,ie.entity="",ie.state=X);continue;default:throw new Error(ie,"Unknown state: "+ie.state)}return ie.position>=ie.bufferCheckPosition&&function F(K){for(var ie=Math.max(E.MAX_BUFFER_LENGTH,10),he=0,$=0,Z=O.length;$<Z;$++){var W=K[O[$]].length;if(W>ie)switch(O[$]){case"textNode":Se(K);break;case"cdata":ue(K,"oncdata",K.cdata),K.cdata="";break;case"script":ue(K,"onscript",K.script),K.script="";break;default:le(K,"Max buffer length exceeded: "+O[$])}he=Math.max(he,W)}K.bufferCheckPosition=E.MAX_BUFFER_LENGTH-he+K.position}(ie),ie},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function D(K){Se(K),""!==K.cdata&&(ue(K,"oncdata",K.cdata),K.cdata=""),""!==K.script&&(ue(K,"onscript",K.script),K.script="")}(this)}};try{m=c(
/*! stream */
"./node_modules/stream-browserify/index.js").Stream}catch{m=function(){}}var h=E.EVENTS.filter(function(K){return"error"!==K&&"end"!==K});function v(K,ie){if(!(this instanceof v))return new v(K,ie);m.apply(this),this._parser=new b(K,ie),this.writable=!0,this.readable=!0;var he=this;this._parser.onend=function(){he.emit("end")},this._parser.onerror=function($){he.emit("error",$),he._parser.error=null},this._decoder=null,h.forEach(function($){Object.defineProperty(he,"on"+$,{get:function(){return he._parser["on"+$]},set:function(Z){if(!Z)return he.removeAllListeners($),he._parser["on"+$]=Z,Z;he.on($,Z)},enumerable:!0,configurable:!1})})}(v.prototype=Object.create(m.prototype,{constructor:{value:v}})).write=function(K){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(K)){if(!this._decoder){var ie=c(
/*! string_decoder */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder;this._decoder=new ie("utf8")}K=this._decoder.write(K)}return this._parser.write(K.toString()),this.emit("data",K),!0},v.prototype.end=function(K){return K&&K.length&&this.write(K),this._parser.end(),!0},v.prototype.on=function(K,ie){var he=this;return!he._parser["on"+K]&&-1!==h.indexOf(K)&&(he._parser["on"+K]=function(){var $=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);$.splice(0,0,K),he.emit.apply(he,$)}),m.prototype.on.call(he,K,ie)};var A="\r\n\t ",U="0124356789",P="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",V="'\"",k=A+">",R="[CDATA[",C="DOCTYPE",w="http://www.w3.org/XML/1998/namespace",T="http://www.w3.org/2000/xmlns/",N={xml:w,xmlns:T};A=ae(A),U=ae(U),P=ae(P);var S=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,B=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,Y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,re=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function ae(K){return K.split("").reduce(function(ie,he){return ie[he]=!0,ie},{})}function z(K,ie){return function Re(K){return"[object RegExp]"===Object.prototype.toString.call(K)}(K)?!!ie.match(K):K[ie]}function oe(K,ie){return!z(K,ie)}V=ae(V),k=ae(k);var K,ie,he,H=0;for(var me in E.STATE={BEGIN:H++,BEGIN_WHITESPACE:H++,TEXT:H++,TEXT_ENTITY:H++,OPEN_WAKA:H++,SGML_DECL:H++,SGML_DECL_QUOTED:H++,DOCTYPE:H++,DOCTYPE_QUOTED:H++,DOCTYPE_DTD:H++,DOCTYPE_DTD_QUOTED:H++,COMMENT_STARTING:H++,COMMENT:H++,COMMENT_ENDING:H++,COMMENT_ENDED:H++,CDATA:H++,CDATA_ENDING:H++,CDATA_ENDING_2:H++,PROC_INST:H++,PROC_INST_BODY:H++,PROC_INST_ENDING:H++,OPEN_TAG:H++,OPEN_TAG_SLASH:H++,ATTRIB:H++,ATTRIB_NAME:H++,ATTRIB_NAME_SAW_WHITE:H++,ATTRIB_VALUE:H++,ATTRIB_VALUE_QUOTED:H++,ATTRIB_VALUE_CLOSED:H++,ATTRIB_VALUE_UNQUOTED:H++,ATTRIB_VALUE_ENTITY_Q:H++,ATTRIB_VALUE_ENTITY_U:H++,CLOSE_TAG:H++,CLOSE_TAG_SAW_WHITE:H++,SCRIPT:H++,SCRIPT_ENDING:H++},E.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},E.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(E.ENTITIES).forEach(function(K){var ie=E.ENTITIES[K],he="number"==typeof ie?String.fromCharCode(ie):ie;E.ENTITIES[K]=he}),E.STATE)E.STATE[E.STATE[me]]=me;function te(K,ie,he){K[ie]&&K[ie](he)}function ue(K,ie,he){K.textNode&&Se(K),te(K,ie,he)}function Se(K){K.textNode=Ie(K.opt,K.textNode),K.textNode&&te(K,"ontext",K.textNode),K.textNode=""}function Ie(K,ie){return K.trim&&(ie=ie.trim()),K.normalize&&(ie=ie.replace(/\s+/g," ")),ie}function le(K,ie){return Se(K),K.trackPosition&&(ie+="\nLine: "+K.line+"\nColumn: "+K.column+"\nChar: "+K.c),ie=new Error(ie),K.error=ie,te(K,"onerror",ie),K}function Me(K){return K.sawRoot&&!K.closedRoot&&we(K,"Unclosed root tag"),K.state!==H.BEGIN&&K.state!==H.BEGIN_WHITESPACE&&K.state!==H.TEXT&&le(K,"Unexpected end"),Se(K),K.c="",K.closed=!0,te(K,"onend"),b.call(K,K.strict,K.opt),K}function we(K,ie){if("object"!=typeof K||!(K instanceof b))throw new Error("bad call to strictFail");K.strict&&le(K,ie)}function _e(K){K.strict||(K.tagName=K.tagName[K.looseCase]());var ie=K.tags[K.tags.length-1]||K,he=K.tag={name:K.tagName,attributes:{}};K.opt.xmlns&&(he.ns=ie.ns),K.attribList.length=0,ue(K,"onopentagstart",he)}function Le(K,ie){var $=K.indexOf(":")<0?["",K]:K.split(":"),Z=$[0],W=$[1];return ie&&"xmlns"===K&&(Z="xmlns",W=""),{prefix:Z,local:W}}function Pe(K){if(K.strict||(K.attribName=K.attribName[K.looseCase]()),-1!==K.attribList.indexOf(K.attribName)||K.tag.attributes.hasOwnProperty(K.attribName))K.attribName=K.attribValue="";else{if(K.opt.xmlns){var ie=Le(K.attribName,!0),$=ie.local;if("xmlns"===ie.prefix)if("xml"===$&&K.attribValue!==w)we(K,"xml: prefix must be bound to "+w+"\nActual: "+K.attribValue);else if("xmlns"===$&&K.attribValue!==T)we(K,"xmlns: prefix must be bound to "+T+"\nActual: "+K.attribValue);else{var Z=K.tag,W=K.tags[K.tags.length-1]||K;Z.ns===W.ns&&(Z.ns=Object.create(W.ns)),Z.ns[$]=K.attribValue}K.attribList.push([K.attribName,K.attribValue])}else K.tag.attributes[K.attribName]=K.attribValue,ue(K,"onattribute",{name:K.attribName,value:K.attribValue});K.attribName=K.attribValue=""}}function Oe(K,ie){if(K.opt.xmlns){var he=K.tag,$=Le(K.tagName);he.prefix=$.prefix,he.local=$.local,he.uri=he.ns[$.prefix]||"",he.prefix&&!he.uri&&(we(K,"Unbound namespace prefix: "+JSON.stringify(K.tagName)),he.uri=$.prefix),he.ns&&(K.tags[K.tags.length-1]||K).ns!==he.ns&&Object.keys(he.ns).forEach(function(Be){ue(K,"onopennamespace",{prefix:Be,uri:he.ns[Be]})});for(var W=0,X=K.attribList.length;W<X;W++){var Q=K.attribList[W],q=Q[0],J=Q[1],de=Le(q,!0),pe=de.prefix,Ce=""===pe?"":he.ns[pe]||"",Ye={name:q,value:J,prefix:pe,local:de.local,uri:Ce};pe&&"xmlns"!==pe&&!Ce&&(we(K,"Unbound namespace prefix: "+JSON.stringify(pe)),Ye.uri=pe),K.tag.attributes[q]=Ye,ue(K,"onattribute",Ye)}K.attribList.length=0}K.tag.isSelfClosing=!!ie,K.sawRoot=!0,K.tags.push(K.tag),ue(K,"onopentag",K.tag),ie||(K.state=K.noscript||"script"!==K.tagName.toLowerCase()?H.TEXT:H.SCRIPT,K.tag=null,K.tagName=""),K.attribName=K.attribValue="",K.attribList.length=0}function Ue(K){if(!K.tagName)return we(K,"Weird empty close tag."),K.textNode+="</>",void(K.state=H.TEXT);if(K.script){if("script"!==K.tagName)return K.script+="</"+K.tagName+">",K.tagName="",void(K.state=H.SCRIPT);ue(K,"onscript",K.script),K.script=""}var ie=K.tags.length,he=K.tagName;K.strict||(he=he[K.looseCase]());for(var $=he;ie--&&K.tags[ie].name!==$;)we(K,"Unexpected close tag");if(ie<0)return we(K,"Unmatched closing tag: "+K.tagName),K.textNode+="</"+K.tagName+">",void(K.state=H.TEXT);K.tagName=he;for(var W=K.tags.length;W-- >ie;){var X=K.tag=K.tags.pop();K.tagName=K.tag.name,ue(K,"onclosetag",K.tagName);var Q={};for(var q in X.ns)Q[q]=X.ns[q];K.opt.xmlns&&X.ns!==(K.tags[K.tags.length-1]||K).ns&&Object.keys(X.ns).forEach(function(de){ue(K,"onclosenamespace",{prefix:de,uri:X.ns[de]})})}0===ie&&(K.closedRoot=!0),K.tagName=K.attribValue=K.attribName="",K.attribList.length=0,K.state=H.TEXT}function ze(K){var $,ie=K.entity,he=ie.toLowerCase(),Z="";return K.ENTITIES[ie]?K.ENTITIES[ie]:K.ENTITIES[he]?K.ENTITIES[he]:("#"===(ie=he).charAt(0)&&("x"===ie.charAt(1)?(ie=ie.slice(2),Z=($=parseInt(ie,16)).toString(16)):(ie=ie.slice(1),Z=($=parseInt(ie,10)).toString(10))),ie=ie.replace(/^0+/,""),Z.toLowerCase()!==ie?(we(K,"Invalid character entity"),"&"+K.entity+";"):String.fromCodePoint($))}function He(K,ie){"<"===ie?(K.state=H.OPEN_WAKA,K.startTagPosition=K.position):oe(A,ie)&&(we(K,"Non-whitespace before first tag."),K.textNode=ie,K.state=H.TEXT)}function Ae(K,ie){var he="";return ie<K.length&&(he=K.charAt(ie)),he}H=E.STATE,String.fromCodePoint||(K=String.fromCharCode,ie=Math.floor,he=function(){var Z=[],Q=-1,q=arguments.length;if(!q)return"";for(var J="";++Q<q;){var de=Number(arguments[Q]);if(!isFinite(de)||de<0||de>1114111||ie(de)!==de)throw RangeError("Invalid code point: "+de);de<=65535?Z.push(de):Z.push(55296+((de-=65536)>>10),de%1024+56320),(Q+1===q||Z.length>16384)&&(J+=K.apply(null,Z),Z.length=0)}return J},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:he,configurable:!0,writable:!0}):String.fromCodePoint=he)}(x)}).call(this,c(
/*! ./../../buffer/index.js */
"./node_modules/buffer/index.js").Buffer)},"./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
                  !*** ./node_modules/setimmediate/setImmediate.js ***!
                  \***************************************************/
/*! no static exports found */function(qe,x,c){(function(t,E){!function(O,b){"use strict";if(!O.setImmediate){var h,F=1,L={},D=!1,m=O.document,T=Object.getPrototypeOf&&Object.getPrototypeOf(O);T=T&&T.setTimeout?T:O,"[object process]"==={}.toString.call(O.process)?function P(){h=function(N){E.nextTick(function(){U(N)})}}():function V(){if(O.postMessage&&!O.importScripts){var N=!0,S=O.onmessage;return O.onmessage=function(){N=!1},O.postMessage("","*"),O.onmessage=S,N}}()?function k(){var N="setImmediate$"+Math.random()+"$",S=function(B){B.source===O&&"string"==typeof B.data&&0===B.data.indexOf(N)&&U(+B.data.slice(N.length))};O.addEventListener?O.addEventListener("message",S,!1):O.attachEvent("onmessage",S),h=function(B){O.postMessage(N+B,"*")}}():O.MessageChannel?function R(){var N=new MessageChannel;N.port1.onmessage=function(S){U(S.data)},h=function(S){N.port2.postMessage(S)}}():m&&"onreadystatechange"in m.createElement("script")?function C(){var N=m.documentElement;h=function(S){var B=m.createElement("script");B.onreadystatechange=function(){U(S),B.onreadystatechange=null,N.removeChild(B),B=null},N.appendChild(B)}}():function w(){h=function(N){setTimeout(U,0,N)}}(),T.setImmediate=function g(N){"function"!=typeof N&&(N=new Function(""+N));for(var S=new Array(arguments.length-1),B=0;B<S.length;B++)S[B]=arguments[B+1];return L[F]={callback:N,args:S},h(F),F++},T.clearImmediate=v}function v(N){delete L[N]}function U(N){if(D)setTimeout(U,0,N);else{var S=L[N];if(S){D=!0;try{!function A(N){var S=N.callback,B=N.args;switch(B.length){case 0:S();break;case 1:S(B[0]);break;case 2:S(B[0],B[1]);break;case 3:S(B[0],B[1],B[2]);break;default:S.apply(b,B)}}(S)}finally{v(N),D=!1}}}}}(typeof self>"u"?typeof t>"u"?this:t:self)}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),c(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/stream-browserify/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/stream-browserify/index.js ***!
                  \*************************************************/
/*! no static exports found */function(qe,x,c){qe.exports=O;var t=c(
/*! events */
"./node_modules/events/events.js").EventEmitter;function O(){t.call(this)}c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js")(O,t),O.Readable=c(
/*! readable-stream/readable.js */
"./node_modules/readable-stream/readable-browser.js"),O.Writable=c(
/*! readable-stream/writable.js */
"./node_modules/readable-stream/writable-browser.js"),O.Duplex=c(
/*! readable-stream/duplex.js */
"./node_modules/readable-stream/duplex-browser.js"),O.Transform=c(
/*! readable-stream/transform.js */
"./node_modules/readable-stream/transform.js"),O.PassThrough=c(
/*! readable-stream/passthrough.js */
"./node_modules/readable-stream/passthrough.js"),O.Stream=O,O.prototype.pipe=function(b,F){var L=this;function D(P){b.writable&&!1===b.write(P)&&L.pause&&L.pause()}function m(){L.readable&&L.resume&&L.resume()}L.on("data",D),b.on("drain",m),!b._isStdio&&(!F||!1!==F.end)&&(L.on("end",g),L.on("close",v));var h=!1;function g(){h||(h=!0,b.end())}function v(){h||(h=!0,"function"==typeof b.destroy&&b.destroy())}function A(P){if(U(),0===t.listenerCount(this,"error"))throw P}function U(){L.removeListener("data",D),b.removeListener("drain",m),L.removeListener("end",g),L.removeListener("close",v),L.removeListener("error",A),b.removeListener("error",A),L.removeListener("end",U),L.removeListener("close",U),b.removeListener("close",U)}return L.on("error",A),b.on("error",A),L.on("end",U),L.on("close",U),b.on("close",U),b.emit("pipe",L),b}},"./node_modules/string_decoder/lib/string_decoder.js":
/*!***********************************************************!*\
                  !*** ./node_modules/string_decoder/lib/string_decoder.js ***!
                  \***********************************************************/
/*! no static exports found */function(qe,x,c){"use strict";var t=c(
/*! safe-buffer */
"./node_modules/safe-buffer/index.js").Buffer,E=t.isEncoding||function(C){switch((C=""+C)&&C.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function F(C){var w;switch(this.encoding=function b(C){var w=function O(C){if(!C)return"utf8";for(var w;;)switch(C){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return C;default:if(w)return;C=(""+C).toLowerCase(),w=!0}}(C);if("string"!=typeof w&&(t.isEncoding===E||!E(C)))throw new Error("Unknown encoding: "+C);return w||C}(C),this.encoding){case"utf16le":this.text=A,this.end=U,w=4;break;case"utf8":this.fillLast=h,w=4;break;case"base64":this.text=P,this.end=V,w=3;break;default:return this.write=k,void(this.end=R)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(w)}function L(C){return C<=127?0:C>>5==6?2:C>>4==14?3:C>>3==30?4:C>>6==2?-1:-2}function h(C){var w=this.lastTotal-this.lastNeed,T=function m(C,w,T){if(128!=(192&w[0]))return C.lastNeed=0,"\ufffd";if(C.lastNeed>1&&w.length>1){if(128!=(192&w[1]))return C.lastNeed=1,"\ufffd";if(C.lastNeed>2&&w.length>2&&128!=(192&w[2]))return C.lastNeed=2,"\ufffd"}}(this,C);return void 0!==T?T:this.lastNeed<=C.length?(C.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(C.copy(this.lastChar,w,0,C.length),void(this.lastNeed-=C.length))}function A(C,w){if((C.length-w)%2==0){var T=C.toString("utf16le",w);if(T){var N=T.charCodeAt(T.length-1);if(N>=55296&&N<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1],T.slice(0,-1)}return T}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=C[C.length-1],C.toString("utf16le",w,C.length-1)}function U(C){var w=C&&C.length?this.write(C):"";return this.lastNeed?w+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):w}function P(C,w){var T=(C.length-w)%3;return 0===T?C.toString("base64",w):(this.lastNeed=3-T,this.lastTotal=3,1===T?this.lastChar[0]=C[C.length-1]:(this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1]),C.toString("base64",w,C.length-T))}function V(C){var w=C&&C.length?this.write(C):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function k(C){return C.toString(this.encoding)}function R(C){return C&&C.length?this.write(C):""}x.StringDecoder=F,F.prototype.write=function(C){if(0===C.length)return"";var w,T;if(this.lastNeed){if(void 0===(w=this.fillLast(C)))return"";T=this.lastNeed,this.lastNeed=0}else T=0;return T<C.length?w?w+this.text(C,T):this.text(C,T):w||""},F.prototype.end=function v(C){var w=C&&C.length?this.write(C):"";return this.lastNeed?w+"\ufffd":w},F.prototype.text=function g(C,w){var T=function D(C,w,T){var N=w.length-1;if(N<T)return 0;var S=L(w[N]);return S>=0?(S>0&&(C.lastNeed=S-1),S):--N<T||-2===S?0:(S=L(w[N]))>=0?(S>0&&(C.lastNeed=S-2),S):--N<T||-2===S?0:(S=L(w[N]))>=0?(S>0&&(2===S?S=0:C.lastNeed=S-3),S):0}(this,C,w);if(!this.lastNeed)return C.toString("utf8",w);this.lastTotal=T;var N=C.length-(T-this.lastNeed);return C.copy(this.lastChar,0,N),C.toString("utf8",w,N)},F.prototype.fillLast=function(C){if(this.lastNeed<=C.length)return C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,C.length),this.lastNeed-=C.length}},"./node_modules/timers-browserify/main.js":
/*!************************************************!*\
                  !*** ./node_modules/timers-browserify/main.js ***!
                  \************************************************/
/*! no static exports found */function(qe,x,c){(function(t){var E=typeof t<"u"&&t||typeof self<"u"&&self||window,O=Function.prototype.apply;function b(F,L){this._id=F,this._clearFn=L}x.setTimeout=function(){return new b(O.call(setTimeout,E,arguments),clearTimeout)},x.setInterval=function(){return new b(O.call(setInterval,E,arguments),clearInterval)},x.clearTimeout=x.clearInterval=function(F){F&&F.close()},b.prototype.unref=b.prototype.ref=function(){},b.prototype.close=function(){this._clearFn.call(E,this._id)},x.enroll=function(F,L){clearTimeout(F._idleTimeoutId),F._idleTimeout=L},x.unenroll=function(F){clearTimeout(F._idleTimeoutId),F._idleTimeout=-1},x._unrefActive=x.active=function(F){clearTimeout(F._idleTimeoutId);var L=F._idleTimeout;L>=0&&(F._idleTimeoutId=setTimeout(function(){F._onTimeout&&F._onTimeout()},L))},c(
/*! setimmediate */
"./node_modules/setimmediate/setImmediate.js"),x.setImmediate=typeof self<"u"&&self.setImmediate||typeof t<"u"&&t.setImmediate||this&&this.setImmediate,x.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof t<"u"&&t.clearImmediate||this&&this.clearImmediate}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/ua-parser-js/src/ua-parser.js":
/*!****************************************************!*\
                  !*** ./node_modules/ua-parser-js/src/ua-parser.js ***!
                  \****************************************************/
/*! no static exports found */function(qe,x,c){var t;!function(E,O){"use strict";var D="function",m="undefined",h="object",g="string",A="model",U="name",P="type",V="vendor",k="version",R="architecture",C="console",w="mobile",T="tablet",N="smarttv",S="wearable",B="embedded",re="Amazon",ae="Apple",z="BlackBerry",oe="Browser",H="Chrome",te="Firefox",ue="Google",le="Microsoft",Me="Motorola",we="Opera",_e="Samsung",Pe="Sony",Oe="Xiaomi",Ue="Zebra",ze="Facebook",Ae=function(pe){for(var ce={},Ce=0;Ce<pe.length;Ce++)ce[pe[Ce].toUpperCase()]=pe[Ce];return ce},ye=function(pe,ce){return typeof pe===g&&-1!==K(ce).indexOf(K(pe))},K=function(pe){return pe.toLowerCase()},he=function(pe,ce){if(typeof pe===g)return pe=pe.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof ce===m?pe:pe.substring(0,350)},$=function(pe,ce){for(var Ye,Be,Ze,Qe,$e,ct,Ce=0;Ce<ce.length&&!$e;){var It=ce[Ce],_t=ce[Ce+1];for(Ye=Be=0;Ye<It.length&&!$e;)if($e=It[Ye++].exec(pe))for(Ze=0;Ze<_t.length;Ze++)ct=$e[++Be],typeof(Qe=_t[Ze])===h&&Qe.length>0?2===Qe.length?this[Qe[0]]=typeof Qe[1]==D?Qe[1].call(this,ct):Qe[1]:3===Qe.length?this[Qe[0]]=typeof Qe[1]!==D||Qe[1].exec&&Qe[1].test?ct?ct.replace(Qe[1],Qe[2]):O:ct?Qe[1].call(this,ct,Qe[2]):O:4===Qe.length&&(this[Qe[0]]=ct?Qe[3].call(this,ct.replace(Qe[1],Qe[2])):O):this[Qe]=ct||O;Ce+=2}},Z=function(pe,ce){for(var Ce in ce)if(typeof ce[Ce]===h&&ce[Ce].length>0){for(var Ye=0;Ye<ce[Ce].length;Ye++)if(ye(ce[Ce][Ye],pe))return"?"===Ce?O:Ce}else if(ye(ce[Ce],pe))return"?"===Ce?O:Ce;return pe},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[k,[U,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[k,[U,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[U,k],[/opios[\/ ]+([\w\.]+)/i],[k,[U,we+" Mini"]],[/\bopr\/([\w\.]+)/i],[k,[U,we]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[U,k],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[k,[U,"UC"+oe]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[k,[U,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[k,[U,"WeChat"]],[/konqueror\/([\w\.]+)/i],[k,[U,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[k,[U,"IE"]],[/yabrowser\/([\w\.]+)/i],[k,[U,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[U,/(.+)/,"$1 Secure "+oe],k],[/\bfocus\/([\w\.]+)/i],[k,[U,te+" Focus"]],[/\bopt\/([\w\.]+)/i],[k,[U,we+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[k,[U,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[k,[U,"Dolphin"]],[/coast\/([\w\.]+)/i],[k,[U,we+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[k,[U,"MIUI "+oe]],[/fxios\/([-\w\.]+)/i],[k,[U,te]],[/\bqihu|(qi?ho?o?|360)browser/i],[[U,"360 "+oe]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[U,/(.+)/,"$1 "+oe],k],[/(comodo_dragon)\/([\w\.]+)/i],[[U,/_/g," "],k],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[U,k],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[U],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[U,ze],k],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[U,k],[/\bgsa\/([\w\.]+) .*safari\//i],[k,[U,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[k,[U,H+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[U,H+" WebView"],k],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[k,[U,"Android "+oe]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[U,k],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[k,[U,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[k,U],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[U,[k,Z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[U,k],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[U,"Netscape"],k],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[k,[U,te+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[U,k]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[R,"amd64"]],[/(ia32(?=;))/i],[[R,K]],[/((?:i[346]|x)86)[;\)]/i],[[R,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[R,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[R,"armhf"]],[/windows (ce|mobile); ppc;/i],[[R,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[R,/ower/,"",K]],[/(sun4\w)[;\)]/i],[[R,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[R,K]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[A,[V,_e],[P,T]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[A,[V,_e],[P,w]],[/\((ip(?:hone|od)[\w ]*);/i],[A,[V,ae],[P,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[A,[V,ae],[P,T]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[A,[V,"Huawei"],[P,T]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[A,[V,"Huawei"],[P,w]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[A,/_/g," "],[V,Oe],[P,w]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[A,/_/g," "],[V,Oe],[P,T]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[A,[V,"OPPO"],[P,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[A,[V,"Vivo"],[P,w]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[A,[V,"Realme"],[P,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[A,[V,Me],[P,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[A,[V,Me],[P,T]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[A,[V,"LG"],[P,T]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[A,[V,"LG"],[P,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[A,[V,"Lenovo"],[P,T]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[A,/_/g," "],[V,"Nokia"],[P,w]],[/(pixel c)\b/i],[A,[V,ue],[P,T]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[A,[V,ue],[P,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[A,[V,Pe],[P,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[A,"Xperia Tablet"],[V,Pe],[P,T]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[A,[V,"OnePlus"],[P,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[A,[V,re],[P,T]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[A,/(.+)/g,"Fire Phone $1"],[V,re],[P,w]],[/(playbook);[-\w\),; ]+(rim)/i],[A,V,[P,T]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[A,[V,z],[P,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[A,[V,"ASUS"],[P,T]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[A,[V,"ASUS"],[P,w]],[/(nexus 9)/i],[A,[V,"HTC"],[P,T]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[V,[A,/_/g," "],[P,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[A,[V,"Acer"],[P,T]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[A,[V,"Meizu"],[P,w]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[A,[V,"Sharp"],[P,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[V,A,[P,w]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[V,A,[P,T]],[/(surface duo)/i],[A,[V,le],[P,T]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[A,[V,"Fairphone"],[P,w]],[/(u304aa)/i],[A,[V,"AT&T"],[P,w]],[/\bsie-(\w*)/i],[A,[V,"Siemens"],[P,w]],[/\b(rct\w+) b/i],[A,[V,"RCA"],[P,T]],[/\b(venue[\d ]{2,7}) b/i],[A,[V,"Dell"],[P,T]],[/\b(q(?:mv|ta)\w+) b/i],[A,[V,"Verizon"],[P,T]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[A,[V,"Barnes & Noble"],[P,T]],[/\b(tm\d{3}\w+) b/i],[A,[V,"NuVision"],[P,T]],[/\b(k88) b/i],[A,[V,"ZTE"],[P,T]],[/\b(nx\d{3}j) b/i],[A,[V,"ZTE"],[P,w]],[/\b(gen\d{3}) b.+49h/i],[A,[V,"Swiss"],[P,w]],[/\b(zur\d{3}) b/i],[A,[V,"Swiss"],[P,T]],[/\b((zeki)?tb.*\b) b/i],[A,[V,"Zeki"],[P,T]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[V,"Dragon Touch"],A,[P,T]],[/\b(ns-?\w{0,9}) b/i],[A,[V,"Insignia"],[P,T]],[/\b((nxa|next)-?\w{0,9}) b/i],[A,[V,"NextBook"],[P,T]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[V,"Voice"],A,[P,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[V,"LvTel"],A,[P,w]],[/\b(ph-1) /i],[A,[V,"Essential"],[P,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[A,[V,"Envizen"],[P,T]],[/\b(trio[-\w\. ]+) b/i],[A,[V,"MachSpeed"],[P,T]],[/\btu_(1491) b/i],[A,[V,"Rotor"],[P,T]],[/(shield[\w ]+) b/i],[A,[V,"Nvidia"],[P,T]],[/(sprint) (\w+)/i],[V,A,[P,w]],[/(kin\.[onetw]{3})/i],[[A,/\./g," "],[V,le],[P,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[A,[V,Ue],[P,T]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[A,[V,Ue],[P,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[V,A,[P,C]],[/droid.+; (shield) bui/i],[A,[V,"Nvidia"],[P,C]],[/(playstation [345portablevi]+)/i],[A,[V,Pe],[P,C]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[A,[V,le],[P,C]],[/smart-tv.+(samsung)/i],[V,[P,N]],[/hbbtv.+maple;(\d+)/i],[[A,/^/,"SmartTV"],[V,_e],[P,N]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[V,"LG"],[P,N]],[/(apple) ?tv/i],[V,[A,ae+" TV"],[P,N]],[/crkey/i],[[A,H+"cast"],[V,ue],[P,N]],[/droid.+aft(\w)( bui|\))/i],[A,[V,re],[P,N]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[A,[V,"Sharp"],[P,N]],[/(bravia[\w ]+)( bui|\))/i],[A,[V,Pe],[P,N]],[/(mitv-\w{5}) bui/i],[A,[V,Oe],[P,N]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[V,he],[A,he],[P,N]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[P,N]],[/((pebble))app/i],[V,A,[P,S]],[/droid.+; (glass) \d/i],[A,[V,ue],[P,S]],[/droid.+; (wt63?0{2,3})\)/i],[A,[V,Ue],[P,S]],[/(quest( 2)?)/i],[A,[V,ze],[P,S]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[V,[P,B]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[A,[P,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[A,[P,T]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[P,T]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[P,w]],[/(android[-\w\. ]{0,9});.+buil/i],[A,[V,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[k,[U,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[k,[U,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[U,k],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[k,U]],os:[[/microsoft (windows) (vista|xp)/i],[U,k],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[U,[k,Z,X]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[U,"Windows"],[k,Z,X]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[k,/_/g,"."],[U,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[U,"Mac OS"],[k,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[k,U],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[U,k],[/\(bb(10);/i],[k,[U,z]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[k,[U,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[k,[U,te+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[k,[U,"webOS"]],[/crkey\/([\d\.]+)/i],[k,[U,H+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[U,"Chromium OS"],k],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[U,k],[/(sunos) ?([\w\.\d]*)/i],[[U,"Solaris"],k],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[U,k]]},q=function(pe,ce){if(typeof pe===h&&(ce=pe,pe=O),!(this instanceof q))return new q(pe,ce).getResult();var Ce=pe||(typeof E!==m&&E.navigator&&E.navigator.userAgent?E.navigator.userAgent:""),Ye=ce?function(pe,ce){var Ce={};for(var Ye in pe)Ce[Ye]=ce[Ye]&&ce[Ye].length%2==0?ce[Ye].concat(pe[Ye]):pe[Ye];return Ce}(Q,ce):Q;return this.getBrowser=function(){var Be={};return Be[U]=O,Be[k]=O,$.call(Be,Ce,Ye.browser),Be.major=function(pe){return typeof pe===g?pe.replace(/[^\d\.]/g,"").split(".")[0]:O}(Be.version),Be},this.getCPU=function(){var Be={};return Be[R]=O,$.call(Be,Ce,Ye.cpu),Be},this.getDevice=function(){var Be={};return Be[V]=O,Be[A]=O,Be[P]=O,$.call(Be,Ce,Ye.device),Be},this.getEngine=function(){var Be={};return Be[U]=O,Be[k]=O,$.call(Be,Ce,Ye.engine),Be},this.getOS=function(){var Be={};return Be[U]=O,Be[k]=O,$.call(Be,Ce,Ye.os),Be},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ce},this.setUA=function(Be){return Ce=typeof Be===g&&Be.length>350?he(Be,350):Be,this},this.setUA(Ce),this};q.VERSION="1.0.32",q.BROWSER=Ae([U,k,"major"]),q.CPU=Ae([R]),q.DEVICE=Ae([A,V,P,C,w,N,T,S,B]),q.ENGINE=q.OS=Ae([U,k]),typeof x!==m?(typeof qe!==m&&qe.exports&&(x=qe.exports=q),x.UAParser=q):c(
/*! !webpack amd options */
"./node_modules/webpack/buildin/amd-options.js")?(t=function(){return q}.call(x,c,x,qe))!==O&&(qe.exports=t):typeof E!==m&&(E.UAParser=q);var J=typeof E!==m&&(E.jQuery||E.Zepto);if(J&&!J.ua){var de=new q;J.ua=de.getResult(),J.ua.get=function(){return de.getUA()},J.ua.set=function(pe){de.setUA(pe);var ce=de.getResult();for(var Ce in ce)J.ua[Ce]=ce[Ce]}}}("object"==typeof window?window:this)},"./node_modules/util-deprecate/browser.js":
/*!************************************************!*\
                  !*** ./node_modules/util-deprecate/browser.js ***!
                  \************************************************/
/*! no static exports found */function(qe,x,c){(function(t){function O(b){try{if(!t.localStorage)return!1}catch{return!1}var F=t.localStorage[b];return null!=F&&"true"===String(F).toLowerCase()}qe.exports=function E(b,F){if(O("noDeprecation"))return b;var L=!1;return function D(){if(!L){if(O("throwDeprecation"))throw new Error(F);O("traceDeprecation")?console.trace(F):console.warn(F),L=!0}return b.apply(this,arguments)}}}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/amd-options.js":
/*!****************************************!*\
                  !*** (webpack)/buildin/amd-options.js ***!
                  \****************************************/
/*! no static exports found */function(qe,x){(function(c){qe.exports=c}).call(this,{})},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
                  !*** (webpack)/buildin/global.js ***!
                  \***********************************/
/*! no static exports found */function(qe,x){var c;c=function(){return this}();try{c=c||new Function("return this")()}catch{"object"==typeof window&&(c=window)}qe.exports=c},"./src/core/Debug.js":
/*!***************************!*\
                  !*** ./src/core/Debug.js ***!
                  \***************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./EventBus */
"./src/core/EventBus.js"),E=c(
/*! ./events/Events */
"./src/core/events/Events.js"),O=c(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),F=1,L=2,D=3,m=4,h=5;function g(A){A=A||{};var R,C,w,T,U=this.context,P=Object(t.default)(U).getInstance(),V=A.settings,k=[];function S(te){return te&&te.bind?te.bind(window.console):window.console.log.bind(window.console)}function ae(){for(var te=arguments.length,ue=new Array(te),Se=0;Se<te;Se++)ue[Se]=arguments[Se];me.apply(void 0,[F,this].concat(ue))}function Re(){for(var te=arguments.length,ue=new Array(te),Se=0;Se<te;Se++)ue[Se]=arguments[Se];me.apply(void 0,[L,this].concat(ue))}function z(){for(var te=arguments.length,ue=new Array(te),Se=0;Se<te;Se++)ue[Se]=arguments[Se];me.apply(void 0,[D,this].concat(ue))}function oe(){for(var te=arguments.length,ue=new Array(te),Se=0;Se<te;Se++)ue[Se]=arguments[Se];me.apply(void 0,[m,this].concat(ue))}function H(){for(var te=arguments.length,ue=new Array(te),Se=0;Se<te;Se++)ue[Se]=arguments[Se];me.apply(void 0,[h,this].concat(ue))}function me(te,ue){var Se="",Ie=null;C&&(Ie=(new Date).getTime(),Se+="["+(Ie-T)+"]"),w&&ue&&ue.getClassName&&(Se+="["+ue.getClassName()+"]",ue.getType&&(Se+="["+ue.getType()+"]")),Se.length>0&&(Se+=" ");for(var le=arguments.length,Me=new Array(le>2?le-2:0),we=2;we<le;we++)Me[we-2]=arguments[we];Array.apply(null,Me).forEach(function(_e){Se+=_e+" "}),k[te]&&V.get().debug.logLevel>=te&&k[te](Se),V&&V.get().debug.dispatchEvent&&P.trigger(E.default.LOG,{message:Se,level:te})}return R={getLogger:function B(te){return{fatal:ae.bind(te),error:Re.bind(te),warn:z.bind(te),info:oe.bind(te),debug:H.bind(te)}},setLogTimestampVisible:function Y(te){C=te},setCalleeNameVisible:function re(te){w=te}},function N(){C=!0,w=!0,T=(new Date).getTime(),typeof window<"u"&&window.console&&(k[F]=S(window.console.error),k[L]=S(window.console.error),k[D]=S(window.console.warn),k[m]=S(window.console.info),k[h]=S(window.console.debug))}(),R}g.__dashjs_factory_name="Debug";var v=O.default.getSingletonFactory(g);v.LOG_LEVEL_NONE=0,v.LOG_LEVEL_FATAL=F,v.LOG_LEVEL_ERROR=L,v.LOG_LEVEL_WARNING=D,v.LOG_LEVEL_INFO=m,v.LOG_LEVEL_DEBUG=h,O.default.updateSingletonFactory(g.__dashjs_factory_name,v),x.default=v},"./src/core/EventBus.js":
/*!******************************!*\
                  !*** ./src/core/EventBus.js ***!
                  \******************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function F(){var D={};function v(P,V,k){var R=-1;return D[P]&&D[P].some(function(C,w){if(C&&C.callback===V&&(!k||k===C.scope))return R=w,!0}),R}return{on:function m(P,V,k){var R=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!P)throw new Error("event type cannot be null or undefined");if(!V||"function"!=typeof V)throw new Error("listener must be a function: "+V);var C=R.priority||0;if(!(v(P,V,k)>=0)){D[P]=D[P]||[];var w={callback:V,scope:k,priority:C};k&&k.getStreamId&&(w.streamId=k.getStreamId()),k&&k.getType&&(w.mediaType=k.getType()),R&&R.mode&&(w.mode=R.mode),D[P].some(function(N,S){if(N&&C>N.priority)return D[P].splice(S,0,w),!0})||D[P].push(w)}},off:function h(P,V,k){if(P&&V&&D[P]){var R=v(P,V,k);R<0||(D[P][R]=null)}},trigger:function g(P){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(P&&D[P]){if((V=V||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");V.type=P,k.streamId&&(V.streamId=k.streamId),k.mediaType&&(V.mediaType=k.mediaType),D[P].filter(function(R){return!(!R||k.streamId&&R.streamId&&R.streamId!==k.streamId||k.mediaType&&R.mediaType&&R.mediaType!==k.mediaType||k.mode&&R.mode&&R.mode!==k.mode||!R.mode&&k.mode&&k.mode===E.default.EVENT_MODE_ON_RECEIVE)}).forEach(function(R){return R&&R.callback.call(R.scope,V)})}},reset:function A(){D={}}}}F.__dashjs_factory_name="EventBus";var L=t.default.getSingletonFactory(F);L.EVENT_PRIORITY_LOW=0,L.EVENT_PRIORITY_HIGH=5e3,t.default.updateSingletonFactory(F.__dashjs_factory_name,L),x.default=L},"./src/core/FactoryMaker.js":
/*!**********************************!*\
                  !*** ./src/core/FactoryMaker.js ***!
                  \**********************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=function(){var E,O=[],b={},F={};function D(w,T){for(var N in O){var S=O[N];if(S.context===w&&S.name===T)return S.instance}return null}function g(w,T){return T[w]}function v(w,T,N){w in N&&(N[w]=T)}function C(w,T,N){var S,B=w.__dashjs_factory_name,Y=T[B];if(Y){var re=Y.instance;if(!Y.override)return re.apply({context:T,factory:E},N);for(var ae in S=w.apply({context:T},N),re=re.apply({context:T,factory:E,parent:S},N))S.hasOwnProperty(ae)&&(S[ae]=re[ae])}else S=w.apply({context:T},N);return S.getClassName=function(){return B},S}return E={extend:function L(w,T,N,S){!S[w]&&T&&(S[w]={instance:T,override:N})},getSingletonInstance:D,setSingletonInstance:function m(w,T,N){for(var S in O){var B=O[S];if(B.context===w&&B.name===T)return void(O[S].instance=N)}O.push({name:T,context:w,instance:N})},deleteSingletonInstances:function h(w){O=O.filter(function(T){return T.context!==w})},getSingletonFactory:function R(w){var T=g(w.__dashjs_factory_name,b);return T||(T=function(S){var B;return void 0===S&&(S={}),{getInstance:function(){return B||(B=D(S,w.__dashjs_factory_name)),B||(B=C(w,S,arguments),O.push({name:w.__dashjs_factory_name,context:S,instance:B})),B}}},b[w.__dashjs_factory_name]=T),T},getSingletonFactoryByName:function k(w){return g(w,b)},updateSingletonFactory:function V(w,T){v(w,T,b)},getClassFactory:function P(w){var T=g(w.__dashjs_factory_name,F);return T||(T=function(S){return void 0===S&&(S={}),{create:function(){return C(w,S,arguments)}}},F[w.__dashjs_factory_name]=T),T},getClassFactoryByName:function U(w){return g(w,F)},updateClassFactory:function A(w,T){v(w,T,F)}}}();x.default=t},"./src/core/Settings.js":
/*!******************************!*\
                  !*** ./src/core/Settings.js ***!
                  \******************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ./Utils.js */
"./src/core/Utils.js"),O=c(
/*! ../core/Debug */
"./src/core/Debug.js"),b=c(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),F=c(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),L=c(
/*! ./EventBus */
"./src/core/EventBus.js"),D=c(
/*! ./events/Events */
"./src/core/events/Events.js");function m(P){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(V){return typeof V}:function(V){return V&&"function"==typeof Symbol&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V})(P)}function h(P,V,k){return(V=function g(P){var V=function v(P,V){if("object"!==m(P)||null===P)return P;var k=P[Symbol.toPrimitive];if(void 0!==k){var R=k.call(P,V||"default");if("object"!==m(R))return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===V?String:Number)(P)}(P,"string");return"symbol"===m(V)?V:String(V)}(V))in P?Object.defineProperty(P,V,{value:k,enumerable:!0,configurable:!0,writable:!0}):P[V]=k,P}function A(){var P,V,R=this.context,C=Object(L.default)(R).getInstance(),w={"streaming.delay.liveDelay":D.default.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":D.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":D.default.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":D.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":D.default.SETTING_UPDATED_PLAYBACK_RATE_MAX},T={debug:{logLevel:O.default.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:b.default.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:b.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:b.default.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:b.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,manifestRequestTimeout:1e4,retryIntervals:(P={},h(P,F.HTTPRequest.MPD_TYPE,500),h(P,F.HTTPRequest.XLINK_EXPANSION_TYPE,500),h(P,F.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),h(P,F.HTTPRequest.INIT_SEGMENT_TYPE,1e3),h(P,F.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),h(P,F.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),h(P,F.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),h(P,F.HTTPRequest.LICENSE,1e3),h(P,F.HTTPRequest.OTHER_TYPE,1e3),h(P,"lowLatencyReductionFactor",10),P),retryAttempts:(V={},h(V,F.HTTPRequest.MPD_TYPE,3),h(V,F.HTTPRequest.XLINK_EXPANSION_TYPE,1),h(V,F.HTTPRequest.MEDIA_SEGMENT_TYPE,3),h(V,F.HTTPRequest.INIT_SEGMENT_TYPE,3),h(V,F.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),h(V,F.HTTPRequest.INDEX_SEGMENT_TYPE,3),h(V,F.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),h(V,F.HTTPRequest.LICENSE,3),h(V,F.HTTPRequest.OTHER_TYPE,3),h(V,"lowLatencyMultiplyFactor",5),V),abr:{movingAverageMethod:b.default.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:b.default.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:b.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:b.default.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]}},errors:{recoverAttempts:{mediaErrorDecode:5}}},N=E.default.clone(T);function S(ae,Re,z){for(var oe in ae)ae.hasOwnProperty(oe)&&(Re.hasOwnProperty(oe)?"object"!==m(ae[oe])||ae[oe]instanceof Array||null===ae[oe]?(Re[oe]=E.default.clone(ae[oe]),w[z+oe]&&C.trigger(w[z+oe])):S(ae[oe],Re[oe],z.slice()+oe+"."):console.error("Settings parameter "+z+oe+" is not supported"))}return{get:function B(){return N},update:function Y(ae){"object"===m(ae)&&S(ae,N,"")},reset:function re(){N=E.default.clone(T)}}}A.__dashjs_factory_name="Settings";var U=t.default.getSingletonFactory(A);x.default=U},"./src/core/Utils.js":
/*!***************************!*\
                  !*** ./src/core/Utils.js ***!
                  \***************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! path-browserify */
"./node_modules/path-browserify/index.js"),E=c.n(t),O=c(
/*! ua-parser-js */
"./node_modules/ua-parser-js/src/ua-parser.js");function F(A){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"==typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(A)}function D(A,U){for(var P=0;P<U.length;P++){var V=U[P];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(A,h(V.key),V)}}function h(A){var U=function g(A,U){if("object"!==F(A)||null===A)return A;var P=A[Symbol.toPrimitive];if(void 0!==P){var V=P.call(A,U||"default");if("object"!==F(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===U?String:Number)(A)}(A,"string");return"symbol"===F(U)?U:String(U)}var v=function(){function A(){!function L(A,U){if(!(A instanceof U))throw new TypeError("Cannot call a class as a function")}(this,A)}return function m(A,U,P){return U&&D(A.prototype,U),P&&D(A,P),Object.defineProperty(A,"prototype",{writable:!1}),A}(A,null,[{key:"mixin",value:function(P,V,k){var R,C={};if(P)for(var w in V)V.hasOwnProperty(w)&&(R=V[w],(!(w in P)||P[w]!==R&&(!(w in C)||C[w]!==R))&&(P[w]="object"===F(P[w])&&null!==P[w]?A.mixin(P[w],R,k):k(R)));return P}},{key:"clone",value:function(P){if(!P||"object"!==F(P))return P;var V;if(P instanceof Array){V=[];for(var k=0,R=P.length;k<R;++k)k in P&&V.push(A.clone(P[k]))}else V={};return A.mixin(V,P,A.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(P,V){try{if(!V||0===V.length)return P;var k=new URL(P);return V.forEach(function(R){R.key&&R.value&&k.searchParams.set(R.key,R.value)}),k.href}catch{return P}}},{key:"parseHttpHeaders",value:function(P){var V={};if(!P)return V;for(var k=P.trim().split("\r\n"),R=0,C=k.length;R<C;R++){var w=k[R],T=w.indexOf(": ");T>0&&(V[w.substring(0,T)]=w.substring(T+2))}return V}},{key:"generateUuid",value:function(){var P=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(k){var R=(P+16*Math.random())%16|0;return P=Math.floor(P/16),("x"==k?R:3&R|8).toString(16)})}},{key:"generateHashCode",value:function(P){var V=0;if(0===P.length)return V;for(var k=0;k<P.length;k++)V=(V<<5)-V+P.charCodeAt(k),V|=0;return V}},{key:"getRelativeUrl",value:function(P,V){try{var k=new URL(P),R=new URL(V);if(k.protocol=R.protocol,k.origin!==R.origin)return V;var C=E.a.relative(k.pathname.substr(0,k.pathname.lastIndexOf("/")),R.pathname.substr(0,R.pathname.lastIndexOf("/"))),w=0===C.length?1:0;return C+=R.pathname.substr(R.pathname.lastIndexOf("/")+w,R.pathname.length-1),R.pathname.length<C.length?R.pathname:C}catch{return V}}},{key:"parseUserAgent",value:function(){var P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var V=null===P&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return Object(O.UAParser)(V)}catch{return{}}}}]),A}();x.default=v},"./src/core/Version.js":
/*!*****************************!*\
                  !*** ./src/core/Version.js ***!
                  \*****************************/
/*! exports provided: getVersionString */function(qe,x,c){"use strict";c.r(x),c.d(x,"getVersionString",function(){return E});var t="4.5.2";function E(){return t}},"./src/core/errors/Errors.js":
/*!***********************************!*\
                  !*** ./src/core/errors/Errors.js ***!
                  \***********************************/
/*! exports provided: default */function(qe,x,c){"use strict";function E(R){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(R)}function O(R,C){for(var w=0;w<C.length;w++){var T=C[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,F(T.key),T)}}function F(R){var C=function L(R,C){if("object"!==E(R)||null===R)return R;var w=R[Symbol.toPrimitive];if(void 0!==w){var T=w.call(R,C||"default");if("object"!==E(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(R)}(R,"string");return"symbol"===E(C)?C:String(C)}function m(R,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(C&&C.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),C&&h(R,C)}function h(R,C){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(R,C)}function g(R){var C=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=P(R);if(C){var S=P(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function v(R,C){if(C&&("object"===E(C)||"function"==typeof C))return C;if(void 0!==C)throw new TypeError("Derived constructors may only return object or undefined");return function A(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,N)}}function P(R){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(R)}c.r(x);var k=new(function(R){m(w,R);var C=g(w);function w(){var T;return function D(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")}(this,w),(T=C.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,T.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,T.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,T.SEGMENT_BASE_LOADER_ERROR_CODE=15,T.TIME_SYNC_FAILED_ERROR_CODE=16,T.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,T.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,T.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,T.APPEND_ERROR_CODE=20,T.REMOVE_ERROR_CODE=21,T.DATA_UPDATE_FAILED_ERROR_CODE=22,T.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,T.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,T.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,T.DOWNLOAD_ERROR_ID_SIDX_CODE=26,T.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,T.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,T.DOWNLOAD_ERROR_ID_XLINK_CODE=29,T.MANIFEST_ERROR_ID_PARSE_CODE=31,T.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,T.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,T.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,T.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,T.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",T.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",T.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",T.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",T.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",T.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",T.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",T.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",T.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",T.APPEND_ERROR_MESSAGE="chunk is not defined",T.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",T.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",T.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",T.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",T.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",T.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",T}return function b(R,C,w){return C&&O(R.prototype,C),w&&O(R,w),Object.defineProperty(R,"prototype",{writable:!1}),R}(w)}(c(
/*! ./ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));x.default=k},"./src/core/errors/ErrorsBase.js":
/*!***************************************!*\
                  !*** ./src/core/errors/ErrorsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function O(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,F(v.key),v)}}function F(m){var h=function L(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=function(){function m(){!function E(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}(this,m)}return function b(m,h,g){return h&&O(m.prototype,h),g&&O(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}(m,[{key:"extend",value:function(g,v){if(g){var A=!!v&&v.override,U=!!v&&v.publicOnly;for(var P in g)!g.hasOwnProperty(P)||this[P]&&!A||U&&-1===g[P].indexOf("public_")||(this[P]=g[P])}}}]),m}()},"./src/core/events/CoreEvents.js":
/*!***************************************!*\
                  !*** ./src/core/events/CoreEvents.js ***!
                  \***************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./EventsBase */
"./src/core/events/EventsBase.js");function E(k){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(k)}function O(k,R){for(var C=0;C<R.length;C++){var w=R[C];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(k,F(w.key),w)}}function F(k){var R=function L(k,R){if("object"!==E(k)||null===k)return k;var C=k[Symbol.toPrimitive];if(void 0!==C){var w=C.call(k,R||"default");if("object"!==E(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(k)}(k,"string");return"symbol"===E(R)?R:String(R)}function m(k,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(R&&R.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),R&&h(k,R)}function h(k,R){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,T){return w.__proto__=T,w})(k,R)}function g(k){var R=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,w=P(k);if(R){var N=P(this).constructor;T=Reflect.construct(w,arguments,N)}else T=w.apply(this,arguments);return function v(k,R){if(R&&("object"===E(R)||"function"==typeof R))return R;if(void 0!==R)throw new TypeError("Derived constructors may only return object or undefined");return function A(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(this,T)}}function P(k){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)})(k)}x.default=function(k){m(C,k);var R=g(C);function C(){var w;return function D(k,R){if(!(k instanceof R))throw new TypeError("Cannot call a class as a function")}(this,C),(w=R.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",w.BUFFERING_COMPLETED="bufferingCompleted",w.BUFFER_CLEARED="bufferCleared",w.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",w.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",w.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",w.CURRENT_TRACK_CHANGED="currentTrackChanged",w.DATA_UPDATE_COMPLETED="dataUpdateCompleted",w.INBAND_EVENTS="inbandEvents",w.INITIAL_STREAM_SWITCH="initialStreamSwitch",w.INIT_FRAGMENT_LOADED="initFragmentLoaded",w.INIT_FRAGMENT_NEEDED="initFragmentNeeded",w.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",w.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",w.LOADING_COMPLETED="loadingCompleted",w.LOADING_PROGRESS="loadingProgress",w.LOADING_DATA_PROGRESS="loadingDataProgress",w.LOADING_ABANDONED="loadingAborted",w.MANIFEST_UPDATED="manifestUpdated",w.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",w.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",w.QUOTA_EXCEEDED="quotaExceeded",w.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",w.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",w.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",w.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",w.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",w.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",w.SOURCE_BUFFER_ERROR="sourceBufferError",w.STREAMS_COMPOSED="streamsComposed",w.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",w.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",w.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",w.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",w.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",w.URL_RESOLUTION_FAILED="urlResolutionFailed",w.VIDEO_CHUNK_RECEIVED="videoChunkReceived",w.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",w.XLINK_ELEMENT_LOADED="xlinkElementLoaded",w.XLINK_READY="xlinkReady",w.SEEK_TARGET="seekTarget",w.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",w.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",w.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",w.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",w.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",w}return function b(k,R,C){return R&&O(k.prototype,R),C&&O(k,C),Object.defineProperty(k,"prototype",{writable:!1}),k}(C)}(t.default)},"./src/core/events/Events.js":
/*!***********************************!*\
                  !*** ./src/core/events/Events.js ***!
                  \***********************************/
/*! exports provided: default */function(qe,x,c){"use strict";function E(R){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(R)}function O(R,C){for(var w=0;w<C.length;w++){var T=C[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,F(T.key),T)}}function F(R){var C=function L(R,C){if("object"!==E(R)||null===R)return R;var w=R[Symbol.toPrimitive];if(void 0!==w){var T=w.call(R,C||"default");if("object"!==E(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(R)}(R,"string");return"symbol"===E(C)?C:String(C)}function m(R,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(C&&C.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),C&&h(R,C)}function h(R,C){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(R,C)}function g(R){var C=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=P(R);if(C){var S=P(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function v(R,C){if(C&&("object"===E(C)||"function"==typeof C))return C;if(void 0!==C)throw new TypeError("Derived constructors may only return object or undefined");return function A(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,N)}}function P(R){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(R)}c.r(x);var V=function(R){m(w,R);var C=g(w);function w(){return function D(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")}(this,w),C.apply(this,arguments)}return function b(R,C,w){return C&&O(R.prototype,C),w&&O(R,w),Object.defineProperty(R,"prototype",{writable:!1}),R}(w)}(c(
/*! ./CoreEvents */
"./src/core/events/CoreEvents.js").default),k=new V;x.default=k},"./src/core/events/EventsBase.js":
/*!***************************************!*\
                  !*** ./src/core/events/EventsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function O(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,F(v.key),v)}}function F(m){var h=function L(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=function(){function m(){!function E(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}(this,m)}return function b(m,h,g){return h&&O(m.prototype,h),g&&O(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}(m,[{key:"extend",value:function(g,v){if(g){var A=!!v&&v.override,U=!!v&&v.publicOnly;for(var P in g)!g.hasOwnProperty(P)||this[P]&&!A||U&&-1===g[P].indexOf("public_")||(this[P]=g[P])}}}]),m}()},"./src/dash/DashAdapter.js":
/*!*********************************!*\
                  !*** ./src/dash/DashAdapter.js ***!
                  \*********************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js"),E=c(
/*! ./vo/RepresentationInfo */
"./src/dash/vo/RepresentationInfo.js"),O=c(
/*! ./vo/MediaInfo */
"./src/dash/vo/MediaInfo.js"),b=c(
/*! ./vo/StreamInfo */
"./src/dash/vo/StreamInfo.js"),F=c(
/*! ./vo/ManifestInfo */
"./src/dash/vo/ManifestInfo.js"),L=c(
/*! ./vo/Event */
"./src/dash/vo/Event.js"),D=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=c(
/*! ./models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),h=c(
/*! ./models/PatchManifestModel */
"./src/dash/models/PatchManifestModel.js"),g=c(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),v=c.n(g);function A(){var U,P,V,k,R,C,w,T=this.context;function ae(fe){return P.getRolesForAdaptation(fe).filter(function(ge){return ge.value===t.default.MAIN})[0]}function Re(fe,ge,st){var mt=P.getAdaptationsForType(k[0].mpd.manifest,fe,ge);if(!mt||0===mt.length)return null;if(mt.length>1&&st){var Dt=H(st,ge);if(R[st.id]&&R[st.id][ge])for(var ut=0,bt=mt.length;ut<bt;ut++)if(z(R[st.id][ge],Dt[ut]))return mt[ut];for(var Nt=0,Zt=mt.length;Nt<Zt;Nt++)if(ae(mt[Nt]))return mt[Nt]}return mt[0]}function z(fe,ge){if(!fe||!ge)return!1;var st=fe.id===ge.id,mt=fe.codec===ge.codec,Dt=fe.viewpoint===ge.viewpoint,ut=fe.lang===ge.lang,bt=fe.roles.toString()===ge.roles.toString(),Nt=fe.accessibility.toString()===ge.accessibility.toString(),Zt=fe.audioChannelConfiguration.toString()===ge.audioChannelConfiguration.toString();return st&&mt&&Dt&&ut&&bt&&Nt&&Zt}function oe(fe,ge,st,mt,Dt,ut){var Zt,wt,Ht,en,tn,bt=[];if(!mt||0===mt.length)return[];var yn=P.getAdaptationsForPeriod(ge);for(Ht=0,tn=mt.length;Ht<tn;Ht++)if(Zt=Pt(yn[wt=P.getIndexForAdaptation(mt[Ht],fe,st.index)]),ut){var Tn=Zt.accessibility.length;for(en=0;en<Tn;en++)if(Zt){var In=Zt.accessibility[en];if(0===In.indexOf("cea-608:")){var qn=In.substring(8).split(";");if("CC"===qn[0].substring(0,2))for(en=0;en<qn.length;en++)Zt||(Zt=Pt.call(this,yn[wt])),Vt(Zt,qn[en].substring(0,3),qn[en].substring(4)),bt.push(Zt),Zt=null;else for(en=0;en<qn.length;en++)Zt||(Zt=Pt.call(this,yn[wt])),Vt(Zt,"CC"+(en+1),qn[en]),bt.push(Zt),Zt=null}else 0===In.indexOf("cea-608")&&(Vt(Zt,C.CC1,"eng"),bt.push(Zt),Zt=null)}}else Dt===C.IMAGE?($t(Zt),bt.push(Zt),Zt=null):Zt&&bt.push(Zt);return bt}function H(fe,ge,st){var mt=k,Dt=st,ut=[];if(Dt)pn(),mt=ye(Dt);else{if(!(k.length>0))return ut;Dt=k[0].mpd.manifest}var bt=_t(fe,mt),Nt=P.getAdaptationsForType(Dt,fe?fe.index:null,ge);return ut=oe(Dt,bt,fe,Nt,ge),ge===C.TEXT&&(Nt=P.getAdaptationsForType(Dt,fe?fe.index:null,C.VIDEO),ut=ut.concat(oe(Dt,bt,fe,Nt,ge,!0))),ut}function ye(fe){var ge=K(fe);return P.getRegularPeriods(ge)}function K(fe){var ge=ct(fe);return P.getMpd(ge)}function Ze(){k=[],R={}}function ct(fe){return fe||(k.length>0?k[0].mpd.manifest:null)}function It(fe){try{var ge=_t(fe.streamInfo,k),st=P.getAdaptationsForPeriod(ge);return fe&&fe.streamInfo&&void 0!==fe.streamInfo.id&&st?st[fe.index]:null}catch{return null}}function _t(fe,ge){for(var st=ge.length,mt=0;mt<st;mt++){var Dt=ge[mt];if(fe&&fe.id===Dt.id)return Dt}return null}function Pt(fe){if(!fe)return null;var mt,ge=new O.default,st=fe.period.mpd.manifest.Period_asArray[fe.period.index].AdaptationSet_asArray[fe.index];if(ge.id=fe.id,ge.index=fe.index,ge.type=fe.type,ge.streamInfo=Qt(fe.period),ge.representationCount=P.getRepresentationCount(st),ge.labels=P.getLabelsForAdaptation(st),ge.lang=P.getLanguageForAdaptation(st),mt=P.getViewpointForAdaptation(st),ge.viewpoint=mt?mt.value:void 0,ge.accessibility=P.getAccessibilityForAdaptation(st).map(function(bt){var Nt=bt.value,Zt=Nt;return bt.schemeIdUri&&bt.schemeIdUri.search("cea-608")>=0&&typeof w<"u"&&(Zt=Nt?"cea-608:"+Nt:"cea-608",ge.embeddedCaptions=!0),Zt}),ge.audioChannelConfiguration=P.getAudioChannelConfigurationForAdaptation(st).map(function(bt){return bt.value}),0===ge.audioChannelConfiguration.length&&Array.isArray(st.Representation_asArray)&&st.Representation_asArray.length>0&&(ge.audioChannelConfiguration=P.getAudioChannelConfigurationForRepresentation(st.Representation_asArray[0]).map(function(bt){return bt.value})),ge.roles=P.getRolesForAdaptation(st).map(function(bt){return bt.value}),ge.codec=P.getCodec(st),ge.mimeType=P.getMimeType(st),ge.contentProtection=P.getContentProtectionData(st),ge.bitrateList=P.getBitrateListForAdaptation(st),ge.selectionPriority=P.getSelectionPriority(st),ge.contentProtection){var Dt=ge.contentProtection.map(function(bt){return P.getKID(bt)}).filter(function(bt){return null!==bt});if(Dt.length){var ut=Dt[0];ge.contentProtection.forEach(function(bt){bt.keyId=ut})}}return ge.isText=P.getIsText(st),ge.supplementalProperties=P.getSupplementalProperties(st),ge.isFragmented=P.getIsFragmented(st),ge.isEmbedded=!1,ge}function Vt(fe,ge,st){fe.id=ge,fe.index=100+parseInt(ge.substring(2,3)),fe.type=C.TEXT,fe.codec="cea-608-in-SEI",fe.isEmbedded=!0,fe.isFragmented=!1,fe.lang=v()(st),fe.roles=["caption"]}function $t(fe){fe.type=C.IMAGE}function Qt(fe){var ge=new b.default;return ge.id=fe.id,ge.index=fe.index,ge.start=fe.start,ge.duration=fe.duration,ge.manifestInfo=function dn(fe){var ge=new F.default;return ge.dvrWindowSize=fe.timeShiftBufferDepth,ge.loadedTime=fe.manifest.loadedTime,ge.availableFrom=fe.availabilityStartTime,ge.minBufferTime=fe.manifest.minBufferTime,ge.maxFragmentDuration=fe.maxSegmentDuration,ge.duration=P.getDuration(fe.manifest),ge.isDynamic=P.getIsDynamic(fe.manifest),ge.serviceDescriptions=P.getServiceDescriptions(fe.manifest),ge.protocol=fe.manifest.protocol,ge}(fe.mpd),ge.isLast=1===fe.mpd.manifest.Period_asArray.length||Math.abs(ge.start+ge.duration-ge.manifestInfo.duration)<1,ge}function pn(){if(!C)throw new Error("setConfig function has to be called previously")}function Un(fe){return k.length>0?k[0].mpd.manifest.Period_asArray[fe]:null}function dt(fe,ge,st){var Dt,ut,bt,Nt,Zt;if(fe)for(Dt=fe.AdaptationSet_asArray,Nt=0;Nt<Dt.length;Nt+=1)for(bt=Dt[Nt].Representation_asArray,Zt=0;Zt<bt.length;Zt+=1)if(ge===(ut=bt[Zt]).id)return st?Zt:ut;return null}return U={getBandwidthForRepresentation:function pe(fe,ge){var st;return(st=dt(Un(ge),fe))?st.bandwidth:null},getIndexForRepresentation:function ce(fe,ge){return function ot(fe,ge){var st=dt(fe,ge,!0);return null!==st?st:-1}(Un(ge),fe)},getMaxIndexForBufferType:function Ce(fe,ge){return function xe(fe,ge){var st,mt,Dt,ut;if(!fe||!ge)return-1;for(mt=fe.AdaptationSet_asArray,ut=0;ut<mt.length;ut+=1)if(Dt=(st=mt[ut]).Representation_asArray,P.getIsTypeOf(st,ge))return Dt.length;return-1}(Un(ge),fe)},convertRepresentationToRepresentationInfo:function Y(fe){if(fe){var ge=new E.default,mt=P.getRepresentationFor(fe.index,fe.adaptation.period.mpd.manifest.Period_asArray[fe.adaptation.period.index].AdaptationSet_asArray[fe.adaptation.index]);return ge.id=fe.id,ge.quality=fe.index,ge.bandwidth=P.getBandwidth(mt),ge.fragmentDuration=fe.segmentDuration||(fe.segments&&fe.segments.length>0?fe.segments[0].duration:NaN),ge.MSETimeOffset=fe.MSETimeOffset,ge.mediaInfo=Pt(fe.adaptation),ge}return null},getStreamsInfo:function te(fe,ge){var st=[],mt=k;if(fe&&(pn(),mt=ye(fe)),mt.length>0){(!ge||ge>mt.length)&&(ge=mt.length);for(var Dt=0;Dt<ge;Dt++)st.push(Qt(mt[Dt]))}return st},getMediaInfoForType:function re(fe,ge){if(0===k.length||!fe)return null;var st=_t(fe,k);if(!st)return null;var mt=P.getAdaptationsForPeriod(st),Dt=Re(fe.index,ge,fe);return Dt?Pt(mt[P.getIndexForAdaptation(Dt,k[0].mpd.manifest,fe.index)]):null},getAllMediaInfoForType:H,getAdaptationForType:Re,getRealAdaptation:function ue(fe,ge){var st,mt,Dt=_t(fe,k);return st=ge?ge.id:null,k.length>0&&Dt&&(mt=st?P.getAdaptationForId(st,k[0].mpd.manifest,Dt.index):P.getAdaptationForIndex(ge?ge.index:null,k[0].mpd.manifest,Dt.index)),mt},getProducerReferenceTimes:function Se(fe,ge){var st,mt,Dt=_t(fe,k);return st=ge?ge.id:null,k.length>0&&Dt&&(mt=st?P.getAdaptationForId(st,k[0].mpd.manifest,Dt.index):P.getAdaptationForIndex(ge?ge.index:null,k[0].mpd.manifest,Dt.index)),mt?P.getProducerReferenceTimesForAdaptation(mt):[]},getRealPeriodByIndex:function le(fe){return P.getRealPeriodForIndex(fe,k[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function Ie(fe){try{return P.getEssentialPropertiesForRepresentation(fe)}catch{return[]}},getVoRepresentations:function Me(fe){var st=It(fe);return P.getRepresentationsForAdaptation(st)},getEventsFor:function _e(fe,ge,st){var mt=[];if(k.length>0){var Dt=k[0].mpd.manifest;if(fe instanceof b.default){var ut=_t(fe,k);mt=P.getEventsForPeriod(ut)}else if(fe instanceof O.default){var bt=_t(st,k);mt=P.getEventStreamForAdaptationSet(Dt,It(fe),bt)}else if(fe instanceof E.default){var Nt=_t(st,k);mt=P.getEventStreamForRepresentation(Dt,ge,Nt)}}return mt},getEvent:function we(fe,ge,st,mt){try{if(!fe||!ge||isNaN(st)||!mt)return null;var Dt=fe.scheme_id_uri,ut=fe.value;if(!ge[Dt+"/"+ut])return null;var tn,bt=new L.default,Nt=fe.timescale||1,Zt=mt.adaptation.period.start,wt=ge[Dt+"/"+ut],Ht=isNaN(mt.presentationTimeOffset)?isNaN(wt.presentationTimeOffset)?0:wt.presentationTimeOffset:mt.presentationTimeOffset,en=fe.presentation_time_delta/Nt;tn=0===fe.version?Zt+st-Ht+en:Zt-Ht+en;var yn=fe.event_duration/Nt,Tn=fe.id,In=fe.message_data;return bt.eventStream=wt,bt.eventStream.value=ut,bt.eventStream.timescale=Nt,bt.duration=yn,bt.id=Tn,bt.calculatedPresentationTime=tn,bt.messageData=In,bt.presentationTimeDelta=en,bt}catch{return null}},getMpd:K,setConfig:function B(fe){fe&&(fe.constants&&(C=fe.constants),fe.cea608parser&&(w=fe.cea608parser),fe.errHandler&&P.setConfig({errHandler:fe.errHandler}),fe.BASE64&&P.setConfig({BASE64:fe.BASE64}))},updatePeriods:function me(fe){if(!fe)return null;pn(),k=ye(fe)},getIsTextTrack:function Pe(fe){return P.getIsText(fe)},getUTCTimingSources:function Oe(){var fe=ct();return P.getUTCTimingSources(fe)},getSuggestedPresentationDelay:function Ue(){return P.getSuggestedPresentationDelay(k.length>0?k[0].mpd:null)},getAvailabilityStartTime:function ze(fe){var ge=K(fe);return P.getAvailabilityStartTime(ge)},getIsTypeOf:function Be(fe,ge){return P.getIsTypeOf(fe,ge)},getIsDynamic:function He(fe){var ge=ct(fe);return P.getIsDynamic(ge)},getDuration:function Ae(fe){var ge=ct(fe);return P.getDuration(ge)},getRegularPeriods:ye,getContentSteering:function ie(fe){return P.getContentSteering(fe)},getLocation:function he(fe){return P.getLocation(fe)},getPatchLocation:function W(fe){var ge=P.getPatchLocation(fe),st=P.getPublishTime(fe);if(!ge||!st)return null;if(ge.hasOwnProperty("ttl")&&st){var mt=1e3*parseFloat(ge.ttl);if(st.getTime()+mt<=(new Date).getTime())return null}return ge.__text},getManifestUpdatePeriod:function $(fe){return P.getManifestUpdatePeriod(fe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},getPublishTime:function Z(fe){return P.getPublishTime(fe)},getIsDVB:function X(fe){return P.hasProfile(fe,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function Q(fe){return V.getIsPatch(fe)},getBaseURLsFromElement:function q(fe){return P.getBaseURLsFromElement(fe)},getRepresentationSortFunction:function J(){return P.getRepresentationSortFunction()},getCodec:function de(fe,ge,st){return P.getCodec(fe,ge,st)},getPeriodById:function Ye(fe){if(!fe||0===k.length)return null;var ge=k.filter(function(st){return st.id===fe});return ge&&ge.length>0?ge[0]:null},setCurrentMediaInfo:function Le(fe,ge,st){R[fe]=R[fe]||{},R[fe][ge]=R[fe][ge]||{},R[fe][ge]=st},isPatchValid:function Qe(fe,ge){var st=P.getId(fe),mt=V.getMpdId(ge),Dt=P.getPublishTime(fe),ut=V.getPublishTime(ge),bt=V.getOriginalPublishTime(ge);return!!(st&&mt&&st==mt&&Dt&&bt&&Dt.getTime()==bt.getTime()&&ut&&Dt.getTime()<ut.getTime())},applyPatchToManifest:function $e(fe,ge){V.getPatchOperations(ge).forEach(function(st){var mt=st.getMpdTarget(fe);if(null!==mt){var Dt=mt.name,ut=mt.target,bt=mt.leaf;if(st.xpath.findsAttribute()){switch(st.action){case"add":case"replace":ut[Dt]=st.value;break;case"remove":delete ut[Dt]}return}var Nt=(ut[Dt+"_asArray"]||[]).indexOf(bt),Zt="prepend"===st.position||"before"===st.position;if(("remove"===st.action||"replace"===st.action)&&(delete ut[Dt],-1!=Nt)){var wt=ut[Dt+"_asArray"];wt.splice(Nt,1),wt.length>1?ut[Dt]=wt:1==wt.length?ut[Dt]=wt[0]:delete ut[Dt+"_asArray"]}("add"===st.action||"replace"===st.action)&&Object.keys(st.value).forEach(function(Ht){var en=st.value[Ht],tn=ut[Ht+"_asArray"]||[];0===tn.length&&ut[Ht]&&tn.push(ut[Ht]),0===tn.length?tn=en:tn.splice.apply(tn,[Ht==Dt&&-1!=Nt?Nt+(Zt?0:1)+("replace"==st.action?-1:0):Zt?0:tn.length,0].concat(en)),ut[Ht+"_asArray"]=tn,ut[Ht]=1==tn.length?tn[0]:tn})}})},areMediaInfosEqual:z,reset:Ze},function S(){P=Object(m.default)(T).getInstance(),V=Object(h.default)(T).getInstance(),Ze()}(),U}A.__dashjs_factory_name="DashAdapter",x.default=D.default.getSingletonFactory(A)},"./src/dash/DashHandler.js":
/*!*********************************!*\
                  !*** ./src/dash/DashHandler.js ***!
                  \*********************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),E=c(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),O=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=c(
/*! ./utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),L=c(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js");function h(g){var w,T,N,S,B,v=(g=g||{}).eventBus,A=g.debug,U=g.urlUtils,P=g.type,V=g.streamInfo,k=g.segmentsController,R=g.timelineConverter,C=g.baseURLController;function Re(){return P}function oe(){N=null}function me(Oe,Ue,ze){var Ae,ye,He=C.resolve(ze.path);return He&&Ue!==He.url&&U.isRelative(Ue)?(Ae=He.url,ye=He.serviceLocation,Ue&&(Ae=U.resolve(Ue,Ae))):Ae=Ue,!U.isRelative(Ae)&&(Oe.url=Ae,Oe.serviceLocation=ye,!0)}function Se(Oe,Ue){if(null==Ue)return null;var ze=new t.default,He=Ue.representation,Ae=He.adaptation.period.mpd.manifest.Period_asArray[He.adaptation.period.index].AdaptationSet_asArray[He.adaptation.index].Representation_asArray[He.index].bandwidth,ye=Ue.media;return ye=Object(F.replaceTokenForTemplate)(ye,"Number",Ue.replacementNumber),ye=Object(F.replaceTokenForTemplate)(ye,"Time",Ue.replacementTime),ye=Object(F.replaceTokenForTemplate)(ye,"Bandwidth",Ae),ye=Object(F.replaceIDForTemplate)(ye,He.id),ye=Object(F.unescapeDollarsInTemplate)(ye),ze.mediaType=Re(),ze.type=E.HTTPRequest.MEDIA_SEGMENT_TYPE,ze.range=Ue.mediaRange,ze.startTime=Ue.presentationStartTime,ze.mediaStartTime=Ue.mediaStartTime,ze.duration=Ue.duration,ze.timescale=He.timescale,ze.availabilityStartTime=Ue.availabilityStartTime,ze.availabilityEndTime=Ue.availabilityEndTime,ze.availabilityTimeComplete=He.availabilityTimeComplete,ze.wallStartTime=Ue.wallStartTime,ze.quality=He.index,ze.index=Ue.index,ze.mediaInfo=Oe,ze.adaptationIndex=He.adaptation.index,ze.representationId=He.id,me(ze,ye,He)?ze:void 0}function le(Oe,Ue,ze){var He=null;if(!Ue||!Ue.segmentInfoType)return He;var Ae=k.getSegmentByTime(Ue,ze);return Ae&&(N=Ae,T.debug("Index for time "+ze+" is "+Ae.index),He=Se(Oe,Ae)),He}function Pe(){T.debug("Dynamic stream complete"),B=!0}return w={initialize:function re(Oe){S=Oe,B=!1,k.initialize(Oe)},getStreamId:function ae(){return V.id},getType:Re,getStreamInfo:function z(){return V},getInitRequest:function te(Oe,Ue){return Ue?function ue(Oe,Ue,ze){var He=new t.default,Ae=Ue.adaptation.period,ye=Ae.start;if(He.mediaType=ze,He.type=E.HTTPRequest.INIT_SEGMENT_TYPE,He.range=Ue.range,He.availabilityStartTime=R.calcAvailabilityStartTimeFromPresentationTime(ye,Ue,S),He.availabilityEndTime=R.calcAvailabilityEndTimeFromPresentationTime(ye+Ae.duration,Ue,S),He.quality=Ue.index,He.mediaInfo=Oe,He.representationId=Ue.id,me(He,Ue.initialization,Ue))return He.url=Object(F.replaceTokenForTemplate)(He.url,"Bandwidth",Ue.bandwidth),He}(Oe,Ue,Re()):null},getSegmentRequestForTime:le,getCurrentIndex:function Le(){return N?N.index:-1},getNextSegmentRequest:function we(Oe,Ue){var ze=null;if(!Ue||!Ue.segmentInfoType)return null;var He=N?N.index+1:0,Ae=k.getSegmentByIndex(Ue,He,N?N.mediaStartTime:-1);if(Ae)ze=Se(Oe,Ae),N=Ae;else{if(S&&!B)return T.debug(Re()+" No segment found at index: "+He+". Wait for next loop"),null;B=!0}return ze},isLastSegmentRequested:function Ie(Oe,Ue){if(!Oe||!N)return!1;if(B)return!0;if(!isFinite(Oe.adaptation.period.duration)||N.presentationStartTime+N.duration>Ue)return!1;if(Oe.mediaFinishedInformation&&!isNaN(Oe.mediaFinishedInformation.numberOfSegments)&&!isNaN(N.index)&&N.index>=Oe.mediaFinishedInformation.numberOfSegments-1){if(!S||Oe.segmentInfoType===L.default.SEGMENT_TEMPLATE)return!0;if(S&&Oe.segmentInfoType===L.default.SEGMENT_LIST&&Oe.adaptation.period.nextPeriodId)return!0}return!!(S&&Oe.adaptation.period.nextPeriodId&&Oe.segmentInfoType===L.default.SEGMENT_TIMELINE&&Oe.mediaFinishedInformation&&!isNaN(Oe.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&N&&!isNaN(N.mediaStartTime)&&!isNaN(N.duration)&&N.mediaStartTime+N.duration>=Oe.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},reset:function H(){oe(),v.off(b.default.DYNAMIC_TO_STATIC,Pe,w)},getNextSegmentRequestIdempotent:function Me(Oe,Ue){var Ae=k.getSegmentByIndex(Ue,N?N.index+1:0,N?N.mediaStartTime:-1);return Ae?Se(Oe,Ae):null},getValidTimeAheadOfTargetTime:function _e(Oe,Ue,ze,He){try{if(isNaN(Oe)||!Ue||!ze)return NaN;if(Oe<0&&(Oe=0),isNaN(He)&&(He=.5),le(Ue,ze,Oe))return Oe;if(ze.adaptation.period.start+ze.adaptation.period.duration<Oe)return NaN;for(var Ae=isFinite(ze.adaptation.period.duration)?ze.adaptation.period.start+ze.adaptation.period.duration:Oe+30,ye=Math.min(Oe+He,Ae),K=NaN,ie=null;ye<=Ae;){var he=null;if(ye<=Ae&&(he=le(Ue,ze,ye)),he){K=ye,ie=he;break}ye+=He}if(ie){var $=ie.startTime+ie.duration;return Oe>ie.startTime&&$-Oe>He?Oe:!isNaN(ie.startTime)&&Oe<ie.startTime&&K>ie.startTime?ie.startTime+.001:Math.min($-He,K)}return K}catch{return NaN}}},function Y(){T=A.getLogger(w),oe(),v.on(b.default.DYNAMIC_TO_STATIC,Pe,w)}(),w}h.__dashjs_factory_name="DashHandler",x.default=O.default.getClassFactory(h)},"./src/dash/DashMetrics.js":
/*!*********************************!*\
                  !*** ./src/dash/DashMetrics.js ***!
                  \*********************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),O=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../streaming/constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),F=c(
/*! ./utils/Round10 */
"./src/dash/utils/Round10.js"),L=c(
/*! ../streaming/models/MetricsModel */
"./src/streaming/models/MetricsModel.js"),D=c(
/*! ../core/Utils */
"./src/core/Utils.js"),m=c(
/*! ../streaming/vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js");function h(g){var A,U,P,V,v=this.context,k=(g=g||{}).metricsModel;function ae(he){var $=k.getMetricsFor(he,!0);if(!$)return null;var X,Z=$.HttpList,W=null;if(!Z||Z.length<=0)return null;for(X=Z.length-1;X>=0;){if(Z[X].responsecode){W=Z[X];break}X--}return W}function Re(he){var $=k.getMetricsFor(he,!0);return $&&$.HttpList?$.HttpList:[]}function oe(he,$){if(!he)return null;var Z=he[$];return Z&&0!==Z.length?Z[Z.length-1]:null}return A={getCurrentRepresentationSwitch:function w(he){return oe(k.getMetricsFor(he,!0),b.default.TRACK_SWITCH)},getCurrentBufferState:function N(he){return oe(k.getMetricsFor(he,!0),b.default.BUFFER_STATE)},getCurrentBufferLevel:function S(he){var Z=oe(k.getMetricsFor(he,!0),b.default.BUFFER_LEVEL);return Z?F.default.round10(Z.level/1e3,-3):0},getCurrentHttpRequest:ae,getHttpRequests:Re,getCurrentDroppedFrames:function H(){return oe(k.getMetricsFor(t.default.VIDEO,!0),b.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function te(he){return oe(k.getMetricsFor(he,!0),b.default.SCHEDULING_INFO)},getCurrentDVRInfo:function Le(he){return oe(he?k.getMetricsFor(he,!0):k.getMetricsFor(t.default.VIDEO,!0)||k.getMetricsFor(t.default.AUDIO,!0),b.default.DVR_INFO)},getCurrentManifestUpdate:function Se(){return oe(k.getMetricsFor(t.default.STREAM),b.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function Ue(he,$){if(!$)return null;var Z={},W=ae(he);W&&(Z=D.default.parseHttpHeaders(W._responseHeaders));var X=Z[$.toLowerCase()];return void 0===X?null:X},getLatestMPDRequestHeaderValueByID:function Oe(he){if(!he)return null;var Z,W,X,$={};for(X=(Z=Re(t.default.STREAM)).length-1;X>=0;X--)if((W=Z[X]).type===E.HTTPRequest.MPD_TYPE){$=D.default.parseHttpHeaders(W._responseHeaders);break}var Q=$[he.toLowerCase()];return void 0===Q?null:Q},addRepresentationSwitch:function T(he,$,Z,W,X){k.addRepresentationSwitch(he,$,Z,W,X)},addDVRInfo:function Pe(he,$,Z,W){k.addDVRInfo(he,$,Z,W)},updateManifestUpdateInfo:function Ie(he){var $=this.getCurrentManifestUpdate();k.updateManifestUpdateInfo($,he)},addManifestUpdateStreamInfo:function le(he){if(he){var $=this.getCurrentManifestUpdate();k.addManifestUpdateStreamInfo($,he.id,he.index,he.start,he.duration)}},addManifestUpdateRepresentationInfo:function _e(he,$){if(he){var Z=this.getCurrentManifestUpdate();k.addManifestUpdateRepresentationInfo(Z,he.id,he.index,he.streamIndex,$,he.presentationTimeOffset,he.startNumber,he.fragmentInfoType)}},addManifestUpdate:function Me(he){k.addManifestUpdate(t.default.STREAM,he.type,he.requestStartDate,he.requestEndDate)},addHttpRequest:function we(he,$,Z,W,X){k.addHttpRequest(he.mediaType,null,he.type,he.url,he.quality,$,he.serviceLocation||null,he.range||null,he.requestStartDate,he.firstByteDate,he.requestEndDate,Z,he.duration,W,X,he.fileLoaderType)},addSchedulingInfo:function ue(he,$){k.addSchedulingInfo(he.mediaType,new Date,he.type,he.startTime,he.availabilityStartTime,he.duration,he.quality,he.range,$)},addRequestsQueue:function z(he,$,Z){k.addRequestsQueue(he,$,Z)},addBufferLevel:function B(he,$,Z){k.addBufferLevel(he,$,Z)},addBufferState:function Y(he,$,Z){k.addBufferState(he,$,Z)},addDroppedFrames:function me(he){k.addDroppedFrames(t.default.VIDEO,he)},addPlayList:function ze(){V&&(k.addPlayList(V),V=null)},addDVBErrors:function ie(he){k.addDVBErrors(he)},createPlaylistMetrics:function He(he,$){(V=new m.PlayList).start=new Date,V.mstart=he,V.starttype=$},createPlaylistTraceMetrics:function Ae(he,$,Z){!0===U&&(U=!1,(P=new m.PlayListTrace).representationid=he,P.start=new Date,P.mstart=$,P.playbackspeed=null!==Z?Z.toString():null)},updatePlayListTraceMetrics:function ye(he){if(P)for(var $ in P)P[$]=he[$]},pushPlayListTraceMetrics:function K(he,$){if(!1===U&&V&&P&&P.start){var Z=P.start,W=he.getTime()-Z.getTime();P.duration=W,P.stopreason=$,V.trace.push(P),U=!0}},clearAllCurrentMetrics:function re(){k.clearAllCurrentMetrics()}},function R(){k=k||Object(L.default)(v).getInstance({settings:g.settings}),function C(){U=!0,P=null,V=null}()}(),A}h.__dashjs_factory_name="DashMetrics",x.default=O.default.getSingletonFactory(h)},"./src/dash/SegmentBaseLoader.js":
/*!***************************************!*\
                  !*** ./src/dash/SegmentBaseLoader.js ***!
                  \***************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),E=c(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),O=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),F=c(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js");function L(){var m,h,g,v,A,U,P,V,k,R,C,w,T,D=this.context;function re(te,ue,Se,Ie){var le=null,Me=te?T.resolve(te.path):null,we=Ie||{init:!0,url:Me?Me.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:ue};h.debug("Start searching for initialization.");var _e=me(we);V.load({request:_e,success:function(Ue){if(we.bytesLoaded=we.range.end,!(le=v.findInitRange(Ue)))return we.range.end=we.bytesLoaded+we.bytesToLoad,re(te,ue,Se,we);te.range=le,Se(te)},error:function(){Se(te)}}),h.debug("Perform init search: "+we.url)}function Re(te,ue,Se,Ie,le,Me){if(Se&&(void 0===Se.start||void 0===Se.end)){var we=Se?Se.toString().split("-"):null;Se=we?{start:parseFloat(we[0]),end:parseFloat(we[1])}:null}le=le||z;var _e=null,Le=null,Pe=!!Se,Oe=te?T.resolve(te.path):null,Ue={init:!1,url:Oe?Oe.url:void 0,range:Pe?Se:{start:0,end:1500},searching:!Pe,bytesLoaded:Me?Me.bytesLoaded:0,bytesToLoad:1500,mediaType:ue},ze=me(Ue);V.load({request:ze,success:function(K){var ie=Ue.bytesToLoad,he=K.byteLength;if(Ue.bytesLoaded=Ue.range.end-Ue.range.start,_e=v.parse(K),(Le=_e.getBox("sidx"))&&Le.isComplete){var W,X,Z=Le.references;if(null!=Z&&Z.length>0&&(W=1===Z[0].reference_type),W){h.debug("Initiate multiple SIDX load."),Ue.range.end=Ue.range.start+Le.size;var Q,q,J,de,ce=[],Ce=0,Ye=(Le.offset||Ue.range.start)+Le.size,Be=function(Qe){Qe?(ce=ce.concat(Qe),++Ce>=q&&(ce.sort(function($e,ct){return $e.startTime-ct.startTime<0?-1:0}),le(ce,te,Ie))):le(null,te,Ie)};for(Q=0,q=Z.length;Q<q;Q++)J=Ye,de=Ye+Z[Q].referenced_size-1,Ye+=Z[Q].referenced_size,Re(te,ue,{start:J,end:de},Ie,Be,Ue)}else h.debug("Parsing segments from SIDX. representation "+ue+" - id: "+te.id+" for range : "+Ue.range.start+" - "+Ue.range.end),X=function H(te,ue){for(var Le,Oe,Ue,Se=te.references,Ie=Se.length,le=te.timescale,Me=te.earliest_presentation_time,we=ue.range.start+te.offset+te.first_offset+te.size,_e=[],ze=0;ze<Ie;ze++)Oe=Se[ze].subsegment_duration,Ue=Se[ze].referenced_size,(Le=new t.default).duration=Oe,Le.startTime=Me,Le.timescale=le,Le.mediaRange=we+"-"+(we+Ue-1),_e.push(Le),Me+=Oe,we+=Ue;return _e}(Le,Ue),le(X,te,Ie)}else{if(Le)Ue.range.start=Le.offset||Ue.range.start,Ue.range.end=Ue.range.start+(Le.size||ie);else{if(he<Ue.bytesLoaded)return void le(null,te,Ie);var $=_e.getLastBox();$&&$.size?(Ue.range.start=$.offset+$.size,Ue.range.end=Ue.range.start+ie):Ue.range.end+=ie}Re(te,ue,Ue.range,Ie,null,Ue)}},error:function(){le(null,te,Ie)}}),h.debug("Perform SIDX load for type ".concat(ue," : ").concat(Ue.url," with range ").concat(Ue.range.start," - ").concat(Ue.range.end))}function z(te,ue,Se){Se({segments:te,representation:ue,error:te?void 0:new E.default(k.SEGMENT_BASE_LOADER_ERROR_CODE,k.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function me(te){if(te.url){var ue=new b.default;return ue.setInfo(te),ue}}return m={setConfig:function B(te){te.baseURLController&&(T=te.baseURLController),te.dashMetrics&&(U=te.dashMetrics),te.mediaPlayerModel&&(P=te.mediaPlayerModel),te.errHandler&&(g=te.errHandler),te.boxParser&&(v=te.boxParser),te.debug&&(h=te.debug.getLogger(m)),te.requestModifier&&(A=te.requestModifier),te.errors&&(k=te.errors),te.urlUtils&&(w=te.urlUtils),te.constants&&(R=te.constants),te.dashConstants&&(C=te.dashConstants)},initialize:function S(){V=Object(F.default)(D).create({errHandler:g,dashMetrics:U,mediaPlayerModel:P,requestModifier:A,boxParser:v,errors:k,urlUtils:w,constants:R,dashConstants:C})},loadInitialization:function Y(te,ue){return new Promise(function(Se){re(te,ue,Se)})},loadSegments:function ae(te,ue,Se){return new Promise(function(Ie){Re(te,ue,Se,Ie)})},reset:function oe(){V&&(V.abort(),V=null)}}}L.__dashjs_factory_name="SegmentBaseLoader",x.default=O.default.getSingletonFactory(L)},"./src/dash/WebmSegmentBaseLoader.js":
/*!*******************************************!*\
                  !*** ./src/dash/WebmSegmentBaseLoader.js ***!
                  \*******************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../streaming/utils/EBMLParser */
"./src/streaming/utils/EBMLParser.js"),E=c(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),O=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),F=c(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),L=c(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),D=c(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js");function m(){var g,v,A,U,P,V,k,R,C,w,h=this.context;function Y(H,me,te,ue){var Ie,le,Me,we,_e;for(le=[],we=0,_e=(Ie=function B(H){var ue,Se,me=[],te=Object(t.default)(h).create({data:H});for(te.consumeTagAndSize(A.Segment.Cues);te.moreData()&&te.consumeTagAndSize(A.Segment.Cues.CuePoint,!0);){for((ue={}).CueTime=te.parseTag(A.Segment.Cues.CuePoint.CueTime),ue.CueTracks=[];te.moreData()&&te.consumeTag(A.Segment.Cues.CuePoint.CueTrackPositions,!0);){var Ie=te.getMatroskaCodedNum(),le=te.getPos();if((Se={}).Track=te.parseTag(A.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===Se.Track)throw new Error("Cue track cannot be 0");Se.ClusterPosition=te.parseTag(A.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),ue.CueTracks.push(Se),te.setPos(le+Ie)}if(0===ue.CueTracks.length)throw new Error("Mandatory cuetrack not found");me.push(ue)}if(0===me.length)throw new Error("mandatory cuepoint not found");return me}(H)).length;we<_e;we+=1)(Me=new b.default).duration=we<Ie.length-1?Ie[we+1].CueTime-Ie[we].CueTime:ue-Ie[we].CueTime,Me.startTime=Ie[we].CueTime,Me.timescale=1e3,Me.mediaRange=Ie[we].CueTracks[0].ClusterPosition+me+"-"+(we<Ie.length-1?Ie[we+1].CueTracks[0].ClusterPosition+me-1:te-1),le.push(Me);return v.debug("Parsed cues: "+le.length+" cues."),le}function z(H){var me=new F.default;return me.setInfo(H),me}return g={setConfig:function S(H){if(!(H.baseURLController&&H.dashMetrics&&H.mediaPlayerModel&&H.errHandler))throw new Error(E.default.MISSING_CONFIG_ERROR);w=H.baseURLController,V=H.dashMetrics,k=H.mediaPlayerModel,U=H.errHandler,C=H.errors,v=H.debug.getLogger(g),P=H.requestModifier},initialize:function N(){R=Object(L.default)(h).create({errHandler:U,dashMetrics:V,mediaPlayerModel:k,requestModifier:P,errors:C})},loadInitialization:function ae(H,me){return new Promise(function(te){var ue=null,Se=H?w.resolve(H.path):null,Ie=H?H.range.split("-"):null,le={range:{start:Ie?parseFloat(Ie[0]):null,end:Ie?parseFloat(Ie[1]):null},request:ue,url:Se?Se.url:void 0,init:!0,mediaType:me};v.info("Start loading initialization."),ue=z(le),R.load({request:ue,success:function(){te(H)},error:function(){te(H)}}),v.debug("Perform init load: "+le.url)})},loadSegments:function Re(H,me,te){return new Promise(function(ue){var Se=null,Ie=H?w.resolve(H.path):null,le=Ie?Ie.url:void 0;Se=z({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:Se,url:le,init:!1,mediaType:me}),v.debug("Parsing ebml header"),R.load({request:Se,success:function(Oe){!function re(H,me,te,ue){if(H&&0!==H.byteLength){var Ie,le,Me,we,Se=Object(t.default)(h).create({data:H}),_e=te?te.split("-"):null,Le=null,Pe={url:me,range:{start:_e?parseFloat(_e[0]):null,end:_e?parseFloat(_e[1]):null},request:Le};for(v.debug("Parse EBML header: "+Pe.url),Se.skipOverElement(A.EBML),Se.consumeTag(A.Segment),Me=Se.getMatroskaCodedNum(),Me+=Se.getPos(),we=Se.getPos();Se.moreData()&&!Se.consumeTagAndSize(A.Segment.Info,!0);)if(!(Se.skipOverElement(A.Segment.SeekHead,!0)||Se.skipOverElement(A.Segment.Tracks,!0)||Se.skipOverElement(A.Segment.Cues,!0)||Se.skipOverElement(A.Void,!0)))throw new Error("no valid top level element found");for(;void 0===Ie;){var Oe=Se.getMatroskaCodedNum(!0),Ue=Se.getMatroskaCodedNum();Oe===A.Segment.Info.Duration.tag?Ie=Se[A.Segment.Info.Duration.parse](Ue):Se.setPos(Se.getPos()+Ue)}Le=z(Pe),R.load({request:Le,success:function(ye){le=Y(ye,we,Me,Ie),ue(le)},error:function(){v.error("Download Error: Cues "+Pe.url),ue(null)}}),v.debug("Perform cues load: "+Pe.url+" bytes="+Pe.range.start+"-"+Pe.range.end)}else ue(null)}(Oe,le,te,function(Ue){ue({segments:Ue,representation:H,error:Ue?void 0:new D.default(C.SEGMENT_BASE_LOADER_ERROR_CODE,C.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){ue({representation:H,error:new D.default(C.SEGMENT_BASE_LOADER_ERROR_CODE,C.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function oe(){R&&(R.abort(),R=null)}},function T(){A={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}(),g}m.__dashjs_factory_name="WebmSegmentBaseLoader",x.default=O.default.getSingletonFactory(m)},"./src/dash/constants/DashConstants.js":
/*!*********************************************!*\
                  !*** ./src/dash/constants/DashConstants.js ***!
                  \*********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}function O(h,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,F(A.key),A)}}function F(h){var g=function L(h,g){if("object"!==t(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(h)}(h,"string");return"symbol"===t(g)?g:String(g)}c.r(x);var m=new(function(){function h(){(function E(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,h),this.init()}return function b(h,g,v){return g&&O(h.prototype,g),v&&O(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.PROXY_SERVER_URL="proxyServerURL",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",SERVICE_LOCATION_PRIORITY:"SERVICE-LOCATION-PRIORITY"}}}]),h}());x.default=m},"./src/dash/controllers/ContentSteeringController.js":
/*!***********************************************************!*\
                  !*** ./src/dash/controllers/ContentSteeringController.js ***!
                  \***********************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),O=c(
/*! ../../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),b=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),F=c(
/*! ../vo/ContentSteeringRequest */
"./src/dash/vo/ContentSteeringRequest.js"),L=c(
/*! ../vo/ContentSteeringResponse */
"./src/dash/vo/ContentSteeringResponse.js"),D=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),m=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),h=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),g=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),v=c(
/*! ../../core/Utils */
"./src/core/Utils.js"),A=c(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),U_THROUGHPUT="_DASH_throughput",U_PATHWAY="_DASH_pathway",U_URL="url";function P(){var R,C,w,T,N,S,B,Y,re,ae,Re,z,oe,H,me,V=this.context,k=Object(A.default)(V).getInstance();function Ie(K){K&&K.toStreamInfo&&(T=K.toStreamInfo)}function le(K){K&&K.request&&K.request.serviceLocation&&(N=K.request.serviceLocation)}function Me(){var K=Re.getValue();return me.getContentSteering(K)}function _e(){return new Promise(function(K){try{var ie=Me();if(!ie||!ie.serverUrl)return void K();var he=function Le(K){var ie=K.proxyServerUrl?K.proxyServerUrl:K.serverUrl;w&&w.reloadUri&&(ie=k.isRelative(w.reloadUri)?k.resolve(w.reloadUri,K.serverUrl):w.reloadUri);var he=[];if(T){var $=me.getIsDynamic(),Z=me.getAllMediaInfoForType(T,g.default.VIDEO).length>0?g.default.VIDEO:g.default.AUDIO,W=oe.getThroughputHistory(),X=W?W.getAverageThroughput(Z,$):NaN;isNaN(X)||he.push({key:U_THROUGHPUT,value:1e3*X})}return N&&he.push({key:U_PATHWAY,value:N}),K.proxyServerUrl&&K.proxyServerUrl===ie&&K.serverUrl&&he.push({key:U_URL,value:encodeURI(K.serverUrl)}),v.default.addAditionalQueryParameterToUrl(ie,he)}(ie),$=new F.default(he);B.load({request:$,success:function(W){(function Pe(K){!K||!K[D.default.CONTENT_STEERING_RESPONSE.VERSION]||1!==parseInt(K[D.default.CONTENT_STEERING_RESPONSE.VERSION])||((w=new L.default).version=K[D.default.CONTENT_STEERING_RESPONSE.VERSION],K[D.default.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(K[D.default.CONTENT_STEERING_RESPONSE.TTL])&&(w.ttl=K[D.default.CONTENT_STEERING_RESPONSE.TTL]),K[D.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(w.reloadUri=K[D.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]),K[D.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]&&(w.serviceLocationPriority=K[D.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]),Oe())})(W),H.trigger(m.default.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:w,url:he}),K()},error:function(W){(function ze(K){C.warn("Error fetching data from content steering server",K),Oe()})(W),K(W)}})}catch(Z){K(Z)}})}function Oe(){w&&w.ttl&&!isNaN(w.ttl)&&(S&&clearTimeout(S),S=setTimeout(function(){_e()},1e3*w.ttl))}function Ue(){S&&clearTimeout(S),S=null}function ye(){w=null,T=null,N=null,Ue()}return R={reset:function Ae(){ye(),H.off(m.default.PERIOD_SWITCH_COMPLETED,Ie,R),H.off(h.default.FRAGMENT_LOADING_STARTED,le,R)},setConfig:function ue(K){K&&(K.adapter&&(me=K.adapter),K.errHandler&&(Y=K.errHandler),K.dashMetrics&&(re=K.dashMetrics),K.mediaPlayerModel&&(ae=K.mediaPlayerModel),K.requestModifier&&(z=K.requestModifier),K.manifestModel&&(Re=K.manifestModel),K.abrController&&(oe=K.abrController),K.eventBus&&(H=K.eventBus))},loadSteeringData:_e,getCurrentSteeringResponseData:function He(){return w},shouldQueryBeforeStart:function we(){var K=Me();return K&&K.queryBeforeStart},getSteeringDataFromManifest:Me,stopSteeringRequestTimer:Ue,initialize:function Se(){B=Object(O.default)(V).create({errHandler:Y,dashMetrics:re,mediaPlayerModel:ae,requestModifier:z,errors:b.default}),H.on(m.default.PERIOD_SWITCH_COMPLETED,Ie,R),H.on(h.default.FRAGMENT_LOADING_STARTED,le,R)}},function te(){C=Object(E.default)(V).getInstance().getLogger(R),ye()}(),R}P.__dashjs_factory_name="ContentSteeringController",x.default=t.default.getSingletonFactory(P)},"./src/dash/controllers/RepresentationController.js":
/*!**********************************************************!*\
                  !*** ./src/dash/controllers/RepresentationController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),O=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),b=c(
/*! ../utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function F(L){var C,w,T,N,S,D=(L=L||{}).eventBus,m=L.events,h=L.abrController,g=L.dashMetrics,v=L.playbackController,A=L.timelineConverter,U=L.type,P=L.streamInfo,V=L.dashConstants,k=L.segmentsController,R=L.isDynamic;function re(){return U}function ae(){if(!(h&&g&&v&&A))throw new Error(t.default.MISSING_CONFIG_ERROR)}function z(){return T}function oe(){return S}function H(){w=null,T=!0,N=[]}function ue(Ae){return new Promise(function(ye,K){var ie=Ae.hasInitialization(),he=Ae.hasSegments(),$=[];$.push(k.updateInitData(Ae,ie)),$.push(k.updateSegmentData(Ae,he)),Promise.all($).then(function(Z){Z[0]&&!Z[0].error&&(Ae=function Ie(Ae,ye){return ye&&!ye.error&&ye.representation?ye.representation:Ae}(Ae,Z[0])),Z[1]&&!Z[1].error&&(Ae=function le(Ae,ye){if(ye&&!ye.error){var $,Z,W,X,K=ye.segments,ie=[],he=0;for($=0,Z=K?K.length:0;$<Z;$++)W=K[$],(X=Object(b.getTimeBasedSegment)(A,R,Ae,W.startTime,W.duration,W.timescale,W.media,W.mediaRange,he))&&(ie.push(X),X=null,he++);return ie.length>0&&(Ae.segments=ie),Ae}}(Ae,Z[1])),function Se(Ae){Ae.mediaFinishedInformation=k.getMediaFinishedInformation(Ae)}(Ae),function Oe(Ae){if(z()){var ie,ye=g.getCurrentManifestUpdate(),K=!1;if(ye){for(var $=0;$<ye.representationInfo.length;$++)if((ie=ye.representationInfo[$]).index===Ae.index&&ie.mediaType===re()){K=!0;break}K||g.addManifestUpdateRepresentationInfo(Ae,re())}if(function Le(){for(var Ae=0,ye=N.length;Ae<ye;Ae++){var K=N[Ae].segmentInfoType;if(!N[Ae].hasInitialization()||(K===V.SEGMENT_BASE||K===V.BASE_URL)&&!N[Ae].segments)return!1}return!0}()){h.setPlaybackQuality(U,P,function _e(Ae){return N.indexOf(Ae)}(S));var Z=g.getCurrentDVRInfo(U);Z&&g.updateManifestUpdateInfo({latency:Z.range.end-v.getTime()}),g.getCurrentRepresentationSwitch(oe().adaptation.type)||Me(),Pe()}}}(Ae),ye()}).catch(function(Z){K(Z)})})}function Me(){ae();var Ae=new Date,ye=oe(),K=1e3*v.getTime();ye&&g.addRepresentationSwitch(ye.adaptation.type,Ae,K,ye.id),D.trigger(O.default.REPRESENTATION_SWITCH,{mediaType:U,streamId:P.id,currentRepresentation:ye,numberOfRepresentations:N.length},{streamId:P.id,mediaType:U})}function we(Ae){return null==Ae||Ae>=N.length?null:N[Ae]}function Pe(Ae){T=!1,D.trigger(m.DATA_UPDATE_COMPLETED,{data:w,currentRepresentation:S,error:Ae},{streamId:P.id,mediaType:U})}function ze(Ae){S=Ae}function He(Ae){if(Ae.newDuration){var ye=oe();ye&&ye.adaptation.period&&(ye.adaptation.period.duration=Ae.newDuration)}}return C={getStreamId:function Y(){return P.id},getType:re,getData:function Re(){return w},isUpdating:z,updateData:function te(Ae,ye,K,ie,he){if(ae(),T=!0,N=ye,ze(we(he)),w=Ae,K!==t.default.VIDEO&&K!==t.default.AUDIO&&(K!==t.default.TEXT||!ie))return Pe(),Promise.resolve();for(var Z=[],W=0,X=N.length;W<X;W++)Z.push(ue(N[W]));return Promise.all(Z)},getCurrentRepresentation:oe,getRepresentationForQuality:we,prepareQualityChange:function Ue(Ae){ze(we(Ae)),Me()},reset:function me(){D.off(O.default.MANIFEST_VALIDITY_CHANGED,He,C),H()}},function B(){H(),D.on(O.default.MANIFEST_VALIDITY_CHANGED,He,C)}(),C}F.__dashjs_factory_name="RepresentationController",x.default=E.default.getClassFactory(F)},"./src/dash/controllers/SegmentBaseController.js":
/*!*******************************************************!*\
                  !*** ./src/dash/controllers/SegmentBaseController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../SegmentBaseLoader */
"./src/dash/SegmentBaseLoader.js"),O=c(
/*! ../WebmSegmentBaseLoader */
"./src/dash/WebmSegmentBaseLoader.js");function b(L){var C,w,T,D=this.context,m=(L=L||{}).eventBus,h=L.events,g=L.dashMetrics,v=L.mediaPlayerModel,A=L.errHandler,U=L.baseURLController,P=L.debug,V=L.boxParser,k=L.requestModifier,R=L.errors;function S(Re){return"webm"===(Re?Re.split("/")[1]:"").toLowerCase()}return C={initialize:function B(){w.initialize(),T.initialize()},getSegmentBaseInitSegment:function Y(Re){return S(Re.representation.mimeType)?T.loadInitialization(Re.representation,Re.mediaType):w.loadInitialization(Re.representation,Re.mediaType)},getSegmentList:function re(Re){return S(Re.mimeType)?T.loadSegments(Re.representation,Re.mediaType,Re.representation?Re.representation.indexRange:null):w.loadSegments(Re.representation,Re.mediaType,Re.representation?Re.representation.indexRange:null)},reset:function ae(){w.reset(),T.reset()}},function N(){w=Object(E.default)(D).getInstance(),T=Object(O.default)(D).getInstance(),w.setConfig({baseURLController:U,dashMetrics:g,mediaPlayerModel:v,errHandler:A,eventBus:m,events:h,errors:R,debug:P,boxParser:V,requestModifier:k}),T.setConfig({baseURLController:U,dashMetrics:g,mediaPlayerModel:v,errHandler:A,eventBus:m,events:h,errors:R,debug:P,requestModifier:k})}(),C}b.__dashjs_factory_name="SegmentBaseController";var F=t.default.getSingletonFactory(b);x.default=F},"./src/dash/controllers/SegmentsController.js":
/*!****************************************************!*\
                  !*** ./src/dash/controllers/SegmentsController.js ***!
                  \****************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../utils/TimelineSegmentsGetter */
"./src/dash/utils/TimelineSegmentsGetter.js"),O=c(
/*! ../utils/TemplateSegmentsGetter */
"./src/dash/utils/TemplateSegmentsGetter.js"),b=c(
/*! ../utils/ListSegmentsGetter */
"./src/dash/utils/ListSegmentsGetter.js"),F=c(
/*! ../utils/SegmentBaseGetter */
"./src/dash/utils/SegmentBaseGetter.js");function L(m){var U,P,h=this.context,g=(m=m||{}).dashConstants,v=m.type,A=m.segmentBaseController;function w(B){return B?B.segments?P[g.SEGMENT_BASE]:P[B.segmentInfoType]:null}return U={initialize:function k(B){P[g.SEGMENT_TIMELINE]=Object(E.default)(h).create(m,B),P[g.SEGMENT_TEMPLATE]=Object(O.default)(h).create(m,B),P[g.SEGMENT_LIST]=Object(b.default)(h).create(m,B),P[g.SEGMENT_BASE]=Object(F.default)(h).create(m,B)},updateInitData:function R(B,Y){return Y?Promise.resolve():A.getSegmentBaseInitSegment({representation:B,mediaType:v})},updateSegmentData:function C(B,Y){return Y?Promise.resolve():A.getSegmentList({mimeType:B.mimeType,representation:B,mediaType:v})},getSegmentByIndex:function T(B,Y,re){var ae=w(B);return ae?ae.getSegmentByIndex(B,Y,re):null},getSegmentByTime:function N(B,Y){var re=w(B);return re?re.getSegmentByTime(B,Y):null},getMediaFinishedInformation:function S(B){var Y=w(B);return Y?Y.getMediaFinishedInformation(B):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},function V(){P={}}(),U}L.__dashjs_factory_name="SegmentsController";var D=t.default.getClassFactory(L);x.default=D},"./src/dash/controllers/ServiceDescriptionController.js":
/*!**************************************************************!*\
                  !*** ./src/dash/controllers/ServiceDescriptionController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),O=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),F=[O.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME],L_VIDEO="video",L_AUDIO="audio",L_ANY="any",L_ALL="all";function D(){var h,g,v,A,U,m=this.context;function R(){g={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{}},v=[]}function ae(H,me,te){try{g[H][me]=te/1e3}catch(ue){A.error(ue)}}return h={getServiceDescriptionSettings:function C(){return g},getProducerReferenceTimeOffsets:function Re(){return v},calculateProducerReferenceTimeOffsets:function z(H){try{var me=[];if(H&&H.length>0){var te=[O.default.VIDEO,O.default.AUDIO,O.default.TEXT],ue=U.getAvailabilityStartTime()/1e3;H.forEach(function(Se){var Ie=te.reduce(function(le,Me){return le.concat(U.getAllMediaInfoForType(Se,Me))},[]).reduce(function(le,Me){return U.getProducerReferenceTimes(Se,Me).forEach(function(_e){var Le=U.getVoRepresentations(Me);if(Le&&Le.length>0&&Le[0].adaptation&&Le[0].segmentInfoType===b.default.SEGMENT_TEMPLATE){var Pe=Le[0],Ue=new Date(_e[b.default.WALL_CLOCK_TIME]).getTime()/1e3;le.push({id:_e[b.default.ID],to:ue-(Ue-(_e[b.default.PRESENTATION_TIME]/Pe[b.default.TIMESCALE]-Pe[b.default.PRESENTATION_TIME_OFFSET]+Se.start))})}}),le},[]);me=me.concat(Ie)})}v=me}catch(Se){A.error(Se),v=[]}},applyServiceDescription:function w(H){if(H&&H.serviceDescriptions){var me=H.serviceDescriptions.filter(function(Se){return F.includes(Se.schemeIdUri)}),te=H.serviceDescriptions.filter(function(Se){return null==Se.schemeIdUri}),ue=me.length>0?me[me.length-1]:te[te.length-1];ue&&(ue.latency&&ue.latency.target>0&&function T(H){var me;if(me=H.schemeIdUri===O.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME?function S(H){return{liveDelay:H.latency.target/1e3,maxDrift:!isNaN(H.latency.max)&&H.latency.max>H.latency.target?(H.latency.max-H.latency.target+500)/1e3:NaN,referenceId:H.latency.referenceId||NaN}}(H):function N(H){return{liveDelay:H.latency.target/1e3,maxDrift:!isNaN(H.latency.max)&&H.latency.max>H.latency.target?(H.latency.max-H.latency.target+500)/1e3:NaN,referenceId:H.latency.referenceId||NaN}}(H),v.length>0){var te=function oe(H){var te,me=0,ue=v.filter(function(Se){return Se.id===H.referenceId});return 0===ue.length?(me=v.length>0?v[0].to:0,te=v[0].id||NaN):(me=ue[0].to||0,te=ue[0].id||NaN),{to:me,id:te}}(me),ue=te.to,Se=te.id;g.liveDelay=me.liveDelay-ue,g.liveCatchup.maxDrift=me.maxDrift,A.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(ue," from ProducerReferenceTime element with id ").concat(Se,".\n                Live Delay: ").concat(me.liveDelay-ue,", Live catchup max drift: ").concat(me.maxDrift,"\n            "))}else g.liveDelay=me.liveDelay,g.liveCatchup.maxDrift=me.maxDrift,A.debug("Found latency properties coming from service description: Live Delay: ".concat(me.liveDelay,", Live catchup max drift: ").concat(me.maxDrift))}(ue),ue.playbackRate&&function B(H){var me=H.playbackRate.min?Math.round(1e3*(H.playbackRate.min-1))/1e3:NaN,te=H.playbackRate.max?Math.round(1e3*(H.playbackRate.max-1))/1e3:NaN;g.liveCatchup.playbackRate.min=me,g.liveCatchup.playbackRate.max=te,A.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(me)),A.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(te))}(ue),ue.operatingBandwidth&&function re(H){if(H&&H.operatingBandwidth&&H.operatingBandwidth.mediaType&&H.operatingBandwidth.mediaType!==L_ALL){var me={};me.minBandwidth=H.operatingBandwidth.min,me.maxBandwidth=H.operatingBandwidth.max,me.targetBandwidth=H.operatingBandwidth.target;var te=[];H.operatingBandwidth.mediaType===L_VIDEO||H.operatingBandwidth.mediaType===L_AUDIO?te.push(H.operatingBandwidth.mediaType):H.operatingBandwidth.mediaType===L_ANY&&(te.push(L_AUDIO),te.push(L_VIDEO)),te.forEach(function(ue){isNaN(me.minBandwidth)||ae("minBitrate",ue,me.minBandwidth),isNaN(me.maxBandwidth)||ae("maxBitrate",ue,me.maxBandwidth),isNaN(me.targetBandwidth)||ae("initialBitrate",ue,me.targetBandwidth)})}}(ue))}},reset:function k(){R()},setConfig:function V(H){H&&H.adapter&&(U=H.adapter)}},function P(){A=Object(E.default)(m).getInstance().getLogger(h),R()}(),h}D.__dashjs_factory_name="ServiceDescriptionController",x.default=t.default.getSingletonFactory(D)},"./src/dash/models/DashManifestModel.js":
/*!**********************************************!*\
                  !*** ./src/dash/models/DashManifestModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),O=c(
/*! ../vo/Representation */
"./src/dash/vo/Representation.js"),b=c(
/*! ../vo/AdaptationSet */
"./src/dash/vo/AdaptationSet.js"),F=c(
/*! ../vo/Period */
"./src/dash/vo/Period.js"),L=c(
/*! ../vo/Mpd */
"./src/dash/vo/Mpd.js"),D=c(
/*! ../vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),m=c(
/*! ../vo/Event */
"./src/dash/vo/Event.js"),h=c(
/*! ../vo/BaseURL */
"./src/dash/vo/BaseURL.js"),g=c(
/*! ../vo/EventStream */
"./src/dash/vo/EventStream.js"),v=c(
/*! ../vo/ProducerReferenceTime */
"./src/dash/vo/ProducerReferenceTime.js"),A=c(
/*! ../vo/ContentSteering */
"./src/dash/vo/ContentSteering.js"),U=c(
/*! ../../streaming/utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),P=c(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),V=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),k=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),R=c(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),C=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),w=c(
/*! ../../streaming/thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js");function T(z,oe){var H=typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(!H){if(Array.isArray(z)||(H=B(z))||oe&&z&&"number"==typeof z.length){H&&(z=H);var me=0,te=function(){};return{s:te,n:function(){return me>=z.length?{done:!0}:{done:!1,value:z[me++]}},e:function(Me){throw Me},f:te}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ie,ue=!0,Se=!1;return{s:function(){H=H.call(z)},n:function(){var Me=H.next();return ue=Me.done,Me},e:function(Me){Se=!0,Ie=Me},f:function(){try{!ue&&null!=H.return&&H.return()}finally{if(Se)throw Ie}}}}function N(z){return function re(z){if(Array.isArray(z))return ae(z)}(z)||function Y(z){if(typeof Symbol<"u"&&null!=z[Symbol.iterator]||null!=z["@@iterator"])return Array.from(z)}(z)||B(z)||function S(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(z,oe){if(z){if("string"==typeof z)return ae(z,oe);var H=Object.prototype.toString.call(z).slice(8,-1);if("Object"===H&&z.constructor&&(H=z.constructor.name),"Map"===H||"Set"===H)return Array.from(z);if("Arguments"===H||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H))return ae(z,oe)}}function ae(z,oe){(null==oe||oe>z.length)&&(oe=z.length);for(var H=0,me=new Array(oe);H<oe;H++)me[H]=z[H];return me}function Re(){var z,oe,H,me,te=this.context,ue=Object(P.default)(te).getInstance(),Se=Number.isInteger||function(St){return"number"==typeof St&&isFinite(St)&&Math.floor(St)===St};function le(St,at){if(!St)throw new Error("adaptation is not defined");if(!at)throw new Error("type is not defined");if(St.Representation_asArray&&St.Representation_asArray.length){var Xt=dn(St.Representation_asArray[0]);if(Xt&&Xt.length>0&&w.THUMBNAILS_SCHEME_ID_URIS.indexOf(Xt[0].schemeIdUri)>=0)return at===t.default.IMAGE}if(St.ContentComponent_asArray&&St.ContentComponent_asArray.length>0){if(St.ContentComponent_asArray.length>1)return at===t.default.MUXED;if(St.ContentComponent_asArray[0].contentType===at)return!0}var Ke=at===t.default.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(at);if(St.Representation_asArray&&St.Representation_asArray.length&&Ke.test(St.Representation_asArray[0].codecs))return!0;if(St.hasOwnProperty(E.default.MIME_TYPE))return Ke.test(St.mimeType);if(St.Representation_asArray)for(var Ct,Yt=0;Yt<St.Representation_asArray.length;Yt++)if((Ct=St.Representation_asArray[Yt]).hasOwnProperty(E.default.MIME_TYPE))return Ke.test(Ct.mimeType);return!1}function Me(St){if(!St)throw new Error("adaptation is not defined");if(St.hasOwnProperty(E.default.SEGMENT_TEMPLATE)||St.hasOwnProperty(E.default.SEGMENT_TIMELINE)||St.hasOwnProperty(E.default.SEGMENT_LIST)||St.hasOwnProperty(E.default.SEGMENT_BASE))return!0;if(St.Representation_asArray&&St.Representation_asArray.length>0){var at=St.Representation_asArray[0];if(at.hasOwnProperty(E.default.SEGMENT_TEMPLATE)||at.hasOwnProperty(E.default.SEGMENT_TIMELINE)||at.hasOwnProperty(E.default.SEGMENT_LIST)||at.hasOwnProperty(E.default.SEGMENT_BASE))return!0}return!1}function we(St){return le(St,t.default.AUDIO)}function _e(St){return le(St,t.default.VIDEO)}function Le(St){return le(St,t.default.TEXT)}function Pe(St){return le(St,t.default.MUXED)}function Oe(St){return le(St,t.default.IMAGE)}function he(){return function(St,at){return St.bandwidth-at.bandwidth}}function $(St){return St&&Array.isArray(St.Representation_asArray)&&St.Representation_asArray.sort(function(St,at){return St.bandwidth-at.bandwidth}),St}function Z(St,at){return St&&St.Period_asArray&&Se(at)&&St.Period_asArray[at]?St.Period_asArray[at].AdaptationSet_asArray:[]}function W(St){return St&&St.Period_asArray?St.Period_asArray:[]}function Ze(St){var at=!1;return St&&St.hasOwnProperty("type")&&(at=St.type===E.default.DYNAMIC),at}function dn(St){return St&&St.EssentialProperty_asArray&&St.EssentialProperty_asArray.length?St.EssentialProperty_asArray.map(function(at){return{schemeIdUri:at.schemeIdUri,value:at.value}}):null}function dt(St){if(!St||!St.S_asArray)return NaN;var at=St.S_asArray[0],Xt=St.S_asArray[1];return at.hasOwnProperty("d")?at.d:Xt.t-at.t}function xe(St){return St.adaptation.period.start-St.presentationTimeOffset}function st(St,at){if(!St)throw new Error("Period cannot be null or undefined");var Xt=F.default.DEFAULT_ID+"_"+at;return St.hasOwnProperty(E.default.ID)&&St.id.length>0&&"__proto__"!==St.id&&(Xt=St.id),Xt}function Nt(St,at,Xt){var tt,Ke=[];if(!St)return Ke;for(tt=0;tt<St.length;tt++){var Ct=new g.default;if(Ct.timescale=1,Ct.representation=at,!St[tt].hasOwnProperty(t.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");Ct.schemeIdUri=St[tt].schemeIdUri,St[tt].hasOwnProperty(E.default.TIMESCALE)&&(Ct.timescale=St[tt].timescale),St[tt].hasOwnProperty(E.default.VALUE)&&(Ct.value=St[tt].value),Ke.push(Ct),Ct.period=Xt}return Ke}function en(St){var at=[],Ke=!1;return(St.BaseURL_asArray||[St.baseUri]).some(function(tt){if(tt){var Ct=new h.default,Yt=tt.__text||tt;return ue.isRelative(Yt)&&(Ke=!0,St.baseUri&&(Yt=ue.resolve(Yt,St.baseUri))),Ct.url=Yt,Ct.serviceLocation=tt.hasOwnProperty(E.default.SERVICE_LOCATION)&&tt.serviceLocation.length?tt.serviceLocation:Yt,tt.hasOwnProperty(E.default.DVB_PRIORITY)&&(Ct.dvb_priority=tt[E.default.DVB_PRIORITY]),tt.hasOwnProperty(E.default.DVB_WEIGHT)&&(Ct.dvb_weight=tt[E.default.DVB_WEIGHT]),tt.hasOwnProperty(E.default.AVAILABILITY_TIME_OFFSET)&&(Ct.availabilityTimeOffset=tt[E.default.AVAILABILITY_TIME_OFFSET]),tt.hasOwnProperty(E.default.AVAILABILITY_TIME_COMPLETE)&&(Ct.availabilityTimeComplete="false"!==tt[E.default.AVAILABILITY_TIME_COMPLETE]),at.push(Ct),Ke}}),at}return z={getIsTypeOf:le,getIsText:Le,getIsFragmented:Me,getProducerReferenceTimesForAdaptation:function Ue(St){var at=St&&St.hasOwnProperty(E.default.PRODUCERREFERENCETIME_ASARRAY)?St[E.default.PRODUCERREFERENCETIME_ASARRAY]:[];(St&&St.hasOwnProperty(E.default.REPRESENTATION_ASARRAY)?St[E.default.REPRESENTATION_ASARRAY]:[]).forEach(function(tt){tt.hasOwnProperty(E.default.PRODUCERREFERENCETIME_ASARRAY)&&at.push.apply(at,N(tt[E.default.PRODUCERREFERENCETIME_ASARRAY]))});var Ke=[];return at.forEach(function(tt){var Ct=new v.default;tt.hasOwnProperty(E.default.ID)&&(Ct[E.default.ID]=tt[E.default.ID],tt.hasOwnProperty(E.default.WALL_CLOCK_TIME)&&(Ct[E.default.WALL_CLOCK_TIME]=tt[E.default.WALL_CLOCK_TIME],tt.hasOwnProperty(E.default.PRESENTATION_TIME)&&(Ct[E.default.PRESENTATION_TIME]=tt[E.default.PRESENTATION_TIME],Ke.push(Ct))))}),Ke},getLanguageForAdaptation:function ze(St){var at="";return St&&St.hasOwnProperty(E.default.LANG)&&(at=St.lang),at},getViewpointForAdaptation:function He(St){return St&&St.hasOwnProperty(E.default.VIEWPOINT)?St.Viewpoint:null},getRolesForAdaptation:function Ae(St){return St&&St.hasOwnProperty(E.default.ROLE_ASARRAY)?St.Role_asArray:[]},getAccessibilityForAdaptation:function ye(St){return St&&St.hasOwnProperty(E.default.ACCESSIBILITY_ASARRAY)?St.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function K(St){return St&&St.hasOwnProperty(E.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?St.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function ie(St){return St&&St.hasOwnProperty(E.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?St.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function q(St,at,Xt){var Ke=Z(at,Xt);return Ke.length>0&&Se(St)?Ke[St]:null},getIndexForAdaptation:function J(St,at,Xt){if(!St)return-1;for(var Ke=Z(at,Xt),tt=0;tt<Ke.length;tt++)if(Object(U.default)(te).getInstance().areEqual(Ke[tt],St))return tt;return-1},getAdaptationForId:function Q(St,at,Xt){var tt,Ct,Ke=Z(at,Xt);for(tt=0,Ct=Ke.length;tt<Ct;tt++)if(Ke[tt].hasOwnProperty(E.default.ID)&&Ke[tt].id===St)return Ke[tt];return null},getAdaptationsForType:function de(St,at,Xt){var tt,Ct,Ke=Z(St,at),Yt=[];for(tt=0,Ct=Ke.length;tt<Ct;tt++)le(Ke[tt],Xt)&&Yt.push($(Ke[tt]));return Yt},getRealPeriods:W,getRealPeriodForIndex:function X(St,at){var Xt=W(at);return Xt.length>0&&Se(St)?Xt[St]:null},getCodec:function pe(St,at,Xt){var Ke=null;if(St&&St.Representation_asArray&&St.Representation_asArray.length>0){var tt=Se(at)&&at>=0&&at<St.Representation_asArray.length?St.Representation_asArray[at]:St.Representation_asArray[0];tt&&(Ke=tt.mimeType+';codecs="'+tt.codecs+'"',Xt&&void 0!==tt.width&&(Ke+=';width="'+tt.width+'";height="'+tt.height+'"'))}return Ke&&(Ke=Ke.replace(/\sprofiles=[^;]*/g,"")),Ke},getSelectionPriority:function Qt(St){try{var at=St&&typeof St.selectionPriority<"u"?parseInt(St.selectionPriority):1;return isNaN(at)?1:at}catch{return 1}},getMimeType:function ce(St){return St&&St.Representation_asArray&&St.Representation_asArray.length>0?St.Representation_asArray[0].mimeType:null},getKID:function Ce(St){return St&&St.hasOwnProperty(E.default.CENC_DEFAULT_KID)?St[E.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function Ye(St){if(!St||!Array.isArray(St.Label_asArray))return[];for(var at=[],Xt=0;Xt<St.Label_asArray.length;Xt++)at.push({lang:St.Label_asArray[Xt].lang,text:St.Label_asArray[Xt].__text||St.Label_asArray[Xt]});return at},getContentProtectionData:function Be(St){return St&&St.hasOwnProperty(E.default.CONTENTPROTECTION_ASARRAY)&&0!==St.ContentProtection_asArray.length?St.ContentProtection_asArray:null},getIsDynamic:Ze,getId:function Qe(St){return St&&St[E.default.ID]||null},hasProfile:function $e(St,at){var Xt=!1;return St&&St.profiles&&St.profiles.length>0&&(Xt=-1!==St.profiles.indexOf(at)),Xt},getDuration:function ct(St){return St&&St.hasOwnProperty(E.default.MEDIA_PRESENTATION_DURATION)?St.mediaPresentationDuration:St&&"dynamic"==St.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function It(St){return St&&St.bandwidth?St.bandwidth:NaN},getManifestUpdatePeriod:function _t(St){var at=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Xt=NaN;return St&&St.hasOwnProperty(E.default.MINIMUM_UPDATE_PERIOD)&&(Xt=St.minimumUpdatePeriod),isNaN(Xt)?Xt:Math.max(Xt-at,1)},getPublishTime:function Pt(St){return St&&St.hasOwnProperty(E.default.PUBLISH_TIME)?new Date(St[E.default.PUBLISH_TIME]):null},getRepresentationCount:function Vt(St){return St&&Array.isArray(St.Representation_asArray)?St.Representation_asArray.length:0},getBitrateListForAdaptation:function $t(St){var at=$(St);return(at&&Array.isArray(at.Representation_asArray)?at.Representation_asArray:[]).map(function(Ke){return{bandwidth:Ke.bandwidth,width:Ke.width||0,height:Ke.height||0,scanType:Ke.scanType||null,id:Ke.id||null}})},getRepresentationFor:function pn(St,at){return at&&at.Representation_asArray&&at.Representation_asArray.length>0&&Se(St)?at.Representation_asArray[St]:null},getRepresentationsForAdaptation:function ot(St){var Ke,tt,at=[],Xt=function Un(St){if(St&&St.period&&Se(St.period.index)){var at=St.period.mpd.manifest.Period_asArray[St.period.index];if(at&&at.AdaptationSet_asArray&&Se(St.index))return $(at.AdaptationSet_asArray[St.index])}}(St);if(Xt&&Xt.Representation_asArray){if(St&&St.period&&Se(St.period.index)){var Ct=en(St.period.mpd.manifest);Ct&&(tt=Ct[0])}for(var Yt=0,Gt=Xt.Representation_asArray.length;Yt<Gt;++Yt){var _n=Xt.Representation_asArray[Yt],kt=new O.default;if(kt.index=Yt,kt.adaptation=St,_n.hasOwnProperty(E.default.ID)&&(kt.id=_n.id),_n.hasOwnProperty(E.default.CODECS)&&(kt.codecs=_n.codecs),_n.hasOwnProperty(E.default.MIME_TYPE)&&(kt.mimeType=_n[E.default.MIME_TYPE]),_n.hasOwnProperty(E.default.CODEC_PRIVATE_DATA)&&(kt.codecPrivateData=_n.codecPrivateData),_n.hasOwnProperty(E.default.BANDWITH)&&(kt.bandwidth=_n.bandwidth),_n.hasOwnProperty(E.default.WIDTH)&&(kt.width=_n.width),_n.hasOwnProperty(E.default.HEIGHT)&&(kt.height=_n.height),_n.hasOwnProperty(E.default.SCAN_TYPE)&&(kt.scanType=_n.scanType),_n.hasOwnProperty(E.default.MAX_PLAYOUT_RATE)&&(kt.maxPlayoutRate=_n.maxPlayoutRate),_n.hasOwnProperty(E.default.SEGMENT_BASE)?(Ke=_n.SegmentBase,kt.segmentInfoType=E.default.SEGMENT_BASE):_n.hasOwnProperty(E.default.SEGMENT_LIST)?kt.segmentInfoType=(Ke=_n.SegmentList).hasOwnProperty(E.default.SEGMENT_TIMELINE)?E.default.SEGMENT_TIMELINE:E.default.SEGMENT_LIST:_n.hasOwnProperty(E.default.SEGMENT_TEMPLATE)?(kt.segmentInfoType=(Ke=_n.SegmentTemplate).hasOwnProperty(E.default.SEGMENT_TIMELINE)?E.default.SEGMENT_TIMELINE:E.default.SEGMENT_TEMPLATE,Ke.hasOwnProperty(E.default.INITIALIZATION_MINUS)&&(kt.initialization=Ke.initialization.split("$Bandwidth$").join(_n.bandwidth).split("$RepresentationID$").join(_n.id))):kt.segmentInfoType=E.default.BASE_URL,kt.essentialProperties=dn(_n),Ke){if(Ke.hasOwnProperty(E.default.INITIALIZATION)){var Ot=Ke.Initialization;Ot.hasOwnProperty(E.default.SOURCE_URL)&&(kt.initialization=Ot.sourceURL),Ot.hasOwnProperty(E.default.RANGE)&&(kt.range=Ot.range)}else Le(Xt)&&Me(Xt)&&Xt.mimeType&&-1===Xt.mimeType.indexOf("application/mp4")&&(kt.range=0);Ke.hasOwnProperty(E.default.TIMESCALE)&&(kt.timescale=Ke.timescale),Ke.hasOwnProperty(E.default.DURATION)?kt.segmentDuration=Ke.duration/kt.timescale:_n.hasOwnProperty(E.default.SEGMENT_TEMPLATE)&&(Ke=_n.SegmentTemplate).hasOwnProperty(E.default.SEGMENT_TIMELINE)&&(kt.segmentDuration=dt(Ke.SegmentTimeline)/kt.timescale),Ke.hasOwnProperty(E.default.MEDIA)&&(kt.media=Ke.media),Ke.hasOwnProperty(E.default.START_NUMBER)&&(kt.startNumber=Ke.startNumber),Ke.hasOwnProperty(E.default.INDEX_RANGE)&&(kt.indexRange=Ke.indexRange),Ke.hasOwnProperty(E.default.PRESENTATION_TIME_OFFSET)&&(kt.presentationTimeOffset=Ke.presentationTimeOffset/kt.timescale),Ke.hasOwnProperty(E.default.AVAILABILITY_TIME_OFFSET)?kt.availabilityTimeOffset=Ke.availabilityTimeOffset:tt&&void 0!==tt.availabilityTimeOffset&&(kt.availabilityTimeOffset=tt.availabilityTimeOffset),Ke.hasOwnProperty(E.default.AVAILABILITY_TIME_COMPLETE)?kt.availabilityTimeComplete="false"!==Ke.availabilityTimeComplete:tt&&void 0!==tt.availabilityTimeComplete&&(kt.availabilityTimeComplete=tt.availabilityTimeComplete)}kt.MSETimeOffset=xe(kt),kt.path=[St.period.index,St.index,Yt],at.push(kt)}}return at},getAdaptationsForPeriod:function fe(St){var Ke,tt,Ct,at=St&&Se(St.index)?St.mpd.manifest.Period_asArray[St.index]:null,Xt=[];if(at&&at.AdaptationSet_asArray)for(Ct=0;Ct<at.AdaptationSet_asArray.length;Ct++)tt=at.AdaptationSet_asArray[Ct],Ke=new b.default,tt.hasOwnProperty(E.default.ID)&&(Ke.id=tt.id),Ke.index=Ct,Ke.period=St,Pe(tt)?Ke.type=t.default.MUXED:we(tt)?Ke.type=t.default.AUDIO:_e(tt)?Ke.type=t.default.VIDEO:Le(tt)?Ke.type=t.default.TEXT:Oe(tt)?Ke.type=t.default.IMAGE:oe.warn("Unknown Adaptation stream type"),Xt.push(Ke);return Xt},getRegularPeriods:function ge(St){var Gt,_n,at=!!St&&Ze(St.manifest),Xt=[],Ke=null,tt=null,Ct=null,Yt=null;for(_n=0,Gt=St&&St.manifest&&St.manifest.Period_asArray?St.manifest.Period_asArray.length:0;_n<Gt;_n++)(tt=St.manifest.Period_asArray[_n]).hasOwnProperty(E.default.START)?(Yt=new F.default).start=tt.start:null!==Ke&&Ke.hasOwnProperty(E.default.DURATION)&&null!==Ct?(Yt=new F.default).start=parseFloat((Ct.start+Ct.duration).toFixed(5)):0===_n&&!at&&((Yt=new F.default).start=0),null!==Ct&&isNaN(Ct.duration)&&(null!==Yt?Ct.duration=parseFloat((Yt.start-Ct.start).toFixed(5)):oe.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==Yt&&(Yt.id=st(tt,_n),Yt.index=_n,Yt.mpd=St,tt.hasOwnProperty(E.default.DURATION)&&(Yt.duration=tt.duration),Ct&&(Ct.nextPeriodId=Yt.id),Xt.push(Yt),Ke=tt,Ct=Yt),tt=null,Yt=null;return 0===Xt.length||null!==Ct&&isNaN(Ct.duration)&&(Ct.duration=parseFloat((function ut(St){!function Dt(){if(!H||!H.hasOwnProperty("error"))throw new Error(t.default.MISSING_CONFIG_ERROR)}();var Xt,at=Ze(St.mpd.manifest);return St.mpd.manifest.mediaPresentationDuration?Xt=St.mpd.manifest.mediaPresentationDuration:St.duration?Xt=St.duration:at?Xt=Number.POSITIVE_INFINITY:H.error(new R.default(C.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",St)),Xt}(Ct)-Ct.start).toFixed(5))),Xt},getMpd:function mt(St){var at=new L.default;return St&&(at.manifest=St,St.hasOwnProperty(E.default.AVAILABILITY_START_TIME)?at.availabilityStartTime=new Date(St.availabilityStartTime.getTime()):St.loadedTime&&(at.availabilityStartTime=new Date(St.loadedTime.getTime())),St.hasOwnProperty(E.default.AVAILABILITY_END_TIME)&&(at.availabilityEndTime=new Date(St.availabilityEndTime.getTime())),St.hasOwnProperty(E.default.MINIMUM_UPDATE_PERIOD)&&(at.minimumUpdatePeriod=St.minimumUpdatePeriod),St.hasOwnProperty(E.default.MEDIA_PRESENTATION_DURATION)&&(at.mediaPresentationDuration=St.mediaPresentationDuration),St.hasOwnProperty(E.default.SUGGESTED_PRESENTATION_DELAY)&&(at.suggestedPresentationDelay=St.suggestedPresentationDelay),St.hasOwnProperty(E.default.TIMESHIFT_BUFFER_DEPTH)&&(at.timeShiftBufferDepth=St.timeShiftBufferDepth),St.hasOwnProperty(E.default.MAX_SEGMENT_DURATION)&&(at.maxSegmentDuration=St.maxSegmentDuration),St.hasOwnProperty(E.default.PUBLISH_TIME)&&(at.publishTime=new Date(St.publishTime))),at},getEventsForPeriod:function bt(St){var Ct,Yt,at=St&&St.mpd&&St.mpd.manifest?St.mpd.manifest:null,Xt=at?at.Period_asArray:null,Ke=Xt&&St&&Se(St.index)?Xt[St.index].EventStream_asArray:null,tt=[];if(Ke)for(Ct=0;Ct<Ke.length;Ct++){var Gt=new g.default;if(Gt.period=St,Gt.timescale=1,!Ke[Ct].hasOwnProperty(t.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(Gt.schemeIdUri=Ke[Ct][t.default.SCHEME_ID_URI],Ke[Ct].hasOwnProperty(E.default.TIMESCALE)&&(Gt.timescale=Ke[Ct][E.default.TIMESCALE]),Ke[Ct].hasOwnProperty(E.default.VALUE)&&(Gt.value=Ke[Ct][E.default.VALUE]),Ke[Ct].hasOwnProperty(E.default.PRESENTATION_TIME_OFFSET)&&(Gt.presentationTimeOffset=Ke[Ct][E.default.PRESENTATION_TIME_OFFSET]),Yt=0;Ke[Ct].Event_asArray&&Yt<Ke[Ct].Event_asArray.length;Yt++){var _n=Ke[Ct].Event_asArray[Yt],kt=new m.default;kt.presentationTime=0,kt.eventStream=Gt,_n.hasOwnProperty(E.default.PRESENTATION_TIME)&&(kt.presentationTime=_n.presentationTime),kt.calculatedPresentationTime=kt.presentationTime/Gt.timescale+St.start-(Gt.presentationTimeOffset?Gt.presentationTimeOffset/Gt.timescale:0),_n.hasOwnProperty(E.default.DURATION)&&(kt.duration=_n.duration/Gt.timescale),kt.id=_n.hasOwnProperty(E.default.ID)?_n.id:null,kt.messageData=_n.Signal&&_n.Signal.Binary?me.decodeArray(_n.Signal.Binary.toString()):_n.messageData||_n.__cdata||_n.__text,tt.push(kt)}}return tt},getEssentialPropertiesForRepresentation:dn,getEventStreamForAdaptationSet:function Zt(St,at,Xt){var Ke,tt,Ct;return St&&St.Period_asArray&&at&&at.period&&Se(at.period.index)&&(tt=St.Period_asArray[at.period.index])&&tt.AdaptationSet_asArray&&Se(at.index)&&(Ct=tt.AdaptationSet_asArray[at.index])&&(Ke=Ct.InbandEventStream_asArray),Nt(Ke,null,Xt)},getEventStreamForRepresentation:function wt(St,at,Xt){var Ke,tt,Ct,Yt;return St&&St.Period_asArray&&at&&at.adaptation&&at.adaptation.period&&Se(at.adaptation.period.index)&&(tt=St.Period_asArray[at.adaptation.period.index])&&tt.AdaptationSet_asArray&&Se(at.adaptation.index)&&(Ct=tt.AdaptationSet_asArray[at.adaptation.index])&&Ct.Representation_asArray&&Se(at.index)&&(Yt=Ct.Representation_asArray[at.index])&&(Ke=Yt.InbandEventStream_asArray),Nt(Ke,at,Xt)},getUTCTimingSources:function Ht(St){var at=Ze(St),Xt=!!St&&St.hasOwnProperty(E.default.AVAILABILITY_START_TIME),Ke=St?St.UTCTiming_asArray:null,tt=[];return(at||Xt)&&Ke&&Ke.forEach(function(Ct){var Yt=new D.default;Ct.hasOwnProperty(t.default.SCHEME_ID_URI)&&(Yt.schemeIdUri=Ct.schemeIdUri,Ct.hasOwnProperty(E.default.VALUE)&&(Yt.value=Ct.value.toString(),tt.push(Yt)))}),tt},getBaseURLsFromElement:en,getRepresentationSortFunction:he,getContentSteering:function tn(St){if(St&&St.hasOwnProperty(E.default.CONTENT_STEERING_AS_ARRAY)){var at=St[E.default.CONTENT_STEERING_AS_ARRAY][0],Xt=new A.default;return Xt.serverUrl=at.__text,at.hasOwnProperty(E.default.DEFAULT_SERVICE_LOCATION)&&(Xt.defaultServiceLocation=at[E.default.DEFAULT_SERVICE_LOCATION]),at.hasOwnProperty(E.default.QUERY_BEFORE_START)&&(Xt.queryBeforeStart="true"===at[E.default.QUERY_BEFORE_START].toLowerCase()),at.hasOwnProperty(E.default.PROXY_SERVER_URL)&&(Xt.proxyServerUrl=at[E.default.PROXY_SERVER_URL]),Xt}},getLocation:function yn(St){if(St&&St.hasOwnProperty(t.default.LOCATION))return St.Location=St.Location_asArray[0],St.Location},getPatchLocation:function Tn(St){if(St&&St.hasOwnProperty(E.default.PATCH_LOCATION))return St.PatchLocation=St.PatchLocation_asArray[0],St.PatchLocation},getSuggestedPresentationDelay:function In(St){return St&&St.hasOwnProperty(E.default.SUGGESTED_PRESENTATION_DELAY)?St.suggestedPresentationDelay:null},getAvailabilityStartTime:function kn(St){return St&&St.hasOwnProperty(E.default.AVAILABILITY_START_TIME)&&null!==St.availabilityStartTime?St.availabilityStartTime.getTime():null},getServiceDescriptions:function qn(St){var at=[];if(St&&St.hasOwnProperty(E.default.SERVICE_DESCRIPTION)){var Ke,Xt=T(St.ServiceDescription_asArray);try{for(Xt.s();!(Ke=Xt.n()).done;){var tt=Ke.value,Ct=null,Yt=null,Gt=null,_n=null,kt=null,Ot=null;for(var Bt in tt)tt.hasOwnProperty(Bt)&&(Bt===E.default.ID?Ct=tt[Bt]:Bt===E.default.SERVICE_DESCRIPTION_SCOPE?Yt=tt[Bt].schemeIdUri:Bt===E.default.SERVICE_DESCRIPTION_LATENCY?Gt={target:parseInt(tt[Bt].target),max:parseInt(tt[Bt].max),min:parseInt(tt[Bt].min),referenceId:parseInt(tt[Bt].referenceId)}:Bt===E.default.SERVICE_DESCRIPTION_PLAYBACK_RATE?_n={max:parseFloat(tt[Bt].max),min:parseFloat(tt[Bt].min)}:Bt===E.default.SERVICE_DESCRIPTION_OPERATING_QUALITY?kt={mediaType:tt[Bt].mediaType,max:parseInt(tt[Bt].max),min:parseInt(tt[Bt].min),target:parseInt(tt[Bt].target),type:tt[Bt].type,maxQualityDifference:parseInt(tt[Bt].maxQualityDifference)}:Bt===E.default.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH&&(Ot={mediaType:tt[Bt].mediaType,max:parseInt(tt[Bt].max),min:parseInt(tt[Bt].min),target:parseInt(tt[Bt].target)}));at.push({id:Ct,schemeIdUri:Yt,latency:Gt,playbackRate:_n,operatingQuality:kt,operatingBandwidth:Ot})}}catch(on){Xt.e(on)}finally{Xt.f()}}return at},getSupplementalProperties:function ui(St){var at={};if(St&&St.hasOwnProperty(E.default.SUPPLEMENTAL_PROPERTY)){var Ke,Xt=T(St.SupplementalProperty_asArray);try{for(Xt.s();!(Ke=Xt.n()).done;){var tt=Ke.value;tt.hasOwnProperty(t.default.SCHEME_ID_URI)&&tt.hasOwnProperty(E.default.VALUE)&&(at[tt[t.default.SCHEME_ID_URI]]=tt[E.default.VALUE])}}catch(Ct){Xt.e(Ct)}finally{Xt.f()}}return at},setConfig:function Ft(St){St&&(St.errHandler&&(H=St.errHandler),St.BASE64&&(me=St.BASE64))}},function Ie(){oe=Object(k.default)(te).getInstance().getLogger(z)}(),z}Re.__dashjs_factory_name="DashManifestModel",x.default=V.default.getSingletonFactory(Re)},"./src/dash/models/PatchManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/dash/models/PatchManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),O=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=c(
/*! ../vo/SimpleXPath */
"./src/dash/vo/SimpleXPath.js"),F=c(
/*! ../vo/PatchOperation */
"./src/dash/vo/PatchOperation.js");function L(){var D,m,h=this.context;return D={getIsPatch:function v(k){return k&&k.hasOwnProperty(t.default.ORIGINAL_MPD_ID)||!1},getPublishTime:function A(k){return k&&k.hasOwnProperty(t.default.PUBLISH_TIME)?new Date(k[t.default.PUBLISH_TIME]):null},getOriginalPublishTime:function U(k){return k&&k.hasOwnProperty(t.default.ORIGINAL_PUBLISH_TIME)?new Date(k[t.default.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function P(k){return k&&k[t.default.ORIGINAL_MPD_ID]||null},getPatchOperations:function V(k){return k?(k.__children||[]).map(function(R){var C=Object.keys(R)[0];if("add"!==C&&"remove"!==C&&"replace"!==C)return m.warn("Ignoring node of invalid action: ".concat(C)),null;var w=R[C],T=w.sel;if("add"===C&&w.type){if(!w.type.startsWith("@"))return m.warn("Ignoring add action for prefixed namespace declaration: ".concat(w.type,"=").concat(w.__text)),null;T="".concat(T,"/").concat(w.type)}var N=new b.default(T);if(!N.isValid())return m.warn("Ignoring action with invalid selector: ".concat(C," - ").concat(T)),null;var S=null;N.findsAttribute()?S=w.__text||"":"remove"!==C&&(S=w.__children.reduce(function(Y,re){var ae=Object.keys(re)[0];return"#text"!==ae&&(Y[ae]=Y[ae]||[],Y[ae].push(re[ae])),Y},{}));var B=new F.default(C,N,S);return"add"===C&&(B.position=w.pos),B}).filter(function(R){return!!R}):[]}},function g(){m=Object(O.default)(h).getInstance().getLogger(D)}(),D}L.__dashjs_factory_name="PatchManifestModel",x.default=E.default.getSingletonFactory(L)},"./src/dash/parser/DashParser.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/DashParser.js ***!
                  \***************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ./objectiron */
"./src/dash/parser/objectiron.js"),O=c(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),b=c(
/*! ./matchers/StringMatcher */
"./src/dash/parser/matchers/StringMatcher.js"),F=c(
/*! ./matchers/DurationMatcher */
"./src/dash/parser/matchers/DurationMatcher.js"),L=c(
/*! ./matchers/DateTimeMatcher */
"./src/dash/parser/matchers/DateTimeMatcher.js"),D=c(
/*! ./matchers/NumericMatcher */
"./src/dash/parser/matchers/NumericMatcher.js"),m=c(
/*! ./matchers/LangMatcher */
"./src/dash/parser/matchers/LangMatcher.js"),h=c(
/*! ./maps/RepresentationBaseValuesMap */
"./src/dash/parser/maps/RepresentationBaseValuesMap.js"),g=c(
/*! ./maps/SegmentValuesMap */
"./src/dash/parser/maps/SegmentValuesMap.js");function v(A){var V,k,R,C,w,U=this.context,P=(A=A||{}).debug;return V={parse:function B(Y){var re,ae=window.performance.now();if(!(re=C.xml_str2json(Y)))throw new Error("parsing the manifest failed");var Re=window.performance.now();re.Patch?((re=re.Patch).add_asArray&&re.add_asArray.forEach(function(oe){return w.run(oe)}),re.replace_asArray&&re.replace_asArray.forEach(function(oe){return w.run(oe)})):w.run(re=re.MPD);var z=window.performance.now();return k.info("Parsing complete: ( xml2json: "+(Re-ae).toPrecision(3)+"ms, objectiron: "+(z-Re).toPrecision(3)+"ms, total: "+((z-ae)/1e3).toPrecision(3)+"s)"),re.protocol="DASH",re},getMatchers:function N(){return R},getIron:function S(){return w}},function T(){k=P.getLogger(V),R=[new F.default,new L.default,new D.default,new m.default,new b.default],C=new O.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:R}),w=Object(E.default)(U).create({adaptationset:new h.default,period:new g.default})}(),V}v.__dashjs_factory_name="DashParser",x.default=t.default.getClassFactory(v)},"./src/dash/parser/maps/CommonProperty.js":
/*!************************************************!*\
                  !*** ./src/dash/parser/maps/CommonProperty.js ***!
                  \************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function O(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,F(v.key),v)}}function F(m){var h=function L(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=function(){function m(h){!function E(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}(this,m);var A;this._name=h,this._merge=(A=h)&&A.length&&A.charAt(0)===A.charAt(0).toUpperCase()}return function b(m,h,g){return h&&O(m.prototype,h),g&&O(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}(m,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),m}()},"./src/dash/parser/maps/MapNode.js":
/*!*****************************************!*\
                  !*** ./src/dash/parser/maps/MapNode.js ***!
                  \*****************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./CommonProperty */
"./src/dash/parser/maps/CommonProperty.js");function E(h){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}function b(h,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,L(A.key),A)}}function L(h){var g=function D(h,g){if("object"!==E(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,g||"default");if("object"!==E(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(h)}(h,"string");return"symbol"===E(g)?g:String(g)}x.default=function(){function h(g,v,A){var U=this;(function O(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,h),this._name=g||"",this._properties=[],this._children=A||[],Array.isArray(v)&&v.forEach(function(P){U._properties.push(new t.default(P))})}return function F(h,g,v){return g&&b(h.prototype,g),v&&b(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),h}()},"./src/dash/parser/maps/RepresentationBaseValuesMap.js":
/*!*************************************************************!*\
                  !*** ./src/dash/parser/maps/RepresentationBaseValuesMap.js ***!
                  \*************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),E=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function O(R){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(R)}function b(R,C){for(var w=0;w<C.length;w++){var T=C[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,L(T.key),T)}}function L(R){var C=function D(R,C){if("object"!==O(R)||null===R)return R;var w=R[Symbol.toPrimitive];if(void 0!==w){var T=w.call(R,C||"default");if("object"!==O(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(R)}(R,"string");return"symbol"===O(C)?C:String(C)}function h(R,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(C&&C.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),C&&g(R,C)}function g(R,C){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(R,C)}function v(R){var C=function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=V(R);if(C){var S=V(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function A(R,C){if(C&&("object"===O(C)||"function"==typeof C))return C;if(void 0!==C)throw new TypeError("Derived constructors may only return object or undefined");return function U(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,N)}}function V(R){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(R)}x.default=function(R){h(w,R);var C=v(w);function w(){!function m(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")}(this,w);var T=[E.default.PROFILES,E.default.WIDTH,E.default.HEIGHT,E.default.SAR,E.default.FRAMERATE,E.default.AUDIO_SAMPLING_RATE,E.default.MIME_TYPE,E.default.SEGMENT_PROFILES,E.default.CODECS,E.default.MAXIMUM_SAP_PERIOD,E.default.START_WITH_SAP,E.default.MAX_PLAYOUT_RATE,E.default.CODING_DEPENDENCY,E.default.SCAN_TYPE,E.default.FRAME_PACKING,E.default.AUDIO_CHANNEL_CONFIGURATION,E.default.CONTENT_PROTECTION,E.default.ESSENTIAL_PROPERTY,E.default.SUPPLEMENTAL_PROPERTY,E.default.INBAND_EVENT_STREAM];return C.call(this,E.default.ADAPTATION_SET,T,[new t.default(E.default.REPRESENTATION,T,[new t.default(E.default.SUB_REPRESENTATION,T)])])}return function F(R,C,w){return C&&b(R.prototype,C),w&&b(R,w),Object.defineProperty(R,"prototype",{writable:!1}),R}(w)}(t.default)},"./src/dash/parser/maps/SegmentValuesMap.js":
/*!**************************************************!*\
                  !*** ./src/dash/parser/maps/SegmentValuesMap.js ***!
                  \**************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),E=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function O(R){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(R)}function b(R,C){for(var w=0;w<C.length;w++){var T=C[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,L(T.key),T)}}function L(R){var C=function D(R,C){if("object"!==O(R)||null===R)return R;var w=R[Symbol.toPrimitive];if(void 0!==w){var T=w.call(R,C||"default");if("object"!==O(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(R)}(R,"string");return"symbol"===O(C)?C:String(C)}function h(R,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(C&&C.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),C&&g(R,C)}function g(R,C){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(R,C)}function v(R){var C=function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=V(R);if(C){var S=V(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function A(R,C){if(C&&("object"===O(C)||"function"==typeof C))return C;if(void 0!==C)throw new TypeError("Derived constructors may only return object or undefined");return function U(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,N)}}function V(R){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(R)}x.default=function(R){h(w,R);var C=v(w);function w(){!function m(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")}(this,w);var T=[E.default.SEGMENT_BASE,E.default.SEGMENT_TEMPLATE,E.default.SEGMENT_LIST];return C.call(this,E.default.PERIOD,T,[new t.default(E.default.ADAPTATION_SET,T,[new t.default(E.default.REPRESENTATION,T)])])}return function F(R,C,w){return C&&b(R.prototype,C),w&&b(R,w),Object.defineProperty(R,"prototype",{writable:!1}),R}(w)}(t.default)},"./src/dash/parser/matchers/BaseMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/BaseMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function O(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,F(v.key),v)}}function F(m){var h=function L(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=function(){function m(h,g){(function E(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this._test=h,this._converter=g}return function b(m,h,g){return h&&O(m.prototype,h),g&&O(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}(m,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),m}()},"./src/dash/parser/matchers/DateTimeMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DateTimeMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function E(T){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(T)}function O(T,N){for(var S=0;S<N.length;S++){var B=N[S];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,F(B.key),B)}}function F(T){var N=function L(T,N){if("object"!==E(T)||null===T)return T;var S=T[Symbol.toPrimitive];if(void 0!==S){var B=S.call(T,N||"default");if("object"!==E(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===N?String:Number)(T)}(T,"string");return"symbol"===E(N)?N:String(N)}function m(T,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(N&&N.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),N&&h(T,N)}function h(T,N){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,Y){return B.__proto__=Y,B})(T,N)}function g(T){var N=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,B=P(T);if(N){var re=P(this).constructor;Y=Reflect.construct(B,arguments,re)}else Y=B.apply(this,arguments);return function v(T,N){if(N&&("object"===E(N)||"function"==typeof N))return N;if(void 0!==N)throw new TypeError("Derived constructors may only return object or undefined");return function A(T){if(void 0===T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(T)}(this,Y)}}function P(T){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)})(T)}var C=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;x.default=function(T){m(S,T);var N=g(S);function S(){return function D(T,N){if(!(T instanceof N))throw new TypeError("Cannot call a class as a function")}(this,S),N.call(this,function(B){return C.test(B.value)},function(B){var re,Y=C.exec(B);if(re=Date.UTC(parseInt(Y[1],10),parseInt(Y[2],10)-1,parseInt(Y[3],10),parseInt(Y[4],10),parseInt(Y[5],10),Y[6]&&parseInt(Y[6],10)||0,Y[7]&&1e3*parseFloat(Y[7])||0),Y[9]&&Y[10]){var ae=60*parseInt(Y[9],10)+parseInt(Y[10],10);re+=("+"===Y[8]?-1:1)*ae*60*1e3}return new Date(re)})}return function b(T,N,S){return N&&O(T.prototype,N),S&&O(T,S),Object.defineProperty(T,"prototype",{writable:!1}),T}(S)}(t.default)},"./src/dash/parser/matchers/DurationMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DurationMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),E=c(
/*! ../../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),O=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function b(Y){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(re){return typeof re}:function(re){return re&&"function"==typeof Symbol&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re})(Y)}function F(Y,re){for(var ae=0;ae<re.length;ae++){var Re=re[ae];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(Y,D(Re.key),Re)}}function D(Y){var re=function m(Y,re){if("object"!==b(Y)||null===Y)return Y;var ae=Y[Symbol.toPrimitive];if(void 0!==ae){var Re=ae.call(Y,re||"default");if("object"!==b(Re))return Re;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===re?String:Number)(Y)}(Y,"string");return"symbol"===b(re)?re:String(re)}function g(Y,re){if("function"!=typeof re&&null!==re)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(re&&re.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),Object.defineProperty(Y,"prototype",{writable:!1}),re&&v(Y,re)}function v(Y,re){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Re,z){return Re.__proto__=z,Re})(Y,re)}function A(Y){var re=function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,Re=k(Y);if(re){var oe=k(this).constructor;z=Reflect.construct(Re,arguments,oe)}else z=Re.apply(this,arguments);return function U(Y,re){if(re&&("object"===b(re)||"function"==typeof re))return re;if(void 0!==re)throw new TypeError("Derived constructors may only return object or undefined");return function P(Y){if(void 0===Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}(Y)}(this,z)}}function k(Y){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ae){return ae.__proto__||Object.getPrototypeOf(ae)})(Y)}var R=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;x.default=function(Y){g(ae,Y);var re=A(ae);function ae(){return function h(Y,re){if(!(Y instanceof re))throw new TypeError("Cannot call a class as a function")}(this,ae),re.call(this,function(Re){for(var z=[O.default.MIN_BUFFER_TIME,O.default.MEDIA_PRESENTATION_DURATION,O.default.MINIMUM_UPDATE_PERIOD,O.default.TIMESHIFT_BUFFER_DEPTH,O.default.MAX_SEGMENT_DURATION,O.default.MAX_SUBSEGMENT_DURATION,O.default.SUGGESTED_PRESENTATION_DELAY,O.default.START,E.default.START_TIME,O.default.DURATION],oe=z.length,H=0;H<oe;H++)if(Re.nodeName===z[H])return R.test(Re.value);return!1},function(Re){var z=R.exec(Re),oe=31536e3*parseFloat(z[3]||0)+2592e3*parseFloat(z[5]||0)+86400*parseFloat(z[7]||0)+3600*parseFloat(z[9]||0)+60*parseFloat(z[11]||0)+parseFloat(z[13]||0);return void 0!==z[1]&&(oe=-oe),oe})}return function L(Y,re,ae){return re&&F(Y.prototype,re),ae&&F(Y,ae),Object.defineProperty(Y,"prototype",{writable:!1}),Y}(ae)}(t.default)},"./src/dash/parser/matchers/LangMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/LangMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),E=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),O=c(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),b=c.n(O);function F(T){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(T)}function L(T,N,S){return(N=h(N))in T?Object.defineProperty(T,N,{value:S,enumerable:!0,configurable:!0,writable:!0}):T[N]=S,T}function D(T,N){for(var S=0;S<N.length;S++){var B=N[S];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,h(B.key),B)}}function h(T){var N=function g(T,N){if("object"!==F(T)||null===T)return T;var S=T[Symbol.toPrimitive];if(void 0!==S){var B=S.call(T,N||"default");if("object"!==F(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===N?String:Number)(T)}(T,"string");return"symbol"===F(N)?N:String(N)}function A(T,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(N&&N.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),N&&U(T,N)}function U(T,N){return(U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,Y){return B.__proto__=Y,B})(T,N)}function P(T){var N=function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,B=C(T);if(N){var re=C(this).constructor;Y=Reflect.construct(B,arguments,re)}else Y=B.apply(this,arguments);return function V(T,N){if(N&&("object"===F(N)||"function"==typeof N))return N;if(void 0!==N)throw new TypeError("Derived constructors may only return object or undefined");return function k(T){if(void 0===T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(T)}(this,Y)}}function C(T){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)})(T)}x.default=function(T){A(S,T);var N=P(S);function S(){return function v(T,N){if(!(T instanceof N))throw new TypeError("Cannot call a class as a function")}(this,S),N.call(this,function(B,Y){var re,ae=(L(re={},E.default.ADAPTATION_SET,[E.default.LANG]),L(re,E.default.REPRESENTATION,[E.default.LANG]),L(re,E.default.CONTENT_COMPONENT,[E.default.LANG]),L(re,E.default.LABEL,[E.default.LANG]),L(re,E.default.GROUP_LABEL,[E.default.LANG]),re);if(ae.hasOwnProperty(Y)){var Re=ae[Y];return void 0!==Re&&Re.indexOf(B.name)>=0}return!1},function(B){var Y=b()(B);return void 0!==Y?Y:String(B)})}return function m(T,N,S){return N&&D(T.prototype,N),S&&D(T,S),Object.defineProperty(T,"prototype",{writable:!1}),T}(S)}(t.default)},"./src/dash/parser/matchers/NumericMatcher.js":
/*!****************************************************!*\
                  !*** ./src/dash/parser/matchers/NumericMatcher.js ***!
                  \****************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function E(R){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(R)}function O(R,C){for(var w=0;w<C.length;w++){var T=C[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,F(T.key),T)}}function F(R){var C=function L(R,C){if("object"!==E(R)||null===R)return R;var w=R[Symbol.toPrimitive];if(void 0!==w){var T=w.call(R,C||"default");if("object"!==E(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(R)}(R,"string");return"symbol"===E(C)?C:String(C)}function m(R,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(C&&C.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),C&&h(R,C)}function h(R,C){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(R,C)}function g(R){var C=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=P(R);if(C){var S=P(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function v(R,C){if(C&&("object"===E(C)||"function"==typeof C))return C;if(void 0!==C)throw new TypeError("Derived constructors may only return object or undefined");return function A(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,N)}}function P(R){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(R)}var V=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;x.default=function(R){m(w,R);var C=g(w);function w(){return function D(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")}(this,w),C.call(this,function(T){return V.test(T.value)},function(T){return parseFloat(T)})}return function b(R,C,w){return C&&O(R.prototype,C),w&&O(R,w),Object.defineProperty(R,"prototype",{writable:!1}),R}(w)}(t.default)},"./src/dash/parser/matchers/StringMatcher.js":
/*!***************************************************!*\
                  !*** ./src/dash/parser/matchers/StringMatcher.js ***!
                  \***************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),E=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function O(C){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(C)}function b(C,w,T){return(w=D(w))in C?Object.defineProperty(C,w,{value:T,enumerable:!0,configurable:!0,writable:!0}):C[w]=T,C}function F(C,w){for(var T=0;T<w.length;T++){var N=w[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(C,D(N.key),N)}}function D(C){var w=function m(C,w){if("object"!==O(C)||null===C)return C;var T=C[Symbol.toPrimitive];if(void 0!==T){var N=T.call(C,w||"default");if("object"!==O(N))return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===w?String:Number)(C)}(C,"string");return"symbol"===O(w)?w:String(w)}function g(C,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(w&&w.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),w&&v(C,w)}function v(C,w){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,S){return N.__proto__=S,N})(C,w)}function A(C){var w=function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,N=k(C);if(w){var B=k(this).constructor;S=Reflect.construct(N,arguments,B)}else S=N.apply(this,arguments);return function U(C,w){if(w&&("object"===O(w)||"function"==typeof w))return w;if(void 0!==w)throw new TypeError("Derived constructors may only return object or undefined");return function P(C){if(void 0===C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(C)}(this,S)}}function k(C){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)})(C)}x.default=function(C){g(T,C);var w=A(T);function T(){return function h(C,w){if(!(C instanceof w))throw new TypeError("Cannot call a class as a function")}(this,T),w.call(this,function(N,S){var B,Y=(b(B={},E.default.MPD,[E.default.ID,E.default.PROFILES]),b(B,E.default.PERIOD,[E.default.ID]),b(B,E.default.BASE_URL,[E.default.SERVICE_LOCATION,E.default.BYTE_RANGE]),b(B,E.default.SEGMENT_BASE,[E.default.INDEX_RANGE]),b(B,E.default.INITIALIZATION,[E.default.RANGE]),b(B,E.default.REPRESENTATION_INDEX,[E.default.RANGE]),b(B,E.default.SEGMENT_LIST,[E.default.INDEX_RANGE]),b(B,E.default.BITSTREAM_SWITCHING,[E.default.RANGE]),b(B,E.default.SEGMENT_URL,[E.default.MEDIA_RANGE,E.default.INDEX_RANGE]),b(B,E.default.SEGMENT_TEMPLATE,[E.default.INDEX_RANGE,E.default.MEDIA,E.default.INDEX,E.default.INITIALIZATION_MINUS,E.default.BITSTREAM_SWITCHING_MINUS]),b(B,E.default.ASSET_IDENTIFIER,[E.default.VALUE,E.default.ID]),b(B,E.default.EVENT_STREAM,[E.default.VALUE]),b(B,E.default.ADAPTATION_SET,[E.default.PROFILES,E.default.MIME_TYPE,E.default.SEGMENT_PROFILES,E.default.CODECS,E.default.CONTENT_TYPE]),b(B,E.default.FRAME_PACKING,[E.default.VALUE,E.default.ID]),b(B,E.default.AUDIO_CHANNEL_CONFIGURATION,[E.default.VALUE,E.default.ID]),b(B,E.default.CONTENT_PROTECTION,[E.default.VALUE,E.default.ID]),b(B,E.default.ESSENTIAL_PROPERTY,[E.default.VALUE,E.default.ID]),b(B,E.default.SUPPLEMENTAL_PROPERTY,[E.default.VALUE,E.default.ID]),b(B,E.default.INBAND_EVENT_STREAM,[E.default.VALUE,E.default.ID]),b(B,E.default.ACCESSIBILITY,[E.default.VALUE,E.default.ID]),b(B,E.default.ROLE,[E.default.VALUE,E.default.ID]),b(B,E.default.RATING,[E.default.VALUE,E.default.ID]),b(B,E.default.VIEWPOINT,[E.default.VALUE,E.default.ID]),b(B,E.default.CONTENT_COMPONENT,[E.default.CONTENT_TYPE]),b(B,E.default.REPRESENTATION,[E.default.ID,E.default.DEPENDENCY_ID,E.default.MEDIA_STREAM_STRUCTURE_ID]),b(B,E.default.SUBSET,[E.default.ID]),b(B,E.default.METRICS,[E.default.METRICS_MINUS]),b(B,E.default.REPORTING,[E.default.VALUE,E.default.ID]),B);if(Y.hasOwnProperty(S)){var re=Y[S];return void 0!==re&&re.indexOf(N.name)>=0}return!1},function(N){return String(N)})}return function L(C,w,T){return w&&F(C.prototype,w),T&&F(C,T),Object.defineProperty(C,"prototype",{writable:!1}),C}(T)}(t.default)},"./src/dash/parser/objectiron.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/objectiron.js ***!
                  \***************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(F){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(F)}function O(F){function L(g,v){for(var A in g)v.hasOwnProperty(A)||(v[A]=g[A])}function D(g,v,A){for(var U=0,P=g.length;U<P;++U){var V=g[U];if(v[V.name])if(A[V.name]){if(V.merge){var k=v[V.name],R=A[V.name];"object"===E(k)&&"object"===E(R)?L(k,R):A[V.name]=k+R}}else A[V.name]=v[V.name]}}function m(g,v){for(var A=0,U=g.children.length;A<U;++A){var P=g.children[A],V=v[P.name+"_asArray"];if(V)for(var k=0,R=V.length;k<R;++k){var C=V[k];D(g.properties,v,C),m(P,C)}}}return{run:function h(g){if(null===g||"object"!==E(g))return g;if(g.Period_asArray&&"period"in F)for(var v=F.period,A=g.Period_asArray,U=0,P=A.length;U<P;++U){var V=A[U];if(m(v,V),"adaptationset"in F){var k=V.AdaptationSet_asArray;if(k)for(var R=F.adaptationset,C=0,w=k.length;C<w;++C)m(R,k[C])}}return g}}}O.__dashjs_factory_name="ObjectIron";var b=t.default.getClassFactory(O);x.default=b},"./src/dash/utils/ListSegmentsGetter.js":
/*!**********************************************!*\
                  !*** ./src/dash/utils/ListSegmentsGetter.js ***!
                  \**********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),O=c(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function b(L,D){var m=(L=L||{}).timelineConverter;function g(){if(!m||!m.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(E.default.MISSING_CONFIG_ERROR)}function A(P,V){if(g(),!P)return null;var k=P.adaptation.period.mpd.manifest.Period_asArray[P.adaptation.period.index].AdaptationSet_asArray[P.adaptation.index].Representation_asArray[P.index].SegmentList,R=k.SegmentURL_asArray.length,C=P&&!isNaN(P.startNumber)?P.startNumber:1,w=Math.max(C-1,0),T=Math.max(V-w,0),N=null;if(T<R){var S=k.SegmentURL_asArray[T];(N=Object(O.getIndexBasedSegment)(m,D,P,V))&&(N.replacementTime=(C+V-1)*P.segmentDuration,N.media=S.media?S.media:"",N.mediaRange=S.mediaRange,N.indexRange=S.indexRange)}return N}return{getSegmentByIndex:A,getSegmentByTime:function U(P,V){if(g(),!P)return null;var k=P.segmentDuration;if(isNaN(k))return null;var R=m.calcPeriodRelativeTimeFromMpdRelativeTime(P,V);return A(P,Math.floor(R/k))},getMediaFinishedInformation:function v(P){var V={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!P)return V;var k=P.adaptation.period.mpd.manifest.Period_asArray[P.adaptation.period.index].AdaptationSet_asArray[P.adaptation.index].Representation_asArray[P.index].SegmentList,R=P&&!isNaN(P.startNumber)?P.startNumber:1,C=Math.max(R-1,0);return V.numberOfSegments=C+k.SegmentURL_asArray.length,V}}}b.__dashjs_factory_name="ListSegmentsGetter";var F=t.default.getClassFactory(b);x.default=F},"./src/dash/utils/Round10.js":
/*!***********************************!*\
                  !*** ./src/dash/utils/Round10.js ***!
                  \***********************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}function O(h,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,F(A.key),A)}}function F(h){var g=function L(h,g){if("object"!==t(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(h)}(h,"string");return"symbol"===t(g)?g:String(g)}c.r(x),c.d(x,"default",function(){return D});var D=function(){function h(){!function E(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,h)}return function b(h,g,v){return g&&O(h.prototype,g),v&&O(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,null,[{key:"round10",value:function(v,A){return function m(h,g,v){return typeof v>"u"||0==+v?Math[h](g):(v=+v,null===(g=+g)||isNaN(g)||"number"!=typeof v||v%1!=0?NaN:(g=g.toString().split("e"),+((g=(g=Math[h](+(g[0]+"e"+(g[1]?+g[1]-v:-v)))).toString().split("e"))[0]+"e"+(g[1]?+g[1]+v:v))))}("round",v,A)}}]),h}()},"./src/dash/utils/SegmentBaseGetter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/SegmentBaseGetter.js ***!
                  \*********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js");function O(F){var L=(F=F||{}).timelineConverter;function m(){if(!L||!L.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(E.default.MISSING_CONFIG_ERROR)}function g(U,P){if(m(),!U)return null;var k,V=U.segments?U.segments.length:-1;if(P<V&&(k=U.segments[P])&&k.index===P)return k;for(var R=0;R<V;R++)if((k=U.segments[R])&&k.index===P)return k;return null}return{getSegmentByIndex:g,getSegmentByTime:function v(U,P){return m(),g(U,function A(U,P){if(!U)return-1;var C,w,T,N,S,V=U.segments,k=V?V.length:null,R=-1;if(V&&k>0)for(S=0;S<k;S++)if(P+(C=(N=(w=V[S]).duration)/2)>=(T=w.presentationStartTime)&&P-C<T+N){R=w.index;break}return R}(U,P))},getMediaFinishedInformation:function h(U){var P={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return!U||!U.segments||(P.numberOfSegments=U.segments.length),P}}}O.__dashjs_factory_name="SegmentBaseGetter";var b=t.default.getClassFactory(O);x.default=b},"./src/dash/utils/SegmentsUtils.js":
/*!*****************************************!*\
                  !*** ./src/dash/utils/SegmentsUtils.js ***!
                  \*****************************************/
/*! exports provided: unescapeDollarsInTemplate, replaceIDForTemplate, replaceTokenForTemplate, getIndexBasedSegment, getTimeBasedSegment */function(qe,x,c){"use strict";c.r(x),c.d(x,"unescapeDollarsInTemplate",function(){return b}),c.d(x,"replaceIDForTemplate",function(){return F}),c.d(x,"replaceTokenForTemplate",function(){return L}),c.d(x,"getIndexBasedSegment",function(){return h}),c.d(x,"getTimeBasedSegment",function(){return g});var t=c(
/*! ./../vo/Segment */
"./src/dash/vo/Segment.js");function E(v,A){for(;v.length<A;)v="0"+v;return v}function b(v){return v&&v.split("$$").join("$")}function F(v,A){if(!A||!v||-1===v.indexOf("$RepresentationID$"))return v;var U=A.toString();return v.split("$RepresentationID$").join(U)}function L(v,A,U){var V,k,R,C,w,T,N=A.length;if(!v)return v;for(;;){if((V=v.indexOf("$"+A))<0||(k=v.indexOf("$",V+N))<0)return v;if((R=v.indexOf("%0",V+N))>V&&R<k)switch(C=v.charAt(k-1),w=parseInt(v.substring(R+2,k-1),10),C){case"d":case"i":case"u":T=E(U.toString(),w);break;case"x":T=E(U.toString(16),w);break;case"X":T=E(U.toString(16),w).toUpperCase();break;case"o":T=E(U.toString(8),w);break;default:return v}else T=U;v=v.substring(0,V)+T+v.substring(k+1)}}function D(v,A,U,P,V,k,R,C){var w=new t.default;return w.representation=v,w.duration=A,w.presentationStartTime=U,w.mediaStartTime=P,w.availabilityStartTime=V.calcAvailabilityStartTimeFromPresentationTime(k,v,R),w.availabilityEndTime=V.calcAvailabilityEndTimeFromPresentationTime(k+A,v,R),w.wallStartTime=V.calcWallTimeForSegment(w,R),w.replacementNumber=function O(v,A){return v.representation.startNumber+A}(w,C),w.index=C,w}function m(v,A,U,P){var V=A.adaptation.period;if(isFinite(V.duration)&&V.start+V.duration<=U.presentationStartTime)return!1;if(P){if("INF"===A.availabilityTimeOffset)return!0;var k=v.getClientReferenceTime();return U.availabilityStartTime.getTime()<=k&&(!isFinite(U.availabilityEndTime)||U.availabilityEndTime.getTime()>=k)}return!0}function h(v,A,U,P){var V,k,R;V=U.segmentDuration,isNaN(V)&&(V=U.adaptation.period.duration),k=parseFloat((U.adaptation.period.start+P*V).toFixed(5)),R=parseFloat((k+V).toFixed(5));var w=D(U,V,k,v.calcMediaTimeFromPresentationTime(k,U),v,R,A,P);return m(v,U,w,A)?w:null}function g(v,A,U,P,V,k,R,C,w,T){var B,re,N=P/k,S=V/k;return B=v.calcPresentationTimeFromMediaTime(N,U),m(v,U,re=D(U,S,B,N,v,B+S,A,w),A)?(re.replacementTime=T||P,R=L(R,"Number",re.replacementNumber),R=L(R,"Time",re.replacementTime),re.media=R,re.mediaRange=C,re):null}},"./src/dash/utils/TemplateSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TemplateSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),O=c(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function b(L,D){var m=(L=L||{}).timelineConverter;function g(){if(!m||!m.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(E.default.MISSING_CONFIG_ERROR)}function A(P,V){if(g(),!P)return null;var k=P.adaptation.period.mpd.manifest.Period_asArray[P.adaptation.period.index].AdaptationSet_asArray[P.adaptation.index].Representation_asArray[P.index].SegmentTemplate;V=Math.max(V,0);var R=Object(O.getIndexBasedSegment)(m,D,P,V);if(R){R.replacementTime=Math.round((V-1)*P.segmentDuration*P.timescale,10);var C=k.media;C=Object(O.replaceTokenForTemplate)(C,"Number",R.replacementNumber),C=Object(O.replaceTokenForTemplate)(C,"Time",R.replacementTime),R.media=C}return R}return{getSegmentByIndex:A,getSegmentByTime:function U(P,V){if(g(),!P)return null;var k=P.segmentDuration;if(isNaN(k))return null;var R=m.calcPeriodRelativeTimeFromMpdRelativeTime(P,V);return A(P,Math.floor(R/k))},getMediaFinishedInformation:function v(P){var V={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!P)return V;var k=P.segmentDuration;return V.numberOfSegments=isNaN(k)?1:Math.ceil(P.adaptation.period.duration/k),V}}}b.__dashjs_factory_name="TemplateSegmentsGetter";var F=t.default.getClassFactory(b);x.default=F},"./src/dash/utils/TimelineConverter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/TimelineConverter.js ***!
                  \*********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),O=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),F=c(
/*! ../models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),L=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),D=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),m=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),h=c(
/*! ../../streaming/constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function g(){var P,V,k,R,v=this.context,A=Object(t.default)(v).getInstance(),U=Object(L.default)(v).getInstance();function N(Pe){R=Pe}function B(Pe,Oe,Ue,ze){var He,Ae=Oe.adaptation.period.mpd,ye=Ae.availabilityStartTime;if(ze)He=Ue&&Ae.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(ye.getTime()+1e3*(Pe+Ae.timeShiftBufferDepth)):Ae.availabilityEndTime;else if(Ue){var K=Oe.availabilityTimeOffset;He=new Date(ye.getTime()+1e3*(Pe-K))}else He=ye;return He}function ae(Pe,Oe){return(Pe.getTime()-Oe.mpd.availabilityStartTime.getTime()+1e3*R)/1e3}function Re(Pe,Oe){return Pe+(Oe.adaptation.period.start-Oe.presentationTimeOffset)}function ue(Pe){var Oe={start:NaN,end:NaN},Ue=Pe[0].getAdapter().getRegularPeriods()[0],ze=ae(new Date,Ue);if(!Pe||0===Pe.length)return{range:Oe,now:ze};Pe.forEach(function(Ae){var ye=Ae.getAdapter(),K=ye.getMediaInfoForType(Ae.getStreamInfo(),D.default.VIDEO)||ye.getMediaInfoForType(Ae.getStreamInfo(),D.default.AUDIO),he=ye.getVoRepresentations(K)[0],$={start:NaN,end:NaN};if(he)if(he.segmentInfoType===b.default.SEGMENT_TIMELINE)$=function le(Pe){var ie,he,$,Z,Ue=V.getRepresentationFor(Pe.index,Pe.adaptation.period.mpd.manifest.Period_asArray[Pe.adaptation.period.index].AdaptationSet_asArray[Pe.adaptation.index]),He=Ue.SegmentTemplate.timescale,Ae=Ue.SegmentTemplate.SegmentTimeline.S_asArray,ye={start:0,end:0},K=0;for(ye.start=Re(Ae[0].t/He,Pe),$=0,Z=Ae.length;$<Z;$++)he=0,(ie=Ae[$]).hasOwnProperty("r")&&(he=ie.r),K+=ie.d*(1+he);return ye.end=Re((Ae[0].t+K)/He,Pe),ye}(he);else{var Z=he.adaptation.period;$.start=Z.start,$.end=Math.max(ze,Z.start+Z.duration)}!isNaN($.start)&&(isNaN(Oe.start)||Oe.start>$.start)&&(Oe.start=$.start),!isNaN($.end)&&(isNaN(Oe.end)||Oe.end<$.end)&&(Oe.end=$.end)}),Oe.end=Math.min(ze,Oe.end);var He=Ie(Pe,Oe.end,!0);return Oe.end=isNaN(He)?Oe.end:He,Oe.start=Ue&&Ue.mpd&&Ue.mpd.timeShiftBufferDepth&&!isNaN(Ue.mpd.timeShiftBufferDepth)&&!isNaN(Oe.end)?Math.max(Oe.end-Ue.mpd.timeShiftBufferDepth,Oe.start):Oe.start,Oe.start=Ie(Pe,Oe.start),{range:Oe,now:ze}}function Se(Pe,Oe){k=Pe-Oe.end}function Ie(Pe,Oe){var Ue=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var ze=0,He=!1,Ae=NaN;!He&&ze<Pe.length;){var ye=Pe[ze].getStreamInfo();ye.start<=Oe&&(!isFinite(ye.duration)||ye.start+ye.duration>=Oe)?(Ae=Oe,He=!0):!Ue&&ye.start>Oe&&(isNaN(Ae)||ye.start<Ae)?Ae=ye.start:Ue&&ye.start+ye.duration<Oe&&(isNaN(Ae)||ye.start+ye.duration>Ae)&&(Ae=ye.start+ye.duration),ze+=1}return Ae}catch{return Oe}}function we(Pe){void 0!==Pe.offset&&!isNaN(Pe.offset)&&N(Pe.offset/1e3)}function _e(){R=0,k=0}function Le(){A.off(E.default.UPDATE_TIME_SYNC_OFFSET,we,this),_e()}return P={initialize:function w(){_e(),A.on(E.default.UPDATE_TIME_SYNC_OFFSET,we,this)},getClientTimeOffset:function T(){return R},setClientTimeOffset:N,getClientReferenceTime:function S(){return Date.now()-1e3*k+1e3*R},calcAvailabilityStartTimeFromPresentationTime:function Y(Pe,Oe,Ue){return B(Pe,Oe,Ue)},calcAvailabilityEndTimeFromPresentationTime:function re(Pe,Oe,Ue){return B(Pe,Oe,Ue,!0)},calcPresentationTimeFromWallTime:ae,calcPresentationTimeFromMediaTime:Re,calcPeriodRelativeTimeFromMpdRelativeTime:function Me(Pe,Oe){return Oe-Pe.adaptation.period.start},calcMediaTimeFromPresentationTime:function z(Pe,Oe){return Pe-Oe.adaptation.period.start+Oe.presentationTimeOffset},calcWallTimeForSegment:function oe(Pe,Oe){var ze,He;return Oe&&(ze=Pe.presentationStartTime+Pe.representation.adaptation.period.mpd.suggestedPresentationDelay,He=new Date(Pe.availabilityStartTime.getTime()+1e3*ze)),He},calcTimeShiftBufferWindow:function H(Pe,Oe){if(!Oe)return function me(Pe){var Oe={start:NaN,end:NaN},Ue=0,ze=NaN;return Pe.forEach(function(He){var Ae=He.getStreamInfo();Ue+=Ae.duration,(isNaN(ze)||Ae.start<ze)&&(ze=Ae.start)}),Oe.start=ze,Oe.end=ze+Ue,Oe}(Pe);if(U.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var Ue=ue(Pe);return Se(Ue.now,Ue.range),Ue.range}return function te(Pe){var Oe={start:NaN,end:NaN};if(!Pe||0===Pe.length)return Oe;var Ue=Pe[0].getAdapter().getRegularPeriods()[0],ze=ae(new Date,Ue),He=Ue.mpd.timeShiftBufferDepth,Ae=isNaN(He)?0:ze-He;if(Oe.start=Ie(Pe,Ae),Oe.end=!isNaN(Oe.start)&&ze<Oe.start?ze:Ie(Pe,ze,!0),!isNaN(He)&&Oe.end<ze-He&&(Oe.end=NaN),U.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var ye=ue(Pe);if(ye.range.end<Oe.start)return A.trigger(m.default.CONFORMANCE_VIOLATION,{level:h.default.LEVELS.WARNING,event:h.default.EVENTS.INVALID_DVR_WINDOW}),Se(ye.now,ye.range),ye.range}return Oe}(Pe)},reset:Le},function C(){V=Object(F.default)(v).getInstance(),Le()}(),P}g.__dashjs_factory_name="TimelineConverter",x.default=O.default.getSingletonFactory(g)},"./src/dash/utils/TimelineSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TimelineSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),O=c(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function b(L,D){var m=(L=L||{}).timelineConverter,h=L.dashMetrics;function v(){if(!m)throw new Error(E.default.MISSING_CONFIG_ERROR)}function U(C,w){var re,ae,Re,z,oe,H,me,T=C.adaptation.period.mpd.manifest.Period_asArray[C.adaptation.period.index].AdaptationSet_asArray[C.adaptation.index].Representation_asArray[C.index].SegmentTemplate||C.adaptation.period.mpd.manifest.Period_asArray[C.adaptation.period.index].AdaptationSet_asArray[C.adaptation.index].Representation_asArray[C.index].SegmentList,S=T.SegmentURL_asArray,B=0,Y=-1;me=C.timescale;var te=!1;for(Re=0,z=(re=T.SegmentTimeline.S_asArray).length;Re<z&&!te;Re++)for(H=0,(ae=re[Re]).hasOwnProperty("r")&&(H=ae.r),ae.hasOwnProperty("t")&&(B=ae.t),H<0&&(H=P(C,re[Re+1],ae,me,B/me)),oe=0;oe<=H&&!te;oe++)(te=w(B,T,S,ae,me,++Y,Re))&&(C.segmentDuration=ae.d/me),B+=ae.d}function P(C,w,T,N,S){var B;if(w&&w.hasOwnProperty("t"))B=w.t/N;else try{var Y=0;if(isNaN(C.adaptation.period.start)||isNaN(C.adaptation.period.duration)||!isFinite(C.adaptation.period.duration)){var re=h.getCurrentDVRInfo();Y=isNaN(re.end)?0:re.end}else Y=C.adaptation.period.start+C.adaptation.period.duration;B=m.calcMediaTimeFromPresentationTime(Y,C),C.segmentDuration=T.d/N}catch{B=0}return Math.max(Math.ceil((B-S)/(T.d/N))-1,0)}return{getSegmentByIndex:function V(C,w,T){if(v(),!C)return null;var N=null,S=!1;return U(C,function(B,Y,re,ae,Re,z,oe){if(S||T<0){var H=Y.media,me=ae.mediaRange;return re&&(H=re[oe].media||"",me=re[oe].mediaRange),N=Object(O.getTimeBasedSegment)(m,D,C,B,ae.d,Re,H,me,z,ae.tManifest),!0}return B>=T*Re-.5*ae.d&&(S=!0),!1}),N},getSegmentByTime:function k(C,w){if(v(),!C)return null;void 0===w&&(w=null);var T=null,N=m.calcMediaTimeFromPresentationTime(w,C);return U(C,function(S,B,Y,re,ae,Re,z){var oe=function R(C){return parseFloat(C.toPrecision(15))}(N*ae);if(oe<S+re.d&&oe>=S){var H=B.media,me=re.mediaRange;return Y&&(H=Y[z].media||"",me=Y[z].mediaRange),T=Object(O.getTimeBasedSegment)(m,D,C,S,re.d,ae,H,me,Re,re.tManifest),!0}return!1}),T},getMediaFinishedInformation:function A(C){if(!C)return 0;var Y,re,ae,Re,z,oe,H,N=0,S=0,B=0;for(H=C.timescale,Re=(Y=(C.adaptation.period.mpd.manifest.Period_asArray[C.adaptation.period.index].AdaptationSet_asArray[C.adaptation.index].Representation_asArray[C.index].SegmentTemplate||C.adaptation.period.mpd.manifest.Period_asArray[C.adaptation.period.index].AdaptationSet_asArray[C.adaptation.index].Representation_asArray[C.index].SegmentList).SegmentTimeline.S_asArray).length,ae=0;ae<Re;ae++)for(oe=0,(re=Y[ae]).hasOwnProperty("r")&&(oe=re.r),re.hasOwnProperty("t")&&(S=(N=re.t)/H),oe<0&&(oe=P(C,Y[ae+1],re,H,S)),z=0;z<=oe;z++)B++,S=(N+=re.d)/H;return{numberOfSegments:B,mediaTimeOfLastSignaledSegment:S}}}}b.__dashjs_factory_name="TimelineSegmentsGetter";var F=t.default.getClassFactory(b);x.default=F},"./src/dash/vo/AdaptationSet.js":
/*!**************************************!*\
                  !*** ./src/dash/vo/AdaptationSet.js ***!
                  \**************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.period=null,this.index=-1,this.type=null})},"./src/dash/vo/BaseURL.js":
/*!********************************!*\
                  !*** ./src/dash/vo/BaseURL.js ***!
                  \********************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(g)}function E(g,v){for(var A=0;A<v.length;A++){var U=v[A];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(g,b(U.key),U)}}function O(g,v,A){return v&&E(g.prototype,v),A&&E(g,A),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var v=function F(g,v){if("object"!==t(g)||null===g)return g;var A=g[Symbol.toPrimitive];if(void 0!==A){var U=A.call(g,v||"default");if("object"!==t(U))return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===v?String:Number)(g)}(g,"string");return"symbol"===t(v)?v:String(v)}c.r(x);var h=O(function g(v,A,U,P){(function L(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")})(this,g),this.url=v||"",this.serviceLocation=A||v||"",this.dvb_priority=U||1,this.dvb_weight=P||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0});h.DEFAULT_DVB_PRIORITY=1,h.DEFAULT_DVB_WEIGHT=1,x.default=h},"./src/dash/vo/ContentSteering.js":
/*!****************************************!*\
                  !*** ./src/dash/vo/ContentSteering.js ***!
                  \****************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.defaultServiceLocation=null,this.queryBeforeStart=!1,this.proxyServerUrl=null,this.serverUrl=null})},"./src/dash/vo/ContentSteeringRequest.js":
/*!***********************************************!*\
                  !*** ./src/dash/vo/ContentSteeringRequest.js ***!
                  \***********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function E(h){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}function O(h,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,F(A.key),A)}}function b(h,g,v){return g&&O(h.prototype,g),v&&O(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}function F(h){var g=function L(h,g){if("object"!==E(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,g||"default");if("object"!==E(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(h)}(h,"string");return"symbol"===E(g)?g:String(g)}x.default=b(function h(g){(function D(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,h),this.url=g||null,this.type=t.HTTPRequest.CONTENT_STEERING_TYPE,this.responseType="json"})},"./src/dash/vo/ContentSteeringResponse.js":
/*!************************************************!*\
                  !*** ./src/dash/vo/ContentSteeringResponse.js ***!
                  \************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.version=null,this.ttl=300,this.reloadUri=null,this.serviceLocationPriority=[]})},"./src/dash/vo/Event.js":
/*!******************************!*\
                  !*** ./src/dash/vo/Event.js ***!
                  \******************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN})},"./src/dash/vo/EventStream.js":
/*!************************************!*\
                  !*** ./src/dash/vo/EventStream.js ***!
                  \************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0})},"./src/dash/vo/ManifestInfo.js":
/*!*************************************!*\
                  !*** ./src/dash/vo/ManifestInfo.js ***!
                  \*************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null})},"./src/dash/vo/MediaInfo.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/MediaInfo.js ***!
                  \**********************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={}})},"./src/dash/vo/Mpd.js":
/*!****************************!*\
                  !*** ./src/dash/vo/Mpd.js ***!
                  \****************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN})},"./src/dash/vo/PatchOperation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/PatchOperation.js ***!
                  \***************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function O(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,F(v.key),v)}}function F(m){var h=function L(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=function(){function m(h,g,v){(function E(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.action=h,this.xpath=g,this.value=v,this.position=null}return function b(m,h,g){return h&&O(m.prototype,h),g&&O(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}(m,[{key:"getMpdTarget",value:function(g){return this.xpath.getMpdTarget(g,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}]),m}()},"./src/dash/vo/Period.js":
/*!*******************************!*\
                  !*** ./src/dash/vo/Period.js ***!
                  \*******************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x);var D=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null});D.DEFAULT_ID="defaultId",x.default=D},"./src/dash/vo/ProducerReferenceTime.js":
/*!**********************************************!*\
                  !*** ./src/dash/vo/ProducerReferenceTime.js ***!
                  \**********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null})},"./src/dash/vo/Representation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/Representation.js ***!
                  \***************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function E(h){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}function b(h,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,L(A.key),A)}}function L(h){var g=function D(h,g){if("object"!==E(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,g||"default");if("object"!==E(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(h)}(h,"string");return"symbol"===E(g)?g:String(g)}x.default=function(){function h(){(function O(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,h),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}return function F(h,g,v){return g&&b(h.prototype,g),v&&b(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==t.default.BASE_URL&&this.segmentInfoType!==t.default.SEGMENT_BASE&&!this.indexRange}}]),h}()},"./src/dash/vo/RepresentationInfo.js":
/*!*******************************************!*\
                  !*** ./src/dash/vo/RepresentationInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null})},"./src/dash/vo/Segment.js":
/*!********************************!*\
                  !*** ./src/dash/vo/Segment.js ***!
                  \********************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null})},"./src/dash/vo/SimpleXPath.js":
/*!************************************!*\
                  !*** ./src/dash/vo/SimpleXPath.js ***!
                  \************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function O(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,F(v.key),v)}}function F(m){var h=function L(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=function(){function m(h){var g=this;(function E(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.valid="/"==h[0],this.path=h.split("/").filter(function(v){return 0!==v.length}).map(function(v){var A={name:v},U=v.indexOf("[");if(-1!=U){A.name=v.substring(0,U);var P=v.substring(U+1,v.length-1);g.valid=g.valid&&-1==P.indexOf("[");var V=P.indexOf("=");-1!=V?(A.attribute={name:P.substring(1,V),value:P.substring(V+1)},-1!=["'",'"'].indexOf(A.attribute.value[0])&&(A.attribute.value=A.attribute.value.substring(1,A.attribute.value.length-1))):A.position=parseInt(P,10)-1}return A})}return function b(m,h,g){return h&&O(m.prototype,h),g&&O(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}(m,[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(g,v){for(var A=null,U=g,P=1,V="MPD";P<this.path.length&&null!==U;){A=U;var k=this.path[P];if(V=k.name,P!==this.path.length-1||!V.startsWith("@")){var R=A[V+"_asArray"]||[];0===R.length&&A[V]&&R.push(A[V]),k.position?U=R[k.position]||null:k.attribute?function(){var C=k.attribute;U=R.filter(function(w){return w[C.name]==C.value})[0]||null}():U=R[0]||null}P++}return null===U?null:V.startsWith("@")?{name:V.substring(1),leaf:U,target:U}:{name:V,leaf:U,target:v?A:U}}}]),m}()},"./src/dash/vo/StreamInfo.js":
/*!***********************************!*\
                  !*** ./src/dash/vo/StreamInfo.js ***!
                  \***********************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0})},"./src/dash/vo/UTCTiming.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/UTCTiming.js ***!
                  \**********************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.schemeIdUri="",this.value=""})},"./src/streaming/FragmentLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/FragmentLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),O=c(
/*! ./vo/HeadRequest */
"./src/streaming/vo/HeadRequest.js"),b=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),F=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js");function L(D){var P,V,m=this.context,h=(D=D||{}).eventBus,g=D.events,v=D.urlUtils,A=D.errors,U=D.streamId;return P={checkForExistence:function R(N){var S=function(re){h.trigger(g.CHECK_FOR_EXISTENCE_COMPLETED,{request:N,exists:re})};if(N){var B=new O.default(N.url);V.load({request:B,success:function(){S(!0)},error:function(){S(!1)}})}else S(!1)},load:function C(N){var S=function(Y,re){h.trigger(g.LOADING_COMPLETED,{request:N,response:Y||null,error:re||null,sender:P})};N?V.load({request:N,progress:function(Y){h.trigger(g.LOADING_PROGRESS,{request:N,stream:Y.stream,streamId:U}),Y.data&&h.trigger(g.LOADING_DATA_PROGRESS,{request:N,response:Y.data||null,error:null,sender:P})},success:function(Y){S(Y)},error:function(Y,re,ae){S(void 0,new b.default(A.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,ae,re))},abort:function(Y){Y&&h.trigger(g.LOADING_ABANDONED,{mediaType:Y.mediaType,request:Y,sender:P})}}):S(void 0,new b.default(A.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,A.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function w(){V&&V.abort()},reset:function T(){V&&(V.abort(),V=null)}},function k(){V=Object(E.default)(m).create({errHandler:D.errHandler,errors:A,dashMetrics:D.dashMetrics,mediaPlayerModel:D.mediaPlayerModel,requestModifier:D.requestModifier,urlUtils:v,constants:t.default,boxParser:D.boxParser,dashConstants:D.dashConstants,requestTimeout:D.settings.get().streaming.fragmentRequestTimeout})}(),P}L.__dashjs_factory_name="FragmentLoader",x.default=F.default.getClassFactory(L)},"./src/streaming/ManifestLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/ManifestLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),O=c(
/*! ./controllers/XlinkController */
"./src/streaming/controllers/XlinkController.js"),b=c(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),F=c(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),L=c(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),D=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),m=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),h=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),g=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),v=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),A=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),U=c(
/*! ../dash/parser/DashParser */
"./src/dash/parser/DashParser.js");function P(k){var S,B,Y,re,ae,R=this.context,C=(k=k||{}).debug,w=k.settings,T=Object(h.default)(R).getInstance(),N=Object(F.default)(R).getInstance(),Re=k.mssHandler,z=k.errHandler;function H(Se){T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:Se.manifest})}return S={load:function te(Se){var Ie=new L.default(Se,m.HTTPRequest.MPD_TYPE);Y.load({request:Ie,success:function(Me,we,_e){if(re){var Le,Pe,Oe;if(_e&&_e!==Se?(Pe=N.parseBaseUrl(_e),Le=_e):(N.isRelative(Se)&&(Se=N.resolve(Se,window.location.href)),Pe=N.parseBaseUrl(Se)),"No Content"==we)return void T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:null});if(null===ae&&(ae=function me(Se){var Ie=null;return Se.indexOf("SmoothStreamingMedia")>-1?(Re&&(Ie=Re.createMssParser(),Re.registerEvents()),Ie):Se.indexOf("MPD")>-1||Se.indexOf("Patch")>-1?Object(U.default)(R).create({debug:C}):Ie}(Me)),null===ae)return void T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Se))});re.setMatchers(ae.getMatchers()),re.setIron(ae.getIron());try{Oe=ae.parse(Me)}catch{return void T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Se))})}if(Oe){if(Oe.url=Le||Se,Oe.originalUrl||(Oe.originalUrl=Oe.url),Oe.hasOwnProperty(t.default.LOCATION)&&(Pe=N.parseBaseUrl(Oe.Location_asArray[0]),B.debug("BaseURI set by Location to: "+Pe)),w&&w.get().streaming.enableManifestDurationMismatchFix&&Oe.mediaPresentationDuration&&Oe.Period_asArray.length>1){var Ue=Oe.Period_asArray.reduce(function(ze,He){return ze+He.duration},0);!isNaN(Ue)&&Oe.mediaPresentationDuration>Ue&&(B.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),Oe.mediaPresentationDuration=Ue)}Oe.baseUri=Pe,Oe.loadedTime=new Date,re.resolveManifestOnLoad(Oe),T.trigger(g.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:Me})}else T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Se))})}},error:function(Me,we,_e){T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(v.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,v.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(Se,", ").concat(_e))})}})},reset:function ue(){T.off(g.default.XLINK_READY,H,S),Re&&Re.reset(),re&&(re.reset(),re=null),Y&&(Y.abort(),Y=null)}},function oe(){B=C.getLogger(S),T.on(g.default.XLINK_READY,H,S),Y=Object(b.default)(R).create({errHandler:k.errHandler,dashMetrics:k.dashMetrics,mediaPlayerModel:k.mediaPlayerModel,requestModifier:k.requestModifier,urlUtils:N,constants:t.default,dashConstants:E.default,errors:v.default,requestTimeout:k.settings.get().streaming.manifestRequestTimeout}),re=Object(O.default)(R).create({errHandler:z,dashMetrics:k.dashMetrics,mediaPlayerModel:k.mediaPlayerModel,requestModifier:k.requestModifier,settings:k.settings}),ae=null}(),S}P.__dashjs_factory_name="ManifestLoader";var V=A.default.getClassFactory(P);x.default=V},"./src/streaming/ManifestUpdater.js":
/*!******************************************!*\
                  !*** ./src/streaming/ManifestUpdater.js ***!
                  \******************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),O=c(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),b=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../core/Debug */
"./src/core/Debug.js"),L=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),D=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),m=c(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function h(){var U,P,V,k,R,C,w,T,N,S,B,Y,g=this.context,v=Object(t.default)(g).getInstance(),A=Object(m.default)(g).getInstance();function oe(){V=NaN,w=!1,R=!0,C=!1,me()}function me(){null!==k&&(clearTimeout(k),k=null)}function te(Pe){me(),!C&&(isNaN(Pe)&&!isNaN(V)&&(Pe=1e3*V),isNaN(Pe)||(P.debug("Refresh manifest in "+Pe+" milliseconds."),k=setTimeout(Ie,Pe)))}function ue(){var Pe=arguments.length>0&&void 0!==arguments[0]&&arguments[0];w=!0;var Oe=N.getValue(),Ue=Oe.url,ze=S.getPatchLocation(Oe),He=S.getLocation(Oe);ze&&!Pe?Ue=ze:He&&(Ue=He),A.isRelative(Ue)&&(Ue=A.resolve(Ue,Oe.url)),T.load(Ue)}function Se(Pe){if(Pe){if(S.getIsPatch(Pe)){var Oe=Pe;Pe=N.getValue();var Ue=S.isPatchValid(Pe,Oe),ze=Ue;if(Ue){var He=S.getPublishTime(Pe);ze=S.applyPatchToManifest(Pe,Oe);var Ae=S.getPublishTime(Pe);ze=He.getTime()!=Ae.getTime()}if(!ze)return P.debug("Patch provided is invalid, performing full manifest refresh"),void ue(!0);Pe.loadedTime=new Date}}else(Pe=N.getValue()).loadedTime=new Date;if(N.getValue()&&N.getValue().type===D.default.DYNAMIC&&Pe.type===D.default.STATIC)return v.trigger(E.default.DYNAMIC_TO_STATIC),w=!1,void(C=!0);N.setValue(Pe);var ye=new Date,K=(ye.getTime()-Pe.loadedTime.getTime())/1e3;1e3*(V=S.getManifestUpdatePeriod(Pe,K))>2147483647&&(V=2147483.647),v.trigger(E.default.MANIFEST_UPDATED,{manifest:Pe}),P.info("Manifest has been refreshed at "+ye+"["+ye.getTime()/1e3+"] "),R||te()}function Ie(){if(!R){if(w)return void te(Y.get().streaming.manifestUpdateRetryInterval);ue()}}function le(Pe){Pe.error?Pe.error.code===L.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&B.error(Pe.error):Se(Pe.manifest)}function Me(){R=!1,te()}function we(){(R=!Y.get().streaming.scheduling.scheduleWhilePaused)&&me()}function _e(){w=!1}return U={initialize:function Re(){oe(),v.on(E.default.STREAMS_COMPOSED,_e,this),v.on(O.default.PLAYBACK_STARTED,Me,this),v.on(O.default.PLAYBACK_PAUSED,we,this),v.on(E.default.INTERNAL_MANIFEST_LOADED,le,this)},setManifest:function z(Pe){Se(Pe)},refreshManifest:ue,getIsUpdating:function Le(){return w},setConfig:function ae(Pe){Pe&&(Pe.manifestModel&&(N=Pe.manifestModel),Pe.adapter&&(S=Pe.adapter),Pe.manifestLoader&&(T=Pe.manifestLoader),Pe.errHandler&&(B=Pe.errHandler),Pe.settings&&(Y=Pe.settings))},reset:function H(){v.off(O.default.PLAYBACK_STARTED,Me,this),v.off(O.default.PLAYBACK_PAUSED,we,this),v.off(E.default.STREAMS_COMPOSED,_e,this),v.off(E.default.INTERNAL_MANIFEST_LOADED,le,this),oe()}},function re(){P=Object(F.default)(g).getInstance().getLogger(U)}(),U}h.__dashjs_factory_name="ManifestUpdater",x.default=b.default.getClassFactory(h)},"./src/streaming/MediaPlayer.js":
/*!**************************************!*\
                  !*** ./src/streaming/MediaPlayer.js ***!
                  \**************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../externals/cea608-parser */
"./externals/cea608-parser.js"),E=c.n(t),O=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),F=c(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),L=c(
/*! ./controllers/PlaybackController */
"./src/streaming/controllers/PlaybackController.js"),D=c(
/*! ./controllers/StreamController */
"./src/streaming/controllers/StreamController.js"),m=c(
/*! ./controllers/GapController */
"./src/streaming/controllers/GapController.js"),h=c(
/*! ./controllers/CatchupController */
"./src/streaming/controllers/CatchupController.js"),g=c(
/*! ../dash/controllers/ServiceDescriptionController */
"./src/dash/controllers/ServiceDescriptionController.js"),v=c(
/*! ../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js"),A=c(
/*! ./controllers/MediaController */
"./src/streaming/controllers/MediaController.js"),U=c(
/*! ./controllers/BaseURLController */
"./src/streaming/controllers/BaseURLController.js"),P=c(
/*! ./ManifestLoader */
"./src/streaming/ManifestLoader.js"),V=c(
/*! ./utils/ErrorHandler */
"./src/streaming/utils/ErrorHandler.js"),k=c(
/*! ./utils/Capabilities */
"./src/streaming/utils/Capabilities.js"),R=c(
/*! ./utils/CapabilitiesFilter */
"./src/streaming/utils/CapabilitiesFilter.js"),C=c(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),w=c(
/*! ./models/URIFragmentModel */
"./src/streaming/models/URIFragmentModel.js"),T=c(
/*! ./models/ManifestModel */
"./src/streaming/models/ManifestModel.js"),N=c(
/*! ./models/MediaPlayerModel */
"./src/streaming/models/MediaPlayerModel.js"),S=c(
/*! ./controllers/AbrController */
"./src/streaming/controllers/AbrController.js"),B=c(
/*! ./net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js"),Y=c(
/*! ./models/VideoModel */
"./src/streaming/models/VideoModel.js"),re=c(
/*! ./models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),ae=c(
/*! ./utils/DOMStorage */
"./src/streaming/utils/DOMStorage.js"),Re=c(
/*! ./../core/Debug */
"./src/core/Debug.js"),z=c(
/*! ./../core/errors/Errors */
"./src/core/errors/Errors.js"),oe=c(
/*! ./../core/EventBus */
"./src/core/EventBus.js"),H=c(
/*! ./../core/events/Events */
"./src/core/events/Events.js"),me=c(
/*! ./MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),te=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),ue=c(
/*! ../core/Settings */
"./src/core/Settings.js"),Se=c(
/*! ../core/Version */
"./src/core/Version.js"),Ie=c(
/*! ../dash/controllers/SegmentBaseController */
"./src/dash/controllers/SegmentBaseController.js"),le=c(
/*! ../dash/DashAdapter */
"./src/dash/DashAdapter.js"),Me=c(
/*! ../dash/DashMetrics */
"./src/dash/DashMetrics.js"),we=c(
/*! ../dash/utils/TimelineConverter */
"./src/dash/utils/TimelineConverter.js"),_e=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),Le=c(
/*! ../../externals/base64 */
"./externals/base64.js"),Pe=c.n(Le),Oe=c(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),Ue=c.n(Oe),ze=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),He=c(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),Ae=c(
/*! ./ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),ye=c(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),K=c(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),ie=c(
/*! ./text/TextController */
"./src/streaming/text/TextController.js"),he=c(
/*! ./models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function $(){var Ye,Be,Ze,Qe,$e,ct,It,_t,Pt,Vt,$t,Qt,dn,pn,Un,ot,dt,xe,fe,ge,st,mt,Dt,ut,bt,Nt,Zt,wt,Ht,en,tn,yn,Tn,In,kn,qn,ui,W="You must first call initialize() and set a source before calling this method",X="You must first call initialize() and set a valid source and view before calling this method",Q="You must first call attachView() to set the video element before calling this method",J="MediaPlayer not initialized!",de=this.context,pe=Object(oe.default)(de).getInstance(),ce=Object(ue.default)(de).getInstance(),Ce=Object(Re.default)(de).getInstance({settings:ce});function Xt(){Fo(null),Ai(null),Qe=null,dn&&(dn.reset(),dn=null),pn&&(pn.reset(),pn=null),fe&&fe.reset(),ce.reset(),ot&&(ot.reset(),ot=null)}function tt(){return!!Ze&&!!In.getElement()}function Gt(){return Object(Se.getVersionString)()}function Bt(){if(!It)throw X;return Zt.isPaused()}function ht(){if(!It)throw X;return Zt.getIsDynamic()}function Ti(Jt){var We=ut&&ut.hasVideoTrack()?O.default.VIDEO:O.default.AUDIO,Xe=tn.getCurrentDVRInfo(We);if(!Xe)return 0;var je=Zt.getOriginalLiveDelay(),yt=Xe.range.start+Jt;return yt>Xe.range.end-je&&(yt=Xe.range.end-je),yt}function Cn(Jt){if(!It)throw X;var We=li().currentTime;if(void 0!==Jt)We=ut.getTimeRelativeToStreamId(We,Jt);else if(Zt.getIsDynamic()){var Xe=ut&&ut.hasVideoTrack()?O.default.VIDEO:O.default.AUDIO,je=tn.getCurrentDVRInfo(Xe);We=null===je||0===We?0:Math.max(0,We-je.range.start)}return We}function Tr(){if(!It)throw X;var Jt=li().duration;if(Zt.getIsDynamic()){var We=ut&&ut.hasVideoTrack()?O.default.VIDEO:O.default.AUDIO,Xe=tn.getCurrentDVRInfo(We);Jt=Xe?Xe.range.end-Xe.range.start:0}return Jt}function Zn(Jt){Object(He.checkParameterType)(Jt,"boolean"),_t=Jt}function pr(){fe.restoreDefaultUTCTimingSources()}function hn(){return tn}function li(){if(!In.getElement())throw Q;return In.getElement()}function Ai(Jt){if(!$e)throw J;In.setElement(Jt),Jt&&(ua(),function Rr(){if(!pn){var Jt=dashjs.MetricsReporting;if("function"==typeof Jt){var We=Jt(de).create();pn=We.createMetricsReporting({debug:Ce,eventBus:pe,mediaElement:li(),adapter:dt,dashMetrics:tn,mediaPlayerModel:xe,events:H.default,constants:O.default,metricsConstants:F.default})}}}(),function vo(){if(!Un){var Jt=dashjs.MssHandler;"function"==typeof Jt&&(z.default.extend(Jt.errors),Un=Jt(de).create({eventBus:pe,mediaPlayerModel:xe,dashMetrics:tn,manifestModel:yn,playbackController:Zt,streamController:ut,protectionController:dn,baseURLController:st,errHandler:ge,events:H.default,constants:O.default,debug:Ce,initSegmentType:_e.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:Pe.a,ISOBoxer:Ue.a,settings:ce}))}}(),ut&&ut.switchToVideoElement()),It&&wa(),Oi()}function Pr(Jt){if(!ct)throw W;var We=ut.getActiveStreamInfo();return We?Qt.getTracksFor(Jt,We.id):[]}function Fo(Jt){var We=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!$e)throw J;"string"==typeof Jt&&kn.initialize(Jt),(null==We||isNaN(We))&&(We=NaN),We=Math.max(0,We),Ze=Jt,(ct||It)&&wa(),tt()&&Oi(We)}function Wa(){if(!ct)throw W;var Jt=ut.getActiveStreamInfo();return Jt?ut.getStreamById(Jt.id):null}function wa(){It=!1,ct=!1,dt.reset(),ut.reset(),Nt.reset(),en.reset(),Zt.reset(),wt.reset(),Ht.reset(),Pt.reset(),Qt.reset(),ui.reset(),dn&&(ce.get().streaming.protection.keepProtectionMediaKeys?dn.stop():(dn.reset(),dn=null,ua())),bt.reset(),Tn.reset()}function ds(){return Object(P.default)(de).create({debug:Ce,errHandler:ge,dashMetrics:tn,mediaPlayerModel:xe,requestModifier:Object(C.default)(de).getInstance(),mssHandler:Un,settings:ce})}function ua(){if(dn)return dn;var Jt=dashjs.Protection;if("function"==typeof Jt){var We=Jt(de).create();return H.default.extend(Jt.events),me.default.extend(Jt.events,{publicOnly:!0}),z.default.extend(Jt.errors),mt||(mt=Object(k.default)(de).getInstance()),dn=We.createProtectionSystem({debug:Ce,errHandler:ge,videoModel:In,customParametersModel:fe,capabilities:mt,eventBus:pe,events:H.default,BASE64:Pe.a,constants:O.default,cmcdModel:Tn,settings:ce})}return null}function Fr(){if(!$e)throw J;if(ot)return ot;var Jt=dashjs.OfflineController;if("function"==typeof Jt){H.default.extend(Jt.events),me.default.extend(Jt.events,{publicOnly:!0}),z.default.extend(Jt.errors);var We=ds(),Xe=Object(Ae.default)(de).create();return Xe.setConfig({manifestModel:yn,adapter:dt,manifestLoader:We,errHandler:ge}),ot=Jt(de).create({debug:Ce,manifestUpdater:Xe,baseURLController:st,manifestLoader:We,manifestModel:yn,mediaPlayerModel:xe,abrController:Pt,playbackController:Zt,adapter:dt,errHandler:ge,dashMetrics:tn,timelineConverter:$t,segmentBaseController:ui,schemeLoaderFactory:Vt,eventBus:pe,events:H.default,errors:z.default,constants:O.default,settings:ce,dashConstants:b.default,urlUtils:Object(ye.default)(de).getInstance()})}return null}function za(Jt){var We=ut&&ut.hasVideoTrack()?O.default.VIDEO:O.default.AUDIO,Xe=tn.getCurrentDVRInfo(We);return Xe?Jt+(Xe.manifestInfo.availableFrom.getTime()/1e3+Xe.range.start):0}function Oi(){var Jt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;ot&&ot.resetRecords(),!ct&&Ze&&(ct=!0,Be.info("Streaming Initialized"),function cl(){var Jt=ds();ut||(ut=Object(D.default)(de).getInstance()),bt||(bt=Object(ie.default)(de).create({errHandler:ge,manifestModel:yn,adapter:dt,mediaController:Qt,videoModel:In,settings:ce})),Dt.setConfig({capabilities:mt,customParametersModel:fe,adapter:dt,settings:ce,manifestModel:yn,errHandler:ge}),ut.setConfig({capabilities:mt,capabilitiesFilter:Dt,manifestLoader:Jt,manifestModel:yn,mediaPlayerModel:xe,customParametersModel:fe,protectionController:dn,textController:bt,adapter:dt,dashMetrics:tn,errHandler:ge,timelineConverter:$t,videoModel:In,playbackController:Zt,serviceDescriptionController:wt,contentSteeringController:Ht,abrController:Pt,mediaController:Qt,settings:ce,baseURLController:st,uriFragmentModel:kn,segmentBaseController:ui}),Nt.setConfig({settings:ce,playbackController:Zt,streamController:ut,videoModel:In,timelineConverter:$t,adapter:dt}),Zt.setConfig({streamController:ut,serviceDescriptionController:wt,dashMetrics:tn,adapter:dt,videoModel:In,timelineConverter:$t,settings:ce}),en.setConfig({streamController:ut,playbackController:Zt,mediaPlayerModel:xe,videoModel:In,settings:ce}),Pt.setConfig({streamController:ut,domStorage:qn,mediaPlayerModel:xe,customParametersModel:fe,dashMetrics:tn,adapter:dt,videoModel:In,settings:ce}),Tn.setConfig({abrController:Pt,dashMetrics:tn,playbackController:Zt}),Ht.setConfig({adapter:dt,errHandler:ge,dashMetrics:tn,mediaPlayerModel:xe,manifestModel:yn,abrController:Pt,eventBus:pe,requestModifier:Object(C.default)(de).getInstance()}),Pt.initialize(),ut.initialize(_t,Qe),bt.initialize(),Nt.initialize(),en.initialize(),Tn.initialize(),Ht.initialize(),ui.initialize()}(),"string"==typeof Ze?ut.load(Ze,Jt):ut.loadWithManifest(Ze,Jt)),!It&&tt()&&(It=!0,Be.info("Playback Initialized"))}return Ye={initialize:function at(Jt,We,Xe){var je=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;mt||(mt=Object(k.default)(de).getInstance()).setConfig({settings:ce}),ge||(ge=Object(V.default)(de).getInstance()),mt.supportsMediaSource()?($e||($e=!0,$t=Object(we.default)(de).getInstance(),Pt||(Pt=Object(S.default)(de).getInstance()).setConfig({settings:ce}),Vt||(Vt=Object(B.default)(de).getInstance()),Zt||(Zt=Object(L.default)(de).getInstance()),Qt||(Qt=Object(A.default)(de).getInstance()),ut||(ut=Object(D.default)(de).getInstance()),Nt||(Nt=Object(m.default)(de).getInstance()),en||(en=Object(h.default)(de).getInstance()),wt||(wt=Object(g.default)(de).getInstance()),Ht||(Ht=Object(v.default)(de).getInstance()),Dt||(Dt=Object(R.default)(de).getInstance()),dt=Object(le.default)(de).getInstance(),yn=Object(T.default)(de).getInstance(),Tn=Object(re.default)(de).getInstance(),tn=Object(Me.default)(de).getInstance({settings:ce}),qn=Object(ae.default)(de).getInstance({settings:ce}),dt.setConfig({constants:O.default,cea608parser:E.a,errHandler:ge,BASE64:Pe.a}),st||(st=Object(U.default)(de).create()),st.setConfig({adapter:dt}),wt.setConfig({adapter:dt}),ui||(ui=Object(Ie.default)(de).getInstance({dashMetrics:tn,mediaPlayerModel:xe,errHandler:ge,baseURLController:st,events:H.default,eventBus:pe,debug:Ce,boxParser:Object(K.default)(de).getInstance(),requestModifier:Object(C.default)(de).getInstance(),errors:z.default})),Qt.setConfig({domStorage:qn,settings:ce,customParametersModel:fe}),xe.setConfig({playbackController:Zt,serviceDescriptionController:wt}),pr(),Zn(void 0===Xe||Xe),Fr()),Jt&&Ai(Jt),We&&Fo(We,je),Be.info("[dash.js "+Gt()+"] MediaPlayer has been initialized")):ge.error(new ze.default(z.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,z.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function St(Jt){Jt&&(Jt.capabilities&&(mt=Jt.capabilities),Jt.capabilitiesFilter&&(Dt=Jt.capabilitiesFilter),Jt.streamController&&(ut=Jt.streamController),Jt.textController&&(bt=Jt.textController),Jt.gapController&&(Nt=Jt.gapController),Jt.playbackController&&(Zt=Jt.playbackController),Jt.serviceDescriptionController&&(wt=Jt.serviceDescriptionController),Jt.contentSteeringController&&(Ht=Jt.contentSteeringController),Jt.catchupController&&(en=Jt.catchupController),Jt.mediaPlayerModel&&(xe=Jt.mediaPlayerModel),Jt.customParametersModel&&(fe=Jt.customParametersModel),Jt.abrController&&(Pt=Jt.abrController),Jt.schemeLoaderFactory&&(Vt=Jt.schemeLoaderFactory),Jt.mediaController&&(Qt=Jt.mediaController),Jt.settings&&(ce=Jt.settings))},on:function Ct(Jt,We,Xe,je){pe.on(Jt,We,Xe,je)},off:function Yt(Jt,We,Xe){pe.off(Jt,We,Xe)},extend:function jo(Jt,We,Xe){te.default.extend(Jt,We,Xe,de)},attachView:Ai,attachSource:Fo,isReady:tt,play:function kt(){if(!It)throw X;(!_t||Bt()&&It)&&Zt.play(!0)},isPaused:Bt,pause:function Ot(){if(!It)throw X;Zt.pause()},isSeeking:function Fn(){if(!It)throw X;return Zt.isSeeking()},isDynamic:ht,getLowLatencyModeEnabled:function rn(){if(!It)throw X;return Zt.getLowLatencyModeEnabled()},seek:function on(Jt){if(!It)throw X;if(Object(He.checkParameterType)(Jt,"number"),isNaN(Jt))throw O.default.BAD_ARGUMENT_ERROR;Jt<0&&(Jt=0);var We=Zt.getIsDynamic()?Ti(Jt):Jt,Xe=li();!Zt.getIsDynamic()&&Xe.duration&&(We=Math.min(Xe.duration,We)),Zt.seek(We,!1,!1,!0)},seekToOriginalLive:function bn(){!It||!ht()||Zt.seekToOriginalLive()},setPlaybackRate:function ve(Jt){li().playbackRate=Jt},getPlaybackRate:function lt(){return li().playbackRate},setMute:function it(Jt){Object(He.checkParameterType)(Jt,"boolean"),li().muted=Jt},isMuted:function At(){return li().muted},setVolume:function Kt(Jt){if("number"!=typeof Jt||isNaN(Jt)||Jt<0||Jt>1)throw O.default.BAD_ARGUMENT_ERROR;li().volume=Jt},getVolume:function vn(){return li().volume},time:Cn,duration:Tr,timeAsUTC:function Ci(){if(!It)throw X;return Cn()<0?NaN:za(Cn())},durationAsUTC:function Lr(){if(!It)throw X;return za(Tr())},getActiveStream:Wa,getDVRWindowSize:function sr(){var Jt=ut&&ut.hasVideoTrack()?O.default.VIDEO:O.default.AUDIO,We=tn.getCurrentDVRInfo(Jt);return We?We.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:Ti,getTargetLiveDelay:function Li(){if(!It)throw X;return Zt.getOriginalLiveDelay()},convertToTimeCode:function Uo(Jt){Jt=Math.max(Jt,0);var We=Math.floor(Jt/3600),Xe=Math.floor(Jt%3600/60),je=Math.floor(Jt%3600%60);return(0===We?"":We<10?"0"+We.toString()+":":We.toString()+":")+(Xe<10?"0"+Xe.toString():Xe.toString())+":"+(je<10?"0"+je.toString():je.toString())},formatUTC:function Aa(Jt,We,Xe){var je=arguments.length>3&&void 0!==arguments[3]&&arguments[3],yt=new Date(1e3*Jt),Wt=yt.toLocaleDateString(We),Wn=yt.toLocaleTimeString(We,{hour12:Xe});return je?Wn+" "+Wt:Wn},getVersion:Gt,getDebug:function _n(){return Ce},getBufferLength:function Fi(Jt){var We=[O.default.VIDEO,O.default.AUDIO,O.default.TEXT];if(Jt)return-1!==We.indexOf(Jt)?hn().getCurrentBufferLevel(Jt)||NaN:(Be.warn("getBufferLength requested for invalid type"),NaN);var Xe=We.map(function(yt){return Pr(yt).length>0?hn().getCurrentBufferLevel(yt):Number.MAX_VALUE}).reduce(function(yt,Wt){return Math.min(yt,Wt)});return Xe===Number.MAX_VALUE?NaN:Xe},getTTMLRenderingDiv:function gr(){return In?In.getTTMLRenderingDiv():null},getVideoElement:li,getSource:function ro(){if(!Ze)throw"You must first call attachSource() with a valid source before calling this method";return Ze},updateSource:function cs(Jt){ut.load(Ze=Jt)},getCurrentLiveLatency:function $r(){if(!$e)throw J;return It?Zt.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function di(Jt){if(!ct)throw W;return Pt.getTopBitrateInfoFor(Jt)},setAutoPlay:Zn,getAutoPlay:function ko(){return _t},getDashMetrics:hn,getQualityFor:function er(Jt){if(!ct)throw W;if(Jt===O.default.IMAGE){var We=Wa();if(!We)return-1;var Xe=We.getThumbnailController();return Xe?Xe.getCurrentTrackIndex():-1}return Pt.getQualityFor(Jt)},setQualityFor:function mr(Jt,We){var Xe=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!ct)throw W;if(Jt===O.default.IMAGE){var je=Wa();if(!je)return;var yt=je.getThumbnailController();yt&&yt.setTrackByIndex(We)}Pt.setPlaybackQuality(Jt,ut.getActiveStreamInfo(),We,{forceReplace:Xe})},updatePortalSize:function Ir(){Pt.setElementSize(),Pt.setWindowResizeEventCalled(!0)},enableText:function Pn(Jt){var We=ut.getActiveStreamInfo();return!(!We||!bt)&&bt.enableText(We.id,Jt)},enableForcedTextStreaming:function Rn(Jt){return!(!ut.getActiveStreamInfo()||!bt)&&bt.enableForcedTextStreaming(Jt)},isTextEnabled:function ei(){var Jt=ut.getActiveStreamInfo();return!(!Jt||!bt)&&bt.isTextEnabled(Jt)},setTextTrack:function Jn(Jt){if(!It)throw X;var We=ut.getActiveStreamInfo();!We||!bt||bt.setTextTrack(We.id,Jt)},getBitrateInfoListFor:function Ma(Jt){if(!ct)throw W;var We=Wa();return We?We.getBitrateListFor(Jt):[]},getStreamsFromManifest:function qr(Jt){if(!ct)throw W;return dt.getStreamsInfo(Jt)},getTracksFor:Pr,getTracksForTypeFromManifest:function to(Jt,We,Xe){if(!ct)throw W;return(Xe=Xe||dt.getStreamsInfo(We,1)[0])?dt.getAllMediaInfoForType(Xe,Jt,We):[]},getCurrentTrackFor:function _o(Jt){if(!ct)throw W;var We=ut.getActiveStreamInfo();return Qt.getCurrentTrackFor(Jt,We.id)},setInitialMediaSettingsFor:function Ei(Jt,We){if(!$e)throw J;Qt.setInitialSettings(Jt,We)},getInitialMediaSettingsFor:function Ha(Jt){if(!$e)throw J;return Qt.getInitialSettings(Jt)},setCurrentTrack:function ca(Jt){if(!ct)throw W;Qt.setTrack(Jt)},addABRCustomRule:function Qi(Jt,We,Xe){fe.addAbrCustomRule(Jt,We,Xe)},removeABRCustomRule:function go(Jt){fe.removeAbrCustomRule(Jt)},removeAllABRCustomRule:function Xi(){fe.removeAllAbrCustomRule()},getABRCustomRules:function si(){return fe.getAbrCustomRules()},getAverageThroughput:function tr(Jt){var We=Pt.getThroughputHistory(),Xe=Zt.getIsDynamic();return We?We.getAverageThroughput(Jt,Xe):0},retrieveManifest:function Gi(Jt,We){var Xe=ds(),je=this;pe.on(H.default.INTERNAL_MANIFEST_LOADED,function Wt(Wn){Wn.error?We(null,Wn.error):We(Wn.manifest),pe.off(H.default.INTERNAL_MANIFEST_LOADED,Wt,je),Xe.reset()},je),kn.initialize(Jt),Xe.load(Jt)},addUTCTimingSource:function Kn(Jt,We){fe.addUTCTimingSource(Jt,We)},removeUTCTimingSource:function ai(Jt,We){fe.removeUTCTimingSource(Jt,We)},clearDefaultUTCTimingSources:function Ri(){fe.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:pr,setXHRWithCredentialsForType:function nr(Jt,We){fe.setXHRWithCredentialsForType(Jt,We)},getXHRWithCredentialsForType:function Or(Jt){return fe.getXHRWithCredentialsForType(Jt)},getProtectionController:function zi(){return ua()},attachProtectionController:function hr(Jt){dn=Jt},setProtectionData:function lr(Jt){Qe=Jt,ut&&ut.setProtectionData(Qe)},registerLicenseRequestFilter:function qo(Jt){fe.registerLicenseRequestFilter(Jt)},registerLicenseResponseFilter:function Wi(Jt){fe.registerLicenseResponseFilter(Jt)},unregisterLicenseRequestFilter:function Yr(Jt){fe.unregisterLicenseRequestFilter(Jt)},unregisterLicenseResponseFilter:function Bi(Jt){fe.unregisterLicenseResponseFilter(Jt)},registerCustomCapabilitiesFilter:function Ya(Jt){fe.registerCustomCapabilitiesFilter(Jt)},unregisterCustomCapabilitiesFilter:function kr(Jt){fe.unregisterCustomCapabilitiesFilter(Jt)},setCustomInitialTrackSelectionFunction:function no(Jt){fe.setCustomInitialTrackSelectionFunction(Jt)},resetCustomInitialTrackSelectionFunction:function Sr(){fe.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function xr(Jt){if(!In.getElement())throw Q;In.setTTMLRenderingDiv(Jt)},attachVttRenderingDiv:function fr(Jt){if(!In.getElement())throw Q;In.setVttRenderingDiv(Jt)},getCurrentTextTrackIndex:function oi(){var We=ut.getActiveStreamInfo();if(We&&bt)return bt.getCurrentTrackIdx(We.id)},provideThumbnail:function io(Jt,We){if("function"==typeof We){if(Jt<0)return void We(null);var Xe=Zt.getIsDynamic()?Ti(Jt):Jt,je=ut.getStreamForTime(Xe);if(null===je)return void We(null);var yt=je.getThumbnailController();return yt?yt.provide(Xe,We):void We(null)}},getDashAdapter:function ll(){return dt},getOfflineController:function jt(){return Fr()},triggerSteeringRequest:function da(){if(Ht)return Ht.loadSteeringData()},getCurrentSteeringResponseData:function Vo(){if(Ht)return Ht.getCurrentSteeringResponseData()},getSettings:function Bo(){return ce.get()},updateSettings:function Jo(Jt){ce.update(Jt)},resetSettings:function Ka(){ce.reset()},reset:Xt,destroy:function Ke(){Xt(),te.default.deleteSingletonInstances(de)}},function Ft(){Be=Ce.getLogger(Ye),$e=!1,It=!1,ct=!1,_t=!0,dn=null,ot=null,Qe=null,dt=null,ui=null,H.default.extend(me.default),xe=Object(N.default)(de).getInstance(),fe=Object(he.default)(de).getInstance(),In=Object(Y.default)(de).getInstance(),kn=Object(w.default)(de).getInstance()}(),Ye}$.__dashjs_factory_name="MediaPlayer";var Z=te.default.getClassFactory($);Z.events=me.default,Z.errors=z.default,te.default.updateClassFactory($.__dashjs_factory_name,Z),x.default=Z},"./src/streaming/MediaPlayerEvents.js":
/*!********************************************!*\
                  !*** ./src/streaming/MediaPlayerEvents.js ***!
                  \********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function E(R){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(R)}function O(R,C){for(var w=0;w<C.length;w++){var T=C[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,F(T.key),T)}}function F(R){var C=function L(R,C){if("object"!==E(R)||null===R)return R;var w=R[Symbol.toPrimitive];if(void 0!==w){var T=w.call(R,C||"default");if("object"!==E(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(R)}(R,"string");return"symbol"===E(C)?C:String(C)}function m(R,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(C&&C.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),C&&h(R,C)}function h(R,C){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(R,C)}function g(R){var C=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=P(R);if(C){var S=P(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function v(R,C){if(C&&("object"===E(C)||"function"==typeof C))return C;if(void 0!==C)throw new TypeError("Derived constructors may only return object or undefined");return function A(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,N)}}function P(R){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(R)}c.r(x);var k=new(function(R){m(w,R);var C=g(w);function w(){var T;return function D(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")}(this,w),(T=C.call(this)).AST_IN_FUTURE="astInFuture",T.BUFFER_EMPTY="bufferStalled",T.BUFFER_LOADED="bufferLoaded",T.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",T.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",T.DYNAMIC_TO_STATIC="dynamicToStatic",T.ERROR="error",T.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",T.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",T.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",T.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",T.LOG="log",T.MANIFEST_LOADED="manifestLoaded",T.METRICS_CHANGED="metricsChanged",T.METRIC_CHANGED="metricChanged",T.METRIC_ADDED="metricAdded",T.METRIC_UPDATED="metricUpdated",T.PERIOD_SWITCH_STARTED="periodSwitchStarted",T.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",T.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",T.QUALITY_CHANGE_RENDERED="qualityChangeRendered",T.TRACK_CHANGE_RENDERED="trackChangeRendered",T.STREAM_INITIALIZING="streamInitializing",T.STREAM_UPDATED="streamUpdated",T.STREAM_ACTIVATED="streamActivated",T.STREAM_DEACTIVATED="streamDeactivated",T.STREAM_INITIALIZED="streamInitialized",T.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",T.TEXT_TRACKS_ADDED="allTextTracksAdded",T.TEXT_TRACK_ADDED="textTrackAdded",T.TTML_PARSED="ttmlParsed",T.TTML_TO_PARSE="ttmlToParse",T.CAPTION_RENDERED="captionRendered",T.CAPTION_CONTAINER_RESIZE="captionContainerResize",T.CAN_PLAY="canPlay",T.CAN_PLAY_THROUGH="canPlayThrough",T.PLAYBACK_ENDED="playbackEnded",T.PLAYBACK_ERROR="playbackError",T.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",T.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",T.PLAYBACK_LOADED_DATA="playbackLoadedData",T.PLAYBACK_PAUSED="playbackPaused",T.PLAYBACK_PLAYING="playbackPlaying",T.PLAYBACK_PROGRESS="playbackProgress",T.PLAYBACK_RATE_CHANGED="playbackRateChanged",T.PLAYBACK_SEEKED="playbackSeeked",T.PLAYBACK_SEEKING="playbackSeeking",T.PLAYBACK_STALLED="playbackStalled",T.PLAYBACK_STARTED="playbackStarted",T.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",T.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",T.PLAYBACK_WAITING="playbackWaiting",T.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",T.EVENT_MODE_ON_START="eventModeOnStart",T.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",T.CONFORMANCE_VIOLATION="conformanceViolation",T.REPRESENTATION_SWITCH="representationSwitch",T.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",T.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",T}return function b(R,C,w){return C&&O(R.prototype,C),w&&O(R,w),Object.defineProperty(R,"prototype",{writable:!1}),R}(w)}(c(
/*! ../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));x.default=k},"./src/streaming/MediaPlayerFactory.js":
/*!*********************************************!*\
                  !*** ./src/streaming/MediaPlayerFactory.js ***!
                  \*********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./MediaPlayer */
"./src/streaming/MediaPlayer.js");var b,O=function E(){var h,m="application/dash+xml";function g(U,P,V){if(!U||!/^VIDEO$/i.test(U.nodeName))return null;if(U._dashjs_player)return U._dashjs_player;var k,R=U.id||U.name||"video element";if(!(P=P||[].slice.call(U.querySelectorAll("source")).filter(function(C){return C.type==m})[0])&&U.src)(P=document.createElement("source")).src=U.src;else if(!P&&!U.src)return null;return V=V||{},(k=Object(t.default)(V).create()).initialize(U,P.src,U.autoplay),h||(h=k.getDebug().getLogger()),h.debug("Converted "+R+" to dash.js player and added content: "+P.src),U._dashjs_player=k,k}function A(U){return/^VIDEO$/i.test(U.nodeName)?U:A(U.parentNode)}return{create:g,createAll:function v(U,P){var V=[];U=U||"[data-dashjs-player]";for(var k=(P=P||document).querySelectorAll(U),R=0;R<k.length;R++){var C=g(k[R],null);V.push(C)}for(var w=P.querySelectorAll('source[type="'+m+'"]'),T=0;T<w.length;T++){var S=g(A(w[T]),null);V.push(S)}return V}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?O.createAll():b=window.setInterval(function L(){window.dashjs&&(window.clearInterval(b),O.createAll())},500):window.addEventListener("load",function F(){window.removeEventListener("load",F),O.createAll()})),x.default=O},"./src/streaming/SourceBufferSink.js":
/*!*******************************************!*\
                  !*** ./src/streaming/SourceBufferSink.js ***!
                  \*******************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../core/Debug */
"./src/core/Debug.js"),E=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),O=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),F=c(
/*! ../core/Settings */
"./src/core/Settings.js"),L=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),D=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),m=c(
/*! ../core/events/Events */
"./src/core/events/Events.js");function A(P){var w,T,N,S,B,Y,V=this.context,k=Object(F.default)(V).getInstance(),R=P.textController,C=P.eventBus,re=[],ae=[],Re=!1,z=P.mediaSource,oe=null;function te(X){return new Promise(function(Q){W(function(){S.changeType&&S.changeType(X),Q()})})}function Ie(X){return S=R.getTextSourceBuffer(X),Promise.resolve()}function le(){if("function"==typeof S.addEventListener)try{S.addEventListener("updateend",he,!1),S.addEventListener("error",$,!1),S.addEventListener("abort",$,!1)}catch{Y=setInterval(he,50)}else Y=setInterval(he,50)}function _e(X){return new Promise(function(Q){S&&k.get().streaming.buffer.useAppendWindow?W(function(){try{if(!S)return void Q();var q=z.duration,J=0;X&&!isNaN(X.start)&&!isNaN(X.duration)&&isFinite(X.duration)&&(q=X.start+X.duration),X&&!isNaN(X.start)&&(J=X.start),(S.appendWindowEnd!==q||S.appendWindowStart!==J)&&(S.appendWindowStart=0,S.appendWindowEnd=q+.01,S.appendWindowStart=Math.max(J-.1,0),N.debug("Updated append window for ".concat(B.type,". Set start to ").concat(S.appendWindowStart," and end to ").concat(S.appendWindowEnd))),Q()}catch{N.warn("Failed to set append window"),Q()}}):Q()})}function Le(X){return new Promise(function(Q){S?W(function(){try{S.timestampOffset!==X&&!isNaN(X)&&(S.timestampOffset=X,N.debug("Set MSE timestamp offset to ".concat(X))),Q()}catch{Q()}}):Q()})}function ye(){if(!Re&&ae.length>0){Re=!0;var X=ae[0];ae.splice(0,1);var Q=function(){Re=!1,ae.length>0&&ye.call(this),X&&X.data&&X.data.segmentType&&X.data.segmentType!==D.HTTPRequest.INIT_SEGMENT_TYPE&&delete X.data.bytes,X.promise.resolve({chunk:X.data})};try{oe=X.request,0===X.data.bytes.byteLength?Q.call(this):(S.appendBuffer?S.appendBuffer(X.data.bytes):S.append(X.data.bytes,X.data),W(Q.bind(this)))}catch(q){N.fatal('SourceBuffer append failed "'+q+'"'),ae.length>0?ye():Re=!1,delete X.data.bytes,X.promise.reject({chunk:X.data,error:new E.default(q.code,q.message)})}}}function ie(){re.length>0&&!S.updating&&(re.shift()(),ie())}function he(){S.updating||ie()}function $(X){!function Z(X,Q){C.trigger(X,Q||{},{streamId:B.streamInfo.id,mediaType:T})}(m.default.SOURCE_BUFFER_ERROR,{error:X.target||{},lastRequestAppended:oe})}function W(X){re.push(X),S.updating||ie()}return w={getType:function Me(){return T},getAllBufferRanges:function Ue(){try{return S.buffered}catch(X){return N.error("getAllBufferRanges exception: "+X.message),null}},getBuffer:function Oe(){return S},append:function ze(X){var Q=this,q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(J,de){X?(ae.push({data:X,promise:{resolve:J,reject:de},request:q}),W(ye.bind(Q))):de({chunk:X,error:new E.default(b.default.APPEND_ERROR_CODE,b.default.APPEND_ERROR_MESSAGE)})})},remove:function Ae(X){return new Promise(function(Q,q){var J=X.start,de=X.end;J>=0&&de>J?W(function(){try{S.remove(J,de),W(function(){Q({from:J,to:de,unintended:!1}),X.resolve&&X.resolve()})}catch(pe){q({from:J,to:de,unintended:!1,error:new E.default(b.default.REMOVE_ERROR_CODE,b.default.REMOVE_ERROR_MESSAGE)}),X.reject&&X.reject(pe)}}):Q()})},abort:function K(){return new Promise(function(X){try{ae=[],"open"===z.readyState?W(function(){try{S&&S.abort(),X()}catch{X()}}):(S&&S.setTextTrack&&"ended"===z.readyState&&S.abort(),X())}catch{X()}})},reset:function Pe(){if(S){try{re=[],function we(){try{"function"==typeof S.removeEventListener&&(S.removeEventListener("updateend",he,!1),S.removeEventListener("error",$,!1),S.removeEventListener("abort",$,!1)),clearInterval(Y)}catch(X){N.error(X)}}(),Re=!1,ae=[],(!S.getClassName||"TextSourceBuffer"!==S.getClassName())&&(N.debug("Removing sourcebuffer from media source"),z.removeSourceBuffer(S))}catch{}S=null}oe=null},updateTimestampOffset:Le,initializeForStreamSwitch:function me(X,Q,q){T=(B=X).type;var J=B.codec;(function ue(X){S=X.getBuffer()})(q),le();var de=[];return de.push(function He(){return new Promise(function(X){W(function(){var Q=S.appendWindowStart,q=S.appendWindowEnd;S&&(S.abort(),S.appendWindowStart=Q,S.appendWindowEnd=q),X()})})}()),de.push(_e(B.streamInfo)),de.push(te(J)),Q&&void 0!==Q.MSETimeOffset&&de.push(Le(Q.MSETimeOffset)),Promise.all(de)},initializeForFirstUse:function Se(X,Q,q){T=(B=Q).type;var J=B.codec;try{if(J.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return Ie(X);S=z.addSourceBuffer(J),le();var de=[];return de.push(_e(B.streamInfo)),q&&void 0!==q.MSETimeOffset&&de.push(Le(q.MSETimeOffset)),Promise.all(de)}catch(pe){return B.type==L.default.TEXT&&!B.isFragmented||-1!==J.indexOf('codecs="stpp')||-1!==J.indexOf('codecs="vtt')?Ie(X):Promise.reject(pe)}},updateAppendWindow:_e,changeType:te},function H(){N=Object(t.default)(V).getInstance().getLogger(w)}(),w}A.__dashjs_factory_name="SourceBufferSink";var U=O.default.getClassFactory(A);x.default=U},"./src/streaming/Stream.js":
/*!*********************************!*\
                  !*** ./src/streaming/Stream.js ***!
                  \*********************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),O=c(
/*! ./StreamProcessor */
"./src/streaming/StreamProcessor.js"),b=c(
/*! ./controllers/FragmentController */
"./src/streaming/controllers/FragmentController.js"),F=c(
/*! ./thumbnail/ThumbnailController */
"./src/streaming/thumbnail/ThumbnailController.js"),L=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),D=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),m=c(
/*! ../core/Debug */
"./src/core/Debug.js"),h=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),g=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),A=c(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),U=c(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),P=c(
/*! ./controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),V=[t.default.VIDEO,t.default.AUDIO,t.default.TEXT,t.default.MUXED,t.default.IMAGE];function k(R){R=R||{};var we,_e,Le,Pe,Oe,Ue,ze,He,Ae,ye,K,ie,he,$,Z,W,X,Q,C=this.context,w=Object(L.default)(C).getInstance(),T=Object(U.default)(C).getInstance(),N=R.manifestModel,S=R.mediaPlayerModel,B=R.dashMetrics,Y=R.manifestUpdater,re=R.adapter,ae=R.timelineConverter,Re=R.capabilities,z=R.errHandler,oe=R.abrController,H=R.playbackController,me=R.eventController,te=R.mediaController,ue=R.protectionController,Se=R.textController,Ie=R.videoModel,le=R.streamInfo,Me=R.settings;function $e(Ot,Bt){return new Promise(function(on,bn){ut(),ye=!0,Ht();var Fn=Ie.getElement();V.forEach(function(ht){(ht!==t.default.VIDEO||!Fn||Fn&&/^VIDEO$/i.test(Fn.nodeName))&&function ct(Ot,Bt){var ht,on=re.getAllMediaInfoForType(le,Ot),bn=[],Fn=null;if(on&&0!==on.length){Ot===t.default.VIDEO&&(ze=!0),Ot===t.default.AUDIO&&(He=!0);for(var rn=0,ve=on.length;rn<ve;rn++)Fn=on[rn],Ot===t.default.TEXT&&Fn.isEmbedded&&(Se.addEmbeddedTrack(le,Fn),bn.push(Fn)),It(Fn)&&te.addTrack(Fn);if(bn.length>0&&(te.setInitialMediaSettingsForType(Ot,le),Se.addMediaInfosToBuffer(le,Ot,bn)),0!==(on=on.filter(function(it){return!it.isEmbedded})).length){if(Ot===t.default.IMAGE)return void(ie=Object(F.default)(C).create({streamInfo:le,adapter:re,baseURLController:R.baseURLController,timelineConverter:R.timelineConverter,debug:W,eventBus:w,events:D.default,dashConstants:E.default,dashMetrics:R.dashMetrics,segmentBaseController:R.segmentBaseController})).initialize();w.trigger(D.default.STREAM_INITIALIZING,{streamInfo:le,mediaInfo:Fn}),te.setInitialMediaSettingsForType(Ot,le);var lt=function _t(Ot,Bt){var on=Ot&&Ot.length>0?Ot[0]:null,bn=K.getModel(on?on.type:null),Fn=on?on.type:null,ht=on?on.mimeType:null,rn=on?on.isFragmented:null,ve=Object(O.default)(C).create({streamInfo:le,type:Fn,mimeType:ht,timelineConverter:ae,adapter:re,manifestModel:N,mediaPlayerModel:S,fragmentModel:bn,dashMetrics:R.dashMetrics,baseURLController:R.baseURLController,segmentBaseController:R.segmentBaseController,abrController:oe,playbackController:H,mediaController:te,textController:Se,errHandler:z,settings:Me,boxParser:Z,segmentBlacklistController:he});ve.initialize(Bt,ze,rn),Le.push(ve);for(var lt=0;lt<Ot.length;lt++)ve.addMediaInfo(Ot[lt]);return Fn===t.default.TEXT&&Se.addMediaInfosToBuffer(le,Fn,Ot,bn),ve}(on,Bt);(ht=te.getCurrentTrackFor(Ot,le.id))&&(oe.updateTopQualityIndex(ht),lt.selectMediaInfo(Ot===t.default.TEXT&&ht.isEmbedded?on[0]:ht))}}else _e.info("No "+Ot+" data.")}(ht,Ot)}),function Pt(Ot){return new Promise(function(Bt){var on={},bn=Le.map(function(Fn){return Fn.createBufferSinks(Ot)});Promise.all(bn).then(function(Fn){Fn.forEach(function(ht){ht&&(on[ht.getType()]=ht)}),Bt(on)}).catch(function(){Bt(on)})})}(Bt).then(function(ht){if(ye=!1,0===Le.length){var rn="No streams to play.";z.error(new v.default(h.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,rn,N.getValue())),_e.fatal(rn)}else en();Se.createTracks(le),on(ht)}).catch(function(ht){bn(ht)})})}function It(Ot){var Bt=Ot?Ot.type:null;return Bt===t.default.MUXED?(_e.fatal("Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),z.error(new v.default(h.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",N.getValue())),!1):!(Bt!==t.default.TEXT&&Bt!==t.default.IMAGE&&Ot.contentProtection&&!Re.supportsEncryptedMedia()&&(z.error(new v.default(h.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,h.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function Vt(Ot){for(var Bt=Le?Le.length:0,bn=0;bn<Bt;bn++){var Fn=Le[bn].getFragmentModel();Fn.abortRequests(),Fn.resetInitialSettings(),Le[bn].reset(false,Ot)}Se&&Se.deactivateStream(le),Le=[],Oe=!1,Ue=!1,Yt(!1),dt(!1),w.trigger(D.default.STREAM_DEACTIVATED,{streamInfo:le})}function dn(Ot){Vt(Ot),Pe=!1,ze=!1,He=!1,Ae={},ye=!1,X=!1,Q=[]}function dt(Ot){X=Ot}function xe(){return le?le.start:NaN}function fe(){return le?le.id:null}function ge(){return le}function ut(){if(!Ie||!oe)throw new Error(t.default.MISSING_CONFIG_ERROR)}function Nt(Ot){Ot.error&&(z.error(Ot.error),_e.fatal(Ot.error.message))}function Ht(){if(me){var Ot=re.getEventsFor(le);Ot&&Ot.length>0&&me.addInlineEvents(Ot,le.id)}}function en(){for(var Ot=Le.length,on=Ae.audio||Ae.video?new v.default(h.default.DATA_UPDATE_FAILED_ERROR_CODE,h.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,bn=0;bn<Ot;bn++)if(Le[bn].isUpdating()||ye)return;if(ue){ue.clearMediaInfoArray();for(var Fn=0;Fn<Ot&&Le[Fn];Fn++){var ht=Le[Fn].getType(),rn=Le[Fn].getMediaInfo();if(ht===t.default.AUDIO||ht===t.default.VIDEO||ht===t.default.TEXT&&rn.isFragmented){var ve=Le[Fn].getMediaInfo();ve&&ue.initializeForMedia(ve)}}ue.handleKeySystemFromManifest()}on?z.error(on):Pe||(Pe=!0,Ie.waitForReadyState(t.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){w.trigger(D.default.STREAM_INITIALIZED,{streamInfo:le})}))}function yn(){var Ot=ui(),Bt=Ot.length;if(0!==Bt){for(var on=0;on<Bt;on++)if(!Ot[on].isBufferingCompleted()&&(Ot[on].getType()===t.default.AUDIO||Ot[on].getType()===t.default.VIDEO))return void _e.debug("onBufferingCompleted - One streamProcessor has finished but",Ot[on].getType(),"one is not buffering completed");_e.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),Ue=!0,w.trigger(D.default.STREAM_BUFFERING_COMPLETED,{streamInfo:le},{streamInfo:le})}else _e.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function Tn(Ot){Ae[Ot.mediaType]=Ot.error,en()}function In(Ot){me&&me.addInbandEvents(Ot.events,le.id)}function kn(Ot){return Ot&&Ot.type?qn(Ot.type):null}function qn(Ot){return Ot?ui().filter(function(on){return on.getType()===Ot})[0]:null}function ui(){for(var Bt,on,Ot=[],bn=0;bn<Le.length;bn++)((Bt=(on=Le[bn]).getType())===t.default.AUDIO||Bt===t.default.VIDEO||Bt===t.default.TEXT)&&Ot.push(on);return Ot}function Ke(Ot,Bt){var on=ge(),bn=Bt.getStreamInfo();if(!bn||!on)return!0;var Fn=re.getAdaptationForType(bn.index,Ot,bn),ht=re.getAdaptationForType(on.index,Ot,on);return Fn&&ht?!(!tt(ht)&&tt(Fn)):!Fn&&!ht}function tt(Ot){return!!Ot&&!!(Ot.ContentProtection||Ot.Representation&&Ot.Representation.length>0&&Ot.Representation[0].ContentProtection)}function Ct(Ot,Bt){var on=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Ot||!Ot.hasOwnProperty("getStreamInfo"))return!1;var bn=Ot.getStreamInfo(),Fn=on?on.getStreamInfo():ge();if(!bn||!Fn)return!1;var ht=re.getAdaptationForType(bn.index,Bt,bn),rn=re.getAdaptationForType(Fn.index,Bt,Fn);if(!ht||!rn)return!ht&&!rn;var ve=ht&&rn&&ht.mimeType===rn.mimeType,lt=rn.Representation_asArray.map(function(vn){return vn.codecs}),it=ht.Representation_asArray.map(function(vn){return vn.codecs}),At=it.some(function(vn){return lt.indexOf(vn)>-1}),Kt=it.some(function(vn){return lt.some(function(Fi){return Re.codecRootCompatibleWithCodec(Fi,vn)})});return At||Kt&&ve}function Yt(Ot){$=Ot}function Gt(){return $}return we={initialize:function J(){(function de(){w.on(D.default.BUFFERING_COMPLETED,yn,we),w.on(D.default.DATA_UPDATE_COMPLETED,Tn,we),w.on(D.default.INBAND_EVENTS,In,we)})(),function ce(){ue&&(w.on(D.default.KEY_ERROR,Nt,we),w.on(D.default.SERVER_CERTIFICATE_UPDATED,Nt,we),w.on(D.default.LICENSE_REQUEST_COMPLETE,Nt,we),w.on(D.default.KEY_SYSTEM_SELECTED,Nt,we),w.on(D.default.KEY_SESSION_CREATED,Nt,we),w.on(D.default.KEY_STATUSES_CHANGED,Nt,we))}(),Se.initializeForStream(le),w.trigger(D.default.STREAM_UPDATED,{streamInfo:le})},getStreamId:function Ye(){return le?le.id:null},activate:function Be(Ot,Bt){return new Promise(function(on,bn){if(!Oe)return Gt()?(Oe=!0,w.trigger(D.default.STREAM_ACTIVATED,{streamInfo:le}),void on(Bt)):void function Ze(Ot,Bt){return $e(Ot,Bt)}(Ot,Bt).then(function(Fn){Oe=!0,w.trigger(D.default.STREAM_ACTIVATED,{streamInfo:le}),on(Fn)}).catch(function(Fn){bn(Fn)});on(Bt)})},deactivate:Vt,getIsActive:function $t(){return Oe},getDuration:function Un(){return le?le.duration:NaN},getStartTime:xe,getId:fe,getStreamInfo:ge,getHasAudioTrack:function st(){return He},getHasVideoTrack:function mt(){return ze},startPreloading:function Qe(Ot,Bt){return new Promise(function(on,bn){Gt()?bn():(_e.info("[startPreloading] Preloading next stream with id ".concat(fe())),Yt(!0),$e(Ot,Bt).then(function(){for(var Fn=0;Fn<Le.length&&Le[Fn];Fn++)Le[Fn].setExplicitBufferingTime(xe()),Le[Fn].getScheduleController().startScheduleTimer();on()}).catch(function(){Yt(!1),bn()}))})},getThumbnailController:function Dt(){return ie},getBitrateListFor:function bt(Ot){if(ut(),Ot===t.default.IMAGE)return ie?ie.getBitrateList():[];var Bt=function tn(Ot){for(var Bt=null,on=0;on<Le.length;on++)if((Bt=Le[on]).getType()===Ot)return Bt.getMediaInfo();return null}(Ot);return oe.getBitrateList(Bt)},updateData:function St(Ot){return new Promise(function(Bt){ye=!0,le=Ot,me&&Ht();for(var on=[],bn=0,Fn=Le.length;bn<Fn;bn++){var ht=Le[bn],rn=ht.getMediaInfo();on.push(ht.updateStreamInfo(le));var ve=re.getAllMediaInfoForType(le,ht.getType());if(ve){ht.clearMediaInfoArray();for(var lt=0;lt<ve.length;lt++){var it=ve[lt];ht.addMediaInfo(ve[lt]),re.areMediaInfosEqual(rn,it)&&(oe.updateTopQualityIndex(it),on.push(ht.selectMediaInfo(it)))}}}Promise.all(on).then(function(){for(on=[];Q.length>0;){var At=Q.pop(),Kt=At.newMediaInfo,vn=kn(At.oldMediaInfo);if(!vn)return;on.push(vn.prepareTrackSwitch()),vn.selectMediaInfo(Kt)}return Promise.all(on)}).then(function(){ye=!1,en(),w.trigger(D.default.STREAM_UPDATED,{streamInfo:le}),Bt()})})},reset:function pn(Ot){K&&(K.reset(),K=null),oe&&le&&oe.clearDataForStream(le.id),he&&(he.reset(),he=null),dn(Ot),le=null,function pe(){w.off(D.default.DATA_UPDATE_COMPLETED,Tn,we),w.off(D.default.BUFFERING_COMPLETED,yn,we),w.off(D.default.INBAND_EVENTS,In,we)}(),function Ce(){ue&&(w.off(D.default.KEY_ERROR,Nt,we),w.off(D.default.SERVER_CERTIFICATE_UPDATED,Nt,we),w.off(D.default.LICENSE_REQUEST_COMPLETE,Nt,we),w.off(D.default.KEY_SYSTEM_SELECTED,Nt,we),w.off(D.default.KEY_SESSION_CREATED,Nt,we),w.off(D.default.KEY_STATUSES_CHANGED,Nt,we))}()},getProcessors:ui,setMediaSource:function Qt(Ot){for(var Bt=0;Bt<Le.length;)It(Le[Bt].getMediaInfo())?(Le[Bt].setMediaSource(Ot),Bt++):(Le[Bt].reset(),Le.splice(Bt,1));if(0===Le.length){var on="No streams to play.";z.error(new v.default(h.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,on+"nostreams",N.getValue())),_e.fatal(on)}},isMediaCodecCompatible:function at(Ot){var Bt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ct(Ot,t.default.VIDEO,Bt)&&Ct(Ot,t.default.AUDIO,Bt)},isProtectionCompatible:function Xt(Ot){return!Ot||Ke(t.default.VIDEO,Ot)&&Ke(t.default.AUDIO,Ot)},getPreloaded:Gt,getIsEndedEventSignaled:function ot(){return X},setIsEndedEventSignaled:dt,getAdapter:function kt(){return re},getHasFinishedBuffering:function _n(){return Ue},setPreloaded:Yt,startScheduleControllers:function Ft(){for(var Ot=Le.length,Bt=0;Bt<Ot&&Le[Bt];Bt++)Le[Bt].getScheduleController().startScheduleTimer()},prepareTrackChange:function Zt(Ot){if(Oe&&le){Ue=!1;var Bt=Ot.newMediaInfo,on=N.getValue();re.setCurrentMediaInfo(le.id,Bt.type,Bt);var bn=kn(Bt);if(bn){var Fn=H.getTime();_e.info("Stream -  Process track changed at current time "+Fn),on.refreshManifestOnSwitchTrack?(Q.push(Ot),Y.getIsUpdating()||(_e.debug("Stream -  Refreshing manifest for switch track"),Y.refreshManifest())):bn.selectMediaInfo(Bt).then(function(){(Bt.type===t.default.VIDEO||Bt.type===t.default.AUDIO)&&oe.updateTopQualityIndex(Bt),bn.prepareTrackSwitch()})}}},prepareQualityChange:function wt(Ot){var Bt=qn(Ot.mediaType);Bt&&Bt.prepareQualityChange(Ot)}},function q(){try{W=Object(m.default)(C).getInstance(),_e=W.getLogger(we),dn(),Z=Object(A.default)(C).getInstance(),he=Object(P.default)(C).create({updateEventName:D.default.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:D.default.SEGMENT_LOCATION_BLACKLIST_ADD}),K=Object(b.default)(C).create({streamInfo:le,mediaPlayerModel:S,dashMetrics:B,errHandler:z,settings:Me,boxParser:Z,dashConstants:E.default,urlUtils:T})}catch(Ot){throw Ot}}(),we}k.__dashjs_factory_name="Stream",x.default=g.default.getClassFactory(k)},"./src/streaming/StreamProcessor.js":
/*!******************************************!*\
                  !*** ./src/streaming/StreamProcessor.js ***!
                  \******************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),O=c(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),b=c(
/*! ./models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),F=c(
/*! ./controllers/BufferController */
"./src/streaming/controllers/BufferController.js"),L=c(
/*! ./text/NotFragmentedTextBufferController */
"./src/streaming/text/NotFragmentedTextBufferController.js"),D=c(
/*! ./controllers/ScheduleController */
"./src/streaming/controllers/ScheduleController.js"),m=c(
/*! ../dash/controllers/RepresentationController */
"./src/dash/controllers/RepresentationController.js"),h=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=c(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),v=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),A=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),U=c(
/*! ../dash/DashHandler */
"./src/dash/DashHandler.js"),P=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),V=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),k=c(
/*! ../core/Debug */
"./src/core/Debug.js"),R=c(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),C=c(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),w=c(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),T=c(
/*! ./vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),N=c(
/*! ../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),S=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function B(Y){Y=Y||{};var ze,He,Ae,ye,K,ie,he,$,Z,W,X,Q,q,re=this.context,ae=Object(v.default)(re).getInstance(),Re=Y.streamInfo,z=Y.type,oe=Y.errHandler,H=Y.mimeType,me=Y.timelineConverter,te=Y.adapter,ue=Y.manifestModel,Se=Y.mediaPlayerModel,Ie=Y.fragmentModel,le=Y.abrController,Me=Y.playbackController,we=Y.mediaController,_e=Y.textController,Le=Y.dashMetrics,Pe=Y.settings,Oe=Y.boxParser,Ue=Y.segmentBlacklistController;function pe(){return Re.id}function ce(){return z}function Ce(){return te.getIsTextTrack($.getData())}function Ye(){K=[],ye=null,q=0,Z=!1,W=!1}function ct(ht){var rn=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(ht.sender){if(Me.getIsManifestUpdateInProgress())return void Qt();if((!Ce()||_e.isTextEnabled())&&ie&&ht.representationId&&!ie.appendInitSegmentFromCache(ht.representationId)){var ve=$.getCurrentRepresentation();if(0===ve.range)return void It();var lt=X?X.getInitRequest(ye,ve):null;lt?Ie.executeRequest(lt):rn&&(he.setInitSegmentRequired(!0),Qt())}}}function It(ht){var rn=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Me.getIsManifestUpdateInProgress()||ie.getIsPruningInProgress())Qt();else{var ve=function $t(){var rn,ht=at();if(isNaN(q)||ce()===t.default.TEXT&&!_e.isTextEnabled())return null;var ve=Z;if(X){var lt=$&&ht?$.getRepresentationForQuality(ht.quality):null;rn=ve?X.getSegmentRequestForTime(ye,lt,q):X.getNextSegmentRequest(ye,lt)}return rn}();ve?(Z=!1,function _t(ht){isNaN(ht.startTime+ht.duration)||(q=ht.startTime+ht.duration),ht.delayLoadingTime=(new Date).getTime()+he.getTimeToLoadDelay(),he.setTimeToLoadDelay(0),function Vt(ht){var rn=ht.url;return ht.range&&(rn=rn.concat("_",ht.range)),Ue.contains(rn)}(ht)?(He.warn("Fragment request url ".concat(ht.url," for stream id ").concat(Re.id," and media type ").concat(z," is on the ignore list and will be skipped")),Qt()):(He.debug("Next fragment request url for stream id ".concat(Re.id," and media type ").concat(z," is ").concat(ht.url)),Ie.executeRequest(ht))}(ve)):function Pt(ht){var ve,rn=$.getCurrentRepresentation();if(!Pe.get().streaming.gaps.enableSeekFix||!Z&&0!==Me.getTime()||(Ae?Ae&&rn.segmentInfoType===E.default.SEGMENT_TIMELINE&&(ve=X.getValidTimeAheadOfTargetTime(q,ye,rn,Pe.get().streaming.gaps.threshold)):ve=X.getValidTimeAheadOfTargetTime(q,ye,rn,Pe.get().streaming.gaps.threshold),isNaN(ve)||ve===q)){if(X.isLastSegmentRequested(rn,q)){var it=X.getCurrentIndex();return He.debug("Segment requesting for stream ".concat(Re.id," has finished")),ae.trigger(A.default.STREAM_REQUESTING_COMPLETED,{segmentIndex:it},{streamId:Re.id,mediaType:z}),ie.segmentRequestingCompleted(it),void he.clearScheduleTimer()}ht&&Qt()}else Me.isSeeking()||0===Me.getTime()?(He.warn("Adjusting playback time ".concat(ve," because of gap in the manifest. Seeking by ").concat(ve-q)),Me.seek(ve,!1,!1)):(He.warn("Adjusting buffering time ".concat(ve," because of gap in the manifest. Adjusting time by ").concat(ve-q)),bn(ve),ht&&Qt())}(rn)}}function Qt(){he.startScheduleTimer(Me.getLowLatencyModeEnabled()?Pe.get().streaming.scheduling.lowLatencyTimeout:Pe.get().streaming.scheduling.defaultTimeout)}function dn(ht){ht.error||(he.setCurrentRepresentation(te.convertRepresentationToRepresentationInfo(ht.currentRepresentation)),ie.getIsBufferingCompleted()||ie.updateBufferTimestampOffset(ht.currentRepresentation))}function pn(ht){Le.addBufferState(z,ht.state,he.getBufferTarget()),ht.state===O.default.BUFFER_EMPTY&&!Me.isSeeking()&&(He.info("Buffer is empty! Stalling!"),Le.pushPlayListTraceMetrics(new Date,T.PlayListTrace.REBUFFERING_REASON))}function Un(ht){Ie.syncExecutedRequestsWithBufferedRange(ie.getBuffer().getAllBufferRanges(),Re.duration),ht.quotaExceeded&&ht.from>Me.getTime()&&bn(ht.from),ht.hasEnoughSpaceToAppend&&ht.quotaExceeded&&he.startScheduleTimer()}function ot(ht){if(ht&&ht.lastRequestAppended&&ht.lastRequestAppended.url){var rn=ht.lastRequestAppended.url;ht.lastRequestAppended.range&&(rn=rn.concat("_",ht.lastRequestAppended.range)),He.warn("Blacklisting segment with url ".concat(rn)),Ue.add(rn)}}function ge(){Ot(),W=!1}function st(ht){He.info("onFragmentLoadingAbandoned request: "+ht.request.url+" has been aborted"),!Me.isSeeking()&&!he.getSwitchStrack()&&!W&&(He.info("onFragmentLoadingAbandoned request: "+ht.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),ht.request&&ht.request.isInitializationRequest()?he.setInitSegmentRequired(!0):bn(ht.request.startTime+ht.request.duration/2),he.startScheduleTimer(0))}function mt(ht){He.info("OnFragmentLoadingCompleted for stream id "+Re.id+" and media type "+z+" - Url:",ht.request?ht.request.url:"undefined",ht.request.range?", Range:"+ht.request.range:""),Ce()&&he.startScheduleTimer(0),ht.error&&ht.request.serviceLocation&&function Dt(ht){He.info("Fragment loading completed with an error"),ht&&ht.request&&ht.request.type&&(ht.request.type===S.HTTPRequest.INIT_SEGMENT_TYPE?ct({representationId:ht.request.representationId,sender:{}},!1):ht.request.type===S.HTTPRequest.MEDIA_SEGMENT_TYPE&&(bn(ht.request.startTime+ht.request.duration/2),It({},!1)))}(ht)}function ut(){bn(Me.getTime()),St().startScheduleTimer()}function bt(ht){var rn=ht.currentTrackInfo;if(rn){var ve=K.find(function(lt){return lt.index===rn.index&&lt.lang===rn.lang});ve&&Tn(ve).then(function(){ie.setIsBufferingCompleted(!1),bn(Me.getTime()),he.setInitSegmentRequired(!0),he.startScheduleTimer()})}}function Nt(ht){bn(ht.quotaExceededTime),he.clearScheduleTimer()}function wt(){return ie?ie.getBuffer():null}function Tn(ht){ht!==ye&&(!ht||!ye||ht.type===ye.type)&&(ye=ht);var rn=te.getRealAdaptation(Re,ye),ve=te.getVoRepresentations(ye);if($){var Kt,lt=$.getData(),it=le.getMaxAllowedIndexFor(z,Re.id),At=le.getMinAllowedIndexFor(z,Re.id),Fi=null;return null!==lt&&lt.id===rn.id||z===t.default.TEXT?Kt=le.getQualityFor(z,Re.id):(Fi=le.getThroughputHistory().getAverageThroughput(z,Ae)||le.getInitialBitrateFor(z,Re.id),Kt=le.getQualityForBitrate(ye,Fi,Re.id)),void 0!==At&&Kt<At&&(Kt=At),Kt>it&&(Kt=it),$.updateData(rn,ve,z,ye.isFragmented,Kt)}return Promise.resolve()}function St(){return he}function at(ht){var rn;return void 0!==ht?(Object(g.checkInteger)(ht),rn=$?$.getRepresentationForQuality(ht):null):rn=$?$.getCurrentRepresentation():null,te.convertRepresentationToRepresentationInfo(rn)}function Xt(){return!!ie&&ie.getIsBufferingCompleted()}function Ct(ht){var rn=ht.chunk,ve=rn.bytes,lt=rn.quality,it=at(lt),At=$&&it?$.getRepresentationForQuality(it.quality):null;if(it&&At){var Kt=te.getEventsFor(it.mediaInfo,null,Re),vn=te.getEventsFor(it,At,Re);if(Kt&&Kt.length>0||vn&&vn.length>0){var sr=function Yt(ht,rn,ve,lt){try{for(var it={},At=[],Kt=ve.concat(lt),vn=0,Fi=Kt.length;vn<Fi;vn++)it[Kt[vn].schemeIdUri+"/"+Kt[vn].value]=Kt[vn];var sr=Object(w.default)(re).getInstance().parse(ht),Ti=sr.getBoxes("emsg");if(!Ti||0===Ti.length)return At;for(var Li=sr.getBox("sidx"),Cn=!Li||isNaN(Li.earliest_presentation_time)||isNaN(Li.timescale)?rn&&!isNaN(rn.mediaStartTime)?rn.mediaStartTime:0:Li.earliest_presentation_time/Li.timescale,Tr=Math.max(Cn,0),Ci=$.getCurrentRepresentation(),Lr=0,di=Ti.length;Lr<di;Lr++){var er=te.getEvent(Ti[Lr],it,Tr,Ci);er&&At.push(er)}return At}catch{return[]}}(ve,Ie.getRequests({state:b.default.FRAGMENT_MODEL_EXECUTED,quality:lt,index:rn.index})[0],Kt,vn);ae.trigger(A.default.INBAND_EVENTS,{events:sr},{streamId:Re.id})}}}function kt(){var ht=Me.getTime();Pe.get().streaming.buffer.flushBufferAtTrackSwitch&&Me.seek(ht+.001,!1,!0),bn(ht),ie.setSeekTarget(ht),he.startScheduleTimer()}function Ot(){var ht=Me.getTime(),rn=ie.getContinuousBufferTimeForTargetTime(ht);bn(isNaN(rn)?ht:rn),he.startScheduleTimer()}function on(ht){ht&&!isNaN(ht.time)&&(bn(ht.time),ie.setSeekTarget(ht.time))}function bn(ht){q=ht,Z=!0}return ze={initialize:function de(ht,rn,ve){Q=Object(N.default)(re).create({events:A.default,eventBus:ae,streamInfo:Re,timelineConverter:me,dashConstants:E.default,segmentBaseController:Y.segmentBaseController,type:z}),(X=Object(U.default)(re).create({streamInfo:Re,type:z,timelineConverter:me,dashMetrics:Le,mediaPlayerModel:Se,baseURLController:Y.baseURLController,errHandler:oe,segmentsController:Q,settings:Pe,boxParser:Oe,events:A.default,eventBus:ae,errors:P.default,debug:Object(k.default)(re).getInstance(),requestModifier:Object(R.default)(re).getInstance(),dashConstants:E.default,constants:t.default,urlUtils:Object(C.default)(re).getInstance()})).initialize(Ae=Re.manifestInfo.isDynamic),le.registerStreamType(z,ze),$=Object(m.default)(re).create({streamInfo:Re,type:z,abrController:le,dashMetrics:Le,playbackController:Me,timelineConverter:me,dashConstants:E.default,events:A.default,eventBus:ae,errors:P.default,isDynamic:Ae,segmentsController:Q}),(ie=function Bt(ht,rn){return ht?ht!==t.default.TEXT||rn?Object(F.default)(re).create({streamInfo:Re,type:ht,mediaPlayerModel:Se,manifestModel:ue,fragmentModel:Ie,errHandler:oe,mediaController:we,representationController:$,adapter:te,textController:_e,abrController:le,playbackController:Me,settings:Pe}):Object(L.default)(re).create({streamInfo:Re,type:ht,mimeType:H,fragmentModel:Ie,textController:_e,errHandler:oe,settings:Pe}):(oe.error(new V.default(P.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,P.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(z,ve))&&ie.initialize(ht),(he=Object(D.default)(re).create({streamInfo:Re,type:z,mimeType:H,adapter:te,dashMetrics:Le,mediaPlayerModel:Se,fragmentModel:Ie,abrController:le,playbackController:Me,textController:_e,mediaController:we,bufferController:ie,settings:Pe})).initialize(rn),q=0,Z=!1},getStreamId:pe,getType:ce,isUpdating:function Ze(){return!!$&&$.isUpdating()},getBufferController:function Ht(){return ie},getFragmentModel:function en(){return Ie},getScheduleController:St,getRepresentationController:function Zt(){return $},getRepresentationInfo:at,getBufferLevel:function Ke(){return ie?ie.getBufferLevel():0},isBufferingCompleted:Xt,createBufferSinks:function Gt(ht){var rn=wt();return rn?Promise.resolve(rn):ie?ie.createBufferSink(ye,ht):Promise.resolve(null)},updateStreamInfo:function tn(ht){return Re=ht,Xt()?Promise.resolve():ie.updateAppendWindow()},getStreamInfo:function yn(){return Re},selectMediaInfo:Tn,clearMediaInfoArray:function kn(){K=[]},addMediaInfo:function In(ht){-1===K.indexOf(ht)&&K.push(ht)},prepareTrackSwitch:function _n(){return new Promise(function(ht){He.debug("Preparing track switch for type ".concat(z));var rn=z===t.default.TEXT||Pe.get().streaming.trackSwitchMode[z]===t.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&Me.getTimeToStreamEnd(Re)>Pe.get().streaming.buffer.stallThreshold;if(ie.getIsBufferingCompleted()&&!rn)return ie.prepareForNonReplacementTrackSwitch(ye.codec).then(function(){ae.trigger(A.default.BUFFERING_COMPLETED,{},{streamId:Re.id,mediaType:z})}).catch(function(){ae.trigger(A.default.BUFFERING_COMPLETED,{},{streamId:Re.id,mediaType:z})}),void ht();he.clearScheduleTimer(),he.setSwitchTrack(!0),rn?(ae.trigger(A.default.BUFFER_REPLACEMENT_STARTED,{mediaType:z,streamId:Re.id},{mediaType:z,streamId:Re.id}),Ie.abortRequests(),ie.prepareForReplacementTrackSwitch(ye.codec).then(function(){var ve=at();return ie.updateBufferTimestampOffset(ve)}).then(function(){kt(),ht()}).catch(function(){kt(),ht()})):ie.prepareForNonReplacementTrackSwitch(ye.codec).then(function(){Ot(),ht()}).catch(function(){Ot(),ht()})})},prepareQualityChange:function dt(ht){He.debug("Preparing quality switch for type ".concat(z));var rn=ht.newQuality;W=!0,he.clearScheduleTimer();var ve=at(rn);he.setCurrentRepresentation(ve),$.prepareQualityChange(rn),Ie.abortRequests(),ie.updateBufferTimestampOffset(ve).then(function(){ht.reason&&ht.reason.forceReplace?function xe(){ae.trigger(A.default.BUFFER_REPLACEMENT_STARTED,{mediaType:z,streamId:Re.id},{mediaType:z,streamId:Re.id}),ie.prepareForReplacementQualitySwitch().then(function(){kt(),W=!1}).catch(function(){kt(),W=!1})}():Pe.get().streaming.buffer.fastSwitchEnabled?function fe(ht){var rn=Me.getTime(),ve=1.5*(isNaN(ht.fragmentDuration)?1:ht.fragmentDuration),lt=Ie.getRequests({state:b.default.FRAGMENT_MODEL_EXECUTED,time:rn+ve,threshold:0})[0];if(lt&&!Ce()){var it=ie.getBufferLevel(),At=le.getAbandonmentStateFor(Re.id,z);lt.quality<ht.quality&&it>=ve&&At!==O.default.ABANDON_LOAD?(bn(rn+ve),he.setCheckPlaybackQuality(!1),he.startScheduleTimer()):ge()}else he.startScheduleTimer();W=!1}(ve):ge(),Le.pushPlayListTraceMetrics(new Date,T.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),Le.createPlaylistTraceMetrics(ve.id,1e3*Me.getTime(),Me.getPlaybackRate())})},getMediaInfo:function qn(){return ye},getMediaSource:function ui(){return ie.getMediaSource()},setMediaSource:function Ft(ht){ie.setMediaSource(ht)},getBuffer:wt,setExplicitBufferingTime:bn,finalisePlayList:function Fn(ht,rn){Le.pushPlayListTraceMetrics(ht,rn)},probeNextRequest:function tt(){var ht=at(),rn=$&&ht?$.getRepresentationForQuality(ht.quality):null;return X.getNextSegmentRequestIdempotent(ye,rn)},prepareInnerPeriodPlaybackSeeking:function Qe(ht){return new Promise(function(rn){if(ie.hasBufferAtTime(ht.seekTime))return ie.pruneBuffer(),void rn();he.clearScheduleTimer(),Ie.abortRequests(),ie.prepareForPlaybackSeek().then(function(){var lt=ie.getAllRangesWithSafetyFactor(ht.seekTime);return ie.clearBuffers(lt)}).then(function(){var lt=ie.getContinuousBufferTimeForTargetTime(ht.seekTime);if(!isNaN(lt)&&!isNaN(Re.duration)&&isFinite(Re.duration)&&lt>=Re.start+Re.duration)ie.setIsBufferingCompleted(!0),rn();else{var it=isNaN(lt)?ht.seekTime:lt;bn(it),ie.setSeekTarget(it);var At=[];At.push(ie.updateAppendWindow());var Kt=at();At.push(ie.updateBufferTimestampOffset(Kt)),Promise.all(At).then(function(){he.setInitSegmentRequired(!0),he.setCheckPlaybackQuality(!1),he.startScheduleTimer(),rn()})}}).catch(function(lt){He.error(lt)})})},prepareOuterPeriodPlaybackSeeking:function $e(){return new Promise(function(ht,rn){try{he.clearScheduleTimer(),Ie.abortRequests(),ie.prepareForPlaybackSeek().then(function(){return ie.pruneAllSafely()}).then(function(){ht()})}catch(ve){rn(ve)}})},reset:function Be(ht,rn){X&&X.reset(),ie&&(ie.reset(ht,rn),ie=null),he&&(he.reset(),he=null),$&&($.reset(),$=null),Q&&(Q=null),le&&le.unRegisterStreamType(pe(),z),ae.off(A.default.DATA_UPDATE_COMPLETED,dn,ze),ae.off(A.default.INIT_FRAGMENT_NEEDED,ct,ze),ae.off(A.default.MEDIA_FRAGMENT_NEEDED,It,ze),ae.off(A.default.MEDIA_FRAGMENT_LOADED,Ct,ze),ae.off(A.default.BUFFER_LEVEL_STATE_CHANGED,pn,ze),ae.off(A.default.BUFFER_CLEARED,Un,ze),ae.off(A.default.SEEK_TARGET,on,ze),ae.off(A.default.FRAGMENT_LOADING_ABANDONED,st,ze),ae.off(A.default.FRAGMENT_LOADING_COMPLETED,mt,ze),ae.off(A.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,ut,ze),ae.off(A.default.SET_NON_FRAGMENTED_TEXT,bt,ze),ae.off(A.default.QUOTA_EXCEEDED,Nt,ze),ae.off(A.default.SOURCE_BUFFER_ERROR,ot,ze),Ye(),z=null,Re=null}},function J(){He=Object(k.default)(re).getInstance().getLogger(ze),Ye(),ae.on(A.default.DATA_UPDATE_COMPLETED,dn,ze,{priority:v.default.EVENT_PRIORITY_HIGH}),ae.on(A.default.INIT_FRAGMENT_NEEDED,ct,ze),ae.on(A.default.MEDIA_FRAGMENT_NEEDED,It,ze),ae.on(A.default.MEDIA_FRAGMENT_LOADED,Ct,ze),ae.on(A.default.BUFFER_LEVEL_STATE_CHANGED,pn,ze),ae.on(A.default.BUFFER_CLEARED,Un,ze),ae.on(A.default.SEEK_TARGET,on,ze),ae.on(A.default.FRAGMENT_LOADING_ABANDONED,st,ze),ae.on(A.default.FRAGMENT_LOADING_COMPLETED,mt,ze),ae.on(A.default.QUOTA_EXCEEDED,Nt,ze),ae.on(A.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,ut,ze),ae.on(A.default.SET_NON_FRAGMENTED_TEXT,bt,ze),ae.on(A.default.SOURCE_BUFFER_ERROR,ot,ze)}(),ze}B.__dashjs_factory_name="StreamProcessor",x.default=h.default.getClassFactory(B)},"./src/streaming/XlinkLoader.js":
/*!**************************************!*\
                  !*** ./src/streaming/XlinkLoader.js ***!
                  \**************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),E=c(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),O=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),b=c(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),F=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js");function h(g){g=g||{};var A=this.context,U=Object(F.default)(A).getInstance(),P=Object(E.default)(A).create({errHandler:g.errHandler,dashMetrics:g.dashMetrics,mediaPlayerModel:g.mediaPlayerModel,requestModifier:g.requestModifier,errors:m.default});return{load:function k(C,w,T){var N=function(Y,re){w.resolved=!0,w.resolvedContent=Y||null,U.trigger(L.default.XLINK_ELEMENT_LOADED,{element:w,resolveObject:T,error:Y||re?null:new t.default(m.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,m.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+C)})};if("urn:mpeg:dash:resolve-to-zero:2013"===C)N(null,!0);else{var S=new b.default(C,O.HTTPRequest.XLINK_EXPANSION_TYPE);P.load({request:S,success:function(Y){N(Y)},error:function(){N(null)}})}},reset:function R(){P&&(P.abort(),P=null)}}}h.__dashjs_factory_name="XlinkLoader",x.default=D.default.getClassFactory(h)},"./src/streaming/constants/ConformanceViolationConstants.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/constants/ConformanceViolationConstants.js ***!
                  \******************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x),x.default={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}}},"./src/streaming/constants/Constants.js":
/*!**********************************************!*\
                  !*** ./src/streaming/constants/Constants.js ***!
                  \**********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}function O(h,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,F(A.key),A)}}function F(h){var g=function L(h,g){if("object"!==t(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(h)}(h,"string");return"symbol"===t(g)?g:String(g)}c.r(x);var m=new(function(){function h(){(function E(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,h),this.init()}return function b(h,g,v){return g&&O(h.prototype,g),v&&O(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}]),h}());x.default=m},"./src/streaming/constants/MetricsConstants.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/constants/MetricsConstants.js ***!
                  \*****************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}function O(h,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,F(A.key),A)}}function F(h){var g=function L(h,g){if("object"!==t(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(h)}(h,"string");return"symbol"===t(g)?g:String(g)}c.r(x);var m=new(function(){function h(){(function E(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,h),this.init()}return function b(h,g,v){return g&&O(h.prototype,g),v&&O(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}]),h}());x.default=m},"./src/streaming/constants/ProtectionConstants.js":
/*!********************************************************!*\
                  !*** ./src/streaming/constants/ProtectionConstants.js ***!
                  \********************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}function O(h,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,F(A.key),A)}}function F(h){var g=function L(h,g){if("object"!==t(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(h)}(h,"string");return"symbol"===t(g)?g:String(g)}c.r(x);var m=new(function(){function h(){(function E(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,h),this.init()}return function b(h,g,v){return g&&O(h.prototype,g),v&&O(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}]),h}());x.default=m},"./src/streaming/controllers/AbrController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/AbrController.js ***!
                  \****************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),E=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),O=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),b=c(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),F=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),L=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),D=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),m=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),h=c(
/*! ../rules/RulesContext */
"./src/streaming/rules/RulesContext.js"),g=c(
/*! ../rules/SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),v=c(
/*! ../rules/SwitchRequestHistory */
"./src/streaming/rules/SwitchRequestHistory.js"),A=c(
/*! ../rules/DroppedFramesHistory */
"./src/streaming/rules/DroppedFramesHistory.js"),U=c(
/*! ../rules/ThroughputHistory */
"./src/streaming/rules/ThroughputHistory.js"),P=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),V=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),k=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),R=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function N(){var ae,Re,z,oe,H,me,te,ue,Se,Ie,le,Me,we,_e,Le,Pe,Oe,Ue,ze,He,Ae,ye,K,ie,he,$,B=this.context,Y=Object(P.default)(B).getInstance(),re=Object(L.default)(B).getInstance();function J(){H={},me={},ue={},te={},ze={},ye={},K={},ie={},void 0===Ie&&(Ie=!1),He&&He.reset(),Ue=void 0,He=void 0,Ae=void 0,clearTimeout(Se),Se=null}function Ce(wt){var Ht=wt.request.mediaType,en=wt.streamId;if(Ht&&en&&te[en]&&$.get().streaming.abr.autoSwitchBitrate[Ht]){var tn=te[en][Ht];if(tn){var yn=Object(h.default)(B).create({abrController:ae,streamProcessor:tn,currentRequest:wt.request,useBufferOccupancyABR:ye[Ht],useL2AABR:K[Ht],useLoLPABR:ie[Ht],videoModel:_e}),Tn=z.shouldAbandonFragment(yn,en);Tn.quality>g.default.NO_CHANGE&&tn.getFragmentModel().getRequests({state:F.default.FRAGMENT_MODEL_LOADING,index:wt.request.index})[0]&&(ue[en][Ht].state=O.default.ABANDON_LOAD,ze[en][Ht].reset(),ze[en][Ht].push({oldValue:dn(Ht,en),newValue:Tn.quality,confidence:1,reason:Tn.reason}),pn(Ht,oe.getActiveStreamInfo(),Tn.quality,Tn.reason),clearTimeout(Se),Se=setTimeout(function(){ue[en][Ht].state=O.default.ALLOW_LOAD,Se=null},$.get().streaming.abandonLoadTimeout))}}}function Ye(wt){wt.mediaType===E.default.VIDEO&&(void 0!==Ue&&He.push(wt.streamId,Ue,_e.getPlaybackQuality()),Ue=wt.newQuality)}function Be(wt){wt.metric===O.default.HTTP_REQUEST&&wt.value&&wt.value.type===V.HTTPRequest.MEDIA_SEGMENT_TYPE&&(wt.mediaType===E.default.AUDIO||wt.mediaType===E.default.VIDEO)&&Ae.push(wt.mediaType,wt.value,$.get().streaming.abr.useDeadTimeLatency),wt.metric===O.default.BUFFER_LEVEL&&(wt.mediaType===E.default.AUDIO||wt.mediaType===E.default.VIDEO)&&function ge(wt,Ht){$.get().streaming.abr.ABRStrategy===E.default.ABR_STRATEGY_DYNAMIC&&function st(wt,Ht){try{var en=Le.getStableBufferTime(),Tn=ye[wt],In=Ht>(Tn?.5*en:en);ye[wt]=In,In!==Tn&&Re.info(In?"["+wt+"] switching from throughput to buffer occupancy ABR rule (buffer: "+Ht.toFixed(3)+").":"["+wt+"] switching from buffer occupancy to throughput ABR rule (buffer: "+Ht.toFixed(3)+").")}catch(kn){Re.error(kn)}}(wt,Ht)}(wt.mediaType,.001*wt.value.level)}function Ze(wt,Ht){try{return H[Ht]=H[Ht]||{},H[Ht].hasOwnProperty(wt)||(H[Ht][wt]=0),function Pt(wt,Ht,en){if(Ht!==E.default.VIDEO||!$.get().streaming.abr.limitBitrateByPortal||!te[en]||!te[en][Ht])return wt;Ie||Nt();var tn=te[en][Ht].getStreamInfo(),yn=we.getAdaptationForType(tn.index,Ht,tn).Representation_asArray,Tn=wt;if(le>0&&Me>0){for(;Tn>0&&yn[Tn]&&le<yn[Tn].width&&le-yn[Tn-1].width<yn[Tn].width-le;)Tn-=1;for(;Tn<yn.length-1&&yn[Tn].width===yn[Tn+1].width;)Tn+=1}return Tn}(function _t(wt,Ht,en){var tn=H[en][Ht],yn=$.get().streaming.abr.maxRepresentationRatio[Ht];return isNaN(yn)||yn>=1||yn<0?wt:Math.min(wt,Math.round(tn*yn))}(function It(wt,Ht){var en=H[Ht][wt],tn=en;if(!te[Ht]||!te[Ht][wt])return tn;var yn=Qe(wt,Ht);void 0!==yn&&(tn=Math.max(en,yn));var Tn=function $e(wt,Ht){try{var en=Le.getAbrBitrateParameter("maxBitrate",wt);return en>-1?xe(te[Ht][wt].getMediaInfo(),en,Ht):void 0}catch{return}}(wt,Ht);return void 0!==Tn&&(tn=Math.min(tn,Tn)),tn}(wt,Ht),wt,Ht),wt,Ht)}catch{return}}function Qe(wt,Ht){try{return function ct(wt,Ht){try{var en=Le.getAbrBitrateParameter("minBitrate",wt);if(en>-1){var tn=te[Ht][wt].getMediaInfo(),yn=fe(tn),Tn=xe(tn,en,Ht);return yn[Tn]&&Tn<yn.length-1&&yn[Tn].bitrate<1e3*en&&Tn++,Tn}return}catch{return}}(wt,Ht)}catch{return}}function dn(wt){var Ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return Ht||(Ht=oe.getActiveStreamInfo().id),wt&&te[Ht]&&te[Ht][wt]&&Ht?(me[Ht]=me[Ht]||{},me[Ht].hasOwnProperty(wt)||(me[Ht][wt]=0),me[Ht][wt]):0}catch{return 0}}function pn(wt,Ht,en){var tn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(Ht&&Ht.id&&wt){var yn=Ht.id,Tn=dn(wt,yn);Object(k.checkInteger)(en);var In=Ze(wt,yn);en!==Tn&&en>=0&&en<=In&&ot(wt,Tn,en,In,tn,yn)}}function ot(wt,Ht,en,tn,yn,Tn){if(wt&&te[Tn]&&te[Tn][wt]){var In=te[Tn][wt].getStreamInfo(),kn=In&&In.manifestInfo&&In.manifestInfo.isDynamic,qn=he.getCurrentBufferLevel(wt);Re.info("Stream ID: "+Tn+" ["+wt+"] switch from "+Ht+" to "+en+"/"+tn+" (buffer: "+qn+") "+(yn?JSON.stringify(yn):".")),me[Tn]=me[Tn]||{},me[Tn][wt]=en;var ui=function dt(wt,Ht,en){if(Ht&&te&&te[wt]&&te[wt][Ht]){var tn=fe(te[wt][Ht].getMediaInfo());return tn[en]?tn[en]:null}return null}(Tn,wt,en);re.trigger(D.default.QUALITY_CHANGE_REQUESTED,{oldQuality:Ht,newQuality:en,reason:yn,streamInfo:In,bitrateInfo:ui,maxIdx:tn,mediaType:wt},{streamId:In.id,mediaType:wt});var Ft=Ae.getAverageThroughput(wt,kn);isNaN(Ft)||Oe.setSavedBitrateSettings(wt,Ft)}}function xe(wt,Ht,en){var tn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,yn=wt&&wt.type?te[en][wt.type].getRepresentationInfo():null;if($.get().streaming.abr.useDeadTimeLatency&&tn&&yn&&yn.fragmentDuration){var Tn=yn.fragmentDuration;if((tn/=1e3)>Tn)return 0;Ht*=1-tn/Tn}for(var kn=fe(wt),qn=kn.length-1;qn>=0;qn--)if(1e3*Ht>=kn[qn].bitrate)return qn;return 0}function fe(wt){var Ht=[];if(!wt||!wt.bitrateList)return Ht;for(var yn,en=wt.bitrateList,tn=wt.type,Tn=0,In=en.length;Tn<In;Tn++)(yn=new b.default).mediaType=tn,yn.qualityIndex=Tn,yn.bitrate=en[Tn].bandwidth,yn.width=en[Tn].width,yn.height=en[Tn].height,yn.scanType=en[Tn].scanType,Ht.push(yn);return Ht}function Nt(){if(_e){var Ht=$.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;le=_e.getClientWidth()*Ht,Me=_e.getClientHeight()*Ht}}return ae={initialize:function W(){He=Object(A.default)(B).create(),Ae=Object(U.default)(B).create({settings:$}),(z=Object(t.default)(B).create({dashMetrics:he,customParametersModel:Pe,mediaPlayerModel:Le,settings:$})).initialize(),re.on(R.default.QUALITY_CHANGE_RENDERED,Ye,ae),re.on(R.default.METRIC_ADDED,Be,ae),re.on(D.default.LOADING_PROGRESS,Ce,ae)},isPlayingAtTopQuality:function ut(wt){var Ht=wt?wt.id:null,en=dn(E.default.AUDIO,Ht),tn=dn(E.default.VIDEO,Ht);return en===Ze(E.default.AUDIO,Ht)&&tn===Ze(E.default.VIDEO,Ht)},updateTopQualityIndex:function Dt(wt){var Ht=wt.type,en=wt.streamInfo.id,tn=wt.representationCount-1;return H[en]=H[en]||{},H[en][Ht]=tn,tn},clearDataForStream:function Zt(wt){He&&He.clearForStream(wt),te[wt]&&delete te[wt],ze[wt]&&delete ze[wt],ue[wt]&&delete ue[wt]},getThroughputHistory:function mt(){return Ae},getBitrateList:fe,getQualityForBitrate:xe,getTopBitrateInfoFor:function Vt(wt){var Ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Ht||(Ht=oe.getActiveStreamInfo().id),wt&&te&&te[Ht]&&te[Ht][wt]){var en=Ze(wt,Ht),tn=fe(te[Ht][wt].getMediaInfo());return tn[en]?tn[en]:null}return null},getMinAllowedIndexFor:Qe,getMaxAllowedIndexFor:Ze,getInitialBitrateFor:function $t(wt,Ht){if(function ce(){if(!Oe||!Oe.hasOwnProperty("getSavedBitrateSettings"))throw new Error(E.default.MISSING_CONFIG_ERROR)}(),wt===E.default.TEXT)return NaN;var en=Oe.getSavedBitrateSettings(wt),tn=Le.getAbrBitrateParameter("initialBitrate",wt),yn=$.get().streaming.abr.initialRepresentationRatio[wt];if(-1===tn)if(yn>-1){var Tn=te[Ht][wt].getStreamInfo(),In=we.getAdaptationForType(Tn.index,wt,Tn).Representation_asArray;tn=Array.isArray(In)?In[Math.max(Math.round(In.length*yn)-1,0)].bandwidth/1e3:0}else tn=isNaN(en)?wt===E.default.VIDEO?1e3:100:en;return tn},getQualityFor:dn,getAbandonmentStateFor:function Un(wt,Ht){return ue[wt]&&ue[wt][Ht]?ue[wt][Ht].state:null},setPlaybackQuality:pn,checkPlaybackQuality:function Qt(wt,Ht){try{if(!(wt&&te&&te[Ht]&&te[Ht][wt]))return!1;if(He){var en=_e.getPlaybackQuality();en&&He.push(Ht,Ue,en)}if(!$.get().streaming.abr.autoSwitchBitrate[wt])return!1;var tn=dn(wt,Ht),yn=Object(h.default)(B).create({abrController:ae,switchHistory:ze[Ht][wt],droppedFramesHistory:He,streamProcessor:te[Ht][wt],currentValue:tn,useBufferOccupancyABR:ye[wt],useL2AABR:K[wt],useLoLPABR:ie[wt],videoModel:_e}),Tn=Qe(wt,Ht),In=Ze(wt,Ht),kn=z.getMaxQuality(yn),qn=kn.quality;return void 0!==Tn&&(qn>g.default.NO_CHANGE?qn:tn)<Tn&&(qn=Tn),qn>In&&(qn=In),ze[Ht][wt].push({oldValue:tn,newValue:qn}),qn>g.default.NO_CHANGE&&qn!==tn&&(ue[Ht][wt].state===O.default.ALLOW_LOAD||qn<tn)&&(ot(wt,tn,qn,In,kn.reason,Ht),!0)}catch{return!1}},setElementSize:Nt,setWindowResizeEventCalled:function bt(wt){Ie=wt},registerStreamType:function X(wt,Ht){var en=Ht.getStreamInfo().id;te[en]||(te[en]={}),ze[en]||(ze[en]={}),ue[en]||(ue[en]={}),ze[en][wt]=Object(v.default)(B).create(),te[en][wt]=Ht,ue[en][wt]={},ue[en][wt].state=O.default.ALLOW_LOAD,function Q(wt){var Ht=$.get().streaming.abr.ABRStrategy;Ht===E.default.ABR_STRATEGY_L2A?(ye[wt]=!1,ie[wt]=!1,K[wt]=!0):Ht===E.default.ABR_STRATEGY_LoLP?(ye[wt]=!1,ie[wt]=!0,K[wt]=!1):Ht===E.default.ABR_STRATEGY_BOLA?(ye[wt]=!0,ie[wt]=!1,K[wt]=!1):Ht===E.default.ABR_STRATEGY_THROUGHPUT?(ye[wt]=!1,ie[wt]=!1,K[wt]=!1):Ht===E.default.ABR_STRATEGY_DYNAMIC&&(ye[wt]=!(!ye||!ye[wt])&&ye[wt],ie[wt]=!1,K[wt]=!1)}(wt),wt===E.default.VIDEO&&Nt()},unRegisterStreamType:function q(wt,Ht){try{te[wt]&&te[wt][Ht]&&delete te[wt][Ht],ze[wt]&&ze[wt][Ht]&&delete ze[wt][Ht],ue[wt]&&ue[wt][Ht]&&delete ue[wt][Ht]}catch{}},setConfig:function pe(wt){wt&&(wt.streamController&&(oe=wt.streamController),wt.domStorage&&(Oe=wt.domStorage),wt.mediaPlayerModel&&(Le=wt.mediaPlayerModel),wt.customParametersModel&&(Pe=wt.customParametersModel),wt.dashMetrics&&(he=wt.dashMetrics),wt.adapter&&(we=wt.adapter),wt.videoModel&&(_e=wt.videoModel),wt.settings&&($=wt.settings))},reset:function de(){J(),re.off(D.default.LOADING_PROGRESS,Ce,ae),re.off(R.default.QUALITY_CHANGE_RENDERED,Ye,ae),re.off(R.default.METRIC_ADDED,Be,ae),z&&z.reset()}},function Z(){Re=Y.getLogger(ae),J()}(),ae}N.__dashjs_factory_name="AbrController";var S=m.default.getSingletonFactory(N);S.QUALITY_DEFAULT=0,m.default.updateSingletonFactory(N.__dashjs_factory_name,S),x.default=S},"./src/streaming/controllers/BaseURLController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/BaseURLController.js ***!
                  \********************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../models/BaseURLTreeModel */
"./src/streaming/models/BaseURLTreeModel.js"),E=c(
/*! ../utils/BaseURLSelector */
"./src/streaming/utils/BaseURLSelector.js"),O=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),b=c(
/*! ../../dash/vo/BaseURL */
"./src/dash/vo/BaseURL.js"),F=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),L=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),D=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function m(){var h,g,P,V,v=this.context,A=Object(L.default)(v).getInstance(),U=Object(O.default)(v).getInstance();function k(B){P.invalidateSelectedIndexes(B.entry)}return h={reset:function N(){P.reset(),V.reset()},initialize:function S(B){P.setConfig({adapter:g}),function w(B){P.update(B),V.chooseSelector(g.getIsDVB(B))}(B)},resolve:function T(B){var re=P.getForPath(B).reduce(function(ae,Re){var z=V.select(Re);return z?(U.isRelative(z.url)?ae.url=U.resolve(z.url,ae.url):(ae.url=z.url,ae.serviceLocation=z.serviceLocation),ae.availabilityTimeOffset=z.availabilityTimeOffset,ae.availabilityTimeComplete=z.availabilityTimeComplete,ae):new b.default},new b.default);if(!U.isRelative(re.url))return re},setConfig:function C(B){B.baseURLTreeModel&&(P=B.baseURLTreeModel),B.baseURLSelector&&(V=B.baseURLSelector),B.adapter&&(g=B.adapter)}},function R(){P=Object(t.default)(v).create(),V=Object(E.default)(v).create(),A.on(D.default.SERVICE_LOCATION_BLACKLIST_CHANGED,k,h)}(),h}m.__dashjs_factory_name="BaseURLController",x.default=F.default.getClassFactory(m)},"./src/streaming/controllers/BlacklistController.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/controllers/BlacklistController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js");function O(b){b=b||{};var F,L=[],D=Object(E.default)(this.context).getInstance(),m=b.updateEventName,h=b.addBlacklistEventName;function v(V){-1===L.indexOf(V)&&(L.push(V),D.trigger(m,{entry:V}))}function A(V){v(V.entry)}return F={add:v,contains:function g(V){return!!(L.length&&V&&V.length)&&-1!==L.indexOf(V)},reset:function P(){L=[]}},function U(){h&&D.on(h,A,F)}(),F}O.__dashjs_factory_name="BlackListController",x.default=t.default.getClassFactory(O)},"./src/streaming/controllers/BufferController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/BufferController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),O=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),b=c(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),F=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),h=c(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),g=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),v=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),A=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),U=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),V=.01,R="BufferController";function C(w){w=w||{};var te,ue,Se,Ie,le,Me,we,_e,Le,Pe,Oe,Ue,ze,He,Ae,ye,K,ie,T=this.context,N=Object(F.default)(T).getInstance(),S=w.errHandler,B=w.fragmentModel,Y=w.representationController,re=w.adapter,ae=w.textController,Re=w.abrController,z=w.playbackController,oe=w.streamInfo,H=w.type,me=w.settings;function Q(kt){Me=kt}function q(kt){return re.convertRepresentationToRepresentationInfo(Y.getRepresentationForQuality(kt))}function pe(kt){me.get().streaming.cacheInitSegments&&(ue.info("Init fragment finished loading saving to",H+"'s init cache"),Ae.save(kt.chunk)),ue.debug("Append Init fragment",H," with representationId:",kt.chunk.representationId," and quality:",kt.chunk.quality,", data size:",kt.chunk.bytes.byteLength),Ye(kt.chunk)}function Ce(kt){Ye(kt.chunk,kt.request)}function Ye(kt){Le.append(kt,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).then(function(Bt){Ze(Bt)}).catch(function(Bt){Ze(Bt)}),kt.mediaInfo.type===t.default.VIDEO&&Yt(L.default.VIDEO_CHUNK_RECEIVED,{chunk:kt})}function Be(kt){if(kt&&kt.length>0)for(var Ot=0,Bt=kt.length;Ot<Bt;Ot++)ue.debug("Buffered range: "+kt.start(Ot)+" - "+kt.end(Ot)+", currentTime = ",z.getTime())}function Ze(kt){if(kt.error)return 22===kt.error.code&&function $e(){if(He=!0,le=.8*Xt(),ue.warn("Quota exceeded, Critical Buffer: "+le),le>0){var kt=Math.max(.2*le,1),Ot=le-kt,Bt=Math.min(me.get().streaming.buffer.bufferTimeAtTopQuality,.9*Ot),on=Math.min(me.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*Ot),bn={streaming:{buffer:{bufferToKeep:parseFloat(kt.toFixed(5)),bufferTimeAtTopQuality:parseFloat(Bt.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(on.toFixed(5))}}};me.update(bn)}}(),void((22===kt.error.code||!tt())&&(ue.warn("Clearing playback buffer to overcome quota exceed situation"),Yt(L.default.QUOTA_EXCEEDED,{criticalBufferLevel:le,quotaExceededTime:kt.chunk.start}),Nt(bt())));if(Le&&(ge(),He=!1,(Oe=kt.chunk)&&Oe.endFragment)){Oe&&!isNaN(Oe.index)&&(we=Math.max(Oe.index,we),st());var Ot=Le.getAllBufferRanges();Oe.segmentType===A.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Be(Ot),pn(),function Qe(){if(!isNaN(ie)){if(H!==t.default.AUDIO&&H!==t.default.VIDEO)return void(ie=NaN);var kt=z.getTime(),Ot=xe(kt,0),Bt=xe(ie,0);if(Ot&&Bt&&Ot.start===Bt.start)return void(ie=NaN);var on=Y.getCurrentRepresentation().segmentDuration,bn=xe(ie,on);bn&&(me.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(kt-ie)>on?ie<=bn.end&&z.seek(Math.max(ie,bn.start),!1,!0):kt<bn.start&&z.seek(bn.start,!1,!0))}}()),Oe&&Yt(L.default.BYTES_APPENDED_END_FRAGMENT,{quality:Oe.quality,startTime:Oe.start,index:Oe.index,bufferedRanges:Ot,segmentType:Oe.segmentType,mediaType:H})}}function Vt(){return new Promise(function(kt,Ot){var Bt=$t();if(!Bt||0===Bt.length)return pn(),void kt();Nt(Bt).then(function(){kt()}).catch(function(on){Ot(on)})})}function $t(kt){var Ot=[],Bt=Le.getAllBufferRanges();if(!Bt||0===Bt.length)return Ot;if(!kt&&0!==kt||isNaN(kt))Ot.push({start:Bt.start(0),end:Bt.end(Bt.length-1)+.5});else{var on=function Qt(kt,Ot){var Bt=me.get().streaming.buffer.bufferToKeep,on=Ot.start(0);if(kt-on>Bt){var Fn=Math.max(0,kt-Bt),ht=B.getRequests({state:O.default.FRAGMENT_MODEL_EXECUTED,time:kt,threshold:V})[0];if(ht&&(Fn=Math.min(ht.startTime,Fn)),Fn>0)return{start:on,end:Fn}}return null}(kt,Bt),bn=function dn(kt,Ot){var Bt=Ot.end(Ot.length-1)+.5,on=Ke(kt),Fn=oe.manifestInfo.duration>=me.get().streaming.buffer.longFormContentDurationThreshold?me.get().streaming.buffer.bufferTimeAtTopQualityLongForm:me.get().streaming.buffer.bufferTimeAtTopQuality,ht=isNaN(on)?kt:Math.min(on,kt+Fn);if(ht>=Ot.end(Ot.length-1))return null;var rn=B.getRequests({state:O.default.FRAGMENT_MODEL_EXECUTED,time:kt,threshold:V})[0];if(rn&&(ht=Math.max(rn.startTime+rn.duration,ht)),me.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var lt=0;lt<Ot.length;lt++)if(Ot.start(lt)<=kt&&kt<=Ot.end(lt)&&Ot.start(lt)<=ht&&ht<=Ot.end(lt)){var it=ht;ht=lt+1<Ot.length?Ot.start(lt+1):Ot.end(lt)+1,ue.debug("Buffered range ["+Ot.start(lt)+", "+Ot.end(lt)+"] overlaps with targetTime "+kt+" and range to be pruned ["+it+", "+Bt+"], using ["+ht+", "+Bt+"] instead"+(ht<Bt?"":" (no actual pruning)"));break}return ht<Ot.end(Ot.length-1)?{start:ht,end:Bt}:null}(kt,Bt);on&&Ot.push(on),bn&&Ot.push(bn)}return Ot}function pn(){(!K||H===t.default.TEXT&&ae.isTextEnabled())&&ge()}function Un(){mt()}function ot(){mt(),ie=NaN}function xe(kt,Ot){var ve,lt,Bt=Le.getAllBufferRanges(),on=0,bn=0,Fn=null,ht=null,rn=0,it=isNaN(Ot)?.15:Ot;if(null!=Bt){for(lt=0,ve=Bt.length;lt<ve;lt++)if(on=Bt.start(lt),bn=Bt.end(lt),null===Fn)rn=Math.abs(on-kt),(kt>=on&&kt<bn||rn<=it)&&(Fn=on,ht=bn);else{if(!((rn=on-ht)<=it))break;ht=bn}if(null!==Fn)return{start:Fn,end:ht}}return null}function ge(){if(z){var kt=me.get().streaming.gaps.jumpGaps&&!isNaN(me.get().streaming.gaps.smallGapLimit)?me.get().streaming.gaps.smallGapLimit:NaN;Ie=Math.max(function fe(kt,Ot){var Bt;return me.get().streaming.gaps.jumpGaps&&(Ot=me.get().streaming.gaps.smallGapLimit),null===(Bt=xe(kt,Ot))?0:Bt.end-kt}(z.getTime()||0,kt),0),Yt(L.default.BUFFER_LEVEL_UPDATED,{mediaType:H,bufferLevel:Ie}),mt()}}function st(){var kt=we>=_e-1,Ot=z.getTimeToStreamEnd(oe)-Ie<1e-5;(kt||Ot)&&!Se&&(St(!0),ue.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(oe.id," and type ").concat(H)))}function mt(){H!==t.default.AUDIO&&H!==t.default.VIDEO||((!z.getLowLatencyModeEnabled()&&Ie<me.get().streaming.buffer.stallThreshold||0===Ie)&&!Se?Dt(E.default.BUFFER_EMPTY):(Se||Ie>=me.get().streaming.buffer.stallThreshold||z.getLowLatencyModeEnabled()&&Ie>0)&&Dt(E.default.BUFFER_LOADED))}function Dt(kt){Pe===kt||kt===E.default.BUFFER_EMPTY&&0===z.getTime()||H===t.default.TEXT&&!ae.isTextEnabled()||(Pe=kt,Yt(L.default.BUFFER_LEVEL_STATE_CHANGED,{state:kt}),Yt(kt===E.default.BUFFER_LOADED?L.default.BUFFER_LOADED:L.default.BUFFER_EMPTY),ue.debug(kt===E.default.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function ut(){!Le||H===t.default.TEXT||Se||Nt(bt())}function bt(){var kt=[],Ot=Le.getAllBufferRanges();if(!Ot||0===Ot.length)return kt;var Bt=z.getTime(),on=Math.max(0,Bt-me.get().streaming.buffer.bufferToKeep),bn=B.getRequests({state:O.default.FRAGMENT_MODEL_EXECUTED,time:Bt,threshold:V})[0];if(bn)on=Math.min(bn.startTime,on);else if(0===Bt&&z.getIsDynamic())return[];if(Ot.start(0)<=on){for(var Fn={start:0,end:on},ht=0;ht<Ot.length&&Ot.end(ht)<=on;ht++)Fn.end=Ot.end(ht);Fn.start<Fn.end&&kt.push(Fn)}return kt}function Nt(kt){return new Promise(function(Ot,Bt){if(kt&&Le&&0!==kt.length){var on=[];kt.forEach(function(bn){on.push(function Zt(kt){return new Promise(function(Ot,Bt){kt.resolve=Ot,kt.reject=Bt,ye.push(kt)})}(bn))}),ze||wt(),Promise.all(on).then(function(){Ot()}).catch(function(bn){Bt(bn)})}else Ot()})}function wt(){try{if(0===ye.length||!Le)return ue.debug("Nothing to prune, halt pruning"),ye=[],void(ze=!1);var kt=Le.getBuffer();if(!kt||!kt.buffered||0===kt.buffered.length)return ue.debug("SourceBuffer is empty (or does not exist), halt pruning"),ye=[],void(ze=!1);var Ot=ye.shift();ue.debug("".concat(H,": Removing buffer from: ").concat(Ot.start," to ").concat(Ot.end)),ze=!0,z.getTime()<Ot.end&&St(!1),Le.remove(Ot).then(function(on){Ht(on)}).catch(function(on){Ht(on)})}catch{ze=!1}}function Ht(kt){ue.debug("onRemoved buffer from:",kt.from,"to",kt.to),Be(Le.getAllBufferRanges()),0===ye.length&&(ze=!1,ge()),kt.unintended&&(ue.warn("Detected unintended removal from:",kt.from,"to",kt.to,"setting streamprocessor time to",kt.from),Yt(L.default.SEEK_TARGET,{time:kt.from})),ze?wt():(K?K=!1:ge(),Yt(L.default.BUFFER_CLEARED,{from:kt.from,to:kt.to,unintended:kt.unintended,hasEnoughSpaceToAppend:tt(),quotaExceeded:He}))}function en(kt){return new Promise(function(Ot){kt&&void 0!==kt.MSETimeOffset&&Le&&Le.updateTimestampOffset?Le.updateTimestampOffset(kt.MSETimeOffset).then(function(){Ot()}).catch(function(){Ot()}):Ot()})}function tn(){return Le&&!Se?Le.updateAppendWindow(oe):Promise.resolve()}function Tn(){++Ue*(me.get().streaming.wallclockTimeUpdateInterval/1e3)>=me.get().streaming.buffer.bufferPruningInterval&&(Ue=0,ut())}function In(){mt()}function St(kt){Se!==kt&&((Se=kt)?Yt(L.default.BUFFERING_COMPLETED):_e=Number.POSITIVE_INFINITY)}function Xt(){try{var Bt,on,kt=Le.getAllBufferRanges(),Ot=0;if(!kt)return Ot;for(on=0,Bt=kt.length;on<Bt;on++)Ot+=kt.end(on)-kt.start(on);return Ot}catch{return 0}}function Ke(kt){try{var Ot=kt,Bt=Le.getAllBufferRanges();if(!Bt||0===Bt.length)return NaN;for(var on=0;Ot===kt&&on<Bt.length;){var bn=Bt.start(on),Fn=Bt.end(on);Ot>=bn&&Ot<=Fn&&(Ot=Fn),on+=1}return Ot===kt?NaN:Ot}catch{}}function tt(){var kt=Xt();return isNaN(kt)||kt<le}function Yt(kt,Ot){N.trigger(kt,Ot||{},{streamId:oe.id,mediaType:H})}function Gt(kt,Ot){if(le=Number.POSITIVE_INFINITY,Pe=void 0,_e=Number.POSITIVE_INFINITY,we=0,Oe=null,Se=!1,ze=!1,He=!1,Ie=0,Ue=0,ye=[],ie=NaN,Le){var Bt=Le;Le=null,!kt&&!Ot&&Bt.abort().then(function(){Bt.reset(Ot),Bt=null})}K=!1}return te={initialize:function $(kt){Q(kt),N.on(L.default.INIT_FRAGMENT_LOADED,pe,te),N.on(L.default.MEDIA_FRAGMENT_LOADED,Ce,te),N.on(L.default.WALLCLOCK_TIME_UPDATED,Tn,te),N.on(U.default.PLAYBACK_PLAYING,ot,te),N.on(U.default.PLAYBACK_PROGRESS,pn,te),N.on(U.default.PLAYBACK_TIME_UPDATED,pn,te),N.on(U.default.PLAYBACK_RATE_CHANGED,In,te),N.on(U.default.PLAYBACK_STALLED,Un,te)},getStreamId:function Z(){return oe.id},getType:function W(){return H},getBufferControllerType:function X(){return R},createBufferSink:function J(kt){var Ot=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(Bt,on){if(Ae&&kt&&Me){var bn=Re.getQualityFor(H,oe.id);Le=Object(b.default)(T).create({mediaSource:Me,textController:ae,eventBus:N}),function de(kt,Ot,Bt){var on=q(Bt);return Ot&&Ot[H]&&(H===t.default.VIDEO||H===t.default.AUDIO)?Le.initializeForStreamSwitch(kt,on,Ot[H]):Le.initializeForFirstUse(oe,kt,on)}(kt,Ot,bn).then(function(){return en(q(bn))}).then(function(){Bt(Le)}).catch(function(Fn){ue.fatal("Caught error on create SourceBuffer: "+Fn),S.error(new g.default(v.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,v.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+H)),on(Fn)})}else Bt(null)})},getBuffer:function kn(){return Le},getBufferLevel:function qn(){return Ie},getRangeAt:xe,hasBufferAtTime:function dt(kt){try{var Ot=Le.getAllBufferRanges();if(!Ot||0===Ot.length)return!1;for(var Bt=0;Bt<Ot.length;){var on=Ot.start(Bt),bn=Ot.end(Bt);if(kt>=on&&kt<=bn)return!0;Bt+=1}return!1}catch(Fn){return ue.error(Fn),!1}},pruneBuffer:ut,setMediaSource:Q,getMediaSource:function ui(){return Me},appendInitSegmentFromCache:function ce(kt){var Ot=Ae.extract(oe.id,kt);return!!Ot&&(ue.info("Append Init fragment",H," with representationId:",Ot.representationId," and quality:",Ot.quality,", data size:",Ot.bytes.byteLength),Ye(Ot),!0)},getIsBufferingCompleted:function Ft(){return Se},setIsBufferingCompleted:St,getIsPruningInProgress:function at(){return ze},reset:function _n(kt,Ot){N.off(L.default.INIT_FRAGMENT_LOADED,pe,this),N.off(L.default.MEDIA_FRAGMENT_LOADED,Ce,this),N.off(L.default.WALLCLOCK_TIME_UPDATED,Tn,this),N.off(U.default.PLAYBACK_PLAYING,ot,this),N.off(U.default.PLAYBACK_PROGRESS,pn,this),N.off(U.default.PLAYBACK_TIME_UPDATED,pn,this),N.off(U.default.PLAYBACK_RATE_CHANGED,In,this),N.off(U.default.PLAYBACK_STALLED,Un,this),Gt(kt,Ot)},prepareForPlaybackSeek:function ct(){return Se&&St(!1),Le.abort()},prepareForReplacementTrackSwitch:function It(kt){return new Promise(function(Ot,Bt){Le.abort().then(function(){return tn()}).then(function(){return me.get().streaming.buffer.useChangeTypeForTrackSwitch?Le.changeType(kt):Promise.resolve()}).then(function(){return Vt()}).then(function(){St(!1),Ot()}).catch(function(on){Bt(on)})})},prepareForNonReplacementTrackSwitch:function Pt(kt){return new Promise(function(Ot,Bt){tn().then(function(){return me.get().streaming.buffer.useChangeTypeForTrackSwitch?Le.changeType(kt):Promise.resolve()}).then(function(){Ot()}).catch(function(on){Bt(on)})})},prepareForReplacementQualitySwitch:function _t(){return new Promise(function(kt,Ot){Le.abort().then(function(){return tn()}).then(function(){return Vt()}).then(function(){St(!1),kt()}).catch(function(Bt){Ot(Bt)})})},updateAppendWindow:tn,getAllRangesWithSafetyFactor:$t,getContinuousBufferTimeForTargetTime:Ke,clearBuffers:Nt,pruneAllSafely:Vt,updateBufferTimestampOffset:en,setSeekTarget:function Ct(kt){ie=kt},segmentRequestingCompleted:function yn(kt){isNaN(kt)||(_e=kt,st())}},function he(){ue=Object(m.default)(T).getInstance().getLogger(te),Ae=Object(h.default)(T).getInstance(),Gt()}(),te}C.__dashjs_factory_name=R,x.default=D.default.getClassFactory(C)},"./src/streaming/controllers/CatchupController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/CatchupController.js ***!
                  \********************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),O=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),F=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),L=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),m=c(
/*! ../../core/Utils */
"./src/core/Utils.js");function h(){var A,U,P,V,k,R,C,w,T,N,g=this.context,v=Object(O.default)(g).getInstance();function z(){U=!1;var Ue=m.default.parseUserAgent();P=Ue&&Ue.browser&&Ue.browser.name&&"safari"===Ue.browser.name.toLowerCase()}function oe(){U=!1}function H(Ue){if(Ue.streamId===R.getActiveStreamInfo().id&&T){var ze=C.getLiveDelay();C.getBufferLevel()>ze/2&&(T=!1)}}function me(Ue){Ue.streamId===R.getActiveStreamInfo().id&&(T=Ue.state===D.default.BUFFER_EMPTY)}function te(){w.getCatchupModeEnabled()||V.setPlaybackRate(1)}function ue(){C.getIsDynamic()&&w.getCatchupModeEnabled()&&(w.getCatchupPlaybackRates().max>0||w.getCatchupPlaybackRates().min<0)&&!C.isPaused()&&!C.isSeeking()&&function le(){try{return!(!C.getTime()>0||U)&&(Me()===b.default.LIVE_CATCHUP_MODE_LOLP?function _e(Ue,ze){try{return Math.abs(Ie())>0||Ue<ze}catch{return!1}}(C.getBufferLevel(),k.get().streaming.liveCatchup.playbackBufferMin):function we(){try{return Math.abs(Ie())>0}catch{return!1}}())}catch{return!1}}()&&function Se(){if(!U&&V){var Ue,ze=V.getPlaybackRate(),He=w.getCatchupPlaybackRates(),Ae=C.getBufferLevel(),ye=Ie(),K=w.getCatchupMaxDrift();if(!isNaN(K)&&K>0&&ye>K)N.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),U=!0,C.seekToCurrentLive(!0,!1);else{var ie=C.getCurrentLiveLatency(),he=C.getLiveDelay();Ue=Me()===b.default.LIVE_CATCHUP_MODE_LOLP?function Pe(Ue,ze,He,Ae,ye){var K;if(ye<Ae){var ie=Math.abs(Ue.min),Z=2*ie/(1+Math.pow(Math.E,-5*(ye-Ae)));N.debug("[LoL+ playback control_buffer-based] bufferLevel: "+ye+", newRate: "+(K=1-ie+Z))}else{var W=Ue.max,X=.02;K=Math.abs(ze-He)<=X*He?1:1-W+2*W/(1+Math.pow(Math.E,-5*(ze-He))),N.debug("[LoL+ playback control_latency-based] latency: "+ze+", newRate: "+K)}return K}(He,ie,he,k.get().streaming.liveCatchup.playbackBufferMin,Ae):function Le(Ue,ze,He,Ae){if(T)return 1;var ye=ze-He,K=ye<0?Math.abs(Ue.min):Ue.max,$=1-K+2*K/(1+Math.pow(Math.E,-5*ye));return C.getPlaybackStalled()&&Ae<=He/2&&ye>0&&($=1),$}(He,ie,he,Ae);var Z=P?.25:.02/(.5/He.max);Ue&&Math.abs(ze-Ue)>=Z&&(N.debug("[CatchupController]: Setting playback rate to ".concat(Ue)),V.setPlaybackRate(Ue))}}}()}function Ie(){return C.getCurrentLiveLatency()-C.getLiveDelay()}function Me(){var Ue=k.get().streaming.liveCatchup.playbackBufferMin;return k.get().streaming.liveCatchup.mode!==b.default.LIVE_CATCHUP_MODE_LOLP||null===Ue||isNaN(Ue)?b.default.LIVE_CATCHUP_MODE_DEFAULT:b.default.LIVE_CATCHUP_MODE_LOLP}function Oe(){w.getCatchupPlaybackRates(!0)}return A={reset:function Re(){(function re(){v.off(F.default.BUFFER_LEVEL_UPDATED,H,A),v.off(F.default.BUFFER_LEVEL_STATE_CHANGED,me,A),v.off(F.default.PLAYBACK_PROGRESS,ue,A),v.off(F.default.PLAYBACK_TIME_UPDATED,ue,A),v.off(F.default.PLAYBACK_SEEKED,ue,A),v.off(L.default.SETTING_UPDATED_CATCHUP_ENABLED,te,A),v.off(L.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,Oe,A),v.off(L.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,Oe,A),v.off(F.default.STREAM_INITIALIZED,Oe,A)})(),z(),V.setPlaybackRate(1,!0)},setConfig:function B(Ue){Ue&&(Ue.settings&&(k=Ue.settings),Ue.videoModel&&(V=Ue.videoModel),Ue.streamController&&(R=Ue.streamController),Ue.playbackController&&(C=Ue.playbackController),Ue.mediaPlayerModel&&(w=Ue.mediaPlayerModel))},initialize:function S(){(function Y(){v.on(F.default.BUFFER_LEVEL_UPDATED,H,A),v.on(F.default.BUFFER_LEVEL_STATE_CHANGED,me,A),v.on(F.default.PLAYBACK_PROGRESS,ue,A),v.on(F.default.PLAYBACK_TIME_UPDATED,ue,A),v.on(F.default.PLAYBACK_SEEKED,oe,A),v.on(L.default.SETTING_UPDATED_CATCHUP_ENABLED,te,A),v.on(L.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,Oe,A),v.on(L.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,Oe,A),v.on(F.default.STREAM_INITIALIZED,Oe,A)})(),Oe()}},function ae(){N=Object(E.default)(g).getInstance().getLogger(A),z()}(),A}h.__dashjs_factory_name="CatchupController",x.default=t.default.getSingletonFactory(h)},"./src/streaming/controllers/EventController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/EventController.js ***!
                  \******************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),O=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=c(
/*! ../net/XHRLoader */
"./src/streaming/net/XHRLoader.js");function L(){var V,k,R,C,w,T,N,S,B,Y,re,D="urn:mpeg:dash:event:2012",m=1,h="urn:mpeg:dash:event:callback:2015",g=1,v=300,A={DISCARDED:"discarded",UPDATED:"updated",ADDED:"added"},U=this.context,P=Object(O.default)(U).getInstance();function Re(){if(!N||!S)throw new Error("setConfig function has to be called previously")}function z(){re=!1,R={},C={},w=null,Y=!1,T=Date.now()/1e3}function oe(){try{null!==w&&re&&(clearInterval(w),w=null,re=!1,function we(){try{_e(C),_e(R)}catch($){k.error($)}}())}catch($){throw $}}function me(){try{if(!Y){Y=!0;var $=S.getTime(),Z=$-T;Z=T>0?Math.max(0,Z):0,te(C,Z,$),te(R,Z,$),ue(C),ue(R),T=$,Y=!1}}catch(W){Y=!1,k.error(W)}}function te($,Z,W){try{Le($,function(q){if(void 0!==q){var J=isNaN(q.duration)?0:q.duration;q.calculatedPresentationTime<=W&&q.calculatedPresentationTime+Z+J>=W?Ue(q,b.default.EVENT_MODE_ON_START):(Pe(W,J+Z,q.calculatedPresentationTime)||function Oe($){try{return $.calculatedPresentationTime>$.eventStream.period.start+$.eventStream.period.duration}catch(W){return k.error(W),!1}}(q))&&(k.debug("Removing event ".concat(q.id," from period ").concat(q.eventStream.period.id," as it is expired or invalid")),function ze($,Z){try{var W=Z.eventStream.schemeIdUri,X=Z.eventStream.period.id,Q=Z.eventStream.value,q=Z.id;$[X][W]=$[X][W].filter(function(J){return Q&&J.eventStream.value&&J.eventStream.value!==Q||J.id!==q}),0===$[X][W].length&&delete $[X][W]}catch(J){k.error(J)}}($,q))}})}catch(Q){k.error(Q)}}function ue($){try{for(var Z in $)$.hasOwnProperty(Z)&&0===Object.keys($[Z]).length&&delete $[Z]}catch(W){k.error(W)}}function le($,Z){var W=arguments.length>2&&void 0!==arguments[2]&&arguments[2],X=$.eventStream.schemeIdUri,Q=$.eventStream.value,q=$.id,J=A.DISCARDED;Z[X]||(Z[X]=[]);var de=Z[X].findIndex(function(ce){return(!Q||ce.eventStream.value&&ce.eventStream.value===Q)&&ce.id===q});if(-1===de)Z[X].push($),$.triggeredReceivedEvent=!1,$.triggeredStartEvent=!1,J=A.ADDED;else if(W){var pe=Z[X][de];$.triggeredReceivedEvent=pe.triggeredReceivedEvent,$.triggeredStartEvent=pe.triggeredStartEvent,Z[X][de]=$,J=A.UPDATED}return J}function Me($){try{$.eventStream.value==m&&P.trigger(b.default.MANIFEST_VALIDITY_CHANGED,{id:$.id,validUntil:$.calculatedPresentationTime,newDuration:4294967295==$.calculatedPresentationTime?NaN:$.calculatedPresentationTime+$.duration,newManifestValidAfter:NaN},{mode:b.default.EVENT_MODE_ON_START})}catch(X){k.error(X)}}function _e($){try{var Z=S.getTime();Le($,function(Q){var q=Q.eventStream&&Q.eventStream.period&&!isNaN(Q.eventStream.period.duration)?Q.eventStream.period.duration:NaN,J=Q.eventStream&&Q.eventStream.period&&!isNaN(Q.eventStream.period.start)?Q.eventStream.period.start:NaN;isNaN(q)||isNaN(J)||Math.abs(Q.calculatedPresentationTime-Z)<v&&Ue(Q,b.default.EVENT_MODE_ON_START)})}catch(X){k.error(X)}}function Le($,Z){try{if($)for(var W=Object.keys($),X=0;X<W.length;X++)for(var Q=$[W[X]],q=Object.keys(Q),J=0;J<q.length;J++)Q[q[J]].forEach(function(pe){void 0!==pe&&Z(pe)})}catch(pe){k.error(pe)}}function Pe($,Z,W){try{return $-Z>W}catch(X){return k.error(X),!1}}function Ue($,Z){try{var W=S.getTime(),X=$.id;if(Z===b.default.EVENT_MODE_ON_RECEIVE&&!$.triggeredReceivedEvent)return k.debug("Received event ".concat(X)),$.triggeredReceivedEvent=!0,void P.trigger($.eventStream.schemeIdUri,{event:$},{mode:Z});$.triggeredStartEvent||($.eventStream.schemeIdUri===D&&$.eventStream.value==m?(0!==$.duration||0!==$.presentationTimeDelta)&&(k.debug("Starting manifest refresh event ".concat(X," at ").concat(W)),function He(){try{Re(),N.refreshManifest()}catch($){k.error($)}}()):$.eventStream.schemeIdUri===h&&$.eventStream.value==g?(k.debug("Starting callback event ".concat(X," at ").concat(W)),function Ae($){try{Object(F.default)(U).create({}).load({method:"get",url:$,request:{responseType:"arraybuffer"}})}catch(W){k.error(W)}}($.messageData)):(k.debug("Starting event ".concat(X," from period ").concat($.eventStream.period.id," at ").concat(W)),P.trigger($.eventStream.schemeIdUri,{event:$},{mode:Z})),$.triggeredStartEvent=!0)}catch(Q){k.error(Q)}}return V={addInlineEvents:function Se($,Z){try{if(Re(),R[Z]||(R[Z]={}),$)for(var W=0;W<$.length;W++){var X=$[W];if(!Pe(S.getTime(),isNaN(X.duration)?0:X.duration,X.calculatedPresentationTime)){var J=le(X,R[Z],!0);J===A.ADDED?(k.debug("Added inline event with id ".concat(X.id," from period ").concat(Z)),Ue(X,b.default.EVENT_MODE_ON_RECEIVE)):J===A.UPDATED&&k.debug("Updated inline event with id ".concat(X.id," from period ").concat(Z))}}}catch(de){throw de}},addInbandEvents:function Ie($,Z){try{Re(),C[Z]||(C[Z]={});for(var W=0;W<$.length;W++){var X=$[W];Pe(S.getTime(),isNaN(X.duration)?0:X.duration,X.calculatedPresentationTime)||(le(X,C[Z],!1)===A.ADDED?(X.eventStream.schemeIdUri===D&&Me(X),k.debug("Added inband event with id ".concat(X.id," from period ").concat(Z)),Ue(X,b.default.EVENT_MODE_ON_RECEIVE)):k.debug("Inband event with scheme_id_uri ".concat(X.eventStream.schemeIdUri,", value ").concat(X.eventStream.value,", period id ").concat(Z," and event id ").concat(X.id," was ignored because it has been added before.")))}me()}catch(de){throw de}},getInbandEvents:function ie(){return C},getInlineEvents:function K(){return R},start:function H(){try{Re(),k.debug("Start Event Controller");var $=B.get().streaming.eventControllerRefreshDelay;!re&&!isNaN($)&&(re=!0,w=setInterval(me,$))}catch(Z){throw Z}},setConfig:function ye($){try{if(!$)return;$.manifestUpdater&&(N=$.manifestUpdater),$.playbackController&&(S=$.playbackController),$.settings&&(B=$.settings)}catch(Z){throw Z}},reset:function he(){oe(),z()}},function ae(){k=Object(E.default)(U).getInstance().getLogger(V),z()}(),V}L.__dashjs_factory_name="EventController",x.default=t.default.getSingletonFactory(L)},"./src/streaming/controllers/FragmentController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/FragmentController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../vo/DataChunk */
"./src/streaming/vo/DataChunk.js"),O=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),b=c(
/*! ../FragmentLoader */
"./src/streaming/FragmentLoader.js"),F=c(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),L=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),D=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),m=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),h=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),g=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=c(
/*! ../../core/Debug */
"./src/core/Debug.js");function A(U){U=U||{};var N,S,B,P=this.context,V=Object(L.default)(P).getInstance(),k=U.errHandler,R=U.mediaPlayerModel,C=U.dashMetrics,w=Object(v.default)(P).getInstance(),T=U.streamInfo;function re(){return T.id}function Re(){for(var me in B)B[me].reset();B={}}function H(me){if(me.sender){var te=me.request,ue=me.response,Se=te.isInitializationRequest(),Ie=te.mediaInfo.streamInfo;if(me.error&&(te.mediaType===t.default.AUDIO||te.mediaType===t.default.VIDEO||te.mediaType===t.default.TEXT&&te.mediaInfo.isFragmented)&&V.trigger(D.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:me.request.serviceLocation}),!ue||!Ie)return void S.warn("No "+te.mediaType+" bytes to push or stream is inactive.");var le=function oe(me,te,ue,Se){var Ie=new E.default;return Ie.streamId=ue,Ie.mediaInfo=te.mediaInfo,Ie.segmentType=te.type,Ie.start=te.startTime,Ie.duration=te.duration,Ie.end=Ie.start+Ie.duration,Ie.bytes=me,Ie.index=te.index,Ie.quality=te.quality,Ie.representationId=te.representationId,Ie.endFragment=Se,Ie}(ue,te,T.id,me.type!==D.default.FRAGMENT_LOADING_PROGRESS);V.trigger(Se?D.default.INIT_FRAGMENT_LOADED:D.default.MEDIA_FRAGMENT_LOADED,{chunk:le,request:te},{streamId:Ie.id,mediaType:te.mediaType})}}return N={getStreamId:re,getModel:function ae(me){var te=B[me];return te||(te=Object(O.default)(P).create({streamInfo:T,type:me,dashMetrics:C,fragmentLoader:Object(b.default)(P).create({dashMetrics:C,mediaPlayerModel:R,errHandler:k,requestModifier:Object(F.default)(P).getInstance(),settings:U.settings,boxParser:U.boxParser,eventBus:V,events:D.default,errors:h.default,dashConstants:U.dashConstants,urlUtils:U.urlUtils,streamId:re()}),debug:w,eventBus:V,events:D.default}),B[me]=te),te},reset:function z(){V.off(m.default.FRAGMENT_LOADING_COMPLETED,H,this),V.off(m.default.FRAGMENT_LOADING_PROGRESS,H,this),Re()}},function Y(){S=w.getLogger(N),Re(),V.on(m.default.FRAGMENT_LOADING_COMPLETED,H,N),V.on(m.default.FRAGMENT_LOADING_PROGRESS,H,N)}(),N}A.__dashjs_factory_name="FragmentController",x.default=g.default.getClassFactory(A)},"./src/streaming/controllers/GapController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/GapController.js ***!
                  \****************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),O=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),F=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function h(){var A,U,P,V,k,R,C,w,T,N,S,B,g=this.context,v=Object(b.default)(g).getInstance();function ae(){(function Pe(){B.debug("Stopping the gap controller"),k&&(clearInterval(k),k=null)})(),function H(){v.off(O.default.WALLCLOCK_TIME_UPDATED,Ie,this),v.off(O.default.INITIAL_STREAM_SWITCH,Se,this),v.off(O.default.PLAYBACK_SEEKING,me,this),v.off(O.default.BUFFER_REPLACEMENT_STARTED,te,A),v.off(O.default.TRACK_CHANGE_RENDERED,ue,A)}(),function Re(){k=null,R=NaN,V=0,N=null,S={}}()}function me(){N&&(clearTimeout(N),N=null)}function te(Ue){try{if(Ue.streamId!==w.getActiveStreamInfo().id||Ue.mediaType!==F.default.VIDEO&&Ue.mediaType!==F.default.AUDIO)return;Ue.streamId===w.getActiveStreamInfo().id&&(S[Ue.mediaType]=!0)}catch(ze){B.error(ze)}}function ue(Ue){!Ue||!Ue.mediaType||(S[Ue.mediaType]=!1)}function Se(){k||function Le(){try{k||(B.debug("Starting the gap controller"),k=setInterval(function(){le()&&Oe(C.getTime())},100))}catch{}}()}function Ie(){if(le(P.get().streaming.gaps.enableSeekFix)&&++V>=10){var Ue=C.getTime();U===Ue?Oe(Ue,!0):(U=Ue,R=NaN),V=0}}function le(){var Ue=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!w.getActiveStream())return!1;var ze=Object.keys(S).some(function(Ae){return S[Ae]}),He=!!Ue&&function Me(){var Ue=w.getActiveStream(),ze=parseFloat((Ue.getStartTime()+Ue.getDuration()).toFixed(5));return C.getTime()+P.get().streaming.gaps.threshold>=ze}();return!ze&&P.get().streaming.gaps.jumpGaps&&w.getActiveStreamProcessors().length>0&&(!C.isSeeking()||He)&&!C.isPaused()&&!w.getIsStreamSwitchInProgress()&&!w.getHasMediaOrInitialisationError()}function Oe(Ue){var he,ze=arguments.length>1&&void 0!==arguments[1]&&arguments[1],He=P.get().streaming.gaps.enableStallFix,Ae=P.get().streaming.gaps.stallSeek,ye=P.get().streaming.gaps.smallGapLimit,K=P.get().streaming.gaps.jumpLargeGaps,ie=T.getBufferRange(),$=NaN,Z=!1;if(he=function we(Ue,ze){try{if(!Ue||Ue.length<=1&&ze>0)return NaN;for(var He=NaN,Ae=0;isNaN(He)&&Ae<Ue.length;){var ye=Ae>0?Ue.end(Ae-1):0;ze<Ue.start(Ae)&&ye-ze<P.get().streaming.gaps.threshold&&(He=Ae),Ae+=1}return He}catch{return null}}(ie,Ue),!isNaN(he)){var W=ie.start(he),X=W-Ue;X>0&&(X<=ye||K)&&($=W)}var Q=C.getTimeToStreamEnd();if(isNaN($)&&ze&&isFinite(Q)&&!isNaN(Q)&&Q<ye&&($=parseFloat(C.getStreamEndTime().toFixed(5)),Z=!0),He&&isNaN($)&&ze&&isNaN(he)&&function _e(Ue,ze){for(var He=0,Ae=Ue.length;He<Ae;He++)if(ze>=Ue.start(He)&&ze<=Ue.end(He))return!0;return!1}(ie,Ue)&&(0===Ae?(B.warn("Toggle play pause to break stall"),T.pause(),T.play()):(B.warn("Jumping ".concat(Ae,"s to break stall")),$=Ue+Ae)),$>0&&R!==$&&$>Ue&&!N){var q=$-Ue;if(Z){var J=w.getStreamForTime($),de=J&&!!J.getPreloaded();B.warn("Jumping to end of stream because of gap from ".concat(Ue," to ").concat($,". Gap duration: ").concat(q)),C.seek($,!0,de)}else{var pe=C.getIsDynamic(),ce=he>0?ie.end(he-1):Ue,Ce=pe?1e3*Math.max(0,q-.1):0;N=window.setTimeout(function(){C.seek($,!0,!0),B.warn("Jumping gap occuring in period ".concat(w.getActiveStream().getStreamId()," starting at ").concat(ce," and ending at ").concat($,". Jumping by: ").concat($-ce)),N=null},Ce)}R=$}}return A={reset:ae,setConfig:function z(Ue){Ue&&(Ue.settings&&(P=Ue.settings),Ue.playbackController&&(C=Ue.playbackController),Ue.streamController&&(w=Ue.streamController),Ue.videoModel&&(T=Ue.videoModel))},initialize:function Y(){!function oe(){v.on(O.default.WALLCLOCK_TIME_UPDATED,Ie,this),v.on(O.default.INITIAL_STREAM_SWITCH,Se,this),v.on(O.default.PLAYBACK_SEEKING,me,this),v.on(O.default.BUFFER_REPLACEMENT_STARTED,te,A),v.on(O.default.TRACK_CHANGE_RENDERED,ue,A)}()}},function re(){B=Object(E.default)(g).getInstance().getLogger(A),ae()}(),A}h.__dashjs_factory_name="GapController",x.default=t.default.getSingletonFactory(h)},"./src/streaming/controllers/MediaController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/MediaController.js ***!
                  \******************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),O=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),L=c(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),D=c.n(L),m=c(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js");function g(){var P,V,k,R,C,w,T,N,A=this.context,U=Object(O.default)(A).getInstance();function re(J,de){return J&&k[de]&&k[de][J]?k[de][J].list:[]}function ae(J,de){return J&&k[de]&&k[de][J]?k[de][J].current:null}function z(J){var de=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(J&&J.streamInfo){var pe=J.type,Ce=J.streamInfo.id,Ye=ae(pe,Ce);if(k[Ce]&&k[Ce][pe]&&(k[Ce][pe].current=J,k[Ce][pe].current&&(pe!==t.default.TEXT&&!ue(J,Ye)||pe===t.default.TEXT&&J.isFragmented)&&U.trigger(E.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:Ye,newMediaInfo:J,switchMode:R.get().streaming.trackSwitchMode[pe]},{streamId:Ce}),!de)){var Be=function le(J){var de={lang:J.lang,viewpoint:J.viewpoint,roles:J.roles,accessibility:J.accessibility,audioChannelConfiguration:J.audioChannelConfiguration};return de.lang||de.viewpoint||de.role&&de.role.length>0||de.accessibility&&de.accessibility.length>0||de.audioChannelConfiguration&&de.audioChannelConfiguration.length>0?de:null}(J);if(!Be||!k[Ce][pe].storeLastSettings)return;Be.roles&&(Be.role=Be.roles[0],delete Be.roles),Be.accessibility&&(Be.accessibility=Be.accessibility[0]),Be.audioChannelConfiguration&&(Be.audioChannelConfiguration=Be.audioChannelConfiguration[0]),w[pe]=Be,N.setSavedMediaSettings(pe,Be)}}}function oe(J,de){!J||!de||(C[J]=de)}function H(J){return J?C[J]:null}function ue(J,de){if(!J&&!de)return!0;if(!J||!de)return!1;var pe=J.id===de.id,ce=J.viewpoint===de.viewpoint,Ce=J.lang===de.lang,Ye=J.codec===de.codec,Be=J.roles.toString()===de.roles.toString(),Ze=J.accessibility.toString()===de.accessibility.toString(),Qe=J.audioChannelConfiguration.toString()===de.audioChannelConfiguration.toString();return pe&&Ye&&ce&&Ce&&Be&&Ze&&Qe}function Ie(){k={},w={},function He(){C={audio:null,video:null,text:null}}()}function Me(J,de,pe){var ce=[];return J.forEach(function(Ce){de(pe,Ce)&&ce.push(Ce)}),0!==ce.length?ce:J}function we(J,de){return!J.lang||J.lang instanceof RegExp?de.lang.match(J.lang):""!==de.lang&&Object(m.extendedFilter)(de.lang,D()(J.lang)).length>0}function _e(J,de){return null==J.index||de.index===J.index}function Le(J,de){return!J.viewpoint||J.viewpoint===de.viewpoint}function Pe(J,de){var pe=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!J.role||!!de.roles.filter(function(Ce){return Ce===J.role})[0]||de.type===t.default.AUDIO&&pe}function Oe(J,de){return J.accessibility?!!de.accessibility.filter(function(ce){return ce===J.accessibility})[0]:!de.accessibility.length}function Ue(J,de){return!J.audioChannelConfiguration||!!de.audioChannelConfiguration.filter(function(ce){return ce===J.audioChannelConfiguration})[0]}function ye(J){var ce,de=0,pe=[];return J.forEach(function(Ce){(ce=Math.max.apply(Math,Ce.bitrateList.map(function(Ye){return Ye.bandwidth})))>de?(de=ce,pe=[Ce]):ce===de&&pe.push(Ce)}),pe}function K(J){var ce,de=1/0,pe=[];return J.forEach(function(Ce){var Ye=Ce.bitrateList.reduce(function(Be,Ze){var Qe=Math.max(1,Ze.width*Ze.height);return Be+Ze.bandwidth/Qe},0);(ce=Ye/Ce.bitrateList.length)<de?(de=ce,pe=[Ce]):ce===de&&pe.push(Ce)}),pe}function ie(J){var ce,de=0,pe=[];return J.forEach(function(Ce){(ce=Ce.representationCount)>de?(de=ce,pe=[Ce]):ce===de&&pe.push(Ce)}),pe}function he(J,de){if(J===t.default.TEXT)return de[0];var ce,pe=R.get().streaming.selectionModeForInitialTrack,Ce=T.getCustomInitialTrackSelectionFunction();if(Ce&&"function"==typeof Ce)ce=Ce(de);else switch(pe){case t.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:ce=function $(J){var de=function Ae(J){var de=0,pe=[];return J.forEach(function(ce){isNaN(ce.selectionPriority)||(ce.selectionPriority>de?(de=ce.selectionPriority,pe=[ce]):ce.selectionPriority===de&&pe.push(ce))}),pe}(J);return de.length>1&&(de=ye(de)),de.length>1&&(de=ie(de)),de}(de);break;case t.default.TRACK_SELECTION_MODE_HIGHEST_BITRATE:ce=function Z(J){var de=ye(J);return de.length>1&&(de=ie(de)),de}(de);break;case t.default.TRACK_SELECTION_MODE_FIRST_TRACK:ce=W(de);break;case t.default.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:ce=function X(J){var de=K(J);return de.length>1&&(de=ye(de)),de}(de);break;case t.default.TRACK_SELECTION_MODE_WIDEST_RANGE:ce=function Q(J){var de=ie(J);return de.length>1&&(de=ye(J)),de}(de);break;default:V.warn("Track selection mode ".concat(pe," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),ce=W(de)}return ce.length>0?ce[0]:de[0]}function W(J){return J[0]}return P={setInitialMediaSettingsForType:function B(J,de){var pe=w[J]||H(J),ce=re(J,de.id),Ce=[];pe||oe(J,pe=N.getSavedMediaSettings(J)),ce&&0!==ce.length&&(pe&&(Ce=Me(Ce=Array.from(ce),we,pe),Ce=Me(Ce,_e,pe),Ce=Me(Ce,Le,pe),J===t.default.AUDIO&&w[J]||(Ce=Me(Ce,Pe,pe)),Ce=Me(Ce,Oe,pe),Ce=Me(Ce,Ue,pe)),0===Ce.length?z(he(J,ce),!0):z(Ce.length>1?he(J,Ce):Ce[0]))},addTrack:function Y(J){if(J){var de=J.type;if(function te(J){return J===t.default.AUDIO||J===t.default.VIDEO||J===t.default.TEXT||J===t.default.IMAGE}(de)){var pe=J.streamInfo.id;k[pe]||(k[pe]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var ce=k[pe][de].list,Ce=0,Ye=ce.length;Ce<Ye;++Ce)if(ue(ce[Ce],J))return;ce.push(J)}}},getTracksFor:re,getCurrentTrackFor:ae,isCurrentTrack:function Re(J){if(!J)return!1;var de=J.type,pe=J.streamInfo.id;return k[pe]&&k[pe][de]&&ue(k[pe][de].current,J)},setTrack:z,selectInitialTrack:he,setInitialSettings:oe,getInitialSettings:H,getTracksWithHighestBitrate:ye,getTracksWithHighestEfficiency:K,getTracksWithWidestRange:ie,isTracksEqual:ue,matchSettings:function ze(J,de){var pe=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var ce=!1;if(J.lang){if(J.lang instanceof RegExp)ce=de.lang.match(J.lang);else if(""!==de.lang){var Ce=D()(J.lang);Ce&&(ce=Object(m.extendedFilter)(de.lang,Ce).length>0)}}else ce=!0;var Ye=null==J.index||de.index===J.index,Be=!J.viewpoint||J.viewpoint===de.viewpoint,Ze=!J.role||!!de.roles.filter(function(ct){return ct===J.role})[0],Qe=!J.accessibility||!!de.accessibility.filter(function(ct){return ct===J.accessibility})[0],$e=!J.audioChannelConfiguration||!!de.audioChannelConfiguration.filter(function(ct){return ct===J.audioChannelConfiguration})[0];return ce&&Ye&&Be&&(Ze||de.type===t.default.AUDIO&&pe)&&Qe&&$e}catch(ct){return!1}},matchSettingsLang:we,matchSettingsIndex:_e,matchSettingsViewPoint:Le,matchSettingsRole:Pe,matchSettingsAccessibility:Oe,matchSettingsAudioChannelConfig:Ue,saveTextSettingsDisabled:function me(){N.setSavedMediaSettings(t.default.TEXT,null)},setConfig:function Se(J){J&&(J.domStorage&&(N=J.domStorage),J.settings&&(R=J.settings),J.customParametersModel&&(T=J.customParametersModel))},reset:Ie},function S(){V=Object(F.default)(A).getInstance().getLogger(P),Ie()}(),P}g.__dashjs_factory_name="MediaController";var v=b.default.getSingletonFactory(g);b.default.updateSingletonFactory(g.__dashjs_factory_name,v),x.default=v},"./src/streaming/controllers/MediaSourceController.js":
/*!************************************************************!*\
                  !*** ./src/streaming/controllers/MediaSourceController.js ***!
                  \************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/Debug */
"./src/core/Debug.js");function O(){var b,F,L,D=this.context;return b={createMediaSource:function h(){var k="WebKitMediaSource"in window;return"MediaSource"in window?F=new MediaSource:k&&(F=new WebKitMediaSource),F},attachMediaSource:function g(k){var R=window.URL.createObjectURL(F);return k.setSource(R),R},detachMediaSource:function v(k){k.setSource(null)},setDuration:function A(k){!F||"open"!==F.readyState||null===k&&isNaN(k)||F.duration!==k&&(function V(k){for(var R=k.sourceBuffers,C=0;C<R.length;C++)if(R[C].updating)return!0;return!1}(F)?setTimeout(A.bind(null,k),50):(L.info("Set MediaSource duration:"+k),F.duration=k))},setSeekable:function U(k,R){F&&"function"==typeof F.setLiveSeekableRange&&"function"==typeof F.clearLiveSeekableRange&&"open"===F.readyState&&k>=0&&k<R&&(F.clearLiveSeekableRange(),F.setLiveSeekableRange(k,R))},signalEndOfStream:function P(k){if(k&&"open"===k.readyState){for(var R=k.sourceBuffers,C=0;C<R.length;C++)if(R[C].updating||0===R[C].buffered.length)return;L.info("call to mediaSource endOfStream"),k.endOfStream()}}},function m(){L=Object(E.default)(D).getInstance().getLogger(b)}(),b}O.__dashjs_factory_name="MediaSourceController",x.default=t.default.getSingletonFactory(O)},"./src/streaming/controllers/PlaybackController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/PlaybackController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),O=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),L=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),D=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function h(){var A,U,P,V,k,R,C,w,T,N,S,B,Y,re,ae,Re,oe,H,me,te,ue,Se,Ie,g=this.context,v=Object(E.default)(g).getInstance();function Me(){ze(),re=!1,N=0,S=0,Re=0,ue=!1,oe=!1,Se=!1,H=NaN,C&&(v.off(O.default.DATA_UPDATE_COMPLETED,Pt,A),v.off(O.default.LOADING_PROGRESS,yn,A),v.off(O.default.MANIFEST_UPDATED,ui,A),v.off(O.default.STREAMS_COMPOSED,Ft,A),v.off(L.default.PLAYBACK_ENDED,Nt,A),v.off(L.default.STREAM_INITIALIZING,In,A),v.off(L.default.REPRESENTATION_SWITCH,kn,A),v.off(L.default.BUFFER_LEVEL_STATE_CHANGED,Qt,A),_t(),function Xt(){C.removeEventListener("canplay",Vt),C.removeEventListener("canplaythrough",$t),C.removeEventListener("play",dn),C.removeEventListener("waiting",pn),C.removeEventListener("playing",Un),C.removeEventListener("pause",ot),C.removeEventListener("error",Zt),C.removeEventListener("seeking",dt),C.removeEventListener("seeked",xe),C.removeEventListener("timeupdate",fe),C.removeEventListener("progress",ge),C.removeEventListener("ratechange",st),C.removeEventListener("loadedmetadata",mt),C.removeEventListener("loadeddata",Dt),C.removeEventListener("stalled",Tn),C.removeEventListener("ended",ut),C.removeEventListener("volumechange",bt)}()),T=null,C=null,B=null,Y=null}function Pe(){return parseFloat((Oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-he()).toFixed(5))}function Oe(Ke){var tt=Ke||B;return tt.start+tt.duration}function Ue(){var Ke=arguments.length>0&&void 0!==arguments[0]&&arguments[0];B&&C&&C.getElement()?(Ke&&Y&&ie(he()),C.play()):re=!0}function ze(){B&&C&&C.pause()}function He(Ke){var tt=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Ct=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Yt=arguments.length>3&&void 0!==arguments[3]&&arguments[3];B&&C&&Ke!==(isNaN(H)?C.getTime():H)&&((me=!0===Ct)||(H=Ke),U.info("Requesting seek to time: "+Ke+(me?" (internal)":"")),Y&&Yt&&ie(Ke),C.setCurrentTime(Ke,tt))}function K(){if(B&&C&&Y){var Ke=P&&P.hasVideoTrack()?t.default.VIDEO:t.default.AUDIO,tt=k.getCurrentDVRInfo(Ke);return tt&&tt.range?tt.range.end:0}}function ie(Ke){var tt=new Date(w.getClientReferenceTime()),Ct=R.getRegularPeriods()[0],Yt=w.calcPresentationTimeFromWallTime(tt,Ct);N=Yt-Ke}function he(){return B&&C?C.getTime():null}function $(){return B&&C?C.isPaused():null}function Z(){return B&&C?C.isSeeking():null}function W(){return B&&C?C.isStalled():null}function X(){return B&&C?C.getPlaybackRate():null}function q(){return B&&C?C.getEnded():null}function J(){return Y}function $e(){var Ke=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!$()&&Y&&0!==C.getReadyState()&&!Z()&&!ue){Ke||(Ke=P.hasVideoTrack()?t.default.VIDEO:t.default.AUDIO);var tt=he(),Ct=function ct(Ke,tt){var Ct=k.getCurrentDVRInfo(tt),Yt=Ct?Ct.range:null;return Yt?Ke>Yt.end?Math.max(Yt.end-N,Yt.start):Ke>0&&Ke+.25<Yt.start&&Math.abs(Ke-Yt.start)<31536e4?oe?Math.max(Yt.end-N,Yt.start):Yt.start:Ke:NaN}(tt,Ke);!isNaN(Ct)&&Ct!==tt&&!Z()&&(W()||te||1===C.getReadyState())&&(U.debug("UpdateCurrentTime: Seek to actual time: ".concat(Ct," from currentTime: ").concat(tt)),He(Ct,!1,!1))}}function It(){null===T&&(T=setInterval(function(){!function wt(){v.trigger(O.default.WALLCLOCK_TIME_UPDATED,{isDynamic:Y,time:new Date}),J()&&(P.addDVRMetric(),$()?function Ht(){var Ke=Date.now();(!ae||Ke>ae+500)&&(ae=Ke,fe())}():$e())}()},Ie.get().streaming.wallclockTimeUpdateInterval))}function _t(){clearInterval(T),T=null}function Pt(Ke){var tt=R.convertRepresentationToRepresentationInfo(Ke.currentRepresentation),Ct=tt?tt.mediaInfo.streamInfo:null;null===Ct||B.id!==Ct.id||(B=Ct)}function Vt(){v.trigger(O.default.CAN_PLAY)}function $t(){v.trigger(O.default.CAN_PLAY_THROUGH)}function Qt(Ke){Ke.streamId===P.getActiveStreamInfo().id&&(te=Ke.state===D.default.BUFFER_EMPTY,Ie.get().streaming.buffer.setStallState&&C.setStallState(Ke.mediaType,Ke.state===D.default.BUFFER_EMPTY))}function dn(){U.info("Native video element event: play"),$e(),It(),v.trigger(O.default.PLAYBACK_STARTED,{startTime:he()})}function pn(){U.info("Native video element event: waiting"),v.trigger(O.default.PLAYBACK_WAITING,{playingTime:he()})}function Un(){U.info("Native video element event: playing"),me=!1,v.trigger(O.default.PLAYBACK_PLAYING,{playingTime:he()})}function ot(){U.info("Native video element event: pause"),v.trigger(O.default.PLAYBACK_PAUSED,{ended:q()})}function dt(){if(!me){var Ke=he();!isNaN(H)&&H!==Ke&&(Ke=H),H=NaN,U.info("Seeking to: "+Ke),It(),v.trigger(O.default.PLAYBACK_SEEKING,{seekTime:Ke,streamId:B.id})}}function xe(){U.info("Native video element event: seeked"),me=!1,v.trigger(O.default.PLAYBACK_SEEKED)}function fe(){B&&v.trigger(O.default.PLAYBACK_TIME_UPDATED,{timeToEnd:Pe(),time:he(),streamId:B.id})}function ge(){v.trigger(O.default.PLAYBACK_PROGRESS,{streamId:B.id})}function st(){var Ke=X();U.info("Native video element event: ratechange: ",Ke),v.trigger(O.default.PLAYBACK_RATE_CHANGED,{playbackRate:Ke})}function mt(){U.info("Native video element event: loadedmetadata"),v.trigger(O.default.PLAYBACK_METADATA_LOADED),It()}function Dt(){U.info("Native video element event: loadeddata"),v.trigger(O.default.PLAYBACK_LOADED_DATA)}function ut(){U.info("Native video element event: ended"),ze(),_t();var Ke=P?P.getActiveStreamInfo():null;Ke&&v.trigger(O.default.PLAYBACK_ENDED,{isLast:Ke.isLast})}function bt(){v.trigger(O.default.PLAYBACK_VOLUME_CHANGED)}function Nt(Ke){if(T&&Ke.isLast){U.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var tt=Ke.seekTime?Ke.seekTime:Oe();C.setCurrentTime(tt),ze(),_t()}}function Zt(Ke){v.trigger(O.default.PLAYBACK_ERROR,{error:(Ke.target||Ke.srcElement).error})}function yn(Ke){if(!1===Ke.stream&&oe&&!isNaN(Ke.request.duration)){var tt=1.2*Ke.request.duration;tt>N&&(U.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",tt.toFixed(2)),N=tt,S=tt)}}function Tn(Ke){v.trigger(O.default.PLAYBACK_STALLED,{e:Ke})}function In(Ke){!function St(Ke){Ke&&Ke.supplementalProperties&&"true"===Ke.supplementalProperties[t.default.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(U.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),oe=!0)}(Ke.mediaInfo)}function kn(Ke){var tt=P.getActiveStreamInfo();!Ke||!tt||!Ke.currentRepresentation||!Ke.streamId||Ke.streamId!==tt.id||!Ke.mediaType||Ke.mediaType!==t.default.VIDEO&&Ke.mediaType!==t.default.AUDIO||(oe=!Ke.currentRepresentation.availabilityTimeComplete)&&!Se&&(Se=!0)}function ui(){ue=!0}function Ft(){ue=!1}return A={initialize:function we(Ke,tt){B=Ke,!0!==tt&&function _e(){(function at(){C.addEventListener("canplay",Vt),C.addEventListener("canplaythrough",$t),C.addEventListener("play",dn),C.addEventListener("waiting",pn),C.addEventListener("playing",Un),C.addEventListener("pause",ot),C.addEventListener("error",Zt),C.addEventListener("seeking",dt),C.addEventListener("seeked",xe),C.addEventListener("timeupdate",fe),C.addEventListener("progress",ge),C.addEventListener("ratechange",st),C.addEventListener("loadedmetadata",mt),C.addEventListener("loadeddata",Dt),C.addEventListener("stalled",Tn),C.addEventListener("ended",ut),C.addEventListener("volumechange",bt)})(),Y=B.manifestInfo.isDynamic,te=!1,me=!1,v.on(O.default.DATA_UPDATE_COMPLETED,Pt,A),v.on(O.default.LOADING_PROGRESS,yn,A),v.on(O.default.MANIFEST_UPDATED,ui,A),v.on(O.default.STREAMS_COMPOSED,Ft,A),v.on(L.default.PLAYBACK_ENDED,Nt,A,{priority:E.default.EVENT_PRIORITY_HIGH}),v.on(L.default.STREAM_INITIALIZING,In,A),v.on(L.default.REPRESENTATION_SWITCH,kn,A),v.on(L.default.BUFFER_LEVEL_STATE_CHANGED,Qt,A),re&&(re=!1,Ue())}()},setConfig:function Qe(Ke){Ke&&(Ke.streamController&&(P=Ke.streamController),Ke.serviceDescriptionController&&(V=Ke.serviceDescriptionController),Ke.dashMetrics&&(k=Ke.dashMetrics),Ke.adapter&&(R=Ke.adapter),Ke.videoModel&&(C=Ke.videoModel),Ke.timelineConverter&&(w=Ke.timelineConverter),Ke.settings&&(Ie=Ke.settings))},getTimeToStreamEnd:Pe,getBufferLevel:function en(){var Ke=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,tt=null;return P.getActiveStreamProcessors().forEach(function(Ct){if(!Ke||0===Ke.length||-1===Ke.indexOf(Ct.getType())){var Yt=Ct.getBufferLevel();tt=null===tt?Yt:Math.min(tt,Yt)}}),tt},getPlaybackStalled:function Le(){return te},getTime:he,getLowLatencyModeEnabled:function tn(){return oe},getInitialCatchupModeActivated:function qn(){return Se},getIsManifestUpdateInProgress:function pe(){return ue},getPlaybackRate:X,getPlayedRanges:function Q(){return B&&C?C.getPlayedRanges():null},getEnded:q,getIsDynamic:J,getStreamController:function de(){return P},computeAndSetLiveDelay:function Ze(Ke,tt){var Ct,Yt,Gt,Ot=!isNaN(Ke)&&isFinite(Ke)?Ke:NaN,Bt=R.getSuggestedPresentationDelay(),on=V.getServiceDescriptionSettings();return Ct=isNaN(Ie.get().streaming.delay.liveDelay)?null===Ie.get().streaming.delay.liveDelayFragmentCount||isNaN(Ie.get().streaming.delay.liveDelayFragmentCount)||isNaN(Ot)?on&&!isNaN(on.liveDelay)&&on.liveDelay>0?on.liveDelay:!0===Ie.get().streaming.delay.useSuggestedPresentationDelay&&null!==Bt&&!isNaN(Bt)&&Bt>0?Bt:isNaN(Ot)?tt&&!isNaN(tt.minBufferTime)?4*tt.minBufferTime:4*B.manifestInfo.minBufferTime:4*Ot:Ot*Ie.get().streaming.delay.liveDelayFragmentCount:Ie.get().streaming.delay.liveDelay,null!==(Gt=R.getAvailabilityStartTime())&&(Re=Gt),Yt=tt&&tt.dvrWindowSize>0?Math.min(Ct,tt.dvrWindowSize):Ct,N=Yt,S=Yt,Yt},getLiveDelay:function Ce(){return N},getOriginalLiveDelay:function Ye(){return S},getCurrentLiveLatency:function Be(){if(!Y||isNaN(Re))return NaN;var Ke=he();if(isNaN(Ke)||0===Ke)return 0;var tt=(new Date).getTime()+1e3*w.getClientTimeOffset();return Math.max(((tt-Re-1e3*Ke)/1e3).toFixed(3),0)},play:Ue,isPaused:$,isStalled:W,pause:ze,isSeeking:Z,getStreamEndTime:Oe,seek:He,seekToOriginalLive:function Ae(){var Ke=arguments.length>0&&void 0!==arguments[0]&&arguments[0],tt=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Ct=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Yt=K();0!==Yt&&He(Yt-(N=S),Ke,tt,Ct)},seekToCurrentLive:function ye(){var Ke=arguments.length>0&&void 0!==arguments[0]&&arguments[0],tt=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Ct=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Yt=K();0!==Yt&&He(Yt-N,Ke,tt,Ct)},reset:Me,updateCurrentTime:$e,getAvailabilityStartTime:function ce(){return Re}},function le(){U=Object(F.default)(g).getInstance().getLogger(A),Me()}(),A}h.__dashjs_factory_name="PlaybackController",x.default=b.default.getSingletonFactory(h)},"./src/streaming/controllers/ScheduleController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/ScheduleController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),O=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),F=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),L=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),D=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),m=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function h(g){g=g||{};var S,B,Y,re,ae,Re,z,oe,H,me,te,ue,Se,v=this.context,A=Object(O.default)(v).getInstance(),U=g.dashMetrics,P=g.mediaPlayerModel,V=g.fragmentModel,k=g.abrController,R=g.playbackController,C=g.textController,w=g.type,T=g.bufferController,N=g.settings;function Le(ct){if(!T.getIsBufferingCompleted()){Pe();var It=isNaN(ct)?0:ct;Re=setTimeout(Ue,It)}}function Pe(){Re&&(clearTimeout(Re),Re=null)}function Ue(){try{if(function He(){try{return w===t.default.TEXT&&!C.isTextEnabled()||R.isPaused()&&(!R.getStreamController().getInitialPlayback()||!R.getStreamController().getAutoPlay())&&!N.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void Pe();if(function Ae(){try{return re&&(isNaN(me)||te||function Oe(){var It=k.getMaxAllowedIndexFor(w,B.id);return!(!isNaN(H)&&H==It||(Y.info("Top quality "+w+" index has changed from "+H+" to "+It),H=It,0))}()||function ye(){return!w||!re||U.getCurrentBufferLevel(w)<K()}())}catch{return!1}}()){var ct=!1;Se&&(ct=k.checkPlaybackQuality(w,B.id)),ct||function ze(){ue||re.quality!==me||te?(te?(Y.debug("Switch track for "+w+", representation id = "+re.id),te=!1):Y.debug("Quality has changed, get init request for representationid = "+re.id),A.trigger(b.default.INIT_FRAGMENT_NEEDED,{representationId:re.id,sender:S},{streamId:B.id,mediaType:w}),Se=!1,ue=!1):(Y.debug("Media segment needed for ".concat(w," and stream id ").concat(B.id)),A.trigger(b.default.MEDIA_FRAGMENT_NEEDED,{},{streamId:B.id,mediaType:w}),Se=!0)}()}else Le(R.getLowLatencyModeEnabled()?N.get().streaming.scheduling.lowLatencyTimeout:N.get().streaming.scheduling.defaultTimeout)}catch{Le(R.getLowLatencyModeEnabled()?N.get().streaming.scheduling.lowLatencyTimeout:N.get().streaming.scheduling.defaultTimeout)}}function K(){var ct=NaN;return!w||!re||(ct=w===t.default.TEXT?function ie(){try{if(C.isTextEnabled()){if(isNaN(re.fragmentDuration)){var ct=U.getCurrentSchedulingInfo(D.default.SCHEDULING_INFO);return ct?ct.duration:0}return re.fragmentDuration}return 0}catch{return 0}}():w===t.default.AUDIO&&z?function he(){try{var ct=U.getCurrentBufferLevel(t.default.VIDEO);return isNaN(re.fragmentDuration)?ct+1:Math.max(ct+1,re.fragmentDuration)}catch{return 0}}():function $(){try{var ct=re.mediaInfo.streamInfo;return k.isPlayingAtTopQuality(ct)?ct.manifestInfo.duration>=N.get().streaming.buffer.longFormContentDurationThreshold?N.get().streaming.buffer.bufferTimeAtTopQualityLongForm:N.get().streaming.buffer.bufferTimeAtTopQuality:P.getStableBufferTime()}catch{return P.getStableBufferTime()}}()),ct}function X(){Q(!0)}function Q(ct){if(R&&V){var It=V.getRequests({state:E.default.FRAGMENT_MODEL_EXECUTED,time:R.getTime(),threshold:0})[0];It&&R.getTime()>=It.startTime&&((!oe.mediaInfo||It.mediaInfo.type===oe.mediaInfo.type&&It.mediaInfo.id!==oe.mediaInfo.id)&&ct&&A.trigger(b.default.TRACK_CHANGE_RENDERED,{mediaType:w,oldMediaInfo:oe.mediaInfo,newMediaInfo:It.mediaInfo,streamId:B.id}),(It.quality!==oe.quality||It.adaptationIndex!==oe.adaptationIndex)&&ct&&(Y.debug("Quality change rendered for streamId ".concat(B.id," and type ").concat(w)),A.trigger(b.default.QUALITY_CHANGE_RENDERED,{mediaType:w,oldQuality:oe.quality,newQuality:It.quality,streamId:B.id})),oe={mediaInfo:It.mediaInfo,quality:It.quality,adaptationIndex:It.adaptationIndex})}}function q(ct){Y.debug("Appended bytes for ".concat(ct.mediaType," and stream id ").concat(B.id)),(isNaN(ct.index)||isNaN(me))&&(me=ct.quality,Y.info("["+w+"] lastInitializedRepresentationInfo changed to "+ct.quality)),Le(0)}function J(){V.abortRequests(),Pe()}function de(){N.get().streaming.scheduling.scheduleWhilePaused||Le()}function pe(ct){U.updatePlayListTraceMetrics({playbackspeed:ct.playbackRate.toString()})}function Ze(){Se=!0,ae=0,me=NaN,oe={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},H=NaN,te=!1,ue=!1}return S={initialize:function le(ct){z=ct,A.on(b.default.BYTES_APPENDED_END_FRAGMENT,q,S),A.on(b.default.URL_RESOLUTION_FAILED,J,S),A.on(m.default.PLAYBACK_STARTED,de,S),A.on(m.default.PLAYBACK_RATE_CHANGED,pe,S),A.on(m.default.PLAYBACK_TIME_UPDATED,X,S)},getType:function Me(){return w},getStreamId:function we(){return B.id},setCurrentRepresentation:function _e(ct){re=ct},setTimeToLoadDelay:function ce(ct){ae=ct},getTimeToLoadDelay:function Ce(){return ae},setSwitchTrack:function Z(ct){te=ct},getSwitchStrack:function W(){return te},startScheduleTimer:Le,clearScheduleTimer:Pe,reset:function Qe(){A.off(b.default.BYTES_APPENDED_END_FRAGMENT,q,S),A.off(b.default.URL_RESOLUTION_FAILED,J,S),A.off(m.default.PLAYBACK_STARTED,de,S),A.off(m.default.PLAYBACK_RATE_CHANGED,pe,S),A.off(m.default.PLAYBACK_TIME_UPDATED,X,S),Pe(),Q(!1),Ze(),B=null},getBufferTarget:K,getPlaybackController:function $e(){return R},setCheckPlaybackQuality:function Ye(ct){Se=ct},setInitSegmentRequired:function Be(ct){ue=ct}},function Ie(){Y=Object(L.default)(v).getInstance().getLogger(S),Ze(),B=g.streamInfo}(),S}h.__dashjs_factory_name="ScheduleController",x.default=F.default.getClassFactory(h)},"./src/streaming/controllers/StreamController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/StreamController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),O=c(
/*! ../Stream */
"./src/streaming/Stream.js"),b=c(
/*! ../ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),F=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=c(
/*! ../vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),h=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),g=c(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),v=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),A=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),U=c(
/*! ./TimeSyncController */
"./src/streaming/controllers/TimeSyncController.js"),P=c(
/*! ./MediaSourceController */
"./src/streaming/controllers/MediaSourceController.js"),V=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),k=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),R=c(
/*! ./EventController */
"./src/streaming/controllers/EventController.js"),C=c(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function w(z){return function B(z){if(Array.isArray(z))return Y(z)}(z)||function S(z){if(typeof Symbol<"u"&&null!=z[Symbol.iterator]||null!=z["@@iterator"])return Array.from(z)}(z)||function N(z,oe){if(z){if("string"==typeof z)return Y(z,oe);var H=Object.prototype.toString.call(z).slice(8,-1);if("Object"===H&&z.constructor&&(H=z.constructor.name),"Map"===H||"Set"===H)return Array.from(z);if("Arguments"===H||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H))return Y(z,oe)}}(z)||function T(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(z,oe){(null==oe||oe>z.length)&&(oe=z.length);for(var H=0,me=new Array(oe);H<oe;H++)me[H]=z[H];return me}function Re(){var H,me,te,ue,Se,Ie,le,Me,we,_e,Le,Pe,Oe,Ue,ze,He,Ae,ye,K,ie,he,$,Z,W,X,Q,q,J,de,pe,ce,Ce,Ye,Be,Ze,Qe,$e,ct,It,_t,Pt,Vt,$t,Qt,dn,pn,Un,ot,dt,z=this.context,oe=Object(F.default)(z).getInstance();function mt(){if(!(Ie&&Ie.hasOwnProperty("load")&&$&&$.hasOwnProperty("initialize")&&$.hasOwnProperty("reset")&&$.hasOwnProperty("getClientTimeOffset")&&le&&he&&we&&Be))throw new Error(t.default.MISSING_CONFIG_ERROR)}function Nt(){!function wt(){try{var jt=Me.getStreamsInfo();if(!W&&0===jt.length)throw new Error("There are no periods in the MPD");W&&jt.length>0&&we.updateManifestUpdateInfo({currentTime:Be.getTime(),buffered:Ye.getBufferRange(),presentationStartTime:jt[0].start,clientTimeOffset:$.getClientTimeOffset()}),Z.length>0&&function Tr(jt){0!==jt.length?Z=Z.filter(function(hn){var Rn=jt.filter(function(ei){return ei.id===hn.getId()}).length>0||hn.getId()===W.getId();return Rn||(me.debug("Removing stream ".concat(hn.getId())),hn.reset(!0)),Rn}):me.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(jt);for(var hn=[],Pn=0,Rn=jt.length;Pn<Rn;Pn++){var ei=jt[Pn];hn.push(Ht(ei)),we.addManifestUpdateStreamInfo(ei)}Promise.all(hn).then(function(){return dn.get().streaming.applyContentSteering&&!W&&Pe.shouldQueryBeforeStart()?Pe.loadSteeringData():Promise.resolve()}).then(function(){W||en(jt),oe.trigger(L.default.STREAMS_COMPOSED),on()}).catch(function(Jn){throw Jn})}catch(Jn){he.error(new V.default(k.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Jn.message+" nostreamscomposed",le.getValue())),ce=!0,tr()}}()}function Zt(){pn=!0}function Ht(jt){var hn=si(jt.id);return hn?hn.updateData(jt):(hn=Object(O.default)(z).create({manifestModel:le,mediaPlayerModel:Qe,dashMetrics:we,manifestUpdater:Se,adapter:Me,timelineConverter:$,capabilities:te,capabilitiesFilter:ue,errHandler:he,baseURLController:Oe,segmentBaseController:Ue,textController:Q,abrController:He,playbackController:Be,eventController:ye,mediaController:Ae,protectionController:X,videoModel:Ye,streamInfo:jt,settings:dn}),Z.push(hn),hn.initialize(),Promise.resolve())}function en(jt){tt();var hn=we.getCurrentDVRInfo().range;if(hn.end<hn.start){Un&&clearTimeout(Un);var Pn=Math.min(1e3*(-1*(hn.end-hn.start)+2),2147483647);return me.debug("Waiting for ".concat(Pn," ms before playback can start")),oe.trigger(L.default.AST_IN_FUTURE,{delay:Pn}),void(Un=setTimeout(function(){en(jt)},Pn))}dn.get().streaming.applyProducerReferenceTime&&Ze.calculateProducerReferenceTimeOffsets(jt);var Rn=jt[0].manifestInfo;if(dn.get().streaming.applyServiceDescription&&Ze.applyServiceDescription(Rn),Me.getIsDynamic()){var ei=Ci(jt,Rn);Be.computeAndSetLiveDelay(ei,Rn)}var Jn=function sr(){var jt;if(Me.getIsDynamic()){var Pn=we.getCurrentDVRInfo();jt=(Pn&&Pn.range?Pn.range.end:0)-Be.getOriginalLiveDelay();var ei=Pn?Pn.range:null;if(ei){if(isNaN(ot)&&-1===ot.toString().indexOf("posix:")){var oi=Ti(!0);isNaN(oi)||(me.info("Start time from URI parameters: ".concat(oi)),jt=Math.min(jt,oi))}else{me.info("Start time provided by the app: ".concat(ot));var Jn=Li(!0,ot);isNaN(Jn)||(jt=Math.min(jt,Jn))}var li=dn.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;jt=Math.max(jt,ei.start+li)}}else if(jt=Or()[0].getStreamInfo().start,isNaN(ot)){var fr=Ti(!1);isNaN(fr)||(me.info("Start time from URI parameters: ".concat(fr)),jt=Math.max(jt,fr))}else{me.info("Start time provided by the app: ".concat(ot));var xr=Li(!1,ot);isNaN(xr)||(jt=Math.max(jt,xr))}return jt}(),oi=Ke(Jn),li=null!==oi?oi:Z[0];oe.trigger(L.default.INITIAL_STREAM_SWITCH,{startTime:Jn}),tn(li,null,Jn),function bn(){Pt||(Pt=setInterval(function(){!de&&Be.getTimeToStreamEnd()<=0&&!Be.isSeeking()&&oe.trigger(L.default.PLAYBACK_ENDED,{isLast:Qi().isLast})},200))}()}function tn(jt,hn,Pn){try{if(de||!jt||hn===jt&&jt.getIsActive())return;de=!0,oe.trigger(L.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:hn?hn.getStreamInfo():null,toStreamInfo:jt.getStreamInfo()});var Rn=!1;W=jt,hn&&(Rn=at(jt,hn),hn.deactivate(Rn)),Pn=isNaN(Pn)?!Rn&&hn?jt.getStreamInfo().start:NaN:Pn,me.info("Switch to stream ".concat(jt.getId(),". Seektime is ").concat(Pn,", current playback time is ").concat(Be.getTime(),". Seamless period switch is set to ").concat(Rn)),$t=$t.filter(function(ei){return ei.getId()!==W.getId()}),Be.initialize(Qi(),!!hn),Ye.getElement()&&yn(Pn,Rn)}catch{de=!1}}function yn(jt,hn){var Pn;function Rn(){if(Ce&&"open"===Ce.readyState){me.debug("MediaSource is open!"),window.URL.revokeObjectURL(Pn),Ce.removeEventListener("sourceopen",Rn),Ce.removeEventListener("webkitsourceopen",Rn),At();var Jn=we.getCurrentDVRInfo();_e.setSeekable(Jn.range.start,Jn.range.end),Tn(jt,hn)}}function ei(){Ce.addEventListener("sourceopen",Rn,!1),Ce.addEventListener("webkitsourceopen",Rn,!1),Pn=_e.attachMediaSource(Ye),me.debug("MediaSource attached to element.  Waiting on open...")}Ce?hn?Tn(jt,hn):(_e.detachMediaSource(Ye),ei()):(Ce=_e.createMediaSource(),ei())}function Tn(jt,hn){W.activate(Ce,hn?Vt:void 0,jt).then(function(Pn){if(Pn){var Rn=Object.keys(Pn);Rn.length>0&&Pn[Rn[0]].getBuffer().changeType&&(Qt=!0),Vt=Pn}isNaN(jt)||(oe.trigger(L.default.SEEK_TARGET,{time:jt},{streamId:W.getId()}),Be.seek(jt,!1,!0),W.startScheduleControllers()),de=!1,oe.trigger(L.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:Qi()})})}function In(jt){var Pn=Ke(jt.seekTime);Pn&&Pn!==W?Pn&&Pn!==W&&(kn(),function Ft(jt,hn){var Pn=jt&&!isNaN(jt.seekTime)?jt.seekTime:NaN,ei=W.getProcessors().map(function(Jn){return Jn.prepareOuterPeriodPlaybackSeeking(jt)});Promise.all(ei).then(function(){tn(hn,W,Pn)}).catch(function(Jn){he.error(Jn)})}(jt,Pn)):(kn(),function ui(jt){W.getProcessors().forEach(function(Pn){return Pn.prepareInnerPeriodPlaybackSeeking(jt)}),Ir(m.PlayListTrace.USER_REQUEST_STOP_REASON)}(jt)),Zn(m.PlayList.SEEK_START_REASON)}function kn(){qn()}function qn(){$t&&$t.length>0&&($t.forEach(function(jt){jt.deactivate(!0)}),$t=[])}function St(jt){jt.newMediaInfo.streamInfo.id===W.getId()&&(qn(),W.prepareTrackChange(jt))}function at(jt,hn){try{return dn.get().streaming.buffer.reuseExistingSourceBuffers&&(hn.isProtectionCompatible(jt)||pn)&&(Qt||hn.isMediaCodecCompatible(jt,hn))}catch{return!1}}function Xt(jt){var hn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Ce&&!jt.getPreloaded()&&at(jt,hn)&&jt.startPreloading(Ce,Vt).then(function(){$t.push(jt)})}function Ke(jt){if(isNaN(jt))return null;for(var hn=Z.length,Pn=0;Pn<hn;Pn++){var Rn=Z[Pn];if(jt<parseFloat((Rn.getStartTime()+Rn.getDuration()).toFixed(5)))return Rn}return null}function tt(){try{var jt=Me.getIsDynamic(),Pn=Me.getStreamsInfo()[0].manifestInfo,Rn=Be.getTime(),ei=$.calcTimeShiftBufferWindow(Z,jt),Jn=rn();if(typeof ei.start>"u"||typeof ei.end>"u")return;Jn&&0!==Jn.length?Jn.forEach(function(oi){we.addDVRInfo(oi.getType(),Rn,Pn,ei)}):we.addDVRInfo(t.default.VIDEO,Rn,Pn,ei)}catch{}}function Ct(jt){if(It&&J){var hn=Qe.getInitialBufferLevel(),Pn=[t.default.TEXT];(isNaN(hn)||hn<=Be.getBufferLevel(Pn)||Me.getIsDynamic()&&hn>Be.getLiveDelay())&&(It=!1,Zn(m.PlayList.INITIAL_PLAYOUT_START_REASON),Be.play())}jt&&jt.mediaType&&we.addBufferLevel(jt.mediaType,new Date,1e3*jt.bufferLevel)}function Yt(jt){jt.streamInfo.id===W.getId()&&jt.reason&&jt.reason.forceReplace&&qn(),si(jt.streamInfo.id).prepareQualityChange(jt)}function Gt(){if(Me.getIsDynamic()&&0!==Be.getOriginalLiveDelay()&&W){var jt=Me.getStreamsInfo();if(jt.length>0){var hn=jt[0].manifestInfo,Pn=Ci(jt,hn);Be.computeAndSetLiveDelay(Pn,hn)}}}function _n(){if(di()){var jt=Ye.getPlaybackQuality();jt&&we.addDroppedFrames(jt)}}function kt(){me.debug("[onPlaybackStarted]"),!It&&ct&&Zn(m.PlayList.RESUME_FROM_PAUSE_START_REASON),It&&(It=!1),_t&&(_t=!1,dn.get().streaming.applyContentSteering&&!Pe.shouldQueryBeforeStart()&&Pe.loadSteeringData()),ct=!1}function Ot(jt){me.debug("[onPlaybackPaused]"),jt.ended||(ct=!0,Ir(m.PlayListTrace.USER_REQUEST_STOP_REASON))}function Bt(jt){me.debug("Stream with id ".concat(jt.streamInfo.id," finished buffering")),Ce&&jt.streamInfo.isLast?(me.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),_e.signalEndOfStream(Ce)):on()}function on(){if(W&&W.getHasFinishedBuffering())for(var jt=function it(){var jt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var hn=jt||W||null;if(hn){var Pn=hn.getStreamInfo();return Z.filter(function(Rn){var ei=Rn.getStreamInfo();return ei.start>Pn.start&&Pn.id!==ei.id})}}catch{return[]}}(W),hn=0;hn<jt.length;){var Pn=jt[hn],Rn=0===hn?W:jt[hn-1];!Pn.getPreloaded()&&Rn.getHasFinishedBuffering()&&Ce&&Xt(Pn,Rn),hn+=1}}function Fn(){Pt&&(clearInterval(Pt),Pt=null)}function rn(){return W?W.getProcessors():[]}function ve(jt){if(W&&!W.getIsEndedEventSignaled()){W.setIsEndedEventSignaled(!0);var hn=function lt(){var hn=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||W||null;if(!hn)return null;for(var Pn=hn.getStreamInfo(),Rn=Pn.start,ei=0,Jn=-1,oi=NaN;ei<Z.length;){var Ai=Z[ei].getStreamInfo(),gr=Ai.start-Rn;gr>0&&(isNaN(oi)||gr<oi)&&Pn.id!==Ai.id&&(oi=gr,Jn=ei),ei+=1}return Jn>=0?Z[Jn]:null}();hn?(me.debug("StreamController onEnded, found next stream with id ".concat(hn.getStreamInfo().id,". Switching from ").concat(W.getStreamInfo().id," to ").concat(hn.getStreamInfo().id)),tn(hn,W,NaN)):(me.debug("StreamController no next stream found"),W.setIsEndedEventSignaled(!1)),Ir(hn?m.PlayListTrace.END_OF_PERIOD_STOP_REASON:m.PlayListTrace.END_OF_CONTENT_STOP_REASON)}jt&&jt.isLast&&(Fn(),Pe.stopSteeringRequestTimer())}function At(jt){var hn=jt||Qi().manifestInfo.duration;_e.setDuration(hn)}function Ti(jt){var hn=ze.getURIFragmentData();if(!hn||!hn.t)return NaN;var Rn=Or()[0].getStreamInfo().start;return hn.t=hn.t.split(",")[0],Cn(jt,hn.t,Rn)}function Li(jt,hn){var Pn=0;return jt||(Pn=Or()[0].getStreamInfo().start),Cn(jt,hn,Pn)}function Cn(jt,hn,Pn){var Rn=Me.getRegularPeriods()[0],ei=hn.toString(),Jn=-1!==ei.indexOf("posix:")?"now"===ei.substring(6)?Date.now()/1e3:parseFloat(ei.substring(6)):NaN;return jt&&!isNaN(Jn)?$.calcPresentationTimeFromWallTime(new Date(1e3*Jn),Rn):parseFloat(ei)+Pn}function Ci(jt,hn){try{var Pn=NaN;if(hn&&!isNaN(hn.maxFragmentDuration)&&isFinite(hn.maxFragmentDuration))return hn.maxFragmentDuration;if(jt&&1===jt.length){var Rn=jt[0],Jn=[t.default.VIDEO,t.default.AUDIO,t.default.TEXT].reduce(function(oi,li){var Ai=Me.getMediaInfoForType(Rn,li);return Ai&&!1!==Ai.isFragmented&&oi.push(Ai),oi},[]).reduce(function(oi,li){var Ai=Me.getVoRepresentations(li);return Ai&&Ai.length>0&&Ai.forEach(function(gr){gr&&oi.push(gr)}),oi},[]).reduce(function(oi,li){var Ai=Me.convertRepresentationToRepresentationInfo(li);return Ai&&Ai.fragmentDuration&&!isNaN(Ai.fragmentDuration)&&oi.push(Ai.fragmentDuration),oi},[]);Pn=Math.max.apply(Math,w(Jn))}return isFinite(Pn)?Pn:NaN}catch{return NaN}}function Lr(jt){if(jt.error)ce=!0,tr();else{me.info("Manifest updated... updating data system wide.");var hn=jt.manifest;Me.updatePeriods(hn);var Pn=Me.getUTCTimingSources();Me.getIsDynamic()&&(!Pn||0===Pn.length)&&oe.trigger(A.default.CONFORMANCE_VIOLATION,{level:C.default.LEVELS.WARNING,event:C.default.EVENTS.NO_UTC_TIMING_ELEMENT});var Rn=Me.getIsDynamic()?Pn.concat($e.getUTCTimingSources()):Pn,ei=ie.isHTTPS(jt.manifest.url);Rn.forEach(function(Jn){Jn.value.replace(/.*?:\/\//g,"")===dn.get().streaming.utcSynchronization.defaultTimingSource.value.replace(/.*?:\/\//g,"")&&(Jn.value=Jn.value.replace(ei?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),ei?"https://":"http://"),me.debug("Matching default timing source protocol to manifest protocol: ",Jn.value))}),ue.filterUnsupportedFeatures(hn).then(function(){Oe.initialize(hn),Le.attemptSync(Rn,Me.getIsDynamic())})}}function di(){return!!W&&W.getHasVideoTrack()}function er(){return!!W&&W.getHasAudioTrack()}function Ir(jt,hn){hn=hn||new Date,rn().forEach(function(Pn){Pn.finalisePlayList(hn,jt)}),we.addPlayList()}function Zn(jt){we.createPlaylistMetrics(1e3*Be.getTime(),jt)}function ko(jt){if(jt.error){var hn="";switch(jt.error.code){case 1:hn="MEDIA_ERR_ABORTED";break;case 2:hn="MEDIA_ERR_NETWORK";break;case 3:hn="MEDIA_ERR_DECODE",dt.counts.mediaErrorDecode+=1;break;case 4:hn="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:hn="MEDIA_ERR_ENCRYPTED";break;default:hn="UNKNOWN"}if("MEDIA_ERR_DECODE"===hn&&dn.get().errors.recoverAttempts.mediaErrorDecode>=dt.counts.mediaErrorDecode)return void function $r(){me.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var jt=Be.getTime();W.deactivate(!1),me.warn("MediaSource has been resetted. Resuming playback from time ".concat(jt)),yn(jt,!1)}();pe=!0,jt.error.message&&(hn+=" ("+jt.error.message+")"),jt.error.msExtendedCode&&(hn+=" (0x"+(jt.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),me.fatal("Video Element Error: "+hn),jt.error&&me.fatal(jt.error),he.error(new V.default(jt.error.code,hn)),tr()}}function Qi(){return W?W.getStreamInfo():null}function si(jt){for(var hn=0,Pn=Z.length;hn<Pn;hn++)if(Z[hn].getId()===jt)return Z[hn];return null}function Kn(jt){isNaN(jt.newDuration)||At(jt.newDuration)}function pr(){Z=[],ot=NaN,X=null,de=!1,W=null,pe=!1,ce=!1,It=!0,_t=!0,ct=!1,J=!0,Pt=null,pn=!1,Qt=!1,$t=[],Un=null,dt={counts:{mediaErrorDecode:0}}}function tr(){mt(),Le.reset(),Ir(pe||ce?m.PlayListTrace.FAILURE_STOP_REASON:m.PlayListTrace.USER_REQUEST_STOP_REASON);for(var jt=0,hn=Z?Z.length:0;jt<hn;jt++)Z[jt].reset(pe);(function st(){oe.off(A.default.PLAYBACK_TIME_UPDATED,_n,H),oe.off(A.default.PLAYBACK_SEEKING,In,H),oe.off(A.default.PLAYBACK_ERROR,ko,H),oe.off(A.default.PLAYBACK_STARTED,kt,H),oe.off(A.default.PLAYBACK_PAUSED,Ot,H),oe.off(A.default.PLAYBACK_ENDED,ve,H),oe.off(A.default.METRIC_ADDED,nr,H),oe.off(A.default.MANIFEST_VALIDITY_CHANGED,Kn,H),oe.off(A.default.BUFFER_LEVEL_UPDATED,Ct,H),oe.off(A.default.QUALITY_CHANGE_REQUESTED,Yt,H),L.default.KEY_SESSION_UPDATED&&oe.off(L.default.KEY_SESSION_UPDATED,Zt,H),oe.off(L.default.MANIFEST_UPDATED,Lr,H),oe.off(L.default.STREAM_BUFFERING_COMPLETED,Bt,H),oe.off(L.default.TIME_SYNCHRONIZATION_COMPLETED,Nt,H),oe.off(L.default.CURRENT_TRACK_CHANGED,St,H),oe.off(L.default.SETTING_UPDATED_LIVE_DELAY,Gt,H),oe.off(L.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Gt,H)})(),Oe.reset(),Se.reset(),ye.reset(),we.clearAllCurrentMetrics(),le.setValue(null),Ie.reset(),$.reset(),K.reset(),Ce&&(_e.detachMediaSource(Ye),Ce=null),Ye=null,X&&(X=null,q=null,le.getValue()&&oe.trigger(L.default.PROTECTION_DESTROYED,{data:le.getValue().url})),Fn(),oe.trigger(L.default.STREAM_TEARDOWN_COMPLETE),pr()}function nr(jt){if(jt.metric===E.default.DVR_INFO){var hn=er()?t.default.AUDIO:t.default.VIDEO;jt.mediaType===hn&&_e.setSeekable(jt.value.range.start,jt.value.range.end)}}function Or(){return Z}return H={initialize:function fe(jt,hn){mt(),J=jt,q=hn,$.initialize(),(Se=Object(b.default)(z).create()).setConfig({manifestModel:le,adapter:Me,manifestLoader:Ie,errHandler:he,settings:dn}),Se.initialize(),(ye=Object(R.default)(z).getInstance()).setConfig({manifestUpdater:Se,playbackController:Be,settings:dn}),ye.start(),Le.setConfig({dashMetrics:we,baseURLController:Oe,errHandler:he,settings:dn}),Le.initialize(),X&&(oe.trigger(L.default.PROTECTION_CREATED,{controller:X}),X.setMediaElement(Ye.getElement()),q&&X.setProtectionData(q)),function ge(){oe.on(A.default.PLAYBACK_TIME_UPDATED,_n,H),oe.on(A.default.PLAYBACK_SEEKING,In,H),oe.on(A.default.PLAYBACK_ERROR,ko,H),oe.on(A.default.PLAYBACK_STARTED,kt,H),oe.on(A.default.PLAYBACK_PAUSED,Ot,H),oe.on(A.default.PLAYBACK_ENDED,ve,H),oe.on(A.default.METRIC_ADDED,nr,H),oe.on(A.default.MANIFEST_VALIDITY_CHANGED,Kn,H),oe.on(A.default.BUFFER_LEVEL_UPDATED,Ct,H),oe.on(A.default.QUALITY_CHANGE_REQUESTED,Yt,H),L.default.KEY_SESSION_UPDATED&&oe.on(L.default.KEY_SESSION_UPDATED,Zt,H),oe.on(L.default.MANIFEST_UPDATED,Lr,H),oe.on(L.default.STREAM_BUFFERING_COMPLETED,Bt,H),oe.on(L.default.TIME_SYNCHRONIZATION_COMPLETED,Nt,H),oe.on(L.default.CURRENT_TRACK_CHANGED,St,H),oe.on(L.default.SETTING_UPDATED_LIVE_DELAY,Gt,H),oe.on(L.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Gt,H)}()},getActiveStreamInfo:Qi,addDVRMetric:tt,hasVideoTrack:di,hasAudioTrack:er,getStreamById:si,getStreamForTime:Ke,getTimeRelativeToStreamId:function ht(jt,hn){for(var Pn=null,Rn=0,ei=0,Jn=null,oi=0;oi<Z.length;oi++){if(ei=(Pn=Z[oi]).getStartTime(),Jn=Pn.getDuration(),Number.isFinite(ei)&&(Rn=ei),Pn.getId()===hn)return jt-Rn;Number.isFinite(Jn)&&(Rn+=Jn)}return null},load:function ut(jt){var hn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;mt(),ot=hn,Ie.load(jt)},loadWithManifest:function bt(jt){var hn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;(function Dt(){if(!Se||!Se.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),ot=hn,Se.setManifest(jt)},getActiveStreamProcessors:rn,setConfig:function ai(jt){jt&&(jt.capabilities&&(te=jt.capabilities),jt.capabilitiesFilter&&(ue=jt.capabilitiesFilter),jt.manifestLoader&&(Ie=jt.manifestLoader),jt.manifestModel&&(le=jt.manifestModel),jt.mediaPlayerModel&&(Qe=jt.mediaPlayerModel),jt.customParametersModel&&($e=jt.customParametersModel),jt.protectionController&&(X=jt.protectionController),jt.adapter&&(Me=jt.adapter),jt.dashMetrics&&(we=jt.dashMetrics),jt.errHandler&&(he=jt.errHandler),jt.timelineConverter&&($=jt.timelineConverter),jt.videoModel&&(Ye=jt.videoModel),jt.playbackController&&(Be=jt.playbackController),jt.serviceDescriptionController&&(Ze=jt.serviceDescriptionController),jt.contentSteeringController&&(Pe=jt.contentSteeringController),jt.textController&&(Q=jt.textController),jt.abrController&&(He=jt.abrController),jt.mediaController&&(Ae=jt.mediaController),jt.settings&&(dn=jt.settings),jt.baseURLController&&(Oe=jt.baseURLController),jt.uriFragmentModel&&(ze=jt.uriFragmentModel),jt.segmentBaseController&&(Ue=jt.segmentBaseController))},setProtectionData:function Ri(jt){q=jt,X&&X.setProtectionData(q)},getIsStreamSwitchInProgress:function go(){return de},switchToVideoElement:function mr(jt){W&&(Be.initialize(Qi()),yn(jt,!1))},getHasMediaOrInitialisationError:function Xi(){return pe||ce},getStreams:Or,getActiveStream:function Kt(){return W},getInitialPlayback:function vn(){return It},getAutoPlay:function Fi(){return J},reset:tr},function xe(){me=Object(h.default)(z).getInstance().getLogger(H),Le=Object(U.default)(z).getInstance(),_e=Object(P.default)(z).getInstance(),K=Object(g.default)(z).getInstance(),ie=Object(v.default)(z).getInstance(),pr()}(),H}Re.__dashjs_factory_name="StreamController",x.default=D.default.getSingletonFactory(Re)},"./src/streaming/controllers/TimeSyncController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/TimeSyncController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),E=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),O=c(
/*! ./../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ./../../core/events/Events */
"./src/core/events/Events.js"),F=c(
/*! ./../../core/errors/Errors */
"./src/core/errors/Errors.js"),L=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),D=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),m=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function R(){var S,B,Y,re,ae,Re,z,oe,H,me,te,ue,Se,Ie,le,Me,w=this.context,T=Object(O.default)(w).getInstance(),N=Object(m.default)(w).getInstance();function Le(){oe=[],H=[],me=null,te=null,Se=null,ue=NaN,Y=!1,re=!1,Ie=ae.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function Ue(){!ae.get().streaming.utcSynchronization.enabled||Y||re||!Se||!Se.value||!Se.schemeIdUri||isNaN(ue)||isNaN(ae.get().streaming.utcSynchronization.backgroundAttempts)||te&&(Date.now()-te)/1e3<30||(oe=[],re=!0,ze(isNaN(ae.get().streaming.utcSynchronization.backgroundAttempts)?2:ae.get().streaming.utcSynchronization.backgroundAttempts))}function ze(Be){try{if(Be<=0)return void ce();var Ze=Date.now();Re[Se.schemeIdUri](Se.value,function(Qe){var $e=Date.now(),ct=Ae(Ze,$e,Qe);oe.push(ct),ze(Be-1)},function(){ce()})}catch{ce()}}function He(){var Ze=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!H||0===H.length||Ze>=H.length)K();else{var Qe=H[Ze];if(Qe)if(Re.hasOwnProperty(Qe.schemeIdUri)){var $e=(new Date).getTime();Re[Qe.schemeIdUri](Qe.value,function(ct){var It=(new Date).getTime(),_t=Ae($e,It,ct);Se=Qe,K(_t)},function(){He(Ze+1)})}else He(Ze+1);else K()}}function Ae(Be,Ze,Qe){return Qe-(Ze-(Ze-Be)/2)}function K(){var Be=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,Ze=isNaN(Be);Ze&&ae.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?function J(){var Be=z.getLatestMPDRequestHeaderValueByID("Date"),Ze=null!==Be?new Date(Be).getTime():Number.NaN;isNaN(Ze)?de(!0):de(!1,Ze-Date.now())}():de(Ze,Be)}function he(Be){var Ze=Date.parse(Be);return isNaN(Ze)&&(Ze=function ie(Be){var It,_t,Pt=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(Be);return It=Date.UTC(parseInt(Pt[1],10),parseInt(Pt[2],10)-1,parseInt(Pt[3],10),parseInt(Pt[4],10),parseInt(Pt[5],10),Pt[6]&&(parseInt(Pt[6],10)||0),Pt[7]&&1e3*parseFloat(Pt[7])||0),Pt[9]&&Pt[10]&&(_t=60*parseInt(Pt[9],10)+parseInt(Pt[10],10),It+=("+"===Pt[8]?-1:1)*_t*60*1e3),new Date(It).getTime()}(Be)),Ze}function $(Be){return Date.parse(Be)}function Z(Be){return Date.parse(Be)}function W(Be,Ze,Qe){Qe()}function X(Be,Ze,Qe){var $e=he(Be);isNaN($e)?Qe():Ze($e)}function Q(Be,Ze,Qe,$e,ct){var It,_t,Pt=!1,Vt=new XMLHttpRequest,$t=ct?E.HTTPRequest.HEAD:E.HTTPRequest.GET,Qt=Ze.match(/\S+/g);if(Ze=Qt.shift(),It=function(){Pt||(Pt=!0,Qt.length?Q(Be,Qt.join(" "),Qe,$e,ct):$e())},_t=function(){var Un,ot;200===Vt.status&&(Un=ct?Vt.getResponseHeader("Date"):Vt.response,ot=Be(Un),isNaN(ot)||(Qe(ot),Pt=!0))},N.isRelative(Ze)){var dn=Me.resolve();dn&&(Ze=N.resolve(Ze,dn.url))}Vt.open($t,Ze),Vt.timeout=5e3,Vt.onload=_t,Vt.onloadend=It,Vt.send()}function q(Be,Ze,Qe){Q(Z,Be,Ze,Qe,!0)}function de(Be,Ze){if(!isNaN(ue)&&!isNaN(Ze)&&!Be&&function pe(Be){try{var _t,Ze=Ce(Be),Qe=isNaN(Ie)?30:Ie,$e=isNaN(ae.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:ae.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,ct=isNaN(ae.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:ae.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,It=isNaN(ae.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:ae.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;Ze?(_t=Math.min(Qe*$e,ct),B.debug("Increasing timeBetweenSyncAttempts to ".concat(_t))):(_t=Math.max(Qe/$e,It),B.debug("Decreasing timeBetweenSyncAttempts to ".concat(_t))),Ie=_t}catch{}}(Ze),!Be&&!isNaN(Ze)){me=Date.now(),Y=!1;var Qe=isNaN(ue);ue=Ze,Qe&&Ue(),B.debug("Completed UTC sync. Setting client - server offset to ".concat(Ze))}Be&&(Se=null,Y=!1,le.error(new t.default(F.default.TIME_SYNC_FAILED_ERROR_CODE,F.default.TIME_SYNC_FAILED_ERROR_MESSAGE))),T.trigger(b.default.UPDATE_TIME_SYNC_OFFSET,{offset:Ze}),T.trigger(b.default.TIME_SYNCHRONIZATION_COMPLETED)}function ce(){if(oe&&0!==oe.length){var Be=oe.reduce(function(Ze,Qe){return Ze+Qe},0)/oe.length;Ce(Be)?B.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(B.debug("Completed background UTC sync. Setting client - server offset to ".concat(Be)),T.trigger(b.default.UPDATE_TIME_SYNC_OFFSET,{offset:ue=Be})),re=!1,te=Date.now()}}function Ce(Be){try{if(isNaN(ue))return!0;var Ze=ae.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(ae.get().streaming.utcSynchronization.maximumAllowedDrift)?ae.get().streaming.utcSynchronization.maximumAllowedDrift:100;return Be>=ue-Ze&&Be<=ue+Ze}catch{return!0}}return S={initialize:function Pe(){Le(),Re={"urn:mpeg:dash:utc:http-head:2014":q,"urn:mpeg:dash:utc:http-xsdate:2014":Q.bind(null,he),"urn:mpeg:dash:utc:http-iso:2014":Q.bind(null,$),"urn:mpeg:dash:utc:direct:2014":X,"urn:mpeg:dash:utc:http-head:2012":q,"urn:mpeg:dash:utc:http-xsdate:2012":Q.bind(null,he),"urn:mpeg:dash:utc:http-iso:2012":Q.bind(null,$),"urn:mpeg:dash:utc:direct:2012":X,"urn:mpeg:dash:utc:http-ntp:2014":W,"urn:mpeg:dash:utc:ntp:2014":W,"urn:mpeg:dash:utc:sntp:2014":W}},attemptSync:function Oe(Be,Ze){if(H=Be,!Y){if(!function ye(Be){try{if(!Be||!ae.get().streaming.utcSynchronization.enabled)return!1;var Ze=isNaN(Ie)?30:Ie;return!(me&&Ze&&!isNaN(Ze))||(Date.now()-me)/1e3>=Ze}catch{return!0}}(Ze))return void T.trigger(b.default.TIME_SYNCHRONIZATION_COMPLETED);Y=!0,He()}},setConfig:function _e(Be){Be&&(Be.dashMetrics&&(z=Be.dashMetrics),Be.baseURLController&&(Me=Be.baseURLController),Be.errHandler&&(le=Be.errHandler),Be.settings&&(ae=Be.settings))},reset:function Ye(){Le(),T.off(b.default.ATTEMPT_BACKGROUND_SYNC,Ue,S)}},function we(){B=Object(D.default)(w).getInstance().getLogger(S),T.on(b.default.ATTEMPT_BACKGROUND_SYNC,Ue,S)}(),S}R.__dashjs_factory_name="TimeSyncController";var C=L.default.getSingletonFactory(R);C.HTTP_TIMEOUT_MS=5e3,L.default.updateSingletonFactory(R.__dashjs_factory_name,C),x.default=C},"./src/streaming/controllers/XlinkController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/XlinkController.js ***!
                  \******************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../XlinkLoader */
"./src/streaming/XlinkLoader.js"),E=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),O=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),L=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),D=c(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),m="onLoad";function v(A){A=A||{};var k,R,C,w,T,N,U=this.context,P=Object(E.default)(U).getInstance(),V=Object(L.default)(U).getInstance();function Re(Ie,le,Me){var _e,Le,we={};we.elements=Ie,we.type=le,we.resolveType=Me,0===we.elements.length&&oe(we);for(var Pe=0;Pe<we.elements.length;Pe++)Le=V.isHTTPURL((_e=we.elements[Pe]).url)?_e.url:_e.originalContent.BaseURL+_e.url,N.load(Le,_e,we)}function z(Ie){var le,Me,Le="";if(Me=Ie.resolveObject,(le=Ie.element).resolvedContent){var Pe=0;0===le.resolvedContent.indexOf("<?xml")&&(Pe=le.resolvedContent.indexOf("?>")+2),Le=le.resolvedContent.substr(0,Pe)+"<response>"+le.resolvedContent.substr(Pe)+"</response>",le.resolvedContent=T.xml_str2json(Le)}(function ue(Ie){var le;for(le=0;le<Ie.elements.length;le++)if(!1===Ie.elements[le].resolved)return!1;return!0})(Me)&&oe(Me)}function oe(Ie){var Me,we,le=[];if(function me(Ie){var Me,we,Le,Pe,Oe,le=[];for(Le=Ie.elements.length-1;Le>=0;Le--){if(we=(Me=Ie.elements[Le]).type+"_asArray",Me.resolvedContent){if(Me.resolvedContent)for(Pe=0;Pe<Me.resolvedContent[we].length;Pe++)le.push(Me.resolvedContent[we][Pe])}else delete Me.originalContent["xlink:actuate"],delete Me.originalContent["xlink:href"],le.push(Me.originalContent);for(Me.parentElement[we].splice(Me.index,1),Oe=0;Oe<le.length;Oe++)Me.parentElement[we].splice(Me.index+Oe,0,le[Oe]);le=[]}Ie.elements.length>0&&C.run(w)}(Ie),"onActuate"===Ie.resolveType&&P.trigger(O.default.XLINK_READY,{manifest:w}),Ie.resolveType===m)switch(Ie.type){case D.default.PERIOD:for(Me=0;Me<w[D.default.PERIOD+"_asArray"].length;Me++)(we=w[D.default.PERIOD+"_asArray"][Me]).hasOwnProperty(D.default.ADAPTATION_SET+"_asArray")&&(le=le.concat(H(we[D.default.ADAPTATION_SET+"_asArray"],we,D.default.ADAPTATION_SET,m))),we.hasOwnProperty(D.default.EVENT_STREAM+"_asArray")&&(le=le.concat(H(we[D.default.EVENT_STREAM+"_asArray"],we,D.default.EVENT_STREAM,m)));Re(le,D.default.ADAPTATION_SET,m);break;case D.default.ADAPTATION_SET:P.trigger(O.default.XLINK_READY,{manifest:w})}}function H(Ie,le,Me,we){var Le,Pe,Oe,_e=[];for(Pe=Ie.length-1;Pe>=0;Pe--)(Le=Ie[Pe]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===Le["xlink:href"]&&Ie.splice(Pe,1);for(Pe=0;Pe<Ie.length;Pe++)(Le=Ie[Pe]).hasOwnProperty("xlink:href")&&Le.hasOwnProperty("xlink:actuate")&&Le["xlink:actuate"]===we&&(Oe=te(Le["xlink:href"],le,Me,Pe,we,Le),_e.push(Oe));return _e}function te(Ie,le,Me,we,_e,Le){return{url:Ie,parentElement:le,type:Me,index:we,resolveType:_e,originalContent:Le,resolvedContent:null,resolved:!1}}return k={resolveManifestOnLoad:function re(Ie){T=new F.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:R}),(w=Ie).Period_asArray?Re(H(w.Period_asArray,w,D.default.PERIOD,m),D.default.PERIOD,m):P.trigger(O.default.XLINK_READY,{manifest:w})},setMatchers:function B(Ie){Ie&&(R=Ie)},setIron:function Y(Ie){Ie&&(C=Ie)},reset:function ae(){P.off(O.default.XLINK_ELEMENT_LOADED,z,k),N&&(N.reset(),N=null)}},function S(){P.on(O.default.XLINK_ELEMENT_LOADED,z,k),N=Object(t.default)(U).create({errHandler:A.errHandler,dashMetrics:A.dashMetrics,mediaPlayerModel:A.mediaPlayerModel,requestModifier:A.requestModifier,settings:A.settings})}(),k}v.__dashjs_factory_name="XlinkController",x.default=b.default.getClassFactory(v)},"./src/streaming/metrics/MetricsReporting.js":
/*!***************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReporting.js ***!
                  \***************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./utils/DVBErrorsTranslator */
"./src/streaming/metrics/utils/DVBErrorsTranslator.js"),E=c(
/*! ./MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),O=c(
/*! ./controllers/MetricsCollectionController */
"./src/streaming/metrics/controllers/MetricsCollectionController.js"),b=c(
/*! ./metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js"),F=c(
/*! ./reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function L(){var m=this.context;return{createMetricsReporting:function v(P){return Object(t.default)(m).getInstance({eventBus:P.eventBus,dashMetrics:P.dashMetrics,metricsConstants:P.metricsConstants,events:P.events}).initialise(),Object(O.default)(m).create(P)},getReportingFactory:function A(){return Object(F.default)(m).getInstance()},getMetricsHandlerFactory:function U(){return Object(b.default)(m).getInstance()}}}L.__dashjs_factory_name="MetricsReporting";var D=dashjs.FactoryMaker.getClassFactory(L);D.events=E.default,dashjs.FactoryMaker.updateClassFactory(L.__dashjs_factory_name,D),x.default=D},"./src/streaming/metrics/MetricsReportingEvents.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReportingEvents.js ***!
                  \*********************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function E(R){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(R)}function O(R,C){for(var w=0;w<C.length;w++){var T=C[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,F(T.key),T)}}function F(R){var C=function L(R,C){if("object"!==E(R)||null===R)return R;var w=R[Symbol.toPrimitive];if(void 0!==w){var T=w.call(R,C||"default");if("object"!==E(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(R)}(R,"string");return"symbol"===E(C)?C:String(C)}function m(R,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(C&&C.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),C&&h(R,C)}function h(R,C){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(R,C)}function g(R){var C=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=P(R);if(C){var S=P(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function v(R,C){if(C&&("object"===E(C)||"function"==typeof C))return C;if(void 0!==C)throw new TypeError("Derived constructors may only return object or undefined");return function A(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,N)}}function P(R){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(R)}c.r(x);var k=new(function(R){m(w,R);var C=g(w);function w(){var T;return function D(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")}(this,w),(T=C.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",T.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",T.CMCD_DATA_GENERATED="cmcdDataGenerated",T}return function b(R,C,w){return C&&O(R.prototype,C),w&&O(R,w),Object.defineProperty(R,"prototype",{writable:!1}),R}(w)}(c(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));x.default=k},"./src/streaming/metrics/controllers/MetricsCollectionController.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsCollectionController.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./MetricsController */
"./src/streaming/metrics/controllers/MetricsController.js"),E=c(
/*! ../utils/ManifestParsing */
"./src/streaming/metrics/utils/ManifestParsing.js"),O=c(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function b(F){var L,D={},m=this.context,h=(F=F||{}).eventBus,g=F.events;function v(V){if(!V.error){var k=Object.keys(D);Object(E.default)(m).getInstance({adapter:F.adapter,constants:F.constants}).getMetrics(V.manifest).forEach(function(C){var w=JSON.stringify(C);if(D.hasOwnProperty(w))k.splice(w,1);else try{var T=Object(t.default)(m).create(F);T.initialize(C),D[w]=T}catch{}}),k.forEach(function(C){D[C].reset(),delete D[C]}),h.trigger(O.default.METRICS_INITIALISATION_COMPLETE)}}function A(){Object.keys(D).forEach(function(V){D[V].reset()}),D={}}return L={reset:function P(){h.off(g.MANIFEST_UPDATED,v,L),h.off(g.STREAM_TEARDOWN_COMPLETE,A,L)}},function U(){h.on(g.MANIFEST_UPDATED,v,L),h.on(g.STREAM_TEARDOWN_COMPLETE,A,L)}(),L}b.__dashjs_factory_name="MetricsCollectionController",x.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/controllers/MetricsController.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsController.js ***!
                  \****************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./RangeController */
"./src/streaming/metrics/controllers/RangeController.js"),E=c(
/*! ./ReportingController */
"./src/streaming/metrics/controllers/ReportingController.js"),O=c(
/*! ./MetricsHandlersController */
"./src/streaming/metrics/controllers/MetricsHandlersController.js");function b(F){F=F||{};var L,D,m,g=this.context;function A(){L&&L.reset(),D&&D.reset(),m&&m.reset()}return{initialize:function v(U){try{(m=Object(t.default)(g).create({mediaElement:F.mediaElement})).initialize(U.Range),(D=Object(E.default)(g).create({debug:F.debug,metricsConstants:F.metricsConstants,mediaPlayerModel:F.mediaPlayerModel})).initialize(U.Reporting,m),(L=Object(O.default)(g).create({debug:F.debug,eventBus:F.eventBus,metricsConstants:F.metricsConstants,events:F.events})).initialize(U.metrics,D)}catch(P){throw A(),P}},reset:A}}b.__dashjs_factory_name="MetricsController",x.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/controllers/MetricsHandlersController.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsHandlersController.js ***!
                  \************************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js");function E(O){var F,b=[],L=this.context,D=(O=O||{}).eventBus,m=O.events,h=Object(t.default)(L).getInstance({debug:O.debug,eventBus:O.eventBus,metricsConstants:O.metricsConstants});function g(U){b.forEach(function(P){P.handleNewMetric(U.metric,U.value,U.mediaType)})}return F={initialize:function v(U,P){U.split(",").forEach(function(V,k,R){var C;if(-1!==V.indexOf("(")&&-1===V.indexOf(")")){var w=R[k+1];w&&-1===w.indexOf("(")&&-1!==w.indexOf(")")&&(V+=","+w,delete R[k+1])}(C=h.create(V,P))&&b.push(C)}),D.on(m.METRIC_ADDED,g,F),D.on(m.METRIC_UPDATED,g,F)},reset:function A(){D.off(m.METRIC_ADDED,g,F),D.off(m.METRIC_UPDATED,g,F),b.forEach(function(U){return U.reset()}),b=[]}}}E.__dashjs_factory_name="MetricsHandlersController",x.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/controllers/RangeController.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/RangeController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js");function E(O){var L,D,b=!1,F=this.context,m=(O=O||{}).mediaElement;return L={initialize:function h(U){U&&U.length&&(U.forEach(function(P){var V=P.starttime;D.add(V,V+P.duration)}),b=!!U[0]._useWallClockTime)},reset:function g(){D.clear()},isEnabled:function A(){var P,U=D.length;if(!U)return!0;P=b?(new Date).getTime()/1e3:m.currentTime;for(var V=0;V<U;V+=1){var k=D.start(V),R=D.end(V);if(k<=P&&P<R)return!0}return!1}},function v(){D=Object(t.default)(F).create()}(),L}E.__dashjs_factory_name="RangeController",x.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/controllers/ReportingController.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/ReportingController.js ***!
                  \******************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function E(O){var b=[],L=Object(t.default)(this.context).getInstance(O);return{initialize:function D(g,v){g.some(function(A){var U=L.create(A,v);if(U)return b.push(U),!0})},reset:function m(){b.forEach(function(g){return g.reset()}),b=[]},report:function h(g,v){b.forEach(function(A){return A.report(g,v)})}}}E.__dashjs_factory_name="ReportingController",x.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/metrics/MetricsHandlerFactory.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/MetricsHandlerFactory.js ***!
                  \****************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./handlers/BufferLevelHandler */
"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js"),E=c(
/*! ./handlers/DVBErrorsHandler */
"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js"),O=c(
/*! ./handlers/HttpListHandler */
"./src/streaming/metrics/metrics/handlers/HttpListHandler.js"),b=c(
/*! ./handlers/GenericMetricHandler */
"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js");function F(L){var D,m=(L=L||{}).debug?L.debug.getLogger(D):{},h=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,g=this.context,v={BufferLevel:t.default,DVBErrors:E.default,HttpList:O.default,PlayList:b.default,RepSwitchList:b.default,TcpList:b.default};return{create:function A(V,k){var C,R=V.match(h);if(R){try{(C=v[R[1]](g).create({eventBus:L.eventBus,metricsConstants:L.metricsConstants})).initialize(R[1],k,R[3],R[5])}catch(w){C=null,m.error("MetricsHandlerFactory: Could not create handler for type ".concat(R[1]," with args ").concat(R[3],", ").concat(R[5]," (").concat(w.message,")"))}return C}},register:function U(V,k){v[V]=k},unregister:function P(V){delete v[V]}}}F.__dashjs_factory_name="MetricsHandlerFactory",x.default=dashjs.FactoryMaker.getSingletonFactory(F)},"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function E(O){O=O||{};var F,L,D,m,h,g=this.context,v=Object(t.default)(g).getInstance(),A=[],U=O.metricsConstants;function V(){var w=function P(){try{return Object.keys(A).map(function(w){return A[w]}).reduce(function(w,T){return w.level<T.level?w:T})}catch{return}}();w&&h!==w.t&&(h=w.t,F.report(D,w))}return{initialize:function k(w,T,N){T&&(L=v.validateN(N),F=T,D=v.reconstructFullMetricName(w,N),m=setInterval(V,L))},reset:function R(){clearInterval(m),m=null,L=0,F=null,h=null},handleNewMetric:function C(w,T,N){w===U.BUFFER_LEVEL&&(A[N]=T)}}}E.__dashjs_factory_name="BufferLevelHandler",x.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js":
/*!********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js ***!
                  \********************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");x.default=dashjs.FactoryMaker.getClassFactory(function E(O){var F,L=(O=O||{}).eventBus,D=O.metricsConstants;function m(){L.off(t.default.METRICS_INITIALISATION_COMPLETE,m,this),L.trigger(t.default.BECAME_REPORTING_PLAYER)}return{initialize:function h(A,U){U&&(F=U,L.on(t.default.METRICS_INITIALISATION_COMPLETE,m,this))},reset:function g(){F=null},handleNewMetric:function v(A,U){A===D.DVB_ERRORS&&F&&F.report(A,U)}}})},"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js ***!
                  \************************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(){var O,b;return{initialize:function F(m,h){O=m,b=h},reset:function L(){b=null,O=void 0},handleNewMetric:function D(m,h){m===O&&b&&b.report(O,h)}}}c.r(x),t.__dashjs_factory_name="GenericMetricHandler",x.default=dashjs.FactoryMaker.getClassFactory(t)},"./src/streaming/metrics/metrics/handlers/HttpListHandler.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/HttpListHandler.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function E(O){O=O||{};var F,L,D,m,h,g=[],v=Object(t.default)(this.context).getInstance(),A=O.metricsConstants;function U(){g.length&&F&&F.report(m,g),g=[]}return{initialize:function P(R,C,w,T){C&&(L=v.validateN(w),F=C,T&&T.length&&(D=T),m=v.reconstructFullMetricName(R,w,T),h=setInterval(U,L))},reset:function V(){clearInterval(h),h=null,L=null,D=null,g=[],F=null},handleNewMetric:function k(R,C){R===A.HTTP_REQUEST&&(!D||D===C.type)&&g.push(C)}}}E.__dashjs_factory_name="HttpListHandler",x.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/reporting/ReportingFactory.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/ReportingFactory.js ***!
                  \*************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./reporters/DVBReporting */
"./src/streaming/metrics/reporting/reporters/DVBReporting.js");function E(O){var L,b={"urn:dvb:dash:reporting:2014":t.default},F=this.context,D=(O=O||{}).debug?O.debug.getLogger(L):{},m=O.metricsConstants,h=O.mediaPlayerModel||{};return{create:function g(U,P){var V;try{(V=b[U.schemeIdUri](F).create({metricsConstants:m,mediaPlayerModel:h})).initialize(U,P)}catch(k){V=null,D.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(U.schemeIdUri," (").concat(k.message,")"))}return V},register:function v(U,P){b[U]=P},unregister:function A(U){delete b[U]}}}E.__dashjs_factory_name="ReportingFactory",x.default=dashjs.FactoryMaker.getSingletonFactory(E)},"./src/streaming/metrics/reporting/reporters/DVBReporting.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/reporters/DVBReporting.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../utils/MetricSerialiser */
"./src/streaming/metrics/utils/MetricSerialiser.js"),E=c(
/*! ../../utils/RNG */
"./src/streaming/metrics/utils/RNG.js"),O=c(
/*! ../../../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function b(F){var L,m,h,g,v,A,U,P,D=this.context,R=[],C=(F=F||{}).metricsConstants;function B(){v=!1,A=!1,U=null,P=null}return L={report:function N(re,ae){Array.isArray(ae)||(ae=[ae]),A&&P.isEnabled()&&ae.forEach(function(Re){var z=m.serialise(Re);re!==C.DVB_ERRORS&&(z="metricname=".concat(re,"&").concat(z)),function T(re,ae,Re){var z=new XMLHttpRequest;z.withCredentials=h.getXHRWithCredentialsForType(C.HTTP_REQUEST_DVB_REPORTING_TYPE);var oe=function(){var me=R.indexOf(z);-1!==me&&(R.splice(me,1),z.status>=200&&z.status<300?ae&&ae():Re&&Re())};R.push(z);try{z.open("GET",re),z.onloadend=oe,z.onerror=oe,z.send()}catch{z.onerror()}}(z="".concat(U,"?").concat(z),null,function(){A=!1})})},initialize:function S(re,ae){var Re;if(P=ae,!(U=re.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");v||((Re=re.dvb_probability)&&(1e3===Re||Re/1e3>=g.random())&&(A=!0),v=!0)},reset:function Y(){B()}},function w(){m=Object(t.default)(D).getInstance(),g=Object(E.default)(D).getInstance(),h=Object(O.default)(D).getInstance(),B()}(),L}b.__dashjs_factory_name="DVBReporting",x.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/utils/DVBErrorsTranslator.js":
/*!************************************************************!*\
                  !*** ./src/streaming/metrics/utils/DVBErrorsTranslator.js ***!
                  \************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../vo/DVBErrors */
"./src/streaming/metrics/vo/DVBErrors.js"),E=c(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function O(b){var F,L,D=(b=b||{}).eventBus,m=b.dashMetrics,h=b.metricsConstants,g=b.events;function v(T){var N=new t.default;if(L){for(var S in T)T.hasOwnProperty(S)&&(N[S]=T[S]);N.mpdurl||(N.mpdurl=L.originalUrl||L.url),N.terror||(N.terror=new Date),m.addDVBErrors(N)}}function A(T){T.error||(L=T.manifest)}function U(T){v({errorcode:t.default.BASE_URL_CHANGED,servicelocation:T.entry})}function P(){v({errorcode:t.default.BECAME_REPORTER})}function k(T){T.metric===h.HTTP_REQUEST&&function V(T){(0===T.responsecode||null==T.responsecode||T.responsecode>=400||T.responsecode<100||T.responsecode>=600)&&v({errorcode:T.responsecode||t.default.CONNECTION_ERROR,url:T.url,terror:T.tresponse,servicelocation:T._serviceLocation})}(T.value)}function R(T){var S;switch(T.error?T.error.code:0){case MediaError.MEDIA_ERR_NETWORK:S=t.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:S=t.default.CORRUPT_MEDIA_OTHER;break;default:return}v({errorcode:S})}return F={initialise:function C(){D.on(g.MANIFEST_UPDATED,A,F),D.on(g.SERVICE_LOCATION_BLACKLIST_CHANGED,U,F),D.on(g.METRIC_ADDED,k,F),D.on(g.METRIC_UPDATED,k,F),D.on(g.PLAYBACK_ERROR,R,F),D.on(E.default.BECAME_REPORTING_PLAYER,P,F)},reset:function w(){D.off(g.MANIFEST_UPDATED,A,F),D.off(g.SERVICE_LOCATION_BLACKLIST_CHANGED,U,F),D.off(g.METRIC_ADDED,k,F),D.off(g.METRIC_UPDATED,k,F),D.off(g.PLAYBACK_ERROR,R,F),D.off(E.default.BECAME_REPORTING_PLAYER,P,F)}}}O.__dashjs_factory_name="DVBErrorsTranslator",x.default=dashjs.FactoryMaker.getSingletonFactory(O)},"./src/streaming/metrics/utils/HandlerHelpers.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/metrics/utils/HandlerHelpers.js ***!
                  \*******************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(){return{reconstructFullMetricName:function(O,b,F){var L=O;return b&&(L+="("+b,F&&F.length&&(L+=","+F),L+=")"),L},validateN:function(O){if(!O)throw new Error("missing n");if(isNaN(O))throw new Error("n is NaN");if(O<0)throw new Error("n must be positive");return O}}}c.r(x),t.__dashjs_factory_name="HandlerHelpers",x.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/utils/ManifestParsing.js":
/*!********************************************************!*\
                  !*** ./src/streaming/metrics/utils/ManifestParsing.js ***!
                  \********************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../vo/Metrics */
"./src/streaming/metrics/vo/Metrics.js"),E=c(
/*! ../vo/Range */
"./src/streaming/metrics/vo/Range.js"),O=c(
/*! ../vo/Reporting */
"./src/streaming/metrics/vo/Reporting.js");function b(F){var D=(F=F||{}).adapter,m=F.constants;return{getMetrics:function g(v){var A=[];return v&&v.Metrics_asArray&&v.Metrics_asArray.forEach(function(U){var P=new t.default,V=D.getIsDynamic(v);U.hasOwnProperty("metrics")&&(P.metrics=U.metrics,U.Range_asArray&&U.Range_asArray.forEach(function(k){var R=new E.default;R.starttime=function h(v,A,U){var P,V,k=0;return A?k=D.getAvailabilityStartTime(v)/1e3:(P=D.getRegularPeriods(v)).length&&(k=P[0].start),V=k,U&&U.hasOwnProperty(m.START_TIME)&&(V+=U.starttime),V}(v,V,k),R.duration=k.hasOwnProperty("duration")?k.duration:D.getDuration(v),R._useWallClockTime=V,P.Range.push(R)}),U.Reporting_asArray&&(U.Reporting_asArray.forEach(function(k){var R=new O.default;k.hasOwnProperty(m.SCHEME_ID_URI)&&(R.schemeIdUri=k.schemeIdUri,k.hasOwnProperty("value")&&(R.value=k.value),k.hasOwnProperty(m.DVB_REPORTING_URL)&&(R.dvb_reportingUrl=k[m.DVB_REPORTING_URL]),k.hasOwnProperty(m.DVB_PROBABILITY)&&(R.dvb_probability=k[m.DVB_PROBABILITY]),P.Reporting.push(R))}),A.push(P)))}),A}}}b.__dashjs_factory_name="ManifestParsing",x.default=dashjs.FactoryMaker.getSingletonFactory(b)},"./src/streaming/metrics/utils/MetricSerialiser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/utils/MetricSerialiser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(){return{serialise:function E(O){var L,D,b=[],F=[];for(L in O)if(O.hasOwnProperty(L)&&0!==L.indexOf("_")){if(null==(D=O[L])&&(D=""),Array.isArray(D)){if(!D.length)continue;F=[],D.forEach(function(m){var h="Object"!==Object.prototype.toString.call(m).slice(8,-1);F.push(h?m:E(m))}),D=F.map(encodeURIComponent).join(",")}else"string"==typeof D?D=encodeURIComponent(D):D instanceof Date?D=D.toISOString():"number"==typeof D&&(D=Math.round(D));b.push(L+"="+D)}return b.join("&")}}}c.r(x),t.__dashjs_factory_name="MetricSerialiser",x.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/utils/RNG.js":
/*!********************************************!*\
                  !*** ./src/streaming/metrics/utils/RNG.js ***!
                  \********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(){var L,D,m,E=window.crypto||window.msCrypto,O=Uint32Array,b=Math.pow(2,8*O.BYTES_PER_ELEMENT)-1,F=10;function h(){E&&(L||(L=new O(F)),E.getRandomValues(L),D=0)}return m={random:function g(v,A){var U;return v||(v=0),A||(A=1),E?(D===L.length&&h(),U=L[D]/b,D+=1):U=Math.random(),U*(A-v)+v}},h(),m}c.r(x),t.__dashjs_factory_name="RNG",x.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/vo/DVBErrors.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/DVBErrors.js ***!
                  \***********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x);var D=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null});D.SSL_CONNECTION_FAILED_PREFIX="SSL",D.DNS_RESOLUTION_FAILED="C00",D.HOST_UNREACHABLE="C01",D.CONNECTION_REFUSED="C02",D.CONNECTION_ERROR="C03",D.CORRUPT_MEDIA_ISOBMFF="M00",D.CORRUPT_MEDIA_OTHER="M01",D.BASE_URL_CHANGED="F00",D.BECAME_REPORTER="S00",x.default=D},"./src/streaming/metrics/vo/Metrics.js":
/*!*********************************************!*\
                  !*** ./src/streaming/metrics/vo/Metrics.js ***!
                  \*********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.metrics="",this.Range=[],this.Reporting=[]})},"./src/streaming/metrics/vo/Range.js":
/*!*******************************************!*\
                  !*** ./src/streaming/metrics/vo/Range.js ***!
                  \*******************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1})},"./src/streaming/metrics/vo/Reporting.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/Reporting.js ***!
                  \***********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}function E(h,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,b(A.key),A)}}function O(h,g,v){return g&&E(h.prototype,g),v&&E(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}function b(h){var g=function F(h,g){if("object"!==t(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(h)}(h,"string");return"symbol"===t(g)?g:String(g)}c.r(x);x.default=O(function h(){(function L(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,h),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3})},"./src/streaming/models/BaseURLTreeModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/BaseURLTreeModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function O(A){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"==typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(A)}function b(A,U){for(var P=0;P<U.length;P++){var V=U[P];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(A,L(V.key),V)}}function F(A,U,P){return U&&b(A.prototype,U),P&&b(A,P),Object.defineProperty(A,"prototype",{writable:!1}),A}function L(A){var U=function D(A,U){if("object"!==O(A)||null===A)return A;var P=A[Symbol.toPrimitive];if(void 0!==P){var V=P.call(A,U||"default");if("object"!==O(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===U?String:Number)(A)}(A,"string");return"symbol"===O(U)?U:String(U)}var h=NaN,g=F(function A(U,P){(function m(A,U){if(!(A instanceof U))throw new TypeError("Cannot call a class as a function")})(this,A),this.data={baseUrls:U||null,selectedIdx:P||h},this.children=[]});function v(){var A,U,P,V=this.context,k=Object(t.default)(V).getInstance();function T(Re,z,oe){var H=P.getBaseURLsFromElement(oe);Re[z]?k.areEqual(H,Re[z].data.baseUrls)||(Re[z].data.baseUrls=H,Re[z].data.selectedIdx=h):Re[z]=new g(H)}function N(Re){!function w(){if(!P||!P.hasOwnProperty("getBaseURLsFromElement")||!P.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var z=P.getBaseURLsFromElement(Re);k.areEqual(z,U.data.baseUrls)||(U.data.baseUrls=z,U.data.selectedIdx=h),Re&&Re.Period_asArray&&Re.Period_asArray.forEach(function(oe,H){T(U.children,H,oe),oe.AdaptationSet_asArray&&oe.AdaptationSet_asArray.forEach(function(me,te){T(U.children[H].children,te,me),me.Representation_asArray&&me.Representation_asArray.sort(P.getRepresentationSortFunction()).forEach(function(ue,Se){T(U.children[H].children[te].children,Se,ue)})})})}function S(Re,z){var oe=z||U;Re(oe.data),oe.children&&oe.children.forEach(function(H){return S(Re,H)})}function re(){U=new g}return A={reset:re,update:function Y(Re){N(Re)},getForPath:function ae(Re){var z=U,oe=[z.data];return Re&&Re.forEach(function(H){(z=z.children[H])&&oe.push(z.data)}),oe.filter(function(H){return H.baseUrls.length})},invalidateSelectedIndexes:function B(Re){S(function(z){isNaN(z.selectedIdx)||Re===z.baseUrls[z.selectedIdx].serviceLocation&&(z.selectedIdx=h)})},setConfig:function C(Re){Re.adapter&&(P=Re.adapter)}},function R(){re()}(),A}v.__dashjs_factory_name="BaseURLTreeModel",x.default=E.default.getClassFactory(v)},"./src/streaming/models/CmcdModel.js":
/*!*******************************************!*\
                  !*** ./src/streaming/models/CmcdModel.js ***!
                  \*******************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),O=c(
/*! ../metrics/MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),L=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),D=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),m=c(
/*! ../../dash/models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),h=c(
/*! ../../core/Utils */
"./src/core/Utils.js");function g(T,N){var S=typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(!S){if(Array.isArray(T)||(S=function v(T,N){if(T){if("string"==typeof T)return A(T,N);var S=Object.prototype.toString.call(T).slice(8,-1);if("Object"===S&&T.constructor&&(S=T.constructor.name),"Map"===S||"Set"===S)return Array.from(T);if("Arguments"===S||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return A(T,N)}}(T))||N&&T&&"number"==typeof T.length){S&&(T=S);var B=0,Y=function(){};return{s:Y,n:function(){return B>=T.length?{done:!0}:{done:!1,value:T[B++]}},e:function(oe){throw oe},f:Y}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Re,re=!0,ae=!1;return{s:function(){S=S.call(T)},n:function(){var oe=S.next();return re=oe.done,oe},e:function(oe){ae=!0,Re=oe},f:function(){try{!re&&null!=S.return&&S.return()}finally{if(ae)throw Re}}}}function A(T,N){(null==N||N>T.length)&&(N=T.length);for(var S=0,B=new Array(N);S<N;S++)B[S]=T[S];return B}var V_MANIFEST="m",V_AUDIO="a",V_VIDEO="v",V_INIT="i",V_CAPTION="c",V_ISOBMFF_TEXT_TRACK="tt",V_ENCRYPTION_KEY="k",V_OTHER="o",k_DASH="d",k_MSS="s",R_VOD="v",R_LIVE="l";function w(){var T,N,S,B,Y,re,ae,Re,z,oe,H=this.context,me=Object(t.default)(H).getInstance(),te=Object(F.default)(H).getInstance();function le(){S={pr:1,nor:null,st:null,sf:null,sid:"".concat(h.default.generateUuid()),cid:null},z={},Re={},oe={},we()}function Me(){we()}function we(){if(re){var $e=re.getStreamController();if($e&&"function"==typeof $e.getActiveStream){var ct=$e.getActiveStream();ct&&(ae=ct.getProcessors())}}}function Pe($e,ct){var Pt,It={},_t=g(ct);try{for(_t.s();!(Pt=_t.n()).done;){var Vt=Pt.value;$e[Vt]&&(It[Vt]=$e[Vt])}}catch($t){_t.e($t)}finally{_t.f()}return It}function Ue($e){var ct=te.get().streaming.cmcd.enabledKeys;return $e.filter(function(It){return ct.includes(It)})}function ze($e){try{return $e.type===D.HTTPRequest.MPD_TYPE?function Ae(){var $e=$();return $e.ot=V_MANIFEST,$e}():$e.type===D.HTTPRequest.MEDIA_SEGMENT_TYPE?(function K($e){oe.hasOwnProperty($e)||(oe[$e]=!1),Re.hasOwnProperty($e)||(Re[$e]=!1),z.hasOwnProperty($e)||(z[$e]=!1)}($e.mediaType),function ye($e){var Un,ct=$(),It=function Z($e){try{return parseInt($e.mediaInfo.bitrateList[$e.quality].bandwidth/1e3)}catch{return null}}($e),_t=function X($e){try{return isNaN($e.duration)?null:Math.round(1e3*$e.duration)}catch{return null}}($e),Pt=function Q($e){try{return 100*parseInt(B.getThroughputHistory().getSafeAverageThroughput($e)/100)}catch{return null}}($e.mediaType),Vt=function q($e){try{var ct=S.pr,It=Y.getCurrentBufferLevel($e);return isNaN(ct)||isNaN(It)?null:100*parseInt(It/ct*10)}catch{return null}}($e.mediaType),$t=J($e.mediaType),Qt=function W($e){try{var ct=B.getTopBitrateInfoFor($e);return Math.round(ct.bitrate/1e3)}catch{return null}}($e.mediaType),dn=S.pr,pn=function Be($e){if(ae&&0!==ae.length){var It,ct=g(ae);try{for(ct.s();!(It=ct.n()).done;){var _t=It.value;if(_t.getType()===$e)return _t.probeNextRequest()}}catch(Pt){ct.e(Pt)}finally{ct.f()}}}($e.mediaType);$e.mediaType===L.default.VIDEO&&(Un=V_VIDEO),$e.mediaType===L.default.AUDIO&&(Un=V_AUDIO),$e.mediaType===L.default.TEXT&&(Un="application/mp4"===$e.mediaInfo.mimeType?V_ISOBMFF_TEXT_TRACK:V_CAPTION);var ot=te.get().streaming.cmcd.rtp;return ot||(ot=function Ze($e){var ct=re.getPlaybackRate();ct||(ct=1);var It=$e.quality,Pt=$e.mediaInfo,Vt=$e.duration,$t=J($e.mediaType);0===$t&&($t=500);var Un=Pt.bitrateList[It].bandwidth*Vt/1e3/($t/ct/1e3),ot=te.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(te.get().streaming.cmcd.rtpSafetyFactor)?te.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(Un*ot/100)+1)}($e)),ct.rtp=ot,pn&&($e.url!==pn.url?ct.nor=encodeURIComponent(h.default.getRelativeUrl($e.url,pn.url)):pn.range&&(ct.nrr=pn.range)),It&&(ct.br=It),Un&&(ct.ot=Un),isNaN(_t)||(ct.d=_t),isNaN(Pt)||(ct.mtp=Pt),isNaN(Vt)||(ct.dl=Vt),isNaN($t)||(ct.bl=$t),isNaN(Qt)||(ct.tb=Qt),!isNaN(dn)&&1!==dn&&(ct.pr=dn),z[$e.mediaType]&&(ct.bs=!0,z[$e.mediaType]=!1),(Re[$e.mediaType]||!oe[$e.mediaType])&&(ct.su=!0,Re[$e.mediaType]=!1,oe[$e.mediaType]=!0),ct}($e)):$e.type===D.HTTPRequest.INIT_SEGMENT_TYPE?function ie(){var $e=$();return $e.ot=V_INIT,$e.su=!0,$e}():$e.type===D.HTTPRequest.OTHER_TYPE||$e.type===D.HTTPRequest.XLINK_EXPANSION_TYPE?function he(){var $e=$();return $e.ot=V_OTHER,$e}():$e.type===D.HTTPRequest.LICENSE?function He($e){var ct=$();return ct.ot=V_ENCRYPTION_KEY,ct}():null}catch{return null}}function $(){var $e={},ct=te.get().streaming.cmcd.cid?te.get().streaming.cmcd.cid:S.cid;return $e.v=1,$e.sid=te.get().streaming.cmcd.sid?te.get().streaming.cmcd.sid:S.sid,$e.sid="".concat($e.sid),ct&&($e.cid="".concat(ct)),!isNaN(S.pr)&&1!==S.pr&&null!==S.pr&&($e.pr=S.pr),S.st&&($e.st=S.st),S.sf&&($e.sf=S.sf),$e}function J($e){try{var ct=Y.getCurrentBufferLevel($e);return isNaN(ct)?null:100*parseInt(10*ct)}catch{return null}}function de($e){try{S.pr=$e.playbackRate}catch{}}function pe($e){try{var ct=T.getIsDynamic($e.data),_t=$e.protocol&&"MSS"===$e.protocol?k_MSS:k_DASH;S.st="".concat(ct?R_LIVE:R_VOD),S.sf="".concat(_t)}catch{}}function ce($e){try{$e.state&&$e.mediaType&&$e.state===E.default.BUFFER_EMPTY&&(z[$e.mediaType]||(z[$e.mediaType]=!0),Re[$e.mediaType]||(Re[$e.mediaType]=!0))}catch{}}function Ce(){for(var $e in z)z.hasOwnProperty($e)&&(z[$e]=!0);for(var ct in Re)Re.hasOwnProperty(ct)&&(Re[ct]=!0)}function Ye($e){try{if(!$e)return null;var ct=Object.keys($e).sort(function(Pt,Vt){return Pt.localeCompare(Vt)}),It=ct.length,_t=ct.reduce(function(Pt,Vt,$t){return"v"===Vt&&1===$e[Vt]||(Pt+="string"==typeof $e[Vt]&&"ot"!==Vt&&"sf"!==Vt&&"st"!==Vt?"".concat(Vt,"=").concat(JSON.stringify($e[Vt])):"".concat(Vt,"=").concat($e[Vt]),$t<It-1&&(Pt+=",")),Pt},"");return(_t=_t.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return N={getQueryParameter:function _e($e){try{if(te.get().streaming.cmcd&&te.get().streaming.cmcd.enabled){var ct=ze($e),_t=Ye(function Le($e){try{var ct=te.get().streaming.cmcd.enabledKeys;return Object.keys($e).filter(function(It){return ct.includes(It)}).reduce(function(It,_t){return It[_t]=$e[_t],It},{})}catch{return $e}}(ct));return me.trigger(O.default.CMCD_DATA_GENERATED,{url:$e.url,mediaType:$e.mediaType,cmcdData:ct,cmcdString:_t}),{key:"CMCD",value:_t}}return null}catch{return null}},getHeaderParameters:function Oe($e){try{if(te.get().streaming.cmcd&&te.get().streaming.cmcd.enabled){var ct=ze($e),It=Pe(ct,Ue(["br","d","ot","tb"])),_t=Pe(ct,Ue(["bl","dl","mtp","nor","nrr","su"])),Pt=Pe(ct,Ue(["bs","rtp"])),Vt=Pe(ct,Ue(["cid","pr","sf","sid","st","v"])),$t={"CMCD-Object":Ye(It),"CMCD-Request":Ye(_t),"CMCD-Status":Ye(Pt),"CMCD-Session":Ye(Vt)};return me.trigger(O.default.CMCD_DATA_GENERATED,{url:$e.url,mediaType:$e.mediaType,cmcdData:ct,headers:$t}),$t}return null}catch{return null}},setConfig:function Ie($e){$e&&($e.abrController&&(B=$e.abrController),$e.dashMetrics&&(Y=$e.dashMetrics),$e.playbackController&&(re=$e.playbackController))},reset:function Qe(){me.off(E.default.PLAYBACK_RATE_CHANGED,de,this),me.off(E.default.MANIFEST_LOADED,pe,this),me.off(E.default.BUFFER_LEVEL_STATE_CHANGED,ce,N),me.off(E.default.PLAYBACK_SEEKED,Ce,N),le()},initialize:function Se(){me.on(E.default.PLAYBACK_RATE_CHANGED,de,N),me.on(E.default.MANIFEST_LOADED,pe,N),me.on(E.default.BUFFER_LEVEL_STATE_CHANGED,ce,N),me.on(E.default.PLAYBACK_SEEKED,Ce,N),me.on(E.default.PERIOD_SWITCH_COMPLETED,Me,N)}},function ue(){T=Object(m.default)(H).getInstance(),le()}(),N}w.__dashjs_factory_name="CmcdModel",x.default=b.default.getSingletonFactory(w)},"./src/streaming/models/CustomParametersModel.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/models/CustomParametersModel.js ***!
                  \*******************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../dash/vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),O=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),b=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),F=c(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),L=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function m(){var h,g,v,A,U,P,V,k,R=this.context,C=Object(O.default)(R).getInstance();function T(){A=[],U=[],P=[],k=[],V=null,g=[]}function Ie(K,ie){var he=-1;K.some(function($,Z){if($===ie)return he=Z,!0}),!(he<0)&&K.splice(he,1)}function le(K){var ie;for(ie=0;ie<k.length;ie++)if(k[ie].rulename===K)return ie;return-1}function Pe(K,ie){Ue(K,ie);var he=new t.default;he.schemeIdUri=K,he.value=ie,g.push(he)}function Ue(K,ie){Object(b.checkParameterType)(K,"string"),Object(b.checkParameterType)(ie,"string"),g.forEach(function(he,$){he.schemeIdUri===K&&he.value===ie&&g.splice($,1)})}return h={getCustomInitialTrackSelectionFunction:function re(){return V},setCustomInitialTrackSelectionFunction:function B(K){V=K},resetCustomInitialTrackSelectionFunction:function Y(){V=null},getLicenseResponseFilters:function Re(){return U},getLicenseRequestFilters:function ae(){return A},getCustomCapabilitiesFilters:function te(){return P},registerCustomCapabilitiesFilter:function ue(K){P.push(K)},registerLicenseResponseFilter:function oe(K){U.push(K)},registerLicenseRequestFilter:function z(K){A.push(K)},unregisterCustomCapabilitiesFilter:function Se(K){Ie(P,K)},unregisterLicenseResponseFilter:function me(K){Ie(U,K)},unregisterLicenseRequestFilter:function H(K){Ie(A,K)},addAbrCustomRule:function Me(K,ie,he){if("string"!=typeof K||K!==F.default.ABANDON_FRAGMENT_RULES&&K!==F.default.QUALITY_SWITCH_RULES||"string"!=typeof ie)throw L.default.BAD_ARGUMENT_ERROR;var $=le(ie);-1===$?k.push({type:K,rulename:ie,rule:he}):(k[$].type=K,k[$].rule=he)},removeAllAbrCustomRule:function _e(){k=[]},removeAbrCustomRule:function we(K){if(K){var ie=le(K);-1!==ie&&k.splice(ie,1)}else k=[]},getAbrCustomRules:function Le(){return k},addUTCTimingSource:Pe,removeUTCTimingSource:Ue,getUTCTimingSources:function Oe(){return g},clearDefaultUTCTimingSources:function ze(){g=[]},restoreDefaultUTCTimingSources:function He(){var K=C.get().streaming.utcSynchronization.defaultTimingSource;Pe(K.scheme,K.value)},setXHRWithCredentialsForType:function Ae(K,ie){K?v[K]=!!ie:Object.keys(v).forEach(function(he){Ae(he,ie)})},getXHRWithCredentialsForType:function ye(K){var ie=v[K];return void 0===ie?v.default:ie},setConfig:function S(){},reset:function N(){T()}},function w(){v={default:false},T()}(),h}m.__dashjs_factory_name="CustomParametersModel",x.default=E.default.getSingletonFactory(m)},"./src/streaming/models/FragmentModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/FragmentModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),O="loading",b="executed",L="failed";function D(h){var R,C,w,T,g=(h=h||{}).eventBus,v=h.events,A=h.dashMetrics,U=h.fragmentLoader,P=h.debug,V=h.streamInfo,k=h.type;function Y(He){var Z;return!!He&&(Z=!1,w.some(function(W){if(function($,Z){return!isNaN($.index)&&$.startTime===Z.startTime&&$.adaptationIndex===Z.adaptationIndex&&$.type===Z.type}(He,W)||function($,Z){return isNaN($.index)&&isNaN(Z.index)&&$.quality===Z.quality}(He,W)||function($,Z){return $.action===E.default.ACTION_COMPLETE&&$.action===Z.action}(He,W))return Z=!0}),Z)}function Re(He){return isNaN(He.duration)?.25:Math.min(He.duration/8,.5)}function z(He){w=w.filter(function(Ae){var ye=Re(Ae);return isNaN(Ae.startTime)||void 0!==He&&Ae.startTime>=He-ye})}function H(He,Ae){Ae<=He+.5||(w=w.filter(function(ye){var K=Re(ye);return isNaN(ye.startTime)||ye.startTime>=Ae-K||isNaN(ye.duration)||ye.startTime+ye.duration<=He+K}))}function Ie(He,Ae,ye){for(var ie=He.length-1;ie>=0;ie--){var he=He[ie],$=he.startTime,Z=$+he.duration;if(ye=isNaN(ye)?Re(he):ye,!isNaN($)&&!isNaN(Z)&&Ae+ye>=$&&Ae-ye<Z||isNaN($)&&isNaN(Ae))return he}return null}function we(He,Ae){A.addSchedulingInfo(He,Ae),A.addRequestsQueue(He.mediaType,T,w)}function _e(He){He.sender===U&&(T.splice(T.indexOf(He.request),1),He.response&&!He.error&&w.push(He.request),we(He.request,He.error?L:b),g.trigger(v.FRAGMENT_LOADING_COMPLETED,{request:He.request,response:He.response,error:He.error,sender:this},{streamId:V.id,mediaType:k}))}function Le(He){He.sender===U&&g.trigger(v.FRAGMENT_LOADING_PROGRESS,{request:He.request,response:He.response,error:He.error,sender:this},{streamId:V.id,mediaType:k})}function Pe(He){He.sender===U&&g.trigger(v.FRAGMENT_LOADING_ABANDONED,{request:He.request},{streamId:V.id,mediaType:k})}function Oe(){w=[],T=[]}return R={getStreamId:function S(){return V.id},getType:function B(){return k},getRequests:function ae(He){var ye=[];return(He?He.state instanceof Array?He.state:[He.state]:[]).forEach(function(K){var ie=function Me(He){var Ae;switch(He){case O:Ae=T;break;case b:Ae=w;break;default:Ae=[]}return Ae}(K);ye=ye.concat(function le(He,Ae){return Ae.hasOwnProperty("time")?[Ie(He,Ae.time,Ae.threshold)]:He.filter(function(ye){for(var K in Ae)if("state"!==K&&Ae.hasOwnProperty(K)&&ye[K]!=Ae[K])return!1;return!0})}(ie,He))}),ye},isFragmentLoaded:Y,isFragmentLoadedOrPending:function re(He){var K,Ae=!1,ye=0;if(!(Ae=Y(He)))for(ye=0;ye<T.length;ye++)He.url===(K=T[ye]).url&&He.startTime===K.startTime&&(Ae=!0);return Ae},removeExecutedRequestsBeforeTime:z,removeExecutedRequestsAfterTime:function oe(He){w=w.filter(function(Ae){return isNaN(Ae.startTime)||void 0!==He&&Ae.startTime<He})},syncExecutedRequestsWithBufferedRange:function me(He,Ae){if(He&&0!==He.length){for(var ye=0,K=0,ie=He.length;K<ie;K++)H(ye,He.start(K)),ye=He.end(K);Ae>0&&H(ye,Ae)}else z()},abortRequests:function te(){C.debug("abort requests"),U.abort(),T=[]},executeRequest:function ue(He){He.action===E.default.ACTION_DOWNLOAD?(we(He,O),T.push(He),function Se(He){g.trigger(v.FRAGMENT_LOADING_STARTED,{request:He},{streamId:V.id,mediaType:k}),U.load(He)}(He)):C.warn("Unknown request action.")},reset:function Ue(){g.off(v.LOADING_COMPLETED,_e,this),g.off(v.LOADING_DATA_PROGRESS,Le,this),g.off(v.LOADING_ABANDONED,Pe,this),U&&U.reset(),Oe()},resetInitialSettings:Oe,addExecutedRequest:function ze(He){w.push(He)}},function N(){C=P.getLogger(R),Oe(),g.on(v.LOADING_COMPLETED,_e,R),g.on(v.LOADING_DATA_PROGRESS,Le,R),g.on(v.LOADING_ABANDONED,Pe,R)}(),R}D.__dashjs_factory_name="FragmentModel";var m=t.default.getClassFactory(D);m.FRAGMENT_MODEL_LOADING=O,m.FRAGMENT_MODEL_EXECUTED=b,m.FRAGMENT_MODEL_CANCELED="canceled",m.FRAGMENT_MODEL_FAILED=L,t.default.updateClassFactory(D.__dashjs_factory_name,m),x.default=m},"./src/streaming/models/LowLatencyThroughputModel.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/models/LowLatencyThroughputModel.js ***!
                  \***********************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function O(){var g,v,h=this.context,A={};function U(){v=Object(t.default)(h).getInstance().getLogger(g)}function P(w){for(var T={},N=0,S=0,B=0,Y=0,re=w.length,ae=0;ae<re;++ae)N+=w[ae].chunkDownloadTimeRelativeMS,S+=w[ae].bufferLevel,B+=w[ae].chunkDownloadTimeRelativeMS*w[ae].bufferLevel,Y+=w[ae].chunkDownloadTimeRelativeMS*w[ae].chunkDownloadTimeRelativeMS;return T.m=(B-N*S/re)/(Y-N*N/re),T.b=S/re-T.m*N/re,function(Re){return T.m*Re+T.b}}function V(w){var N,T=!0,S=w.reduce(function(B,Y){return B+Y.bufferLevelAtSegmentEnd},0)/w.length;return w.forEach(function(B){Math.abs(B.bufferLevelAtSegmentEnd/B.bufferLevelAtSegmentStart)<.95&&(T=!1),B.bufferLevelAtSegmentEnd/S<.8&&(T=!1),N?N>B.bitrate&&(T=!1):N=B.bitrate}),T}return g={setup:U,addMeasurement:function C(w,T,N,S,B){w&&w.mediaType&&!A[w.mediaType]&&(A[w.mediaType]=[]);var Y=w.mediaInfo.bitrateList.find(function(re){return re.id===w.representationId});A[w.mediaType].push({index:w.index,repId:w.representationId,mediaType:w.mediaType,requestTimeMS:S,adjustedAvailabilityStartTimeMS:w.availabilityStartTime.getTime(),segDurationMS:1e3*w.duration,chunksDurationMS:N.reduce(function(re,ae){return re+ae.chunkDownloadDurationMS},0),segmentBytes:N.reduce(function(re,ae){return re+ae.chunkBytes},0),bitrate:Y&&Y.bandwidth,bitrateList:w.mediaInfo.bitrateList,chunkMeasurements:N,fetchDownloadDurationMS:T,throughputCapacityDelayMS:B,getEstimatedBufferLevel:P(N.slice(1))}),A[w.mediaType].length>10&&A[w.mediaType].shift()},getThroughputCapacityDelayMS:function R(w,T){var N=A[w.mediaType]&&A[w.mediaType].slice(-3);return!N||N.length<3||!V(N)?0:T/4>250?250:T/4},getEstimatedDownloadDurationMS:function k(w){var T=A[w.mediaType].slice(-1).pop(),N=A[w.mediaType].slice(-3),S=T.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;T.bufferLevelAtSegmentStart=T.getEstimatedBufferLevel(S/2),T.bufferLevelAtSegmentEnd=T.getEstimatedBufferLevel(S);var B=V(N),Y=B?.6:.8;if(T.isBufferStable&&1.05*T.segDurationMS<T.fetchDownloadDurationMS)return T.fetchDownloadDurationMS;if(!B||T.segDurationMS<T.fetchDownloadDurationMS||T.adjustedAvailabilityStartTimeMS<=T.requestTimeMS+T.throughputCapacityDelayMS-T.segDurationMS)return.8*T.fetchDownloadDurationMS;for(var re=T.requestTimeMS+T.throughputCapacityDelayMS-T.adjustedAvailabilityStartTimeMS,ae=0,Re=0,z=0,oe=0;oe<T.chunkMeasurements.length;oe++){var H=T.chunkMeasurements[oe];if(re<Re+H.chunkDownloadDurationMS)break;Re+=H.chunkDownloadDurationMS,ae+=H.chunkBytes,z++}if(re<0&&v.warn("request time was before adjusted availibitly start time"),ae&&Re&&z>.2*T.chunkMeasurements.length){var te=T.segmentBytes/(ae/Re);return T.fetchDownloadDurationMS<te?T.fetchDownloadDurationMS*Y:te*Y}var ue=T.bitrate;return T.bitrateList.some(function(Se){if(Se.bandwidth>T.bitrate)return ue=Se.bandwidth,!0}),ue===T.bitrate?T.fetchDownloadDurationMS*Y:Y*T.segmentBytes*8*1e3/ue}},U(),g}O.__dashjs_factory_name="LowLatencyThroughputModel",x.default=E.default.getSingletonFactory(O)},"./src/streaming/models/ManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/ManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),O=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var m,F=this.context,L=Object(t.default)(F).getInstance();return{getValue:function h(){return m},setValue:function g(v){m=v,v&&L.trigger(E.default.MANIFEST_LOADED,{data:v})}}}b.__dashjs_factory_name="ManifestModel",x.default=O.default.getSingletonFactory(b)},"./src/streaming/models/MediaPlayerModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/MediaPlayerModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),O=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),v=-.5;function U(){var P,V,k,R,C=this.context,w=Object(O.default)(C).getInstance();function S(ue,Se){return isNaN(ue)?0:ue>0?(Se&&V.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):ue<v?(Se&&V.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(v,": ").concat(-50,"% playback speed.")),v):ue}function B(ue,Se){return isNaN(ue)?0:ue<0?(Se&&V.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):ue>1?(Se&&V.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):ue}function oe(){var ue=w.get().streaming.buffer.stableBufferTime>0?w.get().streaming.buffer.stableBufferTime:w.get().streaming.buffer.fastSwitchEnabled?20:12,Se=k.getLiveDelay();return!isNaN(Se)&&Se>0?Math.min(ue,Se):ue}return P={getCatchupMaxDrift:function Y(){if(!isNaN(w.get().streaming.liveCatchup.maxDrift)&&w.get().streaming.liveCatchup.maxDrift>0)return w.get().streaming.liveCatchup.maxDrift;var ue=R.getServiceDescriptionSettings();return ue&&ue.liveCatchup&&!isNaN(ue.liveCatchup.maxDrift)&&ue.liveCatchup.maxDrift>0?ue.liveCatchup.maxDrift:12},getCatchupModeEnabled:function ae(){return null!==w.get().streaming.liveCatchup.enabled?w.get().streaming.liveCatchup.enabled:k.getInitialCatchupModeActivated()},getStableBufferTime:oe,getInitialBufferLevel:function z(){var ue=w.get().streaming.buffer.initialBufferLevel;return isNaN(ue)||ue<0?0:Math.min(oe(),ue)},getRetryAttemptsForType:function H(ue){var Se=isNaN(w.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:w.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return k.getLowLatencyModeEnabled()?w.get().streaming.retryAttempts[ue]*Se:w.get().streaming.retryAttempts[ue]},getRetryIntervalsForType:function me(ue){var Se=isNaN(w.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:w.get().streaming.retryIntervals.lowLatencyReductionFactor;return k.getLowLatencyModeEnabled()?w.get().streaming.retryIntervals[ue]/Se:w.get().streaming.retryIntervals[ue]},getCatchupPlaybackRates:function re(ue){var Se=w.get().streaming.liveCatchup.playbackRate;if(!isNaN(Se.min)||!isNaN(Se.max))return{min:S(Se.min,ue),max:B(Se.max,ue)};var Ie=R.getServiceDescriptionSettings();if(Ie&&Ie.liveCatchup&&(!isNaN(Ie.liveCatchup.playbackRate.min)||!isNaN(Ie.liveCatchup.playbackRate.max))){var le=Ie.liveCatchup.playbackRate;return{min:S(le.min,ue),max:B(le.max,ue)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function Re(ue,Se){try{var Ie=w.get().streaming.abr[ue][Se];if(!isNaN(Ie)&&-1!==Ie)return Ie;var le=R.getServiceDescriptionSettings();return le&&le[ue]&&!isNaN(le[ue][Se])?le[ue][Se]:-1}catch{return-1}},setConfig:function N(ue){ue.playbackController&&(k=ue.playbackController),ue.serviceDescriptionController&&(R=ue.serviceDescriptionController)},reset:function te(){}},function T(){V=Object(t.default)(C).getInstance().getLogger(P)}(),P}U.__dashjs_factory_name="MediaPlayerModel",x.default=E.default.getSingletonFactory(U)},"./src/streaming/models/MetricsModel.js":
/*!**********************************************!*\
                  !*** ./src/streaming/models/MetricsModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),O=c(
/*! ../vo/MetricsList */
"./src/streaming/vo/MetricsList.js"),b=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=c(
/*! ../vo/metrics/RepresentationSwitch */
"./src/streaming/vo/metrics/RepresentationSwitch.js"),L=c(
/*! ../vo/metrics/BufferLevel */
"./src/streaming/vo/metrics/BufferLevel.js"),D=c(
/*! ../vo/metrics/BufferState */
"./src/streaming/vo/metrics/BufferState.js"),m=c(
/*! ../vo/metrics/DVRInfo */
"./src/streaming/vo/metrics/DVRInfo.js"),h=c(
/*! ../vo/metrics/DroppedFrames */
"./src/streaming/vo/metrics/DroppedFrames.js"),g=c(
/*! ../vo/metrics/ManifestUpdate */
"./src/streaming/vo/metrics/ManifestUpdate.js"),v=c(
/*! ../vo/metrics/SchedulingInfo */
"./src/streaming/vo/metrics/SchedulingInfo.js"),A=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),U=c(
/*! ../vo/metrics/RequestsQueue */
"./src/streaming/vo/metrics/RequestsQueue.js"),P=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),V=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function k(R){var N,S,C=(R=R||{}).settings,w=this.context,T=Object(A.default)(w).getInstance();function Y(){T.trigger(P.default.METRICS_CHANGED)}function re(K){T.trigger(P.default.METRIC_CHANGED,{mediaType:K}),Y()}function ae(K,ie,he){T.trigger(P.default.METRIC_UPDATED,{mediaType:K,metric:ie,value:he}),re(K)}function Re(K,ie,he){T.trigger(P.default.METRIC_ADDED,{mediaType:K,metric:ie,value:he}),re(K)}function H(K,ie){var he=null;return K&&(S.hasOwnProperty(K)?he=S[K]:ie||(he=new O.default,S[K]=he)),he}function me(K,ie,he){var $=H(K);null!==$&&($[ie].push(he),$[ie].length>C.get().streaming.metrics.maxListDepth&&$[ie].shift())}function Ie(K,ie,he){me(K,ie,he),Re(K,ie,he)}return N={clearCurrentMetricsForType:function z(K){delete S[K],re(K)},clearAllCurrentMetrics:function oe(){S={},Y()},getMetricsFor:H,addHttpRequest:function ue(K,ie,he,$,Z,W,X,Q,q,J,de,pe,ce,Ce,Ye,Be){var Ze=new b.HTTPRequest;W&&W!==$&&(ue(K,null,he,$,Z,null,null,Q,q,null,null,null,ce,null,null,Be),Ze.actualurl=W),Ze.tcpid=ie,Ze.type=he,Ze.url=$,Ze.range=Q,Ze.trequest=q,Ze.tresponse=J,Ze.responsecode=pe,Ze._tfinish=de,Ze._stream=K,Ze._mediaduration=ce,Ze._quality=Z,Ze._responseHeaders=Ce,Ze._serviceLocation=X,Ze._fileLoaderType=Be,Ye?Ye.forEach(function(Qe){!function te(K,ie,he,$){var Z=new b.HTTPRequestTrace;return Z.s=ie,Z.d=he,Z.b=$,K.trace.push(Z),K.interval||(K.interval=0),K.interval+=he,Z}(Ze,Qe.s,Qe.d,Qe.b)}):(delete Ze.interval,delete Ze.trace),Ie(K,E.default.HTTP_REQUEST,Ze)},addRepresentationSwitch:function Se(K,ie,he,$,Z){var W=new F.default;W.t=ie,W.mt=he,W.to=$,Z?W.lto=Z:delete W.lto,Ie(K,E.default.TRACK_SWITCH,W)},addBufferLevel:function le(K,ie,he){var $=new L.default;$.t=ie,$.level=he,Ie(K,E.default.BUFFER_LEVEL,$)},addBufferState:function Me(K,ie,he){var $=new D.default;$.target=he,$.state=ie,Ie(K,E.default.BUFFER_STATE,$)},addDVRInfo:function we(K,ie,he,$){var Z=new m.default;Z.time=ie,Z.range=$,Z.manifestInfo=he,Ie(K,E.default.DVR_INFO,Z)},addDroppedFrames:function _e(K,ie){var he=new h.default,$=H(K).DroppedFrames;ie&&(he.time=ie.creationTime,he.droppedFrames=ie.droppedVideoFrames,!($.length>0&&$[$.length-1]==he)&&Ie(K,E.default.DROPPED_FRAMES,he))},addSchedulingInfo:function Le(K,ie,he,$,Z,W,X,Q,q){var J=new v.default;J.mediaType=K,J.t=ie,J.type=he,J.startTime=$,J.availabilityStartTime=Z,J.duration=W,J.quality=X,J.range=Q,J.state=q,Ie(K,E.default.SCHEDULING_INFO,J)},addRequestsQueue:function Pe(K,ie,he){var $=new U.default;$.loadingRequests=ie,$.executedRequests=he,H(K).RequestsQueue=$,Re(K,E.default.REQUESTS_QUEUE,$)},addManifestUpdate:function Oe(K,ie,he,$,Z,W,X,Q,q,J){var de=new g.ManifestUpdate;de.mediaType=K,de.type=ie,de.requestTime=he,de.fetchTime=$,de.availabilityStartTime=Z,de.presentationStartTime=W,de.clientTimeOffset=X,de.currentTime=Q,de.buffered=q,de.latency=J,me(t.default.STREAM,E.default.MANIFEST_UPDATE,de),Re(K,E.default.MANIFEST_UPDATE,de)},updateManifestUpdateInfo:function Ue(K,ie){if(K){for(var he in ie)K[he]=ie[he];ae(K.mediaType,E.default.MANIFEST_UPDATE,K)}},addManifestUpdateStreamInfo:function ze(K,ie,he,$,Z){if(K){var W=new g.ManifestUpdateStreamInfo;W.id=ie,W.index=he,W.start=$,W.duration=Z,K.streamInfo.push(W),ae(K.mediaType,E.default.MANIFEST_UPDATE_STREAM_INFO,K)}},addManifestUpdateRepresentationInfo:function He(K,ie,he,$,Z,W,X,Q){if(K&&K.representationInfo){var q=new g.ManifestUpdateRepresentationInfo;q.id=ie,q.index=he,q.streamIndex=$,q.mediaType=Z,q.startNumber=X,q.fragmentInfoType=Q,q.presentationTimeOffset=W,K.representationInfo.push(q),ae(K.mediaType,E.default.MANIFEST_UPDATE_TRACK_INFO,K)}},addPlayList:function Ae(K){K.trace&&Array.isArray(K.trace)?K.trace.forEach(function(ie){ie.hasOwnProperty("subreplevel")&&!ie.subreplevel&&delete ie.subreplevel}):delete K.trace,Ie(t.default.STREAM,E.default.PLAY_LIST,K)},addDVBErrors:function ye(K){Ie(t.default.STREAM,E.default.DVB_ERRORS,K)}},function B(){S={}}(),N}k.__dashjs_factory_name="MetricsModel",x.default=V.default.getSingletonFactory(k)},"./src/streaming/models/URIFragmentModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/URIFragmentModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../vo/URIFragmentData */
"./src/streaming/vo/URIFragmentData.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function O(){var F;return{initialize:function L(m){if(F=new t.default,!m)return null;var h=m.indexOf("#");if(-1!==h)for(var g=m.substr(h+1).split("&"),v=0,A=g.length;v<A;++v){var U=g[v],P=U.indexOf("=");if(-1!==P){var V=U.substring(0,P);F.hasOwnProperty(V)&&(F[V]=U.substr(P+1))}}},getURIFragmentData:function D(){return F}}}O.__dashjs_factory_name="URIFragmentModel",x.default=E.default.getSingletonFactory(O)},"./src/streaming/models/VideoModel.js":
/*!********************************************!*\
                  !*** ./src/streaming/models/VideoModel.js ***!
                  \********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),O=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),F=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),L=new Map([[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function D(){var m,h,g,v,A,U,P,k=this.context,R=Object(E.default)(k).getInstance(),C=[];function S(){g&&(g.playbackRate=P||1,g.removeEventListener("canplay",S))}function Ie(){return C.length>0}function _e(){if(g&&Ie()&&0===g.playbackRate){var $e=document.createEvent("Event");$e.initEvent("waiting",!0,!1),g.dispatchEvent($e)}}function ie($e,ct){g&&g.addEventListener($e,ct)}function he($e,ct){g&&g.removeEventListener($e,ct)}function $(){return g?g.readyState:NaN}function Z(){return g?g.buffered:null}function ce($e,ct,It,_t,Pt){if(g)for(var Vt=0;Vt<g.textTracks.length;Vt++)if(g.textTracks[Vt].kind===$e&&(!ct||g.textTracks[Vt].label==ct)&&g.textTracks[Vt].language===It&&g.textTracks[Vt].isTTML===_t&&g.textTracks[Vt].isEmbedded===Pt)return g.textTracks[Vt];return null}function Ze($e,ct){$e===F.default.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||$()>=$e?ct():function Qe($e,ct){ie($e,function _t(){he($e,_t),ct($e)})}(L.get($e),ct)}return m={initialize:function T(){R.on(O.default.PLAYBACK_PLAYING,_e,this)},setCurrentTime:function Y($e,ct){v=$e,Ze(F.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(g){if(g.currentTime===v)return void(v=NaN);try{v=ct?function re($e){var ct=Z(),It=$e,_t=9999999999;if(ct)for(var Pt=0;Pt<ct.length;Pt++){var Vt=ct.start(Pt),$t=ct.end(Pt),Qt=Math.abs(Vt-$e),dn=Math.abs($t-$e);if($e>=Vt&&$e<=$t)return $e;Qt<_t&&(_t=Qt,It=Vt),dn<_t&&(_t=dn,It=$t)}return It}(v):v,g.currentTime=v,v=NaN}catch(It){0===g.readyState&&It.code===It.INVALID_STATE_ERR&&setTimeout(function(){g.currentTime=v,v=NaN},400)}}})},play:function Pe(){if(g){g.autoplay=!0;var $e=g.play();$e&&$e.catch&&typeof Promise<"u"&&$e.catch(function(ct){"NotAllowedError"===ct.name&&R.trigger(O.default.PLAYBACK_NOT_ALLOWED),h.warn("Caught pending play exception - continuing (".concat(ct,")"))})}},isPaused:function Oe(){return g?g.paused:null},pause:function Ue(){g&&(g.pause(),g.autoplay=!1)},isStalled:Ie,isSeeking:function ze(){return g?g.seeking||!isNaN(v):null},getTime:function He(){return g?isNaN(v)?g.currentTime:v:null},getPlaybackRate:function Ae(){return g?g.playbackRate:null},setPlaybackRate:function B($e){g&&(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&g.readyState<=2&&$e>0?g.addEventListener("canplay",S):g.playbackRate=$e)},getPlayedRanges:function ye(){return g?g.played:null},getEnded:function K(){return g?g.ended:null},setStallState:function Se($e,ct){!function we($e,ct){ct?function le($e){null===$e||!g||g.seeking||-1!==C.indexOf($e)||C.push($e)}($e):function Me($e){var ct=C.indexOf($e);null!==$e&&-1!==ct&&C.splice(ct,1)}($e)}($e,ct)},getElement:function ae(){return g},setElement:function Re($e){if(!(null==$e||$e&&/^(VIDEO|AUDIO)$/i.test($e.nodeName)))throw"element is not video or audio DOM type!";(g=$e)&&(g.preload="auto")},setSource:function z($e){g&&($e?g.src=$e:(g.removeAttribute("src"),g.load()))},getSource:function oe(){return g?g.src:null},getTTMLRenderingDiv:function H(){return A},setTTMLRenderingDiv:function te($e){(A=$e).style.position="absolute",A.style.display="flex",A.style.overflow="hidden",A.style.pointerEvents="none",A.style.top=0,A.style.left=0},getVttRenderingDiv:function me(){return U},setVttRenderingDiv:function ue($e){U=$e},getPlaybackQuality:function Le(){if(!g)return null;var $e="webkitDroppedFrameCount"in g&&"webkitDecodedFrameCount"in g,It=null;return"getVideoPlaybackQuality"in g?It=g.getVideoPlaybackQuality():$e&&(It={droppedVideoFrames:g.webkitDroppedFrameCount,totalVideoFrames:g.webkitDroppedFrameCount+g.webkitDecodedFrameCount,creationTime:new Date}),It},addEventListener:ie,removeEventListener:he,getReadyState:$,getBufferRange:Z,getClientWidth:function W(){return g?g.clientWidth:NaN},getClientHeight:function X(){return g?g.clientHeight:NaN},getTextTracks:function pe(){return g?g.textTracks:[]},getTextTrack:ce,addTextTrack:function Ce($e,ct,It,_t,Pt){if(!g)return null;var Vt=ce($e,ct,It,_t,Pt);return Vt||((Vt=g.addTextTrack($e,ct,It)).isEmbedded=Pt,Vt.isTTML=_t),Vt},appendChild:function Ye($e){g&&(g.appendChild($e),void 0!==$e.isTTML&&(g.textTracks[g.textTracks.length-1].isTTML=$e.isTTML,g.textTracks[g.textTracks.length-1].isEmbedded=$e.isEmbedded))},removeChild:function Be($e){g&&g.removeChild($e)},getVideoWidth:function Q(){return g?g.videoWidth:NaN},getVideoHeight:function q(){return g?g.videoHeight:NaN},getVideoRelativeOffsetTop:function J(){var $e=g.parentNode.host||g.parentNode;return $e?g.getBoundingClientRect().top-$e.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function de(){var $e=g.parentNode.host||g.parentNode;return $e?g.getBoundingClientRect().left-$e.getBoundingClientRect().left:NaN},waitForReadyState:Ze,reset:function N(){R.off(O.default.PLAYBACK_PLAYING,_e,this)}},function w(){h=Object(b.default)(k).getInstance().getLogger(m),v=NaN}(),m}D.__dashjs_factory_name="VideoModel",x.default=t.default.getSingletonFactory(D)},"./src/streaming/net/FetchLoader.js":
/*!******************************************!*\
                  !*** ./src/streaming/net/FetchLoader.js ***!
                  \******************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),O=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function F(P,V){return function m(P){if(Array.isArray(P))return P}(P)||function D(P,V){var k=null==P?null:typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(null!=k){var R,C,w,T,N=[],S=!0,B=!1;try{if(w=(k=k.call(P)).next,0===V){if(Object(k)!==k)return;S=!1}else for(;!(S=(R=w.call(k)).done)&&(N.push(R.value),N.length!==V);S=!0);}catch(Y){B=!0,C=Y}finally{try{if(!S&&null!=k.return&&(T=k.return(),Object(T)!==T))return}finally{if(B)throw C}}return N}}(P,V)||g(P,V)||function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(P,V){if(P){if("string"==typeof P)return v(P,V);var k=Object.prototype.toString.call(P).slice(8,-1);if("Object"===k&&P.constructor&&(k=P.constructor.name),"Map"===k||"Set"===k)return Array.from(P);if("Arguments"===k||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return v(P,V)}}function v(P,V){(null==V||V>P.length)&&(V=P.length);for(var k=0,R=new Array(V);k<V;k++)R[k]=P[k];return R}function A(P){var N,V=this.context,k=(P=P||{}).requestModifier,R=P.lowLatencyThroughputModel,C=P.boxParser,w=Object(E.default)(V).getInstance();function Y(H){var le,me=new Date,te=H.request,ue=new Headers;if(te.range&&ue.append("Range","bytes="+te.range),H.headers)for(var Se in H.headers){var Ie=H.headers[Se];Ie&&ue.append(Se,Ie)}te.requestStartDate||(te.requestStartDate=me),k&&k.modifyRequestHeader&&k.modifyRequestHeader({setRequestHeader:function(Oe,Ue){ue.append(Oe,Ue)}},{url:H.url}),"function"==typeof window.AbortController&&(le=new AbortController,H.abortController=le,le.signal.onabort=H.onabort);var Me={method:H.method,headers:ue,credentials:H.withCredentials?"include":void 0,signal:le?le.signal:void 0},we=w.get().streaming.abr.fetchThroughputCalculationMode,_e=Date.now(),Le=0;new Promise(function(Pe){if(we===O.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&R&&(Le=R.getThroughputCapacityDelayMS(te,1e3*N.getCurrentBufferLevel(te.mediaType))))return setTimeout(Pe,Le);Pe()}).then(function(){var Pe=Date.now();fetch(H.url,Me).then(function(Oe){H.response||(H.response={}),H.response.status=Oe.status,H.response.statusText=Oe.statusText,H.response.responseURL=Oe.url,Oe.ok||H.onerror();var He,Ue="",ze=function h(P,V){var k=typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(!k){if(Array.isArray(P)||(k=g(P))||V&&P&&"number"==typeof P.length){k&&(P=k);var R=0,C=function(){};return{s:C,n:function(){return R>=P.length?{done:!0}:{done:!1,value:P[R++]}},e:function(B){throw B},f:C}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var N,w=!0,T=!1;return{s:function(){k=k.call(P)},n:function(){var B=k.next();return w=B.done,B},e:function(B){T=!0,N=B},f:function(){try{!w&&null!=k.return&&k.return()}finally{if(T)throw N}}}}(Oe.headers.keys());try{for(ze.s();!(He=ze.n()).done;){var Ae=He.value;Ue+=Ae+": "+Oe.headers.get(Ae)+"\r\n"}}catch(Ze){ze.e(Ze)}finally{ze.f()}if(H.response.responseHeaders=Ue,!Oe.body)return Oe.arrayBuffer().then(function(Ze){H.response.response=Ze,H.progress({loaded:Ze.byteLength,total:Ze.byteLength,stream:!1}),H.onload(),H.onend()});var $e,ct,ye=parseInt(Oe.headers.get("Content-Length"),10),K=0,ie=!1,he=new Uint8Array,$=0;if(we===O.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&R){var W=Pe,X=0,q=F(Oe.body.tee(),2),de=q[1];$e=q[0].getReader(),ct=[],$e.read().then(function It(_t){var Pt=_t.value,Vt=_t.done;if(X=Date.now(),Pt&&Pt.length){var $t=X-W,Qt=Pt.length;ct.push({chunkDownloadTimeRelativeMS:X-Pe,chunkDownloadDurationMS:$t,chunkBytes:Qt,kbps:Math.round(8*Qt/($t/1e3)),bufferLevel:N.getCurrentBufferLevel(te.mediaType)})}if(Vt){var dn=X-Pe,pn=ct.reduce(function(Un,ot){return Un+ot.chunkBytes},0);return R.addMeasurement(te,dn,ct,_e,Le,Ue),void H.progress({loaded:pn,total:pn,lengthComputable:!0,time:R.getEstimatedDownloadDurationMS(te),stream:!0})}return W=Date.now(),$e.read().then(It)}),H.reader=de.getReader()}else H.reader=Oe.body.getReader();var pe=[],ce=[],Ce=[],Ye=!0;re(H,function Ze(Qe){var $e=Qe.value;if(Qe.done){if(he){if(we!==O.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var It=null,_t=null;we===O.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(It=function oe(H,me){try{var te,ue;te=H.filter(function(Pe,Oe){return Oe<H.length-1}),ue=me.filter(function(Pe,Oe){return Oe<me.length-1});var Se=[];if(te.length>1){for(var Ie=0,le=0,Me=0;Me<te.length;Me++)if(te[Me]&&ue[Me]){var we=ue[Me].ts-te[Me].ts;if(we>1)Se.push(8*ue[Me].bytes/we);else{0===le&&(le=te[Me].ts);var _e=ue[Me].ts-le;_e>1?(Se.push(8*Ie/_e),Ie=0,le=0):Ie+=ue[Me].bytes}}if(Se.length>0)return Se.reduce(function(Pe,Oe){return Pe+Oe},0)/Se.length}return null}catch{return null}}(ce,Ce))&&(_t=8*K/It):we===O.default.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(_t=z(pe,K)),H.progress({loaded:K,total:isNaN(ye)?K:ye,lengthComputable:!0,time:_t,stream:!0})}H.response.response=he.buffer}return H.onload(),void H.onend()}if($e&&$e.length>0){he=function ae(H,me){if(0===H.length)return me;var te=new Uint8Array(H.length+me.length);return te.set(H),te.set(me,H.length),te}(he,$e),K+=$e.length,pe.push({ts:Date.now(),bytes:$e.length}),we===O.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&Ye&&C.findLastTopIsoBoxCompleted(["moof"],he,$).found&&(Ye=!1,ce.push({ts:performance.now(),bytes:$e.length}));var Vt=C.findLastTopIsoBoxCompleted(["moov","mdat"],he,$);if(Vt.found){var Qt,$t=Vt.lastCompletedOffset+Vt.size;we===O.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&!Ye&&(Ye=!0,Ce.push({ts:performance.now(),bytes:he.length})),$t===he.length?(Qt=he,he=new Uint8Array):(Qt=new Uint8Array(he.subarray(0,$t)),he=he.subarray($t)),H.progress({data:Qt.buffer,lengthComputable:!1,noTrace:!0}),$=0}else $=Vt.lastCompletedOffset,ie||(H.progress({lengthComputable:!1,noTrace:!0}),ie=!0)}re(H,Ze)})}).catch(function(Oe){H.onerror&&H.onerror(Oe)})})}function re(H,me){H.reader.read().then(me).catch(function(te){H.onerror&&200===H.response.status&&H.onerror(te)})}function z(H,me){try{if((H=H.filter(function(Se){return Se.bytes>me/4/H.length})).length>1){var te=0,ue=(H[H.length-1].ts-H[0].ts)/H.length;return H.forEach(function(Se,Ie){var le=H[Ie+1];if(le){var Me=le.ts-Se.ts;te+=Me<ue?Me:0}}),te}return null}catch{return null}}return{load:function B(H){k&&k.modifyRequest?Object(b.modifyRequest)(H,k).then(function(){return Y(H)}):Y(H)},abort:function Re(H){if(H.abortController)H.abortController.abort();else if(H.reader)try{H.reader.cancel(),H.onabort()}catch{}},calculateDownloadedTime:z,setup:function S(H){N=H.dashMetrics}}}A.__dashjs_factory_name="FetchLoader";var U=t.default.getClassFactory(A);x.default=U},"./src/streaming/net/HTTPLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/net/HTTPLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./XHRLoader */
"./src/streaming/net/XHRLoader.js"),E=c(
/*! ./FetchLoader */
"./src/streaming/net/FetchLoader.js"),O=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),L=c(
/*! ../models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),D=c(
/*! ../../core/Utils */
"./src/core/Utils.js"),m=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),h=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),g=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),v=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),A=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),U=c(
/*! ../models/LowLatencyThroughputModel */
"./src/streaming/models/LowLatencyThroughputModel.js"),P=c(
/*! ../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function V(N){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(N)}function k(N,S,B){return(S=function R(N){var S=function C(N,S){if("object"!==V(N)||null===N)return N;var B=N[Symbol.toPrimitive];if(void 0!==B){var Y=B.call(N,S||"default");if("object"!==V(Y))return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)(N)}(N,"string");return"symbol"===V(S)?S:String(S)}(S))in N?Object.defineProperty(N,S,{value:B,enumerable:!0,configurable:!0,writable:!0}):N[S]=B,N}function w(N){var te,ue,Se,Ie,le,Me,we,_e,Le,S=this.context,B=(N=N||{}).errHandler,Y=N.dashMetrics,re=N.mediaPlayerModel,ae=N.requestModifier,Re=N.boxParser,z=N.errors,oe=N.requestTimeout||0,H=Object(h.default)(S).getInstance(),me=Object(v.default)(S).getInstance();function Oe(Ae,ye){var q,K=Ae.request,ie=[],he=!0,$=!0,Z=new Date,W=Z,X=0,Q=null;if(!ae||!Y||!B)throw new Error("config object is not correct or missing");var Be,J=function(Qt){if($=!1,K.requestStartDate=Z,K.requestEndDate=new Date,K.firstByteDate=K.firstByteDate||Z,K.fileLoaderType=Q,!K.checkExistenceOnly){var dn=q.response?q.response.responseURL:null,pn=q.response?q.response.status:null,Un=q.response&&q.response.getAllResponseHeaders?q.response.getAllResponseHeaders():q.response?q.response.responseHeaders:[];Y.addHttpRequest(K,dn,pn,Un,Qt?ie:null),K.type===O.HTTPRequest.MPD_TYPE&&Y.addManifestUpdate(K)}},de=function(){if(-1!==ue.indexOf(q)&&(ue.splice(ue.indexOf(q),1),$))if(J(!1),ye>0){try{me.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&K.type===O.HTTPRequest.MEDIA_SEGMENT_TYPE&&re.getRetryAttemptsForType(O.HTTPRequest.MEDIA_SEGMENT_TYPE)===ye&&H.trigger(g.default.ATTEMPT_BACKGROUND_SYNC)}catch{}ye--;var dn={config:Ae};Ie.push(dn),dn.timeout=setTimeout(function(){-1!==Ie.indexOf(dn)&&(Ie.splice(Ie.indexOf(dn),1),Oe(Ae,ye))},re.getRetryIntervalsForType(K.type))}else{if(K.type===O.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;B.error(new F.default(le[K.type],K.url+" is not available",{request:K,response:q.response})),Ae.error&&Ae.error(K,"error",q.response.statusText),Ae.complete&&Ae.complete(K,q.response.statusText)}};K.hasOwnProperty("availabilityTimeComplete")&&!1===K.availabilityTimeComplete&&window.fetch&&"arraybuffer"===K.responseType&&K.type===O.HTTPRequest.MEDIA_SEGMENT_TYPE?((Be=Object(E.default)(S).create({requestModifier:ae,lowLatencyThroughputModel:_e,boxParser:Re})).setup({dashMetrics:Y}),Q=A.default.FILE_LOADER_TYPES.FETCH):(Be=Object(t.default)(S).create({requestModifier:ae}),Q=A.default.FILE_LOADER_TYPES.XHR);var Ze=null,Qe=ae.modifyRequestURL?ae.modifyRequestURL(K.url):K.url;if(me.get().streaming.cmcd&&me.get().streaming.cmcd.enabled){var $e=me.get().streaming.cmcd.mode;if($e===A.default.CMCD_MODE_QUERY){var ct=function Ue(Ae){try{var ye=[],K=Me.getQueryParameter(Ae);return K&&ye.push(K),ye}catch{return[]}}(K);Qe=D.default.addAditionalQueryParameterToUrl(Qe,ct)}else $e===A.default.CMCD_MODE_HEADER&&(Ze=Me.getHeaderParameters(K))}K.url=Qe;var It=K.checkExistenceOnly?O.HTTPRequest.HEAD:O.HTTPRequest.GET,_t=we.getXHRWithCredentialsForType(K.type);q={url:Qe,method:It,withCredentials:_t,request:K,onload:function(){q.response.status>=200&&q.response.status<=299&&(J(!0),Ae.success&&Ae.success(q.response.response,q.response.statusText,q.response.responseURL),Ae.complete&&Ae.complete(K,q.response.statusText))},onend:de,onerror:de,progress:function(Qt){var dn=new Date;he&&(he=!1,(!Qt.lengthComputable||Qt.lengthComputable&&Qt.total!==Qt.loaded)&&(K.firstByteDate=dn)),Qt.lengthComputable&&(K.bytesLoaded=Qt.loaded,K.bytesTotal=Qt.total),Qt.noTrace||(ie.push({s:W,d:Qt.time?Qt.time:dn.getTime()-W.getTime(),b:[Qt.loaded?Qt.loaded-X:0]}),W=dn,X=Qt.loaded),Ae.progress&&Qt&&Ae.progress(Qt)},onabort:function(){Ae.abort&&Ae.abort(K)},ontimeout:function(Qt){var dn;dn=Qt.lengthComputable?"Request timeout: loaded: "+Qt.loaded+", out of: "+Qt.total+" : "+(Qt.loaded/Qt.total*100).toFixed(3)+"% Completed":"Request timeout: non-computable download size",Le.warn(dn)},loader:Be,timeout:oe,headers:Ze};var Pt=(new Date).getTime();if(isNaN(K.delayLoadingTime)||Pt>=K.delayLoadingTime)ue.push(q),Be.load(q);else{var Vt={httpRequest:q};Se.push(Vt),Vt.delayTimeout=setTimeout(function(){if(-1!==Se.indexOf(Vt)){Se.splice(Se.indexOf(Vt),1);try{W=Z=new Date,ue.push(Vt.httpRequest),Be.load(Vt.httpRequest)}catch{Vt.httpRequest.onerror()}}},K.delayLoadingTime-Pt)}}return te={load:function ze(Ae){Ae.request?Oe(Ae,re.getRetryAttemptsForType(Ae.request.type)):Ae.error&&Ae.error(Ae.request,"error")},abort:function He(){Ie.forEach(function(Ae){clearTimeout(Ae.timeout),Ae.config.request&&Ae.config.abort&&Ae.config.abort(Ae.config.request)}),Ie=[],Se.forEach(function(Ae){return clearTimeout(Ae.delayTimeout)}),Se=[],ue.forEach(function(Ae){Ae.request.type!==O.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(Ae.onloadend=Ae.onerror=Ae.onprogress=void 0,Ae.loader.abort(Ae))}),ue=[]}},function Pe(){var Ae;Le=Object(m.default)(S).getInstance().getLogger(te),ue=[],Se=[],Ie=[],Me=Object(L.default)(S).getInstance(),_e=Object(U.default)(S).getInstance(),we=Object(P.default)(S).getInstance(),k(Ae={},O.HTTPRequest.MPD_TYPE,z.DOWNLOAD_ERROR_ID_MANIFEST_CODE),k(Ae,O.HTTPRequest.XLINK_EXPANSION_TYPE,z.DOWNLOAD_ERROR_ID_XLINK_CODE),k(Ae,O.HTTPRequest.INIT_SEGMENT_TYPE,z.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),k(Ae,O.HTTPRequest.MEDIA_SEGMENT_TYPE,z.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(Ae,O.HTTPRequest.INDEX_SEGMENT_TYPE,z.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(Ae,O.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,z.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(Ae,O.HTTPRequest.OTHER_TYPE,z.DOWNLOAD_ERROR_ID_CONTENT_CODE),le=Ae}(),te}w.__dashjs_factory_name="HTTPLoader";var T=b.default.getClassFactory(w);x.default=T},"./src/streaming/net/SchemeLoaderFactory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/net/SchemeLoaderFactory.js ***!
                  \**************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../streaming/net/HTTPLoader */
"./src/streaming/net/HTTPLoader.js");function O(){var L;function h(){L={}}function v(){h()}return function A(){v()}(),{getLoader:function g(U){for(var P in L)if(L.hasOwnProperty(P)&&U.startsWith(P))return L[P];return E.default},registerLoader:function D(U,P){L[U]=P},unregisterLoader:function m(U){L[U]&&delete L[U]},unregisterAllLoader:h,reset:v}}O.__dashjs_factory_name="SchemeLoaderFactory";var b=t.default.getSingletonFactory(O);x.default=b},"./src/streaming/net/URLLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/URLLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../streaming/net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js");function O(F){F=F||{};var m,h,L=this.context;return m=Object(E.default)(L).getInstance(),{load:function g(A){if(!h){var U=m.getLoader(A&&A.request?A.request.url:null);h=U(L).create({errHandler:F.errHandler,mediaPlayerModel:F.mediaPlayerModel,requestModifier:F.requestModifier,dashMetrics:F.dashMetrics,boxParser:F.boxParser?F.boxParser:null,constants:F.constants?F.constants:null,dashConstants:F.dashConstants?F.dashConstants:null,urlUtils:F.urlUtils?F.urlUtils:null,requestTimeout:isNaN(F.requestTimeout)?0:F.requestTimeout,errors:F.errors})}h.load(A)},abort:function v(){h&&h.abort()}}}O.__dashjs_factory_name="URLLoader";var b=t.default.getClassFactory(O);x.default=b},"./src/streaming/net/XHRLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/XHRLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function O(F){var L=(F=F||{}).requestModifier;function h(v){var A=new Date,U=v.request,P=new XMLHttpRequest;if(P.open(v.method,v.url,!0),U.responseType&&(P.responseType=U.responseType),U.range&&P.setRequestHeader("Range","bytes="+U.range),U.requestStartDate||(U.requestStartDate=A),L&&L.modifyRequestHeader&&(P=L.modifyRequestHeader(P,{url:v.url})),v.headers)for(var V in v.headers){var k=v.headers[V];k&&P.setRequestHeader(V,k)}P.withCredentials=v.withCredentials,P.onload=v.onload,P.onloadend=v.onend,P.onerror=v.onerror,P.onprogress=v.progress,P.onabort=v.onabort,P.ontimeout=v.ontimeout,P.timeout=v.timeout,P.send(),v.response=P}return{load:function m(v){L&&L.modifyRequest?Object(E.modifyRequest)(v,L).then(function(){return h(v)}):h(v)},abort:function g(v){var A=v.response;A.onloadend=A.onerror=A.onprogress=void 0,A.abort()}}}O.__dashjs_factory_name="XHRLoader";var b=t.default.getClassFactory(O);x.default=b},"./src/streaming/protection/CommonEncryption.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/CommonEncryption.js ***!
                  \******************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}function O(h,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,F(A.key),A)}}function F(h){var g=function L(h,g){if("object"!==t(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(h)}(h,"string");return"symbol"===t(g)?g:String(g)}c.r(x);var D={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]};x.default=function(){function h(){!function E(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,h)}return function b(h,g,v){return g&&O(h.prototype,g),v&&O(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,null,[{key:"findCencContentProtection",value:function(v){for(var A=null,U=0;U<v.length;++U){var P=v[U];"urn:mpeg:dash:mp4protection:2011"===P.schemeIdUri.toLowerCase()&&("cenc"===P.value.toLowerCase()||"cbcs"===P.value.toLowerCase())&&(A=P)}return A}},{key:"getPSSHData",value:function(v){var A=8,U=new DataView(v),P=U.getUint8(A);return A+=20,P>0&&(A+=4+16*U.getUint32(A)),v.slice(A+=4)}},{key:"getPSSHForKeySystem",value:function(v,A){var U=h.parsePSSHList(A);return v&&U.hasOwnProperty(v.uuid.toLowerCase())?U[v.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(v,A){return"pssh"in v?(v.pssh.__text=v.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),A.decodeArray(v.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(v){if(null==v)return[];for(var A=new DataView(v.buffer||v),P={},V=0;;){var R,C=void 0,w=void 0,T=V;if(V>=A.buffer.byteLength)break;if(R=V+A.getUint32(V),1886614376===A.getUint32(V+=4))if(0===(C=A.getUint8(V+=4))||1===C){V++,V+=3,w="";var N=void 0,S=void 0;for(N=0;N<4;N++)w+=1===(S=A.getUint8(V+N).toString(16)).length?"0"+S:S;for(V+=4,w+="-",N=0;N<2;N++)w+=1===(S=A.getUint8(V+N).toString(16)).length?"0"+S:S;for(V+=2,w+="-",N=0;N<2;N++)w+=1===(S=A.getUint8(V+N).toString(16)).length?"0"+S:S;for(V+=2,w+="-",N=0;N<2;N++)w+=1===(S=A.getUint8(V+N).toString(16)).length?"0"+S:S;for(V+=2,w+="-",N=0;N<6;N++)w+=1===(S=A.getUint8(V+N).toString(16)).length?"0"+S:S;V+=6,V+=4,P[w=w.toLowerCase()]=A.buffer.slice(T,R),V=R}else V=R;else V=R}return P}},{key:"getLicenseServerUrlFromMediaInfo",value:function(v,A){try{if(!v||0===v.length)return null;for(var U=0,P=null;U<v.length&&!P;){var V=v[U];if(V&&V.contentProtection&&V.contentProtection.length>0){var k=V.contentProtection.filter(function(B){return B.schemeIdUri&&B.schemeIdUri===A});if(k&&k.length>0)for(var R=0;R<k.length&&!P;){for(var C=k[R],w=0;w<D.attributes.length&&!P;){for(var T=0,N=D.attributes[w];T<D.prefixes.length&&!P;)C[N]&&C[N].__prefix&&C[N].__prefix===D.prefixes[T]&&C[N].__text&&(P=C[N].__text),T+=1;w+=1}R+=1}}U+=1}return P}catch{return null}}}]),h}()},"./src/streaming/protection/Protection.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/Protection.js ***!
                  \************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./controllers/ProtectionController */
"./src/streaming/protection/controllers/ProtectionController.js"),E=c(
/*! ./controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),O=c(
/*! ./ProtectionEvents */
"./src/streaming/protection/ProtectionEvents.js"),b=c(
/*! ./errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),F=c(
/*! ./models/ProtectionModel_21Jan2015 */
"./src/streaming/protection/models/ProtectionModel_21Jan2015.js"),L=c(
/*! ./models/ProtectionModel_3Feb2014 */
"./src/streaming/protection/models/ProtectionModel_3Feb2014.js"),D=c(
/*! ./models/ProtectionModel_01b */
"./src/streaming/protection/models/ProtectionModel_01b.js"),m=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],h=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function g(){var A,U=this.context;function k(R,C){for(var w=0;w<C.length;w++){var T=C[w];if("function"==typeof R[T[Object.keys(T)[0]]])return T}return null}return A={createProtectionSystem:function P(R){var C=null,w=Object(E.default)(U).getInstance();w.setConfig({debug:R.debug,BASE64:R.BASE64,settings:R.settings}),w.initialize();var T=function V(R){var C=R.debug,w=C.getLogger(A),T=R.eventBus,N=R.errHandler,S=R.videoModel?R.videoModel.getElement():null;return S&&void 0===S.onencrypted||S&&void 0===S.mediaKeys?k(S,h)?(w.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Object(L.default)(U).create({debug:C,eventBus:T,events:R.events,api:k(S,h)})):k(S,m)?(w.info("EME detected on this user agent! (ProtectionModel_01b)"),Object(D.default)(U).create({debug:C,eventBus:T,errHandler:N,events:R.events,api:k(S,m)})):(w.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(w.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),Object(F.default)(U).create({debug:C,eventBus:T,events:R.events}))}(R);return!C&&T&&(C=Object(t.default)(U).create({protectionModel:T,protectionKeyController:w,eventBus:R.eventBus,debug:R.debug,events:R.events,BASE64:R.BASE64,constants:R.constants,cmcdModel:R.cmcdModel,customParametersModel:R.customParametersModel,settings:R.settings}),R.capabilities.setEncryptedMediaSupported(!0)),C}}}g.__dashjs_factory_name="Protection";var v=dashjs.FactoryMaker.getClassFactory(g);v.events=O.default,v.errors=b.default,dashjs.FactoryMaker.updateClassFactory(g.__dashjs_factory_name,v),x.default=v},"./src/streaming/protection/ProtectionEvents.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/ProtectionEvents.js ***!
                  \******************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function E(R){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(R)}function O(R,C){for(var w=0;w<C.length;w++){var T=C[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,F(T.key),T)}}function F(R){var C=function L(R,C){if("object"!==E(R)||null===R)return R;var w=R[Symbol.toPrimitive];if(void 0!==w){var T=w.call(R,C||"default");if("object"!==E(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(R)}(R,"string");return"symbol"===E(C)?C:String(C)}function m(R,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(C&&C.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),C&&h(R,C)}function h(R,C){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(R,C)}function g(R){var C=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=P(R);if(C){var S=P(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function v(R,C){if(C&&("object"===E(C)||"function"==typeof C))return C;if(void 0!==C)throw new TypeError("Derived constructors may only return object or undefined");return function A(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,N)}}function P(R){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(R)}c.r(x);var k=new(function(R){m(w,R);var C=g(w);function w(){var T;return function D(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")}(this,w),(T=C.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",T.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",T.KEY_ADDED="public_keyAdded",T.KEY_ERROR="public_keyError",T.KEY_MESSAGE="public_keyMessage",T.KEY_SESSION_CLOSED="public_keySessionClosed",T.KEY_SESSION_CREATED="public_keySessionCreated",T.KEY_SESSION_REMOVED="public_keySessionRemoved",T.KEY_STATUSES_CHANGED="public_keyStatusesChanged",T.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",T.KEY_SYSTEM_SELECTED="public_keySystemSelected",T.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",T.LICENSE_REQUEST_SENDING="public_licenseRequestSending",T.NEED_KEY="needkey",T.PROTECTION_CREATED="public_protectioncreated",T.PROTECTION_DESTROYED="public_protectiondestroyed",T.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",T.TEARDOWN_COMPLETE="protectionTeardownComplete",T.VIDEO_ELEMENT_SELECTED="videoElementSelected",T.KEY_SESSION_UPDATED="public_keySessionUpdated",T}return function b(R,C,w){return C&&O(R.prototype,C),w&&O(R,w),Object.defineProperty(R,"prototype",{writable:!1}),R}(w)}(c(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));x.default=k},"./src/streaming/protection/controllers/ProtectionController.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionController.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),E=c(
/*! ../vo/MediaCapability */
"./src/streaming/protection/vo/MediaCapability.js"),O=c(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),b=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),F=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),L=c(
/*! ../vo/LicenseRequest */
"./src/streaming/protection/vo/LicenseRequest.js"),D=c(
/*! ../vo/LicenseResponse */
"./src/streaming/protection/vo/LicenseResponse.js"),m=c(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),h=c(
/*! ../../../core/Utils */
"./src/core/Utils.js"),g=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),v=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function A(w){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(w)}function C(w){var me,te,ue,Se,Ie,le,Me,we,_e,Le,Pe,T=(w=w||{}).protectionKeyController,N=w.protectionModel,S=w.eventBus,B=w.events,Y=w.debug,re=w.BASE64,ae=w.constants,Re=[],z=w.cmcdModel,oe=w.settings,H=w.customParametersModel;function Ue(){if(!(S&&S.hasOwnProperty("on")&&T&&T.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function ye(ge,st){we||_e?we&&ie():function K(ge,st){if(!_e){_e=!0;var bt,mt=[];ge=ge.sort(function(Nt,Zt){return(Ie&&Ie[Nt.ks.systemString]&&Ie[Nt.ks.systemString].priority>=0?Ie[Nt.ks.systemString].priority:ge.length)-(Ie&&Ie[Zt.ks.systemString]&&Ie[Zt.ks.systemString].priority>=0?Ie[Zt.ks.systemString].priority:ge.length)});for(var Dt=0;Dt<ge.length;Dt++){var ut=ct(ge[Dt]);mt.push({ks:ge[Dt].ks,configs:[ut],protData:ge[Dt].protData})}N.requestKeySystemAccess(mt).then(function(Nt){return te.info("DRM: KeySystem Access Granted for system string ("+((bt=Nt.data).mksa&&bt.mksa.selectedSystemString?bt.mksa.selectedSystemString:bt.keySystem.systemString)+")!  Selecting key system..."),N.selectKeySystem(bt)}).then(function(Nt){if(we=Nt,_e=!1,N){S.trigger(B.KEY_SYSTEM_SELECTED,{data:bt});var Zt=W(we);Zt&&Zt.serverCertificate&&Zt.serverCertificate.length>0&&N.setServerCertificate(re.decodeArray(Zt.serverCertificate).buffer),ie()}}).catch(function(Nt){we=null,_e=!1,st||S.trigger(B.KEY_SYSTEM_SELECTED,{data:null,error:new F.default(b.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,b.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+Nt.error)})})}}(ge,st)}function ie(){for(var ge,st=0;st<ue.length;st++)for(ge=0;ge<ue[st].length;ge++)if(we===ue[st][ge].ks){he(ue[st][ge]);break}ue=[]}function he(ge){if(T.isClearKey(we)&&ge.protData&&ge.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(ge.protData.clearkeys).length){var st={kids:Object.keys(ge.protData.clearkeys)};ge.initData=(new TextEncoder).encode(JSON.stringify(st))}ge.sessionId?$(ge):null!==ge.initData&&Z(ge)}function $(ge){Ue(),N.loadKeySession(ge)}function Z(ge){var st=t.default.getPSSHForKeySystem(we,ge?ge.initData:null);if(st){if(function q(ge){if(!ge)return!1;try{for(var st=N.getSessions(),mt=0;mt<st.length;mt++)if(st[mt].getKeyId()===ge)return!0;return!1}catch{return!1}}(ge.keyId)||J(st))return;try{ge.initData=st,N.createKeySession(ge)}catch(mt){S.trigger(B.KEY_SESSION_CREATED,{data:null,error:new F.default(b.default.KEY_SESSION_CREATED_ERROR_CODE,b.default.KEY_SESSION_CREATED_ERROR_MESSAGE+mt.message)})}}else ge&&ge.initData?N.createKeySession(ge):S.trigger(B.KEY_SESSION_CREATED,{data:null,error:new F.default(b.default.KEY_SESSION_CREATED_ERROR_CODE,b.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(we?we.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function W(ge){if(ge){var st=ge.systemString;if(Ie)return st in Ie?Ie[st]:null}return null}function J(ge){if(!ge)return!1;try{for(var st=N.getAllInitData(),mt=0;mt<st.length;mt++)if(T.initDataEquals(ge,st[mt]))return te.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function Ce(ge){Ue(),ge?(N.setMediaElement(ge),S.on(B.NEED_KEY,dt,me)):null===ge&&(N.setMediaElement(ge),S.off(B.NEED_KEY,dt,me))}function ct(ge){var st=ge.protData,mt=[],Dt=[],ut=st&&st.audioRobustness&&st.audioRobustness.length>0?st.audioRobustness:Me,bt=st&&st.videoRobustness&&st.videoRobustness.length>0?st.videoRobustness:Me,Nt=ge.sessionType,Zt=st&&st.distinctiveIdentifier?st.distinctiveIdentifier:"optional",wt=st&&st.persistentState?st.persistentState:"temporary"===Nt?"optional":"required";return Se.forEach(function(Ht){Ht.type===ae.AUDIO?mt.push(new E.default(Ht.codec,ut)):Ht.type===ae.VIDEO&&Dt.push(new E.default(Ht.codec,bt))}),new O.default(mt,Dt,Zt,wt,[Nt])}function It(ge){ge.error?S.trigger(B.KEY_STATUSES_CHANGED,{data:null,error:ge.error}):te.debug("DRM: key status = "+ge.status)}function _t(ge){te.debug("DRM: onKeyMessage");var st=ge.data;S.trigger(B.KEY_MESSAGE,{data:st});var mt=st.messageType?st.messageType:"license-request",Dt=st.message,ut=st.sessionToken,bt=W(we),Nt=T.getLicenseServerModelInstance(we,bt,mt),Zt={sessionToken:ut,messageType:mt};if(Dt&&0!==Dt.byteLength){if(!Nt)return te.debug("DRM: License server request not required for this message (type = "+ge.data.messageType+").  Session ID = "+ut.getSessionId()),void Pt(Zt);if(T.isClearKey(we)){var wt=T.processClearKeyLicenseRequest(we,bt,Dt);if(wt&&wt.keyPairs&&wt.keyPairs.length>0)return te.debug("DRM: ClearKey license request handled by application!"),Pt(Zt),void N.updateKeySession(ut,wt)}!function Vt(ge,st,mt){var Dt=ge.sessionToken,ut=ge.messageType?ge.messageType:"license-request",bt={sessionToken:Dt,messageType:ut},Nt=we?we.systemString:null,Zt=function dn(ge,st,mt,Dt,ut){var bt=null,Nt=Dt.message;if(ge&&ge.serverURL){var Zt=ge.serverURL;"string"==typeof Zt&&""!==Zt?bt=Zt:"object"===A(Zt)&&Zt.hasOwnProperty(st)&&(bt=Zt[st])}else if(ge&&ge.laURL&&""!==ge.laURL)bt=ge.laURL;else if(!(bt=t.default.getLicenseServerUrlFromMediaInfo(Se,we.schemeIdURI))&&!T.isClearKey(we)){var wt=t.default.getPSSHData(mt.initData);(bt=we.getLicenseServerURLFromInitData(wt))||(bt=Dt.laURL)}return ut.getServerURLFromMessage(bt,Nt,st)}(mt,ut,Dt,ge,st);if(Zt){var wt={},Ht=!1;mt&&pn(wt,mt.httpRequestHeaders);var en=ge.message;pn(wt,we.getRequestHeadersFromMessage(en)),Object.keys(wt).forEach(function(tt){"authorization"===tt.toLowerCase()&&(Ht=!0)}),mt&&"boolean"==typeof mt.withCredentials&&(Ht=mt.withCredentials);var yn=function(Ct){if(N)if(Ct.status>=200&&Ct.status<=299){var Yt=h.default.parseHttpHeaders(Ct.getAllResponseHeaders?Ct.getAllResponseHeaders():null),Gt=new D.default(Ct.responseURL,Yt,Ct.response);ot(H.getLicenseResponseFilters(),Gt).then(function(){var kt=st.getLicenseMessage(Gt.data,Nt,ut);null!==kt?(Pt(bt),N.updateKeySession(Dt,kt)):Un(Ct,bt,Nt,ut,st)})}else Un(Ct,bt,Nt,ut,st)},Tn=function(Ct){Pt(bt,new F.default(b.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,b.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Nt+' update, XHR aborted. status is "'+Ct.statusText+'" ('+Ct.status+"), readyState is "+Ct.readyState))},In=function(Ct){Pt(bt,new F.default(b.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,b.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Nt+' update, XHR error. status is "'+Ct.statusText+'" ('+Ct.status+"), readyState is "+Ct.readyState))},kn=we.getLicenseRequestFromMessage(en),qn=st.getHTTPMethod(ut),ui=st.getResponseType(Nt,ut),Ft=mt&&!isNaN(mt.httpTimeout)?mt.httpTimeout:8e3,St=Dt.getSessionId()||null,at=new L.default(Zt,qn,ui,wt,Ht,ut,St,kn),Xt=isNaN(oe.get().streaming.retryAttempts[m.HTTPRequest.LICENSE])?3:oe.get().streaming.retryAttempts[m.HTTPRequest.LICENSE];ot(H.getLicenseRequestFilters(),at).then(function(){$t(at,Xt,Ft,yn,Tn,In)})}else Pt(bt,new F.default(b.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,b.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(st,Nt,bt)}else Pt(Zt,new F.default(b.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,b.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function Pt(ge,st){S.trigger(B.LICENSE_REQUEST_COMPLETE,{data:ge,error:st})}function $t(ge,st,mt,Dt,ut,bt){var Nt=new XMLHttpRequest;if(oe.get().streaming.cmcd&&oe.get().streaming.cmcd.enabled&&oe.get().streaming.cmcd.mode===g.default.CMCD_MODE_QUERY){var wt=z.getQueryParameter({url:ge.url,type:m.HTTPRequest.LICENSE});wt&&(ge.url=h.default.addAditionalQueryParameterToUrl(ge.url,[wt]))}for(var Ht in Nt.open(ge.method,ge.url,!0),Nt.responseType=ge.responseType,Nt.withCredentials=ge.withCredentials,mt>0&&(Nt.timeout=mt),ge.headers)Nt.setRequestHeader(Ht,ge.headers[Ht]);if(oe.get().streaming.cmcd&&oe.get().streaming.cmcd.enabled&&oe.get().streaming.cmcd.mode===g.default.CMCD_MODE_HEADER){var tn=z.getHeaderParameters({url:ge.url,type:m.HTTPRequest.LICENSE});if(tn)for(var yn in tn){var Tn=tn[yn];Tn&&Nt.setRequestHeader(yn,Tn)}}var In=function(){st--;var qn=isNaN(oe.get().streaming.retryIntervals[m.HTTPRequest.LICENSE])?1e3:oe.get().streaming.retryIntervals[m.HTTPRequest.LICENSE];Pe=setTimeout(function(){$t(ge,st,mt,Dt,ut,bt)},qn)};Nt.onload=function(){Le=null,this.status>=200&&this.status<=299||st<=0?Dt(this):(te.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+st),In())},Nt.ontimeout=Nt.onerror=function(){Le=null,st<=0?bt(this):(te.warn("License request network request failed . Retrying it... Pending retries: "+st),In())},Nt.onabort=function(){ut(this)},S.trigger(B.LICENSE_REQUEST_SENDING,{url:ge.url,headers:ge.headers,payload:ge.data,sessionId:ge.sessionId}),Le=Nt,Nt.send(ge.data)}function Qt(){Le&&(Le.onloadend=Le.onerror=Le.onprogress=void 0,Le.abort(),Le=null),Pe&&(clearTimeout(Pe),Pe=null)}function pn(ge,st){if(st)for(var mt in st)ge[mt]=st[mt]}function Un(ge,st,mt,Dt,ut){var bt="NONE",Nt=null;ge.response&&(bt=ut.getErrorResponse(ge.response,mt,Dt),Nt={serverResponse:ge.response||null,responseCode:ge.status||null,responseText:ge.statusText||null}),Pt(st,new F.default(b.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,b.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+mt+' update, XHR complete. status is "'+ge.statusText+'" ('+ge.status+"), readyState is "+ge.readyState+".  Response is "+bt,Nt))}function ot(ge,st){return ge?ge.reduce(function(mt,Dt){return mt.then(function(){return Dt(st)})},Promise.resolve()):Promise.resolve()}function dt(ge,st){if(!oe.get().streaming.protection.ignoreEmeEncryptedEvent){if(te.debug("DRM: onNeedKey"),"cenc"!==ge.key.initDataType)return void te.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+ge.key.initDataType);if(0===Se.length&&(te.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(st=typeof st>"u"?1:st+1)<5))return void Re.push(setTimeout(function(){dt(ge,st)},500));var mt=ge.key.initData;if(ArrayBuffer.isView(mt)&&(mt=mt.buffer),we){var Dt=t.default.getPSSHForKeySystem(we,mt);if(Dt&&J(Dt))return}te.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(mt)));var ut=T.getSupportedKeySystemsFromSegmentPssh(mt,Ie,le);if(0===ut.length)return void te.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");!function Ae(ge){ue.push(ge),ye(ge,!1)}(ut)}}return me={initializeForMedia:function ze(ge){if(!ge)throw new Error("mediaInfo can not be null or undefined");Ue(),Se.push(ge)},clearMediaInfoArray:function X(){Se=[]},handleKeySystemFromManifest:function He(){if(Se&&0!==Se.length){var ge=[];Se.forEach(function(st){var mt=T.getSupportedKeySystemsFromContentProtection(st.contentProtection,Ie,le);mt.length>0&&(0===ge.length&&(ge=mt),ue.push(mt))}),ge&&ge.length>0&&ye(ge,!0)}},createKeySession:Z,loadKeySession:$,removeKeySession:function de(ge){Ue(),N.removeKeySession(ge)},closeKeySession:function pe(ge){Ue(),N.closeKeySession(ge)},setServerCertificate:function ce(ge){Ue(),N.setServerCertificate(ge)},setMediaElement:Ce,setSessionType:function Ye(ge){le=ge},setRobustnessLevel:function Be(ge){Me=ge},setProtectionData:function Ze(ge){Ie=ge,T.setProtectionData(ge)},getSupportedKeySystemsFromContentProtection:function Q(ge){return Ue(),T.getSupportedKeySystemsFromContentProtection(ge,Ie,le)},getKeySystems:function xe(){return T?T.getKeySystems():[]},setKeySystems:function fe(ge){T&&T.setKeySystems(ge)},stop:function Qe(){Qt(),N&&N.stop()},reset:function $e(){S.off(B.INTERNAL_KEY_MESSAGE,_t,me),S.off(B.INTERNAL_KEY_STATUS_CHANGED,It,me),Ue(),Qt(),Ce(null),we=null,_e=!1,N&&(N.reset(),N=null),Re.forEach(function(ge){return clearTimeout(ge)}),Re=[],Se=[],ue=[]}},function Oe(){te=Y.getLogger(me),ue=[],Se=[],le="temporary",Me="",Le=null,Pe=null,S.on(B.INTERNAL_KEY_MESSAGE,_t,me),S.on(B.INTERNAL_KEY_STATUS_CHANGED,It,me)}(),me}C.__dashjs_factory_name="ProtectionController",x.default=v.default.getClassFactory(C)},"./src/streaming/protection/controllers/ProtectionKeyController.js":
/*!*************************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionKeyController.js ***!
                  \*************************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),E=c(
/*! ./../drm/KeySystemClearKey */
"./src/streaming/protection/drm/KeySystemClearKey.js"),O=c(
/*! ./../drm/KeySystemW3CClearKey */
"./src/streaming/protection/drm/KeySystemW3CClearKey.js"),b=c(
/*! ./../drm/KeySystemWidevine */
"./src/streaming/protection/drm/KeySystemWidevine.js"),F=c(
/*! ./../drm/KeySystemPlayReady */
"./src/streaming/protection/drm/KeySystemPlayReady.js"),L=c(
/*! ./../servers/DRMToday */
"./src/streaming/protection/servers/DRMToday.js"),D=c(
/*! ./../servers/PlayReady */
"./src/streaming/protection/servers/PlayReady.js"),m=c(
/*! ./../servers/Widevine */
"./src/streaming/protection/servers/Widevine.js"),h=c(
/*! ./../servers/ClearKey */
"./src/streaming/protection/servers/ClearKey.js"),g=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function v(){var U,P,V,k,R,C,w,T,A=this.context;function ue(le,Me){return Me&&le in Me?Me[le]:null}function Se(le,Me){return le&&le.sessionId?le.sessionId:Me&&Me.sessionId?Me.sessionId:null}function Ie(le,Me){return le&&le.sessionType?le.sessionType:Me}return U={initialize:function S(){var le;k=[],le=Object(F.default)(A).getInstance({BASE64:R,settings:C}),k.push(le),le=Object(b.default)(A).getInstance({BASE64:R}),k.push(le),le=Object(E.default)(A).getInstance({BASE64:R}),k.push(le),w=le,le=Object(O.default)(A).getInstance({BASE64:R,debug:P}),k.push(le),T=le},setProtectionData:function te(le){for(var we=0;we<k.length;we++){var _e=k[we];_e.hasOwnProperty("init")&&_e.init((Pe=_e.systemString,Oe=void 0,Oe=null,le&&(Oe=Pe in le?le[Pe]:null),Oe))}var Pe,Oe},isClearKey:function ae(le){return le===w||le===T},initDataEquals:function Re(le,Me){if(le.byteLength===Me.byteLength){for(var we=new Uint8Array(le),_e=new Uint8Array(Me),Le=0;Le<we.length;Le++)if(we[Le]!==_e[Le])return!1;return!0}return!1},getKeySystems:function B(){return k},setKeySystems:function Y(le){k=le},getKeySystemBySystemString:function re(le){for(var Me=0;Me<k.length;Me++)if(k[Me].systemString===le)return k[Me];return null},getSupportedKeySystemsFromContentProtection:function z(le,Me,we){var _e,Le,Pe,Oe,Ue=[];if(le){var ze=t.default.findCencContentProtection(le);for(Pe=0;Pe<k.length;++Pe){var He=ue((Le=k[Pe]).systemString,Me);for(Oe=0;Oe<le.length;++Oe)if((_e=le[Oe]).schemeIdUri.toLowerCase()===Le.schemeIdURI){var Ae=Le.getInitData(_e,ze);Ue.push({ks:k[Pe],keyId:_e.keyId,initData:Ae,protData:He,cdmData:Le.getCDMData(He?He.cdmData:null),sessionId:Se(He,_e),sessionType:Ie(He,we)})}}}return Ue},getSupportedKeySystemsFromSegmentPssh:function oe(le,Me,we){for(var Pe,_e=[],Le=t.default.parsePSSHList(le),Ue=0;Ue<k.length;++Ue){var ze=ue((Pe=k[Ue]).systemString,Me);Pe.uuid in Le&&_e.push({ks:Pe,initData:Le[Pe.uuid],protData:ze,cdmData:Pe.getCDMData(ze?ze.cdmData:null),sessionId:Se(ze),sessionType:Ie(ze,we)})}return _e},getLicenseServerModelInstance:function H(le,Me,we){if("license-release"===we||"individualization-request"===we)return null;var _e=null;return Me&&Me.hasOwnProperty("drmtoday")?_e=Object(L.default)(A).getInstance({BASE64:R}):le.systemString===g.default.WIDEVINE_KEYSTEM_STRING?_e=Object(m.default)(A).getInstance():le.systemString===g.default.PLAYREADY_KEYSTEM_STRING?_e=Object(D.default)(A).getInstance():le.systemString===g.default.CLEARKEY_KEYSTEM_STRING&&(_e=Object(h.default)(A).getInstance()),_e},processClearKeyLicenseRequest:function me(le,Me,we){try{return le.getClearKeysFromProtectionData(Me,we)}catch{return V.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function N(le){le&&(le.debug&&(V=(P=le.debug).getLogger(U)),le.BASE64&&(R=le.BASE64),le.settings&&(C=le.settings))}}}v.__dashjs_factory_name="ProtectionKeyController",x.default=dashjs.FactoryMaker.getSingletonFactory(v)},"./src/streaming/protection/drm/KeySystemClearKey.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemClearKey.js ***!
                  \***********************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),E=c(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),O=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),b=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),F="e2719d58-a985-b3c9-781a-b030af78d30e",L=b.default.CLEARKEY_KEYSTEM_STRING,D="urn:uuid:"+F;function m(h){var v=(h=h||{}).BASE64;function P(w){try{var T=w.replace(/-/g,"");return(T=btoa(T.match(/\w{2}/g).map(function(N){return String.fromCharCode(parseInt(N,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}return{uuid:F,schemeIdURI:D,systemString:L,getInitData:function U(w,T){try{var N=O.default.parseInitDataFromContentProtection(w,v);if(!N&&T){var B={kids:[P(T["cenc:default_KID"])]};N=(new TextEncoder).encode(JSON.stringify(B))}return N}catch{return null}},getRequestHeadersFromMessage:function V(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function k(w){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(w))))},getLicenseServerURLFromInitData:function R(){return null},getCDMData:function C(){return null},getClearKeysFromProtectionData:function A(w,T){var N=null;if(w){for(var S=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(T))),B=[],Y=0;Y<S.kids.length;Y++){var re=S.kids[Y],ae=w.clearkeys&&w.clearkeys.hasOwnProperty(re)?w.clearkeys[re]:null;if(!ae)throw new Error("DRM: ClearKey keyID ("+re+") is not known!");B.push(new t.default(re,ae))}N=new E.default(B)}return N}}}m.__dashjs_factory_name="KeySystemClearKey",x.default=dashjs.FactoryMaker.getSingletonFactory(m)},"./src/streaming/protection/drm/KeySystemPlayReady.js":
/*!************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemPlayReady.js ***!
                  \************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),E=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),O="9a04f079-9840-4286-ab92-e65be0885f95",b=E.default.PLAYREADY_KEYSTEM_STRING,F="urn:uuid:"+O;function D(m){var g="utf-16",v=(m=m||{}).BASE64,A=m.settings;function U(){if(!v||!v.hasOwnProperty("decodeArray")||!v.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:O,schemeIdURI:F,systemString:b,getInitData:function R(T){var re,ae,Re,z,oe,N=new Uint8Array([112,115,115,104,0,0,0,0]),S=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),B=0,Y=null;if(U(),!T)return null;if("pssh"in T)return t.default.parseInitDataFromContentProtection(T,v);if("pro"in T)Y=v.decodeArray(T.pro.__text);else{if(!("prheader"in T))return null;Y=v.decodeArray(T.prheader.__text)}return ae=4+N.length+S.length+4+(re=Y.length),Re=new ArrayBuffer(ae),z=new Uint8Array(Re),(oe=new DataView(Re)).setUint32(B,ae),z.set(N,B+=4),z.set(S,B+=N.length),oe.setUint32(B+=S.length,re),z.set(Y,B+=4),B+=re,z.buffer},getRequestHeadersFromMessage:function P(T){var N,S,B={},Y=new DOMParser;if(A&&A.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===g&&T&&T.byteLength%2==1)return B["Content-Type"]="text/xml; charset=utf-8",B;var re="utf-16"===g?new Uint16Array(T):new Uint8Array(T);N=String.fromCharCode.apply(null,re);for(var ae=(S=Y.parseFromString(N,"application/xml")).getElementsByTagName("name"),Re=S.getElementsByTagName("value"),z=0;z<ae.length;z++)B[ae[z].childNodes[0].nodeValue]=Re[z].childNodes[0].nodeValue;return B.hasOwnProperty("Content")&&(B["Content-Type"]=B.Content,delete B.Content),B.hasOwnProperty("Content-Type")||(B["Content-Type"]="text/xml; charset=utf-8"),B},getLicenseRequestFromMessage:function V(T){var N=null,S=new DOMParser;if(A&&A.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===g&&T&&T.byteLength%2==1)return T;var B="utf-16"===g?new Uint16Array(T):new Uint8Array(T);U();var Y=String.fromCharCode.apply(null,B),re=S.parseFromString(Y,"application/xml");if(!re.getElementsByTagName("PlayReadyKeyMessage")[0])return T;var ae=re.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return ae&&(N=v.decode(ae)),N},getLicenseServerURLFromInitData:function k(T){if(T)for(var N=new DataView(T),S=N.getUint16(4,!0),B=6,Y=new DOMParser,re=0;re<S;re++){var ae=N.getUint16(B,!0),Re=N.getUint16(B+=2,!0);if(B+=2,1===ae){var z=T.slice(B,B+Re),oe=String.fromCharCode.apply(null,new Uint16Array(z)),H=Y.parseFromString(oe,"application/xml");if(H.getElementsByTagName("LA_URL")[0]){var me=H.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(me)return me}if(H.getElementsByTagName("LUI_URL")[0]){var te=H.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(te)return te}}else B+=Re}return null},getCDMData:function w(T){var N,S,B,Y;if(U(),!T)return null;for(N=[],Y=0;Y<T.length;++Y)N.push(T.charCodeAt(Y)),N.push(0);for(N=String.fromCharCode.apply(null,N),N=v.encode(N),S='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",N),B=[],Y=0;Y<S.length;++Y)B.push(S.charCodeAt(Y)),B.push(0);return new Uint8Array(B).buffer},setPlayReadyMessageFormat:function C(T){if("utf-8"!==T&&"utf-16"!==T)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');g=T}}}D.__dashjs_factory_name="KeySystemPlayReady",x.default=dashjs.FactoryMaker.getSingletonFactory(D)},"./src/streaming/protection/drm/KeySystemW3CClearKey.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemW3CClearKey.js ***!
                  \**************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),E=c(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),O=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),b=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),F="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",L=b.default.CLEARKEY_KEYSTEM_STRING,D="urn:uuid:"+F;function m(h){var g,v=h.BASE64,A=h.debug.getLogger(g);return{uuid:F,schemeIdURI:D,systemString:L,getInitData:function P(w){return O.default.parseInitDataFromContentProtection(w,v)},getRequestHeadersFromMessage:function V(){return null},getLicenseRequestFromMessage:function k(w){return new Uint8Array(w)},getLicenseServerURLFromInitData:function R(){return null},getCDMData:function C(){return null},getClearKeysFromProtectionData:function U(w,T){var N=null;if(w){for(var S=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(T))),B=[],Y=0;Y<S.kids.length;Y++){var re=S.kids[Y],ae=w.clearkeys&&w.clearkeys.hasOwnProperty(re)?w.clearkeys[re]:null;if(!ae)throw new Error("DRM: ClearKey keyID ("+re+") is not known!");B.push(new t.default(re,ae))}N=new E.default(B),A.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return N}}}m.__dashjs_factory_name="KeySystemW3CClearKey",x.default=dashjs.FactoryMaker.getSingletonFactory(m)},"./src/streaming/protection/drm/KeySystemWidevine.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemWidevine.js ***!
                  \***********************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),E=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),O="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",b=E.default.WIDEVINE_KEYSTEM_STRING,F="urn:uuid:"+O;function L(D){var h=(D=D||{}).BASE64;return{uuid:O,schemeIdURI:F,systemString:b,getInitData:function g(V){return t.default.parseInitDataFromContentProtection(V,h)},getRequestHeadersFromMessage:function v(){return null},getLicenseRequestFromMessage:function A(V){return new Uint8Array(V)},getLicenseServerURLFromInitData:function U(){return null},getCDMData:function P(){return null}}}L.__dashjs_factory_name="KeySystemWidevine",x.default=dashjs.FactoryMaker.getSingletonFactory(L)},"./src/streaming/protection/errors/ProtectionErrors.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/protection/errors/ProtectionErrors.js ***!
                  \*************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function E(R){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(R)}function O(R,C){for(var w=0;w<C.length;w++){var T=C[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,F(T.key),T)}}function F(R){var C=function L(R,C){if("object"!==E(R)||null===R)return R;var w=R[Symbol.toPrimitive];if(void 0!==w){var T=w.call(R,C||"default");if("object"!==E(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(R)}(R,"string");return"symbol"===E(C)?C:String(C)}function m(R,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(C&&C.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),C&&h(R,C)}function h(R,C){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(R,C)}function g(R){var C=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=P(R);if(C){var S=P(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function v(R,C){if(C&&("object"===E(C)||"function"==typeof C))return C;if(void 0!==C)throw new TypeError("Derived constructors may only return object or undefined");return function A(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,N)}}function P(R){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(R)}c.r(x);var k=new(function(R){m(w,R);var C=g(w);function w(){var T;return function D(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")}(this,w),(T=C.call(this)).MEDIA_KEYERR_CODE=100,T.MEDIA_KEYERR_UNKNOWN_CODE=101,T.MEDIA_KEYERR_CLIENT_CODE=102,T.MEDIA_KEYERR_SERVICE_CODE=103,T.MEDIA_KEYERR_OUTPUT_CODE=104,T.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,T.MEDIA_KEYERR_DOMAIN_CODE=106,T.MEDIA_KEY_MESSAGE_ERROR_CODE=107,T.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,T.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,T.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,T.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,T.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,T.KEY_SESSION_CREATED_ERROR_CODE=113,T.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,T.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",T.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",T.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",T.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",T.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",T.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",T.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",T.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",T.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",T.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",T.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",T.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",T.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",T.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",T}return function b(R,C,w){return C&&O(R.prototype,C),w&&O(R,w),Object.defineProperty(R,"prototype",{writable:!1}),R}(w)}(c(
/*! ../../../core/errors/ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));x.default=k},"./src/streaming/protection/models/ProtectionModel_01b.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_01b.js ***!
                  \****************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),E=c(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),O=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),b=c(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),F=c(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),L=c(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),D=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js");function m(h){var k,R,C,w,T,N,S,B,Y,g=this.context,v=(h=h||{}).eventBus,A=h.events,U=h.debug,P=h.api,V=h.errHandler;function ae(){C&&Le();for(var Pe=0;Pe<S.length;Pe++)Se(S[Pe]);v.trigger(A.TEARDOWN_COMPLETE)}function Se(Pe){try{C[P.cancelKeyRequest](w.systemString,Pe.sessionId)}catch(Oe){v.trigger(A.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Pe.sessionId+") "+Oe.message})}}function _e(Pe,Oe){if(!Oe||!Pe)return null;for(var Ue=Pe.length,ze=0;ze<Ue;ze++)if(Pe[ze].sessionId==Oe)return Pe[ze];return null}function Le(){C.removeEventListener(P.keyerror,Y),C.removeEventListener(P.needkey,Y),C.removeEventListener(P.keymessage,Y),C.removeEventListener(P.keyadded,Y)}return k={getAllInitData:function Re(){for(var Pe=[],Oe=0;Oe<N.length;Oe++)Pe.push(N[Oe].initData);for(var Ue=0;Ue<S.length;Ue++)Pe.push(S[Ue].initData);return Pe},getSessions:function z(){return S.concat(N)},requestKeySystemAccess:function oe(Pe){return new Promise(function(Oe,Ue){var ze=C;ze||(ze=document.createElement("video"));for(var He=!1,Ae=0;Ae<Pe.length;Ae++)for(var ye=Pe[Ae].ks.systemString,K=Pe[Ae].configs,he=null,$=0;$<K.length;$++){var Z=K[$].videoCapabilities;if(Z&&0!==Z.length){he=[];for(var W=0;W<Z.length;W++)""!==ze.canPlayType(Z[W].contentType,ye)&&he.push(Z[W])}if(he&&(!he||0!==he.length)){He=!0;var X=new F.default(null,he),Q=T.getKeySystemBySystemString(ye),q=new L.default(Q,X);v.trigger(A.KEY_SYSTEM_ACCESS_COMPLETE,{data:q}),Oe({data:q});break}}if(!He){var J="Key system access denied! -- No valid audio/video content configurations detected!";v.trigger(A.KEY_SYSTEM_ACCESS_COMPLETE,{error:J}),Ue({error:J})}})},selectKeySystem:function H(Pe){return w=Pe.keySystem,Promise.resolve(w)},setMediaElement:function me(Pe){if(C!==Pe){if(C){Le();for(var Oe=0;Oe<S.length;Oe++)Se(S[Oe]);S=[]}(C=Pe)&&(C.addEventListener(P.keyerror,Y),C.addEventListener(P.needkey,Y),C.addEventListener(P.keymessage,Y),C.addEventListener(P.keyadded,Y),v.trigger(A.VIDEO_ELEMENT_SELECTED))}},createKeySession:function te(Pe){if(!w)throw new Error("Can not create sessions until you have selected a key system");if(B||0===S.length){var Oe={sessionId:null,keyId:Pe.keyId,initData:Pe.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return N.push(Oe),C[P.generateKeyRequest](w.systemString,new Uint8Array(Pe.initData)),Oe}throw new Error("Multiple sessions not allowed!")},updateKeySession:function ue(Pe,Oe){var Ue=Pe.sessionId;if(T.isClearKey(w))for(var ze=0;ze<Oe.keyPairs.length;ze++)C[P.addKey](w.systemString,Oe.keyPairs[ze].key,Oe.keyPairs[ze].keyID,Ue);else C[P.addKey](w.systemString,new Uint8Array(Oe),new Uint8Array(Pe.initData),Ue);v.trigger(A.KEY_SESSION_UPDATED)},closeKeySession:Se,setServerCertificate:function Ie(){},loadKeySession:function le(){},removeKeySession:function Me(){},stop:ae,reset:ae},function re(){R=U.getLogger(k),C=null,w=null,N=[],S=[],T=Object(t.default)(g).getInstance(),Y=function we(){return{handleEvent:function(Oe){var Ue=null;switch(Oe.type){case P.needkey:var ze=ArrayBuffer.isView(Oe.initData)?Oe.initData.buffer:Oe.initData;v.trigger(A.NEED_KEY,{key:new E.default(ze,"cenc")});break;case P.keyerror:if((Ue=_e(S,Oe.sessionId))||(Ue=_e(N,Oe.sessionId)),Ue){var He=D.default.MEDIA_KEYERR_CODE,Ae="";switch(Oe.errorCode.code){case 1:He=D.default.MEDIA_KEYERR_UNKNOWN_CODE,Ae+="MEDIA_KEYERR_UNKNOWN - "+D.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:He=D.default.MEDIA_KEYERR_CLIENT_CODE,Ae+="MEDIA_KEYERR_CLIENT - "+D.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:He=D.default.MEDIA_KEYERR_SERVICE_CODE,Ae+="MEDIA_KEYERR_SERVICE - "+D.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:He=D.default.MEDIA_KEYERR_OUTPUT_CODE,Ae+="MEDIA_KEYERR_OUTPUT - "+D.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:He=D.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,Ae+="MEDIA_KEYERR_HARDWARECHANGE - "+D.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:He=D.default.MEDIA_KEYERR_DOMAIN_CODE,Ae+="MEDIA_KEYERR_DOMAIN - "+D.default.MEDIA_KEYERR_DOMAIN_MESSAGE}v.trigger(A.KEY_ERROR,{error:new O.default(He,Ae+="  System Code = "+Oe.systemCode,Ue)})}else R.error("No session token found for key error");break;case P.keyadded:(Ue=_e(S,Oe.sessionId))||(Ue=_e(N,Oe.sessionId)),Ue?(R.debug("DRM: Key added."),v.trigger(A.KEY_ADDED,{data:Ue})):R.debug("No session token found for key added");break;case P.keymessage:if((B=null!=Oe.sessionId)?!(Ue=_e(S,Oe.sessionId))&&N.length>0&&(Ue=N.shift(),S.push(Ue),Ue.sessionId=Oe.sessionId,v.trigger(A.KEY_SESSION_CREATED,{data:Ue})):N.length>0&&(Ue=N.shift(),S.push(Ue),0!==N.length&&V.error(new O.default(D.default.MEDIA_KEY_MESSAGE_ERROR_CODE,D.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),Ue){var ye=ArrayBuffer.isView(Oe.message)?Oe.message.buffer:Oe.message;Ue.keyMessage=ye,v.trigger(A.INTERNAL_KEY_MESSAGE,{data:new b.default(Ue,ye,Oe.defaultURL)})}else R.warn("No session token found for key message")}}}}()}(),k}m.__dashjs_factory_name="ProtectionModel_01b",x.default=dashjs.FactoryMaker.getClassFactory(m)},"./src/streaming/protection/models/ProtectionModel_21Jan2015.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_21Jan2015.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),E=c(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),O=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),b=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),F=c(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),L=c(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),D=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),m={};function h(g){var V,k,R,C,w,T,N,S,v=this.context,A=(g=g||{}).eventBus,U=g.events,P=g.debug;function oe(He,Ae,ye,K){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var ie="Insecure origins are not allowed";return A.trigger(U.KEY_SYSTEM_ACCESS_COMPLETE,{error:ie}),void K({error:ie})}var Z=He[Ae].ks,W=Z.systemString;(function H(He,Ae){return new Promise(function(ye,K){me(He,Ae,0,ye,K)})})((He[Ae].protData&&He[Ae].protData.systemStringPriority?He[Ae].protData.systemStringPriority:null)||(m[W]?m[W]:[W]),He[Ae].configs).then(function(Q){var q="function"==typeof Q.getConfiguration?Q.getConfiguration():null,J=new L.default(Z,q);J.mksa=Q,A.trigger(U.KEY_SYSTEM_ACCESS_COMPLETE,{data:J}),ye({data:J})}).catch(function(Q){if(Ae+1<He.length)oe(He,Ae+1,ye,K);else{var q="Key system access denied! ";A.trigger(U.KEY_SYSTEM_ACCESS_COMPLETE,{error:q+Q.message}),K({error:q+Q.message})}})}function me(He,Ae,ye,K,ie){var he=He[ye];k.debug("Requesting key system access for system string ".concat(he)),navigator.requestMediaKeySystemAccess(he,Ae).then(function($){$.selectedSystemString=he,K($)}).catch(function($){ye+1<He.length?me(He,Ae,ye+1,K,ie):ie($)})}function Le(He){var Ae=He.session;return Ae.removeEventListener("keystatuseschange",He),Ae.removeEventListener("message",He),Ae.close()}function Oe(He){for(var Ae=0;Ae<T.length;Ae++)if(T[Ae]===He){T.splice(Ae,1);break}}function Ue(He){var Ae,ye;return He&&He.length>0&&(He[0]&&("string"==typeof He[0]?Ae=He[0]:ye=He[0]),He[1]&&("string"==typeof He[1]?Ae=He[1]:ye=He[1])),{status:Ae,keyId:ye}}function ze(He,Ae){var ye={session:He,keyId:Ae.keyId,initData:Ae.initData,sessionId:Ae.sessionId,sessionType:Ae.sessionType,handleEvent:function(ie){switch(ie.type){case"keystatuseschange":A.trigger(U.KEY_STATUSES_CHANGED,{data:this}),ie.target.keyStatuses.forEach(function(){var $=Ue(arguments);A.trigger(U.INTERNAL_KEY_STATUS_CHANGED,"expired"===$.status?{error:new b.default(O.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,O.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}:$)});break;case"message":var he=ArrayBuffer.isView(ie.message)?ie.message.buffer:ie.message;A.trigger(U.INTERNAL_KEY_MESSAGE,{data:new F.default(this,he,void 0,ie.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return He.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return He.expiration},getKeyStatuses:function(){return He.keyStatuses},getUsable:function(){var ie=!1;return He.keyStatuses.forEach(function(){"usable"===Ue(arguments).status&&(ie=!0)}),ie}};return He.addEventListener("keystatuseschange",ye),He.addEventListener("message",ye),He.closed.then(function(){Oe(ye),k.debug("DRM: Session closed.  SessionID = "+ye.getSessionId()),A.trigger(U.KEY_SESSION_CLOSED,{data:ye.getSessionId()})}),T.push(ye),ye}return V={getAllInitData:function ae(){for(var He=[],Ae=0;Ae<T.length;Ae++)T[Ae].initData&&He.push(T[Ae].initData);return He},getSessions:function Re(){return T},requestKeySystemAccess:function z(He){return new Promise(function(Ae,ye){oe(He,0,Ae,ye)})},selectKeySystem:function te(He){return new Promise(function(Ae,ye){He.mksa.createMediaKeys().then(function(K){return R=He.keySystem,w=K,C?C.setMediaKeys(w):Promise.resolve()}).then(function(){Ae(R)}).catch(function(){ye({error:"Error selecting keys system ("+He.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function ue(He){C!==He&&(C&&(C.removeEventListener("encrypted",N),C.setMediaKeys&&C.setMediaKeys(null)),(C=He)&&(C.addEventListener("encrypted",N),C.setMediaKeys&&w&&C.setMediaKeys(w)))},setServerCertificate:function Se(He){if(!R||!w)throw new Error("Can not set server certificate until you have selected a key system");w.setServerCertificate(He).then(function(){k.info("DRM: License server certificate successfully updated."),A.trigger(U.SERVER_CERTIFICATE_UPDATED)}).catch(function(Ae){A.trigger(U.SERVER_CERTIFICATE_UPDATED,{error:new b.default(O.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,O.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+Ae.name)})})},createKeySession:function Ie(He){if(!R||!w)throw new Error("Can not create sessions until you have selected a key system");var Ae=w.createSession(He.sessionType),ye=ze(Ae,He);Ae.generateRequest(R.systemString===D.default.CLEARKEY_KEYSTEM_STRING&&(He.initData||He.protData&&He.protData.clearkeys)?D.default.INITIALIZATION_DATA_TYPE_KEYIDS:D.default.INITIALIZATION_DATA_TYPE_CENC,He.initData).then(function(){k.debug("DRM: Session created.  SessionID = "+ye.getSessionId()),A.trigger(U.KEY_SESSION_CREATED,{data:ye})}).catch(function(ie){Oe(ye),A.trigger(U.KEY_SESSION_CREATED,{data:null,error:new b.default(O.default.KEY_SESSION_CREATED_ERROR_CODE,O.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+ie.name)})})},updateKeySession:function le(He,Ae){var ye=He.session;S.isClearKey(R)&&(Ae=Ae.toJWK()),ye.update(Ae).then(function(){A.trigger(U.KEY_SESSION_UPDATED)}).catch(function(K){A.trigger(U.KEY_ERROR,{error:new b.default(O.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+K.name,He)})})},loadKeySession:function Me(He){if(!R||!w)throw new Error("Can not load sessions until you have selected a key system");for(var Ae=He.sessionId,ye=0;ye<T.length;ye++)if(Ae===T[ye].sessionId)return void k.warn("DRM: Ignoring session ID because we have already seen it!");var K=w.createSession(He.sessionType),ie=ze(K,He);K.load(Ae).then(function(he){he?(k.debug("DRM: Session loaded.  SessionID = "+ie.getSessionId()),A.trigger(U.KEY_SESSION_CREATED,{data:ie})):(Oe(ie),A.trigger(U.KEY_SESSION_CREATED,{data:null,error:new b.default(O.default.KEY_SESSION_CREATED_ERROR_CODE,O.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+Ae+")")}))}).catch(function(he){Oe(ie),A.trigger(U.KEY_SESSION_CREATED,{data:null,error:new b.default(O.default.KEY_SESSION_CREATED_ERROR_CODE,O.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+Ae+")! "+he.name)})})},removeKeySession:function we(He){He.session.remove().then(function(){k.debug("DRM: Session removed.  SessionID = "+He.getSessionId()),A.trigger(U.KEY_SESSION_REMOVED,{data:He.getSessionId()})},function(ye){A.trigger(U.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+He.getSessionId()+"). "+ye.name})})},closeKeySession:function _e(He){Le(He).catch(function(Ae){Oe(He),A.trigger(U.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+He.getSessionId()+") "+Ae.name})})},stop:function re(){for(var He,Ae=0;Ae<T.length;Ae++)(He=T[Ae]).getUsable()||Le(He).catch(function(){Oe(He)})},reset:function Y(){var Ae,He=T.length;0!==He?function(){for(var ye=function(he){Oe(he),0===T.length&&(C?(C.removeEventListener("encrypted",N),C.setMediaKeys(null).then(function(){A.trigger(U.TEARDOWN_COMPLETE)})):A.trigger(U.TEARDOWN_COMPLETE))},K=0;K<He;K++)!function(ie){Ae.session.closed.then(function(){ye(ie)}),Le(Ae).catch(function(){ye(ie)})}(Ae=T[K])}():A.trigger(U.TEARDOWN_COMPLETE)}},function B(){k=P.getLogger(V),R=null,C=null,w=null,T=[],S=Object(t.default)(v).getInstance(),N=function Pe(){return{handleEvent:function(Ae){if("encrypted"===Ae.type&&Ae.initData){var ye=ArrayBuffer.isView(Ae.initData)?Ae.initData.buffer:Ae.initData;A.trigger(U.NEED_KEY,{key:new E.default(ye,Ae.initDataType)})}}}}()}(),V}m[D.default.PLAYREADY_KEYSTEM_STRING]=[D.default.PLAYREADY_KEYSTEM_STRING,D.default.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],m[D.default.WIDEVINE_KEYSTEM_STRING]=[D.default.WIDEVINE_KEYSTEM_STRING],m[D.default.CLEARKEY_KEYSTEM_STRING]=[D.default.CLEARKEY_KEYSTEM_STRING],h.__dashjs_factory_name="ProtectionModel_21Jan2015",x.default=dashjs.FactoryMaker.getClassFactory(h)},"./src/streaming/protection/models/ProtectionModel_3Feb2014.js":
/*!*********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_3Feb2014.js ***!
                  \*********************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),E=c(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),O=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),b=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),F=c(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),L=c(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),D=c(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js");function m(h){var V,k,R,C,w,T,N,S,B,g=this.context,v=(h=h||{}).eventBus,A=h.events,U=h.debug,P=h.api;function re(){try{for(var Le=0;Le<N.length;Le++)ue(N[Le]);R&&R.removeEventListener(P.needkey,S),v.trigger(A.TEARDOWN_COMPLETE)}catch(Pe){v.trigger(A.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+Pe.message})}}function ue(Le){var Pe=Le.session;Pe.removeEventListener(P.error,Le),Pe.removeEventListener(P.message,Le),Pe.removeEventListener(P.ready,Le),Pe.removeEventListener(P.close,Le);for(var Oe=0;Oe<N.length;Oe++)if(N[Oe]===Le){N.splice(Oe,1);break}Pe[P.release]()}function we(){var Le=null,Pe=function(){R.removeEventListener("loadedmetadata",Le),R[P.setMediaKeys](w),v.trigger(A.VIDEO_ELEMENT_SELECTED)};R.readyState>=1?Pe():(Le=Pe.bind(this),R.addEventListener("loadedmetadata",Le))}return V={getAllInitData:function ae(){for(var Le=[],Pe=0;Pe<N.length;Pe++)Le.push(N[Pe].initData);return Le},getSessions:function Re(){return N},requestKeySystemAccess:function z(Le){return new Promise(function(Pe,Oe){for(var Ue=!1,ze=0;ze<Le.length;ze++)for(var He=Le[ze].ks.systemString,Ae=Le[ze].configs,ye=null,K=null,ie=0;ie<Ae.length;ie++){var he=Ae[ie].audioCapabilities,$=Ae[ie].videoCapabilities;if(he&&0!==he.length){ye=[];for(var Z=0;Z<he.length;Z++)window[P.MediaKeys].isTypeSupported(He,he[Z].contentType)&&ye.push(he[Z])}if($&&0!==$.length){K=[];for(var W=0;W<$.length;W++)window[P.MediaKeys].isTypeSupported(He,$[W].contentType)&&K.push($[W])}if(!(!ye&&!K||ye&&0===ye.length||K&&0===K.length)){Ue=!0;var X=new L.default(ye,K),Q=B.getKeySystemBySystemString(He),q=new D.default(Q,X);v.trigger(A.KEY_SYSTEM_ACCESS_COMPLETE,{data:q}),Pe({data:q});break}}if(!Ue){var J="Key system access denied! -- No valid audio/video content configurations detected!";v.trigger(A.KEY_SYSTEM_ACCESS_COMPLETE,{error:J}),Oe({error:J})}})},selectKeySystem:function oe(Le){return new Promise(function(Pe,Oe){try{w=Le.mediaKeys=new window[P.MediaKeys](Le.keySystem.systemString),C=Le.keySystem,T=Le,R&&we(),Pe(C)}catch{Oe({error:"Error selecting keys system ("+C.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function H(Le){R!==Le&&(R&&R.removeEventListener(P.needkey,S),(R=Le)&&(R.addEventListener(P.needkey,S),w&&we()))},createKeySession:function me(Le){if(!C||!w||!T)throw new Error("Can not create sessions until you have selected a key system");var Pe=null;if(T.ksConfiguration.videoCapabilities&&T.ksConfiguration.videoCapabilities.length>0&&(Pe=T.ksConfiguration.videoCapabilities[0]),null===Pe&&T.ksConfiguration.audioCapabilities&&T.ksConfiguration.audioCapabilities.length>0&&(Pe=T.ksConfiguration.audioCapabilities[0]),null===Pe)throw new Error("Can not create sessions for unknown content types.");var Ue=w.createSession(Pe.contentType,new Uint8Array(Le.initData),Le.cdmData?new Uint8Array(Le.cdmData):null),ze=function _e(Le,Pe){return{session:Le,keyId:Pe.keyId,initData:Pe.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(Ue){switch(Ue.type){case P.error:v.trigger(A.KEY_ERROR,{error:new O.default(b.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case P.message:var He=ArrayBuffer.isView(Ue.message)?Ue.message.buffer:Ue.message;v.trigger(A.INTERNAL_KEY_MESSAGE,{data:new F.default(this,He,Ue.destinationURL)});break;case P.ready:k.debug("DRM: Key added."),v.trigger(A.KEY_ADDED);break;case P.close:k.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),v.trigger(A.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(Ue,Le);Ue.addEventListener(P.error,ze),Ue.addEventListener(P.message,ze),Ue.addEventListener(P.ready,ze),Ue.addEventListener(P.close,ze),N.push(ze),k.debug("DRM: Session created.  SessionID = "+ze.getSessionId()),v.trigger(A.KEY_SESSION_CREATED,{data:ze})},updateKeySession:function te(Le,Pe){var Oe=Le.session;B.isClearKey(C)?Oe.update(new Uint8Array(Pe.toJWK())):Oe.update(new Uint8Array(Pe)),v.trigger(A.KEY_SESSION_UPDATED)},closeKeySession:ue,setServerCertificate:function Se(){},loadKeySession:function Ie(){},removeKeySession:function le(){},stop:re,reset:re},function Y(){k=U.getLogger(V),R=null,C=null,w=null,T=null,N=[],B=Object(t.default)(g).getInstance(),S=function Me(){return{handleEvent:function(Pe){if(Pe.type===P.needkey&&Pe.initData){var Oe=ArrayBuffer.isView(Pe.initData)?Pe.initData.buffer:Pe.initData;v.trigger(A.NEED_KEY,{key:new E.default(Oe,"cenc")})}}}}()}(),V}m.__dashjs_factory_name="ProtectionModel_3Feb2014",x.default=dashjs.FactoryMaker.getClassFactory(m)},"./src/streaming/protection/servers/ClearKey.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/ClearKey.js ***!
                  \******************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),E=c(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js");function O(){return{getServerURLFromMessage:function F(g){return g},getHTTPMethod:function L(){return"POST"},getResponseType:function D(){return"json"},getLicenseMessage:function m(g){if(!g.hasOwnProperty("keys"))return null;for(var v=[],A=0;A<g.keys.length;A++){var U=g.keys[A],P=U.kid.replace(/=/g,""),V=U.k.replace(/=/g,"");v.push(new t.default(P,V))}return new E.default(v)},getErrorResponse:function h(g){return String.fromCharCode.apply(null,new Uint8Array(g))}}}O.__dashjs_factory_name="ClearKey",x.default=dashjs.FactoryMaker.getSingletonFactory(O)},"./src/streaming/protection/servers/DRMToday.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/DRMToday.js ***!
                  \******************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function E(O){var b=(O=O||{}).BASE64,F={};return F[t.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(P){return b.decodeArray(P.license)},getErrorResponse:function(P){return P}},F[t.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(P){return P},getErrorResponse:function(P){return String.fromCharCode.apply(null,new Uint8Array(P))}},{getServerURLFromMessage:function m(U){return U},getHTTPMethod:function h(){return"POST"},getResponseType:function g(U){return F[U].responseType},getLicenseMessage:function v(U,P){return function D(){if(!b||!b.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),F[P].getLicenseMessage(U)},getErrorResponse:function A(U,P){return F[P].getErrorResponse(U)}}}E.__dashjs_factory_name="DRMToday",x.default=dashjs.FactoryMaker.getSingletonFactory(E)},"./src/streaming/protection/servers/PlayReady.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/servers/PlayReady.js ***!
                  \*******************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(){var O="http://schemas.xmlsoap.org/soap/envelope/";function b(A){var U=String.fromCharCode.apply(null,new Uint8Array(A));return decodeURIComponent(escape(U))}function F(A){if(window.DOMParser){var U=b(A),V=(new window.DOMParser).parseFromString(U,"text/xml"),k=V?V.getElementsByTagNameNS(O,"Envelope")[0]:null,R=k?k.getElementsByTagNameNS(O,"Body")[0]:null;if(R&&R.getElementsByTagNameNS(O,"Fault")[0])return null}return A}function L(A){var U="",P="",V="",k=-1,R=-1;if(window.DOMParser){var C=b(A),T=(new window.DOMParser).parseFromString(C,"text/xml"),N=T?T.getElementsByTagNameNS(O,"Envelope")[0]:null,S=N?N.getElementsByTagNameNS(O,"Body")[0]:null,B=S?S.getElementsByTagNameNS(O,"Fault")[0]:null,Y=B?B.getElementsByTagName("detail")[0]:null,re=Y?Y.getElementsByTagName("Exception")[0]:null,ae=null;if(null===B)return C;U=(ae=B.getElementsByTagName("faultstring")[0].firstChild)?ae.nodeValue:null,null!==re&&(P=(ae=re.getElementsByTagName("StatusCode")[0])?ae.firstChild.nodeValue:null,k=(V=(ae=re.getElementsByTagName("Message")[0])?ae.firstChild.nodeValue:null)?V.lastIndexOf("[")+1:-1,R=V?V.indexOf("]"):-1,V=V?V.substring(k,R):"")}var Re="code: ".concat(P,", name: ").concat(U);return V&&(Re+=", message: ".concat(V)),Re}return{getServerURLFromMessage:function D(A){return A},getHTTPMethod:function m(){return"POST"},getResponseType:function h(){return"arraybuffer"},getLicenseMessage:function g(A){return F.call(this,A)},getErrorResponse:function v(A){return L.call(this,A)}}}c.r(x),t.__dashjs_factory_name="PlayReady",x.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/protection/servers/Widevine.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/Widevine.js ***!
                  \******************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(){return{getServerURLFromMessage:function O(m){return m},getHTTPMethod:function b(){return"POST"},getResponseType:function F(){return"arraybuffer"},getLicenseMessage:function L(m){return m},getErrorResponse:function D(m){return String.fromCharCode.apply(null,new Uint8Array(m))}}}c.r(x),t.__dashjs_factory_name="Widevine",x.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/protection/vo/ClearKeyKeySet.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/ClearKeyKeySet.js ***!
                  \*******************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function O(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,F(v.key),v)}}function F(m){var h=function L(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=function(){function m(h,g){if(function E(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}(this,m),g&&"persistent"!==g&&"temporary"!==g)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=h,this.type=g}return function b(m,h,g){return h&&O(m.prototype,h),g&&O(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}(m,[{key:"toJWK",value:function(){var g,v=this.keyPairs.length,A={keys:[]};for(g=0;g<v;g++)A.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[g].keyID,k:this.keyPairs[g].key});this.type&&(A.type=this.type);var P=JSON.stringify(A),V=P.length,k=new ArrayBuffer(V),R=new Uint8Array(k);for(g=0;g<V;g++)R[g]=P.charCodeAt(g);return k}}]),m}()},"./src/streaming/protection/vo/KeyMessage.js":
/*!***************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyMessage.js ***!
                  \***************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(h,g,v,A){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.sessionToken=h,this.message=g,this.defaultURL=v,this.messageType=A||"license-request"})},"./src/streaming/protection/vo/KeyPair.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyPair.js ***!
                  \************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(h,g){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.keyID=h,this.key=g})},"./src/streaming/protection/vo/KeySystemAccess.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemAccess.js ***!
                  \********************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(h,g){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.keySystem=h,this.ksConfiguration=g})},"./src/streaming/protection/vo/KeySystemConfiguration.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemConfiguration.js ***!
                  \***************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(h,g,v,A,U){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.initDataTypes=["cenc"],h&&h.length&&(this.audioCapabilities=h),g&&g.length&&(this.videoCapabilities=g),this.distinctiveIdentifier=v,this.persistentState=A,this.sessionTypes=U})},"./src/streaming/protection/vo/LicenseRequest.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseRequest.js ***!
                  \*******************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(h,g,v,A,U,P,V,k){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.url=h,this.method=g,this.responseType=v,this.headers=A,this.withCredentials=U,this.messageType=P,this.sessionId=V,this.data=k})},"./src/streaming/protection/vo/LicenseResponse.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseResponse.js ***!
                  \********************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(h,g,v){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.url=h,this.headers=g,this.data=v})},"./src/streaming/protection/vo/MediaCapability.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/MediaCapability.js ***!
                  \********************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(h,g){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.contentType=h,this.robustness=g})},"./src/streaming/protection/vo/NeedKey.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/NeedKey.js ***!
                  \************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(h,g){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.initData=h,this.initDataType=g})},"./src/streaming/rules/DroppedFramesHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/DroppedFramesHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var b={},F={},L={};return{push:function D(v,A,U){if(A){b[v]||(b[v]=[],F[v]=0,L[v]=0);var P=U&&U.droppedVideoFrames?U.droppedVideoFrames:0,V=U&&U.totalVideoFrames?U.totalVideoFrames:0,k=P-F[v];F[v]=P;var R=V-L[v];L[v]=V;var C=b[v];isNaN(A)||(C[A]?(C[A].droppedVideoFrames+=k,C[A].totalVideoFrames+=R):C[A]={droppedVideoFrames:k,totalVideoFrames:R})}},getFrameHistory:function m(v){return b[v]},clearForStream:function h(v){try{delete b[v],delete F[v],delete L[v]}catch{}},reset:function g(){b={},F={},L={}}}}E.__dashjs_factory_name="DroppedFramesHistory";var O=t.default.getClassFactory(E);x.default=O},"./src/streaming/rules/RulesContext.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/RulesContext.js ***!
                  \*********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(O){var F=(O=O||{}).abrController,L=O.switchHistory,D=O.droppedFramesHistory,m=O.currentRequest,h=O.useBufferOccupancyABR,g=O.useL2AABR,v=O.useLoLPABR,A=O.streamProcessor?O.streamProcessor.getScheduleController():null,U=O.streamProcessor?O.streamProcessor.getRepresentationInfo():null,P=O.videoModel?O.videoModel:null;function R(){return U?U.mediaInfo:null}return{getMediaType:function V(){var z=R();return z?z.type:null},getMediaInfo:R,getDroppedFramesHistory:function B(){return D},getCurrentRequest:function Y(){return m},getSwitchHistory:function N(){return L},getStreamInfo:function k(){var z=R();return z?z.streamInfo:null},getScheduleController:function w(){return A},getAbrController:function T(){return F},getRepresentationInfo:function C(){return U},useBufferOccupancyABR:function re(){return h},useL2AABR:function ae(){return g},useLoLPABR:function Re(){return v},getVideoModel:function S(){return P}}}E.__dashjs_factory_name="RulesContext",x.default=t.default.getClassFactory(E)},"./src/streaming/rules/SwitchRequest.js":
/*!**********************************************!*\
                  !*** ./src/streaming/rules/SwitchRequest.js ***!
                  \**********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),O={DEFAULT:.5,STRONG:1,WEAK:0};function b(L,D,m){return{quality:void 0===L?-1:L,reason:void 0===D?null:D,priority:function U(P){var V=O.DEFAULT;return(P===O.DEFAULT||P===O.STRONG||P===O.WEAK)&&(V=P),V}(m)}}b.__dashjs_factory_name="SwitchRequest";var F=t.default.getClassFactory(b);F.NO_CHANGE=-1,F.PRIORITY=O,t.default.updateClassFactory(b.__dashjs_factory_name,F),x.default=F},"./src/streaming/rules/SwitchRequestHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/SwitchRequestHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ./SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function b(){var L=[],D=[];return{push:function m(v){v.newValue===E.default.NO_CHANGE&&(v.newValue=v.oldValue),L[v.oldValue]||(L[v.oldValue]={noDrops:0,drops:0,dropSize:0});var A=v.newValue-v.oldValue,U=A<0?1:0,P=U?-A:0,V=U?0:1;if(L[v.oldValue].drops+=U,L[v.oldValue].dropSize+=P,L[v.oldValue].noDrops+=V,D.push({idx:v.oldValue,noDrop:V,drop:U,dropSize:P}),D.length>8){var k=D.shift();L[k.idx].drops-=k.drop,L[k.idx].dropSize-=k.dropSize,L[k.idx].noDrops-=k.noDrop}},getSwitchRequests:function h(){return L},reset:function g(){L=[],D=[]}}}b.__dashjs_factory_name="SwitchRequestHistory";var F=t.default.getClassFactory(b);x.default=F},"./src/streaming/rules/ThroughputHistory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/ThroughputHistory.js ***!
                  \**************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function O(b){var k,R,C,w,T,L=3,D=4,m=4,h=1.3,g=1.3,V=(b=b||{}).settings;function Y(le,Me,we,_e){var Le=Math.pow(.5,we/_e.fast);le.fastEstimate=(1-Le)*Me+Le*le.fastEstimate;var Pe=Math.pow(.5,we/_e.slow);le.slowEstimate=(1-Pe)*Me+Pe*le.slowEstimate,le.totalWeight+=we}function ae(le,Me,we){return V.get().streaming.abr.movingAverageMethod!==t.default.MOVING_AVERAGE_SLIDING_WINDOW?function z(le,Me){var we=le?T.throughputHalfLife:T.latencyHalfLife,_e=le?C[Me]:w[Me];if(!_e||_e.totalWeight<=0)return NaN;var Le=_e.fastEstimate/(1-Math.pow(.5,_e.totalWeight/we.fast)),Pe=_e.slowEstimate/(1-Math.pow(.5,_e.totalWeight/we.slow));return le?Math.min(Le,Pe):Math.max(Le,Pe)}(le,Me):function Re(le,Me,we){var _e=function re(le,Me,we){var _e,Le;if(le?(_e=k[Me],Le=we?L:D):(_e=R[Me],Le=m),_e){if(Le>=_e.length)Le=_e.length;else if(le)for(var Pe=1;Pe<Le;++Pe){var Oe=_e[_e.length-Pe]/_e[_e.length-Pe-1];if((Oe>=g||Oe<=1/h)&&(Le+=1)===_e.length)break}}else Le=0;return Le}(le,Me,we),Pe=(le?k:R)[Me];return 0!==_e&&Pe&&0!==Pe.length?(Pe=Pe.slice(-_e)).reduce(function(Oe,Ue){return Oe+Ue})/Pe.length:NaN}(le,Me,we)}function oe(le,Me){return ae(!0,le,Me)}function te(le){k[le]=k[le]||[],R[le]=R[le]||[],C[le]=C[le]||{fastEstimate:0,slowEstimate:0,totalWeight:0},w[le]=w[le]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function Se(){k={},R={},C={},w={}}var Ie={push:function B(le,Me,we){if(Me.trace&&Me.trace.length){var Oe,_e=Me.tresponse.getTime()-Me.trequest.getTime()||1,Le=Me._tfinish.getTime()-Me.tresponse.getTime()||1,Pe=Me.trace.reduce(function(ze,He){return ze+He.b[0]},0),Ue=0;if(0!==(Oe=Me._fileLoaderType&&Me._fileLoaderType===t.default.FILE_LOADER_TYPES.FETCH?Me.trace.reduce(function(ze,He){return ze+He.d},0):we?Le:_e+Le)&&(Ue=Math.round(8*Pe/Oe)),te(le),function S(le,Me,we){return le===t.default.VIDEO?we<V.get().streaming.cacheLoadThresholds[t.default.VIDEO]:le===t.default.AUDIO?we<V.get().streaming.cacheLoadThresholds[t.default.AUDIO]:void 0}(le,0,Le)){if(k[le].length>0&&!k[le].hasCachedEntries)return;k[le].hasCachedEntries=!0}else k[le]&&k[le].hasCachedEntries&&function ue(le){delete k[le],delete R[le],delete C[le],delete w[le],te(le)}(le);k[le].push(Ue),k[le].length>20&&k[le].shift(),R[le].push(_e),R[le].length>20&&R[le].shift(),Y(C[le],Ue,.001*Le,T.throughputHalfLife),Y(w[le],_e,1,T.latencyHalfLife)}},getAverageThroughput:oe,getSafeAverageThroughput:function H(le,Me){var we=oe(le,Me);return isNaN(we)||(we*=V.get().streaming.abr.bandwidthSafetyFactor),we},getAverageLatency:function me(le){return ae(!1,le)},reset:Se};return function N(){T={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},Se()}(),Ie}O.__dashjs_factory_name="ThroughputHistory",x.default=E.default.getClassFactory(O)},"./src/streaming/rules/abr/ABRRulesCollection.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/rules/abr/ABRRulesCollection.js ***!
                  \*******************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./ThroughputRule */
"./src/streaming/rules/abr/ThroughputRule.js"),E=c(
/*! ./InsufficientBufferRule */
"./src/streaming/rules/abr/InsufficientBufferRule.js"),O=c(
/*! ./AbandonRequestsRule */
"./src/streaming/rules/abr/AbandonRequestsRule.js"),b=c(
/*! ./DroppedFramesRule */
"./src/streaming/rules/abr/DroppedFramesRule.js"),F=c(
/*! ./SwitchHistoryRule */
"./src/streaming/rules/abr/SwitchHistoryRule.js"),L=c(
/*! ./BolaRule */
"./src/streaming/rules/abr/BolaRule.js"),D=c(
/*! ./L2ARule.js */
"./src/streaming/rules/abr/L2ARule.js"),m=c(
/*! ./lolp/LoLpRule.js */
"./src/streaming/rules/abr/lolp/LoLpRule.js"),h=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),v=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),A="qualitySwitchRules",U="abandonFragmentRules";function P(k){var B,Y,R=this.context,C=(k=k||{}).mediaPlayerModel,w=k.customParametersModel,T=k.dashMetrics,N=k.settings;function ae(te){return te.filter(function(ue){return ue.quality>g.default.NO_CHANGE})}function Re(te){var Ie,le,Me,we,_e,ue={},Se=null;if(0!==te.length){for(ue[g.default.PRIORITY.STRONG]={quality:g.default.NO_CHANGE,reason:null},ue[g.default.PRIORITY.WEAK]={quality:g.default.NO_CHANGE,reason:null},ue[g.default.PRIORITY.DEFAULT]={quality:g.default.NO_CHANGE,reason:null},Ie=0,le=te.length;Ie<le;Ie+=1)(Me=te[Ie]).quality!==g.default.NO_CHANGE&&(ue[Me.priority].quality===g.default.NO_CHANGE||ue[Me.priority].quality>Me.quality)&&(ue[Me.priority].quality=Me.quality,ue[Me.priority].reason=Me.reason||null);return ue[g.default.PRIORITY.WEAK].quality!==g.default.NO_CHANGE&&(Se=ue[g.default.PRIORITY.WEAK]),ue[g.default.PRIORITY.DEFAULT].quality!==g.default.NO_CHANGE&&(Se=ue[g.default.PRIORITY.DEFAULT]),ue[g.default.PRIORITY.STRONG].quality!==g.default.NO_CHANGE&&(Se=ue[g.default.PRIORITY.STRONG]),Se&&(we=Se.quality,_e=Se.reason),Object(g.default)(R).create(we,_e)}}return{initialize:function re(){B=[],Y=[],N.get().streaming.abr.useDefaultABRRules&&(N.get().streaming.abr.ABRStrategy===v.default.ABR_STRATEGY_L2A?B.push(Object(D.default)(R).create({dashMetrics:T,settings:N})):N.get().streaming.abr.ABRStrategy===v.default.ABR_STRATEGY_LoLP?B.push(Object(m.default)(R).create({dashMetrics:T})):(B.push(Object(L.default)(R).create({dashMetrics:T,mediaPlayerModel:C,settings:N})),B.push(Object(t.default)(R).create({dashMetrics:T})),N.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&B.push(Object(E.default)(R).create({dashMetrics:T,settings:N})),N.get().streaming.abr.additionalAbrRules.switchHistoryRule&&B.push(Object(F.default)(R).create()),N.get().streaming.abr.additionalAbrRules.droppedFramesRule&&B.push(Object(b.default)(R).create()),N.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&Y.push(Object(O.default)(R).create({dashMetrics:T,mediaPlayerModel:C,settings:N})))),w.getAbrCustomRules().forEach(function(ue){ue.type===A&&B.push(ue.rule(R).create()),ue.type===U&&Y.push(ue.rule(R).create())})},reset:function H(){[B,Y].forEach(function(te){te&&te.length&&te.forEach(function(ue){return ue.reset&&ue.reset()})}),B=[],Y=[]},getMaxQuality:function z(te){return Re(ae(B.map(function(le){return le.getMaxIndex(te)})))||Object(g.default)(R).create()},getMinSwitchRequest:Re,shouldAbandonFragment:function oe(te,ue){return Re(ae(Y.map(function(Me){return Me.shouldAbandon(te,ue)})))||Object(g.default)(R).create()},getQualitySwitchRules:function me(){return B}}}P.__dashjs_factory_name="ABRRulesCollection";var V=h.default.getClassFactory(P);V.QUALITY_SWITCH_RULES=A,V.ABANDON_FRAGMENT_RULES=U,h.default.updateSingletonFactory(P.__dashjs_factory_name,V),x.default=V},"./src/streaming/rules/abr/AbandonRequestsRule.js":
/*!********************************************************!*\
                  !*** ./src/streaming/rules/abr/AbandonRequestsRule.js ***!
                  \********************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),E=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),O=c(
/*! ../../../core/Debug */
"./src/core/Debug.js");function b(F){var U,P,V,k,R,h=this.context,g=(F=F||{}).mediaPlayerModel,v=F.dashMetrics,A=F.settings;function S(){V={},k={},R=[]}return U={shouldAbandon:function N(B){var Y=Object(t.default)(h).create(t.default.NO_CHANGE,{name:b.__dashjs_factory_name});if(!(B&&B.hasOwnProperty("getMediaInfo")&&B.hasOwnProperty("getMediaType")&&B.hasOwnProperty("getCurrentRequest")&&B.hasOwnProperty("getRepresentationInfo")&&B.hasOwnProperty("getAbrController")))return Y;var re=B.getMediaInfo(),ae=B.getMediaType(),Re=B.getStreamInfo(),z=Re?Re.id:null,oe=B.getCurrentRequest();if(!isNaN(oe.index)){!function w(B,Y){V[B]=V[B]||{},V[B][Y]=V[B][Y]||{}}(ae,oe.index);var H=g.getStableBufferTime();if(v.getCurrentBufferLevel(ae)>H)return Y;var te=V[ae][oe.index];if(null===te||null===oe.firstByteDate||k.hasOwnProperty(te.id))return Y;if(void 0===te.firstByteTime&&(R[ae]=[],te.firstByteTime=oe.firstByteDate.getTime(),te.segmentDuration=oe.duration,te.bytesTotal=oe.bytesTotal,te.id=oe.index),te.bytesLoaded=oe.bytesLoaded,te.elapsedTime=(new Date).getTime()-te.firstByteTime,te.bytesLoaded>0&&te.elapsedTime>0&&function T(B,Y){R[B]=R[B]||[],R[B].push(Y)}(ae,Math.round(8*te.bytesLoaded/te.elapsedTime)),R[ae].length>=5&&te.elapsedTime>500&&te.bytesLoaded<te.bytesTotal){var ue=R[ae].reduce(function(Pe,Oe){return Pe+Oe},0);if(te.measuredBandwidthInKbps=Math.round(ue/R[ae].length),te.estimatedTimeOfDownload=+(8*te.bytesTotal/te.measuredBandwidthInKbps/1e3).toFixed(2),te.estimatedTimeOfDownload<1.8*te.segmentDuration||0===B.getRepresentationInfo().quality)return Y;if(!k.hasOwnProperty(te.id)){var Se=B.getAbrController(),Ie=te.bytesTotal-te.bytesLoaded,le=Se.getBitrateList(re),Me=Se.getQualityForBitrate(re,te.measuredBandwidthInKbps*A.get().streaming.abr.bandwidthSafetyFactor,z),we=Se.getMinAllowedIndexFor(ae,z),_e=void 0!==we?Math.max(we,Me):Me;Ie>te.bytesTotal*le[_e].bitrate/le[Se.getQualityFor(ae,z)].bitrate&&(Y.quality=_e,Y.reason.throughput=te.measuredBandwidthInKbps,Y.reason.fragmentID=te.id,k[te.id]=te,P.debug("["+ae+"] frag id",te.id," is asking to abandon and switch to quality to ",_e," measured bandwidth was",te.measuredBandwidthInKbps),delete V[ae][te.id])}}else te.bytesLoaded===te.bytesTotal&&delete V[ae][te.id]}return Y},reset:S},function C(){P=Object(O.default)(h).getInstance().getLogger(U),S()}(),U}b.__dashjs_factory_name="AbandonRequestsRule",x.default=E.default.getClassFactory(b)},"./src/streaming/rules/abr/BolaRule.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/abr/BolaRule.js ***!
                  \*********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),E=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),O=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=c(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),m=c(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),h=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),U=10;function k(R){var S,B,Y,C=this.context,w=(R=R||{}).dashMetrics,T=R.mediaPlayerModel,N=Object(F.default)(C).getInstance();function Re(Ae,ye,K){var ie=K.reduce(function(W,X,Q){return X>K[W]?Q:W},0);if(0===ie)return null;var he=Math.max(Ae,U+2*ye.length),$=(K[ie]-1)/(he/U-1);return{gp:$,Vp:U/$}}function z(Ae){var ye={},ie=Ae.getMediaInfo().bitrateList.map(function(W){return W.bandwidth}),he=function ae(Ae){return Ae.map(function(ye){return Math.log(ye)})}(ie);he=he.map(function(W){return W-he[0]+1});var $=T.getStableBufferTime(),Z=Re($,ie,he);return Z?(ye.state=1,ye.bitrates=ie,ye.utilities=he,ye.stableBufferTime=$,ye.Vp=Z.Vp,ye.gp=Z.gp,ye.lastQuality=0,oe(ye)):ye.state=0,ye}function oe(Ae){Ae.placeholderBuffer=0,Ae.mostAdvancedSegmentStart=NaN,Ae.lastSegmentWasReplacement=!1,Ae.lastSegmentStart=NaN,Ae.lastSegmentDurationS=NaN,Ae.lastSegmentRequestTimeMs=NaN,Ae.lastSegmentFinishTimeMs=NaN}function H(Ae,ye){var K=T.getStableBufferTime();if(Ae.stableBufferTime!==K){var ie=Re(K,Ae.bitrates,Ae.utilities);if(ie.Vp!==Ae.Vp||ie.gp!==Ae.gp){var he=w.getCurrentBufferLevel(ye),$=he+Ae.placeholderBuffer;$-=U,$*=ie.Vp/Ae.Vp,$+=U,Ae.stableBufferTime=K,Ae.Vp=ie.Vp,Ae.gp=ie.gp,Ae.placeholderBuffer=Math.max(0,$-he)}}}function ue(Ae,ye){return Ae.Vp*(Ae.utilities[ye]+Ae.gp)}function Se(Ae,ye){for(var K=Ae.bitrates[ye],ie=Ae.utilities[ye],he=0,$=ye-1;$>=0;--$)if(Ae.utilities[$]<Ae.utilities[ye]){var Z=Ae.bitrates[$];he=Math.max(he,Ae.Vp*(Ae.gp+(K*Ae.utilities[$]-Z*ie)/(K-Z)))}return he}function le(Ae){var K=Ae.mediaType===h.default.AUDIO?[h.default.AUDIO]:Y;for(var ie in K)Y.hasOwnProperty(ie)&&2===Y[ie].state&&(Y[ie].placeholderBuffer=0)}function Me(){for(var Ae in Y)if(Y.hasOwnProperty(Ae)){var ye=Y[Ae];0!==ye.state&&(ye.state=1,oe(ye))}}function we(Ae){if(Ae&&Ae.chunk&&Ae.chunk.mediaInfo){var ye=Y[Ae.chunk.mediaInfo.type];if(ye&&0!==ye.state){var K=Ae.chunk.start;isNaN(ye.mostAdvancedSegmentStart)||K>ye.mostAdvancedSegmentStart?(ye.mostAdvancedSegmentStart=K,ye.lastSegmentWasReplacement=!1):ye.lastSegmentWasReplacement=!0,ye.lastSegmentStart=K,ye.lastSegmentDurationS=Ae.chunk.duration,ye.lastQuality=Ae.chunk.quality,Le(ye,Ae.chunk.mediaInfo.type)}}}function _e(Ae){if(Ae&&Ae.metric===t.default.HTTP_REQUEST&&Ae.value&&Ae.value.type===b.HTTPRequest.MEDIA_SEGMENT_TYPE&&Ae.value.trace&&Ae.value.trace.length){var ye=Y[Ae.mediaType];ye&&0!==ye.state&&(ye.lastSegmentRequestTimeMs=Ae.value.trequest.getTime(),ye.lastSegmentFinishTimeMs=Ae.value._tfinish.getTime(),Le(ye,Ae.mediaType))}}function Le(Ae,ye){if(!isNaN(Ae.lastSegmentStart)&&!isNaN(Ae.lastSegmentRequestTimeMs)&&!isNaN(Ae.placeholderBuffer)){if(Ae.placeholderBuffer*=.99,!isNaN(Ae.lastSegmentFinishTimeMs)){var ie=w.getCurrentBufferLevel(ye)+.001*(Ae.lastSegmentFinishTimeMs-Ae.lastSegmentRequestTimeMs),he=ue(Ae,Ae.lastQuality),$=Math.max(0,he-ie);Ae.placeholderBuffer=Math.min($,Ae.placeholderBuffer)}Ae.lastSegmentWasReplacement&&!isNaN(Ae.lastSegmentDurationS)&&(Ae.placeholderBuffer+=Ae.lastSegmentDurationS),Ae.lastSegmentStart=NaN,Ae.lastSegmentRequestTimeMs=NaN}}function Pe(Ae){if(Ae){var ye=Y[Ae.mediaType];ye&&0!==ye.state&&(ye.abrQuality=Ae.newQuality)}}function Oe(Ae){if(Ae){var ye=Y[Ae.mediaType];if(ye&&0!==ye.state){var ie,K=w.getCurrentBufferLevel(Ae.mediaType);ie=ye.abrQuality>0?Se(ye,ye.abrQuality):U;var he=Math.max(0,ie-K);ye.placeholderBuffer=Math.min(ye.placeholderBuffer,he)}}}function ze(){Y={}}return S={getMaxIndex:function Ue(Ae){var ye=Object(E.default)(C).create();if(!(Ae&&Ae.hasOwnProperty("getMediaInfo")&&Ae.hasOwnProperty("getMediaType")&&Ae.hasOwnProperty("getScheduleController")&&Ae.hasOwnProperty("getStreamInfo")&&Ae.hasOwnProperty("getAbrController")&&Ae.hasOwnProperty("useBufferOccupancyABR")))return ye;var K=Ae.getMediaInfo(),ie=Ae.getMediaType(),he=Ae.getScheduleController(),$=Ae.getStreamInfo(),Z=Ae.getAbrController(),W=Z.getThroughputHistory(),X=$?$.id:null,Q=$&&$.manifestInfo&&$.manifestInfo.isDynamic,q=Ae.useBufferOccupancyABR();if(ye.reason=ye.reason||{},!q)return ye;he.setTimeToLoadDelay(0);var J=function me(Ae){var ye=Ae.getMediaType(),K=Y[ye];return K?0!==K.state&&H(K,ye):(K=z(Ae),Y[ye]=K),K}(Ae);if(0===J.state)return ye;var Ye,de=w.getCurrentBufferLevel(ie),pe=W.getAverageThroughput(ie,Q),ce=W.getSafeAverageThroughput(ie,Q),Ce=W.getAverageLatency(ie);if(ye.reason.state=J.state,ye.reason.throughput=pe,ye.reason.latency=Ce,isNaN(pe))return ye;switch(J.state){case 1:Ye=Z.getQualityForBitrate(K,ce,X,Ce),ye.quality=Ye,ye.reason.throughput=ce,J.placeholderBuffer=Math.max(0,Se(J,Ye)-de),J.lastQuality=Ye,!isNaN(J.lastSegmentDurationS)&&de>=J.lastSegmentDurationS&&(J.state=2);break;case 2:(function Ie(Ae,ye){var K=Date.now();isNaN(Ae.lastSegmentFinishTimeMs)?isNaN(Ae.lastCallTimeMs)||(Ae.placeholderBuffer+=Math.max(0,.001*(K-Ae.lastCallTimeMs))):Ae.placeholderBuffer+=Math.max(0,.001*(K-Ae.lastSegmentFinishTimeMs)),Ae.lastCallTimeMs=K,Ae.lastSegmentStart=NaN,Ae.lastSegmentRequestTimeMs=NaN,Ae.lastSegmentFinishTimeMs=NaN,H(Ae,ye)})(J,ie),Ye=function te(Ae,ye){for(var K=Ae.bitrates.length,ie=NaN,he=NaN,$=0;$<K;++$){var Z=(Ae.Vp*(Ae.utilities[$]+Ae.gp)-ye)/Ae.bitrates[$];(isNaN(he)||Z>=he)&&(he=Z,ie=$)}return ie}(J,de+J.placeholderBuffer);var Be=Z.getQualityForBitrate(K,ce,X,Ce);Ye>J.lastQuality&&Ye>Be&&(Ye=Math.max(Be,J.lastQuality));var Ze=Math.max(0,de+J.placeholderBuffer-ue(J,Ye));Ze<=J.placeholderBuffer?(J.placeholderBuffer-=Ze,Ze=0):(Ze-=J.placeholderBuffer,J.placeholderBuffer=0,Ye<Z.getMaxAllowedIndexFor(ie,X)?he.setTimeToLoadDelay(1e3*Ze):Ze=0),ye.quality=Ye,ye.reason.throughput=pe,ye.reason.latency=Ce,ye.reason.bufferLevel=de,ye.reason.placeholderBuffer=J.placeholderBuffer,ye.reason.delay=Ze,J.lastQuality=Ye;break;default:B.debug("BOLA ABR rule invoked in bad state."),ye.quality=Z.getQualityForBitrate(K,ce,X,Ce),ye.reason.state=J.state,ye.reason.throughput=ce,ye.reason.latency=Ce,J.state=1,oe(J)}return ye},reset:function He(){ze(),N.off(m.default.BUFFER_EMPTY,le,S),N.off(m.default.PLAYBACK_SEEKING,Me,S),N.off(m.default.METRIC_ADDED,_e,S),N.off(m.default.QUALITY_CHANGE_REQUESTED,Pe,S),N.off(m.default.FRAGMENT_LOADING_ABANDONED,Oe,S),N.off(L.default.MEDIA_FRAGMENT_LOADED,we,S)}},function re(){B=Object(D.default)(C).getInstance().getLogger(S),ze(),N.on(m.default.BUFFER_EMPTY,le,S),N.on(m.default.PLAYBACK_SEEKING,Me,S),N.on(m.default.METRIC_ADDED,_e,S),N.on(m.default.QUALITY_CHANGE_REQUESTED,Pe,S),N.on(m.default.FRAGMENT_LOADING_ABANDONED,Oe,S),N.on(L.default.MEDIA_FRAGMENT_LOADED,we,S)}(),S}k.__dashjs_factory_name="BolaRule",x.default=O.default.getClassFactory(k)},"./src/streaming/rules/abr/DroppedFramesRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/DroppedFramesRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),O=c(
/*! ../../../core/Debug */
"./src/core/Debug.js");function b(){var L,D,F=this.context;return L={getMaxIndex:function v(A){var U=Object(E.default)(F).create();if(!A||!A.hasOwnProperty("getDroppedFramesHistory"))return U;var P=A.getDroppedFramesHistory(),V=A.getStreamInfo().id;if(P){var k=P.getFrameHistory(V);if(!k||0===k.length)return U;for(var R=0,C=0,w=E.default.NO_CHANGE,T=1;T<k.length;T++)if(k[T]&&(R=k[T].droppedVideoFrames,(C=k[T].totalVideoFrames)>375&&R/C>.15)){D.debug("index: "+(w=T-1)+" Dropped Frames: "+R+" Total Frames: "+C);break}return Object(E.default)(F).create(w,{droppedFrames:R})}return U}},function g(){D=Object(O.default)(F).getInstance().getLogger(L)}(),L}b.__dashjs_factory_name="DroppedFramesRule",x.default=t.default.getClassFactory(b)},"./src/streaming/rules/abr/InsufficientBufferRule.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/rules/abr/InsufficientBufferRule.js ***!
                  \***********************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),O=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),F=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),L=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),D=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),m=c(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function h(g){g=g||{};var k,R,C,A=2,U=this.context,P=Object(t.default)(U).getInstance(),V=g.dashMetrics;function B(){(C={})[L.default.VIDEO]={ignoreCount:A},C[L.default.AUDIO]={ignoreCount:A}}function Y(){B()}function re(Re){!isNaN(Re.startTime)&&(Re.mediaType===L.default.AUDIO||Re.mediaType===L.default.VIDEO)&&C[Re.mediaType].ignoreCount>0&&C[Re.mediaType].ignoreCount--}return k={getMaxIndex:function N(Re){var z=Object(F.default)(U).create();if(!Re||!Re.hasOwnProperty("getMediaType"))return z;!function T(){if(!V||!V.hasOwnProperty("getCurrentBufferLevel")||!V.hasOwnProperty("getCurrentBufferState"))throw new Error(L.default.MISSING_CONFIG_ERROR)}();var oe=Re.getMediaType(),H=V.getCurrentBufferState(oe),te=Re.getRepresentationInfo().fragmentDuration,ue=Re.getStreamInfo(),Se=ue?ue.id:null,Ie=Re.getScheduleController(),le=ue&&ue.manifestInfo&&ue.manifestInfo.isDynamic;if(function S(Re,z){return!Re&&C[z].ignoreCount>0}(Ie.getPlaybackController().getLowLatencyModeEnabled(),oe)||!te)return z;if(H&&H.state===D.default.BUFFER_EMPTY)R.debug("["+oe+"] Switch to index 0; buffer is empty."),z.quality=0,z.reason="InsufficientBufferRule: Buffer is empty";else{var _e=Re.getMediaInfo(),Le=Re.getAbrController(),Pe=Le.getThroughputHistory(),Oe=V.getCurrentBufferLevel(oe),Ue=Pe.getAverageThroughput(oe,le),ze=Pe.getAverageLatency(oe);z.quality=Le.getQualityForBitrate(_e,Ue*(Oe/te)*.5,Se,ze),z.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return z},reset:function ae(){B(),P.off(m.default.PLAYBACK_SEEKING,Y,k),P.off(E.default.BYTES_APPENDED_END_FRAGMENT,re,k)}},function w(){R=Object(b.default)(U).getInstance().getLogger(k),B(),P.on(m.default.PLAYBACK_SEEKING,Y,k),P.on(E.default.BYTES_APPENDED_END_FRAGMENT,re,k)}(),k}h.__dashjs_factory_name="InsufficientBufferRule",x.default=O.default.getClassFactory(h)},"./src/streaming/rules/abr/L2ARule.js":
/*!********************************************!*\
                  !*** ./src/streaming/rules/abr/L2ARule.js ***!
                  \********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),E=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),O=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=c(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),m=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js");function A(U){var R,C,w,T,P=this.context,V=(U=U||{}).dashMetrics,k=Object(F.default)(P).getInstance();function S(le){var Me={},we=le.getMediaInfo(),_e=we.bitrateList.map(function(Le){return Le.bandwidth/1e3});return Me.state=1,Me.bitrates=_e,Me.lastQuality=0,function B(le){!le||!le.type||(w[le.type]={},w[le.type].w=[],w[le.type].prev_w=[],w[le.type].Q=0,w[le.type].segment_request_start_s=0,w[le.type].segment_download_finish_s=0,w[le.type].B_target=1.5)}(we),Y(Me),Me}function Y(le){le.placeholderBuffer=0,le.mostAdvancedSegmentStart=NaN,le.lastSegmentWasReplacement=!1,le.lastSegmentStart=NaN,le.lastSegmentDurationS=NaN,le.lastSegmentRequestTimeMs=NaN,le.lastSegmentFinishTimeMs=NaN}function ae(){for(var le in C)if(C.hasOwnProperty(le)){var Me=C[le];0!==Me.state&&(Me.state=1,Y(Me))}}function Re(le){if(le&&le.chunk&&le.chunk.mediaInfo){var Me=C[le.chunk.mediaInfo.type],we=w[le.chunk.mediaInfo.type];if(Me&&0!==Me.state){var _e=le.chunk.start;isNaN(Me.mostAdvancedSegmentStart)||_e>Me.mostAdvancedSegmentStart?(Me.mostAdvancedSegmentStart=_e,Me.lastSegmentWasReplacement=!1):Me.lastSegmentWasReplacement=!0,Me.lastSegmentStart=_e,Me.lastSegmentDurationS=le.chunk.duration,Me.lastQuality=le.chunk.quality,oe(Me,we)}}}function z(le){if(le&&le.metric===t.default.HTTP_REQUEST&&le.value&&le.value.type===b.HTTPRequest.MEDIA_SEGMENT_TYPE&&le.value.trace&&le.value.trace.length){var Me=C[le.mediaType],we=w[le.mediaType];Me&&0!==Me.state&&(Me.lastSegmentRequestTimeMs=le.value.trequest.getTime(),Me.lastSegmentFinishTimeMs=le.value._tfinish.getTime(),oe(Me,we))}}function oe(le,Me){!isNaN(le.lastSegmentStart)&&!isNaN(le.lastSegmentRequestTimeMs)&&(Me.segment_request_start_s=.001*le.lastSegmentRequestTimeMs,Me.segment_download_finish_s=.001*le.lastSegmentFinishTimeMs,le.lastSegmentStart=NaN,le.lastSegmentRequestTimeMs=NaN)}function H(le){if(le&&le.mediaType){var Me=C[le.mediaType];Me&&0!==Me.state&&(Me.abrQuality=le.newQuality)}}function me(le,Me){if(le.length!==Me.length)return-1;for(var we=0,_e=0;_e<le.length;_e++)we+=le[_e]*Me[_e];return we}function Se(){C={},w={}}return R={getMaxIndex:function ue(le){var J,Me=Object(E.default)(P).create(),_e=Math.pow(4,.99),Le=Math.max(Math.pow(4,1),_e*Math.sqrt(4)),Pe=le.getMediaInfo(),Oe=le.getMediaType(),Ue=Pe.bitrateList.map(function($t){return $t.bandwidth}),ze=Ue.length,He=le.getScheduleController(),Ae=le.getStreamInfo(),ye=le.getAbrController(),K=ye.getThroughputHistory(),ie=Ae&&Ae.manifestInfo&&Ae.manifestInfo.isDynamic,he=le.useL2AABR(),$=V.getCurrentBufferLevel(Oe,!0),Z=K.getSafeAverageThroughput(Oe,ie),W=K.getAverageThroughput(Oe,ie),Q=K.getAverageLatency(Oe),de=le.getVideoModel().getPlaybackRate();if(!(le&&le.hasOwnProperty("getMediaInfo")&&le.hasOwnProperty("getMediaType")&&le.hasOwnProperty("getScheduleController")&&le.hasOwnProperty("getStreamInfo")&&le.hasOwnProperty("getAbrController")&&le.hasOwnProperty("useL2AABR")&&(Me.reason=Me.reason||{},he&&Oe!==m.default.AUDIO)))return Me;He.setTimeToLoadDelay(0);var pe=function re(le){var Me=le.getMediaType(),we=C[Me];return we||(we=S(le),C[Me]=we),we}(le);if(0===pe.state)return Me;var ce=w[Oe];if(!ce||(Me.reason.state=pe.state,Me.reason.throughput=W,Me.reason.latency=Q,isNaN(W)))return Me;switch(pe.state){case 1:if(J=ye.getQualityForBitrate(Pe,Z,Ae.id,Q),Me.quality=J,Me.reason.throughput=Z,pe.lastQuality=J,!isNaN(pe.lastSegmentDurationS)&&$>=ce.B_target){pe.state=2,ce.Q=_e;for(var Ce=0;Ce<ze;++Ce)ce.prev_w[Ce]=Ce===pe.lastQuality?1:0}break;case 2:var Ye=[],Be=V.getCurrentHttpRequest(Oe).trace.reduce(function($t,Qt){return $t+Qt.d},0),Ze=V.getCurrentHttpRequest(Oe).trace.reduce(function($t,Qt){return $t+Qt.b[0]},0),Qe=Math.round(8*Ze/Be);Qe<1&&(Qe=1);for(var $e=pe.lastSegmentDurationS,ct=1,It=0;It<ze;++It)Ue[It]=Ue[It]/1e3,de*Ue[It]>Qe&&(ct=-1),ce.w[It]=ce.prev_w[It]+ct*($e/(2*Le))*((ce.Q+_e)*(de*Ue[It]/Qe));ce.w=function te(le){for(var Me=le.length,we=!1,_e=[],Le=0;Le<Me;++Le)_e[Le]=le[Le];for(var Pe=le.sort(function(ye,K){return K-ye}),Oe=0,Ue=0,ze=[],He=0;He<Me-1;++He)if((Ue=((Oe+=Pe[He])-1)/(He+1))>=Pe[He+1]){we=!0;break}we||(Ue=(Oe+Pe[Me-1]-1)/Me);for(var Ae=0;Ae<Me;++Ae)ze[Ae]=Math.max(_e[Ae]-Ue,0);return ze}(ce.w);for(var _t=0;_t<ze;++_t)Ye[_t]=ce.w[_t]-ce.prev_w[_t],ce.prev_w[_t]=ce.w[_t];ce.Q=Math.max(0,ce.Q-$e+$e*de*((me(Ue,ce.prev_w)+me(Ue,Ye))/Qe));for(var Pt=[],Vt=0;Vt<ze;++Vt)Pt[Vt]=Math.abs(Ue[Vt]-me(ce.w,Ue));(J=Pt.indexOf(Math.min.apply(Math,Pt)))>pe.lastQuality&&Ue[pe.lastQuality+1]<=Qe&&(J=pe.lastQuality+1),Ue[J]>=Qe&&(ce.Q=2*Math.max(_e,ce.Q)),Me.quality=J,Me.reason.throughput=W,Me.reason.latency=Q,Me.reason.bufferLevel=$,pe.lastQuality=Me.quality;break;default:T.debug("L2A ABR rule invoked in bad state."),Me.quality=ye.getQualityForBitrate(Pe,Z,Ae.id,Q),Me.reason.state=pe.state,Me.reason.throughput=Z,Me.reason.latency=Q,pe.state=1,Y(pe)}return Me},reset:function Ie(){Se(),k.off(L.default.PLAYBACK_SEEKING,ae,R),k.off(L.default.MEDIA_FRAGMENT_LOADED,Re,R),k.off(L.default.METRIC_ADDED,z,R),k.off(L.default.QUALITY_CHANGE_REQUESTED,H,R)}},function N(){T=Object(D.default)(P).getInstance().getLogger(R),Se(),k.on(L.default.PLAYBACK_SEEKING,ae,R),k.on(L.default.MEDIA_FRAGMENT_LOADED,Re,R),k.on(L.default.METRIC_ADDED,z,R),k.on(L.default.QUALITY_CHANGE_REQUESTED,H,R)}(),R}A.__dashjs_factory_name="L2ARule",x.default=O.default.getClassFactory(A)},"./src/streaming/rules/abr/SwitchHistoryRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/SwitchHistoryRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),O=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function b(){var L,D,F=this.context;return L={getMaxIndex:function v(A){for(var U=A?A.getSwitchHistory():null,P=U?U.getSwitchRequests():[],V=0,k=0,R=0,C=Object(O.default)(F).create(),w=0;w<P.length;w++)if(void 0!==P[w]&&(R+=P[w].dropSize,(V+=P[w].drops)+(k+=P[w].noDrops)>=6&&V/k>.075)){C.quality=w>0&&P[w].drops>0?w-1:w,C.reason={index:C.quality,drops:V,noDrops:k,dropSize:R},D.debug("Switch history rule index: "+C.quality+" samples: "+(V+k)+" drops: "+V);break}return C}},function g(){D=Object(E.default)(F).getInstance().getLogger(L)}(),L}b.__dashjs_factory_name="SwitchHistoryRule",x.default=t.default.getClassFactory(b)},"./src/streaming/rules/abr/ThroughputRule.js":
/*!***************************************************!*\
                  !*** ./src/streaming/rules/abr/ThroughputRule.js ***!
                  \***************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),O=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function F(L){var D=this.context,m=(L=L||{}).dashMetrics;return{getMaxIndex:function A(P){var V=Object(E.default)(D).create();if(!(P&&P.hasOwnProperty("getMediaInfo")&&P.hasOwnProperty("getMediaType")&&P.hasOwnProperty("useBufferOccupancyABR")&&P.hasOwnProperty("getAbrController")&&P.hasOwnProperty("getScheduleController")))return V;!function v(){if(!m||!m.hasOwnProperty("getCurrentBufferState"))throw new Error(O.default.MISSING_CONFIG_ERROR)}();var k=P.getMediaInfo(),R=P.getMediaType(),C=m.getCurrentBufferState(R),w=P.getScheduleController(),T=P.getAbrController(),N=P.getStreamInfo(),S=N?N.id:null,B=N&&N.manifestInfo?N.manifestInfo.isDynamic:null,Y=T.getThroughputHistory(),re=Y.getSafeAverageThroughput(R,B),ae=Y.getAverageLatency(R),Re=P.useBufferOccupancyABR();return isNaN(re)||!C||Re||T.getAbandonmentStateFor(S,R)!==b.default.ABANDON_LOAD&&(C.state===b.default.BUFFER_LOADED||B)&&(V.quality=T.getQualityForBitrate(k,re,S,ae),w.setTimeToLoadDelay(0),V.reason={throughput:re,latency:ae}),V},reset:function U(){}}}F.__dashjs_factory_name="ThroughputRule",x.default=t.default.getClassFactory(F)},"./src/streaming/rules/abr/lolp/LearningAbrController.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LearningAbrController.js ***!
                  \***************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),O_MANUAL="manual_weight_selection",O_RANDOM="random_weight_selection",O_DYNAMIC="dynamic_weight_selection";function b(){var L,D,m,h,g,v,A,U,P,F=this.context;function R(){m=null,h=1,g=100,v=0,A=null,U=null,P=O_DYNAMIC}function C(){var ue=0;if(m)for(var Se=0;Se<m.length;Se++){var Ie=m[Se];Ie.state.throughput>ue&&(ue=Ie.state.throughput)}return ue}function T(ue,Se,Ie){var le=ue.map(function(we,_e){return Ie[_e]*Math.pow(we-Se[_e],2)}).reduce(function(we,_e){return we+_e});return(le<0?-1:1)*Math.sqrt(Math.abs(le))}function N(ue,Se){return T([ue.state.throughput,ue.state.latency,ue.state.rebuffer,ue.state.switch],[Se.state.throughput,Se.state.latency,Se.state.rebuffer,Se.state.switch],[1,1,1,1])}function S(ue,Se,Ie){for(var le=0;le<Se.length;le++){var Me=Se[le],_e=N(Me,ue);B(Me,Ie,Math.exp(-1*Math.pow(_e,2)/(2*Math.pow(.1,2))))}}function B(ue,Se,Ie){var le=ue.state,Me=[.01,.01,.01,.01];le.throughput=le.throughput+(Se[0]-le.throughput)*Me[0]*Ie,le.latency=le.latency+(Se[1]-le.latency)*Me[1]*Ie,le.rebuffer=le.rebuffer+(Se[2]-le.rebuffer)*Me[2]*Ie,le.switch=le.switch+(Se[3]-le.switch)*Me[3]*Ie}return L={getNextQuality:function re(ue,Se,Ie,le,Me,we,_e){var Le=Ie,Pe=le,Oe=Se,Ue=function H(ue){if(!m){m=[];var Se=ue.bitrateList,Ie=[];v=Se[0].bandwidth,Se.forEach(function(we){Ie.push(we.bandwidth),we.bandwidth<v&&(v=we.bandwidth)}),h=function w(ue){var Se=ue.map(function(Ie){return Math.pow(Ie,2)}).reduce(function(Ie,le){return Ie+le});return Math.sqrt(Se)}(Ie);for(var le=0;le<Se.length;le++)m.push({qualityIndex:le,bitrate:Se[le].bandwidth,state:{throughput:Se[le].bandwidth/h,latency:0,rebuffer:0,switch:0}});U=function te(ue){var Se=[],Ie=function me(ue){for(var Se=[],Ie=0;Ie<ue;Ie++){var le=[Math.random()*C(),Math.random(),Math.random(),Math.random()];Se.push(le)}return Se}(Math.pow(ue.length,2));Se.push(Ie[0]);for(var le=[1,1,1,1],Me=1;Me<ue.length;Me++){for(var we=null,_e=null,Le=0;Le<Ie.length;Le++){for(var Pe=Ie[Le],Oe=null,Ue=0;Ue<Se.length;Ue++){var ze=T(Pe,Se[Ue],le);(null===Oe||ze<Oe)&&(Oe=ze)}(null===_e||Oe>_e)&&(we=Pe,_e=Oe)}Se.push(we)}for(var He=null,Ae=null,ye=0;ye<Se.length;ye++){for(var K=0,ie=0;ie<Se.length;ie++)ye!==ie&&(K+=T(Se[ye],Se[ie],le));(null===He||K>He)&&(He=K,Ae=ye)}var he=[];for(he.push(Se[Ae]),Se.splice(Ae,1);Se.length>0;){for(var $=null,Z=null,W=0;W<Se.length;W++){var X=T(he[0],Se[W],le);(null===$||X<$)&&($=X,Z=W)}he.push(Se[Z]),Se.splice(Z,1)}return he}(m)}return m}(ue),ze=Se/h;ze>1&&(ze=C()),Ie/=g,D.debug("getNextQuality called throughput:".concat(ze," latency:").concat(Ie," bufferSize:").concat(le," currentQualityIndex:").concat(we," playbackRate:").concat(Me));var ie=Ue[we],he=ie.bitrate*_e.getSegmentDuration()/Oe,$=Math.max(0,he-Pe);if(Pe-he<_e.getMinBuffer())return D.debug("Buffer is low for bitrate= ".concat(ie.bitrate," downloadTime=").concat(he," currentBuffer=").concat(Pe," rebuffer=").concat($)),function Y(ue,Se){var Ie=0,le=ue;if(m)for(var Me=0;Me<m.length;Me++){var we=m[Me];we.bitrate<ue.bitrate&&we.bitrate>Ie&&Se>we.bitrate&&(Ie=we.bitrate,le=we)}return le}(ie,Oe).qualityIndex;switch(P){case O_MANUAL:!function ae(){A=[.4,.4,.4,.4]}();break;case O_RANDOM:!function Re(ue){A=function oe(ue,Se){for(var Ie=[],le=Math.sqrt(2/ue),Me=0;Me<Se;Me++)Ie.push(Math.random()*le);return A=Ie}(ue.length,4)}(Ue);break;default:!function z(ue,Se,Ie,le,Me,we,_e){A||(A=U[U.length-1]);var Le=ue.findWeightVector(Se,Ie,le,Me,we,_e);null!==Le&&-1!==Le&&(A=Le)}(_e,Ue,Le,Pe,$,Oe,Me)}for(var Z=null,W=null,X=null,Q=0;Q<Ue.length;Q++){var q=Ue[Q],J=q.state,de=[J.throughput,J.latency,J.rebuffer,J.switch],pe=A.slice(),ce=_e.getNextBufferWithBitrate(q.bitrate,Pe,Oe),Ce=ce<_e.getMinBuffer();Ce&&D.debug("Buffer is low for bitrate=".concat(q.bitrate," downloadTime=").concat(he," currentBuffer=").concat(Pe," nextBuffer=").concat(ce)),(q.bitrate>Se-1e4||Ce)&&q.bitrate!==v&&(pe[0]=100);var Ye=T(de,[ze,0,0,0],pe);(null===Z||Ye<Z)&&(Z=Ye,W=q.qualityIndex,X=q)}var Be=Math.abs(ie.bitrate-X.bitrate)/h;return S(ie,Ue,[ze,Ie,$,Be]),S(X,Ue,[ze,0,0,Be]),W},reset:function k(){R()}},function V(){D=Object(E.default)(F).getInstance().getLogger(L),R()}(),L}b.__dashjs_factory_name="LearningAbrController",x.default=t.default.getClassFactory(b)},"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js ***!
                  \**********************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ./QoeInfo */
"./src/streaming/rules/abr/lolp/QoeInfo.js");function O(){var b,F,L,D,m;function g(){F=null,L=null,D=null,m=null}function A(C,w,T,N){var S=new E.default;return S.type=C,S.weights.bitrateReward=w||1,S.weights.bitrateSwitchPenalty=1,S.weights.rebufferPenalty=T||1e3,S.weights.latencyPenalty=[],S.weights.latencyPenalty.push({threshold:1.1,penalty:.05*N}),S.weights.latencyPenalty.push({threshold:1e8,penalty:.1*T}),S.weights.playbackSpeedPenalty=N||200,S}function P(C,w,T,N,S){S.bitrateWSum+=S.weights.bitrateReward*C,S.lastBitrate&&(S.bitrateSwitchWSum+=S.weights.bitrateSwitchPenalty*Math.abs(C-S.lastBitrate)),S.lastBitrate=C,S.rebufferWSum+=S.weights.rebufferPenalty*w;for(var B=0;B<S.weights.latencyPenalty.length;B++){var Y=S.weights.latencyPenalty[B];if(T<=Y.threshold){S.latencyWSum+=Y.penalty*T;break}}S.playbackSpeedWSum+=S.weights.playbackSpeedPenalty*Math.abs(1-N),S.totalQoe=S.bitrateWSum-S.bitrateSwitchWSum-S.rebufferWSum-S.latencyWSum-S.playbackSpeedWSum}return b={setupPerSegmentQoe:function v(C,w,T){F=A("segment",C,w,T),L=C,D=w,m=T},logSegmentMetrics:function U(C,w,T,N){F&&P(C,w,T,N,F)},getPerSegmentQoe:function V(){return F},calculateSingleUseQoe:function k(C,w,T,N){var S=null;return L&&D&&m&&(S=A("segment",L,D,m)),S?(P(C,w,T,N,S),S.totalQoe):0},reset:function R(){g()}},function h(){g()}(),b}O.__dashjs_factory_name="LoLpQoeEvaluator",x.default=t.default.getClassFactory(O)},"./src/streaming/rules/abr/lolp/LoLpRule.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpRule.js ***!
                  \**************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),E=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),O=c(
/*! ./LearningAbrController */
"./src/streaming/rules/abr/lolp/LearningAbrController.js"),b=c(
/*! ./LoLpQoEEvaluator */
"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js"),F=c(
/*! ../../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),L=c(
/*! ../../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),D=c(
/*! ./LoLpWeightSelector */
"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js"),m=c(
/*! ../../../constants/Constants */
"./src/streaming/constants/Constants.js");function v(A){var V,k,R,C,U=(A=A||{}).dashMetrics,P=this.context;return k={getMaxIndex:function T(B){try{var Y=Object(F.default)(P).create(),re=B.getMediaInfo().type,ae=B.getAbrController(),Re=B.getStreamInfo(),z=ae.getQualityFor(re,Re.id),oe=B.getMediaInfo(),H=U.getCurrentBufferState(re),me=B.getScheduleController(),te=U.getCurrentBufferLevel(re,!0),ue=Re&&Re.manifestInfo?Re.manifestInfo.isDynamic:null,Se=me.getPlaybackController(),Ie=Se.getCurrentLiveLatency();if(!B.useLoLPABR()||re===m.default.AUDIO)return Y;Ie||(Ie=0);var le=Se.getPlaybackRate(),we=ae.getThroughputHistory().getSafeAverageThroughput(re,ue);if(V.debug("Throughput ".concat(Math.round(we)," kbps")),isNaN(we)||!H||ae.getAbandonmentStateFor(Re.id,re)===L.default.ABANDON_LOAD)return Y;for(var _e=oe.bitrateList,Le=B.getRepresentationInfo().fragmentDuration,Pe=_e[0].bandwidth/1e3,Oe=_e[_e.length-1].bandwidth/1e3,Ue=0;Ue<_e.length;Ue++){var ze=_e[Ue].bandwidth/1e3;ze>Oe?Oe=ze:ze<Pe&&(Pe=ze)}var Ae=_e[z].bandwidth/1e3,ye=U.getCurrentHttpRequest(re,!0),K=(ye.tresponse.getTime()-ye.trequest.getTime())/1e3,ie=K>Le?K-Le:0;C.setupPerSegmentQoe(Le,Oe,Pe),C.logSegmentMetrics(Ae,ie,Ie,le);var he=Object(D.default)(P).create({targetLatency:1.5,bufferMin:.3,segmentDuration:Le,qoeEvaluator:C});return Y.quality=R.getNextQuality(oe,1e3*we,Ie,te,le,z,he),Y.reason={throughput:we,latency:Ie},Y.priority=F.default.PRIORITY.STRONG,me.setTimeToLoadDelay(0),Y.quality!==z&&console.log("[TgcLearningRule]["+re+"] requesting switch to index: ",Y.quality,"Average throughput",Math.round(we),"kbps"),Y}catch($){throw $}},reset:function S(){!function N(){R.reset(),C.reset()}()}},function w(){V=Object(t.default)(P).getInstance().getLogger(k),R=Object(O.default)(P).create(),C=Object(b.default)(P).create()}(),k}v.__dashjs_factory_name="LoLPRule",x.default=E.default.getClassFactory(v)},"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js":
/*!************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpWeightSelector.js ***!
                  \************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(O){var m,v,A,b=O.targetLatency,F=O.bufferMin,L=O.segmentDuration,D=O.qoeEvaluator;function w(){return L}function N(S,B){var Y=w();return B>Y?S-Y:S+Y-B}return m={getMinBuffer:function C(){return F},getSegmentDuration:w,getNextBufferWithBitrate:function T(S,B,Y){return N(B,S*L/Y)},getNextBuffer:N,findWeightVector:function V(S,B,Y,re,ae,Re){var z=null,oe=null,H=null,me=Math.abs(B-A);return S.forEach(function(te){v.forEach(function(ue){var Se_latency=ue[1],Se_buffer=ue[2],Ie=te.bitrate*L/ae,le=N(Y,Ie),Me=Math.max(1e-5,Ie-le),Pe=D.calculateSingleUseQoe(te.bitrate,(0===Se_buffer?10:1/Se_buffer)*Me,(0===Se_latency?10:1/Se_latency)*te.state.latency,Re);(null===z||Pe>z)&&function k(S,B,Y){return!(S>b+Y)&&B>=F}(B,le,me)&&(z=Pe,oe=ue,H=te.bitrate)})}),null===oe&&null===H&&(oe=-1),A=B,oe}},function U(){!function P(){v=function R(S,B){return function ae(Re,z,oe){if(oe===z)return Re;for(var H=Re.length,me=0;me<H;me++)for(var te=Re.shift(),ue=0;ue<S.length;ue++)Re.push(te.concat(S[ue]));return ae(Re,z,oe+1)}(S.map(function(ae){return[ae]}),B,1)}([.2,.4,.6,.8,1],4),A=0}()}(),m}E.__dashjs_factory_name="LoLpWeightSelector",x.default=t.default.getClassFactory(E)},"./src/streaming/rules/abr/lolp/QoeInfo.js":
/*!*************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/QoeInfo.js ***!
                  \*************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0})},"./src/streaming/text/EmbeddedTextHtmlRender.js":
/*!******************************************************!*\
                  !*** ./src/streaming/text/EmbeddedTextHtmlRender.js ***!
                  \******************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var O=0;function F(A){for(var U="",P=0;P<A.length;++P)U+=A[P].uchar;return U.length-U.replace(/^\s+/,"").length}function L(A){return"left: "+3.125*A.x+"%; top: "+6.66*A.y1+"%; width: "+(100-3.125*A.x)+"%; height: "+6.66*Math.max(A.y2-1-A.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function D(A){return"red"===A?"rgb(255, 0, 0)":"green"===A?"rgb(0, 255, 0)":"blue"===A?"rgb(0, 0, 255)":"cyan"===A?"rgb(0, 255, 255)":"magenta"===A?"rgb(255, 0, 255)":"yellow"===A?"rgb(255, 255, 0)":"white"===A?"rgb(255, 255, 255)":"black"===A?"rgb(0, 0, 0)":A}function m(A,U){var P=A.videoHeight/15;return U?"font-size: "+P+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(U.foreground?D(U.foreground):"rgb(255, 255, 255)")+"; font-style: "+(U.italics?"italic":"normal")+"; text-decoration: "+(U.underline?"underline":"none")+"; white-space: pre; background-color: "+(U.background?D(U.background):"transparent")+";":"font-size: "+P+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function h(A){return A.replace(/^\s+/g,"")}function g(A){return A.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function v(A,U,P,V){var re,ae,k=null,C=!1,w=-1,T={start:U,end:P,spans:[]},N="style_cea608_white_black",S={},B={},Y=[];for(re=0;re<15;++re){var Re=V.rows[re],z="",oe=null;if(!1===Re.isEmpty()){var H=F(Re.chars);null===k&&(k={x:H,y1:re,y2:re+1,p:[]}),H!==w&&C&&(k.p.push(T),T={start:U,end:P,spans:[]},k.y2=re,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===S.hasOwnProperty(k.name)?(Y.push(k),S[k.name]=k):S[k.name].p.contat(k.p),k={x:H,y1:re,y2:re+1,p:[]});for(var me=0;me<Re.chars.length;++me){var te=Re.chars[me],ue=te.penState;if(null===oe||!ue.equals(oe)){z.trim().length>0&&(T.spans.push({name:N,line:z,row:re}),z="");var Se="style_cea608_"+ue.foreground+"_"+ue.background;ue.underline&&(Se+="_underline"),ue.italics&&(Se+="_italics"),B.hasOwnProperty(Se)||(B[Se]=JSON.parse(JSON.stringify(ue))),oe=ue,N=Se}z+=te.uchar}z.trim().length>0&&T.spans.push({name:N,line:z,row:re}),C=!0,w=H}else C=!1,w=-1,k&&(k.p.push(T),T={start:U,end:P,spans:[]},k.y2=re,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===S.hasOwnProperty(k.name)?(Y.push(k),S[k.name]=k):S[k.name].p.contat(k.p),k=null)}k&&(k.p.push(T),k.y2=re+1,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===S.hasOwnProperty(k.name)?(Y.push(k),S[k.name]=k):S[k.name].p.contat(k.p),k=null);var Ie=[];for(re=0;re<Y.length;++re){var le=Y[re],Me="sub_cea608_"+O++,we=document.createElement("div");we.id=Me;var _e=L(le);we.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+_e;var Le=document.createElement("div");Le.className="paragraph bodyStyle",Le.style.cssText=m(A);var Pe=document.createElement("div");Pe.className="cueUniWrapper",Pe.style.cssText="unicode-bidi: normal; direction: ltr;";for(var Oe=0;Oe<le.p.length;++Oe){var Ue=le.p[Oe],ze=0;for(ae=0;ae<Ue.spans.length;++ae){var He=Ue.spans[ae];if(He.line.length>0){if(0!==ae&&ze!=He.row){var Ae=document.createElement("br");Ae.className="lineBreak",Pe.appendChild(Ae)}var ye=!1;ze===He.row&&(ye=!0),ze=He.row;var K=B[He.name],ie=document.createElement("span");ie.className="spanPadding "+He.name+" customSpanColor",ie.style.cssText=m(A,K),ie.textContent=0!==ae&&ye?ae===Ue.spans.length-1?g(He.line):He.line:Ue.spans.length>1&&ae<Ue.spans.length-1&&He.row===Ue.spans[ae+1].row?h(He.line):He.line.trim(),Pe.appendChild(ie)}}}Le.appendChild(Pe),we.appendChild(Le);var he={bodyStyle:["%",90]};for(var $ in B)B.hasOwnProperty($)&&(he[$]=["%",90]);Ie.push({type:"html",start:U,end:P,cueHTMLElement:we,cueID:Me,cellResolution:[32,15],isFromCEA608:!0,fontSize:he,lineHeight:{},linePadding:{}})}return Ie}}}E.__dashjs_factory_name="EmbeddedTextHtmlRender",x.default=t.default.getSingletonFactory(E)},"./src/streaming/text/NotFragmentedTextBufferController.js":
/*!*****************************************************************!*\
                  !*** ./src/streaming/text/NotFragmentedTextBufferController.js ***!
                  \*****************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),O=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),F=c(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),L=c(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),D=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),m="NotFragmentedTextBufferController";function h(g){g=g||{};var R,C,w,T,N,S,v=this.context,A=Object(t.default)(v).getInstance(),U=g.textController,P=g.errHandler,V=g.streamInfo,k=g.type;function H(W){T=W}function Ie(W){C!==W&&(C=W)&&function Z(W,X){A.trigger(W,X||{},{streamId:V.id,mediaType:k})}(E.default.BUFFERING_COMPLETED)}function we(W){!W.chunk.bytes||C||(S.save(W.chunk),N.append(W.chunk),Ie(!0))}return R={initialize:function re(W){H(W)},getStreamId:function Re(){return V.id},getType:function z(){return k},getBufferControllerType:function Y(){return m},createBufferSink:function ae(W){return new Promise(function(X,Q){try{(N=Object(F.default)(v).create({mediaSource:T,textController:U,eventBus:A})).initializeForFirstUse(V,W),w||(N.getBuffer()&&"function"==typeof N.getBuffer().initialize&&N.getBuffer().initialize(),w=!0),X(N)}catch(q){P.error(new L.default(D.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,D.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+k)),Q(q)}})},getBuffer:function oe(){return N},getBufferLevel:function ue(){return 0},getRangeAt:function _e(){return null},pruneBuffer:function ze(){},hasBufferAtTime:function Le(){return!0},getAllRangesWithSafetyFactor:function Pe(){return[]},getContinuousBufferTimeForTargetTime:function Oe(){return Number.POSITIVE_INFINITY},setMediaSource:H,getMediaSource:function me(){return T},appendInitSegmentFromCache:function Me(W){return null!==S.extract(V.id,W)},getIsBufferingCompleted:function Se(){return C},setIsBufferingCompleted:Ie,getIsPruningInProgress:function te(){return!1},reset:function le(W){A.off(E.default.INIT_FRAGMENT_LOADED,we,R),!W&&N&&(N.abort(),N.reset(),N=null)},clearBuffers:function Ue(){return Promise.resolve()},prepareForPlaybackSeek:function Ae(){return Promise.resolve()},prepareForReplacementTrackSwitch:function ye(){return C=!1,Promise.resolve()},setSeekTarget:function ie(){},updateAppendWindow:function K(){return Promise.resolve()},pruneAllSafely:function $(){return Promise.resolve()},updateBufferTimestampOffset:function He(){return Promise.resolve()},segmentRequestingCompleted:function he(){}},function B(){w=!1,T=null,C=!1,S=Object(b.default)(v).getInstance(),A.on(E.default.INIT_FRAGMENT_LOADED,we,R)}(),R}h.__dashjs_factory_name=m,x.default=O.default.getClassFactory(h)},"./src/streaming/text/TextController.js":
/*!**********************************************!*\
                  !*** ./src/streaming/text/TextController.js ***!
                  \**********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),O=c(
/*! ./TextSourceBuffer */
"./src/streaming/text/TextSourceBuffer.js"),b=c(
/*! ./TextTracks */
"./src/streaming/text/TextTracks.js"),F=c(
/*! ../utils/VTTParser */
"./src/streaming/utils/VTTParser.js"),L=c(
/*! ../utils/VttCustomRenderingParser */
"./src/streaming/utils/VttCustomRenderingParser.js"),D=c(
/*! ../utils/TTMLParser */
"./src/streaming/utils/TTMLParser.js"),m=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),h=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),g=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),v=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function A(U){var N,S,B,Y,re,ae,Re,z,oe,H,me,te,P=this.context,V=U.adapter,k=U.errHandler,R=U.manifestModel,C=U.mediaController,w=U.videoModel,T=U.settings;function Pe(X){var Q=X.tracks,q=X.index,J=X.streamId;if(!1===T.get().streaming.text.defaultEnabled&&!He()||te)ye(J,-1);else{var pe=C.getCurrentTrackFor(t.default.TEXT,J);if(pe){var ce={lang:pe.lang,role:pe.roles[0],index:pe.index,codec:pe.codec,accessibility:pe.accessibility[0]};Q.some(function(Ce,Ye){if(C.matchSettings(ce,Ce))return ye(J,Ye),q=Ye,!0})}oe=!1}S[J].lastEnabledIndex=q,z.trigger(g.default.TEXT_TRACKS_ADDED,{enabled:He(),index:q,tracks:Q,streamId:J}),me=!0}function Oe(X){try{var Q=X.streamId;if(!Y[Q]||isNaN(X.time))return;Y[Q].manualCueProcessing(X.time)}catch{}}function Ue(X){try{var Q=X.streamId;if(!Y[Q])return;Y[Q].disableManualTracks()}catch{}}function He(){var X=!0;return oe&&!H&&(X=!1),X}function ye(X,Q){(oe=-1===Q)&&C&&C.saveTextSettingsDisabled();var q=he(X);if(q!==Q&&Y[X]){Y[X].disableManualTracks(),Y[X].setModeForTrackIdx(q,t.default.TEXT_HIDDEN),Y[X].setCurrentTrackIdx(Q),Y[X].setModeForTrackIdx(Q,t.default.TEXT_SHOWING);var J=Y[X].getCurrentTrackInfo();J&&J.isFragmented&&!J.isEmbedded?function K(X,Q,q){if(B[X])for(var de=B[X].getConfig().fragmentedTracks,pe=0;pe<de.length;pe++){var ce=de[pe];if(Q.lang===ce.lang&&(ce.id?Q.id===ce.id:Q.index===ce.index)){var Ce=C.getCurrentTrackFor(t.default.TEXT,X);(ce.id?Ce.id!==ce.id:Ce.index!==ce.index)?(Y[X].deleteCuesFromTrackIdx(q),B[X].setCurrentFragmentedTrackIdx(pe)):-1===q&&z.trigger(h.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:X,mediaType:t.default.TEXT})}}}(X,J,q):J&&!J.isFragmented&&function ie(X,Q){z.trigger(h.default.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:Q},{streamId:X,mediaType:t.default.TEXT})}(X,J),C.setTrack(J)}}function he(X){return Y[X].getCurrentTrackIdx()}function Z(){B={},Y={},S={},oe=!0,me=!1,te=!1}return N={deactivateStream:function $(X){if(X){var Q=X.id;B[Q]&&B[Q].resetMediaInfos(),Y[Q]&&Y[Q].deleteAllTextTracks()}},initialize:function Se(){z.on(h.default.TEXT_TRACKS_QUEUE_INITIALIZED,Pe,N),T.get().streaming.text.webvtt.customRenderingEnabled&&(z.on(h.default.PLAYBACK_TIME_UPDATED,Oe,N),z.on(h.default.PLAYBACK_SEEKING,Ue,N))},initializeForStream:function Ie(X){var Q=X.id,q=Object(b.default)(P).create({videoModel:w,settings:T,streamInfo:X});q.initialize(),Y[Q]=q;var J=Object(O.default)(P).create({errHandler:k,adapter:V,manifestModel:R,mediaController:C,videoModel:w,textTracks:q,vttParser:re,vttCustomRenderingParser:ae,ttmlParser:Re,streamInfo:X,settings:T});J.initialize(),B[Q]=J,S[Q]={},S[Q].lastEnabledIndex=-1},createTracks:function le(X){var Q=X.id;Y[Q]&&Y[Q].createTracks()},getTextSourceBuffer:function we(X){var Q=X.id;if(B&&B[Q])return B[Q]},getAllTracksAreDisabled:function _e(){return oe},addEmbeddedTrack:function Le(X,Q){var q=X.id;B[q]&&B[q].addEmbeddedTrack(Q)},enableText:function ze(X,Q){Object(v.checkParameterType)(Q,"boolean"),He()!==Q&&(Q&&ye(X,S[X].lastEnabledIndex),Q||(S[X].lastEnabledIndex=he(X),me?ye(X,-1):te=!0))},isTextEnabled:He,setTextTrack:ye,getCurrentTrackIdx:he,enableForcedTextStreaming:function Ae(X){Object(v.checkParameterType)(X,"boolean"),H=X},addMediaInfosToBuffer:function Me(X,Q,q){var de=X.id;B[de]&&B[de].addMediaInfos(Q,q,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},reset:function W(){Z(),z.off(h.default.TEXT_TRACKS_QUEUE_INITIALIZED,Pe,N),T.get().streaming.text.webvtt.customRenderingEnabled&&(z.off(h.default.PLAYBACK_TIME_UPDATED,Oe,N),z.off(h.default.PLAYBACK_SEEKING,Ue,N)),Object.keys(B).forEach(function(X){B[X].resetEmbedded(),B[X].reset()})}},function ue(){H=!1,me=!1,te=!1,re=Object(F.default)(P).getInstance(),ae=Object(L.default)(P).getInstance(),Re=Object(D.default)(P).getInstance(),z=Object(m.default)(P).getInstance(),Z()}(),N}A.__dashjs_factory_name="TextController",x.default=E.default.getClassFactory(A)},"./src/streaming/text/TextSourceBuffer.js":
/*!************************************************!*\
                  !*** ./src/streaming/text/TextSourceBuffer.js ***!
                  \************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),O=c(
/*! ../vo/TextTrackInfo */
"./src/streaming/vo/TextTrackInfo.js"),b=c(
/*! ../utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),F=c(
/*! ../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js"),L=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),D=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),m=c(
/*! ./EmbeddedTextHtmlRender */
"./src/streaming/text/EmbeddedTextHtmlRender.js"),h=c(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),g=c.n(h),v=c(
/*! ../../../externals/cea608-parser */
"./externals/cea608-parser.js"),A=c.n(v),U=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),P=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),V=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),k=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js");function R(C){var te,ue,Se,Ie,le,Me,we,_e,Le,Pe,Oe,Ue,ze,He,Ae,ye,w=C.errHandler,T=C.manifestModel,N=C.mediaController,S=C.videoModel,B=C.textTracks,Y=C.vttParser,re=C.vttCustomRenderingParser,ae=C.ttmlParser,Re=C.streamInfo,z=C.settings,oe=this.context,H=Object(U.default)(oe).getInstance(),me=!1;function $(){(function he(){Me=null,_e=NaN,Le=[],Pe=null,we=!1})(),le=[],Ie=null}function X(fe){var ge=new O.default;for(var mt in fe)ge[mt]=fe[mt];ge.labels=fe.labels,ge.defaultTrack=function pn(fe){var ge=!1;return Ue.length>1&&fe.isEmbedded?ge=fe.id&&fe.id===t.default.CC1:1===Ue.length?fe.id&&"string"==typeof fe.id&&"CC"===fe.id.substring(0,2)&&(ge=!0):0===Ue.length&&(ge=fe.index===le[0].index),ge}(fe),ge.isFragmented=fe.isFragmented,ge.isEmbedded=!!fe.isEmbedded,ge.isTTML=function Be(fe){return fe.codec&&fe.codec.search(t.default.STPP)>=0||fe.mimeType&&fe.mimeType.search(t.default.TTML)>=0}(fe),ge.kind=function Ze(fe,ge){var st=fe.roles&&fe.roles.length>0?ge[fe.roles[0]]:ge.caption;return st===ge.caption||st===ge.subtitle?st:ge.caption}(fe,{subtitle:"subtitles",caption:"captions"}),B.addTextTrack(ge)}function J(fe){var ge=fe.chunk;ge.mediaInfo.embeddedCaptions&&Qe(ge.bytes,ge)}function Ye(fe){Oe=fe}function Qe(fe,ge){var st=ge.mediaInfo,mt=st.type,ut=st.codec||st.mimeType;ut?-1!==st.codec.indexOf("application/mp4")?function $e(fe,ge,st){var mt;if("InitializationSegment"===ge.segmentType)we=!0,_e=Se.getMediaTimescaleFromMoov(fe);else{if(!we)return;(mt=Se.getSamplesInfo(fe).sampleList).length>0&&(Pe=mt[0].cts-ge.start*_e),st.search(t.default.STPP)>=0?function ct(fe,ge,st){var mt,Dt;for(Ie=null!==Ie?Ie:Un(st),mt=0;mt<ge.length;mt++){var ut=ge[mt],bt=ut.cts,Nt=dn(),Zt=Nt+bt/_e;te.buffered.add(Zt,Zt+ut.duration/_e);var Ht=new DataView(fe,ut.offset,ut.subSizes[0]),en=g.a.Utils.dataViewToString(Ht,t.default.UTF8),tn=[],yn=ut.offset+ut.subSizes[0];for(Dt=1;Dt<ut.subSizes.length;Dt++){var Tn=new Uint8Array(fe,yn,ut.subSizes[Dt]),In=String.fromCharCode.apply(null,Tn);tn.push(In),yn+=ut.subSizes[Dt]}try{var kn=T.getValue(),ui=Ie.parse(en,kn.ttmlTimeIsRelative?bt/_e:0,bt/_e,(bt+ut.duration)/_e,tn);B.addCaptions(Oe,Nt,ui)}catch(Ft){Me.removeExecutedRequestsBeforeTime(),this.remove(),ue.error("TTML parser error: "+Ft.message)}}}(fe,mt,st):function It(fe,ge){var st,mt,Dt,ut=[];for(st=0;st<ge.length;st++){var bt=ge[st];bt.cts-=Pe;var Zt=dn()+bt.cts/_e;te.buffered.add(Zt,Zt+bt.duration/_e);var Ht=fe.slice(bt.offset,bt.offset+bt.size),en=g.a.parseBuffer(Ht);for(mt=0;mt<en.boxes.length;mt++){var tn=en.boxes[mt];if(ue.debug("VTT box1: "+tn.type),"vtte"!==tn.type&&"vttc"===tn.type)for(ue.debug("VTT vttc boxes.length = "+tn.boxes.length),Dt=0;Dt<tn.boxes.length;Dt++){var yn=tn.boxes[Dt];if(ue.debug("VTT box2: "+yn.type),"payl"===yn.type){var Tn=yn.cue_text;ue.debug("VTT cue_text = "+Tn);var In=bt.cts/_e,kn=(bt.cts+bt.duration)/_e;ut.push({start:In,end:kn,data:Tn,styles:{}}),ue.debug("VTT "+In+"-"+kn+" : "+Tn)}}}}ut.length>0&&B.addCaptions(Oe,0,ut)}(fe,mt)}}(fe,ge,ut):mt===t.default.VIDEO?function Pt(fe,ge){var st,mt;if(ge.segmentType===E.HTTPRequest.INIT_SEGMENT_TYPE)0===ze&&(ze=Se.getMediaTimescaleFromMoov(fe));else if(ge.segmentType===E.HTTPRequest.MEDIA_SEGMENT_TYPE){if(0===ze)return void ue.warn("CEA-608: No timescale for embeddedTextTrack yet");var Dt=(mt=Se.getSamplesInfo(fe)).lastSequenceNumber;if(!Ae[0]&&!Ae[1]&&function Vt(){for(var fe,ge=0;ge<Ue.length;ge++){if(-1===(fe=B.getTrackIdxForId(Ue[ge].id)))return void ue.warn("CEA-608: data before track is ready.");var st=$t(fe);Ae[ge]=new A.a.Cea608Parser(ge+1,{newCue:st},null)}}(),ze){if(null!==He&&Dt!==He+mt.numSequences)for(st=0;st<Ae.length;st++)Ae[st]&&Ae[st].reset();for(var ut=function Qt(fe,ge){if(0===ge.length)return null;for(var st={splits:[],fields:[[],[]]},mt=new DataView(fe),Dt=0;Dt<ge.length;Dt++)for(var ut=ge[Dt],bt=A.a.findCea608Nalus(mt,ut.offset,ut.size),Nt=null,Zt=0,wt=0;wt<bt.length;wt++)for(var Ht=A.a.extractCea608DataFromRange(mt,bt[wt]),en=0;en<2;en++)if(Ht[en].length>0){ut.cts!==Nt?Zt=0:Zt+=1;var tn=dn();st.fields[en].push([ut.cts+tn*ze,Ht[en],Zt]),Nt=ut.cts}return st.fields.forEach(function(Tn){Tn.sort(function(In,kn){return In[0]===kn[0]?In[2]-kn[2]:In[0]-kn[0]})}),st}(fe,mt.sampleList),bt=0;bt<Ae.length;bt++){var Nt=ut.fields[bt],Zt=Ae[bt];if(Zt)for(st=0;st<Nt.length;st++)Zt.addData(Nt[st][0]/ze,Nt[st][1])}He=Dt}}}(fe,ge):function _t(fe,ge,st){var mt,Dt,ut=new DataView(fe,0,fe.byteLength);Dt=g.a.Utils.dataViewToString(ut,t.default.UTF8);try{mt=Un(st).parse(Dt,0),B.addCaptions(B.getCurrentTrackIdx(),0,mt),te.buffered&&te.buffered.add(ge.start,ge.end)}catch(bt){w.error(new V.default(k.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,k.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+bt.message,Dt))}}(fe,ge,ut):ue.error("No text type defined")}function $t(fe){return function ge(st,mt,Dt){var ut;(ut=S.getTTMLRenderingDiv()?ye.createHTMLCaptionsFromScreen(S.getElement(),st,mt,Dt):[{start:st,end:mt,data:Dt.getDisplayText(),styles:{}}])&&B.addCaptions(fe,0,ut)}}function dn(){return isNaN(te.timestampOffset)?0:te.timestampOffset}function Un(fe){var ge;return fe.search(t.default.VTT)>=0?ge=z.get().streaming.text.webvtt.customRenderingEnabled&&re?re:Y:(fe.search(t.default.TTML)>=0||fe.search(t.default.STPP)>=0)&&(ge=ae),ge}function dt(fe){Ue.forEach(function(ge){var st=B.getTrackIdxForId(ge.id);st>=0&&B.deleteCuesFromTrackIdx(st,fe.from,fe.to)})}return te={initialize:function Z(){me||function de(){Ue=[],Oe=null,ze=0,Ae=[],He=null,me=!0,ye=Object(m.default)(oe).getInstance(),H.on(P.default.VIDEO_CHUNK_RECEIVED,J,te),H.on(P.default.BUFFER_CLEARED,dt,te)}()},addMediaInfos:function W(fe,ge,st){if(le=le.concat(ge),fe===t.default.TEXT&&ge[0].isFragmented&&!ge[0].isEmbedded){Me=st,te.buffered=Object(F.default)(oe).create(),Le=N.getTracksFor(t.default.TEXT,Re.id).filter(function(bt){return bt.isFragmented});for(var mt=N.getCurrentTrackFor(t.default.TEXT,Re.id),Dt=0;Dt<Le.length;Dt++)if(Le[Dt]===mt){Ye(Dt);break}}for(var ut=0;ut<ge.length;ut++)X(ge[ut])},resetMediaInfos:function xe(){le=[]},getStreamId:function ie(){return Re.id},append:Qe,abort:function Q(){},addEmbeddedTrack:function ce(fe){if(me&&fe)if(fe.id===t.default.CC1||fe.id===t.default.CC3){for(var ge=0;ge<Ue.length;ge++)if(Ue[ge].id===fe.id)return;Ue.push(fe)}else ue.warn("Embedded track "+fe.id+" not supported!")},resetEmbedded:function pe(){H.off(P.default.VIDEO_CHUNK_RECEIVED,J,te),H.off(P.default.BUFFER_CLEARED,dt,te),B&&B.deleteAllTextTracks(),me=!1,Ue=[],Ae=[null,null],He=null},getConfig:function Ce(){return{fragmentModel:Me,fragmentedTracks:Le,videoModel:S}},setCurrentFragmentedTrackIdx:Ye,remove:function ot(fe,ge){void 0===fe&&fe===ge&&(fe=te.buffered.start(0),ge=te.buffered.end(te.buffered.length-1)),te.buffered.remove(fe,ge),B.deleteCuesFromTrackIdx(Oe,fe,ge)},reset:function q(){$(),le=[],Se=null}},function K(){ue=Object(D.default)(oe).getInstance().getLogger(te),Se=Object(b.default)(oe).getInstance(),$()}(),te}R.__dashjs_factory_name="TextSourceBuffer",x.default=L.default.getClassFactory(R)},"./src/streaming/text/TextTracks.js":
/*!******************************************!*\
                  !*** ./src/streaming/text/TextTracks.js ***!
                  \******************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),O=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),L=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),D=c(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js");function h(U,P){var V=typeof Symbol<"u"&&U[Symbol.iterator]||U["@@iterator"];if(!V){if(Array.isArray(U)||(V=function g(U,P){if(U){if("string"==typeof U)return v(U,P);var V=Object.prototype.toString.call(U).slice(8,-1);if("Object"===V&&U.constructor&&(V=U.constructor.name),"Map"===V||"Set"===V)return Array.from(U);if("Arguments"===V||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return v(U,P)}}(U))||P&&U&&"number"==typeof U.length){V&&(U=V);var k=0,R=function(){};return{s:R,n:function(){return k>=U.length?{done:!0}:{done:!1,value:U[k++]}},e:function(S){throw S},f:R}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var T,C=!0,w=!1;return{s:function(){V=V.call(U)},n:function(){var S=V.next();return C=S.done,S},e:function(S){w=!0,T=S},f:function(){try{!C&&null!=V.return&&V.return()}finally{if(w)throw T}}}}function v(U,P){(null==P||P>U.length)&&(P=U.length);for(var V=0,k=new Array(P);V<P;V++)k[V]=U[V];return k}function A(U){var w,T,N,S,B,Y,re,ae,Re,z,oe,H,me,te,ue,Se,Ie,le,P=this.context,V=Object(E.default)(P).getInstance(),k=U.videoModel,R=U.streamInfo,C=U.settings;function Le(_t){return k.addTextTrack(_t.kind,void 0!==_t.id?_t.id:_t.lang,_t.lang,_t.isTTML,_t.isEmbedded)}function Ue(_t,Pt,Vt,$t,Qt,dn){var ot=0,dt=0;_t/Pt>Vt/$t?ot=(dt=Pt)/$t*Vt:dt=(ot=_t)/Vt*$t;var xe,fe,ge=0,st=0;return ot/dt>Qt?(st=dt,ge=dt*Qt):(ge=ot,st=ot/Qt),xe=(_t-ge)/2,fe=(Pt-st)/2,dn?{x:xe+.1*ge,y:fe+.1*st,w:.8*ge,h:.8*st}:{x:xe,y:fe,w:ge,h:st}}function ze(_t,Pt){var Vt=k.getClientWidth(),$t=k.getClientHeight(),Qt=k.getVideoWidth(),dn=k.getVideoHeight(),pn=k.getVideoRelativeOffsetTop(),Un=k.getVideoRelativeOffsetLeft();if(0!==Qt&&0!==dn){var ot=Qt/dn,dt=!1;_t.isFromCEA608&&(ot=3.5/3,dt=!0);var xe=Ue.call(this,Vt,$t,Qt,dn,ot,dt),fe=xe.w,ge=xe.h,st=xe.x,mt=xe.y;if(fe!=Re||ge!=z||st!=re||mt!=ae||Pt){if(re=st+Un,ae=mt+pn,Re=fe,z=ge,oe){var Dt=oe.style;Dt&&(Dt.left=re+"px",Dt.top=ae+"px",Dt.width=Re+"px",Dt.height=z+"px",Dt.zIndex=te&&document[te]||ue?Ie:null,V.trigger(b.default.CAPTION_CONTAINER_RESIZE))}var ut=_t.activeCues;if(ut)for(var bt=ut.length,Nt=0;Nt<bt;++Nt){var Zt=ut[Nt];Zt.scaleCue(Zt)}}}}function He(_t){var $t,Qt,dn,pn,Un;if(_t.cellResolution){var ot=[Re/_t.cellResolution[0],z/_t.cellResolution[1]];if(_t.linePadding)for($t in _t.linePadding)if(_t.linePadding.hasOwnProperty($t)){Qt=(_t.linePadding[$t]*ot[0]).toString();for(var xe=document.getElementsByClassName("spanPadding"),fe=0;fe<xe.length;fe++)xe[fe].style.cssText=xe[fe].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Qt),xe[fe].style.cssText=xe[fe].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Qt)}if(_t.fontSize){for($t in _t.fontSize)if(_t.fontSize.hasOwnProperty($t)){"%"===_t.fontSize[$t][0]?dn=_t.fontSize[$t][1]/100:"c"===_t.fontSize[$t][0]&&(dn=_t.fontSize[$t][1]),Qt=(dn*ot[1]).toString(),Un="defaultFontSize"!==$t?document.getElementsByClassName($t):document.getElementsByClassName("paragraph");for(var ge=0;ge<Un.length;ge++)Un[ge].style.cssText=Un[ge].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Qt)}if(_t.lineHeight)for($t in _t.lineHeight)if(_t.lineHeight.hasOwnProperty($t)){"%"===_t.lineHeight[$t][0]?pn=_t.lineHeight[$t][1]/100:"c"===_t.fontSize[$t][0]&&(pn=_t.lineHeight[$t][1]),Qt=(pn*ot[1]).toString(),Un=document.getElementsByClassName($t);for(var st=0;st<Un.length;st++)Un[st].style.cssText=Un[st].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Qt)}}}if(_t.isd){var mt=document.getElementById(_t.cueID);mt&&oe.removeChild(mt),Ae(_t)}}function Ae(_t){if(oe){var Pt=document.createElement("div");oe.appendChild(Pt),Se=Object(D.renderHTML)(_t.isd,Pt,function(Vt){var $t=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,Qt=/^#(.*)$/;if($t.test(Vt)){var dn=$t.exec(Vt),pn=parseInt(dn[4],10)-1;return"data:image/png;base64,"+btoa(_t.images[pn])}if(Qt.test(Vt)){var dt=Qt.exec(Vt);return"data:image/png;base64,"+_t.embeddedImages[dt[1]]}return null},oe.clientHeight,oe.clientWidth,!1,function(Vt){T.info("renderCaption :",Vt)},Se,!0),Pt.id=_t.cueID,V.trigger(b.default.CAPTION_RENDERED,{captionDiv:Pt,currentTrackIdx:Y})}}function ye(_t,Pt,Vt){var $t=W(_t);if($t&&Array.isArray(Vt)&&0!==Vt.length)for(var Qt=0;Qt<Vt.length;Qt++){var dn=void 0,pn=Vt[Qt];$t.cellResolution=pn.cellResolution,$t.isFromCEA608=pn.isFromCEA608,!isNaN(pn.start)&&!isNaN(pn.end)&&(dn="html"===pn.type&&oe?K(pn,Pt,$t):pn.data?ie(pn,Pt,$t):null);try{dn?de($t,dn)||(C.get().streaming.text.webvtt.customRenderingEnabled?($t.manualCueList||($t.manualCueList=[]),$t.manualCueList.push(dn)):$t.addCue(dn)):T.error("impossible to display subtitles.")}catch(Un){throw ce($t),$t.addCue(dn),Un}}}function K(_t,Pt,Vt){var $t=this,Qt=new N(_t.start+Pt,_t.end+Pt,"");return Qt.cueHTMLElement=_t.cueHTMLElement,Qt.isd=_t.isd,Qt.images=_t.images,Qt.embeddedImages=_t.embeddedImages,Qt.cueID=_t.cueID,Qt.scaleCue=He.bind($t),Qt.cellResolution=_t.cellResolution,Qt.lineHeight=_t.lineHeight,Qt.linePadding=_t.linePadding,Qt.fontSize=_t.fontSize,oe.style.left=re+"px",oe.style.top=ae+"px",oe.style.width=Re+"px",oe.style.height=z+"px",Qt.onenter=function(){Vt.mode===t.default.TEXT_SHOWING&&(this.isd?(Ae(this),T.debug("Cue enter id:"+this.cueID)):(oe.appendChild(this.cueHTMLElement),He.call($t,this),V.trigger(b.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:Y})))},Qt.onexit=function(){if(oe)for(var dn=oe.childNodes,pn=0;pn<dn.length;++pn)dn[pn].id===this.cueID&&(T.debug("Cue exit id:"+dn[pn].id),oe.removeChild(dn[pn]),--pn)},Qt}function ie(_t,Pt,Vt){var $t=new N(_t.start-Pt,_t.end-Pt,_t.data);if($t.cueID="".concat($t.startTime,"_").concat($t.endTime),$t.isActive=!1,_t.styles)try{void 0!==_t.styles.align&&"align"in $t&&($t.align=_t.styles.align),void 0!==_t.styles.line&&"line"in $t&&($t.line=_t.styles.line),void 0!==_t.styles.position&&"position"in $t&&($t.position=_t.styles.position),void 0!==_t.styles.size&&"size"in $t&&($t.size=_t.styles.size)}catch(Qt){T.error(Qt)}return $t.onenter=function(){Vt.mode===t.default.TEXT_SHOWING&&V.trigger(b.default.CAPTION_RENDERED,{currentTrackIdx:Y})},$t}function Z(){var $t,Pt=[],Vt=h(k.getTextTracks());try{for(Vt.s();!($t=Vt.n()).done;){var Qt=$t.value;Qt.manualMode===t.default.TEXT_SHOWING&&Pt.push(Qt)}}catch(dn){Vt.e(dn)}finally{Vt.f()}return Pt}function W(_t){return _t>=0&&S[_t]?k.getTextTrack(S[_t].kind,S[_t].id,S[_t].lang,S[_t].isTTML,S[_t].isEmbedded):null}function q(_t){var Pt=this;if(_t!==Y){var Vt=W(Y=_t);J.call(this,Vt),me&&(clearInterval(me),me=null),Vt&&"html"===Vt.renderingType&&(ze.call(this,Vt,!0),window.ResizeObserver?(le=new window.ResizeObserver(function(){ze.call(Pt,Vt,!0)})).observe(k.getElement()):me=setInterval(ze.bind(this,Vt),500))}}function J(_t){$e.call(this),_t&&"html"===_t.renderingType?Ze.call(this):Qe.call(this)}function de(_t,Pt){if(!_t.cues)return!1;for(var Vt=0;Vt<_t.cues.length;Vt++)if(_t.cues[Vt].startTime===Pt.startTime&&_t.cues[Vt].endTime===Pt.endTime)return!0;return!1}function pe(_t,Pt,Vt){var $t=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(isNaN(Pt)||($t?_t.startTime:_t.endTime)>=Pt)&&(isNaN(Vt)||($t?_t.endTime:_t.startTime)<=Vt)}function ce(_t,Pt,Vt){var $t=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(_t.cues)for(var Qt=_t.cues,pn=Qt.length-1;pn>=0;pn--)pe(Qt[pn],Pt,Vt,$t)&&(Qt[pn].onexit&&Qt[pn].onexit(),_t.removeCue(Qt[pn]))}function Ze(){var _t=document.getElementById("native-cue-style");if(!_t){(_t=document.createElement("style")).id="native-cue-style",document.head.appendChild(_t);var Pt=_t.sheet,Vt=k.getElement();try{Vt&&Pt.insertRule(Vt.id?"#"+Vt.id+"::cue {background: transparent}":0!==Vt.classList.length?"."+Vt.className+"::cue {background: transparent}":"video::cue {background: transparent}",0)}catch($t){T.info(""+$t.message)}}}function Qe(){var _t=document.getElementById("native-cue-style");_t&&document.head.removeChild(_t)}function $e(){if(oe)for(;oe.firstChild;)oe.removeChild(oe.firstChild)}return w={initialize:function we(){typeof window>"u"||typeof navigator>"u"||(N=window.VTTCue||window.TextTrackCue,S=[],B=[],Y=-1,re=0,ae=0,Re=0,z=0,oe=null,H=null,me=null,ue=!1,Ie=2147483647,Se=null,void 0!==document.fullscreenElement?te="fullscreenElement":void 0!==document.webkitIsFullScreen?te="webkitIsFullScreen":document.msFullscreenElement?te="msFullscreenElement":document.mozFullScreen&&(te="mozFullScreen"))},getStreamId:function _e(){return R.id},addTextTrack:function Pe(_t){S.push(_t)},addCaptions:ye,createTracks:function Oe(){S.sort(function(Un,ot){return Un.index-ot.index}),oe=k.getTTMLRenderingDiv(),H=k.getVttRenderingDiv();for(var _t=-1,Pt=0;Pt<S.length;Pt++){var Vt=Le(S[Pt]);B.push(Vt),S[Pt].defaultTrack&&(Vt.default=!0,_t=Pt);var $t=W(Pt);$t&&($t.mode=t.default.TEXT_SHOWING,$t.renderingType=oe&&(S[Pt].isTTML||S[Pt].isEmbedded)?"html":"default"),ye(Pt,0,S[Pt].captionData),V.trigger(b.default.TEXT_TRACK_ADDED)}if(q.call(this,_t),_t>=0){V.on(b.default.PLAYBACK_METADATA_LOADED,function Un(){var ot=W(_t);ot&&"html"===ot.renderingType&&ze.call(this,ot,!0),V.off(b.default.PLAYBACK_METADATA_LOADED,Un,this)},this);for(var dn=0;dn<S.length;dn++){var pn=W(dn);pn&&(pn.mode=dn===_t?t.default.TEXT_SHOWING:t.default.TEXT_HIDDEN,pn.manualMode=dn===_t?t.default.TEXT_SHOWING:t.default.TEXT_HIDDEN)}}V.trigger(O.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:Y,tracks:S,streamId:R.id})},getCurrentTrackIdx:function X(){return Y},setCurrentTrackIdx:q,getTrackIdxForId:function Q(_t){for(var Pt=-1,Vt=0;Vt<S.length;Vt++)if(S[Vt].id===_t){Pt=Vt;break}return Pt},getCurrentTrackInfo:function It(){return S[Y]},setModeForTrackIdx:function ct(_t,Pt){var Vt=W(_t);Vt&&Vt.mode!==Pt&&(Vt.mode=Pt),Vt&&Vt.manualMode!==Pt&&(Vt.manualMode=Pt)},deleteCuesFromTrackIdx:function Ce(_t,Pt,Vt){var $t=W(_t);$t&&ce($t,Pt,Vt)},deleteAllTextTracks:function Ye(){for(var _t=B?B.length:0,Pt=0;Pt<_t;Pt++){var Vt=W(Pt);Vt&&ce.call(this,Vt,R.start,R.start+R.duration,!1)}B=[],S=[],me&&(clearInterval(me),me=null),le&&k&&(le.unobserve(k.getElement()),le=null),Y=-1,$e.call(this)},deleteTextTrack:function Be(_t){k.removeChild(B[_t]),B.splice(_t,1)},manualCueProcessing:function he(_t){var Pt=Z();if(Pt&&Pt.length>0){var $t=Pt[0].manualCueList;$t&&$t.length>0&&$t.forEach(function(Qt){if(Qt.startTime<=_t&&Qt.endTime>=_t&&!Qt.isActive)Qt.isActive=!0,WebVTT.processCues(window,[Qt],H,Qt.cueID);else if(Qt.isActive&&(Qt.startTime>_t||Qt.endTime<_t)&&(Qt.isActive=!1,H))for(var dn=H.childNodes,pn=0;pn<dn.length;++pn)dn[pn].id===Qt.cueID&&(H.removeChild(dn[pn]),--pn)})}},disableManualTracks:function $(){var _t=Z();if(_t&&_t.length>0){var Vt=_t[0].manualCueList;Vt&&Vt.length>0&&Vt.forEach(function($t){if($t.isActive&&($t.isActive=!1,H))for(var Qt=H.childNodes,dn=0;dn<Qt.length;++dn)Qt[dn].id===$t.cueID&&(H.removeChild(Qt[dn]),--dn)})}}},function Me(){T=Object(L.default)(P).getInstance().getLogger(w)}(),w}A.__dashjs_factory_name="TextTracks",x.default=F.default.getClassFactory(A)},"./src/streaming/thumbnail/ThumbnailController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailController.js ***!
                  \********************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),O=c(
/*! ../vo/Thumbnail */
"./src/streaming/vo/Thumbnail.js"),b=c(
/*! ./ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),F=c(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),L=c(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function D(m){var v,A,h=this.context,g=m.streamInfo;function C(S){A.setTrackByIndex(S)}function N(){A&&A.reset()}return v={getStreamId:function V(){return g.id},initialize:function P(){A.addTracks();var S=A.getTracks();S&&S.length>0&&C(0)},provide:function k(S,B){if("function"==typeof B){var ae,Y=A.getCurrentTrack();if(!Y||Y.segmentDuration<=0||null==S)return void B(null);(ae=A.getThumbnailRequestForTime(S))&&(Y.segmentDuration=ae.duration);var Re=Math.floor(S%Y.segmentDuration*Y.tilesHor*Y.tilesVert/Y.segmentDuration),z=new O.default;if(z.width=Math.floor(Y.widthPerTile),z.height=Math.floor(Y.heightPerTile),z.x=Math.floor(Re%Y.tilesHor)*Y.widthPerTile,z.y=Math.floor(Re/Y.tilesHor)*Y.heightPerTile,"readThumbnail"in Y)return Y.readThumbnail(S,function(H){z.url=H,B(z)});if(ae)z.url=ae.url,Y.segmentDuration=NaN;else{var oe=Math.floor(S/Y.segmentDuration);z.url=function R(S,B){var Y=B+S.startNumber,re=Object(L.replaceTokenForTemplate)(S.templateUrl,"Number",Y);return re=Object(L.replaceTokenForTemplate)(re,"Time",(Y-1)*S.segmentDuration*S.timescale),re=Object(L.replaceTokenForTemplate)(re,"Bandwidth",S.bandwidth),Object(L.unescapeDollarsInTemplate)(re)}(Y,oe)}B(z)}},setTrackByIndex:C,getCurrentTrackIndex:function w(){return A.getCurrentTrackIndex()},getBitrateList:function T(){var S=A.getTracks(),B=0;return S.map(function(Y){var re=new F.default;return re.mediaType=E.default.IMAGE,re.qualityIndex=B++,re.bitrate=Y.bitrate,re.width=Y.width,re.height=Y.height,re})},reset:N},function U(){N(),A=Object(b.default)(h).create({streamInfo:g,adapter:m.adapter,baseURLController:m.baseURLController,timelineConverter:m.timelineConverter,debug:m.debug,eventBus:m.eventBus,events:m.events,dashConstants:m.dashConstants,dashMetrics:m.dashMetrics,segmentBaseController:m.segmentBaseController})}(),v}D.__dashjs_factory_name="ThumbnailController",x.default=t.default.getClassFactory(D)},"./src/streaming/thumbnail/ThumbnailTracks.js":
/*!****************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailTracks.js ***!
                  \****************************************************/
/*! exports provided: THUMBNAILS_SCHEME_ID_URIS, default */function(qe,x,c){"use strict";c.r(x),c.d(x,"THUMBNAILS_SCHEME_ID_URIS",function(){return v});var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),O=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../vo/ThumbnailTrackInfo */
"./src/streaming/vo/ThumbnailTrackInfo.js"),F=c(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),L=c(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),D=c(
/*! ../../streaming/utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),m=c(
/*! ../../streaming/net/XHRLoader */
"./src/streaming/net/XHRLoader.js"),h=c(
/*! ../../dash/DashHandler */
"./src/dash/DashHandler.js"),g=c(
/*! ../../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),v=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function A(U){var Y,re,ae,Re,z,oe,H,me,P=this.context,V=U.adapter,k=U.baseURLController,R=U.streamInfo,C=U.timelineConverter,w=U.debug,T=U.eventBus,N=U.events,S=U.dashConstants,B=Object(F.default)(P).getInstance();function Se(ze,He){var Ae=new b.default;Ae.id=ze.id,Ae.bitrate=ze.bandwidth,Ae.width=ze.width,Ae.height=ze.height,Ae.tilesHor=1,Ae.tilesVert=1,ze.essentialProperties&&ze.essentialProperties.forEach(function(ye){if(v.indexOf(ye.schemeIdUri)>=0&&ye.value){var K=ye.value.split("x");2===K.length&&!isNaN(K[0])&&!isNaN(K[1])&&(Ae.tilesHor=parseInt(K[0],10),Ae.tilesVert=parseInt(K[1],10))}}),He?oe.updateSegmentData(ze).then(function(ye){!function Ie(ze,He,Ae){var ye=[],K=function le(ze,He){var K,ie,he,$,Ae=[],ye=0;for(K=0,ie=ze.segments.length;K<ie;K++)he=ze.segments[K],($=Object(L.getTimeBasedSegment)(C,V.getIsDynamic(),He,he.startTime,he.duration,he.timescale,he.media,he.mediaRange,ye))&&(Ae.push($),$=null,ye++);return Ae}(Ae,He);He.segments=K,ze.segmentDuration=He.segments[0].duration,ze.readThumbnail=function(ie,he){var $=null;ye.some(function(Z){if(Z.start<=ie&&Z.end>ie)return $=Z.url,!0}),$?he($):He.segments.some(function(Z){if(Z.mediaStartTime<=ie&&Z.mediaStartTime+Z.duration>ie){var W=k.resolve(He.path);return H.load({method:"get",url:W.url,request:{range:Z.mediaRange,responseType:"arraybuffer"},onload:function(Q){var q=me.getSamplesInfo(Q.target.response),J=new Blob([Q.target.response.slice(q.sampleList[0].offset,q.sampleList[0].offset+q.sampleList[0].size)],{type:"image/jpeg"}),de=window.URL.createObjectURL(J);ye.push({start:Z.mediaStartTime,end:Z.mediaStartTime+Z.duration,url:de}),he&&he(de)}}),!0}})}}(Ae,ze,ye)}):(Ae.startNumber=ze.startNumber,Ae.segmentDuration=ze.segmentDuration,Ae.timescale=ze.timescale,Ae.templateUrl=function Me(ze){var He=B.isRelative(ze.media)?B.resolve(ze.media,k.resolve(ze.path).url):ze.media;return He?Object(L.replaceIDForTemplate)(He,ze.id):""}(ze)),Ae.tilesHor>0&&Ae.tilesVert>0&&(Ae.widthPerTile=Ae.width/Ae.tilesHor,Ae.heightPerTile=Ae.height/Ae.tilesVert,re.push(Ae))}function Ue(){re=[],Re=-1,z=null}return Y={getTracks:function we(){return re},addTracks:function ue(){if(R&&V&&(z=V.getMediaInfoForType(R,t.default.IMAGE))){var ze=V.getVoRepresentations(z);ze&&ze.length>0&&ze.forEach(function(He){(He.segmentInfoType===E.default.SEGMENT_TEMPLATE&&He.segmentDuration>0&&He.media||He.segmentInfoType===E.default.SEGMENT_TIMELINE)&&Se(He),He.segmentInfoType===E.default.SEGMENT_BASE&&Se(He,!0)}),re.length>0&&re.sort(function(He,Ae){return He.bitrate-Ae.bitrate})}},reset:Ue,setTrackByIndex:function Pe(ze){!re||0===re.length||(ze>=re.length&&(ze=re.length-1),Re=ze)},getCurrentTrack:function Le(){return Re<0?null:re[Re]},getCurrentTrackIndex:function _e(){return Re},getThumbnailRequestForTime:function Oe(ze){for(var He,Ae=V.getVoRepresentations(z),ye=0;ye<Ae.length;ye++)if(re[Re].id===Ae[ye].id){He=Ae[ye];break}return ae.getSegmentRequestForTime(z,He,ze)}},function te(){Ue(),H=Object(m.default)(P).create({}),me=Object(D.default)(P).getInstance(),oe=Object(g.default)(P).create({events:N,eventBus:T,streamInfo:R,timelineConverter:C,dashConstants:S,dashMetrics:U.dashMetrics,segmentBaseController:U.segmentBaseController,type:t.default.IMAGE}),(ae=Object(h.default)(P).create({streamInfo:R,type:t.default.IMAGE,timelineConverter:C,segmentsController:oe,baseURLController:k,debug:w,eventBus:T,events:N,dashConstants:S,urlUtils:B})).initialize(!!V&&V.getIsDynamic())}(),Y}A.__dashjs_factory_name="ThumbnailTracks",x.default=O.default.getClassFactory(A)},"./src/streaming/utils/BaseURLSelector.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/BaseURLSelector.js ***!
                  \************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),E=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),O=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=c(
/*! ../controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),F=c(
/*! ./baseUrlResolution/DVBSelector */
"./src/streaming/utils/baseUrlResolution/DVBSelector.js"),L=c(
/*! ./baseUrlResolution/BasicSelector */
"./src/streaming/utils/baseUrlResolution/BasicSelector.js"),D=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),h=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),g=c(
/*! ./baseUrlResolution/ContentSteeringSelector */
"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js"),v=c(
/*! ../../core/Settings */
"./src/core/Settings.js");function A(){var k,R,C,w,T,N,U=this.context,P=Object(E.default)(U).getInstance(),V=Object(v.default)(U).getInstance();function ae(){R.reset()}return k={chooseSelector:function Y(Re){Object(h.checkParameterType)(Re,"boolean"),N=Re?w:C},select:function re(Re){if(Re){if(V.get().streaming.applyContentSteering){var z=T.selectBaseUrlIndex(Re);!isNaN(z)&&-1!==z&&(Re.selectedIdx=z)}if(!isNaN(Re.selectedIdx))return Re.baseUrls[Re.selectedIdx];var oe=N.select(Re.baseUrls);return oe?(Re.selectedIdx=Re.baseUrls.indexOf(oe),oe):(P.trigger(O.default.URL_RESOLUTION_FAILED,{error:new m.default(t.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,t.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(N===C&&ae()))}},reset:ae,setConfig:function B(Re){Re.selector&&(N=Re.selector),Re.contentSteeringSelector&&(T=Re.contentSteeringSelector)}},function S(){R=Object(b.default)(U).create({updateEventName:O.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:O.default.SERVICE_LOCATION_BLACKLIST_ADD}),C=Object(L.default)(U).create({blacklistController:R}),w=Object(F.default)(U).create({blacklistController:R}),(T=Object(g.default)(U).create()).setConfig({blacklistController:R}),N=C}(),k}A.__dashjs_factory_name="BaseURLSelector",x.default=D.default.getClassFactory(A)},"./src/streaming/utils/BoxParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/BoxParser.js ***!
                  \******************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),E=c(
/*! ./IsoFile */
"./src/streaming/utils/IsoFile.js"),O=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),F=c.n(b),L=c(
/*! ../vo/IsoBoxSearchInfo */
"./src/streaming/vo/IsoBoxSearchInfo.js");function D(){var m,h,g=this.context;function A(T){if(!T)return null;void 0===T.fileStart&&(T.fileStart=0);var N=F.a.parseBuffer(T),S=Object(E.default)(g).create();return S.setData(N),S}function k(T,N){return T[N+3]>>>0|T[N+2]<<8>>>0|T[N+1]<<16>>>0|T[N]<<24>>>0}function R(T,N){return String.fromCharCode(T[N++])+String.fromCharCode(T[N++])+String.fromCharCode(T[N++])+String.fromCharCode(T[N])}return h={parse:A,findLastTopIsoBoxCompleted:function U(T,N,S){if(void 0===S&&(S=0),!N||S+8>=N.byteLength)return new L.default(0,!1);for(var Y,B=N instanceof ArrayBuffer?new Uint8Array(N):N,re=0;S<B.byteLength;){var ae=k(B,S),Re=R(B,S+4);if(0===ae)break;S+ae<=B.byteLength&&(T.indexOf(Re)>=0?Y=new L.default(S,!0,ae):re=S+ae),S+=ae}return Y||new L.default(re,!1)},getMediaTimescaleFromMoov:function V(T){var N=A(T),S=N?N.getBox("mdhd"):void 0;return S?S.timescale:NaN},getSamplesInfo:function P(T){if(!T||0===T.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var Y,ae,Re,z,oe,H,me,te,ue,Se,Ie,le,Me,we,_e,Le,N=A(T),S=N.getBoxes("moof"),B=N.getBoxes("mfhd");_e=N.getBoxes("moof").length,we=B[B.length-1].sequence_number,ae=0,oe=[];var Pe=-1,Oe=-1;for(Se=0;Se<S.length;Se++){var Ue=S[Se],ze=Ue.getChildBoxes("traf");for(te=0;te<ze.length;te++){var He=ze[te],Ae=He.getChildBox("tfhd"),ye=He.getChildBox("tfdt");z=ye.baseMediaDecodeTime;var K=He.getChildBoxes("trun"),ie=He.getChildBoxes("subs");for(ue=0;ue<K.length;ue++){var he=K[ue];for(ae=he.sample_count,Me=(Ae.base_data_offset||0)+(he.data_offset||0),me=0;me<ae;me++){var $={dts:z,cts:z+(void 0!==(H=he.samples[me]).sample_composition_time_offset?H.sample_composition_time_offset:0),duration:Y=void 0!==H.sample_duration?H.sample_duration:Ae.default_sample_duration,offset:Ue.offset+Me,size:Re=void 0!==H.sample_size?H.sample_size:Ae.default_sample_size,subSizes:[Re]};if(ie)for(Ie=0;Ie<ie.length;Ie++){var Z=ie[Ie];if(Pe<Z.entry_count-1&&me>Oe&&(Pe++,Oe+=Z.entries[Pe].sample_delta),me==Oe){$.subSizes=[];var W=Z.entries[Pe];for(le=0;le<W.subsample_count;le++)$.subSizes.push(W.subsamples[le].subsample_size)}}oe.push($),Me+=Re,z+=Y}}Le=z-ye.baseMediaDecodeTime}}return{sampleList:oe,lastSequenceNumber:we,totalDuration:Le,numSequences:_e}},findInitRange:function C(T){var N=null,Y=A(T);if(!Y)return N;var re=Y.getBox("ftyp"),ae=Y.getBox("moov");return m.debug("Searching for initialization."),ae&&ae.isComplete&&m.debug("Found the initialization.  Range: "+(N=(re?re.offset:ae.offset)+"-"+(ae.offset+ae.size-1))),N},parsePayload:function w(T,N,S){if(void 0===S&&(S=0),!N||S+8>=N.byteLength)return new L.default(0,!1);for(var Y,B=N instanceof ArrayBuffer?new Uint8Array(N):N,re=0;S<B.byteLength;){var ae=k(B,S),Re=R(B,S+4);if(0===ae)break;S+ae<=B.byteLength&&(T.indexOf(Re)>=0?Y=new L.default(S,!0,ae,Re):re=S+ae),S+=ae}return Y||new L.default(re,!1)}},function v(){m=Object(t.default)(g).getInstance().getLogger(h)}(),h}D.__dashjs_factory_name="BoxParser",x.default=O.default.getSingletonFactory(D)},"./src/streaming/utils/Capabilities.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/Capabilities.js ***!
                  \*********************************************/
/*! exports provided: supportsMediaSource, default */function(qe,x,c){"use strict";c.r(x),c.d(x,"supportsMediaSource",function(){return F});var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),O=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function F(){var D="WebKitMediaSource"in window,m="MediaSource"in window;return D||m}function L(){var D,m,h;return D={setConfig:function v(T){T&&T.settings&&(m=T.settings)},supportsMediaSource:F,supportsEncryptedMedia:function A(){return h},supportsCodec:function P(T,N){return N!==O.default.AUDIO&&N!==O.default.VIDEO?Promise.resolve(!0):function V(T,N){return m.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(T.codec&&N===O.default.AUDIO||N===O.default.VIDEO&&T.codec&&T.width&&T.height&&T.bitrate&&T.framerate)}(T,N)?function R(T,N){return new Promise(function(S){if(T&&T.codec){var B={type:"media-source"};B[N]={},B[N].contentType=T.codec,B[N].width=T.width,B[N].height=T.height,B[N].bitrate=parseInt(T.bitrate),B[N].framerate=parseFloat(T.framerate),navigator.mediaCapabilities.decodingInfo(B).then(function(Y){S(Y.supported)}).catch(function(){S(!1)})}else S(!1)})}(T,N):function k(T){return new Promise(function(N){if(T&&T.codec){var S=T.codec;T.width&&T.height&&(S+=';width="'+T.width+'";height="'+T.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(S)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(S)?N(!0):N(!1)}else N(!1)})}(T)},setEncryptedMediaSupported:function U(T){h=T},supportsEssentialProperty:function C(T){try{return-1!==E.THUMBNAILS_SCHEME_ID_URIS.indexOf(T.schemeIdUri)}catch{return!0}},codecRootCompatibleWithCodec:function w(T,N){for(var Y,S=T.split(".")[0],B=0===N.indexOf(S),re=0;re<b.length;re++)if(b[re].codec===S){Y=b[re];break}return Y?B||Y.compatibleCodecs.some(function(ae){return 0===N.indexOf(ae)}):B}},function g(){h=!1}(),D}L.__dashjs_factory_name="Capabilities",x.default=t.default.getSingletonFactory(L)},"./src/streaming/utils/CapabilitiesFilter.js":
/*!***************************************************!*\
                  !*** ./src/streaming/utils/CapabilitiesFilter.js ***!
                  \***************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),O=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),F=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function L(){var h,g,v,A,U,P,D=this.context,m=Object(b.default)(D).getInstance();function C(ae,Re){if(!Re||!Re.Period_asArray||0===Re.Period_asArray.length)return Promise.resolve();var z=[];return Re.Period_asArray.forEach(function(oe){z.push(function w(ae,Re){return new Promise(function(z){if(ae&&ae.AdaptationSet_asArray&&0!==ae.AdaptationSet_asArray.length){var oe=[];ae.AdaptationSet_asArray.forEach(function(H){g.getIsTypeOf(H,Re)&&oe.push(function T(ae,Re){return new Promise(function(z){if(ae.Representation_asArray&&0!==ae.Representation_asArray.length){var oe=[],H=[];ae.Representation_asArray.forEach(function(me,te){var ue=g.getCodec(ae,te,!1),Se=function N(ae,Re,z){switch(ae){case O.default.VIDEO:return function S(ae,Re){return{codec:Re,width:ae.width||null,height:ae.height||null,framerate:ae.frameRate||null,bitrate:ae.bandwidth||null}}(Re,z);case O.default.AUDIO:return function B(ae,Re){return{codec:Re,bitrate:ae.bandwidth||null,samplerate:ae.audioSamplingRate||null}}(Re,z);default:return null}}(Re,me,ue);H.push(Se),oe.push(v.supportsCodec(Se,Re))}),Promise.all(oe).then(function(me){ae.Representation_asArray=ae.Representation_asArray.filter(function(te,ue){return me[ue]||P.debug("[Stream] Codec ".concat(H[ue].codec," not supported ")),me[ue]}),z()}).catch(function(){z()})}else z()})}(H,Re))}),Promise.all(oe).then(function(){ae.AdaptationSet_asArray=ae.AdaptationSet_asArray.filter(function(H){var me=H.Representation_asArray&&H.Representation_asArray.length>0;return me||(m.trigger(F.default.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:H}),P.warn("AdaptationSet has been removed because of no supported Representation")),me}),z()}).catch(function(){z()})}else z()})}(oe,ae))}),Promise.all(z)}return h={setConfig:function k(ae){ae&&(ae.adapter&&(g=ae.adapter),ae.capabilities&&(v=ae.capabilities),ae.settings&&(A=ae.settings),ae.customParametersModel&&(U=ae.customParametersModel))},filterUnsupportedFeatures:function R(ae){return new Promise(function(Re){var z=[];z.push(C(O.default.VIDEO,ae)),z.push(C(O.default.AUDIO,ae)),Promise.all(z).then(function(){A.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function Y(ae){!ae||!ae.Period_asArray||0===ae.Period_asArray.length||ae.Period_asArray.forEach(function(Re){Re.AdaptationSet_asArray=Re.AdaptationSet_asArray.filter(function(z){return!z.Representation_asArray||0===z.Representation_asArray.length||(z.Representation_asArray=z.Representation_asArray.filter(function(oe){var H=g.getEssentialPropertiesForRepresentation(oe);if(H&&H.length>0)for(var me=0;me<H.length;){if(!v.supportsEssentialProperty(H[me]))return P.debug("[Stream] EssentialProperty not supported: "+H[me].schemeIdUri),!1;me+=1}return!0}),z.Representation_asArray&&z.Representation_asArray.length>0)})})}(ae),function re(ae){var Re=U.getCustomCapabilitiesFilters();!Re||0===Re.length||!ae||!ae.Period_asArray||0===ae.Period_asArray.length||ae.Period_asArray.forEach(function(z){z.AdaptationSet_asArray=z.AdaptationSet_asArray.filter(function(oe){return!oe.Representation_asArray||0===oe.Representation_asArray.length||(oe.Representation_asArray=oe.Representation_asArray.filter(function(H){return!Re.some(function(me){return!me(H)})}),oe.Representation_asArray&&oe.Representation_asArray.length>0)})})}(ae),Re()}).catch(function(){Re()})})}},function V(){P=Object(E.default)(D).getInstance().getLogger(h)}(),h}L.__dashjs_factory_name="CapabilitiesFilter",x.default=t.default.getSingletonFactory(L)},"./src/streaming/utils/CustomTimeRanges.js":
/*!*************************************************!*\
                  !*** ./src/streaming/utils/CustomTimeRanges.js ***!
                  \*************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function O(){return{customTimeRangeArray:[],length:0,add:function L(A,U){var P=0;for(P=0;P<this.customTimeRangeArray.length&&A>this.customTimeRangeArray[P].start;P++);for(this.customTimeRangeArray.splice(P,0,{start:A,end:U}),P=0;P<this.customTimeRangeArray.length-1;P++)this.mergeRanges(P,P+1)&&P--;this.length=this.customTimeRangeArray.length},clear:function D(){this.customTimeRangeArray=[],this.length=0},remove:function m(A,U){for(var P=0;P<this.customTimeRangeArray.length;P++)if(A<=this.customTimeRangeArray[P].start&&U>=this.customTimeRangeArray[P].end)this.customTimeRangeArray.splice(P,1),P--;else{if(A>this.customTimeRangeArray[P].start&&U<this.customTimeRangeArray[P].end){this.customTimeRangeArray.splice(P+1,0,{start:U,end:this.customTimeRangeArray[P].end}),this.customTimeRangeArray[P].end=A;break}A>this.customTimeRangeArray[P].start&&A<this.customTimeRangeArray[P].end?this.customTimeRangeArray[P].end=A:U>this.customTimeRangeArray[P].start&&U<this.customTimeRangeArray[P].end&&(this.customTimeRangeArray[P].start=U)}this.length=this.customTimeRangeArray.length},mergeRanges:function h(A,U){var P=this.customTimeRangeArray[A],V=this.customTimeRangeArray[U];return P.start<=V.start&&V.start<=P.end&&P.end<=V.end?(P.end=V.end,this.customTimeRangeArray.splice(U,1),!0):V.start<=P.start&&P.start<=V.end&&V.end<=P.end?(P.start=V.start,this.customTimeRangeArray.splice(U,1),!0):V.start<=P.start&&P.start<=V.end&&P.end<=V.end?(this.customTimeRangeArray.splice(A,1),!0):P.start<=V.start&&V.start<=P.end&&V.end<=P.end&&(this.customTimeRangeArray.splice(U,1),!0)},start:function g(A){return Object(E.checkInteger)(A),A>=this.customTimeRangeArray.length||A<0?NaN:this.customTimeRangeArray[A].start},end:function v(A){return Object(E.checkInteger)(A),A>=this.customTimeRangeArray.length||A<0?NaN:this.customTimeRangeArray[A].end}}}O.__dashjs_factory_name="CustomTimeRanges",x.default=t.default.getClassFactory(O)},"./src/streaming/utils/DOMStorage.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/DOMStorage.js ***!
                  \*******************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),O=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],F="dashjs_?_bitrate",L="dashjs_?_settings",D="localStorage",h="lastBitrate",g="lastMediaSettings";function v(U){var k,R,C,P=this.context,V=(U=U||{}).settings;function T(oe){if(void 0!==C)return C;C=!1;var te;try{typeof window<"u"&&(te=window[oe])}catch(ue){return R.warn("DOMStorage access denied: "+ue.message),C}if(!te||oe!==D&&"sessionStorage"!==oe)return C;try{te.setItem("1","1"),te.removeItem("1"),C=!0}catch(ue){R.warn("DOMStorage is supported, but cannot be used: "+ue.message)}return C}function S(){return 6e5*Math.round((new Date).getTime()/6e5)}function B(oe,H){return T(oe)&&V.get().streaming[H+"CachingInfo"].enabled}function Y(){if(!V)throw new Error(O.default.MISSING_CONFIG_ERROR)}return k={getSavedBitrateSettings:function ae(oe){if(Y(),!V.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var H=NaN;if(B(D,h)){var me=F.replace(/\?/,oe);try{var te=JSON.parse(localStorage.getItem(me))||{},ue=(new Date).getTime()-parseInt(te.timestamp,10)>=V.get().streaming.lastBitrateCachingInfo.ttl||!1,Se=parseFloat(te.bitrate);isNaN(Se)||ue?ue&&localStorage.removeItem(me):(H=Se,R.debug("Last saved bitrate for "+oe+" was "+Se))}catch{return null}}return H},setSavedBitrateSettings:function z(oe,H){if(B(D,h)&&H){var me=F.replace(/\?/,oe);try{localStorage.setItem(me,JSON.stringify({bitrate:H.toFixed(3),timestamp:S()}))}catch(te){R.error(te.message)}}},getSavedMediaSettings:function re(oe){if(Y(),!V.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var H=null;if(B(D,g)){var me=L.replace(/\?/,oe);try{var te=JSON.parse(localStorage.getItem(me))||{},ue=(new Date).getTime()-parseInt(te.timestamp,10)>=V.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;H=te.settings,ue&&(localStorage.removeItem(me),H=null)}catch{return null}}return H},setSavedMediaSettings:function Re(oe,H){if(B(D,g)){var me=L.replace(/\?/,oe);try{localStorage.setItem(me,JSON.stringify({settings:H,timestamp:S()}))}catch(te){R.error(te.message)}}}},function w(){R=Object(E.default)(P).getInstance().getLogger(k),function N(){T(D)&&b.forEach(function(oe){var H=localStorage.getItem(oe.oldKey);if(H){localStorage.removeItem(oe.oldKey);try{localStorage.setItem(oe.newKey,H)}catch(me){R.error(me.message)}}})}()}(),k}v.__dashjs_factory_name="DOMStorage";var A=t.default.getSingletonFactory(v);x.default=A},"./src/streaming/utils/DefaultURLUtils.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/DefaultURLUtils.js ***!
                  \************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var O,b=/^[a-z][a-z0-9+\-_.]*:/i,F=/^https?:\/\//i,L=/^https:\/\//i,D=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,m=function(B,Y){try{return new window.URL(B,Y).toString()}catch{return B}},h=function(B,Y){var re=v;if(!Y||!V(B))return B;k(B)&&(re=A),R(B)&&(re=P);var ae=re(Y),Re="/"!==ae.charAt(ae.length-1)&&"/"!==B.charAt(0)?"/":"";return[ae,B].join(Re)};function v(S){var B=S.indexOf("/"),Y=S.lastIndexOf("/");return-1!==B?Y===B+1?S:(-1!==S.indexOf("?")&&(S=S.substring(0,S.indexOf("?"))),S.substring(0,Y+1)):""}function A(S){var B=S.match(D);return B?B[1]:""}function P(S){var B=S.match(b);return B?B[0]:""}function V(S){return!b.test(S)}function k(S){return V(S)&&"/"===S.charAt(0)}function R(S){return 0===S.indexOf("//")}return function g(){try{new window.URL("x","http://y"),O=m}catch{}finally{O=O||h}}(),{parseBaseUrl:v,parseOrigin:A,parseScheme:P,isRelative:V,isPathAbsolute:k,isSchemeRelative:R,isHTTPURL:function C(S){return F.test(S)},isHTTPS:function w(S){return L.test(S)},removeHostname:function U(S){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(S)[2].substring(1)},resolve:function T(S,B){return O(S,B)}}}E.__dashjs_factory_name="DefaultURLUtils",x.default=t.default.getSingletonFactory(E)},"./src/streaming/utils/EBMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/EBMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(O){O=O||{};var b,F=new DataView(O.data),L=0;function h(R,C){var w=!0,T=0;if(void 0===C&&(C=!1),R.tag>16777215?(F.getUint32(L)!==R.tag&&(w=!1),T=4):R.tag>65535?(256*F.getUint16(L)+F.getUint8(L+2)!==R.tag&&(w=!1),T=3):R.tag>255?(F.getUint16(L)!==R.tag&&(w=!1),T=2):(F.getUint8(L)!==R.tag&&(w=!1),T=1),!w&&R.required&&!C)throw new Error("required tag not found");return w&&(L+=T),w}function U(R){var C=1,w=128,N=-1,S=0,B=F.getUint8(L),Y=0;for(Y=0;Y<8;Y+=1){if((B&w)===w){S=void 0===R?B&~w:B,N=Y;break}w>>=1}for(Y=0;Y<N;Y+=1,C+=1)S=S<<8|255&F.getUint8(L+C);return L+=C,S}return b={getPos:function D(){return L},setPos:function m(R){L=R},consumeTag:h,consumeTagAndSize:function g(R,C){var w=h(R,C);return w&&U(),w},parseTag:function v(R){var C;return h(R),C=U(),b[R.parse](C)},skipOverElement:function A(R,C){var T,w=h(R,C);return w&&(T=U(),L+=T),w},getMatroskaCodedNum:U,getMatroskaFloat:function P(R){var C;switch(R){case 4:C=F.getFloat32(L),L+=4;break;case 8:C=F.getFloat64(L),L+=8}return C},getMatroskaUint:function V(R){for(var C=0,w=0;w<R;w+=1)C<<=8,C|=255&F.getUint8(L+w);return L+=R,C},moreData:function k(){return L<F.byteLength}}}E.__dashjs_factory_name="EBMLParser",x.default=t.default.getClassFactory(E)},"./src/streaming/utils/ErrorHandler.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/ErrorHandler.js ***!
                  \*********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),O=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var L=this.context,D=Object(t.default)(L).getInstance();return{error:function m(h){D.trigger(E.default.ERROR,{error:h})}}}b.__dashjs_factory_name="ErrorHandler",x.default=O.default.getSingletonFactory(b)},"./src/streaming/utils/InitCache.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/InitCache.js ***!
                  \******************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var O={};return{save:function b(m){var h=m.streamId,g=m.representationId;O[h]=O[h]||{},O[h][g]=m},extract:function F(m,h){return O&&O[m]&&O[m][h]?O[m][h]:null},reset:function L(){O={}}}}E.__dashjs_factory_name="InitCache",x.default=t.default.getSingletonFactory(E)},"./src/streaming/utils/IsoFile.js":
/*!****************************************!*\
                  !*** ./src/streaming/utils/IsoFile.js ***!
                  \****************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../vo/IsoBox */
"./src/streaming/vo/IsoBox.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function O(){var F;function D(v){var A=[];if(!v||!F||"function"!=typeof F.fetchAll)return A;for(var P,U=F.fetchAll(v),V=0,k=U.length;V<k;V++)(P=g(U[V]))&&A.push(P);return A}function g(v){if(!v)return null;var A=new t.default(v);return v.hasOwnProperty("_incomplete")&&(A.isComplete=!v._incomplete),A}return{getBox:function L(v){return v&&F&&F.boxes&&0!==F.boxes.length&&"function"==typeof F.fetch?g(F.fetch(v)):null},getBoxes:D,setData:function m(v){F=v},getLastBox:function h(){if(!F||!F.boxes||!F.boxes.length)return null;var A=D(F.boxes[F.boxes.length-1].type);return A.length>0?A[A.length-1]:null}}}O.__dashjs_factory_name="IsoFile",x.default=E.default.getClassFactory(O)},"./src/streaming/utils/ObjectUtils.js":
/*!********************************************!*\
                  !*** ./src/streaming/utils/ObjectUtils.js ***!
                  \********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! fast-deep-equal */
"./node_modules/fast-deep-equal/index.js"),O=c.n(E);function b(){return{areEqual:function L(D,m){return O()(D,m)}}}b.__dashjs_factory_name="ObjectUtils",x.default=t.default.getSingletonFactory(b)},"./src/streaming/utils/RequestModifier.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/RequestModifier.js ***!
                  \************************************************/
/*! exports provided: modifyRequest, default */function(qe,x,c){"use strict";c.r(x),c.d(x,"modifyRequest",function(){return E});var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(b,F){var L={url:b.url,method:b.method,headers:Object.assign({},b.headers),credentials:b.withCredentials?"include":void 0};return Promise.resolve(F.modifyRequest(L)).then(function(){return Object.assign(b,L,{withCredentials:"include"===L.credentials})})}function O(){return{modifyRequest:null,modifyRequestURL:function F(D){return D},modifyRequestHeader:function L(D,m){return D}}}O.__dashjs_factory_name="RequestModifier",x.default=t.default.getSingletonFactory(O)},"./src/streaming/utils/SupervisorTools.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/SupervisorTools.js ***!
                  \************************************************/
/*! exports provided: checkParameterType, checkInteger, checkRange, checkIsVideoOrAudioType */function(qe,x,c){"use strict";c.r(x),c.d(x,"checkParameterType",function(){return O}),c.d(x,"checkInteger",function(){return b}),c.d(x,"checkRange",function(){return F}),c.d(x,"checkIsVideoOrAudioType",function(){return L});var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function E(D){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(D)}function O(D,m){if(E(D)!==m)throw t.default.BAD_ARGUMENT_ERROR}function b(D){if(null===D||isNaN(D)||D%1!=0)throw t.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"}function F(D,m,h){if(D<m||D>h)throw t.default.BAD_ARGUMENT_ERROR+" : argument out of range"}function L(D){if("string"!=typeof D||D!==t.default.AUDIO&&D!==t.default.VIDEO)throw t.default.BAD_ARGUMENT_ERROR}},"./src/streaming/utils/TTMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/TTMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),O=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),F=c(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js"),D=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),m=c(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function h(){var A,U,g=this.context,v=Object(O.default)(g).getInstance(),P=0;function k(){var C="cue_TTML_"+P;return P++,C}return A={parse:function R(C,w,T,N,S){var re,ae,Re,B="",Y=[],z={},oe={},H="",me="",te={onOpenTag:function(Me,we,_e){if(_e[" imagetype"]&&!_e[" imageType"]&&(v.trigger(D.default.CONFORMANCE_VIOLATION,{level:m.default.LEVELS.ERROR,event:m.default.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),_e[" imageType"]=_e[" imagetype"]),"image"===we&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===Me||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===Me)){if(!_e[" imageType"]||"PNG"!==_e[" imageType"].value)return void U.warn("smpte-tt imageType != PNG. Discarded");H=_e["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){H&&(oe[H]=me.trim()),me="",H=""},onText:function(Me){H&&(me+=Me)}};if(!C)throw B="no ttml data to parse",new Error(B);z.data=C,v.trigger(b.default.TTML_TO_PARSE,z);var ue=Object(F.fromXML)(z.data,function(le){B=le},te);v.trigger(b.default.TTML_PARSED,{ttmlString:z.data,ttmlDoc:ue});var Se=ue.getMediaTimeEvents();for(Re=0;Re<Se.length;Re++){var Ie=Object(F.generateISD)(ue,Se[Re],function(le){B=le});Ie.contents.some(function(le){return le.contents.length})&&(re=Se[Re]+w<T?T:Se[Re]+w)<(ae=Se[Re+1]+w>N?N:Se[Re+1]+w)&&Y.push({start:re,end:ae,type:"html",cueID:k(),isd:Ie,images:S,embeddedImages:oe})}if(""!==B)throw U.error(B),new Error(B);return Y}},function V(){U=Object(E.default)(g).getInstance().getLogger(A)}(),A}h.__dashjs_factory_name="TTMLParser",x.default=t.default.getSingletonFactory(h)},"./src/streaming/utils/URLUtils.js":
/*!*****************************************!*\
                  !*** ./src/streaming/utils/URLUtils.js ***!
                  \*****************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ./DefaultURLUtils */
"./src/streaming/utils/DefaultURLUtils.js");function O(){var L,D=[],m=this.context;function A(B,Y,re){var ae=function h(B){var Y;for(Y=0;Y<D.length;Y++)if(D[Y].regex.test(B))return D[Y].utils;return L}(re||Y);return ae&&"function"==typeof ae[B]?ae[B](Y,re):L[B](Y,re)}return function g(){L=Object(E.default)(m).getInstance()}(),{registerUrlRegex:function v(B,Y){D.push({regex:B,utils:Y})},parseBaseUrl:function U(B){return A("parseBaseUrl",B)},parseOrigin:function P(B){return A("parseOrigin",B)},parseScheme:function k(B){return A("parseScheme",B)},isRelative:function R(B){return A("isRelative",B)},isPathAbsolute:function C(B){return A("isPathAbsolute",B)},isSchemeRelative:function w(B){return A("isSchemeRelative",B)},isHTTPURL:function T(B){return A("isHTTPURL",B)},isHTTPS:function N(B){return A("isHTTPS",B)},removeHostname:function V(B){return A("removeHostname",B)},resolve:function S(B,Y){return A("resolve",B,Y)}}}O.__dashjs_factory_name="URLUtils";var b=t.default.getSingletonFactory(O);x.default=b},"./src/streaming/utils/VTTParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/VTTParser.js ***!
                  \******************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/Debug */
"./src/core/Debug.js");function b(){var L,D,m,h,g,v,F=this.context;function P(C){var w=C.split(":"),T=w.length-1;return C=60*parseInt(w[T-1],10)+parseFloat(w[T]),2===T&&(C+=3600*parseInt(w[0],10)),C}function V(C){var w=C.split(h),T=w[1].split(v);return T.shift(),w[1]=T[0],T.shift(),{cuePoints:w,styles:k(T)}}function k(C){var w={};return C.forEach(function(T){if(T.split(/:/).length>1){var N=T.split(/:/)[1];N&&-1!=N.search(/%/)&&(N=parseInt(N.replace(/%/,""),10)),(T.match(/align/)||T.match(/A/))&&(w.align=N),(T.match(/line/)||T.match(/L/))&&(w.line=N),(T.match(/position/)||T.match(/P/))&&(w.position=N),(T.match(/size/)||T.match(/S/))&&(w.size=N)}}),w}function R(C,w){for(var B,T=w,N="",S="";""!==C[T]&&T<C.length;)T++;if((B=T-w)>1)for(var Y=0;Y<B;Y++){if((S=C[w+Y]).match(h)){N="";break}N+=S,Y!==B-1&&(N+="\n")}else(S=C[w]).match(h)||(N=S);return N}return L={parse:function U(C){var T,N,w=[];if(!C)return w;T=(C=C.split(m)).length,N=-1;for(var S=0;S<T;S++){var B=C[S];if(B.length>0&&"WEBVTT"!==B&&B.match(h)){var Y=V(B),re=Y.cuePoints,ae=Y.styles,Re=R(C,S+1),z=P(re[0].replace(g,"")),oe=P(re[1].replace(g,""));!isNaN(z)&&!isNaN(oe)&&z>=N&&oe>z?""!==Re?(N=z,w.push({start:z,end:oe,data:Re,styles:ae})):D.error("Skipping cue due to empty/malformed cue text"):D.error("Skipping cue due to incorrect cue timing")}}return w}},function A(){D=Object(E.default)(F).getInstance().getLogger(L),m=/(?:\r\n|\r|\n)/gm,h=/-->/,g=/(^[\s]+|[\s]+$)/g,v=/\s\b/g}(),L}b.__dashjs_factory_name="VTTParser",x.default=t.default.getSingletonFactory(b)},"./src/streaming/utils/VttCustomRenderingParser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/utils/VttCustomRenderingParser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var O,b;return O={parse:function L(D){var m=[];return b.oncue=function(h){h.start=h.startTime,h.end=h.endTime,h.data=h.text,h.styles={align:h.align,line:h.line,position:h.position,size:h.size},m.push(h)},b.parse(D),m}},function F(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(b=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),O}E.__dashjs_factory_name="VttCustomRenderingParser",x.default=t.default.getSingletonFactory(E)},"./src/streaming/utils/baseUrlResolution/BasicSelector.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/BasicSelector.js ***!
                  \****************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(O){var F=(O=O||{}).blacklistController;return{select:function L(D){var h,m=0;return D&&D.some(function(g,v){return m=v,!F.contains(g.serviceLocation)})&&(h=D[m]),h}}}E.__dashjs_factory_name="BasicSelector",x.default=t.default.getClassFactory(E)},"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js");function O(){var F,L,D,b=this.context;function v(){for(var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],P=0,V=NaN,k=function(){var w=A[P],T=U.findIndex(function(N){return N.serviceLocation&&N.serviceLocation===w});if(-1!==T&&!D.contains(U[T].serviceLocation))return V=T,"break";P+=1};P<A.length&&"break"!==k(););return V}return F={selectBaseUrlIndex:function g(A){var U=NaN;if(isNaN(A.selectedIdx)){var P=L.getSteeringDataFromManifest();P&&P.defaultServiceLocation&&(U=v([P.defaultServiceLocation],A.baseUrls))}var V=L.getCurrentSteeringResponseData();return A.baseUrls&&A.baseUrls.length&&V&&V.serviceLocationPriority&&V.serviceLocationPriority.length&&(U=v(V.serviceLocationPriority,A.baseUrls)),U},setConfig:function h(A){A.blacklistController&&(D=A.blacklistController),A.contentSteeringController&&(L=A.contentSteeringController)}},function m(){L=Object(E.default)(b).getInstance()}(),F}O.__dashjs_factory_name="ContentSteeringSelector",x.default=t.default.getClassFactory(O)},"./src/streaming/utils/baseUrlResolution/DVBSelector.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/DVBSelector.js ***!
                  \**************************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(O){var F=(O=O||{}).blacklistController;return{select:function m(h){return h&&function D(h){var V,k,A=0,U=[],P=0;if((k=h.sort(function(C,w){var T=C.dvb_priority-w.dvb_priority;return isNaN(T)?0:T}).filter(function(C,w,T){return!w||T[0].dvb_priority&&C.dvb_priority&&T[0].dvb_priority===C.dvb_priority})).length)return k.length>1&&(k.forEach(function(R){U.push(A+=R.dvb_weight)}),V=Math.floor(Math.random()*(A-1)),U.every(function(R,C){return P=C,!(V<R)})),k[P]}(function L(h){var g=[];return h.filter(function(P){return!F.contains(P.serviceLocation)||(P.dvb_priority&&g.push(P.dvb_priority),!1)}).filter(function(P){return!(g.length&&P.dvb_priority&&-1!==g.indexOf(P.dvb_priority))})}(h))}}}E.__dashjs_factory_name="DVBSelector",x.default=t.default.getClassFactory(E)},"./src/streaming/vo/BitrateInfo.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/BitrateInfo.js ***!
                  \*****************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN})},"./src/streaming/vo/DashJSError.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/DashJSError.js ***!
                  \*****************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(h,g,v){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.code=h||null,this.message=g||null,this.data=v||null})},"./src/streaming/vo/DataChunk.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/DataChunk.js ***!
                  \***************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null})},"./src/streaming/vo/FragmentRequest.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/FragmentRequest.js ***!
                  \*********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function E(h){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}function b(h,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,L(A.key),A)}}function L(h){var g=function D(h,g){if("object"!==E(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,g||"default");if("object"!==E(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(h)}(h,"string");return"symbol"===E(g)?g:String(g)}var m=function(){function h(g){(function O(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,h),this.action=h.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=g||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}return function F(h,g,v){return g&&b(h.prototype,g),v&&b(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"isInitializationRequest",value:function(){return this.type&&this.type===t.HTTPRequest.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(v){this.type=v&&v.init?t.HTTPRequest.INIT_SEGMENT_TYPE:t.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=v&&v.url?v.url:null,this.range=v&&v.range?v.range.start+"-"+v.range.end:null,this.mediaType=v&&v.mediaType?v.mediaType:null}}]),h}();m.ACTION_DOWNLOAD="download",m.ACTION_COMPLETE="complete",x.default=m},"./src/streaming/vo/HeadRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/HeadRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function E(k){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(k)}function O(k,R){for(var C=0;C<R.length;C++){var w=R[C];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(k,F(w.key),w)}}function F(k){var R=function L(k,R){if("object"!==E(k)||null===k)return k;var C=k[Symbol.toPrimitive];if(void 0!==C){var w=C.call(k,R||"default");if("object"!==E(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(k)}(k,"string");return"symbol"===E(R)?R:String(R)}function m(k,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(R&&R.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),R&&h(k,R)}function h(k,R){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,T){return w.__proto__=T,w})(k,R)}function g(k){var R=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,w=P(k);if(R){var N=P(this).constructor;T=Reflect.construct(w,arguments,N)}else T=w.apply(this,arguments);return function v(k,R){if(R&&("object"===E(R)||"function"==typeof R))return R;if(void 0!==R)throw new TypeError("Derived constructors may only return object or undefined");return function A(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(this,T)}}function P(k){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)})(k)}x.default=function(k){m(C,k);var R=g(C);function C(w){var T;return function D(k,R){if(!(k instanceof R))throw new TypeError("Cannot call a class as a function")}(this,C),(T=R.call(this,w)).checkForExistenceOnly=!0,T}return function b(k,R,C){return R&&O(k.prototype,R),C&&O(k,C),Object.defineProperty(k,"prototype",{writable:!1}),k}(C)}(t.default)},"./src/streaming/vo/IsoBox.js":
/*!************************************!*\
                  !*** ./src/streaming/vo/IsoBox.js ***!
                  \************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function O(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,F(v.key),v)}}function F(m){var h=function L(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=function(){function m(h){if(function E(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}(this,m),this.offset=h._offset,this.type=h.type,this.size=h.size,this.boxes=[],h.boxes)for(var g=0;g<h.boxes.length;g++)this.boxes.push(new m(h.boxes[g]));switch(this.isComplete=!0,h.type){case"sidx":if(this.timescale=h.timescale,this.earliest_presentation_time=h.earliest_presentation_time,this.first_offset=h.first_offset,this.references=h.references,h.references){this.references=[];for(var v=0;v<h.references.length;v++)this.references.push({reference_type:h.references[v].reference_type,referenced_size:h.references[v].referenced_size,subsegment_duration:h.references[v].subsegment_duration})}break;case"emsg":this.id=h.id,this.version=1===h.version?1:0,this.value=h.value,this.timescale=h.timescale,this.scheme_id_uri=h.scheme_id_uri,this.presentation_time_delta=1===h.version?h.presentation_time:h.presentation_time_delta,this.event_duration=h.event_duration,this.message_data=h.message_data;break;case"mdhd":this.timescale=h.timescale;break;case"mfhd":this.sequence_number=h.sequence_number;break;case"subs":this.entry_count=h.entry_count,this.entries=h.entries;break;case"tfhd":this.base_data_offset=h.base_data_offset,this.sample_description_index=h.sample_description_index,this.default_sample_duration=h.default_sample_duration,this.default_sample_size=h.default_sample_size,this.default_sample_flags=h.default_sample_flags,this.flags=h.flags;break;case"tfdt":this.version=h.version,this.baseMediaDecodeTime=h.baseMediaDecodeTime,this.flags=h.flags;break;case"trun":if(this.sample_count=h.sample_count,this.first_sample_flags=h.first_sample_flags,this.data_offset=h.data_offset,this.flags=h.flags,this.samples=h.samples,h.samples){this.samples=[];for(var U=0,P=h.samples.length;U<P;U++)this.samples.push({sample_size:h.samples[U].sample_size,sample_duration:h.samples[U].sample_duration,sample_composition_time_offset:h.samples[U].sample_composition_time_offset})}}}return function b(m,h,g){return h&&O(m.prototype,h),g&&O(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}(m,[{key:"getChildBox",value:function(g){for(var v=0;v<this.boxes.length;v++)if(this.boxes[v].type===g)return this.boxes[v]}},{key:"getChildBoxes",value:function(g){for(var v=[],A=0;A<this.boxes.length;A++)this.boxes[A].type===g&&v.push(this.boxes[A]);return v}}]),m}()},"./src/streaming/vo/IsoBoxSearchInfo.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/IsoBoxSearchInfo.js ***!
                  \**********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(h,g,v){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.lastCompletedOffset=h,this.found=g,this.size=v})},"./src/streaming/vo/MetricsList.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/MetricsList.js ***!
                  \*****************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]})},"./src/streaming/vo/TextRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/TextRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function O(R){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(R)}function b(R,C){for(var w=0;w<C.length;w++){var T=C[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,L(T.key),T)}}function L(R){var C=function D(R,C){if("object"!==O(R)||null===R)return R;var w=R[Symbol.toPrimitive];if(void 0!==w){var T=w.call(R,C||"default");if("object"!==O(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(R)}(R,"string");return"symbol"===O(C)?C:String(C)}function h(R,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(C&&C.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),C&&g(R,C)}function g(R,C){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(R,C)}function v(R){var C=function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=V(R);if(C){var S=V(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function A(R,C){if(C&&("object"===O(C)||"function"==typeof C))return C;if(void 0!==C)throw new TypeError("Derived constructors may only return object or undefined");return function U(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,N)}}function V(R){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(R)}x.default=function(R){h(w,R);var C=v(w);function w(T,N){var S;return function m(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")}(this,w),(S=C.call(this)).url=T||null,S.type=N||null,S.mediaType=t.default.STREAM,S.responseType="",S}return function F(R,C,w){return C&&b(R.prototype,C),w&&b(R,w),Object.defineProperty(R,"prototype",{writable:!1}),R}(w)}(E.default)},"./src/streaming/vo/TextTrackInfo.js":
/*!*******************************************!*\
                  !*** ./src/streaming/vo/TextTrackInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ./../../dash/vo/MediaInfo */
"./src/dash/vo/MediaInfo.js");function E(k){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(k)}function O(k,R){for(var C=0;C<R.length;C++){var w=R[C];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(k,F(w.key),w)}}function F(k){var R=function L(k,R){if("object"!==E(k)||null===k)return k;var C=k[Symbol.toPrimitive];if(void 0!==C){var w=C.call(k,R||"default");if("object"!==E(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(k)}(k,"string");return"symbol"===E(R)?R:String(R)}function m(k,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(R&&R.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),R&&h(k,R)}function h(k,R){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,T){return w.__proto__=T,w})(k,R)}function g(k){var R=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,w=P(k);if(R){var N=P(this).constructor;T=Reflect.construct(w,arguments,N)}else T=w.apply(this,arguments);return function v(k,R){if(R&&("object"===E(R)||"function"==typeof R))return R;if(void 0!==R)throw new TypeError("Derived constructors may only return object or undefined");return function A(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(this,T)}}function P(k){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)})(k)}x.default=function(k){m(C,k);var R=g(C);function C(){var w;return function D(k,R){if(!(k instanceof R))throw new TypeError("Cannot call a class as a function")}(this,C),(w=R.call(this)).captionData=null,w.label=null,w.defaultTrack=!1,w.kind=null,w.isFragmented=!1,w.isEmbedded=!1,w.isTTML=null,w}return function b(k,R,C){return R&&O(k.prototype,R),C&&O(k,C),Object.defineProperty(k,"prototype",{writable:!1}),k}(C)}(t.default)},"./src/streaming/vo/Thumbnail.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/Thumbnail.js ***!
                  \***************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null})},"./src/streaming/vo/ThumbnailTrackInfo.js":
/*!************************************************!*\
                  !*** ./src/streaming/vo/ThumbnailTrackInfo.js ***!
                  \************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""})},"./src/streaming/vo/URIFragmentData.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/URIFragmentData.js ***!
                  \*********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null})},"./src/streaming/vo/metrics/BufferLevel.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferLevel.js ***!
                  \*************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.t=null,this.level=null})},"./src/streaming/vo/metrics/BufferState.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferState.js ***!
                  \*************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";c.r(x);var t=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function E(h){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}function O(h,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,F(A.key),A)}}function b(h,g,v){return g&&O(h.prototype,g),v&&O(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}function F(h){var g=function L(h,g){if("object"!==E(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,g||"default");if("object"!==E(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(h)}(h,"string");return"symbol"===E(g)?g:String(g)}x.default=b(function h(){(function D(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,h),this.target=null,this.state=t.default.BUFFER_EMPTY})},"./src/streaming/vo/metrics/DVRInfo.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/metrics/DVRInfo.js ***!
                  \*********************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.time=null,this.range=null,this.manifestInfo=null})},"./src/streaming/vo/metrics/DroppedFrames.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/DroppedFrames.js ***!
                  \***************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.time=null,this.droppedFrames=null})},"./src/streaming/vo/metrics/HTTPRequest.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/HTTPRequest.js ***!
                  \*************************************************/
/*! exports provided: HTTPRequest, HTTPRequestTrace */function(qe,x,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}function E(h,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,b(A.key),A)}}function O(h,g,v){return g&&E(h.prototype,g),v&&E(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}function b(h){var g=function F(h,g){if("object"!==t(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(h)}(h,"string");return"symbol"===t(g)?g:String(g)}function L(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}c.r(x),c.d(x,"HTTPRequest",function(){return D}),c.d(x,"HTTPRequestTrace",function(){return m});var D=O(function h(){L(this,h),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null}),m=O(function h(){L(this,h),this.s=null,this.d=null,this.b=[]});D.GET="GET",D.HEAD="HEAD",D.MPD_TYPE="MPD",D.XLINK_EXPANSION_TYPE="XLinkExpansion",D.INIT_SEGMENT_TYPE="InitializationSegment",D.INDEX_SEGMENT_TYPE="IndexSegment",D.MEDIA_SEGMENT_TYPE="MediaSegment",D.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",D.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",D.DVB_REPORTING_TYPE="DVBReporting",D.LICENSE="license",D.CONTENT_STEERING_TYPE="ContentSteering",D.OTHER_TYPE="other"},"./src/streaming/vo/metrics/ManifestUpdate.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/ManifestUpdate.js ***!
                  \****************************************************/
/*! exports provided: ManifestUpdate, ManifestUpdateStreamInfo, ManifestUpdateRepresentationInfo */function(qe,x,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(g)}function E(g,v){for(var A=0;A<v.length;A++){var U=v[A];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(g,b(U.key),U)}}function O(g,v,A){return v&&E(g.prototype,v),A&&E(g,A),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var v=function F(g,v){if("object"!==t(g)||null===g)return g;var A=g[Symbol.toPrimitive];if(void 0!==A){var U=A.call(g,v||"default");if("object"!==t(U))return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===v?String:Number)(g)}(g,"string");return"symbol"===t(v)?v:String(v)}function L(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}c.r(x),c.d(x,"ManifestUpdate",function(){return D}),c.d(x,"ManifestUpdateStreamInfo",function(){return m}),c.d(x,"ManifestUpdateRepresentationInfo",function(){return h});var D=O(function g(){L(this,g),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]}),m=O(function g(){L(this,g),this.id=null,this.index=null,this.start=null,this.duration=null}),h=O(function g(){L(this,g),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null})},"./src/streaming/vo/metrics/PlayList.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/metrics/PlayList.js ***!
                  \**********************************************/
/*! exports provided: PlayList, PlayListTrace */function(qe,x,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}function E(h,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,b(A.key),A)}}function O(h,g,v){return g&&E(h.prototype,g),v&&E(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}function b(h){var g=function F(h,g){if("object"!==t(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(h)}(h,"string");return"symbol"===t(g)?g:String(g)}function L(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}c.r(x),c.d(x,"PlayList",function(){return D}),c.d(x,"PlayListTrace",function(){return m});var D=O(function h(){L(this,h),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]});D.INITIAL_PLAYOUT_START_REASON="initial_playout",D.SEEK_START_REASON="seek",D.RESUME_FROM_PAUSE_START_REASON="resume",D.METRICS_COLLECTION_START_REASON="metrics_collection_start";var m=O(function h(){L(this,h),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null});m.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",m.REBUFFERING_REASON="rebuffering",m.USER_REQUEST_STOP_REASON="user_request",m.END_OF_PERIOD_STOP_REASON="end_of_period",m.END_OF_CONTENT_STOP_REASON="end_of_content",m.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",m.FAILURE_STOP_REASON="failure"},"./src/streaming/vo/metrics/RepresentationSwitch.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/vo/metrics/RepresentationSwitch.js ***!
                  \**********************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.t=null,this.mt=null,this.to=null,this.lto=null})},"./src/streaming/vo/metrics/RequestsQueue.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/RequestsQueue.js ***!
                  \***************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.loadingRequests=[],this.executedRequests=[]})},"./src/streaming/vo/metrics/SchedulingInfo.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/SchedulingInfo.js ***!
                  \****************************************************/
/*! exports provided: default */function(qe,x,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function E(m,h){for(var g=0;g<h.length;g++){var v=h[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,b(v.key),v)}}function O(m,h,g){return h&&E(m.prototype,h),g&&E(m,g),Object.defineProperty(m,"prototype",{writable:!1}),m}function b(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var g=m[Symbol.toPrimitive];if(void 0!==g){var v=g.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(x),x.default=O(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null})},0:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(qe,x){},1:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(qe,x){}}).default},4440:(wn,qe,x)=>{var c;!function(){"use strict";var t="object"==typeof window?window:{},E=!t.HI_BASE64_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;E&&(t=global);var A,U,O=!t.HI_BASE64_NO_COMMON_JS&&wn.exports,b=x.amdO,F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),L={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63,"-":62,_:63},m=function(C){var w,T,N,S,B=[],Y=0,re=C.length;"="===C.charAt(re-2)?re-=2:"="===C.charAt(re-1)&&(re-=1);for(var ae=0,Re=re>>2<<2;ae<Re;)w=L[C.charAt(ae++)],T=L[C.charAt(ae++)],N=L[C.charAt(ae++)],S=L[C.charAt(ae++)],B[Y++]=255&(w<<2|T>>>4),B[Y++]=255&(T<<4|N>>>2),B[Y++]=255&(N<<6|S);var z=re-Re;return 2===z?(w=L[C.charAt(ae++)],T=L[C.charAt(ae++)],B[Y++]=255&(w<<2|T>>>4)):3===z&&(w=L[C.charAt(ae++)],T=L[C.charAt(ae++)],N=L[C.charAt(ae++)],B[Y++]=255&(w<<2|T>>>4),B[Y++]=255&(T<<4|N>>>2)),B},h=function(C){for(var w,T,N,S="",B=C.length,Y=0,re=3*parseInt(B/3);Y<re;)w=C[Y++],T=C[Y++],N=C[Y++],S+=F[w>>>2]+F[63&(w<<4|T>>>4)]+F[63&(T<<2|N>>>6)]+F[63&N];var ae=B-re;return 1===ae?S+=F[(w=C[Y])>>>2]+F[w<<4&63]+"==":2===ae&&(w=C[Y++],S+=F[w>>>2]+F[63&(w<<4|(T=C[Y])>>>4)]+F[T<<2&63]+"="),S},g=t.btoa,v=t.atob;if(E){var P=x(9007).lW;g=function(C){return new P(C,"ascii").toString("base64")},h=A=function(C){return new P(C).toString("base64")},v=function(C){return new P(C,"base64").toString("ascii")},U=function(C){return new P(C,"base64").toString()}}else g?(A=function(C){for(var w="",T=0;T<C.length;T++){var N=C.charCodeAt(T);N<128?w+=String.fromCharCode(N):N<2048?w+=String.fromCharCode(192|N>>6)+String.fromCharCode(128|63&N):N<55296||N>=57344?w+=String.fromCharCode(224|N>>12)+String.fromCharCode(128|N>>6&63)+String.fromCharCode(128|63&N):(N=65536+((1023&N)<<10|1023&C.charCodeAt(++T)),w+=String.fromCharCode(240|N>>18)+String.fromCharCode(128|N>>12&63)+String.fromCharCode(128|N>>6&63)+String.fromCharCode(128|63&N))}return g(w)},U=function(C){var w=v(C.trim("=").replace(/-/g,"+").replace(/_/g,"/"));if(!/[^\x00-\x7F]/.test(w))return w;for(var Y,re,T="",N=0,S=w.length,B=0;N<S;)if((Y=w.charCodeAt(N++))<=127)T+=String.fromCharCode(Y);else{if(Y>191&&Y<=223)re=31&Y,B=1;else if(Y<=239)re=15&Y,B=2;else{if(!(Y<=247))throw"not a UTF-8 string";re=7&Y,B=3}for(var ae=0;ae<B;++ae){if((Y=w.charCodeAt(N++))<128||Y>191)throw"not a UTF-8 string";re<<=6,re+=63&Y}if(re>=55296&&re<=57343||re>1114111)throw"not a UTF-8 string";re<=65535?T+=String.fromCharCode(re):(re-=65536,T+=String.fromCharCode(55296+(re>>10)),T+=String.fromCharCode(56320+(1023&re)))}return T}):(g=function(C){for(var w,T,N,S="",B=C.length,Y=0,re=3*parseInt(B/3);Y<re;)w=C.charCodeAt(Y++),T=C.charCodeAt(Y++),N=C.charCodeAt(Y++),S+=F[w>>>2]+F[63&(w<<4|T>>>4)]+F[63&(T<<2|N>>>6)]+F[63&N];var ae=B-re;return 1===ae?(w=C.charCodeAt(Y),S+=F[w>>>2]+F[w<<4&63]+"=="):2===ae&&(w=C.charCodeAt(Y++),T=C.charCodeAt(Y),S+=F[w>>>2]+F[63&(w<<4|T>>>4)]+F[T<<2&63]+"="),S},A=function(C){for(var w,T,N,S="",B=function(C){for(var w=[],T=0;T<C.length;T++){var N=C.charCodeAt(T);N<128?w[w.length]=N:N<2048?(w[w.length]=192|N>>6,w[w.length]=128|63&N):N<55296||N>=57344?(w[w.length]=224|N>>12,w[w.length]=128|N>>6&63,w[w.length]=128|63&N):(N=65536+((1023&N)<<10|1023&C.charCodeAt(++T)),w[w.length]=240|N>>18,w[w.length]=128|N>>12&63,w[w.length]=128|N>>6&63,w[w.length]=128|63&N)}return w}(C),Y=B.length,re=0,ae=3*parseInt(Y/3);re<ae;)w=B[re++],T=B[re++],N=B[re++],S+=F[w>>>2]+F[63&(w<<4|T>>>4)]+F[63&(T<<2|N>>>6)]+F[63&N];var Re=Y-ae;return 1===Re?S+=F[(w=B[re])>>>2]+F[w<<4&63]+"==":2===Re&&(w=B[re++],S+=F[w>>>2]+F[63&(w<<4|(T=B[re])>>>4)]+F[T<<2&63]+"="),S},v=function(C){var w,T,N,S,B="",Y=C.length;"="===C.charAt(Y-2)?Y-=2:"="===C.charAt(Y-1)&&(Y-=1);for(var re=0,ae=Y>>2<<2;re<ae;)w=L[C.charAt(re++)],T=L[C.charAt(re++)],N=L[C.charAt(re++)],S=L[C.charAt(re++)],B+=String.fromCharCode(255&(w<<2|T>>>4))+String.fromCharCode(255&(T<<4|N>>>2))+String.fromCharCode(255&(N<<6|S));var Re=Y-ae;return 2===Re?(w=L[C.charAt(re++)],T=L[C.charAt(re++)],B+=String.fromCharCode(255&(w<<2|T>>>4))):3===Re&&(w=L[C.charAt(re++)],T=L[C.charAt(re++)],N=L[C.charAt(re++)],B+=String.fromCharCode(255&(w<<2|T>>>4))+String.fromCharCode(255&(T<<4|N>>>2))),B},U=function(C){for(var Y,re,w="",T=m(C),N=T.length,S=0,B=0;S<N;)if((Y=T[S++])<=127)w+=String.fromCharCode(Y);else{if(Y>191&&Y<=223)re=31&Y,B=1;else if(Y<=239)re=15&Y,B=2;else{if(!(Y<=247))throw"not a UTF-8 string";re=7&Y,B=3}for(var ae=0;ae<B;++ae){if((Y=T[S++])<128||Y>191)throw"not a UTF-8 string";re<<=6,re+=63&Y}if(re>=55296&&re<=57343||re>1114111)throw"not a UTF-8 string";re<=65535?w+=String.fromCharCode(re):(re-=65536,w+=String.fromCharCode(55296+(re>>10)),w+=String.fromCharCode(56320+(1023&re)))}return w});var k=function(C,w){return w?v(C):U(C)},R={encode:function(C,w){var T="string"!=typeof C;return T&&C.constructor===t.ArrayBuffer&&(C=new Uint8Array(C)),T?h(C):!w&&/[^\x00-\x7F]/.test(C)?A(C):g(C)},decode:k,atob:v,btoa:g};k.bytes=m,k.string=k,O?wn.exports=R:(t.base64=R,b&&void 0!==(c=function(){return R}.call(R,x,R,wn))&&(wn.exports=c))}()},2601:(wn,qe)=>{qe.read=function(x,c,t,E,O){var b,F,L=8*O-E-1,D=(1<<L)-1,m=D>>1,h=-7,g=t?O-1:0,v=t?-1:1,A=x[c+g];for(g+=v,b=A&(1<<-h)-1,A>>=-h,h+=L;h>0;b=256*b+x[c+g],g+=v,h-=8);for(F=b&(1<<-h)-1,b>>=-h,h+=E;h>0;F=256*F+x[c+g],g+=v,h-=8);if(0===b)b=1-m;else{if(b===D)return F?NaN:1/0*(A?-1:1);F+=Math.pow(2,E),b-=m}return(A?-1:1)*F*Math.pow(2,b-E)},qe.write=function(x,c,t,E,O,b){var F,L,D,m=8*b-O-1,h=(1<<m)-1,g=h>>1,v=23===O?Math.pow(2,-24)-Math.pow(2,-77):0,A=E?0:b-1,U=E?1:-1,P=c<0||0===c&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(L=isNaN(c)?1:0,F=h):(F=Math.floor(Math.log(c)/Math.LN2),c*(D=Math.pow(2,-F))<1&&(F--,D*=2),(c+=F+g>=1?v/D:v*Math.pow(2,1-g))*D>=2&&(F++,D/=2),F+g>=h?(L=0,F=h):F+g>=1?(L=(c*D-1)*Math.pow(2,O),F+=g):(L=c*Math.pow(2,g-1)*Math.pow(2,O),F=0));O>=8;x[t+A]=255&L,A+=U,L/=256,O-=8);for(F=F<<O|L,m+=O;m>0;x[t+A]=255&F,A+=U,F/=256,m-=8);x[t+A-U]|=128*P}},5619:(wn,qe,x)=>{"use strict";x.d(qe,{X:()=>t});var c=x(8645);class t extends c.x{constructor(O){super(),this._value=O}get value(){return this.getValue()}_subscribe(O){const b=super._subscribe(O);return!b.closed&&O.next(this._value),b}getValue(){const{hasError:O,thrownError:b,_value:F}=this;if(O)throw b;return this._throwIfClosed(),F}next(O){super.next(this._value=O)}}},5592:(wn,qe,x)=>{"use strict";x.d(qe,{y:()=>D});var c=x(305),t=x(7394),E=x(4850),O=x(8407),b=x(2653),F=x(4674),L=x(1441);let D=(()=>{class v{constructor(U){U&&(this._subscribe=U)}lift(U){const P=new v;return P.source=this,P.operator=U,P}subscribe(U,P,V){const k=function g(v){return v&&v instanceof c.Lv||function h(v){return v&&(0,F.m)(v.next)&&(0,F.m)(v.error)&&(0,F.m)(v.complete)}(v)&&(0,t.Nn)(v)}(U)?U:new c.Hp(U,P,V);return(0,L.x)(()=>{const{operator:R,source:C}=this;k.add(R?R.call(k,C):C?this._subscribe(k):this._trySubscribe(k))}),k}_trySubscribe(U){try{return this._subscribe(U)}catch(P){U.error(P)}}forEach(U,P){return new(P=m(P))((V,k)=>{const R=new c.Hp({next:C=>{try{U(C)}catch(w){k(w),R.unsubscribe()}},error:k,complete:V});this.subscribe(R)})}_subscribe(U){var P;return null===(P=this.source)||void 0===P?void 0:P.subscribe(U)}[E.L](){return this}pipe(...U){return(0,O.U)(U)(this)}toPromise(U){return new(U=m(U))((P,V)=>{let k;this.subscribe(R=>k=R,R=>V(R),()=>P(k))})}}return v.create=A=>new v(A),v})();function m(v){var A;return null!==(A=v??b.config.Promise)&&void 0!==A?A:Promise}},8645:(wn,qe,x)=>{"use strict";x.d(qe,{x:()=>L});var c=x(5592),t=x(7394);const O=(0,x(2306).d)(m=>function(){m(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var b=x(9039),F=x(1441);let L=(()=>{class m extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(g){const v=new D(this,this);return v.operator=g,v}_throwIfClosed(){if(this.closed)throw new O}next(g){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const v of this.currentObservers)v.next(g)}})}error(g){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=g;const{observers:v}=this;for(;v.length;)v.shift().error(g)}})}complete(){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:g}=this;for(;g.length;)g.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var g;return(null===(g=this.observers)||void 0===g?void 0:g.length)>0}_trySubscribe(g){return this._throwIfClosed(),super._trySubscribe(g)}_subscribe(g){return this._throwIfClosed(),this._checkFinalizedStatuses(g),this._innerSubscribe(g)}_innerSubscribe(g){const{hasError:v,isStopped:A,observers:U}=this;return v||A?t.Lc:(this.currentObservers=null,U.push(g),new t.w0(()=>{this.currentObservers=null,(0,b.P)(U,g)}))}_checkFinalizedStatuses(g){const{hasError:v,thrownError:A,isStopped:U}=this;v?g.error(A):U&&g.complete()}asObservable(){const g=new c.y;return g.source=this,g}}return m.create=(h,g)=>new D(h,g),m})();class D extends L{constructor(h,g){super(),this.destination=h,this.source=g}next(h){var g,v;null===(v=null===(g=this.destination)||void 0===g?void 0:g.next)||void 0===v||v.call(g,h)}error(h){var g,v;null===(v=null===(g=this.destination)||void 0===g?void 0:g.error)||void 0===v||v.call(g,h)}complete(){var h,g;null===(g=null===(h=this.destination)||void 0===h?void 0:h.complete)||void 0===g||g.call(h)}_subscribe(h){var g,v;return null!==(v=null===(g=this.source)||void 0===g?void 0:g.subscribe(h))&&void 0!==v?v:t.Lc}}},305:(wn,qe,x)=>{"use strict";x.d(qe,{Hp:()=>V,Lv:()=>v});var c=x(4674),t=x(7394),E=x(2653),O=x(3894),b=x(2420);const F=m("C",void 0,void 0);function m(T,N,S){return{kind:T,value:N,error:S}}var h=x(7599),g=x(1441);class v extends t.w0{constructor(N){super(),this.isStopped=!1,N?(this.destination=N,(0,t.Nn)(N)&&N.add(this)):this.destination=w}static create(N,S,B){return new V(N,S,B)}next(N){this.isStopped?C(function D(T){return m("N",T,void 0)}(N),this):this._next(N)}error(N){this.isStopped?C(function L(T){return m("E",void 0,T)}(N),this):(this.isStopped=!0,this._error(N))}complete(){this.isStopped?C(F,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(N){this.destination.next(N)}_error(N){try{this.destination.error(N)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const A=Function.prototype.bind;function U(T,N){return A.call(T,N)}class P{constructor(N){this.partialObserver=N}next(N){const{partialObserver:S}=this;if(S.next)try{S.next(N)}catch(B){k(B)}}error(N){const{partialObserver:S}=this;if(S.error)try{S.error(N)}catch(B){k(B)}else k(N)}complete(){const{partialObserver:N}=this;if(N.complete)try{N.complete()}catch(S){k(S)}}}class V extends v{constructor(N,S,B){let Y;if(super(),(0,c.m)(N)||!N)Y={next:N??void 0,error:S??void 0,complete:B??void 0};else{let re;this&&E.config.useDeprecatedNextContext?(re=Object.create(N),re.unsubscribe=()=>this.unsubscribe(),Y={next:N.next&&U(N.next,re),error:N.error&&U(N.error,re),complete:N.complete&&U(N.complete,re)}):Y=N}this.destination=new P(Y)}}function k(T){E.config.useDeprecatedSynchronousErrorHandling?(0,g.O)(T):(0,O.h)(T)}function C(T,N){const{onStoppedNotification:S}=E.config;S&&h.z.setTimeout(()=>S(T,N))}const w={closed:!0,next:b.Z,error:function R(T){throw T},complete:b.Z}},7394:(wn,qe,x)=>{"use strict";x.d(qe,{Lc:()=>F,w0:()=>b,Nn:()=>L});var c=x(4674);const E=(0,x(2306).d)(m=>function(g){m(this),this.message=g?`${g.length} errors occurred during unsubscription:\n${g.map((v,A)=>`${A+1}) ${v.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=g});var O=x(9039);class b{constructor(h){this.initialTeardown=h,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let h;if(!this.closed){this.closed=!0;const{_parentage:g}=this;if(g)if(this._parentage=null,Array.isArray(g))for(const U of g)U.remove(this);else g.remove(this);const{initialTeardown:v}=this;if((0,c.m)(v))try{v()}catch(U){h=U instanceof E?U.errors:[U]}const{_finalizers:A}=this;if(A){this._finalizers=null;for(const U of A)try{D(U)}catch(P){h=h??[],P instanceof E?h=[...h,...P.errors]:h.push(P)}}if(h)throw new E(h)}}add(h){var g;if(h&&h!==this)if(this.closed)D(h);else{if(h instanceof b){if(h.closed||h._hasParent(this))return;h._addParent(this)}(this._finalizers=null!==(g=this._finalizers)&&void 0!==g?g:[]).push(h)}}_hasParent(h){const{_parentage:g}=this;return g===h||Array.isArray(g)&&g.includes(h)}_addParent(h){const{_parentage:g}=this;this._parentage=Array.isArray(g)?(g.push(h),g):g?[g,h]:h}_removeParent(h){const{_parentage:g}=this;g===h?this._parentage=null:Array.isArray(g)&&(0,O.P)(g,h)}remove(h){const{_finalizers:g}=this;g&&(0,O.P)(g,h),h instanceof b&&h._removeParent(this)}}b.EMPTY=(()=>{const m=new b;return m.closed=!0,m})();const F=b.EMPTY;function L(m){return m instanceof b||m&&"closed"in m&&(0,c.m)(m.remove)&&(0,c.m)(m.add)&&(0,c.m)(m.unsubscribe)}function D(m){(0,c.m)(m)?m():m.unsubscribe()}},2653:(wn,qe,x)=>{"use strict";x.d(qe,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(wn,qe,x)=>{"use strict";x.d(qe,{c:()=>F});var c=x(5592),t=x(7394),E=x(6196),O=x(8251),b=x(9360);class F extends c.y{constructor(D,m){super(),this.source=D,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,b.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new t.w0;const m=this.getSubject();D.add(this.source.subscribe((0,O.x)(m,void 0,()=>{this._teardown(),m.complete()},h=>{this._teardown(),m.error(h)},()=>this._teardown()))),D.closed&&(this._connection=null,D=t.w0.EMPTY)}return D}refCount(){return(0,E.x)()(this)}}},2572:(wn,qe,x)=>{"use strict";x.d(qe,{a:()=>h});var c=x(5592),t=x(7453),E=x(7715),O=x(2737),b=x(7400),F=x(9940),L=x(2714),D=x(8251),m=x(7103);function h(...A){const U=(0,F.yG)(A),P=(0,F.jO)(A),{args:V,keys:k}=(0,t.D)(A);if(0===V.length)return(0,E.D)([],U);const R=new c.y(function g(A,U,P=O.y){return V=>{v(U,()=>{const{length:k}=A,R=new Array(k);let C=k,w=k;for(let T=0;T<k;T++)v(U,()=>{const N=(0,E.D)(A[T],U);let S=!1;N.subscribe((0,D.x)(V,B=>{R[T]=B,S||(S=!0,w--),w||V.next(P(R.slice()))},()=>{--C||V.complete()}))},V)},V)}}(V,U,k?C=>(0,L.n)(k,C):O.y));return P?R.pipe((0,b.Z)(P)):R}function v(A,U,P){A?(0,m.f)(P,A,U):U()}},5211:(wn,qe,x)=>{"use strict";x.d(qe,{z:()=>b});var c=x(7537),E=x(9940),O=x(7715);function b(...F){return function t(){return(0,c.J)(1)}()((0,O.D)(F,(0,E.yG)(F)))}},4911:(wn,qe,x)=>{"use strict";x.d(qe,{P:()=>E});var c=x(5592),t=x(4829);function E(O){return new c.y(b=>{(0,t.Xf)(O()).subscribe(b)})}},6232:(wn,qe,x)=>{"use strict";x.d(qe,{E:()=>t});const t=new(x(5592).y)(b=>b.complete())},7715:(wn,qe,x)=>{"use strict";x.d(qe,{D:()=>B});var c=x(4829),t=x(7103),E=x(9360),O=x(8251);function b(Y,re=0){return(0,E.e)((ae,Re)=>{ae.subscribe((0,O.x)(Re,z=>(0,t.f)(Re,Y,()=>Re.next(z),re),()=>(0,t.f)(Re,Y,()=>Re.complete(),re),z=>(0,t.f)(Re,Y,()=>Re.error(z),re)))})}function F(Y,re=0){return(0,E.e)((ae,Re)=>{Re.add(Y.schedule(()=>ae.subscribe(Re),re))})}var m=x(5592),g=x(4971),v=x(4674);function U(Y,re){if(!Y)throw new Error("Iterable cannot be null");return new m.y(ae=>{(0,t.f)(ae,re,()=>{const Re=Y[Symbol.asyncIterator]();(0,t.f)(ae,re,()=>{Re.next().then(z=>{z.done?ae.complete():ae.next(z.value)})},0,!0)})})}var P=x(8382),V=x(4026),k=x(4266),R=x(3664),C=x(5726),w=x(9853),T=x(541);function B(Y,re){return re?function S(Y,re){if(null!=Y){if((0,P.c)(Y))return function L(Y,re){return(0,c.Xf)(Y).pipe(F(re),b(re))}(Y,re);if((0,k.z)(Y))return function h(Y,re){return new m.y(ae=>{let Re=0;return re.schedule(function(){Re===Y.length?ae.complete():(ae.next(Y[Re++]),ae.closed||this.schedule())})})}(Y,re);if((0,V.t)(Y))return function D(Y,re){return(0,c.Xf)(Y).pipe(F(re),b(re))}(Y,re);if((0,C.D)(Y))return U(Y,re);if((0,R.T)(Y))return function A(Y,re){return new m.y(ae=>{let Re;return(0,t.f)(ae,re,()=>{Re=Y[g.h](),(0,t.f)(ae,re,()=>{let z,oe;try{({value:z,done:oe}=Re.next())}catch(H){return void ae.error(H)}oe?ae.complete():ae.next(z)},0,!0)}),()=>(0,v.m)(Re?.return)&&Re.return()})}(Y,re);if((0,T.L)(Y))return function N(Y,re){return U((0,T.Q)(Y),re)}(Y,re)}throw(0,w.z)(Y)}(Y,re):(0,c.Xf)(Y)}},2438:(wn,qe,x)=>{"use strict";x.d(qe,{R:()=>h});var c=x(4829),t=x(5592),E=x(1631),O=x(4266),b=x(4674),F=x(7400);const L=["addListener","removeListener"],D=["addEventListener","removeEventListener"],m=["on","off"];function h(P,V,k,R){if((0,b.m)(k)&&(R=k,k=void 0),R)return h(P,V,k).pipe((0,F.Z)(R));const[C,w]=function U(P){return(0,b.m)(P.addEventListener)&&(0,b.m)(P.removeEventListener)}(P)?D.map(T=>N=>P[T](V,N,k)):function v(P){return(0,b.m)(P.addListener)&&(0,b.m)(P.removeListener)}(P)?L.map(g(P,V)):function A(P){return(0,b.m)(P.on)&&(0,b.m)(P.off)}(P)?m.map(g(P,V)):[];if(!C&&(0,O.z)(P))return(0,E.z)(T=>h(T,V,k))((0,c.Xf)(P));if(!C)throw new TypeError("Invalid event target");return new t.y(T=>{const N=(...S)=>T.next(1<S.length?S:S[0]);return C(N),()=>w(N)})}function g(P,V){return k=>R=>P[k](V,R)}},4829:(wn,qe,x)=>{"use strict";x.d(qe,{Xf:()=>A});var c=x(7582),t=x(4266),E=x(4026),O=x(5592),b=x(8382),F=x(5726),L=x(9853),D=x(3664),m=x(541),h=x(4674),g=x(3894),v=x(4850);function A(T){if(T instanceof O.y)return T;if(null!=T){if((0,b.c)(T))return function U(T){return new O.y(N=>{const S=T[v.L]();if((0,h.m)(S.subscribe))return S.subscribe(N);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(T);if((0,t.z)(T))return function P(T){return new O.y(N=>{for(let S=0;S<T.length&&!N.closed;S++)N.next(T[S]);N.complete()})}(T);if((0,E.t)(T))return function V(T){return new O.y(N=>{T.then(S=>{N.closed||(N.next(S),N.complete())},S=>N.error(S)).then(null,g.h)})}(T);if((0,F.D)(T))return R(T);if((0,D.T)(T))return function k(T){return new O.y(N=>{for(const S of T)if(N.next(S),N.closed)return;N.complete()})}(T);if((0,m.L)(T))return function C(T){return R((0,m.Q)(T))}(T)}throw(0,L.z)(T)}function R(T){return new O.y(N=>{(function w(T,N){var S,B,Y,re;return(0,c.mG)(this,void 0,void 0,function*(){try{for(S=(0,c.KL)(T);!(B=yield S.next()).done;)if(N.next(B.value),N.closed)return}catch(ae){Y={error:ae}}finally{try{B&&!B.done&&(re=S.return)&&(yield re.call(S))}finally{if(Y)throw Y.error}}N.complete()})})(T,N).catch(S=>N.error(S))})}},3019:(wn,qe,x)=>{"use strict";x.d(qe,{T:()=>F});var c=x(7537),t=x(4829),E=x(6232),O=x(9940),b=x(7715);function F(...L){const D=(0,O.yG)(L),m=(0,O._6)(L,1/0),h=L;return h.length?1===h.length?(0,t.Xf)(h[0]):(0,c.J)(m)((0,b.D)(h,D)):E.E}},2096:(wn,qe,x)=>{"use strict";x.d(qe,{of:()=>E});var c=x(9940),t=x(7715);function E(...O){const b=(0,c.yG)(O);return(0,t.D)(O,b)}},4825:(wn,qe,x)=>{"use strict";x.d(qe,{H:()=>b});var c=x(5592),t=x(6321),E=x(671);function b(F=0,L,D=t.P){let m=-1;return null!=L&&((0,E.K)(L)?D=L:m=L),new c.y(h=>{let g=function O(F){return F instanceof Date&&!isNaN(F)}(F)?+F-D.now():F;g<0&&(g=0);let v=0;return D.schedule(function(){h.closed||(h.next(v++),0<=m?this.schedule(void 0,m):h.complete())},g)})}},8251:(wn,qe,x)=>{"use strict";x.d(qe,{x:()=>t});var c=x(305);function t(O,b,F,L,D){return new E(O,b,F,L,D)}class E extends c.Lv{constructor(b,F,L,D,m,h){super(b),this.onFinalize=m,this.shouldUnsubscribe=h,this._next=F?function(g){try{F(g)}catch(v){b.error(v)}}:super._next,this._error=D?function(g){try{D(g)}catch(v){b.error(v)}finally{this.unsubscribe()}}:super._error,this._complete=L?function(){try{L()}catch(g){b.error(g)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var b;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:F}=this;super.unsubscribe(),!F&&(null===(b=this.onFinalize)||void 0===b||b.call(this))}}}},6328:(wn,qe,x)=>{"use strict";x.d(qe,{b:()=>E});var c=x(1631),t=x(4674);function E(O,b){return(0,t.m)(b)?(0,c.z)(O,b,1):(0,c.z)(O,1)}},3620:(wn,qe,x)=>{"use strict";x.d(qe,{b:()=>O});var c=x(6321),t=x(9360),E=x(8251);function O(b,F=c.z){return(0,t.e)((L,D)=>{let m=null,h=null,g=null;const v=()=>{if(m){m.unsubscribe(),m=null;const U=h;h=null,D.next(U)}};function A(){const U=g+b,P=F.now();if(P<U)return m=this.schedule(void 0,U-P),void D.add(m);v()}L.subscribe((0,E.x)(D,U=>{h=U,g=F.now(),m||(m=F.schedule(A,b),D.add(m))},()=>{v(),D.complete()},void 0,()=>{h=m=null}))})}},3997:(wn,qe,x)=>{"use strict";x.d(qe,{x:()=>O});var c=x(2737),t=x(9360),E=x(8251);function O(F,L=c.y){return F=F??b,(0,t.e)((D,m)=>{let h,g=!0;D.subscribe((0,E.x)(m,v=>{const A=L(v);(g||!F(h,A))&&(g=!1,h=A,m.next(v))}))})}function b(F,L){return F===L}},2181:(wn,qe,x)=>{"use strict";x.d(qe,{h:()=>E});var c=x(9360),t=x(8251);function E(O,b){return(0,c.e)((F,L)=>{let D=0;F.subscribe((0,t.x)(L,m=>O.call(b,m,D++)&&L.next(m)))})}},4716:(wn,qe,x)=>{"use strict";x.d(qe,{x:()=>t});var c=x(9360);function t(E){return(0,c.e)((O,b)=>{try{O.subscribe(b)}finally{b.add(E)}})}},7398:(wn,qe,x)=>{"use strict";x.d(qe,{U:()=>E});var c=x(9360),t=x(8251);function E(O,b){return(0,c.e)((F,L)=>{let D=0;F.subscribe((0,t.x)(L,m=>{L.next(O.call(b,m,D++))}))})}},975:(wn,qe,x)=>{"use strict";x.d(qe,{h:()=>t});var c=x(7398);function t(E){return(0,c.U)(()=>E)}},7537:(wn,qe,x)=>{"use strict";x.d(qe,{J:()=>E});var c=x(1631),t=x(2737);function E(O=1/0){return(0,c.z)(t.y,O)}},1631:(wn,qe,x)=>{"use strict";x.d(qe,{z:()=>D});var c=x(7398),t=x(4829),E=x(9360),O=x(7103),b=x(8251),L=x(4674);function D(m,h,g=1/0){return(0,L.m)(h)?D((v,A)=>(0,c.U)((U,P)=>h(v,U,A,P))((0,t.Xf)(m(v,A))),g):("number"==typeof h&&(g=h),(0,E.e)((v,A)=>function F(m,h,g,v,A,U,P,V){const k=[];let R=0,C=0,w=!1;const T=()=>{w&&!k.length&&!R&&h.complete()},N=B=>R<v?S(B):k.push(B),S=B=>{U&&h.next(B),R++;let Y=!1;(0,t.Xf)(g(B,C++)).subscribe((0,b.x)(h,re=>{A?.(re),U?N(re):h.next(re)},()=>{Y=!0},void 0,()=>{if(Y)try{for(R--;k.length&&R<v;){const re=k.shift();P?(0,O.f)(h,P,()=>S(re)):S(re)}T()}catch(re){h.error(re)}}))};return m.subscribe((0,b.x)(h,N,()=>{w=!0,T()})),()=>{V?.()}}(v,A,m,g)))}},6196:(wn,qe,x)=>{"use strict";x.d(qe,{x:()=>E});var c=x(9360),t=x(8251);function E(){return(0,c.e)((O,b)=>{let F=null;O._refCount++;const L=(0,t.x)(b,void 0,void 0,void 0,()=>{if(!O||O._refCount<=0||0<--O._refCount)return void(F=null);const D=O._connection,m=F;F=null,D&&(!m||D===m)&&D.unsubscribe(),b.unsubscribe()});O.subscribe(L),L.closed||(F=O.connect())})}},3020:(wn,qe,x)=>{"use strict";x.d(qe,{B:()=>b});var c=x(4829),t=x(8645),E=x(305),O=x(9360);function b(L={}){const{connector:D=(()=>new t.x),resetOnError:m=!0,resetOnComplete:h=!0,resetOnRefCountZero:g=!0}=L;return v=>{let A,U,P,V=0,k=!1,R=!1;const C=()=>{U?.unsubscribe(),U=void 0},w=()=>{C(),A=P=void 0,k=R=!1},T=()=>{const N=A;w(),N?.unsubscribe()};return(0,O.e)((N,S)=>{V++,!R&&!k&&C();const B=P=P??D();S.add(()=>{V--,0===V&&!R&&!k&&(U=F(T,g))}),B.subscribe(S),!A&&V>0&&(A=new E.Hp({next:Y=>B.next(Y),error:Y=>{R=!0,C(),U=F(w,m,Y),B.error(Y)},complete:()=>{k=!0,C(),U=F(w,h),B.complete()}}),(0,c.Xf)(N).subscribe(A))})(v)}}function F(L,D,...m){if(!0===D)return void L();if(!1===D)return;const h=new E.Hp({next:()=>{h.unsubscribe(),L()}});return(0,c.Xf)(D(...m)).subscribe(h)}},836:(wn,qe,x)=>{"use strict";x.d(qe,{T:()=>t});var c=x(2181);function t(E){return(0,c.h)((O,b)=>E<=b)}},7921:(wn,qe,x)=>{"use strict";x.d(qe,{O:()=>O});var c=x(5211),t=x(9940),E=x(9360);function O(...b){const F=(0,t.yG)(b);return(0,E.e)((L,D)=>{(F?(0,c.z)(b,L,F):(0,c.z)(b,L)).subscribe(D)})}},4664:(wn,qe,x)=>{"use strict";x.d(qe,{w:()=>O});var c=x(4829),t=x(9360),E=x(8251);function O(b,F){return(0,t.e)((L,D)=>{let m=null,h=0,g=!1;const v=()=>g&&!m&&D.complete();L.subscribe((0,E.x)(D,A=>{m?.unsubscribe();let U=0;const P=h++;(0,c.Xf)(b(A,P)).subscribe(m=(0,E.x)(D,V=>D.next(F?F(A,V,P,U++):V),()=>{m=null,v()}))},()=>{g=!0,v()}))})}},8180:(wn,qe,x)=>{"use strict";x.d(qe,{q:()=>O});var c=x(6232),t=x(9360),E=x(8251);function O(b){return b<=0?()=>c.E:(0,t.e)((F,L)=>{let D=0;F.subscribe((0,E.x)(L,m=>{++D<=b&&(L.next(m),b<=D&&L.complete())}))})}},9773:(wn,qe,x)=>{"use strict";x.d(qe,{R:()=>b});var c=x(9360),t=x(8251),E=x(4829),O=x(2420);function b(F){return(0,c.e)((L,D)=>{(0,E.Xf)(F).subscribe((0,t.x)(D,()=>D.complete(),O.Z)),!D.closed&&L.subscribe(D)})}},9397:(wn,qe,x)=>{"use strict";x.d(qe,{b:()=>b});var c=x(4674),t=x(9360),E=x(8251),O=x(2737);function b(F,L,D){const m=(0,c.m)(F)||L||D?{next:F,error:L,complete:D}:F;return m?(0,t.e)((h,g)=>{var v;null===(v=m.subscribe)||void 0===v||v.call(m);let A=!0;h.subscribe((0,E.x)(g,U=>{var P;null===(P=m.next)||void 0===P||P.call(m,U),g.next(U)},()=>{var U;A=!1,null===(U=m.complete)||void 0===U||U.call(m),g.complete()},U=>{var P;A=!1,null===(P=m.error)||void 0===P||P.call(m,U),g.error(U)},()=>{var U,P;A&&(null===(U=m.unsubscribe)||void 0===U||U.call(m)),null===(P=m.finalize)||void 0===P||P.call(m)}))}):O.y}},1954:(wn,qe,x)=>{"use strict";x.d(qe,{o:()=>b});var c=x(7394);class t extends c.w0{constructor(L,D){super()}schedule(L,D=0){return this}}const E={setInterval(F,L,...D){const{delegate:m}=E;return m?.setInterval?m.setInterval(F,L,...D):setInterval(F,L,...D)},clearInterval(F){const{delegate:L}=E;return(L?.clearInterval||clearInterval)(F)},delegate:void 0};var O=x(9039);class b extends t{constructor(L,D){super(L,D),this.scheduler=L,this.work=D,this.pending=!1}schedule(L,D=0){var m;if(this.closed)return this;this.state=L;const h=this.id,g=this.scheduler;return null!=h&&(this.id=this.recycleAsyncId(g,h,D)),this.pending=!0,this.delay=D,this.id=null!==(m=this.id)&&void 0!==m?m:this.requestAsyncId(g,this.id,D),this}requestAsyncId(L,D,m=0){return E.setInterval(L.flush.bind(L,this),m)}recycleAsyncId(L,D,m=0){if(null!=m&&this.delay===m&&!1===this.pending)return D;null!=D&&E.clearInterval(D)}execute(L,D){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const m=this._execute(L,D);if(m)return m;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(L,D){let h,m=!1;try{this.work(L)}catch(g){m=!0,h=g||new Error("Scheduled action threw falsy error")}if(m)return this.unsubscribe(),h}unsubscribe(){if(!this.closed){const{id:L,scheduler:D}=this,{actions:m}=D;this.work=this.state=this.scheduler=null,this.pending=!1,(0,O.P)(m,this),null!=L&&(this.id=this.recycleAsyncId(D,L,null)),this.delay=null,super.unsubscribe()}}}},2631:(wn,qe,x)=>{"use strict";x.d(qe,{v:()=>E});var c=x(4552);class t{constructor(b,F=t.now){this.schedulerActionCtor=b,this.now=F}schedule(b,F=0,L){return new this.schedulerActionCtor(this,b).schedule(L,F)}}t.now=c.l.now;class E extends t{constructor(b,F=t.now){super(b,F),this.actions=[],this._active=!1}flush(b){const{actions:F}=this;if(this._active)return void F.push(b);let L;this._active=!0;do{if(L=b.execute(b.state,b.delay))break}while(b=F.shift());if(this._active=!1,L){for(;b=F.shift();)b.unsubscribe();throw L}}}},6321:(wn,qe,x)=>{"use strict";x.d(qe,{P:()=>O,z:()=>E});var c=x(1954);const E=new(x(2631).v)(c.o),O=E},4552:(wn,qe,x)=>{"use strict";x.d(qe,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},7599:(wn,qe,x)=>{"use strict";x.d(qe,{z:()=>c});const c={setTimeout(t,E,...O){const{delegate:b}=c;return b?.setTimeout?b.setTimeout(t,E,...O):setTimeout(t,E,...O)},clearTimeout(t){const{delegate:E}=c;return(E?.clearTimeout||clearTimeout)(t)},delegate:void 0}},4971:(wn,qe,x)=>{"use strict";x.d(qe,{h:()=>t});const t=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(wn,qe,x)=>{"use strict";x.d(qe,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(wn,qe,x)=>{"use strict";x.d(qe,{_6:()=>F,jO:()=>O,yG:()=>b});var c=x(4674),t=x(671);function E(L){return L[L.length-1]}function O(L){return(0,c.m)(E(L))?L.pop():void 0}function b(L){return(0,t.K)(E(L))?L.pop():void 0}function F(L,D){return"number"==typeof E(L)?L.pop():D}},7453:(wn,qe,x)=>{"use strict";x.d(qe,{D:()=>b});const{isArray:c}=Array,{getPrototypeOf:t,prototype:E,keys:O}=Object;function b(L){if(1===L.length){const D=L[0];if(c(D))return{args:D,keys:null};if(function F(L){return L&&"object"==typeof L&&t(L)===E}(D)){const m=O(D);return{args:m.map(h=>D[h]),keys:m}}}return{args:L,keys:null}}},9039:(wn,qe,x)=>{"use strict";function c(t,E){if(t){const O=t.indexOf(E);0<=O&&t.splice(O,1)}}x.d(qe,{P:()=>c})},2306:(wn,qe,x)=>{"use strict";function c(t){const O=t(b=>{Error.call(b),b.stack=(new Error).stack});return O.prototype=Object.create(Error.prototype),O.prototype.constructor=O,O}x.d(qe,{d:()=>c})},2714:(wn,qe,x)=>{"use strict";function c(t,E){return t.reduce((O,b,F)=>(O[b]=E[F],O),{})}x.d(qe,{n:()=>c})},1441:(wn,qe,x)=>{"use strict";x.d(qe,{O:()=>O,x:()=>E});var c=x(2653);let t=null;function E(b){if(c.config.useDeprecatedSynchronousErrorHandling){const F=!t;if(F&&(t={errorThrown:!1,error:null}),b(),F){const{errorThrown:L,error:D}=t;if(t=null,L)throw D}}else b()}function O(b){c.config.useDeprecatedSynchronousErrorHandling&&t&&(t.errorThrown=!0,t.error=b)}},7103:(wn,qe,x)=>{"use strict";function c(t,E,O,b=0,F=!1){const L=E.schedule(function(){O(),F?t.add(this.schedule(null,b)):this.unsubscribe()},b);if(t.add(L),!F)return L}x.d(qe,{f:()=>c})},2737:(wn,qe,x)=>{"use strict";function c(t){return t}x.d(qe,{y:()=>c})},4266:(wn,qe,x)=>{"use strict";x.d(qe,{z:()=>c});const c=t=>t&&"number"==typeof t.length&&"function"!=typeof t},5726:(wn,qe,x)=>{"use strict";x.d(qe,{D:()=>t});var c=x(4674);function t(E){return Symbol.asyncIterator&&(0,c.m)(E?.[Symbol.asyncIterator])}},4674:(wn,qe,x)=>{"use strict";function c(t){return"function"==typeof t}x.d(qe,{m:()=>c})},8382:(wn,qe,x)=>{"use strict";x.d(qe,{c:()=>E});var c=x(4850),t=x(4674);function E(O){return(0,t.m)(O[c.L])}},3664:(wn,qe,x)=>{"use strict";x.d(qe,{T:()=>E});var c=x(4971),t=x(4674);function E(O){return(0,t.m)(O?.[c.h])}},2664:(wn,qe,x)=>{"use strict";x.d(qe,{b:()=>E});var c=x(5592),t=x(4674);function E(O){return!!O&&(O instanceof c.y||(0,t.m)(O.lift)&&(0,t.m)(O.subscribe))}},4026:(wn,qe,x)=>{"use strict";x.d(qe,{t:()=>t});var c=x(4674);function t(E){return(0,c.m)(E?.then)}},541:(wn,qe,x)=>{"use strict";x.d(qe,{L:()=>O,Q:()=>E});var c=x(7582),t=x(4674);function E(b){return(0,c.FC)(this,arguments,function*(){const L=b.getReader();try{for(;;){const{value:D,done:m}=yield(0,c.qq)(L.read());if(m)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(D)}}finally{L.releaseLock()}})}function O(b){return(0,t.m)(b?.getReader)}},671:(wn,qe,x)=>{"use strict";x.d(qe,{K:()=>t});var c=x(4674);function t(E){return E&&(0,c.m)(E.schedule)}},9360:(wn,qe,x)=>{"use strict";x.d(qe,{A:()=>t,e:()=>E});var c=x(4674);function t(O){return(0,c.m)(O?.lift)}function E(O){return b=>{if(t(b))return b.lift(function(F){try{return O(F,this)}catch(L){this.error(L)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(wn,qe,x)=>{"use strict";x.d(qe,{Z:()=>O});var c=x(7398);const{isArray:t}=Array;function O(b){return(0,c.U)(F=>function E(b,F){return t(F)?b(...F):b(F)}(b,F))}},2420:(wn,qe,x)=>{"use strict";function c(){}x.d(qe,{Z:()=>c})},8407:(wn,qe,x)=>{"use strict";x.d(qe,{U:()=>E,z:()=>t});var c=x(2737);function t(...O){return E(O)}function E(O){return 0===O.length?c.y:1===O.length?O[0]:function(F){return O.reduce((L,D)=>D(L),F)}}},3894:(wn,qe,x)=>{"use strict";x.d(qe,{h:()=>E});var c=x(2653),t=x(7599);function E(O){t.z.setTimeout(()=>{const{onUnhandledError:b}=c.config;if(!b)throw O;b(O)})}},9853:(wn,qe,x)=>{"use strict";function c(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(qe,{z:()=>c})},6825:(wn,qe,x)=>{"use strict";x.d(qe,{F4:()=>h,IO:()=>P,LC:()=>t,SB:()=>m,X$:()=>O,ZE:()=>R,ZN:()=>k,_j:()=>c,eR:()=>g,jt:()=>b,k1:()=>C,l3:()=>E,oB:()=>D,pV:()=>A,ru:()=>F,vP:()=>L});class c{}class t{}const E="*";function O(w,T){return{type:7,name:w,definitions:T,options:{}}}function b(w,T=null){return{type:4,styles:T,timings:w}}function F(w,T=null){return{type:3,steps:w,options:T}}function L(w,T=null){return{type:2,steps:w,options:T}}function D(w){return{type:6,styles:w,offset:null}}function m(w,T,N){return{type:0,name:w,styles:T,options:N}}function h(w){return{type:5,steps:w}}function g(w,T,N=null){return{type:1,expr:w,animation:T,options:N}}function A(w=null){return{type:9,options:w}}function P(w,T,N=null){return{type:11,selector:w,animation:T,options:N}}class k{constructor(T=0,N=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=T+N}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(T=>T()),this._onDoneFns=[])}onStart(T){this._originalOnStartFns.push(T),this._onStartFns.push(T)}onDone(T){this._originalOnDoneFns.push(T),this._onDoneFns.push(T)}onDestroy(T){this._onDestroyFns.push(T)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(T=>T()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(T=>T()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(T){this._position=this.totalTime?T*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(T){const N="start"==T?this._onStartFns:this._onDoneFns;N.forEach(S=>S()),N.length=0}}class R{constructor(T){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=T;let N=0,S=0,B=0;const Y=this.players.length;0==Y?queueMicrotask(()=>this._onFinish()):this.players.forEach(re=>{re.onDone(()=>{++N==Y&&this._onFinish()}),re.onDestroy(()=>{++S==Y&&this._onDestroy()}),re.onStart(()=>{++B==Y&&this._onStart()})}),this.totalTime=this.players.reduce((re,ae)=>Math.max(re,ae.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(T=>T()),this._onDoneFns=[])}init(){this.players.forEach(T=>T.init())}onStart(T){this._onStartFns.push(T)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(T=>T()),this._onStartFns=[])}onDone(T){this._onDoneFns.push(T)}onDestroy(T){this._onDestroyFns.push(T)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(T=>T.play())}pause(){this.players.forEach(T=>T.pause())}restart(){this.players.forEach(T=>T.restart())}finish(){this._onFinish(),this.players.forEach(T=>T.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(T=>T.destroy()),this._onDestroyFns.forEach(T=>T()),this._onDestroyFns=[])}reset(){this.players.forEach(T=>T.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(T){const N=T*this.totalTime;this.players.forEach(S=>{const B=S.totalTime?Math.min(1,N/S.totalTime):1;S.setPosition(B)})}getPosition(){const T=this.players.reduce((N,S)=>null===N||S.totalTime>N.totalTime?S:N,null);return null!=T?T.getPosition():0}beforeDestroy(){this.players.forEach(T=>{T.beforeDestroy&&T.beforeDestroy()})}triggerCallback(T){const N="start"==T?this._onStartFns:this._onDoneFns;N.forEach(S=>S()),N.length=0}}const C="!"},4300:(wn,qe,x)=>{"use strict";x.d(qe,{$s:()=>Re,Kd:()=>$e,X6:()=>Q,Zf:()=>T,iD:()=>N,ic:()=>Se,kH:()=>Vt,mK:()=>ie,qV:()=>K,qm:()=>pn,rt:()=>Un,s1:()=>me,tE:()=>Pt,yG:()=>q});var c=x(6814),t=x(5879),E=x(2831),O=x(8645),b=x(7394),F=x(5619),L=x(2096),D=x(6028),m=x(9397),h=x(3620),g=x(2181),v=x(7398),A=x(8180),U=x(836),P=x(3997),V=x(9773),k=x(2495),R=x(7131),C=x(1088);const w=" ";function T(ot,dt,xe){const fe=S(ot,dt);fe.some(ge=>ge.trim()==xe.trim())||(fe.push(xe.trim()),ot.setAttribute(dt,fe.join(w)))}function N(ot,dt,xe){const ge=S(ot,dt).filter(st=>st!=xe.trim());ge.length?ot.setAttribute(dt,ge.join(w)):ot.removeAttribute(dt)}function S(ot,dt){return(ot.getAttribute(dt)||"").match(/\S+/g)||[]}const Y="cdk-describedby-message",re="cdk-describedby-host";let ae=0,Re=(()=>{class ot{constructor(xe,fe){this._platform=fe,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+ae++,this._document=xe,this._id=(0,t.f3M)(t.AFp)+"-"+ae++}describe(xe,fe,ge){if(!this._canBeDescribed(xe,fe))return;const st=z(fe,ge);"string"!=typeof fe?(oe(fe,this._id),this._messageRegistry.set(st,{messageElement:fe,referenceCount:0})):this._messageRegistry.has(st)||this._createMessageElement(fe,ge),this._isElementDescribedByMessage(xe,st)||this._addMessageReference(xe,st)}removeDescription(xe,fe,ge){if(!fe||!this._isElementNode(xe))return;const st=z(fe,ge);if(this._isElementDescribedByMessage(xe,st)&&this._removeMessageReference(xe,st),"string"==typeof fe){const mt=this._messageRegistry.get(st);mt&&0===mt.referenceCount&&this._deleteMessageElement(st)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const xe=this._document.querySelectorAll(`[${re}="${this._id}"]`);for(let fe=0;fe<xe.length;fe++)this._removeCdkDescribedByReferenceIds(xe[fe]),xe[fe].removeAttribute(re);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(xe,fe){const ge=this._document.createElement("div");oe(ge,this._id),ge.textContent=xe,fe&&ge.setAttribute("role",fe),this._createMessagesContainer(),this._messagesContainer.appendChild(ge),this._messageRegistry.set(z(xe,fe),{messageElement:ge,referenceCount:0})}_deleteMessageElement(xe){this._messageRegistry.get(xe)?.messageElement?.remove(),this._messageRegistry.delete(xe)}_createMessagesContainer(){if(this._messagesContainer)return;const xe="cdk-describedby-message-container",fe=this._document.querySelectorAll(`.${xe}[platform="server"]`);for(let st=0;st<fe.length;st++)fe[st].remove();const ge=this._document.createElement("div");ge.style.visibility="hidden",ge.classList.add(xe),ge.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&ge.setAttribute("platform","server"),this._document.body.appendChild(ge),this._messagesContainer=ge}_removeCdkDescribedByReferenceIds(xe){const fe=S(xe,"aria-describedby").filter(ge=>0!=ge.indexOf(Y));xe.setAttribute("aria-describedby",fe.join(" "))}_addMessageReference(xe,fe){const ge=this._messageRegistry.get(fe);T(xe,"aria-describedby",ge.messageElement.id),xe.setAttribute(re,this._id),ge.referenceCount++}_removeMessageReference(xe,fe){const ge=this._messageRegistry.get(fe);ge.referenceCount--,N(xe,"aria-describedby",ge.messageElement.id),xe.removeAttribute(re)}_isElementDescribedByMessage(xe,fe){const ge=S(xe,"aria-describedby"),st=this._messageRegistry.get(fe),mt=st&&st.messageElement.id;return!!mt&&-1!=ge.indexOf(mt)}_canBeDescribed(xe,fe){if(!this._isElementNode(xe))return!1;if(fe&&"object"==typeof fe)return!0;const ge=null==fe?"":`${fe}`.trim(),st=xe.getAttribute("aria-label");return!(!ge||st&&st.trim()===ge)}_isElementNode(xe){return xe.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(fe){return new(fe||ot)(t.LFG(c.K0),t.LFG(E.t4))};static#t=this.\u0275prov=t.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();function z(ot,dt){return"string"==typeof ot?`${dt||""}/${ot}`:ot}function oe(ot,dt){ot.id||(ot.id=`${Y}-${dt}-${ae++}`)}class H{constructor(dt){this._items=dt,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new O.x,this._typeaheadSubscription=b.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=xe=>xe.disabled,this._pressedLetters=[],this.tabOut=new O.x,this.change=new O.x,dt instanceof t.n_E&&(this._itemChangesSubscription=dt.changes.subscribe(xe=>{if(this._activeItem){const ge=xe.toArray().indexOf(this._activeItem);ge>-1&&ge!==this._activeItemIndex&&(this._activeItemIndex=ge)}}))}skipPredicate(dt){return this._skipPredicateFn=dt,this}withWrap(dt=!0){return this._wrap=dt,this}withVerticalOrientation(dt=!0){return this._vertical=dt,this}withHorizontalOrientation(dt){return this._horizontal=dt,this}withAllowedModifierKeys(dt){return this._allowedModifierKeys=dt,this}withTypeAhead(dt=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,m.b)(xe=>this._pressedLetters.push(xe)),(0,h.b)(dt),(0,g.h)(()=>this._pressedLetters.length>0),(0,v.U)(()=>this._pressedLetters.join(""))).subscribe(xe=>{const fe=this._getItemsArray();for(let ge=1;ge<fe.length+1;ge++){const st=(this._activeItemIndex+ge)%fe.length,mt=fe[st];if(!this._skipPredicateFn(mt)&&0===mt.getLabel().toUpperCase().trim().indexOf(xe)){this.setActiveItem(st);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(dt=!0){return this._homeAndEnd=dt,this}withPageUpDown(dt=!0,xe=10){return this._pageUpAndDown={enabled:dt,delta:xe},this}setActiveItem(dt){const xe=this._activeItem;this.updateActiveItem(dt),this._activeItem!==xe&&this.change.next(this._activeItemIndex)}onKeydown(dt){const xe=dt.keyCode,ge=["altKey","ctrlKey","metaKey","shiftKey"].every(st=>!dt[st]||this._allowedModifierKeys.indexOf(st)>-1);switch(xe){case D.Mf:return void this.tabOut.next();case D.JH:if(this._vertical&&ge){this.setNextItemActive();break}return;case D.LH:if(this._vertical&&ge){this.setPreviousItemActive();break}return;case D.SV:if(this._horizontal&&ge){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case D.oh:if(this._horizontal&&ge){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case D.Sd:if(this._homeAndEnd&&ge){this.setFirstItemActive();break}return;case D.uR:if(this._homeAndEnd&&ge){this.setLastItemActive();break}return;case D.Ku:if(this._pageUpAndDown.enabled&&ge){const st=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(st>0?st:0,1);break}return;case D.VM:if(this._pageUpAndDown.enabled&&ge){const st=this._activeItemIndex+this._pageUpAndDown.delta,mt=this._getItemsArray().length;this._setActiveItemByIndex(st<mt?st:mt-1,-1);break}return;default:return void((ge||(0,D.Vb)(dt,"shiftKey"))&&(dt.key&&1===dt.key.length?this._letterKeyStream.next(dt.key.toLocaleUpperCase()):(xe>=D.A&&xe<=D.Z||xe>=D.xE&&xe<=D.aO)&&this._letterKeyStream.next(String.fromCharCode(xe))))}this._pressedLetters=[],dt.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(dt){const xe=this._getItemsArray(),fe="number"==typeof dt?dt:xe.indexOf(dt);this._activeItem=xe[fe]??null,this._activeItemIndex=fe}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(dt){this._wrap?this._setActiveInWrapMode(dt):this._setActiveInDefaultMode(dt)}_setActiveInWrapMode(dt){const xe=this._getItemsArray();for(let fe=1;fe<=xe.length;fe++){const ge=(this._activeItemIndex+dt*fe+xe.length)%xe.length;if(!this._skipPredicateFn(xe[ge]))return void this.setActiveItem(ge)}}_setActiveInDefaultMode(dt){this._setActiveItemByIndex(this._activeItemIndex+dt,dt)}_setActiveItemByIndex(dt,xe){const fe=this._getItemsArray();if(fe[dt]){for(;this._skipPredicateFn(fe[dt]);)if(!fe[dt+=xe])return;this.setActiveItem(dt)}}_getItemsArray(){return this._items instanceof t.n_E?this._items.toArray():this._items}}class me extends H{setActiveItem(dt){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(dt),this.activeItem&&this.activeItem.setActiveStyles()}}let Se=(()=>{class ot{constructor(xe){this._platform=xe}isDisabled(xe){return xe.hasAttribute("disabled")}isVisible(xe){return function le(ot){return!!(ot.offsetWidth||ot.offsetHeight||"function"==typeof ot.getClientRects&&ot.getClientRects().length)}(xe)&&"visible"===getComputedStyle(xe).visibility}isTabbable(xe){if(!this._platform.isBrowser)return!1;const fe=function Ie(ot){try{return ot.frameElement}catch{return null}}(function Ae(ot){return ot.ownerDocument&&ot.ownerDocument.defaultView||window}(xe));if(fe&&(-1===Ue(fe)||!this.isVisible(fe)))return!1;let ge=xe.nodeName.toLowerCase(),st=Ue(xe);return xe.hasAttribute("contenteditable")?-1!==st:!("iframe"===ge||"object"===ge||this._platform.WEBKIT&&this._platform.IOS&&!function ze(ot){let dt=ot.nodeName.toLowerCase(),xe="input"===dt&&ot.type;return"text"===xe||"password"===xe||"select"===dt||"textarea"===dt}(xe))&&("audio"===ge?!!xe.hasAttribute("controls")&&-1!==st:"video"===ge?-1!==st&&(null!==st||this._platform.FIREFOX||xe.hasAttribute("controls")):xe.tabIndex>=0)}isFocusable(xe,fe){return function He(ot){return!function we(ot){return function Le(ot){return"input"==ot.nodeName.toLowerCase()}(ot)&&"hidden"==ot.type}(ot)&&(function Me(ot){let dt=ot.nodeName.toLowerCase();return"input"===dt||"select"===dt||"button"===dt||"textarea"===dt}(ot)||function _e(ot){return function Pe(ot){return"a"==ot.nodeName.toLowerCase()}(ot)&&ot.hasAttribute("href")}(ot)||ot.hasAttribute("contenteditable")||Oe(ot))}(xe)&&!this.isDisabled(xe)&&(fe?.ignoreVisibility||this.isVisible(xe))}static#e=this.\u0275fac=function(fe){return new(fe||ot)(t.LFG(E.t4))};static#t=this.\u0275prov=t.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();function Oe(ot){if(!ot.hasAttribute("tabindex")||void 0===ot.tabIndex)return!1;let dt=ot.getAttribute("tabindex");return!(!dt||isNaN(parseInt(dt,10)))}function Ue(ot){if(!Oe(ot))return null;const dt=parseInt(ot.getAttribute("tabindex")||"",10);return isNaN(dt)?-1:dt}class ye{get enabled(){return this._enabled}set enabled(dt){this._enabled=dt,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(dt,this._startAnchor),this._toggleAnchorTabIndex(dt,this._endAnchor))}constructor(dt,xe,fe,ge,st=!1){this._element=dt,this._checker=xe,this._ngZone=fe,this._document=ge,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,st||this.attachAnchors()}destroy(){const dt=this._startAnchor,xe=this._endAnchor;dt&&(dt.removeEventListener("focus",this.startAnchorListener),dt.remove()),xe&&(xe.removeEventListener("focus",this.endAnchorListener),xe.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(dt){return new Promise(xe=>{this._executeOnStable(()=>xe(this.focusInitialElement(dt)))})}focusFirstTabbableElementWhenReady(dt){return new Promise(xe=>{this._executeOnStable(()=>xe(this.focusFirstTabbableElement(dt)))})}focusLastTabbableElementWhenReady(dt){return new Promise(xe=>{this._executeOnStable(()=>xe(this.focusLastTabbableElement(dt)))})}_getRegionBoundary(dt){const xe=this._element.querySelectorAll(`[cdk-focus-region-${dt}], [cdkFocusRegion${dt}], [cdk-focus-${dt}]`);return"start"==dt?xe.length?xe[0]:this._getFirstTabbableElement(this._element):xe.length?xe[xe.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(dt){const xe=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(xe){if(!this._checker.isFocusable(xe)){const fe=this._getFirstTabbableElement(xe);return fe?.focus(dt),!!fe}return xe.focus(dt),!0}return this.focusFirstTabbableElement(dt)}focusFirstTabbableElement(dt){const xe=this._getRegionBoundary("start");return xe&&xe.focus(dt),!!xe}focusLastTabbableElement(dt){const xe=this._getRegionBoundary("end");return xe&&xe.focus(dt),!!xe}hasAttached(){return this._hasAttached}_getFirstTabbableElement(dt){if(this._checker.isFocusable(dt)&&this._checker.isTabbable(dt))return dt;const xe=dt.children;for(let fe=0;fe<xe.length;fe++){const ge=xe[fe].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(xe[fe]):null;if(ge)return ge}return null}_getLastTabbableElement(dt){if(this._checker.isFocusable(dt)&&this._checker.isTabbable(dt))return dt;const xe=dt.children;for(let fe=xe.length-1;fe>=0;fe--){const ge=xe[fe].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(xe[fe]):null;if(ge)return ge}return null}_createAnchor(){const dt=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,dt),dt.classList.add("cdk-visually-hidden"),dt.classList.add("cdk-focus-trap-anchor"),dt.setAttribute("aria-hidden","true"),dt}_toggleAnchorTabIndex(dt,xe){dt?xe.setAttribute("tabindex","0"):xe.removeAttribute("tabindex")}toggleAnchors(dt){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(dt,this._startAnchor),this._toggleAnchorTabIndex(dt,this._endAnchor))}_executeOnStable(dt){this._ngZone.isStable?dt():this._ngZone.onStable.pipe((0,A.q)(1)).subscribe(dt)}}let K=(()=>{class ot{constructor(xe,fe,ge){this._checker=xe,this._ngZone=fe,this._document=ge}create(xe,fe=!1){return new ye(xe,this._checker,this._ngZone,this._document,fe)}static#e=this.\u0275fac=function(fe){return new(fe||ot)(t.LFG(Se),t.LFG(t.R0b),t.LFG(c.K0))};static#t=this.\u0275prov=t.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})(),ie=(()=>{class ot{get enabled(){return this.focusTrap.enabled}set enabled(xe){this.focusTrap.enabled=(0,k.Ig)(xe)}get autoCapture(){return this._autoCapture}set autoCapture(xe){this._autoCapture=(0,k.Ig)(xe)}constructor(xe,fe,ge){this._elementRef=xe,this._focusTrapFactory=fe,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(xe){const fe=xe.autoCapture;fe&&!fe.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,E.ht)(),this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(fe){return new(fe||ot)(t.Y36(t.SBq),t.Y36(K),t.Y36(c.K0))};static#t=this.\u0275dir=t.lG2({type:ot,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[t.TTD]})}return ot})();function Q(ot){return 0===ot.buttons||0===ot.offsetX&&0===ot.offsetY}function q(ot){const dt=ot.touches&&ot.touches[0]||ot.changedTouches&&ot.changedTouches[0];return!(!dt||-1!==dt.identifier||null!=dt.radiusX&&1!==dt.radiusX||null!=dt.radiusY&&1!==dt.radiusY)}const J=new t.OlP("cdk-input-modality-detector-options"),de={ignoreKeys:[D.zL,D.jx,D.b2,D.MW,D.JU]},ce=(0,E.i$)({passive:!0,capture:!0});let Ce=(()=>{class ot{get mostRecentModality(){return this._modality.value}constructor(xe,fe,ge,st){this._platform=xe,this._mostRecentTarget=null,this._modality=new F.X(null),this._lastTouchMs=0,this._onKeydown=mt=>{this._options?.ignoreKeys?.some(Dt=>Dt===mt.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,E.sA)(mt))},this._onMousedown=mt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Q(mt)?"keyboard":"mouse"),this._mostRecentTarget=(0,E.sA)(mt))},this._onTouchstart=mt=>{q(mt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,E.sA)(mt))},this._options={...de,...st},this.modalityDetected=this._modality.pipe((0,U.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,P.x)()),xe.isBrowser&&fe.runOutsideAngular(()=>{ge.addEventListener("keydown",this._onKeydown,ce),ge.addEventListener("mousedown",this._onMousedown,ce),ge.addEventListener("touchstart",this._onTouchstart,ce)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ce),document.removeEventListener("mousedown",this._onMousedown,ce),document.removeEventListener("touchstart",this._onTouchstart,ce))}static#e=this.\u0275fac=function(fe){return new(fe||ot)(t.LFG(E.t4),t.LFG(t.R0b),t.LFG(c.K0),t.LFG(J,8))};static#t=this.\u0275prov=t.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();const Ye=new t.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Be(){return null}}),Ze=new t.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Qe=0,$e=(()=>{class ot{constructor(xe,fe,ge,st){this._ngZone=fe,this._defaultOptions=st,this._document=ge,this._liveElement=xe||this._createLiveElement()}announce(xe,...fe){const ge=this._defaultOptions;let st,mt;return 1===fe.length&&"number"==typeof fe[0]?mt=fe[0]:[st,mt]=fe,this.clear(),clearTimeout(this._previousTimeout),st||(st=ge&&ge.politeness?ge.politeness:"polite"),null==mt&&ge&&(mt=ge.duration),this._liveElement.setAttribute("aria-live",st),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Dt=>this._currentResolve=Dt)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=xe,"number"==typeof mt&&(this._previousTimeout=setTimeout(()=>this.clear(),mt)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const xe="cdk-live-announcer-element",fe=this._document.getElementsByClassName(xe),ge=this._document.createElement("div");for(let st=0;st<fe.length;st++)fe[st].remove();return ge.classList.add(xe),ge.classList.add("cdk-visually-hidden"),ge.setAttribute("aria-atomic","true"),ge.setAttribute("aria-live","polite"),ge.id="cdk-live-announcer-"+Qe++,this._document.body.appendChild(ge),ge}_exposeAnnouncerToModals(xe){const fe=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let ge=0;ge<fe.length;ge++){const st=fe[ge],mt=st.getAttribute("aria-owns");mt?-1===mt.indexOf(xe)&&st.setAttribute("aria-owns",mt+" "+xe):st.setAttribute("aria-owns",xe)}}static#e=this.\u0275fac=function(fe){return new(fe||ot)(t.LFG(Ye,8),t.LFG(t.R0b),t.LFG(c.K0),t.LFG(Ze,8))};static#t=this.\u0275prov=t.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();const It=new t.OlP("cdk-focus-monitor-default-options"),_t=(0,E.i$)({passive:!0,capture:!0});let Pt=(()=>{class ot{constructor(xe,fe,ge,st,mt){this._ngZone=xe,this._platform=fe,this._inputModalityDetector=ge,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new O.x,this._rootNodeFocusAndBlurListener=Dt=>{for(let bt=(0,E.sA)(Dt);bt;bt=bt.parentElement)"focus"===Dt.type?this._onFocus(Dt,bt):this._onBlur(Dt,bt)},this._document=st,this._detectionMode=mt?.detectionMode||0}monitor(xe,fe=!1){const ge=(0,k.fI)(xe);if(!this._platform.isBrowser||1!==ge.nodeType)return(0,L.of)();const st=(0,E.kV)(ge)||this._getDocument(),mt=this._elementInfo.get(ge);if(mt)return fe&&(mt.checkChildren=!0),mt.subject;const Dt={checkChildren:fe,subject:new O.x,rootNode:st};return this._elementInfo.set(ge,Dt),this._registerGlobalListeners(Dt),Dt.subject}stopMonitoring(xe){const fe=(0,k.fI)(xe),ge=this._elementInfo.get(fe);ge&&(ge.subject.complete(),this._setClasses(fe),this._elementInfo.delete(fe),this._removeGlobalListeners(ge))}focusVia(xe,fe,ge){const st=(0,k.fI)(xe);st===this._getDocument().activeElement?this._getClosestElementsInfo(st).forEach(([Dt,ut])=>this._originChanged(Dt,fe,ut)):(this._setOrigin(fe),"function"==typeof st.focus&&st.focus(ge))}ngOnDestroy(){this._elementInfo.forEach((xe,fe)=>this.stopMonitoring(fe))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(xe){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(xe)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:xe&&this._isLastInteractionFromInputLabel(xe)?"mouse":"program"}_shouldBeAttributedToTouch(xe){return 1===this._detectionMode||!!xe?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(xe,fe){xe.classList.toggle("cdk-focused",!!fe),xe.classList.toggle("cdk-touch-focused","touch"===fe),xe.classList.toggle("cdk-keyboard-focused","keyboard"===fe),xe.classList.toggle("cdk-mouse-focused","mouse"===fe),xe.classList.toggle("cdk-program-focused","program"===fe)}_setOrigin(xe,fe=!1){this._ngZone.runOutsideAngular(()=>{this._origin=xe,this._originFromTouchInteraction="touch"===xe&&fe,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(xe,fe){const ge=this._elementInfo.get(fe),st=(0,E.sA)(xe);!ge||!ge.checkChildren&&fe!==st||this._originChanged(fe,this._getFocusOrigin(st),ge)}_onBlur(xe,fe){const ge=this._elementInfo.get(fe);!ge||ge.checkChildren&&xe.relatedTarget instanceof Node&&fe.contains(xe.relatedTarget)||(this._setClasses(fe),this._emitOrigin(ge,null))}_emitOrigin(xe,fe){xe.subject.observers.length&&this._ngZone.run(()=>xe.subject.next(fe))}_registerGlobalListeners(xe){if(!this._platform.isBrowser)return;const fe=xe.rootNode,ge=this._rootNodeFocusListenerCount.get(fe)||0;ge||this._ngZone.runOutsideAngular(()=>{fe.addEventListener("focus",this._rootNodeFocusAndBlurListener,_t),fe.addEventListener("blur",this._rootNodeFocusAndBlurListener,_t)}),this._rootNodeFocusListenerCount.set(fe,ge+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,V.R)(this._stopInputModalityDetector)).subscribe(st=>{this._setOrigin(st,!0)}))}_removeGlobalListeners(xe){const fe=xe.rootNode;if(this._rootNodeFocusListenerCount.has(fe)){const ge=this._rootNodeFocusListenerCount.get(fe);ge>1?this._rootNodeFocusListenerCount.set(fe,ge-1):(fe.removeEventListener("focus",this._rootNodeFocusAndBlurListener,_t),fe.removeEventListener("blur",this._rootNodeFocusAndBlurListener,_t),this._rootNodeFocusListenerCount.delete(fe))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(xe,fe,ge){this._setClasses(xe,fe),this._emitOrigin(ge,fe),this._lastFocusOrigin=fe}_getClosestElementsInfo(xe){const fe=[];return this._elementInfo.forEach((ge,st)=>{(st===xe||ge.checkChildren&&st.contains(xe))&&fe.push([st,ge])}),fe}_isLastInteractionFromInputLabel(xe){const{_mostRecentTarget:fe,mostRecentModality:ge}=this._inputModalityDetector;if("mouse"!==ge||!fe||fe===xe||"INPUT"!==xe.nodeName&&"TEXTAREA"!==xe.nodeName||xe.disabled)return!1;const st=xe.labels;if(st)for(let mt=0;mt<st.length;mt++)if(st[mt].contains(fe))return!0;return!1}static#e=this.\u0275fac=function(fe){return new(fe||ot)(t.LFG(t.R0b),t.LFG(E.t4),t.LFG(Ce),t.LFG(c.K0,8),t.LFG(It,8))};static#t=this.\u0275prov=t.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})(),Vt=(()=>{class ot{constructor(xe,fe){this._elementRef=xe,this._focusMonitor=fe,this._focusOrigin=null,this.cdkFocusChange=new t.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const xe=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(xe,1===xe.nodeType&&xe.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(fe=>{this._focusOrigin=fe,this.cdkFocusChange.emit(fe)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(fe){return new(fe||ot)(t.Y36(t.SBq),t.Y36(Pt))};static#t=this.\u0275dir=t.lG2({type:ot,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return ot})();const $t="cdk-high-contrast-black-on-white",Qt="cdk-high-contrast-white-on-black",dn="cdk-high-contrast-active";let pn=(()=>{class ot{constructor(xe,fe){this._platform=xe,this._document=fe,this._breakpointSubscription=(0,t.f3M)(C.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const xe=this._document.createElement("div");xe.style.backgroundColor="rgb(1,2,3)",xe.style.position="absolute",this._document.body.appendChild(xe);const fe=this._document.defaultView||window,ge=fe&&fe.getComputedStyle?fe.getComputedStyle(xe):null,st=(ge&&ge.backgroundColor||"").replace(/ /g,"");switch(xe.remove(),st){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const xe=this._document.body.classList;xe.remove(dn,$t,Qt),this._hasCheckedHighContrastMode=!0;const fe=this.getHighContrastMode();1===fe?xe.add(dn,$t):2===fe&&xe.add(dn,Qt)}}static#e=this.\u0275fac=function(fe){return new(fe||ot)(t.LFG(E.t4),t.LFG(c.K0))};static#t=this.\u0275prov=t.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})(),Un=(()=>{class ot{constructor(xe){xe._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(fe){return new(fe||ot)(t.LFG(pn))};static#t=this.\u0275mod=t.oAB({type:ot});static#n=this.\u0275inj=t.cJS({imports:[R.Q8]})}return ot})()},9388:(wn,qe,x)=>{"use strict";x.d(qe,{Is:()=>L,vT:()=>m});var c=x(5879),t=x(6814);const E=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function O(){return(0,c.f3M)(t.K0)}}),b=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let L=(()=>{class h{constructor(v){this.value="ltr",this.change=new c.vpe,v&&(this.value=function F(h){const g=h?.toLowerCase()||"";return"auto"===g&&typeof navigator<"u"&&navigator?.language?b.test(navigator.language)?"rtl":"ltr":"rtl"===g?"rtl":"ltr"}((v.body?v.body.dir:null)||(v.documentElement?v.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(A){return new(A||h)(c.LFG(E,8))};static#t=this.\u0275prov=c.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})(),m=(()=>{class h{static#e=this.\u0275fac=function(A){return new(A||h)};static#t=this.\u0275mod=c.oAB({type:h});static#n=this.\u0275inj=c.cJS({})}return h})()},2495:(wn,qe,x)=>{"use strict";x.d(qe,{Eq:()=>b,HM:()=>F,Ig:()=>t,du:()=>D,fI:()=>L,su:()=>E,t6:()=>O});var c=x(5879);function t(m){return null!=m&&"false"!=`${m}`}function E(m,h=0){return O(m)?Number(m):h}function O(m){return!isNaN(parseFloat(m))&&!isNaN(Number(m))}function b(m){return Array.isArray(m)?m:[m]}function F(m){return null==m?"":"string"==typeof m?m:`${m}px`}function L(m){return m instanceof c.SBq?m.nativeElement:m}function D(m,h=/\s+/){const g=[];if(null!=m){const v=Array.isArray(m)?m:`${m}`.split(h);for(const A of v){const U=`${A}`.trim();U&&g.push(U)}}return g}},8337:(wn,qe,x)=>{"use strict";x.d(qe,{Ov:()=>m,Z9:()=>b,eX:()=>D,k:()=>v,o2:()=>O,yy:()=>L});var c=x(3168),t=x(8645),E=x(5879);class O{}function b(A){return A&&"function"==typeof A.connect&&!(A instanceof c.c)}class L{applyChanges(U,P,V,k,R){U.forEachOperation((C,w,T)=>{let N,S;if(null==C.previousIndex){const B=V(C,w,T);N=P.createEmbeddedView(B.templateRef,B.context,B.index),S=1}else null==T?(P.remove(w),S=3):(N=P.get(w),P.move(N,T),S=2);R&&R({context:N?.context,operation:S,record:C})})}detach(){}}class D{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(U,P,V,k,R){U.forEachOperation((C,w,T)=>{let N,S;null==C.previousIndex?(N=this._insertView(()=>V(C,w,T),T,P,k(C)),S=N?1:0):null==T?(this._detachAndCacheView(w,P),S=3):(N=this._moveView(w,T,P,k(C)),S=2),R&&R({context:N?.context,operation:S,record:C})})}detach(){for(const U of this._viewCache)U.destroy();this._viewCache=[]}_insertView(U,P,V,k){const R=this._insertViewFromCache(P,V);if(R)return void(R.context.$implicit=k);const C=U();return V.createEmbeddedView(C.templateRef,C.context,C.index)}_detachAndCacheView(U,P){const V=P.detach(U);this._maybeCacheView(V,P)}_moveView(U,P,V,k){const R=V.get(U);return V.move(R,P),R.context.$implicit=k,R}_maybeCacheView(U,P){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(U);else{const V=P.indexOf(U);-1===V?U.destroy():P.remove(V)}}_insertViewFromCache(U,P){const V=this._viewCache.pop();return V&&P.insert(V,U),V||null}}class m{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(U=!1,P,V=!0,k){this._multiple=U,this._emitChanges=V,this.compareWith=k,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new t.x,P&&P.length&&(U?P.forEach(R=>this._markSelected(R)):this._markSelected(P[0]),this._selectedToEmit.length=0)}select(...U){this._verifyValueAssignment(U),U.forEach(V=>this._markSelected(V));const P=this._hasQueuedChanges();return this._emitChangeEvent(),P}deselect(...U){this._verifyValueAssignment(U),U.forEach(V=>this._unmarkSelected(V));const P=this._hasQueuedChanges();return this._emitChangeEvent(),P}setSelection(...U){this._verifyValueAssignment(U);const P=this.selected,V=new Set(U);U.forEach(R=>this._markSelected(R)),P.filter(R=>!V.has(R)).forEach(R=>this._unmarkSelected(R));const k=this._hasQueuedChanges();return this._emitChangeEvent(),k}toggle(U){return this.isSelected(U)?this.deselect(U):this.select(U)}clear(U=!0){this._unmarkAll();const P=this._hasQueuedChanges();return U&&this._emitChangeEvent(),P}isSelected(U){return this._selection.has(this._getConcreteValue(U))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(U){this._multiple&&this.selected&&this._selected.sort(U)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(U){U=this._getConcreteValue(U),this.isSelected(U)||(this._multiple||this._unmarkAll(),this.isSelected(U)||this._selection.add(U),this._emitChanges&&this._selectedToEmit.push(U))}_unmarkSelected(U){U=this._getConcreteValue(U),this.isSelected(U)&&(this._selection.delete(U),this._emitChanges&&this._deselectedToEmit.push(U))}_unmarkAll(){this.isEmpty()||this._selection.forEach(U=>this._unmarkSelected(U))}_verifyValueAssignment(U){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(U){if(this.compareWith){for(let P of this._selection)if(this.compareWith(U,P))return P;return U}return U}}const v=new E.OlP("_ViewRepeater")},6028:(wn,qe,x)=>{"use strict";x.d(qe,{A:()=>we,JH:()=>w,JU:()=>F,K5:()=>b,Ku:()=>A,LH:()=>R,L_:()=>v,MW:()=>Ze,Mf:()=>E,SV:()=>C,Sd:()=>V,VM:()=>U,Vb:()=>it,Z:()=>Be,aO:()=>ue,b2:()=>lt,hY:()=>g,jx:()=>L,oh:()=>k,uR:()=>P,xE:()=>Y,zL:()=>D});const E=9,b=13,F=16,L=17,D=18,g=27,v=32,A=33,U=34,P=35,V=36,k=37,R=38,C=39,w=40,Y=48,ue=57,we=65,Be=90,Ze=91,lt=224;function it(At,...Kt){return Kt.length?Kt.some(vn=>At[vn]):At.altKey||At.shiftKey||At.ctrlKey||At.metaKey}},1088:(wn,qe,x)=>{"use strict";x.d(qe,{Yg:()=>w,u3:()=>N});var c=x(5879),t=x(2495),E=x(8645),O=x(2572),b=x(5211),F=x(5592),L=x(8180),D=x(836),m=x(3620),h=x(7398),g=x(7921),v=x(9773),A=x(2831);const P=new Set;let V,k=(()=>{class S{constructor(Y,re){this._platform=Y,this._nonce=re,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):C}matchMedia(Y){return(this._platform.WEBKIT||this._platform.BLINK)&&function R(S,B){if(!P.has(S))try{V||(V=document.createElement("style"),B&&(V.nonce=B),V.setAttribute("type","text/css"),document.head.appendChild(V)),V.sheet&&(V.sheet.insertRule(`@media ${S} {body{ }}`,0),P.add(S))}catch(Y){console.error(Y)}}(Y,this._nonce),this._matchMedia(Y)}static#e=this.\u0275fac=function(re){return new(re||S)(c.LFG(A.t4),c.LFG(c.Ojb,8))};static#t=this.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function C(S){return{matches:"all"===S||""===S,media:S,addListener:()=>{},removeListener:()=>{}}}let w=(()=>{class S{constructor(Y,re){this._mediaMatcher=Y,this._zone=re,this._queries=new Map,this._destroySubject=new E.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Y){return T((0,t.Eq)(Y)).some(ae=>this._registerQuery(ae).mql.matches)}observe(Y){const ae=T((0,t.Eq)(Y)).map(z=>this._registerQuery(z).observable);let Re=(0,O.a)(ae);return Re=(0,b.z)(Re.pipe((0,L.q)(1)),Re.pipe((0,D.T)(1),(0,m.b)(0))),Re.pipe((0,h.U)(z=>{const oe={matches:!1,breakpoints:{}};return z.forEach(({matches:H,query:me})=>{oe.matches=oe.matches||H,oe.breakpoints[me]=H}),oe}))}_registerQuery(Y){if(this._queries.has(Y))return this._queries.get(Y);const re=this._mediaMatcher.matchMedia(Y),Re={observable:new F.y(z=>{const oe=H=>this._zone.run(()=>z.next(H));return re.addListener(oe),()=>{re.removeListener(oe)}}).pipe((0,g.O)(re),(0,h.U)(({matches:z})=>({query:Y,matches:z})),(0,v.R)(this._destroySubject)),mql:re};return this._queries.set(Y,Re),Re}static#e=this.\u0275fac=function(re){return new(re||S)(c.LFG(k),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function T(S){return S.map(B=>B.split(",")).reduce((B,Y)=>B.concat(Y)).map(B=>B.trim())}const N={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7131:(wn,qe,x)=>{"use strict";x.d(qe,{Q8:()=>b});var c=x(5879);let t=(()=>{class F{create(D){return typeof MutationObserver>"u"?null:new MutationObserver(D)}static#e=this.\u0275fac=function(m){return new(m||F)};static#t=this.\u0275prov=c.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})(),b=(()=>{class F{static#e=this.\u0275fac=function(m){return new(m||F)};static#t=this.\u0275mod=c.oAB({type:F});static#n=this.\u0275inj=c.cJS({providers:[t]})}return F})()},3651:(wn,qe,x)=>{"use strict";x.d(qe,{pI:()=>W,xu:()=>Z,_G:()=>_e,aV:()=>ie,X_:()=>ae,Xj:()=>Ie,U8:()=>q,Iu:()=>le});var c=x(799),t=x(6814),E=x(5879),O=x(2495),b=x(2831),F=x(2181),L=x(8180),D=x(9773),m=x(9360),h=x(8251),v=x(9388),A=x(8484),U=x(8645),P=x(7394),V=x(3019),k=x(6028);const R=(0,b.Mq)();class C{constructor(pe,ce){this._viewportRuler=pe,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=ce}attach(){}enable(){if(this._canBeEnabled()){const pe=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=pe.style.left||"",this._previousHTMLStyles.top=pe.style.top||"",pe.style.left=(0,O.HM)(-this._previousScrollPosition.left),pe.style.top=(0,O.HM)(-this._previousScrollPosition.top),pe.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const pe=this._document.documentElement,Ce=pe.style,Ye=this._document.body.style,Be=Ce.scrollBehavior||"",Ze=Ye.scrollBehavior||"";this._isEnabled=!1,Ce.left=this._previousHTMLStyles.left,Ce.top=this._previousHTMLStyles.top,pe.classList.remove("cdk-global-scrollblock"),R&&(Ce.scrollBehavior=Ye.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),R&&(Ce.scrollBehavior=Be,Ye.scrollBehavior=Ze)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const ce=this._document.body,Ce=this._viewportRuler.getViewportSize();return ce.scrollHeight>Ce.height||ce.scrollWidth>Ce.width}}class T{constructor(pe,ce,Ce,Ye){this._scrollDispatcher=pe,this._ngZone=ce,this._viewportRuler=Ce,this._config=Ye,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(pe){this._overlayRef=pe}enable(){if(this._scrollSubscription)return;const pe=this._scrollDispatcher.scrolled(0).pipe((0,F.h)(ce=>!ce||!this._overlayRef.overlayElement.contains(ce.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=pe.subscribe(()=>{const ce=this._viewportRuler.getViewportScrollPosition().top;Math.abs(ce-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=pe.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class N{enable(){}disable(){}attach(){}}function S(de,pe){return pe.some(ce=>de.bottom<ce.top||de.top>ce.bottom||de.right<ce.left||de.left>ce.right)}function B(de,pe){return pe.some(ce=>de.top<ce.top||de.bottom>ce.bottom||de.left<ce.left||de.right>ce.right)}class Y{constructor(pe,ce,Ce,Ye){this._scrollDispatcher=pe,this._viewportRuler=ce,this._ngZone=Ce,this._config=Ye,this._scrollSubscription=null}attach(pe){this._overlayRef=pe}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const ce=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Ce,height:Ye}=this._viewportRuler.getViewportSize();S(ce,[{width:Ce,height:Ye,bottom:Ye,right:Ce,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let re=(()=>{class de{constructor(ce,Ce,Ye,Be){this._scrollDispatcher=ce,this._viewportRuler=Ce,this._ngZone=Ye,this.noop=()=>new N,this.close=Ze=>new T(this._scrollDispatcher,this._ngZone,this._viewportRuler,Ze),this.block=()=>new C(this._viewportRuler,this._document),this.reposition=Ze=>new Y(this._scrollDispatcher,this._viewportRuler,this._ngZone,Ze),this._document=Be}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(E.LFG(c.mF),E.LFG(c.rL),E.LFG(E.R0b),E.LFG(t.K0))};static#t=this.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();class ae{constructor(pe){if(this.scrollStrategy=new N,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,pe){const ce=Object.keys(pe);for(const Ce of ce)void 0!==pe[Ce]&&(this[Ce]=pe[Ce])}}}class oe{constructor(pe,ce){this.connectionPair=pe,this.scrollableViewProperties=ce}}let te=(()=>{class de{constructor(ce){this._attachedOverlays=[],this._document=ce}ngOnDestroy(){this.detach()}add(ce){this.remove(ce),this._attachedOverlays.push(ce)}remove(ce){const Ce=this._attachedOverlays.indexOf(ce);Ce>-1&&this._attachedOverlays.splice(Ce,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(E.LFG(t.K0))};static#t=this.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),ue=(()=>{class de extends te{constructor(ce,Ce){super(ce),this._ngZone=Ce,this._keydownListener=Ye=>{const Be=this._attachedOverlays;for(let Ze=Be.length-1;Ze>-1;Ze--)if(Be[Ze]._keydownEvents.observers.length>0){const Qe=Be[Ze]._keydownEvents;this._ngZone?this._ngZone.run(()=>Qe.next(Ye)):Qe.next(Ye);break}}}add(ce){super.add(ce),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(E.LFG(t.K0),E.LFG(E.R0b,8))};static#t=this.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),Se=(()=>{class de extends te{constructor(ce,Ce,Ye){super(ce),this._platform=Ce,this._ngZone=Ye,this._cursorStyleIsSet=!1,this._pointerDownListener=Be=>{this._pointerDownEventTarget=(0,b.sA)(Be)},this._clickListener=Be=>{const Ze=(0,b.sA)(Be),Qe="click"===Be.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Ze;this._pointerDownEventTarget=null;const $e=this._attachedOverlays.slice();for(let ct=$e.length-1;ct>-1;ct--){const It=$e[ct];if(It._outsidePointerEvents.observers.length<1||!It.hasAttached())continue;if(It.overlayElement.contains(Ze)||It.overlayElement.contains(Qe))break;const _t=It._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>_t.next(Be)):_t.next(Be)}}}add(ce){if(super.add(ce),!this._isAttached){const Ce=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Ce)):this._addEventListeners(Ce),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Ce.style.cursor,Ce.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const ce=this._document.body;ce.removeEventListener("pointerdown",this._pointerDownListener,!0),ce.removeEventListener("click",this._clickListener,!0),ce.removeEventListener("auxclick",this._clickListener,!0),ce.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(ce.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(ce){ce.addEventListener("pointerdown",this._pointerDownListener,!0),ce.addEventListener("click",this._clickListener,!0),ce.addEventListener("auxclick",this._clickListener,!0),ce.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(E.LFG(t.K0),E.LFG(b.t4),E.LFG(E.R0b,8))};static#t=this.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),Ie=(()=>{class de{constructor(ce,Ce){this._platform=Ce,this._document=ce}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ce="cdk-overlay-container";if(this._platform.isBrowser||(0,b.Oy)()){const Ye=this._document.querySelectorAll(`.${ce}[platform="server"], .${ce}[platform="test"]`);for(let Be=0;Be<Ye.length;Be++)Ye[Be].remove()}const Ce=this._document.createElement("div");Ce.classList.add(ce),(0,b.Oy)()?Ce.setAttribute("platform","test"):this._platform.isBrowser||Ce.setAttribute("platform","server"),this._document.body.appendChild(Ce),this._containerElement=Ce}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(E.LFG(t.K0),E.LFG(b.t4))};static#t=this.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();class le{constructor(pe,ce,Ce,Ye,Be,Ze,Qe,$e,ct,It=!1){this._portalOutlet=pe,this._host=ce,this._pane=Ce,this._config=Ye,this._ngZone=Be,this._keyboardDispatcher=Ze,this._document=Qe,this._location=$e,this._outsideClickDispatcher=ct,this._animationsDisabled=It,this._backdropElement=null,this._backdropClick=new U.x,this._attachments=new U.x,this._detachments=new U.x,this._locationChanges=P.w0.EMPTY,this._backdropClickHandler=_t=>this._backdropClick.next(_t),this._backdropTransitionendHandler=_t=>{this._disposeBackdrop(_t.target)},this._keydownEvents=new U.x,this._outsidePointerEvents=new U.x,Ye.scrollStrategy&&(this._scrollStrategy=Ye.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Ye.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(pe){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const ce=this._portalOutlet.attach(pe);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,L.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof ce?.onDestroy&&ce.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),ce}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const pe=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),pe}dispose(){const pe=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,pe&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(pe){pe!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=pe,this.hasAttached()&&(pe.attach(this),this.updatePosition()))}updateSize(pe){this._config={...this._config,...pe},this._updateElementSize()}setDirection(pe){this._config={...this._config,direction:pe},this._updateElementDirection()}addPanelClass(pe){this._pane&&this._toggleClasses(this._pane,pe,!0)}removePanelClass(pe){this._pane&&this._toggleClasses(this._pane,pe,!1)}getDirection(){const pe=this._config.direction;return pe?"string"==typeof pe?pe:pe.value:"ltr"}updateScrollStrategy(pe){pe!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=pe,this.hasAttached()&&(pe.attach(this),pe.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const pe=this._pane.style;pe.width=(0,O.HM)(this._config.width),pe.height=(0,O.HM)(this._config.height),pe.minWidth=(0,O.HM)(this._config.minWidth),pe.minHeight=(0,O.HM)(this._config.minHeight),pe.maxWidth=(0,O.HM)(this._config.maxWidth),pe.maxHeight=(0,O.HM)(this._config.maxHeight)}_togglePointerEvents(pe){this._pane.style.pointerEvents=pe?"":"none"}_attachBackdrop(){const pe="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(pe)})}):this._backdropElement.classList.add(pe)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const pe=this._backdropElement;if(pe){if(this._animationsDisabled)return void this._disposeBackdrop(pe);pe.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{pe.addEventListener("transitionend",this._backdropTransitionendHandler)}),pe.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(pe)},500))}}_toggleClasses(pe,ce,Ce){const Ye=(0,O.Eq)(ce||[]).filter(Be=>!!Be);Ye.length&&(Ce?pe.classList.add(...Ye):pe.classList.remove(...Ye))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const pe=this._ngZone.onStable.pipe((0,D.R)((0,V.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),pe.unsubscribe())})})}_disposeScrollStrategy(){const pe=this._scrollStrategy;pe&&(pe.disable(),pe.detach&&pe.detach())}_disposeBackdrop(pe){pe&&(pe.removeEventListener("click",this._backdropClickHandler),pe.removeEventListener("transitionend",this._backdropTransitionendHandler),pe.remove(),this._backdropElement===pe&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Me="cdk-overlay-connected-position-bounding-box",we=/([A-Za-z%]+)$/;class _e{get positions(){return this._preferredPositions}constructor(pe,ce,Ce,Ye,Be){this._viewportRuler=ce,this._document=Ce,this._platform=Ye,this._overlayContainer=Be,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new U.x,this._resizeSubscription=P.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(pe)}attach(pe){this._validatePositions(),pe.hostElement.classList.add(Me),this._overlayRef=pe,this._boundingBox=pe.hostElement,this._pane=pe.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const pe=this._originRect,ce=this._overlayRect,Ce=this._viewportRect,Ye=this._containerRect,Be=[];let Ze;for(let Qe of this._preferredPositions){let $e=this._getOriginPoint(pe,Ye,Qe),ct=this._getOverlayPoint($e,ce,Qe),It=this._getOverlayFit(ct,ce,Ce,Qe);if(It.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Qe,$e);this._canFitWithFlexibleDimensions(It,ct,Ce)?Be.push({position:Qe,origin:$e,overlayRect:ce,boundingBoxRect:this._calculateBoundingBoxRect($e,Qe)}):(!Ze||Ze.overlayFit.visibleArea<It.visibleArea)&&(Ze={overlayFit:It,overlayPoint:ct,originPoint:$e,position:Qe,overlayRect:ce})}if(Be.length){let Qe=null,$e=-1;for(const ct of Be){const It=ct.boundingBoxRect.width*ct.boundingBoxRect.height*(ct.position.weight||1);It>$e&&($e=It,Qe=ct)}return this._isPushed=!1,void this._applyPosition(Qe.position,Qe.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Ze.position,Ze.originPoint);this._applyPosition(Ze.position,Ze.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Le(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Me),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const pe=this._lastPosition;if(pe){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ce=this._getOriginPoint(this._originRect,this._containerRect,pe);this._applyPosition(pe,ce)}else this.apply()}withScrollableContainers(pe){return this._scrollables=pe,this}withPositions(pe){return this._preferredPositions=pe,-1===pe.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(pe){return this._viewportMargin=pe,this}withFlexibleDimensions(pe=!0){return this._hasFlexibleDimensions=pe,this}withGrowAfterOpen(pe=!0){return this._growAfterOpen=pe,this}withPush(pe=!0){return this._canPush=pe,this}withLockedPosition(pe=!0){return this._positionLocked=pe,this}setOrigin(pe){return this._origin=pe,this}withDefaultOffsetX(pe){return this._offsetX=pe,this}withDefaultOffsetY(pe){return this._offsetY=pe,this}withTransformOriginOn(pe){return this._transformOriginSelector=pe,this}_getOriginPoint(pe,ce,Ce){let Ye,Be;if("center"==Ce.originX)Ye=pe.left+pe.width/2;else{const Ze=this._isRtl()?pe.right:pe.left,Qe=this._isRtl()?pe.left:pe.right;Ye="start"==Ce.originX?Ze:Qe}return ce.left<0&&(Ye-=ce.left),Be="center"==Ce.originY?pe.top+pe.height/2:"top"==Ce.originY?pe.top:pe.bottom,ce.top<0&&(Be-=ce.top),{x:Ye,y:Be}}_getOverlayPoint(pe,ce,Ce){let Ye,Be;return Ye="center"==Ce.overlayX?-ce.width/2:"start"===Ce.overlayX?this._isRtl()?-ce.width:0:this._isRtl()?0:-ce.width,Be="center"==Ce.overlayY?-ce.height/2:"top"==Ce.overlayY?0:-ce.height,{x:pe.x+Ye,y:pe.y+Be}}_getOverlayFit(pe,ce,Ce,Ye){const Be=Oe(ce);let{x:Ze,y:Qe}=pe,$e=this._getOffset(Ye,"x"),ct=this._getOffset(Ye,"y");$e&&(Ze+=$e),ct&&(Qe+=ct);let Pt=0-Qe,Vt=Qe+Be.height-Ce.height,$t=this._subtractOverflows(Be.width,0-Ze,Ze+Be.width-Ce.width),Qt=this._subtractOverflows(Be.height,Pt,Vt),dn=$t*Qt;return{visibleArea:dn,isCompletelyWithinViewport:Be.width*Be.height===dn,fitsInViewportVertically:Qt===Be.height,fitsInViewportHorizontally:$t==Be.width}}_canFitWithFlexibleDimensions(pe,ce,Ce){if(this._hasFlexibleDimensions){const Ye=Ce.bottom-ce.y,Be=Ce.right-ce.x,Ze=Pe(this._overlayRef.getConfig().minHeight),Qe=Pe(this._overlayRef.getConfig().minWidth);return(pe.fitsInViewportVertically||null!=Ze&&Ze<=Ye)&&(pe.fitsInViewportHorizontally||null!=Qe&&Qe<=Be)}return!1}_pushOverlayOnScreen(pe,ce,Ce){if(this._previousPushAmount&&this._positionLocked)return{x:pe.x+this._previousPushAmount.x,y:pe.y+this._previousPushAmount.y};const Ye=Oe(ce),Be=this._viewportRect,Ze=Math.max(pe.x+Ye.width-Be.width,0),Qe=Math.max(pe.y+Ye.height-Be.height,0),$e=Math.max(Be.top-Ce.top-pe.y,0),ct=Math.max(Be.left-Ce.left-pe.x,0);let It=0,_t=0;return It=Ye.width<=Be.width?ct||-Ze:pe.x<this._viewportMargin?Be.left-Ce.left-pe.x:0,_t=Ye.height<=Be.height?$e||-Qe:pe.y<this._viewportMargin?Be.top-Ce.top-pe.y:0,this._previousPushAmount={x:It,y:_t},{x:pe.x+It,y:pe.y+_t}}_applyPosition(pe,ce){if(this._setTransformOrigin(pe),this._setOverlayElementStyles(ce,pe),this._setBoundingBoxStyles(ce,pe),pe.panelClass&&this._addPanelClasses(pe.panelClass),this._lastPosition=pe,this._positionChanges.observers.length){const Ce=this._getScrollVisibility(),Ye=new oe(pe,Ce);this._positionChanges.next(Ye)}this._isInitialRender=!1}_setTransformOrigin(pe){if(!this._transformOriginSelector)return;const ce=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Ce,Ye=pe.overlayY;Ce="center"===pe.overlayX?"center":this._isRtl()?"start"===pe.overlayX?"right":"left":"start"===pe.overlayX?"left":"right";for(let Be=0;Be<ce.length;Be++)ce[Be].style.transformOrigin=`${Ce} ${Ye}`}_calculateBoundingBoxRect(pe,ce){const Ce=this._viewportRect,Ye=this._isRtl();let Be,Ze,Qe,It,_t,Pt;if("top"===ce.overlayY)Ze=pe.y,Be=Ce.height-Ze+this._viewportMargin;else if("bottom"===ce.overlayY)Qe=Ce.height-pe.y+2*this._viewportMargin,Be=Ce.height-Qe+this._viewportMargin;else{const Vt=Math.min(Ce.bottom-pe.y+Ce.top,pe.y),$t=this._lastBoundingBoxSize.height;Be=2*Vt,Ze=pe.y-Vt,Be>$t&&!this._isInitialRender&&!this._growAfterOpen&&(Ze=pe.y-$t/2)}if("end"===ce.overlayX&&!Ye||"start"===ce.overlayX&&Ye)Pt=Ce.width-pe.x+this._viewportMargin,It=pe.x-this._viewportMargin;else if("start"===ce.overlayX&&!Ye||"end"===ce.overlayX&&Ye)_t=pe.x,It=Ce.right-pe.x;else{const Vt=Math.min(Ce.right-pe.x+Ce.left,pe.x),$t=this._lastBoundingBoxSize.width;It=2*Vt,_t=pe.x-Vt,It>$t&&!this._isInitialRender&&!this._growAfterOpen&&(_t=pe.x-$t/2)}return{top:Ze,left:_t,bottom:Qe,right:Pt,width:It,height:Be}}_setBoundingBoxStyles(pe,ce){const Ce=this._calculateBoundingBoxRect(pe,ce);!this._isInitialRender&&!this._growAfterOpen&&(Ce.height=Math.min(Ce.height,this._lastBoundingBoxSize.height),Ce.width=Math.min(Ce.width,this._lastBoundingBoxSize.width));const Ye={};if(this._hasExactPosition())Ye.top=Ye.left="0",Ye.bottom=Ye.right=Ye.maxHeight=Ye.maxWidth="",Ye.width=Ye.height="100%";else{const Be=this._overlayRef.getConfig().maxHeight,Ze=this._overlayRef.getConfig().maxWidth;Ye.height=(0,O.HM)(Ce.height),Ye.top=(0,O.HM)(Ce.top),Ye.bottom=(0,O.HM)(Ce.bottom),Ye.width=(0,O.HM)(Ce.width),Ye.left=(0,O.HM)(Ce.left),Ye.right=(0,O.HM)(Ce.right),Ye.alignItems="center"===ce.overlayX?"center":"end"===ce.overlayX?"flex-end":"flex-start",Ye.justifyContent="center"===ce.overlayY?"center":"bottom"===ce.overlayY?"flex-end":"flex-start",Be&&(Ye.maxHeight=(0,O.HM)(Be)),Ze&&(Ye.maxWidth=(0,O.HM)(Ze))}this._lastBoundingBoxSize=Ce,Le(this._boundingBox.style,Ye)}_resetBoundingBoxStyles(){Le(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Le(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(pe,ce){const Ce={},Ye=this._hasExactPosition(),Be=this._hasFlexibleDimensions,Ze=this._overlayRef.getConfig();if(Ye){const It=this._viewportRuler.getViewportScrollPosition();Le(Ce,this._getExactOverlayY(ce,pe,It)),Le(Ce,this._getExactOverlayX(ce,pe,It))}else Ce.position="static";let Qe="",$e=this._getOffset(ce,"x"),ct=this._getOffset(ce,"y");$e&&(Qe+=`translateX(${$e}px) `),ct&&(Qe+=`translateY(${ct}px)`),Ce.transform=Qe.trim(),Ze.maxHeight&&(Ye?Ce.maxHeight=(0,O.HM)(Ze.maxHeight):Be&&(Ce.maxHeight="")),Ze.maxWidth&&(Ye?Ce.maxWidth=(0,O.HM)(Ze.maxWidth):Be&&(Ce.maxWidth="")),Le(this._pane.style,Ce)}_getExactOverlayY(pe,ce,Ce){let Ye={top:"",bottom:""},Be=this._getOverlayPoint(ce,this._overlayRect,pe);return this._isPushed&&(Be=this._pushOverlayOnScreen(Be,this._overlayRect,Ce)),"bottom"===pe.overlayY?Ye.bottom=this._document.documentElement.clientHeight-(Be.y+this._overlayRect.height)+"px":Ye.top=(0,O.HM)(Be.y),Ye}_getExactOverlayX(pe,ce,Ce){let Ze,Ye={left:"",right:""},Be=this._getOverlayPoint(ce,this._overlayRect,pe);return this._isPushed&&(Be=this._pushOverlayOnScreen(Be,this._overlayRect,Ce)),Ze=this._isRtl()?"end"===pe.overlayX?"left":"right":"end"===pe.overlayX?"right":"left","right"===Ze?Ye.right=this._document.documentElement.clientWidth-(Be.x+this._overlayRect.width)+"px":Ye.left=(0,O.HM)(Be.x),Ye}_getScrollVisibility(){const pe=this._getOriginRect(),ce=this._pane.getBoundingClientRect(),Ce=this._scrollables.map(Ye=>Ye.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:B(pe,Ce),isOriginOutsideView:S(pe,Ce),isOverlayClipped:B(ce,Ce),isOverlayOutsideView:S(ce,Ce)}}_subtractOverflows(pe,...ce){return ce.reduce((Ce,Ye)=>Ce-Math.max(Ye,0),pe)}_getNarrowedViewportRect(){const pe=this._document.documentElement.clientWidth,ce=this._document.documentElement.clientHeight,Ce=this._viewportRuler.getViewportScrollPosition();return{top:Ce.top+this._viewportMargin,left:Ce.left+this._viewportMargin,right:Ce.left+pe-this._viewportMargin,bottom:Ce.top+ce-this._viewportMargin,width:pe-2*this._viewportMargin,height:ce-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(pe,ce){return"x"===ce?null==pe.offsetX?this._offsetX:pe.offsetX:null==pe.offsetY?this._offsetY:pe.offsetY}_validatePositions(){}_addPanelClasses(pe){this._pane&&(0,O.Eq)(pe).forEach(ce=>{""!==ce&&-1===this._appliedPanelClasses.indexOf(ce)&&(this._appliedPanelClasses.push(ce),this._pane.classList.add(ce))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(pe=>{this._pane.classList.remove(pe)}),this._appliedPanelClasses=[])}_getOriginRect(){const pe=this._origin;if(pe instanceof E.SBq)return pe.nativeElement.getBoundingClientRect();if(pe instanceof Element)return pe.getBoundingClientRect();const ce=pe.width||0,Ce=pe.height||0;return{top:pe.y,bottom:pe.y+Ce,left:pe.x,right:pe.x+ce,height:Ce,width:ce}}}function Le(de,pe){for(let ce in pe)pe.hasOwnProperty(ce)&&(de[ce]=pe[ce]);return de}function Pe(de){if("number"!=typeof de&&null!=de){const[pe,ce]=de.split(we);return ce&&"px"!==ce?null:parseFloat(pe)}return de||null}function Oe(de){return{top:Math.floor(de.top),right:Math.floor(de.right),bottom:Math.floor(de.bottom),left:Math.floor(de.left),width:Math.floor(de.width),height:Math.floor(de.height)}}const He="cdk-global-overlay-wrapper";class Ae{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(pe){const ce=pe.getConfig();this._overlayRef=pe,this._width&&!ce.width&&pe.updateSize({width:this._width}),this._height&&!ce.height&&pe.updateSize({height:this._height}),pe.hostElement.classList.add(He),this._isDisposed=!1}top(pe=""){return this._bottomOffset="",this._topOffset=pe,this._alignItems="flex-start",this}left(pe=""){return this._xOffset=pe,this._xPosition="left",this}bottom(pe=""){return this._topOffset="",this._bottomOffset=pe,this._alignItems="flex-end",this}right(pe=""){return this._xOffset=pe,this._xPosition="right",this}start(pe=""){return this._xOffset=pe,this._xPosition="start",this}end(pe=""){return this._xOffset=pe,this._xPosition="end",this}width(pe=""){return this._overlayRef?this._overlayRef.updateSize({width:pe}):this._width=pe,this}height(pe=""){return this._overlayRef?this._overlayRef.updateSize({height:pe}):this._height=pe,this}centerHorizontally(pe=""){return this.left(pe),this._xPosition="center",this}centerVertically(pe=""){return this.top(pe),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const pe=this._overlayRef.overlayElement.style,ce=this._overlayRef.hostElement.style,Ce=this._overlayRef.getConfig(),{width:Ye,height:Be,maxWidth:Ze,maxHeight:Qe}=Ce,$e=!("100%"!==Ye&&"100vw"!==Ye||Ze&&"100%"!==Ze&&"100vw"!==Ze),ct=!("100%"!==Be&&"100vh"!==Be||Qe&&"100%"!==Qe&&"100vh"!==Qe),It=this._xPosition,_t=this._xOffset,Pt="rtl"===this._overlayRef.getConfig().direction;let Vt="",$t="",Qt="";$e?Qt="flex-start":"center"===It?(Qt="center",Pt?$t=_t:Vt=_t):Pt?"left"===It||"end"===It?(Qt="flex-end",Vt=_t):("right"===It||"start"===It)&&(Qt="flex-start",$t=_t):"left"===It||"start"===It?(Qt="flex-start",Vt=_t):("right"===It||"end"===It)&&(Qt="flex-end",$t=_t),pe.position=this._cssPosition,pe.marginLeft=$e?"0":Vt,pe.marginTop=ct?"0":this._topOffset,pe.marginBottom=this._bottomOffset,pe.marginRight=$e?"0":$t,ce.justifyContent=Qt,ce.alignItems=ct?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const pe=this._overlayRef.overlayElement.style,ce=this._overlayRef.hostElement,Ce=ce.style;ce.classList.remove(He),Ce.justifyContent=Ce.alignItems=pe.marginTop=pe.marginBottom=pe.marginLeft=pe.marginRight=pe.position="",this._overlayRef=null,this._isDisposed=!0}}let ye=(()=>{class de{constructor(ce,Ce,Ye,Be){this._viewportRuler=ce,this._document=Ce,this._platform=Ye,this._overlayContainer=Be}global(){return new Ae}flexibleConnectedTo(ce){return new _e(ce,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(E.LFG(c.rL),E.LFG(t.K0),E.LFG(b.t4),E.LFG(Ie))};static#t=this.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),K=0,ie=(()=>{class de{constructor(ce,Ce,Ye,Be,Ze,Qe,$e,ct,It,_t,Pt,Vt){this.scrollStrategies=ce,this._overlayContainer=Ce,this._componentFactoryResolver=Ye,this._positionBuilder=Be,this._keyboardDispatcher=Ze,this._injector=Qe,this._ngZone=$e,this._document=ct,this._directionality=It,this._location=_t,this._outsideClickDispatcher=Pt,this._animationsModuleType=Vt}create(ce){const Ce=this._createHostElement(),Ye=this._createPaneElement(Ce),Be=this._createPortalOutlet(Ye),Ze=new ae(ce);return Ze.direction=Ze.direction||this._directionality.value,new le(Be,Ce,Ye,Ze,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(ce){const Ce=this._document.createElement("div");return Ce.id="cdk-overlay-"+K++,Ce.classList.add("cdk-overlay-pane"),ce.appendChild(Ce),Ce}_createHostElement(){const ce=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(ce),ce}_createPortalOutlet(ce){return this._appRef||(this._appRef=this._injector.get(E.z2F)),new A.u0(ce,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(E.LFG(re),E.LFG(Ie),E.LFG(E._Vd),E.LFG(ye),E.LFG(ue),E.LFG(E.zs3),E.LFG(E.R0b),E.LFG(t.K0),E.LFG(v.Is),E.LFG(t.Ye),E.LFG(Se),E.LFG(E.QbO,8))};static#t=this.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();const he=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],$=new E.OlP("cdk-connected-overlay-scroll-strategy");let Z=(()=>{class de{constructor(ce){this.elementRef=ce}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(E.Y36(E.SBq))};static#t=this.\u0275dir=E.lG2({type:de,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return de})(),W=(()=>{class de{get offsetX(){return this._offsetX}set offsetX(ce){this._offsetX=ce,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(ce){this._offsetY=ce,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(ce){this._hasBackdrop=(0,O.Ig)(ce)}get lockPosition(){return this._lockPosition}set lockPosition(ce){this._lockPosition=(0,O.Ig)(ce)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(ce){this._flexibleDimensions=(0,O.Ig)(ce)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(ce){this._growAfterOpen=(0,O.Ig)(ce)}get push(){return this._push}set push(ce){this._push=(0,O.Ig)(ce)}constructor(ce,Ce,Ye,Be,Ze){this._overlay=ce,this._dir=Ze,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=P.w0.EMPTY,this._attachSubscription=P.w0.EMPTY,this._detachSubscription=P.w0.EMPTY,this._positionSubscription=P.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new E.vpe,this.positionChange=new E.vpe,this.attach=new E.vpe,this.detach=new E.vpe,this.overlayKeydown=new E.vpe,this.overlayOutsideClick=new E.vpe,this._templatePortal=new A.UE(Ce,Ye),this._scrollStrategyFactory=Be,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(ce){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),ce.origin&&this.open&&this._position.apply()),ce.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=he);const ce=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=ce.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=ce.detachments().subscribe(()=>this.detach.emit()),ce.keydownEvents().subscribe(Ce=>{this.overlayKeydown.next(Ce),Ce.keyCode===k.hY&&!this.disableClose&&!(0,k.Vb)(Ce)&&(Ce.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Ce=>{this.overlayOutsideClick.next(Ce)})}_buildConfig(){const ce=this._position=this.positionStrategy||this._createPositionStrategy(),Ce=new ae({direction:this._dir,positionStrategy:ce,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(Ce.width=this.width),(this.height||0===this.height)&&(Ce.height=this.height),(this.minWidth||0===this.minWidth)&&(Ce.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Ce.minHeight=this.minHeight),this.backdropClass&&(Ce.backdropClass=this.backdropClass),this.panelClass&&(Ce.panelClass=this.panelClass),Ce}_updatePositionStrategy(ce){const Ce=this.positions.map(Ye=>({originX:Ye.originX,originY:Ye.originY,overlayX:Ye.overlayX,overlayY:Ye.overlayY,offsetX:Ye.offsetX||this.offsetX,offsetY:Ye.offsetY||this.offsetY,panelClass:Ye.panelClass||void 0}));return ce.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(Ce).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const ce=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(ce),ce}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Z?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(ce=>{this.backdropClick.emit(ce)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function g(de,pe=!1){return(0,m.e)((ce,Ce)=>{let Ye=0;ce.subscribe((0,h.x)(Ce,Be=>{const Ze=de(Be,Ye++);(Ze||pe)&&Ce.next(Be),!Ze&&Ce.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(ce=>{this.positionChange.emit(ce),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(E.Y36(ie),E.Y36(E.Rgc),E.Y36(E.s_b),E.Y36($),E.Y36(v.Is,8))};static#t=this.\u0275dir=E.lG2({type:de,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[E.TTD]})}return de})();const Q={provide:$,deps:[ie],useFactory:function X(de){return()=>de.scrollStrategies.reposition()}};let q=(()=>{class de{static#e=this.\u0275fac=function(Ce){return new(Ce||de)};static#t=this.\u0275mod=E.oAB({type:de});static#n=this.\u0275inj=E.cJS({providers:[ie,Q],imports:[v.vT,A.eL,c.Cl,c.Cl]})}return de})()},2831:(wn,qe,x)=>{"use strict";x.d(qe,{Mq:()=>U,Oy:()=>T,ht:()=>C,i$:()=>g,kV:()=>R,qK:()=>D,sA:()=>w,t4:()=>O});var c=x(5879),t=x(6814);let E;try{E=typeof Intl<"u"&&Intl.v8BreakIterator}catch{E=!1}let F,O=(()=>{class N{constructor(B){this._platformId=B,this.isBrowser=this._platformId?(0,t.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!E)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Y){return new(Y||N)(c.LFG(c.Lbi))};static#t=this.\u0275prov=c.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();const L=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function D(){if(F)return F;if("object"!=typeof document||!document)return F=new Set(L),F;let N=document.createElement("input");return F=new Set(L.filter(S=>(N.setAttribute("type",S),N.type===S))),F}let m,A,V;function g(N){return function h(){if(null==m&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>m=!0}))}finally{m=m||!1}return m}()?N:!!N.capture}function U(){if(null==A){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return A=!1,A;if("scrollBehavior"in document.documentElement.style)A=!0;else{const N=Element.prototype.scrollTo;A=!!N&&!/\{\s*\[native code\]\s*\}/.test(N.toString())}}return A}function R(N){if(function k(){if(null==V){const N=typeof document<"u"?document.head:null;V=!(!N||!N.createShadowRoot&&!N.attachShadow)}return V}()){const S=N.getRootNode?N.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&S instanceof ShadowRoot)return S}return null}function C(){let N=typeof document<"u"&&document?document.activeElement:null;for(;N&&N.shadowRoot;){const S=N.shadowRoot.activeElement;if(S===N)break;N=S}return N}function w(N){return N.composedPath?N.composedPath()[0]:N.target}function T(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8484:(wn,qe,x)=>{"use strict";x.d(qe,{C5:()=>h,Pl:()=>C,UE:()=>g,eL:()=>T,en:()=>A,u0:()=>P});var c=x(5879),t=x(6814);class m{attach(B){return this._attachedHost=B,B.attach(this)}detach(){let B=this._attachedHost;null!=B&&(this._attachedHost=null,B.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(B){this._attachedHost=B}}class h extends m{constructor(B,Y,re,ae,Re){super(),this.component=B,this.viewContainerRef=Y,this.injector=re,this.componentFactoryResolver=ae,this.projectableNodes=Re}}class g extends m{constructor(B,Y,re,ae){super(),this.templateRef=B,this.viewContainerRef=Y,this.context=re,this.injector=ae}get origin(){return this.templateRef.elementRef}attach(B,Y=this.context){return this.context=Y,super.attach(B)}detach(){return this.context=void 0,super.detach()}}class v extends m{constructor(B){super(),this.element=B instanceof c.SBq?B.nativeElement:B}}class A{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(B){return B instanceof h?(this._attachedPortal=B,this.attachComponentPortal(B)):B instanceof g?(this._attachedPortal=B,this.attachTemplatePortal(B)):this.attachDomPortal&&B instanceof v?(this._attachedPortal=B,this.attachDomPortal(B)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(B){this._disposeFn=B}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class P extends A{constructor(B,Y,re,ae,Re){super(),this.outletElement=B,this._componentFactoryResolver=Y,this._appRef=re,this._defaultInjector=ae,this.attachDomPortal=z=>{const oe=z.element,H=this._document.createComment("dom-portal");oe.parentNode.insertBefore(H,oe),this.outletElement.appendChild(oe),this._attachedPortal=z,super.setDisposeFn(()=>{H.parentNode&&H.parentNode.replaceChild(oe,H)})},this._document=Re}attachComponentPortal(B){const re=(B.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(B.component);let ae;return B.viewContainerRef?(ae=B.viewContainerRef.createComponent(re,B.viewContainerRef.length,B.injector||B.viewContainerRef.injector,B.projectableNodes||void 0),this.setDisposeFn(()=>ae.destroy())):(ae=re.create(B.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(ae.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(ae.hostView),ae.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(ae)),this._attachedPortal=B,ae}attachTemplatePortal(B){let Y=B.viewContainerRef,re=Y.createEmbeddedView(B.templateRef,B.context,{injector:B.injector});return re.rootNodes.forEach(ae=>this.outletElement.appendChild(ae)),re.detectChanges(),this.setDisposeFn(()=>{let ae=Y.indexOf(re);-1!==ae&&Y.remove(ae)}),this._attachedPortal=B,re}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(B){return B.hostView.rootNodes[0]}}let C=(()=>{class S extends A{constructor(Y,re,ae){super(),this._componentFactoryResolver=Y,this._viewContainerRef=re,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=Re=>{const z=Re.element,oe=this._document.createComment("dom-portal");Re.setAttachedHost(this),z.parentNode.insertBefore(oe,z),this._getRootNode().appendChild(z),this._attachedPortal=Re,super.setDisposeFn(()=>{oe.parentNode&&oe.parentNode.replaceChild(z,oe)})},this._document=ae}get portal(){return this._attachedPortal}set portal(Y){this.hasAttached()&&!Y&&!this._isInitialized||(this.hasAttached()&&super.detach(),Y&&super.attach(Y),this._attachedPortal=Y||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(Y){Y.setAttachedHost(this);const re=null!=Y.viewContainerRef?Y.viewContainerRef:this._viewContainerRef,Re=(Y.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Y.component),z=re.createComponent(Re,re.length,Y.injector||re.injector,Y.projectableNodes||void 0);return re!==this._viewContainerRef&&this._getRootNode().appendChild(z.hostView.rootNodes[0]),super.setDisposeFn(()=>z.destroy()),this._attachedPortal=Y,this._attachedRef=z,this.attached.emit(z),z}attachTemplatePortal(Y){Y.setAttachedHost(this);const re=this._viewContainerRef.createEmbeddedView(Y.templateRef,Y.context,{injector:Y.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Y,this._attachedRef=re,this.attached.emit(re),re}_getRootNode(){const Y=this._viewContainerRef.element.nativeElement;return Y.nodeType===Y.ELEMENT_NODE?Y:Y.parentNode}static#e=this.\u0275fac=function(re){return new(re||S)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(t.K0))};static#t=this.\u0275dir=c.lG2({type:S,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]})}return S})(),T=(()=>{class S{static#e=this.\u0275fac=function(re){return new(re||S)};static#t=this.\u0275mod=c.oAB({type:S});static#n=this.\u0275inj=c.cJS({})}return S})()},799:(wn,qe,x)=>{"use strict";x.d(qe,{ZD:()=>de,mF:()=>He,Cl:()=>pe,rL:()=>K});var c=x(2495),t=x(5879),E=x(8645),O=x(2096),b=x(5592),F=x(2438),L=x(1954),D=x(7394);const m={schedule(ce){let Ce=requestAnimationFrame,Ye=cancelAnimationFrame;const{delegate:Be}=m;Be&&(Ce=Be.requestAnimationFrame,Ye=Be.cancelAnimationFrame);const Ze=Ce(Qe=>{Ye=void 0,ce(Qe)});return new D.w0(()=>Ye?.(Ze))},requestAnimationFrame(...ce){const{delegate:Ce}=m;return(Ce?.requestAnimationFrame||requestAnimationFrame)(...ce)},cancelAnimationFrame(...ce){const{delegate:Ce}=m;return(Ce?.cancelAnimationFrame||cancelAnimationFrame)(...ce)},delegate:void 0};var g=x(2631);new class v extends g.v{flush(Ce){this._active=!0;const Ye=this._scheduled;this._scheduled=void 0;const{actions:Be}=this;let Ze;Ce=Ce||Be.shift();do{if(Ze=Ce.execute(Ce.state,Ce.delay))break}while((Ce=Be[0])&&Ce.id===Ye&&Be.shift());if(this._active=!1,Ze){for(;(Ce=Be[0])&&Ce.id===Ye&&Be.shift();)Ce.unsubscribe();throw Ze}}}(class h extends L.o{constructor(Ce,Ye){super(Ce,Ye),this.scheduler=Ce,this.work=Ye}requestAsyncId(Ce,Ye,Be=0){return null!==Be&&Be>0?super.requestAsyncId(Ce,Ye,Be):(Ce.actions.push(this),Ce._scheduled||(Ce._scheduled=m.requestAnimationFrame(()=>Ce.flush(void 0))))}recycleAsyncId(Ce,Ye,Be=0){var Ze;if(null!=Be?Be>0:this.delay>0)return super.recycleAsyncId(Ce,Ye,Be);const{actions:Qe}=Ce;null!=Ye&&(null===(Ze=Qe[Qe.length-1])||void 0===Ze?void 0:Ze.id)!==Ye&&(m.cancelAnimationFrame(Ye),Ce._scheduled=void 0)}});let V,P=1;const k={};function R(ce){return ce in k&&(delete k[ce],!0)}const C={setImmediate(ce){const Ce=P++;return k[Ce]=!0,V||(V=Promise.resolve()),V.then(()=>R(Ce)&&ce()),Ce},clearImmediate(ce){R(ce)}},{setImmediate:T,clearImmediate:N}=C,S={setImmediate(...ce){const{delegate:Ce}=S;return(Ce?.setImmediate||T)(...ce)},clearImmediate(ce){const{delegate:Ce}=S;return(Ce?.clearImmediate||N)(ce)},delegate:void 0};new class Y extends g.v{flush(Ce){this._active=!0;const Ye=this._scheduled;this._scheduled=void 0;const{actions:Be}=this;let Ze;Ce=Ce||Be.shift();do{if(Ze=Ce.execute(Ce.state,Ce.delay))break}while((Ce=Be[0])&&Ce.id===Ye&&Be.shift());if(this._active=!1,Ze){for(;(Ce=Be[0])&&Ce.id===Ye&&Be.shift();)Ce.unsubscribe();throw Ze}}}(class B extends L.o{constructor(Ce,Ye){super(Ce,Ye),this.scheduler=Ce,this.work=Ye}requestAsyncId(Ce,Ye,Be=0){return null!==Be&&Be>0?super.requestAsyncId(Ce,Ye,Be):(Ce.actions.push(this),Ce._scheduled||(Ce._scheduled=S.setImmediate(Ce.flush.bind(Ce,void 0))))}recycleAsyncId(Ce,Ye,Be=0){var Ze;if(null!=Be?Be>0:this.delay>0)return super.recycleAsyncId(Ce,Ye,Be);const{actions:Qe}=Ce;null!=Ye&&(null===(Ze=Qe[Qe.length-1])||void 0===Ze?void 0:Ze.id)!==Ye&&(S.clearImmediate(Ye),Ce._scheduled===Ye&&(Ce._scheduled=void 0))}});var Re=x(6321),z=x(9360),oe=x(4829),H=x(8251),te=x(4825);function ue(ce,Ce=Re.z){return function me(ce){return(0,z.e)((Ce,Ye)=>{let Be=!1,Ze=null,Qe=null,$e=!1;const ct=()=>{if(Qe?.unsubscribe(),Qe=null,Be){Be=!1;const _t=Ze;Ze=null,Ye.next(_t)}$e&&Ye.complete()},It=()=>{Qe=null,$e&&Ye.complete()};Ce.subscribe((0,H.x)(Ye,_t=>{Be=!0,Ze=_t,Qe||(0,oe.Xf)(ce(_t)).subscribe(Qe=(0,H.x)(Ye,ct,It))},()=>{$e=!0,(!Be||!Qe||Qe.closed)&&Ye.complete()}))})}(()=>(0,te.H)(ce,Ce))}var Se=x(2181),Ie=x(2831),le=x(6814),Me=x(9388);let He=(()=>{class ce{constructor(Ye,Be,Ze){this._ngZone=Ye,this._platform=Be,this._scrolled=new E.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Ze}register(Ye){this.scrollContainers.has(Ye)||this.scrollContainers.set(Ye,Ye.elementScrolled().subscribe(()=>this._scrolled.next(Ye)))}deregister(Ye){const Be=this.scrollContainers.get(Ye);Be&&(Be.unsubscribe(),this.scrollContainers.delete(Ye))}scrolled(Ye=20){return this._platform.isBrowser?new b.y(Be=>{this._globalSubscription||this._addGlobalListener();const Ze=Ye>0?this._scrolled.pipe(ue(Ye)).subscribe(Be):this._scrolled.subscribe(Be);return this._scrolledCount++,()=>{Ze.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,O.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Ye,Be)=>this.deregister(Be)),this._scrolled.complete()}ancestorScrolled(Ye,Be){const Ze=this.getAncestorScrollContainers(Ye);return this.scrolled(Be).pipe((0,Se.h)(Qe=>!Qe||Ze.indexOf(Qe)>-1))}getAncestorScrollContainers(Ye){const Be=[];return this.scrollContainers.forEach((Ze,Qe)=>{this._scrollableContainsElement(Qe,Ye)&&Be.push(Qe)}),Be}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Ye,Be){let Ze=(0,c.fI)(Be),Qe=Ye.getElementRef().nativeElement;do{if(Ze==Qe)return!0}while(Ze=Ze.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Ye=this._getWindow();return(0,F.R)(Ye.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(Be){return new(Be||ce)(t.LFG(t.R0b),t.LFG(Ie.t4),t.LFG(le.K0,8))};static#t=this.\u0275prov=t.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})(),K=(()=>{class ce{constructor(Ye,Be,Ze){this._platform=Ye,this._change=new E.x,this._changeListener=Qe=>{this._change.next(Qe)},this._document=Ze,Be.runOutsideAngular(()=>{if(Ye.isBrowser){const Qe=this._getWindow();Qe.addEventListener("resize",this._changeListener),Qe.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Ye=this._getWindow();Ye.removeEventListener("resize",this._changeListener),Ye.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Ye={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Ye}getViewportRect(){const Ye=this.getViewportScrollPosition(),{width:Be,height:Ze}=this.getViewportSize();return{top:Ye.top,left:Ye.left,bottom:Ye.top+Ze,right:Ye.left+Be,height:Ze,width:Be}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Ye=this._document,Be=this._getWindow(),Ze=Ye.documentElement,Qe=Ze.getBoundingClientRect();return{top:-Qe.top||Ye.body.scrollTop||Be.scrollY||Ze.scrollTop||0,left:-Qe.left||Ye.body.scrollLeft||Be.scrollX||Ze.scrollLeft||0}}change(Ye=20){return Ye>0?this._change.pipe(ue(Ye)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Ye=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Ye.innerWidth,height:Ye.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(Be){return new(Be||ce)(t.LFG(Ie.t4),t.LFG(t.R0b),t.LFG(le.K0,8))};static#t=this.\u0275prov=t.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})(),de=(()=>{class ce{static#e=this.\u0275fac=function(Be){return new(Be||ce)};static#t=this.\u0275mod=t.oAB({type:ce});static#n=this.\u0275inj=t.cJS({})}return ce})(),pe=(()=>{class ce{static#e=this.\u0275fac=function(Be){return new(Be||ce)};static#t=this.\u0275mod=t.oAB({type:ce});static#n=this.\u0275inj=t.cJS({imports:[Me.vT,de,Me.vT,de]})}return ce})()},6814:(wn,qe,x)=>{"use strict";x.d(qe,{Do:()=>V,ED:()=>sr,EM:()=>Ya,HT:()=>O,JF:()=>Wi,K0:()=>F,Mn:()=>me,Mx:()=>_n,NF:()=>to,O5:()=>lt,Ov:()=>ko,PM:()=>_o,RF:()=>vn,S$:()=>A,Tn:()=>re,UT:()=>te,V_:()=>D,Ye:()=>k,ax:()=>ht,b0:()=>P,bD:()=>fr,ez:()=>xr,mk:()=>Bt,mr:()=>U,n9:()=>Fi,p6:()=>Ce,q:()=>E,sg:()=>ht,tP:()=>Ci,uU:()=>Ri,w_:()=>b,x:()=>Y});var c=x(5879);let t=null;function E(){return t}function O(De){t||(t=De)}class b{}const F=new c.OlP("DocumentToken");let L=(()=>{class De{historyGo(Je){throw new Error("Not implemented")}static#e=this.\u0275fac=function(pt){return new(pt||De)};static#t=this.\u0275prov=c.Yz7({token:De,factory:function(){return(0,c.f3M)(m)},providedIn:"platform"})}return De})();const D=new c.OlP("Location Initialized");let m=(()=>{class De extends L{constructor(){super(),this._doc=(0,c.f3M)(F),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return E().getBaseHref(this._doc)}onPopState(Je){const pt=E().getGlobalEventTarget(this._doc,"window");return pt.addEventListener("popstate",Je,!1),()=>pt.removeEventListener("popstate",Je)}onHashChange(Je){const pt=E().getGlobalEventTarget(this._doc,"window");return pt.addEventListener("hashchange",Je,!1),()=>pt.removeEventListener("hashchange",Je)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Je){this._location.pathname=Je}pushState(Je,pt,Ut){this._history.pushState(Je,pt,Ut)}replaceState(Je,pt,Ut){this._history.replaceState(Je,pt,Ut)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Je=0){this._history.go(Je)}getState(){return this._history.state}static#e=this.\u0275fac=function(pt){return new(pt||De)};static#t=this.\u0275prov=c.Yz7({token:De,factory:function(){return new De},providedIn:"platform"})}return De})();function h(De,gt){if(0==De.length)return gt;if(0==gt.length)return De;let Je=0;return De.endsWith("/")&&Je++,gt.startsWith("/")&&Je++,2==Je?De+gt.substring(1):1==Je?De+gt:De+"/"+gt}function g(De){const gt=De.match(/#|\?|$/),Je=gt&&gt.index||De.length;return De.slice(0,Je-("/"===De[Je-1]?1:0))+De.slice(Je)}function v(De){return De&&"?"!==De[0]?"?"+De:De}let A=(()=>{class De{historyGo(Je){throw new Error("Not implemented")}static#e=this.\u0275fac=function(pt){return new(pt||De)};static#t=this.\u0275prov=c.Yz7({token:De,factory:function(){return(0,c.f3M)(P)},providedIn:"root"})}return De})();const U=new c.OlP("appBaseHref");let P=(()=>{class De extends A{constructor(Je,pt){super(),this._platformLocation=Je,this._removeListenerFns=[],this._baseHref=pt??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(F).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Je){this._removeListenerFns.push(this._platformLocation.onPopState(Je),this._platformLocation.onHashChange(Je))}getBaseHref(){return this._baseHref}prepareExternalUrl(Je){return h(this._baseHref,Je)}path(Je=!1){const pt=this._platformLocation.pathname+v(this._platformLocation.search),Ut=this._platformLocation.hash;return Ut&&Je?`${pt}${Ut}`:pt}pushState(Je,pt,Ut,fn){const Dn=this.prepareExternalUrl(Ut+v(fn));this._platformLocation.pushState(Je,pt,Dn)}replaceState(Je,pt,Ut,fn){const Dn=this.prepareExternalUrl(Ut+v(fn));this._platformLocation.replaceState(Je,pt,Dn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Je=0){this._platformLocation.historyGo?.(Je)}static#e=this.\u0275fac=function(pt){return new(pt||De)(c.LFG(L),c.LFG(U,8))};static#t=this.\u0275prov=c.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})(),V=(()=>{class De extends A{constructor(Je,pt){super(),this._platformLocation=Je,this._baseHref="",this._removeListenerFns=[],null!=pt&&(this._baseHref=pt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Je){this._removeListenerFns.push(this._platformLocation.onPopState(Je),this._platformLocation.onHashChange(Je))}getBaseHref(){return this._baseHref}path(Je=!1){let pt=this._platformLocation.hash;return null==pt&&(pt="#"),pt.length>0?pt.substring(1):pt}prepareExternalUrl(Je){const pt=h(this._baseHref,Je);return pt.length>0?"#"+pt:pt}pushState(Je,pt,Ut,fn){let Dn=this.prepareExternalUrl(Ut+v(fn));0==Dn.length&&(Dn=this._platformLocation.pathname),this._platformLocation.pushState(Je,pt,Dn)}replaceState(Je,pt,Ut,fn){let Dn=this.prepareExternalUrl(Ut+v(fn));0==Dn.length&&(Dn=this._platformLocation.pathname),this._platformLocation.replaceState(Je,pt,Dn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Je=0){this._platformLocation.historyGo?.(Je)}static#e=this.\u0275fac=function(pt){return new(pt||De)(c.LFG(L),c.LFG(U,8))};static#t=this.\u0275prov=c.Yz7({token:De,factory:De.\u0275fac})}return De})(),k=(()=>{class De{constructor(Je){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Je;const pt=this._locationStrategy.getBaseHref();this._basePath=function T(De){if(new RegExp("^(https?:)?//").test(De)){const[,Je]=De.split(/\/\/[^\/]+/);return Je}return De}(g(w(pt))),this._locationStrategy.onPopState(Ut=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ut.state,type:Ut.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Je=!1){return this.normalize(this._locationStrategy.path(Je))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Je,pt=""){return this.path()==this.normalize(Je+v(pt))}normalize(Je){return De.stripTrailingSlash(function C(De,gt){if(!De||!gt.startsWith(De))return gt;const Je=gt.substring(De.length);return""===Je||["/",";","?","#"].includes(Je[0])?Je:gt}(this._basePath,w(Je)))}prepareExternalUrl(Je){return Je&&"/"!==Je[0]&&(Je="/"+Je),this._locationStrategy.prepareExternalUrl(Je)}go(Je,pt="",Ut=null){this._locationStrategy.pushState(Ut,"",Je,pt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Je+v(pt)),Ut)}replaceState(Je,pt="",Ut=null){this._locationStrategy.replaceState(Ut,"",Je,pt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Je+v(pt)),Ut)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Je=0){this._locationStrategy.historyGo?.(Je)}onUrlChange(Je){return this._urlChangeListeners.push(Je),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(pt=>{this._notifyUrlChangeListeners(pt.url,pt.state)})),()=>{const pt=this._urlChangeListeners.indexOf(Je);this._urlChangeListeners.splice(pt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Je="",pt){this._urlChangeListeners.forEach(Ut=>Ut(Je,pt))}subscribe(Je,pt,Ut){return this._subject.subscribe({next:Je,error:pt,complete:Ut})}static#e=this.normalizeQueryParams=v;static#t=this.joinWithSlash=h;static#n=this.stripTrailingSlash=g;static#i=this.\u0275fac=function(pt){return new(pt||De)(c.LFG(A))};static#r=this.\u0275prov=c.Yz7({token:De,factory:function(){return function R(){return new k((0,c.LFG)(A))}()},providedIn:"root"})}return De})();function w(De){return De.replace(/\/index.html$/,"")}var Y=function(De){return De[De.Format=0]="Format",De[De.Standalone=1]="Standalone",De}(Y||{}),re=function(De){return De[De.Narrow=0]="Narrow",De[De.Abbreviated=1]="Abbreviated",De[De.Wide=2]="Wide",De[De.Short=3]="Short",De}(re||{}),ae=function(De){return De[De.Short=0]="Short",De[De.Medium=1]="Medium",De[De.Long=2]="Long",De[De.Full=3]="Full",De}(ae||{}),Re=function(De){return De[De.Decimal=0]="Decimal",De[De.Group=1]="Group",De[De.List=2]="List",De[De.PercentSign=3]="PercentSign",De[De.PlusSign=4]="PlusSign",De[De.MinusSign=5]="MinusSign",De[De.Exponential=6]="Exponential",De[De.SuperscriptingExponent=7]="SuperscriptingExponent",De[De.PerMille=8]="PerMille",De[De.Infinity=9]="Infinity",De[De.NaN=10]="NaN",De[De.TimeSeparator=11]="TimeSeparator",De[De.CurrencyDecimal=12]="CurrencyDecimal",De[De.CurrencyGroup=13]="CurrencyGroup",De}(Re||{});function me(De,gt,Je){const pt=(0,c.cg1)(De),fn=he([pt[c.wAp.DaysFormat],pt[c.wAp.DaysStandalone]],gt);return he(fn,Je)}function te(De,gt,Je){const pt=(0,c.cg1)(De),fn=he([pt[c.wAp.MonthsFormat],pt[c.wAp.MonthsStandalone]],gt);return he(fn,Je)}function le(De,gt){return he((0,c.cg1)(De)[c.wAp.DateFormat],gt)}function Me(De,gt){return he((0,c.cg1)(De)[c.wAp.TimeFormat],gt)}function we(De,gt){return he((0,c.cg1)(De)[c.wAp.DateTimeFormat],gt)}function _e(De,gt){const Je=(0,c.cg1)(De),pt=Je[c.wAp.NumberSymbols][gt];if(typeof pt>"u"){if(gt===Re.CurrencyDecimal)return Je[c.wAp.NumberSymbols][Re.Decimal];if(gt===Re.CurrencyGroup)return Je[c.wAp.NumberSymbols][Re.Group]}return pt}function Ae(De){if(!De[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${De[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function he(De,gt){for(let Je=gt;Je>-1;Je--)if(typeof De[Je]<"u")return De[Je];throw new Error("Locale data API: locale data undefined")}function $(De){const[gt,Je]=De.split(":");return{hours:+gt,minutes:+Je}}const Q=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,q={},J=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var de=function(De){return De[De.Short=0]="Short",De[De.ShortGMT=1]="ShortGMT",De[De.Long=2]="Long",De[De.Extended=3]="Extended",De}(de||{}),pe=function(De){return De[De.FullYear=0]="FullYear",De[De.Month=1]="Month",De[De.Date=2]="Date",De[De.Hours=3]="Hours",De[De.Minutes=4]="Minutes",De[De.Seconds=5]="Seconds",De[De.FractionalSeconds=6]="FractionalSeconds",De[De.Day=7]="Day",De}(pe||{}),ce=function(De){return De[De.DayPeriods=0]="DayPeriods",De[De.Days=1]="Days",De[De.Months=2]="Months",De[De.Eras=3]="Eras",De}(ce||{});function Ce(De,gt,Je,pt){let Ut=function mt(De){if(ut(De))return De;if("number"==typeof De&&!isNaN(De))return new Date(De);if("string"==typeof De){if(De=De.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(De)){const[Ut,fn=1,Dn=1]=De.split("-").map(Xn=>+Xn);return Ye(Ut,fn-1,Dn)}const Je=parseFloat(De);if(!isNaN(De-Je))return new Date(Je);let pt;if(pt=De.match(Q))return function Dt(De){const gt=new Date(0);let Je=0,pt=0;const Ut=De[8]?gt.setUTCFullYear:gt.setFullYear,fn=De[8]?gt.setUTCHours:gt.setHours;De[9]&&(Je=Number(De[9]+De[10]),pt=Number(De[9]+De[11])),Ut.call(gt,Number(De[1]),Number(De[2])-1,Number(De[3]));const Dn=Number(De[4]||0)-Je,Xn=Number(De[5]||0)-pt,$i=Number(De[6]||0),Mi=Math.floor(1e3*parseFloat("0."+(De[7]||0)));return fn.call(gt,Dn,Xn,$i,Mi),gt}(pt)}const gt=new Date(De);if(!ut(gt))throw new Error(`Unable to convert "${De}" into a date`);return gt}(De);gt=Be(Je,gt)||gt;let Xn,Dn=[];for(;gt;){if(Xn=J.exec(gt),!Xn){Dn.push(gt);break}{Dn=Dn.concat(Xn.slice(1));const Ni=Dn.pop();if(!Ni)break;gt=Ni}}let $i=Ut.getTimezoneOffset();pt&&($i=fe(pt,$i),Ut=function st(De,gt,Je){const pt=Je?-1:1,Ut=De.getTimezoneOffset();return function ge(De,gt){return(De=new Date(De.getTime())).setMinutes(De.getMinutes()+gt),De}(De,pt*(fe(gt,Ut)-Ut))}(Ut,pt,!0));let Mi="";return Dn.forEach(Ni=>{const Di=function xe(De){if(dt[De])return dt[De];let gt;switch(De){case"G":case"GG":case"GGG":gt=_t(ce.Eras,re.Abbreviated);break;case"GGGG":gt=_t(ce.Eras,re.Wide);break;case"GGGGG":gt=_t(ce.Eras,re.Narrow);break;case"y":gt=ct(pe.FullYear,1,0,!1,!0);break;case"yy":gt=ct(pe.FullYear,2,0,!0,!0);break;case"yyy":gt=ct(pe.FullYear,3,0,!1,!0);break;case"yyyy":gt=ct(pe.FullYear,4,0,!1,!0);break;case"Y":gt=ot(1);break;case"YY":gt=ot(2,!0);break;case"YYY":gt=ot(3);break;case"YYYY":gt=ot(4);break;case"M":case"L":gt=ct(pe.Month,1,1);break;case"MM":case"LL":gt=ct(pe.Month,2,1);break;case"MMM":gt=_t(ce.Months,re.Abbreviated);break;case"MMMM":gt=_t(ce.Months,re.Wide);break;case"MMMMM":gt=_t(ce.Months,re.Narrow);break;case"LLL":gt=_t(ce.Months,re.Abbreviated,Y.Standalone);break;case"LLLL":gt=_t(ce.Months,re.Wide,Y.Standalone);break;case"LLLLL":gt=_t(ce.Months,re.Narrow,Y.Standalone);break;case"w":gt=Un(1);break;case"ww":gt=Un(2);break;case"W":gt=Un(1,!0);break;case"d":gt=ct(pe.Date,1);break;case"dd":gt=ct(pe.Date,2);break;case"c":case"cc":gt=ct(pe.Day,1);break;case"ccc":gt=_t(ce.Days,re.Abbreviated,Y.Standalone);break;case"cccc":gt=_t(ce.Days,re.Wide,Y.Standalone);break;case"ccccc":gt=_t(ce.Days,re.Narrow,Y.Standalone);break;case"cccccc":gt=_t(ce.Days,re.Short,Y.Standalone);break;case"E":case"EE":case"EEE":gt=_t(ce.Days,re.Abbreviated);break;case"EEEE":gt=_t(ce.Days,re.Wide);break;case"EEEEE":gt=_t(ce.Days,re.Narrow);break;case"EEEEEE":gt=_t(ce.Days,re.Short);break;case"a":case"aa":case"aaa":gt=_t(ce.DayPeriods,re.Abbreviated);break;case"aaaa":gt=_t(ce.DayPeriods,re.Wide);break;case"aaaaa":gt=_t(ce.DayPeriods,re.Narrow);break;case"b":case"bb":case"bbb":gt=_t(ce.DayPeriods,re.Abbreviated,Y.Standalone,!0);break;case"bbbb":gt=_t(ce.DayPeriods,re.Wide,Y.Standalone,!0);break;case"bbbbb":gt=_t(ce.DayPeriods,re.Narrow,Y.Standalone,!0);break;case"B":case"BB":case"BBB":gt=_t(ce.DayPeriods,re.Abbreviated,Y.Format,!0);break;case"BBBB":gt=_t(ce.DayPeriods,re.Wide,Y.Format,!0);break;case"BBBBB":gt=_t(ce.DayPeriods,re.Narrow,Y.Format,!0);break;case"h":gt=ct(pe.Hours,1,-12);break;case"hh":gt=ct(pe.Hours,2,-12);break;case"H":gt=ct(pe.Hours,1);break;case"HH":gt=ct(pe.Hours,2);break;case"m":gt=ct(pe.Minutes,1);break;case"mm":gt=ct(pe.Minutes,2);break;case"s":gt=ct(pe.Seconds,1);break;case"ss":gt=ct(pe.Seconds,2);break;case"S":gt=ct(pe.FractionalSeconds,1);break;case"SS":gt=ct(pe.FractionalSeconds,2);break;case"SSS":gt=ct(pe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":gt=Vt(de.Short);break;case"ZZZZZ":gt=Vt(de.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":gt=Vt(de.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":gt=Vt(de.Long);break;default:return null}return dt[De]=gt,gt}(Ni);Mi+=Di?Di(Ut,Je,$i):"''"===Ni?"'":Ni.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Mi}function Ye(De,gt,Je){const pt=new Date(0);return pt.setFullYear(De,gt,Je),pt.setHours(0,0,0),pt}function Be(De,gt){const Je=function oe(De){return(0,c.cg1)(De)[c.wAp.LocaleId]}(De);if(q[Je]=q[Je]||{},q[Je][gt])return q[Je][gt];let pt="";switch(gt){case"shortDate":pt=le(De,ae.Short);break;case"mediumDate":pt=le(De,ae.Medium);break;case"longDate":pt=le(De,ae.Long);break;case"fullDate":pt=le(De,ae.Full);break;case"shortTime":pt=Me(De,ae.Short);break;case"mediumTime":pt=Me(De,ae.Medium);break;case"longTime":pt=Me(De,ae.Long);break;case"fullTime":pt=Me(De,ae.Full);break;case"short":const Ut=Be(De,"shortTime"),fn=Be(De,"shortDate");pt=Ze(we(De,ae.Short),[Ut,fn]);break;case"medium":const Dn=Be(De,"mediumTime"),Xn=Be(De,"mediumDate");pt=Ze(we(De,ae.Medium),[Dn,Xn]);break;case"long":const $i=Be(De,"longTime"),Mi=Be(De,"longDate");pt=Ze(we(De,ae.Long),[$i,Mi]);break;case"full":const Ni=Be(De,"fullTime"),Di=Be(De,"fullDate");pt=Ze(we(De,ae.Full),[Ni,Di])}return pt&&(q[Je][gt]=pt),pt}function Ze(De,gt){return gt&&(De=De.replace(/\{([^}]+)}/g,function(Je,pt){return null!=gt&&pt in gt?gt[pt]:Je})),De}function Qe(De,gt,Je="-",pt,Ut){let fn="";(De<0||Ut&&De<=0)&&(Ut?De=1-De:(De=-De,fn=Je));let Dn=String(De);for(;Dn.length<gt;)Dn="0"+Dn;return pt&&(Dn=Dn.slice(Dn.length-gt)),fn+Dn}function ct(De,gt,Je=0,pt=!1,Ut=!1){return function(fn,Dn){let Xn=function It(De,gt){switch(De){case pe.FullYear:return gt.getFullYear();case pe.Month:return gt.getMonth();case pe.Date:return gt.getDate();case pe.Hours:return gt.getHours();case pe.Minutes:return gt.getMinutes();case pe.Seconds:return gt.getSeconds();case pe.FractionalSeconds:return gt.getMilliseconds();case pe.Day:return gt.getDay();default:throw new Error(`Unknown DateType value "${De}".`)}}(De,fn);if((Je>0||Xn>-Je)&&(Xn+=Je),De===pe.Hours)0===Xn&&-12===Je&&(Xn=12);else if(De===pe.FractionalSeconds)return function $e(De,gt){return Qe(De,3).substring(0,gt)}(Xn,gt);const $i=_e(Dn,Re.MinusSign);return Qe(Xn,gt,$i,pt,Ut)}}function _t(De,gt,Je=Y.Format,pt=!1){return function(Ut,fn){return function Pt(De,gt,Je,pt,Ut,fn){switch(Je){case ce.Months:return te(gt,Ut,pt)[De.getMonth()];case ce.Days:return me(gt,Ut,pt)[De.getDay()];case ce.DayPeriods:const Dn=De.getHours(),Xn=De.getMinutes();if(fn){const Mi=function ye(De){const gt=(0,c.cg1)(De);return Ae(gt),(gt[c.wAp.ExtraData][2]||[]).map(pt=>"string"==typeof pt?$(pt):[$(pt[0]),$(pt[1])])}(gt),Ni=function K(De,gt,Je){const pt=(0,c.cg1)(De);Ae(pt);const fn=he([pt[c.wAp.ExtraData][0],pt[c.wAp.ExtraData][1]],gt)||[];return he(fn,Je)||[]}(gt,Ut,pt),Di=Mi.findIndex(ar=>{if(Array.isArray(ar)){const[Ui,Cr]=ar,oo=Dn>=Ui.hours&&Xn>=Ui.minutes,ii=Dn<Cr.hours||Dn===Cr.hours&&Xn<Cr.minutes;if(Ui.hours<Cr.hours){if(oo&&ii)return!0}else if(oo||ii)return!0}else if(ar.hours===Dn&&ar.minutes===Xn)return!0;return!1});if(-1!==Di)return Ni[Di]}return function H(De,gt,Je){const pt=(0,c.cg1)(De),fn=he([pt[c.wAp.DayPeriodsFormat],pt[c.wAp.DayPeriodsStandalone]],gt);return he(fn,Je)}(gt,Ut,pt)[Dn<12?0:1];case ce.Eras:return function ue(De,gt){return he((0,c.cg1)(De)[c.wAp.Eras],gt)}(gt,pt)[De.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Je}`)}}(Ut,fn,De,gt,Je,pt)}}function Vt(De){return function(gt,Je,pt){const Ut=-1*pt,fn=_e(Je,Re.MinusSign),Dn=Ut>0?Math.floor(Ut/60):Math.ceil(Ut/60);switch(De){case de.Short:return(Ut>=0?"+":"")+Qe(Dn,2,fn)+Qe(Math.abs(Ut%60),2,fn);case de.ShortGMT:return"GMT"+(Ut>=0?"+":"")+Qe(Dn,1,fn);case de.Long:return"GMT"+(Ut>=0?"+":"")+Qe(Dn,2,fn)+":"+Qe(Math.abs(Ut%60),2,fn);case de.Extended:return 0===pt?"Z":(Ut>=0?"+":"")+Qe(Dn,2,fn)+":"+Qe(Math.abs(Ut%60),2,fn);default:throw new Error(`Unknown zone width "${De}"`)}}}const $t=0,Qt=4;function pn(De){return Ye(De.getFullYear(),De.getMonth(),De.getDate()+(Qt-De.getDay()))}function Un(De,gt=!1){return function(Je,pt){let Ut;if(gt){const fn=new Date(Je.getFullYear(),Je.getMonth(),1).getDay()-1,Dn=Je.getDate();Ut=1+Math.floor((Dn+fn)/7)}else{const fn=pn(Je),Dn=function dn(De){const gt=Ye(De,$t,1).getDay();return Ye(De,0,1+(gt<=Qt?Qt:Qt+7)-gt)}(fn.getFullYear()),Xn=fn.getTime()-Dn.getTime();Ut=1+Math.round(Xn/6048e5)}return Qe(Ut,De,_e(pt,Re.MinusSign))}}function ot(De,gt=!1){return function(Je,pt){return Qe(pn(Je).getFullYear(),De,_e(pt,Re.MinusSign),gt)}}const dt={};function fe(De,gt){De=De.replace(/:/g,"");const Je=Date.parse("Jan 01, 1970 00:00:00 "+De)/6e4;return isNaN(Je)?gt:Je}function ut(De){return De instanceof Date&&!isNaN(De.valueOf())}function _n(De,gt){gt=encodeURIComponent(gt);for(const Je of De.split(";")){const pt=Je.indexOf("="),[Ut,fn]=-1==pt?[Je,""]:[Je.slice(0,pt),Je.slice(pt+1)];if(Ut.trim()===gt)return decodeURIComponent(fn)}return null}const kt=/\s+/,Ot=[];let Bt=(()=>{class De{constructor(Je,pt,Ut,fn){this._iterableDiffers=Je,this._keyValueDiffers=pt,this._ngEl=Ut,this._renderer=fn,this.initialClasses=Ot,this.stateMap=new Map}set klass(Je){this.initialClasses=null!=Je?Je.trim().split(kt):Ot}set ngClass(Je){this.rawClass="string"==typeof Je?Je.trim().split(kt):Je}ngDoCheck(){for(const pt of this.initialClasses)this._updateState(pt,!0);const Je=this.rawClass;if(Array.isArray(Je)||Je instanceof Set)for(const pt of Je)this._updateState(pt,!0);else if(null!=Je)for(const pt of Object.keys(Je))this._updateState(pt,!!Je[pt]);this._applyStateDiff()}_updateState(Je,pt){const Ut=this.stateMap.get(Je);void 0!==Ut?(Ut.enabled!==pt&&(Ut.changed=!0,Ut.enabled=pt),Ut.touched=!0):this.stateMap.set(Je,{enabled:pt,changed:!0,touched:!0})}_applyStateDiff(){for(const Je of this.stateMap){const pt=Je[0],Ut=Je[1];Ut.changed?(this._toggleClass(pt,Ut.enabled),Ut.changed=!1):Ut.touched||(Ut.enabled&&this._toggleClass(pt,!1),this.stateMap.delete(pt)),Ut.touched=!1}}_toggleClass(Je,pt){(Je=Je.trim()).length>0&&Je.split(kt).forEach(Ut=>{pt?this._renderer.addClass(this._ngEl.nativeElement,Ut):this._renderer.removeClass(this._ngEl.nativeElement,Ut)})}static#e=this.\u0275fac=function(pt){return new(pt||De)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))};static#t=this.\u0275dir=c.lG2({type:De,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return De})();class Fn{constructor(gt,Je,pt,Ut){this.$implicit=gt,this.ngForOf=Je,this.index=pt,this.count=Ut}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ht=(()=>{class De{set ngForOf(Je){this._ngForOf=Je,this._ngForOfDirty=!0}set ngForTrackBy(Je){this._trackByFn=Je}get ngForTrackBy(){return this._trackByFn}constructor(Je,pt,Ut){this._viewContainer=Je,this._template=pt,this._differs=Ut,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Je){Je&&(this._template=Je)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Je=this._ngForOf;!this._differ&&Je&&(this._differ=this._differs.find(Je).create(this.ngForTrackBy))}if(this._differ){const Je=this._differ.diff(this._ngForOf);Je&&this._applyChanges(Je)}}_applyChanges(Je){const pt=this._viewContainer;Je.forEachOperation((Ut,fn,Dn)=>{if(null==Ut.previousIndex)pt.createEmbeddedView(this._template,new Fn(Ut.item,this._ngForOf,-1,-1),null===Dn?void 0:Dn);else if(null==Dn)pt.remove(null===fn?void 0:fn);else if(null!==fn){const Xn=pt.get(fn);pt.move(Xn,Dn),rn(Xn,Ut)}});for(let Ut=0,fn=pt.length;Ut<fn;Ut++){const Xn=pt.get(Ut).context;Xn.index=Ut,Xn.count=fn,Xn.ngForOf=this._ngForOf}Je.forEachIdentityChange(Ut=>{rn(pt.get(Ut.currentIndex),Ut)})}static ngTemplateContextGuard(Je,pt){return!0}static#e=this.\u0275fac=function(pt){return new(pt||De)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))};static#t=this.\u0275dir=c.lG2({type:De,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return De})();function rn(De,gt){De.context.$implicit=gt.item}let lt=(()=>{class De{constructor(Je,pt){this._viewContainer=Je,this._context=new it,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=pt}set ngIf(Je){this._context.$implicit=this._context.ngIf=Je,this._updateView()}set ngIfThen(Je){At("ngIfThen",Je),this._thenTemplateRef=Je,this._thenViewRef=null,this._updateView()}set ngIfElse(Je){At("ngIfElse",Je),this._elseTemplateRef=Je,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Je,pt){return!0}static#e=this.\u0275fac=function(pt){return new(pt||De)(c.Y36(c.s_b),c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:De,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return De})();class it{constructor(){this.$implicit=null,this.ngIf=null}}function At(De,gt){if(gt&&!gt.createEmbeddedView)throw new Error(`${De} must be a TemplateRef, but received '${(0,c.AaK)(gt)}'.`)}class Kt{constructor(gt,Je){this._viewContainerRef=gt,this._templateRef=Je,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(gt){gt&&!this._created?this.create():!gt&&this._created&&this.destroy()}}let vn=(()=>{class De{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Je){this._ngSwitch=Je,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Je){this._defaultViews.push(Je)}_matchCase(Je){const pt=Je==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||pt,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),pt}_updateDefaultCases(Je){if(this._defaultViews.length>0&&Je!==this._defaultUsed){this._defaultUsed=Je;for(const pt of this._defaultViews)pt.enforceState(Je)}}static#e=this.\u0275fac=function(pt){return new(pt||De)};static#t=this.\u0275dir=c.lG2({type:De,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return De})(),Fi=(()=>{class De{constructor(Je,pt,Ut){this.ngSwitch=Ut,Ut._addCase(),this._view=new Kt(Je,pt)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(pt){return new(pt||De)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(vn,9))};static#t=this.\u0275dir=c.lG2({type:De,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return De})(),sr=(()=>{class De{constructor(Je,pt,Ut){Ut._addDefault(new Kt(Je,pt))}static#e=this.\u0275fac=function(pt){return new(pt||De)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(vn,9))};static#t=this.\u0275dir=c.lG2({type:De,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return De})(),Ci=(()=>{class De{constructor(Je){this._viewContainerRef=Je,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Je){if(Je.ngTemplateOutlet||Je.ngTemplateOutletInjector){const pt=this._viewContainerRef;if(this._viewRef&&pt.remove(pt.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ut,ngTemplateOutletContext:fn,ngTemplateOutletInjector:Dn}=this;this._viewRef=pt.createEmbeddedView(Ut,fn,Dn?{injector:Dn}:void 0)}else this._viewRef=null}else this._viewRef&&Je.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(pt){return new(pt||De)(c.Y36(c.s_b))};static#t=this.\u0275dir=c.lG2({type:De,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]})}return De})();function di(De,gt){return new c.vHH(2100,!1)}class er{createSubscription(gt,Je){return(0,c.rg0)(()=>gt.subscribe({next:Je,error:pt=>{throw pt}}))}dispose(gt){(0,c.rg0)(()=>gt.unsubscribe())}}class mr{createSubscription(gt,Je){return gt.then(Je,pt=>{throw pt})}dispose(gt){}}const Ir=new mr,Zn=new er;let ko=(()=>{class De{constructor(Je){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Je}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Je){return this._obj?Je!==this._obj?(this._dispose(),this.transform(Je)):this._latestValue:(Je&&this._subscribe(Je),this._latestValue)}_subscribe(Je){this._obj=Je,this._strategy=this._selectStrategy(Je),this._subscription=this._strategy.createSubscription(Je,pt=>this._updateLatestValue(Je,pt))}_selectStrategy(Je){if((0,c.QGY)(Je))return Ir;if((0,c.F4k)(Je))return Zn;throw di()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Je,pt){Je===this._obj&&(this._latestValue=pt,this._ref.markForCheck())}static#e=this.\u0275fac=function(pt){return new(pt||De)(c.Y36(c.sBO,16))};static#t=this.\u0275pipe=c.Yjl({name:"async",type:De,pure:!1,standalone:!0})}return De})();const Kn=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),ai=new c.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Ri=(()=>{class De{constructor(Je,pt,Ut){this.locale=Je,this.defaultTimezone=pt,this.defaultOptions=Ut}transform(Je,pt,Ut,fn){if(null==Je||""===Je||Je!=Je)return null;try{return Ce(Je,pt??this.defaultOptions?.dateFormat??"mediumDate",fn||this.locale,Ut??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Dn){throw di()}}static#e=this.\u0275fac=function(pt){return new(pt||De)(c.Y36(c.soG,16),c.Y36(Kn,24),c.Y36(ai,24))};static#t=this.\u0275pipe=c.Yjl({name:"date",type:De,pure:!0,standalone:!0})}return De})(),xr=(()=>{class De{static#e=this.\u0275fac=function(pt){return new(pt||De)};static#t=this.\u0275mod=c.oAB({type:De});static#n=this.\u0275inj=c.cJS({})}return De})();const fr="browser",Ma="server";function to(De){return De===fr}function _o(De){return De===Ma}let Ya=(()=>{class De{static#e=this.\u0275prov=(0,c.Yz7)({token:De,providedIn:"root",factory:()=>new kr((0,c.LFG)(F),window)})}return De})();class kr{constructor(gt,Je){this.document=gt,this.window=Je,this.offset=()=>[0,0]}setOffset(gt){this.offset=Array.isArray(gt)?()=>gt:gt}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(gt){this.supportsScrolling()&&this.window.scrollTo(gt[0],gt[1])}scrollToAnchor(gt){if(!this.supportsScrolling())return;const Je=function Sr(De,gt){const Je=De.getElementById(gt)||De.getElementsByName(gt)[0];if(Je)return Je;if("function"==typeof De.createTreeWalker&&De.body&&"function"==typeof De.body.attachShadow){const pt=De.createTreeWalker(De.body,NodeFilter.SHOW_ELEMENT);let Ut=pt.currentNode;for(;Ut;){const fn=Ut.shadowRoot;if(fn){const Dn=fn.getElementById(gt)||fn.querySelector(`[name="${gt}"]`);if(Dn)return Dn}Ut=pt.nextNode()}}return null}(this.document,gt);Je&&(this.scrollToElement(Je),Je.focus())}setHistoryScrollRestoration(gt){if(this.supportScrollRestoration()){const Je=this.window.history;Je&&Je.scrollRestoration&&(Je.scrollRestoration=gt)}}scrollToElement(gt){const Je=gt.getBoundingClientRect(),pt=Je.left+this.window.pageXOffset,Ut=Je.top+this.window.pageYOffset,fn=this.offset();this.window.scrollTo(pt-fn[0],Ut-fn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const gt=no(this.window.history)||no(Object.getPrototypeOf(this.window.history));return!(!gt||!gt.writable&&!gt.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function no(De){return Object.getOwnPropertyDescriptor(De,"scrollRestoration")}class Wi{}},5879:(wn,qe,x)=>{"use strict";x.d(qe,{$8M:()=>Qf,$WT:()=>Ir,$Z:()=>J_,AFp:()=>S_,ALo:()=>tl,AaK:()=>v,AsE:()=>Im,BQk:()=>Zu,CHM:()=>Dc,CRH:()=>N0,DdM:()=>gf,EJc:()=>$0,EiD:()=>UE,EpF:()=>jv,F$t:()=>Wv,F4k:()=>Vv,FYo:()=>jr,FiY:()=>Nc,G48:()=>gD,Gf:()=>Cd,GfV:()=>R_,GkF:()=>gm,Gpc:()=>P,Gre:()=>qs,HDt:()=>Af,Hsn:()=>zv,Ikx:()=>Xu,JOm:()=>fu,JVY:()=>Su,JZr:()=>w,Jf7:()=>F_,KtG:()=>Gf,L6k:()=>oM,LAX:()=>Hs,LFG:()=>xe,LMc:()=>gc,LSH:()=>Mu,Lbi:()=>Ph,Lck:()=>Qm,MAs:()=>Fv,MGl:()=>$u,MMx:()=>ep,MR2:()=>m_,NdJ:()=>vm,O4$:()=>zf,Ojb:()=>bM,OlP:()=>qi,Oqu:()=>wm,P3R:()=>VE,PXZ:()=>hD,Q6J:()=>hm,QGY:()=>_m,QbO:()=>yM,Qsj:()=>pi,R0b:()=>xo,RDi:()=>nM,Rgc:()=>fc,SBq:()=>$c,SDv:()=>zm,Sil:()=>q0,Suo:()=>R0,TTD:()=>ps,TgZ:()=>Ku,Tol:()=>ZS,Udp:()=>Dm,VKq:()=>g0,VuI:()=>YD,W1O:()=>yp,WFA:()=>ym,WLB:()=>_0,XFs:()=>de,Xpm:()=>vn,Xq5:()=>nm,Xts:()=>Kc,Y36:()=>Gl,YKP:()=>c0,YNc:()=>kv,Yjl:()=>Lr,Yz7:()=>Ae,Z0I:()=>he,ZZ4:()=>qp,_Bn:()=>l0,_UZ:()=>pm,_Vd:()=>Zc,_c5:()=>RD,_uU:()=>my,aQg:()=>Jp,c2e:()=>z0,cJS:()=>K,cg1:()=>Bm,d8E:()=>rc,dDg:()=>kp,dqk:()=>Ze,eBb:()=>OE,eFA:()=>Of,eJc:()=>xd,ekj:()=>xm,eoX:()=>nb,f3M:()=>ge,g9A:()=>JE,h0i:()=>dc,hGG:()=>ND,hYB:()=>Em,hij:()=>Qu,iGM:()=>P0,ifc:()=>Ht,ip1:()=>wp,jDz:()=>d0,kEZ:()=>v0,kL8:()=>Oy,kcU:()=>Fe,lG2:()=>Ci,lcZ:()=>lp,lqb:()=>Fl,lri:()=>Lp,mCW:()=>Ll,n5z:()=>qb,n_E:()=>_f,oAB:()=>Li,oJD:()=>xh,oxw:()=>Kv,pB0:()=>aM,q3G:()=>Ks,qFp:()=>zD,qLn:()=>Ul,qOj:()=>em,qZA:()=>Wu,qzn:()=>ts,rWj:()=>Od,rg0:()=>ms,s9C:()=>bm,sBO:()=>_D,s_b:()=>Ed,soG:()=>Mf,tb:()=>Bp,tp0:()=>ou,uIk:()=>rm,vHH:()=>T,vpe:()=>Ta,wAp:()=>Qs,xi3:()=>ja,xp6:()=>Y_,ynx:()=>zu,z2F:()=>Ps,z3N:()=>Na,zSh:()=>v_,zW0:()=>Cv,zs3:()=>Es});var c=x(8645),t=x(7394),E=x(5619),O=x(5592),b=x(3019),F=x(2096),L=x(3020),D=x(4664),m=x(3997);function h(l){for(let d in l)if(l[d]===h)return d;throw Error("Could not find renamed property on target object.")}function g(l,d){for(const f in d)d.hasOwnProperty(f)&&!l.hasOwnProperty(f)&&(l[f]=d[f])}function v(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(v).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const d=l.toString();if(null==d)return""+d;const f=d.indexOf("\n");return-1===f?d:d.substring(0,f)}function A(l,d){return null==l||""===l?null===d?"":d:null==d||""===d?l:l+" "+d}const U=h({__forward_ref__:h});function P(l){return l.__forward_ref__=P,l.toString=function(){return v(this())},l}function V(l){return k(l)?l():l}function k(l){return"function"==typeof l&&l.hasOwnProperty(U)&&l.__forward_ref__===P}function R(l){return l&&!!l.\u0275providers}const w="https://g.co/ng/security#xss";class T extends Error{constructor(d,f){super(function N(l,d){return`NG0${Math.abs(l)}${d?": "+d:""}`}(d,f)),this.code=d}}function S(l){return"string"==typeof l?l:null==l?"":String(l)}function Re(l,d){throw new T(-201,!1)}function Oe(l,d,f,_){throw new Error(`ASSERTION ERROR: ${l}`+(null==_?"":` [Expected=> ${f} ${_} ${d} <=Actual]`))}function Ae(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function K(l){return{providers:l.providers||[],imports:l.imports||[]}}function ie(l){return $(l,X)||$(l,q)}function he(l){return null!==ie(l)}function $(l,d){return l.hasOwnProperty(d)?l[d]:null}function W(l){return l&&(l.hasOwnProperty(Q)||l.hasOwnProperty(J))?l[Q]:null}const X=h({\u0275prov:h}),Q=h({\u0275inj:h}),q=h({ngInjectableDef:h}),J=h({ngInjectorDef:h});var de=function(l){return l[l.Default=0]="Default",l[l.Host=1]="Host",l[l.Self=2]="Self",l[l.SkipSelf=4]="SkipSelf",l[l.Optional=8]="Optional",l}(de||{});let pe;function Ce(l){const d=pe;return pe=l,d}function Ye(l,d,f){const _=ie(l);return _&&"root"==_.providedIn?void 0===_.value?_.value=_.factory():_.value:f&de.Optional?null:void 0!==d?d:void Re(v(l))}const Ze=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),It={},_t="__NG_DI_FLAG__",Pt="ngTempTokenPath",$t=/\n/gm,dn="__source";let pn;function ot(l){const d=pn;return pn=l,d}function dt(l,d=de.Default){if(void 0===pn)throw new T(-203,!1);return null===pn?Ye(l,void 0,d):pn.get(l,d&de.Optional?null:void 0,d)}function xe(l,d=de.Default){return(function ce(){return pe}()||dt)(V(l),d)}function ge(l,d=de.Default){return xe(l,st(d))}function st(l){return typeof l>"u"||"number"==typeof l?l:0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)}function mt(l){const d=[];for(let f=0;f<l.length;f++){const _=V(l[f]);if(Array.isArray(_)){if(0===_.length)throw new T(900,!1);let M,j=de.Default;for(let ee=0;ee<_.length;ee++){const Ee=_[ee],ke=ut(Ee);"number"==typeof ke?-1===ke?M=Ee.token:j|=ke:M=Ee}d.push(xe(M,j))}else d.push(xe(_))}return d}function Dt(l,d){return l[_t]=d,l.prototype[_t]=d,l}function ut(l){return l[_t]}function Zt(l){return{toString:l}.toString()}var wt=function(l){return l[l.OnPush=0]="OnPush",l[l.Default=1]="Default",l}(wt||{}),Ht=function(l){return l[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",l}(Ht||{});const en={},tn=[],yn=h({\u0275cmp:h}),Tn=h({\u0275dir:h}),In=h({\u0275pipe:h}),kn=h({\u0275mod:h}),qn=h({\u0275fac:h}),ui=h({__NG_ELEMENT_ID__:h}),Ft=h({__NG_ENV_ID__:h});function St(l,d,f){let _=l.length;for(;;){const M=l.indexOf(d,f);if(-1===M)return M;if(0===M||l.charCodeAt(M-1)<=32){const j=d.length;if(M+j===_||l.charCodeAt(M+j)<=32)return M}f=M+1}}function at(l,d,f){let _=0;for(;_<f.length;){const M=f[_];if("number"==typeof M){if(0!==M)break;_++;const j=f[_++],ee=f[_++],Ee=f[_++];l.setAttribute(d,ee,Ee,j)}else{const j=M,ee=f[++_];Ke(j)?l.setProperty(d,j,ee):l.setAttribute(d,j,ee),_++}}return _}function Xt(l){return 3===l||4===l||6===l}function Ke(l){return 64===l.charCodeAt(0)}function tt(l,d){if(null!==d&&0!==d.length)if(null===l||0===l.length)l=d.slice();else{let f=-1;for(let _=0;_<d.length;_++){const M=d[_];"number"==typeof M?f=M:0===f||Ct(l,f,M,null,-1===f||2===f?d[++_]:null)}}return l}function Ct(l,d,f,_,M){let j=0,ee=l.length;if(-1===d)ee=-1;else for(;j<l.length;){const Ee=l[j++];if("number"==typeof Ee){if(Ee===d){ee=-1;break}if(Ee>d){ee=j-1;break}}}for(;j<l.length;){const Ee=l[j];if("number"==typeof Ee)break;if(Ee===f){if(null===_)return void(null!==M&&(l[j+1]=M));if(_===l[j+1])return void(l[j+2]=M)}j++,null!==_&&j++,null!==M&&j++}-1!==ee&&(l.splice(ee,0,d),j=ee+1),l.splice(j++,0,f),null!==_&&l.splice(j++,0,_),null!==M&&l.splice(j++,0,M)}const Yt="ng-template";function Gt(l,d,f){let _=0,M=!0;for(;_<l.length;){let j=l[_++];if("string"==typeof j&&M){const ee=l[_++];if(f&&"class"===j&&-1!==St(ee.toLowerCase(),d,0))return!0}else{if(1===j){for(;_<l.length&&"string"==typeof(j=l[_++]);)if(j.toLowerCase()===d)return!0;return!1}"number"==typeof j&&(M=!1)}}return!1}function _n(l){return 4===l.type&&l.value!==Yt}function kt(l,d,f){return d===(4!==l.type||f?l.value:Yt)}function Ot(l,d,f){let _=4;const M=l.attrs||[],j=function ht(l){for(let d=0;d<l.length;d++)if(Xt(l[d]))return d;return l.length}(M);let ee=!1;for(let Ee=0;Ee<d.length;Ee++){const ke=d[Ee];if("number"!=typeof ke){if(!ee)if(4&_){if(_=2|1&_,""!==ke&&!kt(l,ke,f)||""===ke&&1===d.length){if(Bt(_))return!1;ee=!0}}else{const nt=8&_?ke:d[++Ee];if(8&_&&null!==l.attrs){if(!Gt(l.attrs,nt,f)){if(Bt(_))return!1;ee=!0}continue}const Rt=on(8&_?"class":ke,M,_n(l),f);if(-1===Rt){if(Bt(_))return!1;ee=!0;continue}if(""!==nt){let nn;nn=Rt>j?"":M[Rt+1].toLowerCase();const ln=8&_?nn:null;if(ln&&-1!==St(ln,nt,0)||2&_&&nt!==nn){if(Bt(_))return!1;ee=!0}}}}else{if(!ee&&!Bt(_)&&!Bt(ke))return!1;if(ee&&Bt(ke))continue;ee=!1,_=ke|1&_}}return Bt(_)||ee}function Bt(l){return 0==(1&l)}function on(l,d,f,_){if(null===d)return-1;let M=0;if(_||!f){let j=!1;for(;M<d.length;){const ee=d[M];if(ee===l)return M;if(3===ee||6===ee)j=!0;else{if(1===ee||2===ee){let Ee=d[++M];for(;"string"==typeof Ee;)Ee=d[++M];continue}if(4===ee)break;if(0===ee){M+=4;continue}}M+=j?1:2}return-1}return function rn(l,d){let f=l.indexOf(4);if(f>-1)for(f++;f<l.length;){const _=l[f];if("number"==typeof _)return-1;if(_===d)return f;f++}return-1}(d,l)}function bn(l,d,f=!1){for(let _=0;_<d.length;_++)if(Ot(l,d[_],f))return!0;return!1}function ve(l,d){e:for(let f=0;f<d.length;f++){const _=d[f];if(l.length===_.length){for(let M=0;M<l.length;M++)if(l[M]!==_[M])continue e;return!0}}return!1}function lt(l,d){return l?":not("+d.trim()+")":d}function it(l){let d=l[0],f=1,_=2,M="",j=!1;for(;f<l.length;){let ee=l[f];if("string"==typeof ee)if(2&_){const Ee=l[++f];M+="["+ee+(Ee.length>0?'="'+Ee+'"':"")+"]"}else 8&_?M+="."+ee:4&_&&(M+=" "+ee);else""!==M&&!Bt(ee)&&(d+=lt(j,M),M=""),_=ee,j=j||!Bt(_);f++}return""!==M&&(d+=lt(j,M)),d}function vn(l){return Zt(()=>{const d=ko(l),f={...d,decls:l.decls,vars:l.vars,template:l.template,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,onPush:l.changeDetection===wt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:d.standalone&&l.dependencies||null,getStandaloneInjector:null,signals:l.signals??!1,data:l.data||{},encapsulation:l.encapsulation||Ht.Emulated,styles:l.styles||tn,_:null,schemas:l.schemas||null,tView:null,id:""};$r(f);const _=l.dependencies;return f.directiveDefs=Qi(_,!1),f.pipeDefs=Qi(_,!0),f.id=function Xi(l){let d=0;const f=[l.selectors,l.ngContentSelectors,l.hostVars,l.hostAttrs,l.consts,l.vars,l.decls,l.encapsulation,l.standalone,l.signals,l.exportAs,JSON.stringify(l.inputs),JSON.stringify(l.outputs),Object.getOwnPropertyNames(l.type.prototype),!!l.contentQueries,!!l.viewQuery].join("|");for(const M of f)d=Math.imul(31,d)+M.charCodeAt(0)<<0;return d+=2147483648,"c"+d}(f),f})}function sr(l){return di(l)||er(l)}function Ti(l){return null!==l}function Li(l){return Zt(()=>({type:l.type,bootstrap:l.bootstrap||tn,declarations:l.declarations||tn,imports:l.imports||tn,exports:l.exports||tn,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null}))}function Tr(l,d){if(null==l)return en;const f={};for(const _ in l)if(l.hasOwnProperty(_)){let M=l[_],j=M;Array.isArray(M)&&(j=M[1],M=M[0]),f[M]=_,d&&(d[M]=j)}return f}function Ci(l){return Zt(()=>{const d=ko(l);return $r(d),d})}function Lr(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function di(l){return l[yn]||null}function er(l){return l[Tn]||null}function mr(l){return l[In]||null}function Ir(l){const d=di(l)||er(l)||mr(l);return null!==d&&d.standalone}function Zn(l,d){const f=l[kn]||null;if(!f&&!0===d)throw new Error(`Type ${v(l)} does not have '\u0275mod' property.`);return f}function ko(l){const d={};return{type:l.type,providersResolver:null,factory:null,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:d,inputTransforms:null,inputConfig:l.inputs||en,exportAs:l.exportAs||null,standalone:!0===l.standalone,signals:!0===l.signals,selectors:l.selectors||tn,viewQuery:l.viewQuery||null,features:l.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Tr(l.inputs,d),outputs:Tr(l.outputs)}}function $r(l){l.features?.forEach(d=>d(l))}function Qi(l,d){if(!l)return null;const f=d?mr:sr;return()=>("function"==typeof l?l():l).map(_=>f(_)).filter(Ti)}const si=0,Kn=1,ai=2,Ri=3,pr=4,tr=5,nr=6,Or=7,jt=8,hn=9,Pn=10,Rn=11,ei=12,Jn=13,oi=14,li=15,Ai=16,gr=17,xr=18,fr=19,Ma=20,qr=21,Pr=22,to=23,_o=24,Ei=25,ca=1,Ya=2,kr=7,Sr=9,Wi=11;function Bi(l){return Array.isArray(l)&&"object"==typeof l[ca]}function zi(l){return Array.isArray(l)&&!0===l[ca]}function hr(l){return 0!=(4&l.flags)}function lr(l){return l.componentOffset>-1}function io(l){return 1==(1&l.flags)}function Gi(l){return!!l.template}function ro(l){return 0!=(512&l[ai])}function We(l,d){return l.hasOwnProperty(qn)?l[qn]:null}let fi=Ze.WeakRef??class Wn{constructor(d){this.ref=d}deref(){return this.ref}},Go=0,ir=null,yo=!1;function Zi(l){const d=ir;return ir=l,d}class Qo{constructor(){this.id=Go++,this.ref=function Kr(l){return new fi(l)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[d,f]of this.producers){const _=f.producerNode.deref();if(null!=_&&f.atTrackingVersion===this.trackingVersion){if(_.producerPollStatus(f.seenValueVersion))return!0}else this.producers.delete(d),_?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const d=yo;yo=!0;try{for(const[f,_]of this.consumers){const M=_.consumerNode.deref();null!=M&&M.trackingVersion===_.atTrackingVersion?M.onConsumerDependencyMayHaveChanged():(this.consumers.delete(f),M?.producers.delete(this.id))}}finally{yo=d}}producerAccessed(){if(yo)throw new Error("");if(null===ir)return;let d=ir.producers.get(this.id);void 0===d?(d={consumerNode:ir.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:ir.trackingVersion},ir.producers.set(this.id,d),this.consumers.set(ir.id,d)):(d.seenValueVersion=this.valueVersion,d.atTrackingVersion=ir.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==ir?.consumerAllowSignalWrites}producerPollStatus(d){return this.valueVersion!==d||(this.onProducerUpdateValueVersion(),this.valueVersion!==d)}}let fs=null;function ms(l){const d=Zi(null);try{return l()}finally{Zi(d)}}const fl=()=>{};class bc extends Qo{constructor(d,f,_){super(),this.watch=d,this.schedule=f,this.dirty=!1,this.cleanupFn=fl,this.registerOnCleanup=M=>{this.cleanupFn=M},this.consumerAllowSignalWrites=_}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const d=Zi(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=fl,this.watch(this.registerOnCleanup)}finally{Zi(d)}}cleanup(){this.cleanupFn()}}class hl{constructor(d,f,_){this.previousValue=d,this.currentValue=f,this.firstChange=_}isFirstChange(){return this.firstChange}}function ps(){return ml}function ml(l){return l.type.prototype.ngOnChanges&&(l.setInput=Tc),Ec}function Ec(){const l=pl(this),d=l?.current;if(d){const f=l.previous;if(f===en)l.previous=d;else for(let _ in d)f[_]=d[_];l.current=null,this.ngOnChanges(d)}}function Tc(l,d,f,_){const M=this.declaredInputs[f],j=pl(l)||function qa(l,d){return l[jd]=d}(l,{previous:en,current:null}),ee=j.current||(j.current={}),Ee=j.previous,ke=Ee[M];ee[M]=new hl(ke&&ke.currentValue,d,Ee===en),l[_]=d}ps.ngInherit=!0;const jd="__ngSimpleChanges__";function pl(l){return l[jd]||null}const Ho=function(l,d,f){},Sc="svg";function or(l){for(;Array.isArray(l);)l=l[si];return l}function De(l,d){return or(d[l])}function gt(l,d){return or(d[l.index])}function pt(l,d){return l.data[d]}function Ut(l,d){return l[d]}function fn(l,d){const f=d[l];return Bi(f)?f:f[si]}function Mi(l,d){return null==d?null:l[d]}function Ni(l){l[gr]=0}function Di(l){1024&l[ai]||(l[ai]|=1024,Ui(l,1))}function ar(l){1024&l[ai]&&(l[ai]&=-1025,Ui(l,-1))}function Ui(l,d){let f=l[Ri];if(null===f)return;f[tr]+=d;let _=f;for(f=f[Ri];null!==f&&(1===d&&1===_[tr]||-1===d&&0===_[tr]);)f[tr]+=d,_=f,f=f[Ri]}const ii={lFrame:$d(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Vd(){return ii.bindingsEnabled}function ma(){return null!==ii.skipHydrationRootTNode}function Nn(){return ii.lFrame.lView}function wi(){return ii.lFrame.tView}function Dc(l){return ii.lFrame.contextLView=l,l[jt]}function Gf(l){return ii.lFrame.contextLView=null,l}function Nr(){let l=ta();for(;null!==l&&64===l.type;)l=l.parent;return l}function ta(){return ii.lFrame.currentTNode}function ks(){const l=ii.lFrame,d=l.currentTNode;return l.isParent?d:d.parent}function pa(l,d){const f=ii.lFrame;f.currentTNode=l,f.isParent=d}function Hd(){return ii.lFrame.isParent}function Hf(){ii.lFrame.isParent=!1}function ao(){const l=ii.lFrame;let d=l.bindingRootIndex;return-1===d&&(d=l.bindingRootIndex=l.tView.bindingStartIndex),d}function Qa(){return ii.lFrame.bindingIndex++}function ga(l){const d=ii.lFrame,f=d.bindingIndex;return d.bindingIndex=d.bindingIndex+l,f}function Yf(l){ii.lFrame.inI18n=l}function ug(l,d){const f=ii.lFrame;f.bindingIndex=f.bindingRootIndex=l,Kd(d)}function Kd(l){ii.lFrame.currentDirectiveIndex=l}function yl(l){const d=ii.lFrame.currentDirectiveIndex;return-1===d?null:l[d]}function Wd(){return ii.lFrame.currentQueryIndex}function xc(l){ii.lFrame.currentQueryIndex=l}function Wf(l){const d=l[Kn];return 2===d.type?d.declTNode:1===d.type?l[nr]:null}function zd(l,d,f){if(f&de.SkipSelf){let M=d,j=l;for(;!(M=M.parent,null!==M||f&de.Host||(M=Wf(j),null===M||(j=j[oi],10&M.type))););if(null===M)return!1;d=M,l=j}const _=ii.lFrame=Zd();return _.currentTNode=d,_.lView=l,!0}function Mc(l){const d=Zd(),f=l[Kn];ii.lFrame=d,d.currentTNode=f.firstChild,d.lView=l,d.tView=f,d.contextLView=l,d.bindingIndex=f.bindingStartIndex,d.inI18n=!1}function Zd(){const l=ii.lFrame,d=null===l?null:l.child;return null===d?$d(l):d}function $d(l){const d={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=d),d}function qd(){const l=ii.lFrame;return ii.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const Ac=qd;function wc(){const l=qd();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function so(){return ii.lFrame.selectedIndex}function gs(l){ii.lFrame.selectedIndex=l}function _r(){const l=ii.lFrame;return pt(l.tView,l.selectedIndex)}function zf(){ii.lFrame.currentNamespace=Sc}function Fe(){!function se(){ii.lFrame.currentNamespace=null}()}let rt=!0;function Mt(){return rt}function xt(l){rt=l}function Ln(l,d){for(let f=d.directiveStart,_=d.directiveEnd;f<_;f++){const j=l.data[f].type.prototype,{ngAfterContentInit:ee,ngAfterContentChecked:Ee,ngAfterViewInit:ke,ngAfterViewChecked:nt,ngOnDestroy:Tt}=j;ee&&(l.contentHooks??=[]).push(-f,ee),Ee&&((l.contentHooks??=[]).push(f,Ee),(l.contentCheckHooks??=[]).push(f,Ee)),ke&&(l.viewHooks??=[]).push(-f,ke),nt&&((l.viewHooks??=[]).push(f,nt),(l.viewCheckHooks??=[]).push(f,nt)),null!=Tt&&(l.destroyHooks??=[]).push(f,Tt)}}function ti(l,d,f){lo(l,d,3,f)}function ni(l,d,f,_){(3&l[ai])===f&&lo(l,d,f,_)}function Hi(l,d){let f=l[ai];(3&f)===d&&(f&=8191,f+=1,l[ai]=f)}function lo(l,d,f,_){const j=_??-1,ee=d.length-1;let Ee=0;for(let ke=void 0!==_?65535&l[gr]:0;ke<ee;ke++)if("number"==typeof d[ke+1]){if(Ee=d[ke],null!=_&&Ee>=_)break}else d[ke]<0&&(l[gr]+=65536),(Ee<j||-1==j)&&(Fs(l,f,d,ke),l[gr]=(4294901760&l[gr])+ke+2),ke++}function bl(l,d){Ho(4,l,d);const f=Zi(null);try{d.call(l)}finally{Zi(f),Ho(5,l,d)}}function Fs(l,d,f,_){const M=f[_]<0,j=f[_+1],Ee=l[M?-f[_]:f[_]];M?l[ai]>>13<l[gr]>>16&&(3&l[ai])===d&&(l[ai]+=8192,bl(Ee,j)):bl(Ee,j)}const na=-1;class Xa{constructor(d,f,_){this.factory=d,this.resolving=!1,this.canSeeViewProviders=f,this.injectImpl=_}}function Jd(l){return l!==na}function Qd(l){return 32767&l}function Xd(l,d){let f=function Vb(l){return l>>16}(l),_=d;for(;f>0;)_=_[oi],f--;return _}let $f=!0;function eu(l){const d=$f;return $f=l,d}const mg=255,pg=5;let Gb=0;const Pa={};function tu(l,d){const f=Yb(l,d);if(-1!==f)return f;const _=d[Kn];_.firstCreatePass&&(l.injectorIndex=d.length,gg(_.data,l),gg(d,null),gg(_.blueprint,null));const M=_g(l,d),j=l.injectorIndex;if(Jd(M)){const ee=Qd(M),Ee=Xd(M,d),ke=Ee[Kn].data;for(let nt=0;nt<8;nt++)d[j+nt]=Ee[ee+nt]|ke[ee+nt]}return d[j+8]=M,j}function gg(l,d){l.push(0,0,0,0,0,0,0,0,d)}function Yb(l,d){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===d[l.injectorIndex+8]?-1:l.injectorIndex}function _g(l,d){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let f=0,_=null,M=d;for(;null!==M;){if(_=yg(M),null===_)return na;if(f++,M=M[oi],-1!==_.injectorIndex)return _.injectorIndex|f<<16}return na}function qf(l,d,f){!function Hb(l,d,f){let _;"string"==typeof f?_=f.charCodeAt(0)||0:f.hasOwnProperty(ui)&&(_=f[ui]),null==_&&(_=f[ui]=Gb++);const M=_&mg;d.data[l+(M>>pg)]|=1<<M}(l,d,f)}function Kb(l,d,f){if(f&de.Optional||void 0!==l)return l;Re()}function Wb(l,d,f,_){if(f&de.Optional&&void 0===_&&(_=null),!(f&(de.Self|de.Host))){const M=l[hn],j=Ce(void 0);try{return M?M.get(d,_,f&de.Optional):Ye(d,_,f&de.Optional)}finally{Ce(j)}}return Kb(_,0,f)}function zb(l,d,f,_=de.Default,M){if(null!==l){if(2048&d[ai]&&!(_&de.Self)){const ee=function wx(l,d,f,_,M){let j=l,ee=d;for(;null!==j&&null!==ee&&2048&ee[ai]&&!(512&ee[ai]);){const Ee=Zb(j,ee,f,_|de.Self,Pa);if(Ee!==Pa)return Ee;let ke=j.parent;if(!ke){const nt=ee[Ma];if(nt){const Tt=nt.get(f,Pa,_);if(Tt!==Pa)return Tt}ke=yg(ee),ee=ee[oi]}j=ke}return M}(l,d,f,_,Pa);if(ee!==Pa)return ee}const j=Zb(l,d,f,_,Pa);if(j!==Pa)return j}return Wb(d,f,_,M)}function Zb(l,d,f,_,M){const j=function Mx(l){if("string"==typeof l)return l.charCodeAt(0)||0;const d=l.hasOwnProperty(ui)?l[ui]:void 0;return"number"==typeof d?d>=0?d&mg:Ax:d}(f);if("function"==typeof j){if(!zd(d,l,_))return _&de.Host?Kb(M,0,_):Wb(d,f,_,M);try{const ee=j(_);if(null!=ee||_&de.Optional)return ee;Re()}finally{Ac()}}else if("number"==typeof j){let ee=null,Ee=Yb(l,d),ke=na,nt=_&de.Host?d[li][nr]:null;for((-1===Ee||_&de.SkipSelf)&&(ke=-1===Ee?_g(l,d):d[Ee+8],ke!==na&&vg(_,!1)?(ee=d[Kn],Ee=Qd(ke),d=Xd(ke,d)):Ee=-1);-1!==Ee;){const Tt=d[Kn];if($b(j,Ee,Tt.data)){const Rt=xx(Ee,d,f,ee,_,nt);if(Rt!==Pa)return Rt}ke=d[Ee+8],ke!==na&&vg(_,d[Kn].data[Ee+8]===nt)&&$b(j,Ee,d)?(ee=Tt,Ee=Qd(ke),d=Xd(ke,d)):Ee=-1}}return M}function xx(l,d,f,_,M,j){const ee=d[Kn],Ee=ee.data[l+8],Tt=nu(Ee,ee,f,null==_?lr(Ee)&&$f:_!=ee&&0!=(3&Ee.type),M&de.Host&&j===Ee);return null!==Tt?Bs(d,ee,Tt,Ee):Pa}function nu(l,d,f,_,M){const j=l.providerIndexes,ee=d.data,Ee=1048575&j,ke=l.directiveStart,Tt=j>>20,nn=M?Ee+Tt:l.directiveEnd;for(let ln=_?Ee:Ee+Tt;ln<nn;ln++){const xn=ee[ln];if(ln<ke&&f===xn||ln>=ke&&xn.type===f)return ln}if(M){const ln=ee[ke];if(ln&&Gi(ln)&&ln.type===f)return ke}return null}function Bs(l,d,f,_){let M=l[f];const j=d.data;if(function El(l){return l instanceof Xa}(M)){const ee=M;ee.resolving&&function Y(l,d){const f=d?`. Dependency path: ${d.join(" > ")} > ${l}`:"";throw new T(-200,`Circular dependency in DI detected for ${l}${f}`)}(function B(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():S(l)}(j[f]));const Ee=eu(ee.canSeeViewProviders);ee.resolving=!0;const ke=ee.injectImpl?Ce(ee.injectImpl):null;zd(l,_,de.Default);try{M=l[f]=ee.factory(void 0,j,l,_),d.firstCreatePass&&f>=_.directiveStart&&function an(l,d,f){const{ngOnChanges:_,ngOnInit:M,ngDoCheck:j}=d.type.prototype;if(_){const ee=ml(d);(f.preOrderHooks??=[]).push(l,ee),(f.preOrderCheckHooks??=[]).push(l,ee)}M&&(f.preOrderHooks??=[]).push(0-l,M),j&&((f.preOrderHooks??=[]).push(l,j),(f.preOrderCheckHooks??=[]).push(l,j))}(f,j[f],d)}finally{null!==ke&&Ce(ke),eu(Ee),ee.resolving=!1,Ac()}}return M}function $b(l,d,f){return!!(f[d+(l>>pg)]&1<<l)}function vg(l,d){return!(l&de.Self||l&de.Host&&d)}class Tl{constructor(d,f){this._tNode=d,this._lView=f}get(d,f,_){return zb(this._tNode,this._lView,d,st(_),f)}}function Ax(){return new Tl(Nr(),Nn())}function qb(l){return Zt(()=>{const d=l.prototype.constructor,f=d[qn]||Jf(d),_=Object.prototype;let M=Object.getPrototypeOf(l.prototype).constructor;for(;M&&M!==_;){const j=M[qn]||Jf(M);if(j&&j!==f)return j;M=Object.getPrototypeOf(M)}return j=>new j})}function Jf(l){return k(l)?()=>{const d=Jf(V(l));return d&&d()}:We(l)}function yg(l){const d=l[Kn],f=d.type;return 2===f?d.declTNode:1===f?l[nr]:null}function Qf(l){return function Dx(l,d){if("class"===d)return l.classes;if("style"===d)return l.styles;const f=l.attrs;if(f){const _=f.length;let M=0;for(;M<_;){const j=f[M];if(Xt(j))break;if(0===j)M+=2;else if("number"==typeof j)for(M++;M<_&&"string"==typeof f[M];)M++;else{if(j===d)return f[M+1];M+=2}}}return null}(Nr(),l)}const Oc="__parameters__";function Ur(l,d,f){return Zt(()=>{const _=function Eg(l){return function(...f){if(l){const _=l(...f);for(const M in _)this[M]=_[M]}}}(d);function M(...j){if(this instanceof M)return _.apply(this,j),this;const ee=new M(...j);return Ee.annotation=ee,Ee;function Ee(ke,nt,Tt){const Rt=ke.hasOwnProperty(Oc)?ke[Oc]:Object.defineProperty(ke,Oc,{value:[]})[Oc];for(;Rt.length<=Tt;)Rt.push(null);return(Rt[Tt]=Rt[Tt]||[]).push(ee),ke}}return f&&(M.prototype=Object.create(f.prototype)),M.prototype.ngMetadataName=l,M.annotationCls=M,M})}function Rc(l,d){l.forEach(f=>Array.isArray(f)?Rc(f,d):d(f))}function Sg(l,d,f){d>=l.length?l.push(f):l.splice(d,0,f)}function _s(l,d){return d>=l.length-1?l.pop():l.splice(d,1)[0]}function Wr(l,d){const f=[];for(let _=0;_<l;_++)f.push(d);return f}function Ao(l,d,f){let _=vs(l,d);return _>=0?l[1|_]=f:(_=~_,function Xf(l,d,f,_){let M=l.length;if(M==d)l.push(f,_);else if(1===M)l.push(_,l[0]),l[0]=f;else{for(M--,l.push(l[M-1],l[M]);M>d;)l[M]=l[M-2],M--;l[d]=f,l[d+1]=_}}(l,_,d,f)),_}function th(l,d){const f=vs(l,d);if(f>=0)return l[1|f]}function vs(l,d){return function nh(l,d,f){let _=0,M=l.length>>f;for(;M!==_;){const j=_+(M-_>>1),ee=l[j<<f];if(d===ee)return j<<f;ee>d?M=j:_=j+1}return~(M<<f)}(l,d,1)}const Nc=Dt(Ur("Optional"),8),ou=Dt(Ur("SkipSelf"),4);function Gs(l){return 128==(128&l.flags)}var fu=function(l){return l[l.Important=1]="Important",l[l.DashCase=2]="DashCase",l}(fu||{});const fE=/^>|^->|<!--|-->|--!>|<!-$/g,cr=/(<|>)/,hE="\u200b$1\u200b";const sh=new Map;let lh=0;const pu="__ngContext__";function Jr(l,d){Bi(d)?(l[pu]=d[fr],function Fg(l){sh.set(l[fr],l)}(d)):l[pu]=d}let hh;function gu(l,d){return hh(l,d)}function Il(l){const d=l[Ri];return zi(d)?d[Ri]:d}function Wg(l){return zg(l[ei])}function mh(l){return zg(l[pr])}function zg(l){for(;null!==l&&!zi(l);)l=l[pr];return l}function Ol(l,d,f,_,M){if(null!=_){let j,ee=!1;zi(_)?j=_:Bi(_)&&(ee=!0,_=_[si]);const Ee=or(_);0===l&&null!==f?null==M?CE(d,f,Ee):Pl(d,f,Ee,M||null,!0):1===l&&null!==f?Pl(d,f,Ee,M||null,!0):2===l?function bu(l,d,f){const _=dr(l,d);_&&function Qx(l,d,f,_){l.removeChild(d,f,_)}(l,_,d,f)}(d,Ee,ee):3===l&&d.destroyNode(Ee),null!=j&&function Uc(l,d,f,_,M){const j=f[kr];j!==or(f)&&Ol(d,l,_,j,M);for(let Ee=Wi;Ee<f.length;Ee++){const ke=f[Ee];Bc(ke[Kn],ke,l,d,_,j)}}(d,l,j,f,M)}}function ph(l,d){return l.createText(d)}function Zg(l,d){return l.createComment(function hu(l){return l.replace(fE,d=>d.replace(cr,hE))}(d))}function gh(l,d,f){return l.createElement(d,f)}function EE(l,d){const f=l[Sr],_=f.indexOf(d);ar(d),f.splice(_,1)}function $g(l,d){if(l.length<=Wi)return;const f=Wi+d,_=l[f];if(_){const M=_[Ai];null!==M&&M!==l&&EE(M,_),d>0&&(l[f-1][pr]=_[pr]);const j=_s(l,Wi+d);!function Yx(l,d){Bc(l,d,d[Rn],2,null,null),d[si]=null,d[nr]=null}(_[Kn],_);const ee=j[xr];null!==ee&&ee.detachView(j[Kn]),_[Ri]=null,_[pr]=null,_[ai]&=-129}return _}function TE(l,d){if(!(256&d[ai])){const f=d[Rn];d[to]?.destroy(),d[_o]?.destroy(),f.destroyNode&&Bc(l,d,f,3,null,null),function zx(l){let d=l[ei];if(!d)return _h(l[Kn],l);for(;d;){let f=null;if(Bi(d))f=d[ei];else{const _=d[Wi];_&&(f=_)}if(!f){for(;d&&!d[pr]&&d!==l;)Bi(d)&&_h(d[Kn],d),d=d[Ri];null===d&&(d=l),Bi(d)&&_h(d[Kn],d),f=d&&d[pr]}d=f}}(d)}}function _h(l,d){if(!(256&d[ai])){d[ai]&=-129,d[ai]|=256,function Jx(l,d){let f;if(null!=l&&null!=(f=l.destroyHooks))for(let _=0;_<f.length;_+=2){const M=d[f[_]];if(!(M instanceof Xa)){const j=f[_+1];if(Array.isArray(j))for(let ee=0;ee<j.length;ee+=2){const Ee=M[j[ee]],ke=j[ee+1];Ho(4,Ee,ke);try{ke.call(Ee)}finally{Ho(5,Ee,ke)}}else{Ho(4,M,j);try{j.call(M)}finally{Ho(5,M,j)}}}}}(l,d),function qx(l,d){const f=l.cleanup,_=d[Or];if(null!==f)for(let j=0;j<f.length-1;j+=2)if("string"==typeof f[j]){const ee=f[j+3];ee>=0?_[ee]():_[-ee].unsubscribe(),j+=2}else f[j].call(_[f[j+1]]);null!==_&&(d[Or]=null);const M=d[qr];if(null!==M){d[qr]=null;for(let j=0;j<M.length;j++)(0,M[j])()}}(l,d),1===d[Kn].type&&d[Rn].destroy();const f=d[Ai];if(null!==f&&zi(d[Ri])){f!==d[Ri]&&EE(f,d);const _=d[xr];null!==_&&_.detachView(l)}!function dh(l){sh.delete(l[fr])}(d)}}function qg(l,d,f){return SE(l,d.parent,f)}function SE(l,d,f){let _=d;for(;null!==_&&40&_.type;)_=(d=_).parent;if(null===_)return f[si];{const{componentOffset:M}=_;if(M>-1){const{encapsulation:j}=l.data[_.directiveStart+M];if(j===Ht.None||j===Ht.Emulated)return null}return gt(_,f)}}function Pl(l,d,f,_,M){l.insertBefore(d,f,_,M)}function CE(l,d,f){l.appendChild(d,f)}function vh(l,d,f,_,M){null!==_?Pl(l,d,f,_,M):CE(l,d,f)}function dr(l,d){return l.parentNode(d)}function bh(l,d,f){return Jg(l,d,f)}function _u(l,d,f){return 40&l.type?gt(l,f):null}let Eh,Vc,t_,Ch,Jg=_u;function vu(l,d){Jg=l,Eh=d}function Th(l,d,f,_){const M=qg(l,_,d),j=d[Rn],Ee=bh(_.parent||d[nr],_,d);if(null!=M)if(Array.isArray(f))for(let ke=0;ke<f.length;ke++)vh(j,M,f[ke],Ee,!1);else vh(j,M,f,Ee,!1);void 0!==Eh&&Eh(j,_,d,f,M)}function es(l,d){if(null!==d){const f=d.type;if(3&f)return gt(d,l);if(4&f)return yu(-1,l[d.index]);if(8&f){const _=d.child;if(null!==_)return es(l,_);{const M=l[d.index];return zi(M)?yu(-1,M):or(M)}}if(32&f)return gu(d,l)()||or(l[d.index]);{const _=Fc(l,d);return null!==_?Array.isArray(_)?_[0]:es(Il(l[li]),_):es(l,d.next)}}return null}function Fc(l,d){return null!==d?l[li][nr].projection[d.projection]:null}function yu(l,d){const f=Wi+l+1;if(f<d.length){const _=d[f],M=_[Kn].firstChild;if(null!==M)return es(_,M)}return d[kr]}function Sh(l,d,f,_,M,j,ee){for(;null!=f;){const Ee=_[f.index],ke=f.type;if(ee&&0===d&&(Ee&&Jr(or(Ee),_),f.flags|=2),32!=(32&f.flags))if(8&ke)Sh(l,d,f.child,_,M,j,!1),Ol(d,l,M,Ee,j);else if(32&ke){const nt=gu(f,_);let Tt;for(;Tt=nt();)Ol(d,l,M,Tt,j);Ol(d,l,M,Ee,j)}else 16&ke?ys(l,d,_,f,M,j):Ol(d,l,M,Ee,j);f=ee?f.projectionNext:f.next}}function Bc(l,d,f,_,M,j){Sh(f,_,l.firstChild,d,M,j,!1)}function ys(l,d,f,_,M,j){const ee=f[li],ke=ee[nr].projection[_.projection];if(Array.isArray(ke))for(let nt=0;nt<ke.length;nt++)Ol(d,l,M,ke[nt],j);else{let nt=ke;const Tt=ee[Ri];Gs(_)&&(nt.flags|=128),Sh(l,d,nt,Tt,M,j,!0)}}function jc(l,d,f){""===f?l.removeAttribute(d,"class"):l.setAttribute(d,"class",f)}function bs(l,d,f){const{mergedAttrs:_,classes:M,styles:j}=f;null!==_&&at(l,d,_),null!==M&&jc(l,d,M),null!==j&&function Xg(l,d,f){l.setAttribute(d,"style",f)}(l,d,j)}function Gc(l){return function e_(){if(void 0===Vc&&(Vc=null,Ze.trustedTypes))try{Vc=Ze.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return Vc}()?.createHTML(l)||l}function nM(l){t_=l}function Tu(){if(void 0!==t_)return t_;if(typeof document<"u")return document;throw new T(210,!1)}function n_(){if(void 0===Ch&&(Ch=null,Ze.trustedTypes))try{Ch=Ze.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return Ch}function DE(l){return n_()?.createHTML(l)||l}function ME(l){return n_()?.createScriptURL(l)||l}class Nl{constructor(d){this.changingThisBreaksApplicationSecurity=d}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${w})`}}class iM extends Nl{getTypeName(){return"HTML"}}class AE extends Nl{getTypeName(){return"Style"}}class wE extends Nl{getTypeName(){return"Script"}}class rM extends Nl{getTypeName(){return"URL"}}class i_ extends Nl{getTypeName(){return"ResourceURL"}}function Na(l){return l instanceof Nl?l.changingThisBreaksApplicationSecurity:l}function ts(l,d){const f=function IE(l){return l instanceof Nl&&l.getTypeName()||null}(l);if(null!=f&&f!==d){if("ResourceURL"===f&&"URL"===d)return!0;throw new Error(`Required a safe ${d}, got a ${f} (see ${w})`)}return f===d}function Su(l){return new iM(l)}function oM(l){return new AE(l)}function OE(l){return new wE(l)}function Hs(l){return new rM(l)}function aM(l){return new i_(l)}function r_(l){const d=new PE(l);return function RE(){try{return!!(new window.DOMParser).parseFromString(Gc(""),"text/html")}catch{return!1}}()?new uo(d):d}class uo{constructor(d){this.inertDocumentHelper=d}getInertBodyElement(d){d="<body><remove></remove>"+d;try{const f=(new window.DOMParser).parseFromString(Gc(d),"text/html").body;return null===f?this.inertDocumentHelper.getInertBodyElement(d):(f.removeChild(f.firstChild),f)}catch{return null}}}class PE{constructor(d){this.defaultDoc=d,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(d){const f=this.inertDocument.createElement("template");return f.innerHTML=Gc(d),f}}const NE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ll(l){return(l=String(l)).match(NE)?l:"unsafe:"+l}function ns(l){const d={};for(const f of l.split(","))d[f]=!0;return d}function Hc(...l){const d={};for(const f of l)for(const _ in f)f.hasOwnProperty(_)&&(d[_]=!0);return d}const o_=ns("area,br,col,hr,img,wbr"),a_=ns("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Eo=ns("rp,rt"),Dh=Hc(o_,Hc(a_,ns("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hc(Eo,ns("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hc(Eo,a_)),Cu=ns("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ys=Hc(Cu,ns("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ns("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),xu=ns("script,style,template");class kE{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(d){let f=d.firstChild,_=!0;for(;f;)if(f.nodeType===Node.ELEMENT_NODE?_=this.startElement(f):f.nodeType===Node.TEXT_NODE?this.chars(f.nodeValue):this.sanitizedSomething=!0,_&&f.firstChild)f=f.firstChild;else for(;f;){f.nodeType===Node.ELEMENT_NODE&&this.endElement(f);let M=this.checkClobberedElement(f,f.nextSibling);if(M){f=M;break}f=this.checkClobberedElement(f,f.parentNode)}return this.buf.join("")}startElement(d){const f=d.nodeName.toLowerCase();if(!Dh.hasOwnProperty(f))return this.sanitizedSomething=!0,!xu.hasOwnProperty(f);this.buf.push("<"),this.buf.push(f);const _=d.attributes;for(let M=0;M<_.length;M++){const j=_.item(M),ee=j.name,Ee=ee.toLowerCase();if(!Ys.hasOwnProperty(Ee)){this.sanitizedSomething=!0;continue}let ke=j.value;Cu[Ee]&&(ke=Ll(ke)),this.buf.push(" ",ee,'="',s_(ke),'"')}return this.buf.push(">"),!0}endElement(d){const f=d.nodeName.toLowerCase();Dh.hasOwnProperty(f)&&!o_.hasOwnProperty(f)&&(this.buf.push("</"),this.buf.push(f),this.buf.push(">"))}chars(d){this.buf.push(s_(d))}checkClobberedElement(d,f){if(f&&(d.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${d.outerHTML}`);return f}}const FE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,BE=/([^\#-~ |!])/g;function s_(l){return l.replace(/&/g,"&amp;").replace(FE,function(d){return"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";"}).replace(BE,function(d){return"&#"+d.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let kl;function UE(l,d){let f=null;try{kl=kl||r_(l);let _=d?String(d):"";f=kl.getInertBodyElement(_);let M=5,j=_;do{if(0===M)throw new Error("Failed to sanitize html because the input is unstable");M--,_=j,j=f.innerHTML,f=kl.getInertBodyElement(_)}while(_!==j);return Gc((new kE).sanitizeChildren(l_(f)||f))}finally{if(f){const _=l_(f)||f;for(;_.firstChild;)_.removeChild(_.firstChild)}}}function l_(l){return"content"in l&&function jE(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var Ks=function(l){return l[l.NONE=0]="NONE",l[l.HTML=1]="HTML",l[l.STYLE=2]="STYLE",l[l.SCRIPT=3]="SCRIPT",l[l.URL=4]="URL",l[l.RESOURCE_URL=5]="RESOURCE_URL",l}(Ks||{});function xh(l){const d=Yc();return d?DE(d.sanitize(Ks.HTML,l)||""):ts(l,"HTML")?DE(Na(l)):UE(Tu(),S(l))}function Mu(l){const d=Yc();return d?d.sanitize(Ks.URL,l)||"":ts(l,"URL")?Na(l):Ll(S(l))}function Mh(l){const d=Yc();if(d)return ME(d.sanitize(Ks.RESOURCE_URL,l)||"");if(ts(l,"ResourceURL"))return ME(Na(l));throw new T(904,!1)}function VE(l,d,f){return function dM(l,d){return"src"===d&&("embed"===l||"frame"===l||"iframe"===l||"media"===l||"script"===l)||"href"===d&&("base"===l||"link"===l)?Mh:Mu}(d,f)(l)}function Yc(){const l=Nn();return l&&l[Pn].sanitizer}class qi{constructor(d,f){this._desc=d,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof f?this.__NG_ELEMENT_ID__=f:void 0!==f&&(this.\u0275prov=Ae({token:this,providedIn:f.providedIn||"root",factory:f.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Kc=new qi("ENVIRONMENT_INITIALIZER"),Ah=new qi("INJECTOR",-1),h_=new qi("INJECTOR_DEF_TYPES");class GE{get(d,f=It){if(f===It){const _=new Error(`NullInjectorError: No provider for ${v(d)}!`);throw _.name="NullInjectorError",_}return f}}function m_(l){return{\u0275providers:l}}function hM(...l){return{\u0275providers:HE(0,l),\u0275fromNgModule:!0}}function HE(l,...d){const f=[],_=new Set;let M;return Rc(d,j=>{const ee=j;wh(ee,f,[],_)&&(M||=[],M.push(ee))}),void 0!==M&&YE(M,f),f}function YE(l,d){for(let f=0;f<l.length;f++){const{providers:M}=l[f];p_(M,j=>{d.push(j)})}}function wh(l,d,f,_){if(!(l=V(l)))return!1;let M=null,j=W(l);const ee=!j&&di(l);if(j||ee){if(ee&&!ee.standalone)return!1;M=l}else{const ke=l.ngModule;if(j=W(ke),!j)return!1;M=ke}const Ee=_.has(M);if(ee){if(Ee)return!1;if(_.add(M),ee.dependencies){const ke="function"==typeof ee.dependencies?ee.dependencies():ee.dependencies;for(const nt of ke)wh(nt,d,f,_)}}else{if(!j)return!1;{if(null!=j.imports&&!Ee){let nt;_.add(M);try{Rc(j.imports,Tt=>{wh(Tt,d,f,_)&&(nt||=[],nt.push(Tt))})}finally{}void 0!==nt&&YE(nt,d)}if(!Ee){const nt=We(M)||(()=>new M);d.push({provide:M,useFactory:nt,deps:tn},{provide:h_,useValue:M,multi:!0},{provide:Kc,useValue:()=>xe(M),multi:!0})}const ke=j.providers;null==ke||Ee||p_(ke,Tt=>{d.push(Tt)})}}return M!==l&&void 0!==l.providers}function p_(l,d){for(let f of l)R(f)&&(f=f.\u0275providers),Array.isArray(f)?p_(f,d):d(f)}const KE=h({provide:String,useValue:h});function g_(l){return null!==l&&"object"==typeof l&&KE in l}function Ws(l){return"function"==typeof l}const v_=new qi("Set Injector scope."),Ih={},mM={};let y_;function Oh(){return void 0===y_&&(y_=new GE),y_}class Fl{}class b_ extends Fl{get destroyed(){return this._destroyed}constructor(d,f,_,M){super(),this.parent=f,this.source=_,this.scopes=M,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,T_(d,ee=>this.processProvider(ee)),this.records.set(Ah,Wc(void 0,this)),M.has("environment")&&this.records.set(Fl,Wc(void 0,this));const j=this.records.get(v_);null!=j&&"string"==typeof j.value&&this.scopes.add(j.value),this.injectorDefTypes=new Set(this.get(h_.multi,tn,de.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const f of this._ngOnDestroyHooks)f.ngOnDestroy();const d=this._onDestroyHooks;this._onDestroyHooks=[];for(const f of d)f()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(d){return this.assertNotDestroyed(),this._onDestroyHooks.push(d),()=>this.removeOnDestroy(d)}runInContext(d){this.assertNotDestroyed();const f=ot(this),_=Ce(void 0);try{return d()}finally{ot(f),Ce(_)}}get(d,f=It,_=de.Default){if(this.assertNotDestroyed(),d.hasOwnProperty(Ft))return d[Ft](this);_=st(_);const M=ot(this),j=Ce(void 0);try{if(!(_&de.SkipSelf)){let Ee=this.records.get(d);if(void 0===Ee){const ke=function _M(l){return"function"==typeof l||"object"==typeof l&&l instanceof qi}(d)&&ie(d);Ee=ke&&this.injectableDefInScope(ke)?Wc(E_(d),Ih):null,this.records.set(d,Ee)}if(null!=Ee)return this.hydrate(d,Ee)}return(_&de.Self?Oh():this.parent).get(d,f=_&de.Optional&&f===It?null:f)}catch(ee){if("NullInjectorError"===ee.name){if((ee[Pt]=ee[Pt]||[]).unshift(v(d)),M)throw ee;return function bt(l,d,f,_){const M=l[Pt];throw d[dn]&&M.unshift(d[dn]),l.message=function Nt(l,d,f,_=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.slice(2):l;let M=v(d);if(Array.isArray(d))M=d.map(v).join(" -> ");else if("object"==typeof d){let j=[];for(let ee in d)if(d.hasOwnProperty(ee)){let Ee=d[ee];j.push(ee+":"+("string"==typeof Ee?JSON.stringify(Ee):v(Ee)))}M=`{${j.join(", ")}}`}return`${f}${_?"("+_+")":""}[${M}]: ${l.replace($t,"\n  ")}`}("\n"+l.message,M,f,_),l.ngTokenPath=M,l[Pt]=null,l}(ee,d,"R3InjectorError",this.source)}throw ee}finally{Ce(j),ot(M)}}resolveInjectorInitializers(){const d=ot(this),f=Ce(void 0);try{const _=this.get(Kc.multi,tn,de.Self);for(const M of _)M()}finally{ot(d),Ce(f)}}toString(){const d=[],f=this.records;for(const _ of f.keys())d.push(v(_));return`R3Injector[${d.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(d){let f=Ws(d=V(d))?d:V(d&&d.provide);const _=function pM(l){return g_(l)?Wc(void 0,l.useValue):Wc($E(l),Ih)}(d);if(Ws(d)||!0!==d.multi)this.records.get(f);else{let M=this.records.get(f);M||(M=Wc(void 0,Ih,!0),M.factory=()=>mt(M.multi),this.records.set(f,M)),f=d,M.multi.push(d)}this.records.set(f,_)}hydrate(d,f){return f.value===Ih&&(f.value=mM,f.value=f.factory()),"object"==typeof f.value&&f.value&&function qE(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(f.value)&&this._ngOnDestroyHooks.add(f.value),f.value}injectableDefInScope(d){if(!d.providedIn)return!1;const f=V(d.providedIn);return"string"==typeof f?"any"===f||this.scopes.has(f):this.injectorDefTypes.has(f)}removeOnDestroy(d){const f=this._onDestroyHooks.indexOf(d);-1!==f&&this._onDestroyHooks.splice(f,1)}}function E_(l){const d=ie(l),f=null!==d?d.factory:We(l);if(null!==f)return f;if(l instanceof qi)throw new T(204,!1);if(l instanceof Function)return function ZE(l){const d=l.length;if(d>0)throw Wr(d,"?"),new T(204,!1);const f=function Z(l){return l&&(l[X]||l[q])||null}(l);return null!==f?()=>f.factory(l):()=>new l}(l);throw new T(204,!1)}function $E(l,d,f){let _;if(Ws(l)){const M=V(l);return We(M)||E_(M)}if(g_(l))_=()=>V(l.useValue);else if(function __(l){return!(!l||!l.useFactory)}(l))_=()=>l.useFactory(...mt(l.deps||[]));else if(function WE(l){return!(!l||!l.useExisting)}(l))_=()=>xe(V(l.useExisting));else{const M=V(l&&(l.useClass||l.provide));if(!function gM(l){return!!l.deps}(l))return We(M)||E_(M);_=()=>new M(...mt(l.deps))}return _}function Wc(l,d,f=!1){return{factory:l,value:d,multi:f?[]:void 0}}function T_(l,d){for(const f of l)Array.isArray(f)?T_(f,d):f&&R(f)?T_(f.\u0275providers,d):d(f)}const S_=new qi("AppId",{providedIn:"root",factory:()=>vM}),vM="ng",JE=new qi("Platform Initializer"),Ph=new qi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),yM=new qi("AnimationModuleType"),bM=new qi("CSP nonce",{providedIn:"root",factory:()=>Tu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let XE=(l,d)=>null;function tT(l,d){return XE(l,d)}class iT{}class P_{}class rT{resolveComponentFactory(d){throw function Qr(l){const d=Error(`No component factory found for ${v(l)}.`);return d.ngComponent=l,d}(d)}}let Zc=(()=>{class l{static#e=this.NULL=new rT}return l})();function fo(){return is(Nr(),Nn())}function is(l,d){return new $c(gt(l,d))}let $c=(()=>{class l{constructor(f){this.nativeElement=f}static#e=this.__NG_ELEMENT_ID__=fo}return l})();function wo(l){return l instanceof $c?l.nativeElement:l}class jr{}let pi=(()=>{class l{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function oT(){const l=Nn(),f=fn(Nr().index,l);return(Bi(f)?f:l)[Rn]}()}return l})(),aT=(()=>{class l{static#e=this.\u0275prov=Ae({token:l,providedIn:"root",factory:()=>null})}return l})();class R_{constructor(d){this.full=d,this.major=d.split(".")[0],this.minor=d.split(".")[1],this.patch=d.split(".").slice(2).join(".")}}const La=new R_("16.1.7"),_a={};function va(l){for(;l;){l[ai]|=64;const d=Il(l);if(ro(l)&&!d)return l;l=d}return null}function Bh(l){return l.ngOriginalError}class Ul{constructor(){this._console=console}handleError(d){const f=this._findOriginalError(d);this._console.error("ERROR",d),f&&this._console.error("ORIGINAL ERROR",f)}_findOriginalError(d){let f=d&&Bh(d);for(;f&&Bh(f);)f=Bh(f);return f||null}}const k_=new qi("",{providedIn:"root",factory:()=>!1});function F_(l){return l.ownerDocument.defaultView}function ka(l){return l instanceof Function?l():l}class j_ extends Qo{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(d){this._lView=d}onConsumerDependencyMayHaveChanged(){va(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(d,f,_){const M=Zi(this);this.trackingVersion++;try{d(f,_)}finally{Zi(M)}}destroy(){this.trackingVersion++}}let qc=null;function V_(){return qc??=new j_,qc}function G_(l,d){return l[d]??V_()}function H_(l,d){const f=V_();f.hasReadASignal&&(l[d]=qc,f.lView=l,qc=new j_)}const Si={};function Y_(l){K_(wi(),Nn(),so()+l,!1)}function K_(l,d,f,_){if(!_)if(3==(3&d[ai])){const j=l.preOrderCheckHooks;null!==j&&ti(d,j,f)}else{const j=l.preOrderHooks;null!==j&&ni(d,j,0,f)}gs(f)}function $_(l,d=null,f=null,_){const M=q_(l,d,f,_);return M.resolveInjectorInitializers(),M}function q_(l,d=null,f=null,_,M=new Set){const j=[f||tn,hM(l)];return _=_||("object"==typeof l?void 0:v(l)),new b_(j,d||Oh(),_||null,M)}let Es=(()=>{class l{static#e=this.THROW_IF_NOT_FOUND=It;static#t=this.NULL=new GE;static create(f,_){if(Array.isArray(f))return $_({name:""},_,f,"");{const M=f.name??"";return $_({name:M},f.parent,f.providers,M)}}static#n=this.\u0275prov=Ae({token:l,providedIn:"any",factory:()=>xe(Ah)});static#i=this.__NG_ELEMENT_ID__=-1}return l})();function Gl(l,d=de.Default){const f=Nn();return null===f?xe(l,d):zb(Nr(),f,V(l),d)}function J_(){throw new Error("invalid")}function Ru(l,d,f,_,M,j,ee,Ee,ke,nt,Tt){const Rt=d.blueprint.slice();return Rt[si]=M,Rt[ai]=140|_,(null!==nt||l&&2048&l[ai])&&(Rt[ai]|=2048),Ni(Rt),Rt[Ri]=Rt[oi]=l,Rt[jt]=f,Rt[Pn]=ee||l&&l[Pn],Rt[Rn]=Ee||l&&l[Rn],Rt[hn]=ke||l&&l[hn]||null,Rt[nr]=j,Rt[fr]=function mE(){return lh++}(),Rt[Pr]=Tt,Rt[Ma]=nt,Rt[li]=2==d.type?l[li]:Rt,Rt}function Hl(l,d,f,_,M){let j=l.data[d];if(null===j)j=Hh(l,d,f,_,M),function dg(){return ii.lFrame.inI18n}()&&(j.flags|=32);else if(64&j.type){j.type=f,j.value=_,j.attrs=M;const ee=ks();j.injectorIndex=null===ee?-1:ee.injectorIndex}return pa(j,!0),j}function Hh(l,d,f,_,M){const j=ta(),ee=Hd(),ke=l.data[d]=function ev(l,d,f,_,M,j){let ee=d?d.injectorIndex:-1,Ee=0;return ma()&&(Ee|=128),{type:f,index:_,insertBeforeIndex:null,injectorIndex:ee,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Ee,providerIndexes:0,value:M,attrs:j,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:d,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,ee?j:j&&j.parent,f,d,_,M);return null===l.firstChild&&(l.firstChild=ke),null!==j&&(ee?null==j.child&&null!==ke.parent&&(j.child=ke):null===j.next&&(j.next=ke,ke.prev=j)),ke}function Jc(l,d,f,_){if(0===f)return-1;const M=d.length;for(let j=0;j<f;j++)d.push(_),l.blueprint.push(_),l.data.push(null);return M}function X_(l,d,f,_,M){const j=G_(d,to),ee=so(),Ee=2&_;try{if(gs(-1),Ee&&d.length>Ei&&K_(l,d,Ei,!1),Ho(Ee?2:0,M),Ee)j.runInContext(f,_,M);else{const nt=Zi(null);try{f(_,M)}finally{Zi(nt)}}}finally{Ee&&null===d[to]&&H_(d,to),gs(ee),Ho(Ee?3:1,M)}}function Nu(l,d,f){if(hr(d)){const _=Zi(null);try{const j=d.directiveEnd;for(let ee=d.directiveStart;ee<j;ee++){const Ee=l.data[ee];Ee.contentQueries&&Ee.contentQueries(1,f[ee],ee)}}finally{Zi(_)}}}function Yh(l,d,f){Vd()&&(function iv(l,d,f,_){const M=f.directiveStart,j=f.directiveEnd;lr(f)&&function wT(l,d,f){const _=gt(d,l),M=Kh(f);let ee=16;f.signals?ee=4096:f.onPush&&(ee=64);const Ee=ku(l,Ru(l,M,null,ee,_,d,null,l[Pn].rendererFactory.createRenderer(_,f),null,null,null));l[d.index]=Ee}(d,f,l.data[M+f.componentOffset]),l.firstCreatePass||tu(f,d),Jr(_,d);const ee=f.initialInputs;for(let Ee=M;Ee<j;Ee++){const ke=l.data[Ee],nt=Bs(d,l,Ee,f);Jr(nt,d),null!==ee&&IT(0,Ee-M,nt,ke,0,ee),Gi(ke)&&(fn(f.index,d)[jt]=Bs(d,l,Ee,f))}}(l,d,f,gt(f,d)),64==(64&f.flags)&&rv(l,d,f))}function Lu(l,d,f=gt){const _=d.localNames;if(null!==_){let M=d.index+1;for(let j=0;j<_.length;j+=2){const ee=_[j+1],Ee=-1===ee?f(d,l):l[ee];l[M++]=Ee}}}function Kh(l){const d=l.tView;return null===d||d.incompleteFirstPass?l.tView=ra(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts,l.id):d}function ra(l,d,f,_,M,j,ee,Ee,ke,nt,Tt){const Rt=Ei+_,nn=Rt+M,ln=function Yl(l,d){const f=[];for(let _=0;_<d;_++)f.push(_<l?null:Si);return f}(Rt,nn),xn="function"==typeof nt?nt():nt;return ln[Kn]={type:l,blueprint:ln,template:f,queries:null,viewQuery:Ee,declTNode:d,data:ln.slice().fill(null,Rt),bindingStartIndex:Rt,expandoStartIndex:nn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof j?j():j,pipeRegistry:"function"==typeof ee?ee():ee,firstChild:null,schemas:ke,consts:xn,incompleteFirstPass:!1,ssrId:Tt}}let Kl=l=>null;function zh(l,d,f,_){for(let M in l)if(l.hasOwnProperty(M)){f=null===f?{}:f;const j=l[M];null===_?tv(f,d,M,j):_.hasOwnProperty(M)&&tv(f,d,_[M],j)}return f}function tv(l,d,f,_){l.hasOwnProperty(f)?l[f].push(d,_):l[f]=[d,_]}function Wo(l,d,f,_,M,j,ee,Ee){const ke=gt(d,f);let Tt,nt=d.inputs;!Ee&&null!=nt&&(Tt=nt[_])?(Jh(l,f,Tt,_,M),lr(d)&&function TT(l,d){const f=fn(d,l);16&f[ai]||(f[ai]|=64)}(f,d.index)):3&d.type&&(_=function ET(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(_),M=null!=ee?ee(M,d.value||"",_):M,j.setProperty(ke,_,M))}function Ts(l,d,f,_){if(Vd()){const M=null===_?null:{"":-1},j=function xT(l,d){const f=l.directiveRegistry;let _=null,M=null;if(f)for(let j=0;j<f.length;j++){const ee=f[j];if(bn(d,ee.selectors,!1))if(_||(_=[]),Gi(ee))if(null!==ee.findHostDirectiveDefs){const Ee=[];M=M||new Map,ee.findHostDirectiveDefs(ee,Ee,M),_.unshift(...Ee,ee),Zh(l,d,Ee.length)}else _.unshift(ee),Zh(l,d,0);else M=M||new Map,ee.findHostDirectiveDefs?.(ee,_,M),_.push(ee)}return null===_?null:[_,M]}(l,f);let ee,Ee;null===j?ee=Ee=null:[ee,Ee]=j,null!==ee&&nv(l,d,f,ee,M,Ee),M&&function av(l,d,f){if(d){const _=l.localNames=[];for(let M=0;M<d.length;M+=2){const j=f[d[M+1]];if(null==j)throw new T(-301,!1);_.push(d[M],j)}}}(f,_,M)}f.mergedAttrs=tt(f.mergedAttrs,f.attrs)}function nv(l,d,f,_,M,j){for(let nt=0;nt<_.length;nt++)qf(tu(f,d),l,_[nt].type);!function MT(l,d,f){l.flags|=1,l.directiveStart=d,l.directiveEnd=d+f,l.providerIndexes=d}(f,l.data.length,_.length);for(let nt=0;nt<_.length;nt++){const Tt=_[nt];Tt.providersResolver&&Tt.providersResolver(Tt)}let ee=!1,Ee=!1,ke=Jc(l,d,_.length,null);for(let nt=0;nt<_.length;nt++){const Tt=_[nt];f.mergedAttrs=tt(f.mergedAttrs,Tt.hostAttrs),AT(l,f,d,ke,Tt),zs(ke,Tt,M),null!==Tt.contentQueries&&(f.flags|=4),(null!==Tt.hostBindings||null!==Tt.hostAttrs||0!==Tt.hostVars)&&(f.flags|=64);const Rt=Tt.type.prototype;!ee&&(Rt.ngOnChanges||Rt.ngOnInit||Rt.ngDoCheck)&&((l.preOrderHooks??=[]).push(f.index),ee=!0),!Ee&&(Rt.ngOnChanges||Rt.ngDoCheck)&&((l.preOrderCheckHooks??=[]).push(f.index),Ee=!0),ke++}!function bT(l,d,f){const M=d.directiveEnd,j=l.data,ee=d.attrs,Ee=[];let ke=null,nt=null;for(let Tt=d.directiveStart;Tt<M;Tt++){const Rt=j[Tt],nn=f?f.get(Rt):null,xn=nn?nn.outputs:null;ke=zh(Rt.inputs,Tt,ke,nn?nn.inputs:null),nt=zh(Rt.outputs,Tt,nt,xn);const Vn=null===ke||null===ee||_n(d)?null:OT(ke,Tt,ee);Ee.push(Vn)}null!==ke&&(ke.hasOwnProperty("class")&&(d.flags|=8),ke.hasOwnProperty("style")&&(d.flags|=16)),d.initialInputs=Ee,d.inputs=ke,d.outputs=nt}(l,f,j)}function rv(l,d,f){const _=f.directiveStart,M=f.directiveEnd,j=f.index,ee=function Kf(){return ii.lFrame.currentDirectiveIndex}();try{gs(j);for(let Ee=_;Ee<M;Ee++){const ke=l.data[Ee],nt=d[Ee];Kd(Ee),(null!==ke.hostBindings||0!==ke.hostVars||null!==ke.hostAttrs)&&ov(ke,nt)}}finally{gs(-1),Kd(ee)}}function ov(l,d){null!==l.hostBindings&&l.hostBindings(1,d)}function Zh(l,d,f){d.componentOffset=f,(l.components??=[]).push(d.index)}function zs(l,d,f){if(f){if(d.exportAs)for(let _=0;_<d.exportAs.length;_++)f[d.exportAs[_]]=l;Gi(d)&&(f[""]=l)}}function AT(l,d,f,_,M){l.data[_]=M;const j=M.factory||(M.factory=We(M.type)),ee=new Xa(j,Gi(M),Gl);l.blueprint[_]=ee,f[_]=ee,function CT(l,d,f,_,M){const j=M.hostBindings;if(j){let ee=l.hostBindingOpCodes;null===ee&&(ee=l.hostBindingOpCodes=[]);const Ee=~d.index;(function DT(l){let d=l.length;for(;d>0;){const f=l[--d];if("number"==typeof f&&f<0)return f}return 0})(ee)!=Ee&&ee.push(Ee),ee.push(f,_,j)}}(l,d,_,Jc(l,f,M.hostVars,Si),M)}function Fa(l,d,f,_,M,j){const ee=gt(l,d);!function $h(l,d,f,_,M,j,ee){if(null==j)l.removeAttribute(d,M,f);else{const Ee=null==ee?S(j):ee(j,_||"",M);l.setAttribute(d,M,Ee,f)}}(d[Rn],ee,j,l.value,f,_,M)}function IT(l,d,f,_,M,j){const ee=j[d];if(null!==ee)for(let Ee=0;Ee<ee.length;)sv(_,f,ee[Ee++],ee[Ee++],ee[Ee++])}function sv(l,d,f,_,M){const j=Zi(null);try{const ee=l.inputTransforms;null!==ee&&ee.hasOwnProperty(_)&&(M=ee[_].call(d,M)),null!==l.setInput?l.setInput(d,M,f,_):d[_]=M}finally{Zi(j)}}function OT(l,d,f){let _=null,M=0;for(;M<f.length;){const j=f[M];if(0!==j)if(5!==j){if("number"==typeof j)break;if(l.hasOwnProperty(j)){null===_&&(_=[]);const ee=l[j];for(let Ee=0;Ee<ee.length;Ee+=2)if(ee[Ee]===d){_.push(j,ee[Ee+1],f[M+1]);break}}M+=2}else M+=2;else M+=4}return _}function lv(l,d,f,_){return[l,!0,!1,d,null,0,_,f,null,null,null]}function cv(l,d){const f=l.contentQueries;if(null!==f)for(let _=0;_<f.length;_+=2){const j=f[_+1];if(-1!==j){const ee=l.data[j];xc(f[_]),ee.contentQueries(2,d[j],j)}}}function ku(l,d){return l[ei]?l[Jn][pr]=d:l[ei]=d,l[Jn]=d,d}function qh(l,d,f){xc(0);const _=Zi(null);try{d(l,f)}finally{Zi(_)}}function dv(l){return l[Or]||(l[Or]=[])}function uv(l){return l.cleanup||(l.cleanup=[])}function fv(l,d,f){return(null===l||Gi(l))&&(f=function Ja(l){for(;Array.isArray(l);){if("object"==typeof l[ca])return l;l=l[si]}return null}(f[d.index])),f[Rn]}function hv(l,d){const f=l[hn],_=f?f.get(Ul,null):null;_&&_.handleError(d)}function Jh(l,d,f,_,M){for(let j=0;j<f.length;){const ee=f[j++],Ee=f[j++];sv(l.data[ee],d[ee],_,Ee,M)}}function rs(l,d,f){const _=De(d,l);!function bE(l,d,f){l.setValue(d,f)}(l[Rn],_,f)}function PT(l,d){const f=fn(d,l),_=f[Kn];!function RT(l,d){for(let f=d.length;f<l.blueprint.length;f++)d.push(l.blueprint[f])}(_,f);const M=f[si];null!==M&&null===f[Pr]&&(f[Pr]=tT(M,f[hn])),Qh(_,f,f[jt])}function Qh(l,d,f){Mc(d);try{const _=l.viewQuery;null!==_&&qh(1,_,f);const M=l.template;null!==M&&X_(l,d,M,1,f),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&cv(l,d),l.staticViewQueries&&qh(2,l.viewQuery,f);const j=l.components;null!==j&&function NT(l,d){for(let f=0;f<d.length;f++)PT(l,d[f])}(d,j)}catch(_){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),_}finally{d[ai]&=-5,wc()}}let mv=(()=>{class l{constructor(){this.all=new Set,this.queue=new Map}create(f,_,M){const j=typeof Zone>"u"?null:Zone.current,ee=new bc(f,nt=>{this.all.has(nt)&&this.queue.set(nt,j)},M);let Ee;this.all.add(ee),ee.notify();const ke=()=>{ee.cleanup(),Ee?.(),this.all.delete(ee),this.queue.delete(ee)};return Ee=_?.onDestroy(ke),{destroy:ke}}flush(){if(0!==this.queue.size)for(const[f,_]of this.queue)this.queue.delete(f),_?_.run(()=>f.run()):f.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Ae({token:l,providedIn:"root",factory:()=>new l})}return l})();function Xh(l,d,f){let _=f?l.styles:null,M=f?l.classes:null,j=0;if(null!==d)for(let ee=0;ee<d.length;ee++){const Ee=d[ee];"number"==typeof Ee?j=Ee:1==j?M=A(M,Ee):2==j&&(_=A(_,Ee+": "+d[++ee]+";"))}f?l.styles=_:l.stylesWithoutHost=_,f?l.classes=M:l.classesWithoutHost=M}function ed(l,d,f,_,M=!1){for(;null!==f;){const j=d[f.index];if(null!==j&&_.push(or(j)),zi(j)){for(let Ee=Wi;Ee<j.length;Ee++){const ke=j[Ee],nt=ke[Kn].firstChild;null!==nt&&ed(ke[Kn],ke,nt,_)}j[kr]!==j[si]&&_.push(j[kr])}const ee=f.type;if(8&ee)ed(l,d,f.child,_);else if(32&ee){const Ee=gu(f,d);let ke;for(;ke=Ee();)_.push(ke)}else if(16&ee){const Ee=Fc(d,f);if(Array.isArray(Ee))_.push(...Ee);else{const ke=Il(d[li]);ed(ke[Kn],ke,Ee,_,!0)}}f=M?f.projectionNext:f.next}return _}function Fu(l,d,f,_=!0){const M=d[Pn].rendererFactory;M.begin&&M.begin();try{pv(l,d,l.template,f)}catch(ee){throw _&&hv(d,ee),ee}finally{M.end&&M.end(),d[Pn].effectManager?.flush()}}function pv(l,d,f,_){const M=d[ai];if(256!=(256&M)){d[Pn].effectManager?.flush(),Mc(d);try{Ni(d),function cg(l){return ii.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==f&&X_(l,d,f,2,_);const ee=3==(3&M);if(ee){const nt=l.preOrderCheckHooks;null!==nt&&ti(d,nt,null)}else{const nt=l.preOrderHooks;null!==nt&&ni(d,nt,0,null),Hi(d,0)}if(function BT(l){for(let d=Wg(l);null!==d;d=mh(d)){if(!d[Ya])continue;const f=d[Sr];for(let _=0;_<f.length;_++){Di(f[_])}}}(d),gv(d,2),null!==l.contentQueries&&cv(l,d),ee){const nt=l.contentCheckHooks;null!==nt&&ti(d,nt)}else{const nt=l.contentHooks;null!==nt&&ni(d,nt,1),Hi(d,1)}!function Q_(l,d){const f=l.hostBindingOpCodes;if(null===f)return;const _=G_(d,_o);try{for(let M=0;M<f.length;M++){const j=f[M];if(j<0)gs(~j);else{const ee=j,Ee=f[++M],ke=f[++M];ug(Ee,ee),_.runInContext(ke,2,d[ee])}}}finally{null===d[_o]&&H_(d,_o),gs(-1)}}(l,d);const Ee=l.components;null!==Ee&&vv(d,Ee,0);const ke=l.viewQuery;if(null!==ke&&qh(2,ke,_),ee){const nt=l.viewCheckHooks;null!==nt&&ti(d,nt)}else{const nt=l.viewHooks;null!==nt&&ni(d,nt,2),Hi(d,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),d[ai]&=-73,ar(d)}finally{wc()}}}function gv(l,d){for(let f=Wg(l);null!==f;f=mh(f))for(let _=Wi;_<f.length;_++)_v(f[_],d)}function UT(l,d,f){_v(fn(d,l),f)}function _v(l,d){if(!function Xn(l){return 128==(128&l[ai])}(l))return;const f=l[Kn];if(80&l[ai]&&0===d||1024&l[ai]||2===d)pv(f,l,f.template,l[jt]);else if(l[tr]>0){gv(l,1);const M=l[Kn].components;null!==M&&vv(l,M,1)}}function vv(l,d,f){for(let _=0;_<d.length;_++)UT(l,d[_],f)}class td{get rootNodes(){const d=this._lView,f=d[Kn];return ed(f,d,f.firstChild,[])}constructor(d,f){this._lView=d,this._cdRefInjectingView=f,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jt]}set context(d){this._lView[jt]=d}get destroyed(){return 256==(256&this._lView[ai])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const d=this._lView[Ri];if(zi(d)){const f=d[8],_=f?f.indexOf(this):-1;_>-1&&($g(d,_),_s(f,_))}this._attachedToViewContainer=!1}TE(this._lView[Kn],this._lView)}onDestroy(d){!function Cr(l,d){if(256==(256&l[ai]))throw new T(911,!1);null===l[qr]&&(l[qr]=[]),l[qr].push(d)}(this._lView,d)}markForCheck(){va(this._cdRefInjectingView||this._lView)}detach(){this._lView[ai]&=-129}reattach(){this._lView[ai]|=128}detectChanges(){Fu(this._lView[Kn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Wx(l,d){Bc(l,d,d[Rn],2,null,null)}(this._lView[Kn],this._lView)}attachToAppRef(d){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=d}}class jT extends td{constructor(d){super(d),this._view=d}detectChanges(){const d=this._view;Fu(d[Kn],d,d[jt],!1)}checkNoChanges(){}get context(){return null}}class yv extends Zc{constructor(d){super(),this.ngModule=d}resolveComponentFactory(d){const f=di(d);return new nd(f,this.ngModule)}}function bv(l){const d=[];for(let f in l)l.hasOwnProperty(f)&&d.push({propName:l[f],templateName:f});return d}class GT{constructor(d,f){this.injector=d,this.parentInjector=f}get(d,f,_){_=st(_);const M=this.injector.get(d,_a,_);return M!==_a||f===_a?M:this.parentInjector.get(d,f,_)}}class nd extends P_{get inputs(){const d=this.componentDef,f=d.inputTransforms,_=bv(d.inputs);if(null!==f)for(const M of _)f.hasOwnProperty(M.propName)&&(M.transform=f[M.propName]);return _}get outputs(){return bv(this.componentDef.outputs)}constructor(d,f){super(),this.componentDef=d,this.ngModule=f,this.componentType=d.type,this.selector=function At(l){return l.map(it).join(",")}(d.selectors),this.ngContentSelectors=d.ngContentSelectors?d.ngContentSelectors:[],this.isBoundToModule=!!f}create(d,f,_,M){let j=(M=M||this.ngModule)instanceof Fl?M:M?.injector;j&&null!==this.componentDef.getStandaloneInjector&&(j=this.componentDef.getStandaloneInjector(j)||j);const ee=j?new GT(d,j):d,Ee=ee.get(jr,null);if(null===Ee)throw new T(407,!1);const Tt={rendererFactory:Ee,sanitizer:ee.get(aT,null),effectManager:ee.get(mv,null)},Rt=Ee.createRenderer(null,this.componentDef),nn=this.componentDef.selectors[0][0]||"div",ln=_?function Qc(l,d,f,_){const j=_.get(k_,!1)||f===Ht.ShadowDom,ee=l.selectRootElement(d,j);return function Wh(l){Kl(l)}(ee),ee}(Rt,_,this.componentDef.encapsulation,ee):gh(Rt,nn,function VT(l){const d=l.toLowerCase();return"svg"===d?Sc:"math"===d?"math":null}(nn)),$n=this.componentDef.signals?4608:this.componentDef.onPush?576:528,ri=ra(0,null,null,1,0,null,null,null,null,null,null),An=Ru(null,ri,null,$n,null,null,Tt,Rt,ee,null,null);let bi,Pi;Mc(An);try{const ki=this.componentDef;let po,Bf=null;ki.findHostDirectiveDefs?(po=[],Bf=new Map,ki.findHostDirectiveDefs(ki,po,Bf),po.push(ki)):po=[ki];const ZD=function Ev(l,d){const f=l[Kn],_=Ei;return l[_]=d,Hl(f,_,2,"#host",null)}(An,ln),$D=function YT(l,d,f,_,M,j,ee){const Ee=M[Kn];!function Tv(l,d,f,_){for(const M of l)d.mergedAttrs=tt(d.mergedAttrs,M.hostAttrs);null!==d.mergedAttrs&&(Xh(d,d.mergedAttrs,!0),null!==f&&bs(_,f,d))}(_,l,d,ee);let ke=null;null!==d&&(ke=tT(d,M[hn]));const nt=j.rendererFactory.createRenderer(d,f);let Tt=16;f.signals?Tt=4096:f.onPush&&(Tt=64);const Rt=Ru(M,Kh(f),null,Tt,M[l.index],l,j,nt,null,null,ke);return Ee.firstCreatePass&&Zh(Ee,l,_.length-1),ku(M,Rt),M[l.index]=Rt}(ZD,ln,ki,po,An,Tt,Rt);Pi=pt(ri,Ei),ln&&function WT(l,d,f,_){if(_)at(l,f,["ng-version",La.full]);else{const{attrs:M,classes:j}=function Kt(l){const d=[],f=[];let _=1,M=2;for(;_<l.length;){let j=l[_];if("string"==typeof j)2===M?""!==j&&d.push(j,l[++_]):8===M&&f.push(j);else{if(!Bt(M))break;M=j}_++}return{attrs:d,classes:f}}(d.selectors[0]);M&&at(l,f,M),j&&j.length>0&&jc(l,f,j.join(" "))}}(Rt,ki,ln,_),void 0!==f&&function zT(l,d,f){const _=l.projection=[];for(let M=0;M<d.length;M++){const j=f[M];_.push(null!=j?Array.from(j):null)}}(Pi,this.ngContentSelectors,f),bi=function KT(l,d,f,_,M,j){const ee=Nr(),Ee=M[Kn],ke=gt(ee,M);nv(Ee,M,ee,f,null,_);for(let Tt=0;Tt<f.length;Tt++)Jr(Bs(M,Ee,ee.directiveStart+Tt,ee),M);rv(Ee,M,ee),ke&&Jr(ke,M);const nt=Bs(M,Ee,ee.directiveStart+ee.componentOffset,ee);if(l[jt]=M[jt]=nt,null!==j)for(const Tt of j)Tt(nt,d);return Nu(Ee,ee,l),nt}($D,ki,po,Bf,An,[ZT]),Qh(ri,An,null)}finally{wc()}return new HT(this.componentType,bi,is(Pi,An),An,Pi)}}class HT extends iT{constructor(d,f,_,M,j){super(),this.location=_,this._rootLView=M,this._tNode=j,this.previousInputValues=null,this.instance=f,this.hostView=this.changeDetectorRef=new jT(M),this.componentType=d}setInput(d,f){const _=this._tNode.inputs;let M;if(null!==_&&(M=_[d])){if(this.previousInputValues??=new Map,this.previousInputValues.has(d)&&Object.is(this.previousInputValues.get(d),f))return;const j=this._rootLView;Jh(j[Kn],j,M,d,f),this.previousInputValues.set(d,f),va(fn(this._tNode.index,j))}}get injector(){return new Tl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(d){this.hostView.onDestroy(d)}}function ZT(){const l=Nr();Ln(Nn()[Kn],l)}function em(l){let d=function Sv(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),f=!0;const _=[l];for(;d;){let M;if(Gi(l))M=d.\u0275cmp||d.\u0275dir;else{if(d.\u0275cmp)throw new T(903,!1);M=d.\u0275dir}if(M){if(f){_.push(M);const ee=l;ee.inputs=Bu(l.inputs),ee.inputTransforms=Bu(l.inputTransforms),ee.declaredInputs=Bu(l.declaredInputs),ee.outputs=Bu(l.outputs);const Ee=M.hostBindings;Ee&&QT(l,Ee);const ke=M.viewQuery,nt=M.contentQueries;if(ke&&qT(l,ke),nt&&JT(l,nt),g(l.inputs,M.inputs),g(l.declaredInputs,M.declaredInputs),g(l.outputs,M.outputs),null!==M.inputTransforms&&(null===ee.inputTransforms&&(ee.inputTransforms={}),g(ee.inputTransforms,M.inputTransforms)),Gi(M)&&M.data.animation){const Tt=l.data;Tt.animation=(Tt.animation||[]).concat(M.data.animation)}}const j=M.features;if(j)for(let ee=0;ee<j.length;ee++){const Ee=j[ee];Ee&&Ee.ngInherit&&Ee(l),Ee===em&&(f=!1)}}d=Object.getPrototypeOf(d)}!function $T(l){let d=0,f=null;for(let _=l.length-1;_>=0;_--){const M=l[_];M.hostVars=d+=M.hostVars,M.hostAttrs=tt(M.hostAttrs,f=tt(f,M.hostAttrs))}}(_)}function Bu(l){return l===en?{}:l===tn?[]:l}function qT(l,d){const f=l.viewQuery;l.viewQuery=f?(_,M)=>{d(_,M),f(_,M)}:d}function JT(l,d){const f=l.contentQueries;l.contentQueries=f?(_,M,j)=>{d(_,M,j),f(_,M,j)}:d}function QT(l,d){const f=l.hostBindings;l.hostBindings=f?(_,M)=>{d(_,M),f(_,M)}:d}function Cv(l){return d=>{d.findHostDirectiveDefs=Dv,d.hostDirectives=(Array.isArray(l)?l:l()).map(f=>"function"==typeof f?{directive:V(f),inputs:en,outputs:en}:{directive:V(f.directive),inputs:xv(f.inputs),outputs:xv(f.outputs)})}}function Dv(l,d,f){if(null!==l.hostDirectives)for(const _ of l.hostDirectives){const M=er(_.directive);nS(M.declaredInputs,_.inputs),Dv(M,d,f),f.set(M,_),d.push(M)}}function xv(l){if(void 0===l||0===l.length)return en;const d={};for(let f=0;f<l.length;f+=2)d[l[f]]=l[f+1];return d}function nS(l,d){for(const f in d)d.hasOwnProperty(f)&&(l[d[f]]=l[f])}function nm(l){const d=l.inputConfig,f={};for(const _ in d)if(d.hasOwnProperty(_)){const M=d[_];Array.isArray(M)&&M[2]&&(f[_]=M[2])}l.inputTransforms=f}function Uu(l){return!!im(l)&&(Array.isArray(l)||!(l instanceof Map)&&Symbol.iterator in l)}function im(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function Ba(l,d,f){return l[d]=f}function ho(l,d,f){return!Object.is(l[d],f)&&(l[d]=f,!0)}function Zs(l,d,f,_){const M=ho(l,d,f);return ho(l,d+1,_)||M}function rm(l,d,f,_){const M=Nn();return ho(M,Qa(),d)&&(wi(),Fa(_r(),M,l,d,f,_)),rm}function Zl(l,d,f,_){return ho(l,Qa(),f)?d+S(f)+_:Si}function $l(l,d,f,_,M,j){const Ee=Zs(l,function Oa(){return ii.lFrame.bindingIndex}(),f,M);return ga(2),Ee?d+S(f)+_+S(M)+j:Si}function kv(l,d,f,_,M,j,ee,Ee){const ke=Nn(),nt=wi(),Tt=l+Ei,Rt=nt.firstCreatePass?function SS(l,d,f,_,M,j,ee,Ee,ke){const nt=d.consts,Tt=Hl(d,l,4,ee||null,Mi(nt,Ee));Ts(d,f,Tt,Mi(nt,ke)),Ln(d,Tt);const Rt=Tt.tView=ra(2,Tt,_,M,j,d.directiveRegistry,d.pipeRegistry,null,d.schemas,nt,null);return null!==d.queries&&(d.queries.template(d,Tt),Rt.queries=d.queries.embeddedTView(Tt)),Tt}(Tt,nt,ke,d,f,_,M,j,ee):nt.data[Tt];pa(Rt,!1);const nn=fm(nt,ke,Rt,l);Mt()&&Th(nt,ke,nn,Rt),Jr(nn,ke),ku(ke,ke[Tt]=lv(nn,ke,nn,Rt)),io(Rt)&&Yh(nt,ke,Rt),null!=ee&&Lu(ke,Rt,Ee)}let fm=function Yu(l,d,f,_){return xt(!0),d[Rn].createComment("")};function Fv(l){return Ut(function Yd(){return ii.lFrame.contextLView}(),Ei+l)}function hm(l,d,f){const _=Nn();return ho(_,Qa(),d)&&Wo(wi(),_r(),_,l,d,_[Rn],f,!1),hm}function mm(l,d,f,_,M){const ee=M?"class":"style";Jh(l,f,d.inputs[ee],ee,_)}function Ku(l,d,f,_){const M=Nn(),j=wi(),ee=Ei+l,Ee=M[Rn],ke=j.firstCreatePass?function MS(l,d,f,_,M,j){const ee=d.consts,ke=Hl(d,l,2,_,Mi(ee,M));return Ts(d,f,ke,Mi(ee,j)),null!==ke.attrs&&Xh(ke,ke.attrs,!1),null!==ke.mergedAttrs&&Xh(ke,ke.mergedAttrs,!0),null!==d.queries&&d.queries.elementStart(d,ke),ke}(ee,j,M,d,f,_):j.data[ee],nt=Bv(j,M,ke,Ee,d,l);M[ee]=nt;const Tt=io(ke);return pa(ke,!0),bs(Ee,nt,ke),32!=(32&ke.flags)&&Mt()&&Th(j,M,nt,ke),0===function ha(){return ii.lFrame.elementDepthCount}()&&Jr(nt,M),function ea(){ii.lFrame.elementDepthCount++}(),Tt&&(Yh(j,M,ke),Nu(j,ke,M)),null!==_&&Lu(M,ke),Ku}function Wu(){let l=Nr();Hd()?Hf():(l=l.parent,pa(l,!1));const d=l;(function Vf(l){return ii.skipHydrationRootTNode===l})(d)&&function sg(){ii.skipHydrationRootTNode=null}(),function Mr(){ii.lFrame.elementDepthCount--}();const f=wi();return f.firstCreatePass&&(Ln(f,l),hr(l)&&f.queries.elementEnd(l)),null!=d.classesWithoutHost&&function Ub(l){return 0!=(8&l.flags)}(d)&&mm(f,d,Nn(),d.classesWithoutHost,!0),null!=d.stylesWithoutHost&&function jb(l){return 0!=(16&l.flags)}(d)&&mm(f,d,Nn(),d.stylesWithoutHost,!1),Wu}function pm(l,d,f,_){return Ku(l,d,f,_),Wu(),pm}let Bv=(l,d,f,_,M,j)=>(xt(!0),gh(_,M,function Ne(){return ii.lFrame.currentNamespace}()));function zu(l,d,f){const _=Nn(),M=wi(),j=l+Ei,ee=M.firstCreatePass?function IS(l,d,f,_,M){const j=d.consts,ee=Mi(j,_),Ee=Hl(d,l,8,"ng-container",ee);return null!==ee&&Xh(Ee,ee,!0),Ts(d,f,Ee,Mi(j,M)),null!==d.queries&&d.queries.elementStart(d,Ee),Ee}(j,M,_,d,f):M.data[j];pa(ee,!0);const Ee=Uv(M,_,ee,l);return _[j]=Ee,Mt()&&Th(M,_,Ee,ee),Jr(Ee,_),io(ee)&&(Yh(M,_,ee),Nu(M,ee,_)),null!=f&&Lu(_,ee),zu}function Zu(){let l=Nr();const d=wi();return Hd()?Hf():(l=l.parent,pa(l,!1)),d.firstCreatePass&&(Ln(d,l),hr(l)&&d.queries.elementEnd(l)),Zu}function gm(l,d,f){return zu(l,d,f),Zu(),gm}let Uv=(l,d,f,_)=>(xt(!0),Zg(d[Rn],""));function jv(){return Nn()}function _m(l){return!!l&&"function"==typeof l.then}function Vv(l){return!!l&&"function"==typeof l.subscribe}function vm(l,d,f,_){const M=Nn(),j=wi(),ee=Nr();return Gv(j,M,M[Rn],ee,l,d,_),vm}function ym(l,d){const f=Nr(),_=Nn(),M=wi();return Gv(M,_,fv(yl(M.data),f,_),f,l,d),ym}function Gv(l,d,f,_,M,j,ee){const Ee=io(_),nt=l.firstCreatePass&&uv(l),Tt=d[jt],Rt=dv(d);let nn=!0;if(3&_.type||ee){const Vn=gt(_,d),$n=ee?ee(Vn):Vn,ri=Rt.length,An=ee?Pi=>ee(or(Pi[_.index])):_.index;let bi=null;if(!ee&&Ee&&(bi=function RS(l,d,f,_){const M=l.cleanup;if(null!=M)for(let j=0;j<M.length-1;j+=2){const ee=M[j];if(ee===f&&M[j+1]===_){const Ee=d[Or],ke=M[j+2];return Ee.length>ke?Ee[ke]:null}"string"==typeof ee&&(j+=2)}return null}(l,d,M,_.index)),null!==bi)(bi.__ngLastListenerFn__||bi).__ngNextListenerFn__=j,bi.__ngLastListenerFn__=j,nn=!1;else{j=Yv(_,d,Tt,j,!1);const Pi=f.listen($n,M,j);Rt.push(j,Pi),nt&&nt.push(M,An,ri,ri+1)}}else j=Yv(_,d,Tt,j,!1);const ln=_.outputs;let xn;if(nn&&null!==ln&&(xn=ln[M])){const Vn=xn.length;if(Vn)for(let $n=0;$n<Vn;$n+=2){const ki=d[xn[$n]][xn[$n+1]].subscribe(j),po=Rt.length;Rt.push(j,ki),nt&&nt.push(M,_.index,po,-(po+1))}}}function Hv(l,d,f,_){try{return Ho(6,d,f),!1!==f(_)}catch(M){return hv(l,M),!1}finally{Ho(7,d,f)}}function Yv(l,d,f,_,M){return function j(ee){if(ee===Function)return _;va(l.componentOffset>-1?fn(l.index,d):d);let ke=Hv(d,f,_,ee),nt=j.__ngNextListenerFn__;for(;nt;)ke=Hv(d,f,nt,ee)&&ke,nt=nt.__ngNextListenerFn__;return M&&!1===ke&&ee.preventDefault(),ke}}function Kv(l=1){return function fg(l){return(ii.lFrame.contextLView=function hg(l,d){for(;l>0;)d=d[oi],l--;return d}(l,ii.lFrame.contextLView))[jt]}(l)}function NS(l,d){let f=null;const _=function Fn(l){const d=l.attrs;if(null!=d){const f=d.indexOf(5);if(!(1&f))return d[f+1]}return null}(l);for(let M=0;M<d.length;M++){const j=d[M];if("*"!==j){if(null===_?bn(l,j,!0):ve(_,j))return M}else f=M}return f}function Wv(l){const d=Nn()[li][nr];if(!d.projection){const _=d.projection=Wr(l?l.length:1,null),M=_.slice();let j=d.child;for(;null!==j;){const ee=l?NS(j,l):0;null!==ee&&(M[ee]?M[ee].projectionNext=j:_[ee]=j,M[ee]=j),j=j.next}}}function zv(l,d=0,f){const _=Nn(),M=wi(),j=Hl(M,Ei+l,16,null,f||null);null===j.projection&&(j.projection=d),Hf(),(!_[Pr]||ma())&&32!=(32&j.flags)&&function Rl(l,d,f){ys(d[Rn],0,d,f,qg(l,f,d),bh(f.parent||d[nr],f,d))}(M,_,j)}function bm(l,d,f){return $u(l,"",d,"",f),bm}function $u(l,d,f,_,M){const j=Nn(),ee=Zl(j,d,f,_);return ee!==Si&&Wo(wi(),_r(),j,l,ee,j[Rn],M,!1),$u}function Em(l,d,f,_,M,j,ee){const Ee=Nn(),ke=$l(Ee,d,f,_,M,j);return ke!==Si&&Wo(wi(),_r(),Ee,l,ke,Ee[Rn],ee,!1),Em}function qu(l,d){return l<<17|d<<2}function Ss(l){return l>>17&32767}function Tm(l){return 2|l}function $s(l){return(131068&l)>>2}function Sm(l,d){return-131069&l|d<<2}function Cm(l){return 1|l}function ty(l,d,f,_,M){const j=l[f+1],ee=null===d;let Ee=_?Ss(j):$s(j),ke=!1;for(;0!==Ee&&(!1===ke||ee);){const Tt=l[Ee+1];jS(l[Ee],d)&&(ke=!0,l[Ee+1]=_?Cm(Tt):Tm(Tt)),Ee=_?Ss(Tt):$s(Tt)}ke&&(l[f+1]=_?Tm(j):Cm(j))}function jS(l,d){return null===l||null==d||(Array.isArray(l)?l[1]:l)===d||!(!Array.isArray(l)||"string"!=typeof d)&&vs(l,d)>=0}const Vr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ny(l){return l.substring(Vr.key,Vr.keyEnd)}function iy(l,d){const f=Vr.textEnd;return f===d?-1:(d=Vr.keyEnd=function YS(l,d,f){for(;d<f&&l.charCodeAt(d)>32;)d++;return d}(l,Vr.key=d,f),Cs(l,d,f))}function Cs(l,d,f){for(;d<f&&l.charCodeAt(d)<=32;)d++;return d}function Dm(l,d,f){return ya(l,d,f,!1),Dm}function xm(l,d){return ya(l,d,null,!0),xm}function ZS(l){ba(XS,os,l,!0)}function os(l,d){for(let f=function GS(l){return function oy(l){Vr.key=0,Vr.keyEnd=0,Vr.value=0,Vr.valueEnd=0,Vr.textEnd=l.length}(l),iy(l,Cs(l,0,Vr.textEnd))}(d);f>=0;f=iy(d,f))Ao(l,ny(d),!0)}function ya(l,d,f,_){const M=Nn(),j=wi(),ee=ga(2);j.firstUpdatePass&&cy(j,l,ee,_),d!==Si&&ho(M,ee,d)&&Am(j,j.data[so()],M,M[Rn],l,M[ee+1]=function tC(l,d){return null==l||""===l||("string"==typeof d?l+=d:"object"==typeof l&&(l=v(Na(l)))),l}(d,f),_,ee)}function ba(l,d,f,_){const M=wi(),j=ga(2);M.firstUpdatePass&&cy(M,null,j,_);const ee=Nn();if(f!==Si&&ho(ee,j,f)){const Ee=M.data[so()];if(hy(Ee,_)&&!ly(M,j)){let ke=_?Ee.classesWithoutHost:Ee.stylesWithoutHost;null!==ke&&(f=A(ke,f||"")),mm(M,Ee,ee,f,_)}else!function eC(l,d,f,_,M,j,ee,Ee){M===Si&&(M=tn);let ke=0,nt=0,Tt=0<M.length?M[0]:null,Rt=0<j.length?j[0]:null;for(;null!==Tt||null!==Rt;){const nn=ke<M.length?M[ke+1]:void 0,ln=nt<j.length?j[nt+1]:void 0;let Vn,xn=null;Tt===Rt?(ke+=2,nt+=2,nn!==ln&&(xn=Rt,Vn=ln)):null===Rt||null!==Tt&&Tt<Rt?(ke+=2,xn=Tt):(nt+=2,xn=Rt,Vn=ln),null!==xn&&Am(l,d,f,_,xn,Vn,ee,Ee),Tt=ke<M.length?M[ke]:null,Rt=nt<j.length?j[nt]:null}}(M,Ee,ee,ee[Rn],ee[j+1],ee[j+1]=function QS(l,d,f){if(null==f||""===f)return tn;const _=[],M=Na(f);if(Array.isArray(M))for(let j=0;j<M.length;j++)l(_,M[j],!0);else if("object"==typeof M)for(const j in M)M.hasOwnProperty(j)&&l(_,j,M[j]);else"string"==typeof M&&d(_,M);return _}(l,d,f),_,j)}}function ly(l,d){return d>=l.expandoStartIndex}function cy(l,d,f,_){const M=l.data;if(null===M[f+1]){const j=M[so()],ee=ly(l,f);hy(j,_)&&null===d&&!ee&&(d=!1),d=function $S(l,d,f,_){const M=yl(l);let j=_?d.residualClasses:d.residualStyles;if(null===M)0===(_?d.classBindings:d.styleBindings)&&(f=sd(f=Mm(null,l,d,f,_),d.attrs,_),j=null);else{const ee=d.directiveStylingLast;if(-1===ee||l[ee]!==M)if(f=Mm(M,l,d,f,_),null===j){let ke=function qS(l,d,f){const _=f?d.classBindings:d.styleBindings;if(0!==$s(_))return l[Ss(_)]}(l,d,_);void 0!==ke&&Array.isArray(ke)&&(ke=Mm(null,l,d,ke[1],_),ke=sd(ke,d.attrs,_),function dy(l,d,f,_){l[Ss(f?d.classBindings:d.styleBindings)]=_}(l,d,_,ke))}else j=function JS(l,d,f){let _;const M=d.directiveEnd;for(let j=1+d.directiveStylingLast;j<M;j++)_=sd(_,l[j].hostAttrs,f);return sd(_,d.attrs,f)}(l,d,_)}return void 0!==j&&(_?d.residualClasses=j:d.residualStyles=j),f}(M,j,d,_),function BS(l,d,f,_,M,j){let ee=j?d.classBindings:d.styleBindings,Ee=Ss(ee),ke=$s(ee);l[_]=f;let Tt,nt=!1;if(Array.isArray(f)?(Tt=f[1],(null===Tt||vs(f,Tt)>0)&&(nt=!0)):Tt=f,M)if(0!==ke){const nn=Ss(l[Ee+1]);l[_+1]=qu(nn,Ee),0!==nn&&(l[nn+1]=Sm(l[nn+1],_)),l[Ee+1]=function kS(l,d){return 131071&l|d<<17}(l[Ee+1],_)}else l[_+1]=qu(Ee,0),0!==Ee&&(l[Ee+1]=Sm(l[Ee+1],_)),Ee=_;else l[_+1]=qu(ke,0),0===Ee?Ee=_:l[ke+1]=Sm(l[ke+1],_),ke=_;nt&&(l[_+1]=Tm(l[_+1])),ty(l,Tt,_,!0),ty(l,Tt,_,!1),function US(l,d,f,_,M){const j=M?l.residualClasses:l.residualStyles;null!=j&&"string"==typeof d&&vs(j,d)>=0&&(f[_+1]=Cm(f[_+1]))}(d,Tt,l,_,j),ee=qu(Ee,ke),j?d.classBindings=ee:d.styleBindings=ee}(M,j,d,f,ee,_)}}function Mm(l,d,f,_,M){let j=null;const ee=f.directiveEnd;let Ee=f.directiveStylingLast;for(-1===Ee?Ee=f.directiveStart:Ee++;Ee<ee&&(j=d[Ee],_=sd(_,j.hostAttrs,M),j!==l);)Ee++;return null!==l&&(f.directiveStylingLast=Ee),_}function sd(l,d,f){const _=f?1:2;let M=-1;if(null!==d)for(let j=0;j<d.length;j++){const ee=d[j];"number"==typeof ee?M=ee:M===_&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),Ao(l,ee,!!f||d[++j]))}return void 0===l?null:l}function XS(l,d,f){const _=String(d);""!==_&&!_.includes(" ")&&Ao(l,_,f)}function Am(l,d,f,_,M,j,ee,Ee){if(!(3&d.type))return;const ke=l.data,nt=ke[Ee+1],Tt=function FS(l){return 1==(1&l)}(nt)?fy(ke,d,f,M,$s(nt),ee):void 0;Ju(Tt)||(Ju(j)||function LS(l){return 2==(2&l)}(nt)&&(j=fy(ke,null,f,M,Ee,ee)),function Eu(l,d,f,_,M){if(d)M?l.addClass(f,_):l.removeClass(f,_);else{let j=-1===_.indexOf("-")?void 0:fu.DashCase;null==M?l.removeStyle(f,_,j):("string"==typeof M&&M.endsWith("!important")&&(M=M.slice(0,-10),j|=fu.Important),l.setStyle(f,_,M,j))}}(_,ee,De(so(),f),M,j))}function fy(l,d,f,_,M,j){const ee=null===d;let Ee;for(;M>0;){const ke=l[M],nt=Array.isArray(ke),Tt=nt?ke[1]:ke,Rt=null===Tt;let nn=f[M+1];nn===Si&&(nn=Rt?tn:void 0);let ln=Rt?th(nn,_):Tt===_?nn:void 0;if(nt&&!Ju(ln)&&(ln=th(ke,_)),Ju(ln)&&(Ee=ln,ee))return Ee;const xn=l[M+1];M=ee?Ss(xn):$s(xn)}if(null!==d){let ke=j?d.residualClasses:d.residualStyles;null!=ke&&(Ee=th(ke,_))}return Ee}function Ju(l){return void 0!==l}function hy(l,d){return 0!=(l.flags&(d?8:16))}function my(l,d=""){const f=Nn(),_=wi(),M=l+Ei,j=_.firstCreatePass?Hl(_,M,1,d,null):_.data[M],ee=py(_,f,j,d,l);f[M]=ee,Mt()&&Th(_,f,ee,j),pa(j,!1)}let py=(l,d,f,_,M)=>(xt(!0),ph(d[Rn],_));function wm(l){return Qu("",l,""),wm}function Qu(l,d,f){const _=Nn(),M=Zl(_,l,d,f);return M!==Si&&rs(_,so(),M),Qu}function Im(l,d,f,_,M){const j=Nn(),ee=$l(j,l,d,f,_,M);return ee!==Si&&rs(j,so(),ee),Im}function qs(l,d,f){ba(Ao,os,Zl(Nn(),l,d,f),!0)}function Xu(l,d,f){const _=Nn();return ho(_,Qa(),d)&&Wo(wi(),_r(),_,l,d,_[Rn],f,!0),Xu}function rc(l,d,f){const _=Nn();if(ho(_,Qa(),d)){const j=wi(),ee=_r();Wo(j,ee,_,l,d,fv(yl(j.data),ee,_),f,!0)}return rc}const ji=void 0;var Fm=["en",[["a","p"],["AM","PM"],ji],[["AM","PM"],ji,ji],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ji,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ji,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ji,"{1} 'at' {0}",ji],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function wy(l){const f=Math.floor(Math.abs(l)),_=l.toString().replace(/^[^.]*\.?/,"").length;return 1===f&&0===_?1:5}];let oc={};function Bm(l){const d=function Dr(l){return l.toLowerCase().replace(/_/g,"-")}(l);let f=Py(d);if(f)return f;const _=d.split("-")[0];if(f=Py(_),f)return f;if("en"===_)return Fm;throw new T(701,!1)}function Oy(l){return Bm(l)[Qs.PluralCase]}function Py(l){return l in oc||(oc[l]=Ze.ng&&Ze.ng.common&&Ze.ng.common.locales&&Ze.ng.common.locales[l]),oc[l]}var Qs=function(l){return l[l.LocaleId=0]="LocaleId",l[l.DayPeriodsFormat=1]="DayPeriodsFormat",l[l.DayPeriodsStandalone=2]="DayPeriodsStandalone",l[l.DaysFormat=3]="DaysFormat",l[l.DaysStandalone=4]="DaysStandalone",l[l.MonthsFormat=5]="MonthsFormat",l[l.MonthsStandalone=6]="MonthsStandalone",l[l.Eras=7]="Eras",l[l.FirstDayOfWeek=8]="FirstDayOfWeek",l[l.WeekendRange=9]="WeekendRange",l[l.DateFormat=10]="DateFormat",l[l.TimeFormat=11]="TimeFormat",l[l.DateTimeFormat=12]="DateTimeFormat",l[l.NumberSymbols=13]="NumberSymbols",l[l.NumberFormats=14]="NumberFormats",l[l.CurrencyCode=15]="CurrencyCode",l[l.CurrencySymbol=16]="CurrencySymbol",l[l.CurrencyName=17]="CurrencyName",l[l.Currencies=18]="Currencies",l[l.Directionality=19]="Directionality",l[l.PluralCase=20]="PluralCase",l[l.ExtraData=21]="ExtraData",l}(Qs||{});const Xs="en-US",cd={marker:"element"},ac={marker:"ICU"};var So=function(l){return l[l.SHIFT=2]="SHIFT",l[l.APPEND_EAGERLY=1]="APPEND_EAGERLY",l[l.COMMENT=2]="COMMENT",l}(So||{});let Ny=Xs;function Ds(l){(function Pe(l,d){null==l&&Oe(d,l,null,"!=")})(l,"Expected localeId to be defined"),"string"==typeof l&&(Ny=l.toLowerCase().replace(/_/g,"-"))}function jm(l,d,f){const _=d.insertBeforeIndex,M=Array.isArray(_)?_[0]:_;return null===M?_u(l,0,f):or(f[M])}function dd(l,d,f,_,M){const j=d.insertBeforeIndex;if(Array.isArray(j)){let ee=_,Ee=null;if(3&d.type||(Ee=ee,ee=M),null!==ee&&-1===d.componentOffset)for(let ke=1;ke<j.length;ke++)Pl(l,ee,f[j[ke]],Ee,!1)}}function ud(l,d){if(l.push(d),l.length>1)for(let f=l.length-2;f>=0;f--){const _=l[f];Ly(_)||cC(_,d)&&null===ky(_)&&dC(_,d.index)}}function Ly(l){return!(64&l.type)}function cC(l,d){return Ly(d)||l.index>d.index}function ky(l){const d=l.insertBeforeIndex;return Array.isArray(d)?d[0]:d}function dC(l,d){const f=l.insertBeforeIndex;Array.isArray(f)?f[0]=d:(vu(jm,dd),l.insertBeforeIndex=d)}function hC(l,d,f){const _=Hh(l,f,64,null,null);return ud(d,_),_}function Uy(){const l=[];let f,_,d=-1;function j(Ee,ke){d=0;const nt=function ef(l,d){const f=d[l.currentCaseLViewIndex];return null===f?f:f<0?~f:f}(Ee,ke);_=null!==nt?Ee.remove[nt]:tn}function ee(){if(d<_.length){const Ee=_[d++];return Ee>0?f[Ee]:(l.push(d,_),j(f[Kn].data[~Ee],f),ee())}return 0===l.length?null:(_=l.pop(),d=l.pop(),ee())}return function M(Ee,ke){for(f=ke;l.length;)l.pop();return j(Ee.value,ke),ee}}const nf=/\ufffd(\d+):?\d*\ufffd/gi,el=/\ufffd(\d+)\ufffd/,Ym=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,fd="\ufffd",yC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Vy=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Gy=/\uE500/g;function Hy(l,d,f,_,M,j,ee){const Ee=Jc(l,_,1,null);let ke=Ee<<So.SHIFT,nt=ks();d===nt&&(nt=null),null===nt&&(ke|=So.APPEND_EAGERLY),ee&&(ke|=So.COMMENT,function Hg(l){void 0===hh&&(hh=l())}(Uy)),M.push(ke,null===j?"":j);const Tt=Hh(l,Ee,ee?32:1,null===j?"":j,null);ud(f,Tt);const Rt=Tt.index;return pa(Tt,!1),null!==nt&&d!==nt&&function fC(l,d){let f=l.insertBeforeIndex;null===f?(vu(jm,dd),f=l.insertBeforeIndex=[null,d]):(function te(l,d,f){l!=d&&Oe(f,l,d,"==")}(Array.isArray(f),!0,"Expecting array here"),f.push(d))}(nt,Rt),Tt}function rf(l,d,f,_,M,j,ee){const Ee=ee.match(nf),ke=Hy(l,d,f,j,_,Ee?null:ee,!1);Ee&&md(M,ee,ke.index,null,0,null)}function md(l,d,f,_,M,j){const ee=l.length,Ee=ee+1;l.push(null,null);const ke=ee+2,nt=d.split(nf);let Tt=0;for(let Rt=0;Rt<nt.length;Rt++){const nn=nt[Rt];if(1&Rt){const ln=M+parseInt(nn,10);l.push(-1-ln),Tt|=Km(ln)}else""!==nn&&l.push(nn)}return l.push(f<<2|(_?1:0)),_&&l.push(_,j),l[ee]=Tt,l[Ee]=l.length-ke,Tt}function Km(l){return 1<<Math.min(l,31)}function af(l){let d,j,f="",_=0,M=!1;for(;null!==(d=yC.exec(l));)M?d[0]===`${fd}/*${j}${fd}`&&(_=d.index,M=!1):(f+=l.substring(_,d.index+d[0].length),j=d[1],M=!0);return f+=l.slice(_),f}function Wy(l,d,f,_,M,j){let ee=0;const Ee={type:M.type,currentCaseLViewIndex:Jc(l,d,1,null),anchorIdx:j,cases:[],create:[],remove:[],update:[]};(function qy(l,d,f){l.push(Km(d.mainBinding),2,-1-d.mainBinding,f<<2|2)})(f,M,j),function uC(l,d,f){const _=l.data[d];null===_?l.data[d]=f:_.value=f}(l,j,Ee);const ke=M.values;for(let nt=0;nt<ke.length;nt++){const Tt=ke[nt],Rt=[];for(let nn=0;nn<Tt.length;nn++){const ln=Tt[nn];if("string"!=typeof ln){const xn=Rt.push(ln)-1;Tt[nn]=`\x3c!--\ufffd${xn}\ufffd--\x3e`}}ee=zy(l,Ee,d,f,_,M.cases[nt],Tt.join(""),Rt)|ee}ee&&function TC(l,d,f){l.push(d,1,f<<2|3)}(f,ee,j)}function sf(l){const d=[],f=[];let _=1,M=0;const j=Wm(l=l.replace(Ym,function(ee,Ee,ke){return _="select"===ke?0:1,M=parseInt(Ee.slice(1),10),""}));for(let ee=0;ee<j.length;){let Ee=j[ee++].trim();1===_&&(Ee=Ee.replace(/\s*(?:=)?(\w+)\s*/,"$1")),Ee.length&&d.push(Ee);const ke=Wm(j[ee++]);d.length>f.length&&f.push(ke)}return{type:_,mainBinding:M,cases:d,values:f}}function Wm(l){if(!l)return[];let d=0;const f=[],_=[],M=/[{}]/g;let j;for(M.lastIndex=0;j=M.exec(l);){const Ee=j.index;if("}"==j[0]){if(f.pop(),0==f.length){const ke=l.substring(d,Ee);Ym.test(ke)?_.push(sf(ke)):_.push(ke),d=Ee+1}}else{if(0==f.length){const ke=l.substring(d,Ee);_.push(ke),d=Ee+1}f.push("{")}}const ee=l.substring(d);return _.push(ee),_}function zy(l,d,f,_,M,j,ee,Ee){const ke=[],nt=[],Tt=[];d.cases.push(j),d.create.push(ke),d.remove.push(nt),d.update.push(Tt);const nn=r_(Tu()).getInertBodyElement(ee),ln=l_(nn)||nn;return ln?Zy(l,d,f,_,ke,nt,Tt,ln,M,Ee,0):0}function Zy(l,d,f,_,M,j,ee,Ee,ke,nt,Tt){let Rt=0,nn=Ee.firstChild;for(;nn;){const ln=Jc(l,f,1,null);switch(nn.nodeType){case Node.ELEMENT_NODE:const xn=nn,Vn=xn.tagName.toLowerCase();if(Dh.hasOwnProperty(Vn)){cf(M,cd,Vn,ke,ln),l.data[ln]=Vn;const bi=xn.attributes;for(let Pi=0;Pi<bi.length;Pi++){const ki=bi.item(Pi),po=ki.name.toLowerCase();ki.value.match(nf)?Ys.hasOwnProperty(po)&&md(ee,ki.value,ln,ki.name,0,Cu[po]?Ll:null):SC(M,ln,ki)}Rt=Zy(l,d,f,_,M,j,ee,nn,ln,nt,Tt+1)|Rt,lf(j,ln,Tt)}break;case Node.TEXT_NODE:const $n=nn.textContent||"",ri=$n.match(nf);cf(M,null,ri?"":$n,ke,ln),lf(j,ln,Tt),ri&&(Rt=md(ee,$n,ln,null,0,null)|Rt);break;case Node.COMMENT_NODE:const An=el.exec(nn.textContent||"");if(An){const Pi=nt[parseInt(An[1],10)];cf(M,ac,"",ke,ln),Wy(l,f,_,ke,Pi,ln),$y(j,ln,Tt)}}nn=nn.nextSibling}return Rt}function lf(l,d,f){0===f&&l.push(d)}function $y(l,d,f){0===f&&(l.push(~d),l.push(d))}function cf(l,d,f,_,M){null!==d&&l.push(d),l.push(f,M,function mC(l,d,f){return l|d<<17|f<<1}(0,_,M))}function SC(l,d,f){l.push(d<<1|1,f.name,f.value)}function Yi(l,d,f=-1){const _=wi(),M=Nn(),j=Ei+l,ee=Mi(_.consts,d),Ee=ks();_.firstCreatePass&&function EC(l,d,f,_,M,j){const ee=ks(),Ee=[],ke=[],nt=[[]];M=function Ky(l,d){if(function Ro(l){return-1===l}(d))return af(l);{const f=l.indexOf(`:${d}${fd}`)+2+d.toString().length,_=l.search(new RegExp(`${fd}\\/\\*\\d+:${d}${fd}`));return af(l.substring(f,_))}}(M,j);const Tt=function bC(l){return l.replace(Gy," ")}(M).split(Vy);for(let Rt=0;Rt<Tt.length;Rt++){let nn=Tt[Rt];if(1&Rt){const ln=47===nn.charCodeAt(0),Vn=(nn.charCodeAt(ln?1:0),Ei+Number.parseInt(nn.substring(ln?2:1)));if(ln)nt.shift(),pa(ks(),!1);else{const $n=hC(l,nt[0],Vn);nt.unshift([]),pa($n,!0)}}else{const ln=Wm(nn);for(let xn=0;xn<ln.length;xn++){let Vn=ln[xn];if(1&xn){const $n=Vn;if("object"!=typeof $n)throw new Error(`Unable to parse ICU expression in "${M}" message.`);Wy(l,f,ke,d,$n,Hy(l,ee,nt[0],f,Ee,"",!0).index)}else""!==Vn&&rf(l,ee,nt[0],Ee,ke,f,Vn)}}}l.data[_]={create:Ee,update:ke}}(_,null===Ee?0:Ee.index,M,j,ee,f),2===_.type?M[li][ai]|=32:M[ai]|=32;const ke=_.data[j],Tt=SE(_,Ee===M[nr]?null:Ee,M);(function Xr(l,d,f,_){const M=l[Rn];for(let j=0;j<d.length;j++){const ee=d[j++],Ee=d[j],nt=(ee&So.APPEND_EAGERLY)===So.APPEND_EAGERLY,Tt=ee>>>So.SHIFT;let Rt=l[Tt];null===Rt&&(Rt=l[Tt]=(ee&So.COMMENT)===So.COMMENT?M.createComment(Ee):ph(M,Ee)),nt&&null!==f&&Pl(M,f,Rt,_,!1)}})(M,ke.create,Tt,Ee&&8&Ee.type?M[Ee.index]:null),Yf(!0)}function zm(l,d,f){Yi(l,d,f),function mi(){Yf(!1)}()}function pd(l,d,f,_,M){if(l=V(l),Array.isArray(l))for(let j=0;j<l.length;j++)pd(l[j],d,f,_,M);else{const j=wi(),ee=Nn();let Ee=Ws(l)?l:V(l.provide),ke=$E(l);const nt=Nr(),Tt=1048575&nt.providerIndexes,Rt=nt.directiveStart,nn=nt.providerIndexes>>20;if(Ws(l)||!l.multi){const ln=new Xa(ke,M,Gl),xn=zo(Ee,d,M?Tt:Tt+nn,Rt);-1===xn?(qf(tu(nt,ee),j,Ee),$m(j,l,d.length),d.push(Ee),nt.directiveStart++,nt.directiveEnd++,M&&(nt.providerIndexes+=1048576),f.push(ln),ee.push(ln)):(f[xn]=ln,ee[xn]=ln)}else{const ln=zo(Ee,d,Tt+nn,Rt),xn=zo(Ee,d,Tt,Tt+nn),$n=xn>=0&&f[xn];if(M&&!$n||!M&&!(ln>=0&&f[ln])){qf(tu(nt,ee),j,Ee);const ri=function Jm(l,d,f,_,M){const j=new Xa(l,f,Gl);return j.multi=[],j.index=d,j.componentProviders=0,s0(j,M,_&&!f),j}(M?qm:xC,f.length,M,_,ke);!M&&$n&&(f[xn].providerFactory=ri),$m(j,l,d.length,0),d.push(Ee),nt.directiveStart++,nt.directiveEnd++,M&&(nt.providerIndexes+=1048576),f.push(ri),ee.push(ri)}else $m(j,l,ln>-1?ln:xn,s0(f[M?xn:ln],ke,!M&&_));!M&&_&&$n&&f[xn].componentProviders++}}}function $m(l,d,f,_){const M=Ws(d),j=function zE(l){return!!l.useClass}(d);if(M||j){const ke=(j?V(d.useClass):d).prototype.ngOnDestroy;if(ke){const nt=l.destroyHooks||(l.destroyHooks=[]);if(!M&&d.multi){const Tt=nt.indexOf(f);-1===Tt?nt.push(f,[_,ke]):nt[Tt+1].push(_,ke)}else nt.push(f,ke)}}}function s0(l,d,f){return f&&l.componentProviders++,l.multi.push(d)-1}function zo(l,d,f,_){for(let M=f;M<_;M++)if(d[M]===l)return M;return-1}function xC(l,d,f,_){return cc(this.multi,[])}function qm(l,d,f,_){const M=this.multi;let j;if(this.providerFactory){const ee=this.providerFactory.componentProviders,Ee=Bs(f,f[Kn],this.providerFactory.index,_);j=Ee.slice(0,ee),cc(M,j);for(let ke=ee;ke<Ee.length;ke++)j.push(Ee[ke])}else j=[],cc(M,j);return j}function cc(l,d){for(let f=0;f<l.length;f++)d.push((0,l[f])());return d}function l0(l,d=[]){return f=>{f.providersResolver=(_,M)=>function lc(l,d,f){const _=wi();if(_.firstCreatePass){const M=Gi(l);pd(f,_.data,_.blueprint,M,!0),pd(d,_.data,_.blueprint,M,!1)}}(_,M?M(l):l,d)}}class dc{}class c0{}function Qm(l,d){return new Xm(l,d??null,[])}class Xm extends dc{constructor(d,f,_){super(),this._parent=f,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yv(this);const M=Zn(d);this._bootstrapComponents=ka(M.bootstrap),this._r3Injector=q_(d,f,[{provide:dc,useValue:this},{provide:Zc,useValue:this.componentFactoryResolver},..._],v(d),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(d)}get injector(){return this._r3Injector}destroy(){const d=this._r3Injector;!d.destroyed&&d.destroy(),this.destroyCbs.forEach(f=>f()),this.destroyCbs=null}onDestroy(d){this.destroyCbs.push(d)}}class uf extends c0{constructor(d){super(),this.moduleType=d}create(d){return new Xm(this.moduleType,d,[])}}class ff extends dc{constructor(d){super(),this.componentFactoryResolver=new yv(this),this.instance=null;const f=new b_([...d.providers,{provide:dc,useValue:this},{provide:Zc,useValue:this.componentFactoryResolver}],d.parent||Oh(),d.debugName,new Set(["environment"]));this.injector=f,d.runEnvironmentInitializers&&f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(d){this.injector.onDestroy(d)}}function ep(l,d,f=null){return new ff({providers:l,parent:d,debugName:f,runEnvironmentInitializers:!0}).injector}let MC=(()=>{class l{constructor(f){this._injector=f,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(f){if(!f.standalone)return null;if(!this.cachedInjectors.has(f)){const _=HE(0,f.type),M=_.length>0?ep([_],this._injector,`Standalone[${f.type.name}]`):null;this.cachedInjectors.set(f,M)}return this.cachedInjectors.get(f)}ngOnDestroy(){try{for(const f of this.cachedInjectors.values())null!==f&&f.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ae({token:l,providedIn:"environment",factory:()=>new l(xe(Fl))})}return l})();function d0(l){l.getStandaloneInjector=d=>d.get(MC).getOrCreateStandaloneInjector(l)}function gf(l,d,f){const _=ao()+l,M=Nn();return M[_]===Si?Ba(M,_,f?d.call(f):d()):function id(l,d){return l[d]}(M,_)}function g0(l,d,f,_){return yd(Nn(),ao(),l,d,f,_)}function _0(l,d,f,_,M){return sp(Nn(),ao(),l,d,f,_,M)}function v0(l,d,f,_,M,j){return function Hr(l,d,f,_,M,j,ee,Ee){const ke=d+f;return function ju(l,d,f,_,M){const j=Zs(l,d,f,_);return ho(l,d+2,M)||j}(l,ke,M,j,ee)?Ba(l,ke+3,Ee?_.call(Ee,M,j,ee):_(M,j,ee)):vd(l,ke+3)}(Nn(),ao(),l,d,f,_,M,j)}function vd(l,d){const f=l[d];return f===Si?void 0:f}function yd(l,d,f,_,M,j){const ee=d+f;return ho(l,ee,M)?Ba(l,ee+1,j?_.call(j,M):_(M)):vd(l,ee+1)}function sp(l,d,f,_,M,j,ee){const Ee=d+f;return Zs(l,Ee,M,j)?Ba(l,Ee+2,ee?_.call(ee,M,j):_(M,j)):vd(l,Ee+2)}function tl(l,d){const f=wi();let _;const M=l+Ei;f.firstCreatePass?(_=function b0(l,d){if(d)for(let f=d.length-1;f>=0;f--){const _=d[f];if(l===_.name)return _}}(d,f.pipeRegistry),f.data[M]=_,_.onDestroy&&(f.destroyHooks??=[]).push(M,_.onDestroy)):_=f.data[M];const j=_.factory||(_.factory=We(_.type)),ee=Ce(Gl);try{const Ee=eu(!1),ke=j();return eu(Ee),function xS(l,d,f,_){f>=l.data.length&&(l.data[f]=null,l.blueprint[f]=null),d[f]=_}(f,Nn(),M,ke),ke}finally{Ce(ee)}}function lp(l,d,f){const _=l+Ei,M=Nn(),j=Ut(M,_);return rr(M,_)?yd(M,ao(),d,j.transform,f,j):j.transform(f)}function ja(l,d,f,_){const M=l+Ei,j=Nn(),ee=Ut(j,M);return rr(j,M)?sp(j,ao(),d,ee.transform,f,_,ee):ee.transform(f,_)}function rr(l,d){return l[Kn].data[d].pure}function uc(l){return d=>{setTimeout(l,void 0,d)}}const Ta=class cp extends c.x{constructor(d=!1){super(),this.__isAsync=d}emit(d){super.next(d)}subscribe(d,f,_){let M=d,j=f||(()=>null),ee=_;if(d&&"object"==typeof d){const ke=d;M=ke.next?.bind(ke),j=ke.error?.bind(ke),ee=ke.complete?.bind(ke)}this.__isAsync&&(j=uc(j),M&&(M=uc(M)),ee&&(ee=uc(ee)));const Ee=super.subscribe({next:M,error:j,complete:ee});return d instanceof t.w0&&d.add(Ee),Ee}};function BC(){return this._results[Symbol.iterator]()}class _f{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ta)}constructor(d=!1){this._emitDistinctChangesOnly=d,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const f=_f.prototype;f[Symbol.iterator]||(f[Symbol.iterator]=BC)}get(d){return this._results[d]}map(d){return this._results.map(d)}filter(d){return this._results.filter(d)}find(d){return this._results.find(d)}reduce(d,f){return this._results.reduce(d,f)}forEach(d){this._results.forEach(d)}some(d){return this._results.some(d)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(d,f){const _=this;_.dirty=!1;const M=function Ko(l){return l.flat(Number.POSITIVE_INFINITY)}(d);(this._changesDetected=!function nE(l,d,f){if(l.length!==d.length)return!1;for(let _=0;_<l.length;_++){let M=l[_],j=d[_];if(f&&(M=f(M),j=f(j)),j!==M)return!1}return!0}(_._results,M,f))&&(_._results=M,_.length=M.length,_.last=M[this.length-1],_.first=M[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let fc=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=jC}return l})();const dp=fc,UC=class extends dp{constructor(d,f,_){super(),this._declarationLView=d,this._declarationTContainer=f,this.elementRef=_}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(d,f){return this.createEmbeddedViewImpl(d,f,null)}createEmbeddedViewImpl(d,f,_){const ee=this._declarationTContainer.tView,Ee=Ru(this._declarationLView,ee,d,4096&this._declarationLView[ai]?4096:16,null,ee.declTNode,null,null,null,f||null,_||null);Ee[Ai]=this._declarationLView[this._declarationTContainer.index];const nt=this._declarationLView[xr];return null!==nt&&(Ee[xr]=nt.createEmbeddedView(ee)),Qh(ee,Ee,d),new td(Ee)}};function jC(){return vf(Nr(),Nn())}function vf(l,d){return 4&l.type?new UC(d,l,is(l,d)):null}let Ed=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=WC}return l})();function WC(){return Sa(Nr(),Nn())}const zC=Ed,E0=class extends zC{constructor(d,f,_){super(),this._lContainer=d,this._hostTNode=f,this._hostLView=_}get element(){return is(this._hostTNode,this._hostLView)}get injector(){return new Tl(this._hostTNode,this._hostLView)}get parentInjector(){const d=_g(this._hostTNode,this._hostLView);if(Jd(d)){const f=Xd(d,this._hostLView),_=Qd(d);return new Tl(f[Kn].data[_+8],f)}return new Tl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(d){const f=T0(this._lContainer);return null!==f&&f[d]||null}get length(){return this._lContainer.length-Wi}createEmbeddedView(d,f,_){let M,j;"number"==typeof _?M=_:null!=_&&(M=_.index,j=_.injector);const Ee=d.createEmbeddedViewImpl(f||{},j,null);return this.insertImpl(Ee,M,false),Ee}createComponent(d,f,_,M,j){const ee=d&&!function iu(l){return"function"==typeof l}(d);let Ee;if(ee)Ee=f;else{const Vn=f||{};Ee=Vn.index,_=Vn.injector,M=Vn.projectableNodes,j=Vn.environmentInjector||Vn.ngModuleRef}const ke=ee?d:new nd(di(d)),nt=_||this.parentInjector;if(!j&&null==ke.ngModule){const $n=(ee?nt:this.parentInjector).get(Fl,null);$n&&(j=$n)}di(ke.componentType??{});const ln=ke.create(nt,M,null,j);return this.insertImpl(ln.hostView,Ee,false),ln}insert(d,f){return this.insertImpl(d,f,!1)}insertImpl(d,f,_){const M=d._lView,j=M[Kn];if(function $i(l){return zi(l[Ri])}(M)){const ke=this.indexOf(d);if(-1!==ke)this.detach(ke);else{const nt=M[Ri],Tt=new E0(nt,nt[nr],nt[Ri]);Tt.detach(Tt.indexOf(d))}}const ee=this._adjustIndex(f),Ee=this._lContainer;if(function Zx(l,d,f,_){const M=Wi+_,j=f.length;_>0&&(f[M-1][pr]=d),_<j-Wi?(d[pr]=f[M],Sg(f,Wi+_,d)):(f.push(d),d[pr]=null),d[Ri]=f;const ee=d[Ai];null!==ee&&f!==ee&&function $x(l,d){const f=l[Sr];d[li]!==d[Ri][Ri][li]&&(l[Ya]=!0),null===f?l[Sr]=[d]:f.push(d)}(ee,d);const Ee=d[xr];null!==Ee&&Ee.insertView(l),d[ai]|=128}(j,M,Ee,ee),!_){const ke=yu(ee,Ee),nt=M[Rn],Tt=dr(nt,Ee[kr]);null!==Tt&&function Kx(l,d,f,_,M,j){_[si]=M,_[nr]=d,Bc(l,_,f,1,M,j)}(j,Ee[nr],nt,M,Tt,ke)}return d.attachToViewContainerRef(),Sg(hp(Ee),ee,d),d}move(d,f){return this.insert(d,f)}indexOf(d){const f=T0(this._lContainer);return null!==f?f.indexOf(d):-1}remove(d){const f=this._adjustIndex(d,-1),_=$g(this._lContainer,f);_&&(_s(hp(this._lContainer),f),TE(_[Kn],_))}detach(d){const f=this._adjustIndex(d,-1),_=$g(this._lContainer,f);return _&&null!=_s(hp(this._lContainer),f)?new td(_):null}_adjustIndex(d,f=0){return d??this.length+f}};function T0(l){return l[8]}function hp(l){return l[8]||(l[8]=[])}function Sa(l,d){let f;const _=d[l.index];return zi(_)?f=_:(f=lv(_,d,null,l),d[l.index]=f,ku(d,f)),C0(f,d,l,_),new E0(f,l,d)}let C0=function D0(l,d,f,_){if(l[kr])return;let M;M=8&f.type?or(_):function S0(l,d){const f=l[Rn],_=f.createComment(""),M=gt(d,l);return Pl(f,dr(f,M),_,function yh(l,d){return l.nextSibling(d)}(f,M),!1),_}(d,f),l[kr]=M};class Td{constructor(d){this.queryList=d,this.matches=null}clone(){return new Td(this.queryList)}setDirty(){this.queryList.setDirty()}}class mp{constructor(d=[]){this.queries=d}createEmbeddedView(d){const f=d.queries;if(null!==f){const _=null!==d.contentQueries?d.contentQueries[0]:f.length,M=[];for(let j=0;j<_;j++){const ee=f.getByIndex(j);M.push(this.queries[ee.indexInDeclarationView].clone())}return new mp(M)}return null}insertView(d){this.dirtyQueriesWithMatches(d)}detachView(d){this.dirtyQueriesWithMatches(d)}dirtyQueriesWithMatches(d){for(let f=0;f<this.queries.length;f++)null!==Ef(d,f).matches&&this.queries[f].setDirty()}}class Sd{constructor(d,f,_=null){this.predicate=d,this.flags=f,this.read=_}}class pp{constructor(d=[]){this.queries=d}elementStart(d,f){for(let _=0;_<this.queries.length;_++)this.queries[_].elementStart(d,f)}elementEnd(d){for(let f=0;f<this.queries.length;f++)this.queries[f].elementEnd(d)}embeddedTView(d){let f=null;for(let _=0;_<this.length;_++){const M=null!==f?f.length:0,j=this.getByIndex(_).embeddedTView(d,M);j&&(j.indexInDeclarationView=_,null!==f?f.push(j):f=[j])}return null!==f?new pp(f):null}template(d,f){for(let _=0;_<this.queries.length;_++)this.queries[_].template(d,f)}getByIndex(d){return this.queries[d]}get length(){return this.queries.length}track(d){this.queries.push(d)}}class gp{constructor(d,f=-1){this.metadata=d,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=f}elementStart(d,f){this.isApplyingToNode(f)&&this.matchTNode(d,f)}elementEnd(d){this._declarationNodeIndex===d.index&&(this._appliesToNextNode=!1)}template(d,f){this.elementStart(d,f)}embeddedTView(d,f){return this.isApplyingToNode(d)?(this.crossesNgTemplate=!0,this.addMatch(-d.index,f),new gp(this.metadata)):null}isApplyingToNode(d){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const f=this._declarationNodeIndex;let _=d.parent;for(;null!==_&&8&_.type&&_.index!==f;)_=_.parent;return f===(null!==_?_.index:-1)}return this._appliesToNextNode}matchTNode(d,f){const _=this.metadata.predicate;if(Array.isArray(_))for(let M=0;M<_.length;M++){const j=_[M];this.matchTNodeWithReadOption(d,f,A0(f,j)),this.matchTNodeWithReadOption(d,f,nu(f,d,j,!1,!1))}else _===fc?4&f.type&&this.matchTNodeWithReadOption(d,f,-1):this.matchTNodeWithReadOption(d,f,nu(f,d,_,!1,!1))}matchTNodeWithReadOption(d,f,_){if(null!==_){const M=this.metadata.read;if(null!==M)if(M===$c||M===Ed||M===fc&&4&f.type)this.addMatch(f.index,-2);else{const j=nu(f,d,M,!1,!1);null!==j&&this.addMatch(f.index,j)}else this.addMatch(f.index,_)}}addMatch(d,f){null===this.matches?this.matches=[d,f]:this.matches.push(d,f)}}function A0(l,d){const f=l.localNames;if(null!==f)for(let _=0;_<f.length;_+=2)if(f[_]===d)return f[_+1];return null}function ZC(l,d,f,_){return-1===f?function w0(l,d){return 11&l.type?is(l,d):4&l.type?vf(l,d):null}(d,l):-2===f?function I0(l,d,f){return f===$c?is(d,l):f===fc?vf(d,l):f===Ed?Sa(d,l):void 0}(l,d,_):Bs(l,l[Kn],f,d)}function O0(l,d,f,_){const M=d[xr].queries[_];if(null===M.matches){const j=l.data,ee=f.matches,Ee=[];for(let ke=0;ke<ee.length;ke+=2){const nt=ee[ke];Ee.push(nt<0?null:ZC(d,j[nt],ee[ke+1],f.metadata.read))}M.matches=Ee}return M.matches}function _p(l,d,f,_){const M=l.queries.getByIndex(f),j=M.matches;if(null!==j){const ee=O0(l,d,M,f);for(let Ee=0;Ee<j.length;Ee+=2){const ke=j[Ee];if(ke>0)_.push(ee[Ee/2]);else{const nt=j[Ee+1],Tt=d[-ke];for(let Rt=Wi;Rt<Tt.length;Rt++){const nn=Tt[Rt];nn[Ai]===nn[Ri]&&_p(nn[Kn],nn,nt,_)}if(null!==Tt[Sr]){const Rt=Tt[Sr];for(let nn=0;nn<Rt.length;nn++){const ln=Rt[nn];_p(ln[Kn],ln,nt,_)}}}}}return _}function P0(l){const d=Nn(),f=wi(),_=Wd();xc(_+1);const M=Ef(f,_);if(l.dirty&&function Dn(l){return 4==(4&l[ai])}(d)===(2==(2&M.metadata.flags))){if(null===M.matches)l.reset([]);else{const j=M.crossesNgTemplate?_p(f,d,_,[]):O0(f,d,M,_);l.reset(j,wo),l.notifyOnChanges()}return!0}return!1}function Cd(l,d,f){const _=wi();_.firstCreatePass&&(vp(_,new Sd(l,d,f),-1),2==(2&d)&&(_.staticViewQueries=!0)),L0(_,Nn(),d)}function R0(l,d,f,_){const M=wi();if(M.firstCreatePass){const j=Nr();vp(M,new Sd(d,f,_),j.index),function k0(l,d){const f=l.contentQueries||(l.contentQueries=[]);d!==(f.length?f[f.length-1]:-1)&&f.push(l.queries.length-1,d)}(M,l),2==(2&f)&&(M.staticContentQueries=!0)}L0(M,Nn(),f)}function N0(){return function $C(l,d){return l[xr].queries[d].queryList}(Nn(),Wd())}function L0(l,d,f){const _=new _f(4==(4&f));(function yT(l,d,f,_){const M=dv(d);M.push(f),l.firstCreatePass&&uv(l).push(_,M.length-1)})(l,d,_,_.destroy),null===d[xr]&&(d[xr]=new mp),d[xr].queries.push(new Td(_))}function vp(l,d,f){null===l.queries&&(l.queries=new pp),l.queries.track(new gp(d,f))}function Ef(l,d){return l.queries.getByIndex(d)}function yp(l,d){return vf(l,d)}function xd(l){return!!Zn(l)}const wp=new qi("Application Initializer");let Ip=(()=>{class l{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,_)=>{this.resolve=f,this.reject=_}),this.appInits=ge(wp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const f=[];for(const M of this.appInits){const j=M();if(_m(j))f.push(j);else if(Vv(j)){const ee=new Promise((Ee,ke)=>{j.subscribe({complete:Ee,error:ke})});f.push(ee)}}const _=()=>{this.done=!0,this.resolve()};Promise.all(f).then(()=>{_()}).catch(M=>{this.reject(M)}),0===f.length&&_(),this.initialized=!0}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),z0=(()=>{class l{log(f){console.log(f)}warn(f){console.warn(f)}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})();const Mf=new qi("LocaleId",{providedIn:"root",factory:()=>ge(Mf,de.Optional|de.SkipSelf)||function Z0(){return typeof $localize<"u"&&$localize.locale||Xs}()}),$0=new qi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Af=(()=>{class l{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new E.X(!1)}add(){this.hasPendingTasks.next(!0);const f=this.taskId++;return this.pendingTasks.add(f),f}remove(f){this.pendingTasks.delete(f),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();class cD{constructor(d,f){this.ngModuleFactory=d,this.componentFactories=f}}let q0=(()=>{class l{compileModuleSync(f){return new uf(f)}compileModuleAsync(f){return Promise.resolve(this.compileModuleSync(f))}compileModuleAndAllComponentsSync(f){const _=this.compileModuleSync(f),j=ka(Zn(f).declarations).reduce((ee,Ee)=>{const ke=di(Ee);return ke&&ee.push(new nd(ke)),ee},[]);return new cD(_,j)}compileModuleAndAllComponentsAsync(f){return Promise.resolve(this.compileModuleAndAllComponentsSync(f))}clearCache(){}clearCacheFor(f){}getModuleId(f){}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function X0(...l){}class xo{constructor({enableLongStackTrace:d=!1,shouldCoalesceEventChangeDetection:f=!1,shouldCoalesceRunChangeDetection:_=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ta(!1),this.onMicrotaskEmpty=new Ta(!1),this.onStable=new Ta(!1),this.onError=new Ta(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const M=this;M._nesting=0,M._outer=M._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(M._inner=M._inner.fork(new Zone.TaskTrackingZoneSpec)),d&&Zone.longStackTraceZoneSpec&&(M._inner=M._inner.fork(Zone.longStackTraceZoneSpec)),M.shouldCoalesceEventChangeDetection=!_&&f,M.shouldCoalesceRunChangeDetection=_,M.lastRequestAnimationFrameId=-1,M.nativeRequestAnimationFrame=function dD(){const l="function"==typeof Ze.requestAnimationFrame;let d=Ze[l?"requestAnimationFrame":"setTimeout"],f=Ze[l?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&d&&f){const _=d[Zone.__symbol__("OriginalDelegate")];_&&(d=_);const M=f[Zone.__symbol__("OriginalDelegate")];M&&(f=M)}return{nativeRequestAnimationFrame:d,nativeCancelAnimationFrame:f}}().nativeRequestAnimationFrame,function fD(l){const d=()=>{!function eb(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(Ze,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,Pp(l),l.isCheckStableRunning=!0,as(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),Pp(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(f,_,M,j,ee,Ee)=>{try{return wf(l),f.invokeTask(M,j,ee,Ee)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===j.type||l.shouldCoalesceRunChangeDetection)&&d(),Rp(l)}},onInvoke:(f,_,M,j,ee,Ee,ke)=>{try{return wf(l),f.invoke(M,j,ee,Ee,ke)}finally{l.shouldCoalesceRunChangeDetection&&d(),Rp(l)}},onHasTask:(f,_,M,j)=>{f.hasTask(M,j),_===M&&("microTask"==j.change?(l._hasPendingMicrotasks=j.microTask,Pp(l),as(l)):"macroTask"==j.change&&(l.hasPendingMacrotasks=j.macroTask))},onHandleError:(f,_,M,j)=>(f.handleError(M,j),l.runOutsideAngular(()=>l.onError.emit(j)),!1)})}(M)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xo.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(xo.isInAngularZone())throw new T(909,!1)}run(d,f,_){return this._inner.run(d,f,_)}runTask(d,f,_,M){const j=this._inner,ee=j.scheduleEventTask("NgZoneEvent: "+M,d,uD,X0,X0);try{return j.runTask(ee,f,_)}finally{j.cancelTask(ee)}}runGuarded(d,f,_){return this._inner.runGuarded(d,f,_)}runOutsideAngular(d){return this._outer.run(d)}}const uD={};function as(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function Pp(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function wf(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function Rp(l){l._nesting--,as(l)}class tb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ta,this.onMicrotaskEmpty=new Ta,this.onStable=new Ta,this.onError=new Ta}run(d,f,_){return d.apply(f,_)}runGuarded(d,f,_){return d.apply(f,_)}runOutsideAngular(d){return d()}runTask(d,f,_,M){return d.apply(f,_)}}const il=new qi("",{providedIn:"root",factory:Np});function Np(){const l=ge(xo);let d=!0;const f=new O.y(M=>{d=l.isStable&&!l.hasPendingMacrotasks&&!l.hasPendingMicrotasks,l.runOutsideAngular(()=>{M.next(d),M.complete()})}),_=new O.y(M=>{let j;l.runOutsideAngular(()=>{j=l.onStable.subscribe(()=>{xo.assertNotInAngularZone(),queueMicrotask(()=>{!d&&!l.hasPendingMacrotasks&&!l.hasPendingMicrotasks&&(d=!0,M.next(!0))})})});const ee=l.onUnstable.subscribe(()=>{xo.assertInAngularZone(),d&&(d=!1,l.runOutsideAngular(()=>{M.next(!1)}))});return()=>{j.unsubscribe(),ee.unsubscribe()}});return(0,b.T)(f,_.pipe((0,L.B)()))}const Lp=new qi(""),Od=new qi("");let Fp,kp=(()=>{class l{constructor(f,_,M){this._ngZone=f,this.registry=_,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Fp||(function ib(l){Fp=l}(M),M.addToWindow(_)),this._watchAngularEvents(),f.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let f=this._callbacks.pop();clearTimeout(f.timeoutId),f.doneCb(this._didWork)}this._didWork=!1});else{let f=this.getPendingTasks();this._callbacks=this._callbacks.filter(_=>!_.updateCb||!_.updateCb(f)||(clearTimeout(_.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(f=>({source:f.source,creationLocation:f.creationLocation,data:f.data})):[]}addCallback(f,_,M){let j=-1;_&&_>0&&(j=setTimeout(()=>{this._callbacks=this._callbacks.filter(ee=>ee.timeoutId!==j),f(this._didWork,this.getPendingTasks())},_)),this._callbacks.push({doneCb:f,timeoutId:j,updateCb:M})}whenStable(f,_,M){if(M&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(f,_,M),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(f){this.registry.registerApplication(f,this)}unregisterApplication(f){this.registry.unregisterApplication(f)}findProviders(f,_,M){return[]}static#e=this.\u0275fac=function(_){return new(_||l)(xe(xo),xe(nb),xe(Od))};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac})}return l})(),nb=(()=>{class l{constructor(){this._applications=new Map}registerApplication(f,_){this._applications.set(f,_)}unregisterApplication(f){this._applications.delete(f)}unregisterAllApplications(){this._applications.clear()}getTestability(f){return this._applications.get(f)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(f,_=!0){return Fp?.findTestabilityInTree(this,f,_)??null}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})(),ss=null;const If=new qi("AllowMultipleToken"),pc=new qi("PlatformDestroyListeners"),Bp=new qi("appBootstrapListener");class hD{constructor(d,f){this.name=d,this.token=f}}function Of(l,d,f=[]){const _=`Platform: ${d}`,M=new qi(_);return(j=[])=>{let ee=Pf();if(!ee||ee.injector.get(If,!1)){const Ee=[...f,...j,{provide:M,useValue:!0}];l?l(Ee):function jp(l){if(ss&&!ss.get(If,!1))throw new T(400,!1);(function ob(){!function ul(l){fs=l}(()=>{throw new T(600,!1)})})(),ss=l;const d=l.get(lb);(function ab(l){l.get(JE,null)?.forEach(f=>f())})(l)}(function Gp(l=[],d){return Es.create({name:d,providers:[{provide:v_,useValue:"platform"},{provide:pc,useValue:new Set([()=>ss=null])},...l]})}(Ee,_))}return function sb(l){const d=Pf();if(!d)throw new T(401,!1);return d}()}}function Pf(){return ss?.get(lb)??null}let lb=(()=>{class l{constructor(f){this._injector=f,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(f,_){const M=function cb(l="zone.js",d){return"noop"===l?new tb:"zone.js"===l?new xo(d):l}(_?.ngZone,function Rf(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:l?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:l?.runCoalescing??!1}}({eventCoalescing:_?.ngZoneEventCoalescing,runCoalescing:_?.ngZoneRunCoalescing}));return M.run(()=>{const j=function gd(l,d,f){return new Xm(l,d,f)}(f.moduleType,this.injector,function fb(l){return[{provide:xo,useFactory:l},{provide:Kc,multi:!0,useFactory:()=>{const d=ge(pD,{optional:!0});return()=>d.initialize()}},{provide:ub,useFactory:mD},{provide:il,useFactory:Np}]}(()=>M)),ee=j.injector.get(Ul,null);return M.runOutsideAngular(()=>{const Ee=M.onError.subscribe({next:ke=>{ee.handleError(ke)}});j.onDestroy(()=>{Pd(this._modules,j),Ee.unsubscribe()})}),function Hp(l,d,f){try{const _=f();return _m(_)?_.catch(M=>{throw d.runOutsideAngular(()=>l.handleError(M)),M}):_}catch(_){throw d.runOutsideAngular(()=>l.handleError(_)),_}}(ee,M,()=>{const Ee=j.injector.get(Ip);return Ee.runInitializers(),Ee.donePromise.then(()=>(Ds(j.injector.get(Mf,Xs)||Xs),this._moduleDoBootstrap(j),j))})})}bootstrapModule(f,_=[]){const M=db({},_);return function rb(l,d,f){const _=new uf(f);return Promise.resolve(_)}(0,0,f).then(j=>this.bootstrapModuleFactory(j,M))}_moduleDoBootstrap(f){const _=f.injector.get(Ps);if(f._bootstrapComponents.length>0)f._bootstrapComponents.forEach(M=>_.bootstrap(M));else{if(!f.instance.ngDoBootstrap)throw new T(-403,!1);f.instance.ngDoBootstrap(_)}this._modules.push(f)}onDestroy(f){this._destroyListeners.push(f)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(_=>_.destroy()),this._destroyListeners.forEach(_=>_());const f=this._injector.get(pc,null);f&&(f.forEach(_=>_()),f.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(_){return new(_||l)(xe(Es))};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})();function db(l,d){return Array.isArray(d)?d.reduce(db,l):{...l,...d}}let Ps=(()=>{class l{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ge(ub),this.zoneIsStable=ge(il),this.componentTypes=[],this.components=[],this.isStable=ge(Af).hasPendingTasks.pipe((0,D.w)(f=>f?(0,F.of)(!1):this.zoneIsStable),(0,m.x)(),(0,L.B)()),this._injector=ge(Fl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(f,_){const M=f instanceof P_;if(!this._injector.get(Ip).done)throw!M&&Ir(f),new T(405,!1);let ee;ee=M?f:this._injector.get(Zc).resolveComponentFactory(f),this.componentTypes.push(ee.componentType);const Ee=function Up(l){return l.isBoundToModule}(ee)?void 0:this._injector.get(dc),nt=ee.create(Es.NULL,[],_||ee.selector,Ee),Tt=nt.location.nativeElement,Rt=nt.injector.get(Lp,null);return Rt?.registerApplication(Tt),nt.onDestroy(()=>{this.detachView(nt.hostView),Pd(this.components,nt),Rt?.unregisterApplication(Tt)}),this._loadComponent(nt),nt}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let f of this._views)f.detectChanges()}catch(f){this.internalErrorHandler(f)}finally{this._runningTick=!1}}attachView(f){const _=f;this._views.push(_),_.attachToAppRef(this)}detachView(f){const _=f;Pd(this._views,_),_.detachFromAppRef()}_loadComponent(f){this.attachView(f.hostView),this.tick(),this.components.push(f);const _=this._injector.get(Bp,[]);_.push(...this._bootstrapListeners),_.forEach(M=>M(f))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(f=>f()),this._views.slice().forEach(f=>f.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(f){return this._destroyListeners.push(f),()=>Pd(this._destroyListeners,f)}destroy(){if(this._destroyed)throw new T(406,!1);const f=this._injector;f.destroy&&!f.destroyed&&f.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function Pd(l,d){const f=l.indexOf(d);f>-1&&l.splice(f,1)}const ub=new qi("",{providedIn:"root",factory:()=>ge(Ul).handleError.bind(void 0)});function mD(){const l=ge(xo),d=ge(Ul);return f=>l.runOutsideAngular(()=>d.handleError(f))}let pD=(()=>{class l{constructor(){this.zone=ge(xo),this.applicationRef=ge(Ps)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function gD(){}let _D=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=No}return l})();function No(l){return function vD(l,d,f){if(lr(l)&&!f){const _=fn(l.index,d);return new td(_,_)}return 47&l.type?new td(d[li],d):null}(Nr(),Nn(),16==(16&l))}class kf{constructor(){}supports(d){return Uu(d)}create(d){return new al(d)}}const DD=(l,d)=>d;class al{constructor(d){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=d||DD}forEachItem(d){let f;for(f=this._itHead;null!==f;f=f._next)d(f)}forEachOperation(d){let f=this._itHead,_=this._removalsHead,M=0,j=null;for(;f||_;){const ee=!_||f&&f.currentIndex<gb(_,M,j)?f:_,Ee=gb(ee,M,j),ke=ee.currentIndex;if(ee===_)M--,_=_._nextRemoved;else if(f=f._next,null==ee.previousIndex)M++;else{j||(j=[]);const nt=Ee-M,Tt=ke-M;if(nt!=Tt){for(let nn=0;nn<nt;nn++){const ln=nn<j.length?j[nn]:j[nn]=0,xn=ln+nn;Tt<=xn&&xn<nt&&(j[nn]=ln+1)}j[ee.previousIndex]=Tt-nt}}Ee!==ke&&d(ee,Ee,ke)}}forEachPreviousItem(d){let f;for(f=this._previousItHead;null!==f;f=f._nextPrevious)d(f)}forEachAddedItem(d){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)d(f)}forEachMovedItem(d){let f;for(f=this._movesHead;null!==f;f=f._nextMoved)d(f)}forEachRemovedItem(d){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)d(f)}forEachIdentityChange(d){let f;for(f=this._identityChangesHead;null!==f;f=f._nextIdentityChange)d(f)}diff(d){if(null==d&&(d=[]),!Uu(d))throw new T(900,!1);return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let M,j,ee,f=this._itHead,_=!1;if(Array.isArray(d)){this.length=d.length;for(let Ee=0;Ee<this.length;Ee++)j=d[Ee],ee=this._trackByFn(Ee,j),null!==f&&Object.is(f.trackById,ee)?(_&&(f=this._verifyReinsertion(f,j,ee,Ee)),Object.is(f.item,j)||this._addIdentityChange(f,j)):(f=this._mismatch(f,j,ee,Ee),_=!0),f=f._next}else M=0,function oS(l,d){if(Array.isArray(l))for(let f=0;f<l.length;f++)d(l[f]);else{const f=l[Symbol.iterator]();let _;for(;!(_=f.next()).done;)d(_.value)}}(d,Ee=>{ee=this._trackByFn(M,Ee),null!==f&&Object.is(f.trackById,ee)?(_&&(f=this._verifyReinsertion(f,Ee,ee,M)),Object.is(f.item,Ee)||this._addIdentityChange(f,Ee)):(f=this._mismatch(f,Ee,ee,M),_=!0),f=f._next,M++}),this.length=M;return this._truncate(f),this.collection=d,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let d;for(d=this._previousItHead=this._itHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._additionsHead;null!==d;d=d._nextAdded)d.previousIndex=d.currentIndex;for(this._additionsHead=this._additionsTail=null,d=this._movesHead;null!==d;d=d._nextMoved)d.previousIndex=d.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(d,f,_,M){let j;return null===d?j=this._itTail:(j=d._prev,this._remove(d)),null!==(d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null))?(Object.is(d.item,f)||this._addIdentityChange(d,f),this._reinsertAfter(d,j,M)):null!==(d=null===this._linkedRecords?null:this._linkedRecords.get(_,M))?(Object.is(d.item,f)||this._addIdentityChange(d,f),this._moveAfter(d,j,M)):d=this._addAfter(new xD(f,_),j,M),d}_verifyReinsertion(d,f,_,M){let j=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null);return null!==j?d=this._reinsertAfter(j,d._prev,M):d.currentIndex!=M&&(d.currentIndex=M,this._addToMoves(d,M)),d}_truncate(d){for(;null!==d;){const f=d._next;this._addToRemovals(this._unlink(d)),d=f}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(d,f,_){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(d);const M=d._prevRemoved,j=d._nextRemoved;return null===M?this._removalsHead=j:M._nextRemoved=j,null===j?this._removalsTail=M:j._prevRemoved=M,this._insertAfter(d,f,_),this._addToMoves(d,_),d}_moveAfter(d,f,_){return this._unlink(d),this._insertAfter(d,f,_),this._addToMoves(d,_),d}_addAfter(d,f,_){return this._insertAfter(d,f,_),this._additionsTail=null===this._additionsTail?this._additionsHead=d:this._additionsTail._nextAdded=d,d}_insertAfter(d,f,_){const M=null===f?this._itHead:f._next;return d._next=M,d._prev=f,null===M?this._itTail=d:M._prev=d,null===f?this._itHead=d:f._next=d,null===this._linkedRecords&&(this._linkedRecords=new MD),this._linkedRecords.put(d),d.currentIndex=_,d}_remove(d){return this._addToRemovals(this._unlink(d))}_unlink(d){null!==this._linkedRecords&&this._linkedRecords.remove(d);const f=d._prev,_=d._next;return null===f?this._itHead=_:f._next=_,null===_?this._itTail=f:_._prev=f,d}_addToMoves(d,f){return d.previousIndex===f||(this._movesTail=null===this._movesTail?this._movesHead=d:this._movesTail._nextMoved=d),d}_addToRemovals(d){return null===this._unlinkedRecords&&(this._unlinkedRecords=new MD),this._unlinkedRecords.put(d),d.currentIndex=null,d._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=d,d._prevRemoved=null):(d._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=d),d}_addIdentityChange(d,f){return d.item=f,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=d:this._identityChangesTail._nextIdentityChange=d,d}}class xD{constructor(d,f){this.item=d,this.trackById=f,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TA{constructor(){this._head=null,this._tail=null}add(d){null===this._head?(this._head=this._tail=d,d._nextDup=null,d._prevDup=null):(this._tail._nextDup=d,d._prevDup=this._tail,d._nextDup=null,this._tail=d)}get(d,f){let _;for(_=this._head;null!==_;_=_._nextDup)if((null===f||f<=_.currentIndex)&&Object.is(_.trackById,d))return _;return null}remove(d){const f=d._prevDup,_=d._nextDup;return null===f?this._head=_:f._nextDup=_,null===_?this._tail=f:_._prevDup=f,null===this._head}}class MD{constructor(){this.map=new Map}put(d){const f=d.trackById;let _=this.map.get(f);_||(_=new TA,this.map.set(f,_)),_.add(d)}get(d,f){const M=this.map.get(d);return M?M.get(d,f):null}remove(d){const f=d.trackById;return this.map.get(f).remove(d)&&this.map.delete(f),d}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gb(l,d,f){const _=l.previousIndex;if(null===_)return _;let M=0;return f&&_<f.length&&(M=f[_]),_+d+M}class _b{constructor(){}supports(d){return d instanceof Map||im(d)}create(){return new AD}}class AD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(d){let f;for(f=this._mapHead;null!==f;f=f._next)d(f)}forEachPreviousItem(d){let f;for(f=this._previousMapHead;null!==f;f=f._nextPrevious)d(f)}forEachChangedItem(d){let f;for(f=this._changesHead;null!==f;f=f._nextChanged)d(f)}forEachAddedItem(d){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)d(f)}forEachRemovedItem(d){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)d(f)}diff(d){if(d){if(!(d instanceof Map||im(d)))throw new T(900,!1)}else d=new Map;return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let f=this._mapHead;if(this._appendAfter=null,this._forEach(d,(_,M)=>{if(f&&f.key===M)this._maybeAddToChanges(f,_),this._appendAfter=f,f=f._next;else{const j=this._getOrCreateRecordForKey(M,_);f=this._insertBeforeOrAppend(f,j)}}),f){f._prev&&(f._prev._next=null),this._removalsHead=f;for(let _=f;null!==_;_=_._nextRemoved)_===this._mapHead&&(this._mapHead=null),this._records.delete(_.key),_._nextRemoved=_._next,_.previousValue=_.currentValue,_.currentValue=null,_._prev=null,_._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(d,f){if(d){const _=d._prev;return f._next=d,f._prev=_,d._prev=f,_&&(_._next=f),d===this._mapHead&&(this._mapHead=f),this._appendAfter=d,d}return this._appendAfter?(this._appendAfter._next=f,f._prev=this._appendAfter):this._mapHead=f,this._appendAfter=f,null}_getOrCreateRecordForKey(d,f){if(this._records.has(d)){const M=this._records.get(d);this._maybeAddToChanges(M,f);const j=M._prev,ee=M._next;return j&&(j._next=ee),ee&&(ee._prev=j),M._next=null,M._prev=null,M}const _=new wD(d);return this._records.set(d,_),_.currentValue=f,this._addToAdditions(_),_}_reset(){if(this.isDirty){let d;for(this._previousMapHead=this._mapHead,d=this._previousMapHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._changesHead;null!==d;d=d._nextChanged)d.previousValue=d.currentValue;for(d=this._additionsHead;null!=d;d=d._nextAdded)d.previousValue=d.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(d,f){Object.is(f,d.currentValue)||(d.previousValue=d.currentValue,d.currentValue=f,this._addToChanges(d))}_addToAdditions(d){null===this._additionsHead?this._additionsHead=this._additionsTail=d:(this._additionsTail._nextAdded=d,this._additionsTail=d)}_addToChanges(d){null===this._changesHead?this._changesHead=this._changesTail=d:(this._changesTail._nextChanged=d,this._changesTail=d)}_forEach(d,f){d instanceof Map?d.forEach(f):Object.keys(d).forEach(_=>f(d[_],_))}}class wD{constructor(d){this.key=d,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vb(){return new qp([new kf])}let qp=(()=>{class l{static#e=this.\u0275prov=Ae({token:l,providedIn:"root",factory:vb});constructor(f){this.factories=f}static create(f,_){if(null!=_){const M=_.factories.slice();f=f.concat(M)}return new l(f)}static extend(f){return{provide:l,useFactory:_=>l.create(f,_||vb()),deps:[[l,new ou,new Nc]]}}find(f){const _=this.factories.find(M=>M.supports(f));if(null!=_)return _;throw new T(901,!1)}}return l})();function yb(){return new Jp([new _b])}let Jp=(()=>{class l{static#e=this.\u0275prov=Ae({token:l,providedIn:"root",factory:yb});constructor(f){this.factories=f}static create(f,_){if(_){const M=_.factories.slice();f=f.concat(M)}return new l(f)}static extend(f){return{provide:l,useFactory:_=>l.create(f,_||yb()),deps:[[l,new ou,new Nc]]}}find(f){const _=this.factories.find(M=>M.supports(f));if(_)return _;throw new T(901,!1)}}return l})();const RD=Of(null,"core",[]);let ND=(()=>{class l{constructor(f){}static#e=this.\u0275fac=function(_){return new(_||l)(xe(Ps))};static#t=this.\u0275mod=Li({type:l});static#n=this.\u0275inj=K({})}return l})();function YD(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}function gc(l,d){const f=di(l),_=d.elementInjector||Oh();return new nd(f).create(_,d.projectableNodes,d.hostElement,d.environmentInjector)}function zD(l){const d=di(l);if(!d)return null;const f=new nd(d);return{get selector(){return f.selector},get type(){return f.componentType},get inputs(){return f.inputs},get outputs(){return f.outputs},get ngContentSelectors(){return f.ngContentSelectors},get isStandalone(){return d.standalone},get isSignal(){return d.signals}}}},95:(wn,qe,x)=>{"use strict";x.d(qe,{Zs:()=>ro,Fj:()=>T,qu:()=>Rr,NI:()=>Li,u:()=>fr,sg:()=>ei,u5:()=>Oi,Cf:()=>B,JU:()=>P,a5:()=>Q,JJ:()=>pe,JL:()=>ce,F:()=>Fi,On:()=>Qi,YN:()=>_o,wV:()=>si,UX:()=>Jt,EJ:()=>to,kI:()=>ae,_Y:()=>go,Kr:()=>no});var c=x(5879),t=x(6814),E=x(7715),O=x(5592),b=x(7453),F=x(4829),L=x(9940),D=x(8251),m=x(7400),h=x(2714),v=x(7398);let A=(()=>{class We{constructor(je,yt){this._renderer=je,this._elementRef=yt,this.onChange=Wt=>{},this.onTouched=()=>{}}setProperty(je,yt){this._renderer.setProperty(this._elementRef.nativeElement,je,yt)}registerOnTouched(je){this.onTouched=je}registerOnChange(je){this.onChange=je}setDisabledState(je){this.setProperty("disabled",je)}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(c.Qsj),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:We})}return We})(),U=(()=>{class We extends A{static#e=this.\u0275fac=function(){let je;return function(Wt){return(je||(je=c.n5z(We)))(Wt||We)}}();static#t=this.\u0275dir=c.lG2({type:We,features:[c.qOj]})}return We})();const P=new c.OlP("NgValueAccessor"),R={provide:P,useExisting:(0,c.Gpc)(()=>T),multi:!0},w=new c.OlP("CompositionEventMode");let T=(()=>{class We extends A{constructor(je,yt,Wt){super(je,yt),this._compositionMode=Wt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function C(){const We=(0,t.q)()?(0,t.q)().getUserAgent():"";return/android (\d+)/.test(We.toLowerCase())}())}writeValue(je){this.setProperty("value",je??"")}_handleInput(je){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(je)}_compositionStart(){this._composing=!0}_compositionEnd(je){this._composing=!1,this._compositionMode&&this.onChange(je)}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(w,8))};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(yt,Wt){1&yt&&c.NdJ("input",function(fi){return Wt._handleInput(fi.target.value)})("blur",function(){return Wt.onTouched()})("compositionstart",function(){return Wt._compositionStart()})("compositionend",function(fi){return Wt._compositionEnd(fi.target.value)})},features:[c._Bn([R]),c.qOj]})}return We})();function N(We){return null==We||("string"==typeof We||Array.isArray(We))&&0===We.length}function S(We){return null!=We&&"number"==typeof We.length}const B=new c.OlP("NgValidators"),Y=new c.OlP("NgAsyncValidators"),re=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ae{static min(Xe){return function Re(We){return Xe=>{if(N(Xe.value)||N(We))return null;const je=parseFloat(Xe.value);return!isNaN(je)&&je<We?{min:{min:We,actual:Xe.value}}:null}}(Xe)}static max(Xe){return function z(We){return Xe=>{if(N(Xe.value)||N(We))return null;const je=parseFloat(Xe.value);return!isNaN(je)&&je>We?{max:{max:We,actual:Xe.value}}:null}}(Xe)}static required(Xe){return oe(Xe)}static requiredTrue(Xe){return H(Xe)}static email(Xe){return function me(We){return N(We.value)||re.test(We.value)?null:{email:!0}}(Xe)}static minLength(Xe){return function te(We){return Xe=>N(Xe.value)||!S(Xe.value)?null:Xe.value.length<We?{minlength:{requiredLength:We,actualLength:Xe.value.length}}:null}(Xe)}static maxLength(Xe){return function ue(We){return Xe=>S(Xe.value)&&Xe.value.length>We?{maxlength:{requiredLength:We,actualLength:Xe.value.length}}:null}(Xe)}static pattern(Xe){return function Se(We){if(!We)return Ie;let Xe,je;return"string"==typeof We?(je="","^"!==We.charAt(0)&&(je+="^"),je+=We,"$"!==We.charAt(We.length-1)&&(je+="$"),Xe=new RegExp(je)):(je=We.toString(),Xe=We),yt=>{if(N(yt.value))return null;const Wt=yt.value;return Xe.test(Wt)?null:{pattern:{requiredPattern:je,actualValue:Wt}}}}(Xe)}static nullValidator(Xe){return null}static compose(Xe){return Oe(Xe)}static composeAsync(Xe){return ze(Xe)}}function oe(We){return N(We.value)?{required:!0}:null}function H(We){return!0===We.value?null:{required:!0}}function Ie(We){return null}function le(We){return null!=We}function Me(We){return(0,c.QGY)(We)?(0,E.D)(We):We}function we(We){let Xe={};return We.forEach(je=>{Xe=null!=je?{...Xe,...je}:Xe}),0===Object.keys(Xe).length?null:Xe}function _e(We,Xe){return Xe.map(je=>je(We))}function Pe(We){return We.map(Xe=>function Le(We){return!We.validate}(Xe)?Xe:je=>Xe.validate(je))}function Oe(We){if(!We)return null;const Xe=We.filter(le);return 0==Xe.length?null:function(je){return we(_e(je,Xe))}}function Ue(We){return null!=We?Oe(Pe(We)):null}function ze(We){if(!We)return null;const Xe=We.filter(le);return 0==Xe.length?null:function(je){return function g(...We){const Xe=(0,L.jO)(We),{args:je,keys:yt}=(0,b.D)(We),Wt=new O.y(Wn=>{const{length:fi}=je;if(!fi)return void Wn.complete();const Kr=new Array(fi);let Br=fi,Go=fi;for(let ir=0;ir<fi;ir++){let yo=!1;(0,F.Xf)(je[ir]).subscribe((0,D.x)(Wn,Zi=>{yo||(yo=!0,Go--),Kr[ir]=Zi},()=>Br--,void 0,()=>{(!Br||!yo)&&(Go||Wn.next(yt?(0,h.n)(yt,Kr):Kr),Wn.complete())}))}});return Xe?Wt.pipe((0,m.Z)(Xe)):Wt}(_e(je,Xe).map(Me)).pipe((0,v.U)(we))}}function He(We){return null!=We?ze(Pe(We)):null}function Ae(We,Xe){return null===We?[Xe]:Array.isArray(We)?[...We,Xe]:[We,Xe]}function ye(We){return We._rawValidators}function K(We){return We._rawAsyncValidators}function ie(We){return We?Array.isArray(We)?We:[We]:[]}function he(We,Xe){return Array.isArray(We)?We.includes(Xe):We===Xe}function $(We,Xe){const je=ie(Xe);return ie(We).forEach(Wt=>{he(je,Wt)||je.push(Wt)}),je}function Z(We,Xe){return ie(Xe).filter(je=>!he(We,je))}class W{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Xe){this._rawValidators=Xe||[],this._composedValidatorFn=Ue(this._rawValidators)}_setAsyncValidators(Xe){this._rawAsyncValidators=Xe||[],this._composedAsyncValidatorFn=He(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Xe){this._onDestroyCallbacks.push(Xe)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Xe=>Xe()),this._onDestroyCallbacks=[]}reset(Xe=void 0){this.control&&this.control.reset(Xe)}hasError(Xe,je){return!!this.control&&this.control.hasError(Xe,je)}getError(Xe,je){return this.control?this.control.getError(Xe,je):null}}class X extends W{get formDirective(){return null}get path(){return null}}class Q extends W{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class q{constructor(Xe){this._cd=Xe}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let pe=(()=>{class We extends q{constructor(je){super(je)}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(Q,2))};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(yt,Wt){2&yt&&c.ekj("ng-untouched",Wt.isUntouched)("ng-touched",Wt.isTouched)("ng-pristine",Wt.isPristine)("ng-dirty",Wt.isDirty)("ng-valid",Wt.isValid)("ng-invalid",Wt.isInvalid)("ng-pending",Wt.isPending)},features:[c.qOj]})}return We})(),ce=(()=>{class We extends q{constructor(je){super(je)}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(X,10))};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(yt,Wt){2&yt&&c.ekj("ng-untouched",Wt.isUntouched)("ng-touched",Wt.isTouched)("ng-pristine",Wt.isPristine)("ng-dirty",Wt.isDirty)("ng-valid",Wt.isValid)("ng-invalid",Wt.isInvalid)("ng-pending",Wt.isPending)("ng-submitted",Wt.isSubmitted)},features:[c.qOj]})}return We})();const dt="VALID",xe="INVALID",fe="PENDING",ge="DISABLED";function st(We){return(bt(We)?We.validators:We)||null}function Dt(We,Xe){return(bt(Xe)?Xe.asyncValidators:We)||null}function bt(We){return null!=We&&!Array.isArray(We)&&"object"==typeof We}function Nt(We,Xe,je){const yt=We.controls;if(!(Xe?Object.keys(yt):yt).length)throw new c.vHH(1e3,"");if(!yt[je])throw new c.vHH(1001,"")}function Zt(We,Xe,je){We._forEachChild((yt,Wt)=>{if(void 0===je[Wt])throw new c.vHH(1002,"")})}class wt{constructor(Xe,je){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Xe),this._assignAsyncValidators(je)}get validator(){return this._composedValidatorFn}set validator(Xe){this._rawValidators=this._composedValidatorFn=Xe}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Xe){this._rawAsyncValidators=this._composedAsyncValidatorFn=Xe}get parent(){return this._parent}get valid(){return this.status===dt}get invalid(){return this.status===xe}get pending(){return this.status==fe}get disabled(){return this.status===ge}get enabled(){return this.status!==ge}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Xe){this._assignValidators(Xe)}setAsyncValidators(Xe){this._assignAsyncValidators(Xe)}addValidators(Xe){this.setValidators($(Xe,this._rawValidators))}addAsyncValidators(Xe){this.setAsyncValidators($(Xe,this._rawAsyncValidators))}removeValidators(Xe){this.setValidators(Z(Xe,this._rawValidators))}removeAsyncValidators(Xe){this.setAsyncValidators(Z(Xe,this._rawAsyncValidators))}hasValidator(Xe){return he(this._rawValidators,Xe)}hasAsyncValidator(Xe){return he(this._rawAsyncValidators,Xe)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Xe={}){this.touched=!0,this._parent&&!Xe.onlySelf&&this._parent.markAsTouched(Xe)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Xe=>Xe.markAllAsTouched())}markAsUntouched(Xe={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(je=>{je.markAsUntouched({onlySelf:!0})}),this._parent&&!Xe.onlySelf&&this._parent._updateTouched(Xe)}markAsDirty(Xe={}){this.pristine=!1,this._parent&&!Xe.onlySelf&&this._parent.markAsDirty(Xe)}markAsPristine(Xe={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(je=>{je.markAsPristine({onlySelf:!0})}),this._parent&&!Xe.onlySelf&&this._parent._updatePristine(Xe)}markAsPending(Xe={}){this.status=fe,!1!==Xe.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Xe.onlySelf&&this._parent.markAsPending(Xe)}disable(Xe={}){const je=this._parentMarkedDirty(Xe.onlySelf);this.status=ge,this.errors=null,this._forEachChild(yt=>{yt.disable({...Xe,onlySelf:!0})}),this._updateValue(),!1!==Xe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Xe,skipPristineCheck:je}),this._onDisabledChange.forEach(yt=>yt(!0))}enable(Xe={}){const je=this._parentMarkedDirty(Xe.onlySelf);this.status=dt,this._forEachChild(yt=>{yt.enable({...Xe,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Xe.emitEvent}),this._updateAncestors({...Xe,skipPristineCheck:je}),this._onDisabledChange.forEach(yt=>yt(!1))}_updateAncestors(Xe){this._parent&&!Xe.onlySelf&&(this._parent.updateValueAndValidity(Xe),Xe.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Xe){this._parent=Xe}getRawValue(){return this.value}updateValueAndValidity(Xe={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dt||this.status===fe)&&this._runAsyncValidator(Xe.emitEvent)),!1!==Xe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Xe.onlySelf&&this._parent.updateValueAndValidity(Xe)}_updateTreeValidity(Xe={emitEvent:!0}){this._forEachChild(je=>je._updateTreeValidity(Xe)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Xe.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ge:dt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Xe){if(this.asyncValidator){this.status=fe,this._hasOwnPendingAsyncValidator=!0;const je=Me(this.asyncValidator(this));this._asyncValidationSubscription=je.subscribe(yt=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(yt,{emitEvent:Xe})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Xe,je={}){this.errors=Xe,this._updateControlsErrors(!1!==je.emitEvent)}get(Xe){let je=Xe;return null==je||(Array.isArray(je)||(je=je.split(".")),0===je.length)?null:je.reduce((yt,Wt)=>yt&&yt._find(Wt),this)}getError(Xe,je){const yt=je?this.get(je):this;return yt&&yt.errors?yt.errors[Xe]:null}hasError(Xe,je){return!!this.getError(Xe,je)}get root(){let Xe=this;for(;Xe._parent;)Xe=Xe._parent;return Xe}_updateControlsErrors(Xe){this.status=this._calculateStatus(),Xe&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Xe)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?ge:this.errors?xe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fe)?fe:this._anyControlsHaveStatus(xe)?xe:dt}_anyControlsHaveStatus(Xe){return this._anyControls(je=>je.status===Xe)}_anyControlsDirty(){return this._anyControls(Xe=>Xe.dirty)}_anyControlsTouched(){return this._anyControls(Xe=>Xe.touched)}_updatePristine(Xe={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Xe.onlySelf&&this._parent._updatePristine(Xe)}_updateTouched(Xe={}){this.touched=this._anyControlsTouched(),this._parent&&!Xe.onlySelf&&this._parent._updateTouched(Xe)}_registerOnCollectionChange(Xe){this._onCollectionChange=Xe}_setUpdateStrategy(Xe){bt(Xe)&&null!=Xe.updateOn&&(this._updateOn=Xe.updateOn)}_parentMarkedDirty(Xe){return!Xe&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Xe){return null}_assignValidators(Xe){this._rawValidators=Array.isArray(Xe)?Xe.slice():Xe,this._composedValidatorFn=function mt(We){return Array.isArray(We)?Ue(We):We||null}(this._rawValidators)}_assignAsyncValidators(Xe){this._rawAsyncValidators=Array.isArray(Xe)?Xe.slice():Xe,this._composedAsyncValidatorFn=function ut(We){return Array.isArray(We)?He(We):We||null}(this._rawAsyncValidators)}}class Ht extends wt{constructor(Xe,je,yt){super(st(je),Dt(yt,je)),this.controls=Xe,this._initObservables(),this._setUpdateStrategy(je),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Xe,je){return this.controls[Xe]?this.controls[Xe]:(this.controls[Xe]=je,je.setParent(this),je._registerOnCollectionChange(this._onCollectionChange),je)}addControl(Xe,je,yt={}){this.registerControl(Xe,je),this.updateValueAndValidity({emitEvent:yt.emitEvent}),this._onCollectionChange()}removeControl(Xe,je={}){this.controls[Xe]&&this.controls[Xe]._registerOnCollectionChange(()=>{}),delete this.controls[Xe],this.updateValueAndValidity({emitEvent:je.emitEvent}),this._onCollectionChange()}setControl(Xe,je,yt={}){this.controls[Xe]&&this.controls[Xe]._registerOnCollectionChange(()=>{}),delete this.controls[Xe],je&&this.registerControl(Xe,je),this.updateValueAndValidity({emitEvent:yt.emitEvent}),this._onCollectionChange()}contains(Xe){return this.controls.hasOwnProperty(Xe)&&this.controls[Xe].enabled}setValue(Xe,je={}){Zt(this,0,Xe),Object.keys(Xe).forEach(yt=>{Nt(this,!0,yt),this.controls[yt].setValue(Xe[yt],{onlySelf:!0,emitEvent:je.emitEvent})}),this.updateValueAndValidity(je)}patchValue(Xe,je={}){null!=Xe&&(Object.keys(Xe).forEach(yt=>{const Wt=this.controls[yt];Wt&&Wt.patchValue(Xe[yt],{onlySelf:!0,emitEvent:je.emitEvent})}),this.updateValueAndValidity(je))}reset(Xe={},je={}){this._forEachChild((yt,Wt)=>{yt.reset(Xe[Wt],{onlySelf:!0,emitEvent:je.emitEvent})}),this._updatePristine(je),this._updateTouched(je),this.updateValueAndValidity(je)}getRawValue(){return this._reduceChildren({},(Xe,je,yt)=>(Xe[yt]=je.getRawValue(),Xe))}_syncPendingControls(){let Xe=this._reduceChildren(!1,(je,yt)=>!!yt._syncPendingControls()||je);return Xe&&this.updateValueAndValidity({onlySelf:!0}),Xe}_forEachChild(Xe){Object.keys(this.controls).forEach(je=>{const yt=this.controls[je];yt&&Xe(yt,je)})}_setUpControls(){this._forEachChild(Xe=>{Xe.setParent(this),Xe._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Xe){for(const[je,yt]of Object.entries(this.controls))if(this.contains(je)&&Xe(yt))return!0;return!1}_reduceValue(){return this._reduceChildren({},(je,yt,Wt)=>((yt.enabled||this.disabled)&&(je[Wt]=yt.value),je))}_reduceChildren(Xe,je){let yt=Xe;return this._forEachChild((Wt,Wn)=>{yt=je(yt,Wt,Wn)}),yt}_allControlsDisabled(){for(const Xe of Object.keys(this.controls))if(this.controls[Xe].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Xe){return this.controls.hasOwnProperty(Xe)?this.controls[Xe]:null}}class yn extends Ht{}const In=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>kn}),kn="always";function qn(We,Xe){return[...Xe.path,We]}function ui(We,Xe,je=kn){Xt(We,Xe),Xe.valueAccessor.writeValue(We.value),(We.disabled||"always"===je)&&Xe.valueAccessor.setDisabledState?.(We.disabled),function tt(We,Xe){Xe.valueAccessor.registerOnChange(je=>{We._pendingValue=je,We._pendingChange=!0,We._pendingDirty=!0,"change"===We.updateOn&&Yt(We,Xe)})}(We,Xe),function Gt(We,Xe){const je=(yt,Wt)=>{Xe.valueAccessor.writeValue(yt),Wt&&Xe.viewToModelUpdate(yt)};We.registerOnChange(je),Xe._registerOnDestroy(()=>{We._unregisterOnChange(je)})}(We,Xe),function Ct(We,Xe){Xe.valueAccessor.registerOnTouched(()=>{We._pendingTouched=!0,"blur"===We.updateOn&&We._pendingChange&&Yt(We,Xe),"submit"!==We.updateOn&&We.markAsTouched()})}(We,Xe),function at(We,Xe){if(Xe.valueAccessor.setDisabledState){const je=yt=>{Xe.valueAccessor.setDisabledState(yt)};We.registerOnDisabledChange(je),Xe._registerOnDestroy(()=>{We._unregisterOnDisabledChange(je)})}}(We,Xe)}function Ft(We,Xe,je=!0){const yt=()=>{};Xe.valueAccessor&&(Xe.valueAccessor.registerOnChange(yt),Xe.valueAccessor.registerOnTouched(yt)),Ke(We,Xe),We&&(Xe._invokeOnDestroyCallbacks(),We._registerOnCollectionChange(()=>{}))}function St(We,Xe){We.forEach(je=>{je.registerOnValidatorChange&&je.registerOnValidatorChange(Xe)})}function Xt(We,Xe){const je=ye(We);null!==Xe.validator?We.setValidators(Ae(je,Xe.validator)):"function"==typeof je&&We.setValidators([je]);const yt=K(We);null!==Xe.asyncValidator?We.setAsyncValidators(Ae(yt,Xe.asyncValidator)):"function"==typeof yt&&We.setAsyncValidators([yt]);const Wt=()=>We.updateValueAndValidity();St(Xe._rawValidators,Wt),St(Xe._rawAsyncValidators,Wt)}function Ke(We,Xe){let je=!1;if(null!==We){if(null!==Xe.validator){const Wt=ye(We);if(Array.isArray(Wt)&&Wt.length>0){const Wn=Wt.filter(fi=>fi!==Xe.validator);Wn.length!==Wt.length&&(je=!0,We.setValidators(Wn))}}if(null!==Xe.asyncValidator){const Wt=K(We);if(Array.isArray(Wt)&&Wt.length>0){const Wn=Wt.filter(fi=>fi!==Xe.asyncValidator);Wn.length!==Wt.length&&(je=!0,We.setAsyncValidators(Wn))}}}const yt=()=>{};return St(Xe._rawValidators,yt),St(Xe._rawAsyncValidators,yt),je}function Yt(We,Xe){We._pendingDirty&&We.markAsDirty(),We.setValue(We._pendingValue,{emitModelToViewChange:!1}),Xe.viewToModelUpdate(We._pendingValue),We._pendingChange=!1}function _n(We,Xe){Xt(We,Xe)}function ht(We,Xe){if(!We.hasOwnProperty("model"))return!1;const je=We.model;return!!je.isFirstChange()||!Object.is(Xe,je.currentValue)}function ve(We,Xe){We._syncPendingControls(),Xe.forEach(je=>{const yt=je.control;"submit"===yt.updateOn&&yt._pendingChange&&(je.viewToModelUpdate(yt._pendingValue),yt._pendingChange=!1)})}function lt(We,Xe){if(!Xe)return null;let je,yt,Wt;return Array.isArray(Xe),Xe.forEach(Wn=>{Wn.constructor===T?je=Wn:function rn(We){return Object.getPrototypeOf(We.constructor)===U}(Wn)?yt=Wn:Wt=Wn}),Wt||yt||je||null}const Kt={provide:X,useExisting:(0,c.Gpc)(()=>Fi)},vn=(()=>Promise.resolve())();let Fi=(()=>{class We extends X{constructor(je,yt,Wt){super(),this.callSetDisabledState=Wt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new Ht({},Ue(je),He(yt))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(je){vn.then(()=>{const yt=this._findContainer(je.path);je.control=yt.registerControl(je.name,je.control),ui(je.control,je,this.callSetDisabledState),je.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(je)})}getControl(je){return this.form.get(je.path)}removeControl(je){vn.then(()=>{const yt=this._findContainer(je.path);yt&&yt.removeControl(je.name),this._directives.delete(je)})}addFormGroup(je){vn.then(()=>{const yt=this._findContainer(je.path),Wt=new Ht({});_n(Wt,je),yt.registerControl(je.name,Wt),Wt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(je){vn.then(()=>{const yt=this._findContainer(je.path);yt&&yt.removeControl(je.name)})}getFormGroup(je){return this.form.get(je.path)}updateModel(je,yt){vn.then(()=>{this.form.get(je.path).setValue(yt)})}setValue(je){this.control.setValue(je)}onSubmit(je){return this.submitted=!0,ve(this.form,this._directives),this.ngSubmit.emit(je),"dialog"===je?.target?.method}onReset(){this.resetForm()}resetForm(je=void 0){this.form.reset(je),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(je){return je.pop(),je.length?this.form.get(je):this.form}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(B,10),c.Y36(Y,10),c.Y36(In,8))};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(yt,Wt){1&yt&&c.NdJ("submit",function(fi){return Wt.onSubmit(fi)})("reset",function(){return Wt.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Kt]),c.qOj]})}return We})();function sr(We,Xe){const je=We.indexOf(Xe);je>-1&&We.splice(je,1)}function Ti(We){return"object"==typeof We&&null!==We&&2===Object.keys(We).length&&"value"in We&&"disabled"in We}const Li=class extends wt{constructor(Xe=null,je,yt){super(st(je),Dt(yt,je)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Xe),this._setUpdateStrategy(je),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bt(je)&&(je.nonNullable||je.initialValueIsDefault)&&(this.defaultValue=Ti(Xe)?Xe.value:Xe)}setValue(Xe,je={}){this.value=this._pendingValue=Xe,this._onChange.length&&!1!==je.emitModelToViewChange&&this._onChange.forEach(yt=>yt(this.value,!1!==je.emitViewToModelChange)),this.updateValueAndValidity(je)}patchValue(Xe,je={}){this.setValue(Xe,je)}reset(Xe=this.defaultValue,je={}){this._applyFormState(Xe),this.markAsPristine(je),this.markAsUntouched(je),this.setValue(this.value,je),this._pendingChange=!1}_updateValue(){}_anyControls(Xe){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Xe){this._onChange.push(Xe)}_unregisterOnChange(Xe){sr(this._onChange,Xe)}registerOnDisabledChange(Xe){this._onDisabledChange.push(Xe)}_unregisterOnDisabledChange(Xe){sr(this._onDisabledChange,Xe)}_forEachChild(Xe){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Xe){Ti(Xe)?(this.value=this._pendingValue=Xe.value,Xe.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Xe}},ko={provide:Q,useExisting:(0,c.Gpc)(()=>Qi)},$r=(()=>Promise.resolve())();let Qi=(()=>{class We extends Q{constructor(je,yt,Wt,Wn,fi,Kr){super(),this._changeDetectorRef=fi,this.callSetDisabledState=Kr,this.control=new Li,this._registered=!1,this.name="",this.update=new c.vpe,this._parent=je,this._setValidators(yt),this._setAsyncValidators(Wt),this.valueAccessor=lt(0,Wn)}ngOnChanges(je){if(this._checkForErrors(),!this._registered||"name"in je){if(this._registered&&(this._checkName(),this.formDirective)){const yt=je.name.previousValue;this.formDirective.removeControl({name:yt,path:this._getPath(yt)})}this._setUpControl()}"isDisabled"in je&&this._updateDisabled(je),ht(je,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(je){this.viewModel=je,this.update.emit(je)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ui(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(je){$r.then(()=>{this.control.setValue(je,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(je){const yt=je.isDisabled.currentValue,Wt=0!==yt&&(0,c.VuI)(yt);$r.then(()=>{Wt&&!this.control.disabled?this.control.disable():!Wt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(je){return this._parent?qn(je,this._parent):[je]}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(X,9),c.Y36(B,10),c.Y36(Y,10),c.Y36(P,10),c.Y36(c.sBO,8),c.Y36(In,8))};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([ko]),c.qOj,c.TTD]})}return We})(),go=(()=>{class We{static#e=this.\u0275fac=function(yt){return new(yt||We)};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return We})();const Xi={provide:P,useExisting:(0,c.Gpc)(()=>si),multi:!0};let si=(()=>{class We extends U{writeValue(je){this.setProperty("value",je??"")}registerOnChange(je){this.onChange=yt=>{je(""==yt?null:parseFloat(yt))}}static#e=this.\u0275fac=function(){let je;return function(Wt){return(je||(je=c.n5z(We)))(Wt||We)}}();static#t=this.\u0275dir=c.lG2({type:We,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(yt,Wt){1&yt&&c.NdJ("input",function(fi){return Wt.onChange(fi.target.value)})("blur",function(){return Wt.onTouched()})},features:[c._Bn([Xi]),c.qOj]})}return We})(),Ri=(()=>{class We{static#e=this.\u0275fac=function(yt){return new(yt||We)};static#t=this.\u0275mod=c.oAB({type:We});static#n=this.\u0275inj=c.cJS({})}return We})();const jt=new c.OlP("NgModelWithFormControlWarning"),Rn={provide:X,useExisting:(0,c.Gpc)(()=>ei)};let ei=(()=>{class We extends X{constructor(je,yt,Wt){super(),this.callSetDisabledState=Wt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(je),this._setAsyncValidators(yt)}ngOnChanges(je){this._checkFormPresent(),je.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ke(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(je){const yt=this.form.get(je.path);return ui(yt,je,this.callSetDisabledState),yt.updateValueAndValidity({emitEvent:!1}),this.directives.push(je),yt}getControl(je){return this.form.get(je.path)}removeControl(je){Ft(je.control||null,je,!1),function it(We,Xe){const je=We.indexOf(Xe);je>-1&&We.splice(je,1)}(this.directives,je)}addFormGroup(je){this._setUpFormContainer(je)}removeFormGroup(je){this._cleanUpFormContainer(je)}getFormGroup(je){return this.form.get(je.path)}addFormArray(je){this._setUpFormContainer(je)}removeFormArray(je){this._cleanUpFormContainer(je)}getFormArray(je){return this.form.get(je.path)}updateModel(je,yt){this.form.get(je.path).setValue(yt)}onSubmit(je){return this.submitted=!0,ve(this.form,this.directives),this.ngSubmit.emit(je),"dialog"===je?.target?.method}onReset(){this.resetForm()}resetForm(je=void 0){this.form.reset(je),this.submitted=!1}_updateDomValue(){this.directives.forEach(je=>{const yt=je.control,Wt=this.form.get(je.path);yt!==Wt&&(Ft(yt||null,je),(We=>We instanceof Li)(Wt)&&(ui(Wt,je,this.callSetDisabledState),je.control=Wt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(je){const yt=this.form.get(je.path);_n(yt,je),yt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(je){if(this.form){const yt=this.form.get(je.path);yt&&function kt(We,Xe){return Ke(We,Xe)}(yt,je)&&yt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Xt(this.form,this),this._oldForm&&Ke(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(B,10),c.Y36(Y,10),c.Y36(In,8))};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["","formGroup",""]],hostBindings:function(yt,Wt){1&yt&&c.NdJ("submit",function(fi){return Wt.onSubmit(fi)})("reset",function(){return Wt.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Rn]),c.qOj,c.TTD]})}return We})();const xr={provide:Q,useExisting:(0,c.Gpc)(()=>fr)};let fr=(()=>{class We extends Q{set isDisabled(je){}static#e=this._ngModelWarningSentOnce=!1;constructor(je,yt,Wt,Wn,fi){super(),this._ngModelWarningConfig=fi,this._added=!1,this.name=null,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=je,this._setValidators(yt),this._setAsyncValidators(Wt),this.valueAccessor=lt(0,Wn)}ngOnChanges(je){this._added||this._setUpControl(),ht(je,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(je){this.viewModel=je,this.update.emit(je)}get path(){return qn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(X,13),c.Y36(B,10),c.Y36(Y,10),c.Y36(P,10),c.Y36(jt,8))};static#n=this.\u0275dir=c.lG2({type:We,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([xr]),c.qOj,c.TTD]})}return We})();const Ma={provide:P,useExisting:(0,c.Gpc)(()=>to),multi:!0};function qr(We,Xe){return null==We?`${Xe}`:(Xe&&"object"==typeof Xe&&(Xe="Object"),`${We}: ${Xe}`.slice(0,50))}let to=(()=>{class We extends U{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(je){this._compareWith=je}writeValue(je){this.value=je;const Wt=qr(this._getOptionId(je),je);this.setProperty("value",Wt)}registerOnChange(je){this.onChange=yt=>{this.value=this._getOptionValue(yt),je(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(je){for(const yt of this._optionMap.keys())if(this._compareWith(this._optionMap.get(yt),je))return yt;return null}_getOptionValue(je){const yt=function Pr(We){return We.split(":")[0]}(je);return this._optionMap.has(yt)?this._optionMap.get(yt):je}static#e=this.\u0275fac=function(){let je;return function(Wt){return(je||(je=c.n5z(We)))(Wt||We)}}();static#t=this.\u0275dir=c.lG2({type:We,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(yt,Wt){1&yt&&c.NdJ("change",function(fi){return Wt.onChange(fi.target.value)})("blur",function(){return Wt.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Ma]),c.qOj]})}return We})(),_o=(()=>{class We{constructor(je,yt,Wt){this._element=je,this._renderer=yt,this._select=Wt,this._select&&(this.id=this._select._registerOption())}set ngValue(je){null!=this._select&&(this._select._optionMap.set(this.id,je),this._setElementValue(qr(this.id,je)),this._select.writeValue(this._select.value))}set value(je){this._setElementValue(je),this._select&&this._select.writeValue(this._select.value)}_setElementValue(je){this._renderer.setProperty(this._element.nativeElement,"value",je)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(to,9))};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return We})();const Ei={provide:P,useExisting:(0,c.Gpc)(()=>kr),multi:!0};function Ha(We,Xe){return null==We?`${Xe}`:("string"==typeof Xe&&(Xe=`'${Xe}'`),Xe&&"object"==typeof Xe&&(Xe="Object"),`${We}: ${Xe}`.slice(0,50))}let kr=(()=>{class We extends U{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(je){this._compareWith=je}writeValue(je){let yt;if(this.value=je,Array.isArray(je)){const Wt=je.map(Wn=>this._getOptionId(Wn));yt=(Wn,fi)=>{Wn._setSelected(Wt.indexOf(fi.toString())>-1)}}else yt=(Wt,Wn)=>{Wt._setSelected(!1)};this._optionMap.forEach(yt)}registerOnChange(je){this.onChange=yt=>{const Wt=[],Wn=yt.selectedOptions;if(void 0!==Wn){const fi=Wn;for(let Kr=0;Kr<fi.length;Kr++){const Go=this._getOptionValue(fi[Kr].value);Wt.push(Go)}}else{const fi=yt.options;for(let Kr=0;Kr<fi.length;Kr++){const Br=fi[Kr];if(Br.selected){const Go=this._getOptionValue(Br.value);Wt.push(Go)}}}this.value=Wt,je(Wt)}}_registerOption(je){const yt=(this._idCounter++).toString();return this._optionMap.set(yt,je),yt}_getOptionId(je){for(const yt of this._optionMap.keys())if(this._compareWith(this._optionMap.get(yt)._value,je))return yt;return null}_getOptionValue(je){const yt=function ca(We){return We.split(":")[0]}(je);return this._optionMap.has(yt)?this._optionMap.get(yt)._value:je}static#e=this.\u0275fac=function(){let je;return function(Wt){return(je||(je=c.n5z(We)))(Wt||We)}}();static#t=this.\u0275dir=c.lG2({type:We,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(yt,Wt){1&yt&&c.NdJ("change",function(fi){return Wt.onChange(fi.target)})("blur",function(){return Wt.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Ei]),c.qOj]})}return We})(),no=(()=>{class We{constructor(je,yt,Wt){this._element=je,this._renderer=yt,this._select=Wt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(je){null!=this._select&&(this._value=je,this._setElementValue(Ha(this.id,je)),this._select.writeValue(this._select.value))}set value(je){this._select?(this._value=je,this._setElementValue(Ha(this.id,je)),this._select.writeValue(this._select.value)):this._setElementValue(je)}_setElementValue(je){this._renderer.setProperty(this._element.nativeElement,"value",je)}_setSelected(je){this._renderer.setProperty(this._element.nativeElement,"selected",je)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(kr,9))};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return We})(),Wi=(()=>{class We{constructor(){this._validator=Ie}ngOnChanges(je){if(this.inputName in je){const yt=this.normalizeInput(je[this.inputName].currentValue);this._enabled=this.enabled(yt),this._validator=this._enabled?this.createValidator(yt):Ie,this._onChange&&this._onChange()}}validate(je){return this._validator(je)}registerOnValidatorChange(je){this._onChange=je}enabled(je){return null!=je}static#e=this.\u0275fac=function(yt){return new(yt||We)};static#t=this.\u0275dir=c.lG2({type:We,features:[c.TTD]})}return We})();const lr={provide:B,useExisting:(0,c.Gpc)(()=>Gi),multi:!0},io={provide:B,useExisting:(0,c.Gpc)(()=>ro),multi:!0};let Gi=(()=>{class We extends Wi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.VuI,this.createValidator=je=>oe}enabled(je){return je}static#e=this.\u0275fac=function(){let je;return function(Wt){return(je||(je=c.n5z(We)))(Wt||We)}}();static#t=this.\u0275dir=c.lG2({type:We,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(yt,Wt){2&yt&&c.uIk("required",Wt._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([lr]),c.qOj]})}return We})(),ro=(()=>{class We extends Gi{constructor(){super(...arguments),this.createValidator=je=>H}static#e=this.\u0275fac=function(){let je;return function(Wt){return(je||(je=c.n5z(We)))(Wt||We)}}();static#t=this.\u0275dir=c.lG2({type:We,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(yt,Wt){2&yt&&c.uIk("required",Wt._enabled?"":null)},features:[c._Bn([io]),c.qOj]})}return We})(),Vo=(()=>{class We{static#e=this.\u0275fac=function(yt){return new(yt||We)};static#t=this.\u0275mod=c.oAB({type:We});static#n=this.\u0275inj=c.cJS({imports:[Ri]})}return We})();class wa extends wt{constructor(Xe,je,yt){super(st(je),Dt(yt,je)),this.controls=Xe,this._initObservables(),this._setUpdateStrategy(je),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Xe){return this.controls[this._adjustIndex(Xe)]}push(Xe,je={}){this.controls.push(Xe),this._registerControl(Xe),this.updateValueAndValidity({emitEvent:je.emitEvent}),this._onCollectionChange()}insert(Xe,je,yt={}){this.controls.splice(Xe,0,je),this._registerControl(je),this.updateValueAndValidity({emitEvent:yt.emitEvent})}removeAt(Xe,je={}){let yt=this._adjustIndex(Xe);yt<0&&(yt=0),this.controls[yt]&&this.controls[yt]._registerOnCollectionChange(()=>{}),this.controls.splice(yt,1),this.updateValueAndValidity({emitEvent:je.emitEvent})}setControl(Xe,je,yt={}){let Wt=this._adjustIndex(Xe);Wt<0&&(Wt=0),this.controls[Wt]&&this.controls[Wt]._registerOnCollectionChange(()=>{}),this.controls.splice(Wt,1),je&&(this.controls.splice(Wt,0,je),this._registerControl(je)),this.updateValueAndValidity({emitEvent:yt.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Xe,je={}){Zt(this,0,Xe),Xe.forEach((yt,Wt)=>{Nt(this,!1,Wt),this.at(Wt).setValue(yt,{onlySelf:!0,emitEvent:je.emitEvent})}),this.updateValueAndValidity(je)}patchValue(Xe,je={}){null!=Xe&&(Xe.forEach((yt,Wt)=>{this.at(Wt)&&this.at(Wt).patchValue(yt,{onlySelf:!0,emitEvent:je.emitEvent})}),this.updateValueAndValidity(je))}reset(Xe=[],je={}){this._forEachChild((yt,Wt)=>{yt.reset(Xe[Wt],{onlySelf:!0,emitEvent:je.emitEvent})}),this._updatePristine(je),this._updateTouched(je),this.updateValueAndValidity(je)}getRawValue(){return this.controls.map(Xe=>Xe.getRawValue())}clear(Xe={}){this.controls.length<1||(this._forEachChild(je=>je._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Xe.emitEvent}))}_adjustIndex(Xe){return Xe<0?Xe+this.length:Xe}_syncPendingControls(){let Xe=this.controls.reduce((je,yt)=>!!yt._syncPendingControls()||je,!1);return Xe&&this.updateValueAndValidity({onlySelf:!0}),Xe}_forEachChild(Xe){this.controls.forEach((je,yt)=>{Xe(je,yt)})}_updateValue(){this.value=this.controls.filter(Xe=>Xe.enabled||this.disabled).map(Xe=>Xe.value)}_anyControls(Xe){return this.controls.some(je=>je.enabled&&Xe(je))}_setUpControls(){this._forEachChild(Xe=>this._registerControl(Xe))}_allControlsDisabled(){for(const Xe of this.controls)if(Xe.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Xe){Xe.setParent(this),Xe._registerOnCollectionChange(this._onCollectionChange)}_find(Xe){return this.at(Xe)??null}}function ua(We){return!!We&&(void 0!==We.asyncValidators||void 0!==We.validators||void 0!==We.updateOn)}let Rr=(()=>{class We{constructor(){this.useNonNullable=!1}get nonNullable(){const je=new We;return je.useNonNullable=!0,je}group(je,yt=null){const Wt=this._reduceControls(je);let Wn={};return ua(yt)?Wn=yt:null!==yt&&(Wn.validators=yt.validator,Wn.asyncValidators=yt.asyncValidator),new Ht(Wt,Wn)}record(je,yt=null){const Wt=this._reduceControls(je);return new yn(Wt,yt)}control(je,yt,Wt){let Wn={};return this.useNonNullable?(ua(yt)?Wn=yt:(Wn.validators=yt,Wn.asyncValidators=Wt),new Li(je,{...Wn,nonNullable:!0})):new Li(je,yt,Wt)}array(je,yt,Wt){const Wn=je.map(fi=>this._createControl(fi));return new wa(Wn,yt,Wt)}_reduceControls(je){const yt={};return Object.keys(je).forEach(Wt=>{yt[Wt]=this._createControl(je[Wt])}),yt}_createControl(je){return je instanceof Li||je instanceof wt?je:Array.isArray(je)?this.control(je[0],je.length>1?je[1]:null,je.length>2?je[2]:null):this.control(je)}static#e=this.\u0275fac=function(yt){return new(yt||We)};static#t=this.\u0275prov=c.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})(),Oi=(()=>{class We{static withConfig(je){return{ngModule:We,providers:[{provide:In,useValue:je.callSetDisabledState??kn}]}}static#e=this.\u0275fac=function(yt){return new(yt||We)};static#t=this.\u0275mod=c.oAB({type:We});static#n=this.\u0275inj=c.cJS({imports:[Vo]})}return We})(),Jt=(()=>{class We{static withConfig(je){return{ngModule:We,providers:[{provide:jt,useValue:je.warnOnNgModelWithFormControl??"always"},{provide:In,useValue:je.callSetDisabledState??kn}]}}static#e=this.\u0275fac=function(yt){return new(yt||We)};static#t=this.\u0275mod=c.oAB({type:We});static#n=this.\u0275inj=c.cJS({imports:[Vo]})}return We})()},2296:(wn,qe,x)=>{"use strict";x.d(qe,{RK:()=>_e,lW:()=>oe,ot:()=>Pe});var c=x(2831),t=x(5879),E=x(4300),O=x(3680),b=x(6814);const F=["mat-button",""],L=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],D=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],U=["mat-icon-button",""],P=["*"],k={capture:!0},R=["focus","click","mouseenter","touchstart"],C="mat-button-ripple-uninitialized";let w=(()=>{class Oe{constructor(){this._document=(0,t.f3M)(b.K0,{optional:!0}),this._animationMode=(0,t.f3M)(t.QbO,{optional:!0}),this._globalRippleOptions=(0,t.f3M)(O.Y2,{optional:!0}),this._platform=(0,t.f3M)(c.t4),this._ngZone=(0,t.f3M)(t.R0b),this._onInteraction=ze=>{if(ze.target===this._document)return;const Ae=ze.target.closest(`[${C}]`);Ae&&(Ae.removeAttribute(C),this._appendRipple(Ae))},this._ngZone.runOutsideAngular(()=>{for(const ze of R)this._document?.addEventListener(ze,this._onInteraction,k)})}ngOnDestroy(){for(const ze of R)this._document?.removeEventListener(ze,this._onInteraction,k)}_appendRipple(ze){if(!this._document)return;const He=this._document.createElement("span");He.classList.add("mat-mdc-button-ripple");const Ae=new T(ze,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);Ae.rippleConfig.centered=ze.hasAttribute("mat-icon-button"),new O.IR(Ae,this._ngZone,He,this._platform).setupTriggerEvents(ze),ze.append(He)}_createMatRipple(ze){if(!this._document)return;ze.querySelector(".mat-mdc-button-ripple")?.remove(),ze.removeAttribute(C);const He=this._document.createElement("span");He.classList.add("mat-mdc-button-ripple");const Ae=new O.wG(new t.SBq(He),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Ae._isInitialized=!0,Ae.trigger=ze,ze.append(He),Ae}static#e=this.\u0275fac=function(He){return new(He||Oe)};static#t=this.\u0275prov=t.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}return Oe})();class T{constructor(Ue,ze,He){this._button=Ue,this._globalRippleOptions=ze,this._setRippleConfig(ze,He)}_setRippleConfig(Ue,ze){this.rippleConfig=Ue||{},"NoopAnimations"===ze&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const B=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Y=(0,O.pj)((0,O.Id)((0,O.Kr)(class{constructor(Oe){this._elementRef=Oe}})));let re=(()=>{class Oe extends Y{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(ze){this._ripple=ze}constructor(ze,He,Ae,ye){super(ze),this._platform=He,this._ngZone=Ae,this._animationMode=ye,this._focusMonitor=(0,t.f3M)(E.tE),this._rippleLoader=(0,t.f3M)(w),this._isFab=!1;const K=ze.nativeElement.classList;for(const ie of B)this._hasHostAttributes(ie.selector)&&ie.mdcClasses.forEach(he=>{K.add(he)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(ze="program",He){ze?this._focusMonitor.focusVia(this._elementRef.nativeElement,ze,He):this._elementRef.nativeElement.focus(He)}_hasHostAttributes(...ze){return ze.some(He=>this._elementRef.nativeElement.hasAttribute(He))}static#e=this.\u0275fac=function(He){t.$Z()};static#t=this.\u0275dir=t.lG2({type:Oe,features:[t.qOj,t.TTD]})}return Oe})(),oe=(()=>{class Oe extends re{constructor(ze,He,Ae,ye){super(ze,He,Ae,ye)}static#e=this.\u0275fac=function(He){return new(He||Oe)(t.Y36(t.SBq),t.Y36(c.t4),t.Y36(t.R0b),t.Y36(t.QbO,8))};static#t=this.\u0275cmp=t.Xpm({type:Oe,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(He,Ae){2&He&&(t.uIk("disabled",Ae.disabled||null),t.ekj("_mat-animation-noopable","NoopAnimations"===Ae._animationMode)("mat-unthemed",!Ae.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[t.qOj],attrs:F,ngContentSelectors:D,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(He,Ae){1&He&&(t.F$t(L),t._UZ(0,"span",0),t.Hsn(1),t.TgZ(2,"span",1),t.Hsn(3,1),t.qZA(),t.Hsn(4,2),t._UZ(5,"span",2)(6,"span",3)),2&He&&t.ekj("mdc-button__ripple",!Ae._isFab)("mdc-fab__ripple",Ae._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Oe})(),_e=(()=>{class Oe extends re{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(ze,He,Ae,ye){super(ze,He,Ae,ye)}static#e=this.\u0275fac=function(He){return new(He||Oe)(t.Y36(t.SBq),t.Y36(c.t4),t.Y36(t.R0b),t.Y36(t.QbO,8))};static#t=this.\u0275cmp=t.Xpm({type:Oe,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(He,Ae){2&He&&(t.uIk("disabled",Ae.disabled||null),t.ekj("_mat-animation-noopable","NoopAnimations"===Ae._animationMode)("mat-unthemed",!Ae.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[t.qOj],attrs:U,ngContentSelectors:P,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(He,Ae){1&He&&(t.F$t(),t._UZ(0,"span",0),t.Hsn(1),t._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Oe})(),Pe=(()=>{class Oe{static#e=this.\u0275fac=function(He){return new(He||Oe)};static#t=this.\u0275mod=t.oAB({type:Oe});static#n=this.\u0275inj=t.cJS({imports:[O.BQ,O.si,O.BQ]})}return Oe})()},5986:(wn,qe,x)=>{"use strict";x.d(qe,{oG:()=>V,p9:()=>w});var c=x(5879),t=x(95),E=x(3680),O=x(2495);const b=["input"],F=["label"],L=["*"],D=new c.OlP("mat-checkbox-default-options",{providedIn:"root",factory:m});function m(){return{color:"accent",clickAction:"check-indeterminate"}}const h={provide:t.JU,useExisting:(0,c.Gpc)(()=>V),multi:!0};class g{}let v=0;const A=m(),U=(0,E.sb)((0,E.pj)((0,E.Kr)((0,E.Id)(class{constructor(T){this._elementRef=T}}))));let P=(()=>{class T extends U{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(S){this._required=(0,O.Ig)(S)}constructor(S,B,Y,re,ae,Re,z){super(B),this._changeDetectorRef=Y,this._ngZone=re,this._animationMode=Re,this._options=z,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new c.vpe,this.indeterminateChange=new c.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||A,this.color=this.defaultColor=this._options.color||A.color,this.tabIndex=parseInt(ae)||0,this.id=this._uniqueId=`${S}${++v}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(S){const B=(0,O.Ig)(S);B!=this.checked&&(this._checked=B,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(S){const B=(0,O.Ig)(S);B!==this.disabled&&(this._disabled=B,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(S){const B=S!=this._indeterminate;this._indeterminate=(0,O.Ig)(S),B&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(S){this.checked=!!S}registerOnChange(S){this._controlValueAccessorChangeFn=S}registerOnTouched(S){this._onTouched=S}setDisabledState(S){this.disabled=S}_transitionCheckState(S){let B=this._currentCheckState,Y=this._getAnimationTargetElement();if(B!==S&&Y&&(this._currentAnimationClass&&Y.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(B,S),this._currentCheckState=S,this._currentAnimationClass.length>0)){Y.classList.add(this._currentAnimationClass);const re=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{Y.classList.remove(re)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const S=this._options?.clickAction;this.disabled||"noop"===S?!this.disabled&&"noop"===S&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==S&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(S){S.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(S,B){if("NoopAnimations"===this._animationMode)return"";switch(S){case 0:if(1===B)return this._animationClasses.uncheckedToChecked;if(3==B)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===B?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===B?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===B?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(S){const B=this._inputElement;B&&(B.nativeElement.indeterminate=S)}static#e=this.\u0275fac=function(B){c.$Z()};static#t=this.\u0275dir=c.lG2({type:T,viewQuery:function(B,Y){if(1&B&&(c.Gf(b,5),c.Gf(F,5),c.Gf(E.wG,5)),2&B){let re;c.iGM(re=c.CRH())&&(Y._inputElement=re.first),c.iGM(re=c.CRH())&&(Y._labelElement=re.first),c.iGM(re=c.CRH())&&(Y.ripple=re.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[c.qOj]})}return T})(),V=(()=>{class T extends P{constructor(S,B,Y,re,ae,Re){super("mat-mdc-checkbox-",S,B,Y,re,ae,Re),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(S){const B=new g;return B.source=this,B.checked=S,B}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(S){S.target&&this._labelElement.nativeElement.contains(S.target)&&S.stopPropagation()}static#e=this.\u0275fac=function(B){return new(B||T)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.$8M("tabindex"),c.Y36(c.QbO,8),c.Y36(D,8))};static#t=this.\u0275cmp=c.Xpm({type:T,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(B,Y){2&B&&(c.Ikx("id",Y.id),c.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),c.ekj("_mat-animation-noopable","NoopAnimations"===Y._animationMode)("mdc-checkbox--disabled",Y.disabled)("mat-mdc-checkbox-disabled",Y.disabled)("mat-mdc-checkbox-checked",Y.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[c._Bn([h]),c.qOj],ngContentSelectors:L,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(B,Y){if(1&B&&(c.F$t(),c.TgZ(0,"div",0),c.NdJ("click",function(ae){return Y._preventBubblingFromLabel(ae)}),c.TgZ(1,"div",1,2)(3,"div",3),c.NdJ("click",function(){return Y._onTouchTargetClick()}),c.qZA(),c.TgZ(4,"input",4,5),c.NdJ("blur",function(){return Y._onBlur()})("click",function(){return Y._onInputClick()})("change",function(ae){return Y._onInteractionEvent(ae)}),c.qZA(),c._UZ(6,"div",6),c.TgZ(7,"div",7),c.O4$(),c.TgZ(8,"svg",8),c._UZ(9,"path",9),c.qZA(),c.kcU(),c._UZ(10,"div",10),c.qZA(),c._UZ(11,"div",11),c.qZA(),c.TgZ(12,"label",12,13),c.Hsn(14),c.qZA()()),2&B){const re=c.MAs(2);c.ekj("mdc-form-field--align-end","before"==Y.labelPosition),c.xp6(4),c.ekj("mdc-checkbox--selected",Y.checked),c.Q6J("checked",Y.checked)("indeterminate",Y.indeterminate)("disabled",Y.disabled)("id",Y.inputId)("required",Y.required)("tabIndex",Y.tabIndex),c.uIk("aria-label",Y.ariaLabel||null)("aria-labelledby",Y.ariaLabelledby)("aria-describedby",Y.ariaDescribedby)("name",Y.name)("value",Y.value),c.xp6(7),c.Q6J("matRippleTrigger",re)("matRippleDisabled",Y.disableRipple||Y.disabled)("matRippleCentered",!0),c.xp6(1),c.Q6J("for",Y.inputId)}},dependencies:[E.wG],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return T})(),C=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=c.oAB({type:T});static#n=this.\u0275inj=c.cJS({})}return T})(),w=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=c.oAB({type:T});static#n=this.\u0275inj=c.cJS({imports:[E.BQ,E.si,C,E.BQ,C]})}return T})()},3680:(wn,qe,x)=>{"use strict";x.d(qe,{yN:()=>w,mZ:()=>T,_A:()=>Ie,rD:()=>ze,sG:()=>le,K7:()=>It,HF:()=>Ze,Y2:()=>pe,BQ:()=>B,XK:()=>Oe,ey:()=>Qt,Ng:()=>Un,wG:()=>ce,si:()=>Ce,IR:()=>J,CB:()=>dn,jH:()=>pn,pj:()=>z,Kr:()=>oe,Id:()=>Re,FD:()=>me,dB:()=>te,sb:()=>H});var c=x(5879),t=x(4300),E=x(9388),b=x(6814),F=x(2831),L=x(2495),D=x(5592),m=x(8645),h=x(6028);const A=["text"];function U(ot,dt){if(1&ot&&c._UZ(0,"mat-pseudo-checkbox",6),2&ot){const xe=c.oxw();c.Q6J("disabled",xe.disabled)("state",xe.selected?"checked":"unchecked")}}function P(ot,dt){if(1&ot&&c._UZ(0,"mat-pseudo-checkbox",7),2&ot){const xe=c.oxw();c.Q6J("disabled",xe.disabled)}}function V(ot,dt){if(1&ot&&(c.TgZ(0,"span",8),c._uU(1),c.qZA()),2&ot){const xe=c.oxw();c.xp6(1),c.hij("(",xe.group.label,")")}}const k=[[["mat-icon"]],"*"],R=["mat-icon","*"];let w=(()=>{class ot{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return ot})(),T=(()=>{class ot{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return ot})();const S=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function N(){return!0}});let B=(()=>{class ot{constructor(xe,fe,ge){this._sanityChecks=fe,this._document=ge,this._hasDoneGlobalChecks=!1,xe._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(xe){return!(0,F.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[xe])}static#e=this.\u0275fac=function(fe){return new(fe||ot)(c.LFG(t.qm),c.LFG(S,8),c.LFG(b.K0))};static#t=this.\u0275mod=c.oAB({type:ot});static#n=this.\u0275inj=c.cJS({imports:[E.vT,E.vT]})}return ot})();function Re(ot){return class extends ot{get disabled(){return this._disabled}set disabled(dt){this._disabled=(0,L.Ig)(dt)}constructor(...dt){super(...dt),this._disabled=!1}}}function z(ot,dt){return class extends ot{get color(){return this._color}set color(xe){const fe=xe||this.defaultColor;fe!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),fe&&this._elementRef.nativeElement.classList.add(`mat-${fe}`),this._color=fe)}constructor(...xe){super(...xe),this.defaultColor=dt,this.color=dt}}}function oe(ot){return class extends ot{get disableRipple(){return this._disableRipple}set disableRipple(dt){this._disableRipple=(0,L.Ig)(dt)}constructor(...dt){super(...dt),this._disableRipple=!1}}}function H(ot,dt=0){return class extends ot{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(xe){this._tabIndex=null!=xe?(0,L.su)(xe):this.defaultTabIndex}constructor(...xe){super(...xe),this._tabIndex=dt,this.defaultTabIndex=dt}}}function me(ot){return class extends ot{updateErrorState(){const dt=this.errorState,st=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);st!==dt&&(this.errorState=st,this.stateChanges.next())}constructor(...dt){super(...dt),this.errorState=!1}}}function te(ot){return class extends ot{constructor(...dt){super(...dt),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new D.y(xe=>{this._isInitialized?this._notifySubscriber(xe):this._pendingSubscribers.push(xe)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(dt){dt.next(),dt.complete()}}}const ue=new c.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function Se(){return(0,c.f3M)(c.soG)}});class Ie{constructor(){this._localeChanges=new m.x,this.localeChanges=this._localeChanges}getValidDateOrNull(dt){return this.isDateInstance(dt)&&this.isValid(dt)?dt:null}deserialize(dt){return null==dt||this.isDateInstance(dt)&&this.isValid(dt)?dt:this.invalid()}setLocale(dt){this.locale=dt,this._localeChanges.next()}compareDate(dt,xe){return this.getYear(dt)-this.getYear(xe)||this.getMonth(dt)-this.getMonth(xe)||this.getDate(dt)-this.getDate(xe)}sameDate(dt,xe){if(dt&&xe){let fe=this.isValid(dt),ge=this.isValid(xe);return fe&&ge?!this.compareDate(dt,xe):fe==ge}return dt==xe}clampDate(dt,xe,fe){return xe&&this.compareDate(dt,xe)<0?xe:fe&&this.compareDate(dt,fe)>0?fe:dt}}const le=new c.OlP("mat-date-formats"),Me=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function we(ot,dt){const xe=Array(ot);for(let fe=0;fe<ot;fe++)xe[fe]=dt(fe);return xe}let _e=(()=>{class ot extends Ie{constructor(xe,fe){super(),this.useUtcForDisplay=!1,super.setLocale(xe)}getYear(xe){return xe.getFullYear()}getMonth(xe){return xe.getMonth()}getDate(xe){return xe.getDate()}getDayOfWeek(xe){return xe.getDay()}getMonthNames(xe){const fe=new Intl.DateTimeFormat(this.locale,{month:xe,timeZone:"utc"});return we(12,ge=>this._format(fe,new Date(2017,ge,1)))}getDateNames(){const xe=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return we(31,fe=>this._format(xe,new Date(2017,0,fe+1)))}getDayOfWeekNames(xe){const fe=new Intl.DateTimeFormat(this.locale,{weekday:xe,timeZone:"utc"});return we(7,ge=>this._format(fe,new Date(2017,0,ge+1)))}getYearName(xe){const fe=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(fe,xe)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(xe){return this.getDate(this._createDateWithOverflow(this.getYear(xe),this.getMonth(xe)+1,0))}clone(xe){return new Date(xe.getTime())}createDate(xe,fe,ge){let st=this._createDateWithOverflow(xe,fe,ge);return st.getMonth(),st}today(){return new Date}parse(xe,fe){return"number"==typeof xe?new Date(xe):xe?new Date(Date.parse(xe)):null}format(xe,fe){if(!this.isValid(xe))throw Error("NativeDateAdapter: Cannot format invalid date.");const ge=new Intl.DateTimeFormat(this.locale,{...fe,timeZone:"utc"});return this._format(ge,xe)}addCalendarYears(xe,fe){return this.addCalendarMonths(xe,12*fe)}addCalendarMonths(xe,fe){let ge=this._createDateWithOverflow(this.getYear(xe),this.getMonth(xe)+fe,this.getDate(xe));return this.getMonth(ge)!=((this.getMonth(xe)+fe)%12+12)%12&&(ge=this._createDateWithOverflow(this.getYear(ge),this.getMonth(ge),0)),ge}addCalendarDays(xe,fe){return this._createDateWithOverflow(this.getYear(xe),this.getMonth(xe),this.getDate(xe)+fe)}toIso8601(xe){return[xe.getUTCFullYear(),this._2digit(xe.getUTCMonth()+1),this._2digit(xe.getUTCDate())].join("-")}deserialize(xe){if("string"==typeof xe){if(!xe)return null;if(Me.test(xe)){let fe=new Date(xe);if(this.isValid(fe))return fe}}return super.deserialize(xe)}isDateInstance(xe){return xe instanceof Date}isValid(xe){return!isNaN(xe.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(xe,fe,ge){const st=new Date;return st.setFullYear(xe,fe,ge),st.setHours(0,0,0,0),st}_2digit(xe){return("00"+xe).slice(-2)}_format(xe,fe){const ge=new Date;return ge.setUTCFullYear(fe.getFullYear(),fe.getMonth(),fe.getDate()),ge.setUTCHours(fe.getHours(),fe.getMinutes(),fe.getSeconds(),fe.getMilliseconds()),xe.format(ge)}static#e=this.\u0275fac=function(fe){return new(fe||ot)(c.LFG(ue,8),c.LFG(F.t4))};static#t=this.\u0275prov=c.Yz7({token:ot,factory:ot.\u0275fac})}return ot})();const Le={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Pe=(()=>{class ot{static#e=this.\u0275fac=function(fe){return new(fe||ot)};static#t=this.\u0275mod=c.oAB({type:ot});static#n=this.\u0275inj=c.cJS({providers:[{provide:Ie,useClass:_e}]})}return ot})(),Oe=(()=>{class ot{static#e=this.\u0275fac=function(fe){return new(fe||ot)};static#t=this.\u0275mod=c.oAB({type:ot});static#n=this.\u0275inj=c.cJS({providers:[{provide:le,useValue:Le}],imports:[Pe]})}return ot})(),ze=(()=>{class ot{isErrorState(xe,fe){return!!(xe&&xe.invalid&&(xe.touched||fe&&fe.submitted))}static#e=this.\u0275fac=function(fe){return new(fe||ot)};static#t=this.\u0275prov=c.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();class ie{constructor(dt,xe,fe,ge=!1){this._renderer=dt,this.element=xe,this.config=fe,this._animationForciblyDisabledThroughCss=ge,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const he=(0,F.i$)({passive:!0,capture:!0});class ${constructor(){this._events=new Map,this._delegateEventHandler=dt=>{const xe=(0,F.sA)(dt);xe&&this._events.get(dt.type)?.forEach((fe,ge)=>{(ge===xe||ge.contains(xe))&&fe.forEach(st=>st.handleEvent(dt))})}}addHandler(dt,xe,fe,ge){const st=this._events.get(xe);if(st){const mt=st.get(fe);mt?mt.add(ge):st.set(fe,new Set([ge]))}else this._events.set(xe,new Map([[fe,new Set([ge])]])),dt.runOutsideAngular(()=>{document.addEventListener(xe,this._delegateEventHandler,he)})}removeHandler(dt,xe,fe){const ge=this._events.get(dt);if(!ge)return;const st=ge.get(xe);st&&(st.delete(fe),0===st.size&&ge.delete(xe),0===ge.size&&(this._events.delete(dt),document.removeEventListener(dt,this._delegateEventHandler,he)))}}const Z={enterDuration:225,exitDuration:150},X=(0,F.i$)({passive:!0,capture:!0}),Q=["mousedown","touchstart"],q=["mouseup","mouseleave","touchend","touchcancel"];class J{static#e=this._eventManager=new $;constructor(dt,xe,fe,ge){this._target=dt,this._ngZone=xe,this._platform=ge,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,ge.isBrowser&&(this._containerElement=(0,L.fI)(fe))}fadeInRipple(dt,xe,fe={}){const ge=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),st={...Z,...fe.animation};fe.centered&&(dt=ge.left+ge.width/2,xe=ge.top+ge.height/2);const mt=fe.radius||function de(ot,dt,xe){const fe=Math.max(Math.abs(ot-xe.left),Math.abs(ot-xe.right)),ge=Math.max(Math.abs(dt-xe.top),Math.abs(dt-xe.bottom));return Math.sqrt(fe*fe+ge*ge)}(dt,xe,ge),Dt=dt-ge.left,ut=xe-ge.top,bt=st.enterDuration,Nt=document.createElement("div");Nt.classList.add("mat-ripple-element"),Nt.style.left=Dt-mt+"px",Nt.style.top=ut-mt+"px",Nt.style.height=2*mt+"px",Nt.style.width=2*mt+"px",null!=fe.color&&(Nt.style.backgroundColor=fe.color),Nt.style.transitionDuration=`${bt}ms`,this._containerElement.appendChild(Nt);const Zt=window.getComputedStyle(Nt),Ht=Zt.transitionDuration,en="none"===Zt.transitionProperty||"0s"===Ht||"0s, 0s"===Ht||0===ge.width&&0===ge.height,tn=new ie(this,Nt,fe,en);Nt.style.transform="scale3d(1, 1, 1)",tn.state=0,fe.persistent||(this._mostRecentTransientRipple=tn);let yn=null;return!en&&(bt||st.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Tn=()=>this._finishRippleTransition(tn),In=()=>this._destroyRipple(tn);Nt.addEventListener("transitionend",Tn),Nt.addEventListener("transitioncancel",In),yn={onTransitionEnd:Tn,onTransitionCancel:In}}),this._activeRipples.set(tn,yn),(en||!bt)&&this._finishRippleTransition(tn),tn}fadeOutRipple(dt){if(2===dt.state||3===dt.state)return;const xe=dt.element,fe={...Z,...dt.config.animation};xe.style.transitionDuration=`${fe.exitDuration}ms`,xe.style.opacity="0",dt.state=2,(dt._animationForciblyDisabledThroughCss||!fe.exitDuration)&&this._finishRippleTransition(dt)}fadeOutAll(){this._getActiveRipples().forEach(dt=>dt.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(dt=>{dt.config.persistent||dt.fadeOut()})}setupTriggerEvents(dt){const xe=(0,L.fI)(dt);!this._platform.isBrowser||!xe||xe===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=xe,Q.forEach(fe=>{J._eventManager.addHandler(this._ngZone,fe,xe,this)}))}handleEvent(dt){"mousedown"===dt.type?this._onMousedown(dt):"touchstart"===dt.type?this._onTouchStart(dt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{q.forEach(xe=>{this._triggerElement.addEventListener(xe,this,X)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(dt){0===dt.state?this._startFadeOutTransition(dt):2===dt.state&&this._destroyRipple(dt)}_startFadeOutTransition(dt){const xe=dt===this._mostRecentTransientRipple,{persistent:fe}=dt.config;dt.state=1,!fe&&(!xe||!this._isPointerDown)&&dt.fadeOut()}_destroyRipple(dt){const xe=this._activeRipples.get(dt)??null;this._activeRipples.delete(dt),this._activeRipples.size||(this._containerRect=null),dt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),dt.state=3,null!==xe&&(dt.element.removeEventListener("transitionend",xe.onTransitionEnd),dt.element.removeEventListener("transitioncancel",xe.onTransitionCancel)),dt.element.remove()}_onMousedown(dt){const xe=(0,t.X6)(dt),fe=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!xe&&!fe&&(this._isPointerDown=!0,this.fadeInRipple(dt.clientX,dt.clientY,this._target.rippleConfig))}_onTouchStart(dt){if(!this._target.rippleDisabled&&!(0,t.yG)(dt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const xe=dt.changedTouches;if(xe)for(let fe=0;fe<xe.length;fe++)this.fadeInRipple(xe[fe].clientX,xe[fe].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(dt=>{!dt.config.persistent&&(1===dt.state||dt.config.terminateOnPointerUp&&0===dt.state)&&dt.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const dt=this._triggerElement;dt&&(Q.forEach(xe=>J._eventManager.removeHandler(xe,dt,this)),this._pointerUpEventsRegistered&&q.forEach(xe=>dt.removeEventListener(xe,this,X)))}}const pe=new c.OlP("mat-ripple-global-options");let ce=(()=>{class ot{get disabled(){return this._disabled}set disabled(xe){xe&&this.fadeOutAllNonPersistent(),this._disabled=xe,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(xe){this._trigger=xe,this._setupTriggerEventsIfEnabled()}constructor(xe,fe,ge,st,mt){this._elementRef=xe,this._animationMode=mt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=st||{},this._rippleRenderer=new J(this,fe,xe,ge)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(xe,fe=0,ge){return"number"==typeof xe?this._rippleRenderer.fadeInRipple(xe,fe,{...this.rippleConfig,...ge}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...xe})}static#e=this.\u0275fac=function(fe){return new(fe||ot)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(F.t4),c.Y36(pe,8),c.Y36(c.QbO,8))};static#t=this.\u0275dir=c.lG2({type:ot,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(fe,ge){2&fe&&c.ekj("mat-ripple-unbounded",ge.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return ot})(),Ce=(()=>{class ot{static#e=this.\u0275fac=function(fe){return new(fe||ot)};static#t=this.\u0275mod=c.oAB({type:ot});static#n=this.\u0275inj=c.cJS({imports:[B,B]})}return ot})(),Ye=(()=>{class ot{constructor(xe){this._animationMode=xe,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(fe){return new(fe||ot)(c.Y36(c.QbO,8))};static#t=this.\u0275cmp=c.Xpm({type:ot,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(fe,ge){2&fe&&c.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===ge.state)("mat-pseudo-checkbox-checked","checked"===ge.state)("mat-pseudo-checkbox-disabled",ge.disabled)("mat-pseudo-checkbox-minimal","minimal"===ge.appearance)("mat-pseudo-checkbox-full","full"===ge.appearance)("_mat-animation-noopable","NoopAnimations"===ge._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(fe,ge){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return ot})(),Be=(()=>{class ot{static#e=this.\u0275fac=function(fe){return new(fe||ot)};static#t=this.\u0275mod=c.oAB({type:ot});static#n=this.\u0275inj=c.cJS({imports:[B]})}return ot})();const Ze=new c.OlP("MAT_OPTION_PARENT_COMPONENT"),It=new c.OlP("MatOptgroup");let Pt=0;class Vt{constructor(dt,xe=!1){this.source=dt,this.isUserInput=xe}}let $t=(()=>{class ot{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(xe){this._disabled=(0,L.Ig)(xe)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(xe,fe,ge,st){this._element=xe,this._changeDetectorRef=fe,this._parent=ge,this.group=st,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Pt++,this.onSelectionChange=new c.vpe,this._stateChanges=new m.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(xe=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),xe&&this._emitSelectionChangeEvent())}deselect(xe=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),xe&&this._emitSelectionChangeEvent())}focus(xe,fe){const ge=this._getHostElement();"function"==typeof ge.focus&&ge.focus(fe)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(xe){(xe.keyCode===h.K5||xe.keyCode===h.L_)&&!(0,h.Vb)(xe)&&(this._selectViaInteraction(),xe.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const xe=this.viewValue;xe!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=xe)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(xe=!1){this.onSelectionChange.emit(new Vt(this,xe))}static#e=this.\u0275fac=function(fe){c.$Z()};static#t=this.\u0275dir=c.lG2({type:ot,viewQuery:function(fe,ge){if(1&fe&&c.Gf(A,7),2&fe){let st;c.iGM(st=c.CRH())&&(ge._text=st.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return ot})(),Qt=(()=>{class ot extends $t{constructor(xe,fe,ge,st){super(xe,fe,ge,st)}static#e=this.\u0275fac=function(fe){return new(fe||ot)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Ze,8),c.Y36(It,8))};static#t=this.\u0275cmp=c.Xpm({type:ot,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(fe,ge){1&fe&&c.NdJ("click",function(){return ge._selectViaInteraction()})("keydown",function(mt){return ge._handleKeydown(mt)}),2&fe&&(c.Ikx("id",ge.id),c.uIk("aria-selected",ge.selected)("aria-disabled",ge.disabled.toString()),c.ekj("mdc-list-item--selected",ge.selected)("mat-mdc-option-multiple",ge.multiple)("mat-mdc-option-active",ge.active)("mdc-list-item--disabled",ge.disabled))},exportAs:["matOption"],features:[c.qOj],ngContentSelectors:R,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(fe,ge){1&fe&&(c.F$t(k),c.YNc(0,U,1,2,"mat-pseudo-checkbox",0),c.Hsn(1),c.TgZ(2,"span",1,2),c.Hsn(4,1),c.qZA(),c.YNc(5,P,1,1,"mat-pseudo-checkbox",3),c.YNc(6,V,2,1,"span",4),c._UZ(7,"div",5)),2&fe&&(c.Q6J("ngIf",ge.multiple),c.xp6(5),c.Q6J("ngIf",!ge.multiple&&ge.selected&&!ge.hideSingleSelectionIndicator),c.xp6(1),c.Q6J("ngIf",ge.group&&ge.group._inert),c.xp6(1),c.Q6J("matRippleTrigger",ge._getHostElement())("matRippleDisabled",ge.disabled||ge.disableRipple))},dependencies:[ce,b.O5,Ye],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return ot})();function dn(ot,dt,xe){if(xe.length){let fe=dt.toArray(),ge=xe.toArray(),st=0;for(let mt=0;mt<ot+1;mt++)fe[mt].group&&fe[mt].group===ge[st]&&st++;return st}return 0}function pn(ot,dt,xe,fe){return ot<xe?ot:ot+dt>xe+fe?Math.max(0,ot-fe+dt):xe}let Un=(()=>{class ot{static#e=this.\u0275fac=function(fe){return new(fe||ot)};static#t=this.\u0275mod=c.oAB({type:ot});static#n=this.\u0275inj=c.cJS({imports:[Ce,b.ez,B,Be]})}return ot})()},8034:(wn,qe,x)=>{"use strict";x.d(qe,{FA:()=>Fn,Mq:()=>wt,hl:()=>In,nW:()=>qn});var c=x(4300),t=x(3651),E=x(8484),O=x(6814),b=x(5879),F=x(2296),L=x(799),D=x(3680),m=x(8645),h=x(7394),g=x(3019),v=x(2096),A=x(6028),U=x(9388),P=x(2831),V=x(8180),k=x(7921),R=x(2181),C=x(2495),w=x(6825),T=x(95),N=x(9157),S=x(2032);const B=["mat-calendar-body",""];function Y(ht,rn){if(1&ht&&(b.TgZ(0,"tr",3)(1,"td",4),b._uU(2),b.qZA()()),2&ht){const ve=b.oxw();b.xp6(1),b.Udp("padding-top",ve._cellPadding)("padding-bottom",ve._cellPadding),b.uIk("colspan",ve.numCols),b.xp6(1),b.hij(" ",ve.label," ")}}function re(ht,rn){if(1&ht&&(b.TgZ(0,"td",4),b._uU(1),b.qZA()),2&ht){const ve=b.oxw(2);b.Udp("padding-top",ve._cellPadding)("padding-bottom",ve._cellPadding),b.uIk("colspan",ve._firstRowOffset),b.xp6(1),b.hij(" ",ve._firstRowOffset>=ve.labelMinRequiredCells?ve.label:""," ")}}function ae(ht,rn){if(1&ht){const ve=b.EpF();b.TgZ(0,"td",8)(1,"button",9),b.NdJ("click",function(it){const Kt=b.CHM(ve).$implicit,vn=b.oxw(2);return b.KtG(vn._cellClicked(Kt,it))})("focus",function(it){const Kt=b.CHM(ve).$implicit,vn=b.oxw(2);return b.KtG(vn._emitActiveDateChange(Kt,it))}),b.TgZ(2,"span",10),b._uU(3),b.qZA(),b._UZ(4,"span",11),b.qZA()()}if(2&ht){const ve=rn.$implicit,lt=rn.index,it=b.oxw().index,At=b.oxw();b.Udp("width",At._cellWidth)("padding-top",At._cellPadding)("padding-bottom",At._cellPadding),b.uIk("data-mat-row",it)("data-mat-col",lt),b.xp6(1),b.ekj("mat-calendar-body-disabled",!ve.enabled)("mat-calendar-body-active",At._isActiveCell(it,lt))("mat-calendar-body-range-start",At._isRangeStart(ve.compareValue))("mat-calendar-body-range-end",At._isRangeEnd(ve.compareValue))("mat-calendar-body-in-range",At._isInRange(ve.compareValue))("mat-calendar-body-comparison-bridge-start",At._isComparisonBridgeStart(ve.compareValue,it,lt))("mat-calendar-body-comparison-bridge-end",At._isComparisonBridgeEnd(ve.compareValue,it,lt))("mat-calendar-body-comparison-start",At._isComparisonStart(ve.compareValue))("mat-calendar-body-comparison-end",At._isComparisonEnd(ve.compareValue))("mat-calendar-body-in-comparison-range",At._isInComparisonRange(ve.compareValue))("mat-calendar-body-preview-start",At._isPreviewStart(ve.compareValue))("mat-calendar-body-preview-end",At._isPreviewEnd(ve.compareValue))("mat-calendar-body-in-preview",At._isInPreview(ve.compareValue)),b.Q6J("ngClass",ve.cssClasses)("tabindex",At._isActiveCell(it,lt)?0:-1),b.uIk("aria-label",ve.ariaLabel)("aria-disabled",!ve.enabled||null)("aria-pressed",At._isSelected(ve.compareValue))("aria-current",At.todayValue===ve.compareValue?"date":null)("aria-describedby",At._getDescribedby(ve.compareValue)),b.xp6(1),b.ekj("mat-calendar-body-selected",At._isSelected(ve.compareValue))("mat-calendar-body-comparison-identical",At._isComparisonIdentical(ve.compareValue))("mat-calendar-body-today",At.todayValue===ve.compareValue),b.xp6(1),b.hij(" ",ve.displayValue," ")}}function Re(ht,rn){if(1&ht&&(b.TgZ(0,"tr",5),b.YNc(1,re,2,6,"td",6),b.YNc(2,ae,5,48,"td",7),b.qZA()),2&ht){const ve=rn.$implicit,lt=rn.index,it=b.oxw();b.xp6(1),b.Q6J("ngIf",0===lt&&it._firstRowOffset),b.xp6(1),b.Q6J("ngForOf",ve)}}function z(ht,rn){if(1&ht&&(b.TgZ(0,"th",5)(1,"span",6),b._uU(2),b.qZA(),b.TgZ(3,"span",7),b._uU(4),b.qZA()()),2&ht){const ve=rn.$implicit;b.xp6(2),b.Oqu(ve.long),b.xp6(2),b.Oqu(ve.narrow)}}const oe=["*"];function H(ht,rn){}function me(ht,rn){if(1&ht){const ve=b.EpF();b.TgZ(0,"mat-month-view",5),b.NdJ("activeDateChange",function(it){b.CHM(ve);const At=b.oxw();return b.KtG(At.activeDate=it)})("_userSelection",function(it){b.CHM(ve);const At=b.oxw();return b.KtG(At._dateSelected(it))})("dragStarted",function(it){b.CHM(ve);const At=b.oxw();return b.KtG(At._dragStarted(it))})("dragEnded",function(it){b.CHM(ve);const At=b.oxw();return b.KtG(At._dragEnded(it))}),b.qZA()}if(2&ht){const ve=b.oxw();b.Q6J("activeDate",ve.activeDate)("selected",ve.selected)("dateFilter",ve.dateFilter)("maxDate",ve.maxDate)("minDate",ve.minDate)("dateClass",ve.dateClass)("comparisonStart",ve.comparisonStart)("comparisonEnd",ve.comparisonEnd)("startDateAccessibleName",ve.startDateAccessibleName)("endDateAccessibleName",ve.endDateAccessibleName)("activeDrag",ve._activeDrag)}}function te(ht,rn){if(1&ht){const ve=b.EpF();b.TgZ(0,"mat-year-view",6),b.NdJ("activeDateChange",function(it){b.CHM(ve);const At=b.oxw();return b.KtG(At.activeDate=it)})("monthSelected",function(it){b.CHM(ve);const At=b.oxw();return b.KtG(At._monthSelectedInYearView(it))})("selectedChange",function(it){b.CHM(ve);const At=b.oxw();return b.KtG(At._goToDateInView(it,"month"))}),b.qZA()}if(2&ht){const ve=b.oxw();b.Q6J("activeDate",ve.activeDate)("selected",ve.selected)("dateFilter",ve.dateFilter)("maxDate",ve.maxDate)("minDate",ve.minDate)("dateClass",ve.dateClass)}}function ue(ht,rn){if(1&ht){const ve=b.EpF();b.TgZ(0,"mat-multi-year-view",7),b.NdJ("activeDateChange",function(it){b.CHM(ve);const At=b.oxw();return b.KtG(At.activeDate=it)})("yearSelected",function(it){b.CHM(ve);const At=b.oxw();return b.KtG(At._yearSelectedInMultiYearView(it))})("selectedChange",function(it){b.CHM(ve);const At=b.oxw();return b.KtG(At._goToDateInView(it,"year"))}),b.qZA()}if(2&ht){const ve=b.oxw();b.Q6J("activeDate",ve.activeDate)("selected",ve.selected)("dateFilter",ve.dateFilter)("maxDate",ve.maxDate)("minDate",ve.minDate)("dateClass",ve.dateClass)}}function Se(ht,rn){}const Ie=["button"];function le(ht,rn){1&ht&&(b.O4$(),b.TgZ(0,"svg",3),b._UZ(1,"path",4),b.qZA())}const Me=[[["","matDatepickerToggleIcon",""]]],we=["[matDatepickerToggleIcon]"];let Ue=(()=>{class ht{constructor(){this.changes=new m.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(ve,lt){return`${ve} \u2013 ${lt}`}formatYearRangeLabel(ve,lt){return`${ve} to ${lt}`}static#e=this.\u0275fac=function(lt){return new(lt||ht)};static#t=this.\u0275prov=b.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"})}return ht})();class ze{constructor(rn,ve,lt,it,At={},Kt=rn,vn){this.value=rn,this.displayValue=ve,this.ariaLabel=lt,this.enabled=it,this.cssClasses=At,this.compareValue=Kt,this.rawValue=vn}}let He=1;const Ae=(0,P.i$)({passive:!1,capture:!0}),ye=(0,P.i$)({passive:!0,capture:!0}),K=(0,P.i$)({passive:!0});let ie=(()=>{class ht{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(ve,lt){this._elementRef=ve,this._ngZone=lt,this._platform=(0,b.f3M)(P.t4),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new b.vpe,this.previewChange=new b.vpe,this.activeDateChange=new b.vpe,this.dragStarted=new b.vpe,this.dragEnded=new b.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=it=>{if(this._skipNextFocus&&"focus"===it.type)this._skipNextFocus=!1;else if(it.target&&this.isRange){const At=this._getCellFromElement(it.target);At&&this._ngZone.run(()=>this.previewChange.emit({value:At.enabled?At:null,event:it}))}},this._touchmoveHandler=it=>{if(!this.isRange)return;const At=Q(it),Kt=At?this._getCellFromElement(At):null;At!==it.target&&(this._didDragSinceMouseDown=!0),$(it.target)&&it.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:Kt?.enabled?Kt:null,event:it}))},this._leaveHandler=it=>{null!==this.previewEnd&&this.isRange&&("blur"!==it.type&&(this._didDragSinceMouseDown=!0),it.target&&this._getCellFromElement(it.target)&&(!it.relatedTarget||!this._getCellFromElement(it.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:it})))},this._mousedownHandler=it=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const At=it.target&&this._getCellFromElement(it.target);!At||!this._isInRange(At.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:At.rawValue,event:it})})},this._mouseupHandler=it=>{if(!this.isRange)return;const At=$(it.target);At?At.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const Kt=this._getCellFromElement(At);this.dragEnded.emit({value:Kt?.rawValue??null,event:it})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:it})})},this._touchendHandler=it=>{const At=Q(it);At&&this._mouseupHandler({target:At})},this._id="mat-calendar-body-"+He++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,lt.runOutsideAngular(()=>{const it=ve.nativeElement;it.addEventListener("touchmove",this._touchmoveHandler,Ae),it.addEventListener("mouseenter",this._enterHandler,ye),it.addEventListener("focus",this._enterHandler,ye),it.addEventListener("mouseleave",this._leaveHandler,ye),it.addEventListener("blur",this._leaveHandler,ye),it.addEventListener("mousedown",this._mousedownHandler,K),it.addEventListener("touchstart",this._mousedownHandler,K),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(ve,lt){this._didDragSinceMouseDown||ve.enabled&&this.selectedValueChange.emit({value:ve.value,event:lt})}_emitActiveDateChange(ve,lt){ve.enabled&&this.activeDateChange.emit({value:ve.value,event:lt})}_isSelected(ve){return this.startValue===ve||this.endValue===ve}ngOnChanges(ve){const lt=ve.numCols,{rows:it,numCols:At}=this;(ve.rows||lt)&&(this._firstRowOffset=it&&it.length&&it[0].length?At-it[0].length:0),(ve.cellAspectRatio||lt||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/At+"%"),(lt||!this._cellWidth)&&(this._cellWidth=100/At+"%")}ngOnDestroy(){const ve=this._elementRef.nativeElement;ve.removeEventListener("touchmove",this._touchmoveHandler,Ae),ve.removeEventListener("mouseenter",this._enterHandler,ye),ve.removeEventListener("focus",this._enterHandler,ye),ve.removeEventListener("mouseleave",this._leaveHandler,ye),ve.removeEventListener("blur",this._leaveHandler,ye),ve.removeEventListener("mousedown",this._mousedownHandler,K),ve.removeEventListener("touchstart",this._mousedownHandler,K),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(ve,lt){let it=ve*this.numCols+lt;return ve&&(it-=this._firstRowOffset),it==this.activeCell}_focusActiveCell(ve=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,V.q)(1)).subscribe(()=>{setTimeout(()=>{const lt=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");lt&&(ve||(this._skipNextFocus=!0),lt.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(ve){return Z(ve,this.startValue,this.endValue)}_isRangeEnd(ve){return W(ve,this.startValue,this.endValue)}_isInRange(ve){return X(ve,this.startValue,this.endValue,this.isRange)}_isComparisonStart(ve){return Z(ve,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(ve,lt,it){if(!this._isComparisonStart(ve)||this._isRangeStart(ve)||!this._isInRange(ve))return!1;let At=this.rows[lt][it-1];if(!At){const Kt=this.rows[lt-1];At=Kt&&Kt[Kt.length-1]}return At&&!this._isRangeEnd(At.compareValue)}_isComparisonBridgeEnd(ve,lt,it){if(!this._isComparisonEnd(ve)||this._isRangeEnd(ve)||!this._isInRange(ve))return!1;let At=this.rows[lt][it+1];if(!At){const Kt=this.rows[lt+1];At=Kt&&Kt[0]}return At&&!this._isRangeStart(At.compareValue)}_isComparisonEnd(ve){return W(ve,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(ve){return X(ve,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(ve){return this.comparisonStart===this.comparisonEnd&&ve===this.comparisonStart}_isPreviewStart(ve){return Z(ve,this.previewStart,this.previewEnd)}_isPreviewEnd(ve){return W(ve,this.previewStart,this.previewEnd)}_isInPreview(ve){return X(ve,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(ve){return this.isRange?this.startValue===ve&&this.endValue===ve?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===ve?this._startDateLabelId:this.endValue===ve?this._endDateLabelId:null:null}_getCellFromElement(ve){const lt=$(ve);if(lt){const it=lt.getAttribute("data-mat-row"),At=lt.getAttribute("data-mat-col");if(it&&At)return this.rows[parseInt(it)][parseInt(At)]}return null}static#e=this.\u0275fac=function(lt){return new(lt||ht)(b.Y36(b.SBq),b.Y36(b.R0b))};static#t=this.\u0275cmp=b.Xpm({type:ht,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[b.TTD],attrs:B,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(lt,it){1&lt&&(b.YNc(0,Y,3,6,"tr",0),b.YNc(1,Re,3,2,"tr",1),b.TgZ(2,"label",2),b._uU(3),b.qZA(),b.TgZ(4,"label",2),b._uU(5),b.qZA()),2&lt&&(b.Q6J("ngIf",it._firstRowOffset<it.labelMinRequiredCells),b.xp6(1),b.Q6J("ngForOf",it.rows),b.xp6(1),b.Q6J("id",it._startDateLabelId),b.xp6(1),b.hij(" ",it.startDateAccessibleName,"\n"),b.xp6(1),b.Q6J("id",it._endDateLabelId),b.xp6(1),b.hij(" ",it.endDateAccessibleName,"\n"))},dependencies:[O.mk,O.sg,O.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}return ht})();function he(ht){return"TD"===ht?.nodeName}function $(ht){let rn;return he(ht)?rn=ht:he(ht.parentNode)?rn=ht.parentNode:he(ht.parentNode?.parentNode)&&(rn=ht.parentNode.parentNode),null!=rn?.getAttribute("data-mat-row")?rn:null}function Z(ht,rn,ve){return null!==ve&&rn!==ve&&ht<ve&&ht===rn}function W(ht,rn,ve){return null!==rn&&rn!==ve&&ht>=rn&&ht===ve}function X(ht,rn,ve,lt){return lt&&null!==rn&&null!==ve&&rn!==ve&&ht>=rn&&ht<=ve}function Q(ht){const rn=ht.changedTouches[0];return document.elementFromPoint(rn.clientX,rn.clientY)}class q{constructor(rn,ve){this.start=rn,this.end=ve}}let J=(()=>{class ht{constructor(ve,lt){this.selection=ve,this._adapter=lt,this._selectionChanged=new m.x,this.selectionChanged=this._selectionChanged,this.selection=ve}updateSelection(ve,lt){const it=this.selection;this.selection=ve,this._selectionChanged.next({selection:ve,source:lt,oldValue:it})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(ve){return this._adapter.isDateInstance(ve)&&this._adapter.isValid(ve)}static#e=this.\u0275fac=function(lt){b.$Z()};static#t=this.\u0275prov=b.Yz7({token:ht,factory:ht.\u0275fac})}return ht})(),de=(()=>{class ht extends J{constructor(ve){super(null,ve)}add(ve){super.updateSelection(ve,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const ve=new ht(this._adapter);return ve.updateSelection(this.selection,this),ve}static#e=this.\u0275fac=function(lt){return new(lt||ht)(b.LFG(D._A))};static#t=this.\u0275prov=b.Yz7({token:ht,factory:ht.\u0275fac})}return ht})();const Ce={provide:J,deps:[[new b.FiY,new b.tp0,J],D._A],useFactory:function ce(ht,rn){return ht||new de(rn)}},Ze=new b.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let _t=(()=>{class ht{get activeDate(){return this._activeDate}set activeDate(ve){const lt=this._activeDate,it=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(it,this.minDate,this.maxDate),this._hasSameMonthAndYear(lt,this._activeDate)||this._init()}get selected(){return this._selected}set selected(ve){this._selected=ve instanceof q?ve:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(ve){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get maxDate(){return this._maxDate}set maxDate(ve){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}constructor(ve,lt,it,At,Kt){this._changeDetectorRef=ve,this._dateFormats=lt,this._dateAdapter=it,this._dir=At,this._rangeStrategy=Kt,this._rerenderSubscription=h.w0.EMPTY,this.activeDrag=null,this.selectedChange=new b.vpe,this._userSelection=new b.vpe,this.dragStarted=new b.vpe,this.dragEnded=new b.vpe,this.activeDateChange=new b.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,k.O)(null)).subscribe(()=>this._init())}ngOnChanges(ve){const lt=ve.comparisonStart||ve.comparisonEnd;lt&&!lt.firstChange&&this._setRanges(this.selected),ve.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(ve){const lt=ve.value,it=this._getDateFromDayOfMonth(lt);let At,Kt;this._selected instanceof q?(At=this._getDateInCurrentMonth(this._selected.start),Kt=this._getDateInCurrentMonth(this._selected.end)):At=Kt=this._getDateInCurrentMonth(this._selected),(At!==lt||Kt!==lt)&&this.selectedChange.emit(it),this._userSelection.emit({value:it,event:ve.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(ve){const it=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(ve.value),this._dateAdapter.compareDate(it,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(ve){const lt=this._activeDate,it=this._isRtl();switch(ve.keyCode){case A.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,it?1:-1);break;case A.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,it?-1:1);break;case A.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case A.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case A.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case A.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case A.Ku:this.activeDate=ve.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case A.VM:this.activeDate=ve.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case A.K5:case A.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&ve.preventDefault());case A.hY:return void(null!=this._previewEnd&&!(0,A.Vb)(ve)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:ve}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:ve})),ve.preventDefault(),ve.stopPropagation()));default:return}this._dateAdapter.compareDate(lt,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),ve.preventDefault()}_handleCalendarBodyKeyup(ve){(ve.keyCode===A.L_||ve.keyCode===A.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:ve}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let ve=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(ve)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(ve){this._matCalendarBody._focusActiveCell(ve)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:ve,value:lt}){if(this._rangeStrategy){const it=lt?lt.rawValue:null,At=this._rangeStrategy.createPreview(it,this.selected,ve);if(this._previewStart=this._getCellCompareValue(At.start),this._previewEnd=this._getCellCompareValue(At.end),this.activeDrag&&it){const Kt=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,it,ve);Kt&&(this._previewStart=this._getCellCompareValue(Kt.start),this._previewEnd=this._getCellCompareValue(Kt.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(ve){if(this.activeDrag)if(ve.value){const lt=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,ve.value,ve.event);this.dragEnded.emit({value:lt??null,event:ve.event})}else this.dragEnded.emit({value:null,event:ve.event})}_getDateFromDayOfMonth(ve){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),ve)}_initWeekdays(){const ve=this._dateAdapter.getFirstDayOfWeek(),lt=this._dateAdapter.getDayOfWeekNames("narrow");let At=this._dateAdapter.getDayOfWeekNames("long").map((Kt,vn)=>({long:Kt,narrow:lt[vn]}));this._weekdays=At.slice(ve).concat(At.slice(0,ve))}_createWeekCells(){const ve=this._dateAdapter.getNumDaysInMonth(this.activeDate),lt=this._dateAdapter.getDateNames();this._weeks=[[]];for(let it=0,At=this._firstWeekOffset;it<ve;it++,At++){7==At&&(this._weeks.push([]),At=0);const Kt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),it+1),vn=this._shouldEnableDate(Kt),Fi=this._dateAdapter.format(Kt,this._dateFormats.display.dateA11yLabel),sr=this.dateClass?this.dateClass(Kt,"month"):void 0;this._weeks[this._weeks.length-1].push(new ze(it+1,lt[it],Fi,vn,sr,this._getCellCompareValue(Kt),Kt))}}_shouldEnableDate(ve){return!!ve&&(!this.minDate||this._dateAdapter.compareDate(ve,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(ve,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(ve))}_getDateInCurrentMonth(ve){return ve&&this._hasSameMonthAndYear(ve,this.activeDate)?this._dateAdapter.getDate(ve):null}_hasSameMonthAndYear(ve,lt){return!(!ve||!lt||this._dateAdapter.getMonth(ve)!=this._dateAdapter.getMonth(lt)||this._dateAdapter.getYear(ve)!=this._dateAdapter.getYear(lt))}_getCellCompareValue(ve){if(ve){const lt=this._dateAdapter.getYear(ve),it=this._dateAdapter.getMonth(ve),At=this._dateAdapter.getDate(ve);return new Date(lt,it,At).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(ve){ve instanceof q?(this._rangeStart=this._getCellCompareValue(ve.start),this._rangeEnd=this._getCellCompareValue(ve.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(ve),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(ve){return!this.dateFilter||this.dateFilter(ve)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(lt){return new(lt||ht)(b.Y36(b.sBO),b.Y36(D.sG,8),b.Y36(D._A,8),b.Y36(U.Is,8),b.Y36(Ze,8))};static#t=this.\u0275cmp=b.Xpm({type:ht,selectors:[["mat-month-view"]],viewQuery:function(lt,it){if(1&lt&&b.Gf(ie,5),2&lt){let At;b.iGM(At=b.CRH())&&(it._matCalendarBody=At.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[b.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(lt,it){1&lt&&(b.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),b.YNc(3,z,5,2,"th",2),b.qZA(),b.TgZ(4,"tr"),b._UZ(5,"th",3),b.qZA()(),b.TgZ(6,"tbody",4),b.NdJ("selectedValueChange",function(Kt){return it._dateSelected(Kt)})("activeDateChange",function(Kt){return it._updateActiveDate(Kt)})("previewChange",function(Kt){return it._previewChanged(Kt)})("dragStarted",function(Kt){return it.dragStarted.emit(Kt)})("dragEnded",function(Kt){return it._dragEnded(Kt)})("keyup",function(Kt){return it._handleCalendarBodyKeyup(Kt)})("keydown",function(Kt){return it._handleCalendarBodyKeydown(Kt)}),b.qZA()()),2&lt&&(b.xp6(3),b.Q6J("ngForOf",it._weekdays),b.xp6(3),b.Q6J("label",it._monthLabel)("rows",it._weeks)("todayValue",it._todayDate)("startValue",it._rangeStart)("endValue",it._rangeEnd)("comparisonStart",it._comparisonRangeStart)("comparisonEnd",it._comparisonRangeEnd)("previewStart",it._previewStart)("previewEnd",it._previewEnd)("isRange",it._isRange)("labelMinRequiredCells",3)("activeCell",it._dateAdapter.getDate(it.activeDate)-1)("startDateAccessibleName",it.startDateAccessibleName)("endDateAccessibleName",it.endDateAccessibleName))},dependencies:[O.sg,ie],encapsulation:2,changeDetection:0})}return ht})();const Pt=24;let $t=(()=>{class ht{get activeDate(){return this._activeDate}set activeDate(ve){let lt=this._activeDate;const it=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(it,this.minDate,this.maxDate),Qt(this._dateAdapter,lt,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(ve){this._selected=ve instanceof q?ve:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve)),this._setSelectedYear(ve)}get minDate(){return this._minDate}set minDate(ve){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get maxDate(){return this._maxDate}set maxDate(ve){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}constructor(ve,lt,it){this._changeDetectorRef=ve,this._dateAdapter=lt,this._dir=it,this._rerenderSubscription=h.w0.EMPTY,this.selectedChange=new b.vpe,this.yearSelected=new b.vpe,this.activeDateChange=new b.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,k.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const lt=this._dateAdapter.getYear(this._activeDate)-dn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let it=0,At=[];it<Pt;it++)At.push(lt+it),4==At.length&&(this._years.push(At.map(Kt=>this._createCellForYear(Kt))),At=[]);this._changeDetectorRef.markForCheck()}_yearSelected(ve){const lt=ve.value,it=this._dateAdapter.createDate(lt,0,1),At=this._getDateFromYear(lt);this.yearSelected.emit(it),this.selectedChange.emit(At)}_updateActiveDate(ve){const it=this._activeDate;this.activeDate=this._getDateFromYear(ve.value),this._dateAdapter.compareDate(it,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(ve){const lt=this._activeDate,it=this._isRtl();switch(ve.keyCode){case A.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,it?1:-1);break;case A.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,it?-1:1);break;case A.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case A.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case A.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-dn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case A.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Pt-dn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case A.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ve.altKey?10*-Pt:-Pt);break;case A.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ve.altKey?10*Pt:Pt);break;case A.K5:case A.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(lt,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),ve.preventDefault()}_handleCalendarBodyKeyup(ve){(ve.keyCode===A.L_||ve.keyCode===A.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:ve}),this._selectionKeyPressed=!1)}_getActiveCell(){return dn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(ve){const lt=this._dateAdapter.getMonth(this.activeDate),it=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(ve,lt,1));return this._dateAdapter.createDate(ve,lt,Math.min(this._dateAdapter.getDate(this.activeDate),it))}_createCellForYear(ve){const lt=this._dateAdapter.createDate(ve,0,1),it=this._dateAdapter.getYearName(lt),At=this.dateClass?this.dateClass(lt,"multi-year"):void 0;return new ze(ve,it,it,this._shouldEnableYear(ve),At)}_shouldEnableYear(ve){if(null==ve||this.maxDate&&ve>this._dateAdapter.getYear(this.maxDate)||this.minDate&&ve<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let it=this._dateAdapter.createDate(ve,0,1);this._dateAdapter.getYear(it)==ve;it=this._dateAdapter.addCalendarDays(it,1))if(this.dateFilter(it))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(ve){if(this._selectedYear=null,ve instanceof q){const lt=ve.start||ve.end;lt&&(this._selectedYear=this._dateAdapter.getYear(lt))}else ve&&(this._selectedYear=this._dateAdapter.getYear(ve))}static#e=this.\u0275fac=function(lt){return new(lt||ht)(b.Y36(b.sBO),b.Y36(D._A,8),b.Y36(U.Is,8))};static#t=this.\u0275cmp=b.Xpm({type:ht,selectors:[["mat-multi-year-view"]],viewQuery:function(lt,it){if(1&lt&&b.Gf(ie,5),2&lt){let At;b.iGM(At=b.CRH())&&(it._matCalendarBody=At.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(lt,it){1&lt&&(b.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),b._UZ(3,"th",2),b.qZA()(),b.TgZ(4,"tbody",3),b.NdJ("selectedValueChange",function(Kt){return it._yearSelected(Kt)})("activeDateChange",function(Kt){return it._updateActiveDate(Kt)})("keyup",function(Kt){return it._handleCalendarBodyKeyup(Kt)})("keydown",function(Kt){return it._handleCalendarBodyKeydown(Kt)}),b.qZA()()),2&lt&&(b.xp6(4),b.Q6J("rows",it._years)("todayValue",it._todayYear)("startValue",it._selectedYear)("endValue",it._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",it._getActiveCell()))},dependencies:[ie],encapsulation:2,changeDetection:0})}return ht})();function Qt(ht,rn,ve,lt,it){const At=ht.getYear(rn),Kt=ht.getYear(ve),vn=pn(ht,lt,it);return Math.floor((At-vn)/Pt)===Math.floor((Kt-vn)/Pt)}function dn(ht,rn,ve,lt){return function Un(ht,rn){return(ht%rn+rn)%rn}(ht.getYear(rn)-pn(ht,ve,lt),Pt)}function pn(ht,rn,ve){let lt=0;return ve?lt=ht.getYear(ve)-Pt+1:rn&&(lt=ht.getYear(rn)),lt}let ot=(()=>{class ht{get activeDate(){return this._activeDate}set activeDate(ve){let lt=this._activeDate;const it=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(it,this.minDate,this.maxDate),this._dateAdapter.getYear(lt)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(ve){this._selected=ve instanceof q?ve:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve)),this._setSelectedMonth(ve)}get minDate(){return this._minDate}set minDate(ve){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get maxDate(){return this._maxDate}set maxDate(ve){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}constructor(ve,lt,it,At){this._changeDetectorRef=ve,this._dateFormats=lt,this._dateAdapter=it,this._dir=At,this._rerenderSubscription=h.w0.EMPTY,this.selectedChange=new b.vpe,this.monthSelected=new b.vpe,this.activeDateChange=new b.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,k.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(ve){const lt=ve.value,it=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),lt,1);this.monthSelected.emit(it);const At=this._getDateFromMonth(lt);this.selectedChange.emit(At)}_updateActiveDate(ve){const it=this._activeDate;this.activeDate=this._getDateFromMonth(ve.value),this._dateAdapter.compareDate(it,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(ve){const lt=this._activeDate,it=this._isRtl();switch(ve.keyCode){case A.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,it?1:-1);break;case A.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,it?-1:1);break;case A.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case A.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case A.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case A.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case A.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ve.altKey?-10:-1);break;case A.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ve.altKey?10:1);break;case A.K5:case A.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(lt,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),ve.preventDefault()}_handleCalendarBodyKeyup(ve){(ve.keyCode===A.L_||ve.keyCode===A.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:ve}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let ve=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(lt=>lt.map(it=>this._createCellForMonth(it,ve[it]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(ve){return ve&&this._dateAdapter.getYear(ve)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(ve):null}_getDateFromMonth(ve){const lt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ve,1),it=this._dateAdapter.getNumDaysInMonth(lt);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ve,Math.min(this._dateAdapter.getDate(this.activeDate),it))}_createCellForMonth(ve,lt){const it=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ve,1),At=this._dateAdapter.format(it,this._dateFormats.display.monthYearA11yLabel),Kt=this.dateClass?this.dateClass(it,"year"):void 0;return new ze(ve,lt.toLocaleUpperCase(),At,this._shouldEnableMonth(ve),Kt)}_shouldEnableMonth(ve){const lt=this._dateAdapter.getYear(this.activeDate);if(null==ve||this._isYearAndMonthAfterMaxDate(lt,ve)||this._isYearAndMonthBeforeMinDate(lt,ve))return!1;if(!this.dateFilter)return!0;for(let At=this._dateAdapter.createDate(lt,ve,1);this._dateAdapter.getMonth(At)==ve;At=this._dateAdapter.addCalendarDays(At,1))if(this.dateFilter(At))return!0;return!1}_isYearAndMonthAfterMaxDate(ve,lt){if(this.maxDate){const it=this._dateAdapter.getYear(this.maxDate),At=this._dateAdapter.getMonth(this.maxDate);return ve>it||ve===it&&lt>At}return!1}_isYearAndMonthBeforeMinDate(ve,lt){if(this.minDate){const it=this._dateAdapter.getYear(this.minDate),At=this._dateAdapter.getMonth(this.minDate);return ve<it||ve===it&&lt<At}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(ve){this._selectedMonth=ve instanceof q?this._getMonthInCurrentYear(ve.start)||this._getMonthInCurrentYear(ve.end):this._getMonthInCurrentYear(ve)}static#e=this.\u0275fac=function(lt){return new(lt||ht)(b.Y36(b.sBO),b.Y36(D.sG,8),b.Y36(D._A,8),b.Y36(U.Is,8))};static#t=this.\u0275cmp=b.Xpm({type:ht,selectors:[["mat-year-view"]],viewQuery:function(lt,it){if(1&lt&&b.Gf(ie,5),2&lt){let At;b.iGM(At=b.CRH())&&(it._matCalendarBody=At.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(lt,it){1&lt&&(b.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),b._UZ(3,"th",2),b.qZA()(),b.TgZ(4,"tbody",3),b.NdJ("selectedValueChange",function(Kt){return it._monthSelected(Kt)})("activeDateChange",function(Kt){return it._updateActiveDate(Kt)})("keyup",function(Kt){return it._handleCalendarBodyKeyup(Kt)})("keydown",function(Kt){return it._handleCalendarBodyKeydown(Kt)}),b.qZA()()),2&lt&&(b.xp6(4),b.Q6J("label",it._yearLabel)("rows",it._months)("todayValue",it._todayMonth)("startValue",it._selectedMonth)("endValue",it._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",it._dateAdapter.getMonth(it.activeDate)))},dependencies:[ie],encapsulation:2,changeDetection:0})}return ht})(),dt=1,xe=(()=>{class ht{constructor(ve,lt,it,At,Kt){this._intl=ve,this.calendar=lt,this._dateAdapter=it,this._dateFormats=At,this._id="mat-calendar-header-"+dt++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>Kt.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-Pt)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:Pt)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(ve,lt){return"month"==this.calendar.currentView?this._dateAdapter.getYear(ve)==this._dateAdapter.getYear(lt)&&this._dateAdapter.getMonth(ve)==this._dateAdapter.getMonth(lt):"year"==this.calendar.currentView?this._dateAdapter.getYear(ve)==this._dateAdapter.getYear(lt):Qt(this._dateAdapter,ve,lt,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const lt=this._dateAdapter.getYear(this.calendar.activeDate)-dn(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),it=lt+Pt-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(lt,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(it,0,1))]}static#e=this.\u0275fac=function(lt){return new(lt||ht)(b.Y36(Ue),b.Y36((0,b.Gpc)(()=>fe)),b.Y36(D._A,8),b.Y36(D.sG,8),b.Y36(b.sBO))};static#t=this.\u0275cmp=b.Xpm({type:ht,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:oe,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(lt,it){1&lt&&(b.F$t(),b.TgZ(0,"div",0)(1,"div",1)(2,"button",2),b.NdJ("click",function(){return it.currentPeriodClicked()}),b.TgZ(3,"span",3),b._uU(4),b.qZA(),b.O4$(),b.TgZ(5,"svg",4),b._UZ(6,"polygon",5),b.qZA()(),b.kcU(),b._UZ(7,"div",6),b.Hsn(8),b.TgZ(9,"button",7),b.NdJ("click",function(){return it.previousClicked()}),b.qZA(),b.TgZ(10,"button",8),b.NdJ("click",function(){return it.nextClicked()}),b.qZA()()(),b.TgZ(11,"label",9),b._uU(12),b.qZA()),2&lt&&(b.xp6(2),b.uIk("aria-label",it.periodButtonLabel)("aria-describedby",it._periodButtonLabelId),b.xp6(2),b.Oqu(it.periodButtonText),b.xp6(1),b.ekj("mat-calendar-invert","month"!==it.calendar.currentView),b.xp6(4),b.Q6J("disabled",!it.previousEnabled()),b.uIk("aria-label",it.prevButtonLabel),b.xp6(1),b.Q6J("disabled",!it.nextEnabled()),b.uIk("aria-label",it.nextButtonLabel),b.xp6(1),b.Q6J("id",it._periodButtonLabelId),b.xp6(1),b.Oqu(it.periodButtonDescription))},dependencies:[F.lW,F.RK],encapsulation:2,changeDetection:0})}return ht})(),fe=(()=>{class ht{get startAt(){return this._startAt}set startAt(ve){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get selected(){return this._selected}set selected(ve){this._selected=ve instanceof q?ve:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get minDate(){return this._minDate}set minDate(ve){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get maxDate(){return this._maxDate}set maxDate(ve){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get activeDate(){return this._clampedActiveDate}set activeDate(ve){this._clampedActiveDate=this._dateAdapter.clampDate(ve,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(ve){const lt=this._currentView!==ve?ve:null;this._currentView=ve,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),lt&&this.viewChanged.emit(lt)}constructor(ve,lt,it,At){this._dateAdapter=lt,this._dateFormats=it,this._changeDetectorRef=At,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new b.vpe,this.yearSelected=new b.vpe,this.monthSelected=new b.vpe,this.viewChanged=new b.vpe(!0),this._userSelection=new b.vpe,this._userDragDrop=new b.vpe,this._activeDrag=null,this.stateChanges=new m.x,this._intlChanges=ve.changes.subscribe(()=>{At.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new E.C5(this.headerComponent||xe),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(ve){const lt=ve.minDate&&!this._dateAdapter.sameDate(ve.minDate.previousValue,ve.minDate.currentValue)?ve.minDate:void 0,it=ve.maxDate&&!this._dateAdapter.sameDate(ve.maxDate.previousValue,ve.maxDate.currentValue)?ve.maxDate:void 0,At=lt||it||ve.dateFilter;if(At&&!At.firstChange){const Kt=this._getCurrentViewComponent();Kt&&(this._changeDetectorRef.detectChanges(),Kt._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(ve){const lt=ve.value;(this.selected instanceof q||lt&&!this._dateAdapter.sameDate(lt,this.selected))&&this.selectedChange.emit(lt),this._userSelection.emit(ve)}_yearSelectedInMultiYearView(ve){this.yearSelected.emit(ve)}_monthSelectedInYearView(ve){this.monthSelected.emit(ve)}_goToDateInView(ve,lt){this.activeDate=ve,this.currentView=lt}_dragStarted(ve){this._activeDrag=ve}_dragEnded(ve){this._activeDrag&&(ve.value&&this._userDragDrop.emit(ve),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(lt){return new(lt||ht)(b.Y36(Ue),b.Y36(D._A,8),b.Y36(D.sG,8),b.Y36(b.sBO))};static#t=this.\u0275cmp=b.Xpm({type:ht,selectors:[["mat-calendar"]],viewQuery:function(lt,it){if(1&lt&&(b.Gf(_t,5),b.Gf(ot,5),b.Gf($t,5)),2&lt){let At;b.iGM(At=b.CRH())&&(it.monthView=At.first),b.iGM(At=b.CRH())&&(it.yearView=At.first),b.iGM(At=b.CRH())&&(it.multiYearView=At.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[b._Bn([Ce]),b.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(lt,it){1&lt&&(b.YNc(0,H,0,0,"ng-template",0),b.TgZ(1,"div",1),b.YNc(2,me,1,11,"mat-month-view",2),b.YNc(3,te,1,6,"mat-year-view",3),b.YNc(4,ue,1,6,"mat-multi-year-view",4),b.qZA()),2&lt&&(b.Q6J("cdkPortalOutlet",it._calendarHeaderPortal),b.xp6(1),b.Q6J("ngSwitch",it.currentView),b.xp6(1),b.Q6J("ngSwitchCase","month"),b.xp6(1),b.Q6J("ngSwitchCase","year"),b.xp6(1),b.Q6J("ngSwitchCase","multi-year"))},dependencies:[O.RF,O.n9,c.kH,E.Pl,_t,ot,$t],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}return ht})();const ge={transformPanel:(0,w.X$)("transformPanel",[(0,w.eR)("void => enter-dropdown",(0,w.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,w.F4)([(0,w.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,w.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,w.eR)("void => enter-dialog",(0,w.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,w.F4)([(0,w.oB)({opacity:0,transform:"scale(0.7)"}),(0,w.oB)({transform:"none",opacity:1})]))),(0,w.eR)("* => void",(0,w.jt)("100ms linear",(0,w.oB)({opacity:0})))]),fadeInCalendar:(0,w.X$)("fadeInCalendar",[(0,w.SB)("void",(0,w.oB)({opacity:0})),(0,w.SB)("enter",(0,w.oB)({opacity:1})),(0,w.eR)("void => *",(0,w.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let st=0;const mt=new b.OlP("mat-datepicker-scroll-strategy"),ut={provide:mt,deps:[t.aV],useFactory:function Dt(ht){return()=>ht.scrollStrategies.reposition()}},bt=(0,D.pj)(class{constructor(ht){this._elementRef=ht}});let Nt=(()=>{class ht extends bt{constructor(ve,lt,it,At,Kt,vn){super(ve),this._changeDetectorRef=lt,this._globalModel=it,this._dateAdapter=At,this._rangeSelectionStrategy=Kt,this._subscriptions=new h.w0,this._animationDone=new m.x,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=vn.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(ve){const lt=this._model.selection,it=ve.value,At=lt instanceof q;if(At&&this._rangeSelectionStrategy){const Kt=this._rangeSelectionStrategy.selectionFinished(it,lt,ve.event);this._model.updateSelection(Kt,this)}else it&&(At||!this._dateAdapter.sameDate(it,lt))&&this._model.add(it);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(ve){this._model.updateSelection(ve.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(ve){this._isAnimating="start"===ve.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(ve,lt){this._model=ve?this._globalModel.clone():this._globalModel,this._actionsPortal=ve,lt&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(lt){return new(lt||ht)(b.Y36(b.SBq),b.Y36(b.sBO),b.Y36(J),b.Y36(D._A),b.Y36(Ze,8),b.Y36(Ue))};static#t=this.\u0275cmp=b.Xpm({type:ht,selectors:[["mat-datepicker-content"]],viewQuery:function(lt,it){if(1&lt&&b.Gf(fe,5),2&lt){let At;b.iGM(At=b.CRH())&&(it._calendar=At.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(lt,it){1&lt&&b.WFA("@transformPanel.start",function(Kt){return it._handleAnimationEvent(Kt)})("@transformPanel.done",function(Kt){return it._handleAnimationEvent(Kt)}),2&lt&&(b.d8E("@transformPanel",it._animationState),b.ekj("mat-datepicker-content-touch",it.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[b.qOj],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(lt,it){if(1&lt&&(b.TgZ(0,"div",0)(1,"mat-calendar",1),b.NdJ("yearSelected",function(Kt){return it.datepicker._selectYear(Kt)})("monthSelected",function(Kt){return it.datepicker._selectMonth(Kt)})("viewChanged",function(Kt){return it.datepicker._viewChanged(Kt)})("_userSelection",function(Kt){return it._handleUserSelection(Kt)})("_userDragDrop",function(Kt){return it._handleUserDragDrop(Kt)}),b.qZA(),b.YNc(2,Se,0,0,"ng-template",2),b.TgZ(3,"button",3),b.NdJ("focus",function(){return it._closeButtonFocused=!0})("blur",function(){return it._closeButtonFocused=!1})("click",function(){return it.datepicker.close()}),b._uU(4),b.qZA()()),2&lt){let At;b.ekj("mat-datepicker-content-container-with-custom-header",it.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",it._actionsPortal),b.uIk("aria-modal",!0)("aria-labelledby",null!==(At=it._dialogLabelId)&&void 0!==At?At:void 0),b.xp6(1),b.Q6J("id",it.datepicker.id)("ngClass",it.datepicker.panelClass)("startAt",it.datepicker.startAt)("startView",it.datepicker.startView)("minDate",it.datepicker._getMinDate())("maxDate",it.datepicker._getMaxDate())("dateFilter",it.datepicker._getDateFilter())("headerComponent",it.datepicker.calendarHeaderComponent)("selected",it._getSelected())("dateClass",it.datepicker.dateClass)("comparisonStart",it.comparisonStart)("comparisonEnd",it.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",it.startDateAccessibleName)("endDateAccessibleName",it.endDateAccessibleName),b.xp6(1),b.Q6J("cdkPortalOutlet",it._actionsPortal),b.xp6(1),b.ekj("cdk-visually-hidden",!it._closeButtonFocused),b.Q6J("color",it.color||"primary"),b.xp6(1),b.Oqu(it._closeButtonText)}},dependencies:[O.mk,F.lW,c.mK,E.Pl,fe],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[ge.transformPanel,ge.fadeInCalendar]},changeDetection:0})}return ht})(),Zt=(()=>{class ht{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(ve){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(ve){this._color=ve}get touchUi(){return this._touchUi}set touchUi(ve){this._touchUi=(0,C.Ig)(ve)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(ve){const lt=(0,C.Ig)(ve);lt!==this._disabled&&(this._disabled=lt,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(ve){this._restoreFocus=(0,C.Ig)(ve)}get panelClass(){return this._panelClass}set panelClass(ve){this._panelClass=(0,C.du)(ve)}get opened(){return this._opened}set opened(ve){(0,C.Ig)(ve)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(ve,lt,it,At,Kt,vn,Fi){this._overlay=ve,this._ngZone=lt,this._viewContainerRef=it,this._dateAdapter=Kt,this._dir=vn,this._model=Fi,this._inputStateChanges=h.w0.EMPTY,this._document=(0,b.f3M)(O.K0),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new b.vpe,this.monthSelected=new b.vpe,this.viewChanged=new b.vpe(!0),this.openedStream=new b.vpe,this.closedStream=new b.vpe,this._opened=!1,this.id="mat-datepicker-"+st++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new m.x,this._scrollStrategy=At}ngOnChanges(ve){const lt=ve.xPosition||ve.yPosition;if(lt&&!lt.firstChange&&this._overlayRef){const it=this._overlayRef.getConfig().positionStrategy;it instanceof t._G&&(this._setConnectedPositions(it),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(ve){this._model.add(ve)}_selectYear(ve){this.yearSelected.emit(ve)}_selectMonth(ve){this.monthSelected.emit(ve)}_viewChanged(ve){this.viewChanged.emit(ve)}registerInput(ve){return this._inputStateChanges.unsubscribe(),this.datepickerInput=ve,this._inputStateChanges=ve.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(ve){this._actionsPortal=ve,this._componentRef?.instance._assignActions(ve,!0)}removeActions(ve){ve===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,P.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const ve=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,lt=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:it,location:At}=this._componentRef;it._startExitAnimation(),it._animationDone.pipe((0,V.q)(1)).subscribe(()=>{const Kt=this._document.activeElement;ve&&(!Kt||Kt===this._document.activeElement||At.nativeElement.contains(Kt))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}ve?setTimeout(lt):lt()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(ve){ve.datepicker=this,ve.color=this.color,ve._dialogLabelId=this.datepickerInput.getOverlayLabelId(),ve._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const ve=this.touchUi,lt=new E.C5(Nt,this._viewContainerRef),it=this._overlayRef=this._overlay.create(new t.X_({positionStrategy:ve?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[ve?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:ve?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(ve?"dialog":"popup")}));this._getCloseStream(it).subscribe(At=>{At&&At.preventDefault(),this.close()}),it.keydownEvents().subscribe(At=>{const Kt=At.keyCode;(Kt===A.LH||Kt===A.JH||Kt===A.oh||Kt===A.SV||Kt===A.Ku||Kt===A.VM)&&At.preventDefault()}),this._componentRef=it.attach(lt),this._forwardContentValues(this._componentRef.instance),ve||this._ngZone.onStable.pipe((0,V.q)(1)).subscribe(()=>it.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const ve=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(ve)}_setConnectedPositions(ve){const lt="end"===this.xPosition?"end":"start",it="start"===lt?"end":"start",At="above"===this.yPosition?"bottom":"top",Kt="top"===At?"bottom":"top";return ve.withPositions([{originX:lt,originY:Kt,overlayX:lt,overlayY:At},{originX:lt,originY:At,overlayX:lt,overlayY:Kt},{originX:it,originY:Kt,overlayX:it,overlayY:At},{originX:it,originY:At,overlayX:it,overlayY:Kt}])}_getCloseStream(ve){const lt=["ctrlKey","shiftKey","metaKey"];return(0,g.T)(ve.backdropClick(),ve.detachments(),ve.keydownEvents().pipe((0,R.h)(it=>it.keyCode===A.hY&&!(0,A.Vb)(it)||this.datepickerInput&&(0,A.Vb)(it,"altKey")&&it.keyCode===A.LH&&lt.every(At=>!(0,A.Vb)(it,At)))))}static#e=this.\u0275fac=function(lt){return new(lt||ht)(b.Y36(t.aV),b.Y36(b.R0b),b.Y36(b.s_b),b.Y36(mt),b.Y36(D._A,8),b.Y36(U.Is,8),b.Y36(J))};static#t=this.\u0275dir=b.lG2({type:ht,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[b.TTD]})}return ht})(),wt=(()=>{class ht extends Zt{static#e=this.\u0275fac=function(){let ve;return function(it){return(ve||(ve=b.n5z(ht)))(it||ht)}}();static#t=this.\u0275cmp=b.Xpm({type:ht,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[b._Bn([Ce,{provide:Zt,useExisting:ht}]),b.qOj],decls:0,vars:0,template:function(lt,it){},encapsulation:2,changeDetection:0})}return ht})();class Ht{constructor(rn,ve){this.target=rn,this.targetElement=ve,this.value=this.target.value}}let en=(()=>{class ht{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(ve){this._assignValueProgrammatically(ve)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(ve){const lt=(0,C.Ig)(ve),it=this._elementRef.nativeElement;this._disabled!==lt&&(this._disabled=lt,this.stateChanges.next(void 0)),lt&&this._isInitialized&&it.blur&&it.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(ve){this._model=ve,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(lt=>{if(this._shouldHandleChangeEvent(lt)){const it=this._getValueFromModel(lt.selection);this._lastValueValid=this._isValidValue(it),this._cvaOnChange(it),this._onTouched(),this._formatValue(it),this.dateInput.emit(new Ht(this,this._elementRef.nativeElement)),this.dateChange.emit(new Ht(this,this._elementRef.nativeElement))}})}constructor(ve,lt,it){this._elementRef=ve,this._dateAdapter=lt,this._dateFormats=it,this.dateChange=new b.vpe,this.dateInput=new b.vpe,this.stateChanges=new m.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=h.w0.EMPTY,this._localeSubscription=h.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=At=>{const Kt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(At.value));return!Kt||this._matchesFilter(Kt)?null:{matDatepickerFilter:!0}},this._minValidator=At=>{const Kt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(At.value)),vn=this._getMinDate();return!vn||!Kt||this._dateAdapter.compareDate(vn,Kt)<=0?null:{matDatepickerMin:{min:vn,actual:Kt}}},this._maxValidator=At=>{const Kt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(At.value)),vn=this._getMaxDate();return!vn||!Kt||this._dateAdapter.compareDate(vn,Kt)>=0?null:{matDatepickerMax:{max:vn,actual:Kt}}},this._lastValueValid=!1,this._localeSubscription=lt.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(ve){(function tn(ht,rn){const ve=Object.keys(ht);for(let lt of ve){const{previousValue:it,currentValue:At}=ht[lt];if(!rn.isDateInstance(it)||!rn.isDateInstance(At))return!0;if(!rn.sameDate(it,At))return!0}return!1})(ve,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(ve){this._validatorOnChange=ve}validate(ve){return this._validator?this._validator(ve):null}writeValue(ve){this._assignValueProgrammatically(ve)}registerOnChange(ve){this._cvaOnChange=ve}registerOnTouched(ve){this._onTouched=ve}setDisabledState(ve){this.disabled=ve}_onKeydown(ve){(0,A.Vb)(ve,"altKey")&&ve.keyCode===A.JH&&["ctrlKey","shiftKey","metaKey"].every(At=>!(0,A.Vb)(ve,At))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),ve.preventDefault())}_onInput(ve){const lt=this._lastValueValid;let it=this._dateAdapter.parse(ve,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(it),it=this._dateAdapter.getValidDateOrNull(it);const At=!this._dateAdapter.sameDate(it,this.value);!it||At?this._cvaOnChange(it):(ve&&!this.value&&this._cvaOnChange(it),lt!==this._lastValueValid&&this._validatorOnChange()),At&&(this._assignValue(it),this.dateInput.emit(new Ht(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Ht(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(ve){this._elementRef.nativeElement.value=null!=ve?this._dateAdapter.format(ve,this._dateFormats.display.dateInput):""}_assignValue(ve){this._model?(this._assignValueToModel(ve),this._pendingValue=null):this._pendingValue=ve}_isValidValue(ve){return!ve||this._dateAdapter.isValid(ve)}_parentDisabled(){return!1}_assignValueProgrammatically(ve){ve=this._dateAdapter.deserialize(ve),this._lastValueValid=this._isValidValue(ve),ve=this._dateAdapter.getValidDateOrNull(ve),this._assignValue(ve),this._formatValue(ve)}_matchesFilter(ve){const lt=this._getDateFilter();return!lt||lt(ve)}static#e=this.\u0275fac=function(lt){return new(lt||ht)(b.Y36(b.SBq),b.Y36(D._A,8),b.Y36(D.sG,8))};static#t=this.\u0275dir=b.lG2({type:ht,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[b.TTD]})}return ht})();const yn={provide:T.JU,useExisting:(0,b.Gpc)(()=>In),multi:!0},Tn={provide:T.Cf,useExisting:(0,b.Gpc)(()=>In),multi:!0};let In=(()=>{class ht extends en{set matDatepicker(ve){ve&&(this._datepicker=ve,this._closedSubscription=ve.closedStream.subscribe(()=>this._onTouched()),this._registerModel(ve.registerInput(this)))}get min(){return this._min}set min(ve){const lt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve));this._dateAdapter.sameDate(lt,this._min)||(this._min=lt,this._validatorOnChange())}get max(){return this._max}set max(ve){const lt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve));this._dateAdapter.sameDate(lt,this._max)||(this._max=lt,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(ve){const lt=this._matchesFilter(this.value);this._dateFilter=ve,this._matchesFilter(this.value)!==lt&&this._validatorOnChange()}constructor(ve,lt,it,At){super(ve,lt,it),this._formField=At,this._closedSubscription=h.w0.EMPTY,this._validator=T.kI.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(ve){return ve}_assignValueToModel(ve){this._model&&this._model.updateSelection(ve,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(ve){return ve.source!==this}static#e=this.\u0275fac=function(lt){return new(lt||ht)(b.Y36(b.SBq),b.Y36(D._A,8),b.Y36(D.sG,8),b.Y36(N.G_,8))};static#t=this.\u0275dir=b.lG2({type:ht,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(lt,it){1&lt&&b.NdJ("input",function(Kt){return it._onInput(Kt.target.value)})("change",function(){return it._onChange()})("blur",function(){return it._onBlur()})("keydown",function(Kt){return it._onKeydown(Kt)}),2&lt&&(b.Ikx("disabled",it.disabled),b.uIk("aria-haspopup",it._datepicker?"dialog":null)("aria-owns",(null==it._datepicker?null:it._datepicker.opened)&&it._datepicker.id||null)("min",it.min?it._dateAdapter.toIso8601(it.min):null)("max",it.max?it._dateAdapter.toIso8601(it.max):null)("data-mat-calendar",it._datepicker?it._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[b._Bn([yn,Tn,{provide:S.Jk,useExisting:ht}]),b.qOj]})}return ht})(),kn=(()=>{class ht{static#e=this.\u0275fac=function(lt){return new(lt||ht)};static#t=this.\u0275dir=b.lG2({type:ht,selectors:[["","matDatepickerToggleIcon",""]]})}return ht})(),qn=(()=>{class ht{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(ve){this._disabled=(0,C.Ig)(ve)}constructor(ve,lt,it){this._intl=ve,this._changeDetectorRef=lt,this._stateChanges=h.w0.EMPTY;const At=Number(it);this.tabIndex=At||0===At?At:null}ngOnChanges(ve){ve.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(ve){this.datepicker&&!this.disabled&&(this.datepicker.open(),ve.stopPropagation())}_watchStateChanges(){const ve=this.datepicker?this.datepicker.stateChanges:(0,v.of)(),lt=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,v.of)(),it=this.datepicker?(0,g.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,v.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,g.T)(this._intl.changes,ve,lt,it).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(lt){return new(lt||ht)(b.Y36(Ue),b.Y36(b.sBO),b.$8M("tabindex"))};static#t=this.\u0275cmp=b.Xpm({type:ht,selectors:[["mat-datepicker-toggle"]],contentQueries:function(lt,it,At){if(1&lt&&b.Suo(At,kn,5),2&lt){let Kt;b.iGM(Kt=b.CRH())&&(it._customIcon=Kt.first)}},viewQuery:function(lt,it){if(1&lt&&b.Gf(Ie,5),2&lt){let At;b.iGM(At=b.CRH())&&(it._button=At.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(lt,it){1&lt&&b.NdJ("click",function(Kt){return it._open(Kt)}),2&lt&&(b.uIk("tabindex",null)("data-mat-calendar",it.datepicker?it.datepicker.id:null),b.ekj("mat-datepicker-toggle-active",it.datepicker&&it.datepicker.opened)("mat-accent",it.datepicker&&"accent"===it.datepicker.color)("mat-warn",it.datepicker&&"warn"===it.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[b.TTD],ngContentSelectors:we,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(lt,it){1&lt&&(b.F$t(Me),b.TgZ(0,"button",0,1),b.YNc(2,le,2,0,"svg",2),b.Hsn(3),b.qZA()),2&lt&&(b.Q6J("disabled",it.disabled)("disableRipple",it.disableRipple),b.uIk("aria-haspopup",it.datepicker?"dialog":null)("aria-label",it.ariaLabel||it._intl.openCalendarLabel)("tabindex",it.disabled?-1:it.tabIndex),b.xp6(2),b.Q6J("ngIf",!it._customIcon))},dependencies:[O.O5,F.RK],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return ht})(),Fn=(()=>{class ht{static#e=this.\u0275fac=function(lt){return new(lt||ht)};static#t=this.\u0275mod=b.oAB({type:ht});static#n=this.\u0275inj=b.cJS({providers:[Ue,ut],imports:[O.ez,F.ot,t.U8,c.rt,E.eL,D.BQ,L.ZD]})}return ht})()},7700:(wn,qe,x)=>{"use strict";x.d(qe,{WI:()=>He,uw:()=>W,H8:()=>de,vA:()=>ue,xY:()=>J,Is:()=>ce,so:()=>Ue,uh:()=>q});var c=x(3651),t=x(6814),E=x(5879),O=x(4300),b=x(2831),F=x(8484),L=x(6028),D=x(8645),m=x(4911),h=x(2096),g=x(9388),v=x(7921);function A(Be,Ze){}class U{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let V=(()=>{class Be extends F.en{constructor(Qe,$e,ct,It,_t,Pt,Vt,$t){super(),this._elementRef=Qe,this._focusTrapFactory=$e,this._config=It,this._interactivityChecker=_t,this._ngZone=Pt,this._overlayRef=Vt,this._focusMonitor=$t,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=Qt=>{this._portalOutlet.hasAttached();const dn=this._portalOutlet.attachDomPortal(Qt);return this._contentAttached(),dn},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=ct}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(Qe){this._portalOutlet.hasAttached();const $e=this._portalOutlet.attachComponentPortal(Qe);return this._contentAttached(),$e}attachTemplatePortal(Qe){this._portalOutlet.hasAttached();const $e=this._portalOutlet.attachTemplatePortal(Qe);return this._contentAttached(),$e}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(Qe,$e){this._interactivityChecker.isFocusable(Qe)||(Qe.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const ct=()=>{Qe.removeEventListener("blur",ct),Qe.removeEventListener("mousedown",ct),Qe.removeAttribute("tabindex")};Qe.addEventListener("blur",ct),Qe.addEventListener("mousedown",ct)})),Qe.focus($e)}_focusByCssSelector(Qe,$e){let ct=this._elementRef.nativeElement.querySelector(Qe);ct&&this._forceFocus(ct,$e)}_trapFocus(){const Qe=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||Qe.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then($e=>{$e||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const Qe=this._config.restoreFocus;let $e=null;if("string"==typeof Qe?$e=this._document.querySelector(Qe):"boolean"==typeof Qe?$e=Qe?this._elementFocusedBeforeDialogWasOpened:null:Qe&&($e=Qe),this._config.restoreFocus&&$e&&"function"==typeof $e.focus){const ct=(0,b.ht)(),It=this._elementRef.nativeElement;(!ct||ct===this._document.body||ct===It||It.contains(ct))&&(this._focusMonitor?(this._focusMonitor.focusVia($e,this._closeInteractionType),this._closeInteractionType=null):$e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const Qe=this._elementRef.nativeElement,$e=(0,b.ht)();return Qe===$e||Qe.contains($e)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,b.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function($e){return new($e||Be)(E.Y36(E.SBq),E.Y36(O.qV),E.Y36(t.K0,8),E.Y36(U),E.Y36(O.ic),E.Y36(E.R0b),E.Y36(c.Iu),E.Y36(O.tE))};static#t=this.\u0275cmp=E.Xpm({type:Be,selectors:[["cdk-dialog-container"]],viewQuery:function($e,ct){if(1&$e&&E.Gf(F.Pl,7),2&$e){let It;E.iGM(It=E.CRH())&&(ct._portalOutlet=It.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function($e,ct){2&$e&&E.uIk("id",ct._config.id||null)("role",ct._config.role)("aria-modal",ct._config.ariaModal)("aria-labelledby",ct._config.ariaLabel?null:ct._ariaLabelledBy)("aria-label",ct._config.ariaLabel)("aria-describedby",ct._config.ariaDescribedBy||null)},features:[E.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function($e,ct){1&$e&&E.YNc(0,A,0,0,"ng-template",0)},dependencies:[F.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return Be})();class k{constructor(Ze,Qe){this.overlayRef=Ze,this.config=Qe,this.closed=new D.x,this.disableClose=Qe.disableClose,this.backdropClick=Ze.backdropClick(),this.keydownEvents=Ze.keydownEvents(),this.outsidePointerEvents=Ze.outsidePointerEvents(),this.id=Qe.id,this.keydownEvents.subscribe($e=>{$e.keyCode===L.hY&&!this.disableClose&&!(0,L.Vb)($e)&&($e.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=Ze.detachments().subscribe(()=>{!1!==Qe.closeOnOverlayDetachments&&this.close()})}close(Ze,Qe){if(this.containerInstance){const $e=this.closed;this.containerInstance._closeInteractionType=Qe?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),$e.next(Ze),$e.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(Ze="",Qe=""){return this.overlayRef.updateSize({width:Ze,height:Qe}),this}addPanelClass(Ze){return this.overlayRef.addPanelClass(Ze),this}removePanelClass(Ze){return this.overlayRef.removePanelClass(Ze),this}}const R=new E.OlP("DialogScrollStrategy"),C=new E.OlP("DialogData"),w=new E.OlP("DefaultDialogConfig"),N={provide:R,deps:[c.aV],useFactory:function T(Be){return()=>Be.scrollStrategies.block()}};let S=0,B=(()=>{class Be{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(Qe,$e,ct,It,_t,Pt){this._overlay=Qe,this._injector=$e,this._defaultOptions=ct,this._parentDialog=It,this._overlayContainer=_t,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new D.x,this._afterOpenedAtThisLevel=new D.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,m.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,v.O)(void 0))),this._scrollStrategy=Pt}open(Qe,$e){($e={...this._defaultOptions||new U,...$e}).id=$e.id||"cdk-dialog-"+S++,$e.id&&this.getDialogById($e.id);const It=this._getOverlayConfig($e),_t=this._overlay.create(It),Pt=new k(_t,$e),Vt=this._attachContainer(_t,Pt,$e);return Pt.containerInstance=Vt,this._attachDialogContent(Qe,Pt,Vt,$e),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(Pt),Pt.closed.subscribe(()=>this._removeOpenDialog(Pt,!0)),this.afterOpened.next(Pt),Pt}closeAll(){Y(this.openDialogs,Qe=>Qe.close())}getDialogById(Qe){return this.openDialogs.find($e=>$e.id===Qe)}ngOnDestroy(){Y(this._openDialogsAtThisLevel,Qe=>{!1===Qe.config.closeOnDestroy&&this._removeOpenDialog(Qe,!1)}),Y(this._openDialogsAtThisLevel,Qe=>Qe.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(Qe){const $e=new c.X_({positionStrategy:Qe.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:Qe.scrollStrategy||this._scrollStrategy(),panelClass:Qe.panelClass,hasBackdrop:Qe.hasBackdrop,direction:Qe.direction,minWidth:Qe.minWidth,minHeight:Qe.minHeight,maxWidth:Qe.maxWidth,maxHeight:Qe.maxHeight,width:Qe.width,height:Qe.height,disposeOnNavigation:Qe.closeOnNavigation});return Qe.backdropClass&&($e.backdropClass=Qe.backdropClass),$e}_attachContainer(Qe,$e,ct){const It=ct.injector||ct.viewContainerRef?.injector,_t=[{provide:U,useValue:ct},{provide:k,useValue:$e},{provide:c.Iu,useValue:Qe}];let Pt;ct.container?"function"==typeof ct.container?Pt=ct.container:(Pt=ct.container.type,_t.push(...ct.container.providers(ct))):Pt=V;const Vt=new F.C5(Pt,ct.viewContainerRef,E.zs3.create({parent:It||this._injector,providers:_t}),ct.componentFactoryResolver);return Qe.attach(Vt).instance}_attachDialogContent(Qe,$e,ct,It){if(Qe instanceof E.Rgc){const _t=this._createInjector(It,$e,ct,void 0);let Pt={$implicit:It.data,dialogRef:$e};It.templateContext&&(Pt={...Pt,..."function"==typeof It.templateContext?It.templateContext():It.templateContext}),ct.attachTemplatePortal(new F.UE(Qe,null,Pt,_t))}else{const _t=this._createInjector(It,$e,ct,this._injector),Pt=ct.attachComponentPortal(new F.C5(Qe,It.viewContainerRef,_t,It.componentFactoryResolver));$e.componentInstance=Pt.instance}}_createInjector(Qe,$e,ct,It){const _t=Qe.injector||Qe.viewContainerRef?.injector,Pt=[{provide:C,useValue:Qe.data},{provide:k,useValue:$e}];return Qe.providers&&("function"==typeof Qe.providers?Pt.push(...Qe.providers($e,Qe,ct)):Pt.push(...Qe.providers)),Qe.direction&&(!_t||!_t.get(g.Is,null,{optional:!0}))&&Pt.push({provide:g.Is,useValue:{value:Qe.direction,change:(0,h.of)()}}),E.zs3.create({parent:_t||It,providers:Pt})}_removeOpenDialog(Qe,$e){const ct=this.openDialogs.indexOf(Qe);ct>-1&&(this.openDialogs.splice(ct,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((It,_t)=>{It?_t.setAttribute("aria-hidden",It):_t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),$e&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const Qe=this._overlayContainer.getContainerElement();if(Qe.parentElement){const $e=Qe.parentElement.children;for(let ct=$e.length-1;ct>-1;ct--){const It=$e[ct];It!==Qe&&"SCRIPT"!==It.nodeName&&"STYLE"!==It.nodeName&&!It.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(It,It.getAttribute("aria-hidden")),It.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const Qe=this._parentDialog;return Qe?Qe._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function($e){return new($e||Be)(E.LFG(c.aV),E.LFG(E.zs3),E.LFG(w,8),E.LFG(Be,12),E.LFG(c.Xj),E.LFG(R))};static#t=this.\u0275prov=E.Yz7({token:Be,factory:Be.\u0275fac})}return Be})();function Y(Be,Ze){let Qe=Be.length;for(;Qe--;)Ze(Be[Qe])}let re=(()=>{class Be{static#e=this.\u0275fac=function($e){return new($e||Be)};static#t=this.\u0275mod=E.oAB({type:Be});static#n=this.\u0275inj=E.cJS({providers:[B,N],imports:[c.U8,F.eL,O.rt,F.eL]})}return Be})();var ae=x(2495),Re=x(3019),z=x(2181),oe=x(8180),H=x(3680);function te(Be,Ze){}x(6825);class ue{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Se="mdc-dialog--open",Ie="mdc-dialog--opening",le="mdc-dialog--closing";let _e=(()=>{class Be extends V{constructor(Qe,$e,ct,It,_t,Pt,Vt,$t){super(Qe,$e,ct,It,_t,Pt,Vt,$t),this._animationStateChanged=new E.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(Qe){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:Qe})}static#e=this.\u0275fac=function($e){return new($e||Be)(E.Y36(E.SBq),E.Y36(O.qV),E.Y36(t.K0,8),E.Y36(ue),E.Y36(O.ic),E.Y36(E.R0b),E.Y36(c.Iu),E.Y36(O.tE))};static#t=this.\u0275cmp=E.Xpm({type:Be,selectors:[["ng-component"]],features:[E.qOj],decls:0,vars:0,template:function($e,ct){},encapsulation:2})}return Be})();const Le="--mat-dialog-transition-duration";function Pe(Be){return null==Be?null:"number"==typeof Be?Be:Be.endsWith("ms")?(0,ae.su)(Be.substring(0,Be.length-2)):Be.endsWith("s")?1e3*(0,ae.su)(Be.substring(0,Be.length-1)):"0"===Be?0:null}let Oe=(()=>{class Be extends _e{constructor(Qe,$e,ct,It,_t,Pt,Vt,$t,Qt){super(Qe,$e,ct,It,_t,Pt,Vt,Qt),this._animationMode=$t,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Pe(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Pe(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Le,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Ie,Se)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Se),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Se),this._animationsEnabled?(this._hostElement.style.setProperty(Le,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(le)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Ie,le)}_waitForAnimationToComplete(Qe,$e){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout($e,Qe)}_requestAnimationFrame(Qe){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(Qe):Qe()})}static#e=this.\u0275fac=function($e){return new($e||Be)(E.Y36(E.SBq),E.Y36(O.qV),E.Y36(t.K0,8),E.Y36(ue),E.Y36(O.ic),E.Y36(E.R0b),E.Y36(c.Iu),E.Y36(E.QbO,8),E.Y36(O.tE))};static#t=this.\u0275cmp=E.Xpm({type:Be,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function($e,ct){2&$e&&(E.Ikx("id",ct._config.id),E.uIk("aria-modal",ct._config.ariaModal)("role",ct._config.role)("aria-labelledby",ct._config.ariaLabel?null:ct._ariaLabelledBy)("aria-label",ct._config.ariaLabel)("aria-describedby",ct._config.ariaDescribedBy||null),E.ekj("_mat-animation-noopable",!ct._animationsEnabled))},features:[E.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function($e,ct){1&$e&&(E.TgZ(0,"div",0)(1,"div",1),E.YNc(2,te,0,0,"ng-template",2),E.qZA()())},dependencies:[F.Pl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return Be})();class Ue{constructor(Ze,Qe,$e){this._ref=Ze,this._containerInstance=$e,this._afterOpened=new D.x,this._beforeClosed=new D.x,this._state=0,this.disableClose=Qe.disableClose,this.id=Ze.id,$e._animationStateChanged.pipe((0,z.h)(ct=>"opened"===ct.state),(0,oe.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),$e._animationStateChanged.pipe((0,z.h)(ct=>"closed"===ct.state),(0,oe.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),Ze.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Re.T)(this.backdropClick(),this.keydownEvents().pipe((0,z.h)(ct=>ct.keyCode===L.hY&&!this.disableClose&&!(0,L.Vb)(ct)))).subscribe(ct=>{this.disableClose||(ct.preventDefault(),function ze(Be,Ze,Qe){Be._closeInteractionType=Ze,Be.close(Qe)}(this,"keydown"===ct.type?"keyboard":"mouse"))})}close(Ze){this._result=Ze,this._containerInstance._animationStateChanged.pipe((0,z.h)(Qe=>"closing"===Qe.state),(0,oe.q)(1)).subscribe(Qe=>{this._beforeClosed.next(Ze),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),Qe.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(Ze){let Qe=this._ref.config.positionStrategy;return Ze&&(Ze.left||Ze.right)?Ze.left?Qe.left(Ze.left):Qe.right(Ze.right):Qe.centerHorizontally(),Ze&&(Ze.top||Ze.bottom)?Ze.top?Qe.top(Ze.top):Qe.bottom(Ze.bottom):Qe.centerVertically(),this._ref.updatePosition(),this}updateSize(Ze="",Qe=""){return this._ref.updateSize(Ze,Qe),this}addPanelClass(Ze){return this._ref.addPanelClass(Ze),this}removePanelClass(Ze){return this._ref.removePanelClass(Ze),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const He=new E.OlP("MatMdcDialogData"),Ae=new E.OlP("mat-mdc-dialog-default-options"),ye=new E.OlP("mat-mdc-dialog-scroll-strategy"),ie={provide:ye,deps:[c.aV],useFactory:function K(Be){return()=>Be.scrollStrategies.block()}};let $=0,Z=(()=>{class Be{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const Qe=this._parentDialog;return Qe?Qe._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(Qe,$e,ct,It,_t,Pt,Vt,$t,Qt,dn){this._overlay=Qe,this._defaultOptions=ct,this._parentDialog=It,this._dialogRefConstructor=Vt,this._dialogContainerType=$t,this._dialogDataToken=Qt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new D.x,this._afterOpenedAtThisLevel=new D.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=ue,this.afterAllClosed=(0,m.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,v.O)(void 0))),this._scrollStrategy=Pt,this._dialog=$e.get(B)}open(Qe,$e){let ct;($e={...this._defaultOptions||new ue,...$e}).id=$e.id||`${this._idPrefix}${$++}`,$e.scrollStrategy=$e.scrollStrategy||this._scrollStrategy();const It=this._dialog.open(Qe,{...$e,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:$e},{provide:U,useValue:$e}]},templateContext:()=>({dialogRef:ct}),providers:(_t,Pt,Vt)=>(ct=new this._dialogRefConstructor(_t,$e,Vt),ct.updatePosition($e?.position),[{provide:this._dialogContainerType,useValue:Vt},{provide:this._dialogDataToken,useValue:Pt.data},{provide:this._dialogRefConstructor,useValue:ct}])});return ct.componentInstance=It.componentInstance,this.openDialogs.push(ct),this.afterOpened.next(ct),ct.afterClosed().subscribe(()=>{const _t=this.openDialogs.indexOf(ct);_t>-1&&(this.openDialogs.splice(_t,1),this.openDialogs.length||this._getAfterAllClosed().next())}),ct}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(Qe){return this.openDialogs.find($e=>$e.id===Qe)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(Qe){let $e=Qe.length;for(;$e--;)Qe[$e].close()}static#e=this.\u0275fac=function($e){E.$Z()};static#t=this.\u0275prov=E.Yz7({token:Be,factory:Be.\u0275fac})}return Be})(),W=(()=>{class Be extends Z{constructor(Qe,$e,ct,It,_t,Pt,Vt,$t){super(Qe,$e,It,Pt,Vt,_t,Ue,Oe,He,$t),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function($e){return new($e||Be)(E.LFG(c.aV),E.LFG(E.zs3),E.LFG(t.Ye,8),E.LFG(Ae,8),E.LFG(ye),E.LFG(Be,12),E.LFG(c.Xj),E.LFG(E.QbO,8))};static#t=this.\u0275prov=E.Yz7({token:Be,factory:Be.\u0275fac})}return Be})(),X=0,q=(()=>{class Be{constructor(Qe,$e,ct){this._dialogRef=Qe,this._elementRef=$e,this._dialog=ct,this.id="mat-mdc-dialog-title-"+X++}ngOnInit(){this._dialogRef||(this._dialogRef=function pe(Be,Ze){let Qe=Be.nativeElement.parentElement;for(;Qe&&!Qe.classList.contains("mat-mdc-dialog-container");)Qe=Qe.parentElement;return Qe?Ze.find($e=>$e.id===Qe.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const Qe=this._dialogRef._containerInstance;Qe&&!Qe._ariaLabelledBy&&(Qe._ariaLabelledBy=this.id)})}static#e=this.\u0275fac=function($e){return new($e||Be)(E.Y36(Ue,8),E.Y36(E.SBq),E.Y36(W))};static#t=this.\u0275dir=E.lG2({type:Be,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function($e,ct){2&$e&&E.Ikx("id",ct.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}return Be})(),J=(()=>{class Be{static#e=this.\u0275fac=function($e){return new($e||Be)};static#t=this.\u0275dir=E.lG2({type:Be,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}return Be})(),de=(()=>{class Be{constructor(){this.align="start"}static#e=this.\u0275fac=function($e){return new($e||Be)};static#t=this.\u0275dir=E.lG2({type:Be,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function($e,ct){2&$e&&E.ekj("mat-mdc-dialog-actions-align-center","center"===ct.align)("mat-mdc-dialog-actions-align-end","end"===ct.align)},inputs:{align:"align"}})}return Be})(),ce=(()=>{class Be{static#e=this.\u0275fac=function($e){return new($e||Be)};static#t=this.\u0275mod=E.oAB({type:Be});static#n=this.\u0275inj=E.cJS({providers:[W,ie],imports:[re,c.U8,F.eL,H.BQ,H.BQ]})}return Be})()},9157:(wn,qe,x)=>{"use strict";x.d(qe,{G_:()=>It,TO:()=>ie,KE:()=>pn,Eo:()=>Ze,lN:()=>Un,bx:()=>$,hX:()=>Ae,R9:()=>Q});var c=x(5879),t=x(9388),E=x(2831),O=x(7394),b=x(8645),F=x(3019),L=x(9773),D=x(5592),m=x(2181),h=x(4552);class g extends b.x{constructor(dt=1/0,xe=1/0,fe=h.l){super(),this._bufferSize=dt,this._windowTime=xe,this._timestampProvider=fe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=xe===1/0,this._bufferSize=Math.max(1,dt),this._windowTime=Math.max(1,xe)}next(dt){const{isStopped:xe,_buffer:fe,_infiniteTimeWindow:ge,_timestampProvider:st,_windowTime:mt}=this;xe||(fe.push(dt),!ge&&fe.push(st.now()+mt)),this._trimBuffer(),super.next(dt)}_subscribe(dt){this._throwIfClosed(),this._trimBuffer();const xe=this._innerSubscribe(dt),{_infiniteTimeWindow:fe,_buffer:ge}=this,st=ge.slice();for(let mt=0;mt<st.length&&!dt.closed;mt+=fe?1:2)dt.next(st[mt]);return this._checkFinalizedStatuses(dt),xe}_trimBuffer(){const{_bufferSize:dt,_timestampProvider:xe,_buffer:fe,_infiniteTimeWindow:ge}=this,st=(ge?1:2)*dt;if(dt<1/0&&st<fe.length&&fe.splice(0,fe.length-st),!ge){const mt=xe.now();let Dt=0;for(let ut=1;ut<fe.length&&fe[ut]<=mt;ut+=2)Dt=ut;Dt&&fe.splice(0,Dt+1)}}}var v=x(3020);class P{constructor(dt){this._box=dt,this._destroyed=new b.x,this._resizeSubject=new b.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(xe=>this._resizeSubject.next(xe)))}observe(dt){return this._elementObservables.has(dt)||this._elementObservables.set(dt,new D.y(xe=>{const fe=this._resizeSubject.subscribe(xe);return this._resizeObserver?.observe(dt,{box:this._box}),()=>{this._resizeObserver?.unobserve(dt),fe.unsubscribe(),this._elementObservables.delete(dt)}}).pipe((0,m.h)(xe=>xe.some(fe=>fe.target===dt)),function A(ot,dt,xe){let fe,ge=!1;return ot&&"object"==typeof ot?({bufferSize:fe=1/0,windowTime:dt=1/0,refCount:ge=!1,scheduler:xe}=ot):fe=ot??1/0,(0,v.B)({connector:()=>new g(fe,dt,xe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ge})}({bufferSize:1,refCount:!0}),(0,L.R)(this._destroyed))),this._elementObservables.get(dt)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let V=(()=>{class ot{constructor(){this._observers=new Map,this._ngZone=(0,c.f3M)(c.R0b)}ngOnDestroy(){for(const[,xe]of this._observers)xe.destroy();this._observers.clear()}observe(xe,fe){const ge=fe?.box||"content-box";return this._observers.has(ge)||this._observers.set(ge,new P(ge)),this._observers.get(ge).observe(xe)}static#e=this.\u0275fac=function(fe){return new(fe||ot)};static#t=this.\u0275prov=c.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();var k=x(2495),R=x(6825),C=x(6814),w=x(7131),T=x(3680);const N=["notch"],S=["matFormFieldNotchedOutline",""],B=["*"],Y=["textField"],re=["iconPrefixContainer"],ae=["textPrefixContainer"];function Re(ot,dt){1&ot&&c._UZ(0,"span",19)}function z(ot,dt){if(1&ot&&(c.TgZ(0,"label",17),c.Hsn(1,1),c.YNc(2,Re,1,0,"span",18),c.qZA()),2&ot){const xe=c.oxw(2);c.Q6J("floating",xe._shouldLabelFloat())("monitorResize",xe._hasOutline())("id",xe._labelId),c.uIk("for",xe._control.id),c.xp6(2),c.Q6J("ngIf",!xe.hideRequiredMarker&&xe._control.required)}}function oe(ot,dt){if(1&ot&&c.YNc(0,z,3,5,"label",16),2&ot){const xe=c.oxw();c.Q6J("ngIf",xe._hasFloatingLabel())}}function H(ot,dt){1&ot&&c._UZ(0,"div",20)}function me(ot,dt){}function te(ot,dt){if(1&ot&&c.YNc(0,me,0,0,"ng-template",22),2&ot){c.oxw(2);const xe=c.MAs(1);c.Q6J("ngTemplateOutlet",xe)}}function ue(ot,dt){if(1&ot&&(c.TgZ(0,"div",21),c.YNc(1,te,1,1,"ng-template",9),c.qZA()),2&ot){const xe=c.oxw();c.Q6J("matFormFieldNotchedOutlineOpen",xe._shouldLabelFloat()),c.xp6(1),c.Q6J("ngIf",!xe._forceDisplayInfixLabel())}}function Se(ot,dt){1&ot&&(c.TgZ(0,"div",23,24),c.Hsn(2,2),c.qZA())}function Ie(ot,dt){1&ot&&(c.TgZ(0,"div",25,26),c.Hsn(2,3),c.qZA())}function le(ot,dt){}function Me(ot,dt){if(1&ot&&c.YNc(0,le,0,0,"ng-template",22),2&ot){c.oxw();const xe=c.MAs(1);c.Q6J("ngTemplateOutlet",xe)}}function we(ot,dt){1&ot&&(c.TgZ(0,"div",27),c.Hsn(1,4),c.qZA())}function _e(ot,dt){1&ot&&(c.TgZ(0,"div",28),c.Hsn(1,5),c.qZA())}function Le(ot,dt){1&ot&&c._UZ(0,"div",29)}function Pe(ot,dt){if(1&ot&&(c.TgZ(0,"div",30),c.Hsn(1,6),c.qZA()),2&ot){const xe=c.oxw();c.Q6J("@transitionMessages",xe._subscriptAnimationState)}}function Oe(ot,dt){if(1&ot&&(c.TgZ(0,"mat-hint",34),c._uU(1),c.qZA()),2&ot){const xe=c.oxw(2);c.Q6J("id",xe._hintLabelId),c.xp6(1),c.Oqu(xe.hintLabel)}}function Ue(ot,dt){if(1&ot&&(c.TgZ(0,"div",31),c.YNc(1,Oe,2,2,"mat-hint",32),c.Hsn(2,7),c._UZ(3,"div",33),c.Hsn(4,8),c.qZA()),2&ot){const xe=c.oxw();c.Q6J("@transitionMessages",xe._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",xe.hintLabel)}}const ze=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],He=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Ae=(()=>{class ot{static#e=this.\u0275fac=function(fe){return new(fe||ot)};static#t=this.\u0275dir=c.lG2({type:ot,selectors:[["mat-label"]]})}return ot})(),ye=0;const K=new c.OlP("MatError");let ie=(()=>{class ot{constructor(xe,fe){this.id="mat-mdc-error-"+ye++,xe||fe.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(fe){return new(fe||ot)(c.$8M("aria-live"),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ot,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(fe,ge){2&fe&&c.Ikx("id",ge.id)},inputs:{id:"id"},features:[c._Bn([{provide:K,useExisting:ot}])]})}return ot})(),he=0,$=(()=>{class ot{constructor(){this.align="start",this.id="mat-mdc-hint-"+he++}static#e=this.\u0275fac=function(fe){return new(fe||ot)};static#t=this.\u0275dir=c.lG2({type:ot,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(fe,ge){2&fe&&(c.Ikx("id",ge.id),c.uIk("align",null),c.ekj("mat-mdc-form-field-hint-end","end"===ge.align))},inputs:{align:"align",id:"id"}})}return ot})();const Z=new c.OlP("MatPrefix"),X=new c.OlP("MatSuffix");let Q=(()=>{class ot{constructor(){this._isText=!1}set _isTextSelector(xe){this._isText=!0}static#e=this.\u0275fac=function(fe){return new(fe||ot)};static#t=this.\u0275dir=c.lG2({type:ot,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[c._Bn([{provide:X,useExisting:ot}])]})}return ot})();const q=new c.OlP("FloatingLabelParent");let J=(()=>{class ot{get floating(){return this._floating}set floating(xe){this._floating=xe,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(xe){this._monitorResize=xe,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(xe){this._elementRef=xe,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,c.f3M)(V),this._ngZone=(0,c.f3M)(c.R0b),this._parent=(0,c.f3M)(q),this._resizeSubscription=new O.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function de(ot){if(null!==ot.offsetParent)return ot.scrollWidth;const xe=ot.cloneNode(!0);xe.style.setProperty("position","absolute"),xe.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(xe);const fe=xe.scrollWidth;return xe.remove(),fe}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(fe){return new(fe||ot)(c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ot,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(fe,ge){2&fe&&c.ekj("mdc-floating-label--float-above",ge.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return ot})();const pe="mdc-line-ripple--active",ce="mdc-line-ripple--deactivating";let Ce=(()=>{class ot{constructor(xe,fe){this._elementRef=xe,this._handleTransitionEnd=ge=>{const st=this._elementRef.nativeElement.classList,mt=st.contains(ce);"opacity"===ge.propertyName&&mt&&st.remove(pe,ce)},fe.runOutsideAngular(()=>{xe.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const xe=this._elementRef.nativeElement.classList;xe.remove(ce),xe.add(pe)}deactivate(){this._elementRef.nativeElement.classList.add(ce)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(fe){return new(fe||ot)(c.Y36(c.SBq),c.Y36(c.R0b))};static#t=this.\u0275dir=c.lG2({type:ot,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return ot})(),Ye=(()=>{class ot{constructor(xe,fe){this._elementRef=xe,this._ngZone=fe,this.open=!1}ngAfterViewInit(){const xe=this._elementRef.nativeElement.querySelector(".mdc-floating-label");xe?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(xe.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>xe.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(xe){this._notch.nativeElement.style.width=this.open&&xe?`calc(${xe}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(fe){return new(fe||ot)(c.Y36(c.SBq),c.Y36(c.R0b))};static#t=this.\u0275cmp=c.Xpm({type:ot,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(fe,ge){if(1&fe&&c.Gf(N,5),2&fe){let st;c.iGM(st=c.CRH())&&(ge._notch=st.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(fe,ge){2&fe&&c.ekj("mdc-notched-outline--notched",ge.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:S,ngContentSelectors:B,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(fe,ge){1&fe&&(c.F$t(),c._UZ(0,"div",0),c.TgZ(1,"div",1,2),c.Hsn(3),c.qZA(),c._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return ot})();const Be={transitionMessages:(0,R.X$)("transitionMessages",[(0,R.SB)("enter",(0,R.oB)({opacity:1,transform:"translateY(0%)"})),(0,R.eR)("void => enter",[(0,R.oB)({opacity:0,transform:"translateY(-5px)"}),(0,R.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ze=(()=>{class ot{static#e=this.\u0275fac=function(fe){return new(fe||ot)};static#t=this.\u0275dir=c.lG2({type:ot})}return ot})();const It=new c.OlP("MatFormField"),_t=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Pt=0,pn=(()=>{class ot{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(xe){this._hideRequiredMarker=(0,k.Ig)(xe)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(xe){xe!==this._floatLabel&&(this._floatLabel=xe,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(xe){const fe=this._appearance;this._appearance=xe||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==fe&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(xe){this._subscriptSizing=xe||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(xe){this._hintLabel=xe,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(xe){this._explicitFormFieldControl=xe}constructor(xe,fe,ge,st,mt,Dt,ut,bt){this._elementRef=xe,this._changeDetectorRef=fe,this._ngZone=ge,this._dir=st,this._platform=mt,this._defaults=Dt,this._animationMode=ut,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+Pt++,this._hintLabelId="mat-mdc-hint-"+Pt++,this._subscriptAnimationState="",this._destroyed=new b.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,Dt&&(Dt.appearance&&(this.appearance=Dt.appearance),this._hideRequiredMarker=!!Dt?.hideRequiredMarker,Dt.color&&(this.color=Dt.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const xe=this._control;xe.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${xe.controlType}`),xe.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),xe.ngControl&&xe.ngControl.valueChanges&&xe.ngControl.valueChanges.pipe((0,L.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(xe=>!xe._isText),this._hasTextPrefix=!!this._prefixChildren.find(xe=>xe._isText),this._hasIconSuffix=!!this._suffixChildren.find(xe=>!xe._isText),this._hasTextSuffix=!!this._suffixChildren.find(xe=>xe._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,F.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,L.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,L.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(xe){const fe=this._control?this._control.ngControl:null;return fe&&fe[xe]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let xe=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&xe.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const fe=this._hintChildren?this._hintChildren.find(st=>"start"===st.align):null,ge=this._hintChildren?this._hintChildren.find(st=>"end"===st.align):null;fe?xe.push(fe.id):this._hintLabel&&xe.push(this._hintLabelId),ge&&xe.push(ge.id)}else this._errorChildren&&xe.push(...this._errorChildren.map(fe=>fe.id));this._control.setDescribedByIds(xe)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const xe=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(xe.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const fe=this._iconPrefixContainer?.nativeElement,ge=this._textPrefixContainer?.nativeElement,st=fe?.getBoundingClientRect().width??0,mt=ge?.getBoundingClientRect().width??0;xe.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${st+mt}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const xe=this._elementRef.nativeElement;if(xe.getRootNode){const fe=xe.getRootNode();return fe&&fe!==xe}return document.documentElement.contains(xe)}static#e=this.\u0275fac=function(fe){return new(fe||ot)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(t.Is),c.Y36(E.t4),c.Y36(_t,8),c.Y36(c.QbO,8),c.Y36(C.K0))};static#t=this.\u0275cmp=c.Xpm({type:ot,selectors:[["mat-form-field"]],contentQueries:function(fe,ge,st){if(1&fe&&(c.Suo(st,Ae,5),c.Suo(st,Ae,7),c.Suo(st,Ze,5),c.Suo(st,Z,5),c.Suo(st,X,5),c.Suo(st,K,5),c.Suo(st,$,5)),2&fe){let mt;c.iGM(mt=c.CRH())&&(ge._labelChildNonStatic=mt.first),c.iGM(mt=c.CRH())&&(ge._labelChildStatic=mt.first),c.iGM(mt=c.CRH())&&(ge._formFieldControl=mt.first),c.iGM(mt=c.CRH())&&(ge._prefixChildren=mt),c.iGM(mt=c.CRH())&&(ge._suffixChildren=mt),c.iGM(mt=c.CRH())&&(ge._errorChildren=mt),c.iGM(mt=c.CRH())&&(ge._hintChildren=mt)}},viewQuery:function(fe,ge){if(1&fe&&(c.Gf(Y,5),c.Gf(re,5),c.Gf(ae,5),c.Gf(J,5),c.Gf(Ye,5),c.Gf(Ce,5)),2&fe){let st;c.iGM(st=c.CRH())&&(ge._textField=st.first),c.iGM(st=c.CRH())&&(ge._iconPrefixContainer=st.first),c.iGM(st=c.CRH())&&(ge._textPrefixContainer=st.first),c.iGM(st=c.CRH())&&(ge._floatingLabel=st.first),c.iGM(st=c.CRH())&&(ge._notchedOutline=st.first),c.iGM(st=c.CRH())&&(ge._lineRipple=st.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(fe,ge){2&fe&&c.ekj("mat-mdc-form-field-label-always-float",ge._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",ge._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",ge._hasIconSuffix)("mat-form-field-invalid",ge._control.errorState)("mat-form-field-disabled",ge._control.disabled)("mat-form-field-autofilled",ge._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===ge._animationMode)("mat-form-field-appearance-fill","fill"==ge.appearance)("mat-form-field-appearance-outline","outline"==ge.appearance)("mat-form-field-hide-placeholder",ge._hasFloatingLabel()&&!ge._shouldLabelFloat())("mat-focused",ge._control.focused)("mat-primary","accent"!==ge.color&&"warn"!==ge.color)("mat-accent","accent"===ge.color)("mat-warn","warn"===ge.color)("ng-untouched",ge._shouldForward("untouched"))("ng-touched",ge._shouldForward("touched"))("ng-pristine",ge._shouldForward("pristine"))("ng-dirty",ge._shouldForward("dirty"))("ng-valid",ge._shouldForward("valid"))("ng-invalid",ge._shouldForward("invalid"))("ng-pending",ge._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:It,useExisting:ot},{provide:q,useExisting:ot}])],ngContentSelectors:He,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(fe,ge){1&fe&&(c.F$t(ze),c.YNc(0,oe,1,1,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.NdJ("click",function(mt){return ge._control.onContainerClick(mt)}),c.YNc(4,H,1,0,"div",3),c.TgZ(5,"div",4),c.YNc(6,ue,2,2,"div",5),c.YNc(7,Se,3,0,"div",6),c.YNc(8,Ie,3,0,"div",7),c.TgZ(9,"div",8),c.YNc(10,Me,1,1,"ng-template",9),c.Hsn(11),c.qZA(),c.YNc(12,we,2,0,"div",10),c.YNc(13,_e,2,0,"div",11),c.qZA(),c.YNc(14,Le,1,0,"div",12),c.qZA(),c.TgZ(15,"div",13),c.YNc(16,Pe,2,1,"div",14),c.YNc(17,Ue,5,2,"div",15),c.qZA()),2&fe&&(c.xp6(2),c.ekj("mdc-text-field--filled",!ge._hasOutline())("mdc-text-field--outlined",ge._hasOutline())("mdc-text-field--no-label",!ge._hasFloatingLabel())("mdc-text-field--disabled",ge._control.disabled)("mdc-text-field--invalid",ge._control.errorState),c.xp6(2),c.Q6J("ngIf",!ge._hasOutline()&&!ge._control.disabled),c.xp6(2),c.Q6J("ngIf",ge._hasOutline()),c.xp6(1),c.Q6J("ngIf",ge._hasIconPrefix),c.xp6(1),c.Q6J("ngIf",ge._hasTextPrefix),c.xp6(2),c.Q6J("ngIf",!ge._hasOutline()||ge._forceDisplayInfixLabel()),c.xp6(2),c.Q6J("ngIf",ge._hasTextSuffix),c.xp6(1),c.Q6J("ngIf",ge._hasIconSuffix),c.xp6(1),c.Q6J("ngIf",!ge._hasOutline()),c.xp6(1),c.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===ge.subscriptSizing),c.Q6J("ngSwitch",ge._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},dependencies:[C.O5,C.tP,C.RF,C.n9,$,J,Ye,Ce],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Be.transitionMessages]},changeDetection:0})}return ot})(),Un=(()=>{class ot{static#e=this.\u0275fac=function(fe){return new(fe||ot)};static#t=this.\u0275mod=c.oAB({type:ot});static#n=this.\u0275inj=c.cJS({imports:[T.BQ,C.ez,w.Q8,T.BQ]})}return ot})()},2032:(wn,qe,x)=>{"use strict";x.d(qe,{Jk:()=>P,Nt:()=>C,c:()=>w});var c=x(2495),t=x(2831),E=x(5879),O=x(6232),b=x(8645);const F=(0,t.i$)({passive:!0});let L=(()=>{class T{constructor(S,B){this._platform=S,this._ngZone=B,this._monitoredElements=new Map}monitor(S){if(!this._platform.isBrowser)return O.E;const B=(0,c.fI)(S),Y=this._monitoredElements.get(B);if(Y)return Y.subject;const re=new b.x,ae="cdk-text-field-autofilled",Re=z=>{"cdk-text-field-autofill-start"!==z.animationName||B.classList.contains(ae)?"cdk-text-field-autofill-end"===z.animationName&&B.classList.contains(ae)&&(B.classList.remove(ae),this._ngZone.run(()=>re.next({target:z.target,isAutofilled:!1}))):(B.classList.add(ae),this._ngZone.run(()=>re.next({target:z.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{B.addEventListener("animationstart",Re,F),B.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(B,{subject:re,unlisten:()=>{B.removeEventListener("animationstart",Re,F)}}),re}stopMonitoring(S){const B=(0,c.fI)(S),Y=this._monitoredElements.get(B);Y&&(Y.unlisten(),Y.subject.complete(),B.classList.remove("cdk-text-field-autofill-monitored"),B.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(B))}ngOnDestroy(){this._monitoredElements.forEach((S,B)=>this.stopMonitoring(B))}static#e=this.\u0275fac=function(B){return new(B||T)(E.LFG(t.t4),E.LFG(E.R0b))};static#t=this.\u0275prov=E.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),h=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=E.oAB({type:T});static#n=this.\u0275inj=E.cJS({})}return T})();var g=x(95),v=x(3680),A=x(9157);const P=new E.OlP("MAT_INPUT_VALUE_ACCESSOR"),V=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let k=0;const R=(0,v.FD)(class{constructor(T,N,S,B){this._defaultErrorStateMatcher=T,this._parentForm=N,this._parentFormGroup=S,this.ngControl=B,this.stateChanges=new b.x}});let C=(()=>{class T extends R{get disabled(){return this._disabled}set disabled(S){this._disabled=(0,c.Ig)(S),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(S){this._id=S||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(g.kI.required)??!1}set required(S){this._required=(0,c.Ig)(S)}get type(){return this._type}set type(S){this._type=S||"text",this._validateType(),!this._isTextarea&&(0,t.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(S){S!==this.value&&(this._inputValueAccessor.value=S,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(S){this._readonly=(0,c.Ig)(S)}constructor(S,B,Y,re,ae,Re,z,oe,H,me){super(Re,re,ae,Y),this._elementRef=S,this._platform=B,this._autofillMonitor=oe,this._formField=me,this._uid="mat-input-"+k++,this.focused=!1,this.stateChanges=new b.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Se=>(0,t.qK)().has(Se)),this._iOSKeyupListener=Se=>{const Ie=Se.target;!Ie.value&&0===Ie.selectionStart&&0===Ie.selectionEnd&&(Ie.setSelectionRange(1,1),Ie.setSelectionRange(0,0))};const te=this._elementRef.nativeElement,ue=te.nodeName.toLowerCase();this._inputValueAccessor=z||te,this._previousNativeValue=this.value,this.id=this.id,B.IOS&&H.runOutsideAngular(()=>{S.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===ue,this._isTextarea="textarea"===ue,this._isInFormField=!!me,this._isNativeSelect&&(this.controlType=te.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(S=>{this.autofilled=S.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(S){this._elementRef.nativeElement.focus(S)}_focusChanged(S){S!==this.focused&&(this.focused=S,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const S=this._elementRef.nativeElement.value;this._previousNativeValue!==S&&(this._previousNativeValue=S,this.stateChanges.next())}_dirtyCheckPlaceholder(){const S=this._getPlaceholder();if(S!==this._previousPlaceholder){const B=this._elementRef.nativeElement;this._previousPlaceholder=S,S?B.setAttribute("placeholder",S):B.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){V.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let S=this._elementRef.nativeElement.validity;return S&&S.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const S=this._elementRef.nativeElement,B=S.options[0];return this.focused||S.multiple||!this.empty||!!(S.selectedIndex>-1&&B&&B.label)}return this.focused||!this.empty}setDescribedByIds(S){S.length?this._elementRef.nativeElement.setAttribute("aria-describedby",S.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const S=this._elementRef.nativeElement;return this._isNativeSelect&&(S.multiple||S.size>1)}static#e=this.\u0275fac=function(B){return new(B||T)(E.Y36(E.SBq),E.Y36(t.t4),E.Y36(g.a5,10),E.Y36(g.F,8),E.Y36(g.sg,8),E.Y36(v.rD),E.Y36(P,10),E.Y36(L),E.Y36(E.R0b),E.Y36(A.G_,8))};static#t=this.\u0275dir=E.lG2({type:T,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(B,Y){1&B&&E.NdJ("focus",function(){return Y._focusChanged(!0)})("blur",function(){return Y._focusChanged(!1)})("input",function(){return Y._onInput()}),2&B&&(E.Ikx("id",Y.id)("disabled",Y.disabled)("required",Y.required),E.uIk("name",Y.name||null)("readonly",Y.readonly&&!Y._isNativeSelect||null)("aria-invalid",Y.empty&&Y.required?null:Y.errorState)("aria-required",Y.required)("id",Y.id),E.ekj("mat-input-server",Y._isServer)("mat-mdc-form-field-textarea-control",Y._isInFormField&&Y._isTextarea)("mat-mdc-form-field-input-control",Y._isInFormField)("mdc-text-field__input",Y._isInFormField)("mat-mdc-native-select-inline",Y._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[E._Bn([{provide:A.Eo,useExisting:T}]),E.qOj,E.TTD]})}return T})(),w=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=E.oAB({type:T});static#n=this.\u0275inj=E.cJS({imports:[v.BQ,A.lN,A.lN,h,v.BQ]})}return T})()},1476:(wn,qe,x)=>{"use strict";x.d(qe,{NW:()=>Y,TU:()=>re,ye:()=>V});var c=x(6814),t=x(5879),E=x(8645),O=x(2296),b=x(8525),F=x(2596),L=x(3680),D=x(2495),m=x(9157);function h(ae,Re){if(1&ae&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&ae){const z=Re.$implicit;t.Q6J("value",z),t.xp6(1),t.hij(" ",z," ")}}function g(ae,Re){if(1&ae){const z=t.EpF();t.TgZ(0,"mat-form-field",16)(1,"mat-select",17),t.NdJ("selectionChange",function(H){t.CHM(z);const me=t.oxw(2);return t.KtG(me._changePageSize(H.value))}),t.YNc(2,h,2,2,"mat-option",18),t.qZA()()}if(2&ae){const z=t.oxw(2);t.Q6J("appearance",z._formFieldAppearance)("color",z.color),t.xp6(1),t.Q6J("value",z.pageSize)("disabled",z.disabled)("aria-labelledby",z._pageSizeLabelId)("panelClass",z.selectConfig.panelClass||"")("disableOptionCentering",z.selectConfig.disableOptionCentering),t.xp6(1),t.Q6J("ngForOf",z._displayedPageSizeOptions)}}function v(ae,Re){if(1&ae&&(t.TgZ(0,"div",20),t._uU(1),t.qZA()),2&ae){const z=t.oxw(2);t.xp6(1),t.Oqu(z.pageSize)}}function A(ae,Re){if(1&ae&&(t.TgZ(0,"div",12)(1,"div",13),t._uU(2),t.qZA(),t.YNc(3,g,3,8,"mat-form-field",14),t.YNc(4,v,2,1,"div",15),t.qZA()),2&ae){const z=t.oxw();t.xp6(1),t.s9C("id",z._pageSizeLabelId),t.xp6(1),t.hij(" ",z._intl.itemsPerPageLabel," "),t.xp6(1),t.Q6J("ngIf",z._displayedPageSizeOptions.length>1),t.xp6(1),t.Q6J("ngIf",z._displayedPageSizeOptions.length<=1)}}function U(ae,Re){if(1&ae){const z=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(z);const H=t.oxw();return t.KtG(H.firstPage())}),t.O4$(),t.TgZ(1,"svg",7),t._UZ(2,"path",22),t.qZA()()}if(2&ae){const z=t.oxw();t.Q6J("matTooltip",z._intl.firstPageLabel)("matTooltipDisabled",z._previousButtonsDisabled())("matTooltipPosition","above")("disabled",z._previousButtonsDisabled()),t.uIk("aria-label",z._intl.firstPageLabel)}}function P(ae,Re){if(1&ae){const z=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(z);const H=t.oxw();return t.KtG(H.lastPage())}),t.O4$(),t.TgZ(1,"svg",7),t._UZ(2,"path",24),t.qZA()()}if(2&ae){const z=t.oxw();t.Q6J("matTooltip",z._intl.lastPageLabel)("matTooltipDisabled",z._nextButtonsDisabled())("matTooltipPosition","above")("disabled",z._nextButtonsDisabled()),t.uIk("aria-label",z._intl.lastPageLabel)}}let V=(()=>{class ae{constructor(){this.changes=new E.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(z,oe,H)=>{if(0==H||0==oe)return`0 of ${H}`;const me=z*oe;return`${me+1} \u2013 ${me<(H=Math.max(H,0))?Math.min(me+oe,H):me+oe} of ${H}`}}static#e=this.\u0275fac=function(oe){return new(oe||ae)};static#t=this.\u0275prov=t.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();const R={provide:V,deps:[[new t.FiY,new t.tp0,V]],useFactory:function k(ae){return ae||new V}},T=new t.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),N=(0,L.Id)((0,L.dB)(class{}));let S=(()=>{class ae extends N{get pageIndex(){return this._pageIndex}set pageIndex(z){this._pageIndex=Math.max((0,D.su)(z),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(z){this._length=(0,D.su)(z),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(z){this._pageSize=Math.max((0,D.su)(z),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(z){this._pageSizeOptions=(z||[]).map(oe=>(0,D.su)(oe)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(z){this._hidePageSize=(0,D.Ig)(z)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(z){this._showFirstLastButtons=(0,D.Ig)(z)}constructor(z,oe,H){if(super(),this._intl=z,this._changeDetectorRef=oe,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new t.vpe,this._intlChanges=z.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),H){const{pageSize:me,pageSizeOptions:te,hidePageSize:ue,showFirstLastButtons:Se}=H;null!=me&&(this._pageSize=me),null!=te&&(this._pageSizeOptions=te),null!=ue&&(this._hidePageSize=ue),null!=Se&&(this._showFirstLastButtons=Se)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const z=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(z)}previousPage(){if(!this.hasPreviousPage())return;const z=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(z)}firstPage(){if(!this.hasPreviousPage())return;const z=this.pageIndex;this.pageIndex=0,this._emitPageEvent(z)}lastPage(){if(!this.hasNextPage())return;const z=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(z)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const z=this.getNumberOfPages()-1;return this.pageIndex<z&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(z){const H=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/z)||0,this.pageSize=z,this._emitPageEvent(H)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((z,oe)=>z-oe),this._changeDetectorRef.markForCheck())}_emitPageEvent(z){this.page.emit({previousPageIndex:z,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(oe){t.$Z()};static#t=this.\u0275dir=t.lG2({type:ae,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[t.qOj]})}return ae})(),B=0,Y=(()=>{class ae extends S{constructor(z,oe,H){super(z,oe,H),this._pageSizeLabelId="mat-paginator-page-size-label-"+B++,this._formFieldAppearance=H?.formFieldAppearance||"outline"}static#e=this.\u0275fac=function(oe){return new(oe||ae)(t.Y36(V),t.Y36(t.sBO),t.Y36(T,8))};static#t=this.\u0275cmp=t.Xpm({type:ae,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[t.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(oe,H){1&oe&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,A,5,4,"div",2),t.TgZ(3,"div",3)(4,"div",4),t._uU(5),t.qZA(),t.YNc(6,U,3,5,"button",5),t.TgZ(7,"button",6),t.NdJ("click",function(){return H.previousPage()}),t.O4$(),t.TgZ(8,"svg",7),t._UZ(9,"path",8),t.qZA()(),t.kcU(),t.TgZ(10,"button",9),t.NdJ("click",function(){return H.nextPage()}),t.O4$(),t.TgZ(11,"svg",7),t._UZ(12,"path",10),t.qZA()(),t.YNc(13,P,3,5,"button",11),t.qZA()()()),2&oe&&(t.xp6(2),t.Q6J("ngIf",!H.hidePageSize),t.xp6(3),t.hij(" ",H._intl.getRangeLabel(H.pageIndex,H.pageSize,H.length)," "),t.xp6(1),t.Q6J("ngIf",H.showFirstLastButtons),t.xp6(1),t.Q6J("matTooltip",H._intl.previousPageLabel)("matTooltipDisabled",H._previousButtonsDisabled())("matTooltipPosition","above")("disabled",H._previousButtonsDisabled()),t.uIk("aria-label",H._intl.previousPageLabel),t.xp6(3),t.Q6J("matTooltip",H._intl.nextPageLabel)("matTooltipDisabled",H._nextButtonsDisabled())("matTooltipPosition","above")("disabled",H._nextButtonsDisabled()),t.uIk("aria-label",H._intl.nextPageLabel),t.xp6(3),t.Q6J("ngIf",H.showFirstLastButtons))},dependencies:[c.sg,c.O5,O.RK,m.KE,b.gD,L.ey,F.gM],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return ae})(),re=(()=>{class ae{static#e=this.\u0275fac=function(oe){return new(oe||ae)};static#t=this.\u0275mod=t.oAB({type:ae});static#n=this.\u0275inj=t.cJS({providers:[R],imports:[c.ez,O.ot,b.LD,F.AV]})}return ae})()},5940:(wn,qe,x)=>{"use strict";x.d(qe,{Cq:()=>U,Ou:()=>v});var c=x(5879),t=x(3680),E=x(2495),O=x(6814);const b=["determinateSpinner"];function F(P,V){if(1&P&&(c.O4$(),c.TgZ(0,"svg",11),c._UZ(1,"circle",12),c.qZA()),2&P){const k=c.oxw();c.uIk("viewBox",k._viewBox()),c.xp6(1),c.Udp("stroke-dasharray",k._strokeCircumference(),"px")("stroke-dashoffset",k._strokeCircumference()/2,"px")("stroke-width",k._circleStrokeWidth(),"%"),c.uIk("r",k._circleRadius())}}const L=(0,t.pj)(class{constructor(P){this._elementRef=P}},"primary"),D=new c.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function m(){return{diameter:h}}}),h=100;let v=(()=>{class P extends L{constructor(k,R,C){super(k),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=h,this._noopAnimations="NoopAnimations"===R&&!!C&&!C._forceAnimations,C&&(C.color&&(this.color=this.defaultColor=C.color),C.diameter&&(this.diameter=C.diameter),C.strokeWidth&&(this.strokeWidth=C.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(k){this._value=Math.max(0,Math.min(100,(0,E.su)(k)))}get diameter(){return this._diameter}set diameter(k){this._diameter=(0,E.su)(k)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(k){this._strokeWidth=(0,E.su)(k)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const k=2*this._circleRadius()+this.strokeWidth;return`0 0 ${k} ${k}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(R){return new(R||P)(c.Y36(c.SBq),c.Y36(c.QbO,8),c.Y36(D))};static#t=this.\u0275cmp=c.Xpm({type:P,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(R,C){if(1&R&&c.Gf(b,5),2&R){let w;c.iGM(w=c.CRH())&&(C._determinateCircle=w.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(R,C){2&R&&(c.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===C.mode?C.value:null)("mode",C.mode),c.Udp("width",C.diameter,"px")("height",C.diameter,"px")("--mdc-circular-progress-size",C.diameter+"px")("--mdc-circular-progress-active-indicator-width",C.diameter+"px"),c.ekj("_mat-animation-noopable",C._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===C.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[c.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(R,C){if(1&R&&(c.YNc(0,F,2,8,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.O4$(),c.TgZ(4,"svg",3),c._UZ(5,"circle",4),c.qZA()(),c.kcU(),c.TgZ(6,"div",5)(7,"div",6)(8,"div",7),c.GkF(9,8),c.qZA(),c.TgZ(10,"div",9),c.GkF(11,8),c.qZA(),c.TgZ(12,"div",10),c.GkF(13,8),c.qZA()()()),2&R){const w=c.MAs(1);c.xp6(4),c.uIk("viewBox",C._viewBox()),c.xp6(1),c.Udp("stroke-dasharray",C._strokeCircumference(),"px")("stroke-dashoffset",C._strokeDashOffset(),"px")("stroke-width",C._circleStrokeWidth(),"%"),c.uIk("r",C._circleRadius()),c.xp6(4),c.Q6J("ngTemplateOutlet",w),c.xp6(2),c.Q6J("ngTemplateOutlet",w),c.xp6(2),c.Q6J("ngTemplateOutlet",w)}},dependencies:[O.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return P})(),U=(()=>{class P{static#e=this.\u0275fac=function(R){return new(R||P)};static#t=this.\u0275mod=c.oAB({type:P});static#n=this.\u0275inj=c.cJS({imports:[O.ez,t.BQ]})}return P})()},8525:(wn,qe,x)=>{"use strict";x.d(qe,{LD:()=>ye,gD:()=>Ae});var c=x(3651),t=x(6814),E=x(5879),O=x(3680),b=x(9157),F=x(799),L=x(4300),D=x(9388),m=x(2495),h=x(8337),g=x(6028),v=x(95),A=x(8645),U=x(4911),P=x(3019),V=x(7921),k=x(4664),R=x(8180),C=x(2181),w=x(7398),T=x(3997),N=x(9773),S=x(6825);const B=["trigger"],Y=["panel"];function re(K,ie){if(1&K&&(E.TgZ(0,"span",10),E._uU(1),E.qZA()),2&K){const he=E.oxw();E.xp6(1),E.Oqu(he.placeholder)}}function ae(K,ie){if(1&K&&(E.TgZ(0,"span",14),E._uU(1),E.qZA()),2&K){const he=E.oxw(2);E.xp6(1),E.Oqu(he.triggerValue)}}function Re(K,ie){1&K&&E.Hsn(0,0,["*ngSwitchCase","true"])}function z(K,ie){if(1&K&&(E.TgZ(0,"span",11),E.YNc(1,ae,2,1,"span",12),E.YNc(2,Re,1,0,"ng-content",13),E.qZA()),2&K){const he=E.oxw();E.Q6J("ngSwitch",!!he.customTrigger),E.xp6(2),E.Q6J("ngSwitchCase",!0)}}function oe(K,ie){if(1&K){const he=E.EpF();E.O4$(),E.kcU(),E.TgZ(0,"div",15,16),E.NdJ("@transformPanel.done",function(Z){E.CHM(he);const W=E.oxw();return E.KtG(W._panelDoneAnimatingStream.next(Z.toState))})("keydown",function(Z){E.CHM(he);const W=E.oxw();return E.KtG(W._handleKeydown(Z))}),E.Hsn(2,1),E.qZA()}if(2&K){const he=E.oxw();E.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",he._getPanelTheme(),""),E.Q6J("ngClass",he.panelClass)("@transformPanel","showing"),E.uIk("id",he.id+"-panel")("aria-multiselectable",he.multiple)("aria-label",he.ariaLabel||null)("aria-labelledby",he._getPanelAriaLabelledby())}}const H=[[["mat-select-trigger"]],"*"],me=["mat-select-trigger","*"],te={transformPanelWrap:(0,S.X$)("transformPanelWrap",[(0,S.eR)("* => void",(0,S.IO)("@transformPanel",[(0,S.pV)()],{optional:!0}))]),transformPanel:(0,S.X$)("transformPanel",[(0,S.SB)("void",(0,S.oB)({opacity:0,transform:"scale(1, 0.8)"})),(0,S.eR)("void => showing",(0,S.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,S.oB)({opacity:1,transform:"scale(1, 1)"}))),(0,S.eR)("* => void",(0,S.jt)("100ms linear",(0,S.oB)({opacity:0})))])};let le=0;const Me=new E.OlP("mat-select-scroll-strategy"),_e=new E.OlP("MAT_SELECT_CONFIG"),Le={provide:Me,deps:[c.aV],useFactory:function we(K){return()=>K.scrollStrategies.reposition()}},Pe=new E.OlP("MatSelectTrigger");class Oe{constructor(ie,he){this.source=ie,this.value=he}}const Ue=(0,O.Kr)((0,O.sb)((0,O.Id)((0,O.FD)(class{constructor(K,ie,he,$,Z){this._elementRef=K,this._defaultErrorStateMatcher=ie,this._parentForm=he,this._parentFormGroup=$,this.ngControl=Z,this.stateChanges=new A.x}}))));let ze=(()=>{class K extends Ue{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(he){this._placeholder=he,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(v.kI.required)??!1}set required(he){this._required=(0,m.Ig)(he),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(he){this._multiple=(0,m.Ig)(he)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(he){this._disableOptionCentering=(0,m.Ig)(he)}get compareWith(){return this._compareWith}set compareWith(he){this._compareWith=he,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(he){this._assignValue(he)&&this._onChange(he)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(he){this._typeaheadDebounceInterval=(0,m.su)(he)}get id(){return this._id}set id(he){this._id=he||this._uid,this.stateChanges.next()}constructor(he,$,Z,W,X,Q,q,J,de,pe,ce,Ce,Ye,Be){super(X,W,q,J,pe),this._viewportRuler=he,this._changeDetectorRef=$,this._ngZone=Z,this._dir=Q,this._parentFormField=de,this._liveAnnouncer=Ye,this._defaultOptions=Be,this._panelOpen=!1,this._compareWith=(Ze,Qe)=>Ze===Qe,this._uid="mat-select-"+le++,this._triggerAriaLabelledBy=null,this._destroy=new A.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+le++,this._panelDoneAnimatingStream=new A.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,U.P)(()=>{const Ze=this.options;return Ze?Ze.changes.pipe((0,V.O)(Ze),(0,k.w)(()=>(0,P.T)(...Ze.map(Qe=>Qe.onSelectionChange)))):this._ngZone.onStable.pipe((0,R.q)(1),(0,k.w)(()=>this.optionSelectionChanges))}),this.openedChange=new E.vpe,this._openedStream=this.openedChange.pipe((0,C.h)(Ze=>Ze),(0,w.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,C.h)(Ze=>!Ze),(0,w.U)(()=>{})),this.selectionChange=new E.vpe,this.valueChange=new E.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Be?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=Be.typeaheadDebounceInterval),this._scrollStrategyFactory=Ce,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(ce)||0,this.id=this.id}ngOnInit(){this._selectionModel=new h.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,T.x)(),(0,N.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,N.R)(this._destroy)).subscribe(he=>{he.added.forEach($=>$.select()),he.removed.forEach($=>$.deselect())}),this.options.changes.pipe((0,V.O)(null),(0,N.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const he=this._getTriggerAriaLabelledby(),$=this.ngControl;if(he!==this._triggerAriaLabelledBy){const Z=this._elementRef.nativeElement;this._triggerAriaLabelledBy=he,he?Z.setAttribute("aria-labelledby",he):Z.removeAttribute("aria-labelledby")}$&&(this._previousControl!==$.control&&(void 0!==this._previousControl&&null!==$.disabled&&$.disabled!==this.disabled&&(this.disabled=$.disabled),this._previousControl=$.control),this.updateErrorState())}ngOnChanges(he){(he.disabled||he.userAriaDescribedBy)&&this.stateChanges.next(),he.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const he=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!he)return;const $=`${this.id}-panel`;this._trackedModal&&(0,L.iD)(this._trackedModal,"aria-owns",$),(0,L.Zf)(he,"aria-owns",$),this._trackedModal=he}_clearFromModal(){this._trackedModal&&((0,L.iD)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(he){this._assignValue(he)}registerOnChange(he){this._onChange=he}registerOnTouched(he){this._onTouched=he}setDisabledState(he){this.disabled=he,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const he=this._selectionModel.selected.map($=>$.viewValue);return this._isRtl()&&he.reverse(),he.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(he){this.disabled||(this.panelOpen?this._handleOpenKeydown(he):this._handleClosedKeydown(he))}_handleClosedKeydown(he){const $=he.keyCode,Z=$===g.JH||$===g.LH||$===g.oh||$===g.SV,W=$===g.K5||$===g.L_,X=this._keyManager;if(!X.isTyping()&&W&&!(0,g.Vb)(he)||(this.multiple||he.altKey)&&Z)he.preventDefault(),this.open();else if(!this.multiple){const Q=this.selected;X.onKeydown(he);const q=this.selected;q&&Q!==q&&this._liveAnnouncer.announce(q.viewValue,1e4)}}_handleOpenKeydown(he){const $=this._keyManager,Z=he.keyCode,W=Z===g.JH||Z===g.LH,X=$.isTyping();if(W&&he.altKey)he.preventDefault(),this.close();else if(X||Z!==g.K5&&Z!==g.L_||!$.activeItem||(0,g.Vb)(he))if(!X&&this._multiple&&Z===g.A&&he.ctrlKey){he.preventDefault();const Q=this.options.some(q=>!q.disabled&&!q.selected);this.options.forEach(q=>{q.disabled||(Q?q.select():q.deselect())})}else{const Q=$.activeItemIndex;$.onKeydown(he),this._multiple&&W&&he.shiftKey&&$.activeItem&&$.activeItemIndex!==Q&&$.activeItem._selectViaInteraction()}else he.preventDefault(),$.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,R.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(he){if(this.options.forEach($=>$.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&he)Array.isArray(he),he.forEach($=>this._selectOptionByValue($)),this._sortValues();else{const $=this._selectOptionByValue(he);$?this._keyManager.updateActiveItem($):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(he){const $=this.options.find(Z=>{if(this._selectionModel.isSelected(Z))return!1;try{return null!=Z.value&&this._compareWith(Z.value,he)}catch{return!1}});return $&&this._selectionModel.select($),$}_assignValue(he){return!!(he!==this._value||this._multiple&&Array.isArray(he))&&(this.options&&this._setSelectionByValue(he),this._value=he,!0)}_skipPredicate(he){return he.disabled}_initKeyManager(){this._keyManager=new L.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const he=(0,P.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,N.R)(he)).subscribe($=>{this._onSelect($.source,$.isUserInput),$.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,P.T)(...this.options.map($=>$._stateChanges)).pipe((0,N.R)(he)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(he,$){const Z=this._selectionModel.isSelected(he);null!=he.value||this._multiple?(Z!==he.selected&&(he.selected?this._selectionModel.select(he):this._selectionModel.deselect(he)),$&&this._keyManager.setActiveItem(he),this.multiple&&(this._sortValues(),$&&this.focus())):(he.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(he.value)),Z!==this._selectionModel.isSelected(he)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const he=this.options.toArray();this._selectionModel.sort(($,Z)=>this.sortComparator?this.sortComparator($,Z,he):he.indexOf($)-he.indexOf(Z)),this.stateChanges.next()}}_propagateChanges(he){let $=null;$=this.multiple?this.selected.map(Z=>Z.value):this.selected?this.selected.value:he,this._value=$,this.valueChange.emit($),this._onChange($),this.selectionChange.emit(this._getChangeEvent($)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let he=-1;for(let $=0;$<this.options.length;$++)if(!this.options.get($).disabled){he=$;break}this._keyManager.setActiveItem(he)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(he){this._elementRef.nativeElement.focus(he)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const he=this._parentFormField?.getLabelId();return this.ariaLabelledby?(he?he+" ":"")+this.ariaLabelledby:he}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const he=this._parentFormField?.getLabelId();let $=(he?he+" ":"")+this._valueId;return this.ariaLabelledby&&($+=" "+this.ariaLabelledby),$}_panelDoneAnimating(he){this.openedChange.emit(he)}setDescribedByIds(he){he.length?this._elementRef.nativeElement.setAttribute("aria-describedby",he.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function($){return new($||K)(E.Y36(F.rL),E.Y36(E.sBO),E.Y36(E.R0b),E.Y36(O.rD),E.Y36(E.SBq),E.Y36(D.Is,8),E.Y36(v.F,8),E.Y36(v.sg,8),E.Y36(b.G_,8),E.Y36(v.a5,10),E.$8M("tabindex"),E.Y36(Me),E.Y36(L.Kd),E.Y36(_e,8))};static#t=this.\u0275dir=E.lG2({type:K,viewQuery:function($,Z){if(1&$&&(E.Gf(B,5),E.Gf(Y,5),E.Gf(c.pI,5)),2&$){let W;E.iGM(W=E.CRH())&&(Z.trigger=W.first),E.iGM(W=E.CRH())&&(Z.panel=W.first),E.iGM(W=E.CRH())&&(Z._overlayDir=W.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[E.qOj,E.TTD]})}return K})(),Ae=(()=>{class K extends ze{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=he=>!this.panelOpen&&he.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,N.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(he){const $=this.options.toArray()[he];if($){const Z=this.panel.nativeElement,W=(0,O.CB)(he,this.options,this.optionGroups),X=$._getHostElement();Z.scrollTop=0===he&&1===W?0:(0,O.jH)(X.offsetTop,X.offsetHeight,Z.scrollTop,Z.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(he){return new Oe(this,he)}_getOverlayWidth(he){return"auto"===this.panelWidth?(he instanceof c.xu?he.elementRef:he||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(he){this._hideSingleSelectionIndicator=(0,m.Ig)(he),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const he of this.options)he._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let he;return function(Z){return(he||(he=E.n5z(K)))(Z||K)}}();static#t=this.\u0275cmp=E.Xpm({type:K,selectors:[["mat-select"]],contentQueries:function($,Z,W){if(1&$&&(E.Suo(W,Pe,5),E.Suo(W,O.ey,5),E.Suo(W,O.K7,5)),2&$){let X;E.iGM(X=E.CRH())&&(Z.customTrigger=X.first),E.iGM(X=E.CRH())&&(Z.options=X),E.iGM(X=E.CRH())&&(Z.optionGroups=X)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function($,Z){1&$&&E.NdJ("keydown",function(X){return Z._handleKeydown(X)})("focus",function(){return Z._onFocus()})("blur",function(){return Z._onBlur()}),2&$&&(E.uIk("id",Z.id)("tabindex",Z.tabIndex)("aria-controls",Z.panelOpen?Z.id+"-panel":null)("aria-expanded",Z.panelOpen)("aria-label",Z.ariaLabel||null)("aria-required",Z.required.toString())("aria-disabled",Z.disabled.toString())("aria-invalid",Z.errorState)("aria-activedescendant",Z._getAriaActiveDescendant()),E.ekj("mat-mdc-select-disabled",Z.disabled)("mat-mdc-select-invalid",Z.errorState)("mat-mdc-select-required",Z.required)("mat-mdc-select-empty",Z.empty)("mat-mdc-select-multiple",Z.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[E._Bn([{provide:b.Eo,useExisting:K},{provide:O.HF,useExisting:K}]),E.qOj],ngContentSelectors:me,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function($,Z){if(1&$&&(E.F$t(H),E.TgZ(0,"div",0,1),E.NdJ("click",function(){return Z.toggle()}),E.TgZ(3,"div",2),E.YNc(4,re,2,1,"span",3),E.YNc(5,z,3,2,"span",4),E.qZA(),E.TgZ(6,"div",5)(7,"div",6),E.O4$(),E.TgZ(8,"svg",7),E._UZ(9,"path",8),E.qZA()()()(),E.YNc(10,oe,3,9,"ng-template",9),E.NdJ("backdropClick",function(){return Z.close()})("attach",function(){return Z._onAttached()})("detach",function(){return Z.close()})),2&$){const W=E.MAs(1);E.xp6(3),E.Q6J("ngSwitch",Z.empty),E.uIk("id",Z._valueId),E.xp6(1),E.Q6J("ngSwitchCase",!0),E.xp6(1),E.Q6J("ngSwitchCase",!1),E.xp6(5),E.Q6J("cdkConnectedOverlayPanelClass",Z._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",Z._scrollStrategy)("cdkConnectedOverlayOrigin",Z._preferredOverlayOrigin||W)("cdkConnectedOverlayOpen",Z.panelOpen)("cdkConnectedOverlayPositions",Z._positions)("cdkConnectedOverlayWidth",Z._overlayWidth)}},dependencies:[t.mk,t.RF,t.n9,t.ED,c.pI,c.xu],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[te.transformPanel]},changeDetection:0})}return K})(),ye=(()=>{class K{static#e=this.\u0275fac=function($){return new($||K)};static#t=this.\u0275mod=E.oAB({type:K});static#n=this.\u0275inj=E.cJS({providers:[Le],imports:[t.ez,c.U8,O.Ng,O.BQ,F.ZD,b.lN,O.Ng,O.BQ]})}return K})()},2939:(wn,qe,x)=>{"use strict";x.d(qe,{OX:()=>R,ZX:()=>z,qD:()=>C,u_:()=>w,ux:()=>te});var c=x(5879),t=x(8645),E=x(6814),O=x(2296),b=x(6825),F=x(8484),L=x(2831),D=x(8180),m=x(9773),h=x(4300),g=x(1088),v=x(3651),A=x(3680);function U(ue,Se){if(1&ue){const Ie=c.EpF();c.TgZ(0,"div",2)(1,"button",3),c.NdJ("click",function(){c.CHM(Ie);const Me=c.oxw();return c.KtG(Me.action())}),c._uU(2),c.qZA()()}if(2&ue){const Ie=c.oxw();c.xp6(2),c.hij(" ",Ie.data.action," ")}}const P=["label"];function V(ue,Se){}const k=Math.pow(2,31)-1;class R{constructor(Se,Ie){this._overlayRef=Ie,this._afterDismissed=new t.x,this._afterOpened=new t.x,this._onAction=new t.x,this._dismissedByAction=!1,this.containerInstance=Se,Se._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Se){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Se,k))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const C=new c.OlP("MatSnackBarData");class w{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let T=(()=>{class ue{static#e=this.\u0275fac=function(le){return new(le||ue)};static#t=this.\u0275dir=c.lG2({type:ue,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return ue})(),N=(()=>{class ue{static#e=this.\u0275fac=function(le){return new(le||ue)};static#t=this.\u0275dir=c.lG2({type:ue,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return ue})(),S=(()=>{class ue{static#e=this.\u0275fac=function(le){return new(le||ue)};static#t=this.\u0275dir=c.lG2({type:ue,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return ue})(),B=(()=>{class ue{constructor(Ie,le){this.snackBarRef=Ie,this.data=le}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(le){return new(le||ue)(c.Y36(R),c.Y36(C))};static#t=this.\u0275cmp=c.Xpm({type:ue,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(le,Me){1&le&&(c.TgZ(0,"div",0),c._uU(1),c.qZA(),c.YNc(2,U,3,1,"div",1)),2&le&&(c.xp6(1),c.hij(" ",Me.data.message,"\n"),c.xp6(1),c.Q6J("ngIf",Me.hasAction))},dependencies:[E.O5,O.lW,T,N,S],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return ue})();const Y={snackBarState:(0,b.X$)("state",[(0,b.SB)("void, hidden",(0,b.oB)({transform:"scale(0.8)",opacity:0})),(0,b.SB)("visible",(0,b.oB)({transform:"scale(1)",opacity:1})),(0,b.eR)("* => visible",(0,b.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,b.eR)("* => void, * => hidden",(0,b.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,b.oB)({opacity:0})))])};let re=0,ae=(()=>{class ue extends F.en{constructor(Ie,le,Me,we,_e){super(),this._ngZone=Ie,this._elementRef=le,this._changeDetectorRef=Me,this._platform=we,this.snackBarConfig=_e,this._document=(0,c.f3M)(E.K0),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new t.x,this._onExit=new t.x,this._onEnter=new t.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+re++,this.attachDomPortal=Le=>{this._assertNotAttached();const Pe=this._portalOutlet.attachDomPortal(Le);return this._afterPortalAttached(),Pe},this._live="assertive"!==_e.politeness||_e.announcementMessage?"off"===_e.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(Ie){this._assertNotAttached();const le=this._portalOutlet.attachComponentPortal(Ie);return this._afterPortalAttached(),le}attachTemplatePortal(Ie){this._assertNotAttached();const le=this._portalOutlet.attachTemplatePortal(Ie);return this._afterPortalAttached(),le}onAnimationEnd(Ie){const{fromState:le,toState:Me}=Ie;if(("void"===Me&&"void"!==le||"hidden"===Me)&&this._completeExit(),"visible"===Me){const we=this._onEnter;this._ngZone.run(()=>{we.next(),we.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,D.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const Ie=this._elementRef.nativeElement,le=this.snackBarConfig.panelClass;le&&(Array.isArray(le)?le.forEach(Me=>Ie.classList.add(Me)):Ie.classList.add(le)),this._exposeToModals()}_exposeToModals(){const Ie=this._liveElementId,le=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Me=0;Me<le.length;Me++){const we=le[Me],_e=we.getAttribute("aria-owns");this._trackedModals.add(we),_e?-1===_e.indexOf(Ie)&&we.setAttribute("aria-owns",_e+" "+Ie):we.setAttribute("aria-owns",Ie)}}_clearFromModals(){this._trackedModals.forEach(Ie=>{const le=Ie.getAttribute("aria-owns");if(le){const Me=le.replace(this._liveElementId,"").trim();Me.length>0?Ie.setAttribute("aria-owns",Me):Ie.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const Ie=this._elementRef.nativeElement.querySelector("[aria-hidden]"),le=this._elementRef.nativeElement.querySelector("[aria-live]");if(Ie&&le){let Me=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&Ie.contains(document.activeElement)&&(Me=document.activeElement),Ie.removeAttribute("aria-hidden"),le.appendChild(Ie),Me?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(le){return new(le||ue)(c.Y36(c.R0b),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(L.t4),c.Y36(w))};static#t=this.\u0275dir=c.lG2({type:ue,viewQuery:function(le,Me){if(1&le&&c.Gf(F.Pl,7),2&le){let we;c.iGM(we=c.CRH())&&(Me._portalOutlet=we.first)}},features:[c.qOj]})}return ue})(),Re=(()=>{class ue extends ae{_afterPortalAttached(){super._afterPortalAttached();const Ie=this._label.nativeElement,le="mdc-snackbar__label";Ie.classList.toggle(le,!Ie.querySelector(`.${le}`))}static#e=this.\u0275fac=function(){let Ie;return function(Me){return(Ie||(Ie=c.n5z(ue)))(Me||ue)}}();static#t=this.\u0275cmp=c.Xpm({type:ue,selectors:[["mat-snack-bar-container"]],viewQuery:function(le,Me){if(1&le&&c.Gf(P,7),2&le){let we;c.iGM(we=c.CRH())&&(Me._label=we.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(le,Me){1&le&&c.WFA("@state.done",function(_e){return Me.onAnimationEnd(_e)}),2&le&&c.d8E("@state",Me._animationState)},features:[c.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(le,Me){1&le&&(c.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),c.YNc(4,V,0,0,"ng-template",4),c.qZA(),c._UZ(5,"div"),c.qZA()()),2&le&&(c.xp6(5),c.uIk("aria-live",Me._live)("role",Me._role)("id",Me._liveElementId))},dependencies:[F.Pl],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Y.snackBarState]}})}return ue})(),z=(()=>{class ue{static#e=this.\u0275fac=function(le){return new(le||ue)};static#t=this.\u0275mod=c.oAB({type:ue});static#n=this.\u0275inj=c.cJS({imports:[v.U8,F.eL,E.ez,O.ot,A.BQ,A.BQ]})}return ue})();const H=new c.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function oe(){return new w}});let me=(()=>{class ue{get _openedSnackBarRef(){const Ie=this._parentSnackBar;return Ie?Ie._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(Ie){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=Ie:this._snackBarRefAtThisLevel=Ie}constructor(Ie,le,Me,we,_e,Le){this._overlay=Ie,this._live=le,this._injector=Me,this._breakpointObserver=we,this._parentSnackBar=_e,this._defaultConfig=Le,this._snackBarRefAtThisLevel=null}openFromComponent(Ie,le){return this._attach(Ie,le)}openFromTemplate(Ie,le){return this._attach(Ie,le)}open(Ie,le="",Me){const we={...this._defaultConfig,...Me};return we.data={message:Ie,action:le},we.announcementMessage===Ie&&(we.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,we)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(Ie,le){const we=c.zs3.create({parent:le&&le.viewContainerRef&&le.viewContainerRef.injector||this._injector,providers:[{provide:w,useValue:le}]}),_e=new F.C5(this.snackBarContainerComponent,le.viewContainerRef,we),Le=Ie.attach(_e);return Le.instance.snackBarConfig=le,Le.instance}_attach(Ie,le){const Me={...new w,...this._defaultConfig,...le},we=this._createOverlay(Me),_e=this._attachSnackBarContainer(we,Me),Le=new R(_e,we);if(Ie instanceof c.Rgc){const Pe=new F.UE(Ie,null,{$implicit:Me.data,snackBarRef:Le});Le.instance=_e.attachTemplatePortal(Pe)}else{const Pe=this._createInjector(Me,Le),Oe=new F.C5(Ie,void 0,Pe),Ue=_e.attachComponentPortal(Oe);Le.instance=Ue.instance}return this._breakpointObserver.observe(g.u3.HandsetPortrait).pipe((0,m.R)(we.detachments())).subscribe(Pe=>{we.overlayElement.classList.toggle(this.handsetCssClass,Pe.matches)}),Me.announcementMessage&&_e._onAnnounce.subscribe(()=>{this._live.announce(Me.announcementMessage,Me.politeness)}),this._animateSnackBar(Le,Me),this._openedSnackBarRef=Le,this._openedSnackBarRef}_animateSnackBar(Ie,le){Ie.afterDismissed().subscribe(()=>{this._openedSnackBarRef==Ie&&(this._openedSnackBarRef=null),le.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{Ie.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):Ie.containerInstance.enter(),le.duration&&le.duration>0&&Ie.afterOpened().subscribe(()=>Ie._dismissAfter(le.duration))}_createOverlay(Ie){const le=new v.X_;le.direction=Ie.direction;let Me=this._overlay.position().global();const we="rtl"===Ie.direction,_e="left"===Ie.horizontalPosition||"start"===Ie.horizontalPosition&&!we||"end"===Ie.horizontalPosition&&we,Le=!_e&&"center"!==Ie.horizontalPosition;return _e?Me.left("0"):Le?Me.right("0"):Me.centerHorizontally(),"top"===Ie.verticalPosition?Me.top("0"):Me.bottom("0"),le.positionStrategy=Me,this._overlay.create(le)}_createInjector(Ie,le){return c.zs3.create({parent:Ie&&Ie.viewContainerRef&&Ie.viewContainerRef.injector||this._injector,providers:[{provide:R,useValue:le},{provide:C,useValue:Ie.data}]})}static#e=this.\u0275fac=function(le){return new(le||ue)(c.LFG(v.aV),c.LFG(h.Kd),c.LFG(c.zs3),c.LFG(g.Yg),c.LFG(ue,12),c.LFG(H))};static#t=this.\u0275prov=c.Yz7({token:ue,factory:ue.\u0275fac})}return ue})(),te=(()=>{class ue extends me{constructor(Ie,le,Me,we,_e,Le){super(Ie,le,Me,we,_e,Le),this.simpleSnackBarComponent=B,this.snackBarContainerComponent=Re,this.handsetCssClass="mat-mdc-snack-bar-handset"}static#e=this.\u0275fac=function(le){return new(le||ue)(c.LFG(v.aV),c.LFG(h.Kd),c.LFG(c.zs3),c.LFG(g.Yg),c.LFG(ue,12),c.LFG(H))};static#t=this.\u0275prov=c.Yz7({token:ue,factory:ue.\u0275fac,providedIn:z})}return ue})()},3566:(wn,qe,x)=>{"use strict";x.d(qe,{JX:()=>Re,YE:()=>C,nU:()=>ae});var c=x(5879),t=x(4300),E=x(2495),O=x(6028),b=x(3680),F=x(8645),L=x(3019),D=x(6825),m=x(6814);const h=["mat-sort-header",""];function g(z,oe){if(1&z){const H=c.EpF();c.TgZ(0,"div",3),c.NdJ("@arrowPosition.start",function(){c.CHM(H);const te=c.oxw();return c.KtG(te._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){c.CHM(H);const te=c.oxw();return c.KtG(te._disableViewStateAnimation=!1)}),c._UZ(1,"div",4),c.TgZ(2,"div",5),c._UZ(3,"div",6)(4,"div",7)(5,"div",8),c.qZA()()}if(2&z){const H=c.oxw();c.Q6J("@arrowOpacity",H._getArrowViewState())("@arrowPosition",H._getArrowViewState())("@allowChildren",H._getArrowDirectionState()),c.xp6(2),c.Q6J("@indicator",H._getArrowDirectionState()),c.xp6(1),c.Q6J("@leftPointer",H._getArrowDirectionState()),c.xp6(1),c.Q6J("@rightPointer",H._getArrowDirectionState())}}const v=["*"],k=new c.OlP("MAT_SORT_DEFAULT_OPTIONS"),R=(0,b.dB)((0,b.Id)(class{}));let C=(()=>{class z extends R{get direction(){return this._direction}set direction(H){this._direction=H}get disableClear(){return this._disableClear}set disableClear(H){this._disableClear=(0,E.Ig)(H)}constructor(H){super(),this._defaultOptions=H,this.sortables=new Map,this._stateChanges=new F.x,this.start="asc",this._direction="",this.sortChange=new c.vpe}register(H){this.sortables.set(H.id,H)}deregister(H){this.sortables.delete(H.id)}sort(H){this.active!=H.id?(this.active=H.id,this.direction=H.start?H.start:this.start):this.direction=this.getNextSortDirection(H),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(H){if(!H)return"";let te=function w(z,oe){let H=["asc","desc"];return"desc"==z&&H.reverse(),oe||H.push(""),H}(H.start||this.start,H?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),ue=te.indexOf(this.direction)+1;return ue>=te.length&&(ue=0),te[ue]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}static#e=this.\u0275fac=function(me){return new(me||z)(c.Y36(k,8))};static#t=this.\u0275dir=c.lG2({type:z,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[c.qOj,c.TTD]})}return z})();const T=b.mZ.ENTERING+" "+b.yN.STANDARD_CURVE,N={indicator:(0,D.X$)("indicator",[(0,D.SB)("active-asc, asc",(0,D.oB)({transform:"translateY(0px)"})),(0,D.SB)("active-desc, desc",(0,D.oB)({transform:"translateY(10px)"})),(0,D.eR)("active-asc <=> active-desc",(0,D.jt)(T))]),leftPointer:(0,D.X$)("leftPointer",[(0,D.SB)("active-asc, asc",(0,D.oB)({transform:"rotate(-45deg)"})),(0,D.SB)("active-desc, desc",(0,D.oB)({transform:"rotate(45deg)"})),(0,D.eR)("active-asc <=> active-desc",(0,D.jt)(T))]),rightPointer:(0,D.X$)("rightPointer",[(0,D.SB)("active-asc, asc",(0,D.oB)({transform:"rotate(45deg)"})),(0,D.SB)("active-desc, desc",(0,D.oB)({transform:"rotate(-45deg)"})),(0,D.eR)("active-asc <=> active-desc",(0,D.jt)(T))]),arrowOpacity:(0,D.X$)("arrowOpacity",[(0,D.SB)("desc-to-active, asc-to-active, active",(0,D.oB)({opacity:1})),(0,D.SB)("desc-to-hint, asc-to-hint, hint",(0,D.oB)({opacity:.54})),(0,D.SB)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,D.oB)({opacity:0})),(0,D.eR)("* => asc, * => desc, * => active, * => hint, * => void",(0,D.jt)("0ms")),(0,D.eR)("* <=> *",(0,D.jt)(T))]),arrowPosition:(0,D.X$)("arrowPosition",[(0,D.eR)("* => desc-to-hint, * => desc-to-active",(0,D.jt)(T,(0,D.F4)([(0,D.oB)({transform:"translateY(-25%)"}),(0,D.oB)({transform:"translateY(0)"})]))),(0,D.eR)("* => hint-to-desc, * => active-to-desc",(0,D.jt)(T,(0,D.F4)([(0,D.oB)({transform:"translateY(0)"}),(0,D.oB)({transform:"translateY(25%)"})]))),(0,D.eR)("* => asc-to-hint, * => asc-to-active",(0,D.jt)(T,(0,D.F4)([(0,D.oB)({transform:"translateY(25%)"}),(0,D.oB)({transform:"translateY(0)"})]))),(0,D.eR)("* => hint-to-asc, * => active-to-asc",(0,D.jt)(T,(0,D.F4)([(0,D.oB)({transform:"translateY(0)"}),(0,D.oB)({transform:"translateY(-25%)"})]))),(0,D.SB)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,D.oB)({transform:"translateY(0)"})),(0,D.SB)("hint-to-desc, active-to-desc, desc",(0,D.oB)({transform:"translateY(-25%)"})),(0,D.SB)("hint-to-asc, active-to-asc, asc",(0,D.oB)({transform:"translateY(25%)"}))]),allowChildren:(0,D.X$)("allowChildren",[(0,D.eR)("* <=> *",[(0,D.IO)("@*",(0,D.pV)(),{optional:!0})])])};let S=(()=>{class z{constructor(){this.changes=new F.x}static#e=this.\u0275fac=function(me){return new(me||z)};static#t=this.\u0275prov=c.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})();const Y={provide:S,deps:[[new c.FiY,new c.tp0,S]],useFactory:function B(z){return z||new S}},re=(0,b.Id)(class{});let ae=(()=>{class z extends re{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(H){this._updateSortActionDescription(H)}get disableClear(){return this._disableClear}set disableClear(H){this._disableClear=(0,E.Ig)(H)}constructor(H,me,te,ue,Se,Ie,le,Me){super(),this._intl=H,this._changeDetectorRef=me,this._sort=te,this._columnDef=ue,this._focusMonitor=Se,this._elementRef=Ie,this._ariaDescriber=le,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",Me?.arrowPosition&&(this.arrowPosition=Me?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(H=>{const me=!!H;me!==this._showIndicatorHint&&(this._setIndicatorHintVisible(me),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(H){this._isDisabled()&&H||(this._showIndicatorHint=H,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(H){this._viewState=H||{},this._disableViewStateAnimation&&(this._viewState={toState:H.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(H){!this._isDisabled()&&(H.keyCode===O.L_||H.keyCode===O.K5)&&(H.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const H=this._viewState.fromState;return(H?`${H}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(H){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,H)),this._sortActionDescription=H}_handleStateChanges(){this._rerenderSubscription=(0,L.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(me){return new(me||z)(c.Y36(S),c.Y36(c.sBO),c.Y36(C,8),c.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),c.Y36(t.tE),c.Y36(c.SBq),c.Y36(t.$s,8),c.Y36(k,8))};static#t=this.\u0275cmp=c.Xpm({type:z,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(me,te){1&me&&c.NdJ("click",function(){return te._handleClick()})("keydown",function(Se){return te._handleKeydown(Se)})("mouseenter",function(){return te._setIndicatorHintVisible(!0)})("mouseleave",function(){return te._setIndicatorHintVisible(!1)}),2&me&&(c.uIk("aria-sort",te._getAriaSortAttribute()),c.ekj("mat-sort-header-disabled",te._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[c.qOj],attrs:h,ngContentSelectors:v,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(me,te){1&me&&(c.F$t(),c.TgZ(0,"div",0)(1,"div",1),c.Hsn(2),c.qZA(),c.YNc(3,g,6,6,"div",2),c.qZA()),2&me&&(c.ekj("mat-sort-header-sorted",te._isSorted())("mat-sort-header-position-before","before"===te.arrowPosition),c.uIk("tabindex",te._isDisabled()?null:0)("role",te._isDisabled()?null:"button"),c.xp6(3),c.Q6J("ngIf",te._renderArrow()))},dependencies:[m.O5],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[N.indicator,N.leftPointer,N.rightPointer,N.arrowOpacity,N.arrowPosition,N.allowChildren]},changeDetection:0})}return z})(),Re=(()=>{class z{static#e=this.\u0275fac=function(me){return new(me||z)};static#t=this.\u0275mod=c.oAB({type:z});static#n=this.\u0275inj=c.cJS({providers:[Y],imports:[m.ez,b.BQ]})}return z})()},5313:(wn,qe,x)=>{"use strict";x.d(qe,{ev:()=>Nt,Dz:()=>ge,w1:()=>Dt,ge:()=>ut,fO:()=>st,XQ:()=>en,as:()=>Zt,Ee:()=>Tn,Gk:()=>yn,nj:()=>Ht,BZ:()=>fe,by:()=>St,p0:()=>qn});var c=x(5879),t=x(9388),E=x(2495),O=x(8337),b=x(2831),F=x(799),L=x(6814),D=x(8645),m=x(7715),h=x(5619),g=x(2664),v=x(2096),A=x(9773),U=x(8180);const P=[[["caption"]],[["colgroup"],["col"]]],V=["caption","colgroup, col"];function C(at){return class extends at{get sticky(){return this._sticky}set sticky(Xt){const Ke=this._sticky;this._sticky=(0,E.Ig)(Xt),this._hasStickyChanged=Ke!==this._sticky}hasStickyChanged(){const Xt=this._hasStickyChanged;return this._hasStickyChanged=!1,Xt}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...Xt){super(...Xt),this._sticky=!1,this._hasStickyChanged=!1}}}const w=new c.OlP("CDK_TABLE");let N=(()=>{class at{constructor(Ke){this.template=Ke}static#e=this.\u0275fac=function(tt){return new(tt||at)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","cdkCellDef",""]]})}return at})(),S=(()=>{class at{constructor(Ke){this.template=Ke}static#e=this.\u0275fac=function(tt){return new(tt||at)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","cdkHeaderCellDef",""]]})}return at})(),B=(()=>{class at{constructor(Ke){this.template=Ke}static#e=this.\u0275fac=function(tt){return new(tt||at)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","cdkFooterCellDef",""]]})}return at})();class Y{}const re=C(Y);let ae=(()=>{class at extends re{get name(){return this._name}set name(Ke){this._setNameInput(Ke)}get stickyEnd(){return this._stickyEnd}set stickyEnd(Ke){const tt=this._stickyEnd;this._stickyEnd=(0,E.Ig)(Ke),this._hasStickyChanged=tt!==this._stickyEnd}constructor(Ke){super(),this._table=Ke,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(Ke){Ke&&(this._name=Ke,this.cssClassFriendlyName=Ke.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(tt){return new(tt||at)(c.Y36(w,8))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","cdkColumnDef",""]],contentQueries:function(tt,Ct,Yt){if(1&tt&&(c.Suo(Yt,N,5),c.Suo(Yt,S,5),c.Suo(Yt,B,5)),2&tt){let Gt;c.iGM(Gt=c.CRH())&&(Ct.cell=Gt.first),c.iGM(Gt=c.CRH())&&(Ct.headerCell=Gt.first),c.iGM(Gt=c.CRH())&&(Ct.footerCell=Gt.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[c._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:at}]),c.qOj]})}return at})();class Re{constructor(Xt,Ke){Ke.nativeElement.classList.add(...Xt._columnCssClassName)}}let z=(()=>{class at extends Re{constructor(Ke,tt){super(Ke,tt)}static#e=this.\u0275fac=function(tt){return new(tt||at)(c.Y36(ae),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[c.qOj]})}return at})(),H=(()=>{class at extends Re{constructor(Ke,tt){if(super(Ke,tt),1===Ke._table?._elementRef.nativeElement.nodeType){const Ct=Ke._table._elementRef.nativeElement.getAttribute("role");tt.nativeElement.setAttribute("role","grid"===Ct||"treegrid"===Ct?"gridcell":"cell")}}static#e=this.\u0275fac=function(tt){return new(tt||at)(c.Y36(ae),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[c.qOj]})}return at})();class me{constructor(){this.tasks=[],this.endTasks=[]}}const te=new c.OlP("_COALESCED_STYLE_SCHEDULER");let ue=(()=>{class at{constructor(Ke){this._ngZone=Ke,this._currentSchedule=null,this._destroyed=new D.x}schedule(Ke){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(Ke)}scheduleEnd(Ke){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(Ke)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new me,this._getScheduleObservable().pipe((0,A.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const Ke=this._currentSchedule;this._currentSchedule=new me;for(const tt of Ke.tasks)tt();for(const tt of Ke.endTasks)tt()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,m.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,U.q)(1))}static#e=this.\u0275fac=function(tt){return new(tt||at)(c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:at,factory:at.\u0275fac})}return at})(),Ie=(()=>{class at{constructor(Ke,tt){this.template=Ke,this._differs=tt}ngOnChanges(Ke){if(!this._columnsDiffer){const tt=Ke.columns&&Ke.columns.currentValue||[];this._columnsDiffer=this._differs.find(tt).create(),this._columnsDiffer.diff(tt)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(Ke){return this instanceof we?Ke.headerCell.template:this instanceof Pe?Ke.footerCell.template:Ke.cell.template}static#e=this.\u0275fac=function(tt){return new(tt||at)(c.Y36(c.Rgc),c.Y36(c.ZZ4))};static#t=this.\u0275dir=c.lG2({type:at,features:[c.TTD]})}return at})();class le extends Ie{}const Me=C(le);let we=(()=>{class at extends Me{constructor(Ke,tt,Ct){super(Ke,tt),this._table=Ct}ngOnChanges(Ke){super.ngOnChanges(Ke)}static#e=this.\u0275fac=function(tt){return new(tt||at)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(w,8))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[c.qOj,c.TTD]})}return at})();class _e extends Ie{}const Le=C(_e);let Pe=(()=>{class at extends Le{constructor(Ke,tt,Ct){super(Ke,tt),this._table=Ct}ngOnChanges(Ke){super.ngOnChanges(Ke)}static#e=this.\u0275fac=function(tt){return new(tt||at)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(w,8))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[c.qOj,c.TTD]})}return at})(),Oe=(()=>{class at extends Ie{constructor(Ke,tt,Ct){super(Ke,tt),this._table=Ct}static#e=this.\u0275fac=function(tt){return new(tt||at)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(w,8))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[c.qOj]})}return at})(),Ue=(()=>{class at{static#e=this.mostRecentCellOutlet=null;constructor(Ke){this._viewContainer=Ke,at.mostRecentCellOutlet=this}ngOnDestroy(){at.mostRecentCellOutlet===this&&(at.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(tt){return new(tt||at)(c.Y36(c.s_b))};static#n=this.\u0275dir=c.lG2({type:at,selectors:[["","cdkCellOutlet",""]]})}return at})(),ze=(()=>{class at{static#e=this.\u0275fac=function(tt){return new(tt||at)};static#t=this.\u0275cmp=c.Xpm({type:at,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(tt,Ct){1&tt&&c.GkF(0,0)},dependencies:[Ue],encapsulation:2})}return at})(),Ae=(()=>{class at{static#e=this.\u0275fac=function(tt){return new(tt||at)};static#t=this.\u0275cmp=c.Xpm({type:at,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(tt,Ct){1&tt&&c.GkF(0,0)},dependencies:[Ue],encapsulation:2})}return at})(),ye=(()=>{class at{constructor(Ke){this.templateRef=Ke,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(tt){return new(tt||at)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["ng-template","cdkNoDataRow",""]]})}return at})();const K=["top","bottom","left","right"];class ie{constructor(Xt,Ke,tt,Ct,Yt=!0,Gt=!0,_n){this._isNativeHtmlTable=Xt,this._stickCellCss=Ke,this.direction=tt,this._coalescedStyleScheduler=Ct,this._isBrowser=Yt,this._needsPositionStickyOnElement=Gt,this._positionListener=_n,this._cachedCellWidths=[],this._borderCellCss={top:`${Ke}-border-elem-top`,bottom:`${Ke}-border-elem-bottom`,left:`${Ke}-border-elem-left`,right:`${Ke}-border-elem-right`}}clearStickyPositioning(Xt,Ke){const tt=[];for(const Ct of Xt)if(Ct.nodeType===Ct.ELEMENT_NODE){tt.push(Ct);for(let Yt=0;Yt<Ct.children.length;Yt++)tt.push(Ct.children[Yt])}this._coalescedStyleScheduler.schedule(()=>{for(const Ct of tt)this._removeStickyStyle(Ct,Ke)})}updateStickyColumns(Xt,Ke,tt,Ct=!0){if(!Xt.length||!this._isBrowser||!Ke.some(bn=>bn)&&!tt.some(bn=>bn))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const Yt=Xt[0],Gt=Yt.children.length,_n=this._getCellWidths(Yt,Ct),kt=this._getStickyStartColumnPositions(_n,Ke),Ot=this._getStickyEndColumnPositions(_n,tt),Bt=Ke.lastIndexOf(!0),on=tt.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const bn="rtl"===this.direction,Fn=bn?"right":"left",ht=bn?"left":"right";for(const rn of Xt)for(let ve=0;ve<Gt;ve++){const lt=rn.children[ve];Ke[ve]&&this._addStickyStyle(lt,Fn,kt[ve],ve===Bt),tt[ve]&&this._addStickyStyle(lt,ht,Ot[ve],ve===on)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===Bt?[]:_n.slice(0,Bt+1).map((rn,ve)=>Ke[ve]?rn:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===on?[]:_n.slice(on).map((rn,ve)=>tt[ve+on]?rn:null).reverse()}))})}stickRows(Xt,Ke,tt){if(!this._isBrowser)return;const Ct="bottom"===tt?Xt.slice().reverse():Xt,Yt="bottom"===tt?Ke.slice().reverse():Ke,Gt=[],_n=[],kt=[];for(let Bt=0,on=0;Bt<Ct.length;Bt++){if(!Yt[Bt])continue;Gt[Bt]=on;const bn=Ct[Bt];kt[Bt]=this._isNativeHtmlTable?Array.from(bn.children):[bn];const Fn=bn.getBoundingClientRect().height;on+=Fn,_n[Bt]=Fn}const Ot=Yt.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let Bt=0;Bt<Ct.length;Bt++){if(!Yt[Bt])continue;const on=Gt[Bt],bn=Bt===Ot;for(const Fn of kt[Bt])this._addStickyStyle(Fn,tt,on,bn)}"top"===tt?this._positionListener?.stickyHeaderRowsUpdated({sizes:_n,offsets:Gt,elements:kt}):this._positionListener?.stickyFooterRowsUpdated({sizes:_n,offsets:Gt,elements:kt})})}updateStickyFooterContainer(Xt,Ke){if(!this._isNativeHtmlTable)return;const tt=Xt.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{Ke.some(Ct=>!Ct)?this._removeStickyStyle(tt,["bottom"]):this._addStickyStyle(tt,"bottom",0,!1)})}_removeStickyStyle(Xt,Ke){for(const Ct of Ke)Xt.style[Ct]="",Xt.classList.remove(this._borderCellCss[Ct]);K.some(Ct=>-1===Ke.indexOf(Ct)&&Xt.style[Ct])?Xt.style.zIndex=this._getCalculatedZIndex(Xt):(Xt.style.zIndex="",this._needsPositionStickyOnElement&&(Xt.style.position=""),Xt.classList.remove(this._stickCellCss))}_addStickyStyle(Xt,Ke,tt,Ct){Xt.classList.add(this._stickCellCss),Ct&&Xt.classList.add(this._borderCellCss[Ke]),Xt.style[Ke]=`${tt}px`,Xt.style.zIndex=this._getCalculatedZIndex(Xt),this._needsPositionStickyOnElement&&(Xt.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(Xt){const Ke={top:100,bottom:10,left:1,right:1};let tt=0;for(const Ct of K)Xt.style[Ct]&&(tt+=Ke[Ct]);return tt?`${tt}`:""}_getCellWidths(Xt,Ke=!0){if(!Ke&&this._cachedCellWidths.length)return this._cachedCellWidths;const tt=[],Ct=Xt.children;for(let Yt=0;Yt<Ct.length;Yt++)tt.push(Ct[Yt].getBoundingClientRect().width);return this._cachedCellWidths=tt,tt}_getStickyStartColumnPositions(Xt,Ke){const tt=[];let Ct=0;for(let Yt=0;Yt<Xt.length;Yt++)Ke[Yt]&&(tt[Yt]=Ct,Ct+=Xt[Yt]);return tt}_getStickyEndColumnPositions(Xt,Ke){const tt=[];let Ct=0;for(let Yt=Xt.length;Yt>0;Yt--)Ke[Yt]&&(tt[Yt]=Ct,Ct+=Xt[Yt]);return tt}}const de=new c.OlP("CDK_SPL");let ce=(()=>{class at{constructor(Ke,tt){this.viewContainer=Ke,this.elementRef=tt}static#e=this.\u0275fac=function(tt){return new(tt||at)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","rowOutlet",""]]})}return at})(),Ce=(()=>{class at{constructor(Ke,tt){this.viewContainer=Ke,this.elementRef=tt}static#e=this.\u0275fac=function(tt){return new(tt||at)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","headerRowOutlet",""]]})}return at})(),Ye=(()=>{class at{constructor(Ke,tt){this.viewContainer=Ke,this.elementRef=tt}static#e=this.\u0275fac=function(tt){return new(tt||at)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","footerRowOutlet",""]]})}return at})(),Be=(()=>{class at{constructor(Ke,tt){this.viewContainer=Ke,this.elementRef=tt}static#e=this.\u0275fac=function(tt){return new(tt||at)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","noDataRowOutlet",""]]})}return at})(),$e=(()=>{class at{get trackBy(){return this._trackByFn}set trackBy(Ke){this._trackByFn=Ke}get dataSource(){return this._dataSource}set dataSource(Ke){this._dataSource!==Ke&&this._switchDataSource(Ke)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(Ke){this._multiTemplateDataRows=(0,E.Ig)(Ke),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(Ke){this._fixedLayout=(0,E.Ig)(Ke),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(Ke,tt,Ct,Yt,Gt,_n,kt,Ot,Bt,on,bn,Fn){this._differs=Ke,this._changeDetectorRef=tt,this._elementRef=Ct,this._dir=Gt,this._platform=kt,this._viewRepeater=Ot,this._coalescedStyleScheduler=Bt,this._viewportRuler=on,this._stickyPositioningListener=bn,this._ngZone=Fn,this._onDestroy=new D.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new c.vpe,this.viewChange=new h.X({start:0,end:Number.MAX_VALUE}),Yt||this._elementRef.nativeElement.setAttribute("role","table"),this._document=_n,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((Ke,tt)=>this.trackBy?this.trackBy(tt.dataIndex,tt.data):tt),this._viewportRuler.change().pipe((0,A.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const tt=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||tt,this._forceRecalculateCellWidths=tt,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(Ke=>{Ke.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,O.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const Ke=this._dataDiffer.diff(this._renderRows);if(!Ke)return this._updateNoDataRow(),void this.contentChanged.next();const tt=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(Ke,tt,(Ct,Yt,Gt)=>this._getEmbeddedViewArgs(Ct.item,Gt),Ct=>Ct.item.data,Ct=>{1===Ct.operation&&Ct.context&&this._renderCellTemplateForItem(Ct.record.item.rowDef,Ct.context)}),this._updateRowIndexContext(),Ke.forEachIdentityChange(Ct=>{tt.get(Ct.currentIndex).context.$implicit=Ct.item.data}),this._updateNoDataRow(),this._ngZone&&c.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,U.q)(1),(0,A.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(Ke){this._customColumnDefs.add(Ke)}removeColumnDef(Ke){this._customColumnDefs.delete(Ke)}addRowDef(Ke){this._customRowDefs.add(Ke)}removeRowDef(Ke){this._customRowDefs.delete(Ke)}addHeaderRowDef(Ke){this._customHeaderRowDefs.add(Ke),this._headerRowDefChanged=!0}removeHeaderRowDef(Ke){this._customHeaderRowDefs.delete(Ke),this._headerRowDefChanged=!0}addFooterRowDef(Ke){this._customFooterRowDefs.add(Ke),this._footerRowDefChanged=!0}removeFooterRowDef(Ke){this._customFooterRowDefs.delete(Ke),this._footerRowDefChanged=!0}setNoDataRow(Ke){this._customNoDataRow=Ke}updateStickyHeaderRowStyles(){const Ke=this._getRenderedRows(this._headerRowOutlet),Ct=this._elementRef.nativeElement.querySelector("thead");Ct&&(Ct.style.display=Ke.length?"":"none");const Yt=this._headerRowDefs.map(Gt=>Gt.sticky);this._stickyStyler.clearStickyPositioning(Ke,["top"]),this._stickyStyler.stickRows(Ke,Yt,"top"),this._headerRowDefs.forEach(Gt=>Gt.resetStickyChanged())}updateStickyFooterRowStyles(){const Ke=this._getRenderedRows(this._footerRowOutlet),Ct=this._elementRef.nativeElement.querySelector("tfoot");Ct&&(Ct.style.display=Ke.length?"":"none");const Yt=this._footerRowDefs.map(Gt=>Gt.sticky);this._stickyStyler.clearStickyPositioning(Ke,["bottom"]),this._stickyStyler.stickRows(Ke,Yt,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,Yt),this._footerRowDefs.forEach(Gt=>Gt.resetStickyChanged())}updateStickyColumnStyles(){const Ke=this._getRenderedRows(this._headerRowOutlet),tt=this._getRenderedRows(this._rowOutlet),Ct=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...Ke,...tt,...Ct],["left","right"]),this._stickyColumnStylesNeedReset=!1),Ke.forEach((Yt,Gt)=>{this._addStickyColumnStyles([Yt],this._headerRowDefs[Gt])}),this._rowDefs.forEach(Yt=>{const Gt=[];for(let _n=0;_n<tt.length;_n++)this._renderRows[_n].rowDef===Yt&&Gt.push(tt[_n]);this._addStickyColumnStyles(Gt,Yt)}),Ct.forEach((Yt,Gt)=>{this._addStickyColumnStyles([Yt],this._footerRowDefs[Gt])}),Array.from(this._columnDefsByName.values()).forEach(Yt=>Yt.resetStickyChanged())}_getAllRenderRows(){const Ke=[],tt=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let Ct=0;Ct<this._data.length;Ct++){let Yt=this._data[Ct];const Gt=this._getRenderRowsForData(Yt,Ct,tt.get(Yt));this._cachedRenderRowsMap.has(Yt)||this._cachedRenderRowsMap.set(Yt,new WeakMap);for(let _n=0;_n<Gt.length;_n++){let kt=Gt[_n];const Ot=this._cachedRenderRowsMap.get(kt.data);Ot.has(kt.rowDef)?Ot.get(kt.rowDef).push(kt):Ot.set(kt.rowDef,[kt]),Ke.push(kt)}}return Ke}_getRenderRowsForData(Ke,tt,Ct){return this._getRowDefs(Ke,tt).map(Gt=>{const _n=Ct&&Ct.has(Gt)?Ct.get(Gt):[];if(_n.length){const kt=_n.shift();return kt.dataIndex=tt,kt}return{data:Ke,rowDef:Gt,dataIndex:tt}})}_cacheColumnDefs(){this._columnDefsByName.clear(),ct(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(tt=>{this._columnDefsByName.has(tt.name),this._columnDefsByName.set(tt.name,tt)})}_cacheRowDefs(){this._headerRowDefs=ct(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=ct(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=ct(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const Ke=this._rowDefs.filter(tt=>!tt.when);this._defaultRowDef=Ke[0]}_renderUpdatedColumns(){const Ke=(Gt,_n)=>Gt||!!_n.getColumnsDiff(),tt=this._rowDefs.reduce(Ke,!1);tt&&this._forceRenderDataRows();const Ct=this._headerRowDefs.reduce(Ke,!1);Ct&&this._forceRenderHeaderRows();const Yt=this._footerRowDefs.reduce(Ke,!1);return Yt&&this._forceRenderFooterRows(),tt||Ct||Yt}_switchDataSource(Ke){this._data=[],(0,O.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),Ke||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=Ke}_observeRenderChanges(){if(!this.dataSource)return;let Ke;(0,O.Z9)(this.dataSource)?Ke=this.dataSource.connect(this):(0,g.b)(this.dataSource)?Ke=this.dataSource:Array.isArray(this.dataSource)&&(Ke=(0,v.of)(this.dataSource)),this._renderChangeSubscription=Ke.pipe((0,A.R)(this._onDestroy)).subscribe(tt=>{this._data=tt||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((Ke,tt)=>this._renderRow(this._headerRowOutlet,Ke,tt)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((Ke,tt)=>this._renderRow(this._footerRowOutlet,Ke,tt)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(Ke,tt){const Ct=Array.from(tt.columns||[]).map(_n=>this._columnDefsByName.get(_n)),Yt=Ct.map(_n=>_n.sticky),Gt=Ct.map(_n=>_n.stickyEnd);this._stickyStyler.updateStickyColumns(Ke,Yt,Gt,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(Ke){const tt=[];for(let Ct=0;Ct<Ke.viewContainer.length;Ct++){const Yt=Ke.viewContainer.get(Ct);tt.push(Yt.rootNodes[0])}return tt}_getRowDefs(Ke,tt){if(1==this._rowDefs.length)return[this._rowDefs[0]];let Ct=[];if(this.multiTemplateDataRows)Ct=this._rowDefs.filter(Yt=>!Yt.when||Yt.when(tt,Ke));else{let Yt=this._rowDefs.find(Gt=>Gt.when&&Gt.when(tt,Ke))||this._defaultRowDef;Yt&&Ct.push(Yt)}return Ct}_getEmbeddedViewArgs(Ke,tt){return{templateRef:Ke.rowDef.template,context:{$implicit:Ke.data},index:tt}}_renderRow(Ke,tt,Ct,Yt={}){const Gt=Ke.viewContainer.createEmbeddedView(tt.template,Yt,Ct);return this._renderCellTemplateForItem(tt,Yt),Gt}_renderCellTemplateForItem(Ke,tt){for(let Ct of this._getCellTemplates(Ke))Ue.mostRecentCellOutlet&&Ue.mostRecentCellOutlet._viewContainer.createEmbeddedView(Ct,tt);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const Ke=this._rowOutlet.viewContainer;for(let tt=0,Ct=Ke.length;tt<Ct;tt++){const Gt=Ke.get(tt).context;Gt.count=Ct,Gt.first=0===tt,Gt.last=tt===Ct-1,Gt.even=tt%2==0,Gt.odd=!Gt.even,this.multiTemplateDataRows?(Gt.dataIndex=this._renderRows[tt].dataIndex,Gt.renderIndex=tt):Gt.index=this._renderRows[tt].dataIndex}}_getCellTemplates(Ke){return Ke&&Ke.columns?Array.from(Ke.columns,tt=>{const Ct=this._columnDefsByName.get(tt);return Ke.extractCellTemplate(Ct)}):[]}_applyNativeTableSections(){const Ke=this._document.createDocumentFragment(),tt=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const Ct of tt){const Yt=this._document.createElement(Ct.tag);Yt.setAttribute("role","rowgroup");for(const Gt of Ct.outlets)Yt.appendChild(Gt.elementRef.nativeElement);Ke.appendChild(Yt)}this._elementRef.nativeElement.appendChild(Ke)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const Ke=(tt,Ct)=>tt||Ct.hasStickyChanged();this._headerRowDefs.reduce(Ke,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(Ke,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(Ke,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new ie(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,v.of)()).pipe((0,A.R)(this._onDestroy)).subscribe(tt=>{this._stickyStyler.direction=tt,this.updateStickyColumnStyles()})}_getOwnDefs(Ke){return Ke.filter(tt=>!tt._table||tt._table===this)}_updateNoDataRow(){const Ke=this._customNoDataRow||this._noDataRow;if(!Ke)return;const tt=0===this._rowOutlet.viewContainer.length;if(tt===this._isShowingNoDataRow)return;const Ct=this._noDataRowOutlet.viewContainer;if(tt){const Yt=Ct.createEmbeddedView(Ke.templateRef),Gt=Yt.rootNodes[0];1===Yt.rootNodes.length&&Gt?.nodeType===this._document.ELEMENT_NODE&&(Gt.setAttribute("role","row"),Gt.classList.add(Ke._contentClassName))}else Ct.clear();this._isShowingNoDataRow=tt}static#e=this.\u0275fac=function(tt){return new(tt||at)(c.Y36(c.ZZ4),c.Y36(c.sBO),c.Y36(c.SBq),c.$8M("role"),c.Y36(t.Is,8),c.Y36(L.K0),c.Y36(b.t4),c.Y36(O.k),c.Y36(te),c.Y36(F.rL),c.Y36(de,12),c.Y36(c.R0b,8))};static#t=this.\u0275cmp=c.Xpm({type:at,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(tt,Ct,Yt){if(1&tt&&(c.Suo(Yt,ye,5),c.Suo(Yt,ae,5),c.Suo(Yt,Oe,5),c.Suo(Yt,we,5),c.Suo(Yt,Pe,5)),2&tt){let Gt;c.iGM(Gt=c.CRH())&&(Ct._noDataRow=Gt.first),c.iGM(Gt=c.CRH())&&(Ct._contentColumnDefs=Gt),c.iGM(Gt=c.CRH())&&(Ct._contentRowDefs=Gt),c.iGM(Gt=c.CRH())&&(Ct._contentHeaderRowDefs=Gt),c.iGM(Gt=c.CRH())&&(Ct._contentFooterRowDefs=Gt)}},viewQuery:function(tt,Ct){if(1&tt&&(c.Gf(ce,7),c.Gf(Ce,7),c.Gf(Ye,7),c.Gf(Be,7)),2&tt){let Yt;c.iGM(Yt=c.CRH())&&(Ct._rowOutlet=Yt.first),c.iGM(Yt=c.CRH())&&(Ct._headerRowOutlet=Yt.first),c.iGM(Yt=c.CRH())&&(Ct._footerRowOutlet=Yt.first),c.iGM(Yt=c.CRH())&&(Ct._noDataRowOutlet=Yt.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(tt,Ct){2&tt&&c.ekj("cdk-table-fixed-layout",Ct.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[c._Bn([{provide:w,useExisting:at},{provide:O.k,useClass:O.yy},{provide:te,useClass:ue},{provide:de,useValue:null}])],ngContentSelectors:V,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(tt,Ct){1&tt&&(c.F$t(P),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[ce,Ce,Ye,Be],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return at})();function ct(at,Xt){return at.concat(Array.from(Xt))}let Pt=(()=>{class at{static#e=this.\u0275fac=function(tt){return new(tt||at)};static#t=this.\u0275mod=c.oAB({type:at});static#n=this.\u0275inj=c.cJS({imports:[F.Cl]})}return at})();var Vt=x(3680),$t=x(3019),Qt=x(2572),dn=x(7398);const pn=[[["caption"]],[["colgroup"],["col"]]],Un=["caption","colgroup, col"];let fe=(()=>{class at extends $e{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(at)))(Ct||at)}}();static#t=this.\u0275cmp=c.Xpm({type:at,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(tt,Ct){2&tt&&c.ekj("mdc-table-fixed-layout",Ct.fixedLayout)},exportAs:["matTable"],features:[c._Bn([{provide:$e,useExisting:at},{provide:w,useExisting:at},{provide:te,useClass:ue},{provide:O.k,useClass:O.yy},{provide:de,useValue:null}]),c.qOj],ngContentSelectors:Un,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(tt,Ct){1&tt&&(c.F$t(pn),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[ce,Ce,Ye,Be],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child>.mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return at})(),ge=(()=>{class at extends N{static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(at)))(Ct||at)}}();static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","matCellDef",""]],features:[c._Bn([{provide:N,useExisting:at}]),c.qOj]})}return at})(),st=(()=>{class at extends S{static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(at)))(Ct||at)}}();static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","matHeaderCellDef",""]],features:[c._Bn([{provide:S,useExisting:at}]),c.qOj]})}return at})(),Dt=(()=>{class at extends ae{get name(){return this._name}set name(Ke){this._setNameInput(Ke)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(at)))(Ct||at)}}();static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[c._Bn([{provide:ae,useExisting:at},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:at}]),c.qOj]})}return at})(),ut=(()=>{class at extends z{static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(at)))(Ct||at)}}();static#t=this.\u0275dir=c.lG2({type:at,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[c.qOj]})}return at})(),Nt=(()=>{class at extends H{static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(at)))(Ct||at)}}();static#t=this.\u0275dir=c.lG2({type:at,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[c.qOj]})}return at})(),Zt=(()=>{class at extends we{static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(at)))(Ct||at)}}();static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[c._Bn([{provide:we,useExisting:at}]),c.qOj]})}return at})(),Ht=(()=>{class at extends Oe{static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(at)))(Ct||at)}}();static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[c._Bn([{provide:Oe,useExisting:at}]),c.qOj]})}return at})(),en=(()=>{class at extends ze{static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(at)))(Ct||at)}}();static#t=this.\u0275cmp=c.Xpm({type:at,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[c._Bn([{provide:ze,useExisting:at}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(tt,Ct){1&tt&&c.GkF(0,0)},dependencies:[Ue],encapsulation:2})}return at})(),yn=(()=>{class at extends Ae{static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(at)))(Ct||at)}}();static#t=this.\u0275cmp=c.Xpm({type:at,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[c._Bn([{provide:Ae,useExisting:at}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(tt,Ct){1&tt&&c.GkF(0,0)},dependencies:[Ue],encapsulation:2})}return at})(),Tn=(()=>{class at extends ye{constructor(){super(...arguments),this._contentClassName="mat-mdc-no-data-row"}static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(at)))(Ct||at)}}();static#t=this.\u0275dir=c.lG2({type:at,selectors:[["ng-template","matNoDataRow",""]],features:[c._Bn([{provide:ye,useExisting:at}]),c.qOj]})}return at})(),qn=(()=>{class at{static#e=this.\u0275fac=function(tt){return new(tt||at)};static#t=this.\u0275mod=c.oAB({type:at});static#n=this.\u0275inj=c.cJS({imports:[Vt.BQ,Pt,Vt.BQ]})}return at})();class Ft extends O.o2{get data(){return this._data.value}set data(Xt){Xt=Array.isArray(Xt)?Xt:[],this._data.next(Xt),this._renderChangesSubscription||this._filterData(Xt)}get filter(){return this._filter.value}set filter(Xt){this._filter.next(Xt),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(Xt){this._sort=Xt,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(Xt){this._paginator=Xt,this._updateChangeSubscription()}constructor(Xt=[]){super(),this._renderData=new h.X([]),this._filter=new h.X(""),this._internalPageChanges=new D.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(Ke,tt)=>{const Ct=Ke[tt];if((0,E.t6)(Ct)){const Yt=Number(Ct);return Yt<9007199254740991?Yt:Ct}return Ct},this.sortData=(Ke,tt)=>{const Ct=tt.active,Yt=tt.direction;return Ct&&""!=Yt?Ke.sort((Gt,_n)=>{let kt=this.sortingDataAccessor(Gt,Ct),Ot=this.sortingDataAccessor(_n,Ct);const Bt=typeof kt,on=typeof Ot;Bt!==on&&("number"===Bt&&(kt+=""),"number"===on&&(Ot+=""));let bn=0;return null!=kt&&null!=Ot?kt>Ot?bn=1:kt<Ot&&(bn=-1):null!=kt?bn=1:null!=Ot&&(bn=-1),bn*("asc"==Yt?1:-1)}):Ke},this.filterPredicate=(Ke,tt)=>{const Ct=Object.keys(Ke).reduce((Gt,_n)=>Gt+Ke[_n]+"\u25ec","").toLowerCase(),Yt=tt.trim().toLowerCase();return-1!=Ct.indexOf(Yt)},this._data=new h.X(Xt),this._updateChangeSubscription()}_updateChangeSubscription(){const Xt=this._sort?(0,$t.T)(this._sort.sortChange,this._sort.initialized):(0,v.of)(null),Ke=this._paginator?(0,$t.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,v.of)(null),Ct=(0,Qt.a)([this._data,this._filter]).pipe((0,dn.U)(([_n])=>this._filterData(_n))),Yt=(0,Qt.a)([Ct,Xt]).pipe((0,dn.U)(([_n])=>this._orderData(_n))),Gt=(0,Qt.a)([Yt,Ke]).pipe((0,dn.U)(([_n])=>this._pageData(_n)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=Gt.subscribe(_n=>this._renderData.next(_n))}_filterData(Xt){return this.filteredData=null==this.filter||""===this.filter?Xt:Xt.filter(Ke=>this.filterPredicate(Ke,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(Xt){return this.sort?this.sortData(Xt.slice(),this.sort):Xt}_pageData(Xt){if(!this.paginator)return Xt;const Ke=this.paginator.pageIndex*this.paginator.pageSize;return Xt.slice(Ke,Ke+this.paginator.pageSize)}_updatePaginator(Xt){Promise.resolve().then(()=>{const Ke=this.paginator;if(Ke&&(Ke.length=Xt,Ke.pageIndex>0)){const tt=Math.ceil(Ke.length/Ke.pageSize)-1||0,Ct=Math.min(Ke.pageIndex,tt);Ct!==Ke.pageIndex&&(Ke.pageIndex=Ct,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class St extends Ft{}},2596:(wn,qe,x)=>{"use strict";x.d(qe,{AV:()=>le,gM:()=>te});var c=x(9773),t=x(8180),E=x(2495),O=x(6028),b=x(5879),F=x(6814),L=x(2831),D=x(4300),m=x(9388),h=x(3651),g=x(799),v=x(8484),A=x(8645),P=(x(6825),x(3680));const V=["tooltip"],C=new b.OlP("mat-tooltip-scroll-strategy"),T={provide:C,deps:[h.aV],useFactory:function w(Me){return()=>Me.scrollStrategies.reposition({scrollThrottle:20})}},S=new b.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function N(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),Y="tooltip-panel",re=(0,L.i$)({passive:!0});let me=(()=>{class Me{get position(){return this._position}set position(_e){_e!==this._position&&(this._position=_e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(_e){this._positionAtOrigin=(0,E.Ig)(_e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(_e){this._disabled=(0,E.Ig)(_e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(_e){this._showDelay=(0,E.su)(_e)}get hideDelay(){return this._hideDelay}set hideDelay(_e){this._hideDelay=(0,E.su)(_e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(_e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=_e?String(_e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(_e){this._tooltipClass=_e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(_e,Le,Pe,Oe,Ue,ze,He,Ae,ye,K,ie,he){this._overlay=_e,this._elementRef=Le,this._scrollDispatcher=Pe,this._viewContainerRef=Oe,this._ngZone=Ue,this._platform=ze,this._ariaDescriber=He,this._focusMonitor=Ae,this._dir=K,this._defaultOptions=ie,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new A.x,this._scrollStrategy=ye,this._document=he,ie&&(this._showDelay=ie.showDelay,this._hideDelay=ie.hideDelay,ie.position&&(this.position=ie.position),ie.positionAtOrigin&&(this.positionAtOrigin=ie.positionAtOrigin),ie.touchGestures&&(this.touchGestures=ie.touchGestures)),K.change.pipe((0,c.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,c.R)(this._destroyed)).subscribe(_e=>{_e?"keyboard"===_e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const _e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([Le,Pe])=>{_e.removeEventListener(Le,Pe,re)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(_e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(_e)}show(_e=this.showDelay,Le){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const Pe=this._createOverlay(Le);this._detach(),this._portal=this._portal||new v.C5(this._tooltipComponent,this._viewContainerRef);const Oe=this._tooltipInstance=Pe.attach(this._portal).instance;Oe._triggerElement=this._elementRef.nativeElement,Oe._mouseLeaveHideDelay=this._hideDelay,Oe.afterHidden().pipe((0,c.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),Oe.show(_e)}hide(_e=this.hideDelay){const Le=this._tooltipInstance;Le&&(Le.isVisible()?Le.hide(_e):(Le._cancelPendingAnimations(),this._detach()))}toggle(_e){this._isTooltipVisible()?this.hide():this.show(void 0,_e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(_e){if(this._overlayRef){const Oe=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!_e)&&Oe._origin instanceof b.SBq)return this._overlayRef;this._detach()}const Le=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),Pe=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&_e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(Le);return Pe.positionChanges.pipe((0,c.R)(this._destroyed)).subscribe(Oe=>{this._updateCurrentPositionClass(Oe.connectionPair),this._tooltipInstance&&Oe.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:Pe,panelClass:`${this._cssClassPrefix}-${Y}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,c.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,c.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,c.R)(this._destroyed)).subscribe(Oe=>{this._isTooltipVisible()&&Oe.keyCode===O.hY&&!(0,O.Vb)(Oe)&&(Oe.preventDefault(),Oe.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(_e){const Le=_e.getConfig().positionStrategy,Pe=this._getOrigin(),Oe=this._getOverlayPosition();Le.withPositions([this._addOffset({...Pe.main,...Oe.main}),this._addOffset({...Pe.fallback,...Oe.fallback})])}_addOffset(_e){return _e}_getOrigin(){const _e=!this._dir||"ltr"==this._dir.value,Le=this.position;let Pe;"above"==Le||"below"==Le?Pe={originX:"center",originY:"above"==Le?"top":"bottom"}:"before"==Le||"left"==Le&&_e||"right"==Le&&!_e?Pe={originX:"start",originY:"center"}:("after"==Le||"right"==Le&&_e||"left"==Le&&!_e)&&(Pe={originX:"end",originY:"center"});const{x:Oe,y:Ue}=this._invertPosition(Pe.originX,Pe.originY);return{main:Pe,fallback:{originX:Oe,originY:Ue}}}_getOverlayPosition(){const _e=!this._dir||"ltr"==this._dir.value,Le=this.position;let Pe;"above"==Le?Pe={overlayX:"center",overlayY:"bottom"}:"below"==Le?Pe={overlayX:"center",overlayY:"top"}:"before"==Le||"left"==Le&&_e||"right"==Le&&!_e?Pe={overlayX:"end",overlayY:"center"}:("after"==Le||"right"==Le&&_e||"left"==Le&&!_e)&&(Pe={overlayX:"start",overlayY:"center"});const{x:Oe,y:Ue}=this._invertPosition(Pe.overlayX,Pe.overlayY);return{main:Pe,fallback:{overlayX:Oe,overlayY:Ue}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,t.q)(1),(0,c.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(_e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=_e,this._tooltipInstance._markForCheck())}_invertPosition(_e,Le){return"above"===this.position||"below"===this.position?"top"===Le?Le="bottom":"bottom"===Le&&(Le="top"):"end"===_e?_e="start":"start"===_e&&(_e="end"),{x:_e,y:Le}}_updateCurrentPositionClass(_e){const{overlayY:Le,originX:Pe,originY:Oe}=_e;let Ue;if(Ue="center"===Le?this._dir&&"rtl"===this._dir.value?"end"===Pe?"left":"right":"start"===Pe?"left":"right":"bottom"===Le&&"top"===Oe?"above":"below",Ue!==this._currentPosition){const ze=this._overlayRef;if(ze){const He=`${this._cssClassPrefix}-${Y}-`;ze.removePanelClass(He+this._currentPosition),ze.addPanelClass(He+Ue)}this._currentPosition=Ue}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",_e=>{let Le;this._setupPointerExitEventsIfNeeded(),void 0!==_e.x&&void 0!==_e.y&&(Le=_e),this.show(void 0,Le)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",_e=>{const Le=_e.targetTouches?.[0],Pe=Le?{x:Le.clientX,y:Le.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,Pe),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const _e=[];if(this._platformSupportsMouseEvents())_e.push(["mouseleave",Le=>{const Pe=Le.relatedTarget;(!Pe||!this._overlayRef?.overlayElement.contains(Pe))&&this.hide()}],["wheel",Le=>this._wheelListener(Le)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const Le=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};_e.push(["touchend",Le],["touchcancel",Le])}this._addListeners(_e),this._passiveListeners.push(..._e)}_addListeners(_e){_e.forEach(([Le,Pe])=>{this._elementRef.nativeElement.addEventListener(Le,Pe,re)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(_e){if(this._isTooltipVisible()){const Le=this._document.elementFromPoint(_e.clientX,_e.clientY),Pe=this._elementRef.nativeElement;Le!==Pe&&!Pe.contains(Le)&&this.hide()}}_disableNativeGesturesIfNecessary(){const _e=this.touchGestures;if("off"!==_e){const Le=this._elementRef.nativeElement,Pe=Le.style;("on"===_e||"INPUT"!==Le.nodeName&&"TEXTAREA"!==Le.nodeName)&&(Pe.userSelect=Pe.msUserSelect=Pe.webkitUserSelect=Pe.MozUserSelect="none"),("on"===_e||!Le.draggable)&&(Pe.webkitUserDrag="none"),Pe.touchAction="none",Pe.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(Le){b.$Z()};static#t=this.\u0275dir=b.lG2({type:Me,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return Me})(),te=(()=>{class Me extends me{constructor(_e,Le,Pe,Oe,Ue,ze,He,Ae,ye,K,ie,he){super(_e,Le,Pe,Oe,Ue,ze,He,Ae,ye,K,ie,he),this._tooltipComponent=Se,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(_e){const Pe=!this._dir||"ltr"==this._dir.value;return"top"===_e.originY?_e.offsetY=-8:"bottom"===_e.originY?_e.offsetY=8:"start"===_e.originX?_e.offsetX=Pe?-8:8:"end"===_e.originX&&(_e.offsetX=Pe?8:-8),_e}static#e=this.\u0275fac=function(Le){return new(Le||Me)(b.Y36(h.aV),b.Y36(b.SBq),b.Y36(g.mF),b.Y36(b.s_b),b.Y36(b.R0b),b.Y36(L.t4),b.Y36(D.$s),b.Y36(D.tE),b.Y36(C),b.Y36(m.Is,8),b.Y36(S,8),b.Y36(F.K0))};static#t=this.\u0275dir=b.lG2({type:Me,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(Le,Pe){2&Le&&b.ekj("mat-mdc-tooltip-disabled",Pe.disabled)},exportAs:["matTooltip"],features:[b.qOj]})}return Me})(),ue=(()=>{class Me{constructor(_e,Le){this._changeDetectorRef=_e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new A.x,this._animationsDisabled="NoopAnimations"===Le}show(_e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},_e)}hide(_e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},_e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:_e}){(!_e||!this._triggerElement.contains(_e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:_e}){(_e===this._showAnimation||_e===this._hideAnimation)&&this._finalizeAnimation(_e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(_e){_e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(_e){const Le=this._tooltip.nativeElement,Pe=this._showAnimation,Oe=this._hideAnimation;if(Le.classList.remove(_e?Oe:Pe),Le.classList.add(_e?Pe:Oe),this._isVisible=_e,_e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const Ue=getComputedStyle(Le);("0s"===Ue.getPropertyValue("animation-duration")||"none"===Ue.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}_e&&this._onShow(),this._animationsDisabled&&(Le.classList.add("_mat-animation-noopable"),this._finalizeAnimation(_e))}static#e=this.\u0275fac=function(Le){return new(Le||Me)(b.Y36(b.sBO),b.Y36(b.QbO,8))};static#t=this.\u0275dir=b.lG2({type:Me})}return Me})(),Se=(()=>{class Me extends ue{constructor(_e,Le,Pe){super(_e,Pe),this._elementRef=Le,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const _e=this._elementRef.nativeElement.getBoundingClientRect();return _e.height>24&&_e.width>=200}static#e=this.\u0275fac=function(Le){return new(Le||Me)(b.Y36(b.sBO),b.Y36(b.SBq),b.Y36(b.QbO,8))};static#t=this.\u0275cmp=b.Xpm({type:Me,selectors:[["mat-tooltip-component"]],viewQuery:function(Le,Pe){if(1&Le&&b.Gf(V,7),2&Le){let Oe;b.iGM(Oe=b.CRH())&&(Pe._tooltip=Oe.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(Le,Pe){1&Le&&b.NdJ("mouseleave",function(Ue){return Pe._handleMouseLeave(Ue)}),2&Le&&b.Udp("zoom",Pe.isVisible()?1:null)},features:[b.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(Le,Pe){1&Le&&(b.TgZ(0,"div",0,1),b.NdJ("animationend",function(Ue){return Pe._handleAnimationEnd(Ue)}),b.TgZ(2,"div",2),b._uU(3),b.qZA()()),2&Le&&(b.ekj("mdc-tooltip--multiline",Pe._isMultiline),b.Q6J("ngClass",Pe.tooltipClass),b.xp6(3),b.Oqu(Pe.message))},dependencies:[F.mk],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return Me})(),le=(()=>{class Me{static#e=this.\u0275fac=function(Le){return new(Le||Me)};static#t=this.\u0275mod=b.oAB({type:Me});static#n=this.\u0275inj=b.cJS({providers:[T],imports:[D.rt,F.ez,h.U8,P.BQ,P.BQ,g.ZD]})}return Me})()},6593:(wn,qe,x)=>{"use strict";x.d(qe,{Dx:()=>Q,H7:()=>$t,b2:()=>he,q6:()=>Ae,se:()=>re});var c=x(5879),t=x(6814);class E extends t.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class O extends E{static makeCurrent(){(0,t.HT)(new O)}onAndCancel(Dt,ut,bt){return Dt.addEventListener(ut,bt),()=>{Dt.removeEventListener(ut,bt)}}dispatchEvent(Dt,ut){Dt.dispatchEvent(ut)}remove(Dt){Dt.parentNode&&Dt.parentNode.removeChild(Dt)}createElement(Dt,ut){return(ut=ut||this.getDefaultDocument()).createElement(Dt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Dt){return Dt.nodeType===Node.ELEMENT_NODE}isShadowRoot(Dt){return Dt instanceof DocumentFragment}getGlobalEventTarget(Dt,ut){return"window"===ut?window:"document"===ut?Dt:"body"===ut?Dt.body:null}getBaseHref(Dt){const ut=function F(){return b=b||document.querySelector("base"),b?b.getAttribute("href"):null}();return null==ut?null:function D(mt){L=L||document.createElement("a"),L.setAttribute("href",mt);const Dt=L.pathname;return"/"===Dt.charAt(0)?Dt:`/${Dt}`}(ut)}resetBaseElement(){b=null}getUserAgent(){return window.navigator.userAgent}getCookie(Dt){return(0,t.Mx)(document.cookie,Dt)}}let L,b=null,h=(()=>{class mt{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(bt){return new(bt||mt)};static#t=this.\u0275prov=c.Yz7({token:mt,factory:mt.\u0275fac})}return mt})();const g=new c.OlP("EventManagerPlugins");let v=(()=>{class mt{constructor(ut,bt){this._zone=bt,this._eventNameToPlugin=new Map,ut.forEach(Nt=>{Nt.manager=this}),this._plugins=ut.slice().reverse()}addEventListener(ut,bt,Nt){return this._findPluginFor(bt).addEventListener(ut,bt,Nt)}getZone(){return this._zone}_findPluginFor(ut){let bt=this._eventNameToPlugin.get(ut);if(bt)return bt;if(bt=this._plugins.find(Zt=>Zt.supports(ut)),!bt)throw new c.vHH(5101,!1);return this._eventNameToPlugin.set(ut,bt),bt}static#e=this.\u0275fac=function(bt){return new(bt||mt)(c.LFG(g),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:mt,factory:mt.\u0275fac})}return mt})();class A{constructor(Dt){this._doc=Dt}}const U="ng-app-id";let P=(()=>{class mt{constructor(ut,bt,Nt,Zt={}){this.doc=ut,this.appId=bt,this.nonce=Nt,this.platformId=Zt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,t.PM)(Zt),this.resetHostNodes()}addStyles(ut){for(const bt of ut)1===this.changeUsageCount(bt,1)&&this.onStyleAdded(bt)}removeStyles(ut){for(const bt of ut)this.changeUsageCount(bt,-1)<=0&&this.onStyleRemoved(bt)}ngOnDestroy(){const ut=this.styleNodesInDOM;ut&&(ut.forEach(bt=>bt.remove()),ut.clear());for(const bt of this.getAllStyles())this.onStyleRemoved(bt);this.resetHostNodes()}addHost(ut){this.hostNodes.add(ut);for(const bt of this.getAllStyles())this.addStyleToHost(ut,bt)}removeHost(ut){this.hostNodes.delete(ut)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ut){for(const bt of this.hostNodes)this.addStyleToHost(bt,ut)}onStyleRemoved(ut){const bt=this.styleRef;bt.get(ut)?.elements?.forEach(Nt=>Nt.remove()),bt.delete(ut)}collectServerRenderedStyles(){const ut=this.doc.head?.querySelectorAll(`style[${U}="${this.appId}"]`);if(ut?.length){const bt=new Map;return ut.forEach(Nt=>{null!=Nt.textContent&&bt.set(Nt.textContent,Nt)}),bt}return null}changeUsageCount(ut,bt){const Nt=this.styleRef;if(Nt.has(ut)){const Zt=Nt.get(ut);return Zt.usage+=bt,Zt.usage}return Nt.set(ut,{usage:bt,elements:[]}),bt}getStyleElement(ut,bt){const Nt=this.styleNodesInDOM,Zt=Nt?.get(bt);if(Zt?.parentNode===ut)return Nt.delete(bt),Zt.removeAttribute(U),Zt;{const wt=this.doc.createElement("style");return this.nonce&&wt.setAttribute("nonce",this.nonce),wt.textContent=bt,this.platformIsServer&&wt.setAttribute(U,this.appId),wt}}addStyleToHost(ut,bt){const Nt=this.getStyleElement(ut,bt);ut.appendChild(Nt);const Zt=this.styleRef,wt=Zt.get(bt)?.elements;wt?wt.push(Nt):Zt.set(bt,{elements:[Nt],usage:1})}resetHostNodes(){const ut=this.hostNodes;ut.clear(),ut.add(this.doc.head)}static#e=this.\u0275fac=function(bt){return new(bt||mt)(c.LFG(t.K0),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))};static#t=this.\u0275prov=c.Yz7({token:mt,factory:mt.\u0275fac})}return mt})();const V={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},k=/%COMP%/g,R="%COMP%",C=`_nghost-${R}`,w=`_ngcontent-${R}`,N=new c.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Y(mt,Dt){return Dt.map(ut=>ut.replace(k,mt))}let re=(()=>{class mt{constructor(ut,bt,Nt,Zt,wt,Ht,en,tn=null){this.eventManager=ut,this.sharedStylesHost=bt,this.appId=Nt,this.removeStylesOnCompDestroy=Zt,this.doc=wt,this.platformId=Ht,this.ngZone=en,this.nonce=tn,this.rendererByCompId=new Map,this.platformIsServer=(0,t.PM)(Ht),this.defaultRenderer=new ae(ut,wt,en,this.platformIsServer)}createRenderer(ut,bt){if(!ut||!bt)return this.defaultRenderer;this.platformIsServer&&bt.encapsulation===c.ifc.ShadowDom&&(bt={...bt,encapsulation:c.ifc.Emulated});const Nt=this.getOrCreateRenderer(ut,bt);return Nt instanceof te?Nt.applyToHost(ut):Nt instanceof me&&Nt.applyStyles(),Nt}getOrCreateRenderer(ut,bt){const Nt=this.rendererByCompId;let Zt=Nt.get(bt.id);if(!Zt){const wt=this.doc,Ht=this.ngZone,en=this.eventManager,tn=this.sharedStylesHost,yn=this.removeStylesOnCompDestroy,Tn=this.platformIsServer;switch(bt.encapsulation){case c.ifc.Emulated:Zt=new te(en,tn,bt,this.appId,yn,wt,Ht,Tn);break;case c.ifc.ShadowDom:return new H(en,tn,ut,bt,wt,Ht,this.nonce,Tn);default:Zt=new me(en,tn,bt,yn,wt,Ht,Tn)}Nt.set(bt.id,Zt)}return Zt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(bt){return new(bt||mt)(c.LFG(v),c.LFG(P),c.LFG(c.AFp),c.LFG(N),c.LFG(t.K0),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))};static#t=this.\u0275prov=c.Yz7({token:mt,factory:mt.\u0275fac})}return mt})();class ae{constructor(Dt,ut,bt,Nt){this.eventManager=Dt,this.doc=ut,this.ngZone=bt,this.platformIsServer=Nt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Dt,ut){return ut?this.doc.createElementNS(V[ut]||ut,Dt):this.doc.createElement(Dt)}createComment(Dt){return this.doc.createComment(Dt)}createText(Dt){return this.doc.createTextNode(Dt)}appendChild(Dt,ut){(oe(Dt)?Dt.content:Dt).appendChild(ut)}insertBefore(Dt,ut,bt){Dt&&(oe(Dt)?Dt.content:Dt).insertBefore(ut,bt)}removeChild(Dt,ut){Dt&&Dt.removeChild(ut)}selectRootElement(Dt,ut){let bt="string"==typeof Dt?this.doc.querySelector(Dt):Dt;if(!bt)throw new c.vHH(-5104,!1);return ut||(bt.textContent=""),bt}parentNode(Dt){return Dt.parentNode}nextSibling(Dt){return Dt.nextSibling}setAttribute(Dt,ut,bt,Nt){if(Nt){ut=Nt+":"+ut;const Zt=V[Nt];Zt?Dt.setAttributeNS(Zt,ut,bt):Dt.setAttribute(ut,bt)}else Dt.setAttribute(ut,bt)}removeAttribute(Dt,ut,bt){if(bt){const Nt=V[bt];Nt?Dt.removeAttributeNS(Nt,ut):Dt.removeAttribute(`${bt}:${ut}`)}else Dt.removeAttribute(ut)}addClass(Dt,ut){Dt.classList.add(ut)}removeClass(Dt,ut){Dt.classList.remove(ut)}setStyle(Dt,ut,bt,Nt){Nt&(c.JOm.DashCase|c.JOm.Important)?Dt.style.setProperty(ut,bt,Nt&c.JOm.Important?"important":""):Dt.style[ut]=bt}removeStyle(Dt,ut,bt){bt&c.JOm.DashCase?Dt.style.removeProperty(ut):Dt.style[ut]=""}setProperty(Dt,ut,bt){Dt[ut]=bt}setValue(Dt,ut){Dt.nodeValue=ut}listen(Dt,ut,bt){if("string"==typeof Dt&&!(Dt=(0,t.q)().getGlobalEventTarget(this.doc,Dt)))throw new Error(`Unsupported event target ${Dt} for event ${ut}`);return this.eventManager.addEventListener(Dt,ut,this.decoratePreventDefault(bt))}decoratePreventDefault(Dt){return ut=>{if("__ngUnwrap__"===ut)return Dt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Dt(ut)):Dt(ut))&&ut.preventDefault()}}}function oe(mt){return"TEMPLATE"===mt.tagName&&void 0!==mt.content}class H extends ae{constructor(Dt,ut,bt,Nt,Zt,wt,Ht,en){super(Dt,Zt,wt,en),this.sharedStylesHost=ut,this.hostEl=bt,this.shadowRoot=bt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const tn=Y(Nt.id,Nt.styles);for(const yn of tn){const Tn=document.createElement("style");Ht&&Tn.setAttribute("nonce",Ht),Tn.textContent=yn,this.shadowRoot.appendChild(Tn)}}nodeOrShadowRoot(Dt){return Dt===this.hostEl?this.shadowRoot:Dt}appendChild(Dt,ut){return super.appendChild(this.nodeOrShadowRoot(Dt),ut)}insertBefore(Dt,ut,bt){return super.insertBefore(this.nodeOrShadowRoot(Dt),ut,bt)}removeChild(Dt,ut){return super.removeChild(this.nodeOrShadowRoot(Dt),ut)}parentNode(Dt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Dt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class me extends ae{constructor(Dt,ut,bt,Nt,Zt,wt,Ht,en){super(Dt,Zt,wt,Ht),this.sharedStylesHost=ut,this.removeStylesOnCompDestroy=Nt,this.styles=en?Y(en,bt.styles):bt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class te extends me{constructor(Dt,ut,bt,Nt,Zt,wt,Ht,en){const tn=Nt+"-"+bt.id;super(Dt,ut,bt,Zt,wt,Ht,en,tn),this.contentAttr=function S(mt){return w.replace(k,mt)}(tn),this.hostAttr=function B(mt){return C.replace(k,mt)}(tn)}applyToHost(Dt){this.applyStyles(),this.setAttribute(Dt,this.hostAttr,"")}createElement(Dt,ut){const bt=super.createElement(Dt,ut);return super.setAttribute(bt,this.contentAttr,""),bt}}let ue=(()=>{class mt extends A{constructor(ut){super(ut)}supports(ut){return!0}addEventListener(ut,bt,Nt){return ut.addEventListener(bt,Nt,!1),()=>this.removeEventListener(ut,bt,Nt)}removeEventListener(ut,bt,Nt){return ut.removeEventListener(bt,Nt)}static#e=this.\u0275fac=function(bt){return new(bt||mt)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:mt,factory:mt.\u0275fac})}return mt})();const Se=["alt","control","meta","shift"],Ie={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},le={alt:mt=>mt.altKey,control:mt=>mt.ctrlKey,meta:mt=>mt.metaKey,shift:mt=>mt.shiftKey};let Me=(()=>{class mt extends A{constructor(ut){super(ut)}supports(ut){return null!=mt.parseEventName(ut)}addEventListener(ut,bt,Nt){const Zt=mt.parseEventName(bt),wt=mt.eventCallback(Zt.fullKey,Nt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,t.q)().onAndCancel(ut,Zt.domEventName,wt))}static parseEventName(ut){const bt=ut.toLowerCase().split("."),Nt=bt.shift();if(0===bt.length||"keydown"!==Nt&&"keyup"!==Nt)return null;const Zt=mt._normalizeKey(bt.pop());let wt="",Ht=bt.indexOf("code");if(Ht>-1&&(bt.splice(Ht,1),wt="code."),Se.forEach(tn=>{const yn=bt.indexOf(tn);yn>-1&&(bt.splice(yn,1),wt+=tn+".")}),wt+=Zt,0!=bt.length||0===Zt.length)return null;const en={};return en.domEventName=Nt,en.fullKey=wt,en}static matchEventFullKeyCode(ut,bt){let Nt=Ie[ut.key]||ut.key,Zt="";return bt.indexOf("code.")>-1&&(Nt=ut.code,Zt="code."),!(null==Nt||!Nt)&&(Nt=Nt.toLowerCase()," "===Nt?Nt="space":"."===Nt&&(Nt="dot"),Se.forEach(wt=>{wt!==Nt&&(0,le[wt])(ut)&&(Zt+=wt+".")}),Zt+=Nt,Zt===bt)}static eventCallback(ut,bt,Nt){return Zt=>{mt.matchEventFullKeyCode(Zt,ut)&&Nt.runGuarded(()=>bt(Zt))}}static _normalizeKey(ut){return"esc"===ut?"escape":ut}static#e=this.\u0275fac=function(bt){return new(bt||mt)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:mt,factory:mt.\u0275fac})}return mt})();const Ae=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:t.bD},{provide:c.g9A,useValue:function Oe(){O.makeCurrent()},multi:!0},{provide:t.K0,useFactory:function ze(){return(0,c.RDi)(document),document},deps:[]}]),ye=new c.OlP(""),K=[{provide:c.rWj,useClass:class m{addToWindow(Dt){c.dqk.getAngularTestability=(bt,Nt=!0)=>{const Zt=Dt.findTestabilityInTree(bt,Nt);if(null==Zt)throw new c.vHH(5103,!1);return Zt},c.dqk.getAllAngularTestabilities=()=>Dt.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>Dt.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(bt=>{const Nt=c.dqk.getAllAngularTestabilities();let Zt=Nt.length,wt=!1;const Ht=function(en){wt=wt||en,Zt--,0==Zt&&bt(wt)};Nt.forEach(en=>{en.whenStable(Ht)})})}findTestabilityInTree(Dt,ut,bt){return null==ut?null:Dt.getTestability(ut)??(bt?(0,t.q)().isShadowRoot(ut)?this.findTestabilityInTree(Dt,ut.host,!0):this.findTestabilityInTree(Dt,ut.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],ie=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Ue(){return new c.qLn},deps:[]},{provide:g,useClass:ue,multi:!0,deps:[t.K0,c.R0b,c.Lbi]},{provide:g,useClass:Me,multi:!0,deps:[t.K0]},re,P,v,{provide:c.FYo,useExisting:re},{provide:t.JF,useClass:h,deps:[]},[]];let he=(()=>{class mt{constructor(ut){}static withServerTransition(ut){return{ngModule:mt,providers:[{provide:c.AFp,useValue:ut.appId}]}}static#e=this.\u0275fac=function(bt){return new(bt||mt)(c.LFG(ye,12))};static#t=this.\u0275mod=c.oAB({type:mt});static#n=this.\u0275inj=c.cJS({providers:[...ie,...K],imports:[t.ez,c.hGG]})}return mt})(),Q=(()=>{class mt{constructor(ut){this._doc=ut}getTitle(){return this._doc.title}setTitle(ut){this._doc.title=ut||""}static#e=this.\u0275fac=function(bt){return new(bt||mt)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:mt,factory:function(bt){let Nt=null;return Nt=bt?new bt:function X(){return new Q((0,c.LFG)(t.K0))}(),Nt},providedIn:"root"})}return mt})();typeof window<"u"&&window;let $t=(()=>{class mt{static#e=this.\u0275fac=function(bt){return new(bt||mt)};static#t=this.\u0275prov=c.Yz7({token:mt,factory:function(bt){let Nt=null;return Nt=bt?new(bt||mt):c.LFG(dn),Nt},providedIn:"root"})}return mt})(),dn=(()=>{class mt extends $t{constructor(ut){super(),this._doc=ut}sanitize(ut,bt){if(null==bt)return null;switch(ut){case c.q3G.NONE:return bt;case c.q3G.HTML:return(0,c.qzn)(bt,"HTML")?(0,c.z3N)(bt):(0,c.EiD)(this._doc,String(bt)).toString();case c.q3G.STYLE:return(0,c.qzn)(bt,"Style")?(0,c.z3N)(bt):bt;case c.q3G.SCRIPT:if((0,c.qzn)(bt,"Script"))return(0,c.z3N)(bt);throw new c.vHH(5200,!1);case c.q3G.URL:return(0,c.qzn)(bt,"URL")?(0,c.z3N)(bt):(0,c.mCW)(String(bt));case c.q3G.RESOURCE_URL:if((0,c.qzn)(bt,"ResourceURL"))return(0,c.z3N)(bt);throw new c.vHH(5201,!1);default:throw new c.vHH(5202,!1)}}bypassSecurityTrustHtml(ut){return(0,c.JVY)(ut)}bypassSecurityTrustStyle(ut){return(0,c.L6k)(ut)}bypassSecurityTrustScript(ut){return(0,c.eBb)(ut)}bypassSecurityTrustUrl(ut){return(0,c.LAX)(ut)}bypassSecurityTrustResourceUrl(ut){return(0,c.pB0)(ut)}static#e=this.\u0275fac=function(bt){return new(bt||mt)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:mt,factory:function(bt){let Nt=null;return Nt=bt?new bt:function Qt(mt){return new dn(mt.get(t.K0))}(c.LFG(c.zs3)),Nt},providedIn:"root"})}return mt})()},8930:(wn,qe,x)=>{"use strict";x.d(qe,{gz:()=>tr,F0:()=>Mr,rH:()=>ma,Bz:()=>Wf,lC:()=>oi});var c=x(5879),t=x(2664),E=x(7715),O=x(2096),b=x(5619),F=x(2572);const D=(0,x(2306).d)(be=>function(){be(this),this.name="EmptyError",this.message="no elements in sequence"});var m=x(5211),h=x(4911),g=x(8407),v=x(5592),A=x(4674);function U(be,Fe){const se=(0,A.m)(be)?be:()=>be,Ne=rt=>rt.error(se());return new v.y(Fe?rt=>Fe.schedule(Ne,0,rt):Ne)}var P=x(6232),V=x(3168),k=x(8645),R=x(6814),C=x(7398),w=x(4664),T=x(8180),N=x(7921),S=x(2181),B=x(1631),Y=x(9360),re=x(8251);function ae(be){return(0,Y.e)((Fe,se)=>{let Ne=!1;Fe.subscribe((0,re.x)(se,rt=>{Ne=!0,se.next(rt)},()=>{Ne||se.next(be),se.complete()}))})}function Re(be=z){return(0,Y.e)((Fe,se)=>{let Ne=!1;Fe.subscribe((0,re.x)(se,rt=>{Ne=!0,se.next(rt)},()=>Ne?se.complete():se.error(be())))})}function z(){return new D}var oe=x(2737);function H(be,Fe){const se=arguments.length>=2;return Ne=>Ne.pipe(be?(0,S.h)((rt,Mt)=>be(rt,Mt,Ne)):oe.y,(0,T.q)(1),se?ae(Fe):Re(()=>new D))}var me=x(6328),te=x(9397),ue=x(4829);function Se(be){return(0,Y.e)((Fe,se)=>{let Mt,Ne=null,rt=!1;Ne=Fe.subscribe((0,re.x)(se,void 0,void 0,xt=>{Mt=(0,ue.Xf)(be(xt,Se(be)(Fe))),Ne?(Ne.unsubscribe(),Ne=null,Mt.subscribe(se)):rt=!0})),rt&&(Ne.unsubscribe(),Ne=null,Mt.subscribe(se))})}function Me(be){return be<=0?()=>P.E:(0,Y.e)((Fe,se)=>{let Ne=[];Fe.subscribe((0,re.x)(se,rt=>{Ne.push(rt),be<Ne.length&&Ne.shift()},()=>{for(const rt of Ne)se.next(rt);se.complete()},void 0,()=>{Ne=null}))})}var _e=x(975),Le=x(4716),Pe=x(6196),Oe=x(7537),Ue=x(6593);const ze="primary",He=Symbol("RouteTitle");class Ae{constructor(Fe){this.params=Fe||{}}has(Fe){return Object.prototype.hasOwnProperty.call(this.params,Fe)}get(Fe){if(this.has(Fe)){const se=this.params[Fe];return Array.isArray(se)?se[0]:se}return null}getAll(Fe){if(this.has(Fe)){const se=this.params[Fe];return Array.isArray(se)?se:[se]}return[]}get keys(){return Object.keys(this.params)}}function ye(be){return new Ae(be)}function K(be,Fe,se){const Ne=se.path.split("/");if(Ne.length>be.length||"full"===se.pathMatch&&(Fe.hasChildren()||Ne.length<be.length))return null;const rt={};for(let Mt=0;Mt<Ne.length;Mt++){const xt=Ne[Mt],an=be[Mt];if(xt.startsWith(":"))rt[xt.substring(1)]=an;else if(xt!==an.path)return null}return{consumed:be.slice(0,Ne.length),posParams:rt}}function he(be,Fe){const se=be?Object.keys(be):void 0,Ne=Fe?Object.keys(Fe):void 0;if(!se||!Ne||se.length!=Ne.length)return!1;let rt;for(let Mt=0;Mt<se.length;Mt++)if(rt=se[Mt],!$(be[rt],Fe[rt]))return!1;return!0}function $(be,Fe){if(Array.isArray(be)&&Array.isArray(Fe)){if(be.length!==Fe.length)return!1;const se=[...be].sort(),Ne=[...Fe].sort();return se.every((rt,Mt)=>Ne[Mt]===rt)}return be===Fe}function Z(be){return be.length>0?be[be.length-1]:null}function W(be){return(0,t.b)(be)?be:(0,c.QGY)(be)?(0,E.D)(Promise.resolve(be)):(0,O.of)(be)}const X={exact:function de(be,Fe,se){if(!ct(be.segments,Fe.segments)||!Ye(be.segments,Fe.segments,se)||be.numberOfChildren!==Fe.numberOfChildren)return!1;for(const Ne in Fe.children)if(!be.children[Ne]||!de(be.children[Ne],Fe.children[Ne],se))return!1;return!0},subset:ce},Q={exact:function J(be,Fe){return he(be,Fe)},subset:function pe(be,Fe){return Object.keys(Fe).length<=Object.keys(be).length&&Object.keys(Fe).every(se=>$(be[se],Fe[se]))},ignored:()=>!0};function q(be,Fe,se){return X[se.paths](be.root,Fe.root,se.matrixParams)&&Q[se.queryParams](be.queryParams,Fe.queryParams)&&!("exact"===se.fragment&&be.fragment!==Fe.fragment)}function ce(be,Fe,se){return Ce(be,Fe,Fe.segments,se)}function Ce(be,Fe,se,Ne){if(be.segments.length>se.length){const rt=be.segments.slice(0,se.length);return!(!ct(rt,se)||Fe.hasChildren()||!Ye(rt,se,Ne))}if(be.segments.length===se.length){if(!ct(be.segments,se)||!Ye(be.segments,se,Ne))return!1;for(const rt in Fe.children)if(!be.children[rt]||!ce(be.children[rt],Fe.children[rt],Ne))return!1;return!0}{const rt=se.slice(0,be.segments.length),Mt=se.slice(be.segments.length);return!!(ct(be.segments,rt)&&Ye(be.segments,rt,Ne)&&be.children[ze])&&Ce(be.children[ze],Fe,Mt,Ne)}}function Ye(be,Fe,se){return Fe.every((Ne,rt)=>Q[se](be[rt].parameters,Ne.parameters))}class Be{constructor(Fe=new Ze([],{}),se={},Ne=null){this.root=Fe,this.queryParams=se,this.fragment=Ne}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ye(this.queryParams)),this._queryParamMap}toString(){return Vt.serialize(this)}}class Ze{constructor(Fe,se){this.segments=Fe,this.children=se,this.parent=null,Object.values(se).forEach(Ne=>Ne.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $t(this)}}class Qe{constructor(Fe,se){this.path=Fe,this.parameters=se}get parameterMap(){return this._parameterMap||(this._parameterMap=ye(this.parameters)),this._parameterMap}toString(){return fe(this)}}function ct(be,Fe){return be.length===Fe.length&&be.every((se,Ne)=>se.path===Fe[Ne].path)}let _t=(()=>{class be{static#e=this.\u0275fac=function(Ne){return new(Ne||be)};static#t=this.\u0275prov=c.Yz7({token:be,factory:function(){return new Pt},providedIn:"root"})}return be})();class Pt{parse(Fe){const se=new en(Fe);return new Be(se.parseRootSegment(),se.parseQueryParams(),se.parseFragment())}serialize(Fe){const se=`/${Qt(Fe.root,!0)}`,Ne=function st(be){const Fe=Object.keys(be).map(se=>{const Ne=be[se];return Array.isArray(Ne)?Ne.map(rt=>`${pn(se)}=${pn(rt)}`).join("&"):`${pn(se)}=${pn(Ne)}`}).filter(se=>!!se);return Fe.length?`?${Fe.join("&")}`:""}(Fe.queryParams);return`${se}${Ne}${"string"==typeof Fe.fragment?`#${function Un(be){return encodeURI(be)}(Fe.fragment)}`:""}`}}const Vt=new Pt;function $t(be){return be.segments.map(Fe=>fe(Fe)).join("/")}function Qt(be,Fe){if(!be.hasChildren())return $t(be);if(Fe){const se=be.children[ze]?Qt(be.children[ze],!1):"",Ne=[];return Object.entries(be.children).forEach(([rt,Mt])=>{rt!==ze&&Ne.push(`${rt}:${Qt(Mt,!1)}`)}),Ne.length>0?`${se}(${Ne.join("//")})`:se}{const se=function It(be,Fe){let se=[];return Object.entries(be.children).forEach(([Ne,rt])=>{Ne===ze&&(se=se.concat(Fe(rt,Ne)))}),Object.entries(be.children).forEach(([Ne,rt])=>{Ne!==ze&&(se=se.concat(Fe(rt,Ne)))}),se}(be,(Ne,rt)=>rt===ze?[Qt(be.children[ze],!1)]:[`${rt}:${Qt(Ne,!1)}`]);return 1===Object.keys(be.children).length&&null!=be.children[ze]?`${$t(be)}/${se[0]}`:`${$t(be)}/(${se.join("//")})`}}function dn(be){return encodeURIComponent(be).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pn(be){return dn(be).replace(/%3B/gi,";")}function ot(be){return dn(be).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dt(be){return decodeURIComponent(be)}function xe(be){return dt(be.replace(/\+/g,"%20"))}function fe(be){return`${ot(be.path)}${function ge(be){return Object.keys(be).map(Fe=>`;${ot(Fe)}=${ot(be[Fe])}`).join("")}(be.parameters)}`}const mt=/^[^\/()?;#]+/;function Dt(be){const Fe=be.match(mt);return Fe?Fe[0]:""}const ut=/^[^\/()?;=#]+/,Nt=/^[^=?&#]+/,wt=/^[^&#]+/;class en{constructor(Fe){this.url=Fe,this.remaining=Fe}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ze([],{}):new Ze([],this.parseChildren())}parseQueryParams(){const Fe={};if(this.consumeOptional("?"))do{this.parseQueryParam(Fe)}while(this.consumeOptional("&"));return Fe}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Fe=[];for(this.peekStartsWith("(")||Fe.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Fe.push(this.parseSegment());let se={};this.peekStartsWith("/(")&&(this.capture("/"),se=this.parseParens(!0));let Ne={};return this.peekStartsWith("(")&&(Ne=this.parseParens(!1)),(Fe.length>0||Object.keys(se).length>0)&&(Ne[ze]=new Ze(Fe,se)),Ne}parseSegment(){const Fe=Dt(this.remaining);if(""===Fe&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(Fe),new Qe(dt(Fe),this.parseMatrixParams())}parseMatrixParams(){const Fe={};for(;this.consumeOptional(";");)this.parseParam(Fe);return Fe}parseParam(Fe){const se=function bt(be){const Fe=be.match(ut);return Fe?Fe[0]:""}(this.remaining);if(!se)return;this.capture(se);let Ne="";if(this.consumeOptional("=")){const rt=Dt(this.remaining);rt&&(Ne=rt,this.capture(Ne))}Fe[dt(se)]=dt(Ne)}parseQueryParam(Fe){const se=function Zt(be){const Fe=be.match(Nt);return Fe?Fe[0]:""}(this.remaining);if(!se)return;this.capture(se);let Ne="";if(this.consumeOptional("=")){const xt=function Ht(be){const Fe=be.match(wt);return Fe?Fe[0]:""}(this.remaining);xt&&(Ne=xt,this.capture(Ne))}const rt=xe(se),Mt=xe(Ne);if(Fe.hasOwnProperty(rt)){let xt=Fe[rt];Array.isArray(xt)||(xt=[xt],Fe[rt]=xt),xt.push(Mt)}else Fe[rt]=Mt}parseParens(Fe){const se={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Ne=Dt(this.remaining),rt=this.remaining[Ne.length];if("/"!==rt&&")"!==rt&&";"!==rt)throw new c.vHH(4010,!1);let Mt;Ne.indexOf(":")>-1?(Mt=Ne.slice(0,Ne.indexOf(":")),this.capture(Mt),this.capture(":")):Fe&&(Mt=ze);const xt=this.parseChildren();se[Mt]=1===Object.keys(xt).length?xt[ze]:new Ze([],xt),this.consumeOptional("//")}return se}peekStartsWith(Fe){return this.remaining.startsWith(Fe)}consumeOptional(Fe){return!!this.peekStartsWith(Fe)&&(this.remaining=this.remaining.substring(Fe.length),!0)}capture(Fe){if(!this.consumeOptional(Fe))throw new c.vHH(4011,!1)}}function tn(be){return be.segments.length>0?new Ze([],{[ze]:be}):be}function yn(be){const Fe={};for(const Ne of Object.keys(be.children)){const Mt=yn(be.children[Ne]);if(Ne===ze&&0===Mt.segments.length&&Mt.hasChildren())for(const[xt,an]of Object.entries(Mt.children))Fe[xt]=an;else(Mt.segments.length>0||Mt.hasChildren())&&(Fe[Ne]=Mt)}return function Tn(be){if(1===be.numberOfChildren&&be.children[ze]){const Fe=be.children[ze];return new Ze(be.segments.concat(Fe.segments),Fe.children)}return be}(new Ze(be.segments,Fe))}function In(be){return be instanceof Be}function qn(be){let Fe;const rt=tn(function se(Mt){const xt={};for(const Ln of Mt.children){const ti=se(Ln);xt[Ln.outlet]=ti}const an=new Ze(Mt.url,xt);return Mt===be&&(Fe=an),an}(be.root));return Fe??rt}function ui(be,Fe,se,Ne){let rt=be;for(;rt.parent;)rt=rt.parent;if(0===Fe.length)return at(rt,rt,rt,se,Ne);const Mt=function tt(be){if("string"==typeof be[0]&&1===be.length&&"/"===be[0])return new Ke(!0,0,be);let Fe=0,se=!1;const Ne=be.reduce((rt,Mt,xt)=>{if("object"==typeof Mt&&null!=Mt){if(Mt.outlets){const an={};return Object.entries(Mt.outlets).forEach(([Ln,ti])=>{an[Ln]="string"==typeof ti?ti.split("/"):ti}),[...rt,{outlets:an}]}if(Mt.segmentPath)return[...rt,Mt.segmentPath]}return"string"!=typeof Mt?[...rt,Mt]:0===xt?(Mt.split("/").forEach((an,Ln)=>{0==Ln&&"."===an||(0==Ln&&""===an?se=!0:".."===an?Fe++:""!=an&&rt.push(an))}),rt):[...rt,Mt]},[]);return new Ke(se,Fe,Ne)}(Fe);if(Mt.toRoot())return at(rt,rt,new Ze([],{}),se,Ne);const xt=function Yt(be,Fe,se){if(be.isAbsolute)return new Ct(Fe,!0,0);if(!se)return new Ct(Fe,!1,NaN);if(null===se.parent)return new Ct(se,!0,0);const Ne=Ft(be.commands[0])?0:1;return function Gt(be,Fe,se){let Ne=be,rt=Fe,Mt=se;for(;Mt>rt;){if(Mt-=rt,Ne=Ne.parent,!Ne)throw new c.vHH(4005,!1);rt=Ne.segments.length}return new Ct(Ne,!1,rt-Mt)}(se,se.segments.length-1+Ne,be.numberOfDoubleDots)}(Mt,rt,be),an=xt.processChildren?Ot(xt.segmentGroup,xt.index,Mt.commands):kt(xt.segmentGroup,xt.index,Mt.commands);return at(rt,xt.segmentGroup,an,se,Ne)}function Ft(be){return"object"==typeof be&&null!=be&&!be.outlets&&!be.segmentPath}function St(be){return"object"==typeof be&&null!=be&&be.outlets}function at(be,Fe,se,Ne,rt){let xt,Mt={};Ne&&Object.entries(Ne).forEach(([Ln,ti])=>{Mt[Ln]=Array.isArray(ti)?ti.map(ni=>`${ni}`):`${ti}`}),xt=be===Fe?se:Xt(be,Fe,se);const an=tn(yn(xt));return new Be(an,Mt,rt)}function Xt(be,Fe,se){const Ne={};return Object.entries(be.children).forEach(([rt,Mt])=>{Ne[rt]=Mt===Fe?se:Xt(Mt,Fe,se)}),new Ze(be.segments,Ne)}class Ke{constructor(Fe,se,Ne){if(this.isAbsolute=Fe,this.numberOfDoubleDots=se,this.commands=Ne,Fe&&Ne.length>0&&Ft(Ne[0]))throw new c.vHH(4003,!1);const rt=Ne.find(St);if(rt&&rt!==Z(Ne))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ct{constructor(Fe,se,Ne){this.segmentGroup=Fe,this.processChildren=se,this.index=Ne}}function kt(be,Fe,se){if(be||(be=new Ze([],{})),0===be.segments.length&&be.hasChildren())return Ot(be,Fe,se);const Ne=function Bt(be,Fe,se){let Ne=0,rt=Fe;const Mt={match:!1,pathIndex:0,commandIndex:0};for(;rt<be.segments.length;){if(Ne>=se.length)return Mt;const xt=be.segments[rt],an=se[Ne];if(St(an))break;const Ln=`${an}`,ti=Ne<se.length-1?se[Ne+1]:null;if(rt>0&&void 0===Ln)break;if(Ln&&ti&&"object"==typeof ti&&void 0===ti.outlets){if(!ht(Ln,ti,xt))return Mt;Ne+=2}else{if(!ht(Ln,{},xt))return Mt;Ne++}rt++}return{match:!0,pathIndex:rt,commandIndex:Ne}}(be,Fe,se),rt=se.slice(Ne.commandIndex);if(Ne.match&&Ne.pathIndex<be.segments.length){const Mt=new Ze(be.segments.slice(0,Ne.pathIndex),{});return Mt.children[ze]=new Ze(be.segments.slice(Ne.pathIndex),be.children),Ot(Mt,0,rt)}return Ne.match&&0===rt.length?new Ze(be.segments,{}):Ne.match&&!be.hasChildren()?on(be,Fe,se):Ne.match?Ot(be,0,rt):on(be,Fe,se)}function Ot(be,Fe,se){if(0===se.length)return new Ze(be.segments,{});{const Ne=function _n(be){return St(be[0])?be[0].outlets:{[ze]:be}}(se),rt={};if(!Ne[ze]&&be.children[ze]&&1===be.numberOfChildren&&0===be.children[ze].segments.length){const Mt=Ot(be.children[ze],Fe,se);return new Ze(be.segments,Mt.children)}return Object.entries(Ne).forEach(([Mt,xt])=>{"string"==typeof xt&&(xt=[xt]),null!==xt&&(rt[Mt]=kt(be.children[Mt],Fe,xt))}),Object.entries(be.children).forEach(([Mt,xt])=>{void 0===Ne[Mt]&&(rt[Mt]=xt)}),new Ze(be.segments,rt)}}function on(be,Fe,se){const Ne=be.segments.slice(0,Fe);let rt=0;for(;rt<se.length;){const Mt=se[rt];if(St(Mt)){const Ln=bn(Mt.outlets);return new Ze(Ne,Ln)}if(0===rt&&Ft(se[0])){Ne.push(new Qe(be.segments[Fe].path,Fn(se[0]))),rt++;continue}const xt=St(Mt)?Mt.outlets[ze]:`${Mt}`,an=rt<se.length-1?se[rt+1]:null;xt&&an&&Ft(an)?(Ne.push(new Qe(xt,Fn(an))),rt+=2):(Ne.push(new Qe(xt,{})),rt++)}return new Ze(Ne,{})}function bn(be){const Fe={};return Object.entries(be).forEach(([se,Ne])=>{"string"==typeof Ne&&(Ne=[Ne]),null!==Ne&&(Fe[se]=on(new Ze([],{}),0,Ne))}),Fe}function Fn(be){const Fe={};return Object.entries(be).forEach(([se,Ne])=>Fe[se]=`${Ne}`),Fe}function ht(be,Fe,se){return be==se.path&&he(Fe,se.parameters)}const rn="imperative";class ve{constructor(Fe,se){this.id=Fe,this.url=se}}class lt extends ve{constructor(Fe,se,Ne="imperative",rt=null){super(Fe,se),this.type=0,this.navigationTrigger=Ne,this.restoredState=rt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class it extends ve{constructor(Fe,se,Ne){super(Fe,se),this.urlAfterRedirects=Ne,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class At extends ve{constructor(Fe,se,Ne,rt){super(Fe,se),this.reason=Ne,this.code=rt,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kt extends ve{constructor(Fe,se,Ne,rt){super(Fe,se),this.reason=Ne,this.code=rt,this.type=16}}class vn extends ve{constructor(Fe,se,Ne,rt){super(Fe,se),this.error=Ne,this.target=rt,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Fi extends ve{constructor(Fe,se,Ne,rt){super(Fe,se),this.urlAfterRedirects=Ne,this.state=rt,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sr extends ve{constructor(Fe,se,Ne,rt){super(Fe,se),this.urlAfterRedirects=Ne,this.state=rt,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ti extends ve{constructor(Fe,se,Ne,rt,Mt){super(Fe,se),this.urlAfterRedirects=Ne,this.state=rt,this.shouldActivate=Mt,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Li extends ve{constructor(Fe,se,Ne,rt){super(Fe,se),this.urlAfterRedirects=Ne,this.state=rt,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cn extends ve{constructor(Fe,se,Ne,rt){super(Fe,se),this.urlAfterRedirects=Ne,this.state=rt,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tr{constructor(Fe){this.route=Fe,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ci{constructor(Fe){this.route=Fe,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Lr{constructor(Fe){this.snapshot=Fe,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class di{constructor(Fe){this.snapshot=Fe,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class er{constructor(Fe){this.snapshot=Fe,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mr{constructor(Fe){this.snapshot=Fe,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ir{constructor(Fe,se,Ne){this.routerEvent=Fe,this.position=se,this.anchor=Ne,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ko{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new $r,this.attachRef=null}}let $r=(()=>{class be{constructor(){this.contexts=new Map}onChildOutletCreated(se,Ne){const rt=this.getOrCreateContext(se);rt.outlet=Ne,this.contexts.set(se,rt)}onChildOutletDestroyed(se){const Ne=this.getContext(se);Ne&&(Ne.outlet=null,Ne.attachRef=null)}onOutletDeactivated(){const se=this.contexts;return this.contexts=new Map,se}onOutletReAttached(se){this.contexts=se}getOrCreateContext(se){let Ne=this.getContext(se);return Ne||(Ne=new ko,this.contexts.set(se,Ne)),Ne}getContext(se){return this.contexts.get(se)||null}static#e=this.\u0275fac=function(Ne){return new(Ne||be)};static#t=this.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();class Qi{constructor(Fe){this._root=Fe}get root(){return this._root.value}parent(Fe){const se=this.pathFromRoot(Fe);return se.length>1?se[se.length-2]:null}children(Fe){const se=go(Fe,this._root);return se?se.children.map(Ne=>Ne.value):[]}firstChild(Fe){const se=go(Fe,this._root);return se&&se.children.length>0?se.children[0].value:null}siblings(Fe){const se=Xi(Fe,this._root);return se.length<2?[]:se[se.length-2].children.map(rt=>rt.value).filter(rt=>rt!==Fe)}pathFromRoot(Fe){return Xi(Fe,this._root).map(se=>se.value)}}function go(be,Fe){if(be===Fe.value)return Fe;for(const se of Fe.children){const Ne=go(be,se);if(Ne)return Ne}return null}function Xi(be,Fe){if(be===Fe.value)return[Fe];for(const se of Fe.children){const Ne=Xi(be,se);if(Ne.length)return Ne.unshift(Fe),Ne}return[]}class si{constructor(Fe,se){this.value=Fe,this.children=se}toString(){return`TreeNode(${this.value})`}}function Kn(be){const Fe={};return be&&be.children.forEach(se=>Fe[se.value.outlet]=se),Fe}class ai extends Qi{constructor(Fe,se){super(Fe),this.snapshot=se,Pn(this,Fe)}toString(){return this.snapshot.toString()}}function Ri(be,Fe){const se=function pr(be,Fe){const xt=new jt([],{},{},"",{},ze,Fe,null,{});return new hn("",new si(xt,[]))}(0,Fe),Ne=new b.X([new Qe("",{})]),rt=new b.X({}),Mt=new b.X({}),xt=new b.X({}),an=new b.X(""),Ln=new tr(Ne,rt,xt,an,Mt,ze,Fe,se.root);return Ln.snapshot=se.root,new ai(new si(Ln,[]),se)}class tr{constructor(Fe,se,Ne,rt,Mt,xt,an,Ln){this.urlSubject=Fe,this.paramsSubject=se,this.queryParamsSubject=Ne,this.fragmentSubject=rt,this.dataSubject=Mt,this.outlet=xt,this.component=an,this._futureSnapshot=Ln,this.title=this.dataSubject?.pipe((0,C.U)(ti=>ti[He]))??(0,O.of)(void 0),this.url=Fe,this.params=se,this.queryParams=Ne,this.fragment=rt,this.data=Mt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,C.U)(Fe=>ye(Fe)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,C.U)(Fe=>ye(Fe)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nr(be,Fe="emptyOnly"){const se=be.pathFromRoot;let Ne=0;if("always"!==Fe)for(Ne=se.length-1;Ne>=1;){const rt=se[Ne],Mt=se[Ne-1];if(rt.routeConfig&&""===rt.routeConfig.path)Ne--;else{if(Mt.component)break;Ne--}}return function Or(be){return be.reduce((Fe,se)=>({params:{...Fe.params,...se.params},data:{...Fe.data,...se.data},resolve:{...se.data,...Fe.resolve,...se.routeConfig?.data,...se._resolvedData}}),{params:{},data:{},resolve:{}})}(se.slice(Ne))}class jt{get title(){return this.data?.[He]}constructor(Fe,se,Ne,rt,Mt,xt,an,Ln,ti){this.url=Fe,this.params=se,this.queryParams=Ne,this.fragment=rt,this.data=Mt,this.outlet=xt,this.component=an,this.routeConfig=Ln,this._resolve=ti}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ye(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ye(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Ne=>Ne.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hn extends Qi{constructor(Fe,se){super(se),this.url=Fe,Pn(this,se)}toString(){return Rn(this._root)}}function Pn(be,Fe){Fe.value._routerState=be,Fe.children.forEach(se=>Pn(be,se))}function Rn(be){const Fe=be.children.length>0?` { ${be.children.map(Rn).join(", ")} } `:"";return`${be.value}${Fe}`}function ei(be){if(be.snapshot){const Fe=be.snapshot,se=be._futureSnapshot;be.snapshot=se,he(Fe.queryParams,se.queryParams)||be.queryParamsSubject.next(se.queryParams),Fe.fragment!==se.fragment&&be.fragmentSubject.next(se.fragment),he(Fe.params,se.params)||be.paramsSubject.next(se.params),function ie(be,Fe){if(be.length!==Fe.length)return!1;for(let se=0;se<be.length;++se)if(!he(be[se],Fe[se]))return!1;return!0}(Fe.url,se.url)||be.urlSubject.next(se.url),he(Fe.data,se.data)||be.dataSubject.next(se.data)}else be.snapshot=be._futureSnapshot,be.dataSubject.next(be._futureSnapshot.data)}function Jn(be,Fe){const se=he(be.params,Fe.params)&&function $e(be,Fe){return ct(be,Fe)&&be.every((se,Ne)=>he(se.parameters,Fe[Ne].parameters))}(be.url,Fe.url);return se&&!(!be.parent!=!Fe.parent)&&(!be.parent||Jn(be.parent,Fe.parent))}let oi=(()=>{class be{constructor(){this.activated=null,this._activatedRoute=null,this.name=ze,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)($r),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)(Ai,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(se){if(se.name){const{firstChange:Ne,previousValue:rt}=se.name;if(Ne)return;this.isTrackedInParentContexts(rt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(rt)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(se){return this.parentContexts.getContext(se)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const se=this.parentContexts.getContext(this.name);se?.route&&(se.attachRef?this.attach(se.attachRef,se.route):this.activateWith(se.route,se.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const se=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(se.instance),se}attach(se,Ne){this.activated=se,this._activatedRoute=Ne,this.location.insert(se.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(se.instance)}deactivate(){if(this.activated){const se=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(se)}}activateWith(se,Ne){if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=se;const rt=this.location,xt=se.snapshot.component,an=this.parentContexts.getOrCreateContext(this.name).children,Ln=new li(se,an,rt.injector);this.activated=rt.createComponent(xt,{index:rt.length,injector:Ln,environmentInjector:Ne??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(Ne){return new(Ne||be)};static#t=this.\u0275dir=c.lG2({type:be,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]})}return be})();class li{constructor(Fe,se,Ne){this.route=Fe,this.childContexts=se,this.parent=Ne}get(Fe,se){return Fe===tr?this.route:Fe===$r?this.childContexts:this.parent.get(Fe,se)}}const Ai=new c.OlP("");let gr=(()=>{class be{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(se){this.unsubscribeFromRouteData(se),this.subscribeToRouteData(se)}unsubscribeFromRouteData(se){this.outletDataSubscriptions.get(se)?.unsubscribe(),this.outletDataSubscriptions.delete(se)}subscribeToRouteData(se){const{activatedRoute:Ne}=se,rt=(0,F.a)([Ne.queryParams,Ne.params,Ne.data]).pipe((0,w.w)(([Mt,xt,an],Ln)=>(an={...Mt,...xt,...an},0===Ln?(0,O.of)(an):Promise.resolve(an)))).subscribe(Mt=>{if(!se.isActivated||!se.activatedComponentRef||se.activatedRoute!==Ne||null===Ne.component)return void this.unsubscribeFromRouteData(se);const xt=(0,c.qFp)(Ne.component);if(xt)for(const{templateName:an}of xt.inputs)se.activatedComponentRef.setInput(an,Mt[an]);else this.unsubscribeFromRouteData(se)});this.outletDataSubscriptions.set(se,rt)}static#e=this.\u0275fac=function(Ne){return new(Ne||be)};static#t=this.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac})}return be})();function fr(be,Fe,se){if(se&&be.shouldReuseRoute(Fe.value,se.value.snapshot)){const Ne=se.value;Ne._futureSnapshot=Fe.value;const rt=function Ma(be,Fe,se){return Fe.children.map(Ne=>{for(const rt of se.children)if(be.shouldReuseRoute(Ne.value,rt.value.snapshot))return fr(be,Ne,rt);return fr(be,Ne)})}(be,Fe,se);return new si(Ne,rt)}{if(be.shouldAttach(Fe.value)){const Mt=be.retrieve(Fe.value);if(null!==Mt){const xt=Mt.route;return xt.value._futureSnapshot=Fe.value,xt.children=Fe.children.map(an=>fr(be,an)),xt}}const Ne=function qr(be){return new tr(new b.X(be.url),new b.X(be.params),new b.X(be.queryParams),new b.X(be.fragment),new b.X(be.data),be.outlet,be.component,be)}(Fe.value),rt=Fe.children.map(Mt=>fr(be,Mt));return new si(Ne,rt)}}const Pr="ngNavigationCancelingError";function to(be,Fe){const{redirectTo:se,navigationBehaviorOptions:Ne}=In(Fe)?{redirectTo:Fe,navigationBehaviorOptions:void 0}:Fe,rt=_o(!1,0,Fe);return rt.url=se,rt.navigationBehaviorOptions=Ne,rt}function _o(be,Fe,se){const Ne=new Error("NavigationCancelingError: "+(be||""));return Ne[Pr]=!0,Ne.cancellationCode=Fe,se&&(Ne.url=se),Ne}function Ei(be){return Ha(be)&&In(be.url)}function Ha(be){return be&&be[Pr]}let ca=(()=>{class be{static#e=this.\u0275fac=function(Ne){return new(Ne||be)};static#t=this.\u0275cmp=c.Xpm({type:be,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(Ne,rt){1&Ne&&c._UZ(0,"router-outlet")},dependencies:[oi],encapsulation:2})}return be})();function hr(be){const Fe=be.children&&be.children.map(hr),se=Fe?{...be,children:Fe}:{...be};return!se.component&&!se.loadComponent&&(Fe||se.loadChildren)&&se.outlet&&se.outlet!==ze&&(se.component=ca),se}function lr(be){return be.outlet||ze}function Gi(be){if(!be)return null;if(be.routeConfig?._injector)return be.routeConfig._injector;for(let Fe=be.parent;Fe;Fe=Fe.parent){const se=Fe.routeConfig;if(se?._loadedInjector)return se._loadedInjector;if(se?._injector)return se._injector}return null}class Fo{constructor(Fe,se,Ne,rt,Mt){this.routeReuseStrategy=Fe,this.futureState=se,this.currState=Ne,this.forwardEvent=rt,this.inputBindingEnabled=Mt}activate(Fe){const se=this.futureState._root,Ne=this.currState?this.currState._root:null;this.deactivateChildRoutes(se,Ne,Fe),ei(this.futureState.root),this.activateChildRoutes(se,Ne,Fe)}deactivateChildRoutes(Fe,se,Ne){const rt=Kn(se);Fe.children.forEach(Mt=>{const xt=Mt.value.outlet;this.deactivateRoutes(Mt,rt[xt],Ne),delete rt[xt]}),Object.values(rt).forEach(Mt=>{this.deactivateRouteAndItsChildren(Mt,Ne)})}deactivateRoutes(Fe,se,Ne){const rt=Fe.value,Mt=se?se.value:null;if(rt===Mt)if(rt.component){const xt=Ne.getContext(rt.outlet);xt&&this.deactivateChildRoutes(Fe,se,xt.children)}else this.deactivateChildRoutes(Fe,se,Ne);else Mt&&this.deactivateRouteAndItsChildren(se,Ne)}deactivateRouteAndItsChildren(Fe,se){Fe.value.component&&this.routeReuseStrategy.shouldDetach(Fe.value.snapshot)?this.detachAndStoreRouteSubtree(Fe,se):this.deactivateRouteAndOutlet(Fe,se)}detachAndStoreRouteSubtree(Fe,se){const Ne=se.getContext(Fe.value.outlet),rt=Ne&&Fe.value.component?Ne.children:se,Mt=Kn(Fe);for(const xt of Object.keys(Mt))this.deactivateRouteAndItsChildren(Mt[xt],rt);if(Ne&&Ne.outlet){const xt=Ne.outlet.detach(),an=Ne.children.onOutletDeactivated();this.routeReuseStrategy.store(Fe.value.snapshot,{componentRef:xt,route:Fe,contexts:an})}}deactivateRouteAndOutlet(Fe,se){const Ne=se.getContext(Fe.value.outlet),rt=Ne&&Fe.value.component?Ne.children:se,Mt=Kn(Fe);for(const xt of Object.keys(Mt))this.deactivateRouteAndItsChildren(Mt[xt],rt);Ne&&(Ne.outlet&&(Ne.outlet.deactivate(),Ne.children.onOutletDeactivated()),Ne.attachRef=null,Ne.route=null)}activateChildRoutes(Fe,se,Ne){const rt=Kn(se);Fe.children.forEach(Mt=>{this.activateRoutes(Mt,rt[Mt.value.outlet],Ne),this.forwardEvent(new mr(Mt.value.snapshot))}),Fe.children.length&&this.forwardEvent(new di(Fe.value.snapshot))}activateRoutes(Fe,se,Ne){const rt=Fe.value,Mt=se?se.value:null;if(ei(rt),rt===Mt)if(rt.component){const xt=Ne.getOrCreateContext(rt.outlet);this.activateChildRoutes(Fe,se,xt.children)}else this.activateChildRoutes(Fe,se,Ne);else if(rt.component){const xt=Ne.getOrCreateContext(rt.outlet);if(this.routeReuseStrategy.shouldAttach(rt.snapshot)){const an=this.routeReuseStrategy.retrieve(rt.snapshot);this.routeReuseStrategy.store(rt.snapshot,null),xt.children.onOutletReAttached(an.contexts),xt.attachRef=an.componentRef,xt.route=an.route.value,xt.outlet&&xt.outlet.attach(an.componentRef,an.route.value),ei(an.route.value),this.activateChildRoutes(Fe,null,xt.children)}else{const an=Gi(rt.snapshot);xt.attachRef=null,xt.route=rt,xt.injector=an,xt.outlet&&xt.outlet.activateWith(rt,xt.injector),this.activateChildRoutes(Fe,null,xt.children)}}else this.activateChildRoutes(Fe,null,Ne)}}class Bo{constructor(Fe){this.path=Fe,this.route=this.path[this.path.length-1]}}class Jo{constructor(Fe,se){this.component=Fe,this.route=se}}function Ka(be,Fe,se){const Ne=be._root;return jo(Ne,Fe?Fe._root:null,se,[Ne.value])}function Uo(be,Fe){const se=Symbol(),Ne=Fe.get(be,se);return Ne===se?"function"!=typeof be||(0,c.Z0I)(be)?Fe.get(be):be:Ne}function jo(be,Fe,se,Ne,rt={canDeactivateChecks:[],canActivateChecks:[]}){const Mt=Kn(Fe);return be.children.forEach(xt=>{(function Wa(be,Fe,se,Ne,rt={canDeactivateChecks:[],canActivateChecks:[]}){const Mt=be.value,xt=Fe?Fe.value:null,an=se?se.getContext(be.value.outlet):null;if(xt&&Mt.routeConfig===xt.routeConfig){const Ln=function ll(be,Fe,se){if("function"==typeof se)return se(be,Fe);switch(se){case"pathParamsChange":return!ct(be.url,Fe.url);case"pathParamsOrQueryParamsChange":return!ct(be.url,Fe.url)||!he(be.queryParams,Fe.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jn(be,Fe)||!he(be.queryParams,Fe.queryParams);default:return!Jn(be,Fe)}}(xt,Mt,Mt.routeConfig.runGuardsAndResolvers);Ln?rt.canActivateChecks.push(new Bo(Ne)):(Mt.data=xt.data,Mt._resolvedData=xt._resolvedData),jo(be,Fe,Mt.component?an?an.children:null:se,Ne,rt),Ln&&an&&an.outlet&&an.outlet.isActivated&&rt.canDeactivateChecks.push(new Jo(an.outlet.component,xt))}else xt&&da(Fe,an,rt),rt.canActivateChecks.push(new Bo(Ne)),jo(be,null,Mt.component?an?an.children:null:se,Ne,rt)})(xt,Mt[xt.value.outlet],se,Ne.concat([xt.value]),rt),delete Mt[xt.value.outlet]}),Object.entries(Mt).forEach(([xt,an])=>da(an,se.getContext(xt),rt)),rt}function da(be,Fe,se){const Ne=Kn(be),rt=be.value;Object.entries(Ne).forEach(([Mt,xt])=>{da(xt,rt.component?Fe?Fe.children.getContext(Mt):null:Fe,se)}),se.canDeactivateChecks.push(new Jo(rt.component&&Fe&&Fe.outlet&&Fe.outlet.isActivated?Fe.outlet.component:null,rt))}function Vo(be){return"function"==typeof be}function Oi(be){return be instanceof D||"EmptyError"===be?.name}const Jt=Symbol("INITIAL_VALUE");function We(){return(0,w.w)(be=>(0,F.a)(be.map(Fe=>Fe.pipe((0,T.q)(1),(0,N.O)(Jt)))).pipe((0,C.U)(Fe=>{for(const se of Fe)if(!0!==se){if(se===Jt)return Jt;if(!1===se||se instanceof Be)return se}return!0}),(0,S.h)(Fe=>Fe!==Jt),(0,T.q)(1)))}function ir(be){return(0,g.z)((0,te.b)(Fe=>{if(In(Fe))throw to(0,Fe)}),(0,C.U)(Fe=>!0===Fe))}class Zi{constructor(Fe){this.segmentGroup=Fe||null}}class Qo{constructor(Fe){this.urlTree=Fe}}function Xo(be){return U(new Zi(be))}function Ns(be){return U(new Qo(be))}class us{constructor(Fe,se){this.urlSerializer=Fe,this.urlTree=se}noMatchError(Fe){return new c.vHH(4002,!1)}lineralizeSegments(Fe,se){let Ne=[],rt=se.root;for(;;){if(Ne=Ne.concat(rt.segments),0===rt.numberOfChildren)return(0,O.of)(Ne);if(rt.numberOfChildren>1||!rt.children[ze])return U(new c.vHH(4e3,!1));rt=rt.children[ze]}}applyRedirectCommands(Fe,se,Ne){return this.applyRedirectCreateUrlTree(se,this.urlSerializer.parse(se),Fe,Ne)}applyRedirectCreateUrlTree(Fe,se,Ne,rt){const Mt=this.createSegmentGroup(Fe,se.root,Ne,rt);return new Be(Mt,this.createQueryParams(se.queryParams,this.urlTree.queryParams),se.fragment)}createQueryParams(Fe,se){const Ne={};return Object.entries(Fe).forEach(([rt,Mt])=>{if("string"==typeof Mt&&Mt.startsWith(":")){const an=Mt.substring(1);Ne[rt]=se[an]}else Ne[rt]=Mt}),Ne}createSegmentGroup(Fe,se,Ne,rt){const Mt=this.createSegments(Fe,se.segments,Ne,rt);let xt={};return Object.entries(se.children).forEach(([an,Ln])=>{xt[an]=this.createSegmentGroup(Fe,Ln,Ne,rt)}),new Ze(Mt,xt)}createSegments(Fe,se,Ne,rt){return se.map(Mt=>Mt.path.startsWith(":")?this.findPosParam(Fe,Mt,rt):this.findOrReturn(Mt,Ne))}findPosParam(Fe,se,Ne){const rt=Ne[se.path.substring(1)];if(!rt)throw new c.vHH(4001,!1);return rt}findOrReturn(Fe,se){let Ne=0;for(const rt of se){if(rt.path===Fe.path)return se.splice(Ne),rt;Ne++}return Fe}}const dl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fs(be,Fe,se,Ne,rt){const Mt=Ia(be,Fe,se);return Mt.matched?(Ne=function Ya(be,Fe){return be.providers&&!be._injector&&(be._injector=(0,c.MMx)(be.providers,Fe,`Route: ${be.path}`)),be._injector??Fe}(Fe,Ne),function yo(be,Fe,se,Ne){const rt=Fe.canMatch;if(!rt||0===rt.length)return(0,O.of)(!0);const Mt=rt.map(xt=>{const an=Uo(xt,be);return W(function vo(be){return be&&Vo(be.canMatch)}(an)?an.canMatch(Fe,se):be.runInContext(()=>an(Fe,se)))});return(0,O.of)(Mt).pipe(We(),ir())}(Ne,Fe,se).pipe((0,C.U)(xt=>!0===xt?Mt:{...dl}))):(0,O.of)(Mt)}function Ia(be,Fe,se){if(""===Fe.path)return"full"===Fe.pathMatch&&(be.hasChildren()||se.length>0)?{...dl}:{matched:!0,consumedSegments:[],remainingSegments:se,parameters:{},positionalParamSegments:{}};const rt=(Fe.matcher||K)(se,be,Fe);if(!rt)return{...dl};const Mt={};Object.entries(rt.posParams??{}).forEach(([an,Ln])=>{Mt[an]=Ln.path});const xt=rt.consumed.length>0?{...Mt,...rt.consumed[rt.consumed.length-1].parameters}:Mt;return{matched:!0,consumedSegments:rt.consumed,remainingSegments:se.slice(rt.consumed.length),parameters:xt,positionalParamSegments:rt.posParams??{}}}function ul(be,Fe,se,Ne){return se.length>0&&function hs(be,Fe,se){return se.some(Ne=>ms(be,Fe,Ne)&&lr(Ne)!==ze)}(be,se,Ne)?{segmentGroup:new Ze(Fe,Ud(Ne,new Ze(se,be.children))),slicedSegments:[]}:0===se.length&&function yc(be,Fe,se){return se.some(Ne=>ms(be,Fe,Ne))}(be,se,Ne)?{segmentGroup:new Ze(be.segments,Ls(be,0,se,Ne,be.children)),slicedSegments:se}:{segmentGroup:new Ze(be.segments,be.children),slicedSegments:se}}function Ls(be,Fe,se,Ne,rt){const Mt={};for(const xt of Ne)if(ms(be,se,xt)&&!rt[lr(xt)]){const an=new Ze([],{});Mt[lr(xt)]=an}return{...rt,...Mt}}function Ud(be,Fe){const se={};se[ze]=Fe;for(const Ne of be)if(""===Ne.path&&lr(Ne)!==ze){const rt=new Ze([],{});se[lr(Ne)]=rt}return se}function ms(be,Fe,se){return(!(be.hasChildren()||Fe.length>0)||"full"!==se.pathMatch)&&""===se.path}class ps{constructor(Fe,se,Ne,rt,Mt,xt,an){this.injector=Fe,this.configLoader=se,this.rootComponentType=Ne,this.config=rt,this.urlTree=Mt,this.paramsInheritanceStrategy=xt,this.urlSerializer=an,this.allowRedirects=!0,this.applyRedirects=new us(this.urlSerializer,this.urlTree)}noMatchError(Fe){return new c.vHH(4002,!1)}recognize(){const Fe=ul(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,Fe,ze).pipe(Se(se=>{if(se instanceof Qo)return this.allowRedirects=!1,this.urlTree=se.urlTree,this.match(se.urlTree);throw se instanceof Zi?this.noMatchError(se):se}),(0,C.U)(se=>{const Ne=new jt([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ze,this.rootComponentType,null,{}),rt=new si(Ne,se),Mt=new hn("",rt),xt=function kn(be,Fe,se=null,Ne=null){return ui(qn(be),Fe,se,Ne)}(Ne,[],this.urlTree.queryParams,this.urlTree.fragment);return xt.queryParams=this.urlTree.queryParams,Mt.url=this.urlSerializer.serialize(xt),this.inheritParamsAndData(Mt._root),{state:Mt,tree:xt}}))}match(Fe){return this.processSegmentGroup(this.injector,this.config,Fe.root,ze).pipe(Se(Ne=>{throw Ne instanceof Zi?this.noMatchError(Ne):Ne}))}inheritParamsAndData(Fe){const se=Fe.value,Ne=nr(se,this.paramsInheritanceStrategy);se.params=Object.freeze(Ne.params),se.data=Object.freeze(Ne.data),Fe.children.forEach(rt=>this.inheritParamsAndData(rt))}processSegmentGroup(Fe,se,Ne,rt){return 0===Ne.segments.length&&Ne.hasChildren()?this.processChildren(Fe,se,Ne):this.processSegment(Fe,se,Ne,Ne.segments,rt,!0)}processChildren(Fe,se,Ne){const rt=[];for(const Mt of Object.keys(Ne.children))"primary"===Mt?rt.unshift(Mt):rt.push(Mt);return(0,E.D)(rt).pipe((0,me.b)(Mt=>{const xt=Ne.children[Mt],an=function io(be,Fe){const se=be.filter(Ne=>lr(Ne)===Fe);return se.push(...be.filter(Ne=>lr(Ne)!==Fe)),se}(se,Mt);return this.processSegmentGroup(Fe,an,xt,Mt)}),function le(be,Fe){return(0,Y.e)(function Ie(be,Fe,se,Ne,rt){return(Mt,xt)=>{let an=se,Ln=Fe,ti=0;Mt.subscribe((0,re.x)(xt,ni=>{const Hi=ti++;Ln=an?be(Ln,ni,Hi):(an=!0,ni),Ne&&xt.next(Ln)},rt&&(()=>{an&&xt.next(Ln),xt.complete()})))}}(be,Fe,arguments.length>=2,!0))}((Mt,xt)=>(Mt.push(...xt),Mt)),ae(null),function we(be,Fe){const se=arguments.length>=2;return Ne=>Ne.pipe(be?(0,S.h)((rt,Mt)=>be(rt,Mt,Ne)):oe.y,Me(1),se?ae(Fe):Re(()=>new D))}(),(0,B.z)(Mt=>{if(null===Mt)return Xo(Ne);const xt=Tc(Mt);return function ml(be){be.sort((Fe,se)=>Fe.value.outlet===ze?-1:se.value.outlet===ze?1:Fe.value.outlet.localeCompare(se.value.outlet))}(xt),(0,O.of)(xt)}))}processSegment(Fe,se,Ne,rt,Mt,xt){return(0,E.D)(se).pipe((0,me.b)(an=>this.processSegmentAgainstRoute(an._injector??Fe,se,an,Ne,rt,Mt,xt).pipe(Se(Ln=>{if(Ln instanceof Zi)return(0,O.of)(null);throw Ln}))),H(an=>!!an),Se(an=>{if(Oi(an))return function bc(be,Fe,se){return 0===Fe.length&&!be.children[se]}(Ne,rt,Mt)?(0,O.of)([]):Xo(Ne);throw an}))}processSegmentAgainstRoute(Fe,se,Ne,rt,Mt,xt,an){return function fl(be,Fe,se,Ne){return!!(lr(be)===Ne||Ne!==ze&&ms(Fe,se,be))&&("**"===be.path||Ia(Fe,be,se).matched)}(Ne,rt,Mt,xt)?void 0===Ne.redirectTo?this.matchSegmentAgainstRoute(Fe,rt,Ne,Mt,xt,an):an&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(Fe,rt,se,Ne,Mt,xt):Xo(rt):Xo(rt)}expandSegmentAgainstRouteUsingRedirect(Fe,se,Ne,rt,Mt,xt){return"**"===rt.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(Fe,Ne,rt,xt):this.expandRegularSegmentAgainstRouteUsingRedirect(Fe,se,Ne,rt,Mt,xt)}expandWildCardWithParamsAgainstRouteUsingRedirect(Fe,se,Ne,rt){const Mt=this.applyRedirects.applyRedirectCommands([],Ne.redirectTo,{});return Ne.redirectTo.startsWith("/")?Ns(Mt):this.applyRedirects.lineralizeSegments(Ne,Mt).pipe((0,B.z)(xt=>{const an=new Ze(xt,{});return this.processSegment(Fe,se,an,xt,rt,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(Fe,se,Ne,rt,Mt,xt){const{matched:an,consumedSegments:Ln,remainingSegments:ti,positionalParamSegments:ni}=Ia(se,rt,Mt);if(!an)return Xo(se);const Hi=this.applyRedirects.applyRedirectCommands(Ln,rt.redirectTo,ni);return rt.redirectTo.startsWith("/")?Ns(Hi):this.applyRedirects.lineralizeSegments(rt,Hi).pipe((0,B.z)(lo=>this.processSegment(Fe,Ne,se,lo.concat(ti),xt,!1)))}matchSegmentAgainstRoute(Fe,se,Ne,rt,Mt,xt){let an;if("**"===Ne.path){const Ln=rt.length>0?Z(rt).parameters:{},ti=new jt(rt,Ln,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pl(Ne),lr(Ne),Ne.component??Ne._loadedComponent??null,Ne,qa(Ne));an=(0,O.of)({snapshot:ti,consumedSegments:[],remainingSegments:[]}),se.children={}}else an=fs(se,Ne,rt,Fe).pipe((0,C.U)(({matched:Ln,consumedSegments:ti,remainingSegments:ni,parameters:Hi})=>Ln?{snapshot:new jt(ti,Hi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pl(Ne),lr(Ne),Ne.component??Ne._loadedComponent??null,Ne,qa(Ne)),consumedSegments:ti,remainingSegments:ni}:null));return an.pipe((0,w.w)(Ln=>null===Ln?Xo(se):this.getChildConfig(Fe=Ne._injector??Fe,Ne,rt).pipe((0,w.w)(({routes:ti})=>{const ni=Ne._loadedInjector??Fe,{snapshot:Hi,consumedSegments:lo,remainingSegments:bl}=Ln,{segmentGroup:Fs,slicedSegments:na}=ul(se,lo,bl,ti);if(0===na.length&&Fs.hasChildren())return this.processChildren(ni,ti,Fs).pipe((0,C.U)(El=>null===El?null:[new si(Hi,El)]));if(0===ti.length&&0===na.length)return(0,O.of)([new si(Hi,[])]);const Xa=lr(Ne)===Mt;return this.processSegment(ni,ti,Fs,na,Xa?ze:Mt,!0).pipe((0,C.U)(El=>[new si(Hi,El)]))}))))}getChildConfig(Fe,se,Ne){return se.children?(0,O.of)({routes:se.children,injector:Fe}):se.loadChildren?void 0!==se._loadedRoutes?(0,O.of)({routes:se._loadedRoutes,injector:se._loadedInjector}):function Go(be,Fe,se,Ne){const rt=Fe.canLoad;if(void 0===rt||0===rt.length)return(0,O.of)(!0);const Mt=rt.map(xt=>{const an=Uo(xt,be);return W(function cl(be){return be&&Vo(be.canLoad)}(an)?an.canLoad(Fe,se):be.runInContext(()=>an(Fe,se)))});return(0,O.of)(Mt).pipe(We(),ir())}(Fe,se,Ne).pipe((0,B.z)(rt=>rt?this.configLoader.loadChildren(Fe,se).pipe((0,te.b)(Mt=>{se._loadedRoutes=Mt.routes,se._loadedInjector=Mt.injector})):function $a(be){return U(_o(!1,3))}())):(0,O.of)({routes:[],injector:Fe})}}function Ec(be){const Fe=be.value.routeConfig;return Fe&&""===Fe.path}function Tc(be){const Fe=[],se=new Set;for(const Ne of be){if(!Ec(Ne)){Fe.push(Ne);continue}const rt=Fe.find(Mt=>Ne.value.routeConfig===Mt.value.routeConfig);void 0!==rt?(rt.children.push(...Ne.children),se.add(rt)):Fe.push(Ne)}for(const Ne of se){const rt=Tc(Ne.children);Fe.push(new si(Ne.value,rt))}return Fe.filter(Ne=>!se.has(Ne))}function pl(be){return be.data||{}}function qa(be){return be.resolve||{}}function Ja(be){return"string"==typeof be.title||null===be.title}function De(be){return(0,w.w)(Fe=>{const se=be(Fe);return se?(0,E.D)(se).pipe((0,C.U)(()=>Fe)):(0,O.of)(Fe)})}const gt=new c.OlP("ROUTES");let Je=(()=>{class be{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(se){if(this.componentLoaders.get(se))return this.componentLoaders.get(se);if(se._loadedComponent)return(0,O.of)(se._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(se);const Ne=W(se.loadComponent()).pipe((0,C.U)(Ut),(0,te.b)(Mt=>{this.onLoadEndListener&&this.onLoadEndListener(se),se._loadedComponent=Mt}),(0,Le.x)(()=>{this.componentLoaders.delete(se)})),rt=new V.c(Ne,()=>new k.x).pipe((0,Pe.x)());return this.componentLoaders.set(se,rt),rt}loadChildren(se,Ne){if(this.childrenLoaders.get(Ne))return this.childrenLoaders.get(Ne);if(Ne._loadedRoutes)return(0,O.of)({routes:Ne._loadedRoutes,injector:Ne._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Ne);const Mt=this.loadModuleFactoryOrRoutes(Ne.loadChildren).pipe((0,C.U)(an=>{this.onLoadEndListener&&this.onLoadEndListener(Ne);let Ln,ti;return Array.isArray(an)?ti=an:(Ln=an.create(se).injector,ti=Ln.get(gt,[],c.XFs.Self|c.XFs.Optional).flat()),{routes:ti.map(hr),injector:Ln}}),(0,Le.x)(()=>{this.childrenLoaders.delete(Ne)})),xt=new V.c(Mt,()=>new k.x).pipe((0,Pe.x)());return this.childrenLoaders.set(Ne,xt),xt}loadModuleFactoryOrRoutes(se){return W(se()).pipe((0,C.U)(Ut),(0,B.z)(Ne=>Ne instanceof c.YKP||Array.isArray(Ne)?(0,O.of)(Ne):(0,E.D)(this.compiler.compileModuleAsync(Ne))))}static#e=this.\u0275fac=function(Ne){return new(Ne||be)};static#t=this.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();function Ut(be){return function pt(be){return be&&"object"==typeof be&&"default"in be}(be)?be.default:be}let fn=(()=>{class be{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new k.x,this.configLoader=(0,c.f3M)(Je),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(_t),this.rootContexts=(0,c.f3M)($r),this.inputBindingEnabled=null!==(0,c.f3M)(Ai,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,O.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=rt=>this.events.next(new Ci(rt)),this.configLoader.onLoadStartListener=rt=>this.events.next(new Tr(rt))}complete(){this.transitions?.complete()}handleNavigationRequest(se){const Ne=++this.navigationId;this.transitions?.next({...this.transitions.value,...se,id:Ne})}setupNavigations(se){return this.transitions=new b.X({id:0,currentUrlTree:se.currentUrlTree,currentRawUrl:se.currentUrlTree,extractedUrl:se.urlHandlingStrategy.extract(se.currentUrlTree),urlAfterRedirects:se.urlHandlingStrategy.extract(se.currentUrlTree),rawUrl:se.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:rn,restoredState:null,currentSnapshot:se.routerState.snapshot,targetSnapshot:null,currentRouterState:se.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,S.h)(Ne=>0!==Ne.id),(0,C.U)(Ne=>({...Ne,extractedUrl:se.urlHandlingStrategy.extract(Ne.rawUrl)})),(0,w.w)(Ne=>{let rt=!1,Mt=!1;return(0,O.of)(Ne).pipe((0,te.b)(xt=>{this.currentNavigation={id:xt.id,initialUrl:xt.rawUrl,extractedUrl:xt.extractedUrl,trigger:xt.source,extras:xt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,w.w)(xt=>{const an=se.browserUrlTree.toString(),Ln=!se.navigated||xt.extractedUrl.toString()!==an||an!==se.currentUrlTree.toString();if(!Ln&&"reload"!==(xt.extras.onSameUrlNavigation??se.onSameUrlNavigation)){const ni="";return this.events.next(new Kt(xt.id,se.serializeUrl(Ne.rawUrl),ni,0)),se.rawUrlTree=xt.rawUrl,xt.resolve(null),P.E}if(se.urlHandlingStrategy.shouldProcessUrl(xt.rawUrl))return Dn(xt.source)&&(se.browserUrlTree=xt.extractedUrl),(0,O.of)(xt).pipe((0,w.w)(ni=>{const Hi=this.transitions?.getValue();return this.events.next(new lt(ni.id,this.urlSerializer.serialize(ni.extractedUrl),ni.source,ni.restoredState)),Hi!==this.transitions?.getValue()?P.E:Promise.resolve(ni)}),function gl(be,Fe,se,Ne,rt,Mt){return(0,B.z)(xt=>function hl(be,Fe,se,Ne,rt,Mt,xt="emptyOnly"){return new ps(be,Fe,se,Ne,rt,xt,Mt).recognize()}(be,Fe,se,Ne,xt.extractedUrl,rt,Mt).pipe((0,C.U)(({state:an,tree:Ln})=>({...xt,targetSnapshot:an,urlAfterRedirects:Ln}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,se.config,this.urlSerializer,se.paramsInheritanceStrategy),(0,te.b)(ni=>{if(Ne.targetSnapshot=ni.targetSnapshot,Ne.urlAfterRedirects=ni.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ni.urlAfterRedirects},"eager"===se.urlUpdateStrategy){if(!ni.extras.skipLocationChange){const lo=se.urlHandlingStrategy.merge(ni.urlAfterRedirects,ni.rawUrl);se.setBrowserUrl(lo,ni)}se.browserUrlTree=ni.urlAfterRedirects}const Hi=new Fi(ni.id,this.urlSerializer.serialize(ni.extractedUrl),this.urlSerializer.serialize(ni.urlAfterRedirects),ni.targetSnapshot);this.events.next(Hi)}));if(Ln&&se.urlHandlingStrategy.shouldProcessUrl(se.rawUrlTree)){const{id:ni,extractedUrl:Hi,source:lo,restoredState:bl,extras:Fs}=xt,na=new lt(ni,this.urlSerializer.serialize(Hi),lo,bl);this.events.next(na);const Xa=Ri(0,this.rootComponentType).snapshot;return Ne={...xt,targetSnapshot:Xa,urlAfterRedirects:Hi,extras:{...Fs,skipLocationChange:!1,replaceUrl:!1}},(0,O.of)(Ne)}{const ni="";return this.events.next(new Kt(xt.id,se.serializeUrl(Ne.extractedUrl),ni,1)),se.rawUrlTree=xt.rawUrl,xt.resolve(null),P.E}}),(0,te.b)(xt=>{const an=new sr(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot);this.events.next(an)}),(0,C.U)(xt=>Ne={...xt,guards:Ka(xt.targetSnapshot,xt.currentSnapshot,this.rootContexts)}),function Xe(be,Fe){return(0,B.z)(se=>{const{targetSnapshot:Ne,currentSnapshot:rt,guards:{canActivateChecks:Mt,canDeactivateChecks:xt}}=se;return 0===xt.length&&0===Mt.length?(0,O.of)({...se,guardsResult:!0}):function je(be,Fe,se,Ne){return(0,E.D)(be).pipe((0,B.z)(rt=>function Br(be,Fe,se,Ne,rt){const Mt=Fe&&Fe.routeConfig?Fe.routeConfig.canDeactivate:null;if(!Mt||0===Mt.length)return(0,O.of)(!0);const xt=Mt.map(an=>{const Ln=Gi(Fe)??rt,ti=Uo(an,Ln);return W(function Rr(be){return be&&Vo(be.canDeactivate)}(ti)?ti.canDeactivate(be,Fe,se,Ne):Ln.runInContext(()=>ti(be,Fe,se,Ne))).pipe(H())});return(0,O.of)(xt).pipe(We())}(rt.component,rt.route,se,Fe,Ne)),H(rt=>!0!==rt,!0))}(xt,Ne,rt,be).pipe((0,B.z)(an=>an&&function wa(be){return"boolean"==typeof be}(an)?function yt(be,Fe,se,Ne){return(0,E.D)(Fe).pipe((0,me.b)(rt=>(0,m.z)(function Wn(be,Fe){return null!==be&&Fe&&Fe(new Lr(be)),(0,O.of)(!0)}(rt.route.parent,Ne),function Wt(be,Fe){return null!==be&&Fe&&Fe(new er(be)),(0,O.of)(!0)}(rt.route,Ne),function Kr(be,Fe,se){const Ne=Fe[Fe.length-1],Mt=Fe.slice(0,Fe.length-1).reverse().map(xt=>function Aa(be){const Fe=be.routeConfig?be.routeConfig.canActivateChild:null;return Fe&&0!==Fe.length?{node:be,guards:Fe}:null}(xt)).filter(xt=>null!==xt).map(xt=>(0,h.P)(()=>{const an=xt.guards.map(Ln=>{const ti=Gi(xt.node)??se,ni=Uo(Ln,ti);return W(function ua(be){return be&&Vo(be.canActivateChild)}(ni)?ni.canActivateChild(Ne,be):ti.runInContext(()=>ni(Ne,be))).pipe(H())});return(0,O.of)(an).pipe(We())}));return(0,O.of)(Mt).pipe(We())}(be,rt.path,se),function fi(be,Fe,se){const Ne=Fe.routeConfig?Fe.routeConfig.canActivate:null;if(!Ne||0===Ne.length)return(0,O.of)(!0);const rt=Ne.map(Mt=>(0,h.P)(()=>{const xt=Gi(Fe)??se,an=Uo(Mt,xt);return W(function ds(be){return be&&Vo(be.canActivate)}(an)?an.canActivate(Fe,be):xt.runInContext(()=>an(Fe,be))).pipe(H())}));return(0,O.of)(rt).pipe(We())}(be,rt.route,se))),H(rt=>!0!==rt,!0))}(Ne,Mt,be,Fe):(0,O.of)(an)),(0,C.U)(an=>({...se,guardsResult:an})))})}(this.environmentInjector,xt=>this.events.next(xt)),(0,te.b)(xt=>{if(Ne.guardsResult=xt.guardsResult,In(xt.guardsResult))throw to(0,xt.guardsResult);const an=new Ti(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot,!!xt.guardsResult);this.events.next(an)}),(0,S.h)(xt=>!!xt.guardsResult||(se.restoreHistory(xt),this.cancelNavigationTransition(xt,"",3),!1)),De(xt=>{if(xt.guards.canActivateChecks.length)return(0,O.of)(xt).pipe((0,te.b)(an=>{const Ln=new Li(an.id,this.urlSerializer.serialize(an.extractedUrl),this.urlSerializer.serialize(an.urlAfterRedirects),an.targetSnapshot);this.events.next(Ln)}),(0,w.w)(an=>{let Ln=!1;return(0,O.of)(an).pipe(function _l(be,Fe){return(0,B.z)(se=>{const{targetSnapshot:Ne,guards:{canActivateChecks:rt}}=se;if(!rt.length)return(0,O.of)(se);let Mt=0;return(0,E.D)(rt).pipe((0,me.b)(xt=>function Ho(be,Fe,se,Ne){const rt=be.routeConfig,Mt=be._resolve;return void 0!==rt?.title&&!Ja(rt)&&(Mt[He]=rt.title),function Sc(be,Fe,se,Ne){const rt=function Cc(be){return[...Object.keys(be),...Object.getOwnPropertySymbols(be)]}(be);if(0===rt.length)return(0,O.of)({});const Mt={};return(0,E.D)(rt).pipe((0,B.z)(xt=>function or(be,Fe,se,Ne){const rt=Gi(Fe)??Ne,Mt=Uo(be,rt);return W(Mt.resolve?Mt.resolve(Fe,se):rt.runInContext(()=>Mt(Fe,se)))}(be[xt],Fe,se,Ne).pipe(H(),(0,te.b)(an=>{Mt[xt]=an}))),Me(1),(0,_e.h)(Mt),Se(xt=>Oi(xt)?P.E:U(xt)))}(Mt,be,Fe,Ne).pipe((0,C.U)(xt=>(be._resolvedData=xt,be.data=nr(be,se).resolve,rt&&Ja(rt)&&(be.data[He]=rt.title),null)))}(xt.route,Ne,be,Fe)),(0,te.b)(()=>Mt++),Me(1),(0,B.z)(xt=>Mt===rt.length?(0,O.of)(se):P.E))})}(se.paramsInheritanceStrategy,this.environmentInjector),(0,te.b)({next:()=>Ln=!0,complete:()=>{Ln||(se.restoreHistory(an),this.cancelNavigationTransition(an,"",2))}}))}),(0,te.b)(an=>{const Ln=new Cn(an.id,this.urlSerializer.serialize(an.extractedUrl),this.urlSerializer.serialize(an.urlAfterRedirects),an.targetSnapshot);this.events.next(Ln)}))}),De(xt=>{const an=Ln=>{const ti=[];Ln.routeConfig?.loadComponent&&!Ln.routeConfig._loadedComponent&&ti.push(this.configLoader.loadComponent(Ln.routeConfig).pipe((0,te.b)(ni=>{Ln.component=ni}),(0,C.U)(()=>{})));for(const ni of Ln.children)ti.push(...an(ni));return ti};return(0,F.a)(an(xt.targetSnapshot.root)).pipe(ae(),(0,T.q)(1))}),De(()=>this.afterPreactivation()),(0,C.U)(xt=>{const an=function xr(be,Fe,se){const Ne=fr(be,Fe._root,se?se._root:void 0);return new ai(Ne,Fe)}(se.routeReuseStrategy,xt.targetSnapshot,xt.currentRouterState);return Ne={...xt,targetRouterState:an}}),(0,te.b)(xt=>{se.currentUrlTree=xt.urlAfterRedirects,se.rawUrlTree=se.urlHandlingStrategy.merge(xt.urlAfterRedirects,xt.rawUrl),se.routerState=xt.targetRouterState,"deferred"===se.urlUpdateStrategy&&(xt.extras.skipLocationChange||se.setBrowserUrl(se.rawUrlTree,xt),se.browserUrlTree=xt.urlAfterRedirects)}),((be,Fe,se,Ne)=>(0,C.U)(rt=>(new Fo(Fe,rt.targetRouterState,rt.currentRouterState,se,Ne).activate(be),rt)))(this.rootContexts,se.routeReuseStrategy,xt=>this.events.next(xt),this.inputBindingEnabled),(0,T.q)(1),(0,te.b)({next:xt=>{rt=!0,this.lastSuccessfulNavigation=this.currentNavigation,se.navigated=!0,this.events.next(new it(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(se.currentUrlTree))),se.titleStrategy?.updateTitle(xt.targetRouterState.snapshot),xt.resolve(!0)},complete:()=>{rt=!0}}),(0,Le.x)(()=>{rt||Mt||this.cancelNavigationTransition(Ne,"",1),this.currentNavigation?.id===Ne.id&&(this.currentNavigation=null)}),Se(xt=>{if(Mt=!0,Ha(xt)){Ei(xt)||(se.navigated=!0,se.restoreHistory(Ne,!0));const an=new At(Ne.id,this.urlSerializer.serialize(Ne.extractedUrl),xt.message,xt.cancellationCode);if(this.events.next(an),Ei(xt)){const Ln=se.urlHandlingStrategy.merge(xt.url,se.rawUrlTree),ti={skipLocationChange:Ne.extras.skipLocationChange,replaceUrl:"eager"===se.urlUpdateStrategy||Dn(Ne.source)};se.scheduleNavigation(Ln,rn,null,ti,{resolve:Ne.resolve,reject:Ne.reject,promise:Ne.promise})}else Ne.resolve(!1)}else{se.restoreHistory(Ne,!0);const an=new vn(Ne.id,this.urlSerializer.serialize(Ne.extractedUrl),xt,Ne.targetSnapshot??void 0);this.events.next(an);try{Ne.resolve(se.errorHandler(xt))}catch(Ln){Ne.reject(Ln)}}return P.E}))}))}cancelNavigationTransition(se,Ne,rt){const Mt=new At(se.id,this.urlSerializer.serialize(se.extractedUrl),Ne,rt);this.events.next(Mt),se.resolve(!1)}static#e=this.\u0275fac=function(Ne){return new(Ne||be)};static#t=this.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();function Dn(be){return be!==rn}let Xn=(()=>{class be{buildTitle(se){let Ne,rt=se.root;for(;void 0!==rt;)Ne=this.getResolvedTitleForRoute(rt)??Ne,rt=rt.children.find(Mt=>Mt.outlet===ze);return Ne}getResolvedTitleForRoute(se){return se.data[He]}static#e=this.\u0275fac=function(Ne){return new(Ne||be)};static#t=this.\u0275prov=c.Yz7({token:be,factory:function(){return(0,c.f3M)($i)},providedIn:"root"})}return be})(),$i=(()=>{class be extends Xn{constructor(se){super(),this.title=se}updateTitle(se){const Ne=this.buildTitle(se);void 0!==Ne&&this.title.setTitle(Ne)}static#e=this.\u0275fac=function(Ne){return new(Ne||be)(c.LFG(Ue.Dx))};static#t=this.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})(),Mi=(()=>{class be{static#e=this.\u0275fac=function(Ne){return new(Ne||be)};static#t=this.\u0275prov=c.Yz7({token:be,factory:function(){return(0,c.f3M)(Di)},providedIn:"root"})}return be})();class Ni{shouldDetach(Fe){return!1}store(Fe,se){}shouldAttach(Fe){return!1}retrieve(Fe){return null}shouldReuseRoute(Fe,se){return Fe.routeConfig===se.routeConfig}}let Di=(()=>{class be extends Ni{static#e=this.\u0275fac=function(){let se;return function(rt){return(se||(se=c.n5z(be)))(rt||be)}}();static#t=this.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();const ar=new c.OlP("",{providedIn:"root",factory:()=>({})});let Ui=(()=>{class be{static#e=this.\u0275fac=function(Ne){return new(Ne||be)};static#t=this.\u0275prov=c.Yz7({token:be,factory:function(){return(0,c.f3M)(Cr)},providedIn:"root"})}return be})(),Cr=(()=>{class be{shouldProcessUrl(se){return!0}extract(se){return se}merge(se,Ne){return se}static#e=this.\u0275fac=function(Ne){return new(Ne||be)};static#t=this.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();var oo=function(be){return be[be.COMPLETE=0]="COMPLETE",be[be.FAILED=1]="FAILED",be[be.REDIRECTING=2]="REDIRECTING",be}(oo||{});function ii(be,Fe){be.events.pipe((0,S.h)(se=>se instanceof it||se instanceof At||se instanceof vn||se instanceof Kt),(0,C.U)(se=>se instanceof it||se instanceof Kt?oo.COMPLETE:se instanceof At&&(0===se.code||1===se.code)?oo.REDIRECTING:oo.FAILED),(0,S.h)(se=>se!==oo.REDIRECTING),(0,T.q)(1)).subscribe(()=>{Fe()})}function fa(be){throw be}function Mo(be,Fe,se){return Fe.parse("/")}const ha={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ea={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mr=(()=>{class be{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(ar,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||fa,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Mo,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(Ui),this.routeReuseStrategy=(0,c.f3M)(Mi),this.titleStrategy=(0,c.f3M)(Xn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.f3M)(gt,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.f3M)(fn),this.urlSerializer=(0,c.f3M)(_t),this.location=(0,c.f3M)(R.Ye),this.componentInputBindingEnabled=!!(0,c.f3M)(Ai,{optional:!0}),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Be,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ri(0,null),this.navigationTransitions.setupNavigations(this).subscribe(se=>{this.lastSuccessfulId=se.id,this.currentPageId=this.browserPageId??0},se=>{this.console.warn(`Unhandled Navigation Error: ${se}`)})}resetRootComponentType(se){this.routerState.root.component=se,this.navigationTransitions.rootComponentType=se}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const se=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),rn,se)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(se=>{const Ne="popstate"===se.type?"popstate":"hashchange";"popstate"===Ne&&setTimeout(()=>{this.navigateToSyncWithBrowser(se.url,Ne,se.state)},0)}))}navigateToSyncWithBrowser(se,Ne,rt){const Mt={replaceUrl:!0},xt=rt?.navigationId?rt:null;if(rt){const Ln={...rt};delete Ln.navigationId,delete Ln.\u0275routerPageId,0!==Object.keys(Ln).length&&(Mt.state=Ln)}const an=this.parseUrl(se);this.scheduleNavigation(an,Ne,xt,Mt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(se){this.config=se.map(hr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(se,Ne={}){const{relativeTo:rt,queryParams:Mt,fragment:xt,queryParamsHandling:an,preserveFragment:Ln}=Ne,ti=Ln?this.currentUrlTree.fragment:xt;let Hi,ni=null;switch(an){case"merge":ni={...this.currentUrlTree.queryParams,...Mt};break;case"preserve":ni=this.currentUrlTree.queryParams;break;default:ni=Mt||null}null!==ni&&(ni=this.removeEmptyProps(ni));try{Hi=qn(rt?rt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof se[0]||!se[0].startsWith("/"))&&(se=[]),Hi=this.currentUrlTree.root}return ui(Hi,se,ni,ti??null)}navigateByUrl(se,Ne={skipLocationChange:!1}){const rt=In(se)?se:this.parseUrl(se),Mt=this.urlHandlingStrategy.merge(rt,this.rawUrlTree);return this.scheduleNavigation(Mt,rn,null,Ne)}navigate(se,Ne={skipLocationChange:!1}){return function Vd(be){for(let Fe=0;Fe<be.length;Fe++)if(null==be[Fe])throw new c.vHH(4008,!1)}(se),this.navigateByUrl(this.createUrlTree(se,Ne),Ne)}serializeUrl(se){return this.urlSerializer.serialize(se)}parseUrl(se){let Ne;try{Ne=this.urlSerializer.parse(se)}catch(rt){Ne=this.malformedUriErrorHandler(rt,this.urlSerializer,se)}return Ne}isActive(se,Ne){let rt;if(rt=!0===Ne?{...ha}:!1===Ne?{...ea}:Ne,In(se))return q(this.currentUrlTree,se,rt);const Mt=this.parseUrl(se);return q(this.currentUrlTree,Mt,rt)}removeEmptyProps(se){return Object.keys(se).reduce((Ne,rt)=>{const Mt=se[rt];return null!=Mt&&(Ne[rt]=Mt),Ne},{})}scheduleNavigation(se,Ne,rt,Mt,xt){if(this.disposed)return Promise.resolve(!1);let an,Ln,ti;xt?(an=xt.resolve,Ln=xt.reject,ti=xt.promise):ti=new Promise((Hi,lo)=>{an=Hi,Ln=lo});const ni=this.pendingTasks.add();return ii(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ni))}),this.navigationTransitions.handleNavigationRequest({source:Ne,restoredState:rt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:se,extras:Mt,resolve:an,reject:Ln,promise:ti,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ti.catch(Hi=>Promise.reject(Hi))}setBrowserUrl(se,Ne){const rt=this.urlSerializer.serialize(se);if(this.location.isCurrentPathEqualTo(rt)||Ne.extras.replaceUrl){const xt={...Ne.extras.state,...this.generateNgRouterState(Ne.id,this.browserPageId)};this.location.replaceState(rt,"",xt)}else{const Mt={...Ne.extras.state,...this.generateNgRouterState(Ne.id,(this.browserPageId??0)+1)};this.location.go(rt,"",Mt)}}restoreHistory(se,Ne=!1){if("computed"===this.canceledNavigationResolution){const Mt=this.currentPageId-(this.browserPageId??this.currentPageId);0!==Mt?this.location.historyGo(Mt):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Mt&&(this.resetState(se),this.browserUrlTree=se.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Ne&&this.resetState(se),this.resetUrlToCurrentUrlTree())}resetState(se){this.routerState=se.currentRouterState,this.currentUrlTree=se.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,se.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(se,Ne){return"computed"===this.canceledNavigationResolution?{navigationId:se,\u0275routerPageId:Ne}:{navigationId:se}}static#e=this.\u0275fac=function(Ne){return new(Ne||be)};static#t=this.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})(),ma=(()=>{class be{constructor(se,Ne,rt,Mt,xt,an){this.router=se,this.route=Ne,this.tabIndexAttribute=rt,this.renderer=Mt,this.el=xt,this.locationStrategy=an,this.href=null,this.commands=null,this.onChanges=new k.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ln=xt.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ln||"area"===Ln,this.isAnchorElement?this.subscription=se.events.subscribe(ti=>{ti instanceof it&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(se){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",se)}ngOnChanges(se){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(se){null!=se?(this.commands=Array.isArray(se)?se:[se],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(se,Ne,rt,Mt,xt){return!!(null===this.urlTree||this.isAnchorElement&&(0!==se||Ne||rt||Mt||xt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const se=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",se)}applyAttributeValue(se,Ne){const rt=this.renderer,Mt=this.el.nativeElement;null!==Ne?rt.setAttribute(Mt,se,Ne):rt.removeAttribute(Mt,se)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(Ne){return new(Ne||be)(c.Y36(Mr),c.Y36(tr),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(R.S$))};static#t=this.\u0275dir=c.lG2({type:be,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Ne,rt){1&Ne&&c.NdJ("click",function(xt){return rt.onClick(xt.button,xt.ctrlKey,xt.shiftKey,xt.altKey,xt.metaKey)}),2&Ne&&c.uIk("target",rt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",c.VuI],replaceUrl:["replaceUrl","replaceUrl",c.VuI],routerLink:"routerLink"},standalone:!0,features:[c.Xq5,c.TTD]})}return be})();class Gd{}let Nn=(()=>{class be{constructor(se,Ne,rt,Mt,xt){this.router=se,this.injector=rt,this.preloadingStrategy=Mt,this.loader=xt}setUpPreloading(){this.subscription=this.router.events.pipe((0,S.h)(se=>se instanceof it),(0,me.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(se,Ne){const rt=[];for(const Mt of Ne){Mt.providers&&!Mt._injector&&(Mt._injector=(0,c.MMx)(Mt.providers,se,`Route: ${Mt.path}`));const xt=Mt._injector??se,an=Mt._loadedInjector??xt;(Mt.loadChildren&&!Mt._loadedRoutes&&void 0===Mt.canLoad||Mt.loadComponent&&!Mt._loadedComponent)&&rt.push(this.preloadConfig(xt,Mt)),(Mt.children||Mt._loadedRoutes)&&rt.push(this.processRoutes(an,Mt.children??Mt._loadedRoutes))}return(0,E.D)(rt).pipe((0,Oe.J)())}preloadConfig(se,Ne){return this.preloadingStrategy.preload(Ne,()=>{let rt;rt=Ne.loadChildren&&void 0===Ne.canLoad?this.loader.loadChildren(se,Ne):(0,O.of)(null);const Mt=rt.pipe((0,B.z)(xt=>null===xt?(0,O.of)(void 0):(Ne._loadedRoutes=xt.routes,Ne._loadedInjector=xt.injector,this.processRoutes(xt.injector??se,xt.routes))));if(Ne.loadComponent&&!Ne._loadedComponent){const xt=this.loader.loadComponent(Ne);return(0,E.D)([Mt,xt]).pipe((0,Oe.J)())}return Mt})}static#e=this.\u0275fac=function(Ne){return new(Ne||be)(c.LFG(Mr),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(Gd),c.LFG(Je))};static#t=this.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();const wi=new c.OlP("");let Dc=(()=>{class be{constructor(se,Ne,rt,Mt,xt={}){this.urlSerializer=se,this.transitions=Ne,this.viewportScroller=rt,this.zone=Mt,this.options=xt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},xt.scrollPositionRestoration=xt.scrollPositionRestoration||"disabled",xt.anchorScrolling=xt.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(se=>{se instanceof lt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=se.navigationTrigger,this.restoredId=se.restoredState?se.restoredState.navigationId:0):se instanceof it?(this.lastId=se.id,this.scheduleScrollEvent(se,this.urlSerializer.parse(se.urlAfterRedirects).fragment)):se instanceof Kt&&0===se.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(se,this.urlSerializer.parse(se.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(se=>{se instanceof Ir&&(se.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(se.position):se.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(se.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(se,Ne){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ir(se,"popstate"===this.lastSource?this.store[this.restoredId]:null,Ne))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(Ne){c.$Z()};static#t=this.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac})}return be})();function ta(be,Fe){return{\u0275kind:be,\u0275providers:Fe}}function Yd(){const be=(0,c.f3M)(c.zs3);return Fe=>{const se=be.get(c.z2F);if(Fe!==se.components[0])return;const Ne=be.get(Mr),rt=be.get(lg);1===be.get(vl)&&Ne.initialNavigation(),be.get(Qa,null,c.XFs.Optional)?.setUpPreloading(),be.get(wi,null,c.XFs.Optional)?.init(),Ne.resetRootComponentType(se.componentTypes[0]),rt.closed||(rt.next(),rt.complete(),rt.unsubscribe())}}const lg=new c.OlP("",{factory:()=>new k.x}),vl=new c.OlP("",{providedIn:"root",factory:()=>1}),Qa=new c.OlP("");function ga(be){return ta(0,[{provide:Qa,useExisting:Nn},{provide:Gd,useExisting:be}])}const yl=new c.OlP("ROUTER_FORROOT_GUARD"),Wd=[R.Ye,{provide:_t,useClass:Pt},Mr,$r,{provide:tr,useFactory:function Nr(be){return be.routerState.root},deps:[Mr]},Je,[]];function xc(){return new c.PXZ("Router",Mr)}let Wf=(()=>{class be{constructor(se){}static forRoot(se,Ne){return{ngModule:be,providers:[Wd,[],{provide:gt,multi:!0,useValue:se},{provide:yl,useFactory:$d,deps:[[Mr,new c.FiY,new c.tp0]]},{provide:ar,useValue:Ne||{}},Ne?.useHash?{provide:R.S$,useClass:R.Do}:{provide:R.S$,useClass:R.b0},{provide:wi,useFactory:()=>{const be=(0,c.f3M)(R.EM),Fe=(0,c.f3M)(c.R0b),se=(0,c.f3M)(ar),Ne=(0,c.f3M)(fn),rt=(0,c.f3M)(_t);return se.scrollOffset&&be.setOffset(se.scrollOffset),new Dc(rt,Ne,be,Fe,se)}},Ne?.preloadingStrategy?ga(Ne.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:xc},Ne?.initialNavigation?qd(Ne):[],Ne?.bindToComponentInputs?ta(8,[gr,{provide:Ai,useExisting:gr}]).\u0275providers:[],[{provide:Ac,useFactory:Yd},{provide:c.tb,multi:!0,useExisting:Ac}]]}}static forChild(se){return{ngModule:be,providers:[{provide:gt,multi:!0,useValue:se}]}}static#e=this.\u0275fac=function(Ne){return new(Ne||be)(c.LFG(yl,8))};static#t=this.\u0275mod=c.oAB({type:be});static#n=this.\u0275inj=c.cJS({})}return be})();function $d(be){return"guarded"}function qd(be){return["disabled"===be.initialNavigation?ta(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const Fe=(0,c.f3M)(Mr);return()=>{Fe.setUpLocationChangeListener()}}},{provide:vl,useValue:2}]).\u0275providers:[],"enabledBlocking"===be.initialNavigation?ta(2,[{provide:vl,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:Fe=>{const se=Fe.get(R.V_,Promise.resolve());return()=>se.then(()=>new Promise(Ne=>{const rt=Fe.get(Mr),Mt=Fe.get(lg);ii(rt,()=>{Ne(!0)}),Fe.get(fn).afterPreactivation=()=>(Ne(!0),Mt.closed?(0,O.of)(void 0):Mt),rt.initialNavigation()}))}}]).\u0275providers:[]]}const Ac=new c.OlP("")},7582:(wn,qe,x)=>{"use strict";function v(te,ue,Se,Ie){return new(Se||(Se=Promise))(function(Me,we){function _e(Oe){try{Pe(Ie.next(Oe))}catch(Ue){we(Ue)}}function Le(Oe){try{Pe(Ie.throw(Oe))}catch(Ue){we(Ue)}}function Pe(Oe){Oe.done?Me(Oe.value):function le(Me){return Me instanceof Se?Me:new Se(function(we){we(Me)})}(Oe.value).then(_e,Le)}Pe((Ie=Ie.apply(te,ue||[])).next())})}function T(te){return this instanceof T?(this.v=te,this):new T(te)}function N(te,ue,Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,Ie=Se.apply(te,ue||[]),Me=[];return le={},we("next"),we("throw"),we("return"),le[Symbol.asyncIterator]=function(){return this},le;function we(ze){Ie[ze]&&(le[ze]=function(He){return new Promise(function(Ae,ye){Me.push([ze,He,Ae,ye])>1||_e(ze,He)})})}function _e(ze,He){try{!function Le(ze){ze.value instanceof T?Promise.resolve(ze.value.v).then(Pe,Oe):Ue(Me[0][2],ze)}(Ie[ze](He))}catch(Ae){Ue(Me[0][3],Ae)}}function Pe(ze){_e("next",ze)}function Oe(ze){_e("throw",ze)}function Ue(ze,He){ze(He),Me.shift(),Me.length&&_e(Me[0][0],Me[0][1])}}function B(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,ue=te[Symbol.asyncIterator];return ue?ue.call(te):(te=function V(te){var ue="function"==typeof Symbol&&Symbol.iterator,Se=ue&&te[ue],Ie=0;if(Se)return Se.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&Ie>=te.length&&(te=void 0),{value:te&&te[Ie++],done:!te}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),Se={},Ie("next"),Ie("throw"),Ie("return"),Se[Symbol.asyncIterator]=function(){return this},Se);function Ie(Me){Se[Me]=te[Me]&&function(we){return new Promise(function(_e,Le){!function le(Me,we,_e,Le){Promise.resolve(Le).then(function(Pe){Me({value:Pe,done:_e})},we)}(_e,Le,(we=te[Me](we)).done,we.value)})}}}x.d(qe,{FC:()=>N,KL:()=>B,mG:()=>v,qq:()=>T})}},wn=>{wn(wn.s=2726)}]);