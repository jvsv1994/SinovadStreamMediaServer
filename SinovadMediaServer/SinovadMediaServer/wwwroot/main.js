(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{6304:(Wn,et,p)=>{"use strict";p.d(et,{Dh:()=>m,GT:()=>P,cc:()=>S,hO:()=>g,on:()=>c,pX:()=>_,xv:()=>i});var e=p(5879),t=p(7142),v=p(8186);Wn=p.hmd(Wn);const b=["ngOnDestroy"],_=(O,D,I,T={})=>new Proxy(O,{get:(L,y)=>I.runOutsideAngular(()=>{var B;if(O[y])return!(null===(B=T?.spy)||void 0===B)&&B.get&&T.spy.get(y,O[y]),O[y];if(b.indexOf(y)>-1)return()=>{};const z=D.toPromise().then(ne=>{const ae=ne&&ne[y];return"function"==typeof ae?ae.bind(ne):ae&&ae.then?ae.then(Fe=>I.run(()=>Fe)):I.run(()=>ae)});return new Proxy(()=>{},{get:(ne,ae)=>z[ae],apply:(ne,ae,Fe)=>z.then(Y=>{var le;const G=Y&&Y(...Fe);return!(null===(le=T?.spy)||void 0===le)&&le.apply&&T.spy.apply(y,Fe,G),G})})})}),P=(O,D)=>{D.forEach(I=>{Object.getOwnPropertyNames(I.prototype||I).forEach(T=>{Object.defineProperty(O.prototype,T,Object.getOwnPropertyDescriptor(I.prototype||I,T))})})};class C{constructor(D){return D}}const m=new e.OlP("angularfire2.app.options"),i=new e.OlP("angularfire2.app.name");function c(O,D,I){const L="object"==typeof I&&I||{};L.name=L.name||"string"==typeof I&&I||"[DEFAULT]";const B=t.Z.apps.filter(z=>z&&z.name===L.name)[0]||D.runOutsideAngular(()=>t.Z.initializeApp(O,L));try{JSON.stringify(O)!==JSON.stringify(B.options)&&d("error",`${B.name} Firebase App already initialized with different options${Wn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new C(B)}const d=(O,...D)=>{(0,e.X6Q)()&&typeof console<"u"&&console[O](...D)},f={provide:C,useFactory:c,deps:[m,e.R0b,[new e.FiY,i]]};let g=(()=>{class O{constructor(I){t.Z.registerVersion("angularfire",v.q4.full,"core"),t.Z.registerVersion("angularfire",v.q4.full,"app-compat"),t.Z.registerVersion("angular",e.q4F.full,I.toString())}static initializeApp(I,T){return{ngModule:O,providers:[{provide:m,useValue:I},{provide:i,useValue:T}]}}}return O.\u0275fac=function(I){return new(I||O)(e.LFG(e.Lbi))},O.\u0275mod=e.oAB({type:O}),O.\u0275inj=e.cJS({providers:[f]}),O})();function S(O,D,I,T,L){const[,y,B]=globalThis.\u0275AngularfireInstanceCache.find(z=>z[0]===O)||[];if(y)return function x(O,D){try{return O.toString()===D.toString()}catch{return O===D}}(L,B)||(N("error",`${D} was already initialized on the ${I} Firebase App with different settings.${A?" You may need to reload as Firebase is not HMR aware.":""}`),N("warn",{is:L,was:B})),y;{const z=T();return globalThis.\u0275AngularfireInstanceCache.push([O,z,L]),z}}const A=!!Wn.hot,N=(O,...D)=>{(0,e.X6Q)()&&typeof console<"u"&&console[O](...D)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(Wn,et,p)=>{"use strict";p.d(et,{q4:()=>ec,iC:()=>Ml,HU:()=>Dl,vb:()=>tc,JM:()=>Gl});var e=p(5879),t=p(3182),v=p(5861),b=p(534),_=p(9058),P=p(4537),C=p(7879);const m=(We,dt)=>dt.some(Ht=>We instanceof Ht);let i,c;const g=new WeakMap,S=new WeakMap,x=new WeakMap,A=new WeakMap,N=new WeakMap;let I={get(We,dt,Ht){if(We instanceof IDBTransaction){if("done"===dt)return S.get(We);if("objectStoreNames"===dt)return We.objectStoreNames||x.get(We);if("store"===dt)return Ht.objectStoreNames[1]?void 0:Ht.objectStore(Ht.objectStoreNames[0])}return B(We[dt])},set:(We,dt,Ht)=>(We[dt]=Ht,!0),has:(We,dt)=>We instanceof IDBTransaction&&("done"===dt||"store"===dt)||dt in We};function y(We){return"function"==typeof We?function L(We){return We!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function f(){return c||(c=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(We)?function(...dt){return We.apply(z(this),dt),B(g.get(this))}:function(...dt){return B(We.apply(z(this),dt))}:function(dt,...Ht){const hn=We.call(z(this),dt,...Ht);return x.set(hn,dt.sort?dt.sort():[dt]),B(hn)}}(We):(We instanceof IDBTransaction&&function D(We){if(S.has(We))return;const dt=new Promise((Ht,hn)=>{const Ln=()=>{We.removeEventListener("complete",Gn),We.removeEventListener("error",Qn),We.removeEventListener("abort",Qn)},Gn=()=>{Ht(),Ln()},Qn=()=>{hn(We.error||new DOMException("AbortError","AbortError")),Ln()};We.addEventListener("complete",Gn),We.addEventListener("error",Qn),We.addEventListener("abort",Qn)});S.set(We,dt)}(We),m(We,function d(){return i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(We,I):We)}function B(We){if(We instanceof IDBRequest)return function O(We){const dt=new Promise((Ht,hn)=>{const Ln=()=>{We.removeEventListener("success",Gn),We.removeEventListener("error",Qn)},Gn=()=>{Ht(B(We.result)),Ln()},Qn=()=>{hn(We.error),Ln()};We.addEventListener("success",Gn),We.addEventListener("error",Qn)});return dt.then(Ht=>{Ht instanceof IDBCursor&&g.set(Ht,We)}).catch(()=>{}),N.set(dt,We),dt}(We);if(A.has(We))return A.get(We);const dt=y(We);return dt!==We&&(A.set(We,dt),N.set(dt,We)),dt}const z=We=>N.get(We),Fe=["get","getKey","getAll","getAllKeys","count"],Y=["put","add","delete","clear"],le=new Map;function G(We,dt){if(!(We instanceof IDBDatabase)||dt in We||"string"!=typeof dt)return;if(le.get(dt))return le.get(dt);const Ht=dt.replace(/FromIndex$/,""),hn=dt!==Ht,Ln=Y.includes(Ht);if(!(Ht in(hn?IDBIndex:IDBObjectStore).prototype)||!Ln&&!Fe.includes(Ht))return;const Gn=function(){var Qn=(0,v.Z)(function*(Ci,...Zt){const Ni=this.transaction(Ci,Ln?"readwrite":"readonly");let Qi=Ni.store;return hn&&(Qi=Qi.index(Zt.shift())),(yield Promise.all([Qi[Ht](...Zt),Ln&&Ni.done]))[0]});return function(Zt){return Qn.apply(this,arguments)}}();return le.set(dt,Gn),Gn}!function T(We){I=We(I)}(We=>({...We,get:(dt,Ht,hn)=>G(dt,Ht)||We.get(dt,Ht,hn),has:(dt,Ht)=>!!G(dt,Ht)||We.has(dt,Ht)}));const Se="@firebase/installations",ce="0.6.4",ge=1e4,Ie=`w:${ce}`,Ce="FIS_v2",pe="https://firebaseinstallations.googleapis.com/v1",Ae=36e5,Te=new _.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Oe(We){return We instanceof _.ZR&&We.code.includes("request-failed")}function Ve({projectId:We}){return`${pe}/projects/${We}/installations`}function ft(We){return{token:We.token,requestStatus:2,expiresIn:oe(We.expiresIn),creationTime:Date.now()}}function Ze(We,dt){return Re.apply(this,arguments)}function Re(){return(Re=(0,v.Z)(function*(We,dt){const hn=(yield dt.json()).error;return Te.create("request-failed",{requestName:We,serverCode:hn.code,serverMessage:hn.message,serverStatus:hn.status})})).apply(this,arguments)}function be({apiKey:We}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":We})}function ie(We){return ye.apply(this,arguments)}function ye(){return(ye=(0,v.Z)(function*(We){const dt=yield We();return dt.status>=500&&dt.status<600?We():dt})).apply(this,arguments)}function oe(We){return Number(We.replace("s","000"))}function $(){return($=(0,v.Z)(function*({appConfig:We,heartbeatServiceProvider:dt},{fid:Ht}){const hn=Ve(We),Ln=be(We),Gn=dt.getImmediate({optional:!0});if(Gn){const Ni=yield Gn.getHeartbeatsHeader();Ni&&Ln.append("x-firebase-client",Ni)}const Ci={method:"POST",headers:Ln,body:JSON.stringify({fid:Ht,authVersion:Ce,appId:We.appId,sdkVersion:Ie})},Zt=yield ie(()=>fetch(hn,Ci));if(Zt.ok){const Ni=yield Zt.json();return{fid:Ni.fid||Ht,registrationStatus:2,refreshToken:Ni.refreshToken,authToken:ft(Ni.authToken)}}throw yield Ze("Create Installation",Zt)})).apply(this,arguments)}function re(We){return new Promise(dt=>{setTimeout(dt,We)})}const q=/^[cdef][\w-]{21}$/,_e="";function xe(){try{const We=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(We),We[0]=112+We[0]%16;const Ht=function Ee(We){return function J(We){return btoa(String.fromCharCode(...We)).replace(/\+/g,"-").replace(/\//g,"_")}(We).substr(0,22)}(We);return q.test(Ht)?Ht:_e}catch{return _e}}function Ge(We){return`${We.appName}!${We.appId}`}const ct=new Map;function Xe(We,dt){const Ht=Ge(We);Qe(Ht,dt),function yt(We,dt){const Ht=function fe(){return!Dt&&"BroadcastChannel"in self&&(Dt=new BroadcastChannel("[Firebase] FID Change"),Dt.onmessage=We=>{Qe(We.data.key,We.data.fid)}),Dt}();Ht&&Ht.postMessage({key:We,fid:dt}),function ze(){0===ct.size&&Dt&&(Dt.close(),Dt=null)}()}(Ht,dt)}function Qe(We,dt){const Ht=ct.get(We);if(Ht)for(const hn of Ht)hn(dt)}let Dt=null;const Tt="firebase-installations-database",Kt=1,Jt="firebase-installations-store";let qt=null;function un(){return qt||(qt=function ne(We,dt,{blocked:Ht,upgrade:hn,blocking:Ln,terminated:Gn}={}){const Qn=indexedDB.open(We,dt),Ci=B(Qn);return hn&&Qn.addEventListener("upgradeneeded",Zt=>{hn(B(Qn.result),Zt.oldVersion,Zt.newVersion,B(Qn.transaction))}),Ht&&Qn.addEventListener("blocked",()=>Ht()),Ci.then(Zt=>{Gn&&Zt.addEventListener("close",()=>Gn()),Ln&&Zt.addEventListener("versionchange",()=>Ln())}).catch(()=>{}),Ci}(Tt,Kt,{upgrade:(We,dt)=>{0===dt&&We.createObjectStore(Jt)}})),qt}function fn(We,dt){return wt.apply(this,arguments)}function wt(){return(wt=(0,v.Z)(function*(We,dt){const Ht=Ge(We),Ln=(yield un()).transaction(Jt,"readwrite"),Gn=Ln.objectStore(Jt),Qn=yield Gn.get(Ht);return yield Gn.put(dt,Ht),yield Ln.done,(!Qn||Qn.fid!==dt.fid)&&Xe(We,dt.fid),dt})).apply(this,arguments)}function vt(We){return it.apply(this,arguments)}function it(){return(it=(0,v.Z)(function*(We){const dt=Ge(We),hn=(yield un()).transaction(Jt,"readwrite");yield hn.objectStore(Jt).delete(dt),yield hn.done})).apply(this,arguments)}function He(We,dt){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,v.Z)(function*(We,dt){const Ht=Ge(We),Ln=(yield un()).transaction(Jt,"readwrite"),Gn=Ln.objectStore(Jt),Qn=yield Gn.get(Ht),Ci=dt(Qn);return void 0===Ci?yield Gn.delete(Ht):yield Gn.put(Ci,Ht),yield Ln.done,Ci&&(!Qn||Qn.fid!==Ci.fid)&&Xe(We,Ci.fid),Ci})).apply(this,arguments)}function st(We){return at.apply(this,arguments)}function at(){return at=(0,v.Z)(function*(We){let dt;const Ht=yield He(We.appConfig,hn=>{const Ln=function St(We){return In(We||{fid:xe(),registrationStatus:0})}(hn),Gn=function bt(We,dt){if(0===dt.registrationStatus){if(!navigator.onLine)return{installationEntry:dt,registrationPromise:Promise.reject(Te.create("app-offline"))};const Ht={fid:dt.fid,registrationStatus:1,registrationTime:Date.now()},hn=function At(We,dt){return on.apply(this,arguments)}(We,Ht);return{installationEntry:Ht,registrationPromise:hn}}return 1===dt.registrationStatus?{installationEntry:dt,registrationPromise:En(We)}:{installationEntry:dt}}(We,Ln);return dt=Gn.registrationPromise,Gn.installationEntry});return Ht.fid===_e?{installationEntry:yield dt}:{installationEntry:Ht,registrationPromise:dt}}),at.apply(this,arguments)}function on(){return on=(0,v.Z)(function*(We,dt){try{const Ht=yield function X(We,dt){return $.apply(this,arguments)}(We,dt);return fn(We.appConfig,Ht)}catch(Ht){throw Oe(Ht)&&409===Ht.customData.serverCode?yield vt(We.appConfig):yield fn(We.appConfig,{fid:dt.fid,registrationStatus:0}),Ht}}),on.apply(this,arguments)}function En(We){return tn.apply(this,arguments)}function tn(){return(tn=(0,v.Z)(function*(We){let dt=yield Mn(We.appConfig);for(;1===dt.registrationStatus;)yield re(100),dt=yield Mn(We.appConfig);if(0===dt.registrationStatus){const{installationEntry:Ht,registrationPromise:hn}=yield st(We);return hn||Ht}return dt})).apply(this,arguments)}function Mn(We){return He(We,dt=>{if(!dt)throw Te.create("installation-not-found");return In(dt)})}function In(We){return function Nn(We){return 1===We.registrationStatus&&We.registrationTime+ge<Date.now()}(We)?{fid:We.fid,registrationStatus:0}:We}function ni(){return(ni=(0,v.Z)(function*({appConfig:We,heartbeatServiceProvider:dt},Ht){const hn=function vn(We,{fid:dt}){return`${Ve(We)}/${dt}/authTokens:generate`}(We,Ht),Ln=function Q(We,{refreshToken:dt}){const Ht=be(We);return Ht.append("Authorization",function ee(We){return`${Ce} ${We}`}(dt)),Ht}(We,Ht),Gn=dt.getImmediate({optional:!0});if(Gn){const Ni=yield Gn.getHeartbeatsHeader();Ni&&Ln.append("x-firebase-client",Ni)}const Ci={method:"POST",headers:Ln,body:JSON.stringify({installation:{sdkVersion:Ie,appId:We.appId}})},Zt=yield ie(()=>fetch(hn,Ci));if(Zt.ok)return ft(yield Zt.json());throw yield Ze("Generate Auth Token",Zt)})).apply(this,arguments)}function gn(We){return yn.apply(this,arguments)}function yn(){return yn=(0,v.Z)(function*(We,dt=!1){let Ht;const hn=yield He(We.appConfig,Gn=>{if(!qe(Gn))throw Te.create("not-registered");const Qn=Gn.authToken;if(!dt&&function Ct(We){return 2===We.requestStatus&&!function Qt(We){const dt=Date.now();return dt<We.creationTime||We.creationTime+We.expiresIn<dt+Ae}(We)}(Qn))return Gn;if(1===Qn.requestStatus)return Ht=function pn(We,dt){return _n.apply(this,arguments)}(We,dt),Gn;{if(!navigator.onLine)throw Te.create("app-offline");const Ci=function Rt(We){const dt={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},We),{authToken:dt})}(Gn);return Ht=function ht(We,dt){return Tn.apply(this,arguments)}(We,Ci),Ci}});return Ht?yield Ht:hn.authToken}),yn.apply(this,arguments)}function _n(){return(_n=(0,v.Z)(function*(We,dt){let Ht=yield Mt(We.appConfig);for(;1===Ht.authToken.requestStatus;)yield re(100),Ht=yield Mt(We.appConfig);const hn=Ht.authToken;return 0===hn.requestStatus?gn(We,dt):hn})).apply(this,arguments)}function Mt(We){return He(We,dt=>{if(!qe(dt))throw Te.create("not-registered");return function xn(We){return 1===We.requestStatus&&We.requestTime+ge<Date.now()}(dt.authToken)?Object.assign(Object.assign({},dt),{authToken:{requestStatus:0}}):dt})}function Tn(){return Tn=(0,v.Z)(function*(We,dt){try{const Ht=yield function $n(We,dt){return ni.apply(this,arguments)}(We,dt),hn=Object.assign(Object.assign({},dt),{authToken:Ht});return yield fn(We.appConfig,hn),Ht}catch(Ht){if(!Oe(Ht)||401!==Ht.customData.serverCode&&404!==Ht.customData.serverCode){const hn=Object.assign(Object.assign({},dt),{authToken:{requestStatus:0}});yield fn(We.appConfig,hn)}else yield vt(We.appConfig);throw Ht}}),Tn.apply(this,arguments)}function qe(We){return void 0!==We&&2===We.registrationStatus}function It(){return(It=(0,v.Z)(function*(We){const dt=We,{installationEntry:Ht,registrationPromise:hn}=yield st(dt);return hn?hn.catch(console.error):gn(dt).catch(console.error),Ht.fid})).apply(this,arguments)}function en(){return en=(0,v.Z)(function*(We,dt=!1){const Ht=We;return yield function An(We){return Kn.apply(this,arguments)}(Ht),(yield gn(Ht,dt)).token}),en.apply(this,arguments)}function Kn(){return(Kn=(0,v.Z)(function*(We){const{registrationPromise:dt}=yield st(We);dt&&(yield dt)})).apply(this,arguments)}function vi(We){return Te.create("missing-app-config-values",{valueName:We})}const Er="installations",jr=We=>{const dt=We.getProvider("app").getImmediate(),Ht=function Fn(We){if(!We||!We.options)throw vi("App Configuration");if(!We.name)throw vi("App Name");const dt=["projectId","apiKey","appId"];for(const Ht of dt)if(!We.options[Ht])throw vi(Ht);return{appName:We.name,projectId:We.options.projectId,apiKey:We.options.apiKey,appId:We.options.appId}}(dt);return{app:dt,appConfig:Ht,heartbeatServiceProvider:(0,b._getProvider)(dt,"heartbeat"),_delete:()=>Promise.resolve()}},ki=We=>{const dt=We.getProvider("app").getImmediate(),Ht=(0,b._getProvider)(dt,Er).getImmediate();return{getId:()=>function kt(We){return It.apply(this,arguments)}(Ht),getToken:Ln=>function Nt(We){return en.apply(this,arguments)}(Ht,Ln)}};(function Oi(){(0,b._registerComponent)(new P.wA(Er,jr,"PUBLIC")),(0,b._registerComponent)(new P.wA("installations-internal",ki,"PRIVATE"))})(),(0,b.registerVersion)(Se,ce),(0,b.registerVersion)(Se,ce,"esm2017");const Wo="@firebase/remote-config",ir=new _.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ui{constructor(dt,Ht,hn,Ln){this.client=dt,this.storage=Ht,this.storageCache=hn,this.logger=Ln}isCachedDataFresh(dt,Ht){if(!Ht)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const hn=Date.now()-Ht,Ln=hn<=dt;return this.logger.debug(`Config fetch cache check. Cache age millis: ${hn}. Cache max age millis (minimumFetchIntervalMillis setting): ${dt}. Is cache hit: ${Ln}.`),Ln}fetch(dt){var Ht=this;return(0,v.Z)(function*(){const[hn,Ln]=yield Promise.all([Ht.storage.getLastSuccessfulFetchTimestampMillis(),Ht.storage.getLastSuccessfulFetchResponse()]);if(Ln&&Ht.isCachedDataFresh(dt.cacheMaxAgeMillis,hn))return Ln;dt.eTag=Ln&&Ln.eTag;const Gn=yield Ht.client.fetch(dt),Qn=[Ht.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Gn.status&&Qn.push(Ht.storage.setLastSuccessfulFetchResponse(Gn)),yield Promise.all(Qn),Gn})()}}function Ji(We=navigator){return We.languages&&We.languages[0]||We.language}class or{constructor(dt,Ht,hn,Ln,Gn,Qn){this.firebaseInstallations=dt,this.sdkVersion=Ht,this.namespace=hn,this.projectId=Ln,this.apiKey=Gn,this.appId=Qn}fetch(dt){var Ht=this;return(0,v.Z)(function*(){const[hn,Ln]=yield Promise.all([Ht.firebaseInstallations.getId(),Ht.firebaseInstallations.getToken()]),Qn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Ht.projectId}/namespaces/${Ht.namespace}:fetch?key=${Ht.apiKey}`,Ci={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":dt.eTag||"*"},Zt={sdk_version:Ht.sdkVersion,app_instance_id:hn,app_instance_id_token:Ln,app_id:Ht.appId,language_code:Ji()},Ni={method:"POST",headers:Ci,body:JSON.stringify(Zt)},Qi=fetch(Qn,Ni),dr=new Promise((To,ea)=>{dt.signal.addEventListener(()=>{const Ac=new Error("The operation was aborted.");Ac.name="AbortError",ea(Ac)})});let ys;try{yield Promise.race([Qi,dr]),ys=yield Qi}catch(To){let ea="fetch-client-network";throw"AbortError"===To?.name&&(ea="fetch-timeout"),ir.create(ea,{originalErrorMessage:To?.message})}let Vo=ys.status;const Mc=ys.headers.get("ETag")||void 0;let ol,oc;if(200===ys.status){let To;try{To=yield ys.json()}catch(ea){throw ir.create("fetch-client-parse",{originalErrorMessage:ea?.message})}ol=To.entries,oc=To.state}if("INSTANCE_STATE_UNSPECIFIED"===oc?Vo=500:"NO_CHANGE"===oc?Vo=304:("NO_TEMPLATE"===oc||"EMPTY_CONFIG"===oc)&&(ol={}),304!==Vo&&200!==Vo)throw ir.create("fetch-status",{httpStatus:Vo});return{status:Vo,eTag:Mc,config:ol}})()}}class Oo{constructor(dt,Ht){this.client=dt,this.storage=Ht}fetch(dt){var Ht=this;return(0,v.Z)(function*(){const hn=(yield Ht.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Ht.attemptFetch(dt,hn)})()}attemptFetch(dt,{throttleEndTimeMillis:Ht,backoffCount:hn}){var Ln=this;return(0,v.Z)(function*(){yield function Ki(We,dt){return new Promise((Ht,hn)=>{const Ln=Math.max(dt-Date.now(),0),Gn=setTimeout(Ht,Ln);We.addEventListener(()=>{clearTimeout(Gn),hn(ir.create("fetch-throttle",{throttleEndTimeMillis:dt}))})})}(dt.signal,Ht);try{const Gn=yield Ln.client.fetch(dt);return yield Ln.storage.deleteThrottleMetadata(),Gn}catch(Gn){if(!function Ir(We){if(!(We instanceof _.ZR&&We.customData))return!1;const dt=Number(We.customData.httpStatus);return 429===dt||500===dt||503===dt||504===dt}(Gn))throw Gn;const Qn={throttleEndTimeMillis:Date.now()+(0,_.$s)(hn),backoffCount:hn+1};return yield Ln.storage.setThrottleMetadata(Qn),Ln.attemptFetch(dt,Qn)}})()}}class Ks{constructor(dt,Ht,hn,Ln,Gn){this.app=dt,this._client=Ht,this._storageCache=hn,this._storage=Ln,this._logger=Gn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function eo(We,dt){const Ht=We.target.error||void 0;return ir.create(dt,{originalErrorMessage:Ht&&Ht?.message})}const yo="app_namespace_store";class Ga{constructor(dt,Ht,hn,Ln=function cr(){return new Promise((We,dt)=>{try{const Ht=indexedDB.open("firebase_remote_config",1);Ht.onerror=hn=>{dt(eo(hn,"storage-open"))},Ht.onsuccess=hn=>{We(hn.target.result)},Ht.onupgradeneeded=hn=>{0===hn.oldVersion&&hn.target.result.createObjectStore(yo,{keyPath:"compositeKey"})}}catch(Ht){dt(ir.create("storage-open",{originalErrorMessage:Ht?.message}))}})}()){this.appId=dt,this.appName=Ht,this.namespace=hn,this.openDbPromise=Ln}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(dt){return this.set("last_fetch_status",dt)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(dt){return this.set("last_successful_fetch_timestamp_millis",dt)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(dt){return this.set("last_successful_fetch_response",dt)}getActiveConfig(){return this.get("active_config")}setActiveConfig(dt){return this.set("active_config",dt)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(dt){return this.set("active_config_etag",dt)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(dt){return this.set("throttle_metadata",dt)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(dt){var Ht=this;return(0,v.Z)(function*(){const hn=yield Ht.openDbPromise;return new Promise((Ln,Gn)=>{const Ci=hn.transaction([yo],"readonly").objectStore(yo),Zt=Ht.createCompositeKey(dt);try{const Ni=Ci.get(Zt);Ni.onerror=Qi=>{Gn(eo(Qi,"storage-get"))},Ni.onsuccess=Qi=>{const dr=Qi.target.result;Ln(dr?dr.value:void 0)}}catch(Ni){Gn(ir.create("storage-get",{originalErrorMessage:Ni?.message}))}})})()}set(dt,Ht){var hn=this;return(0,v.Z)(function*(){const Ln=yield hn.openDbPromise;return new Promise((Gn,Qn)=>{const Zt=Ln.transaction([yo],"readwrite").objectStore(yo),Ni=hn.createCompositeKey(dt);try{const Qi=Zt.put({compositeKey:Ni,value:Ht});Qi.onerror=dr=>{Qn(eo(dr,"storage-set"))},Qi.onsuccess=()=>{Gn()}}catch(Qi){Qn(ir.create("storage-set",{originalErrorMessage:Qi?.message}))}})})()}delete(dt){var Ht=this;return(0,v.Z)(function*(){const hn=yield Ht.openDbPromise;return new Promise((Ln,Gn)=>{const Ci=hn.transaction([yo],"readwrite").objectStore(yo),Zt=Ht.createCompositeKey(dt);try{const Ni=Ci.delete(Zt);Ni.onerror=Qi=>{Gn(eo(Qi,"storage-delete"))},Ni.onsuccess=()=>{Ln()}}catch(Ni){Gn(ir.create("storage-delete",{originalErrorMessage:Ni?.message}))}})})()}createCompositeKey(dt){return[this.appId,this.appName,this.namespace,dt].join()}}class es{constructor(dt){this.storage=dt}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var dt=this;return(0,v.Z)(function*(){const Ht=dt.storage.getLastFetchStatus(),hn=dt.storage.getLastSuccessfulFetchTimestampMillis(),Ln=dt.storage.getActiveConfig(),Gn=yield Ht;Gn&&(dt.lastFetchStatus=Gn);const Qn=yield hn;Qn&&(dt.lastSuccessfulFetchTimestampMillis=Qn);const Ci=yield Ln;Ci&&(dt.activeConfig=Ci)})()}setLastFetchStatus(dt){return this.lastFetchStatus=dt,this.storage.setLastFetchStatus(dt)}setLastSuccessfulFetchTimestampMillis(dt){return this.lastSuccessfulFetchTimestampMillis=dt,this.storage.setLastSuccessfulFetchTimestampMillis(dt)}setActiveConfig(dt){return this.activeConfig=dt,this.storage.setActiveConfig(dt)}}function Os(){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,v.Z)(function*(){if(!(0,_.hl)())return!1;try{return yield(0,_.eu)()}catch{return!1}})).apply(this,arguments)}!function Ws(){(0,b._registerComponent)(new P.wA("remote-config",function We(dt,{instanceIdentifier:Ht}){const hn=dt.getProvider("app").getImmediate(),Ln=dt.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ir.create("registration-window");if(!(0,_.hl)())throw ir.create("indexed-db-unavailable");const{projectId:Gn,apiKey:Qn,appId:Ci}=hn.options;if(!Gn)throw ir.create("registration-project-id");if(!Qn)throw ir.create("registration-api-key");if(!Ci)throw ir.create("registration-app-id");const Zt=new Ga(Ci,hn.name,Ht=Ht||"firebase"),Ni=new es(Zt),Qi=new C.Yd(Wo);Qi.logLevel=C.in.ERROR;const dr=new or(Ln,b.SDK_VERSION,Ht,Gn,Qn,Ci),ys=new Oo(dr,Zt),Vo=new Ui(ys,Zt,Ni,Qi),Mc=new Ks(hn,Vo,Ni,Zt,Qi);return function Zi(We){const dt=(0,_.m9)(We);dt._initializePromise||(dt._initializePromise=dt._storageCache.loadFromStorage().then(()=>{dt._isInitializationComplete=!0}))}(Mc),Mc},"PUBLIC").setMultipleInstances(!0)),(0,b.registerVersion)(Wo,"0.4.4"),(0,b.registerVersion)(Wo,"0.4.4","esm2017")}();const Yr=(We,dt)=>dt.some(Ht=>We instanceof Ht);let mr,Cr;const Ao=new WeakMap,Fr=new WeakMap,pr=new WeakMap,Uo=new WeakMap,Ys=new WeakMap;let Zo={get(We,dt,Ht){if(We instanceof IDBTransaction){if("done"===dt)return Fr.get(We);if("objectStoreNames"===dt)return We.objectStoreNames||pr.get(We);if("store"===dt)return Ht.objectStoreNames[1]?void 0:Ht.objectStore(Ht.objectStoreNames[0])}return bo(We[dt])},set:(We,dt,Ht)=>(We[dt]=Ht,!0),has:(We,dt)=>We instanceof IDBTransaction&&("done"===dt||"store"===dt)||dt in We};function ks(We){return"function"==typeof We?function Da(We){return We!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ha(){return Cr||(Cr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(We)?function(...dt){return We.apply(Fs(this),dt),bo(Ao.get(this))}:function(...dt){return bo(We.apply(Fs(this),dt))}:function(dt,...Ht){const hn=We.call(Fs(this),dt,...Ht);return pr.set(hn,dt.sort?dt.sort():[dt]),bo(hn)}}(We):(We instanceof IDBTransaction&&function Es(We){if(Fr.has(We))return;const dt=new Promise((Ht,hn)=>{const Ln=()=>{We.removeEventListener("complete",Gn),We.removeEventListener("error",Qn),We.removeEventListener("abort",Qn)},Gn=()=>{Ht(),Ln()},Qn=()=>{hn(We.error||new DOMException("AbortError","AbortError")),Ln()};We.addEventListener("complete",Gn),We.addEventListener("error",Qn),We.addEventListener("abort",Qn)});Fr.set(We,dt)}(We),Yr(We,function oo(){return mr||(mr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(We,Zo):We)}function bo(We){if(We instanceof IDBRequest)return function gr(We){const dt=new Promise((Ht,hn)=>{const Ln=()=>{We.removeEventListener("success",Gn),We.removeEventListener("error",Qn)},Gn=()=>{Ht(bo(We.result)),Ln()},Qn=()=>{hn(We.error),Ln()};We.addEventListener("success",Gn),We.addEventListener("error",Qn)});return dt.then(Ht=>{Ht instanceof IDBCursor&&Ao.set(Ht,We)}).catch(()=>{}),Ys.set(dt,We),dt}(We);if(Uo.has(We))return Uo.get(We);const dt=ks(We);return dt!==We&&(Uo.set(We,dt),Ys.set(dt,We)),dt}const Fs=We=>Ys.get(We);function ts(We,dt,{blocked:Ht,upgrade:hn,blocking:Ln,terminated:Gn}={}){const Qn=indexedDB.open(We,dt),Ci=bo(Qn);return hn&&Qn.addEventListener("upgradeneeded",Zt=>{hn(bo(Qn.result),Zt.oldVersion,Zt.newVersion,bo(Qn.transaction))}),Ht&&Qn.addEventListener("blocked",()=>Ht()),Ci.then(Zt=>{Gn&&Zt.addEventListener("close",()=>Gn()),Ln&&Zt.addEventListener("versionchange",()=>Ln())}).catch(()=>{}),Ci}function ma(We,{blocked:dt}={}){const Ht=indexedDB.deleteDatabase(We);return dt&&Ht.addEventListener("blocked",()=>dt()),bo(Ht).then(()=>{})}const Ma=["get","getKey","getAll","getAllKeys","count"],zs=["put","add","delete","clear"],Br=new Map;function Ho(We,dt){if(!(We instanceof IDBDatabase)||dt in We||"string"!=typeof dt)return;if(Br.get(dt))return Br.get(dt);const Ht=dt.replace(/FromIndex$/,""),hn=dt!==Ht,Ln=zs.includes(Ht);if(!(Ht in(hn?IDBIndex:IDBObjectStore).prototype)||!Ln&&!Ma.includes(Ht))return;const Gn=function(){var Qn=(0,v.Z)(function*(Ci,...Zt){const Ni=this.transaction(Ci,Ln?"readwrite":"readonly");let Qi=Ni.store;return hn&&(Qi=Qi.index(Zt.shift())),(yield Promise.all([Qi[Ht](...Zt),Ln&&Ni.done]))[0]});return function(Zt){return Qn.apply(this,arguments)}}();return Br.set(dt,Gn),Gn}!function Rs(We){Zo=We(Zo)}(We=>({...We,get:(dt,Ht,hn)=>Ho(dt,Ht)||We.get(dt,Ht,hn),has:(dt,Ht)=>!!Ho(dt,Ht)||We.has(dt,Ht)}));const fs="/firebase-messaging-sw.js",ra="/firebase-cloud-messaging-push-scope",Bs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ts="https://fcmregistrations.googleapis.com/v1",Aa="google.c.a.c_id",Ur="google.c.a.c_l",kn="google.c.a.ts";var ut=function(We){return We.PUSH_RECEIVED="push-received",We.NOTIFICATION_CLICKED="notification-clicked",We}(ut||{});function $t(We){const dt=new Uint8Array(We);return btoa(String.fromCharCode(...dt)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wn(We){const Ht=(We+"=".repeat((4-We.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),hn=atob(Ht),Ln=new Uint8Array(hn.length);for(let Gn=0;Gn<hn.length;++Gn)Ln[Gn]=hn.charCodeAt(Gn);return Ln}const Ti="fcm_token_details_db",zi=5,$o="fcm_token_object_Store";function Ss(){return Ss=(0,v.Z)(function*(We){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Gn=>Gn.name).includes(Ti))return null;let dt=null;return(yield ts(Ti,zi,{upgrade:(hn=(0,v.Z)(function*(Ln,Gn,Qn,Ci){var Zt;if(Gn<2||!Ln.objectStoreNames.contains($o))return;const Ni=Ci.objectStore($o),Qi=yield Ni.index("fcmSenderId").get(We);if(yield Ni.clear(),Qi)if(2===Gn){const dr=Qi;if(!dr.auth||!dr.p256dh||!dr.endpoint)return;dt={token:dr.fcmToken,createTime:null!==(Zt=dr.createTime)&&void 0!==Zt?Zt:Date.now(),subscriptionOptions:{auth:dr.auth,p256dh:dr.p256dh,endpoint:dr.endpoint,swScope:dr.swScope,vapidKey:"string"==typeof dr.vapidKey?dr.vapidKey:$t(dr.vapidKey)}}}else if(3===Gn){const dr=Qi;dt={token:dr.fcmToken,createTime:dr.createTime,subscriptionOptions:{auth:$t(dr.auth),p256dh:$t(dr.p256dh),endpoint:dr.endpoint,swScope:dr.swScope,vapidKey:$t(dr.vapidKey)}}}else if(4===Gn){const dr=Qi;dt={token:dr.fcmToken,createTime:dr.createTime,subscriptionOptions:{auth:$t(dr.auth),p256dh:$t(dr.p256dh),endpoint:dr.endpoint,swScope:dr.swScope,vapidKey:$t(dr.vapidKey)}}}}),function(Gn,Qn,Ci,Zt){return hn.apply(this,arguments)})})).close(),yield ma(Ti),yield ma("fcm_vapid_details_db"),yield ma("undefined"),function si(We){if(!We||!We.subscriptionOptions)return!1;const{subscriptionOptions:dt}=We;return"number"==typeof We.createTime&&We.createTime>0&&"string"==typeof We.token&&We.token.length>0&&"string"==typeof dt.auth&&dt.auth.length>0&&"string"==typeof dt.p256dh&&dt.p256dh.length>0&&"string"==typeof dt.endpoint&&dt.endpoint.length>0&&"string"==typeof dt.swScope&&dt.swScope.length>0&&"string"==typeof dt.vapidKey&&dt.vapidKey.length>0}(dt)?dt:null;var hn}),Ss.apply(this,arguments)}const Ns="firebase-messaging-database",to=1,hs="firebase-messaging-store";let al=null;function pa(){return al||(al=ts(Ns,to,{upgrade:(We,dt)=>{0===dt&&We.createObjectStore(hs)}})),al}function xa(We){return oa.apply(this,arguments)}function oa(){return oa=(0,v.Z)(function*(We){const dt=cl(We),hn=yield(yield pa()).transaction(hs).objectStore(hs).get(dt);if(hn)return hn;{const Ln=yield function ns(We){return Ss.apply(this,arguments)}(We.appConfig.senderId);if(Ln)return yield ms(We,Ln),Ln}}),oa.apply(this,arguments)}function ms(We,dt){return ll.apply(this,arguments)}function ll(){return(ll=(0,v.Z)(function*(We,dt){const Ht=cl(We),Ln=(yield pa()).transaction(hs,"readwrite");return yield Ln.objectStore(hs).put(dt,Ht),yield Ln.done,dt})).apply(this,arguments)}function ga(){return(ga=(0,v.Z)(function*(We){const dt=cl(We),hn=(yield pa()).transaction(hs,"readwrite");yield hn.objectStore(hs).delete(dt),yield hn.done})).apply(this,arguments)}function cl({appConfig:We}){return We.appId}const Po=new _.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Kc(We,dt){return wa.apply(this,arguments)}function wa(){return(wa=(0,v.Z)(function*(We,dt){const Ht=yield va(We),hn=hl(dt),Ln={method:"POST",headers:Ht,body:JSON.stringify(hn)};let Gn;try{Gn=yield(yield fetch(ul(We.appConfig),Ln)).json()}catch(Qn){throw Po.create("token-subscribe-failed",{errorInfo:Qn?.toString()})}if(Gn.error)throw Po.create("token-subscribe-failed",{errorInfo:Gn.error.message});if(!Gn.token)throw Po.create("token-subscribe-no-token");return Gn.token})).apply(this,arguments)}function Ha(){return(Ha=(0,v.Z)(function*(We,dt){const Ht=yield va(We),hn=hl(dt.subscriptionOptions),Ln={method:"PATCH",headers:Ht,body:JSON.stringify(hn)};let Gn;try{Gn=yield(yield fetch(`${ul(We.appConfig)}/${dt.token}`,Ln)).json()}catch(Qn){throw Po.create("token-update-failed",{errorInfo:Qn?.toString()})}if(Gn.error)throw Po.create("token-update-failed",{errorInfo:Gn.error.message});if(!Gn.token)throw Po.create("token-update-no-token");return Gn.token})).apply(this,arguments)}function dl(We,dt){return _a.apply(this,arguments)}function _a(){return(_a=(0,v.Z)(function*(We,dt){const hn={method:"DELETE",headers:yield va(We)};try{const Gn=yield(yield fetch(`${ul(We.appConfig)}/${dt}`,hn)).json();if(Gn.error)throw Po.create("token-unsubscribe-failed",{errorInfo:Gn.error.message})}catch(Ln){throw Po.create("token-unsubscribe-failed",{errorInfo:Ln?.toString()})}})).apply(this,arguments)}function ul({projectId:We}){return`${Ts}/projects/${We}/registrations`}function va(We){return fl.apply(this,arguments)}function fl(){return(fl=(0,v.Z)(function*({appConfig:We,installations:dt}){const Ht=yield dt.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":We.apiKey,"x-goog-firebase-installations-auth":`FIS ${Ht}`})})).apply(this,arguments)}function hl({p256dh:We,auth:dt,endpoint:Ht,vapidKey:hn}){const Ln={web:{endpoint:Ht,auth:dt,p256dh:We}};return hn!==Bs&&(Ln.web.applicationPubKey=hn),Ln}const fc=6048e5;function el(){return el=(0,v.Z)(function*(We){const dt=yield function ja(We,dt){return $e.apply(this,arguments)}(We.swRegistration,We.vapidKey),Ht={vapidKey:We.vapidKey,swScope:We.swRegistration.scope,endpoint:dt.endpoint,auth:$t(dt.getKey("auth")),p256dh:$t(dt.getKey("p256dh"))},hn=yield xa(We.firebaseDependencies);if(hn){if(function Yt(We,dt){return dt.vapidKey===We.vapidKey&&dt.endpoint===We.endpoint&&dt.auth===We.auth&&dt.p256dh===We.p256dh}(hn.subscriptionOptions,Ht))return Date.now()>=hn.createTime+fc?function Cs(We,dt){return Oa.apply(this,arguments)}(We,{token:hn.token,createTime:Date.now(),subscriptionOptions:Ht}):hn.token;try{yield dl(We.firebaseDependencies,hn.token)}catch(Ln){console.warn(Ln)}return Ds(We.firebaseDependencies,Ht)}return Ds(We.firebaseDependencies,Ht)}),el.apply(this,arguments)}function Ol(){return Ol=(0,v.Z)(function*(We){const dt=yield xa(We.firebaseDependencies);dt&&(yield dl(We.firebaseDependencies,dt.token),yield function wl(We){return ga.apply(this,arguments)}(We.firebaseDependencies));const Ht=yield We.swRegistration.pushManager.getSubscription();return!Ht||Ht.unsubscribe()}),Ol.apply(this,arguments)}function Oa(){return Oa=(0,v.Z)(function*(We,dt){try{const Ht=yield function uc(We,dt){return Ha.apply(this,arguments)}(We.firebaseDependencies,dt),hn=Object.assign(Object.assign({},dt),{token:Ht,createTime:Date.now()});return yield ms(We.firebaseDependencies,hn),Ht}catch(Ht){throw yield function ml(We){return Ol.apply(this,arguments)}(We),Ht}}),Oa.apply(this,arguments)}function Ds(We,dt){return rr.apply(this,arguments)}function rr(){return(rr=(0,v.Z)(function*(We,dt){const hn={token:yield Kc(We,dt),createTime:Date.now(),subscriptionOptions:dt};return yield ms(We,hn),hn.token})).apply(this,arguments)}function $e(){return($e=(0,v.Z)(function*(We,dt){return(yield We.pushManager.getSubscription())||We.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wn(dt)})})).apply(this,arguments)}function mt(We){const dt={from:We.from,collapseKey:We.collapse_key,messageId:We.fcmMessageId};return function Vt(We,dt){if(!dt.notification)return;We.notification={};const Ht=dt.notification.title;Ht&&(We.notification.title=Ht);const hn=dt.notification.body;hn&&(We.notification.body=hn);const Ln=dt.notification.image;Ln&&(We.notification.image=Ln);const Gn=dt.notification.icon;Gn&&(We.notification.icon=Gn)}(dt,We),function Sn(We,dt){dt.data&&(We.data=dt.data)}(dt,We),function Zn(We,dt){var Ht,hn,Ln,Gn,Qn;if(!(dt.fcmOptions||null!==(Ht=dt.notification)&&void 0!==Ht&&Ht.click_action))return;We.fcmOptions={};const Ci=null!==(Ln=null===(hn=dt.fcmOptions)||void 0===hn?void 0:hn.link)&&void 0!==Ln?Ln:null===(Gn=dt.notification)||void 0===Gn?void 0:Gn.click_action;Ci&&(We.fcmOptions.link=Ci);const Zt=null===(Qn=dt.fcmOptions)||void 0===Qn?void 0:Qn.analytics_label;Zt&&(We.fcmOptions.analyticsLabel=Zt)}(dt,We),dt}function Fi(We,dt){const Ht=[];for(let hn=0;hn<We.length;hn++)Ht.push(We.charAt(hn)),hn<dt.length&&Ht.push(dt.charAt(hn));return Ht.join("")}function _r(We){return Po.create("missing-app-config-values",{valueName:We})}Fi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Fi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fr{constructor(dt,Ht,hn){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ln=function Nr(We){if(!We||!We.options)throw _r("App Configuration Object");if(!We.name)throw _r("App Name");const dt=["projectId","apiKey","appId","messagingSenderId"],{options:Ht}=We;for(const hn of dt)if(!Ht[hn])throw _r(hn);return{appName:We.name,projectId:Ht.projectId,apiKey:Ht.apiKey,appId:Ht.appId,senderId:Ht.messagingSenderId}}(dt);this.firebaseDependencies={app:dt,appConfig:Ln,installations:Ht,analyticsProvider:hn}}_delete(){return Promise.resolve()}}function fo(){return(fo=(0,v.Z)(function*(We){try{We.swRegistration=yield navigator.serviceWorker.register(fs,{scope:ra}),We.swRegistration.update().catch(()=>{})}catch(dt){throw Po.create("failed-service-worker-registration",{browserErrorMessage:dt?.message})}})).apply(this,arguments)}function vr(){return(vr=(0,v.Z)(function*(We,dt){if(!dt&&!We.swRegistration&&(yield function tr(We){return fo.apply(this,arguments)}(We)),dt||!We.swRegistration){if(!(dt instanceof ServiceWorkerRegistration))throw Po.create("invalid-sw-registration");We.swRegistration=dt}})).apply(this,arguments)}function Gi(){return(Gi=(0,v.Z)(function*(We,dt){dt?We.vapidKey=dt:We.vapidKey||(We.vapidKey=Bs)})).apply(this,arguments)}function no(){return no=(0,v.Z)(function*(We,dt){if(!navigator)throw Po.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Po.create("permission-blocked");return yield function is(We,dt){return Gi.apply(this,arguments)}(We,dt?.vapidKey),yield function Lr(We,dt){return vr.apply(this,arguments)}(We,dt?.serviceWorkerRegistration),function ya(We){return el.apply(this,arguments)}(We)}),no.apply(this,arguments)}function Zs(){return(Zs=(0,v.Z)(function*(We,dt,Ht){const hn=function sa(We){switch(We){case ut.NOTIFICATION_CLICKED:return"notification_open";case ut.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(dt);(yield We.firebaseDependencies.analyticsProvider.get()).logEvent(hn,{message_id:Ht[Aa],message_name:Ht[Ur],message_time:Ht[kn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function aa(){return aa=(0,v.Z)(function*(We,dt){const Ht=dt.data;if(!Ht.isFirebaseMessaging)return;We.onMessageHandler&&Ht.messageType===ut.PUSH_RECEIVED&&("function"==typeof We.onMessageHandler?We.onMessageHandler(mt(Ht)):We.onMessageHandler.next(mt(Ht)));const hn=Ht.data;(function ai(We){return"object"==typeof We&&!!We&&Aa in We})(hn)&&"1"===hn["google.c.a.e"]&&(yield function Ms(We,dt,Ht){return Zs.apply(this,arguments)}(We,Ht.messageType,hn))}),aa.apply(this,arguments)}const Pl="@firebase/messaging",Va=We=>{const dt=new fr(We.getProvider("app").getImmediate(),We.getProvider("installations-internal").getImmediate(),We.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Ht=>function ba(We,dt){return aa.apply(this,arguments)}(dt,Ht)),dt},As=We=>{const dt=We.getProvider("messaging").getImmediate();return{getToken:hn=>function Qr(We,dt){return no.apply(this,arguments)}(dt,hn)}};function di(){return sr.apply(this,arguments)}function sr(){return(sr=(0,v.Z)(function*(){try{yield(0,_.eu)()}catch{return!1}return typeof window<"u"&&(0,_.hl)()&&(0,_.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function hc(){(0,b._registerComponent)(new P.wA("messaging",Va,"PUBLIC")),(0,b._registerComponent)(new P.wA("messaging-internal",As,"PRIVATE")),(0,b.registerVersion)(Pl,"0.12.4"),(0,b.registerVersion)(Pl,"0.12.4","esm2017")}();const Rl="analytics",Ta="firebase_id",ps="origin",Jo=6e4,la="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gl="https://www.googletagmanager.com/gtag/js",_o=new C.Yd("@firebase/analytics"),Go=new _.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function nl(We){if(!We.startsWith(gl)){const dt=Go.create("invalid-gtag-resource",{gtagURL:We});return _o.warn(dt.message),""}return We}function Sa(We){return Promise.all(We.map(dt=>dt.catch(Ht=>Ht)))}function vl(){return(vl=(0,v.Z)(function*(We,dt,Ht,hn,Ln,Gn){const Qn=hn[Ln];try{if(Qn)yield dt[Qn];else{const Zt=(yield Sa(Ht)).find(Ni=>Ni.measurementId===Ln);Zt&&(yield dt[Zt.appId])}}catch(Ci){_o.error(Ci)}We("config",Ln,Gn)})).apply(this,arguments)}function $s(){return($s=(0,v.Z)(function*(We,dt,Ht,hn,Ln){try{let Gn=[];if(Ln&&Ln.send_to){let Qn=Ln.send_to;Array.isArray(Qn)||(Qn=[Qn]);const Ci=yield Sa(Ht);for(const Zt of Qn){const Ni=Ci.find(dr=>dr.measurementId===Zt),Qi=Ni&&dt[Ni.appId];if(!Qi){Gn=[];break}Gn.push(Qi)}}0===Gn.length&&(Gn=Object.values(dt)),yield Promise.all(Gn),We("event",hn,Ln||{})}catch(Gn){_o.error(Gn)}})).apply(this,arguments)}const gc=30,_c=new class Pa{constructor(dt={},Ht=1e3){this.throttleMetadata=dt,this.intervalMillis=Ht}getThrottleMetadata(dt){return this.throttleMetadata[dt]}setThrottleMetadata(dt,Ht){this.throttleMetadata[dt]=Ht}deleteThrottleMetadata(dt){delete this.throttleMetadata[dt]}};function Yl(We){return new Headers({Accept:"application/json","x-goog-api-key":We})}function rt(){return(rt=(0,v.Z)(function*(We){var dt;const{appId:Ht,apiKey:hn}=We,Ln={method:"GET",headers:Yl(hn)},Gn=la.replace("{app-id}",Ht),Qn=yield fetch(Gn,Ln);if(200!==Qn.status&&304!==Qn.status){let Ci="";try{const Zt=yield Qn.json();null!==(dt=Zt.error)&&void 0!==dt&&dt.message&&(Ci=Zt.error.message)}catch{}throw Go.create("config-fetch-failed",{httpStatus:Qn.status,responseMessage:Ci})}return Qn.json()})).apply(this,arguments)}function nt(){return(nt=(0,v.Z)(function*(We,dt=_c,Ht){const{appId:hn,apiKey:Ln,measurementId:Gn}=We.options;if(!hn)throw Go.create("no-app-id");if(!Ln){if(Gn)return{measurementId:Gn,appId:hn};throw Go.create("no-api-key")}const Qn=dt.getThrottleMetadata(hn)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ci=new mi;return setTimeout((0,v.Z)(function*(){Ci.abort()}),void 0!==Ht?Ht:Jo),Gt({appId:hn,apiKey:Ln,measurementId:Gn},Qn,Ci,dt)})).apply(this,arguments)}function Gt(We,dt,Ht){return sn.apply(this,arguments)}function sn(){return sn=(0,v.Z)(function*(We,{throttleEndTimeMillis:dt,backoffCount:Ht},hn,Ln=_c){var Gn;const{appId:Qn,measurementId:Ci}=We;try{yield function dn(We,dt){return new Promise((Ht,hn)=>{const Ln=Math.max(dt-Date.now(),0),Gn=setTimeout(Ht,Ln);We.addEventListener(()=>{clearTimeout(Gn),hn(Go.create("fetch-throttle",{throttleEndTimeMillis:dt}))})})}(hn,dt)}catch(Zt){if(Ci)return _o.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ci} provided in the "measurementId" field in the local Firebase config. [${Zt?.message}]`),{appId:Qn,measurementId:Ci};throw Zt}try{const Zt=yield function Ue(We){return rt.apply(this,arguments)}(We);return Ln.deleteThrottleMetadata(Qn),Zt}catch(Zt){const Ni=Zt;if(!function Vn(We){if(!(We instanceof _.ZR&&We.customData))return!1;const dt=Number(We.customData.httpStatus);return 429===dt||500===dt||503===dt||504===dt}(Ni)){if(Ln.deleteThrottleMetadata(Qn),Ci)return _o.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ci} provided in the "measurementId" field in the local Firebase config. [${Ni?.message}]`),{appId:Qn,measurementId:Ci};throw Zt}const Qi=503===Number(null===(Gn=Ni?.customData)||void 0===Gn?void 0:Gn.httpStatus)?(0,_.$s)(Ht,Ln.intervalMillis,gc):(0,_.$s)(Ht,Ln.intervalMillis),dr={throttleEndTimeMillis:Date.now()+Qi,backoffCount:Ht+1};return Ln.setThrottleMetadata(Qn,dr),_o.debug(`Calling attemptFetch again in ${Qi} millis`),Gt(We,dr,hn,Ln)}}),sn.apply(this,arguments)}class mi{constructor(){this.listeners=[]}addEventListener(dt){this.listeners.push(dt)}abort(){this.listeners.forEach(dt=>dt())}}let Pi,vc;function Tr(){return(Tr=(0,v.Z)(function*(We,dt,Ht,hn,Ln){if(Ln&&Ln.global)We("event",Ht,hn);else{const Gn=yield dt;We("event",Ht,Object.assign(Object.assign({},hn),{send_to:Gn}))}})).apply(this,arguments)}function Nl(){return(Nl=(0,v.Z)(function*(){if(!(0,_.hl)())return _o.warn(Go.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,_.eu)()}catch(We){return _o.warn(Go.create("indexeddb-unavailable",{errorInfo:We?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ra(){return Ra=(0,v.Z)(function*(We,dt,Ht,hn,Ln,Gn,Qn){var Ci;const Zt=function Me(We){return nt.apply(this,arguments)}(We);Zt.then(Vo=>{Ht[Vo.measurementId]=Vo.appId,We.options.measurementId&&Vo.measurementId!==We.options.measurementId&&_o.warn(`The measurement ID in the local Firebase config (${We.options.measurementId}) does not match the measurement ID fetched from the server (${Vo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Vo=>_o.error(Vo)),dt.push(Zt);const Ni=function bc(){return Nl.apply(this,arguments)}().then(Vo=>{if(Vo)return hn.getId()}),[Qi,dr]=yield Promise.all([Zt,Ni]);(function Wl(We){const dt=window.document.getElementsByTagName("script");for(const Ht of Object.values(dt))if(Ht.src&&Ht.src.includes(gl)&&Ht.src.includes(We))return Ht;return null})(Gn)||function Us(We,dt){const Ht=function ca(We,dt){let Ht;return window.trustedTypes&&(Ht=window.trustedTypes.createPolicy(We,dt)),Ht}("firebase-js-sdk-policy",{createScriptURL:nl}),hn=document.createElement("script"),Ln=`${gl}?l=${We}&id=${dt}`;hn.src=Ht?Ht?.createScriptURL(Ln):Ln,hn.async=!0,document.head.appendChild(hn)}(Gn,Qi.measurementId),vc&&(Ln("consent","default",vc),function wr(We){vc=We}(void 0)),Ln("js",new Date);const ys=null!==(Ci=Qn?.config)&&void 0!==Ci?Ci:{};return ys[ps]="firebase",ys.update=!0,null!=dr&&(ys[Ta]=dr),Ln("config",Qi.measurementId,ys),Pi&&(Ln("set",Pi),function yc(We){Pi=We}(void 0)),Qi.measurementId}),Ra.apply(this,arguments)}class zl{constructor(dt){this.app=dt}_delete(){return delete xs[this.app.options.appId],Promise.resolve()}}let xs={},Zl=[];const Tl={};let Jl,Gs,Ya="dataLayer",Na=!1;function Ec(We,dt,Ht){!function vs(){const We=[];if((0,_.ru)()&&We.push("This is a browser extension environment."),(0,_.zI)()||We.push("Cookies are not available."),We.length>0){const dt=We.map((hn,Ln)=>`(${Ln+1}) ${hn}`).join(" "),Ht=Go.create("invalid-analytics-context",{errorInfo:dt});_o.warn(Ht.message)}}();const hn=We.options.appId;if(!hn)throw Go.create("no-app-id");if(!We.options.apiKey){if(!We.options.measurementId)throw Go.create("no-api-key");_o.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${We.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xs[hn])throw Go.create("already-exists",{id:hn});if(!Na){!function _l(We){let dt=[];Array.isArray(window[We])?dt=window[We]:window[We]=dt}(Ya);const{wrappedGtag:Gn,gtagCore:Qn}=function Rc(We,dt,Ht,hn,Ln){let Gn=function(...Qn){window[hn].push(arguments)};return window[Ln]&&"function"==typeof window[Ln]&&(Gn=window[Ln]),window[Ln]=function yl(We,dt,Ht,hn){function Gn(){return Gn=(0,v.Z)(function*(Qn,...Ci){try{if("event"===Qn){const[Zt,Ni]=Ci;yield function Yc(We,dt,Ht,hn,Ln){return $s.apply(this,arguments)}(We,dt,Ht,Zt,Ni)}else if("config"===Qn){const[Zt,Ni]=Ci;yield function pc(We,dt,Ht,hn,Ln,Gn){return vl.apply(this,arguments)}(We,dt,Ht,hn,Zt,Ni)}else if("consent"===Qn){const[Zt]=Ci;We("consent","update",Zt)}else if("get"===Qn){const[Zt,Ni,Qi]=Ci;We("get",Zt,Ni,Qi)}else if("set"===Qn){const[Zt]=Ci;We("set",Zt)}else We(Qn,...Ci)}catch(Zt){_o.error(Zt)}}),Gn.apply(this,arguments)}return function Ln(Qn){return Gn.apply(this,arguments)}}(Gn,We,dt,Ht),{gtagCore:Gn,wrappedGtag:window[Ln]}}(xs,Zl,Tl,Ya,"gtag");Gs=Gn,Jl=Qn,Na=!0}return xs[hn]=function qo(We,dt,Ht,hn,Ln,Gn,Qn){return Ra.apply(this,arguments)}(We,Zl,Tl,dt,Jl,Ya,Ht),new zl(We)}function zc(){return Js.apply(this,arguments)}function Js(){return(Js=(0,v.Z)(function*(){if((0,_.ru)()||!(0,_.zI)()||!(0,_.hl)())return!1;try{return yield(0,_.eu)()}catch{return!1}})).apply(this,arguments)}const Sl="@firebase/analytics";!function Fl(){(0,b._registerComponent)(new P.wA(Rl,(dt,{options:Ht})=>Ec(dt.getProvider("app").getImmediate(),dt.getProvider("installations-internal").getImmediate(),Ht),"PUBLIC")),(0,b._registerComponent)(new P.wA("analytics-internal",function We(dt){try{const Ht=dt.getProvider(Rl).getImmediate();return{logEvent:(hn,Ln,Gn)=>function Qs(We,dt,Ht,hn){We=(0,_.m9)(We),function Ri(We,dt,Ht,hn,Ln){return Tr.apply(this,arguments)}(Gs,xs[We.app.options.appId],dt,Ht,hn).catch(Ln=>_o.error(Ln))}(Ht,hn,Ln,Gn)}}catch(Ht){throw Go.create("interop-component-reg-failed",{reason:Ht})}},"PRIVATE")),(0,b.registerVersion)(Sl,"0.10.0"),(0,b.registerVersion)(Sl,"0.10.0","esm2017")}();var Bl=p(1954),Sc=p(2631);const $c=new class Cc extends Sc.v{}(class Lc extends Bl.o{constructor(dt,Ht){super(dt,Ht),this.scheduler=dt,this.work=Ht}schedule(dt,Ht=0){return Ht>0?super.schedule(dt,Ht):(this.delay=Ht,this.state=dt,this.scheduler.flush(this),this)}execute(dt,Ht){return Ht>0||this.closed?super.execute(dt,Ht):this._execute(dt,Ht)}requestAsyncId(dt,Ht,hn=0){return null!=hn&&hn>0||null==hn&&this.delay>0?super.requestAsyncId(dt,Ht,hn):(dt.flush(this),0)}});var Xl=p(6321),za=p(9397),ka=p(5137),rl=p(3093);const ec=new e.GfV("7.6.1"),Ul="__angularfire_symbol__analyticsIsSupportedValue",Za="__angularfire_symbol__analyticsIsSupported",Dc="__angularfire_symbol__remoteConfigIsSupportedValue",qs="__angularfire_symbol__remoteConfigIsSupported",kc="__angularfire_symbol__messagingIsSupportedValue",Hs="__angularfire_symbol__messagingIsSupported";function Gl(We,dt,Ht){if(dt){if(1===dt.length)return dt[0];const Gn=dt.filter(Qn=>Qn.app===Ht);if(1===Gn.length)return Gn[0]}return Ht.container.getProvider(We).getImmediate({optional:!0})}globalThis[Za]||(globalThis[Za]=zc().then(We=>globalThis[Ul]=We).catch(()=>globalThis[Ul]=!1)),globalThis[Hs]||(globalThis[Hs]=di().then(We=>globalThis[kc]=We).catch(()=>globalThis[kc]=!1)),globalThis[qs]||(globalThis[qs]=Os().then(We=>globalThis[Dc]=We).catch(()=>globalThis[Dc]=!1));const tc=(We,dt)=>{const Ht=dt?[dt]:(0,t.C6)(),hn=[];return Ht.forEach(Ln=>{Ln.container.getProvider(We).instances.forEach(Qn=>{hn.includes(Qn)||hn.push(Qn)})}),hn};function nc(){}class Zr{constructor(dt,Ht=$c){this.zone=dt,this.delegate=Ht}now(){return this.delegate.now()}schedule(dt,Ht,hn){const Ln=this.zone;return this.delegate.schedule(function(Qn){Ln.runGuarded(()=>{dt.apply(this,[Qn])})},Ht,hn)}}class Eo{constructor(dt){this.zone=dt,this.task=null}call(dt,Ht){const hn=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",nc,{},nc,nc)),Ht.pipe((0,za.b)({next:hn,complete:hn,error:hn})).subscribe(dt).add(hn)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Dl=(()=>{class We{constructor(Ht){this.ngZone=Ht,this.outsideAngular=Ht.runOutsideAngular(()=>new Zr(Zone.current)),this.insideAngular=Ht.run(()=>new Zr(Zone.current,Xl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return We.\u0275fac=function(Ht){return new(Ht||We)(e.LFG(e.R0b))},We.\u0275prov=e.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})();function Xs(){const We=globalThis.\u0275AngularFireScheduler;if(!We)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return We}function Ml(We){return Xs(),function rc(We){return function(Ht){return(Ht=Ht.lift(new Eo(We.ngZone))).pipe((0,ka.R)(We.outsideAngular),(0,rl.Q)(We.insideAngular))}}(Xs())(We)}},6878:(Wn,et,p)=>{"use strict";p.d(et,{$:()=>fs,A:()=>d,D:()=>S,I:()=>ln,J:()=>jr,L:()=>ci,N:()=>He,P:()=>qo,Q:()=>Ga,R:()=>Qo,U:()=>us,V:()=>Os,W:()=>Ps,X:()=>uo,Y:()=>oo,Z:()=>ha,_:()=>Ys,a:()=>jo,a0:()=>Bs,a1:()=>Aa,a2:()=>Ot,a3:()=>$o,a4:()=>Ss,a5:()=>Ns,a6:()=>hs,a7:()=>pa,a8:()=>oa,a9:()=>ll,aA:()=>ne,aB:()=>Dc,aC:()=>vt,aD:()=>Ye,aE:()=>ka,aF:()=>Zc,aG:()=>Nc,aH:()=>On,aL:()=>so,aO:()=>mr,aa:()=>wl,ab:()=>cl,ac:()=>Ia,ad:()=>uc,ae:()=>dl,af:()=>ul,ai:()=>fc,aj:()=>el,ak:()=>ml,an:()=>Da,ao:()=>Vt,aq:()=>Gi,ar:()=>Pl,as:()=>Fe,at:()=>In,au:()=>En,av:()=>T,aw:()=>ys,ax:()=>Fc,ay:()=>Nn,az:()=>L,b:()=>pl,c:()=>Gs,d:()=>Ec,e:()=>rd,f:()=>Sl,g:()=>Cc,h:()=>Bl,i:()=>No,j:()=>Xl,k:()=>To,l:()=>da,m:()=>vd,p:()=>m,r:()=>El,s:()=>Wa,u:()=>bc});var e=p(5861),t=p(9058),v=p(534),b=p(7582),_=p(7879),P=p(4537);const m={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},d={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const S=function f(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},x=function g(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},A=new t.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),O=new _.Yd("@firebase/auth");function I(Le,...W){O.logLevel<=_.in.ERROR&&O.error(`Auth (${v.SDK_VERSION}): ${Le}`,...W)}function T(Le,...W){throw z(Le,...W)}function L(Le,...W){return z(Le,...W)}function y(Le,W,se){const Je=Object.assign(Object.assign({},x()),{[W]:se});return new t.LL("auth","Firebase",Je).create(W,{appName:Le.name})}function B(Le,W,se){if(!(W instanceof se))throw se.name!==W.constructor.name&&T(Le,"argument-error"),y(Le,"argument-error",`Type of ${W.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function z(Le,...W){if("string"!=typeof Le){const se=W[0],Je=[...W.slice(1)];return Je[0]&&(Je[0].appName=Le.name),Le._errorFactory.create(se,...Je)}return A.create(Le,...W)}function ne(Le,W,...se){if(!Le)throw z(W,...se)}function ae(Le){const W="INTERNAL ASSERTION FAILED: "+Le;throw I(W),new Error(W)}function Fe(Le,W){Le||ae(W)}function Y(){var Le;return typeof self<"u"&&(null===(Le=self.location)||void 0===Le?void 0:Le.href)||""}function le(){return"http:"===G()||"https:"===G()}function G(){var Le;return typeof self<"u"&&(null===(Le=self.location)||void 0===Le?void 0:Le.protocol)||null}class ge{constructor(W,se){this.shortDelay=W,this.longDelay=se,Fe(se>W,"Short delay should be less than long delay!"),this.isMobile=(0,t.uI)()||(0,t.b$)()}get(){return function Se(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(le()||(0,t.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ie(Le,W){Fe(Le.emulator,"Emulator should always be set here");const{url:se}=Le.emulator;return W?`${se}${W.startsWith("/")?W.slice(1):W}`:se}class Ce{static initialize(W,se,Je){this.fetchImpl=W,se&&(this.headersImpl=se),Je&&(this.responseImpl=Je)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ae=new ge(3e4,6e4);function ke(Le,W){return Le.tenantId&&!W.tenantId?Object.assign(Object.assign({},W),{tenantId:Le.tenantId}):W}function he(Le,W,se,Je){return we.apply(this,arguments)}function we(){return(we=(0,e.Z)(function*(Le,W,se,Je,Wt={}){return Te(Le,Wt,(0,e.Z)(function*(){let an={},Hn={};Je&&("GET"===W?Hn=Je:an={body:JSON.stringify(Je)});const ri=(0,t.xO)(Object.assign({key:Le.config.apiKey},Hn)).slice(1),Si=yield Le._getAdditionalHeaders();return Si["Content-Type"]="application/json",Le.languageCode&&(Si["X-Firebase-Locale"]=Le.languageCode),Ce.fetch()(Ze(Le,Le.config.apiHost,se,ri),Object.assign({method:W,headers:Si,referrerPolicy:"no-referrer"},an))}))})).apply(this,arguments)}function Te(Le,W,se){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,e.Z)(function*(Le,W,se){Le._canInitEmulator=!1;const Je=Object.assign(Object.assign({},pe),W);try{const Wt=new Re(Le),an=yield Promise.race([se(),Wt.promise]);Wt.clearNetworkTimeout();const Hn=yield an.json();if("needConfirmation"in Hn)throw be(Le,"account-exists-with-different-credential",Hn);if(an.ok&&!("errorMessage"in Hn))return Hn;{const ri=an.ok?Hn.errorMessage:Hn.error.message,[Si,wi]=ri.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Si)throw be(Le,"credential-already-in-use",Hn);if("EMAIL_EXISTS"===Si)throw be(Le,"email-already-in-use",Hn);if("USER_DISABLED"===Si)throw be(Le,"user-disabled",Hn);const Wi=Je[Si]||Si.toLowerCase().replace(/[_\s]+/g,"-");if(wi)throw y(Le,Wi,wi);T(Le,Wi)}}catch(Wt){if(Wt instanceof t.ZR)throw Wt;T(Le,"network-request-failed",{message:String(Wt)})}})).apply(this,arguments)}function Ve(Le,W,se,Je){return ft.apply(this,arguments)}function ft(){return(ft=(0,e.Z)(function*(Le,W,se,Je,Wt={}){const an=yield he(Le,W,se,Je,Wt);return"mfaPendingCredential"in an&&T(Le,"multi-factor-auth-required",{_serverResponse:an}),an})).apply(this,arguments)}function Ze(Le,W,se,Je){const Wt=`${W}${se}?${Je}`;return Le.config.emulator?Ie(Le.config,Wt):`${Le.config.apiScheme}://${Wt}`}class Re{constructor(W){this.auth=W,this.timer=null,this.promise=new Promise((se,Je)=>{this.timer=setTimeout(()=>Je(L(this.auth,"network-request-failed")),Ae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function be(Le,W,se){const Je={appName:Le.name};se.email&&(Je.email=se.email),se.phoneNumber&&(Je.phoneNumber=se.phoneNumber);const Wt=L(Le,W,Je);return Wt.customData._tokenResponse=se,Wt}function ie(){return(ie=(0,e.Z)(function*(Le,W){return he(Le,"POST","/v1/accounts:delete",W)})).apply(this,arguments)}function oe(){return(oe=(0,e.Z)(function*(Le,W){return he(Le,"POST","/v1/accounts:update",W)})).apply(this,arguments)}function X(){return(X=(0,e.Z)(function*(Le,W){return he(Le,"POST","/v1/accounts:lookup",W)})).apply(this,arguments)}function $(Le){if(Le)try{const W=new Date(Number(Le));if(!isNaN(W.getTime()))return W.toUTCString()}catch{}}function q(){return(q=(0,e.Z)(function*(Le,W=!1){const se=(0,t.m9)(Le),Je=yield se.getIdToken(W),Wt=xe(Je);ne(Wt&&Wt.exp&&Wt.auth_time&&Wt.iat,se.auth,"internal-error");const an="object"==typeof Wt.firebase?Wt.firebase:void 0,Hn=an?.sign_in_provider;return{claims:Wt,token:Je,authTime:$(_e(Wt.auth_time)),issuedAtTime:$(_e(Wt.iat)),expirationTime:$(_e(Wt.exp)),signInProvider:Hn||null,signInSecondFactor:an?.sign_in_second_factor||null}})).apply(this,arguments)}function _e(Le){return 1e3*Number(Le)}function xe(Le){const[W,se,Je]=Le.split(".");if(void 0===W||void 0===se||void 0===Je)return I("JWT malformed, contained fewer than 3 sections"),null;try{const Wt=(0,t.tV)(se);return Wt?JSON.parse(Wt):(I("Failed to decode base64 JWT payload"),null)}catch(Wt){return I("Caught error parsing JWT payload as JSON",Wt?.toString()),null}}function Ge(Le,W){return ct.apply(this,arguments)}function ct(){return(ct=(0,e.Z)(function*(Le,W,se=!1){if(se)return W;try{return yield W}catch(Je){throw Je instanceof t.ZR&&function Xe({code:Le}){return"auth/user-disabled"===Le||"auth/user-token-expired"===Le}(Je)&&Le.auth.currentUser===Le&&(yield Le.auth.signOut()),Je}})).apply(this,arguments)}class tt{constructor(W){this.user=W,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(W){var se;if(W){const Je=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),Je}{this.errorBackoff=3e4;const Wt=(null!==(se=this.user.stsTokenManager.expirationTime)&&void 0!==se?se:0)-Date.now()-3e5;return Math.max(0,Wt)}}schedule(W=!1){var se=this;if(!this.isRunning)return;const Je=this.getInterval(W);this.timerId=setTimeout((0,e.Z)(function*(){yield se.iteration()}),Je)}iteration(){var W=this;return(0,e.Z)(function*(){try{yield W.user.getIdToken(!0)}catch(se){return void("auth/network-request-failed"===se?.code&&W.schedule(!0))}W.schedule()})()}}class gt{constructor(W,se){this.createdAt=W,this.lastLoginAt=se,this._initializeTime()}_initializeTime(){this.lastSignInTime=$(this.lastLoginAt),this.creationTime=$(this.createdAt)}_copy(W){this.createdAt=W.createdAt,this.lastLoginAt=W.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qe(Le){return yt.apply(this,arguments)}function yt(){return yt=(0,e.Z)(function*(Le){var W;const se=Le.auth,Je=yield Le.getIdToken(),Wt=yield Ge(Le,function ee(Le,W){return X.apply(this,arguments)}(se,{idToken:Je}));ne(Wt?.users.length,se,"internal-error");const an=Wt.users[0];Le._notifyReloadListener(an);const Hn=null!==(W=an.providerUserInfo)&&void 0!==W&&W.length?function Tt(Le){return Le.map(W=>{var{providerId:se}=W,Je=(0,b._T)(W,["providerId"]);return{providerId:se,uid:Je.rawId||"",displayName:Je.displayName||null,email:Je.email||null,phoneNumber:Je.phoneNumber||null,photoURL:Je.photoUrl||null}})}(an.providerUserInfo):[],ri=function ze(Le,W){return[...Le.filter(Je=>!W.some(Wt=>Wt.providerId===Je.providerId)),...W]}(Le.providerData,Hn),Wi=!!Le.isAnonymous&&!(Le.email&&an.passwordHash||ri?.length),Dr={uid:an.localId,displayName:an.displayName||null,photoURL:an.photoUrl||null,email:an.email||null,emailVerified:an.emailVerified||!1,phoneNumber:an.phoneNumber||null,tenantId:an.tenantId||null,providerData:ri,metadata:new gt(an.createdAt,an.lastLoginAt),isAnonymous:Wi};Object.assign(Le,Dr)}),yt.apply(this,arguments)}function fe(){return(fe=(0,e.Z)(function*(Le){const W=(0,t.m9)(Le);yield Qe(W),yield W.auth._persistUserIfCurrent(W),W.auth._notifyListenersIfCurrent(W)})).apply(this,arguments)}function Jt(){return(Jt=(0,e.Z)(function*(Le,W){const se=yield Te(Le,{},(0,e.Z)(function*(){const Je=(0,t.xO)({grant_type:"refresh_token",refresh_token:W}).slice(1),{tokenApiHost:Wt,apiKey:an}=Le.config,Hn=Ze(Le,Wt,"/v1/token",`key=${an}`),ri=yield Le._getAdditionalHeaders();return ri["Content-Type"]="application/x-www-form-urlencoded",Ce.fetch()(Hn,{method:"POST",headers:ri,body:Je})}));return{accessToken:se.access_token,expiresIn:se.expires_in,refreshToken:se.refresh_token}})).apply(this,arguments)}class qt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(W){ne(W.idToken,"internal-error"),ne(typeof W.idToken<"u","internal-error"),ne(typeof W.refreshToken<"u","internal-error");const se="expiresIn"in W&&typeof W.expiresIn<"u"?Number(W.expiresIn):function Ee(Le){const W=xe(Le);return ne(W,"internal-error"),ne(typeof W.exp<"u","internal-error"),ne(typeof W.iat<"u","internal-error"),Number(W.exp)-Number(W.iat)}(W.idToken);this.updateTokensAndExpiration(W.idToken,W.refreshToken,se)}getToken(W,se=!1){var Je=this;return(0,e.Z)(function*(){return ne(!Je.accessToken||Je.refreshToken,W,"user-token-expired"),se||!Je.accessToken||Je.isExpired?Je.refreshToken?(yield Je.refresh(W,Je.refreshToken),Je.accessToken):null:Je.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(W,se){var Je=this;return(0,e.Z)(function*(){const{accessToken:Wt,refreshToken:an,expiresIn:Hn}=yield function Kt(Le,W){return Jt.apply(this,arguments)}(W,se);Je.updateTokensAndExpiration(Wt,an,Number(Hn))})()}updateTokensAndExpiration(W,se,Je){this.refreshToken=se||null,this.accessToken=W||null,this.expirationTime=Date.now()+1e3*Je}static fromJSON(W,se){const{refreshToken:Je,accessToken:Wt,expirationTime:an}=se,Hn=new qt;return Je&&(ne("string"==typeof Je,"internal-error",{appName:W}),Hn.refreshToken=Je),Wt&&(ne("string"==typeof Wt,"internal-error",{appName:W}),Hn.accessToken=Wt),an&&(ne("number"==typeof an,"internal-error",{appName:W}),Hn.expirationTime=an),Hn}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(W){this.accessToken=W.accessToken,this.refreshToken=W.refreshToken,this.expirationTime=W.expirationTime}_clone(){return Object.assign(new qt,this.toJSON())}_performRefresh(){return ae("not implemented")}}function un(Le,W){ne("string"==typeof Le||typeof Le>"u","internal-error",{appName:W})}class fn{constructor(W){var{uid:se,auth:Je,stsTokenManager:Wt}=W,an=(0,b._T)(W,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=se,this.auth=Je,this.stsTokenManager=Wt,this.accessToken=Wt.accessToken,this.displayName=an.displayName||null,this.email=an.email||null,this.emailVerified=an.emailVerified||!1,this.phoneNumber=an.phoneNumber||null,this.photoURL=an.photoURL||null,this.isAnonymous=an.isAnonymous||!1,this.tenantId=an.tenantId||null,this.providerData=an.providerData?[...an.providerData]:[],this.metadata=new gt(an.createdAt||void 0,an.lastLoginAt||void 0)}getIdToken(W){var se=this;return(0,e.Z)(function*(){const Je=yield Ge(se,se.stsTokenManager.getToken(se.auth,W));return ne(Je,se.auth,"internal-error"),se.accessToken!==Je&&(se.accessToken=Je,yield se.auth._persistUserIfCurrent(se),se.auth._notifyListenersIfCurrent(se)),Je})()}getIdTokenResult(W){return function J(Le){return q.apply(this,arguments)}(this,W)}reload(){return function Dt(Le){return fe.apply(this,arguments)}(this)}_assign(W){this!==W&&(ne(this.uid===W.uid,this.auth,"internal-error"),this.displayName=W.displayName,this.photoURL=W.photoURL,this.email=W.email,this.emailVerified=W.emailVerified,this.phoneNumber=W.phoneNumber,this.isAnonymous=W.isAnonymous,this.tenantId=W.tenantId,this.providerData=W.providerData.map(se=>Object.assign({},se)),this.metadata._copy(W.metadata),this.stsTokenManager._assign(W.stsTokenManager))}_clone(W){const se=new fn(Object.assign(Object.assign({},this),{auth:W,stsTokenManager:this.stsTokenManager._clone()}));return se.metadata._copy(this.metadata),se}_onReload(W){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=W,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(W){this.reloadListener?this.reloadListener(W):this.reloadUserInfo=W}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(W,se=!1){var Je=this;return(0,e.Z)(function*(){let Wt=!1;W.idToken&&W.idToken!==Je.stsTokenManager.accessToken&&(Je.stsTokenManager.updateFromServerResponse(W),Wt=!0),se&&(yield Qe(Je)),yield Je.auth._persistUserIfCurrent(Je),Wt&&Je.auth._notifyListenersIfCurrent(Je)})()}delete(){var W=this;return(0,e.Z)(function*(){const se=yield W.getIdToken();return yield Ge(W,function Q(Le,W){return ie.apply(this,arguments)}(W.auth,{idToken:se})),W.stsTokenManager.clearRefreshToken(),W.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(W=>Object.assign({},W)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(W,se){var Je,Wt,an,Hn,ri,Si,wi,Wi;const Dr=null!==(Je=se.displayName)&&void 0!==Je?Je:void 0,Ls=null!==(Wt=se.email)&&void 0!==Wt?Wt:void 0,sc=null!==(an=se.phoneNumber)&&void 0!==an?an:void 0,V=null!==(Hn=se.photoURL)&&void 0!==Hn?Hn:void 0,r=null!==(ri=se.tenantId)&&void 0!==ri?ri:void 0,l=null!==(Si=se._redirectEventId)&&void 0!==Si?Si:void 0,h=null!==(wi=se.createdAt)&&void 0!==wi?wi:void 0,M=null!==(Wi=se.lastLoginAt)&&void 0!==Wi?Wi:void 0,{uid:k,emailVerified:H,isAnonymous:te,providerData:De,stsTokenManager:Pe}=se;ne(k&&Pe,W,"internal-error");const lt=qt.fromJSON(this.name,Pe);ne("string"==typeof k,W,"internal-error"),un(Dr,W.name),un(Ls,W.name),ne("boolean"==typeof H,W,"internal-error"),ne("boolean"==typeof te,W,"internal-error"),un(sc,W.name),un(V,W.name),un(r,W.name),un(l,W.name),un(h,W.name),un(M,W.name);const pt=new fn({uid:k,auth:W,email:Ls,emailVerified:H,displayName:Dr,isAnonymous:te,photoURL:V,phoneNumber:sc,tenantId:r,stsTokenManager:lt,createdAt:h,lastLoginAt:M});return De&&Array.isArray(De)&&(pt.providerData=De.map(Bt=>Object.assign({},Bt))),l&&(pt._redirectEventId=l),pt}static _fromIdTokenResponse(W,se,Je=!1){return(0,e.Z)(function*(){const Wt=new qt;Wt.updateFromServerResponse(se);const an=new fn({uid:se.localId,auth:W,stsTokenManager:Wt,isAnonymous:Je});return yield Qe(an),an})()}}const wt=new Map;function vt(Le){Fe(Le instanceof Function,"Expected a class definition");let W=wt.get(Le);return W?(Fe(W instanceof Le,"Instance stored in cache mismatched with class"),W):(W=new Le,wt.set(Le,W),W)}const He=(()=>{class Le{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,e.Z)(function*(){return!0})()}_set(se,Je){var Wt=this;return(0,e.Z)(function*(){Wt.storage[se]=Je})()}_get(se){var Je=this;return(0,e.Z)(function*(){const Wt=Je.storage[se];return void 0===Wt?null:Wt})()}_remove(se){var Je=this;return(0,e.Z)(function*(){delete Je.storage[se]})()}_addListener(se,Je){}_removeListener(se,Je){}}return Le.type="NONE",Le})();function Ye(Le,W,se){return`firebase:${Le}:${W}:${se}`}class st{constructor(W,se,Je){this.persistence=W,this.auth=se,this.userKey=Je;const{config:Wt,name:an}=this.auth;this.fullUserKey=Ye(this.userKey,Wt.apiKey,an),this.fullPersistenceKey=Ye("persistence",Wt.apiKey,an),this.boundEventHandler=se._onStorageEvent.bind(se),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(W){return this.persistence._set(this.fullUserKey,W.toJSON())}getCurrentUser(){var W=this;return(0,e.Z)(function*(){const se=yield W.persistence._get(W.fullUserKey);return se?fn._fromJSON(W.auth,se):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(W){var se=this;return(0,e.Z)(function*(){if(se.persistence===W)return;const Je=yield se.getCurrentUser();return yield se.removeCurrentUser(),se.persistence=W,Je?se.setCurrentUser(Je):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(W,se,Je="authUser"){return(0,e.Z)(function*(){if(!se.length)return new st(vt(He),W,Je);const Wt=(yield Promise.all(se.map(function(){var wi=(0,e.Z)(function*(Wi){if(yield Wi._isAvailable())return Wi});return function(Wi){return wi.apply(this,arguments)}}()))).filter(wi=>wi);let an=Wt[0]||vt(He);const Hn=Ye(Je,W.config.apiKey,W.name);let ri=null;for(const wi of se)try{const Wi=yield wi._get(Hn);if(Wi){const Dr=fn._fromJSON(W,Wi);wi!==an&&(ri=Dr),an=wi;break}}catch{}const Si=Wt.filter(wi=>wi._shouldAllowMigration);return an._shouldAllowMigration&&Si.length?(an=Si[0],ri&&(yield an._set(Hn,ri.toJSON())),yield Promise.all(se.map(function(){var wi=(0,e.Z)(function*(Wi){if(Wi!==an)try{yield Wi._remove(Hn)}catch{}});return function(Wi){return wi.apply(this,arguments)}}())),new st(an,W,Je)):new st(an,W,Je)})()}}function at(Le){const W=Le.toLowerCase();if(W.includes("opera/")||W.includes("opr/")||W.includes("opios/"))return"Opera";if(on(W))return"IEMobile";if(W.includes("msie")||W.includes("trident/"))return"IE";if(W.includes("edge/"))return"Edge";if(St(W))return"Firefox";if(W.includes("silk/"))return"Silk";if(tn(W))return"Blackberry";if(Mn(W))return"Webos";if(bt(W))return"Safari";if((W.includes("chrome/")||At(W))&&!W.includes("edge/"))return"Chrome";if(En(W))return"Android";{const Je=Le.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===Je?.length)return Je[1]}return"Other"}function St(Le=(0,t.z$)()){return/firefox\//i.test(Le)}function bt(Le=(0,t.z$)()){const W=Le.toLowerCase();return W.includes("safari/")&&!W.includes("chrome/")&&!W.includes("crios/")&&!W.includes("android")}function At(Le=(0,t.z$)()){return/crios\//i.test(Le)}function on(Le=(0,t.z$)()){return/iemobile/i.test(Le)}function En(Le=(0,t.z$)()){return/android/i.test(Le)}function tn(Le=(0,t.z$)()){return/blackberry/i.test(Le)}function Mn(Le=(0,t.z$)()){return/webos/i.test(Le)}function In(Le=(0,t.z$)()){return/iphone|ipad|ipod/i.test(Le)||/macintosh/i.test(Le)&&/mobile/i.test(Le)}function Nn(Le=(0,t.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(Le)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(Le)}function vn(Le=(0,t.z$)()){return In(Le)||En(Le)||Mn(Le)||tn(Le)||/windows phone/i.test(Le)||on(Le)}function yn(Le,W=[]){let se;switch(Le){case"Browser":se=at((0,t.z$)());break;case"Worker":se=`${at((0,t.z$)())}-${Le}`;break;default:se=Le}const Je=W.length?W.join(","):"FirebaseCore-web";return`${se}/JsCore/${v.SDK_VERSION}/${Je}`}function _n(){return(_n=(0,e.Z)(function*(Le){return(yield he(Le,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Mt(Le,W){return ht.apply(this,arguments)}function ht(){return(ht=(0,e.Z)(function*(Le,W){return he(Le,"GET","/v2/recaptchaConfig",ke(Le,W))})).apply(this,arguments)}function Tn(Le){return void 0!==Le&&void 0!==Le.getResponse}function qe(Le){return void 0!==Le&&void 0!==Le.enterprise}class Ct{constructor(W){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===W.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=W.recaptchaKey.split("/")[3],this.emailPasswordEnabled=W.recaptchaEnforcementState.some(se=>"EMAIL_PASSWORD_PROVIDER"===se.provider&&"OFF"!==se.enforcementState)}}function Rt(Le){return new Promise((W,se)=>{const Je=document.createElement("script");Je.setAttribute("src",Le),Je.onload=W,Je.onerror=Wt=>{const an=L("internal-error");an.customData=Wt,se(an)},Je.type="text/javascript",Je.charset="UTF-8",function Qt(){var Le,W;return null!==(W=null===(Le=document.getElementsByTagName("head"))||void 0===Le?void 0:Le[0])&&void 0!==W?W:document}().appendChild(Je)})}function xn(Le){return`__${Le}${Math.floor(1e6*Math.random())}`}class en{constructor(W){this.type="recaptcha-enterprise",this.auth=On(W)}verify(W="verify",se=!1){var Je=this;return(0,e.Z)(function*(){function an(){return an=(0,e.Z)(function*(ri){if(!se){if(null==ri.tenantId&&null!=ri._agentRecaptchaConfig)return ri._agentRecaptchaConfig.siteKey;if(null!=ri.tenantId&&void 0!==ri._tenantRecaptchaConfigs[ri.tenantId])return ri._tenantRecaptchaConfigs[ri.tenantId].siteKey}return new Promise(function(){var Si=(0,e.Z)(function*(wi,Wi){Mt(ri,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Dr=>{if(void 0!==Dr.recaptchaKey){const Ls=new Ct(Dr);return null==ri.tenantId?ri._agentRecaptchaConfig=Ls:ri._tenantRecaptchaConfigs[ri.tenantId]=Ls,wi(Ls.siteKey)}Wi(new Error("recaptcha Enterprise site key undefined"))}).catch(Dr=>{Wi(Dr)})});return function(wi,Wi){return Si.apply(this,arguments)}}())}),an.apply(this,arguments)}function Hn(ri,Si,wi){const Wi=window.grecaptcha;qe(Wi)?Wi.enterprise.ready(()=>{Wi.enterprise.execute(ri,{action:W}).then(Dr=>{Si(Dr)}).catch(()=>{Si("NO_RECAPTCHA")})}):wi(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ri,Si)=>{(function Wt(ri){return an.apply(this,arguments)})(Je.auth).then(wi=>{if(!se&&qe(window.grecaptcha))Hn(wi,ri,Si);else{if(typeof window>"u")return void Si(new Error("RecaptchaVerifier is only supported in browser"));Rt("https://www.google.com/recaptcha/enterprise.js?render="+wi).then(()=>{Hn(wi,ri,Si)}).catch(Wi=>{Si(Wi)})}}).catch(wi=>{Si(wi)})})})()}}function An(Le,W,se){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,e.Z)(function*(Le,W,se,Je=!1){const Wt=new en(Le);let an;try{an=yield Wt.verify(se)}catch{an=yield Wt.verify(se,!0)}const Hn=Object.assign({},W);return Object.assign(Hn,Je?{captchaResp:an}:{captchaResponse:an}),Object.assign(Hn,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Hn,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Hn})).apply(this,arguments)}class Xn{constructor(W){this.auth=W,this.queue=[]}pushCallback(W,se){const Je=an=>new Promise((Hn,ri)=>{try{Hn(W(an))}catch(Si){ri(Si)}});Je.onAbort=se,this.queue.push(Je);const Wt=this.queue.length-1;return()=>{this.queue[Wt]=()=>Promise.resolve()}}runMiddleware(W){var se=this;return(0,e.Z)(function*(){if(se.auth.currentUser===W)return;const Je=[];try{for(const Wt of se.queue)yield Wt(W),Wt.onAbort&&Je.push(Wt.onAbort)}catch(Wt){Je.reverse();for(const an of Je)try{an()}catch{}throw se.auth._errorFactory.create("login-blocked",{originalMessage:Wt?.message})}})()}}class Ut{constructor(W,se,Je,Wt){this.app=W,this.heartbeatServiceProvider=se,this.appCheckServiceProvider=Je,this.config=Wt,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ne(this),this.idTokenSubscription=new Ne(this),this.beforeStateQueue=new Xn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=W.name,this.clientVersion=Wt.sdkClientVersion}_initializeWithPersistence(W,se){var Je=this;return se&&(this._popupRedirectResolver=vt(se)),this._initializationPromise=this.queue((0,e.Z)(function*(){var Wt,an;if(!Je._deleted&&(Je.persistenceManager=yield st.create(Je,W),!Je._deleted)){if(null!==(Wt=Je._popupRedirectResolver)&&void 0!==Wt&&Wt._shouldInitProactively)try{yield Je._popupRedirectResolver._initialize(Je)}catch{}yield Je.initializeCurrentUser(se),Je.lastNotifiedUid=(null===(an=Je.currentUser)||void 0===an?void 0:an.uid)||null,!Je._deleted&&(Je._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var W=this;return(0,e.Z)(function*(){if(W._deleted)return;const se=yield W.assertedPersistence.getCurrentUser();if(W.currentUser||se){if(W.currentUser&&se&&W.currentUser.uid===se.uid)return W._currentUser._assign(se),void(yield W.currentUser.getIdToken());yield W._updateCurrentUser(se,!0)}})()}initializeCurrentUser(W){var se=this;return(0,e.Z)(function*(){var Je;const Wt=yield se.assertedPersistence.getCurrentUser();let an=Wt,Hn=!1;if(W&&se.config.authDomain){yield se.getOrInitRedirectPersistenceManager();const ri=null===(Je=se.redirectUser)||void 0===Je?void 0:Je._redirectEventId,Si=an?._redirectEventId,wi=yield se.tryRedirectSignIn(W);(!ri||ri===Si)&&wi?.user&&(an=wi.user,Hn=!0)}if(!an)return se.directlySetCurrentUser(null);if(!an._redirectEventId){if(Hn)try{yield se.beforeStateQueue.runMiddleware(an)}catch(ri){an=Wt,se._popupRedirectResolver._overrideRedirectResult(se,()=>Promise.reject(ri))}return an?se.reloadAndSetCurrentUserOrClear(an):se.directlySetCurrentUser(null)}return ne(se._popupRedirectResolver,se,"argument-error"),yield se.getOrInitRedirectPersistenceManager(),se.redirectUser&&se.redirectUser._redirectEventId===an._redirectEventId?se.directlySetCurrentUser(an):se.reloadAndSetCurrentUserOrClear(an)})()}tryRedirectSignIn(W){var se=this;return(0,e.Z)(function*(){let Je=null;try{Je=yield se._popupRedirectResolver._completeRedirectFn(se,W,!0)}catch{yield se._setRedirectUser(null)}return Je})()}reloadAndSetCurrentUserOrClear(W){var se=this;return(0,e.Z)(function*(){try{yield Qe(W)}catch(Je){if("auth/network-request-failed"!==Je?.code)return se.directlySetCurrentUser(null)}return se.directlySetCurrentUser(W)})()}useDeviceLanguage(){this.languageCode=function ce(){if(typeof navigator>"u")return null;const Le=navigator;return Le.languages&&Le.languages[0]||Le.language||null}()}_delete(){var W=this;return(0,e.Z)(function*(){W._deleted=!0})()}updateCurrentUser(W){var se=this;return(0,e.Z)(function*(){const Je=W?(0,t.m9)(W):null;return Je&&ne(Je.auth.config.apiKey===se.config.apiKey,se,"invalid-user-token"),se._updateCurrentUser(Je&&Je._clone(se))})()}_updateCurrentUser(W,se=!1){var Je=this;return(0,e.Z)(function*(){if(!Je._deleted)return W&&ne(Je.tenantId===W.tenantId,Je,"tenant-id-mismatch"),se||(yield Je.beforeStateQueue.runMiddleware(W)),Je.queue((0,e.Z)(function*(){yield Je.directlySetCurrentUser(W),Je.notifyAuthListeners()}))})()}signOut(){var W=this;return(0,e.Z)(function*(){return yield W.beforeStateQueue.runMiddleware(null),(W.redirectPersistenceManager||W._popupRedirectResolver)&&(yield W._setRedirectUser(null)),W._updateCurrentUser(null,!0)})()}setPersistence(W){var se=this;return this.queue((0,e.Z)(function*(){yield se.assertedPersistence.setPersistence(vt(W))}))}initializeRecaptchaConfig(){var W=this;return(0,e.Z)(function*(){const se=yield Mt(W,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),Je=new Ct(se);null==W.tenantId?W._agentRecaptchaConfig=Je:W._tenantRecaptchaConfigs[W.tenantId]=Je,Je.emailPasswordEnabled&&new en(W).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(W){this._errorFactory=new t.LL("auth","Firebase",W())}onAuthStateChanged(W,se,Je){return this.registerStateListener(this.authStateSubscription,W,se,Je)}beforeAuthStateChanged(W,se){return this.beforeStateQueue.pushCallback(W,se)}onIdTokenChanged(W,se,Je){return this.registerStateListener(this.idTokenSubscription,W,se,Je)}toJSON(){var W;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(W=this._currentUser)||void 0===W?void 0:W.toJSON()}}_setRedirectUser(W,se){var Je=this;return(0,e.Z)(function*(){const Wt=yield Je.getOrInitRedirectPersistenceManager(se);return null===W?Wt.removeCurrentUser():Wt.setCurrentUser(W)})()}getOrInitRedirectPersistenceManager(W){var se=this;return(0,e.Z)(function*(){if(!se.redirectPersistenceManager){const Je=W&&vt(W)||se._popupRedirectResolver;ne(Je,se,"argument-error"),se.redirectPersistenceManager=yield st.create(se,[vt(Je._redirectPersistence)],"redirectUser"),se.redirectUser=yield se.redirectPersistenceManager.getCurrentUser()}return se.redirectPersistenceManager})()}_redirectUserForId(W){var se=this;return(0,e.Z)(function*(){var Je,Wt;return se._isInitialized&&(yield se.queue((0,e.Z)(function*(){}))),(null===(Je=se._currentUser)||void 0===Je?void 0:Je._redirectEventId)===W?se._currentUser:(null===(Wt=se.redirectUser)||void 0===Wt?void 0:Wt._redirectEventId)===W?se.redirectUser:null})()}_persistUserIfCurrent(W){var se=this;return(0,e.Z)(function*(){if(W===se.currentUser)return se.queue((0,e.Z)(function*(){return se.directlySetCurrentUser(W)}))})()}_notifyListenersIfCurrent(W){W===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var W,se;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const Je=null!==(se=null===(W=this.currentUser)||void 0===W?void 0:W.uid)&&void 0!==se?se:null;this.lastNotifiedUid!==Je&&(this.lastNotifiedUid=Je,this.authStateSubscription.next(this.currentUser))}registerStateListener(W,se,Je,Wt){if(this._deleted)return()=>{};const an="function"==typeof se?se:se.next.bind(se),Hn=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(Hn,this,"internal-error"),Hn.then(()=>an(this.currentUser)),"function"==typeof se?W.addObserver(se,Je,Wt):W.addObserver(se)}directlySetCurrentUser(W){var se=this;return(0,e.Z)(function*(){se.currentUser&&se.currentUser!==W&&se._currentUser._stopProactiveRefresh(),W&&se.isProactiveRefreshEnabled&&W._startProactiveRefresh(),se.currentUser=W,W?yield se.assertedPersistence.setCurrentUser(W):yield se.assertedPersistence.removeCurrentUser()})()}queue(W){return this.operations=this.operations.then(W,W),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(W){!W||this.frameworks.includes(W)||(this.frameworks.push(W),this.frameworks.sort(),this.clientVersion=yn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var W=this;return(0,e.Z)(function*(){var se;const Je={"X-Client-Version":W.clientVersion};W.app.options.appId&&(Je["X-Firebase-gmpid"]=W.app.options.appId);const Wt=yield null===(se=W.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===se?void 0:se.getHeartbeatsHeader();Wt&&(Je["X-Firebase-Client"]=Wt);const an=yield W._getAppCheckToken();return an&&(Je["X-Firebase-AppCheck"]=an),Je})()}_getAppCheckToken(){var W=this;return(0,e.Z)(function*(){var se;const Je=yield null===(se=W.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===se?void 0:se.getToken();return Je?.error&&function D(Le,...W){O.logLevel<=_.in.WARN&&O.warn(`Auth (${v.SDK_VERSION}): ${Le}`,...W)}(`Error while retrieving App Check token: ${Je.error}`),Je?.token})()}}function On(Le){return(0,t.m9)(Le)}class Ne{constructor(W){this.auth=W,this.observer=null,this.addObserver=(0,t.ne)(se=>this.observer=se)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ln(Le,W,se){const Je=On(Le);ne(Je._canInitEmulator,Je,"emulator-config-failed"),ne(/^https?:\/\//.test(W),Je,"invalid-emulator-scheme");const Wt=!!se?.disableWarnings,an=Fn(W),{host:Hn,port:ri}=function vi(Le){const W=Fn(Le),se=/(\/\/)?([^?#/]+)/.exec(Le.substr(W.length));if(!se)return{host:"",port:null};const Je=se[2].split("@").pop()||"",Wt=/^(\[[^\]]+\])(:|$)/.exec(Je);if(Wt){const an=Wt[1];return{host:an,port:Er(Je.substr(an.length+1))}}{const[an,Hn]=Je.split(":");return{host:an,port:Er(Hn)}}}(W);Je.config.emulator={url:`${an}//${Hn}${null===ri?"":`:${ri}`}/`},Je.settings.appVerificationDisabledForTesting=!0,Je.emulatorConfig=Object.freeze({host:Hn,port:ri,protocol:an.replace(":",""),options:Object.freeze({disableWarnings:Wt})}),Wt||function $r(){function Le(){const W=document.createElement("p"),se=W.style;W.innerText="Running in emulator mode. Do not use with production credentials.",se.position="fixed",se.width="100%",se.backgroundColor="#ffffff",se.border=".1em solid #000000",se.color="#b50000",se.bottom="0px",se.left="0px",se.margin="0px",se.zIndex="10000",se.textAlign="center",W.classList.add("firebase-emulator-warning"),document.body.appendChild(W)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",Le):Le())}()}function Fn(Le){const W=Le.indexOf(":");return W<0?"":Le.substr(0,W+1)}function Er(Le){if(!Le)return null;const W=Number(Le);return isNaN(W)?null:W}class jr{constructor(W,se){this.providerId=W,this.signInMethod=se}toJSON(){return ae("not implemented")}_getIdTokenResponse(W){return ae("not implemented")}_linkToIdToken(W,se){return ae("not implemented")}_getReauthenticationResolver(W){return ae("not implemented")}}function ki(Le,W){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,e.Z)(function*(Le,W){return he(Le,"POST","/v1/accounts:resetPassword",ke(Le,W))})).apply(this,arguments)}function Wo(Le,W){return Do.apply(this,arguments)}function Do(){return(Do=(0,e.Z)(function*(Le,W){return he(Le,"POST","/v1/accounts:update",W)})).apply(this,arguments)}function Yi(){return(Yi=(0,e.Z)(function*(Le,W){return he(Le,"POST","/v1/accounts:update",ke(Le,W))})).apply(this,arguments)}function Vr(Le,W){return ir.apply(this,arguments)}function ir(){return(ir=(0,e.Z)(function*(Le,W){return Ve(Le,"POST","/v1/accounts:signInWithPassword",ke(Le,W))})).apply(this,arguments)}function lo(Le,W){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,e.Z)(function*(Le,W){return he(Le,"POST","/v1/accounts:sendOobCode",ke(Le,W))})).apply(this,arguments)}function xr(){return(xr=(0,e.Z)(function*(Le,W){return lo(Le,W)})).apply(this,arguments)}function co(Le,W){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,e.Z)(function*(Le,W){return lo(Le,W)})).apply(this,arguments)}function ws(Le,W){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,e.Z)(function*(Le,W){return lo(Le,W)})).apply(this,arguments)}function Zi(){return(Zi=(0,e.Z)(function*(Le,W){return lo(Le,W)})).apply(this,arguments)}function Wr(){return(Wr=(0,e.Z)(function*(Le,W){return Ve(Le,"POST","/v1/accounts:signInWithEmailLink",ke(Le,W))})).apply(this,arguments)}function Jr(){return(Jr=(0,e.Z)(function*(Le,W){return Ve(Le,"POST","/v1/accounts:signInWithEmailLink",ke(Le,W))})).apply(this,arguments)}class go extends jr{constructor(W,se,Je,Wt=null){super("password",Je),this._email=W,this._password=se,this._tenantId=Wt}static _fromEmailAndPassword(W,se){return new go(W,se,"password")}static _fromEmailAndCode(W,se,Je=null){return new go(W,se,"emailLink",Je)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(W){const se="string"==typeof W?JSON.parse(W):W;if(se?.email&&se?.password){if("password"===se.signInMethod)return this._fromEmailAndPassword(se.email,se.password);if("emailLink"===se.signInMethod)return this._fromEmailAndCode(se.email,se.password,se.tenantId)}return null}_getIdTokenResponse(W){var se=this;return(0,e.Z)(function*(){var Je;switch(se.signInMethod){case"password":const Wt={returnSecureToken:!0,email:se._email,password:se._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(Je=W._getRecaptchaConfig())&&void 0!==Je&&Je.emailPasswordEnabled){const an=yield An(W,Wt,"signInWithPassword");return Vr(W,an)}return Vr(W,Wt).catch(function(){var an=(0,e.Z)(function*(Hn){if("auth/missing-recaptcha-token"===Hn.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ri=yield An(W,Wt,"signInWithPassword");return Vr(W,ri)}return Promise.reject(Hn)});return function(Hn){return an.apply(this,arguments)}}());case"emailLink":return function Rr(Le,W){return Wr.apply(this,arguments)}(W,{email:se._email,oobCode:se._password});default:T(W,"internal-error")}})()}_linkToIdToken(W,se){var Je=this;return(0,e.Z)(function*(){switch(Je.signInMethod){case"password":return Wo(W,{idToken:se,returnSecureToken:!0,email:Je._email,password:Je._password});case"emailLink":return function Mo(Le,W){return Jr.apply(this,arguments)}(W,{idToken:se,email:Je._email,oobCode:Je._password});default:T(W,"internal-error")}})()}_getReauthenticationResolver(W){return this._getIdTokenResponse(W)}}function Dn(Le,W){return qn.apply(this,arguments)}function qn(){return(qn=(0,e.Z)(function*(Le,W){return Ve(Le,"POST","/v1/accounts:signInWithIdp",ke(Le,W))})).apply(this,arguments)}class ci extends jr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(W){const se=new ci(W.providerId,W.signInMethod);return W.idToken||W.accessToken?(W.idToken&&(se.idToken=W.idToken),W.accessToken&&(se.accessToken=W.accessToken),W.nonce&&!W.pendingToken&&(se.nonce=W.nonce),W.pendingToken&&(se.pendingToken=W.pendingToken)):W.oauthToken&&W.oauthTokenSecret?(se.accessToken=W.oauthToken,se.secret=W.oauthTokenSecret):T("argument-error"),se}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(W){const se="string"==typeof W?JSON.parse(W):W,{providerId:Je,signInMethod:Wt}=se,an=(0,b._T)(se,["providerId","signInMethod"]);if(!Je||!Wt)return null;const Hn=new ci(Je,Wt);return Hn.idToken=an.idToken||void 0,Hn.accessToken=an.accessToken||void 0,Hn.secret=an.secret,Hn.nonce=an.nonce,Hn.pendingToken=an.pendingToken||null,Hn}_getIdTokenResponse(W){return Dn(W,this.buildRequest())}_linkToIdToken(W,se){const Je=this.buildRequest();return Je.idToken=se,Dn(W,Je)}_getReauthenticationResolver(W){const se=this.buildRequest();return se.autoCreate=!1,Dn(W,se)}buildRequest(){const W={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)W.pendingToken=this.pendingToken;else{const se={};this.idToken&&(se.id_token=this.idToken),this.accessToken&&(se.access_token=this.accessToken),this.secret&&(se.oauth_token_secret=this.secret),se.providerId=this.providerId,this.nonce&&!this.pendingToken&&(se.nonce=this.nonce),W.postBody=(0,t.xO)(se)}return W}}function Ji(){return(Ji=(0,e.Z)(function*(Le,W){return he(Le,"POST","/v1/accounts:sendVerificationCode",ke(Le,W))})).apply(this,arguments)}function Ki(){return(Ki=(0,e.Z)(function*(Le,W){return Ve(Le,"POST","/v1/accounts:signInWithPhoneNumber",ke(Le,W))})).apply(this,arguments)}function Oo(){return(Oo=(0,e.Z)(function*(Le,W){const se=yield Ve(Le,"POST","/v1/accounts:signInWithPhoneNumber",ke(Le,W));if(se.temporaryProof)throw be(Le,"account-exists-with-different-credential",se);return se})).apply(this,arguments)}const Fo={USER_NOT_FOUND:"user-not-found"};function Ks(){return(Ks=(0,e.Z)(function*(Le,W){return Ve(Le,"POST","/v1/accounts:signInWithPhoneNumber",ke(Le,Object.assign(Object.assign({},W),{operation:"REAUTH"})),Fo)})).apply(this,arguments)}class eo extends jr{constructor(W){super("phone","phone"),this.params=W}static _fromVerification(W,se){return new eo({verificationId:W,verificationCode:se})}static _fromTokenResponse(W,se){return new eo({phoneNumber:W,temporaryProof:se})}_getIdTokenResponse(W){return function or(Le,W){return Ki.apply(this,arguments)}(W,this._makeVerificationRequest())}_linkToIdToken(W,se){return function Ir(Le,W){return Oo.apply(this,arguments)}(W,Object.assign({idToken:se},this._makeVerificationRequest()))}_getReauthenticationResolver(W){return function Bo(Le,W){return Ks.apply(this,arguments)}(W,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:W,phoneNumber:se,verificationId:Je,verificationCode:Wt}=this.params;return W&&se?{temporaryProof:W,phoneNumber:se}:{sessionInfo:Je,code:Wt}}toJSON(){const W={providerId:this.providerId};return this.params.phoneNumber&&(W.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(W.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(W.verificationCode=this.params.verificationCode),this.params.verificationId&&(W.verificationId=this.params.verificationId),W}static fromJSON(W){"string"==typeof W&&(W=JSON.parse(W));const{verificationId:se,verificationCode:Je,phoneNumber:Wt,temporaryProof:an}=W;return Je||se||Wt||an?new eo({verificationId:se,verificationCode:Je,phoneNumber:Wt,temporaryProof:an}):null}}class ds{constructor(W){var se,Je,Wt,an,Hn,ri;const Si=(0,t.zd)((0,t.pd)(W)),wi=null!==(se=Si.apiKey)&&void 0!==se?se:null,Wi=null!==(Je=Si.oobCode)&&void 0!==Je?Je:null,Dr=function yo(Le){switch(Le){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Wt=Si.mode)&&void 0!==Wt?Wt:null);ne(wi&&Wi&&Dr,"argument-error"),this.apiKey=wi,this.operation=Dr,this.code=Wi,this.continueUrl=null!==(an=Si.continueUrl)&&void 0!==an?an:null,this.languageCode=null!==(Hn=Si.languageCode)&&void 0!==Hn?Hn:null,this.tenantId=null!==(ri=Si.tenantId)&&void 0!==ri?ri:null}static parseLink(W){const se=function cs(Le){const W=(0,t.zd)((0,t.pd)(Le)).link,se=W?(0,t.zd)((0,t.pd)(W)).deep_link_id:null,Je=(0,t.zd)((0,t.pd)(Le)).deep_link_id;return(Je?(0,t.zd)((0,t.pd)(Je)).link:null)||Je||se||W||Le}(W);try{return new ds(se)}catch{return null}}}let Ga=(()=>{class Le{constructor(){this.providerId=Le.PROVIDER_ID}static credential(se,Je){return go._fromEmailAndPassword(se,Je)}static credentialWithLink(se,Je){const Wt=ds.parseLink(Je);return ne(Wt,"argument-error"),go._fromEmailAndCode(se,Wt.code,Wt.tenantId)}}return Le.PROVIDER_ID="password",Le.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Le.EMAIL_LINK_SIGN_IN_METHOD="emailLink",Le})();class es{constructor(W){this.providerId=W,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(W){this.defaultLanguageCode=W}setCustomParameters(W){return this.customParameters=W,this}getCustomParameters(){return this.customParameters}}class Ws extends es{constructor(){super(...arguments),this.scopes=[]}addScope(W){return this.scopes.includes(W)||this.scopes.push(W),this}getScopes(){return[...this.scopes]}}class uo extends Ws{static credentialFromJSON(W){const se="string"==typeof W?JSON.parse(W):W;return ne("providerId"in se&&"signInMethod"in se,"argument-error"),ci._fromParams(se)}credential(W){return this._credential(Object.assign(Object.assign({},W),{nonce:W.rawNonce}))}_credential(W){return ne(W.idToken||W.accessToken,"argument-error"),ci._fromParams(Object.assign(Object.assign({},W),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(W){return uo.oauthCredentialFromTaggedObject(W)}static credentialFromError(W){return uo.oauthCredentialFromTaggedObject(W.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:W}){if(!W)return null;const{oauthIdToken:se,oauthAccessToken:Je,oauthTokenSecret:Wt,pendingToken:an,nonce:Hn,providerId:ri}=W;if(!Je&&!Wt&&!se&&!an||!ri)return null;try{return new uo(ri)._credential({idToken:se,accessToken:Je,nonce:Hn,pendingToken:an})}catch{return null}}}let us=(()=>{class Le extends Ws{constructor(){super("facebook.com")}static credential(se){return ci._fromParams({providerId:Le.PROVIDER_ID,signInMethod:Le.FACEBOOK_SIGN_IN_METHOD,accessToken:se})}static credentialFromResult(se){return Le.credentialFromTaggedObject(se)}static credentialFromError(se){return Le.credentialFromTaggedObject(se.customData||{})}static credentialFromTaggedObject({_tokenResponse:se}){if(!se||!("oauthAccessToken"in se)||!se.oauthAccessToken)return null;try{return Le.credential(se.oauthAccessToken)}catch{return null}}}return Le.FACEBOOK_SIGN_IN_METHOD="facebook.com",Le.PROVIDER_ID="facebook.com",Le})(),Os=(()=>{class Le extends Ws{constructor(){super("google.com"),this.addScope("profile")}static credential(se,Je){return ci._fromParams({providerId:Le.PROVIDER_ID,signInMethod:Le.GOOGLE_SIGN_IN_METHOD,idToken:se,accessToken:Je})}static credentialFromResult(se){return Le.credentialFromTaggedObject(se)}static credentialFromError(se){return Le.credentialFromTaggedObject(se.customData||{})}static credentialFromTaggedObject({_tokenResponse:se}){if(!se)return null;const{oauthIdToken:Je,oauthAccessToken:Wt}=se;if(!Je&&!Wt)return null;try{return Le.credential(Je,Wt)}catch{return null}}}return Le.GOOGLE_SIGN_IN_METHOD="google.com",Le.PROVIDER_ID="google.com",Le})(),Ps=(()=>{class Le extends Ws{constructor(){super("github.com")}static credential(se){return ci._fromParams({providerId:Le.PROVIDER_ID,signInMethod:Le.GITHUB_SIGN_IN_METHOD,accessToken:se})}static credentialFromResult(se){return Le.credentialFromTaggedObject(se)}static credentialFromError(se){return Le.credentialFromTaggedObject(se.customData||{})}static credentialFromTaggedObject({_tokenResponse:se}){if(!se||!("oauthAccessToken"in se)||!se.oauthAccessToken)return null;try{return Le.credential(se.oauthAccessToken)}catch{return null}}}return Le.GITHUB_SIGN_IN_METHOD="github.com",Le.PROVIDER_ID="github.com",Le})();class mr extends jr{constructor(W,se){super(W,W),this.pendingToken=se}_getIdTokenResponse(W){return Dn(W,this.buildRequest())}_linkToIdToken(W,se){const Je=this.buildRequest();return Je.idToken=se,Dn(W,Je)}_getReauthenticationResolver(W){const se=this.buildRequest();return se.autoCreate=!1,Dn(W,se)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(W){const se="string"==typeof W?JSON.parse(W):W,{providerId:Je,signInMethod:Wt,pendingToken:an}=se;return Je&&Wt&&an&&Je===Wt?new mr(Je,an):null}static _create(W,se){return new mr(W,se)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class oo extends es{constructor(W){ne(W.startsWith("saml."),"argument-error"),super(W)}static credentialFromResult(W){return oo.samlCredentialFromTaggedObject(W)}static credentialFromError(W){return oo.samlCredentialFromTaggedObject(W.customData||{})}static credentialFromJSON(W){const se=mr.fromJSON(W);return ne(se,"argument-error"),se}static samlCredentialFromTaggedObject({_tokenResponse:W}){if(!W)return null;const{pendingToken:se,providerId:Je}=W;if(!se||!Je)return null;try{return mr._create(Je,se)}catch{return null}}}let ha=(()=>{class Le extends Ws{constructor(){super("twitter.com")}static credential(se,Je){return ci._fromParams({providerId:Le.PROVIDER_ID,signInMethod:Le.TWITTER_SIGN_IN_METHOD,oauthToken:se,oauthTokenSecret:Je})}static credentialFromResult(se){return Le.credentialFromTaggedObject(se)}static credentialFromError(se){return Le.credentialFromTaggedObject(se.customData||{})}static credentialFromTaggedObject({_tokenResponse:se}){if(!se)return null;const{oauthAccessToken:Je,oauthTokenSecret:Wt}=se;if(!Je||!Wt)return null;try{return Le.credential(Je,Wt)}catch{return null}}}return Le.TWITTER_SIGN_IN_METHOD="twitter.com",Le.PROVIDER_ID="twitter.com",Le})();function Ao(Le,W){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,e.Z)(function*(Le,W){return Ve(Le,"POST","/v1/accounts:signUp",ke(Le,W))})).apply(this,arguments)}class pr{constructor(W){this.user=W.user,this.providerId=W.providerId,this._tokenResponse=W._tokenResponse,this.operationType=W.operationType}static _fromIdTokenResponse(W,se,Je,Wt=!1){return(0,e.Z)(function*(){const an=yield fn._fromIdTokenResponse(W,Je,Wt),Hn=Uo(Je);return new pr({user:an,providerId:Hn,_tokenResponse:Je,operationType:se})})()}static _forOperation(W,se,Je){return(0,e.Z)(function*(){yield W._updateTokensIfNecessary(Je,!0);const Wt=Uo(Je);return new pr({user:W,providerId:Wt,_tokenResponse:Je,operationType:se})})()}}function Uo(Le){return Le.providerId?Le.providerId:"phoneNumber"in Le?"phone":null}function Ys(Le){return gr.apply(this,arguments)}function gr(){return(gr=(0,e.Z)(function*(Le){var W;const se=On(Le);if(yield se._initializationPromise,null!==(W=se.currentUser)&&void 0!==W&&W.isAnonymous)return new pr({user:se.currentUser,providerId:null,operationType:"signIn"});const Je=yield Ao(se,{returnSecureToken:!0}),Wt=yield pr._fromIdTokenResponse(se,"signIn",Je,!0);return yield se._updateCurrentUser(Wt.user),Wt})).apply(this,arguments)}class Es extends t.ZR{constructor(W,se,Je,Wt){var an;super(se.code,se.message),this.operationType=Je,this.user=Wt,Object.setPrototypeOf(this,Es.prototype),this.customData={appName:W.name,tenantId:null!==(an=W.tenantId)&&void 0!==an?an:void 0,_serverResponse:se.customData._serverResponse,operationType:Je}}static _fromErrorAndOperation(W,se,Je,Wt){return new Es(W,se,Je,Wt)}}function Zo(Le,W,se,Je){return("reauthenticate"===W?se._getReauthenticationResolver(Le):se._getIdTokenResponse(Le)).catch(an=>{throw"auth/multi-factor-auth-required"===an.code?Es._fromErrorAndOperation(Le,an,W,Je):an})}function Rs(Le){return new Set(Le.map(({providerId:W})=>W).filter(W=>!!W))}function Da(Le,W){return ks.apply(this,arguments)}function ks(){return ks=(0,e.Z)(function*(Le,W){const se=(0,t.m9)(Le);yield ts(!0,se,W);const{providerUserInfo:Je}=yield function ye(Le,W){return oe.apply(this,arguments)}(se.auth,{idToken:yield se.getIdToken(),deleteProvider:[W]}),Wt=Rs(Je||[]);return se.providerData=se.providerData.filter(an=>Wt.has(an.providerId)),Wt.has("phone")||(se.phoneNumber=null),yield se.auth._persistUserIfCurrent(se),se}),ks.apply(this,arguments)}function bo(Le,W){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,e.Z)(function*(Le,W,se=!1){const Je=yield Ge(Le,W._linkToIdToken(Le.auth,yield Le.getIdToken()),se);return pr._forOperation(Le,"link",Je)})).apply(this,arguments)}function ts(Le,W,se){return ma.apply(this,arguments)}function ma(){return(ma=(0,e.Z)(function*(Le,W,se){yield Qe(W);const Wt=!1===Le?"provider-already-linked":"no-such-provider";ne(Rs(W.providerData).has(se)===Le,W.auth,Wt)})).apply(this,arguments)}function Ma(Le,W){return zs.apply(this,arguments)}function zs(){return(zs=(0,e.Z)(function*(Le,W,se=!1){const{auth:Je}=Le,Wt="reauthenticate";try{const an=yield Ge(Le,Zo(Je,Wt,W,Le),se);ne(an.idToken,Je,"internal-error");const Hn=xe(an.idToken);ne(Hn,Je,"internal-error");const{sub:ri}=Hn;return ne(Le.uid===ri,Je,"user-mismatch"),pr._forOperation(Le,Wt,an)}catch(an){throw"auth/user-not-found"===an?.code&&T(Je,"user-mismatch"),an}})).apply(this,arguments)}function Br(Le,W){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,e.Z)(function*(Le,W,se=!1){const Wt=yield Zo(Le,"signIn",W),an=yield pr._fromIdTokenResponse(Le,"signIn",Wt);return se||(yield Le._updateCurrentUser(an.user)),an})).apply(this,arguments)}function fs(Le,W){return ra.apply(this,arguments)}function ra(){return(ra=(0,e.Z)(function*(Le,W){return Br(On(Le),W)})).apply(this,arguments)}function Bs(Le,W){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,e.Z)(function*(Le,W){const se=(0,t.m9)(Le);return yield ts(!1,se,W.providerId),bo(se,W)})).apply(this,arguments)}function Aa(Le,W){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,e.Z)(function*(Le,W){return Ma((0,t.m9)(Le),W)})).apply(this,arguments)}function _t(){return(_t=(0,e.Z)(function*(Le,W){return Ve(Le,"POST","/v1/accounts:signInWithCustomToken",ke(Le,W))})).apply(this,arguments)}function Ot(Le,W){return ut.apply(this,arguments)}function ut(){return ut=(0,e.Z)(function*(Le,W){const se=On(Le),Je=yield function kn(Le,W){return _t.apply(this,arguments)}(se,{token:W,returnSecureToken:!0}),Wt=yield pr._fromIdTokenResponse(se,"signIn",Je);return yield se._updateCurrentUser(Wt.user),Wt}),ut.apply(this,arguments)}class $t{constructor(W,se){this.factorId=W,this.uid=se.mfaEnrollmentId,this.enrollmentTime=new Date(se.enrolledAt).toUTCString(),this.displayName=se.displayName}static _fromServerResponse(W,se){return"phoneInfo"in se?wn._fromServerResponse(W,se):"totpInfo"in se?Ti._fromServerResponse(W,se):T(W,"internal-error")}}class wn extends $t{constructor(W){super("phone",W),this.phoneNumber=W.phoneInfo}static _fromServerResponse(W,se){return new wn(se)}}class Ti extends $t{constructor(W){super("totp",W)}static _fromServerResponse(W,se){return new Ti(se)}}function zi(Le,W,se){var Je;ne((null===(Je=se.url)||void 0===Je?void 0:Je.length)>0,Le,"invalid-continue-uri"),ne(typeof se.dynamicLinkDomain>"u"||se.dynamicLinkDomain.length>0,Le,"invalid-dynamic-link-domain"),W.continueUrl=se.url,W.dynamicLinkDomain=se.dynamicLinkDomain,W.canHandleCodeInApp=se.handleCodeInApp,se.iOS&&(ne(se.iOS.bundleId.length>0,Le,"missing-ios-bundle-id"),W.iOSBundleId=se.iOS.bundleId),se.android&&(ne(se.android.packageName.length>0,Le,"missing-android-pkg-name"),W.androidInstallApp=se.android.installApp,W.androidMinimumVersionCode=se.android.minimumVersion,W.androidPackageName=se.android.packageName)}function $o(Le,W,se){return ns.apply(this,arguments)}function ns(){return ns=(0,e.Z)(function*(Le,W,se){var Je;const Wt=On(Le),an={requestType:"PASSWORD_RESET",email:W,clientType:"CLIENT_TYPE_WEB"};if(null!==(Je=Wt._getRecaptchaConfig())&&void 0!==Je&&Je.emailPasswordEnabled){const Hn=yield An(Wt,an,"getOobCode",!0);se&&zi(Wt,Hn,se),yield co(Wt,Hn)}else se&&zi(Wt,an,se),yield co(Wt,an).catch(function(){var Hn=(0,e.Z)(function*(ri){if("auth/missing-recaptcha-token"!==ri.code)return Promise.reject(ri);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Si=yield An(Wt,an,"getOobCode",!0);se&&zi(Wt,Si,se),yield co(Wt,Si)}});return function(ri){return Hn.apply(this,arguments)}}())}),ns.apply(this,arguments)}function Ss(Le,W,se){return si.apply(this,arguments)}function si(){return(si=(0,e.Z)(function*(Le,W,se){yield ki((0,t.m9)(Le),{oobCode:W,newPassword:se})})).apply(this,arguments)}function Ns(Le,W){return to.apply(this,arguments)}function to(){return to=(0,e.Z)(function*(Le,W){yield function bs(Le,W){return Yi.apply(this,arguments)}((0,t.m9)(Le),{oobCode:W})}),to.apply(this,arguments)}function hs(Le,W){return al.apply(this,arguments)}function al(){return(al=(0,e.Z)(function*(Le,W){const se=(0,t.m9)(Le),Je=yield ki(se,{oobCode:W}),Wt=Je.requestType;switch(ne(Wt,se,"internal-error"),Wt){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(Je.newEmail,se,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(Je.mfaInfo,se,"internal-error");default:ne(Je.email,se,"internal-error")}let an=null;return Je.mfaInfo&&(an=$t._fromServerResponse(On(se),Je.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===Je.requestType?Je.newEmail:Je.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===Je.requestType?Je.email:Je.newEmail)||null,multiFactorInfo:an},operation:Wt}})).apply(this,arguments)}function pa(Le,W){return xa.apply(this,arguments)}function xa(){return(xa=(0,e.Z)(function*(Le,W){const{data:se}=yield hs((0,t.m9)(Le),W);return se.email})).apply(this,arguments)}function oa(Le,W,se){return ms.apply(this,arguments)}function ms(){return ms=(0,e.Z)(function*(Le,W,se){var Je;const Wt=On(Le),an={returnSecureToken:!0,email:W,password:se,clientType:"CLIENT_TYPE_WEB"};let Hn;if(null!==(Je=Wt._getRecaptchaConfig())&&void 0!==Je&&Je.emailPasswordEnabled){const wi=yield An(Wt,an,"signUpPassword");Hn=Ao(Wt,wi)}else Hn=Ao(Wt,an).catch(function(){var wi=(0,e.Z)(function*(Wi){if("auth/missing-recaptcha-token"===Wi.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Dr=yield An(Wt,an,"signUpPassword");return Ao(Wt,Dr)}return Promise.reject(Wi)});return function(Wi){return wi.apply(this,arguments)}}());const ri=yield Hn.catch(wi=>Promise.reject(wi)),Si=yield pr._fromIdTokenResponse(Wt,"signIn",ri);return yield Wt._updateCurrentUser(Si.user),Si}),ms.apply(this,arguments)}function ll(Le,W,se){return fs((0,t.m9)(Le),Ga.credential(W,se))}function wl(Le,W,se){return ga.apply(this,arguments)}function ga(){return ga=(0,e.Z)(function*(Le,W,se){var Je;const Wt=On(Le),an={requestType:"EMAIL_SIGNIN",email:W,clientType:"CLIENT_TYPE_WEB"};function Hn(ri,Si){ne(Si.handleCodeInApp,Wt,"argument-error"),Si&&zi(Wt,ri,Si)}if(null!==(Je=Wt._getRecaptchaConfig())&&void 0!==Je&&Je.emailPasswordEnabled){const ri=yield An(Wt,an,"getOobCode",!0);Hn(ri,se),yield ws(Wt,ri)}else Hn(an,se),yield ws(Wt,an).catch(function(){var ri=(0,e.Z)(function*(Si){if("auth/missing-recaptcha-token"!==Si.code)return Promise.reject(Si);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const wi=yield An(Wt,an,"getOobCode",!0);Hn(wi,se),yield ws(Wt,wi)}});return function(Si){return ri.apply(this,arguments)}}())}),ga.apply(this,arguments)}function cl(Le,W){const se=ds.parseLink(W);return"EMAIL_SIGNIN"===se?.operation}function Ia(Le,W,se){return Po.apply(this,arguments)}function Po(){return(Po=(0,e.Z)(function*(Le,W,se){const Je=(0,t.m9)(Le),Wt=Ga.credentialWithLink(W,se||Y());return ne(Wt._tenantId===(Je.tenantId||null),Je,"tenant-id-mismatch"),fs(Je,Wt)})).apply(this,arguments)}function wa(){return(wa=(0,e.Z)(function*(Le,W){return he(Le,"POST","/v1/accounts:createAuthUri",ke(Le,W))})).apply(this,arguments)}function uc(Le,W){return Ha.apply(this,arguments)}function Ha(){return Ha=(0,e.Z)(function*(Le,W){const Je={identifier:W,continueUri:le()?Y():"http://localhost"},{signinMethods:Wt}=yield function Kc(Le,W){return wa.apply(this,arguments)}((0,t.m9)(Le),Je);return Wt||[]}),Ha.apply(this,arguments)}function dl(Le,W){return _a.apply(this,arguments)}function _a(){return _a=(0,e.Z)(function*(Le,W){const se=(0,t.m9)(Le),Wt={requestType:"VERIFY_EMAIL",idToken:yield Le.getIdToken()};W&&zi(se.auth,Wt,W);const{email:an}=yield function ls(Le,W){return xr.apply(this,arguments)}(se.auth,Wt);an!==Le.email&&(yield Le.reload())}),_a.apply(this,arguments)}function ul(Le,W,se){return va.apply(this,arguments)}function va(){return va=(0,e.Z)(function*(Le,W,se){const Je=(0,t.m9)(Le),an={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield Le.getIdToken(),newEmail:W};se&&zi(Je.auth,an,se);const{email:Hn}=yield function yi(Le,W){return Zi.apply(this,arguments)}(Je.auth,an);Hn!==Le.email&&(yield Le.reload())}),va.apply(this,arguments)}function hl(){return(hl=(0,e.Z)(function*(Le,W){return he(Le,"POST","/v1/accounts:update",W)})).apply(this,arguments)}function fc(Le,W){return ya.apply(this,arguments)}function ya(){return ya=(0,e.Z)(function*(Le,{displayName:W,photoURL:se}){if(void 0===W&&void 0===se)return;const Je=(0,t.m9)(Le),an={idToken:yield Je.getIdToken(),displayName:W,photoUrl:se,returnSecureToken:!0},Hn=yield Ge(Je,function fl(Le,W){return hl.apply(this,arguments)}(Je.auth,an));Je.displayName=Hn.displayName||null,Je.photoURL=Hn.photoUrl||null;const ri=Je.providerData.find(({providerId:Si})=>"password"===Si);ri&&(ri.displayName=Je.displayName,ri.photoURL=Je.photoURL),yield Je._updateTokensIfNecessary(Hn)}),ya.apply(this,arguments)}function el(Le,W){return Ol((0,t.m9)(Le),W,null)}function ml(Le,W){return Ol((0,t.m9)(Le),null,W)}function Ol(Le,W,se){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,e.Z)(function*(Le,W,se){const{auth:Je}=Le,an={idToken:yield Le.getIdToken(),returnSecureToken:!0};W&&(an.email=W),se&&(an.password=se);const Hn=yield Ge(Le,Wo(Je,an));yield Le._updateTokensIfNecessary(Hn,!0)})).apply(this,arguments)}class Ds{constructor(W,se,Je={}){this.isNewUser=W,this.providerId=se,this.profile=Je}}class rr extends Ds{constructor(W,se,Je,Wt){super(W,se,Je),this.username=Wt}}class ja extends Ds{constructor(W,se){super(W,"facebook.com",se)}}class $e extends rr{constructor(W,se){super(W,"github.com",se,"string"==typeof se?.login?se?.login:null)}}class Yt extends Ds{constructor(W,se){super(W,"google.com",se)}}class mt extends rr{constructor(W,se,Je){super(W,"twitter.com",se,Je)}}function Vt(Le){const{user:W,_tokenResponse:se}=Le;return W.isAnonymous&&!se?{providerId:null,isNewUser:!1,profile:null}:function Oa(Le){var W,se;if(!Le)return null;const{providerId:Je}=Le,Wt=Le.rawUserInfo?JSON.parse(Le.rawUserInfo):{},an=Le.isNewUser||"identitytoolkit#SignupNewUserResponse"===Le.kind;if(!Je&&Le?.idToken){const Hn=null===(se=null===(W=xe(Le.idToken))||void 0===W?void 0:W.firebase)||void 0===se?void 0:se.sign_in_provider;if(Hn)return new Ds(an,"anonymous"!==Hn&&"custom"!==Hn?Hn:null)}if(!Je)return null;switch(Je){case"facebook.com":return new ja(an,Wt);case"github.com":return new $e(an,Wt);case"google.com":return new Yt(an,Wt);case"twitter.com":return new mt(an,Wt,Le.screenName||null);case"custom":case"anonymous":return new Ds(an,null);default:return new Ds(an,Je,Wt)}}(se)}class vr{constructor(W,se,Je){this.type=W,this.credential=se,this.auth=Je}static _fromIdtoken(W,se){return new vr("enroll",W,se)}static _fromMfaPendingCredential(W){return new vr("signin",W)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(W){var se,Je;if(W?.multiFactorSession){if(null!==(se=W.multiFactorSession)&&void 0!==se&&se.pendingCredential)return vr._fromMfaPendingCredential(W.multiFactorSession.pendingCredential);if(null!==(Je=W.multiFactorSession)&&void 0!==Je&&Je.idToken)return vr._fromIdtoken(W.multiFactorSession.idToken)}return null}}class is{constructor(W,se,Je){this.session=W,this.hints=se,this.signInResolver=Je}static _fromError(W,se){const Je=On(W),Wt=se.customData._serverResponse,an=(Wt.mfaInfo||[]).map(ri=>$t._fromServerResponse(Je,ri));ne(Wt.mfaPendingCredential,Je,"internal-error");const Hn=vr._fromMfaPendingCredential(Wt.mfaPendingCredential);return new is(Hn,an,function(){var ri=(0,e.Z)(function*(Si){const wi=yield Si._process(Je,Hn);delete Wt.mfaInfo,delete Wt.mfaPendingCredential;const Wi=Object.assign(Object.assign({},Wt),{idToken:wi.idToken,refreshToken:wi.refreshToken});switch(se.operationType){case"signIn":const Dr=yield pr._fromIdTokenResponse(Je,se.operationType,Wi);return yield Je._updateCurrentUser(Dr.user),Dr;case"reauthenticate":return ne(se.user,Je,"internal-error"),pr._forOperation(se.user,se.operationType,Wi);default:T(Je,"internal-error")}});return function(Si){return ri.apply(this,arguments)}}())}resolveSignIn(W){var se=this;return(0,e.Z)(function*(){return se.signInResolver(W)})()}}function Gi(Le,W){var se;const Je=(0,t.m9)(Le),Wt=W;return ne(W.customData.operationType,Je,"argument-error"),ne(null===(se=Wt.customData._serverResponse)||void 0===se?void 0:se.mfaPendingCredential,Je,"argument-error"),is._fromError(Je,Wt)}class ba{constructor(W){this.user=W,this.enrolledFactors=[],W._onReload(se=>{se.mfaInfo&&(this.enrolledFactors=se.mfaInfo.map(Je=>$t._fromServerResponse(W.auth,Je)))})}static _fromUser(W){return new ba(W)}getSession(){var W=this;return(0,e.Z)(function*(){return vr._fromIdtoken(yield W.user.getIdToken(),W.user.auth)})()}enroll(W,se){var Je=this;return(0,e.Z)(function*(){const Wt=W,an=yield Je.getSession(),Hn=yield Ge(Je.user,Wt._process(Je.user.auth,an,se));return yield Je.user._updateTokensIfNecessary(Hn),Je.user.reload()})()}unenroll(W){var se=this;return(0,e.Z)(function*(){const Je="string"==typeof W?W:W.uid,Wt=yield se.user.getIdToken();try{const an=yield Ge(se.user,function sa(Le,W){return he(Le,"POST","/v2/accounts/mfaEnrollment:withdraw",ke(Le,W))}(se.user.auth,{idToken:Wt,mfaEnrollmentId:Je}));se.enrolledFactors=se.enrolledFactors.filter(({uid:Hn})=>Hn!==Je),yield se.user._updateTokensIfNecessary(an),yield se.user.reload()}catch(an){throw an}})()}}const aa=new WeakMap;function Pl(Le){const W=(0,t.m9)(Le);return aa.has(W)||aa.set(W,ba._fromUser(W)),aa.get(W)}const Ea="__sak";class Va{constructor(W,se){this.storageRetriever=W,this.type=se}_isAvailable(){try{return this.storage?(this.storage.setItem(Ea,"1"),this.storage.removeItem(Ea),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(W,se){return this.storage.setItem(W,JSON.stringify(se)),Promise.resolve()}_get(W){const se=this.storage.getItem(W);return Promise.resolve(se?JSON.parse(se):null)}_remove(W){return this.storage.removeItem(W),Promise.resolve()}get storage(){return this.storageRetriever()}}const pl=(()=>{class Le extends Va{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(se,Je)=>this.onStorageEvent(se,Je),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function As(){const Le=(0,t.z$)();return bt(Le)||In(Le)}()&&function gn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=vn(),this._shouldAllowMigration=!0}forAllChangedKeys(se){for(const Je of Object.keys(this.listeners)){const Wt=this.storage.getItem(Je),an=this.localCache[Je];Wt!==an&&se(Je,an,Wt)}}onStorageEvent(se,Je=!1){if(!se.key)return void this.forAllChangedKeys((ri,Si,wi)=>{this.notifyListeners(ri,wi)});const Wt=se.key;if(Je?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ri=this.storage.getItem(Wt);if(se.newValue!==ri)null!==se.newValue?this.storage.setItem(Wt,se.newValue):this.storage.removeItem(Wt);else if(this.localCache[Wt]===se.newValue&&!Je)return}const an=()=>{const ri=this.storage.getItem(Wt);!Je&&this.localCache[Wt]===ri||this.notifyListeners(Wt,ri)},Hn=this.storage.getItem(Wt);!function ni(){return(0,t.w1)()&&10===document.documentMode}()||Hn===se.newValue||se.newValue===se.oldValue?an():setTimeout(an,10)}notifyListeners(se,Je){this.localCache[se]=Je;const Wt=this.listeners[se];if(Wt)for(const an of Array.from(Wt))an(Je&&JSON.parse(Je))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((se,Je,Wt)=>{this.onStorageEvent(new StorageEvent("storage",{key:se,oldValue:Je,newValue:Wt}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(se,Je){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[se]||(this.listeners[se]=new Set,this.localCache[se]=this.storage.getItem(se)),this.listeners[se].add(Je)}_removeListener(se,Je){this.listeners[se]&&(this.listeners[se].delete(Je),0===this.listeners[se].size&&delete this.listeners[se]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(se,Je){var Wt=()=>super._set,an=this;return(0,e.Z)(function*(){yield Wt().call(an,se,Je),an.localCache[se]=JSON.stringify(Je)})()}_get(se){var Je=()=>super._get,Wt=this;return(0,e.Z)(function*(){const an=yield Je().call(Wt,se);return Wt.localCache[se]=JSON.stringify(an),an})()}_remove(se){var Je=()=>super._remove,Wt=this;return(0,e.Z)(function*(){yield Je().call(Wt,se),delete Wt.localCache[se]})()}}return Le.type="LOCAL",Le})(),jo=(()=>{class Le extends Va{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(se,Je){}_removeListener(se,Je){}}return Le.type="SESSION",Le})();let tl=(()=>{class Le{constructor(se){this.eventTarget=se,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(se){const Je=this.receivers.find(an=>an.isListeningto(se));if(Je)return Je;const Wt=new Le(se);return this.receivers.push(Wt),Wt}isListeningto(se){return this.eventTarget===se}handleEvent(se){var Je=this;return(0,e.Z)(function*(){const Wt=se,{eventId:an,eventType:Hn,data:ri}=Wt.data,Si=Je.handlersMap[Hn];if(!Si?.size)return;Wt.ports[0].postMessage({status:"ack",eventId:an,eventType:Hn});const wi=Array.from(Si).map(function(){var Dr=(0,e.Z)(function*(Ls){return Ls(Wt.origin,ri)});return function(Ls){return Dr.apply(this,arguments)}}()),Wi=yield function Wc(Le){return Promise.all(Le.map(function(){var W=(0,e.Z)(function*(se){try{return{fulfilled:!0,value:yield se}}catch(Je){return{fulfilled:!1,reason:Je}}});return function(se){return W.apply(this,arguments)}}()))}(wi);Wt.ports[0].postMessage({status:"done",eventId:an,eventType:Hn,response:Wi})})()}_subscribe(se,Je){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[se]||(this.handlersMap[se]=new Set),this.handlersMap[se].add(Je)}_unsubscribe(se,Je){this.handlersMap[se]&&Je&&this.handlersMap[se].delete(Je),(!Je||0===this.handlersMap[se].size)&&delete this.handlersMap[se],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return Le.receivers=[],Le})();function so(Le="",W=10){let se="";for(let Je=0;Je<W;Je++)se+=Math.floor(10*Math.random());return Le+se}class Ka{constructor(W){this.target=W,this.handlers=new Set}removeMessageHandler(W){W.messageChannel&&(W.messageChannel.port1.removeEventListener("message",W.onMessage),W.messageChannel.port1.close()),this.handlers.delete(W)}_send(W,se,Je=50){var Wt=this;return(0,e.Z)(function*(){const an=typeof MessageChannel<"u"?new MessageChannel:null;if(!an)throw new Error("connection_unavailable");let Hn,ri;return new Promise((Si,wi)=>{const Wi=so("",20);an.port1.start();const Dr=setTimeout(()=>{wi(new Error("unsupported_event"))},Je);ri={messageChannel:an,onMessage(Ls){const sc=Ls;if(sc.data.eventId===Wi)switch(sc.data.status){case"ack":clearTimeout(Dr),Hn=setTimeout(()=>{wi(new Error("timeout"))},3e3);break;case"done":clearTimeout(Hn),Si(sc.data.response);break;default:clearTimeout(Dr),clearTimeout(Hn),wi(new Error("invalid_response"))}}},Wt.handlers.add(ri),an.port1.addEventListener("message",ri.onMessage),Wt.target.postMessage({eventType:W,eventId:Wi,data:se},[an.port2])}).finally(()=>{ri&&Wt.removeMessageHandler(ri)})})()}}function Ro(){return window}function Ta(){return typeof Ro().WorkerGlobalScope<"u"&&"function"==typeof Ro().importScripts}function Jo(){return(Jo=(0,e.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const _o="firebaseLocalStorageDb",Go="firebaseLocalStorage",nl="fbase_key";class Sa{constructor(W){this.request=W}toPromise(){return new Promise((W,se)=>{this.request.addEventListener("success",()=>{W(this.request.result)}),this.request.addEventListener("error",()=>{se(this.request.error)})})}}function ca(Le,W){return Le.transaction([Go],W?"readwrite":"readonly").objectStore(Go)}function _l(){const Le=indexedDB.open(_o,1);return new Promise((W,se)=>{Le.addEventListener("error",()=>{se(Le.error)}),Le.addEventListener("upgradeneeded",()=>{const Je=Le.result;try{Je.createObjectStore(Go,{keyPath:nl})}catch(Wt){se(Wt)}}),Le.addEventListener("success",(0,e.Z)(function*(){const Je=Le.result;Je.objectStoreNames.contains(Go)?W(Je):(Je.close(),yield function Us(){const Le=indexedDB.deleteDatabase(_o);return new Sa(Le).toPromise()}(),W(yield _l()))}))})}function pc(Le,W,se){return vl.apply(this,arguments)}function vl(){return(vl=(0,e.Z)(function*(Le,W,se){const Je=ca(Le,!0).put({[nl]:W,value:se});return new Sa(Je).toPromise()})).apply(this,arguments)}function $s(){return($s=(0,e.Z)(function*(Le,W){const se=ca(Le,!1).get(W),Je=yield new Sa(se).toPromise();return void 0===Je?null:Je.value})).apply(this,arguments)}function yl(Le,W){const se=ca(Le,!0).delete(W);return new Sa(se).toPromise()}const No=(()=>{class Le{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var se=this;return(0,e.Z)(function*(){return se.db||(se.db=yield _l()),se.db})()}_withRetries(se){var Je=this;return(0,e.Z)(function*(){let Wt=0;for(;;)try{const an=yield Je._openDb();return yield se(an)}catch(an){if(Wt++>3)throw an;Je.db&&(Je.db.close(),Je.db=void 0)}})()}initializeServiceWorkerMessaging(){var se=this;return(0,e.Z)(function*(){return Ta()?se.initializeReceiver():se.initializeSender()})()}initializeReceiver(){var se=this;return(0,e.Z)(function*(){se.receiver=tl._getInstance(function gl(){return Ta()?self:null}()),se.receiver._subscribe("keyChanged",function(){var Je=(0,e.Z)(function*(Wt,an){return{keyProcessed:(yield se._poll()).includes(an.key)}});return function(Wt,an){return Je.apply(this,arguments)}}()),se.receiver._subscribe("ping",function(){var Je=(0,e.Z)(function*(Wt,an){return["keyChanged"]});return function(Wt,an){return Je.apply(this,arguments)}}())})()}initializeSender(){var se=this;return(0,e.Z)(function*(){var Je,Wt;if(se.activeServiceWorker=yield function ps(){return Jo.apply(this,arguments)}(),!se.activeServiceWorker)return;se.sender=new Ka(se.activeServiceWorker);const an=yield se.sender._send("ping",{},800);an&&null!==(Je=an[0])&&void 0!==Je&&Je.fulfilled&&null!==(Wt=an[0])&&void 0!==Wt&&Wt.value.includes("keyChanged")&&(se.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(se){var Je=this;return(0,e.Z)(function*(){if(Je.sender&&Je.activeServiceWorker&&function la(){var Le;return(null===(Le=navigator?.serviceWorker)||void 0===Le?void 0:Le.controller)||null}()===Je.activeServiceWorker)try{yield Je.sender._send("keyChanged",{key:se},Je.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,e.Z)(function*(){try{if(!indexedDB)return!1;const se=yield _l();return yield pc(se,Ea,"1"),yield yl(se,Ea),!0}catch{}return!1})()}_withPendingWrite(se){var Je=this;return(0,e.Z)(function*(){Je.pendingWrites++;try{yield se()}finally{Je.pendingWrites--}})()}_set(se,Je){var Wt=this;return(0,e.Z)(function*(){return Wt._withPendingWrite((0,e.Z)(function*(){return yield Wt._withRetries(an=>pc(an,se,Je)),Wt.localCache[se]=Je,Wt.notifyServiceWorker(se)}))})()}_get(se){var Je=this;return(0,e.Z)(function*(){const Wt=yield Je._withRetries(an=>function Yc(Le,W){return $s.apply(this,arguments)}(an,se));return Je.localCache[se]=Wt,Wt})()}_remove(se){var Je=this;return(0,e.Z)(function*(){return Je._withPendingWrite((0,e.Z)(function*(){return yield Je._withRetries(Wt=>yl(Wt,se)),delete Je.localCache[se],Je.notifyServiceWorker(se)}))})()}_poll(){var se=this;return(0,e.Z)(function*(){const Je=yield se._withRetries(Hn=>{const ri=ca(Hn,!1).getAll();return new Sa(ri).toPromise()});if(!Je)return[];if(0!==se.pendingWrites)return[];const Wt=[],an=new Set;for(const{fbase_key:Hn,value:ri}of Je)an.add(Hn),JSON.stringify(se.localCache[Hn])!==JSON.stringify(ri)&&(se.notifyListeners(Hn,ri),Wt.push(Hn));for(const Hn of Object.keys(se.localCache))se.localCache[Hn]&&!an.has(Hn)&&(se.notifyListeners(Hn,null),Wt.push(Hn));return Wt})()}notifyListeners(se,Je){this.localCache[se]=Je;const Wt=this.listeners[se];if(Wt)for(const an of Array.from(Wt))an(Je)}startPolling(){var se=this;this.stopPolling(),this.pollTimer=setInterval((0,e.Z)(function*(){return se._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(se,Je){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[se]||(this.listeners[se]=new Set,this._get(se)),this.listeners[se].add(Je)}_removeListener(se,Je){this.listeners[se]&&(this.listeners[se].delete(Je),0===this.listeners[se].size&&delete this.listeners[se]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return Le.type="LOCAL",Le})(),Me=1e12;class nt{constructor(W){this.auth=W,this.counter=Me,this._widgets=new Map}render(W,se){const Je=this.counter;return this._widgets.set(Je,new Gt(W,this.auth.name,se||{})),this.counter++,Je}reset(W){var se;const Je=W||Me;null===(se=this._widgets.get(Je))||void 0===se||se.delete(),this._widgets.delete(Je)}getResponse(W){var se;return(null===(se=this._widgets.get(W||Me))||void 0===se?void 0:se.getResponse())||""}execute(W){var se=this;return(0,e.Z)(function*(){var Je;return null===(Je=se._widgets.get(W||Me))||void 0===Je||Je.execute(),""})()}}class Gt{constructor(W,se,Je){this.params=Je,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Wt="string"==typeof W?document.getElementById(W):W;ne(Wt,"argument-error",{appName:se}),this.container=Wt,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function sn(Le){const W=[],se="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Je=0;Je<Le;Je++)W.push(se.charAt(Math.floor(62*Math.random())));return W.join("")}(50);const{callback:W,"expired-callback":se}=this.params;if(W)try{W(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,se)try{se()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const dn=xn("rcb"),Vn=new ge(3e4,6e4);class Pi{constructor(){var W;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(W=Ro().grecaptcha)||void 0===W||!W.render)}load(W,se=""){return ne(function Ri(Le){return Le.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(Le)}(se),W,"argument-error"),this.shouldResolveImmediately(se)&&Tn(Ro().grecaptcha)?Promise.resolve(Ro().grecaptcha):new Promise((Je,Wt)=>{const an=Ro().setTimeout(()=>{Wt(L(W,"network-request-failed"))},Vn.get());Ro()[dn]=()=>{Ro().clearTimeout(an),delete Ro()[dn];const ri=Ro().grecaptcha;if(!ri||!Tn(ri))return void Wt(L(W,"internal-error"));const Si=ri.render;ri.render=(wi,Wi)=>{const Dr=Si(wi,Wi);return this.counter++,Dr},this.hostLanguage=se,Je(ri)},Rt(`https://www.google.com/recaptcha/api.js??${(0,t.xO)({onload:dn,render:"explicit",hl:se})}`).catch(()=>{clearTimeout(an),Wt(L(W,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(W){var se;return!(null===(se=Ro().grecaptcha)||void 0===se||!se.render)&&(W===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Tr{load(W){return(0,e.Z)(function*(){return new nt(W)})()}clearedOneInstance(){}}const qr="recaptcha",ao={theme:"light",type:"image"};class Qo{constructor(W,se=Object.assign({},ao),Je){this.parameters=se,this.type=qr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=On(Je),this.isInvisible="invisible"===this.parameters.size,ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Wt="string"==typeof W?document.getElementById(W):W;ne(Wt,this.auth,"argument-error"),this.container=Wt,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Tr:new Pi,this.validateStartingState()}verify(){var W=this;return(0,e.Z)(function*(){W.assertNotDestroyed();const se=yield W.render(),Je=W.getAssertedRecaptcha();return Je.getResponse(se)||new Promise(an=>{const Hn=ri=>{ri&&(W.tokenChangeListeners.delete(Hn),an(ri))};W.tokenChangeListeners.add(Hn),W.isInvisible&&Je.execute(se)})})()}render(){try{this.assertNotDestroyed()}catch(W){return Promise.reject(W)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(W=>{throw this.renderPromise=null,W})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(W=>{this.container.removeChild(W)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(W){return se=>{if(this.tokenChangeListeners.forEach(Je=>Je(se)),"function"==typeof W)W(se);else if("string"==typeof W){const Je=Ro()[W];"function"==typeof Je&&Je(se)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var W=this;return(0,e.Z)(function*(){if(yield W.init(),!W.widgetId){let se=W.container;if(!W.isInvisible){const Je=document.createElement("div");se.appendChild(Je),se=Je}W.widgetId=W.getAssertedRecaptcha().render(se,W.parameters)}return W.widgetId})()}init(){var W=this;return(0,e.Z)(function*(){ne(le()&&!Ta(),W.auth,"internal-error"),yield function gs(){let Le=null;return new Promise(W=>{"complete"!==document.readyState?(Le=()=>W(),window.addEventListener("load",Le)):W()}).catch(W=>{throw Le&&window.removeEventListener("load",Le),W})}(),W.recaptcha=yield W._recaptchaLoader.load(W.auth,W.auth.languageCode||void 0);const se=yield function pn(Le){return _n.apply(this,arguments)}(W.auth);ne(se,W.auth,"internal-error"),W.parameters.sitekey=se})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class rs{constructor(W,se){this.verificationId=W,this.onConfirmation=se}confirm(W){const se=eo._fromVerification(this.verificationId,W);return this.onConfirmation(se)}}function Wa(Le,W,se){return bl.apply(this,arguments)}function bl(){return(bl=(0,e.Z)(function*(Le,W,se){const Je=On(Le),Wt=yield wr(Je,W,(0,t.m9)(se));return new rs(Wt,an=>fs(Je,an))})).apply(this,arguments)}function da(Le,W,se){return _s.apply(this,arguments)}function _s(){return(_s=(0,e.Z)(function*(Le,W,se){const Je=(0,t.m9)(Le);yield ts(!1,Je,"phone");const Wt=yield wr(Je.auth,W,(0,t.m9)(se));return new rs(Wt,an=>Bs(Je,an))})).apply(this,arguments)}function El(Le,W,se){return vc.apply(this,arguments)}function vc(){return(vc=(0,e.Z)(function*(Le,W,se){const Je=(0,t.m9)(Le),Wt=yield wr(Je.auth,W,(0,t.m9)(se));return new rs(Wt,an=>Aa(Je,an))})).apply(this,arguments)}function wr(Le,W,se){return yc.apply(this,arguments)}function yc(){return yc=(0,e.Z)(function*(Le,W,se){var Je;const Wt=yield se.verify();try{let an;if(ne("string"==typeof Wt,Le,"argument-error"),ne(se.type===qr,Le,"argument-error"),an="string"==typeof W?{phoneNumber:W}:W,"session"in an){const Hn=an.session;if("phoneNumber"in an)return ne("enroll"===Hn.type,Le,"internal-error"),(yield function Qr(Le,W){return he(Le,"POST","/v2/accounts/mfaEnrollment:start",ke(Le,W))}(Le,{idToken:Hn.credential,phoneEnrollmentInfo:{phoneNumber:an.phoneNumber,recaptchaToken:Wt}})).phoneSessionInfo.sessionInfo;{ne("signin"===Hn.type,Le,"internal-error");const ri=(null===(Je=an.multiFactorHint)||void 0===Je?void 0:Je.uid)||an.multiFactorUid;return ne(ri,Le,"missing-multi-factor-info"),(yield function Pa(Le,W){return he(Le,"POST","/v2/accounts/mfaSignIn:start",ke(Le,W))}(Le,{mfaPendingCredential:Hn.credential,mfaEnrollmentId:ri,phoneSignInInfo:{recaptchaToken:Wt}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Hn}=yield function Ui(Le,W){return Ji.apply(this,arguments)}(Le,{phoneNumber:an.phoneNumber,recaptchaToken:Wt});return Hn}}finally{se._reset()}}),yc.apply(this,arguments)}function bc(Le,W){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,e.Z)(function*(Le,W){yield bo((0,t.m9)(Le),W)})).apply(this,arguments)}let qo=(()=>{class Le{constructor(se){this.providerId=Le.PROVIDER_ID,this.auth=On(se)}verifyPhoneNumber(se,Je){return wr(this.auth,se,(0,t.m9)(Je))}static credential(se,Je){return eo._fromVerification(se,Je)}static credentialFromResult(se){return Le.credentialFromTaggedObject(se)}static credentialFromError(se){return Le.credentialFromTaggedObject(se.customData||{})}static credentialFromTaggedObject({_tokenResponse:se}){if(!se)return null;const{phoneNumber:Je,temporaryProof:Wt}=se;return Je&&Wt?eo._fromTokenResponse(Je,Wt):null}}return Le.PROVIDER_ID="phone",Le.PHONE_SIGN_IN_METHOD="phone",Le})();function Ra(Le,W){return W?vt(W):(ne(Le._popupRedirectResolver,Le,"argument-error"),Le._popupRedirectResolver)}class zl extends jr{constructor(W){super("custom","custom"),this.params=W}_getIdTokenResponse(W){return Dn(W,this._buildIdpRequest())}_linkToIdToken(W,se){return Dn(W,this._buildIdpRequest(se))}_getReauthenticationResolver(W){return Dn(W,this._buildIdpRequest())}_buildIdpRequest(W){const se={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return W&&(se.idToken=W),se}}function xs(Le){return Br(Le.auth,new zl(Le),Le.bypassAuthState)}function Zl(Le){const{auth:W,user:se}=Le;return ne(se,W,"internal-error"),Ma(se,new zl(Le),Le.bypassAuthState)}function Tl(Le){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,e.Z)(function*(Le){const{auth:W,user:se}=Le;return ne(se,W,"internal-error"),bo(se,new zl(Le),Le.bypassAuthState)})).apply(this,arguments)}class $l{constructor(W,se,Je,Wt,an=!1){this.auth=W,this.resolver=Je,this.user=Wt,this.bypassAuthState=an,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(se)?se:[se]}execute(){var W=this;return new Promise(function(){var se=(0,e.Z)(function*(Je,Wt){W.pendingPromise={resolve:Je,reject:Wt};try{W.eventManager=yield W.resolver._initialize(W.auth),yield W.onExecution(),W.eventManager.registerConsumer(W)}catch(an){W.reject(an)}});return function(Je,Wt){return se.apply(this,arguments)}}())}onAuthEvent(W){var se=this;return(0,e.Z)(function*(){const{urlResponse:Je,sessionId:Wt,postBody:an,tenantId:Hn,error:ri,type:Si}=W;if(ri)return void se.reject(ri);const wi={auth:se.auth,requestUri:Je,sessionId:Wt,tenantId:Hn||void 0,postBody:an||void 0,user:se.user,bypassAuthState:se.bypassAuthState};try{se.resolve(yield se.getIdpTask(Si)(wi))}catch(Wi){se.reject(Wi)}})()}onError(W){this.reject(W)}getIdpTask(W){switch(W){case"signInViaPopup":case"signInViaRedirect":return xs;case"linkViaPopup":case"linkViaRedirect":return Tl;case"reauthViaPopup":case"reauthViaRedirect":return Zl;default:T(this.auth,"internal-error")}}resolve(W){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(W),this.unregisterAndCleanUp()}reject(W){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(W),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jl=new ge(2e3,1e4);function Gs(Le,W,se){return Na.apply(this,arguments)}function Na(){return(Na=(0,e.Z)(function*(Le,W,se){const Je=On(Le);B(Le,W,es);const Wt=Ra(Je,se);return new il(Je,"signInViaPopup",W,Wt).executeNotNull()})).apply(this,arguments)}function rd(Le,W,se){return vs.apply(this,arguments)}function vs(){return(vs=(0,e.Z)(function*(Le,W,se){const Je=(0,t.m9)(Le);B(Je.auth,W,es);const Wt=Ra(Je.auth,se);return new il(Je.auth,"reauthViaPopup",W,Wt,Je).executeNotNull()})).apply(this,arguments)}function Ec(Le,W,se){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,e.Z)(function*(Le,W,se){const Je=(0,t.m9)(Le);B(Je.auth,W,es);const Wt=Ra(Je.auth,se);return new il(Je.auth,"linkViaPopup",W,Wt,Je).executeNotNull()})).apply(this,arguments)}let il=(()=>{class Le extends $l{constructor(se,Je,Wt,an,Hn){super(se,Je,an,Hn),this.provider=Wt,this.authWindow=null,this.pollId=null,Le.currentPopupAction&&Le.currentPopupAction.cancel(),Le.currentPopupAction=this}executeNotNull(){var se=this;return(0,e.Z)(function*(){const Je=yield se.execute();return ne(Je,se.auth,"internal-error"),Je})()}onExecution(){var se=this;return(0,e.Z)(function*(){Fe(1===se.filter.length,"Popup operations only handle one event");const Je=so();se.authWindow=yield se.resolver._openPopup(se.auth,se.provider,se.filter[0],Je),se.authWindow.associatedEvent=Je,se.resolver._originValidation(se.auth).catch(Wt=>{se.reject(Wt)}),se.resolver._isIframeWebStorageSupported(se.auth,Wt=>{Wt||se.reject(L(se.auth,"web-storage-unsupported"))}),se.pollUserCancellation()})()}get eventId(){var se;return(null===(se=this.authWindow)||void 0===se?void 0:se.associatedEvent)||null}cancel(){this.reject(L(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Le.currentPopupAction=null}pollUserCancellation(){const se=()=>{var Je,Wt;this.pollId=null!==(Wt=null===(Je=this.authWindow)||void 0===Je?void 0:Je.window)&&void 0!==Wt&&Wt.closed?window.setTimeout(()=>{this.pollId=null,this.reject(L(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(se,Jl.get())};se()}}return Le.currentPopupAction=null,Le})();const zc="pendingRedirect",Js=new Map;class Ql extends $l{constructor(W,se,Je=!1){super(W,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],se,void 0,Je),this.eventId=null}execute(){var W=()=>super.execute,se=this;return(0,e.Z)(function*(){let Je=Js.get(se.auth._key());if(!Je){try{const an=(yield function _d(Le,W){return kl.apply(this,arguments)}(se.resolver,se.auth))?yield W().call(se):null;Je=()=>Promise.resolve(an)}catch(Wt){Je=()=>Promise.reject(Wt)}Js.set(se.auth._key(),Je)}return se.bypassAuthState||Js.set(se.auth._key(),()=>Promise.resolve(null)),Je()})()}onAuthEvent(W){var se=()=>super.onAuthEvent,Je=this;return(0,e.Z)(function*(){if("signInViaRedirect"===W.type)return se().call(Je,W);if("unknown"!==W.type){if(W.eventId){const Wt=yield Je.auth._redirectUserForId(W.eventId);if(Wt)return Je.user=Wt,se().call(Je,W);Je.resolve(null)}}else Je.resolve(null)})()}onExecution(){return(0,e.Z)(function*(){})()}cleanUp(){}}function kl(){return(kl=(0,e.Z)(function*(Le,W){const se=La(W),Je=Qs(Le);if(!(yield Je._isAvailable()))return!1;const Wt="true"===(yield Je._get(se));return yield Je._remove(se),Wt})).apply(this,arguments)}function ql(Le,W){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,e.Z)(function*(Le,W){return Qs(Le)._set(La(W),"true")})).apply(this,arguments)}function Nc(){Js.clear()}function Zc(Le,W){Js.set(Le._key(),W)}function Qs(Le){return vt(Le._redirectPersistence)}function La(Le){return Ye(zc,Le.config.apiKey,Le.name)}function Sl(Le,W,se){return function Cl(Le,W,se){return Fl.apply(this,arguments)}(Le,W,se)}function Fl(){return(Fl=(0,e.Z)(function*(Le,W,se){const Je=On(Le);B(Le,W,es),yield Je._initializationPromise;const Wt=Ra(Je,se);return yield ql(Wt,Je),Wt._openRedirect(Je,W,"signInViaRedirect")})).apply(this,arguments)}function Bl(Le,W,se){return function Lc(Le,W,se){return Sc.apply(this,arguments)}(Le,W,se)}function Sc(){return(Sc=(0,e.Z)(function*(Le,W,se){const Je=(0,t.m9)(Le);B(Je.auth,W,es),yield Je.auth._initializationPromise;const Wt=Ra(Je.auth,se);yield ql(Wt,Je.auth);const an=yield ec(Je);return Wt._openRedirect(Je.auth,W,"reauthViaRedirect",an)})).apply(this,arguments)}function Cc(Le,W,se){return function $c(Le,W,se){return Jc.apply(this,arguments)}(Le,W,se)}function Jc(){return(Jc=(0,e.Z)(function*(Le,W,se){const Je=(0,t.m9)(Le);B(Je.auth,W,es),yield Je.auth._initializationPromise;const Wt=Ra(Je.auth,se);yield ts(!1,Je,W.providerId),yield ql(Wt,Je.auth);const an=yield ec(Je);return Wt._openRedirect(Je.auth,W,"linkViaRedirect",an)})).apply(this,arguments)}function Xl(Le,W){return za.apply(this,arguments)}function za(){return(za=(0,e.Z)(function*(Le,W){return yield On(Le)._initializationPromise,ka(Le,W,!1)})).apply(this,arguments)}function ka(Le,W){return rl.apply(this,arguments)}function rl(){return(rl=(0,e.Z)(function*(Le,W,se=!1){const Je=On(Le),Wt=Ra(Je,W),Hn=yield new Ql(Je,Wt,se).execute();return Hn&&!se&&(delete Hn.user._redirectEventId,yield Je._persistUserIfCurrent(Hn.user),yield Je._setRedirectUser(null,W)),Hn})).apply(this,arguments)}function ec(Le){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,e.Z)(function*(Le){const W=so(`${Le.uid}:::`);return Le._redirectEventId=W,yield Le.auth._setRedirectUser(Le),yield Le.auth._persistUserIfCurrent(Le),W})).apply(this,arguments)}class Dc{constructor(W){this.auth=W,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(W){this.consumers.add(W),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,W)&&(this.sendToConsumer(this.queuedRedirectEvent,W),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(W){this.consumers.delete(W)}onEvent(W){if(this.hasEventBeenHandled(W))return!1;let se=!1;return this.consumers.forEach(Je=>{this.isEventForConsumer(W,Je)&&(se=!0,this.sendToConsumer(W,Je),this.saveEventToCache(W))}),this.hasHandledPotentialRedirect||!function Hs(Le){switch(Le.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kc(Le);default:return!1}}(W)||(this.hasHandledPotentialRedirect=!0,se||(this.queuedRedirectEvent=W,se=!0)),se}sendToConsumer(W,se){var Je;if(W.error&&!kc(W)){const Wt=(null===(Je=W.error.code)||void 0===Je?void 0:Je.split("auth/")[1])||"internal-error";se.onError(L(this.auth,Wt))}else se.onAuthEvent(W)}isEventForConsumer(W,se){const Je=null===se.eventId||!!W.eventId&&W.eventId===se.eventId;return se.filter.includes(W.type)&&Je}hasEventBeenHandled(W){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qs(W))}saveEventToCache(W){this.cachedEventUids.add(qs(W)),this.lastProcessedEventTime=Date.now()}}function qs(Le){return[Le.type,Le.eventId,Le.sessionId,Le.tenantId].filter(W=>W).join("-")}function kc({type:Le,error:W}){return"unknown"===Le&&"auth/no-auth-event"===W?.code}function Fc(Le){return $a.apply(this,arguments)}function $a(){return($a=(0,e.Z)(function*(Le,W={}){return he(Le,"GET","/v1/projects",W)})).apply(this,arguments)}const xd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qd=/^https?/;function tc(){return(tc=(0,e.Z)(function*(Le){if(Le.config.emulator)return;const{authorizedDomains:W}=yield Fc(Le);for(const se of W)try{if(nc(se))return}catch{}T(Le,"unauthorized-domain")})).apply(this,arguments)}function nc(Le){const W=Y(),{protocol:se,hostname:Je}=new URL(W);if(Le.startsWith("chrome-extension://")){const Hn=new URL(Le);return""===Hn.hostname&&""===Je?"chrome-extension:"===se&&Le.replace("chrome-extension://","")===W.replace("chrome-extension://",""):"chrome-extension:"===se&&Hn.hostname===Je}if(!qd.test(se))return!1;if(xd.test(Le))return Je===Le;const Wt=Le.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Wt+"|"+Wt+")$","i").test(Je)}const Zr=new ge(3e4,6e4);function Eo(){const Le=Ro().___jsl;if(Le?.H)for(const W of Object.keys(Le.H))if(Le.H[W].r=Le.H[W].r||[],Le.H[W].L=Le.H[W].L||[],Le.H[W].r=[...Le.H[W].L],Le.CP)for(let se=0;se<Le.CP.length;se++)Le.CP[se]=null}let Xs=null;const Ca=new ge(5e3,15e3),Qc="__/auth/iframe",ic="emulator/auth/iframe",Ml={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bc(Le){const W=Le.config;ne(W.authDomain,Le,"auth-domain-config-required");const se=W.emulator?Ie(W,ic):`https://${Le.config.authDomain}/${Qc}`,Je={apiKey:W.apiKey,appName:Le.name,v:v.SDK_VERSION},Wt=rc.get(Le.config.apiHost);Wt&&(Je.eid=Wt);const an=Le._getFrameworks();return an.length&&(Je.fw=an.join(",")),`${se}?${(0,t.xO)(Je).slice(1)}`}function We(){return We=(0,e.Z)(function*(Le){const W=yield function js(Le){return Xs=Xs||function Dl(Le){return new Promise((W,se)=>{var Je,Wt,an;function Hn(){Eo(),gapi.load("gapi.iframes",{callback:()=>{W(gapi.iframes.getContext())},ontimeout:()=>{Eo(),se(L(Le,"network-request-failed"))},timeout:Zr.get()})}if(null!==(Wt=null===(Je=Ro().gapi)||void 0===Je?void 0:Je.iframes)&&void 0!==Wt&&Wt.Iframe)W(gapi.iframes.getContext());else{if(null===(an=Ro().gapi)||void 0===an||!an.load){const ri=xn("iframefcb");return Ro()[ri]=()=>{gapi.load?Hn():se(L(Le,"network-request-failed"))},Rt(`https://apis.google.com/js/api.js?onload=${ri}`).catch(Si=>se(Si))}Hn()}}).catch(W=>{throw Xs=null,W})}(Le),Xs}(Le),se=Ro().gapi;return ne(se,Le,"internal-error"),W.open({where:document.body,url:Bc(Le),messageHandlersFilter:se.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ml,dontclear:!0},Je=>new Promise(function(){var Wt=(0,e.Z)(function*(an,Hn){yield Je.restyle({setHideOnLeave:!1});const ri=L(Le,"network-request-failed"),Si=Ro().setTimeout(()=>{Hn(ri)},Ca.get());function wi(){Ro().clearTimeout(Si),an(Je)}Je.ping(wi).then(wi,()=>{Hn(ri)})});return function(an,Hn){return Wt.apply(this,arguments)}}()))}),We.apply(this,arguments)}const dt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qn{constructor(W){this.window=W,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ni="__/auth/handler",Qi="emulator/auth/handler",dr=encodeURIComponent("fac");function ys(Le,W,se,Je,Wt,an){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,e.Z)(function*(Le,W,se,Je,Wt,an){ne(Le.config.authDomain,Le,"auth-domain-config-required"),ne(Le.config.apiKey,Le,"invalid-api-key");const Hn={apiKey:Le.config.apiKey,appName:Le.name,authType:se,redirectUrl:Je,v:v.SDK_VERSION,eventId:Wt};if(W instanceof es){W.setDefaultLanguage(Le.languageCode),Hn.providerId=W.providerId||"",(0,t.xb)(W.getCustomParameters())||(Hn.customParameters=JSON.stringify(W.getCustomParameters()));for(const[Wi,Dr]of Object.entries(an||{}))Hn[Wi]=Dr}if(W instanceof Ws){const Wi=W.getScopes().filter(Dr=>""!==Dr);Wi.length>0&&(Hn.scopes=Wi.join(","))}Le.tenantId&&(Hn.tid=Le.tenantId);const ri=Hn;for(const Wi of Object.keys(ri))void 0===ri[Wi]&&delete ri[Wi];const Si=yield Le._getAppCheckToken(),wi=Si?`#${dr}=${encodeURIComponent(Si)}`:"";return`${function Mc({config:Le}){return Le.emulator?Ie(Le,Qi):`https://${Le.authDomain}/${Ni}`}(Le)}?${(0,t.xO)(ri).slice(1)}${wi}`})).apply(this,arguments)}const ol="webStorageSupport",To=class oc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jo,this._completeRedirectFn=ka,this._overrideRedirectResult=Zc}_openPopup(W,se,Je,Wt){var an=this;return(0,e.Z)(function*(){var Hn;Fe(null===(Hn=an.eventManagers[W._key()])||void 0===Hn?void 0:Hn.manager,"_initialize() not called before _openPopup()");const ri=yield ys(W,se,Je,Y(),Wt);return function Ci(Le,W,se,Je=500,Wt=600){const an=Math.max((window.screen.availHeight-Wt)/2,0).toString(),Hn=Math.max((window.screen.availWidth-Je)/2,0).toString();let ri="";const Si=Object.assign(Object.assign({},dt),{width:Je.toString(),height:Wt.toString(),top:an,left:Hn}),wi=(0,t.z$)().toLowerCase();se&&(ri=At(wi)?"_blank":se),St(wi)&&(W=W||"http://localhost",Si.scrollbars="yes");const Wi=Object.entries(Si).reduce((Ls,[sc,V])=>`${Ls}${sc}=${V},`,"");if(function $n(Le=(0,t.z$)()){var W;return In(Le)&&!(null===(W=window.navigator)||void 0===W||!W.standalone)}(wi)&&"_self"!==ri)return function Zt(Le,W){const se=document.createElement("a");se.href=Le,se.target=W;const Je=document.createEvent("MouseEvent");Je.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),se.dispatchEvent(Je)}(W||"",ri),new Qn(null);const Dr=window.open(W||"",ri,Wi);ne(Dr,Le,"popup-blocked");try{Dr.focus()}catch{}return new Qn(Dr)}(W,ri,so())})()}_openRedirect(W,se,Je,Wt){var an=this;return(0,e.Z)(function*(){return yield an._originValidation(W),function Rl(Le){Ro().location.href=Le}(yield ys(W,se,Je,Y(),Wt)),new Promise(()=>{})})()}_initialize(W){const se=W._key();if(this.eventManagers[se]){const{manager:Wt,promise:an}=this.eventManagers[se];return Wt?Promise.resolve(Wt):(Fe(an,"If manager is not set, promise should be"),an)}const Je=this.initAndGetManager(W);return this.eventManagers[se]={promise:Je},Je.catch(()=>{delete this.eventManagers[se]}),Je}initAndGetManager(W){var se=this;return(0,e.Z)(function*(){const Je=yield function od(Le){return We.apply(this,arguments)}(W),Wt=new Dc(W);return Je.register("authEvent",an=>(ne(an?.authEvent,W,"invalid-auth-event"),{status:Wt.onEvent(an.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),se.eventManagers[W._key()]={manager:Wt},se.iframes[W._key()]=Je,Wt})()}_isIframeWebStorageSupported(W,se){this.iframes[W._key()].send(ol,{type:ol},Wt=>{var an;const Hn=null===(an=Wt?.[0])||void 0===an?void 0:an[ol];void 0!==Hn&&se(!!Hn),T(W,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(W){const se=W._key();return this.originValidationPromises[se]||(this.originValidationPromises[se]=function Gl(Le){return tc.apply(this,arguments)}(W)),this.originValidationPromises[se]}get _shouldInitProactively(){return vn()||bt()||In()}};class ea{constructor(W){this.factorId=W}_process(W,se,Je){switch(se.type){case"enroll":return this._finalizeEnroll(W,se.credential,Je);case"signin":return this._finalizeSignIn(W,se.credential);default:return ae("unexpected MultiFactorSessionType")}}}class Ac extends ea{constructor(W){super("phone"),this.credential=W}static _fromCredential(W){return new Ac(W)}_finalizeEnroll(W,se,Je){return function no(Le,W){return he(Le,"POST","/v2/accounts/mfaEnrollment:finalize",ke(Le,W))}(W,{idToken:se,displayName:Je,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(W,se){return function _c(Le,W){return he(Le,"POST","/v2/accounts/mfaSignIn:finalize",ke(Le,W))}(W,{mfaPendingCredential:se,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let vd=(()=>{class Le{constructor(){}static assertion(se){return Ac._fromCredential(se)}}return Le.FACTOR_ID="phone",Le})();var Ic="@firebase/auth";class bd{constructor(W){this.auth=W,this.internalListeners=new Map}getUid(){var W;return this.assertAuthConfigured(),(null===(W=this.auth.currentUser)||void 0===W?void 0:W.uid)||null}getToken(W){var se=this;return(0,e.Z)(function*(){return se.assertAuthConfigured(),yield se.auth._initializationPromise,se.auth.currentUser?{accessToken:yield se.auth.currentUser.getIdToken(W)}:null})()}addAuthTokenListener(W){if(this.assertAuthConfigured(),this.internalListeners.has(W))return;const se=this.auth.onIdTokenChanged(Je=>{W(Je?.stsTokenManager.accessToken||null)});this.internalListeners.set(W,se),this.updateProactiveRefresh()}removeAuthTokenListener(W){this.assertAuthConfigured();const se=this.internalListeners.get(W);se&&(this.internalListeners.delete(W),se(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,t.Pz)("authIdTokenMaxAge"),function ad(Le){(0,v._registerComponent)(new P.wA("auth",(W,{options:se})=>{const Je=W.getProvider("app").getImmediate(),Wt=W.getProvider("heartbeat"),an=W.getProvider("app-check-internal"),{apiKey:Hn,authDomain:ri}=Je.options;ne(Hn&&!Hn.includes(":"),"invalid-api-key",{appName:Je.name});const Si={apiKey:Hn,authDomain:ri,clientPlatform:Le,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yn(Le)},wi=new Ut(Je,Wt,an,Si);return function Pt(Le,W){const se=W?.persistence||[],Je=(Array.isArray(se)?se:[se]).map(vt);W?.errorMap&&Le._updateErrorMap(W.errorMap),Le._initializeWithPersistence(Je,W?.popupRedirectResolver)}(wi,se),wi},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((W,se,Je)=>{W.getProvider("auth-internal").initialize()})),(0,v._registerComponent)(new P.wA("auth-internal",W=>{const se=On(W.getProvider("auth").getImmediate());return new bd(se)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,v.registerVersion)(Ic,"0.23.2",function Wd(Le){switch(Le){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Le)),(0,v.registerVersion)(Ic,"0.23.2","esm2017")}("Browser")},9058:(Wn,et,p)=>{"use strict";p.d(et,{$s:()=>vt,BH:()=>y,L:()=>i,LL:()=>we,Pz:()=>L,UG:()=>ae,US:()=>P,ZB:()=>f,ZR:()=>he,aH:()=>T,b$:()=>le,eu:()=>pe,hl:()=>Ce,jU:()=>Fe,m9:()=>Ye,ne:()=>Ge,pd:()=>xe,r3:()=>ye,ru:()=>Y,tV:()=>c,uI:()=>ne,vZ:()=>$,w1:()=>Se,xO:()=>q,xb:()=>ee,z$:()=>z,zI:()=>Ae,zd:()=>_e});const b=function(st){const at=[];let St=0;for(let bt=0;bt<st.length;bt++){let At=st.charCodeAt(bt);At<128?at[St++]=At:At<2048?(at[St++]=At>>6|192,at[St++]=63&At|128):55296==(64512&At)&&bt+1<st.length&&56320==(64512&st.charCodeAt(bt+1))?(At=65536+((1023&At)<<10)+(1023&st.charCodeAt(++bt)),at[St++]=At>>18|240,at[St++]=At>>12&63|128,at[St++]=At>>6&63|128,at[St++]=63&At|128):(at[St++]=At>>12|224,at[St++]=At>>6&63|128,at[St++]=63&At|128)}return at},P={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(st,at){if(!Array.isArray(st))throw Error("encodeByteArray takes an array as a parameter");this.init_();const St=at?this.byteToCharMapWebSafe_:this.byteToCharMap_,bt=[];for(let At=0;At<st.length;At+=3){const on=st[At],En=At+1<st.length,tn=En?st[At+1]:0,Mn=At+2<st.length,In=Mn?st[At+2]:0;let ni=(15&tn)<<2|In>>6,vn=63&In;Mn||(vn=64,En||(ni=64)),bt.push(St[on>>2],St[(3&on)<<4|tn>>4],St[ni],St[vn])}return bt.join("")},encodeString(st,at){return this.HAS_NATIVE_SUPPORT&&!at?btoa(st):this.encodeByteArray(b(st),at)},decodeString(st,at){return this.HAS_NATIVE_SUPPORT&&!at?atob(st):function(st){const at=[];let St=0,bt=0;for(;St<st.length;){const At=st[St++];if(At<128)at[bt++]=String.fromCharCode(At);else if(At>191&&At<224){const on=st[St++];at[bt++]=String.fromCharCode((31&At)<<6|63&on)}else if(At>239&&At<365){const Mn=((7&At)<<18|(63&st[St++])<<12|(63&st[St++])<<6|63&st[St++])-65536;at[bt++]=String.fromCharCode(55296+(Mn>>10)),at[bt++]=String.fromCharCode(56320+(1023&Mn))}else{const on=st[St++],En=st[St++];at[bt++]=String.fromCharCode((15&At)<<12|(63&on)<<6|63&En)}}return at.join("")}(this.decodeStringToByteArray(st,at))},decodeStringToByteArray(st,at){this.init_();const St=at?this.charToByteMapWebSafe_:this.charToByteMap_,bt=[];for(let At=0;At<st.length;){const on=St[st.charAt(At++)],tn=At<st.length?St[st.charAt(At)]:0;++At;const In=At<st.length?St[st.charAt(At)]:64;++At;const $n=At<st.length?St[st.charAt(At)]:64;if(++At,null==on||null==tn||null==In||null==$n)throw new C;bt.push(on<<2|tn>>4),64!==In&&(bt.push(tn<<4&240|In>>2),64!==$n&&bt.push(In<<6&192|$n))}return bt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let st=0;st<this.ENCODED_VALS.length;st++)this.byteToCharMap_[st]=this.ENCODED_VALS.charAt(st),this.charToByteMap_[this.byteToCharMap_[st]]=st,this.byteToCharMapWebSafe_[st]=this.ENCODED_VALS_WEBSAFE.charAt(st),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[st]]=st,st>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(st)]=st,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(st)]=st)}}};class C extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i=function(st){return function(st){const at=b(st);return P.encodeByteArray(at,!0)}(st).replace(/\./g,"")},c=function(st){try{return P.decodeString(st,!0)}catch(at){console.error("base64Decode failed: ",at)}return null};function f(st,at){if(!(at instanceof Object))return at;switch(at.constructor){case Date:return new Date(at.getTime());case Object:void 0===st&&(st={});break;case Array:st=[];break;default:return at}for(const St in at)!at.hasOwnProperty(St)||!g(St)||(st[St]=f(st[St],at[St]));return st}function g(st){return"__proto__"!==st}const O=()=>{try{return function S(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const st=process.env.__FIREBASE_DEFAULTS__;return st?JSON.parse(st):void 0})()||(()=>{if(typeof document>"u")return;let st;try{st=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const at=st&&c(st[1]);return at&&JSON.parse(at)})()}catch(st){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${st}`)}},T=()=>{var st;return null===(st=O())||void 0===st?void 0:st.config},L=st=>{var at;return null===(at=O())||void 0===at?void 0:at[`_${st}`]};class y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((at,St)=>{this.resolve=at,this.reject=St})}wrapCallback(at){return(St,bt)=>{St?this.reject(St):this.resolve(bt),"function"==typeof at&&(this.promise.catch(()=>{}),1===at.length?at(St):at(St,bt))}}}function z(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(z())}function ae(){var st;const at=null===(st=O())||void 0===st?void 0:st.forceEnvironment;if("node"===at)return!0;if("browser"===at)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Fe(){return"object"==typeof self&&self.self===self}function Y(){const st="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof st&&void 0!==st.id}function le(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Se(){const st=z();return st.indexOf("MSIE ")>=0||st.indexOf("Trident/")>=0}function Ce(){try{return"object"==typeof indexedDB}catch{return!1}}function pe(){return new Promise((st,at)=>{try{let St=!0;const bt="validate-browser-context-for-indexeddb-analytics-module",At=self.indexedDB.open(bt);At.onsuccess=()=>{At.result.close(),St||self.indexedDB.deleteDatabase(bt),st(!0)},At.onupgradeneeded=()=>{St=!1},At.onerror=()=>{var on;at((null===(on=At.error)||void 0===on?void 0:on.message)||"")}}catch(St){at(St)}})}function Ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class he extends Error{constructor(at,St,bt){super(St),this.code=at,this.customData=bt,this.name="FirebaseError",Object.setPrototypeOf(this,he.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,we.prototype.create)}}class we{constructor(at,St,bt){this.service=at,this.serviceName=St,this.errors=bt}create(at,...St){const bt=St[0]||{},At=`${this.service}/${at}`,on=this.errors[at],En=on?function Te(st,at){return st.replace(Oe,(St,bt)=>{const At=at[bt];return null!=At?String(At):`<${bt}?>`})}(on,bt):"Error";return new he(At,`${this.serviceName}: ${En} (${At}).`,bt)}}const Oe=/\{\$([^}]+)}/g;function ye(st,at){return Object.prototype.hasOwnProperty.call(st,at)}function ee(st){for(const at in st)if(Object.prototype.hasOwnProperty.call(st,at))return!1;return!0}function $(st,at){if(st===at)return!0;const St=Object.keys(st),bt=Object.keys(at);for(const At of St){if(!bt.includes(At))return!1;const on=st[At],En=at[At];if(re(on)&&re(En)){if(!$(on,En))return!1}else if(on!==En)return!1}for(const At of bt)if(!St.includes(At))return!1;return!0}function re(st){return null!==st&&"object"==typeof st}function q(st){const at=[];for(const[St,bt]of Object.entries(st))Array.isArray(bt)?bt.forEach(At=>{at.push(encodeURIComponent(St)+"="+encodeURIComponent(At))}):at.push(encodeURIComponent(St)+"="+encodeURIComponent(bt));return at.length?"&"+at.join("&"):""}function _e(st){const at={};return st.replace(/^\?/,"").split("&").forEach(bt=>{if(bt){const[At,on]=bt.split("=");at[decodeURIComponent(At)]=decodeURIComponent(on)}}),at}function xe(st){const at=st.indexOf("?");if(!at)return"";const St=st.indexOf("#",at);return st.substring(at,St>0?St:void 0)}function Ge(st,at){const St=new ct(st,at);return St.subscribe.bind(St)}class ct{constructor(at,St){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=St,this.task.then(()=>{at(this)}).catch(bt=>{this.error(bt)})}next(at){this.forEachObserver(St=>{St.next(at)})}error(at){this.forEachObserver(St=>{St.error(at)}),this.close(at)}complete(){this.forEachObserver(at=>{at.complete()}),this.close()}subscribe(at,St,bt){let At;if(void 0===at&&void 0===St&&void 0===bt)throw new Error("Missing Observer.");At=function tt(st,at){if("object"!=typeof st||null===st)return!1;for(const St of at)if(St in st&&"function"==typeof st[St])return!0;return!1}(at,["next","error","complete"])?at:{next:at,error:St,complete:bt},void 0===At.next&&(At.next=gt),void 0===At.error&&(At.error=gt),void 0===At.complete&&(At.complete=gt);const on=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?At.error(this.finalError):At.complete()}catch{}}),this.observers.push(At),on}unsubscribeOne(at){void 0===this.observers||void 0===this.observers[at]||(delete this.observers[at],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(at){if(!this.finalized)for(let St=0;St<this.observers.length;St++)this.sendOne(St,at)}sendOne(at,St){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[at])try{St(this.observers[at])}catch(bt){typeof console<"u"&&console.error&&console.error(bt)}})}close(at){this.finalized||(this.finalized=!0,void 0!==at&&(this.finalError=at),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gt(){}const qt=1e3,un=2,fn=144e5,wt=.5;function vt(st,at=qt,St=un){const bt=at*Math.pow(St,st),At=Math.round(wt*bt*(Math.random()-.5)*2);return Math.min(fn,bt+At)}function Ye(st){return st&&st._delegate?st._delegate:st}},2392:(Wn,et,p)=>{"use strict";p.d(et,{E:()=>P});var e=p(5879),t=p(5908),v=p(9397),b=p(1270),_=p(1367);const P=(C,m)=>{const i=(0,e.f3M)(t.F0),c=(0,e.f3M)(_.g),d=(0,e.f3M)(b.K);return null!=localStorage.getItem("apiToken")?!!d.calledGetUserData||d.isCompletedCallGetUserData().pipe((0,v.b)(f=>null!=c.userData||i.navigateByUrl("/landing"))):i.navigateByUrl("/landing")}},9857:(Wn,et,p)=>{"use strict";p.d(et,{a:()=>b});var e=p(863),t=p(5879),v=p(9429);let b=(()=>{class _{constructor(C){this.restProvider=C}getDetailsByCatalogId(C){return new Promise((m,i)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/catalogs/GetDetailsByCatalogAsync/"+C).then(c=>{m(c)},c=>{i(c)})})}getAllCatalogDetailsByCatalogIds(C){return new Promise((m,i)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/catalogs/GetAllCatalogDetailsByCatalogIds?catalogIds="+C).then(c=>{m(c)},c=>{i(c)})})}static#e=this.\u0275fac=function(m){return new(m||_)(t.LFG(v.C))};static#t=this.\u0275prov=t.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},7983:(Wn,et,p)=>{"use strict";p.d(et,{o:()=>he});var e=p(1476),t=p(7700),v=p(8923),b=p(2877),_=p(5313),P=p(3566),C=p(9604);class m{}var i=p(95),c=p(5550),d=p(5879),f=p(8726),g=p(3931),S=p(2067),x=p(5220),A=p(6814),N=p(2032),O=p(4170);function D(we,Te){1&we&&(d.TgZ(0,"mat-error"),d._uU(1," Nombre es "),d.TgZ(2,"strong"),d._uU(3,"requerido"),d.qZA()())}function I(we,Te){if(1&we){const Oe=d.EpF();d.TgZ(0,"form",1),d.NdJ("ngSubmit",function(){d.CHM(Oe);const ft=d.oxw();return d.KtG(ft.saveItem())}),d.TgZ(1,"div",2)(2,"h5",3),d._uU(3),d.qZA(),d.TgZ(4,"button",4),d.NdJ("click",function(){d.CHM(Oe);const ft=d.oxw();return d.KtG(ft.closeModal())}),d._UZ(5,"i",5),d.qZA()(),d.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),d._uU(9,"Nombre"),d.qZA(),d._UZ(10,"input",7),d.YNc(11,D,4,0,"mat-error",8),d.qZA()(),d.TgZ(12,"div",9)(13,"button",10),d.NdJ("click",function(){d.CHM(Oe);const ft=d.oxw();return d.KtG(ft.closeModal())}),d._uU(14,"Close"),d.qZA(),d.TgZ(15,"button",11),d._uU(16,"Guardar"),d.qZA()()(),d._UZ(17,"app-custom-spinner",12)}if(2&we){const Oe=d.oxw();d.Q6J("formGroup",Oe.genreFormGroup),d.xp6(3),d.Oqu(Oe.genre&&Oe.genre.Id>0?"Editar":"Nuevo"),d.xp6(7),d.Q6J("errorStateMatcher",Oe.matcher),d.xp6(1),d.Q6J("ngIf",Oe.genreFormGroup.controls.name.hasError("required")),d.xp6(4),d.Q6J("disabled",Oe.showLoading||!Oe.genreFormGroup.valid),d.xp6(2),d.Q6J("showLoading",Oe.showLoading)}}let T=(()=>{class we{constructor(Oe,Ve,ft,Ze){this.formBuilder=Oe,this.activeModal=Ve,this.snackbarService=ft,this.genreService=Ze,this.showLoading=!1,this.matcher=new c.n}ngOnInit(){}ngAfterViewInit(){this.genreFormGroup=this.formBuilder.group({name:new i.NI(this.genre.Name,[i.kI.required])})}saveItem(){if(this.genreFormGroup.valid){this.showLoading=!0;var Oe=JSON.parse(JSON.stringify(this.genre));Oe.Name=this.genreFormGroup.value.name,this.genreService.saveItem(Oe).then(Ve=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el genre satisfactoriamente",C.dA.Success),this.activeModal.close()},Ve=>{this.showLoading=!1,console.error(Ve)})}else this.genreFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(Ve){return new(Ve||we)(d.Y36(i.qu),d.Y36(f.Kz),d.Y36(g.c),d.Y36(S.c))};static#t=this.\u0275cmp=d.Xpm({type:we,selectors:[["app-genre-form"]],inputs:{genre:"genre"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(Ve,ft){1&Ve&&d.YNc(0,I,18,6,"ng-template",0),2&Ve&&d.Q6J("ngIf",null!=ft.genre&&ft.genreFormGroup)},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,x.D,A.O5,N.Nt,O.KE,O.hX,O.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return we})();var L=p(5986),y=p(5940),B=p(2596);function z(we,Te){1&we&&(d.TgZ(0,"div",32),d._UZ(1,"mat-spinner"),d.qZA())}function ne(we,Te){if(1&we){const Oe=d.EpF();d.TgZ(0,"th",33)(1,"mat-checkbox",34),d.NdJ("change",function(ft){d.CHM(Oe);const Ze=d.oxw();return d.KtG(ft?Ze.toggleAllRows():null)}),d.qZA()()}if(2&we){const Oe=d.oxw();d.xp6(1),d.Q6J("checked",Oe.selection.hasValue()&&Oe.isAllSelected())("indeterminate",Oe.selection.hasValue()&&!Oe.isAllSelected())}}function ae(we,Te){if(1&we){const Oe=d.EpF();d.TgZ(0,"td",35)(1,"mat-checkbox",36),d.NdJ("click",function(ft){const Re=d.CHM(Oe).$implicit,be=d.oxw();return d.KtG(be.onChangeCheckValue(ft,Re))}),d.qZA()()}if(2&we){const Oe=Te.$implicit,Ve=d.oxw();d.xp6(1),d.Q6J("checked",Ve.selection.isSelected(Oe))}}function Fe(we,Te){1&we&&(d.TgZ(0,"th",37),d._uU(1,"N\xb0"),d.qZA())}function Y(we,Te){if(1&we&&(d.TgZ(0,"td",38),d._uU(1),d.qZA()),2&we){const Oe=Te.index,Ve=d.oxw();d.xp6(1),d.hij(" ",Ve.getElementNumber(Oe,Ve.currentPage,Ve.itemsPerPage),"")}}function le(we,Te){1&we&&(d.TgZ(0,"th",39),d._uU(1," Nombre "),d.qZA())}function G(we,Te){if(1&we&&(d.TgZ(0,"td",40),d._uU(1),d.qZA()),2&we){const Oe=Te.$implicit;d.xp6(1),d.hij(" ",Oe.Name," ")}}function Se(we,Te){1&we&&d._UZ(0,"th",41)}function ce(we,Te){if(1&we){const Oe=d.EpF();d.TgZ(0,"td",42)(1,"div",43)(2,"button",44),d.NdJ("click",function(){const Ze=d.CHM(Oe).$implicit,Re=d.oxw();return d.KtG(Re.editItem(Ze))}),d._UZ(3,"i",45),d.qZA(),d.TgZ(4,"button",46),d.NdJ("click",function(){const Ze=d.CHM(Oe).$implicit,Re=d.oxw();return d.KtG(Re.deleteItem(Ze))}),d._UZ(5,"i",7),d.qZA()()()}}function ge(we,Te){1&we&&d._UZ(0,"tr",47)}function Ie(we,Te){1&we&&d._UZ(0,"tr",48)}function Ce(we,Te){1&we&&(d.TgZ(0,"td",51),d._uU(1,"No se encontraron datos"),d.qZA())}function pe(we,Te){if(1&we&&(d.TgZ(0,"tr",49),d.YNc(1,Ce,2,0,"td",50),d.qZA()),2&we){const Oe=d.oxw();d.xp6(1),d.Q6J("ngIf",!Oe.showLoading)}}const Ae=function(we){return{disable:we}},ke=function(){return[5,10,25,100]};let he=(()=>{class we extends b.G{constructor(Oe,Ve,ft,Ze,Re){super(ft),this.modalService=Oe,this.dialog=Ve,this.matPaginatorIntl=ft,this.snackbarService=Ze,this.genreService=Re,this.displayedColumns=["Select","Id","Name","Actions"]}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(Oe=>{this.updatePageData(Oe),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(Oe=>{this.currentPage=1,this.sortBy=Oe.active,this.sortDirection=Oe.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(Oe){this.searchText=Oe.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var Oe=new m;this.showModalForm(Oe)}editItem(Oe){this.showModalForm(Oe)}showModalForm(Oe){var Ve=this,ft=this.modalService.open(T,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});ft.componentInstance.genre=Oe,ft.closed.subscribe(Ze=>{Ve.getAllItems()})}getAllItems(){this.showLoading=!0,this.genreService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(Oe=>{this.showLoading=!1;var Ve=Oe.Data;this.totalCount=Oe.TotalCount,this.listItems=Ve,this.dataSource=new _.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},Oe=>{this.showLoading=!1})}deleteItem(Oe){var Ve=new t.vA;Ve.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+Oe.Name+"?",accordMessage:"Si, eliminar el rol '"+Oe.Name+"'"},this.dialog.open(v.k,Ve).afterClosed().subscribe(ft=>{ft&&this.executeDeleteItem(Oe)})}executeDeleteItem(Oe){this.showLoading=!0,this.genreService.deleteItem(Oe.Id).then(Ve=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",C.dA.Success),this.getAllItems()},Ve=>{this.showLoading=!1,this.snackbarService.showSnackBar(Ve,C.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var Oe=new t.vA;Oe.data={title:"Eliminar genres",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(v.k,Oe).afterClosed().subscribe(Ve=>{Ve&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.genreService.deleteItems(this.selection.selected).then(Oe=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",C.dA.Success),this.getAllItems()},Oe=>{this.showLoading=!1,this.snackbarService.showSnackBar(Oe,C.dA.Error)})}static#e=this.\u0275fac=function(Ve){return new(Ve||we)(d.Y36(f.FF),d.Y36(t.uw),d.Y36(e.ye),d.Y36(g.c),d.Y36(S.c))};static#t=this.\u0275cmp=d.Xpm({type:we,selectors:[["app-genre-list"]],viewQuery:function(Ve,ft){if(1&Ve&&(d.Gf(e.NW,5),d.Gf(P.YE,5)),2&Ve){let Ze;d.iGM(Ze=d.CRH())&&(ft.paginator=Ze.first),d.iGM(Ze=d.CRH())&&(ft.sort=Ze.first)}},features:[d.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(Ve,ft){1&Ve&&(d.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),d._uU(3," G\xe9neros"),d.qZA()(),d.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),d.NdJ("click",function(){return ft.showNewItem()}),d._UZ(8,"i",5),d.qZA(),d.TgZ(9,"button",6),d.NdJ("click",function(){return ft.deleteSelectedItems()}),d._UZ(10,"i",7),d.qZA()(),d._UZ(11,"div",8),d.qZA(),d.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),d._uU(16,"Buscar"),d.qZA(),d.TgZ(17,"input",10,11),d.NdJ("keyup",function(Re){return ft.applyFilter(Re)}),d.qZA()(),d.TgZ(19,"div",12),d.YNc(20,z,2,0,"div",13),d.TgZ(21,"div",14)(22,"table",15),d.ynx(23,16),d.YNc(24,ne,2,2,"th",17),d.YNc(25,ae,2,1,"td",18),d.BQk(),d.ynx(26,19),d.YNc(27,Fe,2,0,"th",20),d.YNc(28,Y,2,1,"td",21),d.BQk(),d.ynx(29,22),d.YNc(30,le,2,0,"th",23),d.YNc(31,G,2,1,"td",24),d.BQk(),d.ynx(32,25),d.YNc(33,Se,1,0,"th",26),d.YNc(34,ce,6,0,"td",27),d.BQk(),d.YNc(35,ge,1,0,"tr",28),d.YNc(36,Ie,1,0,"tr",29),d.YNc(37,pe,2,1,"tr",30),d.qZA()()()()(),d.TgZ(38,"div",1)(39,"div",9),d._UZ(40,"mat-paginator",31),d.qZA()()()()),2&Ve&&(d.xp6(9),d.Q6J("ngClass",d.VKq(7,Ae,!ft.selection.hasValue())),d.xp6(11),d.Q6J("ngIf",ft.showLoading),d.xp6(2),d.Q6J("dataSource",ft.dataSource),d.xp6(13),d.Q6J("matHeaderRowDef",ft.displayedColumns),d.xp6(1),d.Q6J("matRowDefColumns",ft.displayedColumns),d.xp6(4),d.Q6J("color","primary")("pageSizeOptions",d.DdM(9,ke)))},dependencies:[A.mk,A.O5,e.NW,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,_.Ee,N.Nt,O.KE,O.hX,P.YE,P.nU,L.oG,y.Ou,B.gM],styles:["h3[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#fff}.selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}"]})}return we})()},298:(Wn,et,p)=>{"use strict";p.d(et,{I:()=>C});var e=p(5879),t=p(8726),v=p(6814),b=p(5986);function _(m,i){if(1&m){const c=e.EpF();e.TgZ(0,"p")(1,"mat-checkbox",10),e.NdJ("click",function(f){const S=e.CHM(c).$implicit,x=e.oxw(2);return e.KtG(x.onChangeCheckValue(f,S))}),e._uU(2),e.qZA()()}if(2&m){const c=i.$implicit,d=e.oxw(2);e.xp6(1),e.Q6J("checked",d.selection.isSelected(c)),e.xp6(1),e.Oqu(c.Name)}}function P(m,i){if(1&m){const c=e.EpF();e.TgZ(0,"div",1)(1,"h5",2),e._uU(2),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){e.CHM(c);const f=e.oxw();return e.KtG(f.closeModal())}),e._UZ(4,"i",4),e.qZA()(),e.TgZ(5,"div",5),e.YNc(6,_,3,2,"ng-template",6),e.qZA(),e.TgZ(7,"div",7)(8,"button",8),e.NdJ("click",function(){e.CHM(c);const f=e.oxw();return e.KtG(f.closeModal())}),e._uU(9,"Close"),e.qZA(),e.TgZ(10,"button",9),e.NdJ("click",function(){e.CHM(c);const f=e.oxw();return e.KtG(f.onSaveSelection())}),e._uU(11,"Guardar"),e.qZA()()}if(2&m){const c=e.oxw();e.xp6(2),e.Oqu("G\xe9neros"),e.xp6(4),e.Q6J("ngForOf",c.listAllGenres)}}let C=(()=>{class m{constructor(c){this.activeModal=c}closeModal(){this.activeModal.dismiss()}onSaveSelection(){this.activeModal.close(this.selection.selected)}onChangeCheckValue(c,d){c.target.checked?this.selection.select(d):this.selection.deselect(d)}static#e=this.\u0275fac=function(d){return new(d||m)(e.Y36(t.Kz))};static#t=this.\u0275cmp=e.Xpm({type:m,selectors:[["app-genres-selection-modal"]],inputs:{listAllGenres:"listAllGenres",selection:"selection"},decls:2,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["ngFor","",3,"ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"checked","click"]],template:function(d,f){1&d&&(e.YNc(0,P,12,2,"ng-template",0),e._uU(1," <\n")),2&d&&e.Q6J("ngIf",null!=f.listAllGenres)},dependencies:[v.sg,v.O5,b.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}"]})}return m})()},2067:(Wn,et,p)=>{"use strict";p.d(et,{c:()=>_});var e=p(863),t=p(2372),v=p(5879),b=p(9429);let _=(()=>{class P{constructor(m){this.restProvider=m}getAllGenres(){return new Promise((m,i)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/genres/GetAllAsync").then(c=>{m(c)},c=>{console.error(c),i(c)})})}getItems(m,i,c,d,f,g){return new Promise((S,x)=>{let A=(0,t.Z)();this.lastCallGuid=A;var N="?page="+m.toString()+"&take="+i.toString()+"&sortBy="+c+"&sortDirection="+d+"&searchText="+f+"&searchBy="+g;this.restProvider.executeSinovadApiService(e.yw.GET,"/genres/GetAllWithPaginationAsync"+N).then(D=>{this.lastCallGuid==A&&S(D)},D=>{console.error(D),x(D)})})}saveItem(m){return new Promise((i,c)=>{this.restProvider.executeSinovadApiService(m.Id>0?e.yw.PUT:e.yw.POST,m.Id>0?"/genres/Update":"/genres/Create",m).then(g=>{i(!0)},g=>{console.error(g),c(g)})})}deleteItem(m){return new Promise((i,c)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/genres/Delete/"+m).then(f=>{i(f)},f=>{console.error(f),c(f)})})}deleteItems(m){return new Promise((i,c)=>{let d=[];for(let S=0;S<m.length;S++)d.push(m[S].Id);var f=d.join(",");this.restProvider.executeSinovadApiService(e.yw.DELETE,"/genres/DeleteList/"+f).then(S=>{i(S)},S=>{console.error(S),c(S)})})}static#e=this.\u0275fac=function(i){return new(i||P)(v.LFG(b.C))};static#t=this.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},7591:(Wn,et,p)=>{"use strict";p.d(et,{U:()=>oe});var e=p(2877),t=p(1476),v=p(3566),b=p(7700),_=p(5313),P=p(8923),C=p(9604),m=p(3826),i=p(863),c=p(95),d=p(5550),f=p(5879),g=p(9857),S=p(8726),x=p(3931),A=p(5864),N=p(5220),O=p(6814),D=p(2032),I=p(4170),T=p(5986),L=p(3680),y=p(8525);function B(ee,X){1&ee&&(f.TgZ(0,"mat-error"),f._uU(1," T\xedtulo es "),f.TgZ(2,"strong"),f._uU(3,"requerido"),f.qZA()())}function z(ee,X){if(1&ee&&(f.TgZ(0,"mat-option",12),f._uU(1),f.qZA()),2&ee){const $=X.$implicit;f.Q6J("value",$.Id),f.xp6(1),f.hij(" ",$.Name," ")}}function ne(ee,X){if(1&ee&&(f.TgZ(0,"mat-option",12),f._uU(1),f.qZA()),2&ee){const $=X.$implicit;f.Q6J("value",$.Id),f.xp6(1),f.hij(" ",$.Title," ")}}function ae(ee,X){if(1&ee){const $=f.EpF();f.TgZ(0,"form",1),f.NdJ("ngSubmit",function(){f.CHM($);const J=f.oxw();return f.KtG(J.saveItem())}),f.TgZ(1,"div",2)(2,"h5",3),f._uU(3),f.qZA(),f.TgZ(4,"button",4),f.NdJ("click",function(){f.CHM($);const J=f.oxw();return f.KtG(J.closeModal())}),f._UZ(5,"i",5),f.qZA()(),f.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),f._uU(9,"T\xedtulo"),f.qZA(),f._UZ(10,"input",7),f.YNc(11,B,4,0,"mat-error",8),f.qZA(),f.TgZ(12,"mat-form-field")(13,"mat-label"),f._uU(14,"Path"),f.qZA(),f._UZ(15,"input",9),f.qZA(),f.TgZ(16,"mat-form-field")(17,"mat-label"),f._uU(18,"N\xfamero de Orden"),f.qZA(),f._UZ(19,"input",10),f.qZA(),f.TgZ(20,"mat-form-field")(21,"mat-label"),f._uU(22,"Tipo de \xcdcono"),f.qZA(),f.TgZ(23,"mat-select",11)(24,"mat-option",12),f._uU(25,"--"),f.qZA(),f.YNc(26,z,2,2,"mat-option",13),f.qZA()(),f.TgZ(27,"mat-form-field")(28,"mat-label"),f._uU(29,"Icon Class"),f.qZA(),f._UZ(30,"input",14),f.qZA(),f.TgZ(31,"mat-form-field")(32,"mat-label"),f._uU(33,"Menu Padre"),f.qZA(),f.TgZ(34,"mat-select",15)(35,"mat-option",12),f._uU(36,"--"),f.qZA(),f.YNc(37,ne,2,2,"mat-option",13),f.qZA()(),f.TgZ(38,"mat-checkbox",16),f._uU(39,"Activo"),f.qZA()(),f.TgZ(40,"div",17)(41,"button",18),f.NdJ("click",function(){f.CHM($);const J=f.oxw();return f.KtG(J.closeModal())}),f._uU(42,"Cerrar"),f.qZA(),f.TgZ(43,"button",19),f._uU(44,"Guardar"),f.qZA()()(),f._UZ(45,"app-custom-spinner",20)}if(2&ee){const $=f.oxw();f.Q6J("formGroup",$.menuFormGroup),f.xp6(3),f.Oqu($.menu.Id>0?"Editar":"Nuevo"),f.xp6(7),f.Q6J("errorStateMatcher",$.matcher),f.xp6(1),f.Q6J("ngIf",$.menuFormGroup.controls.title.hasError("required")),f.xp6(13),f.Q6J("value",void 0),f.xp6(2),f.Q6J("ngForOf",$.listIconTypes),f.xp6(9),f.Q6J("value",void 0),f.xp6(2),f.Q6J("ngForOf",$.listMenusSelectable),f.xp6(6),f.Q6J("disabled",$.showLoading||!$.menuFormGroup.valid),f.xp6(2),f.Q6J("showLoading",$.showLoading)}}let Fe=(()=>{class ee{constructor($,re,J,q,_e){this.catalogService=$,this.formBuilder=re,this.activeModal=J,this.snackbarService=q,this.menuService=_e,this.showLoading=!1,this.matcher=new d.n}ngOnInit(){this.getAllMenus(),this.getIconTypes()}getAllMenus(){this.menuService.getAllMenus().then($=>{this.listMenusSelectable=$.Data.filter(J=>J.Id!=this.menu.Id)},$=>{console.error($)})}getIconTypes(){this.catalogService.getDetailsByCatalogId(i.P9.IconTypes).then($=>{this.listIconTypes=$.Data},$=>{console.error($)})}ngAfterViewInit(){this.menuFormGroup=this.formBuilder.group({title:new c.NI(this.menu.Title,[c.kI.required]),path:new c.NI(this.menu.Path),iconType:new c.NI(this.menu.IconTypeCatalogDetailId),iconClass:new c.NI(this.menu.IconClass),sortOrder:new c.NI(this.menu.SortOrder),parentId:new c.NI(this.menu.ParentId),enabled:new c.NI(this.menu.Enabled)})}saveItem(){if(this.menuFormGroup.valid){this.showLoading=!0;var $=JSON.parse(JSON.stringify(this.menu));$.Title=this.menuFormGroup.value.title,$.Path=this.menuFormGroup.value.path,$.IconClass=this.menuFormGroup.value.iconClass,$.SortOrder=this.menuFormGroup.value.sortOrder,null!=this.menuFormGroup.value.iconType?($.IconTypeCatalogId=i.P9.IconTypes,$.IconTypeCatalogDetailId=this.menuFormGroup.value.iconType):($.IconTypeCatalogId=void 0,$.IconTypeCatalogDetailId=void 0),$.ParentId=this.menuFormGroup.value.parentId,$.Enabled=this.menuFormGroup.value.enabled,this.menuService.saveItem($).then(re=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el menu satisfactoriamente",C.dA.Success),this.menuService.getManageMenu(),this.activeModal.close()},re=>{this.showLoading=!1,console.error(re)})}else this.menuFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(re){return new(re||ee)(f.Y36(g.a),f.Y36(c.qu),f.Y36(S.Kz),f.Y36(x.c),f.Y36(A.h))};static#t=this.\u0275cmp=f.Xpm({type:ee,selectors:[["app-menu-form"]],inputs:{menu:"menu"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["id","path","matInput","","formControlName","path"],["id","sortOrder","type","number","matInput","","formControlName","sortOrder"],["formControlName","iconType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["id","iconClass","matInput","","formControlName","iconClass"],["formControlName","parentId"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(re,J){1&re&&f.YNc(0,ae,46,10,"ng-template",0),2&re&&f.Q6J("ngIf",null!=J.menu&&J.menuFormGroup)},dependencies:[c._Y,c.Fj,c.wV,c.JJ,c.JL,c.sg,c.u,N.D,O.sg,O.O5,D.Nt,I.KE,I.hX,I.TO,T.oG,L.ey,y.gD],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}.form-check-input[_ngcontent-%COMP%]{width:18px;height:18px}form[_ngcontent-%COMP%]{display:contents}"]})}return ee})();var Y=p(5940),le=p(2596);function G(ee,X){1&ee&&(f.TgZ(0,"div",41),f._UZ(1,"mat-spinner"),f.qZA())}function Se(ee,X){if(1&ee){const $=f.EpF();f.TgZ(0,"th",42)(1,"mat-checkbox",43),f.NdJ("change",function(J){f.CHM($);const q=f.oxw();return f.KtG(J?q.toggleAllRows():null)}),f.qZA()()}if(2&ee){const $=f.oxw();f.xp6(1),f.Q6J("checked",$.selection.hasValue()&&$.isAllSelected())("indeterminate",$.selection.hasValue()&&!$.isAllSelected())}}function ce(ee,X){if(1&ee){const $=f.EpF();f.TgZ(0,"td",44)(1,"mat-checkbox",45),f.NdJ("click",function(J){const _e=f.CHM($).$implicit,xe=f.oxw();return f.KtG(xe.onChangeCheckValue(J,_e))}),f.qZA()()}if(2&ee){const $=X.$implicit,re=f.oxw();f.xp6(1),f.Q6J("checked",re.selection.isSelected($))}}function ge(ee,X){1&ee&&(f.TgZ(0,"th",46),f._uU(1,"N\xb0"),f.qZA())}function Ie(ee,X){if(1&ee&&(f.TgZ(0,"td",47),f._uU(1),f.qZA()),2&ee){const $=X.index,re=f.oxw();f.xp6(1),f.hij(" ",re.getElementNumber($,re.currentPage,re.itemsPerPage),"")}}function Ce(ee,X){1&ee&&(f.TgZ(0,"th",48),f._uU(1,"T\xedtulo"),f.qZA())}function pe(ee,X){if(1&ee&&(f.TgZ(0,"td",49),f._uU(1),f.qZA()),2&ee){const $=X.$implicit;f.xp6(1),f.hij(" ",$.Title," ")}}function Ae(ee,X){1&ee&&(f.TgZ(0,"th",50),f._uU(1,"Path"),f.qZA())}function ke(ee,X){if(1&ee&&(f.TgZ(0,"td",51),f._uU(1),f.qZA()),2&ee){const $=X.$implicit;f.xp6(1),f.hij(" ",$.Path," ")}}function he(ee,X){1&ee&&(f.TgZ(0,"th",52),f._uU(1,"\xcdcono"),f.qZA())}function we(ee,X){if(1&ee&&(f.TgZ(0,"td",53),f._uU(1),f.qZA()),2&ee){const $=X.$implicit;f.xp6(1),f.hij(" ",$.IconClass," ")}}function Te(ee,X){1&ee&&(f.TgZ(0,"th",54),f._uU(1,"Orden"),f.qZA())}function Oe(ee,X){if(1&ee&&(f.TgZ(0,"td",55),f._uU(1),f.qZA()),2&ee){const $=X.$implicit;f.xp6(1),f.hij(" ",$.SortOrder," ")}}function Ve(ee,X){1&ee&&f._UZ(0,"th",56)}function ft(ee,X){if(1&ee){const $=f.EpF();f.TgZ(0,"td",57)(1,"div",58)(2,"button",59),f.NdJ("click",function(){const q=f.CHM($).$implicit,_e=f.oxw();return f.KtG(_e.editItem(q))}),f._UZ(3,"i",60),f.qZA(),f.TgZ(4,"button",61),f.NdJ("click",function(){const q=f.CHM($).$implicit,_e=f.oxw();return f.KtG(_e.deleteItem(q))}),f._UZ(5,"i",7),f.qZA()()()}}function Ze(ee,X){1&ee&&f._UZ(0,"tr",62)}function Re(ee,X){1&ee&&f._UZ(0,"tr",63)}function be(ee,X){1&ee&&(f.TgZ(0,"td",66),f._uU(1,"No se encontraron datos"),f.qZA())}function Q(ee,X){if(1&ee&&(f.TgZ(0,"tr",64),f.YNc(1,be,2,0,"td",65),f.qZA()),2&ee){const $=f.oxw();f.xp6(1),f.Q6J("ngIf",!$.showLoading)}}const ie=function(ee){return{disable:ee}},ye=function(){return[5,10,25,100]};let oe=(()=>{class ee extends e.G{constructor($,re,J,q,_e){super(J),this.modalService=$,this.dialog=re,this.matPaginatorIntl=J,this.snackbarService=q,this.menuService=_e}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe($=>{this.updatePageData($),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe($=>{this.currentPage=1,this.sortBy=$.active,this.sortDirection=$.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter($){this.searchText=$.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var $=new m.v;$.Enabled=!0,this.showModalForm($)}editItem($){this.showModalForm($)}showModalForm($){var re=this,J=this.modalService.open(Fe,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});J.componentInstance.menu=$,J.closed.subscribe(q=>{re.getAllItems()})}getAllItems(){this.showLoading=!0,this.menuService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then($=>{this.showLoading=!1;var re=$.Data;this.totalCount=$.TotalCount,this.listItems=re,this.dataSource=new _.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},$=>{this.showLoading=!1})}deleteItem($){var re=new b.vA;re.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el menu "+$.Title+"?",accordMessage:"Si, eliminar el menu '"+$.Title+"'"},this.dialog.open(P.k,re).afterClosed().subscribe(J=>{J&&this.executeDeleteItem($)})}executeDeleteItem($){this.showLoading=!0,this.menuService.deleteItem($.Id).then(re=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",C.dA.Success),this.getAllItems()},re=>{this.showLoading=!1,this.snackbarService.showSnackBar(re,C.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var $=new b.vA;$.data={title:"Eliminar menus",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(P.k,$).afterClosed().subscribe(re=>{re&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.menuService.deleteItems(this.selection.selected).then($=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",C.dA.Success),this.getAllItems()},$=>{this.showLoading=!1,this.snackbarService.showSnackBar($,C.dA.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","Path","IconClass","SortOrder","Actions"]:window.innerWidth>875?["Select","Id","Title","Path","IconClass","Actions"]:window.innerWidth>495?["Select","Id","Title","Path","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(re){return new(re||ee)(f.Y36(S.FF),f.Y36(b.uw),f.Y36(t.ye),f.Y36(x.c),f.Y36(A.h))};static#t=this.\u0275cmp=f.Xpm({type:ee,selectors:[["app-menu-list"]],viewQuery:function(re,J){if(1&re&&(f.Gf(t.NW,5),f.Gf(v.YE,5)),2&re){let q;f.iGM(q=f.CRH())&&(J.paginator=q.first),f.iGM(q=f.CRH())&&(J.sort=q.first)}},features:[f.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Path"],["mat-header-cell","","mat-sort-header","","style","min-width:100px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","IconClass"],["mat-header-cell","","mat-sort-header","","style","min-width:180px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:180px;text-align: left;",4,"matCellDef"],["matColumnDef","SortOrder"],["mat-header-cell","","mat-sort-header","","style","max-width:70px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:70px;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","100px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","180px","text-align","left"],["mat-cell","",2,"min-width","180px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","70px","text-align","left"],["mat-cell","",2,"max-width","70px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(re,J){1&re&&(f.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),f._uU(3,"Menus"),f.qZA()(),f.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),f.NdJ("click",function(){return J.showNewItem()}),f._UZ(8,"i",5),f.qZA(),f.TgZ(9,"button",6),f.NdJ("click",function(){return J.deleteSelectedItems()}),f._UZ(10,"i",7),f.qZA()(),f._UZ(11,"div",8),f.qZA(),f.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),f._uU(16,"Buscar"),f.qZA(),f.TgZ(17,"input",10,11),f.NdJ("keyup",function(_e){return J.applyFilter(_e)}),f.qZA()(),f.TgZ(19,"div",12),f.YNc(20,G,2,0,"div",13),f.TgZ(21,"div",14)(22,"table",15),f.ynx(23,16),f.YNc(24,Se,2,2,"th",17),f.YNc(25,ce,2,1,"td",18),f.BQk(),f.ynx(26,19),f.YNc(27,ge,2,0,"th",20),f.YNc(28,Ie,2,1,"td",21),f.BQk(),f.ynx(29,22),f.YNc(30,Ce,2,0,"th",23),f.YNc(31,pe,2,1,"td",24),f.BQk(),f.ynx(32,25),f.YNc(33,Ae,2,0,"th",26),f.YNc(34,ke,2,1,"td",27),f.BQk(),f.ynx(35,28),f.YNc(36,he,2,0,"th",29),f.YNc(37,we,2,1,"td",30),f.BQk(),f.ynx(38,31),f.YNc(39,Te,2,0,"th",32),f.YNc(40,Oe,2,1,"td",33),f.BQk(),f.ynx(41,34),f.YNc(42,Ve,1,0,"th",35),f.YNc(43,ft,6,0,"td",36),f.BQk(),f.YNc(44,Ze,1,0,"tr",37),f.YNc(45,Re,1,0,"tr",38),f.YNc(46,Q,2,1,"tr",39),f.qZA()()()()(),f.TgZ(47,"div",1)(48,"div",9),f._UZ(49,"mat-paginator",40),f.qZA()()()()),2&re&&(f.xp6(9),f.Q6J("ngClass",f.VKq(7,ie,!J.selection.hasValue())),f.xp6(11),f.Q6J("ngIf",J.showLoading),f.xp6(2),f.Q6J("dataSource",J.dataSource),f.xp6(22),f.Q6J("matHeaderRowDef",J.getDisplayedColumns()),f.xp6(1),f.Q6J("matRowDefColumns",J.getDisplayedColumns()),f.xp6(4),f.Q6J("color","primary")("pageSizeOptions",f.DdM(9,ye)))},dependencies:[O.mk,O.O5,t.NW,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,_.Ee,D.Nt,I.KE,I.hX,v.YE,v.nU,T.oG,Y.Ou,le.gM],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return ee})()},3826:(Wn,et,p)=>{"use strict";p.d(et,{v:()=>e});class e{}},5864:(Wn,et,p)=>{"use strict";p.d(et,{h:()=>C});var e=p(863),t=p(2372),v=p(8645),b=p(5879),_=p(1367),P=p(9429);let C=(()=>{class m{constructor(c,d){this.sharedDataService=c,this.restProvider=d,this.completedLoadUserManageMenu$=new v.x,this.loadedManageMenu=!1}completeLoadUserManageMenu(){this.completedLoadUserManageMenu$.next(!0)}isCompletedLoadUserManageMenu(){return this.completedLoadUserManageMenu$.asObservable()}getManageMenu(){return new Promise((c,d)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/menus/GetByUserAsync/"+this.sharedDataService.userData.Id).then(f=>{this.sharedDataService.manageMenus=f.Data,this.completeLoadUserManageMenu(),this.loadedManageMenu=!0,c(!0)},f=>{d(f)})})}getAllMenus(){return new Promise((c,d)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/menus/GetAllAsync").then(g=>{c(g)},g=>{console.error(g),d(g)})})}getItems(c,d,f,g,S,x){return new Promise((A,N)=>{let O=(0,t.Z)();this.lastCallGuid=O;var D="?page="+c.toString()+"&take="+d.toString()+"&sortBy="+f+"&sortDirection="+g+"&searchText="+S+"&searchBy="+x;this.restProvider.executeSinovadApiService(e.yw.GET,"/menus/GetAllWithPaginationAsync"+D).then(T=>{this.lastCallGuid==O&&A(T)},T=>{console.error(T),N(T)})})}saveItem(c){return new Promise((d,f)=>{this.restProvider.executeSinovadApiService(c.Id>0?e.yw.PUT:e.yw.POST,c.Id>0?"/menus/Update":"/menus/Create",c).then(x=>{d(!0)},x=>{console.error(x),f(x)})})}deleteItem(c){return new Promise((d,f)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/menus/Delete/"+c).then(S=>{d(S)},S=>{console.error(S),f(S)})})}deleteItems(c){return new Promise((d,f)=>{let g=[];for(let A=0;A<c.length;A++)g.push(c[A].Id);var S=g.join(",");this.restProvider.executeSinovadApiService(e.yw.DELETE,"/menus/DeleteList/"+S).then(A=>{d(A)},A=>{console.error(A),f(A)})})}static#e=this.\u0275fac=function(d){return new(d||m)(b.LFG(_.g),b.LFG(P.C))};static#t=this.\u0275prov=b.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},7581:(Wn,et,p)=>{"use strict";p.d(et,{O:()=>X});var e=p(2877),t=p(1476),v=p(3566),b=p(7700),_=p(5313),P=p(8923),C=p(9604);class m{}var i=p(95),c=p(5550),d=p(8337),f=p(298),g=p(5879),S=p(5731),x=p(8726),A=p(2067),N=p(3931),O=p(863),D=p(2372),I=p(9429);let T=(()=>{class ${constructor(J){this.restProvider=J}getMovie(J){return new Promise((q,_e)=>{this.restProvider.executeSinovadApiService(O.yw.GET,"/movies/GetAsync/"+J).then(xe=>{q(xe)},xe=>{console.error(xe),_e(xe)})})}getItems(J,q,_e,xe,Ee,Ge){return new Promise((ct,Xe)=>{let tt=(0,D.Z)();this.lastCallGuid=tt;var gt="?page="+J.toString()+"&take="+q.toString()+"&sortBy="+_e+"&sortDirection="+xe+"&searchText="+Ee+"&searchBy="+Ge;this.restProvider.executeSinovadApiService(O.yw.GET,"/movies/GetAllWithPaginationAsync"+gt).then(yt=>{this.lastCallGuid==tt&&ct(yt)},yt=>{console.error(yt),Xe(yt)})})}saveItem(J){return new Promise((q,_e)=>{this.restProvider.executeSinovadApiService(J.Id>0?O.yw.PUT:O.yw.POST,J.Id>0?"/movies/Update":"/movies/Create",J).then(Ge=>{q(!0)},Ge=>{console.error(Ge),_e(Ge)})})}deleteItem(J){return new Promise((q,_e)=>{this.restProvider.executeSinovadApiService(O.yw.DELETE,"/movies/Delete/"+J).then(Ee=>{q(Ee)},Ee=>{console.error(Ee),_e(Ee)})})}deleteItems(J){return new Promise((q,_e)=>{let xe=[];for(let ct=0;ct<J.length;ct++)xe.push(J[ct].Id);var Ee=xe.join(",");this.restProvider.executeSinovadApiService(O.yw.DELETE,"/movies/DeleteList/"+Ee).then(ct=>{q(ct)},ct=>{console.error(ct),_e(ct)})})}static#e=this.\u0275fac=function(q){return new(q||$)(g.LFG(I.C))};static#t=this.\u0275prov=g.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})();var L=p(5220),y=p(6814),B=p(2032),z=p(4170),ne=p(8034);function ae($,re){1&$&&(g.TgZ(0,"mat-error"),g._uU(1," T\xedtulo es "),g.TgZ(2,"strong"),g._uU(3,"requerido"),g.qZA()())}function Fe($,re){if(1&$){const J=g.EpF();g.TgZ(0,"form",1),g.NdJ("ngSubmit",function(){g.CHM(J);const _e=g.oxw();return g.KtG(_e.saveItem())}),g.TgZ(1,"div",2)(2,"h5",3),g._uU(3),g.qZA(),g.TgZ(4,"button",4),g.NdJ("click",function(){g.CHM(J);const _e=g.oxw();return g.KtG(_e.closeModal())}),g._UZ(5,"i",5),g.qZA()(),g.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),g._uU(9,"T\xedtulo"),g.qZA(),g._UZ(10,"input",7),g.YNc(11,ae,4,0,"mat-error",8),g.qZA(),g.TgZ(12,"mat-form-field")(13,"mat-label"),g._uU(14,"Fecha de Lanzamiento"),g.qZA(),g._UZ(15,"input",9),g.TgZ(16,"mat-hint"),g._uU(17,"MM/DD/YYYY"),g.qZA(),g._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),g.qZA(),g.TgZ(21,"mat-form-field")(22,"mat-label"),g._uU(23,"G\xe9neros"),g.qZA(),g.TgZ(24,"textarea",12),g.NdJ("click",function(){g.CHM(J);const _e=g.oxw();return g.KtG(_e.showGenresSelectionModal())}),g.qZA()(),g.TgZ(25,"mat-form-field")(26,"mat-label"),g._uU(27,"Directores"),g.qZA(),g._UZ(28,"textarea",13),g.qZA(),g.TgZ(29,"mat-form-field")(30,"mat-label"),g._uU(31,"Actores"),g.qZA(),g._UZ(32,"textarea",14),g.qZA(),g.TgZ(33,"mat-form-field")(34,"mat-label"),g._uU(35,"Resumen"),g.qZA(),g._UZ(36,"textarea",15),g.qZA(),g.TgZ(37,"mat-form-field")(38,"mat-label"),g._uU(39,"Im\xe1gen"),g.qZA(),g._UZ(40,"textarea",16),g.qZA()(),g.TgZ(41,"div",17)(42,"button",18),g.NdJ("click",function(){g.CHM(J);const _e=g.oxw();return g.KtG(_e.closeModal())}),g._uU(43,"Close"),g.qZA(),g.TgZ(44,"button",19),g._uU(45,"Guardar"),g.qZA()()(),g._UZ(46,"app-custom-spinner",20)}if(2&$){const J=g.MAs(20),q=g.oxw();g.Q6J("formGroup",q.movieFormGroup),g.xp6(3),g.Oqu(q.movie.Id>0?"Editar":"Nuevo"),g.xp6(7),g.Q6J("errorStateMatcher",q.matcher),g.xp6(1),g.Q6J("ngIf",q.movieFormGroup.controls.title.hasError("required")),g.xp6(4),g.Q6J("matDatepicker",J),g.xp6(3),g.Q6J("for",J),g.xp6(6),g.Q6J("readonly",!0),g.xp6(20),g.Q6J("disabled",q.showLoading||!q.movieFormGroup.valid),g.xp6(2),g.Q6J("showLoading",q.showLoading)}}let Y=(()=>{class ${constructor(J,q,_e,xe,Ee,Ge,ct){this.commonService=J,this.modalService=q,this.genreService=_e,this.formBuilder=xe,this.activeModal=Ee,this.snackbarService=Ge,this.movieService=ct,this.showLoading=!1,this.matcher=new c.n}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(J=>{this.listGenres=J.Data}),this.movie.Id>0?this.getMovie():this.movie.ListItemGenres=[]}buildFormGroup(){this.movieFormGroup=this.formBuilder.group({title:new i.NI(this.movie.Title,[i.kI.required]),releaseDate:new i.NI(this.commonService.formatDate(this.movie.ReleaseDate)),directors:new i.NI(this.movie.Directors),actors:new i.NI(this.movie.Actors),overview:new i.NI(this.movie.Overview),posterPath:new i.NI(this.movie.PosterPath),selectedGenres:new i.NI("")})}getMovie(){this.movieService.getMovie(this.movie.Id).then(J=>{this.movie=J.Data,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.movieFormGroup.valid){this.showLoading=!0;var J=JSON.parse(JSON.stringify(this.movie));J.Title=this.movieFormGroup.value.title,J.ReleaseDate=this.movieFormGroup.value.releaseDate,J.Directors=this.movieFormGroup.value.directors,J.Actors=this.movieFormGroup.value.actors,J.Overview=this.movieFormGroup.value.overview,this.movieService.saveItem(J).then(q=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el movie satisfactoriamente",C.dA.Success),this.activeModal.close()},q=>{this.showLoading=!1,console.error(q)})}else this.movieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){return this.movie.ListItemGenres&&this.movie.ListItemGenres.length>0?this.movie.ListItemGenres.map(q=>q.GenreName).join(", "):""}showGenresSelectionModal(){var J=this,q=this.modalService.open(f.I,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});q.componentInstance.listAllGenres=this.listGenres,q.componentInstance.selection=new d.Ov(!0,this.getMovieGenres()),q.closed.subscribe(_e=>{J.setMovieGenres(_e)})}getMovieGenres(){var J=this.movie.ListItemGenres.map(q=>q.GenreId);return this.listGenres.filter(q=>-1!=J.indexOf(q.Id))}setMovieGenres(J){var q=[];J.forEach(_e=>{q.push({MovieId:this.movie.Id,GenreId:_e.Id,GenreName:_e.Name})}),this.movie.ListItemGenres=q,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(q){return new(q||$)(g.Y36(S.v),g.Y36(x.FF),g.Y36(A.c),g.Y36(i.qu),g.Y36(x.Kz),g.Y36(N.c),g.Y36(T))};static#t=this.\u0275cmp=g.Xpm({type:$,selectors:[["app-movie-form"]],inputs:{movie:"movie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","releaseDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(q,_e){1&q&&g.YNc(0,Fe,47,9,"ng-template",0),2&q&&g.Q6J("ngIf",null!=_e.movie&&_e.movieFormGroup)},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,L.D,y.O5,B.Nt,z.KE,z.hX,z.bx,z.TO,z.R9,ne.Mq,ne.hl,ne.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return $})();var le=p(5986),G=p(5940),Se=p(2596);function ce($,re){1&$&&(g.TgZ(0,"div",39),g._UZ(1,"mat-spinner"),g.qZA())}function ge($,re){if(1&$){const J=g.EpF();g.TgZ(0,"th",40)(1,"mat-checkbox",41),g.NdJ("change",function(_e){g.CHM(J);const xe=g.oxw();return g.KtG(_e?xe.toggleAllRows():null)}),g.qZA()()}if(2&$){const J=g.oxw();g.xp6(1),g.Q6J("checked",J.selection.hasValue()&&J.isAllSelected())("indeterminate",J.selection.hasValue()&&!J.isAllSelected())}}function Ie($,re){if(1&$){const J=g.EpF();g.TgZ(0,"td",42)(1,"mat-checkbox",43),g.NdJ("click",function(_e){const Ee=g.CHM(J).$implicit,Ge=g.oxw();return g.KtG(Ge.onChangeCheckValue(_e,Ee))}),g.qZA()()}if(2&$){const J=re.$implicit,q=g.oxw();g.xp6(1),g.Q6J("checked",q.selection.isSelected(J))}}function Ce($,re){1&$&&(g.TgZ(0,"th",44),g._uU(1,"N\xb0"),g.qZA())}function pe($,re){if(1&$&&(g.TgZ(0,"td",45),g._uU(1),g.qZA()),2&$){const J=re.index,q=g.oxw();g.xp6(1),g.hij(" ",q.getElementNumber(J,q.currentPage,q.itemsPerPage),"")}}function Ae($,re){1&$&&(g.TgZ(0,"th",46),g._uU(1,"T\xedtulo"),g.qZA())}function ke($,re){if(1&$&&(g.TgZ(0,"td",47),g._uU(1),g.qZA()),2&$){const J=re.$implicit;g.xp6(1),g.hij(" ",J.Title," ")}}function he($,re){1&$&&(g.TgZ(0,"th",48),g._uU(1,"Fecha"),g.qZA())}function we($,re){if(1&$&&(g.TgZ(0,"td",49),g._uU(1),g.ALo(2,"date"),g.qZA()),2&$){const J=re.$implicit;g.xp6(1),g.hij(" ",g.xi3(2,1,J.ReleaseDate,"dd-MM-YYYY ")," ")}}function Te($,re){1&$&&(g.TgZ(0,"th",50),g._uU(1,"Actores"),g.qZA())}function Oe($,re){if(1&$&&(g.TgZ(0,"td",51),g._uU(1),g.qZA()),2&$){const J=re.$implicit;g.xp6(1),g.hij(" ",J.Actors," ")}}function Ve($,re){1&$&&(g.TgZ(0,"th",50),g._uU(1,"Directores"),g.qZA())}function ft($,re){if(1&$&&(g.TgZ(0,"td",51),g._uU(1),g.qZA()),2&$){const J=re.$implicit;g.xp6(1),g.hij(" ",J.Directors," ")}}function Ze($,re){1&$&&g._UZ(0,"th",52)}function Re($,re){if(1&$){const J=g.EpF();g.TgZ(0,"td",53)(1,"div",54)(2,"button",55),g.NdJ("click",function(){const xe=g.CHM(J).$implicit,Ee=g.oxw();return g.KtG(Ee.editItem(xe))}),g._UZ(3,"i",56),g.qZA(),g.TgZ(4,"button",57),g.NdJ("click",function(){const xe=g.CHM(J).$implicit,Ee=g.oxw();return g.KtG(Ee.deleteItem(xe))}),g._UZ(5,"i",7),g.qZA()()()}}function be($,re){1&$&&g._UZ(0,"tr",58)}function Q($,re){1&$&&g._UZ(0,"tr",59)}function ie($,re){1&$&&(g.TgZ(0,"td",62),g._uU(1,"No se encontraron datos"),g.qZA())}function ye($,re){if(1&$&&(g.TgZ(0,"tr",60),g.YNc(1,ie,2,0,"td",61),g.qZA()),2&$){const J=g.oxw();g.xp6(1),g.Q6J("ngIf",!J.showLoading)}}const oe=function($){return{disable:$}},ee=function(){return[5,10,25,100]};let X=(()=>{class $ extends e.G{constructor(J,q,_e,xe,Ee){super(_e),this.modalService=J,this.dialog=q,this.matPaginatorIntl=_e,this.snackbarService=xe,this.movieService=Ee}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(J=>{this.updatePageData(J),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(J=>{this.currentPage=1,this.sortBy=J.active,this.sortDirection=J.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter(J){this.searchText=J.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var J=new m;this.showModalForm(J)}editItem(J){this.showModalForm(J)}showModalForm(J){var q=this,_e=this.modalService.open(Y,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});_e.componentInstance.movie=J,_e.closed.subscribe(xe=>{q.getAllItems()})}getAllItems(){this.showLoading=!0,this.movieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(J=>{this.showLoading=!1;var q=J.Data;this.totalCount=J.TotalCount,this.listItems=q,this.dataSource=new _.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},J=>{this.showLoading=!1})}deleteItem(J){var q=new b.vA;q.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el movie "+J.Title+"?",accordMessage:"Si, eliminar el movie '"+J.Title+"'"},this.dialog.open(P.k,q).afterClosed().subscribe(_e=>{_e&&this.executeDeleteItem(J)})}executeDeleteItem(J){this.showLoading=!0,this.movieService.deleteItem(J.Id).then(q=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",C.dA.Success),this.getAllItems()},q=>{this.showLoading=!1,this.snackbarService.showSnackBar(q,C.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var J=new b.vA;J.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(P.k,J).afterClosed().subscribe(q=>{q&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.movieService.deleteItems(this.selection.selected).then(J=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",C.dA.Success),this.getAllItems()},J=>{this.showLoading=!1,this.snackbarService.showSnackBar(J,C.dA.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","ReleaseDate","Actors","Directors","Actions"]:window.innerWidth>875?["Select","Id","Title","ReleaseDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Title","ReleaseDate","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(q){return new(q||$)(g.Y36(x.FF),g.Y36(b.uw),g.Y36(t.ye),g.Y36(N.c),g.Y36(T))};static#t=this.\u0275cmp=g.Xpm({type:$,selectors:[["app-movie-list"]],viewQuery:function(q,_e){if(1&q&&(g.Gf(t.NW,5),g.Gf(v.YE,5)),2&q){let xe;g.iGM(xe=g.CRH())&&(_e.paginator=xe.first),g.iGM(xe=g.CRH())&&(_e.sort=xe.first)}},features:[g.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","ReleaseDate"],["mat-header-cell","","mat-sort-header","","style","min-width:140px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","140px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",2,"max-width","120px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(q,_e){1&q&&(g.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),g._uU(3," Pel\xedculas"),g.qZA()(),g.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),g.NdJ("click",function(){return _e.showNewItem()}),g._UZ(8,"i",5),g.qZA(),g.TgZ(9,"button",6),g.NdJ("click",function(){return _e.deleteSelectedItems()}),g._UZ(10,"i",7),g.qZA()(),g._UZ(11,"div",8),g.qZA(),g.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),g._uU(16,"Buscar"),g.qZA(),g.TgZ(17,"input",10,11),g.NdJ("keyup",function(Ee){return _e.applyFilter(Ee)}),g.qZA()(),g.TgZ(19,"div",12),g.YNc(20,ce,2,0,"div",13),g.TgZ(21,"div",14)(22,"table",15),g.ynx(23,16),g.YNc(24,ge,2,2,"th",17),g.YNc(25,Ie,2,1,"td",18),g.BQk(),g.ynx(26,19),g.YNc(27,Ce,2,0,"th",20),g.YNc(28,pe,2,1,"td",21),g.BQk(),g.ynx(29,22),g.YNc(30,Ae,2,0,"th",23),g.YNc(31,ke,2,1,"td",24),g.BQk(),g.ynx(32,25),g.YNc(33,he,2,0,"th",26),g.YNc(34,we,3,4,"td",27),g.BQk(),g.ynx(35,28),g.YNc(36,Te,2,0,"th",29),g.YNc(37,Oe,2,1,"td",30),g.BQk(),g.ynx(38,31),g.YNc(39,Ve,2,0,"th",29),g.YNc(40,ft,2,1,"td",30),g.BQk(),g.ynx(41,32),g.YNc(42,Ze,1,0,"th",33),g.YNc(43,Re,6,0,"td",34),g.BQk(),g.YNc(44,be,1,0,"tr",35),g.YNc(45,Q,1,0,"tr",36),g.YNc(46,ye,2,1,"tr",37),g.qZA()()()()(),g.TgZ(47,"div",1)(48,"div",9),g._UZ(49,"mat-paginator",38),g.qZA()()()()),2&q&&(g.xp6(9),g.Q6J("ngClass",g.VKq(7,oe,!_e.selection.hasValue())),g.xp6(11),g.Q6J("ngIf",_e.showLoading),g.xp6(2),g.Q6J("dataSource",_e.dataSource),g.xp6(22),g.Q6J("matHeaderRowDef",_e.getDisplayedColumns()),g.xp6(1),g.Q6J("matRowDefColumns",_e.getDisplayedColumns()),g.xp6(4),g.Q6J("color","primary")("pageSizeOptions",g.DdM(9,ee)))},dependencies:[y.mk,y.O5,t.NW,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,_.Ee,B.Nt,z.KE,z.hX,v.YE,v.nU,le.oG,G.Ou,Se.gM,y.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return $})()},2070:(Wn,et,p)=>{"use strict";p.d(et,{C:()=>Oe});var e=p(1476),t=p(7700),v=p(8923),b=p(2877),_=p(5313),P=p(3566),C=p(9604);class m{}var i=p(95),c=p(5550),d=p(5879),f=p(8726),g=p(3931),S=p(863),x=p(2372),A=p(9429);let N=(()=>{class Ve{constructor(Ze){this.restProvider=Ze}getItems(Ze,Re,be,Q,ie,ye){return new Promise((oe,ee)=>{let X=(0,x.Z)();this.lastCallGuid=X;var $="?page="+Ze.toString()+"&take="+Re.toString()+"&sortBy="+be+"&sortDirection="+Q+"&searchText="+ie+"&searchBy="+ye;this.restProvider.executeSinovadApiService(S.yw.GET,"/roles/GetAllWithPaginationAsync"+$).then(J=>{this.lastCallGuid==X&&oe(J)},J=>{console.error(J),ee(J)})})}saveItem(Ze){return new Promise((Re,be)=>{this.restProvider.executeSinovadApiService(Ze.Id>0?S.yw.PUT:S.yw.POST,Ze.Id>0?"/roles/Update":"/roles/Create",Ze).then(ye=>{Re(!0)},ye=>{console.error(ye),be(ye)})})}deleteItem(Ze){return new Promise((Re,be)=>{this.restProvider.executeSinovadApiService(S.yw.DELETE,"/roles/Delete/"+Ze).then(ie=>{Re(ie)},ie=>{console.error(ie),be(ie)})})}deleteItems(Ze){return new Promise((Re,be)=>{let Q=[];for(let oe=0;oe<Ze.length;oe++)Q.push(Ze[oe].Id);var ie=Q.join(",");this.restProvider.executeSinovadApiService(S.yw.DELETE,"/roles/DeleteList/"+ie).then(oe=>{Re(oe)},oe=>{console.error(oe),be(oe)})})}static#e=this.\u0275fac=function(Re){return new(Re||Ve)(d.LFG(A.C))};static#t=this.\u0275prov=d.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})();var O=p(5220),D=p(6814),I=p(2032),T=p(4170),L=p(5986);function y(Ve,ft){1&Ve&&(d.TgZ(0,"mat-error"),d._uU(1," Nombre es "),d.TgZ(2,"strong"),d._uU(3,"requerido"),d.qZA()())}function B(Ve,ft){if(1&Ve){const Ze=d.EpF();d.TgZ(0,"form",1),d.NdJ("ngSubmit",function(){d.CHM(Ze);const be=d.oxw();return d.KtG(be.saveItem())}),d.TgZ(1,"div",2)(2,"h5",3),d._uU(3),d.qZA(),d.TgZ(4,"button",4),d.NdJ("click",function(){d.CHM(Ze);const be=d.oxw();return d.KtG(be.closeModal())}),d._UZ(5,"i",5),d.qZA()(),d.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),d._uU(9,"Nombre"),d.qZA(),d._UZ(10,"input",7),d.YNc(11,y,4,0,"mat-error",8),d.qZA(),d.TgZ(12,"mat-checkbox",9),d._uU(13,"Activo"),d.qZA()(),d.TgZ(14,"div",10)(15,"button",11),d.NdJ("click",function(){d.CHM(Ze);const be=d.oxw();return d.KtG(be.closeModal())}),d._uU(16,"Close"),d.qZA(),d.TgZ(17,"button",12),d._uU(18,"Guardar"),d.qZA()()(),d._UZ(19,"app-custom-spinner",13)}if(2&Ve){const Ze=d.oxw();d.Q6J("formGroup",Ze.roleFormGroup),d.xp6(3),d.Oqu(Ze.role&&Ze.role.Id>0?"Editar":"Nuevo"),d.xp6(7),d.Q6J("errorStateMatcher",Ze.matcher),d.xp6(1),d.Q6J("ngIf",Ze.roleFormGroup.controls.name.hasError("required")),d.xp6(6),d.Q6J("disabled",Ze.showLoading||!Ze.roleFormGroup.valid),d.xp6(2),d.Q6J("showLoading",Ze.showLoading)}}let z=(()=>{class Ve{constructor(Ze,Re,be,Q){this.formBuilder=Ze,this.activeModal=Re,this.snackbarService=be,this.roleService=Q,this.showLoading=!1,this.matcher=new c.n}ngAfterViewInit(){this.roleFormGroup=this.formBuilder.group({name:new i.NI(this.role.Name,[i.kI.required]),enabled:new i.NI(this.role.Enabled)})}saveItem(){if(this.roleFormGroup.valid){this.showLoading=!0;var Ze=JSON.parse(JSON.stringify(this.role));Ze.Name=this.roleFormGroup.value.name,Ze.Enabled=this.roleFormGroup.value.enabled,this.roleService.saveItem(Ze).then(Re=>{this.showLoading=!1,this.role=void 0,this.snackbarService.showSnackBar("Se guardo el rol satisfactoriamente",C.dA.Success),this.activeModal.close()},Re=>{this.showLoading=!1,this.snackbarService.showSnackBar(Re,C.dA.Error)})}else this.roleFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(Re){return new(Re||Ve)(d.Y36(i.qu),d.Y36(f.Kz),d.Y36(g.c),d.Y36(N))};static#t=this.\u0275cmp=d.Xpm({type:Ve,selectors:[["app-role-form"]],inputs:{role:"role"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(Re,be){1&Re&&d.YNc(0,B,20,6,"ng-template",0),2&Re&&d.Q6J("ngIf",null!=be.role&&be.roleFormGroup)},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,O.D,D.O5,I.Nt,T.KE,T.hX,T.TO,L.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return Ve})();var ne=p(5940),ae=p(2596);function Fe(Ve,ft){1&Ve&&(d.TgZ(0,"div",32),d._UZ(1,"mat-spinner"),d.qZA())}function Y(Ve,ft){if(1&Ve){const Ze=d.EpF();d.TgZ(0,"th",33)(1,"mat-checkbox",34),d.NdJ("change",function(be){d.CHM(Ze);const Q=d.oxw();return d.KtG(be?Q.toggleAllRows():null)}),d.qZA()()}if(2&Ve){const Ze=d.oxw();d.xp6(1),d.Q6J("checked",Ze.selection.hasValue()&&Ze.isAllSelected())("indeterminate",Ze.selection.hasValue()&&!Ze.isAllSelected())}}function le(Ve,ft){if(1&Ve){const Ze=d.EpF();d.TgZ(0,"td",35)(1,"mat-checkbox",36),d.NdJ("click",function(be){const ie=d.CHM(Ze).$implicit,ye=d.oxw();return d.KtG(ye.onChangeCheckValue(be,ie))}),d.qZA()()}if(2&Ve){const Ze=ft.$implicit,Re=d.oxw();d.xp6(1),d.Q6J("checked",Re.selection.isSelected(Ze))}}function G(Ve,ft){1&Ve&&(d.TgZ(0,"th",37),d._uU(1,"N\xb0"),d.qZA())}function Se(Ve,ft){if(1&Ve&&(d.TgZ(0,"td",38),d._uU(1),d.qZA()),2&Ve){const Ze=ft.index,Re=d.oxw();d.xp6(1),d.hij(" ",Re.getElementNumber(Ze,Re.currentPage,Re.itemsPerPage),"")}}function ce(Ve,ft){1&Ve&&(d.TgZ(0,"th",39),d._uU(1," Nombre "),d.qZA())}function ge(Ve,ft){if(1&Ve&&(d.TgZ(0,"td",40),d._uU(1),d.qZA()),2&Ve){const Ze=ft.$implicit;d.xp6(1),d.hij(" ",Ze.Name," ")}}function Ie(Ve,ft){1&Ve&&d._UZ(0,"th",41)}function Ce(Ve,ft){if(1&Ve){const Ze=d.EpF();d.TgZ(0,"td",42)(1,"div",43)(2,"button",44),d.NdJ("click",function(){const Q=d.CHM(Ze).$implicit,ie=d.oxw();return d.KtG(ie.editItem(Q))}),d._UZ(3,"i",45),d.qZA(),d.TgZ(4,"button",46),d.NdJ("click",function(){const Q=d.CHM(Ze).$implicit,ie=d.oxw();return d.KtG(ie.deleteItem(Q))}),d._UZ(5,"i",7),d.qZA()()()}}function pe(Ve,ft){1&Ve&&d._UZ(0,"tr",47)}function Ae(Ve,ft){1&Ve&&d._UZ(0,"tr",48)}function ke(Ve,ft){1&Ve&&(d.TgZ(0,"td",51),d._uU(1,"No se encontraron datos"),d.qZA())}function he(Ve,ft){if(1&Ve&&(d.TgZ(0,"tr",49),d.YNc(1,ke,2,0,"td",50),d.qZA()),2&Ve){const Ze=d.oxw();d.xp6(1),d.Q6J("ngIf",!Ze.showLoading)}}const we=function(Ve){return{disable:Ve}},Te=function(){return[5,10,25,100]};let Oe=(()=>{class Ve extends b.G{constructor(Ze,Re,be,Q,ie){super(be),this.modalService=Ze,this.dialog=Re,this.matPaginatorIntl=be,this.snackbarService=Q,this.roleService=ie,this.displayedColumns=["Select","Id","Name","Actions"]}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(Ze=>{this.updatePageData(Ze),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(Ze=>{this.currentPage=1,this.sortBy=Ze.active,this.sortDirection=Ze.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(Ze){this.searchText=Ze.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var Ze=new m;Ze.Enabled=!0,this.showModalForm(Ze)}editItem(Ze){this.showModalForm(Ze)}showModalForm(Ze){var Re=this,be=this.modalService.open(z,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});be.componentInstance.role=Ze,be.closed.subscribe(Q=>{Re.getAllItems()})}getAllItems(){this.showLoading=!0,this.roleService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(Ze=>{this.showLoading=!1;var Re=Ze.Data;this.totalCount=Ze.TotalCount,this.listItems=Re,this.dataSource=new _.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},Ze=>{this.showLoading=!1})}deleteItem(Ze){var Re=new t.vA;Re.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+Ze.Name+"?",accordMessage:"Si, eliminar el rol '"+Ze.Name+"'"},this.dialog.open(v.k,Re).afterClosed().subscribe(be=>{be&&this.executeDeleteItem(Ze)})}executeDeleteItem(Ze){this.showLoading=!0,this.roleService.deleteItem(Ze.Id).then(Re=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",C.dA.Success),this.getAllItems()},Re=>{this.showLoading=!1,this.snackbarService.showSnackBar(Re,C.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var Ze=new t.vA;Ze.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(v.k,Ze).afterClosed().subscribe(Re=>{Re&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.roleService.deleteItems(this.selection.selected).then(Ze=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",C.dA.Success),this.getAllItems()},Ze=>{this.showLoading=!1,this.snackbarService.showSnackBar(Ze,C.dA.Error)})}static#e=this.\u0275fac=function(Re){return new(Re||Ve)(d.Y36(f.FF),d.Y36(t.uw),d.Y36(e.ye),d.Y36(g.c),d.Y36(N))};static#t=this.\u0275cmp=d.Xpm({type:Ve,selectors:[["app-role-list"]],viewQuery:function(Re,be){if(1&Re&&(d.Gf(e.NW,5),d.Gf(P.YE,5)),2&Re){let Q;d.iGM(Q=d.CRH())&&(be.paginator=Q.first),d.iGM(Q=d.CRH())&&(be.sort=Q.first)}},features:[d.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(Re,be){1&Re&&(d.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),d._uU(3," Roles"),d.qZA()(),d.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),d.NdJ("click",function(){return be.showNewItem()}),d._UZ(8,"i",5),d.qZA(),d.TgZ(9,"button",6),d.NdJ("click",function(){return be.deleteSelectedItems()}),d._UZ(10,"i",7),d.qZA()(),d._UZ(11,"div",8),d.qZA(),d.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),d._uU(16,"Buscar"),d.qZA(),d.TgZ(17,"input",10,11),d.NdJ("keyup",function(ie){return be.applyFilter(ie)}),d.qZA()(),d.TgZ(19,"div",12),d.YNc(20,Fe,2,0,"div",13),d.TgZ(21,"div",14)(22,"table",15),d.ynx(23,16),d.YNc(24,Y,2,2,"th",17),d.YNc(25,le,2,1,"td",18),d.BQk(),d.ynx(26,19),d.YNc(27,G,2,0,"th",20),d.YNc(28,Se,2,1,"td",21),d.BQk(),d.ynx(29,22),d.YNc(30,ce,2,0,"th",23),d.YNc(31,ge,2,1,"td",24),d.BQk(),d.ynx(32,25),d.YNc(33,Ie,1,0,"th",26),d.YNc(34,Ce,6,0,"td",27),d.BQk(),d.YNc(35,pe,1,0,"tr",28),d.YNc(36,Ae,1,0,"tr",29),d.YNc(37,he,2,1,"tr",30),d.qZA()()()()(),d.TgZ(38,"div",1)(39,"div",9),d._UZ(40,"mat-paginator",31),d.qZA()()()()),2&Re&&(d.xp6(9),d.Q6J("ngClass",d.VKq(7,we,!be.selection.hasValue())),d.xp6(11),d.Q6J("ngIf",be.showLoading),d.xp6(2),d.Q6J("dataSource",be.dataSource),d.xp6(13),d.Q6J("matHeaderRowDef",be.displayedColumns),d.xp6(1),d.Q6J("matRowDefColumns",be.displayedColumns),d.xp6(4),d.Q6J("color","primary")("pageSizeOptions",d.DdM(9,Te)))},dependencies:[D.mk,D.O5,e.NW,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,_.Ee,I.Nt,T.KE,T.hX,P.YE,P.nU,L.oG,ne.Ou,ae.gM]})}return Ve})()},5510:(Wn,et,p)=>{"use strict";p.d(et,{Z:()=>C});var e=p(863),t=p(2372),v=p(5879),b=p(1044),_=p(1367),P=p(9429);let C=(()=>{class m{constructor(c,d,f){this.libraryService=c,this.sharedDataService=d,this.restProvider=f}getMediaServers(){return new Promise((c,d)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/mediaServers/GetAllByUserAsync/"+this.sharedDataService.userData.Id).then(f=>{this.sharedDataService.mediaServers=f.Data,this.sharedDataService.mediaServers.forEach(S=>{this.executeGetLibrariesByMediaServer(S)}),c(!0)},f=>{d(f)})})}executeGetLibrariesByMediaServer(c){c.isSecureConnection?this.libraryService.getLibrariesByMediaServer(c.Url).then(d=>{c.ListLibraries=d},d=>{}):c.ListLibraries=[]}getMediaServerByGuid(c){return new Promise((d,f)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/mediaServers/GetByGuidAsync/"+c).then(g=>{d(g)},g=>{console.error(g),f(g)})})}getItems(c,d,f,g,S,x,A){return new Promise((N,O)=>{let D=(0,t.Z)();this.lastCallGuid=D;var I="?page="+d.toString()+"&take="+f.toString()+"&sortBy="+g+"&sortDirection="+S+"&searchText="+x+"&searchBy="+A;this.restProvider.executeSinovadApiService(e.yw.GET,"/mediaServers/GetAllWithPaginationByUserAsync/"+c+I).then(L=>{this.lastCallGuid==D&&N(L)},L=>{console.error(L),O(L)})})}saveItem(c){return new Promise((d,f)=>{this.restProvider.executeSinovadApiService(c.Id>0?e.yw.PUT:e.yw.POST,c.Id>0?"/mediaServers/Update":"/mediaServers/Create",c).then(x=>{d(!0)},x=>{console.error(x),f(x)})})}deleteItem(c){return new Promise((d,f)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/mediaServers/Delete/"+c).then(S=>{d(S)},S=>{console.error(S),f(S)})})}deleteItems(c){return new Promise((d,f)=>{let g=[];for(let A=0;A<c.length;A++)g.push(c[A].Id);var S=g.join(",");this.restProvider.executeSinovadApiService(e.yw.DELETE,"/mediaServers/DeleteList/"+S).then(A=>{d(A)},A=>{console.error(A),f(A)})})}updateMediaServer(c){return new Promise((d,f)=>{this.restProvider.executeSinovadApiService(e.yw.PUT,"/mediaServers/Update",c).then(S=>{d(S)},S=>{console.error(S),f(S)})})}static#e=this.\u0275fac=function(d){return new(d||m)(v.LFG(b.$),v.LFG(_.g),v.LFG(P.C))};static#t=this.\u0275prov=v.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},2098:(Wn,et,p)=>{"use strict";p.d(et,{f:()=>Qt});var e=p(2877),t=p(1476),v=p(3566),b=p(7700),_=p(5313),P=p(8923),C=p(9604);class m{}var i=p(5879),c=p(8726),d=p(6814);class f{}class g{}var S=p(95),x=p(5550),A=p(3931),N=p(863),O=p(2372),D=p(9429);let I=(()=>{class Rt{constructor(kt){this.restProvider=kt}getItems(kt,It,Nt,en,An,Kn,Xn){return new Promise((Ut,On)=>{let Ne=(0,O.Z)();this.lastCallGuid=Ne;var Ft="?page="+It.toString()+"&take="+Nt.toString()+"&sortBy="+en+"&sortDirection="+An+"&searchText="+Kn+"&searchBy="+Xn;this.restProvider.executeSinovadApiService(N.yw.GET,"/episodes/GetAllWithPaginationBySeasonAsync/"+kt+Ft).then(ln=>{this.lastCallGuid==Ne&&Ut(ln)},ln=>{console.error(ln),On(ln)})})}saveItem(kt){return new Promise((It,Nt)=>{this.restProvider.executeSinovadApiService(kt.Id>0?N.yw.PUT:N.yw.POST,kt.Id>0?"/episodes/Update":"/episodes/Create",kt).then(Kn=>{It(!0)},Kn=>{console.error(Kn),Nt(Kn)})})}createList(kt){return new Promise((It,Nt)=>{this.restProvider.executeSinovadApiService(N.yw.POST,"/episodes/CreateList",kt).then(en=>{It(!0)},en=>{console.error(en),Nt(en)})})}deleteItem(kt){return new Promise((It,Nt)=>{this.restProvider.executeSinovadApiService(N.yw.DELETE,"/episodes/Delete/"+kt).then(An=>{It(An)},An=>{console.error(An),Nt(An)})})}deleteItems(kt){return new Promise((It,Nt)=>{let en=[];for(let Xn=0;Xn<kt.length;Xn++)en.push(kt[Xn].Id);var An=en.join(",");this.restProvider.executeSinovadApiService(N.yw.DELETE,"/episodes/DeleteList/"+An).then(Xn=>{It(Xn)},Xn=>{console.error(Xn),Nt(Xn)})})}static#e=this.\u0275fac=function(It){return new(It||Rt)(i.LFG(D.C))};static#t=this.\u0275prov=i.Yz7({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}return Rt})();var T=p(5220),L=p(2032),y=p(4170);function B(Rt,xn){1&Rt&&(i.TgZ(0,"mat-error"),i._uU(1," T\xcdtulo es "),i.TgZ(2,"strong"),i._uU(3,"requerido"),i.qZA()())}function z(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"form",1),i.NdJ("ngSubmit",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.saveItem())}),i.TgZ(1,"div",2)(2,"h5",3),i._uU(3),i.qZA(),i.TgZ(4,"button",4),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.closeModal())}),i._UZ(5,"i",5),i.qZA()(),i.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),i._uU(9,"T\xcdtulo"),i.qZA(),i._UZ(10,"input",7),i.YNc(11,B,4,0,"mat-error",8),i.qZA(),i.TgZ(12,"mat-form-field")(13,"mat-label"),i._uU(14,"N\xfamero"),i.qZA(),i._UZ(15,"input",9),i.qZA(),i.TgZ(16,"mat-form-field")(17,"mat-label"),i._uU(18,"Resumen"),i.qZA(),i._UZ(19,"textarea",10),i.qZA()(),i.TgZ(20,"div",11)(21,"button",12),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.closeModal())}),i._uU(22,"Close"),i.qZA(),i.TgZ(23,"button",13),i._uU(24,"Guardar"),i.qZA()()(),i._UZ(25,"app-custom-spinner",14)}if(2&Rt){const kt=i.oxw();i.Q6J("formGroup",kt.episodeFormGroup),i.xp6(3),i.Oqu(kt.episode.Id>0?"Editar":"Nuevo"),i.xp6(7),i.Q6J("errorStateMatcher",kt.matcher),i.xp6(1),i.Q6J("ngIf",kt.episodeFormGroup.controls.title.hasError("required")),i.xp6(12),i.Q6J("disabled",kt.showLoading||!kt.episodeFormGroup.valid),i.xp6(2),i.Q6J("showLoading",kt.showLoading)}}let ne=(()=>{class Rt{constructor(kt,It,Nt,en){this.formBuilder=kt,this.activeModal=It,this.snackbarService=Nt,this.episodeService=en,this.showLoading=!1,this.matcher=new x.n}ngAfterViewInit(){this.episodeFormGroup=this.formBuilder.group({title:new S.NI(this.episode.Title,[S.kI.required]),episodeNumber:new S.NI(this.episode.EpisodeNumber),summary:new S.NI(this.episode.Summary)})}saveItem(){if(this.episodeFormGroup.valid){this.showLoading=!0;var kt=JSON.parse(JSON.stringify(this.episode));kt.EpisodeNumber=this.episodeFormGroup.value.episodeNumber,kt.Title=this.episodeFormGroup.value.title,kt.Summary=this.episodeFormGroup.value.summary,this.episodeService.saveItem(kt).then(It=>{this.showLoading=!1,this.episode=void 0,this.snackbarService.showSnackBar("Se guardo el episodio satisfactoriamente satisfactoriamente",C.dA.Success),this.activeModal.close()},It=>{this.showLoading=!1,this.snackbarService.showSnackBar(It,C.dA.Error)})}else this.episodeFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(It){return new(It||Rt)(i.Y36(S.qu),i.Y36(c.Kz),i.Y36(A.c),i.Y36(I))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-episode-form"]],inputs:{episode:"episode"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","episodeNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(It,Nt){1&It&&i.YNc(0,z,26,6,"ng-template",0),2&It&&i.Q6J("ngIf",null!=Nt.episode&&Nt.episodeFormGroup)},dependencies:[S._Y,S.Fj,S.wV,S.JJ,S.JL,S.sg,S.u,T.D,d.O5,L.Nt,y.KE,y.hX,y.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return Rt})();function ae(Rt,xn){1&Rt&&(i.TgZ(0,"mat-error"),i._uU(1," El campo es "),i.TgZ(2,"strong"),i._uU(3,"requerido"),i.qZA()())}function Fe(Rt,xn){1&Rt&&(i.TgZ(0,"mat-error"),i._uU(1," El campo es "),i.TgZ(2,"strong"),i._uU(3,"requerido"),i.qZA()())}function Y(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"form",1),i.NdJ("ngSubmit",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.save())}),i.TgZ(1,"div",2)(2,"h5",3),i._uU(3,"Rango de Episodios"),i.qZA(),i.TgZ(4,"button",4),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.closeModal())}),i._UZ(5,"i",5),i.qZA()(),i.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),i._uU(9,"Desde"),i.qZA(),i._UZ(10,"input",7),i.YNc(11,ae,4,0,"mat-error",8),i.qZA(),i.TgZ(12,"mat-form-field")(13,"mat-label"),i._uU(14,"Hasta"),i.qZA(),i._UZ(15,"input",9),i.YNc(16,Fe,4,0,"mat-error",8),i.qZA()(),i.TgZ(17,"div",10)(18,"button",11),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.closeModal())}),i._uU(19,"Close"),i.qZA(),i.TgZ(20,"button",12),i._uU(21,"Guardar"),i.qZA()(),i._UZ(22,"app-custom-spinner",13),i.qZA()}if(2&Rt){const kt=i.oxw();i.Q6J("formGroup",kt.formGroup),i.xp6(11),i.Q6J("ngIf",kt.formGroup.controls.initialEpisodeNumber.hasError("required")),i.xp6(5),i.Q6J("ngIf",kt.formGroup.controls.lastEpisodeNumber.hasError("required")),i.xp6(4),i.Q6J("disabled",kt.showLoading||!kt.formGroup.valid),i.xp6(2),i.Q6J("showLoading",kt.showLoading)}}let le=(()=>{class Rt{constructor(kt,It,Nt){this.formBuilder=kt,this.episodeService=It,this.activeModal=Nt,this.matcher=new x.n,this.showLoading=!1}ngAfterViewInit(){this.formGroup=this.formBuilder.group({initialEpisodeNumber:new S.NI("",[S.kI.required]),lastEpisodeNumber:new S.NI("",[S.kI.required])})}save(){if(this.formGroup.valid){this.showLoading=!0;let It=[];for(let Nt=Number(this.formGroup.value.initialEpisodeNumber);Nt<=Number(this.formGroup.value.lastEpisodeNumber);Nt++){var kt=new g;kt.EpisodeNumber=Nt,kt.SeasonId=this.parent.Id,kt.Title="Episodio "+Nt,It.push(kt)}this.episodeService.createList(It).then(Nt=>{this.showLoading=!1,this.activeModal.close(!0)},Nt=>{this.showLoading=!1,console.error(Nt)})}else this.formGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(It){return new(It||Rt)(i.Y36(S.qu),i.Y36(I),i.Y36(c.Kz))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-episode-range-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["type","number","matInput","","formControlName","initialEpisodeNumber"],[4,"ngIf"],["type","number","matInput","","formControlName","lastEpisodeNumber"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(It,Nt){1&It&&i.YNc(0,Y,23,5,"form",0),2&It&&i.Q6J("ngIf",Nt.formGroup)},dependencies:[S._Y,S.Fj,S.wV,S.JJ,S.JL,S.sg,S.u,T.D,d.O5,L.Nt,y.KE,y.hX,y.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return Rt})();var G=p(5986),Se=p(5940),ce=p(2596);function ge(Rt,xn){1&Rt&&(i.TgZ(0,"div",32),i._UZ(1,"mat-spinner"),i.qZA())}function Ie(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"th",33)(1,"mat-checkbox",34),i.NdJ("change",function(Nt){i.CHM(kt);const en=i.oxw();return i.KtG(Nt?en.toggleAllRows():null)}),i.qZA()()}if(2&Rt){const kt=i.oxw();i.xp6(1),i.Q6J("checked",kt.selection.hasValue()&&kt.isAllSelected())("indeterminate",kt.selection.hasValue()&&!kt.isAllSelected())}}function Ce(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"td",35)(1,"mat-checkbox",36),i.NdJ("click",function(Nt){const An=i.CHM(kt).$implicit,Kn=i.oxw();return i.KtG(Kn.onChangeCheckValue(Nt,An))}),i.qZA()()}if(2&Rt){const kt=xn.$implicit,It=i.oxw();i.xp6(1),i.Q6J("checked",It.selection.isSelected(kt))}}function pe(Rt,xn){1&Rt&&(i.TgZ(0,"th",37),i._uU(1,"N\xb0"),i.qZA())}function Ae(Rt,xn){if(1&Rt&&(i.TgZ(0,"td",38),i._uU(1),i.qZA()),2&Rt){const kt=xn.$implicit;i.xp6(1),i.hij(" ",kt.EpisodeNumber,"")}}function ke(Rt,xn){1&Rt&&(i.TgZ(0,"th",39),i._uU(1,"T\xcdtulo"),i.qZA())}function he(Rt,xn){if(1&Rt&&(i.TgZ(0,"td",40),i._uU(1),i.qZA()),2&Rt){const kt=xn.$implicit;i.xp6(1),i.hij(" ",kt.Title," ")}}function we(Rt,xn){1&Rt&&i._UZ(0,"th",41)}function Te(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"td",42)(1,"div",43)(2,"button",44),i.NdJ("click",function(){const en=i.CHM(kt).$implicit,An=i.oxw();return i.KtG(An.editItem(en))}),i._UZ(3,"i",45),i.qZA(),i.TgZ(4,"button",46),i.NdJ("click",function(){const en=i.CHM(kt).$implicit,An=i.oxw();return i.KtG(An.deleteItem(en))}),i._UZ(5,"i",7),i.qZA()()()}}function Oe(Rt,xn){1&Rt&&i._UZ(0,"tr",47)}function Ve(Rt,xn){1&Rt&&i._UZ(0,"tr",48)}function ft(Rt,xn){1&Rt&&(i.TgZ(0,"td",51),i._uU(1,"No se encontraron datos"),i.qZA())}function Ze(Rt,xn){if(1&Rt&&(i.TgZ(0,"tr",49),i.YNc(1,ft,2,0,"td",50),i.qZA()),2&Rt){const kt=i.oxw();i.xp6(1),i.Q6J("ngIf",!kt.showLoading)}}const Re=function(Rt){return{disable:Rt}},be=function(){return[5,10,25,100]};let Q=(()=>{class Rt extends e.G{constructor(kt,It,Nt,en,An){super(en),this.modalService=kt,this.dialog=It,this.episodeService=Nt,this.matPaginatorIntl=en,this.snackbarService=An}ngAfterViewInit(){this.paginator.page.subscribe(kt=>{this.updatePageData(kt),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(kt=>{this.currentPage=1,this.sortBy=kt.active,this.sortDirection=kt.direction,this.getAllItems()}),this.sortBy="EpisodeNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"EpisodeNumber",start:"asc",disableClear:!0}),this.searchBy="EpisodeNumber|Title",this.dataSource.sort=this.sort}applyFilter(kt){this.searchText=kt.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var kt=new g;kt.SeasonId=this.parentItem.Id,this.showModalForm(kt)}editItem(kt){this.showModalForm(kt)}showModalForm(kt){var It=this,Nt=this.modalService.open(ne,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});Nt.componentInstance.episode=kt,Nt.closed.subscribe(en=>{It.getAllItems()})}getAllItems(){this.showLoading=!0,this.episodeService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(kt=>{this.showLoading=!1;var It=kt.Data;this.totalCount=kt.TotalCount,this.listItems=It,this.dataSource=new _.by(It),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},kt=>{this.showLoading=!1})}deleteItem(kt){var It=new b.vA;It.data={title:"Eliminar Episodio",message:"\xbfEsta seguro que desea eliminar el episodio "+kt.Title+"?",accordMessage:"Si, eliminar el episodio '"+kt.Title+"'"},this.dialog.open(P.k,It).afterClosed().subscribe(Nt=>{Nt&&this.executeDeleteItem(kt)})}executeDeleteItem(kt){this.showLoading=!0,this.episodeService.deleteItem(kt.Id).then(It=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",C.dA.Success),this.getAllItems()},It=>{this.showLoading=!1,this.snackbarService.showSnackBar(It,C.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var kt=new b.vA;kt.data={title:"Eliminar episodios",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(P.k,kt).afterClosed().subscribe(It=>{It&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.episodeService.deleteItems(this.selection.selected).then(kt=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",C.dA.Success),this.getAllItems()},kt=>{this.showLoading=!1,this.snackbarService.showSnackBar(kt,C.dA.Error)})}getDisplayedColumns(){return["Select","EpisodeNumber","Title","Actions"]}showEpisodeRangeModal(){var kt=this,It=this.modalService.open(le,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});It.componentInstance.parent=this.parentItem,It.closed.subscribe(Nt=>{kt.getAllItems()})}static#e=this.\u0275fac=function(It){return new(It||Rt)(i.Y36(c.FF),i.Y36(b.uw),i.Y36(I),i.Y36(t.ye),i.Y36(A.c))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-episode-list"]],viewQuery:function(It,Nt){if(1&It&&(i.Gf(t.NW,5),i.Gf(v.YE,5)),2&It){let en;i.iGM(en=i.CRH())&&(Nt.paginator=en.first),i.iGM(en=i.CRH())&&(Nt.sort=en.first)}},inputs:{parentItem:"parentItem"},features:[i.qOj],decls:42,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],["type","button",1,"custom-toolbar-button",3,"click"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","EpisodeNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(It,Nt){1&It&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),i._uU(3),i.qZA()(),i.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),i.NdJ("click",function(){return Nt.showNewItem()}),i._UZ(8,"i",5),i.qZA(),i.TgZ(9,"button",6),i.NdJ("click",function(){return Nt.deleteSelectedItems()}),i._UZ(10,"i",7),i.qZA(),i.TgZ(11,"button",8),i.NdJ("click",function(){return Nt.showEpisodeRangeModal()}),i._uU(12," Agregar por Rango "),i.qZA()()(),i.TgZ(13,"div",1)(14,"div",9)(15,"mat-form-field")(16,"mat-label"),i._uU(17,"Buscar"),i.qZA(),i.TgZ(18,"input",10,11),i.NdJ("keyup",function(An){return Nt.applyFilter(An)}),i.qZA()(),i.TgZ(20,"div",12),i.YNc(21,ge,2,0,"div",13),i.TgZ(22,"div",14)(23,"table",15),i.ynx(24,16),i.YNc(25,Ie,2,2,"th",17),i.YNc(26,Ce,2,1,"td",18),i.BQk(),i.ynx(27,19),i.YNc(28,pe,2,0,"th",20),i.YNc(29,Ae,2,1,"td",21),i.BQk(),i.ynx(30,22),i.YNc(31,ke,2,0,"th",23),i.YNc(32,he,2,1,"td",24),i.BQk(),i.ynx(33,25),i.YNc(34,we,1,0,"th",26),i.YNc(35,Te,6,0,"td",27),i.BQk(),i.YNc(36,Oe,1,0,"tr",28),i.YNc(37,Ve,1,0,"tr",29),i.YNc(38,Ze,2,1,"tr",30),i.qZA()()()()(),i.TgZ(39,"div",1)(40,"div",9),i._UZ(41,"mat-paginator",31),i.qZA()()()()),2&It&&(i.xp6(3),i.hij("",Nt.parentItem.Name," :Episodios"),i.xp6(6),i.Q6J("ngClass",i.VKq(8,Re,!Nt.selection.hasValue())),i.xp6(12),i.Q6J("ngIf",Nt.showLoading),i.xp6(2),i.Q6J("dataSource",Nt.dataSource),i.xp6(13),i.Q6J("matHeaderRowDef",Nt.getDisplayedColumns()),i.xp6(1),i.Q6J("matRowDefColumns",Nt.getDisplayedColumns()),i.xp6(4),i.Q6J("color","primary")("pageSizeOptions",i.DdM(10,be)))},dependencies:[d.mk,d.O5,t.NW,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,_.Ee,L.Nt,y.KE,y.hX,v.YE,v.nU,G.oG,Se.Ou,ce.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return Rt})();function ie(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"div",1)(1,"h5",2),i._uU(2),i.qZA(),i.TgZ(3,"button",3),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.closeModal())}),i._UZ(4,"i",4),i.qZA()(),i.TgZ(5,"div",5),i._UZ(6,"app-episode-list",6),i.qZA(),i.TgZ(7,"div",7)(8,"button",8),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.closeModal())}),i._uU(9,"Close"),i.qZA()()}if(2&Rt){const kt=i.oxw();i.xp6(2),i.hij("",kt.parent.Name," :Episodios"),i.xp6(4),i.Q6J("parentItem",kt.parent)}}let ye=(()=>{class Rt{constructor(kt){this.activeModal=kt}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(It){return new(It||Rt)(i.Y36(c.Kz))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-episode-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(It,Nt){1&It&&i.YNc(0,ie,10,2,"ng-template",0),2&It&&i.Q6J("ngIf",null!=Nt.parent)},dependencies:[d.O5,Q]})}return Rt})(),oe=(()=>{class Rt{constructor(kt){this.restProvider=kt}getItems(kt,It,Nt,en,An,Kn,Xn){return new Promise((Ut,On)=>{let Ne=(0,O.Z)();this.lastCallGuid=Ne;var Ft="?page="+It.toString()+"&take="+Nt.toString()+"&sortBy="+en+"&sortDirection="+An+"&searchText="+Kn+"&searchBy="+Xn;this.restProvider.executeSinovadApiService(N.yw.GET,"/seasons/GetAllWithPaginationByTvSerieAsync/"+kt+Ft).then(ln=>{this.lastCallGuid==Ne&&Ut(ln)},ln=>{console.error(ln),On(ln)})})}saveItem(kt){return new Promise((It,Nt)=>{this.restProvider.executeSinovadApiService(kt.Id>0?N.yw.PUT:N.yw.POST,kt.Id>0?"/seasons/Update":"/seasons/Create",kt).then(Kn=>{It(!0)},Kn=>{console.error(Kn),Nt(Kn)})})}deleteItem(kt){return new Promise((It,Nt)=>{this.restProvider.executeSinovadApiService(N.yw.DELETE,"/seasons/Delete/"+kt).then(An=>{It(An)},An=>{console.error(An),Nt(An)})})}deleteItems(kt){return new Promise((It,Nt)=>{let en=[];for(let Xn=0;Xn<kt.length;Xn++)en.push(kt[Xn].Id);var An=en.join(",");this.restProvider.executeSinovadApiService(N.yw.DELETE,"/seasons/DeleteList/"+An).then(Xn=>{It(Xn)},Xn=>{console.error(Xn),Nt(Xn)})})}static#e=this.\u0275fac=function(It){return new(It||Rt)(i.LFG(D.C))};static#t=this.\u0275prov=i.Yz7({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}return Rt})();function ee(Rt,xn){1&Rt&&(i.TgZ(0,"mat-error"),i._uU(1," Nombre es "),i.TgZ(2,"strong"),i._uU(3,"requerido"),i.qZA()())}function X(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"form",1),i.NdJ("ngSubmit",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.saveItem())}),i.TgZ(1,"div",2)(2,"h5",3),i._uU(3),i.qZA(),i.TgZ(4,"button",4),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.closeModal())}),i._UZ(5,"i",5),i.qZA()(),i.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),i._uU(9,"Nombre"),i.qZA(),i._UZ(10,"input",7),i.YNc(11,ee,4,0,"mat-error",8),i.qZA(),i.TgZ(12,"mat-form-field")(13,"mat-label"),i._uU(14,"N\xfamero"),i.qZA(),i._UZ(15,"input",9),i.qZA(),i.TgZ(16,"mat-form-field")(17,"mat-label"),i._uU(18,"Resumen"),i.qZA(),i._UZ(19,"textarea",10),i.qZA()(),i.TgZ(20,"div",11)(21,"button",12),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.closeModal())}),i._uU(22,"Close"),i.qZA(),i.TgZ(23,"button",13),i._uU(24,"Guardar"),i.qZA()()(),i._UZ(25,"app-custom-spinner",14)}if(2&Rt){const kt=i.oxw();i.Q6J("formGroup",kt.seasonFormGroup),i.xp6(3),i.Oqu(kt.season.Id>0?"Editar":"Nuevo"),i.xp6(7),i.Q6J("errorStateMatcher",kt.matcher),i.xp6(1),i.Q6J("ngIf",kt.seasonFormGroup.controls.name.hasError("required")),i.xp6(12),i.Q6J("disabled",kt.showLoading||!kt.seasonFormGroup.valid),i.xp6(2),i.Q6J("showLoading",kt.showLoading)}}let $=(()=>{class Rt{constructor(kt,It,Nt,en){this.formBuilder=kt,this.activeModal=It,this.snackbarService=Nt,this.seasonService=en,this.showLoading=!1,this.matcher=new x.n}ngAfterViewInit(){this.seasonFormGroup=this.formBuilder.group({name:new S.NI(this.season.Name,[S.kI.required]),seasonNumber:new S.NI(this.season.SeasonNumber),summary:new S.NI(this.season.Summary)})}saveItem(){if(this.seasonFormGroup.valid){this.showLoading=!0;var kt=JSON.parse(JSON.stringify(this.season));kt.SeasonNumber=this.seasonFormGroup.value.seasonNumber,kt.Name=this.seasonFormGroup.value.name,kt.Summary=this.seasonFormGroup.value.summary,this.seasonService.saveItem(kt).then(It=>{this.showLoading=!1,this.season=void 0,this.snackbarService.showSnackBar("Se guardo la temporada satisfactoriamente satisfactoriamente",C.dA.Success),this.activeModal.close()},It=>{this.showLoading=!1,this.snackbarService.showSnackBar(It,C.dA.Error)})}else this.seasonFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(It){return new(It||Rt)(i.Y36(S.qu),i.Y36(c.Kz),i.Y36(A.c),i.Y36(oe))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-season-form"]],inputs:{season:"season"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","seasonNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(It,Nt){1&It&&i.YNc(0,X,26,6,"ng-template",0),2&It&&i.Q6J("ngIf",null!=Nt.season&&Nt.seasonFormGroup)},dependencies:[S._Y,S.Fj,S.wV,S.JJ,S.JL,S.sg,S.u,T.D,d.O5,L.Nt,y.KE,y.hX,y.TO],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return Rt})();function re(Rt,xn){1&Rt&&(i.TgZ(0,"div",32),i._UZ(1,"mat-spinner"),i.qZA())}function J(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"th",33)(1,"mat-checkbox",34),i.NdJ("change",function(Nt){i.CHM(kt);const en=i.oxw();return i.KtG(Nt?en.toggleAllRows():null)}),i.qZA()()}if(2&Rt){const kt=i.oxw();i.xp6(1),i.Q6J("checked",kt.selection.hasValue()&&kt.isAllSelected())("indeterminate",kt.selection.hasValue()&&!kt.isAllSelected())}}function q(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"td",35)(1,"mat-checkbox",36),i.NdJ("click",function(Nt){const An=i.CHM(kt).$implicit,Kn=i.oxw();return i.KtG(Kn.onChangeCheckValue(Nt,An))}),i.qZA()()}if(2&Rt){const kt=xn.$implicit,It=i.oxw();i.xp6(1),i.Q6J("checked",It.selection.isSelected(kt))}}function _e(Rt,xn){1&Rt&&(i.TgZ(0,"th",37),i._uU(1,"N\xb0"),i.qZA())}function xe(Rt,xn){if(1&Rt&&(i.TgZ(0,"td",38),i._uU(1),i.qZA()),2&Rt){const kt=xn.$implicit;i.xp6(1),i.hij(" ",kt.SeasonNumber,"")}}function Ee(Rt,xn){1&Rt&&(i.TgZ(0,"th",39),i._uU(1,"Nombre"),i.qZA())}function Ge(Rt,xn){if(1&Rt&&(i.TgZ(0,"td",40),i._uU(1),i.qZA()),2&Rt){const kt=xn.$implicit;i.xp6(1),i.hij(" ",kt.Name," ")}}function ct(Rt,xn){1&Rt&&i._UZ(0,"th",41)}function Xe(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"td",42)(1,"div",43)(2,"button",44),i.NdJ("click",function(){const en=i.CHM(kt).$implicit,An=i.oxw();return i.KtG(An.showEpisodeListModal(en))}),i._UZ(3,"i",45),i.qZA(),i.TgZ(4,"button",46),i.NdJ("click",function(){const en=i.CHM(kt).$implicit,An=i.oxw();return i.KtG(An.editItem(en))}),i._UZ(5,"i",47),i.qZA(),i.TgZ(6,"button",48),i.NdJ("click",function(){const en=i.CHM(kt).$implicit,An=i.oxw();return i.KtG(An.deleteItem(en))}),i._UZ(7,"i",7),i.qZA()()()}}function tt(Rt,xn){1&Rt&&i._UZ(0,"tr",49)}function gt(Rt,xn){1&Rt&&i._UZ(0,"tr",50)}function Qe(Rt,xn){1&Rt&&(i.TgZ(0,"td",53),i._uU(1,"No se encontraron datos"),i.qZA())}function yt(Rt,xn){if(1&Rt&&(i.TgZ(0,"tr",51),i.YNc(1,Qe,2,0,"td",52),i.qZA()),2&Rt){const kt=i.oxw();i.xp6(1),i.Q6J("ngIf",!kt.showLoading)}}const Dt=function(Rt){return{disable:Rt}},fe=function(){return[5,10,25,100]};let ze=(()=>{class Rt extends e.G{constructor(kt,It,Nt,en,An){super(en),this.modalService=kt,this.dialog=It,this.seasonService=Nt,this.matPaginatorIntl=en,this.snackbarService=An}ngAfterViewInit(){this.paginator.page.subscribe(kt=>{this.updatePageData(kt),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(kt=>{this.currentPage=1,this.sortBy=kt.active,this.sortDirection=kt.direction,this.getAllItems()}),this.sortBy="SeasonNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"SeasonNumber",start:"asc",disableClear:!0}),this.searchBy="SeasonNumber",this.dataSource.sort=this.sort}applyFilter(kt){this.searchText=kt.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var kt=new f;this.showModalForm(kt)}editItem(kt){this.showModalForm(kt)}showModalForm(kt){var It=this,Nt=this.modalService.open($,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});Nt.componentInstance.season=kt,Nt.closed.subscribe(en=>{It.getAllItems()})}getAllItems(){this.showLoading=!0,this.seasonService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(kt=>{this.showLoading=!1;var It=kt.Data;this.totalCount=kt.TotalCount,this.listItems=It,this.dataSource=new _.by(It),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},kt=>{this.showLoading=!1})}deleteItem(kt){var It=new b.vA;It.data={title:"Eliminar Temporada",message:"\xbfEsta seguro que desea eliminar la temporada "+kt.Name+"?",accordMessage:"Si, eliminar la temporada '"+kt.Name+"'"},this.dialog.open(P.k,It).afterClosed().subscribe(Nt=>{Nt&&this.executeDeleteItem(kt)})}executeDeleteItem(kt){this.showLoading=!0,this.seasonService.deleteItem(kt.Id).then(It=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",C.dA.Success),this.getAllItems()},It=>{this.showLoading=!1,this.snackbarService.showSnackBar(It,C.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var kt=new b.vA;kt.data={title:"Eliminar seasons",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(P.k,kt).afterClosed().subscribe(It=>{It&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.seasonService.deleteItems(this.selection.selected).then(kt=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",C.dA.Success),this.getAllItems()},kt=>{this.showLoading=!1,this.snackbarService.showSnackBar(kt,C.dA.Error)})}getDisplayedColumns(){return["Select","SeasonNumber","Name","Actions"]}showEpisodeListModal(kt){var Nt=this.modalService.open(ye,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});Nt.componentInstance.parent=kt,Nt.closed.subscribe(en=>{})}static#e=this.\u0275fac=function(It){return new(It||Rt)(i.Y36(c.FF),i.Y36(b.uw),i.Y36(oe),i.Y36(t.ye),i.Y36(A.c))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-season-list"]],viewQuery:function(It,Nt){if(1&It&&(i.Gf(t.NW,5),i.Gf(v.YE,5)),2&It){let en;i.iGM(en=i.CRH())&&(Nt.paginator=en.first),i.iGM(en=i.CRH())&&(Nt.sort=en.first)}},inputs:{parentItem:"parentItem"},features:[i.qOj],decls:41,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","SeasonNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver episodios",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(It,Nt){1&It&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),i._uU(3),i.qZA()(),i.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),i.NdJ("click",function(){return Nt.showNewItem()}),i._UZ(8,"i",5),i.qZA(),i.TgZ(9,"button",6),i.NdJ("click",function(){return Nt.deleteSelectedItems()}),i._UZ(10,"i",7),i.qZA()(),i._UZ(11,"div",8),i.qZA(),i.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),i._uU(16,"Buscar"),i.qZA(),i.TgZ(17,"input",10,11),i.NdJ("keyup",function(An){return Nt.applyFilter(An)}),i.qZA()(),i.TgZ(19,"div",12),i.YNc(20,re,2,0,"div",13),i.TgZ(21,"div",14)(22,"table",15),i.ynx(23,16),i.YNc(24,J,2,2,"th",17),i.YNc(25,q,2,1,"td",18),i.BQk(),i.ynx(26,19),i.YNc(27,_e,2,0,"th",20),i.YNc(28,xe,2,1,"td",21),i.BQk(),i.ynx(29,22),i.YNc(30,Ee,2,0,"th",23),i.YNc(31,Ge,2,1,"td",24),i.BQk(),i.ynx(32,25),i.YNc(33,ct,1,0,"th",26),i.YNc(34,Xe,8,0,"td",27),i.BQk(),i.YNc(35,tt,1,0,"tr",28),i.YNc(36,gt,1,0,"tr",29),i.YNc(37,yt,2,1,"tr",30),i.qZA()()()()(),i.TgZ(38,"div",1)(39,"div",9),i._UZ(40,"mat-paginator",31),i.qZA()()()()),2&It&&(i.xp6(3),i.hij("",Nt.parentItem.Name," :Temporadas"),i.xp6(6),i.Q6J("ngClass",i.VKq(8,Dt,!Nt.selection.hasValue())),i.xp6(11),i.Q6J("ngIf",Nt.showLoading),i.xp6(2),i.Q6J("dataSource",Nt.dataSource),i.xp6(13),i.Q6J("matHeaderRowDef",Nt.getDisplayedColumns()),i.xp6(1),i.Q6J("matRowDefColumns",Nt.getDisplayedColumns()),i.xp6(4),i.Q6J("color","primary")("pageSizeOptions",i.DdM(10,fe)))},dependencies:[d.mk,d.O5,t.NW,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,_.Ee,L.Nt,y.KE,y.hX,v.YE,v.nU,G.oG,Se.Ou,ce.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return Rt})();function Tt(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"div",1)(1,"h5",2),i._uU(2),i.qZA(),i.TgZ(3,"button",3),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.closeModal())}),i._UZ(4,"i",4),i.qZA()(),i.TgZ(5,"div",5),i._UZ(6,"app-season-list",6),i.qZA(),i.TgZ(7,"div",7)(8,"button",8),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.closeModal())}),i._uU(9,"Close"),i.qZA()()}if(2&Rt){const kt=i.oxw();i.xp6(2),i.hij("",kt.parent.Name," :Temporadas"),i.xp6(4),i.Q6J("parentItem",kt.parent)}}let Kt=(()=>{class Rt{constructor(kt){this.activeModal=kt}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(It){return new(It||Rt)(i.Y36(c.Kz))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-season-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(It,Nt){1&It&&i.YNc(0,Tt,10,2,"ng-template",0),2&It&&i.Q6J("ngIf",null!=Nt.parent)},dependencies:[d.O5,ze]})}return Rt})();var Jt=p(8337),qt=p(298),un=p(5731),fn=p(2067);let wt=(()=>{class Rt{constructor(kt){this.restProvider=kt}getTvSerie(kt){return new Promise((It,Nt)=>{this.restProvider.executeSinovadApiService(N.yw.GET,"/tvseries/GetAsync/"+kt).then(en=>{It(en)},en=>{console.error(en),Nt(en)})})}getItems(kt,It,Nt,en,An,Kn){return new Promise((Xn,Ut)=>{let On=(0,O.Z)();this.lastCallGuid=On;var Ne="?page="+kt.toString()+"&take="+It.toString()+"&sortBy="+Nt+"&sortDirection="+en+"&searchText="+An+"&searchBy="+Kn;this.restProvider.executeSinovadApiService(N.yw.GET,"/tvseries/GetAllWithPaginationAsync"+Ne).then(Pt=>{this.lastCallGuid==On&&Xn(Pt)},Pt=>{console.error(Pt),Ut(Pt)})})}saveItem(kt){return new Promise((It,Nt)=>{this.restProvider.executeSinovadApiService(kt.Id>0?N.yw.PUT:N.yw.POST,kt.Id>0?"/tvseries/Update":"/tvseries/Create",kt).then(Kn=>{It(!0)},Kn=>{console.error(Kn),Nt(Kn)})})}deleteItem(kt){return new Promise((It,Nt)=>{this.restProvider.executeSinovadApiService(N.yw.DELETE,"/tvseries/Delete/"+kt).then(An=>{It(An)},An=>{console.error(An),Nt(An)})})}deleteItems(kt){return new Promise((It,Nt)=>{let en=[];for(let Xn=0;Xn<kt.length;Xn++)en.push(kt[Xn].Id);var An=en.join(",");this.restProvider.executeSinovadApiService(N.yw.DELETE,"/tvseries/DeleteList/"+An).then(Xn=>{It(Xn)},Xn=>{console.error(Xn),Nt(Xn)})})}static#e=this.\u0275fac=function(It){return new(It||Rt)(i.LFG(D.C))};static#t=this.\u0275prov=i.Yz7({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}return Rt})();var vt=p(8034);function it(Rt,xn){1&Rt&&(i.TgZ(0,"mat-error"),i._uU(1," Nombre es "),i.TgZ(2,"strong"),i._uU(3,"requerido"),i.qZA()())}function He(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"form",1),i.NdJ("ngSubmit",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.saveItem())}),i.TgZ(1,"div",2)(2,"h5",3),i._uU(3),i.qZA(),i.TgZ(4,"button",4),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.closeModal())}),i._UZ(5,"i",5),i.qZA()(),i.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),i._uU(9,"Nombre"),i.qZA(),i._UZ(10,"input",7),i.YNc(11,it,4,0,"mat-error",8),i.qZA(),i.TgZ(12,"mat-form-field")(13,"mat-label"),i._uU(14,"Primera fecha de emisi\xf3n"),i.qZA(),i._UZ(15,"input",9),i.TgZ(16,"mat-hint"),i._uU(17,"MM/DD/YYYY"),i.qZA(),i._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),i.qZA(),i.TgZ(21,"mat-form-field")(22,"mat-label"),i._uU(23,"\xdaltima fecha de emisi\xf3n"),i.qZA(),i._UZ(24,"input",12),i.TgZ(25,"mat-hint"),i._uU(26,"MM/DD/YYYY"),i.qZA(),i._UZ(27,"mat-datepicker-toggle",10)(28,"mat-datepicker",null,11),i.qZA(),i.TgZ(30,"mat-form-field")(31,"mat-label"),i._uU(32,"G\xe9neros"),i.qZA(),i.TgZ(33,"textarea",13),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.showGenresSelectionModal())}),i.qZA()(),i.TgZ(34,"mat-form-field")(35,"mat-label"),i._uU(36,"Directores"),i.qZA(),i._UZ(37,"textarea",14),i.qZA(),i.TgZ(38,"mat-form-field")(39,"mat-label"),i._uU(40,"Actores"),i.qZA(),i._UZ(41,"textarea",15),i.qZA(),i.TgZ(42,"mat-form-field")(43,"mat-label"),i._uU(44,"Resumen"),i.qZA(),i._UZ(45,"textarea",16),i.qZA(),i.TgZ(46,"mat-form-field")(47,"mat-label"),i._uU(48,"Im\xe1gen"),i.qZA(),i._UZ(49,"textarea",17),i.qZA()(),i.TgZ(50,"div",18)(51,"button",19),i.NdJ("click",function(){i.CHM(kt);const Nt=i.oxw();return i.KtG(Nt.closeModal())}),i._uU(52,"Close"),i.qZA(),i.TgZ(53,"button",20),i._uU(54,"Guardar"),i.qZA()()(),i._UZ(55,"app-custom-spinner",21)}if(2&Rt){const kt=i.MAs(20),It=i.oxw();i.Q6J("formGroup",It.tvserieFormGroup),i.xp6(3),i.Oqu(It.tvserie.Id>0?"Editar":"Nuevo"),i.xp6(7),i.Q6J("errorStateMatcher",It.matcher),i.xp6(1),i.Q6J("ngIf",It.tvserieFormGroup.controls.name.hasError("required")),i.xp6(4),i.Q6J("matDatepicker",kt),i.xp6(3),i.Q6J("for",kt),i.xp6(6),i.Q6J("matDatepicker",kt),i.xp6(3),i.Q6J("for",kt),i.xp6(6),i.Q6J("readonly",!0),i.xp6(20),i.Q6J("disabled",It.showLoading||!It.tvserieFormGroup.valid),i.xp6(2),i.Q6J("showLoading",It.showLoading)}}let Ye=(()=>{class Rt{constructor(kt,It,Nt,en,An,Kn,Xn){this.commonService=kt,this.modalService=It,this.genreService=Nt,this.formBuilder=en,this.activeModal=An,this.snackbarService=Kn,this.tvserieService=Xn,this.showLoading=!1,this.matcher=new x.n}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(kt=>{this.listGenres=kt.Data}),this.tvserie.Id>0?this.getTvSerie():this.tvserie.ListItemGenres=[]}buildFormGroup(){this.tvserieFormGroup=this.formBuilder.group({name:new S.NI(this.tvserie.Name,[S.kI.required]),firstAirDate:new S.NI(this.commonService.formatDate(this.tvserie.FirstAirDate)),lastAirDate:new S.NI(this.commonService.formatDate(this.tvserie.LastAirDate)),directors:new S.NI(this.tvserie.Directors),actors:new S.NI(this.tvserie.Actors),overview:new S.NI(this.tvserie.Overview),posterPath:new S.NI(this.tvserie.PosterPath),selectedGenres:new S.NI("")})}getTvSerie(){this.tvserieService.getTvSerie(this.tvserie.Id).then(kt=>{this.tvserie=kt.Data,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.tvserieFormGroup.valid){this.showLoading=!0;var kt=JSON.parse(JSON.stringify(this.tvserie));kt.Name=this.tvserieFormGroup.value.name,kt.FirstAirDate=this.tvserieFormGroup.value.firstAirDate,kt.LastAirDate=this.tvserieFormGroup.value.lastAirDate,kt.Directors=this.tvserieFormGroup.value.directors,kt.Actors=this.tvserieFormGroup.value.actors,kt.Overview=this.tvserieFormGroup.value.overview,this.tvserieService.saveItem(kt).then(It=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo la serie satisfactoriamente",C.dA.Success),this.activeModal.close()},It=>{this.showLoading=!1,console.error(It)})}else this.tvserieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){return this.tvserie.ListItemGenres&&this.tvserie.ListItemGenres.length>0?this.tvserie.ListItemGenres.map(It=>It.GenreName).join(", "):""}showGenresSelectionModal(){var kt=this,It=this.modalService.open(qt.I,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});It.componentInstance.listAllGenres=this.listGenres,It.componentInstance.selection=new Jt.Ov(!0,this.getTvSerieGenres()),It.closed.subscribe(Nt=>{kt.setTvSerieGenres(Nt)})}getTvSerieGenres(){var kt=this.tvserie.ListItemGenres.map(It=>It.GenreId);return this.listGenres.filter(It=>-1!=kt.indexOf(It.Id))}setTvSerieGenres(kt){var It=[];kt.forEach(Nt=>{It.push({TvSerieId:this.tvserie.Id,GenreId:Nt.Id,GenreName:Nt.Name})}),this.tvserie.ListItemGenres=It,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(It){return new(It||Rt)(i.Y36(un.v),i.Y36(c.FF),i.Y36(fn.c),i.Y36(S.qu),i.Y36(c.Kz),i.Y36(A.c),i.Y36(wt))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-tvserie-form"]],inputs:{tvserie:"tvserie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","firstAirDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","lastAirDate",3,"matDatepicker"],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(It,Nt){1&It&&i.YNc(0,He,56,11,"ng-template",0),2&It&&i.Q6J("ngIf",null!=Nt.tvserie&&Nt.tvserieFormGroup)},dependencies:[S._Y,S.Fj,S.JJ,S.JL,S.sg,S.u,T.D,d.O5,L.Nt,y.KE,y.hX,y.bx,y.TO,y.R9,vt.Mq,vt.hl,vt.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return Rt})();function st(Rt,xn){1&Rt&&(i.TgZ(0,"div",40),i._UZ(1,"mat-spinner"),i.qZA())}function at(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"th",41)(1,"mat-checkbox",42),i.NdJ("change",function(Nt){i.CHM(kt);const en=i.oxw();return i.KtG(Nt?en.toggleAllRows():null)}),i.qZA()()}if(2&Rt){const kt=i.oxw();i.xp6(1),i.Q6J("checked",kt.selection.hasValue()&&kt.isAllSelected())("indeterminate",kt.selection.hasValue()&&!kt.isAllSelected())}}function St(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"td",43)(1,"mat-checkbox",44),i.NdJ("click",function(Nt){const An=i.CHM(kt).$implicit,Kn=i.oxw();return i.KtG(Kn.onChangeCheckValue(Nt,An))}),i.qZA()()}if(2&Rt){const kt=xn.$implicit,It=i.oxw();i.xp6(1),i.Q6J("checked",It.selection.isSelected(kt))}}function bt(Rt,xn){1&Rt&&(i.TgZ(0,"th",45),i._uU(1,"N\xb0"),i.qZA())}function At(Rt,xn){if(1&Rt&&(i.TgZ(0,"td",46),i._uU(1),i.qZA()),2&Rt){const kt=xn.index,It=i.oxw();i.xp6(1),i.hij(" ",It.getElementNumber(kt,It.currentPage,It.itemsPerPage),"")}}function on(Rt,xn){1&Rt&&(i.TgZ(0,"th",47),i._uU(1,"Nombre"),i.qZA())}function En(Rt,xn){if(1&Rt&&(i.TgZ(0,"td",48),i._uU(1),i.qZA()),2&Rt){const kt=xn.$implicit;i.xp6(1),i.hij(" ",kt.Name," ")}}function tn(Rt,xn){1&Rt&&(i.TgZ(0,"th",49),i._uU(1,"Primera emisi\xf3n"),i.qZA())}function Mn(Rt,xn){if(1&Rt&&(i.TgZ(0,"td",50),i._uU(1),i.ALo(2,"date"),i.qZA()),2&Rt){const kt=xn.$implicit;i.xp6(1),i.hij(" ",i.xi3(2,1,kt.FirstAirDate,"dd-MM-YYYY")," ")}}function In(Rt,xn){1&Rt&&(i.TgZ(0,"th",49),i._uU(1,"\xdaltima emisi\xf3n"),i.qZA())}function Nn(Rt,xn){if(1&Rt&&(i.TgZ(0,"td",50),i._uU(1),i.ALo(2,"date"),i.qZA()),2&Rt){const kt=xn.$implicit;i.xp6(1),i.hij(" ",i.xi3(2,1,kt.LastAirDate,"dd-MM-YYYY")," ")}}function $n(Rt,xn){1&Rt&&(i.TgZ(0,"th",51),i._uU(1,"Actores"),i.qZA())}function ni(Rt,xn){if(1&Rt&&(i.TgZ(0,"td",52,53),i._uU(2),i.qZA()),2&Rt){const kt=xn.$implicit,It=i.MAs(1);i.Udp("cursor",It.offsetWidth<It.scrollWidth?"pointer":""),i.s9C("matTooltip",It.offsetWidth<It.scrollWidth?kt.Actors:""),i.xp6(2),i.Oqu(kt.Actors)}}function vn(Rt,xn){1&Rt&&(i.TgZ(0,"th",51),i._uU(1,"Directores"),i.qZA())}function gn(Rt,xn){if(1&Rt&&(i.TgZ(0,"td",52,53),i._uU(2),i.qZA()),2&Rt){const kt=xn.$implicit,It=i.MAs(1);i.Udp("cursor",It.offsetWidth<It.scrollWidth?"pointer":""),i.s9C("matTooltip",It.offsetWidth<It.scrollWidth?kt.Directors:""),i.xp6(2),i.hij(" ",kt.Directors," ")}}function yn(Rt,xn){1&Rt&&i._UZ(0,"th",54)}function pn(Rt,xn){if(1&Rt){const kt=i.EpF();i.TgZ(0,"td",55)(1,"div",56)(2,"button",57),i.NdJ("click",function(){const en=i.CHM(kt).$implicit,An=i.oxw();return i.KtG(An.showSeasonListModal(en))}),i._UZ(3,"i",58),i.qZA(),i.TgZ(4,"button",59),i.NdJ("click",function(){const en=i.CHM(kt).$implicit,An=i.oxw();return i.KtG(An.editItem(en))}),i._UZ(5,"i",60),i.qZA(),i.TgZ(6,"button",61),i.NdJ("click",function(){const en=i.CHM(kt).$implicit,An=i.oxw();return i.KtG(An.deleteItem(en))}),i._UZ(7,"i",7),i.qZA()()()}}function _n(Rt,xn){1&Rt&&i._UZ(0,"tr",62)}function Mt(Rt,xn){1&Rt&&i._UZ(0,"tr",63)}function ht(Rt,xn){1&Rt&&(i.TgZ(0,"td",66),i._uU(1,"No se encontraron datos"),i.qZA())}function Tn(Rt,xn){if(1&Rt&&(i.TgZ(0,"tr",64),i.YNc(1,ht,2,0,"td",65),i.qZA()),2&Rt){const kt=i.oxw();i.xp6(1),i.Q6J("ngIf",!kt.showLoading)}}const qe=function(Rt){return{disable:Rt}},Ct=function(){return[5,10,25,100]};let Qt=(()=>{class Rt extends e.G{constructor(kt,It,Nt,en,An){super(Nt),this.modalService=kt,this.dialog=It,this.matPaginatorIntl=Nt,this.snackbarService=en,this.tvserieService=An}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(kt=>{this.updatePageData(kt),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(kt=>{this.currentPage=1,this.sortBy=kt.active,this.sortDirection=kt.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(kt){this.searchText=kt.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var kt=new m;this.showModalForm(kt)}editItem(kt){this.showModalForm(kt)}showModalForm(kt){var It=this,Nt=this.modalService.open(Ye,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});Nt.componentInstance.tvserie=kt,Nt.closed.subscribe(en=>{It.getAllItems()})}getAllItems(){this.showLoading=!0,this.tvserieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(kt=>{this.showLoading=!1;var It=kt.Data;this.totalCount=kt.TotalCount,this.listItems=It,this.dataSource=new _.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},kt=>{this.showLoading=!1})}deleteItem(kt){var It=new b.vA;It.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar la serie "+kt.Name+"?",accordMessage:"Si, eliminar la serie '"+kt.Name+"'"},this.dialog.open(P.k,It).afterClosed().subscribe(Nt=>{Nt&&this.executeDeleteItem(kt)})}executeDeleteItem(kt){this.showLoading=!0,this.tvserieService.deleteItem(kt.Id).then(It=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",C.dA.Success),this.getAllItems()},It=>{this.showLoading=!1,this.snackbarService.showSnackBar(It,C.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var kt=new b.vA;kt.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(P.k,kt).afterClosed().subscribe(It=>{It&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.tvserieService.deleteItems(this.selection.selected).then(kt=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",C.dA.Success),this.getAllItems()},kt=>{this.showLoading=!1,this.snackbarService.showSnackBar(kt,C.dA.Error)})}getDisplayedColumns(){return window.innerWidth>1100?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Directors","Actions"]:window.innerWidth>975?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Actions"]:window.innerWidth>875?["Select","Id","Name","FirstAirDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Name","FirstAirDate","Actions"]:["Select","Id","Name","Actions"]}showSeasonListModal(kt){var Nt=this.modalService.open(Kt,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});Nt.componentInstance.parent=kt,Nt.closed.subscribe(en=>{})}static#e=this.\u0275fac=function(It){return new(It||Rt)(i.Y36(c.FF),i.Y36(b.uw),i.Y36(t.ye),i.Y36(A.c),i.Y36(wt))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-tvserie-list"]],viewQuery:function(It,Nt){if(1&It&&(i.Gf(t.NW,5),i.Gf(v.YE,5)),2&It){let en;i.iGM(en=i.CRH())&&(Nt.paginator=en.first),i.iGM(en=i.CRH())&&(Nt.sort=en.first)}},features:[i.qOj],decls:53,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","FirstAirDate"],["mat-header-cell","","mat-sort-header","","style","min-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","LastAirDate"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","class","text-truncate","style","max-width:120px;text-align: left;cursor: pointer;",3,"cursor","matTooltip",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","120px","text-align","left"],["mat-cell","",2,"min-width","120px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",1,"text-truncate",2,"max-width","120px","text-align","left","cursor","pointer",3,"matTooltip"],["cell",""],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver temporadas",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(It,Nt){1&It&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),i._uU(3,"Series"),i.qZA()(),i.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),i.NdJ("click",function(){return Nt.showNewItem()}),i._UZ(8,"i",5),i.qZA(),i.TgZ(9,"button",6),i.NdJ("click",function(){return Nt.deleteSelectedItems()}),i._UZ(10,"i",7),i.qZA()(),i._UZ(11,"div",8),i.qZA(),i.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),i._uU(16,"Buscar"),i.qZA(),i.TgZ(17,"input",10,11),i.NdJ("keyup",function(An){return Nt.applyFilter(An)}),i.qZA()(),i.TgZ(19,"div",12),i.YNc(20,st,2,0,"div",13),i.TgZ(21,"div",14)(22,"table",15),i.ynx(23,16),i.YNc(24,at,2,2,"th",17),i.YNc(25,St,2,1,"td",18),i.BQk(),i.ynx(26,19),i.YNc(27,bt,2,0,"th",20),i.YNc(28,At,2,1,"td",21),i.BQk(),i.ynx(29,22),i.YNc(30,on,2,0,"th",23),i.YNc(31,En,2,1,"td",24),i.BQk(),i.ynx(32,25),i.YNc(33,tn,2,0,"th",26),i.YNc(34,Mn,3,4,"td",27),i.BQk(),i.ynx(35,28),i.YNc(36,In,2,0,"th",26),i.YNc(37,Nn,3,4,"td",27),i.BQk(),i.ynx(38,29),i.YNc(39,$n,2,0,"th",30),i.YNc(40,ni,3,4,"td",31),i.BQk(),i.ynx(41,32),i.YNc(42,vn,2,0,"th",30),i.YNc(43,gn,3,4,"td",31),i.BQk(),i.ynx(44,33),i.YNc(45,yn,1,0,"th",34),i.YNc(46,pn,8,0,"td",35),i.BQk(),i.YNc(47,_n,1,0,"tr",36),i.YNc(48,Mt,1,0,"tr",37),i.YNc(49,Tn,2,1,"tr",38),i.qZA()()()()(),i.TgZ(50,"div",1)(51,"div",9),i._UZ(52,"mat-paginator",39),i.qZA()()()()),2&It&&(i.xp6(9),i.Q6J("ngClass",i.VKq(7,qe,!Nt.selection.hasValue())),i.xp6(11),i.Q6J("ngIf",Nt.showLoading),i.xp6(2),i.Q6J("dataSource",Nt.dataSource),i.xp6(25),i.Q6J("matHeaderRowDef",Nt.getDisplayedColumns()),i.xp6(1),i.Q6J("matRowDefColumns",Nt.getDisplayedColumns()),i.xp6(4),i.Q6J("color","primary")("pageSizeOptions",i.DdM(9,Ct)))},dependencies:[d.mk,d.O5,t.NW,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,_.Ee,L.Nt,y.KE,y.hX,v.YE,v.nU,G.oG,Se.Ou,ce.gM,d.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return Rt})()},1716:(Wn,et,p)=>{"use strict";p.d(et,{C:()=>Xe});var e=p(2877),t=p(1476),v=p(3566),b=p(5313),_=p(7700),P=p(8923),C=p(9604),m=p(5879),i=p(8726),c=p(6814),d=p(5510),f=p(3931),g=p(2032),S=p(4170),x=p(5940);function A(tt,gt){1&tt&&(m.TgZ(0,"div",27),m._UZ(1,"mat-spinner"),m.qZA())}function N(tt,gt){1&tt&&(m.TgZ(0,"th",28),m._uU(1,"N\xb0"),m.qZA())}function O(tt,gt){if(1&tt&&(m.TgZ(0,"td",29),m._uU(1),m.qZA()),2&tt){const Qe=gt.index,yt=m.oxw();m.xp6(1),m.hij(" ",yt.getElementNumber(Qe,yt.currentPage,yt.itemsPerPage),"")}}function D(tt,gt){1&tt&&(m.TgZ(0,"th",30),m._uU(1,"Nombre del dispositivo"),m.qZA())}function I(tt,gt){if(1&tt&&(m.TgZ(0,"td",31),m._uU(1),m.qZA()),2&tt){const Qe=gt.$implicit;m.xp6(1),m.hij(" ",Qe.DeviceName," ")}}function T(tt,gt){1&tt&&(m.TgZ(0,"th",30),m._uU(1,"Nombre familiar"),m.qZA())}function L(tt,gt){if(1&tt&&(m.TgZ(0,"td",31),m._uU(1),m.qZA()),2&tt){const Qe=gt.$implicit;m.xp6(1),m.hij(" ",Qe.FamilyName," ")}}function y(tt,gt){1&tt&&(m.TgZ(0,"th",32),m._uU(1,"IP Privada"),m.qZA())}function B(tt,gt){if(1&tt&&(m.TgZ(0,"td",33),m._uU(1),m.qZA()),2&tt){const Qe=gt.$implicit;m.xp6(1),m.hij(" ",Qe.IpAddress," ")}}function z(tt,gt){1&tt&&(m.TgZ(0,"th",34),m._uU(1,"Puerto"),m.qZA())}function ne(tt,gt){if(1&tt&&(m.TgZ(0,"td",35),m._uU(1),m.qZA()),2&tt){const Qe=gt.$implicit;m.xp6(1),m.hij(" ",Qe.Port," ")}}function ae(tt,gt){1&tt&&m._UZ(0,"tr",36)}function Fe(tt,gt){1&tt&&m._UZ(0,"tr",37)}function Y(tt,gt){1&tt&&(m.TgZ(0,"td",40),m._uU(1,"No se encontraron datos"),m.qZA())}function le(tt,gt){if(1&tt&&(m.TgZ(0,"tr",38),m.YNc(1,Y,2,0,"td",39),m.qZA()),2&tt){const Qe=m.oxw();m.xp6(1),m.Q6J("ngIf",!Qe.showLoading)}}const G=function(){return[5,10,25,100]};let Se=(()=>{class tt extends e.G{constructor(Qe,yt,Dt,fe){super(Dt),this.dialog=Qe,this.mediaServerService=yt,this.matPaginatorIntl=Dt,this.snackbarService=fe}ngAfterViewInit(){this.paginator.page.subscribe(Qe=>{this.updatePageData(Qe),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(Qe=>{this.currentPage=1,this.sortBy=Qe.active,this.sortDirection=Qe.direction,this.getAllItems()}),this.sortBy="DeviceName",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"DeviceName",start:"asc",disableClear:!0}),this.searchBy="IpAddress|Port|FamilyName|DeviceName",this.dataSource.sort=this.sort}applyFilter(Qe){this.searchText=Qe.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.mediaServerService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(Qe=>{this.showLoading=!1;var yt=Qe.Data;this.totalCount=Qe.TotalCount,this.listItems=yt,this.dataSource=new b.by(yt),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},Qe=>{this.showLoading=!1})}deleteItem(Qe){var yt=new _.vA;yt.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el servidor "+Qe.DeviceName+"?",accordMessage:"Si, eliminar el servidor '"+Qe.DeviceName+"'"},this.dialog.open(P.k,yt).afterClosed().subscribe(Dt=>{Dt&&this.executeDeleteItem(Qe)})}executeDeleteItem(Qe){this.showLoading=!0,this.mediaServerService.deleteItem(Qe.Id).then(yt=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",C.dA.Success),this.getAllItems()},yt=>{this.showLoading=!1,this.snackbarService.showSnackBar(yt,C.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var Qe=new _.vA;Qe.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(P.k,Qe).afterClosed().subscribe(yt=>{yt&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.mediaServerService.deleteItems(this.selection.selected).then(Qe=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",C.dA.Success),this.getAllItems()},Qe=>{this.showLoading=!1,this.snackbarService.showSnackBar(Qe,C.dA.Error)})}getDisplayedColumns(){return window.innerWidth>600?["Id","DeviceName","FamilyName","IpAddress","Port"]:window.innerWidth>475?["Id","DeviceName","FamilyName"]:["Id","DeviceName"]}static#e=this.\u0275fac=function(yt){return new(yt||tt)(m.Y36(_.uw),m.Y36(d.Z),m.Y36(t.ye),m.Y36(f.c))};static#t=this.\u0275cmp=m.Xpm({type:tt,selectors:[["app-media-server-list"]],viewQuery:function(yt,Dt){if(1&yt&&(m.Gf(t.NW,5),m.Gf(v.YE,5)),2&yt){let fe;m.iGM(fe=m.CRH())&&(Dt.paginator=fe.first),m.iGM(fe=m.CRH())&&(Dt.sort=fe.first)}},inputs:{parentItem:"parentItem"},features:[m.qOj],decls:37,vars:8,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","style","width:50px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","width:50px;text-align: center;",4,"matCellDef"],["matColumnDef","DeviceName"],["mat-header-cell","","mat-sort-header","","style","width:calc(50% - 140px);text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:calc(50% - 165px);text-align: left;",4,"matCellDef"],["matColumnDef","FamilyName"],["matColumnDef","IpAddress"],["mat-header-cell","","mat-sort-header","","style","width:150px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:150px;text-align: left;",4,"matCellDef"],["matColumnDef","Port"],["mat-header-cell","","mat-sort-header","","style","width:80px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:80px;text-align: left;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",2,"width","50px","text-align","center"],["mat-cell","",2,"width","50px","text-align","center"],["mat-header-cell","","mat-sort-header","",2,"width","calc(50% - 140px)","text-align","left"],["mat-cell","",2,"width","calc(50% - 165px)","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","150px","text-align","left"],["mat-cell","",2,"width","150px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","80px","text-align","left"],["mat-cell","",2,"width","80px","text-align","left"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(yt,Dt){1&yt&&(m.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),m._uU(3),m.qZA()(),m.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),m._uU(9,"Buscar"),m.qZA(),m.TgZ(10,"input",4,5),m.NdJ("keyup",function(ze){return Dt.applyFilter(ze)}),m.qZA()(),m.TgZ(12,"div",6),m.YNc(13,A,2,0,"div",7),m.TgZ(14,"div",8)(15,"table",9),m.ynx(16,10),m.YNc(17,N,2,0,"th",11),m.YNc(18,O,2,1,"td",12),m.BQk(),m.ynx(19,13),m.YNc(20,D,2,0,"th",14),m.YNc(21,I,2,1,"td",15),m.BQk(),m.ynx(22,16),m.YNc(23,T,2,0,"th",14),m.YNc(24,L,2,1,"td",15),m.BQk(),m.ynx(25,17),m.YNc(26,y,2,0,"th",18),m.YNc(27,B,2,1,"td",19),m.BQk(),m.ynx(28,20),m.YNc(29,z,2,0,"th",21),m.YNc(30,ne,2,1,"td",22),m.BQk(),m.YNc(31,ae,1,0,"tr",23),m.YNc(32,Fe,1,0,"tr",24),m.YNc(33,le,2,1,"tr",25),m.qZA()()()()(),m.TgZ(34,"div",1)(35,"div",3),m._UZ(36,"mat-paginator",26),m.qZA()()()()),2&yt&&(m.xp6(3),m.hij("",Dt.parentItem.UserName," : Servidores multimedia"),m.xp6(10),m.Q6J("ngIf",Dt.showLoading),m.xp6(2),m.Q6J("dataSource",Dt.dataSource),m.xp6(16),m.Q6J("matHeaderRowDef",Dt.getDisplayedColumns()),m.xp6(1),m.Q6J("matRowDefColumns",Dt.getDisplayedColumns()),m.xp6(4),m.Q6J("color","primary")("pageSizeOptions",m.DdM(7,G)))},dependencies:[c.O5,t.NW,b.BZ,b.fO,b.as,b.w1,b.Dz,b.nj,b.ge,b.ev,b.XQ,b.Gk,b.Ee,g.Nt,S.KE,S.hX,v.YE,v.nU,x.Ou],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:850px!important}"]})}return tt})();function ce(tt,gt){if(1&tt){const Qe=m.EpF();m.TgZ(0,"div",1),m._UZ(1,"h5",2),m.TgZ(2,"button",3),m.NdJ("click",function(){m.CHM(Qe);const Dt=m.oxw();return m.KtG(Dt.closeModal())}),m._UZ(3,"i",4),m.qZA()(),m.TgZ(4,"div",5),m._UZ(5,"app-media-server-list",6),m.qZA(),m.TgZ(6,"div",7)(7,"button",8),m.NdJ("click",function(){m.CHM(Qe);const Dt=m.oxw();return m.KtG(Dt.closeModal())}),m._uU(8,"Close"),m.qZA()()}if(2&tt){const Qe=m.oxw();m.xp6(5),m.Q6J("parentItem",Qe.parent)}}let ge=(()=>{class tt{constructor(Qe){this.activeModal=Qe}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(yt){return new(yt||tt)(m.Y36(i.Kz))};static#t=this.\u0275cmp=m.Xpm({type:tt,selectors:[["app-media-server-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(yt,Dt){1&yt&&m.YNc(0,ce,9,1,"ng-template",0),2&yt&&m.Q6J("ngIf",null!=Dt.parent)},dependencies:[c.O5,Se]})}return tt})();var Ie=p(5908),Ce=p(9223);function pe(tt,gt){if(1&tt&&m._UZ(0,"img",7),2&tt){const Qe=m.oxw().$implicit;m.Q6J("src",Qe.imageUrl,m.LSH)}}function Ae(tt,gt){if(1&tt&&m._UZ(0,"i"),2&tt){const Qe=m.oxw().$implicit;m.Tol(Qe.iconClass)}}function ke(tt,gt){if(1&tt){const Qe=m.EpF();m.TgZ(0,"div",2),m.NdJ("click",function(){const fe=m.CHM(Qe).$implicit,ze=m.oxw();return m.KtG(ze.onClickContextMenuOption(fe))}),m.TgZ(1,"div",3),m.YNc(2,pe,1,1,"img",4),m.YNc(3,Ae,1,3,"i",5),m.qZA(),m.TgZ(4,"div",6),m._uU(5),m.qZA()()}if(2&tt){const Qe=gt.$implicit;m.Udp("border-bottom",Qe.showBorderBottom?"1px solid black":""),m.xp6(2),m.Q6J("ngIf",Qe.imageUrl),m.xp6(1),m.Q6J("ngIf",Qe.iconClass),m.xp6(2),m.hij(" ",Qe.text," ")}}let we=(()=>{class tt{constructor(){this.hideContextMenu=new m.vpe,this.clickOption=new m.vpe}onClickOutside(){this.hideContextMenu.emit(!0)}onClickContextMenuOption(Qe){this.clickOption.emit(Qe)}static#e=this.\u0275fac=function(yt){return new(yt||tt)};static#t=this.\u0275cmp=m.Xpm({type:tt,selectors:[["app-custom-context-menu"]],decls:2,vars:5,consts:[[1,"sinovad-context-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-context-menu-option",3,"click"],[1,"sinovad-context-menu-option-icon"],["style","width:24px;",3,"src",4,"ngIf"],[3,"class",4,"ngIf"],[1,"sinovad-context-menu-option-text"],[2,"width","24px",3,"src"]],template:function(yt,Dt){1&yt&&(m.TgZ(0,"div",0),m.NdJ("clickOutside",function(){return Dt.onClickOutside()}),m.YNc(1,ke,6,5,"ng-template",1),m.qZA()),2&yt&&(m.Udp("top",Dt.top+"px")("left",Dt.left+"px"),m.xp6(1),m.Q6J("ngForOf",Dt.listOptions))},dependencies:[c.sg,c.O5,Ce._],styles:[".sinovad-context-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;color:#fff}.sinovad-context-menu-option[_ngcontent-%COMP%]{display:flex;padding:10px;cursor:pointer;align-items:center;opacity:.8}.sinovad-context-menu-option[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-context-menu-option-icon[_ngcontent-%COMP%]{display:block}.sinovad-context-menu-option-text[_ngcontent-%COMP%]{padding-left:10px;display:block}"]})}return tt})(),Te=(()=>{class tt{constructor(Qe,yt,Dt){this.factoryResolver=Qe,this.injector=yt,this.applicationRef=Dt}show(Qe,yt,Dt,fe){return new Promise((ze,Tt)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const Jt=this.factoryResolver.resolveComponentFactory(we).create(this.injector);this.lastViewRef=Jt.hostView,this.applicationRef.attachView(Jt.hostView);let qt=this;Jt.instance.left=yt,Jt.instance.top=Dt,Jt.instance.listOptions=fe,Jt.instance.clickOption.subscribe(wt=>{Jt.destroy(),qt.applicationRef.detachView(Jt.hostView),ze(wt)}),Jt.instance.hideContextMenu.subscribe(wt=>{Jt.destroy(),qt.applicationRef.detachView(Jt.hostView),Tt(!0)});const un=Jt.hostView.rootNodes[0];document.getElementById(Qe).appendChild(un)})}static#e=this.\u0275fac=function(yt){return new(yt||tt)(m.LFG(m._Vd),m.LFG(m.zs3),m.LFG(m.z2F))};static#t=this.\u0275prov=m.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"})}return tt})();var Oe=p(1270),Ve=p(2596);function ft(tt,gt){1&tt&&(m.TgZ(0,"div",26),m._UZ(1,"mat-spinner"),m.qZA())}function Ze(tt,gt){1&tt&&(m.TgZ(0,"th",27),m._uU(1,"N\xb0"),m.qZA())}function Re(tt,gt){if(1&tt&&(m.TgZ(0,"td",28),m._uU(1),m.qZA()),2&tt){const Qe=gt.index,yt=m.oxw();m.xp6(1),m.hij(" ",yt.getElementNumber(Qe,yt.currentPage,yt.itemsPerPage),"")}}function be(tt,gt){1&tt&&(m.TgZ(0,"th",29),m._uU(1," Usuario "),m.qZA())}function Q(tt,gt){if(1&tt&&(m.TgZ(0,"td",30),m._uU(1),m.qZA()),2&tt){const Qe=gt.$implicit;m.xp6(1),m.hij(" ",Qe.UserName," ")}}function ie(tt,gt){1&tt&&(m.TgZ(0,"th",29),m._uU(1," Correo "),m.qZA())}function ye(tt,gt){if(1&tt&&(m.TgZ(0,"td",30),m._uU(1),m.qZA()),2&tt){const Qe=gt.$implicit;m.xp6(1),m.hij(" ",Qe.Email," ")}}function oe(tt,gt){1&tt&&(m.TgZ(0,"th",29),m._uU(1," Nombres "),m.qZA())}function ee(tt,gt){if(1&tt&&(m.TgZ(0,"td",30),m._uU(1),m.qZA()),2&tt){const Qe=gt.$implicit;m.xp6(1),m.hij(" ",Qe.FirstName," ")}}function X(tt,gt){1&tt&&(m.TgZ(0,"th",29),m._uU(1," Apellidos "),m.qZA())}function $(tt,gt){if(1&tt&&(m.TgZ(0,"td",30),m._uU(1),m.qZA()),2&tt){const Qe=gt.$implicit;m.xp6(1),m.hij(" ",Qe.LastName," ")}}function re(tt,gt){1&tt&&m._UZ(0,"th",31)}function J(tt,gt){if(1&tt){const Qe=m.EpF();m.TgZ(0,"td",32)(1,"div",33)(2,"button",34),m.NdJ("click",function(){const fe=m.CHM(Qe).$implicit,ze=m.oxw();return m.KtG(ze.deleteItem(fe))}),m._UZ(3,"i",35),m.qZA()()()}}function q(tt,gt){1&tt&&m._UZ(0,"tr",36)}const _e=function(tt){return{active:tt}};function xe(tt,gt){if(1&tt){const Qe=m.EpF();m.TgZ(0,"tr",37),m.NdJ("contextmenu",function(Dt){const ze=m.CHM(Qe).$implicit,Tt=m.oxw();return m.KtG(Tt.onContextMenuItem(Dt,ze))}),m.qZA()}if(2&tt){const Qe=gt.$implicit,yt=m.oxw();m.Q6J("ngClass",m.VKq(1,_e,yt.lastSelectedItem&&Qe.Id==yt.lastSelectedItem.Id))}}function Ee(tt,gt){1&tt&&(m.TgZ(0,"td",40),m._uU(1,"No se encontraron datos"),m.qZA())}function Ge(tt,gt){if(1&tt&&(m.TgZ(0,"tr",38),m.YNc(1,Ee,2,0,"td",39),m.qZA()),2&tt){const Qe=m.oxw();m.xp6(1),m.Q6J("ngIf",!Qe.showLoading)}}const ct=function(){return[5,10,25,100]};let Xe=(()=>{class tt extends e.G{constructor(Qe,yt,Dt,fe,ze,Tt,Kt){super(Tt),this.router=Qe,this.modalService=yt,this.contextMenuService=Dt,this.dialog=fe,this.userService=ze,this.matPaginatorIntl=Tt,this.snackbarService=Kt}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(Qe=>{this.updatePageData(Qe),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(Qe=>{this.currentPage=1,this.sortBy=Qe.active,this.sortDirection=Qe.direction,this.getAllItems()}),this.sortBy="UserName",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"UserName",start:"asc",disableClear:!0}),this.searchBy="UserName|Email|FirstName|LastName",this.dataSource.sort=this.sort}applyFilter(Qe){this.searchText=Qe.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.userService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(Qe=>{this.showLoading=!1;var yt=Qe.Data;this.totalCount=Qe.TotalCount,this.listItems=yt,this.dataSource=new b.by(yt),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},Qe=>{this.showLoading=!1})}deleteItem(Qe){var yt=new _.vA;yt.data={title:"Eliminar usuario",message:"\xbfEsta seguro que desea eliminar el usuario "+Qe.UserName+"?",accordMessage:"Si, eliminar el usuario '"+Qe.UserName+"'"},this.dialog.open(P.k,yt).afterClosed().subscribe(Dt=>{Dt&&this.executeDeleteItem(Qe)})}executeDeleteItem(Qe){this.showLoading=!0,this.userService.deleteItem(Qe.Id).then(yt=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",C.dA.Success),this.getAllItems()},yt=>{this.showLoading=!1,this.snackbarService.showSnackBar(yt,C.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var Qe=new _.vA;Qe.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(P.k,Qe).afterClosed().subscribe(yt=>{yt&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.userService.deleteItems(this.selection.selected).then(Qe=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",C.dA.Success),this.getAllItems()},Qe=>{this.showLoading=!1,this.snackbarService.showSnackBar(Qe,C.dA.Error)})}getDisplayedColumns(){return window.innerWidth>1050?["Id","UserName","Email","FirstName","LastName","Actions"]:window.innerWidth>950?["Id","UserName","Email","FirstName","Actions"]:window.innerWidth>675?["Id","UserName","Email","Actions"]:(window,["Id","UserName","Actions"])}onContextMenuItem(Qe,yt){this.lastSelectedItem=yt,Qe.preventDefault(),Qe.stopPropagation();let Dt=[];Dt.push({key:"ShowMediaServers",text:"Servidores multimedia",iconClass:"fa-solid fa-server"}),Dt&&Dt.length>0&&this.renderContextMenuComponent(Qe.clientX,Qe.clientY,Dt,yt)}renderContextMenuComponent(Qe,yt,Dt,fe){this.contextMenuService.show("sinovadMainContainer",Qe,yt,Dt).then(ze=>{"ShowMediaServers"==ze.key&&this.showMediaServerListModal(fe)},()=>{this.lastSelectedItem=void 0})}showMediaServerListModal(Qe){var yt=this,Dt=this.modalService.open(ge,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});Dt.componentInstance.parent=Qe,Dt.closed.subscribe(fe=>{yt.lastSelectedItem=void 0})}static#e=this.\u0275fac=function(yt){return new(yt||tt)(m.Y36(Ie.F0),m.Y36(i.FF),m.Y36(Te),m.Y36(_.uw),m.Y36(Oe.K),m.Y36(t.ye),m.Y36(f.c))};static#t=this.\u0275cmp=m.Xpm({type:tt,selectors:[["app-user-list"]],viewQuery:function(yt,Dt){if(1&yt&&(m.Gf(t.NW,5),m.Gf(v.YE,5)),2&yt){let fe;m.iGM(fe=m.CRH())&&(Dt.paginator=fe.first),m.iGM(fe=m.CRH())&&(Dt.sort=fe.first)}},features:[m.qOj],decls:40,vars:7,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","UserName"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Email"],["matColumnDef","FirstName"],["matColumnDef","LastName"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",3,"ngClass","contextmenu",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],[1,"fa-solid","fa-trash"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable",3,"ngClass","contextmenu"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(yt,Dt){1&yt&&(m.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),m._uU(3,"Usuarios"),m.qZA()(),m.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),m._uU(9,"Buscar"),m.qZA(),m.TgZ(10,"input",4,5),m.NdJ("keyup",function(ze){return Dt.applyFilter(ze)}),m.qZA()(),m.TgZ(12,"div",6),m.YNc(13,ft,2,0,"div",7),m.TgZ(14,"div",8)(15,"table",9),m.ynx(16,10),m.YNc(17,Ze,2,0,"th",11),m.YNc(18,Re,2,1,"td",12),m.BQk(),m.ynx(19,13),m.YNc(20,be,2,0,"th",14),m.YNc(21,Q,2,1,"td",15),m.BQk(),m.ynx(22,16),m.YNc(23,ie,2,0,"th",14),m.YNc(24,ye,2,1,"td",15),m.BQk(),m.ynx(25,17),m.YNc(26,oe,2,0,"th",14),m.YNc(27,ee,2,1,"td",15),m.BQk(),m.ynx(28,18),m.YNc(29,X,2,0,"th",14),m.YNc(30,$,2,1,"td",15),m.BQk(),m.ynx(31,19),m.YNc(32,re,1,0,"th",20),m.YNc(33,J,4,0,"td",21),m.BQk(),m.YNc(34,q,1,0,"tr",22),m.YNc(35,xe,1,3,"tr",23),m.YNc(36,Ge,2,1,"tr",24),m.qZA()()()()(),m.TgZ(37,"div",1)(38,"div",3),m._UZ(39,"mat-paginator",25),m.qZA()()()()),2&yt&&(m.xp6(13),m.Q6J("ngIf",Dt.showLoading),m.xp6(2),m.Q6J("dataSource",Dt.dataSource),m.xp6(19),m.Q6J("matHeaderRowDef",Dt.getDisplayedColumns()),m.xp6(1),m.Q6J("matRowDefColumns",Dt.getDisplayedColumns()),m.xp6(4),m.Q6J("color","primary")("pageSizeOptions",m.DdM(6,ct)))},dependencies:[c.mk,c.O5,t.NW,b.BZ,b.fO,b.as,b.w1,b.Dz,b.nj,b.ge,b.ev,b.XQ,b.Gk,b.Ee,g.Nt,S.KE,S.hX,v.YE,v.nU,x.Ou,Ve.gM],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return tt})()},1270:(Wn,et,p)=>{"use strict";p.d(et,{K:()=>i});var e=p(863),t=p(2372),v=p(8645),b=p(5879),_=p(5864),P=p(7541),C=p(1367),m=p(9429);let i=(()=>{class c{constructor(f,g,S,x){this.menuService=f,this.signalIRHubService=g,this.sharedDataService=S,this.restProvider=x,this.completedCallGetUserData$=new v.x,this.calledGetUserData=!1}completeCallGetUserData(){this.completedCallGetUserData$.next(!0)}isCompletedCallGetUserData(){return this.completedCallGetUserData$.asObservable()}clearSessionData(){this.calledGetUserData=!1,this.sharedDataService.manageMenus=[],this.sharedDataService.currentProfile=void 0,this.sharedDataService.userData=void 0,this.sharedDataService.apiToken=void 0,this.signalIRHubService.stopConnection(),localStorage.removeItem("apiToken")}getUserData(){this.restProvider.executeSinovadApiService(e.yw.GET,"/users/GetUserData").then(f=>{let g=f.Data;g&&g.User?(this.sharedDataService.userData=g.User,this.sharedDataService.mediaServers=g.MediaServers,this.sharedDataService.linkedAccounts=g.LinkedAccounts,this.sharedDataService.listProfiles=g.Profiles,this.sharedDataService.currentProfile=g.Profiles[0],this.signalIRHubService.openConnection(),this.menuService.getManageMenu()):(this.sharedDataService.apiToken=void 0,localStorage.removeItem("apiToken")),this.calledGetUserData=!0,this.completeCallGetUserData()},f=>{this.calledGetUserData=!0,localStorage.removeItem("apiToken"),this.completeCallGetUserData(),console.error(f)})}getItems(f,g,S,x,A,N){return new Promise((O,D)=>{let I=(0,t.Z)();this.lastCallGuid=I;var T="?page="+f.toString()+"&take="+g.toString()+"&sortBy="+S+"&sortDirection="+x+"&searchText="+A+"&searchBy="+N;this.restProvider.executeSinovadApiService(e.yw.GET,"/users/GetAllWithPaginationAsync"+T).then(y=>{this.lastCallGuid==I&&O(y)},y=>{console.error(y),D(y)})})}saveItem(f){return new Promise((g,S)=>{this.restProvider.executeSinovadApiService(f.Id>0?e.yw.PUT:e.yw.POST,f.Id>0?"/users/Update":"/users/Create",f).then(N=>{g(!0)},N=>{console.error(N),S(N)})})}deleteItem(f){return new Promise((g,S)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/users/Delete/"+f).then(A=>{g(A)},A=>{console.error(A),S(A)})})}deleteItems(f){return new Promise((g,S)=>{let x=[];for(let O=0;O<f.length;O++)x.push(f[O].Id);var A=x.join(",");this.restProvider.executeSinovadApiService(e.yw.DELETE,"/users/DeleteList/"+A).then(O=>{g(O)},O=>{console.error(O),S(O)})})}validateConfirmEmailToken(f){return new Promise((g,S)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ValidateConfirmEmailToken",f).then(x=>{g(x)},x=>{console.error(x),S(x)})})}recoverPassword(f){return new Promise((g,S)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/RecoverPassword",f).then(x=>{g(x)},x=>{console.error(x),S(x)})})}registerUser(f){return new Promise((g,S)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/Register",f).then(x=>{g(x)},x=>{console.error(x),S(x)})})}validateResetPasswordToken(f){return new Promise((g,S)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ValidateResetPasswordToken",f).then(x=>{g(x)},x=>{console.error(x),S(x)})})}resetPassword(f){return new Promise((g,S)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ResetPassword",f).then(x=>{g(x)},x=>{console.error(x),S(x)})})}static#e=this.\u0275fac=function(g){return new(g||c)(b.LFG(_.h),b.LFG(P.n),b.LFG(C.g),b.LFG(m.C))};static#t=this.\u0275prov=b.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()},914:(Wn,et,p)=>{"use strict";p.d(et,{g:()=>ce});var e=p(863);class t{constructor(Ie,Ce,pe){this.router=Ie,this.activeRoute=Ce,this.sharedDataService=pe}initializeHeaderData(){var Ie=this.activeRoute.snapshot.params.serverGuid;if(null!=Ie){var Ce=this.sharedDataService.mediaServers.find(ke=>ke.Guid==Ie);if(Ce){this.mediaServer=JSON.parse(JSON.stringify(Ce));var pe=this.activeRoute.snapshot.params.libraryId;if(null!=Ce.ListLibraries&&Ce.ListLibraries.length>0){var Ae=Ce.ListLibraries.find(ke=>ke.MediaServerId==this.mediaServer.Id&&ke.Id==pe);null!=Ae?(this.library=Ae,this.title=Ae.Name,this.subtitle=this.mediaServer.FamilyName?this.mediaServer.FamilyName:this.mediaServer.DeviceName):this.title=this.mediaServer.FamilyName?this.mediaServer.FamilyName:this.mediaServer.DeviceName}}}}}var v=p(7394),b=p(5879),_=p(7541),P=p(1044),C=p(5908),m=p(1367),i=p(6814),c=p(5940),d=p(1444),f=p(1531);function g(ge,Ie){if(1&ge&&b._UZ(0,"img",10),2&ge){const Ce=b.oxw(3);b.Q6J("src",Ce.getUrlByItemDetailMovieDataBase(Ce.detail),b.LSH)}}function S(ge,Ie){if(1&ge&&(b.TgZ(0,"div",11)(1,"button",12)(2,"div",13),b._uU(3),b.qZA(),b.TgZ(4,"div",14),b._uU(5),b.qZA()()()),2&ge){const Ce=b.oxw(3);b.xp6(3),b.hij(" ",Ce.title," "),b.xp6(2),b.hij(" ",Ce.subtitle," ")}}function x(ge,Ie){if(1&ge&&(b.TgZ(0,"div",18)(1,"span",23),b._uU(2,"Director: "),b.qZA(),b.TgZ(3,"span",24),b._uU(4),b.qZA()()),2&ge){const Ce=b.oxw(5);b.xp6(4),b.Oqu(Ce.detail.MediaItem.Directors)}}function A(ge,Ie){if(1&ge&&(b.TgZ(0,"div",18)(1,"span",23),b._uU(2,"Reparto: "),b.qZA(),b.TgZ(3,"span",24),b._uU(4),b.qZA()()),2&ge){const Ce=b.oxw(5);b.xp6(4),b.Oqu(Ce.detail.MediaItem.Actors)}}function N(ge,Ie){if(1&ge){const Ce=b.EpF();b.TgZ(0,"div")(1,"div")(2,"button",25),b.NdJ("click",function(){b.CHM(Ce);const Ae=b.oxw(5);return b.KtG(Ae.continueVideo())}),b._uU(3,"Continuar"),b.qZA()(),b.TgZ(4,"div",26),b._UZ(5,"div",27),b.qZA(),b.TgZ(6,"div",28),b._uU(7),b.qZA()()}if(2&ge){const Ce=b.oxw(5);b.xp6(5),b.Udp("width",Ce.getWidthProgressItem(Ce.lastEpisodeWatched)),b.xp6(2),b.hij(" ",Ce.lastEpisodeWatched.Subtitle," ")}}function O(ge,Ie){if(1&ge){const Ce=b.EpF();b.TgZ(0,"button",29),b.NdJ("click",function(){b.CHM(Ce);const Ae=b.oxw(6);return b.KtG(Ae.showVideo())}),b._uU(1,"Ver desde el principio"),b.qZA(),b.TgZ(2,"button",25),b.NdJ("click",function(){b.CHM(Ce);const Ae=b.oxw(6);return b.KtG(Ae.continueVideo())}),b._uU(3,"Continuar viendo"),b.qZA()}}function D(ge,Ie){if(1&ge){const Ce=b.EpF();b.TgZ(0,"button",30),b.NdJ("click",function(){b.CHM(Ce);const Ae=b.oxw(6);return b.KtG(Ae.showVideo())}),b._UZ(1,"i",31),b._uU(2," Ver ahora "),b.qZA()}}function I(ge,Ie){if(1&ge&&(b.YNc(0,O,4,0,"ng-template",0),b.YNc(1,D,3,0,"ng-template",0)),2&ge){const Ce=b.oxw(5);b.Q6J("ngIf",Ce.itemUserData),b.xp6(1),b.Q6J("ngIf",!Ce.itemUserData)}}function T(ge,Ie){if(1&ge&&(b.TgZ(0,"div",32),b._uU(1),b.qZA()),2&ge){const Ce=b.oxw(5);b.xp6(1),b.hij(" ",Ce.detail.MediaItem.Overview," ")}}function L(ge,Ie){if(1&ge){const Ce=b.EpF();b.TgZ(0,"img",47),b.NdJ("error",function(){b.CHM(Ce),b.oxw();const Ae=b.MAs(12),ke=b.MAs(7),he=b.MAs(18),we=b.oxw(5);return b.KtG(we.onInitializeItemsRow(Ae,ke,he))}),b.qZA()}}const y=function(ge){return{selected:ge}};function B(ge,Ie){if(1&ge){const Ce=b.EpF();b.TgZ(0,"div",48)(1,"button",49),b.NdJ("click",function(){const ke=b.CHM(Ce).$implicit,he=b.oxw(6);return b.KtG(he.onClickSeason(ke))}),b.TgZ(2,"span"),b._uU(3),b.qZA()()()}if(2&ge){const Ce=Ie.$implicit,pe=b.oxw(6);b.xp6(1),b.MGl("id","section_season_",Ce.SeasonNumber,""),b.Q6J("ngClass",b.VKq(3,y,Ce.SeasonNumber==pe.detail.CurrentSeason.SeasonNumber)),b.xp6(2),b.Oqu(Ce.Name)}}function z(ge,Ie){if(1&ge){const Ce=b.EpF();b.TgZ(0,"section",50)(1,"button",51),b.NdJ("click",function(){const ke=b.CHM(Ce).$implicit,he=b.oxw(6);return b.KtG(he.onClickEpisode(ke))}),b.TgZ(2,"div",52),b._UZ(3,"img",10),b.qZA(),b.TgZ(4,"div",53)(5,"div",54),b._uU(6),b.qZA(),b.TgZ(7,"div",55),b._uU(8),b.qZA()()()()}if(2&ge){const Ce=Ie.$implicit,pe=b.oxw(6);b.hYB("id","section_episode_s",Ce.SeasonNumber,"_e",Ce.EpisodeNumber,""),b.xp6(1),b.hYB("id","button_episode_s",Ce.SeasonNumber,"_e",Ce.EpisodeNumber,""),b.xp6(2),b.Q6J("src",pe.getEpisodeImagePath(Ce),b.LSH),b.xp6(3),b.AsE(" ",Ce.EpisodeNumber,". ",Ce.Name," "),b.xp6(2),b.hij(" ",Ce.Overview," ")}}function ne(ge,Ie){if(1&ge){const Ce=b.EpF();b.TgZ(0,"div",33)(1,"div"),b._uU(2," EPISODIOS "),b.qZA(),b.TgZ(3,"div",34),b.YNc(4,L,1,0,"img",35),b.TgZ(5,"div",3)(6,"div",36,37),b.NdJ("click",function(){b.CHM(Ce);const Ae=b.MAs(12),ke=b.MAs(7),he=b.MAs(18),we=b.oxw(5);return b.KtG(we.onClickButtonLeftScroll(Ae,ke,he))}),b._UZ(8,"img",38),b.ALo(9,"async"),b.ALo(10,"formatDataPipe"),b.qZA()(),b.TgZ(11,"div",39,40)(13,"section",41,42),b.YNc(15,B,4,5,"ng-template",43),b.qZA()(),b.TgZ(16,"div",3)(17,"div",44,45),b.NdJ("click",function(){b.CHM(Ce);const Ae=b.MAs(12),ke=b.MAs(7),he=b.MAs(18),we=b.oxw(5);return b.KtG(we.onClickButtonRightScroll(Ae,ke,he))}),b._UZ(19,"img",38),b.ALo(20,"async"),b.ALo(21,"formatDataPipe"),b.qZA()()(),b.TgZ(22,"div",46),b.YNc(23,z,9,8,"ng-template",43),b.qZA()()}if(2&ge){const Ce=b.oxw(5);b.xp6(4),b.Q6J("ngIf",!Ce.startResize),b.xp6(4),b.Q6J("src",b.lcZ(9,5,b.xi3(10,7,"left.png","GetIconURLByKey")),b.LSH),b.xp6(7),b.Q6J("ngForOf",Ce.detail.ListSeasons),b.xp6(4),b.Q6J("src",b.lcZ(20,10,b.xi3(21,12,"right.png","GetIconURLByKey")),b.LSH),b.xp6(4),b.Q6J("ngForOf",Ce.detail.CurrentSeason.ListEpisodes)}}function ae(ge,Ie){if(1&ge&&(b.TgZ(0,"div",16)(1,"div",17),b._uU(2),b.qZA(),b.TgZ(3,"div",18),b._uU(4),b.qZA(),b.YNc(5,x,5,1,"div",19),b.YNc(6,A,5,1,"div",19),b.TgZ(7,"section",20),b.YNc(8,N,8,3,"ng-template",0),b.YNc(9,I,2,2,"ng-template",0),b.qZA(),b.YNc(10,T,2,1,"div",21),b.YNc(11,ne,24,15,"div",22),b.qZA()),2&ge){const Ce=b.oxw(4);b.xp6(2),b.hij(" ",Ce.detail.MediaItem.Title," "),b.xp6(2),b.hij(" ",Ce.detail.MediaItem.Genres," "),b.xp6(1),b.Q6J("ngIf",Ce.detail.MediaItem.Directors),b.xp6(1),b.Q6J("ngIf",Ce.detail.MediaItem.Actors),b.xp6(2),b.Q6J("ngIf",Ce.lastEpisodeWatched),b.xp6(1),b.Q6J("ngIf",!Ce.lastEpisodeWatched),b.xp6(1),b.Q6J("ngIf",!Ce.lastEpisodeWatched),b.xp6(1),b.Q6J("ngIf",Ce.detail.ListSeasons&&Ce.detail.ListSeasons.length>0)}}function Fe(ge,Ie){if(1&ge&&(b.TgZ(0,"div",15),b.YNc(1,ae,12,8,"ng-template",0),b.qZA()),2&ge){const Ce=b.oxw(3);b.Udp("height",Ce.title?"calc(100% - 65px)":"100%"),b.xp6(1),b.Q6J("ngIf",Ce.detail)}}function Y(ge,Ie){if(1&ge&&(b.TgZ(0,"div",1,2)(2,"div",3)(3,"div",4)(4,"div",5),b.YNc(5,g,1,1,"img",6),b.qZA()()(),b.TgZ(6,"div",7),b.YNc(7,S,6,2,"div",8),b.YNc(8,Fe,2,3,"div",9),b.qZA()()),2&ge){const Ce=b.MAs(1),pe=b.oxw(2);b.xp6(4),b.Udp("width",Ce.clientWidth+"px"),b.xp6(1),b.Q6J("ngIf",pe.detail),b.xp6(2),b.Q6J("ngIf",pe.title),b.xp6(1),b.Q6J("ngIf",pe.detail)}}function le(ge,Ie){if(1&ge&&b._UZ(0,"app-server-connection-error",56),2&ge){const Ce=b.oxw(2);b.Q6J("mediaServer",Ce.mediaServer)}}function G(ge,Ie){if(1&ge&&(b.YNc(0,Y,9,5,"ng-template",0),b.YNc(1,le,1,1,"ng-template",0)),2&ge){const Ce=b.oxw();b.Q6J("ngIf",Ce.mediaServer&&Ce.mediaServer.isSecureConnection),b.xp6(1),b.Q6J("ngIf",Ce.mediaServer&&!Ce.mediaServer.isSecureConnection)}}function Se(ge,Ie){1&ge&&(b.TgZ(0,"div",57),b._UZ(1,"mat-spinner"),b.qZA())}let ce=(()=>{class ge extends t{constructor(Ce,pe,Ae,ke,he,we){super(ke,Ae,we),this.signalIrService=Ce,this.libraryService=pe,this.activeRoute=Ae,this.router=ke,this.ref=he,this.sharedDataService=we,this._window=window,this.startResize=!1,this.subscription=new v.w0,this.loadingConnection=!0,this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(Te=>{this.mediaServer&&this.mediaServer.Guid==Te&&!this.mediaServer.isSecureConnection&&(this.loadingConnection=!1,this.mediaServer.isSecureConnection=!0,this.getMediaItemDetail())})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(Te=>{this.mediaServer&&this.mediaServer.Guid==Te&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)}))}ngOnInit(){this.initializeHeaderData(),this.mediaServer?this.mediaServer.isSecureConnection?(this.loadingConnection=!1,this.getMediaItemDetail()):setTimeout(()=>{this.loadingConnection=!1},3e3):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscription.unsubscribe()}getMediaItemDetail(){let Ce=this.activeRoute.snapshot.queryParams.mediaId;Ce?this.libraryService.getMediaItemDetail(this.mediaServer.Url,Ce).then(pe=>{this.detail=pe,this.detail.CurrentSeason=this.detail.ListSeasons[0]},pe=>{this.router.navigate(["404"],{skipLocationChange:!1})}):this.router.navigate(["404"],{skipLocationChange:!1})}getEpisodeImagePath(Ce){return this.detail.MediaItem.MetadataAgentsId==e.DM.TMDb&&Ce.PosterPath?this.sharedDataService.urlEpisodeDataBase+Ce.PosterPath:Ce.ListMediaFiles&&Ce.ListMediaFiles.length>0?this.mediaServer.Url+"/media/"+Ce.ListMediaFiles[0].Guid+"/thumbnail.png":"assets/img/no-image-available.jpg"}getUrlByItemDetailMovieDataBase(Ce){return Ce.MediaItem.MetadataAgentsId==e.DM.TMDb?this.sharedDataService.originalUrlImagesMovieDataBase+Ce.MediaItem.PosterPath:Ce.MediaItem.PosterPath?Ce.MediaItem.PosterPath:Ce.ListMediaFiles&&Ce.ListMediaFiles.length>0?this.mediaServer.Url+"/media/"+Ce.ListMediaFiles[0].Guid+"/thumbnail.png":"assets/img/no-image-available.jpg"}verifyIfShoOrHiddenScrollButtons(Ce,pe,Ae){pe.style.display=Ce.scrollLeft<=0?"none":"flex",Ae.style.display=Ce.scrollWidth==Ce.scrollLeft+Ce.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(Ce,pe,Ae){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(Ce,pe,Ae)},250)}onClickButtonLeftScroll(Ce,pe,Ae){Ce.scrollLeft=Ce.scrollLeft-20,this.verifyIfShoOrHiddenScrollButtons(Ce,pe,Ae)}onClickButtonRightScroll(Ce,pe,Ae){Ce.scrollLeft=Ce.scrollLeft+20,this.verifyIfShoOrHiddenScrollButtons(Ce,pe,Ae)}getWidthProgressItem(Ce){return Ce.CurrentTime/Ce.DurationTime*100+"%"}continueVideo(){}showVideo(){if(this.detail.MediaItem.MediaTypeId==e.DD.Movie)this.getVideosByItem();else if(this.detail.ListSeasons&&this.detail.ListSeasons.length>0){let Ce=this.detail.ListSeasons[0];Ce.ListEpisodes&&Ce.ListEpisodes.length>0&&this.getVideoByEpisode(Ce.ListEpisodes[0])}}getVideosByItem(){this.router.navigateByUrl("/media/server/"+this.mediaServer.Guid+"/video/"+this.detail.ListMediaFiles[0].Id)}onClickSeason(Ce){this.detail.CurrentSeason=Ce}onClickEpisode(Ce){this.getVideoByEpisode(Ce)}getVideoByEpisode(Ce){this.router.navigateByUrl("/media/server/"+this.mediaServer.Guid+"/video/"+Ce.ListMediaFiles[0].Id)}onResize(Ce){setTimeout(()=>{this.startResize=!0,this.ref.detectChanges(),this.startResize=!1,this.ref.detectChanges()},100)}static#e=this.\u0275fac=function(pe){return new(pe||ge)(b.Y36(_.n),b.Y36(P.$),b.Y36(C.gz),b.Y36(C.F0),b.Y36(b.sBO),b.Y36(m.g))};static#t=this.\u0275cmp=b.Xpm({type:ge,selectors:[["app-item-detail"]],hostBindings:function(pe,Ae){1&pe&&b.NdJ("resize",function(he){return Ae.onResize(he)},!1,b.Jf7)},features:[b.qOj],decls:2,vars:2,consts:[[3,"ngIf"],[1,"media-principal-section"],["container",""],[2,"width","0px","height","0px"],[1,"sinovad-item-view-background-container"],[2,"position","fixed"],["onError","this.src='assets/img/no-image-available.jpg'",3,"src",4,"ngIf"],[1,"media-container"],["class","media-header",4,"ngIf"],["class","sinovad-item-view-container sinovad-custom-container",3,"height",4,"ngIf"],["onError","this.src='assets/img/no-image-available.jpg'",3,"src"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[1,"subtitle"],[1,"sinovad-item-view-container","sinovad-custom-container"],[1,"sinovad-item-view-principal-section"],[1,"sinovad-item-view-title-container"],[1,"sinovad-item-view-subtitle-container"],["class","sinovad-item-view-subtitle-container",4,"ngIf"],["id","section_principal_buttons",1,"sinovad-item-view-principal-button-container","sinovad-section"],["class","sinovad-item-view-summary-container",4,"ngIf"],["class","sinovad-item-view-seasons-container",4,"ngIf"],[2,"font-weight","bold"],[2,"font-weight","normal"],["id","continue_play",1,"",3,"click"],[1,"sinovad-item-progress-bar-container",2,"width","300px"],[1,"sinovad-item-progress-bar-content"],[2,"margin-top","5px"],["id","restart_play",1,"",3,"click"],["id","play_now",1,"",3,"click"],[1,"fa-solid","fa-play","me-1"],[1,"sinovad-item-view-summary-container"],[1,"sinovad-item-view-seasons-container"],[1,"sinovad-list-row-container"],["style","display:none;","src","",3,"error",4,"ngIf"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[3,"src"],[1,"sinovad-list-row","sinovad-section"],["itemsRowContainer",""],["id","section_seasons",1,"sinovad-list-content"],["content",""],["ngFor","",3,"ngForOf"],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-view-episodes-container"],["src","",2,"display","none",3,"error"],[1,"sinovad-season-container"],[1,"sinovad-season-button",3,"id","ngClass","click"],[1,"sinovad-section",3,"id"],[1,"sinovad-episode-button",3,"id","click"],[1,"sinovad-episode-image-section"],[1,"sinovad-episode-detail-section"],[1,"sinovad-episode-title-section"],[1,"sinovad-overview-section"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(pe,Ae){1&pe&&(b.YNc(0,G,2,2,"ng-template",0),b.YNc(1,Se,2,0,"ng-template",0)),2&pe&&(b.Q6J("ngIf",!Ae.loadingConnection),b.xp6(1),b.Q6J("ngIf",Ae.loadingConnection))},dependencies:[i.mk,i.sg,i.O5,c.Ou,d.Z,i.Ov,f.A],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-episode-button[_ngcontent-%COMP%]{width:100%;cursor:pointer;display:flex;border-radius:5px;margin-bottom:15px;padding:0;border:none;background:transparent}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;font-weight:400;overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:10}.sinovad-episode-title-section[_ngcontent-%COMP%]{margin-bottom:10px;overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:1}.sinovad-episode-image-section[_ngcontent-%COMP%]{display:block}.sinovad-episode-detail-section[_ngcontent-%COMP%]{display:block;background-color:transparent;color:#fff;padding:20px;text-align:left;width:100%}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:10px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-item-view-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden;outline:none}.sinovad-item-view-title-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:50px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-background-container[_ngcontent-%COMP%]{position:relative}.sinovad-item-view-background-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;width:100%;opacity:.5}.sinovad-item-view-seasons-container[_ngcontent-%COMP%]{position:relative;width:100%;font-size:20px;color:#fff;padding-right:20px;padding-left:20px;padding-top:20px;font-weight:700}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:82px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.4;max-width:unset;height:110px;display:none}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:82px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:110px;display:none;opacity:.4}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;width:100%}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-season-container[_ngcontent-%COMP%]{padding-right:10px}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;text-align:center;display:flex;align-items:center;justify-content:center;cursor:pointer;padding:10px 10px 4px;background:transparent;border:none}.sinovad-season-button[_ngcontent-%COMP%]:hover{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus-visible{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus{border-bottom:4px solid #007bff!important}.sinovad-season-button.selected[_ngcontent-%COMP%]{border-bottom:4px solid #007bff}button[_ngcontent-%COMP%]{font-size:25px}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{display:none!important}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;border:4px solid transparent}.sinovad-episode-button[_ngcontent-%COMP%]:hover   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-button[_ngcontent-%COMP%]:focus-visible   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-button[_ngcontent-%COMP%]:focus   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:15px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:13px;-webkit-line-clamp:7}.sinovad-season-button[_ngcontent-%COMP%]{font-size:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:16px;border:none;background:white;color:#000;font-weight:700;padding:8px 20px;border-radius:5px;margin-right:10px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background:#007bff;color:#fff}.sinovad-item-view-summary-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;color:#fff;padding:20px;font-size:16px}@media only screen and (min-width: 2048px){.sinovad-item-view-summary-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:50px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{font-size:25px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:300px}.sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:25px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;-webkit-line-clamp:10}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px}}@media only screen and (max-width: 767px){.sinovad-episode-button[_ngcontent-%COMP%]{display:block;text-align:left;margin-bottom:20px}.sinovad-episode-detail-section[_ngcontent-%COMP%]{padding:0 8px}.sinovad-episode-image-section[_ngcontent-%COMP%]{margin-bottom:10px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset;width:100%;max-height:410px;object-fit:cover;object-position:top}.sinovad-episode-title-section[_ngcontent-%COMP%]{-webkit-line-clamp:2}.sinovad-episode-button[_ngcontent-%COMP%]:hover   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.sinovad-episode-button[_ngcontent-%COMP%]:focus-visible   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.sinovad-episode-button[_ngcontent-%COMP%]:focus   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media only screen and (max-width: 575px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:320px}}@media only screen and (max-width: 475px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:260px}}@media only screen and (max-width: 375px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px}}"]})}return ge})()},9817:(Wn,et,p)=>{"use strict";p.d(et,{c:()=>sc});var e=p(5094),t=p(2372),v=p(4753);function b(V){return V&&V.__esModule&&Object.prototype.hasOwnProperty.call(V,"default")?V.default:V}var h,M,k,H,te,_={exports:{}};h=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,M=/^(?=([^\/?#]*))\1([^]*)$/,k=/(?:\/|^)\.(?=\/)/g,H=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,_.exports=te={buildAbsoluteURL:function(De,Pe,lt){if(lt=lt||{},De=De.trim(),!(Pe=Pe.trim())){if(!lt.alwaysNormalize)return De;var pt=te.parseURL(De);if(!pt)throw new Error("Error trying to parse base URL.");return pt.path=te.normalizePath(pt.path),te.buildURLFromParts(pt)}var Bt=te.parseURL(Pe);if(!Bt)throw new Error("Error trying to parse relative URL.");if(Bt.scheme)return lt.alwaysNormalize?(Bt.path=te.normalizePath(Bt.path),te.buildURLFromParts(Bt)):Pe;var jt=te.parseURL(De);if(!jt)throw new Error("Error trying to parse base URL.");if(!jt.netLoc&&jt.path&&"/"!==jt.path[0]){var Xt=M.exec(jt.path);jt.netLoc=Xt[1],jt.path=Xt[2]}jt.netLoc&&!jt.path&&(jt.path="/");var cn={scheme:jt.scheme,netLoc:Bt.netLoc,path:null,params:Bt.params,query:Bt.query,fragment:Bt.fragment};if(!Bt.netLoc&&(cn.netLoc=jt.netLoc,"/"!==Bt.path[0]))if(Bt.path){var bn=jt.path,Bn=bn.substring(0,bn.lastIndexOf("/")+1)+Bt.path;cn.path=te.normalizePath(Bn)}else cn.path=jt.path,Bt.params||(cn.params=jt.params,Bt.query||(cn.query=jt.query));return null===cn.path&&(cn.path=lt.alwaysNormalize?te.normalizePath(Bt.path):Bt.path),te.buildURLFromParts(cn)},parseURL:function(De){var Pe=h.exec(De);return Pe?{scheme:Pe[1]||"",netLoc:Pe[2]||"",path:Pe[3]||"",params:Pe[4]||"",query:Pe[5]||"",fragment:Pe[6]||""}:null},normalizePath:function(De){for(De=De.split("").reverse().join("").replace(k,"");De.length!==(De=De.replace(H,"")).length;);return De.split("").reverse().join("")},buildURLFromParts:function(De){return De.scheme+De.netLoc+De.path+De.params+De.query+De.fragment}};var P=_.exports;function C(V,r){var l=Object.keys(V);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(V);r&&(h=h.filter(function(M){return Object.getOwnPropertyDescriptor(V,M).enumerable})),l.push.apply(l,h)}return l}function m(V){for(var r=1;r<arguments.length;r++){var l=null!=arguments[r]?arguments[r]:{};r%2?C(Object(l),!0).forEach(function(h){i(V,h,l[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(l)):C(Object(l)).forEach(function(h){Object.defineProperty(V,h,Object.getOwnPropertyDescriptor(l,h))})}return V}function i(V,r,l){return r=function f(V){var r=function d(V,r){if("object"!=typeof V||null===V)return V;var l=V[Symbol.toPrimitive];if(void 0!==l){var h=l.call(V,r||"default");if("object"!=typeof h)return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(V)}(V,"string");return"symbol"==typeof r?r:String(r)}(r),r in V?Object.defineProperty(V,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):V[r]=l,V}function c(){return c=Object.assign?Object.assign.bind():function(V){for(var r=1;r<arguments.length;r++){var l=arguments[r];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(V[h]=l[h])}return V},c.apply(this,arguments)}const g=Number.isFinite||function(V){return"number"==typeof V&&isFinite(V)};let S=function(V){return V.MEDIA_ATTACHING="hlsMediaAttaching",V.MEDIA_ATTACHED="hlsMediaAttached",V.MEDIA_DETACHING="hlsMediaDetaching",V.MEDIA_DETACHED="hlsMediaDetached",V.BUFFER_RESET="hlsBufferReset",V.BUFFER_CODECS="hlsBufferCodecs",V.BUFFER_CREATED="hlsBufferCreated",V.BUFFER_APPENDING="hlsBufferAppending",V.BUFFER_APPENDED="hlsBufferAppended",V.BUFFER_EOS="hlsBufferEos",V.BUFFER_FLUSHING="hlsBufferFlushing",V.BUFFER_FLUSHED="hlsBufferFlushed",V.MANIFEST_LOADING="hlsManifestLoading",V.MANIFEST_LOADED="hlsManifestLoaded",V.MANIFEST_PARSED="hlsManifestParsed",V.LEVEL_SWITCHING="hlsLevelSwitching",V.LEVEL_SWITCHED="hlsLevelSwitched",V.LEVEL_LOADING="hlsLevelLoading",V.LEVEL_LOADED="hlsLevelLoaded",V.LEVEL_UPDATED="hlsLevelUpdated",V.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",V.LEVELS_UPDATED="hlsLevelsUpdated",V.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",V.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",V.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",V.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",V.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",V.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",V.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",V.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",V.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",V.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",V.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",V.CUES_PARSED="hlsCuesParsed",V.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",V.INIT_PTS_FOUND="hlsInitPtsFound",V.FRAG_LOADING="hlsFragLoading",V.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",V.FRAG_LOADED="hlsFragLoaded",V.FRAG_DECRYPTED="hlsFragDecrypted",V.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",V.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",V.FRAG_PARSING_METADATA="hlsFragParsingMetadata",V.FRAG_PARSED="hlsFragParsed",V.FRAG_BUFFERED="hlsFragBuffered",V.FRAG_CHANGED="hlsFragChanged",V.FPS_DROP="hlsFpsDrop",V.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",V.ERROR="hlsError",V.DESTROYING="hlsDestroying",V.KEY_LOADING="hlsKeyLoading",V.KEY_LOADED="hlsKeyLoaded",V.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",V.BACK_BUFFER_REACHED="hlsBackBufferReached",V}({}),x=function(V){return V.NETWORK_ERROR="networkError",V.MEDIA_ERROR="mediaError",V.KEY_SYSTEM_ERROR="keySystemError",V.MUX_ERROR="muxError",V.OTHER_ERROR="otherError",V}({}),A=function(V){return V.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",V.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",V.KEY_SYSTEM_NO_SESSION="keySystemNoSession",V.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",V.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",V.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",V.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",V.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",V.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",V.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",V.MANIFEST_LOAD_ERROR="manifestLoadError",V.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",V.MANIFEST_PARSING_ERROR="manifestParsingError",V.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",V.LEVEL_EMPTY_ERROR="levelEmptyError",V.LEVEL_LOAD_ERROR="levelLoadError",V.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",V.LEVEL_PARSING_ERROR="levelParsingError",V.LEVEL_SWITCH_ERROR="levelSwitchError",V.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",V.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",V.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",V.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",V.FRAG_LOAD_ERROR="fragLoadError",V.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",V.FRAG_DECRYPT_ERROR="fragDecryptError",V.FRAG_PARSING_ERROR="fragParsingError",V.FRAG_GAP="fragGap",V.REMUX_ALLOC_ERROR="remuxAllocError",V.KEY_LOAD_ERROR="keyLoadError",V.KEY_LOAD_TIMEOUT="keyLoadTimeOut",V.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",V.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",V.BUFFER_APPEND_ERROR="bufferAppendError",V.BUFFER_APPENDING_ERROR="bufferAppendingError",V.BUFFER_STALLED_ERROR="bufferStalledError",V.BUFFER_FULL_ERROR="bufferFullError",V.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",V.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",V.INTERNAL_EXCEPTION="internalException",V.INTERNAL_ABORTED="aborted",V.UNKNOWN="unknown",V}({});const N=function(){},O={trace:N,debug:N,log:N,warn:N,info:N,error:N};let D=O;const y=D,B=/^(\d+)x(\d+)$/,z=/(.+?)=(".*?"|.*?)(?:,|$)/g;class ne{constructor(r){"string"==typeof r&&(r=ne.parseAttrList(r));for(const l in r)r.hasOwnProperty(l)&&("X-"===l.substring(0,2)&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(l)),this[l]=r[l])}decimalInteger(r){const l=parseInt(this[r],10);return l>Number.MAX_SAFE_INTEGER?1/0:l}hexadecimalInteger(r){if(this[r]){let l=(this[r]||"0x").slice(2);l=(1&l.length?"0":"")+l;const h=new Uint8Array(l.length/2);for(let M=0;M<l.length/2;M++)h[M]=parseInt(l.slice(2*M,2*M+2),16);return h}return null}hexadecimalIntegerAsNumber(r){const l=parseInt(this[r],16);return l>Number.MAX_SAFE_INTEGER?1/0:l}decimalFloatingPoint(r){return parseFloat(this[r])}optionalFloat(r,l){const h=this[r];return h?parseFloat(h):l}enumeratedString(r){return this[r]}bool(r){return"YES"===this[r]}decimalResolution(r){const l=B.exec(this[r]);if(null!==l)return{width:parseInt(l[1],10),height:parseInt(l[2],10)}}static parseAttrList(r){let l;const h={};for(z.lastIndex=0;null!==(l=z.exec(r));){let k=l[2];0===k.indexOf('"')&&k.lastIndexOf('"')===k.length-1&&(k=k.slice(1,-1)),h[l[1].trim()]=k}return h}}function Fe(V){return"SCTE35-OUT"===V||"SCTE35-IN"===V}class Y{constructor(r,l){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,l){const h=l.attr;for(const M in h)if(Object.prototype.hasOwnProperty.call(r,M)&&r[M]!==h[M]){y.warn(`DATERANGE tag attribute: "${M}" does not match for tags with ID: "${r.ID}"`),this._badValueForSameId=M;break}r=c(new ne({}),h,r)}if(this.attr=r,this._startDate=new Date(r["START-DATE"]),"END-DATE"in this.attr){const h=new Date(this.attr["END-DATE"]);g(h.getTime())&&(this._endDate=h)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const r=this.duration;return null!==r?new Date(this._startDate.getTime()+1e3*r):null}get duration(){if("DURATION"in this.attr){const r=this.attr.decimalFloatingPoint("DURATION");if(g(r))return r}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&g(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class le{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}class Se{constructor(r){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={audio:null,video:null,audiovideo:null},this.baseurl=r}setByteRange(r,l){const h=r.split("@",2),M=[];M[0]=1===h.length?l?l.byteRangeEndOffset:0:parseInt(h[1]),M[1]=parseInt(h[0])+M[0],this._byteRange=M}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=P.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(r){this._url=r}}class ce extends Se{constructor(r,l){super(l),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new le,this.urlId=0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.type=r}get decryptdata(){const{levelkeys:r}=this;if(!r&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const l=this.levelkeys.identity;if(l)this._decryptdata=l.getDecryptData(this.sn);else{const h=Object.keys(this.levelkeys);if(1===h.length)return this._decryptdata=this.levelkeys[h[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime||!g(this.programDateTime))return null;const r=g(this.duration)?this.duration:0;return this.programDateTime+1e3*r}get encrypted(){var r;if(null!=(r=this._decryptdata)&&r.encrypted)return!0;if(this.levelkeys){const l=Object.keys(this.levelkeys),h=l.length;if(h>1||1===h&&this.levelkeys[l[0]].encrypted)return!0}return!1}setKeyFormat(r){if(this.levelkeys){const l=this.levelkeys[r];l&&!this._decryptdata&&(this._decryptdata=l.getDecryptData(this.sn))}}abortRequests(){var r,l;null==(r=this.loader)||r.abort(),null==(l=this.keyLoader)||l.abort()}setElementaryStreamInfo(r,l,h,M,k,H=!1){const{elementaryStreams:te}=this,De=te[r];De?(De.startPTS=Math.min(De.startPTS,l),De.endPTS=Math.max(De.endPTS,h),De.startDTS=Math.min(De.startDTS,M),De.endDTS=Math.max(De.endDTS,k)):te[r]={startPTS:l,endPTS:h,startDTS:M,endDTS:k,partial:H}}clearElementaryStreamInfo(){const{elementaryStreams:r}=this;r.audio=null,r.video=null,r.audiovideo=null}}class ge extends Se{constructor(r,l,h,M,k){super(h),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new le,this.duration=r.decimalFloatingPoint("DURATION"),this.gap=r.bool("GAP"),this.independent=r.bool("INDEPENDENT"),this.relurl=r.enumeratedString("URI"),this.fragment=l,this.index=M;const H=r.enumeratedString("BYTERANGE");H&&this.setByteRange(H,k),k&&(this.fragOffset=k.fragOffset+k.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:r}=this;return!!(r.audio||r.video||r.audiovideo)}}class Ce{constructor(r){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=r}reloaded(r){if(!r)return this.advanced=!0,void(this.updated=!0);const l=this.lastPartSn-r.lastPartSn,h=this.lastPartIndex-r.lastPartIndex;this.updated=this.endSN!==r.endSN||!!h||!!l,this.advanced=this.endSN>r.endSN||l>0||0===l&&h>0,this.misses=this.updated||this.advanced?Math.floor(.6*r.misses):r.misses+1,this.availabilityDelay=r.availabilityDelay}get hasProgramDateTime(){return!!this.fragments.length&&g(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const r=this.driftEndTime-this.driftStartTime;return r>0?1e3*(this.driftEnd-this.driftStart)/r:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var r;return null!=(r=this.partList)&&r.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var r;return null!=(r=this.fragments)&&r.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var r;return null!=(r=this.partList)&&r.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var r;return null!=(r=this.partList)&&r.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function pe(V){return Uint8Array.from(atob(V),r=>r.charCodeAt(0))}function we(V){return Uint8Array.from(unescape(encodeURIComponent(V)),r=>r.charCodeAt(0))}var Te={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Oe_FAIRPLAY="com.apple.streamingkeydelivery",Oe_PLAYREADY="com.microsoft.playready",Oe_WIDEVINE="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function Ve(V){switch(V){case Oe_FAIRPLAY:return Te.FAIRPLAY;case Oe_PLAYREADY:return Te.PLAYREADY;case Oe_WIDEVINE:return Te.WIDEVINE;case"org.w3.clearkey":return Te.CLEARKEY}}function Re(V){switch(V){case Te.FAIRPLAY:return Oe_FAIRPLAY;case Te.PLAYREADY:return Oe_PLAYREADY;case Te.WIDEVINE:return Oe_WIDEVINE;case Te.CLEARKEY:return"org.w3.clearkey"}}function be(V){const{drmSystems:r,widevineLicenseUrl:l}=V,h=r?[Te.FAIRPLAY,Te.WIDEVINE,Te.PLAYREADY,Te.CLEARKEY].filter(M=>!!r[M]):[];return!h[Te.WIDEVINE]&&l&&h.push(Te.WIDEVINE),h}const Q=typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function oe(V,r,l){return Uint8Array.prototype.slice?V.slice(r,l):new Uint8Array(Array.prototype.slice.call(V,r,l))}const ee=(V,r)=>r+10<=V.length&&73===V[r]&&68===V[r+1]&&51===V[r+2]&&V[r+3]<255&&V[r+4]<255&&V[r+6]<128&&V[r+7]<128&&V[r+8]<128&&V[r+9]<128,X=(V,r)=>r+10<=V.length&&51===V[r]&&68===V[r+1]&&73===V[r+2]&&V[r+3]<255&&V[r+4]<255&&V[r+6]<128&&V[r+7]<128&&V[r+8]<128&&V[r+9]<128,$=(V,r)=>{const l=r;let h=0;for(;ee(V,r);)h+=10,h+=re(V,r+6),X(V,r+10)&&(h+=10),r+=h;if(h>0)return V.subarray(l,l+h)},re=(V,r)=>{let l=0;return l=(127&V[r])<<21,l|=(127&V[r+1])<<14,l|=(127&V[r+2])<<7,l|=127&V[r+3],l},J=(V,r)=>ee(V,r)&&re(V,r+6)+10<=V.length-r,_e=V=>V&&"PRIV"===V.key&&"com.apple.streaming.transportStreamTimestamp"===V.info,xe=V=>{const r=String.fromCharCode(V[0],V[1],V[2],V[3]),l=re(V,4);return{type:r,size:l,data:V.subarray(10,10+l)}},Ee=V=>{let r=0;const l=[];for(;ee(V,r);){const h=re(V,r+6);r+=10;const M=r+h;for(;r+8<M;){const k=xe(V.subarray(r)),H=Ge(k);H&&l.push(H),r+=k.size+10}X(V,r)&&(r+=10)}return l},Ge=V=>"PRIV"===V.type?ct(V):"W"===V.type[0]?tt(V):Xe(V),ct=V=>{if(V.size<2)return;const r=Qe(V.data,!0),l=new Uint8Array(V.data.subarray(r.length+1));return{key:V.type,info:r,data:l.buffer}},Xe=V=>{if(V.size<2)return;if("TXXX"===V.type){let l=1;const h=Qe(V.data.subarray(l),!0);l+=h.length+1;const M=Qe(V.data.subarray(l));return{key:V.type,info:h,data:M}}const r=Qe(V.data.subarray(1));return{key:V.type,data:r}},tt=V=>{if("WXXX"===V.type){if(V.size<2)return;let l=1;const h=Qe(V.data.subarray(l),!0);l+=h.length+1;const M=Qe(V.data.subarray(l));return{key:V.type,info:h,data:M}}const r=Qe(V.data);return{key:V.type,data:r}},gt=V=>{if(8===V.data.byteLength){const r=new Uint8Array(V.data);let h=(r[4]<<23)+(r[5]<<15)+(r[6]<<7)+r[7];return h/=45,1&r[3]&&(h+=47721858.84),Math.round(h)}},Qe=(V,r=!1)=>{const l=function Dt(){return!yt&&typeof self.TextDecoder<"u"&&(yt=new self.TextDecoder("utf-8")),yt}();if(l){const Pe=l.decode(V);if(r){const lt=Pe.indexOf("\0");return-1!==lt?Pe.substring(0,lt):Pe}return Pe.replace(/\0/g,"")}const h=V.length;let M,k,H,te="",De=0;for(;De<h;){if(M=V[De++],0===M&&r)return te;if(0!==M&&3!==M)switch(M>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:te+=String.fromCharCode(M);break;case 12:case 13:k=V[De++],te+=String.fromCharCode((31&M)<<6|63&k);break;case 14:k=V[De++],H=V[De++],te+=String.fromCharCode((15&M)<<12|(63&k)<<6|(63&H)<<0)}}return te};let yt;const fe_hexDump=function(V){let r="";for(let l=0;l<V.length;l++){let h=V[l].toString(16);h.length<2&&(h="0"+h),r+=h}return r},ze=Math.pow(2,32)-1,Tt=[].push,Kt={video:1,audio:2,id3:3,text:4};function Jt(V){return String.fromCharCode.apply(null,V)}function qt(V,r){const l=V[r]<<8|V[r+1];return l<0?65536+l:l}function un(V,r){const l=fn(V,r);return l<0?4294967296+l:l}function fn(V,r){return V[r]<<24|V[r+1]<<16|V[r+2]<<8|V[r+3]}function wt(V,r,l){V[r]=l>>24,V[r+1]=l>>16&255,V[r+2]=l>>8&255,V[r+3]=255&l}function vt(V,r){const l=[];if(!r.length)return l;const h=V.byteLength;for(let M=0;M<h;){const k=un(V,M),te=k>1?M+k:h;if(Jt(V.subarray(M+4,M+8))===r[0])if(1===r.length)l.push(V.subarray(M+8,te));else{const De=vt(V.subarray(M+8,te),r.slice(1));De.length&&Tt.apply(l,De)}M=te}return l}function it(V){const r=[],l=V[0];let h=8;const M=un(V,h);h+=4,h+=0===l?8:16,h+=2;let te=V.length+0;const De=qt(V,h);h+=2;for(let Pe=0;Pe<De;Pe++){let lt=h;const pt=un(V,lt);lt+=4;const Bt=2147483647&pt;if((2147483648&pt)>>>31==1)return y.warn("SIDX has hierarchical references (not supported)"),null;const Xt=un(V,lt);lt+=4,r.push({referenceSize:Bt,subsegmentDuration:Xt,info:{duration:Xt/M,start:te,end:te+Bt-1}}),te+=Bt,lt+=4,h=lt}return{earliestPresentationTime:0,timescale:M,version:l,referencesCount:De,references:r}}function He(V){const r=[],l=vt(V,["moov","trak"]);for(let M=0;M<l.length;M++){const k=l[M],H=vt(k,["tkhd"])[0];if(H){let te=H[0],De=0===te?12:20;const Pe=un(H,De),lt=vt(k,["mdia","mdhd"])[0];if(lt){te=lt[0],De=0===te?12:20;const pt=un(lt,De),Bt=vt(k,["mdia","hdlr"])[0];if(Bt){const Xt={soun:"audio",vide:"video"}[Jt(Bt.subarray(8,12))];if(Xt){const cn=vt(k,["mdia","minf","stbl","stsd"])[0];let bn;cn&&(bn=Jt(cn.subarray(12,16))),r[Pe]={timescale:pt,type:Xt},r[Xt]={timescale:pt,id:Pe,codec:bn}}}}}}return vt(V,["moov","mvex","trex"]).forEach(M=>{const k=un(M,4),H=r[k];H&&(H.default={duration:un(M,12),flags:un(M,20)})}),r}function st(V){const r=vt(V,["schm"])[0];if(r){const l=Jt(r.subarray(4,8));if("cbcs"===l||"cenc"===l)return vt(V,["schi","tenc"])[0]}return y.error("[eme] missing 'schm' box"),null}function bt(V){const r=un(V,0);let l=8;1&r&&(l+=4),4&r&&(l+=4);let h=0;const M=un(V,4);for(let k=0;k<M;k++)256&r&&(h+=un(V,l),l+=4),512&r&&(l+=4),1024&r&&(l+=4),2048&r&&(l+=4);return h}function En(V,r){const l=new Uint8Array(V.length+r.length);return l.set(V),l.set(r,V.length),l}function tn(V,r){const l=[],h=r.samples,M=r.timescale,k=r.id;let H=!1;return vt(h,["moof"]).map(De=>{const Pe=De.byteOffset-8;vt(De,["traf"]).map(pt=>{const Bt=vt(pt,["tfdt"]).map(jt=>{const Xt=jt[0];let cn=un(jt,4);return 1===Xt&&(cn*=Math.pow(2,32),cn+=un(jt,8)),cn/M})[0];return void 0!==Bt&&(V=Bt),vt(pt,["tfhd"]).map(jt=>{const Xt=un(jt,4),cn=16777215&un(jt,0);let zn=0;const ui=0!=(16&cn);let oi=0;const Di=0!=(32&cn);let pi=8;Xt===k&&(0!=(1&cn)&&(pi+=8),0!=(2&cn)&&(pi+=4),0!=(8&cn)&&(zn=un(jt,pi),pi+=4),ui&&(oi=un(jt,pi),pi+=4),Di&&(pi+=4),"video"===r.type&&(H=function Mn(V){if(!V)return!1;const r=V.indexOf("."),l=r<0?V:V.substring(0,r);return"hvc1"===l||"hev1"===l||"dvh1"===l||"dvhe"===l}(r.codec)),vt(pt,["trun"]).map(Mi=>{const Ii=Mi[0],li=16777215&un(Mi,0),ji=0!=(1&li);let Hi=0;const Io=0!=(4&li),Vs=0!=(256&li);let Or=0;const Lo=0!=(512&li);let ko=0;const Vi=0!=(1024&li),ar=0!=(2048&li);let wo=0;const io=un(Mi,4);let So=8;ji&&(Hi=un(Mi,So),So+=4),Io&&(So+=4);let os=Hi+Pe;for(let Fa=0;Fa<io;Fa++){if(Vs?(Or=un(Mi,So),So+=4):Or=zn,Lo?(ko=un(Mi,So),So+=4):ko=oi,Vi&&(So+=4),ar&&(wo=0===Ii?un(Mi,So):fn(Mi,So),So+=4),"video"===r.type){let Ja=0;for(;Ja<ko;){const Al=un(h,os);os+=4,In(H,h[os])&&Nn(h.subarray(os,os+Al),H?2:1,V+wo/M,l),os+=Al,Ja+=Al+4}}V+=Or/M}}))})})}),l}function In(V,r){if(V){const l=r>>1&63;return 39===l||40===l}return 6==(31&r)}function Nn(V,r,l,h){const M=$n(V);let k=0;k+=r;let H=0,te=0,De=!1,Pe=0;for(;k<M.length;){H=0;do{if(k>=M.length)break;Pe=M[k++],H+=Pe}while(255===Pe);te=0;do{if(k>=M.length)break;Pe=M[k++],te+=Pe}while(255===Pe);const lt=M.length-k;if(!De&&4===H&&k<M.length){if(De=!0,181===M[k++]){const Bt=qt(M,k);if(k+=2,49===Bt){const jt=un(M,k);if(k+=4,1195456820===jt){const Xt=M[k++];if(3===Xt){const cn=M[k++],Bn=64&cn,ti=Bn?2+3*(31&cn):0,zn=new Uint8Array(ti);if(Bn){zn[0]=cn;for(let ui=1;ui<ti;ui++)zn[ui]=M[k++]}h.push({type:Xt,payloadType:H,pts:l,bytes:zn})}}}}}else if(5===H&&te<lt){if(De=!0,te>16){const pt=[];for(let Xt=0;Xt<16;Xt++){const cn=M[k++].toString(16);pt.push(1==cn.length?"0"+cn:cn),(3===Xt||5===Xt||7===Xt||9===Xt)&&pt.push("-")}const Bt=te-16,jt=new Uint8Array(Bt);for(let Xt=0;Xt<Bt;Xt++)jt[Xt]=M[k++];h.push({payloadType:H,pts:l,uuid:pt.join(""),userData:Qe(jt),userDataBytes:jt})}}else if(te<lt)k+=te;else if(te>lt)break}}function $n(V){const r=V.byteLength,l=[];let h=1;for(;h<r-2;)0===V[h]&&0===V[h+1]&&3===V[h+2]?(l.push(h+2),h+=2):h++;if(0===l.length)return V;const M=r-l.length,k=new Uint8Array(M);let H=0;for(h=0;h<M;H++,h++)H===l[0]&&(H++,l.shift()),k[h]=V[H];return k}let pn={};class _n{static clearKeyUriToKeyIdMap(){pn={}}constructor(r,l,h,M=[1],k=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=r,this.uri=l,this.keyFormat=h,this.keyFormatVersions=M,this.iv=k,this.encrypted=!!r&&"NONE"!==r,this.isCommonEncryption=this.encrypted&&"AES-128"!==r}isSupported(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case Oe_FAIRPLAY:case Oe_WIDEVINE:case Oe_PLAYREADY:case"org.w3.clearkey":return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}getDecryptData(r){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!=typeof r&&("AES-128"===this.method&&!this.iv&&y.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),r=0);const h=function Mt(V){const r=new Uint8Array(16);for(let l=12;l<16;l++)r[l]=V>>8*(15-l)&255;return r}(r);return new _n(this.method,this.uri,"identity",this.keyFormatVersions,h)}const l=function he(V){const r=V.split(":");let l=null;if("data"===r[0]&&2===r.length){const h=r[1].split(";"),M=h[h.length-1].split(",");if(2===M.length){const H=M[1];"base64"===M[0]?(h.splice(-1,1),l=pe(H)):l=function Ae(V){const r=we(V).subarray(0,16),l=new Uint8Array(16);return l.set(r,16-r.length),l}(H)}}return l}(this.uri);if(l)switch(this.keyFormat){case Oe_WIDEVINE:this.pssh=l,l.length>=22&&(this.keyId=l.subarray(l.length-22,l.length-6));break;case Oe_PLAYREADY:{const h=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=function gn(V,r,l){if(16!==V.byteLength)throw new RangeError("Invalid system id");let h,M,k;if(r){h=1,M=new Uint8Array(16*r.length);for(let te=0;te<r.length;te++){const De=r[te];if(16!==De.byteLength)throw new RangeError("Invalid key");M.set(De,16*te)}}else h=0,M=new Uint8Array;h>0?(k=new Uint8Array(4),r.length>0&&new DataView(k.buffer).setUint32(0,r.length,!1)):k=new Uint8Array;const H=new Uint8Array(4);return l&&l.byteLength>0&&new DataView(H.buffer).setUint32(0,l.byteLength,!1),function vn(V,...r){const l=r.length;let h=8,M=l;for(;M--;)h+=r[M].byteLength;const k=new Uint8Array(h);for(k[0]=h>>24&255,k[1]=h>>16&255,k[2]=h>>8&255,k[3]=255&h,k.set(V,4),M=0,h=8;M<l;M++)k.set(r[M],h),h+=r[M].byteLength;return k}([112,115,115,104],new Uint8Array([h,0,0,0]),V,k,M,H,l||new Uint8Array)}(h,null,l);const M=new Uint16Array(l.buffer,l.byteOffset,l.byteLength/2),k=String.fromCharCode.apply(null,Array.from(M)),H=k.substring(k.indexOf("<"),k.length),Pe=(new DOMParser).parseFromString(H,"text/xml").getElementsByTagName("KID")[0];if(Pe){const lt=Pe.childNodes[0]?Pe.childNodes[0].nodeValue:Pe.getAttribute("VALUE");if(lt){const pt=pe(lt).subarray(0,16);(function ke(V){const r=function(h,M,k){const H=h[M];h[M]=h[k],h[k]=H};r(V,0,3),r(V,1,2),r(V,4,5),r(V,6,7)})(pt),this.keyId=pt}}break}default:{let h=l.subarray(0,16);if(16!==h.length){const M=new Uint8Array(16);M.set(h,16-h.length),h=M}this.keyId=h;break}}if(!this.keyId||16!==this.keyId.byteLength){let h=pn[this.uri];if(!h){const M=Object.keys(pn).length%Number.MAX_SAFE_INTEGER;h=new Uint8Array(16),new DataView(h.buffer,12,4).setUint32(0,M),pn[this.uri]=h}this.keyId=h}return this}}const ht=/\{\$([a-zA-Z0-9-_]+)\}/g;function Tn(V){return ht.test(V)}function qe(V,r,l){if(null!==V.variableList||V.hasVariableRefs)for(let h=l.length;h--;){const M=l[h],k=r[M];k&&(r[M]=Ct(V,k))}}function Ct(V,r){if(null!==V.variableList||V.hasVariableRefs){const l=V.variableList;return r.replace(ht,h=>{const M=h.substring(2,h.length-1),k=l?.[M];return void 0===k?(V.playlistParsingError||(V.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${M}"`)),h):k})}return r}function Qt(V,r,l){let M,k,h=V.variableList;if(h||(V.variableList=h={}),"QUERYPARAM"in r){M=r.QUERYPARAM;try{const H=new self.URL(l).searchParams;if(!H.has(M))throw new Error(`"${M}" does not match any query parameter in URI: "${l}"`);k=H.get(M)}catch(H){V.playlistParsingError||(V.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${H.message}`))}}else M=r.NAME,k=r.VALUE;M in h?V.playlistParsingError||(V.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${M}"`)):h[M]=k||""}function Rt(V,r,l){const h=r.IMPORT;if(l&&h in l){let M=V.variableList;M||(V.variableList=M={}),M[h]=l[h]}else V.playlistParsingError||(V.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${h}"`))}function xn(){if(!(typeof self>"u"))return self.MediaSource||self.WebKitMediaSource}const kt={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},It=xn();function en(V,r){var l;return null!=(l=It?.isTypeSupported(`${r||"video"}/mp4;codecs="${V}"`))&&l}const An=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,Kn=/#EXT-X-MEDIA:(.*)/g,Xn=/^#EXT(?:INF|-X-TARGETDURATION):/m,Ut=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),On=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Ne{static findGroup(r,l){for(let h=0;h<r.length;h++){const M=r[h];if(M.id===l)return M}}static convertAVC1ToAVCOTI(r){const l=r.split(".");if(l.length>2){let h=l.shift()+".";return h+=parseInt(l.shift()).toString(16),h+=("000"+parseInt(l.shift()).toString(16)).slice(-4),h}return r}static resolve(r,l){return P.buildAbsoluteURL(l,r,{alwaysNormalize:!0})}static isMediaPlaylist(r){return Xn.test(r)}static parseMasterPlaylist(r,l){const M={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:Tn(r)},k=[];let H;for(An.lastIndex=0;null!=(H=An.exec(r));)if(H[1]){var te;const Pe=new ne(H[1]);qe(M,Pe,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const lt=Ct(M,H[2]),pt={attrs:Pe,bitrate:Pe.decimalInteger("AVERAGE-BANDWIDTH")||Pe.decimalInteger("BANDWIDTH"),name:Pe.NAME,url:Ne.resolve(lt,l)},Bt=Pe.decimalResolution("RESOLUTION");Bt&&(pt.width=Bt.width,pt.height=Bt.height),ln((Pe.CODECS||"").split(/[ ,]+/).filter(jt=>jt),pt),pt.videoCodec&&-1!==pt.videoCodec.indexOf("avc1")&&(pt.videoCodec=Ne.convertAVC1ToAVCOTI(pt.videoCodec)),null!=(te=pt.unknownCodecs)&&te.length||k.push(pt),M.levels.push(pt)}else if(H[3]){const lt=H[4];switch(H[3]){case"SESSION-DATA":{const pt=new ne(lt);qe(M,pt,["DATA-ID","LANGUAGE","VALUE","URI"]);const Bt=pt["DATA-ID"];Bt&&(null===M.sessionData&&(M.sessionData={}),M.sessionData[Bt]=pt);break}case"SESSION-KEY":{const pt=Ft(lt,l,M);pt.encrypted&&pt.isSupported()?(null===M.sessionKeys&&(M.sessionKeys=[]),M.sessionKeys.push(pt)):y.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${lt}"`);break}case"DEFINE":{const pt=new ne(lt);qe(M,pt,["NAME","VALUE","QUERYPARAM"]),Qt(M,pt,l)}break;case"CONTENT-STEERING":{const pt=new ne(lt);qe(M,pt,["SERVER-URI","PATHWAY-ID"]),M.contentSteering={uri:Ne.resolve(pt["SERVER-URI"],l),pathwayId:pt["PATHWAY-ID"]||"."};break}case"START":M.startTimeOffset=Pt(lt)}}return M.levels=k.length>0&&k.length<M.levels.length?k:M.levels,0===M.levels.length&&(M.playlistParsingError=new Error("no levels found in manifest")),M}static parseMasterPlaylistMedia(r,l,h){let M;const k={},H=h.levels,te={AUDIO:H.map(Pe=>({id:Pe.attrs.AUDIO,audioCodec:Pe.audioCodec})),SUBTITLES:H.map(Pe=>({id:Pe.attrs.SUBTITLES,textCodec:Pe.textCodec})),"CLOSED-CAPTIONS":[]};let De=0;for(Kn.lastIndex=0;null!==(M=Kn.exec(r));){const Pe=new ne(M[1]),lt=Pe.TYPE;if(lt){const pt=te[lt],Bt=k[lt]||[];k[lt]=Bt,qe(h,Pe,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const jt={attrs:Pe,bitrate:0,id:De++,groupId:Pe["GROUP-ID"]||"",instreamId:Pe["INSTREAM-ID"],name:Pe.NAME||Pe.LANGUAGE||"",type:lt,default:Pe.bool("DEFAULT"),autoselect:Pe.bool("AUTOSELECT"),forced:Pe.bool("FORCED"),lang:Pe.LANGUAGE,url:Pe.URI?Ne.resolve(Pe.URI,l):""};if(null!=pt&&pt.length){const Xt=Ne.findGroup(pt,jt.groupId)||pt[0];Fn(jt,Xt,"audioCodec"),Fn(jt,Xt,"textCodec")}Bt.push(jt)}}return k}static parseLevelPlaylist(r,l,h,M,k,H){const te=new Ce(l),De=te.fragments;let bn,Bn,ti,Pe=null,lt=0,pt=0,Bt=0,jt=0,Xt=null,cn=new ce(M,l),zn=-1,ui=!1;for(Ut.lastIndex=0,te.m3u8=r,te.hasVariableRefs=Tn(r);null!==(bn=Ut.exec(r));){ui&&(ui=!1,cn=new ce(M,l),cn.start=Bt,cn.sn=lt,cn.cc=jt,cn.level=h,Pe&&(cn.initSegment=Pe,cn.rawProgramDateTime=Pe.rawProgramDateTime,Pe.rawProgramDateTime=null));const Mi=bn[1];if(Mi){cn.duration=parseFloat(Mi);const Ii=(" "+bn[2]).slice(1);cn.title=Ii||null,cn.tagList.push(Ii?["INF",Mi,Ii]:["INF",Mi])}else if(bn[3]){if(g(cn.duration)){cn.start=Bt,ti&&jr(cn,ti,te),cn.sn=lt,cn.level=h,cn.cc=jt,cn.urlId=k,De.push(cn);const Ii=(" "+bn[3]).slice(1);cn.relurl=Ct(te,Ii),Er(cn,Xt),Xt=cn,Bt+=cn.duration,lt++,pt=0,ui=!0}}else if(bn[4]){const Ii=(" "+bn[4]).slice(1);Xt?cn.setByteRange(Ii,Xt):cn.setByteRange(Ii)}else if(bn[5])cn.rawProgramDateTime=(" "+bn[5]).slice(1),cn.tagList.push(["PROGRAM-DATE-TIME",cn.rawProgramDateTime]),-1===zn&&(zn=De.length);else{if(bn=bn[0].match(On),!bn){y.warn("No matches on slow regex match for level playlist!");continue}for(Bn=1;Bn<bn.length&&!(typeof bn[Bn]<"u");Bn++);const Ii=(" "+bn[Bn]).slice(1),li=(" "+bn[Bn+1]).slice(1),ji=bn[Bn+2]?(" "+bn[Bn+2]).slice(1):"";switch(Ii){case"PLAYLIST-TYPE":te.type=li.toUpperCase();break;case"MEDIA-SEQUENCE":lt=te.startSN=parseInt(li);break;case"SKIP":{const Hi=new ne(li);qe(te,Hi,["RECENTLY-REMOVED-DATERANGES"]);const Io=Hi.decimalInteger("SKIPPED-SEGMENTS");if(g(Io)){te.skippedSegments=Io;for(let Or=Io;Or--;)De.unshift(null);lt+=Io}const Vs=Hi.enumeratedString("RECENTLY-REMOVED-DATERANGES");Vs&&(te.recentlyRemovedDateranges=Vs.split("\t"));break}case"TARGETDURATION":te.targetduration=Math.max(parseInt(li),1);break;case"VERSION":te.version=parseInt(li);break;case"EXTM3U":break;case"ENDLIST":te.live=!1;break;case"#":(li||ji)&&cn.tagList.push(ji?[li,ji]:[li]);break;case"DISCONTINUITY":jt++,cn.tagList.push(["DIS"]);break;case"GAP":cn.gap=!0,cn.tagList.push([Ii]);break;case"BITRATE":cn.tagList.push([Ii,li]);break;case"DATERANGE":{const Hi=new ne(li);qe(te,Hi,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),qe(te,Hi,Hi.clientAttrs);const Io=new Y(Hi,te.dateRanges[Hi.ID]);Io.isValid||te.skippedSegments?te.dateRanges[Io.id]=Io:y.warn(`Ignoring invalid DATERANGE tag: "${li}"`),cn.tagList.push(["EXT-X-DATERANGE",li]);break}case"DEFINE":{const Hi=new ne(li);qe(te,Hi,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in Hi?Rt(te,Hi,H):Qt(te,Hi,l)}break;case"DISCONTINUITY-SEQUENCE":jt=parseInt(li);break;case"KEY":{const Hi=Ft(li,l,te);if(Hi.isSupported()){if("NONE"===Hi.method){ti=void 0;break}ti||(ti={}),ti[Hi.keyFormat]&&(ti=c({},ti)),ti[Hi.keyFormat]=Hi}else y.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${li}"`);break}case"START":te.startTimeOffset=Pt(li);break;case"MAP":{const Hi=new ne(li);if(qe(te,Hi,["BYTERANGE","URI"]),cn.duration){const Io=new ce(M,l);$r(Io,Hi,h,ti),Pe=Io,cn.initSegment=Pe,Pe.rawProgramDateTime&&!cn.rawProgramDateTime&&(cn.rawProgramDateTime=Pe.rawProgramDateTime)}else $r(cn,Hi,h,ti),Pe=cn,ui=!0;break}case"SERVER-CONTROL":{const Hi=new ne(li);te.canBlockReload=Hi.bool("CAN-BLOCK-RELOAD"),te.canSkipUntil=Hi.optionalFloat("CAN-SKIP-UNTIL",0),te.canSkipDateRanges=te.canSkipUntil>0&&Hi.bool("CAN-SKIP-DATERANGES"),te.partHoldBack=Hi.optionalFloat("PART-HOLD-BACK",0),te.holdBack=Hi.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const Hi=new ne(li);te.partTarget=Hi.decimalFloatingPoint("PART-TARGET");break}case"PART":{let Hi=te.partList;Hi||(Hi=te.partList=[]);const Io=pt>0?Hi[Hi.length-1]:void 0,Vs=pt++,Or=new ne(li);qe(te,Or,["BYTERANGE","URI"]);const Lo=new ge(Or,cn,l,Vs,Io);Hi.push(Lo),cn.duration+=Lo.duration;break}case"PRELOAD-HINT":{const Hi=new ne(li);qe(te,Hi,["URI"]),te.preloadHint=Hi;break}case"RENDITION-REPORT":{const Hi=new ne(li);qe(te,Hi,["URI"]),te.renditionReports=te.renditionReports||[],te.renditionReports.push(Hi);break}default:y.warn(`line parsed but not handled: ${bn}`)}}}Xt&&!Xt.relurl?(De.pop(),Bt-=Xt.duration,te.partList&&(te.fragmentHint=Xt)):te.partList&&(Er(cn,Xt),cn.cc=jt,te.fragmentHint=cn,ti&&jr(cn,ti,te));const oi=De.length,Di=De[0],pi=De[oi-1];if(Bt+=te.skippedSegments*te.targetduration,Bt>0&&oi&&pi){te.averagetargetduration=Bt/oi;const Mi=pi.sn;te.endSN="initSegment"!==Mi?Mi:0,te.live||(pi.endList=!0),Di&&(te.startCC=Di.cc)}else te.endSN=0,te.startCC=0;return te.fragmentHint&&(Bt+=te.fragmentHint.duration),te.totalduration=Bt,te.endCC=jt,zn>0&&function vi(V,r){let l=V[r];for(let h=r;h--;){const M=V[h];if(!M)return;M.programDateTime=l.programDateTime-1e3*M.duration,l=M}}(De,zn),te}}function Ft(V,r,l){var h,M;const k=new ne(V);qe(l,k,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const H=null!=(h=k.METHOD)?h:"",te=k.URI,De=k.hexadecimalInteger("IV"),Pe=k.KEYFORMATVERSIONS,lt=null!=(M=k.KEYFORMAT)?M:"identity";te&&k.IV&&!De&&y.error(`Invalid IV: ${k.IV}`);const pt=te?Ne.resolve(te,r):"",Bt=(Pe||"1").split("/").map(Number).filter(Number.isFinite);return new _n(H,pt,lt,Bt,De)}function Pt(V){const l=new ne(V).decimalFloatingPoint("TIME-OFFSET");return g(l)?l:null}function ln(V,r){["video","audio","text"].forEach(l=>{const h=V.filter(M=>function Nt(V,r){const l=kt[r];return!!l&&!0===l[V.slice(0,4)]}(M,l));if(h.length){const M=h.filter(k=>0===k.lastIndexOf("avc1",0)||0===k.lastIndexOf("mp4a",0));r[`${l}Codec`]=M.length>0?M[0]:h[0],V=V.filter(k=>-1===h.indexOf(k))}}),r.unknownCodecs=V}function Fn(V,r,l){const h=r[l];h&&(V[l]=h)}function Er(V,r){V.rawProgramDateTime?V.programDateTime=Date.parse(V.rawProgramDateTime):null!=r&&r.programDateTime&&(V.programDateTime=r.endProgramDateTime),g(V.programDateTime)||(V.programDateTime=null,V.rawProgramDateTime=null)}function $r(V,r,l,h){V.relurl=r.URI,r.BYTERANGE&&V.setByteRange(r.BYTERANGE),V.level=l,V.sn="initSegment",h&&(V.levelkeys=h),V.initSegment=null}function jr(V,r,l){V.levelkeys=r;const{encryptedFragments:h}=l;(!h.length||h[h.length-1].levelkeys!==r)&&Object.keys(r).some(M=>r[M].isCommonEncryption)&&h.push(V)}function Wo(V){const{type:r}=V;switch(r){case"audioTrack":return"audio";case"subtitleTrack":return"subtitle";default:return"main"}}function Do(V,r){let l=V.url;return(void 0===l||0===l.indexOf("data:"))&&(l=r.url),l}class bs{constructor(r){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=r,this.registerListeners()}startLoad(r){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:r}=this;r.on(S.MANIFEST_LOADING,this.onManifestLoading,this),r.on(S.LEVEL_LOADING,this.onLevelLoading,this),r.on(S.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),r.on(S.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:r}=this;r.off(S.MANIFEST_LOADING,this.onManifestLoading,this),r.off(S.LEVEL_LOADING,this.onLevelLoading,this),r.off(S.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),r.off(S.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(r){const l=this.hls.config,H=new(l.pLoader||l.loader)(l);return this.loaders[r.type]=H,H}getInternalLoader(r){return this.loaders[r.type]}resetInternalLoader(r){this.loaders[r]&&delete this.loaders[r]}destroyInternalLoaders(){for(const r in this.loaders){const l=this.loaders[r];l&&l.destroy(),this.resetInternalLoader(r)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(r,l){const{url:h}=l;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:"manifest",url:h,deliveryDirectives:null})}onLevelLoading(r,l){const{id:h,level:M,url:k,deliveryDirectives:H}=l;this.load({id:h,level:M,responseType:"text",type:"level",url:k,deliveryDirectives:H})}onAudioTrackLoading(r,l){const{id:h,groupId:M,url:k,deliveryDirectives:H}=l;this.load({id:h,groupId:M,level:null,responseType:"text",type:"audioTrack",url:k,deliveryDirectives:H})}onSubtitleTrackLoading(r,l){const{id:h,groupId:M,url:k,deliveryDirectives:H}=l;this.load({id:h,groupId:M,level:null,responseType:"text",type:"subtitleTrack",url:k,deliveryDirectives:H})}load(r){var l;const h=this.hls.config;let k,M=this.getInternalLoader(r);if(M){const Pe=M.context;if(Pe&&Pe.url===r.url)return void y.trace("[playlist-loader]: playlist request ongoing");y.log(`[playlist-loader]: aborting previous loader for type: ${r.type}`),M.abort()}if(k="manifest"===r.type?h.manifestLoadPolicy.default:c({},h.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),M=this.createInternalLoader(r),null!=(l=r.deliveryDirectives)&&l.part){let Pe;if("level"===r.type&&null!==r.level?Pe=this.hls.levels[r.level].details:"audioTrack"===r.type&&null!==r.id?Pe=this.hls.audioTracks[r.id].details:"subtitleTrack"===r.type&&null!==r.id&&(Pe=this.hls.subtitleTracks[r.id].details),Pe){const lt=Pe.partTarget,pt=Pe.targetduration;if(lt&&pt){const Bt=1e3*Math.max(3*lt,.8*pt);k=c({},k,{maxTimeToFirstByteMs:Math.min(Bt,k.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(Bt,k.maxTimeToFirstByteMs)})}}}const H=k.errorRetry||k.timeoutRetry||{};M.load(r,{loadPolicy:k,timeout:k.maxLoadTimeMs,maxRetry:H.maxNumRetry||0,retryDelay:H.retryDelayMs||0,maxRetryDelay:H.maxRetryDelayMs||0},{onSuccess:(Pe,lt,pt,Bt)=>{const jt=this.getInternalLoader(pt);this.resetInternalLoader(pt.type);const Xt=Pe.data;0===Xt.indexOf("#EXTM3U")?(lt.parsing.start=performance.now(),Ne.isMediaPlaylist(Xt)?this.handleTrackOrLevelPlaylist(Pe,lt,pt,Bt||null,jt):this.handleMasterPlaylist(Pe,lt,pt,Bt)):this.handleManifestParsingError(Pe,pt,new Error("no EXTM3U delimiter"),Bt||null,lt)},onError:(Pe,lt,pt,Bt)=>{this.handleNetworkError(lt,pt,!1,Pe,Bt)},onTimeout:(Pe,lt,pt)=>{this.handleNetworkError(lt,pt,!0,void 0,Pe)}})}handleMasterPlaylist(r,l,h,M){const k=this.hls,H=r.data,te=Do(r,h),De=Ne.parseMasterPlaylist(H,te);if(De.playlistParsingError)return void this.handleManifestParsingError(r,h,De.playlistParsingError,M,l);const{contentSteering:Pe,levels:lt,sessionData:pt,sessionKeys:Bt,startTimeOffset:jt,variableList:Xt}=De;this.variableList=Xt;const{AUDIO:cn=[],SUBTITLES:bn,"CLOSED-CAPTIONS":Bn}=Ne.parseMasterPlaylistMedia(H,te,De);cn.length&&!cn.some(zn=>!zn.url)&&lt[0].audioCodec&&!lt[0].attrs.AUDIO&&(y.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),cn.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new ne({}),bitrate:0,url:""})),k.trigger(S.MANIFEST_LOADED,{levels:lt,audioTracks:cn,subtitles:bn,captions:Bn,contentSteering:Pe,url:te,stats:l,networkDetails:M,sessionData:pt,sessionKeys:Bt,startTimeOffset:jt,variableList:Xt})}handleTrackOrLevelPlaylist(r,l,h,M,k){const H=this.hls,{id:te,level:De,type:Pe}=h,lt=Do(r,h),pt=g(te)?te:0,Bt=g(De)?De:pt,jt=Wo(h),Xt=Ne.parseLevelPlaylist(r.data,lt,Bt,jt,pt,this.variableList);if("manifest"===Pe){const cn={attrs:new ne({}),bitrate:0,details:Xt,name:"",url:lt};H.trigger(S.MANIFEST_LOADED,{levels:[cn],audioTracks:[],url:lt,stats:l,networkDetails:M,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}l.parsing.end=performance.now(),h.levelDetails=Xt,this.handlePlaylistLoaded(Xt,r,l,h,M,k)}handleManifestParsingError(r,l,h,M,k){this.hls.trigger(S.ERROR,{type:x.NETWORK_ERROR,details:A.MANIFEST_PARSING_ERROR,fatal:"manifest"===l.type,url:r.url,err:h,error:h,reason:h.message,response:r,context:l,networkDetails:M,stats:k})}handleNetworkError(r,l,h=!1,M,k){let H=`A network ${h?"timeout":"error"+(M?" (status "+M.code+")":"")} occurred while loading ${r.type}`;"level"===r.type?H+=`: ${r.level} id: ${r.id}`:("audioTrack"===r.type||"subtitleTrack"===r.type)&&(H+=` id: ${r.id} group-id: "${r.groupId}"`);const te=new Error(H);y.warn(`[playlist-loader]: ${H}`);let De=A.UNKNOWN,Pe=!1;const lt=this.getInternalLoader(r);switch(r.type){case"manifest":De=h?A.MANIFEST_LOAD_TIMEOUT:A.MANIFEST_LOAD_ERROR,Pe=!0;break;case"level":De=h?A.LEVEL_LOAD_TIMEOUT:A.LEVEL_LOAD_ERROR,Pe=!1;break;case"audioTrack":De=h?A.AUDIO_TRACK_LOAD_TIMEOUT:A.AUDIO_TRACK_LOAD_ERROR,Pe=!1;break;case"subtitleTrack":De=h?A.SUBTITLE_TRACK_LOAD_TIMEOUT:A.SUBTITLE_LOAD_ERROR,Pe=!1}lt&&this.resetInternalLoader(r.type);const pt={type:x.NETWORK_ERROR,details:De,fatal:Pe,url:r.url,loader:lt,context:r,error:te,networkDetails:l,stats:k};M&&(pt.response=m({url:l?.url||r.url,data:void 0},M)),this.hls.trigger(S.ERROR,pt)}handlePlaylistLoaded(r,l,h,M,k,H){const te=this.hls,{type:De,level:Pe,id:lt,groupId:pt,deliveryDirectives:Bt}=M,jt=Do(l,M),Xt=Wo(M),cn="number"==typeof M.level&&"main"===Xt?Pe:void 0;if(!r.fragments.length){const Bn=new Error("No Segments found in Playlist");return void te.trigger(S.ERROR,{type:x.NETWORK_ERROR,details:A.LEVEL_EMPTY_ERROR,fatal:!1,url:jt,error:Bn,reason:Bn.message,response:l,context:M,level:cn,parent:Xt,networkDetails:k,stats:h})}r.targetduration||(r.playlistParsingError=new Error("Missing Target Duration"));const bn=r.playlistParsingError;if(bn)te.trigger(S.ERROR,{type:x.NETWORK_ERROR,details:A.LEVEL_PARSING_ERROR,fatal:!1,url:jt,error:bn,reason:bn.message,response:l,context:M,level:cn,parent:Xt,networkDetails:k,stats:h});else switch(r.live&&H&&(H.getCacheAge&&(r.ageHeader=H.getCacheAge()||0),(!H.getCacheAge||isNaN(r.ageHeader))&&(r.ageHeader=0)),De){case"manifest":case"level":te.trigger(S.LEVEL_LOADED,{details:r,level:cn||0,id:lt||0,stats:h,networkDetails:k,deliveryDirectives:Bt});break;case"audioTrack":te.trigger(S.AUDIO_TRACK_LOADED,{details:r,id:lt||0,groupId:pt||"",stats:h,networkDetails:k,deliveryDirectives:Bt});break;case"subtitleTrack":te.trigger(S.SUBTITLE_TRACK_LOADED,{details:r,id:lt||0,groupId:pt||"",stats:h,networkDetails:k,deliveryDirectives:Bt})}}}function Yi(V,r){let l;try{l=new Event("addtrack")}catch{l=document.createEvent("Event"),l.initEvent("addtrack",!1,!1)}l.track=V,r.dispatchEvent(l)}function Vr(V,r){const l=V.mode;if("disabled"===l&&(V.mode="hidden"),V.cues&&!V.cues.getCueById(r.id))try{if(V.addCue(r),!V.cues.getCueById(r.id))throw new Error(`addCue is failed for: ${r}`)}catch(h){y.debug(`[texttrack-utils]: ${h}`);try{const M=new self.TextTrackCue(r.startTime,r.endTime,r.text);M.id=r.id,V.addCue(M)}catch(M){y.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${M}`)}}"disabled"===l&&(V.mode=l)}function ir(V){const r=V.mode;if("disabled"===r&&(V.mode="hidden"),V.cues)for(let l=V.cues.length;l--;)V.removeCue(V.cues[l]);"disabled"===r&&(V.mode=r)}function lo(V,r,l,h){const M=V.mode;if("disabled"===M&&(V.mode="hidden"),V.cues&&V.cues.length>0){const k=function ls(V,r,l){const h=[],M=function Kr(V,r){if(r<V[0].startTime)return 0;const l=V.length-1;if(r>V[l].endTime)return-1;let h=0,M=l;for(;h<=M;){const k=Math.floor((M+h)/2);if(r<V[k].startTime)M=k-1;else{if(!(r>V[k].startTime&&h<l))return k;h=k+1}}return V[h].startTime-r<r-V[M].startTime?h:M}(V,r);if(M>-1)for(let k=M,H=V.length;k<H;k++){const te=V[k];if(te.startTime>=r&&te.endTime<=l)h.push(te);else if(te.startTime>l)return h}return h}(V.cues,r,l);for(let H=0;H<k.length;H++)(!h||h(k[H]))&&V.removeCue(k[H])}"disabled"===M&&(V.mode=M)}var xr_emsg="https://aomedia.org/emsg/ID3";function Xo(){if(!(typeof self>"u"))return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}const ws=(()=>{const V=Xo();try{new V(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function Sr(V,r){return V.getTime()/1e3-r}function yi(V){return Uint8Array.from(V.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class Zi{constructor(r){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=r,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:r}=this;r.on(S.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(S.MANIFEST_LOADING,this.onManifestLoading,this),r.on(S.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),r.on(S.BUFFER_FLUSHING,this.onBufferFlushing,this),r.on(S.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:r}=this;r.off(S.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(S.MANIFEST_LOADING,this.onManifestLoading,this),r.off(S.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),r.off(S.BUFFER_FLUSHING,this.onBufferFlushing,this),r.off(S.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(r,l){this.media=l.media}onMediaDetaching(){this.id3Track&&(ir(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(r){const l=this.getID3Track(r.textTracks);return l.mode="hidden",l}getID3Track(r){if(this.media){for(let l=0;l<r.length;l++){const h=r[l];if("metadata"===h.kind&&"id3"===h.label)return Yi(h,this.media),h}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(r,l){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:h,enableID3MetadataCues:M}}}=this;if(!h&&!M)return;const{samples:k}=l;this.id3Track||(this.id3Track=this.createTrack(this.media));const H=Xo();for(let te=0;te<k.length;te++){const De=k[te].type;if(De===xr_emsg&&!h||!M)continue;const Pe=Ee(k[te].data);if(Pe){const lt=k[te].pts;let pt=lt+k[te].duration;pt>ws&&(pt=ws),pt-lt<=0&&(pt=lt+.25);for(let jt=0;jt<Pe.length;jt++){const Xt=Pe[jt];if(!_e(Xt)){this.updateId3CueEnds(lt,De);const cn=new H(lt,pt,"");cn.value=Xt,De&&(cn.type=De),this.id3Track.addCue(cn)}}}}}updateId3CueEnds(r,l){var h;const M=null==(h=this.id3Track)?void 0:h.cues;if(M)for(let k=M.length;k--;){const H=M[k];H.type===l&&H.startTime<r&&H.endTime===ws&&(H.endTime=r)}}onBufferFlushing(r,{startOffset:l,endOffset:h,type:M}){const{id3Track:k,hls:H}=this;if(!H)return;const{config:{enableEmsgMetadataCues:te,enableID3MetadataCues:De}}=H;if(k&&(te||De)){let Pe;Pe="audio"===M?lt=>"org.id3"===lt.type&&De:"video"===M?lt=>lt.type===xr_emsg&&te:lt=>"org.id3"===lt.type&&De||lt.type===xr_emsg&&te,lo(k,l,h,Pe)}}onLevelUpdated(r,{details:l}){if(!this.media||!l.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:h,id3Track:M}=this,{dateRanges:k}=l,H=Object.keys(k);if(M){const lt=Object.keys(h).filter(pt=>!H.includes(pt));for(let pt=lt.length;pt--;){const Bt=lt[pt];Object.keys(h[Bt].cues).forEach(jt=>{M.removeCue(h[Bt].cues[jt])}),delete h[Bt]}}const te=l.fragments[l.fragments.length-1];if(0===H.length||!g(te?.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const De=te.programDateTime/1e3-te.start,Pe=Xo();for(let lt=0;lt<H.length;lt++){const pt=H[lt],Bt=k[pt],jt=h[pt],Xt=jt?.cues||{};let cn=jt?.durationKnown||!1;const bn=Sr(Bt.startDate,De);let Bn=ws;const ti=Bt.endDate;if(ti)Bn=Sr(ti,De),cn=!0;else if(Bt.endOnNext&&!cn){const ui=H.reduce((oi,Di)=>{const pi=k[Di];return pi.class===Bt.class&&pi.id!==Di&&pi.startDate>Bt.startDate&&oi.push(pi),oi},[]).sort((oi,Di)=>oi.startDate.getTime()-Di.startDate.getTime())[0];ui&&(Bn=Sr(ui.startDate,De),cn=!0)}const zn=Object.keys(Bt.attr);for(let ui=0;ui<zn.length;ui++){const oi=zn[ui];if("ID"===(V=oi)||"CLASS"===V||"START-DATE"===V||"DURATION"===V||"END-DATE"===V||"END-ON-NEXT"===V)continue;let Di=Xt[oi];if(Di)cn&&!jt.durationKnown&&(Di.endTime=Bn);else{let pi=Bt.attr[oi];Di=new Pe(bn,Bn,""),Fe(oi)&&(pi=yi(pi)),Di.value={key:oi,data:pi},Di.type="com.apple.quicktime.HLS",Di.id=pt,this.id3Track.addCue(Di),Xt[oi]=Di}}h[pt]={cues:Xt,dateRange:Bt,durationKnown:cn}}var V}}class Rr{constructor(r){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=r,this.config=r.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:r,levelDetails:l}=this;return void 0!==r.liveMaxLatencyDuration?r.liveMaxLatencyDuration:l?r.liveMaxLatencyDurationCount*l.targetduration:0}get targetLatency(){const{levelDetails:r}=this;if(null===r)return null;const{holdBack:l,partHoldBack:h,targetduration:M}=r,{liveSyncDuration:k,liveSyncDurationCount:H,lowLatencyMode:te}=this.config,De=this.hls.userConfig;let Pe=te&&h||l;return(De.liveSyncDuration||De.liveSyncDurationCount||0===Pe)&&(Pe=void 0!==k?k:H*M),Pe+Math.min(1*this.stallCount,M)}get liveSyncPosition(){const r=this.estimateLiveEdge(),l=this.targetLatency,h=this.levelDetails;if(null===r||null===l||null===h)return null;const M=h.edge,te=M-(this.config.lowLatencyMode&&h.partTarget||h.targetduration);return Math.min(Math.max(M-h.totalduration,r-l-this.edgeStalled),te)}get drift(){const{levelDetails:r}=this;return null===r?1:r.drift}get edgeStalled(){const{levelDetails:r}=this;return null===r?0:Math.max(r.age-3*(this.config.lowLatencyMode&&r.partTarget||r.targetduration),0)}get forwardBufferLength(){const{media:r,levelDetails:l}=this;if(!r||!l)return 0;const h=r.buffered.length;return(h?r.buffered.end(h-1):l.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(S.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(S.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(S.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(S.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(S.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(S.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(S.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(S.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(S.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(S.ERROR,this.onError,this)}onMediaAttached(r,l){this.media=l.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(r,{details:l}){this.levelDetails=l,l.advanced&&this.timeupdate(),!l.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(r,l){var h;l.details===A.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(h=this.levelDetails)&&h.live&&y.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:r,levelDetails:l}=this;if(!r||!l)return;this.currentTime=r.currentTime;const h=this.computeLatency();if(null===h)return;this._latency=h;const{lowLatencyMode:M,maxLiveSyncPlaybackRate:k}=this.config;if(!M||1===k)return;const H=this.targetLatency;if(null===H)return;const te=h-H,De=Math.min(this.maxLatency,H+l.targetduration);if(l.live&&te<De&&te>.05&&this.forwardBufferLength>1){const lt=Math.min(2,Math.max(1,k)),pt=Math.round(2/(1+Math.exp(-.75*te-this.edgeStalled))*20)/20;r.playbackRate=Math.min(lt,Math.max(1,pt))}else 1!==r.playbackRate&&0!==r.playbackRate&&(r.playbackRate=1)}estimateLiveEdge(){const{levelDetails:r}=this;return null===r?null:r.edge+r.age}computeLatency(){const r=this.estimateLiveEdge();return null===r?null:r-this.currentTime}}const Wr=["NONE","TYPE-0","TYPE-1",null];class go{constructor(r,l,h){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=r,this.part=l,this.skip=h}addDirectives(r){const l=new self.URL(r);return void 0!==this.msn&&l.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&l.searchParams.set("_HLS_part",this.part.toString()),this.skip&&l.searchParams.set("_HLS_skip",this.skip),l.href}}class Dn{constructor(r){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[r.url],this._attrs=[r.attrs],this.bitrate=r.bitrate,r.details&&(this.details=r.details),this.id=r.id||0,this.name=r.name,this.width=r.width||0,this.height=r.height||0,this.audioCodec=r.audioCodec,this.videoCodec=r.videoCodec,this.unknownCodecs=r.unknownCodecs,this.codecSet=[r.videoCodec,r.audioCodec].filter(l=>l).join(",").replace(/\.[^.,]+/g,"")}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get attrs(){return this._attrs[this._urlId]}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get uri(){return this.url[this._urlId]||""}get urlId(){return this._urlId}set urlId(r){const l=r%this.url.length;this._urlId!==l&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=l)}get audioGroupId(){var r;return null==(r=this.audioGroupIds)?void 0:r[this.urlId]}get textGroupId(){var r;return null==(r=this.textGroupIds)?void 0:r[this.urlId]}addFallback(r){this.url.push(r.url),this._attrs.push(r.attrs)}}function qn(V,r){const l=r.startPTS;if(g(l)){let M,h=0;r.sn>V.sn?(h=l-V.start,M=V):(h=V.start-l,M=r),M.duration!==h&&(M.duration=h)}else r.start=r.sn>V.sn?V.cc===r.cc&&V.minEndPTS?V.start+(V.minEndPTS-V.start):V.start+V.duration:Math.max(V.start-r.duration,0)}function hi(V,r,l,h,M,k){h-l<=0&&(y.warn("Fragment should have a positive duration",r),h=l+r.duration,k=M+r.duration);let te=l,De=h;const Pe=r.startPTS,lt=r.endPTS;if(g(Pe)){const bn=Math.abs(Pe-l);r.deltaPTS=g(r.deltaPTS)?Math.max(bn,r.deltaPTS):bn,te=Math.max(l,Pe),l=Math.min(l,Pe),M=Math.min(M,r.startDTS),De=Math.min(h,lt),h=Math.max(h,lt),k=Math.max(k,r.endDTS)}const pt=l-r.start;0!==r.start&&(r.start=l),r.duration=h-r.start,r.startPTS=l,r.maxStartPTS=te,r.startDTS=M,r.endPTS=h,r.minEndPTS=De,r.endDTS=k;const Bt=r.sn;if(!V||Bt<V.startSN||Bt>V.endSN)return 0;let jt;const Xt=Bt-V.startSN,cn=V.fragments;for(cn[Xt]=r,jt=Xt;jt>0;jt--)qn(cn[jt],cn[jt-1]);for(jt=Xt;jt<cn.length-1;jt++)qn(cn[jt],cn[jt+1]);return V.fragmentHint&&qn(cn[cn.length-1],V.fragmentHint),V.PTSKnown=V.alignedSliding=!0,pt}function Ki(V,r){const l=r.startSN+r.skippedSegments-V.startSN,h=V.fragments;l<0||l>=h.length||Ir(r,h[l].start)}function Ir(V,r){if(r){const l=V.fragments;for(let h=V.skippedSegments;h<l.length;h++)l[h].start+=r;V.fragmentHint&&(V.fragmentHint.start+=r)}}function Bo(V,r,l){var h;return null!=V&&V.details?Ks(null==(h=V.details)?void 0:h.partList,r,l):null}function Ks(V,r,l){if(V)for(let h=V.length;h--;){const M=V[h];if(M.index===l&&M.fragment.sn===r)return M}return null}function eo(V){switch(V.details){case A.FRAG_LOAD_TIMEOUT:case A.KEY_LOAD_TIMEOUT:case A.LEVEL_LOAD_TIMEOUT:case A.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function yo(V,r){const l=eo(r);return V.default[(l?"timeout":"error")+"Retry"]}function cs(V,r){const l="linear"===V.backoff?1:Math.pow(2,r);return Math.min(l*V.retryDelayMs,V.maxRetryDelayMs)}function ds(V){return m(m({},V),{errorRetry:null,timeoutRetry:null})}function cr(V,r,l,h){return!!V&&r<V.maxNumRetry&&(function Ga(V){return 0===V&&!1===navigator.onLine||!!V&&(V<400||V>499)}(h)||!!l)}const es={search:function(V,r){let l=0,h=V.length-1,M=null,k=null;for(;l<=h;){M=(l+h)/2|0,k=V[M];const H=r(k);if(H>0)l=M+1;else{if(!(H<0))return k;h=M-1}}return null}};function uo(V,r,l=0,h=0){let M=null;if(V?M=r[V.sn-r[0].sn+1]||null:0===l&&0===r[0].start&&(M=r[0]),M&&0===us(l,h,M))return M;const k=es.search(r,us.bind(null,l,h));return!k||k===V&&M?M:k}function us(V=0,r=0,l){if(l.start<=V&&l.start+l.duration>V)return 0;const h=Math.min(r,l.duration+(l.deltaPTS?l.deltaPTS:0));return l.start+l.duration-h<=V?1:l.start-h>V&&l.start?-1:0}function Os(V,r,l){const h=1e3*Math.min(r,l.duration+(l.deltaPTS?l.deltaPTS:0));return(l.endProgramDateTime||0)-h>V}function ha(V,r,l){if(performance.now()-V.lastErrorPerfMs>3e5)return!0;const h=V.details;if(r.details===A.FRAG_GAP&&h&&r.frag){const k=uo(null,h.fragments,r.frag.start);if(k&&!k.gap)return!0}if(l&&V.errors.length<l.errors.length){const M=V.errors[V.errors.length-1];if(h&&M.frag&&r.frag&&Math.abs(M.frag.start-r.frag.start)>3*h.targetduration)return!0}return!1}class Ao{constructor(r,l){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=y.log.bind(y,`${l}:`),this.warn=y.warn.bind(y,`${l}:`),this.hls=r}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){clearTimeout(this.timer),this.timer=-1}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(r,l){const h=l?.renditionReports;if(h){let M=-1;for(let k=0;k<h.length;k++){const H=h[k];let te;try{te=new self.URL(H.URI,l.url).href}catch(De){y.warn(`Could not construct new URL for Rendition Report: ${De}`),te=H.URI||""}if(te===r){M=k;break}te===r.substring(0,te.length)&&(M=k)}if(-1!==M){const k=h[M],H=parseInt(k["LAST-MSN"])||l?.lastPartSn;let te=parseInt(k["LAST-PART"])||l?.lastPartIndex;if(this.hls.config.lowLatencyMode){const De=Math.min(l.age-l.partTarget,l.targetduration);te>=0&&De>l.partTarget&&(te+=1)}return new go(H,te>=0?te:void 0,"")}}}loadPlaylist(r){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(r){return this.canLoad&&!!r&&!!r.url&&(!r.details||r.details.live)}shouldReloadPlaylist(r){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(r)}playlistLoaded(r,l,h){const{details:M,stats:k}=l,H=self.performance.now(),te=k.loading.first?Math.max(0,H-k.loading.first):0;if(M.advancedDateTime=Date.now()-te,M.live||null!=h&&h.live){if(M.reloaded(h),h&&this.log(`live playlist ${r} ${M.advanced?"REFRESHED "+M.lastPartSn+"-"+M.lastPartIndex:"MISSED"}`),h&&M.fragments.length>0&&function ci(V,r){let l=null;const h=V.fragments;for(let De=h.length-1;De>=0;De--){const Pe=h[De].initSegment;if(Pe){l=Pe;break}}V.fragmentHint&&delete V.fragmentHint.endPTS;let k,M=0;if(function or(V,r,l){const h=r.skippedSegments,M=Math.max(V.startSN,r.startSN)-r.startSN,k=(V.fragmentHint?1:0)+(h?r.endSN:Math.min(V.endSN,r.endSN))-r.startSN,H=r.startSN-V.startSN,te=r.fragmentHint?r.fragments.concat(r.fragmentHint):r.fragments,De=V.fragmentHint?V.fragments.concat(V.fragmentHint):V.fragments;for(let Pe=M;Pe<=k;Pe++){const lt=De[H+Pe];let pt=te[Pe];h&&!pt&&Pe<h&&(pt=r.fragments[Pe]=lt),lt&&pt&&l(lt,pt)}}(V,r,(De,Pe)=>{De.relurl&&(M=De.cc-Pe.cc),g(De.startPTS)&&g(De.endPTS)&&(Pe.start=Pe.startPTS=De.startPTS,Pe.startDTS=De.startDTS,Pe.maxStartPTS=De.maxStartPTS,Pe.endPTS=De.endPTS,Pe.endDTS=De.endDTS,Pe.minEndPTS=De.minEndPTS,Pe.duration=De.endPTS-De.startPTS,Pe.duration&&(k=Pe),r.PTSKnown=r.alignedSliding=!0),Pe.elementaryStreams=De.elementaryStreams,Pe.loader=De.loader,Pe.stats=De.stats,Pe.urlId=De.urlId,De.initSegment&&(Pe.initSegment=De.initSegment,l=De.initSegment)}),l&&(r.fragmentHint?r.fragments.concat(r.fragmentHint):r.fragments).forEach(Pe=>{var lt;(!Pe.initSegment||Pe.initSegment.relurl===(null==(lt=l)?void 0:lt.relurl))&&(Pe.initSegment=l)}),r.skippedSegments)if(r.deltaUpdateFailed=r.fragments.some(De=>!De),r.deltaUpdateFailed){y.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let De=r.skippedSegments;De--;)r.fragments.shift();r.startSN=r.fragments[0].sn,r.startCC=r.fragments[0].cc}else r.canSkipDateRanges&&(r.dateRanges=function Ui(V,r,l){const h=c({},V);return l&&l.forEach(M=>{delete h[M]}),Object.keys(r).forEach(M=>{const k=new Y(r[M].attr,h[M]);k.isValid?h[M]=k:y.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(r[M].attr)}"`)}),h}(V.dateRanges,r.dateRanges,r.recentlyRemovedDateranges));const H=r.fragments;if(M){y.warn("discontinuity sliding from playlist, take drift into account");for(let De=0;De<H.length;De++)H[De].cc+=M}r.skippedSegments&&(r.startCC=r.fragments[0].cc),function Ji(V,r,l){if(V&&r){let h=0;for(let M=0,k=V.length;M<=k;M++){const H=V[M],te=r[M+h];H&&te&&H.index===te.index&&H.fragment.sn===te.fragment.sn?l(H,te):h--}}}(V.partList,r.partList,(De,Pe)=>{Pe.elementaryStreams=De.elementaryStreams,Pe.stats=De.stats}),k?hi(r,k,k.startPTS,k.endPTS,k.startDTS,k.endDTS):Ki(V,r),H.length&&(r.totalduration=r.edge-H[0].start),r.driftStartTime=V.driftStartTime,r.driftStart=V.driftStart;const te=r.advancedDateTime;if(r.advanced&&te){const De=r.edge;r.driftStart||(r.driftStartTime=te,r.driftStart=De),r.driftEndTime=te,r.driftEnd=De}else r.driftEndTime=V.driftEndTime,r.driftEnd=V.driftEnd,r.advancedDateTime=V.advancedDateTime}(h,M),!this.canLoad||!M.live)return;let De,Pe,lt;if(M.canBlockReload&&M.endSN&&M.advanced){const bn=this.hls.config.lowLatencyMode,Bn=M.lastPartSn,ti=M.endSN,zn=M.lastPartIndex,oi=Bn===ti;-1!==zn?(Pe=oi?ti+1:Bn,lt=oi?bn?0:zn:zn+1):Pe=ti+1;const pi=M.age;let Ii=Math.min(pi+M.ageHeader-M.partTarget,1.5*M.targetduration);if(Ii>0){if(h&&Ii>h.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${h.tuneInGoal} to: ${Ii} with playlist age: ${M.age}`),Ii=0;else{const li=Math.floor(Ii/M.targetduration);Pe+=li,void 0!==lt&&(lt+=Math.round(Ii%M.targetduration/M.partTarget)),this.log(`CDN Tune-in age: ${M.ageHeader}s last advanced ${pi.toFixed(2)}s goal: ${Ii} skip sn ${li} to part ${lt}`)}M.tuneInGoal=Ii}if(De=this.getDeliveryDirectives(M,l.deliveryDirectives,Pe,lt),bn||!oi)return void this.loadPlaylist(De)}else M.canBlockReload&&(De=this.getDeliveryDirectives(M,l.deliveryDirectives,Pe,lt));const pt=this.hls.mainForwardBufferInfo,Xt=function Oo(V,r=1/0){let l=1e3*V.targetduration;if(V.updated){const h=V.fragments;if(h.length&&4*l>r){const k=1e3*h[h.length-1].duration;k<l&&(l=k)}}else l/=2;return Math.round(l)}(M,1e3*(M.edge-(pt?pt.end-pt.len:0)));M.updated&&H>this.requestScheduled+Xt&&(this.requestScheduled=k.loading.start),void 0!==Pe&&M.canBlockReload?this.requestScheduled=k.loading.first+Xt-(1e3*M.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+Xt<H?this.requestScheduled=H:this.requestScheduled-H<=0&&(this.requestScheduled+=Xt);let cn=this.requestScheduled-H;cn=Math.max(0,cn),this.log(`reload live playlist ${r} in ${Math.round(cn)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(De),cn)}else this.clearTimer()}getDeliveryDirectives(r,l,h,M){let k=function Jr(V,r){const{canSkipUntil:l,canSkipDateRanges:h,endSN:M}=V;return l&&(void 0!==r?r-M:0)<l?h?"v2":"YES":""}(r,h);return null!=l&&l.skip&&r.deltaUpdateFailed&&(h=l.msn,M=l.part,k=""),new go(h,M,k)}checkRetry(r){const l=r.details,h=eo(r),M=r.errorAction,{action:k,retryCount:H=0,retryConfig:te}=M||{},De=!!M&&!!te&&(5===k||!M.resolved&&2===k);if(De){var Pe;if(this.requestScheduled=-1,H>=te.maxNumRetry)return!1;if(h&&null!=(Pe=r.context)&&Pe.deliveryDirectives)this.warn(`Retrying playlist loading ${H+1}/${te.maxNumRetry} after "${l}" without delivery-directives`),this.loadPlaylist();else{const lt=cs(te,H);this.timer=self.setTimeout(()=>this.loadPlaylist(),lt),this.warn(`Retrying playlist loading ${H+1}/${te.maxNumRetry} after "${l}" in ${lt}ms`)}r.levelRetry=!0,M.resolved=!0}return De}}let Fr;class pr extends Ao{constructor(r,l){super(r,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=l,this._registerListeners()}_registerListeners(){const{hls:r}=this;r.on(S.MANIFEST_LOADING,this.onManifestLoading,this),r.on(S.MANIFEST_LOADED,this.onManifestLoaded,this),r.on(S.LEVEL_LOADED,this.onLevelLoaded,this),r.on(S.LEVELS_UPDATED,this.onLevelsUpdated,this),r.on(S.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),r.on(S.FRAG_LOADED,this.onFragLoaded,this),r.on(S.ERROR,this.onError,this)}_unregisterListeners(){const{hls:r}=this;r.off(S.MANIFEST_LOADING,this.onManifestLoading,this),r.off(S.MANIFEST_LOADED,this.onManifestLoaded,this),r.off(S.LEVEL_LOADED,this.onLevelLoaded,this),r.off(S.LEVELS_UPDATED,this.onLevelsUpdated,this),r.off(S.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),r.off(S.FRAG_LOADED,this.onFragLoaded,this),r.off(S.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}startLoad(){this._levels.forEach(l=>{l.loadError=0,l.fragmentError=0}),super.startLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]}onManifestLoading(r,l){this.resetLevels()}onManifestLoaded(r,l){const h=[],M={};let k;l.levels.forEach(H=>{var te;const De=H.attrs;-1!==(null==(te=H.audioCodec)?void 0:te.indexOf("mp4a.40.34"))&&(Fr||(Fr=/chrome|firefox/i.test(navigator.userAgent)),Fr&&(H.audioCodec=void 0));const{AUDIO:Pe,CODECS:lt,"FRAME-RATE":pt,"PATHWAY-ID":Bt,RESOLUTION:jt,SUBTITLES:Xt}=De,bn=`${Bt||"."}-${H.bitrate}-${jt}-${pt}-${lt}`;k=M[bn],k?k.addFallback(H):(k=new Dn(H),M[bn]=k,h.push(k)),Uo(k,"audio",Pe),Uo(k,"text",Xt)}),this.filterAndSortMediaOptions(h,l)}filterAndSortMediaOptions(r,l){let h=[],M=[],k=!1,H=!1,te=!1,De=r.filter(({audioCodec:jt,videoCodec:Xt,width:cn,height:bn,unknownCodecs:Bn})=>(k||(k=!(!cn||!bn)),H||(H=!!Xt),te||(te=!!jt),!(null!=Bn&&Bn.length)&&(!jt||en(jt,"audio"))&&(!Xt||en(Xt,"video"))));if((k||H)&&te&&(De=De.filter(({videoCodec:jt,width:Xt,height:cn})=>!!jt||!(!Xt||!cn))),0===De.length)return void Promise.resolve().then(()=>{if(this.hls){const jt=new Error("no level with compatible codecs found in manifest");this.hls.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:l.url,error:jt,reason:jt.message})}});l.audioTracks&&(h=l.audioTracks.filter(jt=>!jt.audioCodec||en(jt.audioCodec,"audio")),Ys(h)),l.subtitles&&(M=l.subtitles,Ys(M));const Pe=De.slice(0);De.sort((jt,Xt)=>jt.attrs["HDCP-LEVEL"]!==Xt.attrs["HDCP-LEVEL"]?(jt.attrs["HDCP-LEVEL"]||"")>(Xt.attrs["HDCP-LEVEL"]||"")?1:-1:jt.bitrate!==Xt.bitrate?jt.bitrate-Xt.bitrate:jt.attrs["FRAME-RATE"]!==Xt.attrs["FRAME-RATE"]?jt.attrs.decimalFloatingPoint("FRAME-RATE")-Xt.attrs.decimalFloatingPoint("FRAME-RATE"):jt.attrs.SCORE!==Xt.attrs.SCORE?jt.attrs.decimalFloatingPoint("SCORE")-Xt.attrs.decimalFloatingPoint("SCORE"):k&&jt.height!==Xt.height?jt.height-Xt.height:0);let lt=Pe[0];if(this.steering&&(De=this.steering.filterParsedLevels(De),De.length!==Pe.length))for(let jt=0;jt<Pe.length;jt++)if(Pe[jt].pathwayId===De[0].pathwayId){lt=Pe[jt];break}this._levels=De;for(let jt=0;jt<De.length;jt++)if(De[jt]===lt){this._firstLevel=jt,this.log(`manifest loaded, ${De.length} level(s) found, first bitrate: ${lt.bitrate}`);break}const Bt={levels:De,audioTracks:h,subtitleTracks:M,sessionData:l.sessionData,sessionKeys:l.sessionKeys,firstLevel:this._firstLevel,stats:l.stats,audio:te,video:H,altAudio:!(te&&!H)&&h.some(jt=>!!jt.url)};this.hls.trigger(S.MANIFEST_PARSED,Bt),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return 0===this._levels.length?null:this._levels}get level(){return this.currentLevelIndex}set level(r){const l=this._levels;if(0===l.length)return;if(r<0||r>=l.length){const lt=new Error("invalid level idx"),pt=r<0;if(this.hls.trigger(S.ERROR,{type:x.OTHER_ERROR,details:A.LEVEL_SWITCH_ERROR,level:r,fatal:pt,error:lt,reason:lt.message}),pt)return;r=Math.min(r,l.length-1)}const h=this.currentLevelIndex,M=this.currentLevel,k=M?M.attrs["PATHWAY-ID"]:void 0,H=l[r],te=H.attrs["PATHWAY-ID"];if(this.currentLevelIndex=r,this.currentLevel=H,h===r&&H.details&&M&&k===te)return;this.log(`Switching to level ${r}${te?" with Pathway "+te:""} from level ${h}${k?" with Pathway "+k:""}`);const De=c({},H,{level:r,maxBitrate:H.maxBitrate,attrs:H.attrs,uri:H.uri,urlId:H.urlId});delete De._attrs,delete De._urlId,this.hls.trigger(S.LEVEL_SWITCHING,De);const Pe=H.details;if(!Pe||Pe.live){const lt=this.switchParams(H.uri,M?.details);this.loadPlaylist(lt)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(r){this.manualLevelIndex=r,void 0===this._startLevel&&(this._startLevel=r),-1!==r&&(this.level=r)}get firstLevel(){return this._firstLevel}set firstLevel(r){this._firstLevel=r}get startLevel(){if(void 0===this._startLevel){const r=this.hls.config.startLevel;return void 0!==r?r:this._firstLevel}return this._startLevel}set startLevel(r){this._startLevel=r}onError(r,l){l.fatal||!l.context||"level"===l.context.type&&l.context.level===this.level&&this.checkRetry(l)}onFragLoaded(r,{frag:l}){if(void 0!==l&&"main"===l.type){const h=this._levels[l.level];void 0!==h&&(h.loadError=0)}}onLevelLoaded(r,l){var h;const{level:M,details:k}=l,H=this._levels[M];var te;if(!H)return this.warn(`Invalid level index ${M}`),void(null!=(te=l.deliveryDirectives)&&te.skip&&(k.deltaUpdateFailed=!0));M===this.currentLevelIndex?(0===H.fragmentError&&(H.loadError=0),this.playlistLoaded(M,l,H.details)):null!=(h=l.deliveryDirectives)&&h.skip&&(k.deltaUpdateFailed=!0)}onAudioTrackSwitched(r,l){const h=this.currentLevel;if(!h)return;const M=this.hls.audioTracks[l.id].groupId;if(h.audioGroupIds&&h.audioGroupId!==M){let k=-1;for(let H=0;H<h.audioGroupIds.length;H++)if(h.audioGroupIds[H]===M){k=H;break}-1!==k&&k!==h.urlId&&(h.urlId=k,this.canLoad&&this.startLoad())}}loadPlaylist(r){super.loadPlaylist();const l=this.currentLevelIndex,h=this.currentLevel;if(h&&this.shouldLoadPlaylist(h)){const M=h.urlId;let k=h.uri;if(r)try{k=r.addDirectives(k)}catch(te){this.warn(`Could not construct new URL with HLS Delivery Directives: ${te}`)}const H=h.attrs["PATHWAY-ID"];this.log(`Loading level index ${l}${void 0!==r?.msn?" at sn "+r.msn+" part "+r.part:""} with${H?" Pathway "+H:""} URI ${M+1}/${h.url.length} ${k}`),this.clearTimer(),this.hls.trigger(S.LEVEL_LOADING,{url:k,level:l,id:M,deliveryDirectives:r||null})}}get nextLoadLevel(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(r){this.level=r,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=r)}removeLevel(r,l){const h=(k,H)=>H!==l,M=this._levels.filter((k,H)=>H!==r||(k.url.length>1&&void 0!==l?(k.url=k.url.filter(h),k.audioGroupIds&&(k.audioGroupIds=k.audioGroupIds.filter(h)),k.textGroupIds&&(k.textGroupIds=k.textGroupIds.filter(h)),k.urlId=0,!0):(this.steering&&this.steering.removeLevel(k),!1)));this.hls.trigger(S.LEVELS_UPDATED,{levels:M})}onLevelsUpdated(r,{levels:l}){l.forEach((h,M)=>{const{details:k}=h;null!=k&&k.fragments&&k.fragments.forEach(H=>{H.level=M})}),this._levels=l}}function Uo(V,r,l){l&&("audio"===r?(V.audioGroupIds||(V.audioGroupIds=[]),V.audioGroupIds[V.url.length-1]=l):"text"===r&&(V.textGroupIds||(V.textGroupIds=[]),V.textGroupIds[V.url.length-1]=l))}function Ys(V){const r={};V.forEach(l=>{const h=l.groupId||"";l.id=r[h]=r[h]||0,r[h]++})}class Es{constructor(r){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=r,this._registerListeners()}_registerListeners(){const{hls:r}=this;r.on(S.BUFFER_APPENDED,this.onBufferAppended,this),r.on(S.FRAG_BUFFERED,this.onFragBuffered,this),r.on(S.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:r}=this;r.off(S.BUFFER_APPENDED,this.onBufferAppended,this),r.off(S.FRAG_BUFFERED,this.onFragBuffered,this),r.off(S.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(r,l){const h=this.activePartLists[l];if(h)for(let M=h.length;M--;){const k=h[M];if(!k)break;const H=k.end;if(k.start<=r&&null!==H&&r<=H)return k}return this.getBufferedFrag(r,l)}getBufferedFrag(r,l){const{fragments:h}=this,M=Object.keys(h);for(let k=M.length;k--;){const H=h[M[k]];if(H?.body.type===l&&H.buffered){const te=H.body;if(te.start<=r&&r<=te.end)return te}}return null}detectEvictedFragments(r,l,h,M){this.timeRanges&&(this.timeRanges[r]=l);const k=M?.fragment.sn||-1;Object.keys(this.fragments).forEach(H=>{const te=this.fragments[H];if(!te||k>=te.body.sn)return;if(!te.buffered&&!te.loaded)return void(te.body.type===h&&this.removeFragment(te.body));const De=te.range[r];De&&De.time.some(Pe=>{const lt=!this.isTimeBuffered(Pe.startPTS,Pe.endPTS,l);return lt&&this.removeFragment(te.body),lt})})}detectPartialFragments(r){const l=this.timeRanges,{frag:h,part:M}=r;if(!l||"initSegment"===h.sn)return;const k=Rs(h),H=this.fragments[k];if(!H||H.buffered&&h.gap)return;const te=!h.relurl;Object.keys(l).forEach(De=>{const Pe=h.elementaryStreams[De];Pe&&(H.range[De]=this.getBufferedTimes(h,M,te||!0===Pe.partial,l[De]))}),H.loaded=null,Object.keys(H.range).length?(H.buffered=!0,H.body.endList&&(this.endListFragments[H.body.type]=H),Zo(H)||this.removeParts(h.sn-1,h.type)):this.removeFragment(H.body)}removeParts(r,l){const h=this.activePartLists[l];h&&(this.activePartLists[l]=h.filter(M=>M.fragment.sn>=r))}fragBuffered(r,l){const h=Rs(r);let M=this.fragments[h];!M&&l&&(M=this.fragments[h]={body:r,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},r.gap&&(this.hasGaps=!0)),M&&(M.loaded=null,M.buffered=!0)}getBufferedTimes(r,l,h,M){const k={time:[],partial:h},H=r.start,te=r.end,De=r.minEndPTS||te,Pe=r.maxStartPTS||H;for(let lt=0;lt<M.length;lt++){const pt=M.start(lt)-this.bufferPadding,Bt=M.end(lt)+this.bufferPadding;if(Pe>=pt&&De<=Bt){k.time.push({startPTS:Math.max(H,M.start(lt)),endPTS:Math.min(te,M.end(lt))});break}if(H<Bt&&te>pt)k.partial=!0,k.time.push({startPTS:Math.max(H,M.start(lt)),endPTS:Math.min(te,M.end(lt))});else if(te<=pt)break}return k}getPartialFragment(r){let h,M,k,l=null,H=0;const{bufferPadding:te,fragments:De}=this;return Object.keys(De).forEach(Pe=>{const lt=De[Pe];lt&&Zo(lt)&&(M=lt.body.start-te,k=lt.body.end+te,r>=M&&r<=k&&(h=Math.min(r-M,k-r),H<=h&&(l=lt.body,H=h)))}),l}isEndListAppended(r){const l=this.endListFragments[r];return void 0!==l&&(l.buffered||Zo(l))}getState(r){const l=Rs(r),h=this.fragments[l];return h?h.buffered?Zo(h)?"PARTIAL":"OK":"APPENDING":"NOT_LOADED"}isTimeBuffered(r,l,h){let M,k;for(let H=0;H<h.length;H++){if(M=h.start(H)-this.bufferPadding,k=h.end(H)+this.bufferPadding,r>=M&&l<=k)return!0;if(l<=M)return!1}return!1}onFragLoaded(r,l){const{frag:h,part:M}=l;if("initSegment"===h.sn||h.bitrateTest)return;const k=M?null:l,H=Rs(h);this.fragments[H]={body:h,appendedPTS:null,loaded:k,buffered:!1,range:Object.create(null)}}onBufferAppended(r,l){const{frag:h,part:M,timeRanges:k}=l;if("initSegment"===h.sn)return;const H=h.type;if(M){let te=this.activePartLists[H];te||(this.activePartLists[H]=te=[]),te.push(M)}this.timeRanges=k,Object.keys(k).forEach(te=>{this.detectEvictedFragments(te,k[te],H,M)})}onFragBuffered(r,l){this.detectPartialFragments(l)}hasFragment(r){const l=Rs(r);return!!this.fragments[l]}hasParts(r){var l;return!(null==(l=this.activePartLists[r])||!l.length)}removeFragmentsInRange(r,l,h,M,k){M&&!this.hasGaps||Object.keys(this.fragments).forEach(H=>{const te=this.fragments[H];if(!te)return;const De=te.body;De.type!==h||M&&!De.gap||De.start<l&&De.end>r&&(te.buffered||k)&&this.removeFragment(De)})}removeFragment(r){const l=Rs(r);r.stats.loaded=0,r.clearElementaryStreamInfo();const h=this.activePartLists[r.type];if(h){const M=r.sn;this.activePartLists[r.type]=h.filter(k=>k.fragment.sn!==M)}delete this.fragments[l],r.endList&&delete this.endListFragments[r.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function Zo(V){var r,l,h;return V.buffered&&(V.body.gap||(null==(r=V.range.video)?void 0:r.partial)||(null==(l=V.range.audio)?void 0:l.partial)||(null==(h=V.range.audiovideo)?void 0:h.partial))}function Rs(V){return`${V.type}_${V.level}_${V.urlId}_${V.sn}`}const Da=Math.pow(2,17);class ks{constructor(r){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=r}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(r,l){const h=r.url;if(!h)return Promise.reject(new ts({type:x.NETWORK_ERROR,details:A.FRAG_LOAD_ERROR,fatal:!1,frag:r,error:new Error("Fragment does not have a "+(h?"part list":"url")),networkDetails:null}));this.abort();const M=this.config,k=M.fLoader,H=M.loader;return new Promise((te,De)=>{if(this.loader&&this.loader.destroy(),r.gap){if(r.tagList.some(jt=>"GAP"===jt[0]))return void De(Fs(r));r.gap=!1}const Pe=this.loader=r.loader=k?new k(M):new H(M),lt=bo(r),pt=ds(M.fragLoadPolicy.default),Bt={loadPolicy:pt,timeout:pt.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===r.sn?1/0:Da};r.stats=Pe.stats,Pe.load(lt,Bt,{onSuccess:(jt,Xt,cn,bn)=>{this.resetLoader(r,Pe);let Bn=jt.data;cn.resetIV&&r.decryptdata&&(r.decryptdata.iv=new Uint8Array(Bn.slice(0,16)),Bn=Bn.slice(16)),te({frag:r,part:null,payload:Bn,networkDetails:bn})},onError:(jt,Xt,cn,bn)=>{this.resetLoader(r,Pe),De(new ts({type:x.NETWORK_ERROR,details:A.FRAG_LOAD_ERROR,fatal:!1,frag:r,response:m({url:h,data:void 0},jt),error:new Error(`HTTP Error ${jt.code} ${jt.text}`),networkDetails:cn,stats:bn}))},onAbort:(jt,Xt,cn)=>{this.resetLoader(r,Pe),De(new ts({type:x.NETWORK_ERROR,details:A.INTERNAL_ABORTED,fatal:!1,frag:r,error:new Error("Aborted"),networkDetails:cn,stats:jt}))},onTimeout:(jt,Xt,cn)=>{this.resetLoader(r,Pe),De(new ts({type:x.NETWORK_ERROR,details:A.FRAG_LOAD_TIMEOUT,fatal:!1,frag:r,error:new Error(`Timeout after ${Bt.timeout}ms`),networkDetails:cn,stats:jt}))},onProgress:(jt,Xt,cn,bn)=>{l&&l({frag:r,part:null,payload:cn,networkDetails:bn})}})})}loadPart(r,l,h){this.abort();const M=this.config,k=M.fLoader,H=M.loader;return new Promise((te,De)=>{if(this.loader&&this.loader.destroy(),r.gap||l.gap)return void De(Fs(r,l));const Pe=this.loader=r.loader=k?new k(M):new H(M),lt=bo(r,l),pt=ds(M.fragLoadPolicy.default),Bt={loadPolicy:pt,timeout:pt.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:Da};l.stats=Pe.stats,Pe.load(lt,Bt,{onSuccess:(jt,Xt,cn,bn)=>{this.resetLoader(r,Pe),this.updateStatsFromPart(r,l);const Bn={frag:r,part:l,payload:jt.data,networkDetails:bn};h(Bn),te(Bn)},onError:(jt,Xt,cn,bn)=>{this.resetLoader(r,Pe),De(new ts({type:x.NETWORK_ERROR,details:A.FRAG_LOAD_ERROR,fatal:!1,frag:r,part:l,response:m({url:lt.url,data:void 0},jt),error:new Error(`HTTP Error ${jt.code} ${jt.text}`),networkDetails:cn,stats:bn}))},onAbort:(jt,Xt,cn)=>{r.stats.aborted=l.stats.aborted,this.resetLoader(r,Pe),De(new ts({type:x.NETWORK_ERROR,details:A.INTERNAL_ABORTED,fatal:!1,frag:r,part:l,error:new Error("Aborted"),networkDetails:cn,stats:jt}))},onTimeout:(jt,Xt,cn)=>{this.resetLoader(r,Pe),De(new ts({type:x.NETWORK_ERROR,details:A.FRAG_LOAD_TIMEOUT,fatal:!1,frag:r,part:l,error:new Error(`Timeout after ${Bt.timeout}ms`),networkDetails:cn,stats:jt}))}})})}updateStatsFromPart(r,l){const h=r.stats,M=l.stats,k=M.total;if(h.loaded+=M.loaded,k){const De=Math.round(r.duration/l.duration),Pe=Math.min(Math.round(h.loaded/k),De),pt=(De-Pe)*Math.round(h.loaded/Pe);h.total=h.loaded+pt}else h.total=Math.max(h.loaded,h.total);const H=h.loading,te=M.loading;H.start?H.first+=te.first-te.start:(H.start=te.start,H.first=te.first),H.end=te.end}resetLoader(r,l){r.loader=null,this.loader===l&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),l.destroy()}}function bo(V,r=null){const l=r||V,h={frag:V,part:r,responseType:"arraybuffer",url:l.url,headers:{},rangeStart:0,rangeEnd:0},M=l.byteRangeStartOffset,k=l.byteRangeEndOffset;if(g(M)&&g(k)){var H;let te=M,De=k;if("initSegment"===V.sn&&"AES-128"===(null==(H=V.decryptdata)?void 0:H.method)){const Pe=k-M;Pe%16&&(De=k+(16-Pe%16)),0!==M&&(h.resetIV=!0,te=M-16)}h.rangeStart=te,h.rangeEnd=De}return h}function Fs(V,r){const l=new Error(`GAP ${V.gap?"tag":"attribute"} found`),h={type:x.MEDIA_ERROR,details:A.FRAG_GAP,fatal:!1,frag:V,error:l,networkDetails:null};return r&&(h.part=r),(r||V).stats.aborted=!0,new ts(h)}class ts extends Error{constructor(r){super(r.error.message),this.data=void 0,this.data=r}}class ma{constructor(r){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=r}abort(r){for(const l in this.keyUriToKeyInfo){const h=this.keyUriToKeyInfo[l].loader;if(h){if(r&&r!==h.context.frag.type)return;h.abort()}}}detach(){for(const r in this.keyUriToKeyInfo){const l=this.keyUriToKeyInfo[r];(l.mediaKeySessionContext||l.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[r]}}destroy(){this.detach();for(const r in this.keyUriToKeyInfo){const l=this.keyUriToKeyInfo[r].loader;l&&l.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(r,l=A.KEY_LOAD_ERROR,h,M,k){return new ts({type:x.NETWORK_ERROR,details:l,fatal:!1,frag:r,response:k,error:h,networkDetails:M})}loadClear(r,l){if(this.emeController&&this.config.emeEnabled){const{sn:h,cc:M}=r;for(let k=0;k<l.length;k++){const H=l[k];if(M<=H.cc&&("initSegment"===h||"initSegment"===H.sn||h<H.sn)){this.emeController.selectKeySystemFormat(H).then(te=>{H.setKeyFormat(te)});break}}}}load(r){return!r.decryptdata&&r.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(r).then(l=>this.loadInternal(r,l)):this.loadInternal(r)}loadInternal(r,l){var h,M;l&&r.setKeyFormat(l);const k=r.decryptdata;if(!k){const Pe=new Error(l?`Expected frag.decryptdata to be defined after setting format ${l}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(r,A.KEY_LOAD_ERROR,Pe))}const H=k.uri;if(!H)return Promise.reject(this.createKeyLoadError(r,A.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${H}"`)));let te=this.keyUriToKeyInfo[H];if(null!=(h=te)&&h.decryptdata.key)return k.key=te.decryptdata.key,Promise.resolve({frag:r,keyInfo:te});var De;if(null!=(M=te)&&M.keyLoadPromise)switch(null==(De=te.mediaKeySessionContext)?void 0:De.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return te.keyLoadPromise.then(Pe=>(k.key=Pe.keyInfo.decryptdata.key,{frag:r,keyInfo:te}))}switch(te=this.keyUriToKeyInfo[H]={decryptdata:k,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},k.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===k.keyFormat?this.loadKeyHTTP(te,r):this.loadKeyEME(te,r);case"AES-128":return this.loadKeyHTTP(te,r);default:return Promise.reject(this.createKeyLoadError(r,A.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${k.method}"`)))}}loadKeyEME(r,l){const h={frag:l,keyInfo:r};if(this.emeController&&this.config.emeEnabled){const M=this.emeController.loadKey(h);if(M)return(r.keyLoadPromise=M.then(k=>(r.mediaKeySessionContext=k,h))).catch(k=>{throw r.keyLoadPromise=null,k})}return Promise.resolve(h)}loadKeyHTTP(r,l){const h=this.config,k=new(0,h.loader)(h);return l.keyLoader=r.loader=k,r.keyLoadPromise=new Promise((H,te)=>{const De={keyInfo:r,frag:l,responseType:"arraybuffer",url:r.decryptdata.uri},Pe=h.keyLoadPolicy.default;k.load(De,{loadPolicy:Pe,timeout:Pe.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(Bt,jt,Xt,cn)=>{const{frag:bn,keyInfo:Bn,url:ti}=Xt;if(!bn.decryptdata||Bn!==this.keyUriToKeyInfo[ti])return te(this.createKeyLoadError(bn,A.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),cn));Bn.decryptdata.key=bn.decryptdata.key=new Uint8Array(Bt.data),bn.keyLoader=null,Bn.loader=null,H({frag:bn,keyInfo:Bn})},onError:(Bt,jt,Xt,cn)=>{this.resetLoader(jt),te(this.createKeyLoadError(l,A.KEY_LOAD_ERROR,new Error(`HTTP Error ${Bt.code} loading key ${Bt.text}`),Xt,m({url:De.url,data:void 0},Bt)))},onTimeout:(Bt,jt,Xt)=>{this.resetLoader(jt),te(this.createKeyLoadError(l,A.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),Xt))},onAbort:(Bt,jt,Xt)=>{this.resetLoader(jt),te(this.createKeyLoadError(l,A.INTERNAL_ABORTED,new Error("key loading aborted"),Xt))}})})}resetLoader(r){const{frag:l,keyInfo:h,url:M}=r,k=h.loader;l.keyLoader===k&&(l.keyLoader=null,h.loader=null),delete this.keyUriToKeyInfo[M],k&&k.destroy()}}class Ma{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(r){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,r),!0)}clearInterval(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}const zs={length:0,start:()=>0,end:()=>0};class Br{static isBuffered(r,l){try{if(r){const h=Br.getBuffered(r);for(let M=0;M<h.length;M++)if(l>=h.start(M)&&l<=h.end(M))return!0}}catch{}return!1}static bufferInfo(r,l,h){try{if(r){const M=Br.getBuffered(r),k=[];let H;for(H=0;H<M.length;H++)k.push({start:M.start(H),end:M.end(H)});return this.bufferedInfo(k,l,h)}}catch{}return{len:0,start:l,end:l,nextStart:void 0}}static bufferedInfo(r,l,h){l=Math.max(0,l),r.sort(function(Pe,lt){return Pe.start-lt.start||lt.end-Pe.end});let M=[];if(h)for(let Pe=0;Pe<r.length;Pe++){const lt=M.length;if(lt){const pt=M[lt-1].end;r[Pe].start-pt<h?r[Pe].end>pt&&(M[lt-1].end=r[Pe].end):M.push(r[Pe])}else M.push(r[Pe])}else M=r;let H,k=0,te=l,De=l;for(let Pe=0;Pe<M.length;Pe++){const lt=M[Pe].start,pt=M[Pe].end;if(l+h>=lt&&l<pt)te=lt,De=pt,k=De-l;else if(l+h<lt){H=lt;break}}return{len:k,start:te||0,end:De||0,nextStart:H}}static getBuffered(r){try{return r.buffered}catch(l){return y.log("failed to get media.buffered",l),zs}}}class Ho{constructor(r,l,h,M=0,k=-1,H=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=r,this.sn=l,this.id=h,this.size=M,this.part=k,this.partial=H}}function ra(V,r){let l=null;for(let h=0,M=V.length;h<M;h++){const k=V[h];if(k&&k.cc===r){l=k;break}}return l}function Aa(V,r){if(V){const l=V.start+r;V.start=V.startPTS=l,V.endPTS=l+V.duration}}function Ur(V,r){const l=r.fragments;for(let h=0,M=l.length;h<M;h++)Aa(l[h],V);r.fragmentHint&&Aa(r.fragmentHint,V),r.alignedSliding=!0}function ut(V,r){if(!V.hasProgramDateTime||!r.hasProgramDateTime)return;const l=V.fragments,h=r.fragments;if(!l.length||!h.length)return;const k=h[Math.round(h.length/2)-1],H=ra(l,k.cc)||l[Math.round(l.length/2)-1],te=k.programDateTime,De=H.programDateTime;null!==te&&null!==De&&Ur((De-te)/1e3-(H.start-k.start),V)}class $t{constructor(r,l){this.subtle=void 0,this.aesIV=void 0,this.subtle=r,this.aesIV=l}decrypt(r,l){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},l,r)}}class wn{constructor(r,l){this.subtle=void 0,this.key=void 0,this.subtle=r,this.key=l}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}class zi{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(r){const l=new DataView(r),h=new Uint32Array(4);for(let M=0;M<4;M++)h[M]=l.getUint32(4*M);return h}initTable(){const r=this.sBox,l=this.invSBox,h=this.subMix,M=h[0],k=h[1],H=h[2],te=h[3],De=this.invSubMix,Pe=De[0],lt=De[1],pt=De[2],Bt=De[3],jt=new Uint32Array(256);let Xt=0,cn=0,bn=0;for(bn=0;bn<256;bn++)jt[bn]=bn<128?bn<<1:bn<<1^283;for(bn=0;bn<256;bn++){let Bn=cn^cn<<1^cn<<2^cn<<3^cn<<4;Bn=Bn>>>8^255&Bn^99,r[Xt]=Bn,l[Bn]=Xt;const ti=jt[Xt],zn=jt[ti],ui=jt[zn];let oi=257*jt[Bn]^16843008*Bn;M[Xt]=oi<<24|oi>>>8,k[Xt]=oi<<16|oi>>>16,H[Xt]=oi<<8|oi>>>24,te[Xt]=oi,oi=16843009*ui^65537*zn^257*ti^16843008*Xt,Pe[Bn]=oi<<24|oi>>>8,lt[Bn]=oi<<16|oi>>>16,pt[Bn]=oi<<8|oi>>>24,Bt[Bn]=oi,Xt?(Xt=ti^jt[jt[jt[ui^ti]]],cn^=jt[jt[cn]]):Xt=cn=1}}expandKey(r){const l=this.uint8ArrayToUint32Array_(r);let h=!0,M=0;for(;M<l.length&&h;)h=l[M]===this.key[M],M++;if(h)return;this.key=l;const k=this.keySize=l.length;if(4!==k&&6!==k&&8!==k)throw new Error("Invalid aes key size="+k);const H=this.ksRows=4*(k+6+1);let te,De;const Pe=this.keySchedule=new Uint32Array(H),lt=this.invKeySchedule=new Uint32Array(H),pt=this.sBox,Bt=this.rcon,jt=this.invSubMix,Xt=jt[0],cn=jt[1],bn=jt[2],Bn=jt[3];let ti,zn;for(te=0;te<H;te++)te<k?ti=Pe[te]=l[te]:(zn=ti,te%k==0?(zn=zn<<8|zn>>>24,zn=pt[zn>>>24]<<24|pt[zn>>>16&255]<<16|pt[zn>>>8&255]<<8|pt[255&zn],zn^=Bt[te/k|0]<<24):k>6&&te%k==4&&(zn=pt[zn>>>24]<<24|pt[zn>>>16&255]<<16|pt[zn>>>8&255]<<8|pt[255&zn]),Pe[te]=ti=(Pe[te-k]^zn)>>>0);for(De=0;De<H;De++)te=H-De,zn=3&De?Pe[te]:Pe[te-4],lt[De]=De<4||te<=4?zn:Xt[pt[zn>>>24]]^cn[pt[zn>>>16&255]]^bn[pt[zn>>>8&255]]^Bn[pt[255&zn]],lt[De]=lt[De]>>>0}networkToHostOrderSwap(r){return r<<24|(65280&r)<<8|(16711680&r)>>8|r>>>24}decrypt(r,l,h){const M=this.keySize+6,k=this.invKeySchedule,H=this.invSBox,te=this.invSubMix,De=te[0],Pe=te[1],lt=te[2],pt=te[3],Bt=this.uint8ArrayToUint32Array_(h);let jt=Bt[0],Xt=Bt[1],cn=Bt[2],bn=Bt[3];const Bn=new Int32Array(r),ti=new Int32Array(Bn.length);let zn,ui,oi,Di,pi,Mi,Ii,li,ji,Hi,Io,Vs,Or,Lo;const ko=this.networkToHostOrderSwap;for(;l<Bn.length;){for(ji=ko(Bn[l]),Hi=ko(Bn[l+1]),Io=ko(Bn[l+2]),Vs=ko(Bn[l+3]),pi=ji^k[0],Mi=Vs^k[1],Ii=Io^k[2],li=Hi^k[3],Or=4,Lo=1;Lo<M;Lo++)zn=De[pi>>>24]^Pe[Mi>>16&255]^lt[Ii>>8&255]^pt[255&li]^k[Or],ui=De[Mi>>>24]^Pe[Ii>>16&255]^lt[li>>8&255]^pt[255&pi]^k[Or+1],oi=De[Ii>>>24]^Pe[li>>16&255]^lt[pi>>8&255]^pt[255&Mi]^k[Or+2],Di=De[li>>>24]^Pe[pi>>16&255]^lt[Mi>>8&255]^pt[255&Ii]^k[Or+3],pi=zn,Mi=ui,Ii=oi,li=Di,Or+=4;zn=H[pi>>>24]<<24^H[Mi>>16&255]<<16^H[Ii>>8&255]<<8^H[255&li]^k[Or],ui=H[Mi>>>24]<<24^H[Ii>>16&255]<<16^H[li>>8&255]<<8^H[255&pi]^k[Or+1],oi=H[Ii>>>24]<<24^H[li>>16&255]<<16^H[pi>>8&255]<<8^H[255&Mi]^k[Or+2],Di=H[li>>>24]<<24^H[pi>>16&255]<<16^H[Mi>>8&255]<<8^H[255&Ii]^k[Or+3],ti[l]=ko(zn^jt),ti[l+1]=ko(Di^Xt),ti[l+2]=ko(oi^cn),ti[l+3]=ko(ui^bn),jt=ji,Xt=Hi,cn=Io,bn=Vs,l+=4}return ti.buffer}}class ns{constructor(r,{removePKCS7Padding:l=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=r.enableSoftwareAES,this.removePKCS7Padding=l,l)try{const h=self.crypto;h&&(this.subtle=h.subtle||h.webkitSubtle)}catch{}null===this.subtle&&(this.useSoftware=!0)}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:r,remainderData:l}=this;if(!r||l)return this.reset(),null;const h=new Uint8Array(r);return this.reset(),this.removePKCS7Padding?function Ti(V){const r=V.byteLength,l=r&&new DataView(V.buffer).getUint8(r-1);return l?oe(V,0,r-l):V}(h):h}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(r,l,h){return this.useSoftware?new Promise((M,k)=>{this.softwareDecrypt(new Uint8Array(r),l,h);const H=this.flush();H?M(H.buffer):k(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(r),l,h)}softwareDecrypt(r,l,h){const{currentIV:M,currentResult:k,remainderData:H}=this;this.logOnce("JS AES decrypt"),H&&(r=En(H,r),this.remainderData=null);const te=this.getValidChunk(r);if(!te.length)return null;M&&(h=M);let De=this.softwareDecrypter;De||(De=this.softwareDecrypter=new zi),De.expandKey(l);const Pe=k;return this.currentResult=De.decrypt(te.buffer,0,h),this.currentIV=oe(te,-16).buffer,Pe||null}webCryptoDecrypt(r,l,h){const M=this.subtle;return(this.key!==l||!this.fastAesKey)&&(this.key=l,this.fastAesKey=new wn(M,l)),this.fastAesKey.expandKey().then(k=>M?(this.logOnce("WebCrypto AES decrypt"),new $t(M,new Uint8Array(h)).decrypt(r.buffer,k)):Promise.reject(new Error("web crypto not initialized"))).catch(k=>(y.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${k.name}: ${k.message}`),this.onWebCryptoError(r,l,h)))}onWebCryptoError(r,l,h){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(r,l,h);const M=this.flush();if(M)return M.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(r){let l=r;const h=r.length-r.length%16;return h!==r.length&&(l=oe(r,0,h),this.remainderData=oe(r,h)),l}logOnce(r){this.logEnabled&&(y.log(`[decrypter]: ${r}`),this.logEnabled=!1)}}class Ns extends Ma{constructor(r,l,h,M,k){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state="STOPPED",this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=k,this.logPrefix=M,this.log=y.log.bind(y,`${M}:`),this.warn=y.warn.bind(y,`${M}:`),this.hls=r,this.fragmentLoader=new ks(r.config),this.keyLoader=h,this.fragmentTracker=l,this.config=r.config,this.decrypter=new ns(r.config),r.on(S.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(r){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const r=this.fragCurrent;null!=r&&r.loader&&(r.abortRequests(),this.fragmentTracker.removeFragment(r)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state="STOPPED"}_streamEnded(r,l){if(l.live||r.nextStart||!r.end||!this.media)return!1;const h=l.partList;if(null!=h&&h.length){const k=h[h.length-1];return Br.isBuffered(this.media,k.start+k.duration/2)}return this.fragmentTracker.isEndListAppended(l.fragments[l.fragments.length-1].type)}getLevelDetails(){var r;if(this.levels&&null!==this.levelLastLoaded)return null==(r=this.levels[this.levelLastLoaded])?void 0:r.details}onMediaAttached(r,l){const h=this.media=this.mediaBuffer=l.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),h.addEventListener("seeking",this.onvseeking),h.addEventListener("ended",this.onvended);const M=this.config;this.levels&&M.autoStartLoad&&"STOPPED"===this.state&&this.startLoad(M.startPosition)}onMediaDetaching(){const r=this.media;null!=r&&r.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),r&&this.onvseeking&&this.onvended&&(r.removeEventListener("seeking",this.onvseeking),r.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:r,fragCurrent:l,media:h,mediaBuffer:M,state:k}=this,H=h?h.currentTime:0,te=Br.bufferInfo(M||h,H,r.maxBufferHole);if(this.log(`media seeking to ${g(H)?H.toFixed(3):H}, state: ${k}`),"ENDED"===this.state)this.resetLoadingState();else if(l){const De=r.maxFragLookUpTolerance,Pe=l.start-De,lt=l.start+l.duration+De;if(!te.len||lt<te.start||Pe>te.end){const pt=H>lt;(H<Pe||pt)&&(pt&&l.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),l.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}h&&(this.fragmentTracker.removeFragmentsInRange(H,1/0,this.playlistType,!0),this.lastCurrentTime=H),!this.loadedmetadata&&!te.len&&(this.nextLoadPosition=this.startPosition=H),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(r,l){this.startTimeOffset=l.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.stopLoad(),super.onHandlerDestroying()}onHandlerDestroyed(){this.state="STOPPED",this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(r,l,h){this._loadFragForPlayback(r,l,h)}_loadFragForPlayback(r,l,h){this._doFragLoad(r,l,h,k=>{if(this.fragContextChanged(r))return this.warn(`Fragment ${r.sn}${k.part?" p: "+k.part.index:""} of level ${r.level} was dropped during download.`),void this.fragmentTracker.removeFragment(r);r.stats.chunkCount++,this._handleFragmentLoadProgress(k)}).then(k=>{if(!k)return;const H=this.state;this.fragContextChanged(r)?("FRAG_LOADING"===H||!this.fragCurrent&&"PARSING"===H)&&(this.fragmentTracker.removeFragment(r),this.state="IDLE"):("payload"in k&&(this.log(`Loaded fragment ${r.sn} of level ${r.level}`),this.hls.trigger(S.FRAG_LOADED,k)),this._handleFragmentLoadComplete(k))}).catch(k=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(k),this.resetFragmentLoading(r))})}clearTrackerIfNeeded(r){var l;const{fragmentTracker:h}=this;if("APPENDING"===h.getState(r)){const H=this.getFwdBufferInfo(this.mediaBuffer,r.type),te=Math.max(r.duration,H?H.len:this.config.maxBufferLength);this.reduceMaxBufferLength(te)&&h.removeFragment(r)}else 0===(null==(l=this.mediaBuffer)?void 0:l.buffered.length)?h.removeAllFragments():h.hasParts(r.type)&&(h.detectPartialFragments({frag:r,part:null,stats:r.stats,id:r.type}),"PARTIAL"===h.getState(r)&&h.removeFragment(r))}flushMainBuffer(r,l,h=null){r-l&&this.hls.trigger(S.BUFFER_FLUSHING,{startOffset:r,endOffset:l,type:h})}_loadInitSegment(r,l){this._doFragLoad(r,l).then(h=>{if(!h||this.fragContextChanged(r)||!this.levels)throw new Error("init load aborted");return h}).then(h=>{const{hls:M}=this,{payload:k}=h,H=r.decryptdata;if(k&&k.byteLength>0&&H&&H.key&&H.iv&&"AES-128"===H.method){const te=self.performance.now();return this.decrypter.decrypt(new Uint8Array(k),H.key.buffer,H.iv.buffer).catch(De=>{throw M.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.FRAG_DECRYPT_ERROR,fatal:!1,error:De,reason:De.message,frag:r}),De}).then(De=>{const Pe=self.performance.now();return M.trigger(S.FRAG_DECRYPTED,{frag:r,payload:De,stats:{tstart:te,tdecrypt:Pe}}),h.payload=De,h})}return h}).then(h=>{const{fragCurrent:M,hls:k,levels:H}=this;if(!H)throw new Error("init load aborted, missing levels");const te=r.stats;this.state="IDLE",l.fragmentError=0,r.data=new Uint8Array(h.payload),te.parsing.start=te.buffering.start=self.performance.now(),te.parsing.end=te.buffering.end=self.performance.now(),h.frag===M&&k.trigger(S.FRAG_BUFFERED,{stats:te,frag:M,part:null,id:r.type}),this.tick()}).catch(h=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(h),this.resetFragmentLoading(r))})}fragContextChanged(r){const{fragCurrent:l}=this;return!r||!l||r.level!==l.level||r.sn!==l.sn||r.urlId!==l.urlId}fragBufferedComplete(r,l){var h,M,k,H;const te=this.mediaBuffer?this.mediaBuffer:this.media;this.log(`Buffered ${r.type} sn: ${r.sn}${l?" part: "+l.index:""} of ${"main"===this.playlistType?"level":"track"} ${r.level} (frag:[${(null!=(h=r.startPTS)?h:NaN).toFixed(3)}-${(null!=(M=r.endPTS)?M:NaN).toFixed(3)}] > buffer:${te?function(V){let r="";const l=V.length;for(let h=0;h<l;h++)r+=`[${V.start(h).toFixed(3)}-${V.end(h).toFixed(3)}]`;return r}(Br.getBuffered(te)):"(detached)"})`),this.state="IDLE",te&&(!this.loadedmetadata&&"main"==r.type&&te.buffered.length&&(null==(k=this.fragCurrent)?void 0:k.sn)===(null==(H=this.fragPrevious)?void 0:H.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(r){const{transmuxer:l}=this;if(!l)return;const{frag:h,part:M,partsLoaded:k}=r,H=!k||0===k.length||k.some(De=>!De),te=new Ho(h.level,h.sn,h.stats.chunkCount+1,0,M?M.index:-1,!H);l.flush(te)}_handleFragmentLoadProgress(r){}_doFragLoad(r,l,h=null,M){var k;const H=l?.details;if(!this.levels||!H)throw new Error(`frag load aborted, missing level${H?"":" detail"}s`);let te=null;if(!r.encrypted||null!=(k=r.decryptdata)&&k.key?!r.encrypted&&H.encryptedFragments.length&&this.keyLoader.loadClear(r,H.encryptedFragments):(this.log(`Loading key for ${r.sn} of [${H.startSN}-${H.endSN}], ${"[stream-controller]"===this.logPrefix?"level":"track"} ${r.level}`),this.state="KEY_LOADING",this.fragCurrent=r,te=this.keyLoader.load(r).then(lt=>{if(!this.fragContextChanged(lt.frag))return this.hls.trigger(S.KEY_LOADED,lt),"KEY_LOADING"===this.state&&(this.state="IDLE"),lt}),this.hls.trigger(S.KEY_LOADING,{frag:r}),null===this.fragCurrent&&(te=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),h=Math.max(r.start,h||0),this.config.lowLatencyMode&&"initSegment"!==r.sn){const lt=H.partList;if(lt&&M){h>r.end&&H.fragmentHint&&(r=H.fragmentHint);const pt=this.getNextPart(lt,r,h);if(pt>-1){const Bt=lt[pt];let jt;return this.log(`Loading part sn: ${r.sn} p: ${Bt.index} cc: ${r.cc} of playlist [${H.startSN}-${H.endSN}] parts [0-${pt}-${lt.length-1}] ${"[stream-controller]"===this.logPrefix?"level":"track"}: ${r.level}, target: ${parseFloat(h.toFixed(3))}`),this.nextLoadPosition=Bt.start+Bt.duration,this.state="FRAG_LOADING",jt=te?te.then(Xt=>!Xt||this.fragContextChanged(Xt.frag)?null:this.doFragPartsLoad(r,Bt,l,M)).catch(Xt=>this.handleFragLoadError(Xt)):this.doFragPartsLoad(r,Bt,l,M).catch(Xt=>this.handleFragLoadError(Xt)),this.hls.trigger(S.FRAG_LOADING,{frag:r,part:Bt,targetBufferTime:h}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):jt}if(!r.url||this.loadedEndOfParts(lt,h))return Promise.resolve(null)}}this.log(`Loading fragment ${r.sn} cc: ${r.cc} ${H?"of ["+H.startSN+"-"+H.endSN+"] ":""}${"[stream-controller]"===this.logPrefix?"level":"track"}: ${r.level}, target: ${parseFloat(h.toFixed(3))}`),g(r.sn)&&!this.bitrateTest&&(this.nextLoadPosition=r.start+r.duration),this.state="FRAG_LOADING";const De=this.config.progressive;let Pe;return Pe=De&&te?te.then(lt=>!lt||this.fragContextChanged(lt?.frag)?null:this.fragmentLoader.load(r,M)).catch(lt=>this.handleFragLoadError(lt)):Promise.all([this.fragmentLoader.load(r,De?M:void 0),te]).then(([lt])=>(!De&&lt&&M&&M(lt),lt)).catch(lt=>this.handleFragLoadError(lt)),this.hls.trigger(S.FRAG_LOADING,{frag:r,targetBufferTime:h}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):Pe}doFragPartsLoad(r,l,h,M){return new Promise((k,H)=>{var te;const De=[],Pe=null==(te=h.details)?void 0:te.partList,lt=pt=>{this.fragmentLoader.loadPart(r,pt,M).then(Bt=>{De[pt.index]=Bt;const jt=Bt.part;this.hls.trigger(S.FRAG_LOADED,Bt);const Xt=Bo(h,r.sn,pt.index+1)||Ks(Pe,r.sn,pt.index+1);if(!Xt)return k({frag:r,part:jt,partsLoaded:De});lt(Xt)}).catch(H)};lt(l)})}handleFragLoadError(r){if("data"in r){const l=r.data;r.data&&l.details===A.INTERNAL_ABORTED?this.handleFragLoadAborted(l.frag,l.part):this.hls.trigger(S.ERROR,l)}else this.hls.trigger(S.ERROR,{type:x.OTHER_ERROR,details:A.INTERNAL_EXCEPTION,err:r,error:r,fatal:!0});return null}_handleTransmuxerFlush(r){const l=this.getCurrentContext(r);if(!l||"PARSING"!==this.state)return void(!this.fragCurrent&&"STOPPED"!==this.state&&"ERROR"!==this.state&&(this.state="IDLE"));const{frag:h,part:M,level:k}=l,H=self.performance.now();h.stats.parsing.end=H,M&&(M.stats.parsing.end=H),this.updateLevelTiming(h,M,k,r.partial)}getCurrentContext(r){const{levels:l,fragCurrent:h}=this,{level:M,sn:k,part:H}=r;if(null==l||!l[M])return this.warn(`Levels object was unset while buffering fragment ${k} of level ${M}. The current chunk will not be buffered.`),null;const te=l[M],De=H>-1?Bo(te,k,H):null,Pe=De?De.fragment:function Fo(V,r,l){if(null==V||!V.details)return null;const h=V.details;let M=h.fragments[r-h.startSN];return M||(M=h.fragmentHint,M&&M.sn===r)?M:r<h.startSN&&l&&l.sn===r?l:null}(te,k,h);return Pe?(h&&h!==Pe&&(Pe.stats=h.stats),{frag:Pe,part:De,level:te}):null}bufferFragmentData(r,l,h,M,k){var H;if(!r||"PARSING"!==this.state)return;const{data1:te,data2:De}=r;let Pe=te;if(te&&De&&(Pe=En(te,De)),null!=(H=Pe)&&H.length&&(this.hls.trigger(S.BUFFER_APPENDING,{type:r.type,frag:l,part:h,chunkMeta:M,parent:l.type,data:Pe}),r.dropped&&r.independent&&!h)){if(k)return;this.flushBufferGap(l)}}flushBufferGap(r){const l=this.media;if(!l)return;if(!Br.isBuffered(l,l.currentTime))return void this.flushMainBuffer(0,r.start);const h=l.currentTime,M=Br.bufferInfo(l,h,0),H=Math.min(2*this.config.maxFragLookUpTolerance,.25*r.duration),te=Math.max(Math.min(r.start-H,M.end-H),h+H);r.start-te>H&&this.flushMainBuffer(te,r.start)}getFwdBufferInfo(r,l){const h=this.getLoadPosition();return g(h)?this.getFwdBufferInfoAtPos(r,h,l):null}getFwdBufferInfoAtPos(r,l,h){const{config:{maxBufferHole:M}}=this,k=Br.bufferInfo(r,l,M);if(0===k.len&&void 0!==k.nextStart){const H=this.fragmentTracker.getBufferedFrag(l,h);if(H&&k.nextStart<H.end)return Br.bufferInfo(r,l,Math.max(k.nextStart,M))}return k}getMaxBufferLength(r){const{config:l}=this;let h;return h=r?Math.max(8*l.maxBufferSize/r,l.maxBufferLength):l.maxBufferLength,Math.min(h,l.maxMaxBufferLength)}reduceMaxBufferLength(r){const l=this.config;return l.maxMaxBufferLength>=(r||l.maxBufferLength)&&(l.maxMaxBufferLength/=2,this.warn(`Reduce max buffer length to ${l.maxMaxBufferLength}s`),!0)}getAppendedFrag(r,l="main"){const h=this.fragmentTracker.getAppendedFrag(r,"main");return h&&"fragment"in h?h.fragment:h}getNextFragment(r,l){const h=l.fragments,M=h.length;if(!M)return null;const{config:k}=this,H=h[0].start;let te;if(l.live){const De=k.initialLiveManifestSize;if(M<De)return this.warn(`Not enough fragments to start playback (have: ${M}, need: ${De})`),null;!l.PTSKnown&&!this.startFragRequested&&-1===this.startPosition&&(te=this.getInitialLiveFragment(l,h),this.startPosition=te?this.hls.liveSyncPosition||te.start:r)}else r<=H&&(te=h[0]);return te||(te=this.getFragmentAtPosition(r,k.lowLatencyMode?l.partEnd:l.fragmentEnd,l)),this.mapToInitFragWhenRequired(te)}isLoopLoading(r,l){const h=this.fragmentTracker.getState(r);return("OK"===h||"PARTIAL"===h&&!!r.gap)&&this.nextLoadPosition>l}getNextFragmentLoopLoading(r,l,h,M,k){const H=r.gap,te=this.getNextFragment(this.nextLoadPosition,l);if(null===te)return te;if(r=te,H&&r&&!r.gap&&h.nextStart){const De=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,h.nextStart,M);if(null!==De&&h.len+De.len>=k)return this.log(`buffer full after gaps in "${M}" playlist starting at sn: ${r.sn}`),null}return r}mapToInitFragWhenRequired(r){return null==r||!r.initSegment||null!=r&&r.initSegment.data||this.bitrateTest?r:r.initSegment}getNextPart(r,l,h){let M=-1,k=!1,H=!0;for(let te=0,De=r.length;te<De;te++){const Pe=r[te];if(H=H&&!Pe.independent,M>-1&&h<Pe.start)break;const lt=Pe.loaded;lt?M=-1:(k||Pe.independent||H)&&Pe.fragment===l&&(M=te),k=lt}return M}loadedEndOfParts(r,l){const h=r[r.length-1];return h&&l>h.start&&h.loaded}getInitialLiveFragment(r,l){const h=this.fragPrevious;let M=null;if(h){if(r.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${h.programDateTime}`),M=function Ws(V,r,l){if(null===r||!Array.isArray(V)||!V.length||!g(r))return null;if(r<(V[0].programDateTime||0))return null;if(r>=(V[V.length-1].endProgramDateTime||0))return null;l=l||0;for(let k=0;k<V.length;++k){const H=V[k];if(Os(r,l,H))return H}return null}(l,h.endProgramDateTime,this.config.maxFragLookUpTolerance)),!M){const k=h.sn+1;if(k>=r.startSN&&k<=r.endSN){const H=l[k-r.startSN];h.cc===H.cc&&(M=H,this.log(`Live playlist, switching playlist, load frag with next SN: ${M.sn}`))}M||(M=function Ps(V,r){return es.search(V,l=>l.cc<r?1:l.cc>r?-1:0)}(l,h.cc),M&&this.log(`Live playlist, switching playlist, load frag with same CC: ${M.sn}`))}}else{const k=this.hls.liveSyncPosition;null!==k&&(M=this.getFragmentAtPosition(k,this.bitrateTest?r.fragmentEnd:r.edge,r))}return M}getFragmentAtPosition(r,l,h){const{config:M}=this;let{fragPrevious:k}=this,{fragments:H,endSN:te}=h;const{fragmentHint:De}=h,Pe=M.maxFragLookUpTolerance,lt=h.partList,pt=!!(M.lowLatencyMode&&null!=lt&&lt.length&&De);let Bt;if(pt&&De&&!this.bitrateTest&&(H=H.concat(De),te=De.sn),Bt=r<l?uo(k,H,r,r>l-Pe?0:Pe):H[H.length-1],Bt){const jt=Bt.sn-h.startSN,Xt=this.fragmentTracker.getState(Bt);if(("OK"===Xt||"PARTIAL"===Xt&&Bt.gap)&&(k=Bt),k&&Bt.sn===k.sn&&(!pt||lt[0].fragment.sn>Bt.sn)&&k&&Bt.level===k.level){const bn=H[jt+1];Bt=Bt.sn<te&&"OK"!==this.fragmentTracker.getState(bn)?bn:null}}return Bt}synchronizeToLiveEdge(r){const{config:l,media:h}=this;if(!h)return;const M=this.hls.liveSyncPosition,k=h.currentTime,te=r.edge,De=k>=r.fragments[0].start-l.maxFragLookUpTolerance&&k<=te;null!==M&&h.duration>M&&(k<M||!De)&&(!De&&h.readyState<4||k<te-(void 0!==l.liveMaxLatencyDuration?l.liveMaxLatencyDuration:l.liveMaxLatencyDurationCount*r.targetduration))&&(this.loadedmetadata||(this.nextLoadPosition=M),h.readyState&&(this.warn(`Playback: ${k.toFixed(3)} is located too far from the end of live sliding playlist: ${te}, reset currentTime to : ${M.toFixed(3)}`),h.currentTime=M))}alignPlaylists(r,l){const{levels:h,levelLastLoaded:M,fragPrevious:k}=this,H=null!==M?h[M]:null,te=r.fragments.length;if(!te)return this.warn("No fragments in live playlist"),0;const De=r.fragments[0].start,Pe=!l,lt=r.alignedSliding&&g(De);if(Pe||!lt&&!De){!function kn(V,r,l){r&&(function _t(V,r,l){if(function Bs(V,r,l){return!(!r.details||!(l.endCC>l.startCC||V&&V.cc<l.startCC))}(V,l,r)){const h=function Ts(V,r,l=0){const h=V.fragments,M=r.fragments;if(!M.length||!h.length)return void y.log("No fragments to align");const k=ra(h,M[0].cc);if(k&&(!k||k.startPTS))return k;y.log("No frag in previous level to align on")}(l.details,r);h&&g(h.start)&&(y.log(`Adjusting PTS using last level due to CC increase within current level ${r.url}`),Ur(h.start,r))}}(V,l,r),!l.alignedSliding&&r.details&&function Ot(V,r){if(!r.fragments.length||!V.hasProgramDateTime||!r.hasProgramDateTime)return;const l=r.fragments[0].programDateTime,h=V.fragments[0].programDateTime,M=(h-l)/1e3+r.fragments[0].start;M&&g(M)&&(y.log(`Adjusting PTS using programDateTime delta ${h-l}ms, sliding:${M.toFixed(3)} ${V.url} `),Ur(M,V))}(l,r.details),!l.alignedSliding&&r.details&&!l.skippedSegments&&Ki(r.details,l))}(k,H,r);const pt=r.fragments[0].start;return this.log(`Live playlist sliding: ${pt.toFixed(2)} start-sn: ${l?l.startSN:"na"}->${r.startSN} prev-sn: ${k?k.sn:"na"} fragments: ${te}`),pt}return De}waitForCdnTuneIn(r){return r.live&&r.canBlockReload&&r.partTarget&&r.tuneInGoal>Math.max(r.partHoldBack,3*r.partTarget)}setStartPosition(r,l){let h=this.startPosition;if(h<l&&(h=-1),-1===h||-1===this.lastCurrentTime){const M=null!==this.startTimeOffset,k=M?this.startTimeOffset:r.startTimeOffset;null!==k&&g(k)?(h=l+k,k<0&&(h+=r.totalduration),h=Math.min(Math.max(l,h),l+r.totalduration),this.log(`Start time offset ${k} found in ${M?"multivariant":"media"} playlist, adjust startPosition to ${h}`),this.startPosition=h):r.live?h=this.hls.liveSyncPosition||l:this.startPosition=h=0,this.lastCurrentTime=h}this.nextLoadPosition=h}getLoadPosition(){const{media:r}=this;let l=0;return this.loadedmetadata&&r?l=r.currentTime:this.nextLoadPosition&&(l=this.nextLoadPosition),l}handleFragLoadAborted(r,l){this.transmuxer&&"initSegment"!==r.sn&&r.stats.aborted&&(this.warn(`Fragment ${r.sn}${l?" part "+l.index:""} of level ${r.level} was aborted`),this.resetFragmentLoading(r))}resetFragmentLoading(r){(!this.fragCurrent||!this.fragContextChanged(r)&&"FRAG_LOADING_WAITING_RETRY"!==this.state)&&(this.state="IDLE")}onFragmentOrKeyLoadError(r,l){if(l.chunkMeta&&!l.frag){const pt=this.getCurrentContext(l.chunkMeta);pt&&(l.frag=pt.frag)}const h=l.frag;if(!h||h.type!==r||!this.levels)return;var M;if(this.fragContextChanged(h))return void this.warn(`Frag load error must match current frag to retry ${h.url} > ${null==(M=this.fragCurrent)?void 0:M.url}`);const k=l.details===A.FRAG_GAP;k&&this.fragmentTracker.fragBuffered(h,!0);const H=l.errorAction,{action:te,retryCount:De=0,retryConfig:Pe}=H||{};if(H&&5===te&&Pe){var lt;this.resetStartWhenNotLoaded(null!=(lt=this.levelLastLoaded)?lt:h.level);const pt=cs(Pe,De);this.warn(`Fragment ${h.sn} of ${r} ${h.level} errored with ${l.details}, retrying loading ${De+1}/${Pe.maxNumRetry} in ${pt}ms`),H.resolved=!0,this.retryDate=self.performance.now()+pt,this.state="FRAG_LOADING_WAITING_RETRY"}else Pe&&H?(this.resetFragmentErrors(r),De<Pe.maxNumRetry?k||(H.resolved=!0):y.warn(`${l.details} reached or exceeded max retry (${De})`)):this.state=2===H?.action?"WAITING_LEVEL":"ERROR";this.tickImmediate()}reduceLengthAndFlushBuffer(r){if("PARSING"===this.state||"PARSED"===this.state){const l=r.parent,h=this.getFwdBufferInfo(this.mediaBuffer,l),M=h&&h.len>.5;M&&this.reduceMaxBufferLength(h.len);const k=!M;return k&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${l} buffer`),r.frag&&(this.fragmentTracker.removeFragment(r.frag),this.nextLoadPosition=r.frag.start),this.resetLoadingState(),k}return!1}resetFragmentErrors(r){"audio"===r&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),"STOPPED"!==this.state&&(this.state="IDLE")}afterBufferFlushed(r,l,h){if(!r)return;const M=Br.getBuffered(r);this.fragmentTracker.detectEvictedFragments(l,M,h),"ENDED"===this.state&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state="IDLE"}resetStartWhenNotLoaded(r){if(!this.loadedmetadata){this.startFragRequested=!1;const l=this.levels?this.levels[r].details:null;null!=l&&l.live?(this.startPosition=-1,this.setStartPosition(l,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(r){var l;this.warn(`The loading context changed while buffering fragment ${r.sn} of level ${r.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(null!=(l=this.levelLastLoaded)?l:r.level),this.resetLoadingState()}removeUnbufferedFrags(r=0){this.fragmentTracker.removeFragmentsInRange(r,1/0,this.playlistType,!1,!0)}updateLevelTiming(r,l,h,M){var k;const H=h.details;if(H){if(Object.keys(r.elementaryStreams).reduce((De,Pe)=>{const lt=r.elementaryStreams[Pe];if(lt){const pt=lt.endPTS-lt.startPTS;if(pt<=0)return this.warn(`Could not parse fragment ${r.sn} ${Pe} duration reliably (${pt})`),De||!1;const Bt=M?0:hi(H,r,lt.startPTS,lt.endPTS,lt.startDTS,lt.endDTS);return this.hls.trigger(S.LEVEL_PTS_UPDATED,{details:H,level:h,drift:Bt,type:Pe,frag:r,start:lt.startPTS,end:lt.endPTS}),!0}return De},!1))h.fragmentError=0;else if(null===(null==(k=this.transmuxer)?void 0:k.error)){const De=new Error(`Found no media in fragment ${r.sn} of level ${r.level} resetting transmuxer to fallback to playlist timing`);if(0===h.fragmentError&&(h.fragmentError++,r.gap=!0,this.fragmentTracker.removeFragment(r),this.fragmentTracker.fragBuffered(r,!0)),this.warn(De.message),this.hls.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.FRAG_PARSING_ERROR,fatal:!1,error:De,frag:r,reason:`Found no media in msn ${r.sn} of level "${h.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state="PARSED",this.hls.trigger(S.FRAG_PARSED,{frag:r,part:l})}else this.warn("level.details undefined")}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(r){var l,h,M;"demuxerWorker"===r.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(null!=(l=null!=(h=this.levelLastLoaded)?h:null==(M=this.fragCurrent)?void 0:M.level)?l:0),this.resetLoadingState())}set state(r){const l=this._state;l!==r&&(this._state=r,this.log(`${l}->${r}`))}get state(){return this._state}}function to(){return self.SourceBuffer||self.WebKitSourceBuffer}function ms(V="",r=9e4){return{type:V,id:-1,pid:-1,inputTimeScale:r,sequenceNumber:-1,samples:[],dropped:0}}class ll{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(r,l,h,M){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(r){this.initPTS=r,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(r,l){return!1}appendFrame(r,l,h){}demux(r,l){this.cachedData&&(r=En(this.cachedData,r),this.cachedData=null);let k,h=$(r,0),M=h?h.length:0;const H=this._audioTrack,te=this._id3Track,De=h?(V=>{const r=Ee(V);for(let l=0;l<r.length;l++){const h=r[l];if(_e(h))return gt(h)}})(h):void 0,Pe=r.length;for((null===this.basePTS||0===this.frameIndex&&g(De))&&(this.basePTS=wl(De,l,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),h&&h.length>0&&te.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:h,type:"org.id3",duration:Number.POSITIVE_INFINITY});M<Pe;){if(this.canParse(r,M)){const lt=this.appendFrame(H,r,M);lt?(this.frameIndex++,this.lastPTS=lt.sample.pts,M+=lt.length,k=M):M=Pe}else J(r,M)?(h=$(r,M),te.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:h,type:"org.id3",duration:Number.POSITIVE_INFINITY}),M+=h.length,k=M):M++;if(M===Pe&&k!==Pe){const lt=oe(r,k);this.cachedData=this.cachedData?En(this.cachedData,lt):lt}}return{audioTrack:H,videoTrack:ms(),id3Track:te,textTrack:ms()}}demuxSampleAes(r,l,h){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(r){const l=this.cachedData;return l&&(this.cachedData=null,this.demux(l,0)),{audioTrack:this._audioTrack,videoTrack:ms(),id3Track:this._id3Track,textTrack:ms()}}destroy(){}}const wl=(V,r,l)=>g(V)?90*V:9e4*r+(l?9e4*l.baseTime/l.timescale:0);function cl(V,r){return 255===V[r]&&240==(246&V[r+1])}function Ia(V,r){return 1&V[r+1]?7:9}function Po(V,r){return(3&V[r+3])<<11|V[r+4]<<3|(224&V[r+5])>>>5}function wa(V,r){return r+1<V.length&&cl(V,r)}function Ha(V,r){if(wa(V,r)){const l=Ia(V,r);if(r+l>=V.length)return!1;const h=Po(V,r);if(h<=l)return!1;const M=r+h;return M===V.length||wa(V,M)}return!1}function dl(V,r,l,h,M){if(!V.samplerate){const k=function ga(V,r,l,h){let M,k,H,te;const De=navigator.userAgent.toLowerCase(),Pe=h,lt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];M=1+((192&r[l+2])>>>6);const pt=(60&r[l+2])>>>2;if(!(pt>lt.length-1))return H=(1&r[l+2])<<2,H|=(192&r[l+3])>>>6,y.log(`manifest codec:${h}, ADTS type:${M}, samplingIndex:${pt}`),/firefox/i.test(De)?pt>=6?(M=5,te=new Array(4),k=pt-3):(M=2,te=new Array(2),k=pt):-1!==De.indexOf("android")?(M=2,te=new Array(2),k=pt):(M=5,te=new Array(4),h&&(-1!==h.indexOf("mp4a.40.29")||-1!==h.indexOf("mp4a.40.5"))||!h&&pt>=6?k=pt-3:((h&&-1!==h.indexOf("mp4a.40.2")&&(pt>=6&&1===H||/vivaldi/i.test(De))||!h&&1===H)&&(M=2,te=new Array(2)),k=pt)),te[0]=M<<3,te[0]|=(14&pt)>>1,te[1]|=(1&pt)<<7,te[1]|=H<<3,5===M&&(te[1]|=(14&k)>>1,te[2]=(1&k)<<7,te[2]|=8,te[3]=0),{config:te,samplerate:lt[pt],channelCount:H,codec:"mp4a.40."+M,manifestCodec:Pe};V.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.FRAG_PARSING_ERROR,fatal:!0,reason:`invalid ADTS sampling index:${pt}`})}(r,l,h,M);if(!k)return;V.config=k.config,V.samplerate=k.samplerate,V.channelCount=k.channelCount,V.codec=k.codec,V.manifestCodec=k.manifestCodec,y.log(`parsed codec:${V.codec}, rate:${k.samplerate}, channels:${k.channelCount}`)}}function _a(V){return 9216e4/V}function va(V,r,l,h,M){const H=h+M*_a(V.samplerate),te=function ul(V,r){const l=Ia(V,r);if(r+l<=V.length){const h=Po(V,r)-l;if(h>0)return{headerLength:l,frameLength:h}}}(r,l);let De;if(te){const{frameLength:pt,headerLength:Bt}=te,jt=Bt+pt,Xt=Math.max(0,l+jt-r.length);Xt?(De=new Uint8Array(jt-Bt),De.set(r.subarray(l+Bt,r.length),0)):De=r.subarray(l+Bt,l+jt);const cn={unit:De,pts:H};return Xt||V.samples.push(cn),{sample:cn,length:jt,missing:Xt}}const Pe=r.length-l;return De=new Uint8Array(Pe),De.set(r.subarray(l,r.length),0),{sample:{unit:De,pts:H},length:Pe,missing:-1}}const hl=/\/emsg[-/]ID3/i;let ya=null;const el=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],ml=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Ol=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Cs=[0,1,1,4];function Oa(V,r,l,h,M){if(l+24>r.length)return;const k=Ds(r,l);if(k&&l+k.frameLength<=r.length){const te=h+M*(9e4*k.samplesPerFrame/k.sampleRate),De={unit:r.subarray(l,l+k.frameLength),pts:te,dts:te};return V.config=[],V.channelCount=k.channelCount,V.samplerate=k.sampleRate,V.samples.push(De),{sample:De,length:k.frameLength,missing:0}}}function Ds(V,r){const l=V[r+1]>>3&3,h=V[r+1]>>1&3,M=V[r+2]>>4&15,k=V[r+2]>>2&3;if(1!==l&&0!==M&&15!==M&&3!==k){const te=V[r+3]>>6,Pe=1e3*el[14*(3===l?3-h:3===h?3:4)+M-1],pt=ml[3*(3===l?0:2===l?1:2)+k],Bt=3===te?1:2,jt=Ol[l][h],Xt=Cs[h],cn=8*jt*Xt,bn=Math.floor(jt*Pe/pt+(V[r+2]>>1&1))*Xt;if(null===ya){const zn=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);ya=zn?parseInt(zn[1]):0}return!!ya&&ya<=87&&2===h&&Pe>=224e3&&0===te&&(V[r+3]=128|V[r+3]),{sampleRate:pt,channelCount:Bt,frameLength:bn,samplesPerFrame:cn}}}function rr(V,r){return 255===V[r]&&224==(224&V[r+1])&&0!=(6&V[r+1])}function ja(V,r){return r+1<V.length&&rr(V,r)}function Yt(V,r){if(r+1<V.length&&rr(V,r)){const h=Ds(V,r);let M=4;null!=h&&h.frameLength&&(M=h.frameLength);const k=r+M;return k===V.length||ja(V,k)}return!1}class mt{constructor(r){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=r,this.bytesAvailable=r.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const r=this.data,l=this.bytesAvailable,h=r.byteLength-l,M=new Uint8Array(4),k=Math.min(4,l);if(0===k)throw new Error("no bytes available");M.set(r.subarray(h,h+k)),this.word=new DataView(M.buffer).getUint32(0),this.bitsAvailable=8*k,this.bytesAvailable-=k}skipBits(r){let l;r=Math.min(r,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>r?(this.word<<=r,this.bitsAvailable-=r):(l=(r-=this.bitsAvailable)>>3,r-=l<<3,this.bytesAvailable-=l,this.loadWord(),this.word<<=r,this.bitsAvailable-=r)}readBits(r){let l=Math.min(this.bitsAvailable,r);const h=this.word>>>32-l;if(r>32&&y.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=l,this.bitsAvailable>0)this.word<<=l;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return l=r-l,l>0&&this.bitsAvailable?h<<l|this.readBits(l):h}skipLZ(){let r;for(r=0;r<this.bitsAvailable;++r)if(this.word&2147483648>>>r)return this.word<<=r,this.bitsAvailable-=r,r;return this.loadWord(),r+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const r=this.skipLZ();return this.readBits(r+1)-1}readEG(){const r=this.readUEG();return 1&r?1+r>>>1:-1*(r>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(r){let M,l=8,h=8;for(let k=0;k<r;k++)0!==h&&(M=this.readEG(),h=(l+M+256)%256),l=0===h?l:h}readSPS(){let k,H,te,r=0,l=0,h=0,M=0;const De=this.readUByte.bind(this),Pe=this.readBits.bind(this),lt=this.readUEG.bind(this),pt=this.readBoolean.bind(this),Bt=this.skipBits.bind(this),jt=this.skipEG.bind(this),Xt=this.skipUEG.bind(this),cn=this.skipScalingList.bind(this);De();const bn=De();if(Pe(5),Bt(3),De(),Xt(),100===bn||110===bn||122===bn||244===bn||44===bn||83===bn||86===bn||118===bn||128===bn){const Di=lt();if(3===Di&&Bt(1),Xt(),Xt(),Bt(1),pt())for(H=3!==Di?8:12,te=0;te<H;te++)pt()&&cn(te<6?16:64)}Xt();const Bn=lt();if(0===Bn)lt();else if(1===Bn)for(Bt(1),jt(),jt(),k=lt(),te=0;te<k;te++)jt();Xt(),Bt(1);const ti=lt(),zn=lt(),ui=Pe(1);0===ui&&Bt(1),Bt(1),pt()&&(r=lt(),l=lt(),h=lt(),M=lt());let oi=[1,1];if(pt()&&pt())switch(De()){case 1:oi=[1,1];break;case 2:oi=[12,11];break;case 3:oi=[10,11];break;case 4:oi=[16,11];break;case 5:oi=[40,33];break;case 6:oi=[24,11];break;case 7:oi=[20,11];break;case 8:oi=[32,11];break;case 9:oi=[80,33];break;case 10:oi=[18,11];break;case 11:oi=[15,11];break;case 12:oi=[64,33];break;case 13:oi=[160,99];break;case 14:oi=[4,3];break;case 15:oi=[3,2];break;case 16:oi=[2,1];break;case 255:oi=[De()<<8|De(),De()<<8|De()]}return{width:Math.ceil(16*(ti+1)-2*r-2*l),height:(2-ui)*(zn+1)*16-(ui?2:4)*(h+M),pixelRatio:oi}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class Vt{constructor(r,l,h){this.keyData=void 0,this.decrypter=void 0,this.keyData=h,this.decrypter=new ns(l,{removePKCS7Padding:!1})}decryptBuffer(r){return this.decrypter.decrypt(r,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(r,l,h){const M=r[l].unit;if(M.length<=16)return;const k=M.subarray(16,M.length-M.length%16),H=k.buffer.slice(k.byteOffset,k.byteOffset+k.length);this.decryptBuffer(H).then(te=>{const De=new Uint8Array(te);M.set(De,16),this.decrypter.isSync()||this.decryptAacSamples(r,l+1,h)})}decryptAacSamples(r,l,h){for(;;l++){if(l>=r.length)return void h();if(!(r[l].unit.length<32||(this.decryptAacSample(r,l,h),this.decrypter.isSync())))return}}getAvcEncryptedData(r){const l=16*Math.floor((r.length-48)/160)+16,h=new Int8Array(l);let M=0;for(let k=32;k<r.length-16;k+=160,M+=16)h.set(r.subarray(k,k+16),M);return h}getAvcDecryptedUnit(r,l){const h=new Uint8Array(l);let M=0;for(let k=32;k<r.length-16;k+=160,M+=16)r.set(h.subarray(M,M+16),k);return r}decryptAvcSample(r,l,h,M,k){const H=$n(k.data),te=this.getAvcEncryptedData(H);this.decryptBuffer(te.buffer).then(De=>{k.data=this.getAvcDecryptedUnit(H,De),this.decrypter.isSync()||this.decryptAvcSamples(r,l,h+1,M)})}decryptAvcSamples(r,l,h,M){if(r instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;l++,h=0){if(l>=r.length)return void M();const k=r[l].units;for(;!(h>=k.length);h++){const H=k[h];if(!(H.data.length<=48||1!==H.type&&5!==H.type||(this.decryptAvcSample(r,l,h,M,H),this.decrypter.isSync())))return}}}}const Sn=188;class Zn{constructor(r,l,h){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=r,this.config=l,this.typeSupported=h}static probe(r){const l=Zn.syncOffset(r);return l>0&&y.warn(`MPEG2-TS detected but first sync word found @ offset ${l}`),-1!==l}static syncOffset(r){const l=r.length;let h=Math.min(940,r.length-Sn)+1,M=0;for(;M<h;){let k=!1,H=-1,te=0;for(let De=M;De<l;De+=Sn){if(71!==r[De]){if(te)return-1;break}if(te++,-1===H&&(H=De,0!==H&&(h=Math.min(H+18612,r.length-Sn)+1)),k||(k=0===Fi(r,De)),k&&te>1&&(0===H&&te>2||De+Sn>h))return H}M++}return-1}static createTrack(r,l){return{container:"video"===r||"audio"===r?"video/mp2t":void 0,type:r,id:Kt[r],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===r?l:void 0}}resetInitSegment(r,l,h,M){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=Zn.createTrack("video"),this._audioTrack=Zn.createTrack("audio",M),this._id3Track=Zn.createTrack("id3"),this._txtTrack=Zn.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=l,this.videoCodec=h,this._duration=M}resetTimeStamp(){}resetContiguity(){const{_audioTrack:r,_avcTrack:l,_id3Track:h}=this;r&&(r.pesData=null),l&&(l.pesData=null),h&&(h.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null}demux(r,l,h=!1,M=!1){let k;h||(this.sampleAes=null);const H=this._avcTrack,te=this._audioTrack,De=this._id3Track,Pe=this._txtTrack;let lt=H.pid,pt=H.pesData,Bt=te.pid,jt=De.pid,Xt=te.pesData,cn=De.pesData,bn=null,Bn=this.pmtParsed,ti=this._pmtId,zn=r.length;if(this.remainderData&&(zn=(r=En(this.remainderData,r)).length,this.remainderData=null),zn<Sn&&!M)return this.remainderData=r,{audioTrack:te,videoTrack:H,id3Track:De,textTrack:Pe};const ui=Math.max(0,Zn.syncOffset(r));zn-=(zn-ui)%Sn,zn<r.byteLength&&!M&&(this.remainderData=new Uint8Array(r.buffer,zn,r.buffer.byteLength-zn));let oi=0;for(let pi=ui;pi<zn;pi+=Sn)if(71===r[pi]){const Mi=!!(64&r[pi+1]),Ii=Fi(r,pi);let ji;if((48&r[pi+3])>>4>1){if(ji=pi+5+r[pi+4],ji===pi+Sn)continue}else ji=pi+4;switch(Ii){case lt:Mi&&(pt&&(k=fr(pt))&&this.parseAVCPES(H,Pe,k,!1),pt={data:[],size:0}),pt&&(pt.data.push(r.subarray(ji,pi+Sn)),pt.size+=pi+Sn-ji);break;case Bt:if(Mi){if(Xt&&(k=fr(Xt)))switch(te.segmentCodec){case"aac":this.parseAACPES(te,k);break;case"mp3":this.parseMPEGPES(te,k)}Xt={data:[],size:0}}Xt&&(Xt.data.push(r.subarray(ji,pi+Sn)),Xt.size+=pi+Sn-ji);break;case jt:Mi&&(cn&&(k=fr(cn))&&this.parseID3PES(De,k),cn={data:[],size:0}),cn&&(cn.data.push(r.subarray(ji,pi+Sn)),cn.size+=pi+Sn-ji);break;case 0:Mi&&(ji+=r[ji]+1),ti=this._pmtId=Nr(r,ji);break;case ti:{Mi&&(ji+=r[ji]+1);const Hi=_r(r,ji,this.typeSupported,h);lt=Hi.avc,lt>0&&(H.pid=lt),Bt=Hi.audio,Bt>0&&(te.pid=Bt,te.segmentCodec=Hi.segmentCodec),jt=Hi.id3,jt>0&&(De.pid=jt),null!==bn&&!Bn&&(y.warn(`MPEG-TS PMT found at ${pi} after unknown PID '${bn}'. Backtracking to sync byte @${ui} to parse all TS packets.`),bn=null,pi=ui-188),Bn=this.pmtParsed=!0;break}case 17:case 8191:break;default:bn=Ii}}else oi++;if(oi>0){const pi=new Error(`Found ${oi} TS packet/s that do not start with 0x47`);this.observer.emit(S.ERROR,S.ERROR,{type:x.MEDIA_ERROR,details:A.FRAG_PARSING_ERROR,fatal:!1,error:pi,reason:pi.message})}H.pesData=pt,te.pesData=Xt,De.pesData=cn;const Di={audioTrack:te,videoTrack:H,id3Track:De,textTrack:Pe};return M&&this.extractRemainingSamples(Di),Di}flush(){const{remainderData:r}=this;let l;return this.remainderData=null,l=r?this.demux(r,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(l),this.sampleAes?this.decrypt(l,this.sampleAes):l}extractRemainingSamples(r){const{audioTrack:l,videoTrack:h,id3Track:M,textTrack:k}=r,H=h.pesData,te=l.pesData,De=M.pesData;let Pe;if(H&&(Pe=fr(H))?(this.parseAVCPES(h,k,Pe,!0),h.pesData=null):h.pesData=H,te&&(Pe=fr(te))){switch(l.segmentCodec){case"aac":this.parseAACPES(l,Pe);break;case"mp3":this.parseMPEGPES(l,Pe)}l.pesData=null}else null!=te&&te.size&&y.log("last AAC PES packet truncated,might overlap between fragments"),l.pesData=te;De&&(Pe=fr(De))?(this.parseID3PES(M,Pe),M.pesData=null):M.pesData=De}demuxSampleAes(r,l,h){const M=this.demux(r,h,!0,!this.config.progressive),k=this.sampleAes=new Vt(this.observer,this.config,l);return this.decrypt(M,k)}decrypt(r,l){return new Promise(h=>{const{audioTrack:M,videoTrack:k}=r;M.samples&&"aac"===M.segmentCodec?l.decryptAacSamples(M.samples,0,()=>{k.samples?l.decryptAvcSamples(k.samples,0,0,()=>{h(r)}):h(r)}):k.samples&&l.decryptAvcSamples(k.samples,0,0,()=>{h(r)})})}destroy(){this._duration=0}parseAVCPES(r,l,h,M){const k=this.parseAVCNALu(r,h.data);let te,H=this.avcSample,De=!1;h.data=null,H&&k.length&&!r.audFound&&(tr(H,r),H=this.avcSample=ai(!1,h.pts,h.dts,"")),k.forEach(Pe=>{var lt;switch(Pe.type){case 1:{let Bt=!1;te=!0;const jt=Pe.data;if(De&&jt.length>4){const Xt=new mt(jt).readSliceType();(2===Xt||4===Xt||7===Xt||9===Xt)&&(Bt=!0)}var pt;Bt&&null!=(pt=H)&&pt.frame&&!H.key&&(tr(H,r),H=this.avcSample=null),H||(H=this.avcSample=ai(!0,h.pts,h.dts,"")),H.frame=!0,H.key=Bt;break}case 5:te=!0,null!=(lt=H)&&lt.frame&&!H.key&&(tr(H,r),H=this.avcSample=null),H||(H=this.avcSample=ai(!0,h.pts,h.dts,"")),H.key=!0,H.frame=!0;break;case 6:te=!0,Nn(Pe.data,1,h.pts,l.samples);break;case 7:if(te=!0,De=!0,!r.sps){const Bt=Pe.data,Xt=new mt(Bt).readSPS();r.width=Xt.width,r.height=Xt.height,r.pixelRatio=Xt.pixelRatio,r.sps=[Bt],r.duration=this._duration;const cn=Bt.subarray(1,4);let bn="avc1.";for(let Bn=0;Bn<3;Bn++){let ti=cn[Bn].toString(16);ti.length<2&&(ti="0"+ti),bn+=ti}r.codec=bn}break;case 8:te=!0,r.pps||(r.pps=[Pe.data]);break;case 9:te=!1,r.audFound=!0,H&&tr(H,r),H=this.avcSample=ai(!1,h.pts,h.dts,"");break;case 12:te=!0;break;default:te=!1,H&&(H.debug+="unknown NAL "+Pe.type+" ")}H&&te&&H.units.push(Pe)}),M&&H&&(tr(H,r),this.avcSample=null)}getLastNalUnit(r){var l;let M,h=this.avcSample;if((!h||0===h.units.length)&&(h=r[r.length-1]),null!=(l=h)&&l.units){const k=h.units;M=k[k.length-1]}return M}parseAVCNALu(r,l){const h=l.byteLength;let M=r.naluState||0;const k=M,H=[];let De,Pe,lt,te=0,pt=-1,Bt=0;for(-1===M&&(pt=0,Bt=31&l[0],M=0,te=1);te<h;)if(De=l[te++],M)if(1!==M)if(De)if(1===De){if(pt>=0){const jt={data:l.subarray(pt,te-M-1),type:Bt};H.push(jt)}else{const jt=this.getLastNalUnit(r.samples);if(jt&&(k&&te<=4-k&&jt.state&&(jt.data=jt.data.subarray(0,jt.data.byteLength-k)),Pe=te-M-1,Pe>0)){const Xt=new Uint8Array(jt.data.byteLength+Pe);Xt.set(jt.data,0),Xt.set(l.subarray(0,Pe),jt.data.byteLength),jt.data=Xt,jt.state=0}}te<h?(lt=31&l[te],pt=te,Bt=lt,M=0):M=-1}else M=0;else M=3;else M=De?0:2;else M=De?0:1;if(pt>=0&&M>=0){const jt={data:l.subarray(pt,h),type:Bt,state:M};H.push(jt)}if(0===H.length){const jt=this.getLastNalUnit(r.samples);if(jt){const Xt=new Uint8Array(jt.data.byteLength+l.byteLength);Xt.set(jt.data,0),Xt.set(l,jt.data.byteLength),jt.data=Xt}}return r.naluState=M,H}parseAACPES(r,l){let h=0;const M=this.aacOverFlow;let H,te,De,k=l.data;if(M){this.aacOverFlow=null;const pt=M.missing,Bt=M.sample.unit.byteLength;if(-1===pt){const jt=new Uint8Array(Bt+k.byteLength);jt.set(M.sample.unit,0),jt.set(k,Bt),k=jt}else{const jt=Bt-pt;M.sample.unit.set(k.subarray(0,pt),jt),r.samples.push(M.sample),h=M.missing}}for(H=h,te=k.length;H<te-1&&!wa(k,H);H++);if(H!==h){let pt;const Bt=H<te-1;pt=Bt?`AAC PES did not start with ADTS header,offset:${H}`:"No ADTS header found in AAC PES";const jt=new Error(pt);if(y.warn(`parsing error: ${pt}`),this.observer.emit(S.ERROR,S.ERROR,{type:x.MEDIA_ERROR,details:A.FRAG_PARSING_ERROR,fatal:!1,levelRetry:Bt,error:jt,reason:pt}),!Bt)return}if(dl(r,this.observer,k,H,this.audioCodec),void 0!==l.pts)De=l.pts;else{if(!M)return void y.warn("[tsdemuxer]: AAC PES unknown PTS");{const pt=_a(r.samplerate);De=M.sample.pts+pt}}let lt,Pe=0;for(;H<te;){if(lt=va(r,k,H,De,Pe),H+=lt.length,lt.missing){this.aacOverFlow=lt;break}for(Pe++;H<te-1&&!wa(k,H);H++);}}parseMPEGPES(r,l){const h=l.data,M=h.length;let k=0,H=0;const te=l.pts;if(void 0!==te)for(;H<M;)if(ja(h,H)){const De=Oa(r,h,H,te,k);if(!De)break;H+=De.length,k++}else H++;else y.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseID3PES(r,l){if(void 0===l.pts)return void y.warn("[tsdemuxer]: ID3 PES unknown PTS");const h=c({},l,{type:this._avcTrack?xr_emsg:"org.id3",duration:Number.POSITIVE_INFINITY});r.samples.push(h)}}function ai(V,r,l,h){return{key:V,frame:!1,pts:r,dts:l,units:[],debug:h,length:0}}function Fi(V,r){return((31&V[r+1])<<8)+V[r+2]}function Nr(V,r){return(31&V[r+10])<<8|V[r+11]}function _r(V,r,l,h){const M={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},H=r+3+((15&V[r+1])<<8|V[r+2])-4;for(r+=12+((15&V[r+10])<<8|V[r+11]);r<H;){const De=Fi(V,r);switch(V[r]){case 207:if(!h){y.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===M.audio&&(M.audio=De);break;case 21:-1===M.id3&&(M.id3=De);break;case 219:if(!h){y.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===M.avc&&(M.avc=De);break;case 3:case 4:!0!==l.mpeg&&!0!==l.mp3?y.log("MPEG audio found, not supported in this browser"):-1===M.audio&&(M.audio=De,M.segmentCodec="mp3");break;case 36:y.warn("Unsupported HEVC stream type found")}r+=5+((15&V[r+3])<<8|V[r+4])}return M}function fr(V){let l,h,M,k,H,r=0;const te=V.data;if(!V||0===V.size)return null;for(;te[0].length<19&&te.length>1;){const Pe=new Uint8Array(te[0].length+te[1].length);Pe.set(te[0]),Pe.set(te[1],te[0].length),te[0]=Pe,te.splice(1,1)}if(l=te[0],(l[0]<<16)+(l[1]<<8)+l[2]===1){if(h=(l[4]<<8)+l[5],h&&h>V.size-6)return null;const Pe=l[7];192&Pe&&(k=536870912*(14&l[9])+4194304*(255&l[10])+16384*(254&l[11])+128*(255&l[12])+(254&l[13])/2,64&Pe?(H=536870912*(14&l[14])+4194304*(255&l[15])+16384*(254&l[16])+128*(255&l[17])+(254&l[18])/2,k-H>54e5&&(y.warn(`${Math.round((k-H)/9e4)}s delta between PTS and DTS, align them`),k=H)):H=k),M=l[8];let lt=M+9;if(V.size<=lt)return null;V.size-=lt;const pt=new Uint8Array(V.size);for(let Bt=0,jt=te.length;Bt<jt;Bt++){l=te[Bt];let Xt=l.byteLength;if(lt){if(lt>Xt){lt-=Xt;continue}l=l.subarray(lt),Xt-=lt,lt=0}pt.set(l,r),r+=Xt}return h&&(h-=M+3),{data:pt,pts:k,dts:H,len:h}}return null}function tr(V,r){if(V.units.length&&V.frame){if(void 0===V.pts){const l=r.samples,h=l.length;if(!h)return void r.dropped++;{const M=l[h-1];V.pts=M.pts,V.dts=M.dts}}r.samples.push(V)}V.debug.length&&y.log(V.pts+"/"+V.dts+":"+V.debug)}class Lr{static getSilentFrame(r,l){if("mp4a.40.2"===r){if(1===l)return new Uint8Array([0,200,0,128,35,128]);if(2===l)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===l)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===l)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===l)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===l)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===l)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===l)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===l)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const vr=Math.pow(2,32)-1;let is=(()=>{class V{static init(){let l;for(l in V.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},V.types)V.types.hasOwnProperty(l)&&(V.types[l]=[l.charCodeAt(0),l.charCodeAt(1),l.charCodeAt(2),l.charCodeAt(3)]);const h=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),M=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);V.HDLR_TYPES={video:h,audio:M};const k=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),H=new Uint8Array([0,0,0,0,0,0,0,0]);V.STTS=V.STSC=V.STCO=H,V.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),V.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),V.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),V.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const te=new Uint8Array([105,115,111,109]),De=new Uint8Array([97,118,99,49]),Pe=new Uint8Array([0,0,0,1]);V.FTYP=V.box(V.types.ftyp,te,Pe,te,De),V.DINF=V.box(V.types.dinf,V.box(V.types.dref,k))}static box(l,...h){let M=8,k=h.length;const H=k;for(;k--;)M+=h[k].byteLength;const te=new Uint8Array(M);for(te[0]=M>>24&255,te[1]=M>>16&255,te[2]=M>>8&255,te[3]=255&M,te.set(l,4),k=0,M=8;k<H;k++)te.set(h[k],M),M+=h[k].byteLength;return te}static hdlr(l){return V.box(V.types.hdlr,V.HDLR_TYPES[l])}static mdat(l){return V.box(V.types.mdat,l)}static mdhd(l,h){h*=l;const M=Math.floor(h/(vr+1)),k=Math.floor(h%(vr+1));return V.box(V.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,l>>24&255,l>>16&255,l>>8&255,255&l,M>>24,M>>16&255,M>>8&255,255&M,k>>24,k>>16&255,k>>8&255,255&k,85,196,0,0]))}static mdia(l){return V.box(V.types.mdia,V.mdhd(l.timescale,l.duration),V.hdlr(l.type),V.minf(l))}static mfhd(l){return V.box(V.types.mfhd,new Uint8Array([0,0,0,0,l>>24,l>>16&255,l>>8&255,255&l]))}static minf(l){return V.box(V.types.minf,"audio"===l.type?V.box(V.types.smhd,V.SMHD):V.box(V.types.vmhd,V.VMHD),V.DINF,V.stbl(l))}static moof(l,h,M){return V.box(V.types.moof,V.mfhd(l),V.traf(M,h))}static moov(l){let h=l.length;const M=[];for(;h--;)M[h]=V.trak(l[h]);return V.box.apply(null,[V.types.moov,V.mvhd(l[0].timescale,l[0].duration)].concat(M).concat(V.mvex(l)))}static mvex(l){let h=l.length;const M=[];for(;h--;)M[h]=V.trex(l[h]);return V.box.apply(null,[V.types.mvex,...M])}static mvhd(l,h){h*=l;const M=Math.floor(h/(vr+1)),k=Math.floor(h%(vr+1)),H=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,l>>24&255,l>>16&255,l>>8&255,255&l,M>>24,M>>16&255,M>>8&255,255&M,k>>24,k>>16&255,k>>8&255,255&k,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return V.box(V.types.mvhd,H)}static sdtp(l){const h=l.samples||[],M=new Uint8Array(4+h.length);let k,H;for(k=0;k<h.length;k++)H=h[k].flags,M[k+4]=H.dependsOn<<4|H.isDependedOn<<2|H.hasRedundancy;return V.box(V.types.sdtp,M)}static stbl(l){return V.box(V.types.stbl,V.stsd(l),V.box(V.types.stts,V.STTS),V.box(V.types.stsc,V.STSC),V.box(V.types.stsz,V.STSZ),V.box(V.types.stco,V.STCO))}static avc1(l){let k,H,te,h=[],M=[];for(k=0;k<l.sps.length;k++)H=l.sps[k],te=H.byteLength,h.push(te>>>8&255),h.push(255&te),h=h.concat(Array.prototype.slice.call(H));for(k=0;k<l.pps.length;k++)H=l.pps[k],te=H.byteLength,M.push(te>>>8&255),M.push(255&te),M=M.concat(Array.prototype.slice.call(H));const De=V.box(V.types.avcC,new Uint8Array([1,h[3],h[4],h[5],255,224|l.sps.length].concat(h).concat([l.pps.length]).concat(M))),Pe=l.width,lt=l.height,pt=l.pixelRatio[0],Bt=l.pixelRatio[1];return V.box(V.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Pe>>8&255,255&Pe,lt>>8&255,255&lt,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),De,V.box(V.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),V.box(V.types.pasp,new Uint8Array([pt>>24,pt>>16&255,pt>>8&255,255&pt,Bt>>24,Bt>>16&255,Bt>>8&255,255&Bt])))}static esds(l){const h=l.config.length;return new Uint8Array([0,0,0,0,3,23+h,0,1,0,4,15+h,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([h]).concat(l.config).concat([6,1,2]))}static mp4a(l){const h=l.samplerate;return V.box(V.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,l.channelCount,0,16,0,0,0,0,h>>8&255,255&h,0,0]),V.box(V.types.esds,V.esds(l)))}static mp3(l){const h=l.samplerate;return V.box(V.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,l.channelCount,0,16,0,0,0,0,h>>8&255,255&h,0,0]))}static stsd(l){return V.box(V.types.stsd,V.STSD,"audio"===l.type?"mp3"===l.segmentCodec&&"mp3"===l.codec?V.mp3(l):V.mp4a(l):V.avc1(l))}static tkhd(l){const h=l.id,M=l.duration*l.timescale,k=l.width,H=l.height,te=Math.floor(M/(vr+1)),De=Math.floor(M%(vr+1));return V.box(V.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,h>>24&255,h>>16&255,h>>8&255,255&h,0,0,0,0,te>>24,te>>16&255,te>>8&255,255&te,De>>24,De>>16&255,De>>8&255,255&De,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,k>>8&255,255&k,0,0,H>>8&255,255&H,0,0]))}static traf(l,h){const M=V.sdtp(l),k=l.id,H=Math.floor(h/(vr+1)),te=Math.floor(h%(vr+1));return V.box(V.types.traf,V.box(V.types.tfhd,new Uint8Array([0,0,0,0,k>>24,k>>16&255,k>>8&255,255&k])),V.box(V.types.tfdt,new Uint8Array([1,0,0,0,H>>24,H>>16&255,H>>8&255,255&H,te>>24,te>>16&255,te>>8&255,255&te])),V.trun(l,M.length+16+20+8+16+8+8),M)}static trak(l){return l.duration=l.duration||4294967295,V.box(V.types.trak,V.tkhd(l),V.mdia(l))}static trex(l){const h=l.id;return V.box(V.types.trex,new Uint8Array([0,0,0,0,h>>24,h>>16&255,h>>8&255,255&h,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(l,h){const M=l.samples||[],k=M.length,H=12+16*k,te=new Uint8Array(H);let De,Pe,lt,pt,Bt,jt;for(te.set(["video"===l.type?1:0,0,15,1,k>>>24&255,k>>>16&255,k>>>8&255,255&k,(h+=8+H)>>>24&255,h>>>16&255,h>>>8&255,255&h],0),De=0;De<k;De++)Pe=M[De],lt=Pe.duration,pt=Pe.size,Bt=Pe.flags,jt=Pe.cts,te.set([lt>>>24&255,lt>>>16&255,lt>>>8&255,255&lt,pt>>>24&255,pt>>>16&255,pt>>>8&255,255&pt,Bt.isLeading<<2|Bt.dependsOn,Bt.isDependedOn<<6|Bt.hasRedundancy<<4|Bt.paddingValue<<1|Bt.isNonSync,61440&Bt.degradPrio,15&Bt.degradPrio,jt>>>24&255,jt>>>16&255,jt>>>8&255,255&jt],12+16*De);return V.box(V.types.trun,te)}static initSegment(l){V.types||V.init();const h=V.moov(l),M=new Uint8Array(V.FTYP.byteLength+h.byteLength);return M.set(V.FTYP),M.set(h,V.FTYP.byteLength),M}}return V.types=void 0,V.HDLR_TYPES=void 0,V.STTS=void 0,V.STSC=void 0,V.STCO=void 0,V.STSZ=void 0,V.VMHD=void 0,V.SMHD=void 0,V.STSD=void 0,V.FTYP=void 0,V.DINF=void 0,V})();function Qr(V,r,l=1,h=!1){const M=V*r*l;return h?Math.round(M):M}function Ms(V,r=!1){return Qr(V,1e3,1/9e4,r)}let so,Pl=null,Ea=null;class Va{constructor(r,l,h,M=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=r,this.config=l,this.typeSupported=h,this.ISGenerated=!1,null===Pl){const H=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Pl=H?parseInt(H[1]):0}if(null===Ea){const k=navigator.userAgent.match(/Safari\/(\d+)/i);Ea=k?parseInt(k[1]):0}}destroy(){}resetTimeStamp(r){y.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=r}resetNextTimestamp(){y.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){y.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1}getVideoStartPts(r){let l=!1;const h=r.reduce((M,k)=>{const H=k.pts-M;return H<-4294967296?(l=!0,As(M,k.pts)):H>0?M:k.pts},r[0].pts);return l&&y.debug("PTS rollover detected"),h}remux(r,l,h,M,k,H,te,De){let Pe,lt,pt,Bt,jt,Xt,cn=k,bn=k;const ti=l.pid>-1,zn=l.samples.length,ui=r.samples.length>0,oi=te&&zn>0||zn>1;if((!(r.pid>-1)||ui)&&(!ti||oi)||this.ISGenerated||te){this.ISGenerated||(pt=this.generateIS(r,l,k,H));const pi=this.isVideoContiguous;let Ii,Mi=-1;if(oi&&(Mi=function hc(V){for(let r=0;r<V.length;r++)if(V[r].key)return r;return-1}(l.samples),!pi&&this.config.forceKeyFrameOnDiscontinuity))if(Xt=!0,Mi>0){y.warn(`[mp4-remuxer]: Dropped ${Mi} out of ${zn} video samples due to a missing keyframe`);const li=this.getVideoStartPts(l.samples);l.samples=l.samples.slice(Mi),l.dropped+=Mi,bn+=(l.samples[0].pts-li)/l.inputTimeScale,Ii=bn}else-1===Mi&&(y.warn(`[mp4-remuxer]: No keyframe found out of ${zn} video samples`),Xt=!1);if(this.ISGenerated){if(ui&&oi){const li=this.getVideoStartPts(l.samples),Hi=(As(r.samples[0].pts,li)-li)/l.inputTimeScale;cn+=Math.max(0,Hi),bn+=Math.max(0,-Hi)}if(ui){if(r.samplerate||(y.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),pt=this.generateIS(r,l,k,H)),lt=this.remuxAudio(r,cn,this.isAudioContiguous,H,ti||oi||"audio"===De?bn:void 0),oi){const li=lt?lt.endPTS-lt.startPTS:0;l.inputTimeScale||(y.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),pt=this.generateIS(r,l,k,H)),Pe=this.remuxVideo(l,bn,pi,li)}}else oi&&(Pe=this.remuxVideo(l,bn,pi,0));Pe&&(Pe.firstKeyFrame=Mi,Pe.independent=-1!==Mi,Pe.firstKeyFramePTS=Ii)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(h.samples.length&&(jt=di(h,k,this._initPTS,this._initDTS)),M.samples.length&&(Bt=sr(M,k,this._initPTS))),{audio:lt,video:Pe,initSegment:pt,independent:Xt,text:Bt,id3:jt}}generateIS(r,l,h,M){const k=r.samples,H=l.samples,te=this.typeSupported,De={},Pe=this._initPTS;let Bt,jt,Xt,lt=!Pe||M,pt="audio/mp4";if(lt&&(Bt=jt=1/0),r.config&&k.length&&("mp3"===(r.timescale=r.samplerate,r.segmentCodec)&&(te.mpeg?(pt="audio/mpeg",r.codec=""):te.mp3&&(r.codec="mp3")),De.audio={id:"audio",container:pt,codec:r.codec,initSegment:"mp3"===r.segmentCodec&&te.mpeg?new Uint8Array(0):is.initSegment([r]),metadata:{channelCount:r.channelCount}},lt&&(Xt=r.inputTimeScale,Pe&&Xt===Pe.timescale?lt=!1:Bt=jt=k[0].pts-Math.round(Xt*h))),l.sps&&l.pps&&H.length&&(l.timescale=l.inputTimeScale,De.video={id:"main",container:"video/mp4",codec:l.codec,initSegment:is.initSegment([l]),metadata:{width:l.width,height:l.height}},lt))if(Xt=l.inputTimeScale,Pe&&Xt===Pe.timescale)lt=!1;else{const cn=this.getVideoStartPts(H),bn=Math.round(Xt*h);jt=Math.min(jt,As(H[0].dts,cn)-bn),Bt=Math.min(Bt,cn-bn)}if(Object.keys(De).length)return this.ISGenerated=!0,lt?(this._initPTS={baseTime:Bt,timescale:Xt},this._initDTS={baseTime:jt,timescale:Xt}):Bt=Xt=void 0,{tracks:De,initPTS:Bt,timescale:Xt}}remuxVideo(r,l,h,M){const k=r.inputTimeScale,H=r.samples,te=[],De=H.length,Pe=this._initPTS;let jt,Xt,lt=this.nextAvcDts,pt=8,Bt=this.videoSampleDuration,cn=Number.POSITIVE_INFINITY,bn=Number.NEGATIVE_INFINITY,Bn=!1;h&&null!==lt||(lt=l*k-(H[0].pts-As(H[0].dts,H[0].pts)));const ti=Pe.baseTime*k/Pe.timescale;for(let Vi=0;Vi<De;Vi++){const ar=H[Vi];ar.pts=As(ar.pts-ti,lt),ar.dts=As(ar.dts-ti,lt),ar.dts<H[Vi>0?Vi-1:Vi].dts&&(Bn=!0)}Bn&&H.sort(function(Vi,ar){return Vi.dts-ar.dts||Vi.pts-ar.pts}),jt=H[0].dts,Xt=H[H.length-1].dts;const zn=Xt-jt,ui=zn?Math.round(zn/(De-1)):Bt||r.inputTimeScale/30;if(h){const Vi=jt-lt,ar=Vi>ui,wo=Vi<-1;if((ar||wo)&&(y.warn(ar?`AVC: ${Ms(Vi,!0)} ms (${Vi}dts) hole between fragments detected, filling it`:`AVC: ${Ms(-Vi,!0)} ms (${Vi}dts) overlapping between fragments detected`),!wo||lt>=H[0].pts)){jt=lt;const io=H[0].pts-Vi;H[0].dts=jt,H[0].pts=io,y.log(`Video: First PTS/DTS adjusted: ${Ms(io,!0)}/${Ms(jt,!0)}, delta: ${Ms(Vi,!0)} ms`)}}jt=Math.max(0,jt);let oi=0,Di=0;for(let Vi=0;Vi<De;Vi++){const ar=H[Vi],wo=ar.units,io=wo.length;let So=0;for(let os=0;os<io;os++)So+=wo[os].data.length;Di+=So,oi+=io,ar.length=So,ar.dts=Math.max(ar.dts,jt),cn=Math.min(ar.pts,cn),bn=Math.max(ar.pts,bn)}Xt=H[De-1].dts;const pi=Di+4*oi+8;let Mi;try{Mi=new Uint8Array(pi)}catch(Vi){return void this.observer.emit(S.ERROR,S.ERROR,{type:x.MUX_ERROR,details:A.REMUX_ALLOC_ERROR,fatal:!1,error:Vi,bytes:pi,reason:`fail allocating video mdat ${pi}`})}const Ii=new DataView(Mi.buffer);Ii.setUint32(0,pi),Mi.set(is.types.mdat,4);let li=!1,ji=Number.POSITIVE_INFINITY,Hi=Number.POSITIVE_INFINITY,Io=Number.NEGATIVE_INFINITY,Vs=Number.NEGATIVE_INFINITY;for(let Vi=0;Vi<De;Vi++){const ar=H[Vi],wo=ar.units;let So,io=0;for(let Fa=0,Ja=wo.length;Fa<Ja;Fa++){const Al=wo[Fa],wc=Al.data,cd=Al.data.byteLength;Ii.setUint32(pt,cd),pt+=4,Mi.set(wc,pt),pt+=cd,io+=4+cd}if(Vi<De-1)Bt=H[Vi+1].dts-ar.dts,So=H[Vi+1].pts-ar.pts;else{const Fa=this.config,Ja=Vi>0?ar.dts-H[Vi-1].dts:ui;if(So=Vi>0?ar.pts-H[Vi-1].pts:ui,Fa.stretchShortVideoTrack&&null!==this.nextAudioPts){const Al=Math.floor(Fa.maxBufferHole*k),wc=(M?cn+M*k:this.nextAudioPts)-ar.pts;wc>Al?(Bt=wc-Ja,Bt<0?Bt=Ja:li=!0,y.log(`[mp4-remuxer]: It is approximately ${wc/90} ms to the next segment; using duration ${Bt/90} ms for the last video frame.`)):Bt=Ja}else Bt=Ja}const os=Math.round(ar.pts-ar.dts);ji=Math.min(ji,Bt),Io=Math.max(Io,Bt),Hi=Math.min(Hi,So),Vs=Math.max(Vs,So),te.push(new pl(ar.key,Bt,io,os))}if(te.length)if(Pl){if(Pl<70){const Vi=te[0].flags;Vi.dependsOn=2,Vi.isNonSync=0}}else if(Ea&&Vs-Hi<Io-ji&&ui/Io<.025&&0===te[0].cts){y.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let Vi=jt;for(let ar=0,wo=te.length;ar<wo;ar++){const io=Vi+te[ar].duration;te[ar].duration=ar<wo-1?io+te[ar+1].cts-(Vi+te[ar].cts):ar?te[ar-1].duration:ui,te[ar].cts=0,Vi=io}}Bt=li||!Bt?ui:Bt,this.nextAvcDts=lt=Xt+Bt,this.videoSampleDuration=Bt,this.isVideoContiguous=!0;const ko={data1:is.moof(r.sequenceNumber++,jt,c({},r,{samples:te})),data2:Mi,startPTS:cn/k,endPTS:(bn+Bt)/k,startDTS:jt/k,endDTS:lt/k,type:"video",hasAudio:!1,hasVideo:!0,nb:te.length,dropped:r.dropped};return r.samples=[],r.dropped=0,ko}remuxAudio(r,l,h,M,k){const H=r.inputTimeScale,De=H/(r.samplerate?r.samplerate:H),Pe="aac"===r.segmentCodec?1024:1152,lt=Pe*De,pt=this._initPTS,Bt="mp3"===r.segmentCodec&&this.typeSupported.mpeg,jt=[],Xt=void 0!==k;let cn=r.samples,bn=Bt?0:8,Bn=this.nextAudioPts||-1;const ti=l*H,zn=pt.baseTime*H/pt.timescale;if(this.isAudioContiguous=h=h||cn.length&&Bn>0&&(M&&Math.abs(ti-Bn)<9e3||Math.abs(As(cn[0].pts-zn,ti)-Bn)<20*lt),cn.forEach(function(Lo){Lo.pts=As(Lo.pts-zn,ti)}),!h||Bn<0){if(cn=cn.filter(Lo=>Lo.pts>=0),!cn.length)return;Bn=0===k?0:M&&!Xt?Math.max(0,ti):cn[0].pts}if("aac"===r.segmentCodec){const Lo=this.config.maxAudioFramesDrift;for(let ko=0,Vi=Bn;ko<cn.length;ko++){const ar=cn[ko],wo=ar.pts,io=wo-Vi,So=Math.abs(1e3*io/H);if(io<=-Lo*lt&&Xt)0===ko&&(y.warn(`Audio frame @ ${(wo/H).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*io/H)} ms.`),this.nextAudioPts=Bn=Vi=wo);else if(io>=Lo*lt&&So<1e4&&Xt){let os=Math.round(io/lt);Vi=wo-os*lt,Vi<0&&(os--,Vi+=lt),0===ko&&(this.nextAudioPts=Bn=Vi),y.warn(`[mp4-remuxer]: Injecting ${os} audio frame @ ${(Vi/H).toFixed(3)}s due to ${Math.round(1e3*io/H)} ms gap.`);for(let Fa=0;Fa<os;Fa++){const Ja=Math.max(Vi,0);let Al=Lr.getSilentFrame(r.manifestCodec||r.codec,r.channelCount);Al||(y.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Al=ar.unit.subarray()),cn.splice(ko,0,{unit:Al,pts:Ja}),Vi+=lt,ko++}}ar.pts=Vi,Vi+=lt}}let Di,ui=null,oi=null,pi=0,Mi=cn.length;for(;Mi--;)pi+=cn[Mi].unit.byteLength;for(let Lo=0,ko=cn.length;Lo<ko;Lo++){const Vi=cn[Lo],ar=Vi.unit;let wo=Vi.pts;if(null!==oi)jt[Lo-1].duration=Math.round((wo-oi)/De);else{if(h&&"aac"===r.segmentCodec&&(wo=Bn),ui=wo,!(pi>0))return;pi+=bn;try{Di=new Uint8Array(pi)}catch(So){return void this.observer.emit(S.ERROR,S.ERROR,{type:x.MUX_ERROR,details:A.REMUX_ALLOC_ERROR,fatal:!1,error:So,bytes:pi,reason:`fail allocating audio mdat ${pi}`})}Bt||(new DataView(Di.buffer).setUint32(0,pi),Di.set(is.types.mdat,4))}Di.set(ar,bn);const io=ar.byteLength;bn+=io,jt.push(new pl(!0,Pe,io,0)),oi=wo}const Ii=jt.length;if(!Ii)return;this.nextAudioPts=Bn=oi+De*jt[jt.length-1].duration;const ji=Bt?new Uint8Array(0):is.moof(r.sequenceNumber++,ui/De,c({},r,{samples:jt}));r.samples=[];const Hi=ui/H,Io=Bn/H,Or={data1:ji,data2:Di,startPTS:Hi,endPTS:Io,startDTS:Hi,endDTS:Io,type:"audio",hasAudio:!0,hasVideo:!1,nb:Ii};return this.isAudioContiguous=!0,Or}remuxEmptyAudio(r,l,h,M){const k=r.inputTimeScale,De=this.nextAudioPts,Pe=this._initDTS,lt=9e4*Pe.baseTime/Pe.timescale,pt=(null!==De?De:M.startDTS*k)+lt,jt=k/(r.samplerate?r.samplerate:k)*1024,Xt=Math.ceil((M.endDTS*k+lt-pt)/jt),cn=Lr.getSilentFrame(r.manifestCodec||r.codec,r.channelCount);if(y.warn("[mp4-remuxer]: remux empty Audio"),!cn)return void y.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");const bn=[];for(let Bn=0;Bn<Xt;Bn++){const ti=pt+Bn*jt;bn.push({unit:cn,pts:ti,dts:ti})}return r.samples=bn,this.remuxAudio(r,l,h,!1)}}function As(V,r){let l;if(null===r)return V;for(l=r<V?-8589934592:8589934592;Math.abs(V-r)>4294967296;)V+=l;return V}function di(V,r,l,h){const M=V.samples.length;if(!M)return;const k=V.inputTimeScale;for(let te=0;te<M;te++){const De=V.samples[te];De.pts=As(De.pts-l.baseTime*k/l.timescale,r*k)/k,De.dts=As(De.dts-h.baseTime*k/h.timescale,r*k)/k}const H=V.samples;return V.samples=[],{samples:H}}function sr(V,r,l){const h=V.samples.length;if(!h)return;const M=V.inputTimeScale;for(let H=0;H<h;H++){const te=V.samples[H];te.pts=As(te.pts-l.baseTime*M/l.timescale,r*M)/M}V.samples.sort((H,te)=>H.pts-te.pts);const k=V.samples;return V.samples=[],{samples:k}}class pl{constructor(r,l,h,M){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=l,this.size=h,this.cts=M,this.flags=new mc(r)}}class mc{constructor(r){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=r?2:1,this.isNonSync=r?0:1}}function tl(V,r){const l=V?.codec;return l&&l.length>4?l:"hvc1"===l||"hev1"===l?"hvc1.1.6.L120.90":"av01"===l?"av01.0.04M.08":"avc1"===l||"video"===r?"avc1.42e01e":"mp4a.40.5"}try{so=self.performance.now.bind(self.performance)}catch{y.debug("Unable to use Performance API on this environment"),so=typeof self<"u"&&self.Date.now}const Ka=[{demux:class fc{constructor(r,l){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=l}resetTimeStamp(){}resetInitSegment(r,l,h,M){const k=this.videoTrack=ms("video",1),H=this.audioTrack=ms("audio",1),te=this.txtTrack=ms("text",1);if(this.id3Track=ms("id3",1),this.timeOffset=0,null==r||!r.byteLength)return;const De=He(r);if(De.video){const{id:Pe,timescale:lt,codec:pt}=De.video;k.id=Pe,k.timescale=te.timescale=lt,k.codec=pt}if(De.audio){const{id:Pe,timescale:lt,codec:pt}=De.audio;H.id=Pe,H.timescale=lt,H.codec=pt}te.id=Kt.text,k.sampleDuration=0,k.duration=H.duration=M}resetContiguity(){this.remainderData=null}static probe(r){return vt(r=r.length>16384?r.subarray(0,16384):r,["moof"]).length>0}demux(r,l){this.timeOffset=l;let h=r;const M=this.videoTrack,k=this.txtTrack;if(this.config.progressive){this.remainderData&&(h=En(this.remainderData,r));const te=function on(V){const r={valid:null,remainder:null},l=vt(V,["moof"]);if(!l)return r;if(l.length<2)return r.remainder=V,r;const h=l[l.length-1];return r.valid=oe(V,0,h.byteOffset-8),r.remainder=oe(V,h.byteOffset-8),r}(h);this.remainderData=te.remainder,M.samples=te.valid||new Uint8Array}else M.samples=h;const H=this.extractID3Track(M,l);return k.samples=tn(l,M),{videoTrack:M,audioTrack:this.audioTrack,id3Track:H,textTrack:this.txtTrack}}flush(){const r=this.timeOffset,l=this.videoTrack,h=this.txtTrack;l.samples=this.remainderData||new Uint8Array,this.remainderData=null;const M=this.extractID3Track(l,this.timeOffset);return h.samples=tn(r,l),{videoTrack:l,audioTrack:ms(),id3Track:M,textTrack:ms()}}extractID3Track(r,l){const h=this.id3Track;if(r.samples.length){const M=vt(r.samples,["emsg"]);M&&M.forEach(k=>{const H=function ni(V){const r=V[0];let l="",h="",M=0,k=0,H=0,te=0,De=0,Pe=0;if(0===r){for(;"\0"!==Jt(V.subarray(Pe,Pe+1));)l+=Jt(V.subarray(Pe,Pe+1)),Pe+=1;for(l+=Jt(V.subarray(Pe,Pe+1)),Pe+=1;"\0"!==Jt(V.subarray(Pe,Pe+1));)h+=Jt(V.subarray(Pe,Pe+1)),Pe+=1;h+=Jt(V.subarray(Pe,Pe+1)),Pe+=1,M=un(V,12),k=un(V,16),te=un(V,20),De=un(V,24),Pe=28}else if(1===r){Pe+=4,M=un(V,Pe),Pe+=4;const pt=un(V,Pe);Pe+=4;const Bt=un(V,Pe);for(Pe+=4,H=2**32*pt+Bt,Number.isSafeInteger(H)||(H=Number.MAX_SAFE_INTEGER,y.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),te=un(V,Pe),Pe+=4,De=un(V,Pe),Pe+=4;"\0"!==Jt(V.subarray(Pe,Pe+1));)l+=Jt(V.subarray(Pe,Pe+1)),Pe+=1;for(l+=Jt(V.subarray(Pe,Pe+1)),Pe+=1;"\0"!==Jt(V.subarray(Pe,Pe+1));)h+=Jt(V.subarray(Pe,Pe+1)),Pe+=1;h+=Jt(V.subarray(Pe,Pe+1)),Pe+=1}return{schemeIdUri:l,value:h,timeScale:M,presentationTime:H,presentationTimeDelta:k,eventDuration:te,id:De,payload:V.subarray(Pe,V.byteLength)}}(k);if(hl.test(H.schemeIdUri)){const te=g(H.presentationTime)?H.presentationTime/H.timeScale:l+H.presentationTimeDelta/H.timeScale;let De=4294967295===H.eventDuration?Number.POSITIVE_INFINITY:H.eventDuration/H.timeScale;De<=.001&&(De=Number.POSITIVE_INFINITY);const Pe=H.payload;h.samples.push({data:Pe,len:Pe.byteLength,dts:te,pts:te,type:xr_emsg,duration:De})}})}return h}demuxSampleAes(r,l,h){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}},remux:class jo{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(r){this.initPTS=r,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(r,l,h,M){this.audioCodec=l,this.videoCodec=h,this.generateInitSegment(function Ye(V,r){if(!V||!r)return V;const l=r.keyId;return l&&r.isCommonEncryption&&vt(V,["moov","trak"]).forEach(M=>{const H=vt(M,["mdia","minf","stbl","stsd"])[0].subarray(8);let te=vt(H,["enca"]);const De=te.length>0;De||(te=vt(H,["encv"])),te.forEach(Pe=>{vt(Pe.subarray(De?28:78),["sinf"]).forEach(Bt=>{const jt=st(Bt);if(jt){const Xt=jt.subarray(8,24);Xt.some(cn=>0!==cn)||(y.log(`[eme] Patching keyId in 'enc${De?"a":"v"}>sinf>>tenc' box: ${fe_hexDump(Xt)} -> ${fe_hexDump(l)}`),jt.set(l,8))}})})}),V}(r,M)),this.emitInitSegment=!0}generateInitSegment(r){let{audioCodec:l,videoCodec:h}=this;if(null==r||!r.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const M=this.initData=He(r);l||(l=tl(M.audio,"audio")),h||(h=tl(M.video,"video"));const k={};M.audio&&M.video?k.audiovideo={container:"video/mp4",codec:l+","+h,initSegment:r,id:"main"}:M.audio?k.audio={container:"audio/mp4",codec:l,initSegment:r,id:"audio"}:M.video?k.video={container:"video/mp4",codec:h,initSegment:r,id:"main"}:y.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=k}remux(r,l,h,M,k,H){var te,De;let{initPTS:Pe,lastEndTime:lt}=this;const pt={audio:void 0,video:void 0,text:M,id3:h,initSegment:void 0};g(lt)||(lt=this.lastEndTime=k||0);const Bt=l.samples;if(null==Bt||!Bt.length)return pt;const jt={initPTS:void 0,timescale:1};let Xt=this.initData;if(null!=(te=Xt)&&te.length||(this.generateInitSegment(Bt),Xt=this.initData),null==(De=Xt)||!De.length)return y.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),pt;this.emitInitSegment&&(jt.tracks=this.initTracks,this.emitInitSegment=!1);const cn=function St(V,r){let l=0,h=0,M=0;const k=vt(V,["moof","traf"]);for(let H=0;H<k.length;H++){const te=k[H],De=vt(te,["tfhd"])[0],lt=r[un(De,4)];if(!lt)continue;const pt=lt.default,Bt=un(De,0)|pt?.flags;let jt=pt?.duration;8&Bt&&(jt=un(De,2&Bt?12:8));const Xt=lt.timescale||9e4,cn=vt(te,["trun"]);for(let bn=0;bn<cn.length;bn++)l=bt(cn[bn]),!l&&jt&&(l=jt*un(cn[bn],4)),"video"===lt.type?h+=l/Xt:"audio"===lt.type&&(M+=l/Xt)}if(0===h&&0===M){let H=0;const te=vt(V,["sidx"]);for(let De=0;De<te.length;De++){const Pe=it(te[De]);null!=Pe&&Pe.references&&(H+=Pe.references.reduce((lt,pt)=>lt+pt.info.duration||0,0))}return H}return h||M}(Bt,Xt),bn=function at(V,r){return vt(r,["moof","traf"]).reduce((l,h)=>{const M=vt(h,["tfdt"])[0],k=M[0],H=vt(h,["tfhd"]).reduce((te,De)=>{const Pe=un(De,4),lt=V[Pe];if(lt){let pt=un(M,4);if(1===k){if(pt===ze)return y.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),te;pt*=ze+1,pt+=un(M,8)}const jt=pt/(lt.timescale||9e4);if(isFinite(jt)&&(null===te||jt<te))return jt}return te},null);return null!==H&&isFinite(H)&&(null===l||H<l)?H:l},null)}(Xt,Bt),Bn=null===bn?k:bn;(function Wc(V,r,l,h){if(null===V)return!0;const M=Math.max(h,1);return Math.abs(r-V.baseTime/V.timescale-l)>M}(Pe,Bn,k,cn)||jt.timescale!==Pe.timescale&&H)&&(jt.initPTS=Bn-k,Pe&&1===Pe.timescale&&y.warn("Adjusting initPTS by "+(jt.initPTS-Pe.baseTime)),this.initPTS=Pe={baseTime:jt.initPTS,timescale:1});const ti=r?Bn-Pe.baseTime/Pe.timescale:lt,zn=ti+cn;(function At(V,r,l){vt(r,["moof","traf"]).forEach(h=>{vt(h,["tfhd"]).forEach(M=>{const k=un(M,4),H=V[k];if(!H)return;const te=H.timescale||9e4;vt(h,["tfdt"]).forEach(De=>{const Pe=De[0];let lt=un(De,4);if(0===Pe)lt-=l*te,lt=Math.max(lt,0),wt(De,4,lt);else{lt*=Math.pow(2,32),lt+=un(De,8),lt-=l*te,lt=Math.max(lt,0);const pt=Math.floor(lt/(ze+1)),Bt=Math.floor(lt%(ze+1));wt(De,4,pt),wt(De,8,Bt)}})})})})(Xt,Bt,Pe.baseTime/Pe.timescale),cn>0?this.lastEndTime=zn:(y.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const ui=!!Xt.audio,oi=!!Xt.video;let Di="";ui&&(Di+="audio"),oi&&(Di+="video");const pi={data1:Bt,startPTS:ti,startDTS:ti,endPTS:zn,endDTS:zn,type:Di,hasAudio:ui,hasVideo:oi,nb:1,dropped:0};return pt.audio="audio"===pi.type?pi:void 0,pt.video="audio"!==pi.type?pi:void 0,pt.initSegment=jt,pt.id3=di(h,k,Pe,Pe),M.samples.length&&(pt.text=sr(M,k,Pe)),pt}}},{demux:Zn,remux:Va},{demux:class fl extends ll{constructor(r,l){super(),this.observer=void 0,this.config=void 0,this.observer=r,this.config=l}resetInitSegment(r,l,h,M){super.resetInitSegment(r,l,h,M),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:l,duration:M,inputTimeScale:9e4,dropped:0}}static probe(r){if(!r)return!1;let h=($(r,0)||[]).length;for(let M=r.length;h<M;h++)if(Ha(r,h))return y.log("ADTS sync word found !"),!0;return!1}canParse(r,l){return function uc(V,r){return function Kc(V,r){return r+5<V.length}(V,r)&&cl(V,r)&&Po(V,r)<=V.length-r}(r,l)}appendFrame(r,l,h){dl(r,this.observer,l,h,r.manifestCodec);const M=va(r,l,h,this.basePTS,this.frameIndex);if(M&&0===M.missing)return M}},remux:Va},{demux:class fo extends ll{resetInitSegment(r,l,h,M){super.resetInitSegment(r,l,h,M),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:l,duration:M,inputTimeScale:9e4,dropped:0}}static probe(r){if(!r)return!1;let h=($(r,0)||[]).length;for(let M=r.length;h<M;h++)if(Yt(r,h))return y.log("MPEG Audio sync word found !"),!0;return!1}canParse(r,l){return function $e(V,r){return rr(V,r)&&4<=V.length-r}(r,l)}appendFrame(r,l,h){if(null!==this.basePTS)return Oa(r,l,h,this.basePTS,this.frameIndex)}},remux:Va}];class Ro{constructor(r,l,h,M,k){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=r,this.typeSupported=l,this.config=h,this.vendor=M,this.id=k}configure(r){this.transmuxConfig=r,this.decrypter&&this.decrypter.reset()}push(r,l,h,M){const k=h.transmuxing;k.executeStart=so();let H=new Uint8Array(r);const{currentTransmuxState:te,transmuxConfig:De}=this;M&&(this.currentTransmuxState=M);const{contiguous:Pe,discontinuity:lt,trackSwitch:pt,accurateTimeOffset:Bt,timeOffset:jt,initSegmentChange:Xt}=M||te,{audioCodec:cn,videoCodec:bn,defaultInitPts:Bn,duration:ti,initSegmentData:zn}=De,ui=function Rl(V,r){let l=null;return V.byteLength>0&&null!=r&&null!=r.key&&null!==r.iv&&null!=r.method&&(l=r),l}(H,l);if(ui&&"AES-128"===ui.method){const Mi=this.getDecrypter();if(!Mi.isSync())return this.decryptionPromise=Mi.webCryptoDecrypt(H,ui.key.buffer,ui.iv.buffer).then(Ii=>{const li=this.push(Ii,null,h);return this.decryptionPromise=null,li}),this.decryptionPromise;{let Ii=Mi.softwareDecrypt(H,ui.key.buffer,ui.iv.buffer);if(h.part>-1&&(Ii=Mi.flush()),!Ii)return k.executeEnd=so(),Ta(h);H=new Uint8Array(Ii)}}const oi=this.needsProbing(lt,pt);if(oi){const Mi=this.configureTransmuxer(H);if(Mi)return y.warn(`[transmuxer] ${Mi.message}`),this.observer.emit(S.ERROR,S.ERROR,{type:x.MEDIA_ERROR,details:A.FRAG_PARSING_ERROR,fatal:!1,error:Mi,reason:Mi.message}),k.executeEnd=so(),Ta(h)}(lt||pt||Xt||oi)&&this.resetInitSegment(zn,cn,bn,ti,l),(lt||Xt||oi)&&this.resetInitialTimestamp(Bn),Pe||this.resetContiguity();const Di=this.transmux(H,ui,jt,Bt,h),pi=this.currentTransmuxState;return pi.contiguous=!0,pi.discontinuity=!1,pi.trackSwitch=!1,k.executeEnd=so(),Di}flush(r){const l=r.transmuxing;l.executeStart=so();const{decrypter:h,currentTransmuxState:M,decryptionPromise:k}=this;if(k)return k.then(()=>this.flush(r));const H=[],{timeOffset:te}=M;if(h){const pt=h.flush();pt&&H.push(this.push(pt,null,r))}const{demuxer:De,remuxer:Pe}=this;if(!De||!Pe)return l.executeEnd=so(),[Ta(r)];const lt=De.flush(te);return ps(lt)?lt.then(pt=>(this.flushRemux(H,pt,r),H)):(this.flushRemux(H,lt,r),H)}flushRemux(r,l,h){const{audioTrack:M,videoTrack:k,id3Track:H,textTrack:te}=l,{accurateTimeOffset:De,timeOffset:Pe}=this.currentTransmuxState;y.log(`[transmuxer.ts]: Flushed fragment ${h.sn}${h.part>-1?" p: "+h.part:""} of level ${h.level}`);const lt=this.remuxer.remux(M,k,H,te,Pe,De,!0,this.id);r.push({remuxResult:lt,chunkMeta:h}),h.transmuxing.executeEnd=so()}resetInitialTimestamp(r){const{demuxer:l,remuxer:h}=this;!l||!h||(l.resetTimeStamp(r),h.resetTimeStamp(r))}resetContiguity(){const{demuxer:r,remuxer:l}=this;!r||!l||(r.resetContiguity(),l.resetNextTimestamp())}resetInitSegment(r,l,h,M,k){const{demuxer:H,remuxer:te}=this;!H||!te||(H.resetInitSegment(r,l,h,M),te.resetInitSegment(r,l,h,k))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(r,l,h,M,k){let H;return H=l&&"SAMPLE-AES"===l.method?this.transmuxSampleAes(r,l,h,M,k):this.transmuxUnencrypted(r,h,M,k),H}transmuxUnencrypted(r,l,h,M){const{audioTrack:k,videoTrack:H,id3Track:te,textTrack:De}=this.demuxer.demux(r,l,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(k,H,te,De,l,h,!1,this.id),chunkMeta:M}}transmuxSampleAes(r,l,h,M,k){return this.demuxer.demuxSampleAes(r,l,h).then(H=>({remuxResult:this.remuxer.remux(H.audioTrack,H.videoTrack,H.id3Track,H.textTrack,h,M,!1,this.id),chunkMeta:k}))}configureTransmuxer(r){const{config:l,observer:h,typeSupported:M,vendor:k}=this;let H;for(let pt=0,Bt=Ka.length;pt<Bt;pt++)if(Ka[pt].demux.probe(r)){H=Ka[pt];break}if(!H)return new Error("Failed to find demuxer by probing fragment data");const te=this.demuxer,De=this.remuxer,Pe=H.remux,lt=H.demux;(!De||!(De instanceof Pe))&&(this.remuxer=new Pe(h,l,M,k)),(!te||!(te instanceof lt))&&(this.demuxer=new lt(h,l,M),this.probe=lt.probe)}needsProbing(r,l){return!this.demuxer||!this.remuxer||r||l}getDecrypter(){let r=this.decrypter;return r||(r=this.decrypter=new ns(this.config)),r}}const Ta=V=>({remuxResult:{},chunkMeta:V});function ps(V){return"then"in V&&V.then instanceof Function}class Jo{constructor(r,l,h,M,k){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=r,this.videoCodec=l,this.initSegmentData=h,this.duration=M,this.defaultInitPts=k||null}}class la{constructor(r,l,h,M,k,H){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=r,this.contiguous=l,this.accurateTimeOffset=h,this.trackSwitch=M,this.timeOffset=k,this.initSegmentChange=H}}var gl={exports:{}};!function(V){var r=Object.prototype.hasOwnProperty,l="~";function h(){}function M(De,Pe,lt){this.fn=De,this.context=Pe,this.once=lt||!1}function k(De,Pe,lt,pt,Bt){if("function"!=typeof lt)throw new TypeError("The listener must be a function");var jt=new M(lt,pt||De,Bt),Xt=l?l+Pe:Pe;return De._events[Xt]?De._events[Xt].fn?De._events[Xt]=[De._events[Xt],jt]:De._events[Xt].push(jt):(De._events[Xt]=jt,De._eventsCount++),De}function H(De,Pe){0==--De._eventsCount?De._events=new h:delete De._events[Pe]}function te(){this._events=new h,this._eventsCount=0}Object.create&&(h.prototype=Object.create(null),(new h).__proto__||(l=!1)),te.prototype.eventNames=function(){var lt,pt,Pe=[];if(0===this._eventsCount)return Pe;for(pt in lt=this._events)r.call(lt,pt)&&Pe.push(l?pt.slice(1):pt);return Object.getOwnPropertySymbols?Pe.concat(Object.getOwnPropertySymbols(lt)):Pe},te.prototype.listeners=function(Pe){var pt=this._events[l?l+Pe:Pe];if(!pt)return[];if(pt.fn)return[pt.fn];for(var Bt=0,jt=pt.length,Xt=new Array(jt);Bt<jt;Bt++)Xt[Bt]=pt[Bt].fn;return Xt},te.prototype.listenerCount=function(Pe){var pt=this._events[l?l+Pe:Pe];return pt?pt.fn?1:pt.length:0},te.prototype.emit=function(Pe,lt,pt,Bt,jt,Xt){var cn=l?l+Pe:Pe;if(!this._events[cn])return!1;var ti,zn,bn=this._events[cn],Bn=arguments.length;if(bn.fn){switch(bn.once&&this.removeListener(Pe,bn.fn,void 0,!0),Bn){case 1:return bn.fn.call(bn.context),!0;case 2:return bn.fn.call(bn.context,lt),!0;case 3:return bn.fn.call(bn.context,lt,pt),!0;case 4:return bn.fn.call(bn.context,lt,pt,Bt),!0;case 5:return bn.fn.call(bn.context,lt,pt,Bt,jt),!0;case 6:return bn.fn.call(bn.context,lt,pt,Bt,jt,Xt),!0}for(zn=1,ti=new Array(Bn-1);zn<Bn;zn++)ti[zn-1]=arguments[zn];bn.fn.apply(bn.context,ti)}else{var oi,ui=bn.length;for(zn=0;zn<ui;zn++)switch(bn[zn].once&&this.removeListener(Pe,bn[zn].fn,void 0,!0),Bn){case 1:bn[zn].fn.call(bn[zn].context);break;case 2:bn[zn].fn.call(bn[zn].context,lt);break;case 3:bn[zn].fn.call(bn[zn].context,lt,pt);break;case 4:bn[zn].fn.call(bn[zn].context,lt,pt,Bt);break;default:if(!ti)for(oi=1,ti=new Array(Bn-1);oi<Bn;oi++)ti[oi-1]=arguments[oi];bn[zn].fn.apply(bn[zn].context,ti)}}return!0},te.prototype.on=function(Pe,lt,pt){return k(this,Pe,lt,pt,!1)},te.prototype.once=function(Pe,lt,pt){return k(this,Pe,lt,pt,!0)},te.prototype.removeListener=function(Pe,lt,pt,Bt){var jt=l?l+Pe:Pe;if(!this._events[jt])return this;if(!lt)return H(this,jt),this;var Xt=this._events[jt];if(Xt.fn)Xt.fn===lt&&(!Bt||Xt.once)&&(!pt||Xt.context===pt)&&H(this,jt);else{for(var cn=0,bn=[],Bn=Xt.length;cn<Bn;cn++)(Xt[cn].fn!==lt||Bt&&!Xt[cn].once||pt&&Xt[cn].context!==pt)&&bn.push(Xt[cn]);bn.length?this._events[jt]=1===bn.length?bn[0]:bn:H(this,jt)}return this},te.prototype.removeAllListeners=function(Pe){var lt;return Pe?this._events[lt=l?l+Pe:Pe]&&H(this,lt):(this._events=new h,this._eventsCount=0),this},te.prototype.off=te.prototype.removeListener,te.prototype.addListener=te.prototype.on,te.prefixed=l,te.EventEmitter=te,V.exports=te}(gl);var xo=b(gl.exports);const Go=xn()||{isTypeSupported:()=>!1};class nl{constructor(r,l,h,M){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const k=r.config;this.hls=r,this.id=l,this.useWorker=!!k.enableWorker,this.onTransmuxComplete=h,this.onFlush=M;const H=(Pe,lt)=>{(lt=lt||{}).frag=this.frag,lt.id=this.id,Pe===S.ERROR&&(this.error=lt.error),this.hls.trigger(Pe,lt)};this.observer=new xo,this.observer.on(S.FRAG_DECRYPTED,H),this.observer.on(S.ERROR,H);const te={mp4:Go.isTypeSupported("video/mp4"),mpeg:Go.isTypeSupported("audio/mpeg"),mp3:Go.isTypeSupported('audio/mp4; codecs="mp3"')},De=navigator.vendor;if(this.useWorker&&typeof Worker<"u"&&(k.workerPath||function pa(){return"function"==typeof __HLS_WORKER_BUNDLE__}()))try{k.workerPath?(y.log(`loading Web Worker ${k.workerPath} for "${l}"`),this.workerContext=function oa(V){const r=new self.URL(V,self.location.href).href;return{worker:new self.Worker(r),scriptURL:r}}(k.workerPath)):(y.log(`injecting Web Worker for "${l}"`),this.workerContext=function xa(){const V=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),r=self.URL.createObjectURL(V);return{worker:new self.Worker(r),objectURL:r}}()),this.onwmsg=pt=>this.onWorkerMessage(pt);const{worker:lt}=this.workerContext;lt.addEventListener("message",this.onwmsg),lt.onerror=pt=>{const Bt=new Error(`${pt.message}  (${pt.filename}:${pt.lineno})`);k.enableWorker=!1,y.warn(`Error in "${l}" Web Worker, fallback to inline`),this.hls.trigger(S.ERROR,{type:x.OTHER_ERROR,details:A.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:Bt})},lt.postMessage({cmd:"init",typeSupported:te,vendor:De,id:l,config:JSON.stringify(k)})}catch(lt){y.warn(`Error setting up "${l}" Web Worker, fallback to inline`,lt),this.resetWorker(),this.error=null,this.transmuxer=new Ro(this.observer,te,k,De,l)}else this.transmuxer=new Ro(this.observer,te,k,De,l)}resetWorker(){if(this.workerContext){const{worker:r,objectURL:l}=this.workerContext;l&&self.URL.revokeObjectURL(l),r.removeEventListener("message",this.onwmsg),r.onerror=null,r.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const l=this.transmuxer;l&&(l.destroy(),this.transmuxer=null)}const r=this.observer;r&&r.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(r,l,h,M,k,H,te,De,Pe,lt){var pt,Bt;Pe.transmuxing.start=self.performance.now();const{transmuxer:jt}=this,Xt=H?H.start:k.start,cn=k.decryptdata,bn=this.frag,Bn=!(bn&&k.cc===bn.cc),ti=!(bn&&Pe.level===bn.level),zn=bn?Pe.sn-bn.sn:-1,ui=this.part?Pe.part-this.part.index:-1,Di=!ti&&(1===zn||0===zn&&(1===ui||0===zn&&Pe.id>1&&Pe.id===bn?.stats.chunkCount&&ui<=0)),pi=self.performance.now();(ti||zn||0===k.stats.parsing.start)&&(k.stats.parsing.start=pi),H&&(ui||!Di)&&(H.stats.parsing.start=pi);const Mi=!(bn&&(null==(pt=k.initSegment)?void 0:pt.url)===(null==(Bt=bn.initSegment)?void 0:Bt.url)),Ii=new la(Bn,Di,De,ti,Xt,Mi);if(!Di||Bn||Mi){y.log(`[transmuxer-interface, ${k.type}]: Starting new transmux session for sn: ${Pe.sn} p: ${Pe.part} level: ${Pe.level} id: ${Pe.id}\n        discontinuity: ${Bn}\n        trackSwitch: ${ti}\n        contiguous: ${Di}\n        accurateTimeOffset: ${De}\n        timeOffset: ${Xt}\n        initSegmentChange: ${Mi}`);const li=new Jo(h,M,l,te,lt);this.configureTransmuxer(li)}if(this.frag=k,this.part=H,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:r,decryptdata:cn,chunkMeta:Pe,state:Ii},r instanceof ArrayBuffer?[r]:[]);else if(jt){const li=jt.push(r,cn,Pe,Ii);ps(li)?(jt.async=!0,li.then(ji=>{this.handleTransmuxComplete(ji)}).catch(ji=>{this.transmuxerError(ji,Pe,"transmuxer-interface push error")})):(jt.async=!1,this.handleTransmuxComplete(li))}}flush(r){r.transmuxing.start=self.performance.now();const{transmuxer:l}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:r});else if(l){let h=l.flush(r);ps(h)||l.async?(ps(h)||(h=Promise.resolve(h)),h.then(k=>{this.handleFlushResult(k,r)}).catch(k=>{this.transmuxerError(k,r,"transmuxer-interface flush error")})):this.handleFlushResult(h,r)}}transmuxerError(r,l,h){this.hls&&(this.error=r,this.hls.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.FRAG_PARSING_ERROR,chunkMeta:l,fatal:!1,error:r,err:r,reason:h}))}handleFlushResult(r,l){r.forEach(h=>{this.handleTransmuxComplete(h)}),this.onFlush(l)}onWorkerMessage(r){const l=r.data,h=this.hls;switch(l.event){case"init":{var M;const k=null==(M=this.workerContext)?void 0:M.objectURL;k&&self.URL.revokeObjectURL(k);break}case"transmuxComplete":this.handleTransmuxComplete(l.data);break;case"flush":this.onFlush(l.data);break;case"workerLog":y[l.data.logType]&&y[l.data.logType](l.data.message);break;default:l.data=l.data||{},l.data.frag=this.frag,l.data.id=this.id,h.trigger(l.event,l.data)}}configureTransmuxer(r){const{transmuxer:l}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:r}):l&&l.configure(r)}handleTransmuxComplete(r){r.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(r)}}class pc{constructor(r,l,h,M){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=r,this.media=l,this.fragmentTracker=h,this.hls=M}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(r,l){const{config:h,media:M,stalled:k}=this;if(null===M)return;const{currentTime:H,seeking:te}=M,De=this.seeking&&!te,Pe=!this.seeking&&te;if(this.seeking=te,H!==r){if(this.moved=!0,null!==k){if(this.stallReported){const Bn=self.performance.now()-k;y.warn(`playback not stuck anymore @${H}, after ${Math.round(Bn)}ms`),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}return}if(Pe||De)return void(this.stalled=null);if(M.paused&&!te||M.ended||0===M.playbackRate||!Br.getBuffered(M).length)return;const lt=Br.bufferInfo(M,H,0),Bt=lt.nextStart||0;if(!(lt.len>0||Bt))return;if(te){const Bn=lt.len>2,ti=!Bt||l&&l.start<=H||Bt-H>2&&!this.fragmentTracker.getPartialFragment(H);if(Bn||ti)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var jt;const Bn=Math.max(Bt,lt.start||0)-H,ti=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,ui=(null==ti||null==(jt=ti.details)?void 0:jt.live)?2*ti.details.targetduration:2,oi=this.fragmentTracker.getPartialFragment(H);if(Bn>0&&(Bn<=ui||oi))return void this._trySkipBufferHole(oi)}const Xt=self.performance.now();if(null===k)return void(this.stalled=Xt);const cn=Xt-k;if(!te&&cn>=250&&(this._reportStall(lt),!this.media))return;const bn=Br.bufferInfo(M,H,h.maxBufferHole);this._tryFixBufferStall(bn,cn)}_tryFixBufferStall(r,l){const{config:h,fragmentTracker:M,media:k}=this;if(null===k)return;const H=k.currentTime,te=M.getPartialFragment(H);te&&(this._trySkipBufferHole(te)||!this.media)||(r.len>h.maxBufferHole||r.nextStart&&r.nextStart-H<h.maxBufferHole)&&l>1e3*h.highBufferWatchdogPeriod&&(y.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(r){const{hls:l,media:h,stallReported:M}=this;if(!M&&h){this.stallReported=!0;const k=new Error(`Playback stalling at @${h.currentTime} due to low buffer (${JSON.stringify(r)})`);y.warn(k.message),l.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.BUFFER_STALLED_ERROR,fatal:!1,error:k,buffer:r.len})}}_trySkipBufferHole(r){const{config:l,hls:h,media:M}=this;if(null===M)return 0;const k=M.currentTime,H=Br.bufferInfo(M,k,0),te=k<H.start?H.start:H.nextStart;if(te){const lt=te-k;if(lt>0&&(H.len<=l.maxBufferHole||H.len>0&&H.len<1&&M.readyState<3)){if(lt>l.maxBufferHole){const{fragmentTracker:Bt}=this;let jt=!1;if(0===k){const Xt=Bt.getAppendedFrag(0,"main");Xt&&te<Xt.end&&(jt=!0)}if(!jt){const Xt=r||Bt.getAppendedFrag(k,"main");if(Xt){let cn=!1,bn=Xt.end;for(;bn<te;){const Bn=Bt.getPartialFragment(bn);if(!Bn){cn=!0;break}bn+=Bn.duration}if(cn)return 0}}}const pt=Math.max(te+.05,k+.1);if(y.warn(`skipping hole, adjusting currentTime from ${k} to ${pt}`),this.moved=!0,this.stalled=null,M.currentTime=pt,r&&!r.gap){const Bt=new Error(`fragment loaded with buffer holes, seeking from ${k} to ${pt}`);h.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:Bt,reason:Bt.message,frag:r})}return pt}}return 0}_tryNudgeBuffer(){const{config:r,hls:l,media:h,nudgeRetry:M}=this;if(null===h)return;const k=h.currentTime;if(this.nudgeRetry++,M<r.nudgeMaxRetry){const H=k+(M+1)*r.nudgeOffset,te=new Error(`Nudging 'currentTime' from ${k} to ${H}`);y.warn(te.message),h.currentTime=H,l.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.BUFFER_NUDGE_ON_STALL,error:te,fatal:!1})}else{const H=new Error(`Playhead still not moving while enough data buffered @${k} after ${r.nudgeMaxRetry} nudges`);y.error(H.message),l.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.BUFFER_STALLED_ERROR,error:H,fatal:!0})}}}class Yc extends Ns{constructor(r,l,h){super(r,l,h,"[stream-controller]","main"),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:r}=this;r.on(S.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(S.MANIFEST_LOADING,this.onManifestLoading,this),r.on(S.MANIFEST_PARSED,this.onManifestParsed,this),r.on(S.LEVEL_LOADING,this.onLevelLoading,this),r.on(S.LEVEL_LOADED,this.onLevelLoaded,this),r.on(S.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),r.on(S.ERROR,this.onError,this),r.on(S.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),r.on(S.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),r.on(S.BUFFER_CREATED,this.onBufferCreated,this),r.on(S.BUFFER_FLUSHED,this.onBufferFlushed,this),r.on(S.LEVELS_UPDATED,this.onLevelsUpdated,this),r.on(S.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:r}=this;r.off(S.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(S.MANIFEST_LOADING,this.onManifestLoading,this),r.off(S.MANIFEST_PARSED,this.onManifestParsed,this),r.off(S.LEVEL_LOADED,this.onLevelLoaded,this),r.off(S.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),r.off(S.ERROR,this.onError,this),r.off(S.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),r.off(S.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),r.off(S.BUFFER_CREATED,this.onBufferCreated,this),r.off(S.BUFFER_FLUSHED,this.onBufferFlushed,this),r.off(S.LEVELS_UPDATED,this.onLevelsUpdated,this),r.off(S.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),this.onMediaDetaching()}startLoad(r){if(this.levels){const{lastCurrentTime:l,hls:h}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let M=h.startLevel;-1===M&&(h.config.testBandwidth&&this.levels.length>1?(M=0,this.bitrateTest=!0):M=h.nextAutoLevel),this.level=h.nextLoadLevel=M,this.loadedmetadata=!1}l>0&&-1===r&&(this.log(`Override startPosition with lastCurrentTime @${l.toFixed(3)}`),r=l),this.state="IDLE",this.nextLoadPosition=this.startPosition=this.lastCurrentTime=r,this.tick()}else this._forceStartLoad=!0,this.state="STOPPED"}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case"WAITING_LEVEL":{var r;const{levels:h,level:M}=this,k=null==h||null==(r=h[M])?void 0:r.details;if(k&&(!k.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(k))break;this.state="IDLE";break}if(this.hls.nextLoadLevel!==this.level){this.state="IDLE";break}break}case"FRAG_LOADING_WAITING_RETRY":{var l;const h=self.performance.now(),M=this.retryDate;(!M||h>=M||null!=(l=this.media)&&l.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state="IDLE")}}"IDLE"===this.state&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:r,levelLastLoaded:l,levels:h,media:M}=this,{config:k,nextLoadLevel:H}=r;if(null===l||!M&&(this.startFragRequested||!k.startFragPrefetch)||this.altAudio&&this.audioOnly||null==h||!h[H])return;const te=h[H],De=this.getMainFwdBufferInfo();if(null===De)return;const Pe=this.getLevelDetails();if(Pe&&this._streamEnded(De,Pe)){const bn={};return this.altAudio&&(bn.type="video"),this.hls.trigger(S.BUFFER_EOS,bn),void(this.state="ENDED")}r.loadLevel!==H&&-1===r.manualLevel&&this.log(`Adapting to level ${H} from level ${this.level}`),this.level=r.nextLoadLevel=H;const lt=te.details;if(!lt||"WAITING_LEVEL"===this.state||lt.live&&this.levelLastLoaded!==H)return this.level=H,void(this.state="WAITING_LEVEL");const pt=De.len,Bt=this.getMaxBufferLength(te.maxBitrate);if(pt>=Bt)return;this.backtrackFragment&&this.backtrackFragment.start>De.end&&(this.backtrackFragment=null);const jt=this.backtrackFragment?this.backtrackFragment.start:De.end;let Xt=this.getNextFragment(jt,lt);if(this.couldBacktrack&&!this.fragPrevious&&Xt&&"initSegment"!==Xt.sn&&"OK"!==this.fragmentTracker.getState(Xt)){var cn;const Bn=(null!=(cn=this.backtrackFragment)?cn:Xt).sn-lt.startSN,ti=lt.fragments[Bn-1];ti&&Xt.cc===ti.cc&&(Xt=ti,this.fragmentTracker.removeFragment(ti))}else this.backtrackFragment&&De.len&&(this.backtrackFragment=null);if(Xt&&this.isLoopLoading(Xt,jt)){if(!Xt.gap){const Bn=this.audioOnly&&!this.altAudio?"audio":"video",ti=("video"===Bn?this.videoBuffer:this.mediaBuffer)||this.media;ti&&this.afterBufferFlushed(ti,Bn,"main")}Xt=this.getNextFragmentLoopLoading(Xt,lt,De,"main",Bt)}Xt&&(Xt.initSegment&&!Xt.initSegment.data&&!this.bitrateTest&&(Xt=Xt.initSegment),this.loadFragment(Xt,te,jt))}loadFragment(r,l,h){const M=this.fragmentTracker.getState(r);this.fragCurrent=r,"NOT_LOADED"===M||"PARTIAL"===M?"initSegment"===r.sn?this._loadInitSegment(r,l):this.bitrateTest?(this.log(`Fragment ${r.sn} of level ${r.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(r,l)):(this.startFragRequested=!0,super.loadFragment(r,l,h)):this.clearTrackerIfNeeded(r)}getBufferedFrag(r){return this.fragmentTracker.getBufferedFrag(r,"main")}followingBufferedFrag(r){return r?this.getBufferedFrag(r.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:r,media:l}=this;if(null!=l&&l.readyState){let h;const M=this.getAppendedFrag(l.currentTime);M&&M.start>1&&this.flushMainBuffer(0,M.start-1);const k=this.getLevelDetails();if(null!=k&&k.live){const te=this.getMainFwdBufferInfo();if(!te||te.len<2*k.targetduration)return}if(!l.paused&&r){const Pe=this.fragLastKbps;h=Pe&&this.fragCurrent?this.fragCurrent.duration*r[this.hls.nextLoadLevel].maxBitrate/(1e3*Pe)+1:0}else h=0;const H=this.getBufferedFrag(l.currentTime+h);if(H){const te=this.followingBufferedFrag(H);if(te){this.abortCurrentFrag();const Pe=te.duration,lt=Math.max(H.end,(te.maxStartPTS?te.maxStartPTS:te.start)+Math.min(Math.max(Pe-this.config.maxFragLookUpTolerance,.5*Pe),.75*Pe));this.flushMainBuffer(lt,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const r=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,r&&(r.abortRequests(),this.fragmentTracker.removeFragment(r)),this.state){case"KEY_LOADING":case"FRAG_LOADING":case"FRAG_LOADING_WAITING_RETRY":case"PARSING":case"PARSED":this.state="IDLE"}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(r,l){super.flushMainBuffer(r,l,this.altAudio?"video":null)}onMediaAttached(r,l){super.onMediaAttached(r,l);const h=l.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),h.addEventListener("playing",this.onvplaying),h.addEventListener("seeked",this.onvseeked),this.gapController=new pc(this.config,h,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:r}=this;r&&this.onvplaying&&this.onvseeked&&(r.removeEventListener("playing",this.onvplaying),r.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const r=this.media,l=r?r.currentTime:null;g(l)&&this.log(`Media seeked to ${l.toFixed(3)}`);const h=this.getMainFwdBufferInfo();null!==h&&0!==h.len?this.tick():this.warn(`Main forward buffer length on "seeked" event ${h?h.len:"empty"})`)}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(S.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1}onManifestParsed(r,l){let k,h=!1,M=!1;l.levels.forEach(H=>{k=H.audioCodec,k&&(-1!==k.indexOf("mp4a.40.2")&&(h=!0),-1!==k.indexOf("mp4a.40.5")&&(M=!0))}),this.audioCodecSwitch=h&&M&&!function al(){var V;const r=to();return"function"==typeof(null==r||null==(V=r.prototype)?void 0:V.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=l.levels,this.startFragRequested=!1}onLevelLoading(r,l){const{levels:h}=this;if(!h||"IDLE"!==this.state)return;const M=h[l.level];(!M.details||M.details.live&&this.levelLastLoaded!==l.level||this.waitForCdnTuneIn(M.details))&&(this.state="WAITING_LEVEL")}onLevelLoaded(r,l){var h;const{levels:M}=this,k=l.level,H=l.details,te=H.totalduration;if(!M)return void this.warn(`Levels were reset while loading level ${k}`);this.log(`Level ${k} loaded [${H.startSN},${H.endSN}]${H.lastPartSn?`[part-${H.lastPartSn}-${H.lastPartIndex}]`:""}, cc [${H.startCC}, ${H.endCC}] duration:${te}`);const De=M[k],Pe=this.fragCurrent;Pe&&("FRAG_LOADING"===this.state||"FRAG_LOADING_WAITING_RETRY"===this.state)&&(Pe.level!==l.level||Pe.urlId!==De.urlId)&&Pe.loader&&this.abortCurrentFrag();let lt=0;if(H.live||null!=(h=De.details)&&h.live){if(H.fragments[0]||(H.deltaUpdateFailed=!0),H.deltaUpdateFailed)return;lt=this.alignPlaylists(H,De.details)}if(De.details=H,this.levelLastLoaded=k,this.hls.trigger(S.LEVEL_UPDATED,{details:H,level:k}),"WAITING_LEVEL"===this.state){if(this.waitForCdnTuneIn(H))return;this.state="IDLE"}this.startFragRequested?H.live&&this.synchronizeToLiveEdge(H):this.setStartPosition(H,lt),this.tick()}_handleFragmentLoadProgress(r){var l;const{frag:h,part:M,payload:k}=r,{levels:H}=this;if(!H)return void this.warn(`Levels were reset while fragment load was in progress. Fragment ${h.sn} of level ${h.level} will not be buffered`);const te=H[h.level],De=te.details;if(!De)return this.warn(`Dropping fragment ${h.sn} of level ${h.level} after level details were reset`),void this.fragmentTracker.removeFragment(h);const Pe=te.videoCodec,lt=De.PTSKnown||!De.live,pt=null==(l=h.initSegment)?void 0:l.data,Bt=this._getAudioCodec(te),jt=this.transmuxer=this.transmuxer||new nl(this.hls,"main",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),Xt=M?M.index:-1,bn=new Ho(h.level,h.sn,h.stats.chunkCount,k.byteLength,Xt,-1!==Xt);jt.push(k,pt,Bt,Pe,h,M,De.totalduration,lt,bn,this.initPTS[h.cc])}onAudioTrackSwitching(r,l){const h=this.altAudio;if(!l.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const H=this.fragCurrent;H&&(this.log("Switching to main audio track, cancel main fragment load"),H.abortRequests(),this.fragmentTracker.removeFragment(H)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const k=this.hls;h&&(k.trigger(S.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),k.trigger(S.AUDIO_TRACK_SWITCHED,l)}}onAudioTrackSwitched(r,l){const M=!!this.hls.audioTracks[l.id].url;if(M){const k=this.videoBuffer;k&&this.mediaBuffer!==k&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=k)}this.altAudio=M,this.tick()}onBufferCreated(r,l){const h=l.tracks;let M,k,H=!1;for(const te in h){const De=h[te];if("main"===De.id){if(k=te,M=De,"video"===te){const Pe=h[te];Pe&&(this.videoBuffer=Pe.buffer)}}else H=!0}H&&M?(this.log(`Alternate track found, use ${k}.buffered to schedule main fragment loading`),this.mediaBuffer=M.buffer):this.mediaBuffer=this.media}onFragBuffered(r,l){const{frag:h,part:M}=l;if(h&&"main"!==h.type)return;if(this.fragContextChanged(h))return this.warn(`Fragment ${h.sn}${M?" p: "+M.index:""} of level ${h.level} finished buffering, but was aborted. state: ${this.state}`),void("PARSED"===this.state&&(this.state="IDLE"));const k=M?M.stats:h.stats;this.fragLastKbps=Math.round(8*k.total/(k.buffering.end-k.loading.first)),"initSegment"!==h.sn&&(this.fragPrevious=h),this.fragBufferedComplete(h,M)}onError(r,l){var h;if(l.fatal)this.state="ERROR";else switch(l.details){case A.FRAG_GAP:case A.FRAG_PARSING_ERROR:case A.FRAG_DECRYPT_ERROR:case A.FRAG_LOAD_ERROR:case A.FRAG_LOAD_TIMEOUT:case A.KEY_LOAD_ERROR:case A.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("main",l);break;case A.LEVEL_LOAD_ERROR:case A.LEVEL_LOAD_TIMEOUT:case A.LEVEL_PARSING_ERROR:!l.levelRetry&&"WAITING_LEVEL"===this.state&&"level"===(null==(h=l.context)?void 0:h.type)&&(this.state="IDLE");break;case A.BUFFER_FULL_ERROR:if(!l.parent||"main"!==l.parent)return;this.reduceLengthAndFlushBuffer(l)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case A.INTERNAL_EXCEPTION:this.recoverWorkerError(l)}}checkBuffer(){const{media:r,gapController:l}=this;r&&l&&r.readyState&&(!this.loadedmetadata&&Br.getBuffered(r).length||l.poll(this.lastCurrentTime,"IDLE"!==this.state?this.fragCurrent:null),this.lastCurrentTime=r.currentTime)}onFragLoadEmergencyAborted(){this.state="IDLE",this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(r,{type:l}){("audio"!==l||this.audioOnly&&!this.altAudio)&&this.afterBufferFlushed(("video"===l?this.videoBuffer:this.mediaBuffer)||this.media,l,"main")}onLevelsUpdated(r,l){this.levels=l.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:r}=this;if(!r)return;const l=r.currentTime;let h=this.startPosition;if(h>=0&&l<h){if(r.seeking)return void this.log(`could not seek to ${h}, already seeking at ${l}`);const M=Br.getBuffered(r),H=(M.length?M.start(0):0)-h;H>0&&(H<this.config.maxBufferHole||H<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${H} to match buffer start`),h+=H,this.startPosition=h),this.log(`seek to target start position ${h} from current time ${l}`),r.currentTime=h}}_getAudioCodec(r){let l=this.config.defaultAudioCodec||r.audioCodec;return this.audioCodecSwap&&l&&(this.log("Swapping audio codec"),l=-1!==l.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),l}_loadBitrateTestFrag(r,l){r.bitrateTest=!0,this._doFragLoad(r,l).then(h=>{const{hls:M}=this;if(!h||this.fragContextChanged(r))return;l.fragmentError=0,this.state="IDLE",this.startFragRequested=!1,this.bitrateTest=!1;const k=r.stats;k.parsing.start=k.parsing.end=k.buffering.start=k.buffering.end=self.performance.now(),M.trigger(S.FRAG_LOADED,h),r.bitrateTest=!1})}_handleTransmuxComplete(r){var l;const h="main",{hls:M}=this,{remuxResult:k,chunkMeta:H}=r,te=this.getCurrentContext(H);if(!te)return void this.resetWhenMissingContext(H);const{frag:De,part:Pe,level:lt}=te,{video:pt,text:Bt,id3:jt,initSegment:Xt}=k,{details:cn}=lt,bn=this.altAudio?void 0:k.audio;if(this.fragContextChanged(De))this.fragmentTracker.removeFragment(De);else{if(this.state="PARSING",Xt){if(null!=Xt&&Xt.tracks){const zn=De.initSegment||De;this._bufferInitSegment(lt,Xt.tracks,zn,H),M.trigger(S.FRAG_PARSING_INIT_SEGMENT,{frag:zn,id:h,tracks:Xt.tracks})}const Bn=Xt.initPTS,ti=Xt.timescale;g(Bn)&&(this.initPTS[De.cc]={baseTime:Bn,timescale:ti},M.trigger(S.INIT_PTS_FOUND,{frag:De,id:h,initPTS:Bn,timescale:ti}))}if(pt&&cn&&"initSegment"!==De.sn){const Bn=cn.fragments[De.sn-1-cn.startSN],ti=De.sn===cn.startSN,zn=!Bn||De.cc>Bn.cc;if(!1!==k.independent){const{startPTS:ui,endPTS:oi,startDTS:Di,endDTS:pi}=pt;if(Pe)Pe.elementaryStreams[pt.type]={startPTS:ui,endPTS:oi,startDTS:Di,endDTS:pi};else if(pt.firstKeyFrame&&pt.independent&&1===H.id&&!zn&&(this.couldBacktrack=!0),pt.dropped&&pt.independent){const Mi=this.getMainFwdBufferInfo(),Ii=(Mi?Mi.end:this.getLoadPosition())+this.config.maxBufferHole;if(!ti&&Ii<(pt.firstKeyFramePTS?pt.firstKeyFramePTS:ui)-this.config.maxBufferHole&&!zn)return void this.backtrack(De);zn&&(De.gap=!0),De.setElementaryStreamInfo(pt.type,De.start,oi,De.start,pi,!0)}De.setElementaryStreamInfo(pt.type,ui,oi,Di,pi),this.backtrackFragment&&(this.backtrackFragment=De),this.bufferFragmentData(pt,De,Pe,H,ti||zn)}else{if(!ti&&!zn)return void this.backtrack(De);De.gap=!0}}if(bn){const{startPTS:Bn,endPTS:ti,startDTS:zn,endDTS:ui}=bn;Pe&&(Pe.elementaryStreams.audio={startPTS:Bn,endPTS:ti,startDTS:zn,endDTS:ui}),De.setElementaryStreamInfo("audio",Bn,ti,zn,ui),this.bufferFragmentData(bn,De,Pe,H)}cn&&null!=jt&&null!=(l=jt.samples)&&l.length&&M.trigger(S.FRAG_PARSING_METADATA,{id:h,frag:De,details:cn,samples:jt.samples}),cn&&Bt&&M.trigger(S.FRAG_PARSING_USERDATA,{id:h,frag:De,details:cn,samples:Bt.samples})}}_bufferInitSegment(r,l,h,M){if("PARSING"!==this.state)return;this.audioOnly=!!l.audio&&!l.video,this.altAudio&&!this.audioOnly&&delete l.audio;const{audio:k,video:H,audiovideo:te}=l;if(k){let De=r.audioCodec;const Pe=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(De&&(De=-1!==De.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==k.metadata.channelCount&&-1===Pe.indexOf("firefox")&&(De="mp4a.40.5")),-1!==Pe.indexOf("android")&&"audio/mpeg"!==k.container&&(De="mp4a.40.2",this.log(`Android: force audio codec to ${De}`)),r.audioCodec&&r.audioCodec!==De&&this.log(`Swapping manifest audio codec "${r.audioCodec}" for "${De}"`),k.levelCodec=De,k.id="main",this.log(`Init audio buffer, container:${k.container}, codecs[selected/level/parsed]=[${De||""}/${r.audioCodec||""}/${k.codec}]`)}H&&(H.levelCodec=r.videoCodec,H.id="main",this.log(`Init video buffer, container:${H.container}, codecs[level/parsed]=[${r.videoCodec||""}/${H.codec}]`)),te&&this.log(`Init audiovideo buffer, container:${te.container}, codecs[level/parsed]=[${r.attrs.CODECS||""}/${te.codec}]`),this.hls.trigger(S.BUFFER_CODECS,l),Object.keys(l).forEach(De=>{const lt=l[De].initSegment;null!=lt&&lt.byteLength&&this.hls.trigger(S.BUFFER_APPENDING,{type:De,data:lt,frag:h,part:null,chunkMeta:M,parent:h.type})}),this.tick()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,"main")}backtrack(r){this.couldBacktrack=!0,this.backtrackFragment=r,this.resetTransmuxer(),this.flushBufferGap(r),this.fragmentTracker.removeFragment(r),this.fragPrevious=null,this.nextLoadPosition=r.start,this.state="IDLE"}checkFragmentChanged(){const r=this.media;let l=null;if(r&&r.readyState>1&&!1===r.seeking){const h=r.currentTime;if(Br.isBuffered(r,h)?l=this.getAppendedFrag(h):Br.isBuffered(r,h+.1)&&(l=this.getAppendedFrag(h+.1)),l){this.backtrackFragment=null;const M=this.fragPlaying,k=l.level;(!M||l.sn!==M.sn||M.level!==k||l.urlId!==M.urlId)&&(this.fragPlaying=l,this.hls.trigger(S.FRAG_CHANGED,{frag:l}),(!M||M.level!==k)&&this.hls.trigger(S.LEVEL_SWITCHED,{level:k}))}}}get nextLevel(){const r=this.nextBufferedFrag;return r?r.level:-1}get currentFrag(){const r=this.media;return r?this.fragPlaying||this.getAppendedFrag(r.currentTime):null}get currentProgramDateTime(){const r=this.media;if(r){const l=r.currentTime,h=this.currentFrag;if(h&&g(l)&&g(h.programDateTime))return new Date(h.programDateTime+1e3*(l-h.start))}return null}get currentLevel(){const r=this.currentFrag;return r?r.level:-1}get nextBufferedFrag(){const r=this.currentFrag;return r?this.followingBufferedFrag(r):null}get forceStartLoad(){return this._forceStartLoad}}class $s{constructor(r,l=0,h=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=r,this.alpha_=r?Math.exp(Math.log(.5)/r):0,this.estimate_=l,this.totalWeight_=h}sample(r,l){const h=Math.pow(this.alpha_,r);this.estimate_=l*(1-h)+h*this.estimate_,this.totalWeight_+=r}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const r=1-Math.pow(this.alpha_,this.totalWeight_);if(r)return this.estimate_/r}return this.estimate_}}class yl{constructor(r,l,h,M=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=h,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new $s(r),this.fast_=new $s(l),this.defaultTTFB_=M,this.ttfb_=new $s(r)}update(r,l){const{slow_:h,fast_:M,ttfb_:k}=this;h.halfLife!==r&&(this.slow_=new $s(r,h.getEstimate(),h.getTotalWeight())),M.halfLife!==l&&(this.fast_=new $s(l,M.getEstimate(),M.getTotalWeight())),k.halfLife!==r&&(this.ttfb_=new $s(r,k.getEstimate(),k.getTotalWeight()))}sample(r,l){const M=(r=Math.max(r,this.minDelayMs_))/1e3,k=8*l/M;this.fast_.sample(M,k),this.slow_.sample(M,k)}sampleTTFB(r){const l=r/1e3,h=Math.sqrt(2)*Math.exp(-Math.pow(l,2)/2);this.ttfb_.sample(h,Math.max(r,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}class Wl{constructor(){this.chunks=[],this.dataLength=0}push(r){this.chunks.push(r),this.dataLength+=r.length}flush(){const{chunks:r,dataLength:l}=this;let h;return r.length?(h=1===r.length?r[0]:function gc(V,r){const l=new Uint8Array(r);let h=0;for(let M=0;M<V.length;M++){const k=V[M];l.set(k,h),h+=k.length}return l}(r,l),this.reset(),h):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0}}function Yl(V,r){if(V.length!==r.length)return!1;for(let l=0;l<V.length;l++)if(!Ue(V[l].attrs,r[l].attrs))return!1;return!0}function Ue(V,r){const l=V["STABLE-RENDITION-ID"];return l?l===r["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some(h=>V[h]!==r[h])}class nt{constructor(r){this.buffered=void 0;const l=(h,M,k)=>{if((M>>>=0)>k-1)throw new DOMException(`Failed to execute '${h}' on 'TimeRanges': The index provided (${M}) is greater than the maximum bound (${k})`);return r[M][h]};this.buffered={get length(){return r.length},end:h=>l("end",h,r.length),start:h=>l("start",h,r.length)}}}function sn(V){const r=[];for(let l=0;l<V.length;l++){const h=V[l];("subtitles"===h.kind||"captions"===h.kind)&&h.label&&r.push(V[l])}return r}class dn{constructor(r){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=r}append(r,l){const h=this.queues[l];h.push(r),1===h.length&&this.buffers[l]&&this.executeNext(l)}insertAbort(r,l){this.queues[l].unshift(r),this.executeNext(l)}appendBlocker(r){let l;const h=new Promise(k=>{l=k});return this.append({execute:l,onStart:()=>{},onComplete:()=>{},onError:()=>{}},r),h}executeNext(r){const{buffers:l,queues:h}=this,M=l[r],k=h[r];if(k.length){const H=k[0];try{H.execute()}catch(te){y.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),H.onError(te),null!=M&&M.updating||(k.shift(),this.executeNext(r))}}}shiftAndExecuteNext(r){this.queues[r].shift(),this.executeNext(r)}current(r){return this.queues[r][0]}}const Vn=xn(),mi=/([ha]vc.)(?:\.[^.,]+)+/,Ri={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Tr=function(r){let l=r;return Ri.hasOwnProperty(r)&&(l=Ri[r]),String.fromCharCode(l)},ao=100,Qo={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},gs={17:2,18:4,21:6,22:8,23:10,19:13,20:15},rs={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Wa={25:2,26:4,29:6,30:8,31:10,27:13,28:15},bl=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class da{constructor(){this.time=null,this.verboseLevel=0}log(r,l){if(this.verboseLevel>=r){const h="function"==typeof l?l():l;y.log(`${this.time} [${r}] ${h}`)}}}const _s=function(r){const l=[];for(let h=0;h<r.length;h++)l.push(r[h].toString(16));return l};class El{constructor(r,l,h,M,k){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=r||"white",this.underline=l||!1,this.italics=h||!1,this.background=M||"black",this.flash=k||!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(r){const l=["foreground","underline","italics","background","flash"];for(let h=0;h<l.length;h++){const M=l[h];r.hasOwnProperty(M)&&(this[M]=r[M])}}isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(r){return this.foreground===r.foreground&&this.underline===r.underline&&this.italics===r.italics&&this.background===r.background&&this.flash===r.flash}copy(r){this.foreground=r.foreground,this.underline=r.underline,this.italics=r.italics,this.background=r.background,this.flash=r.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class vc{constructor(r,l,h,M,k,H){this.uchar=void 0,this.penState=void 0,this.uchar=r||" ",this.penState=new El(l,h,M,k,H)}reset(){this.uchar=" ",this.penState.reset()}setChar(r,l){this.uchar=r,this.penState.copy(l)}setPenState(r){this.penState.copy(r)}equals(r){return this.uchar===r.uchar&&this.penState.equals(r.penState)}copy(r){this.uchar=r.uchar,this.penState.copy(r.penState)}isEmpty(){return" "===this.uchar&&this.penState.isDefault()}}class wr{constructor(r){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(let l=0;l<ao;l++)this.chars.push(new vc);this.logger=r,this.pos=0,this.currPenState=new El}equals(r){let l=!0;for(let h=0;h<ao;h++)if(!this.chars[h].equals(r.chars[h])){l=!1;break}return l}copy(r){for(let l=0;l<ao;l++)this.chars[l].copy(r.chars[l])}isEmpty(){let r=!0;for(let l=0;l<ao;l++)if(!this.chars[l].isEmpty()){r=!1;break}return r}setCursor(r){this.pos!==r&&(this.pos=r),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>ao&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=ao)}moveCursor(r){const l=this.pos+r;if(r>1)for(let h=this.pos+1;h<l+1;h++)this.chars[h].setPenState(this.currPenState);this.setCursor(l)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(r){r>=144&&this.backSpace();const l=Tr(r);this.pos>=ao?this.logger.log(0,()=>"Cannot insert "+r.toString(16)+" ("+l+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(l,this.currPenState),this.moveCursor(1))}clearFromPos(r){let l;for(l=r;l<ao;l++)this.chars[l].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const r=[];let l=!0;for(let h=0;h<ao;h++){const M=this.chars[h].uchar;" "!==M&&(l=!1),r.push(M)}return l?"":r.join("")}setPenStyles(r){this.currPenState.setStyles(r),this.chars[this.pos].setPenState(this.currPenState)}}class yc{constructor(r){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(let l=0;l<15;l++)this.rows.push(new wr(r));this.logger=r,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}reset(){for(let r=0;r<15;r++)this.rows[r].clear();this.currRow=14}equals(r){let l=!0;for(let h=0;h<15;h++)if(!this.rows[h].equals(r.rows[h])){l=!1;break}return l}copy(r){for(let l=0;l<15;l++)this.rows[l].copy(r.rows[l])}isEmpty(){let r=!0;for(let l=0;l<15;l++)if(!this.rows[l].isEmpty()){r=!1;break}return r}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(r){this.rows[this.currRow].insertChar(r)}setPen(r){this.rows[this.currRow].setPenStyles(r)}moveCursor(r){this.rows[this.currRow].moveCursor(r)}setCursor(r){this.logger.log(2,"setCursor: "+r),this.rows[this.currRow].setCursor(r)}setPAC(r){this.logger.log(2,()=>"pacData = "+JSON.stringify(r));let l=r.row-1;if(this.nrRollUpRows&&l<this.nrRollUpRows-1&&(l=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==l){for(let te=0;te<15;te++)this.rows[te].clear();const k=this.currRow+1-this.nrRollUpRows,H=this.lastOutputScreen;if(H){const te=H.rows[k].cueStartTime,De=this.logger.time;if(te&&null!==De&&te<De)for(let Pe=0;Pe<this.nrRollUpRows;Pe++)this.rows[l-this.nrRollUpRows+Pe+1].copy(H.rows[k+Pe])}}this.currRow=l;const h=this.rows[this.currRow];if(null!==r.indent){const H=Math.max(r.indent-1,0);h.setCursor(r.indent),r.color=h.chars[H].penState.foreground}this.setPen({foreground:r.color,underline:r.underline,italics:r.italics,background:"black",flash:!1})}setBkgData(r){this.logger.log(2,()=>"bkgData = "+JSON.stringify(r)),this.backSpace(),this.setPen(r),this.insertChar(32)}setRollUpRows(r){this.nrRollUpRows=r}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,()=>this.getDisplayText());const l=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];l.clear(),this.rows.splice(this.currRow,0,l),this.logger.log(2,"Rolling up")}getDisplayText(r){r=r||!1;const l=[];let h="",M=-1;for(let k=0;k<15;k++){const H=this.rows[k].getTextString();H&&(M=k+1,l.push(r?"Row "+M+": '"+H+"'":H.trim()))}return l.length>0&&(h=r?"["+l.join(" | ")+"]":l.join("\n")),h}getTextAndFormat(){return this.rows}}class bc{constructor(r,l,h){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=r,this.outputFilter=l,this.mode=null,this.verbose=0,this.displayedMemory=new yc(h),this.nonDisplayedMemory=new yc(h),this.lastOutputScreen=new yc(h),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=h}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(r){this.outputFilter=r}setPAC(r){this.writeScreen.setPAC(r)}setBkgData(r){this.writeScreen.setBkgData(r)}setMode(r){r!==this.mode&&(this.mode=r,this.logger.log(2,()=>"MODE="+r),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=r)}insertChars(r){for(let h=0;h<r.length;h++)this.writeScreen.insertChar(r[h]);const l=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>l+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(r){this.logger.log(2,"RU("+r+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(r)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const r=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=r,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(r){this.logger.log(2,"TO("+r+") - Tab Offset"),this.writeScreen.moveCursor(r)}ccMIDROW(r){const l={flash:!1};if(l.underline=r%2==1,l.italics=r>=46,l.italics)l.foreground="white";else{const h=Math.floor(r/2)-16;l.foreground=["white","green","blue","cyan","red","yellow","magenta"][h]}this.logger.log(2,"MIDROW: "+JSON.stringify(l)),this.writeScreen.setPen(l)}outputDataUpdate(r=!1){const l=this.logger.time;null!==l&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,l,this.lastOutputScreen),r&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:l):this.cueStartTime=l,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(r){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,r,this.displayedMemory),this.cueStartTime=r))}}class Nl{constructor(r,l,h){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;const M=new da;this.channels=[null,new bc(r,l,M),new bc(r+1,h,M)],this.cmdHistory={a:null,b:null},this.logger=M}getHandler(r){return this.channels[r].getHandler()}setHandler(r,l){this.channels[r].setHandler(l)}addData(r,l){let h,M,k,H=!1;this.logger.time=r;for(let te=0;te<l.length;te+=2)if(M=127&l[te],k=127&l[te+1],0!==M||0!==k){if(this.logger.log(3,"["+_s([l[te],l[te+1]])+"] -> ("+_s([M,k])+")"),h=this.parseCmd(M,k),h||(h=this.parseMidrow(M,k)),h||(h=this.parsePAC(M,k)),h||(h=this.parseBackgroundAttributes(M,k)),!h&&(H=this.parseChars(M,k),H)){const De=this.currentChannel;De&&De>0?this.channels[De].insertChars(H):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!h&&!H&&this.logger.log(2,"Couldn't parse cleaned data "+_s([M,k])+" orig: "+_s([l[te],l[te+1]]))}}parseCmd(r,l){const{cmdHistory:h}=this;if(!((20===r||28===r||21===r||29===r)&&l>=32&&l<=47||(23===r||31===r)&&l>=33&&l<=35))return!1;if(Ra(r,l,h))return qo(null,null,h),this.logger.log(3,"Repeated command ("+_s([r,l])+") is dropped"),!0;const H=20===r||21===r||23===r?1:2,te=this.channels[H];return 20===r||21===r||28===r||29===r?32===l?te.ccRCL():33===l?te.ccBS():34===l?te.ccAOF():35===l?te.ccAON():36===l?te.ccDER():37===l?te.ccRU(2):38===l?te.ccRU(3):39===l?te.ccRU(4):40===l?te.ccFON():41===l?te.ccRDC():42===l?te.ccTR():43===l?te.ccRTD():44===l?te.ccEDM():45===l?te.ccCR():46===l?te.ccENM():47===l&&te.ccEOC():te.ccTO(l-32),qo(r,l,h),this.currentChannel=H,!0}parseMidrow(r,l){let h=0;if((17===r||25===r)&&l>=32&&l<=47){if(h=17===r?1:2,h!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const M=this.channels[h];return!!M&&(M.ccMIDROW(l),this.logger.log(3,"MIDROW ("+_s([r,l])+")"),!0)}return!1}parsePAC(r,l){let h;const M=this.cmdHistory;if(!((r>=17&&r<=23||r>=25&&r<=31)&&l>=64&&l<=127||(16===r||24===r)&&l>=64&&l<=95))return!1;if(Ra(r,l,M))return qo(null,null,M),!0;const te=r<=23?1:2;h=l>=64&&l<=95?1===te?Qo[r]:rs[r]:1===te?gs[r]:Wa[r];const De=this.channels[te];return!!De&&(De.setPAC(this.interpretPAC(h,l)),qo(r,l,M),this.currentChannel=te,!0)}interpretPAC(r,l){let h;const M={color:null,italics:!1,indent:null,underline:!1,row:r};return h=l>95?l-96:l-64,M.underline=1==(1&h),h<=13?M.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(h/2)]:h<=15?(M.italics=!0,M.color="white"):M.indent=4*Math.floor((h-16)/2),M}parseChars(r,l){let h,M=null,k=null;if(r>=25?(h=2,k=r-8):(h=1,k=r),k>=17&&k<=19){let H;H=17===k?l+80:18===k?l+112:l+144,this.logger.log(2,"Special char '"+Tr(H)+"' in channel "+h),M=[H]}else r>=32&&r<=127&&(M=0===l?[r]:[r,l]);if(M){const H=_s(M);this.logger.log(3,"Char codes =  "+H.join(",")),qo(r,l,this.cmdHistory)}return M}parseBackgroundAttributes(r,l){if(!((16===r||24===r)&&l>=32&&l<=47||(23===r||31===r)&&l>=45&&l<=47))return!1;let k;const H={};return 16===r||24===r?(k=Math.floor((l-32)/2),H.background=bl[k],l%2==1&&(H.background=H.background+"_semi")):45===l?H.background="transparent":(H.foreground="black",47===l&&(H.underline=!0)),this.channels[r<=23?1:2].setBkgData(H),qo(r,l,this.cmdHistory),!0}reset(){for(let r=0;r<Object.keys(this.channels).length;r++){const l=this.channels[r];l&&l.reset()}this.cmdHistory={a:null,b:null}}cueSplitAtTime(r){for(let l=0;l<this.channels.length;l++){const h=this.channels[l];h&&h.cueSplitAtTime(r)}}}function qo(V,r,l){l.a=V,l.b=r}function Ra(V,r,l){return l.a===V&&l.b===r}class xs{constructor(r,l){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=r,this.trackName=l}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(r,l,h){(null===this.startTime||this.startTime>r)&&(this.startTime=r),this.endTime=l,this.screen=h,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var Zl=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;const V=["","lr","rl"],r=["start","middle","end","left","right"];function l(te,De){if("string"!=typeof De||!Array.isArray(te))return!1;const Pe=De.toLowerCase();return!!~te.indexOf(Pe)&&Pe}function M(te){return l(r,te)}function k(te,...De){let Pe=1;for(;Pe<arguments.length;Pe++){const lt=arguments[Pe];for(const pt in lt)te[pt]=lt[pt]}return te}function H(te,De,Pe){const lt=this,pt={enumerable:!0};lt.hasBeenReset=!1;let Bt="",jt=!1,Xt=te,cn=De,bn=Pe,Bn=null,ti="",zn=!0,ui="auto",oi="start",Di=50,pi="middle",Mi=50,Ii="middle";Object.defineProperty(lt,"id",k({},pt,{get:function(){return Bt},set:function(li){Bt=""+li}})),Object.defineProperty(lt,"pauseOnExit",k({},pt,{get:function(){return jt},set:function(li){jt=!!li}})),Object.defineProperty(lt,"startTime",k({},pt,{get:function(){return Xt},set:function(li){if("number"!=typeof li)throw new TypeError("Start time must be set to a number.");Xt=li,this.hasBeenReset=!0}})),Object.defineProperty(lt,"endTime",k({},pt,{get:function(){return cn},set:function(li){if("number"!=typeof li)throw new TypeError("End time must be set to a number.");cn=li,this.hasBeenReset=!0}})),Object.defineProperty(lt,"text",k({},pt,{get:function(){return bn},set:function(li){bn=""+li,this.hasBeenReset=!0}})),Object.defineProperty(lt,"region",k({},pt,{get:function(){return Bn},set:function(li){Bn=li,this.hasBeenReset=!0}})),Object.defineProperty(lt,"vertical",k({},pt,{get:function(){return ti},set:function(li){const ji=function h(te){return l(V,te)}(li);if(!1===ji)throw new SyntaxError("An invalid or illegal string was specified.");ti=ji,this.hasBeenReset=!0}})),Object.defineProperty(lt,"snapToLines",k({},pt,{get:function(){return zn},set:function(li){zn=!!li,this.hasBeenReset=!0}})),Object.defineProperty(lt,"line",k({},pt,{get:function(){return ui},set:function(li){if("number"!=typeof li&&"auto"!==li)throw new SyntaxError("An invalid number or illegal string was specified.");ui=li,this.hasBeenReset=!0}})),Object.defineProperty(lt,"lineAlign",k({},pt,{get:function(){return oi},set:function(li){const ji=M(li);if(!ji)throw new SyntaxError("An invalid or illegal string was specified.");oi=ji,this.hasBeenReset=!0}})),Object.defineProperty(lt,"position",k({},pt,{get:function(){return Di},set:function(li){if(li<0||li>100)throw new Error("Position must be between 0 and 100.");Di=li,this.hasBeenReset=!0}})),Object.defineProperty(lt,"positionAlign",k({},pt,{get:function(){return pi},set:function(li){const ji=M(li);if(!ji)throw new SyntaxError("An invalid or illegal string was specified.");pi=ji,this.hasBeenReset=!0}})),Object.defineProperty(lt,"size",k({},pt,{get:function(){return Mi},set:function(li){if(li<0||li>100)throw new Error("Size must be between 0 and 100.");Mi=li,this.hasBeenReset=!0}})),Object.defineProperty(lt,"align",k({},pt,{get:function(){return Ii},set:function(li){const ji=M(li);if(!ji)throw new SyntaxError("An invalid or illegal string was specified.");Ii=ji,this.hasBeenReset=!0}})),lt.displayState=void 0}return H.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},H}();class Tl{decode(r,l){if(!r)return"";if("string"!=typeof r)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(r))}}function Ya(V){function r(h,M,k,H){return 3600*(0|h)+60*(0|M)+(0|k)+parseFloat(H||0)}const l=V.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return l?parseFloat(l[2])>59?r(l[2],l[3],0,l[4]):r(l[1],l[2],l[3],l[4]):null}class $l{constructor(){this.values=Object.create(null)}set(r,l){!this.get(r)&&""!==l&&(this.values[r]=l)}get(r,l,h){return h?this.has(r)?this.values[r]:l[h]:this.has(r)?this.values[r]:l}has(r){return r in this.values}alt(r,l,h){for(let M=0;M<h.length;++M)if(l===h[M]){this.set(r,l);break}}integer(r,l){/^-?\d+$/.test(l)&&this.set(r,parseInt(l,10))}percent(r,l){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(l)){const h=parseFloat(l);if(h>=0&&h<=100)return this.set(r,h),!0}return!1}}function Jl(V,r,l,h){const M=h?V.split(h):[V];for(const k in M){if("string"!=typeof M[k])continue;const H=M[k].split(l);2===H.length&&r(H[0],H[1])}}const Gs=new Zl(0,0,""),Na="middle"===Gs.align?"middle":"center";function rd(V,r,l){const h=V;function M(){const te=Ya(V);if(null===te)throw new Error("Malformed timestamp: "+h);return V=V.replace(/^[^\sa-zA-Z-]+/,""),te}function H(){V=V.replace(/^\s+/,"")}if(H(),r.startTime=M(),H(),"--\x3e"!==V.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+h);V=V.slice(3),H(),r.endTime=M(),H(),function k(te,De){const Pe=new $l;Jl(te,function(Bt,jt){let Xt;switch(Bt){case"region":for(let cn=l.length-1;cn>=0;cn--)if(l[cn].id===jt){Pe.set(Bt,l[cn].region);break}break;case"vertical":Pe.alt(Bt,jt,["rl","lr"]);break;case"line":Xt=jt.split(","),Pe.integer(Bt,Xt[0]),Pe.percent(Bt,Xt[0])&&Pe.set("snapToLines",!1),Pe.alt(Bt,Xt[0],["auto"]),2===Xt.length&&Pe.alt("lineAlign",Xt[1],["start",Na,"end"]);break;case"position":Xt=jt.split(","),Pe.percent(Bt,Xt[0]),2===Xt.length&&Pe.alt("positionAlign",Xt[1],["start",Na,"end","line-left","line-right","auto"]);break;case"size":Pe.percent(Bt,jt);break;case"align":Pe.alt(Bt,jt,["start",Na,"end","left","right"])}},/:/,/\s/),De.region=Pe.get("region",null),De.vertical=Pe.get("vertical","");let lt=Pe.get("line","auto");"auto"===lt&&-1===Gs.line&&(lt=-1),De.line=lt,De.lineAlign=Pe.get("lineAlign","start"),De.snapToLines=Pe.get("snapToLines",!0),De.size=Pe.get("size",100),De.align=Pe.get("align",Na);let pt=Pe.get("position","auto");"auto"===pt&&50===Gs.position&&(pt="start"===De.align||"left"===De.align?0:"end"===De.align||"right"===De.align?100:50),De.position=pt}(V,r)}function vs(V){return V.replace(/<br(?: \/)?>/gi,"\n")}class Ec{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new Tl,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(r){const l=this;function h(){let k=l.buffer,H=0;for(k=vs(k);H<k.length&&"\r"!==k[H]&&"\n"!==k[H];)++H;const te=k.slice(0,H);return"\r"===k[H]&&++H,"\n"===k[H]&&++H,l.buffer=k.slice(H),te}function M(k){Jl(k,function(H,te){},/:/)}r&&(l.buffer+=l.decoder.decode(r,{stream:!0}));try{let k="";if("INITIAL"===l.state){if(!/\r\n|\n/.test(l.buffer))return this;k=h();const te=k.match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(null==te||!te[0])throw new Error("Malformed WebVTT signature.");l.state="HEADER"}let H=!1;for(;l.buffer;){if(!/\r\n|\n/.test(l.buffer))return this;switch(H?H=!1:k=h(),l.state){case"HEADER":/:/.test(k)?M(k):k||(l.state="ID");continue;case"NOTE":k||(l.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(k)){l.state="NOTE";break}if(!k)continue;if(l.cue=new Zl(0,0,""),l.state="CUE",-1===k.indexOf("--\x3e")){l.cue.id=k;continue}case"CUE":if(!l.cue){l.state="BADCUE";continue}try{rd(k,l.cue,l.regionList)}catch{l.cue=null,l.state="BADCUE";continue}l.state="CUETEXT";continue;case"CUETEXT":{const te=-1!==k.indexOf("--\x3e");if(!k||te&&(H=!0)){l.oncue&&l.cue&&l.oncue(l.cue),l.cue=null,l.state="ID";continue}if(null===l.cue)continue;l.cue.text&&(l.cue.text+="\n"),l.cue.text+=k}continue;case"BADCUE":k||(l.state="ID")}}}catch{"CUETEXT"===l.state&&l.cue&&l.oncue&&l.oncue(l.cue),l.cue=null,l.state="INITIAL"===l.state?"BADWEBVTT":"BADCUE"}return this}flush(){const r=this;try{if((r.cue||"HEADER"===r.state)&&(r.buffer+="\n\n",r.parse()),"INITIAL"===r.state||"BADWEBVTT"===r.state)throw new Error("Malformed WebVTT signature.")}catch(l){r.onparsingerror&&r.onparsingerror(l)}return r.onflush&&r.onflush(),this}}const Ll=/\r\n|\n\r|\n|\r/g,il=function(r,l,h=0){return r.slice(h,h+l.length)===l},Js=function(r){let l=5381,h=r.length;for(;h;)l=33*l^r.charCodeAt(--h);return(l>>>0).toString()};function Ql(V,r,l){return Js(V.toString())+Js(r.toString())+Js(l)}const ql="stpp.ttml.im1t",Tc=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Nc=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,Zc={left:"start",center:"center",right:"end",start:"start",end:"end"};function Qs(V,r,l,h){const M=vt(new Uint8Array(V),["mdat"]);if(0===M.length)return void h(new Error("Could not parse IMSC1 mdat"));const k=M.map(te=>Qe(te)),H=function no(V,r,l=1,h=!1){return Qr(V,r,1/l,h)}(r.baseTime,1,r.timescale);try{k.forEach(te=>l(function La(V,r){const M=(new DOMParser).parseFromString(V,"text/xml").getElementsByTagName("tt")[0];if(!M)throw new Error("Invalid ttml");const k={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},H=Object.keys(k).reduce((pt,Bt)=>(pt[Bt]=M.getAttribute(`ttp:${Bt}`)||k[Bt],pt),{}),te="preserve"!==M.getAttribute("xml:space"),De=Cl(Sl(M,"styling","style")),Pe=Cl(Sl(M,"layout","region")),lt=Sl(M,"body","[begin]");return[].map.call(lt,pt=>{const Bt=Fl(pt,te);if(!Bt||!pt.hasAttribute("begin"))return null;const jt=Cc(pt.getAttribute("begin"),H),Xt=Cc(pt.getAttribute("dur"),H);let cn=Cc(pt.getAttribute("end"),H);if(null===jt)throw Sc(pt);if(null===cn){if(null===Xt)throw Sc(pt);cn=jt+Xt}const bn=new Zl(jt-r,cn-r,Bt);bn.id=Ql(bn.startTime,bn.endTime,bn.text);const zn=function Bl(V,r,l){const h="http://www.w3.org/ns/ttml#styling";let M=null;const H=null!=V&&V.hasAttribute("style")?V.getAttribute("style"):null;return H&&l.hasOwnProperty(H)&&(M=l[H]),["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((te,De)=>{const Pe=Lc(r,h,De)||Lc(V,h,De)||Lc(M,h,De);return Pe&&(te[De]=Pe),te},{})}(Pe[pt.getAttribute("region")],De[pt.getAttribute("style")],De),{textAlign:ui}=zn;if(ui){const oi=Zc[ui];oi&&(bn.lineAlign=oi),bn.align=ui}return c(bn,zn),bn}).filter(pt=>null!==pt)}(te,H)))}catch(te){h(te)}}function Sl(V,r,l){const h=V.getElementsByTagName(r)[0];return h?[].slice.call(h.querySelectorAll(l)):[]}function Cl(V){return V.reduce((r,l)=>{const h=l.getAttribute("xml:id");return h&&(r[h]=l),r},{})}function Fl(V,r){return[].slice.call(V.childNodes).reduce((l,h,M)=>{var k;return"br"===h.nodeName&&M?l+"\n":null!=(k=h.childNodes)&&k.length?Fl(h,r):r?l+h.textContent.trim().replace(/\s+/g," "):l+h.textContent},"")}function Lc(V,r,l){return V&&V.hasAttributeNS(r,l)?V.getAttributeNS(r,l):null}function Sc(V){return new Error(`Could not parse ttml timestamp ${V}`)}function Cc(V,r){if(!V)return null;let l=Ya(V);return null===l&&(Tc.test(V)?l=function $c(V,r){const l=Tc.exec(V);return 3600*(0|l[1])+60*(0|l[2])+(0|l[3])+((0|l[4])+(0|l[5])/r.subFrameRate)/r.frameRate}(V,r):Nc.test(V)&&(l=function Jc(V,r){const l=Nc.exec(V),h=Number(l[1]);switch(l[2]){case"h":return 3600*h;case"m":return 60*h;case"ms":return 1e3*h;case"f":return h/r.frameRate;case"t":return h/r.tickRate}return h}(V,r))),l}function za(V,r){return!!V&&V.label===r.name&&!(V.textTrack1||V.textTrack2)}function ka(V,r,l,h){return Math.min(r,h)-Math.max(V,l)}class ec{constructor(r){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=r,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(r){this.streamController=r}destroy(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:r}=this;r.on(S.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),r.on(S.MEDIA_ATTACHING,this.onMediaAttaching,this),r.on(S.MANIFEST_PARSED,this.onManifestParsed,this),r.on(S.BUFFER_CODECS,this.onBufferCodecs,this),r.on(S.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:r}=this;r.off(S.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),r.off(S.MEDIA_ATTACHING,this.onMediaAttaching,this),r.off(S.MANIFEST_PARSED,this.onManifestParsed,this),r.off(S.BUFFER_CODECS,this.onBufferCodecs,this),r.off(S.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(r,l){const h=this.hls.levels[l.droppedLevel];this.isLevelAllowed(h)&&this.restrictedLevels.push({bitrate:h.bitrate,height:h.height,width:h.width})}onMediaAttaching(r,l){this.media=l.media instanceof HTMLVideoElement?l.media:null,this.clientRect=null}onManifestParsed(r,l){const h=this.hls;this.restrictedLevels=[],this.firstLevel=l.firstLevel,h.config.capLevelToPlayerSize&&l.video&&this.startCapping()}onBufferCodecs(r,l){this.hls.config.capLevelToPlayerSize&&l.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){const r=this.hls.levels;if(r.length){const l=this.hls;l.autoLevelCapping=this.getMaxLevel(r.length-1),l.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=l.autoLevelCapping}}}getMaxLevel(r){const l=this.hls.levels;if(!l.length)return-1;const h=l.filter((M,k)=>this.isLevelAllowed(M)&&k<=r);return this.clientRect=null,ec.getMaxLevelByMediaSize(h,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const r=this.media,l={width:0,height:0};if(r){const h=r.getBoundingClientRect();l.width=h.width,l.height=h.height,!l.width&&!l.height&&(l.width=h.right-h.left||r.width||0,l.height=h.bottom-h.top||r.height||0)}return this.clientRect=l,l}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let r=1;if(!this.hls.config.ignoreDevicePixelRatio)try{r=self.devicePixelRatio}catch{}return r}isLevelAllowed(r){return!this.restrictedLevels.some(h=>r.bitrate===h.bitrate&&r.width===h.width&&r.height===h.height)}static getMaxLevelByMediaSize(r,l,h){if(null==r||!r.length)return-1;const M=(H,te)=>!te||H.width!==te.width||H.height!==te.height;let k=r.length-1;for(let H=0;H<r.length;H+=1){const te=r[H];if((te.width>=l||te.height>=h)&&M(te,r[H+1])){k=H;break}}return k}}const Za="[eme]";let Dc=(()=>{class V{constructor(l){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=V.CDMCleanupPromise?[V.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=y.debug.bind(y,Za),this.log=y.log.bind(y,Za),this.warn=y.warn.bind(y,Za),this.error=y.error.bind(y,Za),this.hls=l,this.config=l.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const l=this.config;l.requestMediaKeySystemAccessFunc=null,l.licenseXhrSetup=l.licenseResponseCallback=void 0,l.drmSystems=l.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(S.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(S.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(S.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(S.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(S.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(S.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(S.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(S.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(l){const{drmSystems:h,widevineLicenseUrl:M}=this.config,k=h[l];if(k)return k.licenseUrl;if(l===Te.WIDEVINE&&M)return M;throw new Error(`no license server URL configured for key-system "${l}"`)}getServerCertificateUrl(l){const{drmSystems:h}=this.config,M=h[l];if(M)return M.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${l}"]`)}attemptKeySystemAccess(l){const h=this.hls.levels,M=(te,De,Pe)=>!!te&&Pe.indexOf(te)===De,k=h.map(te=>te.audioCodec).filter(M),H=h.map(te=>te.videoCodec).filter(M);return k.length+H.length===0&&H.push("avc1.42e01e"),new Promise((te,De)=>{const Pe=lt=>{const pt=lt.shift();this.getMediaKeysPromise(pt,k,H).then(Bt=>te({keySystem:pt,mediaKeys:Bt})).catch(Bt=>{lt.length?Pe(lt):De(Bt instanceof qs?Bt:new qs({type:x.KEY_SYSTEM_ERROR,details:A.KEY_SYSTEM_NO_ACCESS,error:Bt,fatal:!0},Bt.message))})};Pe(l)})}requestMediaKeySystemAccess(l,h){const{requestMediaKeySystemAccessFunc:M}=this.config;if("function"!=typeof M){let k=`Configured requestMediaKeySystemAccess is not a function ${M}`;return null===Q&&"http:"===self.location.protocol&&(k=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(k))}return M(l,h)}getMediaKeysPromise(l,h,M){const k=function ie(V,r,l,h){let M;switch(V){case Te.FAIRPLAY:M=["cenc","sinf"];break;case Te.WIDEVINE:case Te.PLAYREADY:M=["cenc"];break;case Te.CLEARKEY:M=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${V}`)}return function ye(V,r,l,h){return[{initDataTypes:V,persistentState:h.persistentState||"not-allowed",distinctiveIdentifier:h.distinctiveIdentifier||"not-allowed",sessionTypes:h.sessionTypes||[h.sessionType||"temporary"],audioCapabilities:r.map(k=>({contentType:`audio/mp4; codecs="${k}"`,robustness:h.audioRobustness||"",encryptionScheme:h.audioEncryptionScheme||null})),videoCapabilities:l.map(k=>({contentType:`video/mp4; codecs="${k}"`,robustness:h.videoRobustness||"",encryptionScheme:h.videoEncryptionScheme||null}))}]}(M,r,l,h)}(l,h,M,this.config.drmSystemOptions),H=this.keySystemAccessPromises[l];let te=H?.keySystemAccess;if(!te){this.log(`Requesting encrypted media "${l}" key-system access with config: ${JSON.stringify(k)}`),te=this.requestMediaKeySystemAccess(l,k);const De=this.keySystemAccessPromises[l]={keySystemAccess:te};return te.catch(Pe=>{this.log(`Failed to obtain access to key-system "${l}": ${Pe}`)}),te.then(Pe=>{this.log(`Access for key-system "${Pe.keySystem}" obtained`);const lt=this.fetchServerCertificate(l);return this.log(`Create media-keys for "${l}"`),De.mediaKeys=Pe.createMediaKeys().then(pt=>(this.log(`Media-keys created for "${l}"`),lt.then(Bt=>Bt?this.setMediaKeysServerCertificate(pt,l,Bt):pt))),De.mediaKeys.catch(pt=>{this.error(`Failed to create media-keys for "${l}"}: ${pt}`)}),De.mediaKeys})}return te.then(()=>H.mediaKeys)}createMediaKeySessionContext({decryptdata:l,keySystem:h,mediaKeys:M}){this.log(`Creating key-system session "${h}" keyId: ${fe_hexDump(l.keyId||[])}`);const k=M.createSession(),H={decryptdata:l,keySystem:h,mediaKeys:M,mediaKeysSession:k,keyStatus:"status-pending"};return this.mediaKeySessions.push(H),H}renewKeySession(l){const h=l.decryptdata;if(h.pssh){const M=this.createMediaKeySessionContext(l),k=this.getKeyIdString(h);this.keyIdToKeySessionPromise[k]=this.generateRequestWithPreferredKeySession(M,"cenc",h.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(l)}getKeyIdString(l){if(!l)throw new Error("Could not read keyId of undefined decryptdata");if(null===l.keyId)throw new Error("keyId is null");return fe_hexDump(l.keyId)}updateKeySession(l,h){var M;const k=l.mediaKeysSession;return this.log(`Updating key-session "${k.sessionId}" for keyID ${fe_hexDump((null==(M=l.decryptdata)?void 0:M.keyId)||[])}\n      } (data length: ${h&&h.byteLength})`),k.update(h)}selectKeySystemFormat(l){const h=Object.keys(l.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${l.sn} ${l.type}: ${l.level}) key formats ${h.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(h)),this.keyFormatPromise}getKeyFormatPromise(l){return new Promise((h,M)=>{const k=be(this.config),H=l.map(Ve).filter(te=>!!te&&-1!==k.indexOf(te));return this.getKeySystemSelectionPromise(H).then(({keySystem:te})=>{const De=Re(te);De?h(De):M(new Error(`Unable to find format for key-system "${te}"`))}).catch(M)})}loadKey(l){const h=l.keyInfo.decryptdata,M=this.getKeyIdString(h),k=`(keyId: ${M} format: "${h.keyFormat}" method: ${h.method} uri: ${h.uri})`;this.log(`Starting session for key ${k}`);let H=this.keyIdToKeySessionPromise[M];return H||(H=this.keyIdToKeySessionPromise[M]=this.getKeySystemForKeyPromise(h).then(({keySystem:te,mediaKeys:De})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${l.frag.sn} ${l.frag.type}: ${l.frag.level} using key ${k}`),this.attemptSetMediaKeys(te,De).then(()=>{this.throwIfDestroyed();const Pe=this.createMediaKeySessionContext({keySystem:te,mediaKeys:De,decryptdata:h});return this.generateRequestWithPreferredKeySession(Pe,"cenc",h.pssh,"playlist-key")}))),H.catch(te=>this.handleError(te))),H}throwIfDestroyed(l="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(l){this.hls&&(this.error(l.message),this.hls.trigger(S.ERROR,l instanceof qs?l.data:{type:x.KEY_SYSTEM_ERROR,details:A.KEY_SYSTEM_NO_KEYS,error:l,fatal:!0}))}getKeySystemForKeyPromise(l){const h=this.getKeyIdString(l),M=this.keyIdToKeySessionPromise[h];if(!M){const k=Ve(l.keyFormat),H=k?[k]:be(this.config);return this.attemptKeySystemAccess(H)}return M}getKeySystemSelectionPromise(l){if(l.length||(l=be(this.config)),0===l.length)throw new qs({type:x.KEY_SYSTEM_ERROR,details:A.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(l)}_onMediaEncrypted(l){const{initDataType:h,initData:M}=l;if(this.debug(`"${l.type}" event: init data type: "${h}"`),null===M)return;let k,H;if("sinf"===h&&this.config.drmSystems[Te.FAIRPLAY]){const pt=Jt(new Uint8Array(M));try{const Bt=pe(JSON.parse(pt).sinf),jt=st(new Uint8Array(Bt));if(!jt)return;k=jt.subarray(8,24),H=Te.FAIRPLAY}catch{return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{const pt=function yn(V){if(!(V instanceof ArrayBuffer)||V.byteLength<32)return null;const r={version:0,systemId:"",kids:null,data:null},l=new DataView(V),h=l.getUint32(0);if(V.byteLength!==h&&h>44||1886614376!==l.getUint32(4)||(r.version=l.getUint32(8)>>>24,r.version>1))return null;r.systemId=fe_hexDump(new Uint8Array(V,12,16));const k=l.getUint32(28);if(0===r.version){if(h-32<k)return null;r.data=new Uint8Array(V,32,k)}else if(1===r.version){r.kids=[];for(let H=0;H<k;H++)r.kids.push(new Uint8Array(V,32+16*H,16))}return r}(M);if(null===pt)return;0===pt.version&&"edef8ba979d64acea3c827dcd51d21ed"===pt.systemId&&pt.data&&(k=pt.data.subarray(8,24)),H=function Ze(V){if("edef8ba979d64acea3c827dcd51d21ed"===V)return Te.WIDEVINE}(pt.systemId)}if(!H||!k)return;const te=fe_hexDump(k),{keyIdToKeySessionPromise:De,mediaKeySessions:Pe}=this;let lt=De[te];for(let pt=0;pt<Pe.length;pt++){const Bt=Pe[pt],jt=Bt.decryptdata;if(jt.pssh||!jt.keyId)continue;const Xt=fe_hexDump(jt.keyId);if(te===Xt||-1!==jt.uri.replace(/-/g,"").indexOf(te)){lt=De[Xt],delete De[Xt],jt.pssh=new Uint8Array(M),jt.keyId=k,lt=De[te]=lt.then(()=>this.generateRequestWithPreferredKeySession(Bt,h,M,"encrypted-event-key-match"));break}}lt||(lt=De[te]=this.getKeySystemSelectionPromise([H]).then(({keySystem:pt,mediaKeys:Bt})=>{var jt;this.throwIfDestroyed();const Xt=new _n("ISO-23001-7",te,null!=(jt=Re(pt))?jt:"");return Xt.pssh=new Uint8Array(M),Xt.keyId=k,this.attemptSetMediaKeys(pt,Bt).then(()=>{this.throwIfDestroyed();const cn=this.createMediaKeySessionContext({decryptdata:Xt,keySystem:pt,mediaKeys:Bt});return this.generateRequestWithPreferredKeySession(cn,h,M,"encrypted-event-no-match")})})),lt.catch(pt=>this.handleError(pt))}_onWaitingForKey(l){this.log(`"${l.type}" event`)}attemptSetMediaKeys(l,h){const M=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${l}"`);const k=Promise.all(M).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(h)});return this.setMediaKeysQueue.push(k),k.then(()=>{this.log(`Media-keys set for "${l}"`),M.push(k),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(H=>-1===M.indexOf(H))})}generateRequestWithPreferredKeySession(l,h,M,k){var H,te;const De=null==(H=this.config.drmSystems)||null==(te=H[l.keySystem])?void 0:te.generateRequest;if(De)try{const jt=De.call(this.hls,h,M,l);if(!jt)throw new Error("Invalid response from configured generateRequest filter");h=jt.initDataType,M=l.decryptdata.pssh=jt.initData?new Uint8Array(jt.initData):null}catch(jt){var Pe;if(this.warn(jt.message),null!=(Pe=this.hls)&&Pe.config.debug)throw jt}if(null===M)return this.log(`Skipping key-session request for "${k}" (no initData)`),Promise.resolve(l);const lt=this.getKeyIdString(l.decryptdata);this.log(`Generating key-session request for "${k}": ${lt} (init data type: ${h} length: ${M?M.byteLength:null})`);const pt=new xo;l.mediaKeysSession.onmessage=jt=>{const Xt=l.mediaKeysSession;if(!Xt)return void pt.emit("error",new Error("invalid state"));const{messageType:cn,message:bn}=jt;this.log(`"${cn}" message event for session "${Xt.sessionId}" message size: ${bn.byteLength}`),"license-request"===cn||"license-renewal"===cn?this.renewLicense(l,bn).catch(Bn=>{this.handleError(Bn),pt.emit("error",Bn)}):"license-release"===cn?l.keySystem===Te.FAIRPLAY&&(this.updateKeySession(l,we("acknowledged")),this.removeSession(l)):this.warn(`unhandled media key message type "${cn}"`)},l.mediaKeysSession.onkeystatuseschange=jt=>{if(!l.mediaKeysSession)return void pt.emit("error",new Error("invalid state"));this.onKeyStatusChange(l);const cn=l.keyStatus;pt.emit("keyStatus",cn),"expired"===cn&&(this.warn(`${l.keySystem} expired for key ${lt}`),this.renewKeySession(l))};const Bt=new Promise((jt,Xt)=>{pt.on("error",Xt),pt.on("keyStatus",cn=>{cn.startsWith("usable")?jt():"output-restricted"===cn?Xt(new qs({type:x.KEY_SYSTEM_ERROR,details:A.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===cn?Xt(new qs({type:x.KEY_SYSTEM_ERROR,details:A.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${cn}"`)):"expired"===cn?Xt(new Error("key expired while generating request")):this.warn(`unhandled key status change "${cn}"`)})});return l.mediaKeysSession.generateRequest(h,M).then(()=>{var jt;this.log(`Request generated for key-session "${null==(jt=l.mediaKeysSession)?void 0:jt.sessionId}" keyId: ${lt}`)}).catch(jt=>{throw new qs({type:x.KEY_SYSTEM_ERROR,details:A.KEY_SYSTEM_NO_SESSION,error:jt,fatal:!1},`Error generating key-session request: ${jt}`)}).then(()=>Bt).catch(jt=>{throw pt.removeAllListeners(),this.removeSession(l),jt}).then(()=>(pt.removeAllListeners(),l))}onKeyStatusChange(l){l.mediaKeysSession.keyStatuses.forEach((h,M)=>{this.log(`key status change "${h}" for keyStatuses keyId: ${fe_hexDump("buffer"in M?new Uint8Array(M.buffer,M.byteOffset,M.byteLength):new Uint8Array(M))} session keyId: ${fe_hexDump(new Uint8Array(l.decryptdata.keyId||[]))} uri: ${l.decryptdata.uri}`),l.keyStatus=h})}fetchServerCertificate(l){const h=this.config,k=new(0,h.loader)(h),H=this.getServerCertificateUrl(l);return H?(this.log(`Fetching serverCertificate for "${l}"`),new Promise((te,De)=>{const Pe={responseType:"arraybuffer",url:H},lt=h.certLoadPolicy.default;k.load(Pe,{loadPolicy:lt,timeout:lt.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(jt,Xt,cn,bn)=>{te(jt.data)},onError:(jt,Xt,cn,bn)=>{De(new qs({type:x.KEY_SYSTEM_ERROR,details:A.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:cn,response:m({url:Pe.url,data:void 0},jt)},`"${l}" certificate request failed (${H}). Status: ${jt.code} (${jt.text})`))},onTimeout:(jt,Xt,cn)=>{De(new qs({type:x.KEY_SYSTEM_ERROR,details:A.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:cn,response:{url:Pe.url,data:void 0}},`"${l}" certificate request timed out (${H})`))},onAbort:(jt,Xt,cn)=>{De(new Error("aborted"))}})})):Promise.resolve()}setMediaKeysServerCertificate(l,h,M){return new Promise((k,H)=>{l.setServerCertificate(M).then(te=>{this.log(`setServerCertificate ${te?"success":"not supported by CDM"} (${M?.byteLength}) on "${h}"`),k(l)}).catch(te=>{H(new qs({type:x.KEY_SYSTEM_ERROR,details:A.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:te,fatal:!0},te.message))})})}renewLicense(l,h){return this.requestLicense(l,new Uint8Array(h)).then(M=>this.updateKeySession(l,new Uint8Array(M)).catch(k=>{throw new qs({type:x.KEY_SYSTEM_ERROR,details:A.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:k,fatal:!0},k.message)}))}setupLicenseXHR(l,h,M,k){const H=this.config.licenseXhrSetup;return H?Promise.resolve().then(()=>{if(!M.decryptdata)throw new Error("Key removed");return H.call(this.hls,l,h,M,k)}).catch(te=>{if(!M.decryptdata)throw te;return l.open("POST",h,!0),H.call(this.hls,l,h,M,k)}).then(te=>(l.readyState||l.open("POST",h,!0),{xhr:l,licenseChallenge:te||k})):(l.open("POST",h,!0),Promise.resolve({xhr:l,licenseChallenge:k}))}requestLicense(l,h){const M=this.config.keyLoadPolicy.default;return new Promise((k,H)=>{const te=this.getLicenseServerUrl(l.keySystem);this.log(`Sending license request to URL: ${te}`);const De=new XMLHttpRequest;De.responseType="arraybuffer",De.onreadystatechange=()=>{if(!this.hls||!l.mediaKeysSession)return H(new Error("invalid state"));if(4===De.readyState)if(200===De.status){this._requestLicenseFailureCount=0;let Pe=De.response;this.log(`License received ${Pe instanceof ArrayBuffer?Pe.byteLength:Pe}`);const lt=this.config.licenseResponseCallback;if(lt)try{Pe=lt.call(this.hls,De,te,l)}catch(pt){this.error(pt)}k(Pe)}else{const Pe=M.errorRetry,lt=Pe?Pe.maxNumRetry:0;this._requestLicenseFailureCount++,this._requestLicenseFailureCount>lt||De.status>=400&&De.status<500?H(new qs({type:x.KEY_SYSTEM_ERROR,details:A.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:De,response:{url:te,data:void 0,code:De.status,text:De.statusText}},`License Request XHR failed (${te}). Status: ${De.status} (${De.statusText})`)):(this.warn(`Retrying license request, ${lt-this._requestLicenseFailureCount+1} attempts left`),this.requestLicense(l,h).then(k,H))}},l.licenseXhr&&l.licenseXhr.readyState!==XMLHttpRequest.DONE&&l.licenseXhr.abort(),l.licenseXhr=De,this.setupLicenseXHR(De,te,l,h).then(({xhr:Pe,licenseChallenge:lt})=>{Pe.send(lt)})})}onMediaAttached(l,h){if(!this.config.emeEnabled)return;const M=h.media;this.media=M,M.addEventListener("encrypted",this.onMediaEncrypted),M.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const l=this.media,h=this.mediaKeySessions;l&&(l.removeEventListener("encrypted",this.onMediaEncrypted),l.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},_n.clearKeyUriToKeyIdMap();const M=h.length;V.CDMCleanupPromise=Promise.all(h.map(k=>this.removeSession(k)).concat(l?.setMediaKeys(null).catch(k=>{this.log(`Could not clear media keys: ${k}. media.src: ${l?.src}`)}))).then(()=>{M&&(this.log("finished closing key sessions and clearing media keys"),h.length=0)}).catch(k=>{this.log(`Could not close sessions and clear media keys: ${k}. media.src: ${l?.src}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(l,{sessionKeys:h}){if(h&&this.config.emeEnabled&&!this.keyFormatPromise){const M=h.reduce((k,H)=>(-1===k.indexOf(H.keyFormat)&&k.push(H.keyFormat),k),[]);this.log(`Selecting key-system from session-keys ${M.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(M)}}removeSession(l){const{mediaKeysSession:h,licenseXhr:M}=l;if(h){this.log(`Remove licenses and keys and close session ${h.sessionId}`),h.onmessage=null,h.onkeystatuseschange=null,M&&M.readyState!==XMLHttpRequest.DONE&&M.abort(),l.mediaKeysSession=l.decryptdata=l.licenseXhr=void 0;const k=this.mediaKeySessions.indexOf(l);return k>-1&&this.mediaKeySessions.splice(k,1),h.remove().catch(H=>{this.log(`Could not remove session: ${H}`)}).then(()=>h.close()).catch(H=>{this.log(`Could not close session: ${H}`)})}}}return V.CDMCleanupPromise=void 0,V})();class qs extends Error{constructor(r,l){super(l),this.data=void 0,r.error||(r.error=new Error(l)),this.data=r,r.err=r.error}}class $a{constructor(r){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=M=>{try{this.apply(M,{ot:"m",su:!this.initialized})}catch(k){y.warn("Could not generate manifest CMCD data.",k)}},this.applyFragmentData=M=>{try{const k=M.frag,H=this.hls.levels[k.level],te=this.getObjectType(k),De={d:1e3*k.duration,ot:te};("v"===te||"a"===te||"av"==te)&&(De.br=H.bitrate/1e3,De.tb=this.getTopBandwidth(te)/1e3,De.bl=this.getBufferLength(te)),this.apply(M,De)}catch(k){y.warn("Could not generate segment CMCD data.",k)}},this.hls=r;const l=this.config=r.config,{cmcd:h}=l;null!=h&&(l.pLoader=this.createPlaylistLoader(),l.fLoader=this.createFragmentLoader(),this.sid=h.sessionId||$a.uuid(),this.cid=h.contentId,this.useHeaders=!0===h.useHeaders,this.registerListeners())}registerListeners(){const r=this.hls;r.on(S.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(S.MEDIA_DETACHED,this.onMediaDetached,this),r.on(S.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const r=this.hls;r.off(S.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(S.MEDIA_DETACHED,this.onMediaDetached,this),r.off(S.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null}onMediaAttached(r,l){this.media=l.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(r,l){var h,M;this.audioBuffer=null==(h=l.tracks.audio)?void 0:h.buffer,this.videoBuffer=null==(M=l.tracks.video)?void 0:M.buffer}createData(){var r;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:null==(r=this.media)?void 0:r.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(r,l={}){if(c(l,this.createData()),this.starved&&("i"===l.ot||"v"===l.ot||"av"===l.ot)&&(l.bs=!0,l.su=!0,this.starved=!1),null==l.su&&(l.su=this.buffering),this.useHeaders){const M=$a.toHeaders(l);if(!Object.keys(M).length)return;r.headers||(r.headers={}),c(r.headers,M)}else{const M=$a.toQuery(l);if(!M)return;r.url=$a.appendQueryToUri(r.url,M)}}getObjectType(r){const{type:l}=r;return"subtitle"===l?"tt":"initSegment"===r.sn?"i":"audio"===l?"a":"main"===l?this.hls.audioTracks.length?"v":"av":void 0}getTopBandwidth(r){let h,l=0;const M=this.hls;if("a"===r)h=M.audioTracks;else{const k=M.maxAutoLevel;h=M.levels.slice(0,k>-1?k+1:M.levels.length)}for(const k of h)k.bitrate>l&&(l=k.bitrate);return l>0?l:NaN}getBufferLength(r){const l=this.hls.media,h="a"===r?this.audioBuffer:this.videoBuffer;return h&&l?1e3*Br.bufferInfo(h,l.currentTime,this.config.maxBufferHole).len:NaN}createPlaylistLoader(){const{pLoader:r}=this.config,l=this.applyPlaylistData,h=r||this.config.loader;return class{constructor(k){this.loader=void 0,this.loader=new h(k)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(k,H,te){l(k),this.loader.load(k,H,te)}}}createFragmentLoader(){const{fLoader:r}=this.config,l=this.applyFragmentData,h=r||this.config.loader;return class{constructor(k){this.loader=void 0,this.loader=new h(k)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(k,H,te){l(k),this.loader.load(k,H,te)}}}static uuid(){const r=URL.createObjectURL(new Blob),l=r.toString();return URL.revokeObjectURL(r),l.slice(l.lastIndexOf("/")+1)}static serialize(r){const l=[],h=Pe=>!Number.isNaN(Pe)&&null!=Pe&&""!==Pe&&!1!==Pe,M=Pe=>Math.round(Pe),k=Pe=>100*M(Pe/100),te={br:M,d:M,bl:k,dl:k,mtp:k,nor:Pe=>encodeURIComponent(Pe),rtp:k,tb:M},De=Object.keys(r||{}).sort();for(const Pe of De){let lt=r[Pe];if(!h(lt)||"v"===Pe&&1===lt||"pr"==Pe&&1===lt)continue;const pt=te[Pe];pt&&(lt=pt(lt));const Bt=typeof lt;let jt;jt="ot"===Pe||"sf"===Pe||"st"===Pe?`${Pe}=${lt}`:"boolean"===Bt?Pe:"number"===Bt?`${Pe}=${lt}`:`${Pe}=${JSON.stringify(lt)}`,l.push(jt)}return l.join(",")}static toHeaders(r){const l=Object.keys(r),h={},M=["Object","Request","Session","Status"],k=[{},{},{},{}],H={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};for(const te of l)k[null!=H[te]?H[te]:1][te]=r[te];for(let te=0;te<k.length;te++){const De=$a.serialize(k[te]);De&&(h[`CMCD-${M[te]}`]=De)}return h}static toQuery(r){return`CMCD=${encodeURIComponent($a.serialize(r))}`}static appendQueryToUri(r,l){if(!l)return r;const h=r.includes("?")?"&":"?";return`${r}${h}${l}`}}function Gl(V,r,l,h){V&&Object.keys(r).forEach(M=>{const k=V.filter(H=>H.groupId===M).map(H=>{const te=c({},H);return te.details=void 0,te.attrs=new ne(te.attrs),te.url=te.attrs.URI=tc(H.url,H.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",l),te.groupId=te.attrs["GROUP-ID"]=r[M],te.attrs["PATHWAY-ID"]=h,te});V.push(...k)})}function tc(V,r,l,h){const{HOST:M,PARAMS:k,[l]:H}=h;let te;r&&(te=H?.[r],te&&(V=te));const De=new self.URL(V);return M&&!te&&(De.host=M),k&&Object.keys(k).sort().forEach(Pe=>{Pe&&De.searchParams.set(Pe,k[Pe])}),De.href}const nc=/^age:\s*[\d.]+\s*$/im;class Zr{constructor(r){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=r&&r.xhrSetup||null,this.stats=new le,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null}abortInternal(){const r=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),r&&(r.onreadystatechange=null,r.onprogress=null,4!==r.readyState&&(this.stats.aborted=!0,r.abort()))}abort(){var r;this.abortInternal(),null!=(r=this.callbacks)&&r.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(r,l,h){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=r,this.config=l,this.callbacks=h,this.loadInternal()}loadInternal(){const{config:r,context:l}=this;if(!r)return;const h=this.loader=new self.XMLHttpRequest,M=this.stats;M.loading.first=0,M.loaded=0,M.aborted=!1;const k=this.xhrSetup;k?Promise.resolve().then(()=>{if(!this.stats.aborted)return k(h,l.url)}).catch(H=>(h.open("GET",l.url,!0),k(h,l.url))).then(()=>{this.stats.aborted||this.openAndSendXhr(h,l,r)}).catch(H=>{this.callbacks.onError({code:h.status,text:H.message},l,h,M)}):this.openAndSendXhr(h,l,r)}openAndSendXhr(r,l,h){r.readyState||r.open("GET",l.url,!0);const M=this.context.headers,{maxTimeToFirstByteMs:k,maxLoadTimeMs:H}=h.loadPolicy;if(M)for(const te in M)r.setRequestHeader(te,M[te]);l.rangeEnd&&r.setRequestHeader("Range","bytes="+l.rangeStart+"-"+(l.rangeEnd-1)),r.onreadystatechange=this.readystatechange.bind(this),r.onprogress=this.loadprogress.bind(this),r.responseType=l.responseType,self.clearTimeout(this.requestTimeout),h.timeout=k&&g(k)?k:H,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),h.timeout),r.send()}readystatechange(){const{context:r,loader:l,stats:h}=this;if(!r||!l)return;const M=l.readyState,k=this.config;if(!h.aborted&&M>=2&&(0===h.loading.first&&(h.loading.first=Math.max(self.performance.now(),h.loading.start),k.timeout!==k.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),k.timeout=k.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),k.loadPolicy.maxLoadTimeMs-(h.loading.first-h.loading.start)))),4===M)){self.clearTimeout(this.requestTimeout),l.onreadystatechange=null,l.onprogress=null;const H=l.status,te="text"!==l.responseType;if(H>=200&&H<300&&(te&&l.response||null!==l.responseText)){h.loading.end=Math.max(self.performance.now(),h.loading.first);const De=te?l.response:l.responseText;if(h.loaded=h.total="arraybuffer"===l.responseType?De.byteLength:De.length,h.bwEstimate=8e3*h.total/(h.loading.end-h.loading.first),!this.callbacks)return;const lt=this.callbacks.onProgress;if(lt&&lt(h,r,De,l),!this.callbacks)return;this.callbacks.onSuccess({url:l.responseURL,data:De,code:H},h,r,l)}else{const De=k.loadPolicy.errorRetry;cr(De,h.retry,!1,H)?this.retry(De):(y.error(`${H} while loading ${r.url}`),this.callbacks.onError({code:H,text:l.statusText},r,l,h))}}}loadtimeout(){var r;const l=null==(r=this.config)?void 0:r.loadPolicy.timeoutRetry;if(cr(l,this.stats.retry,!0))this.retry(l);else{y.warn(`timeout while loading ${this.context.url}`);const M=this.callbacks;M&&(this.abortInternal(),M.onTimeout(this.stats,this.context,this.loader))}}retry(r){const{context:l,stats:h}=this;this.retryDelay=cs(r,h.retry),h.retry++,y.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${l.url}, retrying ${h.retry}/${r.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(r){const l=this.stats;l.loaded=r.loaded,r.lengthComputable&&(l.total=r.total)}getCacheAge(){let r=null;if(this.loader&&nc.test(this.loader.getAllResponseHeaders())){const l=this.loader.getResponseHeader("age");r=l?parseFloat(l):null}return r}getResponseHeader(r){return this.loader&&new RegExp(`^${r}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(r):null}}const Dl=/(\d+)-(\d+)\/(\d+)/;class Xs{constructor(r){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=r.fetchSetup||ic,this.controller=new self.AbortController,this.stats=new le}destroy(){this.loader=this.callbacks=null,this.abortInternal()}abortInternal(){const r=this.response;null!=r&&r.ok||(this.stats.aborted=!0,this.controller.abort())}abort(){var r;this.abortInternal(),null!=(r=this.callbacks)&&r.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(r,l,h){const M=this.stats;if(M.loading.start)throw new Error("Loader can only be used once.");M.loading.start=self.performance.now();const k=function js(V,r){const l={method:"GET",mode:"cors",credentials:"same-origin",signal:r,headers:new self.Headers(c({},V.headers))};return V.rangeEnd&&l.headers.set("Range","bytes="+V.rangeStart+"-"+String(V.rangeEnd-1)),l}(r,this.controller.signal),H=h.onProgress,te="arraybuffer"===r.responseType,De=te?"byteLength":"length",{maxTimeToFirstByteMs:Pe,maxLoadTimeMs:lt}=l.loadPolicy;this.context=r,this.config=l,this.callbacks=h,this.request=this.fetchSetup(r,k),self.clearTimeout(this.requestTimeout),l.timeout=Pe&&g(Pe)?Pe:lt,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),h.onTimeout(M,r,this.response)},l.timeout),self.fetch(this.request).then(pt=>{this.response=this.loader=pt;const Bt=Math.max(self.performance.now(),M.loading.start);if(self.clearTimeout(this.requestTimeout),l.timeout=lt,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),h.onTimeout(M,r,this.response)},lt-(Bt-M.loading.start)),!pt.ok){const{status:jt,statusText:Xt}=pt;throw new Ml(Xt||"fetch, bad network response",jt,pt)}return M.loading.first=Bt,M.total=function Qc(V){const r=V.get("Content-Range");if(r){const h=function Ca(V){const r=Dl.exec(V);if(r)return parseInt(r[2])-parseInt(r[1])+1}(r);if(g(h))return h}const l=V.get("Content-Length");if(l)return parseInt(l)}(pt.headers)||M.total,H&&g(l.highWaterMark)?this.loadProgressively(pt,M,r,l.highWaterMark,H):te?pt.arrayBuffer():"json"===r.responseType?pt.json():pt.text()}).then(pt=>{const{response:Bt}=this;self.clearTimeout(this.requestTimeout),M.loading.end=Math.max(self.performance.now(),M.loading.first);const jt=pt[De];jt&&(M.loaded=M.total=jt);const Xt={url:Bt.url,data:pt,code:Bt.status};H&&!g(l.highWaterMark)&&H(M,r,pt,Bt),h.onSuccess(Xt,M,r,Bt)}).catch(pt=>{self.clearTimeout(this.requestTimeout),M.aborted||h.onError({code:pt&&pt.code||0,text:pt?pt.message:null},r,pt?pt.details:null,M)})}getCacheAge(){let r=null;if(this.response){const l=this.response.headers.get("age");r=l?parseFloat(l):null}return r}getResponseHeader(r){return this.response?this.response.headers.get(r):null}loadProgressively(r,l,h,M=0,k){const H=new Wl,te=r.body.getReader(),De=()=>te.read().then(Pe=>{if(Pe.done)return H.dataLength&&k(l,h,H.flush(),r),Promise.resolve(new ArrayBuffer(0));const lt=Pe.value,pt=lt.length;return l.loaded+=pt,pt<M||H.dataLength?(H.push(lt),H.dataLength>=M&&k(l,h,H.flush(),r)):k(l,h,lt,r),De()}).catch(()=>Promise.reject());return De()}}function ic(V,r){return new self.Request(V.url,r)}class Ml extends Error{constructor(r,l,h){super(r),this.code=void 0,this.details=void 0,this.code=l,this.details=h}}const rc=/\s/,Bc={newCue(V,r,l,h){const M=[];let k,H,te,De,Pe;const lt=self.VTTCue||self.TextTrackCue;for(let Bt=0;Bt<h.rows.length;Bt++)if(k=h.rows[Bt],te=!0,De=0,Pe="",!k.isEmpty()){var pt;for(let cn=0;cn<k.chars.length;cn++)rc.test(k.chars[cn].uchar)&&te?De++:(Pe+=k.chars[cn].uchar,te=!1);k.cueStartTime=r,r===l&&(l+=1e-4),De>=16?De--:De++;const jt=vs(Pe.trim()),Xt=Ql(r,l,jt);null!=V&&null!=(pt=V.cues)&&pt.getCueById(Xt)||(H=new lt(r,l,jt),H.id=Xt,H.line=Bt+1,H.align="left",H.position=10+Math.min(80,10*Math.floor(8*De/32)),M.push(H))}return V&&M.length&&(M.sort((Bt,jt)=>"auto"===Bt.line||"auto"===jt.line?0:Bt.line>8&&jt.line>8?jt.line-Bt.line:Bt.line-jt.line),M.forEach(Bt=>Vr(V,Bt))),M}},We=m(m({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Zr,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class Rc{constructor(r){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=r;const l=r.config;this.bwEstimator=new yl(l.abrEwmaSlowVoD,l.abrEwmaFastVoD,l.abrEwmaDefaultEstimate),this.registerListeners()}registerListeners(){const{hls:r}=this;r.on(S.FRAG_LOADING,this.onFragLoading,this),r.on(S.FRAG_LOADED,this.onFragLoaded,this),r.on(S.FRAG_BUFFERED,this.onFragBuffered,this),r.on(S.LEVEL_SWITCHING,this.onLevelSwitching,this),r.on(S.LEVEL_LOADED,this.onLevelLoaded,this)}unregisterListeners(){const{hls:r}=this;r.off(S.FRAG_LOADING,this.onFragLoading,this),r.off(S.FRAG_LOADED,this.onFragLoaded,this),r.off(S.FRAG_BUFFERED,this.onFragBuffered,this),r.off(S.LEVEL_SWITCHING,this.onLevelSwitching,this),r.off(S.LEVEL_LOADED,this.onLevelLoaded,this)}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null}onFragLoading(r,l){var h;const M=l.frag;this.ignoreFragment(M)||(this.fragCurrent=M,this.partCurrent=null!=(h=l.part)?h:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))}onLevelSwitching(r,l){this.clearTimer()}getTimeToLoadFrag(r,l,h,M){return r+h/l+(M?this.lastLevelLoadSec:0)}onLevelLoaded(r,l){const h=this.hls.config,{total:M,bwEstimate:k}=l.stats;g(M)&&g(k)&&(this.lastLevelLoadSec=8*M/k),l.details.live?this.bwEstimator.update(h.abrEwmaSlowLive,h.abrEwmaFastLive):this.bwEstimator.update(h.abrEwmaSlowVoD,h.abrEwmaFastVoD)}_abandonRulesCheck(){const{fragCurrent:r,partCurrent:l,hls:h}=this,{autoLevelEnabled:M,media:k}=h;if(!r||!k)return;const H=performance.now(),te=l?l.stats:r.stats,De=l?l.duration:r.duration,Pe=H-te.loading.start;if(te.aborted||te.loaded&&te.loaded===te.total||0===r.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!M||k.paused||!k.playbackRate||!k.readyState)return;const lt=h.mainForwardBufferInfo;if(null===lt)return;const pt=this.bwEstimator.getEstimateTTFB(),Bt=Math.abs(k.playbackRate);if(Pe<=Math.max(pt,De/(2*Bt)*1e3))return;const jt=lt.len/Bt;if(jt>=2*De/Bt)return;const Xt=te.loading.first?te.loading.first-te.loading.start:-1,cn=te.loaded&&Xt>-1,bn=this.bwEstimator.getEstimate(),{levels:Bn,minAutoLevel:ti}=h,ui=te.total||Math.max(te.loaded,Math.round(De*Bn[r.level].maxBitrate/8));let oi=Pe-Xt;oi<1&&cn&&(oi=Math.min(Pe,8*te.loaded/bn));const Di=cn?1e3*te.loaded/oi:0,pi=Di?(ui-te.loaded)/Di:8*ui/bn+pt/1e3;if(pi<=jt)return;const Mi=Di?8*Di:bn;let li,Ii=Number.POSITIVE_INFINITY;for(li=r.level-1;li>ti&&(Ii=this.getTimeToLoadFrag(pt/1e3,Mi,De*Bn[li].maxBitrate,!Bn[li].details),!(Ii<jt));li--);Ii>=pi||Ii>10*De||(h.nextLoadLevel=li,cn?this.bwEstimator.sample(Pe-Math.min(pt,Xt),te.loaded):this.bwEstimator.sampleTTFB(Pe),this.clearTimer(),y.warn(`[abr] Fragment ${r.sn}${l?" part "+l.index:""} of level ${r.level} is loading too slowly;\n      Time to underbuffer: ${jt.toFixed(3)} s\n      Estimated load time for current fragment: ${pi.toFixed(3)} s\n      Estimated load time for down switch fragment: ${Ii.toFixed(3)} s\n      TTFB estimate: ${Xt}\n      Current BW estimate: ${g(bn)?(bn/1024).toFixed(3):"Unknown"} Kb/s\n      New BW estimate: ${(this.bwEstimator.getEstimate()/1024).toFixed(3)} Kb/s\n      Aborting and switching to level ${li}`),r.loader&&(this.fragCurrent=this.partCurrent=null,r.abortRequests()),h.trigger(S.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,part:l,stats:te}))}onFragLoaded(r,{frag:l,part:h}){const M=h?h.stats:l.stats;if("main"===l.type&&this.bwEstimator.sampleTTFB(M.loading.first-M.loading.start),!this.ignoreFragment(l)){if(this.clearTimer(),this.lastLoadedFragLevel=l.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){const H=this.hls.levels[l.level],te=(H.loaded?H.loaded.bytes:0)+M.loaded,De=(H.loaded?H.loaded.duration:0)+(h?h.duration:l.duration);H.loaded={bytes:te,duration:De},H.realBitrate=Math.round(8*te/De)}l.bitrateTest&&(this.onFragBuffered(S.FRAG_BUFFERED,{stats:M,frag:l,part:h,id:l.type}),l.bitrateTest=!1)}}onFragBuffered(r,l){const{frag:h,part:M}=l,k=null!=M&&M.stats.loaded?M.stats:h.stats;if(k.aborted||this.ignoreFragment(h))return;const H=k.parsing.end-k.loading.start-Math.min(k.loading.first-k.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(H,k.loaded),k.bwEstimate=this.bwEstimator.getEstimate(),this.bitrateTestDelay=h.bitrateTest?H/1e3:0}ignoreFragment(r){return"main"!==r.type||"initSegment"===r.sn}clearTimer(){self.clearInterval(this.timer)}get nextAutoLevel(){const r=this._nextAutoLevel;if(-1!==r&&!this.bwEstimator.canEstimate())return r;let h=this.getNextABRAutoLevel();if(-1!==r){const M=this.hls.levels;if(M.length>Math.max(r,h)&&M[r].loadError<=M[h].loadError)return r}return-1!==r&&(h=Math.min(r,h)),h}getNextABRAutoLevel(){const{fragCurrent:r,partCurrent:l,hls:h}=this,{maxAutoLevel:M,config:k,minAutoLevel:H,media:te}=h,De=l?l.duration:r?r.duration:0,Pe=te&&0!==te.playbackRate?Math.abs(te.playbackRate):1,lt=this.bwEstimator?this.bwEstimator.getEstimate():k.abrEwmaDefaultEstimate,pt=h.mainForwardBufferInfo,Bt=(pt?pt.len:0)/Pe;let jt=this.findBestLevel(lt,H,M,Bt,k.abrBandWidthFactor,k.abrBandWidthUpFactor);if(jt>=0)return jt;y.trace(`[abr] ${Bt?"rebuffering expected":"buffer is empty"}, finding optimal quality level`);let Xt=De?Math.min(De,k.maxStarvationDelay):k.maxStarvationDelay,cn=k.abrBandWidthFactor,bn=k.abrBandWidthUpFactor;if(!Bt){const Bn=this.bitrateTestDelay;Bn&&(Xt=(De?Math.min(De,k.maxLoadingDelay):k.maxLoadingDelay)-Bn,y.trace(`[abr] bitrate test took ${Math.round(1e3*Bn)}ms, set first fragment max fetchDuration to ${Math.round(1e3*Xt)} ms`),cn=bn=1)}return jt=this.findBestLevel(lt,H,M,Bt+Xt,cn,bn),Math.max(jt,0)}findBestLevel(r,l,h,M,k,H){var te;const{fragCurrent:De,partCurrent:Pe,lastLoadedFragLevel:lt}=this,{levels:pt}=this.hls,Bt=pt[lt],jt=!(null==Bt||null==(te=Bt.details)||!te.live),Xt=Bt?.codecSet,cn=Pe?Pe.duration:De?De.duration:0,bn=this.bwEstimator.getEstimateTTFB()/1e3;let Bn=l,ti=-1;for(let zn=h;zn>=l;zn--){const ui=pt[zn];if(!ui||Xt&&ui.codecSet!==Xt){ui&&(Bn=Math.min(zn,Bn),ti=Math.max(zn,ti));continue}-1!==ti&&y.trace(`[abr] Skipped level(s) ${Bn}-${ti} with CODECS:"${pt[ti].attrs.CODECS}"; not compatible with "${Bt.attrs.CODECS}"`);const oi=ui.details,Di=(Pe?oi?.partTarget:oi?.averagetargetduration)||cn;let pi;pi=zn<=lt?k*r:H*r;const Mi=pt[zn].maxBitrate,Ii=this.getTimeToLoadFrag(bn,pi,Mi*Di,void 0===oi);if(y.trace(`[abr] level:${zn} adjustedbw-bitrate:${Math.round(pi-Mi)} avgDuration:${Di.toFixed(1)} maxFetchDuration:${M.toFixed(1)} fetchDuration:${Ii.toFixed(1)}`),pi>Mi&&(0===Ii||!g(Ii)||jt&&!this.bitrateTestDelay||Ii<M))return zn}return-1}set nextAutoLevel(r){this._nextAutoLevel=r}},bufferController:class Pi{constructor(r){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=()=>{const{media:l,mediaSource:h}=this;y.log("[buffer-controller]: Media source opened"),l&&(l.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(S.MEDIA_ATTACHED,{media:l})),h&&h.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{y.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=()=>{y.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=()=>{const{media:l,_objectUrl:h}=this;l&&l.src!==h&&y.error(`Media element src was set while attaching MediaSource (${h} > ${l.src})`)},this.hls=r,this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null}registerListeners(){const{hls:r}=this;r.on(S.MEDIA_ATTACHING,this.onMediaAttaching,this),r.on(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(S.MANIFEST_LOADING,this.onManifestLoading,this),r.on(S.MANIFEST_PARSED,this.onManifestParsed,this),r.on(S.BUFFER_RESET,this.onBufferReset,this),r.on(S.BUFFER_APPENDING,this.onBufferAppending,this),r.on(S.BUFFER_CODECS,this.onBufferCodecs,this),r.on(S.BUFFER_EOS,this.onBufferEos,this),r.on(S.BUFFER_FLUSHING,this.onBufferFlushing,this),r.on(S.LEVEL_UPDATED,this.onLevelUpdated,this),r.on(S.FRAG_PARSED,this.onFragParsed,this),r.on(S.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:r}=this;r.off(S.MEDIA_ATTACHING,this.onMediaAttaching,this),r.off(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(S.MANIFEST_LOADING,this.onManifestLoading,this),r.off(S.MANIFEST_PARSED,this.onManifestParsed,this),r.off(S.BUFFER_RESET,this.onBufferReset,this),r.off(S.BUFFER_APPENDING,this.onBufferAppending,this),r.off(S.BUFFER_CODECS,this.onBufferCodecs,this),r.off(S.BUFFER_EOS,this.onBufferEos,this),r.off(S.BUFFER_FLUSHING,this.onBufferFlushing,this),r.off(S.LEVEL_UPDATED,this.onLevelUpdated,this),r.off(S.FRAG_PARSED,this.onFragParsed,this),r.off(S.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new dn(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(r,l){let h=2;(l.audio&&!l.video||!l.altAudio)&&(h=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=h,y.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(r,l){const h=this.media=l.media;if(h&&Vn){const M=this.mediaSource=new Vn;M.addEventListener("sourceopen",this._onMediaSourceOpen),M.addEventListener("sourceended",this._onMediaSourceEnded),M.addEventListener("sourceclose",this._onMediaSourceClose),h.src=self.URL.createObjectURL(M),this._objectUrl=h.src,h.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:r,mediaSource:l,_objectUrl:h}=this;if(l){if(y.log("[buffer-controller]: media source detaching"),"open"===l.readyState)try{l.endOfStream()}catch(M){y.warn(`[buffer-controller]: onMediaDetaching: ${M.message} while calling endOfStream`)}this.onBufferReset(),l.removeEventListener("sourceopen",this._onMediaSourceOpen),l.removeEventListener("sourceended",this._onMediaSourceEnded),l.removeEventListener("sourceclose",this._onMediaSourceClose),r&&(r.removeEventListener("emptied",this._onMediaEmptied),h&&self.URL.revokeObjectURL(h),r.src===h?(r.removeAttribute("src"),r.load()):y.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(S.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(r=>{const l=this.sourceBuffer[r];try{l&&(this.removeBufferListeners(r),this.mediaSource&&this.mediaSource.removeSourceBuffer(l),this.sourceBuffer[r]=void 0)}catch(h){y.warn(`[buffer-controller]: Failed to reset the ${r} buffer`,h)}}),this._initSourceBuffer()}onBufferCodecs(r,l){const h=this.getSourceBufferTypes().length;Object.keys(l).forEach(M=>{if(h){const k=this.tracks[M];if(k&&"function"==typeof k.buffer.changeType){const{id:H,codec:te,levelCodec:De,container:Pe,metadata:lt}=l[M],pt=(k.levelCodec||k.codec).replace(mi,"$1"),Bt=(De||te).replace(mi,"$1");pt!==Bt&&(this.appendChangeType(M,`${Pe};codecs=${De||te}`),y.log(`[buffer-controller]: switching codec ${pt} to ${Bt}`),this.tracks[M]={buffer:k.buffer,codec:te,container:Pe,levelCodec:De,metadata:lt,id:H})}}else this.pendingTracks[M]=l[M]}),!h&&(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())}appendChangeType(r,l){const{operationQueue:h}=this,M={execute:()=>{const k=this.sourceBuffer[r];k&&(y.log(`[buffer-controller]: changing ${r} sourceBuffer type to ${l}`),k.changeType(l)),h.shiftAndExecuteNext(r)},onStart:()=>{},onComplete:()=>{},onError:k=>{y.warn(`[buffer-controller]: Failed to change ${r} SourceBuffer type`,k)}};h.append(M,r)}onBufferAppending(r,l){const{hls:h,operationQueue:M,tracks:k}=this,{data:H,type:te,frag:De,part:Pe,chunkMeta:lt}=l,pt=lt.buffering[te],Bt=self.performance.now();pt.start=Bt;const jt=De.stats.buffering,Xt=Pe?Pe.stats.buffering:null;0===jt.start&&(jt.start=Bt),Xt&&0===Xt.start&&(Xt.start=Bt);const cn=k.audio;let bn=!1;"audio"===te&&"audio/mpeg"===cn?.container&&(bn=!this.lastMpegAudioChunk||1===lt.id||this.lastMpegAudioChunk.sn!==lt.sn,this.lastMpegAudioChunk=lt);const Bn=De.start;M.append({execute:()=>{if(pt.executeStart=self.performance.now(),bn){const zn=this.sourceBuffer[te];if(zn){const ui=Bn-zn.timestampOffset;Math.abs(ui)>=.1&&(y.log(`[buffer-controller]: Updating audio SourceBuffer timestampOffset to ${Bn} (delta: ${ui}) sn: ${De.sn})`),zn.timestampOffset=Bn)}}this.appendExecutor(H,te)},onStart:()=>{},onComplete:()=>{const zn=self.performance.now();pt.executeEnd=pt.end=zn,0===jt.first&&(jt.first=zn),Xt&&0===Xt.first&&(Xt.first=zn);const{sourceBuffer:ui}=this,oi={};for(const Di in ui)oi[Di]=Br.getBuffered(ui[Di]);this.appendError=0,this.hls.trigger(S.BUFFER_APPENDED,{type:te,frag:De,part:Pe,chunkMeta:lt,parent:De.type,timeRanges:oi})},onError:zn=>{y.error(`[buffer-controller]: Error encountered while trying to append to the ${te} SourceBuffer`,zn);const ui={type:x.MEDIA_ERROR,parent:De.type,details:A.BUFFER_APPEND_ERROR,frag:De,part:Pe,chunkMeta:lt,error:zn,err:zn,fatal:!1};zn.code===DOMException.QUOTA_EXCEEDED_ERR?ui.details=A.BUFFER_FULL_ERROR:(this.appendError++,ui.details=A.BUFFER_APPEND_ERROR,this.appendError>h.config.appendErrorMaxRetry&&(y.error(`[buffer-controller]: Failed ${h.config.appendErrorMaxRetry} times to append segment in sourceBuffer`),ui.fatal=!0)),h.trigger(S.ERROR,ui)}},te)}onBufferFlushing(r,l){const{operationQueue:h}=this,M=k=>({execute:this.removeExecutor.bind(this,k,l.startOffset,l.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(S.BUFFER_FLUSHED,{type:k})},onError:H=>{y.warn(`[buffer-controller]: Failed to remove from ${k} SourceBuffer`,H)}});l.type?h.append(M(l.type),l.type):this.getSourceBufferTypes().forEach(k=>{h.append(M(k),k)})}onFragParsed(r,l){const{frag:h,part:M}=l,k=[],H=M?M.elementaryStreams:h.elementaryStreams;H.audiovideo?k.push("audiovideo"):(H.audio&&k.push("audio"),H.video&&k.push("video")),0===k.length&&y.warn(`Fragments must have at least one ElementaryStreamType set. type: ${h.type} level: ${h.level} sn: ${h.sn}`),this.blockBuffers(()=>{const De=self.performance.now();h.stats.buffering.end=De,M&&(M.stats.buffering.end=De),this.hls.trigger(S.FRAG_BUFFERED,{frag:h,part:M,stats:M?M.stats:h.stats,id:h.type})},k)}onFragChanged(r,l){this.flushBackBuffer()}onBufferEos(r,l){this.getSourceBufferTypes().reduce((M,k)=>{const H=this.sourceBuffer[k];return H&&(!l.type||l.type===k)&&(H.ending=!0,H.ended||(H.ended=!0,y.log(`[buffer-controller]: ${k} sourceBuffer now EOS`))),M&&!(H&&!H.ended)},!0)&&(y.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(k=>{const H=this.sourceBuffer[k];H&&(H.ending=!1)});const{mediaSource:M}=this;M&&"open"===M.readyState?(y.log("[buffer-controller]: Calling mediaSource.endOfStream()"),M.endOfStream()):M&&y.info(`[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ${M.readyState}`)}))}onLevelUpdated(r,{details:l}){l.fragments.length&&(this.details=l,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}flushBackBuffer(){const{hls:r,details:l,media:h,sourceBuffer:M}=this;if(!h||null===l)return;const k=this.getSourceBufferTypes();if(!k.length)return;const H=l.live&&null!==r.config.liveBackBufferLength?r.config.liveBackBufferLength:r.config.backBufferLength;if(!g(H)||H<0)return;const te=h.currentTime,De=l.levelTargetDuration,Pe=Math.max(H,De),lt=Math.floor(te/De)*De-Pe;k.forEach(pt=>{const Bt=M[pt];if(Bt){const jt=Br.getBuffered(Bt);if(jt.length>0&&lt>jt.start(0)){if(r.trigger(S.BACK_BUFFER_REACHED,{bufferEnd:lt}),l.live)r.trigger(S.LIVE_BACK_BUFFER_REACHED,{bufferEnd:lt});else if(Bt.ended&&jt.end(jt.length-1)-te<2*De)return void y.info(`[buffer-controller]: Cannot flush ${pt} back buffer while SourceBuffer is in ended state`);r.trigger(S.BUFFER_FLUSHING,{startOffset:0,endOffset:lt,type:pt})}}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||"open"!==this.mediaSource.readyState)return;const{details:r,hls:l,media:h,mediaSource:M}=this,k=r.fragments[0].start+r.totalduration,H=h.duration,te=g(M.duration)?M.duration:0;r.live&&l.config.liveDurationInfinity?(y.log("[buffer-controller]: Media Source duration is set to Infinity"),M.duration=1/0,this.updateSeekableRange(r)):(k>te&&k>H||!g(H))&&(y.log(`[buffer-controller]: Updating Media Source duration to ${k.toFixed(3)}`),M.duration=k)}updateSeekableRange(r){const l=this.mediaSource,h=r.fragments;if(h.length&&r.live&&null!=l&&l.setLiveSeekableRange){const k=Math.max(0,h[0].start),H=Math.max(k,k+r.totalduration);l.setLiveSeekableRange(k,H)}}checkPendingTracks(){const{bufferCodecEventsExpected:r,operationQueue:l,pendingTracks:h}=this,M=Object.keys(h).length;if(M&&!r||2===M){this.createSourceBuffers(h),this.pendingTracks={};const k=this.getSourceBufferTypes();if(k.length)this.hls.trigger(S.BUFFER_CREATED,{tracks:this.tracks}),k.forEach(H=>{l.executeNext(H)});else{const H=new Error("could not create source buffer for media codec(s)");this.hls.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:H,reason:H.message})}}}createSourceBuffers(r){const{sourceBuffer:l,mediaSource:h}=this;if(!h)throw Error("createSourceBuffers called when mediaSource was null");for(const M in r)if(!l[M]){const k=r[M];if(!k)throw Error(`source buffer exists for track ${M}, however track does not`);const H=k.levelCodec||k.codec,te=`${k.container};codecs=${H}`;y.log(`[buffer-controller]: creating sourceBuffer(${te})`);try{const De=l[M]=h.addSourceBuffer(te),Pe=M;this.addBufferListener(Pe,"updatestart",this._onSBUpdateStart),this.addBufferListener(Pe,"updateend",this._onSBUpdateEnd),this.addBufferListener(Pe,"error",this._onSBUpdateError),this.tracks[M]={buffer:De,codec:H,container:k.container,levelCodec:k.levelCodec,metadata:k.metadata,id:k.id}}catch(De){y.error(`[buffer-controller]: error while trying to add sourceBuffer: ${De.message}`),this.hls.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:De,mimeType:te})}}}_onSBUpdateStart(r){const{operationQueue:l}=this;l.current(r).onStart()}_onSBUpdateEnd(r){const{operationQueue:l}=this;l.current(r).onComplete(),l.shiftAndExecuteNext(r)}_onSBUpdateError(r,l){const h=new Error(`${r} SourceBuffer error`);y.error(`[buffer-controller]: ${h}`,l),this.hls.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.BUFFER_APPENDING_ERROR,error:h,fatal:!1});const M=this.operationQueue.current(r);M&&M.onError(l)}removeExecutor(r,l,h){const{media:M,mediaSource:k,operationQueue:H,sourceBuffer:te}=this,De=te[r];if(!M||!k||!De)return y.warn(`[buffer-controller]: Attempting to remove from the ${r} SourceBuffer, but it does not exist`),void H.shiftAndExecuteNext(r);const Pe=g(M.duration)?M.duration:1/0,lt=g(k.duration)?k.duration:1/0,pt=Math.max(0,l),Bt=Math.min(h,Pe,lt);Bt>pt&&!De.ending?(De.ended=!1,y.log(`[buffer-controller]: Removing [${pt},${Bt}] from the ${r} SourceBuffer`),De.remove(pt,Bt)):H.shiftAndExecuteNext(r)}appendExecutor(r,l){const{operationQueue:h,sourceBuffer:M}=this,k=M[l];if(!k)return y.warn(`[buffer-controller]: Attempting to append to the ${l} SourceBuffer, but it does not exist`),void h.shiftAndExecuteNext(l);k.ended=!1,k.appendBuffer(r)}blockBuffers(r,l=this.getSourceBufferTypes()){if(!l.length)return y.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(r);const{operationQueue:h}=this,M=l.map(k=>h.appendBlocker(k));Promise.all(M).then(()=>{r(),l.forEach(k=>{const H=this.sourceBuffer[k];null!=H&&H.updating||h.shiftAndExecuteNext(k)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(r,l,h){const M=this.sourceBuffer[r];if(!M)return;const k=h.bind(this,r);this.listeners[r].push({event:l,listener:k}),M.addEventListener(l,k)}removeBufferListeners(r){const l=this.sourceBuffer[r];l&&this.listeners[r].forEach(h=>{l.removeEventListener(h.event,h.listener)})}},capLevelController:ec,errorController:class oo{constructor(r){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=r,this.log=y.log.bind(y,"[info]:"),this.warn=y.warn.bind(y,"[warning]:"),this.error=y.error.bind(y,"[error]:"),this.registerListeners()}registerListeners(){const r=this.hls;r.on(S.ERROR,this.onError,this),r.on(S.MANIFEST_LOADING,this.onManifestLoading,this),r.on(S.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const r=this.hls;r&&(r.off(S.ERROR,this.onError,this),r.off(S.ERROR,this.onErrorOut,this),r.off(S.MANIFEST_LOADING,this.onManifestLoading,this),r.off(S.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(r){this.playlistError=0}stopLoad(){}getVariantLevelIndex(r){return"main"===r?.type?r.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(r,l){var h,M;if(l.fatal)return;const k=this.hls,H=l.context;switch(l.details){case A.FRAG_LOAD_ERROR:case A.FRAG_LOAD_TIMEOUT:case A.KEY_LOAD_ERROR:case A.KEY_LOAD_TIMEOUT:return void(l.errorAction=this.getFragRetryOrSwitchAction(l));case A.FRAG_PARSING_ERROR:if(null!=(h=l.frag)&&h.gap)return void(l.errorAction={action:0,flags:0});case A.FRAG_GAP:case A.FRAG_DECRYPT_ERROR:return l.errorAction=this.getFragRetryOrSwitchAction(l),void(l.errorAction.action=2);case A.LEVEL_EMPTY_ERROR:case A.LEVEL_PARSING_ERROR:{var te,De;const Pe="main"===l.parent?l.level:k.loadLevel;l.details===A.LEVEL_EMPTY_ERROR&&null!=(te=l.context)&&null!=(De=te.levelDetails)&&De.live?l.errorAction=this.getPlaylistRetryOrSwitchAction(l,Pe):(l.levelRetry=!1,l.errorAction=this.getLevelSwitchAction(l,Pe))}return;case A.LEVEL_LOAD_ERROR:case A.LEVEL_LOAD_TIMEOUT:return void("number"==typeof H?.level&&(l.errorAction=this.getPlaylistRetryOrSwitchAction(l,H.level)));case A.AUDIO_TRACK_LOAD_ERROR:case A.AUDIO_TRACK_LOAD_TIMEOUT:case A.SUBTITLE_LOAD_ERROR:case A.SUBTITLE_TRACK_LOAD_TIMEOUT:if(H){const Pe=k.levels[k.loadLevel];if(Pe&&("audioTrack"===H.type&&H.groupId===Pe.audioGroupId||"subtitleTrack"===H.type&&H.groupId===Pe.textGroupId))return l.errorAction=this.getPlaylistRetryOrSwitchAction(l,k.loadLevel),l.errorAction.action=2,void(l.errorAction.flags=1)}return;case A.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const Pe=k.levels[k.loadLevel],lt=Pe?.attrs["HDCP-LEVEL"];lt&&(l.errorAction={action:2,flags:2,hdcpLevel:lt})}return;case A.BUFFER_ADD_CODEC_ERROR:case A.REMUX_ALLOC_ERROR:return void(l.errorAction=this.getLevelSwitchAction(l,null!=(M=l.level)?M:k.loadLevel));case A.INTERNAL_EXCEPTION:case A.BUFFER_APPENDING_ERROR:case A.BUFFER_APPEND_ERROR:case A.BUFFER_FULL_ERROR:case A.LEVEL_SWITCH_ERROR:case A.BUFFER_STALLED_ERROR:case A.BUFFER_SEEK_OVER_HOLE:case A.BUFFER_NUDGE_ON_STALL:return void(l.errorAction={action:0,flags:0})}if(l.type===x.KEY_SYSTEM_ERROR){const Pe=this.getVariantLevelIndex(l.frag);return l.levelRetry=!1,void(l.errorAction=this.getLevelSwitchAction(l,Pe))}}getPlaylistRetryOrSwitchAction(r,l){var h;const k=yo(this.hls.config.playlistLoadPolicy,r),H=this.playlistError++,te=null==(h=r.response)?void 0:h.code;if(cr(k,H,eo(r),te))return{action:5,flags:0,retryConfig:k,retryCount:H};const Pe=this.getLevelSwitchAction(r,l);return k&&(Pe.retryConfig=k,Pe.retryCount=H),Pe}getFragRetryOrSwitchAction(r){const l=this.hls,h=this.getVariantLevelIndex(r.frag),M=l.levels[h],{fragLoadPolicy:k,keyLoadPolicy:H}=l.config,te=yo(r.details.startsWith("key")?H:k,r),De=l.levels.reduce((pt,Bt)=>pt+Bt.fragmentError,0);if(M){var Pe;r.details!==A.FRAG_GAP&&M.fragmentError++;const pt=null==(Pe=r.response)?void 0:Pe.code;if(cr(te,De,eo(r),pt))return{action:5,flags:0,retryConfig:te,retryCount:De}}const lt=this.getLevelSwitchAction(r,h);return te&&(lt.retryConfig=te,lt.retryCount=De),lt}getLevelSwitchAction(r,l){const h=this.hls;null==l&&(l=h.loadLevel);const M=this.hls.levels[l];if(M&&(M.loadError++,h.autoLevelEnabled)){var k,H;let te=-1;const{levels:De,loadLevel:Pe,minAutoLevel:lt,maxAutoLevel:pt}=h,Bt=null==(k=r.frag)?void 0:k.type,{type:jt,groupId:Xt}=null!=(H=r.context)?H:{};for(let cn=De.length;cn--;){const bn=(cn+Pe)%De.length;if(bn!==Pe&&bn>=lt&&bn<=pt&&0===De[bn].loadError){const Bn=De[bn];if(r.details===A.FRAG_GAP&&r.frag){const ti=De[bn].details;if(ti){const zn=uo(r.frag,ti.fragments,r.frag.start);if(null!=zn&&zn.gap)continue}}else{if("audioTrack"===jt&&Xt===Bn.audioGroupId||"subtitleTrack"===jt&&Xt===Bn.textGroupId)continue;if("audio"===Bt&&M.audioGroupId===Bn.audioGroupId||"subtitle"===Bt&&M.textGroupId===Bn.textGroupId)continue}te=bn;break}}if(te>-1&&h.loadLevel!==te)return r.levelRetry=!0,this.playlistError=0,{action:2,flags:0,nextAutoLevel:te}}return{action:2,flags:1}}onErrorOut(r,l){var h;switch(null==(h=l.errorAction)?void 0:h.action){case 0:break;case 2:this.sendAlternateToPenaltyBox(l),!l.errorAction.resolved&&l.details!==A.FRAG_GAP&&(l.fatal=!0)}l.fatal&&this.hls.stopLoad()}sendAlternateToPenaltyBox(r){const l=this.hls,h=r.errorAction;if(!h)return;const{flags:M,hdcpLevel:k,nextAutoLevel:H}=h;switch(M){case 0:this.switchLevel(r,H);break;case 1:h.resolved||(h.resolved=this.redundantFailover(r));break;case 2:k&&(l.maxHdcpLevel=Wr[Wr.indexOf(k)-1],h.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${l.maxHdcpLevel}" or lower`)}h.resolved||this.switchLevel(r,H)}switchLevel(r,l){void 0!==l&&r.errorAction&&(this.warn(`switching to level ${l} after ${r.details}`),this.hls.nextAutoLevel=l,r.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}redundantFailover(r){const{hls:l,penalizedRenditions:h}=this,M="main"===r.parent?r.level:l.loadLevel,k=l.levels[M],H=k.url.length,te=r.frag?r.frag.urlId:k.urlId;k.urlId===te&&(!r.frag||k.details)&&this.penalizeRendition(k,r);for(let De=1;De<H;De++){const Pe=(te+De)%H,lt=h[Pe];if(!lt||ha(lt,r,h[te]))return this.warn(`Switching to Redundant Stream ${Pe+1}/${H}: "${k.url[Pe]}" after ${r.details}`),this.playlistError=0,l.levels.forEach(pt=>{pt.urlId=Pe}),l.nextLoadLevel=M,!0}return!1}penalizeRendition(r,l){const{penalizedRenditions:h}=this,M=h[r.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};M.lastErrorPerfMs=performance.now(),M.errors.push(l),M.details=r.details,h[r.urlId]=M}},fpsController:class Ul{constructor(r){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=r,this.registerListeners()}setStreamController(r){this.streamController=r}registerListeners(){this.hls.on(S.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(S.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(r,l){const h=this.hls.config;if(h.capLevelOnFPSDrop){const M=l.media instanceof self.HTMLVideoElement?l.media:null;this.media=M,M&&"function"==typeof M.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),h.fpsDroppedMonitoringPeriod)}}checkFPS(r,l,h){const M=performance.now();if(l){if(this.lastTime){const H=h-this.lastDroppedFrames,te=l-this.lastDecodedFrames,De=1e3*H/(M-this.lastTime),Pe=this.hls;if(Pe.trigger(S.FPS_DROP,{currentDropped:H,currentDecoded:te,totalDroppedFrames:h}),De>0&&H>Pe.config.fpsDroppedMonitoringThreshold*te){let lt=Pe.currentLevel;y.warn("drop FPS ratio greater than max allowed value for currentLevel: "+lt),lt>0&&(-1===Pe.autoLevelCapping||Pe.autoLevelCapping>=lt)&&(lt-=1,Pe.trigger(S.FPS_DROP_LEVEL_CAPPING,{level:lt,droppedLevel:Pe.currentLevel}),Pe.autoLevelCapping=lt,this.streamController.nextLevelSwitch())}}this.lastTime=M,this.lastDroppedFrames=h,this.lastDecodedFrames=l}}checkFPSInterval(){const r=this.media;if(r)if(this.isVideoPlaybackQualityAvailable){const l=r.getVideoPlaybackQuality();this.checkFPS(r,l.totalVideoFrames,l.droppedVideoFrames)}else this.checkFPS(r,r.webkitDecodedFrameCount,r.webkitDroppedFrameCount)}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:Q,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},function dt(){return{cueHandler:Bc,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}()),{},{subtitleStreamController:class Me extends Ns{constructor(r,l,h){super(r,l,h,"[subtitle-stream-controller]","subtitle"),this.levels=[],this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null}_registerListeners(){const{hls:r}=this;r.on(S.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(S.MANIFEST_LOADING,this.onManifestLoading,this),r.on(S.LEVEL_LOADED,this.onLevelLoaded,this),r.on(S.ERROR,this.onError,this),r.on(S.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),r.on(S.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),r.on(S.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),r.on(S.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),r.on(S.BUFFER_FLUSHING,this.onBufferFlushing,this),r.on(S.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:r}=this;r.off(S.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(S.MANIFEST_LOADING,this.onManifestLoading,this),r.off(S.LEVEL_LOADED,this.onLevelLoaded,this),r.off(S.ERROR,this.onError,this),r.off(S.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),r.off(S.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),r.off(S.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),r.off(S.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),r.off(S.BUFFER_FLUSHING,this.onBufferFlushing,this),r.off(S.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(r){this.stopLoad(),this.state="IDLE",this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=r,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(r,l){this.mainDetails=l.details}onSubtitleFragProcessed(r,l){const{frag:h,success:M}=l;if(this.fragPrevious=h,this.state="IDLE",!M)return;const k=this.tracksBuffered[this.currentTrackId];if(!k)return;let H;const te=h.start;for(let Pe=0;Pe<k.length;Pe++)if(te>=k[Pe].start&&te<=k[Pe].end){H=k[Pe];break}const De=h.start+h.duration;H?H.end=De:(H={start:te,end:De},k.push(H)),this.fragmentTracker.fragBuffered(h)}onBufferFlushing(r,l){const{startOffset:h,endOffset:M}=l;if(0===h&&M!==Number.POSITIVE_INFINITY){const k=M-1;if(k<=0)return;l.endOffsetSubtitles=Math.max(0,k),this.tracksBuffered.forEach(H=>{for(let te=0;te<H.length;)if(H[te].end<=k)H.shift();else{if(!(H[te].start<k))break;H[te].start=k,te++}}),this.fragmentTracker.removeFragmentsInRange(h,k,"subtitle")}}onFragBuffered(r,l){var h;this.loadedmetadata||"main"!==l.frag.type||null!=(h=this.media)&&h.buffered.length&&(this.loadedmetadata=!0)}onError(r,l){const h=l.frag;"subtitle"===h?.type&&(this.fragCurrent&&this.fragCurrent.abortRequests(),"STOPPED"!==this.state&&(this.state="IDLE"))}onSubtitleTracksUpdated(r,{subtitleTracks:l}){Yl(this.levels,l)?this.levels=l.map(h=>new Dn(h)):(this.tracksBuffered=[],this.levels=l.map(h=>{const M=new Dn(h);return this.tracksBuffered[M.id]=[],M}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,"subtitle"),this.fragPrevious=null,this.mediaBuffer=null)}onSubtitleTrackSwitch(r,l){if(this.currentTrackId=l.id,!this.levels.length||-1===this.currentTrackId)return void this.clearInterval();const h=this.levels[this.currentTrackId];this.mediaBuffer=null!=h&&h.details?this.mediaBufferTimeRanges:null,h&&this.setInterval(500)}onSubtitleTrackLoaded(r,l){var h;const{details:M,id:k}=l,{currentTrackId:H,levels:te}=this;if(!te.length)return;const De=te[H];if(k>=te.length||k!==H||!De)return;this.mediaBuffer=this.mediaBufferTimeRanges;let Pe=0;if(M.live||null!=(h=De.details)&&h.live){const lt=this.mainDetails;if(M.deltaUpdateFailed||!lt)return;const pt=lt.fragments[0];De.details?(Pe=this.alignPlaylists(M,De.details),0===Pe&&pt&&(Pe=pt.start,Ir(M,Pe))):M.hasProgramDateTime&&lt.hasProgramDateTime?(ut(M,lt),Pe=M.fragments[0].start):pt&&(Pe=pt.start,Ir(M,Pe))}De.details=M,this.levelLastLoaded=k,!this.startFragRequested&&(this.mainDetails||!M.live)&&this.setStartPosition(De.details,Pe),this.tick(),M.live&&!this.fragCurrent&&this.media&&"IDLE"===this.state&&(uo(null,M.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),De.details=void 0))}_handleFragmentLoadComplete(r){const{frag:l,payload:h}=r,M=l.decryptdata,k=this.hls;if(!this.fragContextChanged(l)&&h&&h.byteLength>0&&M&&M.key&&M.iv&&"AES-128"===M.method){const H=performance.now();this.decrypter.decrypt(new Uint8Array(h),M.key.buffer,M.iv.buffer).catch(te=>{throw k.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.FRAG_DECRYPT_ERROR,fatal:!1,error:te,reason:te.message,frag:l}),te}).then(te=>{const De=performance.now();k.trigger(S.FRAG_DECRYPTED,{frag:l,payload:te,stats:{tstart:H,tdecrypt:De}})}).catch(te=>{this.warn(`${te.name}: ${te.message}`),this.state="IDLE"})}}doTick(){if(this.media){if("IDLE"===this.state){const{currentTrackId:r,levels:l}=this,h=l[r];if(!l.length||!h||!h.details)return;const{config:M}=this,k=this.getLoadPosition(),H=Br.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],k,M.maxBufferHole),{end:te,len:De}=H,Pe=this.getFwdBufferInfo(this.media,"main"),lt=h.details;if(De>this.getMaxBufferLength(Pe?.len)+lt.levelTargetDuration)return;const Bt=lt.fragments,jt=Bt.length,Xt=lt.edge;let cn=null;const bn=this.fragPrevious;if(te<Xt){const Bn=M.maxFragLookUpTolerance,ti=te>Xt-Bn?0:Bn;cn=uo(bn,Bt,Math.max(Bt[0].start,te),ti),!cn&&bn&&bn.start<Bt[0].start&&(cn=Bt[0])}else cn=Bt[jt-1];if(!cn)return;if(cn=this.mapToInitFragWhenRequired(cn),"initSegment"!==cn.sn){const ti=Bt[cn.sn-lt.startSN-1];ti&&ti.cc===cn.cc&&"NOT_LOADED"===this.fragmentTracker.getState(ti)&&(cn=ti)}"NOT_LOADED"===this.fragmentTracker.getState(cn)&&this.loadFragment(cn,h,te)}}else this.state="IDLE"}getMaxBufferLength(r){const l=super.getMaxBufferLength();return r?Math.max(l,r):l}loadFragment(r,l,h){this.fragCurrent=r,"initSegment"===r.sn?this._loadInitSegment(r,l):(this.startFragRequested=!0,super.loadFragment(r,l,h))}get mediaBufferTimeRanges(){return new nt(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class Gt extends Ao{constructor(r){super(r,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.trackChangeListener=()=>this.onTextTracksChanged(),this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(r){this._subtitleDisplay=r,this.trackId>-1&&this.toggleTrackModes(this.trackId)}registerListeners(){const{hls:r}=this;r.on(S.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(S.MANIFEST_LOADING,this.onManifestLoading,this),r.on(S.MANIFEST_PARSED,this.onManifestParsed,this),r.on(S.LEVEL_LOADING,this.onLevelLoading,this),r.on(S.LEVEL_SWITCHING,this.onLevelSwitching,this),r.on(S.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),r.on(S.ERROR,this.onError,this)}unregisterListeners(){const{hls:r}=this;r.off(S.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(S.MANIFEST_LOADING,this.onManifestLoading,this),r.off(S.MANIFEST_PARSED,this.onManifestParsed,this),r.off(S.LEVEL_LOADING,this.onLevelLoading,this),r.off(S.LEVEL_SWITCHING,this.onLevelSwitching,this),r.off(S.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),r.off(S.ERROR,this.onError,this)}onMediaAttached(r,l){this.media=l.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(r){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,r)}onMediaDetaching(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),sn(this.media.textTracks).forEach(l=>{ir(l)}),this.subtitleTrack=-1,this.media=null)}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(r,l){this.tracks=l.subtitleTracks}onSubtitleTrackLoaded(r,l){const{id:h,details:M}=l,{trackId:k}=this,H=this.tracksInGroup[k];if(!H)return void this.warn(`Invalid subtitle track id ${h}`);const te=H.details;H.details=l.details,this.log(`subtitle track ${h} loaded [${M.startSN}-${M.endSN}]`),h===this.trackId&&this.playlistLoaded(h,l,te)}onLevelLoading(r,l){this.switchLevel(l.level)}onLevelSwitching(r,l){this.switchLevel(l.level)}switchLevel(r){const l=this.hls.levels[r];if(null==l||!l.textGroupIds)return;const h=l.textGroupIds[l.urlId],M=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==h){const k=this.tracks.filter(De=>!h||De.groupId===h);this.tracksInGroup=k;const H=this.findTrackId(M?.name)||this.findTrackId();this.groupId=h||null;const te={subtitleTracks:k};this.log(`Updating subtitle tracks, ${k.length} track(s) found in "${h}" group-id`),this.hls.trigger(S.SUBTITLE_TRACKS_UPDATED,te),-1!==H&&this.setSubtitleTrack(H,M)}else this.shouldReloadPlaylist(M)&&this.setSubtitleTrack(this.trackId,M)}findTrackId(r){const l=this.tracksInGroup;for(let h=0;h<l.length;h++){const M=l[h];if((!this.selectDefaultTrack||M.default)&&(!r||r===M.name))return M.id}return-1}onError(r,l){l.fatal||!l.context||"subtitleTrack"===l.context.type&&l.context.id===this.trackId&&l.context.groupId===this.groupId&&this.checkRetry(l)}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(r){this.selectDefaultTrack=!1,this.setSubtitleTrack(r,this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0)}loadPlaylist(r){super.loadPlaylist();const l=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(l)){const h=l.id,M=l.groupId;let k=l.url;if(r)try{k=r.addDirectives(k)}catch(H){this.warn(`Could not construct new URL with HLS Delivery Directives: ${H}`)}this.log(`Loading subtitle playlist for id ${h}`),this.hls.trigger(S.SUBTITLE_TRACK_LOADING,{url:k,id:h,groupId:M,deliveryDirectives:r||null})}}toggleTrackModes(r){const{media:l,trackId:h}=this;if(!l)return;const M=sn(l.textTracks),k=M.filter(te=>te.groupId===this.groupId);if(-1===r)[].slice.call(M).forEach(te=>{te.mode="disabled"});else{const te=k[h];te&&(te.mode="disabled")}const H=k[r];H&&(H.mode=this.subtitleDisplay?"showing":"hidden")}setSubtitleTrack(r,l){var h;const M=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=r);if(this.trackId!==r&&this.toggleTrackModes(r),this.trackId===r&&(-1===r||null!=(h=M[r])&&h.details)||r<-1||r>=M.length)return;this.clearTimer();const k=M[r];if(this.log(`Switching to subtitle-track ${r}`+(k?` "${k.name}" lang:${k.lang} group:${k.groupId}`:"")),this.trackId=r,k){const{id:H,groupId:te="",name:De,type:Pe,url:lt}=k;this.hls.trigger(S.SUBTITLE_TRACK_SWITCH,{id:H,groupId:te,name:De,type:Pe,url:lt});const pt=this.switchParams(k.url,l?.details);this.loadPlaylist(pt)}else this.hls.trigger(S.SUBTITLE_TRACK_SWITCH,{id:r})}onTextTracksChanged(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let r=-1;const l=sn(this.media.textTracks);for(let h=0;h<l.length;h++)if("hidden"===l[h].mode)r=h;else if("showing"===l[h].mode){r=h;break}this.subtitleTrack!==r&&(this.subtitleTrack=r)}},timelineController:class Xl{constructor(r){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=r,this.config=r.config,this.Cues=r.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){const l=new xs(this,"textTrack1"),h=new xs(this,"textTrack2"),M=new xs(this,"textTrack3"),k=new xs(this,"textTrack4");this.cea608Parser1=new Nl(1,l,h),this.cea608Parser2=new Nl(3,M,k)}r.on(S.MEDIA_ATTACHING,this.onMediaAttaching,this),r.on(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(S.MANIFEST_LOADING,this.onManifestLoading,this),r.on(S.MANIFEST_LOADED,this.onManifestLoaded,this),r.on(S.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),r.on(S.FRAG_LOADING,this.onFragLoading,this),r.on(S.FRAG_LOADED,this.onFragLoaded,this),r.on(S.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),r.on(S.FRAG_DECRYPTED,this.onFragDecrypted,this),r.on(S.INIT_PTS_FOUND,this.onInitPtsFound,this),r.on(S.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),r.on(S.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:r}=this;r.off(S.MEDIA_ATTACHING,this.onMediaAttaching,this),r.off(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(S.MANIFEST_LOADING,this.onManifestLoading,this),r.off(S.MANIFEST_LOADED,this.onManifestLoaded,this),r.off(S.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),r.off(S.FRAG_LOADING,this.onFragLoading,this),r.off(S.FRAG_LOADED,this.onFragLoaded,this),r.off(S.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),r.off(S.FRAG_DECRYPTED,this.onFragDecrypted,this),r.off(S.INIT_PTS_FOUND,this.onInitPtsFound,this),r.off(S.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),r.off(S.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null}addCues(r,l,h,M,k){let H=!1;for(let te=k.length;te--;){const De=k[te],Pe=ka(De[0],De[1],l,h);if(Pe>=0&&(De[0]=Math.min(De[0],l),De[1]=Math.max(De[1],h),H=!0,Pe/(h-l)>.5))return}if(H||k.push([l,h]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[r],l,h,M);else{const te=this.Cues.newCue(null,l,h,M);this.hls.trigger(S.CUES_PARSED,{type:"captions",cues:te,track:r})}}onInitPtsFound(r,{frag:l,id:h,initPTS:M,timescale:k}){const{unparsedVttFrags:H}=this;"main"===h&&(this.initPTS[l.cc]={baseTime:M,timescale:k}),H.length&&(this.unparsedVttFrags=[],H.forEach(te=>{this.onFragLoaded(S.FRAG_LOADED,te)}))}getExistingTrack(r){const{media:l}=this;if(l)for(let h=0;h<l.textTracks.length;h++){const M=l.textTracks[h];if(M[r])return M}return null}createCaptionsTrack(r){this.config.renderTextTracksNatively?this.createNativeTrack(r):this.createNonNativeTrack(r)}createNativeTrack(r){if(this.captionsTracks[r])return;const{captionsProperties:l,captionsTracks:h,media:M}=this,{label:k,languageCode:H}=l[r],te=this.getExistingTrack(r);if(te)h[r]=te,ir(h[r]),Yi(h[r],M);else{const De=this.createTextTrack("captions",k,H);De&&(De[r]=!0,h[r]=De)}}createNonNativeTrack(r){if(this.nonNativeCaptionsTracks[r])return;const l=this.captionsProperties[r];if(!l)return;const M={_id:r,label:l.label,kind:"captions",default:!!l.media&&!!l.media.default,closedCaptions:l.media};this.nonNativeCaptionsTracks[r]=M,this.hls.trigger(S.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[M]})}createTextTrack(r,l,h){const M=this.media;if(M)return M.addTextTrack(r,l,h)}onMediaAttaching(r,l){this.media=l.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:r}=this;Object.keys(r).forEach(l=>{ir(r[l]),delete r[l]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:r}=this;if(!r)return;const l=r.textTracks;if(l)for(let h=0;h<l.length;h++)ir(l[h])}onSubtitleTracksUpdated(r,l){const h=l.subtitleTracks||[],M=h.some(k=>k.textCodec===ql);if(this.config.enableWebVTT||M&&this.config.enableIMSC1){if(Yl(this.tracks,h))return void(this.tracks=h);if(this.textTracks=[],this.tracks=h,this.config.renderTextTracksNatively){const H=this.media?this.media.textTracks:null;this.tracks.forEach((te,De)=>{let Pe;if(H&&De<H.length){let lt=null;for(let pt=0;pt<H.length;pt++)if(za(H[pt],te)){lt=H[pt];break}lt&&(Pe=lt)}if(Pe)ir(Pe);else{const lt=this._captionsOrSubtitlesFromCharacteristics(te);Pe=this.createTextTrack(lt,te.name,te.lang),Pe&&(Pe.mode="disabled")}Pe&&(Pe.groupId=te.groupId,this.textTracks.push(Pe))})}else if(this.tracks.length){const H=this.tracks.map(te=>({label:te.name,kind:te.type.toLowerCase(),default:te.default,subtitleTrack:te}));this.hls.trigger(S.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:H})}}}_captionsOrSubtitlesFromCharacteristics(r){if(r.attrs.CHARACTERISTICS){const l=/transcribes-spoken-dialog/gi.test(r.attrs.CHARACTERISTICS),h=/describes-music-and-sound/gi.test(r.attrs.CHARACTERISTICS);if(l&&h)return"captions"}return"subtitles"}onManifestLoaded(r,l){this.config.enableCEA708Captions&&l.captions&&l.captions.forEach(h=>{const M=/(?:CC|SERVICE)([1-4])/.exec(h.instreamId);if(!M)return;const H=this.captionsProperties[`textTrack${M[1]}`];H&&(H.label=h.name,h.lang&&(H.languageCode=h.lang),H.media=h)})}closedCaptionsForLevel(r){const l=this.hls.levels[r.level];return l?.attrs["CLOSED-CAPTIONS"]}onFragLoading(r,l){const{cea608Parser1:h,cea608Parser2:M,lastSn:k,lastPartIndex:H}=this;if(this.enabled&&h&&M&&"main"===l.frag.type){var te,De;const Pe=l.frag.sn,lt=null!=(te=null==l||null==(De=l.part)?void 0:De.index)?te:-1;Pe===k+1||Pe===k&&lt===H+1||(h.reset(),M.reset()),this.lastSn=Pe,this.lastPartIndex=lt}}onFragLoaded(r,l){const{frag:h,payload:M}=l;if("subtitle"===h.type)if(M.byteLength){const k=h.decryptdata;if(null==k||!k.encrypted||"stats"in l){const te=this.tracks[h.level],De=this.vttCCs;De[h.cc]||(De[h.cc]={start:h.start,prevCC:this.prevCC,new:!0},this.prevCC=h.cc),te&&te.textCodec===ql?this._parseIMSC1(h,M):this._parseVTTs(l)}}else this.hls.trigger(S.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:h,error:new Error("Empty subtitle payload")})}_parseIMSC1(r,l){const h=this.hls;Qs(l,this.initPTS[r.cc],M=>{this._appendCues(M,r.level),h.trigger(S.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:r})},M=>{y.log(`Failed to parse IMSC1: ${M}`),h.trigger(S.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:M})})}_parseVTTs(r){var l;const{frag:h,payload:M}=r,{initPTS:k,unparsedVttFrags:H}=this,te=k.length-1;if(!k[h.cc]&&-1===te)return void H.push(r);const De=this.hls;!function kl(V,r,l,h,M,k,H){const te=new Ec,De=Qe(new Uint8Array(V)).trim().replace(Ll,"\n").split("\n"),Pe=[],lt=r?function Zs(V,r=1){return Qr(V,9e4,1/r)}(r.baseTime,r.timescale):0;let Xt,pt="00:00.000",Bt=0,jt=0,cn=!0;te.oncue=function(bn){const Bn=l[h];let ti=l.ccOffset;const zn=(Bt-lt)/9e4;if(null!=Bn&&Bn.new&&(void 0!==jt?ti=l.ccOffset=Bn.start:function(r,l,h){let M=r[l],k=r[M.prevCC];if(!k||!k.new&&M.new)return r.ccOffset=r.presentationOffset=M.start,void(M.new=!1);for(;null!=(H=k)&&H.new;){var H;r.ccOffset+=M.start-k.start,M.new=!1,M=k,k=r[M.prevCC]}r.presentationOffset=h}(l,h,zn)),zn){if(!r)return void(Xt=new Error("Missing initPTS for VTT MPEGTS"));ti=zn-l.presentationOffset}const ui=bn.endTime-bn.startTime,oi=As(9e4*(bn.startTime+ti-jt),9e4*M)/9e4;bn.startTime=Math.max(oi,0),bn.endTime=Math.max(oi+ui,0);const Di=bn.text.trim();bn.text=decodeURIComponent(encodeURIComponent(Di)),bn.id||(bn.id=Ql(bn.startTime,bn.endTime,Di)),bn.endTime>0&&Pe.push(bn)},te.onparsingerror=function(bn){Xt=bn},te.onflush=function(){Xt?H(Xt):k(Pe)},De.forEach(bn=>{if(cn){if(il(bn,"X-TIMESTAMP-MAP=")){cn=!1,bn.slice(16).split(",").forEach(Bn=>{il(Bn,"LOCAL:")?pt=Bn.slice(6):il(Bn,"MPEGTS:")&&(Bt=parseInt(Bn.slice(7)))});try{jt=function(r){let l=parseInt(r.slice(-3));const h=parseInt(r.slice(-6,-4)),M=parseInt(r.slice(-9,-7)),k=r.length>9?parseInt(r.substring(0,r.indexOf(":"))):0;if(!(g(l)&&g(h)&&g(M)&&g(k)))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${r}`);return l+=1e3*h,l+=6e4*M,l+=36e5*k,l}(pt)/1e3}catch(Bn){Xt=Bn}return}""===bn&&(cn=!1)}te.parse(bn+"\n")}),te.flush()}(null!=(l=h.initSegment)&&l.data?En(h.initSegment.data,new Uint8Array(M)):M,this.initPTS[h.cc],this.vttCCs,h.cc,h.start,lt=>{this._appendCues(lt,h.level),De.trigger(S.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:h})},lt=>{const pt="Missing initPTS for VTT MPEGTS"===lt.message;pt?H.push(r):this._fallbackToIMSC1(h,M),y.log(`Failed to parse VTT cue: ${lt}`),!(pt&&te>h.cc)&&De.trigger(S.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:h,error:lt})})}_fallbackToIMSC1(r,l){const h=this.tracks[r.level];h.textCodec||Qs(l,this.initPTS[r.cc],()=>{h.textCodec=ql,this._parseIMSC1(r,l)},()=>{h.textCodec="wvtt"})}_appendCues(r,l){const h=this.hls;if(this.config.renderTextTracksNatively){const M=this.textTracks[l];if(!M||"disabled"===M.mode)return;r.forEach(k=>Vr(M,k))}else{const M=this.tracks[l];if(!M)return;h.trigger(S.CUES_PARSED,{type:"subtitles",cues:r,track:M.default?"default":"subtitles"+l})}}onFragDecrypted(r,l){const{frag:h}=l;"subtitle"===h.type&&this.onFragLoaded(S.FRAG_LOADED,l)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(r,l){const{cea608Parser1:h,cea608Parser2:M}=this;if(!this.enabled||!h||!M)return;const{frag:k,samples:H}=l;if("main"!==k.type||"NONE"!==this.closedCaptionsForLevel(k))for(let te=0;te<H.length;te++){const De=H[te].bytes;if(De){const Pe=this.extractCea608Data(De);h.addData(H[te].pts,Pe[0]),M.addData(H[te].pts,Pe[1])}}}onBufferFlushing(r,{startOffset:l,endOffset:h,endOffsetSubtitles:M,type:k}){const{media:H}=this;if(H&&!(H.currentTime<h)){if(!k||"video"===k){const{captionsTracks:te}=this;Object.keys(te).forEach(De=>lo(te[De],l,h))}if(this.config.renderTextTracksNatively&&0===l&&void 0!==M){const{textTracks:te}=this;Object.keys(te).forEach(De=>lo(te[De],l,M))}}}extractCea608Data(r){const l=[[],[]],h=31&r[0];let M=2;for(let k=0;k<h;k++){const H=r[M++],te=127&r[M++],De=127&r[M++];if((0!==te||0!==De)&&0!=(4&H)){const lt=3&H;(0===lt||1===lt)&&(l[lt].push(te),l[lt].push(De))}}return l}},audioStreamController:class Pa extends Ns{constructor(r,l,h){super(r,l,h,"[audio-stream-controller]","audio"),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:r}=this;r.on(S.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(S.MANIFEST_LOADING,this.onManifestLoading,this),r.on(S.LEVEL_LOADED,this.onLevelLoaded,this),r.on(S.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),r.on(S.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),r.on(S.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),r.on(S.ERROR,this.onError,this),r.on(S.BUFFER_RESET,this.onBufferReset,this),r.on(S.BUFFER_CREATED,this.onBufferCreated,this),r.on(S.BUFFER_FLUSHED,this.onBufferFlushed,this),r.on(S.INIT_PTS_FOUND,this.onInitPtsFound,this),r.on(S.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:r}=this;r.off(S.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(S.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(S.MANIFEST_LOADING,this.onManifestLoading,this),r.off(S.LEVEL_LOADED,this.onLevelLoaded,this),r.off(S.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),r.off(S.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),r.off(S.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),r.off(S.ERROR,this.onError,this),r.off(S.BUFFER_RESET,this.onBufferReset,this),r.off(S.BUFFER_CREATED,this.onBufferCreated,this),r.off(S.BUFFER_FLUSHED,this.onBufferFlushed,this),r.off(S.INIT_PTS_FOUND,this.onInitPtsFound,this),r.off(S.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(r,{frag:l,id:h,initPTS:M,timescale:k}){if("main"===h){const H=l.cc;this.initPTS[l.cc]={baseTime:M,timescale:k},this.log(`InitPTS for cc: ${H} found from main: ${M}`),this.videoTrackCC=H,"WAITING_INIT_PTS"===this.state&&this.tick()}}startLoad(r){if(!this.levels)return this.startPosition=r,void(this.state="STOPPED");const l=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),l>0&&-1===r?(this.log(`Override startPosition with lastCurrentTime @${l.toFixed(3)}`),r=l,this.state="IDLE"):(this.loadedmetadata=!1,this.state="WAITING_TRACK"),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=r,this.tick()}doTick(){switch(this.state){case"IDLE":this.doTickIdle();break;case"WAITING_TRACK":{var r;const{levels:h,trackId:M}=this,k=null==h||null==(r=h[M])?void 0:r.details;if(k){if(this.waitForCdnTuneIn(k))break;this.state="WAITING_INIT_PTS"}break}case"FRAG_LOADING_WAITING_RETRY":{var l;const h=performance.now(),M=this.retryDate;(!M||h>=M||null!=(l=this.media)&&l.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state="IDLE");break}case"WAITING_INIT_PTS":{const h=this.waitingData;if(h){const{frag:M,part:k,cache:H,complete:te}=h;if(void 0!==this.initPTS[M.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state="FRAG_LOADING";const Pe={frag:M,part:k,payload:H.flush(),networkDetails:null};this._handleFragmentLoadProgress(Pe),te&&super._handleFragmentLoadComplete(Pe)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${M.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const De=this.getLoadPosition(),Pe=Br.bufferInfo(this.mediaBuffer,De,this.config.maxBufferHole);us(Pe.end,this.config.maxFragLookUpTolerance,M)<0&&(this.log(`Waiting fragment cc (${M.cc}) @ ${M.start} cancelled because another fragment at ${Pe.end} is needed`),this.clearWaitingFragment())}}else this.state="IDLE"}}this.onTickEnd()}clearWaitingFragment(){const r=this.waitingData;r&&(this.fragmentTracker.removeFragment(r.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state="IDLE")}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:r}=this;null!=r&&r.readyState&&(this.lastCurrentTime=r.currentTime)}doTickIdle(){const{hls:r,levels:l,media:h,trackId:M}=this;if(null==l||!l[M]||!h&&(this.startFragRequested||!r.config.startFragPrefetch))return;const H=l[M],te=H.details;if(!te||te.live&&this.levelLastLoaded!==M||this.waitForCdnTuneIn(te))return void(this.state="WAITING_TRACK");const De=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&De&&(this.bufferFlushed=!1,this.afterBufferFlushed(De,"audio","audio"));const Pe=this.getFwdBufferInfo(De,"audio");if(null===Pe)return;const{bufferedTrack:lt,switchingTrack:pt}=this;if(!pt&&this._streamEnded(Pe,te))return r.trigger(S.BUFFER_EOS,{type:"audio"}),void(this.state="ENDED");const Bt=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,"main"),jt=Pe.len,Xt=this.getMaxBufferLength(Bt?.len);if(jt>=Xt&&!pt)return;const bn=te.fragments[0].start;let Bn=Pe.end;if(pt&&h){const oi=this.getLoadPosition();lt&&pt.attrs!==lt.attrs&&(Bn=oi),te.PTSKnown&&oi<bn&&(Pe.end>bn||Pe.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),h.currentTime=bn+.05)}let ti=this.getNextFragment(Bn,te),zn=!1;if(ti&&this.isLoopLoading(ti,Bn)&&(zn=!!ti.gap,ti=this.getNextFragmentLoopLoading(ti,te,Pe,"main",Xt)),!ti)return void(this.bufferFlushed=!0);const ui=Bt&&ti.start>Bt.end+te.targetduration;if(ui||(null==Bt||!Bt.len)&&Pe.len){const oi=this.getAppendedFrag(ti.start,"main");if(null===oi||(zn||(zn=!!oi.gap||!!ui&&0===Bt.len),ui&&!zn||zn&&Pe.nextStart&&Pe.nextStart<oi.end))return}this.loadFragment(ti,H,Bn)}getMaxBufferLength(r){const l=super.getMaxBufferLength();return r?Math.min(Math.max(l,r),this.config.maxMaxBufferLength):l}onMediaDetaching(){this.videoBuffer=null,super.onMediaDetaching()}onAudioTracksUpdated(r,{audioTracks:l}){this.resetTransmuxer(),this.levels=l.map(h=>new Dn(h))}onAudioTrackSwitching(r,l){const h=!!l.url;this.trackId=l.id;const{fragCurrent:M}=this;M&&(M.abortRequests(),this.removeUnbufferedFrags(M.start)),this.resetLoadingState(),h?this.setInterval(100):this.resetTransmuxer(),h?(this.switchingTrack=l,this.state="IDLE"):(this.switchingTrack=null,this.bufferedTrack=l,this.state="STOPPED"),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(r,l){this.mainDetails=l.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(S.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(r,l){var h;if(null==this.mainDetails)return void(this.cachedTrackLoadedData=l);const{levels:M}=this,{details:k,id:H}=l;if(!M)return void this.warn(`Audio tracks were reset while loading level ${H}`);this.log(`Track ${H} loaded [${k.startSN},${k.endSN}]${k.lastPartSn?`[part-${k.lastPartSn}-${k.lastPartIndex}]`:""},duration:${k.totalduration}`);const te=M[H];let De=0;if(k.live||null!=(h=te.details)&&h.live){const Pe=this.mainDetails;if(k.fragments[0]||(k.deltaUpdateFailed=!0),k.deltaUpdateFailed||!Pe)return;!te.details&&k.hasProgramDateTime&&Pe.hasProgramDateTime?(ut(k,Pe),De=k.fragments[0].start):De=this.alignPlaylists(k,te.details)}te.details=k,this.levelLastLoaded=H,!this.startFragRequested&&(this.mainDetails||!k.live)&&this.setStartPosition(te.details,De),"WAITING_TRACK"===this.state&&!this.waitForCdnTuneIn(k)&&(this.state="IDLE"),this.tick()}_handleFragmentLoadProgress(r){var l;const{frag:h,part:M,payload:k}=r,{config:H,trackId:te,levels:De}=this;if(!De)return void this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${h.sn} of level ${h.level} will not be buffered`);const Pe=De[te];if(!Pe)return void this.warn("Audio track is undefined on fragment load progress");const lt=Pe.details;if(!lt)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(h.start);const pt=H.defaultAudioCodec||Pe.audioCodec||"mp4a.40.2";let Bt=this.transmuxer;Bt||(Bt=this.transmuxer=new nl(this.hls,"audio",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const jt=this.initPTS[h.cc],Xt=null==(l=h.initSegment)?void 0:l.data;if(void 0!==jt){const bn=M?M.index:-1,ti=new Ho(h.level,h.sn,h.stats.chunkCount,k.byteLength,bn,-1!==bn);Bt.push(k,Xt,pt,"",h,M,lt.totalduration,!1,ti,jt)}else{this.log(`Unknown video PTS for cc ${h.cc}, waiting for video PTS before demuxing audio frag ${h.sn} of [${lt.startSN} ,${lt.endSN}],track ${te}`);const{cache:cn}=this.waitingData=this.waitingData||{frag:h,part:M,cache:new Wl,complete:!1};cn.push(new Uint8Array(k)),this.waitingVideoCC=this.videoTrackCC,this.state="WAITING_INIT_PTS"}}_handleFragmentLoadComplete(r){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(r)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(r,l){const h=l.tracks.audio;h&&(this.mediaBuffer=h.buffer||null),l.tracks.video&&(this.videoBuffer=l.tracks.video.buffer||null)}onFragBuffered(r,l){const{frag:h,part:M}=l;if("audio"===h.type)if(this.fragContextChanged(h))this.warn(`Fragment ${h.sn}${M?" p: "+M.index:""} of level ${h.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);else{if("initSegment"!==h.sn){this.fragPrevious=h;const k=this.switchingTrack;k&&(this.bufferedTrack=k,this.switchingTrack=null,this.hls.trigger(S.AUDIO_TRACK_SWITCHED,m({},k)))}this.fragBufferedComplete(h,M)}else if(!this.loadedmetadata&&"main"===h.type){const k=this.videoBuffer||this.media;k&&Br.getBuffered(k).length&&(this.loadedmetadata=!0)}}onError(r,l){var h;if(l.fatal)this.state="ERROR";else switch(l.details){case A.FRAG_GAP:case A.FRAG_PARSING_ERROR:case A.FRAG_DECRYPT_ERROR:case A.FRAG_LOAD_ERROR:case A.FRAG_LOAD_TIMEOUT:case A.KEY_LOAD_ERROR:case A.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("audio",l);break;case A.AUDIO_TRACK_LOAD_ERROR:case A.AUDIO_TRACK_LOAD_TIMEOUT:case A.LEVEL_PARSING_ERROR:!l.levelRetry&&"WAITING_TRACK"===this.state&&"audioTrack"===(null==(h=l.context)?void 0:h.type)&&(this.state="IDLE");break;case A.BUFFER_FULL_ERROR:if(!l.parent||"audio"!==l.parent)return;this.reduceLengthAndFlushBuffer(l)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case A.INTERNAL_EXCEPTION:this.recoverWorkerError(l)}}onBufferFlushed(r,{type:l}){"audio"===l&&(this.bufferFlushed=!0,"ENDED"===this.state&&(this.state="IDLE"))}_handleTransmuxComplete(r){var l;const h="audio",{hls:M}=this,{remuxResult:k,chunkMeta:H}=r,te=this.getCurrentContext(H);if(!te)return void this.resetWhenMissingContext(H);const{frag:De,part:Pe,level:lt}=te,{details:pt}=lt,{audio:Bt,text:jt,id3:Xt,initSegment:cn}=k;if(!this.fragContextChanged(De)&&pt){if(this.state="PARSING",this.switchingTrack&&Bt&&this.completeAudioSwitch(this.switchingTrack),null!=cn&&cn.tracks){const bn=De.initSegment||De;this._bufferInitSegment(cn.tracks,bn,H),M.trigger(S.FRAG_PARSING_INIT_SEGMENT,{frag:bn,id:h,tracks:cn.tracks})}if(Bt){const{startPTS:bn,endPTS:Bn,startDTS:ti,endDTS:zn}=Bt;Pe&&(Pe.elementaryStreams.audio={startPTS:bn,endPTS:Bn,startDTS:ti,endDTS:zn}),De.setElementaryStreamInfo("audio",bn,Bn,ti,zn),this.bufferFragmentData(Bt,De,Pe,H)}if(null!=Xt&&null!=(l=Xt.samples)&&l.length){const bn=c({id:h,frag:De,details:pt},Xt);M.trigger(S.FRAG_PARSING_METADATA,bn)}if(jt){const bn=c({id:h,frag:De,details:pt},jt);M.trigger(S.FRAG_PARSING_USERDATA,bn)}}else this.fragmentTracker.removeFragment(De)}_bufferInitSegment(r,l,h){if("PARSING"!==this.state)return;r.video&&delete r.video;const M=r.audio;if(!M)return;M.levelCodec=M.codec,M.id="audio",this.log(`Init audio buffer, container:${M.container}, codecs[parsed]=[${M.codec}]`),this.hls.trigger(S.BUFFER_CODECS,r);const k=M.initSegment;null!=k&&k.byteLength&&this.hls.trigger(S.BUFFER_APPENDING,{type:"audio",frag:l,part:null,chunkMeta:h,parent:l.type,data:k}),this.tick()}loadFragment(r,l,h){const M=this.fragmentTracker.getState(r);var k;this.fragCurrent=r,this.switchingTrack||"NOT_LOADED"===M||"PARTIAL"===M?"initSegment"===r.sn?this._loadInitSegment(r,l):null!=(k=l.details)&&k.live&&!this.initPTS[r.cc]?(this.log(`Waiting for video PTS in continuity counter ${r.cc} of live stream before loading audio fragment ${r.sn} of level ${this.trackId}`),this.state="WAITING_INIT_PTS"):(this.startFragRequested=!0,super.loadFragment(r,l,h)):this.clearTrackerIfNeeded(r)}completeAudioSwitch(r){const{hls:l,media:h,bufferedTrack:M}=this,k=M?.attrs,H=r.attrs;h&&k&&(k.CHANNELS!==H.CHANNELS||k.NAME!==H.NAME||k.LANGUAGE!==H.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=r,this.switchingTrack=null,l.trigger(S.AUDIO_TRACK_SWITCHED,m({},r))}},audioTrackController:class _c extends Ao{constructor(r){super(r,"[audio-track-controller]"),this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:r}=this;r.on(S.MANIFEST_LOADING,this.onManifestLoading,this),r.on(S.MANIFEST_PARSED,this.onManifestParsed,this),r.on(S.LEVEL_LOADING,this.onLevelLoading,this),r.on(S.LEVEL_SWITCHING,this.onLevelSwitching,this),r.on(S.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),r.on(S.ERROR,this.onError,this)}unregisterListeners(){const{hls:r}=this;r.off(S.MANIFEST_LOADING,this.onManifestLoading,this),r.off(S.MANIFEST_PARSED,this.onManifestParsed,this),r.off(S.LEVEL_LOADING,this.onLevelLoading,this),r.off(S.LEVEL_SWITCHING,this.onLevelSwitching,this),r.off(S.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),r.off(S.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(r,l){this.tracks=l.audioTracks||[]}onAudioTrackLoaded(r,l){const{id:h,groupId:M,details:k}=l,H=this.tracksInGroup[h];if(!H||H.groupId!==M)return void this.warn(`Track with id:${h} and group:${M} not found in active group ${H.groupId}`);const te=H.details;H.details=l.details,this.log(`audio-track ${h} "${H.name}" lang:${H.lang} group:${M} loaded [${k.startSN}-${k.endSN}]`),h===this.trackId&&this.playlistLoaded(h,l,te)}onLevelLoading(r,l){this.switchLevel(l.level)}onLevelSwitching(r,l){this.switchLevel(l.level)}switchLevel(r){const l=this.hls.levels[r];if(null==l||!l.audioGroupIds)return;const h=l.audioGroupIds[l.urlId];if(this.groupId!==h){this.groupId=h||null;const M=this.tracks.filter(H=>!h||H.groupId===h);this.selectDefaultTrack&&!M.some(H=>H.default)&&(this.selectDefaultTrack=!1),this.tracksInGroup=M;const k={audioTracks:M};this.log(`Updating audio tracks, ${M.length} track(s) found in group:${h}`),this.hls.trigger(S.AUDIO_TRACKS_UPDATED,k),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}onError(r,l){l.fatal||!l.context||"audioTrack"===l.context.type&&l.context.id===this.trackId&&l.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(l))}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(r){this.selectDefaultTrack=!1,this.setAudioTrack(r)}setAudioTrack(r){const l=this.tracksInGroup;if(r<0||r>=l.length)return void this.warn("Invalid id passed to audio-track controller");this.clearTimer();const h=this.currentTrack,M=l[r],{groupId:k,name:H}=M;if(this.log(`Switching to audio-track ${r} "${H}" lang:${M.lang} group:${k}`),this.trackId=r,this.currentTrack=M,this.selectDefaultTrack=!1,this.hls.trigger(S.AUDIO_TRACK_SWITCHING,m({},M)),M.details&&!M.details.live)return;const te=this.switchParams(M.url,h?.details);this.loadPlaylist(te)}selectInitialTrack(){const r=this.tracksInGroup,l=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(-1!==l)this.setAudioTrack(l);else{const h=new Error(`No track found for running audio group-ID: ${this.groupId} track count: ${r.length}`);this.warn(h.message),this.hls.trigger(S.ERROR,{type:x.MEDIA_ERROR,details:A.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:h})}}findTrackId(r){const l=this.tracksInGroup;for(let h=0;h<l.length;h++){const M=l[h];if((!this.selectDefaultTrack||M.default)&&(!r||void 0!==r.attrs["STABLE-RENDITION-ID"]&&r.attrs["STABLE-RENDITION-ID"]===M.attrs["STABLE-RENDITION-ID"]||r.name===M.name&&r.lang===M.lang))return M.id}return-1}loadPlaylist(r){super.loadPlaylist();const l=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(l)){const h=l.id,M=l.groupId;let k=l.url;if(r)try{k=r.addDirectives(k)}catch(H){this.warn(`Could not construct new URL with HLS Delivery Directives: ${H}`)}this.log(`loading audio-track playlist ${h} "${l.name}" lang:${l.lang} group:${M}`),this.clearTimer(),this.hls.trigger(S.AUDIO_TRACK_LOADING,{url:k,id:h,groupId:M,deliveryDirectives:r||null})}}},emeController:Dc,cmcdController:$a,contentSteeringController:class qd{constructor(r){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=r,this.log=y.log.bind(y,"[content-steering]:"),this.registerListeners()}registerListeners(){const r=this.hls;r.on(S.MANIFEST_LOADING,this.onManifestLoading,this),r.on(S.MANIFEST_LOADED,this.onManifestLoaded,this),r.on(S.MANIFEST_PARSED,this.onManifestParsed,this),r.on(S.ERROR,this.onError,this)}unregisterListeners(){const r=this.hls;r&&(r.off(S.MANIFEST_LOADING,this.onManifestLoading,this),r.off(S.MANIFEST_LOADED,this.onManifestLoaded,this),r.off(S.MANIFEST_PARSED,this.onManifestParsed,this),r.off(S.ERROR,this.onError,this))}startLoad(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){const r=Math.max(1e3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,r)}else this.loadSteeringManifest(this.uri)}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(r){const l=this.levels;l&&(this.levels=l.filter(h=>h!==r))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(r,l){const{contentSteering:h}=l;null!==h&&(this.pathwayId=h.pathwayId,this.uri=h.uri,this.started&&this.startLoad())}onManifestParsed(r,l){this.audioTracks=l.audioTracks,this.subtitleTracks=l.subtitleTracks}onError(r,l){const{errorAction:h}=l;if(2===h?.action&&1===h.flags){let M=this.pathwayPriority;const k=this.pathwayId;this.penalizedPathways[k]||(this.penalizedPathways[k]=performance.now()),!M&&this.levels&&(M=this.levels.reduce((H,te)=>(-1===H.indexOf(te.pathwayId)&&H.push(te.pathwayId),H),[])),M&&M.length>1&&(this.updatePathwayPriority(M),h.resolved=this.pathwayId!==k)}}filterParsedLevels(r){this.levels=r;let l=this.getLevelsForPathway(this.pathwayId);if(0===l.length){const h=r[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${h}"`),l=this.getLevelsForPathway(h),this.pathwayId=h}return l.length!==r.length?(this.log(`Found ${l.length}/${r.length} levels in Pathway "${this.pathwayId}"`),l):r}getLevelsForPathway(r){return null===this.levels?[]:this.levels.filter(l=>r===l.pathwayId)}updatePathwayPriority(r){let l;this.pathwayPriority=r;const h=this.penalizedPathways,M=performance.now();Object.keys(h).forEach(k=>{M-h[k]>3e5&&delete h[k]});for(let k=0;k<r.length;k++){const H=r[k];if(h[H])continue;if(H===this.pathwayId)return;const te=this.hls.nextLoadLevel,De=this.hls.levels[te];if(l=this.getLevelsForPathway(H),l.length>0){this.log(`Setting Pathway to "${H}"`),this.pathwayId=H,this.hls.trigger(S.LEVELS_UPDATED,{levels:l});const Pe=this.hls.levels[te];De&&Pe&&this.levels&&(Pe.attrs["STABLE-VARIANT-ID"]!==De.attrs["STABLE-VARIANT-ID"]&&Pe.bitrate!==De.bitrate&&this.log(`Unstable Pathways change from bitrate ${De.bitrate} to ${Pe.bitrate}`),this.hls.nextLoadLevel=te);break}}}clonePathways(r){const l=this.levels;if(!l)return;const h={},M={};r.forEach(k=>{const{ID:H,"BASE-ID":te,"URI-REPLACEMENT":De}=k;if(l.some(lt=>lt.pathwayId===H))return;const Pe=this.getLevelsForPathway(te).map(lt=>{const pt=c({},lt);pt.details=void 0,pt.url=tc(lt.uri,lt.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",De);const Bt=new ne(lt.attrs);Bt["PATHWAY-ID"]=H;const jt=Bt.AUDIO&&`${Bt.AUDIO}_clone_${H}`,Xt=Bt.SUBTITLES&&`${Bt.SUBTITLES}_clone_${H}`;jt&&(h[Bt.AUDIO]=jt,Bt.AUDIO=jt),Xt&&(M[Bt.SUBTITLES]=Xt,Bt.SUBTITLES=Xt),pt.attrs=Bt;const cn=new Dn(pt);return Uo(cn,"audio",jt),Uo(cn,"text",Xt),cn});l.push(...Pe),Gl(this.audioTracks,h,De,H),Gl(this.subtitleTracks,M,De,H)})}loadSteeringManifest(r){const l=this.hls.config,h=l.loader;let M;this.loader&&this.loader.destroy(),this.loader=new h(l);try{M=new self.URL(r)}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest URI: ${r}`)}if("data:"!==M.protocol){const lt=0|(this.hls.bandwidthEstimate||l.abrEwmaDefaultEstimate);M.searchParams.set("_HLS_pathway",this.pathwayId),M.searchParams.set("_HLS_throughput",""+lt)}const k={responseType:"json",url:M.href},H=l.steeringManifestLoadPolicy.default,te=H.errorRetry||H.timeoutRetry||{},De={loadPolicy:H,timeout:H.maxLoadTimeMs,maxRetry:te.maxNumRetry||0,retryDelay:te.retryDelayMs||0,maxRetryDelay:te.maxRetryDelayMs||0},Pe={onSuccess:(lt,pt,Bt,jt)=>{this.log(`Loaded steering manifest: "${M}"`);const Xt=lt.data;if(1!==Xt.VERSION)return void this.log(`Steering VERSION ${Xt.VERSION} not supported!`);this.updated=performance.now(),this.timeToLoad=Xt.TTL;const{"RELOAD-URI":cn,"PATHWAY-CLONES":bn,"PATHWAY-PRIORITY":Bn}=Xt;if(cn)try{this.uri=new self.URL(cn,M).href}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest RELOAD-URI: ${cn}`)}this.scheduleRefresh(this.uri||Bt.url),bn&&this.clonePathways(bn),Bn&&this.updatePathwayPriority(Bn)},onError:(lt,pt,Bt,jt)=>{if(this.log(`Error loading steering manifest: ${lt.code} ${lt.text} (${pt.url})`),this.stopLoad(),410===lt.code)return this.enabled=!1,void this.log(`Steering manifest ${pt.url} no longer available`);let Xt=1e3*this.timeToLoad;if(429!==lt.code)this.scheduleRefresh(this.uri||pt.url,Xt);else{const cn=this.loader;if("function"==typeof cn?.getResponseHeader){const bn=cn.getResponseHeader("Retry-After");bn&&(Xt=1e3*parseFloat(bn))}this.log(`Steering manifest ${pt.url} rate limited`)}},onTimeout:(lt,pt,Bt)=>{this.log(`Timeout loading steering manifest (${pt.url})`),this.scheduleRefresh(this.uri||pt.url)}};this.log(`Requesting steering manifest: ${M}`),this.loader.load(k,De,Pe)}scheduleRefresh(r,l=1e3*this.timeToLoad){self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout(()=>{this.loadSteeringManifest(r)},l)}}});function hn(V){return V&&"object"==typeof V?Array.isArray(V)?V.map(hn):Object.keys(V).reduce((r,l)=>(r[l]=hn(V[l]),r),{}):V}let Gn=(()=>{class V{static get version(){return"1.4.10"}static isSupported(){return function hs(){const V=xn();if(!V)return!1;const r=to();return!(!V||"function"!=typeof V.isTypeSupported||!V.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')||r&&(!r.prototype||"function"!=typeof r.prototype.appendBuffer||"function"!=typeof r.prototype.remove))}()}static get Events(){return S}static get ErrorTypes(){return x}static get ErrorDetails(){return A}static get DefaultConfig(){return V.defaultConfig?V.defaultConfig:We}static set DefaultConfig(l){V.defaultConfig=l}constructor(l={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new xo,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,function L(V,r){if(self.console&&!0===V||"object"==typeof V){!function T(V,...r){r.forEach(function(l){D[l]=V[l]?V[l].bind(V):function I(V){const r=self.console[V];return r?r.bind(self.console,`[${V}] >`):N}(l)})}(V,"debug","log","info","warn","error");try{D.log(`Debug logs enabled for "${r}" in hls.js version 1.4.10`)}catch{D=O}}else D=O}(l.debug||!1,"Hls instance");const h=this.config=function Ht(V,r){if((r.liveSyncDurationCount||r.liveMaxLatencyDurationCount)&&(r.liveSyncDuration||r.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==r.liveMaxLatencyDurationCount&&(void 0===r.liveSyncDurationCount||r.liveMaxLatencyDurationCount<=r.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==r.liveMaxLatencyDuration&&(void 0===r.liveSyncDuration||r.liveMaxLatencyDuration<=r.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const l=hn(V),M=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach(k=>{const H=`${"level"===k?"playlist":k}LoadPolicy`,te=void 0===r[H],De=[];M.forEach(Pe=>{const lt=`${k}Loading${Pe}`,pt=r[lt];if(void 0!==pt&&te){De.push(lt);const Bt=l[H].default;switch(r[H]={default:Bt},Pe){case"TimeOut":Bt.maxLoadTimeMs=pt,Bt.maxTimeToFirstByteMs=pt;break;case"MaxRetry":Bt.errorRetry.maxNumRetry=pt,Bt.timeoutRetry.maxNumRetry=pt;break;case"RetryDelay":Bt.errorRetry.retryDelayMs=pt,Bt.timeoutRetry.retryDelayMs=pt;break;case"MaxRetryTimeout":Bt.errorRetry.maxRetryDelayMs=pt,Bt.timeoutRetry.maxRetryDelayMs=pt}}}),De.length&&y.warn(`hls.js config: "${De.join('", "')}" setting(s) are deprecated, use "${H}": ${JSON.stringify(r[H])}`)}),m(m({},l),r)}(V.DefaultConfig,l);this.userConfig=l,this._autoLevelCapping=-1,h.progressive&&function Ln(V){const r=V.loader;r!==Xs&&r!==Zr?(y.log("[config]: Custom loader detected, cannot enable progressive streaming"),V.progressive=!1):function Eo(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}()&&(V.loader=Xs,V.progressive=!0,V.enableSoftwareAES=!0,y.log("[config]: Progressive streaming enabled, using FetchLoader"))}(h);const{abrController:M,bufferController:k,capLevelController:H,errorController:te,fpsController:De}=h,Pe=new te(this),lt=this.abrController=new M(this),pt=this.bufferController=new k(this),Bt=this.capLevelController=new H(this),jt=new De(this),Xt=new bs(this),cn=new Zi(this),bn=h.contentSteeringController,Bn=bn?new bn(this):null,ti=this.levelController=new pr(this,Bn),zn=new Es(this),ui=new ma(this.config),oi=this.streamController=new Yc(this,zn,ui);Bt.setStreamController(oi),jt.setStreamController(oi);const Di=[Xt,ti,oi];Bn&&Di.splice(1,0,Bn),this.networkControllers=Di;const pi=[lt,pt,Bt,jt,cn,zn];this.audioTrackController=this.createController(h.audioTrackController,Di);const Mi=h.audioStreamController;Mi&&Di.push(new Mi(this,zn,ui)),this.subtitleTrackController=this.createController(h.subtitleTrackController,Di);const Ii=h.subtitleStreamController;Ii&&Di.push(new Ii(this,zn,ui)),this.createController(h.timelineController,pi),ui.emeController=this.emeController=this.createController(h.emeController,pi),this.cmcdController=this.createController(h.cmcdController,pi),this.latencyController=this.createController(Rr,pi),this.coreComponents=pi,Di.push(Pe);const li=Pe.onErrorOut;"function"==typeof li&&this.on(S.ERROR,li,Pe)}createController(l,h){if(l){const M=new l(this);return h&&h.push(M),M}return null}on(l,h,M=this){this._emitter.on(l,h,M)}once(l,h,M=this){this._emitter.once(l,h,M)}removeAllListeners(l){this._emitter.removeAllListeners(l)}off(l,h,M=this,k){this._emitter.off(l,h,M,k)}listeners(l){return this._emitter.listeners(l)}emit(l,h,M){return this._emitter.emit(l,h,M)}trigger(l,h){if(this.config.debug)return this.emit(l,l,h);try{return this.emit(l,l,h)}catch(M){y.error("An internal error happened while handling event "+l+'. Error message: "'+M.message+'". Here is a stacktrace:',M),this.trigger(S.ERROR,{type:x.OTHER_ERROR,details:A.INTERNAL_EXCEPTION,fatal:!1,event:l,error:M})}return!1}listenerCount(l){return this._emitter.listenerCount(l)}destroy(){y.log("destroy"),this.trigger(S.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(h=>h.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(h=>h.destroy()),this.coreComponents.length=0;const l=this.config;l.xhrSetup=l.fetchSetup=void 0,this.userConfig=null}attachMedia(l){y.log("attachMedia"),this._media=l,this.trigger(S.MEDIA_ATTACHING,{media:l})}detachMedia(){y.log("detachMedia"),this.trigger(S.MEDIA_DETACHING,void 0),this._media=null}loadSource(l){this.stopLoad();const h=this.media,M=this.url,k=this.url=P.buildAbsoluteURL(self.location.href,l,{alwaysNormalize:!0});y.log(`loadSource:${k}`),h&&M&&(M!==k||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(h)),this.trigger(S.MANIFEST_LOADING,{url:l})}startLoad(l=-1){y.log(`startLoad(${l})`),this.networkControllers.forEach(h=>{h.startLoad(l)})}stopLoad(){y.log("stopLoad"),this.networkControllers.forEach(l=>{l.stopLoad()})}swapAudioCodec(){y.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){y.log("recoverMediaError");const l=this._media;this.detachMedia(),l&&this.attachMedia(l)}removeLevel(l,h=0){this.levelController.removeLevel(l,h)}get levels(){return this.levelController.levels||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(l){y.log(`set currentLevel:${l}`),this.loadLevel=l,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(l){y.log(`set nextLevel:${l}`),this.levelController.manualLevel=l,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(l){y.log(`set loadLevel:${l}`),this.levelController.manualLevel=l}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(l){this.levelController.nextLoadLevel=l}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(l){y.log(`set firstLevel:${l}`),this.levelController.firstLevel=l}get startLevel(){return this.levelController.startLevel}set startLevel(l){y.log(`set startLevel:${l}`),-1!==l&&(l=Math.max(l,this.minAutoLevel)),this.levelController.startLevel=l}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(l){const h=!!l;h!==this.config.capLevelToPlayerSize&&(h?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=h)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:l}=this.abrController;return l?l.getEstimate():NaN}get ttfbEstimate(){const{bwEstimator:l}=this.abrController;return l?l.getEstimateTTFB():NaN}set autoLevelCapping(l){this._autoLevelCapping!==l&&(y.log(`set autoLevelCapping:${l}`),this._autoLevelCapping=l)}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(l){Wr.indexOf(l)>-1&&(this._maxHdcpLevel=l)}get autoLevelEnabled(){return-1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:l,config:{minAutoBitrate:h}}=this;if(!l)return 0;const M=l.length;for(let k=0;k<M;k++)if(l[k].maxBitrate>=h)return k;return 0}get maxAutoLevel(){const{levels:l,autoLevelCapping:h,maxHdcpLevel:M}=this;let k;if(k=-1===h&&l&&l.length?l.length-1:h,M)for(let H=k;H--;){const te=l[H].attrs["HDCP-LEVEL"];if(te&&te<=M)return H}return k}get nextAutoLevel(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)}set nextAutoLevel(l){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,l)}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get audioTracks(){const l=this.audioTrackController;return l?l.audioTracks:[]}get audioTrack(){const l=this.audioTrackController;return l?l.audioTrack:-1}set audioTrack(l){const h=this.audioTrackController;h&&(h.audioTrack=l)}get subtitleTracks(){const l=this.subtitleTrackController;return l?l.subtitleTracks:[]}get subtitleTrack(){const l=this.subtitleTrackController;return l?l.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(l){const h=this.subtitleTrackController;h&&(h.subtitleTrack=l)}get subtitleDisplay(){const l=this.subtitleTrackController;return!!l&&l.subtitleDisplay}set subtitleDisplay(l){const h=this.subtitleTrackController;h&&(h.subtitleDisplay=l)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(l){this.config.lowLatencyMode=l}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}return V.defaultConfig=void 0,V})();var Qn=p(863),Ci=p(7700),Zt=p(5879),Ni=p(6814);function Qi(V,r){if(1&V){const l=Zt.EpF();Zt.TgZ(0,"button",7),Zt.NdJ("click",function(){const k=Zt.CHM(l).$implicit,H=Zt.oxw();return Zt.KtG(H.onClickDialogAction(k))}),Zt._uU(1),Zt.qZA()}if(2&V){const l=r.$implicit;Zt.xp6(1),Zt.Oqu(l.text)}}let Vo=(()=>{class V{constructor(l,h){this.dialog=l,this.options=h}onClickDialogAction(l){this.dialog.close(l)}static#e=this.\u0275fac=function(h){return new(h||V)(Zt.Y36(Ci.so),Zt.Y36(Ci.WI))};static#t=this.\u0275cmp=Zt.Xpm({type:V,selectors:[["app-custom-dialog-options"]],decls:9,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"custom-dialog-message"],[1,"modal-footer"],[1,"custom-dialog-options"],["ngFor","",3,"ngForOf"],["type","button",1,"custom-dialog-button",3,"click"]],template:function(h,M){1&h&&(Zt.TgZ(0,"div",0)(1,"h5",1),Zt._uU(2),Zt.qZA()(),Zt.TgZ(3,"div",2)(4,"div",3),Zt._uU(5),Zt.qZA()(),Zt.TgZ(6,"div",4)(7,"div",5),Zt.YNc(8,Qi,2,1,"ng-template",6),Zt.qZA()()),2&h&&(Zt.xp6(2),Zt.Oqu(M.options.title),Zt.xp6(3),Zt.hij(" ",M.options.message," "),Zt.xp6(3),Zt.Q6J("ngForOf",M.options.actions))},dependencies:[Ni.sg],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return V})();var Mc=p(7394);class ol{}class oc{}class To{}class ea{}class Ac{}var vd=p(7541),qc=p(5908),sd=p(1044),yd=p(9429);let xc=(()=>{class V{constructor(l){this.restProvider=l}createTranscodedMediaFile(l,h){return new Promise((M,k)=>{this.restProvider.executeHttpMediaServerApi(Qn.yw.POST,l+"/api/mediaFilePlaybacks/CreateTranscodedMediaFile",h).then(te=>{M(te)},te=>{k(te)})})}retranscodeMediaFile(l,h){return new Promise((M,k)=>{this.restProvider.executeHttpMediaServerApi(Qn.yw.PUT,l+"/api/mediaFilePlaybacks/RetranscodeMediaFile",h).then(te=>{M(te)},te=>{k(te)})})}static#e=this.\u0275fac=function(h){return new(h||V)(Zt.LFG(yd.C))};static#t=this.\u0275prov=Zt.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})();var Ic=p(5731),Uc=p(1367),bd=p(9862);const Wd=["controlsContainer"],ad=["settingsContainer"],Yd=["videoPrincipalContainer"],Id=["videoTarget"];function ld(V,r){if(1&V){const l=Zt.EpF();Zt.TgZ(0,"button",55),Zt.NdJ("click",function(){Zt.CHM(l);const M=Zt.oxw(2);return Zt.KtG(M.goToPreviousEpisode())}),Zt._UZ(1,"i",56),Zt.qZA()}}function Xc(V,r){if(1&V){const l=Zt.EpF();Zt.TgZ(0,"button",57),Zt.NdJ("click",function(){Zt.CHM(l);const M=Zt.oxw(2);return Zt.KtG(M.goToNextEpisode())}),Zt._UZ(1,"i",58),Zt.qZA()}}function wd(V,r){if(1&V){const l=Zt.EpF();Zt.TgZ(0,"button",59,60),Zt.NdJ("click",function(){Zt.CHM(l);const M=Zt.oxw(2);return Zt.KtG(M.playOrPauseVideo())}),Zt._UZ(2,"i",61),Zt.qZA()}}function Le(V,r){if(1&V){const l=Zt.EpF();Zt.TgZ(0,"button",62,63),Zt.NdJ("click",function(){Zt.CHM(l);const M=Zt.oxw(2);return Zt.KtG(M.playOrPauseVideo())}),Zt._UZ(2,"i",64),Zt.qZA()}}const W=function(V){return{"show-controls":V}};function se(V,r){if(1&V&&(Zt.TgZ(0,"div",65),Zt._uU(1," Cargando video... "),Zt.qZA()),2&V){const l=Zt.oxw(2);Zt.Q6J("ngClass",Zt.VKq(1,W,l.showControls))}}const Je=function(V){return{selected:V}};function Wt(V,r){if(1&V){const l=Zt.EpF();Zt.TgZ(0,"button",76),Zt.NdJ("click",function(){const k=Zt.CHM(l).$implicit,H=Zt.oxw(3);return Zt.KtG(H.onClickPrincipalSettingsOption(k))}),Zt._uU(1),Zt.qZA()}if(2&V){const l=r.$implicit,h=Zt.oxw(3);Zt.MGl("id","stream_option_",l.index,""),Zt.Q6J("ngClass",Zt.VKq(3,Je,h.currentSelectedPrincipalSettingOption&&l.index==h.currentSelectedPrincipalSettingOption.index)),Zt.xp6(1),Zt.hij(" ",l.name," ")}}function an(V,r){if(1&V){const l=Zt.EpF();Zt.TgZ(0,"button",76),Zt.NdJ("click",function(){const k=Zt.CHM(l).$implicit,H=Zt.oxw(4);return Zt.KtG(H.onClickStreamOption(k))}),Zt._uU(1),Zt.qZA()}if(2&V){const l=r.$implicit,h=Zt.oxw(4);Zt.hYB("id","stream_option_",h.currentSelectedPrincipalSettingOption.id,"_suboption_",l.index,""),Zt.Q6J("ngClass",Zt.VKq(4,Je,h.currentSelectedPrincipalSettingOption.selectedOption&&h.currentSelectedPrincipalSettingOption.selectedOption.index==l.index)),Zt.xp6(1),Zt.hij(" ",l.name," ")}}function Hn(V,r){if(1&V&&(Zt.TgZ(0,"section",77),Zt.YNc(1,an,2,6,"ng-template",74),Zt.qZA()),2&V){const l=Zt.oxw(3);Zt.MGl("id","streams_suboptions_section_",l.currentSelectedPrincipalSettingOption.index,""),Zt.xp6(1),Zt.Q6J("ngForOf",l.currentSelectedPrincipalSettingOption.listOptions)}}function ri(V,r){if(1&V){const l=Zt.EpF();Zt.TgZ(0,"section",66,67)(2,"div",68)(3,"section",69)(4,"div",70)(5,"div",71)(6,"button",72),Zt.NdJ("click",function(){Zt.CHM(l);const M=Zt.oxw(2);return Zt.KtG(M.hideSettings())}),Zt._UZ(7,"i",11),Zt.qZA()()()(),Zt.TgZ(8,"section",73),Zt.YNc(9,Wt,2,5,"ng-template",74),Zt.qZA(),Zt.YNc(10,Hn,2,2,"section",75),Zt.qZA()()}if(2&V){const l=Zt.oxw(2);Zt.xp6(9),Zt.Q6J("ngForOf",l.listPrincipalSettingsOptions),Zt.xp6(1),Zt.Q6J("ngIf",l.currentSelectedPrincipalSettingOption)}}function Si(V,r){if(1&V&&Zt._UZ(0,"div",78),2&V){const l=r.$implicit,h=Zt.oxw(3);Zt.Udp("display",h.checkIfDisplaySubtitles(l)?"block":"none"),Zt.Q6J("innerHtml",l.text,Zt.oJD)}}function wi(V,r){if(1&V&&Zt.YNc(0,Si,1,3,"ng-template",74),2&V){const l=Zt.oxw(2);Zt.Q6J("ngForOf",l.currentSubtitleData)}}function Wi(V,r){if(1&V){const l=Zt.EpF();Zt.TgZ(0,"video",79,80),Zt.NdJ("error",function(){Zt.CHM(l);const M=Zt.oxw(2);return Zt.KtG(M.onErrorVideo())})("loadedmetadata",function(){Zt.CHM(l);const M=Zt.oxw(2);return Zt.KtG(M.onLoadedMetadata())})("loadeddata",function(){Zt.CHM(l);const M=Zt.oxw(2);return Zt.KtG(M.onLoadedData())})("ended",function(){Zt.CHM(l);const M=Zt.oxw(2);return Zt.KtG(M.OnEndedVideo())}),Zt.qZA()}}const Dr=function(V){return{show:V}};function Ls(V,r){if(1&V){const l=Zt.EpF();Zt.TgZ(0,"div",4,5),Zt.NdJ("click",function(){Zt.CHM(l);const M=Zt.MAs(1),k=Zt.oxw();return Zt.KtG(!k.commonService.isMobileDevice()&&k.onClickVideoContainer(M))})("touchstart",function(){Zt.CHM(l);const M=Zt.MAs(1),k=Zt.oxw();return Zt.KtG(k.commonService.isMobileDevice()&&k.onTouchVideoContainer(M))})("mousemove",function(){Zt.CHM(l);const M=Zt.MAs(1),k=Zt.oxw();return Zt.KtG(k.onMouseMoveVideoContainer(M))}),Zt.TgZ(2,"div",6)(3,"section",7,8)(5,"section",9)(6,"button",10),Zt.NdJ("click",function(){Zt.CHM(l);const M=Zt.oxw();return Zt.KtG(M.closeVideo())}),Zt._UZ(7,"i",11),Zt.qZA(),Zt.TgZ(8,"div",12),Zt._uU(9),Zt.qZA()(),Zt.TgZ(10,"div",13)(11,"div",14)(12,"section",15)(13,"button",16)(14,"div",17,18),Zt._uU(16),Zt.qZA(),Zt.TgZ(17,"div",19)(18,"div",20),Zt.NdJ("contextmenu",function(){Zt.CHM(l);const M=Zt.MAs(23),k=Zt.oxw();return Zt.KtG(!k.commonService.isMobileDevice()&&k.onClickSlider(M))})("click",function(){Zt.CHM(l);const M=Zt.MAs(23),k=Zt.oxw();return Zt.KtG(k.onClickSlider(M))})("touchend",function(){Zt.CHM(l);const M=Zt.MAs(23),k=Zt.oxw();return Zt.KtG(k.commonService.isMobileDevice()&&k.onClickSlider(M))})("touchstart",function(M){Zt.CHM(l);const k=Zt.MAs(23),H=Zt.MAs(15),te=Zt.oxw();return Zt.KtG(te.commonService.isMobileDevice()&&te.onTouchStartSlider(M,k,H))})("touchmove",function(M){Zt.CHM(l);const k=Zt.MAs(23),H=Zt.MAs(15),te=Zt.oxw();return Zt.KtG(te.commonService.isMobileDevice()&&te.onTouchMoveSlider(M,k,H))})("mousedown",function(M){Zt.CHM(l);const k=Zt.MAs(23),H=Zt.oxw();return Zt.KtG(H.onMouseDownSlider(M,k))})("mousemove",function(M){Zt.CHM(l);const k=Zt.MAs(23),H=Zt.oxw();return Zt.KtG(H.onMouseMoveSlider(M,k))}),Zt._UZ(19,"div",21,22),Zt.TgZ(21,"div",23)(22,"div",24,25)(24,"div",26,25),Zt._UZ(26,"div",27,28),Zt.qZA()()()()(),Zt.TgZ(28,"div",17,29),Zt._uU(30),Zt.qZA()()(),Zt.TgZ(31,"section",30)(32,"div",31),Zt.YNc(33,ld,2,0,"button",32),Zt.qZA(),Zt.TgZ(34,"div",33)(35,"div",34),Zt.YNc(36,Xc,2,0,"button",35),Zt.TgZ(37,"button",36),Zt.NdJ("click",function(){Zt.CHM(l);const M=Zt.oxw();return Zt.KtG(M.onChangeObjectContain())}),Zt._UZ(38,"i",37),Zt.qZA(),Zt.TgZ(39,"button",38),Zt.NdJ("click",function(){Zt.CHM(l);const M=Zt.oxw();return Zt.KtG(M.toggleFullScreenVideo())}),Zt._UZ(40,"i",39),Zt.qZA(),Zt.TgZ(41,"button",40),Zt.NdJ("click",function(){Zt.CHM(l);const M=Zt.oxw();return Zt.KtG(M.showSettings())}),Zt._UZ(42,"i",41),Zt.qZA()()()(),Zt.TgZ(43,"div",42)(44,"div",43)(45,"section",44)(46,"button",45),Zt.NdJ("click",function(){Zt.CHM(l);const M=Zt.oxw();return Zt.KtG(M.rewindVideo())}),Zt._UZ(47,"i",46),Zt.qZA(),Zt.YNc(48,wd,3,0,"button",47),Zt.YNc(49,Le,3,0,"button",48),Zt.TgZ(50,"button",49),Zt.NdJ("click",function(){Zt.CHM(l);const M=Zt.oxw();return Zt.KtG(M.forwardVideo())}),Zt._UZ(51,"i",50),Zt.qZA()()()()()()(),Zt.YNc(52,se,2,3,"div",51),Zt.YNc(53,ri,11,2,"section",52),Zt.YNc(54,wi,1,1,"ng-template",53),Zt.YNc(55,Wi,2,0,"video",54),Zt.qZA()()}if(2&V){const l=Zt.MAs(15),h=Zt.MAs(20),M=Zt.MAs(29),k=Zt.oxw();Zt.xp6(3),Zt.Q6J("ngClass",Zt.VKq(22,Dr,k.showControls)),Zt.xp6(6),Zt.hij(" ",k.GetFullVideoTitle()," "),Zt.xp6(5),Zt.Udp("visibility",k.showControls?"":"hidden"),Zt.xp6(2),Zt.hij(" ",k.getVideoTime()," "),Zt.xp6(1),Zt.Udp("width","calc(100% - "+(l.offsetWidth+M.offsetWidth)+"px)"),Zt.xp6(5),Zt.Udp("width",h.offsetWidth+"px"),Zt.xp6(4),Zt.Udp("width",k.getSliderPogressWidth()),Zt.xp6(2),Zt.Udp("visibility",k.showControls?"":"hidden"),Zt.xp6(2),Zt.hij(" ",k.getDurationTime()," "),Zt.xp6(3),Zt.Q6J("ngIf",k.isEnablePreviousEpisodeButton()),Zt.xp6(3),Zt.Q6J("ngIf",k.isEnableNextEpisodeButton()),Zt.xp6(12),Zt.Q6J("ngIf",!k.isPlayingVideo()),Zt.xp6(1),Zt.Q6J("ngIf",k.isPlayingVideo()),Zt.xp6(3),Zt.Q6J("ngIf",!k.loadedData),Zt.xp6(1),Zt.Q6J("ngIf",k.showingSettings),Zt.xp6(1),Zt.Q6J("ngIf",k.currentSubtitleData),Zt.xp6(1),Zt.Q6J("ngIf",k.showVideoTarget)}}let sc=(()=>{class V{constructor(l,h,M,k,H,te,De,Pe,lt,pt){this.signalIrService=l,this.activeRoute=h,this.router=M,this.libraryService=k,this.dialog=H,this.mediaFilePlaybackService=te,this.commonService=De,this.sharedDataService=Pe,this.ref=lt,this.http=pt,this._window=window,this.showVideo=!0,this.lastCurrentTime=0,this.showControls=!1,this.currentSubtitleData=void 0,this.haveError=!1,this.currentEpisode={},this.lastClickSeekButton=new Date,this.countSeekSecondsToAdvance=0,this.isUpdatingVideoSource=!1,this.showingSettings=!1,this.listPrincipalSettingsOptions=[{index:0,name:"AUDIO",listOptions:[],selectedOption:null},{index:1,name:"SUBT\xcdTULOS",listOptions:[],selectedOption:null}],this.lastRealVideoTime=0,this.initializeVideo=!1,this.showVideoTarget=!1,this.loadedData=!1,this.beforeUnloadFunction=!1,this.subscription=new Mc.w0,this.isRetranscoding=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(Bt=>{this.mediaServer&&this.mediaServer.Guid==Bt&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.getMediaItemDetailByMediaFileAndProfile())})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(Bt=>{this.mediaServer&&this.mediaServer.Guid==Bt&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1,this.router.navigateByUrl("/media/server/"+Bt))})),this.subscription.add(this.signalIrService.isRemovedMediaFilePlayback().subscribe(Bt=>{this.mediaServer&&this.mediaServer.Guid==Bt.mediaServerGuid&&this.transcodedMediaFile&&this.transcodedMediaFile.Guid==Bt.mediaFilePlaybackGuid&&this.router.navigateByUrl("/media/server/"+Bt.mediaServerGuid)}))}ngOnInit(){this.initializeEventsAndIntervals();var l=this.activeRoute.snapshot.params.serverGuid;if(null!=l){var h=this.sharedDataService.mediaServers.find(M=>M.Guid==l);h&&(this.mediaServer=JSON.parse(JSON.stringify(h)),this.mediaServer.isSecureConnection?this.getMediaItemDetailByMediaFileAndProfile():setTimeout(()=>{0==this.mediaServer.isSecureConnection&&this.router.navigateByUrl("/media/server/"+l)},3e3))}else this.router.navigateByUrl("/404")}ngOnDestroy(){!this.sharedDataService.configurationData.alwaysFullScreen&&document.fullscreenElement&&document.exitFullscreen(),this.deleteTranscodedMediaFile(),this.subscription.unsubscribe(),this.dashMediaPlayer&&(this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy()),this.hls&&(this.hls.detachMedia(),this.hls.destroy()),this.detectChangesInterval&&window.clearInterval(this.detectChangesInterval),this.customMouseOutEvent&&window.removeEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction&&window.removeEventListener("beforeunload",this.beforeUnloadFunction),this.timeOutLoadVideoId&&(clearTimeout(this.timeOutLoadVideoId),this.timeOutLoadVideoId=void 0)}initializeEventsAndIntervals(){let l=this;this.customMouseOutEvent=function(M){l.sliderContainer&&l.sliderContainer.startMove&&l.onClickSlider(l.sliderContainer)},window.addEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction=function(M){l.deleteTranscodedMediaFile()},window.addEventListener("beforeunload",this.beforeUnloadFunction),this.detectChangesInterval=window.setInterval(function(){l.mediaServer&&l.transcodedMediaFile&&!l.isRetranscoding&&l.signalIrService.updateCurrentTimeMediaFilePlayBack(l.mediaServer.Guid,l.transcodedMediaFile.Guid,l.getCurrentVideoTime(),l.isPlayingVideo()),l.ref.detectChanges()},0)}getMediaItemDetailByMediaFileAndProfile(){var l=this.activeRoute.snapshot.params.mediaFileId;l?this.libraryService.GetMediaItemDetailByMediaFileAndProfile(this.mediaServer.Url,l,this.sharedDataService.currentProfile.Id).then(h=>{this.itemDetail=h,this.CreateTranscodedMediaFile()},h=>{this.router.navigateByUrl("/404")}):this.router.navigateByUrl("/404")}CreateTranscodedMediaFile(){var l=0;this.itemDetail.MediaFileProfile&&(l=this.itemDetail.MediaFileProfile.CurrentTime>20?this.itemDetail.MediaFileProfile.CurrentTime-20:0),this.createTranscodedMediaFile(l)}getVideoByEpisode(l){this.deleteTranscodedMediaFile(),this.itemDetail.ListSeasons&&(this.itemDetail.CurrentSeason=this.itemDetail.ListSeasons.find(h=>h.SeasonNumber==l.SeasonNumber),this.itemDetail.CurrentEpisode=this.itemDetail.CurrentSeason.ListEpisodes.find(h=>h.EpisodeNumber==l.EpisodeNumber)),this.lastRealVideoTime=0,this.resetStream(),this.transcodedMediaFile=void 0,this.createTranscodedMediaFile(0)}createTranscodedMediaFile(l){this.mediaFilePlaybackService.createTranscodedMediaFile(this.mediaServer.Url,this.GetMediaFilePlayback(l)).then(h=>{this.loadStatus=Qn.O5.Generated,this.transcodedMediaFile=h.Data,this.initializeStreams(),this.getVideoSource()},h=>{this.showLoadVideoErrorActionsDialog(),console.error(h)})}GetMediaFilePlayback(l){var h;(h=new ol).Guid=(0,t.Z)();var M=new oc;M.ProfileId=this.sharedDataService.currentProfile.Id,M.ProfileName=this.sharedDataService.currentProfile.FullName,M.AvatarPath=this.sharedDataService.currentProfile.AvatarPath,h.ProfileData=M;var k=new To;if(k.DeviceData=this.sharedDataService.deviceData,k.IsPlaying=!0,k.CurrentTime=l,h.ClientData=k,this.itemDetail.MediaItem.MediaTypeId==Qn.DD.Movie){var H=new ea,te=this.itemDetail.ListMediaFiles[0];H.Title=this.itemDetail.MediaItem.ExtendedTitle,H.PhysicalPath=te.PhysicalPath,H.MediaFileId=te.Id,H.PosterPath=this.getPosterPath(this.itemDetail.MediaItem,te),h.ItemData=H}return this.itemDetail.MediaItem.MediaTypeId==Qn.DD.TvSerie&&((H=new ea).MediaFileId=(te=this.itemDetail.CurrentEpisode.ListMediaFiles[0]).Id,H.PhysicalPath=te.PhysicalPath,H.Title=this.itemDetail.MediaItem.Title,H.Subtitle="T"+this.itemDetail.CurrentEpisode.SeasonNumber+":E"+this.itemDetail.CurrentEpisode.EpisodeNumber+" "+this.itemDetail.CurrentEpisode.Name,H.PosterPath=this.getPosterPath(this.itemDetail.MediaItem,te),h.ItemData=H),h}retranscodeMediaFile(l){this.deleteLastTranscodedMediaFileProcess();var h=new Ac;h.Guid=this.transcodedMediaFile.Guid,h.NewTime=l,this.loadStatus=Qn.O5.Empty,this.isRetranscoding=!0,this.mediaFilePlaybackService.retranscodeMediaFile(this.mediaServer.Url,h).then(M=>{this.isRetranscoding=!1,this.transcodedMediaFile.InitialTime=l,this.transcodedMediaFile.Url=M.Data,this.loadStatus=Qn.O5.Generated,this.updateAudioAndVideoList(),this.getVideoSource()},M=>{this.isRetranscoding=!1,this.showLoadVideoErrorActionsDialog(),console.error(M)})}deleteTranscodedMediaFile(){this.timeOutLoadVideoId&&(clearTimeout(this.timeOutLoadVideoId),this.timeOutLoadVideoId=void 0),this.signalIrService.removeMediaFilePlayBack(this.mediaServer.Guid,this.transcodedMediaFile.Guid)}deleteLastTranscodedMediaFileProcess(){this.timeOutLoadVideoId&&(clearTimeout(this.timeOutLoadVideoId),this.timeOutLoadVideoId=void 0),this.signalIrService.removeLastTranscodedMediaFileProcess(this.mediaServer.Guid,this.transcodedMediaFile.Guid)}GetFullVideoTitle(){var l="";return this.itemDetail&&this.itemDetail.MediaItem.MediaTypeId==Qn.DD.Movie&&(l=this.itemDetail.MediaItem.ExtendedTitle),this.itemDetail&&this.itemDetail.MediaItem.MediaTypeId==Qn.DD.TvSerie&&(l=this.itemDetail.MediaItem.Title+" T"+this.itemDetail.CurrentEpisode.SeasonNumber+":E"+this.itemDetail.CurrentEpisode.EpisodeNumber+" "+this.itemDetail.CurrentEpisode.Name),l}isEnablePreviousEpisodeButton(){if(this.itemDetail&&this.itemDetail.ListSeasons&&this.itemDetail.ListSeasons.length>0&&this.itemDetail.CurrentSeason){let l=this.itemDetail.CurrentSeason.SeasonNumber,M=this.itemDetail.CurrentEpisode.EpisodeNumber-1;if(-1!=this.itemDetail.CurrentSeason.ListEpisodes.findIndex(H=>H.EpisodeNumber==M))return!0;{let H=l-1,te=this.itemDetail.ListSeasons.findIndex(De=>De.SeasonNumber==H);if(-1!=te){let De=this.itemDetail.ListSeasons[te];return!!(De&&De.ListEpisodes&&De.ListEpisodes.length)}return!1}}return!1}isEnableNextEpisodeButton(){if(this.itemDetail&&this.itemDetail.ListSeasons&&this.itemDetail.ListSeasons.length>0&&this.itemDetail.CurrentSeason){let l=this.itemDetail.CurrentSeason.SeasonNumber,M=this.itemDetail.CurrentEpisode.EpisodeNumber+1;if(-1!=this.itemDetail.CurrentSeason.ListEpisodes.findIndex(H=>H.EpisodeNumber==M))return!0;{let H=l+1,te=this.itemDetail.ListSeasons.findIndex(De=>De.SeasonNumber==H);if(-1!=te){let De=this.itemDetail.ListSeasons[te];return!!(De&&De.ListEpisodes&&De.ListEpisodes.length)}return!1}}return!1}goToNextEpisode(){if(this.itemDetail&&this.itemDetail.ListSeasons&&this.itemDetail.ListSeasons.length>0&&this.itemDetail.CurrentSeason){let l=this.itemDetail.CurrentSeason.SeasonNumber,M=this.itemDetail.CurrentEpisode.EpisodeNumber+1,k=this.itemDetail.CurrentSeason.ListEpisodes.findIndex(H=>H.EpisodeNumber==M);if(-1!=k)this.getVideoByEpisode(this.itemDetail.CurrentSeason.ListEpisodes[k]);else{let H=l+1,te=this.itemDetail.ListSeasons.findIndex(De=>De.SeasonNumber==H);if(-1!=te){let De=this.itemDetail.ListSeasons[te];this.itemDetail.CurrentSeason=De,De&&De.ListEpisodes&&De.ListEpisodes.length&&this.getVideoByEpisode(De.ListEpisodes[0])}}}}goToPreviousEpisode(){if(this.itemDetail&&this.itemDetail.ListSeasons&&this.itemDetail.ListSeasons.length>0&&this.itemDetail.CurrentSeason){let l=this.itemDetail.CurrentSeason.SeasonNumber,M=this.itemDetail.CurrentEpisode.EpisodeNumber-1,k=this.itemDetail.CurrentSeason.ListEpisodes.findIndex(H=>H.EpisodeNumber==M);if(-1!=k)this.getVideoByEpisode(this.itemDetail.CurrentSeason.ListEpisodes[k]);else{let H=l+1,te=this.itemDetail.ListSeasons.findIndex(De=>De.SeasonNumber==H);if(-1!=te){let De=this.itemDetail.ListSeasons[te];this.itemDetail.CurrentSeason=De,De&&De.ListEpisodes&&De.ListEpisodes.length&&this.getVideoByEpisode(De.ListEpisodes[De.ListEpisodes.length-1])}}}}onTouchVideoContainer(l){this.showingSettings||this.commonService.isMobileDevice()&&this.showControlsTemporarily(l)}onClickVideoContainer(l){this.showingSettings||(l.clicked=!0,setTimeout(()=>{l.clicked=!1},2e3),this.commonService.isMobileDevice()||this.showControlsTemporarily(l))}onTouchStartSlider(l,h,M){this.sliderContainer=h,h.startMove=!0,this.lastTmpVideoTime=(l.changedTouches[0].clientX-M.offsetWidth-8-4)/h.offsetWidth*100*this.transcodedMediaFile.Duration/100}onTouchMoveSlider(l,h,M){h.startMove&&(this.lastTmpVideoTime=(l.changedTouches[0].clientX-M.offsetWidth-8-4)/h.offsetWidth*100*this.transcodedMediaFile.Duration/100)}showSettings(){this.showControls=!1,this.ref.detectChanges(),this.showingSettings=!0,this.ref.detectChanges()}hideSettings(){this.showingSettings=!1,this.ref.detectChanges()}onClickPrincipalSettingsOption(l){this.currentSelectedPrincipalSettingOption=l}onClickStreamOption(l){this.currentSelectedPrincipalSettingOption.selectedOption=l,this.showingSettings=!1,this.ref.detectChanges(),0==this.currentSelectedPrincipalSettingOption.index&&(this.hls.audioTrack=l.index),1==this.currentSelectedPrincipalSettingOption.index&&(1e6==l.index?this.hls.subtitleDisplay=!1:(this.hls.subtitleTrack=l.index,this.hls.subtitleDisplay=!0))}getPosterPath(l,h){return l.MetadataAgentsId==Qn.DM.TMDb?this.sharedDataService.originalUrlImagesMovieDataBase+l.PosterPath:l.PosterPath?l.PosterPath:this.mediaServer.Url+"/media/"+h.Guid+"/thumbnail.png"}getSubtitle(l){let h=this;this.http.get(l,{responseType:"text"}).subscribe(M=>{M&&(0,v.Q)(M)&&(0,v.Q)(M).entries?(h.currentSubtitleData=(0,v.Q)(M).entries,0==h.currentSubtitleData.length?setTimeout(()=>{h.getSubtitle(l)},1e3):h.ref.detectChanges()):(console.error("No hay data en los subtitulos aun"),setTimeout(()=>{h.getSubtitle(l)},1e3))},M=>{console.error(M),setTimeout(()=>{h.getSubtitle(l)},1e3)})}closeVideo(){this.router.navigateByUrl("/home")}getConfirmMessage(){var l="Vacio";switch(this.loadStatus){case Qn.O5.Empty:l="Vac\xedo";break;case Qn.O5.Generated:l="Generado";break;case Qn.O5.Initialized:l="Inicializado";break;case Qn.O5.LoadedMetada:l="Cargado Metadata";break;case Qn.O5.LoadedData:l="Cargado Data"}return"Hubo un error al intentar reproducir el video, se quedo con el estado de "+l+", desea intentarlo de nuevo?"}updateAudioAndVideoList(){if(this.listPrincipalSettingsOptions[0].listOptions=[],this.listPrincipalSettingsOptions[0].selectedOption=void 0,this.listPrincipalSettingsOptions[1].listOptions=[],this.listPrincipalSettingsOptions[1].selectedOption=void 0,this.transcodedMediaFile.ListAudioStreams&&this.transcodedMediaFile.ListAudioStreams.length>0&&(this.transcodedMediaFile.ListAudioStreams.forEach(l=>{let h="";"spa"==l.language&&(h="Espa\xf1ol"),"eng"==l.language&&(h="Ingles"),l.title&&(h=h+" ("+l.title+")"),l.name=h}),this.listPrincipalSettingsOptions[0].listOptions=this.transcodedMediaFile.ListAudioStreams,this.listPrincipalSettingsOptions[0].selectedOption=this.transcodedMediaFile.ListAudioStreams.find(l=>1==l.isDefault)),this.transcodedMediaFile.ListSubtitleStreams&&this.transcodedMediaFile.ListSubtitleStreams.length>0){this.transcodedMediaFile.ListSubtitleStreams.forEach(M=>{let k="";"spa"==M.language&&(k="Espa\xf1ol"),"eng"==M.language&&(k="Ingles"),M.title&&(k=k+" ("+M.title+")"),M.name=k});let l=[];l.push({index:1e6,name:"Ninguno"}),l=l.concat(this.transcodedMediaFile.ListSubtitleStreams),this.listPrincipalSettingsOptions[1].listOptions=l;let h=this.transcodedMediaFile.ListSubtitleStreams.find(M=>1==M.isDefault);null==h&&(h=l.find(M=>1e6==M.index)),this.listPrincipalSettingsOptions[1].selectedOption=h}this.currentSelectedPrincipalSettingOption=this.listPrincipalSettingsOptions[0]}initializeStreams(){this.updateAudioAndVideoList(),this.lastRealVideoTime=null!=this.transcodedMediaFile.InitialTime?this.transcodedMediaFile.InitialTime:0}executeHideControls(){this.sliderContainer&&this.sliderContainer.startMove?setTimeout(()=>{this.executeHideControls()},2e3):this.showControls=!1}getDurationTime(){return this.transcodedMediaFile&&this.transcodedMediaFile.Duration?this.getFormatTime(this.transcodedMediaFile.Duration):"00:00:00"}getFormatTime(l){var h=parseInt(l,10),M=Math.floor(h/3600),k=Math.floor((h-3600*M)/60),H=h-3600*M-60*k;return M<10&&(M="0"+M),k<10&&(k="0"+k),H<10&&(H="0"+H),M+":"+k+":"+H}getVideoTime(){if(this.lastTmpVideoTime)return this.getFormatTime(this.lastTmpVideoTime);{let l=this.getCurrentVideoTime();return null!=l&&l>0?this.getFormatTime(l):"00:00:00"}}onMouseDownSlider(l,h){this.sliderContainer=h,h.startMove=!0,this.calculateNewTimeToGo(l,h)}onMouseMoveSlider(l,h){h.startMove&&this.calculateNewTimeToGo(l,h)}calculateNewTimeToGo(l,h){this.lastTmpVideoTime=l.offsetX/h.offsetWidth*100*this.transcodedMediaFile.Duration/100}resetStream(){this.showVideoTarget=!1,this.loadedData=!1,null!=this.dashMediaPlayer&&(this.dashMediaPlayer.resetSettings(),this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy(),this.dashMediaPlayer=void 0),this.hls&&(this.hls.destroy(),this.hls=void 0)}onClickSlider(l){if(this.lastTmpVideoTime){if(l.startMove=!1,this.lastTmpVideoTime>this.getCurrentVideoTime()){let h=this.lastTmpVideoTime-this.getCurrentVideoTime();this.executeForwardVideo(h)}else if(this.lastTmpVideoTime<this.getCurrentVideoTime()){let h=this.getCurrentVideoTime()-this.lastTmpVideoTime;this.executeRewindVideo(h)}this.lastTmpVideoTime=void 0}}getSliderPogressWidth(){if(this.transcodedMediaFile&&this.transcodedMediaFile.Duration){let l=this.transcodedMediaFile.Duration,M=(this.lastTmpVideoTime?this.lastTmpVideoTime:this.getCurrentVideoTime())/l*100;return M>100&&(M=100),M+"%"}return 0}OnEndedVideo(){this.isEnableNextEpisodeButton()&&this.goToNextEpisode()}isPlayingVideo(){return this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==Qn.Ln.MPEGDASH?!(!this.dashMediaPlayer||this.dashMediaPlayer.isPaused()):!(!this.videoTarget||0!=this.videoTarget.nativeElement.paused)}playOrPauseVideo(){console.log("subtitle tracks"),console.log(this.hls.subtitleTracks),console.log("audio tracks"),console.log(this.hls.audioTracks),this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==Qn.Ln.MPEGDASH?this.dashMediaPlayer&&(this.dashMediaPlayer.isPaused()?this.dashMediaPlayer.play():this.dashMediaPlayer.pause()):this.videoTarget&&(this.videoTarget.nativeElement.paused?this.videoTarget.nativeElement.play():this.videoTarget.nativeElement.pause())}showVideoInFullScreen(){this.toggleFullScreenVideo()}toggleFullScreenVideo(){document.fullscreenElement||document.body.requestFullscreen&&document.body.requestFullscreen()}displayVideoUsingDash(l){let h=this;this.dashMediaPlayer=e.MediaPlayer().create(),this.dashMediaPlayer.updateSettings({streaming:{gaps:{jumpGaps:!0,jumpLargeGaps:!0,enableSeekFix:!0,enableStallFix:!0},buffer:{bufferPruningInterval:this.transcodedMediaFile.Duration,bufferToKeep:this.transcodedMediaFile.Duration}}}),this.dashMediaPlayer.initialize(this.videoTarget.nativeElement,l),this.dashMediaPlayer.on(e.MediaPlayer.events.ERROR,function(M){console.log(M),console.error("hubo un error")}),this.dashMediaPlayer.on(e.MediaPlayer.events.PLAYBACK_ERROR,function(M){console.log(M),console.error("hubo un error de playback")}),this.dashMediaPlayer.on(e.MediaPlayer.events.PLAYBACK_WAITING,function(M){console.error("PLAYBACK_WAITING"),console.log(M)}),this.dashMediaPlayer.on(e.MediaPlayer.events.BUFFER_EMPTY,function(M){console.error("BUFFER_EMPTY"),console.log(M)}),this.dashMediaPlayer.on(e.MediaPlayer.events.STREAM_INITIALIZED,function(M){console.error("STREAM_INITIALIZED"),h.initializeVideo=!0,console.log(M)}),this.ref.detectChanges(),this.dashMediaPlayer.play(),this.showVideoInFullScreen()}getCurrentVideoTime(){return this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==Qn.Ln.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()?this.lastRealVideoTime+this.dashMediaPlayer.time():this.lastRealVideoTime:this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime?this.lastRealVideoTime+this.videoTarget.nativeElement.currentTime:this.lastRealVideoTime}checkIfDisplaySubtitles(l){let M=1e3*(this.getCurrentVideoTime()-1);return l.from<=M&&l.to>=M}onDeclineReplyVideo(){this.closeVideo()}onConfirmReplyVideo(){this.lastRealVideoTime=this.getCurrentVideoTime()-2>=0?this.getCurrentVideoTime()-2:0,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)}onLoadedMetadata(){this.loadStatus=Qn.O5.LoadedMetada,console.log("onLoadedMetadata")}onLoadedData(){console.log("onLoadedData"),this.loadStatus=Qn.O5.LoadedData,this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play())}onErrorVideo(){console.log("onErrorVideo")}getVideoSource(){this.http.get(this.transcodedMediaFile.Url,{headers:void 0,responseType:"blob"}).subscribe(l=>{this.loadStatus=Qn.O5.Initialized,this.showVideoTarget=!0,this.ref.detectChanges(),-1!=this.transcodedMediaFile.Url.indexOf("mpd")?this.displayVideoUsingDash(this.transcodedMediaFile.Url):-1!=this.transcodedMediaFile.Url.indexOf("m3u8")?this.displayVideoUsingHLS(this.transcodedMediaFile.Url):(this.videoTarget.nativeElement.src=this.transcodedMediaFile.Url,this.videoTarget.nativeElement.currentTime=this.lastRealVideoTime,this.lastRealVideoTime=0,this.videoTarget.nativeElement.play())},l=>{console.error(l),this.showLoadVideoErrorActionsDialog()})}displayVideoUsingHLS(l){let h=this;this.timeOutLoadVideoId=setTimeout(()=>{h.loadStatus!=Qn.O5.LoadedData&&h.showLoadVideoErrorActionsDialog()},1e4,h),this.showVideoInFullScreen(),Gn.isSupported()?(this.hls=new Gn,this.hls.attachMedia(this.videoTarget.nativeElement),this.hls.loadSource(l),this.hls.on(Gn.Events.MEDIA_ATTACHED,function(M){console.log("MEDIA_ATTACHED"),console.log(M)}),this.hls.on(Gn.Events.AUDIO_TRACK_LOADED,function(M){console.log("AUDIO_LOADED"),console.log(M)}),this.hls.on(Gn.Events.MANIFEST_LOADED,function(M){console.log("MANIFEST_LOADED"),console.log(M)}),this.hls.on(Gn.Events.MANIFEST_PARSED,function(M){console.log("MANIFEST_PARSED"),console.log(M)}),this.hls.on(Gn.Events.ERROR,function(M){h.videoTarget.nativeElement.CurrentTime=h.videoTarget.nativeElement.CurrentTime+1,console.error("Ocurrio un error"),console.log(M)})):(this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.src=l,this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play()))}onChangeObjectContain(){"contain"==this.videoTarget.nativeElement.style.objectFit||""==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="cover":"cover"==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="fill":"fill"==this.videoTarget.nativeElement.style.objectFit&&(this.videoTarget.nativeElement.style.objectFit="contain")}callUpdateVideoData(l){let h=(0,t.Z)();this.lastTimeSpanChangeGUID=h,setTimeout(()=>{h==this.lastTimeSpanChangeGUID&&this.retranscodeMediaFile(l)},1e3)}rewindVideo(){this.executeRewindVideo(10)}executeRewindVideo(l){this.initializeVideo=!1;let h=0;h=this.getCurrentVideoTime()-l>=0?l:this.getCurrentVideoTime(),this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==Qn.Ln.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()>h?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()-h):(this.lastRealVideoTime=this.getCurrentVideoTime()-h,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.currentTime>h?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime-h:(this.lastRealVideoTime=this.getCurrentVideoTime()-h,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}forwardVideo(){this.executeForwardVideo(10)}executeForwardVideo(l){if(this.initializeVideo=!1,this.getCurrentVideoTime()<this.transcodedMediaFile.Duration){let h=0;h=this.getCurrentVideoTime()+l>this.transcodedMediaFile.Duration?this.transcodedMediaFile.Duration>this.getCurrentVideoTime()?this.transcodedMediaFile.Duration-this.getCurrentVideoTime():0:l,this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==Qn.Ln.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.duration()-this.dashMediaPlayer.time()>=h?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()+h):(this.lastRealVideoTime=this.getCurrentVideoTime()+h,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.duration&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.duration-this.videoTarget.nativeElement.currentTime>=h?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime+h:(this.lastRealVideoTime=this.getCurrentVideoTime()+h,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}}onMouseMoveVideoContainer(l){!this.showControls&&!l.clicked&&!this.showingSettings&&this.showControlsTemporarily(l)}executeShowControlsTemporarily(l,h){this.showControls=!0,this.ref.detectChanges(),setTimeout(()=>{l.guid==h&&this.executeHideControls()},2e3)}showControlsTemporarily(l){if(!this.showControls){let h=(0,t.Z)();l.guid=h,this.commonService.isMobileDevice()?setTimeout(()=>{this.executeShowControlsTemporarily(l,h)},250):this.executeShowControlsTemporarily(l,h)}}toogleVideoControls(l){this.showControls?this.showControls=!0:this.showControlsTemporarily(l)}showLoadVideoErrorActionsDialog(){var l=new Ci.vA;l.disableClose=!0,l.data={title:"Mensaje",message:this.getConfirmMessage(),actions:[{text:"No",key:"No"},{text:"Si",key:"Si"}]},this.dialog.open(Vo,l).afterClosed().subscribe(h=>{"Si"==h.key&&this.onConfirmReplyVideo(),"No"==h.key&&this.onDeclineReplyVideo()})}static#e=this.\u0275fac=function(h){return new(h||V)(Zt.Y36(vd.n),Zt.Y36(qc.gz),Zt.Y36(qc.F0),Zt.Y36(sd.$),Zt.Y36(Ci.uw),Zt.Y36(xc),Zt.Y36(Ic.v),Zt.Y36(Uc.g),Zt.Y36(Zt.sBO),Zt.Y36(bd.eN))};static#t=this.\u0275cmp=Zt.Xpm({type:V,selectors:[["app-item-video"]],viewQuery:function(h,M){if(1&h&&(Zt.Gf(Wd,5),Zt.Gf(ad,5),Zt.Gf(Yd,5),Zt.Gf(Id,5)),2&h){let k;Zt.iGM(k=Zt.CRH())&&(M.controlsContainer=k.first),Zt.iGM(k=Zt.CRH())&&(M.settingsContainer=k.first),Zt.iGM(k=Zt.CRH())&&(M.videoPrincipalContainer=k.first),Zt.iGM(k=Zt.CRH())&&(M.videoTarget=k.first)}},decls:4,vars:1,consts:[[1,"sinovad-container-video"],["id","videoPrincipalContainer",1,"sinovad-video-principal-container","sinovad-custom-container",2,"width","100%","height","100%"],["videoPrincipalContainer",""],["class","sinovad-video-container",3,"click","touchstart","mousemove",4,"ngIf"],[1,"sinovad-video-container",3,"click","touchstart","mousemove"],["videoContainer",""],[1,"sinovad-full-screen-video-container"],["tabindex","0",1,"sinovad-controls-container",3,"ngClass"],["controlsContainer",""],["id","videoHeaderSection","tabindex","0",1,"sinovad-video-header-section"],["id","backVideoButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-chevron-left"],[1,"sinovad-video-header-section-title-container"],[1,"sinovad-full-screen-video-popup-footer"],[2,"width","100%"],["id","section_progress_bar",1,"sinovad-progress-bar-container"],["id","sliderButton",1,"sinovad-progress-bar"],[1,"sinovad-current-time"],["controlLeft",""],[1,"sinovad-slider-container"],["tabindex","-1",1,"sinovad-slider-content",3,"contextmenu","click","touchend","touchstart","touchmove","mousedown","mousemove"],[1,"sinovad-slider-fills"],["silderFills",""],[2,"width","0px"],[1,"sinovad-slider-fills-progress-container"],["sliderContainer",""],[1,"sinovad-slider-fills-progress-content"],[1,"sinovad-slider-fills-progress"],["silderProgress",""],["controlRight",""],["id","section_video_secondary_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-episode-buttons-section","sinovad-section"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-left"],["id","previousButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-right"],[2,"display","flex","align-items","center","float","right"],["id","nextButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],["id","aspectRatio",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-maximize"],["id","fullScreenButton",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-expand"],["id","settingsOption",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-gear"],[1,"sinovad-section",2,"display","flex","height","50px"],[1,"sinovad-full-screen-video-popup-footer-center"],["id","section_video_principal_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-footer-center-content"],["id","rewindButton",1,"sinovad-video-control-button",2,"margin-right","25px",3,"click"],[1,"fa-solid","fa-rotate-left"],["id","playButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","stopButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","forwardButton",1,"sinovad-video-control-button",2,"margin-left","25px",3,"click"],[1,"fa-solid","fa-rotate-right"],["class","sinovad-loading-video",3,"ngClass",4,"ngIf"],["class","easy-media-settings-section-container","tabindex","0",4,"ngIf"],[3,"ngIf"],["id","video","class","sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended",4,"ngIf"],["id","previousButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-backward-step"],["id","nextButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-forward-step"],["id","playButton",1,"sinovad-video-control-button","principal",3,"click"],["playButton",""],[1,"fa-solid","fa-play"],["id","stopButton",1,"sinovad-video-control-button","principal",3,"click"],["stopButton",""],[1,"fa-solid","fa-pause"],[1,"sinovad-loading-video",3,"ngClass"],["tabindex","0",1,"easy-media-settings-section-container"],["settingsContainer",""],[1,"easy-media-settings-section-content"],["id","section_settings_back_button","tabindex","0",1,"sinovad-settings-options-header-section"],[1,"sinovad-settings-section-container-left"],[1,"sinovad-settings-section-content-left"],["id","closeSettings",1,"sinovad-video-control-button",3,"click"],["id","streams_options_section","tabindex","0",1,"sinovad-settings-options-section"],["ngFor","",3,"ngForOf"],["class","sinovad-settings-suboptions-section","tabindex","0",3,"id",4,"ngIf"],[3,"id","ngClass","click"],["tabindex","0",1,"sinovad-settings-suboptions-section",3,"id"],[1,"sinovad-subtitles-forzed-section",3,"innerHtml"],["id","video",1,"sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended"],["videoTarget",""]],template:function(h,M){1&h&&(Zt.TgZ(0,"div",0)(1,"div",1,2),Zt.YNc(3,Ls,56,24,"div",3),Zt.qZA()()),2&h&&(Zt.xp6(3),Zt.Q6J("ngIf",M.showVideo))},dependencies:[Ni.mk,Ni.sg,Ni.O5],styles:[".sinovad-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:1054;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}video[_ngcontent-%COMP%]::cue{background-color:transparent;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-loading-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;padding-bottom:0;left:0;background-color:#000;z-index:9999;display:flex;align-items:center;justify-content:center;font-size:30px;color:#fff}.sinovad-loading-video.show-controls[_ngcontent-%COMP%]{padding-bottom:300px;top:150px}.easy-media-settings-section-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:auto;background:rgba(0,0,0,.5);padding:0 0 50px;z-index:99999}.easy-media-settings-section-content[_ngcontent-%COMP%]{display:block}.sinovad-settings-options-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:48px;border-bottom:1px solid #dedede;margin-bottom:50px}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:20px;background-color:transparent;border:none;font-size:30px;border-radius:5px;cursor:pointer}.sinovad-settings-options-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:40px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:10px;background-color:transparent;border:none;font-size:30px;cursor:pointer;margin-right:6px;border-radius:5px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-full-screen-video-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.sinovad-full-screen-video-popup[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-video-header-section[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5);padding-left:10px;padding-top:10px}.sinovad-full-screen-video-popup-footer[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;padding-left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5)}.sinovad-progress-bar-container[_ngcontent-%COMP%]{width:100%;outline:none}.sinovad-progress-bar[_ngcontent-%COMP%]{height:40px;pointer-events:auto;position:relative;width:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px;border:none;border-radius:0;outline:none;background:transparent;opacity:.7}.sinovad-progress-bar[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-slider-container[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;height:100%;pointer-events:auto;position:relative;touch-action:none;padding-left:8px;padding-right:8px;border:none;border-radius:0;outline:none;background:transparent}.sinovad-slider-content[_ngcontent-%COMP%]{height:100%;padding-top:20px;cursor:pointer;outline:none}.sinovad-slider-fills[_ngcontent-%COMP%]{height:3px;overflow:hidden;pointer-events:none;width:100%;background:white;opacity:.5}.sinovad-slider-fills-progress-container[_ngcontent-%COMP%]{position:relative}.sinovad-slider-fills-progress-content[_ngcontent-%COMP%]{width:100%;height:8px;margin-top:-6px}.sinovad-slider-fills-progress[_ngcontent-%COMP%]{cursor:pointer;background:white;height:100%;width:0%}.sinovad-settings-options-header-section[_ngcontent-%COMP%]{display:flex;margin-left:10px;margin-top:10px}.sinovad-settings-section-container-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;float:left}.sinovad-settings-section-content-left[_ngcontent-%COMP%]{position:relative}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-controls-container[_ngcontent-%COMP%]{z-index:-99;pointer-events:none}.sinovad-controls-container.show[_ngcontent-%COMP%]{z-index:unset;pointer-events:unset}.sinovad-custom-video[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-full-screen-video-popup-episode-buttons-section[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:40px}.sinovad-full-screen-video-popup-episode-buttons-section-left[_ngcontent-%COMP%]{display:block;float:left;width:100%;padding-left:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]{display:block;float:right;width:100%;padding-right:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]   .sinovad-video-control-button[_ngcontent-%COMP%]{float:right}.sinovad-full-screen-video-popup-footer-left[_ngcontent-%COMP%]{display:block;float:left;width:170px}.sinovad-full-screen-video-popup-footer-left-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;color:#fff}.sinovad-current-time[_ngcontent-%COMP%]{color:#fff;font-size:25px}.sinovad-full-screen-video-popup-footer-center[_ngcontent-%COMP%]{display:block;float:left;width:100%}.sinovad-full-screen-video-popup-footer-center-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;justify-content:center}.sinovad-full-screen-video-popup-footer-right[_ngcontent-%COMP%]{width:100px;display:block;float:right}.sinovad-full-screen-video-popup-footer-right-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:right;height:100%}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;justify-content:center;width:100%;padding-right:70px}.sinovad-subtitles-forzed-section[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:10px;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;color:#fff;padding:10px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:6px;font-size:18px;font-weight:700}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#fff;color:#000;height:30px;font-size:18px;border-radius:5px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff;color:#000}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:25px}.sinovad-video-control-button[_ngcontent-%COMP%]{color:#fff;background:transparent;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:10px;opacity:.9;font-size:25px;border-radius:100px;min-width:45px}.sinovad-video-control-button[_ngcontent-%COMP%]:hover{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus-visible{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus{background:white;color:#000;opacity:1}@media only screen and (min-width: 2048px){.sinovad-video-control-button[_ngcontent-%COMP%], .sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:35px}}@media only screen and (max-width: 767px){video[_ngcontent-%COMP%]::cue{font-size:25px}}"]})}return V})()},1018:(Wn,et,p)=>{"use strict";p.d(et,{R:()=>N});var e=p(7394),t=p(5879),v=p(7541),b=p(1044),_=p(5908),P=p(5731),C=p(1367),m=p(6814),i=p(5940),c=p(1444),d=p(3630);function f(O,D){if(1&O&&(t.TgZ(0,"div",5)(1,"button",6)(2,"div",7),t._uU(3),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.qZA()()()),2&O){const I=t.oxw(3);t.xp6(3),t.hij(" ",I.title," "),t.xp6(2),t.hij(" ",I.subtitle," ")}}function g(O,D){if(1&O&&(t.TgZ(0,"div",1)(1,"div",2),t.YNc(2,f,6,2,"div",3),t.TgZ(3,"div"),t._UZ(4,"app-media-items",4),t.qZA()()()),2&O){const I=t.oxw(2);t.xp6(2),t.Q6J("ngIf",I.title),t.xp6(1),t.Udp("height","calc(100% - 65px)"),t.xp6(1),t.Q6J("itemsGroupList",I.itemsGroupList)}}function S(O,D){if(1&O&&t._UZ(0,"app-server-connection-error",9),2&O){const I=t.oxw(2);t.Q6J("mediaServer",I.currentMediaServer)}}function x(O,D){if(1&O&&(t.YNc(0,g,5,4,"ng-template",0),t.YNc(1,S,1,1,"ng-template",0)),2&O){const I=t.oxw();t.Q6J("ngIf",I.currentMediaServer&&I.currentMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",I.currentMediaServer&&!I.currentMediaServer.isSecureConnection)}}function A(O,D){1&O&&(t.TgZ(0,"div",10),t._UZ(1,"mat-spinner"),t.qZA())}let N=(()=>{class O{constructor(I,T,L,y,B,z){this.signalIrService=I,this.libraryService=T,this.activeRoute=L,this.router=y,this.commonService=B,this.sharedDataService=z,this.itemsGroupList=[],this._window=window,this.subscription=new e.w0,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1};let ne=this;this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(ae=>{ne.currentMediaServer&&ne.currentMediaServer.Guid==ae&&!ne.currentMediaServer.isSecureConnection&&(ne.loadingConnection=!1,ne.currentMediaServer.isSecureConnection=!0,ne.getItemsByCurrentMediaServerAndCurrentLibrary())})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(ae=>{ne.currentMediaServer&&ne.currentMediaServer.Guid==ae&&ne.currentMediaServer.isSecureConnection&&(ne.currentMediaServer.isSecureConnection=!1,ne.clearItemsInGroup(ne.currentMediaServer.Id))})),this.subscription.add(this.signalIrService.isUpdatingLibrariesByMediaServer().subscribe(ae=>{ne.currentMediaServer&&ne.currentMediaServer.Guid==ae&&!ne.currentMediaServer.isSecureConnection&&(ne.currentMediaServer.isSecureConnection=!0,ne.getItemsByCurrentMediaServerAndCurrentLibrary())})),this.subscription.add(this.signalIrService.isUpdatingItemsByMediaServer().subscribe(ae=>{ne.currentMediaServer&&ne.currentMediaServer.Guid==ae&&!ne.currentMediaServer.isSecureConnection&&(ne.currentMediaServer.isSecureConnection=!0,ne.getItemsByCurrentMediaServerAndCurrentLibrary())}))}ngOnInit(){var I=this.activeRoute.snapshot.params.serverGuid;if(null!=I){var T=this.sharedDataService.mediaServers.find(L=>L.Guid==I);T?(this.currentMediaServer=JSON.parse(JSON.stringify(T)),this.currentMediaServer.isSecureConnection?(this.loadingConnection=!1,this.getItemsByCurrentMediaServerAndCurrentLibrary()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}else this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscription.unsubscribe()}getItemsByCurrentMediaServerAndCurrentLibrary(){var I=this.activeRoute.snapshot.params.libraryId;I?this.libraryService.getLibrariesByMediaServer(this.currentMediaServer.Url).then(T=>{this.currentMediaServer.ListLibraries=T;var L=this.currentMediaServer.ListLibraries.findIndex(y=>y.Id==I);-1!=L&&(this.currentLibrary=this.currentMediaServer.ListLibraries[L],this.title=this.currentLibrary.Name,this.subtitle=this.currentMediaServer.FamilyName?this.currentMediaServer.FamilyName:this.currentMediaServer.DeviceName,this.libraryService.getMediaItemsByLibrary(this.currentMediaServer.Url,this.currentLibrary.Id,this.sharedDataService.currentProfile.Id).then(y=>{this.setItemsInGroup(this.currentMediaServer.Id,y)},y=>{console.error(y)}))}):this.router.navigateByUrl("/404")}setItemsInGroup(I,T){T.length>0&&(T.forEach(L=>{var y=this.itemsGroupList.find(ae=>ae.Name==L.Name);if(null==y)this.itemsGroupList.push(L);else{var ne=y.ListItems.filter(ae=>ae.MediaServerId!=I).concat(L.ListItems).sort((ae,Fe)=>new Date(ae.Created).getTime()>new Date(Fe.Created).getTime()?-1:new Date(Fe.Created).getTime()>new Date(ae.Created).getTime()?1:0);y.ListItems=ne}}),this.itemsGroupList=this.itemsGroupList.sort((L,y)=>L.Id>y.Id?1:L.Id<=y.Id?-1:0))}clearItemsInGroup(I){this.itemsGroupList.forEach(T=>{var L=T.ListItems.filter(y=>y.MediaServerId!=I);T.ListItems=L.sort((y,B)=>new Date(y.Created).getTime()>new Date(B.Created).getTime()?-1:new Date(B.Created).getTime()>new Date(y.Created).getTime()?1:0)})}static#e=this.\u0275fac=function(T){return new(T||O)(t.Y36(v.n),t.Y36(b.$),t.Y36(_.gz),t.Y36(_.F0),t.Y36(P.v),t.Y36(C.g))};static#t=this.\u0275cmp=t.Xpm({type:O,selectors:[["app-library-items"]],decls:2,vars:2,consts:[[3,"ngIf"],[1,"media-principal-section"],[1,"media-container"],["class","media-header",4,"ngIf"],[3,"itemsGroupList"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[1,"subtitle"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(T,L){1&T&&(t.YNc(0,x,2,2,"ng-template",0),t.YNc(1,A,2,0,"ng-template",0)),2&T&&(t.Q6J("ngIf",!L.loadingConnection),t.xp6(1),t.Q6J("ngIf",L.loadingConnection))},dependencies:[m.O5,i.Ou,c.Z,d.y],styles:["[_nghost-%COMP%]{width:100%;height:100%}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovadclient-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:9999;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}.sinovadclient-title-section[_ngcontent-%COMP%]{margin:10px 10px 10px 16px;font-size:30px;font-weight:700}.sinovadclient-section[_ngcontent-%COMP%]{margin:10px}.sinovad-item-container[_ngcontent-%COMP%]{padding-right:10px;width:min-content;margin:6px;border-radius:6px}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#000;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-vertical-list-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;overflow-y:auto;overflow-x:hidden}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-item-title-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-item-subtitle-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:400;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-list-container[_ngcontent-%COMP%]{padding:20px;overflow-x:hidden;overflow-y:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:220px;top:6px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;font-family:sans-serif;padding:0 0 0 8px}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:220px;top:6px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover, .sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2);opacity:.6}.sinovad-item-progress-bar-absolute-container[_ngcontent-%COMP%]{width:0px;height:0px;margin-bottom:9px}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:-9px;margin-left:4px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%]{display:none!important}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:170px;width:170px;height:220px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:20px}@media only screen and (min-width: 2048px){.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return O})()},2472:(Wn,et,p)=>{"use strict";p.d(et,{c:()=>N});var e=p(7394),t=p(5879),v=p(7541),b=p(1044),_=p(5908),P=p(5731),C=p(1367),m=p(6814),i=p(5940),c=p(1444),d=p(3630);function f(O,D){if(1&O&&(t.TgZ(0,"div",5)(1,"button",6)(2,"div",7),t._uU(3),t.qZA()()()),2&O){const I=t.oxw(3);t.xp6(3),t.hij(" ",I.title," ")}}function g(O,D){if(1&O&&(t.TgZ(0,"div",1)(1,"div",2),t.YNc(2,f,4,1,"div",3),t.TgZ(3,"div"),t._UZ(4,"app-media-items",4),t.qZA()()()),2&O){const I=t.oxw(2);t.xp6(2),t.Q6J("ngIf",I.title),t.xp6(1),t.Udp("height","calc(100% - 65px)"),t.xp6(1),t.Q6J("itemsGroupList",I.itemsGroupList)}}function S(O,D){if(1&O&&t._UZ(0,"app-server-connection-error",8),2&O){const I=t.oxw(2);t.Q6J("mediaServer",I.currentMediaServer)}}function x(O,D){if(1&O&&(t.YNc(0,g,5,4,"ng-template",0),t.YNc(1,S,1,1,"ng-template",0)),2&O){const I=t.oxw();t.Q6J("ngIf",I.currentMediaServer&&I.currentMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",I.currentMediaServer&&!I.currentMediaServer.isSecureConnection)}}function A(O,D){1&O&&(t.TgZ(0,"div",9),t._UZ(1,"mat-spinner"),t.qZA())}let N=(()=>{class O{constructor(I,T,L,y,B,z){this.signalIrService=I,this.libraryService=T,this.activeRoute=L,this.router=y,this.commonService=B,this.sharedDataService=z,this.itemsGroupList=[],this._window=window,this.subscription=new e.w0,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1};let ne=this;this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(ae=>{ne.currentMediaServer&&ne.currentMediaServer.Guid==ae&&!ne.currentMediaServer.isSecureConnection&&(ne.loadingConnection=!1,ne.currentMediaServer.isSecureConnection=!0,ne.getItemsByMediaServer())})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(ae=>{ne.currentMediaServer&&ne.currentMediaServer.Guid==ae&&ne.currentMediaServer.isSecureConnection&&(ne.currentMediaServer.isSecureConnection=!1,ne.clearItemsInGroup(ne.currentMediaServer.Id))})),this.subscription.add(this.signalIrService.isUpdatingLibrariesByMediaServer().subscribe(ae=>{ne.currentMediaServer&&ne.currentMediaServer.Guid==ae&&!ne.currentMediaServer.isSecureConnection&&(ne.currentMediaServer.isSecureConnection=!0,ne.getItemsByMediaServer())})),this.subscription.add(this.signalIrService.isUpdatingItemsByMediaServer().subscribe(ae=>{ne.currentMediaServer&&ne.currentMediaServer.Guid==ae&&!ne.currentMediaServer.isSecureConnection&&(ne.currentMediaServer.isSecureConnection=!0,ne.getItemsByMediaServer())}))}ngOnInit(){var I=this.activeRoute.snapshot.params.serverGuid;if(null!=I){var T=this.sharedDataService.mediaServers.find(L=>L.Guid==I);T?(this.currentMediaServer=JSON.parse(JSON.stringify(T)),this.currentMediaServer.isSecureConnection?(this.loadingConnection=!1,this.getItemsByMediaServer()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}else this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscription.unsubscribe()}getItemsByMediaServer(){this.title=this.currentMediaServer.FamilyName?this.currentMediaServer.FamilyName:this.currentMediaServer.DeviceName,this.libraryService.getAllMediaItems(this.currentMediaServer.Url,this.sharedDataService.currentProfile.Id).then(I=>{this.setItemsInGroup(this.currentMediaServer.Id,I)},I=>{console.error(I)})}setItemsInGroup(I,T){T.length>0&&(T.forEach(L=>{var y=this.itemsGroupList.find(ae=>ae.Name==L.Name);if(null==y)this.itemsGroupList.push(L);else{var ne=y.ListItems.filter(ae=>ae.MediaServerId!=I).concat(L.ListItems).sort((ae,Fe)=>new Date(ae.Created).getTime()>new Date(Fe.Created).getTime()?-1:new Date(Fe.Created).getTime()>new Date(ae.Created).getTime()?1:0);y.ListItems=ne}}),this.itemsGroupList=this.itemsGroupList.sort((L,y)=>L.Id>y.Id?1:L.Id<=y.Id?-1:0))}clearItemsInGroup(I){this.itemsGroupList.forEach(T=>{var L=T.ListItems.filter(y=>y.MediaServerId!=I);T.ListItems=L.sort((y,B)=>new Date(y.Created).getTime()>new Date(B.Created).getTime()?-1:new Date(B.Created).getTime()>new Date(y.Created).getTime()?1:0)})}static#e=this.\u0275fac=function(T){return new(T||O)(t.Y36(v.n),t.Y36(b.$),t.Y36(_.gz),t.Y36(_.F0),t.Y36(P.v),t.Y36(C.g))};static#t=this.\u0275cmp=t.Xpm({type:O,selectors:[["app-server-items"]],decls:2,vars:2,consts:[[3,"ngIf"],[1,"media-principal-section"],[1,"media-container"],["class","media-header",4,"ngIf"],[3,"itemsGroupList"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(T,L){1&T&&(t.YNc(0,x,2,2,"ng-template",0),t.YNc(1,A,2,0,"ng-template",0)),2&T&&(t.Q6J("ngIf",!L.loadingConnection),t.xp6(1),t.Q6J("ngIf",L.loadingConnection))},dependencies:[m.O5,i.Ou,c.Z,d.y],styles:["[_nghost-%COMP%]{width:100%;height:100%}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovadclient-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:9999;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}.sinovadclient-title-section[_ngcontent-%COMP%]{margin:10px 10px 10px 16px;font-size:30px;font-weight:700}.sinovadclient-section[_ngcontent-%COMP%]{margin:10px}.sinovad-item-container[_ngcontent-%COMP%]{padding-right:10px;width:min-content;margin:6px;border-radius:6px}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#000;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-vertical-list-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;overflow-y:auto;overflow-x:hidden}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-item-title-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-item-subtitle-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:400;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-list-container[_ngcontent-%COMP%]{padding:20px;overflow-x:hidden;overflow-y:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:220px;top:6px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;font-family:sans-serif;padding:0 0 0 8px}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:220px;top:6px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover, .sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2);opacity:.6}.sinovad-item-progress-bar-absolute-container[_ngcontent-%COMP%]{width:0px;height:0px;margin-bottom:9px}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:-9px;margin-left:4px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%]{display:none!important}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:170px;width:170px;height:220px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:20px}@media only screen and (min-width: 2048px){.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return O})()},4748:(Wn,et,p)=>{"use strict";p.d(et,{n:()=>A});var e=p(5879),t=p(1791),v=p(5908),b=p(5731),_=p(1367),P=p(6814),C=p(5220),m=p(1531);function i(N,O){if(1&N&&(e.TgZ(0,"div",23),e._uU(1),e.qZA()),2&N){const D=e.oxw().$implicit,I=e.oxw(2);e.xp6(1),e.hij(" ",I.commonService.getInitials(D)," ")}}function c(N,O){if(1&N&&(e._UZ(0,"img",23),e.ALo(1,"async"),e.ALo(2,"formatDataPipe")),2&N){const D=e.oxw().$implicit;e.uIk("src",e.lcZ(1,1,e.xi3(2,3,D.Id,"GetAvatarImageURLByProfileId")),e.LSH)}}function d(N,O){1&N&&(e.TgZ(0,"div",24)(1,"div",25),e._UZ(2,"img",6),e.ALo(3,"async"),e.ALo(4,"formatDataPipe"),e.qZA()()),2&N&&(e.xp6(2),e.Q6J("src",e.lcZ(3,1,e.xi3(4,3,"edit-profile.png","GetIconURLByKey")),e.LSH))}function f(N,O){if(1&N){const D=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){const L=e.CHM(D).$implicit,y=e.oxw(2);return e.KtG(y.onSelectProfile(L))}),e.YNc(1,i,2,1,"div",20),e.YNc(2,c,3,6,"img",20),e.YNc(3,d,5,6,"div",21),e.TgZ(4,"div",22),e._uU(5),e.qZA()()}if(2&N){const D=O.$implicit,I=e.oxw(2);e.MGl("id","profile_",D.Id,""),e.xp6(1),e.Q6J("ngIf",null==D.AvatarPath),e.xp6(1),e.Q6J("ngIf",null!=D.AvatarPath),e.xp6(1),e.Q6J("ngIf",I.enableEditMode),e.xp6(2),e.hij(" ",D.FullName," ")}}function g(N,O){if(1&N&&e.YNc(0,f,6,5,"ng-template",18),2&N){const D=e.oxw();e.Q6J("ngForOf",D.sharedDataService.listProfiles)}}function S(N,O){if(1&N){const D=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(D);const T=e.oxw();return e.KtG(T.changeToEditMode())}),e._uU(1," EDITAR PERFILES "),e.qZA()}}function x(N,O){if(1&N){const D=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(D);const T=e.oxw();return e.KtG(T.confirmEdit())}),e._uU(1," LISTO "),e.qZA()}}let A=(()=>{class N{constructor(D,I,T,L){this.profileService=D,this.router=I,this.commonService=T,this.sharedDataService=L,this.enableEditMode=!1,this.showLoading=!0,this._window=window}ngOnInit(){this.getProfiles()}changeToEditMode(){this.enableEditMode=!0}confirmEdit(){this.enableEditMode=!1}showNewProfile(){this.router.navigateByUrl("/profiles/add")}editProfile(D){this.router.navigateByUrl("/profiles/edit/"+D.Guid)}onSelectProfile(D){this.enableEditMode?this.editProfile(D):this.enterProfile(D)}enterProfile(D){this.sharedDataService.currentProfile=D,this.router.navigateByUrl("/home")}getProfiles(){this.showLoading=!0,this.profileService.getProfiles(this.sharedDataService.userData.Id,1,100,"Id","asc","","").then(D=>{let I=D.Data;this.sharedDataService.listProfiles=I,this.sharedDataService.currentProfile=I[0],this.showLoading=!1},D=>{this.showLoading=!1})}static#e=this.\u0275fac=function(I){return new(I||N)(e.Y36(t.H),e.Y36(v.F0),e.Y36(b.v),e.Y36(_.g))};static#t=this.\u0275cmp=e.Xpm({type:N,selectors:[["app-profiles-view"]],decls:26,vars:18,consts:[[1,"sinovad-profiles-view-container","sinovad-profiles-section"],[1,"sinovad-profiles-view-content"],["profilesViewContent",""],[1,"sinovad-page-header"],["profilesViewHeader",""],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-profiles-view-body"],[1,"sinovad-profiles-view-title-container"],[1,"sinovad-profiles-view-list-container"],[3,"ngIf"],["id","create_new_profile",3,"click"],[1,"sinovad-initials-profile","add"],["width","40px",3,"src"],[1,"sinovad-fullname-profile"],[1,"sinovad-profiles-view-footer"],["profilesViewFooter",""],[3,"showLoading"],["ngFor","",3,"ngForOf"],[3,"id","click"],["class","sinovad-initials-profile",4,"ngIf"],["class","sinovad-icon-edit-profile-container",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],[1,"sinovad-initials-profile"],[1,"sinovad-icon-edit-profile-container"],[1,"sinovad-icon-edit-profile-content"],[3,"click"],[1,"ready",3,"click"]],template:function(I,T){if(1&I&&(e.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3,4)(5,"div",5),e._UZ(6,"img",6),e.ALo(7,"async"),e.ALo(8,"formatDataPipe"),e.qZA()(),e.TgZ(9,"div",7)(10,"div",8),e._uU(11," \xbfQui\xe9n eres? "),e.qZA(),e.TgZ(12,"div",9),e.YNc(13,g,1,1,"ng-template",10),e.TgZ(14,"button",11),e.NdJ("click",function(){return T.showNewProfile()}),e.TgZ(15,"div",12),e._UZ(16,"img",13),e.ALo(17,"async"),e.ALo(18,"formatDataPipe"),e.qZA(),e.TgZ(19,"div",14),e._uU(20," Crear "),e.qZA()()()(),e.TgZ(21,"div",15,16),e.YNc(23,S,2,0,"ng-template",10),e.YNc(24,x,2,0,"ng-template",10),e.qZA()()(),e._UZ(25,"app-custom-spinner",17)),2&I){const L=e.MAs(4),y=e.MAs(22);e.xp6(6),e.Q6J("src",e.lcZ(7,8,e.xi3(8,10,"sinovad-stream-large-logo.png","GetIconURLByKey")),e.LSH),e.xp6(3),e.Udp("height",T._window.innerWidth<768?"calc(100% - "+(L.offsetHeight+y.offsetHeight)+"px)":""),e.xp6(4),e.Q6J("ngIf",T.sharedDataService.listProfiles),e.xp6(3),e.Q6J("src",e.lcZ(17,13,e.xi3(18,15,"plus.png","GetIconURLByKey")),e.LSH),e.xp6(7),e.Q6J("ngIf",!T.enableEditMode),e.xp6(1),e.Q6J("ngIf",T.enableEditMode),e.xp6(1),e.Q6J("showLoading",T.showLoading)}},dependencies:[P.sg,P.O5,C.D,P.Ov,m.A],styles:["[_nghost-%COMP%]{width:100%;height:100%;background:black;position:absolute;bottom:0;left:0}.sinovad-profiles-section[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}section[_ngcontent-%COMP%]{outline:none}input[_ngcontent-%COMP%]{outline:none}.sinovad-profiles-view-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.sinovad-profiles-view-content[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}.sinovad-profiles-view-title-container[_ngcontent-%COMP%]{font-size:32px;color:#fff;text-align:center;padding-bottom:60px;font-weight:700}.sinovad-profiles-view-body[_ngcontent-%COMP%]{overflow-y:auto}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;opacity:.8;padding:0;margin-right:20px;width:140px}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-top:60px;padding-bottom:30px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;opacity:.8;background:lightslategrey;color:#fff;font-size:15px;height:48PX;padding:0 24px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button.ready[_ngcontent-%COMP%]{background:#007bff}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-initials-profile[_ngcontent-%COMP%]{width:140px;height:140px;border-radius:100px;border:none;display:flex;align-items:center;justify-content:center;font-size:80px;background:lightslategrey;color:#fff}.sinovad-initials-profile.add[_ngcontent-%COMP%]{background:#007bff}.sinovad-initials-profile.add[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px}.sinovad-icon-edit-profile-container[_ngcontent-%COMP%]{display:block;position:relative}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]{display:block;position:absolute;right:0;top:-55px;background:white;border-radius:25px;padding:10px;border:none}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;color:#fff;font-size:30px;padding-top:10px}.sinovad-screen-back-container[_ngcontent-%COMP%]{position:relative}.sinovad-screen-back-content[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;left:0;position:absolute;margin-left:20px;opacity:.8;height:60px;display:flex;align-items:center;justify-content:center}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{width:54px}"]})}return N})()},1791:(Wn,et,p)=>{"use strict";p.d(et,{H:()=>P});var e=p(863),t=p(2372),v=p(5879),b=p(1367),_=p(9429);let P=(()=>{class C{constructor(i,c){this.sharedDataService=i,this.restProvider=c}uploadAvatarProfile(i){return new Promise((c,d)=>{this.restProvider.executeHttpPostMethodWithFormData("/documents/UploadAvatarProfile",i).then(g=>{c(g)},g=>{console.error(g),d(g)})})}getProfileById(i){return new Promise((c,d)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/profiles/GetAsync/"+i).then(f=>{c(f)},f=>{console.error(f),d(f)})})}getProfileByGuid(i){return new Promise((c,d)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/profiles/GetByGuidAsync/"+i).then(f=>{c(f)},f=>{console.error(f),d(f)})})}getAllProfiles(){return new Promise((i,c)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/profiles/GetAllWithPaginationByUserAsync/"+this.sharedDataService.userData.Id).then(d=>{let f=d.Data;this.sharedDataService.listProfiles=f,this.sharedDataService.currentProfile=f[0],i(!0)},d=>{c(d)})})}getProfiles(i,c,d,f,g,S,x){return new Promise((A,N)=>{let O=(0,t.Z)();this.lastCallGuid=O;var D="?page="+c.toString()+"&take="+d.toString()+"&sortBy="+f+"&sortDirection="+g+"&searchText="+S+"&searchBy="+x;this.restProvider.executeSinovadApiService(e.yw.GET,"/profiles/GetAllWithPaginationByUserAsync/"+i+D).then(T=>{this.lastCallGuid==O&&A(T)},T=>{console.error(T),N(T)})})}saveItem(i){return new Promise((c,d)=>{this.restProvider.executeSinovadApiService(i.Id>0?e.yw.PUT:e.yw.POST,i.Id>0?"/profiles/Update":"/profiles/Create",i).then(S=>{c(!0)},S=>{console.error(S),d(S)})})}deleteItem(i){return new Promise((c,d)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/profiles/Delete/"+i).then(g=>{c(g)},g=>{console.error(g),d(g)})})}deleteItems(i){return new Promise((c,d)=>{let f=[];for(let x=0;x<i.length;x++)f.push(i[x].Id);var g=f.join(",");this.restProvider.executeSinovadApiService(e.yw.DELETE,"/profiles/DeleteList/"+g).then(x=>{c(x)},x=>{console.error(x),d(x)})})}static#e=this.\u0275fac=function(c){return new(c||C)(v.LFG(b.g),v.LFG(_.C))};static#t=this.\u0275prov=v.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})()},5529:(Wn,et,p)=>{"use strict";p.d(et,{H:()=>pe});var e=p(863),t=p(5879),v=p(9857),b=p(1367),_=p(6814),P=p(95),C=p(9429);let m=(()=>{class Ae{constructor(he){this.restProvider=he}setPassword(he){return new Promise((we,Te)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/SetPassword",he).then(Oe=>{we(!0)},Oe=>{console.error(Oe),Te(Oe)})})}changePassword(he){return new Promise((we,Te)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ChangePassword",he).then(Oe=>{we(!0)},Oe=>{console.error(Oe),Te(Oe)})})}changeUsername(he){return new Promise((we,Te)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ChangeUserName",he).then(Oe=>{we(!0)},Oe=>{console.error(Oe),Te(Oe)})})}changeNanes(he){return new Promise((we,Te)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ChangeNames",he).then(Oe=>{we(!0)},Oe=>{console.error(Oe),Te(Oe)})})}static#e=this.\u0275fac=function(we){return new(we||Ae)(t.LFG(C.C))};static#t=this.\u0275prov=t.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"})}return Ae})();var i=p(5731);function c(Ae,ke){if(1&Ae&&(t.TgZ(0,"div",13),t._UZ(1,"i",14),t._uU(2),t.qZA()),2&Ae){const he=t.oxw();t.xp6(2),t.hij("",he.serverErrorMessage," ")}}function d(Ae,ke){1&Ae&&t._UZ(0,"div",15)}const f=function(Ae){return{error:Ae}};let g=(()=>{class Ae{constructor(he,we,Te,Oe){this.accountSettingsService=he,this.formBuilder=we,this.commonService=Te,this.sharedDataService=Oe,this.serverErrorMessage=void 0,this.closeChangePassword=new t.vpe,this.changePasswordForm=this.formBuilder.group({password:new P.NI("",[P.kI.required]),confirmPassword:new P.NI("",[P.kI.required]),currentPassword:new P.NI("",[P.kI.required])}),this.loading=!1}ngOnInit(){}changePasword(){this.changePasswordForm.valid?(this.changePasswordData={UserId:this.sharedDataService.userData.Id,Password:this.changePasswordForm.value.password,ConfirmPassword:this.changePasswordForm.value.confirmPassword,CurrentPassword:this.changePasswordForm.value.currentPassword},this.loading=!0,this.accountSettingsService.changePassword(this.changePasswordData).then(he=>{this.loading=!1,this.closeChangePassword.emit(!0)},he=>{this.loading=!1,this.serverErrorMessage=he,console.error(he)})):(this.serverErrorMessage=void 0,this.changePasswordForm.markAllAsTouched())}static#e=this.\u0275fac=function(we){return new(we||Ae)(t.Y36(m),t.Y36(P.qu),t.Y36(i.v),t.Y36(b.g))};static#t=this.\u0275cmp=t.Xpm({type:Ae,selectors:[["app-change-password"]],outputs:{closeChangePassword:"closeChangePassword"},decls:24,vars:18,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],["type","password","formControlName","currentPassword"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(we,Te){1&we&&(t.TgZ(0,"div",0),t.YNc(1,c,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return Te.closeChangePassword.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return Te.changePasword()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",6)(12,"label"),t._uU(13),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"div",6)(16,"label"),t._uU(17),t.qZA(),t._UZ(18,"input",9),t.qZA(),t.TgZ(19,"div",10)(20,"button",11)(21,"span"),t._uU(22,"Guardar Cambios"),t.qZA(),t.YNc(23,d,1,0,"div",12),t.qZA()()()()()),2&we&&(t.xp6(1),t.Q6J("ngIf",Te.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",Te.changePasswordForm),t.xp6(1),t.Q6J("ngClass",t.VKq(12,f,Te.commonService.isInvalidFormControl(Te.changePasswordForm,"password"))),t.xp6(2),t.hij(" Contrase\xf1a",Te.commonService.isInvalidFormControl(Te.changePasswordForm,"password")&&Te.commonService.hasRequireErrorFormControl(Te.changePasswordForm,"password")?" - Se requiere Contrase\xf1a":""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(14,f,Te.commonService.isInvalidFormControl(Te.changePasswordForm,"confirmPassword"))),t.xp6(2),t.hij("Confirme la nueva contrase\xf1a",Te.commonService.isInvalidFormControl(Te.changePasswordForm,"confirmPassword")&&Te.commonService.hasRequireErrorFormControl(Te.changePasswordForm,"confirmPassword")?" - Confirme la contrase\xf1a":"",""),t.xp6(2),t.Q6J("ngClass",t.VKq(16,f,Te.commonService.isInvalidFormControl(Te.changePasswordForm,"currentPassword"))),t.xp6(2),t.hij("Contrase\xf1a actual",Te.commonService.isInvalidFormControl(Te.changePasswordForm,"currentPassword")&&Te.commonService.hasRequireErrorFormControl(Te.changePasswordForm,"currentPassword")?" - Introduza la contrase\xf1a actual":"",""),t.xp6(3),t.Q6J("disabled",Te.loading||!Te.changePasswordForm.valid),t.xp6(1),t.Udp("visibility",Te.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",Te.loading))},dependencies:[_.mk,_.O5,P._Y,P.Fj,P.JJ,P.JL,P.sg,P.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return Ae})();function S(Ae,ke){if(1&Ae&&(t.TgZ(0,"div",12),t._UZ(1,"i",13),t._uU(2),t.qZA()),2&Ae){const he=t.oxw();t.xp6(2),t.hij("",he.serverErrorMessage," ")}}function x(Ae,ke){1&Ae&&t._UZ(0,"div",14)}const A=function(Ae){return{error:Ae}};let N=(()=>{class Ae{constructor(he,we,Te,Oe){this.accountSettingsService=he,this.formBuilder=we,this.commonService=Te,this.sharedDataService=Oe,this.serverErrorMessage=void 0,this.closeSetPassword=new t.vpe,this.setPasswordForm=this.formBuilder.group({password:new P.NI("",[P.kI.required]),confirmPassword:new P.NI("",[P.kI.required])}),this.loading=!1}ngOnInit(){}setPassword(){this.setPasswordForm.valid?(this.setPasswordData={UserId:this.sharedDataService.userData.Id,Password:this.setPasswordForm.value.password,ConfirmPassword:this.setPasswordForm.value.confirmPassword},this.loading=!0,this.accountSettingsService.setPassword(this.setPasswordData).then(he=>{this.loading=!1,this.sharedDataService.userData.IsPasswordSetted=!0,this.closeSetPassword.emit(!0)},he=>{this.loading=!1,this.serverErrorMessage=he,console.error(he)})):(this.serverErrorMessage=void 0,this.setPasswordForm.markAllAsTouched())}static#e=this.\u0275fac=function(we){return new(we||Ae)(t.Y36(m),t.Y36(P.qu),t.Y36(i.v),t.Y36(b.g))};static#t=this.\u0275cmp=t.Xpm({type:Ae,selectors:[["app-set-password"]],outputs:{closeSetPassword:"closeSetPassword"},decls:20,vars:14,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(we,Te){1&we&&(t.TgZ(0,"div",0),t.YNc(1,S,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return Te.closeSetPassword.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return Te.setPassword()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",6)(12,"label"),t._uU(13),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"div",9)(16,"button",10)(17,"span"),t._uU(18,"Guardar Cambios"),t.qZA(),t.YNc(19,x,1,0,"div",11),t.qZA()()()()()),2&we&&(t.xp6(1),t.Q6J("ngIf",Te.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",Te.setPasswordForm),t.xp6(1),t.Q6J("ngClass",t.VKq(10,A,Te.commonService.isInvalidFormControl(Te.setPasswordForm,"password"))),t.xp6(2),t.hij(" Elegir una Contrase\xf1a",Te.commonService.isInvalidFormControl(Te.setPasswordForm,"password")&&Te.commonService.hasRequireErrorFormControl(Te.setPasswordForm,"password")?" - Se requiere Contrase\xf1a":""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(12,A,Te.commonService.isInvalidFormControl(Te.setPasswordForm,"confirmPassword"))),t.xp6(2),t.hij("Confirmar la contrase\xf1a",Te.commonService.isInvalidFormControl(Te.setPasswordForm,"confirmPassword")&&Te.commonService.hasRequireErrorFormControl(Te.setPasswordForm,"confirmPassword")?" - Confirme la contrase\xf1a":"",""),t.xp6(3),t.Q6J("disabled",Te.loading||!Te.setPasswordForm.valid),t.xp6(1),t.Udp("visibility",Te.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",Te.loading))},dependencies:[_.mk,_.O5,P._Y,P.Fj,P.JJ,P.JL,P.sg,P.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return Ae})();function O(Ae,ke){if(1&Ae&&(t.TgZ(0,"div",11),t._UZ(1,"i",12),t._uU(2),t.qZA()),2&Ae){const he=t.oxw();t.xp6(2),t.hij("",he.serverErrorMessage," ")}}function D(Ae,ke){1&Ae&&t._UZ(0,"div",13)}const I=function(Ae){return{error:Ae}};let T=(()=>{class Ae{constructor(he,we,Te,Oe){this.accountSettingsService=he,this.formBuilder=we,this.commonService=Te,this.sharedDataService=Oe,this.serverErrorMessage=void 0,this.closeChangeUsername=new t.vpe,this.changeUsernameForm=this.formBuilder.group({username:new P.NI(this.sharedDataService.userData.UserName,[P.kI.required])}),this.loading=!1}ngOnInit(){}changeUsername(){this.changeUsernameForm.valid?(this.changeUsernameData={UserId:this.sharedDataService.userData.Id,UserName:this.changeUsernameForm.value.username},this.loading=!0,this.accountSettingsService.changeUsername(this.changeUsernameData).then(he=>{this.loading=!1,this.sharedDataService.userData.UserName=this.changeUsernameData.UserName,this.closeChangeUsername.emit(!0)},he=>{this.loading=!1,this.serverErrorMessage=he,console.error(he)})):(this.serverErrorMessage=void 0,this.changeUsernameForm.markAllAsTouched())}static#e=this.\u0275fac=function(we){return new(we||Ae)(t.Y36(m),t.Y36(P.qu),t.Y36(i.v),t.Y36(b.g))};static#t=this.\u0275cmp=t.Xpm({type:Ae,selectors:[["app-change-username"]],outputs:{closeChangeUsername:"closeChangeUsername"},decls:16,vars:10,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["formControlName","username"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(we,Te){1&we&&(t.TgZ(0,"div",0),t.YNc(1,O,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return Te.closeChangeUsername.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return Te.changeUsername()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",8)(12,"button",9)(13,"span"),t._uU(14,"Guardar Cambios"),t.qZA(),t.YNc(15,D,1,0,"div",10),t.qZA()()()()()),2&we&&(t.xp6(1),t.Q6J("ngIf",Te.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",Te.changeUsernameForm),t.xp6(1),t.Q6J("ngClass",t.VKq(8,I,Te.commonService.isInvalidFormControl(Te.changeUsernameForm,"username"))),t.xp6(2),t.hij(" Nombre de Usuario",Te.commonService.isInvalidFormControl(Te.changeUsernameForm,"username")&&Te.commonService.hasRequireErrorFormControl(Te.changeUsernameForm,"username")?" - Se requiere nombre de usuario":""," "),t.xp6(3),t.Q6J("disabled",Te.loading||Te.changeUsernameForm.pristine||!Te.changeUsernameForm.valid||Te.changeUsernameForm.value.username==Te.sharedDataService.userData.UserName),t.xp6(1),t.Udp("visibility",Te.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",Te.loading))},dependencies:[_.mk,_.O5,P._Y,P.Fj,P.JJ,P.JL,P.sg,P.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return Ae})();function L(Ae,ke){if(1&Ae&&(t.TgZ(0,"div",12),t._UZ(1,"i",13),t._uU(2),t.qZA()),2&Ae){const he=t.oxw();t.xp6(2),t.hij("",he.serverErrorMessage," ")}}function y(Ae,ke){1&Ae&&t._UZ(0,"div",14)}const B=function(Ae){return{error:Ae}};let z=(()=>{class Ae{constructor(he,we,Te,Oe){this.accountSettingsService=he,this.formBuilder=we,this.commonService=Te,this.sharedDataService=Oe,this.serverErrorMessage=void 0,this.closeChangeNames=new t.vpe,this.changeNamesForm=this.formBuilder.group({firstName:new P.NI(this.sharedDataService.userData.FirstName,[P.kI.required]),lastName:new P.NI(this.sharedDataService.userData.LastName,[P.kI.required])}),this.loading=!1}ngOnInit(){}changeUsername(){this.changeNamesForm.valid?(this.changeNamesData={UserId:this.sharedDataService.userData.Id,FirstName:this.changeNamesForm.value.firstName,LastName:this.changeNamesForm.value.lastName},this.loading=!0,this.accountSettingsService.changeNanes(this.changeNamesData).then(he=>{this.loading=!1,this.sharedDataService.userData.FirstName=this.changeNamesData.FirstName,this.sharedDataService.userData.LastName=this.changeNamesData.LastName,this.closeChangeNames.emit(!0)},he=>{this.loading=!1,this.serverErrorMessage=he,console.error(he)})):(this.serverErrorMessage=void 0,this.changeNamesForm.markAllAsTouched())}static#e=this.\u0275fac=function(we){return new(we||Ae)(t.Y36(m),t.Y36(P.qu),t.Y36(i.v),t.Y36(b.g))};static#t=this.\u0275cmp=t.Xpm({type:Ae,selectors:[["app-change-names"]],outputs:{closeChangeNames:"closeChangeNames"},decls:20,vars:14,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["formControlName","firstName"],["formControlName","lastName"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(we,Te){1&we&&(t.TgZ(0,"div",0),t.YNc(1,L,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return Te.closeChangeNames.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return Te.changeUsername()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",6)(12,"label"),t._uU(13),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"div",9)(16,"button",10)(17,"span"),t._uU(18,"Guardar Cambios"),t.qZA(),t.YNc(19,y,1,0,"div",11),t.qZA()()()()()),2&we&&(t.xp6(1),t.Q6J("ngIf",Te.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",Te.changeNamesForm),t.xp6(1),t.Q6J("ngClass",t.VKq(10,B,Te.commonService.isInvalidFormControl(Te.changeNamesForm,"firstName"))),t.xp6(2),t.hij(" Nombres",Te.commonService.isInvalidFormControl(Te.changeNamesForm,"firstName")&&Te.commonService.hasRequireErrorFormControl(Te.changeNamesForm,"firstName")?" - Se requiere nombres":""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(12,B,Te.commonService.isInvalidFormControl(Te.changeNamesForm,"lastName"))),t.xp6(2),t.hij(" Apellidos",Te.commonService.isInvalidFormControl(Te.changeNamesForm,"lastName")&&Te.commonService.hasRequireErrorFormControl(Te.changeNamesForm,"lastName")?" - Se requiere apellidos":""," "),t.xp6(3),t.Q6J("disabled",Te.loading||Te.changeNamesForm.pristine||!Te.changeNamesForm.valid),t.xp6(1),t.Udp("visibility",Te.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",Te.loading))},dependencies:[_.mk,_.O5,P._Y,P.Fj,P.JJ,P.JL,P.sg,P.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return Ae})();function ne(Ae,ke){if(1&Ae){const he=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(he);const Te=t.oxw();return t.KtG(Te.isCollapsedChangeUsernameSection=!1)}),t.TgZ(1,"div",8)(2,"div",14)(3,"button",15),t._uU(4,"Editar"),t.qZA()(),t.TgZ(5,"div",9)(6,"label"),t._uU(7,"Nombre de Usuario"),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.qZA()()()()}if(2&Ae){const he=t.oxw();t.xp6(9),t.Oqu(he.sharedDataService.userData.UserName)}}function ae(Ae,ke){if(1&Ae){const he=t.EpF();t.TgZ(0,"app-change-username",16),t.NdJ("closeChangeUsername",function(){t.CHM(he);const Te=t.oxw();return t.KtG(Te.isCollapsedChangeUsernameSection=!0)}),t.qZA()}}function Fe(Ae,ke){if(1&Ae){const he=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(he);const Te=t.oxw();return t.KtG(Te.isCollapsedChangeNamesSection=!1)}),t.TgZ(1,"div",8)(2,"div",14)(3,"button",15),t._uU(4,"Editar"),t.qZA()(),t.TgZ(5,"div",9)(6,"label"),t._uU(7,"Nombres y apellidos"),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.qZA()()()()}if(2&Ae){const he=t.oxw();t.xp6(9),t.AsE("",he.sharedDataService.userData.FirstName," ",he.sharedDataService.userData.LastName,"")}}function Y(Ae,ke){if(1&Ae){const he=t.EpF();t.TgZ(0,"app-change-names",17),t.NdJ("closeChangeNames",function(){t.CHM(he);const Te=t.oxw();return t.KtG(Te.isCollapsedChangeNamesSection=!0)}),t.qZA()}}function le(Ae,ke){1&Ae&&(t.TgZ(0,"span"),t._uU(1,"*********"),t.qZA())}function G(Ae,ke){1&Ae&&(t.TgZ(0,"span"),t._uU(1,"No establecida"),t.qZA())}function Se(Ae,ke){if(1&Ae){const he=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(he);const Te=t.oxw();return t.KtG(Te.isCollapsedChangePasswordSection=!1)}),t.TgZ(1,"div",8)(2,"div",14)(3,"button",15),t._uU(4,"Editar"),t.qZA()(),t.TgZ(5,"div",9)(6,"label"),t._uU(7,"Contrase\xf1a"),t.qZA(),t.YNc(8,le,2,0,"span",18),t.YNc(9,G,2,0,"span",18),t.qZA()()()}if(2&Ae){const he=t.oxw();t.xp6(8),t.Q6J("ngIf",he.sharedDataService.userData.IsPasswordSetted),t.xp6(1),t.Q6J("ngIf",!he.sharedDataService.userData.IsPasswordSetted)}}function ce(Ae,ke){if(1&Ae){const he=t.EpF();t.TgZ(0,"app-change-password",19),t.NdJ("closeChangePassword",function(){t.CHM(he);const Te=t.oxw();return t.KtG(Te.isCollapsedChangePasswordSection=!0)}),t.qZA()}}function ge(Ae,ke){if(1&Ae){const he=t.EpF();t.TgZ(0,"app-set-password",20),t.NdJ("closeSetPassword",function(){t.CHM(he);const Te=t.oxw();return t.KtG(Te.isCollapsedChangePasswordSection=!0)}),t.qZA()}}function Ie(Ae,ke){1&Ae&&(t.TgZ(0,"span"),t._uU(1,"No establecida"),t.qZA())}function Ce(Ae,ke){if(1&Ae&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&Ae){const he=t.oxw();t.xp6(1),t.Oqu(he.currentUserLinkedAccountsText)}}let pe=(()=>{class Ae{constructor(he,we){this.catalogService=he,this.sharedDataService=we,this.isCollapsedLinkedAccountsSection=!0,this.isCollapsedChangeNamesSection=!0,this.isCollapsedChangeUsernameSection=!0,this.isCollapsedChangePasswordSection=!0,this.allLinkedAccountProviders=[],this.currentUserLinkedAccountIds=[]}ngOnInit(){this.currentUserLinkedAccountIds=this.sharedDataService.linkedAccounts.map(he=>he.LinkedAccountProviderCatalogDetailId),this.catalogService.getDetailsByCatalogId(e.P9.LinkedAccountProvider).then(he=>{this.allLinkedAccountProviders=he.Data,this.currentUserLinkedAccountsText=this.allLinkedAccountProviders.filter(we=>-1!=this.currentUserLinkedAccountIds.indexOf(we.Id)).map(we=>we.Name).join(",")},he=>{})}static#e=this.\u0275fac=function(we){return new(we||Ae)(t.Y36(v.a),t.Y36(b.g))};static#t=this.\u0275cmp=t.Xpm({type:Ae,selectors:[["app-my-account-page"]],decls:37,vars:10,consts:[[1,"sinovad-page-container"],[1,"sinovad-page-title"],[1,"settings-category-header-background"],[2,"width","100%"],["class","sinovad-page-section-container","role","button",3,"click",4,"ngIf"],[3,"closeChangeUsername",4,"ngIf"],[3,"closeChangeNames",4,"ngIf"],[1,"sinovad-page-section-container"],[1,"sinovad-page-section-content"],[1,"detail"],[3,"closeChangePassword",4,"ngIf"],[3,"closeSetPassword",4,"ngIf"],[3,"ngIf"],["role","button",1,"sinovad-page-section-container",3,"click"],[1,"button-container"],[1,"edit"],[3,"closeChangeUsername"],[3,"closeChangeNames"],[4,"ngIf"],[3,"closeChangePassword"],[3,"closeSetPassword"]],template:function(we,Te){1&we&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2"),t._uU(3,"Cuenta"),t.qZA()(),t.TgZ(4,"div",2)(5,"div",3)(6,"h2"),t._uU(7,"Informaci\xf3n personal"),t.qZA()()(),t.YNc(8,ne,10,1,"div",4),t.YNc(9,ae,1,0,"app-change-username",5),t.YNc(10,Fe,10,2,"div",4),t.YNc(11,Y,1,0,"app-change-names",6),t.TgZ(12,"div",7)(13,"div",8)(14,"div",9)(15,"label"),t._uU(16,"Correo electr\xf3nico"),t.qZA(),t.TgZ(17,"span"),t._uU(18),t.qZA()()()(),t.TgZ(19,"div",2)(20,"div",3)(21,"h2"),t._uU(22,"Seguridad"),t.qZA()()(),t.YNc(23,Se,10,2,"div",4),t.YNc(24,ce,1,0,"app-change-password",10),t.YNc(25,ge,1,0,"app-set-password",11),t.TgZ(26,"div",2)(27,"div",3)(28,"h2"),t._uU(29,"Ajustes"),t.qZA()()(),t.TgZ(30,"div",7)(31,"div",8)(32,"div",9)(33,"label"),t._uU(34,"Cuentas vinculadas"),t.qZA(),t.YNc(35,Ie,2,0,"ng-template",12),t.YNc(36,Ce,2,1,"ng-template",12),t.qZA()()()()),2&we&&(t.xp6(8),t.Q6J("ngIf",Te.isCollapsedChangeUsernameSection),t.xp6(1),t.Q6J("ngIf",!Te.isCollapsedChangeUsernameSection),t.xp6(1),t.Q6J("ngIf",Te.isCollapsedChangeNamesSection),t.xp6(1),t.Q6J("ngIf",!Te.isCollapsedChangeNamesSection),t.xp6(7),t.Oqu(Te.sharedDataService.userData.Email),t.xp6(5),t.Q6J("ngIf",Te.isCollapsedChangePasswordSection),t.xp6(1),t.Q6J("ngIf",!Te.isCollapsedChangePasswordSection&&Te.sharedDataService.userData.IsPasswordSetted),t.xp6(1),t.Q6J("ngIf",!Te.isCollapsedChangePasswordSection&&!Te.sharedDataService.userData.IsPasswordSetted),t.xp6(10),t.Q6J("ngIf",0==Te.sharedDataService.linkedAccounts.length),t.xp6(1),t.Q6J("ngIf",Te.sharedDataService.linkedAccounts.length>0))},dependencies:[_.O5,g,N,T,z],styles:[".settings-category-header-background[_ngcontent-%COMP%]{background-color:#0000001a;border-radius:.25rem;margin:.5rem 0;padding:.75rem}.settings-category-header-background[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;max-width:100%;overflow:hidden;overflow-wrap:break-word;font-size:20px}.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;margin-bottom:20px;margin-top:40px;font-size:24px}",'.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return Ae})()},4769:(Wn,et,p)=>{"use strict";p.d(et,{o:()=>Re});var e=p(5879),t=p(7700),v=p(95),b=p(5550),_=p(863),P=p(8777),C=p(1044),m=p(8726),i=p(5220),c=p(6814),d=p(2032),f=p(4170),g=p(3680),S=p(8525);function x(be,Q){1&be&&(e.TgZ(0,"mat-error"),e._uU(1," Nombre es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function A(be,Q){if(1&be&&(e.TgZ(0,"mat-option",10),e._uU(1),e.qZA()),2&be){const ie=Q.$implicit;e.Q6J("value",ie.Id),e.xp6(1),e.hij(" ",ie.Name," ")}}function N(be,Q){1&be&&(e.TgZ(0,"mat-error"),e._uU(1," Tipo es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function O(be,Q){1&be&&(e.TgZ(0,"mat-error"),e._uU(1," Directorio es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function D(be,Q){if(1&be){const ie=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){e.CHM(ie);const oe=e.oxw();return e.KtG(oe.saveStorage())}),e.TgZ(1,"div",2)(2,"h5",3),e._uU(3),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){e.CHM(ie);const oe=e.oxw();return e.KtG(oe.closeModal())}),e._UZ(5,"i",5),e.qZA()(),e.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),e._uU(9,"Nombre"),e.qZA(),e._UZ(10,"input",7),e.YNc(11,x,4,0,"mat-error",8),e.qZA(),e.TgZ(12,"mat-form-field")(13,"mat-label"),e._uU(14,"Tipo"),e.qZA(),e.TgZ(15,"mat-select",9)(16,"mat-option",10),e._uU(17,"--"),e.qZA(),e.YNc(18,A,2,2,"mat-option",11),e.qZA(),e.YNc(19,N,4,0,"mat-error",8),e.qZA(),e.TgZ(20,"mat-form-field")(21,"mat-label"),e._uU(22,"Directorio"),e.qZA(),e.TgZ(23,"input",12),e.NdJ("click",function(){e.CHM(ie);const oe=e.oxw();return e.KtG(oe.showChooserDirectoryModal())}),e.qZA(),e.YNc(24,O,4,0,"mat-error",8),e.qZA()(),e.TgZ(25,"div",13)(26,"button",14),e.NdJ("click",function(){e.CHM(ie);const oe=e.oxw();return e.KtG(oe.closeModal())}),e._uU(27,"Close"),e.qZA(),e.TgZ(28,"button",15),e._uU(29,"Guardar"),e.qZA()()(),e._UZ(30,"app-custom-spinner",16)}if(2&be){const ie=e.oxw();e.Q6J("formGroup",ie.libraryFormGroup),e.xp6(3),e.Oqu(ie.library.Id>0?"Editar Almacenamiento":"Nuevo Almacenamiento"),e.xp6(7),e.Q6J("errorStateMatcher",ie.matcher),e.xp6(1),e.Q6J("ngIf",ie.libraryFormGroup.controls.name.hasError("required")),e.xp6(5),e.Q6J("value",void 0),e.xp6(2),e.Q6J("ngForOf",ie.mediaTypes),e.xp6(1),e.Q6J("ngIf",ie.libraryFormGroup.controls.mediaType.hasError("required")),e.xp6(4),e.Q6J("errorStateMatcher",ie.matcher),e.xp6(1),e.Q6J("ngIf",ie.libraryFormGroup.controls.physicalPath.hasError("required")),e.xp6(4),e.Q6J("disabled",ie.showLoading||!ie.libraryFormGroup.valid),e.xp6(2),e.Q6J("showLoading",ie.showLoading)}}let I=(()=>{class be{constructor(ie,ye,oe,ee){this.libraryService=ie,this.activeModal=ye,this.formBuilder=oe,this.modalService=ee,this.showLoading=!1,this.matcher=new b.n,this.mediaTypes=[{Id:1,Name:"Movies"},{Id:2,Name:"Tv Series"}]}ngOnInit(){this.libraryFormGroup=this.formBuilder.group({name:new v.NI(this.library.Name,[v.kI.required]),mediaType:new v.NI(this.library.MediaTypeCatalogDetailId,[v.kI.required]),physicalPath:new v.NI(this.library.PhysicalPath,[v.kI.required])})}saveStorage(){if(this.libraryFormGroup.valid){this.showLoading=!0;var ie=JSON.parse(JSON.stringify(this.library));ie.Name=this.libraryFormGroup.value.name,ie.MediaTypeCatalogDetailId=Number(this.libraryFormGroup.value.mediaType),ie.MediaTypeCatalogId=_.P9.MediaType,ie.PhysicalPath=this.libraryFormGroup.value.physicalPath,ie.MediaServerId=this.mediaServer.Id,this.libraryService.saveItem(this.mediaServer.Url,ie).then(ye=>{this.showLoading=!1,this.activeModal.close()},ye=>{this.showLoading=!1,console.error(ye)})}else this.libraryFormGroup.markAllAsTouched()}showChooserDirectoryModal(){var ie=this,ye=this.modalService.open(P.g,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});ye.componentInstance.mediaServer=this.mediaServer,ye.closed.subscribe(oe=>{ie.libraryFormGroup.controls.physicalPath.setValue(oe)})}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(ye){return new(ye||be)(e.Y36(C.$),e.Y36(m.Kz),e.Y36(v.qu),e.Y36(m.FF))};static#t=this.\u0275cmp=e.Xpm({type:be,selectors:[["app-library-form"]],inputs:{mediaServer:"mediaServer",library:"library"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","mediaType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","physicalPath","readonly","",2,"cursor","pointer",3,"errorStateMatcher","click"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(ye,oe){1&ye&&e.YNc(0,D,31,11,"ng-template",0),2&ye&&e.Q6J("ngIf",null!=oe.library&&oe.libraryFormGroup)},dependencies:[v._Y,v.Fj,v.JJ,v.JL,v.sg,v.u,i.D,c.sg,c.O5,d.Nt,f.KE,f.hX,f.TO,g.ey,S.gD],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return be})();var T=p(7394),L=p(8923),y=p(9604);class B{}var z=p(7541),ne=p(9223);function ae(be,Q){if(1&be){const ie=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){const ee=e.CHM(ie).$implicit,X=e.oxw(2);return e.KtG(X.onSelectItem(ee))}),e._UZ(1,"i"),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&be){const ie=Q.$implicit;e.xp6(1),e.Gre("",ie.iconClass," me-2"),e.xp6(2),e.Oqu(ie.title)}}function Fe(be,Q){if(1&be){const ie=e.EpF();e.TgZ(0,"div",1)(1,"div",2),e.NdJ("clickOutside",function(){e.CHM(ie);const oe=e.oxw();return e.KtG(oe.onClickOutside())}),e.TgZ(2,"div",3),e.YNc(3,ae,4,4,"ng-template",4),e.qZA()()()}if(2&be){const ie=e.oxw();e.xp6(1),e.Udp("top",ie.top+"px")("right",ie.right+"px"),e.xp6(2),e.Q6J("ngForOf",ie.options.listItems)}}let Y=(()=>{class be{constructor(ie){this.ref=ie,this.hide=new e.vpe,this.selectOption=new e.vpe,this.showMenu=!1}ngAfterViewInit(){setTimeout(()=>{this.showMenu=!0,this.ref.detectChanges()},100)}onClickOutside(){this.hide.emit(!0)}onSelectItem(ie){this.selectOption.emit(ie)}static#e=this.\u0275fac=function(ye){return new(ye||be)(e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:be,selectors:[["app-custom-menu"]],inputs:{options:"options",right:"right",top:"top"},outputs:{hide:"hide",selectOption:"selectOption"},decls:1,vars:1,consts:[["class","custom-actions-menu-container",4,"ngIf"],[1,"custom-actions-menu-container"],[1,"custom-actions-menu-content",3,"clickOutside"],[1,"custom-actions-menu-scroller"],["ngFor","",3,"ngForOf"],[1,"menu-item",3,"click"]],template:function(ye,oe){1&ye&&e.YNc(0,Fe,4,5,"div",0),2&ye&&e.Q6J("ngIf",oe.showMenu)},dependencies:[c.sg,c.O5,ne._],styles:[".custom-actions-menu-container[_ngcontent-%COMP%]{position:absolute;inset:0 auto 0 0;margin:0;z-index:1014;width:100%;height:100%}.custom-actions-menu-content[_ngcontent-%COMP%]{background-color:#191a1c;border-radius:4px;box-shadow:0 4px 10px #00000059;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:8px 0;transform-origin:center top;transition:background .15s ease-out;position:absolute}.custom-actions-menu-scroller[_ngcontent-%COMP%]{overflow-y:auto;max-height:600px;padding-right:0;overflow-x:hidden}button.menu-item[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;word-wrap:break-word;display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:4px 20px;text-align:left;width:100%}button.menu-item[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}"]})}return be})(),Se=(()=>{class be{constructor(ie,ye,oe){this.factoryResolver=ie,this.injector=ye,this.applicationRef=oe}show(ie){return new Promise((ye,oe)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const X=this.factoryResolver.resolveComponentFactory(Y).create(this.injector);this.lastViewRef=X.hostView,this.applicationRef.attachView(X.hostView);let $=this;const re=ie.target.getBoundingClientRect();var J=window.innerWidth-re.right,q=re.top+re.height;X.instance.options=ie,X.instance.right=J,X.instance.top=q,X.instance.selectOption.subscribe(Ee=>{Ee.eventOnSelectItem&&Ee.eventOnSelectItem.emit(!0),X.destroy(),$.applicationRef.detachView(X.hostView),ye(Ee)}),X.instance.hide.subscribe(Ee=>{X.destroy(),$.applicationRef.detachView(X.hostView),oe(!0)});const _e=X.hostView.rootNodes[0];document.getElementById(ie.containerId).appendChild(_e)})}static#e=this.\u0275fac=function(ye){return new(ye||be)(e.LFG(e._Vd),e.LFG(e.zs3),e.LFG(e.z2F))};static#t=this.\u0275prov=e.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();var ce=p(3931),ge=p(5908),Ie=p(1367),Ce=p(5940),pe=p(1444);function Ae(be,Q){1&be&&e._UZ(0,"i",17)}function ke(be,Q){1&be&&e._UZ(0,"i",18)}const he=function(be){return{selected:be}};function we(be,Q){if(1&be){const ie=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"div",9),e.YNc(3,Ae,1,0,"i",10),e.YNc(4,ke,1,0,"i",11),e.qZA(),e.TgZ(5,"a"),e._uU(6),e.qZA(),e.TgZ(7,"div",12)(8,"div",13)(9,"button",14),e.NdJ("click",function(oe){const X=e.CHM(ie).$implicit,$=e.oxw(4);return e.KtG($.showActions(oe,X))}),e.TgZ(10,"span",15),e._UZ(11,"i",16),e.qZA()()()()()()}if(2&be){const ie=Q.$implicit,ye=e.oxw(4);e.Q6J("ngClass",e.VKq(4,he,ye.currentLibrary&&ye.currentLibrary.Id==ie.Id)),e.xp6(3),e.Q6J("ngIf",1==ie.MediaTypeCatalogDetailId),e.xp6(1),e.Q6J("ngIf",2==ie.MediaTypeCatalogDetailId),e.xp6(2),e.Oqu(ie.Name)}}function Te(be,Q){if(1&be){const ie=e.EpF();e.TgZ(0,"div",2)(1,"h2"),e._uU(2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4),e._uU(5),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){e.CHM(ie);const oe=e.oxw(3);return e.KtG(oe.openNewLibrary())}),e._uU(7,"A\xf1adir biblioteca"),e.qZA(),e.TgZ(8,"button",5),e.NdJ("click",function(){e.CHM(ie);const oe=e.oxw(3);return e.KtG(oe.updateVideoInAllLibraries())}),e._uU(9,"Buscar archivos en biblioteca"),e.qZA()(),e.YNc(10,we,12,6,"ng-template",6),e.qZA()}if(2&be){const ie=e.oxw(3);e.xp6(2),e.hij("",ie.mediaServer.FamilyName?ie.mediaServer.FamilyName:ie.mediaServer.DeviceName," - Bibliotecas"),e.xp6(3),e.hij("",ie.listLibraries?ie.listLibraries.length:""," bibliotecas"),e.xp6(5),e.Q6J("ngForOf",ie.listLibraries)}}function Oe(be,Q){if(1&be&&e.YNc(0,Te,11,3,"div",1),2&be){const ie=e.oxw(2);e.Q6J("ngIf",ie.mediaServer)}}function Ve(be,Q){if(1&be&&e._UZ(0,"app-server-connection-error",19),2&be){const ie=e.oxw(2);e.Q6J("mediaServer",ie.mediaServer)}}function ft(be,Q){if(1&be&&(e.YNc(0,Oe,1,1,"ng-template",0),e.YNc(1,Ve,1,1,"ng-template",0)),2&be){const ie=e.oxw();e.Q6J("ngIf",ie.mediaServer&&ie.mediaServer.isSecureConnection),e.xp6(1),e.Q6J("ngIf",ie.mediaServer&&!ie.mediaServer.isSecureConnection)}}function Ze(be,Q){1&be&&(e.TgZ(0,"div",20),e._UZ(1,"mat-spinner"),e.qZA())}let Re=(()=>{class be{constructor(ie,ye,oe,ee,X,$,re,J,q){this.signalIrService=ie,this.customMenuService=ye,this.modalService=oe,this.libraryService=ee,this.dialog=X,this.snackBarService=$,this.router=re,this.activeRoute=J,this.sharedDataService=q,this.loadingConnection=!0,this.subscription=new T.w0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(_e=>{this.mediaServer&&this.mediaServer.Guid==_e&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.getAllItems())})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(_e=>{this.mediaServer&&this.mediaServer.Guid==_e&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)}))}ngOnInit(){var ie=this.activeRoute.snapshot.params.serverGuid,ye=this.sharedDataService.mediaServers.find(oe=>oe.Guid==ie);ye?(this.mediaServer=JSON.parse(JSON.stringify(ye)),ye.isSecureConnection?(this.loadingConnection=!1,this.getAllItems()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscription.unsubscribe()}getAllItems(){this.libraryService.getLibrariesByMediaServer(this.mediaServer.Url).then(ie=>{this.listLibraries=ie},ie=>{})}openNewLibrary(){let ie=new B;ie.MediaServerId=this.mediaServer.Id,this.showModalForm(ie)}editLibrary(ie){this.showModalForm(JSON.parse(JSON.stringify(ie)))}showModalForm(ie){var ye=this,oe=this.modalService.open(I,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});oe.componentInstance.library=ie,oe.componentInstance.mediaServer=this.mediaServer,oe.closed.subscribe(ee=>{ye.getAllItems()})}deleteLibrary(ie){var ye=new t.vA;ye.data={title:"Eliminar biblioteca",message:"La biblioteca '"+ie.Name+"' ser\xe1 eliminada de este servidor. Tus archivos multimedia no se ver\xe1n afectados. Esto no se puede deshacer. \xbfContinuar?",accordMessage:"Si, eliminar la biblioteca '"+ie.Name+"'"},this.dialog.open(L.k,ye).afterClosed().subscribe(oe=>{oe&&this.executeDeleteLibrary(ie)})}executeDeleteLibrary(ie){this.libraryService.deleteItem(this.mediaServer.Url,ie.Id).then(ye=>{this.snackBarService.showSnackBar("Se elimin\xf3 la biblioteca satisfactoriamente",y.dA.Success),this.getAllItems()},ye=>{console.error(ye),this.snackBarService.showSnackBar(ye,y.dA.Error)})}showActions(ie,ye){this.currentLibrary=ye;var oe=JSON.parse(JSON.stringify(ye)),ee=ie.currentTarget,X=[],$=new e.vpe;$.subscribe(q=>{this.editLibrary(oe)}),X.push({title:"Editar biblioteca",iconClass:"fa-solid fa-pen-to-square",eventOnSelectItem:$});var re=new e.vpe;re.subscribe(q=>{this.updateLibraryVideos(oe)}),X.push({title:"Buscar archivos en la biblioteca",iconClass:"fa-solid fa-magnifying-glass-plus",eventOnSelectItem:re});var J=new e.vpe;J.subscribe(q=>{this.deleteLibrary(oe)}),X.push({title:"Eliminar biblioteca",iconClass:"fa-sharp fa-solid fa-trash",eventOnSelectItem:J}),this.customMenuService.show({containerId:"sinovadMainContainer",listItems:X,target:ee}).then(q=>{this.currentLibrary=void 0},q=>{this.currentLibrary=void 0})}updateLibraryVideos(ie){ie.Id>0&&null!=ie.PhysicalPath&&""!=ie.PhysicalPath&&this.searchFilesInLibraries([ie])}updateVideoInAllLibraries(){this.searchFilesInLibraries(this.listLibraries)}searchFilesInLibraries(ie){this.libraryService.searchFiles(this.mediaServer.Url,ie)}static#e=this.\u0275fac=function(ye){return new(ye||be)(e.Y36(z.n),e.Y36(Se),e.Y36(m.FF),e.Y36(C.$),e.Y36(t.uw),e.Y36(ce.c),e.Y36(ge.F0),e.Y36(ge.gz),e.Y36(Ie.g))};static#t=this.\u0275cmp=e.Xpm({type:be,selectors:[["app-library-list"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"manage-libraries-header"],[1,"manage-libraries-count"],[3,"click"],["ngFor","",3,"ngForOf"],[1,"manage-library-summary-row",3,"ngClass"],[1,"manage-library-summary-overlay"],[1,"manage-library-icon-container"],["class","fa-solid fa-film",4,"ngIf"],["class","fa-solid fa-tv",4,"ngIf"],[1,"manage-library-summary-actions"],[1,"manage-library-summary-header"],[1,"manage-library-summary-action",3,"click"],[1,"manage-library-summary-header-icon"],[1,"fa-solid","fa-ellipsis-vertical"],[1,"fa-solid","fa-film"],[1,"fa-solid","fa-tv"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(ye,oe){1&ye&&(e.YNc(0,ft,2,2,"ng-template",0),e.YNc(1,Ze,2,0,"ng-template",0)),2&ye&&(e.Q6J("ngIf",!oe.loadingConnection),e.xp6(1),e.Q6J("ngIf",oe.loadingConnection))},dependencies:[c.mk,c.sg,c.O5,Ce.Ou,pe.Z],styles:[".sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.manage-libraries-header[_ngcontent-%COMP%]{background-color:#00000026;color:#ffffff73;display:flex;justify-content:space-between;margin:20px 0;padding:13px 20px}.manage-libraries-header[_ngcontent-%COMP%]   .manage-libraries-count[_ngcontent-%COMP%]{flex-grow:1;font-size:13px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;color:#fafafa;display:inline-block;overflow:hidden;text-align:center;transition:background-color .2s,color .2s;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;background-color:#ffffff40;margin-left:10px;padding:0 10px;border:none;font-size:14px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff26}.manage-library-summary-row[_ngcontent-%COMP%]{color:#ffffffb3;min-height:44px;position:relative;cursor:pointer}.manage-library-summary-overlay[_ngcontent-%COMP%]{align-items:center;display:flex;pointer-events:none;height:100%;left:0;position:absolute;top:0;width:100%}.manage-library-icon-container[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center;margin:0 20px;width:20px;font-size:13px}a[_ngcontent-%COMP%]{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-grow:1;overflow:hidden;pointer-events:all;color:#ffffffb3;font-size:13px}.manage-library-summary-actions[_ngcontent-%COMP%]{align-items:center;display:flex;flex:1;justify-content:flex-end;opacity:1}.manage-library-summary-row[_ngcontent-%COMP%]:hover, .manage-library-summary-row.selected[_ngcontent-%COMP%]{background-color:#ffffff0f;color:#fff}.manage-library-summary-header[_ngcontent-%COMP%]{display:flex}button.manage-library-summary-action[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-shrink:0;overflow:hidden;padding:0 15px;pointer-events:all;white-space:nowrap}.manage-library-summary-header-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;width:20px}button.manage-library-summary-action[_ngcontent-%COMP%]:hover{color:#fff}.sinovad-searh-media-log-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-searh-media-log-content[_ngcontent-%COMP%]{width:80%;height:80%;background:black;border:1px solid #dedede;border-radius:6px;color:#fff;padding:10px}.sinovad-searh-media-log-second-content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;font-size:26px}.sinovad-searh-media-log-html[_ngcontent-%COMP%]{color:#fff;font-size:16px;overflow-y:auto;overflow-x:hidden;width:100%;height:100%}.sinovad-library-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}.sinovad-library-principal-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin-left:10px;margin-bottom:2px;font-size:30px}.sinovad-library-container[_ngcontent-%COMP%]{display:block}.sinovad-library-section[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-library-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-left:0;font-size:20px}.sinovad-library-section[_ngcontent-%COMP%]   .sinovad-library-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-library-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:30px;border-radius:5px;outline:none;cursor:pointer}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px;cursor:pointer}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}"]})}return be})()},1044:(Wn,et,p)=>{"use strict";p.d(et,{$:()=>_});var e=p(863),t=p(2372),v=p(5879),b=p(9429);let _=(()=>{class P{constructor(m){this.restProvider=m}getLibrariesByMediaServer(m){return new Promise((i,c)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,m+"/api/libraries/GetAllLibraries").then(f=>{i(f.Data)},f=>{c(f)})})}saveItem(m,i){return new Promise((c,d)=>{this.restProvider.executeHttpMediaServerApi(i.Id>0?e.yw.PUT:e.yw.POST,m+"/api"+(i.Id>0?"/libraries/Update":"/libraries/Create"),i).then(S=>{c(!0)},S=>{console.error(S),d(S)})})}deleteItem(m,i){return new Promise((c,d)=>{this.restProvider.executeHttpMediaServerApi(e.yw.DELETE,m+"/api/libraries/Delete/"+i).then(g=>{c(g)},g=>{console.error(g),d(g)})})}deleteItems(m,i){return new Promise((c,d)=>{let f=[];for(let x=0;x<i.length;x++)f.push(i[x].Id);var g=f.join(",");this.restProvider.executeHttpMediaServerApi(e.yw.DELETE,m+"/api/libraries/DeleteList/"+g).then(x=>{c(x)},x=>{console.error(x),d(x)})})}searchFiles(m,i){return new Promise((c,d)=>{let f=(0,t.Z)();this.restProvider.executeHttpMediaServerApi(e.yw.POST,m+"/api/libraries/SearchFiles",{Listlibraries:i,LogIdentifier:f}).then(x=>{c(x)},x=>{console.error(x),d(x)})})}getAllMediaItemsBySearchQuery(m,i){return new Promise((c,d)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,m+"/api/libraries/GetAllMediaItemsBySearchQuery?searchQuery="+i).then(g=>{c(g.Data)},g=>{d(g)})})}getAllMediaItems(m,i){return new Promise((c,d)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,m+"/api/libraries/GetAllMediaItems?profileId="+i).then(g=>{c(g.Data)},g=>{d(g)})})}getMediaItemsByLibrary(m,i,c){return new Promise((d,f)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,m+"/api/libraries/GetMediaItemsByLibrary?libraryId="+i+"&profileId="+c).then(S=>{d(S.Data)},S=>{f(S)})})}getMediaItemsByMediaType(m,i,c){return new Promise((d,f)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,m+"/api/libraries/GetMediaItemsByMediaType?mediaTypeId="+i+"&profileId="+c).then(S=>{d(S.Data)},S=>{f(S)})})}getMediaItemDetail(m,i){return new Promise((c,d)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,m+"/api/libraries/GetMediaItemDetail/"+i).then(g=>{c(g.Data)},g=>{d(g)})})}GetMediaItemDetailByMediaFileAndProfile(m,i,c){return new Promise((d,f)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,m+"/api/libraries/GetMediaItemDetailByMediaFileAndProfile?mediaFileId="+i+"&profileId="+c).then(S=>{d(S.Data)},S=>{f(S)})})}static#e=this.\u0275fac=function(i){return new(i||P)(v.LFG(b.C))};static#t=this.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},295:(Wn,et,p)=>{"use strict";p.d(et,{i:()=>O});var e=p(5861),t=p(95),v=p(7394),b=p(9604),_=p(5879),P=p(7541),C=p(5510),m=p(3931),i=p(5908),c=p(1367),d=p(6814),f=p(5940),g=p(1444);function S(D,I){if(1&D){const T=_.EpF();_.TgZ(0,"div",1)(1,"h2"),_._uU(2),_.qZA(),_.TgZ(3,"div")(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"span",7),_._uU(10,"Privado"),_.qZA(),_.TgZ(11,"span",8)(12,"span",9),_._uU(13),_.qZA()()()(),_.TgZ(14,"div",5)(15,"form",10),_.NdJ("ngSubmit",function(){_.CHM(T);const y=_.oxw(2);return _.KtG(y.updateMediaServer())}),_.TgZ(16,"div",5)(17,"label",11),_._uU(18,"Nombre Familiar"),_.qZA(),_._UZ(19,"input",12),_.TgZ(20,"p",13),_._uU(21,"Este nombre se usar\xe1 para que otros ordenadores identifiquen este servidor en tu red. Si lo dejas en blanco se usar\xe1 el nombre del equipo."),_.qZA()(),_.TgZ(22,"div",14)(23,"button",15)(24,"span",16),_._uU(25,"Guardar cambios"),_.qZA()(),_._UZ(26,"span",17),_.qZA()()()()()()()()}if(2&D){const T=_.oxw(2);_.xp6(2),_.hij("",T.mediaServer.FamilyName?T.mediaServer.FamilyName:T.mediaServer.DeviceName," - General"),_.xp6(11),_.Oqu(T.mediaServer.Url),_.xp6(2),_.Q6J("formGroup",T.customForm),_.xp6(4),_.Q6J("placeholder",T.mediaServer.FamilyName?T.mediaServer.FamilyName:T.mediaServer.DeviceName),_.xp6(4),_.Q6J("disabled",T.loading||T.customForm.pristine||T.customForm.invalid)}}function x(D,I){if(1&D&&_._UZ(0,"app-server-connection-error",18),2&D){const T=_.oxw(2);_.Q6J("mediaServer",T.mediaServer)}}function A(D,I){if(1&D&&(_.YNc(0,S,27,5,"ng-template",0),_.YNc(1,x,1,1,"ng-template",0)),2&D){const T=_.oxw();_.Q6J("ngIf",T.mediaServer&&T.mediaServer.isSecureConnection),_.xp6(1),_.Q6J("ngIf",T.mediaServer&&!T.mediaServer.isSecureConnection)}}function N(D,I){1&D&&(_.TgZ(0,"div",19),_._UZ(1,"mat-spinner"),_.qZA())}let O=(()=>{class D{constructor(T,L,y,B,z,ne,ae){this.signalIrService=T,this.serverService=L,this.snackBarService=y,this.formBuilder=B,this.router=z,this.activeRoute=ne,this.sharedDataService=ae,this.loading=!1,this.loadingConnection=!0,this.subscription=new v.w0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(Fe=>{this.mediaServer&&this.mediaServer.Guid==Fe&&!this.mediaServer.isSecureConnection&&(this.loadingConnection=!1,this.mediaServer.isSecureConnection=!0)})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(Fe=>{this.mediaServer&&this.mediaServer.Guid==Fe&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)}))}ngOnInit(){var T=this.activeRoute.snapshot.params.serverGuid,L=this.sharedDataService.mediaServers.find(y=>y.Guid==T);L?(this.mediaServer=JSON.parse(JSON.stringify(L)),L.isSecureConnection?this.loadingConnection=!1:setTimeout(()=>{this.loadingConnection=!1},3e3),this.customForm=this.formBuilder.group({familyName:new t.NI(this.mediaServer.FamilyName)})):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscription.unsubscribe()}getMediaServerData(){var T=this;return(0,e.Z)(function*(){T.loading=!0;var L=T.activeRoute.snapshot.params.serverGuid;T.serverService.getMediaServerByGuid(L).then(y=>{var B=y.Data,ne=T.sharedDataService.mediaServers.find(ae=>ae.Guid==L);ne.FamilyName=B.FamilyName,T.mediaServer=ne,T.customForm=T.formBuilder.group({familyName:new t.NI(T.mediaServer.FamilyName)}),T.loading=!1},y=>{T.router.navigateByUrl("/404"),T.loading=!1})})()}ngAfterViewInit(){}updateMediaServer(){this.loading=!0;var T=JSON.parse(JSON.stringify(this.mediaServer));T.FamilyName=this.customForm.value.familyName,this.serverService.updateMediaServer(T).then(L=>{this.getMediaServerData(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",b.dA.Success)},L=>{this.loading=!1,console.error(L)})}static#e=this.\u0275fac=function(L){return new(L||D)(_.Y36(P.n),_.Y36(C.Z),_.Y36(m.c),_.Y36(t.qu),_.Y36(i.F0),_.Y36(i.gz),_.Y36(c.g))};static#t=this.\u0275cmp=_.Xpm({type:D,selectors:[["app-server-setttings-general-page"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"remote-access-mapping"],[1,"mapping-label"],[1,"mapping-address"],[1,"mapping-value"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["type","text","formControlName","familyName",1,"form-control",3,"placeholder"],[1,"help-block"],[1,"form-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn-label"],[1,"form-message"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(L,y){1&L&&(_.YNc(0,A,2,2,"ng-template",0),_.YNc(1,N,2,0,"ng-template",0)),2&L&&(_.Q6J("ngIf",!y.loadingConnection),_.xp6(1),_.Q6J("ngIf",y.loadingConnection))},dependencies:[d.O5,t._Y,t.Fj,t.JJ,t.JL,f.Ou,g.Z,t.sg,t.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}']})}return D})()},5934:(Wn,et,p)=>{"use strict";p.d(et,{$:()=>ne});var e=p(863),t=p(95),v=p(7394);class b{}var _=p(9604),P=p(8777),C=p(5879),m=p(9857),i=p(7541),c=p(9429);let d=(()=>{class ae{constructor(Y){this.restProvider=Y}getByMediaServer(Y){return new Promise((le,G)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,Y+"/api/transcoderSettings/GetAsync").then(ce=>{le(ce.Data)},ce=>{console.error(ce),G(ce)})})}saveItem(Y,le){return new Promise((G,Se)=>{this.restProvider.executeHttpMediaServerApi(e.yw.PUT,Y+"/api/transcoderSettings/Save",le).then(ge=>{G(!0)},ge=>{console.error(ge),Se(ge)})})}static#e=this.\u0275fac=function(le){return new(le||ae)(C.LFG(c.C))};static#t=this.\u0275prov=C.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();var f=p(8726),g=p(3931),S=p(5908),x=p(1367),A=p(6814),N=p(5940),O=p(1444);function D(ae,Fe){if(1&ae&&(C.TgZ(0,"option",19),C._uU(1),C.qZA()),2&ae){const Y=Fe.$implicit;C.Q6J("ngValue",Y.Id),C.xp6(1),C.Oqu(Y.Name)}}function I(ae,Fe){if(1&ae&&(C.TgZ(0,"option",19),C._uU(1),C.qZA()),2&ae){const Y=Fe.$implicit;C.Q6J("ngValue",Y.Id),C.xp6(1),C.Oqu(Y.Name)}}function T(ae,Fe){if(1&ae){const Y=C.EpF();C.TgZ(0,"div",2)(1,"h2"),C._uU(2),C.qZA(),C.TgZ(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"form",7),C.NdJ("ngSubmit",function(){C.CHM(Y);const G=C.oxw(3);return C.KtG(G.saveTranscoder())}),C.TgZ(9,"div",6)(10,"label",8),C._uU(11,"M\xe9todo de transmisi\xf3n"),C.qZA(),C.TgZ(12,"select",9),C.YNc(13,D,2,2,"ng-template",10),C.qZA(),C.TgZ(14,"p",11),C._uU(15,"M\xe9todo de transmisi\xf3n para transcodificar los videos"),C.qZA()(),C.TgZ(16,"div",6)(17,"label",8),C._uU(18,"Carpeta temporal para el transcodificador"),C.qZA(),C.TgZ(19,"input",12),C.NdJ("click",function(){C.CHM(Y);const G=C.oxw(3);return C.KtG(G.showChooserDirectoryModal())}),C.qZA(),C.TgZ(20,"p",11),C._uU(21,"Carpeta que utilizar\xe1 el codificador para los archivos temporales."),C.qZA()(),C.TgZ(22,"div",6)(23,"label",8),C._uU(24,"Preset de conversi\xf3n x264 en segundo plano"),C.qZA(),C.TgZ(25,"select",13),C.YNc(26,I,2,2,"ng-template",10),C.qZA(),C.TgZ(27,"p",11),C._uU(28,"El valor de preset de x264 usado para conversi\xf3n en segundo plano (Sincronizaci\xf3n y Optimizador de Contenido). Valores m\xe1s lentos dar\xe1n lugar a mejor calidad de v\xeddeo y archivos m\xe1s peque\xf1os, pero llevar\xe1 mucho m\xe1s tiempo completar el proceso."),C.qZA()(),C.TgZ(29,"div",6)(30,"label",8),C._uU(31,"Factor de Tasa Constante"),C.qZA(),C._UZ(32,"input",14),C.TgZ(33,"p",11),C._uU(34,"El factor de tasa constante (CRF) es la configuraci\xf3n predeterminada de calidad (y control de velocidad) para los codificadores x264 y x265 , y tambi\xe9n est\xe1 disponible para libvpx . Con x264 y x265, puede establecer los valores entre 0 y 51, donde los valores m\xe1s bajos dar\xedan como resultado una mejor calidad, a expensas de tama\xf1os de archivo m\xe1s altos. Los valores m\xe1s altos significan m\xe1s compresi\xf3n, pero en alg\xfan momento notar\xe1 la degradaci\xf3n de la calidad. Para x264, los valores razonables est\xe1n entre 18 y 28. El valor predeterminado es 23, por lo que puede usarlo como punto de partida."),C.qZA()(),C.TgZ(35,"div",15)(36,"button",16)(37,"span",17),C._uU(38,"Guardar cambios"),C.qZA()(),C._UZ(39,"span",18),C.qZA()()()()()()()()}if(2&ae){const Y=C.oxw(3);C.xp6(2),C.hij("",Y.mediaServer.FamilyName?Y.mediaServer.FamilyName:Y.mediaServer.DeviceName," - Transcodificador"),C.xp6(6),C.Q6J("formGroup",Y.customForm),C.xp6(5),C.Q6J("ngForOf",Y.transmissionMethodList),C.xp6(13),C.Q6J("ngForOf",Y.presetList),C.xp6(10),C.Q6J("disabled",Y.loading||Y.customForm.pristine||Y.customForm.invalid)}}function L(ae,Fe){if(1&ae&&C.YNc(0,T,40,5,"div",1),2&ae){const Y=C.oxw(2);C.Q6J("ngIf",Y.customForm)}}function y(ae,Fe){if(1&ae&&C._UZ(0,"app-server-connection-error",20),2&ae){const Y=C.oxw(2);C.Q6J("mediaServer",Y.mediaServer)}}function B(ae,Fe){if(1&ae&&(C.YNc(0,L,1,1,"ng-template",0),C.YNc(1,y,1,1,"ng-template",0)),2&ae){const Y=C.oxw();C.Q6J("ngIf",Y.mediaServer&&Y.mediaServer.isSecureConnection),C.xp6(1),C.Q6J("ngIf",Y.mediaServer&&!Y.mediaServer.isSecureConnection)}}function z(ae,Fe){1&ae&&(C.TgZ(0,"div",21),C._UZ(1,"mat-spinner"),C.qZA())}let ne=(()=>{class ae{constructor(Y,le,G,Se,ce,ge,Ie,Ce,pe){this.catalogService=Y,this.signalIrService=le,this.transcoderSettingsService=G,this.modalService=Se,this.snackBarService=ce,this.formBuilder=ge,this.router=Ie,this.activeRoute=Ce,this.sharedDataService=pe,this.transmissionMethodList=[],this.presetList=[],this.loading=!1,this.loadingConnection=!0,this.subscription=new v.w0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(Ae=>{this.mediaServer&&this.mediaServer.Guid==Ae&&!this.mediaServer.isSecureConnection&&(this.loadingConnection=!1,this.mediaServer.isSecureConnection=!0,this.getTranscoderSettingss())})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(Ae=>{this.mediaServer&&this.mediaServer.Guid==Ae&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)}))}ngOnInit(){this.getCatalogDetails();var Y=this.activeRoute.snapshot.params.serverGuid,le=this.sharedDataService.mediaServers.find(G=>G.Guid==Y);le?(this.mediaServer=JSON.parse(JSON.stringify(le)),le.isSecureConnection?(this.loadingConnection=!1,this.getTranscoderSettingss()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscription.unsubscribe()}getCatalogDetails(){this.catalogService.getAllCatalogDetailsByCatalogIds(e.P9.TranscoderPreset+","+e.P9.VideoTransmissionType).then(le=>{let G=le.Data;this.transmissionMethodList=G.filter(Se=>Se.CatalogId==e.P9.VideoTransmissionType),this.presetList=G.filter(Se=>Se.CatalogId==e.P9.TranscoderPreset)},le=>{console.error(le)})}getTranscoderSettingss(){this.transcoderSettingsService.getByMediaServer(this.mediaServer.Url).then(Y=>{if(this.currentTranscoderSettingss=Y,null==this.currentTranscoderSettingss){var le=new b;le.TemporaryFolder="",le.ConstantRateFactor=18,le.MediaServerId=this.mediaServer.Id,this.currentTranscoderSettingss=le}this.customForm=this.formBuilder.group({temporaryFolder:new t.NI(this.currentTranscoderSettingss.TemporaryFolder),preset:new t.NI(this.currentTranscoderSettingss.PresetCatalogDetailId),transmissionMethod:new t.NI(this.currentTranscoderSettingss.VideoTransmissionTypeCatalogDetailId),constantRateFactor:new t.NI(this.currentTranscoderSettingss.ConstantRateFactor)})},Y=>{console.error(Y)})}saveTranscoder(){this.loading=!0;var Y=JSON.parse(JSON.stringify(this.currentTranscoderSettingss));Y.TemporaryFolder=this.customForm.value.temporaryFolder,Y.ConstantRateFactor=this.customForm.value.constantRateFactor,Y.VideoTransmissionTypeCatalogDetailId=this.customForm.value.transmissionMethod,Y.PresetCatalogDetailId=this.customForm.value.preset,this.transcoderSettingsService.saveItem(this.mediaServer.Url,Y).then(le=>{this.loading=!1,this.getTranscoderSettingss(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",_.dA.Success)},le=>{this.loading=!1,this.snackBarService.showSnackBar(le,_.dA.Error),console.error(le)})}showChooserDirectoryModal(){var Y=this,le=this.modalService.open(P.g,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});le.componentInstance.mediaServer=this.mediaServer,le.closed.subscribe(G=>{Y.customForm.controls.temporaryFolder.setValue(G),Y.customForm.controls.temporaryFolder.markAsDirty()})}static#e=this.\u0275fac=function(le){return new(le||ae)(C.Y36(m.a),C.Y36(i.n),C.Y36(d),C.Y36(f.FF),C.Y36(g.c),C.Y36(t.qu),C.Y36(S.F0),C.Y36(S.gz),C.Y36(x.g))};static#t=this.\u0275cmp=C.Xpm({type:ae,selectors:[["app-transcode-settings-page"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["name","transmissionMethods","formControlName","transmissionMethod",1,"form-control"],["ngFor","",3,"ngForOf"],[1,"help-block"],["readonly","","type","text","formControlName","temporaryFolder",1,"form-control",2,"cursor","pointer",3,"click"],["name","transmissionMethods","formControlName","preset",1,"form-control"],["type","text","formControlName","constantRateFactor",1,"form-control"],[1,"form-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn-label"],[1,"form-message"],[1,"form-option",3,"ngValue"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(le,G){1&le&&(C.YNc(0,B,2,2,"ng-template",0),C.YNc(1,z,2,0,"ng-template",0)),2&le&&(C.Q6J("ngIf",!G.loadingConnection),C.xp6(1),C.Q6J("ngIf",G.loadingConnection))},dependencies:[A.sg,A.O5,t._Y,t.YN,t.Kr,t.Fj,t.EJ,t.JJ,t.JL,N.Ou,O.Z,t.sg,t.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .form-option[_ngcontent-%COMP%]{background-color:#131313;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]{border-radius:3px;font-size:16px;line-height:1.33;padding:10px 18px;flex-shrink:0;text-transform:capitalize;border:0;overflow:hidden;position:relative;cursor:pointer;display:inline-block;font-weight:400;margin-bottom:0;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;color:#fff;background-color:#007bff;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   button.save.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}.sinovad-manage-media-container[_ngcontent-%COMP%]{display:block}.sinovad-manage-media-section[_ngcontent-%COMP%]{display:block;padding:10px}label[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}.sinovad-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-manage-media-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}']})}return ae})()},2680:(Wn,et,p)=>{"use strict";p.d(et,{I:()=>ae});var e=p(1476),t=p(2877),v=p(863),b=p(5313),_=p(7394),P=p(5879),C=p(1367),m=p(5908),i=p(7541),c=p(9429);let d=(()=>{class Fe{constructor(le){this.restProvider=le}getAlertsByMediaServer(le,G,Se){return new Promise((ce,ge)=>{var Ie="?page="+G.toString()+"&take="+Se.toString();this.restProvider.executeHttpMediaServerApi(v.yw.GET,le+"/api/alerts/GetAllWithPagination"+Ie).then(pe=>{ce(pe)},pe=>{ge(pe)})})}static#e=this.\u0275fac=function(G){return new(G||Fe)(P.LFG(c.C))};static#t=this.\u0275prov=P.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})();var f=p(6814),g=p(5940),S=p(1444);function x(Fe,Y){1&Fe&&(P.TgZ(0,"div",18),P._UZ(1,"mat-spinner"),P.qZA())}function A(Fe,Y){if(1&Fe&&(P.TgZ(0,"td",19),P._UZ(1,"i"),P.qZA()),2&Fe){const le=Y.$implicit,G=P.oxw(4);P.xp6(1),P.Tol(G.getIconByAlertType(le.AlertType))}}function N(Fe,Y){if(1&Fe&&(P.TgZ(0,"td",20),P._uU(1),P.ALo(2,"date"),P.qZA()),2&Fe){const le=Y.$implicit;P.xp6(1),P.hij(" ",P.xi3(2,1,le.Created,"dd-MM-YYYY h:mm a")," ")}}function O(Fe,Y){if(1&Fe&&(P.TgZ(0,"td",21),P._uU(1),P.qZA()),2&Fe){const le=Y.$implicit;P.xp6(1),P.hij(" ",le.Description," ")}}function D(Fe,Y){1&Fe&&P._UZ(0,"tr",22)}function I(Fe,Y){1&Fe&&(P.TgZ(0,"td",25),P._uU(1,"No se encontraron datos"),P.qZA())}function T(Fe,Y){if(1&Fe&&(P.TgZ(0,"tr",23),P.YNc(1,I,2,0,"td",24),P.qZA()),2&Fe){const le=P.oxw(4);P.xp6(1),P.Q6J("ngIf",!le.showLoading)}}function L(Fe,Y){if(1&Fe&&(P.TgZ(0,"div",2)(1,"h2"),P._uU(2),P.qZA(),P.TgZ(3,"div",3)(4,"div",4)(5,"div",5),P.YNc(6,x,2,0,"div",6),P.TgZ(7,"div",7)(8,"table",8),P.ynx(9,9),P.YNc(10,A,2,3,"td",10),P.BQk(),P.ynx(11,11),P.YNc(12,N,3,4,"td",12),P.BQk(),P.ynx(13,13),P.YNc(14,O,2,1,"td",14),P.BQk(),P.YNc(15,D,1,0,"tr",15),P.YNc(16,T,2,1,"tr",16),P.qZA()()()()(),P.TgZ(17,"div",3)(18,"div",4),P._UZ(19,"mat-paginator",17),P.qZA()()()),2&Fe){const le=P.oxw(3);P.xp6(2),P.hij("",le.mediaServer.FamilyName?le.mediaServer.FamilyName:le.mediaServer.DeviceName," - Alertas"),P.xp6(4),P.Q6J("ngIf",le.showLoading),P.xp6(2),P.Q6J("dataSource",le.dataSource),P.xp6(7),P.Q6J("matRowDefColumns",le.getDisplayedColumns()),P.xp6(4),P.Q6J("color","primary")("hidePageSize",!0)}}function y(Fe,Y){if(1&Fe&&P.YNc(0,L,20,6,"div",1),2&Fe){const le=P.oxw(2);P.Q6J("ngIf",le.mediaServer)}}function B(Fe,Y){if(1&Fe&&P._UZ(0,"app-server-connection-error",26),2&Fe){const le=P.oxw(2);P.Q6J("mediaServer",le.mediaServer)}}function z(Fe,Y){if(1&Fe&&(P.YNc(0,y,1,1,"ng-template",0),P.YNc(1,B,1,1,"ng-template",0)),2&Fe){const le=P.oxw();P.Q6J("ngIf",le.mediaServer&&le.mediaServer.isSecureConnection),P.xp6(1),P.Q6J("ngIf",le.mediaServer&&!le.mediaServer.isSecureConnection)}}function ne(Fe,Y){1&Fe&&(P.TgZ(0,"div",27),P._UZ(1,"mat-spinner"),P.qZA())}let ae=(()=>{class Fe extends t.G{constructor(le,G,Se,ce,ge,Ie,Ce){super(Ce),this.ref=le,this.sharedDataService=G,this.router=Se,this.activeRoute=ce,this.signalIrService=ge,this.alertsService=Ie,this.matPaginatorIntl=Ce,this.loadingConnection=!0,this.subscription=new _.w0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(pe=>{this.mediaServer&&this.mediaServer.Guid==pe&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.ref.detectChanges(),this.initializePaginator(),this.getAllItems())})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(pe=>{this.mediaServer&&this.mediaServer.Guid==pe&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)}))}ngOnInit(){var le=this.activeRoute.snapshot.params.serverGuid,G=this.sharedDataService.mediaServers.find(Se=>Se.Guid==le);G?(this.mediaServer=JSON.parse(JSON.stringify(G)),G.isSecureConnection?(this.loadingConnection=!1,this.getAllItems()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngAfterViewInit(){this.mediaServer&&this.mediaServer.isSecureConnection&&this.initializePaginator()}initializePaginator(){this.paginator.page.subscribe(le=>{this.updatePageData(le),this.getAllItems()}),this.dataSource.paginator=this.paginator}ngOnDestroy(){this.subscription.unsubscribe()}getAllItems(){this.showLoading=!0,this.alertsService.getAlertsByMediaServer(this.mediaServer.Url,this.currentPage,this.itemsPerPage).then(le=>{this.showLoading=!1;var G=le.Data;this.totalCount=le.TotalCount,this.listItems=G,this.dataSource=new b.by(this.listItems),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},le=>{this.showLoading=!1})}getDisplayedColumns(){return["AlertType","Created","Description"]}getIconByAlertType(le){return le==v.NK.Bullhorn?"fa-solid fa-bullhorn":le==v.NK.Tags?"fa-solid fa-tags":le==v.NK.Ok?"fa-solid fa-check":le==v.NK.Plus?"fa-solid fa-plus":le==v.NK.Bin?"fa-solid fa-trash":""}static#e=this.\u0275fac=function(G){return new(G||Fe)(P.Y36(P.sBO),P.Y36(C.g),P.Y36(m.F0),P.Y36(m.gz),P.Y36(i.n),P.Y36(d),P.Y36(e.ye))};static#t=this.\u0275cmp=P.Xpm({type:Fe,selectors:[["app-alerts"]],viewQuery:function(G,Se){if(1&G&&P.Gf(e.NW,5),2&G){let ce;P.iGM(ce=P.CRH())&&(Se.paginator=ce.first)}},features:[P.qOj],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"row"],[1,"col-12"],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","AlertType"],["mat-cell","","style","width:45px;max-width:45px;text-align: left;",4,"matCellDef"],["matColumnDef","Created"],["mat-cell","","style","min-width:140px;width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","Description"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","hidePageSize"],[1,"loading-shade"],["mat-cell","",2,"width","45px","max-width","45px","text-align","left"],["mat-cell","",2,"min-width","140px","width","140px","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(G,Se){1&G&&(P.YNc(0,z,2,2,"ng-template",0),P.YNc(1,ne,2,0,"ng-template",0)),2&G&&(P.Q6J("ngIf",!Se.loadingConnection),P.xp6(1),P.Q6J("ngIf",Se.loadingConnection))},dependencies:[f.O5,e.NW,b.BZ,b.w1,b.Dz,b.nj,b.ev,b.Gk,b.Ee,g.Ou,S.Z,f.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:650px!important}.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:650px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}td[_ngcontent-%COMP%]{font-size:13px;padding:6px}div[_ngcontent-%COMP%]{font-size:13px}span[_ngcontent-%COMP%]{font-size:13px!important}"]})}return Fe})()},9411:(Wn,et,p)=>{"use strict";p.d(et,{M:()=>ne});var e=p(7394),t=p(5879),v=p(5731),b=p(1367),_=p(5908),P=p(7541),C=p(863),m=p(9429);let i=(()=>{class ae{constructor(Y){this.restProvider=Y}GetListMediaFilePlayback(Y){return new Promise((le,G)=>{this.restProvider.executeHttpMediaServerApi(C.yw.GET,Y+"/api/mediaFilePlaybacks/GetListMediaFilePlayback").then(ce=>{le(ce.Data)},ce=>{G(ce)})})}static#e=this.\u0275fac=function(le){return new(le||ae)(t.LFG(m.C))};static#t=this.\u0275prov=t.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();var c=p(6814),d=p(5940),f=p(1444),g=p(1531);function S(ae,Fe){if(1&ae&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&ae){const Y=t.oxw().$implicit;t.xp6(1),t.hij(" ",Y.ItemData.Subtitle," ")}}function x(ae,Fe){if(1&ae&&(t.TgZ(0,"div",11),t._uU(1),t.qZA()),2&ae){const Y=t.oxw().$implicit;t.xp6(1),t.lnq(" ",Y.ClientData.DeviceData.OperatingSystem," - ",Y.ClientData.DeviceData.DeviceType," - ",Y.ClientData.DeviceData.Browser," ")}}function A(ae,Fe){if(1&ae&&(t.TgZ(0,"div",21),t._uU(1),t.qZA()),2&ae){const Y=t.oxw().$implicit,le=t.oxw(5);t.xp6(1),t.hij(" ",le.commonService.getInitials(Y.ProfileData.ProfileName)," ")}}function N(ae,Fe){if(1&ae&&(t._UZ(0,"img",21),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&ae){const Y=t.oxw().$implicit;t.uIk("src",t.lcZ(1,1,t.xi3(2,3,Y.ProfileData.ProfileId,"GetAvatarImageURLByProfileId")),t.LSH)}}function O(ae,Fe){if(1&ae&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div"),t._UZ(3,"img",9),t.qZA(),t.TgZ(4,"div",10)(5,"div",11),t._uU(6),t.qZA(),t.YNc(7,S,2,1,"div",12),t.TgZ(8,"div",13),t._uU(9),t.qZA()()(),t.TgZ(10,"div",14)(11,"div",15),t._UZ(12,"div",16),t.qZA(),t.TgZ(13,"div",10),t.YNc(14,x,2,3,"div",17),t.TgZ(15,"div",13),t._uU(16),t.qZA(),t.TgZ(17,"div",13),t._uU(18),t.qZA()()(),t.TgZ(19,"div",18),t.YNc(20,A,2,1,"div",19),t.YNc(21,N,3,6,"img",19),t.TgZ(22,"span",20),t._uU(23),t.qZA()()()),2&ae){const Y=Fe.$implicit,le=t.oxw(5);t.xp6(3),t.Q6J("src",Y.ItemData.PosterPath,t.LSH),t.xp6(3),t.hij(" ",Y.ItemData.Title," "),t.xp6(1),t.Q6J("ngIf",Y.ItemData.Subtitle),t.xp6(2),t.hij(" ",le.getFormattedDuration(Y.ItemData.Duration)," "),t.xp6(3),t.Udp("width",le.getWidthProgressItem(Y.ClientData)),t.xp6(2),t.Q6J("ngIf",Y.ClientData.DeviceData),t.xp6(2),t.hij(" ",le.getPlayingMediaInfo(Y.ClientData)," "),t.xp6(2),t.hij(" Local (",Y.ClientData.LocalIpAddress,") "),t.xp6(2),t.Q6J("ngIf",null==Y.ProfileData.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=Y.ProfileData.AvatarPath),t.xp6(2),t.hij(" ",Y.ProfileData.ProfileName," ")}}function D(ae,Fe){if(1&ae&&t.YNc(0,O,24,12,"ng-template",6),2&ae){const Y=t.oxw(4);t.Q6J("ngForOf",Y.listItems)}}function I(ae,Fe){1&ae&&t._uU(0," No se est\xe1 reproduciendo nada actualmente ")}function T(ae,Fe){if(1&ae&&(t.TgZ(0,"div",2)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div",3)(4,"h2",4),t._uU(5,"Reproduciendo ahora"),t.qZA(),t.TgZ(6,"div",5),t.YNc(7,D,1,1,"ng-template",0),t.YNc(8,I,1,0,"ng-template",0),t.qZA()()()),2&ae){const Y=t.oxw(3);t.xp6(2),t.hij("",Y.mediaServer.FamilyName?Y.mediaServer.FamilyName:Y.mediaServer.DeviceName," - Panel de Control"),t.xp6(5),t.Q6J("ngIf",Y.listItems&&Y.listItems.length>0),t.xp6(1),t.Q6J("ngIf",null==Y.listItems||0==Y.listItems.length)}}function L(ae,Fe){if(1&ae&&t.YNc(0,T,9,3,"div",1),2&ae){const Y=t.oxw(2);t.Q6J("ngIf",Y.mediaServer)}}function y(ae,Fe){if(1&ae&&t._UZ(0,"app-server-connection-error",22),2&ae){const Y=t.oxw(2);t.Q6J("mediaServer",Y.mediaServer)}}function B(ae,Fe){if(1&ae&&(t.YNc(0,L,1,1,"ng-template",0),t.YNc(1,y,1,1,"ng-template",0)),2&ae){const Y=t.oxw();t.Q6J("ngIf",Y.mediaServer&&Y.mediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",Y.mediaServer&&!Y.mediaServer.isSecureConnection)}}function z(ae,Fe){1&ae&&(t.TgZ(0,"div",23),t._UZ(1,"mat-spinner"),t.qZA())}let ne=(()=>{class ae{constructor(Y,le,G,Se,ce,ge,Ie){this.commonService=Y,this.sharedDataService=le,this.ref=G,this.router=Se,this.activeRoute=ce,this.signalIrService=ge,this.dashboardService=Ie,this.loadingConnection=!0,this.subscription=new e.w0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscription.add(this.signalIrService.isAddedMediaFilePlayback().subscribe(Ce=>{this.mediaServer&&this.mediaServer.Guid==Ce.mediaServerGuid&&null==this.listItems.find(Ae=>Ae.Guid==Ce.mediaFilePlaybackGuid)&&this.dashboardService.GetListMediaFilePlayback(this.mediaServer.Url).then(Ae=>{var ke=Ae.find(he=>he.Guid==Ce.mediaFilePlaybackGuid);ke&&(this.listItems.push(ke),this.ref.detectChanges())},Ae=>{})})),this.subscription.add(this.signalIrService.isRemovedMediaFilePlayback().subscribe(Ce=>{if(this.mediaServer&&this.mediaServer.Guid==Ce.mediaServerGuid){var pe=this.listItems.findIndex(Ae=>Ae.Guid==Ce.mediaFilePlaybackGuid);-1!=pe&&(this.listItems.splice(pe,1),this.ref.detectChanges())}})),this.subscription.add(this.signalIrService.isUpdatingCurrentTimeMediaFilePlayBack().subscribe(Ce=>{if(this.mediaServer&&this.mediaServer.Guid==Ce.mediaServerGuid){var pe=this.listItems.find(Ae=>Ae.Guid==Ce.mediaFilePlaybackGuid);pe&&(pe.ClientData.CurrentTime=Ce.currentTime,pe.ClientData.IsPlaying=Ce.isPlaying,this.ref.detectChanges())}})),this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(Ce=>{this.mediaServer&&this.mediaServer.Guid==Ce&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.ref.detectChanges(),this.getAllItems())})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(Ce=>{this.mediaServer&&this.mediaServer.Guid==Ce&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)}))}ngOnInit(){var Y=this.activeRoute.snapshot.params.serverGuid,le=this.sharedDataService.mediaServers.find(G=>G.Guid==Y);le?(this.mediaServer=JSON.parse(JSON.stringify(le)),le.isSecureConnection?(this.loadingConnection=!1,this.getAllItems()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscription.unsubscribe()}getAllItems(){this.dashboardService.GetListMediaFilePlayback(this.mediaServer.Url).then(Y=>{this.listItems=Y},Y=>{})}getFormattedDuration(Y){var le=parseInt(Y,10),G=Math.floor(le/3600),Se=Math.floor((le-3600*G)/60);return 0==G?Se+"min":G+"hr "+Se+"min"}getPlayingMediaInfo(Y){var le=this.getFormatTime(Y.CurrentTime),G=this.getFormatTime(Y.Duration);return(Y.IsPlaying?"Playing":"Paused")+" - "+le+" / "+G}getFormatTime(Y){var le=parseInt(Y,10),G=Math.floor(le/3600),Se=Math.floor((le-3600*G)/60),ce=le-3600*G-60*Se;return G<10&&(G="0"+G),Se<10&&(Se="0"+Se),ce<10&&(ce="0"+ce),G+":"+Se+":"+ce}getWidthProgressItem(Y){return Y.CurrentTime/Y.Duration*100+"%"}getInitials(Y){return Y.substring(0,1)}static#e=this.\u0275fac=function(le){return new(le||ae)(t.Y36(v.v),t.Y36(b.g),t.Y36(t.sBO),t.Y36(_.F0),t.Y36(_.gz),t.Y36(P.n),t.Y36(i))};static#t=this.\u0275cmp=t.Xpm({type:ae,selectors:[["app-dashboard"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"playback-container"],[1,"items-playing-title"],[1,"cards-container"],["ngFor","",3,"ngForOf"],[1,"custom-card"],[1,"custom-card-item-content"],[3,"src"],[1,"custom-card-item-content-right"],[1,"custom-card-text-title"],["class","custom-card-text-subtitle",4,"ngIf"],[1,"custom-card-text-subtitle"],[1,"custom-card-client-content"],[1,"sinovad-item-progress-bar-container"],[1,"sinovad-item-progress-bar-content"],["class","custom-card-text-title",4,"ngIf"],[1,"custom-card-profile-content"],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],[1,"sinovad-initials-profile"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(le,G){1&le&&(t.YNc(0,B,2,2,"ng-template",0),t.YNc(1,z,2,0,"ng-template",0)),2&le&&(t.Q6J("ngIf",!G.loadingConnection),t.xp6(1),t.Q6J("ngIf",G.loadingConnection))},dependencies:[c.sg,c.O5,d.Ou,f.Z,c.Ov,g.A],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:650px!important}.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px;max-width:950px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}td[_ngcontent-%COMP%]{font-size:13px;padding:6px}div[_ngcontent-%COMP%]{font-size:13px}span[_ngcontent-%COMP%]{font-size:13px!important}.custom-card[_ngcontent-%COMP%]{display:block;color:#fff;width:280px;background-color:#00000026}.custom-card[_ngcontent-%COMP%]   .custom-card-item-content[_ngcontent-%COMP%]{display:flex}.custom-card[_ngcontent-%COMP%]   .custom-card-item-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:120px}.custom-card[_ngcontent-%COMP%]   .custom-card-item-content-right[_ngcontent-%COMP%]{padding:20px;display:block}.custom-card[_ngcontent-%COMP%]   .custom-card-text-subtitle[_ngcontent-%COMP%]{color:#ffffff73;margin-top:4px}.items-playing-title[_ngcontent-%COMP%]{font-size:20px}.custom-card-client-content[_ngcontent-%COMP%]{background-color:#2d3744}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#000}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:#007bff;height:100%}.custom-card-profile-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px}.sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;margin-left:10px;font-size:20px;margin-right:10px}.sinovad-initials-profile[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;border:1px solid white;display:flex;align-items:center;justify-content:center;font-size:30px}.cards-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;width:100%;color:#fff}.playback-container[_ngcontent-%COMP%]{border-top:1px solid #dedede}"]})}return ae})()},8923:(Wn,et,p)=>{"use strict";p.d(et,{k:()=>P});var e=p(7700),t=p(5879),v=p(6814);const b=function(C){return{disabled:C}};let P=(()=>{class C{constructor(i,c){this.dialog=i,this.options=c}closeDialog(){this.dialog.close(!1)}confirmDialog(){this.dialog.close(!0)}ngOnInit(){}static#e=this.\u0275fac=function(c){return new(c||C)(t.Y36(e.so),t.Y36(e.WI))};static#t=this.\u0275cmp=t.Xpm({type:C,selectors:[["app-custom-confirm-dialog"]],decls:24,vars:6,consts:[[1,"modal-container"],["role","document",1,"modal-dialog"],[1,"modal-backdrop"],[1,"modal-small"],[1,"modal-content"],[1,"modal-content-close-button",3,"click"],[1,"fa-solid","fa-xmark"],["mat-dialog-title","",1,"modal-header"],["mat-dialog-content","",1,"confirm-modal-body"],[1,"inner-modal-body"],[1,"confirm-modal-accord-label"],["type","checkbox",1,"confirm-message-accord-input"],["checkBox",""],["mat-dialog-actions","",1,"modal-footer"],[1,"modal-footer-button-bar"],[1,"confirm-modal-button","cancel",3,"click"],[1,"confirm-modal-button","confirm",3,"ngClass","click"],[1,"spinner-button-label"]],template:function(c,d){if(1&c&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),t.NdJ("click",function(){return d.closeDialog()}),t._UZ(6,"i",6),t.qZA(),t.TgZ(7,"div",7),t._uU(8),t.qZA(),t.TgZ(9,"div",8)(10,"div",9)(11,"p"),t._uU(12),t.qZA(),t.TgZ(13,"label",10),t._UZ(14,"input",11,12),t._uU(16),t.qZA()()(),t.TgZ(17,"div",13)(18,"div",14)(19,"button",15),t.NdJ("click",function(){return d.closeDialog()}),t._uU(20,"Cancelar"),t.qZA(),t.TgZ(21,"button",16),t.NdJ("click",function(){return d.confirmDialog()}),t.TgZ(22,"span",17),t._uU(23,"Eliminar"),t.qZA()()()()()()()()()),2&c){const f=t.MAs(15);t.xp6(8),t.hij(" ",d.options.title," "),t.xp6(4),t.Oqu(d.options.message),t.xp6(4),t.hij("",d.options.accordMessage," "),t.xp6(5),t.Q6J("ngClass",t.VKq(4,b,!f.checked))}},dependencies:[v.mk,e.uh,e.xY,e.H8],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return C})()},9604:(Wn,et,p)=>{"use strict";p.d(et,{dA:()=>m,fJ:()=>c});var e=p(6814),t=p(5879),v=p(2939);function b(d,f){1&d&&t._UZ(0,"i",4)}function _(d,f){1&d&&t._UZ(0,"i",5)}function P(d,f){1&d&&t._UZ(0,"i",6)}const C=function(d,f,g){return{success:d,info:f,error:g}};var m=function(d){return d[d.Success=1]="Success",d[d.Error=2]="Error",d[d.Info=3]="Info",d}(m||{});let c=(()=>{class d{constructor(g){this.toastOptions=g,this.snackBarRef=(0,t.f3M)(v.OX)}SnackBarType(){return m}static#e=this.\u0275fac=function(S){return new(S||d)(t.Y36(v.qD))};static#t=this.\u0275cmp=t.Xpm({type:d,selectors:[["app-custom-snack-bar"]],standalone:!0,features:[t.jDz],decls:5,vars:9,consts:[[1,"custom-toast",3,"ngClass"],["class","fa-solid fa-circle-check me-2",4,"ngIf"],["class","fa-solid fa-circle-info me-2",4,"ngIf"],["class","fa-solid fa-circle-xmark me-2",4,"ngIf"],[1,"fa-solid","fa-circle-check","me-2"],[1,"fa-solid","fa-circle-info","me-2"],[1,"fa-solid","fa-circle-xmark","me-2"]],template:function(S,x){1&S&&(t.TgZ(0,"div",0),t.YNc(1,b,1,0,"i",1),t.YNc(2,_,1,0,"i",2),t.YNc(3,P,1,0,"i",3),t._uU(4),t.qZA()),2&S&&(t.Q6J("ngClass",t.kEZ(5,C,x.toastOptions.snackBarType==x.SnackBarType().Success,x.toastOptions.snackBarType==x.SnackBarType().Info,x.toastOptions.snackBarType==x.SnackBarType().Error)),t.xp6(1),t.Q6J("ngIf",x.toastOptions.snackBarType==x.SnackBarType().Success),t.xp6(1),t.Q6J("ngIf",x.toastOptions.snackBarType==x.SnackBarType().Info),t.xp6(1),t.Q6J("ngIf",x.toastOptions.snackBarType==x.SnackBarType().Error),t.xp6(1),t.hij(" ",x.toastOptions.message,"\n"))},dependencies:[v.ZX,e.ez,e.mk,e.O5],styles:[".custom-toast[_ngcontent-%COMP%]{background:transparent;font-weight:500;width:100%;height:100%;display:flex;align-items:center}.custom-toast[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0;font-size:23px}.custom-toast.success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:green}.custom-toast.error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red}.custom-toast.info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#00f}"]})}return d})()},5220:(Wn,et,p)=>{"use strict";p.d(et,{D:()=>b});var e=p(5879),t=p(6814);function v(_,P){1&_&&(e.TgZ(0,"div")(1,"div")(2,"div",1)(3,"div",2)(4,"div",3),e._UZ(5,"div")(6,"div")(7,"div")(8,"div")(9,"div")(10,"div")(11,"div")(12,"div")(13,"div")(14,"div")(15,"div")(16,"div"),e.qZA()()()()())}let b=(()=>{class _{constructor(C,m){this.ref=C,this.viewContainerRef=m,this.showLoading=!1}ngOnInit(){}ngAfterViewInit(){}static#e=this.\u0275fac=function(m){return new(m||_)(e.Y36(e.sBO),e.Y36(e.s_b))};static#t=this.\u0275cmp=e.Xpm({type:_,selectors:[["app-custom-spinner"]],inputs:{showLoading:"showLoading"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"spinner-container"],[1,"sinovad-spinner-container"],[1,"lds-spinner"]],template:function(m,i){1&m&&e.YNc(0,v,17,0,"div",0),2&m&&e.Q6J("ngIf",i.showLoading)},dependencies:[t.O5],styles:['.spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;z-index:999;justify-content:center;background:rgba(0,0,0,.5)}.lds-spinner[_ngcontent-%COMP%]{color:official;display:inline-block;position:relative;width:80px;height:80px}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{transform-origin:40px 40px;animation:_ngcontent-%COMP%_lds-spinner 1.2s linear infinite}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;top:3px;left:37px;width:6px;height:18px;border-radius:20%;background:#fff}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0);animation-delay:-1.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg);animation-delay:-1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg);animation-delay:-.9s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg);animation-delay:-.8s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg);animation-delay:-.7s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg);animation-delay:-.6s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg);animation-delay:-.5s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg);animation-delay:-.4s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg);animation-delay:-.3s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg);animation-delay:-.2s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg);animation-delay:-.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg);animation-delay:0s}@keyframes _ngcontent-%COMP%_lds-spinner{0%{opacity:1}to{opacity:0}}']})}return _})()},8777:(Wn,et,p)=>{"use strict";p.d(et,{g:()=>g});var e=p(5879),t=p(863),v=p(4440),b=p.n(v),_=p(9429);let P=(()=>{class S{constructor(A){this.restProvider=A}getDirectoriesByMediaServer(A){return new Promise((N,O)=>{this.restProvider.executeHttpMethodByUrl(t.yw.GET,A+"/api/directories").then(D=>{N(D)},D=>{console.error(D),O(D)})})}getSubdirectoriesByMediaServerAndDirectoryPath(A,N){return new Promise((O,D)=>{var I=b().encode(N);this.restProvider.executeHttpMethodByUrl(t.yw.GET,A+"/api/directories/"+I).then(T=>{O(T)},T=>{console.error(T),D(T)})})}static#e=this.\u0275fac=function(N){return new(N||S)(e.LFG(_.C))};static#t=this.\u0275prov=e.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();var C=p(8726),m=p(6814);const i=function(S){return{"sinovad-directory-selected":S}};function c(S,x){if(1&S){const A=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){const D=e.CHM(A).$implicit,I=e.oxw();return e.KtG(I.onClickMainDirectory(D))}),e._uU(1),e.qZA()}if(2&S){const A=x.$implicit,N=e.oxw();e.Q6J("ngClass",e.VKq(2,i,N.selectedMainDirectory&&A.Name==N.selectedMainDirectory.Name)),e.xp6(1),e.hij(" ",A.Name," ")}}function d(S,x){if(1&S){const A=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(A);const O=e.oxw();return e.KtG(O.onClickBackFolder())}),e._uU(1," <= .. [Regresar] "),e.qZA()}}function f(S,x){if(1&S){const A=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){const D=e.CHM(A).$implicit,I=e.oxw();return e.KtG(I.onClickSubDirectory(D))}),e._uU(1),e.qZA()}if(2&S){const A=x.$implicit,N=e.oxw();e.Q6J("ngClass",e.VKq(2,i,N.selectedSubdirectory&&A.Name==N.selectedSubdirectory.Name)),e.xp6(1),e.hij(" ",A.Name," ")}}let g=(()=>{class S{constructor(A,N){this.directoryService=A,this.activeModal=N,this.listMainDirectories=[],this.listSubdirectoriesTmp=[]}ngOnInit(){this.getDirectories()}getDirectories(){this.directoryService.getDirectoriesByMediaServer(this.mediaServer.Url).then(A=>{this.listMainDirectories=JSON.parse(A);let N=this.listMainDirectories[0];this.selectedMainDirectory=N,this.getSubdirectoriesByPath(N)})}getSubdirectoriesByPath(A){this.directoryService.getSubdirectoriesByMediaServerAndDirectoryPath(this.mediaServer.Url,A.Path).then(N=>{this.listSubdirectoriesTmp=JSON.parse(N)},N=>{console.error(N)})}saveDirectory(){this.activeModal.close(this.getCurrentPath())}getCurrentPath(){return this.selectedSubdirectory?this.selectedSubdirectory.Path:this.selectedMainDirectory.Path}closeModal(){this.activeModal.dismiss()}onClickBackFolder(){this.selectedSubdirectory.ParentDirectory.IsMainDirectory?(this.selectedSubdirectory=void 0,this.getSubdirectoriesByPath(this.selectedMainDirectory)):(this.selectedSubdirectory=this.selectedSubdirectory.ParentDirectory,this.getSubdirectoriesByPath(this.selectedSubdirectory))}onClickMainDirectory(A){this.selectedMainDirectory=A,this.getSubdirectoriesByPath(this.selectedMainDirectory)}onClickSubDirectory(A){if(null==this.selectedSubdirectory)this.selectedSubdirectory=A,this.selectedSubdirectory.ParentDirectory=this.selectedMainDirectory;else{let N=JSON.parse(JSON.stringify(this.selectedSubdirectory));this.selectedSubdirectory=A,this.selectedSubdirectory.ParentDirectory=N}this.getSubdirectoriesByPath(this.selectedSubdirectory)}static#e=this.\u0275fac=function(N){return new(N||S)(e.Y36(P),e.Y36(C.Kz))};static#t=this.\u0275cmp=e.Xpm({type:S,selectors:[["app-directory-chooser"]],inputs:{mediaServer:"mediaServer"},decls:17,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[1,"sinovad-directory-chooser-content"],[1,"sinovad-main-directories-section"],["ngFor","",3,"ngForOf"],[1,"sinovad-subdirectories-section"],["class","sinovad-subdirectory-option",3,"click",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"sinovad-main-directory-option",3,"ngClass","click"],[1,"sinovad-subdirectory-option",3,"click"],[1,"sinovad-subdirectory-option",3,"ngClass","click"]],template:function(N,O){1&N&&(e.TgZ(0,"div",0)(1,"h5",1),e._uU(2,"Seleccionar directorio"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return O.closeModal()}),e._UZ(4,"i",3),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"div",6),e.YNc(8,c,2,4,"ng-template",7),e.qZA(),e.TgZ(9,"div",8),e.YNc(10,d,2,0,"button",9),e.YNc(11,f,2,4,"ng-template",7),e.qZA()()(),e.TgZ(12,"div",10)(13,"button",11),e.NdJ("click",function(){return O.closeModal()}),e._uU(14,"Close"),e.qZA(),e.TgZ(15,"button",12),e.NdJ("click",function(){return O.saveDirectory()}),e._uU(16,"Guardar"),e.qZA()()),2&N&&(e.xp6(8),e.Q6J("ngForOf",O.listMainDirectories),e.xp6(2),e.Q6J("ngIf",O.selectedSubdirectory),e.xp6(1),e.Q6J("ngForOf",O.listSubdirectoriesTmp))},dependencies:[m.mk,m.sg,m.O5],styles:["[_nghost-%COMP%]{background:rgba(17,17,17,.65);padding:20px}.modal-body[_ngcontent-%COMP%]{height:100%;display:flex}.sinovad-directory-chooser-container[_ngcontent-%COMP%]{display:block;background-color:#282828;color:#000;width:400px;height:500px;border:1px solid #dedede;border-radius:5px;padding:20px}.sinovad-main-directories-section[_ngcontent-%COMP%]{display:block;width:50%;padding-right:20px}.sinovad-subdirectories-section[_ngcontent-%COMP%]{display:block;width:50%;overflow-x:hidden;overflow-y:auto;padding-left:10px;height:100%}.sinovad-directory-chooser-content[_ngcontent-%COMP%]{display:flex;width:100%;background:black}.sinovad-main-directory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-main-directory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-subdirectory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-subdirectory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-directory-chooser-header[_ngcontent-%COMP%]{display:block;float:right;width:100%}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;background:transparent;border:0;outline:none;cursor:pointer;font-size:20px;color:#fff;opacity:.7}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-directory-selected[_ngcontent-%COMP%]{border-left:4px solid #007bff;padding-left:6px;background-color:#ffffff0d;opacity:1}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]{display:inline-block;width:100%}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   .sinovad-directory-chooser-footer-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;color:#fff;background:#F18307;border:none;border-radius:5px;font-weight:700;cursor:pointer}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]{display:inline-block;padding:10px 0;width:100%;height:50px}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border-radius:5px;width:100%;padding:6px 10px}"]})}return S})()},3630:(Wn,et,p)=>{"use strict";p.d(et,{y:()=>g});var e=p(5879),t=p(5908),v=p(5731),b=p(1367),_=p(6814),P=p(1531);function C(S,x){if(1&S&&(e.TgZ(0,"div",23)(1,"div",24),e._UZ(2,"div",25),e.qZA()()),2&S){const A=e.oxw().$implicit,N=e.MAs(2),O=e.oxw(3);e.xp6(1),e.Udp("width",N.clientWidth-8+"px"),e.xp6(1),e.Udp("width",O.getWidthProgressItem(A))}}function m(S,x){if(1&S&&(e.TgZ(0,"div",26)(1,"span"),e._uU(2),e.qZA()()),2&S){const A=e.oxw().$implicit;e.xp6(2),e.Oqu(A.Title)}}function i(S,x){if(1&S&&(e.TgZ(0,"div")(1,"div",27)(2,"span"),e._uU(3),e.qZA()()()),2&S){const A=e.oxw().$implicit;e.xp6(3),e.AsE("",A.Title," ",A.Subtitle,"")}}function c(S,x){if(1&S){const A=e.EpF();e.TgZ(0,"div",16)(1,"button",17,18),e.NdJ("click",function(){const D=e.CHM(A).$implicit,I=e.oxw(3);return e.KtG(I.onClickItem(D))}),e._UZ(3,"img",19),e.YNc(4,C,3,4,"ng-template",20),e.qZA(),e.YNc(5,m,3,1,"div",21),e.YNc(6,i,4,2,"div",22),e.qZA()}if(2&S){const A=x.$implicit,N=e.oxw(2).$implicit,O=e.oxw();e.xp6(1),e.hYB("id","item_",N.Id,"_",A.MediaItemId,""),e.xp6(2),e.Q6J("src",O.commonService.getUrlByItemMovieDataBase(A),e.LSH),e.xp6(1),e.Q6J("ngIf",A.CurrentTime&&A.DurationTime),e.xp6(1),e.Q6J("ngIf",!A.Subtitle),e.xp6(1),e.Q6J("ngIf",A.Subtitle)}}function d(S,x){if(1&S){const A=e.EpF();e.TgZ(0,"section",3)(1,"div",4)(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"div",5)(5,"div",6)(6,"div",7,8),e.NdJ("click",function(){e.CHM(A);const O=e.MAs(12),D=e.MAs(7),I=e.MAs(18),T=e.oxw(2);return e.KtG(T.onClickButtonLeftScroll(O,D,I))}),e._UZ(8,"img",9),e.ALo(9,"async"),e.ALo(10,"formatDataPipe"),e.qZA()(),e.TgZ(11,"div",10,11)(13,"div",12,13),e.YNc(15,c,7,6,"ng-template",1),e.qZA()(),e.TgZ(16,"div",6)(17,"div",14,15),e.NdJ("click",function(){e.CHM(A);const O=e.MAs(12),D=e.MAs(7),I=e.MAs(18),T=e.oxw(2);return e.KtG(T.onClickButtonRightScroll(O,D,I))}),e._UZ(19,"img",9),e.ALo(20,"async"),e.ALo(21,"formatDataPipe"),e.qZA()()()()}if(2&S){const A=e.oxw().$implicit;e.MGl("id","section_",A.Id,""),e.xp6(3),e.Oqu(A.Name),e.xp6(5),e.Q6J("src",e.lcZ(9,5,e.xi3(10,7,"scroll-left.png","GetIconURLByKey")),e.LSH),e.xp6(7),e.Q6J("ngForOf",A.ListItems),e.xp6(4),e.Q6J("src",e.lcZ(20,10,e.xi3(21,12,"scroll-right.png","GetIconURLByKey")),e.LSH)}}function f(S,x){if(1&S&&e.YNc(0,d,22,15,"section",2),2&S){const A=x.$implicit;e.Q6J("ngIf",A.ListItems&&A.ListItems.length>0)}}let g=(()=>{class S{constructor(A,N,O,D,I){this.activeRoute=A,this.router=N,this.ref=O,this.commonService=D,this.sharedDataService=I,this.itemsGroupList=[]}getWidthProgressItem(A){return A.CurrentTime/A.DurationTime*100+"%"}onClickButtonLeftScroll(A,N,O){A.scrollLeft=A.scrollLeft-300,this.verifyIfShoOrHiddenScrollButtons(A,N,O)}onClickButtonRightScroll(A,N,O){A.scrollLeft=A.scrollLeft+300,this.verifyIfShoOrHiddenScrollButtons(A,N,O)}verifyIfShoOrHiddenScrollButtons(A,N,O){N.style.display=A.scrollLeft<=0?"none":"flex",O.style.display=A.scrollWidth==A.scrollLeft+A.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(A,N,O){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(A,N,O)},250)}onClickItem(A){A.ContinueVideo?this.continueVideoByItem(A):this.getMediaItemDetail(A)}getMediaItemDetail(A){var N=this.sharedDataService.mediaServers.find(O=>O.Id==A.MediaServerId);this.router.navigateByUrl("/media/server/"+N.Guid+"/libraries/"+A.LibraryId+"/detail?mediaType="+A.MediaTypeId+"&mediaId="+A.MediaItemId)}continueVideoByItem(A){var N=this.sharedDataService.mediaServers.find(O=>O.Id==A.MediaServerId);this.router.navigateByUrl("/media/server/"+N.Guid+"/video/"+A.FileId)}static#e=this.\u0275fac=function(N){return new(N||S)(e.Y36(t.gz),e.Y36(t.F0),e.Y36(e.sBO),e.Y36(v.v),e.Y36(b.g))};static#t=this.\u0275cmp=e.Xpm({type:S,selectors:[["app-media-items"]],inputs:{itemsGroupList:"itemsGroupList"},decls:2,vars:3,consts:[[1,"sinovad-list-container","sinovad-custom-container"],["ngFor","",3,"ngForOf"],["tabindex","0",3,"id",4,"ngIf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-title"],[1,"sinovad-list-row-container"],[2,"width","0px","height","0px"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[3,"src"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["itemContainer",""],["referrerpolicy","no-referrer","onError","this.src='assets/img/no-image-available.jpg'",3,"src"],[3,"ngIf"],["class","sinovad-item-caption-container",4,"ngIf"],[4,"ngIf"],[1,"sinovad-item-progress-bar-absolute-container"],[1,"sinovad-item-progress-bar-container"],[1,"sinovad-item-progress-bar-content"],[1,"sinovad-item-caption-container"],[1,"sinovad-item-title-caption-container"]],template:function(N,O){1&N&&(e.TgZ(0,"div",0),e.YNc(1,f,1,1,"ng-template",1),e.qZA()),2&N&&(e.Udp("height","100%"),e.xp6(1),e.Q6J("ngForOf",O.itemsGroupList))},dependencies:[_.sg,_.O5,_.Ov,P.A],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovadclient-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:9999;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}.sinovadclient-title-section[_ngcontent-%COMP%]{margin:10px 10px 10px 16px;font-size:30px;font-weight:700}.sinovadclient-section[_ngcontent-%COMP%]{margin:10px}.sinovad-item-container[_ngcontent-%COMP%]{padding-right:10px;width:min-content;margin:6px;border-radius:6px}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#000;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-vertical-list-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;overflow-y:auto;overflow-x:hidden}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-item-title-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-item-subtitle-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:400;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-list-container[_ngcontent-%COMP%]{padding:20px;overflow-x:hidden;overflow-y:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:220px;top:6px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;font-family:sans-serif;padding:0 0 0 8px}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:220px;top:6px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover, .sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2);opacity:.6}.sinovad-item-progress-bar-absolute-container[_ngcontent-%COMP%]{width:0px;height:0px;margin-bottom:9px}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:-9px;margin-left:4px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%]{display:none!important}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:170px;width:170px;height:220px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:20px}@media only screen and (min-width: 2048px){.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return S})()},1444:(Wn,et,p)=>{"use strict";p.d(et,{Z:()=>t});var e=p(5879);let t=(()=>{class v{constructor(){}static#e=this.\u0275fac=function(P){return new(P||v)};static#t=this.\u0275cmp=e.Xpm({type:v,selectors:[["app-server-connection-error"]],inputs:{mediaServer:"mediaServer"},decls:5,vars:1,consts:[[1,"server-error-page-container"],[1,"server-error-page-content"],[1,"server-error-message-title"],[1,"server-error-message-description"]],template:function(P,C){1&P&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3),e.qZA(),e._UZ(4,"div",3),e.qZA()()),2&P&&(e.xp6(3),e.hij(" No se puede conectar a ",C.mediaServer.FamilyName?C.mediaServer.FamilyName:C.mediaServer.DeviceName," "))}})}return v})()},9223:(Wn,et,p)=>{"use strict";p.d(et,{_:()=>t});var e=p(5879);let t=(()=>{class v{constructor(_){this.elementRef=_,this.clickOutside=new e.vpe}ngOnInit(){}ngAfterViewInit(){}onClick(_,P){P&&(this.elementRef.nativeElement.contains(P)||this.clickOutside.emit(_))}onContextMenu(){console.log("contextmenu")}static#e=this.\u0275fac=function(P){return new(P||v)(e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:v,selectors:[["","clickOutside",""]],hostBindings:function(P,C){1&P&&e.NdJ("click",function(i){return C.onClick(i,i.target)},!1,e.Jf7)("contextmenu",function(){return C.onContextMenu()})},outputs:{clickOutside:"clickOutside"}})}return v})()},863:(Wn,et,p)=>{"use strict";p.d(et,{DD:()=>v,DM:()=>i,Ln:()=>b,NK:()=>d,O5:()=>m,P9:()=>e,jP:()=>c,yw:()=>C});var e=function(f){return f[f.MediaServerState=1]="MediaServerState",f[f.MediaType=2]="MediaType",f[f.VideoTransmissionType=3]="VideoTransmissionType",f[f.TranscoderPreset=4]="TranscoderPreset",f[f.IconTypes=5]="IconTypes",f[f.LinkedAccountProvider=6]="LinkedAccountProvider",f}(e||{}),v=function(f){return f[f.Movie=1]="Movie",f[f.TvSerie=2]="TvSerie",f[f.Music=3]="Music",f[f.Photo=4]="Photo",f[f.Other=5]="Other",f}(v||{}),b=function(f){return f[f.None=1]="None",f[f.MPEGDASH=2]="MPEGDASH",f[f.HLS=3]="HLS",f}(b||{}),C=function(f){return f[f.GET=0]="GET",f[f.POST=1]="POST",f[f.PUT=2]="PUT",f[f.DELETE=3]="DELETE",f}(C||{}),m=function(f){return f[f.Empty=0]="Empty",f[f.Generated=1]="Generated",f[f.Initialized=2]="Initialized",f[f.LoadedMetada=3]="LoadedMetada",f[f.LoadedData=4]="LoadedData",f}(m||{}),i=function(f){return f[f.SinovadDb=1]="SinovadDb",f[f.TMDb=2]="TMDb",f[f.IMDb=3]="IMDb",f}(i||{}),c=function(f){return f[f.Google=1]="Google",f[f.Facebook=2]="Facebook",f[f.Apple=3]="Apple",f}(c||{}),d=function(f){return f[f.Ok=1]="Ok",f[f.Plus=2]="Plus",f[f.Bin=3]="Bin",f[f.Bullhorn=4]="Bullhorn",f[f.Tags=5]="Tags",f}(d||{})},5550:(Wn,et,p)=>{"use strict";p.d(et,{n:()=>e});class e{isErrorState(v,b){return!!(v&&v.invalid&&(v.dirty||v.touched||b&&b.submitted))}}},2877:(Wn,et,p)=>{"use strict";p.d(et,{G:()=>v});var e=p(8337),t=p(5313);class v{constructor(_){this.matPaginatorIntl=_,this.showLoading=!0,this.dataSource=new t.by,this.selection=new e.Ov(!0,[]),this.itemsPerPage=10,this.currentPage=1,this.listItems=[],this.sortBy="Id",this.sortDirection="asc",this.searchText="",this.searchBy="",this.matPaginatorIntl.itemsPerPageLabel="Items por p\xe1gina",this.matPaginatorIntl.previousPageLabel="P\xe1gina anterior",this.matPaginatorIntl.nextPageLabel="P\xe1gina siguiente"}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}updatePageData(_){this.itemsPerPage=_.pageSize,this.currentPage=_.pageIndex+1}getElementNumber(_,P,C){return _+1+(P-1)*C}onChangeCheckValue(_,P){let C=_.target.checked;if(C?this.selection.select(P):this.selection.deselect(P),_.shiftKey&&this.lastSelectedItem){let i=0;this.selection.hasValue()&&this.lastSelectedItem&&(i=this.listItems.indexOf(this.lastSelectedItem));let c=this.listItems.indexOf(P);if(C){var m;(m=this.listItems.filter(c>=i?d=>this.listItems.indexOf(d)<=c&&this.listItems.indexOf(d)>=i&&!this.selection.isSelected(d):d=>this.listItems.indexOf(d)>=c&&this.listItems.indexOf(d)<=i&&!this.selection.isSelected(d)))&&m.length>0&&this.selection.select(...m)}else{let d=[];d=this.listItems.filter(c>=i?f=>this.listItems.indexOf(f)<=c&&this.listItems.indexOf(f)>=i&&this.selection.isSelected(f):f=>this.listItems.indexOf(f)>=c&&this.listItems.indexOf(f)<=i&&this.selection.isSelected(f)),d&&d.length>0&&this.selection.deselect(...d)}}this.lastSelectedItem=P}}},1531:(Wn,et,p)=>{"use strict";p.d(et,{A:()=>b});var e=p(5879),t=p(6593),v=p(1367);let b=(()=>{class _{constructor(C,m){this.domSanitizer=C,this.sharedDataService=m}transform(C,...m){return new Promise((i,c)=>{let f;switch(null!=m[0]?m[0]:""){case"GetIconURLByKey":null!=C&&""!=C&&(f=this.sharedDataService.configurationData.developerMode?"assets/icon/"+C:this.sharedDataService.urlSinovadCdn+"/assets/icon/"+C,i(f));break;case"GetAvatarImageURLByProfileId":null!=C&&""!=C&&fetch(this.sharedDataService.urlSinovadStreamWebApi+"/api/v1/documents/GetAvatarProfile/"+C).then(S=>S.blob()).then(S=>{f=this.domSanitizer.bypassSecurityTrustUrl(URL.createObjectURL(S)),i(f)});break;case"GetSoundUrlByKey":null!=C&&""!=C&&(f=this.sharedDataService.configurationData.developerMode?"assets/sound/"+C:this.sharedDataService.urlSinovadCdn+"/assets/sound/"+C,i(f))}})}static#e=this.\u0275fac=function(m){return new(m||_)(e.Y36(t.H7,16),e.Y36(v.g,16))};static#t=this.\u0275pipe=e.Yjl({name:"formatDataPipe",type:_,pure:!0})}return _})()},3931:(Wn,et,p)=>{"use strict";p.d(et,{c:()=>b});var e=p(2939),t=p(9604),v=p(5879);let b=(()=>{class _{constructor(C){this.snackBar=C}showSnackBar(C,m){var i=new e.u_;i.duration=2e3,i.data={message:C,snackBarType:m},this.snackBar.openFromComponent(t.fJ,i)}static#e=this.\u0275fac=function(m){return new(m||_)(v.LFG(e.ux))};static#t=this.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},7102:(Wn,et,p)=>{"use strict";p.d(et,{m:()=>ke});var e=p(6814),t=p(1476),v=p(7700),b=p(2939),_=p(5313),P=p(2032),C=p(4170),m=p(3566),i=p(5986),c=p(5940),d=p(2596),f=p(3680),g=p(8525),S=p(8034),x=p(5879);let pe=(()=>{class he{static#e=this.\u0275fac=function(Oe){return new(Oe||he)};static#t=this.\u0275mod=x.oAB({type:he});static#n=this.\u0275inj=x.cJS({imports:[f.BQ,e.ez,f.BQ]})}return he})(),Ae=(()=>{class he{static#e=this.\u0275fac=function(Oe){return new(Oe||he)};static#t=this.\u0275mod=x.oAB({type:he});static#n=this.\u0275inj=x.cJS({imports:[e.ez,t.TU,v.Is,b.ZX,_.p0,P.c,C.lN,m.JX,i.p9,c.Cq,d.AV,f.Ng,g.LD,S.FA,f.XK,pe,t.TU,v.Is,b.ZX,_.p0,P.c,C.lN,m.JX,i.p9,c.Cq,d.AV,f.Ng,g.LD,S.FA,f.XK,pe]})}return he})(),ke=(()=>{class he{static#e=this.\u0275fac=function(Oe){return new(Oe||he)};static#t=this.\u0275mod=x.oAB({type:he});static#n=this.\u0275inj=x.cJS({imports:[e.ez,Ae,e.ez,Ae]})}return he})()},5731:(Wn,et,p)=>{"use strict";p.d(et,{v:()=>b});var e=p(863),t=p(5879),v=p(1367);let b=(()=>{class _{constructor(C){this.sharedDataService=C}checkIfIsEnableMenuOptionByPath(C){var m=!1;for(let i=0;i<this.sharedDataService.manageMenus.length;i++){const c=this.sharedDataService.manageMenus[i];if(c.ChildMenus&&-1!=c.ChildMenus.findIndex(d=>d.Path&&d.Path.includes(C))){m=!0;break}}return m}formatDate(C){const m=new Date(C);let i=""+(m.getMonth()+1),c=""+m.getDate();const d=m.getFullYear();return i.length<2&&(i="0"+i),c.length<2&&(c="0"+c),[d,i,c].join("-")}getInitials(C){return C.FullName.substring(0,1)}delay(C){return new Promise(m=>setTimeout(m,C))}hasRequireErrorFormControl(C,m){return!!C.controls[m].errors.required}isInvalidFormControl(C,m){return!(!C.controls[m].invalid||!C.controls[m].dirty&&!C.controls[m].touched)}hasErrorPatternFormControl(C,m){return!!C.controls[m].errors.pattern}isSmallDevice(){return window.innerWidth<=768}isMobileDevice(){return"ontouchstart"in window}getUrlByItemMovieDataBase(C){if(C.MetadataAgentsId==e.DM.TMDb)return this.sharedDataService.originalUrlImagesMovieDataBase+C.PosterPath;if(C.PosterPath)return C.PosterPath;var m=this.sharedDataService.mediaServers.find(i=>i.Id==C.MediaServerId);return m?m.Url+"/media/"+C.MediaFileGuid+"/thumbnail.png":"assets/img/no-image-available.jpg"}isHttpsSite(){return!!window.location.origin.startsWith("https")}static#e=this.\u0275fac=function(m){return new(m||_)(t.LFG(v.g))};static#t=this.\u0275prov=t.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},9429:(Wn,et,p)=>{"use strict";p.d(et,{C:()=>_});var e=p(9862),t=p(863),v=p(5879),b=p(1367);let _=(()=>{class P{constructor(m,i){this.http=m,this.sharedDataService=i}performExecuteMethod(m,i,c){return new Promise((d,f)=>{try{let g={responseType:"text"};if(this.sharedDataService.apiToken){const x=new e.WM({"Content-Type":"application/json",Authorization:"Bearer "+this.sharedDataService.apiToken});g.headers=x}m==t.yw.GET&&this.http.get(i,g).subscribe(S=>{d(S)},S=>{f(S)}),m==t.yw.POST&&this.http.post(i,c,g).subscribe(S=>{d(S)},S=>{f(S)}),m==t.yw.PUT&&this.http.put(i,c,g).subscribe(S=>{d(S)},S=>{f(S)}),m==t.yw.DELETE&&this.http.delete(i,g).subscribe(S=>{d(S)},S=>{f(S)})}catch(g){f(g)}})}executeSinovadApiService(m,i,c){let d=this.sharedDataService.urlSinovadStreamWebApi+"/api/v1"+i;return new Promise((f,g)=>{try{this.performExecuteMethod(m,d,c).then(S=>{f(JSON.parse(S))},S=>{let x=S;if(null!=S.error){x=S.error;try{var A=JSON.parse(x);if(A.errors){let O=A.errors,D=[];Object.keys(O).map(I=>{var T=O[I].join("\n");D.push(T)}),x=D.join("\n")}else A.Errors?x=A.Errors.map(O=>O.ErrorMessage).join("\n"):A.Message&&(x=A.Message)}catch{}}401==S.status&&this.sharedDataService.apiToken&&(this.sharedDataService.apiToken=void 0,localStorage.removeItem("apiToken"),window.location.href="/"),console.error(x),g(x)})}catch(S){g(S)}})}executeHttpMediaServerApi(m,i,c){return new Promise((d,f)=>{try{this.performExecuteMethod(m,i,c).then(g=>{try{d(JSON.parse(g))}catch(S){f(S)}},g=>{f(g)})}catch(g){f(g)}})}executeHttpMethodByUrl(m,i,c){return new Promise((d,f)=>{this.performExecuteMethod(m,i,c).then(g=>{d(g)},g=>{f(g)})})}executeHttpPostMethodWithFormData(m,i){let c=this.sharedDataService.urlSinovadStreamWebApi+"/api/v1"+m;return new Promise((d,f)=>{let g={responseType:"text"};if(this.sharedDataService.apiToken){const x=new e.WM({Accept:"*/*",Authorization:"Bearer "+this.sharedDataService.apiToken});g.headers=x}this.http.post(c,i,g).subscribe(S=>{d(S)},S=>{f(S)})})}static#e=this.\u0275fac=function(i){return new(i||P)(v.LFG(e.eN),v.LFG(b.g))};static#t=this.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},1367:(Wn,et,p)=>{"use strict";p.d(et,{g:()=>v});class e{}var t=p(5879);let v=(()=>{class b{constructor(){this.showSplashScreen=!0,this.urlSinovadStreamWebApi="https://streamapi.sinovad.com",this.urlSinovadCdn="https://resources.sinovad.com/stream/web",this.originalUrlImagesMovieDataBase="https://image.tmdb.org/t/p/w600_and_h900_bestv2",this.urlEpisodeDataBase="https://www.themoviedb.org/t/p/w454_and_h254_bestv2",this.configurationData=new e,this.listProfiles=[],this.manageMenus=[],this.mediaServers=[],this.linkedAccounts=[]}static#e=this.\u0275fac=function(C){return new(C||b)};static#t=this.\u0275prov=t.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})()},7541:(Wn,et,p)=>{"use strict";p.d(et,{n:()=>yt});const e=[0,2e3,1e4,3e4,null];class t{constructor(fe){this._retryDelays=void 0!==fe?[...fe,null]:e}nextRetryDelayInMilliseconds(fe){return this._retryDelays[fe.previousRetryCount]}}var v=p(5861);let b=(()=>{class Dt{}return Dt.Authorization="Authorization",Dt.Cookie="Cookie",Dt})();class _{constructor(fe,ze,Tt){this.statusCode=fe,this.statusText=ze,this.content=Tt}}class P{get(fe,ze){return this.send({...ze,method:"GET",url:fe})}post(fe,ze){return this.send({...ze,method:"POST",url:fe})}delete(fe,ze){return this.send({...ze,method:"DELETE",url:fe})}getCookieString(fe){return""}}class C extends P{constructor(fe,ze){super(),this._innerClient=fe,this._accessTokenFactory=ze}send(fe){var ze=this;return(0,v.Z)(function*(){let Tt=!0;ze._accessTokenFactory&&(!ze._accessToken||fe.url&&fe.url.indexOf("/negotiate?")>0)&&(Tt=!1,ze._accessToken=yield ze._accessTokenFactory()),ze._setAuthorizationHeader(fe);const Kt=yield ze._innerClient.send(fe);return Tt&&401===Kt.statusCode&&ze._accessTokenFactory?(ze._accessToken=yield ze._accessTokenFactory(),ze._setAuthorizationHeader(fe),yield ze._innerClient.send(fe)):Kt})()}_setAuthorizationHeader(fe){fe.headers||(fe.headers={}),this._accessToken?fe.headers[b.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&fe.headers[b.Authorization]&&delete fe.headers[b.Authorization]}getCookieString(fe){return this._innerClient.getCookieString(fe)}}class m extends Error{constructor(fe,ze){const Tt=new.target.prototype;super(`${fe}: Status code '${ze}'`),this.statusCode=ze,this.__proto__=Tt}}class i extends Error{constructor(fe="A timeout occurred."){const ze=new.target.prototype;super(fe),this.__proto__=ze}}class c extends Error{constructor(fe="An abort occurred."){const ze=new.target.prototype;super(fe),this.__proto__=ze}}class d extends Error{constructor(fe,ze){const Tt=new.target.prototype;super(fe),this.transport=ze,this.errorType="UnsupportedTransportError",this.__proto__=Tt}}class f extends Error{constructor(fe,ze){const Tt=new.target.prototype;super(fe),this.transport=ze,this.errorType="DisabledTransportError",this.__proto__=Tt}}class g extends Error{constructor(fe,ze){const Tt=new.target.prototype;super(fe),this.transport=ze,this.errorType="FailedToStartTransportError",this.__proto__=Tt}}class S extends Error{constructor(fe){const ze=new.target.prototype;super(fe),this.errorType="FailedToNegotiateWithServerError",this.__proto__=ze}}class x extends Error{constructor(fe,ze){const Tt=new.target.prototype;super(fe),this.innerErrors=ze,this.__proto__=Tt}}var A=function(Dt){return Dt[Dt.Trace=0]="Trace",Dt[Dt.Debug=1]="Debug",Dt[Dt.Information=2]="Information",Dt[Dt.Warning=3]="Warning",Dt[Dt.Error=4]="Error",Dt[Dt.Critical=5]="Critical",Dt[Dt.None=6]="None",Dt}(A||{});class N{constructor(){}log(fe,ze){}}N.instance=new N;const O="7.0.10";class D{static isRequired(fe,ze){if(null==fe)throw new Error(`The '${ze}' argument is required.`)}static isNotEmpty(fe,ze){if(!fe||fe.match(/^\s*$/))throw new Error(`The '${ze}' argument should not be empty.`)}static isIn(fe,ze,Tt){if(!(fe in ze))throw new Error(`Unknown ${Tt} value: ${fe}.`)}}class I{static get isBrowser(){return"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return"object"==typeof self&&"importScripts"in self}static get isReactNative(){return"object"==typeof window&&typeof window.document>"u"}static get isNode(){return!this.isBrowser&&!this.isWebWorker&&!this.isReactNative}}function T(Dt,fe){let ze="";return y(Dt)?(ze=`Binary data of length ${Dt.byteLength}`,fe&&(ze+=`. Content: '${function L(Dt){const fe=new Uint8Array(Dt);let ze="";return fe.forEach(Tt=>{ze+=`0x${Tt<16?"0":""}${Tt.toString(16)} `}),ze.substr(0,ze.length-1)}(Dt)}'`)):"string"==typeof Dt&&(ze=`String data of length ${Dt.length}`,fe&&(ze+=`. Content: '${Dt}'`)),ze}function y(Dt){return Dt&&typeof ArrayBuffer<"u"&&(Dt instanceof ArrayBuffer||Dt.constructor&&"ArrayBuffer"===Dt.constructor.name)}function B(Dt,fe,ze,Tt,Kt,Jt){return z.apply(this,arguments)}function z(){return(z=(0,v.Z)(function*(Dt,fe,ze,Tt,Kt,Jt){const qt={},[un,fn]=Y();qt[un]=fn,Dt.log(A.Trace,`(${fe} transport) sending data. ${T(Kt,Jt.logMessageContent)}.`);const wt=y(Kt)?"arraybuffer":"text",vt=yield ze.post(Tt,{content:Kt,headers:{...qt,...Jt.headers},responseType:wt,timeout:Jt.timeout,withCredentials:Jt.withCredentials});Dt.log(A.Trace,`(${fe} transport) request complete. Response status: ${vt.statusCode}.`)})).apply(this,arguments)}class ae{constructor(fe,ze){this._subject=fe,this._observer=ze}dispose(){const fe=this._subject.observers.indexOf(this._observer);fe>-1&&this._subject.observers.splice(fe,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(ze=>{})}}class Fe{constructor(fe){this._minLevel=fe,this.out=console}log(fe,ze){if(fe>=this._minLevel){const Tt=`[${(new Date).toISOString()}] ${A[fe]}: ${ze}`;switch(fe){case A.Critical:case A.Error:this.out.error(Tt);break;case A.Warning:this.out.warn(Tt);break;case A.Information:this.out.info(Tt);break;default:this.out.log(Tt)}}}}function Y(){let Dt="X-SignalR-User-Agent";return I.isNode&&(Dt="User-Agent"),[Dt,le(O,G(),I.isNode?"NodeJS":"Browser",Se())]}function le(Dt,fe,ze,Tt){let Kt="Microsoft SignalR/";const Jt=Dt.split(".");return Kt+=`${Jt[0]}.${Jt[1]}`,Kt+=` (${Dt}; `,Kt+=fe&&""!==fe?`${fe}; `:"Unknown OS; ",Kt+=`${ze}`,Kt+=Tt?`; ${Tt}`:"; Unknown Runtime Version",Kt+=")",Kt}function G(){if(!I.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function Se(){if(I.isNode)return process.versions.node}function ge(Dt){return Dt.stack?Dt.stack:Dt.message?Dt.message:`${Dt}`}class Ce extends P{constructor(fe){if(super(),this._logger=fe,typeof fetch>"u"){const ze=require;this._jar=new(ze("tough-cookie").CookieJar),this._fetchType=ze("node-fetch"),this._fetchType=ze("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function Ie(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}());if(typeof AbortController>"u"){const ze=require;this._abortControllerType=ze("abort-controller")}else this._abortControllerType=AbortController}send(fe){var ze=this;return(0,v.Z)(function*(){if(fe.abortSignal&&fe.abortSignal.aborted)throw new c;if(!fe.method)throw new Error("No method defined.");if(!fe.url)throw new Error("No url defined.");const Tt=new ze._abortControllerType;let Kt;fe.abortSignal&&(fe.abortSignal.onabort=()=>{Tt.abort(),Kt=new c});let qt,Jt=null;fe.timeout&&(Jt=setTimeout(()=>{Tt.abort(),ze._logger.log(A.Warning,"Timeout from HTTP request."),Kt=new i},fe.timeout)),""===fe.content&&(fe.content=void 0),fe.content&&(fe.headers=fe.headers||{},fe.headers["Content-Type"]=y(fe.content)?"application/octet-stream":"text/plain;charset=UTF-8");try{qt=yield ze._fetchType(fe.url,{body:fe.content,cache:"no-cache",credentials:!0===fe.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...fe.headers},method:fe.method,mode:"cors",redirect:"follow",signal:Tt.signal})}catch(wt){throw Kt||(ze._logger.log(A.Warning,`Error from HTTP request. ${wt}.`),wt)}finally{Jt&&clearTimeout(Jt),fe.abortSignal&&(fe.abortSignal.onabort=null)}if(!qt.ok){const wt=yield pe(qt,"text");throw new m(wt||qt.statusText,qt.status)}const fn=yield pe(qt,fe.responseType);return new _(qt.status,qt.statusText,fn)})()}getCookieString(fe){let ze="";return I.isNode&&this._jar&&this._jar.getCookies(fe,(Tt,Kt)=>ze=Kt.join("; ")),ze}}function pe(Dt,fe){let ze;switch(fe){case"arraybuffer":ze=Dt.arrayBuffer();break;case"text":default:ze=Dt.text();break;case"blob":case"document":case"json":throw new Error(`${fe} is not supported.`)}return ze}class Ae extends P{constructor(fe){super(),this._logger=fe}send(fe){return fe.abortSignal&&fe.abortSignal.aborted?Promise.reject(new c):fe.method?fe.url?new Promise((ze,Tt)=>{const Kt=new XMLHttpRequest;Kt.open(fe.method,fe.url,!0),Kt.withCredentials=void 0===fe.withCredentials||fe.withCredentials,Kt.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===fe.content&&(fe.content=void 0),fe.content&&(y(fe.content)?Kt.setRequestHeader("Content-Type","application/octet-stream"):Kt.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const Jt=fe.headers;Jt&&Object.keys(Jt).forEach(qt=>{Kt.setRequestHeader(qt,Jt[qt])}),fe.responseType&&(Kt.responseType=fe.responseType),fe.abortSignal&&(fe.abortSignal.onabort=()=>{Kt.abort(),Tt(new c)}),fe.timeout&&(Kt.timeout=fe.timeout),Kt.onload=()=>{fe.abortSignal&&(fe.abortSignal.onabort=null),Kt.status>=200&&Kt.status<300?ze(new _(Kt.status,Kt.statusText,Kt.response||Kt.responseText)):Tt(new m(Kt.response||Kt.responseText||Kt.statusText,Kt.status))},Kt.onerror=()=>{this._logger.log(A.Warning,`Error from HTTP request. ${Kt.status}: ${Kt.statusText}.`),Tt(new m(Kt.statusText,Kt.status))},Kt.ontimeout=()=>{this._logger.log(A.Warning,"Timeout from HTTP request."),Tt(new i)},Kt.send(fe.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class ke extends P{constructor(fe){if(super(),typeof fetch<"u"||I.isNode)this._httpClient=new Ce(fe);else{if(!(typeof XMLHttpRequest<"u"))throw new Error("No usable HttpClient found.");this._httpClient=new Ae(fe)}}send(fe){return fe.abortSignal&&fe.abortSignal.aborted?Promise.reject(new c):fe.method?fe.url?this._httpClient.send(fe):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(fe){return this._httpClient.getCookieString(fe)}}var he=function(Dt){return Dt[Dt.None=0]="None",Dt[Dt.WebSockets=1]="WebSockets",Dt[Dt.ServerSentEvents=2]="ServerSentEvents",Dt[Dt.LongPolling=4]="LongPolling",Dt}(he||{}),we=function(Dt){return Dt[Dt.Text=1]="Text",Dt[Dt.Binary=2]="Binary",Dt}(we||{});class Te{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}}class Oe{constructor(fe,ze,Tt){this._httpClient=fe,this._logger=ze,this._pollAbort=new Te,this._options=Tt,this._running=!1,this.onreceive=null,this.onclose=null}get pollAborted(){return this._pollAbort.aborted}connect(fe,ze){var Tt=this;return(0,v.Z)(function*(){if(D.isRequired(fe,"url"),D.isRequired(ze,"transferFormat"),D.isIn(ze,we,"transferFormat"),Tt._url=fe,Tt._logger.log(A.Trace,"(LongPolling transport) Connecting."),ze===we.Binary&&typeof XMLHttpRequest<"u"&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[Kt,Jt]=Y(),qt={[Kt]:Jt,...Tt._options.headers},un={abortSignal:Tt._pollAbort.signal,headers:qt,timeout:1e5,withCredentials:Tt._options.withCredentials};ze===we.Binary&&(un.responseType="arraybuffer");const fn=`${fe}&_=${Date.now()}`;Tt._logger.log(A.Trace,`(LongPolling transport) polling: ${fn}.`);const wt=yield Tt._httpClient.get(fn,un);200!==wt.statusCode?(Tt._logger.log(A.Error,`(LongPolling transport) Unexpected response code: ${wt.statusCode}.`),Tt._closeError=new m(wt.statusText||"",wt.statusCode),Tt._running=!1):Tt._running=!0,Tt._receiving=Tt._poll(Tt._url,un)})()}_poll(fe,ze){var Tt=this;return(0,v.Z)(function*(){try{for(;Tt._running;)try{const Kt=`${fe}&_=${Date.now()}`;Tt._logger.log(A.Trace,`(LongPolling transport) polling: ${Kt}.`);const Jt=yield Tt._httpClient.get(Kt,ze);204===Jt.statusCode?(Tt._logger.log(A.Information,"(LongPolling transport) Poll terminated by server."),Tt._running=!1):200!==Jt.statusCode?(Tt._logger.log(A.Error,`(LongPolling transport) Unexpected response code: ${Jt.statusCode}.`),Tt._closeError=new m(Jt.statusText||"",Jt.statusCode),Tt._running=!1):Jt.content?(Tt._logger.log(A.Trace,`(LongPolling transport) data received. ${T(Jt.content,Tt._options.logMessageContent)}.`),Tt.onreceive&&Tt.onreceive(Jt.content)):Tt._logger.log(A.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(Kt){Tt._running?Kt instanceof i?Tt._logger.log(A.Trace,"(LongPolling transport) Poll timed out, reissuing."):(Tt._closeError=Kt,Tt._running=!1):Tt._logger.log(A.Trace,`(LongPolling transport) Poll errored after shutdown: ${Kt.message}`)}}finally{Tt._logger.log(A.Trace,"(LongPolling transport) Polling complete."),Tt.pollAborted||Tt._raiseOnClose()}})()}send(fe){var ze=this;return(0,v.Z)(function*(){return ze._running?B(ze._logger,"LongPolling",ze._httpClient,ze._url,fe,ze._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){var fe=this;return(0,v.Z)(function*(){fe._logger.log(A.Trace,"(LongPolling transport) Stopping polling."),fe._running=!1,fe._pollAbort.abort();try{yield fe._receiving,fe._logger.log(A.Trace,`(LongPolling transport) sending DELETE request to ${fe._url}.`);const ze={},[Tt,Kt]=Y();ze[Tt]=Kt;const Jt={headers:{...ze,...fe._options.headers},timeout:fe._options.timeout,withCredentials:fe._options.withCredentials};yield fe._httpClient.delete(fe._url,Jt),fe._logger.log(A.Trace,"(LongPolling transport) DELETE request sent.")}finally{fe._logger.log(A.Trace,"(LongPolling transport) Stop finished."),fe._raiseOnClose()}})()}_raiseOnClose(){if(this.onclose){let fe="(LongPolling transport) Firing onclose event.";this._closeError&&(fe+=" Error: "+this._closeError),this._logger.log(A.Trace,fe),this.onclose(this._closeError)}}}class Ve{constructor(fe,ze,Tt,Kt){this._httpClient=fe,this._accessToken=ze,this._logger=Tt,this._options=Kt,this.onreceive=null,this.onclose=null}connect(fe,ze){var Tt=this;return(0,v.Z)(function*(){return D.isRequired(fe,"url"),D.isRequired(ze,"transferFormat"),D.isIn(ze,we,"transferFormat"),Tt._logger.log(A.Trace,"(SSE transport) Connecting."),Tt._url=fe,Tt._accessToken&&(fe+=(fe.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(Tt._accessToken)}`),new Promise((Kt,Jt)=>{let un,qt=!1;if(ze===we.Text){if(I.isBrowser||I.isWebWorker)un=new Tt._options.EventSource(fe,{withCredentials:Tt._options.withCredentials});else{const fn=Tt._httpClient.getCookieString(fe),wt={};wt.Cookie=fn;const[vt,it]=Y();wt[vt]=it,un=new Tt._options.EventSource(fe,{withCredentials:Tt._options.withCredentials,headers:{...wt,...Tt._options.headers}})}try{un.onmessage=fn=>{if(Tt.onreceive)try{Tt._logger.log(A.Trace,`(SSE transport) data received. ${T(fn.data,Tt._options.logMessageContent)}.`),Tt.onreceive(fn.data)}catch(wt){return void Tt._close(wt)}},un.onerror=fn=>{qt?Tt._close():Jt(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},un.onopen=()=>{Tt._logger.log(A.Information,`SSE connected to ${Tt._url}`),Tt._eventSource=un,qt=!0,Kt()}}catch(fn){return void Jt(fn)}}else Jt(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})})()}send(fe){var ze=this;return(0,v.Z)(function*(){return ze._eventSource?B(ze._logger,"SSE",ze._httpClient,ze._url,fe,ze._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){return this._close(),Promise.resolve()}_close(fe){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(fe))}}class ft{constructor(fe,ze,Tt,Kt,Jt,qt){this._logger=Tt,this._accessTokenFactory=ze,this._logMessageContent=Kt,this._webSocketConstructor=Jt,this._httpClient=fe,this.onreceive=null,this.onclose=null,this._headers=qt}connect(fe,ze){var Tt=this;return(0,v.Z)(function*(){let Kt;return D.isRequired(fe,"url"),D.isRequired(ze,"transferFormat"),D.isIn(ze,we,"transferFormat"),Tt._logger.log(A.Trace,"(WebSockets transport) Connecting."),Tt._accessTokenFactory&&(Kt=yield Tt._accessTokenFactory()),new Promise((Jt,qt)=>{let un;fe=fe.replace(/^http/,"ws");const fn=Tt._httpClient.getCookieString(fe);let wt=!1;if(I.isNode||I.isReactNative){const vt={},[it,He]=Y();vt[it]=He,Kt&&(vt[b.Authorization]=`Bearer ${Kt}`),fn&&(vt[b.Cookie]=fn),un=new Tt._webSocketConstructor(fe,void 0,{headers:{...vt,...Tt._headers}})}else Kt&&(fe+=(fe.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(Kt)}`);un||(un=new Tt._webSocketConstructor(fe)),ze===we.Binary&&(un.binaryType="arraybuffer"),un.onopen=vt=>{Tt._logger.log(A.Information,`WebSocket connected to ${fe}.`),Tt._webSocket=un,wt=!0,Jt()},un.onerror=vt=>{let it=null;it=typeof ErrorEvent<"u"&&vt instanceof ErrorEvent?vt.error:"There was an error with the transport",Tt._logger.log(A.Information,`(WebSockets transport) ${it}.`)},un.onmessage=vt=>{if(Tt._logger.log(A.Trace,`(WebSockets transport) data received. ${T(vt.data,Tt._logMessageContent)}.`),Tt.onreceive)try{Tt.onreceive(vt.data)}catch(it){return void Tt._close(it)}},un.onclose=vt=>{if(wt)Tt._close(vt);else{let it=null;it=typeof ErrorEvent<"u"&&vt instanceof ErrorEvent?vt.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",qt(new Error(it))}}})})()}send(fe){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(A.Trace,`(WebSockets transport) sending data. ${T(fe,this._logMessageContent)}.`),this._webSocket.send(fe),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(fe){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(A.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(fe)||!1!==fe.wasClean&&1e3===fe.code?fe instanceof Error?this.onclose(fe):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${fe.code} (${fe.reason||"no reason given"}).`)))}_isCloseEvent(fe){return fe&&"boolean"==typeof fe.wasClean&&"number"==typeof fe.code}}class Re{constructor(fe,ze={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,D.isRequired(fe,"url"),this._logger=function ne(Dt){return void 0===Dt?new Fe(A.Information):null===Dt?N.instance:void 0!==Dt.log?Dt:new Fe(Dt)}(ze.logger),this.baseUrl=this._resolveUrl(fe),(ze=ze||{}).logMessageContent=void 0!==ze.logMessageContent&&ze.logMessageContent,"boolean"!=typeof ze.withCredentials&&void 0!==ze.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");ze.withCredentials=void 0===ze.withCredentials||ze.withCredentials,ze.timeout=void 0===ze.timeout?1e5:ze.timeout;let Tt=null,Kt=null;if(I.isNode){const Jt=require;Tt=Jt("ws"),Kt=Jt("eventsource")}!I.isNode&&typeof WebSocket<"u"&&!ze.WebSocket?ze.WebSocket=WebSocket:I.isNode&&!ze.WebSocket&&Tt&&(ze.WebSocket=Tt),!I.isNode&&typeof EventSource<"u"&&!ze.EventSource?ze.EventSource=EventSource:I.isNode&&!ze.EventSource&&typeof Kt<"u"&&(ze.EventSource=Kt),this._httpClient=new C(ze.httpClient||new ke(this._logger),ze.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=ze,this.onreceive=null,this.onclose=null}start(fe){var ze=this;return(0,v.Z)(function*(){if(D.isIn(fe=fe||we.Binary,we,"transferFormat"),ze._logger.log(A.Debug,`Starting connection with transfer format '${we[fe]}'.`),"Disconnected"!==ze._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(ze._connectionState="Connecting",ze._startInternalPromise=ze._startInternal(fe),yield ze._startInternalPromise,"Disconnecting"===ze._connectionState){const Tt="Failed to start the HttpConnection before stop() was called.";return ze._logger.log(A.Error,Tt),yield ze._stopPromise,Promise.reject(new c(Tt))}if("Connected"!==ze._connectionState){const Tt="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return ze._logger.log(A.Error,Tt),Promise.reject(new c(Tt))}ze._connectionStarted=!0})()}send(fe){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new Q(this.transport)),this._sendQueue.send(fe))}stop(fe){var ze=this;return(0,v.Z)(function*(){return"Disconnected"===ze._connectionState?(ze._logger.log(A.Debug,`Call to HttpConnection.stop(${fe}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===ze._connectionState?(ze._logger.log(A.Debug,`Call to HttpConnection.stop(${fe}) ignored because the connection is already in the disconnecting state.`),ze._stopPromise):(ze._connectionState="Disconnecting",ze._stopPromise=new Promise(Tt=>{ze._stopPromiseResolver=Tt}),yield ze._stopInternal(fe),void(yield ze._stopPromise))})()}_stopInternal(fe){var ze=this;return(0,v.Z)(function*(){ze._stopError=fe;try{yield ze._startInternalPromise}catch{}if(ze.transport){try{yield ze.transport.stop()}catch(Tt){ze._logger.log(A.Error,`HttpConnection.transport.stop() threw error '${Tt}'.`),ze._stopConnection()}ze.transport=void 0}else ze._logger.log(A.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})()}_startInternal(fe){var ze=this;return(0,v.Z)(function*(){let Tt=ze.baseUrl;ze._accessTokenFactory=ze._options.accessTokenFactory,ze._httpClient._accessTokenFactory=ze._accessTokenFactory;try{if(ze._options.skipNegotiation){if(ze._options.transport!==he.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");ze.transport=ze._constructTransport(he.WebSockets),yield ze._startTransport(Tt,fe)}else{let Kt=null,Jt=0;do{if(Kt=yield ze._getNegotiationResponse(Tt),"Disconnecting"===ze._connectionState||"Disconnected"===ze._connectionState)throw new c("The connection was stopped during negotiation.");if(Kt.error)throw new Error(Kt.error);if(Kt.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(Kt.url&&(Tt=Kt.url),Kt.accessToken){const qt=Kt.accessToken;ze._accessTokenFactory=()=>qt,ze._httpClient._accessToken=qt,ze._httpClient._accessTokenFactory=void 0}Jt++}while(Kt.url&&Jt<100);if(100===Jt&&Kt.url)throw new Error("Negotiate redirection limit exceeded.");yield ze._createTransport(Tt,ze._options.transport,Kt,fe)}ze.transport instanceof Oe&&(ze.features.inherentKeepAlive=!0),"Connecting"===ze._connectionState&&(ze._logger.log(A.Debug,"The HttpConnection connected successfully."),ze._connectionState="Connected")}catch(Kt){return ze._logger.log(A.Error,"Failed to start the connection: "+Kt),ze._connectionState="Disconnected",ze.transport=void 0,ze._stopPromiseResolver(),Promise.reject(Kt)}})()}_getNegotiationResponse(fe){var ze=this;return(0,v.Z)(function*(){const Tt={},[Kt,Jt]=Y();Tt[Kt]=Jt;const qt=ze._resolveNegotiateUrl(fe);ze._logger.log(A.Debug,`Sending negotiation request: ${qt}.`);try{const un=yield ze._httpClient.post(qt,{content:"",headers:{...Tt,...ze._options.headers},timeout:ze._options.timeout,withCredentials:ze._options.withCredentials});if(200!==un.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${un.statusCode}'`));const fn=JSON.parse(un.content);return(!fn.negotiateVersion||fn.negotiateVersion<1)&&(fn.connectionToken=fn.connectionId),fn}catch(un){let fn="Failed to complete negotiation with the server: "+un;return un instanceof m&&404===un.statusCode&&(fn+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),ze._logger.log(A.Error,fn),Promise.reject(new S(fn))}})()}_createConnectUrl(fe,ze){return ze?fe+(-1===fe.indexOf("?")?"?":"&")+`id=${ze}`:fe}_createTransport(fe,ze,Tt,Kt){var Jt=this;return(0,v.Z)(function*(){let qt=Jt._createConnectUrl(fe,Tt.connectionToken);if(Jt._isITransport(ze))return Jt._logger.log(A.Debug,"Connection was provided an instance of ITransport, using that directly."),Jt.transport=ze,yield Jt._startTransport(qt,Kt),void(Jt.connectionId=Tt.connectionId);const un=[],fn=Tt.availableTransports||[];let wt=Tt;for(const vt of fn){const it=Jt._resolveTransportOrError(vt,ze,Kt);if(it instanceof Error)un.push(`${vt.transport} failed:`),un.push(it);else if(Jt._isITransport(it)){if(Jt.transport=it,!wt){try{wt=yield Jt._getNegotiationResponse(fe)}catch(He){return Promise.reject(He)}qt=Jt._createConnectUrl(fe,wt.connectionToken)}try{return yield Jt._startTransport(qt,Kt),void(Jt.connectionId=wt.connectionId)}catch(He){if(Jt._logger.log(A.Error,`Failed to start the transport '${vt.transport}': ${He}`),wt=void 0,un.push(new g(`${vt.transport} failed: ${He}`,he[vt.transport])),"Connecting"!==Jt._connectionState){const Ye="Failed to select transport before stop() was called.";return Jt._logger.log(A.Debug,Ye),Promise.reject(new c(Ye))}}}}return Promise.reject(un.length>0?new x(`Unable to connect to the server with any of the available transports. ${un.join(" ")}`,un):new Error("None of the transports supported by the client are supported by the server."))})()}_constructTransport(fe){switch(fe){case he.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new ft(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case he.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new Ve(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case he.LongPolling:return new Oe(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${fe}.`)}}_startTransport(fe,ze){return this.transport.onreceive=this.onreceive,this.transport.onclose=Tt=>this._stopConnection(Tt),this.transport.connect(fe,ze)}_resolveTransportOrError(fe,ze,Tt){const Kt=he[fe.transport];if(null==Kt)return this._logger.log(A.Debug,`Skipping transport '${fe.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${fe.transport}' because it is not supported by this client.`);if(!function be(Dt,fe){return!Dt||0!=(fe&Dt)}(ze,Kt))return this._logger.log(A.Debug,`Skipping transport '${he[Kt]}' because it was disabled by the client.`),new f(`'${he[Kt]}' is disabled by the client.`,Kt);if(!(fe.transferFormats.map(qt=>we[qt]).indexOf(Tt)>=0))return this._logger.log(A.Debug,`Skipping transport '${he[Kt]}' because it does not support the requested transfer format '${we[Tt]}'.`),new Error(`'${he[Kt]}' does not support ${we[Tt]}.`);if(Kt===he.WebSockets&&!this._options.WebSocket||Kt===he.ServerSentEvents&&!this._options.EventSource)return this._logger.log(A.Debug,`Skipping transport '${he[Kt]}' because it is not supported in your environment.'`),new d(`'${he[Kt]}' is not supported in your environment.`,Kt);this._logger.log(A.Debug,`Selecting transport '${he[Kt]}'.`);try{return this._constructTransport(Kt)}catch(qt){return qt}}_isITransport(fe){return fe&&"object"==typeof fe&&"connect"in fe}_stopConnection(fe){if(this._logger.log(A.Debug,`HttpConnection.stopConnection(${fe}) called while in state ${this._connectionState}.`),this.transport=void 0,fe=this._stopError||fe,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(A.Warning,`Call to HttpConnection.stopConnection(${fe}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${fe}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),fe?this._logger.log(A.Error,`Connection disconnected with error '${fe}'.`):this._logger.log(A.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(ze=>{this._logger.log(A.Error,`TransportSendQueue.stop() threw error '${ze}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(fe)}catch(ze){this._logger.log(A.Error,`HttpConnection.onclose(${fe}) threw error '${ze}'.`)}}}else this._logger.log(A.Debug,`Call to HttpConnection.stopConnection(${fe}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(fe){if(0===fe.lastIndexOf("https://",0)||0===fe.lastIndexOf("http://",0))return fe;if(!I.isBrowser)throw new Error(`Cannot resolve '${fe}'.`);const ze=window.document.createElement("a");return ze.href=fe,this._logger.log(A.Information,`Normalizing '${fe}' to '${ze.href}'.`),ze.href}_resolveNegotiateUrl(fe){const ze=fe.indexOf("?");let Tt=fe.substring(0,-1===ze?fe.length:ze);return"/"!==Tt[Tt.length-1]&&(Tt+="/"),Tt+="negotiate",Tt+=-1===ze?"":fe.substring(ze),-1===Tt.indexOf("negotiateVersion")&&(Tt+=-1===ze?"?":"&",Tt+="negotiateVersion="+this._negotiateVersion),Tt}}class Q{constructor(fe){this._transport=fe,this._buffer=[],this._executing=!0,this._sendBufferedData=new ie,this._transportResult=new ie,this._sendLoopPromise=this._sendLoop()}send(fe){return this._bufferData(fe),this._transportResult||(this._transportResult=new ie),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(fe){if(this._buffer.length&&typeof this._buffer[0]!=typeof fe)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof fe}`);this._buffer.push(fe),this._sendBufferedData.resolve()}_sendLoop(){var fe=this;return(0,v.Z)(function*(){for(;;){if(yield fe._sendBufferedData.promise,!fe._executing){fe._transportResult&&fe._transportResult.reject("Connection stopped.");break}fe._sendBufferedData=new ie;const ze=fe._transportResult;fe._transportResult=void 0;const Tt="string"==typeof fe._buffer[0]?fe._buffer.join(""):Q._concatBuffers(fe._buffer);fe._buffer.length=0;try{yield fe._transport.send(Tt),ze.resolve()}catch(Kt){ze.reject(Kt)}}})()}static _concatBuffers(fe){const ze=fe.map(Jt=>Jt.byteLength).reduce((Jt,qt)=>Jt+qt),Tt=new Uint8Array(ze);let Kt=0;for(const Jt of fe)Tt.set(new Uint8Array(Jt),Kt),Kt+=Jt.byteLength;return Tt.buffer}}class ie{constructor(){this.promise=new Promise((fe,ze)=>[this._resolver,this._rejecter]=[fe,ze])}resolve(){this._resolver()}reject(fe){this._rejecter(fe)}}class ye{static write(fe){return`${fe}${ye.RecordSeparator}`}static parse(fe){if(fe[fe.length-1]!==ye.RecordSeparator)throw new Error("Message is incomplete.");const ze=fe.split(ye.RecordSeparator);return ze.pop(),ze}}ye.RecordSeparatorCode=30,ye.RecordSeparator=String.fromCharCode(ye.RecordSeparatorCode);class oe{writeHandshakeRequest(fe){return ye.write(JSON.stringify(fe))}parseHandshakeResponse(fe){let ze,Tt;if(y(fe)){const un=new Uint8Array(fe),fn=un.indexOf(ye.RecordSeparatorCode);if(-1===fn)throw new Error("Message is incomplete.");const wt=fn+1;ze=String.fromCharCode.apply(null,Array.prototype.slice.call(un.slice(0,wt))),Tt=un.byteLength>wt?un.slice(wt).buffer:null}else{const un=fe,fn=un.indexOf(ye.RecordSeparator);if(-1===fn)throw new Error("Message is incomplete.");const wt=fn+1;ze=un.substring(0,wt),Tt=un.length>wt?un.substring(wt):null}const Kt=ye.parse(ze),Jt=JSON.parse(Kt[0]);if(Jt.type)throw new Error("Expected a handshake response from the server.");return[Tt,Jt]}}var ee=function(Dt){return Dt[Dt.Invocation=1]="Invocation",Dt[Dt.StreamItem=2]="StreamItem",Dt[Dt.Completion=3]="Completion",Dt[Dt.StreamInvocation=4]="StreamInvocation",Dt[Dt.CancelInvocation=5]="CancelInvocation",Dt[Dt.Ping=6]="Ping",Dt[Dt.Close=7]="Close",Dt}(ee||{});class X{constructor(){this.observers=[]}next(fe){for(const ze of this.observers)ze.next(fe)}error(fe){for(const ze of this.observers)ze.error&&ze.error(fe)}complete(){for(const fe of this.observers)fe.complete&&fe.complete()}subscribe(fe){return this.observers.push(fe),new ae(this,fe)}}var J=function(Dt){return Dt.Disconnected="Disconnected",Dt.Connecting="Connecting",Dt.Connected="Connected",Dt.Disconnecting="Disconnecting",Dt.Reconnecting="Reconnecting",Dt}(J||{});class q{constructor(fe,ze,Tt,Kt){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(A.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://docs.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},D.isRequired(fe,"connection"),D.isRequired(ze,"logger"),D.isRequired(Tt,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this._logger=ze,this._protocol=Tt,this.connection=fe,this._reconnectPolicy=Kt,this._handshakeProtocol=new oe,this.connection.onreceive=Jt=>this._processIncomingData(Jt),this.connection.onclose=Jt=>this._connectionClosed(Jt),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=J.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:ee.Ping})}static create(fe,ze,Tt,Kt){return new q(fe,ze,Tt,Kt)}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(fe){if(this._connectionState!==J.Disconnected&&this._connectionState!==J.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!fe)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=fe}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){var fe=this;return(0,v.Z)(function*(){if(fe._connectionState!==J.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));fe._connectionState=J.Connecting,fe._logger.log(A.Debug,"Starting HubConnection.");try{yield fe._startInternal(),I.isBrowser&&window.document.addEventListener("freeze",fe._freezeEventListener),fe._connectionState=J.Connected,fe._connectionStarted=!0,fe._logger.log(A.Debug,"HubConnection connected successfully.")}catch(ze){return fe._connectionState=J.Disconnected,fe._logger.log(A.Debug,`HubConnection failed to start successfully because of error '${ze}'.`),Promise.reject(ze)}})()}_startInternal(){var fe=this;return(0,v.Z)(function*(){fe._stopDuringStartError=void 0,fe._receivedHandshakeResponse=!1;const ze=new Promise((Tt,Kt)=>{fe._handshakeResolver=Tt,fe._handshakeRejecter=Kt});yield fe.connection.start(fe._protocol.transferFormat);try{const Tt={protocol:fe._protocol.name,version:fe._protocol.version};if(fe._logger.log(A.Debug,"Sending handshake request."),yield fe._sendMessage(fe._handshakeProtocol.writeHandshakeRequest(Tt)),fe._logger.log(A.Information,`Using HubProtocol '${fe._protocol.name}'.`),fe._cleanupTimeout(),fe._resetTimeoutPeriod(),fe._resetKeepAliveInterval(),yield ze,fe._stopDuringStartError)throw fe._stopDuringStartError;fe.connection.features.inherentKeepAlive||(yield fe._sendMessage(fe._cachedPingMessage))}catch(Tt){throw fe._logger.log(A.Debug,`Hub handshake failed with error '${Tt}' during start(). Stopping HubConnection.`),fe._cleanupTimeout(),fe._cleanupPingTimer(),yield fe.connection.stop(Tt),Tt}})()}stop(){var fe=this;return(0,v.Z)(function*(){const ze=fe._startPromise;fe._stopPromise=fe._stopInternal(),yield fe._stopPromise;try{yield ze}catch{}})()}_stopInternal(fe){return this._connectionState===J.Disconnected?(this._logger.log(A.Debug,`Call to HubConnection.stop(${fe}) ignored because it is already in the disconnected state.`),Promise.resolve()):this._connectionState===J.Disconnecting?(this._logger.log(A.Debug,`Call to HttpConnection.stop(${fe}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState=J.Disconnecting,this._logger.log(A.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(A.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=fe||new c("The connection was stopped before the hub handshake could complete."),this.connection.stop(fe)))}stream(fe,...ze){const[Tt,Kt]=this._replaceStreamingParams(ze),Jt=this._createStreamInvocation(fe,ze,Kt);let qt;const un=new X;return un.cancelCallback=()=>{const fn=this._createCancelInvocation(Jt.invocationId);return delete this._callbacks[Jt.invocationId],qt.then(()=>this._sendWithProtocol(fn))},this._callbacks[Jt.invocationId]=(fn,wt)=>{wt?un.error(wt):fn&&(fn.type===ee.Completion?fn.error?un.error(new Error(fn.error)):un.complete():un.next(fn.item))},qt=this._sendWithProtocol(Jt).catch(fn=>{un.error(fn),delete this._callbacks[Jt.invocationId]}),this._launchStreams(Tt,qt),un}_sendMessage(fe){return this._resetKeepAliveInterval(),this.connection.send(fe)}_sendWithProtocol(fe){return this._sendMessage(this._protocol.writeMessage(fe))}send(fe,...ze){const[Tt,Kt]=this._replaceStreamingParams(ze),Jt=this._sendWithProtocol(this._createInvocation(fe,ze,!0,Kt));return this._launchStreams(Tt,Jt),Jt}invoke(fe,...ze){const[Tt,Kt]=this._replaceStreamingParams(ze),Jt=this._createInvocation(fe,ze,!1,Kt);return new Promise((un,fn)=>{this._callbacks[Jt.invocationId]=(vt,it)=>{it?fn(it):vt&&(vt.type===ee.Completion?vt.error?fn(new Error(vt.error)):un(vt.result):fn(new Error(`Unexpected message type: ${vt.type}`)))};const wt=this._sendWithProtocol(Jt).catch(vt=>{fn(vt),delete this._callbacks[Jt.invocationId]});this._launchStreams(Tt,wt)})}on(fe,ze){!fe||!ze||(fe=fe.toLowerCase(),this._methods[fe]||(this._methods[fe]=[]),-1===this._methods[fe].indexOf(ze)&&this._methods[fe].push(ze))}off(fe,ze){if(!fe)return;fe=fe.toLowerCase();const Tt=this._methods[fe];if(Tt)if(ze){const Kt=Tt.indexOf(ze);-1!==Kt&&(Tt.splice(Kt,1),0===Tt.length&&delete this._methods[fe])}else delete this._methods[fe]}onclose(fe){fe&&this._closedCallbacks.push(fe)}onreconnecting(fe){fe&&this._reconnectingCallbacks.push(fe)}onreconnected(fe){fe&&this._reconnectedCallbacks.push(fe)}_processIncomingData(fe){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(fe=this._processHandshakeResponse(fe),this._receivedHandshakeResponse=!0),fe){const ze=this._protocol.parseMessages(fe,this._logger);for(const Tt of ze)switch(Tt.type){case ee.Invocation:this._invokeClientMethod(Tt);break;case ee.StreamItem:case ee.Completion:{const Kt=this._callbacks[Tt.invocationId];if(Kt){Tt.type===ee.Completion&&delete this._callbacks[Tt.invocationId];try{Kt(Tt)}catch(Jt){this._logger.log(A.Error,`Stream callback threw error: ${ge(Jt)}`)}}break}case ee.Ping:break;case ee.Close:{this._logger.log(A.Information,"Close message received from server.");const Kt=Tt.error?new Error("Server returned an error on close: "+Tt.error):void 0;!0===Tt.allowReconnect?this.connection.stop(Kt):this._stopPromise=this._stopInternal(Kt);break}default:this._logger.log(A.Warning,`Invalid message type: ${Tt.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(fe){let ze,Tt;try{[Tt,ze]=this._handshakeProtocol.parseHandshakeResponse(fe)}catch(Kt){const Jt="Error parsing handshake response: "+Kt;this._logger.log(A.Error,Jt);const qt=new Error(Jt);throw this._handshakeRejecter(qt),qt}if(ze.error){const Kt="Server returned handshake error: "+ze.error;this._logger.log(A.Error,Kt);const Jt=new Error(Kt);throw this._handshakeRejecter(Jt),Jt}return this._logger.log(A.Debug,"Server handshake complete."),this._handshakeResolver(),Tt}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){var fe=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let ze=this._nextKeepAlive-(new Date).getTime();ze<0&&(ze=0),this._pingServerHandle=setTimeout((0,v.Z)(function*(){if(fe._connectionState===J.Connected)try{yield fe._sendMessage(fe._cachedPingMessage)}catch{fe._cleanupPingTimer()}}),ze)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(fe){var ze=this;return(0,v.Z)(function*(){const Tt=fe.target.toLowerCase(),Kt=ze._methods[Tt];if(!Kt)return ze._logger.log(A.Warning,`No client method with the name '${Tt}' found.`),void(fe.invocationId&&(ze._logger.log(A.Warning,`No result given for '${Tt}' method and invocation ID '${fe.invocationId}'.`),yield ze._sendWithProtocol(ze._createCompletionMessage(fe.invocationId,"Client didn't provide a result.",null))));const Jt=Kt.slice(),qt=!!fe.invocationId;let un,fn,wt;for(const vt of Jt)try{const it=un;un=yield vt.apply(ze,fe.arguments),qt&&un&&it&&(ze._logger.log(A.Error,`Multiple results provided for '${Tt}'. Sending error to server.`),wt=ze._createCompletionMessage(fe.invocationId,"Client provided multiple results.",null)),fn=void 0}catch(it){fn=it,ze._logger.log(A.Error,`A callback for the method '${Tt}' threw error '${it}'.`)}wt?yield ze._sendWithProtocol(wt):qt?(fn?wt=ze._createCompletionMessage(fe.invocationId,`${fn}`,null):void 0!==un?wt=ze._createCompletionMessage(fe.invocationId,null,un):(ze._logger.log(A.Warning,`No result given for '${Tt}' method and invocation ID '${fe.invocationId}'.`),wt=ze._createCompletionMessage(fe.invocationId,"Client didn't provide a result.",null)),yield ze._sendWithProtocol(wt)):un&&ze._logger.log(A.Error,`Result given for '${Tt}' method but server is not expecting a result.`)})()}_connectionClosed(fe){this._logger.log(A.Debug,`HubConnection.connectionClosed(${fe}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||fe||new c("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(fe||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===J.Disconnecting?this._completeClose(fe):this._connectionState===J.Connected&&this._reconnectPolicy?this._reconnect(fe):this._connectionState===J.Connected&&this._completeClose(fe)}_completeClose(fe){if(this._connectionStarted){this._connectionState=J.Disconnected,this._connectionStarted=!1,I.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(ze=>ze.apply(this,[fe]))}catch(ze){this._logger.log(A.Error,`An onclose callback called with error '${fe}' threw error '${ze}'.`)}}}_reconnect(fe){var ze=this;return(0,v.Z)(function*(){const Tt=Date.now();let Kt=0,Jt=void 0!==fe?fe:new Error("Attempting to reconnect due to a unknown error."),qt=ze._getNextRetryDelay(Kt++,0,Jt);if(null===qt)return ze._logger.log(A.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void ze._completeClose(fe);if(ze._connectionState=J.Reconnecting,ze._logger.log(A.Information,fe?`Connection reconnecting because of error '${fe}'.`:"Connection reconnecting."),0!==ze._reconnectingCallbacks.length){try{ze._reconnectingCallbacks.forEach(un=>un.apply(ze,[fe]))}catch(un){ze._logger.log(A.Error,`An onreconnecting callback called with error '${fe}' threw error '${un}'.`)}if(ze._connectionState!==J.Reconnecting)return void ze._logger.log(A.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==qt;){if(ze._logger.log(A.Information,`Reconnect attempt number ${Kt} will start in ${qt} ms.`),yield new Promise(un=>{ze._reconnectDelayHandle=setTimeout(un,qt)}),ze._reconnectDelayHandle=void 0,ze._connectionState!==J.Reconnecting)return void ze._logger.log(A.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(yield ze._startInternal(),ze._connectionState=J.Connected,ze._logger.log(A.Information,"HubConnection reconnected successfully."),0!==ze._reconnectedCallbacks.length)try{ze._reconnectedCallbacks.forEach(un=>un.apply(ze,[ze.connection.connectionId]))}catch(un){ze._logger.log(A.Error,`An onreconnected callback called with connectionId '${ze.connection.connectionId}; threw error '${un}'.`)}return}catch(un){if(ze._logger.log(A.Information,`Reconnect attempt failed because of error '${un}'.`),ze._connectionState!==J.Reconnecting)return ze._logger.log(A.Debug,`Connection moved to the '${ze._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(ze._connectionState===J.Disconnecting&&ze._completeClose());Jt=un instanceof Error?un:new Error(un.toString()),qt=ze._getNextRetryDelay(Kt++,Date.now()-Tt,Jt)}}ze._logger.log(A.Information,`Reconnect retries have been exhausted after ${Date.now()-Tt} ms and ${Kt} failed attempts. Connection disconnecting.`),ze._completeClose()})()}_getNextRetryDelay(fe,ze,Tt){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:ze,previousRetryCount:fe,retryReason:Tt})}catch(Kt){return this._logger.log(A.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${fe}, ${ze}) threw error '${Kt}'.`),null}}_cancelCallbacksWithError(fe){const ze=this._callbacks;this._callbacks={},Object.keys(ze).forEach(Tt=>{const Kt=ze[Tt];try{Kt(null,fe)}catch(Jt){this._logger.log(A.Error,`Stream 'error' callback called with '${fe}' threw error: ${ge(Jt)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(fe,ze,Tt,Kt){if(Tt)return 0!==Kt.length?{arguments:ze,streamIds:Kt,target:fe,type:ee.Invocation}:{arguments:ze,target:fe,type:ee.Invocation};{const Jt=this._invocationId;return this._invocationId++,0!==Kt.length?{arguments:ze,invocationId:Jt.toString(),streamIds:Kt,target:fe,type:ee.Invocation}:{arguments:ze,invocationId:Jt.toString(),target:fe,type:ee.Invocation}}}_launchStreams(fe,ze){if(0!==fe.length){ze||(ze=Promise.resolve());for(const Tt in fe)fe[Tt].subscribe({complete:()=>{ze=ze.then(()=>this._sendWithProtocol(this._createCompletionMessage(Tt)))},error:Kt=>{let Jt;Jt=Kt instanceof Error?Kt.message:Kt&&Kt.toString?Kt.toString():"Unknown error",ze=ze.then(()=>this._sendWithProtocol(this._createCompletionMessage(Tt,Jt)))},next:Kt=>{ze=ze.then(()=>this._sendWithProtocol(this._createStreamItemMessage(Tt,Kt)))}})}}_replaceStreamingParams(fe){const ze=[],Tt=[];for(let Kt=0;Kt<fe.length;Kt++){const Jt=fe[Kt];if(this._isObservable(Jt)){const qt=this._invocationId;this._invocationId++,ze[qt]=Jt,Tt.push(qt.toString()),fe.splice(Kt,1)}}return[ze,Tt]}_isObservable(fe){return fe&&fe.subscribe&&"function"==typeof fe.subscribe}_createStreamInvocation(fe,ze,Tt){const Kt=this._invocationId;return this._invocationId++,0!==Tt.length?{arguments:ze,invocationId:Kt.toString(),streamIds:Tt,target:fe,type:ee.StreamInvocation}:{arguments:ze,invocationId:Kt.toString(),target:fe,type:ee.StreamInvocation}}_createCancelInvocation(fe){return{invocationId:fe,type:ee.CancelInvocation}}_createStreamItemMessage(fe,ze){return{invocationId:fe,item:ze,type:ee.StreamItem}}_createCompletionMessage(fe,ze,Tt){return ze?{error:ze,invocationId:fe,type:ee.Completion}:{invocationId:fe,result:Tt,type:ee.Completion}}}class xe{constructor(){this.name="json",this.version=1,this.transferFormat=we.Text}parseMessages(fe,ze){if("string"!=typeof fe)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!fe)return[];null===ze&&(ze=N.instance);const Tt=ye.parse(fe),Kt=[];for(const Jt of Tt){const qt=JSON.parse(Jt);if("number"!=typeof qt.type)throw new Error("Invalid payload.");switch(qt.type){case ee.Invocation:this._isInvocationMessage(qt);break;case ee.StreamItem:this._isStreamItemMessage(qt);break;case ee.Completion:this._isCompletionMessage(qt);break;case ee.Ping:case ee.Close:break;default:ze.log(A.Information,"Unknown message type '"+qt.type+"' ignored.");continue}Kt.push(qt)}return Kt}writeMessage(fe){return ye.write(JSON.stringify(fe))}_isInvocationMessage(fe){this._assertNotEmptyString(fe.target,"Invalid payload for Invocation message."),void 0!==fe.invocationId&&this._assertNotEmptyString(fe.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(fe){if(this._assertNotEmptyString(fe.invocationId,"Invalid payload for StreamItem message."),void 0===fe.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(fe){if(fe.result&&fe.error)throw new Error("Invalid payload for Completion message.");!fe.result&&fe.error&&this._assertNotEmptyString(fe.error,"Invalid payload for Completion message."),this._assertNotEmptyString(fe.invocationId,"Invalid payload for Completion message.")}_assertNotEmptyString(fe,ze){if("string"!=typeof fe||""===fe)throw new Error(ze)}}const Ee={trace:A.Trace,debug:A.Debug,info:A.Information,information:A.Information,warn:A.Warning,warning:A.Warning,error:A.Error,critical:A.Critical,none:A.None};class ct{configureLogging(fe){if(D.isRequired(fe,"logging"),function Xe(Dt){return void 0!==Dt.log}(fe))this.logger=fe;else if("string"==typeof fe){const ze=function Ge(Dt){const fe=Ee[Dt.toLowerCase()];if(typeof fe<"u")return fe;throw new Error(`Unknown log level: ${Dt}`)}(fe);this.logger=new Fe(ze)}else this.logger=new Fe(fe);return this}withUrl(fe,ze){return D.isRequired(fe,"url"),D.isNotEmpty(fe,"url"),this.url=fe,this.httpConnectionOptions="object"==typeof ze?{...this.httpConnectionOptions,...ze}:{...this.httpConnectionOptions,transport:ze},this}withHubProtocol(fe){return D.isRequired(fe,"protocol"),this.protocol=fe,this}withAutomaticReconnect(fe){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=fe?Array.isArray(fe)?new t(fe):fe:new t,this}build(){const fe=this.httpConnectionOptions||{};if(void 0===fe.logger&&(fe.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const ze=new Re(this.url,fe);return q.create(ze,this.logger||N.instance,this.protocol||new xe,this.reconnectPolicy)}}var tt=p(8645),gt=p(5879),Qe=p(1367);let yt=(()=>{class Dt{constructor(ze){this.sharedDataService=ze,this.addedMediaFilePlayBack$=new tt.x,this.removedMediaFilePlayBack$=new tt.x,this.updateCurrentTimeMediaFilePlayBack$=new tt.x,this.updateMediaServers$=new tt.x,this.enableMediaServerSubject$=new tt.x,this.disableMediaServerSubject$=new tt.x,this.updateLibrariesByMediaServerSubject$=new tt.x,this.updateItemsByMediaServerSubject$=new tt.x}updateMediaServers(){this.updateMediaServers$.next(!0)}isUpdatingMediaServers(){return this.updateMediaServers$.asObservable()}enableMediaServer(ze){this.enableMediaServerSubject$.next(ze)}isEnablingMediaServer(){return this.enableMediaServerSubject$.asObservable()}disableMediaServer(ze){this.disableMediaServerSubject$.next(ze)}isDisablingMediaServer(){return this.disableMediaServerSubject$.asObservable()}updateLibrariesByMediaServer(ze){this.updateLibrariesByMediaServerSubject$.next(ze)}isUpdatingLibrariesByMediaServer(){return this.updateLibrariesByMediaServerSubject$.asObservable()}updateItemsByMediaServer(ze){this.updateItemsByMediaServerSubject$.next(ze)}isUpdatingItemsByMediaServer(){return this.updateItemsByMediaServerSubject$.asObservable()}openConnection(){var ze=(new ct).withUrl(this.sharedDataService.urlSinovadStreamWebApi+"/mediaServerHub",{skipNegotiation:!0,transport:he.WebSockets}).build();this.sharedDataService.hubConnection=ze,this.tryStartHubConnection()}tryStartHubConnection(){let ze=this;this.sharedDataService.hubConnection.start().then(()=>{console.log("connection started"),ze.setEvents(this.sharedDataService.hubConnection),ze.sharedDataService.hubConnection.onclose(Tt=>{setTimeout(()=>{ze.sharedDataService.userData&&ze.tryStartHubConnection()},1e3,ze)})}).catch(Tt=>{console.error("error while establishing signalr connection: "+Tt),setTimeout(()=>{ze.tryStartHubConnection()},1e3,ze)})}stopConnection(){this.sharedDataService.hubConnection.off("UpdateCurrentTimeMediaFilePlayBack"),this.sharedDataService.hubConnection.off("AddedMediaFilePlayBack"),this.sharedDataService.hubConnection.off("RemovedMediaFilePlayBack"),this.sharedDataService.hubConnection.off("UpdateMediaServers"),this.sharedDataService.hubConnection.off("EnableMediaServer"),this.sharedDataService.hubConnection.off("DisableMediaServer"),this.sharedDataService.hubConnection.off("UpdateLibrariesByMediaServer"),this.sharedDataService.hubConnection.off("UpdateItemsByMediaServer"),this.sharedDataService.hubConnection.off("UpdateItemsByMediaServerAndLibrary"),this.sharedDataService.hubConnection.stop()}setEvents(ze){ze.on("UpdateMediaServers",Tt=>{this.updateMediaServers()}),ze.on("EnableMediaServer",Tt=>{var Kt=this.sharedDataService.mediaServers.find(Jt=>Jt.Guid==Tt);Kt.isSecureConnection||(Kt.isSecureConnection=!0),this.enableMediaServer(Tt)}),ze.on("DisableMediaServer",Tt=>{var Kt=this.sharedDataService.mediaServers.find(Jt=>Jt.Guid==Tt);Kt.isSecureConnection&&(Kt.isSecureConnection=!1),this.disableMediaServer(Tt)}),ze.on("UpdateLibrariesByMediaServer",Tt=>{this.updateLibrariesByMediaServer(Tt)}),ze.on("UpdateItemsByMediaServer",Tt=>{this.updateItemsByMediaServer(Tt)}),ze.on("UpdateCurrentTimeMediaFilePlayBack",(Tt,Kt,Jt,qt)=>{this.updateCurrentTimeMediaFilePlayBack$.next({mediaServerGuid:Tt,mediaFilePlaybackGuid:Kt,currentTime:Jt,isPlaying:qt})}),ze.on("AddedMediaFilePlayBack",(Tt,Kt)=>{this.addedMediaFilePlayBack$.next({mediaServerGuid:Tt,mediaFilePlaybackGuid:Kt})}),ze.on("RemovedMediaFilePlayBack",(Tt,Kt)=>{this.removedMediaFilePlayBack$.next({mediaServerGuid:Tt,mediaFilePlaybackGuid:Kt})}),ze.invoke("AddConnectionToUserClientsGroup",this.sharedDataService.userData.Guid).then(Tt=>{})}isRemovedMediaFilePlayback(){return this.removedMediaFilePlayBack$.asObservable()}isAddedMediaFilePlayback(){return this.addedMediaFilePlayBack$.asObservable()}removeMediaFilePlayBack(ze,Tt){let Kt=this;this.sharedDataService.hubConnection.send("RemoveMediaFilePlayBack",this.sharedDataService.userData.Guid,ze,Tt).then(Jt=>{},Jt=>{setTimeout(()=>{Kt.removeMediaFilePlayBack(ze,Tt)},1e3,Kt)})}removeLastTranscodedMediaFileProcess(ze,Tt){let Kt=this;this.sharedDataService.hubConnection.send("RemoveLastTranscodedMediaFileProcess",this.sharedDataService.userData.Guid,ze,Tt).then(Jt=>{},Jt=>{setTimeout(()=>{Kt.removeLastTranscodedMediaFileProcess(ze,Tt)},1e3,Kt)})}updateCurrentTimeMediaFilePlayBack(ze,Tt,Kt,Jt){this.sharedDataService.hubConnection.send("UpdateCurrentTimeMediaFilePlayBack",this.sharedDataService.userData.Guid,ze,Tt,Kt,Jt)}isUpdatingCurrentTimeMediaFilePlayBack(){return this.updateCurrentTimeMediaFilePlayBack$.asObservable()}static#e=this.\u0275fac=function(Tt){return new(Tt||Dt)(gt.LFG(Qe.g))};static#t=this.\u0275prov=gt.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})()},4998:(Wn,et,p)=>{"use strict";var e=p(6593),t=p(5879),v=p(9862),b=p(5908),_=p(2392);const P=(de,Z)=>{const F=(0,t.f3M)(b.F0);return null==localStorage.getItem("apiToken")||F.navigateByUrl("/home")};var C=p(95),m=p(5550),i=p(863);class c{}class d{}var f=p(1270),g=p(6878),S=p(9058),x=p(534),A=p(7879),N=p(4537),O=p(9429),D=p(8645),I=p(2096),T=p(5592),L=p(2459),y=p(3019),B=p(3093),z=p(4664),ne=p(7398),ae=p(940),Fe=p(1374),Y=p(4674);function le(de,Z){return(0,Y.m)(Z)?(0,z.w)(()=>de,Z):(0,z.w)(()=>de)}var G=p(5137),Se=p(2181),ce=p(8186),ge=p(6304),Ie=p(6814);p(3182);var X=p(5861);const $=new Map,re={activated:!1,tokenObservers:[]},J={initialized:!1,enabled:!1};function q(de){return $.get(de)||Object.assign({},re)}function xe(){return J}const Ee="https://content-firebaseappcheck.googleapis.com/v1",Xe="exchangeDebugToken",tt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Qe{constructor(Z,F,ue,je,xt){if(this.operation=Z,this.retryPolicy=F,this.getWaitDuration=ue,this.lowerBound=je,this.upperBound=xt,this.pending=null,this.nextErrorWaitInterval=je,je>xt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Z){var F=this;return(0,X.Z)(function*(){F.stop();try{F.pending=new S.BH,yield function yt(de){return new Promise(Z=>{setTimeout(Z,de)})}(F.getNextRun(Z)),F.pending.resolve(),yield F.pending.promise,F.pending=new S.BH,yield F.operation(),F.pending.resolve(),yield F.pending.promise,F.process(!0).catch(()=>{})}catch(ue){F.retryPolicy(ue)?F.process(!1).catch(()=>{}):F.stop()}})()}getNextRun(Z){if(Z)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const F=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),F}}}const fe=new S.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Tt(de){if(!q(de).activated)throw fe.create("use-before-activation",{appName:de.name})}function qt(de,Z){return un.apply(this,arguments)}function un(){return(un=(0,X.Z)(function*({url:de,body:Z},F){const ue={"Content-Type":"application/json"},je=F.getImmediate({optional:!0});if(je){const xi=yield je.getHeartbeatsHeader();xi&&(ue["X-Firebase-Client"]=xi)}const xt={method:"POST",body:JSON.stringify(Z),headers:ue};let rn,mn;try{rn=yield fetch(de,xt)}catch(xi){throw fe.create("fetch-network-error",{originalErrorMessage:xi?.message})}if(200!==rn.status)throw fe.create("fetch-status-error",{httpStatus:rn.status});try{mn=yield rn.json()}catch(xi){throw fe.create("fetch-parse-error",{originalErrorMessage:xi?.message})}const Pn=mn.ttl.match(/^([\d.]+)(s)$/);if(!Pn||!Pn[2]||isNaN(Number(Pn[1])))throw fe.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${mn.ttl}`});const Yn=1e3*Number(Pn[1]),gi=Date.now();return{token:mn.token,expireTimeMillis:gi+Yn,issuedAtTimeMillis:gi}})).apply(this,arguments)}function vt(de,Z){const{projectId:F,appId:ue,apiKey:je}=de.options;return{url:`${Ee}/projects/${F}/apps/${ue}:${Xe}?key=${je}`,body:{debug_token:Z}}}const it="firebase-app-check-database",He=1,Ye="firebase-app-check-store";let at=null;function Mn(){return(Mn=(0,X.Z)(function*(de,Z){const ue=(yield function St(){return at||(at=new Promise((de,Z)=>{try{const F=indexedDB.open(it,He);F.onsuccess=ue=>{de(ue.target.result)},F.onerror=ue=>{var je;Z(fe.create("storage-open",{originalErrorMessage:null===(je=ue.target.error)||void 0===je?void 0:je.message}))},F.onupgradeneeded=ue=>{0===ue.oldVersion&&ue.target.result.createObjectStore(Ye,{keyPath:"compositeKey"})}}catch(F){Z(fe.create("storage-open",{originalErrorMessage:F?.message}))}}),at)}()).transaction(Ye,"readwrite"),xt=ue.objectStore(Ye).put({compositeKey:de,value:Z});return new Promise((rn,mn)=>{xt.onsuccess=Pn=>{rn()},ue.onerror=Pn=>{var Yn;mn(fe.create("storage-set",{originalErrorMessage:null===(Yn=Pn.target.error)||void 0===Yn?void 0:Yn.message}))}})})).apply(this,arguments)}const ni=new A.Yd("@firebase/app-check");function yn(de,Z){return(0,S.hl)()?function At(de,Z){return function tn(de,Z){return Mn.apply(this,arguments)}(function $n(de){return`${de.options.appId}-${de.name}`}(de),Z)}(de,Z).catch(F=>{ni.warn(`Failed to write token to IndexedDB. Error: ${F}`)}):Promise.resolve()}function Mt(){return xe().enabled}function ht(){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,X.Z)(function*(){const de=xe();if(de.enabled&&de.token)return de.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ct={error:"UNKNOWN_ERROR"};function Qt(de){return S.US.encodeString(JSON.stringify(de),!1)}function Rt(de){return xn.apply(this,arguments)}function xn(){return(xn=(0,X.Z)(function*(de,Z=!1){const F=de.app;Tt(F);const ue=q(F);let xt,je=ue.token;if(je&&!Ut(je)&&(ue.token=void 0,je=void 0),!je){const Pn=yield ue.cachedTokenPromise;Pn&&(Ut(Pn)?je=Pn:yield yn(F,void 0))}if(!Z&&je&&Ut(je))return{token:je.token};let mn,rn=!1;if(Mt()){ue.exchangeTokenPromise||(ue.exchangeTokenPromise=qt(vt(F,yield ht()),de.heartbeatServiceProvider).finally(()=>{ue.exchangeTokenPromise=void 0}),rn=!0);const Pn=yield ue.exchangeTokenPromise;return yield yn(F,Pn),ue.token=Pn,{token:Pn.token}}try{ue.exchangeTokenPromise||(ue.exchangeTokenPromise=ue.provider.getToken().finally(()=>{ue.exchangeTokenPromise=void 0}),rn=!0),je=yield q(F).exchangeTokenPromise}catch(Pn){"appCheck/throttled"===Pn.code?ni.warn(Pn.message):ni.error(Pn),xt=Pn}return je?xt?mn=Ut(je)?{token:je.token,internalError:xt}:On(xt):(mn={token:je.token},ue.token=je,yield yn(F,je)):mn=On(xt),rn&&function Xn(de,Z){const F=q(de).tokenObservers;for(const ue of F)try{"EXTERNAL"===ue.type&&null!=Z.error?ue.error(Z.error):ue.next(Z)}catch{}}(F,mn),mn})).apply(this,arguments)}function kt(de){return It.apply(this,arguments)}function It(){return(It=(0,X.Z)(function*(de){const Z=de.app;Tt(Z);const{provider:F}=q(Z);if(Mt()){const ue=yield ht(),{token:je}=yield qt(vt(Z,ue),de.heartbeatServiceProvider);return{token:je}}{const{token:ue}=yield F.getToken();return{token:ue}}})).apply(this,arguments)}function en(de,Z){const F=q(de),ue=F.tokenObservers.filter(je=>je.next!==Z);0===ue.length&&F.tokenRefresher&&F.tokenRefresher.isRunning()&&F.tokenRefresher.stop(),F.tokenObservers=ue}function An(de){const{app:Z}=de,F=q(Z);let ue=F.tokenRefresher;ue||(ue=function Kn(de){const{app:Z}=de;return new Qe((0,X.Z)(function*(){let ue;if(ue=q(Z).token?yield Rt(de,!0):yield Rt(de),ue.error)throw ue.error;if(ue.internalError)throw ue.internalError}),()=>!0,()=>{const F=q(Z);if(F.token){let ue=F.token.issuedAtTimeMillis+.5*(F.token.expireTimeMillis-F.token.issuedAtTimeMillis)+3e5;return ue=Math.min(ue,F.token.expireTimeMillis-3e5),Math.max(0,ue-Date.now())}return 0},tt.RETRIAL_MIN_WAIT,tt.RETRIAL_MAX_WAIT)}(de),F.tokenRefresher=ue),!ue.isRunning()&&F.isTokenAutoRefreshEnabled&&ue.start()}function Ut(de){return de.expireTimeMillis-Date.now()>0}function On(de){return{token:Qt(Ct),error:de}}class Ne{constructor(Z,F){this.app=Z,this.heartbeatServiceProvider=F}_delete(){const{tokenObservers:Z}=q(this.app);for(const F of Z)en(this.app,F.next);return Promise.resolve()}}const Mo="app-check-internal";!function Jr(){(0,x._registerComponent)(new N.wA("app-check",de=>function Ft(de,Z){return new Ne(de,Z)}(de.getProvider("app").getImmediate(),de.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((de,Z,F)=>{de.getProvider(Mo).initialize()})),(0,x._registerComponent)(new N.wA(Mo,de=>function Pt(de){return{getToken:Z=>Rt(de,Z),getLimitedUseToken:()=>kt(de),addTokenListener:Z=>function Nt(de,Z,F,ue){const{app:je}=de,xt=q(je);if(xt.tokenObservers=[...xt.tokenObservers,{next:F,error:ue,type:Z}],xt.token&&Ut(xt.token)){const mn=xt.token;Promise.resolve().then(()=>{F({token:mn.token}),An(de)}).catch(()=>{})}xt.cachedTokenPromise.then(()=>An(de))}(de,"INTERNAL",Z),removeTokenListener:Z=>en(de.app,Z)}}(de.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,x.registerVersion)("@firebase/app-check","0.8.0")}();class qn{constructor(){return(0,ce.vb)("app-check")}}typeof window<"u"&&window;var cr=p(7142);const es=new t.OlP("angularfire2.auth.use-emulator"),Ws=new t.OlP("angularfire2.auth.settings"),uo=new t.OlP("angularfire2.auth.tenant-id"),us=new t.OlP("angularfire2.auth.langugage-code"),Os=new t.OlP("angularfire2.auth.use-device-language"),Ps=new t.OlP("angularfire.auth.persistence");let mr=(()=>{class de{constructor(F,ue,je,xt,rn,mn,Pn,Yn,gi,xi,Hr,br){const nr=new D.x,ur=(0,I.of)(void 0).pipe((0,B.Q)(rn.outsideAngular),(0,z.w)(()=>xt.runOutsideAngular(()=>p.e(365).then(p.bind(p,6365)))),(0,ne.U)(()=>(0,ge.on)(F,xt,ue)),(0,ne.U)(vo=>((de,Z,F,ue,je,xt,rn,mn)=>(0,ge.cc)(`${de.name}.auth`,"AngularFireAuth",de.name,()=>{const Pn=Z.runOutsideAngular(()=>de.auth());if(F&&Pn.useEmulator(...F),ue&&(Pn.tenantId=ue),Pn.languageCode=je,xt&&Pn.useDeviceLanguage(),rn)for(const[Yn,gi]of Object.entries(rn))Pn.settings[Yn]=gi;return mn&&Pn.setPersistence(mn),Pn},[F,ue,je,xt,rn,mn]))(vo,xt,mn,Yn,gi,xi,Pn,Hr)),(0,ae.d)({bufferSize:1,refCount:!1}));if((0,Ie.PM)(je))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,I.of)(null);else{ur.pipe((0,Fe.P)()).subscribe();const lr=ur.pipe((0,z.w)(ro=>ro.getRedirectResult().then(qa=>qa,()=>null)),ce.iC,(0,ae.d)({bufferSize:1,refCount:!1})),as=ur.pipe((0,z.w)(ro=>new T.y(qa=>({unsubscribe:xt.runOutsideAngular(()=>ro.onAuthStateChanged(fa=>qa.next(fa),fa=>qa.error(fa),()=>qa.complete()))})))),ua=ur.pipe((0,z.w)(ro=>new T.y(qa=>({unsubscribe:xt.runOutsideAngular(()=>ro.onIdTokenChanged(fa=>qa.next(fa),fa=>qa.error(fa),()=>qa.complete()))}))));this.authState=lr.pipe(le(as),(0,G.R)(rn.outsideAngular),(0,B.Q)(rn.insideAngular)),this.user=lr.pipe(le(ua),(0,G.R)(rn.outsideAngular),(0,B.Q)(rn.insideAngular)),this.idToken=this.user.pipe((0,z.w)(ro=>ro?(0,L.D)(ro.getIdToken()):(0,I.of)(null))),this.idTokenResult=this.user.pipe((0,z.w)(ro=>ro?(0,L.D)(ro.getIdTokenResult()):(0,I.of)(null))),this.credential=(0,y.T)(lr,nr,this.authState.pipe((0,Se.h)(ro=>!ro))).pipe((0,ne.U)(ro=>ro?.user?ro:null),(0,G.R)(rn.outsideAngular),(0,B.Q)(rn.insideAngular))}return(0,ge.pX)(this,ur,xt,{spy:{apply:(vo,lr,as)=>{(vo.startsWith("signIn")||vo.startsWith("createUser"))&&as.then(ua=>nr.next(ua))}}})}}return de.\u0275fac=function(F){return new(F||de)(t.LFG(ge.Dh),t.LFG(ge.xv,8),t.LFG(t.Lbi),t.LFG(t.R0b),t.LFG(ce.HU),t.LFG(es,8),t.LFG(Ws,8),t.LFG(uo,8),t.LFG(us,8),t.LFG(Os,8),t.LFG(Ps,8),t.LFG(qn,8))},de.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac,providedIn:"any"}),de})(),Cr=(()=>{class de{constructor(){cr.Z.registerVersion("angularfire",ce.q4.full,"auth-compat")}}return de.\u0275fac=function(F){return new(F||de)},de.\u0275mod=t.oAB({type:de}),de.\u0275inj=t.cJS({providers:[mr]}),de})(),oo=(()=>{class de{constructor(F,ue){this.restProvider=F,this.afAuth=ue}validateUser(F){return new Promise((ue,je)=>{this.restProvider.executeSinovadApiService(i.yw.POST,"/authentication/ValidateUser",{UserName:F}).then(xt=>{ue(xt)},xt=>{je(xt)})})}authenticateByLinkedAccount(F){return new Promise((ue,je)=>{this.restProvider.executeSinovadApiService(i.yw.POST,"/authentication/AuthenticateLinkedAccount",F).then(xt=>{ue(xt)},xt=>{je(xt)})})}authenticateUser(F){return new Promise((ue,je)=>{this.restProvider.executeSinovadApiService(i.yw.POST,"/authentication/AuthenticateUser",F).then(xt=>{ue(xt)},xt=>{je(xt)})})}authenticatePasswordAndConfirmLinkAccountToUser(F){return new Promise((ue,je)=>{this.restProvider.executeSinovadApiService(i.yw.POST,"/authentication/AuthenticatePasswordAndConfirmLinkAccountToUser",F).then(xt=>{ue(xt)},xt=>{je(xt)})})}authenticateWithGoogle(){return this.authenticate(new g.V)}authenticateWithFacebook(){return this.authenticate(new g.U)}authenticateWithApple(){}authenticate(F){return new Promise((ue,je)=>this.afAuth.signInWithPopup(F).then(xt=>{ue(xt)}).catch(xt=>{je(xt)}))}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.LFG(O.C),t.LFG(mr))};static#t=this.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();var ha=p(5864),Ao=p(7541),Fr=p(1367),pr=p(5220),Uo=p(2032),Ys=p(4170),gr=p(1531);function Es(de,Z){if(1&de&&(t.TgZ(0,"span",19),t._uU(1),t.qZA()),2&de){const F=t.oxw(2);t.xp6(1),t.hij(" ",F.errorMessage," ")}}function Zo(de,Z){1&de&&(t.TgZ(0,"mat-error"),t._UZ(1,"i",20),t._uU(2,"Ingresa el usuario correctamente "),t.qZA())}function Rs(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"form",10),t.NdJ("ngSubmit",function(){t.CHM(F);const je=t.oxw();return t.KtG(je.validateUser())}),t.YNc(1,Es,2,1,"span",11),t.TgZ(2,"div",12)(3,"mat-form-field",13)(4,"mat-label"),t._uU(5,"Usuario"),t.qZA(),t._UZ(6,"input",14),t.YNc(7,Zo,3,0,"mat-error",15),t.qZA()(),t.TgZ(8,"div",12)(9,"button",16),t._uU(10,"Siguiente"),t.qZA()()(),t.TgZ(11,"div",12)(12,"button",17),t.NdJ("click",function(){t.CHM(F);const je=t.oxw();return t.KtG(je.onClose())}),t._uU(13,"Cancelar"),t.qZA()(),t.TgZ(14,"div",12)(15,"button",18),t.NdJ("click",function(){t.CHM(F);const je=t.oxw();return t.KtG(je.loginWithGoogle())}),t._UZ(16,"img",2),t.ALo(17,"async"),t.ALo(18,"formatDataPipe"),t._uU(19,"Continuar con Google"),t.qZA()()}if(2&de){const F=t.oxw();t.Q6J("formGroup",F.userFormGroup),t.xp6(1),t.Q6J("ngIf",F.errorMessage),t.xp6(5),t.Q6J("errorStateMatcher",F.matcher),t.xp6(1),t.Q6J("ngIf",F.userFormGroup.controls.username.hasError("required")),t.xp6(2),t.Q6J("disabled",F.showLoading||!F.userFormGroup.valid),t.xp6(7),t.Q6J("src",t.lcZ(17,6,t.xi3(18,8,"google.svg","GetIconURLByKey")),t.LSH)}}function Da(de,Z){if(1&de&&(t.TgZ(0,"span",19),t._uU(1),t.qZA()),2&de){const F=t.oxw(2);t.xp6(1),t.hij(" ",F.errorMessage," ")}}function ks(de,Z){1&de&&(t.TgZ(0,"mat-error"),t._UZ(1,"i",20),t._uU(2,"Ingresa la contrase\xf1a correctamente "),t.qZA())}const bo=function(de){return{disable:de}};function Fs(de,Z){if(1&de){const F=t.EpF();t.YNc(0,Da,2,1,"span",11),t.TgZ(1,"form",10),t.NdJ("ngSubmit",function(){t.CHM(F);const je=t.oxw();return t.KtG(je.authenticateUser())}),t.TgZ(2,"div",12)(3,"mat-form-field",13)(4,"mat-label"),t._uU(5,"Contrase\xf1a"),t.qZA(),t._UZ(6,"input",21),t.YNc(7,ks,3,0,"mat-error",15),t.qZA()(),t.TgZ(8,"div",12)(9,"button",16),t._uU(10,"Iniciar sesi\xf3n"),t.qZA()()(),t.TgZ(11,"div",12)(12,"button",17),t.NdJ("click",function(){t.CHM(F);const je=t.oxw();return t.KtG(je.onClose())}),t._uU(13,"Cancelar"),t.qZA()(),t.TgZ(14,"div",12)(15,"button",22),t.NdJ("click",function(){t.CHM(F);const je=t.oxw();return t.KtG(je.showRecoverPasswordPage())}),t._uU(16,"Olvidaste tu contrase\xf1a?"),t.qZA()()}if(2&de){const F=t.oxw();t.Q6J("ngIf",F.errorMessage),t.xp6(1),t.Q6J("formGroup",F.passwordFormGroup),t.xp6(5),t.Q6J("errorStateMatcher",F.matcher),t.xp6(1),t.Q6J("ngIf",F.passwordFormGroup.controls.password.hasError("required")),t.xp6(2),t.Q6J("disabled",F.showLoading||!F.passwordFormGroup.valid),t.xp6(6),t.Q6J("ngClass",t.VKq(6,bo,F.showLoading))}}function ts(de,Z){if(1&de&&(t.TgZ(0,"span",19),t._uU(1),t.qZA()),2&de){const F=t.oxw(2);t.xp6(1),t.hij(" ",F.errorMessage," ")}}function ma(de,Z){1&de&&(t.TgZ(0,"mat-error"),t._UZ(1,"i",20),t._uU(2,"Ingresa la contrase\xf1a correctamente "),t.qZA())}function Ma(de,Z){if(1&de){const F=t.EpF();t.YNc(0,ts,2,1,"span",11),t.TgZ(1,"div",23)(2,"div",24),t._uU(3," Encontramos una cuenta de Sinovad Stream para "),t.TgZ(4,"div",25),t._uU(5),t.qZA()(),t._uU(6," Verifique su cuenta para continuar "),t.qZA(),t.TgZ(7,"form",10),t.NdJ("ngSubmit",function(){t.CHM(F);const je=t.oxw();return t.KtG(je.ConfirmLinkAccountToUser())}),t.TgZ(8,"div",12)(9,"mat-form-field",13)(10,"mat-label"),t._uU(11,"Contrase\xf1a"),t.qZA(),t._UZ(12,"input",21),t.YNc(13,ma,3,0,"mat-error",15),t.qZA()(),t.TgZ(14,"div",12)(15,"button",16),t._uU(16,"Confirmar"),t.qZA()()(),t.TgZ(17,"div",12)(18,"button",17),t.NdJ("click",function(){t.CHM(F);const je=t.oxw();return t.KtG(je.onClose())}),t._uU(19,"Cancelar"),t.qZA()(),t.TgZ(20,"div",12)(21,"button",22),t.NdJ("click",function(){t.CHM(F);const je=t.oxw();return t.KtG(je.showRecoverPasswordPage())}),t._uU(22,"Olvidaste tu contrase\xf1a?"),t.qZA()()}if(2&de){const F=t.oxw();t.Q6J("ngIf",F.errorMessage),t.xp6(5),t.hij(" ",F.confirmLinkAccountData.Email," "),t.xp6(2),t.Q6J("formGroup",F.passwordFormGroup),t.xp6(5),t.Q6J("errorStateMatcher",F.matcher),t.xp6(1),t.Q6J("ngIf",F.passwordFormGroup.controls.password.hasError("required")),t.xp6(2),t.Q6J("disabled",F.showLoading||!F.passwordFormGroup.valid),t.xp6(6),t.Q6J("ngClass",t.VKq(7,bo,F.showLoading))}}let zs=(()=>{class de{constructor(F,ue,je,xt,rn,mn,Pn){this.userService=F,this.authenticationService=ue,this.menuService=je,this.signalIRHubService=xt,this.formBuilder=rn,this.router=mn,this.sharedDataService=Pn,this._window=window,this.showLoading=!1,this.user=new c,this.userFormGroup=this.formBuilder.group({username:new C.NI("",[C.kI.required])}),this.passwordFormGroup=this.formBuilder.group({password:new C.NI("",[C.kI.required])}),this.matcher=new m.n,this.showPasswordForm=!1,this.showConfirmLinkedAccountForm=!1}validateUser(){this.userFormGroup.valid?(this.showLoading=!0,this.user.UserName=this.userFormGroup.value.username,this.authenticationService.validateUser(this.user.UserName).then(F=>{this.showPasswordForm=!0,this.showLoading=!1,this.errorMessage=void 0},F=>{this.showLoading=!1,this.errorMessage=F,console.error(F)})):(this.errorMessage=void 0,this.userFormGroup.markAllAsTouched())}authenticateUser(){this.passwordFormGroup.valid?(this.user.Password=this.passwordFormGroup.value.password,this.showLoading=!0,this.authenticationService.authenticateUser(this.user).then(F=>{this.setUserSessionDataAfterAuthenticate(F.Data)},F=>{this.showLoading=!1,this.errorMessage=F,console.error(F)})):(this.errorMessage=void 0,this.passwordFormGroup.markAllAsTouched())}loginWithGoogle(){this.showLoading=!0,this.errorMessage=void 0,this.authenticationService.authenticateWithGoogle().then(F=>{var ue=new d;ue.AccessToken=F.credential.accessToken,ue.LinkedAccountProviderCatalogId=i.P9.LinkedAccountProvider,ue.LinkedAccountProviderCatalogDetailId=i.jP.Google,this.authenticationService.authenticateByLinkedAccount(ue).then(je=>{var xt=je.Data;xt.ConfirmLinkAccountData?(this.showLoading=!1,this.confirmLinkAccountData=xt.ConfirmLinkAccountData,this.showConfirmLinkedAccountForm=!0):this.setUserSessionDataAfterAuthenticate(xt)},je=>{this.showLoading=!1})},F=>{console.error(F),this.showLoading=!1})}ConfirmLinkAccountToUser(){this.errorMessage=void 0,this.passwordFormGroup.valid?(this.confirmLinkAccountData.Password=this.passwordFormGroup.value.password,this.showLoading=!0,this.authenticationService.authenticatePasswordAndConfirmLinkAccountToUser(this.confirmLinkAccountData).then(F=>{this.setUserSessionDataAfterAuthenticate(F.Data)},F=>{this.showLoading=!1,this.errorMessage=F,console.error(F)})):(this.errorMessage=void 0,this.passwordFormGroup.markAllAsTouched())}setUserSessionDataAfterAuthenticate(F){this.sharedDataService.apiToken=F.ApiToken,localStorage.setItem("apiToken",this.sharedDataService.apiToken);let ue=F.UserData;this.sharedDataService.userData=ue.User,this.sharedDataService.mediaServers=ue.MediaServers,this.sharedDataService.listProfiles=ue.Profiles,this.sharedDataService.linkedAccounts=ue.LinkedAccounts,this.sharedDataService.currentProfile=ue.Profiles[0],this.sharedDataService.showSplashScreen=!0,this.userService.calledGetUserData=!0,this.menuService.getManageMenu(),this.signalIRHubService.openConnection(),this.router.navigate(["profiles"],{skipLocationChange:!1})}loginWithFacebook(){this.showLoading=!0,this.authenticationService.authenticateWithFacebook().then(F=>{console.log(F),this.showLoading=!1},F=>{console.error(F),this.showLoading=!1})}loginWithApple(){}onClose(){this.router.navigateByUrl("/landing")}showRecoverPasswordPage(){this.router.navigateByUrl("/recover")}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(f.K),t.Y36(oo),t.Y36(ha.h),t.Y36(Ao.n),t.Y36(C.qu),t.Y36(b.F0),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-login"]],decls:18,vars:16,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"login-container"],[1,"login-logo-container"],[1,"login-content"],[1,"login-form-container"],[1,"login-title-container"],[3,"ngIf"],[3,"showLoading"],["autocomplete","off",1,"login-form-content",3,"formGroup","ngSubmit"],["class","form-error-message",4,"ngIf"],[1,"mb-3"],[1,"login-form-field"],["id","title","matInput","","formControlName","username",3,"errorStateMatcher"],[4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-secondary",3,"click"],[1,"btn","google",3,"click"],[1,"form-error-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],["id","title","matInput","","formControlName","password","type","password",3,"errorStateMatcher"],[1,"btn","btn-secondary",3,"ngClass","click"],[1,"confirm-link-account-title"],[1,"confirm-link-account-message"],[1,"confirm-link-account-message-email"]],template:function(ue,je){1&ue&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return je.onClose()}),t._UZ(2,"img",2),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4),t._UZ(7,"img",2),t.ALo(8,"async"),t.ALo(9,"formatDataPipe"),t.qZA(),t.TgZ(10,"div",5)(11,"div",6)(12,"div",7),t._uU(13," Inicia sesi\xf3n "),t.qZA(),t.YNc(14,Rs,20,11,"ng-template",8),t.YNc(15,Fs,17,8,"ng-template",8),t.YNc(16,Ma,23,9,"ng-template",8),t.qZA()()(),t._UZ(17,"app-custom-spinner",9)),2&ue&&(t.xp6(2),t.Q6J("src",t.lcZ(3,6,t.xi3(4,8,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(5),t.Q6J("src",t.lcZ(8,11,t.xi3(9,13,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngIf",!je.showPasswordForm&&!je.showConfirmLinkedAccountForm),t.xp6(1),t.Q6J("ngIf",je.showPasswordForm&&!je.showConfirmLinkedAccountForm),t.xp6(1),t.Q6J("ngIf",je.showConfirmLinkedAccountForm),t.xp6(1),t.Q6J("showLoading",je.showLoading))},dependencies:[Ie.mk,Ie.O5,C._Y,C.Fj,C.JJ,C.JL,pr.D,Uo.Nt,Ys.KE,Ys.hX,Ys.TO,C.sg,C.u,Ie.Ov,gr.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.form-error-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:15px;justify-content:center;overflow:hidden;padding:20px 0;text-align:center;width:100%;border-bottom-width:2px;color:#f06464}.confirm-link-account-title[_ngcontent-%COMP%]{padding:30px 0;color:#282a2d;display:flex;flex-direction:column;font-size:13px}.confirm-link-account-message[_ngcontent-%COMP%]{color:#51595e;font-family:plexeina-bold,Helvetica,sans-serif;font-size:15px;margin-bottom:30px;text-align:center}.confirm-link-account-message-email[_ngcontent-%COMP%]{color:#007bff;font-family:plexeina-bold,Helvetica,sans-serif;font-size:15px;text-align:center}.login-container[_ngcontent-%COMP%]{text-align:-webkit-center;display:block!important;padding:100px 0;width:100%;height:100%;color:#fff;position:absolute}.login-logo-container[_ngcontent-%COMP%]{width:100%;text-align:center;font-weight:700;margin-bottom:20px;display:flex;align-items:center;justify-content:center;font-size:20px;max-width:300px}.login-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.login-title-container[_ngcontent-%COMP%]{margin-bottom:10px;font-size:20px}.login-content[_ngcontent-%COMP%]{display:block;max-width:500px}.login-form-container[_ngcontent-%COMP%]{padding:40px 20px;border-radius:5px;background:white;color:#000;justify-content:center;align-items:center;margin-bottom:300px;height:100%}.login-form-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-invalid-input-message[_ngcontent-%COMP%]{color:#d93025;margin-top:5px;font-size:13px}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;opacity:.9}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-right:10px}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.65}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.login-form-container[_ngcontent-%COMP%]   button.enter[_ngcontent-%COMP%]{background-color:#007bff}.login-form-container[_ngcontent-%COMP%]   button.recover[_ngcontent-%COMP%]{background-color:#2e303d}.login-form-container[_ngcontent-%COMP%]   button.google[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:2px solid rgba(0,0,0,.3)}.login-form-container[_ngcontent-%COMP%]   button.google[_ngcontent-%COMP%]:hover{background-color:#0000001a;color:#51595e}.login-form-container[_ngcontent-%COMP%]   button.facebook[_ngcontent-%COMP%]{background-color:#4267b2;color:#fff}.login-form-container[_ngcontent-%COMP%]   button.apple[_ngcontent-%COMP%]{background-color:#000;color:#fff}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]{display:block;color:#000}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border-radius:5px;padding:10px;color:#000;outline:rgba(0,0,0,.3)!important;background:white;border:none;font-size:14px;opacity:.8;height:35px;border:2px solid rgba(0,0,0,.3)}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#000}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{opacity:1;border:2px solid white}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{opacity:1;border:2px solid white}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{opacity:1;border:2px solid white}.sinovad-form-error-message-container[_ngcontent-%COMP%]{color:#f44336de!important;padding-bottom:10px}.login-form-content[_ngcontent-%COMP%]{max-width:300px;width:100%}.mb-3[_ngcontent-%COMP%]{text-align:left;max-width:300px}"]})}return de})();class Br{}var Ho=p(5731);function fs(de,Z){if(1&de&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2),t.qZA()),2&de){const F=t.oxw(2);t.xp6(2),t.hij(" ",F.commonService.hasRequireErrorFormControl(F.registerUserForm,"email")?"Confirma que hayas agregado el email correctamente":F.commonService.hasErrorPatternFormControl(F.registerUserForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}function ra(de,Z){1&de&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado los nombres correctamente "),t.qZA())}function Bs(de,Z){1&de&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado los apellidos correctamente "),t.qZA())}function Ts(de,Z){1&de&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado el usuario correctamente "),t.qZA())}function Aa(de,Z){1&de&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado el password correctamente "),t.qZA())}function Ur(de,Z){1&de&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),t.qZA())}const kn=function(de){return{error:de}},_t=function(de){return{disable:de}};function Ot(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"div",9)(1,"form",10),t.NdJ("ngSubmit",function(){t.CHM(F);const je=t.oxw();return t.KtG(je.register())}),t.TgZ(2,"div",11),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",12),t._uU(7," Reg\xedstrate "),t.qZA(),t.TgZ(8,"div",13)(9,"label",14),t._uU(10," Correo electr\xf3nico "),t.qZA(),t.TgZ(11,"div",15),t._UZ(12,"input",16),t.YNc(13,fs,3,1,"label",17),t.qZA()(),t.TgZ(14,"div",13)(15,"label",14),t._uU(16," Nombres "),t.qZA(),t.TgZ(17,"div",15),t._UZ(18,"input",18),t.YNc(19,ra,3,0,"label",17),t.qZA()(),t.TgZ(20,"div",13)(21,"label",14),t._uU(22," Apellidos "),t.qZA(),t.TgZ(23,"div",15),t._UZ(24,"input",19),t.YNc(25,Bs,3,0,"label",17),t.qZA()(),t.TgZ(26,"div",13)(27,"label",14),t._uU(28," Usuario "),t.qZA(),t.TgZ(29,"div",15),t._UZ(30,"input",20),t.YNc(31,Ts,3,0,"label",17),t.qZA()(),t.TgZ(32,"div",13)(33,"label",14),t._uU(34," Contrase\xf1a "),t.qZA(),t.TgZ(35,"div",15),t._UZ(36,"input",21),t.YNc(37,Aa,3,0,"label",17),t.qZA()(),t.TgZ(38,"div",13)(39,"label",14),t._uU(40," Confirmar contrase\xf1a "),t.qZA(),t.TgZ(41,"div",15),t._UZ(42,"input",22),t.YNc(43,Ur,3,0,"label",17),t.qZA()(),t.TgZ(44,"div",23)(45,"button",24),t._uU(46,"Registrar"),t.qZA()(),t.TgZ(47,"div",25),t._uU(48),t.qZA()()()}if(2&de){const F=t.oxw();t.xp6(1),t.Q6J("formGroup",F.registerUserForm),t.xp6(2),t.Q6J("src",t.lcZ(4,16,t.xi3(5,18,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngClass",t.VKq(21,kn,F.commonService.isInvalidFormControl(F.registerUserForm,"email"))),t.xp6(5),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.registerUserForm,"email")),t.xp6(1),t.Q6J("ngClass",t.VKq(23,kn,F.commonService.isInvalidFormControl(F.registerUserForm,"firstName"))),t.xp6(5),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.registerUserForm,"firstName")&&F.commonService.hasRequireErrorFormControl(F.registerUserForm,"firstName")),t.xp6(1),t.Q6J("ngClass",t.VKq(25,kn,F.commonService.isInvalidFormControl(F.registerUserForm,"lastName"))),t.xp6(5),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.registerUserForm,"lastName")&&F.commonService.hasRequireErrorFormControl(F.registerUserForm,"lastName")),t.xp6(1),t.Q6J("ngClass",t.VKq(27,kn,F.commonService.isInvalidFormControl(F.registerUserForm,"username"))),t.xp6(5),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.registerUserForm,"username")&&F.commonService.hasRequireErrorFormControl(F.registerUserForm,"username")),t.xp6(1),t.Q6J("ngClass",t.VKq(29,kn,F.commonService.isInvalidFormControl(F.registerUserForm,"password"))),t.xp6(5),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.registerUserForm,"password")&&F.commonService.hasRequireErrorFormControl(F.registerUserForm,"password")),t.xp6(1),t.Q6J("ngClass",t.VKq(31,kn,F.commonService.isInvalidFormControl(F.registerUserForm,"confirmPassword"))),t.xp6(5),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.registerUserForm,"confirmPassword")&&F.commonService.hasRequireErrorFormControl(F.registerUserForm,"confirmPassword")),t.xp6(2),t.Q6J("ngClass",t.VKq(33,_t,F.showLoading)),t.xp6(3),t.hij(" ",F.errorMessage," ")}}function ut(de,Z){1&de&&(t.TgZ(0,"div",28)(1,"div",29)(2,"div",11),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",12),t._uU(7," Registro de Usuario "),t.qZA(),t.TgZ(8,"h2"),t._uU(9,"Usuario registrado satistactoriamente, verifique su correo electr\xf3nico y active su cuenta por favor."),t.qZA()()()),2&de&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH))}let $t=(()=>{class de{constructor(F,ue,je,xt,rn){this.formBuilder=F,this.router=ue,this.userService=je,this.commonService=xt,this.sharedDataService=rn,this._window=window,this.showLoading=!1,this.showSuccessMessage=!1,this.registerUserModel=new Br,this.registerUserForm=this.formBuilder.group({email:new C.NI("",[C.kI.required,C.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),firstName:new C.NI("",[C.kI.required]),lastName:new C.NI("",[C.kI.required]),username:new C.NI("",[C.kI.required]),password:new C.NI("",[C.kI.required]),confirmPassword:new C.NI("",[C.kI.required])})}ngOnInit(){}register(){this.registerUserForm.valid?(this.registerUserModel={Email:this.registerUserForm.value.email,FirstName:this.registerUserForm.value.firstName,LastName:this.registerUserForm.value.lastName,UserName:this.registerUserForm.value.username,Password:this.registerUserForm.value.password,ConfirmPassword:this.registerUserForm.value.confirmPassword,ConfirmEmailUrl:window.location.origin+"/confirm"},this.showLoading=!0,this.userService.registerUser(this.registerUserModel).then(F=>{this.showLoading=!1,this.showSuccessMessage=!0},F=>{this.showLoading=!1,this.errorMessage=F,console.error(F)})):(this.errorMessage=void 0,this.registerUserForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(C.qu),t.Y36(b.F0),t.Y36(f.K),t.Y36(Ho.v),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-register-user"]],decls:11,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-form-backdrop"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3",3,"ngClass"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","text","formControlName","firstName"],["type","text","formControlName","lastName"],["type","text","formControlName","username"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],[1,"mb-3"],["type","submit",1,"register",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(ue,je){1&ue&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return je.onClose()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5),t.YNc(8,Ot,49,35,"div",6),t.YNc(9,ut,10,6,"div",7),t.qZA()(),t._UZ(10,"app-custom-spinner",8)),2&ue&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngIf",!je.showSuccessMessage),t.xp6(1),t.Q6J("ngIf",je.showSuccessMessage),t.xp6(1),t.Q6J("showLoading",je.showLoading))},dependencies:[Ie.mk,Ie.O5,C._Y,C.Fj,C.JJ,C.JL,pr.D,C.sg,C.u,Ie.Ov,gr.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-form-backdrop[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}button.register[_ngcontent-%COMP%]{background-color:#007bff}"]})}return de})();var wn=p(4440),Ti=p.n(wn);class zi{}class $o{}function ns(de,Z){1&de&&(t.TgZ(0,"label",20),t._UZ(1,"i",21),t._uU(2,"Confirma que hayas agregado el password correctamente "),t.qZA())}function Ss(de,Z){1&de&&(t.TgZ(0,"label",20),t._UZ(1,"i",21),t._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),t.qZA())}const si=function(de){return{disable:de}};function Ns(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"div",8)(1,"form",9),t.NdJ("ngSubmit",function(){t.CHM(F);const je=t.oxw();return t.KtG(je.confirm())}),t.TgZ(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Cambiar contrase\xf1a "),t.qZA(),t.TgZ(8,"div",12)(9,"label",13),t._uU(10," Contrase\xf1a "),t.qZA(),t.TgZ(11,"div",14),t._UZ(12,"input",15),t.YNc(13,ns,3,0,"label",16),t.qZA()(),t.TgZ(14,"div",12)(15,"label",13),t._uU(16," Confirmaci\xf3n de contrase\xf1a "),t.qZA(),t.TgZ(17,"div",14),t._UZ(18,"input",17),t.YNc(19,Ss,3,0,"label",16),t.qZA()(),t.TgZ(20,"div",12)(21,"button",18),t._uU(22,"Confirmar"),t.qZA()(),t.TgZ(23,"div",19),t._uU(24),t.qZA()()()}if(2&de){const F=t.oxw();t.xp6(1),t.Q6J("formGroup",F.resetPasswordForm),t.xp6(2),t.Q6J("src",t.lcZ(4,6,t.xi3(5,8,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(10),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.resetPasswordForm,"password")&&F.commonService.hasRequireErrorFormControl(F.resetPasswordForm,"password")),t.xp6(6),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.resetPasswordForm,"confirmPassword")&&F.commonService.hasRequireErrorFormControl(F.resetPasswordForm,"confirmPassword")),t.xp6(2),t.Q6J("ngClass",t.VKq(11,si,F.showLoading)),t.xp6(3),t.hij(" ",F.errorMessage," ")}}function to(de,Z){1&de&&(t.TgZ(0,"div",11),t._uU(1," Cambio de contrase\xf1a "),t.qZA(),t.TgZ(2,"h2"),t._uU(3,"Se cambi\xf3 la contrase\xf1a satisfactoriamente"),t.qZA())}function hs(de,Z){1&de&&(t.TgZ(0,"div",11),t._uU(1," Validaci\xf3n de Token "),t.qZA(),t.TgZ(2,"h2",25),t._uU(3,"Token inv\xe1lido"),t.qZA())}function al(de,Z){if(1&de&&(t.TgZ(0,"div",22)(1,"div",23)(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.YNc(6,to,4,0,"ng-template",24),t.YNc(7,hs,4,0,"ng-template",24),t.qZA()()),2&de){const F=t.oxw();t.xp6(3),t.Q6J("src",t.lcZ(4,3,t.xi3(5,5,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngIf",F.showResetPasswordSuccessMessage),t.xp6(1),t.Q6J("ngIf",F.showInvalidTokenMessage)}}let pa=(()=>{class de{constructor(F,ue,je,xt,rn,mn){this.formBuilder=F,this.router=ue,this.activeRoute=je,this.userService=xt,this.commonService=rn,this.sharedDataService=mn,this._window=window,this.showLoading=!1,this.resetPasswordModel=new zi,this.showResetPasswordForm=!1,this.showInvalidTokenMessage=!1,this.showResetPasswordSuccessMessage=!1,this.resetPasswordForm=this.formBuilder.group({password:new C.NI("",[C.kI.required]),confirmPassword:new C.NI("",[C.kI.required])})}ngOnInit(){let F=this.activeRoute.snapshot.params.base64Data;if(null!=F)try{let xt=Ti().decode(F);var ue=JSON.parse(xt);if(this.resetPasswordToken=ue.ResetPasswordToken,this.userId=ue.UserId,null!=this.resetPasswordToken&&null!=this.userId){this.showLoading=!0;var je=new $o;je.ResetPasswordToken=this.resetPasswordToken,je.UserId=this.userId,this.userService.validateResetPasswordToken(je).then(rn=>{this.showResetPasswordForm=!0,this.showLoading=!1},rn=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=rn,console.error(rn)})}else this.showInvalidTokenMessage=!0}catch{this.showInvalidTokenMessage=!0}else this.router.navigate(["home"],{skipLocationChange:!1})}confirm(){this.resetPasswordForm.valid?(this.showLoading=!0,this.resetPasswordModel={ResetPasswordToken:this.resetPasswordToken,UserId:this.userId,Password:this.resetPasswordForm.value.password,ConfirmPassword:this.resetPasswordForm.value.confirmPassword},this.userService.resetPassword(this.resetPasswordModel).then(F=>{this.showResetPasswordSuccessMessage=!0,this.showResetPasswordForm=!1,this.showLoading=!1},F=>{this.showLoading=!1,this.errorMessage=F,console.error(F)})):(this.errorMessage=void 0,this.resetPasswordForm.markAllAsTouched())}onClickCloseButton(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(C.qu),t.Y36(b.F0),t.Y36(b.gz),t.Y36(f.K),t.Y36(Ho.v),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-reset-password"]],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","password","formControlName","password"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","password","formControlName","confirmPassword"],["type","submit",1,"confirm",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[3,"ngIf"],[1,"error"]],template:function(ue,je){1&ue&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return je.onClickCloseButton()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,Ns,25,13,"div",5),t.YNc(8,al,8,8,"div",6),t.qZA(),t._UZ(9,"app-custom-spinner",7)),2&ue&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngIf",je.showResetPasswordForm),t.xp6(1),t.Q6J("ngIf",!je.showResetPasswordForm&&(je.showInvalidTokenMessage||je.showResetPasswordSuccessMessage)),t.xp6(1),t.Q6J("showLoading",je.showLoading))},dependencies:[Ie.mk,Ie.O5,C._Y,C.Fj,C.JJ,C.JL,pr.D,C.sg,C.u,Ie.Ov,gr.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.confirm[_ngcontent-%COMP%]{background-color:#007bff}"]})}return de})();class xa{}function oa(de,Z){if(1&de&&(t.TgZ(0,"h2",9),t._uU(1),t.qZA()),2&de){const F=t.oxw();t.xp6(1),t.Oqu(F.errorMessage)}}function ms(de,Z){1&de&&(t.TgZ(0,"h2"),t._uU(1,"Su correo ha sido confirmado, ya puede iniciar sesi\xf3n"),t.qZA())}let ll=(()=>{class de{constructor(F,ue,je){this.router=F,this.activeRoute=ue,this.userService=je,this._window=window,this.showLoading=!1,this.showInvalidTokenMessage=!1,this.showSuccessMessage=!1}ngOnInit(){let F=this.activeRoute.snapshot.params.base64Data;if(null!=F)try{let xt=Ti().decode(F);var ue=JSON.parse(xt);if(ue.ConfirmEmailToken){this.showLoading=!0;var je=new xa;je.ConfirmEmailToken=ue.ConfirmEmailToken,je.UserId=ue.UserId,this.userService.validateConfirmEmailToken(je).then(rn=>{this.showLoading=!1,this.showSuccessMessage=!0},rn=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=rn,console.error(rn)})}else this.router.navigate(["home"],{skipLocationChange:!1})}catch{this.router.navigate(["home"],{skipLocationChange:!1})}else this.router.navigate(["home"],{skipLocationChange:!1})}onClose(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(b.F0),t.Y36(b.gz),t.Y36(f.K))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-confirm-email"]],decls:16,vars:14,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[3,"ngIf"],[1,"error"]],template:function(ue,je){1&ue&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return je.onClose()}),t._UZ(2,"img",2),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),t._UZ(9,"img",2),t.ALo(10,"async"),t.ALo(11,"formatDataPipe"),t.qZA(),t.TgZ(12,"div",7),t._uU(13," Confirmaci\xf3n de Email "),t.qZA(),t.YNc(14,oa,2,1,"ng-template",8),t.YNc(15,ms,2,0,"ng-template",8),t.qZA()()()),2&ue&&(t.xp6(2),t.Q6J("src",t.lcZ(3,4,t.xi3(4,6,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(7),t.Q6J("src",t.lcZ(10,9,t.xi3(11,11,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngIf",je.showInvalidTokenMessage),t.xp6(1),t.Q6J("ngIf",je.showSuccessMessage))},dependencies:[Ie.O5,Ie.Ov,gr.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}"]})}return de})(),wl=(()=>{class de{constructor(F,ue){this.router=F,this.sharedDataService=ue}ngOnInit(){}goInitialPage(){this.router.navigateByUrl(null!=this.sharedDataService.apiToken?"/home":"/landing").then(ue=>{},ue=>{console.error(ue)})}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(b.F0),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-not-found"]],decls:12,vars:6,consts:[[1,"d-flex","align-items-center","justify-content-center","vh-100"],[1,"sinovad-page-not-found-content","text-center"],[1,"sinovad-logo-container"],[3,"src"],[1,"fs-3"],[1,"lead"],[1,"btn","btn-primary",3,"click"]],template:function(ue,je){1&ue&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"p",4),t._uU(7,"No encontramos la p\xe1gina que esta buscando"),t.qZA(),t.TgZ(8,"p",5),t._uU(9," Has click en el siguiente boton para ir a la p\xe1gina de inicio de Sinovad Stream "),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return je.goInitialPage()}),t._uU(11,"Inicio"),t.qZA()()()),2&ue&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH))},dependencies:[Ie.Ov,gr.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black;color:#fff}.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:100px;padding:10px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:350px}@media only screen and (max-width: 767px){.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:unset}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}}"]})}return de})();const ga=["loginFormContainer"];let cl=(()=>{class de{constructor(F,ue,je){this.router=F,this.activeRoute=ue,this.sharedDataService=je,this._window=window,this.showLoading=!1}ngOnInit(){}showLoginPage(){this.router.navigateByUrl("/login")}showRegisterPage(){this.router.navigateByUrl("/register")}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(b.F0),t.Y36(b.gz),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-landing"]],viewQuery:function(ue,je){if(1&ue&&t.Gf(ga,5),2&ue){let xt;t.iGM(xt=t.CRH())&&(je.loginFormContainer=xt.first)}},decls:12,vars:6,consts:[["id","sinovad-container",1,"sinovad-container"],[1,"sinovad-form-container"],[1,"sinovad-form-content"],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-form-button-section"],[1,"register",3,"click"],[1,"login",3,"click"]],template:function(ue,je){1&ue&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.ALo(5,"async"),t.ALo(6,"formatDataPipe"),t.qZA(),t.TgZ(7,"div",5)(8,"button",6),t.NdJ("click",function(){return je.showRegisterPage()}),t._uU(9,"REG\xcdSTRATE"),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(){return je.showLoginPage()}),t._uU(11,"INICIA SESI\xd3N"),t.qZA()()()()()),2&ue&&(t.xp6(4),t.Q6J("src",t.lcZ(5,1,t.xi3(6,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH))},dependencies:[Ie.Ov,gr.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;width:100%;cursor:pointer;color:#fff;padding:10px;text-align:center;border-radius:5px;font-size:14px;opacity:.8;margin-bottom:10px;font-weight:700}.sinovad-form-button-section[_ngcontent-%COMP%]   button.register[_ngcontent-%COMP%]{background-color:#007bff}.sinovad-form-button-section[_ngcontent-%COMP%]   button.login[_ngcontent-%COMP%]{background-color:#2e303d}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}button.register[_ngcontent-%COMP%]{background-color:#007bff}button.login[_ngcontent-%COMP%]{background-color:#2e303d}"]})}return de})();class Ia{}function Po(de,Z){if(1&de&&(t.TgZ(0,"label",19),t._UZ(1,"i",20),t._uU(2),t.qZA()),2&de){const F=t.oxw(2);t.xp6(2),t.hij(" ",F.commonService.hasRequireErrorFormControl(F.recoverPasswordForm,"email")?"Confirma que hayas agregado el email correctamente":F.commonService.hasErrorPatternFormControl(F.recoverPasswordForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}const Kc=function(de){return{disable:de}};function wa(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"div",8)(1,"form",9),t.NdJ("ngSubmit",function(){t.CHM(F);const je=t.oxw();return t.KtG(je.SendRecoverPasswordEmail())}),t.TgZ(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Olvido su contrase\xf1a "),t.qZA(),t.TgZ(8,"div",12)(9,"label",13),t._uU(10," Correo electr\xf3nico "),t.qZA(),t.TgZ(11,"div",14),t._UZ(12,"input",15),t.YNc(13,Po,3,1,"label",16),t.qZA()(),t.TgZ(14,"div",12)(15,"button",17),t._uU(16,"Recuperar contrase\xf1a"),t.qZA()(),t.TgZ(17,"div",18),t._uU(18),t.qZA()()()}if(2&de){const F=t.oxw();t.xp6(1),t.Q6J("formGroup",F.recoverPasswordForm),t.xp6(2),t.Q6J("src",t.lcZ(4,5,t.xi3(5,7,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(10),t.Q6J("ngIf",F.commonService.isInvalidFormControl(F.recoverPasswordForm,"email")),t.xp6(2),t.Q6J("ngClass",t.VKq(10,Kc,F.showLoading)),t.xp6(3),t.hij(" ",F.errorMessage," ")}}function uc(de,Z){1&de&&(t.TgZ(0,"div",21)(1,"div",22)(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Confirmaci\xf3n de olvido de contrase\xf1a "),t.qZA(),t.TgZ(8,"h2"),t._uU(9,"Por favor verifique su email para recuperar su contrase\xf1a"),t.qZA()()()),2&de&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH))}let Ha=(()=>{class de{constructor(F,ue,je,xt,rn){this.formBuilder=F,this.router=ue,this.userService=je,this.commonService=xt,this.sharedDataService=rn,this._window=window,this.showLoading=!1,this.recoverPasswordModel=new Ia,this.sendedConfirmationEmail=!1,this.recoverPasswordForm=this.formBuilder.group({email:new C.NI("",[C.kI.required,C.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")])})}SendRecoverPasswordEmail(){this.recoverPasswordForm.valid?(this.recoverPasswordModel={Email:this.recoverPasswordForm.value.email,ResetPasswordUrl:window.location.origin+"/reset"},this.showLoading=!0,this.userService.recoverPassword(this.recoverPasswordModel).then(F=>{this.sendedConfirmationEmail=!0,this.showLoading=!1},F=>{this.showLoading=!1,this.errorMessage=F,console.error(F)})):(this.errorMessage=void 0,this.recoverPasswordForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(C.qu),t.Y36(b.F0),t.Y36(f.K),t.Y36(Ho.v),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-recover-password"]],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","submit",1,"recover",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(ue,je){1&ue&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return je.onClose()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,wa,19,12,"div",5),t.YNc(8,uc,10,6,"div",6),t.qZA(),t._UZ(9,"app-custom-spinner",7)),2&ue&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngIf",!je.sendedConfirmationEmail),t.xp6(1),t.Q6J("ngIf",je.sendedConfirmationEmail),t.xp6(1),t.Q6J("showLoading",je.showLoading))},dependencies:[Ie.mk,Ie.O5,C._Y,C.Fj,C.JJ,C.JL,pr.D,C.sg,C.u,Ie.Ov,gr.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.recover[_ngcontent-%COMP%]{background-color:#007bff}"]})}return de})();var dl=p(1044);const _a=["itemListContainer"];function ul(de,Z){if(1&de&&(t.TgZ(0,"div",14)(1,"span"),t._uU(2),t.qZA()()),2&de){const F=t.oxw().$implicit;t.xp6(2),t.Oqu(F.Title)}}function va(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"div",10)(1,"button",11),t.NdJ("click",function(){const xt=t.CHM(F).$implicit,rn=t.oxw(2);return t.KtG(rn.onClickItem(xt))}),t._UZ(2,"img",12),t.qZA(),t.YNc(3,ul,3,1,"div",13),t.qZA()}if(2&de){const F=Z.$implicit,ue=t.oxw(2);t.xp6(1),t.hYB("id","item_",F.TvSerieId?F.TvSerie_ID:F.MovieId,"_",F.MediaType,""),t.xp6(1),t.Q6J("src",ue.commonService.getUrlByItemMovieDataBase(F),t.LSH),t.xp6(1),t.Q6J("ngIf",!F.Subtitle)}}function fl(de,Z){if(1&de&&(t.TgZ(0,"section",4)(1,"div",5)(2,"div",6,7)(4,"div",8,9),t.YNc(6,va,4,4,"ng-template",3),t.qZA()()()()),2&de){const F=Z.$implicit;t.MGl("id","section_search_",Z.index,""),t.xp6(6),t.Q6J("ngForOf",F)}}let hl=(()=>{class de{constructor(F,ue,je,xt){this.libraryService=F,this.router=ue,this.commonService=je,this.sharedDataService=xt,this.listItems=[],this.listGroupItems=[]}ngOnInit(){this.getItemsBySearch()}getItemsBySearch(){""!=this.searchText.trim()?this.sharedDataService.mediaServers.forEach(F=>{F.isSecureConnection&&this.libraryService.getAllMediaItemsBySearchQuery(F.Url,this.searchText).then(ue=>{this.listItems=this.listItems.concat(ue),this.buildGroupItems(this.listItems)},ue=>{console.error(ue)})}):(this.listItems=[],this.listGroupItems=[])}buildGroupItems(F){if(F&&F.length>0){let rn=window.innerWidth>=2048?250:180;var ue=Math.floor(this.container.nativeElement.offsetWidth/rn),je=F.reduce((mn,Pn,Yn)=>{var gi=Math.floor(Yn/ue)+1;return mn[`row${gi}`]=mn[`row${gi}`]||[],mn[`row${gi}`].push(Pn),mn},{}),xt=Object.keys(je).map(function(mn){return je[mn]});this.listGroupItems=xt}else this.listGroupItems=[]}onClickItem(F){this.getMediaDetail(F)}getMediaDetail(F){var ue=this.sharedDataService.mediaServers.find(je=>je.Id==F.MediaServerId);this.router.navigateByUrl("/media/server/"+ue.Guid+"/libraries/"+F.LibraryId+"/detail?mediaType="+F.MediaTypeId+"&mediaId="+F.MediaItemId)}onResize(F){this.buildGroupItems(this.listItems)}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(dl.$),t.Y36(b.F0),t.Y36(Ho.v),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-vertical-item-list"]],viewQuery:function(ue,je){if(1&ue&&t.Gf(_a,5),2&ue){let xt;t.iGM(xt=t.CRH())&&(je.container=xt.first)}},hostBindings:function(ue,je){1&ue&&t.NdJ("resize",function(rn){return je.onResize(rn)},!1,t.Jf7)},inputs:{searchText:"searchText"},decls:4,vars:3,consts:[[1,"sinovad-vertical-list-content"],["itemListContainer",""],[1,"sinovad-vertical-list-second-content"],["ngFor","",3,"ngForOf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-container"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["referrerpolicy","no-referrer","onError","this.src='assets/img/no-image-available.jpg'",3,"src"],["class","sinovad-item-caption-container",4,"ngIf"],[1,"sinovad-item-caption-container"]],template:function(ue,je){1&ue&&(t.TgZ(0,"div",0,1)(2,"div",2),t.YNc(3,fl,7,2,"ng-template",3),t.qZA()()),2&ue&&(t.Udp("height","100%"),t.xp6(3),t.Q6J("ngForOf",je.listGroupItems))},dependencies:[Ie.sg,Ie.O5],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px;justify-content:center}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex;gap:20px}.sinovad-item-caption-container[_ngcontent-%COMP%]{color:#fff;font-weight:700;padding-top:10px;text-align:center}.sinovad-vertical-list-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-vertical-list-second-content[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:160px;width:160px;height:200px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-content[_ngcontent-%COMP%]{gap:20px}.sinovad-item-container[_ngcontent-%COMP%]{padding:0;margin:0;width:min-content;border-radius:6px}@media only screen and (min-width: 2048px){.sinovad-item-container[_ngcontent-%COMP%]{padding-right:0px 10px 0px 0px;margin:6px}.sinovad-list-content[_ngcontent-%COMP%]{gap:unset}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return de})();function fc(de,Z){if(1&de&&(t.TgZ(0,"div",7)(1,"h2"),t._uU(2),t.qZA()()),2&de){const F=t.oxw();t.xp6(2),t.hij('Resultados para "',F.searchText,'"')}}let ya=(()=>{class de{constructor(F,ue,je){this.router=F,this.route=ue,this.sharedDataService=je,this.searchText="",this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){let F=this.route.snapshot.queryParams.text;null!=F&&""!=F?this.searchText=F:this.router.navigate(["home"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(b.F0),t.Y36(b.gz),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-search-view"]],decls:8,vars:4,consts:[[1,"sinovad-search-view-container"],["container",""],[1,"sinovad-search-view-title"],["header",""],["class","sinovad-search-view-title-content",4,"ngIf"],["itemListContainer",""],[3,"searchText"],[1,"sinovad-search-view-title-content"]],template:function(ue,je){if(1&ue&&(t.TgZ(0,"div",0,1)(2,"div",2,3),t.YNc(4,fc,3,1,"div",4),t.qZA(),t.TgZ(5,"div",null,5),t._UZ(7,"app-vertical-item-list",6),t.qZA()()),2&ue){const xt=t.MAs(3);t.xp6(4),t.Q6J("ngIf",null!=je.searchText&&""!=je.searchText),t.xp6(1),t.Udp("height","calc(100% - "+xt.offsetHeight+"px)"),t.xp6(2),t.Q6J("searchText",je.searchText)}},dependencies:[Ie.O5,hl],styles:[".sinovad-search-view-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;background:#2d3744;overflow:auto}.sinovad-search-view-title[_ngcontent-%COMP%]{color:#fff;margin-left:20px;margin-right:20px}.sinovad-search-view-title[_ngcontent-%COMP%]   .sinovad-search-view-title-content[_ngcontent-%COMP%]{height:100%;border-bottom:1px solid #dedede;width:100%}"]})}return de})();var el=p(7394),ml=p(5940),Ol=p(3630);function Cs(de,Z){if(1&de&&(t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4)(4,"div",5),t._uU(5," Inicio "),t.qZA()()(),t.TgZ(6,"div"),t._UZ(7,"app-media-items",6),t.qZA()()()),2&de){const F=t.oxw(2);t.xp6(6),t.Udp("height","calc(100% - 65px)"),t.xp6(1),t.Q6J("itemsGroupList",F.itemsGroupList)}}function Oa(de,Z){1&de&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div",9),t._uU(3," No hay servidores disponibles en este momento "),t.qZA(),t._UZ(4,"div",10),t.qZA()())}function Ds(de,Z){if(1&de&&(t.YNc(0,Cs,8,3,"ng-template",0),t.YNc(1,Oa,5,0,"ng-template",0)),2&de){const F=t.oxw();t.Q6J("ngIf",F.mediaServers&&F.isEnableAnyMediaServer()),t.xp6(1),t.Q6J("ngIf",F.mediaServers&&!F.isEnableAnyMediaServer())}}function rr(de,Z){1&de&&(t.TgZ(0,"div",11),t._UZ(1,"mat-spinner"),t.qZA())}let ja=(()=>{class de{constructor(F,ue,je,xt,rn){this.signalIrService=F,this.libraryService=ue,this.router=je,this.commonService=xt,this.sharedDataService=rn,this.itemsGroupList=[],this._window=window,this.subscription=new el.w0,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1};let mn=this;this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(Pn=>{var Yn=mn.mediaServers.find(gi=>gi.Guid==Pn);Yn&&!Yn.isSecureConnection&&(mn.loadingConnection=!1,Yn.isSecureConnection=!0,mn.getAllItemsByMediaServer(Yn))})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(Pn=>{var Yn=mn.mediaServers.find(gi=>gi.Guid==Pn);Yn&&Yn.isSecureConnection&&(Yn.isSecureConnection=!1,mn.clearItemsInGroup(Yn.Id))})),this.subscription.add(this.signalIrService.isUpdatingLibrariesByMediaServer().subscribe(Pn=>{var Yn=mn.mediaServers.find(gi=>gi.Guid==Pn);Yn&&!Yn.isSecureConnection&&(Yn.isSecureConnection=!0,mn.getAllItemsByMediaServer(Yn))})),this.subscription.add(this.signalIrService.isUpdatingItemsByMediaServer().subscribe(Pn=>{var Yn=mn.mediaServers.find(gi=>gi.Guid==Pn);Yn&&!Yn.isSecureConnection&&(Yn.isSecureConnection=!0,mn.getAllItemsByMediaServer(Yn))}))}ngOnInit(){this.mediaServers=JSON.parse(JSON.stringify(this.sharedDataService.mediaServers)),this.isEnableAnyMediaServer()?this.loadingConnection=!1:setTimeout(()=>{this.loadingConnection=!1},3e3),this.mediaServers.forEach(F=>{F.isSecureConnection&&this.getAllItemsByMediaServer(F)})}ngOnDestroy(){this.subscription.unsubscribe()}isEnableAnyMediaServer(){return this.mediaServers.filter(F=>F.isSecureConnection).length>0}considerAllMediaServers(){return!!window.location.pathname.endsWith("home")}getAllItemsByMediaServer(F){this.libraryService.getAllMediaItems(F.Url,this.sharedDataService.currentProfile.Id).then(ue=>{this.setItemsInGroup(F.Id,ue)},ue=>{})}setItemsInGroup(F,ue){ue.length>0&&(ue.forEach(je=>{var xt=this.itemsGroupList.find(Yn=>Yn.Name==je.Name);if(null==xt)this.itemsGroupList.push(je);else{var Pn=xt.ListItems.filter(Yn=>Yn.MediaServerId!=F).concat(je.ListItems).sort((Yn,gi)=>new Date(Yn.Created).getTime()>new Date(gi.Created).getTime()?-1:new Date(gi.Created).getTime()>new Date(Yn.Created).getTime()?1:0);xt.ListItems=Pn}}),this.itemsGroupList=this.itemsGroupList.sort((je,xt)=>je.Id>xt.Id?1:je.Id<=xt.Id?-1:0))}clearItemsInGroup(F){this.itemsGroupList.forEach(ue=>{var je=ue.ListItems.filter(xt=>xt.MediaServerId!=F);ue.ListItems=je.sort((xt,rn)=>new Date(xt.Created).getTime()>new Date(rn.Created).getTime()?-1:new Date(rn.Created).getTime()>new Date(xt.Created).getTime()?1:0)})}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(Ao.n),t.Y36(dl.$),t.Y36(b.F0),t.Y36(Ho.v),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-home-page"]],decls:2,vars:2,consts:[[3,"ngIf"],[1,"media-principal-section"],[1,"media-container"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[3,"itemsGroupList"],[1,"server-error-page-container"],[1,"server-error-page-content"],[1,"server-error-message-title"],[1,"server-error-message-description"],[1,"spinner-centered-container"]],template:function(ue,je){1&ue&&(t.YNc(0,Ds,2,2,"ng-template",0),t.YNc(1,rr,2,0,"ng-template",0)),2&ue&&(t.Q6J("ngIf",!je.loadingConnection),t.xp6(1),t.Q6J("ngIf",je.loadingConnection))},dependencies:[Ie.O5,ml.Ou,Ol.y]})}return de})();const $e=[{path:"home",component:ja,loadChildren:()=>p.e(434).then(p.bind(p,8434)).then(de=>de.HomeModule),canActivate:[_.E]},{path:"media",loadChildren:()=>p.e(169).then(p.bind(p,1169)).then(de=>de.MediaModule)},{path:"search",component:ya,loadChildren:()=>p.e(85).then(p.bind(p,2085)).then(de=>de.MediaSearchModule),canActivate:[_.E]},{path:"profiles",loadChildren:()=>p.e(209).then(p.bind(p,4209)).then(de=>de.ProfilesModule)},{path:"settings",loadChildren:()=>p.e(573).then(p.bind(p,573)).then(de=>de.SettingsModule)},{path:"manage",loadChildren:()=>p.e(781).then(p.bind(p,1781)).then(de=>de.ManageModule)},{path:"landing",component:cl,canActivate:[P]},{path:"register",component:$t,loadChildren:()=>p.e(470).then(p.bind(p,1470)).then(de=>de.RegisterAcccountPageModule),canActivate:[P]},{path:"login",component:zs,loadChildren:()=>p.e(717).then(p.bind(p,717)).then(de=>de.LoginPageModule),canActivate:[P]},{path:"recover",component:Ha,loadChildren:()=>p.e(456).then(p.bind(p,456)).then(de=>de.RecoverPasswordPageModule),canActivate:[P]},{path:"reset/:base64Data",component:pa,loadChildren:()=>p.e(300).then(p.bind(p,2300)).then(de=>de.ResetPasswordPageModule),canActivate:[P]},{path:"confirm/:base64Data",component:ll,loadChildren:()=>p.e(159).then(p.bind(p,159)).then(de=>de.ConfirmEmailPageModule),canActivate:[P]},{path:"404",component:wl},{path:"",pathMatch:"full",redirectTo:"home"},{path:"**",redirectTo:"/404"}];let Yt=(()=>{class de{static#e=this.\u0275fac=function(ue){return new(ue||de)};static#t=this.\u0275mod=t.oAB({type:de});static#n=this.\u0275inj=t.cJS({imports:[b.Bz.forRoot($e,{onSameUrlNavigation:"reload"}),b.Bz]})}return de})();var mt=p(6825);function Sn(de){return new t.vHH(3e3,!1)}function ps(de){switch(de.length){case 0:return new mt.ZN;case 1:return de[0];default:return new mt.ZE(de)}}function Jo(de,Z,F=new Map,ue=new Map){const je=[],xt=[];let rn=-1,mn=null;if(Z.forEach(Pn=>{const Yn=Pn.get("offset"),gi=Yn==rn,xi=gi&&mn||new Map;Pn.forEach((Hr,br)=>{let nr=br,ur=Hr;if("offset"!==br)switch(nr=de.normalizePropertyName(nr,je),ur){case mt.k1:ur=F.get(br);break;case mt.l3:ur=ue.get(br);break;default:ur=de.normalizeStyleValue(br,nr,ur,je)}xi.set(nr,ur)}),gi||xt.push(xi),mn=xi,rn=Yn}),je.length)throw function hc(de){return new t.vHH(3502,!1)}();return xt}function la(de,Z,F,ue){switch(Z){case"start":de.onStart(()=>ue(F&&gl(F,"start",de)));break;case"done":de.onDone(()=>ue(F&&gl(F,"done",de)));break;case"destroy":de.onDestroy(()=>ue(F&&gl(F,"destroy",de)))}}function gl(de,Z,F){const xt=_o(de.element,de.triggerName,de.fromState,de.toState,Z||de.phaseName,F.totalTime??de.totalTime,!!F.disabled),rn=de._data;return null!=rn&&(xt._data=rn),xt}function _o(de,Z,F,ue,je="",xt=0,rn){return{element:de,triggerName:Z,fromState:F,toState:ue,phaseName:je,totalTime:xt,disabled:!!rn}}function xo(de,Z,F){let ue=de.get(Z);return ue||de.set(Z,ue=F),ue}function Go(de){const Z=de.indexOf(":");return[de.substring(1,Z),de.slice(Z+1)]}const nl=(()=>typeof document>"u"?null:document.documentElement)();function Sa(de){const Z=de.parentNode||de.host||null;return Z===nl?null:Z}let Us=null,_l=!1;function $s(de,Z){for(;Z;){if(Z===de)return!0;Z=Sa(Z)}return!1}function yl(de,Z,F){if(F)return Array.from(de.querySelectorAll(Z));const ue=de.querySelector(Z);return ue?[ue]:[]}let Wl=(()=>{class de{validateStyleProperty(F){return function pc(de){Us||(Us=function Yc(){return typeof document<"u"?document.body:null}()||{},_l=!!Us.style&&"WebkitAppearance"in Us.style);let Z=!0;return Us.style&&!function ca(de){return"ebkit"==de.substring(1,6)}(de)&&(Z=de in Us.style,!Z&&_l&&(Z="Webkit"+de.charAt(0).toUpperCase()+de.slice(1)in Us.style)),Z}(F)}matchesElement(F,ue){return!1}containsElement(F,ue){return $s(F,ue)}getParentElement(F){return Sa(F)}query(F,ue,je){return yl(F,ue,je)}computeStyle(F,ue,je){return je||""}animate(F,ue,je,xt,rn,mn=[],Pn){return new mt.ZN(je,xt)}static#e=this.\u0275fac=function(ue){return new(ue||de)};static#t=this.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac})}return de})(),gc=(()=>{class de{static#e=this.NOOP=new Wl}return de})();const No=1e3,Yl="ng-enter",Ue="ng-leave",rt="ng-trigger",Me=".ng-trigger",nt="ng-animating",Gt=".ng-animating";function sn(de){if("number"==typeof de)return de;const Z=de.match(/^(-?[\.\d]+)(m?s)/);return!Z||Z.length<2?0:dn(parseFloat(Z[1]),Z[2])}function dn(de,Z){return"s"===Z?de*No:de}function Vn(de,Z,F){return de.hasOwnProperty("duration")?de:function mi(de,Z,F){let je,xt=0,rn="";if("string"==typeof de){const mn=de.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===mn)return Z.push(Sn()),{duration:0,delay:0,easing:""};je=dn(parseFloat(mn[1]),mn[2]);const Pn=mn[3];null!=Pn&&(xt=dn(parseFloat(Pn),mn[4]));const Yn=mn[5];Yn&&(rn=Yn)}else je=de;if(!F){let mn=!1,Pn=Z.length;je<0&&(Z.push(function Zn(){return new t.vHH(3100,!1)}()),mn=!0),xt<0&&(Z.push(function ai(){return new t.vHH(3101,!1)}()),mn=!0),mn&&Z.splice(Pn,0,Sn())}return{duration:je,delay:xt,easing:rn}}(de,Z,F)}function Pi(de,Z={}){return Object.keys(de).forEach(F=>{Z[F]=de[F]}),Z}function Ri(de){const Z=new Map;return Object.keys(de).forEach(F=>{Z.set(F,de[F])}),Z}function ao(de,Z=new Map,F){if(F)for(let[ue,je]of F)Z.set(ue,je);for(let[ue,je]of de)Z.set(ue,je);return Z}function Qo(de,Z,F){Z.forEach((ue,je)=>{const xt=wr(je);F&&!F.has(je)&&F.set(je,de.style[xt]),de.style[xt]=ue})}function gs(de,Z){Z.forEach((F,ue)=>{const je=wr(ue);de.style[je]=""})}function rs(de){return Array.isArray(de)?1==de.length?de[0]:(0,mt.vP)(de):de}const bl=new RegExp("{{\\s*(.+?)\\s*}}","g");function da(de){let Z=[];if("string"==typeof de){let F;for(;F=bl.exec(de);)Z.push(F[1]);bl.lastIndex=0}return Z}function _s(de,Z,F){const ue=de.toString(),je=ue.replace(bl,(xt,rn)=>{let mn=Z[rn];return null==mn&&(F.push(function Nr(de){return new t.vHH(3003,!1)}()),mn=""),mn.toString()});return je==ue?de:je}function El(de){const Z=[];let F=de.next();for(;!F.done;)Z.push(F.value),F=de.next();return Z}const vc=/-+([a-z0-9])/g;function wr(de){return de.replace(vc,(...Z)=>Z[1].toUpperCase())}function qo(de,Z,F){switch(Z.type){case 7:return de.visitTrigger(Z,F);case 0:return de.visitState(Z,F);case 1:return de.visitTransition(Z,F);case 2:return de.visitSequence(Z,F);case 3:return de.visitGroup(Z,F);case 4:return de.visitAnimate(Z,F);case 5:return de.visitKeyframes(Z,F);case 6:return de.visitStyle(Z,F);case 8:return de.visitReference(Z,F);case 9:return de.visitAnimateChild(Z,F);case 10:return de.visitAnimateRef(Z,F);case 11:return de.visitQuery(Z,F);case 12:return de.visitStagger(Z,F);default:throw function _r(de){return new t.vHH(3004,!1)}()}}function Ra(de,Z){return window.getComputedStyle(de)[Z]}const Jl="*";function Gs(de,Z){const F=[];return"string"==typeof de?de.split(/\s*,\s*/).forEach(ue=>function Na(de,Z,F){if(":"==de[0]){const Pn=function rd(de,Z){switch(de){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(F,ue)=>parseFloat(ue)>parseFloat(F);case":decrement":return(F,ue)=>parseFloat(ue)<parseFloat(F);default:return Z.push(function Pl(de){return new t.vHH(3016,!1)}()),"* => *"}}(de,F);if("function"==typeof Pn)return void Z.push(Pn);de=Pn}const ue=de.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==ue||ue.length<4)return F.push(function aa(de){return new t.vHH(3015,!1)}()),Z;const je=ue[1],xt=ue[2],rn=ue[3];Z.push(Ll(je,rn));"<"==xt[0]&&!(je==Jl&&rn==Jl)&&Z.push(Ll(rn,je))}(ue,F,Z)):F.push(de),F}const vs=new Set(["true","1"]),Ec=new Set(["false","0"]);function Ll(de,Z){const F=vs.has(de)||Ec.has(de),ue=vs.has(Z)||Ec.has(Z);return(je,xt)=>{let rn=de==Jl||de==je,mn=Z==Jl||Z==xt;return!rn&&F&&"boolean"==typeof je&&(rn=je?vs.has(de):Ec.has(de)),!mn&&ue&&"boolean"==typeof xt&&(mn=xt?vs.has(Z):Ec.has(Z)),rn&&mn}}const zc=new RegExp("s*:selfs*,?","g");function Js(de,Z,F,ue){return new _d(de).build(Z,F,ue)}class _d{constructor(Z){this._driver=Z}build(Z,F,ue){const je=new Tc(F);return this._resetContextStyleTimingState(je),qo(this,rs(Z),je)}_resetContextStyleTimingState(Z){Z.currentQuerySelector="",Z.collectedStyles=new Map,Z.collectedStyles.set("",new Map),Z.currentTime=0}visitTrigger(Z,F){let ue=F.queryCount=0,je=F.depCount=0;const xt=[],rn=[];return"@"==Z.name.charAt(0)&&F.errors.push(function tr(){return new t.vHH(3006,!1)}()),Z.definitions.forEach(mn=>{if(this._resetContextStyleTimingState(F),0==mn.type){const Pn=mn,Yn=Pn.name;Yn.toString().split(/\s*,\s*/).forEach(gi=>{Pn.name=gi,xt.push(this.visitState(Pn,F))}),Pn.name=Yn}else if(1==mn.type){const Pn=this.visitTransition(mn,F);ue+=Pn.queryCount,je+=Pn.depCount,rn.push(Pn)}else F.errors.push(function fo(){return new t.vHH(3007,!1)}())}),{type:7,name:Z.name,states:xt,transitions:rn,queryCount:ue,depCount:je,options:null}}visitState(Z,F){const ue=this.visitStyle(Z.styles,F),je=Z.options&&Z.options.params||null;if(ue.containsDynamicStyles){const xt=new Set,rn=je||{};ue.styles.forEach(mn=>{mn instanceof Map&&mn.forEach(Pn=>{da(Pn).forEach(Yn=>{rn.hasOwnProperty(Yn)||xt.add(Yn)})})}),xt.size&&(El(xt.values()),F.errors.push(function Lr(de,Z){return new t.vHH(3008,!1)}()))}return{type:0,name:Z.name,style:ue,options:je?{params:je}:null}}visitTransition(Z,F){F.queryCount=0,F.depCount=0;const ue=qo(this,rs(Z.animation),F);return{type:1,matchers:Gs(Z.expr,F.errors),animation:ue,queryCount:F.queryCount,depCount:F.depCount,options:Qs(Z.options)}}visitSequence(Z,F){return{type:2,steps:Z.steps.map(ue=>qo(this,ue,F)),options:Qs(Z.options)}}visitGroup(Z,F){const ue=F.currentTime;let je=0;const xt=Z.steps.map(rn=>{F.currentTime=ue;const mn=qo(this,rn,F);return je=Math.max(je,F.currentTime),mn});return F.currentTime=je,{type:3,steps:xt,options:Qs(Z.options)}}visitAnimate(Z,F){const ue=function Zc(de,Z){if(de.hasOwnProperty("duration"))return de;if("number"==typeof de)return La(Vn(de,Z).duration,0,"");const F=de;if(F.split(/\s+/).some(xt=>"{"==xt.charAt(0)&&"{"==xt.charAt(1))){const xt=La(0,0,"");return xt.dynamic=!0,xt.strValue=F,xt}const je=Vn(F,Z);return La(je.duration,je.delay,je.easing)}(Z.timings,F.errors);F.currentAnimateTimings=ue;let je,xt=Z.styles?Z.styles:(0,mt.oB)({});if(5==xt.type)je=this.visitKeyframes(xt,F);else{let rn=Z.styles,mn=!1;if(!rn){mn=!0;const Yn={};ue.easing&&(Yn.easing=ue.easing),rn=(0,mt.oB)(Yn)}F.currentTime+=ue.duration+ue.delay;const Pn=this.visitStyle(rn,F);Pn.isEmptyStep=mn,je=Pn}return F.currentAnimateTimings=null,{type:4,timings:ue,style:je,options:null}}visitStyle(Z,F){const ue=this._makeStyleAst(Z,F);return this._validateStyleAst(ue,F),ue}_makeStyleAst(Z,F){const ue=[],je=Array.isArray(Z.styles)?Z.styles:[Z.styles];for(let mn of je)"string"==typeof mn?mn===mt.l3?ue.push(mn):F.errors.push(new t.vHH(3002,!1)):ue.push(Ri(mn));let xt=!1,rn=null;return ue.forEach(mn=>{if(mn instanceof Map&&(mn.has("easing")&&(rn=mn.get("easing"),mn.delete("easing")),!xt))for(let Pn of mn.values())if(Pn.toString().indexOf("{{")>=0){xt=!0;break}}),{type:6,styles:ue,easing:rn,offset:Z.offset,containsDynamicStyles:xt,options:null}}_validateStyleAst(Z,F){const ue=F.currentAnimateTimings;let je=F.currentTime,xt=F.currentTime;ue&&xt>0&&(xt-=ue.duration+ue.delay),Z.styles.forEach(rn=>{"string"!=typeof rn&&rn.forEach((mn,Pn)=>{const Yn=F.collectedStyles.get(F.currentQuerySelector),gi=Yn.get(Pn);let xi=!0;gi&&(xt!=je&&xt>=gi.startTime&&je<=gi.endTime&&(F.errors.push(function Gi(de,Z,F,ue,je){return new t.vHH(3010,!1)}()),xi=!1),xt=gi.startTime),xi&&Yn.set(Pn,{startTime:xt,endTime:je}),F.options&&function Wa(de,Z,F){const ue=Z.params||{},je=da(de);je.length&&je.forEach(xt=>{ue.hasOwnProperty(xt)||F.push(function Fi(de){return new t.vHH(3001,!1)}())})}(mn,F.options,F.errors)})})}visitKeyframes(Z,F){const ue={type:5,styles:[],options:null};if(!F.currentAnimateTimings)return F.errors.push(function Qr(){return new t.vHH(3011,!1)}()),ue;let xt=0;const rn=[];let mn=!1,Pn=!1,Yn=0;const gi=Z.steps.map(lr=>{const as=this._makeStyleAst(lr,F);let ua=null!=as.offset?as.offset:function Nc(de){if("string"==typeof de)return null;let Z=null;if(Array.isArray(de))de.forEach(F=>{if(F instanceof Map&&F.has("offset")){const ue=F;Z=parseFloat(ue.get("offset")),ue.delete("offset")}});else if(de instanceof Map&&de.has("offset")){const F=de;Z=parseFloat(F.get("offset")),F.delete("offset")}return Z}(as.styles),ro=0;return null!=ua&&(xt++,ro=as.offset=ua),Pn=Pn||ro<0||ro>1,mn=mn||ro<Yn,Yn=ro,rn.push(ro),as});Pn&&F.errors.push(function no(){return new t.vHH(3012,!1)}()),mn&&F.errors.push(function Ms(){return new t.vHH(3200,!1)}());const xi=Z.steps.length;let Hr=0;xt>0&&xt<xi?F.errors.push(function Zs(){return new t.vHH(3202,!1)}()):0==xt&&(Hr=1/(xi-1));const br=xi-1,nr=F.currentTime,ur=F.currentAnimateTimings,vo=ur.duration;return gi.forEach((lr,as)=>{const ua=Hr>0?as==br?1:Hr*as:rn[as],ro=ua*vo;F.currentTime=nr+ur.delay+ro,ur.duration=ro,this._validateStyleAst(lr,F),lr.offset=ua,ue.styles.push(lr)}),ue}visitReference(Z,F){return{type:8,animation:qo(this,rs(Z.animation),F),options:Qs(Z.options)}}visitAnimateChild(Z,F){return F.depCount++,{type:9,options:Qs(Z.options)}}visitAnimateRef(Z,F){return{type:10,animation:this.visitReference(Z.animation,F),options:Qs(Z.options)}}visitQuery(Z,F){const ue=F.currentQuerySelector,je=Z.options||{};F.queryCount++,F.currentQuery=Z;const[xt,rn]=function kl(de){const Z=!!de.split(/\s*,\s*/).find(F=>":self"==F);return Z&&(de=de.replace(zc,"")),de=de.replace(/@\*/g,Me).replace(/@\w+/g,F=>Me+"-"+F.slice(1)).replace(/:animating/g,Gt),[de,Z]}(Z.selector);F.currentQuerySelector=ue.length?ue+" "+xt:xt,xo(F.collectedStyles,F.currentQuerySelector,new Map);const mn=qo(this,rs(Z.animation),F);return F.currentQuery=null,F.currentQuerySelector=ue,{type:11,selector:xt,limit:je.limit||0,optional:!!je.optional,includeSelf:rn,animation:mn,originalSelector:Z.selector,options:Qs(Z.options)}}visitStagger(Z,F){F.currentQuery||F.errors.push(function sa(){return new t.vHH(3013,!1)}());const ue="full"===Z.timings?{duration:0,delay:0,easing:"full"}:Vn(Z.timings,F.errors,!0);return{type:12,animation:qo(this,rs(Z.animation),F),timings:ue,options:null}}}class Tc{constructor(Z){this.errors=Z,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Qs(de){return de?(de=Pi(de)).params&&(de.params=function ql(de){return de?Pi(de):null}(de.params)):de={},de}function La(de,Z,F){return{duration:de,delay:Z,easing:F}}function Sl(de,Z,F,ue,je,xt,rn=null,mn=!1){return{type:1,element:de,keyframes:Z,preStyleProps:F,postStyleProps:ue,duration:je,delay:xt,totalTime:je+xt,easing:rn,subTimeline:mn}}class Cl{constructor(){this._map=new Map}get(Z){return this._map.get(Z)||[]}append(Z,F){let ue=this._map.get(Z);ue||this._map.set(Z,ue=[]),ue.push(...F)}has(Z){return this._map.has(Z)}clear(){this._map.clear()}}const Lc=new RegExp(":enter","g"),Cc=new RegExp(":leave","g");function $c(de,Z,F,ue,je,xt=new Map,rn=new Map,mn,Pn,Yn=[]){return(new Jc).buildKeyframes(de,Z,F,ue,je,xt,rn,mn,Pn,Yn)}class Jc{buildKeyframes(Z,F,ue,je,xt,rn,mn,Pn,Yn,gi=[]){Yn=Yn||new Cl;const xi=new za(Z,F,Yn,je,xt,gi,[]);xi.options=Pn;const Hr=Pn.delay?sn(Pn.delay):0;xi.currentTimeline.delayNextStep(Hr),xi.currentTimeline.setStyles([rn],null,xi.errors,Pn),qo(this,ue,xi);const br=xi.timelines.filter(nr=>nr.containsAnimation());if(br.length&&mn.size){let nr;for(let ur=br.length-1;ur>=0;ur--){const vo=br[ur];if(vo.element===F){nr=vo;break}}nr&&!nr.allowOnlyTimelineStyles()&&nr.setStyles([mn],null,xi.errors,Pn)}return br.length?br.map(nr=>nr.buildKeyframes()):[Sl(F,[],[],[],0,Hr,"",!1)]}visitTrigger(Z,F){}visitState(Z,F){}visitTransition(Z,F){}visitAnimateChild(Z,F){const ue=F.subInstructions.get(F.element);if(ue){const je=F.createSubContext(Z.options),xt=F.currentTimeline.currentTime,rn=this._visitSubInstructions(ue,je,je.options);xt!=rn&&F.transformIntoNewTimeline(rn)}F.previousNode=Z}visitAnimateRef(Z,F){const ue=F.createSubContext(Z.options);ue.transformIntoNewTimeline(),this._applyAnimationRefDelays([Z.options,Z.animation.options],F,ue),this.visitReference(Z.animation,ue),F.transformIntoNewTimeline(ue.currentTimeline.currentTime),F.previousNode=Z}_applyAnimationRefDelays(Z,F,ue){for(const je of Z){const xt=je?.delay;if(xt){const rn="number"==typeof xt?xt:sn(_s(xt,je?.params??{},F.errors));ue.delayNextStep(rn)}}}_visitSubInstructions(Z,F,ue){let xt=F.currentTimeline.currentTime;const rn=null!=ue.duration?sn(ue.duration):null,mn=null!=ue.delay?sn(ue.delay):null;return 0!==rn&&Z.forEach(Pn=>{const Yn=F.appendInstructionToTimeline(Pn,rn,mn);xt=Math.max(xt,Yn.duration+Yn.delay)}),xt}visitReference(Z,F){F.updateOptions(Z.options,!0),qo(this,Z.animation,F),F.previousNode=Z}visitSequence(Z,F){const ue=F.subContextCount;let je=F;const xt=Z.options;if(xt&&(xt.params||xt.delay)&&(je=F.createSubContext(xt),je.transformIntoNewTimeline(),null!=xt.delay)){6==je.previousNode.type&&(je.currentTimeline.snapshotCurrentStyles(),je.previousNode=Xl);const rn=sn(xt.delay);je.delayNextStep(rn)}Z.steps.length&&(Z.steps.forEach(rn=>qo(this,rn,je)),je.currentTimeline.applyStylesToKeyframe(),je.subContextCount>ue&&je.transformIntoNewTimeline()),F.previousNode=Z}visitGroup(Z,F){const ue=[];let je=F.currentTimeline.currentTime;const xt=Z.options&&Z.options.delay?sn(Z.options.delay):0;Z.steps.forEach(rn=>{const mn=F.createSubContext(Z.options);xt&&mn.delayNextStep(xt),qo(this,rn,mn),je=Math.max(je,mn.currentTimeline.currentTime),ue.push(mn.currentTimeline)}),ue.forEach(rn=>F.currentTimeline.mergeTimelineCollectedStyles(rn)),F.transformIntoNewTimeline(je),F.previousNode=Z}_visitTiming(Z,F){if(Z.dynamic){const ue=Z.strValue;return Vn(F.params?_s(ue,F.params,F.errors):ue,F.errors)}return{duration:Z.duration,delay:Z.delay,easing:Z.easing}}visitAnimate(Z,F){const ue=F.currentAnimateTimings=this._visitTiming(Z.timings,F),je=F.currentTimeline;ue.delay&&(F.incrementTime(ue.delay),je.snapshotCurrentStyles());const xt=Z.style;5==xt.type?this.visitKeyframes(xt,F):(F.incrementTime(ue.duration),this.visitStyle(xt,F),je.applyStylesToKeyframe()),F.currentAnimateTimings=null,F.previousNode=Z}visitStyle(Z,F){const ue=F.currentTimeline,je=F.currentAnimateTimings;!je&&ue.hasCurrentStyleProperties()&&ue.forwardFrame();const xt=je&&je.easing||Z.easing;Z.isEmptyStep?ue.applyEmptyStep(xt):ue.setStyles(Z.styles,xt,F.errors,F.options),F.previousNode=Z}visitKeyframes(Z,F){const ue=F.currentAnimateTimings,je=F.currentTimeline.duration,xt=ue.duration,mn=F.createSubContext().currentTimeline;mn.easing=ue.easing,Z.styles.forEach(Pn=>{mn.forwardTime((Pn.offset||0)*xt),mn.setStyles(Pn.styles,Pn.easing,F.errors,F.options),mn.applyStylesToKeyframe()}),F.currentTimeline.mergeTimelineCollectedStyles(mn),F.transformIntoNewTimeline(je+xt),F.previousNode=Z}visitQuery(Z,F){const ue=F.currentTimeline.currentTime,je=Z.options||{},xt=je.delay?sn(je.delay):0;xt&&(6===F.previousNode.type||0==ue&&F.currentTimeline.hasCurrentStyleProperties())&&(F.currentTimeline.snapshotCurrentStyles(),F.previousNode=Xl);let rn=ue;const mn=F.invokeQuery(Z.selector,Z.originalSelector,Z.limit,Z.includeSelf,!!je.optional,F.errors);F.currentQueryTotal=mn.length;let Pn=null;mn.forEach((Yn,gi)=>{F.currentQueryIndex=gi;const xi=F.createSubContext(Z.options,Yn);xt&&xi.delayNextStep(xt),Yn===F.element&&(Pn=xi.currentTimeline),qo(this,Z.animation,xi),xi.currentTimeline.applyStylesToKeyframe(),rn=Math.max(rn,xi.currentTimeline.currentTime)}),F.currentQueryIndex=0,F.currentQueryTotal=0,F.transformIntoNewTimeline(rn),Pn&&(F.currentTimeline.mergeTimelineCollectedStyles(Pn),F.currentTimeline.snapshotCurrentStyles()),F.previousNode=Z}visitStagger(Z,F){const ue=F.parentContext,je=F.currentTimeline,xt=Z.timings,rn=Math.abs(xt.duration),mn=rn*(F.currentQueryTotal-1);let Pn=rn*F.currentQueryIndex;switch(xt.duration<0?"reverse":xt.easing){case"reverse":Pn=mn-Pn;break;case"full":Pn=ue.currentStaggerTime}const gi=F.currentTimeline;Pn&&gi.delayNextStep(Pn);const xi=gi.currentTime;qo(this,Z.animation,F),F.previousNode=Z,ue.currentStaggerTime=je.currentTime-xi+(je.startTime-ue.currentTimeline.startTime)}}const Xl={};class za{constructor(Z,F,ue,je,xt,rn,mn,Pn){this._driver=Z,this.element=F,this.subInstructions=ue,this._enterClassName=je,this._leaveClassName=xt,this.errors=rn,this.timelines=mn,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Xl,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Pn||new ka(this._driver,F,0),mn.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(Z,F){if(!Z)return;const ue=Z;let je=this.options;null!=ue.duration&&(je.duration=sn(ue.duration)),null!=ue.delay&&(je.delay=sn(ue.delay));const xt=ue.params;if(xt){let rn=je.params;rn||(rn=this.options.params={}),Object.keys(xt).forEach(mn=>{(!F||!rn.hasOwnProperty(mn))&&(rn[mn]=_s(xt[mn],rn,this.errors))})}}_copyOptions(){const Z={};if(this.options){const F=this.options.params;if(F){const ue=Z.params={};Object.keys(F).forEach(je=>{ue[je]=F[je]})}}return Z}createSubContext(Z=null,F,ue){const je=F||this.element,xt=new za(this._driver,je,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(je,ue||0));return xt.previousNode=this.previousNode,xt.currentAnimateTimings=this.currentAnimateTimings,xt.options=this._copyOptions(),xt.updateOptions(Z),xt.currentQueryIndex=this.currentQueryIndex,xt.currentQueryTotal=this.currentQueryTotal,xt.parentContext=this,this.subContextCount++,xt}transformIntoNewTimeline(Z){return this.previousNode=Xl,this.currentTimeline=this.currentTimeline.fork(this.element,Z),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(Z,F,ue){const je={duration:F??Z.duration,delay:this.currentTimeline.currentTime+(ue??0)+Z.delay,easing:""},xt=new rl(this._driver,Z.element,Z.keyframes,Z.preStyleProps,Z.postStyleProps,je,Z.stretchStartingKeyframe);return this.timelines.push(xt),je}incrementTime(Z){this.currentTimeline.forwardTime(this.currentTimeline.duration+Z)}delayNextStep(Z){Z>0&&this.currentTimeline.delayNextStep(Z)}invokeQuery(Z,F,ue,je,xt,rn){let mn=[];if(je&&mn.push(this.element),Z.length>0){Z=(Z=Z.replace(Lc,"."+this._enterClassName)).replace(Cc,"."+this._leaveClassName);let Yn=this._driver.query(this.element,Z,1!=ue);0!==ue&&(Yn=ue<0?Yn.slice(Yn.length+ue,Yn.length):Yn.slice(0,ue)),mn.push(...Yn)}return!xt&&0==mn.length&&rn.push(function ba(de){return new t.vHH(3014,!1)}()),mn}}class ka{constructor(Z,F,ue,je){this._driver=Z,this.element=F,this.startTime=ue,this._elementTimelineStylesLookup=je,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(F),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(F,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(Z){const F=1===this._keyframes.size&&this._pendingStyles.size;this.duration||F?(this.forwardTime(this.currentTime+Z),F&&this.snapshotCurrentStyles()):this.startTime+=Z}fork(Z,F){return this.applyStylesToKeyframe(),new ka(this._driver,Z,F||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(Z){this.applyStylesToKeyframe(),this.duration=Z,this._loadKeyframe()}_updateStyle(Z,F){this._localTimelineStyles.set(Z,F),this._globalTimelineStyles.set(Z,F),this._styleSummary.set(Z,{time:this.currentTime,value:F})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(Z){Z&&this._previousKeyframe.set("easing",Z);for(let[F,ue]of this._globalTimelineStyles)this._backFill.set(F,ue||mt.l3),this._currentKeyframe.set(F,mt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(Z,F,ue,je){F&&this._previousKeyframe.set("easing",F);const xt=je&&je.params||{},rn=function Ul(de,Z){const F=new Map;let ue;return de.forEach(je=>{if("*"===je){ue=ue||Z.keys();for(let xt of ue)F.set(xt,mt.l3)}else ao(je,F)}),F}(Z,this._globalTimelineStyles);for(let[mn,Pn]of rn){const Yn=_s(Pn,xt,ue);this._pendingStyles.set(mn,Yn),this._localTimelineStyles.has(mn)||this._backFill.set(mn,this._globalTimelineStyles.get(mn)??mt.l3),this._updateStyle(mn,Yn)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((Z,F)=>{this._currentKeyframe.set(F,Z)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((Z,F)=>{this._currentKeyframe.has(F)||this._currentKeyframe.set(F,Z)}))}snapshotCurrentStyles(){for(let[Z,F]of this._localTimelineStyles)this._pendingStyles.set(Z,F),this._updateStyle(Z,F)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const Z=[];for(let F in this._currentKeyframe)Z.push(F);return Z}mergeTimelineCollectedStyles(Z){Z._styleSummary.forEach((F,ue)=>{const je=this._styleSummary.get(ue);(!je||F.time>je.time)&&this._updateStyle(ue,F.value)})}buildKeyframes(){this.applyStylesToKeyframe();const Z=new Set,F=new Set,ue=1===this._keyframes.size&&0===this.duration;let je=[];this._keyframes.forEach((mn,Pn)=>{const Yn=ao(mn,new Map,this._backFill);Yn.forEach((gi,xi)=>{gi===mt.k1?Z.add(xi):gi===mt.l3&&F.add(xi)}),ue||Yn.set("offset",Pn/this.duration),je.push(Yn)});const xt=Z.size?El(Z.values()):[],rn=F.size?El(F.values()):[];if(ue){const mn=je[0],Pn=new Map(mn);mn.set("offset",0),Pn.set("offset",1),je=[mn,Pn]}return Sl(this.element,je,xt,rn,this.duration,this.startTime,this.easing,!1)}}class rl extends ka{constructor(Z,F,ue,je,xt,rn,mn=!1){super(Z,F,rn.delay),this.keyframes=ue,this.preStyleProps=je,this.postStyleProps=xt,this._stretchStartingKeyframe=mn,this.timings={duration:rn.duration,delay:rn.delay,easing:rn.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let Z=this.keyframes,{delay:F,duration:ue,easing:je}=this.timings;if(this._stretchStartingKeyframe&&F){const xt=[],rn=ue+F,mn=F/rn,Pn=ao(Z[0]);Pn.set("offset",0),xt.push(Pn);const Yn=ao(Z[0]);Yn.set("offset",ec(mn)),xt.push(Yn);const gi=Z.length-1;for(let xi=1;xi<=gi;xi++){let Hr=ao(Z[xi]);const br=Hr.get("offset");Hr.set("offset",ec((F+br*ue)/rn)),xt.push(Hr)}ue=rn,F=0,je="",Z=xt}return Sl(this.element,Z,this.preStyleProps,this.postStyleProps,ue,F,je,!0)}}function ec(de,Z=3){const F=Math.pow(10,Z-1);return Math.round(de*F)/F}class Dc{}const kc=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Hs extends Dc{normalizePropertyName(Z,F){return wr(Z)}normalizeStyleValue(Z,F,ue,je){let xt="";const rn=ue.toString().trim();if(kc.has(F)&&0!==ue&&"0"!==ue)if("number"==typeof ue)xt="px";else{const mn=ue.match(/^[+-]?[\d\.]+([a-z]*)$/);mn&&0==mn[1].length&&je.push(function fr(de,Z){return new t.vHH(3005,!1)}())}return rn+xt}}function Fc(de,Z,F,ue,je,xt,rn,mn,Pn,Yn,gi,xi,Hr){return{type:0,element:de,triggerName:Z,isRemovalTransition:je,fromState:F,fromStyles:xt,toState:ue,toStyles:rn,timelines:mn,queriedElements:Pn,preStyleProps:Yn,postStyleProps:gi,totalTime:xi,errors:Hr}}const $a={};class xd{constructor(Z,F,ue){this._triggerName=Z,this.ast=F,this._stateStyles=ue}match(Z,F,ue,je){return function Gl(de,Z,F,ue,je){return de.some(xt=>xt(Z,F,ue,je))}(this.ast.matchers,Z,F,ue,je)}buildStyles(Z,F,ue){let je=this._stateStyles.get("*");return void 0!==Z&&(je=this._stateStyles.get(Z?.toString())||je),je?je.buildStyles(F,ue):new Map}build(Z,F,ue,je,xt,rn,mn,Pn,Yn,gi){const xi=[],Hr=this.ast.options&&this.ast.options.params||$a,nr=this.buildStyles(ue,mn&&mn.params||$a,xi),ur=Pn&&Pn.params||$a,vo=this.buildStyles(je,ur,xi),lr=new Set,as=new Map,ua=new Map,ro="void"===je,qa={params:tc(ur,Hr),delay:this.ast.options?.delay},fa=gi?[]:$c(Z,F,this.ast.animation,xt,rn,nr,vo,qa,Yn,xi);let xl=0;if(fa.forEach(td=>{xl=Math.max(td.duration+td.delay,xl)}),xi.length)return Fc(F,this._triggerName,ue,je,ro,nr,vo,[],[],as,ua,xl,xi);fa.forEach(td=>{const Hc=td.element,Gh=xo(as,Hc,new Set);td.preStyleProps.forEach(Hd=>Gh.add(Hd));const Gd=xo(ua,Hc,new Set);td.postStyleProps.forEach(Hd=>Gd.add(Hd)),Hc!==F&&lr.add(Hc)});const ed=El(lr.values());return Fc(F,this._triggerName,ue,je,ro,nr,vo,fa,ed,as,ua,xl)}}function tc(de,Z){const F=Pi(Z);for(const ue in de)de.hasOwnProperty(ue)&&null!=de[ue]&&(F[ue]=de[ue]);return F}class nc{constructor(Z,F,ue){this.styles=Z,this.defaultParams=F,this.normalizer=ue}buildStyles(Z,F){const ue=new Map,je=Pi(this.defaultParams);return Object.keys(Z).forEach(xt=>{const rn=Z[xt];null!==rn&&(je[xt]=rn)}),this.styles.styles.forEach(xt=>{"string"!=typeof xt&&xt.forEach((rn,mn)=>{rn&&(rn=_s(rn,je,F));const Pn=this.normalizer.normalizePropertyName(mn,F);rn=this.normalizer.normalizeStyleValue(mn,Pn,rn,F),ue.set(mn,rn)})}),ue}}class Eo{constructor(Z,F,ue){this.name=Z,this.ast=F,this._normalizer=ue,this.transitionFactories=[],this.states=new Map,F.states.forEach(je=>{this.states.set(je.name,new nc(je.style,je.options&&je.options.params||{},ue))}),Xs(this.states,"true","1"),Xs(this.states,"false","0"),F.transitions.forEach(je=>{this.transitionFactories.push(new xd(Z,je,this.states))}),this.fallbackTransition=function Dl(de,Z,F){return new xd(de,{type:1,animation:{type:2,steps:[],options:null},matchers:[(rn,mn)=>!0],options:null,queryCount:0,depCount:0},Z)}(Z,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(Z,F,ue,je){return this.transitionFactories.find(rn=>rn.match(Z,F,ue,je))||null}matchStyles(Z,F,ue){return this.fallbackTransition.buildStyles(Z,F,ue)}}function Xs(de,Z,F){de.has(Z)?de.has(F)||de.set(F,de.get(Z)):de.has(F)&&de.set(Z,de.get(F))}const js=new Cl;class Ca{constructor(Z,F,ue){this.bodyNode=Z,this._driver=F,this._normalizer=ue,this._animations=new Map,this._playersById=new Map,this.players=[]}register(Z,F){const ue=[],xt=Js(this._driver,F,ue,[]);if(ue.length)throw function di(de){return new t.vHH(3503,!1)}();this._animations.set(Z,xt)}_buildPlayer(Z,F,ue){const je=Z.element,xt=Jo(this._normalizer,Z.keyframes,F,ue);return this._driver.animate(je,xt,Z.duration,Z.delay,Z.easing,[],!0)}create(Z,F,ue={}){const je=[],xt=this._animations.get(Z);let rn;const mn=new Map;if(xt?(rn=$c(this._driver,F,xt,Yl,Ue,new Map,new Map,ue,js,je),rn.forEach(gi=>{const xi=xo(mn,gi.element,new Map);gi.postStyleProps.forEach(Hr=>xi.set(Hr,null))})):(je.push(function sr(){return new t.vHH(3300,!1)}()),rn=[]),je.length)throw function pl(de){return new t.vHH(3504,!1)}();mn.forEach((gi,xi)=>{gi.forEach((Hr,br)=>{gi.set(br,this._driver.computeStyle(xi,br,mt.l3))})});const Yn=ps(rn.map(gi=>{const xi=mn.get(gi.element);return this._buildPlayer(gi,new Map,xi)}));return this._playersById.set(Z,Yn),Yn.onDestroy(()=>this.destroy(Z)),this.players.push(Yn),Yn}destroy(Z){const F=this._getPlayer(Z);F.destroy(),this._playersById.delete(Z);const ue=this.players.indexOf(F);ue>=0&&this.players.splice(ue,1)}_getPlayer(Z){const F=this._playersById.get(Z);if(!F)throw function mc(de){return new t.vHH(3301,!1)}();return F}listen(Z,F,ue,je){const xt=_o(F,"","","");return la(this._getPlayer(Z),ue,xt,je),()=>{}}command(Z,F,ue,je){if("register"==ue)return void this.register(Z,je[0]);if("create"==ue)return void this.create(Z,F,je[0]||{});const xt=this._getPlayer(Z);switch(ue){case"play":xt.play();break;case"pause":xt.pause();break;case"reset":xt.reset();break;case"restart":xt.restart();break;case"finish":xt.finish();break;case"init":xt.init();break;case"setPosition":xt.setPosition(parseFloat(je[0]));break;case"destroy":this.destroy(Z)}}}const Qc="ng-animate-queued",Ml="ng-animate-disabled",We=[],dt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ht={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hn="__ng_removed";class Ln{get params(){return this.options.params}constructor(Z,F=""){this.namespaceId=F;const ue=Z&&Z.hasOwnProperty("value");if(this.value=function dr(de){return de??null}(ue?Z.value:Z),ue){const xt=Pi(Z);delete xt.value,this.options=xt}else this.options={};this.options.params||(this.options.params={})}absorbOptions(Z){const F=Z.params;if(F){const ue=this.options.params;Object.keys(F).forEach(je=>{null==ue[je]&&(ue[je]=F[je])})}}}const Gn="void",Qn=new Ln(Gn);class Ci{constructor(Z,F,ue){this.id=Z,this.hostElement=F,this._engine=ue,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+Z,To(F,this._hostClassName)}listen(Z,F,ue,je){if(!this._triggers.has(F))throw function jo(de,Z){return new t.vHH(3302,!1)}();if(null==ue||0==ue.length)throw function Wc(de){return new t.vHH(3303,!1)}();if(!function Vo(de){return"start"==de||"done"==de}(ue))throw function tl(de,Z){return new t.vHH(3400,!1)}();const xt=xo(this._elementListeners,Z,[]),rn={name:F,phase:ue,callback:je};xt.push(rn);const mn=xo(this._engine.statesByElement,Z,new Map);return mn.has(F)||(To(Z,rt),To(Z,rt+"-"+F),mn.set(F,Qn)),()=>{this._engine.afterFlush(()=>{const Pn=xt.indexOf(rn);Pn>=0&&xt.splice(Pn,1),this._triggers.has(F)||mn.delete(F)})}}register(Z,F){return!this._triggers.has(Z)&&(this._triggers.set(Z,F),!0)}_getTrigger(Z){const F=this._triggers.get(Z);if(!F)throw function so(de){return new t.vHH(3401,!1)}();return F}trigger(Z,F,ue,je=!0){const xt=this._getTrigger(F),rn=new Ni(this.id,F,Z);let mn=this._engine.statesByElement.get(Z);mn||(To(Z,rt),To(Z,rt+"-"+F),this._engine.statesByElement.set(Z,mn=new Map));let Pn=mn.get(F);const Yn=new Ln(ue,this.id);if(!(ue&&ue.hasOwnProperty("value"))&&Pn&&Yn.absorbOptions(Pn.options),mn.set(F,Yn),Pn||(Pn=Qn),Yn.value!==Gn&&Pn.value===Yn.value){if(!function sd(de,Z){const F=Object.keys(de),ue=Object.keys(Z);if(F.length!=ue.length)return!1;for(let je=0;je<F.length;je++){const xt=F[je];if(!Z.hasOwnProperty(xt)||de[xt]!==Z[xt])return!1}return!0}(Pn.params,Yn.params)){const ur=[],vo=xt.matchStyles(Pn.value,Pn.params,ur),lr=xt.matchStyles(Yn.value,Yn.params,ur);ur.length?this._engine.reportError(ur):this._engine.afterFlush(()=>{gs(Z,vo),Qo(Z,lr)})}return}const Hr=xo(this._engine.playersByElement,Z,[]);Hr.forEach(ur=>{ur.namespaceId==this.id&&ur.triggerName==F&&ur.queued&&ur.destroy()});let br=xt.matchTransition(Pn.value,Yn.value,Z,Yn.params),nr=!1;if(!br){if(!je)return;br=xt.fallbackTransition,nr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:Z,triggerName:F,transition:br,fromState:Pn,toState:Yn,player:rn,isFallbackTransition:nr}),nr||(To(Z,Qc),rn.onStart(()=>{ea(Z,Qc)})),rn.onDone(()=>{let ur=this.players.indexOf(rn);ur>=0&&this.players.splice(ur,1);const vo=this._engine.playersByElement.get(Z);if(vo){let lr=vo.indexOf(rn);lr>=0&&vo.splice(lr,1)}}),this.players.push(rn),Hr.push(rn),rn}deregister(Z){this._triggers.delete(Z),this._engine.statesByElement.forEach(F=>F.delete(Z)),this._elementListeners.forEach((F,ue)=>{this._elementListeners.set(ue,F.filter(je=>je.name!=Z))})}clearElementCache(Z){this._engine.statesByElement.delete(Z),this._elementListeners.delete(Z);const F=this._engine.playersByElement.get(Z);F&&(F.forEach(ue=>ue.destroy()),this._engine.playersByElement.delete(Z))}_signalRemovalForInnerTriggers(Z,F){const ue=this._engine.driver.query(Z,Me,!0);ue.forEach(je=>{if(je[hn])return;const xt=this._engine.fetchNamespacesByElement(je);xt.size?xt.forEach(rn=>rn.triggerLeaveAnimation(je,F,!1,!0)):this.clearElementCache(je)}),this._engine.afterFlushAnimationsDone(()=>ue.forEach(je=>this.clearElementCache(je)))}triggerLeaveAnimation(Z,F,ue,je){const xt=this._engine.statesByElement.get(Z),rn=new Map;if(xt){const mn=[];if(xt.forEach((Pn,Yn)=>{if(rn.set(Yn,Pn.value),this._triggers.has(Yn)){const gi=this.trigger(Z,Yn,Gn,je);gi&&mn.push(gi)}}),mn.length)return this._engine.markElementAsRemoved(this.id,Z,!0,F,rn),ue&&ps(mn).onDone(()=>this._engine.processLeaveNode(Z)),!0}return!1}prepareLeaveAnimationListeners(Z){const F=this._elementListeners.get(Z),ue=this._engine.statesByElement.get(Z);if(F&&ue){const je=new Set;F.forEach(xt=>{const rn=xt.name;if(je.has(rn))return;je.add(rn);const Pn=this._triggers.get(rn).fallbackTransition,Yn=ue.get(rn)||Qn,gi=new Ln(Gn),xi=new Ni(this.id,rn,Z);this._engine.totalQueuedPlayers++,this._queue.push({element:Z,triggerName:rn,transition:Pn,fromState:Yn,toState:gi,player:xi,isFallbackTransition:!0})})}}removeNode(Z,F){const ue=this._engine;if(Z.childElementCount&&this._signalRemovalForInnerTriggers(Z,F),this.triggerLeaveAnimation(Z,F,!0))return;let je=!1;if(ue.totalAnimations){const xt=ue.players.length?ue.playersByQueriedElement.get(Z):[];if(xt&&xt.length)je=!0;else{let rn=Z;for(;rn=rn.parentNode;)if(ue.statesByElement.get(rn)){je=!0;break}}}if(this.prepareLeaveAnimationListeners(Z),je)ue.markElementAsRemoved(this.id,Z,!1,F);else{const xt=Z[hn];(!xt||xt===dt)&&(ue.afterFlush(()=>this.clearElementCache(Z)),ue.destroyInnerAnimations(Z),ue._onRemovalComplete(Z,F))}}insertNode(Z,F){To(Z,this._hostClassName)}drainQueuedTransitions(Z){const F=[];return this._queue.forEach(ue=>{const je=ue.player;if(je.destroyed)return;const xt=ue.element,rn=this._elementListeners.get(xt);rn&&rn.forEach(mn=>{if(mn.name==ue.triggerName){const Pn=_o(xt,ue.triggerName,ue.fromState.value,ue.toState.value);Pn._data=Z,la(ue.player,mn.phase,Pn,mn.callback)}}),je.markedForDestroy?this._engine.afterFlush(()=>{je.destroy()}):F.push(ue)}),this._queue=[],F.sort((ue,je)=>{const xt=ue.transition.ast.depCount,rn=je.transition.ast.depCount;return 0==xt||0==rn?xt-rn:this._engine.driver.containsElement(ue.element,je.element)?1:-1})}destroy(Z){this.players.forEach(F=>F.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,Z)}}class Zt{_onRemovalComplete(Z,F){this.onRemovalComplete(Z,F)}constructor(Z,F,ue){this.bodyNode=Z,this.driver=F,this._normalizer=ue,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(je,xt)=>{}}get queuedPlayers(){const Z=[];return this._namespaceList.forEach(F=>{F.players.forEach(ue=>{ue.queued&&Z.push(ue)})}),Z}createNamespace(Z,F){const ue=new Ci(Z,F,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,F)?this._balanceNamespaceList(ue,F):(this.newHostElements.set(F,ue),this.collectEnterElement(F)),this._namespaceLookup[Z]=ue}_balanceNamespaceList(Z,F){const ue=this._namespaceList,je=this.namespacesByHostElement;if(ue.length-1>=0){let rn=!1,mn=this.driver.getParentElement(F);for(;mn;){const Pn=je.get(mn);if(Pn){const Yn=ue.indexOf(Pn);ue.splice(Yn+1,0,Z),rn=!0;break}mn=this.driver.getParentElement(mn)}rn||ue.unshift(Z)}else ue.push(Z);return je.set(F,Z),Z}register(Z,F){let ue=this._namespaceLookup[Z];return ue||(ue=this.createNamespace(Z,F)),ue}registerTrigger(Z,F,ue){let je=this._namespaceLookup[Z];je&&je.register(F,ue)&&this.totalAnimations++}destroy(Z,F){Z&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const ue=this._fetchNamespace(Z);this.namespacesByHostElement.delete(ue.hostElement);const je=this._namespaceList.indexOf(ue);je>=0&&this._namespaceList.splice(je,1),ue.destroy(F),delete this._namespaceLookup[Z]}))}_fetchNamespace(Z){return this._namespaceLookup[Z]}fetchNamespacesByElement(Z){const F=new Set,ue=this.statesByElement.get(Z);if(ue)for(let je of ue.values())if(je.namespaceId){const xt=this._fetchNamespace(je.namespaceId);xt&&F.add(xt)}return F}trigger(Z,F,ue,je){if(ys(F)){const xt=this._fetchNamespace(Z);if(xt)return xt.trigger(F,ue,je),!0}return!1}insertNode(Z,F,ue,je){if(!ys(F))return;const xt=F[hn];if(xt&&xt.setForRemoval){xt.setForRemoval=!1,xt.setForMove=!0;const rn=this.collectedLeaveElements.indexOf(F);rn>=0&&this.collectedLeaveElements.splice(rn,1)}if(Z){const rn=this._fetchNamespace(Z);rn&&rn.insertNode(F,ue)}je&&this.collectEnterElement(F)}collectEnterElement(Z){this.collectedEnterElements.push(Z)}markElementAsDisabled(Z,F){F?this.disabledNodes.has(Z)||(this.disabledNodes.add(Z),To(Z,Ml)):this.disabledNodes.has(Z)&&(this.disabledNodes.delete(Z),ea(Z,Ml))}removeNode(Z,F,ue){if(ys(F)){const je=Z?this._fetchNamespace(Z):null;je?je.removeNode(F,ue):this.markElementAsRemoved(Z,F,!1,ue);const xt=this.namespacesByHostElement.get(F);xt&&xt.id!==Z&&xt.removeNode(F,ue)}else this._onRemovalComplete(F,ue)}markElementAsRemoved(Z,F,ue,je,xt){this.collectedLeaveElements.push(F),F[hn]={namespaceId:Z,setForRemoval:je,hasAnimation:ue,removedBeforeQueried:!1,previousTriggersValues:xt}}listen(Z,F,ue,je,xt){return ys(F)?this._fetchNamespace(Z).listen(F,ue,je,xt):()=>{}}_buildInstruction(Z,F,ue,je,xt){return Z.transition.build(this.driver,Z.element,Z.fromState.value,Z.toState.value,ue,je,Z.fromState.options,Z.toState.options,F,xt)}destroyInnerAnimations(Z){let F=this.driver.query(Z,Me,!0);F.forEach(ue=>this.destroyActiveAnimationsForElement(ue)),0!=this.playersByQueriedElement.size&&(F=this.driver.query(Z,Gt,!0),F.forEach(ue=>this.finishActiveQueriedAnimationOnElement(ue)))}destroyActiveAnimationsForElement(Z){const F=this.playersByElement.get(Z);F&&F.forEach(ue=>{ue.queued?ue.markedForDestroy=!0:ue.destroy()})}finishActiveQueriedAnimationOnElement(Z){const F=this.playersByQueriedElement.get(Z);F&&F.forEach(ue=>ue.finish())}whenRenderingDone(){return new Promise(Z=>{if(this.players.length)return ps(this.players).onDone(()=>Z());Z()})}processLeaveNode(Z){const F=Z[hn];if(F&&F.setForRemoval){if(Z[hn]=dt,F.namespaceId){this.destroyInnerAnimations(Z);const ue=this._fetchNamespace(F.namespaceId);ue&&ue.clearElementCache(Z)}this._onRemovalComplete(Z,F.setForRemoval)}Z.classList?.contains(Ml)&&this.markElementAsDisabled(Z,!1),this.driver.query(Z,".ng-animate-disabled",!0).forEach(ue=>{this.markElementAsDisabled(ue,!1)})}flush(Z=-1){let F=[];if(this.newHostElements.size&&(this.newHostElements.forEach((ue,je)=>this._balanceNamespaceList(ue,je)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let ue=0;ue<this.collectedEnterElements.length;ue++)To(this.collectedEnterElements[ue],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const ue=[];try{F=this._flushAnimations(ue,Z)}finally{for(let je=0;je<ue.length;je++)ue[je]()}}else for(let ue=0;ue<this.collectedLeaveElements.length;ue++)this.processLeaveNode(this.collectedLeaveElements[ue]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(ue=>ue()),this._flushFns=[],this._whenQuietFns.length){const ue=this._whenQuietFns;this._whenQuietFns=[],F.length?ps(F).onDone(()=>{ue.forEach(je=>je())}):ue.forEach(je=>je())}}reportError(Z){throw function Ka(de){return new t.vHH(3402,!1)}()}_flushAnimations(Z,F){const ue=new Cl,je=[],xt=new Map,rn=[],mn=new Map,Pn=new Map,Yn=new Map,gi=new Set;this.disabledNodes.forEach($i=>{gi.add($i);const Xi=this.driver.query($i,".ng-animate-queued",!0);for(let hr=0;hr<Xi.length;hr++)gi.add(Xi[hr])});const xi=this.bodyNode,Hr=Array.from(this.statesByElement.keys()),br=oc(Hr,this.collectedEnterElements),nr=new Map;let ur=0;br.forEach(($i,Xi)=>{const hr=Yl+ur++;nr.set(Xi,hr),$i.forEach(mo=>To(mo,hr))});const vo=[],lr=new Set,as=new Set;for(let $i=0;$i<this.collectedLeaveElements.length;$i++){const Xi=this.collectedLeaveElements[$i],hr=Xi[hn];hr&&hr.setForRemoval&&(vo.push(Xi),lr.add(Xi),hr.hasAnimation?this.driver.query(Xi,".ng-star-inserted",!0).forEach(mo=>lr.add(mo)):as.add(Xi))}const ua=new Map,ro=oc(Hr,Array.from(lr));ro.forEach(($i,Xi)=>{const hr=Ue+ur++;ua.set(Xi,hr),$i.forEach(mo=>To(mo,hr))}),Z.push(()=>{br.forEach(($i,Xi)=>{const hr=nr.get(Xi);$i.forEach(mo=>ea(mo,hr))}),ro.forEach(($i,Xi)=>{const hr=ua.get(Xi);$i.forEach(mo=>ea(mo,hr))}),vo.forEach($i=>{this.processLeaveNode($i)})});const qa=[],fa=[];for(let $i=this._namespaceList.length-1;$i>=0;$i--)this._namespaceList[$i].drainQueuedTransitions(F).forEach(hr=>{const mo=hr.player,ia=hr.element;if(qa.push(mo),this.collectedEnterElements.length){const sl=ia[hn];if(sl&&sl.setForMove){if(sl.previousTriggersValues&&sl.previousTriggersValues.has(hr.triggerName)){const jd=sl.previousTriggersValues.get(hr.triggerName),lc=this.statesByElement.get(hr.element);if(lc&&lc.has(hr.triggerName)){const hd=lc.get(hr.triggerName);hd.value=jd,lc.set(hr.triggerName,hd)}}return void mo.destroy()}}const nd=!xi||!this.driver.containsElement(xi,ia),Il=ua.get(ia),jc=nr.get(ia),Ko=this._buildInstruction(hr,ue,jc,Il,nd);if(Ko.errors&&Ko.errors.length)return void fa.push(Ko);if(nd)return mo.onStart(()=>gs(ia,Ko.fromStyles)),mo.onDestroy(()=>Qo(ia,Ko.toStyles)),void je.push(mo);if(hr.isFallbackTransition)return mo.onStart(()=>gs(ia,Ko.fromStyles)),mo.onDestroy(()=>Qo(ia,Ko.toStyles)),void je.push(mo);const Mu=[];Ko.timelines.forEach(sl=>{sl.stretchStartingKeyframe=!0,this.disabledNodes.has(sl.element)||Mu.push(sl)}),Ko.timelines=Mu,ue.append(ia,Ko.timelines),rn.push({instruction:Ko,player:mo,element:ia}),Ko.queriedElements.forEach(sl=>xo(mn,sl,[]).push(mo)),Ko.preStyleProps.forEach((sl,jd)=>{if(sl.size){let lc=Pn.get(jd);lc||Pn.set(jd,lc=new Set),sl.forEach((hd,bf)=>lc.add(bf))}}),Ko.postStyleProps.forEach((sl,jd)=>{let lc=Yn.get(jd);lc||Yn.set(jd,lc=new Set),sl.forEach((hd,bf)=>lc.add(bf))})});if(fa.length){const $i=[];fa.forEach(Xi=>{$i.push(function Rl(de,Z){return new t.vHH(3505,!1)}())}),qa.forEach(Xi=>Xi.destroy()),this.reportError($i)}const xl=new Map,ed=new Map;rn.forEach($i=>{const Xi=$i.element;ue.has(Xi)&&(ed.set(Xi,Xi),this._beforeAnimationBuild($i.player.namespaceId,$i.instruction,xl))}),je.forEach($i=>{const Xi=$i.element;this._getPreviousPlayers(Xi,!1,$i.namespaceId,$i.triggerName,null).forEach(mo=>{xo(xl,Xi,[]).push(mo),mo.destroy()})});const td=vo.filter($i=>yd($i,Pn,Yn)),Hc=new Map;ol(Hc,this.driver,as,Yn,mt.l3).forEach($i=>{yd($i,Pn,Yn)&&td.push($i)});const Gd=new Map;br.forEach(($i,Xi)=>{ol(Gd,this.driver,new Set($i),Pn,mt.k1)}),td.forEach($i=>{const Xi=Hc.get($i),hr=Gd.get($i);Hc.set($i,new Map([...Xi?.entries()??[],...hr?.entries()??[]]))});const Hd=[],Du=[],vf={};rn.forEach($i=>{const{element:Xi,player:hr,instruction:mo}=$i;if(ue.has(Xi)){if(gi.has(Xi))return hr.onDestroy(()=>Qo(Xi,mo.toStyles)),hr.disabled=!0,hr.overrideTotalTime(mo.totalTime),void je.push(hr);let ia=vf;if(ed.size>1){let Il=Xi;const jc=[];for(;Il=Il.parentNode;){const Ko=ed.get(Il);if(Ko){ia=Ko;break}jc.push(Il)}jc.forEach(Ko=>ed.set(Ko,ia))}const nd=this._buildAnimation(hr.namespaceId,mo,xl,xt,Gd,Hc);if(hr.setRealPlayer(nd),ia===vf)Hd.push(hr);else{const Il=this.playersByElement.get(ia);Il&&Il.length&&(hr.parentPlayer=ps(Il)),je.push(hr)}}else gs(Xi,mo.fromStyles),hr.onDestroy(()=>Qo(Xi,mo.toStyles)),Du.push(hr),gi.has(Xi)&&je.push(hr)}),Du.forEach($i=>{const Xi=xt.get($i.element);if(Xi&&Xi.length){const hr=ps(Xi);$i.setRealPlayer(hr)}}),je.forEach($i=>{$i.parentPlayer?$i.syncPlayerEvents($i.parentPlayer):$i.destroy()});for(let $i=0;$i<vo.length;$i++){const Xi=vo[$i],hr=Xi[hn];if(ea(Xi,Ue),hr&&hr.hasAnimation)continue;let mo=[];if(mn.size){let nd=mn.get(Xi);nd&&nd.length&&mo.push(...nd);let Il=this.driver.query(Xi,Gt,!0);for(let jc=0;jc<Il.length;jc++){let Ko=mn.get(Il[jc]);Ko&&Ko.length&&mo.push(...Ko)}}const ia=mo.filter(nd=>!nd.destroyed);ia.length?Ac(this,Xi,ia):this.processLeaveNode(Xi)}return vo.length=0,Hd.forEach($i=>{this.players.push($i),$i.onDone(()=>{$i.destroy();const Xi=this.players.indexOf($i);this.players.splice(Xi,1)}),$i.play()}),Hd}afterFlush(Z){this._flushFns.push(Z)}afterFlushAnimationsDone(Z){this._whenQuietFns.push(Z)}_getPreviousPlayers(Z,F,ue,je,xt){let rn=[];if(F){const mn=this.playersByQueriedElement.get(Z);mn&&(rn=mn)}else{const mn=this.playersByElement.get(Z);if(mn){const Pn=!xt||xt==Gn;mn.forEach(Yn=>{Yn.queued||!Pn&&Yn.triggerName!=je||rn.push(Yn)})}}return(ue||je)&&(rn=rn.filter(mn=>!(ue&&ue!=mn.namespaceId||je&&je!=mn.triggerName))),rn}_beforeAnimationBuild(Z,F,ue){const xt=F.element,rn=F.isRemovalTransition?void 0:Z,mn=F.isRemovalTransition?void 0:F.triggerName;for(const Pn of F.timelines){const Yn=Pn.element,gi=Yn!==xt,xi=xo(ue,Yn,[]);this._getPreviousPlayers(Yn,gi,rn,mn,F.toState).forEach(br=>{const nr=br.getRealPlayer();nr.beforeDestroy&&nr.beforeDestroy(),br.destroy(),xi.push(br)})}gs(xt,F.fromStyles)}_buildAnimation(Z,F,ue,je,xt,rn){const mn=F.triggerName,Pn=F.element,Yn=[],gi=new Set,xi=new Set,Hr=F.timelines.map(nr=>{const ur=nr.element;gi.add(ur);const vo=ur[hn];if(vo&&vo.removedBeforeQueried)return new mt.ZN(nr.duration,nr.delay);const lr=ur!==Pn,as=function vd(de){const Z=[];return qc(de,Z),Z}((ue.get(ur)||We).map(xl=>xl.getRealPlayer())).filter(xl=>!!xl.element&&xl.element===ur),ua=xt.get(ur),ro=rn.get(ur),qa=Jo(this._normalizer,nr.keyframes,ua,ro),fa=this._buildPlayer(nr,qa,as);if(nr.subTimeline&&je&&xi.add(ur),lr){const xl=new Ni(Z,mn,ur);xl.setRealPlayer(fa),Yn.push(xl)}return fa});Yn.forEach(nr=>{xo(this.playersByQueriedElement,nr.element,[]).push(nr),nr.onDone(()=>function Qi(de,Z,F){let ue=de.get(Z);if(ue){if(ue.length){const je=ue.indexOf(F);ue.splice(je,1)}0==ue.length&&de.delete(Z)}return ue}(this.playersByQueriedElement,nr.element,nr))}),gi.forEach(nr=>To(nr,nt));const br=ps(Hr);return br.onDestroy(()=>{gi.forEach(nr=>ea(nr,nt)),Qo(Pn,F.toStyles)}),xi.forEach(nr=>{xo(je,nr,[]).push(br)}),br}_buildPlayer(Z,F,ue){return F.length>0?this.driver.animate(Z.element,F,Z.duration,Z.delay,Z.easing,ue):new mt.ZN(Z.duration,Z.delay)}}class Ni{constructor(Z,F,ue){this.namespaceId=Z,this.triggerName=F,this.element=ue,this._player=new mt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(Z){this._containsRealPlayer||(this._player=Z,this._queuedCallbacks.forEach((F,ue)=>{F.forEach(je=>la(Z,ue,void 0,je))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(Z.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(Z){this.totalTime=Z}syncPlayerEvents(Z){const F=this._player;F.triggerCallback&&Z.onStart(()=>F.triggerCallback("start")),Z.onDone(()=>this.finish()),Z.onDestroy(()=>this.destroy())}_queueEvent(Z,F){xo(this._queuedCallbacks,Z,[]).push(F)}onDone(Z){this.queued&&this._queueEvent("done",Z),this._player.onDone(Z)}onStart(Z){this.queued&&this._queueEvent("start",Z),this._player.onStart(Z)}onDestroy(Z){this.queued&&this._queueEvent("destroy",Z),this._player.onDestroy(Z)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(Z){this.queued||this._player.setPosition(Z)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(Z){const F=this._player;F.triggerCallback&&F.triggerCallback(Z)}}function ys(de){return de&&1===de.nodeType}function Mc(de,Z){const F=de.style.display;return de.style.display=Z??"none",F}function ol(de,Z,F,ue,je){const xt=[];F.forEach(Pn=>xt.push(Mc(Pn)));const rn=[];ue.forEach((Pn,Yn)=>{const gi=new Map;Pn.forEach(xi=>{const Hr=Z.computeStyle(Yn,xi,je);gi.set(xi,Hr),(!Hr||0==Hr.length)&&(Yn[hn]=Ht,rn.push(Yn))}),de.set(Yn,gi)});let mn=0;return F.forEach(Pn=>Mc(Pn,xt[mn++])),rn}function oc(de,Z){const F=new Map;if(de.forEach(mn=>F.set(mn,[])),0==Z.length)return F;const je=new Set(Z),xt=new Map;function rn(mn){if(!mn)return 1;let Pn=xt.get(mn);if(Pn)return Pn;const Yn=mn.parentNode;return Pn=F.has(Yn)?Yn:je.has(Yn)?1:rn(Yn),xt.set(mn,Pn),Pn}return Z.forEach(mn=>{const Pn=rn(mn);1!==Pn&&F.get(Pn).push(mn)}),F}function To(de,Z){de.classList?.add(Z)}function ea(de,Z){de.classList?.remove(Z)}function Ac(de,Z,F){ps(F).onDone(()=>de.processLeaveNode(Z))}function qc(de,Z){for(let F=0;F<de.length;F++){const ue=de[F];ue instanceof mt.ZE?qc(ue.players,Z):Z.push(ue)}}function yd(de,Z,F){const ue=F.get(de);if(!ue)return!1;let je=Z.get(de);return je?ue.forEach(xt=>je.add(xt)):Z.set(de,ue),F.delete(de),!0}class xc{constructor(Z,F,ue){this.bodyNode=Z,this._driver=F,this._normalizer=ue,this._triggerCache={},this.onRemovalComplete=(je,xt)=>{},this._transitionEngine=new Zt(Z,F,ue),this._timelineEngine=new Ca(Z,F,ue),this._transitionEngine.onRemovalComplete=(je,xt)=>this.onRemovalComplete(je,xt)}registerTrigger(Z,F,ue,je,xt){const rn=Z+"-"+je;let mn=this._triggerCache[rn];if(!mn){const Pn=[],gi=Js(this._driver,xt,Pn,[]);if(Pn.length)throw function As(de,Z){return new t.vHH(3404,!1)}();mn=function Zr(de,Z,F){return new Eo(de,Z,F)}(je,gi,this._normalizer),this._triggerCache[rn]=mn}this._transitionEngine.registerTrigger(F,je,mn)}register(Z,F){this._transitionEngine.register(Z,F)}destroy(Z,F){this._transitionEngine.destroy(Z,F)}onInsert(Z,F,ue,je){this._transitionEngine.insertNode(Z,F,ue,je)}onRemove(Z,F,ue){this._transitionEngine.removeNode(Z,F,ue)}disableAnimations(Z,F){this._transitionEngine.markElementAsDisabled(Z,F)}process(Z,F,ue,je){if("@"==ue.charAt(0)){const[xt,rn]=Go(ue);this._timelineEngine.command(xt,F,rn,je)}else this._transitionEngine.trigger(Z,F,ue,je)}listen(Z,F,ue,je,xt){if("@"==ue.charAt(0)){const[rn,mn]=Go(ue);return this._timelineEngine.listen(rn,F,mn,xt)}return this._transitionEngine.listen(Z,F,ue,je,xt)}flush(Z=-1){this._transitionEngine.flush(Z)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(Z){this._transitionEngine.afterFlushAnimationsDone(Z)}}let Uc=(()=>{class de{static#e=this.initialStylesByElement=new WeakMap;constructor(F,ue,je){this._element=F,this._startStyles=ue,this._endStyles=je,this._state=0;let xt=de.initialStylesByElement.get(F);xt||de.initialStylesByElement.set(F,xt=new Map),this._initialStyles=xt}start(){this._state<1&&(this._startStyles&&Qo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qo(this._element,this._initialStyles),this._endStyles&&(Qo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(de.initialStylesByElement.delete(this._element),this._startStyles&&(gs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gs(this._element,this._endStyles),this._endStyles=null),Qo(this._element,this._initialStyles),this._state=3)}}return de})();function bd(de){let Z=null;return de.forEach((F,ue)=>{(function Wd(de){return"display"===de||"position"===de})(ue)&&(Z=Z||new Map,Z.set(ue,F))}),Z}class ad{constructor(Z,F,ue,je){this.element=Z,this.keyframes=F,this.options=ue,this._specialStyles=je,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=ue.duration,this._delay=ue.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Z=>Z()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const Z=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,Z,this.options),this._finalKeyframe=Z.length?Z[Z.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(Z){const F=[];return Z.forEach(ue=>{F.push(Object.fromEntries(ue))}),F}_triggerWebAnimation(Z,F,ue){return Z.animate(this._convertKeyframesToObject(F),ue)}onStart(Z){this._originalOnStartFns.push(Z),this._onStartFns.push(Z)}onDone(Z){this._originalOnDoneFns.push(Z),this._onDoneFns.push(Z)}onDestroy(Z){this._onDestroyFns.push(Z)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(Z=>Z()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(Z=>Z()),this._onDestroyFns=[])}setPosition(Z){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=Z*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const Z=new Map;this.hasStarted()&&this._finalKeyframe.forEach((ue,je)=>{"offset"!==je&&Z.set(je,this._finished?ue:Ra(this.element,je))}),this.currentSnapshot=Z}triggerCallback(Z){const F="start"===Z?this._onStartFns:this._onDoneFns;F.forEach(ue=>ue()),F.length=0}}class Yd{validateStyleProperty(Z){return!0}validateAnimatableStyleProperty(Z){return!0}matchesElement(Z,F){return!1}containsElement(Z,F){return $s(Z,F)}getParentElement(Z){return Sa(Z)}query(Z,F,ue){return yl(Z,F,ue)}computeStyle(Z,F,ue){return window.getComputedStyle(Z)[F]}animate(Z,F,ue,je,xt,rn=[]){const Pn={duration:ue,delay:je,fill:0==je?"both":"forwards"};xt&&(Pn.easing=xt);const Yn=new Map,gi=rn.filter(br=>br instanceof ad);(function bc(de,Z){return 0===de||0===Z})(ue,je)&&gi.forEach(br=>{br.currentSnapshot.forEach((nr,ur)=>Yn.set(ur,nr))});let xi=function Tr(de){return de.length?de[0]instanceof Map?de:de.map(Z=>Ri(Z)):[]}(F).map(br=>ao(br));xi=function Nl(de,Z,F){if(F.size&&Z.length){let ue=Z[0],je=[];if(F.forEach((xt,rn)=>{ue.has(rn)||je.push(rn),ue.set(rn,xt)}),je.length)for(let xt=1;xt<Z.length;xt++){let rn=Z[xt];je.forEach(mn=>rn.set(mn,Ra(de,mn)))}}return Z}(Z,xi,Yn);const Hr=function Ic(de,Z){let F=null,ue=null;return Array.isArray(Z)&&Z.length?(F=bd(Z[0]),Z.length>1&&(ue=bd(Z[Z.length-1]))):Z instanceof Map&&(F=bd(Z)),F||ue?new Uc(de,F,ue):null}(Z,xi);return new ad(Z,xi,Pn,Hr)}}let Id=(()=>{class de extends mt._j{constructor(F,ue){super(),this._nextAnimationId=0,this._renderer=F.createRenderer(ue.body,{id:"0",encapsulation:t.ifc.None,styles:[],data:{animation:[]}})}build(F){const ue=this._nextAnimationId.toString();this._nextAnimationId++;const je=Array.isArray(F)?(0,mt.vP)(F):F;return wd(this._renderer,null,ue,"register",[je]),new ld(ue,this._renderer)}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.LFG(t.FYo),t.LFG(Ie.K0))};static#t=this.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac})}return de})();class ld extends mt.LC{constructor(Z,F){super(),this._id=Z,this._renderer=F}create(Z,F){return new Xc(this._id,Z,F||{},this._renderer)}}class Xc{constructor(Z,F,ue,je){this.id=Z,this.element=F,this._renderer=je,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",ue)}_listen(Z,F){return this._renderer.listen(this.element,`@@${this.id}:${Z}`,F)}_command(Z,...F){return wd(this._renderer,this.element,this.id,Z,F)}onDone(Z){this._listen("done",Z)}onStart(Z){this._listen("start",Z)}onDestroy(Z){this._listen("destroy",Z)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(Z){this._command("setPosition",Z)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function wd(de,Z,F,ue,je){return de.setProperty(Z,`@@${F}:${ue}`,je)}const W="@.disabled";let se=(()=>{class de{constructor(F,ue,je){this.delegate=F,this.engine=ue,this._zone=je,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,ue.onRemovalComplete=(xt,rn)=>{const mn=rn?.parentNode(xt);mn&&rn.removeChild(mn,xt)}}createRenderer(F,ue){const xt=this.delegate.createRenderer(F,ue);if(!(F&&ue&&ue.data&&ue.data.animation)){let gi=this._rendererCache.get(xt);return gi||(gi=new Je("",xt,this.engine,()=>this._rendererCache.delete(xt)),this._rendererCache.set(xt,gi)),gi}const rn=ue.id,mn=ue.id+"-"+this._currentId;this._currentId++,this.engine.register(mn,F);const Pn=gi=>{Array.isArray(gi)?gi.forEach(Pn):this.engine.registerTrigger(rn,mn,F,gi.name,gi)};return ue.data.animation.forEach(Pn),new Wt(this,mn,xt,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(F,ue,je){F>=0&&F<this._microtaskId?this._zone.run(()=>ue(je)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(xt=>{const[rn,mn]=xt;rn(mn)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([ue,je]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.LFG(t.FYo),t.LFG(xc),t.LFG(t.R0b))};static#t=this.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac})}return de})();class Je{constructor(Z,F,ue,je){this.namespaceId=Z,this.delegate=F,this.engine=ue,this._onDestroy=je}get data(){return this.delegate.data}destroyNode(Z){this.delegate.destroyNode?.(Z)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(Z,F){return this.delegate.createElement(Z,F)}createComment(Z){return this.delegate.createComment(Z)}createText(Z){return this.delegate.createText(Z)}appendChild(Z,F){this.delegate.appendChild(Z,F),this.engine.onInsert(this.namespaceId,F,Z,!1)}insertBefore(Z,F,ue,je=!0){this.delegate.insertBefore(Z,F,ue),this.engine.onInsert(this.namespaceId,F,Z,je)}removeChild(Z,F,ue){this.engine.onRemove(this.namespaceId,F,this.delegate)}selectRootElement(Z,F){return this.delegate.selectRootElement(Z,F)}parentNode(Z){return this.delegate.parentNode(Z)}nextSibling(Z){return this.delegate.nextSibling(Z)}setAttribute(Z,F,ue,je){this.delegate.setAttribute(Z,F,ue,je)}removeAttribute(Z,F,ue){this.delegate.removeAttribute(Z,F,ue)}addClass(Z,F){this.delegate.addClass(Z,F)}removeClass(Z,F){this.delegate.removeClass(Z,F)}setStyle(Z,F,ue,je){this.delegate.setStyle(Z,F,ue,je)}removeStyle(Z,F,ue){this.delegate.removeStyle(Z,F,ue)}setProperty(Z,F,ue){"@"==F.charAt(0)&&F==W?this.disableAnimations(Z,!!ue):this.delegate.setProperty(Z,F,ue)}setValue(Z,F){this.delegate.setValue(Z,F)}listen(Z,F,ue){return this.delegate.listen(Z,F,ue)}disableAnimations(Z,F){this.engine.disableAnimations(Z,F)}}class Wt extends Je{constructor(Z,F,ue,je,xt){super(F,ue,je,xt),this.factory=Z,this.namespaceId=F}setProperty(Z,F,ue){"@"==F.charAt(0)?"."==F.charAt(1)&&F==W?this.disableAnimations(Z,ue=void 0===ue||!!ue):this.engine.process(this.namespaceId,Z,F.slice(1),ue):this.delegate.setProperty(Z,F,ue)}listen(Z,F,ue){if("@"==F.charAt(0)){const je=function an(de){switch(de){case"body":return document.body;case"document":return document;case"window":return window;default:return de}}(Z);let xt=F.slice(1),rn="";return"@"!=xt.charAt(0)&&([xt,rn]=function Hn(de){const Z=de.indexOf(".");return[de.substring(0,Z),de.slice(Z+1)]}(xt)),this.engine.listen(this.namespaceId,je,xt,rn,mn=>{this.factory.scheduleListenerCallback(mn._data||-1,ue,mn)})}return this.delegate.listen(Z,F,ue)}}const Wi=[{provide:mt._j,useClass:Id},{provide:Dc,useFactory:function Si(){return new Hs}},{provide:xc,useClass:(()=>{class de extends xc{constructor(F,ue,je,xt){super(F.body,ue,je)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.LFG(Ie.K0),t.LFG(gc),t.LFG(Dc),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac})}return de})()},{provide:t.FYo,useFactory:function wi(de,Z,F){return new se(de,Z,F)},deps:[e.se,xc,t.R0b]}],Dr=[{provide:gc,useFactory:()=>new Yd},{provide:t.QbO,useValue:"BrowserAnimations"},...Wi],Ls=[{provide:gc,useClass:Wl},{provide:t.QbO,useValue:"NoopAnimations"},...Wi];let sc=(()=>{class de{static withConfig(F){return{ngModule:de,providers:F.disableAnimations?Ls:Dr}}static#e=this.\u0275fac=function(ue){return new(ue||de)};static#t=this.\u0275mod=t.oAB({type:de});static#n=this.\u0275inj=t.cJS({providers:Dr,imports:[e.b2]})}return de})();const h_firebase={apiKey:"AIzaSyCPw-M_b3TyI_lHHkg3lT8ZZ_Z8XRa6vLU",authDomain:"sinovadclient-119aa.firebaseapp.com",projectId:"sinovadclient-119aa",storageBucket:"sinovadclient-119aa.appspot.com",messagingSenderId:"734621308263",appId:"1:734621308263:web:93ab2203f67a179c5a4bc2",measurementId:"G-2HCXG6DS06"};var M=p(4769),k=p(2680),H=p(9411);class te{}var De=p(295),Pe=p(5934),lt=p(5529),pt=p(7581),Bt=p(2098),jt=p(1716),Xt=p(7983),cn=p(7591),bn=p(2070),Bn=p(4748),ti=p(9817),zn=p(2472),ui=p(1018),oi=p(914);const Di={UKNOWN:"Unknown"},pi={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:Di.UKNOWN},Mi={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},Ii={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y|SM-X200|SM-T970"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09|AGS-L09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},li={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:Di.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},ji=[li.PS4,li.CHROME_BOOK,li.MAC,li.DELL,li.ASUS,li.UNKNOWN],Hi={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:Di.UKNOWN},Io={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:Di.UKNOWN.toLowerCase()},Vs={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},Lo={...Mi,...Ii,...Vs,FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}},ko={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},Vi={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},ar=Object.keys(ko).reduce((de,Z)=>(de[Z]=ko[Z],de),{}),wo=Object.keys(Vi).reduce((de,Z)=>(de[pi[Z]]=Vi[Z],de),{});var io=Object.freeze({__proto__:null,BROWSERS:pi,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},BROWSER_VERSIONS_RE:wo,BROWSER_VERSIONS_RE_MAP:Vi,DESKTOP_DEVICES:ji,DEVICES:li,DEVICES_RE:Lo,GENERAL:Di,MOBILES_RE:Mi,OS:Hi,OS_RE:Vs,OS_VERSIONS:Io,OS_VERSIONS_RE:ar,OS_VERSIONS_RE_MAP:ko,TABLETS_RE:Ii});class So{constructor(){}test(Z,F){return"string"==typeof F&&(F=new RegExp(F)),F instanceof RegExp?F.test(Z):F&&Array.isArray(F.and)?F.and.every(ue=>this.test(Z,ue)):F&&Array.isArray(F.or)?F.or.some(ue=>this.test(Z,ue)):!(!F||!F.not||this.test(Z,F.not))}exec(Z,F){return"string"==typeof F&&(F=new RegExp(F)),F instanceof RegExp?F.exec(Z):F&&Array.isArray(F)?F.reduce((ue,je)=>ue||this.exec(Z,je),null):null}}var os=function(de){return de.Mobile="mobile",de.Tablet="tablet",de.Desktop="desktop",de.Unknown="unknown",de}(os||{}),Fa=function(de){return de.Portrait="portrait",de.Landscape="landscape",de}(Fa||{});const Ja="iPad";let Al=(()=>{class de{constructor(F){this.platformId=F,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new So,this.deviceType="",this.orientation="",(0,Ie.NF)(this.platformId)&&typeof window<"u"&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(F=this.userAgent){F!==this.userAgent&&(this.userAgent=F);const ue=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(ue.forEach(je=>{this[je.prop]=Object.keys(io[je.const]).reduce((xt,rn)=>"device"===io[je.const][rn]&&(0,Ie.NF)(this.platformId)&&(this.reTree.test(this.userAgent,Ii[Ja])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(xt[io[je.const][rn]]=Ja,Object):(xt[io[je.const][rn]]=this.reTree.test(F,io[`${je.const}_RE`][rn]),xt),{})}),ue.forEach(je=>{this[je.prop]=Object.keys(io[je.const]).map(xt=>io[je.const][xt]).reduce((xt,rn)=>"device"===je.prop&&xt===io[je.const].ANDROID?this[je.prop][rn]?rn:xt:xt===io[je.const].UNKNOWN&&this[je.prop][rn]?rn:xt,io[je.const].UNKNOWN)}),this.browser_version="0",this.browser!==pi.UNKNOWN){const xt=this.reTree.exec(F,wo[this.browser]);xt&&(this.browser_version=xt[1])}this.orientation=typeof window<"u"&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?Fa.Landscape:Fa.Portrait:Di.UKNOWN,this.deviceType=this.isTablet()?os.Tablet:this.isMobile(this.userAgent)?os.Mobile:this.isDesktop(this.userAgent)?os.Desktop:os.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(F=this.userAgent){return!this.isTablet(F)&&!!Object.keys(Mi).find(je=>this.reTree.test(F,Mi[je]))}isTablet(F=this.userAgent){return!(!(0,Ie.NF)(this.platformId)||!(this.reTree.test(this.userAgent,Ii[Ja])||typeof navigator<"u"&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(Ii).find(je=>!!this.reTree.test(F,Ii[je]))}isDesktop(F=this.userAgent){return(this.device!==li.UNKNOWN||!this.isMobile(F)&&!this.isTablet(F))&&ji.indexOf(this.device)>-1}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.LFG(t.Lbi))};static#t=this.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();function wc(de,Z){if(1&de&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&de){const F=t.oxw(3);t.xp6(1),t.hij(" ",F.commonService.getInitials(F.sharedDataService.currentProfile)," ")}}function cd(de,Z){if(1&de&&(t._UZ(0,"img",13),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&de){const F=t.oxw(3);t.uIk("src",t.lcZ(1,1,t.xi3(2,3,F.sharedDataService.currentProfile.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function Kf(de,Z){if(1&de&&(t.TgZ(0,"span",11),t._uU(1),t.qZA(),t.YNc(2,wc,2,1,"div",12),t.YNc(3,cd,3,6,"img",12)),2&de){const F=t.oxw(2);t.xp6(1),t.hij(" ",F.sharedDataService.currentProfile.FullName," "),t.xp6(1),t.Q6J("ngIf",null==F.sharedDataService.currentProfile.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=F.sharedDataService.currentProfile.AvatarPath)}}function zd(de,Z){if(1&de&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&de){const F=t.oxw(2).$implicit,ue=t.oxw(3);t.xp6(1),t.hij(" ",ue.commonService.getInitials(F)," ")}}function Ju(de,Z){if(1&de&&(t._UZ(0,"img",13),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&de){const F=t.oxw(2).$implicit;t.uIk("src",t.lcZ(1,1,t.xi3(2,3,F.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function Qu(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"li",3)(1,"a",15,5),t.NdJ("click",function(){t.CHM(F);const je=t.oxw().$implicit,xt=t.oxw(3);return t.KtG(xt.onSelectProfile(je))}),t.YNc(3,zd,2,1,"div",12),t.YNc(4,Ju,3,6,"img",12),t.TgZ(5,"span",11),t._uU(6),t.qZA()()()}if(2&de){const F=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",null==F.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=F.AvatarPath),t.xp6(2),t.hij(" ",F.FullName," ")}}function mu(de,Z){if(1&de&&t.YNc(0,Qu,7,3,"li",10),2&de){const F=Z.$implicit,ue=t.oxw(3);t.Q6J("ngIf",ue.sharedDataService.currentProfile&&F.Id!=ue.sharedDataService.currentProfile.Id)}}function qu(de,Z){if(1&de&&t.YNc(0,mu,1,1,"ng-template",14),2&de){const F=t.oxw(2);t.Q6J("ngForOf",F.sharedDataService.listProfiles)}}function Xu(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"li",3)(1,"a",9),t.NdJ("click",function(){t.CHM(F);const je=t.oxw(2);return t.KtG(je.onClickAdminMode())}),t.TgZ(2,"span"),t._uU(3,"Mantenimiento"),t.qZA()()()}}function Od(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"div",1)(1,"ul",2)(2,"li",3)(3,"a",4,5),t.YNc(5,Kf,4,3,"ng-template",6),t.qZA()(),t._UZ(6,"div",7),t.TgZ(7,"div",8),t.YNc(8,qu,1,1,"ng-template",6),t.TgZ(9,"li",3)(10,"a",9),t.NdJ("click",function(){t.CHM(F);const je=t.oxw();return t.KtG(je.onClickEditProfilesButton())}),t.TgZ(11,"span"),t._uU(12,"Editar perfiles"),t.qZA()()(),t.TgZ(13,"li",3)(14,"a",9),t.NdJ("click",function(){t.CHM(F);const je=t.oxw();return t.KtG(je.onClickAccountOption())}),t.TgZ(15,"span"),t._uU(16,"Cuenta"),t.qZA()()(),t.YNc(17,Xu,4,0,"li",10),t.TgZ(18,"li",3)(19,"a",9),t.NdJ("click",function(){t.CHM(F);const je=t.oxw();return t.KtG(je.logOut())}),t.TgZ(20,"span"),t._uU(21,"Cerrar Sesi\xf3n"),t.qZA()()()()()()}if(2&de){const F=t.oxw();t.xp6(5),t.Q6J("ngIf",F.sharedDataService.currentProfile),t.xp6(3),t.Q6J("ngIf",F.sharedDataService.listProfiles&&F.sharedDataService.listProfiles.length>0),t.xp6(9),t.Q6J("ngIf",F.sharedDataService.manageMenus&&F.sharedDataService.manageMenus.length>0)}}let Xd=(()=>{class de{constructor(F,ue,je,xt,rn){this.commonService=F,this.userService=ue,this.ref=je,this.router=xt,this.sharedDataService=rn}onClickChangeProfileButton(){this.sharedDataService.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/profiles")}onClickEditProfilesButton(){this.sharedDataService.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/profiles")}onSelectProfile(F){this.sharedDataService.currentProfile=F,this.router.navigateByUrl("/home")}onClickAccountOption(){this.router.navigateByUrl("/settings/account")}onClickAdminMode(){this.router.navigateByUrl(this.sharedDataService.manageMenus[0].ChildMenus[0].Path)}logOut(){this.userService.clearSessionData(),this.router.navigateByUrl("/landing")}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(Ho.v),t.Y36(f.K),t.Y36(t.sBO),t.Y36(b.F0),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-dropdown-user"]],decls:1,vars:1,consts:[["class","sinovad-user-dropdown",4,"ngIf"],[1,"sinovad-user-dropdown"],["role","menu",1,"sinovad-dropdown-list"],[1,"sinovad-avatar-item"],["id","avatar_button",1,"sinovad-avatar-button","principal"],["button",""],[3,"ngIf"],[1,"sinovad-separator-dropdown"],[1,"sinovad-bottom-list"],[3,"click"],["class","sinovad-avatar-item",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-initials-profile"],["ngFor","",3,"ngForOf"],["id","avatar_button",1,"sinovad-avatar-button",3,"click"]],template:function(ue,je){1&ue&&t.YNc(0,Od,22,3,"div",0),2&ue&&t.Q6J("ngIf",!je.sharedDataService.showSplashScreen)},dependencies:[Ie.sg,Ie.O5,Ie.Ov,gr.A],styles:["[_nghost-%COMP%]{height:100%}.sinovad-user-dropdown[_ngcontent-%COMP%]{height:100%;display:flex;align-items:flex-start}ul.sinovad-dropdown-list[_ngcontent-%COMP%]{background:transparent;border:1px solid transparent;box-shadow:none;height:100%;max-height:72px;padding:0 20px;width:100px;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-separator-dropdown[_ngcontent-%COMP%], ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-bottom-list[_ngcontent-%COMP%]{display:none}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover{background:rgb(19,19,19);border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;height:auto;max-height:calc(100vh - 40px);padding-top:10px;padding-bottom:20px;width:240px;z-index:10;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-separator-dropdown[_ngcontent-%COMP%]{width:100%;padding-left:10px;height:2px;background-color:#fff;display:block;margin-top:10px}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]{display:block}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]{margin-top:10px;width:200px;opacity:.7;font-size:16px;cursor:pointer}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-avatar-button[_ngcontent-%COMP%]{display:block;padding-left:0;background:transparent;border:none;cursor:pointer;color:#fff;display:flex;align-items:center;text-decoration:unset}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;margin-left:10px;font-size:20px;margin-right:10px}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;border:1px solid white;display:flex;align-items:center;justify-content:center;font-size:30px}.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}@media only screen and (max-width: 1024px){.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:none}.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}}"]})}return de})();const ef=["searchTarget"],eu=function(){return["/home"]};function tu(de,Z){1&de&&(t.TgZ(0,"a",11),t._UZ(1,"i",12),t.qZA()),2&de&&t.Q6J("routerLink",t.DdM(1,eu))}const tf=function(de){return{focused:de}};function nf(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"div",13)(1,"div",14)(2,"input",6,7),t.NdJ("ngModelChange",function(je){t.CHM(F);const xt=t.oxw();return t.KtG(xt.searchText=je)})("change",function(){t.CHM(F);const je=t.oxw();return t.KtG(je.onChangeSearchValue())})("focus",function(){t.CHM(F);const je=t.oxw();return t.KtG(je.isFocusSearch=!0)})("blur",function(){t.CHM(F);const je=t.oxw();return t.KtG(je.isFocusSearch=!1)}),t.qZA(),t.TgZ(4,"button",8),t.NdJ("click",function(){t.CHM(F);const je=t.oxw();return t.KtG(je.onClickSearchButton())}),t._UZ(5,"i",9),t.qZA()(),t.TgZ(6,"div",15)(7,"button",8),t.NdJ("click",function(){t.CHM(F);const je=t.oxw();return t.KtG(je.showNavbarSearch=!1)}),t._UZ(8,"i",16),t.qZA()()()}if(2&de){const F=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(2,tf,F.isFocusSearch)),t.xp6(1),t.Q6J("ngModel",F.searchText)}}let Wf=(()=>{class de{constructor(F,ue,je){this.router=F,this.commonService=ue,this.sharedDataService=je,this.toggleSidebar=new t.vpe,this.selectOption=new t.vpe,this.toggleMenu=new t.vpe,this.searchText="",this.isFocusSearch=!1,this.showDropDown=!1,this.showNavbarSearch=!1}ngOnInit(){}ngAfterViewInit(){this.addClickEvent()}onClickSearchButton(){this.showNavbarSearch=!0}addClickEvent(){const F=document.getElementById("userDropDown");document.addEventListener("click",ue=>{this.showDropDown=!!ue.composedPath().includes(F)})}onClickHomeOption(){this.router.navigateByUrl("/home")}onClickOption(F){this.selectOption.emit(F)}onSelectProfile(F){this.sharedDataService.currentProfile=F,this.router.navigateByUrl("/home")}onClickChangeProfileButton(){this.sharedDataService.showSplashScreen=!0}onChangeSearchValue(){this.router.navigateByUrl(null!=this.searchText&&""!=this.searchText?"/search?text="+this.searchText:"/home"),this.searchText=""}onClickToggleSidebarButton(F){F.preventDefault(),F.stopPropagation(),this.toggleSidebar.emit(!0)}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(b.F0),t.Y36(Ho.v),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-navbar"]],viewQuery:function(ue,je){if(1&ue&&t.Gf(ef,5),2&ue){let xt;t.iGM(xt=t.CRH())&&(je.searchTarget=xt.first)}},inputs:{showingSidebarAccount:"showingSidebarAccount",showingSidebarAdminMode:"showingSidebarAdminMode"},outputs:{toggleSidebar:"toggleSidebar",selectOption:"selectOption",toggleMenu:"toggleMenu"},decls:16,vars:14,consts:[[1,"nav-button-icon-container","toggle",3,"click"],[1,"fa-solid","fa-bars"],["class","nav-button-icon-container home",3,"routerLink",4,"ngIf"],[1,"sinovad-logo-button",3,"routerLink"],[3,"src"],[1,"sinovad-custom-search",3,"ngClass"],["type","text",3,"ngModel","ngModelChange","change","focus","blur"],["input",""],[3,"click"],[1,"fa-solid","fa-magnifying-glass"],["class","sinovad-navbar-search",4,"ngIf"],[1,"nav-button-icon-container","home",3,"routerLink"],[1,"fa-solid","fa-house"],[1,"sinovad-navbar-search"],[1,"sinovad-bottom-search",3,"ngClass"],[1,"sinovad-close-search-container"],[1,"fa","fa-times"]],template:function(ue,je){1&ue&&(t.TgZ(0,"header")(1,"nav")(2,"a",0),t.NdJ("click",function(rn){return je.onClickToggleSidebarButton(rn)}),t._UZ(3,"i",1),t.qZA(),t.YNc(4,tu,2,2,"a",2),t.TgZ(5,"a",3),t._UZ(6,"img",4),t.ALo(7,"async"),t.ALo(8,"formatDataPipe"),t.qZA(),t.TgZ(9,"div",5)(10,"input",6,7),t.NdJ("ngModelChange",function(rn){return je.searchText=rn})("change",function(){return je.onChangeSearchValue()})("focus",function(){return je.isFocusSearch=!0})("blur",function(){return je.isFocusSearch=!1}),t.qZA(),t.TgZ(12,"button",8),t.NdJ("click",function(){return je.onClickSearchButton()}),t._UZ(13,"i",9),t.qZA()(),t._UZ(14,"app-dropdown-user"),t.qZA(),t.YNc(15,nf,9,4,"div",10),t.qZA()),2&ue&&(t.xp6(4),t.Q6J("ngIf",je.showingSidebarAccount||je.showingSidebarAdminMode),t.xp6(1),t.Q6J("routerLink",t.DdM(11,eu)),t.xp6(1),t.Q6J("src",t.lcZ(7,6,t.xi3(8,8,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngClass",t.VKq(12,tf,je.isFocusSearch&&!je.commonService.isSmallDevice())),t.xp6(1),t.Q6J("ngModel",je.searchText),t.xp6(5),t.Q6J("ngIf",je.commonService.isSmallDevice()&&je.showNavbarSearch))},dependencies:[Ie.mk,Ie.O5,C.Fj,C.JJ,C.On,b.rH,Xd,Ie.Ov,gr.A],styles:[".nav-button-icon-container[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;color:#fff;font-size:24px;opacity:.7;display:none}.nav-button-icon-container.home[_ngcontent-%COMP%]{display:block}.sinovad-logo-button[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;text-decoration:unset;font-size:20px}.sinovad-logo-button[_ngcontent-%COMP%]   .first-span[_ngcontent-%COMP%]{color:#007bff;margin-right:6px}.sinovad-logo-button[_ngcontent-%COMP%]   .second-span[_ngcontent-%COMP%]{color:#fff}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:130px;margin-bottom:6px}.sinovad-custom-search[_ngcontent-%COMP%]{display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-left:20px;background-color:#fff}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-custom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.nav-button-icon-container[_ngcontent-%COMP%]:hover{opacity:1}nav[_ngcontent-%COMP%]{background:black;color:#fff;flex-wrap:nowrap;justify-content:flex-start;display:flex;height:70px;align-items:center}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]{list-style-type:none;flex-direction:row;display:flex;height:100%;align-items:center;margin-bottom:0}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-decoration:unset;height:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px}.sinovad-navbar-search[_ngcontent-%COMP%]{background:black;display:flex;align-items:center;padding:10px 20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-right:20px;background-color:#fff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px;width:100%}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]{width:20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;color:#fff;padding-right:8px;padding-left:8px;font-size:24px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}@media only screen and (max-width: 767px){.sinovad-logo-button[_ngcontent-%COMP%]{margin-left:10px;margin-right:0}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:110px}.nav-button-icon-container.toggle[_ngcontent-%COMP%]{display:block}.nav-button-icon-container.home[_ngcontent-%COMP%], .sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.sinovad-custom-search[_ngcontent-%COMP%]{background:transparent}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;font-size:24px}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}}"]})}return de})();var nu=p(9223);function Yf(de,Z){1&de&&t._UZ(0,"i",12)}const zf=function(de){return{selected:de}};function pu(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"a",3),t.NdJ("click",function(){const xt=t.CHM(F).$implicit,rn=t.oxw(2);return t.KtG(rn.onClickDropDownMenuOption(xt))}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6),t._uU(4),t.qZA(),t.TgZ(5,"div",7),t._uU(6),t.qZA()(),t.TgZ(7,"div",8)(8,"div",9),t.YNc(9,Yf,1,0,"i",10),t.qZA(),t.TgZ(10,"div",11),t._UZ(11,"i"),t.qZA()()()()}if(2&de){const F=Z.$implicit;t.Q6J("ngClass",t.VKq(7,zf,F.isSelected)),t.xp6(4),t.hij(" ",F.title," "),t.xp6(2),t.hij(" ",F.subtitle," "),t.xp6(3),t.Q6J("ngIf",F.isSelected),t.xp6(2),t.Tol(F.iconClass)}}function gu(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"div",1),t.NdJ("clickOutside",function(){t.CHM(F);const je=t.oxw();return t.KtG(je.onClickOutside())}),t.YNc(1,pu,12,9,"ng-template",2),t.qZA()}if(2&de){const F=t.oxw();t.Udp("width",F.width+"px")("top",F.top+"px")("left",F.left+"px"),t.xp6(1),t.Q6J("ngForOf",F.dropDownMenuOptions.listItems)}}let rf=(()=>{class de{constructor(F,ue,je){this.commonService=F,this.ref=ue,this.router=je,this.hide=new t.vpe,this.clickItem=new t.vpe,this.show=!1}ngAfterViewInit(){this.showContent()}showContent(){var F=this;return(0,X.Z)(function*(){yield F.commonService.delay(100),F.show=!0,F.ref.detectChanges()})()}onClickOutside(){this.hide.emit(!0)}onClickDropDownMenuOption(F){this.clickItem.emit(F),this.router.navigateByUrl(F.path)}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(Ho.v),t.Y36(t.sBO),t.Y36(b.F0))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-drop-down-servers"]],inputs:{dropDownMenuOptions:"dropDownMenuOptions",top:"top",left:"left",width:"width"},outputs:{hide:"hide",clickItem:"clickItem"},decls:1,vars:1,consts:[["class","sinovad-drop-down-menu-item-list",3,"width","top","left","clickOutside",4,"ngIf"],[1,"sinovad-drop-down-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-drop-down-menu-item-container",3,"ngClass","click"],[1,"sinovad-drop-down-menu-item-content"],[1,"left"],[1,"title"],[1,"subtitle"],[1,"right"],[1,"selected-icon-container"],["class","fa-solid fa-check",4,"ngIf"],[1,"icon-container"],[1,"fa-solid","fa-check"]],template:function(ue,je){1&ue&&t.YNc(0,gu,2,7,"div",0),2&ue&&t.Q6J("ngIf",je.show)},dependencies:[Ie.mk,Ie.sg,Ie.O5,nu._],styles:[".sinovad-drop-down-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:none;box-shadow:#00000080 0 0 18px;color:#fff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]{height:60px;padding:8px 10px 8px 25px;width:100%;word-wrap:break-word;display:block;font-size:13px;text-align:left;-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3}a.sinovad-drop-down-menu-item-container.selected[_ngcontent-%COMP%]{color:#007bff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important;font-size:13px}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#ffffff4d;font-size:12px;max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;flex-shrink:0}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .selected-icon-container[_ngcontent-%COMP%]{fill:currentcolor;display:inline-block;height:1em;line-height:1;position:relative;vertical-align:middle;width:1em;font-size:14px;margin-left:10px;top:0;color:#007bff;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-left:10px;margin-right:10px;color:#6b5}"]})}return de})(),iu=(()=>{class de{constructor(F,ue,je){this.factoryResolver=F,this.injector=ue,this.applicationRef=je,this.isShowing=!1}show(F){return new Promise((ue,je)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const xt=this.factoryResolver.resolveComponentFactory(rf);this.componentRef=xt.create(this.injector),this.lastViewRef=this.componentRef.hostView,this.applicationRef.attachView(this.componentRef.hostView);let rn=this;const mn=F.target.getBoundingClientRect();this.componentRef.instance.dropDownMenuOptions=F,this.componentRef.instance.left=mn.left,this.componentRef.instance.top=mn.top+mn.height,this.componentRef.instance.width=mn.width,this.componentRef.instance.clickItem.subscribe(gi=>{this.componentRef.destroy(),rn.applicationRef.detachView(this.componentRef.hostView),rn.isShowing=!1,ue(gi)}),this.componentRef.instance.hide.subscribe(gi=>{this.componentRef.destroy(),rn.applicationRef.detachView(this.componentRef.hostView),rn.isShowing=!1,je(!0)}),this.isShowing=!0;const Pn=this.componentRef.hostView.rootNodes[0];document.getElementById("sinovadMainContainer").appendChild(Pn)})}closeDropDown(){this.componentRef.instance.hide.emit(!0)}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();const Zf=["mediaServerButton"],_u=function(de){return{selected:de}},ru=function(){return["/settings/account"]};function sf(de,Z){if(1&de&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t._uU(3),t.qZA()(),t.TgZ(4,"div",9)(5,"a",10)(6,"div",11),t._UZ(7,"div",12),t.TgZ(8,"div",13),t._uU(9," Cuenta "),t.qZA()()()()()),2&de){const F=t.oxw();t.xp6(3),t.AsE(" ",F.sharedDataService.userData.FirstName," ",F.sharedDataService.userData.LastName," "),t.xp6(1),t.Q6J("ngClass",t.VKq(4,_u,F.isSelectedAccountOption())),t.xp6(1),t.Q6J("routerLink",t.DdM(6,ru))}}function Ed(de,Z){1&de&&t._UZ(0,"i",23)}function af(de,Z){1&de&&t._UZ(0,"i",24)}function lf(de,Z){1&de&&t._UZ(0,"i",28)}function $f(de,Z){1&de&&t._UZ(0,"i",29)}const Jf=function(de,Z){return{"icon-secure":de,"icon-alert":Z}};function ou(de,Z){if(1&de&&(t.TgZ(0,"div",25),t.YNc(1,lf,1,0,"i",26),t.YNc(2,$f,1,0,"i",27),t.qZA()),2&de){const F=t.oxw(2);t.Q6J("ngClass",t.WLB(3,Jf,F.selectedMediaServer.isSecureConnection,!F.selectedMediaServer.isSecureConnection)),t.xp6(1),t.Q6J("ngIf",F.selectedMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",!F.selectedMediaServer.isSecureConnection)}}function Qf(de,Z){1&de&&(t.TgZ(0,"div",30),t._UZ(1,"i",31),t.qZA())}function cf(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"button",14,15),t.NdJ("click",function(je){t.CHM(F);const xt=t.oxw();return t.KtG(xt.togleDropDownMediaServers(je))}),t.TgZ(2,"div",16)(3,"div",17)(4,"span",18),t._uU(5),t.qZA(),t.YNc(6,Ed,1,0,"i",19),t.YNc(7,af,1,0,"i",20),t.qZA(),t.YNc(8,ou,3,6,"div",21),t.YNc(9,Qf,2,0,"div",22),t.qZA()()}if(2&de){const F=t.oxw();t.Q6J("ngClass",t.VKq(6,_u,F.isSelectedServerOption())),t.xp6(5),t.hij(" ",F.selectedMediaServer.FamilyName?F.selectedMediaServer.FamilyName:F.selectedMediaServer.DeviceName," "),t.xp6(1),t.Q6J("ngIf",F.dropDownServersService.isShowing),t.xp6(1),t.Q6J("ngIf",!F.dropDownServersService.isShowing),t.xp6(1),t.Q6J("ngIf",!F.loadingConnection),t.xp6(1),t.Q6J("ngIf",F.loadingConnection)}}const df=function(de){return[de]};function vu(de,Z){if(1&de&&(t.TgZ(0,"div",9)(1,"a",10)(2,"div",11),t._UZ(3,"div",12),t.TgZ(4,"div",13),t._uU(5),t.qZA()()()()),2&de){const F=Z.$implicit,ue=t.oxw(5);t.Q6J("ngClass",t.VKq(3,_u,ue.isSelectedSidebarOption(F))),t.xp6(1),t.Q6J("routerLink",t.VKq(5,df,ue.getOptionPath(F))),t.xp6(4),t.hij(" ",F.name," ")}}function yu(de,Z){if(1&de&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t._uU(3),t.qZA()(),t.YNc(4,vu,6,7,"ng-template",32),t.qZA()),2&de){const F=Z.$implicit;t.xp6(3),t.hij(" ",F.name," "),t.xp6(1),t.Q6J("ngForOf",F.listOptions)}}function uf(de,Z){if(1&de&&t.YNc(0,yu,5,2,"ng-template",32),2&de){const F=t.oxw(3);t.Q6J("ngForOf",F.serverModules)}}function su(de,Z){if(1&de&&(t.TgZ(0,"div")(1,"p",33),t._uU(2),t.qZA()()),2&de){const F=t.oxw(3);t.xp6(2),t.hij('No se puede conectar a "',F.selectedMediaServer.FamilyName?F.selectedMediaServer.FamilyName:F.selectedMediaServer.DeviceName,'" desde este sitio')}}function Zd(de,Z){if(1&de&&(t.YNc(0,uf,1,1,"ng-template",5),t.YNc(1,su,3,1,"ng-template",5)),2&de){const F=t.oxw(2);t.Q6J("ngIf",!F.commonService.isHttpsSite()),t.xp6(1),t.Q6J("ngIf",F.commonService.isHttpsSite())}}function bu(de,Z){if(1&de&&(t.TgZ(0,"div")(1,"p",33),t._uU(2),t.qZA()()),2&de){const F=t.oxw(2);t.xp6(2),t.hij('No se puede conectar a "',F.selectedMediaServer.FamilyName?F.selectedMediaServer.FamilyName:F.selectedMediaServer.DeviceName,'" porque el servidor esta apagado')}}function Eu(de,Z){if(1&de&&(t.YNc(0,Zd,2,2,"ng-template",5),t.YNc(1,bu,3,1,"ng-template",5)),2&de){const F=t.oxw();t.Q6J("ngIf",F.selectedMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",!F.selectedMediaServer.isSecureConnection)}}function au(de,Z){1&de&&(t.TgZ(0,"div",34),t._UZ(1,"mat-spinner"),t.qZA())}let ff=(()=>{class de{constructor(F,ue,je,xt,rn,mn){this.signalIrService=F,this.dropDownServersService=ue,this.activeRoute=je,this.ref=xt,this.commonService=rn,this.sharedDataService=mn,this.mediaServers=[],this.subscription=new el.w0,this.collapseSidebar=new t.vpe,this.loadingConnection=!0,this.serverModules=[{index:1,order:1,name:"Estado",listOptions:[{index:1,name:"Panel de Control",path:"/settings/server/{serverGuid}/status/dashboard"},{index:2,name:"Alertas",path:"/settings/server/{serverGuid}/status/alerts"}]},{index:2,order:2,name:"Ajustes",listOptions:[{index:3,name:"General",path:"/settings/server/{serverGuid}/settings/general"},{index:4,name:"Transcodificador",path:"/settings/server/{serverGuid}/settings/transcode"}]},{index:3,order:3,name:"Gestionar",listOptions:[{index:7,name:"Bibliotecas",path:"/settings/server/{serverGuid}/manage/libraries"}]}],this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe({next:Pn=>{this.selectedMediaServer&&this.selectedMediaServer.Guid==Pn&&!this.selectedMediaServer.isSecureConnection&&(this.selectedMediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.closeDropDown());var Yn=this.mediaServers.find(gi=>gi.Guid==Pn);Yn&&!Yn.isSecureConnection&&(Yn.isSecureConnection=!0)},error:Pn=>{console.error("Ha ocurrido un error")},complete:()=>{console.info("completado")}})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(Pn=>{this.selectedMediaServer&&this.selectedMediaServer.Guid==Pn&&this.selectedMediaServer.isSecureConnection&&(this.selectedMediaServer.isSecureConnection=!1,this.closeDropDown());var Yn=this.mediaServers.find(gi=>gi.Guid==Pn);Yn&&Yn.isSecureConnection&&(Yn.isSecureConnection=!1)}))}ngOnInit(){if(this.mediaServers=JSON.parse(JSON.stringify(this.sharedDataService.mediaServers)),this.mediaServers&&this.mediaServers.length>0){if(this.activeRoute.firstChild&&this.activeRoute.firstChild.firstChild&&this.activeRoute.firstChild.firstChild.snapshot.params.serverGuid){var F=this.activeRoute.firstChild.firstChild.snapshot.params.serverGuid,ue=this.mediaServers.find(je=>je.Guid==F);ue&&(this.selectedMediaServer=ue)}else this.selectedMediaServer=this.mediaServers[0];this.selectedMediaServer.isSecureConnection?this.loadingConnection=!1:setTimeout(()=>{this.loadingConnection=!1},3e3)}}ngOnDestroy(){this.subscription.unsubscribe()}getOptionPath(F){return F.path.replace("{serverGuid}",this.selectedMediaServer.Guid)}onClickModule(F){F.isCollapsed=!F.isCollapsed}togleDropDownMediaServers(F){this.showMediaServerMenuOptions(F)}showMediaServerMenuOptions(F){this.dropDownServersService.isShowing||this.dropDownServersService.show(this.getDropDownMenuOptions()).then(ue=>{this.selectedMediaServer=ue.itemData},ue=>{})}getDropDownMenuOptions(){var F=void 0;if(this.mediaServerButton){let ue=[];this.mediaServers.forEach(xt=>{ue.push({title:xt.FamilyName?xt.FamilyName:xt.DeviceName,subtitle:xt.isSecureConnection?"Conexi\xf3n exitosa":"Sin conexi\xf3n",iconClass:xt.isSecureConnection?"fa-solid fa-lock icon-secure":"fa-solid fa-triangle-exclamation icon-alert",path:"/settings/server/"+xt.Guid+"/settings/general",isSelected:this.selectedMediaServer.Id==xt.Id,itemData:xt})}),F={containerId:"sinovadMainContainer",target:this.mediaServerButton.nativeElement,listItems:ue}}return F}closeDropDown(){this.dropDownServersService.isShowing&&this.dropDownServersService.closeDropDown()}isSelectedSidebarOption(F){return-1!=this.getOptionPath(F).indexOf(window.location.pathname)}isSelectedAccountOption(){return-1!="/settings/account".indexOf(window.location.pathname)}isSelectedServerOption(){return!!window.location.pathname.startsWith("/settings/server")}onClickOutsideSidebar(F){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(Ao.n),t.Y36(iu),t.Y36(b.gz),t.Y36(t.sBO),t.Y36(Ho.v),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-sidebar-account"]],viewQuery:function(ue,je){if(1&ue&&t.Gf(Zf,5),2&ue){let xt;t.iGM(xt=t.CRH())&&(je.mediaServerButton=xt.first)}},outputs:{collapseSidebar:"collapseSidebar"},decls:7,vars:4,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sidebar-container"],[1,"sidebar-content"],["role","navigation",4,"ngIf"],["class","media-server-button",3,"ngClass","click",4,"ngIf"],[3,"ngIf"],["role","navigation"],[1,"sidebar-list-header-container"],[1,"sidebar-list-header-content"],[1,"sidebar-list-item-container",3,"ngClass"],[3,"routerLink"],[1,"sidebar-link-container"],[1,"sidebar-link-icon"],[1,"sidebar-link-title"],[1,"media-server-button",3,"ngClass","click"],["mediaServerButton",""],[1,"content"],[1,"left"],[1,"first"],["class","fa-solid fa-caret-up",4,"ngIf"],["class","fa-solid fa-caret-down",4,"ngIf"],["class","server-settings-menu-button-icon",3,"ngClass",4,"ngIf"],["class","server-settings-menu-button-icon",4,"ngIf"],[1,"fa-solid","fa-caret-up"],[1,"fa-solid","fa-caret-down"],[1,"server-settings-menu-button-icon",3,"ngClass"],["class","fa-solid fa-lock",4,"ngIf"],["class","fa-solid fa-triangle-exclamation",4,"ngIf"],[1,"fa-solid","fa-lock"],[1,"fa-solid","fa-triangle-exclamation"],[1,"server-settings-menu-button-icon"],[1,"fa-solid","fa-circle-notch","fa-spin",2,"color","white"],["ngFor","",3,"ngForOf"],[1,"sidebar-message"],[1,"spinner-centered-container"]],template:function(ue,je){1&ue&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(rn){return je.onClickOutsideSidebar(rn)}),t.TgZ(1,"div",1)(2,"div",2),t.YNc(3,sf,10,7,"div",3),t.YNc(4,cf,10,8,"button",4),t.YNc(5,Eu,2,2,"ng-template",5),t.YNc(6,au,2,0,"ng-template",5),t.qZA()()()),2&ue&&(t.xp6(3),t.Q6J("ngIf",je.sharedDataService.userData),t.xp6(1),t.Q6J("ngIf",je.selectedMediaServer),t.xp6(1),t.Q6J("ngIf",!je.loadingConnection&&je.selectedMediaServer&&je.serverModules&&je.serverModules.length>0),t.xp6(1),t.Q6J("ngIf",je.loadingConnection))},dependencies:[Ie.mk,Ie.sg,Ie.O5,nu._,ml.Ou,b.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11;overflow-y:auto}.sidebar-container[_ngcontent-%COMP%]{border-radius:4px;display:flex;flex:0 0 240px;flex-direction:column;height:calc(100% - 8px);margin:0;transform:translateZ(0);width:100%;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px}.sidebar-content[_ngcontent-%COMP%]{padding-bottom:60px;padding-top:10px}.sidebar-list-header-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-header-container[_ngcontent-%COMP%]   .sidebar-list-header-content[_ngcontent-%COMP%]{color:#ffffff4d;font-size:15px;height:45px;line-height:45px;max-width:100%;min-width:0;overflow:hidden!important;padding-left:25px;text-overflow:ellipsis;text-transform:capitalize;white-space:nowrap!important;flex-grow:1}.sidebar-list-item-container[_ngcontent-%COMP%]{border-bottom-right-radius:4px;border-top-right-radius:4px;display:flex;min-height:30px;position:relative}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;display:block;flex-grow:1;overflow:hidden;padding:4px 0 2px 25px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-icon[_ngcontent-%COMP%]{font-size:13px;width:18px;flex-shrink:0;height:14px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-title[_ngcontent-%COMP%]{flex-grow:1;word-break:break-word}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.sidebar-list-item-container.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff}.sidebar-list-item-container.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.media-server-button[_ngcontent-%COMP%]{background-color:#0000004d;font-size:13px;height:50px;line-height:50px;padding-left:25px;padding-right:15px;width:100%;-webkit-tap-highlight-color:transparent;color:#ffffffb3;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none}.content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;max-width:85%;text-align:left;display:flex;align-items:center}.left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;max-width:100%;max-width:85%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;vertical-align:top;white-space:nowrap!important;font-weight:700}.left[_ngcontent-%COMP%]   i.fa-caret-up[_ngcontent-%COMP%]{margin-left:7px;margin-top:2px}.left[_ngcontent-%COMP%]   i.fa-caret-down[_ngcontent-%COMP%]{margin-left:7px}.server-settings-menu-button-icon[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-right:10px}.media-server-button.selected[_ngcontent-%COMP%]{color:#007bff}.media-server-button[_ngcontent-%COMP%]:hover{color:#fff}.sidebar-message[_ngcontent-%COMP%]{color:#ffffff73;margin:15px 10px 15px 25px}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return de})();function Tu(de,Z){1&de&&t._UZ(0,"i",9)}function Pd(de,Z){1&de&&t._UZ(0,"i",10)}function qf(de,Z){if(1&de&&t._UZ(0,"i"),2&de){const F=t.oxw().$implicit;t.Tol(F.IconClass)}}const hf=function(de){return[de]},mf=function(de){return{active:de}};function Xf(de,Z){if(1&de&&(t.TgZ(0,"li",12)(1,"a",13),t.YNc(2,qf,1,3,"i",14),t.TgZ(3,"span",7),t._uU(4),t.qZA()()()),2&de){const F=Z.$implicit,ue=t.oxw(3);t.xp6(1),t.Q6J("routerLink",t.VKq(4,hf,F.Path))("ngClass",t.VKq(6,mf,ue.isSelectedMenu(F))),t.xp6(1),t.Q6J("ngIf",F.IconClass),t.xp6(2),t.Oqu(F.Title)}}function eh(de,Z){if(1&de&&(t.TgZ(0,"div")(1,"ul",11),t.YNc(2,Xf,5,8,"ng-template",2),t.qZA()()),2&de){const F=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",F.ChildMenus)}}function pf(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"li",3)(1,"button",4),t.NdJ("click",function(je){const rn=t.CHM(F).$implicit,mn=t.oxw();return t.KtG(mn.onClickModule(rn,je))}),t.YNc(2,Tu,1,0,"i",5),t.YNc(3,Pd,1,0,"i",6),t.TgZ(4,"span",7),t._uU(5),t.qZA()(),t.YNc(6,eh,3,1,"div",8),t.qZA()}if(2&de){const F=Z.$implicit;t.xp6(2),t.Q6J("ngIf",F.isCollapsed),t.xp6(1),t.Q6J("ngIf",!F.isCollapsed),t.xp6(2),t.Oqu(F.Title),t.xp6(1),t.Q6J("ngIf",!F.isCollapsed)}}let gf=(()=>{class de{constructor(F){this.sharedDataService=F,this.collapseSidebar=new t.vpe}onClickModule(F,ue){ue.preventDefault(),ue.stopPropagation(),F.isCollapsed=!F.isCollapsed}onClickOutsideSidebar(F){this.collapseSidebar.emit(!0)}isSelectedMenu(F){return-1!=F.Path.indexOf(window.location.pathname)}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-sidebar-administrator"]],outputs:{collapseSidebar:"collapseSidebar"},decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"click"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"],[3,"class",4,"ngIf"]],template:function(ue,je){1&ue&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(rn){return je.onClickOutsideSidebar(rn)}),t.TgZ(1,"ul",1),t.YNc(2,pf,7,4,"ng-template",2),t.qZA()()),2&ue&&(t.xp6(2),t.Q6J("ngForOf",je.sharedDataService.manageMenus))},dependencies:[Ie.mk,Ie.sg,Ie.O5,nu._,b.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:200px;height:100%;background:#0c0d11;overflow-y:auto}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return de})();var Rd=p(3826);function Su(de,Z){1&de&&t._UZ(0,"i",10)}function Nd(de,Z){1&de&&t._UZ(0,"i",11)}function th(de,Z){if(1&de&&t._UZ(0,"i"),2&de){const F=t.oxw().$implicit;t.Tol(F.IconClass)}}function U(de,Z){if(1&de&&t._UZ(0,"i"),2&de){const F=t.oxw().$implicit;t.Tol(F.IconClass)}}const Be=function(de){return[de]},w=function(de){return{active:de}};function j(de,Z){if(1&de&&(t.TgZ(0,"li",13)(1,"a",14),t.YNc(2,U,1,3,"i",7),t.TgZ(3,"span",8),t._uU(4),t.qZA()()()),2&de){const F=Z.$implicit,ue=t.oxw(3);t.xp6(1),t.Q6J("routerLink",t.VKq(4,Be,F.Path))("ngClass",t.VKq(6,w,ue.isSelectedMenu(F))),t.xp6(1),t.Q6J("ngIf",F.IconClass),t.xp6(2),t.Oqu(F.Title)}}function ve(de,Z){if(1&de&&(t.TgZ(0,"div")(1,"ul",12),t.YNc(2,j,5,8,"ng-template",2),t.qZA()()),2&de){const F=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",F.ChildMenus)}}function Et(de,Z){if(1&de&&(t.TgZ(0,"li",3)(1,"button",4),t.YNc(2,Su,1,0,"i",5),t.YNc(3,Nd,1,0,"i",6),t.YNc(4,th,1,3,"i",7),t.TgZ(5,"span",8),t._uU(6),t.qZA()(),t.YNc(7,ve,3,1,"div",9),t.qZA()),2&de){const F=Z.$implicit,ue=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(7,Be,F.Path))("ngClass",t.VKq(9,w,ue.isSelectedMenu(F))),t.xp6(1),t.Q6J("ngIf",!F.IconClass&&F.isCollapsed),t.xp6(1),t.Q6J("ngIf",!F.IconClass&&!F.isCollapsed),t.xp6(1),t.Q6J("ngIf",F.IconClass),t.xp6(2),t.Oqu(F.Title),t.xp6(1),t.Q6J("ngIf",!F.isCollapsed)}}let zt=(()=>{class de{constructor(F,ue,je){this.libraryService=F,this.signalIrService=ue,this.sharedDataService=je,this.collapseSidebar=new t.vpe,this.subscription=new el.w0,this.mediaMenu=[],this.subscription.add(this.signalIrService.isEnablingMediaServer().subscribe(xt=>{var rn=this.mediaMenu.find(Pn=>Pn.MediaServerGuid==xt);if(rn&&!rn.IsSecureConnection){rn.IsSecureConnection=!0;var mn=this.sharedDataService.mediaServers.find(Pn=>Pn.Guid==rn.MediaServerGuid);mn&&this.updateLibrariesInMediaServer(rn,mn)}})),this.subscription.add(this.signalIrService.isDisablingMediaServer().subscribe(xt=>{var rn=this.mediaMenu.find(mn=>mn.MediaServerGuid==xt);rn&&rn.IsSecureConnection&&(rn.IsSecureConnection=!1,rn.ChildMenus=[])})),this.subscription.add(this.signalIrService.isUpdatingLibrariesByMediaServer().subscribe(xt=>{var rn=this.mediaMenu.find(Pn=>Pn.MediaServerGuid==xt),mn=this.sharedDataService.mediaServers.find(Pn=>Pn.Guid==xt);rn&&mn&&(rn.IsSecureConnection=!0,this.updateLibrariesInMediaServer(rn,mn))}))}ngOnInit(){this.getMediaMenu()}ngOnDestroy(){this.subscription.unsubscribe()}getMediaMenu(){var F=[],ue=new Rd.v;ue.SortOrder=F.length+1,ue.Title="Inicio",ue.Path="/home",ue.IconClass="fa-house fa-solid",F.push(ue),this.mediaMenu=F,this.sharedDataService.mediaServers.forEach(je=>{var xt=new Rd.v;xt.SortOrder=this.mediaMenu.length+1,xt.Title=null!=je.FamilyName&&""!=je.FamilyName?je.FamilyName:je.DeviceName,xt.Path="/media/server/"+je.Guid,xt.ChildMenus=[],xt.MediaServerId=je.Id,xt.MediaServerGuid=je.Guid,this.mediaMenu.push(xt)}),this.buildMediaMenuFromListLibraries()}buildMediaMenuFromListLibraries(){this.sharedDataService.mediaServers.forEach(F=>{var ue=this.mediaMenu.find(je=>je.MediaServerId==F.Id);F.isSecureConnection?(ue.IsSecureConnection=!0,this.updateLibrariesInMediaServer(ue,F)):(ue.IsSecureConnection=!1,ue.ChildMenus=[])})}updateLibrariesInMediaServer(F,ue){this.libraryService.getLibrariesByMediaServer(ue.Url).then(je=>{var xt=[];je.forEach(rn=>{var mn=new Rd.v;mn.SortOrder=xt.length+1,mn.Title=rn.Name,mn.Path="/media/server/"+ue.Guid+"/libraries/"+rn.Id,mn.IconClass=rn.MediaTypeCatalogDetailId==i.DD.Movie?"fa-film fa-solid":"fa-tv fa-solid",xt.push(mn)}),F.ChildMenus=xt})}onClickModule(F){F.isCollapsed=!F.isCollapsed}isSelectedMenu(F){return-1!=decodeURIComponent(window.location.pathname).indexOf(F.Path)}onClickOutsideSidebar(F){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(dl.$),t.Y36(Ao.n),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-sidebar-media"]],outputs:{collapseSidebar:"collapseSidebar"},decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"routerLink","ngClass"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[3,"class",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"]],template:function(ue,je){1&ue&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(rn){return je.onClickOutsideSidebar(rn)}),t.TgZ(1,"ul",1),t.YNc(2,Et,8,11,"ng-template",2),t.qZA()()),2&ue&&(t.xp6(2),t.Q6J("ngForOf",je.mediaMenu))},dependencies:[Ie.mk,Ie.sg,Ie.O5,nu._,b.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11;overflow-y:auto}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px;padding-top:10px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return de})();function Rn(de,Z){if(1&de&&(t.TgZ(0,"div",1)(1,"div",2,3)(3,"div",4)(4,"div",5),t._UZ(5,"img",6),t.ALo(6,"async"),t.ALo(7,"formatDataPipe"),t.qZA()()()()),2&de){const F=t.MAs(2);t.xp6(5),t.Udp("width",F.offsetWidth/3+"px"),t.Q6J("src",t.lcZ(6,3,t.xi3(7,5,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH)}}let Un=(()=>{class de{constructor(F,ue){this.domSanitizer=F,this.sharedDataService=ue}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(e.H7),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-splash-screen"]],decls:1,vars:1,consts:[["class","splash-screen-container",4,"ngIf"],[1,"splash-screen-container"],[1,"sinovad-splash-screen-container"],["container",""],[2,"text-align","center"],["role","status",1,"spinner-grow"],[3,"src"]],template:function(ue,je){1&ue&&t.YNc(0,Rn,8,8,"div",0),2&ue&&t.Q6J("ngIf",je.sharedDataService.showSplashScreen)},dependencies:[Ie.O5,Ie.Ov,gr.A],styles:[".splash-screen-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;position:absolute;z-index:99999;top:0;left:0}.sinovad-splash-screen-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.sinovad-splash-screen-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.spinner-grow[_ngcontent-%COMP%]{background:black;width:unset;height:unset}"]})}return de})();function ei(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"app-navbar",12),t.NdJ("toggleSidebar",function(){t.CHM(F);const je=t.oxw();return t.KtG(je.onClickToggleSidebarButton())}),t.qZA()}if(2&de){const F=t.oxw();t.Q6J("showingSidebarAccount",F.showingSidebarAccount)("showingSidebarAdminMode",F.showingSidebarAdminMode)}}function ii(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"app-sidebar-administrator",19),t.NdJ("collapseSidebar",function(){t.CHM(F);const je=t.oxw(2);return t.KtG(je.isCollapsedSidebar=!0)}),t.qZA()}}function Ai(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"app-sidebar-account",19),t.NdJ("collapseSidebar",function(){t.CHM(F);const je=t.oxw(2);return t.KtG(je.isCollapsedSidebar=!0)}),t.qZA()}}function Ei(de,Z){if(1&de){const F=t.EpF();t.TgZ(0,"app-sidebar-media",19),t.NdJ("collapseSidebar",function(){t.CHM(F);const je=t.oxw(2);return t.KtG(je.isCollapsedSidebar=!0)}),t.qZA()}}function Li(de,Z){if(1&de&&(t.TgZ(0,"section",13,14)(2,"div",15),t._UZ(3,"div",16),t.TgZ(4,"div",17),t.YNc(5,ii,1,0,"app-sidebar-administrator",18),t.YNc(6,Ai,1,0,"app-sidebar-account",18),t.YNc(7,Ei,1,0,"app-sidebar-media",18),t.qZA()()()),2&de){const F=t.oxw();t.Udp("height","100%"),t.xp6(5),t.Q6J("ngIf",F.showingSidebarAdminMode),t.xp6(1),t.Q6J("ngIf",F.showingSidebarAccount),t.xp6(1),t.Q6J("ngIf",F.showingSidebarMedia)}}const Xr=function(de){return{locked:de}};let Pr=(()=>{class de{constructor(F,ue,je,xt,rn){this.commonService=F,this.deviceService=ue,this.userService=je,this.ref=xt,this.sharedDataService=rn,this._window=window,this.isCollapsedSidebar=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1,this.showRouterChildWithFullDimentions=!0}ngOnInit(){var F=this.deviceService.getDeviceInfo();this.sharedDataService.deviceData=new te,this.sharedDataService.deviceData.OperatingSystem=F.os,this.sharedDataService.deviceData.DeviceType=F.deviceType,this.sharedDataService.deviceData.Browser=F.browser;const ue=window.location.search;if(""!=ue){var je=new URLSearchParams(ue).get("apiToken");null!=je&&localStorage.setItem("apiToken",je)}window.configurationData&&(this.sharedDataService.configurationData=window.configurationData),localStorage.getItem("apiToken")&&(this.sharedDataService.apiToken=localStorage.getItem("apiToken"),this.userService.getUserData())}ngAfterViewInit(){let F=this;window.addEventListener("click",function(xt){F.sharedDataService.configurationData.alwaysFullScreen&&F.showPageInFullScreen()})}showPageInFullScreen(){document.fullscreenElement||document.body.requestFullscreen&&document.body.requestFullscreen()}onClickToggleSidebarButton(){this.isCollapsedSidebar=!this.isCollapsedSidebar}onActivate(F){this.isCollapsedSidebar=!0,this.sharedDataService.showSplashScreen=!1,(F instanceof wl||F instanceof ti.c||F instanceof zs||F instanceof $t||F instanceof Ha||F instanceof pa||F instanceof cl||F instanceof ll||F instanceof Bn.n)&&(this.showRouterChildWithFullDimentions=!0,this.showingSidebarMedia=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),(F instanceof ja||F instanceof zn.c||F instanceof ui.R||F instanceof oi.g||F instanceof ya)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarMedia=!0,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),(F instanceof lt.H||F instanceof Pe.$||F instanceof De.i||F instanceof M.o||F instanceof k.I||F instanceof H.M)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),(F instanceof pt.O||F instanceof Bt.f||F instanceof cn.U||F instanceof Xt.o||F instanceof jt.C||F instanceof bn.C)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!0,this.showingSidebarMedia=!1)}onResize(F){}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.Y36(Ho.v),t.Y36(Al),t.Y36(f.K),t.Y36(t.sBO),t.Y36(Fr.g))};static#t=this.\u0275cmp=t.Xpm({type:de,selectors:[["app-root"]],hostBindings:function(ue,je){1&ue&&t.NdJ("resize",function(rn){return je.onResize(rn)},!1,t.Jf7)},decls:16,vars:9,consts:[["id","sinovadMainContainer",1,"sinovad-main-container"],["mainContainer",""],[1,"sinovad-page-container"],["header",""],[3,"showingSidebarAccount","showingSidebarAdminMode","toggleSidebar",4,"ngIf"],[1,"sinovad-menu-body-container"],["menu",""],["id","menuContainer","class","sinovad-menu-container","tabindex","0",3,"height",4,"ngIf"],["id","bodyContainer","tabindex","0",1,"sinovad-body-container",3,"ngClass"],["principalContainer",""],[3,"activate"],["footer",""],[3,"showingSidebarAccount","showingSidebarAdminMode","toggleSidebar"],["id","menuContainer","tabindex","0",1,"sinovad-menu-container"],["menuContainer",""],[1,"sidebar"],[1,"blocker"],[1,"content"],[3,"collapseSidebar",4,"ngIf"],[3,"collapseSidebar"]],template:function(ue,je){if(1&ue&&(t.TgZ(0,"div",0,1)(2,"div",2)(3,"div",null,3),t.YNc(5,ei,1,2,"app-navbar",4),t.qZA(),t.TgZ(6,"div",5)(7,"div",null,6),t.YNc(9,Li,8,5,"section",7),t.qZA(),t.TgZ(10,"section",8,9)(12,"router-outlet",10),t.NdJ("activate",function(rn){return je.onActivate(rn)}),t.qZA()()(),t._UZ(13,"div",null,11),t.qZA()(),t._UZ(15,"app-splash-screen")),2&ue){const xt=t.MAs(4),rn=t.MAs(8),mn=t.MAs(14);t.xp6(5),t.Q6J("ngIf",!je.showRouterChildWithFullDimentions),t.xp6(1),t.Udp("height","calc(100% - "+(xt.offsetHeight+mn.offsetHeight)+"px)"),t.xp6(3),t.Q6J("ngIf",!(je.showRouterChildWithFullDimentions||je.commonService.isSmallDevice()&&je.isCollapsedSidebar)),t.xp6(1),t.Udp("width","calc(100% - "+rn.offsetWidth+"px)"),t.Q6J("ngClass",t.VKq(7,Xr,je.commonService.isSmallDevice()&&!je.isCollapsedSidebar))}},dependencies:[Ie.mk,Ie.O5,b.lC,Wf,ff,gf,zt,Un],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}.sinovad-main-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-module-container[_ngcontent-%COMP%]{border-top:1px solid #dedede}.sinovad-page-container[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%}.sinovad-header-container[_ngcontent-%COMP%]{height:60px;background:rgba(0,0,0,.15)}.sinovad-menu-body-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}.sinovad-menu-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.6);position:relative}.sinovad-body-container[_ngcontent-%COMP%]{display:block;height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-body-container.locked[_ngcontent-%COMP%]{pointer-events:none}.sidebar[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:100%}@media only screen and (max-width: 767px){.sidebar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100vw;padding:0;background:rgba(0,0,0,.5);display:block;z-index:99999}.sidebar[_ngcontent-%COMP%]   .blocker[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;top:0;left:0}}"]})}return de})();var qi=p(7102),yr=p(4911),Mr=p(8504),Yo=p(2438),Gr=p(5211),ho=p(2420);const zr=new T.y(ho.Z);var zo=p(3168),ta=p(4829),na=p(9360);const ac={connector:()=>new D.x};function Ua(de,Z=ac){const{connector:F}=Z;return(0,na.e)((ue,je)=>{const xt=F();(0,ta.Xf)(de(function Ba(de){return new T.y(Z=>de.subscribe(Z))}(xt))).subscribe(je),je.add(ue.subscribe(xt))})}var Is=p(8180),Hl=p(9397),Ld=p(5177);const jl="Service workers are disabled or not supported by this browser";class kd{constructor(Z){if(this.serviceWorker=Z,Z){const ue=(0,Yo.R)(Z,"controllerchange").pipe((0,ne.U)(()=>Z.controller)),je=(0,yr.P)(()=>(0,I.of)(Z.controller)),xt=(0,Gr.z)(je,ue);this.worker=xt.pipe((0,Se.h)(gi=>!!gi)),this.registration=this.worker.pipe((0,z.w)(()=>Z.getRegistration()));const Yn=(0,Yo.R)(Z,"message").pipe((0,ne.U)(gi=>gi.data)).pipe((0,Se.h)(gi=>gi&&gi.type)).pipe(function Qa(de){return de?Z=>Ua(de)(Z):Z=>function Oc(de,Z){const F=(0,Y.m)(de)?de:()=>de;return(0,Y.m)(Z)?Ua(Z,{connector:F}):ue=>new zo.c(ue,F)}(new D.x)(Z)}());Yn.connect(),this.events=Yn}else this.worker=this.events=this.registration=function lu(de){return(0,yr.P)(()=>(0,Mr._)(new Error(de)))}(jl)}postMessage(Z,F){return this.worker.pipe((0,Is.q)(1),(0,Hl.b)(ue=>{ue.postMessage({action:Z,...F})})).toPromise().then(()=>{})}postMessageWithOperation(Z,F,ue){const je=this.waitForOperationCompleted(ue),xt=this.postMessage(Z,F);return Promise.all([xt,je]).then(([,rn])=>rn)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Z){let F;return F="string"==typeof Z?ue=>ue.type===Z:ue=>Z.includes(ue.type),this.events.pipe((0,Se.h)(F))}nextEventOfType(Z){return this.eventsOfType(Z).pipe((0,Is.q)(1))}waitForOperationCompleted(Z){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Se.h)(F=>F.nonce===Z),(0,Is.q)(1),(0,ne.U)(F=>{if(void 0!==F.result)return F.result;throw new Error(F.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Fd=(()=>{class de{get isEnabled(){return this.sw.isEnabled}constructor(F){if(this.sw=F,this.pushManager=null,this.subscriptionChanges=new D.x,!F.isEnabled)return this.messages=zr,this.notificationClicks=zr,void(this.subscription=zr);this.messages=this.sw.eventsOfType("PUSH").pipe((0,ne.U)(je=>je.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,ne.U)(je=>je.data)),this.pushManager=this.sw.registration.pipe((0,ne.U)(je=>je.pushManager));const ue=this.pushManager.pipe((0,z.w)(je=>je.getSubscription()));this.subscription=(0,y.T)(ue,this.subscriptionChanges)}requestSubscription(F){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(jl));const ue={userVisibleOnly:!0};let je=this.decodeBase64(F.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),xt=new Uint8Array(new ArrayBuffer(je.length));for(let rn=0;rn<je.length;rn++)xt[rn]=je.charCodeAt(rn);return ue.applicationServerKey=xt,this.pushManager.pipe((0,z.w)(rn=>rn.subscribe(ue)),(0,Is.q)(1)).toPromise().then(rn=>(this.subscriptionChanges.next(rn),rn))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Is.q)(1),(0,z.w)(ue=>{if(null===ue)throw new Error("Not subscribed to push notifications.");return ue.unsubscribe().then(je=>{if(!je)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(jl))}decodeBase64(F){return atob(F)}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.LFG(kd))};static#t=this.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac})}return de})(),dd=(()=>{class de{get isEnabled(){return this.sw.isEnabled}constructor(F){if(this.sw=F,!F.isEnabled)return this.versionUpdates=zr,this.available=zr,this.activated=zr,void(this.unrecoverable=zr);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,Se.h)(ue=>"VERSION_READY"===ue.type),(0,ne.U)(ue=>({type:"UPDATE_AVAILABLE",current:ue.currentVersion,available:ue.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(jl));const F=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:F},F)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(jl));const F=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:F},F)}static#e=this.\u0275fac=function(ue){return new(ue||de)(t.LFG(kd))};static#t=this.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac})}return de})();const Gc=new t.OlP("NGSW_REGISTER_SCRIPT");function ud(de,Z,F,ue){return()=>{if(!(0,Ie.NF)(ue)||!("serviceWorker"in navigator)||!1===F.enabled)return;let je;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof F.registrationStrategy)je=F.registrationStrategy();else{const[rn,...mn]=(F.registrationStrategy||"registerWhenStable:30000").split(":");switch(rn){case"registerImmediately":je=(0,I.of)(null);break;case"registerWithDelay":je=Bd(+mn[0]||0);break;case"registerWhenStable":je=mn[0]?(0,y.T)(Td(de),Bd(+mn[0])):Td(de);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${F.registrationStrategy}`)}}de.get(t.R0b).runOutsideAngular(()=>je.pipe((0,Is.q)(1)).subscribe(()=>navigator.serviceWorker.register(Z,{scope:F.scope}).catch(rn=>console.error("Service worker registration failed with:",rn))))}}function Bd(de){return(0,I.of)(null).pipe((0,Ld.g)(de))}function Td(de){return de.get(t.z2F).isStable.pipe((0,Se.h)(F=>F))}function fd(de,Z){return new kd((0,Ie.NF)(Z)&&!1!==de.enabled?navigator.serviceWorker:void 0)}class Ud{}function _f(de,Z={}){return(0,t.MR2)([Fd,dd,{provide:Gc,useValue:de},{provide:Ud,useValue:Z},{provide:kd,useFactory:fd,deps:[Ud,t.Lbi]},{provide:t.ip1,useFactory:ud,deps:[t.zs3,Gc,Ud,t.Lbi],multi:!0}])}let cu=(()=>{class de{static register(F,ue={}){return{ngModule:de,providers:[_f(F,ue)]}}static#e=this.\u0275fac=function(ue){return new(ue||de)};static#t=this.\u0275mod=t.oAB({type:de});static#n=this.\u0275inj=t.cJS({providers:[Fd,dd]})}return de})(),Cu=(()=>{class de{static#e=this.\u0275fac=function(ue){return new(ue||de)};static#t=this.\u0275mod=t.oAB({type:de,bootstrap:[Pr]});static#n=this.\u0275inj=t.cJS({providers:[{provide:Ie.mr,useValue:"/"}],imports:[e.b2,C.u5,qi.m,v.JF,Yt,ge.hO.initializeApp(h_firebase),Cr,sc,cu.register("ngsw-worker.js",{enabled:!(0,t.X6Q)(),registrationStrategy:"registerWhenStable:30000"})]})}return de})();e.q6().bootstrapModule(Cu).catch(de=>console.error(de))},4753:(Wn,et,p)=>{"use strict";et.Q=void 0;const t=p(2546),v=p(8540);et.Q=_=>_.startsWith("WEBVTT")?v.vttParser(_):t.srtParser(_)},2546:(Wn,et,p)=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.srtParser=void 0;const e=p(4575),t=p(2279),b=C=>{let i,c,d,m=C.split(":");return 2===m.length?[c,d]=m:[i,c,d]=m,parseInt(d.replace(",",""),10)+60*parseInt(c,10)*1e3+60*(i?parseInt(i,10):0)*60*1e3},_=()=>({start(C){let m="ID",i={tokens:C.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==m;){const c=this[m](i);i=c.params,m=c.next}return i.result},ID(C){const{tokens:m,pos:i,current:c}=C;if(m.length<=i)return{next:"FINISH",params:C};if(t.isBlank(m[i]))return{next:"ID",params:{...C,pos:i+1}};const d=m[i].includes("--\x3e");return c.id=d?"":m[i],{next:"TIME_LINE",params:{...C,current:c,tokens:m,pos:d?i:i+1}}},TIME_LINE(C){const{tokens:m,pos:i,current:c}=C,d=m[i],[f,g]=d.split("--\x3e");return c.from=b(f),c.to=b(g),{next:"TEXT",params:{...C,current:c,pos:i+1}}},TEXT(C){const{tokens:m,pos:i,current:c}=C;return m.length<=i?{next:"FINISH",params:C}:(c.text=m[i],{next:"MULTI_LINE_TEXT",params:{...C,current:c,pos:i+1}})},MULTI_LINE_TEXT(C){const{tokens:m,pos:i,current:c}=C;return m.length<=i?{next:"FINISH",params:C}:t.isBlank(m[i])?{next:"FIN_ENTRY",params:C}:(c.text=`${c.text}\n${m[i]}`,{next:"MULTI_LINE_TEXT",params:{...C,current:c,pos:i+1}})},FIN_ENTRY(C){const{pos:m,current:i,result:c}=C;if(!e.isEntryFromPartial(i))throw new Error(`Parsing error current not complete ${JSON.stringify(i)}`);return c.push(i),{next:"ID",params:{...C,current:{},pos:m+1}}},FINISH:C=>({next:"FINISH",params:C})});et.srtParser=C=>({entries:_().start(C)})},4575:(Wn,et)=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.isEntryFromPartial=void 0,et.isEntryFromPartial=e=>"string"==typeof e.id&&"number"==typeof e.from&&"number"==typeof e.to&&"string"==typeof e.text},2279:(Wn,et)=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.isBlank=void 0,et.isBlank=e=>!e||/^\s*$/.test(e)},8540:(Wn,et,p)=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.vttParser=void 0;const e=p(4575),t=p(2279),b=C=>{let i,c,d,m=C.split(":");return 2===m.length?[c,d]=m:[i,c,d]=m,parseInt(d.replace(".",""),10)+60*parseInt(c,10)*1e3+60*(i?parseInt(i,10):0)*60*1e3},_=()=>({start(C){let m="HEADER",i={tokens:C.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==m;){const c=this[m](i);i=c.params,m=c.next}return i.result},HEADER:C=>({next:"ID_OR_NOTE_OR_STYLE",params:{...C,pos:C.pos+1}}),ID_OR_NOTE_OR_STYLE(C){const{tokens:m,pos:i}=C;return m.length<=i?{next:"FINISH",params:C}:t.isBlank(m[i])?{next:"ID_OR_NOTE_OR_STYLE",params:{...C,pos:i+1}}:m[i].toUpperCase().includes("NOTE")?{next:"NOTE",params:C}:m[i].toUpperCase().includes("STYLE")?{next:"STYLE",params:C}:{next:"ID",params:C}},STYLE(C){const{tokens:m,pos:i}=C;return t.isBlank(m[i])?{next:"ID_OR_NOTE_OR_STYLE",params:{...C,pos:i+1}}:{next:"STYLE",params:{...C,pos:i+1}}},NOTE(C){const{tokens:m,pos:i}=C;return t.isBlank(m[i])?{next:"ID_OR_NOTE_OR_STYLE",params:{...C,pos:i+1}}:{next:"STYLE",params:{...C,pos:i+1}}},ID(C){const{tokens:m,pos:i,current:c}=C;if(m.length<=i)return{next:"FINISH",params:C};if(t.isBlank(m[i]))return{next:"ID",params:{...C,pos:i+1}};const d=m[i].includes("--\x3e");return c.id=d?"":m[i],{next:"TIME_LINE",params:{...C,current:c,tokens:m,pos:d?i:i+1}}},TIME_LINE(C){const{tokens:m,pos:i,current:c}=C,d=m[i],[f,g]=d.split("--\x3e");return c.from=b(f),c.to=b(g),{next:"TEXT",params:{...C,current:c,pos:i+1}}},TEXT(C){const{tokens:m,pos:i,current:c}=C;return m.length<=i?{next:"FINISH",params:C}:(c.text=m[i],{next:"MULTI_LINE_TEXT",params:{...C,current:c,pos:i+1}})},MULTI_LINE_TEXT(C){const{tokens:m,pos:i,current:c}=C;return m.length<=i?{next:"FINISH",params:C}:t.isBlank(m[i])?{next:"FIN_ENTRY",params:C}:(c.text=`${c.text}\n${m[i]}`,{next:"MULTI_LINE_TEXT",params:{...C,current:c,pos:i+1}})},FIN_ENTRY(C){const{pos:m,current:i,result:c}=C;if(!e.isEntryFromPartial(i))throw new Error(`Parsing error current not complete ${JSON.stringify(i)}`);return c.push(i),{next:"ID_OR_NOTE_OR_STYLE",params:{...C,current:{},pos:m+1}}},FINISH:C=>({next:"FINISH",params:C})});et.vttParser=C=>({entries:_().start(C)})},9919:(Wn,et)=>{"use strict";et.byteLength=function C(g){var S=P(g),A=S[1];return 3*(S[0]+A)/4-A},et.toByteArray=function i(g){var S,T,x=P(g),A=x[0],N=x[1],O=new t(function m(g,S,x){return 3*(S+x)/4-x}(0,A,N)),D=0,I=N>0?A-4:A;for(T=0;T<I;T+=4)S=e[g.charCodeAt(T)]<<18|e[g.charCodeAt(T+1)]<<12|e[g.charCodeAt(T+2)]<<6|e[g.charCodeAt(T+3)],O[D++]=S>>16&255,O[D++]=S>>8&255,O[D++]=255&S;return 2===N&&(S=e[g.charCodeAt(T)]<<2|e[g.charCodeAt(T+1)]>>4,O[D++]=255&S),1===N&&(S=e[g.charCodeAt(T)]<<10|e[g.charCodeAt(T+1)]<<4|e[g.charCodeAt(T+2)]>>2,O[D++]=S>>8&255,O[D++]=255&S),O},et.fromByteArray=function f(g){for(var S,x=g.length,A=x%3,N=[],O=16383,D=0,I=x-A;D<I;D+=O)N.push(d(g,D,D+O>I?I:D+O));return 1===A?N.push(p[(S=g[x-1])>>2]+p[S<<4&63]+"=="):2===A&&N.push(p[(S=(g[x-2]<<8)+g[x-1])>>10]+p[S>>4&63]+p[S<<2&63]+"="),N.join("")};for(var p=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=0;b<64;++b)p[b]=v[b],e[v.charCodeAt(b)]=b;function P(g){var S=g.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=g.indexOf("=");return-1===x&&(x=S),[x,x===S?0:4-x%4]}function c(g){return p[g>>18&63]+p[g>>12&63]+p[g>>6&63]+p[63&g]}function d(g,S,x){for(var N=[],O=S;O<x;O+=3)N.push(c((g[O]<<16&16711680)+(g[O+1]<<8&65280)+(255&g[O+2])));return N.join("")}e["-".charCodeAt(0)]=62,e["_".charCodeAt(0)]=63},9007:(Wn,et,p)=>{"use strict";var t=p(9919),v=p(2601),b="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;et.lW=m,et.h2=50;var _=2147483647;function C(ee){if(ee>_)throw new RangeError('The value "'+ee+'" is invalid for option "size"');var X=new Uint8Array(ee);return Object.setPrototypeOf(X,m.prototype),X}function m(ee,X,$){if("number"==typeof ee){if("string"==typeof X)throw new TypeError('The "string" argument must be of type string. Received type number');return f(ee)}return i(ee,X,$)}function i(ee,X,$){if("string"==typeof ee)return function g(ee,X){if(("string"!=typeof X||""===X)&&(X="utf8"),!m.isEncoding(X))throw new TypeError("Unknown encoding: "+X);var $=0|I(ee,X),re=C($),J=re.write(ee,X);return J!==$&&(re=re.slice(0,J)),re}(ee,X);if(ArrayBuffer.isView(ee))return function x(ee){if(ie(ee,Uint8Array)){var X=new Uint8Array(ee);return A(X.buffer,X.byteOffset,X.byteLength)}return S(ee)}(ee);if(null==ee)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee);if(ie(ee,ArrayBuffer)||ee&&ie(ee.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ie(ee,SharedArrayBuffer)||ee&&ie(ee.buffer,SharedArrayBuffer)))return A(ee,X,$);if("number"==typeof ee)throw new TypeError('The "value" argument must not be of type number. Received type number');var re=ee.valueOf&&ee.valueOf();if(null!=re&&re!==ee)return m.from(re,X,$);var J=function N(ee){if(m.isBuffer(ee)){var X=0|O(ee.length),$=C(X);return 0===$.length||ee.copy($,0,0,X),$}return void 0!==ee.length?"number"!=typeof ee.length||ye(ee.length)?C(0):S(ee):"Buffer"===ee.type&&Array.isArray(ee.data)?S(ee.data):void 0}(ee);if(J)return J;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ee[Symbol.toPrimitive])return m.from(ee[Symbol.toPrimitive]("string"),X,$);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee)}function c(ee){if("number"!=typeof ee)throw new TypeError('"size" argument must be of type number');if(ee<0)throw new RangeError('The value "'+ee+'" is invalid for option "size"')}function f(ee){return c(ee),C(ee<0?0:0|O(ee))}function S(ee){for(var X=ee.length<0?0:0|O(ee.length),$=C(X),re=0;re<X;re+=1)$[re]=255&ee[re];return $}function A(ee,X,$){if(X<0||ee.byteLength<X)throw new RangeError('"offset" is outside of buffer bounds');if(ee.byteLength<X+($||0))throw new RangeError('"length" is outside of buffer bounds');var re;return re=void 0===X&&void 0===$?new Uint8Array(ee):void 0===$?new Uint8Array(ee,X):new Uint8Array(ee,X,$),Object.setPrototypeOf(re,m.prototype),re}function O(ee){if(ee>=_)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_.toString(16)+" bytes");return 0|ee}function I(ee,X){if(m.isBuffer(ee))return ee.length;if(ArrayBuffer.isView(ee)||ie(ee,ArrayBuffer))return ee.byteLength;if("string"!=typeof ee)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ee);var $=ee.length,re=arguments.length>2&&!0===arguments[2];if(!re&&0===$)return 0;for(var J=!1;;)switch(X){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":return ft(ee).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*$;case"hex":return $>>>1;case"base64":return be(ee).length;default:if(J)return re?-1:ft(ee).length;X=(""+X).toLowerCase(),J=!0}}function T(ee,X,$){var re=!1;if((void 0===X||X<0)&&(X=0),X>this.length||((void 0===$||$>this.length)&&($=this.length),$<=0)||($>>>=0)<=(X>>>=0))return"";for(ee||(ee="utf8");;)switch(ee){case"hex":return Ce(this,X,$);case"utf8":case"utf-8":return G(this,X,$);case"ascii":return ge(this,X,$);case"latin1":case"binary":return Ie(this,X,$);case"base64":return le(this,X,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,X,$);default:if(re)throw new TypeError("Unknown encoding: "+ee);ee=(ee+"").toLowerCase(),re=!0}}function L(ee,X,$){var re=ee[X];ee[X]=ee[$],ee[$]=re}function y(ee,X,$,re,J){if(0===ee.length)return-1;if("string"==typeof $?(re=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),ye($=+$)&&($=J?0:ee.length-1),$<0&&($=ee.length+$),$>=ee.length){if(J)return-1;$=ee.length-1}else if($<0){if(!J)return-1;$=0}if("string"==typeof X&&(X=m.from(X,re)),m.isBuffer(X))return 0===X.length?-1:B(ee,X,$,re,J);if("number"==typeof X)return X&=255,"function"==typeof Uint8Array.prototype.indexOf?J?Uint8Array.prototype.indexOf.call(ee,X,$):Uint8Array.prototype.lastIndexOf.call(ee,X,$):B(ee,[X],$,re,J);throw new TypeError("val must be string, number or Buffer")}function B(ee,X,$,re,J){var Ge,q=1,_e=ee.length,xe=X.length;if(void 0!==re&&("ucs2"===(re=String(re).toLowerCase())||"ucs-2"===re||"utf16le"===re||"utf-16le"===re)){if(ee.length<2||X.length<2)return-1;q=2,_e/=2,xe/=2,$/=2}function Ee(gt,Qe){return 1===q?gt[Qe]:gt.readUInt16BE(Qe*q)}if(J){var ct=-1;for(Ge=$;Ge<_e;Ge++)if(Ee(ee,Ge)===Ee(X,-1===ct?0:Ge-ct)){if(-1===ct&&(ct=Ge),Ge-ct+1===xe)return ct*q}else-1!==ct&&(Ge-=Ge-ct),ct=-1}else for($+xe>_e&&($=_e-xe),Ge=$;Ge>=0;Ge--){for(var Xe=!0,tt=0;tt<xe;tt++)if(Ee(ee,Ge+tt)!==Ee(X,tt)){Xe=!1;break}if(Xe)return Ge}return-1}function z(ee,X,$,re){$=Number($)||0;var J=ee.length-$;re?(re=Number(re))>J&&(re=J):re=J;var q=X.length;re>q/2&&(re=q/2);for(var _e=0;_e<re;++_e){var xe=parseInt(X.substr(2*_e,2),16);if(ye(xe))return _e;ee[$+_e]=xe}return _e}function ne(ee,X,$,re){return Q(ft(X,ee.length-$),ee,$,re)}function ae(ee,X,$,re){return Q(function Ze(ee){for(var X=[],$=0;$<ee.length;++$)X.push(255&ee.charCodeAt($));return X}(X),ee,$,re)}function Fe(ee,X,$,re){return Q(be(X),ee,$,re)}function Y(ee,X,$,re){return Q(function Re(ee,X){for(var $,re,q=[],_e=0;_e<ee.length&&!((X-=2)<0);++_e)re=($=ee.charCodeAt(_e))>>8,q.push($%256),q.push(re);return q}(X,ee.length-$),ee,$,re)}function le(ee,X,$){return t.fromByteArray(0===X&&$===ee.length?ee:ee.slice(X,$))}function G(ee,X,$){$=Math.min(ee.length,$);for(var re=[],J=X;J<$;){var Ee,Ge,ct,Xe,q=ee[J],_e=null,xe=q>239?4:q>223?3:q>191?2:1;if(J+xe<=$)switch(xe){case 1:q<128&&(_e=q);break;case 2:128==(192&(Ee=ee[J+1]))&&(Xe=(31&q)<<6|63&Ee)>127&&(_e=Xe);break;case 3:Ge=ee[J+2],128==(192&(Ee=ee[J+1]))&&128==(192&Ge)&&(Xe=(15&q)<<12|(63&Ee)<<6|63&Ge)>2047&&(Xe<55296||Xe>57343)&&(_e=Xe);break;case 4:Ge=ee[J+2],ct=ee[J+3],128==(192&(Ee=ee[J+1]))&&128==(192&Ge)&&128==(192&ct)&&(Xe=(15&q)<<18|(63&Ee)<<12|(63&Ge)<<6|63&ct)>65535&&Xe<1114112&&(_e=Xe)}null===_e?(_e=65533,xe=1):_e>65535&&(re.push((_e-=65536)>>>10&1023|55296),_e=56320|1023&_e),re.push(_e),J+=xe}return function ce(ee){var X=ee.length;if(X<=Se)return String.fromCharCode.apply(String,ee);for(var $="",re=0;re<X;)$+=String.fromCharCode.apply(String,ee.slice(re,re+=Se));return $}(re)}!(m.TYPED_ARRAY_SUPPORT=function P(){try{var ee=new Uint8Array(1),X={foo:function(){return 42}};return Object.setPrototypeOf(X,Uint8Array.prototype),Object.setPrototypeOf(ee,X),42===ee.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.byteOffset}}),m.poolSize=8192,m.from=function(ee,X,$){return i(ee,X,$)},Object.setPrototypeOf(m.prototype,Uint8Array.prototype),Object.setPrototypeOf(m,Uint8Array),m.alloc=function(ee,X,$){return function d(ee,X,$){return c(ee),ee<=0?C(ee):void 0!==X?"string"==typeof $?C(ee).fill(X,$):C(ee).fill(X):C(ee)}(ee,X,$)},m.allocUnsafe=function(ee){return f(ee)},m.allocUnsafeSlow=function(ee){return f(ee)},m.isBuffer=function(X){return null!=X&&!0===X._isBuffer&&X!==m.prototype},m.compare=function(X,$){if(ie(X,Uint8Array)&&(X=m.from(X,X.offset,X.byteLength)),ie($,Uint8Array)&&($=m.from($,$.offset,$.byteLength)),!m.isBuffer(X)||!m.isBuffer($))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(X===$)return 0;for(var re=X.length,J=$.length,q=0,_e=Math.min(re,J);q<_e;++q)if(X[q]!==$[q]){re=X[q],J=$[q];break}return re<J?-1:J<re?1:0},m.isEncoding=function(X){switch(String(X).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(X,$){if(!Array.isArray(X))throw new TypeError('"list" argument must be an Array of Buffers');if(0===X.length)return m.alloc(0);var re;if(void 0===$)for($=0,re=0;re<X.length;++re)$+=X[re].length;var J=m.allocUnsafe($),q=0;for(re=0;re<X.length;++re){var _e=X[re];if(ie(_e,Uint8Array))q+_e.length>J.length?m.from(_e).copy(J,q):Uint8Array.prototype.set.call(J,_e,q);else{if(!m.isBuffer(_e))throw new TypeError('"list" argument must be an Array of Buffers');_e.copy(J,q)}q+=_e.length}return J},m.byteLength=I,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var X=this.length;if(X%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var $=0;$<X;$+=2)L(this,$,$+1);return this},m.prototype.swap32=function(){var X=this.length;if(X%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var $=0;$<X;$+=4)L(this,$,$+3),L(this,$+1,$+2);return this},m.prototype.swap64=function(){var X=this.length;if(X%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var $=0;$<X;$+=8)L(this,$,$+7),L(this,$+1,$+6),L(this,$+2,$+5),L(this,$+3,$+4);return this},m.prototype.toLocaleString=m.prototype.toString=function(){var X=this.length;return 0===X?"":0===arguments.length?G(this,0,X):T.apply(this,arguments)},m.prototype.equals=function(X){if(!m.isBuffer(X))throw new TypeError("Argument must be a Buffer");return this===X||0===m.compare(this,X)},m.prototype.inspect=function(){var X="",$=et.h2;return X=this.toString("hex",0,$).replace(/(.{2})/g,"$1 ").trim(),this.length>$&&(X+=" ... "),"<Buffer "+X+">"},b&&(m.prototype[b]=m.prototype.inspect),m.prototype.compare=function(X,$,re,J,q){if(ie(X,Uint8Array)&&(X=m.from(X,X.offset,X.byteLength)),!m.isBuffer(X))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof X);if(void 0===$&&($=0),void 0===re&&(re=X?X.length:0),void 0===J&&(J=0),void 0===q&&(q=this.length),$<0||re>X.length||J<0||q>this.length)throw new RangeError("out of range index");if(J>=q&&$>=re)return 0;if(J>=q)return-1;if($>=re)return 1;if(this===X)return 0;for(var _e=(q>>>=0)-(J>>>=0),xe=(re>>>=0)-($>>>=0),Ee=Math.min(_e,xe),Ge=this.slice(J,q),ct=X.slice($,re),Xe=0;Xe<Ee;++Xe)if(Ge[Xe]!==ct[Xe]){_e=Ge[Xe],xe=ct[Xe];break}return _e<xe?-1:xe<_e?1:0},m.prototype.includes=function(X,$,re){return-1!==this.indexOf(X,$,re)},m.prototype.indexOf=function(X,$,re){return y(this,X,$,re,!0)},m.prototype.lastIndexOf=function(X,$,re){return y(this,X,$,re,!1)},m.prototype.write=function(X,$,re,J){if(void 0===$)J="utf8",re=this.length,$=0;else if(void 0===re&&"string"==typeof $)J=$,re=this.length,$=0;else{if(!isFinite($))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");$>>>=0,isFinite(re)?(re>>>=0,void 0===J&&(J="utf8")):(J=re,re=void 0)}var q=this.length-$;if((void 0===re||re>q)&&(re=q),X.length>0&&(re<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");for(var _e=!1;;)switch(J){case"hex":return z(this,X,$,re);case"utf8":case"utf-8":return ne(this,X,$,re);case"ascii":case"latin1":case"binary":return ae(this,X,$,re);case"base64":return Fe(this,X,$,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,X,$,re);default:if(_e)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),_e=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Se=4096;function ge(ee,X,$){var re="";$=Math.min(ee.length,$);for(var J=X;J<$;++J)re+=String.fromCharCode(127&ee[J]);return re}function Ie(ee,X,$){var re="";$=Math.min(ee.length,$);for(var J=X;J<$;++J)re+=String.fromCharCode(ee[J]);return re}function Ce(ee,X,$){var re=ee.length;(!X||X<0)&&(X=0),(!$||$<0||$>re)&&($=re);for(var J="",q=X;q<$;++q)J+=oe[ee[q]];return J}function pe(ee,X,$){for(var re=ee.slice(X,$),J="",q=0;q<re.length-1;q+=2)J+=String.fromCharCode(re[q]+256*re[q+1]);return J}function Ae(ee,X,$){if(ee%1!=0||ee<0)throw new RangeError("offset is not uint");if(ee+X>$)throw new RangeError("Trying to access beyond buffer length")}function ke(ee,X,$,re,J,q){if(!m.isBuffer(ee))throw new TypeError('"buffer" argument must be a Buffer instance');if(X>J||X<q)throw new RangeError('"value" argument is out of bounds');if($+re>ee.length)throw new RangeError("Index out of range")}function he(ee,X,$,re,J,q){if($+re>ee.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function we(ee,X,$,re,J){return X=+X,$>>>=0,J||he(ee,0,$,4),v.write(ee,X,$,re,23,4),$+4}function Te(ee,X,$,re,J){return X=+X,$>>>=0,J||he(ee,0,$,8),v.write(ee,X,$,re,52,8),$+8}m.prototype.slice=function(X,$){var re=this.length;(X=~~X)<0?(X+=re)<0&&(X=0):X>re&&(X=re),($=void 0===$?re:~~$)<0?($+=re)<0&&($=0):$>re&&($=re),$<X&&($=X);var J=this.subarray(X,$);return Object.setPrototypeOf(J,m.prototype),J},m.prototype.readUintLE=m.prototype.readUIntLE=function(X,$,re){X>>>=0,$>>>=0,re||Ae(X,$,this.length);for(var J=this[X],q=1,_e=0;++_e<$&&(q*=256);)J+=this[X+_e]*q;return J},m.prototype.readUintBE=m.prototype.readUIntBE=function(X,$,re){X>>>=0,$>>>=0,re||Ae(X,$,this.length);for(var J=this[X+--$],q=1;$>0&&(q*=256);)J+=this[X+--$]*q;return J},m.prototype.readUint8=m.prototype.readUInt8=function(X,$){return X>>>=0,$||Ae(X,1,this.length),this[X]},m.prototype.readUint16LE=m.prototype.readUInt16LE=function(X,$){return X>>>=0,$||Ae(X,2,this.length),this[X]|this[X+1]<<8},m.prototype.readUint16BE=m.prototype.readUInt16BE=function(X,$){return X>>>=0,$||Ae(X,2,this.length),this[X]<<8|this[X+1]},m.prototype.readUint32LE=m.prototype.readUInt32LE=function(X,$){return X>>>=0,$||Ae(X,4,this.length),(this[X]|this[X+1]<<8|this[X+2]<<16)+16777216*this[X+3]},m.prototype.readUint32BE=m.prototype.readUInt32BE=function(X,$){return X>>>=0,$||Ae(X,4,this.length),16777216*this[X]+(this[X+1]<<16|this[X+2]<<8|this[X+3])},m.prototype.readIntLE=function(X,$,re){X>>>=0,$>>>=0,re||Ae(X,$,this.length);for(var J=this[X],q=1,_e=0;++_e<$&&(q*=256);)J+=this[X+_e]*q;return J>=(q*=128)&&(J-=Math.pow(2,8*$)),J},m.prototype.readIntBE=function(X,$,re){X>>>=0,$>>>=0,re||Ae(X,$,this.length);for(var J=$,q=1,_e=this[X+--J];J>0&&(q*=256);)_e+=this[X+--J]*q;return _e>=(q*=128)&&(_e-=Math.pow(2,8*$)),_e},m.prototype.readInt8=function(X,$){return X>>>=0,$||Ae(X,1,this.length),128&this[X]?-1*(255-this[X]+1):this[X]},m.prototype.readInt16LE=function(X,$){X>>>=0,$||Ae(X,2,this.length);var re=this[X]|this[X+1]<<8;return 32768&re?4294901760|re:re},m.prototype.readInt16BE=function(X,$){X>>>=0,$||Ae(X,2,this.length);var re=this[X+1]|this[X]<<8;return 32768&re?4294901760|re:re},m.prototype.readInt32LE=function(X,$){return X>>>=0,$||Ae(X,4,this.length),this[X]|this[X+1]<<8|this[X+2]<<16|this[X+3]<<24},m.prototype.readInt32BE=function(X,$){return X>>>=0,$||Ae(X,4,this.length),this[X]<<24|this[X+1]<<16|this[X+2]<<8|this[X+3]},m.prototype.readFloatLE=function(X,$){return X>>>=0,$||Ae(X,4,this.length),v.read(this,X,!0,23,4)},m.prototype.readFloatBE=function(X,$){return X>>>=0,$||Ae(X,4,this.length),v.read(this,X,!1,23,4)},m.prototype.readDoubleLE=function(X,$){return X>>>=0,$||Ae(X,8,this.length),v.read(this,X,!0,52,8)},m.prototype.readDoubleBE=function(X,$){return X>>>=0,$||Ae(X,8,this.length),v.read(this,X,!1,52,8)},m.prototype.writeUintLE=m.prototype.writeUIntLE=function(X,$,re,J){X=+X,$>>>=0,re>>>=0,J||ke(this,X,$,re,Math.pow(2,8*re)-1,0);var _e=1,xe=0;for(this[$]=255&X;++xe<re&&(_e*=256);)this[$+xe]=X/_e&255;return $+re},m.prototype.writeUintBE=m.prototype.writeUIntBE=function(X,$,re,J){X=+X,$>>>=0,re>>>=0,J||ke(this,X,$,re,Math.pow(2,8*re)-1,0);var _e=re-1,xe=1;for(this[$+_e]=255&X;--_e>=0&&(xe*=256);)this[$+_e]=X/xe&255;return $+re},m.prototype.writeUint8=m.prototype.writeUInt8=function(X,$,re){return X=+X,$>>>=0,re||ke(this,X,$,1,255,0),this[$]=255&X,$+1},m.prototype.writeUint16LE=m.prototype.writeUInt16LE=function(X,$,re){return X=+X,$>>>=0,re||ke(this,X,$,2,65535,0),this[$]=255&X,this[$+1]=X>>>8,$+2},m.prototype.writeUint16BE=m.prototype.writeUInt16BE=function(X,$,re){return X=+X,$>>>=0,re||ke(this,X,$,2,65535,0),this[$]=X>>>8,this[$+1]=255&X,$+2},m.prototype.writeUint32LE=m.prototype.writeUInt32LE=function(X,$,re){return X=+X,$>>>=0,re||ke(this,X,$,4,4294967295,0),this[$+3]=X>>>24,this[$+2]=X>>>16,this[$+1]=X>>>8,this[$]=255&X,$+4},m.prototype.writeUint32BE=m.prototype.writeUInt32BE=function(X,$,re){return X=+X,$>>>=0,re||ke(this,X,$,4,4294967295,0),this[$]=X>>>24,this[$+1]=X>>>16,this[$+2]=X>>>8,this[$+3]=255&X,$+4},m.prototype.writeIntLE=function(X,$,re,J){if(X=+X,$>>>=0,!J){var q=Math.pow(2,8*re-1);ke(this,X,$,re,q-1,-q)}var _e=0,xe=1,Ee=0;for(this[$]=255&X;++_e<re&&(xe*=256);)X<0&&0===Ee&&0!==this[$+_e-1]&&(Ee=1),this[$+_e]=(X/xe>>0)-Ee&255;return $+re},m.prototype.writeIntBE=function(X,$,re,J){if(X=+X,$>>>=0,!J){var q=Math.pow(2,8*re-1);ke(this,X,$,re,q-1,-q)}var _e=re-1,xe=1,Ee=0;for(this[$+_e]=255&X;--_e>=0&&(xe*=256);)X<0&&0===Ee&&0!==this[$+_e+1]&&(Ee=1),this[$+_e]=(X/xe>>0)-Ee&255;return $+re},m.prototype.writeInt8=function(X,$,re){return X=+X,$>>>=0,re||ke(this,X,$,1,127,-128),X<0&&(X=255+X+1),this[$]=255&X,$+1},m.prototype.writeInt16LE=function(X,$,re){return X=+X,$>>>=0,re||ke(this,X,$,2,32767,-32768),this[$]=255&X,this[$+1]=X>>>8,$+2},m.prototype.writeInt16BE=function(X,$,re){return X=+X,$>>>=0,re||ke(this,X,$,2,32767,-32768),this[$]=X>>>8,this[$+1]=255&X,$+2},m.prototype.writeInt32LE=function(X,$,re){return X=+X,$>>>=0,re||ke(this,X,$,4,2147483647,-2147483648),this[$]=255&X,this[$+1]=X>>>8,this[$+2]=X>>>16,this[$+3]=X>>>24,$+4},m.prototype.writeInt32BE=function(X,$,re){return X=+X,$>>>=0,re||ke(this,X,$,4,2147483647,-2147483648),X<0&&(X=4294967295+X+1),this[$]=X>>>24,this[$+1]=X>>>16,this[$+2]=X>>>8,this[$+3]=255&X,$+4},m.prototype.writeFloatLE=function(X,$,re){return we(this,X,$,!0,re)},m.prototype.writeFloatBE=function(X,$,re){return we(this,X,$,!1,re)},m.prototype.writeDoubleLE=function(X,$,re){return Te(this,X,$,!0,re)},m.prototype.writeDoubleBE=function(X,$,re){return Te(this,X,$,!1,re)},m.prototype.copy=function(X,$,re,J){if(!m.isBuffer(X))throw new TypeError("argument should be a Buffer");if(re||(re=0),!J&&0!==J&&(J=this.length),$>=X.length&&($=X.length),$||($=0),J>0&&J<re&&(J=re),J===re||0===X.length||0===this.length)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(re<0||re>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),X.length-$<J-re&&(J=X.length-$+re);var q=J-re;return this===X&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin($,re,J):Uint8Array.prototype.set.call(X,this.subarray(re,J),$),q},m.prototype.fill=function(X,$,re,J){if("string"==typeof X){if("string"==typeof $?(J=$,$=0,re=this.length):"string"==typeof re&&(J=re,re=this.length),void 0!==J&&"string"!=typeof J)throw new TypeError("encoding must be a string");if("string"==typeof J&&!m.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(1===X.length){var q=X.charCodeAt(0);("utf8"===J&&q<128||"latin1"===J)&&(X=q)}}else"number"==typeof X?X&=255:"boolean"==typeof X&&(X=Number(X));if($<0||this.length<$||this.length<re)throw new RangeError("Out of range index");if(re<=$)return this;var _e;if($>>>=0,re=void 0===re?this.length:re>>>0,X||(X=0),"number"==typeof X)for(_e=$;_e<re;++_e)this[_e]=X;else{var xe=m.isBuffer(X)?X:m.from(X,J),Ee=xe.length;if(0===Ee)throw new TypeError('The value "'+X+'" is invalid for argument "value"');for(_e=0;_e<re-$;++_e)this[_e+$]=xe[_e%Ee]}return this};var Oe=/[^+/0-9A-Za-z-_]/g;function ft(ee,X){X=X||1/0;for(var $,re=ee.length,J=null,q=[],_e=0;_e<re;++_e){if(($=ee.charCodeAt(_e))>55295&&$<57344){if(!J){if($>56319){(X-=3)>-1&&q.push(239,191,189);continue}if(_e+1===re){(X-=3)>-1&&q.push(239,191,189);continue}J=$;continue}if($<56320){(X-=3)>-1&&q.push(239,191,189),J=$;continue}$=65536+(J-55296<<10|$-56320)}else J&&(X-=3)>-1&&q.push(239,191,189);if(J=null,$<128){if((X-=1)<0)break;q.push($)}else if($<2048){if((X-=2)<0)break;q.push($>>6|192,63&$|128)}else if($<65536){if((X-=3)<0)break;q.push($>>12|224,$>>6&63|128,63&$|128)}else{if(!($<1114112))throw new Error("Invalid code point");if((X-=4)<0)break;q.push($>>18|240,$>>12&63|128,$>>6&63|128,63&$|128)}}return q}function be(ee){return t.toByteArray(function Ve(ee){if((ee=(ee=ee.split("=")[0]).trim().replace(Oe,"")).length<2)return"";for(;ee.length%4!=0;)ee+="=";return ee}(ee))}function Q(ee,X,$,re){for(var J=0;J<re&&!(J+$>=X.length||J>=ee.length);++J)X[J+$]=ee[J];return J}function ie(ee,X){return ee instanceof X||null!=ee&&null!=ee.constructor&&null!=ee.constructor.name&&ee.constructor.name===X.name}function ye(ee){return ee!=ee}var oe=function(){for(var ee="0123456789abcdef",X=new Array(256),$=0;$<16;++$)for(var re=16*$,J=0;J<16;++J)X[re+J]=ee[$]+ee[J];return X}()},5094:Wn=>{window,Wn.exports=function(et){var p={};function e(t){if(p[t])return p[t].exports;var v=p[t]={i:t,l:!1,exports:{}};return et[t].call(v.exports,v,v.exports,e),v.l=!0,v.exports}return e.m=et,e.c=p,e.d=function(t,v,b){e.o(t,v)||Object.defineProperty(t,v,{enumerable:!0,get:b})},e.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,v){if(1&v&&(t=e(t)),8&v||4&v&&"object"==typeof t&&t&&t.__esModule)return t;var b=Object.create(null);if(e.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:t}),2&v&&"string"!=typeof t)for(var _ in t)e.d(b,_,function(P){return t[P]}.bind(null,_));return b},e.n=function(t){var v=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(v,"a",v),v},e.o=function(t,v){return Object.prototype.hasOwnProperty.call(t,v)},e.p="/dist/",e(e.s="./index.js")}({"./externals/base64.js":
/*!*****************************!*\
                  !*** ./externals/base64.js ***!
                  \*****************************/
/*! no static exports found */function(et,p,e){var b,_,P,C,m,t_encode=function(b){for(var _=[],P=0;P<b.length;++P){var C=b.charCodeAt(P);C<128?_.push(C):C<2048?(_.push(192|C>>6),_.push(128|63&C)):C<65536?(_.push(224|C>>12),_.push(128|63&C>>6),_.push(128|63&C)):(_.push(240|C>>18),_.push(128|63&C>>12),_.push(128|63&C>>6),_.push(128|63&C))}return _},t_decode=function(b){for(var _=[],P=0;P<b.length;){var C=b[P++];C<128||(C<224?(C=(31&C)<<6,C|=63&b[P++]):C<240?(C=(15&C)<<12,C|=(63&b[P++])<<6,C|=63&b[P++]):(C=(7&C)<<18,C|=(63&b[P++])<<12,C|=(63&b[P++])<<6,C|=63&b[P++])),_.push(String.fromCharCode(C))}return _.join("")},v={};b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_=function(c){for(var d=0,f=[],g=0|c.length/3;0<g--;){var S=(c[d]<<16)+(c[d+1]<<8)+c[d+2];d+=3,f.push(b.charAt(63&S>>18)),f.push(b.charAt(63&S>>12)),f.push(b.charAt(63&S>>6)),f.push(b.charAt(63&S))}return c.length-d==2?(f.push(b.charAt(63&(S=(c[d]<<16)+(c[d+1]<<8))>>18)),f.push(b.charAt(63&S>>12)),f.push(b.charAt(63&S>>6)),f.push("=")):c.length-d==1&&(f.push(b.charAt(63&(S=c[d]<<16)>>18)),f.push(b.charAt(63&S>>12)),f.push("==")),f.join("")},P=function(){for(var i=[],c=0;c<64;++c)i[b.charCodeAt(c)]=c;return i["=".charCodeAt(0)]=0,i}(),C=function(c){for(var d=0,f=[],g=0|c.length/4;0<g--;){var S=(P[c.charCodeAt(d)]<<18)+(P[c.charCodeAt(d+1)]<<12)+(P[c.charCodeAt(d+2)]<<6)+P[c.charCodeAt(d+3)];f.push(255&S>>16),f.push(255&S>>8),f.push(255&S),d+=4}return f&&("="==c.charAt(d-2)?(f.pop(),f.pop()):"="==c.charAt(d-1)&&f.pop()),f},m={encode:function(i){for(var c=[],d=0;d<i.length;++d)c.push(i.charCodeAt(d));return c},decode:function(i){for(var c=0;c<s.length;++c)a[c]=String.fromCharCode(a[c]);return a.join("")}},v.decodeArray=function(i){var c=C(i);return new Uint8Array(c)},v.encodeASCII=function(i){var c=m.encode(i);return _(c)},v.decodeASCII=function(i){var c=C(i);return m.decode(c)},v.encode=function(i){var c=t_encode(i);return _(c)},v.decode=function(i){var c=C(i);return t_decode(c)},p.decode=v.decode,p.decodeArray=v.decodeArray,p.encode=v.encode,p.encodeASCII=v.encodeASCII},"./externals/cea608-parser.js":
/*!************************************!*\
                  !*** ./externals/cea608-parser.js ***!
                  \************************************/
/*! no static exports found */function(et,p,e){!function(t){"use strict";var v={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},b=function(y){var B=y;return v.hasOwnProperty(y)&&(B=v[y]),String.fromCharCode(B)},_=15,P=32,C={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},m={17:2,18:4,21:6,22:8,23:10,19:13,20:15},i={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},c={25:2,26:4,29:6,30:8,31:10,27:13,28:15},d=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],f={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(y){this.time=y},log:function(y,B){this.verboseLevel>=this.verboseFilter[y]&&console.log(this.time+" ["+y+"] "+B)}},g=function(y){for(var B=[],z=0;z<y.length;z++)B.push(y[z].toString(16));return B},S=function(y,B,z,ne,ae){this.foreground=y||"white",this.underline=B||!1,this.italics=z||!1,this.background=ne||"black",this.flash=ae||!1};S.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(y){for(var B=["foreground","underline","italics","background","flash"],z=0;z<B.length;z++){var ne=B[z];y.hasOwnProperty(ne)&&(this[ne]=y[ne])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(y){return this.foreground===y.foreground&&this.underline===y.underline&&this.italics===y.italics&&this.background===y.background&&this.flash===y.flash},copy:function(y){this.foreground=y.foreground,this.underline=y.underline,this.italics=y.italics,this.background=y.background,this.flash=y.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var x=function(y,B,z,ne,ae,Fe){this.uchar=y||" ",this.penState=new S(B,z,ne,ae,Fe)};x.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(y,B){this.uchar=y,this.penState.copy(B)},setPenState:function(y){this.penState.copy(y)},equals:function(y){return this.uchar===y.uchar&&this.penState.equals(y.penState)},copy:function(y){this.uchar=y.uchar,this.penState.copy(y.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var A=function(){this.chars=[];for(var y=0;y<P;y++)this.chars.push(new x);this.pos=0,this.currPenState=new S};A.prototype={equals:function(y){for(var B=!0,z=0;z<P;z++)if(!this.chars[z].equals(y.chars[z])){B=!1;break}return B},copy:function(y){for(var B=0;B<P;B++)this.chars[B].copy(y.chars[B])},isEmpty:function(){for(var y=!0,B=0;B<P;B++)if(!this.chars[B].isEmpty()){y=!1;break}return y},setCursor:function(y){this.pos!==y&&(this.pos=y),this.pos<0?(f.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>P&&(f.log("ERROR","Too large cursor position "+this.pos),this.pos=P)},moveCursor:function(y){var B=this.pos+y;if(y>1)for(var z=this.pos+1;z<B+1;z++)this.chars[z].setPenState(this.currPenState);this.setCursor(B)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(y){y>=144&&this.backSpace();var B=b(y);this.pos>=P?f.log("ERROR","Cannot insert "+y.toString(16)+" ("+B+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(B,this.currPenState),this.moveCursor(1))},clearFromPos:function(y){var B;for(B=y;B<P;B++)this.chars[B].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var y=[],B=!0,z=0;z<P;z++){var ne=this.chars[z].uchar;" "!==ne&&(B=!1),y.push(ne)}return B?"":y.join("")},setPenStyles:function(y){this.currPenState.setStyles(y),this.chars[this.pos].setPenState(this.currPenState)}};var N=function(){this.rows=[];for(var y=0;y<_;y++)this.rows.push(new A);this.currRow=14,this.nrRollUpRows=null,this.reset()};N.prototype={reset:function(){for(var y=0;y<_;y++)this.rows[y].clear();this.currRow=14},equals:function(y){for(var B=!0,z=0;z<_;z++)if(!this.rows[z].equals(y.rows[z])){B=!1;break}return B},copy:function(y){for(var B=0;B<_;B++)this.rows[B].copy(y.rows[B])},isEmpty:function(){for(var y=!0,B=0;B<_;B++)if(!this.rows[B].isEmpty()){y=!1;break}return y},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(y){this.rows[this.currRow].insertChar(y)},setPen:function(y){this.rows[this.currRow].setPenStyles(y)},moveCursor:function(y){this.rows[this.currRow].moveCursor(y)},setCursor:function(y){f.log("INFO","setCursor: "+y),this.rows[this.currRow].setCursor(y)},setPAC:function(y){f.log("INFO","pacData = "+JSON.stringify(y));var B=y.row-1;this.nrRollUpRows&&B<this.nrRollUpRows-1&&(B=this.nrRollUpRows-1),this.currRow=B;var z=this.rows[this.currRow];if(null!==y.indent){var ae=Math.max(y.indent-1,0);z.setCursor(y.indent),y.color=z.chars[ae].penState.foreground}this.setPen({foreground:y.color,underline:y.underline,italics:y.italics,background:"black",flash:!1})},setBkgData:function(y){f.log("INFO","bkgData = "+JSON.stringify(y)),this.backSpace(),this.setPen(y),this.insertChar(32)},setRollUpRows:function(y){this.nrRollUpRows=y},rollUp:function(){if(null!==this.nrRollUpRows){f.log("TEXT",this.getDisplayText());var B=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];B.clear(),this.rows.splice(this.currRow,0,B),f.log("INFO","Rolling up")}else f.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(y){y=y||!1;for(var B=[],z="",ae=0;ae<_;ae++){var Fe=this.rows[ae].getTextString();Fe&&B.push(y?"Row "+(ae+1)+': "'+Fe+'"':Fe.trim())}return B.length>0&&(z=y?"["+B.join(" | ")+"]":B.join("\n")),z},getTextAndFormat:function(){return this.rows}};var O=function(y,B){this.chNr=y,this.outputFilter=B,this.mode=null,this.verbose=0,this.displayedMemory=new N,this.nonDisplayedMemory=new N,this.lastOutputScreen=new N,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};O.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(y){this.outputFilter=y},setPAC:function(y){this.writeScreen.setPAC(y)},setBkgData:function(y){this.writeScreen.setBkgData(y)},setMode:function(y){y!==this.mode&&(this.mode=y,f.log("INFO","MODE="+y),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=y)},insertChars:function(y){for(var B=0;B<y.length;B++)this.writeScreen.insertChar(y[B]);f.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(f.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){f.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){f.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){f.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(y){f.log("INFO","RU("+y+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(y)},cc_FON:function(){f.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){f.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){f.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){f.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){f.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){f.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){f.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(f.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var y=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=y,this.writeScreen=this.nonDisplayedMemory,f.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(y){f.log("INFO","TO("+y+") - Tab Offset"),this.writeScreen.moveCursor(y)},cc_MIDROW:function(y){var B={flash:!1};if(B.underline=y%2==1,B.italics=y>=46,B.italics)B.foreground="white";else{var z=Math.floor(y/2)-16;B.foreground=["white","green","blue","cyan","red","yellow","magenta"][z]}f.log("INFO","MIDROW: "+JSON.stringify(B)),this.writeScreen.setPen(B)},outputDataUpdate:function(){var y=f.time;null!==y&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(y,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,y,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:y):this.cueStartTime=y,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(y){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,y,this.displayedMemory),this.cueStartTime=y))}};var D=function(y,B,z){this.field=y||1,this.outputs=[B,z],this.channels=[new O(1,B),new O(2,z)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};D.prototype={getHandler:function(y){return this.channels[y].getHandler()},setHandler:function(y,B){this.channels[y].setHandler(B)},addData:function(y,B){var z,ne,ae,Fe=!1;this.lastTime=y,f.setTime(y);for(var Y=0;Y<B.length;Y+=2)ae=127&B[Y+1],(ne=127&B[Y])>=16&&ne<=31&&ne===this.lastCmdA&&ae===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,f.log("DEBUG","Repeated command ("+g([ne,ae])+") is dropped")):0!==ne||0!==ae?(f.log("DATA","["+g([B[Y],B[Y+1]])+"] -> ("+g([ne,ae])+")"),(z=this.parseCmd(ne,ae))||(z=this.parseMidrow(ne,ae)),z||(z=this.parsePAC(ne,ae)),z||(z=this.parseBackgroundAttributes(ne,ae)),!z&&(Fe=this.parseChars(ne,ae))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(Fe):f.log("WARNING","No channel found yet. TEXT-MODE?")),z?this.dataCounters.cmd+=2:Fe?this.dataCounters.char+=2:(this.dataCounters.other+=2,f.log("WARNING","Couldn't parse cleaned data "+g([ne,ae])+" orig: "+g([B[Y],B[Y+1]])))):this.dataCounters.padding+=2},parseCmd:function(y,B){var z;if(!((20===y||21===y||28===y||29===y)&&32<=B&&B<=47||(23===y||31===y)&&33<=B&&B<=35))return!1;var Fe=this.channels[(z=20===y||21===y||23===y?1:2)-1];return 20===y||21===y||28===y||29===y?32===B?Fe.cc_RCL():33===B?Fe.cc_BS():34===B?Fe.cc_AOF():35===B?Fe.cc_AON():36===B?Fe.cc_DER():37===B?Fe.cc_RU(2):38===B?Fe.cc_RU(3):39===B?Fe.cc_RU(4):40===B?Fe.cc_FON():41===B?Fe.cc_RDC():42===B?Fe.cc_TR():43===B?Fe.cc_RTD():44===B?Fe.cc_EDM():45===B?Fe.cc_CR():46===B?Fe.cc_ENM():47===B&&Fe.cc_EOC():Fe.cc_TO(B-32),this.lastCmdA=y,this.lastCmdB=B,this.currChNr=z,!0},parseMidrow:function(y,B){var z=null;if((17===y||25===y)&&32<=B&&B<=47){if((z=17===y?1:2)!==this.currChNr)return f.log("ERROR","Mismatch channel in midrow parsing"),!1;var ne=this.channels[z-1];return ne.insertChars([32]),ne.cc_MIDROW(B),f.log("DEBUG","MIDROW ("+g([y,B])+")"),this.lastCmdA=y,this.lastCmdB=B,!0}return!1},parsePAC:function(y,B){var z;if(!((17<=y&&y<=23||25<=y&&y<=31)&&64<=B&&B<=127||(16===y||24===y)&&64<=B&&B<=95))return!1;z=y<=23?1:2;var Y=this.interpretPAC(64<=B&&B<=95?1===z?C[y]:i[y]:1===z?m[y]:c[y],B);return this.channels[z-1].setPAC(Y),this.lastCmdA=y,this.lastCmdB=B,this.currChNr=z,!0},interpretPAC:function(y,B){var z,ne={color:null,italics:!1,indent:null,underline:!1,row:y};return ne.underline=1==(1&(z=B>95?B-96:B-64)),z<=13?ne.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(z/2)]:z<=15?(ne.italics=!0,ne.color="white"):ne.indent=4*Math.floor((z-16)/2),ne},parseChars:function(y,B){var z=null,ne=null,ae=null;if(y>=25?(z=2,ae=y-8):(z=1,ae=y),17<=ae&&ae<=19){var Y;f.log("INFO","Special char '"+b(Y=17===ae?B+80:18===ae?B+112:B+144)+"' in channel "+z),ne=[Y],this.lastCmdA=y,this.lastCmdB=B}else 32<=y&&y<=127&&(ne=0===B?[y]:[y,B],this.lastCmdA=null,this.lastCmdB=null);if(ne){var le=g(ne);f.log("DEBUG","Char codes =  "+le.join(","))}return ne},parseBackgroundAttributes:function(y,B){var z,ne;return!!((16===y||24===y)&&32<=B&&B<=47||(23===y||31===y)&&45<=B&&B<=47)&&(z={},16===y||24===y?(ne=Math.floor((B-32)/2),z.background=d[ne],B%2==1&&(z.background=z.background+"_semi")):45===B?z.background="transparent":(z.foreground="black",47===B&&(z.underline=!0)),this.channels[(y<24?1:2)-1].setBkgData(z),this.lastCmdA=y,this.lastCmdB=B,!0)},reset:function(){for(var y=0;y<this.channels.length;y++)this.channels[y]&&this.channels[y].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(y){for(var B=0;B<this.channels.length;B++)this.channels[B]&&this.channels[B].cueSplitAtTime(y)}};t.logger=f,t.PenState=S,t.CaptionScreen=N,t.Cea608Parser=D,t.findCea608Nalus=function(y,B,z){for(var ne=0,ae=B,Y=[],le=function(Ce,pe,Ae,ke){if(4!==Ce||pe<8)return null;var he=Ae.getUint8(ke),we=Ae.getUint16(ke+1),Te=Ae.getUint32(ke+3),Oe=Ae.getUint8(ke+7);return 181==he&&49==we&&1195456820==Te&&3==Oe};ae<B+z;){if(ne=y.getUint32(ae),6==(31&y.getUint8(ae+4)))for(var G=ae+5,Se=-1;G<ae+4+ne-1;){Se=0;for(var ce=255;255===ce;)Se+=ce=y.getUint8(G),G++;var ge=0;for(ce=255;255===ce;)ge+=ce=y.getUint8(G),G++;le(Se,ge,y,G)&&Y.push([G,ge]),G+=ge}ae+=ne+4}return Y},t.extractCea608DataFromRange=function(y,B){var z=B[0],ne=[[],[]],ae=31&y.getUint8(z+=8);z+=2;for(var Fe=0;Fe<ae;Fe++){var Y=y.getUint8(z),le=4&Y,G=3&Y;z++;var Se=y.getUint8(z);z++;var ce=y.getUint8(z);z++,le&&(127&Se)+(127&ce)!=0&&(0===G?(ne[0].push(Se),ne[0].push(ce)):1===G&&(ne[1].push(Se),ne[1].push(ce)))}return ne}}(p)},"./externals/xml2json.js":
/*!*******************************!*\
                  !*** ./externals/xml2json.js ***!
                  \*******************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p),p.default=function t(v){v=v||{},function _(){void 0===v.escapeMode&&(v.escapeMode=!0),void 0===v.attributePrefix&&(v.attributePrefix="_"),v.arrayAccessForm=v.arrayAccessForm||"none",v.emptyNodeForm=v.emptyNodeForm||"text",void 0===v.enableToStringFunc&&(v.enableToStringFunc=!0),v.arrayAccessFormPaths=v.arrayAccessFormPaths||[],void 0===v.skipEmptyTextNodesForObj&&(v.skipEmptyTextNodesForObj=!0),void 0===v.stripWhitespaces&&(v.stripWhitespaces=!0),v.datetimeAccessFormPaths=v.datetimeAccessFormPaths||[],void 0===v.useDoubleQuotes&&(v.useDoubleQuotes=!1),v.xmlElementsFilter=v.xmlElementsFilter||[],v.jsonPropertiesFilter=v.jsonPropertiesFilter||[],void 0===v.keepCData&&(v.keepCData=!1),void 0===v.ignoreRoot&&(v.ignoreRoot=!1)}();var P={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function m(le){var G=le.localName;return null==G&&(G=le.baseName),(null==G||""==G)&&(G=le.nodeName),G}function c(le){return"string"==typeof le?le.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):le}function f(le,G,Se,ce){for(var ge=0;ge<le.length;ge++){var Ie=le[ge];if("string"==typeof Ie){if(Ie==ce)break}else if(Ie instanceof RegExp){if(Ie.test(ce))break}else if("function"==typeof Ie&&Ie(G,Se,ce))break}return ge!=le.length}function g(le,G,Se){"property"===v.arrayAccessForm&&(le[G+"_asArray"]=le[G]instanceof Array?le[G]:[le[G]]),!(le[G]instanceof Array)&&v.arrayAccessFormPaths.length>0&&f(v.arrayAccessFormPaths,le,G,Se)&&(le[G]=[le[G]])}function S(le){var G=le.split(/[-T:+Z]/g),Se=new Date(G[0],G[1]-1,G[2]),ce=G[5].split(".");if(Se.setHours(G[3],G[4],ce[0]),ce.length>1&&Se.setMilliseconds(ce[1]),G[6]&&G[7]){var ge=60*G[6]+Number(G[7]);ge=0+("-"==(/\d\d-\d\d:\d\d$/.test(le)?"-":"+")?-1*ge:ge),Se.setMinutes(Se.getMinutes()-ge-Se.getTimezoneOffset())}else-1!==le.indexOf("Z",le.length-1)&&(Se=new Date(Date.UTC(Se.getFullYear(),Se.getMonth(),Se.getDate(),Se.getHours(),Se.getMinutes(),Se.getSeconds(),Se.getMilliseconds())));return Se}function A(le,G,Se,ce){return!(G==P.ELEMENT_NODE&&v.xmlElementsFilter.length>0)||f(v.xmlElementsFilter,le,Se,ce)}function N(le,G){if(le.nodeType==P.DOCUMENT_NODE){for(var Se=new Object,ce=le.childNodes,ge=0;ge<ce.length;ge++)(Ie=ce[ge]).nodeType==P.ELEMENT_NODE&&(v.ignoreRoot?Se=N(Ie):(Se={})[Ce=m(Ie)]=N(Ie));return Se}if(le.nodeType==P.ELEMENT_NODE){(Se=new Object).__cnt=0;var pe=[];for(ce=le.childNodes,ge=0;ge<ce.length;ge++){var Ie,Ce=m(Ie=ce[ge]);if(Ie.nodeType!=P.COMMENT_NODE){var Ae=G+"."+Ce;if(A(Se,Ie.nodeType,Ce,Ae))if(Se.__cnt++,null==Se[Ce]){var ke=N(Ie,Ae);("#text"!=Ce||/[^\s]/.test(ke))&&((he={})[Ce]=ke,pe.push(he)),Se[Ce]=ke,g(Se,Ce,Ae)}else{var he;null!=Se[Ce]&&(Se[Ce]instanceof Array||(Se[Ce]=[Se[Ce]],g(Se,Ce,Ae))),ke=N(Ie,Ae),("#text"!=Ce||/[^\s]/.test(ke))&&((he={})[Ce]=ke,pe.push(he)),Se[Ce][Se[Ce].length]=ke}}}Se.__children=pe;for(var we=m(le),Te=0;Te<le.attributes.length;Te++){var Oe=le.attributes[Te];Se.__cnt++;for(var Ve=Oe.value,ft=0,Ze=v.matchers.length;ft<Ze;ft++){var Re=v.matchers[ft];Re.test(Oe,we)&&(Ve=Re.converter(Oe.value))}Se[v.attributePrefix+Oe.name]=Ve}var be=function i(le){return le.prefix}(le);return null!=be&&""!=be&&(Se.__cnt++,Se.__prefix=be),null!=Se["#text"]&&(Se.__text=Se["#text"],Se.__text instanceof Array&&(Se.__text=Se.__text.join("\n")),v.stripWhitespaces&&(Se.__text=Se.__text.trim()),delete Se["#text"],"property"==v.arrayAccessForm&&delete Se["#text_asArray"],Se.__text=function x(le,G,Se){if(v.datetimeAccessFormPaths.length>0){var ce=Se.split(".#")[0];return f(v.datetimeAccessFormPaths,le,G,ce)?S(le):le}return le}(Se.__text,Ce,G+"."+Ce)),null!=Se["#cdata-section"]&&(Se.__cdata=Se["#cdata-section"],delete Se["#cdata-section"],"property"==v.arrayAccessForm&&delete Se["#cdata-section_asArray"]),0==Se.__cnt&&"text"==v.emptyNodeForm?Se="":1==Se.__cnt&&null!=Se.__text?Se=Se.__text:1!=Se.__cnt||null==Se.__cdata||v.keepCData?Se.__cnt>1&&null!=Se.__text&&v.skipEmptyTextNodesForObj&&(v.stripWhitespaces&&""==Se.__text||""==Se.__text.trim())&&delete Se.__text:Se=Se.__cdata,delete Se.__cnt,v.enableToStringFunc&&(null!=Se.__text||null!=Se.__cdata)&&(Se.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),Se}if(le.nodeType==P.TEXT_NODE||le.nodeType==P.CDATA_SECTION_NODE)return le.nodeValue}function O(le,G,Se,ce){var ge="<"+(null!=le&&null!=le.__prefix?le.__prefix+":":"")+G;if(null!=Se)for(var Ie=0;Ie<Se.length;Ie++){var Ce=Se[Ie],pe=le[Ce];v.escapeMode&&(pe=c(pe)),ge+=" "+Ce.substr(v.attributePrefix.length)+"=",ge+=v.useDoubleQuotes?'"'+pe+'"':"'"+pe+"'"}return ge+(ce?"/>":">")}function D(le,G){return"</"+(null!=le.__prefix?le.__prefix+":":"")+G+">"}function T(le,G){return!!("property"==v.arrayAccessForm&&function I(le,G){return-1!==le.indexOf(G,le.length-G.length)}(G.toString(),"_asArray")||0==G.toString().indexOf(v.attributePrefix)||0==G.toString().indexOf("__")||le[G]instanceof Function)}function L(le){var G=0;if(le instanceof Object)for(var Se in le)T(le,Se)||G++;return G}function y(le,G,Se){return 0==v.jsonPropertiesFilter.length||""==Se||f(v.jsonPropertiesFilter,le,G,Se)}function B(le){var G=[];if(le instanceof Object)for(var Se in le)-1==Se.toString().indexOf("__")&&0==Se.toString().indexOf(v.attributePrefix)&&G.push(Se);return G}function ne(le){var G="";return le instanceof Object?G+=function z(le){var G="";return null!=le.__cdata&&(G+="<![CDATA["+le.__cdata+"]]>"),null!=le.__text&&(G+=v.escapeMode?c(le.__text):le.__text),G}(le):null!=le&&(G+=v.escapeMode?c(le):le),G}function ae(le,G){return""===le?G:le+"."+G}function Fe(le,G,Se,ce){var ge="";if(0==le.length)ge+=O(le,G,Se,!0);else for(var Ie=0;Ie<le.length;Ie++)ge+=O(le[Ie],G,B(le[Ie]),!1),ge+=Y(le[Ie],ae(ce,G)),ge+=D(le[Ie],G);return ge}function Y(le,G){var Se="";if(L(le)>0)for(var ge in le)if(!T(le,ge)&&(""==G||y(le,ge,ae(G,ge)))){var Ie=le[ge],Ce=B(Ie);null==Ie||null==Ie?Se+=O(Ie,ge,Ce,!0):Ie instanceof Object?Ie instanceof Array?Se+=Fe(Ie,ge,Ce,G):Ie instanceof Date?(Se+=O(Ie,ge,Ce,!1),Se+=Ie.toISOString(),Se+=D(Ie,ge)):L(Ie)>0||null!=Ie.__text||null!=Ie.__cdata?(Se+=O(Ie,ge,Ce,!1),Se+=Y(Ie,ae(G,ge)),Se+=D(Ie,ge)):Se+=O(Ie,ge,Ce,!0):(Se+=O(Ie,ge,Ce,!1),Se+=ne(Ie),Se+=D(Ie,ge))}return Se+ne(le)}this.parseXmlString=function(le){var Se;if(window.ActiveXObject||window,void 0===le)return null;if(window.DOMParser){var ce=new window.DOMParser;try{(Se=ce.parseFromString(le,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(Se=null)}catch{Se=null}}else 0==le.indexOf("<?")&&(le=le.substr(le.indexOf("?>")+2)),(Se=new ActiveXObject("Microsoft.XMLDOM")).async="false",Se.loadXML(le);return Se},this.asArray=function(le){return void 0===le||null==le?[]:le instanceof Array?le:[le]},this.toXmlDateTime=function(le){return le instanceof Date?le.toISOString():"number"==typeof le?new Date(le).toISOString():null},this.asDateTime=function(le){return"string"==typeof le?S(le):le},this.xml2json=function(le){return N(le)},this.xml_str2json=function(le){var G=this.parseXmlString(le);return null!=G?this.xml2json(G):null},this.json2xml_str=function(le){return Y(le,"")},this.json2xml=function(le){var G=this.json2xml_str(le);return this.parseXmlString(G)},this.getVersion=function(){return"1.2.0"}}},"./index.js":
/*!******************!*\
                  !*** ./index.js ***!
                  \******************/
/*! exports provided: default, MediaPlayer, Protection, MetricsReporting, MediaPlayerFactory, Debug, supportsMediaSource */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./index_mediaplayerOnly */
"./index_mediaplayerOnly.js");e.d(p,"MediaPlayer",function(){return t.MediaPlayer});var v=e(
/*! ./src/streaming/utils/Capabilities */
"./src/streaming/utils/Capabilities.js");e.d(p,"supportsMediaSource",function(){return v.supportsMediaSource});var b=e(
/*! ./src/streaming/metrics/MetricsReporting */
"./src/streaming/metrics/MetricsReporting.js");e.d(p,"MetricsReporting",function(){return b.default});var _=e(
/*! ./src/streaming/protection/Protection */
"./src/streaming/protection/Protection.js");e.d(p,"Protection",function(){return _.default});var P=e(
/*! ./src/streaming/MediaPlayerFactory */
"./src/streaming/MediaPlayerFactory.js");e.d(p,"MediaPlayerFactory",function(){return P.default});var C=e(
/*! ./src/core/Debug */
"./src/core/Debug.js");e.d(p,"Debug",function(){return C.default}),dashjs.Protection=_.default,dashjs.MetricsReporting=b.default,dashjs.MediaPlayerFactory=P.default,dashjs.Debug=C.default,dashjs.supportsMediaSource=v.supportsMediaSource,p.default=dashjs},"./index_mediaplayerOnly.js":
/*!**********************************!*\
                  !*** ./index_mediaplayerOnly.js ***!
                  \**********************************/
/*! exports provided: default, MediaPlayer, FactoryMaker, Debug */function(et,p,e){"use strict";e.r(p),function(t){var v=e(
/*! ./src/streaming/MediaPlayer */
"./src/streaming/MediaPlayer.js");e.d(p,"MediaPlayer",function(){return v.default});var b=e(
/*! ./src/core/FactoryMaker */
"./src/core/FactoryMaker.js");e.d(p,"FactoryMaker",function(){return b.default});var _=e(
/*! ./src/core/Debug */
"./src/core/Debug.js");e.d(p,"Debug",function(){return _.default});var P=e(
/*! ./src/core/Version */
"./src/core/Version.js"),i=(e(
/*! es6-promise/auto */
"./node_modules/es6-promise/auto.js"),typeof window<"u"&&window||t),c=i.dashjs;c||(c=i.dashjs={}),c.MediaPlayer=v.default,c.FactoryMaker=b.default,c.Debug=_.default,c.Version=Object(P.getVersionString)(),p.default=c}.call(this,e(
/*! ./node_modules/webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/base64-js/index.js":
/*!*****************************************!*\
                  !*** ./node_modules/base64-js/index.js ***!
                  \*****************************************/
/*! no static exports found */function(et,p,e){"use strict";p.byteLength=function i(x){var A=m(x),O=A[1];return 3*(A[0]+O)/4-O},p.toByteArray=function d(x){var A,y,N=m(x),O=N[0],D=N[1],I=new b(function c(x,A,N){return 3*(A+N)/4-N}(0,O,D)),T=0,L=D>0?O-4:O;for(y=0;y<L;y+=4)A=v[x.charCodeAt(y)]<<18|v[x.charCodeAt(y+1)]<<12|v[x.charCodeAt(y+2)]<<6|v[x.charCodeAt(y+3)],I[T++]=A>>16&255,I[T++]=A>>8&255,I[T++]=255&A;return 2===D&&(A=v[x.charCodeAt(y)]<<2|v[x.charCodeAt(y+1)]>>4,I[T++]=255&A),1===D&&(A=v[x.charCodeAt(y)]<<10|v[x.charCodeAt(y+1)]<<4|v[x.charCodeAt(y+2)]>>2,I[T++]=A>>8&255,I[T++]=255&A),I},p.fromByteArray=function S(x){for(var A,N=x.length,O=N%3,D=[],I=16383,T=0,L=N-O;T<L;T+=I)D.push(g(x,T,T+I>L?L:T+I));return 1===O?D.push(t[(A=x[N-1])>>2]+t[A<<4&63]+"=="):2===O&&D.push(t[(A=(x[N-2]<<8)+x[N-1])>>10]+t[A>>4&63]+t[A<<2&63]+"="),D.join("")};for(var t=[],v=[],b=typeof Uint8Array<"u"?Uint8Array:Array,_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=0;P<64;++P)t[P]=_[P],v[_.charCodeAt(P)]=P;function m(x){var A=x.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var N=x.indexOf("=");return-1===N&&(N=A),[N,N===A?0:4-N%4]}function f(x){return t[x>>18&63]+t[x>>12&63]+t[x>>6&63]+t[63&x]}function g(x,A,N){for(var D=[],I=A;I<N;I+=3)D.push(f((x[I]<<16&16711680)+(x[I+1]<<8&65280)+(255&x[I+2])));return D.join("")}v["-".charCodeAt(0)]=62,v["_".charCodeAt(0)]=63},"./node_modules/bcp-47-match/index.js":
/*!********************************************!*\
                  !*** ./node_modules/bcp-47-match/index.js ***!
                  \********************************************/
/*! no static exports found */function(et,p,e){"use strict";function _(C,m){return function i(c,d){for(var A,N,O,f=P(c,"tag"),g=P(d??"*","range"),S=[],x=-1;++x<g.length;)if(A=g[x].toLowerCase(),m||"*"!==A){for(N=-1,O=[];++N<f.length;)if(C(f[N].toLowerCase(),A)){if(!m)return f[N];S.push(f[N])}else O.push(f[N]);f=O}return m?S:void 0}}function P(C,m){var i=C&&"string"==typeof C?[C]:C;if(!i||"object"!=typeof i||!("length"in i))throw new Error("Invalid "+m+" `"+i+"`, expected non-empty string");return i}p.basicFilter=_(function t(C,m){return"*"===m||C===m||C.indexOf(m+"-")>-1},!0),p.extendedFilter=_(function v(C,m){var i=C.split("-"),c=m.split("-"),d=0,f=0;if("*"!==c[f]&&i[d]!==c[f])return!1;for(d++,f++;f<c.length;)if("*"!==c[f]){if(!i[d])return!1;if(i[d]!==c[f]){if(1===i[d].length)return!1;d++}else d++,f++}else f++;return!0},!0),p.lookup=_(function b(C,m){for(var c,i=m;;){if("*"===i||C===i)return!0;if((c=i.lastIndexOf("-"))<0)return!1;"-"===i.charAt(c-2)&&(c-=2),i=i.slice(0,c)}})},"./node_modules/bcp-47-normalize/index.js":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/index.js ***!
                  \************************************************/
/*! no static exports found */function(et,p,e){"use strict";et.exports=e(
/*! ./lib */
"./node_modules/bcp-47-normalize/lib/index.js")},"./node_modules/bcp-47-normalize/lib/defaults.json":
/*!*********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/defaults.json ***!
                  \*********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, default */function(et){et.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},"./node_modules/bcp-47-normalize/lib/fields.json":
/*!*******************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/fields.json ***!
                  \*******************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, default */function(et){et.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},"./node_modules/bcp-47-normalize/lib/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/index.js ***!
                  \****************************************************/
/*! no static exports found */function(et,p,e){"use strict";var t=e(
/*! bcp-47 */
"./node_modules/bcp-47/index.js"),v=e(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js"),b=e(
/*! ./matches.json */
"./node_modules/bcp-47-normalize/lib/matches.json"),_=e(
/*! ./fields.json */
"./node_modules/bcp-47-normalize/lib/fields.json"),P=e(
/*! ./defaults.json */
"./node_modules/bcp-47-normalize/lib/defaults.json"),C=e(
/*! ./many.json */
"./node_modules/bcp-47-normalize/lib/many.json");et.exports=function d(A,N){var L,O=N||{},D=t.parse(String(A||"").toLowerCase(),O),I=t.stringify(D),T=-1;if(!I)return I;for(;++T<b.length;)v.extendedFilter(I,b[T].from).length&&(f(D,b[T].from,b[T].to),I=t.stringify(D));for(T=-1;++T<_.length;)g(D,_[T].from.field,_[T].from.value)&&S(D,_[T].to.field,_[T].to.value);for(I=t.stringify(Object.assign({},D,c)),T=-1;++T<P.length;)I===P[T]&&(f(D,P[T],P[T].split("-").slice(0,-1).join("-")),I=t.stringify(Object.assign({},D,c)));if(D.extensions.sort(x),O.warning)for(L in C)m.call(C[L],D[L])&&O.warning("Deprecated "+L+" `"+D[L]+"`, expected one of `"+C[L][D[L]].join("`, `")+"`",null,7);return D.script&&(D.script=D.script.charAt(0).toUpperCase()+D.script.slice(1)),D.region&&(D.region=D.region.toUpperCase()),t.stringify(D)};var m={}.hasOwnProperty,i=new Intl.Collator,c={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function f(A,N,O){var L,D=t.parse(N),I=t.parse(O),T=[];for(L in D)D[L]&&D[L].length&&g(A,L,D[L])&&T.push(L);for(L in I)I[L]&&I[L].length&&(T.indexOf(L)>-1||!A[L]||!A[L].length)&&S(A,L,I[L])}function g(A,N,O){var I,T,L,y,D=!1;if(O){if(T=I=A[N],I&&"object"==typeof I)for(T=[],L=-1;++L<I.length;)O.indexOf(y=I[L])<0?T.push(y):D=!0;else I===O&&(T=null,D=!0);A[N]=T}return D}function S(A,N,O){var I,T,L,D=A[N];if(D&&"object"==typeof D)for(I=[].concat(O),T=-1;++T<I.length;)D.indexOf(L=I[T])<0&&D.push(L);else A[N]=O}function x(A,N){return i.compare(A.singleton,N.singleton)}},"./node_modules/bcp-47-normalize/lib/many.json":
/*!*****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/many.json ***!
                  \*****************************************************/
/*! exports provided: region, default */function(et){et.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},"./node_modules/bcp-47-normalize/lib/matches.json":
/*!********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/matches.json ***!
                  \********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, default */function(et){et.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},"./node_modules/bcp-47/index.js":
/*!**************************************!*\
                  !*** ./node_modules/bcp-47/index.js ***!
                  \**************************************/
/*! no static exports found */function(et,p,e){"use strict";p.parse=e(
/*! ./lib/parse */
"./node_modules/bcp-47/lib/parse.js"),p.stringify=e(
/*! ./lib/stringify */
"./node_modules/bcp-47/lib/stringify.js")},"./node_modules/bcp-47/lib/normalize.json":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47/lib/normalize.json ***!
                  \************************************************/
/*! exports provided: en-gb-oed, i-ami, i-bnn, i-default, i-enochian, i-hak, i-klingon, i-lux, i-mingo, i-navajo, i-pwn, i-tao, i-tay, i-tsu, sgn-be-fr, sgn-be-nl, sgn-ch-de, art-lojban, cel-gaulish, no-bok, no-nyn, zh-guoyu, zh-hakka, zh-min, zh-min-nan, zh-xiang, default */function(et){et.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},"./node_modules/bcp-47/lib/parse.js":
/*!******************************************!*\
                  !*** ./node_modules/bcp-47/lib/parse.js ***!
                  \******************************************/
/*! no static exports found */function(et,p,e){"use strict";var t=e(
/*! is-alphanumerical */
"./node_modules/is-alphanumerical/index.js"),v=e(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),b=e(
/*! is-decimal */
"./node_modules/is-decimal/index.js"),_=e(
/*! ./regular.json */
"./node_modules/bcp-47/lib/regular.json"),P=e(
/*! ./normalize.json */
"./node_modules/bcp-47/lib/normalize.json");et.exports=function m(c,d){var N,O,D,f=d||{},g={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},S=String(c),x=S.toLowerCase(),A=0;if(null==c)throw new Error("Expected string, got `"+c+"`");if(C.call(P,x))return(null==f.normalize||f.normalize)&&P[x]?m(P[x]):(g[-1===_.indexOf(x)?"irregular":"regular"]=S,g);for(;v(x.charCodeAt(A))&&A<9;)A++;if(A>1&&A<9){if(g.language=S.slice(0,A),A<4)for(O=0;45===x.charCodeAt(A)&&v(x.charCodeAt(A+1))&&v(x.charCodeAt(A+2))&&v(x.charCodeAt(A+3))&&!v(x.charCodeAt(A+4));){if(O>2)return I(A,3,"Too many extended language subtags, expected at most 3 subtags");g.extendedLanguageSubtags.push(S.slice(A+1,A+4)),A+=4,O++}for(45===x.charCodeAt(A)&&v(x.charCodeAt(A+1))&&v(x.charCodeAt(A+2))&&v(x.charCodeAt(A+3))&&v(x.charCodeAt(A+4))&&!v(x.charCodeAt(A+5))&&(g.script=S.slice(A+1,A+5),A+=5),45===x.charCodeAt(A)&&(v(x.charCodeAt(A+1))&&v(x.charCodeAt(A+2))&&!v(x.charCodeAt(A+3))?(g.region=S.slice(A+1,A+3),A+=3):b(x.charCodeAt(A+1))&&b(x.charCodeAt(A+2))&&b(x.charCodeAt(A+3))&&!b(x.charCodeAt(A+4))&&(g.region=S.slice(A+1,A+4),A+=4));45===x.charCodeAt(A);){for(D=N=A+1;t(x.charCodeAt(D));){if(D-N>7)return I(D,1,"Too long variant, expected at most 8 characters");D++}if(!(D-N>4||D-N>3&&b(x.charCodeAt(N))))break;g.variants.push(S.slice(N,D)),A=D}for(;45===x.charCodeAt(A)&&120!==x.charCodeAt(A+1)&&t(x.charCodeAt(A+1))&&45===x.charCodeAt(A+2)&&t(x.charCodeAt(A+3));){for(D=A+2,O=0;45===x.charCodeAt(D)&&t(x.charCodeAt(D+1))&&t(x.charCodeAt(D+2));)for(D=(N=D+1)+2,O++;t(x.charCodeAt(D));){if(D-N>7)return I(D,2,"Too long extension, expected at most 8 characters");D++}if(!O)return I(D,4,"Empty extension, extensions must have at least 2 characters of content");g.extensions.push({singleton:S.charAt(A+1),extensions:S.slice(A+3,D).split("-")}),A=D}}else A=0;if(0===A&&120===x.charCodeAt(A)||45===x.charCodeAt(A)&&120===x.charCodeAt(A+1))for(D=A=A?A+2:1;45===x.charCodeAt(D)&&t(x.charCodeAt(D+1));){for(D=N=A+1;t(x.charCodeAt(D));){if(D-N>7)return I(D,5,"Too long private-use area, expected at most 8 characters");D++}g.privateuse.push(S.slice(A+1,D)),A=D}return A!==S.length?I(A,6,"Found superfluous content after tag"):g;function I(T,L,y){return f.warning&&f.warning(y,L,T),f.forgiving?g:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var C={}.hasOwnProperty},"./node_modules/bcp-47/lib/regular.json":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/regular.json ***!
                  \**********************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, default */function(et){et.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')},"./node_modules/bcp-47/lib/stringify.js":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/stringify.js ***!
                  \**********************************************/
/*! no static exports found */function(et,p,e){"use strict";et.exports=function t(v){var P,C,m,b=v||{},_=[];if(b.irregular||b.regular)return b.irregular||b.regular;if(b.language)for(_=_.concat(b.language,b.extendedLanguageSubtags||[],b.script||[],b.region||[],b.variants||[]),P=b.extensions||[],C=-1;++C<P.length;)(m=P[C]).singleton&&m.extensions&&m.extensions.length&&(_=_.concat(m.singleton,m.extensions));return b.privateuse&&b.privateuse.length&&(_=_.concat("x",b.privateuse)),_.join("-")}},"./node_modules/buffer/index.js":
/*!**************************************!*\
                  !*** ./node_modules/buffer/index.js ***!
                  \**************************************/
/*! no static exports found */function(et,p,e){"use strict";(function(t){var v=e(
/*! base64-js */
"./node_modules/base64-js/index.js"),b=e(
/*! ieee754 */
"./node_modules/ieee754/index.js"),_=e(
/*! isarray */
"./node_modules/isarray/index.js");function C(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function m(re,J){if(C()<J)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(re=new Uint8Array(J)).__proto__=i.prototype:(null===re&&(re=new i(J)),re.length=J),re}function i(re,J,q){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(re,J,q);if("number"==typeof re){if("string"==typeof J)throw new Error("If encoding is specified then the first argument must be a string");return g(this,re)}return c(this,re,J,q)}function c(re,J,q,_e){if("number"==typeof J)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&J instanceof ArrayBuffer?function A(re,J,q,_e){if(q<0||J.byteLength<q)throw new RangeError("'offset' is out of bounds");if(J.byteLength<q+(_e||0))throw new RangeError("'length' is out of bounds");return J=void 0===q&&void 0===_e?new Uint8Array(J):void 0===_e?new Uint8Array(J,q):new Uint8Array(J,q,_e),i.TYPED_ARRAY_SUPPORT?(re=J).__proto__=i.prototype:re=x(re,J),re}(re,J,q,_e):"string"==typeof J?function S(re,J,q){if(("string"!=typeof q||""===q)&&(q="utf8"),!i.isEncoding(q))throw new TypeError('"encoding" must be a valid string encoding');var _e=0|I(J,q),xe=(re=m(re,_e)).write(J,q);return xe!==_e&&(re=re.slice(0,xe)),re}(re,J,q):function N(re,J){if(i.isBuffer(J)){var q=0|O(J.length);return 0===(re=m(re,q)).length||J.copy(re,0,0,q),re}if(J){if(typeof ArrayBuffer<"u"&&J.buffer instanceof ArrayBuffer||"length"in J)return"number"!=typeof J.length||function $(re){return re!=re}(J.length)?m(re,0):x(re,J);if("Buffer"===J.type&&_(J.data))return x(re,J.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(re,J)}function d(re){if("number"!=typeof re)throw new TypeError('"size" argument must be a number');if(re<0)throw new RangeError('"size" argument must not be negative')}function g(re,J){if(d(J),re=m(re,J<0?0:0|O(J)),!i.TYPED_ARRAY_SUPPORT)for(var q=0;q<J;++q)re[q]=0;return re}function x(re,J){var q=J.length<0?0:0|O(J.length);re=m(re,q);for(var _e=0;_e<q;_e+=1)re[_e]=255&J[_e];return re}function O(re){if(re>=C())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+C().toString(16)+" bytes");return 0|re}function I(re,J){if(i.isBuffer(re))return re.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(re)||re instanceof ArrayBuffer))return re.byteLength;"string"!=typeof re&&(re=""+re);var q=re.length;if(0===q)return 0;for(var _e=!1;;)switch(J){case"ascii":case"latin1":case"binary":return q;case"utf8":case"utf-8":case void 0:return ie(re).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*q;case"hex":return q>>>1;case"base64":return ee(re).length;default:if(_e)return ie(re).length;J=(""+J).toLowerCase(),_e=!0}}function T(re,J,q){var _e=!1;if((void 0===J||J<0)&&(J=0),J>this.length||((void 0===q||q>this.length)&&(q=this.length),q<=0)||(q>>>=0)<=(J>>>=0))return"";for(re||(re="utf8");;)switch(re){case"hex":return pe(this,J,q);case"utf8":case"utf-8":return Se(this,J,q);case"ascii":return Ie(this,J,q);case"latin1":case"binary":return Ce(this,J,q);case"base64":return G(this,J,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ae(this,J,q);default:if(_e)throw new TypeError("Unknown encoding: "+re);re=(re+"").toLowerCase(),_e=!0}}function L(re,J,q){var _e=re[J];re[J]=re[q],re[q]=_e}function y(re,J,q,_e,xe){if(0===re.length)return-1;if("string"==typeof q?(_e=q,q=0):q>2147483647?q=2147483647:q<-2147483648&&(q=-2147483648),q=+q,isNaN(q)&&(q=xe?0:re.length-1),q<0&&(q=re.length+q),q>=re.length){if(xe)return-1;q=re.length-1}else if(q<0){if(!xe)return-1;q=0}if("string"==typeof J&&(J=i.from(J,_e)),i.isBuffer(J))return 0===J.length?-1:B(re,J,q,_e,xe);if("number"==typeof J)return J&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?xe?Uint8Array.prototype.indexOf.call(re,J,q):Uint8Array.prototype.lastIndexOf.call(re,J,q):B(re,[J],q,_e,xe);throw new TypeError("val must be string, number or Buffer")}function B(re,J,q,_e,xe){var tt,Ee=1,Ge=re.length,ct=J.length;if(void 0!==_e&&("ucs2"===(_e=String(_e).toLowerCase())||"ucs-2"===_e||"utf16le"===_e||"utf-16le"===_e)){if(re.length<2||J.length<2)return-1;Ee=2,Ge/=2,ct/=2,q/=2}function Xe(Dt,fe){return 1===Ee?Dt[fe]:Dt.readUInt16BE(fe*Ee)}if(xe){var gt=-1;for(tt=q;tt<Ge;tt++)if(Xe(re,tt)===Xe(J,-1===gt?0:tt-gt)){if(-1===gt&&(gt=tt),tt-gt+1===ct)return gt*Ee}else-1!==gt&&(tt-=tt-gt),gt=-1}else for(q+ct>Ge&&(q=Ge-ct),tt=q;tt>=0;tt--){for(var Qe=!0,yt=0;yt<ct;yt++)if(Xe(re,tt+yt)!==Xe(J,yt)){Qe=!1;break}if(Qe)return tt}return-1}function z(re,J,q,_e){q=Number(q)||0;var xe=re.length-q;_e?(_e=Number(_e))>xe&&(_e=xe):_e=xe;var Ee=J.length;if(Ee%2!=0)throw new TypeError("Invalid hex string");_e>Ee/2&&(_e=Ee/2);for(var Ge=0;Ge<_e;++Ge){var ct=parseInt(J.substr(2*Ge,2),16);if(isNaN(ct))return Ge;re[q+Ge]=ct}return Ge}function ne(re,J,q,_e){return X(ie(J,re.length-q),re,q,_e)}function ae(re,J,q,_e){return X(function ye(re){for(var J=[],q=0;q<re.length;++q)J.push(255&re.charCodeAt(q));return J}(J),re,q,_e)}function Fe(re,J,q,_e){return ae(re,J,q,_e)}function Y(re,J,q,_e){return X(ee(J),re,q,_e)}function le(re,J,q,_e){return X(function oe(re,J){for(var q,_e,Ee=[],Ge=0;Ge<re.length&&!((J-=2)<0);++Ge)_e=(q=re.charCodeAt(Ge))>>8,Ee.push(q%256),Ee.push(_e);return Ee}(J,re.length-q),re,q,_e)}function G(re,J,q){return v.fromByteArray(0===J&&q===re.length?re:re.slice(J,q))}function Se(re,J,q){q=Math.min(re.length,q);for(var _e=[],xe=J;xe<q;){var Xe,tt,gt,Qe,Ee=re[xe],Ge=null,ct=Ee>239?4:Ee>223?3:Ee>191?2:1;if(xe+ct<=q)switch(ct){case 1:Ee<128&&(Ge=Ee);break;case 2:128==(192&(Xe=re[xe+1]))&&(Qe=(31&Ee)<<6|63&Xe)>127&&(Ge=Qe);break;case 3:tt=re[xe+2],128==(192&(Xe=re[xe+1]))&&128==(192&tt)&&(Qe=(15&Ee)<<12|(63&Xe)<<6|63&tt)>2047&&(Qe<55296||Qe>57343)&&(Ge=Qe);break;case 4:tt=re[xe+2],gt=re[xe+3],128==(192&(Xe=re[xe+1]))&&128==(192&tt)&&128==(192&gt)&&(Qe=(15&Ee)<<18|(63&Xe)<<12|(63&tt)<<6|63&gt)>65535&&Qe<1114112&&(Ge=Qe)}null===Ge?(Ge=65533,ct=1):Ge>65535&&(_e.push((Ge-=65536)>>>10&1023|55296),Ge=56320|1023&Ge),_e.push(Ge),xe+=ct}return function ge(re){var J=re.length;if(J<=ce)return String.fromCharCode.apply(String,re);for(var q="",_e=0;_e<J;)q+=String.fromCharCode.apply(String,re.slice(_e,_e+=ce));return q}(_e)}p.Buffer=i,p.SlowBuffer=function D(re){return+re!=re&&(re=0),i.alloc(+re)},p.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function P(){try{var re=new Uint8Array(1);return re.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===re.foo()&&"function"==typeof re.subarray&&0===re.subarray(1,1).byteLength}catch{return!1}}(),p.kMaxLength=C(),i.poolSize=8192,i._augment=function(re){return re.__proto__=i.prototype,re},i.from=function(re,J,q){return c(null,re,J,q)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(re,J,q){return function f(re,J,q,_e){return d(J),J<=0?m(re,J):void 0!==q?"string"==typeof _e?m(re,J).fill(q,_e):m(re,J).fill(q):m(re,J)}(null,re,J,q)},i.allocUnsafe=function(re){return g(null,re)},i.allocUnsafeSlow=function(re){return g(null,re)},i.isBuffer=function(J){return!(null==J||!J._isBuffer)},i.compare=function(J,q){if(!i.isBuffer(J)||!i.isBuffer(q))throw new TypeError("Arguments must be Buffers");if(J===q)return 0;for(var _e=J.length,xe=q.length,Ee=0,Ge=Math.min(_e,xe);Ee<Ge;++Ee)if(J[Ee]!==q[Ee]){_e=J[Ee],xe=q[Ee];break}return _e<xe?-1:xe<_e?1:0},i.isEncoding=function(J){switch(String(J).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(J,q){if(!_(J))throw new TypeError('"list" argument must be an Array of Buffers');if(0===J.length)return i.alloc(0);var _e;if(void 0===q)for(q=0,_e=0;_e<J.length;++_e)q+=J[_e].length;var xe=i.allocUnsafe(q),Ee=0;for(_e=0;_e<J.length;++_e){var Ge=J[_e];if(!i.isBuffer(Ge))throw new TypeError('"list" argument must be an Array of Buffers');Ge.copy(xe,Ee),Ee+=Ge.length}return xe},i.byteLength=I,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var J=this.length;if(J%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var q=0;q<J;q+=2)L(this,q,q+1);return this},i.prototype.swap32=function(){var J=this.length;if(J%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var q=0;q<J;q+=4)L(this,q,q+3),L(this,q+1,q+2);return this},i.prototype.swap64=function(){var J=this.length;if(J%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var q=0;q<J;q+=8)L(this,q,q+7),L(this,q+1,q+6),L(this,q+2,q+5),L(this,q+3,q+4);return this},i.prototype.toString=function(){var J=0|this.length;return 0===J?"":0===arguments.length?Se(this,0,J):T.apply(this,arguments)},i.prototype.equals=function(J){if(!i.isBuffer(J))throw new TypeError("Argument must be a Buffer");return this===J||0===i.compare(this,J)},i.prototype.inspect=function(){var J="",q=p.INSPECT_MAX_BYTES;return this.length>0&&(J=this.toString("hex",0,q).match(/.{2}/g).join(" "),this.length>q&&(J+=" ... ")),"<Buffer "+J+">"},i.prototype.compare=function(J,q,_e,xe,Ee){if(!i.isBuffer(J))throw new TypeError("Argument must be a Buffer");if(void 0===q&&(q=0),void 0===_e&&(_e=J?J.length:0),void 0===xe&&(xe=0),void 0===Ee&&(Ee=this.length),q<0||_e>J.length||xe<0||Ee>this.length)throw new RangeError("out of range index");if(xe>=Ee&&q>=_e)return 0;if(xe>=Ee)return-1;if(q>=_e)return 1;if(this===J)return 0;for(var Ge=(Ee>>>=0)-(xe>>>=0),ct=(_e>>>=0)-(q>>>=0),Xe=Math.min(Ge,ct),tt=this.slice(xe,Ee),gt=J.slice(q,_e),Qe=0;Qe<Xe;++Qe)if(tt[Qe]!==gt[Qe]){Ge=tt[Qe],ct=gt[Qe];break}return Ge<ct?-1:ct<Ge?1:0},i.prototype.includes=function(J,q,_e){return-1!==this.indexOf(J,q,_e)},i.prototype.indexOf=function(J,q,_e){return y(this,J,q,_e,!0)},i.prototype.lastIndexOf=function(J,q,_e){return y(this,J,q,_e,!1)},i.prototype.write=function(J,q,_e,xe){if(void 0===q)xe="utf8",_e=this.length,q=0;else if(void 0===_e&&"string"==typeof q)xe=q,_e=this.length,q=0;else{if(!isFinite(q))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");q|=0,isFinite(_e)?(_e|=0,void 0===xe&&(xe="utf8")):(xe=_e,_e=void 0)}var Ee=this.length-q;if((void 0===_e||_e>Ee)&&(_e=Ee),J.length>0&&(_e<0||q<0)||q>this.length)throw new RangeError("Attempt to write outside buffer bounds");xe||(xe="utf8");for(var Ge=!1;;)switch(xe){case"hex":return z(this,J,q,_e);case"utf8":case"utf-8":return ne(this,J,q,_e);case"ascii":return ae(this,J,q,_e);case"latin1":case"binary":return Fe(this,J,q,_e);case"base64":return Y(this,J,q,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,J,q,_e);default:if(Ge)throw new TypeError("Unknown encoding: "+xe);xe=(""+xe).toLowerCase(),Ge=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ce=4096;function Ie(re,J,q){var _e="";q=Math.min(re.length,q);for(var xe=J;xe<q;++xe)_e+=String.fromCharCode(127&re[xe]);return _e}function Ce(re,J,q){var _e="";q=Math.min(re.length,q);for(var xe=J;xe<q;++xe)_e+=String.fromCharCode(re[xe]);return _e}function pe(re,J,q){var _e=re.length;(!J||J<0)&&(J=0),(!q||q<0||q>_e)&&(q=_e);for(var xe="",Ee=J;Ee<q;++Ee)xe+=Q(re[Ee]);return xe}function Ae(re,J,q){for(var _e=re.slice(J,q),xe="",Ee=0;Ee<_e.length;Ee+=2)xe+=String.fromCharCode(_e[Ee]+256*_e[Ee+1]);return xe}function ke(re,J,q){if(re%1!=0||re<0)throw new RangeError("offset is not uint");if(re+J>q)throw new RangeError("Trying to access beyond buffer length")}function he(re,J,q,_e,xe,Ee){if(!i.isBuffer(re))throw new TypeError('"buffer" argument must be a Buffer instance');if(J>xe||J<Ee)throw new RangeError('"value" argument is out of bounds');if(q+_e>re.length)throw new RangeError("Index out of range")}function we(re,J,q,_e){J<0&&(J=65535+J+1);for(var xe=0,Ee=Math.min(re.length-q,2);xe<Ee;++xe)re[q+xe]=(J&255<<8*(_e?xe:1-xe))>>>8*(_e?xe:1-xe)}function Te(re,J,q,_e){J<0&&(J=4294967295+J+1);for(var xe=0,Ee=Math.min(re.length-q,4);xe<Ee;++xe)re[q+xe]=J>>>8*(_e?xe:3-xe)&255}function Oe(re,J,q,_e,xe,Ee){if(q+_e>re.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("Index out of range")}function Ve(re,J,q,_e,xe){return xe||Oe(re,0,q,4),b.write(re,J,q,_e,23,4),q+4}function ft(re,J,q,_e,xe){return xe||Oe(re,0,q,8),b.write(re,J,q,_e,52,8),q+8}i.prototype.slice=function(J,q){var xe,_e=this.length;if((J=~~J)<0?(J+=_e)<0&&(J=0):J>_e&&(J=_e),(q=void 0===q?_e:~~q)<0?(q+=_e)<0&&(q=0):q>_e&&(q=_e),q<J&&(q=J),i.TYPED_ARRAY_SUPPORT)(xe=this.subarray(J,q)).__proto__=i.prototype;else{var Ee=q-J;xe=new i(Ee,void 0);for(var Ge=0;Ge<Ee;++Ge)xe[Ge]=this[Ge+J]}return xe},i.prototype.readUIntLE=function(J,q,_e){J|=0,q|=0,_e||ke(J,q,this.length);for(var xe=this[J],Ee=1,Ge=0;++Ge<q&&(Ee*=256);)xe+=this[J+Ge]*Ee;return xe},i.prototype.readUIntBE=function(J,q,_e){J|=0,q|=0,_e||ke(J,q,this.length);for(var xe=this[J+--q],Ee=1;q>0&&(Ee*=256);)xe+=this[J+--q]*Ee;return xe},i.prototype.readUInt8=function(J,q){return q||ke(J,1,this.length),this[J]},i.prototype.readUInt16LE=function(J,q){return q||ke(J,2,this.length),this[J]|this[J+1]<<8},i.prototype.readUInt16BE=function(J,q){return q||ke(J,2,this.length),this[J]<<8|this[J+1]},i.prototype.readUInt32LE=function(J,q){return q||ke(J,4,this.length),(this[J]|this[J+1]<<8|this[J+2]<<16)+16777216*this[J+3]},i.prototype.readUInt32BE=function(J,q){return q||ke(J,4,this.length),16777216*this[J]+(this[J+1]<<16|this[J+2]<<8|this[J+3])},i.prototype.readIntLE=function(J,q,_e){J|=0,q|=0,_e||ke(J,q,this.length);for(var xe=this[J],Ee=1,Ge=0;++Ge<q&&(Ee*=256);)xe+=this[J+Ge]*Ee;return xe>=(Ee*=128)&&(xe-=Math.pow(2,8*q)),xe},i.prototype.readIntBE=function(J,q,_e){J|=0,q|=0,_e||ke(J,q,this.length);for(var xe=q,Ee=1,Ge=this[J+--xe];xe>0&&(Ee*=256);)Ge+=this[J+--xe]*Ee;return Ge>=(Ee*=128)&&(Ge-=Math.pow(2,8*q)),Ge},i.prototype.readInt8=function(J,q){return q||ke(J,1,this.length),128&this[J]?-1*(255-this[J]+1):this[J]},i.prototype.readInt16LE=function(J,q){q||ke(J,2,this.length);var _e=this[J]|this[J+1]<<8;return 32768&_e?4294901760|_e:_e},i.prototype.readInt16BE=function(J,q){q||ke(J,2,this.length);var _e=this[J+1]|this[J]<<8;return 32768&_e?4294901760|_e:_e},i.prototype.readInt32LE=function(J,q){return q||ke(J,4,this.length),this[J]|this[J+1]<<8|this[J+2]<<16|this[J+3]<<24},i.prototype.readInt32BE=function(J,q){return q||ke(J,4,this.length),this[J]<<24|this[J+1]<<16|this[J+2]<<8|this[J+3]},i.prototype.readFloatLE=function(J,q){return q||ke(J,4,this.length),b.read(this,J,!0,23,4)},i.prototype.readFloatBE=function(J,q){return q||ke(J,4,this.length),b.read(this,J,!1,23,4)},i.prototype.readDoubleLE=function(J,q){return q||ke(J,8,this.length),b.read(this,J,!0,52,8)},i.prototype.readDoubleBE=function(J,q){return q||ke(J,8,this.length),b.read(this,J,!1,52,8)},i.prototype.writeUIntLE=function(J,q,_e,xe){J=+J,q|=0,_e|=0,xe||he(this,J,q,_e,Math.pow(2,8*_e)-1,0);var Ge=1,ct=0;for(this[q]=255&J;++ct<_e&&(Ge*=256);)this[q+ct]=J/Ge&255;return q+_e},i.prototype.writeUIntBE=function(J,q,_e,xe){J=+J,q|=0,_e|=0,xe||he(this,J,q,_e,Math.pow(2,8*_e)-1,0);var Ge=_e-1,ct=1;for(this[q+Ge]=255&J;--Ge>=0&&(ct*=256);)this[q+Ge]=J/ct&255;return q+_e},i.prototype.writeUInt8=function(J,q,_e){return J=+J,q|=0,_e||he(this,J,q,1,255,0),i.TYPED_ARRAY_SUPPORT||(J=Math.floor(J)),this[q]=255&J,q+1},i.prototype.writeUInt16LE=function(J,q,_e){return J=+J,q|=0,_e||he(this,J,q,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[q]=255&J,this[q+1]=J>>>8):we(this,J,q,!0),q+2},i.prototype.writeUInt16BE=function(J,q,_e){return J=+J,q|=0,_e||he(this,J,q,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[q]=J>>>8,this[q+1]=255&J):we(this,J,q,!1),q+2},i.prototype.writeUInt32LE=function(J,q,_e){return J=+J,q|=0,_e||he(this,J,q,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[q+3]=J>>>24,this[q+2]=J>>>16,this[q+1]=J>>>8,this[q]=255&J):Te(this,J,q,!0),q+4},i.prototype.writeUInt32BE=function(J,q,_e){return J=+J,q|=0,_e||he(this,J,q,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[q]=J>>>24,this[q+1]=J>>>16,this[q+2]=J>>>8,this[q+3]=255&J):Te(this,J,q,!1),q+4},i.prototype.writeIntLE=function(J,q,_e,xe){if(J=+J,q|=0,!xe){var Ee=Math.pow(2,8*_e-1);he(this,J,q,_e,Ee-1,-Ee)}var Ge=0,ct=1,Xe=0;for(this[q]=255&J;++Ge<_e&&(ct*=256);)J<0&&0===Xe&&0!==this[q+Ge-1]&&(Xe=1),this[q+Ge]=(J/ct>>0)-Xe&255;return q+_e},i.prototype.writeIntBE=function(J,q,_e,xe){if(J=+J,q|=0,!xe){var Ee=Math.pow(2,8*_e-1);he(this,J,q,_e,Ee-1,-Ee)}var Ge=_e-1,ct=1,Xe=0;for(this[q+Ge]=255&J;--Ge>=0&&(ct*=256);)J<0&&0===Xe&&0!==this[q+Ge+1]&&(Xe=1),this[q+Ge]=(J/ct>>0)-Xe&255;return q+_e},i.prototype.writeInt8=function(J,q,_e){return J=+J,q|=0,_e||he(this,J,q,1,127,-128),i.TYPED_ARRAY_SUPPORT||(J=Math.floor(J)),J<0&&(J=255+J+1),this[q]=255&J,q+1},i.prototype.writeInt16LE=function(J,q,_e){return J=+J,q|=0,_e||he(this,J,q,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[q]=255&J,this[q+1]=J>>>8):we(this,J,q,!0),q+2},i.prototype.writeInt16BE=function(J,q,_e){return J=+J,q|=0,_e||he(this,J,q,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[q]=J>>>8,this[q+1]=255&J):we(this,J,q,!1),q+2},i.prototype.writeInt32LE=function(J,q,_e){return J=+J,q|=0,_e||he(this,J,q,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[q]=255&J,this[q+1]=J>>>8,this[q+2]=J>>>16,this[q+3]=J>>>24):Te(this,J,q,!0),q+4},i.prototype.writeInt32BE=function(J,q,_e){return J=+J,q|=0,_e||he(this,J,q,4,2147483647,-2147483648),J<0&&(J=4294967295+J+1),i.TYPED_ARRAY_SUPPORT?(this[q]=J>>>24,this[q+1]=J>>>16,this[q+2]=J>>>8,this[q+3]=255&J):Te(this,J,q,!1),q+4},i.prototype.writeFloatLE=function(J,q,_e){return Ve(this,J,q,!0,_e)},i.prototype.writeFloatBE=function(J,q,_e){return Ve(this,J,q,!1,_e)},i.prototype.writeDoubleLE=function(J,q,_e){return ft(this,J,q,!0,_e)},i.prototype.writeDoubleBE=function(J,q,_e){return ft(this,J,q,!1,_e)},i.prototype.copy=function(J,q,_e,xe){if(_e||(_e=0),!xe&&0!==xe&&(xe=this.length),q>=J.length&&(q=J.length),q||(q=0),xe>0&&xe<_e&&(xe=_e),xe===_e||0===J.length||0===this.length)return 0;if(q<0)throw new RangeError("targetStart out of bounds");if(_e<0||_e>=this.length)throw new RangeError("sourceStart out of bounds");if(xe<0)throw new RangeError("sourceEnd out of bounds");xe>this.length&&(xe=this.length),J.length-q<xe-_e&&(xe=J.length-q+_e);var Ge,Ee=xe-_e;if(this===J&&_e<q&&q<xe)for(Ge=Ee-1;Ge>=0;--Ge)J[Ge+q]=this[Ge+_e];else if(Ee<1e3||!i.TYPED_ARRAY_SUPPORT)for(Ge=0;Ge<Ee;++Ge)J[Ge+q]=this[Ge+_e];else Uint8Array.prototype.set.call(J,this.subarray(_e,_e+Ee),q);return Ee},i.prototype.fill=function(J,q,_e,xe){if("string"==typeof J){if("string"==typeof q?(xe=q,q=0,_e=this.length):"string"==typeof _e&&(xe=_e,_e=this.length),1===J.length){var Ee=J.charCodeAt(0);Ee<256&&(J=Ee)}if(void 0!==xe&&"string"!=typeof xe)throw new TypeError("encoding must be a string");if("string"==typeof xe&&!i.isEncoding(xe))throw new TypeError("Unknown encoding: "+xe)}else"number"==typeof J&&(J&=255);if(q<0||this.length<q||this.length<_e)throw new RangeError("Out of range index");if(_e<=q)return this;var Ge;if(q>>>=0,_e=void 0===_e?this.length:_e>>>0,J||(J=0),"number"==typeof J)for(Ge=q;Ge<_e;++Ge)this[Ge]=J;else{var ct=i.isBuffer(J)?J:ie(new i(J,xe).toString()),Xe=ct.length;for(Ge=0;Ge<_e-q;++Ge)this[Ge+q]=ct[Ge%Xe]}return this};var Ze=/[^+\/0-9A-Za-z-_]/g;function Q(re){return re<16?"0"+re.toString(16):re.toString(16)}function ie(re,J){J=J||1/0;for(var q,_e=re.length,xe=null,Ee=[],Ge=0;Ge<_e;++Ge){if((q=re.charCodeAt(Ge))>55295&&q<57344){if(!xe){if(q>56319){(J-=3)>-1&&Ee.push(239,191,189);continue}if(Ge+1===_e){(J-=3)>-1&&Ee.push(239,191,189);continue}xe=q;continue}if(q<56320){(J-=3)>-1&&Ee.push(239,191,189),xe=q;continue}q=65536+(xe-55296<<10|q-56320)}else xe&&(J-=3)>-1&&Ee.push(239,191,189);if(xe=null,q<128){if((J-=1)<0)break;Ee.push(q)}else if(q<2048){if((J-=2)<0)break;Ee.push(q>>6|192,63&q|128)}else if(q<65536){if((J-=3)<0)break;Ee.push(q>>12|224,q>>6&63|128,63&q|128)}else{if(!(q<1114112))throw new Error("Invalid code point");if((J-=4)<0)break;Ee.push(q>>18|240,q>>12&63|128,q>>6&63|128,63&q|128)}}return Ee}function ee(re){return v.toByteArray(function Re(re){if((re=function be(re){return re.trim?re.trim():re.replace(/^\s+|\s+$/g,"")}(re).replace(Ze,"")).length<2)return"";for(;re.length%4!=0;)re+="=";return re}(re))}function X(re,J,q,_e){for(var xe=0;xe<_e&&!(xe+q>=J.length||xe>=re.length);++xe)J[xe+q]=re[xe];return xe}}).call(this,e(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/codem-isoboxer/dist/iso_boxer.js":
/*!*******************************************************!*\
                  !*** ./node_modules/codem-isoboxer/dist/iso_boxer.js ***!
                  \*******************************************************/
/*! no static exports found */function(et,p,e){var t={parseBuffer:function(_){return new v(_).parse()},addBoxProcessor:function(_,P){"string"!=typeof _||"function"!=typeof P||(b.prototype._boxProcessors[_]=P)},createFile:function(){return new v},createBox:function(_,P,C){var m=b.create(_);return P&&P.append(m,C),m},createFullBox:function(_,P,C){var m=t.createBox(_,P,C);return m.version=0,m.flags=0,m},Utils:{}};t.Utils.dataViewToString=function(_,P){var C=P||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(C).decode(_);var m=[],i=0;if("utf-8"===C)for(;i<_.byteLength;){var c=_.getUint8(i++);c<128||(c<224?(c=(31&c)<<6,c|=63&_.getUint8(i++)):c<240?(c=(15&c)<<12,c|=(63&_.getUint8(i++))<<6,c|=63&_.getUint8(i++)):(c=(7&c)<<18,c|=(63&_.getUint8(i++))<<12,c|=(63&_.getUint8(i++))<<6,c|=63&_.getUint8(i++))),m.push(String.fromCharCode(c))}else for(;i<_.byteLength;)m.push(String.fromCharCode(_.getUint8(i++)));return m.join("")},t.Utils.utf8ToByteArray=function(_){var P,C;if(typeof TextEncoder<"u")P=(new TextEncoder).encode(_);else for(P=[],C=0;C<_.length;++C){var m=_.charCodeAt(C);m<128?P.push(m):m<2048?(P.push(192|m>>6),P.push(128|63&m)):m<65536?(P.push(224|m>>12),P.push(128|63&m>>6),P.push(128|63&m)):(P.push(240|m>>18),P.push(128|63&m>>12),P.push(128|63&m>>6),P.push(128|63&m))}return P},t.Utils.appendBox=function(_,P,C){if(P._offset=_._cursor.offset,P._root=_._root?_._root:_,P._raw=_._raw,P._parent=_,-1!==C){if(null==C)return void _.boxes.push(P);var i,m=-1;if("number"==typeof C)m=C;else{if("string"==typeof C)i=C;else{if("object"!=typeof C||!C.type)return void _.boxes.push(P);i=C.type}for(var c=0;c<_.boxes.length;c++)if(i===_.boxes[c].type){m=c+1;break}}_.boxes.splice(m,0,P)}},p.parseBuffer=t.parseBuffer,p.addBoxProcessor=t.addBoxProcessor,p.createFile=t.createFile,p.createBox=t.createBox,p.createFullBox=t.createFullBox,p.Utils=t.Utils,t.Cursor=function(_){this.offset=typeof _>"u"?0:_};var v=function(_){this._cursor=new t.Cursor,this.boxes=[],_&&(this._raw=new DataView(_))};v.prototype.fetch=function(_){var P=this.fetchAll(_,!0);return P.length?P[0]:null},v.prototype.fetchAll=function(_,P){var C=[];return v._sweep.call(this,_,C,P),C},v.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var _=b.parse(this);if(typeof _.type>"u")break;this.boxes.push(_)}return this},v._sweep=function(_,P,C){for(var m in this.type&&this.type==_&&P.push(this),this.boxes){if(P.length&&C)return;v._sweep.call(this.boxes[m],_,P,C)}},v.prototype.write=function(){var P,_=0;for(P=0;P<this.boxes.length;P++)_+=this.boxes[P].getLength(!1);var C=new Uint8Array(_);for(this._rawo=new DataView(C.buffer),this.bytes=C,this._cursor.offset=0,P=0;P<this.boxes.length;P++)this.boxes[P].write();return C.buffer},v.prototype.append=function(_,P){t.Utils.appendBox(this,_,P)};var b=function(){this._cursor=new t.Cursor};b.parse=function(_){var P=new b;return P._offset=_._cursor.offset,P._root=_._root?_._root:_,P._raw=_._raw,P._parent=_,P._parseBox(),_._cursor.offset=P._raw.byteOffset+P._raw.byteLength,P},b.create=function(_){var P=new b;return P.type=_,P.boxes=[],P},b.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],b.prototype._boxProcessors={},b.prototype._procField=function(_,P,C){this._parsing?this[_]=this._readField(P,C):this._writeField(P,C,this[_])},b.prototype._procFieldArray=function(_,P,C,m){var i;if(this._parsing)for(this[_]=[],i=0;i<P;i++)this[_][i]=this._readField(C,m);else for(i=0;i<this[_].length;i++)this._writeField(C,m,this[_][i])},b.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},b.prototype._procEntries=function(_,P,C){var m;if(this._parsing)for(this[_]=[],m=0;m<P;m++)this[_].push({}),C.call(this,this[_][m]);else for(m=0;m<P;m++)C.call(this,this[_][m])},b.prototype._procSubEntries=function(_,P,C,m){var i;if(this._parsing)for(_[P]=[],i=0;i<C;i++)_[P].push({}),m.call(this,_[P][i]);else for(i=0;i<C;i++)m.call(this,_[P][i])},b.prototype._procEntryField=function(_,P,C,m){this._parsing?_[P]=this._readField(C,m):this._writeField(C,m,_[P])},b.prototype._procSubBoxes=function(_,P){var C;if(this._parsing)for(this[_]=[],C=0;C<P;C++)this[_].push(b.parse(this));else for(C=0;C<P;C++)this._rawo?this[_][C].write():this.size+=this[_][C].getLength()},b.prototype._readField=function(_,P){switch(_){case"uint":return this._readUint(P);case"int":return this._readInt(P);case"template":return this._readTemplate(P);case"string":return-1===P?this._readTerminatedString():this._readString(P);case"data":return this._readData(P);case"utf8":return this._readUTF8String();default:return-1}},b.prototype._readInt=function(_){var P=null,C=this._cursor.offset-this._raw.byteOffset;switch(_){case 8:P=this._raw.getInt8(C);break;case 16:P=this._raw.getInt16(C);break;case 32:P=this._raw.getInt32(C);break;case 64:var m=this._raw.getInt32(C),i=this._raw.getInt32(C+4);P=m*Math.pow(2,32)+i}return this._cursor.offset+=_>>3,P},b.prototype._readUint=function(_){var m,i,P=null,C=this._cursor.offset-this._raw.byteOffset;switch(_){case 8:P=this._raw.getUint8(C);break;case 16:P=this._raw.getUint16(C);break;case 24:P=((m=this._raw.getUint16(C))<<8)+(i=this._raw.getUint8(C+2));break;case 32:P=this._raw.getUint32(C);break;case 64:m=this._raw.getUint32(C),i=this._raw.getUint32(C+4),P=m*Math.pow(2,32)+i}return this._cursor.offset+=_>>3,P},b.prototype._readString=function(_){for(var P="",C=0;C<_;C++){var m=this._readUint(8);P+=String.fromCharCode(m)}return P},b.prototype._readTemplate=function(_){return this._readUint(_/2)+this._readUint(_/2)/Math.pow(2,_/2)},b.prototype._readTerminatedString=function(){for(var _="";this._cursor.offset-this._offset<this._raw.byteLength;){var P=this._readUint(8);if(0===P)break;_+=String.fromCharCode(P)}return _},b.prototype._readData=function(_){var P=_>0?_:this._raw.byteLength-(this._cursor.offset-this._offset);if(P>0){var C=new Uint8Array(this._raw.buffer,this._cursor.offset,P);return this._cursor.offset+=P,C}return null},b.prototype._readUTF8String=function(){var _=this._raw.byteLength-(this._cursor.offset-this._offset),P=null;return _>0&&(P=new DataView(this._raw.buffer,this._cursor.offset,_),this._cursor.offset+=_),P&&t.Utils.dataViewToString(P)},b.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},b.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},b.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(b.parse(this))},b.prototype.append=function(_,P){t.Utils.appendBox(this,_,P)},b.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var _=0;_<this.boxes.length;_++)this.size+=this.boxes[_].getLength();return this._data&&this._writeData(this._data),this.size},b.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var _=0;_<this.boxes.length;_++)this.boxes[_].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},b.prototype._writeInt=function(_,P){if(this._rawo){var C=this._cursor.offset-this._rawo.byteOffset;switch(_){case 8:this._rawo.setInt8(C,P);break;case 16:this._rawo.setInt16(C,P);break;case 32:this._rawo.setInt32(C,P);break;case 64:var m=Math.floor(P/Math.pow(2,32)),i=P-m*Math.pow(2,32);this._rawo.setUint32(C,m),this._rawo.setUint32(C+4,i)}this._cursor.offset+=_>>3}else this.size+=_>>3},b.prototype._writeUint=function(_,P){if(this._rawo){var m,i,C=this._cursor.offset-this._rawo.byteOffset;switch(_){case 8:this._rawo.setUint8(C,P);break;case 16:this._rawo.setUint16(C,P);break;case 24:i=255&P,this._rawo.setUint16(C,m=(16776960&P)>>8),this._rawo.setUint8(C+2,i);break;case 32:this._rawo.setUint32(C,P);break;case 64:i=P-(m=Math.floor(P/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(C,m),this._rawo.setUint32(C+4,i)}this._cursor.offset+=_>>3}else this.size+=_>>3},b.prototype._writeString=function(_,P){for(var C=0;C<_;C++)this._writeUint(8,P.charCodeAt(C))},b.prototype._writeTerminatedString=function(_){if(0!==_.length){for(var P=0;P<_.length;P++)this._writeUint(8,_.charCodeAt(P));this._writeUint(8,0)}},b.prototype._writeTemplate=function(_,P){var C=Math.floor(P),m=(P-C)*Math.pow(2,_/2);this._writeUint(_/2,C),this._writeUint(_/2,m)},b.prototype._writeData=function(_){if(_)if(this._rawo){if(_ instanceof Array){for(var C=this._cursor.offset-this._rawo.byteOffset,P=0;P<_.length;P++)this._rawo.setInt8(C+P,_[P]);this._cursor.offset+=_.length}_ instanceof Uint8Array&&(this._root.bytes.set(_,this._cursor.offset),this._cursor.offset+=_.length)}else this.size+=_.length},b.prototype._writeUTF8String=function(_){var P=t.Utils.utf8ToByteArray(_);if(this._rawo)for(var C=new DataView(this._rawo.buffer,this._cursor.offset,P.length),m=0;m<P.length;m++)C.setUint8(m,P[m]);else this.size+=P.length},b.prototype._writeField=function(_,P,C){switch(_){case"uint":this._writeUint(P,C);break;case"int":this._writeInt(P,C);break;case"template":this._writeTemplate(P,C);break;case"string":-1==P?this._writeTerminatedString(C):this._writeString(P,C);break;case"data":this._writeData(C);break;case"utf8":this._writeUTF8String(C)}},b.prototype._boxProcessors.avc1=b.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},b.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},b.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(_){this._procEntryField(_,"segment_duration","uint",1===this.version?64:32),this._procEntryField(_,"media_time","int",1===this.version?64:32),this._procEntryField(_,"media_rate_integer","int",16),this._procEntryField(_,"media_rate_fraction","int",16)})},b.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},b.prototype._boxProcessors.free=b.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},b.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},b.prototype._boxProcessors.ftyp=b.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var _=-1;this._parsing&&(_=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",_,"string",4)},b.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},b.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},b.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),!this._parsing&&"string"==typeof this.language&&(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},b.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},b.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},b.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},b.prototype._boxProcessors.mp4a=b.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},b.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},b.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},b.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},b.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},b.prototype._boxProcessors.sdtp=function(){this._procFullBox();var _=-1;this._parsing&&(_=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",_,"uint",8)},b.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(_){this._parsing||(_.reference=(1&_.reference_type)<<31,_.reference|=2147483647&_.referenced_size,_.sap=(1&_.starts_with_SAP)<<31,_.sap|=(3&_.SAP_type)<<28,_.sap|=268435455&_.SAP_delta_time),this._procEntryField(_,"reference","uint",32),this._procEntryField(_,"subsegment_duration","uint",32),this._procEntryField(_,"sap","uint",32),this._parsing&&(_.reference_type=_.reference>>31&1,_.referenced_size=2147483647&_.reference,_.starts_with_SAP=_.sap>>31&1,_.SAP_type=_.sap>>28&7,_.SAP_delta_time=268435455&_.sap)})},b.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},b.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(_){this._procEntryField(_,"ranges_count","uint",32),this._procSubEntries(_,"ranges",_.ranges_count,function(P){this._procEntryField(P,"level","uint",8),this._procEntryField(P,"range_size","uint",24)})})},b.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},b.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(_){this._procEntryField(_,"sample_delta","uint",32),this._procEntryField(_,"subsample_count","uint",16),this._procSubEntries(_,"subsamples",_.subsample_count,function(P){this._procEntryField(P,"subsample_size","uint",1===this.version?32:16),this._procEntryField(P,"subsample_priority","uint",8),this._procEntryField(P,"discardable","uint",8),this._procEntryField(P,"codec_specific_parameters","uint",32)})})},b.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},b.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},b.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},b.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(_){this._procEntryField(_,"time","uint",1===this.version?64:32),this._procEntryField(_,"moof_offset","uint",1===this.version?64:32),this._procEntryField(_,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(_,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(_,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},b.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},b.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},b.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(_){256&this.flags&&this._procEntryField(_,"sample_duration","uint",32),512&this.flags&&this._procEntryField(_,"sample_size","uint",32),1024&this.flags&&this._procEntryField(_,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(_,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},b.prototype._boxProcessors["url "]=b.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},b.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},b.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},b.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},b.prototype._boxProcessors.vtte=function(){}},"./node_modules/core-util-is/lib/util.js":
/*!***********************************************!*\
                  !*** ./node_modules/core-util-is/lib/util.js ***!
                  \***********************************************/
/*! no static exports found */function(et,p,e){function A(N){return Object.prototype.toString.call(N)}p.isArray=function t(N){return Array.isArray?Array.isArray(N):"[object Array]"===A(N)},p.isBoolean=function v(N){return"boolean"==typeof N},p.isNull=function b(N){return null===N},p.isNullOrUndefined=function _(N){return null==N},p.isNumber=function P(N){return"number"==typeof N},p.isString=function C(N){return"string"==typeof N},p.isSymbol=function m(N){return"symbol"==typeof N},p.isUndefined=function i(N){return void 0===N},p.isRegExp=function c(N){return"[object RegExp]"===A(N)},p.isObject=function d(N){return"object"==typeof N&&null!==N},p.isDate=function f(N){return"[object Date]"===A(N)},p.isError=function g(N){return"[object Error]"===A(N)||N instanceof Error},p.isFunction=function S(N){return"function"==typeof N},p.isPrimitive=function x(N){return null===N||"boolean"==typeof N||"number"==typeof N||"string"==typeof N||"symbol"==typeof N||typeof N>"u"},p.isBuffer=e(
/*! buffer */
"./node_modules/buffer/index.js").Buffer.isBuffer},"./node_modules/es6-promise/auto.js":
/*!******************************************!*\
                  !*** ./node_modules/es6-promise/auto.js ***!
                  \******************************************/
/*! no static exports found */function(et,p,e){"use strict";et.exports=e(
/*! ./ */
"./node_modules/es6-promise/dist/es6-promise.js").polyfill()},"./node_modules/es6-promise/dist/es6-promise.js":
/*!******************************************************!*\
                  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!
                  \******************************************************/
/*! no static exports found */function(et,p,e){(function(t,v){var _;_=function(){"use strict";function _(Ee){return"function"==typeof Ee}var C=Array.isArray?Array.isArray:function(Ee){return"[object Array]"===Object.prototype.toString.call(Ee)},m=0,i=void 0,c=void 0,d=function(Ge,ct){B[m]=Ge,B[m+1]=ct,2===(m+=2)&&(c?c(z):ae())};var S=typeof window<"u"?window:void 0,x=S||{},A=x.MutationObserver||x.WebKitMutationObserver,N=typeof self>"u"&&typeof t<"u"&&"[object process]"==={}.toString.call(t),O=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function y(){var Ee=setTimeout;return function(){return Ee(z,1)}}var B=new Array(1e3);function z(){for(var Ee=0;Ee<m;Ee+=2)(0,B[Ee])(B[Ee+1]),B[Ee]=void 0,B[Ee+1]=void 0;m=0}var ae=void 0;function Fe(Ee,Ge){var ct=this,Xe=new this.constructor(G);void 0===Xe[le]&&ye(Xe);var tt=ct._state;if(tt){var gt=arguments[tt-1];d(function(){return Re(tt,Xe,gt,ct._result)})}else ft(ct,Xe,Ee,Ge);return Xe}function Y(Ee){if(Ee&&"object"==typeof Ee&&Ee.constructor===this)return Ee;var ct=new this(G);return we(ct,Ee),ct}ae=N?function D(){return function(){return t.nextTick(z)}}():A?function T(){var Ee=0,Ge=new A(z),ct=document.createTextNode("");return Ge.observe(ct,{characterData:!0}),function(){ct.data=Ee=++Ee%2}}():O?function L(){var Ee=new MessageChannel;return Ee.port1.onmessage=z,function(){return Ee.port2.postMessage(0)}}():void 0===S?function ne(){try{var Ee=Function("return this")().require("vertx");return i=Ee.runOnLoop||Ee.runOnContext,function I(){return typeof i<"u"?function(){i(z)}:y()}()}catch{return y()}}():y();var le=Math.random().toString(36).substring(2);function G(){}var Se=void 0,ce=1,ge=2;function he(Ee,Ge,ct){Ge.constructor===Ee.constructor&&ct===Fe&&Ge.constructor.resolve===Y?function ke(Ee,Ge){Ge._state===ce?Oe(Ee,Ge._result):Ge._state===ge?Ve(Ee,Ge._result):ft(Ge,void 0,function(ct){return we(Ee,ct)},function(ct){return Ve(Ee,ct)})}(Ee,Ge):void 0===ct?Oe(Ee,Ge):_(ct)?function Ae(Ee,Ge,ct){d(function(Xe){var tt=!1,gt=function pe(Ee,Ge,ct,Xe){try{Ee.call(Ge,ct,Xe)}catch(tt){return tt}}(ct,Ge,function(Qe){tt||(tt=!0,Ge!==Qe?we(Xe,Qe):Oe(Xe,Qe))},function(Qe){tt||(tt=!0,Ve(Xe,Qe))});!tt&&gt&&(tt=!0,Ve(Xe,gt))},Ee)}(Ee,Ge,ct):Oe(Ee,Ge)}function we(Ee,Ge){if(Ee===Ge)Ve(Ee,function Ie(){return new TypeError("You cannot resolve a promise with itself")}());else if(function b(Ee){var Ge=typeof Ee;return null!==Ee&&("object"===Ge||"function"===Ge)}(Ge)){var ct=void 0;try{ct=Ge.then}catch(Xe){return void Ve(Ee,Xe)}he(Ee,Ge,ct)}else Oe(Ee,Ge)}function Te(Ee){Ee._onerror&&Ee._onerror(Ee._result),Ze(Ee)}function Oe(Ee,Ge){Ee._state===Se&&(Ee._result=Ge,Ee._state=ce,0!==Ee._subscribers.length&&d(Ze,Ee))}function Ve(Ee,Ge){Ee._state===Se&&(Ee._state=ge,Ee._result=Ge,d(Te,Ee))}function ft(Ee,Ge,ct,Xe){var tt=Ee._subscribers,gt=tt.length;Ee._onerror=null,tt[gt]=Ge,tt[gt+ce]=ct,tt[gt+ge]=Xe,0===gt&&Ee._state&&d(Ze,Ee)}function Ze(Ee){var Ge=Ee._subscribers,ct=Ee._state;if(0!==Ge.length){for(var Xe=void 0,tt=void 0,gt=Ee._result,Qe=0;Qe<Ge.length;Qe+=3)tt=Ge[Qe+ct],(Xe=Ge[Qe])?Re(ct,Xe,tt,gt):tt(gt);Ee._subscribers.length=0}}function Re(Ee,Ge,ct,Xe){var tt=_(ct),gt=void 0,Qe=void 0,yt=!0;if(tt){try{gt=ct(Xe)}catch(Dt){yt=!1,Qe=Dt}if(Ge===gt)return void Ve(Ge,function Ce(){return new TypeError("A promises callback cannot return that same promise.")}())}else gt=Xe;Ge._state!==Se||(tt&&yt?we(Ge,gt):!1===yt?Ve(Ge,Qe):Ee===ce?Oe(Ge,gt):Ee===ge&&Ve(Ge,gt))}var Q=0;function ye(Ee){Ee[le]=Q++,Ee._state=void 0,Ee._result=void 0,Ee._subscribers=[]}var ee=function(){function Ee(Ge,ct){this._instanceConstructor=Ge,this.promise=new Ge(G),this.promise[le]||ye(this.promise),C(ct)?(this.length=ct.length,this._remaining=ct.length,this._result=new Array(this.length),0===this.length?Oe(this.promise,this._result):(this.length=this.length||0,this._enumerate(ct),0===this._remaining&&Oe(this.promise,this._result))):Ve(this.promise,function oe(){return new Error("Array Methods must be provided an Array")}())}return Ee.prototype._enumerate=function(ct){for(var Xe=0;this._state===Se&&Xe<ct.length;Xe++)this._eachEntry(ct[Xe],Xe)},Ee.prototype._eachEntry=function(ct,Xe){var tt=this._instanceConstructor,gt=tt.resolve;if(gt===Y){var Qe=void 0,yt=void 0,Dt=!1;try{Qe=ct.then}catch(ze){Dt=!0,yt=ze}if(Qe===Fe&&ct._state!==Se)this._settledAt(ct._state,Xe,ct._result);else if("function"!=typeof Qe)this._remaining--,this._result[Xe]=ct;else if(tt===_e){var fe=new tt(G);Dt?Ve(fe,yt):he(fe,ct,Qe),this._willSettleAt(fe,Xe)}else this._willSettleAt(new tt(function(ze){return ze(ct)}),Xe)}else this._willSettleAt(gt(ct),Xe)},Ee.prototype._settledAt=function(ct,Xe,tt){var gt=this.promise;gt._state===Se&&(this._remaining--,ct===ge?Ve(gt,tt):this._result[Xe]=tt),0===this._remaining&&Oe(gt,this._result)},Ee.prototype._willSettleAt=function(ct,Xe){var tt=this;ft(ct,void 0,function(gt){return tt._settledAt(ce,Xe,gt)},function(gt){return tt._settledAt(ge,Xe,gt)})},Ee}();var _e=function(){function Ee(Ge){this[le]=function ie(){return Q++}(),this._result=this._state=void 0,this._subscribers=[],G!==Ge&&("function"!=typeof Ge&&function J(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof Ee?function be(Ee,Ge){try{Ge(function(Xe){we(Ee,Xe)},function(Xe){Ve(Ee,Xe)})}catch(ct){Ve(Ee,ct)}}(this,Ge):function q(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return Ee.prototype.catch=function(ct){return this.then(null,ct)},Ee.prototype.finally=function(ct){var tt=this.constructor;return _(ct)?this.then(function(gt){return tt.resolve(ct()).then(function(){return gt})},function(gt){return tt.resolve(ct()).then(function(){throw gt})}):this.then(ct,ct)},Ee}();return _e.prototype.then=Fe,_e.all=function X(Ee){return new ee(this,Ee).promise},_e.race=function $(Ee){var Ge=this;return C(Ee)?new Ge(function(ct,Xe){for(var tt=Ee.length,gt=0;gt<tt;gt++)Ge.resolve(Ee[gt]).then(ct,Xe)}):new Ge(function(ct,Xe){return Xe(new TypeError("You must pass an array to race."))})},_e.resolve=Y,_e.reject=function re(Ee){var ct=new this(G);return Ve(ct,Ee),ct},_e._setScheduler=function f(Ee){c=Ee},_e._setAsap=function g(Ee){d=Ee},_e._asap=d,_e.polyfill=function xe(){var Ee=void 0;if(typeof v<"u")Ee=v;else if(typeof self<"u")Ee=self;else try{Ee=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Ge=Ee.Promise;if(Ge){var ct=null;try{ct=Object.prototype.toString.call(Ge.resolve())}catch{}if("[object Promise]"===ct&&!Ge.cast)return}Ee.Promise=_e},_e.Promise=_e,_e},et.exports=_()}).call(this,e(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),e(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/events/events.js":
/*!***************************************!*\
                  !*** ./node_modules/events/events.js ***!
                  \***************************************/
/*! no static exports found */function(et,p,e){"use strict";var b,t="object"==typeof Reflect?Reflect:null,v=t&&"function"==typeof t.apply?t.apply:function(y,B,z){return Function.prototype.apply.call(y,B,z)};b=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(y){return Object.getOwnPropertyNames(y).concat(Object.getOwnPropertySymbols(y))}:function(y){return Object.getOwnPropertyNames(y)};var P=Number.isNaN||function(y){return y!=y};function C(){C.init.call(this)}et.exports=C,et.exports.once=function D(L,y){return new Promise(function(B,z){function ne(Fe){L.removeListener(y,ae),z(Fe)}function ae(){"function"==typeof L.removeListener&&L.removeListener("error",ne),B([].slice.call(arguments))}T(L,y,ae,{once:!0}),"error"!==y&&function I(L,y,B){"function"==typeof L.on&&T(L,"error",y,B)}(L,ne,{once:!0})})},C.EventEmitter=C,C.prototype._events=void 0,C.prototype._eventsCount=0,C.prototype._maxListeners=void 0;var m=10;function i(L){if("function"!=typeof L)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof L)}function c(L){return void 0===L._maxListeners?C.defaultMaxListeners:L._maxListeners}function d(L,y,B,z){var ne,ae,Fe;if(i(B),void 0===(ae=L._events)?(ae=L._events=Object.create(null),L._eventsCount=0):(void 0!==ae.newListener&&(L.emit("newListener",y,B.listener?B.listener:B),ae=L._events),Fe=ae[y]),void 0===Fe)Fe=ae[y]=B,++L._eventsCount;else if("function"==typeof Fe?Fe=ae[y]=z?[B,Fe]:[Fe,B]:z?Fe.unshift(B):Fe.push(B),(ne=c(L))>0&&Fe.length>ne&&!Fe.warned){Fe.warned=!0;var Y=new Error("Possible EventEmitter memory leak detected. "+Fe.length+" "+String(y)+" listeners added. Use emitter.setMaxListeners() to increase limit");Y.name="MaxListenersExceededWarning",Y.emitter=L,Y.type=y,Y.count=Fe.length,function _(L){console&&console.warn&&console.warn(L)}(Y)}return L}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(L,y,B){var z={fired:!1,wrapFn:void 0,target:L,type:y,listener:B},ne=f.bind(z);return ne.listener=B,z.wrapFn=ne,ne}function S(L,y,B){var z=L._events;if(void 0===z)return[];var ne=z[y];return void 0===ne?[]:"function"==typeof ne?B?[ne.listener||ne]:[ne]:B?function O(L){for(var y=new Array(L.length),B=0;B<y.length;++B)y[B]=L[B].listener||L[B];return y}(ne):A(ne,ne.length)}function x(L){var y=this._events;if(void 0!==y){var B=y[L];if("function"==typeof B)return 1;if(void 0!==B)return B.length}return 0}function A(L,y){for(var B=new Array(y),z=0;z<y;++z)B[z]=L[z];return B}function T(L,y,B,z){if("function"==typeof L.on)z.once?L.once(y,B):L.on(y,B);else{if("function"!=typeof L.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof L);L.addEventListener(y,function ne(ae){z.once&&L.removeEventListener(y,ne),B(ae)})}}Object.defineProperty(C,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(L){if("number"!=typeof L||L<0||P(L))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+L+".");m=L}}),C.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},C.prototype.setMaxListeners=function(y){if("number"!=typeof y||y<0||P(y))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+y+".");return this._maxListeners=y,this},C.prototype.getMaxListeners=function(){return c(this)},C.prototype.emit=function(y){for(var B=[],z=1;z<arguments.length;z++)B.push(arguments[z]);var ne="error"===y,ae=this._events;if(void 0!==ae)ne=ne&&void 0===ae.error;else if(!ne)return!1;if(ne){var Fe;if(B.length>0&&(Fe=B[0]),Fe instanceof Error)throw Fe;var Y=new Error("Unhandled error."+(Fe?" ("+Fe.message+")":""));throw Y.context=Fe,Y}var le=ae[y];if(void 0===le)return!1;if("function"==typeof le)v(le,this,B);else{var G=le.length,Se=A(le,G);for(z=0;z<G;++z)v(Se[z],this,B)}return!0},C.prototype.on=C.prototype.addListener=function(y,B){return d(this,y,B,!1)},C.prototype.prependListener=function(y,B){return d(this,y,B,!0)},C.prototype.once=function(y,B){return i(B),this.on(y,g(this,y,B)),this},C.prototype.prependOnceListener=function(y,B){return i(B),this.prependListener(y,g(this,y,B)),this},C.prototype.off=C.prototype.removeListener=function(y,B){var z,ne,ae,Fe,Y;if(i(B),void 0===(ne=this._events))return this;if(void 0===(z=ne[y]))return this;if(z===B||z.listener===B)0==--this._eventsCount?this._events=Object.create(null):(delete ne[y],ne.removeListener&&this.emit("removeListener",y,z.listener||B));else if("function"!=typeof z){for(ae=-1,Fe=z.length-1;Fe>=0;Fe--)if(z[Fe]===B||z[Fe].listener===B){Y=z[Fe].listener,ae=Fe;break}if(ae<0)return this;0===ae?z.shift():function N(L,y){for(;y+1<L.length;y++)L[y]=L[y+1];L.pop()}(z,ae),1===z.length&&(ne[y]=z[0]),void 0!==ne.removeListener&&this.emit("removeListener",y,Y||B)}return this},C.prototype.removeAllListeners=function(y){var B,z,ne;if(void 0===(z=this._events))return this;if(void 0===z.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==z[y]&&(0==--this._eventsCount?this._events=Object.create(null):delete z[y]),this;if(0===arguments.length){var Fe,ae=Object.keys(z);for(ne=0;ne<ae.length;++ne)"removeListener"!==(Fe=ae[ne])&&this.removeAllListeners(Fe);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(B=z[y]))this.removeListener(y,B);else if(void 0!==B)for(ne=B.length-1;ne>=0;ne--)this.removeListener(y,B[ne]);return this},C.prototype.listeners=function(y){return S(this,y,!0)},C.prototype.rawListeners=function(y){return S(this,y,!1)},C.listenerCount=function(L,y){return"function"==typeof L.listenerCount?L.listenerCount(y):x.call(L,y)},C.prototype.listenerCount=x,C.prototype.eventNames=function(){return this._eventsCount>0?b(this._events):[]}},"./node_modules/fast-deep-equal/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/fast-deep-equal/index.js ***!
                  \***********************************************/
/*! no static exports found */function(et,p,e){"use strict";var t=Array.isArray,v=Object.keys,b=Object.prototype.hasOwnProperty;et.exports=function _(P,C){if(P===C)return!0;if(P&&C&&"object"==typeof P&&"object"==typeof C){var c,d,f,m=t(P),i=t(C);if(m&&i){if((d=P.length)!=C.length)return!1;for(c=d;0!=c--;)if(!_(P[c],C[c]))return!1;return!0}if(m!=i)return!1;var g=P instanceof Date,S=C instanceof Date;if(g!=S)return!1;if(g&&S)return P.getTime()==C.getTime();var x=P instanceof RegExp,A=C instanceof RegExp;if(x!=A)return!1;if(x&&A)return P.toString()==C.toString();var N=v(P);if((d=N.length)!==v(C).length)return!1;for(c=d;0!=c--;)if(!b.call(C,N[c]))return!1;for(c=d;0!=c--;)if(!_(P[f=N[c]],C[f]))return!1;return!0}return P!=P&&C!=C}},"./node_modules/ieee754/index.js":
/*!***************************************!*\
                  !*** ./node_modules/ieee754/index.js ***!
                  \***************************************/
/*! no static exports found */function(et,p){p.read=function(e,t,v,b,_){var P,C,m=8*_-b-1,i=(1<<m)-1,c=i>>1,d=-7,f=v?_-1:0,g=v?-1:1,S=e[t+f];for(f+=g,P=S&(1<<-d)-1,S>>=-d,d+=m;d>0;P=256*P+e[t+f],f+=g,d-=8);for(C=P&(1<<-d)-1,P>>=-d,d+=b;d>0;C=256*C+e[t+f],f+=g,d-=8);if(0===P)P=1-c;else{if(P===i)return C?NaN:1/0*(S?-1:1);C+=Math.pow(2,b),P-=c}return(S?-1:1)*C*Math.pow(2,P-b)},p.write=function(e,t,v,b,_,P){var C,m,i,c=8*P-_-1,d=(1<<c)-1,f=d>>1,g=23===_?Math.pow(2,-24)-Math.pow(2,-77):0,S=b?0:P-1,x=b?1:-1,A=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(m=isNaN(t)?1:0,C=d):(C=Math.floor(Math.log(t)/Math.LN2),t*(i=Math.pow(2,-C))<1&&(C--,i*=2),(t+=C+f>=1?g/i:g*Math.pow(2,1-f))*i>=2&&(C++,i/=2),C+f>=d?(m=0,C=d):C+f>=1?(m=(t*i-1)*Math.pow(2,_),C+=f):(m=t*Math.pow(2,f-1)*Math.pow(2,_),C=0));_>=8;e[v+S]=255&m,S+=x,m/=256,_-=8);for(C=C<<_|m,c+=_;c>0;e[v+S]=255&C,S+=x,C/=256,c-=8);e[v+S-x]|=128*A}},"./node_modules/imsc/src/main/js/doc.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/doc.js ***!
                  \**********************************************/
/*! no static exports found */function(et,p,e){!function(t,v,b,_,P){function C(oe){if("contents"in oe)for(var ee=("styleAttrs"in oe?oe.styleAttrs[_.byName.ruby.qname]:null),X="span"===oe.kind&&("container"===ee||"textContainer"===ee||"baseContainer"===ee),$=oe.contents.length-1;$>=0;$--)!X||"styleAttrs"in oe.contents[$]&&_.byName.ruby.qname in oe.contents[$].styleAttrs?C(oe.contents[$]):delete oe.contents[$]}function m(oe,ee,X,$){var re=$&&"seq"===$.timeContainer,J=0;$&&(J=re&&X?X.end:$.begin),ee.begin=ee.explicit_begin?ee.explicit_begin+J:J;var q=ee.begin,_e=null;if("sets"in ee)for(var xe=0;xe<ee.sets.length;xe++)m(oe,ee.sets[xe],_e,ee),q="seq"===ee.timeContainer?ee.sets[xe].end:Math.max(q,ee.sets[xe].end),_e=ee.sets[xe];if("contents"in ee){if("contents"in ee)for(var Ee=0;Ee<ee.contents.length;Ee++)m(oe,ee.contents[Ee],_e,ee),q="seq"===ee.timeContainer?ee.contents[Ee].end:Math.max(q,ee.contents[Ee].end),_e=ee.contents[Ee]}else q=re?ee.begin:Number.POSITIVE_INFINITY;ee.end=null!==ee.explicit_end&&null!==ee.explicit_dur?Math.min(ee.begin+ee.explicit_dur,J+ee.explicit_end):null===ee.explicit_end&&null!==ee.explicit_dur?ee.begin+ee.explicit_dur:null!==ee.explicit_end&&null===ee.explicit_dur?J+ee.explicit_end:q,delete ee.explicit_begin,delete ee.explicit_dur,delete ee.explicit_end,oe._registerEvent(ee)}function i(oe){this.node=oe}function c(){this.events=[],this.head=new d,this.body=null}function d(){this.styling=new f,this.layout=new x}function f(){this.styles={},this.initials={}}function g(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function S(){this.styleAttrs=null}function x(){this.regions={}}function A(oe,ee){N.call(this,"image"),this.src=oe,this.type=ee}function N(oe){this.kind=oe}function O(oe){this.id=oe}function D(oe){this.regionID=oe}function I(oe){this.styleAttrs=oe}function T(oe){this.sets=oe}function L(oe){this.contents=oe}function y(oe,ee,X){this.explicit_begin=oe,this.explicit_end=ee,this.explicit_dur=X}function B(){N.call(this,"body")}function z(){N.call(this,"div")}function ne(){N.call(this,"p")}function ae(){N.call(this,"span")}function Fe(){N.call(this,"span")}function Y(){N.call(this,"br")}function le(){}function G(){}function Se(oe){return oe&&"xml:id"in oe.attributes&&oe.attributes["xml:id"].value||null}function Ie(oe){return oe&&"style"in oe.attributes?oe.attributes.style.value.split(" "):[]}function Ce(oe,ee){var X={};if(null!==oe)for(var $ in oe.attributes){var re=oe.attributes[$].uri+" "+oe.attributes[$].local,J=_.byQName[re];if(void 0!==J){var q=J.parse(oe.attributes[$].value);null!==q?(X[re]=q,J===_.byName.zIndex&&be(ee,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):Q(ee,"Cannot parse styling attribute "+re+" --\x3e "+oe.attributes[$].value)}}return X}function pe(oe,ee,X){for(var $ in oe.attributes)if(oe.attributes[$].uri===ee&&oe.attributes[$].local===X)return oe.attributes[$].value;return null}function Te(oe,ee,X){var ct,Xe=null;return null!==(ct=/^(\d+(?:\.\d+)?)f$/.exec(X))?null!==ee&&(Xe=parseFloat(ct[1])/ee):null!==(ct=/^(\d+(?:\.\d+)?)t$/.exec(X))?null!==oe&&(Xe=parseFloat(ct[1])/oe):null!==(ct=/^(\d+(?:\.\d+)?)ms$/.exec(X))?Xe=parseFloat(ct[1])/1e3:null!==(ct=/^(\d+(?:\.\d+)?)s$/.exec(X))?Xe=parseFloat(ct[1]):null!==(ct=/^(\d+(?:\.\d+)?)h$/.exec(X))?Xe=3600*parseFloat(ct[1]):null!==(ct=/^(\d+(?:\.\d+)?)m$/.exec(X))?Xe=60*parseFloat(ct[1]):null!==(ct=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(X))?Xe=3600*parseInt(ct[1])+60*parseInt(ct[2])+parseFloat(ct[3]):null!==(ct=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(X))&&null!==ee&&(Xe=3600*parseInt(ct[1])+60*parseInt(ct[2])+parseInt(ct[3])+(null===ct[4]?0:parseInt(ct[4])/ee)),Xe}function Ve(oe,ee,X){for(;ee.styleRefs.length>0;){var $=ee.styleRefs.pop();$ in oe.styles?(Ve(oe,oe.styles[$],X),Ze(oe.styles[$].styleAttrs,ee.styleAttrs)):Q(X,"Non-existant style id referenced")}}function ft(oe,ee,X,$){for(var re=ee.length-1;re>=0;re--){var J=ee[re];J in oe.styles?Ze(oe.styles[J].styleAttrs,X):Q($,"Non-existant style id referenced")}}function Ze(oe,ee){for(var X in oe)oe.hasOwnProperty(X)&&(X in ee||(ee[X]=oe[X]))}function be(oe,ee){if(oe&&oe.warn&&oe.warn(ee))throw ee}function Q(oe,ee){if(oe&&oe.error&&oe.error(ee))throw ee}function ie(oe,ee){throw oe&&oe.fatal&&oe.fatal(ee),ee}function ye(oe,ee){for(var re,X=0,$=oe.length-1;X<=$;){var J=oe[re=Math.floor((X+$)/2)];if(J<ee)X=re+1;else{if(!(J>ee))return{found:!0,index:re};$=re-1}}return{found:!1,index:X}}t.fromXML=function(oe,ee,X){var $=v.parser(!0,{xmlns:!0}),re=[],J=[],q=[],_e=0,xe=null;$.onclosetag=function(tt){if(re[0]instanceof le)null!==xe.head&&null!==xe.head.styling&&ft(xe.head.styling,re[0].styleRefs,re[0].styleAttrs,ee),delete re[0].styleRefs;else if(re[0]instanceof f)for(var gt in re[0].styles)re[0].styles.hasOwnProperty(gt)&&Ve(re[0],re[0].styles[gt],ee);else if(re[0]instanceof ne||re[0]instanceof ae){if(re[0].contents.length>1){var yt,Qe=[re[0].contents[0]];for(yt=1;yt<re[0].contents.length;yt++)re[0].contents[yt]instanceof Fe&&Qe[Qe.length-1]instanceof Fe?Qe[Qe.length-1].text+=re[0].contents[yt].text:Qe.push(re[0].contents[yt]);re[0].contents=Qe}re[0]instanceof ae&&1===re[0].contents.length&&re[0].contents[0]instanceof Fe&&(re[0].text=re[0].contents[0].text,delete re[0].contents)}else re[0]instanceof i&&(re[0].node.uri===b.ns_tt&&"metadata"===re[0].node.local?_e--:_e>0&&X&&"onCloseTag"in X&&X.onCloseTag());q.shift(),J.shift(),re.shift()},$.ontext=function(tt){if(void 0!==re[0])if(re[0]instanceof ae||re[0]instanceof ne){if(re[0]instanceof ae){var gt=re[0].styleAttrs[_.byName.ruby.qname];if("container"===gt||"textContainer"===gt||"baseContainer"===gt)return}var Qe=new Fe;Qe.initFromText(xe,re[0],tt,J[0],q[0],ee),re[0].contents.push(Qe)}else re[0]instanceof i&&_e>0&&X&&"onText"in X&&X.onText(tt)},$.onopentag=function(tt){var gt=tt.attributes["xml:space"];q.unshift(gt?gt.value:0===q.length?"default":q[0]);var Qe=tt.attributes["xml:lang"];if(J.unshift(Qe?Qe.value:0===J.length?"":J[0]),tt.uri===b.ns_tt)if("tt"===tt.local)null!==xe&&ie(ee,"Two <tt> elements at ("+this.line+","+this.column+")"),(xe=new c).initFromNode(tt,J[0],ee),re.unshift(xe);else if("head"===tt.local)re[0]instanceof c||ie(ee,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),re.unshift(xe.head);else if("styling"===tt.local)re[0]instanceof d||ie(ee,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),re.unshift(xe.head.styling);else if("style"===tt.local){var yt;re[0]instanceof f?((yt=new g).initFromNode(tt,ee),yt.id?xe.head.styling.styles[yt.id]=yt:Q(ee,"<style> element missing @id attribute"),re.unshift(yt)):re[0]instanceof le?((yt=new g).initFromNode(tt,ee),Ze(yt.styleAttrs,re[0].styleAttrs),re.unshift(yt)):ie(ee,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===tt.local){var Dt;if(re[0]instanceof f){for(var fe in(Dt=new S).initFromNode(tt,ee),Dt.styleAttrs)Dt.styleAttrs.hasOwnProperty(fe)&&(xe.head.styling.initials[fe]=Dt.styleAttrs[fe]);re.unshift(Dt)}else ie(ee,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===tt.local)re[0]instanceof d||ie(ee,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),re.unshift(xe.head.layout);else if("region"===tt.local){re[0]instanceof x||ie(ee,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var ze=new le;ze.initFromNode(xe,tt,J[0],ee),!ze.id||ze.id in xe.head.layout.regions?Q(ee,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):xe.head.layout.regions[ze.id]=ze,re.unshift(ze)}else if("body"===tt.local){re[0]instanceof c||ie(ee,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==xe.body&&ie(ee,"Second <body> element at "+this.line+","+this.column+")");var Tt=new B;Tt.initFromNode(xe,tt,J[0],ee),xe.body=Tt,re.unshift(Tt)}else if("div"===tt.local){re[0]instanceof z||re[0]instanceof B||ie(ee,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var Kt=new z;Kt.initFromNode(xe,re[0],tt,J[0],ee);var Jt=Kt.styleAttrs[_.byName.backgroundImage.qname];Jt&&(Kt.contents.push(new A(Jt)),delete Kt.styleAttrs[_.byName.backgroundImage.qname]),re[0].contents.push(Kt),re.unshift(Kt)}else if("image"===tt.local){re[0]instanceof z||ie(ee,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var qt=new A;qt.initFromNode(xe,re[0],tt,J[0],ee),re[0].contents.push(qt),re.unshift(qt)}else if("p"===tt.local){re[0]instanceof z||ie(ee,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var un=new ne;un.initFromNode(xe,re[0],tt,J[0],ee),re[0].contents.push(un),re.unshift(un)}else if("span"===tt.local){re[0]instanceof ae||re[0]instanceof ne||ie(ee,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var fn=new ae;fn.initFromNode(xe,re[0],tt,J[0],q[0],ee),re[0].contents.push(fn),re.unshift(fn)}else if("br"===tt.local){re[0]instanceof ae||re[0]instanceof ne||ie(ee,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var wt=new Y;wt.initFromNode(xe,re[0],tt,J[0],ee),re[0].contents.push(wt),re.unshift(wt)}else if("set"===tt.local){re[0]instanceof ae||re[0]instanceof ne||re[0]instanceof z||re[0]instanceof B||re[0]instanceof le||re[0]instanceof Y||ie(ee,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var vt=new G;vt.initFromNode(xe,re[0],tt,ee),re[0].sets.push(vt),re.unshift(vt)}else re.unshift(new i(tt));else re.unshift(new i(tt));if(re[0]instanceof i)if(tt.uri===b.ns_tt&&"metadata"===tt.local)_e++;else if(_e>0&&X&&"onOpenTag"in X){var it=[];for(var He in tt.attributes)it[tt.attributes[He].uri+" "+tt.attributes[He].local]={uri:tt.attributes[He].uri,local:tt.attributes[He].local,value:tt.attributes[He].value};X.onOpenTag(tt.uri,tt.local,it)}},$.write(oe).close(),delete xe.head.styling.styles;var Ee=!1;for(var Ge in xe.head.layout.regions)if(xe.head.layout.regions.hasOwnProperty(Ge)){Ee=!0;break}if(!Ee){var ct=le.prototype.createDefaultRegion(xe.lang);xe.head.layout.regions[ct.id]=ct}for(var Xe in xe.head.layout.regions)xe.head.layout.regions.hasOwnProperty(Xe)&&m(xe,xe.head.layout.regions[Xe],null,null);return xe.body&&m(xe,xe.body,null,null),xe.body&&C(xe.body),xe},c.prototype.initFromNode=function(oe,ee,X){var $=function ke(oe,ee){var X=pe(oe,b.ns_ttp,"cellResolution"),$=15,re=32;if(null!==X){var q=/(\d+) (\d+)/.exec(X);null!==q?(re=parseInt(q[1]),$=parseInt(q[2])):be(ee,"Malformed cellResolution value (using initial value instead)")}return{w:re,h:$}}(oe,X);this.cellLength={h:new P.ComputedLength(0,1/$.h),w:new P.ComputedLength(1/$.w,0)};var re=function he(oe,ee){var re,X=pe(oe,b.ns_ttp,"frameRate"),$=30;null!==X&&(null!==(re=/(\d+)/.exec(X))?$=parseInt(re[1]):be(ee,"Malformed frame rate attribute (using initial value instead)"));var q=pe(oe,b.ns_ttp,"frameRateMultiplier"),_e=1;null!==q&&(null!==(re=/(\d+) (\d+)/.exec(q))?_e=parseInt(re[1])/parseInt(re[2]):be(ee,"Malformed frame rate multiplier attribute (using initial value instead)"));var Ee=_e*$,Ge=1,ct=pe(oe,b.ns_ttp,"tickRate");return null===ct?null!==X&&(Ge=Ee):null!==(re=/(\d+)/.exec(ct))?Ge=parseInt(re[1]):be(ee,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:Ee,tickRate:Ge}}(oe,X);this.effectiveFrameRate=re.effectiveFrameRate,this.tickRate=re.tickRate,this.aspectRatio=function Ae(oe,ee){var X=pe(oe,b.ns_ittp,"aspectRatio");null===X&&(X=pe(oe,b.ns_ttp,"displayAspectRatio"));var $=null;if(null!==X){var J=/(\d+)\s+(\d+)/.exec(X);if(null!==J){var q=parseInt(J[1]),_e=parseInt(J[2]);0!==q&&0!==_e?$=q/_e:Q(ee,"Illegal aspectRatio values (ignoring)")}else Q(ee,"Malformed aspectRatio attribute (ignoring)")}return $}(oe,X);var J=pe(oe,b.ns_ttp,"timeBase");null!==J&&"media"!==J&&ie(X,"Unsupported time base");var q=function we(oe,ee){var X=pe(oe,b.ns_tts,"extent");if(null===X)return null;var $=X.split(" ");if(2!==$.length)return be(ee,"Malformed extent (ignoring)"),null;var re=P.parseLength($[0]),J=P.parseLength($[1]);return J&&re?{h:J,w:re}:(be(ee,"Malformed extent values (ignoring)"),null)}(oe,X);null===q?this.pxLength={h:null,w:null}:(("px"!==q.h.unit||"px"!==q.w.unit)&&ie(X,"Extent on TT must be in px or absent"),this.pxLength={h:new P.ComputedLength(0,1/q.h.value),w:new P.ComputedLength(1/q.w.value,0)}),this.dimensions={h:new P.ComputedLength(0,1),w:new P.ComputedLength(1,0)},this.lang=ee},c.prototype._registerEvent=function(oe){if(!(oe.end<=oe.begin)){var ee=ye(this.events,oe.begin);if(ee.found||this.events.splice(ee.index,0,oe.begin),oe.end!==Number.POSITIVE_INFINITY){var X=ye(this.events,oe.end);X.found||this.events.splice(X.index,0,oe.end)}}},c.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},c.prototype.getMediaTimeEvents=function(){return this.events},g.prototype.initFromNode=function(oe,ee){this.id=Se(oe),this.styleAttrs=Ce(oe,ee),this.styleRefs=Ie(oe)},S.prototype.initFromNode=function(oe,ee){for(var X in this.styleAttrs={},oe.attributes)oe.attributes[X].uri!==b.ns_itts&&oe.attributes[X].uri!==b.ns_ebutts&&oe.attributes[X].uri!==b.ns_tts||(this.styleAttrs[oe.attributes[X].uri+" "+oe.attributes[X].local]=oe.attributes[X].value)},A.prototype.initFromNode=function(oe,ee,X,$,re){this.src="src"in X.attributes?X.attributes.src.value:null,this.src||Q(re,"Invalid image@src attribute"),this.type="type"in X.attributes?X.attributes.type.value:null,this.type||Q(re,"Invalid image@type attribute"),I.prototype.initFromNode.call(this,oe,ee,X,re),y.prototype.initFromNode.call(this,oe,ee,X,re),T.prototype.initFromNode.call(this,oe,ee,X,re),D.prototype.initFromNode.call(this,oe,ee,X,re),this.lang=$},O.prototype.initFromNode=function(oe,ee,X,$){this.id=Se(X)},D.prototype.initFromNode=function(oe,ee,X,$){this.regionID=function ce(oe){return oe&&"region"in oe.attributes?oe.attributes.region.value:""}(X)},I.prototype.initFromNode=function(oe,ee,X,$){this.styleAttrs=Ce(X,$),null!==oe.head&&null!==oe.head.styling&&ft(oe.head.styling,Ie(X),this.styleAttrs,$)},T.prototype.initFromNode=function(oe,ee,X,$){this.sets=[]},L.prototype.initFromNode=function(oe,ee,X,$){this.contents=[]},y.prototype.initFromNode=function(oe,ee,X,$){var re=function Oe(oe,ee,X,$){var re=null;X&&"begin"in X.attributes&&null===(re=Te(oe.tickRate,oe.effectiveFrameRate,X.attributes.begin.value))&&be($,"Malformed begin value "+X.attributes.begin.value+" (using 0)");var J=null;X&&"dur"in X.attributes&&null===(J=Te(oe.tickRate,oe.effectiveFrameRate,X.attributes.dur.value))&&be($,"Malformed dur value "+X.attributes.dur.value+" (ignoring)");var q=null;return X&&"end"in X.attributes&&null===(q=Te(oe.tickRate,oe.effectiveFrameRate,X.attributes.end.value))&&be($,"Malformed end value (ignoring)"),{explicit_begin:re,explicit_end:q,explicit_dur:J}}(oe,0,X,$);this.explicit_begin=re.explicit_begin,this.explicit_end=re.explicit_end,this.explicit_dur=re.explicit_dur,this.timeContainer=function ge(oe,ee){var X=oe&&"timeContainer"in oe.attributes?oe.attributes.timeContainer.value:null;return X&&"par"!==X?"seq"===X?"seq":(Q(ee,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(X,$)},B.prototype.initFromNode=function(oe,ee,X,$){I.prototype.initFromNode.call(this,oe,null,ee,$),y.prototype.initFromNode.call(this,oe,null,ee,$),T.prototype.initFromNode.call(this,oe,null,ee,$),D.prototype.initFromNode.call(this,oe,null,ee,$),L.prototype.initFromNode.call(this,oe,null,ee,$),this.lang=X},z.prototype.initFromNode=function(oe,ee,X,$,re){I.prototype.initFromNode.call(this,oe,ee,X,re),y.prototype.initFromNode.call(this,oe,ee,X,re),T.prototype.initFromNode.call(this,oe,ee,X,re),D.prototype.initFromNode.call(this,oe,ee,X,re),L.prototype.initFromNode.call(this,oe,ee,X,re),this.lang=$},ne.prototype.initFromNode=function(oe,ee,X,$,re){I.prototype.initFromNode.call(this,oe,ee,X,re),y.prototype.initFromNode.call(this,oe,ee,X,re),T.prototype.initFromNode.call(this,oe,ee,X,re),D.prototype.initFromNode.call(this,oe,ee,X,re),L.prototype.initFromNode.call(this,oe,ee,X,re),this.lang=$},ae.prototype.initFromNode=function(oe,ee,X,$,re,J){I.prototype.initFromNode.call(this,oe,ee,X,J),y.prototype.initFromNode.call(this,oe,ee,X,J),T.prototype.initFromNode.call(this,oe,ee,X,J),D.prototype.initFromNode.call(this,oe,ee,X,J),L.prototype.initFromNode.call(this,oe,ee,X,J),this.space=re,this.lang=$},Fe.prototype.initFromText=function(oe,ee,X,$,re,J){y.prototype.initFromNode.call(this,oe,ee,null,J),this.text=X,this.space=re,this.lang=$},Y.prototype.initFromNode=function(oe,ee,X,$,re){D.prototype.initFromNode.call(this,oe,ee,X,re),y.prototype.initFromNode.call(this,oe,ee,X,re),this.lang=$},le.prototype.createDefaultRegion=function(oe){var ee=new le;return O.call(ee,""),I.call(ee,{}),T.call(ee,[]),y.call(ee,0,Number.POSITIVE_INFINITY,null),this.lang=oe,ee},le.prototype.initFromNode=function(oe,ee,X,$){O.prototype.initFromNode.call(this,oe,null,ee,$),y.prototype.initFromNode.call(this,oe,null,ee,$),T.prototype.initFromNode.call(this,oe,null,ee,$),this.styleAttrs=Ce(ee,$),this.styleRefs=Ie(ee),this.lang=X},G.prototype.initFromNode=function(oe,ee,X,$){y.prototype.initFromNode.call(this,oe,ee,X,$);var re=Ce(X,$);for(var J in this.qname=null,this.value=null,re)if(re.hasOwnProperty(J)){if(this.qname){Q($,"More than one style specified on set");break}this.qname=J,this.value=re[J]}}}(p,typeof sax>"u"?e(
/*! sax */
"./node_modules/sax/lib/sax.js"):sax,typeof imscNames>"u"?e(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?e(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?e(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/html.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/html.js ***!
                  \***********************************************/
/*! no static exports found */function(et,p,e){!function(t,v,b){function _(Y,le,G,Se){var ce;if("region"===G.kind)(ce=document.createElement("div")).style.position="absolute";else if("body"===G.kind)ce=document.createElement("div");else if("div"===G.kind)ce=document.createElement("div");else if("image"===G.kind){if(ce=document.createElement("img"),null!==Y.imgResolver&&null!==G.src){var ge=Y.imgResolver(G.src,ce);ge&&(ce.src=ge),ce.height=Y.regionH,ce.width=Y.regionW}}else if("p"===G.kind)ce=document.createElement("p");else if("span"===G.kind)if("container"===G.styleAttrs[b.byName.ruby.qname])ce=document.createElement("ruby"),Y.ruby=!0;else if("base"===G.styleAttrs[b.byName.ruby.qname])ce=document.createElement("rb");else if("text"===G.styleAttrs[b.byName.ruby.qname])ce=document.createElement("rt");else if("baseContainer"===G.styleAttrs[b.byName.ruby.qname])ce=document.createElement("rbc");else if("textContainer"===G.styleAttrs[b.byName.ruby.qname])ce=document.createElement("rtc");else{if("delimiter"===G.styleAttrs[b.byName.ruby.qname])return;ce=document.createElement("span")}else"br"===G.kind&&(ce=document.createElement("br"));if(ce){if(G.lang&&("region"===G.kind||G.lang!==Se.lang)&&(ce.lang=G.lang),le.appendChild(ce),ce.style.margin="0","region"===G.kind){var Ie=G.styleAttrs[b.byName.writingMode.qname];"lrtb"===Ie||"lr"===Ie?(Y.ipd="lr",Y.bpd="tb"):"rltb"===Ie||"rl"===Ie?(Y.ipd="rl",Y.bpd="tb"):"tblr"===Ie?(Y.ipd="tb",Y.bpd="lr"):("tbrl"===Ie||"tb"===Ie)&&(Y.ipd="tb",Y.bpd="rl")}else"p"===G.kind&&"tb"===Y.bpd&&(Y.ipd="ltr"===G.styleAttrs[b.byName.direction.qname]?"lr":"rl");for(var pe=0;pe<T.length;pe++){var Ae=T[pe],ke=G.styleAttrs[Ae.qname];void 0!==ke&&null!==Ae.map&&Ae.map(Y,ce,G,ke)}var he=ce,we=G.styleAttrs[b.byName.linePadding.qname];if(we&&!we.isZero()){var Te=we.toUsedLength(Y.w,Y.h);if(Te>0){var Oe=Math.ceil(Te)+"px";"tb"===Y.bpd?(he.style.paddingLeft=Oe,he.style.paddingRight=Oe):(he.style.paddingTop=Oe,he.style.paddingBottom=Oe),Y.lp=we}}var Ve=G.styleAttrs[b.byName.multiRowAlign.qname];if(Ve&&"auto"!==Ve){var ft=document.createElement("span");ft.style.display="inline-block",ft.style.textAlign=Ve,ce.appendChild(ft),he=ft,Y.mra=Ve}var Ze=G.styleAttrs[b.byName.rubyReserve.qname];if(Ze&&"none"!==Ze[0]&&(Y.rubyReserve=Ze),G.styleAttrs[b.byName.fillLineGap.qname]&&(Y.flg=!0),"span"===G.kind&&G.text){var Re=G.styleAttrs[b.byName.textEmphasis.qname];if(Re&&"none"!==Re.style&&(Y.textEmphasis=!0),b.byName.textCombine.qname in G.styleAttrs&&"all"===G.styleAttrs[b.byName.textCombine.qname])ce.textContent=G.text,Re&&D(Y,ce,0,Re);else for(var be="",Q=0;Q<G.text.length;Q++){be+=G.text.charAt(Q);var ie=G.text.charCodeAt(Q);if(ie<55296||ie>56319||Q===G.text.length-1){var ye=document.createElement("span");ye.textContent=be,Re&&D(Y,ye,0,Re),ce.appendChild(ye),be="",ye._isd_element=G}}}if("contents"in G)for(var oe=0;oe<G.contents.length;oe++)_(Y,he,G.contents[oe],G);var ee=[];if("p"===G.kind&&(N(Y,he,ee,null),Y.rubyReserve&&(function g(Y,le){for(var G=0;G<Y.length;G++){var Se=document.createElement("ruby"),ce=document.createElement("rb");ce.textContent="\u200b",Se.appendChild(ce);var ge,Ie,Ce=le.rubyReserve[1].toUsedLength(le.w,le.h)+"px";"both"===le.rubyReserve[0]||"outside"===le.rubyReserve[0]&&1==Y.length?((ge=document.createElement("rtc")).style[z]=B?"after":"under",ge.textContent="\u200b",ge.style.fontSize=Ce,(Ie=document.createElement("rtc")).style[z]=B?"before":"over",Ie.textContent="\u200b",Ie.style.fontSize=Ce,Se.appendChild(ge),Se.appendChild(Ie)):((ge=document.createElement("rtc")).textContent="\u200b",ge.style.fontSize=Ce,ge.style[z]="after"===le.rubyReserve[0]||"outside"===le.rubyReserve[0]&&G>0?B?"after":"tb"===le.bpd||"rl"===le.bpd?"under":"over":B?"before":"tb"===le.bpd||"rl"===le.bpd?"over":"under",Se.appendChild(ge));for(var Ae=null,ke=0;ke<Y[G].rbc.length;ke++)if("ruby"===Y[G].rbc[ke].localName){Ae=Y[G].rbc[ke];for(var he=0;he<Ae.style.length;he++)Se.style.setProperty(Ae.style.item(he),Ae.style.getPropertyValue(Ae.style.item(he)));break}(Ae=Ae||Y[G].elements[0].node).parentElement.insertBefore(Se,Ae)}}(ee,Y),Y.rubyReserve=null),(Y.ruby||Y.rubyReserve)&&(function f(Y,le){for(var G=0;G<Y.length;G++)for(var Se=0;Se<Y[G].rbc.length;Se++)Y[G].rbc[Se].style[z]||(Y[G].rbc[Se].style[z]=B?0===G?"before":"after":"tb"===le.bpd||"rl"===le.bpd?0===G?"over":"under":0===G?"under":"over")}(ee,Y),Y.ruby=null),Y.textEmphasis&&(function d(Y,le){for(var G=0;G<Y.length;G++)for(var Se=0;Se<Y[G].te.length;Se++)Y[G].te[Se].style[ae]&&"none"!==Y[G].te[Se].style[ae]||(Y[G].te[Se].style[ae]="tb"===le.bpd?0===G?"left over":"left under":"rl"===le.bpd?0===G?"right under":"left under":0===G?"left under":"right under")}(ee,Y),Y.textEmphasis=null),Y.mra&&(function c(Y){for(var le=0;le<Y.length-1;le++){var G=Y[le].elements.length;if(0!==G&&!1===Y[le].br){var Se=document.createElement("br"),ce=Y[le].elements[G-1].node;ce.parentElement.insertBefore(Se,ce.nextSibling)}}}(ee),Y.mra=null),Y.lp&&(function i(Y,le,G){if(null!==Y)for(var Se=0;Se<Y.length;Se++){var ce=Y[Se].elements.length,ge=Math.ceil(le)+"px",Ie="-"+Math.ceil(le)+"px";if(0!==ce){var Ce=Y[Se].elements[Y[Se].start_elem],pe=Y[Se].elements[Y[Se].end_elem];if(Ce===pe&&(elementBoundingRect=Ce.node.getBoundingClientRect(),0==elementBoundingRect.width||0==elementBoundingRect.height))continue;"lr"===G.ipd?(Ce.node.style.marginLeft=Ie,Ce.node.style.paddingLeft=ge):"rl"===G.ipd?(Ce.node.style.paddingRight=ge,Ce.node.style.marginRight=Ie):"tb"===G.ipd&&(Ce.node.style.paddingTop=ge,Ce.node.style.marginTop=Ie),"lr"===G.ipd?(pe.node.style.marginRight=Ie,pe.node.style.paddingRight=ge):"rl"===G.ipd?(pe.node.style.paddingLeft=ge,pe.node.style.marginLeft=Ie):"tb"===G.ipd&&(pe.node.style.paddingBottom=ge,pe.node.style.marginBottom=Ie)}}}(ee,Y.lp.toUsedLength(Y.w,Y.h),Y),Y.lp=null),function P(Y){for(var le=0;le<Y.length;le++)for(var G=Y[le],Se=1;Se<G.elements.length;)m(G.elements[Se-1].node,G.elements[Se].node)?G.elements.splice(Se,1):Se++;for(var Ie,Ce,pe=[],Ae=0;Ae<Y.length;Ae++)for(var ke=0;ke<Y[Ae].elements.length;ke++)(Ce=C(Ie=Y[Ae].elements[ke].node,pe,!1))&&(Ie.style.backgroundColor=Ce);for(var he=0;he<pe.length;he++)pe[he].style.backgroundColor=""}(ee),Y.flg)){var X=A(he.getBoundingClientRect(),Y);(function S(Y,le,G,Se,ce){for(var ge=Math.sign(G-le),Ie=0;Ie<=Y.length;Ie++){var Ce,pe,Ae,ke;if(Ce=0===Ie?Math.round(le):Ie===Y.length?Math.round(G):Math.round((Y[Ie-1].after+Y[Ie].before)/2),Ie>0&&Y[Ie-1])for(Ae=0;Ae<Y[Ie-1].elements.length;Ae++)pe=ge*(Ce-(ke=Y[Ie-1].elements[Ae]).after)+"px","lr"===Se.bpd?ke.node.style.paddingRight=pe:"rl"===Se.bpd?ke.node.style.paddingLeft=pe:"tb"===Se.bpd&&(ke.node.style.paddingBottom=pe);if(Ie<Y.length)for(Ae=0;Ae<Y[Ie].elements.length;Ae++)pe=ge*((ke=Y[Ie].elements[Ae]).before-Ce)+"px","lr"===Se.bpd?ke.node.style.paddingLeft=pe:"rl"===Se.bpd?ke.node.style.paddingRight=pe:"tb"===Se.bpd&&(ke.node.style.paddingTop=pe)}})(ee,X.before,X.after,Y),Y.flg=null}if("region"===G.kind&&"tb"===Y.bpd&&Y.enableRollUp&&G.contents.length>0&&"after"===G.styleAttrs[b.byName.displayAlign.qname]){N(Y,he,ee,null);var re=new x(""===G.id?"_":G.id,ee);if(Y.currentISDState[re.id]=re,Y.previousISDState&&re.id in Y.previousISDState&&Y.previousISDState[re.id].plist.length>0&&re.plist.length>1&&re.plist[re.plist.length-2].text===Y.previousISDState[re.id].plist[Y.previousISDState[re.id].plist.length-1].text){var J=ce.firstElementChild,q=re.plist[re.plist.length-1].after-re.plist[re.plist.length-1].before;J.style.bottom="-"+q+"px",J.style.transition="transform 0.4s",J.style.position="relative",J.style.transform="translateY(-"+q+"px)"}}}else!function Fe(Y,le){if(Y&&Y.error&&Y.error(le))throw le}(Y.errorHandler,"Error processing ISD element kind: "+G.kind)}function C(Y,le,G){return Y.style.backgroundColor?(G&&!le.includes(Y)&&le.push(Y),Y.style.backgroundColor):"SPAN"===Y.parentElement.nodeName?C(Y.parentElement,le,!0):void 0}function m(Y,le){if("SPAN"===Y.tagName&&"SPAN"===le.tagName&&Y._isd_element===le._isd_element){Y.textContent+=le.textContent;for(var G=0;G<le.style.length;G++){var Se=le.style[G];(Se.indexOf("border")>=0||Se.indexOf("padding")>=0||Se.indexOf("margin")>=0)&&(Y.style[Se]=le.style[Se])}return le.parentElement.removeChild(le),!0}return!1}function x(Y,le){this.id=Y,this.plist=le}function A(Y,le){var G={before:null,after:null,start:null,end:null};return"tb"===le.bpd?(G.before=Y.top,G.after=Y.bottom,"lr"===le.ipd?(G.start=Y.left,G.end=Y.right):(G.start=Y.right,G.end=Y.left)):"lr"===le.bpd?(G.before=Y.left,G.after=Y.right,G.start=Y.top,G.end=Y.bottom):"rl"===le.bpd&&(G.before=Y.right,G.after=Y.left,G.start=Y.top,G.end=Y.bottom),G}function N(Y,le,G,Se){if("rt"!==le.localName&&"rtc"!==le.localName){var ce=le.style.backgroundColor||Se;if(0===le.childElementCount)if("span"===le.localName||"rb"===le.localName){var Ie=A(le.getBoundingClientRect(),Y);if(0!==G.length&&function O(Y,le,G,Se){return le<Se&&Y>G||Se<=le&&G>=Y}(Ie.before,Ie.after,G[G.length-1].before,G[G.length-1].after)){var Ce=Math.sign(Ie.after-Ie.before),pe=Math.sign(Ie.end-Ie.start);Ce*(Ie.before-G[G.length-1].before)<0&&(G[G.length-1].before=Ie.before),Ce*(Ie.after-G[G.length-1].after)>0&&(G[G.length-1].after=Ie.after),pe*(Ie.start-G[G.length-1].start)<0&&(G[G.length-1].start=Ie.start,G[G.length-1].start_elem=G[G.length-1].elements.length),pe*(Ie.end-G[G.length-1].end)>0&&(G[G.length-1].end=Ie.end,G[G.length-1].end_elem=G[G.length-1].elements.length)}else G.push({before:Ie.before,after:Ie.after,start:Ie.start,end:Ie.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});G[G.length-1].text+=le.textContent,G[G.length-1].elements.push({node:le,bgcolor:ce,before:Ie.before,after:Ie.after})}else"br"===le.localName&&0!==G.length&&(G[G.length-1].br=!0);else for(var Ae=le.firstChild;Ae;)Ae.nodeType===Node.ELEMENT_NODE&&(N(Y,Ae,G,ce),"ruby"===Ae.localName||"rtc"===Ae.localName?G.length>0&&G[G.length-1].rbc.push(Ae):"span"===Ae.localName&&Ae.style[ne]&&"none"!==Ae.style[ne]&&G.length>0&&G[G.length-1].te.push(Ae)),Ae=Ae.nextSibling}}function D(Y,le,G,Se){"none"!==Se.style&&(le.style[ne]="auto"===Se.style?"filled":Se.style+" "+Se.symbol,"before"===Se.position||"after"===Se.position)&&(le.style[ae]="tb"===Y.bpd?"before"===Se.position?"left over":"left under":"rl"===Y.bpd?"before"===Se.position?"right under":"left under":"before"===Se.position?"left under":"right under")}function I(Y,le){this.qname=Y,this.map=le}t.render=function(Y,le,G,Se,ce,ge,Ie,Ce,pe){var Ae=Se||le.clientHeight,ke=ce||le.clientWidth;if(null!==Y.aspectRatio){var he=Ae*Y.aspectRatio;he>ke?Ae=Math.round(ke/Y.aspectRatio):ke=he}var we=document.createElement("div");we.style.position="relative",we.style.width=ke+"px",we.style.height=Ae+"px",we.style.margin="auto",we.style.top=0,we.style.bottom=0,we.style.left=0,we.style.right=0,we.style.zIndex=0;var Te={h:Ae,w:ke,regionH:null,regionW:null,imgResolver:G,displayForcedOnlyMode:ge||!1,isd:Y,errorHandler:Ie,previousISDState:Ce,enableRollUp:pe||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(le.appendChild(we),"contents"in Y)for(var Oe=0;Oe<Y.contents.length;Oe++)_(Te,we,Y.contents[Oe],Y);return Te.currentISDState};for(var T=[new I("http://www.w3.org/ns/ttml#styling backgroundColor",function(Y,le,G,Se){0!==Se[3]&&(le.style.backgroundColor="rgba("+Se[0].toString()+","+Se[1].toString()+","+Se[2].toString()+","+(Se[3]/255).toString()+")")}),new I("http://www.w3.org/ns/ttml#styling color",function(Y,le,G,Se){le.style.color="rgba("+Se[0].toString()+","+Se[1].toString()+","+Se[2].toString()+","+(Se[3]/255).toString()+")"}),new I("http://www.w3.org/ns/ttml#styling direction",function(Y,le,G,Se){le.style.direction=Se}),new I("http://www.w3.org/ns/ttml#styling display",function(Y,le,G,Se){}),new I("http://www.w3.org/ns/ttml#styling displayAlign",function(Y,le,G,Se){le.style.display="flex",le.style.flexDirection="column","before"===Se?le.style.justifyContent="flex-start":"center"===Se?le.style.justifyContent="center":"after"===Se&&(le.style.justifyContent="flex-end")}),new I("http://www.w3.org/ns/ttml#styling extent",function(Y,le,G,Se){Y.regionH=Se.h.toUsedLength(Y.w,Y.h),Y.regionW=Se.w.toUsedLength(Y.w,Y.h);var ce=0,ge=0,Ie=G.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];Ie&&(ce=Ie[0].toUsedLength(Y.w,Y.h)+Ie[2].toUsedLength(Y.w,Y.h),ge=Ie[1].toUsedLength(Y.w,Y.h)+Ie[3].toUsedLength(Y.w,Y.h)),le.style.height=Y.regionH-ce+"px",le.style.width=Y.regionW-ge+"px"}),new I("http://www.w3.org/ns/ttml#styling fontFamily",function(Y,le,G,Se){for(var ce=[],ge=0;ge<Se.length;ge++)"monospaceSerif"===Se[ge]?(ce.push("Courier New"),ce.push('"Liberation Mono"'),ce.push("Courier"),ce.push("monospace")):"proportionalSansSerif"===Se[ge]?(ce.push("Arial"),ce.push("Helvetica"),ce.push('"Liberation Sans"'),ce.push("sans-serif")):"monospace"===Se[ge]?ce.push("monospace"):"sansSerif"===Se[ge]?ce.push("sans-serif"):"serif"===Se[ge]?ce.push("serif"):"monospaceSansSerif"===Se[ge]?(ce.push("Consolas"),ce.push("monospace")):ce.push("proportionalSerif"===Se[ge]?"serif":Se[ge]);if(ce.length>0){for(var Ie=[ce[0]],Ce=1;Ce<ce.length;Ce++)-1==Ie.indexOf(ce[Ce])&&Ie.push(ce[Ce]);ce=Ie}le.style.fontFamily=ce.join(",")}),new I("http://www.w3.org/ns/ttml#styling shear",function(Y,le,G,Se){if(0!==Se){var ce=-.9*Se;le.style.transform="tb"===Y.bpd?"skewX("+ce+"deg)":"skewY("+ce+"deg)"}}),new I("http://www.w3.org/ns/ttml#styling fontSize",function(Y,le,G,Se){le.style.fontSize=Se.toUsedLength(Y.w,Y.h)+"px"}),new I("http://www.w3.org/ns/ttml#styling fontStyle",function(Y,le,G,Se){le.style.fontStyle=Se}),new I("http://www.w3.org/ns/ttml#styling fontWeight",function(Y,le,G,Se){le.style.fontWeight=Se}),new I("http://www.w3.org/ns/ttml#styling lineHeight",function(Y,le,G,Se){le.style.lineHeight="normal"===Se?"normal":Se.toUsedLength(Y.w,Y.h)+"px"}),new I("http://www.w3.org/ns/ttml#styling opacity",function(Y,le,G,Se){le.style.opacity=Se}),new I("http://www.w3.org/ns/ttml#styling origin",function(Y,le,G,Se){le.style.top=Se.h.toUsedLength(Y.w,Y.h)+"px",le.style.left=Se.w.toUsedLength(Y.w,Y.h)+"px"}),new I("http://www.w3.org/ns/ttml#styling overflow",function(Y,le,G,Se){le.style.overflow=Se}),new I("http://www.w3.org/ns/ttml#styling padding",function(Y,le,G,Se){var ce=[];ce[0]=Se[0].toUsedLength(Y.w,Y.h)+"px",ce[1]=Se[3].toUsedLength(Y.w,Y.h)+"px",ce[2]=Se[2].toUsedLength(Y.w,Y.h)+"px",ce[3]=Se[1].toUsedLength(Y.w,Y.h)+"px",le.style.padding=ce.join(" ")}),new I("http://www.w3.org/ns/ttml#styling position",function(Y,le,G,Se){le.style.top=Se.h.toUsedLength(Y.w,Y.h)+"px",le.style.left=Se.w.toUsedLength(Y.w,Y.h)+"px"}),new I("http://www.w3.org/ns/ttml#styling rubyAlign",function(Y,le,G,Se){le.style.rubyAlign="spaceAround"===Se?"space-around":"center"}),new I("http://www.w3.org/ns/ttml#styling rubyPosition",function(Y,le,G,Se){"before"!==Se&&"after"!==Se||(le.parentElement.style[z]=B?Se:"tb"===Y.bpd||"rl"===Y.bpd?"before"===Se?"over":"under":"before"===Se?"under":"over")}),new I("http://www.w3.org/ns/ttml#styling showBackground",null),new I("http://www.w3.org/ns/ttml#styling textAlign",function(Y,le,G,Se){le.style.textAlign="start"===Se?"rl"===Y.ipd?"right":"left":"end"===Se?"rl"===Y.ipd?"left":"right":Se}),new I("http://www.w3.org/ns/ttml#styling textDecoration",function(Y,le,G,Se){le.style.textDecoration=Se.join(" ").replace("lineThrough","line-through")}),new I("http://www.w3.org/ns/ttml#styling textOutline",function(Y,le,G,Se){}),new I("http://www.w3.org/ns/ttml#styling textShadow",function(Y,le,G,Se){var ce=G.styleAttrs[b.byName.textOutline.qname];if("none"===Se&&"none"===ce)le.style.textShadow="";else{var ge=[];if("none"!==ce){var Ie="rgba("+ce.color[0].toString()+","+ce.color[1].toString()+","+ce.color[2].toString()+","+(ce.color[3]/255).toString()+")";ge.push("1px 1px 1px "+Ie),ge.push("-1px 1px 1px "+Ie),ge.push("1px -1px 1px "+Ie),ge.push("-1px -1px 1px "+Ie)}if("none"!==Se)for(var Ce=0;Ce<Se.length;Ce++)ge.push(Se[Ce].x_off.toUsedLength(Y.w,Y.h)+"px "+Se[Ce].y_off.toUsedLength(Y.w,Y.h)+"px "+Se[Ce].b_radius.toUsedLength(Y.w,Y.h)+"px rgba("+Se[Ce].color[0].toString()+","+Se[Ce].color[1].toString()+","+Se[Ce].color[2].toString()+","+(Se[Ce].color[3]/255).toString()+")");le.style.textShadow=ge.join(",")}}),new I("http://www.w3.org/ns/ttml#styling textCombine",function(Y,le,G,Se){le.style.textCombineUpright=Se}),new I("http://www.w3.org/ns/ttml#styling textEmphasis",function(Y,le,G,Se){}),new I("http://www.w3.org/ns/ttml#styling unicodeBidi",function(Y,le,G,Se){le.style.unicodeBidi="bidiOverride"===Se?"bidi-override":Se}),new I("http://www.w3.org/ns/ttml#styling visibility",function(Y,le,G,Se){le.style.visibility=Se}),new I("http://www.w3.org/ns/ttml#styling wrapOption",function(Y,le,G,Se){le.style.whiteSpace="wrap"===Se?"preserve"===G.space?"pre-wrap":"normal":"preserve"===G.space?"pre":"noWrap"}),new I("http://www.w3.org/ns/ttml#styling writingMode",function(Y,le,G,Se){"lrtb"===Se||"lr"===Se||"rltb"===Se||"rl"===Se?le.style.writingMode="horizontal-tb":"tblr"===Se?le.style.writingMode="vertical-lr":("tbrl"===Se||"tb"===Se)&&(le.style.writingMode="vertical-rl")}),new I("http://www.w3.org/ns/ttml#styling zIndex",function(Y,le,G,Se){le.style.zIndex=Se}),new I("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(Y,le,G,Se){Y.displayForcedOnlyMode&&!1===Se&&(le.style.visibility="hidden")})],L={},y=0;y<T.length;y++)L[T[y].qname]=T[y];var B="webkitRubyPosition"in window.getComputedStyle(document.documentElement),z=B?"webkitRubyPosition":"rubyPosition",ne="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",ae="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"}(p,typeof imscNames>"u"?e(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?e(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?e(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/isd.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/isd.js ***!
                  \**********************************************/
/*! no static exports found */function(et,p,e){!function(t,v,b,_){t.generateISD=function(N,O,D){var L,I=new d(N),T={},y={},B=N.head.styling.initials[b.byName.showBackground.qname],z=N.head.styling.initials[b.byName.backgroundColor.qname];for(var ne in N.head.layout.regions)if(N.head.layout.regions.hasOwnProperty(ne)){var ae=N.head.layout.regions[ne],Fe=ae.styleAttrs[b.byName.showBackground.qname]||B;y[ae.id]=("always"===Fe||void 0===Fe)&&void 0!==(ae.styleAttrs[b.byName.backgroundColor.qname]||z)&&!(O<ae.begin||O>=ae.end)}for(var G in N.body&&N.body.regionID&&(y[N.body.regionID]=!0),L=null!==N.body?function le(ce,ge){if(ge.contents){var Ce={};for(var pe in ge)ge.hasOwnProperty(pe)&&(Ce[pe]=ge[pe]);return Ce.contents=[],ge.contents.filter(function Ie(Ae){return!(ce<Ae.begin||ce>=Ae.end)}).forEach(function(Ae){var ke=le(ce,Ae);ke.regionID&&(y[ke.regionID]=!0),null!==ke&&Ce.contents.push(ke)}),Ce}return ge}(O,N.body):null,void 0!==y[""]&&(y[""]=!0),y)if(y[G]){var Se=C(N,O,N.head.layout.regions[G],L,null,"",N.head.layout.regions[G],D,T);null!==Se&&I.contents.push(Se.element)}return I};var P=[b.byName.color.qname,b.byName.textCombine.qname,b.byName.textDecoration.qname,b.byName.textEmphasis.qname,b.byName.textOutline.qname,b.byName.textShadow.qname];function C(N,O,D,I,T,L,y,B,z){if(O<y.begin||O>=y.end)return null;var ne="regionID"in y&&""!==y.regionID?y.regionID:L;if(null!==T&&ne!==D.id&&(!("contents"in y)||"contents"in y&&0===y.contents.length||""!==ne))return null;var ae=new f(y);if("sets"in y)for(var Fe=0;Fe<y.sets.length;Fe++)O<y.sets[Fe].begin||O>=y.sets[Fe].end||(ae.styleAttrs[y.sets[Fe].qname]=y.sets[Fe].value);var Y={};for(var le in ae.styleAttrs)if(ae.styleAttrs.hasOwnProperty(le)&&(Y[le]=!0,"region"===ae.kind&&le===b.byName.writingMode.qname&&!(b.byName.direction.qname in ae.styleAttrs))){var G=ae.styleAttrs[le];"lrtb"===G||"lr"===G?ae.styleAttrs[b.byName.direction.qname]="ltr":("rltb"===G||"rl"===G)&&(ae.styleAttrs[b.byName.direction.qname]="rtl")}if(null!==T)for(var Se=0;Se<b.all.length;Se++){var ce=b.all[Se];if(ce.qname===b.byName.textDecoration.qname){var ge=T.styleAttrs[ce.qname],Ie=ae.styleAttrs[ce.qname],Ce=[];void 0===Ie?Ce=ge:-1===Ie.indexOf("none")?((-1===Ie.indexOf("noUnderline")&&-1!==ge.indexOf("underline")||-1!==Ie.indexOf("underline"))&&Ce.push("underline"),(-1===Ie.indexOf("noLineThrough")&&-1!==ge.indexOf("lineThrough")||-1!==Ie.indexOf("lineThrough"))&&Ce.push("lineThrough"),(-1===Ie.indexOf("noOverline")&&-1!==ge.indexOf("overline")||-1!==Ie.indexOf("overline"))&&Ce.push("overline")):Ce.push("none"),ae.styleAttrs[ce.qname]=Ce}else if(ce.qname!==b.byName.fontSize.qname||ce.qname in ae.styleAttrs||"span"!==ae.kind||"textContainer"!==ae.styleAttrs[b.byName.ruby.qname])if(ce.qname!==b.byName.fontSize.qname||ce.qname in ae.styleAttrs||"span"!==ae.kind||"text"!==ae.styleAttrs[b.byName.ruby.qname])ce.inherit&&ce.qname in T.styleAttrs&&!(ce.qname in ae.styleAttrs)&&(ae.styleAttrs[ce.qname]=T.styleAttrs[ce.qname]);else{var Ae=T.styleAttrs[b.byName.fontSize.qname];ae.styleAttrs[ce.qname]="textContainer"===T.styleAttrs[b.byName.ruby.qname]?Ae:new _.ComputedLength(.5*Ae.rw,.5*Ae.rh)}else{var pe=T.styleAttrs[b.byName.fontSize.qname];ae.styleAttrs[ce.qname]=new _.ComputedLength(.5*pe.rw,.5*pe.rh)}}for(var ke=0;ke<b.all.length;ke++){var he=b.all[ke];if(!(he.qname in ae.styleAttrs||he.qname===b.byName.position.qname&&b.byName.origin.qname in ae.styleAttrs||he.qname===b.byName.origin.qname&&b.byName.position.qname in ae.styleAttrs)){var we=N.head.styling.initials[he.qname]||he.initial;if(null!==we&&("region"===ae.kind||!1===he.inherit&&null!==we)){var Te=he.parse(we);null!==Te?(ae.styleAttrs[he.qname]=Te,Y[he.qname]=!0):x(B,"Invalid initial value for '"+he.qname+"' on element '"+ae.kind)}}}for(var Oe=0;Oe<b.all.length;Oe++){var Ve=b.all[Oe];if(Ve.qname in Y&&null!==Ve.compute){var ft=Ve.compute(N,T,ae,ae.styleAttrs[Ve.qname],z);null!==ft?ae.styleAttrs[Ve.qname]=ft:(ae.styleAttrs[Ve.qname]=Ve.compute(N,T,ae,Ve.parse(Ve.initial),z),x(B,"Style '"+Ve.qname+"' on element '"+ae.kind+"' cannot be computed"))}}if("none"===ae.styleAttrs[b.byName.display.qname])return null;var Ze=null;null===T?Ze=null===I?[]:[I]:"contents"in y&&(Ze=y.contents);for(var Re=0;null!==Ze&&Re<Ze.length;Re++){var be=C(N,O,D,I,ae,ne,Ze[Re],B,z);null!==be&&ae.contents.push(be.element)}for(var Q in ae.styleAttrs)if(ae.styleAttrs.hasOwnProperty(Q)){var ie=!1;if("span"===ae.kind){var ye=ae.styleAttrs[b.byName.ruby.qname];(ie=("container"===ye||"textContainer"===ye||"baseContainer"===ye)&&-1!==P.indexOf(Q))||(ie="container"!==ye&&Q===b.byName.rubyAlign.qname),ie||(ie=!("textContainer"===ye||"text"===ye)&&Q===b.byName.rubyPosition.qname)}if(!ie){var oe=b.byQName[Q];"applies"in oe&&(ie=-1===oe.applies.indexOf(ae.kind))}ie&&delete ae.styleAttrs[Q]}var ee=ae.styleAttrs[b.byName.ruby.qname];if("p"===ae.kind||"span"===ae.kind&&("textContainer"===ee||"text"===ee)){var X=[];i(ae,X),function m(N){function O(y){return"br"===y.kind||/[\r\n\t ]$/.test(y.text)}function D(y){return"br"===y.kind||"preserve"===y.space&&/^[\r\n]/.test(y.text)}for(var I,T=0;T<N.length;)if("br"!==(I=N[T]).kind&&"preserve"!==I.space){var L=I.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(L)&&(0===T||O(N[T-1]))&&(L=L.substring(1)),I.text=L,0===L.length?N.splice(T,1):T++}else T++;for(T=0;T<N.length;T++)"br"!==(I=N[T]).kind&&"preserve"!==I.space?/[ ]$/.test(I.text)&&(T===N.length-1||D(N[T+1]))&&(I.text=I.text.slice(0,-1)):T++}(X),c(ae)}return"div"===ae.kind&&b.byName.backgroundImage.qname in ae.styleAttrs||"br"===ae.kind||"image"===ae.kind||"contents"in ae&&ae.contents.length>0||"span"===ae.kind&&null!==ae.text||"region"===ae.kind&&"always"===ae.styleAttrs[b.byName.showBackground.qname]?{region_id:ne,element:ae}:null}function i(N,O){if("contents"in N)for(var D=0;D<N.contents.length;D++){var I=N.contents[D],T=I.styleAttrs[b.byName.ruby.qname];"span"===I.kind&&("textContainer"===T||"text"===T)||("contents"in I?i(I,O):("span"===I.kind&&0!==I.text.length||"br"===I.kind)&&O.push(I))}}function c(N){if("br"===N.kind)return!1;if("text"in N)return 0===N.text.length;if("contents"in N){for(var O=N.contents.length;O--;)c(N.contents[O])&&N.contents.splice(O,1);return 0===N.contents.length}}function d(N){this.contents=[],this.aspectRatio=N.aspectRatio,this.lang=N.lang}function f(N){for(var O in this.kind=N.kind||"region",this.lang=N.lang,N.id&&(this.id=N.id),this.styleAttrs={},N.styleAttrs)N.styleAttrs.hasOwnProperty(O)&&(this.styleAttrs[O]=N.styleAttrs[O]);"src"in N&&(this.src=N.src),"type"in N&&(this.type=N.type),"text"in N?this.text=N.text:("region"===this.kind||"contents"in N)&&(this.contents=[]),"space"in N&&(this.space=N.space)}function x(N,O){if(N&&N.error&&N.error(O))throw O}}(p,typeof imscNames>"u"?e(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?e(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?e(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/main.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/main.js ***!
                  \***********************************************/
/*! no static exports found */function(et,p,e){p.generateISD=e(
/*! ./isd */
"./node_modules/imsc/src/main/js/isd.js").generateISD,p.fromXML=e(
/*! ./doc */
"./node_modules/imsc/src/main/js/doc.js").fromXML,p.renderHTML=e(
/*! ./html */
"./node_modules/imsc/src/main/js/html.js").render},"./node_modules/imsc/src/main/js/names.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/names.js ***!
                  \************************************************/
/*! no static exports found */function(et,p,e){var t;(t=p).ns_tt="http://www.w3.org/ns/ttml",t.ns_tts="http://www.w3.org/ns/ttml#styling",t.ns_ttp="http://www.w3.org/ns/ttml#parameter",t.ns_xml="http://www.w3.org/XML/1998/namespace",t.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",t.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",t.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",t.ns_ebutts="urn:ebu:tt:style"},"./node_modules/imsc/src/main/js/styles.js":
/*!*************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/styles.js ***!
                  \*************************************************/
/*! no static exports found */function(et,p,e){!function(t,v,b){function _(m,i,c,d,f,g,S,x){this.name=i,this.ns=m,this.qname=m+" "+i,this.inherit=f,this.animatable=g,this.initial=c,this.applies=d,this.parse=S,this.compute=x}for(var P in t.all=[new _(v.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,b.parseColor,null),new _(v.ns_tts,"color","white",["span"],!0,!0,b.parseColor,null),new _(v.ns_tts,"direction","ltr",["p","span"],!0,!0,function(m){return m},null),new _(v.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(m){return m},null),new _(v.ns_tts,"displayAlign","before",["region"],!1,!0,function(m){return m},null),new _(v.ns_tts,"extent","auto",["tt","region"],!1,!0,function(m){if("auto"===m)return m;var i=m.split(" ");if(2!==i.length)return null;var c=b.parseLength(i[0]),d=b.parseLength(i[1]);return d&&c?{h:d,w:c}:null},function(m,i,c,d,f){var g,S;if("auto"===d)g=new b.ComputedLength(0,1);else if(null===(g=b.toComputedLength(d.h.value,d.h.unit,null,m.dimensions.h,null,m.pxLength.h)))return null;if("auto"===d)S=new b.ComputedLength(1,0);else if(null===(S=b.toComputedLength(d.w.value,d.w.unit,null,m.dimensions.w,null,m.pxLength.w)))return null;return{h:g,w:S}}),new _(v.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(m){for(var i=m.split(","),c=[],d=0;d<i.length;d++)"'"!==i[d].charAt(0)&&'"'!==i[d].charAt(0)&&"default"===i[d]?c.push("monospaceSerif"):c.push(i[d]);return c},null),new _(v.ns_tts,"shear","0%",["p"],!0,!0,b.parseLength,function(m,i,c,d){return"%"!==d.unit?null:Math.abs(d.value)>100?100*Math.sign(d.value):d.value}),new _(v.ns_tts,"fontSize","1c",["span","p"],!0,!0,b.parseLength,function(m,i,c,d,f){return b.toComputedLength(d.value,d.unit,null!==i?i.styleAttrs[t.byName.fontSize.qname]:m.cellLength.h,null!==i?i.styleAttrs[t.byName.fontSize.qname]:m.cellLength.h,m.cellLength.h,m.pxLength.h)}),new _(v.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(m){return m},null),new _(v.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(m){return m},null),new _(v.ns_tts,"lineHeight","normal",["p"],!0,!0,function(m){return"normal"===m?m:b.parseLength(m)},function(m,i,c,d,f){var g;if("normal"===d)g=d;else if(null===(g=b.toComputedLength(d.value,d.unit,c.styleAttrs[t.byName.fontSize.qname],c.styleAttrs[t.byName.fontSize.qname],m.cellLength.h,m.pxLength.h)))return null;return g}),new _(v.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new _(v.ns_tts,"origin","auto",["region"],!1,!0,function(m){if("auto"===m)return m;var i=m.split(" ");if(2!==i.length)return null;var c=b.parseLength(i[0]),d=b.parseLength(i[1]);return d&&c?{h:d,w:c}:null},function(m,i,c,d,f){var g,S;if("auto"===d)g=new b.ComputedLength(0,0);else if(null===(g=b.toComputedLength(d.h.value,d.h.unit,null,m.dimensions.h,null,m.pxLength.h)))return null;if("auto"===d)S=new b.ComputedLength(0,0);else if(null===(S=b.toComputedLength(d.w.value,d.w.unit,null,m.dimensions.w,null,m.pxLength.w)))return null;return{h:g,w:S}}),new _(v.ns_tts,"overflow","hidden",["region"],!1,!0,function(m){return m},null),new _(v.ns_tts,"padding","0px",["region"],!1,!0,function(m){var i=m.split(" ");if(i.length>4)return null;for(var c=[],d=0;d<i.length;d++){var f=b.parseLength(i[d]);if(!f)return null;c.push(f)}return c},function(m,i,c,d,f){var g;if(1===d.length)g=[d[0],d[0],d[0],d[0]];else if(2===d.length)g=[d[0],d[1],d[0],d[1]];else if(3===d.length)g=[d[0],d[1],d[2],d[1]];else{if(4!==d.length)return null;g=[d[0],d[1],d[2],d[3]]}var S=c.styleAttrs[t.byName.writingMode.qname];if("lrtb"===S||"lr"===S)g=[g[0],g[3],g[2],g[1]];else if("rltb"===S||"rl"===S)g=[g[0],g[1],g[2],g[3]];else if("tblr"===S)g=[g[3],g[0],g[1],g[2]];else{if("tbrl"!==S&&"tb"!==S)return null;g=[g[3],g[2],g[1],g[0]]}for(var x=[],A=0;A<g.length;A++)if(0===g[A].value)x[A]=new b.ComputedLength(0,0);else if(x[A]=b.toComputedLength(g[A].value,g[A].unit,c.styleAttrs[t.byName.fontSize.qname],0===A||2===A?c.styleAttrs[t.byName.extent.qname].h:c.styleAttrs[t.byName.extent.qname].w,0===A||2===A?m.cellLength.h:m.cellLength.w,0===A||2===A?m.pxLength.h:m.pxLength.w),null===x[A])return null;return x}),new _(v.ns_tts,"position","top left",["region"],!1,!0,function(m){return b.parsePosition(m)},function(m,i,c,d){var f,g;return null===(f=b.toComputedLength(d.v.offset.value,d.v.offset.unit,null,new b.ComputedLength(-c.styleAttrs[t.byName.extent.qname].h.rw,m.dimensions.h.rh-c.styleAttrs[t.byName.extent.qname].h.rh),null,m.pxLength.h))||("bottom"===d.v.edge&&(f=new b.ComputedLength(-f.rw-c.styleAttrs[t.byName.extent.qname].h.rw,m.dimensions.h.rh-f.rh-c.styleAttrs[t.byName.extent.qname].h.rh)),g=b.toComputedLength(d.h.offset.value,d.h.offset.unit,null,new b.ComputedLength(m.dimensions.w.rw-c.styleAttrs[t.byName.extent.qname].w.rw,-c.styleAttrs[t.byName.extent.qname].w.rh),null,m.pxLength.w),null===f)?null:("right"===d.h.edge&&(g=new b.ComputedLength(m.dimensions.w.rw-g.rw-c.styleAttrs[t.byName.extent.qname].w.rw,-g.rh-c.styleAttrs[t.byName.extent.qname].w.rh)),{h:f,w:g})}),new _(v.ns_tts,"ruby","none",["span"],!1,!0,function(m){return m},null),new _(v.ns_tts,"rubyAlign","center",["span"],!0,!0,function(m){return"center"===m||"spaceAround"===m?m:null},null),new _(v.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(m){return m},null),new _(v.ns_tts,"rubyReserve","none",["p"],!0,!0,function(m){var i=m.split(" "),c=[null,null];if(0===i.length||i.length>2)return null;if("none"!==i[0]&&"both"!==i[0]&&"after"!==i[0]&&"before"!==i[0]&&"outside"!==i[0])return null;if(c[0]=i[0],2===i.length&&"none"!==i[0]){var d=b.parseLength(i[1]);if(!d)return null;c[1]=d}return c},function(m,i,c,d,f){if("none"===d[0])return d;var g;return null===(g=null===d[1]?new b.ComputedLength(.5*c.styleAttrs[t.byName.fontSize.qname].rw,.5*c.styleAttrs[t.byName.fontSize.qname].rh):b.toComputedLength(d[1].value,d[1].unit,c.styleAttrs[t.byName.fontSize.qname],c.styleAttrs[t.byName.fontSize.qname],m.cellLength.h,m.pxLength.h))?null:[d[0],g]}),new _(v.ns_tts,"showBackground","always",["region"],!1,!0,function(m){return m},null),new _(v.ns_tts,"textAlign","start",["p"],!0,!0,function(m){return m},function(m,i,c,d,f){return"left"===d?"start":"right"===d?"end":d}),new _(v.ns_tts,"textCombine","none",["span"],!0,!0,function(m){return"none"===m||"all"===m?m:null},null),new _(v.ns_tts,"textDecoration","none",["span"],!0,!0,function(m){return m.split(" ")},null),new _(v.ns_tts,"textEmphasis","none",["span"],!0,!0,function(m){for(var i=m.split(" "),c={style:null,symbol:null,color:null,position:null},d=0;d<i.length;d++)if("none"===i[d]||"auto"===i[d])c.style=i[d];else if("filled"===i[d]||"open"===i[d])c.style=i[d];else if("circle"===i[d]||"dot"===i[d]||"sesame"===i[d])c.symbol=i[d];else if("current"===i[d])c.color=i[d];else if("outside"===i[d]||"before"===i[d]||"after"===i[d])c.position=i[d];else if(c.color=b.parseColor(i[d]),null===c.color)return null;return null==c.style&&null==c.symbol?c.style="auto":(c.symbol=c.symbol||"circle",c.style=c.style||"filled"),c.position=c.position||"outside",c.color=c.color||"current",c},null),new _(v.ns_tts,"textOutline","none",["span"],!0,!0,function(m){if("none"===m)return m;var i={},c=m.split(" ");if(0===c.length||c.length>2)return null;var d=b.parseColor(c[0]);if(i.color=d,null!==d&&c.shift(),1!==c.length)return null;var f=b.parseLength(c[0]);return f?(i.thickness=f,i):null},function(m,i,c,d,f){if("none"===d)return d;var g={};return g.color=null===d.color?c.styleAttrs[t.byName.color.qname]:d.color,g.thickness=b.toComputedLength(d.thickness.value,d.thickness.unit,c.styleAttrs[t.byName.fontSize.qname],c.styleAttrs[t.byName.fontSize.qname],m.cellLength.h,m.pxLength.h),null===g.thickness?null:g}),new _(v.ns_tts,"textShadow","none",["span"],!0,!0,b.parseTextShadow,function(m,i,c,d){if("none"===d)return d;for(var f=[],g=0;g<d.length;g++){var S={};if(S.x_off=b.toComputedLength(d[g][0].value,d[g][0].unit,null,c.styleAttrs[t.byName.fontSize.qname],null,m.pxLength.w),null===S.x_off||(S.y_off=b.toComputedLength(d[g][1].value,d[g][1].unit,null,c.styleAttrs[t.byName.fontSize.qname],null,m.pxLength.h),null===S.y_off))return null;if(null===d[g][2])S.b_radius=0;else if(S.b_radius=b.toComputedLength(d[g][2].value,d[g][2].unit,null,c.styleAttrs[t.byName.fontSize.qname],null,m.pxLength.h),null===S.b_radius)return null;S.color=null===d[g][3]?c.styleAttrs[t.byName.color.qname]:d[g][3],f.push(S)}return f}),new _(v.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(m){return m},null),new _(v.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(m){return m},null),new _(v.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(m){return m},null),new _(v.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(m){return m},null),new _(v.ns_tts,"zIndex","auto",["region"],!1,!0,function(m){var i;return"auto"===m?i=m:(i=parseInt(m),isNaN(i)&&(i=null)),i},null),new _(v.ns_ebutts,"linePadding","0c",["p"],!0,!1,b.parseLength,function(m,i,c,d,f){return b.toComputedLength(d.value,d.unit,null,null,m.cellLength.w,null)}),new _(v.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(m){return m},null),new _(v.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(m){return m},null),new _(v.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(m){return"true"===m},null),new _(v.ns_itts,"fillLineGap","false",["p"],!0,!0,function(m){return"true"===m},null)],t.byQName={},t.all)t.byQName[t.all[P].qname]=t.all[P];for(var C in t.byName={},t.all)t.byName[t.all[C].name]=t.all[C]}(p,typeof imscNames>"u"?e(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscUtils>"u"?e(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/utils.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/utils.js ***!
                  \************************************************/
/*! no static exports found */function(et,p,e){!function(t){var v=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,b=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,_=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,P={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};t.parseColor=function(m){var i,c=null,d=P[m.toLowerCase()];return void 0!==d?c=d:null!==(i=v.exec(m))?c=[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16),void 0!==i[4]?parseInt(i[4],16):255]:null!==(i=b.exec(m))?c=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3]),255]:null!==(i=_.exec(m))&&(c=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3]),parseInt(i[4])]),c};var C=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;t.parseLength=function(m){var i,c=null;return null!==(i=C.exec(m))&&(c={value:parseFloat(i[1]),unit:i[2]}),c},t.parseTextShadow=function(m){for(var i=m.match(/([^\(,\)]|\([^\)]+\))+/g),c=[],d=0;d<i.length;d++){var f=i[d].split(" ");if(1===f.length&&"none"===f[0])return"none";if(f.length>1&&f.length<5){var g=[null,null,null,null],S=t.parseLength(f.shift());if(null===S||(g[0]=S,null===(S=t.parseLength(f.shift()))))return null;if(g[1]=S,0===f.length){c.push(g);continue}if(null!==(S=t.parseLength(f[0]))&&(g[2]=S,f.shift()),0===f.length){c.push(g);continue}var x=t.parseColor(f[0]);if(null===x)return null;g[3]=x,c.push(g)}}return c},t.parsePosition=function(m){var i=m.split(" "),c=function(N){return"center"===N||"left"===N||"top"===N||"bottom"===N||"right"===N};if(i.length>4)return null;for(var d=0;d<i.length;d++)if(!c(i[d])){var f=t.parseLength(i[d]);if(null===f)return null;i[d]=f}for(var g={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},S=0;S<i.length;){var x=i[S++];if(c(x)){var A={value:0,unit:"%"};2!==i.length&&S<i.length&&!c(i[S])&&(A=i[S++]),"right"===x?(g.h.edge=x,g.h.offset=A):"bottom"===x?(g.v.edge=x,g.v.offset=A):"left"===x?g.h.offset=A:"top"===x&&(g.v.offset=A)}else{if(1!==i.length&&2!==i.length)return null;1===S?g.h.offset=x:g.v.offset=x}}return g},t.ComputedLength=function(m,i){this.rw=m,this.rh=i},t.ComputedLength.prototype.toUsedLength=function(m,i){return m*this.rw+i*this.rh},t.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},t.toComputedLength=function(m,i,c,d,f,g){return"%"===i&&d?new t.ComputedLength(d.rw*m/100,d.rh*m/100):"em"===i&&c?new t.ComputedLength(c.rw*m,c.rh*m):"c"===i&&f?new t.ComputedLength(m*f.rw,m*f.rh):"px"===i&&g?new t.ComputedLength(m*g.rw,m*g.rh):"rh"===i?new t.ComputedLength(0,m/100):"rw"===i?new t.ComputedLength(m/100,0):null}}(p)},"./node_modules/inherits/inherits_browser.js":
/*!***************************************************!*\
                  !*** ./node_modules/inherits/inherits_browser.js ***!
                  \***************************************************/
/*! no static exports found */function(et,p){et.exports="function"==typeof Object.create?function(t,v){v&&(t.super_=v,t.prototype=Object.create(v.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,v){if(v){t.super_=v;var b=function(){};b.prototype=v.prototype,t.prototype=new b,t.prototype.constructor=t}}},"./node_modules/is-alphabetical/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/is-alphabetical/index.js ***!
                  \***********************************************/
/*! no static exports found */function(et,p,e){"use strict";et.exports=function t(v){var b="string"==typeof v?v.charCodeAt(0):v;return b>=97&&b<=122||b>=65&&b<=90}},"./node_modules/is-alphanumerical/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/is-alphanumerical/index.js ***!
                  \*************************************************/
/*! no static exports found */function(et,p,e){"use strict";var t=e(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),v=e(
/*! is-decimal */
"./node_modules/is-decimal/index.js");et.exports=function b(_){return t(_)||v(_)}},"./node_modules/is-decimal/index.js":
/*!******************************************!*\
                  !*** ./node_modules/is-decimal/index.js ***!
                  \******************************************/
/*! no static exports found */function(et,p,e){"use strict";et.exports=function t(v){var b="string"==typeof v?v.charCodeAt(0):v;return b>=48&&b<=57}},"./node_modules/isarray/index.js":
/*!***************************************!*\
                  !*** ./node_modules/isarray/index.js ***!
                  \***************************************/
/*! no static exports found */function(et,p){var e={}.toString;et.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},"./node_modules/path-browserify/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/path-browserify/index.js ***!
                  \***********************************************/
/*! no static exports found */function(et,p,e){(function(t){function v(C,m){for(var i=0,c=C.length-1;c>=0;c--){var d=C[c];"."===d?C.splice(c,1):".."===d?(C.splice(c,1),i++):i&&(C.splice(c,1),i--)}if(m)for(;i--;i)C.unshift("..");return C}function _(C,m){if(C.filter)return C.filter(m);for(var i=[],c=0;c<C.length;c++)m(C[c],c,C)&&i.push(C[c]);return i}p.resolve=function(){for(var C="",m=!1,i=arguments.length-1;i>=-1&&!m;i--){var c=i>=0?arguments[i]:t.cwd();if("string"!=typeof c)throw new TypeError("Arguments to path.resolve must be strings");c&&(C=c+"/"+C,m="/"===c.charAt(0))}return(m?"/":"")+(C=v(_(C.split("/"),function(d){return!!d}),!m).join("/"))||"."},p.normalize=function(C){var m=p.isAbsolute(C),i="/"===P(C,-1);return!(C=v(_(C.split("/"),function(c){return!!c}),!m).join("/"))&&!m&&(C="."),C&&i&&(C+="/"),(m?"/":"")+C},p.isAbsolute=function(C){return"/"===C.charAt(0)},p.join=function(){var C=Array.prototype.slice.call(arguments,0);return p.normalize(_(C,function(m,i){if("string"!=typeof m)throw new TypeError("Arguments to path.join must be strings");return m}).join("/"))},p.relative=function(C,m){function i(A){for(var N=0;N<A.length&&""===A[N];N++);for(var O=A.length-1;O>=0&&""===A[O];O--);return N>O?[]:A.slice(N,O-N+1)}C=p.resolve(C).substr(1),m=p.resolve(m).substr(1);for(var c=i(C.split("/")),d=i(m.split("/")),f=Math.min(c.length,d.length),g=f,S=0;S<f;S++)if(c[S]!==d[S]){g=S;break}var x=[];for(S=g;S<c.length;S++)x.push("..");return(x=x.concat(d.slice(g))).join("/")},p.sep="/",p.delimiter=":",p.dirname=function(C){if("string"!=typeof C&&(C+=""),0===C.length)return".";for(var m=C.charCodeAt(0),i=47===m,c=-1,d=!0,f=C.length-1;f>=1;--f)if(47===(m=C.charCodeAt(f))){if(!d){c=f;break}}else d=!1;return-1===c?i?"/":".":i&&1===c?"/":C.slice(0,c)},p.basename=function(C,m){var i=function b(C){"string"!=typeof C&&(C+="");var d,m=0,i=-1,c=!0;for(d=C.length-1;d>=0;--d)if(47===C.charCodeAt(d)){if(!c){m=d+1;break}}else-1===i&&(c=!1,i=d+1);return-1===i?"":C.slice(m,i)}(C);return m&&i.substr(-1*m.length)===m&&(i=i.substr(0,i.length-m.length)),i},p.extname=function(C){"string"!=typeof C&&(C+="");for(var m=-1,i=0,c=-1,d=!0,f=0,g=C.length-1;g>=0;--g){var S=C.charCodeAt(g);if(47!==S)-1===c&&(d=!1,c=g+1),46===S?-1===m?m=g:1!==f&&(f=1):-1!==m&&(f=-1);else if(!d){i=g+1;break}}return-1===m||-1===c||0===f||1===f&&m===c-1&&m===i+1?"":C.slice(m,c)};var P=function(C,m,i){return C.substr(m,i)}}).call(this,e(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process-nextick-args/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/process-nextick-args/index.js ***!
                  \****************************************************/
/*! no static exports found */function(et,p,e){"use strict";(function(t){et.exports=typeof t>"u"||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?{nextTick:function v(b,_,P,C){if("function"!=typeof b)throw new TypeError('"callback" argument must be a function');var i,c,m=arguments.length;switch(m){case 0:case 1:return t.nextTick(b);case 2:return t.nextTick(function(){b.call(null,_)});case 3:return t.nextTick(function(){b.call(null,_,P)});case 4:return t.nextTick(function(){b.call(null,_,P,C)});default:for(i=new Array(m-1),c=0;c<i.length;)i[c++]=arguments[c];return t.nextTick(function(){b.apply(null,i)})}}}:t}).call(this,e(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process/browser.js":
/*!*****************************************!*\
                  !*** ./node_modules/process/browser.js ***!
                  \*****************************************/
/*! no static exports found */function(et,p){var t,v,e=et.exports={};function b(){throw new Error("setTimeout has not been defined")}function _(){throw new Error("clearTimeout has not been defined")}function P(A){if(t===setTimeout)return setTimeout(A,0);if((t===b||!t)&&setTimeout)return t=setTimeout,setTimeout(A,0);try{return t(A,0)}catch{try{return t.call(null,A,0)}catch{return t.call(this,A,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:b}catch{t=b}try{v="function"==typeof clearTimeout?clearTimeout:_}catch{v=_}}();var c,m=[],i=!1,d=-1;function f(){!i||!c||(i=!1,c.length?m=c.concat(m):d=-1,m.length&&g())}function g(){if(!i){var A=P(f);i=!0;for(var N=m.length;N;){for(c=m,m=[];++d<N;)c&&c[d].run();d=-1,N=m.length}c=null,i=!1,function C(A){if(v===clearTimeout)return clearTimeout(A);if((v===_||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(A);try{return v(A)}catch{try{return v.call(null,A)}catch{return v.call(this,A)}}}(A)}}function S(A,N){this.fun=A,this.array=N}function x(){}e.nextTick=function(A){var N=new Array(arguments.length-1);if(arguments.length>1)for(var O=1;O<arguments.length;O++)N[O-1]=arguments[O];m.push(new S(A,N)),1===m.length&&!i&&P(g)},S.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=x,e.addListener=x,e.once=x,e.off=x,e.removeListener=x,e.removeAllListeners=x,e.emit=x,e.prependListener=x,e.prependOnceListener=x,e.listeners=function(A){return[]},e.binding=function(A){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(A){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},"./node_modules/readable-stream/duplex-browser.js":
/*!********************************************************!*\
                  !*** ./node_modules/readable-stream/duplex-browser.js ***!
                  \********************************************************/
/*! no static exports found */function(et,p,e){et.exports=e(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js")},"./node_modules/readable-stream/lib/_stream_duplex.js":
/*!************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_duplex.js ***!
                  \************************************************************/
/*! no static exports found */function(et,p,e){"use strict";var t=e(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js"),v=Object.keys||function(g){var S=[];for(var x in g)S.push(x);return S};et.exports=c;var b=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));b.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var _=e(
/*! ./_stream_readable */
"./node_modules/readable-stream/lib/_stream_readable.js"),P=e(
/*! ./_stream_writable */
"./node_modules/readable-stream/lib/_stream_writable.js");b.inherits(c,_);for(var C=v(P.prototype),m=0;m<C.length;m++){var i=C[m];c.prototype[i]||(c.prototype[i]=P.prototype[i])}function c(g){if(!(this instanceof c))return new c(g);_.call(this,g),P.call(this,g),g&&!1===g.readable&&(this.readable=!1),g&&!1===g.writable&&(this.writable=!1),this.allowHalfOpen=!0,g&&!1===g.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||t.nextTick(f,this)}function f(g){g.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),c.prototype._destroy=function(g,S){this.push(null),this.end(),t.nextTick(S,g)}},"./node_modules/readable-stream/lib/_stream_passthrough.js":
/*!*****************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_passthrough.js ***!
                  \*****************************************************************/
/*! no static exports found */function(et,p,e){"use strict";et.exports=b;var t=e(
/*! ./_stream_transform */
"./node_modules/readable-stream/lib/_stream_transform.js"),v=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function b(_){if(!(this instanceof b))return new b(_);t.call(this,_)}v.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),v.inherits(b,t),b.prototype._transform=function(_,P,C){C(null,_)}},"./node_modules/readable-stream/lib/_stream_readable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_readable.js ***!
                  \**************************************************************/
/*! no static exports found */function(et,p,e){"use strict";(function(t,v){var b=e(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");et.exports=y;var P,_=e(
/*! isarray */
"./node_modules/isarray/index.js");y.ReadableState=L,e(
/*! events */
"./node_modules/events/events.js");var m=function(be,Q){return be.listeners(Q).length},i=e(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),c=e(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,d=t.Uint8Array||function(){};var S=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));S.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var x=e(
/*! util */
0),A=void 0;A=x&&x.debuglog?x.debuglog("stream"):function(){};var D,N=e(
/*! ./internal/streams/BufferList */
"./node_modules/readable-stream/lib/internal/streams/BufferList.js"),O=e(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");S.inherits(y,i);var I=["error","close","destroy","pause","resume"];function L(be,Q){var ie=Q instanceof(P=P||e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"));this.objectMode=!!(be=be||{}).objectMode,ie&&(this.objectMode=this.objectMode||!!be.readableObjectMode);var ye=be.highWaterMark,oe=be.readableHighWaterMark;this.highWaterMark=ye||0===ye?ye:ie&&(oe||0===oe)?oe:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new N,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=be.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,be.encoding&&(D||(D=e(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this.decoder=new D(be.encoding),this.encoding=be.encoding)}function y(be){if(P=P||e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(this instanceof y))return new y(be);this._readableState=new L(be,this),this.readable=!0,be&&("function"==typeof be.read&&(this._read=be.read),"function"==typeof be.destroy&&(this._destroy=be.destroy)),i.call(this)}function B(be,Q,ie,ye,oe){var X,ee=be._readableState;return null===Q?(ee.reading=!1,function G(be,Q){if(!Q.ended){if(Q.decoder){var ie=Q.decoder.end();ie&&ie.length&&(Q.buffer.push(ie),Q.length+=Q.objectMode?1:ie.length)}Q.ended=!0,Se(be)}}(be,ee)):(oe||(X=function ne(be,Q){var ie;return!function g(be){return c.isBuffer(be)||be instanceof d}(Q)&&"string"!=typeof Q&&void 0!==Q&&!be.objectMode&&(ie=new TypeError("Invalid non-string/buffer chunk")),ie}(ee,Q)),X?be.emit("error",X):ee.objectMode||Q&&Q.length>0?("string"!=typeof Q&&!ee.objectMode&&Object.getPrototypeOf(Q)!==c.prototype&&(Q=function f(be){return c.from(be)}(Q)),ye?ee.endEmitted?be.emit("error",new Error("stream.unshift() after end event")):z(be,ee,Q,!0):ee.ended?be.emit("error",new Error("stream.push() after EOF")):(ee.reading=!1,ee.decoder&&!ie?(Q=ee.decoder.write(Q),ee.objectMode||0!==Q.length?z(be,ee,Q,!1):ge(be,ee)):z(be,ee,Q,!1))):ye||(ee.reading=!1)),function ae(be){return!be.ended&&(be.needReadable||be.length<be.highWaterMark||0===be.length)}(ee)}function z(be,Q,ie,ye){Q.flowing&&0===Q.length&&!Q.sync?(be.emit("data",ie),be.read(0)):(Q.length+=Q.objectMode?1:ie.length,ye?Q.buffer.unshift(ie):Q.buffer.push(ie),Q.needReadable&&Se(be)),ge(be,Q)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(be){this._readableState&&(this._readableState.destroyed=be)}}),y.prototype.destroy=O.destroy,y.prototype._undestroy=O.undestroy,y.prototype._destroy=function(be,Q){this.push(null),Q(be)},y.prototype.push=function(be,Q){var ye,ie=this._readableState;return ie.objectMode?ye=!0:"string"==typeof be&&((Q=Q||ie.defaultEncoding)!==ie.encoding&&(be=c.from(be,Q),Q=""),ye=!0),B(this,be,Q,!1,ye)},y.prototype.unshift=function(be){return B(this,be,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(be){return D||(D=e(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this._readableState.decoder=new D(be),this._readableState.encoding=be,this};var Fe=8388608;function le(be,Q){return be<=0||0===Q.length&&Q.ended?0:Q.objectMode?1:be!=be?Q.flowing&&Q.length?Q.buffer.head.data.length:Q.length:(be>Q.highWaterMark&&(Q.highWaterMark=function Y(be){return be>=Fe?be=Fe:(be--,be|=be>>>1,be|=be>>>2,be|=be>>>4,be|=be>>>8,be|=be>>>16,be++),be}(be)),be<=Q.length?be:Q.ended?Q.length:(Q.needReadable=!0,0))}function Se(be){var Q=be._readableState;Q.needReadable=!1,Q.emittedReadable||(A("emitReadable",Q.flowing),Q.emittedReadable=!0,Q.sync?b.nextTick(ce,be):ce(be))}function ce(be){A("emit readable"),be.emit("readable"),he(be)}function ge(be,Q){Q.readingMore||(Q.readingMore=!0,b.nextTick(Ie,be,Q))}function Ie(be,Q){for(var ie=Q.length;!Q.reading&&!Q.flowing&&!Q.ended&&Q.length<Q.highWaterMark&&(A("maybeReadMore read 0"),be.read(0),ie!==Q.length);)ie=Q.length;Q.readingMore=!1}function pe(be){A("readable nexttick read 0"),be.read(0)}function ke(be,Q){Q.reading||(A("resume read 0"),be.read(0)),Q.resumeScheduled=!1,Q.awaitDrain=0,be.emit("resume"),he(be),Q.flowing&&!Q.reading&&be.read(0)}function he(be){var Q=be._readableState;for(A("flow",Q.flowing);Q.flowing&&null!==be.read(););}function we(be,Q){return 0===Q.length?null:(Q.objectMode?ie=Q.buffer.shift():!be||be>=Q.length?(ie=Q.decoder?Q.buffer.join(""):1===Q.buffer.length?Q.buffer.head.data:Q.buffer.concat(Q.length),Q.buffer.clear()):ie=function Te(be,Q,ie){var ye;return be<Q.head.data.length?(ye=Q.head.data.slice(0,be),Q.head.data=Q.head.data.slice(be)):ye=be===Q.head.data.length?Q.shift():ie?function Oe(be,Q){var ie=Q.head,ye=1,oe=ie.data;for(be-=oe.length;ie=ie.next;){var ee=ie.data,X=be>ee.length?ee.length:be;if(oe+=X===ee.length?ee:ee.slice(0,be),0==(be-=X)){X===ee.length?(++ye,Q.head=ie.next?ie.next:Q.tail=null):(Q.head=ie,ie.data=ee.slice(X));break}++ye}return Q.length-=ye,oe}(be,Q):function Ve(be,Q){var ie=c.allocUnsafe(be),ye=Q.head,oe=1;for(ye.data.copy(ie),be-=ye.data.length;ye=ye.next;){var ee=ye.data,X=be>ee.length?ee.length:be;if(ee.copy(ie,ie.length-be,0,X),0==(be-=X)){X===ee.length?(++oe,Q.head=ye.next?ye.next:Q.tail=null):(Q.head=ye,ye.data=ee.slice(X));break}++oe}return Q.length-=oe,ie}(be,Q),ye}(be,Q.buffer,Q.decoder),ie);var ie}function ft(be){var Q=be._readableState;if(Q.length>0)throw new Error('"endReadable()" called on non-empty stream');Q.endEmitted||(Q.ended=!0,b.nextTick(Ze,Q,be))}function Ze(be,Q){!be.endEmitted&&0===be.length&&(be.endEmitted=!0,Q.readable=!1,Q.emit("end"))}function Re(be,Q){for(var ie=0,ye=be.length;ie<ye;ie++)if(be[ie]===Q)return ie;return-1}y.prototype.read=function(be){A("read",be),be=parseInt(be,10);var Q=this._readableState,ie=be;if(0!==be&&(Q.emittedReadable=!1),0===be&&Q.needReadable&&(Q.length>=Q.highWaterMark||Q.ended))return A("read: emitReadable",Q.length,Q.ended),0===Q.length&&Q.ended?ft(this):Se(this),null;if(0===(be=le(be,Q))&&Q.ended)return 0===Q.length&&ft(this),null;var oe,ye=Q.needReadable;return A("need readable",ye),(0===Q.length||Q.length-be<Q.highWaterMark)&&A("length less than watermark",ye=!0),Q.ended||Q.reading?A("reading or ended",ye=!1):ye&&(A("do read"),Q.reading=!0,Q.sync=!0,0===Q.length&&(Q.needReadable=!0),this._read(Q.highWaterMark),Q.sync=!1,Q.reading||(be=le(ie,Q))),null===(oe=be>0?we(be,Q):null)?(Q.needReadable=!0,be=0):Q.length-=be,0===Q.length&&(Q.ended||(Q.needReadable=!0),ie!==be&&Q.ended&&ft(this)),null!==oe&&this.emit("data",oe),oe},y.prototype._read=function(be){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(be,Q){var ie=this,ye=this._readableState;switch(ye.pipesCount){case 0:ye.pipes=be;break;case 1:ye.pipes=[ye.pipes,be];break;default:ye.pipes.push(be)}ye.pipesCount+=1,A("pipe count=%d opts=%j",ye.pipesCount,Q);var ee=Q&&!1===Q.end||be===v.stdout||be===v.stderr?Xe:$;function X(tt,gt){A("onunpipe"),tt===ie&&gt&&!1===gt.hasUnpiped&&(gt.hasUnpiped=!0,function q(){A("cleanup"),be.removeListener("close",Ge),be.removeListener("finish",ct),be.removeListener("drain",re),be.removeListener("error",Ee),be.removeListener("unpipe",X),ie.removeListener("end",$),ie.removeListener("end",Xe),ie.removeListener("data",xe),J=!0,ye.awaitDrain&&(!be._writableState||be._writableState.needDrain)&&re()}())}function $(){A("onend"),be.end()}ye.endEmitted?b.nextTick(ee):ie.once("end",ee),be.on("unpipe",X);var re=function Ce(be){return function(){var Q=be._readableState;A("pipeOnDrain",Q.awaitDrain),Q.awaitDrain&&Q.awaitDrain--,0===Q.awaitDrain&&m(be,"data")&&(Q.flowing=!0,he(be))}}(ie);be.on("drain",re);var J=!1;var _e=!1;function xe(tt){A("ondata"),_e=!1,!1===be.write(tt)&&!_e&&((1===ye.pipesCount&&ye.pipes===be||ye.pipesCount>1&&-1!==Re(ye.pipes,be))&&!J&&(A("false write response, pause",ie._readableState.awaitDrain),ie._readableState.awaitDrain++,_e=!0),ie.pause())}function Ee(tt){A("onerror",tt),Xe(),be.removeListener("error",Ee),0===m(be,"error")&&be.emit("error",tt)}function Ge(){be.removeListener("finish",ct),Xe()}function ct(){A("onfinish"),be.removeListener("close",Ge),Xe()}function Xe(){A("unpipe"),ie.unpipe(be)}return ie.on("data",xe),function T(be,Q,ie){if("function"==typeof be.prependListener)return be.prependListener(Q,ie);be._events&&be._events[Q]?_(be._events[Q])?be._events[Q].unshift(ie):be._events[Q]=[ie,be._events[Q]]:be.on(Q,ie)}(be,"error",Ee),be.once("close",Ge),be.once("finish",ct),be.emit("pipe",ie),ye.flowing||(A("pipe resume"),ie.resume()),be},y.prototype.unpipe=function(be){var Q=this._readableState,ie={hasUnpiped:!1};if(0===Q.pipesCount)return this;if(1===Q.pipesCount)return be&&be!==Q.pipes||(be||(be=Q.pipes),Q.pipes=null,Q.pipesCount=0,Q.flowing=!1,be&&be.emit("unpipe",this,ie)),this;if(!be){var ye=Q.pipes,oe=Q.pipesCount;Q.pipes=null,Q.pipesCount=0,Q.flowing=!1;for(var ee=0;ee<oe;ee++)ye[ee].emit("unpipe",this,ie);return this}var X=Re(Q.pipes,be);return-1===X||(Q.pipes.splice(X,1),Q.pipesCount-=1,1===Q.pipesCount&&(Q.pipes=Q.pipes[0]),be.emit("unpipe",this,ie)),this},y.prototype.addListener=y.prototype.on=function(be,Q){var ie=i.prototype.on.call(this,be,Q);if("data"===be)!1!==this._readableState.flowing&&this.resume();else if("readable"===be){var ye=this._readableState;!ye.endEmitted&&!ye.readableListening&&(ye.readableListening=ye.needReadable=!0,ye.emittedReadable=!1,ye.reading?ye.length&&Se(this):b.nextTick(pe,this))}return ie},y.prototype.resume=function(){var be=this._readableState;return be.flowing||(A("resume"),be.flowing=!0,function Ae(be,Q){Q.resumeScheduled||(Q.resumeScheduled=!0,b.nextTick(ke,be,Q))}(this,be)),this},y.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(be){var Q=this,ie=this._readableState,ye=!1;for(var oe in be.on("end",function(){if(A("wrapped end"),ie.decoder&&!ie.ended){var X=ie.decoder.end();X&&X.length&&Q.push(X)}Q.push(null)}),be.on("data",function(X){A("wrapped data"),ie.decoder&&(X=ie.decoder.write(X)),ie.objectMode&&null==X||!(ie.objectMode||X&&X.length)||Q.push(X)||(ye=!0,be.pause())}),be)void 0===this[oe]&&"function"==typeof be[oe]&&(this[oe]=function(X){return function(){return be[X].apply(be,arguments)}}(oe));for(var ee=0;ee<I.length;ee++)be.on(I[ee],this.emit.bind(this,I[ee]));return this._read=function(X){A("wrapped _read",X),ye&&(ye=!1,be.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=we}).call(this,e(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),e(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/readable-stream/lib/_stream_transform.js":
/*!***************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_transform.js ***!
                  \***************************************************************/
/*! no static exports found */function(et,p,e){"use strict";et.exports=_;var t=e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),v=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function b(m,i){var c=this._transformState;c.transforming=!1;var d=c.writecb;if(!d)return this.emit("error",new Error("write callback called multiple times"));c.writechunk=null,c.writecb=null,null!=i&&this.push(i),d(m);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function _(m){if(!(this instanceof _))return new _(m);t.call(this,m),this._transformState={afterTransform:b.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,m&&("function"==typeof m.transform&&(this._transform=m.transform),"function"==typeof m.flush&&(this._flush=m.flush)),this.on("prefinish",P)}function P(){var m=this;"function"==typeof this._flush?this._flush(function(i,c){C(m,i,c)}):C(this,null,null)}function C(m,i,c){if(i)return m.emit("error",i);if(null!=c&&m.push(c),m._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(m._transformState.transforming)throw new Error("Calling transform done when still transforming");return m.push(null)}v.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),v.inherits(_,t),_.prototype.push=function(m,i){return this._transformState.needTransform=!1,t.prototype.push.call(this,m,i)},_.prototype._transform=function(m,i,c){throw new Error("_transform() is not implemented")},_.prototype._write=function(m,i,c){var d=this._transformState;if(d.writecb=c,d.writechunk=m,d.writeencoding=i,!d.transforming){var f=this._readableState;(d.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},_.prototype._read=function(m){var i=this._transformState;null!==i.writechunk&&i.writecb&&!i.transforming?(i.transforming=!0,this._transform(i.writechunk,i.writeencoding,i.afterTransform)):i.needTransform=!0},_.prototype._destroy=function(m,i){var c=this;t.prototype._destroy.call(this,m,function(d){i(d),c.emit("close")})}},"./node_modules/readable-stream/lib/_stream_writable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_writable.js ***!
                  \**************************************************************/
/*! no static exports found */function(et,p,e){"use strict";(function(t,v,b){var _=e(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function C(ke){var he=this;this.next=null,this.entry=null,this.finish=function(){!function Ae(ke,he,we){var Te=ke.entry;for(ke.entry=null;Te;){var Oe=Te.callback;he.pendingcb--,Oe(we),Te=Te.next}he.corkedRequestsFree?he.corkedRequestsFree.next=ke:he.corkedRequestsFree=ke}(he,ke)}}et.exports=T;var i,m=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?v:_.nextTick;T.WritableState=D;var c=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));c.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var d={deprecate:e(
/*! util-deprecate */
"./node_modules/util-deprecate/browser.js")},f=e(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),g=e(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,S=b.Uint8Array||function(){};var I,N=e(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");function O(){}function D(ke,he){i=i||e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js");var we=he instanceof i;this.objectMode=!!(ke=ke||{}).objectMode,we&&(this.objectMode=this.objectMode||!!ke.writableObjectMode);var Te=ke.highWaterMark,Oe=ke.writableHighWaterMark;this.highWaterMark=Te||0===Te?Te:we&&(Oe||0===Oe)?Oe:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===ke.decodeStrings),this.defaultEncoding=ke.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ze){!function Y(ke,he){var we=ke._writableState,Te=we.sync,Oe=we.writecb;if(function Fe(ke){ke.writing=!1,ke.writecb=null,ke.length-=ke.writelen,ke.writelen=0}(we),he)!function ae(ke,he,we,Te,Oe){--he.pendingcb,we?(_.nextTick(Oe,Te),_.nextTick(Ce,ke,he),ke._writableState.errorEmitted=!0,ke.emit("error",Te)):(Oe(Te),ke._writableState.errorEmitted=!0,ke.emit("error",Te),Ce(ke,he))}(ke,we,Te,he,Oe);else{var Ve=ce(we);!Ve&&!we.corked&&!we.bufferProcessing&&we.bufferedRequest&&Se(ke,we),Te?m(le,ke,we,Ve,Oe):le(ke,we,Ve,Oe)}}(he,Ze)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new C(this)}function T(ke){if(i=i||e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(I.call(T,this)||this instanceof i))return new T(ke);this._writableState=new D(ke,this),this.writable=!0,ke&&("function"==typeof ke.write&&(this._write=ke.write),"function"==typeof ke.writev&&(this._writev=ke.writev),"function"==typeof ke.destroy&&(this._destroy=ke.destroy),"function"==typeof ke.final&&(this._final=ke.final)),f.call(this)}function z(ke,he,we,Te,Oe,Ve){if(!we){var ft=function B(ke,he,we){return!ke.objectMode&&!1!==ke.decodeStrings&&"string"==typeof he&&(he=g.from(he,we)),he}(he,Te,Oe);Te!==ft&&(we=!0,Oe="buffer",Te=ft)}var Ze=he.objectMode?1:Te.length;he.length+=Ze;var Re=he.length<he.highWaterMark;if(Re||(he.needDrain=!0),he.writing||he.corked){var be=he.lastBufferedRequest;he.lastBufferedRequest={chunk:Te,encoding:Oe,isBuf:we,callback:Ve,next:null},be?be.next=he.lastBufferedRequest:he.bufferedRequest=he.lastBufferedRequest,he.bufferedRequestCount+=1}else ne(ke,he,!1,Ze,Te,Oe,Ve);return Re}function ne(ke,he,we,Te,Oe,Ve,ft){he.writelen=Te,he.writecb=ft,he.writing=!0,he.sync=!0,we?ke._writev(Oe,he.onwrite):ke._write(Oe,Ve,he.onwrite),he.sync=!1}function le(ke,he,we,Te){we||function G(ke,he){0===he.length&&he.needDrain&&(he.needDrain=!1,ke.emit("drain"))}(ke,he),he.pendingcb--,Te(),Ce(ke,he)}function Se(ke,he){he.bufferProcessing=!0;var we=he.bufferedRequest;if(ke._writev&&we&&we.next){var Oe=new Array(he.bufferedRequestCount),Ve=he.corkedRequestsFree;Ve.entry=we;for(var ft=0,Ze=!0;we;)Oe[ft]=we,we.isBuf||(Ze=!1),we=we.next,ft+=1;Oe.allBuffers=Ze,ne(ke,he,!0,he.length,Oe,"",Ve.finish),he.pendingcb++,he.lastBufferedRequest=null,Ve.next?(he.corkedRequestsFree=Ve.next,Ve.next=null):he.corkedRequestsFree=new C(he),he.bufferedRequestCount=0}else{for(;we;){var Re=we.chunk;if(ne(ke,he,!1,he.objectMode?1:Re.length,Re,we.encoding,we.callback),we=we.next,he.bufferedRequestCount--,he.writing)break}null===we&&(he.lastBufferedRequest=null)}he.bufferedRequest=we,he.bufferProcessing=!1}function ce(ke){return ke.ending&&0===ke.length&&null===ke.bufferedRequest&&!ke.finished&&!ke.writing}function ge(ke,he){ke._final(function(we){he.pendingcb--,we&&ke.emit("error",we),he.prefinished=!0,ke.emit("prefinish"),Ce(ke,he)})}function Ce(ke,he){var we=ce(he);return we&&(function Ie(ke,he){!he.prefinished&&!he.finalCalled&&("function"==typeof ke._final?(he.pendingcb++,he.finalCalled=!0,_.nextTick(ge,ke,he)):(he.prefinished=!0,ke.emit("prefinish")))}(ke,he),0===he.pendingcb&&(he.finished=!0,ke.emit("finish"))),we}c.inherits(T,f),D.prototype.getBuffer=function(){for(var he=this.bufferedRequest,we=[];he;)we.push(he),he=he.next;return we},function(){try{Object.defineProperty(D.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(I=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(ke){return!!I.call(this,ke)||this===T&&ke&&ke._writableState instanceof D}})):I=function(ke){return ke instanceof this},T.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},T.prototype.write=function(ke,he,we){var Te=this._writableState,Oe=!1,Ve=!Te.objectMode&&function A(ke){return g.isBuffer(ke)||ke instanceof S}(ke);return Ve&&!g.isBuffer(ke)&&(ke=function x(ke){return g.from(ke)}(ke)),"function"==typeof he&&(we=he,he=null),Ve?he="buffer":he||(he=Te.defaultEncoding),"function"!=typeof we&&(we=O),Te.ended?function L(ke,he){var we=new Error("write after end");ke.emit("error",we),_.nextTick(he,we)}(this,we):(Ve||function y(ke,he,we,Te){var Oe=!0,Ve=!1;return null===we?Ve=new TypeError("May not write null values to stream"):"string"!=typeof we&&void 0!==we&&!he.objectMode&&(Ve=new TypeError("Invalid non-string/buffer chunk")),Ve&&(ke.emit("error",Ve),_.nextTick(Te,Ve),Oe=!1),Oe}(this,Te,ke,we))&&(Te.pendingcb++,Oe=z(this,Te,Ve,ke,he,we)),Oe},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var ke=this._writableState;ke.corked&&(ke.corked--,!ke.writing&&!ke.corked&&!ke.finished&&!ke.bufferProcessing&&ke.bufferedRequest&&Se(this,ke))},T.prototype.setDefaultEncoding=function(he){if("string"==typeof he&&(he=he.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((he+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+he);return this._writableState.defaultEncoding=he,this},Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(ke,he,we){we(new Error("_write() is not implemented"))},T.prototype._writev=null,T.prototype.end=function(ke,he,we){var Te=this._writableState;"function"==typeof ke?(we=ke,ke=null,he=null):"function"==typeof he&&(we=he,he=null),null!=ke&&this.write(ke,he),Te.corked&&(Te.corked=1,this.uncork()),!Te.ending&&!Te.finished&&function pe(ke,he,we){he.ending=!0,Ce(ke,he),we&&(he.finished?_.nextTick(we):ke.once("finish",we)),he.ended=!0,ke.writable=!1}(this,Te,we)},Object.defineProperty(T.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(ke){this._writableState&&(this._writableState.destroyed=ke)}}),T.prototype.destroy=N.destroy,T.prototype._undestroy=N.undestroy,T.prototype._destroy=function(ke,he){this.end(),he(ke)}}).call(this,e(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),e(
/*! ./../../timers-browserify/main.js */
"./node_modules/timers-browserify/main.js").setImmediate,e(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/readable-stream/lib/internal/streams/BufferList.js":
/*!*************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/BufferList.js ***!
                  \*************************************************************************/
/*! no static exports found */function(et,p,e){"use strict";var v=e(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,b=e(
/*! util */
1);function _(P,C,m){P.copy(C,m)}et.exports=function(){function P(){(function t(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")})(this,P),this.head=null,this.tail=null,this.length=0}return P.prototype.push=function(m){var i={data:m,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length},P.prototype.unshift=function(m){var i={data:m,next:this.head};0===this.length&&(this.tail=i),this.head=i,++this.length},P.prototype.shift=function(){if(0!==this.length){var m=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,m}},P.prototype.clear=function(){this.head=this.tail=null,this.length=0},P.prototype.join=function(m){if(0===this.length)return"";for(var i=this.head,c=""+i.data;i=i.next;)c+=m+i.data;return c},P.prototype.concat=function(m){if(0===this.length)return v.alloc(0);if(1===this.length)return this.head.data;for(var i=v.allocUnsafe(m>>>0),c=this.head,d=0;c;)_(c.data,i,d),d+=c.data.length,c=c.next;return i},P}(),b&&b.inspect&&b.inspect.custom&&(et.exports.prototype[b.inspect.custom]=function(){var P=b.inspect({length:this.length});return this.constructor.name+" "+P})},"./node_modules/readable-stream/lib/internal/streams/destroy.js":
/*!**********************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/destroy.js ***!
                  \**********************************************************************/
/*! no static exports found */function(et,p,e){"use strict";var t=e(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function _(P,C){P.emit("error",C)}et.exports={destroy:function v(P,C){var m=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(C?C(P):P&&(!this._writableState||!this._writableState.errorEmitted)&&t.nextTick(_,this,P),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(P||null,function(d){!C&&d?(t.nextTick(_,m,d),m._writableState&&(m._writableState.errorEmitted=!0)):C&&C(d)}),this)},undestroy:function b(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},"./node_modules/readable-stream/lib/internal/streams/stream-browser.js":
/*!*****************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/stream-browser.js ***!
                  \*****************************************************************************/
/*! no static exports found */function(et,p,e){et.exports=e(
/*! events */
"./node_modules/events/events.js").EventEmitter},"./node_modules/readable-stream/node_modules/safe-buffer/index.js":
/*!************************************************************************!*\
                  !*** ./node_modules/readable-stream/node_modules/safe-buffer/index.js ***!
                  \************************************************************************/
/*! no static exports found */function(et,p,e){var t=e(
/*! buffer */
"./node_modules/buffer/index.js"),v=t.Buffer;function b(P,C){for(var m in P)C[m]=P[m]}function _(P,C,m){return v(P,C,m)}v.from&&v.alloc&&v.allocUnsafe&&v.allocUnsafeSlow?et.exports=t:(b(t,p),p.Buffer=_),b(v,_),_.from=function(P,C,m){if("number"==typeof P)throw new TypeError("Argument must not be a number");return v(P,C,m)},_.alloc=function(P,C,m){if("number"!=typeof P)throw new TypeError("Argument must be a number");var i=v(P);return void 0!==C?"string"==typeof m?i.fill(C,m):i.fill(C):i.fill(0),i},_.allocUnsafe=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return v(P)},_.allocUnsafeSlow=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return t.SlowBuffer(P)}},"./node_modules/readable-stream/passthrough.js":
/*!*****************************************************!*\
                  !*** ./node_modules/readable-stream/passthrough.js ***!
                  \*****************************************************/
/*! no static exports found */function(et,p,e){et.exports=e(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").PassThrough},"./node_modules/readable-stream/readable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/readable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(et,p,e){(p=et.exports=e(
/*! ./lib/_stream_readable.js */
"./node_modules/readable-stream/lib/_stream_readable.js")).Stream=p,p.Readable=p,p.Writable=e(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js"),p.Duplex=e(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js"),p.Transform=e(
/*! ./lib/_stream_transform.js */
"./node_modules/readable-stream/lib/_stream_transform.js"),p.PassThrough=e(
/*! ./lib/_stream_passthrough.js */
"./node_modules/readable-stream/lib/_stream_passthrough.js")},"./node_modules/readable-stream/transform.js":
/*!***************************************************!*\
                  !*** ./node_modules/readable-stream/transform.js ***!
                  \***************************************************/
/*! no static exports found */function(et,p,e){et.exports=e(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").Transform},"./node_modules/readable-stream/writable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/writable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(et,p,e){et.exports=e(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js")},"./node_modules/safe-buffer/index.js":
/*!*******************************************!*\
                  !*** ./node_modules/safe-buffer/index.js ***!
                  \*******************************************/
/*! no static exports found */function(et,p,e){var t=e(
/*! buffer */
"./node_modules/buffer/index.js"),v=t.Buffer;function b(P,C){for(var m in P)C[m]=P[m]}function _(P,C,m){return v(P,C,m)}v.from&&v.alloc&&v.allocUnsafe&&v.allocUnsafeSlow?et.exports=t:(b(t,p),p.Buffer=_),_.prototype=Object.create(v.prototype),b(v,_),_.from=function(P,C,m){if("number"==typeof P)throw new TypeError("Argument must not be a number");return v(P,C,m)},_.alloc=function(P,C,m){if("number"!=typeof P)throw new TypeError("Argument must be a number");var i=v(P);return void 0!==C?"string"==typeof m?i.fill(C,m):i.fill(C):i.fill(0),i},_.allocUnsafe=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return v(P)},_.allocUnsafeSlow=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return t.SlowBuffer(P)}},"./node_modules/sax/lib/sax.js":
/*!*************************************!*\
                  !*** ./node_modules/sax/lib/sax.js ***!
                  \*************************************/
/*! no static exports found */function(et,p,e){(function(t){!function(v){v.parser=function(Q,ie){return new _(Q,ie)},v.SAXParser=_,v.SAXStream=f,v.createStream=function d(Q,ie){return new f(Q,ie)},v.MAX_BUFFER_LENGTH=65536;var i,b=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function _(Q,ie){if(!(this instanceof _))return new _(Q,ie);var ye=this;(function C(Q){for(var ie=0,ye=b.length;ie<ye;ie++)Q[b[ie]]=""})(ye),ye.q=ye.c="",ye.bufferCheckPosition=v.MAX_BUFFER_LENGTH,ye.opt=ie||{},ye.opt.lowercase=ye.opt.lowercase||ye.opt.lowercasetags,ye.looseCase=ye.opt.lowercase?"toLowerCase":"toUpperCase",ye.tags=[],ye.closed=ye.closedRoot=ye.sawRoot=!1,ye.tag=ye.error=null,ye.strict=!!Q,ye.noscript=!(!Q&&!ye.opt.noscript),ye.state=G.BEGIN,ye.strictEntities=ye.opt.strictEntities,ye.ENTITIES=Object.create(ye.strictEntities?v.XML_ENTITIES:v.ENTITIES),ye.attribList=[],ye.opt.xmlns&&(ye.ns=Object.create(L)),ye.trackPosition=!1!==ye.opt.position,ye.trackPosition&&(ye.position=ye.line=ye.column=0),ce(ye,"onready")}v.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(Q){function ie(){}return ie.prototype=Q,new ie}),Object.keys||(Object.keys=function(Q){var ie=[];for(var ye in Q)Q.hasOwnProperty(ye)&&ie.push(ye);return ie}),_.prototype={end:function(){Ae(this)},write:function be(Q){var ie=this;if(this.error)throw this.error;if(ie.closed)return pe(ie,"Cannot write after close. Assign an onready handler.");if(null===Q)return Ae(ie);"object"==typeof Q&&(Q=Q.toString());for(var ye=0,oe="";oe=Re(Q,ye++),ie.c=oe,oe;)switch(ie.trackPosition&&(ie.position++,"\n"===oe?(ie.line++,ie.column=0):ie.column++),ie.state){case G.BEGIN:if(ie.state=G.BEGIN_WHITESPACE,"\ufeff"===oe)continue;Ze(ie,oe);continue;case G.BEGIN_WHITESPACE:Ze(ie,oe);continue;case G.TEXT:if(ie.sawRoot&&!ie.closedRoot){for(var ee=ye-1;oe&&"<"!==oe&&"&"!==oe;)(oe=Re(Q,ye++))&&ie.trackPosition&&(ie.position++,"\n"===oe?(ie.line++,ie.column=0):ie.column++);ie.textNode+=Q.substring(ee,ye-1)}"<"!==oe||ie.sawRoot&&ie.closedRoot&&!ie.strict?(le(g,oe)&&(!ie.sawRoot||ie.closedRoot)&&ke(ie,"Text data outside of root node."),"&"===oe?ie.state=G.TEXT_ENTITY:ie.textNode+=oe):(ie.state=G.OPEN_WAKA,ie.startTagPosition=ie.position);continue;case G.SCRIPT:"<"===oe?ie.state=G.SCRIPT_ENDING:ie.script+=oe;continue;case G.SCRIPT_ENDING:"/"===oe?ie.state=G.CLOSE_TAG:(ie.script+="<"+oe,ie.state=G.SCRIPT);continue;case G.OPEN_WAKA:"!"===oe?(ie.state=G.SGML_DECL,ie.sgmlDecl=""):Y(g,oe)||(Y(y,oe)?(ie.state=G.OPEN_TAG,ie.tagName=oe):"/"===oe?(ie.state=G.CLOSE_TAG,ie.tagName=""):"?"===oe?(ie.state=G.PROC_INST,ie.procInstName=ie.procInstBody=""):(ke(ie,"Unencoded <"),ie.startTagPosition+1<ie.position&&(oe=new Array(ie.position-ie.startTagPosition).join(" ")+oe),ie.textNode+="<"+oe,ie.state=G.TEXT));continue;case G.SGML_DECL:(ie.sgmlDecl+oe).toUpperCase()===O?(ge(ie,"onopencdata"),ie.state=G.CDATA,ie.sgmlDecl="",ie.cdata=""):ie.sgmlDecl+oe==="--"?(ie.state=G.COMMENT,ie.comment="",ie.sgmlDecl=""):(ie.sgmlDecl+oe).toUpperCase()===D?(ie.state=G.DOCTYPE,(ie.doctype||ie.sawRoot)&&ke(ie,"Inappropriately located doctype declaration"),ie.doctype="",ie.sgmlDecl=""):">"===oe?(ge(ie,"onsgmldeclaration",ie.sgmlDecl),ie.sgmlDecl="",ie.state=G.TEXT):(Y(A,oe)&&(ie.state=G.SGML_DECL_QUOTED),ie.sgmlDecl+=oe);continue;case G.SGML_DECL_QUOTED:oe===ie.q&&(ie.state=G.SGML_DECL,ie.q=""),ie.sgmlDecl+=oe;continue;case G.DOCTYPE:">"===oe?(ie.state=G.TEXT,ge(ie,"ondoctype",ie.doctype),ie.doctype=!0):(ie.doctype+=oe,"["===oe?ie.state=G.DOCTYPE_DTD:Y(A,oe)&&(ie.state=G.DOCTYPE_QUOTED,ie.q=oe));continue;case G.DOCTYPE_QUOTED:ie.doctype+=oe,oe===ie.q&&(ie.q="",ie.state=G.DOCTYPE);continue;case G.DOCTYPE_DTD:ie.doctype+=oe,"]"===oe?ie.state=G.DOCTYPE:Y(A,oe)&&(ie.state=G.DOCTYPE_DTD_QUOTED,ie.q=oe);continue;case G.DOCTYPE_DTD_QUOTED:ie.doctype+=oe,oe===ie.q&&(ie.state=G.DOCTYPE_DTD,ie.q="");continue;case G.COMMENT:"-"===oe?ie.state=G.COMMENT_ENDING:ie.comment+=oe;continue;case G.COMMENT_ENDING:"-"===oe?(ie.state=G.COMMENT_ENDED,ie.comment=Ce(ie.opt,ie.comment),ie.comment&&ge(ie,"oncomment",ie.comment),ie.comment=""):(ie.comment+="-"+oe,ie.state=G.COMMENT);continue;case G.COMMENT_ENDED:">"!==oe?(ke(ie,"Malformed comment"),ie.comment+="--"+oe,ie.state=G.COMMENT):ie.state=G.TEXT;continue;case G.CDATA:"]"===oe?ie.state=G.CDATA_ENDING:ie.cdata+=oe;continue;case G.CDATA_ENDING:"]"===oe?ie.state=G.CDATA_ENDING_2:(ie.cdata+="]"+oe,ie.state=G.CDATA);continue;case G.CDATA_ENDING_2:">"===oe?(ie.cdata&&ge(ie,"oncdata",ie.cdata),ge(ie,"onclosecdata"),ie.cdata="",ie.state=G.TEXT):"]"===oe?ie.cdata+="]":(ie.cdata+="]]"+oe,ie.state=G.CDATA);continue;case G.PROC_INST:"?"===oe?ie.state=G.PROC_INST_ENDING:Y(g,oe)?ie.state=G.PROC_INST_BODY:ie.procInstName+=oe;continue;case G.PROC_INST_BODY:if(!ie.procInstBody&&Y(g,oe))continue;"?"===oe?ie.state=G.PROC_INST_ENDING:ie.procInstBody+=oe;continue;case G.PROC_INST_ENDING:">"===oe?(ge(ie,"onprocessinginstruction",{name:ie.procInstName,body:ie.procInstBody}),ie.procInstName=ie.procInstBody="",ie.state=G.TEXT):(ie.procInstBody+="?"+oe,ie.state=G.PROC_INST_BODY);continue;case G.OPEN_TAG:Y(B,oe)?ie.tagName+=oe:(he(ie),">"===oe?Oe(ie):"/"===oe?ie.state=G.OPEN_TAG_SLASH:(le(g,oe)&&ke(ie,"Invalid character in tag name"),ie.state=G.ATTRIB));continue;case G.OPEN_TAG_SLASH:">"===oe?(Oe(ie,!0),Ve(ie)):(ke(ie,"Forward-slash in opening tag not followed by >"),ie.state=G.ATTRIB);continue;case G.ATTRIB:if(Y(g,oe))continue;">"===oe?Oe(ie):"/"===oe?ie.state=G.OPEN_TAG_SLASH:Y(y,oe)?(ie.attribName=oe,ie.attribValue="",ie.state=G.ATTRIB_NAME):ke(ie,"Invalid attribute name");continue;case G.ATTRIB_NAME:"="===oe?ie.state=G.ATTRIB_VALUE:">"===oe?(ke(ie,"Attribute without value"),ie.attribValue=ie.attribName,Te(ie),Oe(ie)):Y(g,oe)?ie.state=G.ATTRIB_NAME_SAW_WHITE:Y(B,oe)?ie.attribName+=oe:ke(ie,"Invalid attribute name");continue;case G.ATTRIB_NAME_SAW_WHITE:if("="===oe)ie.state=G.ATTRIB_VALUE;else{if(Y(g,oe))continue;ke(ie,"Attribute without value"),ie.tag.attributes[ie.attribName]="",ie.attribValue="",ge(ie,"onattribute",{name:ie.attribName,value:""}),ie.attribName="",">"===oe?Oe(ie):Y(y,oe)?(ie.attribName=oe,ie.state=G.ATTRIB_NAME):(ke(ie,"Invalid attribute name"),ie.state=G.ATTRIB)}continue;case G.ATTRIB_VALUE:if(Y(g,oe))continue;Y(A,oe)?(ie.q=oe,ie.state=G.ATTRIB_VALUE_QUOTED):(ke(ie,"Unquoted attribute value"),ie.state=G.ATTRIB_VALUE_UNQUOTED,ie.attribValue=oe);continue;case G.ATTRIB_VALUE_QUOTED:if(oe!==ie.q){"&"===oe?ie.state=G.ATTRIB_VALUE_ENTITY_Q:ie.attribValue+=oe;continue}Te(ie),ie.q="",ie.state=G.ATTRIB_VALUE_CLOSED;continue;case G.ATTRIB_VALUE_CLOSED:Y(g,oe)?ie.state=G.ATTRIB:">"===oe?Oe(ie):"/"===oe?ie.state=G.OPEN_TAG_SLASH:Y(y,oe)?(ke(ie,"No whitespace between attributes"),ie.attribName=oe,ie.attribValue="",ie.state=G.ATTRIB_NAME):ke(ie,"Invalid attribute name");continue;case G.ATTRIB_VALUE_UNQUOTED:if(le(N,oe)){"&"===oe?ie.state=G.ATTRIB_VALUE_ENTITY_U:ie.attribValue+=oe;continue}Te(ie),">"===oe?Oe(ie):ie.state=G.ATTRIB;continue;case G.CLOSE_TAG:if(ie.tagName)">"===oe?Ve(ie):Y(B,oe)?ie.tagName+=oe:ie.script?(ie.script+="</"+ie.tagName,ie.tagName="",ie.state=G.SCRIPT):(le(g,oe)&&ke(ie,"Invalid tagname in closing tag"),ie.state=G.CLOSE_TAG_SAW_WHITE);else{if(Y(g,oe))continue;le(y,oe)?ie.script?(ie.script+="</"+oe,ie.state=G.SCRIPT):ke(ie,"Invalid tagname in closing tag."):ie.tagName=oe}continue;case G.CLOSE_TAG_SAW_WHITE:if(Y(g,oe))continue;">"===oe?Ve(ie):ke(ie,"Invalid characters in closing tag");continue;case G.TEXT_ENTITY:case G.ATTRIB_VALUE_ENTITY_Q:case G.ATTRIB_VALUE_ENTITY_U:var $,re;switch(ie.state){case G.TEXT_ENTITY:$=G.TEXT,re="textNode";break;case G.ATTRIB_VALUE_ENTITY_Q:$=G.ATTRIB_VALUE_QUOTED,re="attribValue";break;case G.ATTRIB_VALUE_ENTITY_U:$=G.ATTRIB_VALUE_UNQUOTED,re="attribValue"}";"===oe?(ie[re]+=ft(ie),ie.entity="",ie.state=$):Y(ie.entity.length?ne:z,oe)?ie.entity+=oe:(ke(ie,"Invalid character in entity name"),ie[re]+="&"+ie.entity+oe,ie.entity="",ie.state=$);continue;default:throw new Error(ie,"Unknown state: "+ie.state)}return ie.position>=ie.bufferCheckPosition&&function P(Q){for(var ie=Math.max(v.MAX_BUFFER_LENGTH,10),ye=0,oe=0,ee=b.length;oe<ee;oe++){var X=Q[b[oe]].length;if(X>ie)switch(b[oe]){case"textNode":Ie(Q);break;case"cdata":ge(Q,"oncdata",Q.cdata),Q.cdata="";break;case"script":ge(Q,"onscript",Q.script),Q.script="";break;default:pe(Q,"Max buffer length exceeded: "+b[oe])}ye=Math.max(ye,X)}Q.bufferCheckPosition=v.MAX_BUFFER_LENGTH-ye+Q.position}(ie),ie},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function m(Q){Ie(Q),""!==Q.cdata&&(ge(Q,"oncdata",Q.cdata),Q.cdata=""),""!==Q.script&&(ge(Q,"onscript",Q.script),Q.script="")}(this)}};try{i=e(
/*! stream */
"./node_modules/stream-browserify/index.js").Stream}catch{i=function(){}}var c=v.EVENTS.filter(function(Q){return"error"!==Q&&"end"!==Q});function f(Q,ie){if(!(this instanceof f))return new f(Q,ie);i.apply(this),this._parser=new _(Q,ie),this.writable=!0,this.readable=!0;var ye=this;this._parser.onend=function(){ye.emit("end")},this._parser.onerror=function(oe){ye.emit("error",oe),ye._parser.error=null},this._decoder=null,c.forEach(function(oe){Object.defineProperty(ye,"on"+oe,{get:function(){return ye._parser["on"+oe]},set:function(ee){if(!ee)return ye.removeAllListeners(oe),ye._parser["on"+oe]=ee,ee;ye.on(oe,ee)},enumerable:!0,configurable:!1})})}(f.prototype=Object.create(i.prototype,{constructor:{value:f}})).write=function(Q){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(Q)){if(!this._decoder){var ie=e(
/*! string_decoder */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder;this._decoder=new ie("utf8")}Q=this._decoder.write(Q)}return this._parser.write(Q.toString()),this.emit("data",Q),!0},f.prototype.end=function(Q){return Q&&Q.length&&this.write(Q),this._parser.end(),!0},f.prototype.on=function(Q,ie){var ye=this;return!ye._parser["on"+Q]&&-1!==c.indexOf(Q)&&(ye._parser["on"+Q]=function(){var oe=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);oe.splice(0,0,Q),ye.emit.apply(ye,oe)}),i.prototype.on.call(ye,Q,ie)};var g="\r\n\t ",S="0124356789",x="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",A="'\"",N=g+">",O="[CDATA[",D="DOCTYPE",I="http://www.w3.org/XML/1998/namespace",T="http://www.w3.org/2000/xmlns/",L={xml:I,xmlns:T};g=ae(g),S=ae(S),x=ae(x);var y=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,B=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,z=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ne=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function ae(Q){return Q.split("").reduce(function(ie,ye){return ie[ye]=!0,ie},{})}function Y(Q,ie){return function Fe(Q){return"[object RegExp]"===Object.prototype.toString.call(Q)}(Q)?!!ie.match(Q):Q[ie]}function le(Q,ie){return!Y(Q,ie)}A=ae(A),N=ae(N);var Q,ie,ye,G=0;for(var Se in v.STATE={BEGIN:G++,BEGIN_WHITESPACE:G++,TEXT:G++,TEXT_ENTITY:G++,OPEN_WAKA:G++,SGML_DECL:G++,SGML_DECL_QUOTED:G++,DOCTYPE:G++,DOCTYPE_QUOTED:G++,DOCTYPE_DTD:G++,DOCTYPE_DTD_QUOTED:G++,COMMENT_STARTING:G++,COMMENT:G++,COMMENT_ENDING:G++,COMMENT_ENDED:G++,CDATA:G++,CDATA_ENDING:G++,CDATA_ENDING_2:G++,PROC_INST:G++,PROC_INST_BODY:G++,PROC_INST_ENDING:G++,OPEN_TAG:G++,OPEN_TAG_SLASH:G++,ATTRIB:G++,ATTRIB_NAME:G++,ATTRIB_NAME_SAW_WHITE:G++,ATTRIB_VALUE:G++,ATTRIB_VALUE_QUOTED:G++,ATTRIB_VALUE_CLOSED:G++,ATTRIB_VALUE_UNQUOTED:G++,ATTRIB_VALUE_ENTITY_Q:G++,ATTRIB_VALUE_ENTITY_U:G++,CLOSE_TAG:G++,CLOSE_TAG_SAW_WHITE:G++,SCRIPT:G++,SCRIPT_ENDING:G++},v.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},v.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(v.ENTITIES).forEach(function(Q){var ie=v.ENTITIES[Q],ye="number"==typeof ie?String.fromCharCode(ie):ie;v.ENTITIES[Q]=ye}),v.STATE)v.STATE[v.STATE[Se]]=Se;function ce(Q,ie,ye){Q[ie]&&Q[ie](ye)}function ge(Q,ie,ye){Q.textNode&&Ie(Q),ce(Q,ie,ye)}function Ie(Q){Q.textNode=Ce(Q.opt,Q.textNode),Q.textNode&&ce(Q,"ontext",Q.textNode),Q.textNode=""}function Ce(Q,ie){return Q.trim&&(ie=ie.trim()),Q.normalize&&(ie=ie.replace(/\s+/g," ")),ie}function pe(Q,ie){return Ie(Q),Q.trackPosition&&(ie+="\nLine: "+Q.line+"\nColumn: "+Q.column+"\nChar: "+Q.c),ie=new Error(ie),Q.error=ie,ce(Q,"onerror",ie),Q}function Ae(Q){return Q.sawRoot&&!Q.closedRoot&&ke(Q,"Unclosed root tag"),Q.state!==G.BEGIN&&Q.state!==G.BEGIN_WHITESPACE&&Q.state!==G.TEXT&&pe(Q,"Unexpected end"),Ie(Q),Q.c="",Q.closed=!0,ce(Q,"onend"),_.call(Q,Q.strict,Q.opt),Q}function ke(Q,ie){if("object"!=typeof Q||!(Q instanceof _))throw new Error("bad call to strictFail");Q.strict&&pe(Q,ie)}function he(Q){Q.strict||(Q.tagName=Q.tagName[Q.looseCase]());var ie=Q.tags[Q.tags.length-1]||Q,ye=Q.tag={name:Q.tagName,attributes:{}};Q.opt.xmlns&&(ye.ns=ie.ns),Q.attribList.length=0,ge(Q,"onopentagstart",ye)}function we(Q,ie){var oe=Q.indexOf(":")<0?["",Q]:Q.split(":"),ee=oe[0],X=oe[1];return ie&&"xmlns"===Q&&(ee="xmlns",X=""),{prefix:ee,local:X}}function Te(Q){if(Q.strict||(Q.attribName=Q.attribName[Q.looseCase]()),-1!==Q.attribList.indexOf(Q.attribName)||Q.tag.attributes.hasOwnProperty(Q.attribName))Q.attribName=Q.attribValue="";else{if(Q.opt.xmlns){var ie=we(Q.attribName,!0),oe=ie.local;if("xmlns"===ie.prefix)if("xml"===oe&&Q.attribValue!==I)ke(Q,"xml: prefix must be bound to "+I+"\nActual: "+Q.attribValue);else if("xmlns"===oe&&Q.attribValue!==T)ke(Q,"xmlns: prefix must be bound to "+T+"\nActual: "+Q.attribValue);else{var ee=Q.tag,X=Q.tags[Q.tags.length-1]||Q;ee.ns===X.ns&&(ee.ns=Object.create(X.ns)),ee.ns[oe]=Q.attribValue}Q.attribList.push([Q.attribName,Q.attribValue])}else Q.tag.attributes[Q.attribName]=Q.attribValue,ge(Q,"onattribute",{name:Q.attribName,value:Q.attribValue});Q.attribName=Q.attribValue=""}}function Oe(Q,ie){if(Q.opt.xmlns){var ye=Q.tag,oe=we(Q.tagName);ye.prefix=oe.prefix,ye.local=oe.local,ye.uri=ye.ns[oe.prefix]||"",ye.prefix&&!ye.uri&&(ke(Q,"Unbound namespace prefix: "+JSON.stringify(Q.tagName)),ye.uri=oe.prefix),ye.ns&&(Q.tags[Q.tags.length-1]||Q).ns!==ye.ns&&Object.keys(ye.ns).forEach(function(Xe){ge(Q,"onopennamespace",{prefix:Xe,uri:ye.ns[Xe]})});for(var X=0,$=Q.attribList.length;X<$;X++){var re=Q.attribList[X],J=re[0],q=re[1],_e=we(J,!0),xe=_e.prefix,Ge=""===xe?"":ye.ns[xe]||"",ct={name:J,value:q,prefix:xe,local:_e.local,uri:Ge};xe&&"xmlns"!==xe&&!Ge&&(ke(Q,"Unbound namespace prefix: "+JSON.stringify(xe)),ct.uri=xe),Q.tag.attributes[J]=ct,ge(Q,"onattribute",ct)}Q.attribList.length=0}Q.tag.isSelfClosing=!!ie,Q.sawRoot=!0,Q.tags.push(Q.tag),ge(Q,"onopentag",Q.tag),ie||(Q.state=Q.noscript||"script"!==Q.tagName.toLowerCase()?G.TEXT:G.SCRIPT,Q.tag=null,Q.tagName=""),Q.attribName=Q.attribValue="",Q.attribList.length=0}function Ve(Q){if(!Q.tagName)return ke(Q,"Weird empty close tag."),Q.textNode+="</>",void(Q.state=G.TEXT);if(Q.script){if("script"!==Q.tagName)return Q.script+="</"+Q.tagName+">",Q.tagName="",void(Q.state=G.SCRIPT);ge(Q,"onscript",Q.script),Q.script=""}var ie=Q.tags.length,ye=Q.tagName;Q.strict||(ye=ye[Q.looseCase]());for(var oe=ye;ie--&&Q.tags[ie].name!==oe;)ke(Q,"Unexpected close tag");if(ie<0)return ke(Q,"Unmatched closing tag: "+Q.tagName),Q.textNode+="</"+Q.tagName+">",void(Q.state=G.TEXT);Q.tagName=ye;for(var X=Q.tags.length;X-- >ie;){var $=Q.tag=Q.tags.pop();Q.tagName=Q.tag.name,ge(Q,"onclosetag",Q.tagName);var re={};for(var J in $.ns)re[J]=$.ns[J];Q.opt.xmlns&&$.ns!==(Q.tags[Q.tags.length-1]||Q).ns&&Object.keys($.ns).forEach(function(_e){ge(Q,"onclosenamespace",{prefix:_e,uri:$.ns[_e]})})}0===ie&&(Q.closedRoot=!0),Q.tagName=Q.attribValue=Q.attribName="",Q.attribList.length=0,Q.state=G.TEXT}function ft(Q){var oe,ie=Q.entity,ye=ie.toLowerCase(),ee="";return Q.ENTITIES[ie]?Q.ENTITIES[ie]:Q.ENTITIES[ye]?Q.ENTITIES[ye]:("#"===(ie=ye).charAt(0)&&("x"===ie.charAt(1)?(ie=ie.slice(2),ee=(oe=parseInt(ie,16)).toString(16)):(ie=ie.slice(1),ee=(oe=parseInt(ie,10)).toString(10))),ie=ie.replace(/^0+/,""),ee.toLowerCase()!==ie?(ke(Q,"Invalid character entity"),"&"+Q.entity+";"):String.fromCodePoint(oe))}function Ze(Q,ie){"<"===ie?(Q.state=G.OPEN_WAKA,Q.startTagPosition=Q.position):le(g,ie)&&(ke(Q,"Non-whitespace before first tag."),Q.textNode=ie,Q.state=G.TEXT)}function Re(Q,ie){var ye="";return ie<Q.length&&(ye=Q.charAt(ie)),ye}G=v.STATE,String.fromCodePoint||(Q=String.fromCharCode,ie=Math.floor,ye=function(){var ee=[],re=-1,J=arguments.length;if(!J)return"";for(var q="";++re<J;){var _e=Number(arguments[re]);if(!isFinite(_e)||_e<0||_e>1114111||ie(_e)!==_e)throw RangeError("Invalid code point: "+_e);_e<=65535?ee.push(_e):ee.push(55296+((_e-=65536)>>10),_e%1024+56320),(re+1===J||ee.length>16384)&&(q+=Q.apply(null,ee),ee.length=0)}return q},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ye,configurable:!0,writable:!0}):String.fromCodePoint=ye)}(p)}).call(this,e(
/*! ./../../buffer/index.js */
"./node_modules/buffer/index.js").Buffer)},"./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
                  !*** ./node_modules/setimmediate/setImmediate.js ***!
                  \***************************************************/
/*! no static exports found */function(et,p,e){(function(t,v){!function(b,_){"use strict";if(!b.setImmediate){var c,P=1,C={},m=!1,i=b.document,T=Object.getPrototypeOf&&Object.getPrototypeOf(b);T=T&&T.setTimeout?T:b,"[object process]"==={}.toString.call(b.process)?function x(){c=function(L){v.nextTick(function(){S(L)})}}():function A(){if(b.postMessage&&!b.importScripts){var L=!0,y=b.onmessage;return b.onmessage=function(){L=!1},b.postMessage("","*"),b.onmessage=y,L}}()?function N(){var L="setImmediate$"+Math.random()+"$",y=function(B){B.source===b&&"string"==typeof B.data&&0===B.data.indexOf(L)&&S(+B.data.slice(L.length))};b.addEventListener?b.addEventListener("message",y,!1):b.attachEvent("onmessage",y),c=function(B){b.postMessage(L+B,"*")}}():b.MessageChannel?function O(){var L=new MessageChannel;L.port1.onmessage=function(y){S(y.data)},c=function(y){L.port2.postMessage(y)}}():i&&"onreadystatechange"in i.createElement("script")?function D(){var L=i.documentElement;c=function(y){var B=i.createElement("script");B.onreadystatechange=function(){S(y),B.onreadystatechange=null,L.removeChild(B),B=null},L.appendChild(B)}}():function I(){c=function(L){setTimeout(S,0,L)}}(),T.setImmediate=function d(L){"function"!=typeof L&&(L=new Function(""+L));for(var y=new Array(arguments.length-1),B=0;B<y.length;B++)y[B]=arguments[B+1];return C[P]={callback:L,args:y},c(P),P++},T.clearImmediate=f}function f(L){delete C[L]}function S(L){if(m)setTimeout(S,0,L);else{var y=C[L];if(y){m=!0;try{!function g(L){var y=L.callback,B=L.args;switch(B.length){case 0:y();break;case 1:y(B[0]);break;case 2:y(B[0],B[1]);break;case 3:y(B[0],B[1],B[2]);break;default:y.apply(_,B)}}(y)}finally{f(L),m=!1}}}}}(typeof self>"u"?typeof t>"u"?this:t:self)}).call(this,e(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),e(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/stream-browserify/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/stream-browserify/index.js ***!
                  \*************************************************/
/*! no static exports found */function(et,p,e){et.exports=b;var t=e(
/*! events */
"./node_modules/events/events.js").EventEmitter;function b(){t.call(this)}e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js")(b,t),b.Readable=e(
/*! readable-stream/readable.js */
"./node_modules/readable-stream/readable-browser.js"),b.Writable=e(
/*! readable-stream/writable.js */
"./node_modules/readable-stream/writable-browser.js"),b.Duplex=e(
/*! readable-stream/duplex.js */
"./node_modules/readable-stream/duplex-browser.js"),b.Transform=e(
/*! readable-stream/transform.js */
"./node_modules/readable-stream/transform.js"),b.PassThrough=e(
/*! readable-stream/passthrough.js */
"./node_modules/readable-stream/passthrough.js"),b.Stream=b,b.prototype.pipe=function(_,P){var C=this;function m(x){_.writable&&!1===_.write(x)&&C.pause&&C.pause()}function i(){C.readable&&C.resume&&C.resume()}C.on("data",m),_.on("drain",i),!_._isStdio&&(!P||!1!==P.end)&&(C.on("end",d),C.on("close",f));var c=!1;function d(){c||(c=!0,_.end())}function f(){c||(c=!0,"function"==typeof _.destroy&&_.destroy())}function g(x){if(S(),0===t.listenerCount(this,"error"))throw x}function S(){C.removeListener("data",m),_.removeListener("drain",i),C.removeListener("end",d),C.removeListener("close",f),C.removeListener("error",g),_.removeListener("error",g),C.removeListener("end",S),C.removeListener("close",S),_.removeListener("close",S)}return C.on("error",g),_.on("error",g),C.on("end",S),C.on("close",S),_.on("close",S),_.emit("pipe",C),_}},"./node_modules/string_decoder/lib/string_decoder.js":
/*!***********************************************************!*\
                  !*** ./node_modules/string_decoder/lib/string_decoder.js ***!
                  \***********************************************************/
/*! no static exports found */function(et,p,e){"use strict";var t=e(
/*! safe-buffer */
"./node_modules/safe-buffer/index.js").Buffer,v=t.isEncoding||function(D){switch((D=""+D)&&D.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function P(D){var I;switch(this.encoding=function _(D){var I=function b(D){if(!D)return"utf8";for(var I;;)switch(D){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return D;default:if(I)return;D=(""+D).toLowerCase(),I=!0}}(D);if("string"!=typeof I&&(t.isEncoding===v||!v(D)))throw new Error("Unknown encoding: "+D);return I||D}(D),this.encoding){case"utf16le":this.text=g,this.end=S,I=4;break;case"utf8":this.fillLast=c,I=4;break;case"base64":this.text=x,this.end=A,I=3;break;default:return this.write=N,void(this.end=O)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(I)}function C(D){return D<=127?0:D>>5==6?2:D>>4==14?3:D>>3==30?4:D>>6==2?-1:-2}function c(D){var I=this.lastTotal-this.lastNeed,T=function i(D,I,T){if(128!=(192&I[0]))return D.lastNeed=0,"\ufffd";if(D.lastNeed>1&&I.length>1){if(128!=(192&I[1]))return D.lastNeed=1,"\ufffd";if(D.lastNeed>2&&I.length>2&&128!=(192&I[2]))return D.lastNeed=2,"\ufffd"}}(this,D);return void 0!==T?T:this.lastNeed<=D.length?(D.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(D.copy(this.lastChar,I,0,D.length),void(this.lastNeed-=D.length))}function g(D,I){if((D.length-I)%2==0){var T=D.toString("utf16le",I);if(T){var L=T.charCodeAt(T.length-1);if(L>=55296&&L<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1],T.slice(0,-1)}return T}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=D[D.length-1],D.toString("utf16le",I,D.length-1)}function S(D){var I=D&&D.length?this.write(D):"";return this.lastNeed?I+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):I}function x(D,I){var T=(D.length-I)%3;return 0===T?D.toString("base64",I):(this.lastNeed=3-T,this.lastTotal=3,1===T?this.lastChar[0]=D[D.length-1]:(this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1]),D.toString("base64",I,D.length-T))}function A(D){var I=D&&D.length?this.write(D):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function N(D){return D.toString(this.encoding)}function O(D){return D&&D.length?this.write(D):""}p.StringDecoder=P,P.prototype.write=function(D){if(0===D.length)return"";var I,T;if(this.lastNeed){if(void 0===(I=this.fillLast(D)))return"";T=this.lastNeed,this.lastNeed=0}else T=0;return T<D.length?I?I+this.text(D,T):this.text(D,T):I||""},P.prototype.end=function f(D){var I=D&&D.length?this.write(D):"";return this.lastNeed?I+"\ufffd":I},P.prototype.text=function d(D,I){var T=function m(D,I,T){var L=I.length-1;if(L<T)return 0;var y=C(I[L]);return y>=0?(y>0&&(D.lastNeed=y-1),y):--L<T||-2===y?0:(y=C(I[L]))>=0?(y>0&&(D.lastNeed=y-2),y):--L<T||-2===y?0:(y=C(I[L]))>=0?(y>0&&(2===y?y=0:D.lastNeed=y-3),y):0}(this,D,I);if(!this.lastNeed)return D.toString("utf8",I);this.lastTotal=T;var L=D.length-(T-this.lastNeed);return D.copy(this.lastChar,0,L),D.toString("utf8",I,L)},P.prototype.fillLast=function(D){if(this.lastNeed<=D.length)return D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,D.length),this.lastNeed-=D.length}},"./node_modules/timers-browserify/main.js":
/*!************************************************!*\
                  !*** ./node_modules/timers-browserify/main.js ***!
                  \************************************************/
/*! no static exports found */function(et,p,e){(function(t){var v=typeof t<"u"&&t||typeof self<"u"&&self||window,b=Function.prototype.apply;function _(P,C){this._id=P,this._clearFn=C}p.setTimeout=function(){return new _(b.call(setTimeout,v,arguments),clearTimeout)},p.setInterval=function(){return new _(b.call(setInterval,v,arguments),clearInterval)},p.clearTimeout=p.clearInterval=function(P){P&&P.close()},_.prototype.unref=_.prototype.ref=function(){},_.prototype.close=function(){this._clearFn.call(v,this._id)},p.enroll=function(P,C){clearTimeout(P._idleTimeoutId),P._idleTimeout=C},p.unenroll=function(P){clearTimeout(P._idleTimeoutId),P._idleTimeout=-1},p._unrefActive=p.active=function(P){clearTimeout(P._idleTimeoutId);var C=P._idleTimeout;C>=0&&(P._idleTimeoutId=setTimeout(function(){P._onTimeout&&P._onTimeout()},C))},e(
/*! setimmediate */
"./node_modules/setimmediate/setImmediate.js"),p.setImmediate=typeof self<"u"&&self.setImmediate||typeof t<"u"&&t.setImmediate||this&&this.setImmediate,p.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof t<"u"&&t.clearImmediate||this&&this.clearImmediate}).call(this,e(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/ua-parser-js/src/ua-parser.js":
/*!****************************************************!*\
                  !*** ./node_modules/ua-parser-js/src/ua-parser.js ***!
                  \****************************************************/
/*! no static exports found */function(et,p,e){var t;!function(v,b){"use strict";var m="function",i="undefined",c="object",d="string",g="model",S="name",x="type",A="vendor",N="version",O="architecture",D="console",I="mobile",T="tablet",L="smarttv",y="wearable",B="embedded",ne="Amazon",ae="Apple",Y="BlackBerry",le="Browser",G="Chrome",ce="Firefox",ge="Google",pe="Microsoft",Ae="Motorola",ke="Opera",he="Samsung",Te="Sony",Oe="Xiaomi",Ve="Zebra",ft="Facebook",Re=function(xe){for(var Ee={},Ge=0;Ge<xe.length;Ge++)Ee[xe[Ge].toUpperCase()]=xe[Ge];return Ee},be=function(xe,Ee){return typeof xe===d&&-1!==Q(Ee).indexOf(Q(xe))},Q=function(xe){return xe.toLowerCase()},ye=function(xe,Ee){if(typeof xe===d)return xe=xe.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof Ee===i?xe:xe.substring(0,350)},oe=function(xe,Ee){for(var ct,Xe,tt,gt,Qe,yt,Ge=0;Ge<Ee.length&&!Qe;){var Dt=Ee[Ge],fe=Ee[Ge+1];for(ct=Xe=0;ct<Dt.length&&!Qe;)if(Qe=Dt[ct++].exec(xe))for(tt=0;tt<fe.length;tt++)yt=Qe[++Xe],typeof(gt=fe[tt])===c&&gt.length>0?2===gt.length?this[gt[0]]=typeof gt[1]==m?gt[1].call(this,yt):gt[1]:3===gt.length?this[gt[0]]=typeof gt[1]!==m||gt[1].exec&&gt[1].test?yt?yt.replace(gt[1],gt[2]):b:yt?gt[1].call(this,yt,gt[2]):b:4===gt.length&&(this[gt[0]]=yt?gt[3].call(this,yt.replace(gt[1],gt[2])):b):this[gt]=yt||b;Ge+=2}},ee=function(xe,Ee){for(var Ge in Ee)if(typeof Ee[Ge]===c&&Ee[Ge].length>0){for(var ct=0;ct<Ee[Ge].length;ct++)if(be(Ee[Ge][ct],xe))return"?"===Ge?b:Ge}else if(be(Ee[Ge],xe))return"?"===Ge?b:Ge;return xe},$={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},re={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[N,[S,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[N,[S,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[S,N],[/opios[\/ ]+([\w\.]+)/i],[N,[S,ke+" Mini"]],[/\bopr\/([\w\.]+)/i],[N,[S,ke]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[S,N],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[N,[S,"UC"+le]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[N,[S,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[N,[S,"WeChat"]],[/konqueror\/([\w\.]+)/i],[N,[S,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[N,[S,"IE"]],[/yabrowser\/([\w\.]+)/i],[N,[S,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[S,/(.+)/,"$1 Secure "+le],N],[/\bfocus\/([\w\.]+)/i],[N,[S,ce+" Focus"]],[/\bopt\/([\w\.]+)/i],[N,[S,ke+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[N,[S,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[N,[S,"Dolphin"]],[/coast\/([\w\.]+)/i],[N,[S,ke+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[N,[S,"MIUI "+le]],[/fxios\/([-\w\.]+)/i],[N,[S,ce]],[/\bqihu|(qi?ho?o?|360)browser/i],[[S,"360 "+le]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[S,/(.+)/,"$1 "+le],N],[/(comodo_dragon)\/([\w\.]+)/i],[[S,/_/g," "],N],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[S,N],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[S],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[S,ft],N],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[S,N],[/\bgsa\/([\w\.]+) .*safari\//i],[N,[S,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[N,[S,G+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[S,G+" WebView"],N],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[N,[S,"Android "+le]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[S,N],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[N,[S,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[N,S],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[S,[N,ee,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[S,N],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[S,"Netscape"],N],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[N,[S,ce+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[S,N]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[O,"amd64"]],[/(ia32(?=;))/i],[[O,Q]],[/((?:i[346]|x)86)[;\)]/i],[[O,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[O,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[O,"armhf"]],[/windows (ce|mobile); ppc;/i],[[O,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[O,/ower/,"",Q]],[/(sun4\w)[;\)]/i],[[O,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[O,Q]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[g,[A,he],[x,T]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[g,[A,he],[x,I]],[/\((ip(?:hone|od)[\w ]*);/i],[g,[A,ae],[x,I]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[g,[A,ae],[x,T]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[g,[A,"Huawei"],[x,T]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[g,[A,"Huawei"],[x,I]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[g,/_/g," "],[A,Oe],[x,I]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[g,/_/g," "],[A,Oe],[x,T]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[g,[A,"OPPO"],[x,I]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[g,[A,"Vivo"],[x,I]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[g,[A,"Realme"],[x,I]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[g,[A,Ae],[x,I]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[g,[A,Ae],[x,T]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[g,[A,"LG"],[x,T]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[g,[A,"LG"],[x,I]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[g,[A,"Lenovo"],[x,T]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[g,/_/g," "],[A,"Nokia"],[x,I]],[/(pixel c)\b/i],[g,[A,ge],[x,T]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[g,[A,ge],[x,I]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[g,[A,Te],[x,I]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[g,"Xperia Tablet"],[A,Te],[x,T]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[g,[A,"OnePlus"],[x,I]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[g,[A,ne],[x,T]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[g,/(.+)/g,"Fire Phone $1"],[A,ne],[x,I]],[/(playbook);[-\w\),; ]+(rim)/i],[g,A,[x,T]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[g,[A,Y],[x,I]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[g,[A,"ASUS"],[x,T]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[g,[A,"ASUS"],[x,I]],[/(nexus 9)/i],[g,[A,"HTC"],[x,T]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[A,[g,/_/g," "],[x,I]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[g,[A,"Acer"],[x,T]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[g,[A,"Meizu"],[x,I]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[g,[A,"Sharp"],[x,I]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[A,g,[x,I]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[A,g,[x,T]],[/(surface duo)/i],[g,[A,pe],[x,T]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[g,[A,"Fairphone"],[x,I]],[/(u304aa)/i],[g,[A,"AT&T"],[x,I]],[/\bsie-(\w*)/i],[g,[A,"Siemens"],[x,I]],[/\b(rct\w+) b/i],[g,[A,"RCA"],[x,T]],[/\b(venue[\d ]{2,7}) b/i],[g,[A,"Dell"],[x,T]],[/\b(q(?:mv|ta)\w+) b/i],[g,[A,"Verizon"],[x,T]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[g,[A,"Barnes & Noble"],[x,T]],[/\b(tm\d{3}\w+) b/i],[g,[A,"NuVision"],[x,T]],[/\b(k88) b/i],[g,[A,"ZTE"],[x,T]],[/\b(nx\d{3}j) b/i],[g,[A,"ZTE"],[x,I]],[/\b(gen\d{3}) b.+49h/i],[g,[A,"Swiss"],[x,I]],[/\b(zur\d{3}) b/i],[g,[A,"Swiss"],[x,T]],[/\b((zeki)?tb.*\b) b/i],[g,[A,"Zeki"],[x,T]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[A,"Dragon Touch"],g,[x,T]],[/\b(ns-?\w{0,9}) b/i],[g,[A,"Insignia"],[x,T]],[/\b((nxa|next)-?\w{0,9}) b/i],[g,[A,"NextBook"],[x,T]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[A,"Voice"],g,[x,I]],[/\b(lvtel\-)?(v1[12]) b/i],[[A,"LvTel"],g,[x,I]],[/\b(ph-1) /i],[g,[A,"Essential"],[x,I]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[g,[A,"Envizen"],[x,T]],[/\b(trio[-\w\. ]+) b/i],[g,[A,"MachSpeed"],[x,T]],[/\btu_(1491) b/i],[g,[A,"Rotor"],[x,T]],[/(shield[\w ]+) b/i],[g,[A,"Nvidia"],[x,T]],[/(sprint) (\w+)/i],[A,g,[x,I]],[/(kin\.[onetw]{3})/i],[[g,/\./g," "],[A,pe],[x,I]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[g,[A,Ve],[x,T]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[g,[A,Ve],[x,I]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[A,g,[x,D]],[/droid.+; (shield) bui/i],[g,[A,"Nvidia"],[x,D]],[/(playstation [345portablevi]+)/i],[g,[A,Te],[x,D]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[g,[A,pe],[x,D]],[/smart-tv.+(samsung)/i],[A,[x,L]],[/hbbtv.+maple;(\d+)/i],[[g,/^/,"SmartTV"],[A,he],[x,L]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[A,"LG"],[x,L]],[/(apple) ?tv/i],[A,[g,ae+" TV"],[x,L]],[/crkey/i],[[g,G+"cast"],[A,ge],[x,L]],[/droid.+aft(\w)( bui|\))/i],[g,[A,ne],[x,L]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[g,[A,"Sharp"],[x,L]],[/(bravia[\w ]+)( bui|\))/i],[g,[A,Te],[x,L]],[/(mitv-\w{5}) bui/i],[g,[A,Oe],[x,L]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[A,ye],[g,ye],[x,L]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[x,L]],[/((pebble))app/i],[A,g,[x,y]],[/droid.+; (glass) \d/i],[g,[A,ge],[x,y]],[/droid.+; (wt63?0{2,3})\)/i],[g,[A,Ve],[x,y]],[/(quest( 2)?)/i],[g,[A,ft],[x,y]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[A,[x,B]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[g,[x,I]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[g,[x,T]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[x,T]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[x,I]],[/(android[-\w\. ]{0,9});.+buil/i],[g,[A,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[N,[S,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[N,[S,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[S,N],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[N,S]],os:[[/microsoft (windows) (vista|xp)/i],[S,N],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[S,[N,ee,$]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[S,"Windows"],[N,ee,$]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[N,/_/g,"."],[S,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[S,"Mac OS"],[N,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[N,S],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[S,N],[/\(bb(10);/i],[N,[S,Y]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[N,[S,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[N,[S,ce+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[N,[S,"webOS"]],[/crkey\/([\d\.]+)/i],[N,[S,G+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[S,"Chromium OS"],N],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[S,N],[/(sunos) ?([\w\.\d]*)/i],[[S,"Solaris"],N],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[S,N]]},J=function(xe,Ee){if(typeof xe===c&&(Ee=xe,xe=b),!(this instanceof J))return new J(xe,Ee).getResult();var Ge=xe||(typeof v!==i&&v.navigator&&v.navigator.userAgent?v.navigator.userAgent:""),ct=Ee?function(xe,Ee){var Ge={};for(var ct in xe)Ge[ct]=Ee[ct]&&Ee[ct].length%2==0?Ee[ct].concat(xe[ct]):xe[ct];return Ge}(re,Ee):re;return this.getBrowser=function(){var Xe={};return Xe[S]=b,Xe[N]=b,oe.call(Xe,Ge,ct.browser),Xe.major=function(xe){return typeof xe===d?xe.replace(/[^\d\.]/g,"").split(".")[0]:b}(Xe.version),Xe},this.getCPU=function(){var Xe={};return Xe[O]=b,oe.call(Xe,Ge,ct.cpu),Xe},this.getDevice=function(){var Xe={};return Xe[A]=b,Xe[g]=b,Xe[x]=b,oe.call(Xe,Ge,ct.device),Xe},this.getEngine=function(){var Xe={};return Xe[S]=b,Xe[N]=b,oe.call(Xe,Ge,ct.engine),Xe},this.getOS=function(){var Xe={};return Xe[S]=b,Xe[N]=b,oe.call(Xe,Ge,ct.os),Xe},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ge},this.setUA=function(Xe){return Ge=typeof Xe===d&&Xe.length>350?ye(Xe,350):Xe,this},this.setUA(Ge),this};J.VERSION="1.0.32",J.BROWSER=Re([S,N,"major"]),J.CPU=Re([O]),J.DEVICE=Re([g,A,x,D,I,L,T,y,B]),J.ENGINE=J.OS=Re([S,N]),typeof p!==i?(typeof et!==i&&et.exports&&(p=et.exports=J),p.UAParser=J):e(
/*! !webpack amd options */
"./node_modules/webpack/buildin/amd-options.js")?(t=function(){return J}.call(p,e,p,et))!==b&&(et.exports=t):typeof v!==i&&(v.UAParser=J);var q=typeof v!==i&&(v.jQuery||v.Zepto);if(q&&!q.ua){var _e=new J;q.ua=_e.getResult(),q.ua.get=function(){return _e.getUA()},q.ua.set=function(xe){_e.setUA(xe);var Ee=_e.getResult();for(var Ge in Ee)q.ua[Ge]=Ee[Ge]}}}("object"==typeof window?window:this)},"./node_modules/util-deprecate/browser.js":
/*!************************************************!*\
                  !*** ./node_modules/util-deprecate/browser.js ***!
                  \************************************************/
/*! no static exports found */function(et,p,e){(function(t){function b(_){try{if(!t.localStorage)return!1}catch{return!1}var P=t.localStorage[_];return null!=P&&"true"===String(P).toLowerCase()}et.exports=function v(_,P){if(b("noDeprecation"))return _;var C=!1;return function m(){if(!C){if(b("throwDeprecation"))throw new Error(P);b("traceDeprecation")?console.trace(P):console.warn(P),C=!0}return _.apply(this,arguments)}}}).call(this,e(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/amd-options.js":
/*!****************************************!*\
                  !*** (webpack)/buildin/amd-options.js ***!
                  \****************************************/
/*! no static exports found */function(et,p){(function(e){et.exports=e}).call(this,{})},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
                  !*** (webpack)/buildin/global.js ***!
                  \***********************************/
/*! no static exports found */function(et,p){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch{"object"==typeof window&&(e=window)}et.exports=e},"./src/core/Debug.js":
/*!***************************!*\
                  !*** ./src/core/Debug.js ***!
                  \***************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./EventBus */
"./src/core/EventBus.js"),v=e(
/*! ./events/Events */
"./src/core/events/Events.js"),b=e(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),P=1,C=2,m=3,i=4,c=5;function d(g){g=g||{};var O,D,I,T,S=this.context,x=Object(t.default)(S).getInstance(),A=g.settings,N=[];function y(ce){return ce&&ce.bind?ce.bind(window.console):window.console.log.bind(window.console)}function ae(){for(var ce=arguments.length,ge=new Array(ce),Ie=0;Ie<ce;Ie++)ge[Ie]=arguments[Ie];Se.apply(void 0,[P,this].concat(ge))}function Fe(){for(var ce=arguments.length,ge=new Array(ce),Ie=0;Ie<ce;Ie++)ge[Ie]=arguments[Ie];Se.apply(void 0,[C,this].concat(ge))}function Y(){for(var ce=arguments.length,ge=new Array(ce),Ie=0;Ie<ce;Ie++)ge[Ie]=arguments[Ie];Se.apply(void 0,[m,this].concat(ge))}function le(){for(var ce=arguments.length,ge=new Array(ce),Ie=0;Ie<ce;Ie++)ge[Ie]=arguments[Ie];Se.apply(void 0,[i,this].concat(ge))}function G(){for(var ce=arguments.length,ge=new Array(ce),Ie=0;Ie<ce;Ie++)ge[Ie]=arguments[Ie];Se.apply(void 0,[c,this].concat(ge))}function Se(ce,ge){var Ie="",Ce=null;D&&(Ce=(new Date).getTime(),Ie+="["+(Ce-T)+"]"),I&&ge&&ge.getClassName&&(Ie+="["+ge.getClassName()+"]",ge.getType&&(Ie+="["+ge.getType()+"]")),Ie.length>0&&(Ie+=" ");for(var pe=arguments.length,Ae=new Array(pe>2?pe-2:0),ke=2;ke<pe;ke++)Ae[ke-2]=arguments[ke];Array.apply(null,Ae).forEach(function(he){Ie+=he+" "}),N[ce]&&A.get().debug.logLevel>=ce&&N[ce](Ie),A&&A.get().debug.dispatchEvent&&x.trigger(v.default.LOG,{message:Ie,level:ce})}return O={getLogger:function B(ce){return{fatal:ae.bind(ce),error:Fe.bind(ce),warn:Y.bind(ce),info:le.bind(ce),debug:G.bind(ce)}},setLogTimestampVisible:function z(ce){D=ce},setCalleeNameVisible:function ne(ce){I=ce}},function L(){D=!0,I=!0,T=(new Date).getTime(),typeof window<"u"&&window.console&&(N[P]=y(window.console.error),N[C]=y(window.console.error),N[m]=y(window.console.warn),N[i]=y(window.console.info),N[c]=y(window.console.debug))}(),O}d.__dashjs_factory_name="Debug";var f=b.default.getSingletonFactory(d);f.LOG_LEVEL_NONE=0,f.LOG_LEVEL_FATAL=P,f.LOG_LEVEL_ERROR=C,f.LOG_LEVEL_WARNING=m,f.LOG_LEVEL_INFO=i,f.LOG_LEVEL_DEBUG=c,b.default.updateSingletonFactory(d.__dashjs_factory_name,f),p.default=f},"./src/core/EventBus.js":
/*!******************************!*\
                  !*** ./src/core/EventBus.js ***!
                  \******************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function P(){var m={};function f(x,A,N){var O=-1;return m[x]&&m[x].some(function(D,I){if(D&&D.callback===A&&(!N||N===D.scope))return O=I,!0}),O}return{on:function i(x,A,N){var O=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!x)throw new Error("event type cannot be null or undefined");if(!A||"function"!=typeof A)throw new Error("listener must be a function: "+A);var D=O.priority||0;if(!(f(x,A,N)>=0)){m[x]=m[x]||[];var I={callback:A,scope:N,priority:D};N&&N.getStreamId&&(I.streamId=N.getStreamId()),N&&N.getType&&(I.mediaType=N.getType()),O&&O.mode&&(I.mode=O.mode),m[x].some(function(L,y){if(L&&D>L.priority)return m[x].splice(y,0,I),!0})||m[x].push(I)}},off:function c(x,A,N){if(x&&A&&m[x]){var O=f(x,A,N);O<0||(m[x][O]=null)}},trigger:function d(x){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(x&&m[x]){if((A=A||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");A.type=x,N.streamId&&(A.streamId=N.streamId),N.mediaType&&(A.mediaType=N.mediaType),m[x].filter(function(O){return!(!O||N.streamId&&O.streamId&&O.streamId!==N.streamId||N.mediaType&&O.mediaType&&O.mediaType!==N.mediaType||N.mode&&O.mode&&O.mode!==N.mode||!O.mode&&N.mode&&N.mode===v.default.EVENT_MODE_ON_RECEIVE)}).forEach(function(O){return O&&O.callback.call(O.scope,A)})}},reset:function g(){m={}}}}P.__dashjs_factory_name="EventBus";var C=t.default.getSingletonFactory(P);C.EVENT_PRIORITY_LOW=0,C.EVENT_PRIORITY_HIGH=5e3,t.default.updateSingletonFactory(P.__dashjs_factory_name,C),p.default=C},"./src/core/FactoryMaker.js":
/*!**********************************!*\
                  !*** ./src/core/FactoryMaker.js ***!
                  \**********************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=function(){var v,b=[],_={},P={};function m(I,T){for(var L in b){var y=b[L];if(y.context===I&&y.name===T)return y.instance}return null}function d(I,T){return T[I]}function f(I,T,L){I in L&&(L[I]=T)}function D(I,T,L){var y,B=I.__dashjs_factory_name,z=T[B];if(z){var ne=z.instance;if(!z.override)return ne.apply({context:T,factory:v},L);for(var ae in y=I.apply({context:T},L),ne=ne.apply({context:T,factory:v,parent:y},L))y.hasOwnProperty(ae)&&(y[ae]=ne[ae])}else y=I.apply({context:T},L);return y.getClassName=function(){return B},y}return v={extend:function C(I,T,L,y){!y[I]&&T&&(y[I]={instance:T,override:L})},getSingletonInstance:m,setSingletonInstance:function i(I,T,L){for(var y in b){var B=b[y];if(B.context===I&&B.name===T)return void(b[y].instance=L)}b.push({name:T,context:I,instance:L})},deleteSingletonInstances:function c(I){b=b.filter(function(T){return T.context!==I})},getSingletonFactory:function O(I){var T=d(I.__dashjs_factory_name,_);return T||(T=function(y){var B;return void 0===y&&(y={}),{getInstance:function(){return B||(B=m(y,I.__dashjs_factory_name)),B||(B=D(I,y,arguments),b.push({name:I.__dashjs_factory_name,context:y,instance:B})),B}}},_[I.__dashjs_factory_name]=T),T},getSingletonFactoryByName:function N(I){return d(I,_)},updateSingletonFactory:function A(I,T){f(I,T,_)},getClassFactory:function x(I){var T=d(I.__dashjs_factory_name,P);return T||(T=function(y){return void 0===y&&(y={}),{create:function(){return D(I,y,arguments)}}},P[I.__dashjs_factory_name]=T),T},getClassFactoryByName:function S(I){return d(I,P)},updateClassFactory:function g(I,T){f(I,T,P)}}}();p.default=t},"./src/core/Settings.js":
/*!******************************!*\
                  !*** ./src/core/Settings.js ***!
                  \******************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ./Utils.js */
"./src/core/Utils.js"),b=e(
/*! ../core/Debug */
"./src/core/Debug.js"),_=e(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),P=e(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),C=e(
/*! ./EventBus */
"./src/core/EventBus.js"),m=e(
/*! ./events/Events */
"./src/core/events/Events.js");function i(x){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(x)}function c(x,A,N){return(A=function d(x){var A=function f(x,A){if("object"!==i(x)||null===x)return x;var N=x[Symbol.toPrimitive];if(void 0!==N){var O=N.call(x,A||"default");if("object"!==i(O))return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===A?String:Number)(x)}(x,"string");return"symbol"===i(A)?A:String(A)}(A))in x?Object.defineProperty(x,A,{value:N,enumerable:!0,configurable:!0,writable:!0}):x[A]=N,x}function g(){var x,A,O=this.context,D=Object(C.default)(O).getInstance(),I={"streaming.delay.liveDelay":m.default.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":m.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":m.default.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":m.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":m.default.SETTING_UPDATED_PLAYBACK_RATE_MAX},T={debug:{logLevel:b.default.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:_.default.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:_.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:_.default.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:_.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,manifestRequestTimeout:1e4,retryIntervals:(x={},c(x,P.HTTPRequest.MPD_TYPE,500),c(x,P.HTTPRequest.XLINK_EXPANSION_TYPE,500),c(x,P.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),c(x,P.HTTPRequest.INIT_SEGMENT_TYPE,1e3),c(x,P.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),c(x,P.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),c(x,P.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),c(x,P.HTTPRequest.LICENSE,1e3),c(x,P.HTTPRequest.OTHER_TYPE,1e3),c(x,"lowLatencyReductionFactor",10),x),retryAttempts:(A={},c(A,P.HTTPRequest.MPD_TYPE,3),c(A,P.HTTPRequest.XLINK_EXPANSION_TYPE,1),c(A,P.HTTPRequest.MEDIA_SEGMENT_TYPE,3),c(A,P.HTTPRequest.INIT_SEGMENT_TYPE,3),c(A,P.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),c(A,P.HTTPRequest.INDEX_SEGMENT_TYPE,3),c(A,P.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),c(A,P.HTTPRequest.LICENSE,3),c(A,P.HTTPRequest.OTHER_TYPE,3),c(A,"lowLatencyMultiplyFactor",5),A),abr:{movingAverageMethod:_.default.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:_.default.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:_.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:_.default.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]}},errors:{recoverAttempts:{mediaErrorDecode:5}}},L=v.default.clone(T);function y(ae,Fe,Y){for(var le in ae)ae.hasOwnProperty(le)&&(Fe.hasOwnProperty(le)?"object"!==i(ae[le])||ae[le]instanceof Array||null===ae[le]?(Fe[le]=v.default.clone(ae[le]),I[Y+le]&&D.trigger(I[Y+le])):y(ae[le],Fe[le],Y.slice()+le+"."):console.error("Settings parameter "+Y+le+" is not supported"))}return{get:function B(){return L},update:function z(ae){"object"===i(ae)&&y(ae,L,"")},reset:function ne(){L=v.default.clone(T)}}}g.__dashjs_factory_name="Settings";var S=t.default.getSingletonFactory(g);p.default=S},"./src/core/Utils.js":
/*!***************************!*\
                  !*** ./src/core/Utils.js ***!
                  \***************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! path-browserify */
"./node_modules/path-browserify/index.js"),v=e.n(t),b=e(
/*! ua-parser-js */
"./node_modules/ua-parser-js/src/ua-parser.js");function P(g){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(g)}function m(g,S){for(var x=0;x<S.length;x++){var A=S[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(g,c(A.key),A)}}function c(g){var S=function d(g,S){if("object"!==P(g)||null===g)return g;var x=g[Symbol.toPrimitive];if(void 0!==x){var A=x.call(g,S||"default");if("object"!==P(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)(g)}(g,"string");return"symbol"===P(S)?S:String(S)}var f=function(){function g(){!function C(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}(this,g)}return function i(g,S,x){return S&&m(g.prototype,S),x&&m(g,x),Object.defineProperty(g,"prototype",{writable:!1}),g}(g,null,[{key:"mixin",value:function(x,A,N){var O,D={};if(x)for(var I in A)A.hasOwnProperty(I)&&(O=A[I],(!(I in x)||x[I]!==O&&(!(I in D)||D[I]!==O))&&(x[I]="object"===P(x[I])&&null!==x[I]?g.mixin(x[I],O,N):N(O)));return x}},{key:"clone",value:function(x){if(!x||"object"!==P(x))return x;var A;if(x instanceof Array){A=[];for(var N=0,O=x.length;N<O;++N)N in x&&A.push(g.clone(x[N]))}else A={};return g.mixin(A,x,g.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(x,A){try{if(!A||0===A.length)return x;var N=new URL(x);return A.forEach(function(O){O.key&&O.value&&N.searchParams.set(O.key,O.value)}),N.href}catch{return x}}},{key:"parseHttpHeaders",value:function(x){var A={};if(!x)return A;for(var N=x.trim().split("\r\n"),O=0,D=N.length;O<D;O++){var I=N[O],T=I.indexOf(": ");T>0&&(A[I.substring(0,T)]=I.substring(T+2))}return A}},{key:"generateUuid",value:function(){var x=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(N){var O=(x+16*Math.random())%16|0;return x=Math.floor(x/16),("x"==N?O:3&O|8).toString(16)})}},{key:"generateHashCode",value:function(x){var A=0;if(0===x.length)return A;for(var N=0;N<x.length;N++)A=(A<<5)-A+x.charCodeAt(N),A|=0;return A}},{key:"getRelativeUrl",value:function(x,A){try{var N=new URL(x),O=new URL(A);if(N.protocol=O.protocol,N.origin!==O.origin)return A;var D=v.a.relative(N.pathname.substr(0,N.pathname.lastIndexOf("/")),O.pathname.substr(0,O.pathname.lastIndexOf("/"))),I=0===D.length?1:0;return D+=O.pathname.substr(O.pathname.lastIndexOf("/")+I,O.pathname.length-1),O.pathname.length<D.length?O.pathname:D}catch{return A}}},{key:"parseUserAgent",value:function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var A=null===x&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return Object(b.UAParser)(A)}catch{return{}}}}]),g}();p.default=f},"./src/core/Version.js":
/*!*****************************!*\
                  !*** ./src/core/Version.js ***!
                  \*****************************/
/*! exports provided: getVersionString */function(et,p,e){"use strict";e.r(p),e.d(p,"getVersionString",function(){return v});var t="4.5.2";function v(){return t}},"./src/core/errors/Errors.js":
/*!***********************************!*\
                  !*** ./src/core/errors/Errors.js ***!
                  \***********************************/
/*! exports provided: default */function(et,p,e){"use strict";function v(O){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(O)}function b(O,D){for(var I=0;I<D.length;I++){var T=D[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,P(T.key),T)}}function P(O){var D=function C(O,D){if("object"!==v(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var T=I.call(O,D||"default");if("object"!==v(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(O)}(O,"string");return"symbol"===v(D)?D:String(D)}function i(O,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),D&&c(O,D)}function c(O,D){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,L){return T.__proto__=L,T})(O,D)}function d(O){var D=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,T=x(O);if(D){var y=x(this).constructor;L=Reflect.construct(T,arguments,y)}else L=T.apply(this,arguments);return function f(O,D){if(D&&("object"===v(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function g(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function x(O){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}e.r(p);var N=new(function(O){i(I,O);var D=d(I);function I(){var T;return function m(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I),(T=D.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,T.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,T.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,T.SEGMENT_BASE_LOADER_ERROR_CODE=15,T.TIME_SYNC_FAILED_ERROR_CODE=16,T.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,T.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,T.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,T.APPEND_ERROR_CODE=20,T.REMOVE_ERROR_CODE=21,T.DATA_UPDATE_FAILED_ERROR_CODE=22,T.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,T.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,T.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,T.DOWNLOAD_ERROR_ID_SIDX_CODE=26,T.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,T.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,T.DOWNLOAD_ERROR_ID_XLINK_CODE=29,T.MANIFEST_ERROR_ID_PARSE_CODE=31,T.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,T.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,T.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,T.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,T.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",T.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",T.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",T.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",T.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",T.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",T.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",T.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",T.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",T.APPEND_ERROR_MESSAGE="chunk is not defined",T.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",T.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",T.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",T.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",T.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",T.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",T}return function _(O,D,I){return D&&b(O.prototype,D),I&&b(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(e(
/*! ./ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));p.default=N},"./src/core/errors/ErrorsBase.js":
/*!***************************************!*\
                  !*** ./src/core/errors/ErrorsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function b(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,P(f.key),f)}}function P(i){var c=function C(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=function(){function i(){!function v(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")}(this,i)}return function _(i,c,d){return c&&b(i.prototype,c),d&&b(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"extend",value:function(d,f){if(d){var g=!!f&&f.override,S=!!f&&f.publicOnly;for(var x in d)!d.hasOwnProperty(x)||this[x]&&!g||S&&-1===d[x].indexOf("public_")||(this[x]=d[x])}}}]),i}()},"./src/core/events/CoreEvents.js":
/*!***************************************!*\
                  !*** ./src/core/events/CoreEvents.js ***!
                  \***************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./EventsBase */
"./src/core/events/EventsBase.js");function v(N){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(N)}function b(N,O){for(var D=0;D<O.length;D++){var I=O[D];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(N,P(I.key),I)}}function P(N){var O=function C(N,O){if("object"!==v(N)||null===N)return N;var D=N[Symbol.toPrimitive];if(void 0!==D){var I=D.call(N,O||"default");if("object"!==v(I))return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(N)}(N,"string");return"symbol"===v(O)?O:String(O)}function i(N,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(O&&O.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),O&&c(N,O)}function c(N,O){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,T){return I.__proto__=T,I})(N,O)}function d(N){var O=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,I=x(N);if(O){var L=x(this).constructor;T=Reflect.construct(I,arguments,L)}else T=I.apply(this,arguments);return function f(N,O){if(O&&("object"===v(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return function g(N){if(void 0===N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}(N)}(this,T)}}function x(N){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)})(N)}p.default=function(N){i(D,N);var O=d(D);function D(){var I;return function m(N,O){if(!(N instanceof O))throw new TypeError("Cannot call a class as a function")}(this,D),(I=O.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",I.BUFFERING_COMPLETED="bufferingCompleted",I.BUFFER_CLEARED="bufferCleared",I.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",I.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",I.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",I.CURRENT_TRACK_CHANGED="currentTrackChanged",I.DATA_UPDATE_COMPLETED="dataUpdateCompleted",I.INBAND_EVENTS="inbandEvents",I.INITIAL_STREAM_SWITCH="initialStreamSwitch",I.INIT_FRAGMENT_LOADED="initFragmentLoaded",I.INIT_FRAGMENT_NEEDED="initFragmentNeeded",I.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",I.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",I.LOADING_COMPLETED="loadingCompleted",I.LOADING_PROGRESS="loadingProgress",I.LOADING_DATA_PROGRESS="loadingDataProgress",I.LOADING_ABANDONED="loadingAborted",I.MANIFEST_UPDATED="manifestUpdated",I.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",I.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",I.QUOTA_EXCEEDED="quotaExceeded",I.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",I.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",I.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",I.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",I.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",I.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",I.SOURCE_BUFFER_ERROR="sourceBufferError",I.STREAMS_COMPOSED="streamsComposed",I.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",I.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",I.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",I.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",I.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",I.URL_RESOLUTION_FAILED="urlResolutionFailed",I.VIDEO_CHUNK_RECEIVED="videoChunkReceived",I.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",I.XLINK_ELEMENT_LOADED="xlinkElementLoaded",I.XLINK_READY="xlinkReady",I.SEEK_TARGET="seekTarget",I.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",I.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",I.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",I.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",I.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",I}return function _(N,O,D){return O&&b(N.prototype,O),D&&b(N,D),Object.defineProperty(N,"prototype",{writable:!1}),N}(D)}(t.default)},"./src/core/events/Events.js":
/*!***********************************!*\
                  !*** ./src/core/events/Events.js ***!
                  \***********************************/
/*! exports provided: default */function(et,p,e){"use strict";function v(O){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(O)}function b(O,D){for(var I=0;I<D.length;I++){var T=D[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,P(T.key),T)}}function P(O){var D=function C(O,D){if("object"!==v(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var T=I.call(O,D||"default");if("object"!==v(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(O)}(O,"string");return"symbol"===v(D)?D:String(D)}function i(O,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),D&&c(O,D)}function c(O,D){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,L){return T.__proto__=L,T})(O,D)}function d(O){var D=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,T=x(O);if(D){var y=x(this).constructor;L=Reflect.construct(T,arguments,y)}else L=T.apply(this,arguments);return function f(O,D){if(D&&("object"===v(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function g(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function x(O){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}e.r(p);var A=function(O){i(I,O);var D=d(I);function I(){return function m(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I),D.apply(this,arguments)}return function _(O,D,I){return D&&b(O.prototype,D),I&&b(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(e(
/*! ./CoreEvents */
"./src/core/events/CoreEvents.js").default),N=new A;p.default=N},"./src/core/events/EventsBase.js":
/*!***************************************!*\
                  !*** ./src/core/events/EventsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function b(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,P(f.key),f)}}function P(i){var c=function C(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=function(){function i(){!function v(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")}(this,i)}return function _(i,c,d){return c&&b(i.prototype,c),d&&b(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"extend",value:function(d,f){if(d){var g=!!f&&f.override,S=!!f&&f.publicOnly;for(var x in d)!d.hasOwnProperty(x)||this[x]&&!g||S&&-1===d[x].indexOf("public_")||(this[x]=d[x])}}}]),i}()},"./src/dash/DashAdapter.js":
/*!*********************************!*\
                  !*** ./src/dash/DashAdapter.js ***!
                  \*********************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js"),v=e(
/*! ./vo/RepresentationInfo */
"./src/dash/vo/RepresentationInfo.js"),b=e(
/*! ./vo/MediaInfo */
"./src/dash/vo/MediaInfo.js"),_=e(
/*! ./vo/StreamInfo */
"./src/dash/vo/StreamInfo.js"),P=e(
/*! ./vo/ManifestInfo */
"./src/dash/vo/ManifestInfo.js"),C=e(
/*! ./vo/Event */
"./src/dash/vo/Event.js"),m=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),i=e(
/*! ./models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),c=e(
/*! ./models/PatchManifestModel */
"./src/dash/models/PatchManifestModel.js"),d=e(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),f=e.n(d);function g(){var S,x,A,N,O,D,I,T=this.context;function ae(He){return x.getRolesForAdaptation(He).filter(function(Ye){return Ye.value===t.default.MAIN})[0]}function Fe(He,Ye,st){var at=x.getAdaptationsForType(N[0].mpd.manifest,He,Ye);if(!at||0===at.length)return null;if(at.length>1&&st){var St=G(st,Ye);if(O[st.id]&&O[st.id][Ye])for(var bt=0,At=at.length;bt<At;bt++)if(Y(O[st.id][Ye],St[bt]))return at[bt];for(var on=0,En=at.length;on<En;on++)if(ae(at[on]))return at[on]}return at[0]}function Y(He,Ye){if(!He||!Ye)return!1;var st=He.id===Ye.id,at=He.codec===Ye.codec,St=He.viewpoint===Ye.viewpoint,bt=He.lang===Ye.lang,At=He.roles.toString()===Ye.roles.toString(),on=He.accessibility.toString()===Ye.accessibility.toString(),En=He.audioChannelConfiguration.toString()===Ye.audioChannelConfiguration.toString();return st&&at&&St&&bt&&At&&on&&En}function le(He,Ye,st,at,St,bt){var En,tn,Mn,In,Nn,At=[];if(!at||0===at.length)return[];var $n=x.getAdaptationsForPeriod(Ye);for(Mn=0,Nn=at.length;Mn<Nn;Mn++)if(En=ze($n[tn=x.getIndexForAdaptation(at[Mn],He,st.index)]),bt){var ni=En.accessibility.length;for(In=0;In<ni;In++)if(En){var vn=En.accessibility[In];if(0===vn.indexOf("cea-608:")){var yn=vn.substring(8).split(";");if("CC"===yn[0].substring(0,2))for(In=0;In<yn.length;In++)En||(En=ze.call(this,$n[tn])),Tt(En,yn[In].substring(0,3),yn[In].substring(4)),At.push(En),En=null;else for(In=0;In<yn.length;In++)En||(En=ze.call(this,$n[tn])),Tt(En,"CC"+(In+1),yn[In]),At.push(En),En=null}else 0===vn.indexOf("cea-608")&&(Tt(En,D.CC1,"eng"),At.push(En),En=null)}}else St===D.IMAGE?(Kt(En),At.push(En),En=null):En&&At.push(En);return At}function G(He,Ye,st){var at=N,St=st,bt=[];if(St)un(),at=be(St);else{if(!(N.length>0))return bt;St=N[0].mpd.manifest}var At=fe(He,at),on=x.getAdaptationsForType(St,He?He.index:null,Ye);return bt=le(St,At,He,on,Ye),Ye===D.TEXT&&(on=x.getAdaptationsForType(St,He?He.index:null,D.VIDEO),bt=bt.concat(le(St,At,He,on,Ye,!0))),bt}function be(He){var Ye=Q(He);return x.getRegularPeriods(Ye)}function Q(He){var Ye=yt(He);return x.getMpd(Ye)}function tt(){N=[],O={}}function yt(He){return He||(N.length>0?N[0].mpd.manifest:null)}function Dt(He){try{var Ye=fe(He.streamInfo,N),st=x.getAdaptationsForPeriod(Ye);return He&&He.streamInfo&&void 0!==He.streamInfo.id&&st?st[He.index]:null}catch{return null}}function fe(He,Ye){for(var st=Ye.length,at=0;at<st;at++){var St=Ye[at];if(He&&He.id===St.id)return St}return null}function ze(He){if(!He)return null;var at,Ye=new b.default,st=He.period.mpd.manifest.Period_asArray[He.period.index].AdaptationSet_asArray[He.index];if(Ye.id=He.id,Ye.index=He.index,Ye.type=He.type,Ye.streamInfo=Jt(He.period),Ye.representationCount=x.getRepresentationCount(st),Ye.labels=x.getLabelsForAdaptation(st),Ye.lang=x.getLanguageForAdaptation(st),at=x.getViewpointForAdaptation(st),Ye.viewpoint=at?at.value:void 0,Ye.accessibility=x.getAccessibilityForAdaptation(st).map(function(At){var on=At.value,En=on;return At.schemeIdUri&&At.schemeIdUri.search("cea-608")>=0&&typeof I<"u"&&(En=on?"cea-608:"+on:"cea-608",Ye.embeddedCaptions=!0),En}),Ye.audioChannelConfiguration=x.getAudioChannelConfigurationForAdaptation(st).map(function(At){return At.value}),0===Ye.audioChannelConfiguration.length&&Array.isArray(st.Representation_asArray)&&st.Representation_asArray.length>0&&(Ye.audioChannelConfiguration=x.getAudioChannelConfigurationForRepresentation(st.Representation_asArray[0]).map(function(At){return At.value})),Ye.roles=x.getRolesForAdaptation(st).map(function(At){return At.value}),Ye.codec=x.getCodec(st),Ye.mimeType=x.getMimeType(st),Ye.contentProtection=x.getContentProtectionData(st),Ye.bitrateList=x.getBitrateListForAdaptation(st),Ye.selectionPriority=x.getSelectionPriority(st),Ye.contentProtection){var St=Ye.contentProtection.map(function(At){return x.getKID(At)}).filter(function(At){return null!==At});if(St.length){var bt=St[0];Ye.contentProtection.forEach(function(At){At.keyId=bt})}}return Ye.isText=x.getIsText(st),Ye.supplementalProperties=x.getSupplementalProperties(st),Ye.isFragmented=x.getIsFragmented(st),Ye.isEmbedded=!1,Ye}function Tt(He,Ye,st){He.id=Ye,He.index=100+parseInt(Ye.substring(2,3)),He.type=D.TEXT,He.codec="cea-608-in-SEI",He.isEmbedded=!0,He.isFragmented=!1,He.lang=f()(st),He.roles=["caption"]}function Kt(He){He.type=D.IMAGE}function Jt(He){var Ye=new _.default;return Ye.id=He.id,Ye.index=He.index,Ye.start=He.start,Ye.duration=He.duration,Ye.manifestInfo=function qt(He){var Ye=new P.default;return Ye.dvrWindowSize=He.timeShiftBufferDepth,Ye.loadedTime=He.manifest.loadedTime,Ye.availableFrom=He.availabilityStartTime,Ye.minBufferTime=He.manifest.minBufferTime,Ye.maxFragmentDuration=He.maxSegmentDuration,Ye.duration=x.getDuration(He.manifest),Ye.isDynamic=x.getIsDynamic(He.manifest),Ye.serviceDescriptions=x.getServiceDescriptions(He.manifest),Ye.protocol=He.manifest.protocol,Ye}(He.mpd),Ye.isLast=1===He.mpd.manifest.Period_asArray.length||Math.abs(Ye.start+Ye.duration-Ye.manifestInfo.duration)<1,Ye}function un(){if(!D)throw new Error("setConfig function has to be called previously")}function fn(He){return N.length>0?N[0].mpd.manifest.Period_asArray[He]:null}function vt(He,Ye,st){var St,bt,At,on,En;if(He)for(St=He.AdaptationSet_asArray,on=0;on<St.length;on+=1)for(At=St[on].Representation_asArray,En=0;En<At.length;En+=1)if(Ye===(bt=At[En]).id)return st?En:bt;return null}return S={getBandwidthForRepresentation:function xe(He,Ye){var st;return(st=vt(fn(Ye),He))?st.bandwidth:null},getIndexForRepresentation:function Ee(He,Ye){return function wt(He,Ye){var st=vt(He,Ye,!0);return null!==st?st:-1}(fn(Ye),He)},getMaxIndexForBufferType:function Ge(He,Ye){return function it(He,Ye){var st,at,St,bt;if(!He||!Ye)return-1;for(at=He.AdaptationSet_asArray,bt=0;bt<at.length;bt+=1)if(St=(st=at[bt]).Representation_asArray,x.getIsTypeOf(st,Ye))return St.length;return-1}(fn(Ye),He)},convertRepresentationToRepresentationInfo:function z(He){if(He){var Ye=new v.default,at=x.getRepresentationFor(He.index,He.adaptation.period.mpd.manifest.Period_asArray[He.adaptation.period.index].AdaptationSet_asArray[He.adaptation.index]);return Ye.id=He.id,Ye.quality=He.index,Ye.bandwidth=x.getBandwidth(at),Ye.fragmentDuration=He.segmentDuration||(He.segments&&He.segments.length>0?He.segments[0].duration:NaN),Ye.MSETimeOffset=He.MSETimeOffset,Ye.mediaInfo=ze(He.adaptation),Ye}return null},getStreamsInfo:function ce(He,Ye){var st=[],at=N;if(He&&(un(),at=be(He)),at.length>0){(!Ye||Ye>at.length)&&(Ye=at.length);for(var St=0;St<Ye;St++)st.push(Jt(at[St]))}return st},getMediaInfoForType:function ne(He,Ye){if(0===N.length||!He)return null;var st=fe(He,N);if(!st)return null;var at=x.getAdaptationsForPeriod(st),St=Fe(He.index,Ye,He);return St?ze(at[x.getIndexForAdaptation(St,N[0].mpd.manifest,He.index)]):null},getAllMediaInfoForType:G,getAdaptationForType:Fe,getRealAdaptation:function ge(He,Ye){var st,at,St=fe(He,N);return st=Ye?Ye.id:null,N.length>0&&St&&(at=st?x.getAdaptationForId(st,N[0].mpd.manifest,St.index):x.getAdaptationForIndex(Ye?Ye.index:null,N[0].mpd.manifest,St.index)),at},getProducerReferenceTimes:function Ie(He,Ye){var st,at,St=fe(He,N);return st=Ye?Ye.id:null,N.length>0&&St&&(at=st?x.getAdaptationForId(st,N[0].mpd.manifest,St.index):x.getAdaptationForIndex(Ye?Ye.index:null,N[0].mpd.manifest,St.index)),at?x.getProducerReferenceTimesForAdaptation(at):[]},getRealPeriodByIndex:function pe(He){return x.getRealPeriodForIndex(He,N[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function Ce(He){try{return x.getEssentialPropertiesForRepresentation(He)}catch{return[]}},getVoRepresentations:function Ae(He){var st=Dt(He);return x.getRepresentationsForAdaptation(st)},getEventsFor:function he(He,Ye,st){var at=[];if(N.length>0){var St=N[0].mpd.manifest;if(He instanceof _.default){var bt=fe(He,N);at=x.getEventsForPeriod(bt)}else if(He instanceof b.default){var At=fe(st,N);at=x.getEventStreamForAdaptationSet(St,Dt(He),At)}else if(He instanceof v.default){var on=fe(st,N);at=x.getEventStreamForRepresentation(St,Ye,on)}}return at},getEvent:function ke(He,Ye,st,at){try{if(!He||!Ye||isNaN(st)||!at)return null;var St=He.scheme_id_uri,bt=He.value;if(!Ye[St+"/"+bt])return null;var Nn,At=new C.default,on=He.timescale||1,En=at.adaptation.period.start,tn=Ye[St+"/"+bt],Mn=isNaN(at.presentationTimeOffset)?isNaN(tn.presentationTimeOffset)?0:tn.presentationTimeOffset:at.presentationTimeOffset,In=He.presentation_time_delta/on;Nn=0===He.version?En+st-Mn+In:En-Mn+In;var $n=He.event_duration/on,ni=He.id,vn=He.message_data;return At.eventStream=tn,At.eventStream.value=bt,At.eventStream.timescale=on,At.duration=$n,At.id=ni,At.calculatedPresentationTime=Nn,At.messageData=vn,At.presentationTimeDelta=In,At}catch{return null}},getMpd:Q,setConfig:function B(He){He&&(He.constants&&(D=He.constants),He.cea608parser&&(I=He.cea608parser),He.errHandler&&x.setConfig({errHandler:He.errHandler}),He.BASE64&&x.setConfig({BASE64:He.BASE64}))},updatePeriods:function Se(He){if(!He)return null;un(),N=be(He)},getIsTextTrack:function Te(He){return x.getIsText(He)},getUTCTimingSources:function Oe(){var He=yt();return x.getUTCTimingSources(He)},getSuggestedPresentationDelay:function Ve(){return x.getSuggestedPresentationDelay(N.length>0?N[0].mpd:null)},getAvailabilityStartTime:function ft(He){var Ye=Q(He);return x.getAvailabilityStartTime(Ye)},getIsTypeOf:function Xe(He,Ye){return x.getIsTypeOf(He,Ye)},getIsDynamic:function Ze(He){var Ye=yt(He);return x.getIsDynamic(Ye)},getDuration:function Re(He){var Ye=yt(He);return x.getDuration(Ye)},getRegularPeriods:be,getContentSteering:function ie(He){return x.getContentSteering(He)},getLocation:function ye(He){return x.getLocation(He)},getPatchLocation:function X(He){var Ye=x.getPatchLocation(He),st=x.getPublishTime(He);if(!Ye||!st)return null;if(Ye.hasOwnProperty("ttl")&&st){var at=1e3*parseFloat(Ye.ttl);if(st.getTime()+at<=(new Date).getTime())return null}return Ye.__text},getManifestUpdatePeriod:function oe(He){return x.getManifestUpdatePeriod(He,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},getPublishTime:function ee(He){return x.getPublishTime(He)},getIsDVB:function $(He){return x.hasProfile(He,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function re(He){return A.getIsPatch(He)},getBaseURLsFromElement:function J(He){return x.getBaseURLsFromElement(He)},getRepresentationSortFunction:function q(){return x.getRepresentationSortFunction()},getCodec:function _e(He,Ye,st){return x.getCodec(He,Ye,st)},getPeriodById:function ct(He){if(!He||0===N.length)return null;var Ye=N.filter(function(st){return st.id===He});return Ye&&Ye.length>0?Ye[0]:null},setCurrentMediaInfo:function we(He,Ye,st){O[He]=O[He]||{},O[He][Ye]=O[He][Ye]||{},O[He][Ye]=st},isPatchValid:function gt(He,Ye){var st=x.getId(He),at=A.getMpdId(Ye),St=x.getPublishTime(He),bt=A.getPublishTime(Ye),At=A.getOriginalPublishTime(Ye);return!!(st&&at&&st==at&&St&&At&&St.getTime()==At.getTime()&&bt&&St.getTime()<bt.getTime())},applyPatchToManifest:function Qe(He,Ye){A.getPatchOperations(Ye).forEach(function(st){var at=st.getMpdTarget(He);if(null!==at){var St=at.name,bt=at.target,At=at.leaf;if(st.xpath.findsAttribute()){switch(st.action){case"add":case"replace":bt[St]=st.value;break;case"remove":delete bt[St]}return}var on=(bt[St+"_asArray"]||[]).indexOf(At),En="prepend"===st.position||"before"===st.position;if(("remove"===st.action||"replace"===st.action)&&(delete bt[St],-1!=on)){var tn=bt[St+"_asArray"];tn.splice(on,1),tn.length>1?bt[St]=tn:1==tn.length?bt[St]=tn[0]:delete bt[St+"_asArray"]}("add"===st.action||"replace"===st.action)&&Object.keys(st.value).forEach(function(Mn){var In=st.value[Mn],Nn=bt[Mn+"_asArray"]||[];0===Nn.length&&bt[Mn]&&Nn.push(bt[Mn]),0===Nn.length?Nn=In:Nn.splice.apply(Nn,[Mn==St&&-1!=on?on+(En?0:1)+("replace"==st.action?-1:0):En?0:Nn.length,0].concat(In)),bt[Mn+"_asArray"]=Nn,bt[Mn]=1==Nn.length?Nn[0]:Nn})}})},areMediaInfosEqual:Y,reset:tt},function y(){x=Object(i.default)(T).getInstance(),A=Object(c.default)(T).getInstance(),tt()}(),S}g.__dashjs_factory_name="DashAdapter",p.default=m.default.getSingletonFactory(g)},"./src/dash/DashHandler.js":
/*!*********************************!*\
                  !*** ./src/dash/DashHandler.js ***!
                  \*********************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),v=e(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),b=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),P=e(
/*! ./utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),C=e(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js");function c(d){var I,T,L,y,B,f=(d=d||{}).eventBus,g=d.debug,S=d.urlUtils,x=d.type,A=d.streamInfo,N=d.segmentsController,O=d.timelineConverter,D=d.baseURLController;function Fe(){return x}function le(){L=null}function Se(Oe,Ve,ft){var Re,be,Ze=D.resolve(ft.path);return Ze&&Ve!==Ze.url&&S.isRelative(Ve)?(Re=Ze.url,be=Ze.serviceLocation,Ve&&(Re=S.resolve(Ve,Re))):Re=Ve,!S.isRelative(Re)&&(Oe.url=Re,Oe.serviceLocation=be,!0)}function Ie(Oe,Ve){if(null==Ve)return null;var ft=new t.default,Ze=Ve.representation,Re=Ze.adaptation.period.mpd.manifest.Period_asArray[Ze.adaptation.period.index].AdaptationSet_asArray[Ze.adaptation.index].Representation_asArray[Ze.index].bandwidth,be=Ve.media;return be=Object(P.replaceTokenForTemplate)(be,"Number",Ve.replacementNumber),be=Object(P.replaceTokenForTemplate)(be,"Time",Ve.replacementTime),be=Object(P.replaceTokenForTemplate)(be,"Bandwidth",Re),be=Object(P.replaceIDForTemplate)(be,Ze.id),be=Object(P.unescapeDollarsInTemplate)(be),ft.mediaType=Fe(),ft.type=v.HTTPRequest.MEDIA_SEGMENT_TYPE,ft.range=Ve.mediaRange,ft.startTime=Ve.presentationStartTime,ft.mediaStartTime=Ve.mediaStartTime,ft.duration=Ve.duration,ft.timescale=Ze.timescale,ft.availabilityStartTime=Ve.availabilityStartTime,ft.availabilityEndTime=Ve.availabilityEndTime,ft.availabilityTimeComplete=Ze.availabilityTimeComplete,ft.wallStartTime=Ve.wallStartTime,ft.quality=Ze.index,ft.index=Ve.index,ft.mediaInfo=Oe,ft.adaptationIndex=Ze.adaptation.index,ft.representationId=Ze.id,Se(ft,be,Ze)?ft:void 0}function pe(Oe,Ve,ft){var Ze=null;if(!Ve||!Ve.segmentInfoType)return Ze;var Re=N.getSegmentByTime(Ve,ft);return Re&&(L=Re,T.debug("Index for time "+ft+" is "+Re.index),Ze=Ie(Oe,Re)),Ze}function Te(){T.debug("Dynamic stream complete"),B=!0}return I={initialize:function ne(Oe){y=Oe,B=!1,N.initialize(Oe)},getStreamId:function ae(){return A.id},getType:Fe,getStreamInfo:function Y(){return A},getInitRequest:function ce(Oe,Ve){return Ve?function ge(Oe,Ve,ft){var Ze=new t.default,Re=Ve.adaptation.period,be=Re.start;if(Ze.mediaType=ft,Ze.type=v.HTTPRequest.INIT_SEGMENT_TYPE,Ze.range=Ve.range,Ze.availabilityStartTime=O.calcAvailabilityStartTimeFromPresentationTime(be,Ve,y),Ze.availabilityEndTime=O.calcAvailabilityEndTimeFromPresentationTime(be+Re.duration,Ve,y),Ze.quality=Ve.index,Ze.mediaInfo=Oe,Ze.representationId=Ve.id,Se(Ze,Ve.initialization,Ve))return Ze.url=Object(P.replaceTokenForTemplate)(Ze.url,"Bandwidth",Ve.bandwidth),Ze}(Oe,Ve,Fe()):null},getSegmentRequestForTime:pe,getCurrentIndex:function we(){return L?L.index:-1},getNextSegmentRequest:function ke(Oe,Ve){var ft=null;if(!Ve||!Ve.segmentInfoType)return null;var Ze=L?L.index+1:0,Re=N.getSegmentByIndex(Ve,Ze,L?L.mediaStartTime:-1);if(Re)ft=Ie(Oe,Re),L=Re;else{if(y&&!B)return T.debug(Fe()+" No segment found at index: "+Ze+". Wait for next loop"),null;B=!0}return ft},isLastSegmentRequested:function Ce(Oe,Ve){if(!Oe||!L)return!1;if(B)return!0;if(!isFinite(Oe.adaptation.period.duration)||L.presentationStartTime+L.duration>Ve)return!1;if(Oe.mediaFinishedInformation&&!isNaN(Oe.mediaFinishedInformation.numberOfSegments)&&!isNaN(L.index)&&L.index>=Oe.mediaFinishedInformation.numberOfSegments-1){if(!y||Oe.segmentInfoType===C.default.SEGMENT_TEMPLATE)return!0;if(y&&Oe.segmentInfoType===C.default.SEGMENT_LIST&&Oe.adaptation.period.nextPeriodId)return!0}return!!(y&&Oe.adaptation.period.nextPeriodId&&Oe.segmentInfoType===C.default.SEGMENT_TIMELINE&&Oe.mediaFinishedInformation&&!isNaN(Oe.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&L&&!isNaN(L.mediaStartTime)&&!isNaN(L.duration)&&L.mediaStartTime+L.duration>=Oe.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},reset:function G(){le(),f.off(_.default.DYNAMIC_TO_STATIC,Te,I)},getNextSegmentRequestIdempotent:function Ae(Oe,Ve){var Re=N.getSegmentByIndex(Ve,L?L.index+1:0,L?L.mediaStartTime:-1);return Re?Ie(Oe,Re):null},getValidTimeAheadOfTargetTime:function he(Oe,Ve,ft,Ze){try{if(isNaN(Oe)||!Ve||!ft)return NaN;if(Oe<0&&(Oe=0),isNaN(Ze)&&(Ze=.5),pe(Ve,ft,Oe))return Oe;if(ft.adaptation.period.start+ft.adaptation.period.duration<Oe)return NaN;for(var Re=isFinite(ft.adaptation.period.duration)?ft.adaptation.period.start+ft.adaptation.period.duration:Oe+30,be=Math.min(Oe+Ze,Re),Q=NaN,ie=null;be<=Re;){var ye=null;if(be<=Re&&(ye=pe(Ve,ft,be)),ye){Q=be,ie=ye;break}be+=Ze}if(ie){var oe=ie.startTime+ie.duration;return Oe>ie.startTime&&oe-Oe>Ze?Oe:!isNaN(ie.startTime)&&Oe<ie.startTime&&Q>ie.startTime?ie.startTime+.001:Math.min(oe-Ze,Q)}return Q}catch{return NaN}}},function z(){T=g.getLogger(I),le(),f.on(_.default.DYNAMIC_TO_STATIC,Te,I)}(),I}c.__dashjs_factory_name="DashHandler",p.default=b.default.getClassFactory(c)},"./src/dash/DashMetrics.js":
/*!*********************************!*\
                  !*** ./src/dash/DashMetrics.js ***!
                  \*********************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),b=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../streaming/constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),P=e(
/*! ./utils/Round10 */
"./src/dash/utils/Round10.js"),C=e(
/*! ../streaming/models/MetricsModel */
"./src/streaming/models/MetricsModel.js"),m=e(
/*! ../core/Utils */
"./src/core/Utils.js"),i=e(
/*! ../streaming/vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js");function c(d){var g,S,x,A,f=this.context,N=(d=d||{}).metricsModel;function ae(ye){var oe=N.getMetricsFor(ye,!0);if(!oe)return null;var $,ee=oe.HttpList,X=null;if(!ee||ee.length<=0)return null;for($=ee.length-1;$>=0;){if(ee[$].responsecode){X=ee[$];break}$--}return X}function Fe(ye){var oe=N.getMetricsFor(ye,!0);return oe&&oe.HttpList?oe.HttpList:[]}function le(ye,oe){if(!ye)return null;var ee=ye[oe];return ee&&0!==ee.length?ee[ee.length-1]:null}return g={getCurrentRepresentationSwitch:function I(ye){return le(N.getMetricsFor(ye,!0),_.default.TRACK_SWITCH)},getCurrentBufferState:function L(ye){return le(N.getMetricsFor(ye,!0),_.default.BUFFER_STATE)},getCurrentBufferLevel:function y(ye){var ee=le(N.getMetricsFor(ye,!0),_.default.BUFFER_LEVEL);return ee?P.default.round10(ee.level/1e3,-3):0},getCurrentHttpRequest:ae,getHttpRequests:Fe,getCurrentDroppedFrames:function G(){return le(N.getMetricsFor(t.default.VIDEO,!0),_.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function ce(ye){return le(N.getMetricsFor(ye,!0),_.default.SCHEDULING_INFO)},getCurrentDVRInfo:function we(ye){return le(ye?N.getMetricsFor(ye,!0):N.getMetricsFor(t.default.VIDEO,!0)||N.getMetricsFor(t.default.AUDIO,!0),_.default.DVR_INFO)},getCurrentManifestUpdate:function Ie(){return le(N.getMetricsFor(t.default.STREAM),_.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function Ve(ye,oe){if(!oe)return null;var ee={},X=ae(ye);X&&(ee=m.default.parseHttpHeaders(X._responseHeaders));var $=ee[oe.toLowerCase()];return void 0===$?null:$},getLatestMPDRequestHeaderValueByID:function Oe(ye){if(!ye)return null;var ee,X,$,oe={};for($=(ee=Fe(t.default.STREAM)).length-1;$>=0;$--)if((X=ee[$]).type===v.HTTPRequest.MPD_TYPE){oe=m.default.parseHttpHeaders(X._responseHeaders);break}var re=oe[ye.toLowerCase()];return void 0===re?null:re},addRepresentationSwitch:function T(ye,oe,ee,X,$){N.addRepresentationSwitch(ye,oe,ee,X,$)},addDVRInfo:function Te(ye,oe,ee,X){N.addDVRInfo(ye,oe,ee,X)},updateManifestUpdateInfo:function Ce(ye){var oe=this.getCurrentManifestUpdate();N.updateManifestUpdateInfo(oe,ye)},addManifestUpdateStreamInfo:function pe(ye){if(ye){var oe=this.getCurrentManifestUpdate();N.addManifestUpdateStreamInfo(oe,ye.id,ye.index,ye.start,ye.duration)}},addManifestUpdateRepresentationInfo:function he(ye,oe){if(ye){var ee=this.getCurrentManifestUpdate();N.addManifestUpdateRepresentationInfo(ee,ye.id,ye.index,ye.streamIndex,oe,ye.presentationTimeOffset,ye.startNumber,ye.fragmentInfoType)}},addManifestUpdate:function Ae(ye){N.addManifestUpdate(t.default.STREAM,ye.type,ye.requestStartDate,ye.requestEndDate)},addHttpRequest:function ke(ye,oe,ee,X,$){N.addHttpRequest(ye.mediaType,null,ye.type,ye.url,ye.quality,oe,ye.serviceLocation||null,ye.range||null,ye.requestStartDate,ye.firstByteDate,ye.requestEndDate,ee,ye.duration,X,$,ye.fileLoaderType)},addSchedulingInfo:function ge(ye,oe){N.addSchedulingInfo(ye.mediaType,new Date,ye.type,ye.startTime,ye.availabilityStartTime,ye.duration,ye.quality,ye.range,oe)},addRequestsQueue:function Y(ye,oe,ee){N.addRequestsQueue(ye,oe,ee)},addBufferLevel:function B(ye,oe,ee){N.addBufferLevel(ye,oe,ee)},addBufferState:function z(ye,oe,ee){N.addBufferState(ye,oe,ee)},addDroppedFrames:function Se(ye){N.addDroppedFrames(t.default.VIDEO,ye)},addPlayList:function ft(){A&&(N.addPlayList(A),A=null)},addDVBErrors:function ie(ye){N.addDVBErrors(ye)},createPlaylistMetrics:function Ze(ye,oe){(A=new i.PlayList).start=new Date,A.mstart=ye,A.starttype=oe},createPlaylistTraceMetrics:function Re(ye,oe,ee){!0===S&&(S=!1,(x=new i.PlayListTrace).representationid=ye,x.start=new Date,x.mstart=oe,x.playbackspeed=null!==ee?ee.toString():null)},updatePlayListTraceMetrics:function be(ye){if(x)for(var oe in x)x[oe]=ye[oe]},pushPlayListTraceMetrics:function Q(ye,oe){if(!1===S&&A&&x&&x.start){var ee=x.start,X=ye.getTime()-ee.getTime();x.duration=X,x.stopreason=oe,A.trace.push(x),S=!0}},clearAllCurrentMetrics:function ne(){N.clearAllCurrentMetrics()}},function O(){N=N||Object(C.default)(f).getInstance({settings:d.settings}),function D(){S=!0,x=null,A=null}()}(),g}c.__dashjs_factory_name="DashMetrics",p.default=b.default.getSingletonFactory(c)},"./src/dash/SegmentBaseLoader.js":
/*!***************************************!*\
                  !*** ./src/dash/SegmentBaseLoader.js ***!
                  \***************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),v=e(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),b=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),P=e(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js");function C(){var i,c,d,f,g,S,x,A,N,O,D,I,T,m=this.context;function ne(ce,ge,Ie,Ce){var pe=null,Ae=ce?T.resolve(ce.path):null,ke=Ce||{init:!0,url:Ae?Ae.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:ge};c.debug("Start searching for initialization.");var he=Se(ke);A.load({request:he,success:function(Ve){if(ke.bytesLoaded=ke.range.end,!(pe=f.findInitRange(Ve)))return ke.range.end=ke.bytesLoaded+ke.bytesToLoad,ne(ce,ge,Ie,ke);ce.range=pe,Ie(ce)},error:function(){Ie(ce)}}),c.debug("Perform init search: "+ke.url)}function Fe(ce,ge,Ie,Ce,pe,Ae){if(Ie&&(void 0===Ie.start||void 0===Ie.end)){var ke=Ie?Ie.toString().split("-"):null;Ie=ke?{start:parseFloat(ke[0]),end:parseFloat(ke[1])}:null}pe=pe||Y;var he=null,we=null,Te=!!Ie,Oe=ce?T.resolve(ce.path):null,Ve={init:!1,url:Oe?Oe.url:void 0,range:Te?Ie:{start:0,end:1500},searching:!Te,bytesLoaded:Ae?Ae.bytesLoaded:0,bytesToLoad:1500,mediaType:ge},ft=Se(Ve);A.load({request:ft,success:function(Q){var ie=Ve.bytesToLoad,ye=Q.byteLength;if(Ve.bytesLoaded=Ve.range.end-Ve.range.start,he=f.parse(Q),(we=he.getBox("sidx"))&&we.isComplete){var X,$,ee=we.references;if(null!=ee&&ee.length>0&&(X=1===ee[0].reference_type),X){c.debug("Initiate multiple SIDX load."),Ve.range.end=Ve.range.start+we.size;var re,J,q,_e,Ee=[],Ge=0,ct=(we.offset||Ve.range.start)+we.size,Xe=function(gt){gt?(Ee=Ee.concat(gt),++Ge>=J&&(Ee.sort(function(Qe,yt){return Qe.startTime-yt.startTime<0?-1:0}),pe(Ee,ce,Ce))):pe(null,ce,Ce)};for(re=0,J=ee.length;re<J;re++)q=ct,_e=ct+ee[re].referenced_size-1,ct+=ee[re].referenced_size,Fe(ce,ge,{start:q,end:_e},Ce,Xe,Ve)}else c.debug("Parsing segments from SIDX. representation "+ge+" - id: "+ce.id+" for range : "+Ve.range.start+" - "+Ve.range.end),$=function G(ce,ge){for(var we,Oe,Ve,Ie=ce.references,Ce=Ie.length,pe=ce.timescale,Ae=ce.earliest_presentation_time,ke=ge.range.start+ce.offset+ce.first_offset+ce.size,he=[],ft=0;ft<Ce;ft++)Oe=Ie[ft].subsegment_duration,Ve=Ie[ft].referenced_size,(we=new t.default).duration=Oe,we.startTime=Ae,we.timescale=pe,we.mediaRange=ke+"-"+(ke+Ve-1),he.push(we),Ae+=Oe,ke+=Ve;return he}(we,Ve),pe($,ce,Ce)}else{if(we)Ve.range.start=we.offset||Ve.range.start,Ve.range.end=Ve.range.start+(we.size||ie);else{if(ye<Ve.bytesLoaded)return void pe(null,ce,Ce);var oe=he.getLastBox();oe&&oe.size?(Ve.range.start=oe.offset+oe.size,Ve.range.end=Ve.range.start+ie):Ve.range.end+=ie}Fe(ce,ge,Ve.range,Ce,null,Ve)}},error:function(){pe(null,ce,Ce)}}),c.debug("Perform SIDX load for type ".concat(ge," : ").concat(Ve.url," with range ").concat(Ve.range.start," - ").concat(Ve.range.end))}function Y(ce,ge,Ie){Ie({segments:ce,representation:ge,error:ce?void 0:new v.default(N.SEGMENT_BASE_LOADER_ERROR_CODE,N.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function Se(ce){if(ce.url){var ge=new _.default;return ge.setInfo(ce),ge}}return i={setConfig:function B(ce){ce.baseURLController&&(T=ce.baseURLController),ce.dashMetrics&&(S=ce.dashMetrics),ce.mediaPlayerModel&&(x=ce.mediaPlayerModel),ce.errHandler&&(d=ce.errHandler),ce.boxParser&&(f=ce.boxParser),ce.debug&&(c=ce.debug.getLogger(i)),ce.requestModifier&&(g=ce.requestModifier),ce.errors&&(N=ce.errors),ce.urlUtils&&(I=ce.urlUtils),ce.constants&&(O=ce.constants),ce.dashConstants&&(D=ce.dashConstants)},initialize:function y(){A=Object(P.default)(m).create({errHandler:d,dashMetrics:S,mediaPlayerModel:x,requestModifier:g,boxParser:f,errors:N,urlUtils:I,constants:O,dashConstants:D})},loadInitialization:function z(ce,ge){return new Promise(function(Ie){ne(ce,ge,Ie)})},loadSegments:function ae(ce,ge,Ie){return new Promise(function(Ce){Fe(ce,ge,Ie,Ce)})},reset:function le(){A&&(A.abort(),A=null)}}}C.__dashjs_factory_name="SegmentBaseLoader",p.default=b.default.getSingletonFactory(C)},"./src/dash/WebmSegmentBaseLoader.js":
/*!*******************************************!*\
                  !*** ./src/dash/WebmSegmentBaseLoader.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../streaming/utils/EBMLParser */
"./src/streaming/utils/EBMLParser.js"),v=e(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),P=e(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),C=e(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),m=e(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js");function i(){var d,f,g,S,x,A,N,O,D,I,c=this.context;function z(G,Se,ce,ge){var Ce,pe,Ae,ke,he;for(pe=[],ke=0,he=(Ce=function B(G){var ge,Ie,Se=[],ce=Object(t.default)(c).create({data:G});for(ce.consumeTagAndSize(g.Segment.Cues);ce.moreData()&&ce.consumeTagAndSize(g.Segment.Cues.CuePoint,!0);){for((ge={}).CueTime=ce.parseTag(g.Segment.Cues.CuePoint.CueTime),ge.CueTracks=[];ce.moreData()&&ce.consumeTag(g.Segment.Cues.CuePoint.CueTrackPositions,!0);){var Ce=ce.getMatroskaCodedNum(),pe=ce.getPos();if((Ie={}).Track=ce.parseTag(g.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===Ie.Track)throw new Error("Cue track cannot be 0");Ie.ClusterPosition=ce.parseTag(g.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),ge.CueTracks.push(Ie),ce.setPos(pe+Ce)}if(0===ge.CueTracks.length)throw new Error("Mandatory cuetrack not found");Se.push(ge)}if(0===Se.length)throw new Error("mandatory cuepoint not found");return Se}(G)).length;ke<he;ke+=1)(Ae=new _.default).duration=ke<Ce.length-1?Ce[ke+1].CueTime-Ce[ke].CueTime:ge-Ce[ke].CueTime,Ae.startTime=Ce[ke].CueTime,Ae.timescale=1e3,Ae.mediaRange=Ce[ke].CueTracks[0].ClusterPosition+Se+"-"+(ke<Ce.length-1?Ce[ke+1].CueTracks[0].ClusterPosition+Se-1:ce-1),pe.push(Ae);return f.debug("Parsed cues: "+pe.length+" cues."),pe}function Y(G){var Se=new P.default;return Se.setInfo(G),Se}return d={setConfig:function y(G){if(!(G.baseURLController&&G.dashMetrics&&G.mediaPlayerModel&&G.errHandler))throw new Error(v.default.MISSING_CONFIG_ERROR);I=G.baseURLController,A=G.dashMetrics,N=G.mediaPlayerModel,S=G.errHandler,D=G.errors,f=G.debug.getLogger(d),x=G.requestModifier},initialize:function L(){O=Object(C.default)(c).create({errHandler:S,dashMetrics:A,mediaPlayerModel:N,requestModifier:x,errors:D})},loadInitialization:function ae(G,Se){return new Promise(function(ce){var ge=null,Ie=G?I.resolve(G.path):null,Ce=G?G.range.split("-"):null,pe={range:{start:Ce?parseFloat(Ce[0]):null,end:Ce?parseFloat(Ce[1]):null},request:ge,url:Ie?Ie.url:void 0,init:!0,mediaType:Se};f.info("Start loading initialization."),ge=Y(pe),O.load({request:ge,success:function(){ce(G)},error:function(){ce(G)}}),f.debug("Perform init load: "+pe.url)})},loadSegments:function Fe(G,Se,ce){return new Promise(function(ge){var Ie=null,Ce=G?I.resolve(G.path):null,pe=Ce?Ce.url:void 0;Ie=Y({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:Ie,url:pe,init:!1,mediaType:Se}),f.debug("Parsing ebml header"),O.load({request:Ie,success:function(Oe){!function ne(G,Se,ce,ge){if(G&&0!==G.byteLength){var Ce,pe,Ae,ke,Ie=Object(t.default)(c).create({data:G}),he=ce?ce.split("-"):null,we=null,Te={url:Se,range:{start:he?parseFloat(he[0]):null,end:he?parseFloat(he[1]):null},request:we};for(f.debug("Parse EBML header: "+Te.url),Ie.skipOverElement(g.EBML),Ie.consumeTag(g.Segment),Ae=Ie.getMatroskaCodedNum(),Ae+=Ie.getPos(),ke=Ie.getPos();Ie.moreData()&&!Ie.consumeTagAndSize(g.Segment.Info,!0);)if(!(Ie.skipOverElement(g.Segment.SeekHead,!0)||Ie.skipOverElement(g.Segment.Tracks,!0)||Ie.skipOverElement(g.Segment.Cues,!0)||Ie.skipOverElement(g.Void,!0)))throw new Error("no valid top level element found");for(;void 0===Ce;){var Oe=Ie.getMatroskaCodedNum(!0),Ve=Ie.getMatroskaCodedNum();Oe===g.Segment.Info.Duration.tag?Ce=Ie[g.Segment.Info.Duration.parse](Ve):Ie.setPos(Ie.getPos()+Ve)}we=Y(Te),O.load({request:we,success:function(be){pe=z(be,ke,Ae,Ce),ge(pe)},error:function(){f.error("Download Error: Cues "+Te.url),ge(null)}}),f.debug("Perform cues load: "+Te.url+" bytes="+Te.range.start+"-"+Te.range.end)}else ge(null)}(Oe,pe,ce,function(Ve){ge({segments:Ve,representation:G,error:Ve?void 0:new m.default(D.SEGMENT_BASE_LOADER_ERROR_CODE,D.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){ge({representation:G,error:new m.default(D.SEGMENT_BASE_LOADER_ERROR_CODE,D.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function le(){O&&(O.abort(),O=null)}},function T(){g={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}(),d}i.__dashjs_factory_name="WebmSegmentBaseLoader",p.default=b.default.getSingletonFactory(i)},"./src/dash/constants/DashConstants.js":
/*!*********************************************!*\
                  !*** ./src/dash/constants/DashConstants.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function b(c,d){for(var f=0;f<d.length;f++){var g=d[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,P(g.key),g)}}function P(c){var d=function C(c,d){if("object"!==t(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var g=f.call(c,d||"default");if("object"!==t(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}e.r(p);var i=new(function(){function c(){(function v(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.init()}return function _(c,d,f){return d&&b(c.prototype,d),f&&b(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.PROXY_SERVER_URL="proxyServerURL",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",SERVICE_LOCATION_PRIORITY:"SERVICE-LOCATION-PRIORITY"}}}]),c}());p.default=i},"./src/dash/controllers/ContentSteeringController.js":
/*!***********************************************************!*\
                  !*** ./src/dash/controllers/ContentSteeringController.js ***!
                  \***********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=e(
/*! ../../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),_=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),P=e(
/*! ../vo/ContentSteeringRequest */
"./src/dash/vo/ContentSteeringRequest.js"),C=e(
/*! ../vo/ContentSteeringResponse */
"./src/dash/vo/ContentSteeringResponse.js"),m=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),i=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),c=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),d=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),f=e(
/*! ../../core/Utils */
"./src/core/Utils.js"),g=e(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),S_THROUGHPUT="_DASH_throughput",S_PATHWAY="_DASH_pathway",S_URL="url";function x(){var O,D,I,T,L,y,B,z,ne,ae,Fe,Y,le,G,Se,A=this.context,N=Object(g.default)(A).getInstance();function Ce(Q){Q&&Q.toStreamInfo&&(T=Q.toStreamInfo)}function pe(Q){Q&&Q.request&&Q.request.serviceLocation&&(L=Q.request.serviceLocation)}function Ae(){var Q=Fe.getValue();return Se.getContentSteering(Q)}function he(){return new Promise(function(Q){try{var ie=Ae();if(!ie||!ie.serverUrl)return void Q();var ye=function we(Q){var ie=Q.proxyServerUrl?Q.proxyServerUrl:Q.serverUrl;I&&I.reloadUri&&(ie=N.isRelative(I.reloadUri)?N.resolve(I.reloadUri,Q.serverUrl):I.reloadUri);var ye=[];if(T){var oe=Se.getIsDynamic(),ee=Se.getAllMediaInfoForType(T,d.default.VIDEO).length>0?d.default.VIDEO:d.default.AUDIO,X=le.getThroughputHistory(),$=X?X.getAverageThroughput(ee,oe):NaN;isNaN($)||ye.push({key:S_THROUGHPUT,value:1e3*$})}return L&&ye.push({key:S_PATHWAY,value:L}),Q.proxyServerUrl&&Q.proxyServerUrl===ie&&Q.serverUrl&&ye.push({key:S_URL,value:encodeURI(Q.serverUrl)}),f.default.addAditionalQueryParameterToUrl(ie,ye)}(ie),oe=new P.default(ye);B.load({request:oe,success:function(X){(function Te(Q){!Q||!Q[m.default.CONTENT_STEERING_RESPONSE.VERSION]||1!==parseInt(Q[m.default.CONTENT_STEERING_RESPONSE.VERSION])||((I=new C.default).version=Q[m.default.CONTENT_STEERING_RESPONSE.VERSION],Q[m.default.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(Q[m.default.CONTENT_STEERING_RESPONSE.TTL])&&(I.ttl=Q[m.default.CONTENT_STEERING_RESPONSE.TTL]),Q[m.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(I.reloadUri=Q[m.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]),Q[m.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]&&(I.serviceLocationPriority=Q[m.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]),Oe())})(X),G.trigger(i.default.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:I,url:ye}),Q()},error:function(X){(function ft(Q){D.warn("Error fetching data from content steering server",Q),Oe()})(X),Q(X)}})}catch(ee){Q(ee)}})}function Oe(){I&&I.ttl&&!isNaN(I.ttl)&&(y&&clearTimeout(y),y=setTimeout(function(){he()},1e3*I.ttl))}function Ve(){y&&clearTimeout(y),y=null}function be(){I=null,T=null,L=null,Ve()}return O={reset:function Re(){be(),G.off(i.default.PERIOD_SWITCH_COMPLETED,Ce,O),G.off(c.default.FRAGMENT_LOADING_STARTED,pe,O)},setConfig:function ge(Q){Q&&(Q.adapter&&(Se=Q.adapter),Q.errHandler&&(z=Q.errHandler),Q.dashMetrics&&(ne=Q.dashMetrics),Q.mediaPlayerModel&&(ae=Q.mediaPlayerModel),Q.requestModifier&&(Y=Q.requestModifier),Q.manifestModel&&(Fe=Q.manifestModel),Q.abrController&&(le=Q.abrController),Q.eventBus&&(G=Q.eventBus))},loadSteeringData:he,getCurrentSteeringResponseData:function Ze(){return I},shouldQueryBeforeStart:function ke(){var Q=Ae();return Q&&Q.queryBeforeStart},getSteeringDataFromManifest:Ae,stopSteeringRequestTimer:Ve,initialize:function Ie(){B=Object(b.default)(A).create({errHandler:z,dashMetrics:ne,mediaPlayerModel:ae,requestModifier:Y,errors:_.default}),G.on(i.default.PERIOD_SWITCH_COMPLETED,Ce,O),G.on(c.default.FRAGMENT_LOADING_STARTED,pe,O)}},function ce(){D=Object(v.default)(A).getInstance().getLogger(O),be()}(),O}x.__dashjs_factory_name="ContentSteeringController",p.default=t.default.getSingletonFactory(x)},"./src/dash/controllers/RepresentationController.js":
/*!**********************************************************!*\
                  !*** ./src/dash/controllers/RepresentationController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),_=e(
/*! ../utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function P(C){var D,I,T,L,y,m=(C=C||{}).eventBus,i=C.events,c=C.abrController,d=C.dashMetrics,f=C.playbackController,g=C.timelineConverter,S=C.type,x=C.streamInfo,A=C.dashConstants,N=C.segmentsController,O=C.isDynamic;function ne(){return S}function ae(){if(!(c&&d&&f&&g))throw new Error(t.default.MISSING_CONFIG_ERROR)}function Y(){return T}function le(){return y}function G(){I=null,T=!0,L=[]}function ge(Re){return new Promise(function(be,Q){var ie=Re.hasInitialization(),ye=Re.hasSegments(),oe=[];oe.push(N.updateInitData(Re,ie)),oe.push(N.updateSegmentData(Re,ye)),Promise.all(oe).then(function(ee){ee[0]&&!ee[0].error&&(Re=function Ce(Re,be){return be&&!be.error&&be.representation?be.representation:Re}(Re,ee[0])),ee[1]&&!ee[1].error&&(Re=function pe(Re,be){if(be&&!be.error){var oe,ee,X,$,Q=be.segments,ie=[],ye=0;for(oe=0,ee=Q?Q.length:0;oe<ee;oe++)X=Q[oe],($=Object(_.getTimeBasedSegment)(g,O,Re,X.startTime,X.duration,X.timescale,X.media,X.mediaRange,ye))&&(ie.push($),$=null,ye++);return ie.length>0&&(Re.segments=ie),Re}}(Re,ee[1])),function Ie(Re){Re.mediaFinishedInformation=N.getMediaFinishedInformation(Re)}(Re),function Oe(Re){if(Y()){var ie,be=d.getCurrentManifestUpdate(),Q=!1;if(be){for(var oe=0;oe<be.representationInfo.length;oe++)if((ie=be.representationInfo[oe]).index===Re.index&&ie.mediaType===ne()){Q=!0;break}Q||d.addManifestUpdateRepresentationInfo(Re,ne())}if(function we(){for(var Re=0,be=L.length;Re<be;Re++){var Q=L[Re].segmentInfoType;if(!L[Re].hasInitialization()||(Q===A.SEGMENT_BASE||Q===A.BASE_URL)&&!L[Re].segments)return!1}return!0}()){c.setPlaybackQuality(S,x,function he(Re){return L.indexOf(Re)}(y));var ee=d.getCurrentDVRInfo(S);ee&&d.updateManifestUpdateInfo({latency:ee.range.end-f.getTime()}),d.getCurrentRepresentationSwitch(le().adaptation.type)||Ae(),Te()}}}(Re),be()}).catch(function(ee){Q(ee)})})}function Ae(){ae();var Re=new Date,be=le(),Q=1e3*f.getTime();be&&d.addRepresentationSwitch(be.adaptation.type,Re,Q,be.id),m.trigger(b.default.REPRESENTATION_SWITCH,{mediaType:S,streamId:x.id,currentRepresentation:be,numberOfRepresentations:L.length},{streamId:x.id,mediaType:S})}function ke(Re){return null==Re||Re>=L.length?null:L[Re]}function Te(Re){T=!1,m.trigger(i.DATA_UPDATE_COMPLETED,{data:I,currentRepresentation:y,error:Re},{streamId:x.id,mediaType:S})}function ft(Re){y=Re}function Ze(Re){if(Re.newDuration){var be=le();be&&be.adaptation.period&&(be.adaptation.period.duration=Re.newDuration)}}return D={getStreamId:function z(){return x.id},getType:ne,getData:function Fe(){return I},isUpdating:Y,updateData:function ce(Re,be,Q,ie,ye){if(ae(),T=!0,L=be,ft(ke(ye)),I=Re,Q!==t.default.VIDEO&&Q!==t.default.AUDIO&&(Q!==t.default.TEXT||!ie))return Te(),Promise.resolve();for(var ee=[],X=0,$=L.length;X<$;X++)ee.push(ge(L[X]));return Promise.all(ee)},getCurrentRepresentation:le,getRepresentationForQuality:ke,prepareQualityChange:function Ve(Re){ft(ke(Re)),Ae()},reset:function Se(){m.off(b.default.MANIFEST_VALIDITY_CHANGED,Ze,D),G()}},function B(){G(),m.on(b.default.MANIFEST_VALIDITY_CHANGED,Ze,D)}(),D}P.__dashjs_factory_name="RepresentationController",p.default=v.default.getClassFactory(P)},"./src/dash/controllers/SegmentBaseController.js":
/*!*******************************************************!*\
                  !*** ./src/dash/controllers/SegmentBaseController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../SegmentBaseLoader */
"./src/dash/SegmentBaseLoader.js"),b=e(
/*! ../WebmSegmentBaseLoader */
"./src/dash/WebmSegmentBaseLoader.js");function _(C){var D,I,T,m=this.context,i=(C=C||{}).eventBus,c=C.events,d=C.dashMetrics,f=C.mediaPlayerModel,g=C.errHandler,S=C.baseURLController,x=C.debug,A=C.boxParser,N=C.requestModifier,O=C.errors;function y(Fe){return"webm"===(Fe?Fe.split("/")[1]:"").toLowerCase()}return D={initialize:function B(){I.initialize(),T.initialize()},getSegmentBaseInitSegment:function z(Fe){return y(Fe.representation.mimeType)?T.loadInitialization(Fe.representation,Fe.mediaType):I.loadInitialization(Fe.representation,Fe.mediaType)},getSegmentList:function ne(Fe){return y(Fe.mimeType)?T.loadSegments(Fe.representation,Fe.mediaType,Fe.representation?Fe.representation.indexRange:null):I.loadSegments(Fe.representation,Fe.mediaType,Fe.representation?Fe.representation.indexRange:null)},reset:function ae(){I.reset(),T.reset()}},function L(){I=Object(v.default)(m).getInstance(),T=Object(b.default)(m).getInstance(),I.setConfig({baseURLController:S,dashMetrics:d,mediaPlayerModel:f,errHandler:g,eventBus:i,events:c,errors:O,debug:x,boxParser:A,requestModifier:N}),T.setConfig({baseURLController:S,dashMetrics:d,mediaPlayerModel:f,errHandler:g,eventBus:i,events:c,errors:O,debug:x,requestModifier:N})}(),D}_.__dashjs_factory_name="SegmentBaseController";var P=t.default.getSingletonFactory(_);p.default=P},"./src/dash/controllers/SegmentsController.js":
/*!****************************************************!*\
                  !*** ./src/dash/controllers/SegmentsController.js ***!
                  \****************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../utils/TimelineSegmentsGetter */
"./src/dash/utils/TimelineSegmentsGetter.js"),b=e(
/*! ../utils/TemplateSegmentsGetter */
"./src/dash/utils/TemplateSegmentsGetter.js"),_=e(
/*! ../utils/ListSegmentsGetter */
"./src/dash/utils/ListSegmentsGetter.js"),P=e(
/*! ../utils/SegmentBaseGetter */
"./src/dash/utils/SegmentBaseGetter.js");function C(i){var S,x,c=this.context,d=(i=i||{}).dashConstants,f=i.type,g=i.segmentBaseController;function I(B){return B?B.segments?x[d.SEGMENT_BASE]:x[B.segmentInfoType]:null}return S={initialize:function N(B){x[d.SEGMENT_TIMELINE]=Object(v.default)(c).create(i,B),x[d.SEGMENT_TEMPLATE]=Object(b.default)(c).create(i,B),x[d.SEGMENT_LIST]=Object(_.default)(c).create(i,B),x[d.SEGMENT_BASE]=Object(P.default)(c).create(i,B)},updateInitData:function O(B,z){return z?Promise.resolve():g.getSegmentBaseInitSegment({representation:B,mediaType:f})},updateSegmentData:function D(B,z){return z?Promise.resolve():g.getSegmentList({mimeType:B.mimeType,representation:B,mediaType:f})},getSegmentByIndex:function T(B,z,ne){var ae=I(B);return ae?ae.getSegmentByIndex(B,z,ne):null},getSegmentByTime:function L(B,z){var ne=I(B);return ne?ne.getSegmentByTime(B,z):null},getMediaFinishedInformation:function y(B){var z=I(B);return z?z.getMediaFinishedInformation(B):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},function A(){x={}}(),S}C.__dashjs_factory_name="SegmentsController";var m=t.default.getClassFactory(C);p.default=m},"./src/dash/controllers/ServiceDescriptionController.js":
/*!**************************************************************!*\
                  !*** ./src/dash/controllers/ServiceDescriptionController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),_=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),P=[b.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME],C_VIDEO="video",C_AUDIO="audio",C_ANY="any",C_ALL="all";function m(){var c,d,f,g,S,i=this.context;function O(){d={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{}},f=[]}function ae(G,Se,ce){try{d[G][Se]=ce/1e3}catch(ge){g.error(ge)}}return c={getServiceDescriptionSettings:function D(){return d},getProducerReferenceTimeOffsets:function Fe(){return f},calculateProducerReferenceTimeOffsets:function Y(G){try{var Se=[];if(G&&G.length>0){var ce=[b.default.VIDEO,b.default.AUDIO,b.default.TEXT],ge=S.getAvailabilityStartTime()/1e3;G.forEach(function(Ie){var Ce=ce.reduce(function(pe,Ae){return pe.concat(S.getAllMediaInfoForType(Ie,Ae))},[]).reduce(function(pe,Ae){return S.getProducerReferenceTimes(Ie,Ae).forEach(function(he){var we=S.getVoRepresentations(Ae);if(we&&we.length>0&&we[0].adaptation&&we[0].segmentInfoType===_.default.SEGMENT_TEMPLATE){var Te=we[0],Ve=new Date(he[_.default.WALL_CLOCK_TIME]).getTime()/1e3;pe.push({id:he[_.default.ID],to:ge-(Ve-(he[_.default.PRESENTATION_TIME]/Te[_.default.TIMESCALE]-Te[_.default.PRESENTATION_TIME_OFFSET]+Ie.start))})}}),pe},[]);Se=Se.concat(Ce)})}f=Se}catch(Ie){g.error(Ie),f=[]}},applyServiceDescription:function I(G){if(G&&G.serviceDescriptions){var Se=G.serviceDescriptions.filter(function(Ie){return P.includes(Ie.schemeIdUri)}),ce=G.serviceDescriptions.filter(function(Ie){return null==Ie.schemeIdUri}),ge=Se.length>0?Se[Se.length-1]:ce[ce.length-1];ge&&(ge.latency&&ge.latency.target>0&&function T(G){var Se;if(Se=G.schemeIdUri===b.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME?function y(G){return{liveDelay:G.latency.target/1e3,maxDrift:!isNaN(G.latency.max)&&G.latency.max>G.latency.target?(G.latency.max-G.latency.target+500)/1e3:NaN,referenceId:G.latency.referenceId||NaN}}(G):function L(G){return{liveDelay:G.latency.target/1e3,maxDrift:!isNaN(G.latency.max)&&G.latency.max>G.latency.target?(G.latency.max-G.latency.target+500)/1e3:NaN,referenceId:G.latency.referenceId||NaN}}(G),f.length>0){var ce=function le(G){var ce,Se=0,ge=f.filter(function(Ie){return Ie.id===G.referenceId});return 0===ge.length?(Se=f.length>0?f[0].to:0,ce=f[0].id||NaN):(Se=ge[0].to||0,ce=ge[0].id||NaN),{to:Se,id:ce}}(Se),ge=ce.to,Ie=ce.id;d.liveDelay=Se.liveDelay-ge,d.liveCatchup.maxDrift=Se.maxDrift,g.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(ge," from ProducerReferenceTime element with id ").concat(Ie,".\n                Live Delay: ").concat(Se.liveDelay-ge,", Live catchup max drift: ").concat(Se.maxDrift,"\n            "))}else d.liveDelay=Se.liveDelay,d.liveCatchup.maxDrift=Se.maxDrift,g.debug("Found latency properties coming from service description: Live Delay: ".concat(Se.liveDelay,", Live catchup max drift: ").concat(Se.maxDrift))}(ge),ge.playbackRate&&function B(G){var Se=G.playbackRate.min?Math.round(1e3*(G.playbackRate.min-1))/1e3:NaN,ce=G.playbackRate.max?Math.round(1e3*(G.playbackRate.max-1))/1e3:NaN;d.liveCatchup.playbackRate.min=Se,d.liveCatchup.playbackRate.max=ce,g.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(Se)),g.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(ce))}(ge),ge.operatingBandwidth&&function ne(G){if(G&&G.operatingBandwidth&&G.operatingBandwidth.mediaType&&G.operatingBandwidth.mediaType!==C_ALL){var Se={};Se.minBandwidth=G.operatingBandwidth.min,Se.maxBandwidth=G.operatingBandwidth.max,Se.targetBandwidth=G.operatingBandwidth.target;var ce=[];G.operatingBandwidth.mediaType===C_VIDEO||G.operatingBandwidth.mediaType===C_AUDIO?ce.push(G.operatingBandwidth.mediaType):G.operatingBandwidth.mediaType===C_ANY&&(ce.push(C_AUDIO),ce.push(C_VIDEO)),ce.forEach(function(ge){isNaN(Se.minBandwidth)||ae("minBitrate",ge,Se.minBandwidth),isNaN(Se.maxBandwidth)||ae("maxBitrate",ge,Se.maxBandwidth),isNaN(Se.targetBandwidth)||ae("initialBitrate",ge,Se.targetBandwidth)})}}(ge))}},reset:function N(){O()},setConfig:function A(G){G&&G.adapter&&(S=G.adapter)}},function x(){g=Object(v.default)(i).getInstance().getLogger(c),O()}(),c}m.__dashjs_factory_name="ServiceDescriptionController",p.default=t.default.getSingletonFactory(m)},"./src/dash/models/DashManifestModel.js":
/*!**********************************************!*\
                  !*** ./src/dash/models/DashManifestModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),b=e(
/*! ../vo/Representation */
"./src/dash/vo/Representation.js"),_=e(
/*! ../vo/AdaptationSet */
"./src/dash/vo/AdaptationSet.js"),P=e(
/*! ../vo/Period */
"./src/dash/vo/Period.js"),C=e(
/*! ../vo/Mpd */
"./src/dash/vo/Mpd.js"),m=e(
/*! ../vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),i=e(
/*! ../vo/Event */
"./src/dash/vo/Event.js"),c=e(
/*! ../vo/BaseURL */
"./src/dash/vo/BaseURL.js"),d=e(
/*! ../vo/EventStream */
"./src/dash/vo/EventStream.js"),f=e(
/*! ../vo/ProducerReferenceTime */
"./src/dash/vo/ProducerReferenceTime.js"),g=e(
/*! ../vo/ContentSteering */
"./src/dash/vo/ContentSteering.js"),S=e(
/*! ../../streaming/utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),x=e(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),A=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),N=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),O=e(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),D=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),I=e(
/*! ../../streaming/thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js");function T(Y,le){var G=typeof Symbol<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(!G){if(Array.isArray(Y)||(G=B(Y))||le&&Y&&"number"==typeof Y.length){G&&(Y=G);var Se=0,ce=function(){};return{s:ce,n:function(){return Se>=Y.length?{done:!0}:{done:!1,value:Y[Se++]}},e:function(Ae){throw Ae},f:ce}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ce,ge=!0,Ie=!1;return{s:function(){G=G.call(Y)},n:function(){var Ae=G.next();return ge=Ae.done,Ae},e:function(Ae){Ie=!0,Ce=Ae},f:function(){try{!ge&&null!=G.return&&G.return()}finally{if(Ie)throw Ce}}}}function L(Y){return function ne(Y){if(Array.isArray(Y))return ae(Y)}(Y)||function z(Y){if(typeof Symbol<"u"&&null!=Y[Symbol.iterator]||null!=Y["@@iterator"])return Array.from(Y)}(Y)||B(Y)||function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(Y,le){if(Y){if("string"==typeof Y)return ae(Y,le);var G=Object.prototype.toString.call(Y).slice(8,-1);if("Object"===G&&Y.constructor&&(G=Y.constructor.name),"Map"===G||"Set"===G)return Array.from(Y);if("Arguments"===G||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return ae(Y,le)}}function ae(Y,le){(null==le||le>Y.length)&&(le=Y.length);for(var G=0,Se=new Array(le);G<le;G++)Se[G]=Y[G];return Se}function Fe(){var Y,le,G,Se,ce=this.context,ge=Object(x.default)(ce).getInstance(),Ie=Number.isInteger||function(Mt){return"number"==typeof Mt&&isFinite(Mt)&&Math.floor(Mt)===Mt};function pe(Mt,ht){if(!Mt)throw new Error("adaptation is not defined");if(!ht)throw new Error("type is not defined");if(Mt.Representation_asArray&&Mt.Representation_asArray.length){var Tn=qt(Mt.Representation_asArray[0]);if(Tn&&Tn.length>0&&I.THUMBNAILS_SCHEME_ID_URIS.indexOf(Tn[0].schemeIdUri)>=0)return ht===t.default.IMAGE}if(Mt.ContentComponent_asArray&&Mt.ContentComponent_asArray.length>0){if(Mt.ContentComponent_asArray.length>1)return ht===t.default.MUXED;if(Mt.ContentComponent_asArray[0].contentType===ht)return!0}var qe=ht===t.default.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(ht);if(Mt.Representation_asArray&&Mt.Representation_asArray.length&&qe.test(Mt.Representation_asArray[0].codecs))return!0;if(Mt.hasOwnProperty(v.default.MIME_TYPE))return qe.test(Mt.mimeType);if(Mt.Representation_asArray)for(var Qt,Rt=0;Rt<Mt.Representation_asArray.length;Rt++)if((Qt=Mt.Representation_asArray[Rt]).hasOwnProperty(v.default.MIME_TYPE))return qe.test(Qt.mimeType);return!1}function Ae(Mt){if(!Mt)throw new Error("adaptation is not defined");if(Mt.hasOwnProperty(v.default.SEGMENT_TEMPLATE)||Mt.hasOwnProperty(v.default.SEGMENT_TIMELINE)||Mt.hasOwnProperty(v.default.SEGMENT_LIST)||Mt.hasOwnProperty(v.default.SEGMENT_BASE))return!0;if(Mt.Representation_asArray&&Mt.Representation_asArray.length>0){var ht=Mt.Representation_asArray[0];if(ht.hasOwnProperty(v.default.SEGMENT_TEMPLATE)||ht.hasOwnProperty(v.default.SEGMENT_TIMELINE)||ht.hasOwnProperty(v.default.SEGMENT_LIST)||ht.hasOwnProperty(v.default.SEGMENT_BASE))return!0}return!1}function ke(Mt){return pe(Mt,t.default.AUDIO)}function he(Mt){return pe(Mt,t.default.VIDEO)}function we(Mt){return pe(Mt,t.default.TEXT)}function Te(Mt){return pe(Mt,t.default.MUXED)}function Oe(Mt){return pe(Mt,t.default.IMAGE)}function ye(){return function(Mt,ht){return Mt.bandwidth-ht.bandwidth}}function oe(Mt){return Mt&&Array.isArray(Mt.Representation_asArray)&&Mt.Representation_asArray.sort(function(Mt,ht){return Mt.bandwidth-ht.bandwidth}),Mt}function ee(Mt,ht){return Mt&&Mt.Period_asArray&&Ie(ht)&&Mt.Period_asArray[ht]?Mt.Period_asArray[ht].AdaptationSet_asArray:[]}function X(Mt){return Mt&&Mt.Period_asArray?Mt.Period_asArray:[]}function tt(Mt){var ht=!1;return Mt&&Mt.hasOwnProperty("type")&&(ht=Mt.type===v.default.DYNAMIC),ht}function qt(Mt){return Mt&&Mt.EssentialProperty_asArray&&Mt.EssentialProperty_asArray.length?Mt.EssentialProperty_asArray.map(function(ht){return{schemeIdUri:ht.schemeIdUri,value:ht.value}}):null}function vt(Mt){if(!Mt||!Mt.S_asArray)return NaN;var ht=Mt.S_asArray[0],Tn=Mt.S_asArray[1];return ht.hasOwnProperty("d")?ht.d:Tn.t-ht.t}function it(Mt){return Mt.adaptation.period.start-Mt.presentationTimeOffset}function st(Mt,ht){if(!Mt)throw new Error("Period cannot be null or undefined");var Tn=P.default.DEFAULT_ID+"_"+ht;return Mt.hasOwnProperty(v.default.ID)&&Mt.id.length>0&&"__proto__"!==Mt.id&&(Tn=Mt.id),Tn}function on(Mt,ht,Tn){var Ct,qe=[];if(!Mt)return qe;for(Ct=0;Ct<Mt.length;Ct++){var Qt=new d.default;if(Qt.timescale=1,Qt.representation=ht,!Mt[Ct].hasOwnProperty(t.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");Qt.schemeIdUri=Mt[Ct].schemeIdUri,Mt[Ct].hasOwnProperty(v.default.TIMESCALE)&&(Qt.timescale=Mt[Ct].timescale),Mt[Ct].hasOwnProperty(v.default.VALUE)&&(Qt.value=Mt[Ct].value),qe.push(Qt),Qt.period=Tn}return qe}function In(Mt){var ht=[],qe=!1;return(Mt.BaseURL_asArray||[Mt.baseUri]).some(function(Ct){if(Ct){var Qt=new c.default,Rt=Ct.__text||Ct;return ge.isRelative(Rt)&&(qe=!0,Mt.baseUri&&(Rt=ge.resolve(Rt,Mt.baseUri))),Qt.url=Rt,Qt.serviceLocation=Ct.hasOwnProperty(v.default.SERVICE_LOCATION)&&Ct.serviceLocation.length?Ct.serviceLocation:Rt,Ct.hasOwnProperty(v.default.DVB_PRIORITY)&&(Qt.dvb_priority=Ct[v.default.DVB_PRIORITY]),Ct.hasOwnProperty(v.default.DVB_WEIGHT)&&(Qt.dvb_weight=Ct[v.default.DVB_WEIGHT]),Ct.hasOwnProperty(v.default.AVAILABILITY_TIME_OFFSET)&&(Qt.availabilityTimeOffset=Ct[v.default.AVAILABILITY_TIME_OFFSET]),Ct.hasOwnProperty(v.default.AVAILABILITY_TIME_COMPLETE)&&(Qt.availabilityTimeComplete="false"!==Ct[v.default.AVAILABILITY_TIME_COMPLETE]),ht.push(Qt),qe}}),ht}return Y={getIsTypeOf:pe,getIsText:we,getIsFragmented:Ae,getProducerReferenceTimesForAdaptation:function Ve(Mt){var ht=Mt&&Mt.hasOwnProperty(v.default.PRODUCERREFERENCETIME_ASARRAY)?Mt[v.default.PRODUCERREFERENCETIME_ASARRAY]:[];(Mt&&Mt.hasOwnProperty(v.default.REPRESENTATION_ASARRAY)?Mt[v.default.REPRESENTATION_ASARRAY]:[]).forEach(function(Ct){Ct.hasOwnProperty(v.default.PRODUCERREFERENCETIME_ASARRAY)&&ht.push.apply(ht,L(Ct[v.default.PRODUCERREFERENCETIME_ASARRAY]))});var qe=[];return ht.forEach(function(Ct){var Qt=new f.default;Ct.hasOwnProperty(v.default.ID)&&(Qt[v.default.ID]=Ct[v.default.ID],Ct.hasOwnProperty(v.default.WALL_CLOCK_TIME)&&(Qt[v.default.WALL_CLOCK_TIME]=Ct[v.default.WALL_CLOCK_TIME],Ct.hasOwnProperty(v.default.PRESENTATION_TIME)&&(Qt[v.default.PRESENTATION_TIME]=Ct[v.default.PRESENTATION_TIME],qe.push(Qt))))}),qe},getLanguageForAdaptation:function ft(Mt){var ht="";return Mt&&Mt.hasOwnProperty(v.default.LANG)&&(ht=Mt.lang),ht},getViewpointForAdaptation:function Ze(Mt){return Mt&&Mt.hasOwnProperty(v.default.VIEWPOINT)?Mt.Viewpoint:null},getRolesForAdaptation:function Re(Mt){return Mt&&Mt.hasOwnProperty(v.default.ROLE_ASARRAY)?Mt.Role_asArray:[]},getAccessibilityForAdaptation:function be(Mt){return Mt&&Mt.hasOwnProperty(v.default.ACCESSIBILITY_ASARRAY)?Mt.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function Q(Mt){return Mt&&Mt.hasOwnProperty(v.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?Mt.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function ie(Mt){return Mt&&Mt.hasOwnProperty(v.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?Mt.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function J(Mt,ht,Tn){var qe=ee(ht,Tn);return qe.length>0&&Ie(Mt)?qe[Mt]:null},getIndexForAdaptation:function q(Mt,ht,Tn){if(!Mt)return-1;for(var qe=ee(ht,Tn),Ct=0;Ct<qe.length;Ct++)if(Object(S.default)(ce).getInstance().areEqual(qe[Ct],Mt))return Ct;return-1},getAdaptationForId:function re(Mt,ht,Tn){var Ct,Qt,qe=ee(ht,Tn);for(Ct=0,Qt=qe.length;Ct<Qt;Ct++)if(qe[Ct].hasOwnProperty(v.default.ID)&&qe[Ct].id===Mt)return qe[Ct];return null},getAdaptationsForType:function _e(Mt,ht,Tn){var Ct,Qt,qe=ee(Mt,ht),Rt=[];for(Ct=0,Qt=qe.length;Ct<Qt;Ct++)pe(qe[Ct],Tn)&&Rt.push(oe(qe[Ct]));return Rt},getRealPeriods:X,getRealPeriodForIndex:function $(Mt,ht){var Tn=X(ht);return Tn.length>0&&Ie(Mt)?Tn[Mt]:null},getCodec:function xe(Mt,ht,Tn){var qe=null;if(Mt&&Mt.Representation_asArray&&Mt.Representation_asArray.length>0){var Ct=Ie(ht)&&ht>=0&&ht<Mt.Representation_asArray.length?Mt.Representation_asArray[ht]:Mt.Representation_asArray[0];Ct&&(qe=Ct.mimeType+';codecs="'+Ct.codecs+'"',Tn&&void 0!==Ct.width&&(qe+=';width="'+Ct.width+'";height="'+Ct.height+'"'))}return qe&&(qe=qe.replace(/\sprofiles=[^;]*/g,"")),qe},getSelectionPriority:function Jt(Mt){try{var ht=Mt&&typeof Mt.selectionPriority<"u"?parseInt(Mt.selectionPriority):1;return isNaN(ht)?1:ht}catch{return 1}},getMimeType:function Ee(Mt){return Mt&&Mt.Representation_asArray&&Mt.Representation_asArray.length>0?Mt.Representation_asArray[0].mimeType:null},getKID:function Ge(Mt){return Mt&&Mt.hasOwnProperty(v.default.CENC_DEFAULT_KID)?Mt[v.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function ct(Mt){if(!Mt||!Array.isArray(Mt.Label_asArray))return[];for(var ht=[],Tn=0;Tn<Mt.Label_asArray.length;Tn++)ht.push({lang:Mt.Label_asArray[Tn].lang,text:Mt.Label_asArray[Tn].__text||Mt.Label_asArray[Tn]});return ht},getContentProtectionData:function Xe(Mt){return Mt&&Mt.hasOwnProperty(v.default.CONTENTPROTECTION_ASARRAY)&&0!==Mt.ContentProtection_asArray.length?Mt.ContentProtection_asArray:null},getIsDynamic:tt,getId:function gt(Mt){return Mt&&Mt[v.default.ID]||null},hasProfile:function Qe(Mt,ht){var Tn=!1;return Mt&&Mt.profiles&&Mt.profiles.length>0&&(Tn=-1!==Mt.profiles.indexOf(ht)),Tn},getDuration:function yt(Mt){return Mt&&Mt.hasOwnProperty(v.default.MEDIA_PRESENTATION_DURATION)?Mt.mediaPresentationDuration:Mt&&"dynamic"==Mt.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function Dt(Mt){return Mt&&Mt.bandwidth?Mt.bandwidth:NaN},getManifestUpdatePeriod:function fe(Mt){var ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Tn=NaN;return Mt&&Mt.hasOwnProperty(v.default.MINIMUM_UPDATE_PERIOD)&&(Tn=Mt.minimumUpdatePeriod),isNaN(Tn)?Tn:Math.max(Tn-ht,1)},getPublishTime:function ze(Mt){return Mt&&Mt.hasOwnProperty(v.default.PUBLISH_TIME)?new Date(Mt[v.default.PUBLISH_TIME]):null},getRepresentationCount:function Tt(Mt){return Mt&&Array.isArray(Mt.Representation_asArray)?Mt.Representation_asArray.length:0},getBitrateListForAdaptation:function Kt(Mt){var ht=oe(Mt);return(ht&&Array.isArray(ht.Representation_asArray)?ht.Representation_asArray:[]).map(function(qe){return{bandwidth:qe.bandwidth,width:qe.width||0,height:qe.height||0,scanType:qe.scanType||null,id:qe.id||null}})},getRepresentationFor:function un(Mt,ht){return ht&&ht.Representation_asArray&&ht.Representation_asArray.length>0&&Ie(Mt)?ht.Representation_asArray[Mt]:null},getRepresentationsForAdaptation:function wt(Mt){var qe,Ct,ht=[],Tn=function fn(Mt){if(Mt&&Mt.period&&Ie(Mt.period.index)){var ht=Mt.period.mpd.manifest.Period_asArray[Mt.period.index];if(ht&&ht.AdaptationSet_asArray&&Ie(Mt.index))return oe(ht.AdaptationSet_asArray[Mt.index])}}(Mt);if(Tn&&Tn.Representation_asArray){if(Mt&&Mt.period&&Ie(Mt.period.index)){var Qt=In(Mt.period.mpd.manifest);Qt&&(Ct=Qt[0])}for(var Rt=0,xn=Tn.Representation_asArray.length;Rt<xn;++Rt){var kt=Tn.Representation_asArray[Rt],It=new b.default;if(It.index=Rt,It.adaptation=Mt,kt.hasOwnProperty(v.default.ID)&&(It.id=kt.id),kt.hasOwnProperty(v.default.CODECS)&&(It.codecs=kt.codecs),kt.hasOwnProperty(v.default.MIME_TYPE)&&(It.mimeType=kt[v.default.MIME_TYPE]),kt.hasOwnProperty(v.default.CODEC_PRIVATE_DATA)&&(It.codecPrivateData=kt.codecPrivateData),kt.hasOwnProperty(v.default.BANDWITH)&&(It.bandwidth=kt.bandwidth),kt.hasOwnProperty(v.default.WIDTH)&&(It.width=kt.width),kt.hasOwnProperty(v.default.HEIGHT)&&(It.height=kt.height),kt.hasOwnProperty(v.default.SCAN_TYPE)&&(It.scanType=kt.scanType),kt.hasOwnProperty(v.default.MAX_PLAYOUT_RATE)&&(It.maxPlayoutRate=kt.maxPlayoutRate),kt.hasOwnProperty(v.default.SEGMENT_BASE)?(qe=kt.SegmentBase,It.segmentInfoType=v.default.SEGMENT_BASE):kt.hasOwnProperty(v.default.SEGMENT_LIST)?It.segmentInfoType=(qe=kt.SegmentList).hasOwnProperty(v.default.SEGMENT_TIMELINE)?v.default.SEGMENT_TIMELINE:v.default.SEGMENT_LIST:kt.hasOwnProperty(v.default.SEGMENT_TEMPLATE)?(It.segmentInfoType=(qe=kt.SegmentTemplate).hasOwnProperty(v.default.SEGMENT_TIMELINE)?v.default.SEGMENT_TIMELINE:v.default.SEGMENT_TEMPLATE,qe.hasOwnProperty(v.default.INITIALIZATION_MINUS)&&(It.initialization=qe.initialization.split("$Bandwidth$").join(kt.bandwidth).split("$RepresentationID$").join(kt.id))):It.segmentInfoType=v.default.BASE_URL,It.essentialProperties=qt(kt),qe){if(qe.hasOwnProperty(v.default.INITIALIZATION)){var Nt=qe.Initialization;Nt.hasOwnProperty(v.default.SOURCE_URL)&&(It.initialization=Nt.sourceURL),Nt.hasOwnProperty(v.default.RANGE)&&(It.range=Nt.range)}else we(Tn)&&Ae(Tn)&&Tn.mimeType&&-1===Tn.mimeType.indexOf("application/mp4")&&(It.range=0);qe.hasOwnProperty(v.default.TIMESCALE)&&(It.timescale=qe.timescale),qe.hasOwnProperty(v.default.DURATION)?It.segmentDuration=qe.duration/It.timescale:kt.hasOwnProperty(v.default.SEGMENT_TEMPLATE)&&(qe=kt.SegmentTemplate).hasOwnProperty(v.default.SEGMENT_TIMELINE)&&(It.segmentDuration=vt(qe.SegmentTimeline)/It.timescale),qe.hasOwnProperty(v.default.MEDIA)&&(It.media=qe.media),qe.hasOwnProperty(v.default.START_NUMBER)&&(It.startNumber=qe.startNumber),qe.hasOwnProperty(v.default.INDEX_RANGE)&&(It.indexRange=qe.indexRange),qe.hasOwnProperty(v.default.PRESENTATION_TIME_OFFSET)&&(It.presentationTimeOffset=qe.presentationTimeOffset/It.timescale),qe.hasOwnProperty(v.default.AVAILABILITY_TIME_OFFSET)?It.availabilityTimeOffset=qe.availabilityTimeOffset:Ct&&void 0!==Ct.availabilityTimeOffset&&(It.availabilityTimeOffset=Ct.availabilityTimeOffset),qe.hasOwnProperty(v.default.AVAILABILITY_TIME_COMPLETE)?It.availabilityTimeComplete="false"!==qe.availabilityTimeComplete:Ct&&void 0!==Ct.availabilityTimeComplete&&(It.availabilityTimeComplete=Ct.availabilityTimeComplete)}It.MSETimeOffset=it(It),It.path=[Mt.period.index,Mt.index,Rt],ht.push(It)}}return ht},getAdaptationsForPeriod:function He(Mt){var qe,Ct,Qt,ht=Mt&&Ie(Mt.index)?Mt.mpd.manifest.Period_asArray[Mt.index]:null,Tn=[];if(ht&&ht.AdaptationSet_asArray)for(Qt=0;Qt<ht.AdaptationSet_asArray.length;Qt++)Ct=ht.AdaptationSet_asArray[Qt],qe=new _.default,Ct.hasOwnProperty(v.default.ID)&&(qe.id=Ct.id),qe.index=Qt,qe.period=Mt,Te(Ct)?qe.type=t.default.MUXED:ke(Ct)?qe.type=t.default.AUDIO:he(Ct)?qe.type=t.default.VIDEO:we(Ct)?qe.type=t.default.TEXT:Oe(Ct)?qe.type=t.default.IMAGE:le.warn("Unknown Adaptation stream type"),Tn.push(qe);return Tn},getRegularPeriods:function Ye(Mt){var xn,kt,ht=!!Mt&&tt(Mt.manifest),Tn=[],qe=null,Ct=null,Qt=null,Rt=null;for(kt=0,xn=Mt&&Mt.manifest&&Mt.manifest.Period_asArray?Mt.manifest.Period_asArray.length:0;kt<xn;kt++)(Ct=Mt.manifest.Period_asArray[kt]).hasOwnProperty(v.default.START)?(Rt=new P.default).start=Ct.start:null!==qe&&qe.hasOwnProperty(v.default.DURATION)&&null!==Qt?(Rt=new P.default).start=parseFloat((Qt.start+Qt.duration).toFixed(5)):0===kt&&!ht&&((Rt=new P.default).start=0),null!==Qt&&isNaN(Qt.duration)&&(null!==Rt?Qt.duration=parseFloat((Rt.start-Qt.start).toFixed(5)):le.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==Rt&&(Rt.id=st(Ct,kt),Rt.index=kt,Rt.mpd=Mt,Ct.hasOwnProperty(v.default.DURATION)&&(Rt.duration=Ct.duration),Qt&&(Qt.nextPeriodId=Rt.id),Tn.push(Rt),qe=Ct,Qt=Rt),Ct=null,Rt=null;return 0===Tn.length||null!==Qt&&isNaN(Qt.duration)&&(Qt.duration=parseFloat((function bt(Mt){!function St(){if(!G||!G.hasOwnProperty("error"))throw new Error(t.default.MISSING_CONFIG_ERROR)}();var Tn,ht=tt(Mt.mpd.manifest);return Mt.mpd.manifest.mediaPresentationDuration?Tn=Mt.mpd.manifest.mediaPresentationDuration:Mt.duration?Tn=Mt.duration:ht?Tn=Number.POSITIVE_INFINITY:G.error(new O.default(D.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",Mt)),Tn}(Qt)-Qt.start).toFixed(5))),Tn},getMpd:function at(Mt){var ht=new C.default;return Mt&&(ht.manifest=Mt,Mt.hasOwnProperty(v.default.AVAILABILITY_START_TIME)?ht.availabilityStartTime=new Date(Mt.availabilityStartTime.getTime()):Mt.loadedTime&&(ht.availabilityStartTime=new Date(Mt.loadedTime.getTime())),Mt.hasOwnProperty(v.default.AVAILABILITY_END_TIME)&&(ht.availabilityEndTime=new Date(Mt.availabilityEndTime.getTime())),Mt.hasOwnProperty(v.default.MINIMUM_UPDATE_PERIOD)&&(ht.minimumUpdatePeriod=Mt.minimumUpdatePeriod),Mt.hasOwnProperty(v.default.MEDIA_PRESENTATION_DURATION)&&(ht.mediaPresentationDuration=Mt.mediaPresentationDuration),Mt.hasOwnProperty(v.default.SUGGESTED_PRESENTATION_DELAY)&&(ht.suggestedPresentationDelay=Mt.suggestedPresentationDelay),Mt.hasOwnProperty(v.default.TIMESHIFT_BUFFER_DEPTH)&&(ht.timeShiftBufferDepth=Mt.timeShiftBufferDepth),Mt.hasOwnProperty(v.default.MAX_SEGMENT_DURATION)&&(ht.maxSegmentDuration=Mt.maxSegmentDuration),Mt.hasOwnProperty(v.default.PUBLISH_TIME)&&(ht.publishTime=new Date(Mt.publishTime))),ht},getEventsForPeriod:function At(Mt){var Qt,Rt,ht=Mt&&Mt.mpd&&Mt.mpd.manifest?Mt.mpd.manifest:null,Tn=ht?ht.Period_asArray:null,qe=Tn&&Mt&&Ie(Mt.index)?Tn[Mt.index].EventStream_asArray:null,Ct=[];if(qe)for(Qt=0;Qt<qe.length;Qt++){var xn=new d.default;if(xn.period=Mt,xn.timescale=1,!qe[Qt].hasOwnProperty(t.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(xn.schemeIdUri=qe[Qt][t.default.SCHEME_ID_URI],qe[Qt].hasOwnProperty(v.default.TIMESCALE)&&(xn.timescale=qe[Qt][v.default.TIMESCALE]),qe[Qt].hasOwnProperty(v.default.VALUE)&&(xn.value=qe[Qt][v.default.VALUE]),qe[Qt].hasOwnProperty(v.default.PRESENTATION_TIME_OFFSET)&&(xn.presentationTimeOffset=qe[Qt][v.default.PRESENTATION_TIME_OFFSET]),Rt=0;qe[Qt].Event_asArray&&Rt<qe[Qt].Event_asArray.length;Rt++){var kt=qe[Qt].Event_asArray[Rt],It=new i.default;It.presentationTime=0,It.eventStream=xn,kt.hasOwnProperty(v.default.PRESENTATION_TIME)&&(It.presentationTime=kt.presentationTime),It.calculatedPresentationTime=It.presentationTime/xn.timescale+Mt.start-(xn.presentationTimeOffset?xn.presentationTimeOffset/xn.timescale:0),kt.hasOwnProperty(v.default.DURATION)&&(It.duration=kt.duration/xn.timescale),It.id=kt.hasOwnProperty(v.default.ID)?kt.id:null,It.messageData=kt.Signal&&kt.Signal.Binary?Se.decodeArray(kt.Signal.Binary.toString()):kt.messageData||kt.__cdata||kt.__text,Ct.push(It)}}return Ct},getEssentialPropertiesForRepresentation:qt,getEventStreamForAdaptationSet:function En(Mt,ht,Tn){var qe,Ct,Qt;return Mt&&Mt.Period_asArray&&ht&&ht.period&&Ie(ht.period.index)&&(Ct=Mt.Period_asArray[ht.period.index])&&Ct.AdaptationSet_asArray&&Ie(ht.index)&&(Qt=Ct.AdaptationSet_asArray[ht.index])&&(qe=Qt.InbandEventStream_asArray),on(qe,null,Tn)},getEventStreamForRepresentation:function tn(Mt,ht,Tn){var qe,Ct,Qt,Rt;return Mt&&Mt.Period_asArray&&ht&&ht.adaptation&&ht.adaptation.period&&Ie(ht.adaptation.period.index)&&(Ct=Mt.Period_asArray[ht.adaptation.period.index])&&Ct.AdaptationSet_asArray&&Ie(ht.adaptation.index)&&(Qt=Ct.AdaptationSet_asArray[ht.adaptation.index])&&Qt.Representation_asArray&&Ie(ht.index)&&(Rt=Qt.Representation_asArray[ht.index])&&(qe=Rt.InbandEventStream_asArray),on(qe,ht,Tn)},getUTCTimingSources:function Mn(Mt){var ht=tt(Mt),Tn=!!Mt&&Mt.hasOwnProperty(v.default.AVAILABILITY_START_TIME),qe=Mt?Mt.UTCTiming_asArray:null,Ct=[];return(ht||Tn)&&qe&&qe.forEach(function(Qt){var Rt=new m.default;Qt.hasOwnProperty(t.default.SCHEME_ID_URI)&&(Rt.schemeIdUri=Qt.schemeIdUri,Qt.hasOwnProperty(v.default.VALUE)&&(Rt.value=Qt.value.toString(),Ct.push(Rt)))}),Ct},getBaseURLsFromElement:In,getRepresentationSortFunction:ye,getContentSteering:function Nn(Mt){if(Mt&&Mt.hasOwnProperty(v.default.CONTENT_STEERING_AS_ARRAY)){var ht=Mt[v.default.CONTENT_STEERING_AS_ARRAY][0],Tn=new g.default;return Tn.serverUrl=ht.__text,ht.hasOwnProperty(v.default.DEFAULT_SERVICE_LOCATION)&&(Tn.defaultServiceLocation=ht[v.default.DEFAULT_SERVICE_LOCATION]),ht.hasOwnProperty(v.default.QUERY_BEFORE_START)&&(Tn.queryBeforeStart="true"===ht[v.default.QUERY_BEFORE_START].toLowerCase()),ht.hasOwnProperty(v.default.PROXY_SERVER_URL)&&(Tn.proxyServerUrl=ht[v.default.PROXY_SERVER_URL]),Tn}},getLocation:function $n(Mt){if(Mt&&Mt.hasOwnProperty(t.default.LOCATION))return Mt.Location=Mt.Location_asArray[0],Mt.Location},getPatchLocation:function ni(Mt){if(Mt&&Mt.hasOwnProperty(v.default.PATCH_LOCATION))return Mt.PatchLocation=Mt.PatchLocation_asArray[0],Mt.PatchLocation},getSuggestedPresentationDelay:function vn(Mt){return Mt&&Mt.hasOwnProperty(v.default.SUGGESTED_PRESENTATION_DELAY)?Mt.suggestedPresentationDelay:null},getAvailabilityStartTime:function gn(Mt){return Mt&&Mt.hasOwnProperty(v.default.AVAILABILITY_START_TIME)&&null!==Mt.availabilityStartTime?Mt.availabilityStartTime.getTime():null},getServiceDescriptions:function yn(Mt){var ht=[];if(Mt&&Mt.hasOwnProperty(v.default.SERVICE_DESCRIPTION)){var qe,Tn=T(Mt.ServiceDescription_asArray);try{for(Tn.s();!(qe=Tn.n()).done;){var Ct=qe.value,Qt=null,Rt=null,xn=null,kt=null,It=null,Nt=null;for(var en in Ct)Ct.hasOwnProperty(en)&&(en===v.default.ID?Qt=Ct[en]:en===v.default.SERVICE_DESCRIPTION_SCOPE?Rt=Ct[en].schemeIdUri:en===v.default.SERVICE_DESCRIPTION_LATENCY?xn={target:parseInt(Ct[en].target),max:parseInt(Ct[en].max),min:parseInt(Ct[en].min),referenceId:parseInt(Ct[en].referenceId)}:en===v.default.SERVICE_DESCRIPTION_PLAYBACK_RATE?kt={max:parseFloat(Ct[en].max),min:parseFloat(Ct[en].min)}:en===v.default.SERVICE_DESCRIPTION_OPERATING_QUALITY?It={mediaType:Ct[en].mediaType,max:parseInt(Ct[en].max),min:parseInt(Ct[en].min),target:parseInt(Ct[en].target),type:Ct[en].type,maxQualityDifference:parseInt(Ct[en].maxQualityDifference)}:en===v.default.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH&&(Nt={mediaType:Ct[en].mediaType,max:parseInt(Ct[en].max),min:parseInt(Ct[en].min),target:parseInt(Ct[en].target)}));ht.push({id:Qt,schemeIdUri:Rt,latency:xn,playbackRate:kt,operatingQuality:It,operatingBandwidth:Nt})}}catch(An){Tn.e(An)}finally{Tn.f()}}return ht},getSupplementalProperties:function pn(Mt){var ht={};if(Mt&&Mt.hasOwnProperty(v.default.SUPPLEMENTAL_PROPERTY)){var qe,Tn=T(Mt.SupplementalProperty_asArray);try{for(Tn.s();!(qe=Tn.n()).done;){var Ct=qe.value;Ct.hasOwnProperty(t.default.SCHEME_ID_URI)&&Ct.hasOwnProperty(v.default.VALUE)&&(ht[Ct[t.default.SCHEME_ID_URI]]=Ct[v.default.VALUE])}}catch(Qt){Tn.e(Qt)}finally{Tn.f()}}return ht},setConfig:function _n(Mt){Mt&&(Mt.errHandler&&(G=Mt.errHandler),Mt.BASE64&&(Se=Mt.BASE64))}},function Ce(){le=Object(N.default)(ce).getInstance().getLogger(Y)}(),Y}Fe.__dashjs_factory_name="DashManifestModel",p.default=A.default.getSingletonFactory(Fe)},"./src/dash/models/PatchManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/dash/models/PatchManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),_=e(
/*! ../vo/SimpleXPath */
"./src/dash/vo/SimpleXPath.js"),P=e(
/*! ../vo/PatchOperation */
"./src/dash/vo/PatchOperation.js");function C(){var m,i,c=this.context;return m={getIsPatch:function f(N){return N&&N.hasOwnProperty(t.default.ORIGINAL_MPD_ID)||!1},getPublishTime:function g(N){return N&&N.hasOwnProperty(t.default.PUBLISH_TIME)?new Date(N[t.default.PUBLISH_TIME]):null},getOriginalPublishTime:function S(N){return N&&N.hasOwnProperty(t.default.ORIGINAL_PUBLISH_TIME)?new Date(N[t.default.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function x(N){return N&&N[t.default.ORIGINAL_MPD_ID]||null},getPatchOperations:function A(N){return N?(N.__children||[]).map(function(O){var D=Object.keys(O)[0];if("add"!==D&&"remove"!==D&&"replace"!==D)return i.warn("Ignoring node of invalid action: ".concat(D)),null;var I=O[D],T=I.sel;if("add"===D&&I.type){if(!I.type.startsWith("@"))return i.warn("Ignoring add action for prefixed namespace declaration: ".concat(I.type,"=").concat(I.__text)),null;T="".concat(T,"/").concat(I.type)}var L=new _.default(T);if(!L.isValid())return i.warn("Ignoring action with invalid selector: ".concat(D," - ").concat(T)),null;var y=null;L.findsAttribute()?y=I.__text||"":"remove"!==D&&(y=I.__children.reduce(function(z,ne){var ae=Object.keys(ne)[0];return"#text"!==ae&&(z[ae]=z[ae]||[],z[ae].push(ne[ae])),z},{}));var B=new P.default(D,L,y);return"add"===D&&(B.position=I.pos),B}).filter(function(O){return!!O}):[]}},function d(){i=Object(b.default)(c).getInstance().getLogger(m)}(),m}C.__dashjs_factory_name="PatchManifestModel",p.default=v.default.getSingletonFactory(C)},"./src/dash/parser/DashParser.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/DashParser.js ***!
                  \***************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ./objectiron */
"./src/dash/parser/objectiron.js"),b=e(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),_=e(
/*! ./matchers/StringMatcher */
"./src/dash/parser/matchers/StringMatcher.js"),P=e(
/*! ./matchers/DurationMatcher */
"./src/dash/parser/matchers/DurationMatcher.js"),C=e(
/*! ./matchers/DateTimeMatcher */
"./src/dash/parser/matchers/DateTimeMatcher.js"),m=e(
/*! ./matchers/NumericMatcher */
"./src/dash/parser/matchers/NumericMatcher.js"),i=e(
/*! ./matchers/LangMatcher */
"./src/dash/parser/matchers/LangMatcher.js"),c=e(
/*! ./maps/RepresentationBaseValuesMap */
"./src/dash/parser/maps/RepresentationBaseValuesMap.js"),d=e(
/*! ./maps/SegmentValuesMap */
"./src/dash/parser/maps/SegmentValuesMap.js");function f(g){var A,N,O,D,I,S=this.context,x=(g=g||{}).debug;return A={parse:function B(z){var ne,ae=window.performance.now();if(!(ne=D.xml_str2json(z)))throw new Error("parsing the manifest failed");var Fe=window.performance.now();ne.Patch?((ne=ne.Patch).add_asArray&&ne.add_asArray.forEach(function(le){return I.run(le)}),ne.replace_asArray&&ne.replace_asArray.forEach(function(le){return I.run(le)})):I.run(ne=ne.MPD);var Y=window.performance.now();return N.info("Parsing complete: ( xml2json: "+(Fe-ae).toPrecision(3)+"ms, objectiron: "+(Y-Fe).toPrecision(3)+"ms, total: "+((Y-ae)/1e3).toPrecision(3)+"s)"),ne.protocol="DASH",ne},getMatchers:function L(){return O},getIron:function y(){return I}},function T(){N=x.getLogger(A),O=[new P.default,new C.default,new m.default,new i.default,new _.default],D=new b.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:O}),I=Object(v.default)(S).create({adaptationset:new c.default,period:new d.default})}(),A}f.__dashjs_factory_name="DashParser",p.default=t.default.getClassFactory(f)},"./src/dash/parser/maps/CommonProperty.js":
/*!************************************************!*\
                  !*** ./src/dash/parser/maps/CommonProperty.js ***!
                  \************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function b(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,P(f.key),f)}}function P(i){var c=function C(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=function(){function i(c){!function v(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")}(this,i);var g;this._name=c,this._merge=(g=c)&&g.length&&g.charAt(0)===g.charAt(0).toUpperCase()}return function _(i,c,d){return c&&b(i.prototype,c),d&&b(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),i}()},"./src/dash/parser/maps/MapNode.js":
/*!*****************************************!*\
                  !*** ./src/dash/parser/maps/MapNode.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./CommonProperty */
"./src/dash/parser/maps/CommonProperty.js");function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function _(c,d){for(var f=0;f<d.length;f++){var g=d[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,C(g.key),g)}}function C(c){var d=function m(c,d){if("object"!==v(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var g=f.call(c,d||"default");if("object"!==v(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===v(d)?d:String(d)}p.default=function(){function c(d,f,g){var S=this;(function b(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this._name=d||"",this._properties=[],this._children=g||[],Array.isArray(f)&&f.forEach(function(x){S._properties.push(new t.default(x))})}return function P(c,d,f){return d&&_(c.prototype,d),f&&_(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),c}()},"./src/dash/parser/maps/RepresentationBaseValuesMap.js":
/*!*************************************************************!*\
                  !*** ./src/dash/parser/maps/RepresentationBaseValuesMap.js ***!
                  \*************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),v=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function b(O){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(O)}function _(O,D){for(var I=0;I<D.length;I++){var T=D[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,C(T.key),T)}}function C(O){var D=function m(O,D){if("object"!==b(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var T=I.call(O,D||"default");if("object"!==b(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(O)}(O,"string");return"symbol"===b(D)?D:String(D)}function c(O,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),D&&d(O,D)}function d(O,D){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,L){return T.__proto__=L,T})(O,D)}function f(O){var D=function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,T=A(O);if(D){var y=A(this).constructor;L=Reflect.construct(T,arguments,y)}else L=T.apply(this,arguments);return function g(O,D){if(D&&("object"===b(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function S(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function A(O){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}p.default=function(O){c(I,O);var D=f(I);function I(){!function i(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I);var T=[v.default.PROFILES,v.default.WIDTH,v.default.HEIGHT,v.default.SAR,v.default.FRAMERATE,v.default.AUDIO_SAMPLING_RATE,v.default.MIME_TYPE,v.default.SEGMENT_PROFILES,v.default.CODECS,v.default.MAXIMUM_SAP_PERIOD,v.default.START_WITH_SAP,v.default.MAX_PLAYOUT_RATE,v.default.CODING_DEPENDENCY,v.default.SCAN_TYPE,v.default.FRAME_PACKING,v.default.AUDIO_CHANNEL_CONFIGURATION,v.default.CONTENT_PROTECTION,v.default.ESSENTIAL_PROPERTY,v.default.SUPPLEMENTAL_PROPERTY,v.default.INBAND_EVENT_STREAM];return D.call(this,v.default.ADAPTATION_SET,T,[new t.default(v.default.REPRESENTATION,T,[new t.default(v.default.SUB_REPRESENTATION,T)])])}return function P(O,D,I){return D&&_(O.prototype,D),I&&_(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(t.default)},"./src/dash/parser/maps/SegmentValuesMap.js":
/*!**************************************************!*\
                  !*** ./src/dash/parser/maps/SegmentValuesMap.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),v=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function b(O){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(O)}function _(O,D){for(var I=0;I<D.length;I++){var T=D[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,C(T.key),T)}}function C(O){var D=function m(O,D){if("object"!==b(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var T=I.call(O,D||"default");if("object"!==b(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(O)}(O,"string");return"symbol"===b(D)?D:String(D)}function c(O,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),D&&d(O,D)}function d(O,D){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,L){return T.__proto__=L,T})(O,D)}function f(O){var D=function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,T=A(O);if(D){var y=A(this).constructor;L=Reflect.construct(T,arguments,y)}else L=T.apply(this,arguments);return function g(O,D){if(D&&("object"===b(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function S(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function A(O){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}p.default=function(O){c(I,O);var D=f(I);function I(){!function i(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I);var T=[v.default.SEGMENT_BASE,v.default.SEGMENT_TEMPLATE,v.default.SEGMENT_LIST];return D.call(this,v.default.PERIOD,T,[new t.default(v.default.ADAPTATION_SET,T,[new t.default(v.default.REPRESENTATION,T)])])}return function P(O,D,I){return D&&_(O.prototype,D),I&&_(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(t.default)},"./src/dash/parser/matchers/BaseMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/BaseMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function b(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,P(f.key),f)}}function P(i){var c=function C(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=function(){function i(c,d){(function v(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this._test=c,this._converter=d}return function _(i,c,d){return c&&b(i.prototype,c),d&&b(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),i}()},"./src/dash/parser/matchers/DateTimeMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DateTimeMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function v(T){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(T)}function b(T,L){for(var y=0;y<L.length;y++){var B=L[y];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,P(B.key),B)}}function P(T){var L=function C(T,L){if("object"!==v(T)||null===T)return T;var y=T[Symbol.toPrimitive];if(void 0!==y){var B=y.call(T,L||"default");if("object"!==v(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===L?String:Number)(T)}(T,"string");return"symbol"===v(L)?L:String(L)}function i(T,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(L&&L.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),L&&c(T,L)}function c(T,L){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,z){return B.__proto__=z,B})(T,L)}function d(T){var L=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,B=x(T);if(L){var ne=x(this).constructor;z=Reflect.construct(B,arguments,ne)}else z=B.apply(this,arguments);return function f(T,L){if(L&&("object"===v(L)||"function"==typeof L))return L;if(void 0!==L)throw new TypeError("Derived constructors may only return object or undefined");return function g(T){if(void 0===T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(T)}(this,z)}}function x(T){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(T)}var D=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;p.default=function(T){i(y,T);var L=d(y);function y(){return function m(T,L){if(!(T instanceof L))throw new TypeError("Cannot call a class as a function")}(this,y),L.call(this,function(B){return D.test(B.value)},function(B){var ne,z=D.exec(B);if(ne=Date.UTC(parseInt(z[1],10),parseInt(z[2],10)-1,parseInt(z[3],10),parseInt(z[4],10),parseInt(z[5],10),z[6]&&parseInt(z[6],10)||0,z[7]&&1e3*parseFloat(z[7])||0),z[9]&&z[10]){var ae=60*parseInt(z[9],10)+parseInt(z[10],10);ne+=("+"===z[8]?-1:1)*ae*60*1e3}return new Date(ne)})}return function _(T,L,y){return L&&b(T.prototype,L),y&&b(T,y),Object.defineProperty(T,"prototype",{writable:!1}),T}(y)}(t.default)},"./src/dash/parser/matchers/DurationMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DurationMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),v=e(
/*! ../../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function _(z){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ne){return typeof ne}:function(ne){return ne&&"function"==typeof Symbol&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne})(z)}function P(z,ne){for(var ae=0;ae<ne.length;ae++){var Fe=ne[ae];Fe.enumerable=Fe.enumerable||!1,Fe.configurable=!0,"value"in Fe&&(Fe.writable=!0),Object.defineProperty(z,m(Fe.key),Fe)}}function m(z){var ne=function i(z,ne){if("object"!==_(z)||null===z)return z;var ae=z[Symbol.toPrimitive];if(void 0!==ae){var Fe=ae.call(z,ne||"default");if("object"!==_(Fe))return Fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ne?String:Number)(z)}(z,"string");return"symbol"===_(ne)?ne:String(ne)}function d(z,ne){if("function"!=typeof ne&&null!==ne)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(ne&&ne.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),ne&&f(z,ne)}function f(z,ne){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Fe,Y){return Fe.__proto__=Y,Fe})(z,ne)}function g(z){var ne=function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,Fe=N(z);if(ne){var le=N(this).constructor;Y=Reflect.construct(Fe,arguments,le)}else Y=Fe.apply(this,arguments);return function S(z,ne){if(ne&&("object"===_(ne)||"function"==typeof ne))return ne;if(void 0!==ne)throw new TypeError("Derived constructors may only return object or undefined");return function x(z){if(void 0===z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}(z)}(this,Y)}}function N(z){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ae){return ae.__proto__||Object.getPrototypeOf(ae)})(z)}var O=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;p.default=function(z){d(ae,z);var ne=g(ae);function ae(){return function c(z,ne){if(!(z instanceof ne))throw new TypeError("Cannot call a class as a function")}(this,ae),ne.call(this,function(Fe){for(var Y=[b.default.MIN_BUFFER_TIME,b.default.MEDIA_PRESENTATION_DURATION,b.default.MINIMUM_UPDATE_PERIOD,b.default.TIMESHIFT_BUFFER_DEPTH,b.default.MAX_SEGMENT_DURATION,b.default.MAX_SUBSEGMENT_DURATION,b.default.SUGGESTED_PRESENTATION_DELAY,b.default.START,v.default.START_TIME,b.default.DURATION],le=Y.length,G=0;G<le;G++)if(Fe.nodeName===Y[G])return O.test(Fe.value);return!1},function(Fe){var Y=O.exec(Fe),le=31536e3*parseFloat(Y[3]||0)+2592e3*parseFloat(Y[5]||0)+86400*parseFloat(Y[7]||0)+3600*parseFloat(Y[9]||0)+60*parseFloat(Y[11]||0)+parseFloat(Y[13]||0);return void 0!==Y[1]&&(le=-le),le})}return function C(z,ne,ae){return ne&&P(z.prototype,ne),ae&&P(z,ae),Object.defineProperty(z,"prototype",{writable:!1}),z}(ae)}(t.default)},"./src/dash/parser/matchers/LangMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/LangMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),v=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),b=e(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),_=e.n(b);function P(T){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(T)}function C(T,L,y){return(L=c(L))in T?Object.defineProperty(T,L,{value:y,enumerable:!0,configurable:!0,writable:!0}):T[L]=y,T}function m(T,L){for(var y=0;y<L.length;y++){var B=L[y];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,c(B.key),B)}}function c(T){var L=function d(T,L){if("object"!==P(T)||null===T)return T;var y=T[Symbol.toPrimitive];if(void 0!==y){var B=y.call(T,L||"default");if("object"!==P(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===L?String:Number)(T)}(T,"string");return"symbol"===P(L)?L:String(L)}function g(T,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(L&&L.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),L&&S(T,L)}function S(T,L){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,z){return B.__proto__=z,B})(T,L)}function x(T){var L=function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,B=D(T);if(L){var ne=D(this).constructor;z=Reflect.construct(B,arguments,ne)}else z=B.apply(this,arguments);return function A(T,L){if(L&&("object"===P(L)||"function"==typeof L))return L;if(void 0!==L)throw new TypeError("Derived constructors may only return object or undefined");return function N(T){if(void 0===T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(T)}(this,z)}}function D(T){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(T)}p.default=function(T){g(y,T);var L=x(y);function y(){return function f(T,L){if(!(T instanceof L))throw new TypeError("Cannot call a class as a function")}(this,y),L.call(this,function(B,z){var ne,ae=(C(ne={},v.default.ADAPTATION_SET,[v.default.LANG]),C(ne,v.default.REPRESENTATION,[v.default.LANG]),C(ne,v.default.CONTENT_COMPONENT,[v.default.LANG]),C(ne,v.default.LABEL,[v.default.LANG]),C(ne,v.default.GROUP_LABEL,[v.default.LANG]),ne);if(ae.hasOwnProperty(z)){var Fe=ae[z];return void 0!==Fe&&Fe.indexOf(B.name)>=0}return!1},function(B){var z=_()(B);return void 0!==z?z:String(B)})}return function i(T,L,y){return L&&m(T.prototype,L),y&&m(T,y),Object.defineProperty(T,"prototype",{writable:!1}),T}(y)}(t.default)},"./src/dash/parser/matchers/NumericMatcher.js":
/*!****************************************************!*\
                  !*** ./src/dash/parser/matchers/NumericMatcher.js ***!
                  \****************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function v(O){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(O)}function b(O,D){for(var I=0;I<D.length;I++){var T=D[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,P(T.key),T)}}function P(O){var D=function C(O,D){if("object"!==v(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var T=I.call(O,D||"default");if("object"!==v(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(O)}(O,"string");return"symbol"===v(D)?D:String(D)}function i(O,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),D&&c(O,D)}function c(O,D){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,L){return T.__proto__=L,T})(O,D)}function d(O){var D=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,T=x(O);if(D){var y=x(this).constructor;L=Reflect.construct(T,arguments,y)}else L=T.apply(this,arguments);return function f(O,D){if(D&&("object"===v(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function g(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function x(O){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}var A=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;p.default=function(O){i(I,O);var D=d(I);function I(){return function m(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I),D.call(this,function(T){return A.test(T.value)},function(T){return parseFloat(T)})}return function _(O,D,I){return D&&b(O.prototype,D),I&&b(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(t.default)},"./src/dash/parser/matchers/StringMatcher.js":
/*!***************************************************!*\
                  !*** ./src/dash/parser/matchers/StringMatcher.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),v=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function b(D){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(D)}function _(D,I,T){return(I=m(I))in D?Object.defineProperty(D,I,{value:T,enumerable:!0,configurable:!0,writable:!0}):D[I]=T,D}function P(D,I){for(var T=0;T<I.length;T++){var L=I[T];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(D,m(L.key),L)}}function m(D){var I=function i(D,I){if("object"!==b(D)||null===D)return D;var T=D[Symbol.toPrimitive];if(void 0!==T){var L=T.call(D,I||"default");if("object"!==b(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===I?String:Number)(D)}(D,"string");return"symbol"===b(I)?I:String(I)}function d(D,I){if("function"!=typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(I&&I.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),I&&f(D,I)}function f(D,I){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,y){return L.__proto__=y,L})(D,I)}function g(D){var I=function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var y,L=N(D);if(I){var B=N(this).constructor;y=Reflect.construct(L,arguments,B)}else y=L.apply(this,arguments);return function S(D,I){if(I&&("object"===b(I)||"function"==typeof I))return I;if(void 0!==I)throw new TypeError("Derived constructors may only return object or undefined");return function x(D){if(void 0===D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}(D)}(this,y)}}function N(D){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)})(D)}p.default=function(D){d(T,D);var I=g(T);function T(){return function c(D,I){if(!(D instanceof I))throw new TypeError("Cannot call a class as a function")}(this,T),I.call(this,function(L,y){var B,z=(_(B={},v.default.MPD,[v.default.ID,v.default.PROFILES]),_(B,v.default.PERIOD,[v.default.ID]),_(B,v.default.BASE_URL,[v.default.SERVICE_LOCATION,v.default.BYTE_RANGE]),_(B,v.default.SEGMENT_BASE,[v.default.INDEX_RANGE]),_(B,v.default.INITIALIZATION,[v.default.RANGE]),_(B,v.default.REPRESENTATION_INDEX,[v.default.RANGE]),_(B,v.default.SEGMENT_LIST,[v.default.INDEX_RANGE]),_(B,v.default.BITSTREAM_SWITCHING,[v.default.RANGE]),_(B,v.default.SEGMENT_URL,[v.default.MEDIA_RANGE,v.default.INDEX_RANGE]),_(B,v.default.SEGMENT_TEMPLATE,[v.default.INDEX_RANGE,v.default.MEDIA,v.default.INDEX,v.default.INITIALIZATION_MINUS,v.default.BITSTREAM_SWITCHING_MINUS]),_(B,v.default.ASSET_IDENTIFIER,[v.default.VALUE,v.default.ID]),_(B,v.default.EVENT_STREAM,[v.default.VALUE]),_(B,v.default.ADAPTATION_SET,[v.default.PROFILES,v.default.MIME_TYPE,v.default.SEGMENT_PROFILES,v.default.CODECS,v.default.CONTENT_TYPE]),_(B,v.default.FRAME_PACKING,[v.default.VALUE,v.default.ID]),_(B,v.default.AUDIO_CHANNEL_CONFIGURATION,[v.default.VALUE,v.default.ID]),_(B,v.default.CONTENT_PROTECTION,[v.default.VALUE,v.default.ID]),_(B,v.default.ESSENTIAL_PROPERTY,[v.default.VALUE,v.default.ID]),_(B,v.default.SUPPLEMENTAL_PROPERTY,[v.default.VALUE,v.default.ID]),_(B,v.default.INBAND_EVENT_STREAM,[v.default.VALUE,v.default.ID]),_(B,v.default.ACCESSIBILITY,[v.default.VALUE,v.default.ID]),_(B,v.default.ROLE,[v.default.VALUE,v.default.ID]),_(B,v.default.RATING,[v.default.VALUE,v.default.ID]),_(B,v.default.VIEWPOINT,[v.default.VALUE,v.default.ID]),_(B,v.default.CONTENT_COMPONENT,[v.default.CONTENT_TYPE]),_(B,v.default.REPRESENTATION,[v.default.ID,v.default.DEPENDENCY_ID,v.default.MEDIA_STREAM_STRUCTURE_ID]),_(B,v.default.SUBSET,[v.default.ID]),_(B,v.default.METRICS,[v.default.METRICS_MINUS]),_(B,v.default.REPORTING,[v.default.VALUE,v.default.ID]),B);if(z.hasOwnProperty(y)){var ne=z[y];return void 0!==ne&&ne.indexOf(L.name)>=0}return!1},function(L){return String(L)})}return function C(D,I,T){return I&&P(D.prototype,I),T&&P(D,T),Object.defineProperty(D,"prototype",{writable:!1}),D}(T)}(t.default)},"./src/dash/parser/objectiron.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/objectiron.js ***!
                  \***************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(P){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(P)}function b(P){function C(d,f){for(var g in d)f.hasOwnProperty(g)||(f[g]=d[g])}function m(d,f,g){for(var S=0,x=d.length;S<x;++S){var A=d[S];if(f[A.name])if(g[A.name]){if(A.merge){var N=f[A.name],O=g[A.name];"object"===v(N)&&"object"===v(O)?C(N,O):g[A.name]=N+O}}else g[A.name]=f[A.name]}}function i(d,f){for(var g=0,S=d.children.length;g<S;++g){var x=d.children[g],A=f[x.name+"_asArray"];if(A)for(var N=0,O=A.length;N<O;++N){var D=A[N];m(d.properties,f,D),i(x,D)}}}return{run:function c(d){if(null===d||"object"!==v(d))return d;if(d.Period_asArray&&"period"in P)for(var f=P.period,g=d.Period_asArray,S=0,x=g.length;S<x;++S){var A=g[S];if(i(f,A),"adaptationset"in P){var N=A.AdaptationSet_asArray;if(N)for(var O=P.adaptationset,D=0,I=N.length;D<I;++D)i(O,N[D])}}return d}}}b.__dashjs_factory_name="ObjectIron";var _=t.default.getClassFactory(b);p.default=_},"./src/dash/utils/ListSegmentsGetter.js":
/*!**********************************************!*\
                  !*** ./src/dash/utils/ListSegmentsGetter.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function _(C,m){var i=(C=C||{}).timelineConverter;function d(){if(!i||!i.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(v.default.MISSING_CONFIG_ERROR)}function g(x,A){if(d(),!x)return null;var N=x.adaptation.period.mpd.manifest.Period_asArray[x.adaptation.period.index].AdaptationSet_asArray[x.adaptation.index].Representation_asArray[x.index].SegmentList,O=N.SegmentURL_asArray.length,D=x&&!isNaN(x.startNumber)?x.startNumber:1,I=Math.max(D-1,0),T=Math.max(A-I,0),L=null;if(T<O){var y=N.SegmentURL_asArray[T];(L=Object(b.getIndexBasedSegment)(i,m,x,A))&&(L.replacementTime=(D+A-1)*x.segmentDuration,L.media=y.media?y.media:"",L.mediaRange=y.mediaRange,L.indexRange=y.indexRange)}return L}return{getSegmentByIndex:g,getSegmentByTime:function S(x,A){if(d(),!x)return null;var N=x.segmentDuration;if(isNaN(N))return null;var O=i.calcPeriodRelativeTimeFromMpdRelativeTime(x,A);return g(x,Math.floor(O/N))},getMediaFinishedInformation:function f(x){var A={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!x)return A;var N=x.adaptation.period.mpd.manifest.Period_asArray[x.adaptation.period.index].AdaptationSet_asArray[x.adaptation.index].Representation_asArray[x.index].SegmentList,O=x&&!isNaN(x.startNumber)?x.startNumber:1,D=Math.max(O-1,0);return A.numberOfSegments=D+N.SegmentURL_asArray.length,A}}}_.__dashjs_factory_name="ListSegmentsGetter";var P=t.default.getClassFactory(_);p.default=P},"./src/dash/utils/Round10.js":
/*!***********************************!*\
                  !*** ./src/dash/utils/Round10.js ***!
                  \***********************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function b(c,d){for(var f=0;f<d.length;f++){var g=d[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,P(g.key),g)}}function P(c){var d=function C(c,d){if("object"!==t(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var g=f.call(c,d||"default");if("object"!==t(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}e.r(p),e.d(p,"default",function(){return m});var m=function(){function c(){!function v(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}(this,c)}return function _(c,d,f){return d&&b(c.prototype,d),f&&b(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,null,[{key:"round10",value:function(f,g){return function i(c,d,f){return typeof f>"u"||0==+f?Math[c](d):(f=+f,null===(d=+d)||isNaN(d)||"number"!=typeof f||f%1!=0?NaN:(d=d.toString().split("e"),+((d=(d=Math[c](+(d[0]+"e"+(d[1]?+d[1]-f:-f)))).toString().split("e"))[0]+"e"+(d[1]?+d[1]+f:f))))}("round",f,g)}}]),c}()},"./src/dash/utils/SegmentBaseGetter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/SegmentBaseGetter.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js");function b(P){var C=(P=P||{}).timelineConverter;function i(){if(!C||!C.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(v.default.MISSING_CONFIG_ERROR)}function d(S,x){if(i(),!S)return null;var N,A=S.segments?S.segments.length:-1;if(x<A&&(N=S.segments[x])&&N.index===x)return N;for(var O=0;O<A;O++)if((N=S.segments[O])&&N.index===x)return N;return null}return{getSegmentByIndex:d,getSegmentByTime:function f(S,x){return i(),d(S,function g(S,x){if(!S)return-1;var D,I,T,L,y,A=S.segments,N=A?A.length:null,O=-1;if(A&&N>0)for(y=0;y<N;y++)if(x+(D=(L=(I=A[y]).duration)/2)>=(T=I.presentationStartTime)&&x-D<T+L){O=I.index;break}return O}(S,x))},getMediaFinishedInformation:function c(S){var x={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return!S||!S.segments||(x.numberOfSegments=S.segments.length),x}}}b.__dashjs_factory_name="SegmentBaseGetter";var _=t.default.getClassFactory(b);p.default=_},"./src/dash/utils/SegmentsUtils.js":
/*!*****************************************!*\
                  !*** ./src/dash/utils/SegmentsUtils.js ***!
                  \*****************************************/
/*! exports provided: unescapeDollarsInTemplate, replaceIDForTemplate, replaceTokenForTemplate, getIndexBasedSegment, getTimeBasedSegment */function(et,p,e){"use strict";e.r(p),e.d(p,"unescapeDollarsInTemplate",function(){return _}),e.d(p,"replaceIDForTemplate",function(){return P}),e.d(p,"replaceTokenForTemplate",function(){return C}),e.d(p,"getIndexBasedSegment",function(){return c}),e.d(p,"getTimeBasedSegment",function(){return d});var t=e(
/*! ./../vo/Segment */
"./src/dash/vo/Segment.js");function v(f,g){for(;f.length<g;)f="0"+f;return f}function _(f){return f&&f.split("$$").join("$")}function P(f,g){if(!g||!f||-1===f.indexOf("$RepresentationID$"))return f;var S=g.toString();return f.split("$RepresentationID$").join(S)}function C(f,g,S){var A,N,O,D,I,T,L=g.length;if(!f)return f;for(;;){if((A=f.indexOf("$"+g))<0||(N=f.indexOf("$",A+L))<0)return f;if((O=f.indexOf("%0",A+L))>A&&O<N)switch(D=f.charAt(N-1),I=parseInt(f.substring(O+2,N-1),10),D){case"d":case"i":case"u":T=v(S.toString(),I);break;case"x":T=v(S.toString(16),I);break;case"X":T=v(S.toString(16),I).toUpperCase();break;case"o":T=v(S.toString(8),I);break;default:return f}else T=S;f=f.substring(0,A)+T+f.substring(N+1)}}function m(f,g,S,x,A,N,O,D){var I=new t.default;return I.representation=f,I.duration=g,I.presentationStartTime=S,I.mediaStartTime=x,I.availabilityStartTime=A.calcAvailabilityStartTimeFromPresentationTime(N,f,O),I.availabilityEndTime=A.calcAvailabilityEndTimeFromPresentationTime(N+g,f,O),I.wallStartTime=A.calcWallTimeForSegment(I,O),I.replacementNumber=function b(f,g){return f.representation.startNumber+g}(I,D),I.index=D,I}function i(f,g,S,x){var A=g.adaptation.period;if(isFinite(A.duration)&&A.start+A.duration<=S.presentationStartTime)return!1;if(x){if("INF"===g.availabilityTimeOffset)return!0;var N=f.getClientReferenceTime();return S.availabilityStartTime.getTime()<=N&&(!isFinite(S.availabilityEndTime)||S.availabilityEndTime.getTime()>=N)}return!0}function c(f,g,S,x){var A,N,O;A=S.segmentDuration,isNaN(A)&&(A=S.adaptation.period.duration),N=parseFloat((S.adaptation.period.start+x*A).toFixed(5)),O=parseFloat((N+A).toFixed(5));var I=m(S,A,N,f.calcMediaTimeFromPresentationTime(N,S),f,O,g,x);return i(f,S,I,g)?I:null}function d(f,g,S,x,A,N,O,D,I,T){var B,ne,L=x/N,y=A/N;return B=f.calcPresentationTimeFromMediaTime(L,S),i(f,S,ne=m(S,y,B,L,f,B+y,g,I),g)?(ne.replacementTime=T||x,O=C(O,"Number",ne.replacementNumber),O=C(O,"Time",ne.replacementTime),ne.media=O,ne.mediaRange=D,ne):null}},"./src/dash/utils/TemplateSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TemplateSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function _(C,m){var i=(C=C||{}).timelineConverter;function d(){if(!i||!i.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(v.default.MISSING_CONFIG_ERROR)}function g(x,A){if(d(),!x)return null;var N=x.adaptation.period.mpd.manifest.Period_asArray[x.adaptation.period.index].AdaptationSet_asArray[x.adaptation.index].Representation_asArray[x.index].SegmentTemplate;A=Math.max(A,0);var O=Object(b.getIndexBasedSegment)(i,m,x,A);if(O){O.replacementTime=Math.round((A-1)*x.segmentDuration*x.timescale,10);var D=N.media;D=Object(b.replaceTokenForTemplate)(D,"Number",O.replacementNumber),D=Object(b.replaceTokenForTemplate)(D,"Time",O.replacementTime),O.media=D}return O}return{getSegmentByIndex:g,getSegmentByTime:function S(x,A){if(d(),!x)return null;var N=x.segmentDuration;if(isNaN(N))return null;var O=i.calcPeriodRelativeTimeFromMpdRelativeTime(x,A);return g(x,Math.floor(O/N))},getMediaFinishedInformation:function f(x){var A={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!x)return A;var N=x.segmentDuration;return A.numberOfSegments=isNaN(N)?1:Math.ceil(x.adaptation.period.duration/N),A}}}_.__dashjs_factory_name="TemplateSegmentsGetter";var P=t.default.getClassFactory(_);p.default=P},"./src/dash/utils/TimelineConverter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/TimelineConverter.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),v=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),P=e(
/*! ../models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),C=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),m=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),i=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),c=e(
/*! ../../streaming/constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function d(){var x,A,N,O,f=this.context,g=Object(t.default)(f).getInstance(),S=Object(C.default)(f).getInstance();function L(Te){O=Te}function B(Te,Oe,Ve,ft){var Ze,Re=Oe.adaptation.period.mpd,be=Re.availabilityStartTime;if(ft)Ze=Ve&&Re.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(be.getTime()+1e3*(Te+Re.timeShiftBufferDepth)):Re.availabilityEndTime;else if(Ve){var Q=Oe.availabilityTimeOffset;Ze=new Date(be.getTime()+1e3*(Te-Q))}else Ze=be;return Ze}function ae(Te,Oe){return(Te.getTime()-Oe.mpd.availabilityStartTime.getTime()+1e3*O)/1e3}function Fe(Te,Oe){return Te+(Oe.adaptation.period.start-Oe.presentationTimeOffset)}function ge(Te){var Oe={start:NaN,end:NaN},Ve=Te[0].getAdapter().getRegularPeriods()[0],ft=ae(new Date,Ve);if(!Te||0===Te.length)return{range:Oe,now:ft};Te.forEach(function(Re){var be=Re.getAdapter(),Q=be.getMediaInfoForType(Re.getStreamInfo(),m.default.VIDEO)||be.getMediaInfoForType(Re.getStreamInfo(),m.default.AUDIO),ye=be.getVoRepresentations(Q)[0],oe={start:NaN,end:NaN};if(ye)if(ye.segmentInfoType===_.default.SEGMENT_TIMELINE)oe=function pe(Te){var ie,ye,oe,ee,Ve=A.getRepresentationFor(Te.index,Te.adaptation.period.mpd.manifest.Period_asArray[Te.adaptation.period.index].AdaptationSet_asArray[Te.adaptation.index]),Ze=Ve.SegmentTemplate.timescale,Re=Ve.SegmentTemplate.SegmentTimeline.S_asArray,be={start:0,end:0},Q=0;for(be.start=Fe(Re[0].t/Ze,Te),oe=0,ee=Re.length;oe<ee;oe++)ye=0,(ie=Re[oe]).hasOwnProperty("r")&&(ye=ie.r),Q+=ie.d*(1+ye);return be.end=Fe((Re[0].t+Q)/Ze,Te),be}(ye);else{var ee=ye.adaptation.period;oe.start=ee.start,oe.end=Math.max(ft,ee.start+ee.duration)}!isNaN(oe.start)&&(isNaN(Oe.start)||Oe.start>oe.start)&&(Oe.start=oe.start),!isNaN(oe.end)&&(isNaN(Oe.end)||Oe.end<oe.end)&&(Oe.end=oe.end)}),Oe.end=Math.min(ft,Oe.end);var Ze=Ce(Te,Oe.end,!0);return Oe.end=isNaN(Ze)?Oe.end:Ze,Oe.start=Ve&&Ve.mpd&&Ve.mpd.timeShiftBufferDepth&&!isNaN(Ve.mpd.timeShiftBufferDepth)&&!isNaN(Oe.end)?Math.max(Oe.end-Ve.mpd.timeShiftBufferDepth,Oe.start):Oe.start,Oe.start=Ce(Te,Oe.start),{range:Oe,now:ft}}function Ie(Te,Oe){N=Te-Oe.end}function Ce(Te,Oe){var Ve=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var ft=0,Ze=!1,Re=NaN;!Ze&&ft<Te.length;){var be=Te[ft].getStreamInfo();be.start<=Oe&&(!isFinite(be.duration)||be.start+be.duration>=Oe)?(Re=Oe,Ze=!0):!Ve&&be.start>Oe&&(isNaN(Re)||be.start<Re)?Re=be.start:Ve&&be.start+be.duration<Oe&&(isNaN(Re)||be.start+be.duration>Re)&&(Re=be.start+be.duration),ft+=1}return Re}catch{return Oe}}function ke(Te){void 0!==Te.offset&&!isNaN(Te.offset)&&L(Te.offset/1e3)}function he(){O=0,N=0}function we(){g.off(v.default.UPDATE_TIME_SYNC_OFFSET,ke,this),he()}return x={initialize:function I(){he(),g.on(v.default.UPDATE_TIME_SYNC_OFFSET,ke,this)},getClientTimeOffset:function T(){return O},setClientTimeOffset:L,getClientReferenceTime:function y(){return Date.now()-1e3*N+1e3*O},calcAvailabilityStartTimeFromPresentationTime:function z(Te,Oe,Ve){return B(Te,Oe,Ve)},calcAvailabilityEndTimeFromPresentationTime:function ne(Te,Oe,Ve){return B(Te,Oe,Ve,!0)},calcPresentationTimeFromWallTime:ae,calcPresentationTimeFromMediaTime:Fe,calcPeriodRelativeTimeFromMpdRelativeTime:function Ae(Te,Oe){return Oe-Te.adaptation.period.start},calcMediaTimeFromPresentationTime:function Y(Te,Oe){return Te-Oe.adaptation.period.start+Oe.presentationTimeOffset},calcWallTimeForSegment:function le(Te,Oe){var ft,Ze;return Oe&&(ft=Te.presentationStartTime+Te.representation.adaptation.period.mpd.suggestedPresentationDelay,Ze=new Date(Te.availabilityStartTime.getTime()+1e3*ft)),Ze},calcTimeShiftBufferWindow:function G(Te,Oe){if(!Oe)return function Se(Te){var Oe={start:NaN,end:NaN},Ve=0,ft=NaN;return Te.forEach(function(Ze){var Re=Ze.getStreamInfo();Ve+=Re.duration,(isNaN(ft)||Re.start<ft)&&(ft=Re.start)}),Oe.start=ft,Oe.end=ft+Ve,Oe}(Te);if(S.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var Ve=ge(Te);return Ie(Ve.now,Ve.range),Ve.range}return function ce(Te){var Oe={start:NaN,end:NaN};if(!Te||0===Te.length)return Oe;var Ve=Te[0].getAdapter().getRegularPeriods()[0],ft=ae(new Date,Ve),Ze=Ve.mpd.timeShiftBufferDepth,Re=isNaN(Ze)?0:ft-Ze;if(Oe.start=Ce(Te,Re),Oe.end=!isNaN(Oe.start)&&ft<Oe.start?ft:Ce(Te,ft,!0),!isNaN(Ze)&&Oe.end<ft-Ze&&(Oe.end=NaN),S.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var be=ge(Te);if(be.range.end<Oe.start)return g.trigger(i.default.CONFORMANCE_VIOLATION,{level:c.default.LEVELS.WARNING,event:c.default.EVENTS.INVALID_DVR_WINDOW}),Ie(be.now,be.range),be.range}return Oe}(Te)},reset:we},function D(){A=Object(P.default)(f).getInstance(),we()}(),x}d.__dashjs_factory_name="TimelineConverter",p.default=b.default.getSingletonFactory(d)},"./src/dash/utils/TimelineSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TimelineSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function _(C,m){var i=(C=C||{}).timelineConverter,c=C.dashMetrics;function f(){if(!i)throw new Error(v.default.MISSING_CONFIG_ERROR)}function S(D,I){var ne,ae,Fe,Y,le,G,Se,T=D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentTemplate||D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentList,y=T.SegmentURL_asArray,B=0,z=-1;Se=D.timescale;var ce=!1;for(Fe=0,Y=(ne=T.SegmentTimeline.S_asArray).length;Fe<Y&&!ce;Fe++)for(G=0,(ae=ne[Fe]).hasOwnProperty("r")&&(G=ae.r),ae.hasOwnProperty("t")&&(B=ae.t),G<0&&(G=x(D,ne[Fe+1],ae,Se,B/Se)),le=0;le<=G&&!ce;le++)(ce=I(B,T,y,ae,Se,++z,Fe))&&(D.segmentDuration=ae.d/Se),B+=ae.d}function x(D,I,T,L,y){var B;if(I&&I.hasOwnProperty("t"))B=I.t/L;else try{var z=0;if(isNaN(D.adaptation.period.start)||isNaN(D.adaptation.period.duration)||!isFinite(D.adaptation.period.duration)){var ne=c.getCurrentDVRInfo();z=isNaN(ne.end)?0:ne.end}else z=D.adaptation.period.start+D.adaptation.period.duration;B=i.calcMediaTimeFromPresentationTime(z,D),D.segmentDuration=T.d/L}catch{B=0}return Math.max(Math.ceil((B-y)/(T.d/L))-1,0)}return{getSegmentByIndex:function A(D,I,T){if(f(),!D)return null;var L=null,y=!1;return S(D,function(B,z,ne,ae,Fe,Y,le){if(y||T<0){var G=z.media,Se=ae.mediaRange;return ne&&(G=ne[le].media||"",Se=ne[le].mediaRange),L=Object(b.getTimeBasedSegment)(i,m,D,B,ae.d,Fe,G,Se,Y,ae.tManifest),!0}return B>=T*Fe-.5*ae.d&&(y=!0),!1}),L},getSegmentByTime:function N(D,I){if(f(),!D)return null;void 0===I&&(I=null);var T=null,L=i.calcMediaTimeFromPresentationTime(I,D);return S(D,function(y,B,z,ne,ae,Fe,Y){var le=function O(D){return parseFloat(D.toPrecision(15))}(L*ae);if(le<y+ne.d&&le>=y){var G=B.media,Se=ne.mediaRange;return z&&(G=z[Y].media||"",Se=z[Y].mediaRange),T=Object(b.getTimeBasedSegment)(i,m,D,y,ne.d,ae,G,Se,Fe,ne.tManifest),!0}return!1}),T},getMediaFinishedInformation:function g(D){if(!D)return 0;var z,ne,ae,Fe,Y,le,G,L=0,y=0,B=0;for(G=D.timescale,Fe=(z=(D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentTemplate||D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentList).SegmentTimeline.S_asArray).length,ae=0;ae<Fe;ae++)for(le=0,(ne=z[ae]).hasOwnProperty("r")&&(le=ne.r),ne.hasOwnProperty("t")&&(y=(L=ne.t)/G),le<0&&(le=x(D,z[ae+1],ne,G,y)),Y=0;Y<=le;Y++)B++,y=(L+=ne.d)/G;return{numberOfSegments:B,mediaTimeOfLastSignaledSegment:y}}}}_.__dashjs_factory_name="TimelineSegmentsGetter";var P=t.default.getClassFactory(_);p.default=P},"./src/dash/vo/AdaptationSet.js":
/*!**************************************!*\
                  !*** ./src/dash/vo/AdaptationSet.js ***!
                  \**************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.period=null,this.index=-1,this.type=null})},"./src/dash/vo/BaseURL.js":
/*!********************************!*\
                  !*** ./src/dash/vo/BaseURL.js ***!
                  \********************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(d){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function v(d,f){for(var g=0;g<f.length;g++){var S=f[g];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(d,_(S.key),S)}}function b(d,f,g){return f&&v(d.prototype,f),g&&v(d,g),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var f=function P(d,f){if("object"!==t(d)||null===d)return d;var g=d[Symbol.toPrimitive];if(void 0!==g){var S=g.call(d,f||"default");if("object"!==t(S))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(d)}(d,"string");return"symbol"===t(f)?f:String(f)}e.r(p);var c=b(function d(f,g,S,x){(function C(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,d),this.url=f||"",this.serviceLocation=g||f||"",this.dvb_priority=S||1,this.dvb_weight=x||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0});c.DEFAULT_DVB_PRIORITY=1,c.DEFAULT_DVB_WEIGHT=1,p.default=c},"./src/dash/vo/ContentSteering.js":
/*!****************************************!*\
                  !*** ./src/dash/vo/ContentSteering.js ***!
                  \****************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.defaultServiceLocation=null,this.queryBeforeStart=!1,this.proxyServerUrl=null,this.serverUrl=null})},"./src/dash/vo/ContentSteeringRequest.js":
/*!***********************************************!*\
                  !*** ./src/dash/vo/ContentSteeringRequest.js ***!
                  \***********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function b(c,d){for(var f=0;f<d.length;f++){var g=d[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,P(g.key),g)}}function _(c,d,f){return d&&b(c.prototype,d),f&&b(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function P(c){var d=function C(c,d){if("object"!==v(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var g=f.call(c,d||"default");if("object"!==v(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===v(d)?d:String(d)}p.default=_(function c(d){(function m(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.url=d||null,this.type=t.HTTPRequest.CONTENT_STEERING_TYPE,this.responseType="json"})},"./src/dash/vo/ContentSteeringResponse.js":
/*!************************************************!*\
                  !*** ./src/dash/vo/ContentSteeringResponse.js ***!
                  \************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.version=null,this.ttl=300,this.reloadUri=null,this.serviceLocationPriority=[]})},"./src/dash/vo/Event.js":
/*!******************************!*\
                  !*** ./src/dash/vo/Event.js ***!
                  \******************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN})},"./src/dash/vo/EventStream.js":
/*!************************************!*\
                  !*** ./src/dash/vo/EventStream.js ***!
                  \************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0})},"./src/dash/vo/ManifestInfo.js":
/*!*************************************!*\
                  !*** ./src/dash/vo/ManifestInfo.js ***!
                  \*************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null})},"./src/dash/vo/MediaInfo.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/MediaInfo.js ***!
                  \**********************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={}})},"./src/dash/vo/Mpd.js":
/*!****************************!*\
                  !*** ./src/dash/vo/Mpd.js ***!
                  \****************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN})},"./src/dash/vo/PatchOperation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/PatchOperation.js ***!
                  \***************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function b(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,P(f.key),f)}}function P(i){var c=function C(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=function(){function i(c,d,f){(function v(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.action=c,this.xpath=d,this.value=f,this.position=null}return function _(i,c,d){return c&&b(i.prototype,c),d&&b(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"getMpdTarget",value:function(d){return this.xpath.getMpdTarget(d,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}]),i}()},"./src/dash/vo/Period.js":
/*!*******************************!*\
                  !*** ./src/dash/vo/Period.js ***!
                  \*******************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p);var m=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null});m.DEFAULT_ID="defaultId",p.default=m},"./src/dash/vo/ProducerReferenceTime.js":
/*!**********************************************!*\
                  !*** ./src/dash/vo/ProducerReferenceTime.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null})},"./src/dash/vo/Representation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/Representation.js ***!
                  \***************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function _(c,d){for(var f=0;f<d.length;f++){var g=d[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,C(g.key),g)}}function C(c){var d=function m(c,d){if("object"!==v(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var g=f.call(c,d||"default");if("object"!==v(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===v(d)?d:String(d)}p.default=function(){function c(){(function b(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}return function P(c,d,f){return d&&_(c.prototype,d),f&&_(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==t.default.BASE_URL&&this.segmentInfoType!==t.default.SEGMENT_BASE&&!this.indexRange}}]),c}()},"./src/dash/vo/RepresentationInfo.js":
/*!*******************************************!*\
                  !*** ./src/dash/vo/RepresentationInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null})},"./src/dash/vo/Segment.js":
/*!********************************!*\
                  !*** ./src/dash/vo/Segment.js ***!
                  \********************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null})},"./src/dash/vo/SimpleXPath.js":
/*!************************************!*\
                  !*** ./src/dash/vo/SimpleXPath.js ***!
                  \************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function b(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,P(f.key),f)}}function P(i){var c=function C(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=function(){function i(c){var d=this;(function v(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.valid="/"==c[0],this.path=c.split("/").filter(function(f){return 0!==f.length}).map(function(f){var g={name:f},S=f.indexOf("[");if(-1!=S){g.name=f.substring(0,S);var x=f.substring(S+1,f.length-1);d.valid=d.valid&&-1==x.indexOf("[");var A=x.indexOf("=");-1!=A?(g.attribute={name:x.substring(1,A),value:x.substring(A+1)},-1!=["'",'"'].indexOf(g.attribute.value[0])&&(g.attribute.value=g.attribute.value.substring(1,g.attribute.value.length-1))):g.position=parseInt(x,10)-1}return g})}return function _(i,c,d){return c&&b(i.prototype,c),d&&b(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(d,f){for(var g=null,S=d,x=1,A="MPD";x<this.path.length&&null!==S;){g=S;var N=this.path[x];if(A=N.name,x!==this.path.length-1||!A.startsWith("@")){var O=g[A+"_asArray"]||[];0===O.length&&g[A]&&O.push(g[A]),N.position?S=O[N.position]||null:N.attribute?function(){var D=N.attribute;S=O.filter(function(I){return I[D.name]==D.value})[0]||null}():S=O[0]||null}x++}return null===S?null:A.startsWith("@")?{name:A.substring(1),leaf:S,target:S}:{name:A,leaf:S,target:f?g:S}}}]),i}()},"./src/dash/vo/StreamInfo.js":
/*!***********************************!*\
                  !*** ./src/dash/vo/StreamInfo.js ***!
                  \***********************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0})},"./src/dash/vo/UTCTiming.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/UTCTiming.js ***!
                  \**********************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.schemeIdUri="",this.value=""})},"./src/streaming/FragmentLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/FragmentLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),b=e(
/*! ./vo/HeadRequest */
"./src/streaming/vo/HeadRequest.js"),_=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),P=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js");function C(m){var x,A,i=this.context,c=(m=m||{}).eventBus,d=m.events,f=m.urlUtils,g=m.errors,S=m.streamId;return x={checkForExistence:function O(L){var y=function(ne){c.trigger(d.CHECK_FOR_EXISTENCE_COMPLETED,{request:L,exists:ne})};if(L){var B=new b.default(L.url);A.load({request:B,success:function(){y(!0)},error:function(){y(!1)}})}else y(!1)},load:function D(L){var y=function(z,ne){c.trigger(d.LOADING_COMPLETED,{request:L,response:z||null,error:ne||null,sender:x})};L?A.load({request:L,progress:function(z){c.trigger(d.LOADING_PROGRESS,{request:L,stream:z.stream,streamId:S}),z.data&&c.trigger(d.LOADING_DATA_PROGRESS,{request:L,response:z.data||null,error:null,sender:x})},success:function(z){y(z)},error:function(z,ne,ae){y(void 0,new _.default(g.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,ae,ne))},abort:function(z){z&&c.trigger(d.LOADING_ABANDONED,{mediaType:z.mediaType,request:z,sender:x})}}):y(void 0,new _.default(g.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,g.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function I(){A&&A.abort()},reset:function T(){A&&(A.abort(),A=null)}},function N(){A=Object(v.default)(i).create({errHandler:m.errHandler,errors:g,dashMetrics:m.dashMetrics,mediaPlayerModel:m.mediaPlayerModel,requestModifier:m.requestModifier,urlUtils:f,constants:t.default,boxParser:m.boxParser,dashConstants:m.dashConstants,requestTimeout:m.settings.get().streaming.fragmentRequestTimeout})}(),x}C.__dashjs_factory_name="FragmentLoader",p.default=P.default.getClassFactory(C)},"./src/streaming/ManifestLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/ManifestLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),b=e(
/*! ./controllers/XlinkController */
"./src/streaming/controllers/XlinkController.js"),_=e(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),P=e(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),C=e(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),m=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),i=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),c=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),d=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),f=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),g=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),S=e(
/*! ../dash/parser/DashParser */
"./src/dash/parser/DashParser.js");function x(N){var y,B,z,ne,ae,O=this.context,D=(N=N||{}).debug,I=N.settings,T=Object(c.default)(O).getInstance(),L=Object(P.default)(O).getInstance(),Fe=N.mssHandler,Y=N.errHandler;function G(Ie){T.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:Ie.manifest})}return y={load:function ce(Ie){var Ce=new C.default(Ie,i.HTTPRequest.MPD_TYPE);z.load({request:Ce,success:function(Ae,ke,he){if(ne){var we,Te,Oe;if(he&&he!==Ie?(Te=L.parseBaseUrl(he),we=he):(L.isRelative(Ie)&&(Ie=L.resolve(Ie,window.location.href)),Te=L.parseBaseUrl(Ie)),"No Content"==ke)return void T.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:null});if(null===ae&&(ae=function Se(Ie){var Ce=null;return Ie.indexOf("SmoothStreamingMedia")>-1?(Fe&&(Ce=Fe.createMssParser(),Fe.registerEvents()),Ce):Ie.indexOf("MPD")>-1||Ie.indexOf("Patch")>-1?Object(S.default)(O).create({debug:D}):Ce}(Ae)),null===ae)return void T.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new m.default(f.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,f.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Ie))});ne.setMatchers(ae.getMatchers()),ne.setIron(ae.getIron());try{Oe=ae.parse(Ae)}catch{return void T.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new m.default(f.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,f.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Ie))})}if(Oe){if(Oe.url=we||Ie,Oe.originalUrl||(Oe.originalUrl=Oe.url),Oe.hasOwnProperty(t.default.LOCATION)&&(Te=L.parseBaseUrl(Oe.Location_asArray[0]),B.debug("BaseURI set by Location to: "+Te)),I&&I.get().streaming.enableManifestDurationMismatchFix&&Oe.mediaPresentationDuration&&Oe.Period_asArray.length>1){var Ve=Oe.Period_asArray.reduce(function(ft,Ze){return ft+Ze.duration},0);!isNaN(Ve)&&Oe.mediaPresentationDuration>Ve&&(B.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),Oe.mediaPresentationDuration=Ve)}Oe.baseUri=Te,Oe.loadedTime=new Date,ne.resolveManifestOnLoad(Oe),T.trigger(d.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:Ae})}else T.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new m.default(f.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,f.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Ie))})}},error:function(Ae,ke,he){T.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new m.default(f.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,f.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(Ie,", ").concat(he))})}})},reset:function ge(){T.off(d.default.XLINK_READY,G,y),Fe&&Fe.reset(),ne&&(ne.reset(),ne=null),z&&(z.abort(),z=null)}},function le(){B=D.getLogger(y),T.on(d.default.XLINK_READY,G,y),z=Object(_.default)(O).create({errHandler:N.errHandler,dashMetrics:N.dashMetrics,mediaPlayerModel:N.mediaPlayerModel,requestModifier:N.requestModifier,urlUtils:L,constants:t.default,dashConstants:v.default,errors:f.default,requestTimeout:N.settings.get().streaming.manifestRequestTimeout}),ne=Object(b.default)(O).create({errHandler:Y,dashMetrics:N.dashMetrics,mediaPlayerModel:N.mediaPlayerModel,requestModifier:N.requestModifier,settings:N.settings}),ae=null}(),y}x.__dashjs_factory_name="ManifestLoader";var A=g.default.getClassFactory(x);p.default=A},"./src/streaming/ManifestUpdater.js":
/*!******************************************!*\
                  !*** ./src/streaming/ManifestUpdater.js ***!
                  \******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),v=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),b=e(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),_=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),P=e(
/*! ../core/Debug */
"./src/core/Debug.js"),C=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),m=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),i=e(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function c(){var S,x,A,N,O,D,I,T,L,y,B,z,d=this.context,f=Object(t.default)(d).getInstance(),g=Object(i.default)(d).getInstance();function le(){A=NaN,I=!1,O=!0,D=!1,Se()}function Se(){null!==N&&(clearTimeout(N),N=null)}function ce(Te){Se(),!D&&(isNaN(Te)&&!isNaN(A)&&(Te=1e3*A),isNaN(Te)||(x.debug("Refresh manifest in "+Te+" milliseconds."),N=setTimeout(Ce,Te)))}function ge(){var Te=arguments.length>0&&void 0!==arguments[0]&&arguments[0];I=!0;var Oe=L.getValue(),Ve=Oe.url,ft=y.getPatchLocation(Oe),Ze=y.getLocation(Oe);ft&&!Te?Ve=ft:Ze&&(Ve=Ze),g.isRelative(Ve)&&(Ve=g.resolve(Ve,Oe.url)),T.load(Ve)}function Ie(Te){if(Te){if(y.getIsPatch(Te)){var Oe=Te;Te=L.getValue();var Ve=y.isPatchValid(Te,Oe),ft=Ve;if(Ve){var Ze=y.getPublishTime(Te);ft=y.applyPatchToManifest(Te,Oe);var Re=y.getPublishTime(Te);ft=Ze.getTime()!=Re.getTime()}if(!ft)return x.debug("Patch provided is invalid, performing full manifest refresh"),void ge(!0);Te.loadedTime=new Date}}else(Te=L.getValue()).loadedTime=new Date;if(L.getValue()&&L.getValue().type===m.default.DYNAMIC&&Te.type===m.default.STATIC)return f.trigger(v.default.DYNAMIC_TO_STATIC),I=!1,void(D=!0);L.setValue(Te);var be=new Date,Q=(be.getTime()-Te.loadedTime.getTime())/1e3;1e3*(A=y.getManifestUpdatePeriod(Te,Q))>2147483647&&(A=2147483.647),f.trigger(v.default.MANIFEST_UPDATED,{manifest:Te}),x.info("Manifest has been refreshed at "+be+"["+be.getTime()/1e3+"] "),O||ce()}function Ce(){if(!O){if(I)return void ce(z.get().streaming.manifestUpdateRetryInterval);ge()}}function pe(Te){Te.error?Te.error.code===C.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&B.error(Te.error):Ie(Te.manifest)}function Ae(){O=!1,ce()}function ke(){(O=!z.get().streaming.scheduling.scheduleWhilePaused)&&Se()}function he(){I=!1}return S={initialize:function Fe(){le(),f.on(v.default.STREAMS_COMPOSED,he,this),f.on(b.default.PLAYBACK_STARTED,Ae,this),f.on(b.default.PLAYBACK_PAUSED,ke,this),f.on(v.default.INTERNAL_MANIFEST_LOADED,pe,this)},setManifest:function Y(Te){Ie(Te)},refreshManifest:ge,getIsUpdating:function we(){return I},setConfig:function ae(Te){Te&&(Te.manifestModel&&(L=Te.manifestModel),Te.adapter&&(y=Te.adapter),Te.manifestLoader&&(T=Te.manifestLoader),Te.errHandler&&(B=Te.errHandler),Te.settings&&(z=Te.settings))},reset:function G(){f.off(b.default.PLAYBACK_STARTED,Ae,this),f.off(b.default.PLAYBACK_PAUSED,ke,this),f.off(v.default.STREAMS_COMPOSED,he,this),f.off(v.default.INTERNAL_MANIFEST_LOADED,pe,this),le()}},function ne(){x=Object(P.default)(d).getInstance().getLogger(S)}(),S}c.__dashjs_factory_name="ManifestUpdater",p.default=_.default.getClassFactory(c)},"./src/streaming/MediaPlayer.js":
/*!**************************************!*\
                  !*** ./src/streaming/MediaPlayer.js ***!
                  \**************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../externals/cea608-parser */
"./externals/cea608-parser.js"),v=e.n(t),b=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),_=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),P=e(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),C=e(
/*! ./controllers/PlaybackController */
"./src/streaming/controllers/PlaybackController.js"),m=e(
/*! ./controllers/StreamController */
"./src/streaming/controllers/StreamController.js"),i=e(
/*! ./controllers/GapController */
"./src/streaming/controllers/GapController.js"),c=e(
/*! ./controllers/CatchupController */
"./src/streaming/controllers/CatchupController.js"),d=e(
/*! ../dash/controllers/ServiceDescriptionController */
"./src/dash/controllers/ServiceDescriptionController.js"),f=e(
/*! ../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js"),g=e(
/*! ./controllers/MediaController */
"./src/streaming/controllers/MediaController.js"),S=e(
/*! ./controllers/BaseURLController */
"./src/streaming/controllers/BaseURLController.js"),x=e(
/*! ./ManifestLoader */
"./src/streaming/ManifestLoader.js"),A=e(
/*! ./utils/ErrorHandler */
"./src/streaming/utils/ErrorHandler.js"),N=e(
/*! ./utils/Capabilities */
"./src/streaming/utils/Capabilities.js"),O=e(
/*! ./utils/CapabilitiesFilter */
"./src/streaming/utils/CapabilitiesFilter.js"),D=e(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),I=e(
/*! ./models/URIFragmentModel */
"./src/streaming/models/URIFragmentModel.js"),T=e(
/*! ./models/ManifestModel */
"./src/streaming/models/ManifestModel.js"),L=e(
/*! ./models/MediaPlayerModel */
"./src/streaming/models/MediaPlayerModel.js"),y=e(
/*! ./controllers/AbrController */
"./src/streaming/controllers/AbrController.js"),B=e(
/*! ./net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js"),z=e(
/*! ./models/VideoModel */
"./src/streaming/models/VideoModel.js"),ne=e(
/*! ./models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),ae=e(
/*! ./utils/DOMStorage */
"./src/streaming/utils/DOMStorage.js"),Fe=e(
/*! ./../core/Debug */
"./src/core/Debug.js"),Y=e(
/*! ./../core/errors/Errors */
"./src/core/errors/Errors.js"),le=e(
/*! ./../core/EventBus */
"./src/core/EventBus.js"),G=e(
/*! ./../core/events/Events */
"./src/core/events/Events.js"),Se=e(
/*! ./MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),ce=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),ge=e(
/*! ../core/Settings */
"./src/core/Settings.js"),Ie=e(
/*! ../core/Version */
"./src/core/Version.js"),Ce=e(
/*! ../dash/controllers/SegmentBaseController */
"./src/dash/controllers/SegmentBaseController.js"),pe=e(
/*! ../dash/DashAdapter */
"./src/dash/DashAdapter.js"),Ae=e(
/*! ../dash/DashMetrics */
"./src/dash/DashMetrics.js"),ke=e(
/*! ../dash/utils/TimelineConverter */
"./src/dash/utils/TimelineConverter.js"),he=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),we=e(
/*! ../../externals/base64 */
"./externals/base64.js"),Te=e.n(we),Oe=e(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),Ve=e.n(Oe),ft=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),Ze=e(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),Re=e(
/*! ./ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),be=e(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),Q=e(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),ie=e(
/*! ./text/TextController */
"./src/streaming/text/TextController.js"),ye=e(
/*! ./models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function oe(){var ct,Xe,tt,gt,Qe,yt,Dt,fe,ze,Tt,Kt,Jt,qt,un,fn,wt,vt,it,He,Ye,st,at,St,bt,At,on,En,tn,Mn,In,Nn,$n,ni,vn,gn,yn,pn,X="You must first call initialize() and set a source before calling this method",$="You must first call initialize() and set a valid source and view before calling this method",re="You must first call attachView() to set the video element before calling this method",q="MediaPlayer not initialized!",_e=this.context,xe=Object(le.default)(_e).getInstance(),Ee=Object(ge.default)(_e).getInstance(),Ge=Object(Fe.default)(_e).getInstance({settings:Ee});function Tn(){gr(null),Ir(null),gt=null,qt&&(qt.reset(),qt=null),un&&(un.reset(),un=null),He&&He.reset(),Ee.reset(),wt&&(wt.reset(),wt=null)}function Ct(){return!!tt&&!!vn.getElement()}function xn(){return Object(Ie.getVersionString)()}function en(){if(!Dt)throw $;return En.isPaused()}function Ut(){if(!Dt)throw $;return En.getIsDynamic()}function jr(kn){var _t=bt&&bt.hasVideoTrack()?b.default.VIDEO:b.default.AUDIO,Ot=Nn.getCurrentDVRInfo(_t);if(!Ot)return 0;var ut=En.getOriginalLiveDelay(),$t=Ot.range.start+kn;return $t>Ot.range.end-ut&&($t=Ot.range.end-ut),$t}function Oi(kn){if(!Dt)throw $;var _t=Ki().currentTime;if(void 0!==kn)_t=bt.getTimeRelativeToStreamId(_t,kn);else if(En.getIsDynamic()){var Ot=bt&&bt.hasVideoTrack()?b.default.VIDEO:b.default.AUDIO,ut=Nn.getCurrentDVRInfo(Ot);_t=null===ut||0===_t?0:Math.max(0,_t-ut.range.start)}return _t}function Wo(){if(!Dt)throw $;var kn=Ki().duration;if(En.getIsDynamic()){var _t=bt&&bt.hasVideoTrack()?b.default.VIDEO:b.default.AUDIO,Ot=Nn.getCurrentDVRInfo(_t);kn=Ot?Ot.range.end-Ot.range.start:0}return kn}function Kr(kn){Object(Ze.checkParameterType)(kn,"boolean"),fe=kn}function Wr(){He.restoreDefaultUTCTimingSources()}function qn(){return Nn}function Ki(){if(!vn.getElement())throw re;return vn.getElement()}function Ir(kn){if(!Qe)throw q;vn.setElement(kn),kn&&(fs(),function ra(){if(!un){var kn=dashjs.MetricsReporting;if("function"==typeof kn){var _t=kn(_e).create();un=_t.createMetricsReporting({debug:Ge,eventBus:xe,mediaElement:Ki(),adapter:vt,dashMetrics:Nn,mediaPlayerModel:it,events:G.default,constants:b.default,metricsConstants:P.default})}}}(),function Bs(){if(!fn){var kn=dashjs.MssHandler;"function"==typeof kn&&(Y.default.extend(kn.errors),fn=kn(_e).create({eventBus:xe,mediaPlayerModel:it,dashMetrics:Nn,manifestModel:$n,playbackController:En,streamController:bt,protectionController:qt,baseURLController:st,errHandler:Ye,events:G.default,constants:b.default,debug:Ge,initSegmentType:he.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:Te.a,ISOBoxer:Ve.a,settings:Ee}))}}(),bt&&bt.switchToVideoElement()),Dt&&zs(),Ur()}function yo(kn){if(!yt)throw X;var _t=bt.getActiveStreamInfo();return _t?Jt.getTracksFor(kn,_t.id):[]}function gr(kn){var _t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!Qe)throw q;"string"==typeof kn&&gn.initialize(kn),(null==_t||isNaN(_t))&&(_t=NaN),_t=Math.max(0,_t),tt=kn,(yt||Dt)&&zs(),Ct()&&Ur(_t)}function Fs(){if(!yt)throw X;var kn=bt.getActiveStreamInfo();return kn?bt.getStreamById(kn.id):null}function zs(){Dt=!1,yt=!1,vt.reset(),bt.reset(),on.reset(),In.reset(),En.reset(),tn.reset(),Mn.reset(),ze.reset(),Jt.reset(),pn.reset(),qt&&(Ee.get().streaming.protection.keepProtectionMediaKeys?qt.stop():(qt.reset(),qt=null,fs())),At.reset(),ni.reset()}function Ho(){return Object(x.default)(_e).create({debug:Ge,errHandler:Ye,dashMetrics:Nn,mediaPlayerModel:it,requestModifier:Object(D.default)(_e).getInstance(),mssHandler:fn,settings:Ee})}function fs(){if(qt)return qt;var kn=dashjs.Protection;if("function"==typeof kn){var _t=kn(_e).create();return G.default.extend(kn.events),Se.default.extend(kn.events,{publicOnly:!0}),Y.default.extend(kn.errors),at||(at=Object(N.default)(_e).getInstance()),qt=_t.createProtectionSystem({debug:Ge,errHandler:Ye,videoModel:vn,customParametersModel:He,capabilities:at,eventBus:xe,events:G.default,BASE64:Te.a,constants:b.default,cmcdModel:ni,settings:Ee})}return null}function Ts(){if(!Qe)throw q;if(wt)return wt;var kn=dashjs.OfflineController;if("function"==typeof kn){G.default.extend(kn.events),Se.default.extend(kn.events,{publicOnly:!0}),Y.default.extend(kn.errors);var _t=Ho(),Ot=Object(Re.default)(_e).create();return Ot.setConfig({manifestModel:$n,adapter:vt,manifestLoader:_t,errHandler:Ye}),wt=kn(_e).create({debug:Ge,manifestUpdater:Ot,baseURLController:st,manifestLoader:_t,manifestModel:$n,mediaPlayerModel:it,abrController:ze,playbackController:En,adapter:vt,errHandler:Ye,dashMetrics:Nn,timelineConverter:Kt,segmentBaseController:pn,schemeLoaderFactory:Tt,eventBus:xe,events:G.default,errors:Y.default,constants:b.default,settings:Ee,dashConstants:_.default,urlUtils:Object(be.default)(_e).getInstance()})}return null}function Aa(kn){var _t=bt&&bt.hasVideoTrack()?b.default.VIDEO:b.default.AUDIO,Ot=Nn.getCurrentDVRInfo(_t);return Ot?kn+(Ot.manifestInfo.availableFrom.getTime()/1e3+Ot.range.start):0}function Ur(){var kn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;wt&&wt.resetRecords(),!yt&&tt&&(yt=!0,Xe.info("Streaming Initialized"),function Br(){var kn=Ho();bt||(bt=Object(m.default)(_e).getInstance()),At||(At=Object(ie.default)(_e).create({errHandler:Ye,manifestModel:$n,adapter:vt,mediaController:Jt,videoModel:vn,settings:Ee})),St.setConfig({capabilities:at,customParametersModel:He,adapter:vt,settings:Ee,manifestModel:$n,errHandler:Ye}),bt.setConfig({capabilities:at,capabilitiesFilter:St,manifestLoader:kn,manifestModel:$n,mediaPlayerModel:it,customParametersModel:He,protectionController:qt,textController:At,adapter:vt,dashMetrics:Nn,errHandler:Ye,timelineConverter:Kt,videoModel:vn,playbackController:En,serviceDescriptionController:tn,contentSteeringController:Mn,abrController:ze,mediaController:Jt,settings:Ee,baseURLController:st,uriFragmentModel:gn,segmentBaseController:pn}),on.setConfig({settings:Ee,playbackController:En,streamController:bt,videoModel:vn,timelineConverter:Kt,adapter:vt}),En.setConfig({streamController:bt,serviceDescriptionController:tn,dashMetrics:Nn,adapter:vt,videoModel:vn,timelineConverter:Kt,settings:Ee}),In.setConfig({streamController:bt,playbackController:En,mediaPlayerModel:it,videoModel:vn,settings:Ee}),ze.setConfig({streamController:bt,domStorage:yn,mediaPlayerModel:it,customParametersModel:He,dashMetrics:Nn,adapter:vt,videoModel:vn,settings:Ee}),ni.setConfig({abrController:ze,dashMetrics:Nn,playbackController:En}),Mn.setConfig({adapter:vt,errHandler:Ye,dashMetrics:Nn,mediaPlayerModel:it,manifestModel:$n,abrController:ze,eventBus:xe,requestModifier:Object(D.default)(_e).getInstance()}),ze.initialize(),bt.initialize(fe,gt),At.initialize(),on.initialize(),In.initialize(),ni.initialize(),Mn.initialize(),pn.initialize()}(),"string"==typeof tt?bt.load(tt,kn):bt.loadWithManifest(tt,kn)),!Dt&&Ct()&&(Dt=!0,Xe.info("Playback Initialized"))}return ct={initialize:function ht(kn,_t,Ot){var ut=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;at||(at=Object(N.default)(_e).getInstance()).setConfig({settings:Ee}),Ye||(Ye=Object(A.default)(_e).getInstance()),at.supportsMediaSource()?(Qe||(Qe=!0,Kt=Object(ke.default)(_e).getInstance(),ze||(ze=Object(y.default)(_e).getInstance()).setConfig({settings:Ee}),Tt||(Tt=Object(B.default)(_e).getInstance()),En||(En=Object(C.default)(_e).getInstance()),Jt||(Jt=Object(g.default)(_e).getInstance()),bt||(bt=Object(m.default)(_e).getInstance()),on||(on=Object(i.default)(_e).getInstance()),In||(In=Object(c.default)(_e).getInstance()),tn||(tn=Object(d.default)(_e).getInstance()),Mn||(Mn=Object(f.default)(_e).getInstance()),St||(St=Object(O.default)(_e).getInstance()),vt=Object(pe.default)(_e).getInstance(),$n=Object(T.default)(_e).getInstance(),ni=Object(ne.default)(_e).getInstance(),Nn=Object(Ae.default)(_e).getInstance({settings:Ee}),yn=Object(ae.default)(_e).getInstance({settings:Ee}),vt.setConfig({constants:b.default,cea608parser:v.a,errHandler:Ye,BASE64:Te.a}),st||(st=Object(S.default)(_e).create()),st.setConfig({adapter:vt}),tn.setConfig({adapter:vt}),pn||(pn=Object(Ce.default)(_e).getInstance({dashMetrics:Nn,mediaPlayerModel:it,errHandler:Ye,baseURLController:st,events:G.default,eventBus:xe,debug:Ge,boxParser:Object(Q.default)(_e).getInstance(),requestModifier:Object(D.default)(_e).getInstance(),errors:Y.default})),Jt.setConfig({domStorage:yn,settings:Ee,customParametersModel:He}),it.setConfig({playbackController:En,serviceDescriptionController:tn}),Wr(),Kr(void 0===Ot||Ot),Ts()),kn&&Ir(kn),_t&&gr(_t,ut),Xe.info("[dash.js "+xn()+"] MediaPlayer has been initialized")):Ye.error(new ft.default(Y.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,Y.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function Mt(kn){kn&&(kn.capabilities&&(at=kn.capabilities),kn.capabilitiesFilter&&(St=kn.capabilitiesFilter),kn.streamController&&(bt=kn.streamController),kn.textController&&(At=kn.textController),kn.gapController&&(on=kn.gapController),kn.playbackController&&(En=kn.playbackController),kn.serviceDescriptionController&&(tn=kn.serviceDescriptionController),kn.contentSteeringController&&(Mn=kn.contentSteeringController),kn.catchupController&&(In=kn.catchupController),kn.mediaPlayerModel&&(it=kn.mediaPlayerModel),kn.customParametersModel&&(He=kn.customParametersModel),kn.abrController&&(ze=kn.abrController),kn.schemeLoaderFactory&&(Tt=kn.schemeLoaderFactory),kn.mediaController&&(Jt=kn.mediaController),kn.settings&&(Ee=kn.settings))},on:function Qt(kn,_t,Ot,ut){xe.on(kn,_t,Ot,ut)},off:function Rt(kn,_t,Ot){xe.off(kn,_t,Ot)},extend:function bo(kn,_t,Ot){ce.default.extend(kn,_t,Ot,_e)},attachView:Ir,attachSource:gr,isReady:Ct,play:function It(){if(!Dt)throw $;(!fe||en()&&Dt)&&En.play(!0)},isPaused:en,pause:function Nt(){if(!Dt)throw $;En.pause()},isSeeking:function Xn(){if(!Dt)throw $;return En.isSeeking()},isDynamic:Ut,getLowLatencyModeEnabled:function On(){if(!Dt)throw $;return En.getLowLatencyModeEnabled()},seek:function An(kn){if(!Dt)throw $;if(Object(Ze.checkParameterType)(kn,"number"),isNaN(kn))throw b.default.BAD_ARGUMENT_ERROR;kn<0&&(kn=0);var _t=En.getIsDynamic()?jr(kn):kn,Ot=Ki();!En.getIsDynamic()&&Ot.duration&&(_t=Math.min(Ot.duration,_t)),En.seek(_t,!1,!1,!0)},seekToOriginalLive:function Kn(){!Dt||!Ut()||En.seekToOriginalLive()},setPlaybackRate:function Ne(kn){Ki().playbackRate=kn},getPlaybackRate:function Ft(){return Ki().playbackRate},setMute:function Pt(kn){Object(Ze.checkParameterType)(kn,"boolean"),Ki().muted=kn},isMuted:function ln(){return Ki().muted},setVolume:function Fn(kn){if("number"!=typeof kn||isNaN(kn)||kn<0||kn>1)throw b.default.BAD_ARGUMENT_ERROR;Ki().volume=kn},getVolume:function vi(){return Ki().volume},time:Oi,duration:Wo,timeAsUTC:function Do(){if(!Dt)throw $;return Oi()<0?NaN:Aa(Oi())},durationAsUTC:function bs(){if(!Dt)throw $;return Aa(Wo())},getActiveStream:Fs,getDVRWindowSize:function $r(){var kn=bt&&bt.hasVideoTrack()?b.default.VIDEO:b.default.AUDIO,_t=Nn.getCurrentDVRInfo(kn);return _t?_t.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:jr,getTargetLiveDelay:function ki(){if(!Dt)throw $;return En.getOriginalLiveDelay()},convertToTimeCode:function ks(kn){kn=Math.max(kn,0);var _t=Math.floor(kn/3600),Ot=Math.floor(kn%3600/60),ut=Math.floor(kn%3600%60);return(0===_t?"":_t<10?"0"+_t.toString()+":":_t.toString()+":")+(Ot<10?"0"+Ot.toString():Ot.toString())+":"+(ut<10?"0"+ut.toString():ut.toString())},formatUTC:function Da(kn,_t,Ot){var ut=arguments.length>3&&void 0!==arguments[3]&&arguments[3],$t=new Date(1e3*kn),wn=$t.toLocaleDateString(_t),Ti=$t.toLocaleTimeString(_t,{hour12:Ot});return ut?Ti+" "+wn:Ti},getVersion:xn,getDebug:function kt(){return Ge},getBufferLength:function Er(kn){var _t=[b.default.VIDEO,b.default.AUDIO,b.default.TEXT];if(kn)return-1!==_t.indexOf(kn)?qn().getCurrentBufferLevel(kn)||NaN:(Xe.warn("getBufferLength requested for invalid type"),NaN);var Ot=_t.map(function($t){return yo($t).length>0?qn().getCurrentBufferLevel($t):Number.MAX_VALUE}).reduce(function($t,wn){return Math.min($t,wn)});return Ot===Number.MAX_VALUE?NaN:Ot},getTTMLRenderingDiv:function Oo(){return vn?vn.getTTMLRenderingDiv():null},getVideoElement:Ki,getSource:function Uo(){if(!tt)throw"You must first call attachSource() with a valid source before calling this method";return tt},updateSource:function Ys(kn){bt.load(tt=kn)},getCurrentLiveLatency:function xr(){if(!Qe)throw q;return Dt?En.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function Yi(kn){if(!yt)throw X;return ze.getTopBitrateInfoFor(kn)},setAutoPlay:Kr,getAutoPlay:function ls(){return fe},getDashMetrics:qn,getQualityFor:function Vr(kn){if(!yt)throw X;if(kn===b.default.IMAGE){var _t=Fs();if(!_t)return-1;var Ot=_t.getThumbnailController();return Ot?Ot.getCurrentTrackIndex():-1}return ze.getQualityFor(kn)},setQualityFor:function ir(kn,_t){var Ot=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!yt)throw X;if(kn===b.default.IMAGE){var ut=Fs();if(!ut)return;var $t=ut.getThumbnailController();$t&&$t.setTrackByIndex(_t)}ze.setPlaybackQuality(kn,bt.getActiveStreamInfo(),_t,{forceReplace:Ot})},updatePortalSize:function lo(){ze.setElementSize(),ze.setWindowResizeEventCalled(!0)},enableText:function hi(kn){var _t=bt.getActiveStreamInfo();return!(!_t||!At)&&At.enableText(_t.id,kn)},enableForcedTextStreaming:function ci(kn){return!(!bt.getActiveStreamInfo()||!At)&&At.enableForcedTextStreaming(kn)},isTextEnabled:function Ui(){var kn=bt.getActiveStreamInfo();return!(!kn||!At)&&At.isTextEnabled(kn)},setTextTrack:function Ji(kn){if(!Dt)throw $;var _t=bt.getActiveStreamInfo();!_t||!At||At.setTextTrack(_t.id,kn)},getBitrateInfoListFor:function Ks(kn){if(!yt)throw X;var _t=Fs();return _t?_t.getBitrateListFor(kn):[]},getStreamsFromManifest:function eo(kn){if(!yt)throw X;return vt.getStreamsInfo(kn)},getTracksFor:yo,getTracksForTypeFromManifest:function cs(kn,_t,Ot){if(!yt)throw X;return(Ot=Ot||vt.getStreamsInfo(_t,1)[0])?vt.getAllMediaInfoForType(Ot,kn,_t):[]},getCurrentTrackFor:function ds(kn){if(!yt)throw X;var _t=bt.getActiveStreamInfo();return Jt.getCurrentTrackFor(kn,_t.id)},setInitialMediaSettingsFor:function cr(kn,_t){if(!Qe)throw q;Jt.setInitialSettings(kn,_t)},getInitialMediaSettingsFor:function Ga(kn){if(!Qe)throw q;return Jt.getInitialSettings(kn)},setCurrentTrack:function es(kn){if(!yt)throw X;Jt.setTrack(kn)},addABRCustomRule:function co(kn,_t,Ot){He.addAbrCustomRule(kn,_t,Ot)},removeABRCustomRule:function Xo(kn){He.removeAbrCustomRule(kn)},removeAllABRCustomRule:function ws(){He.removeAllAbrCustomRule()},getABRCustomRules:function Sr(){return He.getAbrCustomRules()},getAverageThroughput:function Mo(kn){var _t=ze.getThroughputHistory(),Ot=En.getIsDynamic();return _t?_t.getAverageThroughput(kn,Ot):0},retrieveManifest:function pr(kn,_t){var Ot=Ho(),ut=this;xe.on(G.default.INTERNAL_MANIFEST_LOADED,function wn(Ti){Ti.error?_t(null,Ti.error):_t(Ti.manifest),xe.off(G.default.INTERNAL_MANIFEST_LOADED,wn,ut),Ot.reset()},ut),gn.initialize(kn),Ot.load(kn)},addUTCTimingSource:function yi(kn,_t){He.addUTCTimingSource(kn,_t)},removeUTCTimingSource:function Zi(kn,_t){He.removeUTCTimingSource(kn,_t)},clearDefaultUTCTimingSources:function Rr(){He.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:Wr,setXHRWithCredentialsForType:function Jr(kn,_t){He.setXHRWithCredentialsForType(kn,_t)},getXHRWithCredentialsForType:function go(kn){return He.getXHRWithCredentialsForType(kn)},getProtectionController:function oo(){return fs()},attachProtectionController:function ha(kn){qt=kn},setProtectionData:function Ao(kn){gt=kn,bt&&bt.setProtectionData(gt)},registerLicenseRequestFilter:function Ps(kn){He.registerLicenseRequestFilter(kn)},registerLicenseResponseFilter:function Yr(kn){He.registerLicenseResponseFilter(kn)},unregisterLicenseRequestFilter:function mr(kn){He.unregisterLicenseRequestFilter(kn)},unregisterLicenseResponseFilter:function Cr(kn){He.unregisterLicenseResponseFilter(kn)},registerCustomCapabilitiesFilter:function Ws(kn){He.registerCustomCapabilitiesFilter(kn)},unregisterCustomCapabilitiesFilter:function uo(kn){He.unregisterCustomCapabilitiesFilter(kn)},setCustomInitialTrackSelectionFunction:function us(kn){He.setCustomInitialTrackSelectionFunction(kn)},resetCustomInitialTrackSelectionFunction:function Os(){He.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function Fo(kn){if(!vn.getElement())throw re;vn.setTTMLRenderingDiv(kn)},attachVttRenderingDiv:function Bo(kn){if(!vn.getElement())throw re;vn.setVttRenderingDiv(kn)},getCurrentTextTrackIndex:function or(){var _t=bt.getActiveStreamInfo();if(_t&&At)return At.getCurrentTrackIdx(_t.id)},provideThumbnail:function Fr(kn,_t){if("function"==typeof _t){if(kn<0)return void _t(null);var Ot=En.getIsDynamic()?jr(kn):kn,ut=bt.getStreamForTime(Ot);if(null===ut)return void _t(null);var $t=ut.getThumbnailController();return $t?$t.provide(Ot,_t):void _t(null)}},getDashAdapter:function ts(){return vt},getOfflineController:function Dn(){return Ts()},triggerSteeringRequest:function ma(){if(Mn)return Mn.loadSteeringData()},getCurrentSteeringResponseData:function Ma(){if(Mn)return Mn.getCurrentSteeringResponseData()},getSettings:function Es(){return Ee.get()},updateSettings:function Zo(kn){Ee.update(kn)},resetSettings:function Rs(){Ee.reset()},reset:Tn,destroy:function qe(){Tn(),ce.default.deleteSingletonInstances(_e)}},function _n(){Xe=Ge.getLogger(ct),Qe=!1,Dt=!1,yt=!1,fe=!0,qt=null,wt=null,gt=null,vt=null,pn=null,G.default.extend(Se.default),it=Object(L.default)(_e).getInstance(),He=Object(ye.default)(_e).getInstance(),vn=Object(z.default)(_e).getInstance(),gn=Object(I.default)(_e).getInstance()}(),ct}oe.__dashjs_factory_name="MediaPlayer";var ee=ce.default.getClassFactory(oe);ee.events=Se.default,ee.errors=Y.default,ce.default.updateClassFactory(oe.__dashjs_factory_name,ee),p.default=ee},"./src/streaming/MediaPlayerEvents.js":
/*!********************************************!*\
                  !*** ./src/streaming/MediaPlayerEvents.js ***!
                  \********************************************/
/*! exports provided: default */function(et,p,e){"use strict";function v(O){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(O)}function b(O,D){for(var I=0;I<D.length;I++){var T=D[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,P(T.key),T)}}function P(O){var D=function C(O,D){if("object"!==v(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var T=I.call(O,D||"default");if("object"!==v(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(O)}(O,"string");return"symbol"===v(D)?D:String(D)}function i(O,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),D&&c(O,D)}function c(O,D){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,L){return T.__proto__=L,T})(O,D)}function d(O){var D=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,T=x(O);if(D){var y=x(this).constructor;L=Reflect.construct(T,arguments,y)}else L=T.apply(this,arguments);return function f(O,D){if(D&&("object"===v(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function g(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function x(O){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}e.r(p);var N=new(function(O){i(I,O);var D=d(I);function I(){var T;return function m(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I),(T=D.call(this)).AST_IN_FUTURE="astInFuture",T.BUFFER_EMPTY="bufferStalled",T.BUFFER_LOADED="bufferLoaded",T.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",T.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",T.DYNAMIC_TO_STATIC="dynamicToStatic",T.ERROR="error",T.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",T.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",T.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",T.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",T.LOG="log",T.MANIFEST_LOADED="manifestLoaded",T.METRICS_CHANGED="metricsChanged",T.METRIC_CHANGED="metricChanged",T.METRIC_ADDED="metricAdded",T.METRIC_UPDATED="metricUpdated",T.PERIOD_SWITCH_STARTED="periodSwitchStarted",T.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",T.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",T.QUALITY_CHANGE_RENDERED="qualityChangeRendered",T.TRACK_CHANGE_RENDERED="trackChangeRendered",T.STREAM_INITIALIZING="streamInitializing",T.STREAM_UPDATED="streamUpdated",T.STREAM_ACTIVATED="streamActivated",T.STREAM_DEACTIVATED="streamDeactivated",T.STREAM_INITIALIZED="streamInitialized",T.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",T.TEXT_TRACKS_ADDED="allTextTracksAdded",T.TEXT_TRACK_ADDED="textTrackAdded",T.TTML_PARSED="ttmlParsed",T.TTML_TO_PARSE="ttmlToParse",T.CAPTION_RENDERED="captionRendered",T.CAPTION_CONTAINER_RESIZE="captionContainerResize",T.CAN_PLAY="canPlay",T.CAN_PLAY_THROUGH="canPlayThrough",T.PLAYBACK_ENDED="playbackEnded",T.PLAYBACK_ERROR="playbackError",T.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",T.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",T.PLAYBACK_LOADED_DATA="playbackLoadedData",T.PLAYBACK_PAUSED="playbackPaused",T.PLAYBACK_PLAYING="playbackPlaying",T.PLAYBACK_PROGRESS="playbackProgress",T.PLAYBACK_RATE_CHANGED="playbackRateChanged",T.PLAYBACK_SEEKED="playbackSeeked",T.PLAYBACK_SEEKING="playbackSeeking",T.PLAYBACK_STALLED="playbackStalled",T.PLAYBACK_STARTED="playbackStarted",T.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",T.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",T.PLAYBACK_WAITING="playbackWaiting",T.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",T.EVENT_MODE_ON_START="eventModeOnStart",T.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",T.CONFORMANCE_VIOLATION="conformanceViolation",T.REPRESENTATION_SWITCH="representationSwitch",T.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",T.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",T}return function _(O,D,I){return D&&b(O.prototype,D),I&&b(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(e(
/*! ../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));p.default=N},"./src/streaming/MediaPlayerFactory.js":
/*!*********************************************!*\
                  !*** ./src/streaming/MediaPlayerFactory.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./MediaPlayer */
"./src/streaming/MediaPlayer.js");var _,b=function v(){var c,i="application/dash+xml";function d(S,x,A){if(!S||!/^VIDEO$/i.test(S.nodeName))return null;if(S._dashjs_player)return S._dashjs_player;var N,O=S.id||S.name||"video element";if(!(x=x||[].slice.call(S.querySelectorAll("source")).filter(function(D){return D.type==i})[0])&&S.src)(x=document.createElement("source")).src=S.src;else if(!x&&!S.src)return null;return A=A||{},(N=Object(t.default)(A).create()).initialize(S,x.src,S.autoplay),c||(c=N.getDebug().getLogger()),c.debug("Converted "+O+" to dash.js player and added content: "+x.src),S._dashjs_player=N,N}function g(S){return/^VIDEO$/i.test(S.nodeName)?S:g(S.parentNode)}return{create:d,createAll:function f(S,x){var A=[];S=S||"[data-dashjs-player]";for(var N=(x=x||document).querySelectorAll(S),O=0;O<N.length;O++){var D=d(N[O],null);A.push(D)}for(var I=x.querySelectorAll('source[type="'+i+'"]'),T=0;T<I.length;T++){var y=d(g(I[T]),null);A.push(y)}return A}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?b.createAll():_=window.setInterval(function C(){window.dashjs&&(window.clearInterval(_),b.createAll())},500):window.addEventListener("load",function P(){window.removeEventListener("load",P),b.createAll()})),p.default=b},"./src/streaming/SourceBufferSink.js":
/*!*******************************************!*\
                  !*** ./src/streaming/SourceBufferSink.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../core/Debug */
"./src/core/Debug.js"),v=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),b=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),P=e(
/*! ../core/Settings */
"./src/core/Settings.js"),C=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),m=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),i=e(
/*! ../core/events/Events */
"./src/core/events/Events.js");function g(x){var I,T,L,y,B,z,A=this.context,N=Object(P.default)(A).getInstance(),O=x.textController,D=x.eventBus,ne=[],ae=[],Fe=!1,Y=x.mediaSource,le=null;function ce($){return new Promise(function(re){X(function(){y.changeType&&y.changeType($),re()})})}function Ce($){return y=O.getTextSourceBuffer($),Promise.resolve()}function pe(){if("function"==typeof y.addEventListener)try{y.addEventListener("updateend",ye,!1),y.addEventListener("error",oe,!1),y.addEventListener("abort",oe,!1)}catch{z=setInterval(ye,50)}else z=setInterval(ye,50)}function he($){return new Promise(function(re){y&&N.get().streaming.buffer.useAppendWindow?X(function(){try{if(!y)return void re();var J=Y.duration,q=0;$&&!isNaN($.start)&&!isNaN($.duration)&&isFinite($.duration)&&(J=$.start+$.duration),$&&!isNaN($.start)&&(q=$.start),(y.appendWindowEnd!==J||y.appendWindowStart!==q)&&(y.appendWindowStart=0,y.appendWindowEnd=J+.01,y.appendWindowStart=Math.max(q-.1,0),L.debug("Updated append window for ".concat(B.type,". Set start to ").concat(y.appendWindowStart," and end to ").concat(y.appendWindowEnd))),re()}catch{L.warn("Failed to set append window"),re()}}):re()})}function we($){return new Promise(function(re){y?X(function(){try{y.timestampOffset!==$&&!isNaN($)&&(y.timestampOffset=$,L.debug("Set MSE timestamp offset to ".concat($))),re()}catch{re()}}):re()})}function be(){if(!Fe&&ae.length>0){Fe=!0;var $=ae[0];ae.splice(0,1);var re=function(){Fe=!1,ae.length>0&&be.call(this),$&&$.data&&$.data.segmentType&&$.data.segmentType!==m.HTTPRequest.INIT_SEGMENT_TYPE&&delete $.data.bytes,$.promise.resolve({chunk:$.data})};try{le=$.request,0===$.data.bytes.byteLength?re.call(this):(y.appendBuffer?y.appendBuffer($.data.bytes):y.append($.data.bytes,$.data),X(re.bind(this)))}catch(J){L.fatal('SourceBuffer append failed "'+J+'"'),ae.length>0?be():Fe=!1,delete $.data.bytes,$.promise.reject({chunk:$.data,error:new v.default(J.code,J.message)})}}}function ie(){ne.length>0&&!y.updating&&(ne.shift()(),ie())}function ye(){y.updating||ie()}function oe($){!function ee($,re){D.trigger($,re||{},{streamId:B.streamInfo.id,mediaType:T})}(i.default.SOURCE_BUFFER_ERROR,{error:$.target||{},lastRequestAppended:le})}function X($){ne.push($),y.updating||ie()}return I={getType:function Ae(){return T},getAllBufferRanges:function Ve(){try{return y.buffered}catch($){return L.error("getAllBufferRanges exception: "+$.message),null}},getBuffer:function Oe(){return y},append:function ft($){var re=this,J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(q,_e){$?(ae.push({data:$,promise:{resolve:q,reject:_e},request:J}),X(be.bind(re))):_e({chunk:$,error:new v.default(_.default.APPEND_ERROR_CODE,_.default.APPEND_ERROR_MESSAGE)})})},remove:function Re($){return new Promise(function(re,J){var q=$.start,_e=$.end;q>=0&&_e>q?X(function(){try{y.remove(q,_e),X(function(){re({from:q,to:_e,unintended:!1}),$.resolve&&$.resolve()})}catch(xe){J({from:q,to:_e,unintended:!1,error:new v.default(_.default.REMOVE_ERROR_CODE,_.default.REMOVE_ERROR_MESSAGE)}),$.reject&&$.reject(xe)}}):re()})},abort:function Q(){return new Promise(function($){try{ae=[],"open"===Y.readyState?X(function(){try{y&&y.abort(),$()}catch{$()}}):(y&&y.setTextTrack&&"ended"===Y.readyState&&y.abort(),$())}catch{$()}})},reset:function Te(){if(y){try{ne=[],function ke(){try{"function"==typeof y.removeEventListener&&(y.removeEventListener("updateend",ye,!1),y.removeEventListener("error",oe,!1),y.removeEventListener("abort",oe,!1)),clearInterval(z)}catch($){L.error($)}}(),Fe=!1,ae=[],(!y.getClassName||"TextSourceBuffer"!==y.getClassName())&&(L.debug("Removing sourcebuffer from media source"),Y.removeSourceBuffer(y))}catch{}y=null}le=null},updateTimestampOffset:we,initializeForStreamSwitch:function Se($,re,J){T=(B=$).type;var q=B.codec;(function ge($){y=$.getBuffer()})(J),pe();var _e=[];return _e.push(function Ze(){return new Promise(function($){X(function(){var re=y.appendWindowStart,J=y.appendWindowEnd;y&&(y.abort(),y.appendWindowStart=re,y.appendWindowEnd=J),$()})})}()),_e.push(he(B.streamInfo)),_e.push(ce(q)),re&&void 0!==re.MSETimeOffset&&_e.push(we(re.MSETimeOffset)),Promise.all(_e)},initializeForFirstUse:function Ie($,re,J){T=(B=re).type;var q=B.codec;try{if(q.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return Ce($);y=Y.addSourceBuffer(q),pe();var _e=[];return _e.push(he(B.streamInfo)),J&&void 0!==J.MSETimeOffset&&_e.push(we(J.MSETimeOffset)),Promise.all(_e)}catch(xe){return B.type==C.default.TEXT&&!B.isFragmented||-1!==q.indexOf('codecs="stpp')||-1!==q.indexOf('codecs="vtt')?Ce($):Promise.reject(xe)}},updateAppendWindow:he,changeType:ce},function G(){L=Object(t.default)(A).getInstance().getLogger(I)}(),I}g.__dashjs_factory_name="SourceBufferSink";var S=b.default.getClassFactory(g);p.default=S},"./src/streaming/Stream.js":
/*!*********************************!*\
                  !*** ./src/streaming/Stream.js ***!
                  \*********************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),b=e(
/*! ./StreamProcessor */
"./src/streaming/StreamProcessor.js"),_=e(
/*! ./controllers/FragmentController */
"./src/streaming/controllers/FragmentController.js"),P=e(
/*! ./thumbnail/ThumbnailController */
"./src/streaming/thumbnail/ThumbnailController.js"),C=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),m=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),i=e(
/*! ../core/Debug */
"./src/core/Debug.js"),c=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),d=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),f=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),g=e(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),S=e(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),x=e(
/*! ./controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),A=[t.default.VIDEO,t.default.AUDIO,t.default.TEXT,t.default.MUXED,t.default.IMAGE];function N(O){O=O||{};var ke,he,we,Te,Oe,Ve,ft,Ze,Re,be,Q,ie,ye,oe,ee,X,$,re,D=this.context,I=Object(C.default)(D).getInstance(),T=Object(S.default)(D).getInstance(),L=O.manifestModel,y=O.mediaPlayerModel,B=O.dashMetrics,z=O.manifestUpdater,ne=O.adapter,ae=O.timelineConverter,Fe=O.capabilities,Y=O.errHandler,le=O.abrController,G=O.playbackController,Se=O.eventController,ce=O.mediaController,ge=O.protectionController,Ie=O.textController,Ce=O.videoModel,pe=O.streamInfo,Ae=O.settings;function Qe(Nt,en){return new Promise(function(An,Kn){bt(),be=!0,Mn();var Xn=Ce.getElement();A.forEach(function(Ut){(Ut!==t.default.VIDEO||!Xn||Xn&&/^VIDEO$/i.test(Xn.nodeName))&&function yt(Nt,en){var Ut,An=ne.getAllMediaInfoForType(pe,Nt),Kn=[],Xn=null;if(An&&0!==An.length){Nt===t.default.VIDEO&&(ft=!0),Nt===t.default.AUDIO&&(Ze=!0);for(var On=0,Ne=An.length;On<Ne;On++)Xn=An[On],Nt===t.default.TEXT&&Xn.isEmbedded&&(Ie.addEmbeddedTrack(pe,Xn),Kn.push(Xn)),Dt(Xn)&&ce.addTrack(Xn);if(Kn.length>0&&(ce.setInitialMediaSettingsForType(Nt,pe),Ie.addMediaInfosToBuffer(pe,Nt,Kn)),0!==(An=An.filter(function(Pt){return!Pt.isEmbedded})).length){if(Nt===t.default.IMAGE)return void(ie=Object(P.default)(D).create({streamInfo:pe,adapter:ne,baseURLController:O.baseURLController,timelineConverter:O.timelineConverter,debug:X,eventBus:I,events:m.default,dashConstants:v.default,dashMetrics:O.dashMetrics,segmentBaseController:O.segmentBaseController})).initialize();I.trigger(m.default.STREAM_INITIALIZING,{streamInfo:pe,mediaInfo:Xn}),ce.setInitialMediaSettingsForType(Nt,pe);var Ft=function fe(Nt,en){var An=Nt&&Nt.length>0?Nt[0]:null,Kn=Q.getModel(An?An.type:null),Xn=An?An.type:null,Ut=An?An.mimeType:null,On=An?An.isFragmented:null,Ne=Object(b.default)(D).create({streamInfo:pe,type:Xn,mimeType:Ut,timelineConverter:ae,adapter:ne,manifestModel:L,mediaPlayerModel:y,fragmentModel:Kn,dashMetrics:O.dashMetrics,baseURLController:O.baseURLController,segmentBaseController:O.segmentBaseController,abrController:le,playbackController:G,mediaController:ce,textController:Ie,errHandler:Y,settings:Ae,boxParser:ee,segmentBlacklistController:ye});Ne.initialize(en,ft,On),we.push(Ne);for(var Ft=0;Ft<Nt.length;Ft++)Ne.addMediaInfo(Nt[Ft]);return Xn===t.default.TEXT&&Ie.addMediaInfosToBuffer(pe,Xn,Nt,Kn),Ne}(An,en);(Ut=ce.getCurrentTrackFor(Nt,pe.id))&&(le.updateTopQualityIndex(Ut),Ft.selectMediaInfo(Nt===t.default.TEXT&&Ut.isEmbedded?An[0]:Ut))}}else he.info("No "+Nt+" data.")}(Ut,Nt)}),function ze(Nt){return new Promise(function(en){var An={},Kn=we.map(function(Xn){return Xn.createBufferSinks(Nt)});Promise.all(Kn).then(function(Xn){Xn.forEach(function(Ut){Ut&&(An[Ut.getType()]=Ut)}),en(An)}).catch(function(){en(An)})})}(en).then(function(Ut){if(be=!1,0===we.length){var On="No streams to play.";Y.error(new f.default(c.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,On,L.getValue())),he.fatal(On)}else In();Ie.createTracks(pe),An(Ut)}).catch(function(Ut){Kn(Ut)})})}function Dt(Nt){var en=Nt?Nt.type:null;return en===t.default.MUXED?(he.fatal("Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),Y.error(new f.default(c.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",L.getValue())),!1):!(en!==t.default.TEXT&&en!==t.default.IMAGE&&Nt.contentProtection&&!Fe.supportsEncryptedMedia()&&(Y.error(new f.default(c.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,c.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function Tt(Nt){for(var en=we?we.length:0,Kn=0;Kn<en;Kn++){var Xn=we[Kn].getFragmentModel();Xn.abortRequests(),Xn.resetInitialSettings(),we[Kn].reset(false,Nt)}Ie&&Ie.deactivateStream(pe),we=[],Oe=!1,Ve=!1,Rt(!1),vt(!1),I.trigger(m.default.STREAM_DEACTIVATED,{streamInfo:pe})}function qt(Nt){Tt(Nt),Te=!1,ft=!1,Ze=!1,Re={},be=!1,$=!1,re=[]}function vt(Nt){$=Nt}function it(){return pe?pe.start:NaN}function He(){return pe?pe.id:null}function Ye(){return pe}function bt(){if(!Ce||!le)throw new Error(t.default.MISSING_CONFIG_ERROR)}function on(Nt){Nt.error&&(Y.error(Nt.error),he.fatal(Nt.error.message))}function Mn(){if(Se){var Nt=ne.getEventsFor(pe);Nt&&Nt.length>0&&Se.addInlineEvents(Nt,pe.id)}}function In(){for(var Nt=we.length,An=Re.audio||Re.video?new f.default(c.default.DATA_UPDATE_FAILED_ERROR_CODE,c.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,Kn=0;Kn<Nt;Kn++)if(we[Kn].isUpdating()||be)return;if(ge){ge.clearMediaInfoArray();for(var Xn=0;Xn<Nt&&we[Xn];Xn++){var Ut=we[Xn].getType(),On=we[Xn].getMediaInfo();if(Ut===t.default.AUDIO||Ut===t.default.VIDEO||Ut===t.default.TEXT&&On.isFragmented){var Ne=we[Xn].getMediaInfo();Ne&&ge.initializeForMedia(Ne)}}ge.handleKeySystemFromManifest()}An?Y.error(An):Te||(Te=!0,Ce.waitForReadyState(t.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){I.trigger(m.default.STREAM_INITIALIZED,{streamInfo:pe})}))}function $n(){var Nt=pn(),en=Nt.length;if(0!==en){for(var An=0;An<en;An++)if(!Nt[An].isBufferingCompleted()&&(Nt[An].getType()===t.default.AUDIO||Nt[An].getType()===t.default.VIDEO))return void he.debug("onBufferingCompleted - One streamProcessor has finished but",Nt[An].getType(),"one is not buffering completed");he.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),Ve=!0,I.trigger(m.default.STREAM_BUFFERING_COMPLETED,{streamInfo:pe},{streamInfo:pe})}else he.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function ni(Nt){Re[Nt.mediaType]=Nt.error,In()}function vn(Nt){Se&&Se.addInbandEvents(Nt.events,pe.id)}function gn(Nt){return Nt&&Nt.type?yn(Nt.type):null}function yn(Nt){return Nt?pn().filter(function(An){return An.getType()===Nt})[0]:null}function pn(){for(var en,An,Nt=[],Kn=0;Kn<we.length;Kn++)((en=(An=we[Kn]).getType())===t.default.AUDIO||en===t.default.VIDEO||en===t.default.TEXT)&&Nt.push(An);return Nt}function qe(Nt,en){var An=Ye(),Kn=en.getStreamInfo();if(!Kn||!An)return!0;var Xn=ne.getAdaptationForType(Kn.index,Nt,Kn),Ut=ne.getAdaptationForType(An.index,Nt,An);return Xn&&Ut?!(!Ct(Ut)&&Ct(Xn)):!Xn&&!Ut}function Ct(Nt){return!!Nt&&!!(Nt.ContentProtection||Nt.Representation&&Nt.Representation.length>0&&Nt.Representation[0].ContentProtection)}function Qt(Nt,en){var An=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Nt||!Nt.hasOwnProperty("getStreamInfo"))return!1;var Kn=Nt.getStreamInfo(),Xn=An?An.getStreamInfo():Ye();if(!Kn||!Xn)return!1;var Ut=ne.getAdaptationForType(Kn.index,en,Kn),On=ne.getAdaptationForType(Xn.index,en,Xn);if(!Ut||!On)return!Ut&&!On;var Ne=Ut&&On&&Ut.mimeType===On.mimeType,Ft=On.Representation_asArray.map(function(vi){return vi.codecs}),Pt=Ut.Representation_asArray.map(function(vi){return vi.codecs}),ln=Pt.some(function(vi){return Ft.indexOf(vi)>-1}),Fn=Pt.some(function(vi){return Ft.some(function(Er){return Fe.codecRootCompatibleWithCodec(Er,vi)})});return ln||Fn&&Ne}function Rt(Nt){oe=Nt}function xn(){return oe}return ke={initialize:function q(){(function _e(){I.on(m.default.BUFFERING_COMPLETED,$n,ke),I.on(m.default.DATA_UPDATE_COMPLETED,ni,ke),I.on(m.default.INBAND_EVENTS,vn,ke)})(),function Ee(){ge&&(I.on(m.default.KEY_ERROR,on,ke),I.on(m.default.SERVER_CERTIFICATE_UPDATED,on,ke),I.on(m.default.LICENSE_REQUEST_COMPLETE,on,ke),I.on(m.default.KEY_SYSTEM_SELECTED,on,ke),I.on(m.default.KEY_SESSION_CREATED,on,ke),I.on(m.default.KEY_STATUSES_CHANGED,on,ke))}(),Ie.initializeForStream(pe),I.trigger(m.default.STREAM_UPDATED,{streamInfo:pe})},getStreamId:function ct(){return pe?pe.id:null},activate:function Xe(Nt,en){return new Promise(function(An,Kn){if(!Oe)return xn()?(Oe=!0,I.trigger(m.default.STREAM_ACTIVATED,{streamInfo:pe}),void An(en)):void function tt(Nt,en){return Qe(Nt,en)}(Nt,en).then(function(Xn){Oe=!0,I.trigger(m.default.STREAM_ACTIVATED,{streamInfo:pe}),An(Xn)}).catch(function(Xn){Kn(Xn)});An(en)})},deactivate:Tt,getIsActive:function Kt(){return Oe},getDuration:function fn(){return pe?pe.duration:NaN},getStartTime:it,getId:He,getStreamInfo:Ye,getHasAudioTrack:function st(){return Ze},getHasVideoTrack:function at(){return ft},startPreloading:function gt(Nt,en){return new Promise(function(An,Kn){xn()?Kn():(he.info("[startPreloading] Preloading next stream with id ".concat(He())),Rt(!0),Qe(Nt,en).then(function(){for(var Xn=0;Xn<we.length&&we[Xn];Xn++)we[Xn].setExplicitBufferingTime(it()),we[Xn].getScheduleController().startScheduleTimer();An()}).catch(function(){Rt(!1),Kn()}))})},getThumbnailController:function St(){return ie},getBitrateListFor:function At(Nt){if(bt(),Nt===t.default.IMAGE)return ie?ie.getBitrateList():[];var en=function Nn(Nt){for(var en=null,An=0;An<we.length;An++)if((en=we[An]).getType()===Nt)return en.getMediaInfo();return null}(Nt);return le.getBitrateList(en)},updateData:function Mt(Nt){return new Promise(function(en){be=!0,pe=Nt,Se&&Mn();for(var An=[],Kn=0,Xn=we.length;Kn<Xn;Kn++){var Ut=we[Kn],On=Ut.getMediaInfo();An.push(Ut.updateStreamInfo(pe));var Ne=ne.getAllMediaInfoForType(pe,Ut.getType());if(Ne){Ut.clearMediaInfoArray();for(var Ft=0;Ft<Ne.length;Ft++){var Pt=Ne[Ft];Ut.addMediaInfo(Ne[Ft]),ne.areMediaInfosEqual(On,Pt)&&(le.updateTopQualityIndex(Pt),An.push(Ut.selectMediaInfo(Pt)))}}}Promise.all(An).then(function(){for(An=[];re.length>0;){var ln=re.pop(),Fn=ln.newMediaInfo,vi=gn(ln.oldMediaInfo);if(!vi)return;An.push(vi.prepareTrackSwitch()),vi.selectMediaInfo(Fn)}return Promise.all(An)}).then(function(){be=!1,In(),I.trigger(m.default.STREAM_UPDATED,{streamInfo:pe}),en()})})},reset:function un(Nt){Q&&(Q.reset(),Q=null),le&&pe&&le.clearDataForStream(pe.id),ye&&(ye.reset(),ye=null),qt(Nt),pe=null,function xe(){I.off(m.default.DATA_UPDATE_COMPLETED,ni,ke),I.off(m.default.BUFFERING_COMPLETED,$n,ke),I.off(m.default.INBAND_EVENTS,vn,ke)}(),function Ge(){ge&&(I.off(m.default.KEY_ERROR,on,ke),I.off(m.default.SERVER_CERTIFICATE_UPDATED,on,ke),I.off(m.default.LICENSE_REQUEST_COMPLETE,on,ke),I.off(m.default.KEY_SYSTEM_SELECTED,on,ke),I.off(m.default.KEY_SESSION_CREATED,on,ke),I.off(m.default.KEY_STATUSES_CHANGED,on,ke))}()},getProcessors:pn,setMediaSource:function Jt(Nt){for(var en=0;en<we.length;)Dt(we[en].getMediaInfo())?(we[en].setMediaSource(Nt),en++):(we[en].reset(),we.splice(en,1));if(0===we.length){var An="No streams to play.";Y.error(new f.default(c.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,An+"nostreams",L.getValue())),he.fatal(An)}},isMediaCodecCompatible:function ht(Nt){var en=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Qt(Nt,t.default.VIDEO,en)&&Qt(Nt,t.default.AUDIO,en)},isProtectionCompatible:function Tn(Nt){return!Nt||qe(t.default.VIDEO,Nt)&&qe(t.default.AUDIO,Nt)},getPreloaded:xn,getIsEndedEventSignaled:function wt(){return $},setIsEndedEventSignaled:vt,getAdapter:function It(){return ne},getHasFinishedBuffering:function kt(){return Ve},setPreloaded:Rt,startScheduleControllers:function _n(){for(var Nt=we.length,en=0;en<Nt&&we[en];en++)we[en].getScheduleController().startScheduleTimer()},prepareTrackChange:function En(Nt){if(Oe&&pe){Ve=!1;var en=Nt.newMediaInfo,An=L.getValue();ne.setCurrentMediaInfo(pe.id,en.type,en);var Kn=gn(en);if(Kn){var Xn=G.getTime();he.info("Stream -  Process track changed at current time "+Xn),An.refreshManifestOnSwitchTrack?(re.push(Nt),z.getIsUpdating()||(he.debug("Stream -  Refreshing manifest for switch track"),z.refreshManifest())):Kn.selectMediaInfo(en).then(function(){(en.type===t.default.VIDEO||en.type===t.default.AUDIO)&&le.updateTopQualityIndex(en),Kn.prepareTrackSwitch()})}}},prepareQualityChange:function tn(Nt){var en=yn(Nt.mediaType);en&&en.prepareQualityChange(Nt)}},function J(){try{X=Object(i.default)(D).getInstance(),he=X.getLogger(ke),qt(),ee=Object(g.default)(D).getInstance(),ye=Object(x.default)(D).create({updateEventName:m.default.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:m.default.SEGMENT_LOCATION_BLACKLIST_ADD}),Q=Object(_.default)(D).create({streamInfo:pe,mediaPlayerModel:y,dashMetrics:B,errHandler:Y,settings:Ae,boxParser:ee,dashConstants:v.default,urlUtils:T})}catch(Nt){throw Nt}}(),ke}N.__dashjs_factory_name="Stream",p.default=d.default.getClassFactory(N)},"./src/streaming/StreamProcessor.js":
/*!******************************************!*\
                  !*** ./src/streaming/StreamProcessor.js ***!
                  \******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),b=e(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),_=e(
/*! ./models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),P=e(
/*! ./controllers/BufferController */
"./src/streaming/controllers/BufferController.js"),C=e(
/*! ./text/NotFragmentedTextBufferController */
"./src/streaming/text/NotFragmentedTextBufferController.js"),m=e(
/*! ./controllers/ScheduleController */
"./src/streaming/controllers/ScheduleController.js"),i=e(
/*! ../dash/controllers/RepresentationController */
"./src/dash/controllers/RepresentationController.js"),c=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),d=e(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),f=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),g=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),S=e(
/*! ../dash/DashHandler */
"./src/dash/DashHandler.js"),x=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),A=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),N=e(
/*! ../core/Debug */
"./src/core/Debug.js"),O=e(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),D=e(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),I=e(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),T=e(
/*! ./vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),L=e(
/*! ../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),y=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function B(z){z=z||{};var ft,Ze,Re,be,Q,ie,ye,oe,ee,X,$,re,J,ne=this.context,ae=Object(f.default)(ne).getInstance(),Fe=z.streamInfo,Y=z.type,le=z.errHandler,G=z.mimeType,Se=z.timelineConverter,ce=z.adapter,ge=z.manifestModel,Ie=z.mediaPlayerModel,Ce=z.fragmentModel,pe=z.abrController,Ae=z.playbackController,ke=z.mediaController,he=z.textController,we=z.dashMetrics,Te=z.settings,Oe=z.boxParser,Ve=z.segmentBlacklistController;function xe(){return Fe.id}function Ee(){return Y}function Ge(){return ce.getIsTextTrack(oe.getData())}function ct(){Q=[],be=null,J=0,ee=!1,X=!1}function yt(Ut){var On=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Ut.sender){if(Ae.getIsManifestUpdateInProgress())return void Jt();if((!Ge()||he.isTextEnabled())&&ie&&Ut.representationId&&!ie.appendInitSegmentFromCache(Ut.representationId)){var Ne=oe.getCurrentRepresentation();if(0===Ne.range)return void Dt();var Ft=$?$.getInitRequest(be,Ne):null;Ft?Ce.executeRequest(Ft):On&&(ye.setInitSegmentRequired(!0),Jt())}}}function Dt(Ut){var On=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Ae.getIsManifestUpdateInProgress()||ie.getIsPruningInProgress())Jt();else{var Ne=function Kt(){var On,Ut=ht();if(isNaN(J)||Ee()===t.default.TEXT&&!he.isTextEnabled())return null;var Ne=ee;if($){var Ft=oe&&Ut?oe.getRepresentationForQuality(Ut.quality):null;On=Ne?$.getSegmentRequestForTime(be,Ft,J):$.getNextSegmentRequest(be,Ft)}return On}();Ne?(ee=!1,function fe(Ut){isNaN(Ut.startTime+Ut.duration)||(J=Ut.startTime+Ut.duration),Ut.delayLoadingTime=(new Date).getTime()+ye.getTimeToLoadDelay(),ye.setTimeToLoadDelay(0),function Tt(Ut){var On=Ut.url;return Ut.range&&(On=On.concat("_",Ut.range)),Ve.contains(On)}(Ut)?(Ze.warn("Fragment request url ".concat(Ut.url," for stream id ").concat(Fe.id," and media type ").concat(Y," is on the ignore list and will be skipped")),Jt()):(Ze.debug("Next fragment request url for stream id ".concat(Fe.id," and media type ").concat(Y," is ").concat(Ut.url)),Ce.executeRequest(Ut))}(Ne)):function ze(Ut){var Ne,On=oe.getCurrentRepresentation();if(!Te.get().streaming.gaps.enableSeekFix||!ee&&0!==Ae.getTime()||(Re?Re&&On.segmentInfoType===v.default.SEGMENT_TIMELINE&&(Ne=$.getValidTimeAheadOfTargetTime(J,be,On,Te.get().streaming.gaps.threshold)):Ne=$.getValidTimeAheadOfTargetTime(J,be,On,Te.get().streaming.gaps.threshold),isNaN(Ne)||Ne===J)){if($.isLastSegmentRequested(On,J)){var Pt=$.getCurrentIndex();return Ze.debug("Segment requesting for stream ".concat(Fe.id," has finished")),ae.trigger(g.default.STREAM_REQUESTING_COMPLETED,{segmentIndex:Pt},{streamId:Fe.id,mediaType:Y}),ie.segmentRequestingCompleted(Pt),void ye.clearScheduleTimer()}Ut&&Jt()}else Ae.isSeeking()||0===Ae.getTime()?(Ze.warn("Adjusting playback time ".concat(Ne," because of gap in the manifest. Seeking by ").concat(Ne-J)),Ae.seek(Ne,!1,!1)):(Ze.warn("Adjusting buffering time ".concat(Ne," because of gap in the manifest. Adjusting time by ").concat(Ne-J)),Kn(Ne),Ut&&Jt())}(On)}}function Jt(){ye.startScheduleTimer(Ae.getLowLatencyModeEnabled()?Te.get().streaming.scheduling.lowLatencyTimeout:Te.get().streaming.scheduling.defaultTimeout)}function qt(Ut){Ut.error||(ye.setCurrentRepresentation(ce.convertRepresentationToRepresentationInfo(Ut.currentRepresentation)),ie.getIsBufferingCompleted()||ie.updateBufferTimestampOffset(Ut.currentRepresentation))}function un(Ut){we.addBufferState(Y,Ut.state,ye.getBufferTarget()),Ut.state===b.default.BUFFER_EMPTY&&!Ae.isSeeking()&&(Ze.info("Buffer is empty! Stalling!"),we.pushPlayListTraceMetrics(new Date,T.PlayListTrace.REBUFFERING_REASON))}function fn(Ut){Ce.syncExecutedRequestsWithBufferedRange(ie.getBuffer().getAllBufferRanges(),Fe.duration),Ut.quotaExceeded&&Ut.from>Ae.getTime()&&Kn(Ut.from),Ut.hasEnoughSpaceToAppend&&Ut.quotaExceeded&&ye.startScheduleTimer()}function wt(Ut){if(Ut&&Ut.lastRequestAppended&&Ut.lastRequestAppended.url){var On=Ut.lastRequestAppended.url;Ut.lastRequestAppended.range&&(On=On.concat("_",Ut.lastRequestAppended.range)),Ze.warn("Blacklisting segment with url ".concat(On)),Ve.add(On)}}function Ye(){Nt(),X=!1}function st(Ut){Ze.info("onFragmentLoadingAbandoned request: "+Ut.request.url+" has been aborted"),!Ae.isSeeking()&&!ye.getSwitchStrack()&&!X&&(Ze.info("onFragmentLoadingAbandoned request: "+Ut.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),Ut.request&&Ut.request.isInitializationRequest()?ye.setInitSegmentRequired(!0):Kn(Ut.request.startTime+Ut.request.duration/2),ye.startScheduleTimer(0))}function at(Ut){Ze.info("OnFragmentLoadingCompleted for stream id "+Fe.id+" and media type "+Y+" - Url:",Ut.request?Ut.request.url:"undefined",Ut.request.range?", Range:"+Ut.request.range:""),Ge()&&ye.startScheduleTimer(0),Ut.error&&Ut.request.serviceLocation&&function St(Ut){Ze.info("Fragment loading completed with an error"),Ut&&Ut.request&&Ut.request.type&&(Ut.request.type===y.HTTPRequest.INIT_SEGMENT_TYPE?yt({representationId:Ut.request.representationId,sender:{}},!1):Ut.request.type===y.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Kn(Ut.request.startTime+Ut.request.duration/2),Dt({},!1)))}(Ut)}function bt(){Kn(Ae.getTime()),Mt().startScheduleTimer()}function At(Ut){var On=Ut.currentTrackInfo;if(On){var Ne=Q.find(function(Ft){return Ft.index===On.index&&Ft.lang===On.lang});Ne&&ni(Ne).then(function(){ie.setIsBufferingCompleted(!1),Kn(Ae.getTime()),ye.setInitSegmentRequired(!0),ye.startScheduleTimer()})}}function on(Ut){Kn(Ut.quotaExceededTime),ye.clearScheduleTimer()}function tn(){return ie?ie.getBuffer():null}function ni(Ut){Ut!==be&&(!Ut||!be||Ut.type===be.type)&&(be=Ut);var On=ce.getRealAdaptation(Fe,be),Ne=ce.getVoRepresentations(be);if(oe){var Fn,Ft=oe.getData(),Pt=pe.getMaxAllowedIndexFor(Y,Fe.id),ln=pe.getMinAllowedIndexFor(Y,Fe.id),Er=null;return null!==Ft&&Ft.id===On.id||Y===t.default.TEXT?Fn=pe.getQualityFor(Y,Fe.id):(Er=pe.getThroughputHistory().getAverageThroughput(Y,Re)||pe.getInitialBitrateFor(Y,Fe.id),Fn=pe.getQualityForBitrate(be,Er,Fe.id)),void 0!==ln&&Fn<ln&&(Fn=ln),Fn>Pt&&(Fn=Pt),oe.updateData(On,Ne,Y,be.isFragmented,Fn)}return Promise.resolve()}function Mt(){return ye}function ht(Ut){var On;return void 0!==Ut?(Object(d.checkInteger)(Ut),On=oe?oe.getRepresentationForQuality(Ut):null):On=oe?oe.getCurrentRepresentation():null,ce.convertRepresentationToRepresentationInfo(On)}function Tn(){return!!ie&&ie.getIsBufferingCompleted()}function Qt(Ut){var On=Ut.chunk,Ne=On.bytes,Ft=On.quality,Pt=ht(Ft),ln=oe&&Pt?oe.getRepresentationForQuality(Pt.quality):null;if(Pt&&ln){var Fn=ce.getEventsFor(Pt.mediaInfo,null,Fe),vi=ce.getEventsFor(Pt,ln,Fe);if(Fn&&Fn.length>0||vi&&vi.length>0){var $r=function Rt(Ut,On,Ne,Ft){try{for(var Pt={},ln=[],Fn=Ne.concat(Ft),vi=0,Er=Fn.length;vi<Er;vi++)Pt[Fn[vi].schemeIdUri+"/"+Fn[vi].value]=Fn[vi];var $r=Object(I.default)(ne).getInstance().parse(Ut),jr=$r.getBoxes("emsg");if(!jr||0===jr.length)return ln;for(var ki=$r.getBox("sidx"),Oi=!ki||isNaN(ki.earliest_presentation_time)||isNaN(ki.timescale)?On&&!isNaN(On.mediaStartTime)?On.mediaStartTime:0:ki.earliest_presentation_time/ki.timescale,Wo=Math.max(Oi,0),Do=oe.getCurrentRepresentation(),bs=0,Yi=jr.length;bs<Yi;bs++){var Vr=ce.getEvent(jr[bs],Pt,Wo,Do);Vr&&ln.push(Vr)}return ln}catch{return[]}}(Ne,Ce.getRequests({state:_.default.FRAGMENT_MODEL_EXECUTED,quality:Ft,index:On.index})[0],Fn,vi);ae.trigger(g.default.INBAND_EVENTS,{events:$r},{streamId:Fe.id})}}}function It(){var Ut=Ae.getTime();Te.get().streaming.buffer.flushBufferAtTrackSwitch&&Ae.seek(Ut+.001,!1,!0),Kn(Ut),ie.setSeekTarget(Ut),ye.startScheduleTimer()}function Nt(){var Ut=Ae.getTime(),On=ie.getContinuousBufferTimeForTargetTime(Ut);Kn(isNaN(On)?Ut:On),ye.startScheduleTimer()}function An(Ut){Ut&&!isNaN(Ut.time)&&(Kn(Ut.time),ie.setSeekTarget(Ut.time))}function Kn(Ut){J=Ut,ee=!0}return ft={initialize:function _e(Ut,On,Ne){re=Object(L.default)(ne).create({events:g.default,eventBus:ae,streamInfo:Fe,timelineConverter:Se,dashConstants:v.default,segmentBaseController:z.segmentBaseController,type:Y}),($=Object(S.default)(ne).create({streamInfo:Fe,type:Y,timelineConverter:Se,dashMetrics:we,mediaPlayerModel:Ie,baseURLController:z.baseURLController,errHandler:le,segmentsController:re,settings:Te,boxParser:Oe,events:g.default,eventBus:ae,errors:x.default,debug:Object(N.default)(ne).getInstance(),requestModifier:Object(O.default)(ne).getInstance(),dashConstants:v.default,constants:t.default,urlUtils:Object(D.default)(ne).getInstance()})).initialize(Re=Fe.manifestInfo.isDynamic),pe.registerStreamType(Y,ft),oe=Object(i.default)(ne).create({streamInfo:Fe,type:Y,abrController:pe,dashMetrics:we,playbackController:Ae,timelineConverter:Se,dashConstants:v.default,events:g.default,eventBus:ae,errors:x.default,isDynamic:Re,segmentsController:re}),(ie=function en(Ut,On){return Ut?Ut!==t.default.TEXT||On?Object(P.default)(ne).create({streamInfo:Fe,type:Ut,mediaPlayerModel:Ie,manifestModel:ge,fragmentModel:Ce,errHandler:le,mediaController:ke,representationController:oe,adapter:ce,textController:he,abrController:pe,playbackController:Ae,settings:Te}):Object(C.default)(ne).create({streamInfo:Fe,type:Ut,mimeType:G,fragmentModel:Ce,textController:he,errHandler:le,settings:Te}):(le.error(new A.default(x.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,x.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(Y,Ne))&&ie.initialize(Ut),(ye=Object(m.default)(ne).create({streamInfo:Fe,type:Y,mimeType:G,adapter:ce,dashMetrics:we,mediaPlayerModel:Ie,fragmentModel:Ce,abrController:pe,playbackController:Ae,textController:he,mediaController:ke,bufferController:ie,settings:Te})).initialize(On),J=0,ee=!1},getStreamId:xe,getType:Ee,isUpdating:function tt(){return!!oe&&oe.isUpdating()},getBufferController:function Mn(){return ie},getFragmentModel:function In(){return Ce},getScheduleController:Mt,getRepresentationController:function En(){return oe},getRepresentationInfo:ht,getBufferLevel:function qe(){return ie?ie.getBufferLevel():0},isBufferingCompleted:Tn,createBufferSinks:function xn(Ut){var On=tn();return On?Promise.resolve(On):ie?ie.createBufferSink(be,Ut):Promise.resolve(null)},updateStreamInfo:function Nn(Ut){return Fe=Ut,Tn()?Promise.resolve():ie.updateAppendWindow()},getStreamInfo:function $n(){return Fe},selectMediaInfo:ni,clearMediaInfoArray:function gn(){Q=[]},addMediaInfo:function vn(Ut){-1===Q.indexOf(Ut)&&Q.push(Ut)},prepareTrackSwitch:function kt(){return new Promise(function(Ut){Ze.debug("Preparing track switch for type ".concat(Y));var On=Y===t.default.TEXT||Te.get().streaming.trackSwitchMode[Y]===t.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&Ae.getTimeToStreamEnd(Fe)>Te.get().streaming.buffer.stallThreshold;if(ie.getIsBufferingCompleted()&&!On)return ie.prepareForNonReplacementTrackSwitch(be.codec).then(function(){ae.trigger(g.default.BUFFERING_COMPLETED,{},{streamId:Fe.id,mediaType:Y})}).catch(function(){ae.trigger(g.default.BUFFERING_COMPLETED,{},{streamId:Fe.id,mediaType:Y})}),void Ut();ye.clearScheduleTimer(),ye.setSwitchTrack(!0),On?(ae.trigger(g.default.BUFFER_REPLACEMENT_STARTED,{mediaType:Y,streamId:Fe.id},{mediaType:Y,streamId:Fe.id}),Ce.abortRequests(),ie.prepareForReplacementTrackSwitch(be.codec).then(function(){var Ne=ht();return ie.updateBufferTimestampOffset(Ne)}).then(function(){It(),Ut()}).catch(function(){It(),Ut()})):ie.prepareForNonReplacementTrackSwitch(be.codec).then(function(){Nt(),Ut()}).catch(function(){Nt(),Ut()})})},prepareQualityChange:function vt(Ut){Ze.debug("Preparing quality switch for type ".concat(Y));var On=Ut.newQuality;X=!0,ye.clearScheduleTimer();var Ne=ht(On);ye.setCurrentRepresentation(Ne),oe.prepareQualityChange(On),Ce.abortRequests(),ie.updateBufferTimestampOffset(Ne).then(function(){Ut.reason&&Ut.reason.forceReplace?function it(){ae.trigger(g.default.BUFFER_REPLACEMENT_STARTED,{mediaType:Y,streamId:Fe.id},{mediaType:Y,streamId:Fe.id}),ie.prepareForReplacementQualitySwitch().then(function(){It(),X=!1}).catch(function(){It(),X=!1})}():Te.get().streaming.buffer.fastSwitchEnabled?function He(Ut){var On=Ae.getTime(),Ne=1.5*(isNaN(Ut.fragmentDuration)?1:Ut.fragmentDuration),Ft=Ce.getRequests({state:_.default.FRAGMENT_MODEL_EXECUTED,time:On+Ne,threshold:0})[0];if(Ft&&!Ge()){var Pt=ie.getBufferLevel(),ln=pe.getAbandonmentStateFor(Fe.id,Y);Ft.quality<Ut.quality&&Pt>=Ne&&ln!==b.default.ABANDON_LOAD?(Kn(On+Ne),ye.setCheckPlaybackQuality(!1),ye.startScheduleTimer()):Ye()}else ye.startScheduleTimer();X=!1}(Ne):Ye(),we.pushPlayListTraceMetrics(new Date,T.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),we.createPlaylistTraceMetrics(Ne.id,1e3*Ae.getTime(),Ae.getPlaybackRate())})},getMediaInfo:function yn(){return be},getMediaSource:function pn(){return ie.getMediaSource()},setMediaSource:function _n(Ut){ie.setMediaSource(Ut)},getBuffer:tn,setExplicitBufferingTime:Kn,finalisePlayList:function Xn(Ut,On){we.pushPlayListTraceMetrics(Ut,On)},probeNextRequest:function Ct(){var Ut=ht(),On=oe&&Ut?oe.getRepresentationForQuality(Ut.quality):null;return $.getNextSegmentRequestIdempotent(be,On)},prepareInnerPeriodPlaybackSeeking:function gt(Ut){return new Promise(function(On){if(ie.hasBufferAtTime(Ut.seekTime))return ie.pruneBuffer(),void On();ye.clearScheduleTimer(),Ce.abortRequests(),ie.prepareForPlaybackSeek().then(function(){var Ft=ie.getAllRangesWithSafetyFactor(Ut.seekTime);return ie.clearBuffers(Ft)}).then(function(){var Ft=ie.getContinuousBufferTimeForTargetTime(Ut.seekTime);if(!isNaN(Ft)&&!isNaN(Fe.duration)&&isFinite(Fe.duration)&&Ft>=Fe.start+Fe.duration)ie.setIsBufferingCompleted(!0),On();else{var Pt=isNaN(Ft)?Ut.seekTime:Ft;Kn(Pt),ie.setSeekTarget(Pt);var ln=[];ln.push(ie.updateAppendWindow());var Fn=ht();ln.push(ie.updateBufferTimestampOffset(Fn)),Promise.all(ln).then(function(){ye.setInitSegmentRequired(!0),ye.setCheckPlaybackQuality(!1),ye.startScheduleTimer(),On()})}}).catch(function(Ft){Ze.error(Ft)})})},prepareOuterPeriodPlaybackSeeking:function Qe(){return new Promise(function(Ut,On){try{ye.clearScheduleTimer(),Ce.abortRequests(),ie.prepareForPlaybackSeek().then(function(){return ie.pruneAllSafely()}).then(function(){Ut()})}catch(Ne){On(Ne)}})},reset:function Xe(Ut,On){$&&$.reset(),ie&&(ie.reset(Ut,On),ie=null),ye&&(ye.reset(),ye=null),oe&&(oe.reset(),oe=null),re&&(re=null),pe&&pe.unRegisterStreamType(xe(),Y),ae.off(g.default.DATA_UPDATE_COMPLETED,qt,ft),ae.off(g.default.INIT_FRAGMENT_NEEDED,yt,ft),ae.off(g.default.MEDIA_FRAGMENT_NEEDED,Dt,ft),ae.off(g.default.MEDIA_FRAGMENT_LOADED,Qt,ft),ae.off(g.default.BUFFER_LEVEL_STATE_CHANGED,un,ft),ae.off(g.default.BUFFER_CLEARED,fn,ft),ae.off(g.default.SEEK_TARGET,An,ft),ae.off(g.default.FRAGMENT_LOADING_ABANDONED,st,ft),ae.off(g.default.FRAGMENT_LOADING_COMPLETED,at,ft),ae.off(g.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,bt,ft),ae.off(g.default.SET_NON_FRAGMENTED_TEXT,At,ft),ae.off(g.default.QUOTA_EXCEEDED,on,ft),ae.off(g.default.SOURCE_BUFFER_ERROR,wt,ft),ct(),Y=null,Fe=null}},function q(){Ze=Object(N.default)(ne).getInstance().getLogger(ft),ct(),ae.on(g.default.DATA_UPDATE_COMPLETED,qt,ft,{priority:f.default.EVENT_PRIORITY_HIGH}),ae.on(g.default.INIT_FRAGMENT_NEEDED,yt,ft),ae.on(g.default.MEDIA_FRAGMENT_NEEDED,Dt,ft),ae.on(g.default.MEDIA_FRAGMENT_LOADED,Qt,ft),ae.on(g.default.BUFFER_LEVEL_STATE_CHANGED,un,ft),ae.on(g.default.BUFFER_CLEARED,fn,ft),ae.on(g.default.SEEK_TARGET,An,ft),ae.on(g.default.FRAGMENT_LOADING_ABANDONED,st,ft),ae.on(g.default.FRAGMENT_LOADING_COMPLETED,at,ft),ae.on(g.default.QUOTA_EXCEEDED,on,ft),ae.on(g.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,bt,ft),ae.on(g.default.SET_NON_FRAGMENTED_TEXT,At,ft),ae.on(g.default.SOURCE_BUFFER_ERROR,wt,ft)}(),ft}B.__dashjs_factory_name="StreamProcessor",p.default=c.default.getClassFactory(B)},"./src/streaming/XlinkLoader.js":
/*!**************************************!*\
                  !*** ./src/streaming/XlinkLoader.js ***!
                  \**************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),v=e(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),b=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),_=e(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),P=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),C=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),m=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),i=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js");function c(d){d=d||{};var g=this.context,S=Object(P.default)(g).getInstance(),x=Object(v.default)(g).create({errHandler:d.errHandler,dashMetrics:d.dashMetrics,mediaPlayerModel:d.mediaPlayerModel,requestModifier:d.requestModifier,errors:i.default});return{load:function N(D,I,T){var L=function(z,ne){I.resolved=!0,I.resolvedContent=z||null,S.trigger(C.default.XLINK_ELEMENT_LOADED,{element:I,resolveObject:T,error:z||ne?null:new t.default(i.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,i.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+D)})};if("urn:mpeg:dash:resolve-to-zero:2013"===D)L(null,!0);else{var y=new _.default(D,b.HTTPRequest.XLINK_EXPANSION_TYPE);x.load({request:y,success:function(z){L(z)},error:function(){L(null)}})}},reset:function O(){x&&(x.abort(),x=null)}}}c.__dashjs_factory_name="XlinkLoader",p.default=m.default.getClassFactory(c)},"./src/streaming/constants/ConformanceViolationConstants.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/constants/ConformanceViolationConstants.js ***!
                  \******************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p),p.default={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}}},"./src/streaming/constants/Constants.js":
/*!**********************************************!*\
                  !*** ./src/streaming/constants/Constants.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function b(c,d){for(var f=0;f<d.length;f++){var g=d[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,P(g.key),g)}}function P(c){var d=function C(c,d){if("object"!==t(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var g=f.call(c,d||"default");if("object"!==t(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}e.r(p);var i=new(function(){function c(){(function v(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.init()}return function _(c,d,f){return d&&b(c.prototype,d),f&&b(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}]),c}());p.default=i},"./src/streaming/constants/MetricsConstants.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/constants/MetricsConstants.js ***!
                  \*****************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function b(c,d){for(var f=0;f<d.length;f++){var g=d[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,P(g.key),g)}}function P(c){var d=function C(c,d){if("object"!==t(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var g=f.call(c,d||"default");if("object"!==t(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}e.r(p);var i=new(function(){function c(){(function v(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.init()}return function _(c,d,f){return d&&b(c.prototype,d),f&&b(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}]),c}());p.default=i},"./src/streaming/constants/ProtectionConstants.js":
/*!********************************************************!*\
                  !*** ./src/streaming/constants/ProtectionConstants.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function b(c,d){for(var f=0;f<d.length;f++){var g=d[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,P(g.key),g)}}function P(c){var d=function C(c,d){if("object"!==t(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var g=f.call(c,d||"default");if("object"!==t(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}e.r(p);var i=new(function(){function c(){(function v(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.init()}return function _(c,d,f){return d&&b(c.prototype,d),f&&b(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}]),c}());p.default=i},"./src/streaming/controllers/AbrController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/AbrController.js ***!
                  \****************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),v=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),_=e(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),P=e(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),C=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),m=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),i=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),c=e(
/*! ../rules/RulesContext */
"./src/streaming/rules/RulesContext.js"),d=e(
/*! ../rules/SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),f=e(
/*! ../rules/SwitchRequestHistory */
"./src/streaming/rules/SwitchRequestHistory.js"),g=e(
/*! ../rules/DroppedFramesHistory */
"./src/streaming/rules/DroppedFramesHistory.js"),S=e(
/*! ../rules/ThroughputHistory */
"./src/streaming/rules/ThroughputHistory.js"),x=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),A=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),N=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),O=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function L(){var ae,Fe,Y,le,G,Se,ce,ge,Ie,Ce,pe,Ae,ke,he,we,Te,Oe,Ve,ft,Ze,Re,be,Q,ie,ye,oe,B=this.context,z=Object(x.default)(B).getInstance(),ne=Object(C.default)(B).getInstance();function q(){G={},Se={},ge={},ce={},ft={},be={},Q={},ie={},void 0===Ce&&(Ce=!1),Ze&&Ze.reset(),Ve=void 0,Ze=void 0,Re=void 0,clearTimeout(Ie),Ie=null}function Ge(tn){var Mn=tn.request.mediaType,In=tn.streamId;if(Mn&&In&&ce[In]&&oe.get().streaming.abr.autoSwitchBitrate[Mn]){var Nn=ce[In][Mn];if(Nn){var $n=Object(c.default)(B).create({abrController:ae,streamProcessor:Nn,currentRequest:tn.request,useBufferOccupancyABR:be[Mn],useL2AABR:Q[Mn],useLoLPABR:ie[Mn],videoModel:he}),ni=Y.shouldAbandonFragment($n,In);ni.quality>d.default.NO_CHANGE&&Nn.getFragmentModel().getRequests({state:P.default.FRAGMENT_MODEL_LOADING,index:tn.request.index})[0]&&(ge[In][Mn].state=b.default.ABANDON_LOAD,ft[In][Mn].reset(),ft[In][Mn].push({oldValue:qt(Mn,In),newValue:ni.quality,confidence:1,reason:ni.reason}),un(Mn,le.getActiveStreamInfo(),ni.quality,ni.reason),clearTimeout(Ie),Ie=setTimeout(function(){ge[In][Mn].state=b.default.ALLOW_LOAD,Ie=null},oe.get().streaming.abandonLoadTimeout))}}}function ct(tn){tn.mediaType===v.default.VIDEO&&(void 0!==Ve&&Ze.push(tn.streamId,Ve,he.getPlaybackQuality()),Ve=tn.newQuality)}function Xe(tn){tn.metric===b.default.HTTP_REQUEST&&tn.value&&tn.value.type===A.HTTPRequest.MEDIA_SEGMENT_TYPE&&(tn.mediaType===v.default.AUDIO||tn.mediaType===v.default.VIDEO)&&Re.push(tn.mediaType,tn.value,oe.get().streaming.abr.useDeadTimeLatency),tn.metric===b.default.BUFFER_LEVEL&&(tn.mediaType===v.default.AUDIO||tn.mediaType===v.default.VIDEO)&&function Ye(tn,Mn){oe.get().streaming.abr.ABRStrategy===v.default.ABR_STRATEGY_DYNAMIC&&function st(tn,Mn){try{var In=we.getStableBufferTime(),ni=be[tn],vn=Mn>(ni?.5*In:In);be[tn]=vn,vn!==ni&&Fe.info(vn?"["+tn+"] switching from throughput to buffer occupancy ABR rule (buffer: "+Mn.toFixed(3)+").":"["+tn+"] switching from buffer occupancy to throughput ABR rule (buffer: "+Mn.toFixed(3)+").")}catch(gn){Fe.error(gn)}}(tn,Mn)}(tn.mediaType,.001*tn.value.level)}function tt(tn,Mn){try{return G[Mn]=G[Mn]||{},G[Mn].hasOwnProperty(tn)||(G[Mn][tn]=0),function ze(tn,Mn,In){if(Mn!==v.default.VIDEO||!oe.get().streaming.abr.limitBitrateByPortal||!ce[In]||!ce[In][Mn])return tn;Ce||on();var Nn=ce[In][Mn].getStreamInfo(),$n=ke.getAdaptationForType(Nn.index,Mn,Nn).Representation_asArray,ni=tn;if(pe>0&&Ae>0){for(;ni>0&&$n[ni]&&pe<$n[ni].width&&pe-$n[ni-1].width<$n[ni].width-pe;)ni-=1;for(;ni<$n.length-1&&$n[ni].width===$n[ni+1].width;)ni+=1}return ni}(function fe(tn,Mn,In){var Nn=G[In][Mn],$n=oe.get().streaming.abr.maxRepresentationRatio[Mn];return isNaN($n)||$n>=1||$n<0?tn:Math.min(tn,Math.round(Nn*$n))}(function Dt(tn,Mn){var In=G[Mn][tn],Nn=In;if(!ce[Mn]||!ce[Mn][tn])return Nn;var $n=gt(tn,Mn);void 0!==$n&&(Nn=Math.max(In,$n));var ni=function Qe(tn,Mn){try{var In=we.getAbrBitrateParameter("maxBitrate",tn);return In>-1?it(ce[Mn][tn].getMediaInfo(),In,Mn):void 0}catch{return}}(tn,Mn);return void 0!==ni&&(Nn=Math.min(Nn,ni)),Nn}(tn,Mn),tn,Mn),tn,Mn)}catch{return}}function gt(tn,Mn){try{return function yt(tn,Mn){try{var In=we.getAbrBitrateParameter("minBitrate",tn);if(In>-1){var Nn=ce[Mn][tn].getMediaInfo(),$n=He(Nn),ni=it(Nn,In,Mn);return $n[ni]&&ni<$n.length-1&&$n[ni].bitrate<1e3*In&&ni++,ni}return}catch{return}}(tn,Mn)}catch{return}}function qt(tn){var Mn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return Mn||(Mn=le.getActiveStreamInfo().id),tn&&ce[Mn]&&ce[Mn][tn]&&Mn?(Se[Mn]=Se[Mn]||{},Se[Mn].hasOwnProperty(tn)||(Se[Mn][tn]=0),Se[Mn][tn]):0}catch{return 0}}function un(tn,Mn,In){var Nn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(Mn&&Mn.id&&tn){var $n=Mn.id,ni=qt(tn,$n);Object(N.checkInteger)(In);var vn=tt(tn,$n);In!==ni&&In>=0&&In<=vn&&wt(tn,ni,In,vn,Nn,$n)}}function wt(tn,Mn,In,Nn,$n,ni){if(tn&&ce[ni]&&ce[ni][tn]){var vn=ce[ni][tn].getStreamInfo(),gn=vn&&vn.manifestInfo&&vn.manifestInfo.isDynamic,yn=ye.getCurrentBufferLevel(tn);Fe.info("Stream ID: "+ni+" ["+tn+"] switch from "+Mn+" to "+In+"/"+Nn+" (buffer: "+yn+") "+($n?JSON.stringify($n):".")),Se[ni]=Se[ni]||{},Se[ni][tn]=In;var pn=function vt(tn,Mn,In){if(Mn&&ce&&ce[tn]&&ce[tn][Mn]){var Nn=He(ce[tn][Mn].getMediaInfo());return Nn[In]?Nn[In]:null}return null}(ni,tn,In);ne.trigger(m.default.QUALITY_CHANGE_REQUESTED,{oldQuality:Mn,newQuality:In,reason:$n,streamInfo:vn,bitrateInfo:pn,maxIdx:Nn,mediaType:tn},{streamId:vn.id,mediaType:tn});var _n=Re.getAverageThroughput(tn,gn);isNaN(_n)||Oe.setSavedBitrateSettings(tn,_n)}}function it(tn,Mn,In){var Nn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,$n=tn&&tn.type?ce[In][tn.type].getRepresentationInfo():null;if(oe.get().streaming.abr.useDeadTimeLatency&&Nn&&$n&&$n.fragmentDuration){var ni=$n.fragmentDuration;if((Nn/=1e3)>ni)return 0;Mn*=1-Nn/ni}for(var gn=He(tn),yn=gn.length-1;yn>=0;yn--)if(1e3*Mn>=gn[yn].bitrate)return yn;return 0}function He(tn){var Mn=[];if(!tn||!tn.bitrateList)return Mn;for(var $n,In=tn.bitrateList,Nn=tn.type,ni=0,vn=In.length;ni<vn;ni++)($n=new _.default).mediaType=Nn,$n.qualityIndex=ni,$n.bitrate=In[ni].bandwidth,$n.width=In[ni].width,$n.height=In[ni].height,$n.scanType=In[ni].scanType,Mn.push($n);return Mn}function on(){if(he){var Mn=oe.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;pe=he.getClientWidth()*Mn,Ae=he.getClientHeight()*Mn}}return ae={initialize:function X(){Ze=Object(g.default)(B).create(),Re=Object(S.default)(B).create({settings:oe}),(Y=Object(t.default)(B).create({dashMetrics:ye,customParametersModel:Te,mediaPlayerModel:we,settings:oe})).initialize(),ne.on(O.default.QUALITY_CHANGE_RENDERED,ct,ae),ne.on(O.default.METRIC_ADDED,Xe,ae),ne.on(m.default.LOADING_PROGRESS,Ge,ae)},isPlayingAtTopQuality:function bt(tn){var Mn=tn?tn.id:null,In=qt(v.default.AUDIO,Mn),Nn=qt(v.default.VIDEO,Mn);return In===tt(v.default.AUDIO,Mn)&&Nn===tt(v.default.VIDEO,Mn)},updateTopQualityIndex:function St(tn){var Mn=tn.type,In=tn.streamInfo.id,Nn=tn.representationCount-1;return G[In]=G[In]||{},G[In][Mn]=Nn,Nn},clearDataForStream:function En(tn){Ze&&Ze.clearForStream(tn),ce[tn]&&delete ce[tn],ft[tn]&&delete ft[tn],ge[tn]&&delete ge[tn]},getThroughputHistory:function at(){return Re},getBitrateList:He,getQualityForBitrate:it,getTopBitrateInfoFor:function Tt(tn){var Mn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Mn||(Mn=le.getActiveStreamInfo().id),tn&&ce&&ce[Mn]&&ce[Mn][tn]){var In=tt(tn,Mn),Nn=He(ce[Mn][tn].getMediaInfo());return Nn[In]?Nn[In]:null}return null},getMinAllowedIndexFor:gt,getMaxAllowedIndexFor:tt,getInitialBitrateFor:function Kt(tn,Mn){if(function Ee(){if(!Oe||!Oe.hasOwnProperty("getSavedBitrateSettings"))throw new Error(v.default.MISSING_CONFIG_ERROR)}(),tn===v.default.TEXT)return NaN;var In=Oe.getSavedBitrateSettings(tn),Nn=we.getAbrBitrateParameter("initialBitrate",tn),$n=oe.get().streaming.abr.initialRepresentationRatio[tn];if(-1===Nn)if($n>-1){var ni=ce[Mn][tn].getStreamInfo(),vn=ke.getAdaptationForType(ni.index,tn,ni).Representation_asArray;Nn=Array.isArray(vn)?vn[Math.max(Math.round(vn.length*$n)-1,0)].bandwidth/1e3:0}else Nn=isNaN(In)?tn===v.default.VIDEO?1e3:100:In;return Nn},getQualityFor:qt,getAbandonmentStateFor:function fn(tn,Mn){return ge[tn]&&ge[tn][Mn]?ge[tn][Mn].state:null},setPlaybackQuality:un,checkPlaybackQuality:function Jt(tn,Mn){try{if(!(tn&&ce&&ce[Mn]&&ce[Mn][tn]))return!1;if(Ze){var In=he.getPlaybackQuality();In&&Ze.push(Mn,Ve,In)}if(!oe.get().streaming.abr.autoSwitchBitrate[tn])return!1;var Nn=qt(tn,Mn),$n=Object(c.default)(B).create({abrController:ae,switchHistory:ft[Mn][tn],droppedFramesHistory:Ze,streamProcessor:ce[Mn][tn],currentValue:Nn,useBufferOccupancyABR:be[tn],useL2AABR:Q[tn],useLoLPABR:ie[tn],videoModel:he}),ni=gt(tn,Mn),vn=tt(tn,Mn),gn=Y.getMaxQuality($n),yn=gn.quality;return void 0!==ni&&(yn>d.default.NO_CHANGE?yn:Nn)<ni&&(yn=ni),yn>vn&&(yn=vn),ft[Mn][tn].push({oldValue:Nn,newValue:yn}),yn>d.default.NO_CHANGE&&yn!==Nn&&(ge[Mn][tn].state===b.default.ALLOW_LOAD||yn<Nn)&&(wt(tn,Nn,yn,vn,gn.reason,Mn),!0)}catch{return!1}},setElementSize:on,setWindowResizeEventCalled:function At(tn){Ce=tn},registerStreamType:function $(tn,Mn){var In=Mn.getStreamInfo().id;ce[In]||(ce[In]={}),ft[In]||(ft[In]={}),ge[In]||(ge[In]={}),ft[In][tn]=Object(f.default)(B).create(),ce[In][tn]=Mn,ge[In][tn]={},ge[In][tn].state=b.default.ALLOW_LOAD,function re(tn){var Mn=oe.get().streaming.abr.ABRStrategy;Mn===v.default.ABR_STRATEGY_L2A?(be[tn]=!1,ie[tn]=!1,Q[tn]=!0):Mn===v.default.ABR_STRATEGY_LoLP?(be[tn]=!1,ie[tn]=!0,Q[tn]=!1):Mn===v.default.ABR_STRATEGY_BOLA?(be[tn]=!0,ie[tn]=!1,Q[tn]=!1):Mn===v.default.ABR_STRATEGY_THROUGHPUT?(be[tn]=!1,ie[tn]=!1,Q[tn]=!1):Mn===v.default.ABR_STRATEGY_DYNAMIC&&(be[tn]=!(!be||!be[tn])&&be[tn],ie[tn]=!1,Q[tn]=!1)}(tn),tn===v.default.VIDEO&&on()},unRegisterStreamType:function J(tn,Mn){try{ce[tn]&&ce[tn][Mn]&&delete ce[tn][Mn],ft[tn]&&ft[tn][Mn]&&delete ft[tn][Mn],ge[tn]&&ge[tn][Mn]&&delete ge[tn][Mn]}catch{}},setConfig:function xe(tn){tn&&(tn.streamController&&(le=tn.streamController),tn.domStorage&&(Oe=tn.domStorage),tn.mediaPlayerModel&&(we=tn.mediaPlayerModel),tn.customParametersModel&&(Te=tn.customParametersModel),tn.dashMetrics&&(ye=tn.dashMetrics),tn.adapter&&(ke=tn.adapter),tn.videoModel&&(he=tn.videoModel),tn.settings&&(oe=tn.settings))},reset:function _e(){q(),ne.off(m.default.LOADING_PROGRESS,Ge,ae),ne.off(O.default.QUALITY_CHANGE_RENDERED,ct,ae),ne.off(O.default.METRIC_ADDED,Xe,ae),Y&&Y.reset()}},function ee(){Fe=z.getLogger(ae),q()}(),ae}L.__dashjs_factory_name="AbrController";var y=i.default.getSingletonFactory(L);y.QUALITY_DEFAULT=0,i.default.updateSingletonFactory(L.__dashjs_factory_name,y),p.default=y},"./src/streaming/controllers/BaseURLController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/BaseURLController.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../models/BaseURLTreeModel */
"./src/streaming/models/BaseURLTreeModel.js"),v=e(
/*! ../utils/BaseURLSelector */
"./src/streaming/utils/BaseURLSelector.js"),b=e(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),_=e(
/*! ../../dash/vo/BaseURL */
"./src/dash/vo/BaseURL.js"),P=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),m=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function i(){var c,d,x,A,f=this.context,g=Object(C.default)(f).getInstance(),S=Object(b.default)(f).getInstance();function N(B){x.invalidateSelectedIndexes(B.entry)}return c={reset:function L(){x.reset(),A.reset()},initialize:function y(B){x.setConfig({adapter:d}),function I(B){x.update(B),A.chooseSelector(d.getIsDVB(B))}(B)},resolve:function T(B){var ne=x.getForPath(B).reduce(function(ae,Fe){var Y=A.select(Fe);return Y?(S.isRelative(Y.url)?ae.url=S.resolve(Y.url,ae.url):(ae.url=Y.url,ae.serviceLocation=Y.serviceLocation),ae.availabilityTimeOffset=Y.availabilityTimeOffset,ae.availabilityTimeComplete=Y.availabilityTimeComplete,ae):new _.default},new _.default);if(!S.isRelative(ne.url))return ne},setConfig:function D(B){B.baseURLTreeModel&&(x=B.baseURLTreeModel),B.baseURLSelector&&(A=B.baseURLSelector),B.adapter&&(d=B.adapter)}},function O(){x=Object(t.default)(f).create(),A=Object(v.default)(f).create(),g.on(m.default.SERVICE_LOCATION_BLACKLIST_CHANGED,N,c)}(),c}i.__dashjs_factory_name="BaseURLController",p.default=P.default.getClassFactory(i)},"./src/streaming/controllers/BlacklistController.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/controllers/BlacklistController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js");function b(_){_=_||{};var P,C=[],m=Object(v.default)(this.context).getInstance(),i=_.updateEventName,c=_.addBlacklistEventName;function f(A){-1===C.indexOf(A)&&(C.push(A),m.trigger(i,{entry:A}))}function g(A){f(A.entry)}return P={add:f,contains:function d(A){return!!(C.length&&A&&A.length)&&-1!==C.indexOf(A)},reset:function x(){C=[]}},function S(){c&&m.on(c,g,P)}(),P}b.__dashjs_factory_name="BlackListController",p.default=t.default.getClassFactory(b)},"./src/streaming/controllers/BufferController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/BufferController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),b=e(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),_=e(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),P=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),C=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),m=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),i=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),c=e(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),d=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),f=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),g=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),S=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),A=.01,O="BufferController";function D(I){I=I||{};var ce,ge,Ie,Ce,pe,Ae,ke,he,we,Te,Oe,Ve,ft,Ze,Re,be,Q,ie,T=this.context,L=Object(P.default)(T).getInstance(),y=I.errHandler,B=I.fragmentModel,z=I.representationController,ne=I.adapter,ae=I.textController,Fe=I.abrController,Y=I.playbackController,le=I.streamInfo,G=I.type,Se=I.settings;function re(It){Ae=It}function J(It){return ne.convertRepresentationToRepresentationInfo(z.getRepresentationForQuality(It))}function xe(It){Se.get().streaming.cacheInitSegments&&(ge.info("Init fragment finished loading saving to",G+"'s init cache"),Re.save(It.chunk)),ge.debug("Append Init fragment",G," with representationId:",It.chunk.representationId," and quality:",It.chunk.quality,", data size:",It.chunk.bytes.byteLength),ct(It.chunk)}function Ge(It){ct(It.chunk,It.request)}function ct(It){we.append(It,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).then(function(en){tt(en)}).catch(function(en){tt(en)}),It.mediaInfo.type===t.default.VIDEO&&Rt(C.default.VIDEO_CHUNK_RECEIVED,{chunk:It})}function Xe(It){if(It&&It.length>0)for(var Nt=0,en=It.length;Nt<en;Nt++)ge.debug("Buffered range: "+It.start(Nt)+" - "+It.end(Nt)+", currentTime = ",Y.getTime())}function tt(It){if(It.error)return 22===It.error.code&&function Qe(){if(Ze=!0,pe=.8*Tn(),ge.warn("Quota exceeded, Critical Buffer: "+pe),pe>0){var It=Math.max(.2*pe,1),Nt=pe-It,en=Math.min(Se.get().streaming.buffer.bufferTimeAtTopQuality,.9*Nt),An=Math.min(Se.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*Nt),Kn={streaming:{buffer:{bufferToKeep:parseFloat(It.toFixed(5)),bufferTimeAtTopQuality:parseFloat(en.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(An.toFixed(5))}}};Se.update(Kn)}}(),void((22===It.error.code||!Ct())&&(ge.warn("Clearing playback buffer to overcome quota exceed situation"),Rt(C.default.QUOTA_EXCEEDED,{criticalBufferLevel:pe,quotaExceededTime:It.chunk.start}),on(At())));if(we&&(Ye(),Ze=!1,(Oe=It.chunk)&&Oe.endFragment)){Oe&&!isNaN(Oe.index)&&(ke=Math.max(Oe.index,ke),st());var Nt=we.getAllBufferRanges();Oe.segmentType===g.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Xe(Nt),un(),function gt(){if(!isNaN(ie)){if(G!==t.default.AUDIO&&G!==t.default.VIDEO)return void(ie=NaN);var It=Y.getTime(),Nt=it(It,0),en=it(ie,0);if(Nt&&en&&Nt.start===en.start)return void(ie=NaN);var An=z.getCurrentRepresentation().segmentDuration,Kn=it(ie,An);Kn&&(Se.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(It-ie)>An?ie<=Kn.end&&Y.seek(Math.max(ie,Kn.start),!1,!0):It<Kn.start&&Y.seek(Kn.start,!1,!0))}}()),Oe&&Rt(C.default.BYTES_APPENDED_END_FRAGMENT,{quality:Oe.quality,startTime:Oe.start,index:Oe.index,bufferedRanges:Nt,segmentType:Oe.segmentType,mediaType:G})}}function Tt(){return new Promise(function(It,Nt){var en=Kt();if(!en||0===en.length)return un(),void It();on(en).then(function(){It()}).catch(function(An){Nt(An)})})}function Kt(It){var Nt=[],en=we.getAllBufferRanges();if(!en||0===en.length)return Nt;if(!It&&0!==It||isNaN(It))Nt.push({start:en.start(0),end:en.end(en.length-1)+.5});else{var An=function Jt(It,Nt){var en=Se.get().streaming.buffer.bufferToKeep,An=Nt.start(0);if(It-An>en){var Xn=Math.max(0,It-en),Ut=B.getRequests({state:b.default.FRAGMENT_MODEL_EXECUTED,time:It,threshold:A})[0];if(Ut&&(Xn=Math.min(Ut.startTime,Xn)),Xn>0)return{start:An,end:Xn}}return null}(It,en),Kn=function qt(It,Nt){var en=Nt.end(Nt.length-1)+.5,An=qe(It),Xn=le.manifestInfo.duration>=Se.get().streaming.buffer.longFormContentDurationThreshold?Se.get().streaming.buffer.bufferTimeAtTopQualityLongForm:Se.get().streaming.buffer.bufferTimeAtTopQuality,Ut=isNaN(An)?It:Math.min(An,It+Xn);if(Ut>=Nt.end(Nt.length-1))return null;var On=B.getRequests({state:b.default.FRAGMENT_MODEL_EXECUTED,time:It,threshold:A})[0];if(On&&(Ut=Math.max(On.startTime+On.duration,Ut)),Se.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var Ft=0;Ft<Nt.length;Ft++)if(Nt.start(Ft)<=It&&It<=Nt.end(Ft)&&Nt.start(Ft)<=Ut&&Ut<=Nt.end(Ft)){var Pt=Ut;Ut=Ft+1<Nt.length?Nt.start(Ft+1):Nt.end(Ft)+1,ge.debug("Buffered range ["+Nt.start(Ft)+", "+Nt.end(Ft)+"] overlaps with targetTime "+It+" and range to be pruned ["+Pt+", "+en+"], using ["+Ut+", "+en+"] instead"+(Ut<en?"":" (no actual pruning)"));break}return Ut<Nt.end(Nt.length-1)?{start:Ut,end:en}:null}(It,en);An&&Nt.push(An),Kn&&Nt.push(Kn)}return Nt}function un(){(!Q||G===t.default.TEXT&&ae.isTextEnabled())&&Ye()}function fn(){at()}function wt(){at(),ie=NaN}function it(It,Nt){var Ne,Ft,en=we.getAllBufferRanges(),An=0,Kn=0,Xn=null,Ut=null,On=0,Pt=isNaN(Nt)?.15:Nt;if(null!=en){for(Ft=0,Ne=en.length;Ft<Ne;Ft++)if(An=en.start(Ft),Kn=en.end(Ft),null===Xn)On=Math.abs(An-It),(It>=An&&It<Kn||On<=Pt)&&(Xn=An,Ut=Kn);else{if(!((On=An-Ut)<=Pt))break;Ut=Kn}if(null!==Xn)return{start:Xn,end:Ut}}return null}function Ye(){if(Y){var It=Se.get().streaming.gaps.jumpGaps&&!isNaN(Se.get().streaming.gaps.smallGapLimit)?Se.get().streaming.gaps.smallGapLimit:NaN;Ce=Math.max(function He(It,Nt){var en;return Se.get().streaming.gaps.jumpGaps&&(Nt=Se.get().streaming.gaps.smallGapLimit),null===(en=it(It,Nt))?0:en.end-It}(Y.getTime()||0,It),0),Rt(C.default.BUFFER_LEVEL_UPDATED,{mediaType:G,bufferLevel:Ce}),at()}}function st(){var It=ke>=he-1,Nt=Y.getTimeToStreamEnd(le)-Ce<1e-5;(It||Nt)&&!Ie&&(Mt(!0),ge.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(le.id," and type ").concat(G)))}function at(){G!==t.default.AUDIO&&G!==t.default.VIDEO||((!Y.getLowLatencyModeEnabled()&&Ce<Se.get().streaming.buffer.stallThreshold||0===Ce)&&!Ie?St(v.default.BUFFER_EMPTY):(Ie||Ce>=Se.get().streaming.buffer.stallThreshold||Y.getLowLatencyModeEnabled()&&Ce>0)&&St(v.default.BUFFER_LOADED))}function St(It){Te===It||It===v.default.BUFFER_EMPTY&&0===Y.getTime()||G===t.default.TEXT&&!ae.isTextEnabled()||(Te=It,Rt(C.default.BUFFER_LEVEL_STATE_CHANGED,{state:It}),Rt(It===v.default.BUFFER_LOADED?C.default.BUFFER_LOADED:C.default.BUFFER_EMPTY),ge.debug(It===v.default.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function bt(){!we||G===t.default.TEXT||Ie||on(At())}function At(){var It=[],Nt=we.getAllBufferRanges();if(!Nt||0===Nt.length)return It;var en=Y.getTime(),An=Math.max(0,en-Se.get().streaming.buffer.bufferToKeep),Kn=B.getRequests({state:b.default.FRAGMENT_MODEL_EXECUTED,time:en,threshold:A})[0];if(Kn)An=Math.min(Kn.startTime,An);else if(0===en&&Y.getIsDynamic())return[];if(Nt.start(0)<=An){for(var Xn={start:0,end:An},Ut=0;Ut<Nt.length&&Nt.end(Ut)<=An;Ut++)Xn.end=Nt.end(Ut);Xn.start<Xn.end&&It.push(Xn)}return It}function on(It){return new Promise(function(Nt,en){if(It&&we&&0!==It.length){var An=[];It.forEach(function(Kn){An.push(function En(It){return new Promise(function(Nt,en){It.resolve=Nt,It.reject=en,be.push(It)})}(Kn))}),ft||tn(),Promise.all(An).then(function(){Nt()}).catch(function(Kn){en(Kn)})}else Nt()})}function tn(){try{if(0===be.length||!we)return ge.debug("Nothing to prune, halt pruning"),be=[],void(ft=!1);var It=we.getBuffer();if(!It||!It.buffered||0===It.buffered.length)return ge.debug("SourceBuffer is empty (or does not exist), halt pruning"),be=[],void(ft=!1);var Nt=be.shift();ge.debug("".concat(G,": Removing buffer from: ").concat(Nt.start," to ").concat(Nt.end)),ft=!0,Y.getTime()<Nt.end&&Mt(!1),we.remove(Nt).then(function(An){Mn(An)}).catch(function(An){Mn(An)})}catch{ft=!1}}function Mn(It){ge.debug("onRemoved buffer from:",It.from,"to",It.to),Xe(we.getAllBufferRanges()),0===be.length&&(ft=!1,Ye()),It.unintended&&(ge.warn("Detected unintended removal from:",It.from,"to",It.to,"setting streamprocessor time to",It.from),Rt(C.default.SEEK_TARGET,{time:It.from})),ft?tn():(Q?Q=!1:Ye(),Rt(C.default.BUFFER_CLEARED,{from:It.from,to:It.to,unintended:It.unintended,hasEnoughSpaceToAppend:Ct(),quotaExceeded:Ze}))}function In(It){return new Promise(function(Nt){It&&void 0!==It.MSETimeOffset&&we&&we.updateTimestampOffset?we.updateTimestampOffset(It.MSETimeOffset).then(function(){Nt()}).catch(function(){Nt()}):Nt()})}function Nn(){return we&&!Ie?we.updateAppendWindow(le):Promise.resolve()}function ni(){++Ve*(Se.get().streaming.wallclockTimeUpdateInterval/1e3)>=Se.get().streaming.buffer.bufferPruningInterval&&(Ve=0,bt())}function vn(){at()}function Mt(It){Ie!==It&&((Ie=It)?Rt(C.default.BUFFERING_COMPLETED):he=Number.POSITIVE_INFINITY)}function Tn(){try{var en,An,It=we.getAllBufferRanges(),Nt=0;if(!It)return Nt;for(An=0,en=It.length;An<en;An++)Nt+=It.end(An)-It.start(An);return Nt}catch{return 0}}function qe(It){try{var Nt=It,en=we.getAllBufferRanges();if(!en||0===en.length)return NaN;for(var An=0;Nt===It&&An<en.length;){var Kn=en.start(An),Xn=en.end(An);Nt>=Kn&&Nt<=Xn&&(Nt=Xn),An+=1}return Nt===It?NaN:Nt}catch{}}function Ct(){var It=Tn();return isNaN(It)||It<pe}function Rt(It,Nt){L.trigger(It,Nt||{},{streamId:le.id,mediaType:G})}function xn(It,Nt){if(pe=Number.POSITIVE_INFINITY,Te=void 0,he=Number.POSITIVE_INFINITY,ke=0,Oe=null,Ie=!1,ft=!1,Ze=!1,Ce=0,Ve=0,be=[],ie=NaN,we){var en=we;we=null,!It&&!Nt&&en.abort().then(function(){en.reset(Nt),en=null})}Q=!1}return ce={initialize:function oe(It){re(It),L.on(C.default.INIT_FRAGMENT_LOADED,xe,ce),L.on(C.default.MEDIA_FRAGMENT_LOADED,Ge,ce),L.on(C.default.WALLCLOCK_TIME_UPDATED,ni,ce),L.on(S.default.PLAYBACK_PLAYING,wt,ce),L.on(S.default.PLAYBACK_PROGRESS,un,ce),L.on(S.default.PLAYBACK_TIME_UPDATED,un,ce),L.on(S.default.PLAYBACK_RATE_CHANGED,vn,ce),L.on(S.default.PLAYBACK_STALLED,fn,ce)},getStreamId:function ee(){return le.id},getType:function X(){return G},getBufferControllerType:function $(){return O},createBufferSink:function q(It){var Nt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(en,An){if(Re&&It&&Ae){var Kn=Fe.getQualityFor(G,le.id);we=Object(_.default)(T).create({mediaSource:Ae,textController:ae,eventBus:L}),function _e(It,Nt,en){var An=J(en);return Nt&&Nt[G]&&(G===t.default.VIDEO||G===t.default.AUDIO)?we.initializeForStreamSwitch(It,An,Nt[G]):we.initializeForFirstUse(le,It,An)}(It,Nt,Kn).then(function(){return In(J(Kn))}).then(function(){en(we)}).catch(function(Xn){ge.fatal("Caught error on create SourceBuffer: "+Xn),y.error(new d.default(f.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,f.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+G)),An(Xn)})}else en(null)})},getBuffer:function gn(){return we},getBufferLevel:function yn(){return Ce},getRangeAt:it,hasBufferAtTime:function vt(It){try{var Nt=we.getAllBufferRanges();if(!Nt||0===Nt.length)return!1;for(var en=0;en<Nt.length;){var An=Nt.start(en),Kn=Nt.end(en);if(It>=An&&It<=Kn)return!0;en+=1}return!1}catch(Xn){return ge.error(Xn),!1}},pruneBuffer:bt,setMediaSource:re,getMediaSource:function pn(){return Ae},appendInitSegmentFromCache:function Ee(It){var Nt=Re.extract(le.id,It);return!!Nt&&(ge.info("Append Init fragment",G," with representationId:",Nt.representationId," and quality:",Nt.quality,", data size:",Nt.bytes.byteLength),ct(Nt),!0)},getIsBufferingCompleted:function _n(){return Ie},setIsBufferingCompleted:Mt,getIsPruningInProgress:function ht(){return ft},reset:function kt(It,Nt){L.off(C.default.INIT_FRAGMENT_LOADED,xe,this),L.off(C.default.MEDIA_FRAGMENT_LOADED,Ge,this),L.off(C.default.WALLCLOCK_TIME_UPDATED,ni,this),L.off(S.default.PLAYBACK_PLAYING,wt,this),L.off(S.default.PLAYBACK_PROGRESS,un,this),L.off(S.default.PLAYBACK_TIME_UPDATED,un,this),L.off(S.default.PLAYBACK_RATE_CHANGED,vn,this),L.off(S.default.PLAYBACK_STALLED,fn,this),xn(It,Nt)},prepareForPlaybackSeek:function yt(){return Ie&&Mt(!1),we.abort()},prepareForReplacementTrackSwitch:function Dt(It){return new Promise(function(Nt,en){we.abort().then(function(){return Nn()}).then(function(){return Se.get().streaming.buffer.useChangeTypeForTrackSwitch?we.changeType(It):Promise.resolve()}).then(function(){return Tt()}).then(function(){Mt(!1),Nt()}).catch(function(An){en(An)})})},prepareForNonReplacementTrackSwitch:function ze(It){return new Promise(function(Nt,en){Nn().then(function(){return Se.get().streaming.buffer.useChangeTypeForTrackSwitch?we.changeType(It):Promise.resolve()}).then(function(){Nt()}).catch(function(An){en(An)})})},prepareForReplacementQualitySwitch:function fe(){return new Promise(function(It,Nt){we.abort().then(function(){return Nn()}).then(function(){return Tt()}).then(function(){Mt(!1),It()}).catch(function(en){Nt(en)})})},updateAppendWindow:Nn,getAllRangesWithSafetyFactor:Kt,getContinuousBufferTimeForTargetTime:qe,clearBuffers:on,pruneAllSafely:Tt,updateBufferTimestampOffset:In,setSeekTarget:function Qt(It){ie=It},segmentRequestingCompleted:function $n(It){isNaN(It)||(he=It,st())}},function ye(){ge=Object(i.default)(T).getInstance().getLogger(ce),Re=Object(c.default)(T).getInstance(),xn()}(),ce}D.__dashjs_factory_name=O,p.default=m.default.getClassFactory(D)},"./src/streaming/controllers/CatchupController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/CatchupController.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),_=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),P=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),C=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),m=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),i=e(
/*! ../../core/Utils */
"./src/core/Utils.js");function c(){var g,S,x,A,N,O,D,I,T,L,d=this.context,f=Object(b.default)(d).getInstance();function Y(){S=!1;var Ve=i.default.parseUserAgent();x=Ve&&Ve.browser&&Ve.browser.name&&"safari"===Ve.browser.name.toLowerCase()}function le(){S=!1}function G(Ve){if(Ve.streamId===O.getActiveStreamInfo().id&&T){var ft=D.getLiveDelay();D.getBufferLevel()>ft/2&&(T=!1)}}function Se(Ve){Ve.streamId===O.getActiveStreamInfo().id&&(T=Ve.state===m.default.BUFFER_EMPTY)}function ce(){I.getCatchupModeEnabled()||A.setPlaybackRate(1)}function ge(){D.getIsDynamic()&&I.getCatchupModeEnabled()&&(I.getCatchupPlaybackRates().max>0||I.getCatchupPlaybackRates().min<0)&&!D.isPaused()&&!D.isSeeking()&&function pe(){try{return!(!D.getTime()>0||S)&&(Ae()===_.default.LIVE_CATCHUP_MODE_LOLP?function he(Ve,ft){try{return Math.abs(Ce())>0||Ve<ft}catch{return!1}}(D.getBufferLevel(),N.get().streaming.liveCatchup.playbackBufferMin):function ke(){try{return Math.abs(Ce())>0}catch{return!1}}())}catch{return!1}}()&&function Ie(){if(!S&&A){var Ve,ft=A.getPlaybackRate(),Ze=I.getCatchupPlaybackRates(),Re=D.getBufferLevel(),be=Ce(),Q=I.getCatchupMaxDrift();if(!isNaN(Q)&&Q>0&&be>Q)L.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),S=!0,D.seekToCurrentLive(!0,!1);else{var ie=D.getCurrentLiveLatency(),ye=D.getLiveDelay();Ve=Ae()===_.default.LIVE_CATCHUP_MODE_LOLP?function Te(Ve,ft,Ze,Re,be){var Q;if(be<Re){var ie=Math.abs(Ve.min),ee=2*ie/(1+Math.pow(Math.E,-5*(be-Re)));L.debug("[LoL+ playback control_buffer-based] bufferLevel: "+be+", newRate: "+(Q=1-ie+ee))}else{var X=Ve.max,$=.02;Q=Math.abs(ft-Ze)<=$*Ze?1:1-X+2*X/(1+Math.pow(Math.E,-5*(ft-Ze))),L.debug("[LoL+ playback control_latency-based] latency: "+ft+", newRate: "+Q)}return Q}(Ze,ie,ye,N.get().streaming.liveCatchup.playbackBufferMin,Re):function we(Ve,ft,Ze,Re){if(T)return 1;var be=ft-Ze,Q=be<0?Math.abs(Ve.min):Ve.max,oe=1-Q+2*Q/(1+Math.pow(Math.E,-5*be));return D.getPlaybackStalled()&&Re<=Ze/2&&be>0&&(oe=1),oe}(Ze,ie,ye,Re);var ee=x?.25:.02/(.5/Ze.max);Ve&&Math.abs(ft-Ve)>=ee&&(L.debug("[CatchupController]: Setting playback rate to ".concat(Ve)),A.setPlaybackRate(Ve))}}}()}function Ce(){return D.getCurrentLiveLatency()-D.getLiveDelay()}function Ae(){var Ve=N.get().streaming.liveCatchup.playbackBufferMin;return N.get().streaming.liveCatchup.mode!==_.default.LIVE_CATCHUP_MODE_LOLP||null===Ve||isNaN(Ve)?_.default.LIVE_CATCHUP_MODE_DEFAULT:_.default.LIVE_CATCHUP_MODE_LOLP}function Oe(){I.getCatchupPlaybackRates(!0)}return g={reset:function Fe(){(function ne(){f.off(P.default.BUFFER_LEVEL_UPDATED,G,g),f.off(P.default.BUFFER_LEVEL_STATE_CHANGED,Se,g),f.off(P.default.PLAYBACK_PROGRESS,ge,g),f.off(P.default.PLAYBACK_TIME_UPDATED,ge,g),f.off(P.default.PLAYBACK_SEEKED,ge,g),f.off(C.default.SETTING_UPDATED_CATCHUP_ENABLED,ce,g),f.off(C.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,Oe,g),f.off(C.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,Oe,g),f.off(P.default.STREAM_INITIALIZED,Oe,g)})(),Y(),A.setPlaybackRate(1,!0)},setConfig:function B(Ve){Ve&&(Ve.settings&&(N=Ve.settings),Ve.videoModel&&(A=Ve.videoModel),Ve.streamController&&(O=Ve.streamController),Ve.playbackController&&(D=Ve.playbackController),Ve.mediaPlayerModel&&(I=Ve.mediaPlayerModel))},initialize:function y(){(function z(){f.on(P.default.BUFFER_LEVEL_UPDATED,G,g),f.on(P.default.BUFFER_LEVEL_STATE_CHANGED,Se,g),f.on(P.default.PLAYBACK_PROGRESS,ge,g),f.on(P.default.PLAYBACK_TIME_UPDATED,ge,g),f.on(P.default.PLAYBACK_SEEKED,le,g),f.on(C.default.SETTING_UPDATED_CATCHUP_ENABLED,ce,g),f.on(C.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,Oe,g),f.on(C.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,Oe,g),f.on(P.default.STREAM_INITIALIZED,Oe,g)})(),Oe()}},function ae(){L=Object(v.default)(d).getInstance().getLogger(g),Y()}(),g}c.__dashjs_factory_name="CatchupController",p.default=t.default.getSingletonFactory(c)},"./src/streaming/controllers/EventController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/EventController.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),_=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),P=e(
/*! ../net/XHRLoader */
"./src/streaming/net/XHRLoader.js");function C(){var A,N,O,D,I,T,L,y,B,z,ne,m="urn:mpeg:dash:event:2012",i=1,c="urn:mpeg:dash:event:callback:2015",d=1,f=300,g={DISCARDED:"discarded",UPDATED:"updated",ADDED:"added"},S=this.context,x=Object(b.default)(S).getInstance();function Fe(){if(!L||!y)throw new Error("setConfig function has to be called previously")}function Y(){ne=!1,O={},D={},I=null,z=!1,T=Date.now()/1e3}function le(){try{null!==I&&ne&&(clearInterval(I),I=null,ne=!1,function ke(){try{he(D),he(O)}catch(oe){N.error(oe)}}())}catch(oe){throw oe}}function Se(){try{if(!z){z=!0;var oe=y.getTime(),ee=oe-T;ee=T>0?Math.max(0,ee):0,ce(D,ee,oe),ce(O,ee,oe),ge(D),ge(O),T=oe,z=!1}}catch(X){z=!1,N.error(X)}}function ce(oe,ee,X){try{we(oe,function(J){if(void 0!==J){var q=isNaN(J.duration)?0:J.duration;J.calculatedPresentationTime<=X&&J.calculatedPresentationTime+ee+q>=X?Ve(J,_.default.EVENT_MODE_ON_START):(Te(X,q+ee,J.calculatedPresentationTime)||function Oe(oe){try{return oe.calculatedPresentationTime>oe.eventStream.period.start+oe.eventStream.period.duration}catch(X){return N.error(X),!1}}(J))&&(N.debug("Removing event ".concat(J.id," from period ").concat(J.eventStream.period.id," as it is expired or invalid")),function ft(oe,ee){try{var X=ee.eventStream.schemeIdUri,$=ee.eventStream.period.id,re=ee.eventStream.value,J=ee.id;oe[$][X]=oe[$][X].filter(function(q){return re&&q.eventStream.value&&q.eventStream.value!==re||q.id!==J}),0===oe[$][X].length&&delete oe[$][X]}catch(q){N.error(q)}}(oe,J))}})}catch(re){N.error(re)}}function ge(oe){try{for(var ee in oe)oe.hasOwnProperty(ee)&&0===Object.keys(oe[ee]).length&&delete oe[ee]}catch(X){N.error(X)}}function pe(oe,ee){var X=arguments.length>2&&void 0!==arguments[2]&&arguments[2],$=oe.eventStream.schemeIdUri,re=oe.eventStream.value,J=oe.id,q=g.DISCARDED;ee[$]||(ee[$]=[]);var _e=ee[$].findIndex(function(Ee){return(!re||Ee.eventStream.value&&Ee.eventStream.value===re)&&Ee.id===J});if(-1===_e)ee[$].push(oe),oe.triggeredReceivedEvent=!1,oe.triggeredStartEvent=!1,q=g.ADDED;else if(X){var xe=ee[$][_e];oe.triggeredReceivedEvent=xe.triggeredReceivedEvent,oe.triggeredStartEvent=xe.triggeredStartEvent,ee[$][_e]=oe,q=g.UPDATED}return q}function Ae(oe){try{oe.eventStream.value==i&&x.trigger(_.default.MANIFEST_VALIDITY_CHANGED,{id:oe.id,validUntil:oe.calculatedPresentationTime,newDuration:4294967295==oe.calculatedPresentationTime?NaN:oe.calculatedPresentationTime+oe.duration,newManifestValidAfter:NaN},{mode:_.default.EVENT_MODE_ON_START})}catch($){N.error($)}}function he(oe){try{var ee=y.getTime();we(oe,function(re){var J=re.eventStream&&re.eventStream.period&&!isNaN(re.eventStream.period.duration)?re.eventStream.period.duration:NaN,q=re.eventStream&&re.eventStream.period&&!isNaN(re.eventStream.period.start)?re.eventStream.period.start:NaN;isNaN(J)||isNaN(q)||Math.abs(re.calculatedPresentationTime-ee)<f&&Ve(re,_.default.EVENT_MODE_ON_START)})}catch($){N.error($)}}function we(oe,ee){try{if(oe)for(var X=Object.keys(oe),$=0;$<X.length;$++)for(var re=oe[X[$]],J=Object.keys(re),q=0;q<J.length;q++)re[J[q]].forEach(function(xe){void 0!==xe&&ee(xe)})}catch(xe){N.error(xe)}}function Te(oe,ee,X){try{return oe-ee>X}catch($){return N.error($),!1}}function Ve(oe,ee){try{var X=y.getTime(),$=oe.id;if(ee===_.default.EVENT_MODE_ON_RECEIVE&&!oe.triggeredReceivedEvent)return N.debug("Received event ".concat($)),oe.triggeredReceivedEvent=!0,void x.trigger(oe.eventStream.schemeIdUri,{event:oe},{mode:ee});oe.triggeredStartEvent||(oe.eventStream.schemeIdUri===m&&oe.eventStream.value==i?(0!==oe.duration||0!==oe.presentationTimeDelta)&&(N.debug("Starting manifest refresh event ".concat($," at ").concat(X)),function Ze(){try{Fe(),L.refreshManifest()}catch(oe){N.error(oe)}}()):oe.eventStream.schemeIdUri===c&&oe.eventStream.value==d?(N.debug("Starting callback event ".concat($," at ").concat(X)),function Re(oe){try{Object(P.default)(S).create({}).load({method:"get",url:oe,request:{responseType:"arraybuffer"}})}catch(X){N.error(X)}}(oe.messageData)):(N.debug("Starting event ".concat($," from period ").concat(oe.eventStream.period.id," at ").concat(X)),x.trigger(oe.eventStream.schemeIdUri,{event:oe},{mode:ee})),oe.triggeredStartEvent=!0)}catch(re){N.error(re)}}return A={addInlineEvents:function Ie(oe,ee){try{if(Fe(),O[ee]||(O[ee]={}),oe)for(var X=0;X<oe.length;X++){var $=oe[X];if(!Te(y.getTime(),isNaN($.duration)?0:$.duration,$.calculatedPresentationTime)){var q=pe($,O[ee],!0);q===g.ADDED?(N.debug("Added inline event with id ".concat($.id," from period ").concat(ee)),Ve($,_.default.EVENT_MODE_ON_RECEIVE)):q===g.UPDATED&&N.debug("Updated inline event with id ".concat($.id," from period ").concat(ee))}}}catch(_e){throw _e}},addInbandEvents:function Ce(oe,ee){try{Fe(),D[ee]||(D[ee]={});for(var X=0;X<oe.length;X++){var $=oe[X];Te(y.getTime(),isNaN($.duration)?0:$.duration,$.calculatedPresentationTime)||(pe($,D[ee],!1)===g.ADDED?($.eventStream.schemeIdUri===m&&Ae($),N.debug("Added inband event with id ".concat($.id," from period ").concat(ee)),Ve($,_.default.EVENT_MODE_ON_RECEIVE)):N.debug("Inband event with scheme_id_uri ".concat($.eventStream.schemeIdUri,", value ").concat($.eventStream.value,", period id ").concat(ee," and event id ").concat($.id," was ignored because it has been added before.")))}Se()}catch(_e){throw _e}},getInbandEvents:function ie(){return D},getInlineEvents:function Q(){return O},start:function G(){try{Fe(),N.debug("Start Event Controller");var oe=B.get().streaming.eventControllerRefreshDelay;!ne&&!isNaN(oe)&&(ne=!0,I=setInterval(Se,oe))}catch(ee){throw ee}},setConfig:function be(oe){try{if(!oe)return;oe.manifestUpdater&&(L=oe.manifestUpdater),oe.playbackController&&(y=oe.playbackController),oe.settings&&(B=oe.settings)}catch(ee){throw ee}},reset:function ye(){le(),Y()}},function ae(){N=Object(v.default)(S).getInstance().getLogger(A),Y()}(),A}C.__dashjs_factory_name="EventController",p.default=t.default.getSingletonFactory(C)},"./src/streaming/controllers/FragmentController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/FragmentController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../vo/DataChunk */
"./src/streaming/vo/DataChunk.js"),b=e(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),_=e(
/*! ../FragmentLoader */
"./src/streaming/FragmentLoader.js"),P=e(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),C=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),m=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),i=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),c=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),d=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),f=e(
/*! ../../core/Debug */
"./src/core/Debug.js");function g(S){S=S||{};var L,y,B,x=this.context,A=Object(C.default)(x).getInstance(),N=S.errHandler,O=S.mediaPlayerModel,D=S.dashMetrics,I=Object(f.default)(x).getInstance(),T=S.streamInfo;function ne(){return T.id}function Fe(){for(var Se in B)B[Se].reset();B={}}function G(Se){if(Se.sender){var ce=Se.request,ge=Se.response,Ie=ce.isInitializationRequest(),Ce=ce.mediaInfo.streamInfo;if(Se.error&&(ce.mediaType===t.default.AUDIO||ce.mediaType===t.default.VIDEO||ce.mediaType===t.default.TEXT&&ce.mediaInfo.isFragmented)&&A.trigger(m.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:Se.request.serviceLocation}),!ge||!Ce)return void y.warn("No "+ce.mediaType+" bytes to push or stream is inactive.");var pe=function le(Se,ce,ge,Ie){var Ce=new v.default;return Ce.streamId=ge,Ce.mediaInfo=ce.mediaInfo,Ce.segmentType=ce.type,Ce.start=ce.startTime,Ce.duration=ce.duration,Ce.end=Ce.start+Ce.duration,Ce.bytes=Se,Ce.index=ce.index,Ce.quality=ce.quality,Ce.representationId=ce.representationId,Ce.endFragment=Ie,Ce}(ge,ce,T.id,Se.type!==m.default.FRAGMENT_LOADING_PROGRESS);A.trigger(Ie?m.default.INIT_FRAGMENT_LOADED:m.default.MEDIA_FRAGMENT_LOADED,{chunk:pe,request:ce},{streamId:Ce.id,mediaType:ce.mediaType})}}return L={getStreamId:ne,getModel:function ae(Se){var ce=B[Se];return ce||(ce=Object(b.default)(x).create({streamInfo:T,type:Se,dashMetrics:D,fragmentLoader:Object(_.default)(x).create({dashMetrics:D,mediaPlayerModel:O,errHandler:N,requestModifier:Object(P.default)(x).getInstance(),settings:S.settings,boxParser:S.boxParser,eventBus:A,events:m.default,errors:c.default,dashConstants:S.dashConstants,urlUtils:S.urlUtils,streamId:ne()}),debug:I,eventBus:A,events:m.default}),B[Se]=ce),ce},reset:function Y(){A.off(i.default.FRAGMENT_LOADING_COMPLETED,G,this),A.off(i.default.FRAGMENT_LOADING_PROGRESS,G,this),Fe()}},function z(){y=I.getLogger(L),Fe(),A.on(i.default.FRAGMENT_LOADING_COMPLETED,G,L),A.on(i.default.FRAGMENT_LOADING_PROGRESS,G,L)}(),L}g.__dashjs_factory_name="FragmentController",p.default=d.default.getClassFactory(g)},"./src/streaming/controllers/GapController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/GapController.js ***!
                  \****************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),_=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),P=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function c(){var g,S,x,A,N,O,D,I,T,L,y,B,d=this.context,f=Object(_.default)(d).getInstance();function ae(){(function Te(){B.debug("Stopping the gap controller"),N&&(clearInterval(N),N=null)})(),function G(){f.off(b.default.WALLCLOCK_TIME_UPDATED,Ce,this),f.off(b.default.INITIAL_STREAM_SWITCH,Ie,this),f.off(b.default.PLAYBACK_SEEKING,Se,this),f.off(b.default.BUFFER_REPLACEMENT_STARTED,ce,g),f.off(b.default.TRACK_CHANGE_RENDERED,ge,g)}(),function Fe(){N=null,O=NaN,A=0,L=null,y={}}()}function Se(){L&&(clearTimeout(L),L=null)}function ce(Ve){try{if(Ve.streamId!==I.getActiveStreamInfo().id||Ve.mediaType!==P.default.VIDEO&&Ve.mediaType!==P.default.AUDIO)return;Ve.streamId===I.getActiveStreamInfo().id&&(y[Ve.mediaType]=!0)}catch(ft){B.error(ft)}}function ge(Ve){!Ve||!Ve.mediaType||(y[Ve.mediaType]=!1)}function Ie(){N||function we(){try{N||(B.debug("Starting the gap controller"),N=setInterval(function(){pe()&&Oe(D.getTime())},100))}catch{}}()}function Ce(){if(pe(x.get().streaming.gaps.enableSeekFix)&&++A>=10){var Ve=D.getTime();S===Ve?Oe(Ve,!0):(S=Ve,O=NaN),A=0}}function pe(){var Ve=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!I.getActiveStream())return!1;var ft=Object.keys(y).some(function(Re){return y[Re]}),Ze=!!Ve&&function Ae(){var Ve=I.getActiveStream(),ft=parseFloat((Ve.getStartTime()+Ve.getDuration()).toFixed(5));return D.getTime()+x.get().streaming.gaps.threshold>=ft}();return!ft&&x.get().streaming.gaps.jumpGaps&&I.getActiveStreamProcessors().length>0&&(!D.isSeeking()||Ze)&&!D.isPaused()&&!I.getIsStreamSwitchInProgress()&&!I.getHasMediaOrInitialisationError()}function Oe(Ve){var ye,ft=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Ze=x.get().streaming.gaps.enableStallFix,Re=x.get().streaming.gaps.stallSeek,be=x.get().streaming.gaps.smallGapLimit,Q=x.get().streaming.gaps.jumpLargeGaps,ie=T.getBufferRange(),oe=NaN,ee=!1;if(ye=function ke(Ve,ft){try{if(!Ve||Ve.length<=1&&ft>0)return NaN;for(var Ze=NaN,Re=0;isNaN(Ze)&&Re<Ve.length;){var be=Re>0?Ve.end(Re-1):0;ft<Ve.start(Re)&&be-ft<x.get().streaming.gaps.threshold&&(Ze=Re),Re+=1}return Ze}catch{return null}}(ie,Ve),!isNaN(ye)){var X=ie.start(ye),$=X-Ve;$>0&&($<=be||Q)&&(oe=X)}var re=D.getTimeToStreamEnd();if(isNaN(oe)&&ft&&isFinite(re)&&!isNaN(re)&&re<be&&(oe=parseFloat(D.getStreamEndTime().toFixed(5)),ee=!0),Ze&&isNaN(oe)&&ft&&isNaN(ye)&&function he(Ve,ft){for(var Ze=0,Re=Ve.length;Ze<Re;Ze++)if(ft>=Ve.start(Ze)&&ft<=Ve.end(Ze))return!0;return!1}(ie,Ve)&&(0===Re?(B.warn("Toggle play pause to break stall"),T.pause(),T.play()):(B.warn("Jumping ".concat(Re,"s to break stall")),oe=Ve+Re)),oe>0&&O!==oe&&oe>Ve&&!L){var J=oe-Ve;if(ee){var q=I.getStreamForTime(oe),_e=q&&!!q.getPreloaded();B.warn("Jumping to end of stream because of gap from ".concat(Ve," to ").concat(oe,". Gap duration: ").concat(J)),D.seek(oe,!0,_e)}else{var xe=D.getIsDynamic(),Ee=ye>0?ie.end(ye-1):Ve,Ge=xe?1e3*Math.max(0,J-.1):0;L=window.setTimeout(function(){D.seek(oe,!0,!0),B.warn("Jumping gap occuring in period ".concat(I.getActiveStream().getStreamId()," starting at ").concat(Ee," and ending at ").concat(oe,". Jumping by: ").concat(oe-Ee)),L=null},Ge)}O=oe}}return g={reset:ae,setConfig:function Y(Ve){Ve&&(Ve.settings&&(x=Ve.settings),Ve.playbackController&&(D=Ve.playbackController),Ve.streamController&&(I=Ve.streamController),Ve.videoModel&&(T=Ve.videoModel))},initialize:function z(){!function le(){f.on(b.default.WALLCLOCK_TIME_UPDATED,Ce,this),f.on(b.default.INITIAL_STREAM_SWITCH,Ie,this),f.on(b.default.PLAYBACK_SEEKING,Se,this),f.on(b.default.BUFFER_REPLACEMENT_STARTED,ce,g),f.on(b.default.TRACK_CHANGE_RENDERED,ge,g)}()}},function ne(){B=Object(v.default)(d).getInstance().getLogger(g),ae()}(),g}c.__dashjs_factory_name="GapController",p.default=t.default.getSingletonFactory(c)},"./src/streaming/controllers/MediaController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/MediaController.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),_=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),P=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),C=e(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),m=e.n(C),i=e(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js");function d(){var x,A,N,O,D,I,T,L,g=this.context,S=Object(b.default)(g).getInstance();function ne(q,_e){return q&&N[_e]&&N[_e][q]?N[_e][q].list:[]}function ae(q,_e){return q&&N[_e]&&N[_e][q]?N[_e][q].current:null}function Y(q){var _e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(q&&q.streamInfo){var xe=q.type,Ge=q.streamInfo.id,ct=ae(xe,Ge);if(N[Ge]&&N[Ge][xe]&&(N[Ge][xe].current=q,N[Ge][xe].current&&(xe!==t.default.TEXT&&!ge(q,ct)||xe===t.default.TEXT&&q.isFragmented)&&S.trigger(v.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:ct,newMediaInfo:q,switchMode:O.get().streaming.trackSwitchMode[xe]},{streamId:Ge}),!_e)){var Xe=function pe(q){var _e={lang:q.lang,viewpoint:q.viewpoint,roles:q.roles,accessibility:q.accessibility,audioChannelConfiguration:q.audioChannelConfiguration};return _e.lang||_e.viewpoint||_e.role&&_e.role.length>0||_e.accessibility&&_e.accessibility.length>0||_e.audioChannelConfiguration&&_e.audioChannelConfiguration.length>0?_e:null}(q);if(!Xe||!N[Ge][xe].storeLastSettings)return;Xe.roles&&(Xe.role=Xe.roles[0],delete Xe.roles),Xe.accessibility&&(Xe.accessibility=Xe.accessibility[0]),Xe.audioChannelConfiguration&&(Xe.audioChannelConfiguration=Xe.audioChannelConfiguration[0]),I[xe]=Xe,L.setSavedMediaSettings(xe,Xe)}}}function le(q,_e){!q||!_e||(D[q]=_e)}function G(q){return q?D[q]:null}function ge(q,_e){if(!q&&!_e)return!0;if(!q||!_e)return!1;var xe=q.id===_e.id,Ee=q.viewpoint===_e.viewpoint,Ge=q.lang===_e.lang,ct=q.codec===_e.codec,Xe=q.roles.toString()===_e.roles.toString(),tt=q.accessibility.toString()===_e.accessibility.toString(),gt=q.audioChannelConfiguration.toString()===_e.audioChannelConfiguration.toString();return xe&&ct&&Ee&&Ge&&Xe&&tt&&gt}function Ce(){N={},I={},function Ze(){D={audio:null,video:null,text:null}}()}function Ae(q,_e,xe){var Ee=[];return q.forEach(function(Ge){_e(xe,Ge)&&Ee.push(Ge)}),0!==Ee.length?Ee:q}function ke(q,_e){return!q.lang||q.lang instanceof RegExp?_e.lang.match(q.lang):""!==_e.lang&&Object(i.extendedFilter)(_e.lang,m()(q.lang)).length>0}function he(q,_e){return null==q.index||_e.index===q.index}function we(q,_e){return!q.viewpoint||q.viewpoint===_e.viewpoint}function Te(q,_e){var xe=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!q.role||!!_e.roles.filter(function(Ge){return Ge===q.role})[0]||_e.type===t.default.AUDIO&&xe}function Oe(q,_e){return q.accessibility?!!_e.accessibility.filter(function(Ee){return Ee===q.accessibility})[0]:!_e.accessibility.length}function Ve(q,_e){return!q.audioChannelConfiguration||!!_e.audioChannelConfiguration.filter(function(Ee){return Ee===q.audioChannelConfiguration})[0]}function be(q){var Ee,_e=0,xe=[];return q.forEach(function(Ge){(Ee=Math.max.apply(Math,Ge.bitrateList.map(function(ct){return ct.bandwidth})))>_e?(_e=Ee,xe=[Ge]):Ee===_e&&xe.push(Ge)}),xe}function Q(q){var Ee,_e=1/0,xe=[];return q.forEach(function(Ge){var ct=Ge.bitrateList.reduce(function(Xe,tt){var gt=Math.max(1,tt.width*tt.height);return Xe+tt.bandwidth/gt},0);(Ee=ct/Ge.bitrateList.length)<_e?(_e=Ee,xe=[Ge]):Ee===_e&&xe.push(Ge)}),xe}function ie(q){var Ee,_e=0,xe=[];return q.forEach(function(Ge){(Ee=Ge.representationCount)>_e?(_e=Ee,xe=[Ge]):Ee===_e&&xe.push(Ge)}),xe}function ye(q,_e){if(q===t.default.TEXT)return _e[0];var Ee,xe=O.get().streaming.selectionModeForInitialTrack,Ge=T.getCustomInitialTrackSelectionFunction();if(Ge&&"function"==typeof Ge)Ee=Ge(_e);else switch(xe){case t.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:Ee=function oe(q){var _e=function Re(q){var _e=0,xe=[];return q.forEach(function(Ee){isNaN(Ee.selectionPriority)||(Ee.selectionPriority>_e?(_e=Ee.selectionPriority,xe=[Ee]):Ee.selectionPriority===_e&&xe.push(Ee))}),xe}(q);return _e.length>1&&(_e=be(_e)),_e.length>1&&(_e=ie(_e)),_e}(_e);break;case t.default.TRACK_SELECTION_MODE_HIGHEST_BITRATE:Ee=function ee(q){var _e=be(q);return _e.length>1&&(_e=ie(_e)),_e}(_e);break;case t.default.TRACK_SELECTION_MODE_FIRST_TRACK:Ee=X(_e);break;case t.default.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:Ee=function $(q){var _e=Q(q);return _e.length>1&&(_e=be(_e)),_e}(_e);break;case t.default.TRACK_SELECTION_MODE_WIDEST_RANGE:Ee=function re(q){var _e=ie(q);return _e.length>1&&(_e=be(q)),_e}(_e);break;default:A.warn("Track selection mode ".concat(xe," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),Ee=X(_e)}return Ee.length>0?Ee[0]:_e[0]}function X(q){return q[0]}return x={setInitialMediaSettingsForType:function B(q,_e){var xe=I[q]||G(q),Ee=ne(q,_e.id),Ge=[];xe||le(q,xe=L.getSavedMediaSettings(q)),Ee&&0!==Ee.length&&(xe&&(Ge=Ae(Ge=Array.from(Ee),ke,xe),Ge=Ae(Ge,he,xe),Ge=Ae(Ge,we,xe),q===t.default.AUDIO&&I[q]||(Ge=Ae(Ge,Te,xe)),Ge=Ae(Ge,Oe,xe),Ge=Ae(Ge,Ve,xe)),0===Ge.length?Y(ye(q,Ee),!0):Y(Ge.length>1?ye(q,Ge):Ge[0]))},addTrack:function z(q){if(q){var _e=q.type;if(function ce(q){return q===t.default.AUDIO||q===t.default.VIDEO||q===t.default.TEXT||q===t.default.IMAGE}(_e)){var xe=q.streamInfo.id;N[xe]||(N[xe]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var Ee=N[xe][_e].list,Ge=0,ct=Ee.length;Ge<ct;++Ge)if(ge(Ee[Ge],q))return;Ee.push(q)}}},getTracksFor:ne,getCurrentTrackFor:ae,isCurrentTrack:function Fe(q){if(!q)return!1;var _e=q.type,xe=q.streamInfo.id;return N[xe]&&N[xe][_e]&&ge(N[xe][_e].current,q)},setTrack:Y,selectInitialTrack:ye,setInitialSettings:le,getInitialSettings:G,getTracksWithHighestBitrate:be,getTracksWithHighestEfficiency:Q,getTracksWithWidestRange:ie,isTracksEqual:ge,matchSettings:function ft(q,_e){var xe=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var Ee=!1;if(q.lang){if(q.lang instanceof RegExp)Ee=_e.lang.match(q.lang);else if(""!==_e.lang){var Ge=m()(q.lang);Ge&&(Ee=Object(i.extendedFilter)(_e.lang,Ge).length>0)}}else Ee=!0;var ct=null==q.index||_e.index===q.index,Xe=!q.viewpoint||q.viewpoint===_e.viewpoint,tt=!q.role||!!_e.roles.filter(function(yt){return yt===q.role})[0],gt=!q.accessibility||!!_e.accessibility.filter(function(yt){return yt===q.accessibility})[0],Qe=!q.audioChannelConfiguration||!!_e.audioChannelConfiguration.filter(function(yt){return yt===q.audioChannelConfiguration})[0];return Ee&&ct&&Xe&&(tt||_e.type===t.default.AUDIO&&xe)&&gt&&Qe}catch(yt){return!1}},matchSettingsLang:ke,matchSettingsIndex:he,matchSettingsViewPoint:we,matchSettingsRole:Te,matchSettingsAccessibility:Oe,matchSettingsAudioChannelConfig:Ve,saveTextSettingsDisabled:function Se(){L.setSavedMediaSettings(t.default.TEXT,null)},setConfig:function Ie(q){q&&(q.domStorage&&(L=q.domStorage),q.settings&&(O=q.settings),q.customParametersModel&&(T=q.customParametersModel))},reset:Ce},function y(){A=Object(P.default)(g).getInstance().getLogger(x),Ce()}(),x}d.__dashjs_factory_name="MediaController";var f=_.default.getSingletonFactory(d);_.default.updateSingletonFactory(d.__dashjs_factory_name,f),p.default=f},"./src/streaming/controllers/MediaSourceController.js":
/*!************************************************************!*\
                  !*** ./src/streaming/controllers/MediaSourceController.js ***!
                  \************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js");function b(){var _,P,C,m=this.context;return _={createMediaSource:function c(){var N="WebKitMediaSource"in window;return"MediaSource"in window?P=new MediaSource:N&&(P=new WebKitMediaSource),P},attachMediaSource:function d(N){var O=window.URL.createObjectURL(P);return N.setSource(O),O},detachMediaSource:function f(N){N.setSource(null)},setDuration:function g(N){!P||"open"!==P.readyState||null===N&&isNaN(N)||P.duration!==N&&(function A(N){for(var O=N.sourceBuffers,D=0;D<O.length;D++)if(O[D].updating)return!0;return!1}(P)?setTimeout(g.bind(null,N),50):(C.info("Set MediaSource duration:"+N),P.duration=N))},setSeekable:function S(N,O){P&&"function"==typeof P.setLiveSeekableRange&&"function"==typeof P.clearLiveSeekableRange&&"open"===P.readyState&&N>=0&&N<O&&(P.clearLiveSeekableRange(),P.setLiveSeekableRange(N,O))},signalEndOfStream:function x(N){if(N&&"open"===N.readyState){for(var O=N.sourceBuffers,D=0;D<O.length;D++)if(O[D].updating||0===O[D].buffered.length)return;C.info("call to mediaSource endOfStream"),N.endOfStream()}}},function i(){C=Object(v.default)(m).getInstance().getLogger(_)}(),_}b.__dashjs_factory_name="MediaSourceController",p.default=t.default.getSingletonFactory(b)},"./src/streaming/controllers/PlaybackController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/PlaybackController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),_=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),P=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),C=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),m=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function c(){var g,S,x,A,N,O,D,I,T,L,y,B,z,ne,ae,Fe,le,G,Se,ce,ge,Ie,Ce,d=this.context,f=Object(v.default)(d).getInstance();function Ae(){ft(),ne=!1,L=0,y=0,Fe=0,ge=!1,le=!1,Ie=!1,G=NaN,D&&(f.off(b.default.DATA_UPDATE_COMPLETED,ze,g),f.off(b.default.LOADING_PROGRESS,$n,g),f.off(b.default.MANIFEST_UPDATED,pn,g),f.off(b.default.STREAMS_COMPOSED,_n,g),f.off(C.default.PLAYBACK_ENDED,on,g),f.off(C.default.STREAM_INITIALIZING,vn,g),f.off(C.default.REPRESENTATION_SWITCH,gn,g),f.off(C.default.BUFFER_LEVEL_STATE_CHANGED,Jt,g),fe(),function Tn(){D.removeEventListener("canplay",Tt),D.removeEventListener("canplaythrough",Kt),D.removeEventListener("play",qt),D.removeEventListener("waiting",un),D.removeEventListener("playing",fn),D.removeEventListener("pause",wt),D.removeEventListener("error",En),D.removeEventListener("seeking",vt),D.removeEventListener("seeked",it),D.removeEventListener("timeupdate",He),D.removeEventListener("progress",Ye),D.removeEventListener("ratechange",st),D.removeEventListener("loadedmetadata",at),D.removeEventListener("loadeddata",St),D.removeEventListener("stalled",ni),D.removeEventListener("ended",bt),D.removeEventListener("volumechange",At)}()),T=null,D=null,B=null,z=null}function Te(){return parseFloat((Oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-ye()).toFixed(5))}function Oe(qe){var Ct=qe||B;return Ct.start+Ct.duration}function Ve(){var qe=arguments.length>0&&void 0!==arguments[0]&&arguments[0];B&&D&&D.getElement()?(qe&&z&&ie(ye()),D.play()):ne=!0}function ft(){B&&D&&D.pause()}function Ze(qe){var Ct=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Qt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Rt=arguments.length>3&&void 0!==arguments[3]&&arguments[3];B&&D&&qe!==(isNaN(G)?D.getTime():G)&&((Se=!0===Qt)||(G=qe),S.info("Requesting seek to time: "+qe+(Se?" (internal)":"")),z&&Rt&&ie(qe),D.setCurrentTime(qe,Ct))}function Q(){if(B&&D&&z){var qe=x&&x.hasVideoTrack()?t.default.VIDEO:t.default.AUDIO,Ct=N.getCurrentDVRInfo(qe);return Ct&&Ct.range?Ct.range.end:0}}function ie(qe){var Ct=new Date(I.getClientReferenceTime()),Qt=O.getRegularPeriods()[0],Rt=I.calcPresentationTimeFromWallTime(Ct,Qt);L=Rt-qe}function ye(){return B&&D?D.getTime():null}function oe(){return B&&D?D.isPaused():null}function ee(){return B&&D?D.isSeeking():null}function X(){return B&&D?D.isStalled():null}function $(){return B&&D?D.getPlaybackRate():null}function J(){return B&&D?D.getEnded():null}function q(){return z}function Qe(){var qe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!oe()&&z&&0!==D.getReadyState()&&!ee()&&!ge){qe||(qe=x.hasVideoTrack()?t.default.VIDEO:t.default.AUDIO);var Ct=ye(),Qt=function yt(qe,Ct){var Qt=N.getCurrentDVRInfo(Ct),Rt=Qt?Qt.range:null;return Rt?qe>Rt.end?Math.max(Rt.end-L,Rt.start):qe>0&&qe+.25<Rt.start&&Math.abs(qe-Rt.start)<31536e4?le?Math.max(Rt.end-L,Rt.start):Rt.start:qe:NaN}(Ct,qe);!isNaN(Qt)&&Qt!==Ct&&!ee()&&(X()||ce||1===D.getReadyState())&&(S.debug("UpdateCurrentTime: Seek to actual time: ".concat(Qt," from currentTime: ").concat(Ct)),Ze(Qt,!1,!1))}}function Dt(){null===T&&(T=setInterval(function(){!function tn(){f.trigger(b.default.WALLCLOCK_TIME_UPDATED,{isDynamic:z,time:new Date}),q()&&(x.addDVRMetric(),oe()?function Mn(){var qe=Date.now();(!ae||qe>ae+500)&&(ae=qe,He())}():Qe())}()},Ce.get().streaming.wallclockTimeUpdateInterval))}function fe(){clearInterval(T),T=null}function ze(qe){var Ct=O.convertRepresentationToRepresentationInfo(qe.currentRepresentation),Qt=Ct?Ct.mediaInfo.streamInfo:null;null===Qt||B.id!==Qt.id||(B=Qt)}function Tt(){f.trigger(b.default.CAN_PLAY)}function Kt(){f.trigger(b.default.CAN_PLAY_THROUGH)}function Jt(qe){qe.streamId===x.getActiveStreamInfo().id&&(ce=qe.state===m.default.BUFFER_EMPTY,Ce.get().streaming.buffer.setStallState&&D.setStallState(qe.mediaType,qe.state===m.default.BUFFER_EMPTY))}function qt(){S.info("Native video element event: play"),Qe(),Dt(),f.trigger(b.default.PLAYBACK_STARTED,{startTime:ye()})}function un(){S.info("Native video element event: waiting"),f.trigger(b.default.PLAYBACK_WAITING,{playingTime:ye()})}function fn(){S.info("Native video element event: playing"),Se=!1,f.trigger(b.default.PLAYBACK_PLAYING,{playingTime:ye()})}function wt(){S.info("Native video element event: pause"),f.trigger(b.default.PLAYBACK_PAUSED,{ended:J()})}function vt(){if(!Se){var qe=ye();!isNaN(G)&&G!==qe&&(qe=G),G=NaN,S.info("Seeking to: "+qe),Dt(),f.trigger(b.default.PLAYBACK_SEEKING,{seekTime:qe,streamId:B.id})}}function it(){S.info("Native video element event: seeked"),Se=!1,f.trigger(b.default.PLAYBACK_SEEKED)}function He(){B&&f.trigger(b.default.PLAYBACK_TIME_UPDATED,{timeToEnd:Te(),time:ye(),streamId:B.id})}function Ye(){f.trigger(b.default.PLAYBACK_PROGRESS,{streamId:B.id})}function st(){var qe=$();S.info("Native video element event: ratechange: ",qe),f.trigger(b.default.PLAYBACK_RATE_CHANGED,{playbackRate:qe})}function at(){S.info("Native video element event: loadedmetadata"),f.trigger(b.default.PLAYBACK_METADATA_LOADED),Dt()}function St(){S.info("Native video element event: loadeddata"),f.trigger(b.default.PLAYBACK_LOADED_DATA)}function bt(){S.info("Native video element event: ended"),ft(),fe();var qe=x?x.getActiveStreamInfo():null;qe&&f.trigger(b.default.PLAYBACK_ENDED,{isLast:qe.isLast})}function At(){f.trigger(b.default.PLAYBACK_VOLUME_CHANGED)}function on(qe){if(T&&qe.isLast){S.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var Ct=qe.seekTime?qe.seekTime:Oe();D.setCurrentTime(Ct),ft(),fe()}}function En(qe){f.trigger(b.default.PLAYBACK_ERROR,{error:(qe.target||qe.srcElement).error})}function $n(qe){if(!1===qe.stream&&le&&!isNaN(qe.request.duration)){var Ct=1.2*qe.request.duration;Ct>L&&(S.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",Ct.toFixed(2)),L=Ct,y=Ct)}}function ni(qe){f.trigger(b.default.PLAYBACK_STALLED,{e:qe})}function vn(qe){!function Mt(qe){qe&&qe.supplementalProperties&&"true"===qe.supplementalProperties[t.default.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(S.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),le=!0)}(qe.mediaInfo)}function gn(qe){var Ct=x.getActiveStreamInfo();!qe||!Ct||!qe.currentRepresentation||!qe.streamId||qe.streamId!==Ct.id||!qe.mediaType||qe.mediaType!==t.default.VIDEO&&qe.mediaType!==t.default.AUDIO||(le=!qe.currentRepresentation.availabilityTimeComplete)&&!Ie&&(Ie=!0)}function pn(){ge=!0}function _n(){ge=!1}return g={initialize:function ke(qe,Ct){B=qe,!0!==Ct&&function he(){(function ht(){D.addEventListener("canplay",Tt),D.addEventListener("canplaythrough",Kt),D.addEventListener("play",qt),D.addEventListener("waiting",un),D.addEventListener("playing",fn),D.addEventListener("pause",wt),D.addEventListener("error",En),D.addEventListener("seeking",vt),D.addEventListener("seeked",it),D.addEventListener("timeupdate",He),D.addEventListener("progress",Ye),D.addEventListener("ratechange",st),D.addEventListener("loadedmetadata",at),D.addEventListener("loadeddata",St),D.addEventListener("stalled",ni),D.addEventListener("ended",bt),D.addEventListener("volumechange",At)})(),z=B.manifestInfo.isDynamic,ce=!1,Se=!1,f.on(b.default.DATA_UPDATE_COMPLETED,ze,g),f.on(b.default.LOADING_PROGRESS,$n,g),f.on(b.default.MANIFEST_UPDATED,pn,g),f.on(b.default.STREAMS_COMPOSED,_n,g),f.on(C.default.PLAYBACK_ENDED,on,g,{priority:v.default.EVENT_PRIORITY_HIGH}),f.on(C.default.STREAM_INITIALIZING,vn,g),f.on(C.default.REPRESENTATION_SWITCH,gn,g),f.on(C.default.BUFFER_LEVEL_STATE_CHANGED,Jt,g),ne&&(ne=!1,Ve())}()},setConfig:function gt(qe){qe&&(qe.streamController&&(x=qe.streamController),qe.serviceDescriptionController&&(A=qe.serviceDescriptionController),qe.dashMetrics&&(N=qe.dashMetrics),qe.adapter&&(O=qe.adapter),qe.videoModel&&(D=qe.videoModel),qe.timelineConverter&&(I=qe.timelineConverter),qe.settings&&(Ce=qe.settings))},getTimeToStreamEnd:Te,getBufferLevel:function In(){var qe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,Ct=null;return x.getActiveStreamProcessors().forEach(function(Qt){if(!qe||0===qe.length||-1===qe.indexOf(Qt.getType())){var Rt=Qt.getBufferLevel();Ct=null===Ct?Rt:Math.min(Ct,Rt)}}),Ct},getPlaybackStalled:function we(){return ce},getTime:ye,getLowLatencyModeEnabled:function Nn(){return le},getInitialCatchupModeActivated:function yn(){return Ie},getIsManifestUpdateInProgress:function xe(){return ge},getPlaybackRate:$,getPlayedRanges:function re(){return B&&D?D.getPlayedRanges():null},getEnded:J,getIsDynamic:q,getStreamController:function _e(){return x},computeAndSetLiveDelay:function tt(qe,Ct){var Qt,Rt,xn,Nt=!isNaN(qe)&&isFinite(qe)?qe:NaN,en=O.getSuggestedPresentationDelay(),An=A.getServiceDescriptionSettings();return Qt=isNaN(Ce.get().streaming.delay.liveDelay)?null===Ce.get().streaming.delay.liveDelayFragmentCount||isNaN(Ce.get().streaming.delay.liveDelayFragmentCount)||isNaN(Nt)?An&&!isNaN(An.liveDelay)&&An.liveDelay>0?An.liveDelay:!0===Ce.get().streaming.delay.useSuggestedPresentationDelay&&null!==en&&!isNaN(en)&&en>0?en:isNaN(Nt)?Ct&&!isNaN(Ct.minBufferTime)?4*Ct.minBufferTime:4*B.manifestInfo.minBufferTime:4*Nt:Nt*Ce.get().streaming.delay.liveDelayFragmentCount:Ce.get().streaming.delay.liveDelay,null!==(xn=O.getAvailabilityStartTime())&&(Fe=xn),Rt=Ct&&Ct.dvrWindowSize>0?Math.min(Qt,Ct.dvrWindowSize):Qt,L=Rt,y=Rt,Rt},getLiveDelay:function Ge(){return L},getOriginalLiveDelay:function ct(){return y},getCurrentLiveLatency:function Xe(){if(!z||isNaN(Fe))return NaN;var qe=ye();if(isNaN(qe)||0===qe)return 0;var Ct=(new Date).getTime()+1e3*I.getClientTimeOffset();return Math.max(((Ct-Fe-1e3*qe)/1e3).toFixed(3),0)},play:Ve,isPaused:oe,isStalled:X,pause:ft,isSeeking:ee,getStreamEndTime:Oe,seek:Ze,seekToOriginalLive:function Re(){var qe=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Ct=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Qt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Rt=Q();0!==Rt&&Ze(Rt-(L=y),qe,Ct,Qt)},seekToCurrentLive:function be(){var qe=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Ct=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Qt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Rt=Q();0!==Rt&&Ze(Rt-L,qe,Ct,Qt)},reset:Ae,updateCurrentTime:Qe,getAvailabilityStartTime:function Ee(){return Fe}},function pe(){S=Object(P.default)(d).getInstance().getLogger(g),Ae()}(),g}c.__dashjs_factory_name="PlaybackController",p.default=_.default.getSingletonFactory(c)},"./src/streaming/controllers/ScheduleController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/ScheduleController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),b=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),_=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),P=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),m=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),i=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function c(d){d=d||{};var y,B,z,ne,ae,Fe,Y,le,G,Se,ce,ge,Ie,f=this.context,g=Object(b.default)(f).getInstance(),S=d.dashMetrics,x=d.mediaPlayerModel,A=d.fragmentModel,N=d.abrController,O=d.playbackController,D=d.textController,I=d.type,T=d.bufferController,L=d.settings;function we(yt){if(!T.getIsBufferingCompleted()){Te();var Dt=isNaN(yt)?0:yt;Fe=setTimeout(Ve,Dt)}}function Te(){Fe&&(clearTimeout(Fe),Fe=null)}function Ve(){try{if(function Ze(){try{return I===t.default.TEXT&&!D.isTextEnabled()||O.isPaused()&&(!O.getStreamController().getInitialPlayback()||!O.getStreamController().getAutoPlay())&&!L.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void Te();if(function Re(){try{return ne&&(isNaN(Se)||ce||function Oe(){var Dt=N.getMaxAllowedIndexFor(I,B.id);return!(!isNaN(G)&&G==Dt||(z.info("Top quality "+I+" index has changed from "+G+" to "+Dt),G=Dt,0))}()||function be(){return!I||!ne||S.getCurrentBufferLevel(I)<Q()}())}catch{return!1}}()){var yt=!1;Ie&&(yt=N.checkPlaybackQuality(I,B.id)),yt||function ft(){ge||ne.quality!==Se||ce?(ce?(z.debug("Switch track for "+I+", representation id = "+ne.id),ce=!1):z.debug("Quality has changed, get init request for representationid = "+ne.id),g.trigger(_.default.INIT_FRAGMENT_NEEDED,{representationId:ne.id,sender:y},{streamId:B.id,mediaType:I}),Ie=!1,ge=!1):(z.debug("Media segment needed for ".concat(I," and stream id ").concat(B.id)),g.trigger(_.default.MEDIA_FRAGMENT_NEEDED,{},{streamId:B.id,mediaType:I}),Ie=!0)}()}else we(O.getLowLatencyModeEnabled()?L.get().streaming.scheduling.lowLatencyTimeout:L.get().streaming.scheduling.defaultTimeout)}catch{we(O.getLowLatencyModeEnabled()?L.get().streaming.scheduling.lowLatencyTimeout:L.get().streaming.scheduling.defaultTimeout)}}function Q(){var yt=NaN;return!I||!ne||(yt=I===t.default.TEXT?function ie(){try{if(D.isTextEnabled()){if(isNaN(ne.fragmentDuration)){var yt=S.getCurrentSchedulingInfo(m.default.SCHEDULING_INFO);return yt?yt.duration:0}return ne.fragmentDuration}return 0}catch{return 0}}():I===t.default.AUDIO&&Y?function ye(){try{var yt=S.getCurrentBufferLevel(t.default.VIDEO);return isNaN(ne.fragmentDuration)?yt+1:Math.max(yt+1,ne.fragmentDuration)}catch{return 0}}():function oe(){try{var yt=ne.mediaInfo.streamInfo;return N.isPlayingAtTopQuality(yt)?yt.manifestInfo.duration>=L.get().streaming.buffer.longFormContentDurationThreshold?L.get().streaming.buffer.bufferTimeAtTopQualityLongForm:L.get().streaming.buffer.bufferTimeAtTopQuality:x.getStableBufferTime()}catch{return x.getStableBufferTime()}}()),yt}function $(){re(!0)}function re(yt){if(O&&A){var Dt=A.getRequests({state:v.default.FRAGMENT_MODEL_EXECUTED,time:O.getTime(),threshold:0})[0];Dt&&O.getTime()>=Dt.startTime&&((!le.mediaInfo||Dt.mediaInfo.type===le.mediaInfo.type&&Dt.mediaInfo.id!==le.mediaInfo.id)&&yt&&g.trigger(_.default.TRACK_CHANGE_RENDERED,{mediaType:I,oldMediaInfo:le.mediaInfo,newMediaInfo:Dt.mediaInfo,streamId:B.id}),(Dt.quality!==le.quality||Dt.adaptationIndex!==le.adaptationIndex)&&yt&&(z.debug("Quality change rendered for streamId ".concat(B.id," and type ").concat(I)),g.trigger(_.default.QUALITY_CHANGE_RENDERED,{mediaType:I,oldQuality:le.quality,newQuality:Dt.quality,streamId:B.id})),le={mediaInfo:Dt.mediaInfo,quality:Dt.quality,adaptationIndex:Dt.adaptationIndex})}}function J(yt){z.debug("Appended bytes for ".concat(yt.mediaType," and stream id ").concat(B.id)),(isNaN(yt.index)||isNaN(Se))&&(Se=yt.quality,z.info("["+I+"] lastInitializedRepresentationInfo changed to "+yt.quality)),we(0)}function q(){A.abortRequests(),Te()}function _e(){L.get().streaming.scheduling.scheduleWhilePaused||we()}function xe(yt){S.updatePlayListTraceMetrics({playbackspeed:yt.playbackRate.toString()})}function tt(){Ie=!0,ae=0,Se=NaN,le={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},G=NaN,ce=!1,ge=!1}return y={initialize:function pe(yt){Y=yt,g.on(_.default.BYTES_APPENDED_END_FRAGMENT,J,y),g.on(_.default.URL_RESOLUTION_FAILED,q,y),g.on(i.default.PLAYBACK_STARTED,_e,y),g.on(i.default.PLAYBACK_RATE_CHANGED,xe,y),g.on(i.default.PLAYBACK_TIME_UPDATED,$,y)},getType:function Ae(){return I},getStreamId:function ke(){return B.id},setCurrentRepresentation:function he(yt){ne=yt},setTimeToLoadDelay:function Ee(yt){ae=yt},getTimeToLoadDelay:function Ge(){return ae},setSwitchTrack:function ee(yt){ce=yt},getSwitchStrack:function X(){return ce},startScheduleTimer:we,clearScheduleTimer:Te,reset:function gt(){g.off(_.default.BYTES_APPENDED_END_FRAGMENT,J,y),g.off(_.default.URL_RESOLUTION_FAILED,q,y),g.off(i.default.PLAYBACK_STARTED,_e,y),g.off(i.default.PLAYBACK_RATE_CHANGED,xe,y),g.off(i.default.PLAYBACK_TIME_UPDATED,$,y),Te(),re(!1),tt(),B=null},getBufferTarget:Q,getPlaybackController:function Qe(){return O},setCheckPlaybackQuality:function ct(yt){Ie=yt},setInitSegmentRequired:function Xe(yt){ge=yt}},function Ce(){z=Object(C.default)(f).getInstance().getLogger(y),tt(),B=d.streamInfo}(),y}c.__dashjs_factory_name="ScheduleController",p.default=P.default.getClassFactory(c)},"./src/streaming/controllers/StreamController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/StreamController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),b=e(
/*! ../Stream */
"./src/streaming/Stream.js"),_=e(
/*! ../ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),P=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),C=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),m=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),i=e(
/*! ../vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),c=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),d=e(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),f=e(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),g=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),S=e(
/*! ./TimeSyncController */
"./src/streaming/controllers/TimeSyncController.js"),x=e(
/*! ./MediaSourceController */
"./src/streaming/controllers/MediaSourceController.js"),A=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),N=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),O=e(
/*! ./EventController */
"./src/streaming/controllers/EventController.js"),D=e(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function I(Y){return function B(Y){if(Array.isArray(Y))return z(Y)}(Y)||function y(Y){if(typeof Symbol<"u"&&null!=Y[Symbol.iterator]||null!=Y["@@iterator"])return Array.from(Y)}(Y)||function L(Y,le){if(Y){if("string"==typeof Y)return z(Y,le);var G=Object.prototype.toString.call(Y).slice(8,-1);if("Object"===G&&Y.constructor&&(G=Y.constructor.name),"Map"===G||"Set"===G)return Array.from(Y);if("Arguments"===G||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return z(Y,le)}}(Y)||function T(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(Y,le){(null==le||le>Y.length)&&(le=Y.length);for(var G=0,Se=new Array(le);G<le;G++)Se[G]=Y[G];return Se}function Fe(){var G,Se,ce,ge,Ie,Ce,pe,Ae,ke,he,we,Te,Oe,Ve,ft,Ze,Re,be,Q,ie,ye,oe,ee,X,$,re,J,q,_e,xe,Ee,Ge,ct,Xe,tt,gt,Qe,yt,Dt,fe,ze,Tt,Kt,Jt,qt,un,fn,wt,vt,Y=this.context,le=Object(P.default)(Y).getInstance();function at(){if(!(Ce&&Ce.hasOwnProperty("load")&&oe&&oe.hasOwnProperty("initialize")&&oe.hasOwnProperty("reset")&&oe.hasOwnProperty("getClientTimeOffset")&&pe&&ye&&ke&&Xe))throw new Error(t.default.MISSING_CONFIG_ERROR)}function on(){!function tn(){try{var Dn=Ae.getStreamsInfo();if(!X&&0===Dn.length)throw new Error("There are no periods in the MPD");X&&Dn.length>0&&ke.updateManifestUpdateInfo({currentTime:Xe.getTime(),buffered:ct.getBufferRange(),presentationStartTime:Dn[0].start,clientTimeOffset:oe.getClientTimeOffset()}),ee.length>0&&function Wo(Dn){0!==Dn.length?ee=ee.filter(function(qn){var ci=Dn.filter(function(Ui){return Ui.id===qn.getId()}).length>0||qn.getId()===X.getId();return ci||(Se.debug("Removing stream ".concat(qn.getId())),qn.reset(!0)),ci}):Se.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(Dn);for(var qn=[],hi=0,ci=Dn.length;hi<ci;hi++){var Ui=Dn[hi];qn.push(Mn(Ui)),ke.addManifestUpdateStreamInfo(Ui)}Promise.all(qn).then(function(){return qt.get().streaming.applyContentSteering&&!X&&Te.shouldQueryBeforeStart()?Te.loadSteeringData():Promise.resolve()}).then(function(){X||In(Dn),le.trigger(C.default.STREAMS_COMPOSED),An()}).catch(function(Ji){throw Ji})}catch(Ji){ye.error(new A.default(N.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Ji.message+" nostreamscomposed",pe.getValue())),Ee=!0,Mo()}}()}function En(){un=!0}function Mn(Dn){var qn=Sr(Dn.id);return qn?qn.updateData(Dn):(qn=Object(b.default)(Y).create({manifestModel:pe,mediaPlayerModel:gt,dashMetrics:ke,manifestUpdater:Ie,adapter:Ae,timelineConverter:oe,capabilities:ce,capabilitiesFilter:ge,errHandler:ye,baseURLController:Oe,segmentBaseController:Ve,textController:re,abrController:Ze,playbackController:Xe,eventController:be,mediaController:Re,protectionController:$,videoModel:ct,streamInfo:Dn,settings:qt}),ee.push(qn),qn.initialize(),Promise.resolve())}function In(Dn){Ct();var qn=ke.getCurrentDVRInfo().range;if(qn.end<qn.start){fn&&clearTimeout(fn);var hi=Math.min(1e3*(-1*(qn.end-qn.start)+2),2147483647);return Se.debug("Waiting for ".concat(hi," ms before playback can start")),le.trigger(C.default.AST_IN_FUTURE,{delay:hi}),void(fn=setTimeout(function(){In(Dn)},hi))}qt.get().streaming.applyProducerReferenceTime&&tt.calculateProducerReferenceTimeOffsets(Dn);var ci=Dn[0].manifestInfo;if(qt.get().streaming.applyServiceDescription&&tt.applyServiceDescription(ci),Ae.getIsDynamic()){var Ui=Do(Dn,ci);Xe.computeAndSetLiveDelay(Ui,ci)}var Ji=function $r(){var Dn;if(Ae.getIsDynamic()){var hi=ke.getCurrentDVRInfo();Dn=(hi&&hi.range?hi.range.end:0)-Xe.getOriginalLiveDelay();var Ui=hi?hi.range:null;if(Ui){if(isNaN(wt)&&-1===wt.toString().indexOf("posix:")){var or=jr(!0);isNaN(or)||(Se.info("Start time from URI parameters: ".concat(or)),Dn=Math.min(Dn,or))}else{Se.info("Start time provided by the app: ".concat(wt));var Ji=ki(!0,wt);isNaN(Ji)||(Dn=Math.min(Dn,Ji))}var Ki=qt.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;Dn=Math.max(Dn,Ui.start+Ki)}}else if(Dn=go()[0].getStreamInfo().start,isNaN(wt)){var Bo=jr(!1);isNaN(Bo)||(Se.info("Start time from URI parameters: ".concat(Bo)),Dn=Math.max(Dn,Bo))}else{Se.info("Start time provided by the app: ".concat(wt));var Fo=ki(!1,wt);isNaN(Fo)||(Dn=Math.max(Dn,Fo))}return Dn}(),or=qe(Ji),Ki=null!==or?or:ee[0];le.trigger(C.default.INITIAL_STREAM_SWITCH,{startTime:Ji}),Nn(Ki,null,Ji),function Kn(){ze||(ze=setInterval(function(){!_e&&Xe.getTimeToStreamEnd()<=0&&!Xe.isSeeking()&&le.trigger(C.default.PLAYBACK_ENDED,{isLast:co().isLast})},200))}()}function Nn(Dn,qn,hi){try{if(_e||!Dn||qn===Dn&&Dn.getIsActive())return;_e=!0,le.trigger(C.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:qn?qn.getStreamInfo():null,toStreamInfo:Dn.getStreamInfo()});var ci=!1;X=Dn,qn&&(ci=ht(Dn,qn),qn.deactivate(ci)),hi=isNaN(hi)?!ci&&qn?Dn.getStreamInfo().start:NaN:hi,Se.info("Switch to stream ".concat(Dn.getId(),". Seektime is ").concat(hi,", current playback time is ").concat(Xe.getTime(),". Seamless period switch is set to ").concat(ci)),Kt=Kt.filter(function(Ui){return Ui.getId()!==X.getId()}),Xe.initialize(co(),!!qn),ct.getElement()&&$n(hi,ci)}catch{_e=!1}}function $n(Dn,qn){var hi;function ci(){if(Ge&&"open"===Ge.readyState){Se.debug("MediaSource is open!"),window.URL.revokeObjectURL(hi),Ge.removeEventListener("sourceopen",ci),Ge.removeEventListener("webkitsourceopen",ci),ln();var Ji=ke.getCurrentDVRInfo();he.setSeekable(Ji.range.start,Ji.range.end),ni(Dn,qn)}}function Ui(){Ge.addEventListener("sourceopen",ci,!1),Ge.addEventListener("webkitsourceopen",ci,!1),hi=he.attachMediaSource(ct),Se.debug("MediaSource attached to element.  Waiting on open...")}Ge?qn?ni(Dn,qn):(he.detachMediaSource(ct),Ui()):(Ge=he.createMediaSource(),Ui())}function ni(Dn,qn){X.activate(Ge,qn?Tt:void 0,Dn).then(function(hi){if(hi){var ci=Object.keys(hi);ci.length>0&&hi[ci[0]].getBuffer().changeType&&(Jt=!0),Tt=hi}isNaN(Dn)||(le.trigger(C.default.SEEK_TARGET,{time:Dn},{streamId:X.getId()}),Xe.seek(Dn,!1,!0),X.startScheduleControllers()),_e=!1,le.trigger(C.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:co()})})}function vn(Dn){var hi=qe(Dn.seekTime);hi&&hi!==X?hi&&hi!==X&&(gn(),function _n(Dn,qn){var hi=Dn&&!isNaN(Dn.seekTime)?Dn.seekTime:NaN,Ui=X.getProcessors().map(function(Ji){return Ji.prepareOuterPeriodPlaybackSeeking(Dn)});Promise.all(Ui).then(function(){Nn(qn,X,hi)}).catch(function(Ji){ye.error(Ji)})}(Dn,hi)):(gn(),function pn(Dn){X.getProcessors().forEach(function(hi){return hi.prepareInnerPeriodPlaybackSeeking(Dn)}),lo(i.PlayListTrace.USER_REQUEST_STOP_REASON)}(Dn)),Kr(i.PlayList.SEEK_START_REASON)}function gn(){yn()}function yn(){Kt&&Kt.length>0&&(Kt.forEach(function(Dn){Dn.deactivate(!0)}),Kt=[])}function Mt(Dn){Dn.newMediaInfo.streamInfo.id===X.getId()&&(yn(),X.prepareTrackChange(Dn))}function ht(Dn,qn){try{return qt.get().streaming.buffer.reuseExistingSourceBuffers&&(qn.isProtectionCompatible(Dn)||un)&&(Jt||qn.isMediaCodecCompatible(Dn,qn))}catch{return!1}}function Tn(Dn){var qn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Ge&&!Dn.getPreloaded()&&ht(Dn,qn)&&Dn.startPreloading(Ge,Tt).then(function(){Kt.push(Dn)})}function qe(Dn){if(isNaN(Dn))return null;for(var qn=ee.length,hi=0;hi<qn;hi++){var ci=ee[hi];if(Dn<parseFloat((ci.getStartTime()+ci.getDuration()).toFixed(5)))return ci}return null}function Ct(){try{var Dn=Ae.getIsDynamic(),hi=Ae.getStreamsInfo()[0].manifestInfo,ci=Xe.getTime(),Ui=oe.calcTimeShiftBufferWindow(ee,Dn),Ji=On();if(typeof Ui.start>"u"||typeof Ui.end>"u")return;Ji&&0!==Ji.length?Ji.forEach(function(or){ke.addDVRInfo(or.getType(),ci,hi,Ui)}):ke.addDVRInfo(t.default.VIDEO,ci,hi,Ui)}catch{}}function Qt(Dn){if(Dt&&q){var qn=gt.getInitialBufferLevel(),hi=[t.default.TEXT];(isNaN(qn)||qn<=Xe.getBufferLevel(hi)||Ae.getIsDynamic()&&qn>Xe.getLiveDelay())&&(Dt=!1,Kr(i.PlayList.INITIAL_PLAYOUT_START_REASON),Xe.play())}Dn&&Dn.mediaType&&ke.addBufferLevel(Dn.mediaType,new Date,1e3*Dn.bufferLevel)}function Rt(Dn){Dn.streamInfo.id===X.getId()&&Dn.reason&&Dn.reason.forceReplace&&yn(),Sr(Dn.streamInfo.id).prepareQualityChange(Dn)}function xn(){if(Ae.getIsDynamic()&&0!==Xe.getOriginalLiveDelay()&&X){var Dn=Ae.getStreamsInfo();if(Dn.length>0){var qn=Dn[0].manifestInfo,hi=Do(Dn,qn);Xe.computeAndSetLiveDelay(hi,qn)}}}function kt(){if(Yi()){var Dn=ct.getPlaybackQuality();Dn&&ke.addDroppedFrames(Dn)}}function It(){Se.debug("[onPlaybackStarted]"),!Dt&&yt&&Kr(i.PlayList.RESUME_FROM_PAUSE_START_REASON),Dt&&(Dt=!1),fe&&(fe=!1,qt.get().streaming.applyContentSteering&&!Te.shouldQueryBeforeStart()&&Te.loadSteeringData()),yt=!1}function Nt(Dn){Se.debug("[onPlaybackPaused]"),Dn.ended||(yt=!0,lo(i.PlayListTrace.USER_REQUEST_STOP_REASON))}function en(Dn){Se.debug("Stream with id ".concat(Dn.streamInfo.id," finished buffering")),Ge&&Dn.streamInfo.isLast?(Se.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),he.signalEndOfStream(Ge)):An()}function An(){if(X&&X.getHasFinishedBuffering())for(var Dn=function Pt(){var Dn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var qn=Dn||X||null;if(qn){var hi=qn.getStreamInfo();return ee.filter(function(ci){var Ui=ci.getStreamInfo();return Ui.start>hi.start&&hi.id!==Ui.id})}}catch{return[]}}(X),qn=0;qn<Dn.length;){var hi=Dn[qn],ci=0===qn?X:Dn[qn-1];!hi.getPreloaded()&&ci.getHasFinishedBuffering()&&Ge&&Tn(hi,ci),qn+=1}}function Xn(){ze&&(clearInterval(ze),ze=null)}function On(){return X?X.getProcessors():[]}function Ne(Dn){if(X&&!X.getIsEndedEventSignaled()){X.setIsEndedEventSignaled(!0);var qn=function Ft(){var qn=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||X||null;if(!qn)return null;for(var hi=qn.getStreamInfo(),ci=hi.start,Ui=0,Ji=-1,or=NaN;Ui<ee.length;){var Ir=ee[Ui].getStreamInfo(),Oo=Ir.start-ci;Oo>0&&(isNaN(or)||Oo<or)&&hi.id!==Ir.id&&(or=Oo,Ji=Ui),Ui+=1}return Ji>=0?ee[Ji]:null}();qn?(Se.debug("StreamController onEnded, found next stream with id ".concat(qn.getStreamInfo().id,". Switching from ").concat(X.getStreamInfo().id," to ").concat(qn.getStreamInfo().id)),Nn(qn,X,NaN)):(Se.debug("StreamController no next stream found"),X.setIsEndedEventSignaled(!1)),lo(qn?i.PlayListTrace.END_OF_PERIOD_STOP_REASON:i.PlayListTrace.END_OF_CONTENT_STOP_REASON)}Dn&&Dn.isLast&&(Xn(),Te.stopSteeringRequestTimer())}function ln(Dn){var qn=Dn||co().manifestInfo.duration;he.setDuration(qn)}function jr(Dn){var qn=ft.getURIFragmentData();if(!qn||!qn.t)return NaN;var ci=go()[0].getStreamInfo().start;return qn.t=qn.t.split(",")[0],Oi(Dn,qn.t,ci)}function ki(Dn,qn){var hi=0;return Dn||(hi=go()[0].getStreamInfo().start),Oi(Dn,qn,hi)}function Oi(Dn,qn,hi){var ci=Ae.getRegularPeriods()[0],Ui=qn.toString(),Ji=-1!==Ui.indexOf("posix:")?"now"===Ui.substring(6)?Date.now()/1e3:parseFloat(Ui.substring(6)):NaN;return Dn&&!isNaN(Ji)?oe.calcPresentationTimeFromWallTime(new Date(1e3*Ji),ci):parseFloat(Ui)+hi}function Do(Dn,qn){try{var hi=NaN;if(qn&&!isNaN(qn.maxFragmentDuration)&&isFinite(qn.maxFragmentDuration))return qn.maxFragmentDuration;if(Dn&&1===Dn.length){var ci=Dn[0],Ji=[t.default.VIDEO,t.default.AUDIO,t.default.TEXT].reduce(function(or,Ki){var Ir=Ae.getMediaInfoForType(ci,Ki);return Ir&&!1!==Ir.isFragmented&&or.push(Ir),or},[]).reduce(function(or,Ki){var Ir=Ae.getVoRepresentations(Ki);return Ir&&Ir.length>0&&Ir.forEach(function(Oo){Oo&&or.push(Oo)}),or},[]).reduce(function(or,Ki){var Ir=Ae.convertRepresentationToRepresentationInfo(Ki);return Ir&&Ir.fragmentDuration&&!isNaN(Ir.fragmentDuration)&&or.push(Ir.fragmentDuration),or},[]);hi=Math.max.apply(Math,I(Ji))}return isFinite(hi)?hi:NaN}catch{return NaN}}function bs(Dn){if(Dn.error)Ee=!0,Mo();else{Se.info("Manifest updated... updating data system wide.");var qn=Dn.manifest;Ae.updatePeriods(qn);var hi=Ae.getUTCTimingSources();Ae.getIsDynamic()&&(!hi||0===hi.length)&&le.trigger(g.default.CONFORMANCE_VIOLATION,{level:D.default.LEVELS.WARNING,event:D.default.EVENTS.NO_UTC_TIMING_ELEMENT});var ci=Ae.getIsDynamic()?hi.concat(Qe.getUTCTimingSources()):hi,Ui=ie.isHTTPS(Dn.manifest.url);ci.forEach(function(Ji){Ji.value.replace(/.*?:\/\//g,"")===qt.get().streaming.utcSynchronization.defaultTimingSource.value.replace(/.*?:\/\//g,"")&&(Ji.value=Ji.value.replace(Ui?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),Ui?"https://":"http://"),Se.debug("Matching default timing source protocol to manifest protocol: ",Ji.value))}),ge.filterUnsupportedFeatures(qn).then(function(){Oe.initialize(qn),we.attemptSync(ci,Ae.getIsDynamic())})}}function Yi(){return!!X&&X.getHasVideoTrack()}function Vr(){return!!X&&X.getHasAudioTrack()}function lo(Dn,qn){qn=qn||new Date,On().forEach(function(hi){hi.finalisePlayList(qn,Dn)}),ke.addPlayList()}function Kr(Dn){ke.createPlaylistMetrics(1e3*Xe.getTime(),Dn)}function ls(Dn){if(Dn.error){var qn="";switch(Dn.error.code){case 1:qn="MEDIA_ERR_ABORTED";break;case 2:qn="MEDIA_ERR_NETWORK";break;case 3:qn="MEDIA_ERR_DECODE",vt.counts.mediaErrorDecode+=1;break;case 4:qn="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:qn="MEDIA_ERR_ENCRYPTED";break;default:qn="UNKNOWN"}if("MEDIA_ERR_DECODE"===qn&&qt.get().errors.recoverAttempts.mediaErrorDecode>=vt.counts.mediaErrorDecode)return void function xr(){Se.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var Dn=Xe.getTime();X.deactivate(!1),Se.warn("MediaSource has been resetted. Resuming playback from time ".concat(Dn)),$n(Dn,!1)}();xe=!0,Dn.error.message&&(qn+=" ("+Dn.error.message+")"),Dn.error.msExtendedCode&&(qn+=" (0x"+(Dn.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),Se.fatal("Video Element Error: "+qn),Dn.error&&Se.fatal(Dn.error),ye.error(new A.default(Dn.error.code,qn)),Mo()}}function co(){return X?X.getStreamInfo():null}function Sr(Dn){for(var qn=0,hi=ee.length;qn<hi;qn++)if(ee[qn].getId()===Dn)return ee[qn];return null}function yi(Dn){isNaN(Dn.newDuration)||ln(Dn.newDuration)}function Wr(){ee=[],wt=NaN,$=null,_e=!1,X=null,xe=!1,Ee=!1,Dt=!0,fe=!0,yt=!1,q=!0,ze=null,un=!1,Jt=!1,Kt=[],fn=null,vt={counts:{mediaErrorDecode:0}}}function Mo(){at(),we.reset(),lo(xe||Ee?i.PlayListTrace.FAILURE_STOP_REASON:i.PlayListTrace.USER_REQUEST_STOP_REASON);for(var Dn=0,qn=ee?ee.length:0;Dn<qn;Dn++)ee[Dn].reset(xe);(function st(){le.off(g.default.PLAYBACK_TIME_UPDATED,kt,G),le.off(g.default.PLAYBACK_SEEKING,vn,G),le.off(g.default.PLAYBACK_ERROR,ls,G),le.off(g.default.PLAYBACK_STARTED,It,G),le.off(g.default.PLAYBACK_PAUSED,Nt,G),le.off(g.default.PLAYBACK_ENDED,Ne,G),le.off(g.default.METRIC_ADDED,Jr,G),le.off(g.default.MANIFEST_VALIDITY_CHANGED,yi,G),le.off(g.default.BUFFER_LEVEL_UPDATED,Qt,G),le.off(g.default.QUALITY_CHANGE_REQUESTED,Rt,G),C.default.KEY_SESSION_UPDATED&&le.off(C.default.KEY_SESSION_UPDATED,En,G),le.off(C.default.MANIFEST_UPDATED,bs,G),le.off(C.default.STREAM_BUFFERING_COMPLETED,en,G),le.off(C.default.TIME_SYNCHRONIZATION_COMPLETED,on,G),le.off(C.default.CURRENT_TRACK_CHANGED,Mt,G),le.off(C.default.SETTING_UPDATED_LIVE_DELAY,xn,G),le.off(C.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,xn,G)})(),Oe.reset(),Ie.reset(),be.reset(),ke.clearAllCurrentMetrics(),pe.setValue(null),Ce.reset(),oe.reset(),Q.reset(),Ge&&(he.detachMediaSource(ct),Ge=null),ct=null,$&&($=null,J=null,pe.getValue()&&le.trigger(C.default.PROTECTION_DESTROYED,{data:pe.getValue().url})),Xn(),le.trigger(C.default.STREAM_TEARDOWN_COMPLETE),Wr()}function Jr(Dn){if(Dn.metric===v.default.DVR_INFO){var qn=Vr()?t.default.AUDIO:t.default.VIDEO;Dn.mediaType===qn&&he.setSeekable(Dn.value.range.start,Dn.value.range.end)}}function go(){return ee}return G={initialize:function He(Dn,qn){at(),q=Dn,J=qn,oe.initialize(),(Ie=Object(_.default)(Y).create()).setConfig({manifestModel:pe,adapter:Ae,manifestLoader:Ce,errHandler:ye,settings:qt}),Ie.initialize(),(be=Object(O.default)(Y).getInstance()).setConfig({manifestUpdater:Ie,playbackController:Xe,settings:qt}),be.start(),we.setConfig({dashMetrics:ke,baseURLController:Oe,errHandler:ye,settings:qt}),we.initialize(),$&&(le.trigger(C.default.PROTECTION_CREATED,{controller:$}),$.setMediaElement(ct.getElement()),J&&$.setProtectionData(J)),function Ye(){le.on(g.default.PLAYBACK_TIME_UPDATED,kt,G),le.on(g.default.PLAYBACK_SEEKING,vn,G),le.on(g.default.PLAYBACK_ERROR,ls,G),le.on(g.default.PLAYBACK_STARTED,It,G),le.on(g.default.PLAYBACK_PAUSED,Nt,G),le.on(g.default.PLAYBACK_ENDED,Ne,G),le.on(g.default.METRIC_ADDED,Jr,G),le.on(g.default.MANIFEST_VALIDITY_CHANGED,yi,G),le.on(g.default.BUFFER_LEVEL_UPDATED,Qt,G),le.on(g.default.QUALITY_CHANGE_REQUESTED,Rt,G),C.default.KEY_SESSION_UPDATED&&le.on(C.default.KEY_SESSION_UPDATED,En,G),le.on(C.default.MANIFEST_UPDATED,bs,G),le.on(C.default.STREAM_BUFFERING_COMPLETED,en,G),le.on(C.default.TIME_SYNCHRONIZATION_COMPLETED,on,G),le.on(C.default.CURRENT_TRACK_CHANGED,Mt,G),le.on(C.default.SETTING_UPDATED_LIVE_DELAY,xn,G),le.on(C.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,xn,G)}()},getActiveStreamInfo:co,addDVRMetric:Ct,hasVideoTrack:Yi,hasAudioTrack:Vr,getStreamById:Sr,getStreamForTime:qe,getTimeRelativeToStreamId:function Ut(Dn,qn){for(var hi=null,ci=0,Ui=0,Ji=null,or=0;or<ee.length;or++){if(Ui=(hi=ee[or]).getStartTime(),Ji=hi.getDuration(),Number.isFinite(Ui)&&(ci=Ui),hi.getId()===qn)return Dn-ci;Number.isFinite(Ji)&&(ci+=Ji)}return null},load:function bt(Dn){var qn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;at(),wt=qn,Ce.load(Dn)},loadWithManifest:function At(Dn){var qn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;(function St(){if(!Ie||!Ie.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),wt=qn,Ie.setManifest(Dn)},getActiveStreamProcessors:On,setConfig:function Zi(Dn){Dn&&(Dn.capabilities&&(ce=Dn.capabilities),Dn.capabilitiesFilter&&(ge=Dn.capabilitiesFilter),Dn.manifestLoader&&(Ce=Dn.manifestLoader),Dn.manifestModel&&(pe=Dn.manifestModel),Dn.mediaPlayerModel&&(gt=Dn.mediaPlayerModel),Dn.customParametersModel&&(Qe=Dn.customParametersModel),Dn.protectionController&&($=Dn.protectionController),Dn.adapter&&(Ae=Dn.adapter),Dn.dashMetrics&&(ke=Dn.dashMetrics),Dn.errHandler&&(ye=Dn.errHandler),Dn.timelineConverter&&(oe=Dn.timelineConverter),Dn.videoModel&&(ct=Dn.videoModel),Dn.playbackController&&(Xe=Dn.playbackController),Dn.serviceDescriptionController&&(tt=Dn.serviceDescriptionController),Dn.contentSteeringController&&(Te=Dn.contentSteeringController),Dn.textController&&(re=Dn.textController),Dn.abrController&&(Ze=Dn.abrController),Dn.mediaController&&(Re=Dn.mediaController),Dn.settings&&(qt=Dn.settings),Dn.baseURLController&&(Oe=Dn.baseURLController),Dn.uriFragmentModel&&(ft=Dn.uriFragmentModel),Dn.segmentBaseController&&(Ve=Dn.segmentBaseController))},setProtectionData:function Rr(Dn){J=Dn,$&&$.setProtectionData(J)},getIsStreamSwitchInProgress:function Xo(){return _e},switchToVideoElement:function ir(Dn){X&&(Xe.initialize(co()),$n(Dn,!1))},getHasMediaOrInitialisationError:function ws(){return xe||Ee},getStreams:go,getActiveStream:function Fn(){return X},getInitialPlayback:function vi(){return Dt},getAutoPlay:function Er(){return q},reset:Mo},function it(){Se=Object(c.default)(Y).getInstance().getLogger(G),we=Object(S.default)(Y).getInstance(),he=Object(x.default)(Y).getInstance(),Q=Object(d.default)(Y).getInstance(),ie=Object(f.default)(Y).getInstance(),Wr()}(),G}Fe.__dashjs_factory_name="StreamController",p.default=m.default.getSingletonFactory(Fe)},"./src/streaming/controllers/TimeSyncController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/TimeSyncController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),v=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),b=e(
/*! ./../../core/EventBus */
"./src/core/EventBus.js"),_=e(
/*! ./../../core/events/Events */
"./src/core/events/Events.js"),P=e(
/*! ./../../core/errors/Errors */
"./src/core/errors/Errors.js"),C=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),i=e(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function O(){var y,B,z,ne,ae,Fe,Y,le,G,Se,ce,ge,Ie,Ce,pe,Ae,I=this.context,T=Object(b.default)(I).getInstance(),L=Object(i.default)(I).getInstance();function we(){le=[],G=[],Se=null,ce=null,Ie=null,ge=NaN,z=!1,ne=!1,Ce=ae.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function Ve(){!ae.get().streaming.utcSynchronization.enabled||z||ne||!Ie||!Ie.value||!Ie.schemeIdUri||isNaN(ge)||isNaN(ae.get().streaming.utcSynchronization.backgroundAttempts)||ce&&(Date.now()-ce)/1e3<30||(le=[],ne=!0,ft(isNaN(ae.get().streaming.utcSynchronization.backgroundAttempts)?2:ae.get().streaming.utcSynchronization.backgroundAttempts))}function ft(Xe){try{if(Xe<=0)return void Ee();var tt=Date.now();Fe[Ie.schemeIdUri](Ie.value,function(gt){var Qe=Date.now(),yt=Re(tt,Qe,gt);le.push(yt),ft(Xe-1)},function(){Ee()})}catch{Ee()}}function Ze(){var tt=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!G||0===G.length||tt>=G.length)Q();else{var gt=G[tt];if(gt)if(Fe.hasOwnProperty(gt.schemeIdUri)){var Qe=(new Date).getTime();Fe[gt.schemeIdUri](gt.value,function(yt){var Dt=(new Date).getTime(),fe=Re(Qe,Dt,yt);Ie=gt,Q(fe)},function(){Ze(tt+1)})}else Ze(tt+1);else Q()}}function Re(Xe,tt,gt){return gt-(tt-(tt-Xe)/2)}function Q(){var Xe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,tt=isNaN(Xe);tt&&ae.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?function q(){var Xe=Y.getLatestMPDRequestHeaderValueByID("Date"),tt=null!==Xe?new Date(Xe).getTime():Number.NaN;isNaN(tt)?_e(!0):_e(!1,tt-Date.now())}():_e(tt,Xe)}function ye(Xe){var tt=Date.parse(Xe);return isNaN(tt)&&(tt=function ie(Xe){var Dt,fe,ze=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(Xe);return Dt=Date.UTC(parseInt(ze[1],10),parseInt(ze[2],10)-1,parseInt(ze[3],10),parseInt(ze[4],10),parseInt(ze[5],10),ze[6]&&(parseInt(ze[6],10)||0),ze[7]&&1e3*parseFloat(ze[7])||0),ze[9]&&ze[10]&&(fe=60*parseInt(ze[9],10)+parseInt(ze[10],10),Dt+=("+"===ze[8]?-1:1)*fe*60*1e3),new Date(Dt).getTime()}(Xe)),tt}function oe(Xe){return Date.parse(Xe)}function ee(Xe){return Date.parse(Xe)}function X(Xe,tt,gt){gt()}function $(Xe,tt,gt){var Qe=ye(Xe);isNaN(Qe)?gt():tt(Qe)}function re(Xe,tt,gt,Qe,yt){var Dt,fe,ze=!1,Tt=new XMLHttpRequest,Kt=yt?v.HTTPRequest.HEAD:v.HTTPRequest.GET,Jt=tt.match(/\S+/g);if(tt=Jt.shift(),Dt=function(){ze||(ze=!0,Jt.length?re(Xe,Jt.join(" "),gt,Qe,yt):Qe())},fe=function(){var fn,wt;200===Tt.status&&(fn=yt?Tt.getResponseHeader("Date"):Tt.response,wt=Xe(fn),isNaN(wt)||(gt(wt),ze=!0))},L.isRelative(tt)){var qt=Ae.resolve();qt&&(tt=L.resolve(tt,qt.url))}Tt.open(Kt,tt),Tt.timeout=5e3,Tt.onload=fe,Tt.onloadend=Dt,Tt.send()}function J(Xe,tt,gt){re(ee,Xe,tt,gt,!0)}function _e(Xe,tt){if(!isNaN(ge)&&!isNaN(tt)&&!Xe&&function xe(Xe){try{var fe,tt=Ge(Xe),gt=isNaN(Ce)?30:Ce,Qe=isNaN(ae.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:ae.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,yt=isNaN(ae.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:ae.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,Dt=isNaN(ae.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:ae.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;tt?(fe=Math.min(gt*Qe,yt),B.debug("Increasing timeBetweenSyncAttempts to ".concat(fe))):(fe=Math.max(gt/Qe,Dt),B.debug("Decreasing timeBetweenSyncAttempts to ".concat(fe))),Ce=fe}catch{}}(tt),!Xe&&!isNaN(tt)){Se=Date.now(),z=!1;var gt=isNaN(ge);ge=tt,gt&&Ve(),B.debug("Completed UTC sync. Setting client - server offset to ".concat(tt))}Xe&&(Ie=null,z=!1,pe.error(new t.default(P.default.TIME_SYNC_FAILED_ERROR_CODE,P.default.TIME_SYNC_FAILED_ERROR_MESSAGE))),T.trigger(_.default.UPDATE_TIME_SYNC_OFFSET,{offset:tt}),T.trigger(_.default.TIME_SYNCHRONIZATION_COMPLETED)}function Ee(){if(le&&0!==le.length){var Xe=le.reduce(function(tt,gt){return tt+gt},0)/le.length;Ge(Xe)?B.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(B.debug("Completed background UTC sync. Setting client - server offset to ".concat(Xe)),T.trigger(_.default.UPDATE_TIME_SYNC_OFFSET,{offset:ge=Xe})),ne=!1,ce=Date.now()}}function Ge(Xe){try{if(isNaN(ge))return!0;var tt=ae.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(ae.get().streaming.utcSynchronization.maximumAllowedDrift)?ae.get().streaming.utcSynchronization.maximumAllowedDrift:100;return Xe>=ge-tt&&Xe<=ge+tt}catch{return!0}}return y={initialize:function Te(){we(),Fe={"urn:mpeg:dash:utc:http-head:2014":J,"urn:mpeg:dash:utc:http-xsdate:2014":re.bind(null,ye),"urn:mpeg:dash:utc:http-iso:2014":re.bind(null,oe),"urn:mpeg:dash:utc:direct:2014":$,"urn:mpeg:dash:utc:http-head:2012":J,"urn:mpeg:dash:utc:http-xsdate:2012":re.bind(null,ye),"urn:mpeg:dash:utc:http-iso:2012":re.bind(null,oe),"urn:mpeg:dash:utc:direct:2012":$,"urn:mpeg:dash:utc:http-ntp:2014":X,"urn:mpeg:dash:utc:ntp:2014":X,"urn:mpeg:dash:utc:sntp:2014":X}},attemptSync:function Oe(Xe,tt){if(G=Xe,!z){if(!function be(Xe){try{if(!Xe||!ae.get().streaming.utcSynchronization.enabled)return!1;var tt=isNaN(Ce)?30:Ce;return!(Se&&tt&&!isNaN(tt))||(Date.now()-Se)/1e3>=tt}catch{return!0}}(tt))return void T.trigger(_.default.TIME_SYNCHRONIZATION_COMPLETED);z=!0,Ze()}},setConfig:function he(Xe){Xe&&(Xe.dashMetrics&&(Y=Xe.dashMetrics),Xe.baseURLController&&(Ae=Xe.baseURLController),Xe.errHandler&&(pe=Xe.errHandler),Xe.settings&&(ae=Xe.settings))},reset:function ct(){we(),T.off(_.default.ATTEMPT_BACKGROUND_SYNC,Ve,y)}},function ke(){B=Object(m.default)(I).getInstance().getLogger(y),T.on(_.default.ATTEMPT_BACKGROUND_SYNC,Ve,y)}(),y}O.__dashjs_factory_name="TimeSyncController";var D=C.default.getSingletonFactory(O);D.HTTP_TIMEOUT_MS=5e3,C.default.updateSingletonFactory(O.__dashjs_factory_name,D),p.default=D},"./src/streaming/controllers/XlinkController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/XlinkController.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../XlinkLoader */
"./src/streaming/XlinkLoader.js"),v=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),_=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),P=e(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),C=e(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),m=e(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),i="onLoad";function f(g){g=g||{};var N,O,D,I,T,L,S=this.context,x=Object(v.default)(S).getInstance(),A=Object(C.default)(S).getInstance();function Fe(Ce,pe,Ae){var he,we,ke={};ke.elements=Ce,ke.type=pe,ke.resolveType=Ae,0===ke.elements.length&&le(ke);for(var Te=0;Te<ke.elements.length;Te++)we=A.isHTTPURL((he=ke.elements[Te]).url)?he.url:he.originalContent.BaseURL+he.url,L.load(we,he,ke)}function Y(Ce){var pe,Ae,we="";if(Ae=Ce.resolveObject,(pe=Ce.element).resolvedContent){var Te=0;0===pe.resolvedContent.indexOf("<?xml")&&(Te=pe.resolvedContent.indexOf("?>")+2),we=pe.resolvedContent.substr(0,Te)+"<response>"+pe.resolvedContent.substr(Te)+"</response>",pe.resolvedContent=T.xml_str2json(we)}(function ge(Ce){var pe;for(pe=0;pe<Ce.elements.length;pe++)if(!1===Ce.elements[pe].resolved)return!1;return!0})(Ae)&&le(Ae)}function le(Ce){var Ae,ke,pe=[];if(function Se(Ce){var Ae,ke,we,Te,Oe,pe=[];for(we=Ce.elements.length-1;we>=0;we--){if(ke=(Ae=Ce.elements[we]).type+"_asArray",Ae.resolvedContent){if(Ae.resolvedContent)for(Te=0;Te<Ae.resolvedContent[ke].length;Te++)pe.push(Ae.resolvedContent[ke][Te])}else delete Ae.originalContent["xlink:actuate"],delete Ae.originalContent["xlink:href"],pe.push(Ae.originalContent);for(Ae.parentElement[ke].splice(Ae.index,1),Oe=0;Oe<pe.length;Oe++)Ae.parentElement[ke].splice(Ae.index+Oe,0,pe[Oe]);pe=[]}Ce.elements.length>0&&D.run(I)}(Ce),"onActuate"===Ce.resolveType&&x.trigger(b.default.XLINK_READY,{manifest:I}),Ce.resolveType===i)switch(Ce.type){case m.default.PERIOD:for(Ae=0;Ae<I[m.default.PERIOD+"_asArray"].length;Ae++)(ke=I[m.default.PERIOD+"_asArray"][Ae]).hasOwnProperty(m.default.ADAPTATION_SET+"_asArray")&&(pe=pe.concat(G(ke[m.default.ADAPTATION_SET+"_asArray"],ke,m.default.ADAPTATION_SET,i))),ke.hasOwnProperty(m.default.EVENT_STREAM+"_asArray")&&(pe=pe.concat(G(ke[m.default.EVENT_STREAM+"_asArray"],ke,m.default.EVENT_STREAM,i)));Fe(pe,m.default.ADAPTATION_SET,i);break;case m.default.ADAPTATION_SET:x.trigger(b.default.XLINK_READY,{manifest:I})}}function G(Ce,pe,Ae,ke){var we,Te,Oe,he=[];for(Te=Ce.length-1;Te>=0;Te--)(we=Ce[Te]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===we["xlink:href"]&&Ce.splice(Te,1);for(Te=0;Te<Ce.length;Te++)(we=Ce[Te]).hasOwnProperty("xlink:href")&&we.hasOwnProperty("xlink:actuate")&&we["xlink:actuate"]===ke&&(Oe=ce(we["xlink:href"],pe,Ae,Te,ke,we),he.push(Oe));return he}function ce(Ce,pe,Ae,ke,he,we){return{url:Ce,parentElement:pe,type:Ae,index:ke,resolveType:he,originalContent:we,resolvedContent:null,resolved:!1}}return N={resolveManifestOnLoad:function ne(Ce){T=new P.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:O}),(I=Ce).Period_asArray?Fe(G(I.Period_asArray,I,m.default.PERIOD,i),m.default.PERIOD,i):x.trigger(b.default.XLINK_READY,{manifest:I})},setMatchers:function B(Ce){Ce&&(O=Ce)},setIron:function z(Ce){Ce&&(D=Ce)},reset:function ae(){x.off(b.default.XLINK_ELEMENT_LOADED,Y,N),L&&(L.reset(),L=null)}},function y(){x.on(b.default.XLINK_ELEMENT_LOADED,Y,N),L=Object(t.default)(S).create({errHandler:g.errHandler,dashMetrics:g.dashMetrics,mediaPlayerModel:g.mediaPlayerModel,requestModifier:g.requestModifier,settings:g.settings})}(),N}f.__dashjs_factory_name="XlinkController",p.default=_.default.getClassFactory(f)},"./src/streaming/metrics/MetricsReporting.js":
/*!***************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReporting.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./utils/DVBErrorsTranslator */
"./src/streaming/metrics/utils/DVBErrorsTranslator.js"),v=e(
/*! ./MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),b=e(
/*! ./controllers/MetricsCollectionController */
"./src/streaming/metrics/controllers/MetricsCollectionController.js"),_=e(
/*! ./metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js"),P=e(
/*! ./reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function C(){var i=this.context;return{createMetricsReporting:function f(x){return Object(t.default)(i).getInstance({eventBus:x.eventBus,dashMetrics:x.dashMetrics,metricsConstants:x.metricsConstants,events:x.events}).initialise(),Object(b.default)(i).create(x)},getReportingFactory:function g(){return Object(P.default)(i).getInstance()},getMetricsHandlerFactory:function S(){return Object(_.default)(i).getInstance()}}}C.__dashjs_factory_name="MetricsReporting";var m=dashjs.FactoryMaker.getClassFactory(C);m.events=v.default,dashjs.FactoryMaker.updateClassFactory(C.__dashjs_factory_name,m),p.default=m},"./src/streaming/metrics/MetricsReportingEvents.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReportingEvents.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function v(O){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(O)}function b(O,D){for(var I=0;I<D.length;I++){var T=D[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,P(T.key),T)}}function P(O){var D=function C(O,D){if("object"!==v(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var T=I.call(O,D||"default");if("object"!==v(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(O)}(O,"string");return"symbol"===v(D)?D:String(D)}function i(O,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),D&&c(O,D)}function c(O,D){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,L){return T.__proto__=L,T})(O,D)}function d(O){var D=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,T=x(O);if(D){var y=x(this).constructor;L=Reflect.construct(T,arguments,y)}else L=T.apply(this,arguments);return function f(O,D){if(D&&("object"===v(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function g(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function x(O){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}e.r(p);var N=new(function(O){i(I,O);var D=d(I);function I(){var T;return function m(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I),(T=D.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",T.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",T.CMCD_DATA_GENERATED="cmcdDataGenerated",T}return function _(O,D,I){return D&&b(O.prototype,D),I&&b(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(e(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));p.default=N},"./src/streaming/metrics/controllers/MetricsCollectionController.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsCollectionController.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./MetricsController */
"./src/streaming/metrics/controllers/MetricsController.js"),v=e(
/*! ../utils/ManifestParsing */
"./src/streaming/metrics/utils/ManifestParsing.js"),b=e(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function _(P){var C,m={},i=this.context,c=(P=P||{}).eventBus,d=P.events;function f(A){if(!A.error){var N=Object.keys(m);Object(v.default)(i).getInstance({adapter:P.adapter,constants:P.constants}).getMetrics(A.manifest).forEach(function(D){var I=JSON.stringify(D);if(m.hasOwnProperty(I))N.splice(I,1);else try{var T=Object(t.default)(i).create(P);T.initialize(D),m[I]=T}catch{}}),N.forEach(function(D){m[D].reset(),delete m[D]}),c.trigger(b.default.METRICS_INITIALISATION_COMPLETE)}}function g(){Object.keys(m).forEach(function(A){m[A].reset()}),m={}}return C={reset:function x(){c.off(d.MANIFEST_UPDATED,f,C),c.off(d.STREAM_TEARDOWN_COMPLETE,g,C)}},function S(){c.on(d.MANIFEST_UPDATED,f,C),c.on(d.STREAM_TEARDOWN_COMPLETE,g,C)}(),C}_.__dashjs_factory_name="MetricsCollectionController",p.default=dashjs.FactoryMaker.getClassFactory(_)},"./src/streaming/metrics/controllers/MetricsController.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsController.js ***!
                  \****************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./RangeController */
"./src/streaming/metrics/controllers/RangeController.js"),v=e(
/*! ./ReportingController */
"./src/streaming/metrics/controllers/ReportingController.js"),b=e(
/*! ./MetricsHandlersController */
"./src/streaming/metrics/controllers/MetricsHandlersController.js");function _(P){P=P||{};var C,m,i,d=this.context;function g(){C&&C.reset(),m&&m.reset(),i&&i.reset()}return{initialize:function f(S){try{(i=Object(t.default)(d).create({mediaElement:P.mediaElement})).initialize(S.Range),(m=Object(v.default)(d).create({debug:P.debug,metricsConstants:P.metricsConstants,mediaPlayerModel:P.mediaPlayerModel})).initialize(S.Reporting,i),(C=Object(b.default)(d).create({debug:P.debug,eventBus:P.eventBus,metricsConstants:P.metricsConstants,events:P.events})).initialize(S.metrics,m)}catch(x){throw g(),x}},reset:g}}_.__dashjs_factory_name="MetricsController",p.default=dashjs.FactoryMaker.getClassFactory(_)},"./src/streaming/metrics/controllers/MetricsHandlersController.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsHandlersController.js ***!
                  \************************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js");function v(b){var P,_=[],C=this.context,m=(b=b||{}).eventBus,i=b.events,c=Object(t.default)(C).getInstance({debug:b.debug,eventBus:b.eventBus,metricsConstants:b.metricsConstants});function d(S){_.forEach(function(x){x.handleNewMetric(S.metric,S.value,S.mediaType)})}return P={initialize:function f(S,x){S.split(",").forEach(function(A,N,O){var D;if(-1!==A.indexOf("(")&&-1===A.indexOf(")")){var I=O[N+1];I&&-1===I.indexOf("(")&&-1!==I.indexOf(")")&&(A+=","+I,delete O[N+1])}(D=c.create(A,x))&&_.push(D)}),m.on(i.METRIC_ADDED,d,P),m.on(i.METRIC_UPDATED,d,P)},reset:function g(){m.off(i.METRIC_ADDED,d,P),m.off(i.METRIC_UPDATED,d,P),_.forEach(function(S){return S.reset()}),_=[]}}}v.__dashjs_factory_name="MetricsHandlersController",p.default=dashjs.FactoryMaker.getClassFactory(v)},"./src/streaming/metrics/controllers/RangeController.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/RangeController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js");function v(b){var C,m,_=!1,P=this.context,i=(b=b||{}).mediaElement;return C={initialize:function c(S){S&&S.length&&(S.forEach(function(x){var A=x.starttime;m.add(A,A+x.duration)}),_=!!S[0]._useWallClockTime)},reset:function d(){m.clear()},isEnabled:function g(){var x,S=m.length;if(!S)return!0;x=_?(new Date).getTime()/1e3:i.currentTime;for(var A=0;A<S;A+=1){var N=m.start(A),O=m.end(A);if(N<=x&&x<O)return!0}return!1}},function f(){m=Object(t.default)(P).create()}(),C}v.__dashjs_factory_name="RangeController",p.default=dashjs.FactoryMaker.getClassFactory(v)},"./src/streaming/metrics/controllers/ReportingController.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/ReportingController.js ***!
                  \******************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function v(b){var _=[],C=Object(t.default)(this.context).getInstance(b);return{initialize:function m(d,f){d.some(function(g){var S=C.create(g,f);if(S)return _.push(S),!0})},reset:function i(){_.forEach(function(d){return d.reset()}),_=[]},report:function c(d,f){_.forEach(function(g){return g.report(d,f)})}}}v.__dashjs_factory_name="ReportingController",p.default=dashjs.FactoryMaker.getClassFactory(v)},"./src/streaming/metrics/metrics/MetricsHandlerFactory.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/MetricsHandlerFactory.js ***!
                  \****************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./handlers/BufferLevelHandler */
"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js"),v=e(
/*! ./handlers/DVBErrorsHandler */
"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js"),b=e(
/*! ./handlers/HttpListHandler */
"./src/streaming/metrics/metrics/handlers/HttpListHandler.js"),_=e(
/*! ./handlers/GenericMetricHandler */
"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js");function P(C){var m,i=(C=C||{}).debug?C.debug.getLogger(m):{},c=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,d=this.context,f={BufferLevel:t.default,DVBErrors:v.default,HttpList:b.default,PlayList:_.default,RepSwitchList:_.default,TcpList:_.default};return{create:function g(A,N){var D,O=A.match(c);if(O){try{(D=f[O[1]](d).create({eventBus:C.eventBus,metricsConstants:C.metricsConstants})).initialize(O[1],N,O[3],O[5])}catch(I){D=null,i.error("MetricsHandlerFactory: Could not create handler for type ".concat(O[1]," with args ").concat(O[3],", ").concat(O[5]," (").concat(I.message,")"))}return D}},register:function S(A,N){f[A]=N},unregister:function x(A){delete f[A]}}}P.__dashjs_factory_name="MetricsHandlerFactory",p.default=dashjs.FactoryMaker.getSingletonFactory(P)},"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function v(b){b=b||{};var P,C,m,i,c,d=this.context,f=Object(t.default)(d).getInstance(),g=[],S=b.metricsConstants;function A(){var I=function x(){try{return Object.keys(g).map(function(I){return g[I]}).reduce(function(I,T){return I.level<T.level?I:T})}catch{return}}();I&&c!==I.t&&(c=I.t,P.report(m,I))}return{initialize:function N(I,T,L){T&&(C=f.validateN(L),P=T,m=f.reconstructFullMetricName(I,L),i=setInterval(A,C))},reset:function O(){clearInterval(i),i=null,C=0,P=null,c=null},handleNewMetric:function D(I,T,L){I===S.BUFFER_LEVEL&&(g[L]=T)}}}v.__dashjs_factory_name="BufferLevelHandler",p.default=dashjs.FactoryMaker.getClassFactory(v)},"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js":
/*!********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js ***!
                  \********************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");p.default=dashjs.FactoryMaker.getClassFactory(function v(b){var P,C=(b=b||{}).eventBus,m=b.metricsConstants;function i(){C.off(t.default.METRICS_INITIALISATION_COMPLETE,i,this),C.trigger(t.default.BECAME_REPORTING_PLAYER)}return{initialize:function c(g,S){S&&(P=S,C.on(t.default.METRICS_INITIALISATION_COMPLETE,i,this))},reset:function d(){P=null},handleNewMetric:function f(g,S){g===m.DVB_ERRORS&&P&&P.report(g,S)}}})},"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js ***!
                  \************************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(){var b,_;return{initialize:function P(i,c){b=i,_=c},reset:function C(){_=null,b=void 0},handleNewMetric:function m(i,c){i===b&&_&&_.report(b,c)}}}e.r(p),t.__dashjs_factory_name="GenericMetricHandler",p.default=dashjs.FactoryMaker.getClassFactory(t)},"./src/streaming/metrics/metrics/handlers/HttpListHandler.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/HttpListHandler.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function v(b){b=b||{};var P,C,m,i,c,d=[],f=Object(t.default)(this.context).getInstance(),g=b.metricsConstants;function S(){d.length&&P&&P.report(i,d),d=[]}return{initialize:function x(O,D,I,T){D&&(C=f.validateN(I),P=D,T&&T.length&&(m=T),i=f.reconstructFullMetricName(O,I,T),c=setInterval(S,C))},reset:function A(){clearInterval(c),c=null,C=null,m=null,d=[],P=null},handleNewMetric:function N(O,D){O===g.HTTP_REQUEST&&(!m||m===D.type)&&d.push(D)}}}v.__dashjs_factory_name="HttpListHandler",p.default=dashjs.FactoryMaker.getClassFactory(v)},"./src/streaming/metrics/reporting/ReportingFactory.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/ReportingFactory.js ***!
                  \*************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./reporters/DVBReporting */
"./src/streaming/metrics/reporting/reporters/DVBReporting.js");function v(b){var C,_={"urn:dvb:dash:reporting:2014":t.default},P=this.context,m=(b=b||{}).debug?b.debug.getLogger(C):{},i=b.metricsConstants,c=b.mediaPlayerModel||{};return{create:function d(S,x){var A;try{(A=_[S.schemeIdUri](P).create({metricsConstants:i,mediaPlayerModel:c})).initialize(S,x)}catch(N){A=null,m.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(S.schemeIdUri," (").concat(N.message,")"))}return A},register:function f(S,x){_[S]=x},unregister:function g(S){delete _[S]}}}v.__dashjs_factory_name="ReportingFactory",p.default=dashjs.FactoryMaker.getSingletonFactory(v)},"./src/streaming/metrics/reporting/reporters/DVBReporting.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/reporters/DVBReporting.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../utils/MetricSerialiser */
"./src/streaming/metrics/utils/MetricSerialiser.js"),v=e(
/*! ../../utils/RNG */
"./src/streaming/metrics/utils/RNG.js"),b=e(
/*! ../../../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function _(P){var C,i,c,d,f,g,S,x,m=this.context,O=[],D=(P=P||{}).metricsConstants;function B(){f=!1,g=!1,S=null,x=null}return C={report:function L(ne,ae){Array.isArray(ae)||(ae=[ae]),g&&x.isEnabled()&&ae.forEach(function(Fe){var Y=i.serialise(Fe);ne!==D.DVB_ERRORS&&(Y="metricname=".concat(ne,"&").concat(Y)),function T(ne,ae,Fe){var Y=new XMLHttpRequest;Y.withCredentials=c.getXHRWithCredentialsForType(D.HTTP_REQUEST_DVB_REPORTING_TYPE);var le=function(){var Se=O.indexOf(Y);-1!==Se&&(O.splice(Se,1),Y.status>=200&&Y.status<300?ae&&ae():Fe&&Fe())};O.push(Y);try{Y.open("GET",ne),Y.onloadend=le,Y.onerror=le,Y.send()}catch{Y.onerror()}}(Y="".concat(S,"?").concat(Y),null,function(){g=!1})})},initialize:function y(ne,ae){var Fe;if(x=ae,!(S=ne.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");f||((Fe=ne.dvb_probability)&&(1e3===Fe||Fe/1e3>=d.random())&&(g=!0),f=!0)},reset:function z(){B()}},function I(){i=Object(t.default)(m).getInstance(),d=Object(v.default)(m).getInstance(),c=Object(b.default)(m).getInstance(),B()}(),C}_.__dashjs_factory_name="DVBReporting",p.default=dashjs.FactoryMaker.getClassFactory(_)},"./src/streaming/metrics/utils/DVBErrorsTranslator.js":
/*!************************************************************!*\
                  !*** ./src/streaming/metrics/utils/DVBErrorsTranslator.js ***!
                  \************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../vo/DVBErrors */
"./src/streaming/metrics/vo/DVBErrors.js"),v=e(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function b(_){var P,C,m=(_=_||{}).eventBus,i=_.dashMetrics,c=_.metricsConstants,d=_.events;function f(T){var L=new t.default;if(C){for(var y in T)T.hasOwnProperty(y)&&(L[y]=T[y]);L.mpdurl||(L.mpdurl=C.originalUrl||C.url),L.terror||(L.terror=new Date),i.addDVBErrors(L)}}function g(T){T.error||(C=T.manifest)}function S(T){f({errorcode:t.default.BASE_URL_CHANGED,servicelocation:T.entry})}function x(){f({errorcode:t.default.BECAME_REPORTER})}function N(T){T.metric===c.HTTP_REQUEST&&function A(T){(0===T.responsecode||null==T.responsecode||T.responsecode>=400||T.responsecode<100||T.responsecode>=600)&&f({errorcode:T.responsecode||t.default.CONNECTION_ERROR,url:T.url,terror:T.tresponse,servicelocation:T._serviceLocation})}(T.value)}function O(T){var y;switch(T.error?T.error.code:0){case MediaError.MEDIA_ERR_NETWORK:y=t.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:y=t.default.CORRUPT_MEDIA_OTHER;break;default:return}f({errorcode:y})}return P={initialise:function D(){m.on(d.MANIFEST_UPDATED,g,P),m.on(d.SERVICE_LOCATION_BLACKLIST_CHANGED,S,P),m.on(d.METRIC_ADDED,N,P),m.on(d.METRIC_UPDATED,N,P),m.on(d.PLAYBACK_ERROR,O,P),m.on(v.default.BECAME_REPORTING_PLAYER,x,P)},reset:function I(){m.off(d.MANIFEST_UPDATED,g,P),m.off(d.SERVICE_LOCATION_BLACKLIST_CHANGED,S,P),m.off(d.METRIC_ADDED,N,P),m.off(d.METRIC_UPDATED,N,P),m.off(d.PLAYBACK_ERROR,O,P),m.off(v.default.BECAME_REPORTING_PLAYER,x,P)}}}b.__dashjs_factory_name="DVBErrorsTranslator",p.default=dashjs.FactoryMaker.getSingletonFactory(b)},"./src/streaming/metrics/utils/HandlerHelpers.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/metrics/utils/HandlerHelpers.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(){return{reconstructFullMetricName:function(b,_,P){var C=b;return _&&(C+="("+_,P&&P.length&&(C+=","+P),C+=")"),C},validateN:function(b){if(!b)throw new Error("missing n");if(isNaN(b))throw new Error("n is NaN");if(b<0)throw new Error("n must be positive");return b}}}e.r(p),t.__dashjs_factory_name="HandlerHelpers",p.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/utils/ManifestParsing.js":
/*!********************************************************!*\
                  !*** ./src/streaming/metrics/utils/ManifestParsing.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../vo/Metrics */
"./src/streaming/metrics/vo/Metrics.js"),v=e(
/*! ../vo/Range */
"./src/streaming/metrics/vo/Range.js"),b=e(
/*! ../vo/Reporting */
"./src/streaming/metrics/vo/Reporting.js");function _(P){var m=(P=P||{}).adapter,i=P.constants;return{getMetrics:function d(f){var g=[];return f&&f.Metrics_asArray&&f.Metrics_asArray.forEach(function(S){var x=new t.default,A=m.getIsDynamic(f);S.hasOwnProperty("metrics")&&(x.metrics=S.metrics,S.Range_asArray&&S.Range_asArray.forEach(function(N){var O=new v.default;O.starttime=function c(f,g,S){var x,A,N=0;return g?N=m.getAvailabilityStartTime(f)/1e3:(x=m.getRegularPeriods(f)).length&&(N=x[0].start),A=N,S&&S.hasOwnProperty(i.START_TIME)&&(A+=S.starttime),A}(f,A,N),O.duration=N.hasOwnProperty("duration")?N.duration:m.getDuration(f),O._useWallClockTime=A,x.Range.push(O)}),S.Reporting_asArray&&(S.Reporting_asArray.forEach(function(N){var O=new b.default;N.hasOwnProperty(i.SCHEME_ID_URI)&&(O.schemeIdUri=N.schemeIdUri,N.hasOwnProperty("value")&&(O.value=N.value),N.hasOwnProperty(i.DVB_REPORTING_URL)&&(O.dvb_reportingUrl=N[i.DVB_REPORTING_URL]),N.hasOwnProperty(i.DVB_PROBABILITY)&&(O.dvb_probability=N[i.DVB_PROBABILITY]),x.Reporting.push(O))}),g.push(x)))}),g}}}_.__dashjs_factory_name="ManifestParsing",p.default=dashjs.FactoryMaker.getSingletonFactory(_)},"./src/streaming/metrics/utils/MetricSerialiser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/utils/MetricSerialiser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(){return{serialise:function v(b){var C,m,_=[],P=[];for(C in b)if(b.hasOwnProperty(C)&&0!==C.indexOf("_")){if(null==(m=b[C])&&(m=""),Array.isArray(m)){if(!m.length)continue;P=[],m.forEach(function(i){var c="Object"!==Object.prototype.toString.call(i).slice(8,-1);P.push(c?i:v(i))}),m=P.map(encodeURIComponent).join(",")}else"string"==typeof m?m=encodeURIComponent(m):m instanceof Date?m=m.toISOString():"number"==typeof m&&(m=Math.round(m));_.push(C+"="+m)}return _.join("&")}}}e.r(p),t.__dashjs_factory_name="MetricSerialiser",p.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/utils/RNG.js":
/*!********************************************!*\
                  !*** ./src/streaming/metrics/utils/RNG.js ***!
                  \********************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(){var C,m,i,v=window.crypto||window.msCrypto,b=Uint32Array,_=Math.pow(2,8*b.BYTES_PER_ELEMENT)-1,P=10;function c(){v&&(C||(C=new b(P)),v.getRandomValues(C),m=0)}return i={random:function d(f,g){var S;return f||(f=0),g||(g=1),v?(m===C.length&&c(),S=C[m]/_,m+=1):S=Math.random(),S*(g-f)+f}},c(),i}e.r(p),t.__dashjs_factory_name="RNG",p.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/vo/DVBErrors.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/DVBErrors.js ***!
                  \***********************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p);var m=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null});m.SSL_CONNECTION_FAILED_PREFIX="SSL",m.DNS_RESOLUTION_FAILED="C00",m.HOST_UNREACHABLE="C01",m.CONNECTION_REFUSED="C02",m.CONNECTION_ERROR="C03",m.CORRUPT_MEDIA_ISOBMFF="M00",m.CORRUPT_MEDIA_OTHER="M01",m.BASE_URL_CHANGED="F00",m.BECAME_REPORTER="S00",p.default=m},"./src/streaming/metrics/vo/Metrics.js":
/*!*********************************************!*\
                  !*** ./src/streaming/metrics/vo/Metrics.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.metrics="",this.Range=[],this.Reporting=[]})},"./src/streaming/metrics/vo/Range.js":
/*!*******************************************!*\
                  !*** ./src/streaming/metrics/vo/Range.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1})},"./src/streaming/metrics/vo/Reporting.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/Reporting.js ***!
                  \***********************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function v(c,d){for(var f=0;f<d.length;f++){var g=d[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,_(g.key),g)}}function b(c,d,f){return d&&v(c.prototype,d),f&&v(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function _(c){var d=function P(c,d){if("object"!==t(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var g=f.call(c,d||"default");if("object"!==t(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}e.r(p);p.default=b(function c(){(function C(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3})},"./src/streaming/models/BaseURLTreeModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/BaseURLTreeModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(g){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(g)}function _(g,S){for(var x=0;x<S.length;x++){var A=S[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(g,C(A.key),A)}}function P(g,S,x){return S&&_(g.prototype,S),x&&_(g,x),Object.defineProperty(g,"prototype",{writable:!1}),g}function C(g){var S=function m(g,S){if("object"!==b(g)||null===g)return g;var x=g[Symbol.toPrimitive];if(void 0!==x){var A=x.call(g,S||"default");if("object"!==b(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)(g)}(g,"string");return"symbol"===b(S)?S:String(S)}var c=NaN,d=P(function g(S,x){(function i(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")})(this,g),this.data={baseUrls:S||null,selectedIdx:x||c},this.children=[]});function f(){var g,S,x,A=this.context,N=Object(t.default)(A).getInstance();function T(Fe,Y,le){var G=x.getBaseURLsFromElement(le);Fe[Y]?N.areEqual(G,Fe[Y].data.baseUrls)||(Fe[Y].data.baseUrls=G,Fe[Y].data.selectedIdx=c):Fe[Y]=new d(G)}function L(Fe){!function I(){if(!x||!x.hasOwnProperty("getBaseURLsFromElement")||!x.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var Y=x.getBaseURLsFromElement(Fe);N.areEqual(Y,S.data.baseUrls)||(S.data.baseUrls=Y,S.data.selectedIdx=c),Fe&&Fe.Period_asArray&&Fe.Period_asArray.forEach(function(le,G){T(S.children,G,le),le.AdaptationSet_asArray&&le.AdaptationSet_asArray.forEach(function(Se,ce){T(S.children[G].children,ce,Se),Se.Representation_asArray&&Se.Representation_asArray.sort(x.getRepresentationSortFunction()).forEach(function(ge,Ie){T(S.children[G].children[ce].children,Ie,ge)})})})}function y(Fe,Y){var le=Y||S;Fe(le.data),le.children&&le.children.forEach(function(G){return y(Fe,G)})}function ne(){S=new d}return g={reset:ne,update:function z(Fe){L(Fe)},getForPath:function ae(Fe){var Y=S,le=[Y.data];return Fe&&Fe.forEach(function(G){(Y=Y.children[G])&&le.push(Y.data)}),le.filter(function(G){return G.baseUrls.length})},invalidateSelectedIndexes:function B(Fe){y(function(Y){isNaN(Y.selectedIdx)||Fe===Y.baseUrls[Y.selectedIdx].serviceLocation&&(Y.selectedIdx=c)})},setConfig:function D(Fe){Fe.adapter&&(x=Fe.adapter)}},function O(){ne()}(),g}f.__dashjs_factory_name="BaseURLTreeModel",p.default=v.default.getClassFactory(f)},"./src/streaming/models/CmcdModel.js":
/*!*******************************************!*\
                  !*** ./src/streaming/models/CmcdModel.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),v=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),b=e(
/*! ../metrics/MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),_=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),P=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),C=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),m=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),i=e(
/*! ../../dash/models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),c=e(
/*! ../../core/Utils */
"./src/core/Utils.js");function d(T,L){var y=typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(!y){if(Array.isArray(T)||(y=function f(T,L){if(T){if("string"==typeof T)return g(T,L);var y=Object.prototype.toString.call(T).slice(8,-1);if("Object"===y&&T.constructor&&(y=T.constructor.name),"Map"===y||"Set"===y)return Array.from(T);if("Arguments"===y||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return g(T,L)}}(T))||L&&T&&"number"==typeof T.length){y&&(T=y);var B=0,z=function(){};return{s:z,n:function(){return B>=T.length?{done:!0}:{done:!1,value:T[B++]}},e:function(le){throw le},f:z}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Fe,ne=!0,ae=!1;return{s:function(){y=y.call(T)},n:function(){var le=y.next();return ne=le.done,le},e:function(le){ae=!0,Fe=le},f:function(){try{!ne&&null!=y.return&&y.return()}finally{if(ae)throw Fe}}}}function g(T,L){(null==L||L>T.length)&&(L=T.length);for(var y=0,B=new Array(L);y<L;y++)B[y]=T[y];return B}var A_MANIFEST="m",A_AUDIO="a",A_VIDEO="v",A_INIT="i",A_CAPTION="c",A_ISOBMFF_TEXT_TRACK="tt",A_ENCRYPTION_KEY="k",A_OTHER="o",N_DASH="d",N_MSS="s",O_VOD="v",O_LIVE="l";function I(){var T,L,y,B,z,ne,ae,Fe,Y,le,G=this.context,Se=Object(t.default)(G).getInstance(),ce=Object(P.default)(G).getInstance();function pe(){y={pr:1,nor:null,st:null,sf:null,sid:"".concat(c.default.generateUuid()),cid:null},Y={},Fe={},le={},ke()}function Ae(){ke()}function ke(){if(ne){var Qe=ne.getStreamController();if(Qe&&"function"==typeof Qe.getActiveStream){var yt=Qe.getActiveStream();yt&&(ae=yt.getProcessors())}}}function Te(Qe,yt){var ze,Dt={},fe=d(yt);try{for(fe.s();!(ze=fe.n()).done;){var Tt=ze.value;Qe[Tt]&&(Dt[Tt]=Qe[Tt])}}catch(Kt){fe.e(Kt)}finally{fe.f()}return Dt}function Ve(Qe){var yt=ce.get().streaming.cmcd.enabledKeys;return Qe.filter(function(Dt){return yt.includes(Dt)})}function ft(Qe){try{return Qe.type===m.HTTPRequest.MPD_TYPE?function Re(){var Qe=oe();return Qe.ot=A_MANIFEST,Qe}():Qe.type===m.HTTPRequest.MEDIA_SEGMENT_TYPE?(function Q(Qe){le.hasOwnProperty(Qe)||(le[Qe]=!1),Fe.hasOwnProperty(Qe)||(Fe[Qe]=!1),Y.hasOwnProperty(Qe)||(Y[Qe]=!1)}(Qe.mediaType),function be(Qe){var fn,yt=oe(),Dt=function ee(Qe){try{return parseInt(Qe.mediaInfo.bitrateList[Qe.quality].bandwidth/1e3)}catch{return null}}(Qe),fe=function $(Qe){try{return isNaN(Qe.duration)?null:Math.round(1e3*Qe.duration)}catch{return null}}(Qe),ze=function re(Qe){try{return 100*parseInt(B.getThroughputHistory().getSafeAverageThroughput(Qe)/100)}catch{return null}}(Qe.mediaType),Tt=function J(Qe){try{var yt=y.pr,Dt=z.getCurrentBufferLevel(Qe);return isNaN(yt)||isNaN(Dt)?null:100*parseInt(Dt/yt*10)}catch{return null}}(Qe.mediaType),Kt=q(Qe.mediaType),Jt=function X(Qe){try{var yt=B.getTopBitrateInfoFor(Qe);return Math.round(yt.bitrate/1e3)}catch{return null}}(Qe.mediaType),qt=y.pr,un=function Xe(Qe){if(ae&&0!==ae.length){var Dt,yt=d(ae);try{for(yt.s();!(Dt=yt.n()).done;){var fe=Dt.value;if(fe.getType()===Qe)return fe.probeNextRequest()}}catch(ze){yt.e(ze)}finally{yt.f()}}}(Qe.mediaType);Qe.mediaType===C.default.VIDEO&&(fn=A_VIDEO),Qe.mediaType===C.default.AUDIO&&(fn=A_AUDIO),Qe.mediaType===C.default.TEXT&&(fn="application/mp4"===Qe.mediaInfo.mimeType?A_ISOBMFF_TEXT_TRACK:A_CAPTION);var wt=ce.get().streaming.cmcd.rtp;return wt||(wt=function tt(Qe){var yt=ne.getPlaybackRate();yt||(yt=1);var Dt=Qe.quality,ze=Qe.mediaInfo,Tt=Qe.duration,Kt=q(Qe.mediaType);0===Kt&&(Kt=500);var fn=ze.bitrateList[Dt].bandwidth*Tt/1e3/(Kt/yt/1e3),wt=ce.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(ce.get().streaming.cmcd.rtpSafetyFactor)?ce.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(fn*wt/100)+1)}(Qe)),yt.rtp=wt,un&&(Qe.url!==un.url?yt.nor=encodeURIComponent(c.default.getRelativeUrl(Qe.url,un.url)):un.range&&(yt.nrr=un.range)),Dt&&(yt.br=Dt),fn&&(yt.ot=fn),isNaN(fe)||(yt.d=fe),isNaN(ze)||(yt.mtp=ze),isNaN(Tt)||(yt.dl=Tt),isNaN(Kt)||(yt.bl=Kt),isNaN(Jt)||(yt.tb=Jt),!isNaN(qt)&&1!==qt&&(yt.pr=qt),Y[Qe.mediaType]&&(yt.bs=!0,Y[Qe.mediaType]=!1),(Fe[Qe.mediaType]||!le[Qe.mediaType])&&(yt.su=!0,Fe[Qe.mediaType]=!1,le[Qe.mediaType]=!0),yt}(Qe)):Qe.type===m.HTTPRequest.INIT_SEGMENT_TYPE?function ie(){var Qe=oe();return Qe.ot=A_INIT,Qe.su=!0,Qe}():Qe.type===m.HTTPRequest.OTHER_TYPE||Qe.type===m.HTTPRequest.XLINK_EXPANSION_TYPE?function ye(){var Qe=oe();return Qe.ot=A_OTHER,Qe}():Qe.type===m.HTTPRequest.LICENSE?function Ze(Qe){var yt=oe();return yt.ot=A_ENCRYPTION_KEY,yt}():null}catch{return null}}function oe(){var Qe={},yt=ce.get().streaming.cmcd.cid?ce.get().streaming.cmcd.cid:y.cid;return Qe.v=1,Qe.sid=ce.get().streaming.cmcd.sid?ce.get().streaming.cmcd.sid:y.sid,Qe.sid="".concat(Qe.sid),yt&&(Qe.cid="".concat(yt)),!isNaN(y.pr)&&1!==y.pr&&null!==y.pr&&(Qe.pr=y.pr),y.st&&(Qe.st=y.st),y.sf&&(Qe.sf=y.sf),Qe}function q(Qe){try{var yt=z.getCurrentBufferLevel(Qe);return isNaN(yt)?null:100*parseInt(10*yt)}catch{return null}}function _e(Qe){try{y.pr=Qe.playbackRate}catch{}}function xe(Qe){try{var yt=T.getIsDynamic(Qe.data),fe=Qe.protocol&&"MSS"===Qe.protocol?N_MSS:N_DASH;y.st="".concat(yt?O_LIVE:O_VOD),y.sf="".concat(fe)}catch{}}function Ee(Qe){try{Qe.state&&Qe.mediaType&&Qe.state===v.default.BUFFER_EMPTY&&(Y[Qe.mediaType]||(Y[Qe.mediaType]=!0),Fe[Qe.mediaType]||(Fe[Qe.mediaType]=!0))}catch{}}function Ge(){for(var Qe in Y)Y.hasOwnProperty(Qe)&&(Y[Qe]=!0);for(var yt in Fe)Fe.hasOwnProperty(yt)&&(Fe[yt]=!0)}function ct(Qe){try{if(!Qe)return null;var yt=Object.keys(Qe).sort(function(ze,Tt){return ze.localeCompare(Tt)}),Dt=yt.length,fe=yt.reduce(function(ze,Tt,Kt){return"v"===Tt&&1===Qe[Tt]||(ze+="string"==typeof Qe[Tt]&&"ot"!==Tt&&"sf"!==Tt&&"st"!==Tt?"".concat(Tt,"=").concat(JSON.stringify(Qe[Tt])):"".concat(Tt,"=").concat(Qe[Tt]),Kt<Dt-1&&(ze+=",")),ze},"");return(fe=fe.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return L={getQueryParameter:function he(Qe){try{if(ce.get().streaming.cmcd&&ce.get().streaming.cmcd.enabled){var yt=ft(Qe),fe=ct(function we(Qe){try{var yt=ce.get().streaming.cmcd.enabledKeys;return Object.keys(Qe).filter(function(Dt){return yt.includes(Dt)}).reduce(function(Dt,fe){return Dt[fe]=Qe[fe],Dt},{})}catch{return Qe}}(yt));return Se.trigger(b.default.CMCD_DATA_GENERATED,{url:Qe.url,mediaType:Qe.mediaType,cmcdData:yt,cmcdString:fe}),{key:"CMCD",value:fe}}return null}catch{return null}},getHeaderParameters:function Oe(Qe){try{if(ce.get().streaming.cmcd&&ce.get().streaming.cmcd.enabled){var yt=ft(Qe),Dt=Te(yt,Ve(["br","d","ot","tb"])),fe=Te(yt,Ve(["bl","dl","mtp","nor","nrr","su"])),ze=Te(yt,Ve(["bs","rtp"])),Tt=Te(yt,Ve(["cid","pr","sf","sid","st","v"])),Kt={"CMCD-Object":ct(Dt),"CMCD-Request":ct(fe),"CMCD-Status":ct(ze),"CMCD-Session":ct(Tt)};return Se.trigger(b.default.CMCD_DATA_GENERATED,{url:Qe.url,mediaType:Qe.mediaType,cmcdData:yt,headers:Kt}),Kt}return null}catch{return null}},setConfig:function Ce(Qe){Qe&&(Qe.abrController&&(B=Qe.abrController),Qe.dashMetrics&&(z=Qe.dashMetrics),Qe.playbackController&&(ne=Qe.playbackController))},reset:function gt(){Se.off(v.default.PLAYBACK_RATE_CHANGED,_e,this),Se.off(v.default.MANIFEST_LOADED,xe,this),Se.off(v.default.BUFFER_LEVEL_STATE_CHANGED,Ee,L),Se.off(v.default.PLAYBACK_SEEKED,Ge,L),pe()},initialize:function Ie(){Se.on(v.default.PLAYBACK_RATE_CHANGED,_e,L),Se.on(v.default.MANIFEST_LOADED,xe,L),Se.on(v.default.BUFFER_LEVEL_STATE_CHANGED,Ee,L),Se.on(v.default.PLAYBACK_SEEKED,Ge,L),Se.on(v.default.PERIOD_SWITCH_COMPLETED,Ae,L)}},function ge(){T=Object(i.default)(G).getInstance(),pe()}(),L}I.__dashjs_factory_name="CmcdModel",p.default=_.default.getSingletonFactory(I)},"./src/streaming/models/CustomParametersModel.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/models/CustomParametersModel.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../dash/vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),_=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),P=e(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),C=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function i(){var c,d,f,g,S,x,A,N,O=this.context,D=Object(b.default)(O).getInstance();function T(){g=[],S=[],x=[],N=[],A=null,d=[]}function Ce(Q,ie){var ye=-1;Q.some(function(oe,ee){if(oe===ie)return ye=ee,!0}),!(ye<0)&&Q.splice(ye,1)}function pe(Q){var ie;for(ie=0;ie<N.length;ie++)if(N[ie].rulename===Q)return ie;return-1}function Te(Q,ie){Ve(Q,ie);var ye=new t.default;ye.schemeIdUri=Q,ye.value=ie,d.push(ye)}function Ve(Q,ie){Object(_.checkParameterType)(Q,"string"),Object(_.checkParameterType)(ie,"string"),d.forEach(function(ye,oe){ye.schemeIdUri===Q&&ye.value===ie&&d.splice(oe,1)})}return c={getCustomInitialTrackSelectionFunction:function ne(){return A},setCustomInitialTrackSelectionFunction:function B(Q){A=Q},resetCustomInitialTrackSelectionFunction:function z(){A=null},getLicenseResponseFilters:function Fe(){return S},getLicenseRequestFilters:function ae(){return g},getCustomCapabilitiesFilters:function ce(){return x},registerCustomCapabilitiesFilter:function ge(Q){x.push(Q)},registerLicenseResponseFilter:function le(Q){S.push(Q)},registerLicenseRequestFilter:function Y(Q){g.push(Q)},unregisterCustomCapabilitiesFilter:function Ie(Q){Ce(x,Q)},unregisterLicenseResponseFilter:function Se(Q){Ce(S,Q)},unregisterLicenseRequestFilter:function G(Q){Ce(g,Q)},addAbrCustomRule:function Ae(Q,ie,ye){if("string"!=typeof Q||Q!==P.default.ABANDON_FRAGMENT_RULES&&Q!==P.default.QUALITY_SWITCH_RULES||"string"!=typeof ie)throw C.default.BAD_ARGUMENT_ERROR;var oe=pe(ie);-1===oe?N.push({type:Q,rulename:ie,rule:ye}):(N[oe].type=Q,N[oe].rule=ye)},removeAllAbrCustomRule:function he(){N=[]},removeAbrCustomRule:function ke(Q){if(Q){var ie=pe(Q);-1!==ie&&N.splice(ie,1)}else N=[]},getAbrCustomRules:function we(){return N},addUTCTimingSource:Te,removeUTCTimingSource:Ve,getUTCTimingSources:function Oe(){return d},clearDefaultUTCTimingSources:function ft(){d=[]},restoreDefaultUTCTimingSources:function Ze(){var Q=D.get().streaming.utcSynchronization.defaultTimingSource;Te(Q.scheme,Q.value)},setXHRWithCredentialsForType:function Re(Q,ie){Q?f[Q]=!!ie:Object.keys(f).forEach(function(ye){Re(ye,ie)})},getXHRWithCredentialsForType:function be(Q){var ie=f[Q];return void 0===ie?f.default:ie},setConfig:function y(){},reset:function L(){T()}},function I(){f={default:false},T()}(),c}i.__dashjs_factory_name="CustomParametersModel",p.default=v.default.getSingletonFactory(i)},"./src/streaming/models/FragmentModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/FragmentModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),b="loading",_="executed",C="failed";function m(c){var O,D,I,T,d=(c=c||{}).eventBus,f=c.events,g=c.dashMetrics,S=c.fragmentLoader,x=c.debug,A=c.streamInfo,N=c.type;function z(Ze){var ee;return!!Ze&&(ee=!1,I.some(function(X){if(function(oe,ee){return!isNaN(oe.index)&&oe.startTime===ee.startTime&&oe.adaptationIndex===ee.adaptationIndex&&oe.type===ee.type}(Ze,X)||function(oe,ee){return isNaN(oe.index)&&isNaN(ee.index)&&oe.quality===ee.quality}(Ze,X)||function(oe,ee){return oe.action===v.default.ACTION_COMPLETE&&oe.action===ee.action}(Ze,X))return ee=!0}),ee)}function Fe(Ze){return isNaN(Ze.duration)?.25:Math.min(Ze.duration/8,.5)}function Y(Ze){I=I.filter(function(Re){var be=Fe(Re);return isNaN(Re.startTime)||void 0!==Ze&&Re.startTime>=Ze-be})}function G(Ze,Re){Re<=Ze+.5||(I=I.filter(function(be){var Q=Fe(be);return isNaN(be.startTime)||be.startTime>=Re-Q||isNaN(be.duration)||be.startTime+be.duration<=Ze+Q}))}function Ce(Ze,Re,be){for(var ie=Ze.length-1;ie>=0;ie--){var ye=Ze[ie],oe=ye.startTime,ee=oe+ye.duration;if(be=isNaN(be)?Fe(ye):be,!isNaN(oe)&&!isNaN(ee)&&Re+be>=oe&&Re-be<ee||isNaN(oe)&&isNaN(Re))return ye}return null}function ke(Ze,Re){g.addSchedulingInfo(Ze,Re),g.addRequestsQueue(Ze.mediaType,T,I)}function he(Ze){Ze.sender===S&&(T.splice(T.indexOf(Ze.request),1),Ze.response&&!Ze.error&&I.push(Ze.request),ke(Ze.request,Ze.error?C:_),d.trigger(f.FRAGMENT_LOADING_COMPLETED,{request:Ze.request,response:Ze.response,error:Ze.error,sender:this},{streamId:A.id,mediaType:N}))}function we(Ze){Ze.sender===S&&d.trigger(f.FRAGMENT_LOADING_PROGRESS,{request:Ze.request,response:Ze.response,error:Ze.error,sender:this},{streamId:A.id,mediaType:N})}function Te(Ze){Ze.sender===S&&d.trigger(f.FRAGMENT_LOADING_ABANDONED,{request:Ze.request},{streamId:A.id,mediaType:N})}function Oe(){I=[],T=[]}return O={getStreamId:function y(){return A.id},getType:function B(){return N},getRequests:function ae(Ze){var be=[];return(Ze?Ze.state instanceof Array?Ze.state:[Ze.state]:[]).forEach(function(Q){var ie=function Ae(Ze){var Re;switch(Ze){case b:Re=T;break;case _:Re=I;break;default:Re=[]}return Re}(Q);be=be.concat(function pe(Ze,Re){return Re.hasOwnProperty("time")?[Ce(Ze,Re.time,Re.threshold)]:Ze.filter(function(be){for(var Q in Re)if("state"!==Q&&Re.hasOwnProperty(Q)&&be[Q]!=Re[Q])return!1;return!0})}(ie,Ze))}),be},isFragmentLoaded:z,isFragmentLoadedOrPending:function ne(Ze){var Q,Re=!1,be=0;if(!(Re=z(Ze)))for(be=0;be<T.length;be++)Ze.url===(Q=T[be]).url&&Ze.startTime===Q.startTime&&(Re=!0);return Re},removeExecutedRequestsBeforeTime:Y,removeExecutedRequestsAfterTime:function le(Ze){I=I.filter(function(Re){return isNaN(Re.startTime)||void 0!==Ze&&Re.startTime<Ze})},syncExecutedRequestsWithBufferedRange:function Se(Ze,Re){if(Ze&&0!==Ze.length){for(var be=0,Q=0,ie=Ze.length;Q<ie;Q++)G(be,Ze.start(Q)),be=Ze.end(Q);Re>0&&G(be,Re)}else Y()},abortRequests:function ce(){D.debug("abort requests"),S.abort(),T=[]},executeRequest:function ge(Ze){Ze.action===v.default.ACTION_DOWNLOAD?(ke(Ze,b),T.push(Ze),function Ie(Ze){d.trigger(f.FRAGMENT_LOADING_STARTED,{request:Ze},{streamId:A.id,mediaType:N}),S.load(Ze)}(Ze)):D.warn("Unknown request action.")},reset:function Ve(){d.off(f.LOADING_COMPLETED,he,this),d.off(f.LOADING_DATA_PROGRESS,we,this),d.off(f.LOADING_ABANDONED,Te,this),S&&S.reset(),Oe()},resetInitialSettings:Oe,addExecutedRequest:function ft(Ze){I.push(Ze)}},function L(){D=x.getLogger(O),Oe(),d.on(f.LOADING_COMPLETED,he,O),d.on(f.LOADING_DATA_PROGRESS,we,O),d.on(f.LOADING_ABANDONED,Te,O)}(),O}m.__dashjs_factory_name="FragmentModel";var i=t.default.getClassFactory(m);i.FRAGMENT_MODEL_LOADING=b,i.FRAGMENT_MODEL_EXECUTED=_,i.FRAGMENT_MODEL_CANCELED="canceled",i.FRAGMENT_MODEL_FAILED=C,t.default.updateClassFactory(m.__dashjs_factory_name,i),p.default=i},"./src/streaming/models/LowLatencyThroughputModel.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/models/LowLatencyThroughputModel.js ***!
                  \***********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var d,f,c=this.context,g={};function S(){f=Object(t.default)(c).getInstance().getLogger(d)}function x(I){for(var T={},L=0,y=0,B=0,z=0,ne=I.length,ae=0;ae<ne;++ae)L+=I[ae].chunkDownloadTimeRelativeMS,y+=I[ae].bufferLevel,B+=I[ae].chunkDownloadTimeRelativeMS*I[ae].bufferLevel,z+=I[ae].chunkDownloadTimeRelativeMS*I[ae].chunkDownloadTimeRelativeMS;return T.m=(B-L*y/ne)/(z-L*L/ne),T.b=y/ne-T.m*L/ne,function(Fe){return T.m*Fe+T.b}}function A(I){var L,T=!0,y=I.reduce(function(B,z){return B+z.bufferLevelAtSegmentEnd},0)/I.length;return I.forEach(function(B){Math.abs(B.bufferLevelAtSegmentEnd/B.bufferLevelAtSegmentStart)<.95&&(T=!1),B.bufferLevelAtSegmentEnd/y<.8&&(T=!1),L?L>B.bitrate&&(T=!1):L=B.bitrate}),T}return d={setup:S,addMeasurement:function D(I,T,L,y,B){I&&I.mediaType&&!g[I.mediaType]&&(g[I.mediaType]=[]);var z=I.mediaInfo.bitrateList.find(function(ne){return ne.id===I.representationId});g[I.mediaType].push({index:I.index,repId:I.representationId,mediaType:I.mediaType,requestTimeMS:y,adjustedAvailabilityStartTimeMS:I.availabilityStartTime.getTime(),segDurationMS:1e3*I.duration,chunksDurationMS:L.reduce(function(ne,ae){return ne+ae.chunkDownloadDurationMS},0),segmentBytes:L.reduce(function(ne,ae){return ne+ae.chunkBytes},0),bitrate:z&&z.bandwidth,bitrateList:I.mediaInfo.bitrateList,chunkMeasurements:L,fetchDownloadDurationMS:T,throughputCapacityDelayMS:B,getEstimatedBufferLevel:x(L.slice(1))}),g[I.mediaType].length>10&&g[I.mediaType].shift()},getThroughputCapacityDelayMS:function O(I,T){var L=g[I.mediaType]&&g[I.mediaType].slice(-3);return!L||L.length<3||!A(L)?0:T/4>250?250:T/4},getEstimatedDownloadDurationMS:function N(I){var T=g[I.mediaType].slice(-1).pop(),L=g[I.mediaType].slice(-3),y=T.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;T.bufferLevelAtSegmentStart=T.getEstimatedBufferLevel(y/2),T.bufferLevelAtSegmentEnd=T.getEstimatedBufferLevel(y);var B=A(L),z=B?.6:.8;if(T.isBufferStable&&1.05*T.segDurationMS<T.fetchDownloadDurationMS)return T.fetchDownloadDurationMS;if(!B||T.segDurationMS<T.fetchDownloadDurationMS||T.adjustedAvailabilityStartTimeMS<=T.requestTimeMS+T.throughputCapacityDelayMS-T.segDurationMS)return.8*T.fetchDownloadDurationMS;for(var ne=T.requestTimeMS+T.throughputCapacityDelayMS-T.adjustedAvailabilityStartTimeMS,ae=0,Fe=0,Y=0,le=0;le<T.chunkMeasurements.length;le++){var G=T.chunkMeasurements[le];if(ne<Fe+G.chunkDownloadDurationMS)break;Fe+=G.chunkDownloadDurationMS,ae+=G.chunkBytes,Y++}if(ne<0&&f.warn("request time was before adjusted availibitly start time"),ae&&Fe&&Y>.2*T.chunkMeasurements.length){var ce=T.segmentBytes/(ae/Fe);return T.fetchDownloadDurationMS<ce?T.fetchDownloadDurationMS*z:ce*z}var ge=T.bitrate;return T.bitrateList.some(function(Ie){if(Ie.bandwidth>T.bitrate)return ge=Ie.bandwidth,!0}),ge===T.bitrate?T.fetchDownloadDurationMS*z:z*T.segmentBytes*8*1e3/ge}},S(),d}b.__dashjs_factory_name="LowLatencyThroughputModel",p.default=v.default.getSingletonFactory(b)},"./src/streaming/models/ManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/ManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),v=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function _(){var i,P=this.context,C=Object(t.default)(P).getInstance();return{getValue:function c(){return i},setValue:function d(f){i=f,f&&C.trigger(v.default.MANIFEST_LOADED,{data:f})}}}_.__dashjs_factory_name="ManifestModel",p.default=b.default.getSingletonFactory(_)},"./src/streaming/models/MediaPlayerModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/MediaPlayerModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),f=-.5;function S(){var x,A,N,O,D=this.context,I=Object(b.default)(D).getInstance();function y(ge,Ie){return isNaN(ge)?0:ge>0?(Ie&&A.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):ge<f?(Ie&&A.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(f,": ").concat(-50,"% playback speed.")),f):ge}function B(ge,Ie){return isNaN(ge)?0:ge<0?(Ie&&A.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):ge>1?(Ie&&A.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):ge}function le(){var ge=I.get().streaming.buffer.stableBufferTime>0?I.get().streaming.buffer.stableBufferTime:I.get().streaming.buffer.fastSwitchEnabled?20:12,Ie=N.getLiveDelay();return!isNaN(Ie)&&Ie>0?Math.min(ge,Ie):ge}return x={getCatchupMaxDrift:function z(){if(!isNaN(I.get().streaming.liveCatchup.maxDrift)&&I.get().streaming.liveCatchup.maxDrift>0)return I.get().streaming.liveCatchup.maxDrift;var ge=O.getServiceDescriptionSettings();return ge&&ge.liveCatchup&&!isNaN(ge.liveCatchup.maxDrift)&&ge.liveCatchup.maxDrift>0?ge.liveCatchup.maxDrift:12},getCatchupModeEnabled:function ae(){return null!==I.get().streaming.liveCatchup.enabled?I.get().streaming.liveCatchup.enabled:N.getInitialCatchupModeActivated()},getStableBufferTime:le,getInitialBufferLevel:function Y(){var ge=I.get().streaming.buffer.initialBufferLevel;return isNaN(ge)||ge<0?0:Math.min(le(),ge)},getRetryAttemptsForType:function G(ge){var Ie=isNaN(I.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:I.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return N.getLowLatencyModeEnabled()?I.get().streaming.retryAttempts[ge]*Ie:I.get().streaming.retryAttempts[ge]},getRetryIntervalsForType:function Se(ge){var Ie=isNaN(I.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:I.get().streaming.retryIntervals.lowLatencyReductionFactor;return N.getLowLatencyModeEnabled()?I.get().streaming.retryIntervals[ge]/Ie:I.get().streaming.retryIntervals[ge]},getCatchupPlaybackRates:function ne(ge){var Ie=I.get().streaming.liveCatchup.playbackRate;if(!isNaN(Ie.min)||!isNaN(Ie.max))return{min:y(Ie.min,ge),max:B(Ie.max,ge)};var Ce=O.getServiceDescriptionSettings();if(Ce&&Ce.liveCatchup&&(!isNaN(Ce.liveCatchup.playbackRate.min)||!isNaN(Ce.liveCatchup.playbackRate.max))){var pe=Ce.liveCatchup.playbackRate;return{min:y(pe.min,ge),max:B(pe.max,ge)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function Fe(ge,Ie){try{var Ce=I.get().streaming.abr[ge][Ie];if(!isNaN(Ce)&&-1!==Ce)return Ce;var pe=O.getServiceDescriptionSettings();return pe&&pe[ge]&&!isNaN(pe[ge][Ie])?pe[ge][Ie]:-1}catch{return-1}},setConfig:function L(ge){ge.playbackController&&(N=ge.playbackController),ge.serviceDescriptionController&&(O=ge.serviceDescriptionController)},reset:function ce(){}},function T(){A=Object(t.default)(D).getInstance().getLogger(x)}(),x}S.__dashjs_factory_name="MediaPlayerModel",p.default=v.default.getSingletonFactory(S)},"./src/streaming/models/MetricsModel.js":
/*!**********************************************!*\
                  !*** ./src/streaming/models/MetricsModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),b=e(
/*! ../vo/MetricsList */
"./src/streaming/vo/MetricsList.js"),_=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),P=e(
/*! ../vo/metrics/RepresentationSwitch */
"./src/streaming/vo/metrics/RepresentationSwitch.js"),C=e(
/*! ../vo/metrics/BufferLevel */
"./src/streaming/vo/metrics/BufferLevel.js"),m=e(
/*! ../vo/metrics/BufferState */
"./src/streaming/vo/metrics/BufferState.js"),i=e(
/*! ../vo/metrics/DVRInfo */
"./src/streaming/vo/metrics/DVRInfo.js"),c=e(
/*! ../vo/metrics/DroppedFrames */
"./src/streaming/vo/metrics/DroppedFrames.js"),d=e(
/*! ../vo/metrics/ManifestUpdate */
"./src/streaming/vo/metrics/ManifestUpdate.js"),f=e(
/*! ../vo/metrics/SchedulingInfo */
"./src/streaming/vo/metrics/SchedulingInfo.js"),g=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),S=e(
/*! ../vo/metrics/RequestsQueue */
"./src/streaming/vo/metrics/RequestsQueue.js"),x=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),A=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function N(O){var L,y,D=(O=O||{}).settings,I=this.context,T=Object(g.default)(I).getInstance();function z(){T.trigger(x.default.METRICS_CHANGED)}function ne(Q){T.trigger(x.default.METRIC_CHANGED,{mediaType:Q}),z()}function ae(Q,ie,ye){T.trigger(x.default.METRIC_UPDATED,{mediaType:Q,metric:ie,value:ye}),ne(Q)}function Fe(Q,ie,ye){T.trigger(x.default.METRIC_ADDED,{mediaType:Q,metric:ie,value:ye}),ne(Q)}function G(Q,ie){var ye=null;return Q&&(y.hasOwnProperty(Q)?ye=y[Q]:ie||(ye=new b.default,y[Q]=ye)),ye}function Se(Q,ie,ye){var oe=G(Q);null!==oe&&(oe[ie].push(ye),oe[ie].length>D.get().streaming.metrics.maxListDepth&&oe[ie].shift())}function Ce(Q,ie,ye){Se(Q,ie,ye),Fe(Q,ie,ye)}return L={clearCurrentMetricsForType:function Y(Q){delete y[Q],ne(Q)},clearAllCurrentMetrics:function le(){y={},z()},getMetricsFor:G,addHttpRequest:function ge(Q,ie,ye,oe,ee,X,$,re,J,q,_e,xe,Ee,Ge,ct,Xe){var tt=new _.HTTPRequest;X&&X!==oe&&(ge(Q,null,ye,oe,ee,null,null,re,J,null,null,null,Ee,null,null,Xe),tt.actualurl=X),tt.tcpid=ie,tt.type=ye,tt.url=oe,tt.range=re,tt.trequest=J,tt.tresponse=q,tt.responsecode=xe,tt._tfinish=_e,tt._stream=Q,tt._mediaduration=Ee,tt._quality=ee,tt._responseHeaders=Ge,tt._serviceLocation=$,tt._fileLoaderType=Xe,ct?ct.forEach(function(gt){!function ce(Q,ie,ye,oe){var ee=new _.HTTPRequestTrace;return ee.s=ie,ee.d=ye,ee.b=oe,Q.trace.push(ee),Q.interval||(Q.interval=0),Q.interval+=ye,ee}(tt,gt.s,gt.d,gt.b)}):(delete tt.interval,delete tt.trace),Ce(Q,v.default.HTTP_REQUEST,tt)},addRepresentationSwitch:function Ie(Q,ie,ye,oe,ee){var X=new P.default;X.t=ie,X.mt=ye,X.to=oe,ee?X.lto=ee:delete X.lto,Ce(Q,v.default.TRACK_SWITCH,X)},addBufferLevel:function pe(Q,ie,ye){var oe=new C.default;oe.t=ie,oe.level=ye,Ce(Q,v.default.BUFFER_LEVEL,oe)},addBufferState:function Ae(Q,ie,ye){var oe=new m.default;oe.target=ye,oe.state=ie,Ce(Q,v.default.BUFFER_STATE,oe)},addDVRInfo:function ke(Q,ie,ye,oe){var ee=new i.default;ee.time=ie,ee.range=oe,ee.manifestInfo=ye,Ce(Q,v.default.DVR_INFO,ee)},addDroppedFrames:function he(Q,ie){var ye=new c.default,oe=G(Q).DroppedFrames;ie&&(ye.time=ie.creationTime,ye.droppedFrames=ie.droppedVideoFrames,!(oe.length>0&&oe[oe.length-1]==ye)&&Ce(Q,v.default.DROPPED_FRAMES,ye))},addSchedulingInfo:function we(Q,ie,ye,oe,ee,X,$,re,J){var q=new f.default;q.mediaType=Q,q.t=ie,q.type=ye,q.startTime=oe,q.availabilityStartTime=ee,q.duration=X,q.quality=$,q.range=re,q.state=J,Ce(Q,v.default.SCHEDULING_INFO,q)},addRequestsQueue:function Te(Q,ie,ye){var oe=new S.default;oe.loadingRequests=ie,oe.executedRequests=ye,G(Q).RequestsQueue=oe,Fe(Q,v.default.REQUESTS_QUEUE,oe)},addManifestUpdate:function Oe(Q,ie,ye,oe,ee,X,$,re,J,q){var _e=new d.ManifestUpdate;_e.mediaType=Q,_e.type=ie,_e.requestTime=ye,_e.fetchTime=oe,_e.availabilityStartTime=ee,_e.presentationStartTime=X,_e.clientTimeOffset=$,_e.currentTime=re,_e.buffered=J,_e.latency=q,Se(t.default.STREAM,v.default.MANIFEST_UPDATE,_e),Fe(Q,v.default.MANIFEST_UPDATE,_e)},updateManifestUpdateInfo:function Ve(Q,ie){if(Q){for(var ye in ie)Q[ye]=ie[ye];ae(Q.mediaType,v.default.MANIFEST_UPDATE,Q)}},addManifestUpdateStreamInfo:function ft(Q,ie,ye,oe,ee){if(Q){var X=new d.ManifestUpdateStreamInfo;X.id=ie,X.index=ye,X.start=oe,X.duration=ee,Q.streamInfo.push(X),ae(Q.mediaType,v.default.MANIFEST_UPDATE_STREAM_INFO,Q)}},addManifestUpdateRepresentationInfo:function Ze(Q,ie,ye,oe,ee,X,$,re){if(Q&&Q.representationInfo){var J=new d.ManifestUpdateRepresentationInfo;J.id=ie,J.index=ye,J.streamIndex=oe,J.mediaType=ee,J.startNumber=$,J.fragmentInfoType=re,J.presentationTimeOffset=X,Q.representationInfo.push(J),ae(Q.mediaType,v.default.MANIFEST_UPDATE_TRACK_INFO,Q)}},addPlayList:function Re(Q){Q.trace&&Array.isArray(Q.trace)?Q.trace.forEach(function(ie){ie.hasOwnProperty("subreplevel")&&!ie.subreplevel&&delete ie.subreplevel}):delete Q.trace,Ce(t.default.STREAM,v.default.PLAY_LIST,Q)},addDVBErrors:function be(Q){Ce(t.default.STREAM,v.default.DVB_ERRORS,Q)}},function B(){y={}}(),L}N.__dashjs_factory_name="MetricsModel",p.default=A.default.getSingletonFactory(N)},"./src/streaming/models/URIFragmentModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/URIFragmentModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../vo/URIFragmentData */
"./src/streaming/vo/URIFragmentData.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var P;return{initialize:function C(i){if(P=new t.default,!i)return null;var c=i.indexOf("#");if(-1!==c)for(var d=i.substr(c+1).split("&"),f=0,g=d.length;f<g;++f){var S=d[f],x=S.indexOf("=");if(-1!==x){var A=S.substring(0,x);P.hasOwnProperty(A)&&(P[A]=S.substr(x+1))}}},getURIFragmentData:function m(){return P}}}b.__dashjs_factory_name="URIFragmentModel",p.default=v.default.getSingletonFactory(b)},"./src/streaming/models/VideoModel.js":
/*!********************************************!*\
                  !*** ./src/streaming/models/VideoModel.js ***!
                  \********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),_=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),P=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),C=new Map([[P.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[P.default.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[P.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[P.default.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function m(){var i,c,d,f,g,S,x,N=this.context,O=Object(v.default)(N).getInstance(),D=[];function y(){d&&(d.playbackRate=x||1,d.removeEventListener("canplay",y))}function Ce(){return D.length>0}function he(){if(d&&Ce()&&0===d.playbackRate){var Qe=document.createEvent("Event");Qe.initEvent("waiting",!0,!1),d.dispatchEvent(Qe)}}function ie(Qe,yt){d&&d.addEventListener(Qe,yt)}function ye(Qe,yt){d&&d.removeEventListener(Qe,yt)}function oe(){return d?d.readyState:NaN}function ee(){return d?d.buffered:null}function Ee(Qe,yt,Dt,fe,ze){if(d)for(var Tt=0;Tt<d.textTracks.length;Tt++)if(d.textTracks[Tt].kind===Qe&&(!yt||d.textTracks[Tt].label==yt)&&d.textTracks[Tt].language===Dt&&d.textTracks[Tt].isTTML===fe&&d.textTracks[Tt].isEmbedded===ze)return d.textTracks[Tt];return null}function tt(Qe,yt){Qe===P.default.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||oe()>=Qe?yt():function gt(Qe,yt){ie(Qe,function fe(){ye(Qe,fe),yt(Qe)})}(C.get(Qe),yt)}return i={initialize:function T(){O.on(b.default.PLAYBACK_PLAYING,he,this)},setCurrentTime:function z(Qe,yt){f=Qe,tt(P.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(d){if(d.currentTime===f)return void(f=NaN);try{f=yt?function ne(Qe){var yt=ee(),Dt=Qe,fe=9999999999;if(yt)for(var ze=0;ze<yt.length;ze++){var Tt=yt.start(ze),Kt=yt.end(ze),Jt=Math.abs(Tt-Qe),qt=Math.abs(Kt-Qe);if(Qe>=Tt&&Qe<=Kt)return Qe;Jt<fe&&(fe=Jt,Dt=Tt),qt<fe&&(fe=qt,Dt=Kt)}return Dt}(f):f,d.currentTime=f,f=NaN}catch(Dt){0===d.readyState&&Dt.code===Dt.INVALID_STATE_ERR&&setTimeout(function(){d.currentTime=f,f=NaN},400)}}})},play:function Te(){if(d){d.autoplay=!0;var Qe=d.play();Qe&&Qe.catch&&typeof Promise<"u"&&Qe.catch(function(yt){"NotAllowedError"===yt.name&&O.trigger(b.default.PLAYBACK_NOT_ALLOWED),c.warn("Caught pending play exception - continuing (".concat(yt,")"))})}},isPaused:function Oe(){return d?d.paused:null},pause:function Ve(){d&&(d.pause(),d.autoplay=!1)},isStalled:Ce,isSeeking:function ft(){return d?d.seeking||!isNaN(f):null},getTime:function Ze(){return d?isNaN(f)?d.currentTime:f:null},getPlaybackRate:function Re(){return d?d.playbackRate:null},setPlaybackRate:function B(Qe){d&&(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&d.readyState<=2&&Qe>0?d.addEventListener("canplay",y):d.playbackRate=Qe)},getPlayedRanges:function be(){return d?d.played:null},getEnded:function Q(){return d?d.ended:null},setStallState:function Ie(Qe,yt){!function ke(Qe,yt){yt?function pe(Qe){null===Qe||!d||d.seeking||-1!==D.indexOf(Qe)||D.push(Qe)}(Qe):function Ae(Qe){var yt=D.indexOf(Qe);null!==Qe&&-1!==yt&&D.splice(yt,1)}(Qe)}(Qe,yt)},getElement:function ae(){return d},setElement:function Fe(Qe){if(!(null==Qe||Qe&&/^(VIDEO|AUDIO)$/i.test(Qe.nodeName)))throw"element is not video or audio DOM type!";(d=Qe)&&(d.preload="auto")},setSource:function Y(Qe){d&&(Qe?d.src=Qe:(d.removeAttribute("src"),d.load()))},getSource:function le(){return d?d.src:null},getTTMLRenderingDiv:function G(){return g},setTTMLRenderingDiv:function ce(Qe){(g=Qe).style.position="absolute",g.style.display="flex",g.style.overflow="hidden",g.style.pointerEvents="none",g.style.top=0,g.style.left=0},getVttRenderingDiv:function Se(){return S},setVttRenderingDiv:function ge(Qe){S=Qe},getPlaybackQuality:function we(){if(!d)return null;var Qe="webkitDroppedFrameCount"in d&&"webkitDecodedFrameCount"in d,Dt=null;return"getVideoPlaybackQuality"in d?Dt=d.getVideoPlaybackQuality():Qe&&(Dt={droppedVideoFrames:d.webkitDroppedFrameCount,totalVideoFrames:d.webkitDroppedFrameCount+d.webkitDecodedFrameCount,creationTime:new Date}),Dt},addEventListener:ie,removeEventListener:ye,getReadyState:oe,getBufferRange:ee,getClientWidth:function X(){return d?d.clientWidth:NaN},getClientHeight:function $(){return d?d.clientHeight:NaN},getTextTracks:function xe(){return d?d.textTracks:[]},getTextTrack:Ee,addTextTrack:function Ge(Qe,yt,Dt,fe,ze){if(!d)return null;var Tt=Ee(Qe,yt,Dt,fe,ze);return Tt||((Tt=d.addTextTrack(Qe,yt,Dt)).isEmbedded=ze,Tt.isTTML=fe),Tt},appendChild:function ct(Qe){d&&(d.appendChild(Qe),void 0!==Qe.isTTML&&(d.textTracks[d.textTracks.length-1].isTTML=Qe.isTTML,d.textTracks[d.textTracks.length-1].isEmbedded=Qe.isEmbedded))},removeChild:function Xe(Qe){d&&d.removeChild(Qe)},getVideoWidth:function re(){return d?d.videoWidth:NaN},getVideoHeight:function J(){return d?d.videoHeight:NaN},getVideoRelativeOffsetTop:function q(){var Qe=d.parentNode.host||d.parentNode;return Qe?d.getBoundingClientRect().top-Qe.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function _e(){var Qe=d.parentNode.host||d.parentNode;return Qe?d.getBoundingClientRect().left-Qe.getBoundingClientRect().left:NaN},waitForReadyState:tt,reset:function L(){O.off(b.default.PLAYBACK_PLAYING,he,this)}},function I(){c=Object(_.default)(N).getInstance().getLogger(i),f=NaN}(),i}m.__dashjs_factory_name="VideoModel",p.default=t.default.getSingletonFactory(m)},"./src/streaming/net/FetchLoader.js":
/*!******************************************!*\
                  !*** ./src/streaming/net/FetchLoader.js ***!
                  \******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),b=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),_=e(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function P(x,A){return function i(x){if(Array.isArray(x))return x}(x)||function m(x,A){var N=null==x?null:typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(null!=N){var O,D,I,T,L=[],y=!0,B=!1;try{if(I=(N=N.call(x)).next,0===A){if(Object(N)!==N)return;y=!1}else for(;!(y=(O=I.call(N)).done)&&(L.push(O.value),L.length!==A);y=!0);}catch(z){B=!0,D=z}finally{try{if(!y&&null!=N.return&&(T=N.return(),Object(T)!==T))return}finally{if(B)throw D}}return L}}(x,A)||d(x,A)||function C(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(x,A){if(x){if("string"==typeof x)return f(x,A);var N=Object.prototype.toString.call(x).slice(8,-1);if("Object"===N&&x.constructor&&(N=x.constructor.name),"Map"===N||"Set"===N)return Array.from(x);if("Arguments"===N||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return f(x,A)}}function f(x,A){(null==A||A>x.length)&&(A=x.length);for(var N=0,O=new Array(A);N<A;N++)O[N]=x[N];return O}function g(x){var L,A=this.context,N=(x=x||{}).requestModifier,O=x.lowLatencyThroughputModel,D=x.boxParser,I=Object(v.default)(A).getInstance();function z(G){var pe,Se=new Date,ce=G.request,ge=new Headers;if(ce.range&&ge.append("Range","bytes="+ce.range),G.headers)for(var Ie in G.headers){var Ce=G.headers[Ie];Ce&&ge.append(Ie,Ce)}ce.requestStartDate||(ce.requestStartDate=Se),N&&N.modifyRequestHeader&&N.modifyRequestHeader({setRequestHeader:function(Oe,Ve){ge.append(Oe,Ve)}},{url:G.url}),"function"==typeof window.AbortController&&(pe=new AbortController,G.abortController=pe,pe.signal.onabort=G.onabort);var Ae={method:G.method,headers:ge,credentials:G.withCredentials?"include":void 0,signal:pe?pe.signal:void 0},ke=I.get().streaming.abr.fetchThroughputCalculationMode,he=Date.now(),we=0;new Promise(function(Te){if(ke===b.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&O&&(we=O.getThroughputCapacityDelayMS(ce,1e3*L.getCurrentBufferLevel(ce.mediaType))))return setTimeout(Te,we);Te()}).then(function(){var Te=Date.now();fetch(G.url,Ae).then(function(Oe){G.response||(G.response={}),G.response.status=Oe.status,G.response.statusText=Oe.statusText,G.response.responseURL=Oe.url,Oe.ok||G.onerror();var Ze,Ve="",ft=function c(x,A){var N=typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(!N){if(Array.isArray(x)||(N=d(x))||A&&x&&"number"==typeof x.length){N&&(x=N);var O=0,D=function(){};return{s:D,n:function(){return O>=x.length?{done:!0}:{done:!1,value:x[O++]}},e:function(B){throw B},f:D}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var L,I=!0,T=!1;return{s:function(){N=N.call(x)},n:function(){var B=N.next();return I=B.done,B},e:function(B){T=!0,L=B},f:function(){try{!I&&null!=N.return&&N.return()}finally{if(T)throw L}}}}(Oe.headers.keys());try{for(ft.s();!(Ze=ft.n()).done;){var Re=Ze.value;Ve+=Re+": "+Oe.headers.get(Re)+"\r\n"}}catch(tt){ft.e(tt)}finally{ft.f()}if(G.response.responseHeaders=Ve,!Oe.body)return Oe.arrayBuffer().then(function(tt){G.response.response=tt,G.progress({loaded:tt.byteLength,total:tt.byteLength,stream:!1}),G.onload(),G.onend()});var Qe,yt,be=parseInt(Oe.headers.get("Content-Length"),10),Q=0,ie=!1,ye=new Uint8Array,oe=0;if(ke===b.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&O){var X=Te,$=0,J=P(Oe.body.tee(),2),_e=J[1];Qe=J[0].getReader(),yt=[],Qe.read().then(function Dt(fe){var ze=fe.value,Tt=fe.done;if($=Date.now(),ze&&ze.length){var Kt=$-X,Jt=ze.length;yt.push({chunkDownloadTimeRelativeMS:$-Te,chunkDownloadDurationMS:Kt,chunkBytes:Jt,kbps:Math.round(8*Jt/(Kt/1e3)),bufferLevel:L.getCurrentBufferLevel(ce.mediaType)})}if(Tt){var qt=$-Te,un=yt.reduce(function(fn,wt){return fn+wt.chunkBytes},0);return O.addMeasurement(ce,qt,yt,he,we,Ve),void G.progress({loaded:un,total:un,lengthComputable:!0,time:O.getEstimatedDownloadDurationMS(ce),stream:!0})}return X=Date.now(),Qe.read().then(Dt)}),G.reader=_e.getReader()}else G.reader=Oe.body.getReader();var xe=[],Ee=[],Ge=[],ct=!0;ne(G,function tt(gt){var Qe=gt.value;if(gt.done){if(ye){if(ke!==b.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var Dt=null,fe=null;ke===b.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(Dt=function le(G,Se){try{var ce,ge;ce=G.filter(function(Te,Oe){return Oe<G.length-1}),ge=Se.filter(function(Te,Oe){return Oe<Se.length-1});var Ie=[];if(ce.length>1){for(var Ce=0,pe=0,Ae=0;Ae<ce.length;Ae++)if(ce[Ae]&&ge[Ae]){var ke=ge[Ae].ts-ce[Ae].ts;if(ke>1)Ie.push(8*ge[Ae].bytes/ke);else{0===pe&&(pe=ce[Ae].ts);var he=ge[Ae].ts-pe;he>1?(Ie.push(8*Ce/he),Ce=0,pe=0):Ce+=ge[Ae].bytes}}if(Ie.length>0)return Ie.reduce(function(Te,Oe){return Te+Oe},0)/Ie.length}return null}catch{return null}}(Ee,Ge))&&(fe=8*Q/Dt):ke===b.default.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(fe=Y(xe,Q)),G.progress({loaded:Q,total:isNaN(be)?Q:be,lengthComputable:!0,time:fe,stream:!0})}G.response.response=ye.buffer}return G.onload(),void G.onend()}if(Qe&&Qe.length>0){ye=function ae(G,Se){if(0===G.length)return Se;var ce=new Uint8Array(G.length+Se.length);return ce.set(G),ce.set(Se,G.length),ce}(ye,Qe),Q+=Qe.length,xe.push({ts:Date.now(),bytes:Qe.length}),ke===b.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&ct&&D.findLastTopIsoBoxCompleted(["moof"],ye,oe).found&&(ct=!1,Ee.push({ts:performance.now(),bytes:Qe.length}));var Tt=D.findLastTopIsoBoxCompleted(["moov","mdat"],ye,oe);if(Tt.found){var Jt,Kt=Tt.lastCompletedOffset+Tt.size;ke===b.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&!ct&&(ct=!0,Ge.push({ts:performance.now(),bytes:ye.length})),Kt===ye.length?(Jt=ye,ye=new Uint8Array):(Jt=new Uint8Array(ye.subarray(0,Kt)),ye=ye.subarray(Kt)),G.progress({data:Jt.buffer,lengthComputable:!1,noTrace:!0}),oe=0}else oe=Tt.lastCompletedOffset,ie||(G.progress({lengthComputable:!1,noTrace:!0}),ie=!0)}ne(G,tt)})}).catch(function(Oe){G.onerror&&G.onerror(Oe)})})}function ne(G,Se){G.reader.read().then(Se).catch(function(ce){G.onerror&&200===G.response.status&&G.onerror(ce)})}function Y(G,Se){try{if((G=G.filter(function(Ie){return Ie.bytes>Se/4/G.length})).length>1){var ce=0,ge=(G[G.length-1].ts-G[0].ts)/G.length;return G.forEach(function(Ie,Ce){var pe=G[Ce+1];if(pe){var Ae=pe.ts-Ie.ts;ce+=Ae<ge?Ae:0}}),ce}return null}catch{return null}}return{load:function B(G){N&&N.modifyRequest?Object(_.modifyRequest)(G,N).then(function(){return z(G)}):z(G)},abort:function Fe(G){if(G.abortController)G.abortController.abort();else if(G.reader)try{G.reader.cancel(),G.onabort()}catch{}},calculateDownloadedTime:Y,setup:function y(G){L=G.dashMetrics}}}g.__dashjs_factory_name="FetchLoader";var S=t.default.getClassFactory(g);p.default=S},"./src/streaming/net/HTTPLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/net/HTTPLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./XHRLoader */
"./src/streaming/net/XHRLoader.js"),v=e(
/*! ./FetchLoader */
"./src/streaming/net/FetchLoader.js"),b=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),_=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),P=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),C=e(
/*! ../models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),m=e(
/*! ../../core/Utils */
"./src/core/Utils.js"),i=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),c=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),d=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),f=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),g=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),S=e(
/*! ../models/LowLatencyThroughputModel */
"./src/streaming/models/LowLatencyThroughputModel.js"),x=e(
/*! ../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function A(L){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(L)}function N(L,y,B){return(y=function O(L){var y=function D(L,y){if("object"!==A(L)||null===L)return L;var B=L[Symbol.toPrimitive];if(void 0!==B){var z=B.call(L,y||"default");if("object"!==A(z))return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===y?String:Number)(L)}(L,"string");return"symbol"===A(y)?y:String(y)}(y))in L?Object.defineProperty(L,y,{value:B,enumerable:!0,configurable:!0,writable:!0}):L[y]=B,L}function I(L){var ce,ge,Ie,Ce,pe,Ae,ke,he,we,y=this.context,B=(L=L||{}).errHandler,z=L.dashMetrics,ne=L.mediaPlayerModel,ae=L.requestModifier,Fe=L.boxParser,Y=L.errors,le=L.requestTimeout||0,G=Object(c.default)(y).getInstance(),Se=Object(f.default)(y).getInstance();function Oe(Re,be){var J,Q=Re.request,ie=[],ye=!0,oe=!0,ee=new Date,X=ee,$=0,re=null;if(!ae||!z||!B)throw new Error("config object is not correct or missing");var Xe,q=function(Jt){if(oe=!1,Q.requestStartDate=ee,Q.requestEndDate=new Date,Q.firstByteDate=Q.firstByteDate||ee,Q.fileLoaderType=re,!Q.checkExistenceOnly){var qt=J.response?J.response.responseURL:null,un=J.response?J.response.status:null,fn=J.response&&J.response.getAllResponseHeaders?J.response.getAllResponseHeaders():J.response?J.response.responseHeaders:[];z.addHttpRequest(Q,qt,un,fn,Jt?ie:null),Q.type===b.HTTPRequest.MPD_TYPE&&z.addManifestUpdate(Q)}},_e=function(){if(-1!==ge.indexOf(J)&&(ge.splice(ge.indexOf(J),1),oe))if(q(!1),be>0){try{Se.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&Q.type===b.HTTPRequest.MEDIA_SEGMENT_TYPE&&ne.getRetryAttemptsForType(b.HTTPRequest.MEDIA_SEGMENT_TYPE)===be&&G.trigger(d.default.ATTEMPT_BACKGROUND_SYNC)}catch{}be--;var qt={config:Re};Ce.push(qt),qt.timeout=setTimeout(function(){-1!==Ce.indexOf(qt)&&(Ce.splice(Ce.indexOf(qt),1),Oe(Re,be))},ne.getRetryIntervalsForType(Q.type))}else{if(Q.type===b.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;B.error(new P.default(pe[Q.type],Q.url+" is not available",{request:Q,response:J.response})),Re.error&&Re.error(Q,"error",J.response.statusText),Re.complete&&Re.complete(Q,J.response.statusText)}};Q.hasOwnProperty("availabilityTimeComplete")&&!1===Q.availabilityTimeComplete&&window.fetch&&"arraybuffer"===Q.responseType&&Q.type===b.HTTPRequest.MEDIA_SEGMENT_TYPE?((Xe=Object(v.default)(y).create({requestModifier:ae,lowLatencyThroughputModel:he,boxParser:Fe})).setup({dashMetrics:z}),re=g.default.FILE_LOADER_TYPES.FETCH):(Xe=Object(t.default)(y).create({requestModifier:ae}),re=g.default.FILE_LOADER_TYPES.XHR);var tt=null,gt=ae.modifyRequestURL?ae.modifyRequestURL(Q.url):Q.url;if(Se.get().streaming.cmcd&&Se.get().streaming.cmcd.enabled){var Qe=Se.get().streaming.cmcd.mode;if(Qe===g.default.CMCD_MODE_QUERY){var yt=function Ve(Re){try{var be=[],Q=Ae.getQueryParameter(Re);return Q&&be.push(Q),be}catch{return[]}}(Q);gt=m.default.addAditionalQueryParameterToUrl(gt,yt)}else Qe===g.default.CMCD_MODE_HEADER&&(tt=Ae.getHeaderParameters(Q))}Q.url=gt;var Dt=Q.checkExistenceOnly?b.HTTPRequest.HEAD:b.HTTPRequest.GET,fe=ke.getXHRWithCredentialsForType(Q.type);J={url:gt,method:Dt,withCredentials:fe,request:Q,onload:function(){J.response.status>=200&&J.response.status<=299&&(q(!0),Re.success&&Re.success(J.response.response,J.response.statusText,J.response.responseURL),Re.complete&&Re.complete(Q,J.response.statusText))},onend:_e,onerror:_e,progress:function(Jt){var qt=new Date;ye&&(ye=!1,(!Jt.lengthComputable||Jt.lengthComputable&&Jt.total!==Jt.loaded)&&(Q.firstByteDate=qt)),Jt.lengthComputable&&(Q.bytesLoaded=Jt.loaded,Q.bytesTotal=Jt.total),Jt.noTrace||(ie.push({s:X,d:Jt.time?Jt.time:qt.getTime()-X.getTime(),b:[Jt.loaded?Jt.loaded-$:0]}),X=qt,$=Jt.loaded),Re.progress&&Jt&&Re.progress(Jt)},onabort:function(){Re.abort&&Re.abort(Q)},ontimeout:function(Jt){var qt;qt=Jt.lengthComputable?"Request timeout: loaded: "+Jt.loaded+", out of: "+Jt.total+" : "+(Jt.loaded/Jt.total*100).toFixed(3)+"% Completed":"Request timeout: non-computable download size",we.warn(qt)},loader:Xe,timeout:le,headers:tt};var ze=(new Date).getTime();if(isNaN(Q.delayLoadingTime)||ze>=Q.delayLoadingTime)ge.push(J),Xe.load(J);else{var Tt={httpRequest:J};Ie.push(Tt),Tt.delayTimeout=setTimeout(function(){if(-1!==Ie.indexOf(Tt)){Ie.splice(Ie.indexOf(Tt),1);try{X=ee=new Date,ge.push(Tt.httpRequest),Xe.load(Tt.httpRequest)}catch{Tt.httpRequest.onerror()}}},Q.delayLoadingTime-ze)}}return ce={load:function ft(Re){Re.request?Oe(Re,ne.getRetryAttemptsForType(Re.request.type)):Re.error&&Re.error(Re.request,"error")},abort:function Ze(){Ce.forEach(function(Re){clearTimeout(Re.timeout),Re.config.request&&Re.config.abort&&Re.config.abort(Re.config.request)}),Ce=[],Ie.forEach(function(Re){return clearTimeout(Re.delayTimeout)}),Ie=[],ge.forEach(function(Re){Re.request.type!==b.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(Re.onloadend=Re.onerror=Re.onprogress=void 0,Re.loader.abort(Re))}),ge=[]}},function Te(){var Re;we=Object(i.default)(y).getInstance().getLogger(ce),ge=[],Ie=[],Ce=[],Ae=Object(C.default)(y).getInstance(),he=Object(S.default)(y).getInstance(),ke=Object(x.default)(y).getInstance(),N(Re={},b.HTTPRequest.MPD_TYPE,Y.DOWNLOAD_ERROR_ID_MANIFEST_CODE),N(Re,b.HTTPRequest.XLINK_EXPANSION_TYPE,Y.DOWNLOAD_ERROR_ID_XLINK_CODE),N(Re,b.HTTPRequest.INIT_SEGMENT_TYPE,Y.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),N(Re,b.HTTPRequest.MEDIA_SEGMENT_TYPE,Y.DOWNLOAD_ERROR_ID_CONTENT_CODE),N(Re,b.HTTPRequest.INDEX_SEGMENT_TYPE,Y.DOWNLOAD_ERROR_ID_CONTENT_CODE),N(Re,b.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,Y.DOWNLOAD_ERROR_ID_CONTENT_CODE),N(Re,b.HTTPRequest.OTHER_TYPE,Y.DOWNLOAD_ERROR_ID_CONTENT_CODE),pe=Re}(),ce}I.__dashjs_factory_name="HTTPLoader";var T=_.default.getClassFactory(I);p.default=T},"./src/streaming/net/SchemeLoaderFactory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/net/SchemeLoaderFactory.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../streaming/net/HTTPLoader */
"./src/streaming/net/HTTPLoader.js");function b(){var C;function c(){C={}}function f(){c()}return function g(){f()}(),{getLoader:function d(S){for(var x in C)if(C.hasOwnProperty(x)&&S.startsWith(x))return C[x];return v.default},registerLoader:function m(S,x){C[S]=x},unregisterLoader:function i(S){C[S]&&delete C[S]},unregisterAllLoader:c,reset:f}}b.__dashjs_factory_name="SchemeLoaderFactory";var _=t.default.getSingletonFactory(b);p.default=_},"./src/streaming/net/URLLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/URLLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../streaming/net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js");function b(P){P=P||{};var i,c,C=this.context;return i=Object(v.default)(C).getInstance(),{load:function d(g){if(!c){var S=i.getLoader(g&&g.request?g.request.url:null);c=S(C).create({errHandler:P.errHandler,mediaPlayerModel:P.mediaPlayerModel,requestModifier:P.requestModifier,dashMetrics:P.dashMetrics,boxParser:P.boxParser?P.boxParser:null,constants:P.constants?P.constants:null,dashConstants:P.dashConstants?P.dashConstants:null,urlUtils:P.urlUtils?P.urlUtils:null,requestTimeout:isNaN(P.requestTimeout)?0:P.requestTimeout,errors:P.errors})}c.load(g)},abort:function f(){c&&c.abort()}}}b.__dashjs_factory_name="URLLoader";var _=t.default.getClassFactory(b);p.default=_},"./src/streaming/net/XHRLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/XHRLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function b(P){var C=(P=P||{}).requestModifier;function c(f){var g=new Date,S=f.request,x=new XMLHttpRequest;if(x.open(f.method,f.url,!0),S.responseType&&(x.responseType=S.responseType),S.range&&x.setRequestHeader("Range","bytes="+S.range),S.requestStartDate||(S.requestStartDate=g),C&&C.modifyRequestHeader&&(x=C.modifyRequestHeader(x,{url:f.url})),f.headers)for(var A in f.headers){var N=f.headers[A];N&&x.setRequestHeader(A,N)}x.withCredentials=f.withCredentials,x.onload=f.onload,x.onloadend=f.onend,x.onerror=f.onerror,x.onprogress=f.progress,x.onabort=f.onabort,x.ontimeout=f.ontimeout,x.timeout=f.timeout,x.send(),f.response=x}return{load:function i(f){C&&C.modifyRequest?Object(v.modifyRequest)(f,C).then(function(){return c(f)}):c(f)},abort:function d(f){var g=f.response;g.onloadend=g.onerror=g.onprogress=void 0,g.abort()}}}b.__dashjs_factory_name="XHRLoader";var _=t.default.getClassFactory(b);p.default=_},"./src/streaming/protection/CommonEncryption.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/CommonEncryption.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function b(c,d){for(var f=0;f<d.length;f++){var g=d[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,P(g.key),g)}}function P(c){var d=function C(c,d){if("object"!==t(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var g=f.call(c,d||"default");if("object"!==t(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}e.r(p);var m={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]};p.default=function(){function c(){!function v(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}(this,c)}return function _(c,d,f){return d&&b(c.prototype,d),f&&b(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,null,[{key:"findCencContentProtection",value:function(f){for(var g=null,S=0;S<f.length;++S){var x=f[S];"urn:mpeg:dash:mp4protection:2011"===x.schemeIdUri.toLowerCase()&&("cenc"===x.value.toLowerCase()||"cbcs"===x.value.toLowerCase())&&(g=x)}return g}},{key:"getPSSHData",value:function(f){var g=8,S=new DataView(f),x=S.getUint8(g);return g+=20,x>0&&(g+=4+16*S.getUint32(g)),f.slice(g+=4)}},{key:"getPSSHForKeySystem",value:function(f,g){var S=c.parsePSSHList(g);return f&&S.hasOwnProperty(f.uuid.toLowerCase())?S[f.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(f,g){return"pssh"in f?(f.pssh.__text=f.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),g.decodeArray(f.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(f){if(null==f)return[];for(var g=new DataView(f.buffer||f),x={},A=0;;){var O,D=void 0,I=void 0,T=A;if(A>=g.buffer.byteLength)break;if(O=A+g.getUint32(A),1886614376===g.getUint32(A+=4))if(0===(D=g.getUint8(A+=4))||1===D){A++,A+=3,I="";var L=void 0,y=void 0;for(L=0;L<4;L++)I+=1===(y=g.getUint8(A+L).toString(16)).length?"0"+y:y;for(A+=4,I+="-",L=0;L<2;L++)I+=1===(y=g.getUint8(A+L).toString(16)).length?"0"+y:y;for(A+=2,I+="-",L=0;L<2;L++)I+=1===(y=g.getUint8(A+L).toString(16)).length?"0"+y:y;for(A+=2,I+="-",L=0;L<2;L++)I+=1===(y=g.getUint8(A+L).toString(16)).length?"0"+y:y;for(A+=2,I+="-",L=0;L<6;L++)I+=1===(y=g.getUint8(A+L).toString(16)).length?"0"+y:y;A+=6,A+=4,x[I=I.toLowerCase()]=g.buffer.slice(T,O),A=O}else A=O;else A=O}return x}},{key:"getLicenseServerUrlFromMediaInfo",value:function(f,g){try{if(!f||0===f.length)return null;for(var S=0,x=null;S<f.length&&!x;){var A=f[S];if(A&&A.contentProtection&&A.contentProtection.length>0){var N=A.contentProtection.filter(function(B){return B.schemeIdUri&&B.schemeIdUri===g});if(N&&N.length>0)for(var O=0;O<N.length&&!x;){for(var D=N[O],I=0;I<m.attributes.length&&!x;){for(var T=0,L=m.attributes[I];T<m.prefixes.length&&!x;)D[L]&&D[L].__prefix&&D[L].__prefix===m.prefixes[T]&&D[L].__text&&(x=D[L].__text),T+=1;I+=1}O+=1}}S+=1}return x}catch{return null}}}]),c}()},"./src/streaming/protection/Protection.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/Protection.js ***!
                  \************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./controllers/ProtectionController */
"./src/streaming/protection/controllers/ProtectionController.js"),v=e(
/*! ./controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),b=e(
/*! ./ProtectionEvents */
"./src/streaming/protection/ProtectionEvents.js"),_=e(
/*! ./errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),P=e(
/*! ./models/ProtectionModel_21Jan2015 */
"./src/streaming/protection/models/ProtectionModel_21Jan2015.js"),C=e(
/*! ./models/ProtectionModel_3Feb2014 */
"./src/streaming/protection/models/ProtectionModel_3Feb2014.js"),m=e(
/*! ./models/ProtectionModel_01b */
"./src/streaming/protection/models/ProtectionModel_01b.js"),i=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],c=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function d(){var g,S=this.context;function N(O,D){for(var I=0;I<D.length;I++){var T=D[I];if("function"==typeof O[T[Object.keys(T)[0]]])return T}return null}return g={createProtectionSystem:function x(O){var D=null,I=Object(v.default)(S).getInstance();I.setConfig({debug:O.debug,BASE64:O.BASE64,settings:O.settings}),I.initialize();var T=function A(O){var D=O.debug,I=D.getLogger(g),T=O.eventBus,L=O.errHandler,y=O.videoModel?O.videoModel.getElement():null;return y&&void 0===y.onencrypted||y&&void 0===y.mediaKeys?N(y,c)?(I.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Object(C.default)(S).create({debug:D,eventBus:T,events:O.events,api:N(y,c)})):N(y,i)?(I.info("EME detected on this user agent! (ProtectionModel_01b)"),Object(m.default)(S).create({debug:D,eventBus:T,errHandler:L,events:O.events,api:N(y,i)})):(I.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(I.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),Object(P.default)(S).create({debug:D,eventBus:T,events:O.events}))}(O);return!D&&T&&(D=Object(t.default)(S).create({protectionModel:T,protectionKeyController:I,eventBus:O.eventBus,debug:O.debug,events:O.events,BASE64:O.BASE64,constants:O.constants,cmcdModel:O.cmcdModel,customParametersModel:O.customParametersModel,settings:O.settings}),O.capabilities.setEncryptedMediaSupported(!0)),D}}}d.__dashjs_factory_name="Protection";var f=dashjs.FactoryMaker.getClassFactory(d);f.events=b.default,f.errors=_.default,dashjs.FactoryMaker.updateClassFactory(d.__dashjs_factory_name,f),p.default=f},"./src/streaming/protection/ProtectionEvents.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/ProtectionEvents.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function v(O){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(O)}function b(O,D){for(var I=0;I<D.length;I++){var T=D[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,P(T.key),T)}}function P(O){var D=function C(O,D){if("object"!==v(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var T=I.call(O,D||"default");if("object"!==v(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(O)}(O,"string");return"symbol"===v(D)?D:String(D)}function i(O,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),D&&c(O,D)}function c(O,D){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,L){return T.__proto__=L,T})(O,D)}function d(O){var D=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,T=x(O);if(D){var y=x(this).constructor;L=Reflect.construct(T,arguments,y)}else L=T.apply(this,arguments);return function f(O,D){if(D&&("object"===v(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function g(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function x(O){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}e.r(p);var N=new(function(O){i(I,O);var D=d(I);function I(){var T;return function m(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I),(T=D.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",T.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",T.KEY_ADDED="public_keyAdded",T.KEY_ERROR="public_keyError",T.KEY_MESSAGE="public_keyMessage",T.KEY_SESSION_CLOSED="public_keySessionClosed",T.KEY_SESSION_CREATED="public_keySessionCreated",T.KEY_SESSION_REMOVED="public_keySessionRemoved",T.KEY_STATUSES_CHANGED="public_keyStatusesChanged",T.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",T.KEY_SYSTEM_SELECTED="public_keySystemSelected",T.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",T.LICENSE_REQUEST_SENDING="public_licenseRequestSending",T.NEED_KEY="needkey",T.PROTECTION_CREATED="public_protectioncreated",T.PROTECTION_DESTROYED="public_protectiondestroyed",T.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",T.TEARDOWN_COMPLETE="protectionTeardownComplete",T.VIDEO_ELEMENT_SELECTED="videoElementSelected",T.KEY_SESSION_UPDATED="public_keySessionUpdated",T}return function _(O,D,I){return D&&b(O.prototype,D),I&&b(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(e(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));p.default=N},"./src/streaming/protection/controllers/ProtectionController.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionController.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),v=e(
/*! ../vo/MediaCapability */
"./src/streaming/protection/vo/MediaCapability.js"),b=e(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),_=e(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),P=e(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),C=e(
/*! ../vo/LicenseRequest */
"./src/streaming/protection/vo/LicenseRequest.js"),m=e(
/*! ../vo/LicenseResponse */
"./src/streaming/protection/vo/LicenseResponse.js"),i=e(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),c=e(
/*! ../../../core/Utils */
"./src/core/Utils.js"),d=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),f=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function g(I){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(I)}function D(I){var Se,ce,ge,Ie,Ce,pe,Ae,ke,he,we,Te,T=(I=I||{}).protectionKeyController,L=I.protectionModel,y=I.eventBus,B=I.events,z=I.debug,ne=I.BASE64,ae=I.constants,Fe=[],Y=I.cmcdModel,le=I.settings,G=I.customParametersModel;function Ve(){if(!(y&&y.hasOwnProperty("on")&&T&&T.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function be(Ye,st){ke||he?ke&&ie():function Q(Ye,st){if(!he){he=!0;var At,at=[];Ye=Ye.sort(function(on,En){return(Ce&&Ce[on.ks.systemString]&&Ce[on.ks.systemString].priority>=0?Ce[on.ks.systemString].priority:Ye.length)-(Ce&&Ce[En.ks.systemString]&&Ce[En.ks.systemString].priority>=0?Ce[En.ks.systemString].priority:Ye.length)});for(var St=0;St<Ye.length;St++){var bt=yt(Ye[St]);at.push({ks:Ye[St].ks,configs:[bt],protData:Ye[St].protData})}L.requestKeySystemAccess(at).then(function(on){return ce.info("DRM: KeySystem Access Granted for system string ("+((At=on.data).mksa&&At.mksa.selectedSystemString?At.mksa.selectedSystemString:At.keySystem.systemString)+")!  Selecting key system..."),L.selectKeySystem(At)}).then(function(on){if(ke=on,he=!1,L){y.trigger(B.KEY_SYSTEM_SELECTED,{data:At});var En=X(ke);En&&En.serverCertificate&&En.serverCertificate.length>0&&L.setServerCertificate(ne.decodeArray(En.serverCertificate).buffer),ie()}}).catch(function(on){ke=null,he=!1,st||y.trigger(B.KEY_SYSTEM_SELECTED,{data:null,error:new P.default(_.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,_.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+on.error)})})}}(Ye,st)}function ie(){for(var Ye,st=0;st<ge.length;st++)for(Ye=0;Ye<ge[st].length;Ye++)if(ke===ge[st][Ye].ks){ye(ge[st][Ye]);break}ge=[]}function ye(Ye){if(T.isClearKey(ke)&&Ye.protData&&Ye.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(Ye.protData.clearkeys).length){var st={kids:Object.keys(Ye.protData.clearkeys)};Ye.initData=(new TextEncoder).encode(JSON.stringify(st))}Ye.sessionId?oe(Ye):null!==Ye.initData&&ee(Ye)}function oe(Ye){Ve(),L.loadKeySession(Ye)}function ee(Ye){var st=t.default.getPSSHForKeySystem(ke,Ye?Ye.initData:null);if(st){if(function J(Ye){if(!Ye)return!1;try{for(var st=L.getSessions(),at=0;at<st.length;at++)if(st[at].getKeyId()===Ye)return!0;return!1}catch{return!1}}(Ye.keyId)||q(st))return;try{Ye.initData=st,L.createKeySession(Ye)}catch(at){y.trigger(B.KEY_SESSION_CREATED,{data:null,error:new P.default(_.default.KEY_SESSION_CREATED_ERROR_CODE,_.default.KEY_SESSION_CREATED_ERROR_MESSAGE+at.message)})}}else Ye&&Ye.initData?L.createKeySession(Ye):y.trigger(B.KEY_SESSION_CREATED,{data:null,error:new P.default(_.default.KEY_SESSION_CREATED_ERROR_CODE,_.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(ke?ke.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function X(Ye){if(Ye){var st=Ye.systemString;if(Ce)return st in Ce?Ce[st]:null}return null}function q(Ye){if(!Ye)return!1;try{for(var st=L.getAllInitData(),at=0;at<st.length;at++)if(T.initDataEquals(Ye,st[at]))return ce.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function Ge(Ye){Ve(),Ye?(L.setMediaElement(Ye),y.on(B.NEED_KEY,vt,Se)):null===Ye&&(L.setMediaElement(Ye),y.off(B.NEED_KEY,vt,Se))}function yt(Ye){var st=Ye.protData,at=[],St=[],bt=st&&st.audioRobustness&&st.audioRobustness.length>0?st.audioRobustness:Ae,At=st&&st.videoRobustness&&st.videoRobustness.length>0?st.videoRobustness:Ae,on=Ye.sessionType,En=st&&st.distinctiveIdentifier?st.distinctiveIdentifier:"optional",tn=st&&st.persistentState?st.persistentState:"temporary"===on?"optional":"required";return Ie.forEach(function(Mn){Mn.type===ae.AUDIO?at.push(new v.default(Mn.codec,bt)):Mn.type===ae.VIDEO&&St.push(new v.default(Mn.codec,At))}),new b.default(at,St,En,tn,[on])}function Dt(Ye){Ye.error?y.trigger(B.KEY_STATUSES_CHANGED,{data:null,error:Ye.error}):ce.debug("DRM: key status = "+Ye.status)}function fe(Ye){ce.debug("DRM: onKeyMessage");var st=Ye.data;y.trigger(B.KEY_MESSAGE,{data:st});var at=st.messageType?st.messageType:"license-request",St=st.message,bt=st.sessionToken,At=X(ke),on=T.getLicenseServerModelInstance(ke,At,at),En={sessionToken:bt,messageType:at};if(St&&0!==St.byteLength){if(!on)return ce.debug("DRM: License server request not required for this message (type = "+Ye.data.messageType+").  Session ID = "+bt.getSessionId()),void ze(En);if(T.isClearKey(ke)){var tn=T.processClearKeyLicenseRequest(ke,At,St);if(tn&&tn.keyPairs&&tn.keyPairs.length>0)return ce.debug("DRM: ClearKey license request handled by application!"),ze(En),void L.updateKeySession(bt,tn)}!function Tt(Ye,st,at){var St=Ye.sessionToken,bt=Ye.messageType?Ye.messageType:"license-request",At={sessionToken:St,messageType:bt},on=ke?ke.systemString:null,En=function qt(Ye,st,at,St,bt){var At=null,on=St.message;if(Ye&&Ye.serverURL){var En=Ye.serverURL;"string"==typeof En&&""!==En?At=En:"object"===g(En)&&En.hasOwnProperty(st)&&(At=En[st])}else if(Ye&&Ye.laURL&&""!==Ye.laURL)At=Ye.laURL;else if(!(At=t.default.getLicenseServerUrlFromMediaInfo(Ie,ke.schemeIdURI))&&!T.isClearKey(ke)){var tn=t.default.getPSSHData(at.initData);(At=ke.getLicenseServerURLFromInitData(tn))||(At=St.laURL)}return bt.getServerURLFromMessage(At,on,st)}(at,bt,St,Ye,st);if(En){var tn={},Mn=!1;at&&un(tn,at.httpRequestHeaders);var In=Ye.message;un(tn,ke.getRequestHeadersFromMessage(In)),Object.keys(tn).forEach(function(Ct){"authorization"===Ct.toLowerCase()&&(Mn=!0)}),at&&"boolean"==typeof at.withCredentials&&(Mn=at.withCredentials);var $n=function(Qt){if(L)if(Qt.status>=200&&Qt.status<=299){var Rt=c.default.parseHttpHeaders(Qt.getAllResponseHeaders?Qt.getAllResponseHeaders():null),xn=new m.default(Qt.responseURL,Rt,Qt.response);wt(G.getLicenseResponseFilters(),xn).then(function(){var It=st.getLicenseMessage(xn.data,on,bt);null!==It?(ze(At),L.updateKeySession(St,It)):fn(Qt,At,on,bt,st)})}else fn(Qt,At,on,bt,st)},ni=function(Qt){ze(At,new P.default(_.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,_.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+on+' update, XHR aborted. status is "'+Qt.statusText+'" ('+Qt.status+"), readyState is "+Qt.readyState))},vn=function(Qt){ze(At,new P.default(_.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,_.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+on+' update, XHR error. status is "'+Qt.statusText+'" ('+Qt.status+"), readyState is "+Qt.readyState))},gn=ke.getLicenseRequestFromMessage(In),yn=st.getHTTPMethod(bt),pn=st.getResponseType(on,bt),_n=at&&!isNaN(at.httpTimeout)?at.httpTimeout:8e3,Mt=St.getSessionId()||null,ht=new C.default(En,yn,pn,tn,Mn,bt,Mt,gn),Tn=isNaN(le.get().streaming.retryAttempts[i.HTTPRequest.LICENSE])?3:le.get().streaming.retryAttempts[i.HTTPRequest.LICENSE];wt(G.getLicenseRequestFilters(),ht).then(function(){Kt(ht,Tn,_n,$n,ni,vn)})}else ze(At,new P.default(_.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,_.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(st,on,At)}else ze(En,new P.default(_.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,_.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function ze(Ye,st){y.trigger(B.LICENSE_REQUEST_COMPLETE,{data:Ye,error:st})}function Kt(Ye,st,at,St,bt,At){var on=new XMLHttpRequest;if(le.get().streaming.cmcd&&le.get().streaming.cmcd.enabled&&le.get().streaming.cmcd.mode===d.default.CMCD_MODE_QUERY){var tn=Y.getQueryParameter({url:Ye.url,type:i.HTTPRequest.LICENSE});tn&&(Ye.url=c.default.addAditionalQueryParameterToUrl(Ye.url,[tn]))}for(var Mn in on.open(Ye.method,Ye.url,!0),on.responseType=Ye.responseType,on.withCredentials=Ye.withCredentials,at>0&&(on.timeout=at),Ye.headers)on.setRequestHeader(Mn,Ye.headers[Mn]);if(le.get().streaming.cmcd&&le.get().streaming.cmcd.enabled&&le.get().streaming.cmcd.mode===d.default.CMCD_MODE_HEADER){var Nn=Y.getHeaderParameters({url:Ye.url,type:i.HTTPRequest.LICENSE});if(Nn)for(var $n in Nn){var ni=Nn[$n];ni&&on.setRequestHeader($n,ni)}}var vn=function(){st--;var yn=isNaN(le.get().streaming.retryIntervals[i.HTTPRequest.LICENSE])?1e3:le.get().streaming.retryIntervals[i.HTTPRequest.LICENSE];Te=setTimeout(function(){Kt(Ye,st,at,St,bt,At)},yn)};on.onload=function(){we=null,this.status>=200&&this.status<=299||st<=0?St(this):(ce.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+st),vn())},on.ontimeout=on.onerror=function(){we=null,st<=0?At(this):(ce.warn("License request network request failed . Retrying it... Pending retries: "+st),vn())},on.onabort=function(){bt(this)},y.trigger(B.LICENSE_REQUEST_SENDING,{url:Ye.url,headers:Ye.headers,payload:Ye.data,sessionId:Ye.sessionId}),we=on,on.send(Ye.data)}function Jt(){we&&(we.onloadend=we.onerror=we.onprogress=void 0,we.abort(),we=null),Te&&(clearTimeout(Te),Te=null)}function un(Ye,st){if(st)for(var at in st)Ye[at]=st[at]}function fn(Ye,st,at,St,bt){var At="NONE",on=null;Ye.response&&(At=bt.getErrorResponse(Ye.response,at,St),on={serverResponse:Ye.response||null,responseCode:Ye.status||null,responseText:Ye.statusText||null}),ze(st,new P.default(_.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,_.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+at+' update, XHR complete. status is "'+Ye.statusText+'" ('+Ye.status+"), readyState is "+Ye.readyState+".  Response is "+At,on))}function wt(Ye,st){return Ye?Ye.reduce(function(at,St){return at.then(function(){return St(st)})},Promise.resolve()):Promise.resolve()}function vt(Ye,st){if(!le.get().streaming.protection.ignoreEmeEncryptedEvent){if(ce.debug("DRM: onNeedKey"),"cenc"!==Ye.key.initDataType)return void ce.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+Ye.key.initDataType);if(0===Ie.length&&(ce.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(st=typeof st>"u"?1:st+1)<5))return void Fe.push(setTimeout(function(){vt(Ye,st)},500));var at=Ye.key.initData;if(ArrayBuffer.isView(at)&&(at=at.buffer),ke){var St=t.default.getPSSHForKeySystem(ke,at);if(St&&q(St))return}ce.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(at)));var bt=T.getSupportedKeySystemsFromSegmentPssh(at,Ce,pe);if(0===bt.length)return void ce.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");!function Re(Ye){ge.push(Ye),be(Ye,!1)}(bt)}}return Se={initializeForMedia:function ft(Ye){if(!Ye)throw new Error("mediaInfo can not be null or undefined");Ve(),Ie.push(Ye)},clearMediaInfoArray:function $(){Ie=[]},handleKeySystemFromManifest:function Ze(){if(Ie&&0!==Ie.length){var Ye=[];Ie.forEach(function(st){var at=T.getSupportedKeySystemsFromContentProtection(st.contentProtection,Ce,pe);at.length>0&&(0===Ye.length&&(Ye=at),ge.push(at))}),Ye&&Ye.length>0&&be(Ye,!0)}},createKeySession:ee,loadKeySession:oe,removeKeySession:function _e(Ye){Ve(),L.removeKeySession(Ye)},closeKeySession:function xe(Ye){Ve(),L.closeKeySession(Ye)},setServerCertificate:function Ee(Ye){Ve(),L.setServerCertificate(Ye)},setMediaElement:Ge,setSessionType:function ct(Ye){pe=Ye},setRobustnessLevel:function Xe(Ye){Ae=Ye},setProtectionData:function tt(Ye){Ce=Ye,T.setProtectionData(Ye)},getSupportedKeySystemsFromContentProtection:function re(Ye){return Ve(),T.getSupportedKeySystemsFromContentProtection(Ye,Ce,pe)},getKeySystems:function it(){return T?T.getKeySystems():[]},setKeySystems:function He(Ye){T&&T.setKeySystems(Ye)},stop:function gt(){Jt(),L&&L.stop()},reset:function Qe(){y.off(B.INTERNAL_KEY_MESSAGE,fe,Se),y.off(B.INTERNAL_KEY_STATUS_CHANGED,Dt,Se),Ve(),Jt(),Ge(null),ke=null,he=!1,L&&(L.reset(),L=null),Fe.forEach(function(Ye){return clearTimeout(Ye)}),Fe=[],Ie=[],ge=[]}},function Oe(){ce=z.getLogger(Se),ge=[],Ie=[],pe="temporary",Ae="",we=null,Te=null,y.on(B.INTERNAL_KEY_MESSAGE,fe,Se),y.on(B.INTERNAL_KEY_STATUS_CHANGED,Dt,Se)}(),Se}D.__dashjs_factory_name="ProtectionController",p.default=f.default.getClassFactory(D)},"./src/streaming/protection/controllers/ProtectionKeyController.js":
/*!*************************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionKeyController.js ***!
                  \*************************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),v=e(
/*! ./../drm/KeySystemClearKey */
"./src/streaming/protection/drm/KeySystemClearKey.js"),b=e(
/*! ./../drm/KeySystemW3CClearKey */
"./src/streaming/protection/drm/KeySystemW3CClearKey.js"),_=e(
/*! ./../drm/KeySystemWidevine */
"./src/streaming/protection/drm/KeySystemWidevine.js"),P=e(
/*! ./../drm/KeySystemPlayReady */
"./src/streaming/protection/drm/KeySystemPlayReady.js"),C=e(
/*! ./../servers/DRMToday */
"./src/streaming/protection/servers/DRMToday.js"),m=e(
/*! ./../servers/PlayReady */
"./src/streaming/protection/servers/PlayReady.js"),i=e(
/*! ./../servers/Widevine */
"./src/streaming/protection/servers/Widevine.js"),c=e(
/*! ./../servers/ClearKey */
"./src/streaming/protection/servers/ClearKey.js"),d=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function f(){var S,x,A,N,O,D,I,T,g=this.context;function ge(pe,Ae){return Ae&&pe in Ae?Ae[pe]:null}function Ie(pe,Ae){return pe&&pe.sessionId?pe.sessionId:Ae&&Ae.sessionId?Ae.sessionId:null}function Ce(pe,Ae){return pe&&pe.sessionType?pe.sessionType:Ae}return S={initialize:function y(){var pe;N=[],pe=Object(P.default)(g).getInstance({BASE64:O,settings:D}),N.push(pe),pe=Object(_.default)(g).getInstance({BASE64:O}),N.push(pe),pe=Object(v.default)(g).getInstance({BASE64:O}),N.push(pe),I=pe,pe=Object(b.default)(g).getInstance({BASE64:O,debug:x}),N.push(pe),T=pe},setProtectionData:function ce(pe){for(var ke=0;ke<N.length;ke++){var he=N[ke];he.hasOwnProperty("init")&&he.init((Te=he.systemString,Oe=void 0,Oe=null,pe&&(Oe=Te in pe?pe[Te]:null),Oe))}var Te,Oe},isClearKey:function ae(pe){return pe===I||pe===T},initDataEquals:function Fe(pe,Ae){if(pe.byteLength===Ae.byteLength){for(var ke=new Uint8Array(pe),he=new Uint8Array(Ae),we=0;we<ke.length;we++)if(ke[we]!==he[we])return!1;return!0}return!1},getKeySystems:function B(){return N},setKeySystems:function z(pe){N=pe},getKeySystemBySystemString:function ne(pe){for(var Ae=0;Ae<N.length;Ae++)if(N[Ae].systemString===pe)return N[Ae];return null},getSupportedKeySystemsFromContentProtection:function Y(pe,Ae,ke){var he,we,Te,Oe,Ve=[];if(pe){var ft=t.default.findCencContentProtection(pe);for(Te=0;Te<N.length;++Te){var Ze=ge((we=N[Te]).systemString,Ae);for(Oe=0;Oe<pe.length;++Oe)if((he=pe[Oe]).schemeIdUri.toLowerCase()===we.schemeIdURI){var Re=we.getInitData(he,ft);Ve.push({ks:N[Te],keyId:he.keyId,initData:Re,protData:Ze,cdmData:we.getCDMData(Ze?Ze.cdmData:null),sessionId:Ie(Ze,he),sessionType:Ce(Ze,ke)})}}}return Ve},getSupportedKeySystemsFromSegmentPssh:function le(pe,Ae,ke){for(var Te,he=[],we=t.default.parsePSSHList(pe),Ve=0;Ve<N.length;++Ve){var ft=ge((Te=N[Ve]).systemString,Ae);Te.uuid in we&&he.push({ks:Te,initData:we[Te.uuid],protData:ft,cdmData:Te.getCDMData(ft?ft.cdmData:null),sessionId:Ie(ft),sessionType:Ce(ft,ke)})}return he},getLicenseServerModelInstance:function G(pe,Ae,ke){if("license-release"===ke||"individualization-request"===ke)return null;var he=null;return Ae&&Ae.hasOwnProperty("drmtoday")?he=Object(C.default)(g).getInstance({BASE64:O}):pe.systemString===d.default.WIDEVINE_KEYSTEM_STRING?he=Object(i.default)(g).getInstance():pe.systemString===d.default.PLAYREADY_KEYSTEM_STRING?he=Object(m.default)(g).getInstance():pe.systemString===d.default.CLEARKEY_KEYSTEM_STRING&&(he=Object(c.default)(g).getInstance()),he},processClearKeyLicenseRequest:function Se(pe,Ae,ke){try{return pe.getClearKeysFromProtectionData(Ae,ke)}catch{return A.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function L(pe){pe&&(pe.debug&&(A=(x=pe.debug).getLogger(S)),pe.BASE64&&(O=pe.BASE64),pe.settings&&(D=pe.settings))}}}f.__dashjs_factory_name="ProtectionKeyController",p.default=dashjs.FactoryMaker.getSingletonFactory(f)},"./src/streaming/protection/drm/KeySystemClearKey.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemClearKey.js ***!
                  \***********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),v=e(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),b=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),_=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),P="e2719d58-a985-b3c9-781a-b030af78d30e",C=_.default.CLEARKEY_KEYSTEM_STRING,m="urn:uuid:"+P;function i(c){var f=(c=c||{}).BASE64;function x(I){try{var T=I.replace(/-/g,"");return(T=btoa(T.match(/\w{2}/g).map(function(L){return String.fromCharCode(parseInt(L,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}return{uuid:P,schemeIdURI:m,systemString:C,getInitData:function S(I,T){try{var L=b.default.parseInitDataFromContentProtection(I,f);if(!L&&T){var B={kids:[x(T["cenc:default_KID"])]};L=(new TextEncoder).encode(JSON.stringify(B))}return L}catch{return null}},getRequestHeadersFromMessage:function A(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function N(I){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(I))))},getLicenseServerURLFromInitData:function O(){return null},getCDMData:function D(){return null},getClearKeysFromProtectionData:function g(I,T){var L=null;if(I){for(var y=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(T))),B=[],z=0;z<y.kids.length;z++){var ne=y.kids[z],ae=I.clearkeys&&I.clearkeys.hasOwnProperty(ne)?I.clearkeys[ne]:null;if(!ae)throw new Error("DRM: ClearKey keyID ("+ne+") is not known!");B.push(new t.default(ne,ae))}L=new v.default(B)}return L}}}i.__dashjs_factory_name="KeySystemClearKey",p.default=dashjs.FactoryMaker.getSingletonFactory(i)},"./src/streaming/protection/drm/KeySystemPlayReady.js":
/*!************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemPlayReady.js ***!
                  \************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),v=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),b="9a04f079-9840-4286-ab92-e65be0885f95",_=v.default.PLAYREADY_KEYSTEM_STRING,P="urn:uuid:"+b;function m(i){var d="utf-16",f=(i=i||{}).BASE64,g=i.settings;function S(){if(!f||!f.hasOwnProperty("decodeArray")||!f.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:b,schemeIdURI:P,systemString:_,getInitData:function O(T){var ne,ae,Fe,Y,le,L=new Uint8Array([112,115,115,104,0,0,0,0]),y=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),B=0,z=null;if(S(),!T)return null;if("pssh"in T)return t.default.parseInitDataFromContentProtection(T,f);if("pro"in T)z=f.decodeArray(T.pro.__text);else{if(!("prheader"in T))return null;z=f.decodeArray(T.prheader.__text)}return ae=4+L.length+y.length+4+(ne=z.length),Fe=new ArrayBuffer(ae),Y=new Uint8Array(Fe),(le=new DataView(Fe)).setUint32(B,ae),Y.set(L,B+=4),Y.set(y,B+=L.length),le.setUint32(B+=y.length,ne),Y.set(z,B+=4),B+=ne,Y.buffer},getRequestHeadersFromMessage:function x(T){var L,y,B={},z=new DOMParser;if(g&&g.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===d&&T&&T.byteLength%2==1)return B["Content-Type"]="text/xml; charset=utf-8",B;var ne="utf-16"===d?new Uint16Array(T):new Uint8Array(T);L=String.fromCharCode.apply(null,ne);for(var ae=(y=z.parseFromString(L,"application/xml")).getElementsByTagName("name"),Fe=y.getElementsByTagName("value"),Y=0;Y<ae.length;Y++)B[ae[Y].childNodes[0].nodeValue]=Fe[Y].childNodes[0].nodeValue;return B.hasOwnProperty("Content")&&(B["Content-Type"]=B.Content,delete B.Content),B.hasOwnProperty("Content-Type")||(B["Content-Type"]="text/xml; charset=utf-8"),B},getLicenseRequestFromMessage:function A(T){var L=null,y=new DOMParser;if(g&&g.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===d&&T&&T.byteLength%2==1)return T;var B="utf-16"===d?new Uint16Array(T):new Uint8Array(T);S();var z=String.fromCharCode.apply(null,B),ne=y.parseFromString(z,"application/xml");if(!ne.getElementsByTagName("PlayReadyKeyMessage")[0])return T;var ae=ne.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return ae&&(L=f.decode(ae)),L},getLicenseServerURLFromInitData:function N(T){if(T)for(var L=new DataView(T),y=L.getUint16(4,!0),B=6,z=new DOMParser,ne=0;ne<y;ne++){var ae=L.getUint16(B,!0),Fe=L.getUint16(B+=2,!0);if(B+=2,1===ae){var Y=T.slice(B,B+Fe),le=String.fromCharCode.apply(null,new Uint16Array(Y)),G=z.parseFromString(le,"application/xml");if(G.getElementsByTagName("LA_URL")[0]){var Se=G.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(Se)return Se}if(G.getElementsByTagName("LUI_URL")[0]){var ce=G.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(ce)return ce}}else B+=Fe}return null},getCDMData:function I(T){var L,y,B,z;if(S(),!T)return null;for(L=[],z=0;z<T.length;++z)L.push(T.charCodeAt(z)),L.push(0);for(L=String.fromCharCode.apply(null,L),L=f.encode(L),y='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",L),B=[],z=0;z<y.length;++z)B.push(y.charCodeAt(z)),B.push(0);return new Uint8Array(B).buffer},setPlayReadyMessageFormat:function D(T){if("utf-8"!==T&&"utf-16"!==T)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');d=T}}}m.__dashjs_factory_name="KeySystemPlayReady",p.default=dashjs.FactoryMaker.getSingletonFactory(m)},"./src/streaming/protection/drm/KeySystemW3CClearKey.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemW3CClearKey.js ***!
                  \**************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),v=e(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),b=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),_=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),P="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",C=_.default.CLEARKEY_KEYSTEM_STRING,m="urn:uuid:"+P;function i(c){var d,f=c.BASE64,g=c.debug.getLogger(d);return{uuid:P,schemeIdURI:m,systemString:C,getInitData:function x(I){return b.default.parseInitDataFromContentProtection(I,f)},getRequestHeadersFromMessage:function A(){return null},getLicenseRequestFromMessage:function N(I){return new Uint8Array(I)},getLicenseServerURLFromInitData:function O(){return null},getCDMData:function D(){return null},getClearKeysFromProtectionData:function S(I,T){var L=null;if(I){for(var y=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(T))),B=[],z=0;z<y.kids.length;z++){var ne=y.kids[z],ae=I.clearkeys&&I.clearkeys.hasOwnProperty(ne)?I.clearkeys[ne]:null;if(!ae)throw new Error("DRM: ClearKey keyID ("+ne+") is not known!");B.push(new t.default(ne,ae))}L=new v.default(B),g.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return L}}}i.__dashjs_factory_name="KeySystemW3CClearKey",p.default=dashjs.FactoryMaker.getSingletonFactory(i)},"./src/streaming/protection/drm/KeySystemWidevine.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemWidevine.js ***!
                  \***********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),v=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),b="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",_=v.default.WIDEVINE_KEYSTEM_STRING,P="urn:uuid:"+b;function C(m){var c=(m=m||{}).BASE64;return{uuid:b,schemeIdURI:P,systemString:_,getInitData:function d(A){return t.default.parseInitDataFromContentProtection(A,c)},getRequestHeadersFromMessage:function f(){return null},getLicenseRequestFromMessage:function g(A){return new Uint8Array(A)},getLicenseServerURLFromInitData:function S(){return null},getCDMData:function x(){return null}}}C.__dashjs_factory_name="KeySystemWidevine",p.default=dashjs.FactoryMaker.getSingletonFactory(C)},"./src/streaming/protection/errors/ProtectionErrors.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/protection/errors/ProtectionErrors.js ***!
                  \*************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function v(O){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(O)}function b(O,D){for(var I=0;I<D.length;I++){var T=D[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,P(T.key),T)}}function P(O){var D=function C(O,D){if("object"!==v(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var T=I.call(O,D||"default");if("object"!==v(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(O)}(O,"string");return"symbol"===v(D)?D:String(D)}function i(O,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),D&&c(O,D)}function c(O,D){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,L){return T.__proto__=L,T})(O,D)}function d(O){var D=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,T=x(O);if(D){var y=x(this).constructor;L=Reflect.construct(T,arguments,y)}else L=T.apply(this,arguments);return function f(O,D){if(D&&("object"===v(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function g(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function x(O){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}e.r(p);var N=new(function(O){i(I,O);var D=d(I);function I(){var T;return function m(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I),(T=D.call(this)).MEDIA_KEYERR_CODE=100,T.MEDIA_KEYERR_UNKNOWN_CODE=101,T.MEDIA_KEYERR_CLIENT_CODE=102,T.MEDIA_KEYERR_SERVICE_CODE=103,T.MEDIA_KEYERR_OUTPUT_CODE=104,T.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,T.MEDIA_KEYERR_DOMAIN_CODE=106,T.MEDIA_KEY_MESSAGE_ERROR_CODE=107,T.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,T.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,T.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,T.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,T.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,T.KEY_SESSION_CREATED_ERROR_CODE=113,T.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,T.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",T.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",T.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",T.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",T.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",T.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",T.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",T.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",T.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",T.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",T.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",T.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",T.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",T.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",T}return function _(O,D,I){return D&&b(O.prototype,D),I&&b(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(e(
/*! ../../../core/errors/ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));p.default=N},"./src/streaming/protection/models/ProtectionModel_01b.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_01b.js ***!
                  \****************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),v=e(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),b=e(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),_=e(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),P=e(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),C=e(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),m=e(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js");function i(c){var N,O,D,I,T,L,y,B,z,d=this.context,f=(c=c||{}).eventBus,g=c.events,S=c.debug,x=c.api,A=c.errHandler;function ae(){D&&we();for(var Te=0;Te<y.length;Te++)Ie(y[Te]);f.trigger(g.TEARDOWN_COMPLETE)}function Ie(Te){try{D[x.cancelKeyRequest](I.systemString,Te.sessionId)}catch(Oe){f.trigger(g.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Te.sessionId+") "+Oe.message})}}function he(Te,Oe){if(!Oe||!Te)return null;for(var Ve=Te.length,ft=0;ft<Ve;ft++)if(Te[ft].sessionId==Oe)return Te[ft];return null}function we(){D.removeEventListener(x.keyerror,z),D.removeEventListener(x.needkey,z),D.removeEventListener(x.keymessage,z),D.removeEventListener(x.keyadded,z)}return N={getAllInitData:function Fe(){for(var Te=[],Oe=0;Oe<L.length;Oe++)Te.push(L[Oe].initData);for(var Ve=0;Ve<y.length;Ve++)Te.push(y[Ve].initData);return Te},getSessions:function Y(){return y.concat(L)},requestKeySystemAccess:function le(Te){return new Promise(function(Oe,Ve){var ft=D;ft||(ft=document.createElement("video"));for(var Ze=!1,Re=0;Re<Te.length;Re++)for(var be=Te[Re].ks.systemString,Q=Te[Re].configs,ye=null,oe=0;oe<Q.length;oe++){var ee=Q[oe].videoCapabilities;if(ee&&0!==ee.length){ye=[];for(var X=0;X<ee.length;X++)""!==ft.canPlayType(ee[X].contentType,be)&&ye.push(ee[X])}if(ye&&(!ye||0!==ye.length)){Ze=!0;var $=new P.default(null,ye),re=T.getKeySystemBySystemString(be),J=new C.default(re,$);f.trigger(g.KEY_SYSTEM_ACCESS_COMPLETE,{data:J}),Oe({data:J});break}}if(!Ze){var q="Key system access denied! -- No valid audio/video content configurations detected!";f.trigger(g.KEY_SYSTEM_ACCESS_COMPLETE,{error:q}),Ve({error:q})}})},selectKeySystem:function G(Te){return I=Te.keySystem,Promise.resolve(I)},setMediaElement:function Se(Te){if(D!==Te){if(D){we();for(var Oe=0;Oe<y.length;Oe++)Ie(y[Oe]);y=[]}(D=Te)&&(D.addEventListener(x.keyerror,z),D.addEventListener(x.needkey,z),D.addEventListener(x.keymessage,z),D.addEventListener(x.keyadded,z),f.trigger(g.VIDEO_ELEMENT_SELECTED))}},createKeySession:function ce(Te){if(!I)throw new Error("Can not create sessions until you have selected a key system");if(B||0===y.length){var Oe={sessionId:null,keyId:Te.keyId,initData:Te.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return L.push(Oe),D[x.generateKeyRequest](I.systemString,new Uint8Array(Te.initData)),Oe}throw new Error("Multiple sessions not allowed!")},updateKeySession:function ge(Te,Oe){var Ve=Te.sessionId;if(T.isClearKey(I))for(var ft=0;ft<Oe.keyPairs.length;ft++)D[x.addKey](I.systemString,Oe.keyPairs[ft].key,Oe.keyPairs[ft].keyID,Ve);else D[x.addKey](I.systemString,new Uint8Array(Oe),new Uint8Array(Te.initData),Ve);f.trigger(g.KEY_SESSION_UPDATED)},closeKeySession:Ie,setServerCertificate:function Ce(){},loadKeySession:function pe(){},removeKeySession:function Ae(){},stop:ae,reset:ae},function ne(){O=S.getLogger(N),D=null,I=null,L=[],y=[],T=Object(t.default)(d).getInstance(),z=function ke(){return{handleEvent:function(Oe){var Ve=null;switch(Oe.type){case x.needkey:var ft=ArrayBuffer.isView(Oe.initData)?Oe.initData.buffer:Oe.initData;f.trigger(g.NEED_KEY,{key:new v.default(ft,"cenc")});break;case x.keyerror:if((Ve=he(y,Oe.sessionId))||(Ve=he(L,Oe.sessionId)),Ve){var Ze=m.default.MEDIA_KEYERR_CODE,Re="";switch(Oe.errorCode.code){case 1:Ze=m.default.MEDIA_KEYERR_UNKNOWN_CODE,Re+="MEDIA_KEYERR_UNKNOWN - "+m.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:Ze=m.default.MEDIA_KEYERR_CLIENT_CODE,Re+="MEDIA_KEYERR_CLIENT - "+m.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:Ze=m.default.MEDIA_KEYERR_SERVICE_CODE,Re+="MEDIA_KEYERR_SERVICE - "+m.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:Ze=m.default.MEDIA_KEYERR_OUTPUT_CODE,Re+="MEDIA_KEYERR_OUTPUT - "+m.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:Ze=m.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,Re+="MEDIA_KEYERR_HARDWARECHANGE - "+m.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:Ze=m.default.MEDIA_KEYERR_DOMAIN_CODE,Re+="MEDIA_KEYERR_DOMAIN - "+m.default.MEDIA_KEYERR_DOMAIN_MESSAGE}f.trigger(g.KEY_ERROR,{error:new b.default(Ze,Re+="  System Code = "+Oe.systemCode,Ve)})}else O.error("No session token found for key error");break;case x.keyadded:(Ve=he(y,Oe.sessionId))||(Ve=he(L,Oe.sessionId)),Ve?(O.debug("DRM: Key added."),f.trigger(g.KEY_ADDED,{data:Ve})):O.debug("No session token found for key added");break;case x.keymessage:if((B=null!=Oe.sessionId)?!(Ve=he(y,Oe.sessionId))&&L.length>0&&(Ve=L.shift(),y.push(Ve),Ve.sessionId=Oe.sessionId,f.trigger(g.KEY_SESSION_CREATED,{data:Ve})):L.length>0&&(Ve=L.shift(),y.push(Ve),0!==L.length&&A.error(new b.default(m.default.MEDIA_KEY_MESSAGE_ERROR_CODE,m.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),Ve){var be=ArrayBuffer.isView(Oe.message)?Oe.message.buffer:Oe.message;Ve.keyMessage=be,f.trigger(g.INTERNAL_KEY_MESSAGE,{data:new _.default(Ve,be,Oe.defaultURL)})}else O.warn("No session token found for key message")}}}}()}(),N}i.__dashjs_factory_name="ProtectionModel_01b",p.default=dashjs.FactoryMaker.getClassFactory(i)},"./src/streaming/protection/models/ProtectionModel_21Jan2015.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_21Jan2015.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),v=e(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),b=e(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),_=e(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),P=e(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),C=e(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),m=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),i={};function c(d){var A,N,O,D,I,T,L,y,f=this.context,g=(d=d||{}).eventBus,S=d.events,x=d.debug;function le(Ze,Re,be,Q){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var ie="Insecure origins are not allowed";return g.trigger(S.KEY_SYSTEM_ACCESS_COMPLETE,{error:ie}),void Q({error:ie})}var ee=Ze[Re].ks,X=ee.systemString;(function G(Ze,Re){return new Promise(function(be,Q){Se(Ze,Re,0,be,Q)})})((Ze[Re].protData&&Ze[Re].protData.systemStringPriority?Ze[Re].protData.systemStringPriority:null)||(i[X]?i[X]:[X]),Ze[Re].configs).then(function(re){var J="function"==typeof re.getConfiguration?re.getConfiguration():null,q=new C.default(ee,J);q.mksa=re,g.trigger(S.KEY_SYSTEM_ACCESS_COMPLETE,{data:q}),be({data:q})}).catch(function(re){if(Re+1<Ze.length)le(Ze,Re+1,be,Q);else{var J="Key system access denied! ";g.trigger(S.KEY_SYSTEM_ACCESS_COMPLETE,{error:J+re.message}),Q({error:J+re.message})}})}function Se(Ze,Re,be,Q,ie){var ye=Ze[be];N.debug("Requesting key system access for system string ".concat(ye)),navigator.requestMediaKeySystemAccess(ye,Re).then(function(oe){oe.selectedSystemString=ye,Q(oe)}).catch(function(oe){be+1<Ze.length?Se(Ze,Re,be+1,Q,ie):ie(oe)})}function we(Ze){var Re=Ze.session;return Re.removeEventListener("keystatuseschange",Ze),Re.removeEventListener("message",Ze),Re.close()}function Oe(Ze){for(var Re=0;Re<T.length;Re++)if(T[Re]===Ze){T.splice(Re,1);break}}function Ve(Ze){var Re,be;return Ze&&Ze.length>0&&(Ze[0]&&("string"==typeof Ze[0]?Re=Ze[0]:be=Ze[0]),Ze[1]&&("string"==typeof Ze[1]?Re=Ze[1]:be=Ze[1])),{status:Re,keyId:be}}function ft(Ze,Re){var be={session:Ze,keyId:Re.keyId,initData:Re.initData,sessionId:Re.sessionId,sessionType:Re.sessionType,handleEvent:function(ie){switch(ie.type){case"keystatuseschange":g.trigger(S.KEY_STATUSES_CHANGED,{data:this}),ie.target.keyStatuses.forEach(function(){var oe=Ve(arguments);g.trigger(S.INTERNAL_KEY_STATUS_CHANGED,"expired"===oe.status?{error:new _.default(b.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,b.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}:oe)});break;case"message":var ye=ArrayBuffer.isView(ie.message)?ie.message.buffer:ie.message;g.trigger(S.INTERNAL_KEY_MESSAGE,{data:new P.default(this,ye,void 0,ie.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return Ze.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return Ze.expiration},getKeyStatuses:function(){return Ze.keyStatuses},getUsable:function(){var ie=!1;return Ze.keyStatuses.forEach(function(){"usable"===Ve(arguments).status&&(ie=!0)}),ie}};return Ze.addEventListener("keystatuseschange",be),Ze.addEventListener("message",be),Ze.closed.then(function(){Oe(be),N.debug("DRM: Session closed.  SessionID = "+be.getSessionId()),g.trigger(S.KEY_SESSION_CLOSED,{data:be.getSessionId()})}),T.push(be),be}return A={getAllInitData:function ae(){for(var Ze=[],Re=0;Re<T.length;Re++)T[Re].initData&&Ze.push(T[Re].initData);return Ze},getSessions:function Fe(){return T},requestKeySystemAccess:function Y(Ze){return new Promise(function(Re,be){le(Ze,0,Re,be)})},selectKeySystem:function ce(Ze){return new Promise(function(Re,be){Ze.mksa.createMediaKeys().then(function(Q){return O=Ze.keySystem,I=Q,D?D.setMediaKeys(I):Promise.resolve()}).then(function(){Re(O)}).catch(function(){be({error:"Error selecting keys system ("+Ze.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function ge(Ze){D!==Ze&&(D&&(D.removeEventListener("encrypted",L),D.setMediaKeys&&D.setMediaKeys(null)),(D=Ze)&&(D.addEventListener("encrypted",L),D.setMediaKeys&&I&&D.setMediaKeys(I)))},setServerCertificate:function Ie(Ze){if(!O||!I)throw new Error("Can not set server certificate until you have selected a key system");I.setServerCertificate(Ze).then(function(){N.info("DRM: License server certificate successfully updated."),g.trigger(S.SERVER_CERTIFICATE_UPDATED)}).catch(function(Re){g.trigger(S.SERVER_CERTIFICATE_UPDATED,{error:new _.default(b.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,b.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+Re.name)})})},createKeySession:function Ce(Ze){if(!O||!I)throw new Error("Can not create sessions until you have selected a key system");var Re=I.createSession(Ze.sessionType),be=ft(Re,Ze);Re.generateRequest(O.systemString===m.default.CLEARKEY_KEYSTEM_STRING&&(Ze.initData||Ze.protData&&Ze.protData.clearkeys)?m.default.INITIALIZATION_DATA_TYPE_KEYIDS:m.default.INITIALIZATION_DATA_TYPE_CENC,Ze.initData).then(function(){N.debug("DRM: Session created.  SessionID = "+be.getSessionId()),g.trigger(S.KEY_SESSION_CREATED,{data:be})}).catch(function(ie){Oe(be),g.trigger(S.KEY_SESSION_CREATED,{data:null,error:new _.default(b.default.KEY_SESSION_CREATED_ERROR_CODE,b.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+ie.name)})})},updateKeySession:function pe(Ze,Re){var be=Ze.session;y.isClearKey(O)&&(Re=Re.toJWK()),be.update(Re).then(function(){g.trigger(S.KEY_SESSION_UPDATED)}).catch(function(Q){g.trigger(S.KEY_ERROR,{error:new _.default(b.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+Q.name,Ze)})})},loadKeySession:function Ae(Ze){if(!O||!I)throw new Error("Can not load sessions until you have selected a key system");for(var Re=Ze.sessionId,be=0;be<T.length;be++)if(Re===T[be].sessionId)return void N.warn("DRM: Ignoring session ID because we have already seen it!");var Q=I.createSession(Ze.sessionType),ie=ft(Q,Ze);Q.load(Re).then(function(ye){ye?(N.debug("DRM: Session loaded.  SessionID = "+ie.getSessionId()),g.trigger(S.KEY_SESSION_CREATED,{data:ie})):(Oe(ie),g.trigger(S.KEY_SESSION_CREATED,{data:null,error:new _.default(b.default.KEY_SESSION_CREATED_ERROR_CODE,b.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+Re+")")}))}).catch(function(ye){Oe(ie),g.trigger(S.KEY_SESSION_CREATED,{data:null,error:new _.default(b.default.KEY_SESSION_CREATED_ERROR_CODE,b.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+Re+")! "+ye.name)})})},removeKeySession:function ke(Ze){Ze.session.remove().then(function(){N.debug("DRM: Session removed.  SessionID = "+Ze.getSessionId()),g.trigger(S.KEY_SESSION_REMOVED,{data:Ze.getSessionId()})},function(be){g.trigger(S.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+Ze.getSessionId()+"). "+be.name})})},closeKeySession:function he(Ze){we(Ze).catch(function(Re){Oe(Ze),g.trigger(S.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Ze.getSessionId()+") "+Re.name})})},stop:function ne(){for(var Ze,Re=0;Re<T.length;Re++)(Ze=T[Re]).getUsable()||we(Ze).catch(function(){Oe(Ze)})},reset:function z(){var Re,Ze=T.length;0!==Ze?function(){for(var be=function(ye){Oe(ye),0===T.length&&(D?(D.removeEventListener("encrypted",L),D.setMediaKeys(null).then(function(){g.trigger(S.TEARDOWN_COMPLETE)})):g.trigger(S.TEARDOWN_COMPLETE))},Q=0;Q<Ze;Q++)!function(ie){Re.session.closed.then(function(){be(ie)}),we(Re).catch(function(){be(ie)})}(Re=T[Q])}():g.trigger(S.TEARDOWN_COMPLETE)}},function B(){N=x.getLogger(A),O=null,D=null,I=null,T=[],y=Object(t.default)(f).getInstance(),L=function Te(){return{handleEvent:function(Re){if("encrypted"===Re.type&&Re.initData){var be=ArrayBuffer.isView(Re.initData)?Re.initData.buffer:Re.initData;g.trigger(S.NEED_KEY,{key:new v.default(be,Re.initDataType)})}}}}()}(),A}i[m.default.PLAYREADY_KEYSTEM_STRING]=[m.default.PLAYREADY_KEYSTEM_STRING,m.default.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],i[m.default.WIDEVINE_KEYSTEM_STRING]=[m.default.WIDEVINE_KEYSTEM_STRING],i[m.default.CLEARKEY_KEYSTEM_STRING]=[m.default.CLEARKEY_KEYSTEM_STRING],c.__dashjs_factory_name="ProtectionModel_21Jan2015",p.default=dashjs.FactoryMaker.getClassFactory(c)},"./src/streaming/protection/models/ProtectionModel_3Feb2014.js":
/*!*********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_3Feb2014.js ***!
                  \*********************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),v=e(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),b=e(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),_=e(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),P=e(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),C=e(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),m=e(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js");function i(c){var A,N,O,D,I,T,L,y,B,d=this.context,f=(c=c||{}).eventBus,g=c.events,S=c.debug,x=c.api;function ne(){try{for(var we=0;we<L.length;we++)ge(L[we]);O&&O.removeEventListener(x.needkey,y),f.trigger(g.TEARDOWN_COMPLETE)}catch(Te){f.trigger(g.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+Te.message})}}function ge(we){var Te=we.session;Te.removeEventListener(x.error,we),Te.removeEventListener(x.message,we),Te.removeEventListener(x.ready,we),Te.removeEventListener(x.close,we);for(var Oe=0;Oe<L.length;Oe++)if(L[Oe]===we){L.splice(Oe,1);break}Te[x.release]()}function ke(){var we=null,Te=function(){O.removeEventListener("loadedmetadata",we),O[x.setMediaKeys](I),f.trigger(g.VIDEO_ELEMENT_SELECTED)};O.readyState>=1?Te():(we=Te.bind(this),O.addEventListener("loadedmetadata",we))}return A={getAllInitData:function ae(){for(var we=[],Te=0;Te<L.length;Te++)we.push(L[Te].initData);return we},getSessions:function Fe(){return L},requestKeySystemAccess:function Y(we){return new Promise(function(Te,Oe){for(var Ve=!1,ft=0;ft<we.length;ft++)for(var Ze=we[ft].ks.systemString,Re=we[ft].configs,be=null,Q=null,ie=0;ie<Re.length;ie++){var ye=Re[ie].audioCapabilities,oe=Re[ie].videoCapabilities;if(ye&&0!==ye.length){be=[];for(var ee=0;ee<ye.length;ee++)window[x.MediaKeys].isTypeSupported(Ze,ye[ee].contentType)&&be.push(ye[ee])}if(oe&&0!==oe.length){Q=[];for(var X=0;X<oe.length;X++)window[x.MediaKeys].isTypeSupported(Ze,oe[X].contentType)&&Q.push(oe[X])}if(!(!be&&!Q||be&&0===be.length||Q&&0===Q.length)){Ve=!0;var $=new C.default(be,Q),re=B.getKeySystemBySystemString(Ze),J=new m.default(re,$);f.trigger(g.KEY_SYSTEM_ACCESS_COMPLETE,{data:J}),Te({data:J});break}}if(!Ve){var q="Key system access denied! -- No valid audio/video content configurations detected!";f.trigger(g.KEY_SYSTEM_ACCESS_COMPLETE,{error:q}),Oe({error:q})}})},selectKeySystem:function le(we){return new Promise(function(Te,Oe){try{I=we.mediaKeys=new window[x.MediaKeys](we.keySystem.systemString),D=we.keySystem,T=we,O&&ke(),Te(D)}catch{Oe({error:"Error selecting keys system ("+D.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function G(we){O!==we&&(O&&O.removeEventListener(x.needkey,y),(O=we)&&(O.addEventListener(x.needkey,y),I&&ke()))},createKeySession:function Se(we){if(!D||!I||!T)throw new Error("Can not create sessions until you have selected a key system");var Te=null;if(T.ksConfiguration.videoCapabilities&&T.ksConfiguration.videoCapabilities.length>0&&(Te=T.ksConfiguration.videoCapabilities[0]),null===Te&&T.ksConfiguration.audioCapabilities&&T.ksConfiguration.audioCapabilities.length>0&&(Te=T.ksConfiguration.audioCapabilities[0]),null===Te)throw new Error("Can not create sessions for unknown content types.");var Ve=I.createSession(Te.contentType,new Uint8Array(we.initData),we.cdmData?new Uint8Array(we.cdmData):null),ft=function he(we,Te){return{session:we,keyId:Te.keyId,initData:Te.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(Ve){switch(Ve.type){case x.error:f.trigger(g.KEY_ERROR,{error:new b.default(_.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case x.message:var Ze=ArrayBuffer.isView(Ve.message)?Ve.message.buffer:Ve.message;f.trigger(g.INTERNAL_KEY_MESSAGE,{data:new P.default(this,Ze,Ve.destinationURL)});break;case x.ready:N.debug("DRM: Key added."),f.trigger(g.KEY_ADDED);break;case x.close:N.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),f.trigger(g.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(Ve,we);Ve.addEventListener(x.error,ft),Ve.addEventListener(x.message,ft),Ve.addEventListener(x.ready,ft),Ve.addEventListener(x.close,ft),L.push(ft),N.debug("DRM: Session created.  SessionID = "+ft.getSessionId()),f.trigger(g.KEY_SESSION_CREATED,{data:ft})},updateKeySession:function ce(we,Te){var Oe=we.session;B.isClearKey(D)?Oe.update(new Uint8Array(Te.toJWK())):Oe.update(new Uint8Array(Te)),f.trigger(g.KEY_SESSION_UPDATED)},closeKeySession:ge,setServerCertificate:function Ie(){},loadKeySession:function Ce(){},removeKeySession:function pe(){},stop:ne,reset:ne},function z(){N=S.getLogger(A),O=null,D=null,I=null,T=null,L=[],B=Object(t.default)(d).getInstance(),y=function Ae(){return{handleEvent:function(Te){if(Te.type===x.needkey&&Te.initData){var Oe=ArrayBuffer.isView(Te.initData)?Te.initData.buffer:Te.initData;f.trigger(g.NEED_KEY,{key:new v.default(Oe,"cenc")})}}}}()}(),A}i.__dashjs_factory_name="ProtectionModel_3Feb2014",p.default=dashjs.FactoryMaker.getClassFactory(i)},"./src/streaming/protection/servers/ClearKey.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/ClearKey.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),v=e(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js");function b(){return{getServerURLFromMessage:function P(d){return d},getHTTPMethod:function C(){return"POST"},getResponseType:function m(){return"json"},getLicenseMessage:function i(d){if(!d.hasOwnProperty("keys"))return null;for(var f=[],g=0;g<d.keys.length;g++){var S=d.keys[g],x=S.kid.replace(/=/g,""),A=S.k.replace(/=/g,"");f.push(new t.default(x,A))}return new v.default(f)},getErrorResponse:function c(d){return String.fromCharCode.apply(null,new Uint8Array(d))}}}b.__dashjs_factory_name="ClearKey",p.default=dashjs.FactoryMaker.getSingletonFactory(b)},"./src/streaming/protection/servers/DRMToday.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/DRMToday.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function v(b){var _=(b=b||{}).BASE64,P={};return P[t.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(x){return _.decodeArray(x.license)},getErrorResponse:function(x){return x}},P[t.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(x){return x},getErrorResponse:function(x){return String.fromCharCode.apply(null,new Uint8Array(x))}},{getServerURLFromMessage:function i(S){return S},getHTTPMethod:function c(){return"POST"},getResponseType:function d(S){return P[S].responseType},getLicenseMessage:function f(S,x){return function m(){if(!_||!_.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),P[x].getLicenseMessage(S)},getErrorResponse:function g(S,x){return P[x].getErrorResponse(S)}}}v.__dashjs_factory_name="DRMToday",p.default=dashjs.FactoryMaker.getSingletonFactory(v)},"./src/streaming/protection/servers/PlayReady.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/servers/PlayReady.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(){var b="http://schemas.xmlsoap.org/soap/envelope/";function _(g){var S=String.fromCharCode.apply(null,new Uint8Array(g));return decodeURIComponent(escape(S))}function P(g){if(window.DOMParser){var S=_(g),A=(new window.DOMParser).parseFromString(S,"text/xml"),N=A?A.getElementsByTagNameNS(b,"Envelope")[0]:null,O=N?N.getElementsByTagNameNS(b,"Body")[0]:null;if(O&&O.getElementsByTagNameNS(b,"Fault")[0])return null}return g}function C(g){var S="",x="",A="",N=-1,O=-1;if(window.DOMParser){var D=_(g),T=(new window.DOMParser).parseFromString(D,"text/xml"),L=T?T.getElementsByTagNameNS(b,"Envelope")[0]:null,y=L?L.getElementsByTagNameNS(b,"Body")[0]:null,B=y?y.getElementsByTagNameNS(b,"Fault")[0]:null,z=B?B.getElementsByTagName("detail")[0]:null,ne=z?z.getElementsByTagName("Exception")[0]:null,ae=null;if(null===B)return D;S=(ae=B.getElementsByTagName("faultstring")[0].firstChild)?ae.nodeValue:null,null!==ne&&(x=(ae=ne.getElementsByTagName("StatusCode")[0])?ae.firstChild.nodeValue:null,N=(A=(ae=ne.getElementsByTagName("Message")[0])?ae.firstChild.nodeValue:null)?A.lastIndexOf("[")+1:-1,O=A?A.indexOf("]"):-1,A=A?A.substring(N,O):"")}var Fe="code: ".concat(x,", name: ").concat(S);return A&&(Fe+=", message: ".concat(A)),Fe}return{getServerURLFromMessage:function m(g){return g},getHTTPMethod:function i(){return"POST"},getResponseType:function c(){return"arraybuffer"},getLicenseMessage:function d(g){return P.call(this,g)},getErrorResponse:function f(g){return C.call(this,g)}}}e.r(p),t.__dashjs_factory_name="PlayReady",p.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/protection/servers/Widevine.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/Widevine.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(){return{getServerURLFromMessage:function b(i){return i},getHTTPMethod:function _(){return"POST"},getResponseType:function P(){return"arraybuffer"},getLicenseMessage:function C(i){return i},getErrorResponse:function m(i){return String.fromCharCode.apply(null,new Uint8Array(i))}}}e.r(p),t.__dashjs_factory_name="Widevine",p.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/protection/vo/ClearKeyKeySet.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/ClearKeyKeySet.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function b(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,P(f.key),f)}}function P(i){var c=function C(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=function(){function i(c,d){if(function v(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")}(this,i),d&&"persistent"!==d&&"temporary"!==d)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=c,this.type=d}return function _(i,c,d){return c&&b(i.prototype,c),d&&b(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"toJWK",value:function(){var d,f=this.keyPairs.length,g={keys:[]};for(d=0;d<f;d++)g.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[d].keyID,k:this.keyPairs[d].key});this.type&&(g.type=this.type);var x=JSON.stringify(g),A=x.length,N=new ArrayBuffer(A),O=new Uint8Array(N);for(d=0;d<A;d++)O[d]=x.charCodeAt(d);return N}}]),i}()},"./src/streaming/protection/vo/KeyMessage.js":
/*!***************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyMessage.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(c,d,f,g){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.sessionToken=c,this.message=d,this.defaultURL=f,this.messageType=g||"license-request"})},"./src/streaming/protection/vo/KeyPair.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyPair.js ***!
                  \************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(c,d){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.keyID=c,this.key=d})},"./src/streaming/protection/vo/KeySystemAccess.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemAccess.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(c,d){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.keySystem=c,this.ksConfiguration=d})},"./src/streaming/protection/vo/KeySystemConfiguration.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemConfiguration.js ***!
                  \***************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(c,d,f,g,S){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.initDataTypes=["cenc"],c&&c.length&&(this.audioCapabilities=c),d&&d.length&&(this.videoCapabilities=d),this.distinctiveIdentifier=f,this.persistentState=g,this.sessionTypes=S})},"./src/streaming/protection/vo/LicenseRequest.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseRequest.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(c,d,f,g,S,x,A,N){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.url=c,this.method=d,this.responseType=f,this.headers=g,this.withCredentials=S,this.messageType=x,this.sessionId=A,this.data=N})},"./src/streaming/protection/vo/LicenseResponse.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseResponse.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(c,d,f){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.url=c,this.headers=d,this.data=f})},"./src/streaming/protection/vo/MediaCapability.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/MediaCapability.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(c,d){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.contentType=c,this.robustness=d})},"./src/streaming/protection/vo/NeedKey.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/NeedKey.js ***!
                  \************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(c,d){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.initData=c,this.initDataType=d})},"./src/streaming/rules/DroppedFramesHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/DroppedFramesHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(){var _={},P={},C={};return{push:function m(f,g,S){if(g){_[f]||(_[f]=[],P[f]=0,C[f]=0);var x=S&&S.droppedVideoFrames?S.droppedVideoFrames:0,A=S&&S.totalVideoFrames?S.totalVideoFrames:0,N=x-P[f];P[f]=x;var O=A-C[f];C[f]=A;var D=_[f];isNaN(g)||(D[g]?(D[g].droppedVideoFrames+=N,D[g].totalVideoFrames+=O):D[g]={droppedVideoFrames:N,totalVideoFrames:O})}},getFrameHistory:function i(f){return _[f]},clearForStream:function c(f){try{delete _[f],delete P[f],delete C[f]}catch{}},reset:function d(){_={},P={},C={}}}}v.__dashjs_factory_name="DroppedFramesHistory";var b=t.default.getClassFactory(v);p.default=b},"./src/streaming/rules/RulesContext.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/RulesContext.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(b){var P=(b=b||{}).abrController,C=b.switchHistory,m=b.droppedFramesHistory,i=b.currentRequest,c=b.useBufferOccupancyABR,d=b.useL2AABR,f=b.useLoLPABR,g=b.streamProcessor?b.streamProcessor.getScheduleController():null,S=b.streamProcessor?b.streamProcessor.getRepresentationInfo():null,x=b.videoModel?b.videoModel:null;function O(){return S?S.mediaInfo:null}return{getMediaType:function A(){var Y=O();return Y?Y.type:null},getMediaInfo:O,getDroppedFramesHistory:function B(){return m},getCurrentRequest:function z(){return i},getSwitchHistory:function L(){return C},getStreamInfo:function N(){var Y=O();return Y?Y.streamInfo:null},getScheduleController:function I(){return g},getAbrController:function T(){return P},getRepresentationInfo:function D(){return S},useBufferOccupancyABR:function ne(){return c},useL2AABR:function ae(){return d},useLoLPABR:function Fe(){return f},getVideoModel:function y(){return x}}}v.__dashjs_factory_name="RulesContext",p.default=t.default.getClassFactory(v)},"./src/streaming/rules/SwitchRequest.js":
/*!**********************************************!*\
                  !*** ./src/streaming/rules/SwitchRequest.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b={DEFAULT:.5,STRONG:1,WEAK:0};function _(C,m,i){return{quality:void 0===C?-1:C,reason:void 0===m?null:m,priority:function S(x){var A=b.DEFAULT;return(x===b.DEFAULT||x===b.STRONG||x===b.WEAK)&&(A=x),A}(i)}}_.__dashjs_factory_name="SwitchRequest";var P=t.default.getClassFactory(_);P.NO_CHANGE=-1,P.PRIORITY=b,t.default.updateClassFactory(_.__dashjs_factory_name,P),p.default=P},"./src/streaming/rules/SwitchRequestHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/SwitchRequestHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ./SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function _(){var C=[],m=[];return{push:function i(f){f.newValue===v.default.NO_CHANGE&&(f.newValue=f.oldValue),C[f.oldValue]||(C[f.oldValue]={noDrops:0,drops:0,dropSize:0});var g=f.newValue-f.oldValue,S=g<0?1:0,x=S?-g:0,A=S?0:1;if(C[f.oldValue].drops+=S,C[f.oldValue].dropSize+=x,C[f.oldValue].noDrops+=A,m.push({idx:f.oldValue,noDrop:A,drop:S,dropSize:x}),m.length>8){var N=m.shift();C[N.idx].drops-=N.drop,C[N.idx].dropSize-=N.dropSize,C[N.idx].noDrops-=N.noDrop}},getSwitchRequests:function c(){return C},reset:function d(){C=[],m=[]}}}_.__dashjs_factory_name="SwitchRequestHistory";var P=t.default.getClassFactory(_);p.default=P},"./src/streaming/rules/ThroughputHistory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/ThroughputHistory.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(_){var N,O,D,I,T,C=3,m=4,i=4,c=1.3,d=1.3,A=(_=_||{}).settings;function z(pe,Ae,ke,he){var we=Math.pow(.5,ke/he.fast);pe.fastEstimate=(1-we)*Ae+we*pe.fastEstimate;var Te=Math.pow(.5,ke/he.slow);pe.slowEstimate=(1-Te)*Ae+Te*pe.slowEstimate,pe.totalWeight+=ke}function ae(pe,Ae,ke){return A.get().streaming.abr.movingAverageMethod!==t.default.MOVING_AVERAGE_SLIDING_WINDOW?function Y(pe,Ae){var ke=pe?T.throughputHalfLife:T.latencyHalfLife,he=pe?D[Ae]:I[Ae];if(!he||he.totalWeight<=0)return NaN;var we=he.fastEstimate/(1-Math.pow(.5,he.totalWeight/ke.fast)),Te=he.slowEstimate/(1-Math.pow(.5,he.totalWeight/ke.slow));return pe?Math.min(we,Te):Math.max(we,Te)}(pe,Ae):function Fe(pe,Ae,ke){var he=function ne(pe,Ae,ke){var he,we;if(pe?(he=N[Ae],we=ke?C:m):(he=O[Ae],we=i),he){if(we>=he.length)we=he.length;else if(pe)for(var Te=1;Te<we;++Te){var Oe=he[he.length-Te]/he[he.length-Te-1];if((Oe>=d||Oe<=1/c)&&(we+=1)===he.length)break}}else we=0;return we}(pe,Ae,ke),Te=(pe?N:O)[Ae];return 0!==he&&Te&&0!==Te.length?(Te=Te.slice(-he)).reduce(function(Oe,Ve){return Oe+Ve})/Te.length:NaN}(pe,Ae,ke)}function le(pe,Ae){return ae(!0,pe,Ae)}function ce(pe){N[pe]=N[pe]||[],O[pe]=O[pe]||[],D[pe]=D[pe]||{fastEstimate:0,slowEstimate:0,totalWeight:0},I[pe]=I[pe]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function Ie(){N={},O={},D={},I={}}var Ce={push:function B(pe,Ae,ke){if(Ae.trace&&Ae.trace.length){var Oe,he=Ae.tresponse.getTime()-Ae.trequest.getTime()||1,we=Ae._tfinish.getTime()-Ae.tresponse.getTime()||1,Te=Ae.trace.reduce(function(ft,Ze){return ft+Ze.b[0]},0),Ve=0;if(0!==(Oe=Ae._fileLoaderType&&Ae._fileLoaderType===t.default.FILE_LOADER_TYPES.FETCH?Ae.trace.reduce(function(ft,Ze){return ft+Ze.d},0):ke?we:he+we)&&(Ve=Math.round(8*Te/Oe)),ce(pe),function y(pe,Ae,ke){return pe===t.default.VIDEO?ke<A.get().streaming.cacheLoadThresholds[t.default.VIDEO]:pe===t.default.AUDIO?ke<A.get().streaming.cacheLoadThresholds[t.default.AUDIO]:void 0}(pe,0,we)){if(N[pe].length>0&&!N[pe].hasCachedEntries)return;N[pe].hasCachedEntries=!0}else N[pe]&&N[pe].hasCachedEntries&&function ge(pe){delete N[pe],delete O[pe],delete D[pe],delete I[pe],ce(pe)}(pe);N[pe].push(Ve),N[pe].length>20&&N[pe].shift(),O[pe].push(he),O[pe].length>20&&O[pe].shift(),z(D[pe],Ve,.001*we,T.throughputHalfLife),z(I[pe],he,1,T.latencyHalfLife)}},getAverageThroughput:le,getSafeAverageThroughput:function G(pe,Ae){var ke=le(pe,Ae);return isNaN(ke)||(ke*=A.get().streaming.abr.bandwidthSafetyFactor),ke},getAverageLatency:function Se(pe){return ae(!1,pe)},reset:Ie};return function L(){T={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},Ie()}(),Ce}b.__dashjs_factory_name="ThroughputHistory",p.default=v.default.getClassFactory(b)},"./src/streaming/rules/abr/ABRRulesCollection.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/rules/abr/ABRRulesCollection.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./ThroughputRule */
"./src/streaming/rules/abr/ThroughputRule.js"),v=e(
/*! ./InsufficientBufferRule */
"./src/streaming/rules/abr/InsufficientBufferRule.js"),b=e(
/*! ./AbandonRequestsRule */
"./src/streaming/rules/abr/AbandonRequestsRule.js"),_=e(
/*! ./DroppedFramesRule */
"./src/streaming/rules/abr/DroppedFramesRule.js"),P=e(
/*! ./SwitchHistoryRule */
"./src/streaming/rules/abr/SwitchHistoryRule.js"),C=e(
/*! ./BolaRule */
"./src/streaming/rules/abr/BolaRule.js"),m=e(
/*! ./L2ARule.js */
"./src/streaming/rules/abr/L2ARule.js"),i=e(
/*! ./lolp/LoLpRule.js */
"./src/streaming/rules/abr/lolp/LoLpRule.js"),c=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),d=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),f=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),g="qualitySwitchRules",S="abandonFragmentRules";function x(N){var B,z,O=this.context,D=(N=N||{}).mediaPlayerModel,I=N.customParametersModel,T=N.dashMetrics,L=N.settings;function ae(ce){return ce.filter(function(ge){return ge.quality>d.default.NO_CHANGE})}function Fe(ce){var Ce,pe,Ae,ke,he,ge={},Ie=null;if(0!==ce.length){for(ge[d.default.PRIORITY.STRONG]={quality:d.default.NO_CHANGE,reason:null},ge[d.default.PRIORITY.WEAK]={quality:d.default.NO_CHANGE,reason:null},ge[d.default.PRIORITY.DEFAULT]={quality:d.default.NO_CHANGE,reason:null},Ce=0,pe=ce.length;Ce<pe;Ce+=1)(Ae=ce[Ce]).quality!==d.default.NO_CHANGE&&(ge[Ae.priority].quality===d.default.NO_CHANGE||ge[Ae.priority].quality>Ae.quality)&&(ge[Ae.priority].quality=Ae.quality,ge[Ae.priority].reason=Ae.reason||null);return ge[d.default.PRIORITY.WEAK].quality!==d.default.NO_CHANGE&&(Ie=ge[d.default.PRIORITY.WEAK]),ge[d.default.PRIORITY.DEFAULT].quality!==d.default.NO_CHANGE&&(Ie=ge[d.default.PRIORITY.DEFAULT]),ge[d.default.PRIORITY.STRONG].quality!==d.default.NO_CHANGE&&(Ie=ge[d.default.PRIORITY.STRONG]),Ie&&(ke=Ie.quality,he=Ie.reason),Object(d.default)(O).create(ke,he)}}return{initialize:function ne(){B=[],z=[],L.get().streaming.abr.useDefaultABRRules&&(L.get().streaming.abr.ABRStrategy===f.default.ABR_STRATEGY_L2A?B.push(Object(m.default)(O).create({dashMetrics:T,settings:L})):L.get().streaming.abr.ABRStrategy===f.default.ABR_STRATEGY_LoLP?B.push(Object(i.default)(O).create({dashMetrics:T})):(B.push(Object(C.default)(O).create({dashMetrics:T,mediaPlayerModel:D,settings:L})),B.push(Object(t.default)(O).create({dashMetrics:T})),L.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&B.push(Object(v.default)(O).create({dashMetrics:T,settings:L})),L.get().streaming.abr.additionalAbrRules.switchHistoryRule&&B.push(Object(P.default)(O).create()),L.get().streaming.abr.additionalAbrRules.droppedFramesRule&&B.push(Object(_.default)(O).create()),L.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&z.push(Object(b.default)(O).create({dashMetrics:T,mediaPlayerModel:D,settings:L})))),I.getAbrCustomRules().forEach(function(ge){ge.type===g&&B.push(ge.rule(O).create()),ge.type===S&&z.push(ge.rule(O).create())})},reset:function G(){[B,z].forEach(function(ce){ce&&ce.length&&ce.forEach(function(ge){return ge.reset&&ge.reset()})}),B=[],z=[]},getMaxQuality:function Y(ce){return Fe(ae(B.map(function(pe){return pe.getMaxIndex(ce)})))||Object(d.default)(O).create()},getMinSwitchRequest:Fe,shouldAbandonFragment:function le(ce,ge){return Fe(ae(z.map(function(Ae){return Ae.shouldAbandon(ce,ge)})))||Object(d.default)(O).create()},getQualitySwitchRules:function Se(){return B}}}x.__dashjs_factory_name="ABRRulesCollection";var A=c.default.getClassFactory(x);A.QUALITY_SWITCH_RULES=g,A.ABANDON_FRAGMENT_RULES=S,c.default.updateSingletonFactory(x.__dashjs_factory_name,A),p.default=A},"./src/streaming/rules/abr/AbandonRequestsRule.js":
/*!********************************************************!*\
                  !*** ./src/streaming/rules/abr/AbandonRequestsRule.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),v=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../../core/Debug */
"./src/core/Debug.js");function _(P){var S,x,A,N,O,c=this.context,d=(P=P||{}).mediaPlayerModel,f=P.dashMetrics,g=P.settings;function y(){A={},N={},O=[]}return S={shouldAbandon:function L(B){var z=Object(t.default)(c).create(t.default.NO_CHANGE,{name:_.__dashjs_factory_name});if(!(B&&B.hasOwnProperty("getMediaInfo")&&B.hasOwnProperty("getMediaType")&&B.hasOwnProperty("getCurrentRequest")&&B.hasOwnProperty("getRepresentationInfo")&&B.hasOwnProperty("getAbrController")))return z;var ne=B.getMediaInfo(),ae=B.getMediaType(),Fe=B.getStreamInfo(),Y=Fe?Fe.id:null,le=B.getCurrentRequest();if(!isNaN(le.index)){!function I(B,z){A[B]=A[B]||{},A[B][z]=A[B][z]||{}}(ae,le.index);var G=d.getStableBufferTime();if(f.getCurrentBufferLevel(ae)>G)return z;var ce=A[ae][le.index];if(null===ce||null===le.firstByteDate||N.hasOwnProperty(ce.id))return z;if(void 0===ce.firstByteTime&&(O[ae]=[],ce.firstByteTime=le.firstByteDate.getTime(),ce.segmentDuration=le.duration,ce.bytesTotal=le.bytesTotal,ce.id=le.index),ce.bytesLoaded=le.bytesLoaded,ce.elapsedTime=(new Date).getTime()-ce.firstByteTime,ce.bytesLoaded>0&&ce.elapsedTime>0&&function T(B,z){O[B]=O[B]||[],O[B].push(z)}(ae,Math.round(8*ce.bytesLoaded/ce.elapsedTime)),O[ae].length>=5&&ce.elapsedTime>500&&ce.bytesLoaded<ce.bytesTotal){var ge=O[ae].reduce(function(Te,Oe){return Te+Oe},0);if(ce.measuredBandwidthInKbps=Math.round(ge/O[ae].length),ce.estimatedTimeOfDownload=+(8*ce.bytesTotal/ce.measuredBandwidthInKbps/1e3).toFixed(2),ce.estimatedTimeOfDownload<1.8*ce.segmentDuration||0===B.getRepresentationInfo().quality)return z;if(!N.hasOwnProperty(ce.id)){var Ie=B.getAbrController(),Ce=ce.bytesTotal-ce.bytesLoaded,pe=Ie.getBitrateList(ne),Ae=Ie.getQualityForBitrate(ne,ce.measuredBandwidthInKbps*g.get().streaming.abr.bandwidthSafetyFactor,Y),ke=Ie.getMinAllowedIndexFor(ae,Y),he=void 0!==ke?Math.max(ke,Ae):Ae;Ce>ce.bytesTotal*pe[he].bitrate/pe[Ie.getQualityFor(ae,Y)].bitrate&&(z.quality=he,z.reason.throughput=ce.measuredBandwidthInKbps,z.reason.fragmentID=ce.id,N[ce.id]=ce,x.debug("["+ae+"] frag id",ce.id," is asking to abandon and switch to quality to ",he," measured bandwidth was",ce.measuredBandwidthInKbps),delete A[ae][ce.id])}}else ce.bytesLoaded===ce.bytesTotal&&delete A[ae][ce.id]}return z},reset:y},function D(){x=Object(b.default)(c).getInstance().getLogger(S),y()}(),S}_.__dashjs_factory_name="AbandonRequestsRule",p.default=v.default.getClassFactory(_)},"./src/streaming/rules/abr/BolaRule.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/abr/BolaRule.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),v=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),b=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),P=e(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),C=e(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),m=e(
/*! ../../../core/Debug */
"./src/core/Debug.js"),i=e(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),c=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),S=10;function N(O){var y,B,z,D=this.context,I=(O=O||{}).dashMetrics,T=O.mediaPlayerModel,L=Object(P.default)(D).getInstance();function Fe(Re,be,Q){var ie=Q.reduce(function(X,$,re){return $>Q[X]?re:X},0);if(0===ie)return null;var ye=Math.max(Re,S+2*be.length),oe=(Q[ie]-1)/(ye/S-1);return{gp:oe,Vp:S/oe}}function Y(Re){var be={},ie=Re.getMediaInfo().bitrateList.map(function(X){return X.bandwidth}),ye=function ae(Re){return Re.map(function(be){return Math.log(be)})}(ie);ye=ye.map(function(X){return X-ye[0]+1});var oe=T.getStableBufferTime(),ee=Fe(oe,ie,ye);return ee?(be.state=1,be.bitrates=ie,be.utilities=ye,be.stableBufferTime=oe,be.Vp=ee.Vp,be.gp=ee.gp,be.lastQuality=0,le(be)):be.state=0,be}function le(Re){Re.placeholderBuffer=0,Re.mostAdvancedSegmentStart=NaN,Re.lastSegmentWasReplacement=!1,Re.lastSegmentStart=NaN,Re.lastSegmentDurationS=NaN,Re.lastSegmentRequestTimeMs=NaN,Re.lastSegmentFinishTimeMs=NaN}function G(Re,be){var Q=T.getStableBufferTime();if(Re.stableBufferTime!==Q){var ie=Fe(Q,Re.bitrates,Re.utilities);if(ie.Vp!==Re.Vp||ie.gp!==Re.gp){var ye=I.getCurrentBufferLevel(be),oe=ye+Re.placeholderBuffer;oe-=S,oe*=ie.Vp/Re.Vp,oe+=S,Re.stableBufferTime=Q,Re.Vp=ie.Vp,Re.gp=ie.gp,Re.placeholderBuffer=Math.max(0,oe-ye)}}}function ge(Re,be){return Re.Vp*(Re.utilities[be]+Re.gp)}function Ie(Re,be){for(var Q=Re.bitrates[be],ie=Re.utilities[be],ye=0,oe=be-1;oe>=0;--oe)if(Re.utilities[oe]<Re.utilities[be]){var ee=Re.bitrates[oe];ye=Math.max(ye,Re.Vp*(Re.gp+(Q*Re.utilities[oe]-ee*ie)/(Q-ee)))}return ye}function pe(Re){var Q=Re.mediaType===c.default.AUDIO?[c.default.AUDIO]:z;for(var ie in Q)z.hasOwnProperty(ie)&&2===z[ie].state&&(z[ie].placeholderBuffer=0)}function Ae(){for(var Re in z)if(z.hasOwnProperty(Re)){var be=z[Re];0!==be.state&&(be.state=1,le(be))}}function ke(Re){if(Re&&Re.chunk&&Re.chunk.mediaInfo){var be=z[Re.chunk.mediaInfo.type];if(be&&0!==be.state){var Q=Re.chunk.start;isNaN(be.mostAdvancedSegmentStart)||Q>be.mostAdvancedSegmentStart?(be.mostAdvancedSegmentStart=Q,be.lastSegmentWasReplacement=!1):be.lastSegmentWasReplacement=!0,be.lastSegmentStart=Q,be.lastSegmentDurationS=Re.chunk.duration,be.lastQuality=Re.chunk.quality,we(be,Re.chunk.mediaInfo.type)}}}function he(Re){if(Re&&Re.metric===t.default.HTTP_REQUEST&&Re.value&&Re.value.type===_.HTTPRequest.MEDIA_SEGMENT_TYPE&&Re.value.trace&&Re.value.trace.length){var be=z[Re.mediaType];be&&0!==be.state&&(be.lastSegmentRequestTimeMs=Re.value.trequest.getTime(),be.lastSegmentFinishTimeMs=Re.value._tfinish.getTime(),we(be,Re.mediaType))}}function we(Re,be){if(!isNaN(Re.lastSegmentStart)&&!isNaN(Re.lastSegmentRequestTimeMs)&&!isNaN(Re.placeholderBuffer)){if(Re.placeholderBuffer*=.99,!isNaN(Re.lastSegmentFinishTimeMs)){var ie=I.getCurrentBufferLevel(be)+.001*(Re.lastSegmentFinishTimeMs-Re.lastSegmentRequestTimeMs),ye=ge(Re,Re.lastQuality),oe=Math.max(0,ye-ie);Re.placeholderBuffer=Math.min(oe,Re.placeholderBuffer)}Re.lastSegmentWasReplacement&&!isNaN(Re.lastSegmentDurationS)&&(Re.placeholderBuffer+=Re.lastSegmentDurationS),Re.lastSegmentStart=NaN,Re.lastSegmentRequestTimeMs=NaN}}function Te(Re){if(Re){var be=z[Re.mediaType];be&&0!==be.state&&(be.abrQuality=Re.newQuality)}}function Oe(Re){if(Re){var be=z[Re.mediaType];if(be&&0!==be.state){var ie,Q=I.getCurrentBufferLevel(Re.mediaType);ie=be.abrQuality>0?Ie(be,be.abrQuality):S;var ye=Math.max(0,ie-Q);be.placeholderBuffer=Math.min(be.placeholderBuffer,ye)}}}function ft(){z={}}return y={getMaxIndex:function Ve(Re){var be=Object(v.default)(D).create();if(!(Re&&Re.hasOwnProperty("getMediaInfo")&&Re.hasOwnProperty("getMediaType")&&Re.hasOwnProperty("getScheduleController")&&Re.hasOwnProperty("getStreamInfo")&&Re.hasOwnProperty("getAbrController")&&Re.hasOwnProperty("useBufferOccupancyABR")))return be;var Q=Re.getMediaInfo(),ie=Re.getMediaType(),ye=Re.getScheduleController(),oe=Re.getStreamInfo(),ee=Re.getAbrController(),X=ee.getThroughputHistory(),$=oe?oe.id:null,re=oe&&oe.manifestInfo&&oe.manifestInfo.isDynamic,J=Re.useBufferOccupancyABR();if(be.reason=be.reason||{},!J)return be;ye.setTimeToLoadDelay(0);var q=function Se(Re){var be=Re.getMediaType(),Q=z[be];return Q?0!==Q.state&&G(Q,be):(Q=Y(Re),z[be]=Q),Q}(Re);if(0===q.state)return be;var ct,_e=I.getCurrentBufferLevel(ie),xe=X.getAverageThroughput(ie,re),Ee=X.getSafeAverageThroughput(ie,re),Ge=X.getAverageLatency(ie);if(be.reason.state=q.state,be.reason.throughput=xe,be.reason.latency=Ge,isNaN(xe))return be;switch(q.state){case 1:ct=ee.getQualityForBitrate(Q,Ee,$,Ge),be.quality=ct,be.reason.throughput=Ee,q.placeholderBuffer=Math.max(0,Ie(q,ct)-_e),q.lastQuality=ct,!isNaN(q.lastSegmentDurationS)&&_e>=q.lastSegmentDurationS&&(q.state=2);break;case 2:(function Ce(Re,be){var Q=Date.now();isNaN(Re.lastSegmentFinishTimeMs)?isNaN(Re.lastCallTimeMs)||(Re.placeholderBuffer+=Math.max(0,.001*(Q-Re.lastCallTimeMs))):Re.placeholderBuffer+=Math.max(0,.001*(Q-Re.lastSegmentFinishTimeMs)),Re.lastCallTimeMs=Q,Re.lastSegmentStart=NaN,Re.lastSegmentRequestTimeMs=NaN,Re.lastSegmentFinishTimeMs=NaN,G(Re,be)})(q,ie),ct=function ce(Re,be){for(var Q=Re.bitrates.length,ie=NaN,ye=NaN,oe=0;oe<Q;++oe){var ee=(Re.Vp*(Re.utilities[oe]+Re.gp)-be)/Re.bitrates[oe];(isNaN(ye)||ee>=ye)&&(ye=ee,ie=oe)}return ie}(q,_e+q.placeholderBuffer);var Xe=ee.getQualityForBitrate(Q,Ee,$,Ge);ct>q.lastQuality&&ct>Xe&&(ct=Math.max(Xe,q.lastQuality));var tt=Math.max(0,_e+q.placeholderBuffer-ge(q,ct));tt<=q.placeholderBuffer?(q.placeholderBuffer-=tt,tt=0):(tt-=q.placeholderBuffer,q.placeholderBuffer=0,ct<ee.getMaxAllowedIndexFor(ie,$)?ye.setTimeToLoadDelay(1e3*tt):tt=0),be.quality=ct,be.reason.throughput=xe,be.reason.latency=Ge,be.reason.bufferLevel=_e,be.reason.placeholderBuffer=q.placeholderBuffer,be.reason.delay=tt,q.lastQuality=ct;break;default:B.debug("BOLA ABR rule invoked in bad state."),be.quality=ee.getQualityForBitrate(Q,Ee,$,Ge),be.reason.state=q.state,be.reason.throughput=Ee,be.reason.latency=Ge,q.state=1,le(q)}return be},reset:function Ze(){ft(),L.off(i.default.BUFFER_EMPTY,pe,y),L.off(i.default.PLAYBACK_SEEKING,Ae,y),L.off(i.default.METRIC_ADDED,he,y),L.off(i.default.QUALITY_CHANGE_REQUESTED,Te,y),L.off(i.default.FRAGMENT_LOADING_ABANDONED,Oe,y),L.off(C.default.MEDIA_FRAGMENT_LOADED,ke,y)}},function ne(){B=Object(m.default)(D).getInstance().getLogger(y),ft(),L.on(i.default.BUFFER_EMPTY,pe,y),L.on(i.default.PLAYBACK_SEEKING,Ae,y),L.on(i.default.METRIC_ADDED,he,y),L.on(i.default.QUALITY_CHANGE_REQUESTED,Te,y),L.on(i.default.FRAGMENT_LOADING_ABANDONED,Oe,y),L.on(C.default.MEDIA_FRAGMENT_LOADED,ke,y)}(),y}N.__dashjs_factory_name="BolaRule",p.default=b.default.getClassFactory(N)},"./src/streaming/rules/abr/DroppedFramesRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/DroppedFramesRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),b=e(
/*! ../../../core/Debug */
"./src/core/Debug.js");function _(){var C,m,P=this.context;return C={getMaxIndex:function f(g){var S=Object(v.default)(P).create();if(!g||!g.hasOwnProperty("getDroppedFramesHistory"))return S;var x=g.getDroppedFramesHistory(),A=g.getStreamInfo().id;if(x){var N=x.getFrameHistory(A);if(!N||0===N.length)return S;for(var O=0,D=0,I=v.default.NO_CHANGE,T=1;T<N.length;T++)if(N[T]&&(O=N[T].droppedVideoFrames,(D=N[T].totalVideoFrames)>375&&O/D>.15)){m.debug("index: "+(I=T-1)+" Dropped Frames: "+O+" Total Frames: "+D);break}return Object(v.default)(P).create(I,{droppedFrames:O})}return S}},function d(){m=Object(b.default)(P).getInstance().getLogger(C)}(),C}_.__dashjs_factory_name="DroppedFramesRule",p.default=t.default.getClassFactory(_)},"./src/streaming/rules/abr/InsufficientBufferRule.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/rules/abr/InsufficientBufferRule.js ***!
                  \***********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),v=e(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),b=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../../../core/Debug */
"./src/core/Debug.js"),P=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),C=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),m=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),i=e(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function c(d){d=d||{};var N,O,D,g=2,S=this.context,x=Object(t.default)(S).getInstance(),A=d.dashMetrics;function B(){(D={})[C.default.VIDEO]={ignoreCount:g},D[C.default.AUDIO]={ignoreCount:g}}function z(){B()}function ne(Fe){!isNaN(Fe.startTime)&&(Fe.mediaType===C.default.AUDIO||Fe.mediaType===C.default.VIDEO)&&D[Fe.mediaType].ignoreCount>0&&D[Fe.mediaType].ignoreCount--}return N={getMaxIndex:function L(Fe){var Y=Object(P.default)(S).create();if(!Fe||!Fe.hasOwnProperty("getMediaType"))return Y;!function T(){if(!A||!A.hasOwnProperty("getCurrentBufferLevel")||!A.hasOwnProperty("getCurrentBufferState"))throw new Error(C.default.MISSING_CONFIG_ERROR)}();var le=Fe.getMediaType(),G=A.getCurrentBufferState(le),ce=Fe.getRepresentationInfo().fragmentDuration,ge=Fe.getStreamInfo(),Ie=ge?ge.id:null,Ce=Fe.getScheduleController(),pe=ge&&ge.manifestInfo&&ge.manifestInfo.isDynamic;if(function y(Fe,Y){return!Fe&&D[Y].ignoreCount>0}(Ce.getPlaybackController().getLowLatencyModeEnabled(),le)||!ce)return Y;if(G&&G.state===m.default.BUFFER_EMPTY)O.debug("["+le+"] Switch to index 0; buffer is empty."),Y.quality=0,Y.reason="InsufficientBufferRule: Buffer is empty";else{var he=Fe.getMediaInfo(),we=Fe.getAbrController(),Te=we.getThroughputHistory(),Oe=A.getCurrentBufferLevel(le),Ve=Te.getAverageThroughput(le,pe),ft=Te.getAverageLatency(le);Y.quality=we.getQualityForBitrate(he,Ve*(Oe/ce)*.5,Ie,ft),Y.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return Y},reset:function ae(){B(),x.off(i.default.PLAYBACK_SEEKING,z,N),x.off(v.default.BYTES_APPENDED_END_FRAGMENT,ne,N)}},function I(){O=Object(_.default)(S).getInstance().getLogger(N),B(),x.on(i.default.PLAYBACK_SEEKING,z,N),x.on(v.default.BYTES_APPENDED_END_FRAGMENT,ne,N)}(),N}c.__dashjs_factory_name="InsufficientBufferRule",p.default=b.default.getClassFactory(c)},"./src/streaming/rules/abr/L2ARule.js":
/*!********************************************!*\
                  !*** ./src/streaming/rules/abr/L2ARule.js ***!
                  \********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),v=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),b=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),P=e(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),C=e(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),m=e(
/*! ../../../core/Debug */
"./src/core/Debug.js"),i=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js");function g(S){var O,D,I,T,x=this.context,A=(S=S||{}).dashMetrics,N=Object(P.default)(x).getInstance();function y(pe){var Ae={},ke=pe.getMediaInfo(),he=ke.bitrateList.map(function(we){return we.bandwidth/1e3});return Ae.state=1,Ae.bitrates=he,Ae.lastQuality=0,function B(pe){!pe||!pe.type||(I[pe.type]={},I[pe.type].w=[],I[pe.type].prev_w=[],I[pe.type].Q=0,I[pe.type].segment_request_start_s=0,I[pe.type].segment_download_finish_s=0,I[pe.type].B_target=1.5)}(ke),z(Ae),Ae}function z(pe){pe.placeholderBuffer=0,pe.mostAdvancedSegmentStart=NaN,pe.lastSegmentWasReplacement=!1,pe.lastSegmentStart=NaN,pe.lastSegmentDurationS=NaN,pe.lastSegmentRequestTimeMs=NaN,pe.lastSegmentFinishTimeMs=NaN}function ae(){for(var pe in D)if(D.hasOwnProperty(pe)){var Ae=D[pe];0!==Ae.state&&(Ae.state=1,z(Ae))}}function Fe(pe){if(pe&&pe.chunk&&pe.chunk.mediaInfo){var Ae=D[pe.chunk.mediaInfo.type],ke=I[pe.chunk.mediaInfo.type];if(Ae&&0!==Ae.state){var he=pe.chunk.start;isNaN(Ae.mostAdvancedSegmentStart)||he>Ae.mostAdvancedSegmentStart?(Ae.mostAdvancedSegmentStart=he,Ae.lastSegmentWasReplacement=!1):Ae.lastSegmentWasReplacement=!0,Ae.lastSegmentStart=he,Ae.lastSegmentDurationS=pe.chunk.duration,Ae.lastQuality=pe.chunk.quality,le(Ae,ke)}}}function Y(pe){if(pe&&pe.metric===t.default.HTTP_REQUEST&&pe.value&&pe.value.type===_.HTTPRequest.MEDIA_SEGMENT_TYPE&&pe.value.trace&&pe.value.trace.length){var Ae=D[pe.mediaType],ke=I[pe.mediaType];Ae&&0!==Ae.state&&(Ae.lastSegmentRequestTimeMs=pe.value.trequest.getTime(),Ae.lastSegmentFinishTimeMs=pe.value._tfinish.getTime(),le(Ae,ke))}}function le(pe,Ae){!isNaN(pe.lastSegmentStart)&&!isNaN(pe.lastSegmentRequestTimeMs)&&(Ae.segment_request_start_s=.001*pe.lastSegmentRequestTimeMs,Ae.segment_download_finish_s=.001*pe.lastSegmentFinishTimeMs,pe.lastSegmentStart=NaN,pe.lastSegmentRequestTimeMs=NaN)}function G(pe){if(pe&&pe.mediaType){var Ae=D[pe.mediaType];Ae&&0!==Ae.state&&(Ae.abrQuality=pe.newQuality)}}function Se(pe,Ae){if(pe.length!==Ae.length)return-1;for(var ke=0,he=0;he<pe.length;he++)ke+=pe[he]*Ae[he];return ke}function Ie(){D={},I={}}return O={getMaxIndex:function ge(pe){var q,Ae=Object(v.default)(x).create(),he=Math.pow(4,.99),we=Math.max(Math.pow(4,1),he*Math.sqrt(4)),Te=pe.getMediaInfo(),Oe=pe.getMediaType(),Ve=Te.bitrateList.map(function(Kt){return Kt.bandwidth}),ft=Ve.length,Ze=pe.getScheduleController(),Re=pe.getStreamInfo(),be=pe.getAbrController(),Q=be.getThroughputHistory(),ie=Re&&Re.manifestInfo&&Re.manifestInfo.isDynamic,ye=pe.useL2AABR(),oe=A.getCurrentBufferLevel(Oe,!0),ee=Q.getSafeAverageThroughput(Oe,ie),X=Q.getAverageThroughput(Oe,ie),re=Q.getAverageLatency(Oe),_e=pe.getVideoModel().getPlaybackRate();if(!(pe&&pe.hasOwnProperty("getMediaInfo")&&pe.hasOwnProperty("getMediaType")&&pe.hasOwnProperty("getScheduleController")&&pe.hasOwnProperty("getStreamInfo")&&pe.hasOwnProperty("getAbrController")&&pe.hasOwnProperty("useL2AABR")&&(Ae.reason=Ae.reason||{},ye&&Oe!==i.default.AUDIO)))return Ae;Ze.setTimeToLoadDelay(0);var xe=function ne(pe){var Ae=pe.getMediaType(),ke=D[Ae];return ke||(ke=y(pe),D[Ae]=ke),ke}(pe);if(0===xe.state)return Ae;var Ee=I[Oe];if(!Ee||(Ae.reason.state=xe.state,Ae.reason.throughput=X,Ae.reason.latency=re,isNaN(X)))return Ae;switch(xe.state){case 1:if(q=be.getQualityForBitrate(Te,ee,Re.id,re),Ae.quality=q,Ae.reason.throughput=ee,xe.lastQuality=q,!isNaN(xe.lastSegmentDurationS)&&oe>=Ee.B_target){xe.state=2,Ee.Q=he;for(var Ge=0;Ge<ft;++Ge)Ee.prev_w[Ge]=Ge===xe.lastQuality?1:0}break;case 2:var ct=[],Xe=A.getCurrentHttpRequest(Oe).trace.reduce(function(Kt,Jt){return Kt+Jt.d},0),tt=A.getCurrentHttpRequest(Oe).trace.reduce(function(Kt,Jt){return Kt+Jt.b[0]},0),gt=Math.round(8*tt/Xe);gt<1&&(gt=1);for(var Qe=xe.lastSegmentDurationS,yt=1,Dt=0;Dt<ft;++Dt)Ve[Dt]=Ve[Dt]/1e3,_e*Ve[Dt]>gt&&(yt=-1),Ee.w[Dt]=Ee.prev_w[Dt]+yt*(Qe/(2*we))*((Ee.Q+he)*(_e*Ve[Dt]/gt));Ee.w=function ce(pe){for(var Ae=pe.length,ke=!1,he=[],we=0;we<Ae;++we)he[we]=pe[we];for(var Te=pe.sort(function(be,Q){return Q-be}),Oe=0,Ve=0,ft=[],Ze=0;Ze<Ae-1;++Ze)if((Ve=((Oe+=Te[Ze])-1)/(Ze+1))>=Te[Ze+1]){ke=!0;break}ke||(Ve=(Oe+Te[Ae-1]-1)/Ae);for(var Re=0;Re<Ae;++Re)ft[Re]=Math.max(he[Re]-Ve,0);return ft}(Ee.w);for(var fe=0;fe<ft;++fe)ct[fe]=Ee.w[fe]-Ee.prev_w[fe],Ee.prev_w[fe]=Ee.w[fe];Ee.Q=Math.max(0,Ee.Q-Qe+Qe*_e*((Se(Ve,Ee.prev_w)+Se(Ve,ct))/gt));for(var ze=[],Tt=0;Tt<ft;++Tt)ze[Tt]=Math.abs(Ve[Tt]-Se(Ee.w,Ve));(q=ze.indexOf(Math.min.apply(Math,ze)))>xe.lastQuality&&Ve[xe.lastQuality+1]<=gt&&(q=xe.lastQuality+1),Ve[q]>=gt&&(Ee.Q=2*Math.max(he,Ee.Q)),Ae.quality=q,Ae.reason.throughput=X,Ae.reason.latency=re,Ae.reason.bufferLevel=oe,xe.lastQuality=Ae.quality;break;default:T.debug("L2A ABR rule invoked in bad state."),Ae.quality=be.getQualityForBitrate(Te,ee,Re.id,re),Ae.reason.state=xe.state,Ae.reason.throughput=ee,Ae.reason.latency=re,xe.state=1,z(xe)}return Ae},reset:function Ce(){Ie(),N.off(C.default.PLAYBACK_SEEKING,ae,O),N.off(C.default.MEDIA_FRAGMENT_LOADED,Fe,O),N.off(C.default.METRIC_ADDED,Y,O),N.off(C.default.QUALITY_CHANGE_REQUESTED,G,O)}},function L(){T=Object(m.default)(x).getInstance().getLogger(O),Ie(),N.on(C.default.PLAYBACK_SEEKING,ae,O),N.on(C.default.MEDIA_FRAGMENT_LOADED,Fe,O),N.on(C.default.METRIC_ADDED,Y,O),N.on(C.default.QUALITY_CHANGE_REQUESTED,G,O)}(),O}g.__dashjs_factory_name="L2ARule",p.default=b.default.getClassFactory(g)},"./src/streaming/rules/abr/SwitchHistoryRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/SwitchHistoryRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../../core/Debug */
"./src/core/Debug.js"),b=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function _(){var C,m,P=this.context;return C={getMaxIndex:function f(g){for(var S=g?g.getSwitchHistory():null,x=S?S.getSwitchRequests():[],A=0,N=0,O=0,D=Object(b.default)(P).create(),I=0;I<x.length;I++)if(void 0!==x[I]&&(O+=x[I].dropSize,(A+=x[I].drops)+(N+=x[I].noDrops)>=6&&A/N>.075)){D.quality=I>0&&x[I].drops>0?I-1:I,D.reason={index:D.quality,drops:A,noDrops:N,dropSize:O},m.debug("Switch history rule index: "+D.quality+" samples: "+(A+N)+" drops: "+A);break}return D}},function d(){m=Object(v.default)(P).getInstance().getLogger(C)}(),C}_.__dashjs_factory_name="SwitchHistoryRule",p.default=t.default.getClassFactory(_)},"./src/streaming/rules/abr/ThroughputRule.js":
/*!***************************************************!*\
                  !*** ./src/streaming/rules/abr/ThroughputRule.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),b=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),_=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function P(C){var m=this.context,i=(C=C||{}).dashMetrics;return{getMaxIndex:function g(x){var A=Object(v.default)(m).create();if(!(x&&x.hasOwnProperty("getMediaInfo")&&x.hasOwnProperty("getMediaType")&&x.hasOwnProperty("useBufferOccupancyABR")&&x.hasOwnProperty("getAbrController")&&x.hasOwnProperty("getScheduleController")))return A;!function f(){if(!i||!i.hasOwnProperty("getCurrentBufferState"))throw new Error(b.default.MISSING_CONFIG_ERROR)}();var N=x.getMediaInfo(),O=x.getMediaType(),D=i.getCurrentBufferState(O),I=x.getScheduleController(),T=x.getAbrController(),L=x.getStreamInfo(),y=L?L.id:null,B=L&&L.manifestInfo?L.manifestInfo.isDynamic:null,z=T.getThroughputHistory(),ne=z.getSafeAverageThroughput(O,B),ae=z.getAverageLatency(O),Fe=x.useBufferOccupancyABR();return isNaN(ne)||!D||Fe||T.getAbandonmentStateFor(y,O)!==_.default.ABANDON_LOAD&&(D.state===_.default.BUFFER_LOADED||B)&&(A.quality=T.getQualityForBitrate(N,ne,y,ae),I.setTimeToLoadDelay(0),A.reason={throughput:ne,latency:ae}),A},reset:function S(){}}}P.__dashjs_factory_name="ThroughputRule",p.default=t.default.getClassFactory(P)},"./src/streaming/rules/abr/lolp/LearningAbrController.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LearningAbrController.js ***!
                  \***************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),b_MANUAL="manual_weight_selection",b_RANDOM="random_weight_selection",b_DYNAMIC="dynamic_weight_selection";function _(){var C,m,i,c,d,f,g,S,x,P=this.context;function O(){i=null,c=1,d=100,f=0,g=null,S=null,x=b_DYNAMIC}function D(){var ge=0;if(i)for(var Ie=0;Ie<i.length;Ie++){var Ce=i[Ie];Ce.state.throughput>ge&&(ge=Ce.state.throughput)}return ge}function T(ge,Ie,Ce){var pe=ge.map(function(ke,he){return Ce[he]*Math.pow(ke-Ie[he],2)}).reduce(function(ke,he){return ke+he});return(pe<0?-1:1)*Math.sqrt(Math.abs(pe))}function L(ge,Ie){return T([ge.state.throughput,ge.state.latency,ge.state.rebuffer,ge.state.switch],[Ie.state.throughput,Ie.state.latency,Ie.state.rebuffer,Ie.state.switch],[1,1,1,1])}function y(ge,Ie,Ce){for(var pe=0;pe<Ie.length;pe++){var Ae=Ie[pe],he=L(Ae,ge);B(Ae,Ce,Math.exp(-1*Math.pow(he,2)/(2*Math.pow(.1,2))))}}function B(ge,Ie,Ce){var pe=ge.state,Ae=[.01,.01,.01,.01];pe.throughput=pe.throughput+(Ie[0]-pe.throughput)*Ae[0]*Ce,pe.latency=pe.latency+(Ie[1]-pe.latency)*Ae[1]*Ce,pe.rebuffer=pe.rebuffer+(Ie[2]-pe.rebuffer)*Ae[2]*Ce,pe.switch=pe.switch+(Ie[3]-pe.switch)*Ae[3]*Ce}return C={getNextQuality:function ne(ge,Ie,Ce,pe,Ae,ke,he){var we=Ce,Te=pe,Oe=Ie,Ve=function G(ge){if(!i){i=[];var Ie=ge.bitrateList,Ce=[];f=Ie[0].bandwidth,Ie.forEach(function(ke){Ce.push(ke.bandwidth),ke.bandwidth<f&&(f=ke.bandwidth)}),c=function I(ge){var Ie=ge.map(function(Ce){return Math.pow(Ce,2)}).reduce(function(Ce,pe){return Ce+pe});return Math.sqrt(Ie)}(Ce);for(var pe=0;pe<Ie.length;pe++)i.push({qualityIndex:pe,bitrate:Ie[pe].bandwidth,state:{throughput:Ie[pe].bandwidth/c,latency:0,rebuffer:0,switch:0}});S=function ce(ge){var Ie=[],Ce=function Se(ge){for(var Ie=[],Ce=0;Ce<ge;Ce++){var pe=[Math.random()*D(),Math.random(),Math.random(),Math.random()];Ie.push(pe)}return Ie}(Math.pow(ge.length,2));Ie.push(Ce[0]);for(var pe=[1,1,1,1],Ae=1;Ae<ge.length;Ae++){for(var ke=null,he=null,we=0;we<Ce.length;we++){for(var Te=Ce[we],Oe=null,Ve=0;Ve<Ie.length;Ve++){var ft=T(Te,Ie[Ve],pe);(null===Oe||ft<Oe)&&(Oe=ft)}(null===he||Oe>he)&&(ke=Te,he=Oe)}Ie.push(ke)}for(var Ze=null,Re=null,be=0;be<Ie.length;be++){for(var Q=0,ie=0;ie<Ie.length;ie++)be!==ie&&(Q+=T(Ie[be],Ie[ie],pe));(null===Ze||Q>Ze)&&(Ze=Q,Re=be)}var ye=[];for(ye.push(Ie[Re]),Ie.splice(Re,1);Ie.length>0;){for(var oe=null,ee=null,X=0;X<Ie.length;X++){var $=T(ye[0],Ie[X],pe);(null===oe||$<oe)&&(oe=$,ee=X)}ye.push(Ie[ee]),Ie.splice(ee,1)}return ye}(i)}return i}(ge),ft=Ie/c;ft>1&&(ft=D()),Ce/=d,m.debug("getNextQuality called throughput:".concat(ft," latency:").concat(Ce," bufferSize:").concat(pe," currentQualityIndex:").concat(ke," playbackRate:").concat(Ae));var ie=Ve[ke],ye=ie.bitrate*he.getSegmentDuration()/Oe,oe=Math.max(0,ye-Te);if(Te-ye<he.getMinBuffer())return m.debug("Buffer is low for bitrate= ".concat(ie.bitrate," downloadTime=").concat(ye," currentBuffer=").concat(Te," rebuffer=").concat(oe)),function z(ge,Ie){var Ce=0,pe=ge;if(i)for(var Ae=0;Ae<i.length;Ae++){var ke=i[Ae];ke.bitrate<ge.bitrate&&ke.bitrate>Ce&&Ie>ke.bitrate&&(Ce=ke.bitrate,pe=ke)}return pe}(ie,Oe).qualityIndex;switch(x){case b_MANUAL:!function ae(){g=[.4,.4,.4,.4]}();break;case b_RANDOM:!function Fe(ge){g=function le(ge,Ie){for(var Ce=[],pe=Math.sqrt(2/ge),Ae=0;Ae<Ie;Ae++)Ce.push(Math.random()*pe);return g=Ce}(ge.length,4)}(Ve);break;default:!function Y(ge,Ie,Ce,pe,Ae,ke,he){g||(g=S[S.length-1]);var we=ge.findWeightVector(Ie,Ce,pe,Ae,ke,he);null!==we&&-1!==we&&(g=we)}(he,Ve,we,Te,oe,Oe,Ae)}for(var ee=null,X=null,$=null,re=0;re<Ve.length;re++){var J=Ve[re],q=J.state,_e=[q.throughput,q.latency,q.rebuffer,q.switch],xe=g.slice(),Ee=he.getNextBufferWithBitrate(J.bitrate,Te,Oe),Ge=Ee<he.getMinBuffer();Ge&&m.debug("Buffer is low for bitrate=".concat(J.bitrate," downloadTime=").concat(ye," currentBuffer=").concat(Te," nextBuffer=").concat(Ee)),(J.bitrate>Ie-1e4||Ge)&&J.bitrate!==f&&(xe[0]=100);var ct=T(_e,[ft,0,0,0],xe);(null===ee||ct<ee)&&(ee=ct,X=J.qualityIndex,$=J)}var Xe=Math.abs(ie.bitrate-$.bitrate)/c;return y(ie,Ve,[ft,Ce,oe,Xe]),y($,Ve,[ft,0,0,Xe]),X},reset:function N(){O()}},function A(){m=Object(v.default)(P).getInstance().getLogger(C),O()}(),C}_.__dashjs_factory_name="LearningAbrController",p.default=t.default.getClassFactory(_)},"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js ***!
                  \**********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ./QoeInfo */
"./src/streaming/rules/abr/lolp/QoeInfo.js");function b(){var _,P,C,m,i;function d(){P=null,C=null,m=null,i=null}function g(D,I,T,L){var y=new v.default;return y.type=D,y.weights.bitrateReward=I||1,y.weights.bitrateSwitchPenalty=1,y.weights.rebufferPenalty=T||1e3,y.weights.latencyPenalty=[],y.weights.latencyPenalty.push({threshold:1.1,penalty:.05*L}),y.weights.latencyPenalty.push({threshold:1e8,penalty:.1*T}),y.weights.playbackSpeedPenalty=L||200,y}function x(D,I,T,L,y){y.bitrateWSum+=y.weights.bitrateReward*D,y.lastBitrate&&(y.bitrateSwitchWSum+=y.weights.bitrateSwitchPenalty*Math.abs(D-y.lastBitrate)),y.lastBitrate=D,y.rebufferWSum+=y.weights.rebufferPenalty*I;for(var B=0;B<y.weights.latencyPenalty.length;B++){var z=y.weights.latencyPenalty[B];if(T<=z.threshold){y.latencyWSum+=z.penalty*T;break}}y.playbackSpeedWSum+=y.weights.playbackSpeedPenalty*Math.abs(1-L),y.totalQoe=y.bitrateWSum-y.bitrateSwitchWSum-y.rebufferWSum-y.latencyWSum-y.playbackSpeedWSum}return _={setupPerSegmentQoe:function f(D,I,T){P=g("segment",D,I,T),C=D,m=I,i=T},logSegmentMetrics:function S(D,I,T,L){P&&x(D,I,T,L,P)},getPerSegmentQoe:function A(){return P},calculateSingleUseQoe:function N(D,I,T,L){var y=null;return C&&m&&i&&(y=g("segment",C,m,i)),y?(x(D,I,T,L,y),y.totalQoe):0},reset:function O(){d()}},function c(){d()}(),_}b.__dashjs_factory_name="LoLpQoeEvaluator",p.default=t.default.getClassFactory(b)},"./src/streaming/rules/abr/lolp/LoLpRule.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpRule.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),v=e(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ./LearningAbrController */
"./src/streaming/rules/abr/lolp/LearningAbrController.js"),_=e(
/*! ./LoLpQoEEvaluator */
"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js"),P=e(
/*! ../../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),C=e(
/*! ../../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),m=e(
/*! ./LoLpWeightSelector */
"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js"),i=e(
/*! ../../../constants/Constants */
"./src/streaming/constants/Constants.js");function f(g){var A,N,O,D,S=(g=g||{}).dashMetrics,x=this.context;return N={getMaxIndex:function T(B){try{var z=Object(P.default)(x).create(),ne=B.getMediaInfo().type,ae=B.getAbrController(),Fe=B.getStreamInfo(),Y=ae.getQualityFor(ne,Fe.id),le=B.getMediaInfo(),G=S.getCurrentBufferState(ne),Se=B.getScheduleController(),ce=S.getCurrentBufferLevel(ne,!0),ge=Fe&&Fe.manifestInfo?Fe.manifestInfo.isDynamic:null,Ie=Se.getPlaybackController(),Ce=Ie.getCurrentLiveLatency();if(!B.useLoLPABR()||ne===i.default.AUDIO)return z;Ce||(Ce=0);var pe=Ie.getPlaybackRate(),ke=ae.getThroughputHistory().getSafeAverageThroughput(ne,ge);if(A.debug("Throughput ".concat(Math.round(ke)," kbps")),isNaN(ke)||!G||ae.getAbandonmentStateFor(Fe.id,ne)===C.default.ABANDON_LOAD)return z;for(var he=le.bitrateList,we=B.getRepresentationInfo().fragmentDuration,Te=he[0].bandwidth/1e3,Oe=he[he.length-1].bandwidth/1e3,Ve=0;Ve<he.length;Ve++){var ft=he[Ve].bandwidth/1e3;ft>Oe?Oe=ft:ft<Te&&(Te=ft)}var Re=he[Y].bandwidth/1e3,be=S.getCurrentHttpRequest(ne,!0),Q=(be.tresponse.getTime()-be.trequest.getTime())/1e3,ie=Q>we?Q-we:0;D.setupPerSegmentQoe(we,Oe,Te),D.logSegmentMetrics(Re,ie,Ce,pe);var ye=Object(m.default)(x).create({targetLatency:1.5,bufferMin:.3,segmentDuration:we,qoeEvaluator:D});return z.quality=O.getNextQuality(le,1e3*ke,Ce,ce,pe,Y,ye),z.reason={throughput:ke,latency:Ce},z.priority=P.default.PRIORITY.STRONG,Se.setTimeToLoadDelay(0),z.quality!==Y&&console.log("[TgcLearningRule]["+ne+"] requesting switch to index: ",z.quality,"Average throughput",Math.round(ke),"kbps"),z}catch(oe){throw oe}},reset:function y(){!function L(){O.reset(),D.reset()}()}},function I(){A=Object(t.default)(x).getInstance().getLogger(N),O=Object(b.default)(x).create(),D=Object(_.default)(x).create()}(),N}f.__dashjs_factory_name="LoLPRule",p.default=v.default.getClassFactory(f)},"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js":
/*!************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpWeightSelector.js ***!
                  \************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(b){var i,f,g,_=b.targetLatency,P=b.bufferMin,C=b.segmentDuration,m=b.qoeEvaluator;function I(){return C}function L(y,B){var z=I();return B>z?y-z:y+z-B}return i={getMinBuffer:function D(){return P},getSegmentDuration:I,getNextBufferWithBitrate:function T(y,B,z){return L(B,y*C/z)},getNextBuffer:L,findWeightVector:function A(y,B,z,ne,ae,Fe){var Y=null,le=null,G=null,Se=Math.abs(B-g);return y.forEach(function(ce){f.forEach(function(ge){var Ie_latency=ge[1],Ie_buffer=ge[2],Ce=ce.bitrate*C/ae,pe=L(z,Ce),Ae=Math.max(1e-5,Ce-pe),Te=m.calculateSingleUseQoe(ce.bitrate,(0===Ie_buffer?10:1/Ie_buffer)*Ae,(0===Ie_latency?10:1/Ie_latency)*ce.state.latency,Fe);(null===Y||Te>Y)&&function N(y,B,z){return!(y>_+z)&&B>=P}(B,pe,Se)&&(Y=Te,le=ge,G=ce.bitrate)})}),null===le&&null===G&&(le=-1),g=B,le}},function S(){!function x(){f=function O(y,B){return function ae(Fe,Y,le){if(le===Y)return Fe;for(var G=Fe.length,Se=0;Se<G;Se++)for(var ce=Fe.shift(),ge=0;ge<y.length;ge++)Fe.push(ce.concat(y[ge]));return ae(Fe,Y,le+1)}(y.map(function(ae){return[ae]}),B,1)}([.2,.4,.6,.8,1],4),g=0}()}(),i}v.__dashjs_factory_name="LoLpWeightSelector",p.default=t.default.getClassFactory(v)},"./src/streaming/rules/abr/lolp/QoeInfo.js":
/*!*************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/QoeInfo.js ***!
                  \*************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0})},"./src/streaming/text/EmbeddedTextHtmlRender.js":
/*!******************************************************!*\
                  !*** ./src/streaming/text/EmbeddedTextHtmlRender.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(){var b=0;function P(g){for(var S="",x=0;x<g.length;++x)S+=g[x].uchar;return S.length-S.replace(/^\s+/,"").length}function C(g){return"left: "+3.125*g.x+"%; top: "+6.66*g.y1+"%; width: "+(100-3.125*g.x)+"%; height: "+6.66*Math.max(g.y2-1-g.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function m(g){return"red"===g?"rgb(255, 0, 0)":"green"===g?"rgb(0, 255, 0)":"blue"===g?"rgb(0, 0, 255)":"cyan"===g?"rgb(0, 255, 255)":"magenta"===g?"rgb(255, 0, 255)":"yellow"===g?"rgb(255, 255, 0)":"white"===g?"rgb(255, 255, 255)":"black"===g?"rgb(0, 0, 0)":g}function i(g,S){var x=g.videoHeight/15;return S?"font-size: "+x+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(S.foreground?m(S.foreground):"rgb(255, 255, 255)")+"; font-style: "+(S.italics?"italic":"normal")+"; text-decoration: "+(S.underline?"underline":"none")+"; white-space: pre; background-color: "+(S.background?m(S.background):"transparent")+";":"font-size: "+x+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function c(g){return g.replace(/^\s+/g,"")}function d(g){return g.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function f(g,S,x,A){var ne,ae,N=null,D=!1,I=-1,T={start:S,end:x,spans:[]},L="style_cea608_white_black",y={},B={},z=[];for(ne=0;ne<15;++ne){var Fe=A.rows[ne],Y="",le=null;if(!1===Fe.isEmpty()){var G=P(Fe.chars);null===N&&(N={x:G,y1:ne,y2:ne+1,p:[]}),G!==I&&D&&(N.p.push(T),T={start:S,end:x,spans:[]},N.y2=ne,N.name="region_"+N.x+"_"+N.y1+"_"+N.y2,!1===y.hasOwnProperty(N.name)?(z.push(N),y[N.name]=N):y[N.name].p.contat(N.p),N={x:G,y1:ne,y2:ne+1,p:[]});for(var Se=0;Se<Fe.chars.length;++Se){var ce=Fe.chars[Se],ge=ce.penState;if(null===le||!ge.equals(le)){Y.trim().length>0&&(T.spans.push({name:L,line:Y,row:ne}),Y="");var Ie="style_cea608_"+ge.foreground+"_"+ge.background;ge.underline&&(Ie+="_underline"),ge.italics&&(Ie+="_italics"),B.hasOwnProperty(Ie)||(B[Ie]=JSON.parse(JSON.stringify(ge))),le=ge,L=Ie}Y+=ce.uchar}Y.trim().length>0&&T.spans.push({name:L,line:Y,row:ne}),D=!0,I=G}else D=!1,I=-1,N&&(N.p.push(T),T={start:S,end:x,spans:[]},N.y2=ne,N.name="region_"+N.x+"_"+N.y1+"_"+N.y2,!1===y.hasOwnProperty(N.name)?(z.push(N),y[N.name]=N):y[N.name].p.contat(N.p),N=null)}N&&(N.p.push(T),N.y2=ne+1,N.name="region_"+N.x+"_"+N.y1+"_"+N.y2,!1===y.hasOwnProperty(N.name)?(z.push(N),y[N.name]=N):y[N.name].p.contat(N.p),N=null);var Ce=[];for(ne=0;ne<z.length;++ne){var pe=z[ne],Ae="sub_cea608_"+b++,ke=document.createElement("div");ke.id=Ae;var he=C(pe);ke.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+he;var we=document.createElement("div");we.className="paragraph bodyStyle",we.style.cssText=i(g);var Te=document.createElement("div");Te.className="cueUniWrapper",Te.style.cssText="unicode-bidi: normal; direction: ltr;";for(var Oe=0;Oe<pe.p.length;++Oe){var Ve=pe.p[Oe],ft=0;for(ae=0;ae<Ve.spans.length;++ae){var Ze=Ve.spans[ae];if(Ze.line.length>0){if(0!==ae&&ft!=Ze.row){var Re=document.createElement("br");Re.className="lineBreak",Te.appendChild(Re)}var be=!1;ft===Ze.row&&(be=!0),ft=Ze.row;var Q=B[Ze.name],ie=document.createElement("span");ie.className="spanPadding "+Ze.name+" customSpanColor",ie.style.cssText=i(g,Q),ie.textContent=0!==ae&&be?ae===Ve.spans.length-1?d(Ze.line):Ze.line:Ve.spans.length>1&&ae<Ve.spans.length-1&&Ze.row===Ve.spans[ae+1].row?c(Ze.line):Ze.line.trim(),Te.appendChild(ie)}}}we.appendChild(Te),ke.appendChild(we);var ye={bodyStyle:["%",90]};for(var oe in B)B.hasOwnProperty(oe)&&(ye[oe]=["%",90]);Ce.push({type:"html",start:S,end:x,cueHTMLElement:ke,cueID:Ae,cellResolution:[32,15],isFromCEA608:!0,fontSize:ye,lineHeight:{},linePadding:{}})}return Ce}}}v.__dashjs_factory_name="EmbeddedTextHtmlRender",p.default=t.default.getSingletonFactory(v)},"./src/streaming/text/NotFragmentedTextBufferController.js":
/*!*****************************************************************!*\
                  !*** ./src/streaming/text/NotFragmentedTextBufferController.js ***!
                  \*****************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),v=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),P=e(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),C=e(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),m=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),i="NotFragmentedTextBufferController";function c(d){d=d||{};var O,D,I,T,L,y,f=this.context,g=Object(t.default)(f).getInstance(),S=d.textController,x=d.errHandler,A=d.streamInfo,N=d.type;function G(X){T=X}function Ce(X){D!==X&&(D=X)&&function ee(X,$){g.trigger(X,$||{},{streamId:A.id,mediaType:N})}(v.default.BUFFERING_COMPLETED)}function ke(X){!X.chunk.bytes||D||(y.save(X.chunk),L.append(X.chunk),Ce(!0))}return O={initialize:function ne(X){G(X)},getStreamId:function Fe(){return A.id},getType:function Y(){return N},getBufferControllerType:function z(){return i},createBufferSink:function ae(X){return new Promise(function($,re){try{(L=Object(P.default)(f).create({mediaSource:T,textController:S,eventBus:g})).initializeForFirstUse(A,X),I||(L.getBuffer()&&"function"==typeof L.getBuffer().initialize&&L.getBuffer().initialize(),I=!0),$(L)}catch(J){x.error(new C.default(m.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,m.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+N)),re(J)}})},getBuffer:function le(){return L},getBufferLevel:function ge(){return 0},getRangeAt:function he(){return null},pruneBuffer:function ft(){},hasBufferAtTime:function we(){return!0},getAllRangesWithSafetyFactor:function Te(){return[]},getContinuousBufferTimeForTargetTime:function Oe(){return Number.POSITIVE_INFINITY},setMediaSource:G,getMediaSource:function Se(){return T},appendInitSegmentFromCache:function Ae(X){return null!==y.extract(A.id,X)},getIsBufferingCompleted:function Ie(){return D},setIsBufferingCompleted:Ce,getIsPruningInProgress:function ce(){return!1},reset:function pe(X){g.off(v.default.INIT_FRAGMENT_LOADED,ke,O),!X&&L&&(L.abort(),L.reset(),L=null)},clearBuffers:function Ve(){return Promise.resolve()},prepareForPlaybackSeek:function Re(){return Promise.resolve()},prepareForReplacementTrackSwitch:function be(){return D=!1,Promise.resolve()},setSeekTarget:function ie(){},updateAppendWindow:function Q(){return Promise.resolve()},pruneAllSafely:function oe(){return Promise.resolve()},updateBufferTimestampOffset:function Ze(){return Promise.resolve()},segmentRequestingCompleted:function ye(){}},function B(){I=!1,T=null,D=!1,y=Object(_.default)(f).getInstance(),g.on(v.default.INIT_FRAGMENT_LOADED,ke,O)}(),O}c.__dashjs_factory_name=i,p.default=b.default.getClassFactory(c)},"./src/streaming/text/TextController.js":
/*!**********************************************!*\
                  !*** ./src/streaming/text/TextController.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ./TextSourceBuffer */
"./src/streaming/text/TextSourceBuffer.js"),_=e(
/*! ./TextTracks */
"./src/streaming/text/TextTracks.js"),P=e(
/*! ../utils/VTTParser */
"./src/streaming/utils/VTTParser.js"),C=e(
/*! ../utils/VttCustomRenderingParser */
"./src/streaming/utils/VttCustomRenderingParser.js"),m=e(
/*! ../utils/TTMLParser */
"./src/streaming/utils/TTMLParser.js"),i=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),c=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),d=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),f=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function g(S){var L,y,B,z,ne,ae,Fe,Y,le,G,Se,ce,x=this.context,A=S.adapter,N=S.errHandler,O=S.manifestModel,D=S.mediaController,I=S.videoModel,T=S.settings;function Te($){var re=$.tracks,J=$.index,q=$.streamId;if(!1===T.get().streaming.text.defaultEnabled&&!Ze()||ce)be(q,-1);else{var xe=D.getCurrentTrackFor(t.default.TEXT,q);if(xe){var Ee={lang:xe.lang,role:xe.roles[0],index:xe.index,codec:xe.codec,accessibility:xe.accessibility[0]};re.some(function(Ge,ct){if(D.matchSettings(Ee,Ge))return be(q,ct),J=ct,!0})}le=!1}y[q].lastEnabledIndex=J,Y.trigger(d.default.TEXT_TRACKS_ADDED,{enabled:Ze(),index:J,tracks:re,streamId:q}),Se=!0}function Oe($){try{var re=$.streamId;if(!z[re]||isNaN($.time))return;z[re].manualCueProcessing($.time)}catch{}}function Ve($){try{var re=$.streamId;if(!z[re])return;z[re].disableManualTracks()}catch{}}function Ze(){var $=!0;return le&&!G&&($=!1),$}function be($,re){(le=-1===re)&&D&&D.saveTextSettingsDisabled();var J=ye($);if(J!==re&&z[$]){z[$].disableManualTracks(),z[$].setModeForTrackIdx(J,t.default.TEXT_HIDDEN),z[$].setCurrentTrackIdx(re),z[$].setModeForTrackIdx(re,t.default.TEXT_SHOWING);var q=z[$].getCurrentTrackInfo();q&&q.isFragmented&&!q.isEmbedded?function Q($,re,J){if(B[$])for(var _e=B[$].getConfig().fragmentedTracks,xe=0;xe<_e.length;xe++){var Ee=_e[xe];if(re.lang===Ee.lang&&(Ee.id?re.id===Ee.id:re.index===Ee.index)){var Ge=D.getCurrentTrackFor(t.default.TEXT,$);(Ee.id?Ge.id!==Ee.id:Ge.index!==Ee.index)?(z[$].deleteCuesFromTrackIdx(J),B[$].setCurrentFragmentedTrackIdx(xe)):-1===J&&Y.trigger(c.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:$,mediaType:t.default.TEXT})}}}($,q,J):q&&!q.isFragmented&&function ie($,re){Y.trigger(c.default.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:re},{streamId:$,mediaType:t.default.TEXT})}($,q),D.setTrack(q)}}function ye($){return z[$].getCurrentTrackIdx()}function ee(){B={},z={},y={},le=!0,Se=!1,ce=!1}return L={deactivateStream:function oe($){if($){var re=$.id;B[re]&&B[re].resetMediaInfos(),z[re]&&z[re].deleteAllTextTracks()}},initialize:function Ie(){Y.on(c.default.TEXT_TRACKS_QUEUE_INITIALIZED,Te,L),T.get().streaming.text.webvtt.customRenderingEnabled&&(Y.on(c.default.PLAYBACK_TIME_UPDATED,Oe,L),Y.on(c.default.PLAYBACK_SEEKING,Ve,L))},initializeForStream:function Ce($){var re=$.id,J=Object(_.default)(x).create({videoModel:I,settings:T,streamInfo:$});J.initialize(),z[re]=J;var q=Object(b.default)(x).create({errHandler:N,adapter:A,manifestModel:O,mediaController:D,videoModel:I,textTracks:J,vttParser:ne,vttCustomRenderingParser:ae,ttmlParser:Fe,streamInfo:$,settings:T});q.initialize(),B[re]=q,y[re]={},y[re].lastEnabledIndex=-1},createTracks:function pe($){var re=$.id;z[re]&&z[re].createTracks()},getTextSourceBuffer:function ke($){var re=$.id;if(B&&B[re])return B[re]},getAllTracksAreDisabled:function he(){return le},addEmbeddedTrack:function we($,re){var J=$.id;B[J]&&B[J].addEmbeddedTrack(re)},enableText:function ft($,re){Object(f.checkParameterType)(re,"boolean"),Ze()!==re&&(re&&be($,y[$].lastEnabledIndex),re||(y[$].lastEnabledIndex=ye($),Se?be($,-1):ce=!0))},isTextEnabled:Ze,setTextTrack:be,getCurrentTrackIdx:ye,enableForcedTextStreaming:function Re($){Object(f.checkParameterType)($,"boolean"),G=$},addMediaInfosToBuffer:function Ae($,re,J){var _e=$.id;B[_e]&&B[_e].addMediaInfos(re,J,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},reset:function X(){ee(),Y.off(c.default.TEXT_TRACKS_QUEUE_INITIALIZED,Te,L),T.get().streaming.text.webvtt.customRenderingEnabled&&(Y.off(c.default.PLAYBACK_TIME_UPDATED,Oe,L),Y.off(c.default.PLAYBACK_SEEKING,Ve,L)),Object.keys(B).forEach(function($){B[$].resetEmbedded(),B[$].reset()})}},function ge(){G=!1,Se=!1,ce=!1,ne=Object(P.default)(x).getInstance(),ae=Object(C.default)(x).getInstance(),Fe=Object(m.default)(x).getInstance(),Y=Object(i.default)(x).getInstance(),ee()}(),L}g.__dashjs_factory_name="TextController",p.default=v.default.getClassFactory(g)},"./src/streaming/text/TextSourceBuffer.js":
/*!************************************************!*\
                  !*** ./src/streaming/text/TextSourceBuffer.js ***!
                  \************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),b=e(
/*! ../vo/TextTrackInfo */
"./src/streaming/vo/TextTrackInfo.js"),_=e(
/*! ../utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),P=e(
/*! ../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js"),C=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),i=e(
/*! ./EmbeddedTextHtmlRender */
"./src/streaming/text/EmbeddedTextHtmlRender.js"),c=e(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),d=e.n(c),f=e(
/*! ../../../externals/cea608-parser */
"./externals/cea608-parser.js"),g=e.n(f),S=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),x=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),A=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),N=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js");function O(D){var ce,ge,Ie,Ce,pe,Ae,ke,he,we,Te,Oe,Ve,ft,Ze,Re,be,I=D.errHandler,T=D.manifestModel,L=D.mediaController,y=D.videoModel,B=D.textTracks,z=D.vttParser,ne=D.vttCustomRenderingParser,ae=D.ttmlParser,Fe=D.streamInfo,Y=D.settings,le=this.context,G=Object(S.default)(le).getInstance(),Se=!1;function oe(){(function ye(){Ae=null,he=NaN,we=[],Te=null,ke=!1})(),pe=[],Ce=null}function $(He){var Ye=new b.default;for(var at in He)Ye[at]=He[at];Ye.labels=He.labels,Ye.defaultTrack=function un(He){var Ye=!1;return Ve.length>1&&He.isEmbedded?Ye=He.id&&He.id===t.default.CC1:1===Ve.length?He.id&&"string"==typeof He.id&&"CC"===He.id.substring(0,2)&&(Ye=!0):0===Ve.length&&(Ye=He.index===pe[0].index),Ye}(He),Ye.isFragmented=He.isFragmented,Ye.isEmbedded=!!He.isEmbedded,Ye.isTTML=function Xe(He){return He.codec&&He.codec.search(t.default.STPP)>=0||He.mimeType&&He.mimeType.search(t.default.TTML)>=0}(He),Ye.kind=function tt(He,Ye){var st=He.roles&&He.roles.length>0?Ye[He.roles[0]]:Ye.caption;return st===Ye.caption||st===Ye.subtitle?st:Ye.caption}(He,{subtitle:"subtitles",caption:"captions"}),B.addTextTrack(Ye)}function q(He){var Ye=He.chunk;Ye.mediaInfo.embeddedCaptions&&gt(Ye.bytes,Ye)}function ct(He){Oe=He}function gt(He,Ye){var st=Ye.mediaInfo,at=st.type,bt=st.codec||st.mimeType;bt?-1!==st.codec.indexOf("application/mp4")?function Qe(He,Ye,st){var at;if("InitializationSegment"===Ye.segmentType)ke=!0,he=Ie.getMediaTimescaleFromMoov(He);else{if(!ke)return;(at=Ie.getSamplesInfo(He).sampleList).length>0&&(Te=at[0].cts-Ye.start*he),st.search(t.default.STPP)>=0?function yt(He,Ye,st){var at,St;for(Ce=null!==Ce?Ce:fn(st),at=0;at<Ye.length;at++){var bt=Ye[at],At=bt.cts,on=qt(),En=on+At/he;ce.buffered.add(En,En+bt.duration/he);var Mn=new DataView(He,bt.offset,bt.subSizes[0]),In=d.a.Utils.dataViewToString(Mn,t.default.UTF8),Nn=[],$n=bt.offset+bt.subSizes[0];for(St=1;St<bt.subSizes.length;St++){var ni=new Uint8Array(He,$n,bt.subSizes[St]),vn=String.fromCharCode.apply(null,ni);Nn.push(vn),$n+=bt.subSizes[St]}try{var gn=T.getValue(),pn=Ce.parse(In,gn.ttmlTimeIsRelative?At/he:0,At/he,(At+bt.duration)/he,Nn);B.addCaptions(Oe,on,pn)}catch(_n){Ae.removeExecutedRequestsBeforeTime(),this.remove(),ge.error("TTML parser error: "+_n.message)}}}(He,at,st):function Dt(He,Ye){var st,at,St,bt=[];for(st=0;st<Ye.length;st++){var At=Ye[st];At.cts-=Te;var En=qt()+At.cts/he;ce.buffered.add(En,En+At.duration/he);var Mn=He.slice(At.offset,At.offset+At.size),In=d.a.parseBuffer(Mn);for(at=0;at<In.boxes.length;at++){var Nn=In.boxes[at];if(ge.debug("VTT box1: "+Nn.type),"vtte"!==Nn.type&&"vttc"===Nn.type)for(ge.debug("VTT vttc boxes.length = "+Nn.boxes.length),St=0;St<Nn.boxes.length;St++){var $n=Nn.boxes[St];if(ge.debug("VTT box2: "+$n.type),"payl"===$n.type){var ni=$n.cue_text;ge.debug("VTT cue_text = "+ni);var vn=At.cts/he,gn=(At.cts+At.duration)/he;bt.push({start:vn,end:gn,data:ni,styles:{}}),ge.debug("VTT "+vn+"-"+gn+" : "+ni)}}}}bt.length>0&&B.addCaptions(Oe,0,bt)}(He,at)}}(He,Ye,bt):at===t.default.VIDEO?function ze(He,Ye){var st,at;if(Ye.segmentType===v.HTTPRequest.INIT_SEGMENT_TYPE)0===ft&&(ft=Ie.getMediaTimescaleFromMoov(He));else if(Ye.segmentType===v.HTTPRequest.MEDIA_SEGMENT_TYPE){if(0===ft)return void ge.warn("CEA-608: No timescale for embeddedTextTrack yet");var St=(at=Ie.getSamplesInfo(He)).lastSequenceNumber;if(!Re[0]&&!Re[1]&&function Tt(){for(var He,Ye=0;Ye<Ve.length;Ye++){if(-1===(He=B.getTrackIdxForId(Ve[Ye].id)))return void ge.warn("CEA-608: data before track is ready.");var st=Kt(He);Re[Ye]=new g.a.Cea608Parser(Ye+1,{newCue:st},null)}}(),ft){if(null!==Ze&&St!==Ze+at.numSequences)for(st=0;st<Re.length;st++)Re[st]&&Re[st].reset();for(var bt=function Jt(He,Ye){if(0===Ye.length)return null;for(var st={splits:[],fields:[[],[]]},at=new DataView(He),St=0;St<Ye.length;St++)for(var bt=Ye[St],At=g.a.findCea608Nalus(at,bt.offset,bt.size),on=null,En=0,tn=0;tn<At.length;tn++)for(var Mn=g.a.extractCea608DataFromRange(at,At[tn]),In=0;In<2;In++)if(Mn[In].length>0){bt.cts!==on?En=0:En+=1;var Nn=qt();st.fields[In].push([bt.cts+Nn*ft,Mn[In],En]),on=bt.cts}return st.fields.forEach(function(ni){ni.sort(function(vn,gn){return vn[0]===gn[0]?vn[2]-gn[2]:vn[0]-gn[0]})}),st}(He,at.sampleList),At=0;At<Re.length;At++){var on=bt.fields[At],En=Re[At];if(En)for(st=0;st<on.length;st++)En.addData(on[st][0]/ft,on[st][1])}Ze=St}}}(He,Ye):function fe(He,Ye,st){var at,St,bt=new DataView(He,0,He.byteLength);St=d.a.Utils.dataViewToString(bt,t.default.UTF8);try{at=fn(st).parse(St,0),B.addCaptions(B.getCurrentTrackIdx(),0,at),ce.buffered&&ce.buffered.add(Ye.start,Ye.end)}catch(At){I.error(new A.default(N.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,N.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+At.message,St))}}(He,Ye,bt):ge.error("No text type defined")}function Kt(He){return function Ye(st,at,St){var bt;(bt=y.getTTMLRenderingDiv()?be.createHTMLCaptionsFromScreen(y.getElement(),st,at,St):[{start:st,end:at,data:St.getDisplayText(),styles:{}}])&&B.addCaptions(He,0,bt)}}function qt(){return isNaN(ce.timestampOffset)?0:ce.timestampOffset}function fn(He){var Ye;return He.search(t.default.VTT)>=0?Ye=Y.get().streaming.text.webvtt.customRenderingEnabled&&ne?ne:z:(He.search(t.default.TTML)>=0||He.search(t.default.STPP)>=0)&&(Ye=ae),Ye}function vt(He){Ve.forEach(function(Ye){var st=B.getTrackIdxForId(Ye.id);st>=0&&B.deleteCuesFromTrackIdx(st,He.from,He.to)})}return ce={initialize:function ee(){Se||function _e(){Ve=[],Oe=null,ft=0,Re=[],Ze=null,Se=!0,be=Object(i.default)(le).getInstance(),G.on(x.default.VIDEO_CHUNK_RECEIVED,q,ce),G.on(x.default.BUFFER_CLEARED,vt,ce)}()},addMediaInfos:function X(He,Ye,st){if(pe=pe.concat(Ye),He===t.default.TEXT&&Ye[0].isFragmented&&!Ye[0].isEmbedded){Ae=st,ce.buffered=Object(P.default)(le).create(),we=L.getTracksFor(t.default.TEXT,Fe.id).filter(function(At){return At.isFragmented});for(var at=L.getCurrentTrackFor(t.default.TEXT,Fe.id),St=0;St<we.length;St++)if(we[St]===at){ct(St);break}}for(var bt=0;bt<Ye.length;bt++)$(Ye[bt])},resetMediaInfos:function it(){pe=[]},getStreamId:function ie(){return Fe.id},append:gt,abort:function re(){},addEmbeddedTrack:function Ee(He){if(Se&&He)if(He.id===t.default.CC1||He.id===t.default.CC3){for(var Ye=0;Ye<Ve.length;Ye++)if(Ve[Ye].id===He.id)return;Ve.push(He)}else ge.warn("Embedded track "+He.id+" not supported!")},resetEmbedded:function xe(){G.off(x.default.VIDEO_CHUNK_RECEIVED,q,ce),G.off(x.default.BUFFER_CLEARED,vt,ce),B&&B.deleteAllTextTracks(),Se=!1,Ve=[],Re=[null,null],Ze=null},getConfig:function Ge(){return{fragmentModel:Ae,fragmentedTracks:we,videoModel:y}},setCurrentFragmentedTrackIdx:ct,remove:function wt(He,Ye){void 0===He&&He===Ye&&(He=ce.buffered.start(0),Ye=ce.buffered.end(ce.buffered.length-1)),ce.buffered.remove(He,Ye),B.deleteCuesFromTrackIdx(Oe,He,Ye)},reset:function J(){oe(),pe=[],Ie=null}},function Q(){ge=Object(m.default)(le).getInstance().getLogger(ce),Ie=Object(_.default)(le).getInstance(),oe()}(),ce}O.__dashjs_factory_name="TextSourceBuffer",p.default=C.default.getClassFactory(O)},"./src/streaming/text/TextTracks.js":
/*!******************************************!*\
                  !*** ./src/streaming/text/TextTracks.js ***!
                  \******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),_=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),P=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),m=e(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js");function c(S,x){var A=typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(!A){if(Array.isArray(S)||(A=function d(S,x){if(S){if("string"==typeof S)return f(S,x);var A=Object.prototype.toString.call(S).slice(8,-1);if("Object"===A&&S.constructor&&(A=S.constructor.name),"Map"===A||"Set"===A)return Array.from(S);if("Arguments"===A||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return f(S,x)}}(S))||x&&S&&"number"==typeof S.length){A&&(S=A);var N=0,O=function(){};return{s:O,n:function(){return N>=S.length?{done:!0}:{done:!1,value:S[N++]}},e:function(y){throw y},f:O}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var T,D=!0,I=!1;return{s:function(){A=A.call(S)},n:function(){var y=A.next();return D=y.done,y},e:function(y){I=!0,T=y},f:function(){try{!D&&null!=A.return&&A.return()}finally{if(I)throw T}}}}function f(S,x){(null==x||x>S.length)&&(x=S.length);for(var A=0,N=new Array(x);A<x;A++)N[A]=S[A];return N}function g(S){var I,T,L,y,B,z,ne,ae,Fe,Y,le,G,Se,ce,ge,Ie,Ce,pe,x=this.context,A=Object(v.default)(x).getInstance(),N=S.videoModel,O=S.streamInfo,D=S.settings;function we(fe){return N.addTextTrack(fe.kind,void 0!==fe.id?fe.id:fe.lang,fe.lang,fe.isTTML,fe.isEmbedded)}function Ve(fe,ze,Tt,Kt,Jt,qt){var wt=0,vt=0;fe/ze>Tt/Kt?wt=(vt=ze)/Kt*Tt:vt=(wt=fe)/Tt*Kt;var it,He,Ye=0,st=0;return wt/vt>Jt?(st=vt,Ye=vt*Jt):(Ye=wt,st=wt/Jt),it=(fe-Ye)/2,He=(ze-st)/2,qt?{x:it+.1*Ye,y:He+.1*st,w:.8*Ye,h:.8*st}:{x:it,y:He,w:Ye,h:st}}function ft(fe,ze){var Tt=N.getClientWidth(),Kt=N.getClientHeight(),Jt=N.getVideoWidth(),qt=N.getVideoHeight(),un=N.getVideoRelativeOffsetTop(),fn=N.getVideoRelativeOffsetLeft();if(0!==Jt&&0!==qt){var wt=Jt/qt,vt=!1;fe.isFromCEA608&&(wt=3.5/3,vt=!0);var it=Ve.call(this,Tt,Kt,Jt,qt,wt,vt),He=it.w,Ye=it.h,st=it.x,at=it.y;if(He!=Fe||Ye!=Y||st!=ne||at!=ae||ze){if(ne=st+fn,ae=at+un,Fe=He,Y=Ye,le){var St=le.style;St&&(St.left=ne+"px",St.top=ae+"px",St.width=Fe+"px",St.height=Y+"px",St.zIndex=ce&&document[ce]||ge?Ce:null,A.trigger(_.default.CAPTION_CONTAINER_RESIZE))}var bt=fe.activeCues;if(bt)for(var At=bt.length,on=0;on<At;++on){var En=bt[on];En.scaleCue(En)}}}}function Ze(fe){var Kt,Jt,qt,un,fn;if(fe.cellResolution){var wt=[Fe/fe.cellResolution[0],Y/fe.cellResolution[1]];if(fe.linePadding)for(Kt in fe.linePadding)if(fe.linePadding.hasOwnProperty(Kt)){Jt=(fe.linePadding[Kt]*wt[0]).toString();for(var it=document.getElementsByClassName("spanPadding"),He=0;He<it.length;He++)it[He].style.cssText=it[He].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Jt),it[He].style.cssText=it[He].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Jt)}if(fe.fontSize){for(Kt in fe.fontSize)if(fe.fontSize.hasOwnProperty(Kt)){"%"===fe.fontSize[Kt][0]?qt=fe.fontSize[Kt][1]/100:"c"===fe.fontSize[Kt][0]&&(qt=fe.fontSize[Kt][1]),Jt=(qt*wt[1]).toString(),fn="defaultFontSize"!==Kt?document.getElementsByClassName(Kt):document.getElementsByClassName("paragraph");for(var Ye=0;Ye<fn.length;Ye++)fn[Ye].style.cssText=fn[Ye].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Jt)}if(fe.lineHeight)for(Kt in fe.lineHeight)if(fe.lineHeight.hasOwnProperty(Kt)){"%"===fe.lineHeight[Kt][0]?un=fe.lineHeight[Kt][1]/100:"c"===fe.fontSize[Kt][0]&&(un=fe.lineHeight[Kt][1]),Jt=(un*wt[1]).toString(),fn=document.getElementsByClassName(Kt);for(var st=0;st<fn.length;st++)fn[st].style.cssText=fn[st].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Jt)}}}if(fe.isd){var at=document.getElementById(fe.cueID);at&&le.removeChild(at),Re(fe)}}function Re(fe){if(le){var ze=document.createElement("div");le.appendChild(ze),Ie=Object(m.renderHTML)(fe.isd,ze,function(Tt){var Kt=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,Jt=/^#(.*)$/;if(Kt.test(Tt)){var qt=Kt.exec(Tt),un=parseInt(qt[4],10)-1;return"data:image/png;base64,"+btoa(fe.images[un])}if(Jt.test(Tt)){var vt=Jt.exec(Tt);return"data:image/png;base64,"+fe.embeddedImages[vt[1]]}return null},le.clientHeight,le.clientWidth,!1,function(Tt){T.info("renderCaption :",Tt)},Ie,!0),ze.id=fe.cueID,A.trigger(_.default.CAPTION_RENDERED,{captionDiv:ze,currentTrackIdx:z})}}function be(fe,ze,Tt){var Kt=X(fe);if(Kt&&Array.isArray(Tt)&&0!==Tt.length)for(var Jt=0;Jt<Tt.length;Jt++){var qt=void 0,un=Tt[Jt];Kt.cellResolution=un.cellResolution,Kt.isFromCEA608=un.isFromCEA608,!isNaN(un.start)&&!isNaN(un.end)&&(qt="html"===un.type&&le?Q(un,ze,Kt):un.data?ie(un,ze,Kt):null);try{qt?_e(Kt,qt)||(D.get().streaming.text.webvtt.customRenderingEnabled?(Kt.manualCueList||(Kt.manualCueList=[]),Kt.manualCueList.push(qt)):Kt.addCue(qt)):T.error("impossible to display subtitles.")}catch(fn){throw Ee(Kt),Kt.addCue(qt),fn}}}function Q(fe,ze,Tt){var Kt=this,Jt=new L(fe.start+ze,fe.end+ze,"");return Jt.cueHTMLElement=fe.cueHTMLElement,Jt.isd=fe.isd,Jt.images=fe.images,Jt.embeddedImages=fe.embeddedImages,Jt.cueID=fe.cueID,Jt.scaleCue=Ze.bind(Kt),Jt.cellResolution=fe.cellResolution,Jt.lineHeight=fe.lineHeight,Jt.linePadding=fe.linePadding,Jt.fontSize=fe.fontSize,le.style.left=ne+"px",le.style.top=ae+"px",le.style.width=Fe+"px",le.style.height=Y+"px",Jt.onenter=function(){Tt.mode===t.default.TEXT_SHOWING&&(this.isd?(Re(this),T.debug("Cue enter id:"+this.cueID)):(le.appendChild(this.cueHTMLElement),Ze.call(Kt,this),A.trigger(_.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:z})))},Jt.onexit=function(){if(le)for(var qt=le.childNodes,un=0;un<qt.length;++un)qt[un].id===this.cueID&&(T.debug("Cue exit id:"+qt[un].id),le.removeChild(qt[un]),--un)},Jt}function ie(fe,ze,Tt){var Kt=new L(fe.start-ze,fe.end-ze,fe.data);if(Kt.cueID="".concat(Kt.startTime,"_").concat(Kt.endTime),Kt.isActive=!1,fe.styles)try{void 0!==fe.styles.align&&"align"in Kt&&(Kt.align=fe.styles.align),void 0!==fe.styles.line&&"line"in Kt&&(Kt.line=fe.styles.line),void 0!==fe.styles.position&&"position"in Kt&&(Kt.position=fe.styles.position),void 0!==fe.styles.size&&"size"in Kt&&(Kt.size=fe.styles.size)}catch(Jt){T.error(Jt)}return Kt.onenter=function(){Tt.mode===t.default.TEXT_SHOWING&&A.trigger(_.default.CAPTION_RENDERED,{currentTrackIdx:z})},Kt}function ee(){var Kt,ze=[],Tt=c(N.getTextTracks());try{for(Tt.s();!(Kt=Tt.n()).done;){var Jt=Kt.value;Jt.manualMode===t.default.TEXT_SHOWING&&ze.push(Jt)}}catch(qt){Tt.e(qt)}finally{Tt.f()}return ze}function X(fe){return fe>=0&&y[fe]?N.getTextTrack(y[fe].kind,y[fe].id,y[fe].lang,y[fe].isTTML,y[fe].isEmbedded):null}function J(fe){var ze=this;if(fe!==z){var Tt=X(z=fe);q.call(this,Tt),Se&&(clearInterval(Se),Se=null),Tt&&"html"===Tt.renderingType&&(ft.call(this,Tt,!0),window.ResizeObserver?(pe=new window.ResizeObserver(function(){ft.call(ze,Tt,!0)})).observe(N.getElement()):Se=setInterval(ft.bind(this,Tt),500))}}function q(fe){Qe.call(this),fe&&"html"===fe.renderingType?tt.call(this):gt.call(this)}function _e(fe,ze){if(!fe.cues)return!1;for(var Tt=0;Tt<fe.cues.length;Tt++)if(fe.cues[Tt].startTime===ze.startTime&&fe.cues[Tt].endTime===ze.endTime)return!0;return!1}function xe(fe,ze,Tt){var Kt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(isNaN(ze)||(Kt?fe.startTime:fe.endTime)>=ze)&&(isNaN(Tt)||(Kt?fe.endTime:fe.startTime)<=Tt)}function Ee(fe,ze,Tt){var Kt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(fe.cues)for(var Jt=fe.cues,un=Jt.length-1;un>=0;un--)xe(Jt[un],ze,Tt,Kt)&&(Jt[un].onexit&&Jt[un].onexit(),fe.removeCue(Jt[un]))}function tt(){var fe=document.getElementById("native-cue-style");if(!fe){(fe=document.createElement("style")).id="native-cue-style",document.head.appendChild(fe);var ze=fe.sheet,Tt=N.getElement();try{Tt&&ze.insertRule(Tt.id?"#"+Tt.id+"::cue {background: transparent}":0!==Tt.classList.length?"."+Tt.className+"::cue {background: transparent}":"video::cue {background: transparent}",0)}catch(Kt){T.info(""+Kt.message)}}}function gt(){var fe=document.getElementById("native-cue-style");fe&&document.head.removeChild(fe)}function Qe(){if(le)for(;le.firstChild;)le.removeChild(le.firstChild)}return I={initialize:function ke(){typeof window>"u"||typeof navigator>"u"||(L=window.VTTCue||window.TextTrackCue,y=[],B=[],z=-1,ne=0,ae=0,Fe=0,Y=0,le=null,G=null,Se=null,ge=!1,Ce=2147483647,Ie=null,void 0!==document.fullscreenElement?ce="fullscreenElement":void 0!==document.webkitIsFullScreen?ce="webkitIsFullScreen":document.msFullscreenElement?ce="msFullscreenElement":document.mozFullScreen&&(ce="mozFullScreen"))},getStreamId:function he(){return O.id},addTextTrack:function Te(fe){y.push(fe)},addCaptions:be,createTracks:function Oe(){y.sort(function(fn,wt){return fn.index-wt.index}),le=N.getTTMLRenderingDiv(),G=N.getVttRenderingDiv();for(var fe=-1,ze=0;ze<y.length;ze++){var Tt=we(y[ze]);B.push(Tt),y[ze].defaultTrack&&(Tt.default=!0,fe=ze);var Kt=X(ze);Kt&&(Kt.mode=t.default.TEXT_SHOWING,Kt.renderingType=le&&(y[ze].isTTML||y[ze].isEmbedded)?"html":"default"),be(ze,0,y[ze].captionData),A.trigger(_.default.TEXT_TRACK_ADDED)}if(J.call(this,fe),fe>=0){A.on(_.default.PLAYBACK_METADATA_LOADED,function fn(){var wt=X(fe);wt&&"html"===wt.renderingType&&ft.call(this,wt,!0),A.off(_.default.PLAYBACK_METADATA_LOADED,fn,this)},this);for(var qt=0;qt<y.length;qt++){var un=X(qt);un&&(un.mode=qt===fe?t.default.TEXT_SHOWING:t.default.TEXT_HIDDEN,un.manualMode=qt===fe?t.default.TEXT_SHOWING:t.default.TEXT_HIDDEN)}}A.trigger(b.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:z,tracks:y,streamId:O.id})},getCurrentTrackIdx:function $(){return z},setCurrentTrackIdx:J,getTrackIdxForId:function re(fe){for(var ze=-1,Tt=0;Tt<y.length;Tt++)if(y[Tt].id===fe){ze=Tt;break}return ze},getCurrentTrackInfo:function Dt(){return y[z]},setModeForTrackIdx:function yt(fe,ze){var Tt=X(fe);Tt&&Tt.mode!==ze&&(Tt.mode=ze),Tt&&Tt.manualMode!==ze&&(Tt.manualMode=ze)},deleteCuesFromTrackIdx:function Ge(fe,ze,Tt){var Kt=X(fe);Kt&&Ee(Kt,ze,Tt)},deleteAllTextTracks:function ct(){for(var fe=B?B.length:0,ze=0;ze<fe;ze++){var Tt=X(ze);Tt&&Ee.call(this,Tt,O.start,O.start+O.duration,!1)}B=[],y=[],Se&&(clearInterval(Se),Se=null),pe&&N&&(pe.unobserve(N.getElement()),pe=null),z=-1,Qe.call(this)},deleteTextTrack:function Xe(fe){N.removeChild(B[fe]),B.splice(fe,1)},manualCueProcessing:function ye(fe){var ze=ee();if(ze&&ze.length>0){var Kt=ze[0].manualCueList;Kt&&Kt.length>0&&Kt.forEach(function(Jt){if(Jt.startTime<=fe&&Jt.endTime>=fe&&!Jt.isActive)Jt.isActive=!0,WebVTT.processCues(window,[Jt],G,Jt.cueID);else if(Jt.isActive&&(Jt.startTime>fe||Jt.endTime<fe)&&(Jt.isActive=!1,G))for(var qt=G.childNodes,un=0;un<qt.length;++un)qt[un].id===Jt.cueID&&(G.removeChild(qt[un]),--un)})}},disableManualTracks:function oe(){var fe=ee();if(fe&&fe.length>0){var Tt=fe[0].manualCueList;Tt&&Tt.length>0&&Tt.forEach(function(Kt){if(Kt.isActive&&(Kt.isActive=!1,G))for(var Jt=G.childNodes,qt=0;qt<Jt.length;++qt)Jt[qt].id===Kt.cueID&&(G.removeChild(Jt[qt]),--qt)})}}},function Ae(){T=Object(C.default)(x).getInstance().getLogger(I)}(),I}g.__dashjs_factory_name="TextTracks",p.default=P.default.getClassFactory(g)},"./src/streaming/thumbnail/ThumbnailController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailController.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../vo/Thumbnail */
"./src/streaming/vo/Thumbnail.js"),_=e(
/*! ./ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),P=e(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),C=e(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function m(i){var f,g,c=this.context,d=i.streamInfo;function D(y){g.setTrackByIndex(y)}function L(){g&&g.reset()}return f={getStreamId:function A(){return d.id},initialize:function x(){g.addTracks();var y=g.getTracks();y&&y.length>0&&D(0)},provide:function N(y,B){if("function"==typeof B){var ae,z=g.getCurrentTrack();if(!z||z.segmentDuration<=0||null==y)return void B(null);(ae=g.getThumbnailRequestForTime(y))&&(z.segmentDuration=ae.duration);var Fe=Math.floor(y%z.segmentDuration*z.tilesHor*z.tilesVert/z.segmentDuration),Y=new b.default;if(Y.width=Math.floor(z.widthPerTile),Y.height=Math.floor(z.heightPerTile),Y.x=Math.floor(Fe%z.tilesHor)*z.widthPerTile,Y.y=Math.floor(Fe/z.tilesHor)*z.heightPerTile,"readThumbnail"in z)return z.readThumbnail(y,function(G){Y.url=G,B(Y)});if(ae)Y.url=ae.url,z.segmentDuration=NaN;else{var le=Math.floor(y/z.segmentDuration);Y.url=function O(y,B){var z=B+y.startNumber,ne=Object(C.replaceTokenForTemplate)(y.templateUrl,"Number",z);return ne=Object(C.replaceTokenForTemplate)(ne,"Time",(z-1)*y.segmentDuration*y.timescale),ne=Object(C.replaceTokenForTemplate)(ne,"Bandwidth",y.bandwidth),Object(C.unescapeDollarsInTemplate)(ne)}(z,le)}B(Y)}},setTrackByIndex:D,getCurrentTrackIndex:function I(){return g.getCurrentTrackIndex()},getBitrateList:function T(){var y=g.getTracks(),B=0;return y.map(function(z){var ne=new P.default;return ne.mediaType=v.default.IMAGE,ne.qualityIndex=B++,ne.bitrate=z.bitrate,ne.width=z.width,ne.height=z.height,ne})},reset:L},function S(){L(),g=Object(_.default)(c).create({streamInfo:d,adapter:i.adapter,baseURLController:i.baseURLController,timelineConverter:i.timelineConverter,debug:i.debug,eventBus:i.eventBus,events:i.events,dashConstants:i.dashConstants,dashMetrics:i.dashMetrics,segmentBaseController:i.segmentBaseController})}(),f}m.__dashjs_factory_name="ThumbnailController",p.default=t.default.getClassFactory(m)},"./src/streaming/thumbnail/ThumbnailTracks.js":
/*!****************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailTracks.js ***!
                  \****************************************************/
/*! exports provided: THUMBNAILS_SCHEME_ID_URIS, default */function(et,p,e){"use strict";e.r(p),e.d(p,"THUMBNAILS_SCHEME_ID_URIS",function(){return f});var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../vo/ThumbnailTrackInfo */
"./src/streaming/vo/ThumbnailTrackInfo.js"),P=e(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),C=e(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),m=e(
/*! ../../streaming/utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),i=e(
/*! ../../streaming/net/XHRLoader */
"./src/streaming/net/XHRLoader.js"),c=e(
/*! ../../dash/DashHandler */
"./src/dash/DashHandler.js"),d=e(
/*! ../../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),f=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function g(S){var z,ne,ae,Fe,Y,le,G,Se,x=this.context,A=S.adapter,N=S.baseURLController,O=S.streamInfo,D=S.timelineConverter,I=S.debug,T=S.eventBus,L=S.events,y=S.dashConstants,B=Object(P.default)(x).getInstance();function Ie(ft,Ze){var Re=new _.default;Re.id=ft.id,Re.bitrate=ft.bandwidth,Re.width=ft.width,Re.height=ft.height,Re.tilesHor=1,Re.tilesVert=1,ft.essentialProperties&&ft.essentialProperties.forEach(function(be){if(f.indexOf(be.schemeIdUri)>=0&&be.value){var Q=be.value.split("x");2===Q.length&&!isNaN(Q[0])&&!isNaN(Q[1])&&(Re.tilesHor=parseInt(Q[0],10),Re.tilesVert=parseInt(Q[1],10))}}),Ze?le.updateSegmentData(ft).then(function(be){!function Ce(ft,Ze,Re){var be=[],Q=function pe(ft,Ze){var Q,ie,ye,oe,Re=[],be=0;for(Q=0,ie=ft.segments.length;Q<ie;Q++)ye=ft.segments[Q],(oe=Object(C.getTimeBasedSegment)(D,A.getIsDynamic(),Ze,ye.startTime,ye.duration,ye.timescale,ye.media,ye.mediaRange,be))&&(Re.push(oe),oe=null,be++);return Re}(Re,Ze);Ze.segments=Q,ft.segmentDuration=Ze.segments[0].duration,ft.readThumbnail=function(ie,ye){var oe=null;be.some(function(ee){if(ee.start<=ie&&ee.end>ie)return oe=ee.url,!0}),oe?ye(oe):Ze.segments.some(function(ee){if(ee.mediaStartTime<=ie&&ee.mediaStartTime+ee.duration>ie){var X=N.resolve(Ze.path);return G.load({method:"get",url:X.url,request:{range:ee.mediaRange,responseType:"arraybuffer"},onload:function(re){var J=Se.getSamplesInfo(re.target.response),q=new Blob([re.target.response.slice(J.sampleList[0].offset,J.sampleList[0].offset+J.sampleList[0].size)],{type:"image/jpeg"}),_e=window.URL.createObjectURL(q);be.push({start:ee.mediaStartTime,end:ee.mediaStartTime+ee.duration,url:_e}),ye&&ye(_e)}}),!0}})}}(Re,ft,be)}):(Re.startNumber=ft.startNumber,Re.segmentDuration=ft.segmentDuration,Re.timescale=ft.timescale,Re.templateUrl=function Ae(ft){var Ze=B.isRelative(ft.media)?B.resolve(ft.media,N.resolve(ft.path).url):ft.media;return Ze?Object(C.replaceIDForTemplate)(Ze,ft.id):""}(ft)),Re.tilesHor>0&&Re.tilesVert>0&&(Re.widthPerTile=Re.width/Re.tilesHor,Re.heightPerTile=Re.height/Re.tilesVert,ne.push(Re))}function Ve(){ne=[],Fe=-1,Y=null}return z={getTracks:function ke(){return ne},addTracks:function ge(){if(O&&A&&(Y=A.getMediaInfoForType(O,t.default.IMAGE))){var ft=A.getVoRepresentations(Y);ft&&ft.length>0&&ft.forEach(function(Ze){(Ze.segmentInfoType===v.default.SEGMENT_TEMPLATE&&Ze.segmentDuration>0&&Ze.media||Ze.segmentInfoType===v.default.SEGMENT_TIMELINE)&&Ie(Ze),Ze.segmentInfoType===v.default.SEGMENT_BASE&&Ie(Ze,!0)}),ne.length>0&&ne.sort(function(Ze,Re){return Ze.bitrate-Re.bitrate})}},reset:Ve,setTrackByIndex:function Te(ft){!ne||0===ne.length||(ft>=ne.length&&(ft=ne.length-1),Fe=ft)},getCurrentTrack:function we(){return Fe<0?null:ne[Fe]},getCurrentTrackIndex:function he(){return Fe},getThumbnailRequestForTime:function Oe(ft){for(var Ze,Re=A.getVoRepresentations(Y),be=0;be<Re.length;be++)if(ne[Fe].id===Re[be].id){Ze=Re[be];break}return ae.getSegmentRequestForTime(Y,Ze,ft)}},function ce(){Ve(),G=Object(i.default)(x).create({}),Se=Object(m.default)(x).getInstance(),le=Object(d.default)(x).create({events:L,eventBus:T,streamInfo:O,timelineConverter:D,dashConstants:y,dashMetrics:S.dashMetrics,segmentBaseController:S.segmentBaseController,type:t.default.IMAGE}),(ae=Object(c.default)(x).create({streamInfo:O,type:t.default.IMAGE,timelineConverter:D,segmentsController:le,baseURLController:N,debug:I,eventBus:T,events:L,dashConstants:y,urlUtils:B})).initialize(!!A&&A.getIsDynamic())}(),z}g.__dashjs_factory_name="ThumbnailTracks",p.default=b.default.getClassFactory(g)},"./src/streaming/utils/BaseURLSelector.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/BaseURLSelector.js ***!
                  \************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),v=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),_=e(
/*! ../controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),P=e(
/*! ./baseUrlResolution/DVBSelector */
"./src/streaming/utils/baseUrlResolution/DVBSelector.js"),C=e(
/*! ./baseUrlResolution/BasicSelector */
"./src/streaming/utils/baseUrlResolution/BasicSelector.js"),m=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),i=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),c=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),d=e(
/*! ./baseUrlResolution/ContentSteeringSelector */
"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js"),f=e(
/*! ../../core/Settings */
"./src/core/Settings.js");function g(){var N,O,D,I,T,L,S=this.context,x=Object(v.default)(S).getInstance(),A=Object(f.default)(S).getInstance();function ae(){O.reset()}return N={chooseSelector:function z(Fe){Object(c.checkParameterType)(Fe,"boolean"),L=Fe?I:D},select:function ne(Fe){if(Fe){if(A.get().streaming.applyContentSteering){var Y=T.selectBaseUrlIndex(Fe);!isNaN(Y)&&-1!==Y&&(Fe.selectedIdx=Y)}if(!isNaN(Fe.selectedIdx))return Fe.baseUrls[Fe.selectedIdx];var le=L.select(Fe.baseUrls);return le?(Fe.selectedIdx=Fe.baseUrls.indexOf(le),le):(x.trigger(b.default.URL_RESOLUTION_FAILED,{error:new i.default(t.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,t.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(L===D&&ae()))}},reset:ae,setConfig:function B(Fe){Fe.selector&&(L=Fe.selector),Fe.contentSteeringSelector&&(T=Fe.contentSteeringSelector)}},function y(){O=Object(_.default)(S).create({updateEventName:b.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:b.default.SERVICE_LOCATION_BLACKLIST_ADD}),D=Object(C.default)(S).create({blacklistController:O}),I=Object(P.default)(S).create({blacklistController:O}),(T=Object(d.default)(S).create()).setConfig({blacklistController:O}),L=D}(),N}g.__dashjs_factory_name="BaseURLSelector",p.default=m.default.getClassFactory(g)},"./src/streaming/utils/BoxParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/BoxParser.js ***!
                  \******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),v=e(
/*! ./IsoFile */
"./src/streaming/utils/IsoFile.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),P=e.n(_),C=e(
/*! ../vo/IsoBoxSearchInfo */
"./src/streaming/vo/IsoBoxSearchInfo.js");function m(){var i,c,d=this.context;function g(T){if(!T)return null;void 0===T.fileStart&&(T.fileStart=0);var L=P.a.parseBuffer(T),y=Object(v.default)(d).create();return y.setData(L),y}function N(T,L){return T[L+3]>>>0|T[L+2]<<8>>>0|T[L+1]<<16>>>0|T[L]<<24>>>0}function O(T,L){return String.fromCharCode(T[L++])+String.fromCharCode(T[L++])+String.fromCharCode(T[L++])+String.fromCharCode(T[L])}return c={parse:g,findLastTopIsoBoxCompleted:function S(T,L,y){if(void 0===y&&(y=0),!L||y+8>=L.byteLength)return new C.default(0,!1);for(var z,B=L instanceof ArrayBuffer?new Uint8Array(L):L,ne=0;y<B.byteLength;){var ae=N(B,y),Fe=O(B,y+4);if(0===ae)break;y+ae<=B.byteLength&&(T.indexOf(Fe)>=0?z=new C.default(y,!0,ae):ne=y+ae),y+=ae}return z||new C.default(ne,!1)},getMediaTimescaleFromMoov:function A(T){var L=g(T),y=L?L.getBox("mdhd"):void 0;return y?y.timescale:NaN},getSamplesInfo:function x(T){if(!T||0===T.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var z,ae,Fe,Y,le,G,Se,ce,ge,Ie,Ce,pe,Ae,ke,he,we,L=g(T),y=L.getBoxes("moof"),B=L.getBoxes("mfhd");he=L.getBoxes("moof").length,ke=B[B.length-1].sequence_number,ae=0,le=[];var Te=-1,Oe=-1;for(Ie=0;Ie<y.length;Ie++){var Ve=y[Ie],ft=Ve.getChildBoxes("traf");for(ce=0;ce<ft.length;ce++){var Ze=ft[ce],Re=Ze.getChildBox("tfhd"),be=Ze.getChildBox("tfdt");Y=be.baseMediaDecodeTime;var Q=Ze.getChildBoxes("trun"),ie=Ze.getChildBoxes("subs");for(ge=0;ge<Q.length;ge++){var ye=Q[ge];for(ae=ye.sample_count,Ae=(Re.base_data_offset||0)+(ye.data_offset||0),Se=0;Se<ae;Se++){var oe={dts:Y,cts:Y+(void 0!==(G=ye.samples[Se]).sample_composition_time_offset?G.sample_composition_time_offset:0),duration:z=void 0!==G.sample_duration?G.sample_duration:Re.default_sample_duration,offset:Ve.offset+Ae,size:Fe=void 0!==G.sample_size?G.sample_size:Re.default_sample_size,subSizes:[Fe]};if(ie)for(Ce=0;Ce<ie.length;Ce++){var ee=ie[Ce];if(Te<ee.entry_count-1&&Se>Oe&&(Te++,Oe+=ee.entries[Te].sample_delta),Se==Oe){oe.subSizes=[];var X=ee.entries[Te];for(pe=0;pe<X.subsample_count;pe++)oe.subSizes.push(X.subsamples[pe].subsample_size)}}le.push(oe),Ae+=Fe,Y+=z}}we=Y-be.baseMediaDecodeTime}}return{sampleList:le,lastSequenceNumber:ke,totalDuration:we,numSequences:he}},findInitRange:function D(T){var L=null,z=g(T);if(!z)return L;var ne=z.getBox("ftyp"),ae=z.getBox("moov");return i.debug("Searching for initialization."),ae&&ae.isComplete&&i.debug("Found the initialization.  Range: "+(L=(ne?ne.offset:ae.offset)+"-"+(ae.offset+ae.size-1))),L},parsePayload:function I(T,L,y){if(void 0===y&&(y=0),!L||y+8>=L.byteLength)return new C.default(0,!1);for(var z,B=L instanceof ArrayBuffer?new Uint8Array(L):L,ne=0;y<B.byteLength;){var ae=N(B,y),Fe=O(B,y+4);if(0===ae)break;y+ae<=B.byteLength&&(T.indexOf(Fe)>=0?z=new C.default(y,!0,ae,Fe):ne=y+ae),y+=ae}return z||new C.default(ne,!1)}},function f(){i=Object(t.default)(d).getInstance().getLogger(c)}(),c}m.__dashjs_factory_name="BoxParser",p.default=b.default.getSingletonFactory(m)},"./src/streaming/utils/Capabilities.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/Capabilities.js ***!
                  \*********************************************/
/*! exports provided: supportsMediaSource, default */function(et,p,e){"use strict";e.r(p),e.d(p,"supportsMediaSource",function(){return P});var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),b=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),_=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function P(){var m="WebKitMediaSource"in window,i="MediaSource"in window;return m||i}function C(){var m,i,c;return m={setConfig:function f(T){T&&T.settings&&(i=T.settings)},supportsMediaSource:P,supportsEncryptedMedia:function g(){return c},supportsCodec:function x(T,L){return L!==b.default.AUDIO&&L!==b.default.VIDEO?Promise.resolve(!0):function A(T,L){return i.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(T.codec&&L===b.default.AUDIO||L===b.default.VIDEO&&T.codec&&T.width&&T.height&&T.bitrate&&T.framerate)}(T,L)?function O(T,L){return new Promise(function(y){if(T&&T.codec){var B={type:"media-source"};B[L]={},B[L].contentType=T.codec,B[L].width=T.width,B[L].height=T.height,B[L].bitrate=parseInt(T.bitrate),B[L].framerate=parseFloat(T.framerate),navigator.mediaCapabilities.decodingInfo(B).then(function(z){y(z.supported)}).catch(function(){y(!1)})}else y(!1)})}(T,L):function N(T){return new Promise(function(L){if(T&&T.codec){var y=T.codec;T.width&&T.height&&(y+=';width="'+T.width+'";height="'+T.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(y)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(y)?L(!0):L(!1)}else L(!1)})}(T)},setEncryptedMediaSupported:function S(T){c=T},supportsEssentialProperty:function D(T){try{return-1!==v.THUMBNAILS_SCHEME_ID_URIS.indexOf(T.schemeIdUri)}catch{return!0}},codecRootCompatibleWithCodec:function I(T,L){for(var z,y=T.split(".")[0],B=0===L.indexOf(y),ne=0;ne<_.length;ne++)if(_[ne].codec===y){z=_[ne];break}return z?B||z.compatibleCodecs.some(function(ae){return 0===L.indexOf(ae)}):B}},function d(){c=!1}(),m}C.__dashjs_factory_name="Capabilities",p.default=t.default.getSingletonFactory(C)},"./src/streaming/utils/CapabilitiesFilter.js":
/*!***************************************************!*\
                  !*** ./src/streaming/utils/CapabilitiesFilter.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),_=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),P=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function C(){var c,d,f,g,S,x,m=this.context,i=Object(_.default)(m).getInstance();function D(ae,Fe){if(!Fe||!Fe.Period_asArray||0===Fe.Period_asArray.length)return Promise.resolve();var Y=[];return Fe.Period_asArray.forEach(function(le){Y.push(function I(ae,Fe){return new Promise(function(Y){if(ae&&ae.AdaptationSet_asArray&&0!==ae.AdaptationSet_asArray.length){var le=[];ae.AdaptationSet_asArray.forEach(function(G){d.getIsTypeOf(G,Fe)&&le.push(function T(ae,Fe){return new Promise(function(Y){if(ae.Representation_asArray&&0!==ae.Representation_asArray.length){var le=[],G=[];ae.Representation_asArray.forEach(function(Se,ce){var ge=d.getCodec(ae,ce,!1),Ie=function L(ae,Fe,Y){switch(ae){case b.default.VIDEO:return function y(ae,Fe){return{codec:Fe,width:ae.width||null,height:ae.height||null,framerate:ae.frameRate||null,bitrate:ae.bandwidth||null}}(Fe,Y);case b.default.AUDIO:return function B(ae,Fe){return{codec:Fe,bitrate:ae.bandwidth||null,samplerate:ae.audioSamplingRate||null}}(Fe,Y);default:return null}}(Fe,Se,ge);G.push(Ie),le.push(f.supportsCodec(Ie,Fe))}),Promise.all(le).then(function(Se){ae.Representation_asArray=ae.Representation_asArray.filter(function(ce,ge){return Se[ge]||x.debug("[Stream] Codec ".concat(G[ge].codec," not supported ")),Se[ge]}),Y()}).catch(function(){Y()})}else Y()})}(G,Fe))}),Promise.all(le).then(function(){ae.AdaptationSet_asArray=ae.AdaptationSet_asArray.filter(function(G){var Se=G.Representation_asArray&&G.Representation_asArray.length>0;return Se||(i.trigger(P.default.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:G}),x.warn("AdaptationSet has been removed because of no supported Representation")),Se}),Y()}).catch(function(){Y()})}else Y()})}(le,ae))}),Promise.all(Y)}return c={setConfig:function N(ae){ae&&(ae.adapter&&(d=ae.adapter),ae.capabilities&&(f=ae.capabilities),ae.settings&&(g=ae.settings),ae.customParametersModel&&(S=ae.customParametersModel))},filterUnsupportedFeatures:function O(ae){return new Promise(function(Fe){var Y=[];Y.push(D(b.default.VIDEO,ae)),Y.push(D(b.default.AUDIO,ae)),Promise.all(Y).then(function(){g.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function z(ae){!ae||!ae.Period_asArray||0===ae.Period_asArray.length||ae.Period_asArray.forEach(function(Fe){Fe.AdaptationSet_asArray=Fe.AdaptationSet_asArray.filter(function(Y){return!Y.Representation_asArray||0===Y.Representation_asArray.length||(Y.Representation_asArray=Y.Representation_asArray.filter(function(le){var G=d.getEssentialPropertiesForRepresentation(le);if(G&&G.length>0)for(var Se=0;Se<G.length;){if(!f.supportsEssentialProperty(G[Se]))return x.debug("[Stream] EssentialProperty not supported: "+G[Se].schemeIdUri),!1;Se+=1}return!0}),Y.Representation_asArray&&Y.Representation_asArray.length>0)})})}(ae),function ne(ae){var Fe=S.getCustomCapabilitiesFilters();!Fe||0===Fe.length||!ae||!ae.Period_asArray||0===ae.Period_asArray.length||ae.Period_asArray.forEach(function(Y){Y.AdaptationSet_asArray=Y.AdaptationSet_asArray.filter(function(le){return!le.Representation_asArray||0===le.Representation_asArray.length||(le.Representation_asArray=le.Representation_asArray.filter(function(G){return!Fe.some(function(Se){return!Se(G)})}),le.Representation_asArray&&le.Representation_asArray.length>0)})})}(ae),Fe()}).catch(function(){Fe()})})}},function A(){x=Object(v.default)(m).getInstance().getLogger(c)}(),c}C.__dashjs_factory_name="CapabilitiesFilter",p.default=t.default.getSingletonFactory(C)},"./src/streaming/utils/CustomTimeRanges.js":
/*!*************************************************!*\
                  !*** ./src/streaming/utils/CustomTimeRanges.js ***!
                  \*************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function b(){return{customTimeRangeArray:[],length:0,add:function C(g,S){var x=0;for(x=0;x<this.customTimeRangeArray.length&&g>this.customTimeRangeArray[x].start;x++);for(this.customTimeRangeArray.splice(x,0,{start:g,end:S}),x=0;x<this.customTimeRangeArray.length-1;x++)this.mergeRanges(x,x+1)&&x--;this.length=this.customTimeRangeArray.length},clear:function m(){this.customTimeRangeArray=[],this.length=0},remove:function i(g,S){for(var x=0;x<this.customTimeRangeArray.length;x++)if(g<=this.customTimeRangeArray[x].start&&S>=this.customTimeRangeArray[x].end)this.customTimeRangeArray.splice(x,1),x--;else{if(g>this.customTimeRangeArray[x].start&&S<this.customTimeRangeArray[x].end){this.customTimeRangeArray.splice(x+1,0,{start:S,end:this.customTimeRangeArray[x].end}),this.customTimeRangeArray[x].end=g;break}g>this.customTimeRangeArray[x].start&&g<this.customTimeRangeArray[x].end?this.customTimeRangeArray[x].end=g:S>this.customTimeRangeArray[x].start&&S<this.customTimeRangeArray[x].end&&(this.customTimeRangeArray[x].start=S)}this.length=this.customTimeRangeArray.length},mergeRanges:function c(g,S){var x=this.customTimeRangeArray[g],A=this.customTimeRangeArray[S];return x.start<=A.start&&A.start<=x.end&&x.end<=A.end?(x.end=A.end,this.customTimeRangeArray.splice(S,1),!0):A.start<=x.start&&x.start<=A.end&&A.end<=x.end?(x.start=A.start,this.customTimeRangeArray.splice(S,1),!0):A.start<=x.start&&x.start<=A.end&&x.end<=A.end?(this.customTimeRangeArray.splice(g,1),!0):x.start<=A.start&&A.start<=x.end&&A.end<=x.end&&(this.customTimeRangeArray.splice(S,1),!0)},start:function d(g){return Object(v.checkInteger)(g),g>=this.customTimeRangeArray.length||g<0?NaN:this.customTimeRangeArray[g].start},end:function f(g){return Object(v.checkInteger)(g),g>=this.customTimeRangeArray.length||g<0?NaN:this.customTimeRangeArray[g].end}}}b.__dashjs_factory_name="CustomTimeRanges",p.default=t.default.getClassFactory(b)},"./src/streaming/utils/DOMStorage.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/DOMStorage.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),_=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],P="dashjs_?_bitrate",C="dashjs_?_settings",m="localStorage",c="lastBitrate",d="lastMediaSettings";function f(S){var N,O,D,x=this.context,A=(S=S||{}).settings;function T(le){if(void 0!==D)return D;D=!1;var ce;try{typeof window<"u"&&(ce=window[le])}catch(ge){return O.warn("DOMStorage access denied: "+ge.message),D}if(!ce||le!==m&&"sessionStorage"!==le)return D;try{ce.setItem("1","1"),ce.removeItem("1"),D=!0}catch(ge){O.warn("DOMStorage is supported, but cannot be used: "+ge.message)}return D}function y(){return 6e5*Math.round((new Date).getTime()/6e5)}function B(le,G){return T(le)&&A.get().streaming[G+"CachingInfo"].enabled}function z(){if(!A)throw new Error(b.default.MISSING_CONFIG_ERROR)}return N={getSavedBitrateSettings:function ae(le){if(z(),!A.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var G=NaN;if(B(m,c)){var Se=P.replace(/\?/,le);try{var ce=JSON.parse(localStorage.getItem(Se))||{},ge=(new Date).getTime()-parseInt(ce.timestamp,10)>=A.get().streaming.lastBitrateCachingInfo.ttl||!1,Ie=parseFloat(ce.bitrate);isNaN(Ie)||ge?ge&&localStorage.removeItem(Se):(G=Ie,O.debug("Last saved bitrate for "+le+" was "+Ie))}catch{return null}}return G},setSavedBitrateSettings:function Y(le,G){if(B(m,c)&&G){var Se=P.replace(/\?/,le);try{localStorage.setItem(Se,JSON.stringify({bitrate:G.toFixed(3),timestamp:y()}))}catch(ce){O.error(ce.message)}}},getSavedMediaSettings:function ne(le){if(z(),!A.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var G=null;if(B(m,d)){var Se=C.replace(/\?/,le);try{var ce=JSON.parse(localStorage.getItem(Se))||{},ge=(new Date).getTime()-parseInt(ce.timestamp,10)>=A.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;G=ce.settings,ge&&(localStorage.removeItem(Se),G=null)}catch{return null}}return G},setSavedMediaSettings:function Fe(le,G){if(B(m,d)){var Se=C.replace(/\?/,le);try{localStorage.setItem(Se,JSON.stringify({settings:G,timestamp:y()}))}catch(ce){O.error(ce.message)}}}},function I(){O=Object(v.default)(x).getInstance().getLogger(N),function L(){T(m)&&_.forEach(function(le){var G=localStorage.getItem(le.oldKey);if(G){localStorage.removeItem(le.oldKey);try{localStorage.setItem(le.newKey,G)}catch(Se){O.error(Se.message)}}})}()}(),N}f.__dashjs_factory_name="DOMStorage";var g=t.default.getSingletonFactory(f);p.default=g},"./src/streaming/utils/DefaultURLUtils.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/DefaultURLUtils.js ***!
                  \************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(){var b,_=/^[a-z][a-z0-9+\-_.]*:/i,P=/^https?:\/\//i,C=/^https:\/\//i,m=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,i=function(B,z){try{return new window.URL(B,z).toString()}catch{return B}},c=function(B,z){var ne=f;if(!z||!A(B))return B;N(B)&&(ne=g),O(B)&&(ne=x);var ae=ne(z),Fe="/"!==ae.charAt(ae.length-1)&&"/"!==B.charAt(0)?"/":"";return[ae,B].join(Fe)};function f(y){var B=y.indexOf("/"),z=y.lastIndexOf("/");return-1!==B?z===B+1?y:(-1!==y.indexOf("?")&&(y=y.substring(0,y.indexOf("?"))),y.substring(0,z+1)):""}function g(y){var B=y.match(m);return B?B[1]:""}function x(y){var B=y.match(_);return B?B[0]:""}function A(y){return!_.test(y)}function N(y){return A(y)&&"/"===y.charAt(0)}function O(y){return 0===y.indexOf("//")}return function d(){try{new window.URL("x","http://y"),b=i}catch{}finally{b=b||c}}(),{parseBaseUrl:f,parseOrigin:g,parseScheme:x,isRelative:A,isPathAbsolute:N,isSchemeRelative:O,isHTTPURL:function D(y){return P.test(y)},isHTTPS:function I(y){return C.test(y)},removeHostname:function S(y){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(y)[2].substring(1)},resolve:function T(y,B){return b(y,B)}}}v.__dashjs_factory_name="DefaultURLUtils",p.default=t.default.getSingletonFactory(v)},"./src/streaming/utils/EBMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/EBMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(b){b=b||{};var _,P=new DataView(b.data),C=0;function c(O,D){var I=!0,T=0;if(void 0===D&&(D=!1),O.tag>16777215?(P.getUint32(C)!==O.tag&&(I=!1),T=4):O.tag>65535?(256*P.getUint16(C)+P.getUint8(C+2)!==O.tag&&(I=!1),T=3):O.tag>255?(P.getUint16(C)!==O.tag&&(I=!1),T=2):(P.getUint8(C)!==O.tag&&(I=!1),T=1),!I&&O.required&&!D)throw new Error("required tag not found");return I&&(C+=T),I}function S(O){var D=1,I=128,L=-1,y=0,B=P.getUint8(C),z=0;for(z=0;z<8;z+=1){if((B&I)===I){y=void 0===O?B&~I:B,L=z;break}I>>=1}for(z=0;z<L;z+=1,D+=1)y=y<<8|255&P.getUint8(C+D);return C+=D,y}return _={getPos:function m(){return C},setPos:function i(O){C=O},consumeTag:c,consumeTagAndSize:function d(O,D){var I=c(O,D);return I&&S(),I},parseTag:function f(O){var D;return c(O),D=S(),_[O.parse](D)},skipOverElement:function g(O,D){var T,I=c(O,D);return I&&(T=S(),C+=T),I},getMatroskaCodedNum:S,getMatroskaFloat:function x(O){var D;switch(O){case 4:D=P.getFloat32(C),C+=4;break;case 8:D=P.getFloat64(C),C+=8}return D},getMatroskaUint:function A(O){for(var D=0,I=0;I<O;I+=1)D<<=8,D|=255&P.getUint8(C+I);return C+=O,D},moreData:function N(){return C<P.byteLength}}}v.__dashjs_factory_name="EBMLParser",p.default=t.default.getClassFactory(v)},"./src/streaming/utils/ErrorHandler.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/ErrorHandler.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),v=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function _(){var C=this.context,m=Object(t.default)(C).getInstance();return{error:function i(c){m.trigger(v.default.ERROR,{error:c})}}}_.__dashjs_factory_name="ErrorHandler",p.default=b.default.getSingletonFactory(_)},"./src/streaming/utils/InitCache.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/InitCache.js ***!
                  \******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(){var b={};return{save:function _(i){var c=i.streamId,d=i.representationId;b[c]=b[c]||{},b[c][d]=i},extract:function P(i,c){return b&&b[i]&&b[i][c]?b[i][c]:null},reset:function C(){b={}}}}v.__dashjs_factory_name="InitCache",p.default=t.default.getSingletonFactory(v)},"./src/streaming/utils/IsoFile.js":
/*!****************************************!*\
                  !*** ./src/streaming/utils/IsoFile.js ***!
                  \****************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../vo/IsoBox */
"./src/streaming/vo/IsoBox.js"),v=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var P;function m(f){var g=[];if(!f||!P||"function"!=typeof P.fetchAll)return g;for(var x,S=P.fetchAll(f),A=0,N=S.length;A<N;A++)(x=d(S[A]))&&g.push(x);return g}function d(f){if(!f)return null;var g=new t.default(f);return f.hasOwnProperty("_incomplete")&&(g.isComplete=!f._incomplete),g}return{getBox:function C(f){return f&&P&&P.boxes&&0!==P.boxes.length&&"function"==typeof P.fetch?d(P.fetch(f)):null},getBoxes:m,setData:function i(f){P=f},getLastBox:function c(){if(!P||!P.boxes||!P.boxes.length)return null;var g=m(P.boxes[P.boxes.length-1].type);return g.length>0?g[g.length-1]:null}}}b.__dashjs_factory_name="IsoFile",p.default=v.default.getClassFactory(b)},"./src/streaming/utils/ObjectUtils.js":
/*!********************************************!*\
                  !*** ./src/streaming/utils/ObjectUtils.js ***!
                  \********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! fast-deep-equal */
"./node_modules/fast-deep-equal/index.js"),b=e.n(v);function _(){return{areEqual:function C(m,i){return b()(m,i)}}}_.__dashjs_factory_name="ObjectUtils",p.default=t.default.getSingletonFactory(_)},"./src/streaming/utils/RequestModifier.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/RequestModifier.js ***!
                  \************************************************/
/*! exports provided: modifyRequest, default */function(et,p,e){"use strict";e.r(p),e.d(p,"modifyRequest",function(){return v});var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(_,P){var C={url:_.url,method:_.method,headers:Object.assign({},_.headers),credentials:_.withCredentials?"include":void 0};return Promise.resolve(P.modifyRequest(C)).then(function(){return Object.assign(_,C,{withCredentials:"include"===C.credentials})})}function b(){return{modifyRequest:null,modifyRequestURL:function P(m){return m},modifyRequestHeader:function C(m,i){return m}}}b.__dashjs_factory_name="RequestModifier",p.default=t.default.getSingletonFactory(b)},"./src/streaming/utils/SupervisorTools.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/SupervisorTools.js ***!
                  \************************************************/
/*! exports provided: checkParameterType, checkInteger, checkRange, checkIsVideoOrAudioType */function(et,p,e){"use strict";e.r(p),e.d(p,"checkParameterType",function(){return b}),e.d(p,"checkInteger",function(){return _}),e.d(p,"checkRange",function(){return P}),e.d(p,"checkIsVideoOrAudioType",function(){return C});var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function v(m){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(m)}function b(m,i){if(v(m)!==i)throw t.default.BAD_ARGUMENT_ERROR}function _(m){if(null===m||isNaN(m)||m%1!=0)throw t.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"}function P(m,i,c){if(m<i||m>c)throw t.default.BAD_ARGUMENT_ERROR+" : argument out of range"}function C(m){if("string"!=typeof m||m!==t.default.AUDIO&&m!==t.default.VIDEO)throw t.default.BAD_ARGUMENT_ERROR}},"./src/streaming/utils/TTMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/TTMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),_=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),P=e(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js"),m=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),i=e(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function c(){var g,S,d=this.context,f=Object(b.default)(d).getInstance(),x=0;function N(){var D="cue_TTML_"+x;return x++,D}return g={parse:function O(D,I,T,L,y){var ne,ae,Fe,B="",z=[],Y={},le={},G="",Se="",ce={onOpenTag:function(Ae,ke,he){if(he[" imagetype"]&&!he[" imageType"]&&(f.trigger(m.default.CONFORMANCE_VIOLATION,{level:i.default.LEVELS.ERROR,event:i.default.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),he[" imageType"]=he[" imagetype"]),"image"===ke&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===Ae||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===Ae)){if(!he[" imageType"]||"PNG"!==he[" imageType"].value)return void S.warn("smpte-tt imageType != PNG. Discarded");G=he["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){G&&(le[G]=Se.trim()),Se="",G=""},onText:function(Ae){G&&(Se+=Ae)}};if(!D)throw B="no ttml data to parse",new Error(B);Y.data=D,f.trigger(_.default.TTML_TO_PARSE,Y);var ge=Object(P.fromXML)(Y.data,function(pe){B=pe},ce);f.trigger(_.default.TTML_PARSED,{ttmlString:Y.data,ttmlDoc:ge});var Ie=ge.getMediaTimeEvents();for(Fe=0;Fe<Ie.length;Fe++){var Ce=Object(P.generateISD)(ge,Ie[Fe],function(pe){B=pe});Ce.contents.some(function(pe){return pe.contents.length})&&(ne=Ie[Fe]+I<T?T:Ie[Fe]+I)<(ae=Ie[Fe+1]+I>L?L:Ie[Fe+1]+I)&&z.push({start:ne,end:ae,type:"html",cueID:N(),isd:Ce,images:y,embeddedImages:le})}if(""!==B)throw S.error(B),new Error(B);return z}},function A(){S=Object(v.default)(d).getInstance().getLogger(g)}(),g}c.__dashjs_factory_name="TTMLParser",p.default=t.default.getSingletonFactory(c)},"./src/streaming/utils/URLUtils.js":
/*!*****************************************!*\
                  !*** ./src/streaming/utils/URLUtils.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ./DefaultURLUtils */
"./src/streaming/utils/DefaultURLUtils.js");function b(){var C,m=[],i=this.context;function g(B,z,ne){var ae=function c(B){var z;for(z=0;z<m.length;z++)if(m[z].regex.test(B))return m[z].utils;return C}(ne||z);return ae&&"function"==typeof ae[B]?ae[B](z,ne):C[B](z,ne)}return function d(){C=Object(v.default)(i).getInstance()}(),{registerUrlRegex:function f(B,z){m.push({regex:B,utils:z})},parseBaseUrl:function S(B){return g("parseBaseUrl",B)},parseOrigin:function x(B){return g("parseOrigin",B)},parseScheme:function N(B){return g("parseScheme",B)},isRelative:function O(B){return g("isRelative",B)},isPathAbsolute:function D(B){return g("isPathAbsolute",B)},isSchemeRelative:function I(B){return g("isSchemeRelative",B)},isHTTPURL:function T(B){return g("isHTTPURL",B)},isHTTPS:function L(B){return g("isHTTPS",B)},removeHostname:function A(B){return g("removeHostname",B)},resolve:function y(B,z){return g("resolve",B,z)}}}b.__dashjs_factory_name="URLUtils";var _=t.default.getSingletonFactory(b);p.default=_},"./src/streaming/utils/VTTParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/VTTParser.js ***!
                  \******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../core/Debug */
"./src/core/Debug.js");function _(){var C,m,i,c,d,f,P=this.context;function x(D){var I=D.split(":"),T=I.length-1;return D=60*parseInt(I[T-1],10)+parseFloat(I[T]),2===T&&(D+=3600*parseInt(I[0],10)),D}function A(D){var I=D.split(c),T=I[1].split(f);return T.shift(),I[1]=T[0],T.shift(),{cuePoints:I,styles:N(T)}}function N(D){var I={};return D.forEach(function(T){if(T.split(/:/).length>1){var L=T.split(/:/)[1];L&&-1!=L.search(/%/)&&(L=parseInt(L.replace(/%/,""),10)),(T.match(/align/)||T.match(/A/))&&(I.align=L),(T.match(/line/)||T.match(/L/))&&(I.line=L),(T.match(/position/)||T.match(/P/))&&(I.position=L),(T.match(/size/)||T.match(/S/))&&(I.size=L)}}),I}function O(D,I){for(var B,T=I,L="",y="";""!==D[T]&&T<D.length;)T++;if((B=T-I)>1)for(var z=0;z<B;z++){if((y=D[I+z]).match(c)){L="";break}L+=y,z!==B-1&&(L+="\n")}else(y=D[I]).match(c)||(L=y);return L}return C={parse:function S(D){var T,L,I=[];if(!D)return I;T=(D=D.split(i)).length,L=-1;for(var y=0;y<T;y++){var B=D[y];if(B.length>0&&"WEBVTT"!==B&&B.match(c)){var z=A(B),ne=z.cuePoints,ae=z.styles,Fe=O(D,y+1),Y=x(ne[0].replace(d,"")),le=x(ne[1].replace(d,""));!isNaN(Y)&&!isNaN(le)&&Y>=L&&le>Y?""!==Fe?(L=Y,I.push({start:Y,end:le,data:Fe,styles:ae})):m.error("Skipping cue due to empty/malformed cue text"):m.error("Skipping cue due to incorrect cue timing")}}return I}},function g(){m=Object(v.default)(P).getInstance().getLogger(C),i=/(?:\r\n|\r|\n)/gm,c=/-->/,d=/(^[\s]+|[\s]+$)/g,f=/\s\b/g}(),C}_.__dashjs_factory_name="VTTParser",p.default=t.default.getSingletonFactory(_)},"./src/streaming/utils/VttCustomRenderingParser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/utils/VttCustomRenderingParser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(){var b,_;return b={parse:function C(m){var i=[];return _.oncue=function(c){c.start=c.startTime,c.end=c.endTime,c.data=c.text,c.styles={align:c.align,line:c.line,position:c.position,size:c.size},i.push(c)},_.parse(m),i}},function P(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(_=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),b}v.__dashjs_factory_name="VttCustomRenderingParser",p.default=t.default.getSingletonFactory(v)},"./src/streaming/utils/baseUrlResolution/BasicSelector.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/BasicSelector.js ***!
                  \****************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(b){var P=(b=b||{}).blacklistController;return{select:function C(m){var c,i=0;return m&&m.some(function(d,f){return i=f,!P.contains(d.serviceLocation)})&&(c=m[i]),c}}}v.__dashjs_factory_name="BasicSelector",p.default=t.default.getClassFactory(v)},"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=e(
/*! ../../../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js");function b(){var P,C,m,_=this.context;function f(){for(var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],x=0,A=NaN,N=function(){var I=g[x],T=S.findIndex(function(L){return L.serviceLocation&&L.serviceLocation===I});if(-1!==T&&!m.contains(S[T].serviceLocation))return A=T,"break";x+=1};x<g.length&&"break"!==N(););return A}return P={selectBaseUrlIndex:function d(g){var S=NaN;if(isNaN(g.selectedIdx)){var x=C.getSteeringDataFromManifest();x&&x.defaultServiceLocation&&(S=f([x.defaultServiceLocation],g.baseUrls))}var A=C.getCurrentSteeringResponseData();return g.baseUrls&&g.baseUrls.length&&A&&A.serviceLocationPriority&&A.serviceLocationPriority.length&&(S=f(A.serviceLocationPriority,g.baseUrls)),S},setConfig:function c(g){g.blacklistController&&(m=g.blacklistController),g.contentSteeringController&&(C=g.contentSteeringController)}},function i(){C=Object(v.default)(_).getInstance()}(),P}b.__dashjs_factory_name="ContentSteeringSelector",p.default=t.default.getClassFactory(b)},"./src/streaming/utils/baseUrlResolution/DVBSelector.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/DVBSelector.js ***!
                  \**************************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function v(b){var P=(b=b||{}).blacklistController;return{select:function i(c){return c&&function m(c){var A,N,g=0,S=[],x=0;if((N=c.sort(function(D,I){var T=D.dvb_priority-I.dvb_priority;return isNaN(T)?0:T}).filter(function(D,I,T){return!I||T[0].dvb_priority&&D.dvb_priority&&T[0].dvb_priority===D.dvb_priority})).length)return N.length>1&&(N.forEach(function(O){S.push(g+=O.dvb_weight)}),A=Math.floor(Math.random()*(g-1)),S.every(function(O,D){return x=D,!(A<O)})),N[x]}(function C(c){var d=[];return c.filter(function(x){return!P.contains(x.serviceLocation)||(x.dvb_priority&&d.push(x.dvb_priority),!1)}).filter(function(x){return!(d.length&&x.dvb_priority&&-1!==d.indexOf(x.dvb_priority))})}(c))}}}v.__dashjs_factory_name="DVBSelector",p.default=t.default.getClassFactory(v)},"./src/streaming/vo/BitrateInfo.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/BitrateInfo.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN})},"./src/streaming/vo/DashJSError.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/DashJSError.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(c,d,f){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.code=c||null,this.message=d||null,this.data=f||null})},"./src/streaming/vo/DataChunk.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/DataChunk.js ***!
                  \***************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null})},"./src/streaming/vo/FragmentRequest.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/FragmentRequest.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function _(c,d){for(var f=0;f<d.length;f++){var g=d[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,C(g.key),g)}}function C(c){var d=function m(c,d){if("object"!==v(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var g=f.call(c,d||"default");if("object"!==v(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===v(d)?d:String(d)}var i=function(){function c(d){(function b(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.action=c.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=d||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}return function P(c,d,f){return d&&_(c.prototype,d),f&&_(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"isInitializationRequest",value:function(){return this.type&&this.type===t.HTTPRequest.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(f){this.type=f&&f.init?t.HTTPRequest.INIT_SEGMENT_TYPE:t.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=f&&f.url?f.url:null,this.range=f&&f.range?f.range.start+"-"+f.range.end:null,this.mediaType=f&&f.mediaType?f.mediaType:null}}]),c}();i.ACTION_DOWNLOAD="download",i.ACTION_COMPLETE="complete",p.default=i},"./src/streaming/vo/HeadRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/HeadRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function v(N){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(N)}function b(N,O){for(var D=0;D<O.length;D++){var I=O[D];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(N,P(I.key),I)}}function P(N){var O=function C(N,O){if("object"!==v(N)||null===N)return N;var D=N[Symbol.toPrimitive];if(void 0!==D){var I=D.call(N,O||"default");if("object"!==v(I))return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(N)}(N,"string");return"symbol"===v(O)?O:String(O)}function i(N,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(O&&O.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),O&&c(N,O)}function c(N,O){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,T){return I.__proto__=T,I})(N,O)}function d(N){var O=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,I=x(N);if(O){var L=x(this).constructor;T=Reflect.construct(I,arguments,L)}else T=I.apply(this,arguments);return function f(N,O){if(O&&("object"===v(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return function g(N){if(void 0===N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}(N)}(this,T)}}function x(N){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)})(N)}p.default=function(N){i(D,N);var O=d(D);function D(I){var T;return function m(N,O){if(!(N instanceof O))throw new TypeError("Cannot call a class as a function")}(this,D),(T=O.call(this,I)).checkForExistenceOnly=!0,T}return function _(N,O,D){return O&&b(N.prototype,O),D&&b(N,D),Object.defineProperty(N,"prototype",{writable:!1}),N}(D)}(t.default)},"./src/streaming/vo/IsoBox.js":
/*!************************************!*\
                  !*** ./src/streaming/vo/IsoBox.js ***!
                  \************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function b(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,P(f.key),f)}}function P(i){var c=function C(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=function(){function i(c){if(function v(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")}(this,i),this.offset=c._offset,this.type=c.type,this.size=c.size,this.boxes=[],c.boxes)for(var d=0;d<c.boxes.length;d++)this.boxes.push(new i(c.boxes[d]));switch(this.isComplete=!0,c.type){case"sidx":if(this.timescale=c.timescale,this.earliest_presentation_time=c.earliest_presentation_time,this.first_offset=c.first_offset,this.references=c.references,c.references){this.references=[];for(var f=0;f<c.references.length;f++)this.references.push({reference_type:c.references[f].reference_type,referenced_size:c.references[f].referenced_size,subsegment_duration:c.references[f].subsegment_duration})}break;case"emsg":this.id=c.id,this.version=1===c.version?1:0,this.value=c.value,this.timescale=c.timescale,this.scheme_id_uri=c.scheme_id_uri,this.presentation_time_delta=1===c.version?c.presentation_time:c.presentation_time_delta,this.event_duration=c.event_duration,this.message_data=c.message_data;break;case"mdhd":this.timescale=c.timescale;break;case"mfhd":this.sequence_number=c.sequence_number;break;case"subs":this.entry_count=c.entry_count,this.entries=c.entries;break;case"tfhd":this.base_data_offset=c.base_data_offset,this.sample_description_index=c.sample_description_index,this.default_sample_duration=c.default_sample_duration,this.default_sample_size=c.default_sample_size,this.default_sample_flags=c.default_sample_flags,this.flags=c.flags;break;case"tfdt":this.version=c.version,this.baseMediaDecodeTime=c.baseMediaDecodeTime,this.flags=c.flags;break;case"trun":if(this.sample_count=c.sample_count,this.first_sample_flags=c.first_sample_flags,this.data_offset=c.data_offset,this.flags=c.flags,this.samples=c.samples,c.samples){this.samples=[];for(var S=0,x=c.samples.length;S<x;S++)this.samples.push({sample_size:c.samples[S].sample_size,sample_duration:c.samples[S].sample_duration,sample_composition_time_offset:c.samples[S].sample_composition_time_offset})}}}return function _(i,c,d){return c&&b(i.prototype,c),d&&b(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"getChildBox",value:function(d){for(var f=0;f<this.boxes.length;f++)if(this.boxes[f].type===d)return this.boxes[f]}},{key:"getChildBoxes",value:function(d){for(var f=[],g=0;g<this.boxes.length;g++)this.boxes[g].type===d&&f.push(this.boxes[g]);return f}}]),i}()},"./src/streaming/vo/IsoBoxSearchInfo.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/IsoBoxSearchInfo.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(c,d,f){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.lastCompletedOffset=c,this.found=d,this.size=f})},"./src/streaming/vo/MetricsList.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/MetricsList.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]})},"./src/streaming/vo/TextRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/TextRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),v=e(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function b(O){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(O)}function _(O,D){for(var I=0;I<D.length;I++){var T=D[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,C(T.key),T)}}function C(O){var D=function m(O,D){if("object"!==b(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var T=I.call(O,D||"default");if("object"!==b(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(O)}(O,"string");return"symbol"===b(D)?D:String(D)}function c(O,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),D&&d(O,D)}function d(O,D){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,L){return T.__proto__=L,T})(O,D)}function f(O){var D=function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,T=A(O);if(D){var y=A(this).constructor;L=Reflect.construct(T,arguments,y)}else L=T.apply(this,arguments);return function g(O,D){if(D&&("object"===b(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function S(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function A(O){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}p.default=function(O){c(I,O);var D=f(I);function I(T,L){var y;return function i(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I),(y=D.call(this)).url=T||null,y.type=L||null,y.mediaType=t.default.STREAM,y.responseType="",y}return function P(O,D,I){return D&&_(O.prototype,D),I&&_(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(v.default)},"./src/streaming/vo/TextTrackInfo.js":
/*!*******************************************!*\
                  !*** ./src/streaming/vo/TextTrackInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ./../../dash/vo/MediaInfo */
"./src/dash/vo/MediaInfo.js");function v(N){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(N)}function b(N,O){for(var D=0;D<O.length;D++){var I=O[D];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(N,P(I.key),I)}}function P(N){var O=function C(N,O){if("object"!==v(N)||null===N)return N;var D=N[Symbol.toPrimitive];if(void 0!==D){var I=D.call(N,O||"default");if("object"!==v(I))return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(N)}(N,"string");return"symbol"===v(O)?O:String(O)}function i(N,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(O&&O.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),O&&c(N,O)}function c(N,O){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,T){return I.__proto__=T,I})(N,O)}function d(N){var O=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,I=x(N);if(O){var L=x(this).constructor;T=Reflect.construct(I,arguments,L)}else T=I.apply(this,arguments);return function f(N,O){if(O&&("object"===v(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return function g(N){if(void 0===N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}(N)}(this,T)}}function x(N){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)})(N)}p.default=function(N){i(D,N);var O=d(D);function D(){var I;return function m(N,O){if(!(N instanceof O))throw new TypeError("Cannot call a class as a function")}(this,D),(I=O.call(this)).captionData=null,I.label=null,I.defaultTrack=!1,I.kind=null,I.isFragmented=!1,I.isEmbedded=!1,I.isTTML=null,I}return function _(N,O,D){return O&&b(N.prototype,O),D&&b(N,D),Object.defineProperty(N,"prototype",{writable:!1}),N}(D)}(t.default)},"./src/streaming/vo/Thumbnail.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/Thumbnail.js ***!
                  \***************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null})},"./src/streaming/vo/ThumbnailTrackInfo.js":
/*!************************************************!*\
                  !*** ./src/streaming/vo/ThumbnailTrackInfo.js ***!
                  \************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""})},"./src/streaming/vo/URIFragmentData.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/URIFragmentData.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null})},"./src/streaming/vo/metrics/BufferLevel.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferLevel.js ***!
                  \*************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.t=null,this.level=null})},"./src/streaming/vo/metrics/BufferState.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferState.js ***!
                  \*************************************************/
/*! exports provided: default */function(et,p,e){"use strict";e.r(p);var t=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function b(c,d){for(var f=0;f<d.length;f++){var g=d[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,P(g.key),g)}}function _(c,d,f){return d&&b(c.prototype,d),f&&b(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function P(c){var d=function C(c,d){if("object"!==v(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var g=f.call(c,d||"default");if("object"!==v(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===v(d)?d:String(d)}p.default=_(function c(){(function m(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this.target=null,this.state=t.default.BUFFER_EMPTY})},"./src/streaming/vo/metrics/DVRInfo.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/metrics/DVRInfo.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.time=null,this.range=null,this.manifestInfo=null})},"./src/streaming/vo/metrics/DroppedFrames.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/DroppedFrames.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.time=null,this.droppedFrames=null})},"./src/streaming/vo/metrics/HTTPRequest.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/HTTPRequest.js ***!
                  \*************************************************/
/*! exports provided: HTTPRequest, HTTPRequestTrace */function(et,p,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function v(c,d){for(var f=0;f<d.length;f++){var g=d[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,_(g.key),g)}}function b(c,d,f){return d&&v(c.prototype,d),f&&v(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function _(c){var d=function P(c,d){if("object"!==t(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var g=f.call(c,d||"default");if("object"!==t(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}function C(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}e.r(p),e.d(p,"HTTPRequest",function(){return m}),e.d(p,"HTTPRequestTrace",function(){return i});var m=b(function c(){C(this,c),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null}),i=b(function c(){C(this,c),this.s=null,this.d=null,this.b=[]});m.GET="GET",m.HEAD="HEAD",m.MPD_TYPE="MPD",m.XLINK_EXPANSION_TYPE="XLinkExpansion",m.INIT_SEGMENT_TYPE="InitializationSegment",m.INDEX_SEGMENT_TYPE="IndexSegment",m.MEDIA_SEGMENT_TYPE="MediaSegment",m.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",m.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",m.DVB_REPORTING_TYPE="DVBReporting",m.LICENSE="license",m.CONTENT_STEERING_TYPE="ContentSteering",m.OTHER_TYPE="other"},"./src/streaming/vo/metrics/ManifestUpdate.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/ManifestUpdate.js ***!
                  \****************************************************/
/*! exports provided: ManifestUpdate, ManifestUpdateStreamInfo, ManifestUpdateRepresentationInfo */function(et,p,e){"use strict";function t(d){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function v(d,f){for(var g=0;g<f.length;g++){var S=f[g];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(d,_(S.key),S)}}function b(d,f,g){return f&&v(d.prototype,f),g&&v(d,g),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var f=function P(d,f){if("object"!==t(d)||null===d)return d;var g=d[Symbol.toPrimitive];if(void 0!==g){var S=g.call(d,f||"default");if("object"!==t(S))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(d)}(d,"string");return"symbol"===t(f)?f:String(f)}function C(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}e.r(p),e.d(p,"ManifestUpdate",function(){return m}),e.d(p,"ManifestUpdateStreamInfo",function(){return i}),e.d(p,"ManifestUpdateRepresentationInfo",function(){return c});var m=b(function d(){C(this,d),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]}),i=b(function d(){C(this,d),this.id=null,this.index=null,this.start=null,this.duration=null}),c=b(function d(){C(this,d),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null})},"./src/streaming/vo/metrics/PlayList.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/metrics/PlayList.js ***!
                  \**********************************************/
/*! exports provided: PlayList, PlayListTrace */function(et,p,e){"use strict";function t(c){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function v(c,d){for(var f=0;f<d.length;f++){var g=d[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,_(g.key),g)}}function b(c,d,f){return d&&v(c.prototype,d),f&&v(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c}function _(c){var d=function P(c,d){if("object"!==t(c)||null===c)return c;var f=c[Symbol.toPrimitive];if(void 0!==f){var g=f.call(c,d||"default");if("object"!==t(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(c)}(c,"string");return"symbol"===t(d)?d:String(d)}function C(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}e.r(p),e.d(p,"PlayList",function(){return m}),e.d(p,"PlayListTrace",function(){return i});var m=b(function c(){C(this,c),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]});m.INITIAL_PLAYOUT_START_REASON="initial_playout",m.SEEK_START_REASON="seek",m.RESUME_FROM_PAUSE_START_REASON="resume",m.METRICS_COLLECTION_START_REASON="metrics_collection_start";var i=b(function c(){C(this,c),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null});i.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",i.REBUFFERING_REASON="rebuffering",i.USER_REQUEST_STOP_REASON="user_request",i.END_OF_PERIOD_STOP_REASON="end_of_period",i.END_OF_CONTENT_STOP_REASON="end_of_content",i.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",i.FAILURE_STOP_REASON="failure"},"./src/streaming/vo/metrics/RepresentationSwitch.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/vo/metrics/RepresentationSwitch.js ***!
                  \**********************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.t=null,this.mt=null,this.to=null,this.lto=null})},"./src/streaming/vo/metrics/RequestsQueue.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/RequestsQueue.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.loadingRequests=[],this.executedRequests=[]})},"./src/streaming/vo/metrics/SchedulingInfo.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/SchedulingInfo.js ***!
                  \****************************************************/
/*! exports provided: default */function(et,p,e){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function v(i,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,_(f.key),f)}}function b(i,c,d){return c&&v(i.prototype,c),d&&v(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var c=function P(i,c){if("object"!==t(i)||null===i)return i;var d=i[Symbol.toPrimitive];if(void 0!==d){var f=d.call(i,c||"default");if("object"!==t(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(i)}(i,"string");return"symbol"===t(c)?c:String(c)}e.r(p),p.default=b(function i(){(function C(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null})},0:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(et,p){},1:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(et,p){}}).default},4440:(Wn,et,p)=>{var e;!function(){"use strict";var t="object"==typeof window?window:{},v=!t.HI_BASE64_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;v&&(t=global);var g,S,b=!t.HI_BASE64_NO_COMMON_JS&&Wn.exports,_=p.amdO,P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),C={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63,"-":62,_:63},i=function(D){var I,T,L,y,B=[],z=0,ne=D.length;"="===D.charAt(ne-2)?ne-=2:"="===D.charAt(ne-1)&&(ne-=1);for(var ae=0,Fe=ne>>2<<2;ae<Fe;)I=C[D.charAt(ae++)],T=C[D.charAt(ae++)],L=C[D.charAt(ae++)],y=C[D.charAt(ae++)],B[z++]=255&(I<<2|T>>>4),B[z++]=255&(T<<4|L>>>2),B[z++]=255&(L<<6|y);var Y=ne-Fe;return 2===Y?(I=C[D.charAt(ae++)],T=C[D.charAt(ae++)],B[z++]=255&(I<<2|T>>>4)):3===Y&&(I=C[D.charAt(ae++)],T=C[D.charAt(ae++)],L=C[D.charAt(ae++)],B[z++]=255&(I<<2|T>>>4),B[z++]=255&(T<<4|L>>>2)),B},c=function(D){for(var I,T,L,y="",B=D.length,z=0,ne=3*parseInt(B/3);z<ne;)I=D[z++],T=D[z++],L=D[z++],y+=P[I>>>2]+P[63&(I<<4|T>>>4)]+P[63&(T<<2|L>>>6)]+P[63&L];var ae=B-ne;return 1===ae?y+=P[(I=D[z])>>>2]+P[I<<4&63]+"==":2===ae&&(I=D[z++],y+=P[I>>>2]+P[63&(I<<4|(T=D[z])>>>4)]+P[T<<2&63]+"="),y},d=t.btoa,f=t.atob;if(v){var x=p(9007).lW;d=function(D){return new x(D,"ascii").toString("base64")},c=g=function(D){return new x(D).toString("base64")},f=function(D){return new x(D,"base64").toString("ascii")},S=function(D){return new x(D,"base64").toString()}}else d?(g=function(D){for(var I="",T=0;T<D.length;T++){var L=D.charCodeAt(T);L<128?I+=String.fromCharCode(L):L<2048?I+=String.fromCharCode(192|L>>6)+String.fromCharCode(128|63&L):L<55296||L>=57344?I+=String.fromCharCode(224|L>>12)+String.fromCharCode(128|L>>6&63)+String.fromCharCode(128|63&L):(L=65536+((1023&L)<<10|1023&D.charCodeAt(++T)),I+=String.fromCharCode(240|L>>18)+String.fromCharCode(128|L>>12&63)+String.fromCharCode(128|L>>6&63)+String.fromCharCode(128|63&L))}return d(I)},S=function(D){var I=f(D.trim("=").replace(/-/g,"+").replace(/_/g,"/"));if(!/[^\x00-\x7F]/.test(I))return I;for(var z,ne,T="",L=0,y=I.length,B=0;L<y;)if((z=I.charCodeAt(L++))<=127)T+=String.fromCharCode(z);else{if(z>191&&z<=223)ne=31&z,B=1;else if(z<=239)ne=15&z,B=2;else{if(!(z<=247))throw"not a UTF-8 string";ne=7&z,B=3}for(var ae=0;ae<B;++ae){if((z=I.charCodeAt(L++))<128||z>191)throw"not a UTF-8 string";ne<<=6,ne+=63&z}if(ne>=55296&&ne<=57343||ne>1114111)throw"not a UTF-8 string";ne<=65535?T+=String.fromCharCode(ne):(ne-=65536,T+=String.fromCharCode(55296+(ne>>10)),T+=String.fromCharCode(56320+(1023&ne)))}return T}):(d=function(D){for(var I,T,L,y="",B=D.length,z=0,ne=3*parseInt(B/3);z<ne;)I=D.charCodeAt(z++),T=D.charCodeAt(z++),L=D.charCodeAt(z++),y+=P[I>>>2]+P[63&(I<<4|T>>>4)]+P[63&(T<<2|L>>>6)]+P[63&L];var ae=B-ne;return 1===ae?(I=D.charCodeAt(z),y+=P[I>>>2]+P[I<<4&63]+"=="):2===ae&&(I=D.charCodeAt(z++),T=D.charCodeAt(z),y+=P[I>>>2]+P[63&(I<<4|T>>>4)]+P[T<<2&63]+"="),y},g=function(D){for(var I,T,L,y="",B=function(D){for(var I=[],T=0;T<D.length;T++){var L=D.charCodeAt(T);L<128?I[I.length]=L:L<2048?(I[I.length]=192|L>>6,I[I.length]=128|63&L):L<55296||L>=57344?(I[I.length]=224|L>>12,I[I.length]=128|L>>6&63,I[I.length]=128|63&L):(L=65536+((1023&L)<<10|1023&D.charCodeAt(++T)),I[I.length]=240|L>>18,I[I.length]=128|L>>12&63,I[I.length]=128|L>>6&63,I[I.length]=128|63&L)}return I}(D),z=B.length,ne=0,ae=3*parseInt(z/3);ne<ae;)I=B[ne++],T=B[ne++],L=B[ne++],y+=P[I>>>2]+P[63&(I<<4|T>>>4)]+P[63&(T<<2|L>>>6)]+P[63&L];var Fe=z-ae;return 1===Fe?y+=P[(I=B[ne])>>>2]+P[I<<4&63]+"==":2===Fe&&(I=B[ne++],y+=P[I>>>2]+P[63&(I<<4|(T=B[ne])>>>4)]+P[T<<2&63]+"="),y},f=function(D){var I,T,L,y,B="",z=D.length;"="===D.charAt(z-2)?z-=2:"="===D.charAt(z-1)&&(z-=1);for(var ne=0,ae=z>>2<<2;ne<ae;)I=C[D.charAt(ne++)],T=C[D.charAt(ne++)],L=C[D.charAt(ne++)],y=C[D.charAt(ne++)],B+=String.fromCharCode(255&(I<<2|T>>>4))+String.fromCharCode(255&(T<<4|L>>>2))+String.fromCharCode(255&(L<<6|y));var Fe=z-ae;return 2===Fe?(I=C[D.charAt(ne++)],T=C[D.charAt(ne++)],B+=String.fromCharCode(255&(I<<2|T>>>4))):3===Fe&&(I=C[D.charAt(ne++)],T=C[D.charAt(ne++)],L=C[D.charAt(ne++)],B+=String.fromCharCode(255&(I<<2|T>>>4))+String.fromCharCode(255&(T<<4|L>>>2))),B},S=function(D){for(var z,ne,I="",T=i(D),L=T.length,y=0,B=0;y<L;)if((z=T[y++])<=127)I+=String.fromCharCode(z);else{if(z>191&&z<=223)ne=31&z,B=1;else if(z<=239)ne=15&z,B=2;else{if(!(z<=247))throw"not a UTF-8 string";ne=7&z,B=3}for(var ae=0;ae<B;++ae){if((z=T[y++])<128||z>191)throw"not a UTF-8 string";ne<<=6,ne+=63&z}if(ne>=55296&&ne<=57343||ne>1114111)throw"not a UTF-8 string";ne<=65535?I+=String.fromCharCode(ne):(ne-=65536,I+=String.fromCharCode(55296+(ne>>10)),I+=String.fromCharCode(56320+(1023&ne)))}return I});var N=function(D,I){return I?f(D):S(D)},O={encode:function(D,I){var T="string"!=typeof D;return T&&D.constructor===t.ArrayBuffer&&(D=new Uint8Array(D)),T?c(D):!I&&/[^\x00-\x7F]/.test(D)?g(D):d(D)},decode:N,atob:f,btoa:d};N.bytes=i,N.string=N,b?Wn.exports=O:(t.base64=O,_&&void 0!==(e=function(){return O}.call(O,p,O,Wn))&&(Wn.exports=e))}()},2601:(Wn,et)=>{et.read=function(p,e,t,v,b){var _,P,C=8*b-v-1,m=(1<<C)-1,i=m>>1,c=-7,d=t?b-1:0,f=t?-1:1,g=p[e+d];for(d+=f,_=g&(1<<-c)-1,g>>=-c,c+=C;c>0;_=256*_+p[e+d],d+=f,c-=8);for(P=_&(1<<-c)-1,_>>=-c,c+=v;c>0;P=256*P+p[e+d],d+=f,c-=8);if(0===_)_=1-i;else{if(_===m)return P?NaN:1/0*(g?-1:1);P+=Math.pow(2,v),_-=i}return(g?-1:1)*P*Math.pow(2,_-v)},et.write=function(p,e,t,v,b,_){var P,C,m,i=8*_-b-1,c=(1<<i)-1,d=c>>1,f=23===b?Math.pow(2,-24)-Math.pow(2,-77):0,g=v?0:_-1,S=v?1:-1,x=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(C=isNaN(e)?1:0,P=c):(P=Math.floor(Math.log(e)/Math.LN2),e*(m=Math.pow(2,-P))<1&&(P--,m*=2),(e+=P+d>=1?f/m:f*Math.pow(2,1-d))*m>=2&&(P++,m/=2),P+d>=c?(C=0,P=c):P+d>=1?(C=(e*m-1)*Math.pow(2,b),P+=d):(C=e*Math.pow(2,d-1)*Math.pow(2,b),P=0));b>=8;p[t+g]=255&C,g+=S,C/=256,b-=8);for(P=P<<b|C,i+=b;i>0;p[t+g]=255&P,g+=S,P/=256,i-=8);p[t+g-S]|=128*x}},5619:(Wn,et,p)=>{"use strict";p.d(et,{X:()=>t});var e=p(8645);class t extends e.x{constructor(b){super(),this._value=b}get value(){return this.getValue()}_subscribe(b){const _=super._subscribe(b);return!_.closed&&b.next(this._value),_}getValue(){const{hasError:b,thrownError:_,_value:P}=this;if(b)throw _;return this._throwIfClosed(),P}next(b){super.next(this._value=b)}}},5592:(Wn,et,p)=>{"use strict";p.d(et,{y:()=>m});var e=p(305),t=p(7394),v=p(4850),b=p(8407),_=p(2653),P=p(4674),C=p(1441);let m=(()=>{class f{constructor(S){S&&(this._subscribe=S)}lift(S){const x=new f;return x.source=this,x.operator=S,x}subscribe(S,x,A){const N=function d(f){return f&&f instanceof e.Lv||function c(f){return f&&(0,P.m)(f.next)&&(0,P.m)(f.error)&&(0,P.m)(f.complete)}(f)&&(0,t.Nn)(f)}(S)?S:new e.Hp(S,x,A);return(0,C.x)(()=>{const{operator:O,source:D}=this;N.add(O?O.call(N,D):D?this._subscribe(N):this._trySubscribe(N))}),N}_trySubscribe(S){try{return this._subscribe(S)}catch(x){S.error(x)}}forEach(S,x){return new(x=i(x))((A,N)=>{const O=new e.Hp({next:D=>{try{S(D)}catch(I){N(I),O.unsubscribe()}},error:N,complete:A});this.subscribe(O)})}_subscribe(S){var x;return null===(x=this.source)||void 0===x?void 0:x.subscribe(S)}[v.L](){return this}pipe(...S){return(0,b.U)(S)(this)}toPromise(S){return new(S=i(S))((x,A)=>{let N;this.subscribe(O=>N=O,O=>A(O),()=>x(N))})}}return f.create=g=>new f(g),f})();function i(f){var g;return null!==(g=f??_.config.Promise)&&void 0!==g?g:Promise}},8645:(Wn,et,p)=>{"use strict";p.d(et,{x:()=>C});var e=p(5592),t=p(7394);const b=(0,p(2306).d)(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _=p(9039),P=p(1441);let C=(()=>{class i extends e.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(d){const f=new m(this,this);return f.operator=d,f}_throwIfClosed(){if(this.closed)throw new b}next(d){(0,P.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const f of this.currentObservers)f.next(d)}})}error(d){(0,P.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=d;const{observers:f}=this;for(;f.length;)f.shift().error(d)}})}complete(){(0,P.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:d}=this;for(;d.length;)d.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var d;return(null===(d=this.observers)||void 0===d?void 0:d.length)>0}_trySubscribe(d){return this._throwIfClosed(),super._trySubscribe(d)}_subscribe(d){return this._throwIfClosed(),this._checkFinalizedStatuses(d),this._innerSubscribe(d)}_innerSubscribe(d){const{hasError:f,isStopped:g,observers:S}=this;return f||g?t.Lc:(this.currentObservers=null,S.push(d),new t.w0(()=>{this.currentObservers=null,(0,_.P)(S,d)}))}_checkFinalizedStatuses(d){const{hasError:f,thrownError:g,isStopped:S}=this;f?d.error(g):S&&d.complete()}asObservable(){const d=new e.y;return d.source=this,d}}return i.create=(c,d)=>new m(c,d),i})();class m extends C{constructor(c,d){super(),this.destination=c,this.source=d}next(c){var d,f;null===(f=null===(d=this.destination)||void 0===d?void 0:d.next)||void 0===f||f.call(d,c)}error(c){var d,f;null===(f=null===(d=this.destination)||void 0===d?void 0:d.error)||void 0===f||f.call(d,c)}complete(){var c,d;null===(d=null===(c=this.destination)||void 0===c?void 0:c.complete)||void 0===d||d.call(c)}_subscribe(c){var d,f;return null!==(f=null===(d=this.source)||void 0===d?void 0:d.subscribe(c))&&void 0!==f?f:t.Lc}}},305:(Wn,et,p)=>{"use strict";p.d(et,{Hp:()=>A,Lv:()=>f});var e=p(4674),t=p(7394),v=p(2653),b=p(3894),_=p(2420);const P=i("C",void 0,void 0);function i(T,L,y){return{kind:T,value:L,error:y}}var c=p(7599),d=p(1441);class f extends t.w0{constructor(L){super(),this.isStopped=!1,L?(this.destination=L,(0,t.Nn)(L)&&L.add(this)):this.destination=I}static create(L,y,B){return new A(L,y,B)}next(L){this.isStopped?D(function m(T){return i("N",T,void 0)}(L),this):this._next(L)}error(L){this.isStopped?D(function C(T){return i("E",void 0,T)}(L),this):(this.isStopped=!0,this._error(L))}complete(){this.isStopped?D(P,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(L){this.destination.next(L)}_error(L){try{this.destination.error(L)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const g=Function.prototype.bind;function S(T,L){return g.call(T,L)}class x{constructor(L){this.partialObserver=L}next(L){const{partialObserver:y}=this;if(y.next)try{y.next(L)}catch(B){N(B)}}error(L){const{partialObserver:y}=this;if(y.error)try{y.error(L)}catch(B){N(B)}else N(L)}complete(){const{partialObserver:L}=this;if(L.complete)try{L.complete()}catch(y){N(y)}}}class A extends f{constructor(L,y,B){let z;if(super(),(0,e.m)(L)||!L)z={next:L??void 0,error:y??void 0,complete:B??void 0};else{let ne;this&&v.config.useDeprecatedNextContext?(ne=Object.create(L),ne.unsubscribe=()=>this.unsubscribe(),z={next:L.next&&S(L.next,ne),error:L.error&&S(L.error,ne),complete:L.complete&&S(L.complete,ne)}):z=L}this.destination=new x(z)}}function N(T){v.config.useDeprecatedSynchronousErrorHandling?(0,d.O)(T):(0,b.h)(T)}function D(T,L){const{onStoppedNotification:y}=v.config;y&&c.z.setTimeout(()=>y(T,L))}const I={closed:!0,next:_.Z,error:function O(T){throw T},complete:_.Z}},7394:(Wn,et,p)=>{"use strict";p.d(et,{Lc:()=>P,w0:()=>_,Nn:()=>C});var e=p(4674);const v=(0,p(2306).d)(i=>function(d){i(this),this.message=d?`${d.length} errors occurred during unsubscription:\n${d.map((f,g)=>`${g+1}) ${f.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=d});var b=p(9039);class _{constructor(c){this.initialTeardown=c,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let c;if(!this.closed){this.closed=!0;const{_parentage:d}=this;if(d)if(this._parentage=null,Array.isArray(d))for(const S of d)S.remove(this);else d.remove(this);const{initialTeardown:f}=this;if((0,e.m)(f))try{f()}catch(S){c=S instanceof v?S.errors:[S]}const{_finalizers:g}=this;if(g){this._finalizers=null;for(const S of g)try{m(S)}catch(x){c=c??[],x instanceof v?c=[...c,...x.errors]:c.push(x)}}if(c)throw new v(c)}}add(c){var d;if(c&&c!==this)if(this.closed)m(c);else{if(c instanceof _){if(c.closed||c._hasParent(this))return;c._addParent(this)}(this._finalizers=null!==(d=this._finalizers)&&void 0!==d?d:[]).push(c)}}_hasParent(c){const{_parentage:d}=this;return d===c||Array.isArray(d)&&d.includes(c)}_addParent(c){const{_parentage:d}=this;this._parentage=Array.isArray(d)?(d.push(c),d):d?[d,c]:c}_removeParent(c){const{_parentage:d}=this;d===c?this._parentage=null:Array.isArray(d)&&(0,b.P)(d,c)}remove(c){const{_finalizers:d}=this;d&&(0,b.P)(d,c),c instanceof _&&c._removeParent(this)}}_.EMPTY=(()=>{const i=new _;return i.closed=!0,i})();const P=_.EMPTY;function C(i){return i instanceof _||i&&"closed"in i&&(0,e.m)(i.remove)&&(0,e.m)(i.add)&&(0,e.m)(i.unsubscribe)}function m(i){(0,e.m)(i)?i():i.unsubscribe()}},2653:(Wn,et,p)=>{"use strict";p.d(et,{config:()=>e});const e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(Wn,et,p)=>{"use strict";p.d(et,{c:()=>P});var e=p(5592),t=p(7394),v=p(6196),b=p(8251),_=p(9360);class P extends e.y{constructor(m,i){super(),this.source=m,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,(0,_.A)(m)&&(this.lift=m.lift)}_subscribe(m){return this.getSubject().subscribe(m)}getSubject(){const m=this._subject;return(!m||m.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:m}=this;this._subject=this._connection=null,m?.unsubscribe()}connect(){let m=this._connection;if(!m){m=this._connection=new t.w0;const i=this.getSubject();m.add(this.source.subscribe((0,b.x)(i,void 0,()=>{this._teardown(),i.complete()},c=>{this._teardown(),i.error(c)},()=>this._teardown()))),m.closed&&(this._connection=null,m=t.w0.EMPTY)}return m}refCount(){return(0,v.x)()(this)}}},2572:(Wn,et,p)=>{"use strict";p.d(et,{a:()=>c});var e=p(5592),t=p(7453),v=p(2459),b=p(2737),_=p(7400),P=p(9940),C=p(2714),m=p(8251),i=p(7103);function c(...g){const S=(0,P.yG)(g),x=(0,P.jO)(g),{args:A,keys:N}=(0,t.D)(g);if(0===A.length)return(0,v.D)([],S);const O=new e.y(function d(g,S,x=b.y){return A=>{f(S,()=>{const{length:N}=g,O=new Array(N);let D=N,I=N;for(let T=0;T<N;T++)f(S,()=>{const L=(0,v.D)(g[T],S);let y=!1;L.subscribe((0,m.x)(A,B=>{O[T]=B,y||(y=!0,I--),I||A.next(x(O.slice()))},()=>{--D||A.complete()}))},A)},A)}}(A,S,N?D=>(0,C.n)(N,D):b.y));return x?O.pipe((0,_.Z)(x)):O}function f(g,S,x){g?(0,i.f)(x,g,S):S()}},5211:(Wn,et,p)=>{"use strict";p.d(et,{z:()=>_});var e=p(7537),v=p(9940),b=p(2459);function _(...P){return function t(){return(0,e.J)(1)}()((0,b.D)(P,(0,v.yG)(P)))}},4911:(Wn,et,p)=>{"use strict";p.d(et,{P:()=>v});var e=p(5592),t=p(4829);function v(b){return new e.y(_=>{(0,t.Xf)(b()).subscribe(_)})}},6232:(Wn,et,p)=>{"use strict";p.d(et,{E:()=>t});const t=new(p(5592).y)(_=>_.complete())},2459:(Wn,et,p)=>{"use strict";p.d(et,{D:()=>L});var e=p(4829),t=p(3093),v=p(5137),P=p(5592),m=p(4971),i=p(4674),c=p(7103);function f(y,B){if(!y)throw new Error("Iterable cannot be null");return new P.y(z=>{(0,c.f)(z,B,()=>{const ne=y[Symbol.asyncIterator]();(0,c.f)(z,B,()=>{ne.next().then(ae=>{ae.done?z.complete():z.next(ae.value)})},0,!0)})})}var g=p(8382),S=p(4026),x=p(4266),A=p(3664),N=p(5726),O=p(9853),D=p(541);function L(y,B){return B?function T(y,B){if(null!=y){if((0,g.c)(y))return function b(y,B){return(0,e.Xf)(y).pipe((0,v.R)(B),(0,t.Q)(B))}(y,B);if((0,x.z)(y))return function C(y,B){return new P.y(z=>{let ne=0;return B.schedule(function(){ne===y.length?z.complete():(z.next(y[ne++]),z.closed||this.schedule())})})}(y,B);if((0,S.t)(y))return function _(y,B){return(0,e.Xf)(y).pipe((0,v.R)(B),(0,t.Q)(B))}(y,B);if((0,N.D)(y))return f(y,B);if((0,A.T)(y))return function d(y,B){return new P.y(z=>{let ne;return(0,c.f)(z,B,()=>{ne=y[m.h](),(0,c.f)(z,B,()=>{let ae,Fe;try{({value:ae,done:Fe}=ne.next())}catch(Y){return void z.error(Y)}Fe?z.complete():z.next(ae)},0,!0)}),()=>(0,i.m)(ne?.return)&&ne.return()})}(y,B);if((0,D.L)(y))return function I(y,B){return f((0,D.Q)(y),B)}(y,B)}throw(0,O.z)(y)}(y,B):(0,e.Xf)(y)}},2438:(Wn,et,p)=>{"use strict";p.d(et,{R:()=>c});var e=p(4829),t=p(5592),v=p(1631),b=p(4266),_=p(4674),P=p(7400);const C=["addListener","removeListener"],m=["addEventListener","removeEventListener"],i=["on","off"];function c(x,A,N,O){if((0,_.m)(N)&&(O=N,N=void 0),O)return c(x,A,N).pipe((0,P.Z)(O));const[D,I]=function S(x){return(0,_.m)(x.addEventListener)&&(0,_.m)(x.removeEventListener)}(x)?m.map(T=>L=>x[T](A,L,N)):function f(x){return(0,_.m)(x.addListener)&&(0,_.m)(x.removeListener)}(x)?C.map(d(x,A)):function g(x){return(0,_.m)(x.on)&&(0,_.m)(x.off)}(x)?i.map(d(x,A)):[];if(!D&&(0,b.z)(x))return(0,v.z)(T=>c(T,A,N))((0,e.Xf)(x));if(!D)throw new TypeError("Invalid event target");return new t.y(T=>{const L=(...y)=>T.next(1<y.length?y:y[0]);return D(L),()=>I(L)})}function d(x,A){return N=>O=>x[N](A,O)}},4829:(Wn,et,p)=>{"use strict";p.d(et,{Xf:()=>g});var e=p(7582),t=p(4266),v=p(4026),b=p(5592),_=p(8382),P=p(5726),C=p(9853),m=p(3664),i=p(541),c=p(4674),d=p(3894),f=p(4850);function g(T){if(T instanceof b.y)return T;if(null!=T){if((0,_.c)(T))return function S(T){return new b.y(L=>{const y=T[f.L]();if((0,c.m)(y.subscribe))return y.subscribe(L);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(T);if((0,t.z)(T))return function x(T){return new b.y(L=>{for(let y=0;y<T.length&&!L.closed;y++)L.next(T[y]);L.complete()})}(T);if((0,v.t)(T))return function A(T){return new b.y(L=>{T.then(y=>{L.closed||(L.next(y),L.complete())},y=>L.error(y)).then(null,d.h)})}(T);if((0,P.D)(T))return O(T);if((0,m.T)(T))return function N(T){return new b.y(L=>{for(const y of T)if(L.next(y),L.closed)return;L.complete()})}(T);if((0,i.L)(T))return function D(T){return O((0,i.Q)(T))}(T)}throw(0,C.z)(T)}function O(T){return new b.y(L=>{(function I(T,L){var y,B,z,ne;return(0,e.mG)(this,void 0,void 0,function*(){try{for(y=(0,e.KL)(T);!(B=yield y.next()).done;)if(L.next(B.value),L.closed)return}catch(ae){z={error:ae}}finally{try{B&&!B.done&&(ne=y.return)&&(yield ne.call(y))}finally{if(z)throw z.error}}L.complete()})})(T,L).catch(y=>L.error(y))})}},3019:(Wn,et,p)=>{"use strict";p.d(et,{T:()=>P});var e=p(7537),t=p(4829),v=p(6232),b=p(9940),_=p(2459);function P(...C){const m=(0,b.yG)(C),i=(0,b._6)(C,1/0),c=C;return c.length?1===c.length?(0,t.Xf)(c[0]):(0,e.J)(i)((0,_.D)(c,m)):v.E}},2096:(Wn,et,p)=>{"use strict";p.d(et,{of:()=>v});var e=p(9940),t=p(2459);function v(...b){const _=(0,e.yG)(b);return(0,t.D)(b,_)}},8504:(Wn,et,p)=>{"use strict";p.d(et,{_:()=>v});var e=p(5592),t=p(4674);function v(b,_){const P=(0,t.m)(b)?b:()=>b,C=m=>m.error(P());return new e.y(_?m=>_.schedule(C,0,m):C)}},4825:(Wn,et,p)=>{"use strict";p.d(et,{H:()=>_});var e=p(5592),t=p(6321),v=p(671);function _(P=0,C,m=t.P){let i=-1;return null!=C&&((0,v.K)(C)?m=C:i=C),new e.y(c=>{let d=function b(P){return P instanceof Date&&!isNaN(P)}(P)?+P-m.now():P;d<0&&(d=0);let f=0;return m.schedule(function(){c.closed||(c.next(f++),0<=i?this.schedule(void 0,i):c.complete())},d)})}},8251:(Wn,et,p)=>{"use strict";p.d(et,{x:()=>t});var e=p(305);function t(b,_,P,C,m){return new v(b,_,P,C,m)}class v extends e.Lv{constructor(_,P,C,m,i,c){super(_),this.onFinalize=i,this.shouldUnsubscribe=c,this._next=P?function(d){try{P(d)}catch(f){_.error(f)}}:super._next,this._error=m?function(d){try{m(d)}catch(f){_.error(f)}finally{this.unsubscribe()}}:super._error,this._complete=C?function(){try{C()}catch(d){_.error(d)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var _;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:P}=this;super.unsubscribe(),!P&&(null===(_=this.onFinalize)||void 0===_||_.call(this))}}}},6328:(Wn,et,p)=>{"use strict";p.d(et,{b:()=>v});var e=p(1631),t=p(4674);function v(b,_){return(0,t.m)(_)?(0,e.z)(b,_,1):(0,e.z)(b,1)}},3620:(Wn,et,p)=>{"use strict";p.d(et,{b:()=>b});var e=p(6321),t=p(9360),v=p(8251);function b(_,P=e.z){return(0,t.e)((C,m)=>{let i=null,c=null,d=null;const f=()=>{if(i){i.unsubscribe(),i=null;const S=c;c=null,m.next(S)}};function g(){const S=d+_,x=P.now();if(x<S)return i=this.schedule(void 0,S-x),void m.add(i);f()}C.subscribe((0,v.x)(m,S=>{c=S,d=P.now(),i||(i=P.schedule(g,_),m.add(i))},()=>{f(),m.complete()},void 0,()=>{c=i=null}))})}},3572:(Wn,et,p)=>{"use strict";p.d(et,{d:()=>v});var e=p(9360),t=p(8251);function v(b){return(0,e.e)((_,P)=>{let C=!1;_.subscribe((0,t.x)(P,m=>{C=!0,P.next(m)},()=>{C||P.next(b),P.complete()}))})}},5177:(Wn,et,p)=>{"use strict";p.d(et,{g:()=>g});var e=p(6321),t=p(5211),v=p(8180),b=p(9360),_=p(8251),P=p(2420),m=p(975),i=p(1631),c=p(4829);function d(S,x){return x?A=>(0,t.z)(x.pipe((0,v.q)(1),function C(){return(0,b.e)((S,x)=>{S.subscribe((0,_.x)(x,P.Z))})}()),A.pipe(d(S))):(0,i.z)((A,N)=>(0,c.Xf)(S(A,N)).pipe((0,v.q)(1),(0,m.h)(A)))}var f=p(4825);function g(S,x=e.z){const A=(0,f.H)(S,x);return d(()=>A)}},3997:(Wn,et,p)=>{"use strict";p.d(et,{x:()=>b});var e=p(2737),t=p(9360),v=p(8251);function b(P,C=e.y){return P=P??_,(0,t.e)((m,i)=>{let c,d=!0;m.subscribe((0,v.x)(i,f=>{const g=C(f);(d||!P(c,g))&&(d=!1,c=g,i.next(f))}))})}function _(P,C){return P===C}},2181:(Wn,et,p)=>{"use strict";p.d(et,{h:()=>v});var e=p(9360),t=p(8251);function v(b,_){return(0,e.e)((P,C)=>{let m=0;P.subscribe((0,t.x)(C,i=>b.call(_,i,m++)&&C.next(i)))})}},4716:(Wn,et,p)=>{"use strict";p.d(et,{x:()=>t});var e=p(9360);function t(v){return(0,e.e)((b,_)=>{try{b.subscribe(_)}finally{_.add(v)}})}},1374:(Wn,et,p)=>{"use strict";p.d(et,{P:()=>C});var e=p(6973),t=p(2181),v=p(8180),b=p(3572),_=p(3026),P=p(2737);function C(m,i){const c=arguments.length>=2;return d=>d.pipe(m?(0,t.h)((f,g)=>m(f,g,d)):P.y,(0,v.q)(1),c?(0,b.d)(i):(0,_.T)(()=>new e.K))}},7398:(Wn,et,p)=>{"use strict";p.d(et,{U:()=>v});var e=p(9360),t=p(8251);function v(b,_){return(0,e.e)((P,C)=>{let m=0;P.subscribe((0,t.x)(C,i=>{C.next(b.call(_,i,m++))}))})}},975:(Wn,et,p)=>{"use strict";p.d(et,{h:()=>t});var e=p(7398);function t(v){return(0,e.U)(()=>v)}},7537:(Wn,et,p)=>{"use strict";p.d(et,{J:()=>v});var e=p(1631),t=p(2737);function v(b=1/0){return(0,e.z)(t.y,b)}},1631:(Wn,et,p)=>{"use strict";p.d(et,{z:()=>m});var e=p(7398),t=p(4829),v=p(9360),b=p(7103),_=p(8251),C=p(4674);function m(i,c,d=1/0){return(0,C.m)(c)?m((f,g)=>(0,e.U)((S,x)=>c(f,S,g,x))((0,t.Xf)(i(f,g))),d):("number"==typeof c&&(d=c),(0,v.e)((f,g)=>function P(i,c,d,f,g,S,x,A){const N=[];let O=0,D=0,I=!1;const T=()=>{I&&!N.length&&!O&&c.complete()},L=B=>O<f?y(B):N.push(B),y=B=>{S&&c.next(B),O++;let z=!1;(0,t.Xf)(d(B,D++)).subscribe((0,_.x)(c,ne=>{g?.(ne),S?L(ne):c.next(ne)},()=>{z=!0},void 0,()=>{if(z)try{for(O--;N.length&&O<f;){const ne=N.shift();x?(0,b.f)(c,x,()=>y(ne)):y(ne)}T()}catch(ne){c.error(ne)}}))};return i.subscribe((0,_.x)(c,L,()=>{I=!0,T()})),()=>{A?.()}}(f,g,i,d)))}},3093:(Wn,et,p)=>{"use strict";p.d(et,{Q:()=>b});var e=p(7103),t=p(9360),v=p(8251);function b(_,P=0){return(0,t.e)((C,m)=>{C.subscribe((0,v.x)(m,i=>(0,e.f)(m,_,()=>m.next(i),P),()=>(0,e.f)(m,_,()=>m.complete(),P),i=>(0,e.f)(m,_,()=>m.error(i),P)))})}},6196:(Wn,et,p)=>{"use strict";p.d(et,{x:()=>v});var e=p(9360),t=p(8251);function v(){return(0,e.e)((b,_)=>{let P=null;b._refCount++;const C=(0,t.x)(_,void 0,void 0,void 0,()=>{if(!b||b._refCount<=0||0<--b._refCount)return void(P=null);const m=b._connection,i=P;P=null,m&&(!i||m===i)&&m.unsubscribe(),_.unsubscribe()});b.subscribe(C),C.closed||(P=b.connect())})}},3020:(Wn,et,p)=>{"use strict";p.d(et,{B:()=>_});var e=p(4829),t=p(8645),v=p(305),b=p(9360);function _(C={}){const{connector:m=(()=>new t.x),resetOnError:i=!0,resetOnComplete:c=!0,resetOnRefCountZero:d=!0}=C;return f=>{let g,S,x,A=0,N=!1,O=!1;const D=()=>{S?.unsubscribe(),S=void 0},I=()=>{D(),g=x=void 0,N=O=!1},T=()=>{const L=g;I(),L?.unsubscribe()};return(0,b.e)((L,y)=>{A++,!O&&!N&&D();const B=x=x??m();y.add(()=>{A--,0===A&&!O&&!N&&(S=P(T,d))}),B.subscribe(y),!g&&A>0&&(g=new v.Hp({next:z=>B.next(z),error:z=>{O=!0,D(),S=P(I,i,z),B.error(z)},complete:()=>{N=!0,D(),S=P(I,c),B.complete()}}),(0,e.Xf)(L).subscribe(g))})(f)}}function P(C,m,...i){if(!0===m)return void C();if(!1===m)return;const c=new v.Hp({next:()=>{c.unsubscribe(),C()}});return(0,e.Xf)(m(...i)).subscribe(c)}},940:(Wn,et,p)=>{"use strict";p.d(et,{d:()=>_});var e=p(8645),t=p(4552);class v extends e.x{constructor(C=1/0,m=1/0,i=t.l){super(),this._bufferSize=C,this._windowTime=m,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=m===1/0,this._bufferSize=Math.max(1,C),this._windowTime=Math.max(1,m)}next(C){const{isStopped:m,_buffer:i,_infiniteTimeWindow:c,_timestampProvider:d,_windowTime:f}=this;m||(i.push(C),!c&&i.push(d.now()+f)),this._trimBuffer(),super.next(C)}_subscribe(C){this._throwIfClosed(),this._trimBuffer();const m=this._innerSubscribe(C),{_infiniteTimeWindow:i,_buffer:c}=this,d=c.slice();for(let f=0;f<d.length&&!C.closed;f+=i?1:2)C.next(d[f]);return this._checkFinalizedStatuses(C),m}_trimBuffer(){const{_bufferSize:C,_timestampProvider:m,_buffer:i,_infiniteTimeWindow:c}=this,d=(c?1:2)*C;if(C<1/0&&d<i.length&&i.splice(0,i.length-d),!c){const f=m.now();let g=0;for(let S=1;S<i.length&&i[S]<=f;S+=2)g=S;g&&i.splice(0,g+1)}}}var b=p(3020);function _(P,C,m){let i,c=!1;return P&&"object"==typeof P?({bufferSize:i=1/0,windowTime:C=1/0,refCount:c=!1,scheduler:m}=P):i=P??1/0,(0,b.B)({connector:()=>new v(i,C,m),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}},836:(Wn,et,p)=>{"use strict";p.d(et,{T:()=>t});var e=p(2181);function t(v){return(0,e.h)((b,_)=>v<=_)}},7921:(Wn,et,p)=>{"use strict";p.d(et,{O:()=>b});var e=p(5211),t=p(9940),v=p(9360);function b(..._){const P=(0,t.yG)(_);return(0,v.e)((C,m)=>{(P?(0,e.z)(_,C,P):(0,e.z)(_,C)).subscribe(m)})}},5137:(Wn,et,p)=>{"use strict";p.d(et,{R:()=>t});var e=p(9360);function t(v,b=0){return(0,e.e)((_,P)=>{P.add(v.schedule(()=>_.subscribe(P),b))})}},4664:(Wn,et,p)=>{"use strict";p.d(et,{w:()=>b});var e=p(4829),t=p(9360),v=p(8251);function b(_,P){return(0,t.e)((C,m)=>{let i=null,c=0,d=!1;const f=()=>d&&!i&&m.complete();C.subscribe((0,v.x)(m,g=>{i?.unsubscribe();let S=0;const x=c++;(0,e.Xf)(_(g,x)).subscribe(i=(0,v.x)(m,A=>m.next(P?P(g,A,x,S++):A),()=>{i=null,f()}))},()=>{d=!0,f()}))})}},8180:(Wn,et,p)=>{"use strict";p.d(et,{q:()=>b});var e=p(6232),t=p(9360),v=p(8251);function b(_){return _<=0?()=>e.E:(0,t.e)((P,C)=>{let m=0;P.subscribe((0,v.x)(C,i=>{++m<=_&&(C.next(i),_<=m&&C.complete())}))})}},9773:(Wn,et,p)=>{"use strict";p.d(et,{R:()=>_});var e=p(9360),t=p(8251),v=p(4829),b=p(2420);function _(P){return(0,e.e)((C,m)=>{(0,v.Xf)(P).subscribe((0,t.x)(m,()=>m.complete(),b.Z)),!m.closed&&C.subscribe(m)})}},9397:(Wn,et,p)=>{"use strict";p.d(et,{b:()=>_});var e=p(4674),t=p(9360),v=p(8251),b=p(2737);function _(P,C,m){const i=(0,e.m)(P)||C||m?{next:P,error:C,complete:m}:P;return i?(0,t.e)((c,d)=>{var f;null===(f=i.subscribe)||void 0===f||f.call(i);let g=!0;c.subscribe((0,v.x)(d,S=>{var x;null===(x=i.next)||void 0===x||x.call(i,S),d.next(S)},()=>{var S;g=!1,null===(S=i.complete)||void 0===S||S.call(i),d.complete()},S=>{var x;g=!1,null===(x=i.error)||void 0===x||x.call(i,S),d.error(S)},()=>{var S,x;g&&(null===(S=i.unsubscribe)||void 0===S||S.call(i)),null===(x=i.finalize)||void 0===x||x.call(i)}))}):b.y}},3026:(Wn,et,p)=>{"use strict";p.d(et,{T:()=>b});var e=p(6973),t=p(9360),v=p(8251);function b(P=_){return(0,t.e)((C,m)=>{let i=!1;C.subscribe((0,v.x)(m,c=>{i=!0,m.next(c)},()=>i?m.complete():m.error(P())))})}function _(){return new e.K}},1954:(Wn,et,p)=>{"use strict";p.d(et,{o:()=>_});var e=p(7394);class t extends e.w0{constructor(C,m){super()}schedule(C,m=0){return this}}const v={setInterval(P,C,...m){const{delegate:i}=v;return i?.setInterval?i.setInterval(P,C,...m):setInterval(P,C,...m)},clearInterval(P){const{delegate:C}=v;return(C?.clearInterval||clearInterval)(P)},delegate:void 0};var b=p(9039);class _ extends t{constructor(C,m){super(C,m),this.scheduler=C,this.work=m,this.pending=!1}schedule(C,m=0){var i;if(this.closed)return this;this.state=C;const c=this.id,d=this.scheduler;return null!=c&&(this.id=this.recycleAsyncId(d,c,m)),this.pending=!0,this.delay=m,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(d,this.id,m),this}requestAsyncId(C,m,i=0){return v.setInterval(C.flush.bind(C,this),i)}recycleAsyncId(C,m,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return m;null!=m&&v.clearInterval(m)}execute(C,m){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(C,m);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(C,m){let c,i=!1;try{this.work(C)}catch(d){i=!0,c=d||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),c}unsubscribe(){if(!this.closed){const{id:C,scheduler:m}=this,{actions:i}=m;this.work=this.state=this.scheduler=null,this.pending=!1,(0,b.P)(i,this),null!=C&&(this.id=this.recycleAsyncId(m,C,null)),this.delay=null,super.unsubscribe()}}}},2631:(Wn,et,p)=>{"use strict";p.d(et,{v:()=>v});var e=p(4552);class t{constructor(_,P=t.now){this.schedulerActionCtor=_,this.now=P}schedule(_,P=0,C){return new this.schedulerActionCtor(this,_).schedule(C,P)}}t.now=e.l.now;class v extends t{constructor(_,P=t.now){super(_,P),this.actions=[],this._active=!1}flush(_){const{actions:P}=this;if(this._active)return void P.push(_);let C;this._active=!0;do{if(C=_.execute(_.state,_.delay))break}while(_=P.shift());if(this._active=!1,C){for(;_=P.shift();)_.unsubscribe();throw C}}}},6321:(Wn,et,p)=>{"use strict";p.d(et,{P:()=>b,z:()=>v});var e=p(1954);const v=new(p(2631).v)(e.o),b=v},4552:(Wn,et,p)=>{"use strict";p.d(et,{l:()=>e});const e={now:()=>(e.delegate||Date).now(),delegate:void 0}},7599:(Wn,et,p)=>{"use strict";p.d(et,{z:()=>e});const e={setTimeout(t,v,...b){const{delegate:_}=e;return _?.setTimeout?_.setTimeout(t,v,...b):setTimeout(t,v,...b)},clearTimeout(t){const{delegate:v}=e;return(v?.clearTimeout||clearTimeout)(t)},delegate:void 0}},4971:(Wn,et,p)=>{"use strict";p.d(et,{h:()=>t});const t=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Wn,et,p)=>{"use strict";p.d(et,{L:()=>e});const e="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Wn,et,p)=>{"use strict";p.d(et,{K:()=>t});const t=(0,p(2306).d)(v=>function(){v(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Wn,et,p)=>{"use strict";p.d(et,{_6:()=>P,jO:()=>b,yG:()=>_});var e=p(4674),t=p(671);function v(C){return C[C.length-1]}function b(C){return(0,e.m)(v(C))?C.pop():void 0}function _(C){return(0,t.K)(v(C))?C.pop():void 0}function P(C,m){return"number"==typeof v(C)?C.pop():m}},7453:(Wn,et,p)=>{"use strict";p.d(et,{D:()=>_});const{isArray:e}=Array,{getPrototypeOf:t,prototype:v,keys:b}=Object;function _(C){if(1===C.length){const m=C[0];if(e(m))return{args:m,keys:null};if(function P(C){return C&&"object"==typeof C&&t(C)===v}(m)){const i=b(m);return{args:i.map(c=>m[c]),keys:i}}}return{args:C,keys:null}}},9039:(Wn,et,p)=>{"use strict";function e(t,v){if(t){const b=t.indexOf(v);0<=b&&t.splice(b,1)}}p.d(et,{P:()=>e})},2306:(Wn,et,p)=>{"use strict";function e(t){const b=t(_=>{Error.call(_),_.stack=(new Error).stack});return b.prototype=Object.create(Error.prototype),b.prototype.constructor=b,b}p.d(et,{d:()=>e})},2714:(Wn,et,p)=>{"use strict";function e(t,v){return t.reduce((b,_,P)=>(b[_]=v[P],b),{})}p.d(et,{n:()=>e})},1441:(Wn,et,p)=>{"use strict";p.d(et,{O:()=>b,x:()=>v});var e=p(2653);let t=null;function v(_){if(e.config.useDeprecatedSynchronousErrorHandling){const P=!t;if(P&&(t={errorThrown:!1,error:null}),_(),P){const{errorThrown:C,error:m}=t;if(t=null,C)throw m}}else _()}function b(_){e.config.useDeprecatedSynchronousErrorHandling&&t&&(t.errorThrown=!0,t.error=_)}},7103:(Wn,et,p)=>{"use strict";function e(t,v,b,_=0,P=!1){const C=v.schedule(function(){b(),P?t.add(this.schedule(null,_)):this.unsubscribe()},_);if(t.add(C),!P)return C}p.d(et,{f:()=>e})},2737:(Wn,et,p)=>{"use strict";function e(t){return t}p.d(et,{y:()=>e})},4266:(Wn,et,p)=>{"use strict";p.d(et,{z:()=>e});const e=t=>t&&"number"==typeof t.length&&"function"!=typeof t},5726:(Wn,et,p)=>{"use strict";p.d(et,{D:()=>t});var e=p(4674);function t(v){return Symbol.asyncIterator&&(0,e.m)(v?.[Symbol.asyncIterator])}},4674:(Wn,et,p)=>{"use strict";function e(t){return"function"==typeof t}p.d(et,{m:()=>e})},8382:(Wn,et,p)=>{"use strict";p.d(et,{c:()=>v});var e=p(4850),t=p(4674);function v(b){return(0,t.m)(b[e.L])}},3664:(Wn,et,p)=>{"use strict";p.d(et,{T:()=>v});var e=p(4971),t=p(4674);function v(b){return(0,t.m)(b?.[e.h])}},2664:(Wn,et,p)=>{"use strict";p.d(et,{b:()=>v});var e=p(5592),t=p(4674);function v(b){return!!b&&(b instanceof e.y||(0,t.m)(b.lift)&&(0,t.m)(b.subscribe))}},4026:(Wn,et,p)=>{"use strict";p.d(et,{t:()=>t});var e=p(4674);function t(v){return(0,e.m)(v?.then)}},541:(Wn,et,p)=>{"use strict";p.d(et,{L:()=>b,Q:()=>v});var e=p(7582),t=p(4674);function v(_){return(0,e.FC)(this,arguments,function*(){const C=_.getReader();try{for(;;){const{value:m,done:i}=yield(0,e.qq)(C.read());if(i)return yield(0,e.qq)(void 0);yield yield(0,e.qq)(m)}}finally{C.releaseLock()}})}function b(_){return(0,t.m)(_?.getReader)}},671:(Wn,et,p)=>{"use strict";p.d(et,{K:()=>t});var e=p(4674);function t(v){return v&&(0,e.m)(v.schedule)}},9360:(Wn,et,p)=>{"use strict";p.d(et,{A:()=>t,e:()=>v});var e=p(4674);function t(b){return(0,e.m)(b?.lift)}function v(b){return _=>{if(t(_))return _.lift(function(P){try{return b(P,this)}catch(C){this.error(C)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Wn,et,p)=>{"use strict";p.d(et,{Z:()=>b});var e=p(7398);const{isArray:t}=Array;function b(_){return(0,e.U)(P=>function v(_,P){return t(P)?_(...P):_(P)}(_,P))}},2420:(Wn,et,p)=>{"use strict";function e(){}p.d(et,{Z:()=>e})},8407:(Wn,et,p)=>{"use strict";p.d(et,{U:()=>v,z:()=>t});var e=p(2737);function t(...b){return v(b)}function v(b){return 0===b.length?e.y:1===b.length?b[0]:function(P){return b.reduce((C,m)=>m(C),P)}}},3894:(Wn,et,p)=>{"use strict";p.d(et,{h:()=>v});var e=p(2653),t=p(7599);function v(b){t.z.setTimeout(()=>{const{onUnhandledError:_}=e.config;if(!_)throw b;_(b)})}},9853:(Wn,et,p)=>{"use strict";function e(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}p.d(et,{z:()=>e})},2372:(Wn,et,p)=>{"use strict";p.d(et,{Z:()=>f});var e,t=new Uint8Array(16);function v(){if(!e&&!(e=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(t)}const b=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var C=[],m=0;m<256;++m)C.push((m+256).toString(16).substr(1));const c=function i(g){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,x=(C[g[S+0]]+C[g[S+1]]+C[g[S+2]]+C[g[S+3]]+"-"+C[g[S+4]]+C[g[S+5]]+"-"+C[g[S+6]]+C[g[S+7]]+"-"+C[g[S+8]]+C[g[S+9]]+"-"+C[g[S+10]]+C[g[S+11]]+C[g[S+12]]+C[g[S+13]]+C[g[S+14]]+C[g[S+15]]).toLowerCase();if(!function _(g){return"string"==typeof g&&b.test(g)}(x))throw TypeError("Stringified UUID is invalid");return x},f=function d(g,S,x){var A=(g=g||{}).random||(g.rng||v)();if(A[6]=15&A[6]|64,A[8]=63&A[8]|128,S){x=x||0;for(var N=0;N<16;++N)S[x+N]=A[N];return S}return c(A)}},6825:(Wn,et,p)=>{"use strict";p.d(et,{F4:()=>c,IO:()=>x,LC:()=>t,SB:()=>i,X$:()=>b,ZE:()=>O,ZN:()=>N,_j:()=>e,eR:()=>d,jt:()=>_,k1:()=>D,l3:()=>v,oB:()=>m,pV:()=>g,ru:()=>P,vP:()=>C});class e{}class t{}const v="*";function b(I,T){return{type:7,name:I,definitions:T,options:{}}}function _(I,T=null){return{type:4,styles:T,timings:I}}function P(I,T=null){return{type:3,steps:I,options:T}}function C(I,T=null){return{type:2,steps:I,options:T}}function m(I){return{type:6,styles:I,offset:null}}function i(I,T,L){return{type:0,name:I,styles:T,options:L}}function c(I){return{type:5,steps:I}}function d(I,T,L=null){return{type:1,expr:I,animation:T,options:L}}function g(I=null){return{type:9,options:I}}function x(I,T,L=null){return{type:11,selector:I,animation:T,options:L}}class N{constructor(T=0,L=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=T+L}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(T=>T()),this._onDoneFns=[])}onStart(T){this._originalOnStartFns.push(T),this._onStartFns.push(T)}onDone(T){this._originalOnDoneFns.push(T),this._onDoneFns.push(T)}onDestroy(T){this._onDestroyFns.push(T)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(T=>T()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(T=>T()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(T){this._position=this.totalTime?T*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(T){const L="start"==T?this._onStartFns:this._onDoneFns;L.forEach(y=>y()),L.length=0}}class O{constructor(T){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=T;let L=0,y=0,B=0;const z=this.players.length;0==z?queueMicrotask(()=>this._onFinish()):this.players.forEach(ne=>{ne.onDone(()=>{++L==z&&this._onFinish()}),ne.onDestroy(()=>{++y==z&&this._onDestroy()}),ne.onStart(()=>{++B==z&&this._onStart()})}),this.totalTime=this.players.reduce((ne,ae)=>Math.max(ne,ae.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(T=>T()),this._onDoneFns=[])}init(){this.players.forEach(T=>T.init())}onStart(T){this._onStartFns.push(T)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(T=>T()),this._onStartFns=[])}onDone(T){this._onDoneFns.push(T)}onDestroy(T){this._onDestroyFns.push(T)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(T=>T.play())}pause(){this.players.forEach(T=>T.pause())}restart(){this.players.forEach(T=>T.restart())}finish(){this._onFinish(),this.players.forEach(T=>T.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(T=>T.destroy()),this._onDestroyFns.forEach(T=>T()),this._onDestroyFns=[])}reset(){this.players.forEach(T=>T.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(T){const L=T*this.totalTime;this.players.forEach(y=>{const B=y.totalTime?Math.min(1,L/y.totalTime):1;y.setPosition(B)})}getPosition(){const T=this.players.reduce((L,y)=>null===L||y.totalTime>L.totalTime?y:L,null);return null!=T?T.getPosition():0}beforeDestroy(){this.players.forEach(T=>{T.beforeDestroy&&T.beforeDestroy()})}triggerCallback(T){const L="start"==T?this._onStartFns:this._onDoneFns;L.forEach(y=>y()),L.length=0}}const D="!"},4300:(Wn,et,p)=>{"use strict";p.d(et,{$s:()=>Fe,Kd:()=>Qe,X6:()=>re,Zf:()=>T,iD:()=>L,ic:()=>Ie,kH:()=>Tt,mK:()=>ie,qV:()=>Q,qm:()=>un,rt:()=>fn,s1:()=>Se,tE:()=>ze,yG:()=>J});var e=p(6814),t=p(5879),v=p(2831),b=p(8645),_=p(7394),P=p(5619),C=p(2096),m=p(6028),i=p(9397),c=p(3620),d=p(2181),f=p(7398),g=p(8180),S=p(836),x=p(3997),A=p(9773),N=p(2495),O=p(7131),D=p(1088);const I=" ";function T(wt,vt,it){const He=y(wt,vt);He.some(Ye=>Ye.trim()==it.trim())||(He.push(it.trim()),wt.setAttribute(vt,He.join(I)))}function L(wt,vt,it){const Ye=y(wt,vt).filter(st=>st!=it.trim());Ye.length?wt.setAttribute(vt,Ye.join(I)):wt.removeAttribute(vt)}function y(wt,vt){return(wt.getAttribute(vt)||"").match(/\S+/g)||[]}const z="cdk-describedby-message",ne="cdk-describedby-host";let ae=0,Fe=(()=>{class wt{constructor(it,He){this._platform=He,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+ae++,this._document=it,this._id=(0,t.f3M)(t.AFp)+"-"+ae++}describe(it,He,Ye){if(!this._canBeDescribed(it,He))return;const st=Y(He,Ye);"string"!=typeof He?(le(He,this._id),this._messageRegistry.set(st,{messageElement:He,referenceCount:0})):this._messageRegistry.has(st)||this._createMessageElement(He,Ye),this._isElementDescribedByMessage(it,st)||this._addMessageReference(it,st)}removeDescription(it,He,Ye){if(!He||!this._isElementNode(it))return;const st=Y(He,Ye);if(this._isElementDescribedByMessage(it,st)&&this._removeMessageReference(it,st),"string"==typeof He){const at=this._messageRegistry.get(st);at&&0===at.referenceCount&&this._deleteMessageElement(st)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const it=this._document.querySelectorAll(`[${ne}="${this._id}"]`);for(let He=0;He<it.length;He++)this._removeCdkDescribedByReferenceIds(it[He]),it[He].removeAttribute(ne);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(it,He){const Ye=this._document.createElement("div");le(Ye,this._id),Ye.textContent=it,He&&Ye.setAttribute("role",He),this._createMessagesContainer(),this._messagesContainer.appendChild(Ye),this._messageRegistry.set(Y(it,He),{messageElement:Ye,referenceCount:0})}_deleteMessageElement(it){this._messageRegistry.get(it)?.messageElement?.remove(),this._messageRegistry.delete(it)}_createMessagesContainer(){if(this._messagesContainer)return;const it="cdk-describedby-message-container",He=this._document.querySelectorAll(`.${it}[platform="server"]`);for(let st=0;st<He.length;st++)He[st].remove();const Ye=this._document.createElement("div");Ye.style.visibility="hidden",Ye.classList.add(it),Ye.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Ye.setAttribute("platform","server"),this._document.body.appendChild(Ye),this._messagesContainer=Ye}_removeCdkDescribedByReferenceIds(it){const He=y(it,"aria-describedby").filter(Ye=>0!=Ye.indexOf(z));it.setAttribute("aria-describedby",He.join(" "))}_addMessageReference(it,He){const Ye=this._messageRegistry.get(He);T(it,"aria-describedby",Ye.messageElement.id),it.setAttribute(ne,this._id),Ye.referenceCount++}_removeMessageReference(it,He){const Ye=this._messageRegistry.get(He);Ye.referenceCount--,L(it,"aria-describedby",Ye.messageElement.id),it.removeAttribute(ne)}_isElementDescribedByMessage(it,He){const Ye=y(it,"aria-describedby"),st=this._messageRegistry.get(He),at=st&&st.messageElement.id;return!!at&&-1!=Ye.indexOf(at)}_canBeDescribed(it,He){if(!this._isElementNode(it))return!1;if(He&&"object"==typeof He)return!0;const Ye=null==He?"":`${He}`.trim(),st=it.getAttribute("aria-label");return!(!Ye||st&&st.trim()===Ye)}_isElementNode(it){return it.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(He){return new(He||wt)(t.LFG(e.K0),t.LFG(v.t4))};static#t=this.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"})}return wt})();function Y(wt,vt){return"string"==typeof wt?`${vt||""}/${wt}`:wt}function le(wt,vt){wt.id||(wt.id=`${z}-${vt}-${ae++}`)}class G{constructor(vt){this._items=vt,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new b.x,this._typeaheadSubscription=_.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=it=>it.disabled,this._pressedLetters=[],this.tabOut=new b.x,this.change=new b.x,vt instanceof t.n_E&&(this._itemChangesSubscription=vt.changes.subscribe(it=>{if(this._activeItem){const Ye=it.toArray().indexOf(this._activeItem);Ye>-1&&Ye!==this._activeItemIndex&&(this._activeItemIndex=Ye)}}))}skipPredicate(vt){return this._skipPredicateFn=vt,this}withWrap(vt=!0){return this._wrap=vt,this}withVerticalOrientation(vt=!0){return this._vertical=vt,this}withHorizontalOrientation(vt){return this._horizontal=vt,this}withAllowedModifierKeys(vt){return this._allowedModifierKeys=vt,this}withTypeAhead(vt=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,i.b)(it=>this._pressedLetters.push(it)),(0,c.b)(vt),(0,d.h)(()=>this._pressedLetters.length>0),(0,f.U)(()=>this._pressedLetters.join(""))).subscribe(it=>{const He=this._getItemsArray();for(let Ye=1;Ye<He.length+1;Ye++){const st=(this._activeItemIndex+Ye)%He.length,at=He[st];if(!this._skipPredicateFn(at)&&0===at.getLabel().toUpperCase().trim().indexOf(it)){this.setActiveItem(st);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(vt=!0){return this._homeAndEnd=vt,this}withPageUpDown(vt=!0,it=10){return this._pageUpAndDown={enabled:vt,delta:it},this}setActiveItem(vt){const it=this._activeItem;this.updateActiveItem(vt),this._activeItem!==it&&this.change.next(this._activeItemIndex)}onKeydown(vt){const it=vt.keyCode,Ye=["altKey","ctrlKey","metaKey","shiftKey"].every(st=>!vt[st]||this._allowedModifierKeys.indexOf(st)>-1);switch(it){case m.Mf:return void this.tabOut.next();case m.JH:if(this._vertical&&Ye){this.setNextItemActive();break}return;case m.LH:if(this._vertical&&Ye){this.setPreviousItemActive();break}return;case m.SV:if(this._horizontal&&Ye){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case m.oh:if(this._horizontal&&Ye){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case m.Sd:if(this._homeAndEnd&&Ye){this.setFirstItemActive();break}return;case m.uR:if(this._homeAndEnd&&Ye){this.setLastItemActive();break}return;case m.Ku:if(this._pageUpAndDown.enabled&&Ye){const st=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(st>0?st:0,1);break}return;case m.VM:if(this._pageUpAndDown.enabled&&Ye){const st=this._activeItemIndex+this._pageUpAndDown.delta,at=this._getItemsArray().length;this._setActiveItemByIndex(st<at?st:at-1,-1);break}return;default:return void((Ye||(0,m.Vb)(vt,"shiftKey"))&&(vt.key&&1===vt.key.length?this._letterKeyStream.next(vt.key.toLocaleUpperCase()):(it>=m.A&&it<=m.Z||it>=m.xE&&it<=m.aO)&&this._letterKeyStream.next(String.fromCharCode(it))))}this._pressedLetters=[],vt.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(vt){const it=this._getItemsArray(),He="number"==typeof vt?vt:it.indexOf(vt);this._activeItem=it[He]??null,this._activeItemIndex=He}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(vt){this._wrap?this._setActiveInWrapMode(vt):this._setActiveInDefaultMode(vt)}_setActiveInWrapMode(vt){const it=this._getItemsArray();for(let He=1;He<=it.length;He++){const Ye=(this._activeItemIndex+vt*He+it.length)%it.length;if(!this._skipPredicateFn(it[Ye]))return void this.setActiveItem(Ye)}}_setActiveInDefaultMode(vt){this._setActiveItemByIndex(this._activeItemIndex+vt,vt)}_setActiveItemByIndex(vt,it){const He=this._getItemsArray();if(He[vt]){for(;this._skipPredicateFn(He[vt]);)if(!He[vt+=it])return;this.setActiveItem(vt)}}_getItemsArray(){return this._items instanceof t.n_E?this._items.toArray():this._items}}class Se extends G{setActiveItem(vt){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(vt),this.activeItem&&this.activeItem.setActiveStyles()}}let Ie=(()=>{class wt{constructor(it){this._platform=it}isDisabled(it){return it.hasAttribute("disabled")}isVisible(it){return function pe(wt){return!!(wt.offsetWidth||wt.offsetHeight||"function"==typeof wt.getClientRects&&wt.getClientRects().length)}(it)&&"visible"===getComputedStyle(it).visibility}isTabbable(it){if(!this._platform.isBrowser)return!1;const He=function Ce(wt){try{return wt.frameElement}catch{return null}}(function Re(wt){return wt.ownerDocument&&wt.ownerDocument.defaultView||window}(it));if(He&&(-1===Ve(He)||!this.isVisible(He)))return!1;let Ye=it.nodeName.toLowerCase(),st=Ve(it);return it.hasAttribute("contenteditable")?-1!==st:!("iframe"===Ye||"object"===Ye||this._platform.WEBKIT&&this._platform.IOS&&!function ft(wt){let vt=wt.nodeName.toLowerCase(),it="input"===vt&&wt.type;return"text"===it||"password"===it||"select"===vt||"textarea"===vt}(it))&&("audio"===Ye?!!it.hasAttribute("controls")&&-1!==st:"video"===Ye?-1!==st&&(null!==st||this._platform.FIREFOX||it.hasAttribute("controls")):it.tabIndex>=0)}isFocusable(it,He){return function Ze(wt){return!function ke(wt){return function we(wt){return"input"==wt.nodeName.toLowerCase()}(wt)&&"hidden"==wt.type}(wt)&&(function Ae(wt){let vt=wt.nodeName.toLowerCase();return"input"===vt||"select"===vt||"button"===vt||"textarea"===vt}(wt)||function he(wt){return function Te(wt){return"a"==wt.nodeName.toLowerCase()}(wt)&&wt.hasAttribute("href")}(wt)||wt.hasAttribute("contenteditable")||Oe(wt))}(it)&&!this.isDisabled(it)&&(He?.ignoreVisibility||this.isVisible(it))}static#e=this.\u0275fac=function(He){return new(He||wt)(t.LFG(v.t4))};static#t=this.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"})}return wt})();function Oe(wt){if(!wt.hasAttribute("tabindex")||void 0===wt.tabIndex)return!1;let vt=wt.getAttribute("tabindex");return!(!vt||isNaN(parseInt(vt,10)))}function Ve(wt){if(!Oe(wt))return null;const vt=parseInt(wt.getAttribute("tabindex")||"",10);return isNaN(vt)?-1:vt}class be{get enabled(){return this._enabled}set enabled(vt){this._enabled=vt,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(vt,this._startAnchor),this._toggleAnchorTabIndex(vt,this._endAnchor))}constructor(vt,it,He,Ye,st=!1){this._element=vt,this._checker=it,this._ngZone=He,this._document=Ye,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,st||this.attachAnchors()}destroy(){const vt=this._startAnchor,it=this._endAnchor;vt&&(vt.removeEventListener("focus",this.startAnchorListener),vt.remove()),it&&(it.removeEventListener("focus",this.endAnchorListener),it.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(vt){return new Promise(it=>{this._executeOnStable(()=>it(this.focusInitialElement(vt)))})}focusFirstTabbableElementWhenReady(vt){return new Promise(it=>{this._executeOnStable(()=>it(this.focusFirstTabbableElement(vt)))})}focusLastTabbableElementWhenReady(vt){return new Promise(it=>{this._executeOnStable(()=>it(this.focusLastTabbableElement(vt)))})}_getRegionBoundary(vt){const it=this._element.querySelectorAll(`[cdk-focus-region-${vt}], [cdkFocusRegion${vt}], [cdk-focus-${vt}]`);return"start"==vt?it.length?it[0]:this._getFirstTabbableElement(this._element):it.length?it[it.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(vt){const it=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(it){if(!this._checker.isFocusable(it)){const He=this._getFirstTabbableElement(it);return He?.focus(vt),!!He}return it.focus(vt),!0}return this.focusFirstTabbableElement(vt)}focusFirstTabbableElement(vt){const it=this._getRegionBoundary("start");return it&&it.focus(vt),!!it}focusLastTabbableElement(vt){const it=this._getRegionBoundary("end");return it&&it.focus(vt),!!it}hasAttached(){return this._hasAttached}_getFirstTabbableElement(vt){if(this._checker.isFocusable(vt)&&this._checker.isTabbable(vt))return vt;const it=vt.children;for(let He=0;He<it.length;He++){const Ye=it[He].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(it[He]):null;if(Ye)return Ye}return null}_getLastTabbableElement(vt){if(this._checker.isFocusable(vt)&&this._checker.isTabbable(vt))return vt;const it=vt.children;for(let He=it.length-1;He>=0;He--){const Ye=it[He].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(it[He]):null;if(Ye)return Ye}return null}_createAnchor(){const vt=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,vt),vt.classList.add("cdk-visually-hidden"),vt.classList.add("cdk-focus-trap-anchor"),vt.setAttribute("aria-hidden","true"),vt}_toggleAnchorTabIndex(vt,it){vt?it.setAttribute("tabindex","0"):it.removeAttribute("tabindex")}toggleAnchors(vt){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(vt,this._startAnchor),this._toggleAnchorTabIndex(vt,this._endAnchor))}_executeOnStable(vt){this._ngZone.isStable?vt():this._ngZone.onStable.pipe((0,g.q)(1)).subscribe(vt)}}let Q=(()=>{class wt{constructor(it,He,Ye){this._checker=it,this._ngZone=He,this._document=Ye}create(it,He=!1){return new be(it,this._checker,this._ngZone,this._document,He)}static#e=this.\u0275fac=function(He){return new(He||wt)(t.LFG(Ie),t.LFG(t.R0b),t.LFG(e.K0))};static#t=this.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"})}return wt})(),ie=(()=>{class wt{get enabled(){return this.focusTrap.enabled}set enabled(it){this.focusTrap.enabled=(0,N.Ig)(it)}get autoCapture(){return this._autoCapture}set autoCapture(it){this._autoCapture=(0,N.Ig)(it)}constructor(it,He,Ye){this._elementRef=it,this._focusTrapFactory=He,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(it){const He=it.autoCapture;He&&!He.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,v.ht)(),this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(He){return new(He||wt)(t.Y36(t.SBq),t.Y36(Q),t.Y36(e.K0))};static#t=this.\u0275dir=t.lG2({type:wt,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[t.TTD]})}return wt})();function re(wt){return 0===wt.buttons||0===wt.offsetX&&0===wt.offsetY}function J(wt){const vt=wt.touches&&wt.touches[0]||wt.changedTouches&&wt.changedTouches[0];return!(!vt||-1!==vt.identifier||null!=vt.radiusX&&1!==vt.radiusX||null!=vt.radiusY&&1!==vt.radiusY)}const q=new t.OlP("cdk-input-modality-detector-options"),_e={ignoreKeys:[m.zL,m.jx,m.b2,m.MW,m.JU]},Ee=(0,v.i$)({passive:!0,capture:!0});let Ge=(()=>{class wt{get mostRecentModality(){return this._modality.value}constructor(it,He,Ye,st){this._platform=it,this._mostRecentTarget=null,this._modality=new P.X(null),this._lastTouchMs=0,this._onKeydown=at=>{this._options?.ignoreKeys?.some(St=>St===at.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,v.sA)(at))},this._onMousedown=at=>{Date.now()-this._lastTouchMs<650||(this._modality.next(re(at)?"keyboard":"mouse"),this._mostRecentTarget=(0,v.sA)(at))},this._onTouchstart=at=>{J(at)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,v.sA)(at))},this._options={..._e,...st},this.modalityDetected=this._modality.pipe((0,S.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,x.x)()),it.isBrowser&&He.runOutsideAngular(()=>{Ye.addEventListener("keydown",this._onKeydown,Ee),Ye.addEventListener("mousedown",this._onMousedown,Ee),Ye.addEventListener("touchstart",this._onTouchstart,Ee)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ee),document.removeEventListener("mousedown",this._onMousedown,Ee),document.removeEventListener("touchstart",this._onTouchstart,Ee))}static#e=this.\u0275fac=function(He){return new(He||wt)(t.LFG(v.t4),t.LFG(t.R0b),t.LFG(e.K0),t.LFG(q,8))};static#t=this.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"})}return wt})();const ct=new t.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Xe(){return null}}),tt=new t.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let gt=0,Qe=(()=>{class wt{constructor(it,He,Ye,st){this._ngZone=He,this._defaultOptions=st,this._document=Ye,this._liveElement=it||this._createLiveElement()}announce(it,...He){const Ye=this._defaultOptions;let st,at;return 1===He.length&&"number"==typeof He[0]?at=He[0]:[st,at]=He,this.clear(),clearTimeout(this._previousTimeout),st||(st=Ye&&Ye.politeness?Ye.politeness:"polite"),null==at&&Ye&&(at=Ye.duration),this._liveElement.setAttribute("aria-live",st),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(St=>this._currentResolve=St)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=it,"number"==typeof at&&(this._previousTimeout=setTimeout(()=>this.clear(),at)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const it="cdk-live-announcer-element",He=this._document.getElementsByClassName(it),Ye=this._document.createElement("div");for(let st=0;st<He.length;st++)He[st].remove();return Ye.classList.add(it),Ye.classList.add("cdk-visually-hidden"),Ye.setAttribute("aria-atomic","true"),Ye.setAttribute("aria-live","polite"),Ye.id="cdk-live-announcer-"+gt++,this._document.body.appendChild(Ye),Ye}_exposeAnnouncerToModals(it){const He=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Ye=0;Ye<He.length;Ye++){const st=He[Ye],at=st.getAttribute("aria-owns");at?-1===at.indexOf(it)&&st.setAttribute("aria-owns",at+" "+it):st.setAttribute("aria-owns",it)}}static#e=this.\u0275fac=function(He){return new(He||wt)(t.LFG(ct,8),t.LFG(t.R0b),t.LFG(e.K0),t.LFG(tt,8))};static#t=this.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"})}return wt})();const Dt=new t.OlP("cdk-focus-monitor-default-options"),fe=(0,v.i$)({passive:!0,capture:!0});let ze=(()=>{class wt{constructor(it,He,Ye,st,at){this._ngZone=it,this._platform=He,this._inputModalityDetector=Ye,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new b.x,this._rootNodeFocusAndBlurListener=St=>{for(let At=(0,v.sA)(St);At;At=At.parentElement)"focus"===St.type?this._onFocus(St,At):this._onBlur(St,At)},this._document=st,this._detectionMode=at?.detectionMode||0}monitor(it,He=!1){const Ye=(0,N.fI)(it);if(!this._platform.isBrowser||1!==Ye.nodeType)return(0,C.of)();const st=(0,v.kV)(Ye)||this._getDocument(),at=this._elementInfo.get(Ye);if(at)return He&&(at.checkChildren=!0),at.subject;const St={checkChildren:He,subject:new b.x,rootNode:st};return this._elementInfo.set(Ye,St),this._registerGlobalListeners(St),St.subject}stopMonitoring(it){const He=(0,N.fI)(it),Ye=this._elementInfo.get(He);Ye&&(Ye.subject.complete(),this._setClasses(He),this._elementInfo.delete(He),this._removeGlobalListeners(Ye))}focusVia(it,He,Ye){const st=(0,N.fI)(it);st===this._getDocument().activeElement?this._getClosestElementsInfo(st).forEach(([St,bt])=>this._originChanged(St,He,bt)):(this._setOrigin(He),"function"==typeof st.focus&&st.focus(Ye))}ngOnDestroy(){this._elementInfo.forEach((it,He)=>this.stopMonitoring(He))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(it){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(it)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:it&&this._isLastInteractionFromInputLabel(it)?"mouse":"program"}_shouldBeAttributedToTouch(it){return 1===this._detectionMode||!!it?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(it,He){it.classList.toggle("cdk-focused",!!He),it.classList.toggle("cdk-touch-focused","touch"===He),it.classList.toggle("cdk-keyboard-focused","keyboard"===He),it.classList.toggle("cdk-mouse-focused","mouse"===He),it.classList.toggle("cdk-program-focused","program"===He)}_setOrigin(it,He=!1){this._ngZone.runOutsideAngular(()=>{this._origin=it,this._originFromTouchInteraction="touch"===it&&He,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(it,He){const Ye=this._elementInfo.get(He),st=(0,v.sA)(it);!Ye||!Ye.checkChildren&&He!==st||this._originChanged(He,this._getFocusOrigin(st),Ye)}_onBlur(it,He){const Ye=this._elementInfo.get(He);!Ye||Ye.checkChildren&&it.relatedTarget instanceof Node&&He.contains(it.relatedTarget)||(this._setClasses(He),this._emitOrigin(Ye,null))}_emitOrigin(it,He){it.subject.observers.length&&this._ngZone.run(()=>it.subject.next(He))}_registerGlobalListeners(it){if(!this._platform.isBrowser)return;const He=it.rootNode,Ye=this._rootNodeFocusListenerCount.get(He)||0;Ye||this._ngZone.runOutsideAngular(()=>{He.addEventListener("focus",this._rootNodeFocusAndBlurListener,fe),He.addEventListener("blur",this._rootNodeFocusAndBlurListener,fe)}),this._rootNodeFocusListenerCount.set(He,Ye+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,A.R)(this._stopInputModalityDetector)).subscribe(st=>{this._setOrigin(st,!0)}))}_removeGlobalListeners(it){const He=it.rootNode;if(this._rootNodeFocusListenerCount.has(He)){const Ye=this._rootNodeFocusListenerCount.get(He);Ye>1?this._rootNodeFocusListenerCount.set(He,Ye-1):(He.removeEventListener("focus",this._rootNodeFocusAndBlurListener,fe),He.removeEventListener("blur",this._rootNodeFocusAndBlurListener,fe),this._rootNodeFocusListenerCount.delete(He))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(it,He,Ye){this._setClasses(it,He),this._emitOrigin(Ye,He),this._lastFocusOrigin=He}_getClosestElementsInfo(it){const He=[];return this._elementInfo.forEach((Ye,st)=>{(st===it||Ye.checkChildren&&st.contains(it))&&He.push([st,Ye])}),He}_isLastInteractionFromInputLabel(it){const{_mostRecentTarget:He,mostRecentModality:Ye}=this._inputModalityDetector;if("mouse"!==Ye||!He||He===it||"INPUT"!==it.nodeName&&"TEXTAREA"!==it.nodeName||it.disabled)return!1;const st=it.labels;if(st)for(let at=0;at<st.length;at++)if(st[at].contains(He))return!0;return!1}static#e=this.\u0275fac=function(He){return new(He||wt)(t.LFG(t.R0b),t.LFG(v.t4),t.LFG(Ge),t.LFG(e.K0,8),t.LFG(Dt,8))};static#t=this.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"})}return wt})(),Tt=(()=>{class wt{constructor(it,He){this._elementRef=it,this._focusMonitor=He,this._focusOrigin=null,this.cdkFocusChange=new t.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const it=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(it,1===it.nodeType&&it.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(He=>{this._focusOrigin=He,this.cdkFocusChange.emit(He)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(He){return new(He||wt)(t.Y36(t.SBq),t.Y36(ze))};static#t=this.\u0275dir=t.lG2({type:wt,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return wt})();const Kt="cdk-high-contrast-black-on-white",Jt="cdk-high-contrast-white-on-black",qt="cdk-high-contrast-active";let un=(()=>{class wt{constructor(it,He){this._platform=it,this._document=He,this._breakpointSubscription=(0,t.f3M)(D.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const it=this._document.createElement("div");it.style.backgroundColor="rgb(1,2,3)",it.style.position="absolute",this._document.body.appendChild(it);const He=this._document.defaultView||window,Ye=He&&He.getComputedStyle?He.getComputedStyle(it):null,st=(Ye&&Ye.backgroundColor||"").replace(/ /g,"");switch(it.remove(),st){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const it=this._document.body.classList;it.remove(qt,Kt,Jt),this._hasCheckedHighContrastMode=!0;const He=this.getHighContrastMode();1===He?it.add(qt,Kt):2===He&&it.add(qt,Jt)}}static#e=this.\u0275fac=function(He){return new(He||wt)(t.LFG(v.t4),t.LFG(e.K0))};static#t=this.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"})}return wt})(),fn=(()=>{class wt{constructor(it){it._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(He){return new(He||wt)(t.LFG(un))};static#t=this.\u0275mod=t.oAB({type:wt});static#n=this.\u0275inj=t.cJS({imports:[O.Q8]})}return wt})()},9388:(Wn,et,p)=>{"use strict";p.d(et,{Is:()=>C,vT:()=>i});var e=p(5879),t=p(6814);const v=new e.OlP("cdk-dir-doc",{providedIn:"root",factory:function b(){return(0,e.f3M)(t.K0)}}),_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let C=(()=>{class c{constructor(f){this.value="ltr",this.change=new e.vpe,f&&(this.value=function P(c){const d=c?.toLowerCase()||"";return"auto"===d&&typeof navigator<"u"&&navigator?.language?_.test(navigator.language)?"rtl":"ltr":"rtl"===d?"rtl":"ltr"}((f.body?f.body.dir:null)||(f.documentElement?f.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(g){return new(g||c)(e.LFG(v,8))};static#t=this.\u0275prov=e.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),i=(()=>{class c{static#e=this.\u0275fac=function(g){return new(g||c)};static#t=this.\u0275mod=e.oAB({type:c});static#n=this.\u0275inj=e.cJS({})}return c})()},2495:(Wn,et,p)=>{"use strict";p.d(et,{Eq:()=>_,HM:()=>P,Ig:()=>t,du:()=>m,fI:()=>C,su:()=>v,t6:()=>b});var e=p(5879);function t(i){return null!=i&&"false"!=`${i}`}function v(i,c=0){return b(i)?Number(i):c}function b(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function _(i){return Array.isArray(i)?i:[i]}function P(i){return null==i?"":"string"==typeof i?i:`${i}px`}function C(i){return i instanceof e.SBq?i.nativeElement:i}function m(i,c=/\s+/){const d=[];if(null!=i){const f=Array.isArray(i)?i:`${i}`.split(c);for(const g of f){const S=`${g}`.trim();S&&d.push(S)}}return d}},8337:(Wn,et,p)=>{"use strict";p.d(et,{Ov:()=>i,Z9:()=>_,eX:()=>m,k:()=>f,o2:()=>b,yy:()=>C});var e=p(3168),t=p(8645),v=p(5879);class b{}function _(g){return g&&"function"==typeof g.connect&&!(g instanceof e.c)}class C{applyChanges(S,x,A,N,O){S.forEachOperation((D,I,T)=>{let L,y;if(null==D.previousIndex){const B=A(D,I,T);L=x.createEmbeddedView(B.templateRef,B.context,B.index),y=1}else null==T?(x.remove(I),y=3):(L=x.get(I),x.move(L,T),y=2);O&&O({context:L?.context,operation:y,record:D})})}detach(){}}class m{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(S,x,A,N,O){S.forEachOperation((D,I,T)=>{let L,y;null==D.previousIndex?(L=this._insertView(()=>A(D,I,T),T,x,N(D)),y=L?1:0):null==T?(this._detachAndCacheView(I,x),y=3):(L=this._moveView(I,T,x,N(D)),y=2),O&&O({context:L?.context,operation:y,record:D})})}detach(){for(const S of this._viewCache)S.destroy();this._viewCache=[]}_insertView(S,x,A,N){const O=this._insertViewFromCache(x,A);if(O)return void(O.context.$implicit=N);const D=S();return A.createEmbeddedView(D.templateRef,D.context,D.index)}_detachAndCacheView(S,x){const A=x.detach(S);this._maybeCacheView(A,x)}_moveView(S,x,A,N){const O=A.get(S);return A.move(O,x),O.context.$implicit=N,O}_maybeCacheView(S,x){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(S);else{const A=x.indexOf(S);-1===A?S.destroy():x.remove(A)}}_insertViewFromCache(S,x){const A=this._viewCache.pop();return A&&x.insert(A,S),A||null}}class i{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(S=!1,x,A=!0,N){this._multiple=S,this._emitChanges=A,this.compareWith=N,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new t.x,x&&x.length&&(S?x.forEach(O=>this._markSelected(O)):this._markSelected(x[0]),this._selectedToEmit.length=0)}select(...S){this._verifyValueAssignment(S),S.forEach(A=>this._markSelected(A));const x=this._hasQueuedChanges();return this._emitChangeEvent(),x}deselect(...S){this._verifyValueAssignment(S),S.forEach(A=>this._unmarkSelected(A));const x=this._hasQueuedChanges();return this._emitChangeEvent(),x}setSelection(...S){this._verifyValueAssignment(S);const x=this.selected,A=new Set(S);S.forEach(O=>this._markSelected(O)),x.filter(O=>!A.has(O)).forEach(O=>this._unmarkSelected(O));const N=this._hasQueuedChanges();return this._emitChangeEvent(),N}toggle(S){return this.isSelected(S)?this.deselect(S):this.select(S)}clear(S=!0){this._unmarkAll();const x=this._hasQueuedChanges();return S&&this._emitChangeEvent(),x}isSelected(S){return this._selection.has(this._getConcreteValue(S))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(S){this._multiple&&this.selected&&this._selected.sort(S)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(S){S=this._getConcreteValue(S),this.isSelected(S)||(this._multiple||this._unmarkAll(),this.isSelected(S)||this._selection.add(S),this._emitChanges&&this._selectedToEmit.push(S))}_unmarkSelected(S){S=this._getConcreteValue(S),this.isSelected(S)&&(this._selection.delete(S),this._emitChanges&&this._deselectedToEmit.push(S))}_unmarkAll(){this.isEmpty()||this._selection.forEach(S=>this._unmarkSelected(S))}_verifyValueAssignment(S){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(S){if(this.compareWith){for(let x of this._selection)if(this.compareWith(S,x))return x;return S}return S}}const f=new v.OlP("_ViewRepeater")},6028:(Wn,et,p)=>{"use strict";p.d(et,{A:()=>ke,JH:()=>I,JU:()=>P,K5:()=>_,Ku:()=>g,LH:()=>O,L_:()=>f,MW:()=>tt,Mf:()=>v,SV:()=>D,Sd:()=>A,VM:()=>S,Vb:()=>Pt,Z:()=>Xe,aO:()=>ge,b2:()=>Ft,hY:()=>d,jx:()=>C,oh:()=>N,uR:()=>x,xE:()=>z,zL:()=>m});const v=9,_=13,P=16,C=17,m=18,d=27,f=32,g=33,S=34,x=35,A=36,N=37,O=38,D=39,I=40,z=48,ge=57,ke=65,Xe=90,tt=91,Ft=224;function Pt(ln,...Fn){return Fn.length?Fn.some(vi=>ln[vi]):ln.altKey||ln.shiftKey||ln.ctrlKey||ln.metaKey}},1088:(Wn,et,p)=>{"use strict";p.d(et,{Yg:()=>I,u3:()=>L});var e=p(5879),t=p(2495),v=p(8645),b=p(2572),_=p(5211),P=p(5592),C=p(8180),m=p(836),i=p(3620),c=p(7398),d=p(7921),f=p(9773),g=p(2831);const x=new Set;let A,N=(()=>{class y{constructor(z,ne){this._platform=z,this._nonce=ne,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):D}matchMedia(z){return(this._platform.WEBKIT||this._platform.BLINK)&&function O(y,B){if(!x.has(y))try{A||(A=document.createElement("style"),B&&(A.nonce=B),A.setAttribute("type","text/css"),document.head.appendChild(A)),A.sheet&&(A.sheet.insertRule(`@media ${y} {body{ }}`,0),x.add(y))}catch(z){console.error(z)}}(z,this._nonce),this._matchMedia(z)}static#e=this.\u0275fac=function(ne){return new(ne||y)(e.LFG(g.t4),e.LFG(e.Ojb,8))};static#t=this.\u0275prov=e.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function D(y){return{matches:"all"===y||""===y,media:y,addListener:()=>{},removeListener:()=>{}}}let I=(()=>{class y{constructor(z,ne){this._mediaMatcher=z,this._zone=ne,this._queries=new Map,this._destroySubject=new v.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(z){return T((0,t.Eq)(z)).some(ae=>this._registerQuery(ae).mql.matches)}observe(z){const ae=T((0,t.Eq)(z)).map(Y=>this._registerQuery(Y).observable);let Fe=(0,b.a)(ae);return Fe=(0,_.z)(Fe.pipe((0,C.q)(1)),Fe.pipe((0,m.T)(1),(0,i.b)(0))),Fe.pipe((0,c.U)(Y=>{const le={matches:!1,breakpoints:{}};return Y.forEach(({matches:G,query:Se})=>{le.matches=le.matches||G,le.breakpoints[Se]=G}),le}))}_registerQuery(z){if(this._queries.has(z))return this._queries.get(z);const ne=this._mediaMatcher.matchMedia(z),Fe={observable:new P.y(Y=>{const le=G=>this._zone.run(()=>Y.next(G));return ne.addListener(le),()=>{ne.removeListener(le)}}).pipe((0,d.O)(ne),(0,c.U)(({matches:Y})=>({query:z,matches:Y})),(0,f.R)(this._destroySubject)),mql:ne};return this._queries.set(z,Fe),Fe}static#e=this.\u0275fac=function(ne){return new(ne||y)(e.LFG(N),e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function T(y){return y.map(B=>B.split(",")).reduce((B,z)=>B.concat(z)).map(B=>B.trim())}const L={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7131:(Wn,et,p)=>{"use strict";p.d(et,{Q8:()=>_});var e=p(5879);let t=(()=>{class P{create(m){return typeof MutationObserver>"u"?null:new MutationObserver(m)}static#e=this.\u0275fac=function(i){return new(i||P)};static#t=this.\u0275prov=e.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})(),_=(()=>{class P{static#e=this.\u0275fac=function(i){return new(i||P)};static#t=this.\u0275mod=e.oAB({type:P});static#n=this.\u0275inj=e.cJS({providers:[t]})}return P})()},3651:(Wn,et,p)=>{"use strict";p.d(et,{pI:()=>X,xu:()=>ee,_G:()=>he,aV:()=>ie,X_:()=>ae,Xj:()=>Ce,U8:()=>J,Iu:()=>pe});var e=p(799),t=p(6814),v=p(5879),b=p(2495),_=p(2831),P=p(2181),C=p(8180),m=p(9773),i=p(9360),c=p(8251),f=p(9388),g=p(8484),S=p(8645),x=p(7394),A=p(3019),N=p(6028);const O=(0,_.Mq)();class D{constructor(xe,Ee){this._viewportRuler=xe,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Ee}attach(){}enable(){if(this._canBeEnabled()){const xe=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=xe.style.left||"",this._previousHTMLStyles.top=xe.style.top||"",xe.style.left=(0,b.HM)(-this._previousScrollPosition.left),xe.style.top=(0,b.HM)(-this._previousScrollPosition.top),xe.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const xe=this._document.documentElement,Ge=xe.style,ct=this._document.body.style,Xe=Ge.scrollBehavior||"",tt=ct.scrollBehavior||"";this._isEnabled=!1,Ge.left=this._previousHTMLStyles.left,Ge.top=this._previousHTMLStyles.top,xe.classList.remove("cdk-global-scrollblock"),O&&(Ge.scrollBehavior=ct.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),O&&(Ge.scrollBehavior=Xe,ct.scrollBehavior=tt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Ee=this._document.body,Ge=this._viewportRuler.getViewportSize();return Ee.scrollHeight>Ge.height||Ee.scrollWidth>Ge.width}}class T{constructor(xe,Ee,Ge,ct){this._scrollDispatcher=xe,this._ngZone=Ee,this._viewportRuler=Ge,this._config=ct,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(xe){this._overlayRef=xe}enable(){if(this._scrollSubscription)return;const xe=this._scrollDispatcher.scrolled(0).pipe((0,P.h)(Ee=>!Ee||!this._overlayRef.overlayElement.contains(Ee.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=xe.subscribe(()=>{const Ee=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Ee-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=xe.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class L{enable(){}disable(){}attach(){}}function y(_e,xe){return xe.some(Ee=>_e.bottom<Ee.top||_e.top>Ee.bottom||_e.right<Ee.left||_e.left>Ee.right)}function B(_e,xe){return xe.some(Ee=>_e.top<Ee.top||_e.bottom>Ee.bottom||_e.left<Ee.left||_e.right>Ee.right)}class z{constructor(xe,Ee,Ge,ct){this._scrollDispatcher=xe,this._viewportRuler=Ee,this._ngZone=Ge,this._config=ct,this._scrollSubscription=null}attach(xe){this._overlayRef=xe}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Ee=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Ge,height:ct}=this._viewportRuler.getViewportSize();y(Ee,[{width:Ge,height:ct,bottom:ct,right:Ge,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ne=(()=>{class _e{constructor(Ee,Ge,ct,Xe){this._scrollDispatcher=Ee,this._viewportRuler=Ge,this._ngZone=ct,this.noop=()=>new L,this.close=tt=>new T(this._scrollDispatcher,this._ngZone,this._viewportRuler,tt),this.block=()=>new D(this._viewportRuler,this._document),this.reposition=tt=>new z(this._scrollDispatcher,this._viewportRuler,this._ngZone,tt),this._document=Xe}static#e=this.\u0275fac=function(Ge){return new(Ge||_e)(v.LFG(e.mF),v.LFG(e.rL),v.LFG(v.R0b),v.LFG(t.K0))};static#t=this.\u0275prov=v.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})();class ae{constructor(xe){if(this.scrollStrategy=new L,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,xe){const Ee=Object.keys(xe);for(const Ge of Ee)void 0!==xe[Ge]&&(this[Ge]=xe[Ge])}}}class le{constructor(xe,Ee){this.connectionPair=xe,this.scrollableViewProperties=Ee}}let ce=(()=>{class _e{constructor(Ee){this._attachedOverlays=[],this._document=Ee}ngOnDestroy(){this.detach()}add(Ee){this.remove(Ee),this._attachedOverlays.push(Ee)}remove(Ee){const Ge=this._attachedOverlays.indexOf(Ee);Ge>-1&&this._attachedOverlays.splice(Ge,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(Ge){return new(Ge||_e)(v.LFG(t.K0))};static#t=this.\u0275prov=v.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})(),ge=(()=>{class _e extends ce{constructor(Ee,Ge){super(Ee),this._ngZone=Ge,this._keydownListener=ct=>{const Xe=this._attachedOverlays;for(let tt=Xe.length-1;tt>-1;tt--)if(Xe[tt]._keydownEvents.observers.length>0){const gt=Xe[tt]._keydownEvents;this._ngZone?this._ngZone.run(()=>gt.next(ct)):gt.next(ct);break}}}add(Ee){super.add(Ee),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(Ge){return new(Ge||_e)(v.LFG(t.K0),v.LFG(v.R0b,8))};static#t=this.\u0275prov=v.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})(),Ie=(()=>{class _e extends ce{constructor(Ee,Ge,ct){super(Ee),this._platform=Ge,this._ngZone=ct,this._cursorStyleIsSet=!1,this._pointerDownListener=Xe=>{this._pointerDownEventTarget=(0,_.sA)(Xe)},this._clickListener=Xe=>{const tt=(0,_.sA)(Xe),gt="click"===Xe.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:tt;this._pointerDownEventTarget=null;const Qe=this._attachedOverlays.slice();for(let yt=Qe.length-1;yt>-1;yt--){const Dt=Qe[yt];if(Dt._outsidePointerEvents.observers.length<1||!Dt.hasAttached())continue;if(Dt.overlayElement.contains(tt)||Dt.overlayElement.contains(gt))break;const fe=Dt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>fe.next(Xe)):fe.next(Xe)}}}add(Ee){if(super.add(Ee),!this._isAttached){const Ge=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Ge)):this._addEventListeners(Ge),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Ge.style.cursor,Ge.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Ee=this._document.body;Ee.removeEventListener("pointerdown",this._pointerDownListener,!0),Ee.removeEventListener("click",this._clickListener,!0),Ee.removeEventListener("auxclick",this._clickListener,!0),Ee.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Ee.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Ee){Ee.addEventListener("pointerdown",this._pointerDownListener,!0),Ee.addEventListener("click",this._clickListener,!0),Ee.addEventListener("auxclick",this._clickListener,!0),Ee.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(Ge){return new(Ge||_e)(v.LFG(t.K0),v.LFG(_.t4),v.LFG(v.R0b,8))};static#t=this.\u0275prov=v.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})(),Ce=(()=>{class _e{constructor(Ee,Ge){this._platform=Ge,this._document=Ee}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ee="cdk-overlay-container";if(this._platform.isBrowser||(0,_.Oy)()){const ct=this._document.querySelectorAll(`.${Ee}[platform="server"], .${Ee}[platform="test"]`);for(let Xe=0;Xe<ct.length;Xe++)ct[Xe].remove()}const Ge=this._document.createElement("div");Ge.classList.add(Ee),(0,_.Oy)()?Ge.setAttribute("platform","test"):this._platform.isBrowser||Ge.setAttribute("platform","server"),this._document.body.appendChild(Ge),this._containerElement=Ge}static#e=this.\u0275fac=function(Ge){return new(Ge||_e)(v.LFG(t.K0),v.LFG(_.t4))};static#t=this.\u0275prov=v.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})();class pe{constructor(xe,Ee,Ge,ct,Xe,tt,gt,Qe,yt,Dt=!1){this._portalOutlet=xe,this._host=Ee,this._pane=Ge,this._config=ct,this._ngZone=Xe,this._keyboardDispatcher=tt,this._document=gt,this._location=Qe,this._outsideClickDispatcher=yt,this._animationsDisabled=Dt,this._backdropElement=null,this._backdropClick=new S.x,this._attachments=new S.x,this._detachments=new S.x,this._locationChanges=x.w0.EMPTY,this._backdropClickHandler=fe=>this._backdropClick.next(fe),this._backdropTransitionendHandler=fe=>{this._disposeBackdrop(fe.target)},this._keydownEvents=new S.x,this._outsidePointerEvents=new S.x,ct.scrollStrategy&&(this._scrollStrategy=ct.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=ct.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(xe){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Ee=this._portalOutlet.attach(xe);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,C.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Ee?.onDestroy&&Ee.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Ee}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const xe=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),xe}dispose(){const xe=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,xe&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(xe){xe!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=xe,this.hasAttached()&&(xe.attach(this),this.updatePosition()))}updateSize(xe){this._config={...this._config,...xe},this._updateElementSize()}setDirection(xe){this._config={...this._config,direction:xe},this._updateElementDirection()}addPanelClass(xe){this._pane&&this._toggleClasses(this._pane,xe,!0)}removePanelClass(xe){this._pane&&this._toggleClasses(this._pane,xe,!1)}getDirection(){const xe=this._config.direction;return xe?"string"==typeof xe?xe:xe.value:"ltr"}updateScrollStrategy(xe){xe!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=xe,this.hasAttached()&&(xe.attach(this),xe.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const xe=this._pane.style;xe.width=(0,b.HM)(this._config.width),xe.height=(0,b.HM)(this._config.height),xe.minWidth=(0,b.HM)(this._config.minWidth),xe.minHeight=(0,b.HM)(this._config.minHeight),xe.maxWidth=(0,b.HM)(this._config.maxWidth),xe.maxHeight=(0,b.HM)(this._config.maxHeight)}_togglePointerEvents(xe){this._pane.style.pointerEvents=xe?"":"none"}_attachBackdrop(){const xe="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(xe)})}):this._backdropElement.classList.add(xe)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const xe=this._backdropElement;if(xe){if(this._animationsDisabled)return void this._disposeBackdrop(xe);xe.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{xe.addEventListener("transitionend",this._backdropTransitionendHandler)}),xe.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(xe)},500))}}_toggleClasses(xe,Ee,Ge){const ct=(0,b.Eq)(Ee||[]).filter(Xe=>!!Xe);ct.length&&(Ge?xe.classList.add(...ct):xe.classList.remove(...ct))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const xe=this._ngZone.onStable.pipe((0,m.R)((0,A.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),xe.unsubscribe())})})}_disposeScrollStrategy(){const xe=this._scrollStrategy;xe&&(xe.disable(),xe.detach&&xe.detach())}_disposeBackdrop(xe){xe&&(xe.removeEventListener("click",this._backdropClickHandler),xe.removeEventListener("transitionend",this._backdropTransitionendHandler),xe.remove(),this._backdropElement===xe&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Ae="cdk-overlay-connected-position-bounding-box",ke=/([A-Za-z%]+)$/;class he{get positions(){return this._preferredPositions}constructor(xe,Ee,Ge,ct,Xe){this._viewportRuler=Ee,this._document=Ge,this._platform=ct,this._overlayContainer=Xe,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new S.x,this._resizeSubscription=x.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(xe)}attach(xe){this._validatePositions(),xe.hostElement.classList.add(Ae),this._overlayRef=xe,this._boundingBox=xe.hostElement,this._pane=xe.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const xe=this._originRect,Ee=this._overlayRect,Ge=this._viewportRect,ct=this._containerRect,Xe=[];let tt;for(let gt of this._preferredPositions){let Qe=this._getOriginPoint(xe,ct,gt),yt=this._getOverlayPoint(Qe,Ee,gt),Dt=this._getOverlayFit(yt,Ee,Ge,gt);if(Dt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(gt,Qe);this._canFitWithFlexibleDimensions(Dt,yt,Ge)?Xe.push({position:gt,origin:Qe,overlayRect:Ee,boundingBoxRect:this._calculateBoundingBoxRect(Qe,gt)}):(!tt||tt.overlayFit.visibleArea<Dt.visibleArea)&&(tt={overlayFit:Dt,overlayPoint:yt,originPoint:Qe,position:gt,overlayRect:Ee})}if(Xe.length){let gt=null,Qe=-1;for(const yt of Xe){const Dt=yt.boundingBoxRect.width*yt.boundingBoxRect.height*(yt.position.weight||1);Dt>Qe&&(Qe=Dt,gt=yt)}return this._isPushed=!1,void this._applyPosition(gt.position,gt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(tt.position,tt.originPoint);this._applyPosition(tt.position,tt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&we(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Ae),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const xe=this._lastPosition;if(xe){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ee=this._getOriginPoint(this._originRect,this._containerRect,xe);this._applyPosition(xe,Ee)}else this.apply()}withScrollableContainers(xe){return this._scrollables=xe,this}withPositions(xe){return this._preferredPositions=xe,-1===xe.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(xe){return this._viewportMargin=xe,this}withFlexibleDimensions(xe=!0){return this._hasFlexibleDimensions=xe,this}withGrowAfterOpen(xe=!0){return this._growAfterOpen=xe,this}withPush(xe=!0){return this._canPush=xe,this}withLockedPosition(xe=!0){return this._positionLocked=xe,this}setOrigin(xe){return this._origin=xe,this}withDefaultOffsetX(xe){return this._offsetX=xe,this}withDefaultOffsetY(xe){return this._offsetY=xe,this}withTransformOriginOn(xe){return this._transformOriginSelector=xe,this}_getOriginPoint(xe,Ee,Ge){let ct,Xe;if("center"==Ge.originX)ct=xe.left+xe.width/2;else{const tt=this._isRtl()?xe.right:xe.left,gt=this._isRtl()?xe.left:xe.right;ct="start"==Ge.originX?tt:gt}return Ee.left<0&&(ct-=Ee.left),Xe="center"==Ge.originY?xe.top+xe.height/2:"top"==Ge.originY?xe.top:xe.bottom,Ee.top<0&&(Xe-=Ee.top),{x:ct,y:Xe}}_getOverlayPoint(xe,Ee,Ge){let ct,Xe;return ct="center"==Ge.overlayX?-Ee.width/2:"start"===Ge.overlayX?this._isRtl()?-Ee.width:0:this._isRtl()?0:-Ee.width,Xe="center"==Ge.overlayY?-Ee.height/2:"top"==Ge.overlayY?0:-Ee.height,{x:xe.x+ct,y:xe.y+Xe}}_getOverlayFit(xe,Ee,Ge,ct){const Xe=Oe(Ee);let{x:tt,y:gt}=xe,Qe=this._getOffset(ct,"x"),yt=this._getOffset(ct,"y");Qe&&(tt+=Qe),yt&&(gt+=yt);let ze=0-gt,Tt=gt+Xe.height-Ge.height,Kt=this._subtractOverflows(Xe.width,0-tt,tt+Xe.width-Ge.width),Jt=this._subtractOverflows(Xe.height,ze,Tt),qt=Kt*Jt;return{visibleArea:qt,isCompletelyWithinViewport:Xe.width*Xe.height===qt,fitsInViewportVertically:Jt===Xe.height,fitsInViewportHorizontally:Kt==Xe.width}}_canFitWithFlexibleDimensions(xe,Ee,Ge){if(this._hasFlexibleDimensions){const ct=Ge.bottom-Ee.y,Xe=Ge.right-Ee.x,tt=Te(this._overlayRef.getConfig().minHeight),gt=Te(this._overlayRef.getConfig().minWidth);return(xe.fitsInViewportVertically||null!=tt&&tt<=ct)&&(xe.fitsInViewportHorizontally||null!=gt&&gt<=Xe)}return!1}_pushOverlayOnScreen(xe,Ee,Ge){if(this._previousPushAmount&&this._positionLocked)return{x:xe.x+this._previousPushAmount.x,y:xe.y+this._previousPushAmount.y};const ct=Oe(Ee),Xe=this._viewportRect,tt=Math.max(xe.x+ct.width-Xe.width,0),gt=Math.max(xe.y+ct.height-Xe.height,0),Qe=Math.max(Xe.top-Ge.top-xe.y,0),yt=Math.max(Xe.left-Ge.left-xe.x,0);let Dt=0,fe=0;return Dt=ct.width<=Xe.width?yt||-tt:xe.x<this._viewportMargin?Xe.left-Ge.left-xe.x:0,fe=ct.height<=Xe.height?Qe||-gt:xe.y<this._viewportMargin?Xe.top-Ge.top-xe.y:0,this._previousPushAmount={x:Dt,y:fe},{x:xe.x+Dt,y:xe.y+fe}}_applyPosition(xe,Ee){if(this._setTransformOrigin(xe),this._setOverlayElementStyles(Ee,xe),this._setBoundingBoxStyles(Ee,xe),xe.panelClass&&this._addPanelClasses(xe.panelClass),this._lastPosition=xe,this._positionChanges.observers.length){const Ge=this._getScrollVisibility(),ct=new le(xe,Ge);this._positionChanges.next(ct)}this._isInitialRender=!1}_setTransformOrigin(xe){if(!this._transformOriginSelector)return;const Ee=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Ge,ct=xe.overlayY;Ge="center"===xe.overlayX?"center":this._isRtl()?"start"===xe.overlayX?"right":"left":"start"===xe.overlayX?"left":"right";for(let Xe=0;Xe<Ee.length;Xe++)Ee[Xe].style.transformOrigin=`${Ge} ${ct}`}_calculateBoundingBoxRect(xe,Ee){const Ge=this._viewportRect,ct=this._isRtl();let Xe,tt,gt,Dt,fe,ze;if("top"===Ee.overlayY)tt=xe.y,Xe=Ge.height-tt+this._viewportMargin;else if("bottom"===Ee.overlayY)gt=Ge.height-xe.y+2*this._viewportMargin,Xe=Ge.height-gt+this._viewportMargin;else{const Tt=Math.min(Ge.bottom-xe.y+Ge.top,xe.y),Kt=this._lastBoundingBoxSize.height;Xe=2*Tt,tt=xe.y-Tt,Xe>Kt&&!this._isInitialRender&&!this._growAfterOpen&&(tt=xe.y-Kt/2)}if("end"===Ee.overlayX&&!ct||"start"===Ee.overlayX&&ct)ze=Ge.width-xe.x+this._viewportMargin,Dt=xe.x-this._viewportMargin;else if("start"===Ee.overlayX&&!ct||"end"===Ee.overlayX&&ct)fe=xe.x,Dt=Ge.right-xe.x;else{const Tt=Math.min(Ge.right-xe.x+Ge.left,xe.x),Kt=this._lastBoundingBoxSize.width;Dt=2*Tt,fe=xe.x-Tt,Dt>Kt&&!this._isInitialRender&&!this._growAfterOpen&&(fe=xe.x-Kt/2)}return{top:tt,left:fe,bottom:gt,right:ze,width:Dt,height:Xe}}_setBoundingBoxStyles(xe,Ee){const Ge=this._calculateBoundingBoxRect(xe,Ee);!this._isInitialRender&&!this._growAfterOpen&&(Ge.height=Math.min(Ge.height,this._lastBoundingBoxSize.height),Ge.width=Math.min(Ge.width,this._lastBoundingBoxSize.width));const ct={};if(this._hasExactPosition())ct.top=ct.left="0",ct.bottom=ct.right=ct.maxHeight=ct.maxWidth="",ct.width=ct.height="100%";else{const Xe=this._overlayRef.getConfig().maxHeight,tt=this._overlayRef.getConfig().maxWidth;ct.height=(0,b.HM)(Ge.height),ct.top=(0,b.HM)(Ge.top),ct.bottom=(0,b.HM)(Ge.bottom),ct.width=(0,b.HM)(Ge.width),ct.left=(0,b.HM)(Ge.left),ct.right=(0,b.HM)(Ge.right),ct.alignItems="center"===Ee.overlayX?"center":"end"===Ee.overlayX?"flex-end":"flex-start",ct.justifyContent="center"===Ee.overlayY?"center":"bottom"===Ee.overlayY?"flex-end":"flex-start",Xe&&(ct.maxHeight=(0,b.HM)(Xe)),tt&&(ct.maxWidth=(0,b.HM)(tt))}this._lastBoundingBoxSize=Ge,we(this._boundingBox.style,ct)}_resetBoundingBoxStyles(){we(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){we(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(xe,Ee){const Ge={},ct=this._hasExactPosition(),Xe=this._hasFlexibleDimensions,tt=this._overlayRef.getConfig();if(ct){const Dt=this._viewportRuler.getViewportScrollPosition();we(Ge,this._getExactOverlayY(Ee,xe,Dt)),we(Ge,this._getExactOverlayX(Ee,xe,Dt))}else Ge.position="static";let gt="",Qe=this._getOffset(Ee,"x"),yt=this._getOffset(Ee,"y");Qe&&(gt+=`translateX(${Qe}px) `),yt&&(gt+=`translateY(${yt}px)`),Ge.transform=gt.trim(),tt.maxHeight&&(ct?Ge.maxHeight=(0,b.HM)(tt.maxHeight):Xe&&(Ge.maxHeight="")),tt.maxWidth&&(ct?Ge.maxWidth=(0,b.HM)(tt.maxWidth):Xe&&(Ge.maxWidth="")),we(this._pane.style,Ge)}_getExactOverlayY(xe,Ee,Ge){let ct={top:"",bottom:""},Xe=this._getOverlayPoint(Ee,this._overlayRect,xe);return this._isPushed&&(Xe=this._pushOverlayOnScreen(Xe,this._overlayRect,Ge)),"bottom"===xe.overlayY?ct.bottom=this._document.documentElement.clientHeight-(Xe.y+this._overlayRect.height)+"px":ct.top=(0,b.HM)(Xe.y),ct}_getExactOverlayX(xe,Ee,Ge){let tt,ct={left:"",right:""},Xe=this._getOverlayPoint(Ee,this._overlayRect,xe);return this._isPushed&&(Xe=this._pushOverlayOnScreen(Xe,this._overlayRect,Ge)),tt=this._isRtl()?"end"===xe.overlayX?"left":"right":"end"===xe.overlayX?"right":"left","right"===tt?ct.right=this._document.documentElement.clientWidth-(Xe.x+this._overlayRect.width)+"px":ct.left=(0,b.HM)(Xe.x),ct}_getScrollVisibility(){const xe=this._getOriginRect(),Ee=this._pane.getBoundingClientRect(),Ge=this._scrollables.map(ct=>ct.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:B(xe,Ge),isOriginOutsideView:y(xe,Ge),isOverlayClipped:B(Ee,Ge),isOverlayOutsideView:y(Ee,Ge)}}_subtractOverflows(xe,...Ee){return Ee.reduce((Ge,ct)=>Ge-Math.max(ct,0),xe)}_getNarrowedViewportRect(){const xe=this._document.documentElement.clientWidth,Ee=this._document.documentElement.clientHeight,Ge=this._viewportRuler.getViewportScrollPosition();return{top:Ge.top+this._viewportMargin,left:Ge.left+this._viewportMargin,right:Ge.left+xe-this._viewportMargin,bottom:Ge.top+Ee-this._viewportMargin,width:xe-2*this._viewportMargin,height:Ee-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(xe,Ee){return"x"===Ee?null==xe.offsetX?this._offsetX:xe.offsetX:null==xe.offsetY?this._offsetY:xe.offsetY}_validatePositions(){}_addPanelClasses(xe){this._pane&&(0,b.Eq)(xe).forEach(Ee=>{""!==Ee&&-1===this._appliedPanelClasses.indexOf(Ee)&&(this._appliedPanelClasses.push(Ee),this._pane.classList.add(Ee))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(xe=>{this._pane.classList.remove(xe)}),this._appliedPanelClasses=[])}_getOriginRect(){const xe=this._origin;if(xe instanceof v.SBq)return xe.nativeElement.getBoundingClientRect();if(xe instanceof Element)return xe.getBoundingClientRect();const Ee=xe.width||0,Ge=xe.height||0;return{top:xe.y,bottom:xe.y+Ge,left:xe.x,right:xe.x+Ee,height:Ge,width:Ee}}}function we(_e,xe){for(let Ee in xe)xe.hasOwnProperty(Ee)&&(_e[Ee]=xe[Ee]);return _e}function Te(_e){if("number"!=typeof _e&&null!=_e){const[xe,Ee]=_e.split(ke);return Ee&&"px"!==Ee?null:parseFloat(xe)}return _e||null}function Oe(_e){return{top:Math.floor(_e.top),right:Math.floor(_e.right),bottom:Math.floor(_e.bottom),left:Math.floor(_e.left),width:Math.floor(_e.width),height:Math.floor(_e.height)}}const Ze="cdk-global-overlay-wrapper";class Re{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(xe){const Ee=xe.getConfig();this._overlayRef=xe,this._width&&!Ee.width&&xe.updateSize({width:this._width}),this._height&&!Ee.height&&xe.updateSize({height:this._height}),xe.hostElement.classList.add(Ze),this._isDisposed=!1}top(xe=""){return this._bottomOffset="",this._topOffset=xe,this._alignItems="flex-start",this}left(xe=""){return this._xOffset=xe,this._xPosition="left",this}bottom(xe=""){return this._topOffset="",this._bottomOffset=xe,this._alignItems="flex-end",this}right(xe=""){return this._xOffset=xe,this._xPosition="right",this}start(xe=""){return this._xOffset=xe,this._xPosition="start",this}end(xe=""){return this._xOffset=xe,this._xPosition="end",this}width(xe=""){return this._overlayRef?this._overlayRef.updateSize({width:xe}):this._width=xe,this}height(xe=""){return this._overlayRef?this._overlayRef.updateSize({height:xe}):this._height=xe,this}centerHorizontally(xe=""){return this.left(xe),this._xPosition="center",this}centerVertically(xe=""){return this.top(xe),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const xe=this._overlayRef.overlayElement.style,Ee=this._overlayRef.hostElement.style,Ge=this._overlayRef.getConfig(),{width:ct,height:Xe,maxWidth:tt,maxHeight:gt}=Ge,Qe=!("100%"!==ct&&"100vw"!==ct||tt&&"100%"!==tt&&"100vw"!==tt),yt=!("100%"!==Xe&&"100vh"!==Xe||gt&&"100%"!==gt&&"100vh"!==gt),Dt=this._xPosition,fe=this._xOffset,ze="rtl"===this._overlayRef.getConfig().direction;let Tt="",Kt="",Jt="";Qe?Jt="flex-start":"center"===Dt?(Jt="center",ze?Kt=fe:Tt=fe):ze?"left"===Dt||"end"===Dt?(Jt="flex-end",Tt=fe):("right"===Dt||"start"===Dt)&&(Jt="flex-start",Kt=fe):"left"===Dt||"start"===Dt?(Jt="flex-start",Tt=fe):("right"===Dt||"end"===Dt)&&(Jt="flex-end",Kt=fe),xe.position=this._cssPosition,xe.marginLeft=Qe?"0":Tt,xe.marginTop=yt?"0":this._topOffset,xe.marginBottom=this._bottomOffset,xe.marginRight=Qe?"0":Kt,Ee.justifyContent=Jt,Ee.alignItems=yt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const xe=this._overlayRef.overlayElement.style,Ee=this._overlayRef.hostElement,Ge=Ee.style;Ee.classList.remove(Ze),Ge.justifyContent=Ge.alignItems=xe.marginTop=xe.marginBottom=xe.marginLeft=xe.marginRight=xe.position="",this._overlayRef=null,this._isDisposed=!0}}let be=(()=>{class _e{constructor(Ee,Ge,ct,Xe){this._viewportRuler=Ee,this._document=Ge,this._platform=ct,this._overlayContainer=Xe}global(){return new Re}flexibleConnectedTo(Ee){return new he(Ee,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(Ge){return new(Ge||_e)(v.LFG(e.rL),v.LFG(t.K0),v.LFG(_.t4),v.LFG(Ce))};static#t=this.\u0275prov=v.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})(),Q=0,ie=(()=>{class _e{constructor(Ee,Ge,ct,Xe,tt,gt,Qe,yt,Dt,fe,ze,Tt){this.scrollStrategies=Ee,this._overlayContainer=Ge,this._componentFactoryResolver=ct,this._positionBuilder=Xe,this._keyboardDispatcher=tt,this._injector=gt,this._ngZone=Qe,this._document=yt,this._directionality=Dt,this._location=fe,this._outsideClickDispatcher=ze,this._animationsModuleType=Tt}create(Ee){const Ge=this._createHostElement(),ct=this._createPaneElement(Ge),Xe=this._createPortalOutlet(ct),tt=new ae(Ee);return tt.direction=tt.direction||this._directionality.value,new pe(Xe,Ge,ct,tt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(Ee){const Ge=this._document.createElement("div");return Ge.id="cdk-overlay-"+Q++,Ge.classList.add("cdk-overlay-pane"),Ee.appendChild(Ge),Ge}_createHostElement(){const Ee=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Ee),Ee}_createPortalOutlet(Ee){return this._appRef||(this._appRef=this._injector.get(v.z2F)),new g.u0(Ee,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(Ge){return new(Ge||_e)(v.LFG(ne),v.LFG(Ce),v.LFG(v._Vd),v.LFG(be),v.LFG(ge),v.LFG(v.zs3),v.LFG(v.R0b),v.LFG(t.K0),v.LFG(f.Is),v.LFG(t.Ye),v.LFG(Ie),v.LFG(v.QbO,8))};static#t=this.\u0275prov=v.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})();const ye=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],oe=new v.OlP("cdk-connected-overlay-scroll-strategy");let ee=(()=>{class _e{constructor(Ee){this.elementRef=Ee}static#e=this.\u0275fac=function(Ge){return new(Ge||_e)(v.Y36(v.SBq))};static#t=this.\u0275dir=v.lG2({type:_e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return _e})(),X=(()=>{class _e{get offsetX(){return this._offsetX}set offsetX(Ee){this._offsetX=Ee,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(Ee){this._offsetY=Ee,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(Ee){this._hasBackdrop=(0,b.Ig)(Ee)}get lockPosition(){return this._lockPosition}set lockPosition(Ee){this._lockPosition=(0,b.Ig)(Ee)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(Ee){this._flexibleDimensions=(0,b.Ig)(Ee)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(Ee){this._growAfterOpen=(0,b.Ig)(Ee)}get push(){return this._push}set push(Ee){this._push=(0,b.Ig)(Ee)}constructor(Ee,Ge,ct,Xe,tt){this._overlay=Ee,this._dir=tt,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=x.w0.EMPTY,this._attachSubscription=x.w0.EMPTY,this._detachSubscription=x.w0.EMPTY,this._positionSubscription=x.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new v.vpe,this.positionChange=new v.vpe,this.attach=new v.vpe,this.detach=new v.vpe,this.overlayKeydown=new v.vpe,this.overlayOutsideClick=new v.vpe,this._templatePortal=new g.UE(Ge,ct),this._scrollStrategyFactory=Xe,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(Ee){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),Ee.origin&&this.open&&this._position.apply()),Ee.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=ye);const Ee=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=Ee.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=Ee.detachments().subscribe(()=>this.detach.emit()),Ee.keydownEvents().subscribe(Ge=>{this.overlayKeydown.next(Ge),Ge.keyCode===N.hY&&!this.disableClose&&!(0,N.Vb)(Ge)&&(Ge.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Ge=>{this.overlayOutsideClick.next(Ge)})}_buildConfig(){const Ee=this._position=this.positionStrategy||this._createPositionStrategy(),Ge=new ae({direction:this._dir,positionStrategy:Ee,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(Ge.width=this.width),(this.height||0===this.height)&&(Ge.height=this.height),(this.minWidth||0===this.minWidth)&&(Ge.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Ge.minHeight=this.minHeight),this.backdropClass&&(Ge.backdropClass=this.backdropClass),this.panelClass&&(Ge.panelClass=this.panelClass),Ge}_updatePositionStrategy(Ee){const Ge=this.positions.map(ct=>({originX:ct.originX,originY:ct.originY,overlayX:ct.overlayX,overlayY:ct.overlayY,offsetX:ct.offsetX||this.offsetX,offsetY:ct.offsetY||this.offsetY,panelClass:ct.panelClass||void 0}));return Ee.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(Ge).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const Ee=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(Ee),Ee}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof ee?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(Ee=>{this.backdropClick.emit(Ee)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function d(_e,xe=!1){return(0,i.e)((Ee,Ge)=>{let ct=0;Ee.subscribe((0,c.x)(Ge,Xe=>{const tt=_e(Xe,ct++);(tt||xe)&&Ge.next(Xe),!tt&&Ge.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(Ee=>{this.positionChange.emit(Ee),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(Ge){return new(Ge||_e)(v.Y36(ie),v.Y36(v.Rgc),v.Y36(v.s_b),v.Y36(oe),v.Y36(f.Is,8))};static#t=this.\u0275dir=v.lG2({type:_e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[v.TTD]})}return _e})();const re={provide:oe,deps:[ie],useFactory:function $(_e){return()=>_e.scrollStrategies.reposition()}};let J=(()=>{class _e{static#e=this.\u0275fac=function(Ge){return new(Ge||_e)};static#t=this.\u0275mod=v.oAB({type:_e});static#n=this.\u0275inj=v.cJS({providers:[ie,re],imports:[f.vT,g.eL,e.Cl,e.Cl]})}return _e})()},2831:(Wn,et,p)=>{"use strict";p.d(et,{Mq:()=>S,Oy:()=>T,ht:()=>D,i$:()=>d,kV:()=>O,qK:()=>m,sA:()=>I,t4:()=>b});var e=p(5879),t=p(6814);let v;try{v=typeof Intl<"u"&&Intl.v8BreakIterator}catch{v=!1}let P,b=(()=>{class L{constructor(B){this._platformId=B,this.isBrowser=this._platformId?(0,t.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!v)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(z){return new(z||L)(e.LFG(e.Lbi))};static#t=this.\u0275prov=e.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})();const C=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function m(){if(P)return P;if("object"!=typeof document||!document)return P=new Set(C),P;let L=document.createElement("input");return P=new Set(C.filter(y=>(L.setAttribute("type",y),L.type===y))),P}let i,g,A;function d(L){return function c(){if(null==i&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>i=!0}))}finally{i=i||!1}return i}()?L:!!L.capture}function S(){if(null==g){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return g=!1,g;if("scrollBehavior"in document.documentElement.style)g=!0;else{const L=Element.prototype.scrollTo;g=!!L&&!/\{\s*\[native code\]\s*\}/.test(L.toString())}}return g}function O(L){if(function N(){if(null==A){const L=typeof document<"u"?document.head:null;A=!(!L||!L.createShadowRoot&&!L.attachShadow)}return A}()){const y=L.getRootNode?L.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&y instanceof ShadowRoot)return y}return null}function D(){let L=typeof document<"u"&&document?document.activeElement:null;for(;L&&L.shadowRoot;){const y=L.shadowRoot.activeElement;if(y===L)break;L=y}return L}function I(L){return L.composedPath?L.composedPath()[0]:L.target}function T(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8484:(Wn,et,p)=>{"use strict";p.d(et,{C5:()=>c,Pl:()=>D,UE:()=>d,eL:()=>T,en:()=>g,u0:()=>x});var e=p(5879),t=p(6814);class i{attach(B){return this._attachedHost=B,B.attach(this)}detach(){let B=this._attachedHost;null!=B&&(this._attachedHost=null,B.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(B){this._attachedHost=B}}class c extends i{constructor(B,z,ne,ae,Fe){super(),this.component=B,this.viewContainerRef=z,this.injector=ne,this.componentFactoryResolver=ae,this.projectableNodes=Fe}}class d extends i{constructor(B,z,ne,ae){super(),this.templateRef=B,this.viewContainerRef=z,this.context=ne,this.injector=ae}get origin(){return this.templateRef.elementRef}attach(B,z=this.context){return this.context=z,super.attach(B)}detach(){return this.context=void 0,super.detach()}}class f extends i{constructor(B){super(),this.element=B instanceof e.SBq?B.nativeElement:B}}class g{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(B){return B instanceof c?(this._attachedPortal=B,this.attachComponentPortal(B)):B instanceof d?(this._attachedPortal=B,this.attachTemplatePortal(B)):this.attachDomPortal&&B instanceof f?(this._attachedPortal=B,this.attachDomPortal(B)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(B){this._disposeFn=B}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class x extends g{constructor(B,z,ne,ae,Fe){super(),this.outletElement=B,this._componentFactoryResolver=z,this._appRef=ne,this._defaultInjector=ae,this.attachDomPortal=Y=>{const le=Y.element,G=this._document.createComment("dom-portal");le.parentNode.insertBefore(G,le),this.outletElement.appendChild(le),this._attachedPortal=Y,super.setDisposeFn(()=>{G.parentNode&&G.parentNode.replaceChild(le,G)})},this._document=Fe}attachComponentPortal(B){const ne=(B.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(B.component);let ae;return B.viewContainerRef?(ae=B.viewContainerRef.createComponent(ne,B.viewContainerRef.length,B.injector||B.viewContainerRef.injector,B.projectableNodes||void 0),this.setDisposeFn(()=>ae.destroy())):(ae=ne.create(B.injector||this._defaultInjector||e.zs3.NULL),this._appRef.attachView(ae.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(ae.hostView),ae.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(ae)),this._attachedPortal=B,ae}attachTemplatePortal(B){let z=B.viewContainerRef,ne=z.createEmbeddedView(B.templateRef,B.context,{injector:B.injector});return ne.rootNodes.forEach(ae=>this.outletElement.appendChild(ae)),ne.detectChanges(),this.setDisposeFn(()=>{let ae=z.indexOf(ne);-1!==ae&&z.remove(ae)}),this._attachedPortal=B,ne}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(B){return B.hostView.rootNodes[0]}}let D=(()=>{class y extends g{constructor(z,ne,ae){super(),this._componentFactoryResolver=z,this._viewContainerRef=ne,this._isInitialized=!1,this.attached=new e.vpe,this.attachDomPortal=Fe=>{const Y=Fe.element,le=this._document.createComment("dom-portal");Fe.setAttachedHost(this),Y.parentNode.insertBefore(le,Y),this._getRootNode().appendChild(Y),this._attachedPortal=Fe,super.setDisposeFn(()=>{le.parentNode&&le.parentNode.replaceChild(Y,le)})},this._document=ae}get portal(){return this._attachedPortal}set portal(z){this.hasAttached()&&!z&&!this._isInitialized||(this.hasAttached()&&super.detach(),z&&super.attach(z),this._attachedPortal=z||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(z){z.setAttachedHost(this);const ne=null!=z.viewContainerRef?z.viewContainerRef:this._viewContainerRef,Fe=(z.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(z.component),Y=ne.createComponent(Fe,ne.length,z.injector||ne.injector,z.projectableNodes||void 0);return ne!==this._viewContainerRef&&this._getRootNode().appendChild(Y.hostView.rootNodes[0]),super.setDisposeFn(()=>Y.destroy()),this._attachedPortal=z,this._attachedRef=Y,this.attached.emit(Y),Y}attachTemplatePortal(z){z.setAttachedHost(this);const ne=this._viewContainerRef.createEmbeddedView(z.templateRef,z.context,{injector:z.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=z,this._attachedRef=ne,this.attached.emit(ne),ne}_getRootNode(){const z=this._viewContainerRef.element.nativeElement;return z.nodeType===z.ELEMENT_NODE?z:z.parentNode}static#e=this.\u0275fac=function(ne){return new(ne||y)(e.Y36(e._Vd),e.Y36(e.s_b),e.Y36(t.K0))};static#t=this.\u0275dir=e.lG2({type:y,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[e.qOj]})}return y})(),T=(()=>{class y{static#e=this.\u0275fac=function(ne){return new(ne||y)};static#t=this.\u0275mod=e.oAB({type:y});static#n=this.\u0275inj=e.cJS({})}return y})()},799:(Wn,et,p)=>{"use strict";p.d(et,{ZD:()=>_e,mF:()=>Ze,Cl:()=>xe,rL:()=>Q});var e=p(2495),t=p(5879),v=p(8645),b=p(2096),_=p(5592),P=p(2438),C=p(1954),m=p(7394);const i={schedule(Ee){let Ge=requestAnimationFrame,ct=cancelAnimationFrame;const{delegate:Xe}=i;Xe&&(Ge=Xe.requestAnimationFrame,ct=Xe.cancelAnimationFrame);const tt=Ge(gt=>{ct=void 0,Ee(gt)});return new m.w0(()=>ct?.(tt))},requestAnimationFrame(...Ee){const{delegate:Ge}=i;return(Ge?.requestAnimationFrame||requestAnimationFrame)(...Ee)},cancelAnimationFrame(...Ee){const{delegate:Ge}=i;return(Ge?.cancelAnimationFrame||cancelAnimationFrame)(...Ee)},delegate:void 0};var d=p(2631);new class f extends d.v{flush(Ge){this._active=!0;const ct=this._scheduled;this._scheduled=void 0;const{actions:Xe}=this;let tt;Ge=Ge||Xe.shift();do{if(tt=Ge.execute(Ge.state,Ge.delay))break}while((Ge=Xe[0])&&Ge.id===ct&&Xe.shift());if(this._active=!1,tt){for(;(Ge=Xe[0])&&Ge.id===ct&&Xe.shift();)Ge.unsubscribe();throw tt}}}(class c extends C.o{constructor(Ge,ct){super(Ge,ct),this.scheduler=Ge,this.work=ct}requestAsyncId(Ge,ct,Xe=0){return null!==Xe&&Xe>0?super.requestAsyncId(Ge,ct,Xe):(Ge.actions.push(this),Ge._scheduled||(Ge._scheduled=i.requestAnimationFrame(()=>Ge.flush(void 0))))}recycleAsyncId(Ge,ct,Xe=0){var tt;if(null!=Xe?Xe>0:this.delay>0)return super.recycleAsyncId(Ge,ct,Xe);const{actions:gt}=Ge;null!=ct&&(null===(tt=gt[gt.length-1])||void 0===tt?void 0:tt.id)!==ct&&(i.cancelAnimationFrame(ct),Ge._scheduled=void 0)}});let A,x=1;const N={};function O(Ee){return Ee in N&&(delete N[Ee],!0)}const D={setImmediate(Ee){const Ge=x++;return N[Ge]=!0,A||(A=Promise.resolve()),A.then(()=>O(Ge)&&Ee()),Ge},clearImmediate(Ee){O(Ee)}},{setImmediate:T,clearImmediate:L}=D,y={setImmediate(...Ee){const{delegate:Ge}=y;return(Ge?.setImmediate||T)(...Ee)},clearImmediate(Ee){const{delegate:Ge}=y;return(Ge?.clearImmediate||L)(Ee)},delegate:void 0};new class z extends d.v{flush(Ge){this._active=!0;const ct=this._scheduled;this._scheduled=void 0;const{actions:Xe}=this;let tt;Ge=Ge||Xe.shift();do{if(tt=Ge.execute(Ge.state,Ge.delay))break}while((Ge=Xe[0])&&Ge.id===ct&&Xe.shift());if(this._active=!1,tt){for(;(Ge=Xe[0])&&Ge.id===ct&&Xe.shift();)Ge.unsubscribe();throw tt}}}(class B extends C.o{constructor(Ge,ct){super(Ge,ct),this.scheduler=Ge,this.work=ct}requestAsyncId(Ge,ct,Xe=0){return null!==Xe&&Xe>0?super.requestAsyncId(Ge,ct,Xe):(Ge.actions.push(this),Ge._scheduled||(Ge._scheduled=y.setImmediate(Ge.flush.bind(Ge,void 0))))}recycleAsyncId(Ge,ct,Xe=0){var tt;if(null!=Xe?Xe>0:this.delay>0)return super.recycleAsyncId(Ge,ct,Xe);const{actions:gt}=Ge;null!=ct&&(null===(tt=gt[gt.length-1])||void 0===tt?void 0:tt.id)!==ct&&(y.clearImmediate(ct),Ge._scheduled===ct&&(Ge._scheduled=void 0))}});var Fe=p(6321),Y=p(9360),le=p(4829),G=p(8251),ce=p(4825);function ge(Ee,Ge=Fe.z){return function Se(Ee){return(0,Y.e)((Ge,ct)=>{let Xe=!1,tt=null,gt=null,Qe=!1;const yt=()=>{if(gt?.unsubscribe(),gt=null,Xe){Xe=!1;const fe=tt;tt=null,ct.next(fe)}Qe&&ct.complete()},Dt=()=>{gt=null,Qe&&ct.complete()};Ge.subscribe((0,G.x)(ct,fe=>{Xe=!0,tt=fe,gt||(0,le.Xf)(Ee(fe)).subscribe(gt=(0,G.x)(ct,yt,Dt))},()=>{Qe=!0,(!Xe||!gt||gt.closed)&&ct.complete()}))})}(()=>(0,ce.H)(Ee,Ge))}var Ie=p(2181),Ce=p(2831),pe=p(6814),Ae=p(9388);let Ze=(()=>{class Ee{constructor(ct,Xe,tt){this._ngZone=ct,this._platform=Xe,this._scrolled=new v.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=tt}register(ct){this.scrollContainers.has(ct)||this.scrollContainers.set(ct,ct.elementScrolled().subscribe(()=>this._scrolled.next(ct)))}deregister(ct){const Xe=this.scrollContainers.get(ct);Xe&&(Xe.unsubscribe(),this.scrollContainers.delete(ct))}scrolled(ct=20){return this._platform.isBrowser?new _.y(Xe=>{this._globalSubscription||this._addGlobalListener();const tt=ct>0?this._scrolled.pipe(ge(ct)).subscribe(Xe):this._scrolled.subscribe(Xe);return this._scrolledCount++,()=>{tt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,b.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ct,Xe)=>this.deregister(Xe)),this._scrolled.complete()}ancestorScrolled(ct,Xe){const tt=this.getAncestorScrollContainers(ct);return this.scrolled(Xe).pipe((0,Ie.h)(gt=>!gt||tt.indexOf(gt)>-1))}getAncestorScrollContainers(ct){const Xe=[];return this.scrollContainers.forEach((tt,gt)=>{this._scrollableContainsElement(gt,ct)&&Xe.push(gt)}),Xe}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ct,Xe){let tt=(0,e.fI)(Xe),gt=ct.getElementRef().nativeElement;do{if(tt==gt)return!0}while(tt=tt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ct=this._getWindow();return(0,P.R)(ct.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(Xe){return new(Xe||Ee)(t.LFG(t.R0b),t.LFG(Ce.t4),t.LFG(pe.K0,8))};static#t=this.\u0275prov=t.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})(),Q=(()=>{class Ee{constructor(ct,Xe,tt){this._platform=ct,this._change=new v.x,this._changeListener=gt=>{this._change.next(gt)},this._document=tt,Xe.runOutsideAngular(()=>{if(ct.isBrowser){const gt=this._getWindow();gt.addEventListener("resize",this._changeListener),gt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ct=this._getWindow();ct.removeEventListener("resize",this._changeListener),ct.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ct={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ct}getViewportRect(){const ct=this.getViewportScrollPosition(),{width:Xe,height:tt}=this.getViewportSize();return{top:ct.top,left:ct.left,bottom:ct.top+tt,right:ct.left+Xe,height:tt,width:Xe}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ct=this._document,Xe=this._getWindow(),tt=ct.documentElement,gt=tt.getBoundingClientRect();return{top:-gt.top||ct.body.scrollTop||Xe.scrollY||tt.scrollTop||0,left:-gt.left||ct.body.scrollLeft||Xe.scrollX||tt.scrollLeft||0}}change(ct=20){return ct>0?this._change.pipe(ge(ct)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ct=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ct.innerWidth,height:ct.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(Xe){return new(Xe||Ee)(t.LFG(Ce.t4),t.LFG(t.R0b),t.LFG(pe.K0,8))};static#t=this.\u0275prov=t.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})(),_e=(()=>{class Ee{static#e=this.\u0275fac=function(Xe){return new(Xe||Ee)};static#t=this.\u0275mod=t.oAB({type:Ee});static#n=this.\u0275inj=t.cJS({})}return Ee})(),xe=(()=>{class Ee{static#e=this.\u0275fac=function(Xe){return new(Xe||Ee)};static#t=this.\u0275mod=t.oAB({type:Ee});static#n=this.\u0275inj=t.cJS({imports:[Ae.vT,_e,Ae.vT,_e]})}return Ee})()},6814:(Wn,et,p)=>{"use strict";p.d(et,{Do:()=>A,ED:()=>$r,EM:()=>Ws,HT:()=>b,JF:()=>Yr,K0:()=>P,Mn:()=>Se,Mx:()=>kt,NF:()=>cs,O5:()=>Ft,Ov:()=>ls,PM:()=>ds,RF:()=>vi,S$:()=>g,Tn:()=>ne,UT:()=>ce,V_:()=>m,Ye:()=>N,ax:()=>Ut,b0:()=>x,bD:()=>Bo,ez:()=>Fo,mk:()=>en,mr:()=>S,n9:()=>Er,p6:()=>Ge,q:()=>v,sg:()=>Ut,tP:()=>Do,uU:()=>Rr,w_:()=>_,x:()=>z});var e=p(5879);let t=null;function v(){return t}function b($e){t||(t=$e)}class _{}const P=new e.OlP("DocumentToken");let C=(()=>{class $e{historyGo(mt){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)};static#t=this.\u0275prov=e.Yz7({token:$e,factory:function(){return(0,e.f3M)(i)},providedIn:"platform"})}return $e})();const m=new e.OlP("Location Initialized");let i=(()=>{class $e extends C{constructor(){super(),this._doc=(0,e.f3M)(P),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return v().getBaseHref(this._doc)}onPopState(mt){const Vt=v().getGlobalEventTarget(this._doc,"window");return Vt.addEventListener("popstate",mt,!1),()=>Vt.removeEventListener("popstate",mt)}onHashChange(mt){const Vt=v().getGlobalEventTarget(this._doc,"window");return Vt.addEventListener("hashchange",mt,!1),()=>Vt.removeEventListener("hashchange",mt)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(mt){this._location.pathname=mt}pushState(mt,Vt,Sn){this._history.pushState(mt,Vt,Sn)}replaceState(mt,Vt,Sn){this._history.replaceState(mt,Vt,Sn)}forward(){this._history.forward()}back(){this._history.back()}historyGo(mt=0){this._history.go(mt)}getState(){return this._history.state}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)};static#t=this.\u0275prov=e.Yz7({token:$e,factory:function(){return new $e},providedIn:"platform"})}return $e})();function c($e,Yt){if(0==$e.length)return Yt;if(0==Yt.length)return $e;let mt=0;return $e.endsWith("/")&&mt++,Yt.startsWith("/")&&mt++,2==mt?$e+Yt.substring(1):1==mt?$e+Yt:$e+"/"+Yt}function d($e){const Yt=$e.match(/#|\?|$/),mt=Yt&&Yt.index||$e.length;return $e.slice(0,mt-("/"===$e[mt-1]?1:0))+$e.slice(mt)}function f($e){return $e&&"?"!==$e[0]?"?"+$e:$e}let g=(()=>{class $e{historyGo(mt){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)};static#t=this.\u0275prov=e.Yz7({token:$e,factory:function(){return(0,e.f3M)(x)},providedIn:"root"})}return $e})();const S=new e.OlP("appBaseHref");let x=(()=>{class $e extends g{constructor(mt,Vt){super(),this._platformLocation=mt,this._removeListenerFns=[],this._baseHref=Vt??this._platformLocation.getBaseHrefFromDOM()??(0,e.f3M)(P).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(mt){this._removeListenerFns.push(this._platformLocation.onPopState(mt),this._platformLocation.onHashChange(mt))}getBaseHref(){return this._baseHref}prepareExternalUrl(mt){return c(this._baseHref,mt)}path(mt=!1){const Vt=this._platformLocation.pathname+f(this._platformLocation.search),Sn=this._platformLocation.hash;return Sn&&mt?`${Vt}${Sn}`:Vt}pushState(mt,Vt,Sn,Zn){const ai=this.prepareExternalUrl(Sn+f(Zn));this._platformLocation.pushState(mt,Vt,ai)}replaceState(mt,Vt,Sn,Zn){const ai=this.prepareExternalUrl(Sn+f(Zn));this._platformLocation.replaceState(mt,Vt,ai)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(mt=0){this._platformLocation.historyGo?.(mt)}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)(e.LFG(C),e.LFG(S,8))};static#t=this.\u0275prov=e.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"})}return $e})(),A=(()=>{class $e extends g{constructor(mt,Vt){super(),this._platformLocation=mt,this._baseHref="",this._removeListenerFns=[],null!=Vt&&(this._baseHref=Vt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(mt){this._removeListenerFns.push(this._platformLocation.onPopState(mt),this._platformLocation.onHashChange(mt))}getBaseHref(){return this._baseHref}path(mt=!1){let Vt=this._platformLocation.hash;return null==Vt&&(Vt="#"),Vt.length>0?Vt.substring(1):Vt}prepareExternalUrl(mt){const Vt=c(this._baseHref,mt);return Vt.length>0?"#"+Vt:Vt}pushState(mt,Vt,Sn,Zn){let ai=this.prepareExternalUrl(Sn+f(Zn));0==ai.length&&(ai=this._platformLocation.pathname),this._platformLocation.pushState(mt,Vt,ai)}replaceState(mt,Vt,Sn,Zn){let ai=this.prepareExternalUrl(Sn+f(Zn));0==ai.length&&(ai=this._platformLocation.pathname),this._platformLocation.replaceState(mt,Vt,ai)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(mt=0){this._platformLocation.historyGo?.(mt)}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)(e.LFG(C),e.LFG(S,8))};static#t=this.\u0275prov=e.Yz7({token:$e,factory:$e.\u0275fac})}return $e})(),N=(()=>{class $e{constructor(mt){this._subject=new e.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=mt;const Vt=this._locationStrategy.getBaseHref();this._basePath=function T($e){if(new RegExp("^(https?:)?//").test($e)){const[,mt]=$e.split(/\/\/[^\/]+/);return mt}return $e}(d(I(Vt))),this._locationStrategy.onPopState(Sn=>{this._subject.emit({url:this.path(!0),pop:!0,state:Sn.state,type:Sn.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(mt=!1){return this.normalize(this._locationStrategy.path(mt))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(mt,Vt=""){return this.path()==this.normalize(mt+f(Vt))}normalize(mt){return $e.stripTrailingSlash(function D($e,Yt){if(!$e||!Yt.startsWith($e))return Yt;const mt=Yt.substring($e.length);return""===mt||["/",";","?","#"].includes(mt[0])?mt:Yt}(this._basePath,I(mt)))}prepareExternalUrl(mt){return mt&&"/"!==mt[0]&&(mt="/"+mt),this._locationStrategy.prepareExternalUrl(mt)}go(mt,Vt="",Sn=null){this._locationStrategy.pushState(Sn,"",mt,Vt),this._notifyUrlChangeListeners(this.prepareExternalUrl(mt+f(Vt)),Sn)}replaceState(mt,Vt="",Sn=null){this._locationStrategy.replaceState(Sn,"",mt,Vt),this._notifyUrlChangeListeners(this.prepareExternalUrl(mt+f(Vt)),Sn)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(mt=0){this._locationStrategy.historyGo?.(mt)}onUrlChange(mt){return this._urlChangeListeners.push(mt),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Vt=>{this._notifyUrlChangeListeners(Vt.url,Vt.state)})),()=>{const Vt=this._urlChangeListeners.indexOf(mt);this._urlChangeListeners.splice(Vt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(mt="",Vt){this._urlChangeListeners.forEach(Sn=>Sn(mt,Vt))}subscribe(mt,Vt,Sn){return this._subject.subscribe({next:mt,error:Vt,complete:Sn})}static#e=this.normalizeQueryParams=f;static#t=this.joinWithSlash=c;static#n=this.stripTrailingSlash=d;static#i=this.\u0275fac=function(Vt){return new(Vt||$e)(e.LFG(g))};static#r=this.\u0275prov=e.Yz7({token:$e,factory:function(){return function O(){return new N((0,e.LFG)(g))}()},providedIn:"root"})}return $e})();function I($e){return $e.replace(/\/index.html$/,"")}var z=function($e){return $e[$e.Format=0]="Format",$e[$e.Standalone=1]="Standalone",$e}(z||{}),ne=function($e){return $e[$e.Narrow=0]="Narrow",$e[$e.Abbreviated=1]="Abbreviated",$e[$e.Wide=2]="Wide",$e[$e.Short=3]="Short",$e}(ne||{}),ae=function($e){return $e[$e.Short=0]="Short",$e[$e.Medium=1]="Medium",$e[$e.Long=2]="Long",$e[$e.Full=3]="Full",$e}(ae||{}),Fe=function($e){return $e[$e.Decimal=0]="Decimal",$e[$e.Group=1]="Group",$e[$e.List=2]="List",$e[$e.PercentSign=3]="PercentSign",$e[$e.PlusSign=4]="PlusSign",$e[$e.MinusSign=5]="MinusSign",$e[$e.Exponential=6]="Exponential",$e[$e.SuperscriptingExponent=7]="SuperscriptingExponent",$e[$e.PerMille=8]="PerMille",$e[$e.Infinity=9]="Infinity",$e[$e.NaN=10]="NaN",$e[$e.TimeSeparator=11]="TimeSeparator",$e[$e.CurrencyDecimal=12]="CurrencyDecimal",$e[$e.CurrencyGroup=13]="CurrencyGroup",$e}(Fe||{});function Se($e,Yt,mt){const Vt=(0,e.cg1)($e),Zn=ye([Vt[e.wAp.DaysFormat],Vt[e.wAp.DaysStandalone]],Yt);return ye(Zn,mt)}function ce($e,Yt,mt){const Vt=(0,e.cg1)($e),Zn=ye([Vt[e.wAp.MonthsFormat],Vt[e.wAp.MonthsStandalone]],Yt);return ye(Zn,mt)}function pe($e,Yt){return ye((0,e.cg1)($e)[e.wAp.DateFormat],Yt)}function Ae($e,Yt){return ye((0,e.cg1)($e)[e.wAp.TimeFormat],Yt)}function ke($e,Yt){return ye((0,e.cg1)($e)[e.wAp.DateTimeFormat],Yt)}function he($e,Yt){const mt=(0,e.cg1)($e),Vt=mt[e.wAp.NumberSymbols][Yt];if(typeof Vt>"u"){if(Yt===Fe.CurrencyDecimal)return mt[e.wAp.NumberSymbols][Fe.Decimal];if(Yt===Fe.CurrencyGroup)return mt[e.wAp.NumberSymbols][Fe.Group]}return Vt}function Re($e){if(!$e[e.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${$e[e.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ye($e,Yt){for(let mt=Yt;mt>-1;mt--)if(typeof $e[mt]<"u")return $e[mt];throw new Error("Locale data API: locale data undefined")}function oe($e){const[Yt,mt]=$e.split(":");return{hours:+Yt,minutes:+mt}}const re=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,J={},q=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var _e=function($e){return $e[$e.Short=0]="Short",$e[$e.ShortGMT=1]="ShortGMT",$e[$e.Long=2]="Long",$e[$e.Extended=3]="Extended",$e}(_e||{}),xe=function($e){return $e[$e.FullYear=0]="FullYear",$e[$e.Month=1]="Month",$e[$e.Date=2]="Date",$e[$e.Hours=3]="Hours",$e[$e.Minutes=4]="Minutes",$e[$e.Seconds=5]="Seconds",$e[$e.FractionalSeconds=6]="FractionalSeconds",$e[$e.Day=7]="Day",$e}(xe||{}),Ee=function($e){return $e[$e.DayPeriods=0]="DayPeriods",$e[$e.Days=1]="Days",$e[$e.Months=2]="Months",$e[$e.Eras=3]="Eras",$e}(Ee||{});function Ge($e,Yt,mt,Vt){let Sn=function at($e){if(bt($e))return $e;if("number"==typeof $e&&!isNaN($e))return new Date($e);if("string"==typeof $e){if($e=$e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test($e)){const[Sn,Zn=1,ai=1]=$e.split("-").map(Fi=>+Fi);return ct(Sn,Zn-1,ai)}const mt=parseFloat($e);if(!isNaN($e-mt))return new Date(mt);let Vt;if(Vt=$e.match(re))return function St($e){const Yt=new Date(0);let mt=0,Vt=0;const Sn=$e[8]?Yt.setUTCFullYear:Yt.setFullYear,Zn=$e[8]?Yt.setUTCHours:Yt.setHours;$e[9]&&(mt=Number($e[9]+$e[10]),Vt=Number($e[9]+$e[11])),Sn.call(Yt,Number($e[1]),Number($e[2])-1,Number($e[3]));const ai=Number($e[4]||0)-mt,Fi=Number($e[5]||0)-Vt,Nr=Number($e[6]||0),_r=Math.floor(1e3*parseFloat("0."+($e[7]||0)));return Zn.call(Yt,ai,Fi,Nr,_r),Yt}(Vt)}const Yt=new Date($e);if(!bt(Yt))throw new Error(`Unable to convert "${$e}" into a date`);return Yt}($e);Yt=Xe(mt,Yt)||Yt;let Fi,ai=[];for(;Yt;){if(Fi=q.exec(Yt),!Fi){ai.push(Yt);break}{ai=ai.concat(Fi.slice(1));const fr=ai.pop();if(!fr)break;Yt=fr}}let Nr=Sn.getTimezoneOffset();Vt&&(Nr=He(Vt,Nr),Sn=function st($e,Yt,mt){const Vt=mt?-1:1,Sn=$e.getTimezoneOffset();return function Ye($e,Yt){return($e=new Date($e.getTime())).setMinutes($e.getMinutes()+Yt),$e}($e,Vt*(He(Yt,Sn)-Sn))}(Sn,Vt,!0));let _r="";return ai.forEach(fr=>{const tr=function it($e){if(vt[$e])return vt[$e];let Yt;switch($e){case"G":case"GG":case"GGG":Yt=fe(Ee.Eras,ne.Abbreviated);break;case"GGGG":Yt=fe(Ee.Eras,ne.Wide);break;case"GGGGG":Yt=fe(Ee.Eras,ne.Narrow);break;case"y":Yt=yt(xe.FullYear,1,0,!1,!0);break;case"yy":Yt=yt(xe.FullYear,2,0,!0,!0);break;case"yyy":Yt=yt(xe.FullYear,3,0,!1,!0);break;case"yyyy":Yt=yt(xe.FullYear,4,0,!1,!0);break;case"Y":Yt=wt(1);break;case"YY":Yt=wt(2,!0);break;case"YYY":Yt=wt(3);break;case"YYYY":Yt=wt(4);break;case"M":case"L":Yt=yt(xe.Month,1,1);break;case"MM":case"LL":Yt=yt(xe.Month,2,1);break;case"MMM":Yt=fe(Ee.Months,ne.Abbreviated);break;case"MMMM":Yt=fe(Ee.Months,ne.Wide);break;case"MMMMM":Yt=fe(Ee.Months,ne.Narrow);break;case"LLL":Yt=fe(Ee.Months,ne.Abbreviated,z.Standalone);break;case"LLLL":Yt=fe(Ee.Months,ne.Wide,z.Standalone);break;case"LLLLL":Yt=fe(Ee.Months,ne.Narrow,z.Standalone);break;case"w":Yt=fn(1);break;case"ww":Yt=fn(2);break;case"W":Yt=fn(1,!0);break;case"d":Yt=yt(xe.Date,1);break;case"dd":Yt=yt(xe.Date,2);break;case"c":case"cc":Yt=yt(xe.Day,1);break;case"ccc":Yt=fe(Ee.Days,ne.Abbreviated,z.Standalone);break;case"cccc":Yt=fe(Ee.Days,ne.Wide,z.Standalone);break;case"ccccc":Yt=fe(Ee.Days,ne.Narrow,z.Standalone);break;case"cccccc":Yt=fe(Ee.Days,ne.Short,z.Standalone);break;case"E":case"EE":case"EEE":Yt=fe(Ee.Days,ne.Abbreviated);break;case"EEEE":Yt=fe(Ee.Days,ne.Wide);break;case"EEEEE":Yt=fe(Ee.Days,ne.Narrow);break;case"EEEEEE":Yt=fe(Ee.Days,ne.Short);break;case"a":case"aa":case"aaa":Yt=fe(Ee.DayPeriods,ne.Abbreviated);break;case"aaaa":Yt=fe(Ee.DayPeriods,ne.Wide);break;case"aaaaa":Yt=fe(Ee.DayPeriods,ne.Narrow);break;case"b":case"bb":case"bbb":Yt=fe(Ee.DayPeriods,ne.Abbreviated,z.Standalone,!0);break;case"bbbb":Yt=fe(Ee.DayPeriods,ne.Wide,z.Standalone,!0);break;case"bbbbb":Yt=fe(Ee.DayPeriods,ne.Narrow,z.Standalone,!0);break;case"B":case"BB":case"BBB":Yt=fe(Ee.DayPeriods,ne.Abbreviated,z.Format,!0);break;case"BBBB":Yt=fe(Ee.DayPeriods,ne.Wide,z.Format,!0);break;case"BBBBB":Yt=fe(Ee.DayPeriods,ne.Narrow,z.Format,!0);break;case"h":Yt=yt(xe.Hours,1,-12);break;case"hh":Yt=yt(xe.Hours,2,-12);break;case"H":Yt=yt(xe.Hours,1);break;case"HH":Yt=yt(xe.Hours,2);break;case"m":Yt=yt(xe.Minutes,1);break;case"mm":Yt=yt(xe.Minutes,2);break;case"s":Yt=yt(xe.Seconds,1);break;case"ss":Yt=yt(xe.Seconds,2);break;case"S":Yt=yt(xe.FractionalSeconds,1);break;case"SS":Yt=yt(xe.FractionalSeconds,2);break;case"SSS":Yt=yt(xe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Yt=Tt(_e.Short);break;case"ZZZZZ":Yt=Tt(_e.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Yt=Tt(_e.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Yt=Tt(_e.Long);break;default:return null}return vt[$e]=Yt,Yt}(fr);_r+=tr?tr(Sn,mt,Nr):"''"===fr?"'":fr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),_r}function ct($e,Yt,mt){const Vt=new Date(0);return Vt.setFullYear($e,Yt,mt),Vt.setHours(0,0,0),Vt}function Xe($e,Yt){const mt=function le($e){return(0,e.cg1)($e)[e.wAp.LocaleId]}($e);if(J[mt]=J[mt]||{},J[mt][Yt])return J[mt][Yt];let Vt="";switch(Yt){case"shortDate":Vt=pe($e,ae.Short);break;case"mediumDate":Vt=pe($e,ae.Medium);break;case"longDate":Vt=pe($e,ae.Long);break;case"fullDate":Vt=pe($e,ae.Full);break;case"shortTime":Vt=Ae($e,ae.Short);break;case"mediumTime":Vt=Ae($e,ae.Medium);break;case"longTime":Vt=Ae($e,ae.Long);break;case"fullTime":Vt=Ae($e,ae.Full);break;case"short":const Sn=Xe($e,"shortTime"),Zn=Xe($e,"shortDate");Vt=tt(ke($e,ae.Short),[Sn,Zn]);break;case"medium":const ai=Xe($e,"mediumTime"),Fi=Xe($e,"mediumDate");Vt=tt(ke($e,ae.Medium),[ai,Fi]);break;case"long":const Nr=Xe($e,"longTime"),_r=Xe($e,"longDate");Vt=tt(ke($e,ae.Long),[Nr,_r]);break;case"full":const fr=Xe($e,"fullTime"),tr=Xe($e,"fullDate");Vt=tt(ke($e,ae.Full),[fr,tr])}return Vt&&(J[mt][Yt]=Vt),Vt}function tt($e,Yt){return Yt&&($e=$e.replace(/\{([^}]+)}/g,function(mt,Vt){return null!=Yt&&Vt in Yt?Yt[Vt]:mt})),$e}function gt($e,Yt,mt="-",Vt,Sn){let Zn="";($e<0||Sn&&$e<=0)&&(Sn?$e=1-$e:($e=-$e,Zn=mt));let ai=String($e);for(;ai.length<Yt;)ai="0"+ai;return Vt&&(ai=ai.slice(ai.length-Yt)),Zn+ai}function yt($e,Yt,mt=0,Vt=!1,Sn=!1){return function(Zn,ai){let Fi=function Dt($e,Yt){switch($e){case xe.FullYear:return Yt.getFullYear();case xe.Month:return Yt.getMonth();case xe.Date:return Yt.getDate();case xe.Hours:return Yt.getHours();case xe.Minutes:return Yt.getMinutes();case xe.Seconds:return Yt.getSeconds();case xe.FractionalSeconds:return Yt.getMilliseconds();case xe.Day:return Yt.getDay();default:throw new Error(`Unknown DateType value "${$e}".`)}}($e,Zn);if((mt>0||Fi>-mt)&&(Fi+=mt),$e===xe.Hours)0===Fi&&-12===mt&&(Fi=12);else if($e===xe.FractionalSeconds)return function Qe($e,Yt){return gt($e,3).substring(0,Yt)}(Fi,Yt);const Nr=he(ai,Fe.MinusSign);return gt(Fi,Yt,Nr,Vt,Sn)}}function fe($e,Yt,mt=z.Format,Vt=!1){return function(Sn,Zn){return function ze($e,Yt,mt,Vt,Sn,Zn){switch(mt){case Ee.Months:return ce(Yt,Sn,Vt)[$e.getMonth()];case Ee.Days:return Se(Yt,Sn,Vt)[$e.getDay()];case Ee.DayPeriods:const ai=$e.getHours(),Fi=$e.getMinutes();if(Zn){const _r=function be($e){const Yt=(0,e.cg1)($e);return Re(Yt),(Yt[e.wAp.ExtraData][2]||[]).map(Vt=>"string"==typeof Vt?oe(Vt):[oe(Vt[0]),oe(Vt[1])])}(Yt),fr=function Q($e,Yt,mt){const Vt=(0,e.cg1)($e);Re(Vt);const Zn=ye([Vt[e.wAp.ExtraData][0],Vt[e.wAp.ExtraData][1]],Yt)||[];return ye(Zn,mt)||[]}(Yt,Sn,Vt),tr=_r.findIndex(fo=>{if(Array.isArray(fo)){const[Lr,vr]=fo,is=ai>=Lr.hours&&Fi>=Lr.minutes,Gi=ai<vr.hours||ai===vr.hours&&Fi<vr.minutes;if(Lr.hours<vr.hours){if(is&&Gi)return!0}else if(is||Gi)return!0}else if(fo.hours===ai&&fo.minutes===Fi)return!0;return!1});if(-1!==tr)return fr[tr]}return function G($e,Yt,mt){const Vt=(0,e.cg1)($e),Zn=ye([Vt[e.wAp.DayPeriodsFormat],Vt[e.wAp.DayPeriodsStandalone]],Yt);return ye(Zn,mt)}(Yt,Sn,Vt)[ai<12?0:1];case Ee.Eras:return function ge($e,Yt){return ye((0,e.cg1)($e)[e.wAp.Eras],Yt)}(Yt,Vt)[$e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${mt}`)}}(Sn,Zn,$e,Yt,mt,Vt)}}function Tt($e){return function(Yt,mt,Vt){const Sn=-1*Vt,Zn=he(mt,Fe.MinusSign),ai=Sn>0?Math.floor(Sn/60):Math.ceil(Sn/60);switch($e){case _e.Short:return(Sn>=0?"+":"")+gt(ai,2,Zn)+gt(Math.abs(Sn%60),2,Zn);case _e.ShortGMT:return"GMT"+(Sn>=0?"+":"")+gt(ai,1,Zn);case _e.Long:return"GMT"+(Sn>=0?"+":"")+gt(ai,2,Zn)+":"+gt(Math.abs(Sn%60),2,Zn);case _e.Extended:return 0===Vt?"Z":(Sn>=0?"+":"")+gt(ai,2,Zn)+":"+gt(Math.abs(Sn%60),2,Zn);default:throw new Error(`Unknown zone width "${$e}"`)}}}const Kt=0,Jt=4;function un($e){return ct($e.getFullYear(),$e.getMonth(),$e.getDate()+(Jt-$e.getDay()))}function fn($e,Yt=!1){return function(mt,Vt){let Sn;if(Yt){const Zn=new Date(mt.getFullYear(),mt.getMonth(),1).getDay()-1,ai=mt.getDate();Sn=1+Math.floor((ai+Zn)/7)}else{const Zn=un(mt),ai=function qt($e){const Yt=ct($e,Kt,1).getDay();return ct($e,0,1+(Yt<=Jt?Jt:Jt+7)-Yt)}(Zn.getFullYear()),Fi=Zn.getTime()-ai.getTime();Sn=1+Math.round(Fi/6048e5)}return gt(Sn,$e,he(Vt,Fe.MinusSign))}}function wt($e,Yt=!1){return function(mt,Vt){return gt(un(mt).getFullYear(),$e,he(Vt,Fe.MinusSign),Yt)}}const vt={};function He($e,Yt){$e=$e.replace(/:/g,"");const mt=Date.parse("Jan 01, 1970 00:00:00 "+$e)/6e4;return isNaN(mt)?Yt:mt}function bt($e){return $e instanceof Date&&!isNaN($e.valueOf())}function kt($e,Yt){Yt=encodeURIComponent(Yt);for(const mt of $e.split(";")){const Vt=mt.indexOf("="),[Sn,Zn]=-1==Vt?[mt,""]:[mt.slice(0,Vt),mt.slice(Vt+1)];if(Sn.trim()===Yt)return decodeURIComponent(Zn)}return null}const It=/\s+/,Nt=[];let en=(()=>{class $e{constructor(mt,Vt,Sn,Zn){this._iterableDiffers=mt,this._keyValueDiffers=Vt,this._ngEl=Sn,this._renderer=Zn,this.initialClasses=Nt,this.stateMap=new Map}set klass(mt){this.initialClasses=null!=mt?mt.trim().split(It):Nt}set ngClass(mt){this.rawClass="string"==typeof mt?mt.trim().split(It):mt}ngDoCheck(){for(const Vt of this.initialClasses)this._updateState(Vt,!0);const mt=this.rawClass;if(Array.isArray(mt)||mt instanceof Set)for(const Vt of mt)this._updateState(Vt,!0);else if(null!=mt)for(const Vt of Object.keys(mt))this._updateState(Vt,!!mt[Vt]);this._applyStateDiff()}_updateState(mt,Vt){const Sn=this.stateMap.get(mt);void 0!==Sn?(Sn.enabled!==Vt&&(Sn.changed=!0,Sn.enabled=Vt),Sn.touched=!0):this.stateMap.set(mt,{enabled:Vt,changed:!0,touched:!0})}_applyStateDiff(){for(const mt of this.stateMap){const Vt=mt[0],Sn=mt[1];Sn.changed?(this._toggleClass(Vt,Sn.enabled),Sn.changed=!1):Sn.touched||(Sn.enabled&&this._toggleClass(Vt,!1),this.stateMap.delete(Vt)),Sn.touched=!1}}_toggleClass(mt,Vt){(mt=mt.trim()).length>0&&mt.split(It).forEach(Sn=>{Vt?this._renderer.addClass(this._ngEl.nativeElement,Sn):this._renderer.removeClass(this._ngEl.nativeElement,Sn)})}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)(e.Y36(e.ZZ4),e.Y36(e.aQg),e.Y36(e.SBq),e.Y36(e.Qsj))};static#t=this.\u0275dir=e.lG2({type:$e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return $e})();class Xn{constructor(Yt,mt,Vt,Sn){this.$implicit=Yt,this.ngForOf=mt,this.index=Vt,this.count=Sn}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ut=(()=>{class $e{set ngForOf(mt){this._ngForOf=mt,this._ngForOfDirty=!0}set ngForTrackBy(mt){this._trackByFn=mt}get ngForTrackBy(){return this._trackByFn}constructor(mt,Vt,Sn){this._viewContainer=mt,this._template=Vt,this._differs=Sn,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(mt){mt&&(this._template=mt)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const mt=this._ngForOf;!this._differ&&mt&&(this._differ=this._differs.find(mt).create(this.ngForTrackBy))}if(this._differ){const mt=this._differ.diff(this._ngForOf);mt&&this._applyChanges(mt)}}_applyChanges(mt){const Vt=this._viewContainer;mt.forEachOperation((Sn,Zn,ai)=>{if(null==Sn.previousIndex)Vt.createEmbeddedView(this._template,new Xn(Sn.item,this._ngForOf,-1,-1),null===ai?void 0:ai);else if(null==ai)Vt.remove(null===Zn?void 0:Zn);else if(null!==Zn){const Fi=Vt.get(Zn);Vt.move(Fi,ai),On(Fi,Sn)}});for(let Sn=0,Zn=Vt.length;Sn<Zn;Sn++){const Fi=Vt.get(Sn).context;Fi.index=Sn,Fi.count=Zn,Fi.ngForOf=this._ngForOf}mt.forEachIdentityChange(Sn=>{On(Vt.get(Sn.currentIndex),Sn)})}static ngTemplateContextGuard(mt,Vt){return!0}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(e.ZZ4))};static#t=this.\u0275dir=e.lG2({type:$e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return $e})();function On($e,Yt){$e.context.$implicit=Yt.item}let Ft=(()=>{class $e{constructor(mt,Vt){this._viewContainer=mt,this._context=new Pt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Vt}set ngIf(mt){this._context.$implicit=this._context.ngIf=mt,this._updateView()}set ngIfThen(mt){ln("ngIfThen",mt),this._thenTemplateRef=mt,this._thenViewRef=null,this._updateView()}set ngIfElse(mt){ln("ngIfElse",mt),this._elseTemplateRef=mt,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(mt,Vt){return!0}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)(e.Y36(e.s_b),e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:$e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return $e})();class Pt{constructor(){this.$implicit=null,this.ngIf=null}}function ln($e,Yt){if(Yt&&!Yt.createEmbeddedView)throw new Error(`${$e} must be a TemplateRef, but received '${(0,e.AaK)(Yt)}'.`)}class Fn{constructor(Yt,mt){this._viewContainerRef=Yt,this._templateRef=mt,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Yt){Yt&&!this._created?this.create():!Yt&&this._created&&this.destroy()}}let vi=(()=>{class $e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(mt){this._ngSwitch=mt,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(mt){this._defaultViews.push(mt)}_matchCase(mt){const Vt=mt==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Vt,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Vt}_updateDefaultCases(mt){if(this._defaultViews.length>0&&mt!==this._defaultUsed){this._defaultUsed=mt;for(const Vt of this._defaultViews)Vt.enforceState(mt)}}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)};static#t=this.\u0275dir=e.lG2({type:$e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return $e})(),Er=(()=>{class $e{constructor(mt,Vt,Sn){this.ngSwitch=Sn,Sn._addCase(),this._view=new Fn(mt,Vt)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(vi,9))};static#t=this.\u0275dir=e.lG2({type:$e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return $e})(),$r=(()=>{class $e{constructor(mt,Vt,Sn){Sn._addDefault(new Fn(mt,Vt))}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(vi,9))};static#t=this.\u0275dir=e.lG2({type:$e,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return $e})(),Do=(()=>{class $e{constructor(mt){this._viewContainerRef=mt,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(mt){if(mt.ngTemplateOutlet||mt.ngTemplateOutletInjector){const Vt=this._viewContainerRef;if(this._viewRef&&Vt.remove(Vt.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Sn,ngTemplateOutletContext:Zn,ngTemplateOutletInjector:ai}=this;this._viewRef=Vt.createEmbeddedView(Sn,Zn,ai?{injector:ai}:void 0)}else this._viewRef=null}else this._viewRef&&mt.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)(e.Y36(e.s_b))};static#t=this.\u0275dir=e.lG2({type:$e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[e.TTD]})}return $e})();function Yi($e,Yt){return new e.vHH(2100,!1)}class Vr{createSubscription(Yt,mt){return(0,e.rg0)(()=>Yt.subscribe({next:mt,error:Vt=>{throw Vt}}))}dispose(Yt){(0,e.rg0)(()=>Yt.unsubscribe())}}class ir{createSubscription(Yt,mt){return Yt.then(mt,Vt=>{throw Vt})}dispose(Yt){}}const lo=new ir,Kr=new Vr;let ls=(()=>{class $e{constructor(mt){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=mt}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(mt){return this._obj?mt!==this._obj?(this._dispose(),this.transform(mt)):this._latestValue:(mt&&this._subscribe(mt),this._latestValue)}_subscribe(mt){this._obj=mt,this._strategy=this._selectStrategy(mt),this._subscription=this._strategy.createSubscription(mt,Vt=>this._updateLatestValue(mt,Vt))}_selectStrategy(mt){if((0,e.QGY)(mt))return lo;if((0,e.F4k)(mt))return Kr;throw Yi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(mt,Vt){mt===this._obj&&(this._latestValue=Vt,this._ref.markForCheck())}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)(e.Y36(e.sBO,16))};static#t=this.\u0275pipe=e.Yjl({name:"async",type:$e,pure:!1,standalone:!0})}return $e})();const yi=new e.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Zi=new e.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Rr=(()=>{class $e{constructor(mt,Vt,Sn){this.locale=mt,this.defaultTimezone=Vt,this.defaultOptions=Sn}transform(mt,Vt,Sn,Zn){if(null==mt||""===mt||mt!=mt)return null;try{return Ge(mt,Vt??this.defaultOptions?.dateFormat??"mediumDate",Zn||this.locale,Sn??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(ai){throw Yi()}}static#e=this.\u0275fac=function(Vt){return new(Vt||$e)(e.Y36(e.soG,16),e.Y36(yi,24),e.Y36(Zi,24))};static#t=this.\u0275pipe=e.Yjl({name:"date",type:$e,pure:!0,standalone:!0})}return $e})(),Fo=(()=>{class $e{static#e=this.\u0275fac=function(Vt){return new(Vt||$e)};static#t=this.\u0275mod=e.oAB({type:$e});static#n=this.\u0275inj=e.cJS({})}return $e})();const Bo="browser",Ks="server";function cs($e){return $e===Bo}function ds($e){return $e===Ks}let Ws=(()=>{class $e{static#e=this.\u0275prov=(0,e.Yz7)({token:$e,providedIn:"root",factory:()=>new uo((0,e.LFG)(P),window)})}return $e})();class uo{constructor(Yt,mt){this.document=Yt,this.window=mt,this.offset=()=>[0,0]}setOffset(Yt){this.offset=Array.isArray(Yt)?()=>Yt:Yt}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Yt){this.supportsScrolling()&&this.window.scrollTo(Yt[0],Yt[1])}scrollToAnchor(Yt){if(!this.supportsScrolling())return;const mt=function Os($e,Yt){const mt=$e.getElementById(Yt)||$e.getElementsByName(Yt)[0];if(mt)return mt;if("function"==typeof $e.createTreeWalker&&$e.body&&"function"==typeof $e.body.attachShadow){const Vt=$e.createTreeWalker($e.body,NodeFilter.SHOW_ELEMENT);let Sn=Vt.currentNode;for(;Sn;){const Zn=Sn.shadowRoot;if(Zn){const ai=Zn.getElementById(Yt)||Zn.querySelector(`[name="${Yt}"]`);if(ai)return ai}Sn=Vt.nextNode()}}return null}(this.document,Yt);mt&&(this.scrollToElement(mt),mt.focus())}setHistoryScrollRestoration(Yt){if(this.supportScrollRestoration()){const mt=this.window.history;mt&&mt.scrollRestoration&&(mt.scrollRestoration=Yt)}}scrollToElement(Yt){const mt=Yt.getBoundingClientRect(),Vt=mt.left+this.window.pageXOffset,Sn=mt.top+this.window.pageYOffset,Zn=this.offset();this.window.scrollTo(Vt-Zn[0],Sn-Zn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Yt=us(this.window.history)||us(Object.getPrototypeOf(this.window.history));return!(!Yt||!Yt.writable&&!Yt.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function us($e){return Object.getOwnPropertyDescriptor($e,"scrollRestoration")}class Yr{}},9862:(Wn,et,p)=>{"use strict";p.d(et,{JF:()=>At,WM:()=>g,eN:()=>Ce});var e=p(5879),t=p(2096),v=p(2459),b=p(5592),_=p(6328),P=p(2181),C=p(7398),m=p(4716),i=p(4664),c=p(6814);class d{}class f{}class g{constructor(gn){this.normalizedNames=new Map,this.lazyUpdate=null,gn?"string"==typeof gn?this.lazyInit=()=>{this.headers=new Map,gn.split("\n").forEach(yn=>{const pn=yn.indexOf(":");if(pn>0){const _n=yn.slice(0,pn),Mt=_n.toLowerCase(),ht=yn.slice(pn+1).trim();this.maybeSetNormalizedName(_n,Mt),this.headers.has(Mt)?this.headers.get(Mt).push(ht):this.headers.set(Mt,[ht])}})}:typeof Headers<"u"&&gn instanceof Headers?(this.headers=new Map,gn.forEach((yn,pn)=>{this.setHeaderEntries(pn,yn)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(gn).forEach(([yn,pn])=>{this.setHeaderEntries(yn,pn)})}:this.headers=new Map}has(gn){return this.init(),this.headers.has(gn.toLowerCase())}get(gn){this.init();const yn=this.headers.get(gn.toLowerCase());return yn&&yn.length>0?yn[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(gn){return this.init(),this.headers.get(gn.toLowerCase())||null}append(gn,yn){return this.clone({name:gn,value:yn,op:"a"})}set(gn,yn){return this.clone({name:gn,value:yn,op:"s"})}delete(gn,yn){return this.clone({name:gn,value:yn,op:"d"})}maybeSetNormalizedName(gn,yn){this.normalizedNames.has(yn)||this.normalizedNames.set(yn,gn)}init(){this.lazyInit&&(this.lazyInit instanceof g?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(gn=>this.applyUpdate(gn)),this.lazyUpdate=null))}copyFrom(gn){gn.init(),Array.from(gn.headers.keys()).forEach(yn=>{this.headers.set(yn,gn.headers.get(yn)),this.normalizedNames.set(yn,gn.normalizedNames.get(yn))})}clone(gn){const yn=new g;return yn.lazyInit=this.lazyInit&&this.lazyInit instanceof g?this.lazyInit:this,yn.lazyUpdate=(this.lazyUpdate||[]).concat([gn]),yn}applyUpdate(gn){const yn=gn.name.toLowerCase();switch(gn.op){case"a":case"s":let pn=gn.value;if("string"==typeof pn&&(pn=[pn]),0===pn.length)return;this.maybeSetNormalizedName(gn.name,yn);const _n=("a"===gn.op?this.headers.get(yn):void 0)||[];_n.push(...pn),this.headers.set(yn,_n);break;case"d":const Mt=gn.value;if(Mt){let ht=this.headers.get(yn);if(!ht)return;ht=ht.filter(Tn=>-1===Mt.indexOf(Tn)),0===ht.length?(this.headers.delete(yn),this.normalizedNames.delete(yn)):this.headers.set(yn,ht)}else this.headers.delete(yn),this.normalizedNames.delete(yn)}}setHeaderEntries(gn,yn){const pn=(Array.isArray(yn)?yn:[yn]).map(Mt=>Mt.toString()),_n=gn.toLowerCase();this.headers.set(_n,pn),this.maybeSetNormalizedName(gn,_n)}forEach(gn){this.init(),Array.from(this.normalizedNames.keys()).forEach(yn=>gn(this.normalizedNames.get(yn),this.headers.get(yn)))}}class x{encodeKey(gn){return D(gn)}encodeValue(gn){return D(gn)}decodeKey(gn){return decodeURIComponent(gn)}decodeValue(gn){return decodeURIComponent(gn)}}const N=/%(\d[a-f0-9])/gi,O={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function D(vn){return encodeURIComponent(vn).replace(N,(gn,yn)=>O[yn]??gn)}function I(vn){return`${vn}`}class T{constructor(gn={}){if(this.updates=null,this.cloneFrom=null,this.encoder=gn.encoder||new x,gn.fromString){if(gn.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function A(vn,gn){const yn=new Map;return vn.length>0&&vn.replace(/^\?/,"").split("&").forEach(_n=>{const Mt=_n.indexOf("="),[ht,Tn]=-1==Mt?[gn.decodeKey(_n),""]:[gn.decodeKey(_n.slice(0,Mt)),gn.decodeValue(_n.slice(Mt+1))],qe=yn.get(ht)||[];qe.push(Tn),yn.set(ht,qe)}),yn}(gn.fromString,this.encoder)}else gn.fromObject?(this.map=new Map,Object.keys(gn.fromObject).forEach(yn=>{const pn=gn.fromObject[yn],_n=Array.isArray(pn)?pn.map(I):[I(pn)];this.map.set(yn,_n)})):this.map=null}has(gn){return this.init(),this.map.has(gn)}get(gn){this.init();const yn=this.map.get(gn);return yn?yn[0]:null}getAll(gn){return this.init(),this.map.get(gn)||null}keys(){return this.init(),Array.from(this.map.keys())}append(gn,yn){return this.clone({param:gn,value:yn,op:"a"})}appendAll(gn){const yn=[];return Object.keys(gn).forEach(pn=>{const _n=gn[pn];Array.isArray(_n)?_n.forEach(Mt=>{yn.push({param:pn,value:Mt,op:"a"})}):yn.push({param:pn,value:_n,op:"a"})}),this.clone(yn)}set(gn,yn){return this.clone({param:gn,value:yn,op:"s"})}delete(gn,yn){return this.clone({param:gn,value:yn,op:"d"})}toString(){return this.init(),this.keys().map(gn=>{const yn=this.encoder.encodeKey(gn);return this.map.get(gn).map(pn=>yn+"="+this.encoder.encodeValue(pn)).join("&")}).filter(gn=>""!==gn).join("&")}clone(gn){const yn=new T({encoder:this.encoder});return yn.cloneFrom=this.cloneFrom||this,yn.updates=(this.updates||[]).concat(gn),yn}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(gn=>this.map.set(gn,this.cloneFrom.map.get(gn))),this.updates.forEach(gn=>{switch(gn.op){case"a":case"s":const yn=("a"===gn.op?this.map.get(gn.param):void 0)||[];yn.push(I(gn.value)),this.map.set(gn.param,yn);break;case"d":if(void 0===gn.value){this.map.delete(gn.param);break}{let pn=this.map.get(gn.param)||[];const _n=pn.indexOf(I(gn.value));-1!==_n&&pn.splice(_n,1),pn.length>0?this.map.set(gn.param,pn):this.map.delete(gn.param)}}}),this.cloneFrom=this.updates=null)}}class y{constructor(){this.map=new Map}set(gn,yn){return this.map.set(gn,yn),this}get(gn){return this.map.has(gn)||this.map.set(gn,gn.defaultValue()),this.map.get(gn)}delete(gn){return this.map.delete(gn),this}has(gn){return this.map.has(gn)}keys(){return this.map.keys()}}function z(vn){return typeof ArrayBuffer<"u"&&vn instanceof ArrayBuffer}function ne(vn){return typeof Blob<"u"&&vn instanceof Blob}function ae(vn){return typeof FormData<"u"&&vn instanceof FormData}class Y{constructor(gn,yn,pn,_n){let Mt;if(this.url=yn,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=gn.toUpperCase(),function B(vn){switch(vn){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||_n?(this.body=void 0!==pn?pn:null,Mt=_n):Mt=pn,Mt&&(this.reportProgress=!!Mt.reportProgress,this.withCredentials=!!Mt.withCredentials,Mt.responseType&&(this.responseType=Mt.responseType),Mt.headers&&(this.headers=Mt.headers),Mt.context&&(this.context=Mt.context),Mt.params&&(this.params=Mt.params)),this.headers||(this.headers=new g),this.context||(this.context=new y),this.params){const ht=this.params.toString();if(0===ht.length)this.urlWithParams=yn;else{const Tn=yn.indexOf("?");this.urlWithParams=yn+(-1===Tn?"?":Tn<yn.length-1?"&":"")+ht}}else this.params=new T,this.urlWithParams=yn}serializeBody(){return null===this.body?null:z(this.body)||ne(this.body)||ae(this.body)||function Fe(vn){return typeof URLSearchParams<"u"&&vn instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof T?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ae(this.body)?null:ne(this.body)?this.body.type||null:z(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof T?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(gn={}){const yn=gn.method||this.method,pn=gn.url||this.url,_n=gn.responseType||this.responseType,Mt=void 0!==gn.body?gn.body:this.body,ht=void 0!==gn.withCredentials?gn.withCredentials:this.withCredentials,Tn=void 0!==gn.reportProgress?gn.reportProgress:this.reportProgress;let qe=gn.headers||this.headers,Ct=gn.params||this.params;const Qt=gn.context??this.context;return void 0!==gn.setHeaders&&(qe=Object.keys(gn.setHeaders).reduce((Rt,xn)=>Rt.set(xn,gn.setHeaders[xn]),qe)),gn.setParams&&(Ct=Object.keys(gn.setParams).reduce((Rt,xn)=>Rt.set(xn,gn.setParams[xn]),Ct)),new Y(yn,pn,Mt,{params:Ct,headers:qe,context:Qt,reportProgress:Tn,responseType:_n,withCredentials:ht})}}var le=function(vn){return vn[vn.Sent=0]="Sent",vn[vn.UploadProgress=1]="UploadProgress",vn[vn.ResponseHeader=2]="ResponseHeader",vn[vn.DownloadProgress=3]="DownloadProgress",vn[vn.Response=4]="Response",vn[vn.User=5]="User",vn}(le||{});class G{constructor(gn,yn=200,pn="OK"){this.headers=gn.headers||new g,this.status=void 0!==gn.status?gn.status:yn,this.statusText=gn.statusText||pn,this.url=gn.url||null,this.ok=this.status>=200&&this.status<300}}class Se extends G{constructor(gn={}){super(gn),this.type=le.ResponseHeader}clone(gn={}){return new Se({headers:gn.headers||this.headers,status:void 0!==gn.status?gn.status:this.status,statusText:gn.statusText||this.statusText,url:gn.url||this.url||void 0})}}class ce extends G{constructor(gn={}){super(gn),this.type=le.Response,this.body=void 0!==gn.body?gn.body:null}clone(gn={}){return new ce({body:void 0!==gn.body?gn.body:this.body,headers:gn.headers||this.headers,status:void 0!==gn.status?gn.status:this.status,statusText:gn.statusText||this.statusText,url:gn.url||this.url||void 0})}}class ge extends G{constructor(gn){super(gn,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${gn.url||"(unknown url)"}`:`Http failure response for ${gn.url||"(unknown url)"}: ${gn.status} ${gn.statusText}`,this.error=gn.error||null}}function Ie(vn,gn){return{body:gn,headers:vn.headers,context:vn.context,observe:vn.observe,params:vn.params,reportProgress:vn.reportProgress,responseType:vn.responseType,withCredentials:vn.withCredentials}}let Ce=(()=>{class vn{constructor(yn){this.handler=yn}request(yn,pn,_n={}){let Mt;if(yn instanceof Y)Mt=yn;else{let qe,Ct;qe=_n.headers instanceof g?_n.headers:new g(_n.headers),_n.params&&(Ct=_n.params instanceof T?_n.params:new T({fromObject:_n.params})),Mt=new Y(yn,pn,void 0!==_n.body?_n.body:null,{headers:qe,context:_n.context,params:Ct,reportProgress:_n.reportProgress,responseType:_n.responseType||"json",withCredentials:_n.withCredentials})}const ht=(0,t.of)(Mt).pipe((0,_.b)(qe=>this.handler.handle(qe)));if(yn instanceof Y||"events"===_n.observe)return ht;const Tn=ht.pipe((0,P.h)(qe=>qe instanceof ce));switch(_n.observe||"body"){case"body":switch(Mt.responseType){case"arraybuffer":return Tn.pipe((0,C.U)(qe=>{if(null!==qe.body&&!(qe.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return qe.body}));case"blob":return Tn.pipe((0,C.U)(qe=>{if(null!==qe.body&&!(qe.body instanceof Blob))throw new Error("Response is not a Blob.");return qe.body}));case"text":return Tn.pipe((0,C.U)(qe=>{if(null!==qe.body&&"string"!=typeof qe.body)throw new Error("Response is not a string.");return qe.body}));default:return Tn.pipe((0,C.U)(qe=>qe.body))}case"response":return Tn;default:throw new Error(`Unreachable: unhandled observe type ${_n.observe}}`)}}delete(yn,pn={}){return this.request("DELETE",yn,pn)}get(yn,pn={}){return this.request("GET",yn,pn)}head(yn,pn={}){return this.request("HEAD",yn,pn)}jsonp(yn,pn){return this.request("JSONP",yn,{params:(new T).append(pn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(yn,pn={}){return this.request("OPTIONS",yn,pn)}patch(yn,pn,_n={}){return this.request("PATCH",yn,Ie(_n,pn))}post(yn,pn,_n={}){return this.request("POST",yn,Ie(_n,pn))}put(yn,pn,_n={}){return this.request("PUT",yn,Ie(_n,pn))}static#e=this.\u0275fac=function(pn){return new(pn||vn)(e.LFG(d))};static#t=this.\u0275prov=e.Yz7({token:vn,factory:vn.\u0275fac})}return vn})();function Ve(vn,gn){return gn(vn)}function ft(vn,gn){return(yn,pn)=>gn.intercept(yn,{handle:_n=>vn(_n,pn)})}const Re=new e.OlP(""),be=new e.OlP(""),Q=new e.OlP("");function ie(){let vn=null;return(gn,yn)=>{null===vn&&(vn=((0,e.f3M)(Re,{optional:!0})??[]).reduceRight(ft,Ve));const pn=(0,e.f3M)(e.HDt),_n=pn.add();return vn(gn,yn).pipe((0,m.x)(()=>pn.remove(_n)))}}let ye=(()=>{class vn extends d{constructor(yn,pn){super(),this.backend=yn,this.injector=pn,this.chain=null,this.pendingTasks=(0,e.f3M)(e.HDt)}handle(yn){if(null===this.chain){const _n=Array.from(new Set([...this.injector.get(be),...this.injector.get(Q,[])]));this.chain=_n.reduceRight((Mt,ht)=>function Ze(vn,gn,yn){return(pn,_n)=>yn.runInContext(()=>gn(pn,Mt=>vn(Mt,_n)))}(Mt,ht,this.injector),Ve)}const pn=this.pendingTasks.add();return this.chain(yn,_n=>this.backend.handle(_n)).pipe((0,m.x)(()=>this.pendingTasks.remove(pn)))}static#e=this.\u0275fac=function(pn){return new(pn||vn)(e.LFG(f),e.LFG(e.lqb))};static#t=this.\u0275prov=e.Yz7({token:vn,factory:vn.\u0275fac})}return vn})();const ct=/^\)\]\}',?\n/;let tt=(()=>{class vn{constructor(yn){this.xhrFactory=yn}handle(yn){if("JSONP"===yn.method)throw new e.vHH(-2800,!1);const pn=this.xhrFactory;return(pn.\u0275loadImpl?(0,v.D)(pn.\u0275loadImpl()):(0,t.of)(null)).pipe((0,i.w)(()=>new b.y(Mt=>{const ht=pn.build();if(ht.open(yn.method,yn.urlWithParams),yn.withCredentials&&(ht.withCredentials=!0),yn.headers.forEach((Nt,en)=>ht.setRequestHeader(Nt,en.join(","))),yn.headers.has("Accept")||ht.setRequestHeader("Accept","application/json, text/plain, */*"),!yn.headers.has("Content-Type")){const Nt=yn.detectContentTypeHeader();null!==Nt&&ht.setRequestHeader("Content-Type",Nt)}if(yn.responseType){const Nt=yn.responseType.toLowerCase();ht.responseType="json"!==Nt?Nt:"text"}const Tn=yn.serializeBody();let qe=null;const Ct=()=>{if(null!==qe)return qe;const Nt=ht.statusText||"OK",en=new g(ht.getAllResponseHeaders()),An=function Xe(vn){return"responseURL"in vn&&vn.responseURL?vn.responseURL:/^X-Request-URL:/m.test(vn.getAllResponseHeaders())?vn.getResponseHeader("X-Request-URL"):null}(ht)||yn.url;return qe=new Se({headers:en,status:ht.status,statusText:Nt,url:An}),qe},Qt=()=>{let{headers:Nt,status:en,statusText:An,url:Kn}=Ct(),Xn=null;204!==en&&(Xn=typeof ht.response>"u"?ht.responseText:ht.response),0===en&&(en=Xn?200:0);let Ut=en>=200&&en<300;if("json"===yn.responseType&&"string"==typeof Xn){const On=Xn;Xn=Xn.replace(ct,"");try{Xn=""!==Xn?JSON.parse(Xn):null}catch(Ne){Xn=On,Ut&&(Ut=!1,Xn={error:Ne,text:Xn})}}Ut?(Mt.next(new ce({body:Xn,headers:Nt,status:en,statusText:An,url:Kn||void 0})),Mt.complete()):Mt.error(new ge({error:Xn,headers:Nt,status:en,statusText:An,url:Kn||void 0}))},Rt=Nt=>{const{url:en}=Ct(),An=new ge({error:Nt,status:ht.status||0,statusText:ht.statusText||"Unknown Error",url:en||void 0});Mt.error(An)};let xn=!1;const kt=Nt=>{xn||(Mt.next(Ct()),xn=!0);let en={type:le.DownloadProgress,loaded:Nt.loaded};Nt.lengthComputable&&(en.total=Nt.total),"text"===yn.responseType&&ht.responseText&&(en.partialText=ht.responseText),Mt.next(en)},It=Nt=>{let en={type:le.UploadProgress,loaded:Nt.loaded};Nt.lengthComputable&&(en.total=Nt.total),Mt.next(en)};return ht.addEventListener("load",Qt),ht.addEventListener("error",Rt),ht.addEventListener("timeout",Rt),ht.addEventListener("abort",Rt),yn.reportProgress&&(ht.addEventListener("progress",kt),null!==Tn&&ht.upload&&ht.upload.addEventListener("progress",It)),ht.send(Tn),Mt.next({type:le.Sent}),()=>{ht.removeEventListener("error",Rt),ht.removeEventListener("abort",Rt),ht.removeEventListener("load",Qt),ht.removeEventListener("timeout",Rt),yn.reportProgress&&(ht.removeEventListener("progress",kt),null!==Tn&&ht.upload&&ht.upload.removeEventListener("progress",It)),ht.readyState!==ht.DONE&&ht.abort()}})))}static#e=this.\u0275fac=function(pn){return new(pn||vn)(e.LFG(c.JF))};static#t=this.\u0275prov=e.Yz7({token:vn,factory:vn.\u0275fac})}return vn})();const gt=new e.OlP("XSRF_ENABLED"),yt=new e.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),fe=new e.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ze{}let Tt=(()=>{class vn{constructor(yn,pn,_n){this.doc=yn,this.platform=pn,this.cookieName=_n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const yn=this.doc.cookie||"";return yn!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,c.Mx)(yn,this.cookieName),this.lastCookieString=yn),this.lastToken}static#e=this.\u0275fac=function(pn){return new(pn||vn)(e.LFG(c.K0),e.LFG(e.Lbi),e.LFG(yt))};static#t=this.\u0275prov=e.Yz7({token:vn,factory:vn.\u0275fac})}return vn})();function Kt(vn,gn){const yn=vn.url.toLowerCase();if(!(0,e.f3M)(gt)||"GET"===vn.method||"HEAD"===vn.method||yn.startsWith("http://")||yn.startsWith("https://"))return gn(vn);const pn=(0,e.f3M)(ze).getToken(),_n=(0,e.f3M)(fe);return null!=pn&&!vn.headers.has(_n)&&(vn=vn.clone({headers:vn.headers.set(_n,pn)})),gn(vn)}var qt=function(vn){return vn[vn.Interceptors=0]="Interceptors",vn[vn.LegacyInterceptors=1]="LegacyInterceptors",vn[vn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",vn[vn.NoXsrfProtection=3]="NoXsrfProtection",vn[vn.JsonpSupport=4]="JsonpSupport",vn[vn.RequestsMadeViaParent=5]="RequestsMadeViaParent",vn[vn.Fetch=6]="Fetch",vn}(qt||{});function fn(...vn){const gn=[Ce,tt,ye,{provide:d,useExisting:ye},{provide:f,useExisting:tt},{provide:be,useValue:Kt,multi:!0},{provide:gt,useValue:!0},{provide:ze,useClass:Tt}];for(const yn of vn)gn.push(...yn.\u0275providers);return(0,e.MR2)(gn)}const vt=new e.OlP("LEGACY_INTERCEPTOR_FN");function it(){return function un(vn,gn){return{\u0275kind:vn,\u0275providers:gn}}(qt.LegacyInterceptors,[{provide:vt,useFactory:ie},{provide:be,useExisting:vt,multi:!0}])}let At=(()=>{class vn{static#e=this.\u0275fac=function(pn){return new(pn||vn)};static#t=this.\u0275mod=e.oAB({type:vn});static#n=this.\u0275inj=e.cJS({providers:[fn(it())]})}return vn})()},5879:(Wn,et,p)=>{"use strict";p.d(et,{$8M:()=>Xl,$WT:()=>lo,$Z:()=>tg,AFp:()=>Cp,ALo:()=>Lv,AaK:()=>f,AsE:()=>km,BQk:()=>Eh,CHM:()=>pl,CRH:()=>Qv,DdM:()=>Mv,EJc:()=>lC,EiD:()=>Z,EpF:()=>zg,F$t:()=>Xg,F4k:()=>Zg,FYo:()=>Rp,FiY:()=>ol,G48:()=>PC,Gf:()=>$v,GfV:()=>Np,GkF:()=>Sm,Gpc:()=>x,Gre:()=>w_,HDt:()=>E0,Hsn:()=>e_,Ikx:()=>Bm,JOm:()=>cn,JVY:()=>Gr,JZr:()=>I,Jf7:()=>Up,KtG:()=>mc,L6k:()=>ho,LAX:()=>ss,LFG:()=>it,LMc:()=>sD,LSH:()=>mn,Lbi:()=>jh,Lck:()=>qT,MAs:()=>Kg,MGl:()=>Th,MMx:()=>vv,MR2:()=>fa,NdJ:()=>Dm,O4$:()=>nt,Ojb:()=>cy,OlP:()=>lr,Oqu:()=>Lm,P3R:()=>br,PXZ:()=>SC,Q6J:()=>bm,QGY:()=>Cm,QbO:()=>ly,Qsj:()=>Sy,R0b:()=>dc,RDi:()=>ve,Rgc:()=>jf,SBq:()=>Cf,SDv:()=>fv,Sil:()=>uC,Suo:()=>Jv,TTD:()=>ul,TgZ:()=>vh,Tol:()=>p_,Udp:()=>Pm,VKq:()=>Av,VuI:()=>rD,W1O:()=>t0,WFA:()=>Mm,WLB:()=>xv,X6Q:()=>OC,XFs:()=>_e,Xpm:()=>vi,Xq5:()=>xg,Xts:()=>as,Y36:()=>Ou,YKP:()=>gv,YNc:()=>Hg,Yjl:()=>bs,Yz7:()=>Re,Z0I:()=>ye,ZZ4:()=>bp,_Bn:()=>pv,_UZ:()=>Tm,_Vd:()=>Sf,_c5:()=>ZC,_uU:()=>T_,aQg:()=>Ep,c2e:()=>b0,cJS:()=>Q,cg1:()=>Gm,d8E:()=>Um,dDg:()=>yC,dqk:()=>tt,eBb:()=>zr,eFA:()=>L0,eJc:()=>rp,ekj:()=>Rm,eoX:()=>O0,f3M:()=>Ye,g9A:()=>Dp,h0i:()=>Yu,hGG:()=>$C,hYB:()=>xm,hij:()=>Dh,iGM:()=>Zv,ifc:()=>Mn,ip1:()=>y0,jDz:()=>yv,kEZ:()=>Iv,kL8:()=>G_,kcU:()=>sn,lG2:()=>Do,lcZ:()=>kv,lnq:()=>Fm,lqb:()=>Ko,lri:()=>I0,mCW:()=>Oc,n5z:()=>Sc,n_E:()=>wh,oAB:()=>ki,oJD:()=>xt,oxw:()=>qg,pB0:()=>zo,q3G:()=>je,q4F:()=>Lp,qFp:()=>aD,qLn:()=>Iu,qOj:()=>fm,qZA:()=>yh,qzn:()=>Mr,rWj:()=>w0,rg0:()=>uc,s9C:()=>Am,sBO:()=>RC,s_b:()=>Ph,soG:()=>Nh,tb:()=>mp,tp0:()=>To,uIk:()=>mm,vHH:()=>T,vpe:()=>Ad,wAp:()=>Ku,xi3:()=>Fv,xp6:()=>Zp,ynx:()=>bh,z2F:()=>$u,z3N:()=>yr,zSh:()=>mo,zW0:()=>Cg,zs3:()=>$d});var e=p(8645),t=p(7394),v=p(5619),b=p(5592),_=p(3019),P=p(2096),C=p(3020),m=p(4664),i=p(3997);function c(n){for(let o in n)if(n[o]===c)return o;throw Error("Could not find renamed property on target object.")}function d(n,o){for(const u in o)o.hasOwnProperty(u)&&!n.hasOwnProperty(u)&&(n[u]=o[u])}function f(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(f).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const o=n.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function g(n,o){return null==n||""===n?null===o?"":o:null==o||""===o?n:n+" "+o}const S=c({__forward_ref__:c});function x(n){return n.__forward_ref__=x,n.toString=function(){return f(this())},n}function A(n){return N(n)?n():n}function N(n){return"function"==typeof n&&n.hasOwnProperty(S)&&n.__forward_ref__===x}function O(n){return n&&!!n.\u0275providers}const I="https://g.co/ng/security#xss";class T extends Error{constructor(o,u){super(function L(n,o){return`NG0${Math.abs(n)}${o?": "+o:""}`}(o,u)),this.code=o}}function y(n){return"string"==typeof n?n:null==n?"":String(n)}function Fe(n,o){throw new T(-201,!1)}function Oe(n,o,u,E){throw new Error(`ASSERTION ERROR: ${n}`+(null==E?"":` [Expected=> ${u} ${E} ${o} <=Actual]`))}function Re(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Q(n){return{providers:n.providers||[],imports:n.imports||[]}}function ie(n){return oe(n,$)||oe(n,J)}function ye(n){return null!==ie(n)}function oe(n,o){return n.hasOwnProperty(o)?n[o]:null}function X(n){return n&&(n.hasOwnProperty(re)||n.hasOwnProperty(q))?n[re]:null}const $=c({\u0275prov:c}),re=c({\u0275inj:c}),J=c({ngInjectableDef:c}),q=c({ngInjectorDef:c});var _e=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(_e||{});let xe;function Ge(n){const o=xe;return xe=n,o}function ct(n,o,u){const E=ie(n);return E&&"root"==E.providedIn?void 0===E.value?E.value=E.factory():E.value:u&_e.Optional?null:void 0!==o?o:void Fe(f(n))}const tt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Dt={},fe="__NG_DI_FLAG__",ze="ngTempTokenPath",Kt=/\n/gm,qt="__source";let un;function wt(n){const o=un;return un=n,o}function vt(n,o=_e.Default){if(void 0===un)throw new T(-203,!1);return null===un?ct(n,void 0,o):un.get(n,o&_e.Optional?null:void 0,o)}function it(n,o=_e.Default){return(function Ee(){return xe}()||vt)(A(n),o)}function Ye(n,o=_e.Default){return it(n,st(o))}function st(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function at(n){const o=[];for(let u=0;u<n.length;u++){const E=A(n[u]);if(Array.isArray(E)){if(0===E.length)throw new T(900,!1);let R,K=_e.Default;for(let me=0;me<E.length;me++){const Ke=E[me],ot=bt(Ke);"number"==typeof ot?-1===ot?R=Ke.token:K|=ot:R=Ke}o.push(it(R,K))}else o.push(it(E))}return o}function St(n,o){return n[fe]=o,n.prototype[fe]=o,n}function bt(n){return n[fe]}function En(n){return{toString:n}.toString()}var tn=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(tn||{}),Mn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Mn||{});const In={},Nn=[],$n=c({\u0275cmp:c}),ni=c({\u0275dir:c}),vn=c({\u0275pipe:c}),gn=c({\u0275mod:c}),yn=c({\u0275fac:c}),pn=c({__NG_ELEMENT_ID__:c}),_n=c({__NG_ENV_ID__:c});function Mt(n,o,u){let E=n.length;for(;;){const R=n.indexOf(o,u);if(-1===R)return R;if(0===R||n.charCodeAt(R-1)<=32){const K=o.length;if(R+K===E||n.charCodeAt(R+K)<=32)return R}u=R+1}}function ht(n,o,u){let E=0;for(;E<u.length;){const R=u[E];if("number"==typeof R){if(0!==R)break;E++;const K=u[E++],me=u[E++],Ke=u[E++];n.setAttribute(o,me,Ke,K)}else{const K=R,me=u[++E];qe(K)?n.setProperty(o,K,me):n.setAttribute(o,K,me),E++}}return E}function Tn(n){return 3===n||4===n||6===n}function qe(n){return 64===n.charCodeAt(0)}function Ct(n,o){if(null!==o&&0!==o.length)if(null===n||0===n.length)n=o.slice();else{let u=-1;for(let E=0;E<o.length;E++){const R=o[E];"number"==typeof R?u=R:0===u||Qt(n,u,R,null,-1===u||2===u?o[++E]:null)}}return n}function Qt(n,o,u,E,R){let K=0,me=n.length;if(-1===o)me=-1;else for(;K<n.length;){const Ke=n[K++];if("number"==typeof Ke){if(Ke===o){me=-1;break}if(Ke>o){me=K-1;break}}}for(;K<n.length;){const Ke=n[K];if("number"==typeof Ke)break;if(Ke===u){if(null===E)return void(null!==R&&(n[K+1]=R));if(E===n[K+1])return void(n[K+2]=R)}K++,null!==E&&K++,null!==R&&K++}-1!==me&&(n.splice(me,0,o),K=me+1),n.splice(K++,0,u),null!==E&&n.splice(K++,0,E),null!==R&&n.splice(K++,0,R)}const Rt="ng-template";function xn(n,o,u){let E=0,R=!0;for(;E<n.length;){let K=n[E++];if("string"==typeof K&&R){const me=n[E++];if(u&&"class"===K&&-1!==Mt(me.toLowerCase(),o,0))return!0}else{if(1===K){for(;E<n.length&&"string"==typeof(K=n[E++]);)if(K.toLowerCase()===o)return!0;return!1}"number"==typeof K&&(R=!1)}}return!1}function kt(n){return 4===n.type&&n.value!==Rt}function It(n,o,u){return o===(4!==n.type||u?n.value:Rt)}function Nt(n,o,u){let E=4;const R=n.attrs||[],K=function Ut(n){for(let o=0;o<n.length;o++)if(Tn(n[o]))return o;return n.length}(R);let me=!1;for(let Ke=0;Ke<o.length;Ke++){const ot=o[Ke];if("number"!=typeof ot){if(!me)if(4&E){if(E=2|1&E,""!==ot&&!It(n,ot,u)||""===ot&&1===o.length){if(en(E))return!1;me=!0}}else{const Lt=8&E?ot:o[++Ke];if(8&E&&null!==n.attrs){if(!xn(n.attrs,Lt,u)){if(en(E))return!1;me=!0}continue}const Cn=An(8&E?"class":ot,R,kt(n),u);if(-1===Cn){if(en(E))return!1;me=!0;continue}if(""!==Lt){let jn;jn=Cn>K?"":R[Cn+1].toLowerCase();const Jn=8&E?jn:null;if(Jn&&-1!==Mt(Jn,Lt,0)||2&E&&Lt!==jn){if(en(E))return!1;me=!0}}}}else{if(!me&&!en(E)&&!en(ot))return!1;if(me&&en(ot))continue;me=!1,E=ot|1&E}}return en(E)||me}function en(n){return 0==(1&n)}function An(n,o,u,E){if(null===o)return-1;let R=0;if(E||!u){let K=!1;for(;R<o.length;){const me=o[R];if(me===n)return R;if(3===me||6===me)K=!0;else{if(1===me||2===me){let Ke=o[++R];for(;"string"==typeof Ke;)Ke=o[++R];continue}if(4===me)break;if(0===me){R+=4;continue}}R+=K?1:2}return-1}return function On(n,o){let u=n.indexOf(4);if(u>-1)for(u++;u<n.length;){const E=n[u];if("number"==typeof E)return-1;if(E===o)return u;u++}return-1}(o,n)}function Kn(n,o,u=!1){for(let E=0;E<o.length;E++)if(Nt(n,o[E],u))return!0;return!1}function Ne(n,o){e:for(let u=0;u<o.length;u++){const E=o[u];if(n.length===E.length){for(let R=0;R<n.length;R++)if(n[R]!==E[R])continue e;return!0}}return!1}function Ft(n,o){return n?":not("+o.trim()+")":o}function Pt(n){let o=n[0],u=1,E=2,R="",K=!1;for(;u<n.length;){let me=n[u];if("string"==typeof me)if(2&E){const Ke=n[++u];R+="["+me+(Ke.length>0?'="'+Ke+'"':"")+"]"}else 8&E?R+="."+me:4&E&&(R+=" "+me);else""!==R&&!en(me)&&(o+=Ft(K,R),R=""),E=me,K=K||!en(E);u++}return""!==R&&(o+=Ft(K,R)),o}function vi(n){return En(()=>{const o=ls(n),u={...o,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===tn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Mn.Emulated,styles:n.styles||Nn,_:null,schemas:n.schemas||null,tView:null,id:""};xr(u);const E=n.dependencies;return u.directiveDefs=co(E,!1),u.pipeDefs=co(E,!0),u.id=function ws(n){let o=0;const u=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const R of u)o=Math.imul(31,o)+R.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(u),u})}function $r(n){return Yi(n)||Vr(n)}function jr(n){return null!==n}function ki(n){return En(()=>({type:n.type,bootstrap:n.bootstrap||Nn,declarations:n.declarations||Nn,imports:n.imports||Nn,exports:n.exports||Nn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Wo(n,o){if(null==n)return In;const u={};for(const E in n)if(n.hasOwnProperty(E)){let R=n[E],K=R;Array.isArray(R)&&(K=R[1],R=R[0]),u[R]=E,o&&(o[R]=K)}return u}function Do(n){return En(()=>{const o=ls(n);return xr(o),o})}function bs(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Yi(n){return n[$n]||null}function Vr(n){return n[ni]||null}function ir(n){return n[vn]||null}function lo(n){const o=Yi(n)||Vr(n)||ir(n);return null!==o&&o.standalone}function Kr(n,o){const u=n[gn]||null;if(!u&&!0===o)throw new Error(`Type ${f(n)} does not have '\u0275mod' property.`);return u}function ls(n){const o={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:n.inputs||In,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Nn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Wo(n.inputs,o),outputs:Wo(n.outputs)}}function xr(n){n.features?.forEach(o=>o(n))}function co(n,o){if(!n)return null;const u=o?ir:$r;return()=>("function"==typeof n?n():n).map(E=>u(E)).filter(jr)}const Sr=0,yi=1,Zi=2,Rr=3,Wr=4,Mo=5,Jr=6,go=7,Dn=8,qn=9,hi=10,ci=11,Ui=12,Ji=13,or=14,Ki=15,Ir=16,Oo=17,Fo=18,Bo=19,Ks=20,eo=21,yo=22,cs=23,ds=24,cr=25,es=1,Ws=2,uo=7,Os=9,Yr=11;function Cr(n){return Array.isArray(n)&&"object"==typeof n[es]}function oo(n){return Array.isArray(n)&&!0===n[es]}function ha(n){return 0!=(4&n.flags)}function Ao(n){return n.componentOffset>-1}function Fr(n){return 1==(1&n.flags)}function pr(n){return!!n.template}function Uo(n){return 0!=(512&n[Zi])}function _t(n,o){return n.hasOwnProperty(yn)?n[yn]:null}let zi=tt.WeakRef??class Ti{constructor(o){this.ref=o}deref(){return this.ref}},Ss=0,si=null,Ns=!1;function to(n){const o=si;return si=n,o}class hs{constructor(){this.id=Ss++,this.ref=function $o(n){return new zi(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[o,u]of this.producers){const E=u.producerNode.deref();if(null!=E&&u.atTrackingVersion===this.trackingVersion){if(E.producerPollStatus(u.seenValueVersion))return!0}else this.producers.delete(o),E?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const o=Ns;Ns=!0;try{for(const[u,E]of this.consumers){const R=E.consumerNode.deref();null!=R&&R.trackingVersion===E.atTrackingVersion?R.onConsumerDependencyMayHaveChanged():(this.consumers.delete(u),R?.producers.delete(this.id))}}finally{Ns=o}}producerAccessed(){if(Ns)throw new Error("");if(null===si)return;let o=si.producers.get(this.id);void 0===o?(o={consumerNode:si.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:si.trackingVersion},si.producers.set(this.id,o),this.consumers.set(si.id,o)):(o.seenValueVersion=this.valueVersion,o.atTrackingVersion=si.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==si?.consumerAllowSignalWrites}producerPollStatus(o){return this.valueVersion!==o||(this.onProducerUpdateValueVersion(),this.valueVersion!==o)}}let wl=null;function uc(n){const o=to(null);try{return n()}finally{to(o)}}const Ha=()=>{};class dl extends hs{constructor(o,u,E){super(),this.watch=o,this.schedule=u,this.dirty=!1,this.cleanupFn=Ha,this.registerOnCleanup=R=>{this.cleanupFn=R},this.consumerAllowSignalWrites=E}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const o=to(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Ha,this.watch(this.registerOnCleanup)}finally{to(o)}}cleanup(){this.cleanupFn()}}class _a{constructor(o,u,E){this.previousValue=o,this.currentValue=u,this.firstChange=E}isFirstChange(){return this.firstChange}}function ul(){return va}function va(n){return n.type.prototype.ngOnChanges&&(n.setInput=hl),fl}function fl(){const n=ya(this),o=n?.current;if(o){const u=n.previous;if(u===In)n.previous=o;else for(let E in o)u[E]=o[E];n.current=null,this.ngOnChanges(o)}}function hl(n,o,u,E){const R=this.declaredInputs[u],K=ya(n)||function el(n,o){return n[fc]=o}(n,{previous:In,current:null}),me=K.current||(K.current={}),Ke=K.previous,ot=Ke[R];me[R]=new _a(ot&&ot.currentValue,o,Ke===In),n[E]=o}ul.ngInherit=!0;const fc="__ngSimpleChanges__";function ya(n){return n[fc]||null}const Cs=function(n,o,u){},Oa="svg";function rr(n){for(;Array.isArray(n);)n=n[Sr];return n}function $e(n,o){return rr(o[n])}function Yt(n,o){return rr(o[n.index])}function Vt(n,o){return n.data[o]}function Sn(n,o){return n[o]}function Zn(n,o){const u=o[n];return Cr(u)?u:u[Sr]}function _r(n,o){return null==o?null:n[o]}function fr(n){n[Oo]=0}function tr(n){1024&n[Zi]||(n[Zi]|=1024,Lr(n,1))}function fo(n){1024&n[Zi]&&(n[Zi]&=-1025,Lr(n,-1))}function Lr(n,o){let u=n[Rr];if(null===u)return;u[Mo]+=o;let E=u;for(u=u[Rr];null!==u&&(1===o&&1===E[Mo]||-1===o&&0===E[Mo]);)u[Mo]+=o,E=u,u=u[Rr]}const Gi={lFrame:Wl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ba(){return Gi.bindingsEnabled}function aa(){return null!==Gi.skipHydrationRootTNode}function di(){return Gi.lFrame.lView}function sr(){return Gi.lFrame.tView}function pl(n){return Gi.lFrame.contextLView=n,n[Dn]}function mc(n){return Gi.lFrame.contextLView=null,n}function jo(){let n=Wc();for(;null!==n&&64===n.type;)n=n.parent;return n}function Wc(){return Gi.lFrame.currentTNode}function tl(){const n=Gi.lFrame,o=n.currentTNode;return n.isParent?o:o.parent}function so(n,o){const u=Gi.lFrame;u.currentTNode=n,u.isParent=o}function Ka(){return Gi.lFrame.isParent}function Ro(){Gi.lFrame.isParent=!1}function Jo(){const n=Gi.lFrame;let o=n.bindingRootIndex;return-1===o&&(o=n.bindingRootIndex=n.tView.bindingStartIndex),o}function la(){return Gi.lFrame.bindingIndex}function _o(){return Gi.lFrame.bindingIndex++}function xo(n){const o=Gi.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+n,u}function nl(n){Gi.lFrame.inI18n=n}function Sa(n,o){const u=Gi.lFrame;u.bindingIndex=u.bindingRootIndex=n,Us(o)}function Us(n){Gi.lFrame.currentDirectiveIndex=n}function _l(n){const o=Gi.lFrame.currentDirectiveIndex;return-1===o?null:n[o]}function pc(){return Gi.lFrame.currentQueryIndex}function vl(n){Gi.lFrame.currentQueryIndex=n}function Yc(n){const o=n[yi];return 2===o.type?o.declTNode:1===o.type?n[Jr]:null}function $s(n,o,u){if(u&_e.SkipSelf){let R=o,K=n;for(;!(R=R.parent,null!==R||u&_e.Host||(R=Yc(K),null===R||(K=K[or],10&R.type))););if(null===R)return!1;o=R,n=K}const E=Gi.lFrame=Rc();return E.currentTNode=o,E.lView=n,!0}function yl(n){const o=Rc(),u=n[yi];Gi.lFrame=o,o.currentTNode=u.firstChild,o.lView=n,o.tView=u,o.contextLView=n,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function Rc(){const n=Gi.lFrame,o=null===n?null:n.child;return null===o?Wl(n):o}function Wl(n){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=o),o}function gc(){const n=Gi.lFrame;return Gi.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const No=gc;function Pa(){const n=gc();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ue(){return Gi.lFrame.selectedIndex}function rt(n){Gi.lFrame.selectedIndex=n}function Me(){const n=Gi.lFrame;return Vt(n.tView,n.selectedIndex)}function nt(){Gi.lFrame.currentNamespace=Oa}function sn(){!function dn(){Gi.lFrame.currentNamespace=null}()}let mi=!0;function Pi(){return mi}function Ri(n){mi=n}function qr(n,o){for(let u=o.directiveStart,E=o.directiveEnd;u<E;u++){const K=n.data[u].type.prototype,{ngAfterContentInit:me,ngAfterContentChecked:Ke,ngAfterViewInit:ot,ngAfterViewChecked:Lt,ngOnDestroy:nn}=K;me&&(n.contentHooks??=[]).push(-u,me),Ke&&((n.contentHooks??=[]).push(u,Ke),(n.contentCheckHooks??=[]).push(u,Ke)),ot&&(n.viewHooks??=[]).push(-u,ot),Lt&&((n.viewHooks??=[]).push(u,Lt),(n.viewCheckHooks??=[]).push(u,Lt)),null!=nn&&(n.destroyHooks??=[]).push(u,nn)}}function ao(n,o,u){rs(n,o,3,u)}function Qo(n,o,u,E){(3&n[Zi])===u&&rs(n,o,u,E)}function gs(n,o){let u=n[Zi];(3&u)===o&&(u&=8191,u+=1,n[Zi]=u)}function rs(n,o,u,E){const K=E??-1,me=o.length-1;let Ke=0;for(let ot=void 0!==E?65535&n[Oo]:0;ot<me;ot++)if("number"==typeof o[ot+1]){if(Ke=o[ot],null!=E&&Ke>=E)break}else o[ot]<0&&(n[Oo]+=65536),(Ke<K||-1==K)&&(bl(n,u,o,ot),n[Oo]=(4294901760&n[Oo])+ot+2),ot++}function Wa(n,o){Cs(4,n,o);const u=to(null);try{o.call(n)}finally{to(u),Cs(5,n,o)}}function bl(n,o,u,E){const R=u[E]<0,K=u[E+1],Ke=n[R?-u[E]:u[E]];R?n[Zi]>>13<n[Oo]>>16&&(3&n[Zi])===o&&(n[Zi]+=8192,Wa(Ke,K)):Wa(Ke,K)}const da=-1;class _s{constructor(o,u,E){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=E}}function zl(n){return n!==da}function xs(n){return 32767&n}function Tl(n,o){let u=function Zl(n){return n>>16}(n),E=o;for(;u>0;)E=E[or],u--;return E}let Ya=!0;function $l(n){const o=Ya;return Ya=n,o}const Gs=255,Na=5;let rd=0;const vs={};function Ll(n,o){const u=zc(n,o);if(-1!==u)return u;const E=o[yi];E.firstCreatePass&&(n.injectorIndex=o.length,il(E.data,n),il(o,null),il(E.blueprint,null));const R=Js(n,o),K=n.injectorIndex;if(zl(R)){const me=xs(R),Ke=Tl(R,o),ot=Ke[yi].data;for(let Lt=0;Lt<8;Lt++)o[K+Lt]=Ke[me+Lt]|ot[me+Lt]}return o[K+8]=R,K}function il(n,o){n.push(0,0,0,0,0,0,0,0,o)}function zc(n,o){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===o[n.injectorIndex+8]?-1:n.injectorIndex}function Js(n,o){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let u=0,E=null,R=o;for(;null!==R;){if(E=Jc(R),null===E)return da;if(u++,R=R[or],-1!==E.injectorIndex)return E.injectorIndex|u<<16}return da}function Ql(n,o,u){!function Ec(n,o,u){let E;"string"==typeof u?E=u.charCodeAt(0)||0:u.hasOwnProperty(pn)&&(E=u[pn]),null==E&&(E=u[pn]=rd++);const R=E&Gs;o.data[n+(R>>Na)]|=1<<R}(n,o,u)}function kl(n,o,u){if(u&_e.Optional||void 0!==n)return n;Fe()}function ql(n,o,u,E){if(u&_e.Optional&&void 0===E&&(E=null),!(u&(_e.Self|_e.Host))){const R=n[qn],K=Ge(void 0);try{return R?R.get(o,E,u&_e.Optional):ct(o,E,u&_e.Optional)}finally{Ge(K)}}return kl(E,0,u)}function Tc(n,o,u,E=_e.Default,R){if(null!==n){if(2048&o[Zi]&&!(E&_e.Self)){const me=function $c(n,o,u,E,R){let K=n,me=o;for(;null!==K&&null!==me&&2048&me[Zi]&&!(512&me[Zi]);){const Ke=Nc(K,me,u,E|_e.Self,vs);if(Ke!==vs)return Ke;let ot=K.parent;if(!ot){const Lt=me[Ks];if(Lt){const nn=Lt.get(u,vs,E);if(nn!==vs)return nn}ot=Jc(me),me=me[or]}K=ot}return R}(n,o,u,E,vs);if(me!==vs)return me}const K=Nc(n,o,u,E,vs);if(K!==vs)return K}return ql(o,u,E,R)}function Nc(n,o,u,E,R){const K=function Sl(n){if("string"==typeof n)return n.charCodeAt(0)||0;const o=n.hasOwnProperty(pn)?n[pn]:void 0;return"number"==typeof o?o>=0?o&Gs:Lc:o}(u);if("function"==typeof K){if(!$s(o,n,E))return E&_e.Host?kl(R,0,E):ql(o,u,E,R);try{const me=K(E);if(null!=me||E&_e.Optional)return me;Fe()}finally{No()}}else if("number"==typeof K){let me=null,Ke=zc(n,o),ot=da,Lt=E&_e.Host?o[Ki][Jr]:null;for((-1===Ke||E&_e.SkipSelf)&&(ot=-1===Ke?Js(n,o):o[Ke+8],ot!==da&&Fl(E,!1)?(me=o[yi],Ke=xs(ot),o=Tl(ot,o)):Ke=-1);-1!==Ke;){const nn=o[yi];if(Cl(K,Ke,nn.data)){const Cn=Zc(Ke,o,u,me,E,Lt);if(Cn!==vs)return Cn}ot=o[Ke+8],ot!==da&&Fl(E,o[yi].data[Ke+8]===Lt)&&Cl(K,Ke,o)?(me=nn,Ke=xs(ot),o=Tl(ot,o)):Ke=-1}}return R}function Zc(n,o,u,E,R,K){const me=o[yi],Ke=me.data[n+8],nn=Qs(Ke,me,u,null==E?Ao(Ke)&&Ya:E!=me&&0!=(3&Ke.type),R&_e.Host&&K===Ke);return null!==nn?La(o,me,nn,Ke):vs}function Qs(n,o,u,E,R){const K=n.providerIndexes,me=o.data,Ke=1048575&K,ot=n.directiveStart,nn=K>>20,jn=R?Ke+nn:n.directiveEnd;for(let Jn=E?Ke:Ke+nn;Jn<jn;Jn++){const fi=me[Jn];if(Jn<ot&&u===fi||Jn>=ot&&fi.type===u)return Jn}if(R){const Jn=me[ot];if(Jn&&pr(Jn)&&Jn.type===u)return ot}return null}function La(n,o,u,E){let R=n[u];const K=o.data;if(function El(n){return n instanceof _s}(R)){const me=R;me.resolving&&function z(n,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${n}`:"";throw new T(-200,`Circular dependency in DI detected for ${n}${u}`)}(function B(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():y(n)}(K[u]));const Ke=$l(me.canSeeViewProviders);me.resolving=!0;const ot=me.injectImpl?Ge(me.injectImpl):null;$s(n,E,_e.Default);try{R=n[u]=me.factory(void 0,K,n,E),o.firstCreatePass&&u>=E.directiveStart&&function Tr(n,o,u){const{ngOnChanges:E,ngOnInit:R,ngDoCheck:K}=o.type.prototype;if(E){const me=va(o);(u.preOrderHooks??=[]).push(n,me),(u.preOrderCheckHooks??=[]).push(n,me)}R&&(u.preOrderHooks??=[]).push(0-n,R),K&&((u.preOrderHooks??=[]).push(n,K),(u.preOrderCheckHooks??=[]).push(n,K))}(u,K[u],o)}finally{null!==ot&&Ge(ot),$l(Ke),me.resolving=!1,No()}}return R}function Cl(n,o,u){return!!(u[o+(n>>Na)]&1<<n)}function Fl(n,o){return!(n&_e.Self||n&_e.Host&&o)}class Bl{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,E){return Tc(this._tNode,this._lView,o,st(E),u)}}function Lc(){return new Bl(jo(),di())}function Sc(n){return En(()=>{const o=n.prototype.constructor,u=o[yn]||Cc(o),E=Object.prototype;let R=Object.getPrototypeOf(n.prototype).constructor;for(;R&&R!==E;){const K=R[yn]||Cc(R);if(K&&K!==u)return K;R=Object.getPrototypeOf(R)}return K=>new K})}function Cc(n){return N(n)?()=>{const o=Cc(A(n));return o&&o()}:_t(n)}function Jc(n){const o=n[yi],u=o.type;return 2===u?o.declTNode:1===u?n[Jr]:null}function Xl(n){return function _d(n,o){if("class"===o)return n.classes;if("style"===o)return n.styles;const u=n.attrs;if(u){const E=u.length;let R=0;for(;R<E;){const K=u[R];if(Tn(K))break;if(0===K)R+=2;else if("number"==typeof K)for(R++;R<E&&"string"==typeof u[R];)R++;else{if(K===o)return u[R+1];R+=2}}}return null}(jo(),n)}const ka="__parameters__";function Za(n,o,u){return En(()=>{const E=function Ul(n){return function(...u){if(n){const E=n(...u);for(const R in E)this[R]=E[R]}}}(o);function R(...K){if(this instanceof R)return E.apply(this,K),this;const me=new R(...K);return Ke.annotation=me,Ke;function Ke(ot,Lt,nn){const Cn=ot.hasOwnProperty(ka)?ot[ka]:Object.defineProperty(ot,ka,{value:[]})[ka];for(;Cn.length<=nn;)Cn.push(null);return(Cn[nn]=Cn[nn]||[]).push(me),ot}}return u&&(R.prototype=Object.create(u.prototype)),R.prototype.ngMetadataName=n,R.annotationCls=R,R})}function Ca(n,o){n.forEach(u=>Array.isArray(u)?Ca(u,o):o(u))}function Qc(n,o,u){o>=n.length?n.push(u):n.splice(o,0,u)}function ic(n,o){return o>=n.length-1?n.pop():n.splice(o,1)[0]}function Ml(n,o){const u=[];for(let E=0;E<n;E++)u.push(o);return u}function dt(n,o,u){let E=hn(n,o);return E>=0?n[1|E]=u:(E=~E,function od(n,o,u,E){let R=n.length;if(R==o)n.push(u,E);else if(1===R)n.push(E,n[0]),n[0]=u;else{for(R--,n.push(n[R-1],n[R]);R>o;)n[R]=n[R-2],R--;n[o]=u,n[o+1]=E}}(n,E,o,u)),E}function Ht(n,o){const u=hn(n,o);if(u>=0)return n[1|u]}function hn(n,o){return function Gn(n,o,u){let E=0,R=n.length>>u;for(;R!==E;){const K=E+(R-E>>1),me=n[K<<u];if(o===me)return K<<u;me>o?R=K:E=K+1}return~(R<<u)}(n,o,1)}const ol=St(Za("Optional"),8),To=St(Za("SkipSelf"),4);function jt(n){return 128==(128&n.flags)}var cn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(cn||{});const bn=/^>|^->|<!--|-->|--!>|<!-$/g,Bn=/(<|>)/,ti="\u200b$1\u200b";const ui=new Map;let oi=0;const Vs="__ngContext__";function Or(n,o){Cr(o)?(n[Vs]=o[Bo],function pi(n){ui.set(n[Bo],n)}(o)):n[Vs]=o}let wc;function cd(n,o){return wc(n,o)}function zd(n){const o=n[Rr];return oo(o)?o[Rr]:o}function mu(n){return Xu(n[Ui])}function qu(n){return Xu(n[Wr])}function Xu(n){for(;null!==n&&!oo(n);)n=n[Wr];return n}function Od(n,o,u,E,R){if(null!=E){let K,me=!1;oo(E)?K=E:Cr(E)&&(me=!0,E=E[Sr]);const Ke=rr(E);0===n&&null!==u?null==R?af(o,u,Ke):Ed(o,u,Ke,R||null,!0):1===n&&null!==u?Ed(o,u,Ke,R||null,!0):2===n?function au(n,o,u){const E=ou(n,o);E&&function $f(n,o,u,E){n.removeChild(o,u,E)}(n,E,o,u)}(o,Ke,me):3===n&&o.destroyNode(Ke),null!=K&&function mf(n,o,u,E,R){const K=u[uo];K!==rr(u)&&Od(o,n,E,K,R);for(let Ke=Yr;Ke<u.length;Ke++){const ot=u[Ke];Pd(ot[yi],ot,n,o,E,K)}}(o,n,K,u,R)}}function Xd(n,o){return n.createText(o)}function eu(n,o){return n.createComment(function zn(n){return n.replace(bn,o=>o.replace(Bn,ti))}(o))}function tu(n,o,u){return n.createElement(o,u)}function pu(n,o){const u=n[Os],E=u.indexOf(o);fo(o),u.splice(E,1)}function gu(n,o){if(n.length<=Yr)return;const u=Yr+o,E=n[u];if(E){const R=E[Ir];null!==R&&R!==n&&pu(R,E),o>0&&(n[u-1][Wr]=E[Wr]);const K=ic(n,Yr+o);!function tf(n,o){Pd(n,o,o[ci],2,null,null),o[Sr]=null,o[Jr]=null}(E[yi],E);const me=K[Fo];null!==me&&me.detachView(K[yi]),E[Rr]=null,E[Wr]=null,E[Zi]&=-129}return E}function rf(n,o){if(!(256&o[Zi])){const u=o[ci];o[cs]?.destroy(),o[ds]?.destroy(),u.destroyNode&&Pd(n,o,u,3,null,null),function nu(n){let o=n[Ui];if(!o)return iu(n[yi],n);for(;o;){let u=null;if(Cr(o))u=o[Ui];else{const E=o[Yr];E&&(u=E)}if(!u){for(;o&&!o[Wr]&&o!==n;)Cr(o)&&iu(o[yi],o),o=o[Rr];null===o&&(o=n),Cr(o)&&iu(o[yi],o),u=o&&o[Wr]}o=u}}(o)}}function iu(n,o){if(!(256&o[Zi])){o[Zi]&=-129,o[Zi]|=256,function _u(n,o){let u;if(null!=n&&null!=(u=n.destroyHooks))for(let E=0;E<u.length;E+=2){const R=o[u[E]];if(!(R instanceof _s)){const K=u[E+1];if(Array.isArray(K))for(let me=0;me<K.length;me+=2){const Ke=R[K[me]],ot=K[me+1];Cs(4,Ke,ot);try{ot.call(Ke)}finally{Cs(5,Ke,ot)}}else{Cs(4,R,K);try{K.call(R)}finally{Cs(5,R,K)}}}}}(n,o),function Zf(n,o){const u=n.cleanup,E=o[go];if(null!==u)for(let K=0;K<u.length-1;K+=2)if("string"==typeof u[K]){const me=u[K+3];me>=0?E[me]():E[-me].unsubscribe(),K+=2}else u[K].call(E[u[K+1]]);null!==E&&(o[go]=null);const R=o[eo];if(null!==R){o[eo]=null;for(let K=0;K<R.length;K++)(0,R[K])()}}(n,o),1===o[yi].type&&o[ci].destroy();const u=o[Ir];if(null!==u&&oo(o[Rr])){u!==o[Rr]&&pu(u,o);const E=o[Fo];null!==E&&E.detachView(n)}!function Ii(n){ui.delete(n[Bo])}(o)}}function ru(n,o,u){return sf(n,o.parent,u)}function sf(n,o,u){let E=o;for(;null!==E&&40&E.type;)E=(o=E).parent;if(null===E)return u[Sr];{const{componentOffset:R}=E;if(R>-1){const{encapsulation:K}=n.data[E.directiveStart+R];if(K===Mn.None||K===Mn.Emulated)return null}return Yt(E,u)}}function Ed(n,o,u,E,R){n.insertBefore(o,u,E,R)}function af(n,o,u){n.appendChild(o,u)}function lf(n,o,u,E,R){null!==E?Ed(n,o,u,E,R):af(n,o,u)}function ou(n,o){return n.parentNode(o)}function cf(n,o,u){return vu(n,o,u)}function df(n,o,u){return 40&n.type?Yt(n,u):null}let yu,Rd,j,zt,vu=df;function uf(n,o){vu=n,yu=o}function su(n,o,u,E){const R=ru(n,E,o),K=o[ci],Ke=cf(E.parent||o[Jr],E,o);if(null!=R)if(Array.isArray(u))for(let ot=0;ot<u.length;ot++)lf(K,R,u[ot],Ke,!1);else lf(K,R,u,Ke,!1);void 0!==yu&&yu(K,E,o,u,R)}function Zd(n,o){if(null!==o){const u=o.type;if(3&u)return Yt(o,n);if(4&u)return Eu(-1,n[o.index]);if(8&u){const E=o.child;if(null!==E)return Zd(n,E);{const R=n[o.index];return oo(R)?Eu(-1,R):rr(R)}}if(32&u)return cd(o,n)()||rr(n[o.index]);{const E=bu(n,o);return null!==E?Array.isArray(E)?E[0]:Zd(zd(n[Ki]),E):Zd(n,o.next)}}return null}function bu(n,o){return null!==o?n[Ki][Jr].projection[o.projection]:null}function Eu(n,o){const u=Yr+n+1;if(u<o.length){const E=o[u],R=E[yi].firstChild;if(null!==R)return Zd(E,R)}return o[uo]}function Tu(n,o,u,E,R,K,me){for(;null!=u;){const Ke=E[u.index],ot=u.type;if(me&&0===o&&(Ke&&Or(rr(Ke),E),u.flags|=2),32!=(32&u.flags))if(8&ot)Tu(n,o,u.child,E,R,K,!1),Od(o,n,R,Ke,K);else if(32&ot){const Lt=cd(u,E);let nn;for(;nn=Lt();)Od(o,n,R,nn,K);Od(o,n,R,Ke,K)}else 16&ot?hf(n,o,E,u,R,K):Od(o,n,R,Ke,K);u=me?u.projectionNext:u.next}}function Pd(n,o,u,E,R,K){Tu(u,E,n.firstChild,o,R,K,!1)}function hf(n,o,u,E,R,K){const me=u[Ki],ot=me[Jr].projection[E.projection];if(Array.isArray(ot))for(let Lt=0;Lt<ot.length;Lt++)Od(o,n,R,ot[Lt],K);else{let Lt=ot;const nn=me[Rr];jt(E)&&(Lt.flags|=128),Tu(n,o,Lt,nn,R,K,!0)}}function pf(n,o,u){""===u?n.removeAttribute(o,"class"):n.setAttribute(o,"class",u)}function gf(n,o,u){const{mergedAttrs:E,classes:R,styles:K}=u;null!==E&&ht(n,o,E),null!==R&&pf(n,o,R),null!==K&&function eh(n,o,u){n.setAttribute(o,"style",u)}(n,o,K)}function Nd(n){return function Su(){if(void 0===Rd&&(Rd=null,tt.trustedTypes))try{Rd=tt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Rd}()?.createHTML(n)||n}function ve(n){j=n}function Et(){if(void 0!==j)return j;if(typeof document<"u")return document;throw new T(210,!1)}function Rn(){if(void 0===zt&&(zt=null,tt.trustedTypes))try{zt=tt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return zt}function Un(n){return Rn()?.createHTML(n)||n}function ii(n){return Rn()?.createScriptURL(n)||n}class Ai{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${I})`}}class Ei extends Ai{getTypeName(){return"HTML"}}class Li extends Ai{getTypeName(){return"Style"}}class Xr extends Ai{getTypeName(){return"Script"}}class Pr extends Ai{getTypeName(){return"URL"}}class qi extends Ai{getTypeName(){return"ResourceURL"}}function yr(n){return n instanceof Ai?n.changingThisBreaksApplicationSecurity:n}function Mr(n,o){const u=function Yo(n){return n instanceof Ai&&n.getTypeName()||null}(n);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see ${I})`)}return u===o}function Gr(n){return new Ei(n)}function ho(n){return new Li(n)}function zr(n){return new Xr(n)}function ss(n){return new Pr(n)}function zo(n){return new qi(n)}function ta(n){const o=new Ba(n);return function ac(){try{return!!(new window.DOMParser).parseFromString(Nd(""),"text/html")}catch{return!1}}()?new na(o):o}class na{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(Nd(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch{return null}}}class Ba{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const u=this.inertDocument.createElement("template");return u.innerHTML=Nd(o),u}}const Ua=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Oc(n){return(n=String(n)).match(Ua)?n:"unsafe:"+n}function Qa(n){const o={};for(const u of n.split(","))o[u]=!0;return o}function Is(...n){const o={};for(const u of n)for(const E in u)u.hasOwnProperty(E)&&(o[E]=!0);return o}const Hl=Qa("area,br,col,hr,img,wbr"),Ld=Qa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jl=Qa("rp,rt"),dd=Is(Hl,Is(Ld,Qa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Is(jl,Qa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Is(jl,Ld)),Gc=Qa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Td=Is(Gc,Qa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fd=Qa("script,style,template");class Ud{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,E=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?E=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,E&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let R=this.checkClobberedElement(u,u.nextSibling);if(R){u=R;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!dd.hasOwnProperty(u))return this.sanitizedSomething=!0,!fd.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const E=o.attributes;for(let R=0;R<E.length;R++){const K=E.item(R),me=K.name,Ke=me.toLowerCase();if(!Td.hasOwnProperty(Ke)){this.sanitizedSomething=!0;continue}let ot=K.value;Gc[Ke]&&(ot=Oc(ot)),this.buf.push(" ",me,'="',Cu(ot),'"')}return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();dd.hasOwnProperty(u)&&!Hl.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(Cu(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const _f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cu=/([^\#-~ |!])/g;function Cu(n){return n.replace(/&/g,"&amp;").replace(_f,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(cu,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let de;function Z(n,o){let u=null;try{de=de||ta(n);let E=o?String(o):"";u=de.getInertBodyElement(E);let R=5,K=E;do{if(0===R)throw new Error("Failed to sanitize html because the input is unstable");R--,E=K,K=u.innerHTML,u=de.getInertBodyElement(E)}while(E!==K);return Nd((new Ud).sanitizeChildren(F(u)||u))}finally{if(u){const E=F(u)||u;for(;E.firstChild;)E.removeChild(E.firstChild)}}}function F(n){return"content"in n&&function ue(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var je=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(je||{});function xt(n){const o=vo();return o?Un(o.sanitize(je.HTML,n)||""):Mr(n,"HTML")?Un(yr(n)):Z(Et(),y(n))}function mn(n){const o=vo();return o?o.sanitize(je.URL,n)||"":Mr(n,"URL")?yr(n):Oc(y(n))}function Pn(n){const o=vo();if(o)return ii(o.sanitize(je.RESOURCE_URL,n)||"");if(Mr(n,"ResourceURL"))return ii(yr(n));throw new T(904,!1)}function br(n,o,u){return function Hr(n,o){return"src"===o&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===o&&("base"===n||"link"===n)?Pn:mn}(o,u)(n)}function vo(){const n=di();return n&&n[hi].sanitizer}class lr{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Re({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const as=new lr("ENVIRONMENT_INITIALIZER"),ua=new lr("INJECTOR",-1),ro=new lr("INJECTOR_DEF_TYPES");class qa{get(o,u=Dt){if(u===Dt){const E=new Error(`NullInjectorError: No provider for ${f(o)}!`);throw E.name="NullInjectorError",E}return u}}function fa(n){return{\u0275providers:n}}function xl(...n){return{\u0275providers:ed(0,n),\u0275fromNgModule:!0}}function ed(n,...o){const u=[],E=new Set;let R;return Ca(o,K=>{const me=K;Hc(me,u,[],E)&&(R||=[],R.push(me))}),void 0!==R&&td(R,u),u}function td(n,o){for(let u=0;u<n.length;u++){const{providers:R}=n[u];Gd(R,K=>{o.push(K)})}}function Hc(n,o,u,E){if(!(n=A(n)))return!1;let R=null,K=X(n);const me=!K&&Yi(n);if(K||me){if(me&&!me.standalone)return!1;R=n}else{const ot=n.ngModule;if(K=X(ot),!K)return!1;R=ot}const Ke=E.has(R);if(me){if(Ke)return!1;if(E.add(R),me.dependencies){const ot="function"==typeof me.dependencies?me.dependencies():me.dependencies;for(const Lt of ot)Hc(Lt,o,u,E)}}else{if(!K)return!1;{if(null!=K.imports&&!Ke){let Lt;E.add(R);try{Ca(K.imports,nn=>{Hc(nn,o,u,E)&&(Lt||=[],Lt.push(nn))})}finally{}void 0!==Lt&&td(Lt,o)}if(!Ke){const Lt=_t(R)||(()=>new R);o.push({provide:R,useFactory:Lt,deps:Nn},{provide:ro,useValue:R,multi:!0},{provide:as,useValue:()=>it(R),multi:!0})}const ot=K.providers;null==ot||Ke||Gd(ot,nn=>{o.push(nn)})}}return R!==n&&void 0!==n.providers}function Gd(n,o){for(let u of n)O(u)&&(u=u.\u0275providers),Array.isArray(u)?Gd(u,o):o(u)}const Hd=c({provide:String,useValue:c});function Du(n){return null!==n&&"object"==typeof n&&Hd in n}function Xi(n){return"function"==typeof n}const mo=new lr("Set Injector scope."),ia={},nd={};let Il;function jc(){return void 0===Il&&(Il=new qa),Il}class Ko{}class Mu extends Ko{get destroyed(){return this._destroyed}constructor(o,u,E,R){super(),this.parent=u,this.source=E,this.scopes=R,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hh(o,me=>this.processProvider(me)),this.records.set(ua,hd(void 0,this)),R.has("environment")&&this.records.set(Ko,hd(void 0,this));const K=this.records.get(mo);null!=K&&"string"==typeof K.value&&this.scopes.add(K.value),this.injectorDefTypes=new Set(this.get(ro.multi,Nn,_e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of o)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const u=wt(this),E=Ge(void 0);try{return o()}finally{wt(u),Ge(E)}}get(o,u=Dt,E=_e.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(_n))return o[_n](this);E=st(E);const R=wt(this),K=Ge(void 0);try{if(!(E&_e.SkipSelf)){let Ke=this.records.get(o);if(void 0===Ke){const ot=function sy(n){return"function"==typeof n||"object"==typeof n&&n instanceof lr}(o)&&ie(o);Ke=ot&&this.injectableDefInScope(ot)?hd(yf(o),ia):null,this.records.set(o,Ke)}if(null!=Ke)return this.hydrate(o,Ke)}return(E&_e.Self?jc():this.parent).get(o,u=E&_e.Optional&&u===Dt?null:u)}catch(me){if("NullInjectorError"===me.name){if((me[ze]=me[ze]||[]).unshift(f(o)),R)throw me;return function At(n,o,u,E){const R=n[ze];throw o[qt]&&R.unshift(o[qt]),n.message=function on(n,o,u,E=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let R=f(o);if(Array.isArray(o))R=o.map(f).join(" -> ");else if("object"==typeof o){let K=[];for(let me in o)if(o.hasOwnProperty(me)){let Ke=o[me];K.push(me+":"+("string"==typeof Ke?JSON.stringify(Ke):f(Ke)))}R=`{${K.join(", ")}}`}return`${u}${E?"("+E+")":""}[${R}]: ${n.replace(Kt,"\n  ")}`}("\n"+n.message,R,u,E),n.ngTokenPath=R,n[ze]=null,n}(me,o,"R3InjectorError",this.source)}throw me}finally{Ge(K),wt(R)}}resolveInjectorInitializers(){const o=wt(this),u=Ge(void 0);try{const E=this.get(as.multi,Nn,_e.Self);for(const R of E)R()}finally{wt(o),Ge(u)}}toString(){const o=[],u=this.records;for(const E of u.keys())o.push(f(E));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(o){let u=Xi(o=A(o))?o:A(o&&o.provide);const E=function jd(n){return Du(n)?hd(void 0,n.useValue):hd(lc(n),ia)}(o);if(Xi(o)||!0!==o.multi)this.records.get(u);else{let R=this.records.get(u);R||(R=hd(void 0,ia,!0),R.factory=()=>at(R.multi),this.records.set(u,R)),u=o,R.multi.push(o)}this.records.set(u,E)}hydrate(o,u){return u.value===ia&&(u.value=nd,u.value=u.factory()),"object"==typeof u.value&&u.value&&function oy(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=A(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(o){const u=this._onDestroyHooks.indexOf(o);-1!==u&&this._onDestroyHooks.splice(u,1)}}function yf(n){const o=ie(n),u=null!==o?o.factory:_t(n);if(null!==u)return u;if(n instanceof lr)throw new T(204,!1);if(n instanceof Function)return function sl(n){const o=n.length;if(o>0)throw Ml(o,"?"),new T(204,!1);const u=function ee(n){return n&&(n[$]||n[J])||null}(n);return null!==u?()=>u.factory(n):()=>new n}(n);throw new T(204,!1)}function lc(n,o,u){let E;if(Xi(n)){const R=A(n);return _t(R)||yf(R)}if(Du(n))E=()=>A(n.useValue);else if(function $i(n){return!(!n||!n.useFactory)}(n))E=()=>n.useFactory(...at(n.deps||[]));else if(function vf(n){return!(!n||!n.useExisting)}(n))E=()=>it(A(n.useExisting));else{const R=A(n&&(n.useClass||n.provide));if(!function bf(n){return!!n.deps}(n))return _t(R)||yf(R);E=()=>new R(...at(n.deps))}return E}function hd(n,o,u=!1){return{factory:n,value:o,multi:u?[]:void 0}}function Hh(n,o){for(const u of n)Array.isArray(u)?Hh(u,o):u&&O(u)?Hh(u.\u0275providers,o):o(u)}const Cp=new lr("AppId",{providedIn:"root",factory:()=>ay}),ay="ng",Dp=new lr("Platform Initializer"),jh=new lr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ly=new lr("AnimationModuleType"),cy=new lr("CSP nonce",{providedIn:"root",factory:()=>Et().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ap=(n,o)=>null;function xp(n,o){return Ap(n,o)}class vy{}class Op{}class by{resolveComponentFactory(o){throw function yy(n){const o=Error(`No component factory found for ${f(n)}.`);return o.ngComponent=n,o}(o)}}let Sf=(()=>{class n{static#e=this.NULL=new by}return n})();function Ey(){return xu(jo(),di())}function xu(n,o){return new Cf(Yt(n,o))}let Cf=(()=>{class n{constructor(u){this.nativeElement=u}static#e=this.__NG_ELEMENT_ID__=Ey}return n})();function Ty(n){return n instanceof Cf?n.nativeElement:n}class Rp{}let Sy=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Cy(){const n=di(),u=Zn(jo().index,n);return(Cr(u)?u:n)[ci]}()}return n})(),Dy=(()=>{class n{static#e=this.\u0275prov=Re({token:n,providedIn:"root",factory:()=>null})}return n})();class Np{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Lp=new Np("16.1.7"),Xh={};function Df(n){for(;n;){n[Zi]|=64;const o=zd(n);if(Uo(n)&&!o)return n;n=o}return null}function em(n){return n.ngOriginalError}class Iu{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&em(o);for(;u&&em(u);)u=em(u);return u||null}}const Bp=new lr("",{providedIn:"root",factory:()=>!1});function Up(n){return n.ownerDocument.defaultView}function Vd(n){return n instanceof Function?n():n}class Kp extends hs{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(o){this._lView=o}onConsumerDependencyMayHaveChanged(){Df(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(o,u,E){const R=to(this);this.trackingVersion++;try{o(u,E)}finally{to(R)}}destroy(){this.trackingVersion++}}let ah=null;function Wp(){return ah??=new Kp,ah}function Yp(n,o){return n[o]??Wp()}function zp(n,o){const u=Wp();u.hasReadASignal&&(n[o]=ah,u.lView=n,ah=new Kp)}const kr={};function Zp(n){$p(sr(),di(),Ue()+n,!1)}function $p(n,o,u,E){if(!E)if(3==(3&o[Zi])){const K=n.preOrderCheckHooks;null!==K&&ao(o,K,u)}else{const K=n.preOrderHooks;null!==K&&Qo(o,K,0,u)}rt(u)}function Xp(n,o=null,u=null,E){const R=eg(n,o,u,E);return R.resolveInjectorInitializers(),R}function eg(n,o=null,u=null,E,R=new Set){const K=[u||Nn,xl(n)];return E=E||("object"==typeof n?void 0:f(n)),new Mu(K,o||jc(),E||null,R)}let $d=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Dt;static#t=this.NULL=new qa;static create(u,E){if(Array.isArray(u))return Xp({name:""},E,u,"");{const R=u.name??"";return Xp({name:R},u.parent,u.providers,R)}}static#n=this.\u0275prov=Re({token:n,providedIn:"any",factory:()=>it(ua)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function Ou(n,o=_e.Default){const u=di();return null===u?it(n,o):Tc(jo(),u,A(n),o)}function tg(){throw new Error("invalid")}function lh(n,o,u,E,R,K,me,Ke,ot,Lt,nn){const Cn=o.blueprint.slice();return Cn[Sr]=R,Cn[Zi]=140|E,(null!==Lt||n&&2048&n[Zi])&&(Cn[Zi]|=2048),fr(Cn),Cn[Rr]=Cn[or]=n,Cn[Dn]=u,Cn[hi]=me||n&&n[hi],Cn[ci]=Ke||n&&n[ci],Cn[qn]=ot||n&&n[qn]||null,Cn[Jr]=K,Cn[Bo]=function Di(){return oi++}(),Cn[yo]=nn,Cn[Ks]=Lt,Cn[Ki]=2==o.type?n[Ki]:Cn,Cn}function Pu(n,o,u,E,R){let K=n.data[o];if(null===K)K=tm(n,o,u,E,R),function Go(){return Gi.lFrame.inI18n}()&&(K.flags|=32);else if(64&K.type){K.type=u,K.value=E,K.attrs=R;const me=tl();K.injectorIndex=null===me?-1:me.injectorIndex}return so(K,!0),K}function tm(n,o,u,E,R){const K=Wc(),me=Ka(),ot=n.data[o]=function Wy(n,o,u,E,R,K){let me=o?o.injectorIndex:-1,Ke=0;return aa()&&(Ke|=128),{type:u,index:E,insertBeforeIndex:null,injectorIndex:me,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Ke,providerIndexes:0,value:R,attrs:K,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,me?K:K&&K.parent,u,o,E,R);return null===n.firstChild&&(n.firstChild=ot),null!==K&&(me?null==K.child&&null!==ot.parent&&(K.child=ot):null===K.next&&(K.next=ot,ot.prev=K)),ot}function Mf(n,o,u,E){if(0===u)return-1;const R=o.length;for(let K=0;K<u;K++)o.push(E),n.blueprint.push(E),n.data.push(null);return R}function ng(n,o,u,E,R){const K=Yp(o,cs),me=Ue(),Ke=2&E;try{if(rt(-1),Ke&&o.length>cr&&$p(n,o,cr,!1),Cs(Ke?2:0,R),Ke)K.runInContext(u,E,R);else{const Lt=to(null);try{u(E,R)}finally{to(Lt)}}}finally{Ke&&null===o[cs]&&zp(o,cs),rt(me),Cs(Ke?3:1,R)}}function nm(n,o,u){if(ha(o)){const E=to(null);try{const K=o.directiveEnd;for(let me=o.directiveStart;me<K;me++){const Ke=n.data[me];Ke.contentQueries&&Ke.contentQueries(1,u[me],me)}}finally{to(E)}}}function im(n,o,u){ba()&&(function qy(n,o,u,E){const R=u.directiveStart,K=u.directiveEnd;Ao(u)&&function ob(n,o,u){const E=Yt(o,n),R=ig(u);let me=16;u.signals?me=4096:u.onPush&&(me=64);const Ke=ch(n,lh(n,R,null,me,E,o,null,n[hi].rendererFactory.createRenderer(E,u),null,null,null));n[o.index]=Ke}(o,u,n.data[R+u.componentOffset]),n.firstCreatePass||Ll(u,o),Or(E,o);const me=u.initialInputs;for(let Ke=R;Ke<K;Ke++){const ot=n.data[Ke],Lt=La(o,n,Ke,u);Or(Lt,o),null!==me&&sb(0,Ke-R,Lt,ot,0,me),pr(ot)&&(Zn(u.index,o)[Dn]=La(o,n,Ke,u))}}(n,o,u,Yt(u,o)),64==(64&u.flags)&&lg(n,o,u))}function rm(n,o,u=Yt){const E=o.localNames;if(null!==E){let R=o.index+1;for(let K=0;K<E.length;K+=2){const me=E[K+1],Ke=-1===me?u(o,n):n[me];n[R++]=Ke}}}function ig(n){const o=n.tView;return null===o||o.incompleteFirstPass?n.tView=om(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):o}function om(n,o,u,E,R,K,me,Ke,ot,Lt,nn){const Cn=cr+E,jn=Cn+R,Jn=function Uy(n,o){const u=[];for(let E=0;E<o;E++)u.push(E<n?null:kr);return u}(Cn,jn),fi="function"==typeof Lt?Lt():Lt;return Jn[yi]={type:n,blueprint:Jn,template:u,queries:null,viewQuery:Ke,declTNode:o,data:Jn.slice().fill(null,Cn),bindingStartIndex:Cn,expandoStartIndex:jn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof K?K():K,pipeRegistry:"function"==typeof me?me():me,firstChild:null,schemas:ot,consts:fi,incompleteFirstPass:!1,ssrId:nn}}let rg=n=>null;function og(n,o,u,E){for(let R in n)if(n.hasOwnProperty(R)){u=null===u?{}:u;const K=n[R];null===E?sg(u,o,R,K):E.hasOwnProperty(R)&&sg(u,o,E[R],K)}return u}function sg(n,o,u,E){n.hasOwnProperty(u)?n[u].push(o,E):n[u]=[o,E]}function Vc(n,o,u,E,R,K,me,Ke){const ot=Yt(o,u);let nn,Lt=o.inputs;!Ke&&null!=Lt&&(nn=Lt[E])?(dm(n,u,nn,E,R),Ao(o)&&function Zy(n,o){const u=Zn(o,n);16&u[Zi]||(u[Zi]|=64)}(u,o.index)):3&o.type&&(E=function zy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(E),R=null!=me?me(R,o.value||"",E):R,K.setProperty(ot,E,R))}function sm(n,o,u,E){if(ba()){const R=null===E?null:{"":-1},K=function eb(n,o){const u=n.directiveRegistry;let E=null,R=null;if(u)for(let K=0;K<u.length;K++){const me=u[K];if(Kn(o,me.selectors,!1))if(E||(E=[]),pr(me))if(null!==me.findHostDirectiveDefs){const Ke=[];R=R||new Map,me.findHostDirectiveDefs(me,Ke,R),E.unshift(...Ke,me),am(n,o,Ke.length)}else E.unshift(me),am(n,o,0);else R=R||new Map,me.findHostDirectiveDefs?.(me,E,R),E.push(me)}return null===E?null:[E,R]}(n,u);let me,Ke;null===K?me=Ke=null:[me,Ke]=K,null!==me&&ag(n,o,u,me,R,Ke),R&&function tb(n,o,u){if(o){const E=n.localNames=[];for(let R=0;R<o.length;R+=2){const K=u[o[R+1]];if(null==K)throw new T(-301,!1);E.push(o[R],K)}}}(u,E,R)}u.mergedAttrs=Ct(u.mergedAttrs,u.attrs)}function ag(n,o,u,E,R,K){for(let Lt=0;Lt<E.length;Lt++)Ql(Ll(u,o),n,E[Lt].type);!function ib(n,o,u){n.flags|=1,n.directiveStart=o,n.directiveEnd=o+u,n.providerIndexes=o}(u,n.data.length,E.length);for(let Lt=0;Lt<E.length;Lt++){const nn=E[Lt];nn.providersResolver&&nn.providersResolver(nn)}let me=!1,Ke=!1,ot=Mf(n,o,E.length,null);for(let Lt=0;Lt<E.length;Lt++){const nn=E[Lt];u.mergedAttrs=Ct(u.mergedAttrs,nn.hostAttrs),rb(n,u,o,ot,nn),nb(ot,nn,R),null!==nn.contentQueries&&(u.flags|=4),(null!==nn.hostBindings||null!==nn.hostAttrs||0!==nn.hostVars)&&(u.flags|=64);const Cn=nn.type.prototype;!me&&(Cn.ngOnChanges||Cn.ngOnInit||Cn.ngDoCheck)&&((n.preOrderHooks??=[]).push(u.index),me=!0),!Ke&&(Cn.ngOnChanges||Cn.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(u.index),Ke=!0),ot++}!function Yy(n,o,u){const R=o.directiveEnd,K=n.data,me=o.attrs,Ke=[];let ot=null,Lt=null;for(let nn=o.directiveStart;nn<R;nn++){const Cn=K[nn],jn=u?u.get(Cn):null,fi=jn?jn.outputs:null;ot=og(Cn.inputs,nn,ot,jn?jn.inputs:null),Lt=og(Cn.outputs,nn,Lt,fi);const bi=null===ot||null===me||kt(o)?null:ab(ot,nn,me);Ke.push(bi)}null!==ot&&(ot.hasOwnProperty("class")&&(o.flags|=8),ot.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=Ke,o.inputs=ot,o.outputs=Lt}(n,u,K)}function lg(n,o,u){const E=u.directiveStart,R=u.directiveEnd,K=u.index,me=function ca(){return Gi.lFrame.currentDirectiveIndex}();try{rt(K);for(let Ke=E;Ke<R;Ke++){const ot=n.data[Ke],Lt=o[Ke];Us(Ke),(null!==ot.hostBindings||0!==ot.hostVars||null!==ot.hostAttrs)&&Xy(ot,Lt)}}finally{rt(-1),Us(me)}}function Xy(n,o){null!==n.hostBindings&&n.hostBindings(1,o)}function am(n,o,u){o.componentOffset=u,(n.components??=[]).push(o.index)}function nb(n,o,u){if(u){if(o.exportAs)for(let E=0;E<o.exportAs.length;E++)u[o.exportAs[E]]=n;pr(o)&&(u[""]=n)}}function rb(n,o,u,E,R){n.data[E]=R;const K=R.factory||(R.factory=_t(R.type)),me=new _s(K,pr(R),Ou);n.blueprint[E]=me,u[E]=me,function Jy(n,o,u,E,R){const K=R.hostBindings;if(K){let me=n.hostBindingOpCodes;null===me&&(me=n.hostBindingOpCodes=[]);const Ke=~o.index;(function Qy(n){let o=n.length;for(;o>0;){const u=n[--o];if("number"==typeof u&&u<0)return u}return 0})(me)!=Ke&&me.push(Ke),me.push(u,E,K)}}(n,o,E,Mf(n,u,R.hostVars,kr),R)}function Sd(n,o,u,E,R,K){const me=Yt(n,o);!function lm(n,o,u,E,R,K,me){if(null==K)n.removeAttribute(o,R,u);else{const Ke=null==me?y(K):me(K,E||"",R);n.setAttribute(o,R,Ke,u)}}(o[ci],me,K,n.value,u,E,R)}function sb(n,o,u,E,R,K){const me=K[o];if(null!==me)for(let Ke=0;Ke<me.length;)cg(E,u,me[Ke++],me[Ke++],me[Ke++])}function cg(n,o,u,E,R){const K=to(null);try{const me=n.inputTransforms;null!==me&&me.hasOwnProperty(E)&&(R=me[E].call(o,R)),null!==n.setInput?n.setInput(o,R,u,E):o[E]=R}finally{to(K)}}function ab(n,o,u){let E=null,R=0;for(;R<u.length;){const K=u[R];if(0!==K)if(5!==K){if("number"==typeof K)break;if(n.hasOwnProperty(K)){null===E&&(E=[]);const me=n[K];for(let Ke=0;Ke<me.length;Ke+=2)if(me[Ke]===o){E.push(K,me[Ke+1],u[R+1]);break}}R+=2}else R+=2;else R+=4}return E}function dg(n,o,u,E){return[n,!0,!1,o,null,0,E,u,null,null,null]}function ug(n,o){const u=n.contentQueries;if(null!==u)for(let E=0;E<u.length;E+=2){const K=u[E+1];if(-1!==K){const me=n.data[K];vl(u[E]),me.contentQueries(2,o[K],K)}}}function ch(n,o){return n[Ui]?n[Ji][Wr]=o:n[Ui]=o,n[Ji]=o,o}function cm(n,o,u){vl(0);const E=to(null);try{o(n,u)}finally{to(E)}}function fg(n){return n[go]||(n[go]=[])}function hg(n){return n.cleanup||(n.cleanup=[])}function mg(n,o,u){return(null===n||pr(n))&&(u=function ja(n){for(;Array.isArray(n);){if("object"==typeof n[es])return n;n=n[Sr]}return null}(u[o.index])),u[ci]}function pg(n,o){const u=n[qn],E=u?u.get(Iu,null):null;E&&E.handleError(o)}function dm(n,o,u,E,R){for(let K=0;K<u.length;){const me=u[K++],Ke=u[K++];cg(n.data[me],o[me],E,Ke,R)}}function Kd(n,o,u){const E=$e(o,n);!function ef(n,o,u){n.setValue(o,u)}(n[ci],E,u)}function lb(n,o){const u=Zn(o,n),E=u[yi];!function cb(n,o){for(let u=o.length;u<n.blueprint.length;u++)o.push(n.blueprint[u])}(E,u);const R=u[Sr];null!==R&&null===u[yo]&&(u[yo]=xp(R,u[qn])),um(E,u,u[Dn])}function um(n,o,u){yl(o);try{const E=n.viewQuery;null!==E&&cm(1,E,u);const R=n.template;null!==R&&ng(n,o,R,1,u),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&ug(n,o),n.staticViewQueries&&cm(2,n.viewQuery,u);const K=n.components;null!==K&&function db(n,o){for(let u=0;u<o.length;u++)lb(n,o[u])}(o,K)}catch(E){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),E}finally{o[Zi]&=-5,Pa()}}let gg=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(u,E,R){const K=typeof Zone>"u"?null:Zone.current,me=new dl(u,Lt=>{this.all.has(Lt)&&this.queue.set(Lt,K)},R);let Ke;this.all.add(me),me.notify();const ot=()=>{me.cleanup(),Ke?.(),this.all.delete(me),this.queue.delete(me)};return Ke=E?.onDestroy(ot),{destroy:ot}}flush(){if(0!==this.queue.size)for(const[u,E]of this.queue)this.queue.delete(u),E?E.run(()=>u.run()):u.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Re({token:n,providedIn:"root",factory:()=>new n})}return n})();function dh(n,o,u){let E=u?n.styles:null,R=u?n.classes:null,K=0;if(null!==o)for(let me=0;me<o.length;me++){const Ke=o[me];"number"==typeof Ke?K=Ke:1==K?R=g(R,Ke):2==K&&(E=g(E,Ke+": "+o[++me]+";"))}u?n.styles=E:n.stylesWithoutHost=E,u?n.classes=R:n.classesWithoutHost=R}function Af(n,o,u,E,R=!1){for(;null!==u;){const K=o[u.index];if(null!==K&&E.push(rr(K)),oo(K)){for(let Ke=Yr;Ke<K.length;Ke++){const ot=K[Ke],Lt=ot[yi].firstChild;null!==Lt&&Af(ot[yi],ot,Lt,E)}K[uo]!==K[Sr]&&E.push(K[uo])}const me=u.type;if(8&me)Af(n,o,u.child,E);else if(32&me){const Ke=cd(u,o);let ot;for(;ot=Ke();)E.push(ot)}else if(16&me){const Ke=bu(o,u);if(Array.isArray(Ke))E.push(...Ke);else{const ot=zd(o[Ki]);Af(ot[yi],ot,Ke,E,!0)}}u=R?u.projectionNext:u.next}return E}function uh(n,o,u,E=!0){const R=o[hi].rendererFactory;R.begin&&R.begin();try{_g(n,o,n.template,u)}catch(me){throw E&&pg(o,me),me}finally{R.end&&R.end(),o[hi].effectManager?.flush()}}function _g(n,o,u,E){const R=o[Zi];if(256!=(256&R)){o[hi].effectManager?.flush(),yl(o);try{fr(o),function gl(n){return Gi.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==u&&ng(n,o,u,2,E);const me=3==(3&R);if(me){const Lt=n.preOrderCheckHooks;null!==Lt&&ao(o,Lt,null)}else{const Lt=n.preOrderHooks;null!==Lt&&Qo(o,Lt,0,null),gs(o,0)}if(function pb(n){for(let o=mu(n);null!==o;o=qu(o)){if(!o[Ws])continue;const u=o[Os];for(let E=0;E<u.length;E++){tr(u[E])}}}(o),vg(o,2),null!==n.contentQueries&&ug(n,o),me){const Lt=n.contentCheckHooks;null!==Lt&&ao(o,Lt)}else{const Lt=n.contentHooks;null!==Lt&&Qo(o,Lt,1),gs(o,1)}!function By(n,o){const u=n.hostBindingOpCodes;if(null===u)return;const E=Yp(o,ds);try{for(let R=0;R<u.length;R++){const K=u[R];if(K<0)rt(~K);else{const me=K,Ke=u[++R],ot=u[++R];Sa(Ke,me),E.runInContext(ot,2,o[me])}}}finally{null===o[ds]&&zp(o,ds),rt(-1)}}(n,o);const Ke=n.components;null!==Ke&&bg(o,Ke,0);const ot=n.viewQuery;if(null!==ot&&cm(2,ot,E),me){const Lt=n.viewCheckHooks;null!==Lt&&ao(o,Lt)}else{const Lt=n.viewHooks;null!==Lt&&Qo(o,Lt,2),gs(o,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o[Zi]&=-73,fo(o)}finally{Pa()}}}function vg(n,o){for(let u=mu(n);null!==u;u=qu(u))for(let E=Yr;E<u.length;E++)yg(u[E],o)}function gb(n,o,u){yg(Zn(o,n),u)}function yg(n,o){if(!function Fi(n){return 128==(128&n[Zi])}(n))return;const u=n[yi];if(80&n[Zi]&&0===o||1024&n[Zi]||2===o)_g(u,n,u.template,n[Dn]);else if(n[Mo]>0){vg(n,1);const R=n[yi].components;null!==R&&bg(n,R,1)}}function bg(n,o,u){for(let E=0;E<o.length;E++)gb(n,o[E],u)}class xf{get rootNodes(){const o=this._lView,u=o[yi];return Af(u,o,u.firstChild,[])}constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Dn]}set context(o){this._lView[Dn]=o}get destroyed(){return 256==(256&this._lView[Zi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Rr];if(oo(o)){const u=o[8],E=u?u.indexOf(this):-1;E>-1&&(gu(o,E),ic(u,E))}this._attachedToViewContainer=!1}rf(this._lView[yi],this._lView)}onDestroy(o){!function vr(n,o){if(256==(256&n[Zi]))throw new T(911,!1);null===n[eo]&&(n[eo]=[]),n[eo].push(o)}(this._lView,o)}markForCheck(){Df(this._cdRefInjectingView||this._lView)}detach(){this._lView[Zi]&=-129}reattach(){this._lView[Zi]|=128}detectChanges(){uh(this._lView[yi],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Wf(n,o){Pd(n,o,o[ci],2,null,null)}(this._lView[yi],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=o}}class _b extends xf{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;uh(o[yi],o,o[Dn],!1)}checkNoChanges(){}get context(){return null}}class Eg extends Sf{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Yi(o);return new If(u,this.ngModule)}}function Tg(n){const o=[];for(let u in n)n.hasOwnProperty(u)&&o.push({propName:n[u],templateName:u});return o}class yb{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,E){E=st(E);const R=this.injector.get(o,Xh,E);return R!==Xh||u===Xh?R:this.parentInjector.get(o,u,E)}}class If extends Op{get inputs(){const o=this.componentDef,u=o.inputTransforms,E=Tg(o.inputs);if(null!==u)for(const R of E)u.hasOwnProperty(R.propName)&&(R.transform=u[R.propName]);return E}get outputs(){return Tg(this.componentDef.outputs)}constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function ln(n){return n.map(Pt).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}create(o,u,E,R){let K=(R=R||this.ngModule)instanceof Ko?R:R?.injector;K&&null!==this.componentDef.getStandaloneInjector&&(K=this.componentDef.getStandaloneInjector(K)||K);const me=K?new yb(o,K):o,Ke=me.get(Rp,null);if(null===Ke)throw new T(407,!1);const nn={rendererFactory:Ke,sanitizer:me.get(Dy,null),effectManager:me.get(gg,null)},Cn=Ke.createRenderer(null,this.componentDef),jn=this.componentDef.selectors[0][0]||"div",Jn=E?function Gy(n,o,u,E){const K=E.get(Bp,!1)||u===Mn.ShadowDom,me=n.selectRootElement(o,K);return function Hy(n){rg(n)}(me),me}(Cn,E,this.componentDef.encapsulation,me):tu(Cn,jn,function vb(n){const o=n.toLowerCase();return"svg"===o?Oa:"math"===o?"math":null}(jn)),Bi=this.componentDef.signals?4608:this.componentDef.onPush?576:528,er=om(0,null,null,1,0,null,null,null,null,null,null),_i=lh(null,er,null,Bi,null,null,nn,Cn,me,null,null);let Ar,po;yl(_i);try{const Co=this.componentDef;let Kl,Uh=null;Co.findHostDirectiveDefs?(Kl=[],Uh=new Map,Co.findHostDirectiveDefs(Co,Kl,Uh),Kl.push(Co)):Kl=[Co];const lD=function Eb(n,o){const u=n[yi],E=cr;return n[E]=o,Pu(u,E,2,"#host",null)}(_i,Jn),cD=function Tb(n,o,u,E,R,K,me){const Ke=R[yi];!function Sb(n,o,u,E){for(const R of n)o.mergedAttrs=Ct(o.mergedAttrs,R.hostAttrs);null!==o.mergedAttrs&&(dh(o,o.mergedAttrs,!0),null!==u&&gf(E,u,o))}(E,n,o,me);let ot=null;null!==o&&(ot=xp(o,R[qn]));const Lt=K.rendererFactory.createRenderer(o,u);let nn=16;u.signals?nn=4096:u.onPush&&(nn=64);const Cn=lh(R,ig(u),null,nn,R[n.index],n,K,Lt,null,null,ot);return Ke.firstCreatePass&&am(Ke,n,E.length-1),ch(R,Cn),R[n.index]=Cn}(lD,Jn,Co,Kl,_i,nn,Cn);po=Vt(er,cr),Jn&&function Db(n,o,u,E){if(E)ht(n,u,["ng-version",Lp.full]);else{const{attrs:R,classes:K}=function Fn(n){const o=[],u=[];let E=1,R=2;for(;E<n.length;){let K=n[E];if("string"==typeof K)2===R?""!==K&&o.push(K,n[++E]):8===R&&u.push(K);else{if(!en(R))break;R=K}E++}return{attrs:o,classes:u}}(o.selectors[0]);R&&ht(n,u,R),K&&K.length>0&&pf(n,u,K.join(" "))}}(Cn,Co,Jn,E),void 0!==u&&function Mb(n,o,u){const E=n.projection=[];for(let R=0;R<o.length;R++){const K=u[R];E.push(null!=K?Array.from(K):null)}}(po,this.ngContentSelectors,u),Ar=function Cb(n,o,u,E,R,K){const me=jo(),Ke=R[yi],ot=Yt(me,R);ag(Ke,R,me,u,null,E);for(let nn=0;nn<u.length;nn++)Or(La(R,Ke,me.directiveStart+nn,me),R);lg(Ke,R,me),ot&&Or(ot,R);const Lt=La(R,Ke,me.directiveStart+me.componentOffset,me);if(n[Dn]=R[Dn]=Lt,null!==K)for(const nn of K)nn(Lt,o);return nm(Ke,me,n),Lt}(cD,Co,Kl,Uh,_i,[Ab]),um(er,_i,null)}finally{Pa()}return new bb(this.componentType,Ar,xu(po,_i),_i,po)}}class bb extends vy{constructor(o,u,E,R,K){super(),this.location=E,this._rootLView=R,this._tNode=K,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new _b(R),this.componentType=o}setInput(o,u){const E=this._tNode.inputs;let R;if(null!==E&&(R=E[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),u))return;const K=this._rootLView;dm(K[yi],K,R,o,u),this.previousInputValues.set(o,u),Df(Zn(this._tNode.index,K))}}get injector(){return new Bl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Ab(){const n=jo();qr(di()[yi],n)}function fm(n){let o=function Sg(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),u=!0;const E=[n];for(;o;){let R;if(pr(n))R=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new T(903,!1);R=o.\u0275dir}if(R){if(u){E.push(R);const me=n;me.inputs=fh(n.inputs),me.inputTransforms=fh(n.inputTransforms),me.declaredInputs=fh(n.declaredInputs),me.outputs=fh(n.outputs);const Ke=R.hostBindings;Ke&&Ob(n,Ke);const ot=R.viewQuery,Lt=R.contentQueries;if(ot&&Ib(n,ot),Lt&&wb(n,Lt),d(n.inputs,R.inputs),d(n.declaredInputs,R.declaredInputs),d(n.outputs,R.outputs),null!==R.inputTransforms&&(null===me.inputTransforms&&(me.inputTransforms={}),d(me.inputTransforms,R.inputTransforms)),pr(R)&&R.data.animation){const nn=n.data;nn.animation=(nn.animation||[]).concat(R.data.animation)}}const K=R.features;if(K)for(let me=0;me<K.length;me++){const Ke=K[me];Ke&&Ke.ngInherit&&Ke(n),Ke===fm&&(u=!1)}}o=Object.getPrototypeOf(o)}!function xb(n){let o=0,u=null;for(let E=n.length-1;E>=0;E--){const R=n[E];R.hostVars=o+=R.hostVars,R.hostAttrs=Ct(R.hostAttrs,u=Ct(u,R.hostAttrs))}}(E)}function fh(n){return n===In?{}:n===Nn?[]:n}function Ib(n,o){const u=n.viewQuery;n.viewQuery=u?(E,R)=>{o(E,R),u(E,R)}:o}function wb(n,o){const u=n.contentQueries;n.contentQueries=u?(E,R,K)=>{o(E,R,K),u(E,R,K)}:o}function Ob(n,o){const u=n.hostBindings;n.hostBindings=u?(E,R)=>{o(E,R),u(E,R)}:o}function Cg(n){return o=>{o.findHostDirectiveDefs=Dg,o.hostDirectives=(Array.isArray(n)?n:n()).map(u=>"function"==typeof u?{directive:A(u),inputs:In,outputs:In}:{directive:A(u.directive),inputs:Mg(u.inputs),outputs:Mg(u.outputs)})}}function Dg(n,o,u){if(null!==n.hostDirectives)for(const E of n.hostDirectives){const R=Vr(E.directive);Lb(R.declaredInputs,E.inputs),Dg(R,o,u),u.set(R,E),o.push(R)}}function Mg(n){if(void 0===n||0===n.length)return In;const o={};for(let u=0;u<n.length;u+=2)o[n[u]]=n[u+1];return o}function Lb(n,o){for(const u in o)o.hasOwnProperty(u)&&(n[o[u]]=n[u])}function xg(n){const o=n.inputConfig,u={};for(const E in o)if(o.hasOwnProperty(E)){const R=o[E];Array.isArray(R)&&R[2]&&(u[E]=R[2])}n.inputTransforms=u}function hh(n){return!!hm(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function hm(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Cd(n,o,u){return n[o]=u}function Vl(n,o,u){return!Object.is(n[o],u)&&(n[o]=u,!0)}function du(n,o,u,E){const R=Vl(n,o,u);return Vl(n,o+1,E)||R}function mh(n,o,u,E,R){const K=du(n,o,u,E);return Vl(n,o+2,R)||K}function mm(n,o,u,E){const R=di();return Vl(R,_o(),o)&&(sr(),Sd(Me(),R,n,o,u,E)),mm}function Nu(n,o,u,E){return Vl(n,_o(),u)?o+y(u)+E:kr}function Lu(n,o,u,E,R,K){const Ke=du(n,la(),u,R);return xo(2),Ke?o+y(u)+E+y(R)+K:kr}function Hg(n,o,u,E,R,K,me,Ke){const ot=di(),Lt=sr(),nn=n+cr,Cn=Lt.firstCreatePass?function tE(n,o,u,E,R,K,me,Ke,ot){const Lt=o.consts,nn=Pu(o,n,4,me||null,_r(Lt,Ke));sm(o,u,nn,_r(Lt,ot)),qr(o,nn);const Cn=nn.tView=om(2,nn,E,R,K,o.directiveRegistry,o.pipeRegistry,null,o.schemas,Lt,null);return null!==o.queries&&(o.queries.template(o,nn),Cn.queries=o.queries.embeddedTView(nn)),nn}(nn,Lt,ot,o,u,E,R,K,me):Lt.data[nn];so(Cn,!1);const jn=jg(Lt,ot,Cn,n);Pi()&&su(Lt,ot,jn,Cn),Or(jn,ot),ch(ot,ot[nn]=dg(jn,ot,jn,Cn)),Fr(Cn)&&im(Lt,ot,Cn),null!=me&&rm(ot,Cn,Ke)}let jg=function Vg(n,o,u,E){return Ri(!0),o[ci].createComment("")};function Kg(n){return Sn(function Rl(){return Gi.lFrame.contextLView}(),cr+n)}function bm(n,o,u){const E=di();return Vl(E,_o(),o)&&Vc(sr(),Me(),E,n,o,E[ci],u,!1),bm}function Em(n,o,u,E,R){const me=R?"class":"style";dm(n,u,o.inputs[me],me,E)}function vh(n,o,u,E){const R=di(),K=sr(),me=cr+n,Ke=R[ci],ot=K.firstCreatePass?function oE(n,o,u,E,R,K){const me=o.consts,ot=Pu(o,n,2,E,_r(me,R));return sm(o,u,ot,_r(me,K)),null!==ot.attrs&&dh(ot,ot.attrs,!1),null!==ot.mergedAttrs&&dh(ot,ot.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,ot),ot}(me,K,R,o,u,E):K.data[me],Lt=Wg(K,R,ot,Ke,o,n);R[me]=Lt;const nn=Fr(ot);return so(ot,!0),gf(Ke,Lt,ot),32!=(32&ot.flags)&&Pi()&&su(K,R,Lt,ot),0===function Ms(){return Gi.lFrame.elementDepthCount}()&&Or(Lt,R),function Zs(){Gi.lFrame.elementDepthCount++}(),nn&&(im(K,R,ot),nm(K,ot,R)),null!==E&&rm(R,ot),vh}function yh(){let n=jo();Ka()?Ro():(n=n.parent,so(n,!1));const o=n;(function Pl(n){return Gi.skipHydrationRootTNode===n})(o)&&function hc(){Gi.skipHydrationRootTNode=null}(),function sa(){Gi.lFrame.elementDepthCount--}();const u=sr();return u.firstCreatePass&&(qr(u,n),ha(n)&&u.queries.elementEnd(n)),null!=o.classesWithoutHost&&function bc(n){return 0!=(8&n.flags)}(o)&&Em(u,o,di(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Nl(n){return 0!=(16&n.flags)}(o)&&Em(u,o,di(),o.stylesWithoutHost,!1),yh}function Tm(n,o,u,E){return vh(n,o,u,E),yh(),Tm}let Wg=(n,o,u,E,R,K)=>(Ri(!0),tu(E,R,function Vn(){return Gi.lFrame.currentNamespace}()));function bh(n,o,u){const E=di(),R=sr(),K=n+cr,me=R.firstCreatePass?function lE(n,o,u,E,R){const K=o.consts,me=_r(K,E),Ke=Pu(o,n,8,"ng-container",me);return null!==me&&dh(Ke,me,!0),sm(o,u,Ke,_r(K,R)),null!==o.queries&&o.queries.elementStart(o,Ke),Ke}(K,R,E,o,u):R.data[K];so(me,!0);const Ke=Yg(R,E,me,n);return E[K]=Ke,Pi()&&su(R,E,Ke,me),Or(Ke,E),Fr(me)&&(im(R,E,me),nm(R,me,E)),null!=u&&rm(E,me),bh}function Eh(){let n=jo();const o=sr();return Ka()?Ro():(n=n.parent,so(n,!1)),o.firstCreatePass&&(qr(o,n),ha(n)&&o.queries.elementEnd(n)),Eh}function Sm(n,o,u){return bh(n,o,u),Eh(),Sm}let Yg=(n,o,u,E)=>(Ri(!0),eu(o[ci],""));function zg(){return di()}function Cm(n){return!!n&&"function"==typeof n.then}function Zg(n){return!!n&&"function"==typeof n.subscribe}function Dm(n,o,u,E){const R=di(),K=sr(),me=jo();return $g(K,R,R[ci],me,n,o,E),Dm}function Mm(n,o){const u=jo(),E=di(),R=sr();return $g(R,E,mg(_l(R.data),u,E),u,n,o),Mm}function $g(n,o,u,E,R,K,me){const Ke=Fr(E),Lt=n.firstCreatePass&&hg(n),nn=o[Dn],Cn=fg(o);let jn=!0;if(3&E.type||me){const bi=Yt(E,o),Bi=me?me(bi):bi,er=Cn.length,_i=me?po=>me(rr(po[E.index])):E.index;let Ar=null;if(!me&&Ke&&(Ar=function uE(n,o,u,E){const R=n.cleanup;if(null!=R)for(let K=0;K<R.length-1;K+=2){const me=R[K];if(me===u&&R[K+1]===E){const Ke=o[go],ot=R[K+2];return Ke.length>ot?Ke[ot]:null}"string"==typeof me&&(K+=2)}return null}(n,o,R,E.index)),null!==Ar)(Ar.__ngLastListenerFn__||Ar).__ngNextListenerFn__=K,Ar.__ngLastListenerFn__=K,jn=!1;else{K=Qg(E,o,nn,K,!1);const po=u.listen(Bi,R,K);Cn.push(K,po),Lt&&Lt.push(R,_i,er,er+1)}}else K=Qg(E,o,nn,K,!1);const Jn=E.outputs;let fi;if(jn&&null!==Jn&&(fi=Jn[R])){const bi=fi.length;if(bi)for(let Bi=0;Bi<bi;Bi+=2){const Co=o[fi[Bi]][fi[Bi+1]].subscribe(K),Kl=Cn.length;Cn.push(K,Co),Lt&&Lt.push(R,E.index,Kl,-(Kl+1))}}}function Jg(n,o,u,E){try{return Cs(6,o,u),!1!==u(E)}catch(R){return pg(n,R),!1}finally{Cs(7,o,u)}}function Qg(n,o,u,E,R){return function K(me){if(me===Function)return E;Df(n.componentOffset>-1?Zn(n.index,o):o);let ot=Jg(o,u,E,me),Lt=K.__ngNextListenerFn__;for(;Lt;)ot=Jg(o,u,Lt,me)&&ot,Lt=Lt.__ngNextListenerFn__;return R&&!1===ot&&me.preventDefault(),ot}}function qg(n=1){return function _c(n){return(Gi.lFrame.contextLView=function Yl(n,o){for(;n>0;)o=o[or],n--;return o}(n,Gi.lFrame.contextLView))[Dn]}(n)}function fE(n,o){let u=null;const E=function Xn(n){const o=n.attrs;if(null!=o){const u=o.indexOf(5);if(!(1&u))return o[u+1]}return null}(n);for(let R=0;R<o.length;R++){const K=o[R];if("*"!==K){if(null===E?Kn(n,K,!0):Ne(E,K))return R}else u=R}return u}function Xg(n){const o=di()[Ki][Jr];if(!o.projection){const E=o.projection=Ml(n?n.length:1,null),R=E.slice();let K=o.child;for(;null!==K;){const me=n?fE(K,n):0;null!==me&&(R[me]?R[me].projectionNext=K:E[me]=K,R[me]=K),K=K.next}}}function e_(n,o=0,u){const E=di(),R=sr(),K=Pu(R,cr+n,16,null,u||null);null===K.projection&&(K.projection=o),Ro(),(!E[yo]||aa())&&32!=(32&K.flags)&&function qf(n,o,u){hf(o[ci],0,o,u,ru(n,u,o),cf(u.parent||o[Jr],u,o))}(R,E,K)}function Am(n,o,u){return Th(n,"",o,"",u),Am}function Th(n,o,u,E,R){const K=di(),me=Nu(K,o,u,E);return me!==kr&&Vc(sr(),Me(),K,n,me,K[ci],R,!1),Th}function xm(n,o,u,E,R,K,me){const Ke=di(),ot=Lu(Ke,o,u,E,R,K);return ot!==kr&&Vc(sr(),Me(),Ke,n,ot,Ke[ci],me,!1),xm}function Sh(n,o){return n<<17|o<<2}function Jd(n){return n>>17&32767}function Im(n){return 2|n}function uu(n){return(131068&n)>>2}function wm(n,o){return-131069&n|o<<2}function Om(n){return 1|n}function l_(n,o,u,E,R){const K=n[u+1],me=null===o;let Ke=E?Jd(K):uu(K),ot=!1;for(;0!==Ke&&(!1===ot||me);){const nn=n[Ke+1];vE(n[Ke],o)&&(ot=!0,n[Ke+1]=E?Om(nn):Im(nn)),Ke=E?Jd(nn):uu(nn)}ot&&(n[u+1]=E?Im(K):Om(K))}function vE(n,o){return null===n||null==o||(Array.isArray(n)?n[1]:n)===o||!(!Array.isArray(n)||"string"!=typeof o)&&hn(n,o)>=0}const Xa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function c_(n){return n.substring(Xa.key,Xa.keyEnd)}function d_(n,o){const u=Xa.textEnd;return u===o?-1:(o=Xa.keyEnd=function TE(n,o,u){for(;o<u&&n.charCodeAt(o)>32;)o++;return o}(n,Xa.key=o,u),ju(n,o,u))}function ju(n,o,u){for(;o<u&&n.charCodeAt(o)<=32;)o++;return o}function Pm(n,o,u){return md(n,o,u,!1),Pm}function Rm(n,o){return md(n,o,null,!0),Rm}function p_(n){pd(OE,Md,n,!0)}function Md(n,o){for(let u=function bE(n){return function f_(n){Xa.key=0,Xa.keyEnd=0,Xa.value=0,Xa.valueEnd=0,Xa.textEnd=n.length}(n),d_(n,ju(n,0,Xa.textEnd))}(o);u>=0;u=d_(o,u))dt(n,c_(o),!0)}function md(n,o,u,E){const R=di(),K=sr(),me=xo(2);K.firstUpdatePass&&__(K,n,me,E),o!==kr&&Vl(R,me,o)&&y_(K,K.data[Ue()],R,R[ci],n,R[me+1]=function RE(n,o){return null==n||""===n||("string"==typeof o?n+=o:"object"==typeof n&&(n=f(yr(n)))),n}(o,u),E,me)}function pd(n,o,u,E){const R=sr(),K=xo(2);R.firstUpdatePass&&__(R,null,K,E);const me=di();if(u!==kr&&Vl(me,K,u)){const Ke=R.data[Ue()];if(E_(Ke,E)&&!g_(R,K)){let ot=E?Ke.classesWithoutHost:Ke.stylesWithoutHost;null!==ot&&(u=g(ot,u||"")),Em(R,Ke,me,u,E)}else!function PE(n,o,u,E,R,K,me,Ke){R===kr&&(R=Nn);let ot=0,Lt=0,nn=0<R.length?R[0]:null,Cn=0<K.length?K[0]:null;for(;null!==nn||null!==Cn;){const jn=ot<R.length?R[ot+1]:void 0,Jn=Lt<K.length?K[Lt+1]:void 0;let bi,fi=null;nn===Cn?(ot+=2,Lt+=2,jn!==Jn&&(fi=Cn,bi=Jn)):null===Cn||null!==nn&&nn<Cn?(ot+=2,fi=nn):(Lt+=2,fi=Cn,bi=Jn),null!==fi&&y_(n,o,u,E,fi,bi,me,Ke),nn=ot<R.length?R[ot]:null,Cn=Lt<K.length?K[Lt]:null}}(R,Ke,me,me[ci],me[K+1],me[K+1]=function wE(n,o,u){if(null==u||""===u)return Nn;const E=[],R=yr(u);if(Array.isArray(R))for(let K=0;K<R.length;K++)n(E,R[K],!0);else if("object"==typeof R)for(const K in R)R.hasOwnProperty(K)&&n(E,K,R[K]);else"string"==typeof R&&o(E,R);return E}(n,o,u),E,K)}}function g_(n,o){return o>=n.expandoStartIndex}function __(n,o,u,E){const R=n.data;if(null===R[u+1]){const K=R[Ue()],me=g_(n,u);E_(K,E)&&null===o&&!me&&(o=!1),o=function ME(n,o,u,E){const R=_l(n);let K=E?o.residualClasses:o.residualStyles;if(null===R)0===(E?o.classBindings:o.styleBindings)&&(u=Nf(u=Nm(null,n,o,u,E),o.attrs,E),K=null);else{const me=o.directiveStylingLast;if(-1===me||n[me]!==R)if(u=Nm(R,n,o,u,E),null===K){let ot=function AE(n,o,u){const E=u?o.classBindings:o.styleBindings;if(0!==uu(E))return n[Jd(E)]}(n,o,E);void 0!==ot&&Array.isArray(ot)&&(ot=Nm(null,n,o,ot[1],E),ot=Nf(ot,o.attrs,E),function xE(n,o,u,E){n[Jd(u?o.classBindings:o.styleBindings)]=E}(n,o,E,ot))}else K=function IE(n,o,u){let E;const R=o.directiveEnd;for(let K=1+o.directiveStylingLast;K<R;K++)E=Nf(E,n[K].hostAttrs,u);return Nf(E,o.attrs,u)}(n,o,E)}return void 0!==K&&(E?o.residualClasses=K:o.residualStyles=K),u}(R,K,o,E),function gE(n,o,u,E,R,K){let me=K?o.classBindings:o.styleBindings,Ke=Jd(me),ot=uu(me);n[E]=u;let nn,Lt=!1;if(Array.isArray(u)?(nn=u[1],(null===nn||hn(u,nn)>0)&&(Lt=!0)):nn=u,R)if(0!==ot){const jn=Jd(n[Ke+1]);n[E+1]=Sh(jn,Ke),0!==jn&&(n[jn+1]=wm(n[jn+1],E)),n[Ke+1]=function mE(n,o){return 131071&n|o<<17}(n[Ke+1],E)}else n[E+1]=Sh(Ke,0),0!==Ke&&(n[Ke+1]=wm(n[Ke+1],E)),Ke=E;else n[E+1]=Sh(ot,0),0===Ke?Ke=E:n[ot+1]=wm(n[ot+1],E),ot=E;Lt&&(n[E+1]=Im(n[E+1])),l_(n,nn,E,!0),l_(n,nn,E,!1),function _E(n,o,u,E,R){const K=R?n.residualClasses:n.residualStyles;null!=K&&"string"==typeof o&&hn(K,o)>=0&&(u[E+1]=Om(u[E+1]))}(o,nn,n,E,K),me=Sh(Ke,ot),K?o.classBindings=me:o.styleBindings=me}(R,K,o,u,me,E)}}function Nm(n,o,u,E,R){let K=null;const me=u.directiveEnd;let Ke=u.directiveStylingLast;for(-1===Ke?Ke=u.directiveStart:Ke++;Ke<me&&(K=o[Ke],E=Nf(E,K.hostAttrs,R),K!==n);)Ke++;return null!==n&&(u.directiveStylingLast=Ke),E}function Nf(n,o,u){const E=u?1:2;let R=-1;if(null!==o)for(let K=0;K<o.length;K++){const me=o[K];"number"==typeof me?R=me:R===E&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),dt(n,me,!!u||o[++K]))}return void 0===n?null:n}function OE(n,o,u){const E=String(o);""!==E&&!E.includes(" ")&&dt(n,E,u)}function y_(n,o,u,E,R,K,me,Ke){if(!(3&o.type))return;const ot=n.data,Lt=ot[Ke+1],nn=function pE(n){return 1==(1&n)}(Lt)?b_(ot,o,u,R,uu(Lt),me):void 0;Ch(nn)||(Ch(K)||function hE(n){return 2==(2&n)}(Lt)&&(K=b_(ot,null,u,R,Ke,me)),function Xf(n,o,u,E,R){if(o)R?n.addClass(u,E):n.removeClass(u,E);else{let K=-1===E.indexOf("-")?void 0:cn.DashCase;null==R?n.removeStyle(u,E,K):("string"==typeof R&&R.endsWith("!important")&&(R=R.slice(0,-10),K|=cn.Important),n.setStyle(u,E,R,K))}}(E,me,$e(Ue(),u),R,K))}function b_(n,o,u,E,R,K){const me=null===o;let Ke;for(;R>0;){const ot=n[R],Lt=Array.isArray(ot),nn=Lt?ot[1]:ot,Cn=null===nn;let jn=u[R+1];jn===kr&&(jn=Cn?Nn:void 0);let Jn=Cn?Ht(jn,E):nn===E?jn:void 0;if(Lt&&!Ch(Jn)&&(Jn=Ht(ot,E)),Ch(Jn)&&(Ke=Jn,me))return Ke;const fi=n[R+1];R=me?Jd(fi):uu(fi)}if(null!==o){let ot=K?o.residualClasses:o.residualStyles;null!=ot&&(Ke=Ht(ot,E))}return Ke}function Ch(n){return void 0!==n}function E_(n,o){return 0!=(n.flags&(o?8:16))}function T_(n,o=""){const u=di(),E=sr(),R=n+cr,K=E.firstCreatePass?Pu(E,R,1,o,null):E.data[R],me=S_(E,u,K,o,n);u[R]=me,Pi()&&su(E,u,me,K),so(K,!1)}let S_=(n,o,u,E,R)=>(Ri(!0),Xd(o[ci],E));function Lm(n){return Dh("",n,""),Lm}function Dh(n,o,u){const E=di(),R=Nu(E,n,o,u);return R!==kr&&Kd(E,Ue(),R),Dh}function km(n,o,u,E,R){const K=di(),me=Lu(K,n,o,u,E,R);return me!==kr&&Kd(K,Ue(),me),km}function Fm(n,o,u,E,R,K,me){const Ke=di(),ot=function ku(n,o,u,E,R,K,me,Ke){const Lt=mh(n,la(),u,R,me);return xo(3),Lt?o+y(u)+E+y(R)+K+y(me)+Ke:kr}(Ke,n,o,u,E,R,K,me);return ot!==kr&&Kd(Ke,Ue(),ot),Fm}function w_(n,o,u){pd(dt,Md,Nu(di(),n,o,u),!0)}function Bm(n,o,u){const E=di();return Vl(E,_o(),o)&&Vc(sr(),Me(),E,n,o,E[ci],u,!0),Bm}function Um(n,o,u){const E=di();if(Vl(E,_o(),o)){const K=sr(),me=Me();Vc(K,me,E,n,o,mg(_l(K.data),me,E),u,!0)}return Um}const fu=void 0;var eT=["en",[["a","p"],["AM","PM"],fu],[["AM","PM"],fu,fu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fu,"{1} 'at' {0}",fu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function XE(n){const u=Math.floor(Math.abs(n)),E=n.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===E?1:5}];let Vu={};function Gm(n){const o=function tT(n){return n.toLowerCase().replace(/_/g,"-")}(n);let u=H_(o);if(u)return u;const E=o.split("-")[0];if(u=H_(E),u)return u;if("en"===E)return eT;throw new T(701,!1)}function G_(n){return Gm(n)[Ku.PluralCase]}function H_(n){return n in Vu||(Vu[n]=tt.ng&&tt.ng.common&&tt.ng.common.locales&&tt.ng.common.locales[n]),Vu[n]}var Ku=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Ku||{});const Wu="en-US",Mh={marker:"element"},Ah={marker:"ICU"};var Pc=function(n){return n[n.SHIFT=2]="SHIFT",n[n.APPEND_EAGERLY=1]="APPEND_EAGERLY",n[n.COMMENT=2]="COMMENT",n}(Pc||{});let j_=Wu;function V_(n){(function Te(n,o){null==n&&Oe(o,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(j_=n.toLowerCase().replace(/_/g,"-"))}function K_(n,o,u){const E=o.insertBeforeIndex,R=Array.isArray(E)?E[0]:E;return null===R?df(n,0,u):rr(u[R])}function W_(n,o,u,E,R){const K=o.insertBeforeIndex;if(Array.isArray(K)){let me=E,Ke=null;if(3&o.type||(Ke=me,me=R),null!==me&&-1===o.componentOffset)for(let ot=1;ot<K.length;ot++)Ed(n,me,u[K[ot]],Ke,!1)}}function Y_(n,o){if(n.push(o),n.length>1)for(let u=n.length-2;u>=0;u--){const E=n[u];z_(E)||sT(E,o)&&null===aT(E)&&lT(E,o.index)}}function z_(n){return!(64&n.type)}function sT(n,o){return z_(o)||n.index>o.index}function aT(n){const o=n.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function lT(n,o){const u=n.insertBeforeIndex;Array.isArray(u)?u[0]=o:(uf(K_,W_),n.insertBeforeIndex=o)}function uT(n,o,u){const E=tm(n,u,64,null,null);return Y_(o,E),E}function vT(){const n=[];let u,E,o=-1;function K(Ke,ot){o=0;const Lt=function xh(n,o){const u=o[n.currentCaseLViewIndex];return null===u?u:u<0?~u:u}(Ke,ot);E=null!==Lt?Ke.remove[Lt]:Nn}function me(){if(o<E.length){const Ke=E[o++];return Ke>0?u[Ke]:(n.push(o,E),K(u[yi].data[~Ke],u),me())}return 0===n.length?null:(E=n.pop(),o=n.pop(),me())}return function R(Ke,ot){for(u=ot;n.length;)n.pop();return K(Ke.value,ot),me}}const Ih=/\ufffd(\d+):?\d*\ufffd/gi,bT=/\ufffd(\d+)\ufffd/,nv=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Bf="\ufffd",ET=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,TT=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ST=/\uE500/g;function iv(n,o,u,E,R,K,me){const Ke=Mf(n,E,1,null);let ot=Ke<<Pc.SHIFT,Lt=tl();o===Lt&&(Lt=null),null===Lt&&(ot|=Pc.APPEND_EAGERLY),me&&(ot|=Pc.COMMENT,function Kf(n){void 0===wc&&(wc=n())}(vT)),R.push(ot,null===K?"":K);const nn=tm(n,Ke,me?32:1,null===K?"":K,null);Y_(u,nn);const Cn=nn.index;return so(nn,!1),null!==Lt&&o!==Lt&&function dT(n,o){let u=n.insertBeforeIndex;null===u?(uf(K_,W_),u=n.insertBeforeIndex=[null,o]):(function ce(n,o,u){n!=o&&Oe(u,n,o,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(o))}(Lt,Cn),nn}function MT(n,o,u,E,R,K,me){const Ke=me.match(Ih),ot=iv(n,o,u,K,E,Ke?null:me,!1);Ke&&Uf(R,me,ot.index,null,0,null)}function Uf(n,o,u,E,R,K){const me=n.length,Ke=me+1;n.push(null,null);const ot=me+2,Lt=o.split(Ih);let nn=0;for(let Cn=0;Cn<Lt.length;Cn++){const jn=Lt[Cn];if(1&Cn){const Jn=R+parseInt(jn,10);n.push(-1-Jn),nn|=rv(Jn)}else""!==jn&&n.push(jn)}return n.push(u<<2|(E?1:0)),E&&n.push(E,K),n[me]=nn,n[Ke]=n.length-ot,nn}function rv(n){return 1<<Math.min(n,31)}function ov(n){let o,K,u="",E=0,R=!1;for(;null!==(o=ET.exec(n));)R?o[0]===`${Bf}/*${K}${Bf}`&&(E=o.index,R=!1):(u+=n.substring(E,o.index+o[0].length),K=o[1],R=!0);return u+=n.slice(E),u}function sv(n,o,u,E,R,K){let me=0;const Ke={type:R.type,currentCaseLViewIndex:Mf(n,o,1,null),anchorIdx:K,cases:[],create:[],remove:[],update:[]};(function NT(n,o,u){n.push(rv(o.mainBinding),2,-1-o.mainBinding,u<<2|2)})(u,R,K),function cT(n,o,u){const E=n.data[o];null===E?n.data[o]=u:E.value=u}(n,K,Ke);const ot=R.values;for(let Lt=0;Lt<ot.length;Lt++){const nn=ot[Lt],Cn=[];for(let jn=0;jn<nn.length;jn++){const Jn=nn[jn];if("string"!=typeof Jn){const fi=Cn.push(Jn)-1;nn[jn]=`\x3c!--\ufffd${fi}\ufffd--\x3e`}}me=PT(n,Ke,o,u,E,R.cases[Lt],nn.join(""),Cn)|me}me&&function LT(n,o,u){n.push(o,1,u<<2|3)}(u,me,K)}function OT(n){const o=[],u=[];let E=1,R=0;const K=Hm(n=n.replace(nv,function(me,Ke,ot){return E="select"===ot?0:1,R=parseInt(Ke.slice(1),10),""}));for(let me=0;me<K.length;){let Ke=K[me++].trim();1===E&&(Ke=Ke.replace(/\s*(?:=)?(\w+)\s*/,"$1")),Ke.length&&o.push(Ke);const ot=Hm(K[me++]);o.length>u.length&&u.push(ot)}return{type:E,mainBinding:R,cases:o,values:u}}function Hm(n){if(!n)return[];let o=0;const u=[],E=[],R=/[{}]/g;let K;for(R.lastIndex=0;K=R.exec(n);){const Ke=K.index;if("}"==K[0]){if(u.pop(),0==u.length){const ot=n.substring(o,Ke);nv.test(ot)?E.push(OT(ot)):E.push(ot),o=Ke+1}}else{if(0==u.length){const ot=n.substring(o,Ke);E.push(ot),o=Ke+1}u.push("{")}}const me=n.substring(o);return E.push(me),E}function PT(n,o,u,E,R,K,me,Ke){const ot=[],Lt=[],nn=[];o.cases.push(K),o.create.push(ot),o.remove.push(Lt),o.update.push(nn);const jn=ta(Et()).getInertBodyElement(me),Jn=F(jn)||jn;return Jn?av(n,o,u,E,ot,Lt,nn,Jn,R,Ke,0):0}function av(n,o,u,E,R,K,me,Ke,ot,Lt,nn){let Cn=0,jn=Ke.firstChild;for(;jn;){const Jn=Mf(n,u,1,null);switch(jn.nodeType){case Node.ELEMENT_NODE:const fi=jn,bi=fi.tagName.toLowerCase();if(dd.hasOwnProperty(bi)){jm(R,Mh,bi,ot,Jn),n.data[Jn]=bi;const Ar=fi.attributes;for(let po=0;po<Ar.length;po++){const Co=Ar.item(po),Kl=Co.name.toLowerCase();Co.value.match(Ih)?Td.hasOwnProperty(Kl)&&Uf(me,Co.value,Jn,Co.name,0,Gc[Kl]?Oc:null):kT(R,Jn,Co)}Cn=av(n,o,u,E,R,K,me,jn,Jn,Lt,nn+1)|Cn,lv(K,Jn,nn)}break;case Node.TEXT_NODE:const Bi=jn.textContent||"",er=Bi.match(Ih);jm(R,null,er?"":Bi,ot,Jn),lv(K,Jn,nn),er&&(Cn=Uf(me,Bi,Jn,null,0,null)|Cn);break;case Node.COMMENT_NODE:const _i=bT.exec(jn.textContent||"");if(_i){const po=Lt[parseInt(_i[1],10)];jm(R,Ah,"",ot,Jn),sv(n,u,E,ot,po,Jn),RT(K,Jn,nn)}}jn=jn.nextSibling}return Cn}function lv(n,o,u){0===u&&n.push(o)}function RT(n,o,u){0===u&&(n.push(~o),n.push(o))}function jm(n,o,u,E,R){null!==o&&n.push(o),n.push(u,R,function fT(n,o,u){return n|o<<17|u<<1}(0,E,R))}function kT(n,o,u){n.push(o<<1|1,u.name,u.value)}function dv(n,o,u=-1){const E=sr(),R=di(),K=cr+n,me=_r(E.consts,o),Ke=tl();E.firstCreatePass&&function DT(n,o,u,E,R,K){const me=tl(),Ke=[],ot=[],Lt=[[]];R=function wT(n,o){if(function IT(n){return-1===n}(o))return ov(n);{const u=n.indexOf(`:${o}${Bf}`)+2+o.toString().length,E=n.search(new RegExp(`${Bf}\\/\\*\\d+:${o}${Bf}`));return ov(n.substring(u,E))}}(R,K);const nn=function CT(n){return n.replace(ST," ")}(R).split(TT);for(let Cn=0;Cn<nn.length;Cn++){let jn=nn[Cn];if(1&Cn){const Jn=47===jn.charCodeAt(0),bi=(jn.charCodeAt(Jn?1:0),cr+Number.parseInt(jn.substring(Jn?2:1)));if(Jn)Lt.shift(),so(tl(),!1);else{const Bi=uT(n,Lt[0],bi);Lt.unshift([]),so(Bi,!0)}}else{const Jn=Hm(jn);for(let fi=0;fi<Jn.length;fi++){let bi=Jn[fi];if(1&fi){const Bi=bi;if("object"!=typeof Bi)throw new Error(`Unable to parse ICU expression in "${R}" message.`);sv(n,u,ot,o,Bi,iv(n,me,Lt[0],u,Ke,"",!0).index)}else""!==bi&&MT(n,me,Lt[0],Ke,ot,u,bi)}}}n.data[E]={create:Ke,update:ot}}(E,null===Ke?0:Ke.index,R,K,me,u),2===E.type?R[Ki][Zi]|=32:R[Zi]|=32;const ot=E.data[K],nn=sf(E,Ke===R[Jr]?null:Ke,R);(function pT(n,o,u,E){const R=n[ci];for(let K=0;K<o.length;K++){const me=o[K++],Ke=o[K],Lt=(me&Pc.APPEND_EAGERLY)===Pc.APPEND_EAGERLY,nn=me>>>Pc.SHIFT;let Cn=n[nn];null===Cn&&(Cn=n[nn]=(me&Pc.COMMENT)===Pc.COMMENT?R.createComment(Ke):Xd(R,Ke)),Lt&&null!==u&&Ed(R,u,Cn,E,!1)}})(R,ot.create,nn,Ke&&8&Ke.type?R[Ke.index]:null),nl(!0)}function fv(n,o,u){dv(n,o,u),function uv(){nl(!1)}()}function Vm(n,o,u,E,R){if(n=A(n),Array.isArray(n))for(let K=0;K<n.length;K++)Vm(n[K],o,u,E,R);else{const K=sr(),me=di();let Ke=Xi(n)?n:A(n.provide),ot=lc(n);const Lt=jo(),nn=1048575&Lt.providerIndexes,Cn=Lt.directiveStart,jn=Lt.providerIndexes>>20;if(Xi(n)||!n.multi){const Jn=new _s(ot,R,Ou),fi=Wm(Ke,o,R?nn:nn+jn,Cn);-1===fi?(Ql(Ll(Lt,me),K,Ke),Km(K,n,o.length),o.push(Ke),Lt.directiveStart++,Lt.directiveEnd++,R&&(Lt.providerIndexes+=1048576),u.push(Jn),me.push(Jn)):(u[fi]=Jn,me[fi]=Jn)}else{const Jn=Wm(Ke,o,nn+jn,Cn),fi=Wm(Ke,o,nn,nn+jn),Bi=fi>=0&&u[fi];if(R&&!Bi||!R&&!(Jn>=0&&u[Jn])){Ql(Ll(Lt,me),K,Ke);const er=function QT(n,o,u,E,R){const K=new _s(n,u,Ou);return K.multi=[],K.index=o,K.componentProviders=0,mv(K,R,E&&!u),K}(R?JT:$T,u.length,R,E,ot);!R&&Bi&&(u[fi].providerFactory=er),Km(K,n,o.length,0),o.push(Ke),Lt.directiveStart++,Lt.directiveEnd++,R&&(Lt.providerIndexes+=1048576),u.push(er),me.push(er)}else Km(K,n,Jn>-1?Jn:fi,mv(u[R?fi:Jn],ot,!R&&E));!R&&E&&Bi&&u[fi].componentProviders++}}}function Km(n,o,u,E){const R=Xi(o),K=function hr(n){return!!n.useClass}(o);if(R||K){const ot=(K?A(o.useClass):o).prototype.ngOnDestroy;if(ot){const Lt=n.destroyHooks||(n.destroyHooks=[]);if(!R&&o.multi){const nn=Lt.indexOf(u);-1===nn?Lt.push(u,[E,ot]):Lt[nn+1].push(E,ot)}else Lt.push(u,ot)}}}function mv(n,o,u){return u&&n.componentProviders++,n.multi.push(o)-1}function Wm(n,o,u,E){for(let R=u;R<E;R++)if(o[R]===n)return R;return-1}function $T(n,o,u,E){return Ym(this.multi,[])}function JT(n,o,u,E){const R=this.multi;let K;if(this.providerFactory){const me=this.providerFactory.componentProviders,Ke=La(u,u[yi],this.providerFactory.index,E);K=Ke.slice(0,me),Ym(R,K);for(let ot=me;ot<Ke.length;ot++)K.push(Ke[ot])}else K=[],Ym(R,K);return K}function Ym(n,o){for(let u=0;u<n.length;u++)o.push((0,n[u])());return o}function pv(n,o=[]){return u=>{u.providersResolver=(E,R)=>function ZT(n,o,u){const E=sr();if(E.firstCreatePass){const R=pr(n);Vm(u,E.data,E.blueprint,R,!0),Vm(o,E.data,E.blueprint,R,!1)}}(E,R?R(n):n,o)}}class Yu{}class gv{}function qT(n,o){return new zm(n,o??null,[])}class zm extends Yu{constructor(o,u,E){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Eg(this);const R=Kr(o);this._bootstrapComponents=Vd(R.bootstrap),this._r3Injector=eg(o,u,[{provide:Yu,useValue:this},{provide:Sf,useValue:this.componentFactoryResolver},...E],f(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Zm extends gv{constructor(o){super(),this.moduleType=o}create(o){return new zm(this.moduleType,o,[])}}class _v extends Yu{constructor(o){super(),this.componentFactoryResolver=new Eg(this),this.instance=null;const u=new Mu([...o.providers,{provide:Yu,useValue:this},{provide:Sf,useValue:this.componentFactoryResolver}],o.parent||jc(),o.debugName,new Set(["environment"]));this.injector=u,o.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function vv(n,o,u=null){return new _v({providers:n,parent:o,debugName:u,runEnvironmentInitializers:!0}).injector}let eS=(()=>{class n{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u)){const E=ed(0,u.type),R=E.length>0?vv([E],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u,R)}return this.cachedInjectors.get(u)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Re({token:n,providedIn:"environment",factory:()=>new n(it(Ko))})}return n})();function yv(n){n.getStandaloneInjector=o=>o.get(eS).getOrCreateStandaloneInjector(n)}function Mv(n,o,u){const E=Jo()+n,R=di();return R[E]===kr?Cd(R,E,u?o.call(u):o()):function wf(n,o){return n[o]}(R,E)}function Av(n,o,u,E){return wv(di(),Jo(),n,o,u,E)}function xv(n,o,u,E,R){return Ov(di(),Jo(),n,o,u,E,R)}function Iv(n,o,u,E,R,K){return function Pv(n,o,u,E,R,K,me,Ke){const ot=o+u;return mh(n,ot,R,K,me)?Cd(n,ot+3,Ke?E.call(Ke,R,K,me):E(R,K,me)):Gf(n,ot+3)}(di(),Jo(),n,o,u,E,R,K)}function Gf(n,o){const u=n[o];return u===kr?void 0:u}function wv(n,o,u,E,R,K){const me=o+u;return Vl(n,me,R)?Cd(n,me+1,K?E.call(K,R):E(R)):Gf(n,me+1)}function Ov(n,o,u,E,R,K,me){const Ke=o+u;return du(n,Ke,R,K)?Cd(n,Ke+2,me?E.call(me,R,K):E(R,K)):Gf(n,Ke+2)}function Lv(n,o){const u=sr();let E;const R=n+cr;u.firstCreatePass?(E=function pS(n,o){if(o)for(let u=o.length-1;u>=0;u--){const E=o[u];if(n===E.name)return E}}(o,u.pipeRegistry),u.data[R]=E,E.onDestroy&&(u.destroyHooks??=[]).push(R,E.onDestroy)):E=u.data[R];const K=E.factory||(E.factory=_t(E.type)),me=Ge(Ou);try{const Ke=$l(!1),ot=K();return $l(Ke),function rE(n,o,u,E){u>=n.data.length&&(n.data[u]=null,n.blueprint[u]=null),o[u]=E}(u,di(),R,ot),ot}finally{Ge(me)}}function kv(n,o,u){const E=n+cr,R=di(),K=Sn(R,E);return Hf(R,E)?wv(R,Jo(),o,K.transform,u,K):K.transform(u)}function Fv(n,o,u,E){const R=n+cr,K=di(),me=Sn(K,R);return Hf(K,R)?Ov(K,Jo(),o,me.transform,u,E,me):me.transform(u,E)}function Hf(n,o){return n[yi].data[o].pure}function Jm(n){return o=>{setTimeout(n,void 0,o)}}const Ad=class yS extends e.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,E){let R=o,K=u||(()=>null),me=E;if(o&&"object"==typeof o){const ot=o;R=ot.next?.bind(ot),K=ot.error?.bind(ot),me=ot.complete?.bind(ot)}this.__isAsync&&(K=Jm(K),R&&(R=Jm(R)),me&&(me=Jm(me)));const Ke=super.subscribe({next:R,error:K,complete:me});return o instanceof t.w0&&o.add(Ke),Ke}};function bS(){return this._results[Symbol.iterator]()}class wh{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ad)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=wh.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=bS)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const E=this;E.dirty=!1;const R=function js(n){return n.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Xs(n,o,u){if(n.length!==o.length)return!1;for(let E=0;E<n.length;E++){let R=n[E],K=o[E];if(u&&(R=u(R),K=u(K)),K!==R)return!1}return!0}(E._results,R,u))&&(E._results=R,E.length=R.length,E.last=R[this.length-1],E.first=R[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let jf=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=SS}return n})();const ES=jf,TS=class extends ES{constructor(o,u,E){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=E}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,u){return this.createEmbeddedViewImpl(o,u,null)}createEmbeddedViewImpl(o,u,E){const me=this._declarationTContainer.tView,Ke=lh(this._declarationLView,me,o,4096&this._declarationLView[Zi]?4096:16,null,me.declTNode,null,null,null,u||null,E||null);Ke[Ir]=this._declarationLView[this._declarationTContainer.index];const Lt=this._declarationLView[Fo];return null!==Lt&&(Ke[Fo]=Lt.createEmbeddedView(me)),um(me,Ke,o),new xf(Ke)}};function SS(){return Oh(jo(),di())}function Oh(n,o){return 4&n.type?new TS(o,n,xu(n,o)):null}let Ph=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=wS}return n})();function wS(){return Vv(jo(),di())}const OS=Ph,Hv=class extends OS{constructor(o,u,E){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=E}get element(){return xu(this._hostTNode,this._hostLView)}get injector(){return new Bl(this._hostTNode,this._hostLView)}get parentInjector(){const o=Js(this._hostTNode,this._hostLView);if(zl(o)){const u=Tl(o,this._hostLView),E=xs(o);return new Bl(u[yi].data[E+8],u)}return new Bl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=jv(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-Yr}createEmbeddedView(o,u,E){let R,K;"number"==typeof E?R=E:null!=E&&(R=E.index,K=E.injector);const Ke=o.createEmbeddedViewImpl(u||{},K,null);return this.insertImpl(Ke,R,false),Ke}createComponent(o,u,E,R,K){const me=o&&!function Dl(n){return"function"==typeof n}(o);let Ke;if(me)Ke=u;else{const bi=u||{};Ke=bi.index,E=bi.injector,R=bi.projectableNodes,K=bi.environmentInjector||bi.ngModuleRef}const ot=me?o:new If(Yi(o)),Lt=E||this.parentInjector;if(!K&&null==ot.ngModule){const Bi=(me?Lt:this.parentInjector).get(Ko,null);Bi&&(K=Bi)}Yi(ot.componentType??{});const Jn=ot.create(Lt,R,null,K);return this.insertImpl(Jn.hostView,Ke,false),Jn}insert(o,u){return this.insertImpl(o,u,!1)}insertImpl(o,u,E){const R=o._lView,K=R[yi];if(function Nr(n){return oo(n[Rr])}(R)){const ot=this.indexOf(o);if(-1!==ot)this.detach(ot);else{const Lt=R[Rr],nn=new Hv(Lt,Lt[Jr],Lt[Rr]);nn.detach(nn.indexOf(o))}}const me=this._adjustIndex(u),Ke=this._lContainer;if(function Yf(n,o,u,E){const R=Yr+E,K=u.length;E>0&&(u[R-1][Wr]=o),E<K-Yr?(o[Wr]=u[R],Qc(u,Yr+E,o)):(u.push(o),o[Wr]=null),o[Rr]=u;const me=o[Ir];null!==me&&u!==me&&function zf(n,o){const u=n[Os];o[Ki]!==o[Rr][Rr][Ki]&&(n[Ws]=!0),null===u?n[Os]=[o]:u.push(o)}(me,o);const Ke=o[Fo];null!==Ke&&Ke.insertView(n),o[Zi]|=128}(K,R,Ke,me),!E){const ot=Eu(me,Ke),Lt=R[ci],nn=ou(Lt,Ke[uo]);null!==nn&&function nf(n,o,u,E,R,K){E[Sr]=R,E[Jr]=o,Pd(n,E,u,1,R,K)}(K,Ke[Jr],Lt,R,nn,ot)}return o.attachToViewContainerRef(),Qc(qm(Ke),me,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=jv(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),E=gu(this._lContainer,u);E&&(ic(qm(this._lContainer),u),rf(E[yi],E))}detach(o){const u=this._adjustIndex(o,-1),E=gu(this._lContainer,u);return E&&null!=ic(qm(this._lContainer),u)?new xf(E):null}_adjustIndex(o,u=0){return o??this.length+u}};function jv(n){return n[8]}function qm(n){return n[8]||(n[8]=[])}function Vv(n,o){let u;const E=o[n.index];return oo(E)?u=E:(u=dg(E,o,null,n),o[n.index]=u,ch(o,u)),Kv(u,o,n,E),new Hv(u,n,o)}let Kv=function Wv(n,o,u,E){if(n[uo])return;let R;R=8&u.type?rr(E):function PS(n,o){const u=n[ci],E=u.createComment(""),R=Yt(o,n);return Ed(u,ou(u,R),E,function Qf(n,o){return n.nextSibling(o)}(u,R),!1),E}(o,u),n[uo]=R};class Xm{constructor(o){this.queryList=o,this.matches=null}clone(){return new Xm(this.queryList)}setDirty(){this.queryList.setDirty()}}class ep{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const E=null!==o.contentQueries?o.contentQueries[0]:u.length,R=[];for(let K=0;K<E;K++){const me=u.getByIndex(K);R.push(this.queries[me.indexInDeclarationView].clone())}return new ep(R)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==e0(o,u).matches&&this.queries[u].setDirty()}}class Yv{constructor(o,u,E=null){this.predicate=o,this.flags=u,this.read=E}}class tp{constructor(o=[]){this.queries=o}elementStart(o,u){for(let E=0;E<this.queries.length;E++)this.queries[E].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let E=0;E<this.length;E++){const R=null!==u?u.length:0,K=this.getByIndex(E).embeddedTView(o,R);K&&(K.indexInDeclarationView=E,null!==u?u.push(K):u=[K])}return null!==u?new tp(u):null}template(o,u){for(let E=0;E<this.queries.length;E++)this.queries[E].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class np{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new np(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let E=o.parent;for(;null!==E&&8&E.type&&E.index!==u;)E=E.parent;return u===(null!==E?E.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const E=this.metadata.predicate;if(Array.isArray(E))for(let R=0;R<E.length;R++){const K=E[R];this.matchTNodeWithReadOption(o,u,LS(u,K)),this.matchTNodeWithReadOption(o,u,Qs(u,o,K,!1,!1))}else E===jf?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,Qs(u,o,E,!1,!1))}matchTNodeWithReadOption(o,u,E){if(null!==E){const R=this.metadata.read;if(null!==R)if(R===Cf||R===Ph||R===jf&&4&u.type)this.addMatch(u.index,-2);else{const K=Qs(u,o,R,!1,!1);null!==K&&this.addMatch(u.index,K)}else this.addMatch(u.index,E)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function LS(n,o){const u=n.localNames;if(null!==u)for(let E=0;E<u.length;E+=2)if(u[E]===o)return u[E+1];return null}function FS(n,o,u,E){return-1===u?function kS(n,o){return 11&n.type?xu(n,o):4&n.type?Oh(n,o):null}(o,n):-2===u?function BS(n,o,u){return u===Cf?xu(o,n):u===jf?Oh(o,n):u===Ph?Vv(o,n):void 0}(n,o,E):La(n,n[yi],u,o)}function zv(n,o,u,E){const R=o[Fo].queries[E];if(null===R.matches){const K=n.data,me=u.matches,Ke=[];for(let ot=0;ot<me.length;ot+=2){const Lt=me[ot];Ke.push(Lt<0?null:FS(o,K[Lt],me[ot+1],u.metadata.read))}R.matches=Ke}return R.matches}function ip(n,o,u,E){const R=n.queries.getByIndex(u),K=R.matches;if(null!==K){const me=zv(n,o,R,u);for(let Ke=0;Ke<K.length;Ke+=2){const ot=K[Ke];if(ot>0)E.push(me[Ke/2]);else{const Lt=K[Ke+1],nn=o[-ot];for(let Cn=Yr;Cn<nn.length;Cn++){const jn=nn[Cn];jn[Ir]===jn[Rr]&&ip(jn[yi],jn,Lt,E)}if(null!==nn[Os]){const Cn=nn[Os];for(let jn=0;jn<Cn.length;jn++){const Jn=Cn[jn];ip(Jn[yi],Jn,Lt,E)}}}}}return E}function Zv(n){const o=di(),u=sr(),E=pc();vl(E+1);const R=e0(u,E);if(n.dirty&&function ai(n){return 4==(4&n[Zi])}(o)===(2==(2&R.metadata.flags))){if(null===R.matches)n.reset([]);else{const K=R.crossesNgTemplate?ip(u,o,E,[]):zv(u,o,R,E);n.reset(K,Ty),n.notifyOnChanges()}return!0}return!1}function $v(n,o,u){const E=sr();E.firstCreatePass&&(Xv(E,new Yv(n,o,u),-1),2==(2&o)&&(E.staticViewQueries=!0)),qv(E,di(),o)}function Jv(n,o,u,E){const R=sr();if(R.firstCreatePass){const K=jo();Xv(R,new Yv(o,u,E),K.index),function GS(n,o){const u=n.contentQueries||(n.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(n.queries.length-1,o)}(R,n),2==(2&u)&&(R.staticContentQueries=!0)}qv(R,di(),u)}function Qv(){return function US(n,o){return n[Fo].queries[o].queryList}(di(),pc())}function qv(n,o,u){const E=new wh(4==(4&u));(function Ky(n,o,u,E){const R=fg(o);R.push(u),n.firstCreatePass&&hg(n).push(E,R.length-1)})(n,o,E,E.destroy),null===o[Fo]&&(o[Fo]=new ep),o[Fo].queries.push(new Xm(E))}function Xv(n,o,u){null===n.queries&&(n.queries=new tp),n.queries.track(new np(o,u))}function e0(n,o){return n.queries.getByIndex(o)}function t0(n,o){return Oh(n,o)}function rp(n){return!!Kr(n)}const y0=new lr("Application Initializer");let cp=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,E)=>{this.resolve=u,this.reject=E}),this.appInits=Ye(y0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const R of this.appInits){const K=R();if(Cm(K))u.push(K);else if(Zg(K)){const me=new Promise((Ke,ot)=>{K.subscribe({complete:Ke,error:ot})});u.push(me)}}const E=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{E()}).catch(R=>{this.reject(R)}),0===u.length&&E(),this.initialized=!0}static#e=this.\u0275fac=function(E){return new(E||n)};static#t=this.\u0275prov=Re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),b0=(()=>{class n{log(u){console.log(u)}warn(u){console.warn(u)}static#e=this.\u0275fac=function(E){return new(E||n)};static#t=this.\u0275prov=Re({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Nh=new lr("LocaleId",{providedIn:"root",factory:()=>Ye(Nh,_e.Optional|_e.SkipSelf)||function aC(){return typeof $localize<"u"&&$localize.locale||Wu}()}),lC=new lr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let E0=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new v.X(!1)}add(){this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(E){return new(E||n)};static#t=this.\u0275prov=Re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class dC{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let uC=(()=>{class n{compileModuleSync(u){return new Zm(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const E=this.compileModuleSync(u),K=Vd(Kr(u).declarations).reduce((me,Ke)=>{const ot=Yi(Ke);return ot&&me.push(new If(ot)),me},[]);return new dC(E,K)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}static#e=this.\u0275fac=function(E){return new(E||n)};static#t=this.\u0275prov=Re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function C0(...n){}class dc{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:E=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ad(!1),this.onMicrotaskEmpty=new Ad(!1),this.onStable=new Ad(!1),this.onError=new Ad(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const R=this;R._nesting=0,R._outer=R._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(R._inner=R._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(R._inner=R._inner.fork(Zone.longStackTraceZoneSpec)),R.shouldCoalesceEventChangeDetection=!E&&u,R.shouldCoalesceRunChangeDetection=E,R.lastRequestAnimationFrameId=-1,R.nativeRequestAnimationFrame=function mC(){const n="function"==typeof tt.requestAnimationFrame;let o=tt[n?"requestAnimationFrame":"setTimeout"],u=tt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&u){const E=o[Zone.__symbol__("OriginalDelegate")];E&&(o=E);const R=u[Zone.__symbol__("OriginalDelegate")];R&&(u=R)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function _C(n){const o=()=>{!function gC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(tt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,up(n),n.isCheckStableRunning=!0,dp(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),up(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,E,R,K,me,Ke)=>{try{return D0(n),u.invokeTask(R,K,me,Ke)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===K.type||n.shouldCoalesceRunChangeDetection)&&o(),M0(n)}},onInvoke:(u,E,R,K,me,Ke,ot)=>{try{return D0(n),u.invoke(R,K,me,Ke,ot)}finally{n.shouldCoalesceRunChangeDetection&&o(),M0(n)}},onHasTask:(u,E,R,K)=>{u.hasTask(R,K),E===R&&("microTask"==K.change?(n._hasPendingMicrotasks=K.microTask,up(n),dp(n)):"macroTask"==K.change&&(n.hasPendingMacrotasks=K.macroTask))},onHandleError:(u,E,R,K)=>(u.handleError(R,K),n.runOutsideAngular(()=>n.onError.emit(K)),!1)})}(R)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dc.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(dc.isInAngularZone())throw new T(909,!1)}run(o,u,E){return this._inner.run(o,u,E)}runTask(o,u,E,R){const K=this._inner,me=K.scheduleEventTask("NgZoneEvent: "+R,o,pC,C0,C0);try{return K.runTask(me,u,E)}finally{K.cancelTask(me)}}runGuarded(o,u,E){return this._inner.runGuarded(o,u,E)}runOutsideAngular(o){return this._outer.run(o)}}const pC={};function dp(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function up(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function D0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function M0(n){n._nesting--,dp(n)}class vC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ad,this.onMicrotaskEmpty=new Ad,this.onStable=new Ad,this.onError=new Ad}run(o,u,E){return o.apply(u,E)}runGuarded(o,u,E){return o.apply(u,E)}runOutsideAngular(o){return o()}runTask(o,u,E,R){return o.apply(u,E)}}const A0=new lr("",{providedIn:"root",factory:x0});function x0(){const n=Ye(dc);let o=!0;const u=new b.y(R=>{o=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{R.next(o),R.complete()})}),E=new b.y(R=>{let K;n.runOutsideAngular(()=>{K=n.onStable.subscribe(()=>{dc.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(o=!0,R.next(!0))})})});const me=n.onUnstable.subscribe(()=>{dc.assertInAngularZone(),o&&(o=!1,n.runOutsideAngular(()=>{R.next(!1)}))});return()=>{K.unsubscribe(),me.unsubscribe()}});return(0,_.T)(u,E.pipe((0,C.B)()))}const I0=new lr(""),w0=new lr("");let fp,yC=(()=>{class n{constructor(u,E,R){this._ngZone=u,this.registry=E,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,fp||(function bC(n){fp=n}(R),R.addToWindow(E)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dc.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(E=>!E.updateCb||!E.updateCb(u)||(clearTimeout(E.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,E,R){let K=-1;E&&E>0&&(K=setTimeout(()=>{this._callbacks=this._callbacks.filter(me=>me.timeoutId!==K),u(this._didWork,this.getPendingTasks())},E)),this._callbacks.push({doneCb:u,timeoutId:K,updateCb:R})}whenStable(u,E,R){if(R&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,E,R),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,E,R){return[]}static#e=this.\u0275fac=function(E){return new(E||n)(it(dc),it(O0),it(w0))};static#t=this.\u0275prov=Re({token:n,factory:n.\u0275fac})}return n})(),O0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(u,E){this._applications.set(u,E)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,E=!0){return fp?.findTestabilityInTree(this,u,E)??null}static#e=this.\u0275fac=function(E){return new(E||n)};static#t=this.\u0275prov=Re({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Qd=null;const P0=new lr("AllowMultipleToken"),hp=new lr("PlatformDestroyListeners"),mp=new lr("appBootstrapListener");class SC{constructor(o,u){this.name=o,this.token=u}}function L0(n,o,u=[]){const E=`Platform: ${o}`,R=new lr(E);return(K=[])=>{let me=pp();if(!me||me.injector.get(P0,!1)){const Ke=[...u,...K,{provide:R,useValue:!0}];n?n(Ke):function CC(n){if(Qd&&!Qd.get(P0,!1))throw new T(400,!1);(function R0(){!function cl(n){wl=n}(()=>{throw new T(600,!1)})})(),Qd=n;const o=n.get(F0);(function N0(n){n.get(Dp,null)?.forEach(u=>u())})(n)}(function k0(n=[],o){return $d.create({name:o,providers:[{provide:mo,useValue:"platform"},{provide:hp,useValue:new Set([()=>Qd=null])},...n]})}(Ke,E))}return function MC(n){const o=pp();if(!o)throw new T(401,!1);return o}()}}function pp(){return Qd?.get(F0)??null}let F0=(()=>{class n{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,E){const R=function AC(n="zone.js",o){return"noop"===n?new vC:"zone.js"===n?new dc(o):n}(E?.ngZone,function B0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:E?.ngZoneEventCoalescing,runCoalescing:E?.ngZoneRunCoalescing}));return R.run(()=>{const K=function XT(n,o,u){return new zm(n,o,u)}(u.moduleType,this.injector,function V0(n){return[{provide:dc,useFactory:n},{provide:as,multi:!0,useFactory:()=>{const o=Ye(IC,{optional:!0});return()=>o.initialize()}},{provide:j0,useFactory:xC},{provide:A0,useFactory:x0}]}(()=>R)),me=K.injector.get(Iu,null);return R.runOutsideAngular(()=>{const Ke=R.onError.subscribe({next:ot=>{me.handleError(ot)}});K.onDestroy(()=>{Lh(this._modules,K),Ke.unsubscribe()})}),function U0(n,o,u){try{const E=u();return Cm(E)?E.catch(R=>{throw o.runOutsideAngular(()=>n.handleError(R)),R}):E}catch(E){throw o.runOutsideAngular(()=>n.handleError(E)),E}}(me,R,()=>{const Ke=K.injector.get(cp);return Ke.runInitializers(),Ke.donePromise.then(()=>(V_(K.injector.get(Nh,Wu)||Wu),this._moduleDoBootstrap(K),K))})})}bootstrapModule(u,E=[]){const R=G0({},E);return function EC(n,o,u){const E=new Zm(u);return Promise.resolve(E)}(0,0,u).then(K=>this.bootstrapModuleFactory(K,R))}_moduleDoBootstrap(u){const E=u.injector.get($u);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(R=>E.bootstrap(R));else{if(!u.instance.ngDoBootstrap)throw new T(-403,!1);u.instance.ngDoBootstrap(E)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(E=>E.destroy()),this._destroyListeners.forEach(E=>E());const u=this._injector.get(hp,null);u&&(u.forEach(E=>E()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(E){return new(E||n)(it($d))};static#t=this.\u0275prov=Re({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function G0(n,o){return Array.isArray(o)?o.reduce(G0,n):{...n,...o}}let $u=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ye(j0),this.zoneIsStable=Ye(A0),this.componentTypes=[],this.components=[],this.isStable=Ye(E0).hasPendingTasks.pipe((0,m.w)(u=>u?(0,P.of)(!1):this.zoneIsStable),(0,i.x)(),(0,C.B)()),this._injector=Ye(Ko)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,E){const R=u instanceof Op;if(!this._injector.get(cp).done)throw!R&&lo(u),new T(405,!1);let me;me=R?u:this._injector.get(Sf).resolveComponentFactory(u),this.componentTypes.push(me.componentType);const Ke=function TC(n){return n.isBoundToModule}(me)?void 0:this._injector.get(Yu),Lt=me.create($d.NULL,[],E||me.selector,Ke),nn=Lt.location.nativeElement,Cn=Lt.injector.get(I0,null);return Cn?.registerApplication(nn),Lt.onDestroy(()=>{this.detachView(Lt.hostView),Lh(this.components,Lt),Cn?.unregisterApplication(nn)}),this._loadComponent(Lt),Lt}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const E=u;this._views.push(E),E.attachToAppRef(this)}detachView(u){const E=u;Lh(this._views,E),E.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const E=this._injector.get(mp,[]);E.push(...this._bootstrapListeners),E.forEach(R=>R(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Lh(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new T(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(E){return new(E||n)};static#t=this.\u0275prov=Re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Lh(n,o){const u=n.indexOf(o);u>-1&&n.splice(u,1)}const j0=new lr("",{providedIn:"root",factory:()=>Ye(Iu).handleError.bind(void 0)});function xC(){const n=Ye(dc),o=Ye(Iu);return u=>n.runOutsideAngular(()=>o.handleError(u))}let IC=(()=>{class n{constructor(){this.zone=Ye(dc),this.applicationRef=Ye($u)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(E){return new(E||n)};static#t=this.\u0275prov=Re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function OC(){return!1}function PC(){}let RC=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=NC}return n})();function NC(n){return function LC(n,o,u){if(Ao(n)&&!u){const E=Zn(n.index,o);return new xf(E,E)}return 47&n.type?new xf(o[Ki],o):null}(jo(),di(),16==(16&n))}class z0{constructor(){}supports(o){return hh(o)}create(o){return new HC(o)}}const GC=(n,o)=>o;class HC{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||GC}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,E=this._removalsHead,R=0,K=null;for(;u||E;){const me=!E||u&&u.currentIndex<$0(E,R,K)?u:E,Ke=$0(me,R,K),ot=me.currentIndex;if(me===E)R--,E=E._nextRemoved;else if(u=u._next,null==me.previousIndex)R++;else{K||(K=[]);const Lt=Ke-R,nn=ot-R;if(Lt!=nn){for(let jn=0;jn<Lt;jn++){const Jn=jn<K.length?K[jn]:K[jn]=0,fi=Jn+jn;nn<=fi&&fi<Lt&&(K[jn]=Jn+1)}K[me.previousIndex]=nn-Lt}}Ke!==ot&&o(me,Ke,ot)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!hh(o))throw new T(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let R,K,me,u=this._itHead,E=!1;if(Array.isArray(o)){this.length=o.length;for(let Ke=0;Ke<this.length;Ke++)K=o[Ke],me=this._trackByFn(Ke,K),null!==u&&Object.is(u.trackById,me)?(E&&(u=this._verifyReinsertion(u,K,me,Ke)),Object.is(u.item,K)||this._addIdentityChange(u,K)):(u=this._mismatch(u,K,me,Ke),E=!0),u=u._next}else R=0,function Fb(n,o){if(Array.isArray(n))for(let u=0;u<n.length;u++)o(n[u]);else{const u=n[Symbol.iterator]();let E;for(;!(E=u.next()).done;)o(E.value)}}(o,Ke=>{me=this._trackByFn(R,Ke),null!==u&&Object.is(u.trackById,me)?(E&&(u=this._verifyReinsertion(u,Ke,me,R)),Object.is(u.item,Ke)||this._addIdentityChange(u,Ke)):(u=this._mismatch(u,Ke,me,R),E=!0),u=u._next,R++}),this.length=R;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,E,R){let K;return null===o?K=this._itTail:(K=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(E,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,K,R)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(E,R))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,K,R)):o=this._addAfter(new jC(u,E),K,R),o}_verifyReinsertion(o,u,E,R){let K=null===this._unlinkedRecords?null:this._unlinkedRecords.get(E,null);return null!==K?o=this._reinsertAfter(K,o._prev,R):o.currentIndex!=R&&(o.currentIndex=R,this._addToMoves(o,R)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,E){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const R=o._prevRemoved,K=o._nextRemoved;return null===R?this._removalsHead=K:R._nextRemoved=K,null===K?this._removalsTail=R:K._prevRemoved=R,this._insertAfter(o,u,E),this._addToMoves(o,E),o}_moveAfter(o,u,E){return this._unlink(o),this._insertAfter(o,u,E),this._addToMoves(o,E),o}_addAfter(o,u,E){return this._insertAfter(o,u,E),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,E){const R=null===u?this._itHead:u._next;return o._next=R,o._prev=u,null===R?this._itTail=o:R._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new Z0),this._linkedRecords.put(o),o.currentIndex=E,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,E=o._next;return null===u?this._itHead=E:u._next=E,null===E?this._itTail=u:E._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Z0),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class jC{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VC{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let E;for(E=this._head;null!==E;E=E._nextDup)if((null===u||u<=E.currentIndex)&&Object.is(E.trackById,o))return E;return null}remove(o){const u=o._prevDup,E=o._nextDup;return null===u?this._head=E:u._nextDup=E,null===E?this._tail=u:E._prevDup=u,null===this._head}}class Z0{constructor(){this.map=new Map}put(o){const u=o.trackById;let E=this.map.get(u);E||(E=new VC,this.map.set(u,E)),E.add(o)}get(o,u){const R=this.map.get(o);return R?R.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $0(n,o,u){const E=n.previousIndex;if(null===E)return E;let R=0;return u&&E<u.length&&(R=u[E]),E+o+R}class J0{constructor(){}supports(o){return o instanceof Map||hm(o)}create(){return new KC}}class KC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||hm(o)))throw new T(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(E,R)=>{if(u&&u.key===R)this._maybeAddToChanges(u,E),this._appendAfter=u,u=u._next;else{const K=this._getOrCreateRecordForKey(R,E);u=this._insertBeforeOrAppend(u,K)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let E=u;null!==E;E=E._nextRemoved)E===this._mapHead&&(this._mapHead=null),this._records.delete(E.key),E._nextRemoved=E._next,E.previousValue=E.currentValue,E.currentValue=null,E._prev=null,E._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const E=o._prev;return u._next=o,u._prev=E,o._prev=u,E&&(E._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const R=this._records.get(o);this._maybeAddToChanges(R,u);const K=R._prev,me=R._next;return K&&(K._next=me),me&&(me._prev=K),R._next=null,R._prev=null,R}const E=new WC(o);return this._records.set(o,E),E.currentValue=u,this._addToAdditions(E),E}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(E=>u(o[E],E))}}class WC{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Q0(){return new bp([new z0])}let bp=(()=>{class n{static#e=this.\u0275prov=Re({token:n,providedIn:"root",factory:Q0});constructor(u){this.factories=u}static create(u,E){if(null!=E){const R=E.factories.slice();u=u.concat(R)}return new n(u)}static extend(u){return{provide:n,useFactory:E=>n.create(u,E||Q0()),deps:[[n,new To,new ol]]}}find(u){const E=this.factories.find(R=>R.supports(u));if(null!=E)return E;throw new T(901,!1)}}return n})();function q0(){return new Ep([new J0])}let Ep=(()=>{class n{static#e=this.\u0275prov=Re({token:n,providedIn:"root",factory:q0});constructor(u){this.factories=u}static create(u,E){if(E){const R=E.factories.slice();u=u.concat(R)}return new n(u)}static extend(u){return{provide:n,useFactory:E=>n.create(u,E||q0()),deps:[[n,new To,new ol]]}}find(u){const E=this.factories.find(R=>R.supports(u));if(E)return E;throw new T(901,!1)}}return n})();const ZC=L0(null,"core",[]);let $C=(()=>{class n{constructor(u){}static#e=this.\u0275fac=function(E){return new(E||n)(it($u))};static#t=this.\u0275mod=ki({type:n});static#n=this.\u0275inj=Q({})}return n})();function rD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function sD(n,o){const u=Yi(n),E=o.elementInjector||jc();return new If(u).create(E,o.projectableNodes,o.hostElement,o.environmentInjector)}function aD(n){const o=Yi(n);if(!o)return null;const u=new If(o);return{get selector(){return u.selector},get type(){return u.componentType},get inputs(){return u.inputs},get outputs(){return u.outputs},get ngContentSelectors(){return u.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},95:(Wn,et,p)=>{"use strict";p.d(et,{Zs:()=>Uo,Fj:()=>T,qu:()=>ra,NI:()=>ki,u:()=>Bo,sg:()=>Ui,u5:()=>Ur,Cf:()=>B,JU:()=>x,a5:()=>re,JJ:()=>xe,JL:()=>Ee,F:()=>Er,On:()=>co,YN:()=>ds,wV:()=>Sr,UX:()=>kn,EJ:()=>cs,kI:()=>ae,_Y:()=>Xo,Kr:()=>us});var e=p(5879),t=p(6814),v=p(2459),b=p(5592),_=p(7453),P=p(4829),C=p(9940),m=p(8251),i=p(7400),c=p(2714),f=p(7398);let g=(()=>{class _t{constructor(ut,$t){this._renderer=ut,this._elementRef=$t,this.onChange=wn=>{},this.onTouched=()=>{}}setProperty(ut,$t){this._renderer.setProperty(this._elementRef.nativeElement,ut,$t)}registerOnTouched(ut){this.onTouched=ut}registerOnChange(ut){this.onChange=ut}setDisabledState(ut){this.setProperty("disabled",ut)}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36(e.Qsj),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:_t})}return _t})(),S=(()=>{class _t extends g{static#e=this.\u0275fac=function(){let ut;return function(wn){return(ut||(ut=e.n5z(_t)))(wn||_t)}}();static#t=this.\u0275dir=e.lG2({type:_t,features:[e.qOj]})}return _t})();const x=new e.OlP("NgValueAccessor"),O={provide:x,useExisting:(0,e.Gpc)(()=>T),multi:!0},I=new e.OlP("CompositionEventMode");let T=(()=>{class _t extends g{constructor(ut,$t,wn){super(ut,$t),this._compositionMode=wn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function D(){const _t=(0,t.q)()?(0,t.q)().getUserAgent():"";return/android (\d+)/.test(_t.toLowerCase())}())}writeValue(ut){this.setProperty("value",ut??"")}_handleInput(ut){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ut)}_compositionStart(){this._composing=!0}_compositionEnd(ut){this._composing=!1,this._compositionMode&&this.onChange(ut)}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(I,8))};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function($t,wn){1&$t&&e.NdJ("input",function(zi){return wn._handleInput(zi.target.value)})("blur",function(){return wn.onTouched()})("compositionstart",function(){return wn._compositionStart()})("compositionend",function(zi){return wn._compositionEnd(zi.target.value)})},features:[e._Bn([O]),e.qOj]})}return _t})();function L(_t){return null==_t||("string"==typeof _t||Array.isArray(_t))&&0===_t.length}function y(_t){return null!=_t&&"number"==typeof _t.length}const B=new e.OlP("NgValidators"),z=new e.OlP("NgAsyncValidators"),ne=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ae{static min(Ot){return function Fe(_t){return Ot=>{if(L(Ot.value)||L(_t))return null;const ut=parseFloat(Ot.value);return!isNaN(ut)&&ut<_t?{min:{min:_t,actual:Ot.value}}:null}}(Ot)}static max(Ot){return function Y(_t){return Ot=>{if(L(Ot.value)||L(_t))return null;const ut=parseFloat(Ot.value);return!isNaN(ut)&&ut>_t?{max:{max:_t,actual:Ot.value}}:null}}(Ot)}static required(Ot){return le(Ot)}static requiredTrue(Ot){return G(Ot)}static email(Ot){return function Se(_t){return L(_t.value)||ne.test(_t.value)?null:{email:!0}}(Ot)}static minLength(Ot){return function ce(_t){return Ot=>L(Ot.value)||!y(Ot.value)?null:Ot.value.length<_t?{minlength:{requiredLength:_t,actualLength:Ot.value.length}}:null}(Ot)}static maxLength(Ot){return function ge(_t){return Ot=>y(Ot.value)&&Ot.value.length>_t?{maxlength:{requiredLength:_t,actualLength:Ot.value.length}}:null}(Ot)}static pattern(Ot){return function Ie(_t){if(!_t)return Ce;let Ot,ut;return"string"==typeof _t?(ut="","^"!==_t.charAt(0)&&(ut+="^"),ut+=_t,"$"!==_t.charAt(_t.length-1)&&(ut+="$"),Ot=new RegExp(ut)):(ut=_t.toString(),Ot=_t),$t=>{if(L($t.value))return null;const wn=$t.value;return Ot.test(wn)?null:{pattern:{requiredPattern:ut,actualValue:wn}}}}(Ot)}static nullValidator(Ot){return null}static compose(Ot){return Oe(Ot)}static composeAsync(Ot){return ft(Ot)}}function le(_t){return L(_t.value)?{required:!0}:null}function G(_t){return!0===_t.value?null:{required:!0}}function Ce(_t){return null}function pe(_t){return null!=_t}function Ae(_t){return(0,e.QGY)(_t)?(0,v.D)(_t):_t}function ke(_t){let Ot={};return _t.forEach(ut=>{Ot=null!=ut?{...Ot,...ut}:Ot}),0===Object.keys(Ot).length?null:Ot}function he(_t,Ot){return Ot.map(ut=>ut(_t))}function Te(_t){return _t.map(Ot=>function we(_t){return!_t.validate}(Ot)?Ot:ut=>Ot.validate(ut))}function Oe(_t){if(!_t)return null;const Ot=_t.filter(pe);return 0==Ot.length?null:function(ut){return ke(he(ut,Ot))}}function Ve(_t){return null!=_t?Oe(Te(_t)):null}function ft(_t){if(!_t)return null;const Ot=_t.filter(pe);return 0==Ot.length?null:function(ut){return function d(..._t){const Ot=(0,C.jO)(_t),{args:ut,keys:$t}=(0,_.D)(_t),wn=new b.y(Ti=>{const{length:zi}=ut;if(!zi)return void Ti.complete();const $o=new Array(zi);let ns=zi,Ss=zi;for(let si=0;si<zi;si++){let Ns=!1;(0,P.Xf)(ut[si]).subscribe((0,m.x)(Ti,to=>{Ns||(Ns=!0,Ss--),$o[si]=to},()=>ns--,void 0,()=>{(!ns||!Ns)&&(Ss||Ti.next($t?(0,c.n)($t,$o):$o),Ti.complete())}))}});return Ot?wn.pipe((0,i.Z)(Ot)):wn}(he(ut,Ot).map(Ae)).pipe((0,f.U)(ke))}}function Ze(_t){return null!=_t?ft(Te(_t)):null}function Re(_t,Ot){return null===_t?[Ot]:Array.isArray(_t)?[..._t,Ot]:[_t,Ot]}function be(_t){return _t._rawValidators}function Q(_t){return _t._rawAsyncValidators}function ie(_t){return _t?Array.isArray(_t)?_t:[_t]:[]}function ye(_t,Ot){return Array.isArray(_t)?_t.includes(Ot):_t===Ot}function oe(_t,Ot){const ut=ie(Ot);return ie(_t).forEach(wn=>{ye(ut,wn)||ut.push(wn)}),ut}function ee(_t,Ot){return ie(Ot).filter(ut=>!ye(_t,ut))}class X{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Ot){this._rawValidators=Ot||[],this._composedValidatorFn=Ve(this._rawValidators)}_setAsyncValidators(Ot){this._rawAsyncValidators=Ot||[],this._composedAsyncValidatorFn=Ze(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Ot){this._onDestroyCallbacks.push(Ot)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Ot=>Ot()),this._onDestroyCallbacks=[]}reset(Ot=void 0){this.control&&this.control.reset(Ot)}hasError(Ot,ut){return!!this.control&&this.control.hasError(Ot,ut)}getError(Ot,ut){return this.control?this.control.getError(Ot,ut):null}}class $ extends X{get formDirective(){return null}get path(){return null}}class re extends X{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class J{constructor(Ot){this._cd=Ot}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let xe=(()=>{class _t extends J{constructor(ut){super(ut)}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36(re,2))};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function($t,wn){2&$t&&e.ekj("ng-untouched",wn.isUntouched)("ng-touched",wn.isTouched)("ng-pristine",wn.isPristine)("ng-dirty",wn.isDirty)("ng-valid",wn.isValid)("ng-invalid",wn.isInvalid)("ng-pending",wn.isPending)},features:[e.qOj]})}return _t})(),Ee=(()=>{class _t extends J{constructor(ut){super(ut)}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36($,10))};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function($t,wn){2&$t&&e.ekj("ng-untouched",wn.isUntouched)("ng-touched",wn.isTouched)("ng-pristine",wn.isPristine)("ng-dirty",wn.isDirty)("ng-valid",wn.isValid)("ng-invalid",wn.isInvalid)("ng-pending",wn.isPending)("ng-submitted",wn.isSubmitted)},features:[e.qOj]})}return _t})();const vt="VALID",it="INVALID",He="PENDING",Ye="DISABLED";function st(_t){return(At(_t)?_t.validators:_t)||null}function St(_t,Ot){return(At(Ot)?Ot.asyncValidators:_t)||null}function At(_t){return null!=_t&&!Array.isArray(_t)&&"object"==typeof _t}function on(_t,Ot,ut){const $t=_t.controls;if(!(Ot?Object.keys($t):$t).length)throw new e.vHH(1e3,"");if(!$t[ut])throw new e.vHH(1001,"")}function En(_t,Ot,ut){_t._forEachChild(($t,wn)=>{if(void 0===ut[wn])throw new e.vHH(1002,"")})}class tn{constructor(Ot,ut){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Ot),this._assignAsyncValidators(ut)}get validator(){return this._composedValidatorFn}set validator(Ot){this._rawValidators=this._composedValidatorFn=Ot}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Ot){this._rawAsyncValidators=this._composedAsyncValidatorFn=Ot}get parent(){return this._parent}get valid(){return this.status===vt}get invalid(){return this.status===it}get pending(){return this.status==He}get disabled(){return this.status===Ye}get enabled(){return this.status!==Ye}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Ot){this._assignValidators(Ot)}setAsyncValidators(Ot){this._assignAsyncValidators(Ot)}addValidators(Ot){this.setValidators(oe(Ot,this._rawValidators))}addAsyncValidators(Ot){this.setAsyncValidators(oe(Ot,this._rawAsyncValidators))}removeValidators(Ot){this.setValidators(ee(Ot,this._rawValidators))}removeAsyncValidators(Ot){this.setAsyncValidators(ee(Ot,this._rawAsyncValidators))}hasValidator(Ot){return ye(this._rawValidators,Ot)}hasAsyncValidator(Ot){return ye(this._rawAsyncValidators,Ot)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Ot={}){this.touched=!0,this._parent&&!Ot.onlySelf&&this._parent.markAsTouched(Ot)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Ot=>Ot.markAllAsTouched())}markAsUntouched(Ot={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(ut=>{ut.markAsUntouched({onlySelf:!0})}),this._parent&&!Ot.onlySelf&&this._parent._updateTouched(Ot)}markAsDirty(Ot={}){this.pristine=!1,this._parent&&!Ot.onlySelf&&this._parent.markAsDirty(Ot)}markAsPristine(Ot={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(ut=>{ut.markAsPristine({onlySelf:!0})}),this._parent&&!Ot.onlySelf&&this._parent._updatePristine(Ot)}markAsPending(Ot={}){this.status=He,!1!==Ot.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Ot.onlySelf&&this._parent.markAsPending(Ot)}disable(Ot={}){const ut=this._parentMarkedDirty(Ot.onlySelf);this.status=Ye,this.errors=null,this._forEachChild($t=>{$t.disable({...Ot,onlySelf:!0})}),this._updateValue(),!1!==Ot.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Ot,skipPristineCheck:ut}),this._onDisabledChange.forEach($t=>$t(!0))}enable(Ot={}){const ut=this._parentMarkedDirty(Ot.onlySelf);this.status=vt,this._forEachChild($t=>{$t.enable({...Ot,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ot.emitEvent}),this._updateAncestors({...Ot,skipPristineCheck:ut}),this._onDisabledChange.forEach($t=>$t(!1))}_updateAncestors(Ot){this._parent&&!Ot.onlySelf&&(this._parent.updateValueAndValidity(Ot),Ot.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Ot){this._parent=Ot}getRawValue(){return this.value}updateValueAndValidity(Ot={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vt||this.status===He)&&this._runAsyncValidator(Ot.emitEvent)),!1!==Ot.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Ot.onlySelf&&this._parent.updateValueAndValidity(Ot)}_updateTreeValidity(Ot={emitEvent:!0}){this._forEachChild(ut=>ut._updateTreeValidity(Ot)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ot.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ye:vt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Ot){if(this.asyncValidator){this.status=He,this._hasOwnPendingAsyncValidator=!0;const ut=Ae(this.asyncValidator(this));this._asyncValidationSubscription=ut.subscribe($t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors($t,{emitEvent:Ot})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Ot,ut={}){this.errors=Ot,this._updateControlsErrors(!1!==ut.emitEvent)}get(Ot){let ut=Ot;return null==ut||(Array.isArray(ut)||(ut=ut.split(".")),0===ut.length)?null:ut.reduce(($t,wn)=>$t&&$t._find(wn),this)}getError(Ot,ut){const $t=ut?this.get(ut):this;return $t&&$t.errors?$t.errors[Ot]:null}hasError(Ot,ut){return!!this.getError(Ot,ut)}get root(){let Ot=this;for(;Ot._parent;)Ot=Ot._parent;return Ot}_updateControlsErrors(Ot){this.status=this._calculateStatus(),Ot&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Ot)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?Ye:this.errors?it:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(He)?He:this._anyControlsHaveStatus(it)?it:vt}_anyControlsHaveStatus(Ot){return this._anyControls(ut=>ut.status===Ot)}_anyControlsDirty(){return this._anyControls(Ot=>Ot.dirty)}_anyControlsTouched(){return this._anyControls(Ot=>Ot.touched)}_updatePristine(Ot={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Ot.onlySelf&&this._parent._updatePristine(Ot)}_updateTouched(Ot={}){this.touched=this._anyControlsTouched(),this._parent&&!Ot.onlySelf&&this._parent._updateTouched(Ot)}_registerOnCollectionChange(Ot){this._onCollectionChange=Ot}_setUpdateStrategy(Ot){At(Ot)&&null!=Ot.updateOn&&(this._updateOn=Ot.updateOn)}_parentMarkedDirty(Ot){return!Ot&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Ot){return null}_assignValidators(Ot){this._rawValidators=Array.isArray(Ot)?Ot.slice():Ot,this._composedValidatorFn=function at(_t){return Array.isArray(_t)?Ve(_t):_t||null}(this._rawValidators)}_assignAsyncValidators(Ot){this._rawAsyncValidators=Array.isArray(Ot)?Ot.slice():Ot,this._composedAsyncValidatorFn=function bt(_t){return Array.isArray(_t)?Ze(_t):_t||null}(this._rawAsyncValidators)}}class Mn extends tn{constructor(Ot,ut,$t){super(st(ut),St($t,ut)),this.controls=Ot,this._initObservables(),this._setUpdateStrategy(ut),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Ot,ut){return this.controls[Ot]?this.controls[Ot]:(this.controls[Ot]=ut,ut.setParent(this),ut._registerOnCollectionChange(this._onCollectionChange),ut)}addControl(Ot,ut,$t={}){this.registerControl(Ot,ut),this.updateValueAndValidity({emitEvent:$t.emitEvent}),this._onCollectionChange()}removeControl(Ot,ut={}){this.controls[Ot]&&this.controls[Ot]._registerOnCollectionChange(()=>{}),delete this.controls[Ot],this.updateValueAndValidity({emitEvent:ut.emitEvent}),this._onCollectionChange()}setControl(Ot,ut,$t={}){this.controls[Ot]&&this.controls[Ot]._registerOnCollectionChange(()=>{}),delete this.controls[Ot],ut&&this.registerControl(Ot,ut),this.updateValueAndValidity({emitEvent:$t.emitEvent}),this._onCollectionChange()}contains(Ot){return this.controls.hasOwnProperty(Ot)&&this.controls[Ot].enabled}setValue(Ot,ut={}){En(this,0,Ot),Object.keys(Ot).forEach($t=>{on(this,!0,$t),this.controls[$t].setValue(Ot[$t],{onlySelf:!0,emitEvent:ut.emitEvent})}),this.updateValueAndValidity(ut)}patchValue(Ot,ut={}){null!=Ot&&(Object.keys(Ot).forEach($t=>{const wn=this.controls[$t];wn&&wn.patchValue(Ot[$t],{onlySelf:!0,emitEvent:ut.emitEvent})}),this.updateValueAndValidity(ut))}reset(Ot={},ut={}){this._forEachChild(($t,wn)=>{$t.reset(Ot[wn],{onlySelf:!0,emitEvent:ut.emitEvent})}),this._updatePristine(ut),this._updateTouched(ut),this.updateValueAndValidity(ut)}getRawValue(){return this._reduceChildren({},(Ot,ut,$t)=>(Ot[$t]=ut.getRawValue(),Ot))}_syncPendingControls(){let Ot=this._reduceChildren(!1,(ut,$t)=>!!$t._syncPendingControls()||ut);return Ot&&this.updateValueAndValidity({onlySelf:!0}),Ot}_forEachChild(Ot){Object.keys(this.controls).forEach(ut=>{const $t=this.controls[ut];$t&&Ot($t,ut)})}_setUpControls(){this._forEachChild(Ot=>{Ot.setParent(this),Ot._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Ot){for(const[ut,$t]of Object.entries(this.controls))if(this.contains(ut)&&Ot($t))return!0;return!1}_reduceValue(){return this._reduceChildren({},(ut,$t,wn)=>(($t.enabled||this.disabled)&&(ut[wn]=$t.value),ut))}_reduceChildren(Ot,ut){let $t=Ot;return this._forEachChild((wn,Ti)=>{$t=ut($t,wn,Ti)}),$t}_allControlsDisabled(){for(const Ot of Object.keys(this.controls))if(this.controls[Ot].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Ot){return this.controls.hasOwnProperty(Ot)?this.controls[Ot]:null}}class $n extends Mn{}const vn=new e.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>gn}),gn="always";function yn(_t,Ot){return[...Ot.path,_t]}function pn(_t,Ot,ut=gn){Tn(_t,Ot),Ot.valueAccessor.writeValue(_t.value),(_t.disabled||"always"===ut)&&Ot.valueAccessor.setDisabledState?.(_t.disabled),function Ct(_t,Ot){Ot.valueAccessor.registerOnChange(ut=>{_t._pendingValue=ut,_t._pendingChange=!0,_t._pendingDirty=!0,"change"===_t.updateOn&&Rt(_t,Ot)})}(_t,Ot),function xn(_t,Ot){const ut=($t,wn)=>{Ot.valueAccessor.writeValue($t),wn&&Ot.viewToModelUpdate($t)};_t.registerOnChange(ut),Ot._registerOnDestroy(()=>{_t._unregisterOnChange(ut)})}(_t,Ot),function Qt(_t,Ot){Ot.valueAccessor.registerOnTouched(()=>{_t._pendingTouched=!0,"blur"===_t.updateOn&&_t._pendingChange&&Rt(_t,Ot),"submit"!==_t.updateOn&&_t.markAsTouched()})}(_t,Ot),function ht(_t,Ot){if(Ot.valueAccessor.setDisabledState){const ut=$t=>{Ot.valueAccessor.setDisabledState($t)};_t.registerOnDisabledChange(ut),Ot._registerOnDestroy(()=>{_t._unregisterOnDisabledChange(ut)})}}(_t,Ot)}function _n(_t,Ot,ut=!0){const $t=()=>{};Ot.valueAccessor&&(Ot.valueAccessor.registerOnChange($t),Ot.valueAccessor.registerOnTouched($t)),qe(_t,Ot),_t&&(Ot._invokeOnDestroyCallbacks(),_t._registerOnCollectionChange(()=>{}))}function Mt(_t,Ot){_t.forEach(ut=>{ut.registerOnValidatorChange&&ut.registerOnValidatorChange(Ot)})}function Tn(_t,Ot){const ut=be(_t);null!==Ot.validator?_t.setValidators(Re(ut,Ot.validator)):"function"==typeof ut&&_t.setValidators([ut]);const $t=Q(_t);null!==Ot.asyncValidator?_t.setAsyncValidators(Re($t,Ot.asyncValidator)):"function"==typeof $t&&_t.setAsyncValidators([$t]);const wn=()=>_t.updateValueAndValidity();Mt(Ot._rawValidators,wn),Mt(Ot._rawAsyncValidators,wn)}function qe(_t,Ot){let ut=!1;if(null!==_t){if(null!==Ot.validator){const wn=be(_t);if(Array.isArray(wn)&&wn.length>0){const Ti=wn.filter(zi=>zi!==Ot.validator);Ti.length!==wn.length&&(ut=!0,_t.setValidators(Ti))}}if(null!==Ot.asyncValidator){const wn=Q(_t);if(Array.isArray(wn)&&wn.length>0){const Ti=wn.filter(zi=>zi!==Ot.asyncValidator);Ti.length!==wn.length&&(ut=!0,_t.setAsyncValidators(Ti))}}}const $t=()=>{};return Mt(Ot._rawValidators,$t),Mt(Ot._rawAsyncValidators,$t),ut}function Rt(_t,Ot){_t._pendingDirty&&_t.markAsDirty(),_t.setValue(_t._pendingValue,{emitModelToViewChange:!1}),Ot.viewToModelUpdate(_t._pendingValue),_t._pendingChange=!1}function kt(_t,Ot){Tn(_t,Ot)}function Ut(_t,Ot){if(!_t.hasOwnProperty("model"))return!1;const ut=_t.model;return!!ut.isFirstChange()||!Object.is(Ot,ut.currentValue)}function Ne(_t,Ot){_t._syncPendingControls(),Ot.forEach(ut=>{const $t=ut.control;"submit"===$t.updateOn&&$t._pendingChange&&(ut.viewToModelUpdate($t._pendingValue),$t._pendingChange=!1)})}function Ft(_t,Ot){if(!Ot)return null;let ut,$t,wn;return Array.isArray(Ot),Ot.forEach(Ti=>{Ti.constructor===T?ut=Ti:function On(_t){return Object.getPrototypeOf(_t.constructor)===S}(Ti)?$t=Ti:wn=Ti}),wn||$t||ut||null}const Fn={provide:$,useExisting:(0,e.Gpc)(()=>Er)},vi=(()=>Promise.resolve())();let Er=(()=>{class _t extends ${constructor(ut,$t,wn){super(),this.callSetDisabledState=wn,this.submitted=!1,this._directives=new Set,this.ngSubmit=new e.vpe,this.form=new Mn({},Ve(ut),Ze($t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(ut){vi.then(()=>{const $t=this._findContainer(ut.path);ut.control=$t.registerControl(ut.name,ut.control),pn(ut.control,ut,this.callSetDisabledState),ut.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(ut)})}getControl(ut){return this.form.get(ut.path)}removeControl(ut){vi.then(()=>{const $t=this._findContainer(ut.path);$t&&$t.removeControl(ut.name),this._directives.delete(ut)})}addFormGroup(ut){vi.then(()=>{const $t=this._findContainer(ut.path),wn=new Mn({});kt(wn,ut),$t.registerControl(ut.name,wn),wn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(ut){vi.then(()=>{const $t=this._findContainer(ut.path);$t&&$t.removeControl(ut.name)})}getFormGroup(ut){return this.form.get(ut.path)}updateModel(ut,$t){vi.then(()=>{this.form.get(ut.path).setValue($t)})}setValue(ut){this.control.setValue(ut)}onSubmit(ut){return this.submitted=!0,Ne(this.form,this._directives),this.ngSubmit.emit(ut),"dialog"===ut?.target?.method}onReset(){this.resetForm()}resetForm(ut=void 0){this.form.reset(ut),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(ut){return ut.pop(),ut.length?this.form.get(ut):this.form}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36(B,10),e.Y36(z,10),e.Y36(vn,8))};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function($t,wn){1&$t&&e.NdJ("submit",function(zi){return wn.onSubmit(zi)})("reset",function(){return wn.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([Fn]),e.qOj]})}return _t})();function $r(_t,Ot){const ut=_t.indexOf(Ot);ut>-1&&_t.splice(ut,1)}function jr(_t){return"object"==typeof _t&&null!==_t&&2===Object.keys(_t).length&&"value"in _t&&"disabled"in _t}const ki=class extends tn{constructor(Ot=null,ut,$t){super(st(ut),St($t,ut)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Ot),this._setUpdateStrategy(ut),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),At(ut)&&(ut.nonNullable||ut.initialValueIsDefault)&&(this.defaultValue=jr(Ot)?Ot.value:Ot)}setValue(Ot,ut={}){this.value=this._pendingValue=Ot,this._onChange.length&&!1!==ut.emitModelToViewChange&&this._onChange.forEach($t=>$t(this.value,!1!==ut.emitViewToModelChange)),this.updateValueAndValidity(ut)}patchValue(Ot,ut={}){this.setValue(Ot,ut)}reset(Ot=this.defaultValue,ut={}){this._applyFormState(Ot),this.markAsPristine(ut),this.markAsUntouched(ut),this.setValue(this.value,ut),this._pendingChange=!1}_updateValue(){}_anyControls(Ot){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Ot){this._onChange.push(Ot)}_unregisterOnChange(Ot){$r(this._onChange,Ot)}registerOnDisabledChange(Ot){this._onDisabledChange.push(Ot)}_unregisterOnDisabledChange(Ot){$r(this._onDisabledChange,Ot)}_forEachChild(Ot){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Ot){jr(Ot)?(this.value=this._pendingValue=Ot.value,Ot.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Ot}},ls={provide:re,useExisting:(0,e.Gpc)(()=>co)},xr=(()=>Promise.resolve())();let co=(()=>{class _t extends re{constructor(ut,$t,wn,Ti,zi,$o){super(),this._changeDetectorRef=zi,this.callSetDisabledState=$o,this.control=new ki,this._registered=!1,this.name="",this.update=new e.vpe,this._parent=ut,this._setValidators($t),this._setAsyncValidators(wn),this.valueAccessor=Ft(0,Ti)}ngOnChanges(ut){if(this._checkForErrors(),!this._registered||"name"in ut){if(this._registered&&(this._checkName(),this.formDirective)){const $t=ut.name.previousValue;this.formDirective.removeControl({name:$t,path:this._getPath($t)})}this._setUpControl()}"isDisabled"in ut&&this._updateDisabled(ut),Ut(ut,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ut){this.viewModel=ut,this.update.emit(ut)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){pn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ut){xr.then(()=>{this.control.setValue(ut,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(ut){const $t=ut.isDisabled.currentValue,wn=0!==$t&&(0,e.VuI)($t);xr.then(()=>{wn&&!this.control.disabled?this.control.disable():!wn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(ut){return this._parent?yn(ut,this._parent):[ut]}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36($,9),e.Y36(B,10),e.Y36(z,10),e.Y36(x,10),e.Y36(e.sBO,8),e.Y36(vn,8))};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([ls]),e.qOj,e.TTD]})}return _t})(),Xo=(()=>{class _t{static#e=this.\u0275fac=function($t){return new($t||_t)};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return _t})();const ws={provide:x,useExisting:(0,e.Gpc)(()=>Sr),multi:!0};let Sr=(()=>{class _t extends S{writeValue(ut){this.setProperty("value",ut??"")}registerOnChange(ut){this.onChange=$t=>{ut(""==$t?null:parseFloat($t))}}static#e=this.\u0275fac=function(){let ut;return function(wn){return(ut||(ut=e.n5z(_t)))(wn||_t)}}();static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function($t,wn){1&$t&&e.NdJ("input",function(zi){return wn.onChange(zi.target.value)})("blur",function(){return wn.onTouched()})},features:[e._Bn([ws]),e.qOj]})}return _t})(),Rr=(()=>{class _t{static#e=this.\u0275fac=function($t){return new($t||_t)};static#t=this.\u0275mod=e.oAB({type:_t});static#n=this.\u0275inj=e.cJS({})}return _t})();const Dn=new e.OlP("NgModelWithFormControlWarning"),ci={provide:$,useExisting:(0,e.Gpc)(()=>Ui)};let Ui=(()=>{class _t extends ${constructor(ut,$t,wn){super(),this.callSetDisabledState=wn,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.vpe,this._setValidators(ut),this._setAsyncValidators($t)}ngOnChanges(ut){this._checkFormPresent(),ut.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qe(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(ut){const $t=this.form.get(ut.path);return pn($t,ut,this.callSetDisabledState),$t.updateValueAndValidity({emitEvent:!1}),this.directives.push(ut),$t}getControl(ut){return this.form.get(ut.path)}removeControl(ut){_n(ut.control||null,ut,!1),function Pt(_t,Ot){const ut=_t.indexOf(Ot);ut>-1&&_t.splice(ut,1)}(this.directives,ut)}addFormGroup(ut){this._setUpFormContainer(ut)}removeFormGroup(ut){this._cleanUpFormContainer(ut)}getFormGroup(ut){return this.form.get(ut.path)}addFormArray(ut){this._setUpFormContainer(ut)}removeFormArray(ut){this._cleanUpFormContainer(ut)}getFormArray(ut){return this.form.get(ut.path)}updateModel(ut,$t){this.form.get(ut.path).setValue($t)}onSubmit(ut){return this.submitted=!0,Ne(this.form,this.directives),this.ngSubmit.emit(ut),"dialog"===ut?.target?.method}onReset(){this.resetForm()}resetForm(ut=void 0){this.form.reset(ut),this.submitted=!1}_updateDomValue(){this.directives.forEach(ut=>{const $t=ut.control,wn=this.form.get(ut.path);$t!==wn&&(_n($t||null,ut),(_t=>_t instanceof ki)(wn)&&(pn(wn,ut,this.callSetDisabledState),ut.control=wn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(ut){const $t=this.form.get(ut.path);kt($t,ut),$t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(ut){if(this.form){const $t=this.form.get(ut.path);$t&&function It(_t,Ot){return qe(_t,Ot)}($t,ut)&&$t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Tn(this.form,this),this._oldForm&&qe(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36(B,10),e.Y36(z,10),e.Y36(vn,8))};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["","formGroup",""]],hostBindings:function($t,wn){1&$t&&e.NdJ("submit",function(zi){return wn.onSubmit(zi)})("reset",function(){return wn.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([ci]),e.qOj,e.TTD]})}return _t})();const Fo={provide:re,useExisting:(0,e.Gpc)(()=>Bo)};let Bo=(()=>{class _t extends re{set isDisabled(ut){}static#e=this._ngModelWarningSentOnce=!1;constructor(ut,$t,wn,Ti,zi){super(),this._ngModelWarningConfig=zi,this._added=!1,this.name=null,this.update=new e.vpe,this._ngModelWarningSent=!1,this._parent=ut,this._setValidators($t),this._setAsyncValidators(wn),this.valueAccessor=Ft(0,Ti)}ngOnChanges(ut){this._added||this._setUpControl(),Ut(ut,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(ut){this.viewModel=ut,this.update.emit(ut)}get path(){return yn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function($t){return new($t||_t)(e.Y36($,13),e.Y36(B,10),e.Y36(z,10),e.Y36(x,10),e.Y36(Dn,8))};static#n=this.\u0275dir=e.lG2({type:_t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[e._Bn([Fo]),e.qOj,e.TTD]})}return _t})();const Ks={provide:x,useExisting:(0,e.Gpc)(()=>cs),multi:!0};function eo(_t,Ot){return null==_t?`${Ot}`:(Ot&&"object"==typeof Ot&&(Ot="Object"),`${_t}: ${Ot}`.slice(0,50))}let cs=(()=>{class _t extends S{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(ut){this._compareWith=ut}writeValue(ut){this.value=ut;const wn=eo(this._getOptionId(ut),ut);this.setProperty("value",wn)}registerOnChange(ut){this.onChange=$t=>{this.value=this._getOptionValue($t),ut(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(ut){for(const $t of this._optionMap.keys())if(this._compareWith(this._optionMap.get($t),ut))return $t;return null}_getOptionValue(ut){const $t=function yo(_t){return _t.split(":")[0]}(ut);return this._optionMap.has($t)?this._optionMap.get($t):ut}static#e=this.\u0275fac=function(){let ut;return function(wn){return(ut||(ut=e.n5z(_t)))(wn||_t)}}();static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function($t,wn){1&$t&&e.NdJ("change",function(zi){return wn.onChange(zi.target.value)})("blur",function(){return wn.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([Ks]),e.qOj]})}return _t})(),ds=(()=>{class _t{constructor(ut,$t,wn){this._element=ut,this._renderer=$t,this._select=wn,this._select&&(this.id=this._select._registerOption())}set ngValue(ut){null!=this._select&&(this._select._optionMap.set(this.id,ut),this._setElementValue(eo(this.id,ut)),this._select.writeValue(this._select.value))}set value(ut){this._setElementValue(ut),this._select&&this._select.writeValue(this._select.value)}_setElementValue(ut){this._renderer.setProperty(this._element.nativeElement,"value",ut)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(cs,9))};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return _t})();const cr={provide:x,useExisting:(0,e.Gpc)(()=>uo),multi:!0};function Ga(_t,Ot){return null==_t?`${Ot}`:("string"==typeof Ot&&(Ot=`'${Ot}'`),Ot&&"object"==typeof Ot&&(Ot="Object"),`${_t}: ${Ot}`.slice(0,50))}let uo=(()=>{class _t extends S{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(ut){this._compareWith=ut}writeValue(ut){let $t;if(this.value=ut,Array.isArray(ut)){const wn=ut.map(Ti=>this._getOptionId(Ti));$t=(Ti,zi)=>{Ti._setSelected(wn.indexOf(zi.toString())>-1)}}else $t=(wn,Ti)=>{wn._setSelected(!1)};this._optionMap.forEach($t)}registerOnChange(ut){this.onChange=$t=>{const wn=[],Ti=$t.selectedOptions;if(void 0!==Ti){const zi=Ti;for(let $o=0;$o<zi.length;$o++){const Ss=this._getOptionValue(zi[$o].value);wn.push(Ss)}}else{const zi=$t.options;for(let $o=0;$o<zi.length;$o++){const ns=zi[$o];if(ns.selected){const Ss=this._getOptionValue(ns.value);wn.push(Ss)}}}this.value=wn,ut(wn)}}_registerOption(ut){const $t=(this._idCounter++).toString();return this._optionMap.set($t,ut),$t}_getOptionId(ut){for(const $t of this._optionMap.keys())if(this._compareWith(this._optionMap.get($t)._value,ut))return $t;return null}_getOptionValue(ut){const $t=function es(_t){return _t.split(":")[0]}(ut);return this._optionMap.has($t)?this._optionMap.get($t)._value:ut}static#e=this.\u0275fac=function(){let ut;return function(wn){return(ut||(ut=e.n5z(_t)))(wn||_t)}}();static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function($t,wn){1&$t&&e.NdJ("change",function(zi){return wn.onChange(zi.target)})("blur",function(){return wn.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([cr]),e.qOj]})}return _t})(),us=(()=>{class _t{constructor(ut,$t,wn){this._element=ut,this._renderer=$t,this._select=wn,this._select&&(this.id=this._select._registerOption(this))}set ngValue(ut){null!=this._select&&(this._value=ut,this._setElementValue(Ga(this.id,ut)),this._select.writeValue(this._select.value))}set value(ut){this._select?(this._value=ut,this._setElementValue(Ga(this.id,ut)),this._select.writeValue(this._select.value)):this._setElementValue(ut)}_setElementValue(ut){this._renderer.setProperty(this._element.nativeElement,"value",ut)}_setSelected(ut){this._renderer.setProperty(this._element.nativeElement,"selected",ut)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function($t){return new($t||_t)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(uo,9))};static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return _t})(),Yr=(()=>{class _t{constructor(){this._validator=Ce}ngOnChanges(ut){if(this.inputName in ut){const $t=this.normalizeInput(ut[this.inputName].currentValue);this._enabled=this.enabled($t),this._validator=this._enabled?this.createValidator($t):Ce,this._onChange&&this._onChange()}}validate(ut){return this._validator(ut)}registerOnValidatorChange(ut){this._onChange=ut}enabled(ut){return null!=ut}static#e=this.\u0275fac=function($t){return new($t||_t)};static#t=this.\u0275dir=e.lG2({type:_t,features:[e.TTD]})}return _t})();const Ao={provide:B,useExisting:(0,e.Gpc)(()=>pr),multi:!0},Fr={provide:B,useExisting:(0,e.Gpc)(()=>Uo),multi:!0};let pr=(()=>{class _t extends Yr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e.VuI,this.createValidator=ut=>le}enabled(ut){return ut}static#e=this.\u0275fac=function(){let ut;return function(wn){return(ut||(ut=e.n5z(_t)))(wn||_t)}}();static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function($t,wn){2&$t&&e.uIk("required",wn._enabled?"":null)},inputs:{required:"required"},features:[e._Bn([Ao]),e.qOj]})}return _t})(),Uo=(()=>{class _t extends pr{constructor(){super(...arguments),this.createValidator=ut=>G}static#e=this.\u0275fac=function(){let ut;return function(wn){return(ut||(ut=e.n5z(_t)))(wn||_t)}}();static#t=this.\u0275dir=e.lG2({type:_t,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function($t,wn){2&$t&&e.uIk("required",wn._enabled?"":null)},features:[e._Bn([Fr]),e.qOj]})}return _t})(),Ma=(()=>{class _t{static#e=this.\u0275fac=function($t){return new($t||_t)};static#t=this.\u0275mod=e.oAB({type:_t});static#n=this.\u0275inj=e.cJS({imports:[Rr]})}return _t})();class zs extends tn{constructor(Ot,ut,$t){super(st(ut),St($t,ut)),this.controls=Ot,this._initObservables(),this._setUpdateStrategy(ut),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Ot){return this.controls[this._adjustIndex(Ot)]}push(Ot,ut={}){this.controls.push(Ot),this._registerControl(Ot),this.updateValueAndValidity({emitEvent:ut.emitEvent}),this._onCollectionChange()}insert(Ot,ut,$t={}){this.controls.splice(Ot,0,ut),this._registerControl(ut),this.updateValueAndValidity({emitEvent:$t.emitEvent})}removeAt(Ot,ut={}){let $t=this._adjustIndex(Ot);$t<0&&($t=0),this.controls[$t]&&this.controls[$t]._registerOnCollectionChange(()=>{}),this.controls.splice($t,1),this.updateValueAndValidity({emitEvent:ut.emitEvent})}setControl(Ot,ut,$t={}){let wn=this._adjustIndex(Ot);wn<0&&(wn=0),this.controls[wn]&&this.controls[wn]._registerOnCollectionChange(()=>{}),this.controls.splice(wn,1),ut&&(this.controls.splice(wn,0,ut),this._registerControl(ut)),this.updateValueAndValidity({emitEvent:$t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Ot,ut={}){En(this,0,Ot),Ot.forEach(($t,wn)=>{on(this,!1,wn),this.at(wn).setValue($t,{onlySelf:!0,emitEvent:ut.emitEvent})}),this.updateValueAndValidity(ut)}patchValue(Ot,ut={}){null!=Ot&&(Ot.forEach(($t,wn)=>{this.at(wn)&&this.at(wn).patchValue($t,{onlySelf:!0,emitEvent:ut.emitEvent})}),this.updateValueAndValidity(ut))}reset(Ot=[],ut={}){this._forEachChild(($t,wn)=>{$t.reset(Ot[wn],{onlySelf:!0,emitEvent:ut.emitEvent})}),this._updatePristine(ut),this._updateTouched(ut),this.updateValueAndValidity(ut)}getRawValue(){return this.controls.map(Ot=>Ot.getRawValue())}clear(Ot={}){this.controls.length<1||(this._forEachChild(ut=>ut._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Ot.emitEvent}))}_adjustIndex(Ot){return Ot<0?Ot+this.length:Ot}_syncPendingControls(){let Ot=this.controls.reduce((ut,$t)=>!!$t._syncPendingControls()||ut,!1);return Ot&&this.updateValueAndValidity({onlySelf:!0}),Ot}_forEachChild(Ot){this.controls.forEach((ut,$t)=>{Ot(ut,$t)})}_updateValue(){this.value=this.controls.filter(Ot=>Ot.enabled||this.disabled).map(Ot=>Ot.value)}_anyControls(Ot){return this.controls.some(ut=>ut.enabled&&Ot(ut))}_setUpControls(){this._forEachChild(Ot=>this._registerControl(Ot))}_allControlsDisabled(){for(const Ot of this.controls)if(Ot.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Ot){Ot.setParent(this),Ot._registerOnCollectionChange(this._onCollectionChange)}_find(Ot){return this.at(Ot)??null}}function fs(_t){return!!_t&&(void 0!==_t.asyncValidators||void 0!==_t.validators||void 0!==_t.updateOn)}let ra=(()=>{class _t{constructor(){this.useNonNullable=!1}get nonNullable(){const ut=new _t;return ut.useNonNullable=!0,ut}group(ut,$t=null){const wn=this._reduceControls(ut);let Ti={};return fs($t)?Ti=$t:null!==$t&&(Ti.validators=$t.validator,Ti.asyncValidators=$t.asyncValidator),new Mn(wn,Ti)}record(ut,$t=null){const wn=this._reduceControls(ut);return new $n(wn,$t)}control(ut,$t,wn){let Ti={};return this.useNonNullable?(fs($t)?Ti=$t:(Ti.validators=$t,Ti.asyncValidators=wn),new ki(ut,{...Ti,nonNullable:!0})):new ki(ut,$t,wn)}array(ut,$t,wn){const Ti=ut.map(zi=>this._createControl(zi));return new zs(Ti,$t,wn)}_reduceControls(ut){const $t={};return Object.keys(ut).forEach(wn=>{$t[wn]=this._createControl(ut[wn])}),$t}_createControl(ut){return ut instanceof ki||ut instanceof tn?ut:Array.isArray(ut)?this.control(ut[0],ut.length>1?ut[1]:null,ut.length>2?ut[2]:null):this.control(ut)}static#e=this.\u0275fac=function($t){return new($t||_t)};static#t=this.\u0275prov=e.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"root"})}return _t})(),Ur=(()=>{class _t{static withConfig(ut){return{ngModule:_t,providers:[{provide:vn,useValue:ut.callSetDisabledState??gn}]}}static#e=this.\u0275fac=function($t){return new($t||_t)};static#t=this.\u0275mod=e.oAB({type:_t});static#n=this.\u0275inj=e.cJS({imports:[Ma]})}return _t})(),kn=(()=>{class _t{static withConfig(ut){return{ngModule:_t,providers:[{provide:Dn,useValue:ut.warnOnNgModelWithFormControl??"always"},{provide:vn,useValue:ut.callSetDisabledState??gn}]}}static#e=this.\u0275fac=function($t){return new($t||_t)};static#t=this.\u0275mod=e.oAB({type:_t});static#n=this.\u0275inj=e.cJS({imports:[Ma]})}return _t})()},2296:(Wn,et,p)=>{"use strict";p.d(et,{RK:()=>he,lW:()=>le,ot:()=>Te});var e=p(2831),t=p(5879),v=p(4300),b=p(3680),_=p(6814);const P=["mat-button",""],C=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],m=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],S=["mat-icon-button",""],x=["*"],N={capture:!0},O=["focus","click","mouseenter","touchstart"],D="mat-button-ripple-uninitialized";let I=(()=>{class Oe{constructor(){this._document=(0,t.f3M)(_.K0,{optional:!0}),this._animationMode=(0,t.f3M)(t.QbO,{optional:!0}),this._globalRippleOptions=(0,t.f3M)(b.Y2,{optional:!0}),this._platform=(0,t.f3M)(e.t4),this._ngZone=(0,t.f3M)(t.R0b),this._onInteraction=ft=>{if(ft.target===this._document)return;const Re=ft.target.closest(`[${D}]`);Re&&(Re.removeAttribute(D),this._appendRipple(Re))},this._ngZone.runOutsideAngular(()=>{for(const ft of O)this._document?.addEventListener(ft,this._onInteraction,N)})}ngOnDestroy(){for(const ft of O)this._document?.removeEventListener(ft,this._onInteraction,N)}_appendRipple(ft){if(!this._document)return;const Ze=this._document.createElement("span");Ze.classList.add("mat-mdc-button-ripple");const Re=new T(ft,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);Re.rippleConfig.centered=ft.hasAttribute("mat-icon-button"),new b.IR(Re,this._ngZone,Ze,this._platform).setupTriggerEvents(ft),ft.append(Ze)}_createMatRipple(ft){if(!this._document)return;ft.querySelector(".mat-mdc-button-ripple")?.remove(),ft.removeAttribute(D);const Ze=this._document.createElement("span");Ze.classList.add("mat-mdc-button-ripple");const Re=new b.wG(new t.SBq(Ze),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Re._isInitialized=!0,Re.trigger=ft,ft.append(Ze),Re}static#e=this.\u0275fac=function(Ze){return new(Ze||Oe)};static#t=this.\u0275prov=t.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}return Oe})();class T{constructor(Ve,ft,Ze){this._button=Ve,this._globalRippleOptions=ft,this._setRippleConfig(ft,Ze)}_setRippleConfig(Ve,ft){this.rippleConfig=Ve||{},"NoopAnimations"===ft&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const B=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],z=(0,b.pj)((0,b.Id)((0,b.Kr)(class{constructor(Oe){this._elementRef=Oe}})));let ne=(()=>{class Oe extends z{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(ft){this._ripple=ft}constructor(ft,Ze,Re,be){super(ft),this._platform=Ze,this._ngZone=Re,this._animationMode=be,this._focusMonitor=(0,t.f3M)(v.tE),this._rippleLoader=(0,t.f3M)(I),this._isFab=!1;const Q=ft.nativeElement.classList;for(const ie of B)this._hasHostAttributes(ie.selector)&&ie.mdcClasses.forEach(ye=>{Q.add(ye)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(ft="program",Ze){ft?this._focusMonitor.focusVia(this._elementRef.nativeElement,ft,Ze):this._elementRef.nativeElement.focus(Ze)}_hasHostAttributes(...ft){return ft.some(Ze=>this._elementRef.nativeElement.hasAttribute(Ze))}static#e=this.\u0275fac=function(Ze){t.$Z()};static#t=this.\u0275dir=t.lG2({type:Oe,features:[t.qOj,t.TTD]})}return Oe})(),le=(()=>{class Oe extends ne{constructor(ft,Ze,Re,be){super(ft,Ze,Re,be)}static#e=this.\u0275fac=function(Ze){return new(Ze||Oe)(t.Y36(t.SBq),t.Y36(e.t4),t.Y36(t.R0b),t.Y36(t.QbO,8))};static#t=this.\u0275cmp=t.Xpm({type:Oe,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(Ze,Re){2&Ze&&(t.uIk("disabled",Re.disabled||null),t.ekj("_mat-animation-noopable","NoopAnimations"===Re._animationMode)("mat-unthemed",!Re.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[t.qOj],attrs:P,ngContentSelectors:m,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Ze,Re){1&Ze&&(t.F$t(C),t._UZ(0,"span",0),t.Hsn(1),t.TgZ(2,"span",1),t.Hsn(3,1),t.qZA(),t.Hsn(4,2),t._UZ(5,"span",2)(6,"span",3)),2&Ze&&t.ekj("mdc-button__ripple",!Re._isFab)("mdc-fab__ripple",Re._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Oe})(),he=(()=>{class Oe extends ne{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(ft,Ze,Re,be){super(ft,Ze,Re,be)}static#e=this.\u0275fac=function(Ze){return new(Ze||Oe)(t.Y36(t.SBq),t.Y36(e.t4),t.Y36(t.R0b),t.Y36(t.QbO,8))};static#t=this.\u0275cmp=t.Xpm({type:Oe,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(Ze,Re){2&Ze&&(t.uIk("disabled",Re.disabled||null),t.ekj("_mat-animation-noopable","NoopAnimations"===Re._animationMode)("mat-unthemed",!Re.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[t.qOj],attrs:S,ngContentSelectors:x,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Ze,Re){1&Ze&&(t.F$t(),t._UZ(0,"span",0),t.Hsn(1),t._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Oe})(),Te=(()=>{class Oe{static#e=this.\u0275fac=function(Ze){return new(Ze||Oe)};static#t=this.\u0275mod=t.oAB({type:Oe});static#n=this.\u0275inj=t.cJS({imports:[b.BQ,b.si,b.BQ]})}return Oe})()},5986:(Wn,et,p)=>{"use strict";p.d(et,{oG:()=>A,p9:()=>I});var e=p(5879),t=p(95),v=p(3680),b=p(2495);const _=["input"],P=["label"],C=["*"],m=new e.OlP("mat-checkbox-default-options",{providedIn:"root",factory:i});function i(){return{color:"accent",clickAction:"check-indeterminate"}}const c={provide:t.JU,useExisting:(0,e.Gpc)(()=>A),multi:!0};class d{}let f=0;const g=i(),S=(0,v.sb)((0,v.pj)((0,v.Kr)((0,v.Id)(class{constructor(T){this._elementRef=T}}))));let x=(()=>{class T extends S{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(y){this._required=(0,b.Ig)(y)}constructor(y,B,z,ne,ae,Fe,Y){super(B),this._changeDetectorRef=z,this._ngZone=ne,this._animationMode=Fe,this._options=Y,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new e.vpe,this.indeterminateChange=new e.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||g,this.color=this.defaultColor=this._options.color||g.color,this.tabIndex=parseInt(ae)||0,this.id=this._uniqueId=`${y}${++f}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(y){const B=(0,b.Ig)(y);B!=this.checked&&(this._checked=B,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(y){const B=(0,b.Ig)(y);B!==this.disabled&&(this._disabled=B,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(y){const B=y!=this._indeterminate;this._indeterminate=(0,b.Ig)(y),B&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(y){this.checked=!!y}registerOnChange(y){this._controlValueAccessorChangeFn=y}registerOnTouched(y){this._onTouched=y}setDisabledState(y){this.disabled=y}_transitionCheckState(y){let B=this._currentCheckState,z=this._getAnimationTargetElement();if(B!==y&&z&&(this._currentAnimationClass&&z.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(B,y),this._currentCheckState=y,this._currentAnimationClass.length>0)){z.classList.add(this._currentAnimationClass);const ne=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{z.classList.remove(ne)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const y=this._options?.clickAction;this.disabled||"noop"===y?!this.disabled&&"noop"===y&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==y&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(y){y.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(y,B){if("NoopAnimations"===this._animationMode)return"";switch(y){case 0:if(1===B)return this._animationClasses.uncheckedToChecked;if(3==B)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===B?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===B?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===B?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(y){const B=this._inputElement;B&&(B.nativeElement.indeterminate=y)}static#e=this.\u0275fac=function(B){e.$Z()};static#t=this.\u0275dir=e.lG2({type:T,viewQuery:function(B,z){if(1&B&&(e.Gf(_,5),e.Gf(P,5),e.Gf(v.wG,5)),2&B){let ne;e.iGM(ne=e.CRH())&&(z._inputElement=ne.first),e.iGM(ne=e.CRH())&&(z._labelElement=ne.first),e.iGM(ne=e.CRH())&&(z.ripple=ne.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[e.qOj]})}return T})(),A=(()=>{class T extends x{constructor(y,B,z,ne,ae,Fe){super("mat-mdc-checkbox-",y,B,z,ne,ae,Fe),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(y){const B=new d;return B.source=this,B.checked=y,B}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(y){y.target&&this._labelElement.nativeElement.contains(y.target)&&y.stopPropagation()}static#e=this.\u0275fac=function(B){return new(B||T)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(e.R0b),e.$8M("tabindex"),e.Y36(e.QbO,8),e.Y36(m,8))};static#t=this.\u0275cmp=e.Xpm({type:T,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(B,z){2&B&&(e.Ikx("id",z.id),e.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),e.ekj("_mat-animation-noopable","NoopAnimations"===z._animationMode)("mdc-checkbox--disabled",z.disabled)("mat-mdc-checkbox-disabled",z.disabled)("mat-mdc-checkbox-checked",z.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[e._Bn([c]),e.qOj],ngContentSelectors:C,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(B,z){if(1&B&&(e.F$t(),e.TgZ(0,"div",0),e.NdJ("click",function(ae){return z._preventBubblingFromLabel(ae)}),e.TgZ(1,"div",1,2)(3,"div",3),e.NdJ("click",function(){return z._onTouchTargetClick()}),e.qZA(),e.TgZ(4,"input",4,5),e.NdJ("blur",function(){return z._onBlur()})("click",function(){return z._onInputClick()})("change",function(ae){return z._onInteractionEvent(ae)}),e.qZA(),e._UZ(6,"div",6),e.TgZ(7,"div",7),e.O4$(),e.TgZ(8,"svg",8),e._UZ(9,"path",9),e.qZA(),e.kcU(),e._UZ(10,"div",10),e.qZA(),e._UZ(11,"div",11),e.qZA(),e.TgZ(12,"label",12,13),e.Hsn(14),e.qZA()()),2&B){const ne=e.MAs(2);e.ekj("mdc-form-field--align-end","before"==z.labelPosition),e.xp6(4),e.ekj("mdc-checkbox--selected",z.checked),e.Q6J("checked",z.checked)("indeterminate",z.indeterminate)("disabled",z.disabled)("id",z.inputId)("required",z.required)("tabIndex",z.tabIndex),e.uIk("aria-label",z.ariaLabel||null)("aria-labelledby",z.ariaLabelledby)("aria-describedby",z.ariaDescribedby)("name",z.name)("value",z.value),e.xp6(7),e.Q6J("matRippleTrigger",ne)("matRippleDisabled",z.disableRipple||z.disabled)("matRippleCentered",!0),e.xp6(1),e.Q6J("for",z.inputId)}},dependencies:[v.wG],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return T})(),D=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=e.oAB({type:T});static#n=this.\u0275inj=e.cJS({})}return T})(),I=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=e.oAB({type:T});static#n=this.\u0275inj=e.cJS({imports:[v.BQ,v.si,D,v.BQ,D]})}return T})()},3680:(Wn,et,p)=>{"use strict";p.d(et,{yN:()=>I,mZ:()=>T,_A:()=>Ce,rD:()=>ft,sG:()=>pe,K7:()=>Dt,HF:()=>tt,Y2:()=>xe,BQ:()=>B,XK:()=>Oe,ey:()=>Jt,Ng:()=>fn,wG:()=>Ee,si:()=>Ge,IR:()=>q,CB:()=>qt,jH:()=>un,pj:()=>Y,Kr:()=>le,Id:()=>Fe,FD:()=>Se,dB:()=>ce,sb:()=>G});var e=p(5879),t=p(4300),v=p(9388),_=p(6814),P=p(2831),C=p(2495),m=p(5592),i=p(8645),c=p(6028);const g=["text"];function S(wt,vt){if(1&wt&&e._UZ(0,"mat-pseudo-checkbox",6),2&wt){const it=e.oxw();e.Q6J("disabled",it.disabled)("state",it.selected?"checked":"unchecked")}}function x(wt,vt){if(1&wt&&e._UZ(0,"mat-pseudo-checkbox",7),2&wt){const it=e.oxw();e.Q6J("disabled",it.disabled)}}function A(wt,vt){if(1&wt&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&wt){const it=e.oxw();e.xp6(1),e.hij("(",it.group.label,")")}}const N=[[["mat-icon"]],"*"],O=["mat-icon","*"];let I=(()=>{class wt{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return wt})(),T=(()=>{class wt{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return wt})();const y=new e.OlP("mat-sanity-checks",{providedIn:"root",factory:function L(){return!0}});let B=(()=>{class wt{constructor(it,He,Ye){this._sanityChecks=He,this._document=Ye,this._hasDoneGlobalChecks=!1,it._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(it){return!(0,P.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[it])}static#e=this.\u0275fac=function(He){return new(He||wt)(e.LFG(t.qm),e.LFG(y,8),e.LFG(_.K0))};static#t=this.\u0275mod=e.oAB({type:wt});static#n=this.\u0275inj=e.cJS({imports:[v.vT,v.vT]})}return wt})();function Fe(wt){return class extends wt{get disabled(){return this._disabled}set disabled(vt){this._disabled=(0,C.Ig)(vt)}constructor(...vt){super(...vt),this._disabled=!1}}}function Y(wt,vt){return class extends wt{get color(){return this._color}set color(it){const He=it||this.defaultColor;He!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),He&&this._elementRef.nativeElement.classList.add(`mat-${He}`),this._color=He)}constructor(...it){super(...it),this.defaultColor=vt,this.color=vt}}}function le(wt){return class extends wt{get disableRipple(){return this._disableRipple}set disableRipple(vt){this._disableRipple=(0,C.Ig)(vt)}constructor(...vt){super(...vt),this._disableRipple=!1}}}function G(wt,vt=0){return class extends wt{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(it){this._tabIndex=null!=it?(0,C.su)(it):this.defaultTabIndex}constructor(...it){super(...it),this._tabIndex=vt,this.defaultTabIndex=vt}}}function Se(wt){return class extends wt{updateErrorState(){const vt=this.errorState,st=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);st!==vt&&(this.errorState=st,this.stateChanges.next())}constructor(...vt){super(...vt),this.errorState=!1}}}function ce(wt){return class extends wt{constructor(...vt){super(...vt),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new m.y(it=>{this._isInitialized?this._notifySubscriber(it):this._pendingSubscribers.push(it)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(vt){vt.next(),vt.complete()}}}const ge=new e.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function Ie(){return(0,e.f3M)(e.soG)}});class Ce{constructor(){this._localeChanges=new i.x,this.localeChanges=this._localeChanges}getValidDateOrNull(vt){return this.isDateInstance(vt)&&this.isValid(vt)?vt:null}deserialize(vt){return null==vt||this.isDateInstance(vt)&&this.isValid(vt)?vt:this.invalid()}setLocale(vt){this.locale=vt,this._localeChanges.next()}compareDate(vt,it){return this.getYear(vt)-this.getYear(it)||this.getMonth(vt)-this.getMonth(it)||this.getDate(vt)-this.getDate(it)}sameDate(vt,it){if(vt&&it){let He=this.isValid(vt),Ye=this.isValid(it);return He&&Ye?!this.compareDate(vt,it):He==Ye}return vt==it}clampDate(vt,it,He){return it&&this.compareDate(vt,it)<0?it:He&&this.compareDate(vt,He)>0?He:vt}}const pe=new e.OlP("mat-date-formats"),Ae=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function ke(wt,vt){const it=Array(wt);for(let He=0;He<wt;He++)it[He]=vt(He);return it}let he=(()=>{class wt extends Ce{constructor(it,He){super(),this.useUtcForDisplay=!1,super.setLocale(it)}getYear(it){return it.getFullYear()}getMonth(it){return it.getMonth()}getDate(it){return it.getDate()}getDayOfWeek(it){return it.getDay()}getMonthNames(it){const He=new Intl.DateTimeFormat(this.locale,{month:it,timeZone:"utc"});return ke(12,Ye=>this._format(He,new Date(2017,Ye,1)))}getDateNames(){const it=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return ke(31,He=>this._format(it,new Date(2017,0,He+1)))}getDayOfWeekNames(it){const He=new Intl.DateTimeFormat(this.locale,{weekday:it,timeZone:"utc"});return ke(7,Ye=>this._format(He,new Date(2017,0,Ye+1)))}getYearName(it){const He=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(He,it)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(it){return this.getDate(this._createDateWithOverflow(this.getYear(it),this.getMonth(it)+1,0))}clone(it){return new Date(it.getTime())}createDate(it,He,Ye){let st=this._createDateWithOverflow(it,He,Ye);return st.getMonth(),st}today(){return new Date}parse(it,He){return"number"==typeof it?new Date(it):it?new Date(Date.parse(it)):null}format(it,He){if(!this.isValid(it))throw Error("NativeDateAdapter: Cannot format invalid date.");const Ye=new Intl.DateTimeFormat(this.locale,{...He,timeZone:"utc"});return this._format(Ye,it)}addCalendarYears(it,He){return this.addCalendarMonths(it,12*He)}addCalendarMonths(it,He){let Ye=this._createDateWithOverflow(this.getYear(it),this.getMonth(it)+He,this.getDate(it));return this.getMonth(Ye)!=((this.getMonth(it)+He)%12+12)%12&&(Ye=this._createDateWithOverflow(this.getYear(Ye),this.getMonth(Ye),0)),Ye}addCalendarDays(it,He){return this._createDateWithOverflow(this.getYear(it),this.getMonth(it),this.getDate(it)+He)}toIso8601(it){return[it.getUTCFullYear(),this._2digit(it.getUTCMonth()+1),this._2digit(it.getUTCDate())].join("-")}deserialize(it){if("string"==typeof it){if(!it)return null;if(Ae.test(it)){let He=new Date(it);if(this.isValid(He))return He}}return super.deserialize(it)}isDateInstance(it){return it instanceof Date}isValid(it){return!isNaN(it.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(it,He,Ye){const st=new Date;return st.setFullYear(it,He,Ye),st.setHours(0,0,0,0),st}_2digit(it){return("00"+it).slice(-2)}_format(it,He){const Ye=new Date;return Ye.setUTCFullYear(He.getFullYear(),He.getMonth(),He.getDate()),Ye.setUTCHours(He.getHours(),He.getMinutes(),He.getSeconds(),He.getMilliseconds()),it.format(Ye)}static#e=this.\u0275fac=function(He){return new(He||wt)(e.LFG(ge,8),e.LFG(P.t4))};static#t=this.\u0275prov=e.Yz7({token:wt,factory:wt.\u0275fac})}return wt})();const we={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Te=(()=>{class wt{static#e=this.\u0275fac=function(He){return new(He||wt)};static#t=this.\u0275mod=e.oAB({type:wt});static#n=this.\u0275inj=e.cJS({providers:[{provide:Ce,useClass:he}]})}return wt})(),Oe=(()=>{class wt{static#e=this.\u0275fac=function(He){return new(He||wt)};static#t=this.\u0275mod=e.oAB({type:wt});static#n=this.\u0275inj=e.cJS({providers:[{provide:pe,useValue:we}],imports:[Te]})}return wt})(),ft=(()=>{class wt{isErrorState(it,He){return!!(it&&it.invalid&&(it.touched||He&&He.submitted))}static#e=this.\u0275fac=function(He){return new(He||wt)};static#t=this.\u0275prov=e.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"})}return wt})();class ie{constructor(vt,it,He,Ye=!1){this._renderer=vt,this.element=it,this.config=He,this._animationForciblyDisabledThroughCss=Ye,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ye=(0,P.i$)({passive:!0,capture:!0});class oe{constructor(){this._events=new Map,this._delegateEventHandler=vt=>{const it=(0,P.sA)(vt);it&&this._events.get(vt.type)?.forEach((He,Ye)=>{(Ye===it||Ye.contains(it))&&He.forEach(st=>st.handleEvent(vt))})}}addHandler(vt,it,He,Ye){const st=this._events.get(it);if(st){const at=st.get(He);at?at.add(Ye):st.set(He,new Set([Ye]))}else this._events.set(it,new Map([[He,new Set([Ye])]])),vt.runOutsideAngular(()=>{document.addEventListener(it,this._delegateEventHandler,ye)})}removeHandler(vt,it,He){const Ye=this._events.get(vt);if(!Ye)return;const st=Ye.get(it);st&&(st.delete(He),0===st.size&&Ye.delete(it),0===Ye.size&&(this._events.delete(vt),document.removeEventListener(vt,this._delegateEventHandler,ye)))}}const ee={enterDuration:225,exitDuration:150},$=(0,P.i$)({passive:!0,capture:!0}),re=["mousedown","touchstart"],J=["mouseup","mouseleave","touchend","touchcancel"];class q{static#e=this._eventManager=new oe;constructor(vt,it,He,Ye){this._target=vt,this._ngZone=it,this._platform=Ye,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Ye.isBrowser&&(this._containerElement=(0,C.fI)(He))}fadeInRipple(vt,it,He={}){const Ye=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),st={...ee,...He.animation};He.centered&&(vt=Ye.left+Ye.width/2,it=Ye.top+Ye.height/2);const at=He.radius||function _e(wt,vt,it){const He=Math.max(Math.abs(wt-it.left),Math.abs(wt-it.right)),Ye=Math.max(Math.abs(vt-it.top),Math.abs(vt-it.bottom));return Math.sqrt(He*He+Ye*Ye)}(vt,it,Ye),St=vt-Ye.left,bt=it-Ye.top,At=st.enterDuration,on=document.createElement("div");on.classList.add("mat-ripple-element"),on.style.left=St-at+"px",on.style.top=bt-at+"px",on.style.height=2*at+"px",on.style.width=2*at+"px",null!=He.color&&(on.style.backgroundColor=He.color),on.style.transitionDuration=`${At}ms`,this._containerElement.appendChild(on);const En=window.getComputedStyle(on),Mn=En.transitionDuration,In="none"===En.transitionProperty||"0s"===Mn||"0s, 0s"===Mn||0===Ye.width&&0===Ye.height,Nn=new ie(this,on,He,In);on.style.transform="scale3d(1, 1, 1)",Nn.state=0,He.persistent||(this._mostRecentTransientRipple=Nn);let $n=null;return!In&&(At||st.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ni=()=>this._finishRippleTransition(Nn),vn=()=>this._destroyRipple(Nn);on.addEventListener("transitionend",ni),on.addEventListener("transitioncancel",vn),$n={onTransitionEnd:ni,onTransitionCancel:vn}}),this._activeRipples.set(Nn,$n),(In||!At)&&this._finishRippleTransition(Nn),Nn}fadeOutRipple(vt){if(2===vt.state||3===vt.state)return;const it=vt.element,He={...ee,...vt.config.animation};it.style.transitionDuration=`${He.exitDuration}ms`,it.style.opacity="0",vt.state=2,(vt._animationForciblyDisabledThroughCss||!He.exitDuration)&&this._finishRippleTransition(vt)}fadeOutAll(){this._getActiveRipples().forEach(vt=>vt.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(vt=>{vt.config.persistent||vt.fadeOut()})}setupTriggerEvents(vt){const it=(0,C.fI)(vt);!this._platform.isBrowser||!it||it===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=it,re.forEach(He=>{q._eventManager.addHandler(this._ngZone,He,it,this)}))}handleEvent(vt){"mousedown"===vt.type?this._onMousedown(vt):"touchstart"===vt.type?this._onTouchStart(vt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{J.forEach(it=>{this._triggerElement.addEventListener(it,this,$)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(vt){0===vt.state?this._startFadeOutTransition(vt):2===vt.state&&this._destroyRipple(vt)}_startFadeOutTransition(vt){const it=vt===this._mostRecentTransientRipple,{persistent:He}=vt.config;vt.state=1,!He&&(!it||!this._isPointerDown)&&vt.fadeOut()}_destroyRipple(vt){const it=this._activeRipples.get(vt)??null;this._activeRipples.delete(vt),this._activeRipples.size||(this._containerRect=null),vt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),vt.state=3,null!==it&&(vt.element.removeEventListener("transitionend",it.onTransitionEnd),vt.element.removeEventListener("transitioncancel",it.onTransitionCancel)),vt.element.remove()}_onMousedown(vt){const it=(0,t.X6)(vt),He=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!it&&!He&&(this._isPointerDown=!0,this.fadeInRipple(vt.clientX,vt.clientY,this._target.rippleConfig))}_onTouchStart(vt){if(!this._target.rippleDisabled&&!(0,t.yG)(vt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const it=vt.changedTouches;if(it)for(let He=0;He<it.length;He++)this.fadeInRipple(it[He].clientX,it[He].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(vt=>{!vt.config.persistent&&(1===vt.state||vt.config.terminateOnPointerUp&&0===vt.state)&&vt.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const vt=this._triggerElement;vt&&(re.forEach(it=>q._eventManager.removeHandler(it,vt,this)),this._pointerUpEventsRegistered&&J.forEach(it=>vt.removeEventListener(it,this,$)))}}const xe=new e.OlP("mat-ripple-global-options");let Ee=(()=>{class wt{get disabled(){return this._disabled}set disabled(it){it&&this.fadeOutAllNonPersistent(),this._disabled=it,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(it){this._trigger=it,this._setupTriggerEventsIfEnabled()}constructor(it,He,Ye,st,at){this._elementRef=it,this._animationMode=at,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=st||{},this._rippleRenderer=new q(this,He,it,Ye)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(it,He=0,Ye){return"number"==typeof it?this._rippleRenderer.fadeInRipple(it,He,{...this.rippleConfig,...Ye}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...it})}static#e=this.\u0275fac=function(He){return new(He||wt)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(P.t4),e.Y36(xe,8),e.Y36(e.QbO,8))};static#t=this.\u0275dir=e.lG2({type:wt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(He,Ye){2&He&&e.ekj("mat-ripple-unbounded",Ye.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return wt})(),Ge=(()=>{class wt{static#e=this.\u0275fac=function(He){return new(He||wt)};static#t=this.\u0275mod=e.oAB({type:wt});static#n=this.\u0275inj=e.cJS({imports:[B,B]})}return wt})(),ct=(()=>{class wt{constructor(it){this._animationMode=it,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(He){return new(He||wt)(e.Y36(e.QbO,8))};static#t=this.\u0275cmp=e.Xpm({type:wt,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(He,Ye){2&He&&e.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===Ye.state)("mat-pseudo-checkbox-checked","checked"===Ye.state)("mat-pseudo-checkbox-disabled",Ye.disabled)("mat-pseudo-checkbox-minimal","minimal"===Ye.appearance)("mat-pseudo-checkbox-full","full"===Ye.appearance)("_mat-animation-noopable","NoopAnimations"===Ye._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(He,Ye){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return wt})(),Xe=(()=>{class wt{static#e=this.\u0275fac=function(He){return new(He||wt)};static#t=this.\u0275mod=e.oAB({type:wt});static#n=this.\u0275inj=e.cJS({imports:[B]})}return wt})();const tt=new e.OlP("MAT_OPTION_PARENT_COMPONENT"),Dt=new e.OlP("MatOptgroup");let ze=0;class Tt{constructor(vt,it=!1){this.source=vt,this.isUserInput=it}}let Kt=(()=>{class wt{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(it){this._disabled=(0,C.Ig)(it)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(it,He,Ye,st){this._element=it,this._changeDetectorRef=He,this._parent=Ye,this.group=st,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+ze++,this.onSelectionChange=new e.vpe,this._stateChanges=new i.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(it=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),it&&this._emitSelectionChangeEvent())}deselect(it=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),it&&this._emitSelectionChangeEvent())}focus(it,He){const Ye=this._getHostElement();"function"==typeof Ye.focus&&Ye.focus(He)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(it){(it.keyCode===c.K5||it.keyCode===c.L_)&&!(0,c.Vb)(it)&&(this._selectViaInteraction(),it.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const it=this.viewValue;it!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=it)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(it=!1){this.onSelectionChange.emit(new Tt(this,it))}static#e=this.\u0275fac=function(He){e.$Z()};static#t=this.\u0275dir=e.lG2({type:wt,viewQuery:function(He,Ye){if(1&He&&e.Gf(g,7),2&He){let st;e.iGM(st=e.CRH())&&(Ye._text=st.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return wt})(),Jt=(()=>{class wt extends Kt{constructor(it,He,Ye,st){super(it,He,Ye,st)}static#e=this.\u0275fac=function(He){return new(He||wt)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(tt,8),e.Y36(Dt,8))};static#t=this.\u0275cmp=e.Xpm({type:wt,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(He,Ye){1&He&&e.NdJ("click",function(){return Ye._selectViaInteraction()})("keydown",function(at){return Ye._handleKeydown(at)}),2&He&&(e.Ikx("id",Ye.id),e.uIk("aria-selected",Ye.selected)("aria-disabled",Ye.disabled.toString()),e.ekj("mdc-list-item--selected",Ye.selected)("mat-mdc-option-multiple",Ye.multiple)("mat-mdc-option-active",Ye.active)("mdc-list-item--disabled",Ye.disabled))},exportAs:["matOption"],features:[e.qOj],ngContentSelectors:O,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(He,Ye){1&He&&(e.F$t(N),e.YNc(0,S,1,2,"mat-pseudo-checkbox",0),e.Hsn(1),e.TgZ(2,"span",1,2),e.Hsn(4,1),e.qZA(),e.YNc(5,x,1,1,"mat-pseudo-checkbox",3),e.YNc(6,A,2,1,"span",4),e._UZ(7,"div",5)),2&He&&(e.Q6J("ngIf",Ye.multiple),e.xp6(5),e.Q6J("ngIf",!Ye.multiple&&Ye.selected&&!Ye.hideSingleSelectionIndicator),e.xp6(1),e.Q6J("ngIf",Ye.group&&Ye.group._inert),e.xp6(1),e.Q6J("matRippleTrigger",Ye._getHostElement())("matRippleDisabled",Ye.disabled||Ye.disableRipple))},dependencies:[Ee,_.O5,ct],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return wt})();function qt(wt,vt,it){if(it.length){let He=vt.toArray(),Ye=it.toArray(),st=0;for(let at=0;at<wt+1;at++)He[at].group&&He[at].group===Ye[st]&&st++;return st}return 0}function un(wt,vt,it,He){return wt<it?wt:wt+vt>it+He?Math.max(0,wt-He+vt):it}let fn=(()=>{class wt{static#e=this.\u0275fac=function(He){return new(He||wt)};static#t=this.\u0275mod=e.oAB({type:wt});static#n=this.\u0275inj=e.cJS({imports:[Ge,_.ez,B,Xe]})}return wt})()},8034:(Wn,et,p)=>{"use strict";p.d(et,{FA:()=>Xn,Mq:()=>tn,hl:()=>vn,nW:()=>yn});var e=p(4300),t=p(3651),v=p(8484),b=p(6814),_=p(5879),P=p(2296),C=p(799),m=p(3680),i=p(8645),c=p(7394),d=p(3019),f=p(2096),g=p(6028),S=p(9388),x=p(2831),A=p(8180),N=p(7921),O=p(2181),D=p(2495),I=p(6825),T=p(95),L=p(4170),y=p(2032);const B=["mat-calendar-body",""];function z(Ut,On){if(1&Ut&&(_.TgZ(0,"tr",3)(1,"td",4),_._uU(2),_.qZA()()),2&Ut){const Ne=_.oxw();_.xp6(1),_.Udp("padding-top",Ne._cellPadding)("padding-bottom",Ne._cellPadding),_.uIk("colspan",Ne.numCols),_.xp6(1),_.hij(" ",Ne.label," ")}}function ne(Ut,On){if(1&Ut&&(_.TgZ(0,"td",4),_._uU(1),_.qZA()),2&Ut){const Ne=_.oxw(2);_.Udp("padding-top",Ne._cellPadding)("padding-bottom",Ne._cellPadding),_.uIk("colspan",Ne._firstRowOffset),_.xp6(1),_.hij(" ",Ne._firstRowOffset>=Ne.labelMinRequiredCells?Ne.label:""," ")}}function ae(Ut,On){if(1&Ut){const Ne=_.EpF();_.TgZ(0,"td",8)(1,"button",9),_.NdJ("click",function(Pt){const Fn=_.CHM(Ne).$implicit,vi=_.oxw(2);return _.KtG(vi._cellClicked(Fn,Pt))})("focus",function(Pt){const Fn=_.CHM(Ne).$implicit,vi=_.oxw(2);return _.KtG(vi._emitActiveDateChange(Fn,Pt))}),_.TgZ(2,"span",10),_._uU(3),_.qZA(),_._UZ(4,"span",11),_.qZA()()}if(2&Ut){const Ne=On.$implicit,Ft=On.index,Pt=_.oxw().index,ln=_.oxw();_.Udp("width",ln._cellWidth)("padding-top",ln._cellPadding)("padding-bottom",ln._cellPadding),_.uIk("data-mat-row",Pt)("data-mat-col",Ft),_.xp6(1),_.ekj("mat-calendar-body-disabled",!Ne.enabled)("mat-calendar-body-active",ln._isActiveCell(Pt,Ft))("mat-calendar-body-range-start",ln._isRangeStart(Ne.compareValue))("mat-calendar-body-range-end",ln._isRangeEnd(Ne.compareValue))("mat-calendar-body-in-range",ln._isInRange(Ne.compareValue))("mat-calendar-body-comparison-bridge-start",ln._isComparisonBridgeStart(Ne.compareValue,Pt,Ft))("mat-calendar-body-comparison-bridge-end",ln._isComparisonBridgeEnd(Ne.compareValue,Pt,Ft))("mat-calendar-body-comparison-start",ln._isComparisonStart(Ne.compareValue))("mat-calendar-body-comparison-end",ln._isComparisonEnd(Ne.compareValue))("mat-calendar-body-in-comparison-range",ln._isInComparisonRange(Ne.compareValue))("mat-calendar-body-preview-start",ln._isPreviewStart(Ne.compareValue))("mat-calendar-body-preview-end",ln._isPreviewEnd(Ne.compareValue))("mat-calendar-body-in-preview",ln._isInPreview(Ne.compareValue)),_.Q6J("ngClass",Ne.cssClasses)("tabindex",ln._isActiveCell(Pt,Ft)?0:-1),_.uIk("aria-label",Ne.ariaLabel)("aria-disabled",!Ne.enabled||null)("aria-pressed",ln._isSelected(Ne.compareValue))("aria-current",ln.todayValue===Ne.compareValue?"date":null)("aria-describedby",ln._getDescribedby(Ne.compareValue)),_.xp6(1),_.ekj("mat-calendar-body-selected",ln._isSelected(Ne.compareValue))("mat-calendar-body-comparison-identical",ln._isComparisonIdentical(Ne.compareValue))("mat-calendar-body-today",ln.todayValue===Ne.compareValue),_.xp6(1),_.hij(" ",Ne.displayValue," ")}}function Fe(Ut,On){if(1&Ut&&(_.TgZ(0,"tr",5),_.YNc(1,ne,2,6,"td",6),_.YNc(2,ae,5,48,"td",7),_.qZA()),2&Ut){const Ne=On.$implicit,Ft=On.index,Pt=_.oxw();_.xp6(1),_.Q6J("ngIf",0===Ft&&Pt._firstRowOffset),_.xp6(1),_.Q6J("ngForOf",Ne)}}function Y(Ut,On){if(1&Ut&&(_.TgZ(0,"th",5)(1,"span",6),_._uU(2),_.qZA(),_.TgZ(3,"span",7),_._uU(4),_.qZA()()),2&Ut){const Ne=On.$implicit;_.xp6(2),_.Oqu(Ne.long),_.xp6(2),_.Oqu(Ne.narrow)}}const le=["*"];function G(Ut,On){}function Se(Ut,On){if(1&Ut){const Ne=_.EpF();_.TgZ(0,"mat-month-view",5),_.NdJ("activeDateChange",function(Pt){_.CHM(Ne);const ln=_.oxw();return _.KtG(ln.activeDate=Pt)})("_userSelection",function(Pt){_.CHM(Ne);const ln=_.oxw();return _.KtG(ln._dateSelected(Pt))})("dragStarted",function(Pt){_.CHM(Ne);const ln=_.oxw();return _.KtG(ln._dragStarted(Pt))})("dragEnded",function(Pt){_.CHM(Ne);const ln=_.oxw();return _.KtG(ln._dragEnded(Pt))}),_.qZA()}if(2&Ut){const Ne=_.oxw();_.Q6J("activeDate",Ne.activeDate)("selected",Ne.selected)("dateFilter",Ne.dateFilter)("maxDate",Ne.maxDate)("minDate",Ne.minDate)("dateClass",Ne.dateClass)("comparisonStart",Ne.comparisonStart)("comparisonEnd",Ne.comparisonEnd)("startDateAccessibleName",Ne.startDateAccessibleName)("endDateAccessibleName",Ne.endDateAccessibleName)("activeDrag",Ne._activeDrag)}}function ce(Ut,On){if(1&Ut){const Ne=_.EpF();_.TgZ(0,"mat-year-view",6),_.NdJ("activeDateChange",function(Pt){_.CHM(Ne);const ln=_.oxw();return _.KtG(ln.activeDate=Pt)})("monthSelected",function(Pt){_.CHM(Ne);const ln=_.oxw();return _.KtG(ln._monthSelectedInYearView(Pt))})("selectedChange",function(Pt){_.CHM(Ne);const ln=_.oxw();return _.KtG(ln._goToDateInView(Pt,"month"))}),_.qZA()}if(2&Ut){const Ne=_.oxw();_.Q6J("activeDate",Ne.activeDate)("selected",Ne.selected)("dateFilter",Ne.dateFilter)("maxDate",Ne.maxDate)("minDate",Ne.minDate)("dateClass",Ne.dateClass)}}function ge(Ut,On){if(1&Ut){const Ne=_.EpF();_.TgZ(0,"mat-multi-year-view",7),_.NdJ("activeDateChange",function(Pt){_.CHM(Ne);const ln=_.oxw();return _.KtG(ln.activeDate=Pt)})("yearSelected",function(Pt){_.CHM(Ne);const ln=_.oxw();return _.KtG(ln._yearSelectedInMultiYearView(Pt))})("selectedChange",function(Pt){_.CHM(Ne);const ln=_.oxw();return _.KtG(ln._goToDateInView(Pt,"year"))}),_.qZA()}if(2&Ut){const Ne=_.oxw();_.Q6J("activeDate",Ne.activeDate)("selected",Ne.selected)("dateFilter",Ne.dateFilter)("maxDate",Ne.maxDate)("minDate",Ne.minDate)("dateClass",Ne.dateClass)}}function Ie(Ut,On){}const Ce=["button"];function pe(Ut,On){1&Ut&&(_.O4$(),_.TgZ(0,"svg",3),_._UZ(1,"path",4),_.qZA())}const Ae=[[["","matDatepickerToggleIcon",""]]],ke=["[matDatepickerToggleIcon]"];let Ve=(()=>{class Ut{constructor(){this.changes=new i.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(Ne,Ft){return`${Ne} \u2013 ${Ft}`}formatYearRangeLabel(Ne,Ft){return`${Ne} to ${Ft}`}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)};static#t=this.\u0275prov=_.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})();class ft{constructor(On,Ne,Ft,Pt,ln={},Fn=On,vi){this.value=On,this.displayValue=Ne,this.ariaLabel=Ft,this.enabled=Pt,this.cssClasses=ln,this.compareValue=Fn,this.rawValue=vi}}let Ze=1;const Re=(0,x.i$)({passive:!1,capture:!0}),be=(0,x.i$)({passive:!0,capture:!0}),Q=(0,x.i$)({passive:!0});let ie=(()=>{class Ut{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(Ne,Ft){this._elementRef=Ne,this._ngZone=Ft,this._platform=(0,_.f3M)(x.t4),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new _.vpe,this.previewChange=new _.vpe,this.activeDateChange=new _.vpe,this.dragStarted=new _.vpe,this.dragEnded=new _.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=Pt=>{if(this._skipNextFocus&&"focus"===Pt.type)this._skipNextFocus=!1;else if(Pt.target&&this.isRange){const ln=this._getCellFromElement(Pt.target);ln&&this._ngZone.run(()=>this.previewChange.emit({value:ln.enabled?ln:null,event:Pt}))}},this._touchmoveHandler=Pt=>{if(!this.isRange)return;const ln=re(Pt),Fn=ln?this._getCellFromElement(ln):null;ln!==Pt.target&&(this._didDragSinceMouseDown=!0),oe(Pt.target)&&Pt.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:Fn?.enabled?Fn:null,event:Pt}))},this._leaveHandler=Pt=>{null!==this.previewEnd&&this.isRange&&("blur"!==Pt.type&&(this._didDragSinceMouseDown=!0),Pt.target&&this._getCellFromElement(Pt.target)&&(!Pt.relatedTarget||!this._getCellFromElement(Pt.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:Pt})))},this._mousedownHandler=Pt=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const ln=Pt.target&&this._getCellFromElement(Pt.target);!ln||!this._isInRange(ln.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:ln.rawValue,event:Pt})})},this._mouseupHandler=Pt=>{if(!this.isRange)return;const ln=oe(Pt.target);ln?ln.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const Fn=this._getCellFromElement(ln);this.dragEnded.emit({value:Fn?.rawValue??null,event:Pt})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:Pt})})},this._touchendHandler=Pt=>{const ln=re(Pt);ln&&this._mouseupHandler({target:ln})},this._id="mat-calendar-body-"+Ze++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,Ft.runOutsideAngular(()=>{const Pt=Ne.nativeElement;Pt.addEventListener("touchmove",this._touchmoveHandler,Re),Pt.addEventListener("mouseenter",this._enterHandler,be),Pt.addEventListener("focus",this._enterHandler,be),Pt.addEventListener("mouseleave",this._leaveHandler,be),Pt.addEventListener("blur",this._leaveHandler,be),Pt.addEventListener("mousedown",this._mousedownHandler,Q),Pt.addEventListener("touchstart",this._mousedownHandler,Q),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(Ne,Ft){this._didDragSinceMouseDown||Ne.enabled&&this.selectedValueChange.emit({value:Ne.value,event:Ft})}_emitActiveDateChange(Ne,Ft){Ne.enabled&&this.activeDateChange.emit({value:Ne.value,event:Ft})}_isSelected(Ne){return this.startValue===Ne||this.endValue===Ne}ngOnChanges(Ne){const Ft=Ne.numCols,{rows:Pt,numCols:ln}=this;(Ne.rows||Ft)&&(this._firstRowOffset=Pt&&Pt.length&&Pt[0].length?ln-Pt[0].length:0),(Ne.cellAspectRatio||Ft||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/ln+"%"),(Ft||!this._cellWidth)&&(this._cellWidth=100/ln+"%")}ngOnDestroy(){const Ne=this._elementRef.nativeElement;Ne.removeEventListener("touchmove",this._touchmoveHandler,Re),Ne.removeEventListener("mouseenter",this._enterHandler,be),Ne.removeEventListener("focus",this._enterHandler,be),Ne.removeEventListener("mouseleave",this._leaveHandler,be),Ne.removeEventListener("blur",this._leaveHandler,be),Ne.removeEventListener("mousedown",this._mousedownHandler,Q),Ne.removeEventListener("touchstart",this._mousedownHandler,Q),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(Ne,Ft){let Pt=Ne*this.numCols+Ft;return Ne&&(Pt-=this._firstRowOffset),Pt==this.activeCell}_focusActiveCell(Ne=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,A.q)(1)).subscribe(()=>{setTimeout(()=>{const Ft=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");Ft&&(Ne||(this._skipNextFocus=!0),Ft.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(Ne){return ee(Ne,this.startValue,this.endValue)}_isRangeEnd(Ne){return X(Ne,this.startValue,this.endValue)}_isInRange(Ne){return $(Ne,this.startValue,this.endValue,this.isRange)}_isComparisonStart(Ne){return ee(Ne,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(Ne,Ft,Pt){if(!this._isComparisonStart(Ne)||this._isRangeStart(Ne)||!this._isInRange(Ne))return!1;let ln=this.rows[Ft][Pt-1];if(!ln){const Fn=this.rows[Ft-1];ln=Fn&&Fn[Fn.length-1]}return ln&&!this._isRangeEnd(ln.compareValue)}_isComparisonBridgeEnd(Ne,Ft,Pt){if(!this._isComparisonEnd(Ne)||this._isRangeEnd(Ne)||!this._isInRange(Ne))return!1;let ln=this.rows[Ft][Pt+1];if(!ln){const Fn=this.rows[Ft+1];ln=Fn&&Fn[0]}return ln&&!this._isRangeStart(ln.compareValue)}_isComparisonEnd(Ne){return X(Ne,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(Ne){return $(Ne,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(Ne){return this.comparisonStart===this.comparisonEnd&&Ne===this.comparisonStart}_isPreviewStart(Ne){return ee(Ne,this.previewStart,this.previewEnd)}_isPreviewEnd(Ne){return X(Ne,this.previewStart,this.previewEnd)}_isInPreview(Ne){return $(Ne,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(Ne){return this.isRange?this.startValue===Ne&&this.endValue===Ne?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===Ne?this._startDateLabelId:this.endValue===Ne?this._endDateLabelId:null:null}_getCellFromElement(Ne){const Ft=oe(Ne);if(Ft){const Pt=Ft.getAttribute("data-mat-row"),ln=Ft.getAttribute("data-mat-col");if(Pt&&ln)return this.rows[parseInt(Pt)][parseInt(ln)]}return null}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)(_.Y36(_.SBq),_.Y36(_.R0b))};static#t=this.\u0275cmp=_.Xpm({type:Ut,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[_.TTD],attrs:B,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(Ft,Pt){1&Ft&&(_.YNc(0,z,3,6,"tr",0),_.YNc(1,Fe,3,2,"tr",1),_.TgZ(2,"label",2),_._uU(3),_.qZA(),_.TgZ(4,"label",2),_._uU(5),_.qZA()),2&Ft&&(_.Q6J("ngIf",Pt._firstRowOffset<Pt.labelMinRequiredCells),_.xp6(1),_.Q6J("ngForOf",Pt.rows),_.xp6(1),_.Q6J("id",Pt._startDateLabelId),_.xp6(1),_.hij(" ",Pt.startDateAccessibleName,"\n"),_.xp6(1),_.Q6J("id",Pt._endDateLabelId),_.xp6(1),_.hij(" ",Pt.endDateAccessibleName,"\n"))},dependencies:[b.mk,b.sg,b.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}return Ut})();function ye(Ut){return"TD"===Ut?.nodeName}function oe(Ut){let On;return ye(Ut)?On=Ut:ye(Ut.parentNode)?On=Ut.parentNode:ye(Ut.parentNode?.parentNode)&&(On=Ut.parentNode.parentNode),null!=On?.getAttribute("data-mat-row")?On:null}function ee(Ut,On,Ne){return null!==Ne&&On!==Ne&&Ut<Ne&&Ut===On}function X(Ut,On,Ne){return null!==On&&On!==Ne&&Ut>=On&&Ut===Ne}function $(Ut,On,Ne,Ft){return Ft&&null!==On&&null!==Ne&&On!==Ne&&Ut>=On&&Ut<=Ne}function re(Ut){const On=Ut.changedTouches[0];return document.elementFromPoint(On.clientX,On.clientY)}class J{constructor(On,Ne){this.start=On,this.end=Ne}}let q=(()=>{class Ut{constructor(Ne,Ft){this.selection=Ne,this._adapter=Ft,this._selectionChanged=new i.x,this.selectionChanged=this._selectionChanged,this.selection=Ne}updateSelection(Ne,Ft){const Pt=this.selection;this.selection=Ne,this._selectionChanged.next({selection:Ne,source:Ft,oldValue:Pt})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(Ne){return this._adapter.isDateInstance(Ne)&&this._adapter.isValid(Ne)}static#e=this.\u0275fac=function(Ft){_.$Z()};static#t=this.\u0275prov=_.Yz7({token:Ut,factory:Ut.\u0275fac})}return Ut})(),_e=(()=>{class Ut extends q{constructor(Ne){super(null,Ne)}add(Ne){super.updateSelection(Ne,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const Ne=new Ut(this._adapter);return Ne.updateSelection(this.selection,this),Ne}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)(_.LFG(m._A))};static#t=this.\u0275prov=_.Yz7({token:Ut,factory:Ut.\u0275fac})}return Ut})();const Ge={provide:q,deps:[[new _.FiY,new _.tp0,q],m._A],useFactory:function Ee(Ut,On){return Ut||new _e(On)}},tt=new _.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let fe=(()=>{class Ut{get activeDate(){return this._activeDate}set activeDate(Ne){const Ft=this._activeDate,Pt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(Pt,this.minDate,this.maxDate),this._hasSameMonthAndYear(Ft,this._activeDate)||this._init()}get selected(){return this._selected}set selected(Ne){this._selected=Ne instanceof J?Ne:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(Ne){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))}get maxDate(){return this._maxDate}set maxDate(Ne){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))}constructor(Ne,Ft,Pt,ln,Fn){this._changeDetectorRef=Ne,this._dateFormats=Ft,this._dateAdapter=Pt,this._dir=ln,this._rangeStrategy=Fn,this._rerenderSubscription=c.w0.EMPTY,this.activeDrag=null,this.selectedChange=new _.vpe,this._userSelection=new _.vpe,this.dragStarted=new _.vpe,this.dragEnded=new _.vpe,this.activeDateChange=new _.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,N.O)(null)).subscribe(()=>this._init())}ngOnChanges(Ne){const Ft=Ne.comparisonStart||Ne.comparisonEnd;Ft&&!Ft.firstChange&&this._setRanges(this.selected),Ne.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(Ne){const Ft=Ne.value,Pt=this._getDateFromDayOfMonth(Ft);let ln,Fn;this._selected instanceof J?(ln=this._getDateInCurrentMonth(this._selected.start),Fn=this._getDateInCurrentMonth(this._selected.end)):ln=Fn=this._getDateInCurrentMonth(this._selected),(ln!==Ft||Fn!==Ft)&&this.selectedChange.emit(Pt),this._userSelection.emit({value:Pt,event:Ne.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(Ne){const Pt=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(Ne.value),this._dateAdapter.compareDate(Pt,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(Ne){const Ft=this._activeDate,Pt=this._isRtl();switch(Ne.keyCode){case g.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,Pt?1:-1);break;case g.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,Pt?-1:1);break;case g.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case g.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case g.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case g.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case g.Ku:this.activeDate=Ne.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case g.VM:this.activeDate=Ne.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case g.K5:case g.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&Ne.preventDefault());case g.hY:return void(null!=this._previewEnd&&!(0,g.Vb)(Ne)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:Ne}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:Ne})),Ne.preventDefault(),Ne.stopPropagation()));default:return}this._dateAdapter.compareDate(Ft,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),Ne.preventDefault()}_handleCalendarBodyKeyup(Ne){(Ne.keyCode===g.L_||Ne.keyCode===g.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:Ne}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let Ne=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(Ne)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(Ne){this._matCalendarBody._focusActiveCell(Ne)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:Ne,value:Ft}){if(this._rangeStrategy){const Pt=Ft?Ft.rawValue:null,ln=this._rangeStrategy.createPreview(Pt,this.selected,Ne);if(this._previewStart=this._getCellCompareValue(ln.start),this._previewEnd=this._getCellCompareValue(ln.end),this.activeDrag&&Pt){const Fn=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,Pt,Ne);Fn&&(this._previewStart=this._getCellCompareValue(Fn.start),this._previewEnd=this._getCellCompareValue(Fn.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(Ne){if(this.activeDrag)if(Ne.value){const Ft=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,Ne.value,Ne.event);this.dragEnded.emit({value:Ft??null,event:Ne.event})}else this.dragEnded.emit({value:null,event:Ne.event})}_getDateFromDayOfMonth(Ne){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),Ne)}_initWeekdays(){const Ne=this._dateAdapter.getFirstDayOfWeek(),Ft=this._dateAdapter.getDayOfWeekNames("narrow");let ln=this._dateAdapter.getDayOfWeekNames("long").map((Fn,vi)=>({long:Fn,narrow:Ft[vi]}));this._weekdays=ln.slice(Ne).concat(ln.slice(0,Ne))}_createWeekCells(){const Ne=this._dateAdapter.getNumDaysInMonth(this.activeDate),Ft=this._dateAdapter.getDateNames();this._weeks=[[]];for(let Pt=0,ln=this._firstWeekOffset;Pt<Ne;Pt++,ln++){7==ln&&(this._weeks.push([]),ln=0);const Fn=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),Pt+1),vi=this._shouldEnableDate(Fn),Er=this._dateAdapter.format(Fn,this._dateFormats.display.dateA11yLabel),$r=this.dateClass?this.dateClass(Fn,"month"):void 0;this._weeks[this._weeks.length-1].push(new ft(Pt+1,Ft[Pt],Er,vi,$r,this._getCellCompareValue(Fn),Fn))}}_shouldEnableDate(Ne){return!!Ne&&(!this.minDate||this._dateAdapter.compareDate(Ne,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(Ne,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(Ne))}_getDateInCurrentMonth(Ne){return Ne&&this._hasSameMonthAndYear(Ne,this.activeDate)?this._dateAdapter.getDate(Ne):null}_hasSameMonthAndYear(Ne,Ft){return!(!Ne||!Ft||this._dateAdapter.getMonth(Ne)!=this._dateAdapter.getMonth(Ft)||this._dateAdapter.getYear(Ne)!=this._dateAdapter.getYear(Ft))}_getCellCompareValue(Ne){if(Ne){const Ft=this._dateAdapter.getYear(Ne),Pt=this._dateAdapter.getMonth(Ne),ln=this._dateAdapter.getDate(Ne);return new Date(Ft,Pt,ln).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(Ne){Ne instanceof J?(this._rangeStart=this._getCellCompareValue(Ne.start),this._rangeEnd=this._getCellCompareValue(Ne.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(Ne),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(Ne){return!this.dateFilter||this.dateFilter(Ne)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)(_.Y36(_.sBO),_.Y36(m.sG,8),_.Y36(m._A,8),_.Y36(S.Is,8),_.Y36(tt,8))};static#t=this.\u0275cmp=_.Xpm({type:Ut,selectors:[["mat-month-view"]],viewQuery:function(Ft,Pt){if(1&Ft&&_.Gf(ie,5),2&Ft){let ln;_.iGM(ln=_.CRH())&&(Pt._matCalendarBody=ln.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[_.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(Ft,Pt){1&Ft&&(_.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),_.YNc(3,Y,5,2,"th",2),_.qZA(),_.TgZ(4,"tr"),_._UZ(5,"th",3),_.qZA()(),_.TgZ(6,"tbody",4),_.NdJ("selectedValueChange",function(Fn){return Pt._dateSelected(Fn)})("activeDateChange",function(Fn){return Pt._updateActiveDate(Fn)})("previewChange",function(Fn){return Pt._previewChanged(Fn)})("dragStarted",function(Fn){return Pt.dragStarted.emit(Fn)})("dragEnded",function(Fn){return Pt._dragEnded(Fn)})("keyup",function(Fn){return Pt._handleCalendarBodyKeyup(Fn)})("keydown",function(Fn){return Pt._handleCalendarBodyKeydown(Fn)}),_.qZA()()),2&Ft&&(_.xp6(3),_.Q6J("ngForOf",Pt._weekdays),_.xp6(3),_.Q6J("label",Pt._monthLabel)("rows",Pt._weeks)("todayValue",Pt._todayDate)("startValue",Pt._rangeStart)("endValue",Pt._rangeEnd)("comparisonStart",Pt._comparisonRangeStart)("comparisonEnd",Pt._comparisonRangeEnd)("previewStart",Pt._previewStart)("previewEnd",Pt._previewEnd)("isRange",Pt._isRange)("labelMinRequiredCells",3)("activeCell",Pt._dateAdapter.getDate(Pt.activeDate)-1)("startDateAccessibleName",Pt.startDateAccessibleName)("endDateAccessibleName",Pt.endDateAccessibleName))},dependencies:[b.sg,ie],encapsulation:2,changeDetection:0})}return Ut})();const ze=24;let Kt=(()=>{class Ut{get activeDate(){return this._activeDate}set activeDate(Ne){let Ft=this._activeDate;const Pt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(Pt,this.minDate,this.maxDate),Jt(this._dateAdapter,Ft,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(Ne){this._selected=Ne instanceof J?Ne:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne)),this._setSelectedYear(Ne)}get minDate(){return this._minDate}set minDate(Ne){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))}get maxDate(){return this._maxDate}set maxDate(Ne){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))}constructor(Ne,Ft,Pt){this._changeDetectorRef=Ne,this._dateAdapter=Ft,this._dir=Pt,this._rerenderSubscription=c.w0.EMPTY,this.selectedChange=new _.vpe,this.yearSelected=new _.vpe,this.activeDateChange=new _.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,N.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const Ft=this._dateAdapter.getYear(this._activeDate)-qt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let Pt=0,ln=[];Pt<ze;Pt++)ln.push(Ft+Pt),4==ln.length&&(this._years.push(ln.map(Fn=>this._createCellForYear(Fn))),ln=[]);this._changeDetectorRef.markForCheck()}_yearSelected(Ne){const Ft=Ne.value,Pt=this._dateAdapter.createDate(Ft,0,1),ln=this._getDateFromYear(Ft);this.yearSelected.emit(Pt),this.selectedChange.emit(ln)}_updateActiveDate(Ne){const Pt=this._activeDate;this.activeDate=this._getDateFromYear(Ne.value),this._dateAdapter.compareDate(Pt,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(Ne){const Ft=this._activeDate,Pt=this._isRtl();switch(Ne.keyCode){case g.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Pt?1:-1);break;case g.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Pt?-1:1);break;case g.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case g.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case g.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-qt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case g.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ze-qt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case g.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ne.altKey?10*-ze:-ze);break;case g.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ne.altKey?10*ze:ze);break;case g.K5:case g.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(Ft,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),Ne.preventDefault()}_handleCalendarBodyKeyup(Ne){(Ne.keyCode===g.L_||Ne.keyCode===g.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:Ne}),this._selectionKeyPressed=!1)}_getActiveCell(){return qt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(Ne){const Ft=this._dateAdapter.getMonth(this.activeDate),Pt=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(Ne,Ft,1));return this._dateAdapter.createDate(Ne,Ft,Math.min(this._dateAdapter.getDate(this.activeDate),Pt))}_createCellForYear(Ne){const Ft=this._dateAdapter.createDate(Ne,0,1),Pt=this._dateAdapter.getYearName(Ft),ln=this.dateClass?this.dateClass(Ft,"multi-year"):void 0;return new ft(Ne,Pt,Pt,this._shouldEnableYear(Ne),ln)}_shouldEnableYear(Ne){if(null==Ne||this.maxDate&&Ne>this._dateAdapter.getYear(this.maxDate)||this.minDate&&Ne<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let Pt=this._dateAdapter.createDate(Ne,0,1);this._dateAdapter.getYear(Pt)==Ne;Pt=this._dateAdapter.addCalendarDays(Pt,1))if(this.dateFilter(Pt))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(Ne){if(this._selectedYear=null,Ne instanceof J){const Ft=Ne.start||Ne.end;Ft&&(this._selectedYear=this._dateAdapter.getYear(Ft))}else Ne&&(this._selectedYear=this._dateAdapter.getYear(Ne))}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)(_.Y36(_.sBO),_.Y36(m._A,8),_.Y36(S.Is,8))};static#t=this.\u0275cmp=_.Xpm({type:Ut,selectors:[["mat-multi-year-view"]],viewQuery:function(Ft,Pt){if(1&Ft&&_.Gf(ie,5),2&Ft){let ln;_.iGM(ln=_.CRH())&&(Pt._matCalendarBody=ln.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(Ft,Pt){1&Ft&&(_.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),_._UZ(3,"th",2),_.qZA()(),_.TgZ(4,"tbody",3),_.NdJ("selectedValueChange",function(Fn){return Pt._yearSelected(Fn)})("activeDateChange",function(Fn){return Pt._updateActiveDate(Fn)})("keyup",function(Fn){return Pt._handleCalendarBodyKeyup(Fn)})("keydown",function(Fn){return Pt._handleCalendarBodyKeydown(Fn)}),_.qZA()()),2&Ft&&(_.xp6(4),_.Q6J("rows",Pt._years)("todayValue",Pt._todayYear)("startValue",Pt._selectedYear)("endValue",Pt._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",Pt._getActiveCell()))},dependencies:[ie],encapsulation:2,changeDetection:0})}return Ut})();function Jt(Ut,On,Ne,Ft,Pt){const ln=Ut.getYear(On),Fn=Ut.getYear(Ne),vi=un(Ut,Ft,Pt);return Math.floor((ln-vi)/ze)===Math.floor((Fn-vi)/ze)}function qt(Ut,On,Ne,Ft){return function fn(Ut,On){return(Ut%On+On)%On}(Ut.getYear(On)-un(Ut,Ne,Ft),ze)}function un(Ut,On,Ne){let Ft=0;return Ne?Ft=Ut.getYear(Ne)-ze+1:On&&(Ft=Ut.getYear(On)),Ft}let wt=(()=>{class Ut{get activeDate(){return this._activeDate}set activeDate(Ne){let Ft=this._activeDate;const Pt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(Pt,this.minDate,this.maxDate),this._dateAdapter.getYear(Ft)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(Ne){this._selected=Ne instanceof J?Ne:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne)),this._setSelectedMonth(Ne)}get minDate(){return this._minDate}set minDate(Ne){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))}get maxDate(){return this._maxDate}set maxDate(Ne){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))}constructor(Ne,Ft,Pt,ln){this._changeDetectorRef=Ne,this._dateFormats=Ft,this._dateAdapter=Pt,this._dir=ln,this._rerenderSubscription=c.w0.EMPTY,this.selectedChange=new _.vpe,this.monthSelected=new _.vpe,this.activeDateChange=new _.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,N.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(Ne){const Ft=Ne.value,Pt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Ft,1);this.monthSelected.emit(Pt);const ln=this._getDateFromMonth(Ft);this.selectedChange.emit(ln)}_updateActiveDate(Ne){const Pt=this._activeDate;this.activeDate=this._getDateFromMonth(Ne.value),this._dateAdapter.compareDate(Pt,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(Ne){const Ft=this._activeDate,Pt=this._isRtl();switch(Ne.keyCode){case g.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,Pt?1:-1);break;case g.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,Pt?-1:1);break;case g.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case g.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case g.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case g.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case g.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ne.altKey?-10:-1);break;case g.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ne.altKey?10:1);break;case g.K5:case g.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(Ft,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),Ne.preventDefault()}_handleCalendarBodyKeyup(Ne){(Ne.keyCode===g.L_||Ne.keyCode===g.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:Ne}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let Ne=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(Ft=>Ft.map(Pt=>this._createCellForMonth(Pt,Ne[Pt]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(Ne){return Ne&&this._dateAdapter.getYear(Ne)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(Ne):null}_getDateFromMonth(Ne){const Ft=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Ne,1),Pt=this._dateAdapter.getNumDaysInMonth(Ft);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Ne,Math.min(this._dateAdapter.getDate(this.activeDate),Pt))}_createCellForMonth(Ne,Ft){const Pt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Ne,1),ln=this._dateAdapter.format(Pt,this._dateFormats.display.monthYearA11yLabel),Fn=this.dateClass?this.dateClass(Pt,"year"):void 0;return new ft(Ne,Ft.toLocaleUpperCase(),ln,this._shouldEnableMonth(Ne),Fn)}_shouldEnableMonth(Ne){const Ft=this._dateAdapter.getYear(this.activeDate);if(null==Ne||this._isYearAndMonthAfterMaxDate(Ft,Ne)||this._isYearAndMonthBeforeMinDate(Ft,Ne))return!1;if(!this.dateFilter)return!0;for(let ln=this._dateAdapter.createDate(Ft,Ne,1);this._dateAdapter.getMonth(ln)==Ne;ln=this._dateAdapter.addCalendarDays(ln,1))if(this.dateFilter(ln))return!0;return!1}_isYearAndMonthAfterMaxDate(Ne,Ft){if(this.maxDate){const Pt=this._dateAdapter.getYear(this.maxDate),ln=this._dateAdapter.getMonth(this.maxDate);return Ne>Pt||Ne===Pt&&Ft>ln}return!1}_isYearAndMonthBeforeMinDate(Ne,Ft){if(this.minDate){const Pt=this._dateAdapter.getYear(this.minDate),ln=this._dateAdapter.getMonth(this.minDate);return Ne<Pt||Ne===Pt&&Ft<ln}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(Ne){this._selectedMonth=Ne instanceof J?this._getMonthInCurrentYear(Ne.start)||this._getMonthInCurrentYear(Ne.end):this._getMonthInCurrentYear(Ne)}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)(_.Y36(_.sBO),_.Y36(m.sG,8),_.Y36(m._A,8),_.Y36(S.Is,8))};static#t=this.\u0275cmp=_.Xpm({type:Ut,selectors:[["mat-year-view"]],viewQuery:function(Ft,Pt){if(1&Ft&&_.Gf(ie,5),2&Ft){let ln;_.iGM(ln=_.CRH())&&(Pt._matCalendarBody=ln.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(Ft,Pt){1&Ft&&(_.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),_._UZ(3,"th",2),_.qZA()(),_.TgZ(4,"tbody",3),_.NdJ("selectedValueChange",function(Fn){return Pt._monthSelected(Fn)})("activeDateChange",function(Fn){return Pt._updateActiveDate(Fn)})("keyup",function(Fn){return Pt._handleCalendarBodyKeyup(Fn)})("keydown",function(Fn){return Pt._handleCalendarBodyKeydown(Fn)}),_.qZA()()),2&Ft&&(_.xp6(4),_.Q6J("label",Pt._yearLabel)("rows",Pt._months)("todayValue",Pt._todayMonth)("startValue",Pt._selectedMonth)("endValue",Pt._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",Pt._dateAdapter.getMonth(Pt.activeDate)))},dependencies:[ie],encapsulation:2,changeDetection:0})}return Ut})(),vt=1,it=(()=>{class Ut{constructor(Ne,Ft,Pt,ln,Fn){this._intl=Ne,this.calendar=Ft,this._dateAdapter=Pt,this._dateFormats=ln,this._id="mat-calendar-header-"+vt++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>Fn.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-ze)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:ze)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(Ne,Ft){return"month"==this.calendar.currentView?this._dateAdapter.getYear(Ne)==this._dateAdapter.getYear(Ft)&&this._dateAdapter.getMonth(Ne)==this._dateAdapter.getMonth(Ft):"year"==this.calendar.currentView?this._dateAdapter.getYear(Ne)==this._dateAdapter.getYear(Ft):Jt(this._dateAdapter,Ne,Ft,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const Ft=this._dateAdapter.getYear(this.calendar.activeDate)-qt(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),Pt=Ft+ze-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(Ft,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(Pt,0,1))]}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)(_.Y36(Ve),_.Y36((0,_.Gpc)(()=>He)),_.Y36(m._A,8),_.Y36(m.sG,8),_.Y36(_.sBO))};static#t=this.\u0275cmp=_.Xpm({type:Ut,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:le,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(Ft,Pt){1&Ft&&(_.F$t(),_.TgZ(0,"div",0)(1,"div",1)(2,"button",2),_.NdJ("click",function(){return Pt.currentPeriodClicked()}),_.TgZ(3,"span",3),_._uU(4),_.qZA(),_.O4$(),_.TgZ(5,"svg",4),_._UZ(6,"polygon",5),_.qZA()(),_.kcU(),_._UZ(7,"div",6),_.Hsn(8),_.TgZ(9,"button",7),_.NdJ("click",function(){return Pt.previousClicked()}),_.qZA(),_.TgZ(10,"button",8),_.NdJ("click",function(){return Pt.nextClicked()}),_.qZA()()(),_.TgZ(11,"label",9),_._uU(12),_.qZA()),2&Ft&&(_.xp6(2),_.uIk("aria-label",Pt.periodButtonLabel)("aria-describedby",Pt._periodButtonLabelId),_.xp6(2),_.Oqu(Pt.periodButtonText),_.xp6(1),_.ekj("mat-calendar-invert","month"!==Pt.calendar.currentView),_.xp6(4),_.Q6J("disabled",!Pt.previousEnabled()),_.uIk("aria-label",Pt.prevButtonLabel),_.xp6(1),_.Q6J("disabled",!Pt.nextEnabled()),_.uIk("aria-label",Pt.nextButtonLabel),_.xp6(1),_.Q6J("id",Pt._periodButtonLabelId),_.xp6(1),_.Oqu(Pt.periodButtonDescription))},dependencies:[P.lW,P.RK],encapsulation:2,changeDetection:0})}return Ut})(),He=(()=>{class Ut{get startAt(){return this._startAt}set startAt(Ne){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))}get selected(){return this._selected}set selected(Ne){this._selected=Ne instanceof J?Ne:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))}get minDate(){return this._minDate}set minDate(Ne){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))}get maxDate(){return this._maxDate}set maxDate(Ne){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))}get activeDate(){return this._clampedActiveDate}set activeDate(Ne){this._clampedActiveDate=this._dateAdapter.clampDate(Ne,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(Ne){const Ft=this._currentView!==Ne?Ne:null;this._currentView=Ne,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),Ft&&this.viewChanged.emit(Ft)}constructor(Ne,Ft,Pt,ln){this._dateAdapter=Ft,this._dateFormats=Pt,this._changeDetectorRef=ln,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new _.vpe,this.yearSelected=new _.vpe,this.monthSelected=new _.vpe,this.viewChanged=new _.vpe(!0),this._userSelection=new _.vpe,this._userDragDrop=new _.vpe,this._activeDrag=null,this.stateChanges=new i.x,this._intlChanges=Ne.changes.subscribe(()=>{ln.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new v.C5(this.headerComponent||it),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(Ne){const Ft=Ne.minDate&&!this._dateAdapter.sameDate(Ne.minDate.previousValue,Ne.minDate.currentValue)?Ne.minDate:void 0,Pt=Ne.maxDate&&!this._dateAdapter.sameDate(Ne.maxDate.previousValue,Ne.maxDate.currentValue)?Ne.maxDate:void 0,ln=Ft||Pt||Ne.dateFilter;if(ln&&!ln.firstChange){const Fn=this._getCurrentViewComponent();Fn&&(this._changeDetectorRef.detectChanges(),Fn._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(Ne){const Ft=Ne.value;(this.selected instanceof J||Ft&&!this._dateAdapter.sameDate(Ft,this.selected))&&this.selectedChange.emit(Ft),this._userSelection.emit(Ne)}_yearSelectedInMultiYearView(Ne){this.yearSelected.emit(Ne)}_monthSelectedInYearView(Ne){this.monthSelected.emit(Ne)}_goToDateInView(Ne,Ft){this.activeDate=Ne,this.currentView=Ft}_dragStarted(Ne){this._activeDrag=Ne}_dragEnded(Ne){this._activeDrag&&(Ne.value&&this._userDragDrop.emit(Ne),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)(_.Y36(Ve),_.Y36(m._A,8),_.Y36(m.sG,8),_.Y36(_.sBO))};static#t=this.\u0275cmp=_.Xpm({type:Ut,selectors:[["mat-calendar"]],viewQuery:function(Ft,Pt){if(1&Ft&&(_.Gf(fe,5),_.Gf(wt,5),_.Gf(Kt,5)),2&Ft){let ln;_.iGM(ln=_.CRH())&&(Pt.monthView=ln.first),_.iGM(ln=_.CRH())&&(Pt.yearView=ln.first),_.iGM(ln=_.CRH())&&(Pt.multiYearView=ln.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[_._Bn([Ge]),_.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(Ft,Pt){1&Ft&&(_.YNc(0,G,0,0,"ng-template",0),_.TgZ(1,"div",1),_.YNc(2,Se,1,11,"mat-month-view",2),_.YNc(3,ce,1,6,"mat-year-view",3),_.YNc(4,ge,1,6,"mat-multi-year-view",4),_.qZA()),2&Ft&&(_.Q6J("cdkPortalOutlet",Pt._calendarHeaderPortal),_.xp6(1),_.Q6J("ngSwitch",Pt.currentView),_.xp6(1),_.Q6J("ngSwitchCase","month"),_.xp6(1),_.Q6J("ngSwitchCase","year"),_.xp6(1),_.Q6J("ngSwitchCase","multi-year"))},dependencies:[b.RF,b.n9,e.kH,v.Pl,fe,wt,Kt],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}return Ut})();const Ye={transformPanel:(0,I.X$)("transformPanel",[(0,I.eR)("void => enter-dropdown",(0,I.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,I.F4)([(0,I.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,I.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,I.eR)("void => enter-dialog",(0,I.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,I.F4)([(0,I.oB)({opacity:0,transform:"scale(0.7)"}),(0,I.oB)({transform:"none",opacity:1})]))),(0,I.eR)("* => void",(0,I.jt)("100ms linear",(0,I.oB)({opacity:0})))]),fadeInCalendar:(0,I.X$)("fadeInCalendar",[(0,I.SB)("void",(0,I.oB)({opacity:0})),(0,I.SB)("enter",(0,I.oB)({opacity:1})),(0,I.eR)("void => *",(0,I.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let st=0;const at=new _.OlP("mat-datepicker-scroll-strategy"),bt={provide:at,deps:[t.aV],useFactory:function St(Ut){return()=>Ut.scrollStrategies.reposition()}},At=(0,m.pj)(class{constructor(Ut){this._elementRef=Ut}});let on=(()=>{class Ut extends At{constructor(Ne,Ft,Pt,ln,Fn,vi){super(Ne),this._changeDetectorRef=Ft,this._globalModel=Pt,this._dateAdapter=ln,this._rangeSelectionStrategy=Fn,this._subscriptions=new c.w0,this._animationDone=new i.x,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=vi.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(Ne){const Ft=this._model.selection,Pt=Ne.value,ln=Ft instanceof J;if(ln&&this._rangeSelectionStrategy){const Fn=this._rangeSelectionStrategy.selectionFinished(Pt,Ft,Ne.event);this._model.updateSelection(Fn,this)}else Pt&&(ln||!this._dateAdapter.sameDate(Pt,Ft))&&this._model.add(Pt);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(Ne){this._model.updateSelection(Ne.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(Ne){this._isAnimating="start"===Ne.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(Ne,Ft){this._model=Ne?this._globalModel.clone():this._globalModel,this._actionsPortal=Ne,Ft&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)(_.Y36(_.SBq),_.Y36(_.sBO),_.Y36(q),_.Y36(m._A),_.Y36(tt,8),_.Y36(Ve))};static#t=this.\u0275cmp=_.Xpm({type:Ut,selectors:[["mat-datepicker-content"]],viewQuery:function(Ft,Pt){if(1&Ft&&_.Gf(He,5),2&Ft){let ln;_.iGM(ln=_.CRH())&&(Pt._calendar=ln.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(Ft,Pt){1&Ft&&_.WFA("@transformPanel.start",function(Fn){return Pt._handleAnimationEvent(Fn)})("@transformPanel.done",function(Fn){return Pt._handleAnimationEvent(Fn)}),2&Ft&&(_.d8E("@transformPanel",Pt._animationState),_.ekj("mat-datepicker-content-touch",Pt.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[_.qOj],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(Ft,Pt){if(1&Ft&&(_.TgZ(0,"div",0)(1,"mat-calendar",1),_.NdJ("yearSelected",function(Fn){return Pt.datepicker._selectYear(Fn)})("monthSelected",function(Fn){return Pt.datepicker._selectMonth(Fn)})("viewChanged",function(Fn){return Pt.datepicker._viewChanged(Fn)})("_userSelection",function(Fn){return Pt._handleUserSelection(Fn)})("_userDragDrop",function(Fn){return Pt._handleUserDragDrop(Fn)}),_.qZA(),_.YNc(2,Ie,0,0,"ng-template",2),_.TgZ(3,"button",3),_.NdJ("focus",function(){return Pt._closeButtonFocused=!0})("blur",function(){return Pt._closeButtonFocused=!1})("click",function(){return Pt.datepicker.close()}),_._uU(4),_.qZA()()),2&Ft){let ln;_.ekj("mat-datepicker-content-container-with-custom-header",Pt.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",Pt._actionsPortal),_.uIk("aria-modal",!0)("aria-labelledby",null!==(ln=Pt._dialogLabelId)&&void 0!==ln?ln:void 0),_.xp6(1),_.Q6J("id",Pt.datepicker.id)("ngClass",Pt.datepicker.panelClass)("startAt",Pt.datepicker.startAt)("startView",Pt.datepicker.startView)("minDate",Pt.datepicker._getMinDate())("maxDate",Pt.datepicker._getMaxDate())("dateFilter",Pt.datepicker._getDateFilter())("headerComponent",Pt.datepicker.calendarHeaderComponent)("selected",Pt._getSelected())("dateClass",Pt.datepicker.dateClass)("comparisonStart",Pt.comparisonStart)("comparisonEnd",Pt.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",Pt.startDateAccessibleName)("endDateAccessibleName",Pt.endDateAccessibleName),_.xp6(1),_.Q6J("cdkPortalOutlet",Pt._actionsPortal),_.xp6(1),_.ekj("cdk-visually-hidden",!Pt._closeButtonFocused),_.Q6J("color",Pt.color||"primary"),_.xp6(1),_.Oqu(Pt._closeButtonText)}},dependencies:[b.mk,P.lW,e.mK,v.Pl,He],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[Ye.transformPanel,Ye.fadeInCalendar]},changeDetection:0})}return Ut})(),En=(()=>{class Ut{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(Ne){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(Ne){this._color=Ne}get touchUi(){return this._touchUi}set touchUi(Ne){this._touchUi=(0,D.Ig)(Ne)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(Ne){const Ft=(0,D.Ig)(Ne);Ft!==this._disabled&&(this._disabled=Ft,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(Ne){this._restoreFocus=(0,D.Ig)(Ne)}get panelClass(){return this._panelClass}set panelClass(Ne){this._panelClass=(0,D.du)(Ne)}get opened(){return this._opened}set opened(Ne){(0,D.Ig)(Ne)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(Ne,Ft,Pt,ln,Fn,vi,Er){this._overlay=Ne,this._ngZone=Ft,this._viewContainerRef=Pt,this._dateAdapter=Fn,this._dir=vi,this._model=Er,this._inputStateChanges=c.w0.EMPTY,this._document=(0,_.f3M)(b.K0),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new _.vpe,this.monthSelected=new _.vpe,this.viewChanged=new _.vpe(!0),this.openedStream=new _.vpe,this.closedStream=new _.vpe,this._opened=!1,this.id="mat-datepicker-"+st++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new i.x,this._scrollStrategy=ln}ngOnChanges(Ne){const Ft=Ne.xPosition||Ne.yPosition;if(Ft&&!Ft.firstChange&&this._overlayRef){const Pt=this._overlayRef.getConfig().positionStrategy;Pt instanceof t._G&&(this._setConnectedPositions(Pt),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(Ne){this._model.add(Ne)}_selectYear(Ne){this.yearSelected.emit(Ne)}_selectMonth(Ne){this.monthSelected.emit(Ne)}_viewChanged(Ne){this.viewChanged.emit(Ne)}registerInput(Ne){return this._inputStateChanges.unsubscribe(),this.datepickerInput=Ne,this._inputStateChanges=Ne.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(Ne){this._actionsPortal=Ne,this._componentRef?.instance._assignActions(Ne,!0)}removeActions(Ne){Ne===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,x.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const Ne=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,Ft=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:Pt,location:ln}=this._componentRef;Pt._startExitAnimation(),Pt._animationDone.pipe((0,A.q)(1)).subscribe(()=>{const Fn=this._document.activeElement;Ne&&(!Fn||Fn===this._document.activeElement||ln.nativeElement.contains(Fn))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}Ne?setTimeout(Ft):Ft()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(Ne){Ne.datepicker=this,Ne.color=this.color,Ne._dialogLabelId=this.datepickerInput.getOverlayLabelId(),Ne._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const Ne=this.touchUi,Ft=new v.C5(on,this._viewContainerRef),Pt=this._overlayRef=this._overlay.create(new t.X_({positionStrategy:Ne?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[Ne?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:Ne?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(Ne?"dialog":"popup")}));this._getCloseStream(Pt).subscribe(ln=>{ln&&ln.preventDefault(),this.close()}),Pt.keydownEvents().subscribe(ln=>{const Fn=ln.keyCode;(Fn===g.LH||Fn===g.JH||Fn===g.oh||Fn===g.SV||Fn===g.Ku||Fn===g.VM)&&ln.preventDefault()}),this._componentRef=Pt.attach(Ft),this._forwardContentValues(this._componentRef.instance),Ne||this._ngZone.onStable.pipe((0,A.q)(1)).subscribe(()=>Pt.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const Ne=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(Ne)}_setConnectedPositions(Ne){const Ft="end"===this.xPosition?"end":"start",Pt="start"===Ft?"end":"start",ln="above"===this.yPosition?"bottom":"top",Fn="top"===ln?"bottom":"top";return Ne.withPositions([{originX:Ft,originY:Fn,overlayX:Ft,overlayY:ln},{originX:Ft,originY:ln,overlayX:Ft,overlayY:Fn},{originX:Pt,originY:Fn,overlayX:Pt,overlayY:ln},{originX:Pt,originY:ln,overlayX:Pt,overlayY:Fn}])}_getCloseStream(Ne){const Ft=["ctrlKey","shiftKey","metaKey"];return(0,d.T)(Ne.backdropClick(),Ne.detachments(),Ne.keydownEvents().pipe((0,O.h)(Pt=>Pt.keyCode===g.hY&&!(0,g.Vb)(Pt)||this.datepickerInput&&(0,g.Vb)(Pt,"altKey")&&Pt.keyCode===g.LH&&Ft.every(ln=>!(0,g.Vb)(Pt,ln)))))}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)(_.Y36(t.aV),_.Y36(_.R0b),_.Y36(_.s_b),_.Y36(at),_.Y36(m._A,8),_.Y36(S.Is,8),_.Y36(q))};static#t=this.\u0275dir=_.lG2({type:Ut,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[_.TTD]})}return Ut})(),tn=(()=>{class Ut extends En{static#e=this.\u0275fac=function(){let Ne;return function(Pt){return(Ne||(Ne=_.n5z(Ut)))(Pt||Ut)}}();static#t=this.\u0275cmp=_.Xpm({type:Ut,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[_._Bn([Ge,{provide:En,useExisting:Ut}]),_.qOj],decls:0,vars:0,template:function(Ft,Pt){},encapsulation:2,changeDetection:0})}return Ut})();class Mn{constructor(On,Ne){this.target=On,this.targetElement=Ne,this.value=this.target.value}}let In=(()=>{class Ut{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(Ne){this._assignValueProgrammatically(Ne)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(Ne){const Ft=(0,D.Ig)(Ne),Pt=this._elementRef.nativeElement;this._disabled!==Ft&&(this._disabled=Ft,this.stateChanges.next(void 0)),Ft&&this._isInitialized&&Pt.blur&&Pt.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(Ne){this._model=Ne,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(Ft=>{if(this._shouldHandleChangeEvent(Ft)){const Pt=this._getValueFromModel(Ft.selection);this._lastValueValid=this._isValidValue(Pt),this._cvaOnChange(Pt),this._onTouched(),this._formatValue(Pt),this.dateInput.emit(new Mn(this,this._elementRef.nativeElement)),this.dateChange.emit(new Mn(this,this._elementRef.nativeElement))}})}constructor(Ne,Ft,Pt){this._elementRef=Ne,this._dateAdapter=Ft,this._dateFormats=Pt,this.dateChange=new _.vpe,this.dateInput=new _.vpe,this.stateChanges=new i.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=c.w0.EMPTY,this._localeSubscription=c.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=ln=>{const Fn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ln.value));return!Fn||this._matchesFilter(Fn)?null:{matDatepickerFilter:!0}},this._minValidator=ln=>{const Fn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ln.value)),vi=this._getMinDate();return!vi||!Fn||this._dateAdapter.compareDate(vi,Fn)<=0?null:{matDatepickerMin:{min:vi,actual:Fn}}},this._maxValidator=ln=>{const Fn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ln.value)),vi=this._getMaxDate();return!vi||!Fn||this._dateAdapter.compareDate(vi,Fn)>=0?null:{matDatepickerMax:{max:vi,actual:Fn}}},this._lastValueValid=!1,this._localeSubscription=Ft.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(Ne){(function Nn(Ut,On){const Ne=Object.keys(Ut);for(let Ft of Ne){const{previousValue:Pt,currentValue:ln}=Ut[Ft];if(!On.isDateInstance(Pt)||!On.isDateInstance(ln))return!0;if(!On.sameDate(Pt,ln))return!0}return!1})(Ne,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(Ne){this._validatorOnChange=Ne}validate(Ne){return this._validator?this._validator(Ne):null}writeValue(Ne){this._assignValueProgrammatically(Ne)}registerOnChange(Ne){this._cvaOnChange=Ne}registerOnTouched(Ne){this._onTouched=Ne}setDisabledState(Ne){this.disabled=Ne}_onKeydown(Ne){(0,g.Vb)(Ne,"altKey")&&Ne.keyCode===g.JH&&["ctrlKey","shiftKey","metaKey"].every(ln=>!(0,g.Vb)(Ne,ln))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),Ne.preventDefault())}_onInput(Ne){const Ft=this._lastValueValid;let Pt=this._dateAdapter.parse(Ne,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(Pt),Pt=this._dateAdapter.getValidDateOrNull(Pt);const ln=!this._dateAdapter.sameDate(Pt,this.value);!Pt||ln?this._cvaOnChange(Pt):(Ne&&!this.value&&this._cvaOnChange(Pt),Ft!==this._lastValueValid&&this._validatorOnChange()),ln&&(this._assignValue(Pt),this.dateInput.emit(new Mn(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Mn(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(Ne){this._elementRef.nativeElement.value=null!=Ne?this._dateAdapter.format(Ne,this._dateFormats.display.dateInput):""}_assignValue(Ne){this._model?(this._assignValueToModel(Ne),this._pendingValue=null):this._pendingValue=Ne}_isValidValue(Ne){return!Ne||this._dateAdapter.isValid(Ne)}_parentDisabled(){return!1}_assignValueProgrammatically(Ne){Ne=this._dateAdapter.deserialize(Ne),this._lastValueValid=this._isValidValue(Ne),Ne=this._dateAdapter.getValidDateOrNull(Ne),this._assignValue(Ne),this._formatValue(Ne)}_matchesFilter(Ne){const Ft=this._getDateFilter();return!Ft||Ft(Ne)}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)(_.Y36(_.SBq),_.Y36(m._A,8),_.Y36(m.sG,8))};static#t=this.\u0275dir=_.lG2({type:Ut,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[_.TTD]})}return Ut})();const $n={provide:T.JU,useExisting:(0,_.Gpc)(()=>vn),multi:!0},ni={provide:T.Cf,useExisting:(0,_.Gpc)(()=>vn),multi:!0};let vn=(()=>{class Ut extends In{set matDatepicker(Ne){Ne&&(this._datepicker=Ne,this._closedSubscription=Ne.closedStream.subscribe(()=>this._onTouched()),this._registerModel(Ne.registerInput(this)))}get min(){return this._min}set min(Ne){const Ft=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne));this._dateAdapter.sameDate(Ft,this._min)||(this._min=Ft,this._validatorOnChange())}get max(){return this._max}set max(Ne){const Ft=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ne));this._dateAdapter.sameDate(Ft,this._max)||(this._max=Ft,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(Ne){const Ft=this._matchesFilter(this.value);this._dateFilter=Ne,this._matchesFilter(this.value)!==Ft&&this._validatorOnChange()}constructor(Ne,Ft,Pt,ln){super(Ne,Ft,Pt),this._formField=ln,this._closedSubscription=c.w0.EMPTY,this._validator=T.kI.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(Ne){return Ne}_assignValueToModel(Ne){this._model&&this._model.updateSelection(Ne,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(Ne){return Ne.source!==this}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)(_.Y36(_.SBq),_.Y36(m._A,8),_.Y36(m.sG,8),_.Y36(L.G_,8))};static#t=this.\u0275dir=_.lG2({type:Ut,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(Ft,Pt){1&Ft&&_.NdJ("input",function(Fn){return Pt._onInput(Fn.target.value)})("change",function(){return Pt._onChange()})("blur",function(){return Pt._onBlur()})("keydown",function(Fn){return Pt._onKeydown(Fn)}),2&Ft&&(_.Ikx("disabled",Pt.disabled),_.uIk("aria-haspopup",Pt._datepicker?"dialog":null)("aria-owns",(null==Pt._datepicker?null:Pt._datepicker.opened)&&Pt._datepicker.id||null)("min",Pt.min?Pt._dateAdapter.toIso8601(Pt.min):null)("max",Pt.max?Pt._dateAdapter.toIso8601(Pt.max):null)("data-mat-calendar",Pt._datepicker?Pt._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[_._Bn([$n,ni,{provide:y.Jk,useExisting:Ut}]),_.qOj]})}return Ut})(),gn=(()=>{class Ut{static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)};static#t=this.\u0275dir=_.lG2({type:Ut,selectors:[["","matDatepickerToggleIcon",""]]})}return Ut})(),yn=(()=>{class Ut{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(Ne){this._disabled=(0,D.Ig)(Ne)}constructor(Ne,Ft,Pt){this._intl=Ne,this._changeDetectorRef=Ft,this._stateChanges=c.w0.EMPTY;const ln=Number(Pt);this.tabIndex=ln||0===ln?ln:null}ngOnChanges(Ne){Ne.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(Ne){this.datepicker&&!this.disabled&&(this.datepicker.open(),Ne.stopPropagation())}_watchStateChanges(){const Ne=this.datepicker?this.datepicker.stateChanges:(0,f.of)(),Ft=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,f.of)(),Pt=this.datepicker?(0,d.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,f.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,d.T)(this._intl.changes,Ne,Ft,Pt).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)(_.Y36(Ve),_.Y36(_.sBO),_.$8M("tabindex"))};static#t=this.\u0275cmp=_.Xpm({type:Ut,selectors:[["mat-datepicker-toggle"]],contentQueries:function(Ft,Pt,ln){if(1&Ft&&_.Suo(ln,gn,5),2&Ft){let Fn;_.iGM(Fn=_.CRH())&&(Pt._customIcon=Fn.first)}},viewQuery:function(Ft,Pt){if(1&Ft&&_.Gf(Ce,5),2&Ft){let ln;_.iGM(ln=_.CRH())&&(Pt._button=ln.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(Ft,Pt){1&Ft&&_.NdJ("click",function(Fn){return Pt._open(Fn)}),2&Ft&&(_.uIk("tabindex",null)("data-mat-calendar",Pt.datepicker?Pt.datepicker.id:null),_.ekj("mat-datepicker-toggle-active",Pt.datepicker&&Pt.datepicker.opened)("mat-accent",Pt.datepicker&&"accent"===Pt.datepicker.color)("mat-warn",Pt.datepicker&&"warn"===Pt.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[_.TTD],ngContentSelectors:ke,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(Ft,Pt){1&Ft&&(_.F$t(Ae),_.TgZ(0,"button",0,1),_.YNc(2,pe,2,0,"svg",2),_.Hsn(3),_.qZA()),2&Ft&&(_.Q6J("disabled",Pt.disabled)("disableRipple",Pt.disableRipple),_.uIk("aria-haspopup",Pt.datepicker?"dialog":null)("aria-label",Pt.ariaLabel||Pt._intl.openCalendarLabel)("tabindex",Pt.disabled?-1:Pt.tabIndex),_.xp6(2),_.Q6J("ngIf",!Pt._customIcon))},dependencies:[b.O5,P.RK],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return Ut})(),Xn=(()=>{class Ut{static#e=this.\u0275fac=function(Ft){return new(Ft||Ut)};static#t=this.\u0275mod=_.oAB({type:Ut});static#n=this.\u0275inj=_.cJS({providers:[Ve,bt],imports:[b.ez,P.ot,t.U8,e.rt,v.eL,m.BQ,C.ZD]})}return Ut})()},7700:(Wn,et,p)=>{"use strict";p.d(et,{WI:()=>Ze,uw:()=>X,H8:()=>_e,vA:()=>ge,xY:()=>q,Is:()=>Ee,so:()=>Ve,uh:()=>J});var e=p(3651),t=p(6814),v=p(5879),b=p(4300),_=p(2831),P=p(8484),C=p(6028),m=p(8645),i=p(4911),c=p(2096),d=p(9388),f=p(7921);function g(Xe,tt){}class S{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let A=(()=>{class Xe extends P.en{constructor(gt,Qe,yt,Dt,fe,ze,Tt,Kt){super(),this._elementRef=gt,this._focusTrapFactory=Qe,this._config=Dt,this._interactivityChecker=fe,this._ngZone=ze,this._overlayRef=Tt,this._focusMonitor=Kt,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=Jt=>{this._portalOutlet.hasAttached();const qt=this._portalOutlet.attachDomPortal(Jt);return this._contentAttached(),qt},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=yt}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(gt){this._portalOutlet.hasAttached();const Qe=this._portalOutlet.attachComponentPortal(gt);return this._contentAttached(),Qe}attachTemplatePortal(gt){this._portalOutlet.hasAttached();const Qe=this._portalOutlet.attachTemplatePortal(gt);return this._contentAttached(),Qe}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(gt,Qe){this._interactivityChecker.isFocusable(gt)||(gt.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const yt=()=>{gt.removeEventListener("blur",yt),gt.removeEventListener("mousedown",yt),gt.removeAttribute("tabindex")};gt.addEventListener("blur",yt),gt.addEventListener("mousedown",yt)})),gt.focus(Qe)}_focusByCssSelector(gt,Qe){let yt=this._elementRef.nativeElement.querySelector(gt);yt&&this._forceFocus(yt,Qe)}_trapFocus(){const gt=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||gt.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(Qe=>{Qe||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const gt=this._config.restoreFocus;let Qe=null;if("string"==typeof gt?Qe=this._document.querySelector(gt):"boolean"==typeof gt?Qe=gt?this._elementFocusedBeforeDialogWasOpened:null:gt&&(Qe=gt),this._config.restoreFocus&&Qe&&"function"==typeof Qe.focus){const yt=(0,_.ht)(),Dt=this._elementRef.nativeElement;(!yt||yt===this._document.body||yt===Dt||Dt.contains(yt))&&(this._focusMonitor?(this._focusMonitor.focusVia(Qe,this._closeInteractionType),this._closeInteractionType=null):Qe.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const gt=this._elementRef.nativeElement,Qe=(0,_.ht)();return gt===Qe||gt.contains(Qe)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,_.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(Qe){return new(Qe||Xe)(v.Y36(v.SBq),v.Y36(b.qV),v.Y36(t.K0,8),v.Y36(S),v.Y36(b.ic),v.Y36(v.R0b),v.Y36(e.Iu),v.Y36(b.tE))};static#t=this.\u0275cmp=v.Xpm({type:Xe,selectors:[["cdk-dialog-container"]],viewQuery:function(Qe,yt){if(1&Qe&&v.Gf(P.Pl,7),2&Qe){let Dt;v.iGM(Dt=v.CRH())&&(yt._portalOutlet=Dt.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(Qe,yt){2&Qe&&v.uIk("id",yt._config.id||null)("role",yt._config.role)("aria-modal",yt._config.ariaModal)("aria-labelledby",yt._config.ariaLabel?null:yt._ariaLabelledBy)("aria-label",yt._config.ariaLabel)("aria-describedby",yt._config.ariaDescribedBy||null)},features:[v.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Qe,yt){1&Qe&&v.YNc(0,g,0,0,"ng-template",0)},dependencies:[P.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return Xe})();class N{constructor(tt,gt){this.overlayRef=tt,this.config=gt,this.closed=new m.x,this.disableClose=gt.disableClose,this.backdropClick=tt.backdropClick(),this.keydownEvents=tt.keydownEvents(),this.outsidePointerEvents=tt.outsidePointerEvents(),this.id=gt.id,this.keydownEvents.subscribe(Qe=>{Qe.keyCode===C.hY&&!this.disableClose&&!(0,C.Vb)(Qe)&&(Qe.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=tt.detachments().subscribe(()=>{!1!==gt.closeOnOverlayDetachments&&this.close()})}close(tt,gt){if(this.containerInstance){const Qe=this.closed;this.containerInstance._closeInteractionType=gt?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),Qe.next(tt),Qe.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(tt="",gt=""){return this.overlayRef.updateSize({width:tt,height:gt}),this}addPanelClass(tt){return this.overlayRef.addPanelClass(tt),this}removePanelClass(tt){return this.overlayRef.removePanelClass(tt),this}}const O=new v.OlP("DialogScrollStrategy"),D=new v.OlP("DialogData"),I=new v.OlP("DefaultDialogConfig"),L={provide:O,deps:[e.aV],useFactory:function T(Xe){return()=>Xe.scrollStrategies.block()}};let y=0,B=(()=>{class Xe{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(gt,Qe,yt,Dt,fe,ze){this._overlay=gt,this._injector=Qe,this._defaultOptions=yt,this._parentDialog=Dt,this._overlayContainer=fe,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new m.x,this._afterOpenedAtThisLevel=new m.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,i.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,f.O)(void 0))),this._scrollStrategy=ze}open(gt,Qe){(Qe={...this._defaultOptions||new S,...Qe}).id=Qe.id||"cdk-dialog-"+y++,Qe.id&&this.getDialogById(Qe.id);const Dt=this._getOverlayConfig(Qe),fe=this._overlay.create(Dt),ze=new N(fe,Qe),Tt=this._attachContainer(fe,ze,Qe);return ze.containerInstance=Tt,this._attachDialogContent(gt,ze,Tt,Qe),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(ze),ze.closed.subscribe(()=>this._removeOpenDialog(ze,!0)),this.afterOpened.next(ze),ze}closeAll(){z(this.openDialogs,gt=>gt.close())}getDialogById(gt){return this.openDialogs.find(Qe=>Qe.id===gt)}ngOnDestroy(){z(this._openDialogsAtThisLevel,gt=>{!1===gt.config.closeOnDestroy&&this._removeOpenDialog(gt,!1)}),z(this._openDialogsAtThisLevel,gt=>gt.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(gt){const Qe=new e.X_({positionStrategy:gt.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:gt.scrollStrategy||this._scrollStrategy(),panelClass:gt.panelClass,hasBackdrop:gt.hasBackdrop,direction:gt.direction,minWidth:gt.minWidth,minHeight:gt.minHeight,maxWidth:gt.maxWidth,maxHeight:gt.maxHeight,width:gt.width,height:gt.height,disposeOnNavigation:gt.closeOnNavigation});return gt.backdropClass&&(Qe.backdropClass=gt.backdropClass),Qe}_attachContainer(gt,Qe,yt){const Dt=yt.injector||yt.viewContainerRef?.injector,fe=[{provide:S,useValue:yt},{provide:N,useValue:Qe},{provide:e.Iu,useValue:gt}];let ze;yt.container?"function"==typeof yt.container?ze=yt.container:(ze=yt.container.type,fe.push(...yt.container.providers(yt))):ze=A;const Tt=new P.C5(ze,yt.viewContainerRef,v.zs3.create({parent:Dt||this._injector,providers:fe}),yt.componentFactoryResolver);return gt.attach(Tt).instance}_attachDialogContent(gt,Qe,yt,Dt){if(gt instanceof v.Rgc){const fe=this._createInjector(Dt,Qe,yt,void 0);let ze={$implicit:Dt.data,dialogRef:Qe};Dt.templateContext&&(ze={...ze,..."function"==typeof Dt.templateContext?Dt.templateContext():Dt.templateContext}),yt.attachTemplatePortal(new P.UE(gt,null,ze,fe))}else{const fe=this._createInjector(Dt,Qe,yt,this._injector),ze=yt.attachComponentPortal(new P.C5(gt,Dt.viewContainerRef,fe,Dt.componentFactoryResolver));Qe.componentInstance=ze.instance}}_createInjector(gt,Qe,yt,Dt){const fe=gt.injector||gt.viewContainerRef?.injector,ze=[{provide:D,useValue:gt.data},{provide:N,useValue:Qe}];return gt.providers&&("function"==typeof gt.providers?ze.push(...gt.providers(Qe,gt,yt)):ze.push(...gt.providers)),gt.direction&&(!fe||!fe.get(d.Is,null,{optional:!0}))&&ze.push({provide:d.Is,useValue:{value:gt.direction,change:(0,c.of)()}}),v.zs3.create({parent:fe||Dt,providers:ze})}_removeOpenDialog(gt,Qe){const yt=this.openDialogs.indexOf(gt);yt>-1&&(this.openDialogs.splice(yt,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Dt,fe)=>{Dt?fe.setAttribute("aria-hidden",Dt):fe.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),Qe&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const gt=this._overlayContainer.getContainerElement();if(gt.parentElement){const Qe=gt.parentElement.children;for(let yt=Qe.length-1;yt>-1;yt--){const Dt=Qe[yt];Dt!==gt&&"SCRIPT"!==Dt.nodeName&&"STYLE"!==Dt.nodeName&&!Dt.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Dt,Dt.getAttribute("aria-hidden")),Dt.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const gt=this._parentDialog;return gt?gt._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(Qe){return new(Qe||Xe)(v.LFG(e.aV),v.LFG(v.zs3),v.LFG(I,8),v.LFG(Xe,12),v.LFG(e.Xj),v.LFG(O))};static#t=this.\u0275prov=v.Yz7({token:Xe,factory:Xe.\u0275fac})}return Xe})();function z(Xe,tt){let gt=Xe.length;for(;gt--;)tt(Xe[gt])}let ne=(()=>{class Xe{static#e=this.\u0275fac=function(Qe){return new(Qe||Xe)};static#t=this.\u0275mod=v.oAB({type:Xe});static#n=this.\u0275inj=v.cJS({providers:[B,L],imports:[e.U8,P.eL,b.rt,P.eL]})}return Xe})();var ae=p(2495),Fe=p(3019),Y=p(2181),le=p(8180),G=p(3680);function ce(Xe,tt){}p(6825);class ge{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Ie="mdc-dialog--open",Ce="mdc-dialog--opening",pe="mdc-dialog--closing";let he=(()=>{class Xe extends A{constructor(gt,Qe,yt,Dt,fe,ze,Tt,Kt){super(gt,Qe,yt,Dt,fe,ze,Tt,Kt),this._animationStateChanged=new v.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(gt){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:gt})}static#e=this.\u0275fac=function(Qe){return new(Qe||Xe)(v.Y36(v.SBq),v.Y36(b.qV),v.Y36(t.K0,8),v.Y36(ge),v.Y36(b.ic),v.Y36(v.R0b),v.Y36(e.Iu),v.Y36(b.tE))};static#t=this.\u0275cmp=v.Xpm({type:Xe,selectors:[["ng-component"]],features:[v.qOj],decls:0,vars:0,template:function(Qe,yt){},encapsulation:2})}return Xe})();const we="--mat-dialog-transition-duration";function Te(Xe){return null==Xe?null:"number"==typeof Xe?Xe:Xe.endsWith("ms")?(0,ae.su)(Xe.substring(0,Xe.length-2)):Xe.endsWith("s")?1e3*(0,ae.su)(Xe.substring(0,Xe.length-1)):"0"===Xe?0:null}let Oe=(()=>{class Xe extends he{constructor(gt,Qe,yt,Dt,fe,ze,Tt,Kt,Jt){super(gt,Qe,yt,Dt,fe,ze,Tt,Jt),this._animationMode=Kt,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Te(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Te(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(we,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Ce,Ie)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Ie),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Ie),this._animationsEnabled?(this._hostElement.style.setProperty(we,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(pe)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Ce,pe)}_waitForAnimationToComplete(gt,Qe){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(Qe,gt)}_requestAnimationFrame(gt){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(gt):gt()})}static#e=this.\u0275fac=function(Qe){return new(Qe||Xe)(v.Y36(v.SBq),v.Y36(b.qV),v.Y36(t.K0,8),v.Y36(ge),v.Y36(b.ic),v.Y36(v.R0b),v.Y36(e.Iu),v.Y36(v.QbO,8),v.Y36(b.tE))};static#t=this.\u0275cmp=v.Xpm({type:Xe,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(Qe,yt){2&Qe&&(v.Ikx("id",yt._config.id),v.uIk("aria-modal",yt._config.ariaModal)("role",yt._config.role)("aria-labelledby",yt._config.ariaLabel?null:yt._ariaLabelledBy)("aria-label",yt._config.ariaLabel)("aria-describedby",yt._config.ariaDescribedBy||null),v.ekj("_mat-animation-noopable",!yt._animationsEnabled))},features:[v.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(Qe,yt){1&Qe&&(v.TgZ(0,"div",0)(1,"div",1),v.YNc(2,ce,0,0,"ng-template",2),v.qZA()())},dependencies:[P.Pl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return Xe})();class Ve{constructor(tt,gt,Qe){this._ref=tt,this._containerInstance=Qe,this._afterOpened=new m.x,this._beforeClosed=new m.x,this._state=0,this.disableClose=gt.disableClose,this.id=tt.id,Qe._animationStateChanged.pipe((0,Y.h)(yt=>"opened"===yt.state),(0,le.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Qe._animationStateChanged.pipe((0,Y.h)(yt=>"closed"===yt.state),(0,le.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),tt.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Fe.T)(this.backdropClick(),this.keydownEvents().pipe((0,Y.h)(yt=>yt.keyCode===C.hY&&!this.disableClose&&!(0,C.Vb)(yt)))).subscribe(yt=>{this.disableClose||(yt.preventDefault(),function ft(Xe,tt,gt){Xe._closeInteractionType=tt,Xe.close(gt)}(this,"keydown"===yt.type?"keyboard":"mouse"))})}close(tt){this._result=tt,this._containerInstance._animationStateChanged.pipe((0,Y.h)(gt=>"closing"===gt.state),(0,le.q)(1)).subscribe(gt=>{this._beforeClosed.next(tt),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),gt.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(tt){let gt=this._ref.config.positionStrategy;return tt&&(tt.left||tt.right)?tt.left?gt.left(tt.left):gt.right(tt.right):gt.centerHorizontally(),tt&&(tt.top||tt.bottom)?tt.top?gt.top(tt.top):gt.bottom(tt.bottom):gt.centerVertically(),this._ref.updatePosition(),this}updateSize(tt="",gt=""){return this._ref.updateSize(tt,gt),this}addPanelClass(tt){return this._ref.addPanelClass(tt),this}removePanelClass(tt){return this._ref.removePanelClass(tt),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Ze=new v.OlP("MatMdcDialogData"),Re=new v.OlP("mat-mdc-dialog-default-options"),be=new v.OlP("mat-mdc-dialog-scroll-strategy"),ie={provide:be,deps:[e.aV],useFactory:function Q(Xe){return()=>Xe.scrollStrategies.block()}};let oe=0,ee=(()=>{class Xe{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const gt=this._parentDialog;return gt?gt._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(gt,Qe,yt,Dt,fe,ze,Tt,Kt,Jt,qt){this._overlay=gt,this._defaultOptions=yt,this._parentDialog=Dt,this._dialogRefConstructor=Tt,this._dialogContainerType=Kt,this._dialogDataToken=Jt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new m.x,this._afterOpenedAtThisLevel=new m.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=ge,this.afterAllClosed=(0,i.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,f.O)(void 0))),this._scrollStrategy=ze,this._dialog=Qe.get(B)}open(gt,Qe){let yt;(Qe={...this._defaultOptions||new ge,...Qe}).id=Qe.id||`${this._idPrefix}${oe++}`,Qe.scrollStrategy=Qe.scrollStrategy||this._scrollStrategy();const Dt=this._dialog.open(gt,{...Qe,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:Qe},{provide:S,useValue:Qe}]},templateContext:()=>({dialogRef:yt}),providers:(fe,ze,Tt)=>(yt=new this._dialogRefConstructor(fe,Qe,Tt),yt.updatePosition(Qe?.position),[{provide:this._dialogContainerType,useValue:Tt},{provide:this._dialogDataToken,useValue:ze.data},{provide:this._dialogRefConstructor,useValue:yt}])});return yt.componentInstance=Dt.componentInstance,this.openDialogs.push(yt),this.afterOpened.next(yt),yt.afterClosed().subscribe(()=>{const fe=this.openDialogs.indexOf(yt);fe>-1&&(this.openDialogs.splice(fe,1),this.openDialogs.length||this._getAfterAllClosed().next())}),yt}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(gt){return this.openDialogs.find(Qe=>Qe.id===gt)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(gt){let Qe=gt.length;for(;Qe--;)gt[Qe].close()}static#e=this.\u0275fac=function(Qe){v.$Z()};static#t=this.\u0275prov=v.Yz7({token:Xe,factory:Xe.\u0275fac})}return Xe})(),X=(()=>{class Xe extends ee{constructor(gt,Qe,yt,Dt,fe,ze,Tt,Kt){super(gt,Qe,Dt,ze,Tt,fe,Ve,Oe,Ze,Kt),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(Qe){return new(Qe||Xe)(v.LFG(e.aV),v.LFG(v.zs3),v.LFG(t.Ye,8),v.LFG(Re,8),v.LFG(be),v.LFG(Xe,12),v.LFG(e.Xj),v.LFG(v.QbO,8))};static#t=this.\u0275prov=v.Yz7({token:Xe,factory:Xe.\u0275fac})}return Xe})(),$=0,J=(()=>{class Xe{constructor(gt,Qe,yt){this._dialogRef=gt,this._elementRef=Qe,this._dialog=yt,this.id="mat-mdc-dialog-title-"+$++}ngOnInit(){this._dialogRef||(this._dialogRef=function xe(Xe,tt){let gt=Xe.nativeElement.parentElement;for(;gt&&!gt.classList.contains("mat-mdc-dialog-container");)gt=gt.parentElement;return gt?tt.find(Qe=>Qe.id===gt.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const gt=this._dialogRef._containerInstance;gt&&!gt._ariaLabelledBy&&(gt._ariaLabelledBy=this.id)})}static#e=this.\u0275fac=function(Qe){return new(Qe||Xe)(v.Y36(Ve,8),v.Y36(v.SBq),v.Y36(X))};static#t=this.\u0275dir=v.lG2({type:Xe,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(Qe,yt){2&Qe&&v.Ikx("id",yt.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}return Xe})(),q=(()=>{class Xe{static#e=this.\u0275fac=function(Qe){return new(Qe||Xe)};static#t=this.\u0275dir=v.lG2({type:Xe,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}return Xe})(),_e=(()=>{class Xe{constructor(){this.align="start"}static#e=this.\u0275fac=function(Qe){return new(Qe||Xe)};static#t=this.\u0275dir=v.lG2({type:Xe,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(Qe,yt){2&Qe&&v.ekj("mat-mdc-dialog-actions-align-center","center"===yt.align)("mat-mdc-dialog-actions-align-end","end"===yt.align)},inputs:{align:"align"}})}return Xe})(),Ee=(()=>{class Xe{static#e=this.\u0275fac=function(Qe){return new(Qe||Xe)};static#t=this.\u0275mod=v.oAB({type:Xe});static#n=this.\u0275inj=v.cJS({providers:[X,ie],imports:[ne,e.U8,P.eL,G.BQ,G.BQ]})}return Xe})()},4170:(Wn,et,p)=>{"use strict";p.d(et,{G_:()=>gt,TO:()=>Re,KE:()=>Kt,Eo:()=>Ge,lN:()=>Jt,bx:()=>Q,hX:()=>Ve,R9:()=>ee});var e=p(5879),t=p(9388),v=p(2831),b=p(7394),_=p(8645),P=p(3019),C=p(9773),m=p(5592),i=p(2181),c=p(940);class f{constructor(un){this._box=un,this._destroyed=new _.x,this._resizeSubject=new _.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(fn=>this._resizeSubject.next(fn)))}observe(un){return this._elementObservables.has(un)||this._elementObservables.set(un,new m.y(fn=>{const wt=this._resizeSubject.subscribe(fn);return this._resizeObserver?.observe(un,{box:this._box}),()=>{this._resizeObserver?.unobserve(un),wt.unsubscribe(),this._elementObservables.delete(un)}}).pipe((0,i.h)(fn=>fn.some(wt=>wt.target===un)),(0,c.d)({bufferSize:1,refCount:!0}),(0,C.R)(this._destroyed))),this._elementObservables.get(un)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let g=(()=>{class qt{constructor(){this._observers=new Map,this._ngZone=(0,e.f3M)(e.R0b)}ngOnDestroy(){for(const[,fn]of this._observers)fn.destroy();this._observers.clear()}observe(fn,wt){const vt=wt?.box||"content-box";return this._observers.has(vt)||this._observers.set(vt,new f(vt)),this._observers.get(vt).observe(fn)}static#e=this.\u0275fac=function(wt){return new(wt||qt)};static#t=this.\u0275prov=e.Yz7({token:qt,factory:qt.\u0275fac,providedIn:"root"})}return qt})();var S=p(2495),x=p(6825),A=p(6814),N=p(7131),O=p(3680);const D=["notch"],I=["matFormFieldNotchedOutline",""],T=["*"],L=["textField"],y=["iconPrefixContainer"],B=["textPrefixContainer"];function z(qt,un){1&qt&&e._UZ(0,"span",19)}function ne(qt,un){if(1&qt&&(e.TgZ(0,"label",17),e.Hsn(1,1),e.YNc(2,z,1,0,"span",18),e.qZA()),2&qt){const fn=e.oxw(2);e.Q6J("floating",fn._shouldLabelFloat())("monitorResize",fn._hasOutline())("id",fn._labelId),e.uIk("for",fn._control.id),e.xp6(2),e.Q6J("ngIf",!fn.hideRequiredMarker&&fn._control.required)}}function ae(qt,un){if(1&qt&&e.YNc(0,ne,3,5,"label",16),2&qt){const fn=e.oxw();e.Q6J("ngIf",fn._hasFloatingLabel())}}function Fe(qt,un){1&qt&&e._UZ(0,"div",20)}function Y(qt,un){}function le(qt,un){if(1&qt&&e.YNc(0,Y,0,0,"ng-template",22),2&qt){e.oxw(2);const fn=e.MAs(1);e.Q6J("ngTemplateOutlet",fn)}}function G(qt,un){if(1&qt&&(e.TgZ(0,"div",21),e.YNc(1,le,1,1,"ng-template",9),e.qZA()),2&qt){const fn=e.oxw();e.Q6J("matFormFieldNotchedOutlineOpen",fn._shouldLabelFloat()),e.xp6(1),e.Q6J("ngIf",!fn._forceDisplayInfixLabel())}}function Se(qt,un){1&qt&&(e.TgZ(0,"div",23,24),e.Hsn(2,2),e.qZA())}function ce(qt,un){1&qt&&(e.TgZ(0,"div",25,26),e.Hsn(2,3),e.qZA())}function ge(qt,un){}function Ie(qt,un){if(1&qt&&e.YNc(0,ge,0,0,"ng-template",22),2&qt){e.oxw();const fn=e.MAs(1);e.Q6J("ngTemplateOutlet",fn)}}function Ce(qt,un){1&qt&&(e.TgZ(0,"div",27),e.Hsn(1,4),e.qZA())}function pe(qt,un){1&qt&&(e.TgZ(0,"div",28),e.Hsn(1,5),e.qZA())}function Ae(qt,un){1&qt&&e._UZ(0,"div",29)}function ke(qt,un){if(1&qt&&(e.TgZ(0,"div",30),e.Hsn(1,6),e.qZA()),2&qt){const fn=e.oxw();e.Q6J("@transitionMessages",fn._subscriptAnimationState)}}function he(qt,un){if(1&qt&&(e.TgZ(0,"mat-hint",34),e._uU(1),e.qZA()),2&qt){const fn=e.oxw(2);e.Q6J("id",fn._hintLabelId),e.xp6(1),e.Oqu(fn.hintLabel)}}function we(qt,un){if(1&qt&&(e.TgZ(0,"div",31),e.YNc(1,he,2,2,"mat-hint",32),e.Hsn(2,7),e._UZ(3,"div",33),e.Hsn(4,8),e.qZA()),2&qt){const fn=e.oxw();e.Q6J("@transitionMessages",fn._subscriptAnimationState),e.xp6(1),e.Q6J("ngIf",fn.hintLabel)}}const Te=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Oe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Ve=(()=>{class qt{static#e=this.\u0275fac=function(wt){return new(wt||qt)};static#t=this.\u0275dir=e.lG2({type:qt,selectors:[["mat-label"]]})}return qt})(),ft=0;const Ze=new e.OlP("MatError");let Re=(()=>{class qt{constructor(fn,wt){this.id="mat-mdc-error-"+ft++,fn||wt.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(wt){return new(wt||qt)(e.$8M("aria-live"),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:qt,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(wt,vt){2&wt&&e.Ikx("id",vt.id)},inputs:{id:"id"},features:[e._Bn([{provide:Ze,useExisting:qt}])]})}return qt})(),be=0,Q=(()=>{class qt{constructor(){this.align="start",this.id="mat-mdc-hint-"+be++}static#e=this.\u0275fac=function(wt){return new(wt||qt)};static#t=this.\u0275dir=e.lG2({type:qt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(wt,vt){2&wt&&(e.Ikx("id",vt.id),e.uIk("align",null),e.ekj("mat-mdc-form-field-hint-end","end"===vt.align))},inputs:{align:"align",id:"id"}})}return qt})();const ie=new e.OlP("MatPrefix"),oe=new e.OlP("MatSuffix");let ee=(()=>{class qt{constructor(){this._isText=!1}set _isTextSelector(fn){this._isText=!0}static#e=this.\u0275fac=function(wt){return new(wt||qt)};static#t=this.\u0275dir=e.lG2({type:qt,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[e._Bn([{provide:oe,useExisting:qt}])]})}return qt})();const X=new e.OlP("FloatingLabelParent");let $=(()=>{class qt{get floating(){return this._floating}set floating(fn){this._floating=fn,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(fn){this._monitorResize=fn,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(fn){this._elementRef=fn,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,e.f3M)(g),this._ngZone=(0,e.f3M)(e.R0b),this._parent=(0,e.f3M)(X),this._resizeSubscription=new b.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function re(qt){if(null!==qt.offsetParent)return qt.scrollWidth;const fn=qt.cloneNode(!0);fn.style.setProperty("position","absolute"),fn.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(fn);const wt=fn.scrollWidth;return fn.remove(),wt}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(wt){return new(wt||qt)(e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:qt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(wt,vt){2&wt&&e.ekj("mdc-floating-label--float-above",vt.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return qt})();const J="mdc-line-ripple--active",q="mdc-line-ripple--deactivating";let _e=(()=>{class qt{constructor(fn,wt){this._elementRef=fn,this._handleTransitionEnd=vt=>{const it=this._elementRef.nativeElement.classList,He=it.contains(q);"opacity"===vt.propertyName&&He&&it.remove(J,q)},wt.runOutsideAngular(()=>{fn.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const fn=this._elementRef.nativeElement.classList;fn.remove(q),fn.add(J)}deactivate(){this._elementRef.nativeElement.classList.add(q)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(wt){return new(wt||qt)(e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275dir=e.lG2({type:qt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return qt})(),xe=(()=>{class qt{constructor(fn,wt){this._elementRef=fn,this._ngZone=wt,this.open=!1}ngAfterViewInit(){const fn=this._elementRef.nativeElement.querySelector(".mdc-floating-label");fn?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(fn.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>fn.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(fn){this._notch.nativeElement.style.width=this.open&&fn?`calc(${fn}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(wt){return new(wt||qt)(e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:qt,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(wt,vt){if(1&wt&&e.Gf(D,5),2&wt){let it;e.iGM(it=e.CRH())&&(vt._notch=it.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(wt,vt){2&wt&&e.ekj("mdc-notched-outline--notched",vt.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:I,ngContentSelectors:T,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(wt,vt){1&wt&&(e.F$t(),e._UZ(0,"div",0),e.TgZ(1,"div",1,2),e.Hsn(3),e.qZA(),e._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return qt})();const Ee={transitionMessages:(0,x.X$)("transitionMessages",[(0,x.SB)("enter",(0,x.oB)({opacity:1,transform:"translateY(0%)"})),(0,x.eR)("void => enter",[(0,x.oB)({opacity:0,transform:"translateY(-5px)"}),(0,x.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ge=(()=>{class qt{static#e=this.\u0275fac=function(wt){return new(wt||qt)};static#t=this.\u0275dir=e.lG2({type:qt})}return qt})();const gt=new e.OlP("MatFormField"),Qe=new e.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let yt=0,Kt=(()=>{class qt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(fn){this._hideRequiredMarker=(0,S.Ig)(fn)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(fn){fn!==this._floatLabel&&(this._floatLabel=fn,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(fn){const wt=this._appearance;this._appearance=fn||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==wt&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(fn){this._subscriptSizing=fn||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(fn){this._hintLabel=fn,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(fn){this._explicitFormFieldControl=fn}constructor(fn,wt,vt,it,He,Ye,st,at){this._elementRef=fn,this._changeDetectorRef=wt,this._ngZone=vt,this._dir=it,this._platform=He,this._defaults=Ye,this._animationMode=st,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+yt++,this._hintLabelId="mat-mdc-hint-"+yt++,this._subscriptAnimationState="",this._destroyed=new _.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,Ye&&(Ye.appearance&&(this.appearance=Ye.appearance),this._hideRequiredMarker=!!Ye?.hideRequiredMarker,Ye.color&&(this.color=Ye.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const fn=this._control;fn.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${fn.controlType}`),fn.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),fn.ngControl&&fn.ngControl.valueChanges&&fn.ngControl.valueChanges.pipe((0,C.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(fn=>!fn._isText),this._hasTextPrefix=!!this._prefixChildren.find(fn=>fn._isText),this._hasIconSuffix=!!this._suffixChildren.find(fn=>!fn._isText),this._hasTextSuffix=!!this._suffixChildren.find(fn=>fn._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,P.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,C.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,C.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(fn){const wt=this._control?this._control.ngControl:null;return wt&&wt[fn]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let fn=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&fn.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const wt=this._hintChildren?this._hintChildren.find(it=>"start"===it.align):null,vt=this._hintChildren?this._hintChildren.find(it=>"end"===it.align):null;wt?fn.push(wt.id):this._hintLabel&&fn.push(this._hintLabelId),vt&&fn.push(vt.id)}else this._errorChildren&&fn.push(...this._errorChildren.map(wt=>wt.id));this._control.setDescribedByIds(fn)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const fn=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(fn.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const wt=this._iconPrefixContainer?.nativeElement,vt=this._textPrefixContainer?.nativeElement,it=wt?.getBoundingClientRect().width??0,He=vt?.getBoundingClientRect().width??0;fn.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${it+He}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const fn=this._elementRef.nativeElement;if(fn.getRootNode){const wt=fn.getRootNode();return wt&&wt!==fn}return document.documentElement.contains(fn)}static#e=this.\u0275fac=function(wt){return new(wt||qt)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(t.Is),e.Y36(v.t4),e.Y36(Qe,8),e.Y36(e.QbO,8),e.Y36(A.K0))};static#t=this.\u0275cmp=e.Xpm({type:qt,selectors:[["mat-form-field"]],contentQueries:function(wt,vt,it){if(1&wt&&(e.Suo(it,Ve,5),e.Suo(it,Ve,7),e.Suo(it,Ge,5),e.Suo(it,ie,5),e.Suo(it,oe,5),e.Suo(it,Ze,5),e.Suo(it,Q,5)),2&wt){let He;e.iGM(He=e.CRH())&&(vt._labelChildNonStatic=He.first),e.iGM(He=e.CRH())&&(vt._labelChildStatic=He.first),e.iGM(He=e.CRH())&&(vt._formFieldControl=He.first),e.iGM(He=e.CRH())&&(vt._prefixChildren=He),e.iGM(He=e.CRH())&&(vt._suffixChildren=He),e.iGM(He=e.CRH())&&(vt._errorChildren=He),e.iGM(He=e.CRH())&&(vt._hintChildren=He)}},viewQuery:function(wt,vt){if(1&wt&&(e.Gf(L,5),e.Gf(y,5),e.Gf(B,5),e.Gf($,5),e.Gf(xe,5),e.Gf(_e,5)),2&wt){let it;e.iGM(it=e.CRH())&&(vt._textField=it.first),e.iGM(it=e.CRH())&&(vt._iconPrefixContainer=it.first),e.iGM(it=e.CRH())&&(vt._textPrefixContainer=it.first),e.iGM(it=e.CRH())&&(vt._floatingLabel=it.first),e.iGM(it=e.CRH())&&(vt._notchedOutline=it.first),e.iGM(it=e.CRH())&&(vt._lineRipple=it.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(wt,vt){2&wt&&e.ekj("mat-mdc-form-field-label-always-float",vt._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",vt._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",vt._hasIconSuffix)("mat-form-field-invalid",vt._control.errorState)("mat-form-field-disabled",vt._control.disabled)("mat-form-field-autofilled",vt._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===vt._animationMode)("mat-form-field-appearance-fill","fill"==vt.appearance)("mat-form-field-appearance-outline","outline"==vt.appearance)("mat-form-field-hide-placeholder",vt._hasFloatingLabel()&&!vt._shouldLabelFloat())("mat-focused",vt._control.focused)("mat-primary","accent"!==vt.color&&"warn"!==vt.color)("mat-accent","accent"===vt.color)("mat-warn","warn"===vt.color)("ng-untouched",vt._shouldForward("untouched"))("ng-touched",vt._shouldForward("touched"))("ng-pristine",vt._shouldForward("pristine"))("ng-dirty",vt._shouldForward("dirty"))("ng-valid",vt._shouldForward("valid"))("ng-invalid",vt._shouldForward("invalid"))("ng-pending",vt._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[e._Bn([{provide:gt,useExisting:qt},{provide:X,useExisting:qt}])],ngContentSelectors:Oe,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(wt,vt){1&wt&&(e.F$t(Te),e.YNc(0,ae,1,1,"ng-template",null,0,e.W1O),e.TgZ(2,"div",1,2),e.NdJ("click",function(He){return vt._control.onContainerClick(He)}),e.YNc(4,Fe,1,0,"div",3),e.TgZ(5,"div",4),e.YNc(6,G,2,2,"div",5),e.YNc(7,Se,3,0,"div",6),e.YNc(8,ce,3,0,"div",7),e.TgZ(9,"div",8),e.YNc(10,Ie,1,1,"ng-template",9),e.Hsn(11),e.qZA(),e.YNc(12,Ce,2,0,"div",10),e.YNc(13,pe,2,0,"div",11),e.qZA(),e.YNc(14,Ae,1,0,"div",12),e.qZA(),e.TgZ(15,"div",13),e.YNc(16,ke,2,1,"div",14),e.YNc(17,we,5,2,"div",15),e.qZA()),2&wt&&(e.xp6(2),e.ekj("mdc-text-field--filled",!vt._hasOutline())("mdc-text-field--outlined",vt._hasOutline())("mdc-text-field--no-label",!vt._hasFloatingLabel())("mdc-text-field--disabled",vt._control.disabled)("mdc-text-field--invalid",vt._control.errorState),e.xp6(2),e.Q6J("ngIf",!vt._hasOutline()&&!vt._control.disabled),e.xp6(2),e.Q6J("ngIf",vt._hasOutline()),e.xp6(1),e.Q6J("ngIf",vt._hasIconPrefix),e.xp6(1),e.Q6J("ngIf",vt._hasTextPrefix),e.xp6(2),e.Q6J("ngIf",!vt._hasOutline()||vt._forceDisplayInfixLabel()),e.xp6(2),e.Q6J("ngIf",vt._hasTextSuffix),e.xp6(1),e.Q6J("ngIf",vt._hasIconSuffix),e.xp6(1),e.Q6J("ngIf",!vt._hasOutline()),e.xp6(1),e.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===vt.subscriptSizing),e.Q6J("ngSwitch",vt._getDisplayedMessages()),e.xp6(1),e.Q6J("ngSwitchCase","error"),e.xp6(1),e.Q6J("ngSwitchCase","hint"))},dependencies:[A.O5,A.tP,A.RF,A.n9,Q,$,xe,_e],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Ee.transitionMessages]},changeDetection:0})}return qt})(),Jt=(()=>{class qt{static#e=this.\u0275fac=function(wt){return new(wt||qt)};static#t=this.\u0275mod=e.oAB({type:qt});static#n=this.\u0275inj=e.cJS({imports:[O.BQ,A.ez,N.Q8,O.BQ]})}return qt})()},2032:(Wn,et,p)=>{"use strict";p.d(et,{Jk:()=>x,Nt:()=>D,c:()=>I});var e=p(2495),t=p(2831),v=p(5879),b=p(6232),_=p(8645);const P=(0,t.i$)({passive:!0});let C=(()=>{class T{constructor(y,B){this._platform=y,this._ngZone=B,this._monitoredElements=new Map}monitor(y){if(!this._platform.isBrowser)return b.E;const B=(0,e.fI)(y),z=this._monitoredElements.get(B);if(z)return z.subject;const ne=new _.x,ae="cdk-text-field-autofilled",Fe=Y=>{"cdk-text-field-autofill-start"!==Y.animationName||B.classList.contains(ae)?"cdk-text-field-autofill-end"===Y.animationName&&B.classList.contains(ae)&&(B.classList.remove(ae),this._ngZone.run(()=>ne.next({target:Y.target,isAutofilled:!1}))):(B.classList.add(ae),this._ngZone.run(()=>ne.next({target:Y.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{B.addEventListener("animationstart",Fe,P),B.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(B,{subject:ne,unlisten:()=>{B.removeEventListener("animationstart",Fe,P)}}),ne}stopMonitoring(y){const B=(0,e.fI)(y),z=this._monitoredElements.get(B);z&&(z.unlisten(),z.subject.complete(),B.classList.remove("cdk-text-field-autofill-monitored"),B.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(B))}ngOnDestroy(){this._monitoredElements.forEach((y,B)=>this.stopMonitoring(B))}static#e=this.\u0275fac=function(B){return new(B||T)(v.LFG(t.t4),v.LFG(v.R0b))};static#t=this.\u0275prov=v.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),c=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=v.oAB({type:T});static#n=this.\u0275inj=v.cJS({})}return T})();var d=p(95),f=p(3680),g=p(4170);const x=new v.OlP("MAT_INPUT_VALUE_ACCESSOR"),A=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let N=0;const O=(0,f.FD)(class{constructor(T,L,y,B){this._defaultErrorStateMatcher=T,this._parentForm=L,this._parentFormGroup=y,this.ngControl=B,this.stateChanges=new _.x}});let D=(()=>{class T extends O{get disabled(){return this._disabled}set disabled(y){this._disabled=(0,e.Ig)(y),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(y){this._id=y||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(d.kI.required)??!1}set required(y){this._required=(0,e.Ig)(y)}get type(){return this._type}set type(y){this._type=y||"text",this._validateType(),!this._isTextarea&&(0,t.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(y){y!==this.value&&(this._inputValueAccessor.value=y,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(y){this._readonly=(0,e.Ig)(y)}constructor(y,B,z,ne,ae,Fe,Y,le,G,Se){super(Fe,ne,ae,z),this._elementRef=y,this._platform=B,this._autofillMonitor=le,this._formField=Se,this._uid="mat-input-"+N++,this.focused=!1,this.stateChanges=new _.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Ie=>(0,t.qK)().has(Ie)),this._iOSKeyupListener=Ie=>{const Ce=Ie.target;!Ce.value&&0===Ce.selectionStart&&0===Ce.selectionEnd&&(Ce.setSelectionRange(1,1),Ce.setSelectionRange(0,0))};const ce=this._elementRef.nativeElement,ge=ce.nodeName.toLowerCase();this._inputValueAccessor=Y||ce,this._previousNativeValue=this.value,this.id=this.id,B.IOS&&G.runOutsideAngular(()=>{y.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===ge,this._isTextarea="textarea"===ge,this._isInFormField=!!Se,this._isNativeSelect&&(this.controlType=ce.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(y=>{this.autofilled=y.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(y){this._elementRef.nativeElement.focus(y)}_focusChanged(y){y!==this.focused&&(this.focused=y,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const y=this._elementRef.nativeElement.value;this._previousNativeValue!==y&&(this._previousNativeValue=y,this.stateChanges.next())}_dirtyCheckPlaceholder(){const y=this._getPlaceholder();if(y!==this._previousPlaceholder){const B=this._elementRef.nativeElement;this._previousPlaceholder=y,y?B.setAttribute("placeholder",y):B.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){A.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let y=this._elementRef.nativeElement.validity;return y&&y.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const y=this._elementRef.nativeElement,B=y.options[0];return this.focused||y.multiple||!this.empty||!!(y.selectedIndex>-1&&B&&B.label)}return this.focused||!this.empty}setDescribedByIds(y){y.length?this._elementRef.nativeElement.setAttribute("aria-describedby",y.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const y=this._elementRef.nativeElement;return this._isNativeSelect&&(y.multiple||y.size>1)}static#e=this.\u0275fac=function(B){return new(B||T)(v.Y36(v.SBq),v.Y36(t.t4),v.Y36(d.a5,10),v.Y36(d.F,8),v.Y36(d.sg,8),v.Y36(f.rD),v.Y36(x,10),v.Y36(C),v.Y36(v.R0b),v.Y36(g.G_,8))};static#t=this.\u0275dir=v.lG2({type:T,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(B,z){1&B&&v.NdJ("focus",function(){return z._focusChanged(!0)})("blur",function(){return z._focusChanged(!1)})("input",function(){return z._onInput()}),2&B&&(v.Ikx("id",z.id)("disabled",z.disabled)("required",z.required),v.uIk("name",z.name||null)("readonly",z.readonly&&!z._isNativeSelect||null)("aria-invalid",z.empty&&z.required?null:z.errorState)("aria-required",z.required)("id",z.id),v.ekj("mat-input-server",z._isServer)("mat-mdc-form-field-textarea-control",z._isInFormField&&z._isTextarea)("mat-mdc-form-field-input-control",z._isInFormField)("mdc-text-field__input",z._isInFormField)("mat-mdc-native-select-inline",z._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[v._Bn([{provide:g.Eo,useExisting:T}]),v.qOj,v.TTD]})}return T})(),I=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=v.oAB({type:T});static#n=this.\u0275inj=v.cJS({imports:[f.BQ,g.lN,g.lN,c,f.BQ]})}return T})()},1476:(Wn,et,p)=>{"use strict";p.d(et,{NW:()=>z,TU:()=>ne,ye:()=>A});var e=p(6814),t=p(5879),v=p(8645),b=p(2296),_=p(8525),P=p(2596),C=p(3680),m=p(2495),i=p(4170);function c(ae,Fe){if(1&ae&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&ae){const Y=Fe.$implicit;t.Q6J("value",Y),t.xp6(1),t.hij(" ",Y," ")}}function d(ae,Fe){if(1&ae){const Y=t.EpF();t.TgZ(0,"mat-form-field",16)(1,"mat-select",17),t.NdJ("selectionChange",function(G){t.CHM(Y);const Se=t.oxw(2);return t.KtG(Se._changePageSize(G.value))}),t.YNc(2,c,2,2,"mat-option",18),t.qZA()()}if(2&ae){const Y=t.oxw(2);t.Q6J("appearance",Y._formFieldAppearance)("color",Y.color),t.xp6(1),t.Q6J("value",Y.pageSize)("disabled",Y.disabled)("aria-labelledby",Y._pageSizeLabelId)("panelClass",Y.selectConfig.panelClass||"")("disableOptionCentering",Y.selectConfig.disableOptionCentering),t.xp6(1),t.Q6J("ngForOf",Y._displayedPageSizeOptions)}}function f(ae,Fe){if(1&ae&&(t.TgZ(0,"div",20),t._uU(1),t.qZA()),2&ae){const Y=t.oxw(2);t.xp6(1),t.Oqu(Y.pageSize)}}function g(ae,Fe){if(1&ae&&(t.TgZ(0,"div",12)(1,"div",13),t._uU(2),t.qZA(),t.YNc(3,d,3,8,"mat-form-field",14),t.YNc(4,f,2,1,"div",15),t.qZA()),2&ae){const Y=t.oxw();t.xp6(1),t.s9C("id",Y._pageSizeLabelId),t.xp6(1),t.hij(" ",Y._intl.itemsPerPageLabel," "),t.xp6(1),t.Q6J("ngIf",Y._displayedPageSizeOptions.length>1),t.xp6(1),t.Q6J("ngIf",Y._displayedPageSizeOptions.length<=1)}}function S(ae,Fe){if(1&ae){const Y=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(Y);const G=t.oxw();return t.KtG(G.firstPage())}),t.O4$(),t.TgZ(1,"svg",7),t._UZ(2,"path",22),t.qZA()()}if(2&ae){const Y=t.oxw();t.Q6J("matTooltip",Y._intl.firstPageLabel)("matTooltipDisabled",Y._previousButtonsDisabled())("matTooltipPosition","above")("disabled",Y._previousButtonsDisabled()),t.uIk("aria-label",Y._intl.firstPageLabel)}}function x(ae,Fe){if(1&ae){const Y=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(Y);const G=t.oxw();return t.KtG(G.lastPage())}),t.O4$(),t.TgZ(1,"svg",7),t._UZ(2,"path",24),t.qZA()()}if(2&ae){const Y=t.oxw();t.Q6J("matTooltip",Y._intl.lastPageLabel)("matTooltipDisabled",Y._nextButtonsDisabled())("matTooltipPosition","above")("disabled",Y._nextButtonsDisabled()),t.uIk("aria-label",Y._intl.lastPageLabel)}}let A=(()=>{class ae{constructor(){this.changes=new v.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(Y,le,G)=>{if(0==G||0==le)return`0 of ${G}`;const Se=Y*le;return`${Se+1} \u2013 ${Se<(G=Math.max(G,0))?Math.min(Se+le,G):Se+le} of ${G}`}}static#e=this.\u0275fac=function(le){return new(le||ae)};static#t=this.\u0275prov=t.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();const O={provide:A,deps:[[new t.FiY,new t.tp0,A]],useFactory:function N(ae){return ae||new A}},T=new t.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),L=(0,C.Id)((0,C.dB)(class{}));let y=(()=>{class ae extends L{get pageIndex(){return this._pageIndex}set pageIndex(Y){this._pageIndex=Math.max((0,m.su)(Y),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(Y){this._length=(0,m.su)(Y),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(Y){this._pageSize=Math.max((0,m.su)(Y),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(Y){this._pageSizeOptions=(Y||[]).map(le=>(0,m.su)(le)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(Y){this._hidePageSize=(0,m.Ig)(Y)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(Y){this._showFirstLastButtons=(0,m.Ig)(Y)}constructor(Y,le,G){if(super(),this._intl=Y,this._changeDetectorRef=le,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new t.vpe,this._intlChanges=Y.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),G){const{pageSize:Se,pageSizeOptions:ce,hidePageSize:ge,showFirstLastButtons:Ie}=G;null!=Se&&(this._pageSize=Se),null!=ce&&(this._pageSizeOptions=ce),null!=ge&&(this._hidePageSize=ge),null!=Ie&&(this._showFirstLastButtons=Ie)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const Y=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(Y)}previousPage(){if(!this.hasPreviousPage())return;const Y=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(Y)}firstPage(){if(!this.hasPreviousPage())return;const Y=this.pageIndex;this.pageIndex=0,this._emitPageEvent(Y)}lastPage(){if(!this.hasNextPage())return;const Y=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(Y)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const Y=this.getNumberOfPages()-1;return this.pageIndex<Y&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(Y){const G=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/Y)||0,this.pageSize=Y,this._emitPageEvent(G)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((Y,le)=>Y-le),this._changeDetectorRef.markForCheck())}_emitPageEvent(Y){this.page.emit({previousPageIndex:Y,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(le){t.$Z()};static#t=this.\u0275dir=t.lG2({type:ae,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[t.qOj]})}return ae})(),B=0,z=(()=>{class ae extends y{constructor(Y,le,G){super(Y,le,G),this._pageSizeLabelId="mat-paginator-page-size-label-"+B++,this._formFieldAppearance=G?.formFieldAppearance||"outline"}static#e=this.\u0275fac=function(le){return new(le||ae)(t.Y36(A),t.Y36(t.sBO),t.Y36(T,8))};static#t=this.\u0275cmp=t.Xpm({type:ae,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[t.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(le,G){1&le&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,g,5,4,"div",2),t.TgZ(3,"div",3)(4,"div",4),t._uU(5),t.qZA(),t.YNc(6,S,3,5,"button",5),t.TgZ(7,"button",6),t.NdJ("click",function(){return G.previousPage()}),t.O4$(),t.TgZ(8,"svg",7),t._UZ(9,"path",8),t.qZA()(),t.kcU(),t.TgZ(10,"button",9),t.NdJ("click",function(){return G.nextPage()}),t.O4$(),t.TgZ(11,"svg",7),t._UZ(12,"path",10),t.qZA()(),t.YNc(13,x,3,5,"button",11),t.qZA()()()),2&le&&(t.xp6(2),t.Q6J("ngIf",!G.hidePageSize),t.xp6(3),t.hij(" ",G._intl.getRangeLabel(G.pageIndex,G.pageSize,G.length)," "),t.xp6(1),t.Q6J("ngIf",G.showFirstLastButtons),t.xp6(1),t.Q6J("matTooltip",G._intl.previousPageLabel)("matTooltipDisabled",G._previousButtonsDisabled())("matTooltipPosition","above")("disabled",G._previousButtonsDisabled()),t.uIk("aria-label",G._intl.previousPageLabel),t.xp6(3),t.Q6J("matTooltip",G._intl.nextPageLabel)("matTooltipDisabled",G._nextButtonsDisabled())("matTooltipPosition","above")("disabled",G._nextButtonsDisabled()),t.uIk("aria-label",G._intl.nextPageLabel),t.xp6(3),t.Q6J("ngIf",G.showFirstLastButtons))},dependencies:[e.sg,e.O5,b.RK,i.KE,_.gD,C.ey,P.gM],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return ae})(),ne=(()=>{class ae{static#e=this.\u0275fac=function(le){return new(le||ae)};static#t=this.\u0275mod=t.oAB({type:ae});static#n=this.\u0275inj=t.cJS({providers:[O],imports:[e.ez,b.ot,_.LD,P.AV]})}return ae})()},5940:(Wn,et,p)=>{"use strict";p.d(et,{Cq:()=>S,Ou:()=>f});var e=p(5879),t=p(3680),v=p(2495),b=p(6814);const _=["determinateSpinner"];function P(x,A){if(1&x&&(e.O4$(),e.TgZ(0,"svg",11),e._UZ(1,"circle",12),e.qZA()),2&x){const N=e.oxw();e.uIk("viewBox",N._viewBox()),e.xp6(1),e.Udp("stroke-dasharray",N._strokeCircumference(),"px")("stroke-dashoffset",N._strokeCircumference()/2,"px")("stroke-width",N._circleStrokeWidth(),"%"),e.uIk("r",N._circleRadius())}}const C=(0,t.pj)(class{constructor(x){this._elementRef=x}},"primary"),m=new e.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function i(){return{diameter:c}}}),c=100;let f=(()=>{class x extends C{constructor(N,O,D){super(N),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=c,this._noopAnimations="NoopAnimations"===O&&!!D&&!D._forceAnimations,D&&(D.color&&(this.color=this.defaultColor=D.color),D.diameter&&(this.diameter=D.diameter),D.strokeWidth&&(this.strokeWidth=D.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(N){this._value=Math.max(0,Math.min(100,(0,v.su)(N)))}get diameter(){return this._diameter}set diameter(N){this._diameter=(0,v.su)(N)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(N){this._strokeWidth=(0,v.su)(N)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const N=2*this._circleRadius()+this.strokeWidth;return`0 0 ${N} ${N}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(O){return new(O||x)(e.Y36(e.SBq),e.Y36(e.QbO,8),e.Y36(m))};static#t=this.\u0275cmp=e.Xpm({type:x,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(O,D){if(1&O&&e.Gf(_,5),2&O){let I;e.iGM(I=e.CRH())&&(D._determinateCircle=I.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(O,D){2&O&&(e.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===D.mode?D.value:null)("mode",D.mode),e.Udp("width",D.diameter,"px")("height",D.diameter,"px")("--mdc-circular-progress-size",D.diameter+"px")("--mdc-circular-progress-active-indicator-width",D.diameter+"px"),e.ekj("_mat-animation-noopable",D._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===D.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[e.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(O,D){if(1&O&&(e.YNc(0,P,2,8,"ng-template",null,0,e.W1O),e.TgZ(2,"div",1,2),e.O4$(),e.TgZ(4,"svg",3),e._UZ(5,"circle",4),e.qZA()(),e.kcU(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7),e.GkF(9,8),e.qZA(),e.TgZ(10,"div",9),e.GkF(11,8),e.qZA(),e.TgZ(12,"div",10),e.GkF(13,8),e.qZA()()()),2&O){const I=e.MAs(1);e.xp6(4),e.uIk("viewBox",D._viewBox()),e.xp6(1),e.Udp("stroke-dasharray",D._strokeCircumference(),"px")("stroke-dashoffset",D._strokeDashOffset(),"px")("stroke-width",D._circleStrokeWidth(),"%"),e.uIk("r",D._circleRadius()),e.xp6(4),e.Q6J("ngTemplateOutlet",I),e.xp6(2),e.Q6J("ngTemplateOutlet",I),e.xp6(2),e.Q6J("ngTemplateOutlet",I)}},dependencies:[b.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return x})(),S=(()=>{class x{static#e=this.\u0275fac=function(O){return new(O||x)};static#t=this.\u0275mod=e.oAB({type:x});static#n=this.\u0275inj=e.cJS({imports:[b.ez,t.BQ]})}return x})()},8525:(Wn,et,p)=>{"use strict";p.d(et,{LD:()=>be,gD:()=>Re});var e=p(3651),t=p(6814),v=p(5879),b=p(3680),_=p(4170),P=p(799),C=p(4300),m=p(9388),i=p(2495),c=p(8337),d=p(6028),f=p(95),g=p(8645),S=p(4911),x=p(3019),A=p(7921),N=p(4664),O=p(8180),D=p(2181),I=p(7398),T=p(3997),L=p(9773),y=p(6825);const B=["trigger"],z=["panel"];function ne(Q,ie){if(1&Q&&(v.TgZ(0,"span",10),v._uU(1),v.qZA()),2&Q){const ye=v.oxw();v.xp6(1),v.Oqu(ye.placeholder)}}function ae(Q,ie){if(1&Q&&(v.TgZ(0,"span",14),v._uU(1),v.qZA()),2&Q){const ye=v.oxw(2);v.xp6(1),v.Oqu(ye.triggerValue)}}function Fe(Q,ie){1&Q&&v.Hsn(0,0,["*ngSwitchCase","true"])}function Y(Q,ie){if(1&Q&&(v.TgZ(0,"span",11),v.YNc(1,ae,2,1,"span",12),v.YNc(2,Fe,1,0,"ng-content",13),v.qZA()),2&Q){const ye=v.oxw();v.Q6J("ngSwitch",!!ye.customTrigger),v.xp6(2),v.Q6J("ngSwitchCase",!0)}}function le(Q,ie){if(1&Q){const ye=v.EpF();v.O4$(),v.kcU(),v.TgZ(0,"div",15,16),v.NdJ("@transformPanel.done",function(ee){v.CHM(ye);const X=v.oxw();return v.KtG(X._panelDoneAnimatingStream.next(ee.toState))})("keydown",function(ee){v.CHM(ye);const X=v.oxw();return v.KtG(X._handleKeydown(ee))}),v.Hsn(2,1),v.qZA()}if(2&Q){const ye=v.oxw();v.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",ye._getPanelTheme(),""),v.Q6J("ngClass",ye.panelClass)("@transformPanel","showing"),v.uIk("id",ye.id+"-panel")("aria-multiselectable",ye.multiple)("aria-label",ye.ariaLabel||null)("aria-labelledby",ye._getPanelAriaLabelledby())}}const G=[[["mat-select-trigger"]],"*"],Se=["mat-select-trigger","*"],ce={transformPanelWrap:(0,y.X$)("transformPanelWrap",[(0,y.eR)("* => void",(0,y.IO)("@transformPanel",[(0,y.pV)()],{optional:!0}))]),transformPanel:(0,y.X$)("transformPanel",[(0,y.SB)("void",(0,y.oB)({opacity:0,transform:"scale(1, 0.8)"})),(0,y.eR)("void => showing",(0,y.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,y.oB)({opacity:1,transform:"scale(1, 1)"}))),(0,y.eR)("* => void",(0,y.jt)("100ms linear",(0,y.oB)({opacity:0})))])};let pe=0;const Ae=new v.OlP("mat-select-scroll-strategy"),he=new v.OlP("MAT_SELECT_CONFIG"),we={provide:Ae,deps:[e.aV],useFactory:function ke(Q){return()=>Q.scrollStrategies.reposition()}},Te=new v.OlP("MatSelectTrigger");class Oe{constructor(ie,ye){this.source=ie,this.value=ye}}const Ve=(0,b.Kr)((0,b.sb)((0,b.Id)((0,b.FD)(class{constructor(Q,ie,ye,oe,ee){this._elementRef=Q,this._defaultErrorStateMatcher=ie,this._parentForm=ye,this._parentFormGroup=oe,this.ngControl=ee,this.stateChanges=new g.x}}))));let ft=(()=>{class Q extends Ve{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(ye){this._placeholder=ye,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(f.kI.required)??!1}set required(ye){this._required=(0,i.Ig)(ye),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(ye){this._multiple=(0,i.Ig)(ye)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(ye){this._disableOptionCentering=(0,i.Ig)(ye)}get compareWith(){return this._compareWith}set compareWith(ye){this._compareWith=ye,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(ye){this._assignValue(ye)&&this._onChange(ye)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(ye){this._typeaheadDebounceInterval=(0,i.su)(ye)}get id(){return this._id}set id(ye){this._id=ye||this._uid,this.stateChanges.next()}constructor(ye,oe,ee,X,$,re,J,q,_e,xe,Ee,Ge,ct,Xe){super($,X,J,q,xe),this._viewportRuler=ye,this._changeDetectorRef=oe,this._ngZone=ee,this._dir=re,this._parentFormField=_e,this._liveAnnouncer=ct,this._defaultOptions=Xe,this._panelOpen=!1,this._compareWith=(tt,gt)=>tt===gt,this._uid="mat-select-"+pe++,this._triggerAriaLabelledBy=null,this._destroy=new g.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+pe++,this._panelDoneAnimatingStream=new g.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,S.P)(()=>{const tt=this.options;return tt?tt.changes.pipe((0,A.O)(tt),(0,N.w)(()=>(0,x.T)(...tt.map(gt=>gt.onSelectionChange)))):this._ngZone.onStable.pipe((0,O.q)(1),(0,N.w)(()=>this.optionSelectionChanges))}),this.openedChange=new v.vpe,this._openedStream=this.openedChange.pipe((0,D.h)(tt=>tt),(0,I.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,D.h)(tt=>!tt),(0,I.U)(()=>{})),this.selectionChange=new v.vpe,this.valueChange=new v.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Xe?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=Xe.typeaheadDebounceInterval),this._scrollStrategyFactory=Ge,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Ee)||0,this.id=this.id}ngOnInit(){this._selectionModel=new c.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,T.x)(),(0,L.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,L.R)(this._destroy)).subscribe(ye=>{ye.added.forEach(oe=>oe.select()),ye.removed.forEach(oe=>oe.deselect())}),this.options.changes.pipe((0,A.O)(null),(0,L.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const ye=this._getTriggerAriaLabelledby(),oe=this.ngControl;if(ye!==this._triggerAriaLabelledBy){const ee=this._elementRef.nativeElement;this._triggerAriaLabelledBy=ye,ye?ee.setAttribute("aria-labelledby",ye):ee.removeAttribute("aria-labelledby")}oe&&(this._previousControl!==oe.control&&(void 0!==this._previousControl&&null!==oe.disabled&&oe.disabled!==this.disabled&&(this.disabled=oe.disabled),this._previousControl=oe.control),this.updateErrorState())}ngOnChanges(ye){(ye.disabled||ye.userAriaDescribedBy)&&this.stateChanges.next(),ye.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const ye=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!ye)return;const oe=`${this.id}-panel`;this._trackedModal&&(0,C.iD)(this._trackedModal,"aria-owns",oe),(0,C.Zf)(ye,"aria-owns",oe),this._trackedModal=ye}_clearFromModal(){this._trackedModal&&((0,C.iD)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(ye){this._assignValue(ye)}registerOnChange(ye){this._onChange=ye}registerOnTouched(ye){this._onTouched=ye}setDisabledState(ye){this.disabled=ye,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const ye=this._selectionModel.selected.map(oe=>oe.viewValue);return this._isRtl()&&ye.reverse(),ye.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(ye){this.disabled||(this.panelOpen?this._handleOpenKeydown(ye):this._handleClosedKeydown(ye))}_handleClosedKeydown(ye){const oe=ye.keyCode,ee=oe===d.JH||oe===d.LH||oe===d.oh||oe===d.SV,X=oe===d.K5||oe===d.L_,$=this._keyManager;if(!$.isTyping()&&X&&!(0,d.Vb)(ye)||(this.multiple||ye.altKey)&&ee)ye.preventDefault(),this.open();else if(!this.multiple){const re=this.selected;$.onKeydown(ye);const J=this.selected;J&&re!==J&&this._liveAnnouncer.announce(J.viewValue,1e4)}}_handleOpenKeydown(ye){const oe=this._keyManager,ee=ye.keyCode,X=ee===d.JH||ee===d.LH,$=oe.isTyping();if(X&&ye.altKey)ye.preventDefault(),this.close();else if($||ee!==d.K5&&ee!==d.L_||!oe.activeItem||(0,d.Vb)(ye))if(!$&&this._multiple&&ee===d.A&&ye.ctrlKey){ye.preventDefault();const re=this.options.some(J=>!J.disabled&&!J.selected);this.options.forEach(J=>{J.disabled||(re?J.select():J.deselect())})}else{const re=oe.activeItemIndex;oe.onKeydown(ye),this._multiple&&X&&ye.shiftKey&&oe.activeItem&&oe.activeItemIndex!==re&&oe.activeItem._selectViaInteraction()}else ye.preventDefault(),oe.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,O.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(ye){if(this.options.forEach(oe=>oe.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&ye)Array.isArray(ye),ye.forEach(oe=>this._selectOptionByValue(oe)),this._sortValues();else{const oe=this._selectOptionByValue(ye);oe?this._keyManager.updateActiveItem(oe):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(ye){const oe=this.options.find(ee=>{if(this._selectionModel.isSelected(ee))return!1;try{return null!=ee.value&&this._compareWith(ee.value,ye)}catch{return!1}});return oe&&this._selectionModel.select(oe),oe}_assignValue(ye){return!!(ye!==this._value||this._multiple&&Array.isArray(ye))&&(this.options&&this._setSelectionByValue(ye),this._value=ye,!0)}_skipPredicate(ye){return ye.disabled}_initKeyManager(){this._keyManager=new C.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const ye=(0,x.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,L.R)(ye)).subscribe(oe=>{this._onSelect(oe.source,oe.isUserInput),oe.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,x.T)(...this.options.map(oe=>oe._stateChanges)).pipe((0,L.R)(ye)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(ye,oe){const ee=this._selectionModel.isSelected(ye);null!=ye.value||this._multiple?(ee!==ye.selected&&(ye.selected?this._selectionModel.select(ye):this._selectionModel.deselect(ye)),oe&&this._keyManager.setActiveItem(ye),this.multiple&&(this._sortValues(),oe&&this.focus())):(ye.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(ye.value)),ee!==this._selectionModel.isSelected(ye)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const ye=this.options.toArray();this._selectionModel.sort((oe,ee)=>this.sortComparator?this.sortComparator(oe,ee,ye):ye.indexOf(oe)-ye.indexOf(ee)),this.stateChanges.next()}}_propagateChanges(ye){let oe=null;oe=this.multiple?this.selected.map(ee=>ee.value):this.selected?this.selected.value:ye,this._value=oe,this.valueChange.emit(oe),this._onChange(oe),this.selectionChange.emit(this._getChangeEvent(oe)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let ye=-1;for(let oe=0;oe<this.options.length;oe++)if(!this.options.get(oe).disabled){ye=oe;break}this._keyManager.setActiveItem(ye)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(ye){this._elementRef.nativeElement.focus(ye)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const ye=this._parentFormField?.getLabelId();return this.ariaLabelledby?(ye?ye+" ":"")+this.ariaLabelledby:ye}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const ye=this._parentFormField?.getLabelId();let oe=(ye?ye+" ":"")+this._valueId;return this.ariaLabelledby&&(oe+=" "+this.ariaLabelledby),oe}_panelDoneAnimating(ye){this.openedChange.emit(ye)}setDescribedByIds(ye){ye.length?this._elementRef.nativeElement.setAttribute("aria-describedby",ye.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(oe){return new(oe||Q)(v.Y36(P.rL),v.Y36(v.sBO),v.Y36(v.R0b),v.Y36(b.rD),v.Y36(v.SBq),v.Y36(m.Is,8),v.Y36(f.F,8),v.Y36(f.sg,8),v.Y36(_.G_,8),v.Y36(f.a5,10),v.$8M("tabindex"),v.Y36(Ae),v.Y36(C.Kd),v.Y36(he,8))};static#t=this.\u0275dir=v.lG2({type:Q,viewQuery:function(oe,ee){if(1&oe&&(v.Gf(B,5),v.Gf(z,5),v.Gf(e.pI,5)),2&oe){let X;v.iGM(X=v.CRH())&&(ee.trigger=X.first),v.iGM(X=v.CRH())&&(ee.panel=X.first),v.iGM(X=v.CRH())&&(ee._overlayDir=X.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[v.qOj,v.TTD]})}return Q})(),Re=(()=>{class Q extends ft{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=ye=>!this.panelOpen&&ye.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,L.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(ye){const oe=this.options.toArray()[ye];if(oe){const ee=this.panel.nativeElement,X=(0,b.CB)(ye,this.options,this.optionGroups),$=oe._getHostElement();ee.scrollTop=0===ye&&1===X?0:(0,b.jH)($.offsetTop,$.offsetHeight,ee.scrollTop,ee.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(ye){return new Oe(this,ye)}_getOverlayWidth(ye){return"auto"===this.panelWidth?(ye instanceof e.xu?ye.elementRef:ye||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(ye){this._hideSingleSelectionIndicator=(0,i.Ig)(ye),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const ye of this.options)ye._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let ye;return function(ee){return(ye||(ye=v.n5z(Q)))(ee||Q)}}();static#t=this.\u0275cmp=v.Xpm({type:Q,selectors:[["mat-select"]],contentQueries:function(oe,ee,X){if(1&oe&&(v.Suo(X,Te,5),v.Suo(X,b.ey,5),v.Suo(X,b.K7,5)),2&oe){let $;v.iGM($=v.CRH())&&(ee.customTrigger=$.first),v.iGM($=v.CRH())&&(ee.options=$),v.iGM($=v.CRH())&&(ee.optionGroups=$)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(oe,ee){1&oe&&v.NdJ("keydown",function($){return ee._handleKeydown($)})("focus",function(){return ee._onFocus()})("blur",function(){return ee._onBlur()}),2&oe&&(v.uIk("id",ee.id)("tabindex",ee.tabIndex)("aria-controls",ee.panelOpen?ee.id+"-panel":null)("aria-expanded",ee.panelOpen)("aria-label",ee.ariaLabel||null)("aria-required",ee.required.toString())("aria-disabled",ee.disabled.toString())("aria-invalid",ee.errorState)("aria-activedescendant",ee._getAriaActiveDescendant()),v.ekj("mat-mdc-select-disabled",ee.disabled)("mat-mdc-select-invalid",ee.errorState)("mat-mdc-select-required",ee.required)("mat-mdc-select-empty",ee.empty)("mat-mdc-select-multiple",ee.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[v._Bn([{provide:_.Eo,useExisting:Q},{provide:b.HF,useExisting:Q}]),v.qOj],ngContentSelectors:Se,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(oe,ee){if(1&oe&&(v.F$t(G),v.TgZ(0,"div",0,1),v.NdJ("click",function(){return ee.toggle()}),v.TgZ(3,"div",2),v.YNc(4,ne,2,1,"span",3),v.YNc(5,Y,3,2,"span",4),v.qZA(),v.TgZ(6,"div",5)(7,"div",6),v.O4$(),v.TgZ(8,"svg",7),v._UZ(9,"path",8),v.qZA()()()(),v.YNc(10,le,3,9,"ng-template",9),v.NdJ("backdropClick",function(){return ee.close()})("attach",function(){return ee._onAttached()})("detach",function(){return ee.close()})),2&oe){const X=v.MAs(1);v.xp6(3),v.Q6J("ngSwitch",ee.empty),v.uIk("id",ee._valueId),v.xp6(1),v.Q6J("ngSwitchCase",!0),v.xp6(1),v.Q6J("ngSwitchCase",!1),v.xp6(5),v.Q6J("cdkConnectedOverlayPanelClass",ee._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",ee._scrollStrategy)("cdkConnectedOverlayOrigin",ee._preferredOverlayOrigin||X)("cdkConnectedOverlayOpen",ee.panelOpen)("cdkConnectedOverlayPositions",ee._positions)("cdkConnectedOverlayWidth",ee._overlayWidth)}},dependencies:[t.mk,t.RF,t.n9,t.ED,e.pI,e.xu],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[ce.transformPanel]},changeDetection:0})}return Q})(),be=(()=>{class Q{static#e=this.\u0275fac=function(oe){return new(oe||Q)};static#t=this.\u0275mod=v.oAB({type:Q});static#n=this.\u0275inj=v.cJS({providers:[we],imports:[t.ez,e.U8,b.Ng,b.BQ,P.ZD,_.lN,b.Ng,b.BQ]})}return Q})()},2939:(Wn,et,p)=>{"use strict";p.d(et,{OX:()=>O,ZX:()=>Y,qD:()=>D,u_:()=>I,ux:()=>ce});var e=p(5879),t=p(8645),v=p(6814),b=p(2296),_=p(6825),P=p(8484),C=p(2831),m=p(8180),i=p(9773),c=p(4300),d=p(1088),f=p(3651),g=p(3680);function S(ge,Ie){if(1&ge){const Ce=e.EpF();e.TgZ(0,"div",2)(1,"button",3),e.NdJ("click",function(){e.CHM(Ce);const Ae=e.oxw();return e.KtG(Ae.action())}),e._uU(2),e.qZA()()}if(2&ge){const Ce=e.oxw();e.xp6(2),e.hij(" ",Ce.data.action," ")}}const x=["label"];function A(ge,Ie){}const N=Math.pow(2,31)-1;class O{constructor(Ie,Ce){this._overlayRef=Ce,this._afterDismissed=new t.x,this._afterOpened=new t.x,this._onAction=new t.x,this._dismissedByAction=!1,this.containerInstance=Ie,Ie._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Ie){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Ie,N))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const D=new e.OlP("MatSnackBarData");class I{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let T=(()=>{class ge{static#e=this.\u0275fac=function(pe){return new(pe||ge)};static#t=this.\u0275dir=e.lG2({type:ge,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return ge})(),L=(()=>{class ge{static#e=this.\u0275fac=function(pe){return new(pe||ge)};static#t=this.\u0275dir=e.lG2({type:ge,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return ge})(),y=(()=>{class ge{static#e=this.\u0275fac=function(pe){return new(pe||ge)};static#t=this.\u0275dir=e.lG2({type:ge,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return ge})(),B=(()=>{class ge{constructor(Ce,pe){this.snackBarRef=Ce,this.data=pe}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(pe){return new(pe||ge)(e.Y36(O),e.Y36(D))};static#t=this.\u0275cmp=e.Xpm({type:ge,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(pe,Ae){1&pe&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.YNc(2,S,3,1,"div",1)),2&pe&&(e.xp6(1),e.hij(" ",Ae.data.message,"\n"),e.xp6(1),e.Q6J("ngIf",Ae.hasAction))},dependencies:[v.O5,b.lW,T,L,y],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return ge})();const z={snackBarState:(0,_.X$)("state",[(0,_.SB)("void, hidden",(0,_.oB)({transform:"scale(0.8)",opacity:0})),(0,_.SB)("visible",(0,_.oB)({transform:"scale(1)",opacity:1})),(0,_.eR)("* => visible",(0,_.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,_.eR)("* => void, * => hidden",(0,_.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,_.oB)({opacity:0})))])};let ne=0,ae=(()=>{class ge extends P.en{constructor(Ce,pe,Ae,ke,he){super(),this._ngZone=Ce,this._elementRef=pe,this._changeDetectorRef=Ae,this._platform=ke,this.snackBarConfig=he,this._document=(0,e.f3M)(v.K0),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new t.x,this._onExit=new t.x,this._onEnter=new t.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+ne++,this.attachDomPortal=we=>{this._assertNotAttached();const Te=this._portalOutlet.attachDomPortal(we);return this._afterPortalAttached(),Te},this._live="assertive"!==he.politeness||he.announcementMessage?"off"===he.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(Ce){this._assertNotAttached();const pe=this._portalOutlet.attachComponentPortal(Ce);return this._afterPortalAttached(),pe}attachTemplatePortal(Ce){this._assertNotAttached();const pe=this._portalOutlet.attachTemplatePortal(Ce);return this._afterPortalAttached(),pe}onAnimationEnd(Ce){const{fromState:pe,toState:Ae}=Ce;if(("void"===Ae&&"void"!==pe||"hidden"===Ae)&&this._completeExit(),"visible"===Ae){const ke=this._onEnter;this._ngZone.run(()=>{ke.next(),ke.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,m.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const Ce=this._elementRef.nativeElement,pe=this.snackBarConfig.panelClass;pe&&(Array.isArray(pe)?pe.forEach(Ae=>Ce.classList.add(Ae)):Ce.classList.add(pe)),this._exposeToModals()}_exposeToModals(){const Ce=this._liveElementId,pe=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Ae=0;Ae<pe.length;Ae++){const ke=pe[Ae],he=ke.getAttribute("aria-owns");this._trackedModals.add(ke),he?-1===he.indexOf(Ce)&&ke.setAttribute("aria-owns",he+" "+Ce):ke.setAttribute("aria-owns",Ce)}}_clearFromModals(){this._trackedModals.forEach(Ce=>{const pe=Ce.getAttribute("aria-owns");if(pe){const Ae=pe.replace(this._liveElementId,"").trim();Ae.length>0?Ce.setAttribute("aria-owns",Ae):Ce.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const Ce=this._elementRef.nativeElement.querySelector("[aria-hidden]"),pe=this._elementRef.nativeElement.querySelector("[aria-live]");if(Ce&&pe){let Ae=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&Ce.contains(document.activeElement)&&(Ae=document.activeElement),Ce.removeAttribute("aria-hidden"),pe.appendChild(Ce),Ae?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(pe){return new(pe||ge)(e.Y36(e.R0b),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(C.t4),e.Y36(I))};static#t=this.\u0275dir=e.lG2({type:ge,viewQuery:function(pe,Ae){if(1&pe&&e.Gf(P.Pl,7),2&pe){let ke;e.iGM(ke=e.CRH())&&(Ae._portalOutlet=ke.first)}},features:[e.qOj]})}return ge})(),Fe=(()=>{class ge extends ae{_afterPortalAttached(){super._afterPortalAttached();const Ce=this._label.nativeElement,pe="mdc-snackbar__label";Ce.classList.toggle(pe,!Ce.querySelector(`.${pe}`))}static#e=this.\u0275fac=function(){let Ce;return function(Ae){return(Ce||(Ce=e.n5z(ge)))(Ae||ge)}}();static#t=this.\u0275cmp=e.Xpm({type:ge,selectors:[["mat-snack-bar-container"]],viewQuery:function(pe,Ae){if(1&pe&&e.Gf(x,7),2&pe){let ke;e.iGM(ke=e.CRH())&&(Ae._label=ke.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(pe,Ae){1&pe&&e.WFA("@state.done",function(he){return Ae.onAnimationEnd(he)}),2&pe&&e.d8E("@state",Ae._animationState)},features:[e.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(pe,Ae){1&pe&&(e.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),e.YNc(4,A,0,0,"ng-template",4),e.qZA(),e._UZ(5,"div"),e.qZA()()),2&pe&&(e.xp6(5),e.uIk("aria-live",Ae._live)("role",Ae._role)("id",Ae._liveElementId))},dependencies:[P.Pl],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[z.snackBarState]}})}return ge})(),Y=(()=>{class ge{static#e=this.\u0275fac=function(pe){return new(pe||ge)};static#t=this.\u0275mod=e.oAB({type:ge});static#n=this.\u0275inj=e.cJS({imports:[f.U8,P.eL,v.ez,b.ot,g.BQ,g.BQ]})}return ge})();const G=new e.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function le(){return new I}});let Se=(()=>{class ge{get _openedSnackBarRef(){const Ce=this._parentSnackBar;return Ce?Ce._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(Ce){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=Ce:this._snackBarRefAtThisLevel=Ce}constructor(Ce,pe,Ae,ke,he,we){this._overlay=Ce,this._live=pe,this._injector=Ae,this._breakpointObserver=ke,this._parentSnackBar=he,this._defaultConfig=we,this._snackBarRefAtThisLevel=null}openFromComponent(Ce,pe){return this._attach(Ce,pe)}openFromTemplate(Ce,pe){return this._attach(Ce,pe)}open(Ce,pe="",Ae){const ke={...this._defaultConfig,...Ae};return ke.data={message:Ce,action:pe},ke.announcementMessage===Ce&&(ke.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,ke)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(Ce,pe){const ke=e.zs3.create({parent:pe&&pe.viewContainerRef&&pe.viewContainerRef.injector||this._injector,providers:[{provide:I,useValue:pe}]}),he=new P.C5(this.snackBarContainerComponent,pe.viewContainerRef,ke),we=Ce.attach(he);return we.instance.snackBarConfig=pe,we.instance}_attach(Ce,pe){const Ae={...new I,...this._defaultConfig,...pe},ke=this._createOverlay(Ae),he=this._attachSnackBarContainer(ke,Ae),we=new O(he,ke);if(Ce instanceof e.Rgc){const Te=new P.UE(Ce,null,{$implicit:Ae.data,snackBarRef:we});we.instance=he.attachTemplatePortal(Te)}else{const Te=this._createInjector(Ae,we),Oe=new P.C5(Ce,void 0,Te),Ve=he.attachComponentPortal(Oe);we.instance=Ve.instance}return this._breakpointObserver.observe(d.u3.HandsetPortrait).pipe((0,i.R)(ke.detachments())).subscribe(Te=>{ke.overlayElement.classList.toggle(this.handsetCssClass,Te.matches)}),Ae.announcementMessage&&he._onAnnounce.subscribe(()=>{this._live.announce(Ae.announcementMessage,Ae.politeness)}),this._animateSnackBar(we,Ae),this._openedSnackBarRef=we,this._openedSnackBarRef}_animateSnackBar(Ce,pe){Ce.afterDismissed().subscribe(()=>{this._openedSnackBarRef==Ce&&(this._openedSnackBarRef=null),pe.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{Ce.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):Ce.containerInstance.enter(),pe.duration&&pe.duration>0&&Ce.afterOpened().subscribe(()=>Ce._dismissAfter(pe.duration))}_createOverlay(Ce){const pe=new f.X_;pe.direction=Ce.direction;let Ae=this._overlay.position().global();const ke="rtl"===Ce.direction,he="left"===Ce.horizontalPosition||"start"===Ce.horizontalPosition&&!ke||"end"===Ce.horizontalPosition&&ke,we=!he&&"center"!==Ce.horizontalPosition;return he?Ae.left("0"):we?Ae.right("0"):Ae.centerHorizontally(),"top"===Ce.verticalPosition?Ae.top("0"):Ae.bottom("0"),pe.positionStrategy=Ae,this._overlay.create(pe)}_createInjector(Ce,pe){return e.zs3.create({parent:Ce&&Ce.viewContainerRef&&Ce.viewContainerRef.injector||this._injector,providers:[{provide:O,useValue:pe},{provide:D,useValue:Ce.data}]})}static#e=this.\u0275fac=function(pe){return new(pe||ge)(e.LFG(f.aV),e.LFG(c.Kd),e.LFG(e.zs3),e.LFG(d.Yg),e.LFG(ge,12),e.LFG(G))};static#t=this.\u0275prov=e.Yz7({token:ge,factory:ge.\u0275fac})}return ge})(),ce=(()=>{class ge extends Se{constructor(Ce,pe,Ae,ke,he,we){super(Ce,pe,Ae,ke,he,we),this.simpleSnackBarComponent=B,this.snackBarContainerComponent=Fe,this.handsetCssClass="mat-mdc-snack-bar-handset"}static#e=this.\u0275fac=function(pe){return new(pe||ge)(e.LFG(f.aV),e.LFG(c.Kd),e.LFG(e.zs3),e.LFG(d.Yg),e.LFG(ge,12),e.LFG(G))};static#t=this.\u0275prov=e.Yz7({token:ge,factory:ge.\u0275fac,providedIn:Y})}return ge})()},3566:(Wn,et,p)=>{"use strict";p.d(et,{JX:()=>Fe,YE:()=>D,nU:()=>ae});var e=p(5879),t=p(4300),v=p(2495),b=p(6028),_=p(3680),P=p(8645),C=p(3019),m=p(6825),i=p(6814);const c=["mat-sort-header",""];function d(Y,le){if(1&Y){const G=e.EpF();e.TgZ(0,"div",3),e.NdJ("@arrowPosition.start",function(){e.CHM(G);const ce=e.oxw();return e.KtG(ce._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){e.CHM(G);const ce=e.oxw();return e.KtG(ce._disableViewStateAnimation=!1)}),e._UZ(1,"div",4),e.TgZ(2,"div",5),e._UZ(3,"div",6)(4,"div",7)(5,"div",8),e.qZA()()}if(2&Y){const G=e.oxw();e.Q6J("@arrowOpacity",G._getArrowViewState())("@arrowPosition",G._getArrowViewState())("@allowChildren",G._getArrowDirectionState()),e.xp6(2),e.Q6J("@indicator",G._getArrowDirectionState()),e.xp6(1),e.Q6J("@leftPointer",G._getArrowDirectionState()),e.xp6(1),e.Q6J("@rightPointer",G._getArrowDirectionState())}}const f=["*"],N=new e.OlP("MAT_SORT_DEFAULT_OPTIONS"),O=(0,_.dB)((0,_.Id)(class{}));let D=(()=>{class Y extends O{get direction(){return this._direction}set direction(G){this._direction=G}get disableClear(){return this._disableClear}set disableClear(G){this._disableClear=(0,v.Ig)(G)}constructor(G){super(),this._defaultOptions=G,this.sortables=new Map,this._stateChanges=new P.x,this.start="asc",this._direction="",this.sortChange=new e.vpe}register(G){this.sortables.set(G.id,G)}deregister(G){this.sortables.delete(G.id)}sort(G){this.active!=G.id?(this.active=G.id,this.direction=G.start?G.start:this.start):this.direction=this.getNextSortDirection(G),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(G){if(!G)return"";let ce=function I(Y,le){let G=["asc","desc"];return"desc"==Y&&G.reverse(),le||G.push(""),G}(G.start||this.start,G?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),ge=ce.indexOf(this.direction)+1;return ge>=ce.length&&(ge=0),ce[ge]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}static#e=this.\u0275fac=function(Se){return new(Se||Y)(e.Y36(N,8))};static#t=this.\u0275dir=e.lG2({type:Y,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[e.qOj,e.TTD]})}return Y})();const T=_.mZ.ENTERING+" "+_.yN.STANDARD_CURVE,L={indicator:(0,m.X$)("indicator",[(0,m.SB)("active-asc, asc",(0,m.oB)({transform:"translateY(0px)"})),(0,m.SB)("active-desc, desc",(0,m.oB)({transform:"translateY(10px)"})),(0,m.eR)("active-asc <=> active-desc",(0,m.jt)(T))]),leftPointer:(0,m.X$)("leftPointer",[(0,m.SB)("active-asc, asc",(0,m.oB)({transform:"rotate(-45deg)"})),(0,m.SB)("active-desc, desc",(0,m.oB)({transform:"rotate(45deg)"})),(0,m.eR)("active-asc <=> active-desc",(0,m.jt)(T))]),rightPointer:(0,m.X$)("rightPointer",[(0,m.SB)("active-asc, asc",(0,m.oB)({transform:"rotate(45deg)"})),(0,m.SB)("active-desc, desc",(0,m.oB)({transform:"rotate(-45deg)"})),(0,m.eR)("active-asc <=> active-desc",(0,m.jt)(T))]),arrowOpacity:(0,m.X$)("arrowOpacity",[(0,m.SB)("desc-to-active, asc-to-active, active",(0,m.oB)({opacity:1})),(0,m.SB)("desc-to-hint, asc-to-hint, hint",(0,m.oB)({opacity:.54})),(0,m.SB)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,m.oB)({opacity:0})),(0,m.eR)("* => asc, * => desc, * => active, * => hint, * => void",(0,m.jt)("0ms")),(0,m.eR)("* <=> *",(0,m.jt)(T))]),arrowPosition:(0,m.X$)("arrowPosition",[(0,m.eR)("* => desc-to-hint, * => desc-to-active",(0,m.jt)(T,(0,m.F4)([(0,m.oB)({transform:"translateY(-25%)"}),(0,m.oB)({transform:"translateY(0)"})]))),(0,m.eR)("* => hint-to-desc, * => active-to-desc",(0,m.jt)(T,(0,m.F4)([(0,m.oB)({transform:"translateY(0)"}),(0,m.oB)({transform:"translateY(25%)"})]))),(0,m.eR)("* => asc-to-hint, * => asc-to-active",(0,m.jt)(T,(0,m.F4)([(0,m.oB)({transform:"translateY(25%)"}),(0,m.oB)({transform:"translateY(0)"})]))),(0,m.eR)("* => hint-to-asc, * => active-to-asc",(0,m.jt)(T,(0,m.F4)([(0,m.oB)({transform:"translateY(0)"}),(0,m.oB)({transform:"translateY(-25%)"})]))),(0,m.SB)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,m.oB)({transform:"translateY(0)"})),(0,m.SB)("hint-to-desc, active-to-desc, desc",(0,m.oB)({transform:"translateY(-25%)"})),(0,m.SB)("hint-to-asc, active-to-asc, asc",(0,m.oB)({transform:"translateY(25%)"}))]),allowChildren:(0,m.X$)("allowChildren",[(0,m.eR)("* <=> *",[(0,m.IO)("@*",(0,m.pV)(),{optional:!0})])])};let y=(()=>{class Y{constructor(){this.changes=new P.x}static#e=this.\u0275fac=function(Se){return new(Se||Y)};static#t=this.\u0275prov=e.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})();const z={provide:y,deps:[[new e.FiY,new e.tp0,y]],useFactory:function B(Y){return Y||new y}},ne=(0,_.Id)(class{});let ae=(()=>{class Y extends ne{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(G){this._updateSortActionDescription(G)}get disableClear(){return this._disableClear}set disableClear(G){this._disableClear=(0,v.Ig)(G)}constructor(G,Se,ce,ge,Ie,Ce,pe,Ae){super(),this._intl=G,this._changeDetectorRef=Se,this._sort=ce,this._columnDef=ge,this._focusMonitor=Ie,this._elementRef=Ce,this._ariaDescriber=pe,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",Ae?.arrowPosition&&(this.arrowPosition=Ae?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(G=>{const Se=!!G;Se!==this._showIndicatorHint&&(this._setIndicatorHintVisible(Se),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(G){this._isDisabled()&&G||(this._showIndicatorHint=G,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(G){this._viewState=G||{},this._disableViewStateAnimation&&(this._viewState={toState:G.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(G){!this._isDisabled()&&(G.keyCode===b.L_||G.keyCode===b.K5)&&(G.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const G=this._viewState.fromState;return(G?`${G}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(G){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,G)),this._sortActionDescription=G}_handleStateChanges(){this._rerenderSubscription=(0,C.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(Se){return new(Se||Y)(e.Y36(y),e.Y36(e.sBO),e.Y36(D,8),e.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),e.Y36(t.tE),e.Y36(e.SBq),e.Y36(t.$s,8),e.Y36(N,8))};static#t=this.\u0275cmp=e.Xpm({type:Y,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(Se,ce){1&Se&&e.NdJ("click",function(){return ce._handleClick()})("keydown",function(Ie){return ce._handleKeydown(Ie)})("mouseenter",function(){return ce._setIndicatorHintVisible(!0)})("mouseleave",function(){return ce._setIndicatorHintVisible(!1)}),2&Se&&(e.uIk("aria-sort",ce._getAriaSortAttribute()),e.ekj("mat-sort-header-disabled",ce._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[e.qOj],attrs:c,ngContentSelectors:f,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(Se,ce){1&Se&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.Hsn(2),e.qZA(),e.YNc(3,d,6,6,"div",2),e.qZA()),2&Se&&(e.ekj("mat-sort-header-sorted",ce._isSorted())("mat-sort-header-position-before","before"===ce.arrowPosition),e.uIk("tabindex",ce._isDisabled()?null:0)("role",ce._isDisabled()?null:"button"),e.xp6(3),e.Q6J("ngIf",ce._renderArrow()))},dependencies:[i.O5],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[L.indicator,L.leftPointer,L.rightPointer,L.arrowOpacity,L.arrowPosition,L.allowChildren]},changeDetection:0})}return Y})(),Fe=(()=>{class Y{static#e=this.\u0275fac=function(Se){return new(Se||Y)};static#t=this.\u0275mod=e.oAB({type:Y});static#n=this.\u0275inj=e.cJS({providers:[z],imports:[i.ez,_.BQ]})}return Y})()},5313:(Wn,et,p)=>{"use strict";p.d(et,{ev:()=>on,Dz:()=>Ye,w1:()=>St,ge:()=>bt,fO:()=>st,XQ:()=>In,as:()=>En,Ee:()=>ni,Gk:()=>$n,nj:()=>Mn,BZ:()=>He,by:()=>Mt,p0:()=>yn});var e=p(5879),t=p(9388),v=p(2495),b=p(8337),_=p(2831),P=p(799),C=p(6814),m=p(8645),i=p(2459),c=p(5619),d=p(2664),f=p(2096),g=p(9773),S=p(8180);const x=[[["caption"]],[["colgroup"],["col"]]],A=["caption","colgroup, col"];function D(ht){return class extends ht{get sticky(){return this._sticky}set sticky(Tn){const qe=this._sticky;this._sticky=(0,v.Ig)(Tn),this._hasStickyChanged=qe!==this._sticky}hasStickyChanged(){const Tn=this._hasStickyChanged;return this._hasStickyChanged=!1,Tn}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...Tn){super(...Tn),this._sticky=!1,this._hasStickyChanged=!1}}}const I=new e.OlP("CDK_TABLE");let L=(()=>{class ht{constructor(qe){this.template=qe}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","cdkCellDef",""]]})}return ht})(),y=(()=>{class ht{constructor(qe){this.template=qe}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","cdkHeaderCellDef",""]]})}return ht})(),B=(()=>{class ht{constructor(qe){this.template=qe}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","cdkFooterCellDef",""]]})}return ht})();class z{}const ne=D(z);let ae=(()=>{class ht extends ne{get name(){return this._name}set name(qe){this._setNameInput(qe)}get stickyEnd(){return this._stickyEnd}set stickyEnd(qe){const Ct=this._stickyEnd;this._stickyEnd=(0,v.Ig)(qe),this._hasStickyChanged=Ct!==this._stickyEnd}constructor(qe){super(),this._table=qe,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(qe){qe&&(this._name=qe,this.cssClassFriendlyName=qe.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(I,8))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","cdkColumnDef",""]],contentQueries:function(Ct,Qt,Rt){if(1&Ct&&(e.Suo(Rt,L,5),e.Suo(Rt,y,5),e.Suo(Rt,B,5)),2&Ct){let xn;e.iGM(xn=e.CRH())&&(Qt.cell=xn.first),e.iGM(xn=e.CRH())&&(Qt.headerCell=xn.first),e.iGM(xn=e.CRH())&&(Qt.footerCell=xn.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[e._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:ht}]),e.qOj]})}return ht})();class Fe{constructor(Tn,qe){qe.nativeElement.classList.add(...Tn._columnCssClassName)}}let Y=(()=>{class ht extends Fe{constructor(qe,Ct){super(qe,Ct)}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(ae),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[e.qOj]})}return ht})(),G=(()=>{class ht extends Fe{constructor(qe,Ct){if(super(qe,Ct),1===qe._table?._elementRef.nativeElement.nodeType){const Qt=qe._table._elementRef.nativeElement.getAttribute("role");Ct.nativeElement.setAttribute("role","grid"===Qt||"treegrid"===Qt?"gridcell":"cell")}}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(ae),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[e.qOj]})}return ht})();class Se{constructor(){this.tasks=[],this.endTasks=[]}}const ce=new e.OlP("_COALESCED_STYLE_SCHEDULER");let ge=(()=>{class ht{constructor(qe){this._ngZone=qe,this._currentSchedule=null,this._destroyed=new m.x}schedule(qe){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(qe)}scheduleEnd(qe){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(qe)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Se,this._getScheduleObservable().pipe((0,g.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const qe=this._currentSchedule;this._currentSchedule=new Se;for(const Ct of qe.tasks)Ct();for(const Ct of qe.endTasks)Ct()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,i.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,S.q)(1))}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:ht,factory:ht.\u0275fac})}return ht})(),Ce=(()=>{class ht{constructor(qe,Ct){this.template=qe,this._differs=Ct}ngOnChanges(qe){if(!this._columnsDiffer){const Ct=qe.columns&&qe.columns.currentValue||[];this._columnsDiffer=this._differs.find(Ct).create(),this._columnsDiffer.diff(Ct)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(qe){return this instanceof ke?qe.headerCell.template:this instanceof Te?qe.footerCell.template:qe.cell.template}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.Rgc),e.Y36(e.ZZ4))};static#t=this.\u0275dir=e.lG2({type:ht,features:[e.TTD]})}return ht})();class pe extends Ce{}const Ae=D(pe);let ke=(()=>{class ht extends Ae{constructor(qe,Ct,Qt){super(qe,Ct),this._table=Qt}ngOnChanges(qe){super.ngOnChanges(qe)}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.Rgc),e.Y36(e.ZZ4),e.Y36(I,8))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[e.qOj,e.TTD]})}return ht})();class he extends Ce{}const we=D(he);let Te=(()=>{class ht extends we{constructor(qe,Ct,Qt){super(qe,Ct),this._table=Qt}ngOnChanges(qe){super.ngOnChanges(qe)}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.Rgc),e.Y36(e.ZZ4),e.Y36(I,8))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[e.qOj,e.TTD]})}return ht})(),Oe=(()=>{class ht extends Ce{constructor(qe,Ct,Qt){super(qe,Ct),this._table=Qt}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.Rgc),e.Y36(e.ZZ4),e.Y36(I,8))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[e.qOj]})}return ht})(),Ve=(()=>{class ht{static#e=this.mostRecentCellOutlet=null;constructor(qe){this._viewContainer=qe,ht.mostRecentCellOutlet=this}ngOnDestroy(){ht.mostRecentCellOutlet===this&&(ht.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.s_b))};static#n=this.\u0275dir=e.lG2({type:ht,selectors:[["","cdkCellOutlet",""]]})}return ht})(),ft=(()=>{class ht{static#e=this.\u0275fac=function(Ct){return new(Ct||ht)};static#t=this.\u0275cmp=e.Xpm({type:ht,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Ct,Qt){1&Ct&&e.GkF(0,0)},dependencies:[Ve],encapsulation:2})}return ht})(),Re=(()=>{class ht{static#e=this.\u0275fac=function(Ct){return new(Ct||ht)};static#t=this.\u0275cmp=e.Xpm({type:ht,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Ct,Qt){1&Ct&&e.GkF(0,0)},dependencies:[Ve],encapsulation:2})}return ht})(),be=(()=>{class ht{constructor(qe){this.templateRef=qe,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["ng-template","cdkNoDataRow",""]]})}return ht})();const Q=["top","bottom","left","right"];class ie{constructor(Tn,qe,Ct,Qt,Rt=!0,xn=!0,kt){this._isNativeHtmlTable=Tn,this._stickCellCss=qe,this.direction=Ct,this._coalescedStyleScheduler=Qt,this._isBrowser=Rt,this._needsPositionStickyOnElement=xn,this._positionListener=kt,this._cachedCellWidths=[],this._borderCellCss={top:`${qe}-border-elem-top`,bottom:`${qe}-border-elem-bottom`,left:`${qe}-border-elem-left`,right:`${qe}-border-elem-right`}}clearStickyPositioning(Tn,qe){const Ct=[];for(const Qt of Tn)if(Qt.nodeType===Qt.ELEMENT_NODE){Ct.push(Qt);for(let Rt=0;Rt<Qt.children.length;Rt++)Ct.push(Qt.children[Rt])}this._coalescedStyleScheduler.schedule(()=>{for(const Qt of Ct)this._removeStickyStyle(Qt,qe)})}updateStickyColumns(Tn,qe,Ct,Qt=!0){if(!Tn.length||!this._isBrowser||!qe.some(Kn=>Kn)&&!Ct.some(Kn=>Kn))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const Rt=Tn[0],xn=Rt.children.length,kt=this._getCellWidths(Rt,Qt),It=this._getStickyStartColumnPositions(kt,qe),Nt=this._getStickyEndColumnPositions(kt,Ct),en=qe.lastIndexOf(!0),An=Ct.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const Kn="rtl"===this.direction,Xn=Kn?"right":"left",Ut=Kn?"left":"right";for(const On of Tn)for(let Ne=0;Ne<xn;Ne++){const Ft=On.children[Ne];qe[Ne]&&this._addStickyStyle(Ft,Xn,It[Ne],Ne===en),Ct[Ne]&&this._addStickyStyle(Ft,Ut,Nt[Ne],Ne===An)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===en?[]:kt.slice(0,en+1).map((On,Ne)=>qe[Ne]?On:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===An?[]:kt.slice(An).map((On,Ne)=>Ct[Ne+An]?On:null).reverse()}))})}stickRows(Tn,qe,Ct){if(!this._isBrowser)return;const Qt="bottom"===Ct?Tn.slice().reverse():Tn,Rt="bottom"===Ct?qe.slice().reverse():qe,xn=[],kt=[],It=[];for(let en=0,An=0;en<Qt.length;en++){if(!Rt[en])continue;xn[en]=An;const Kn=Qt[en];It[en]=this._isNativeHtmlTable?Array.from(Kn.children):[Kn];const Xn=Kn.getBoundingClientRect().height;An+=Xn,kt[en]=Xn}const Nt=Rt.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let en=0;en<Qt.length;en++){if(!Rt[en])continue;const An=xn[en],Kn=en===Nt;for(const Xn of It[en])this._addStickyStyle(Xn,Ct,An,Kn)}"top"===Ct?this._positionListener?.stickyHeaderRowsUpdated({sizes:kt,offsets:xn,elements:It}):this._positionListener?.stickyFooterRowsUpdated({sizes:kt,offsets:xn,elements:It})})}updateStickyFooterContainer(Tn,qe){if(!this._isNativeHtmlTable)return;const Ct=Tn.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{qe.some(Qt=>!Qt)?this._removeStickyStyle(Ct,["bottom"]):this._addStickyStyle(Ct,"bottom",0,!1)})}_removeStickyStyle(Tn,qe){for(const Qt of qe)Tn.style[Qt]="",Tn.classList.remove(this._borderCellCss[Qt]);Q.some(Qt=>-1===qe.indexOf(Qt)&&Tn.style[Qt])?Tn.style.zIndex=this._getCalculatedZIndex(Tn):(Tn.style.zIndex="",this._needsPositionStickyOnElement&&(Tn.style.position=""),Tn.classList.remove(this._stickCellCss))}_addStickyStyle(Tn,qe,Ct,Qt){Tn.classList.add(this._stickCellCss),Qt&&Tn.classList.add(this._borderCellCss[qe]),Tn.style[qe]=`${Ct}px`,Tn.style.zIndex=this._getCalculatedZIndex(Tn),this._needsPositionStickyOnElement&&(Tn.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(Tn){const qe={top:100,bottom:10,left:1,right:1};let Ct=0;for(const Qt of Q)Tn.style[Qt]&&(Ct+=qe[Qt]);return Ct?`${Ct}`:""}_getCellWidths(Tn,qe=!0){if(!qe&&this._cachedCellWidths.length)return this._cachedCellWidths;const Ct=[],Qt=Tn.children;for(let Rt=0;Rt<Qt.length;Rt++)Ct.push(Qt[Rt].getBoundingClientRect().width);return this._cachedCellWidths=Ct,Ct}_getStickyStartColumnPositions(Tn,qe){const Ct=[];let Qt=0;for(let Rt=0;Rt<Tn.length;Rt++)qe[Rt]&&(Ct[Rt]=Qt,Qt+=Tn[Rt]);return Ct}_getStickyEndColumnPositions(Tn,qe){const Ct=[];let Qt=0;for(let Rt=Tn.length;Rt>0;Rt--)qe[Rt]&&(Ct[Rt]=Qt,Qt+=Tn[Rt]);return Ct}}const _e=new e.OlP("CDK_SPL");let Ee=(()=>{class ht{constructor(qe,Ct){this.viewContainer=qe,this.elementRef=Ct}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.s_b),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","rowOutlet",""]]})}return ht})(),Ge=(()=>{class ht{constructor(qe,Ct){this.viewContainer=qe,this.elementRef=Ct}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.s_b),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","headerRowOutlet",""]]})}return ht})(),ct=(()=>{class ht{constructor(qe,Ct){this.viewContainer=qe,this.elementRef=Ct}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.s_b),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","footerRowOutlet",""]]})}return ht})(),Xe=(()=>{class ht{constructor(qe,Ct){this.viewContainer=qe,this.elementRef=Ct}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.s_b),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","noDataRowOutlet",""]]})}return ht})(),Qe=(()=>{class ht{get trackBy(){return this._trackByFn}set trackBy(qe){this._trackByFn=qe}get dataSource(){return this._dataSource}set dataSource(qe){this._dataSource!==qe&&this._switchDataSource(qe)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(qe){this._multiTemplateDataRows=(0,v.Ig)(qe),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(qe){this._fixedLayout=(0,v.Ig)(qe),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(qe,Ct,Qt,Rt,xn,kt,It,Nt,en,An,Kn,Xn){this._differs=qe,this._changeDetectorRef=Ct,this._elementRef=Qt,this._dir=xn,this._platform=It,this._viewRepeater=Nt,this._coalescedStyleScheduler=en,this._viewportRuler=An,this._stickyPositioningListener=Kn,this._ngZone=Xn,this._onDestroy=new m.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new e.vpe,this.viewChange=new c.X({start:0,end:Number.MAX_VALUE}),Rt||this._elementRef.nativeElement.setAttribute("role","table"),this._document=kt,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((qe,Ct)=>this.trackBy?this.trackBy(Ct.dataIndex,Ct.data):Ct),this._viewportRuler.change().pipe((0,g.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const Ct=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||Ct,this._forceRecalculateCellWidths=Ct,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(qe=>{qe.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,b.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const qe=this._dataDiffer.diff(this._renderRows);if(!qe)return this._updateNoDataRow(),void this.contentChanged.next();const Ct=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(qe,Ct,(Qt,Rt,xn)=>this._getEmbeddedViewArgs(Qt.item,xn),Qt=>Qt.item.data,Qt=>{1===Qt.operation&&Qt.context&&this._renderCellTemplateForItem(Qt.record.item.rowDef,Qt.context)}),this._updateRowIndexContext(),qe.forEachIdentityChange(Qt=>{Ct.get(Qt.currentIndex).context.$implicit=Qt.item.data}),this._updateNoDataRow(),this._ngZone&&e.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,S.q)(1),(0,g.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(qe){this._customColumnDefs.add(qe)}removeColumnDef(qe){this._customColumnDefs.delete(qe)}addRowDef(qe){this._customRowDefs.add(qe)}removeRowDef(qe){this._customRowDefs.delete(qe)}addHeaderRowDef(qe){this._customHeaderRowDefs.add(qe),this._headerRowDefChanged=!0}removeHeaderRowDef(qe){this._customHeaderRowDefs.delete(qe),this._headerRowDefChanged=!0}addFooterRowDef(qe){this._customFooterRowDefs.add(qe),this._footerRowDefChanged=!0}removeFooterRowDef(qe){this._customFooterRowDefs.delete(qe),this._footerRowDefChanged=!0}setNoDataRow(qe){this._customNoDataRow=qe}updateStickyHeaderRowStyles(){const qe=this._getRenderedRows(this._headerRowOutlet),Qt=this._elementRef.nativeElement.querySelector("thead");Qt&&(Qt.style.display=qe.length?"":"none");const Rt=this._headerRowDefs.map(xn=>xn.sticky);this._stickyStyler.clearStickyPositioning(qe,["top"]),this._stickyStyler.stickRows(qe,Rt,"top"),this._headerRowDefs.forEach(xn=>xn.resetStickyChanged())}updateStickyFooterRowStyles(){const qe=this._getRenderedRows(this._footerRowOutlet),Qt=this._elementRef.nativeElement.querySelector("tfoot");Qt&&(Qt.style.display=qe.length?"":"none");const Rt=this._footerRowDefs.map(xn=>xn.sticky);this._stickyStyler.clearStickyPositioning(qe,["bottom"]),this._stickyStyler.stickRows(qe,Rt,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,Rt),this._footerRowDefs.forEach(xn=>xn.resetStickyChanged())}updateStickyColumnStyles(){const qe=this._getRenderedRows(this._headerRowOutlet),Ct=this._getRenderedRows(this._rowOutlet),Qt=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...qe,...Ct,...Qt],["left","right"]),this._stickyColumnStylesNeedReset=!1),qe.forEach((Rt,xn)=>{this._addStickyColumnStyles([Rt],this._headerRowDefs[xn])}),this._rowDefs.forEach(Rt=>{const xn=[];for(let kt=0;kt<Ct.length;kt++)this._renderRows[kt].rowDef===Rt&&xn.push(Ct[kt]);this._addStickyColumnStyles(xn,Rt)}),Qt.forEach((Rt,xn)=>{this._addStickyColumnStyles([Rt],this._footerRowDefs[xn])}),Array.from(this._columnDefsByName.values()).forEach(Rt=>Rt.resetStickyChanged())}_getAllRenderRows(){const qe=[],Ct=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let Qt=0;Qt<this._data.length;Qt++){let Rt=this._data[Qt];const xn=this._getRenderRowsForData(Rt,Qt,Ct.get(Rt));this._cachedRenderRowsMap.has(Rt)||this._cachedRenderRowsMap.set(Rt,new WeakMap);for(let kt=0;kt<xn.length;kt++){let It=xn[kt];const Nt=this._cachedRenderRowsMap.get(It.data);Nt.has(It.rowDef)?Nt.get(It.rowDef).push(It):Nt.set(It.rowDef,[It]),qe.push(It)}}return qe}_getRenderRowsForData(qe,Ct,Qt){return this._getRowDefs(qe,Ct).map(xn=>{const kt=Qt&&Qt.has(xn)?Qt.get(xn):[];if(kt.length){const It=kt.shift();return It.dataIndex=Ct,It}return{data:qe,rowDef:xn,dataIndex:Ct}})}_cacheColumnDefs(){this._columnDefsByName.clear(),yt(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(Ct=>{this._columnDefsByName.has(Ct.name),this._columnDefsByName.set(Ct.name,Ct)})}_cacheRowDefs(){this._headerRowDefs=yt(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=yt(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=yt(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const qe=this._rowDefs.filter(Ct=>!Ct.when);this._defaultRowDef=qe[0]}_renderUpdatedColumns(){const qe=(xn,kt)=>xn||!!kt.getColumnsDiff(),Ct=this._rowDefs.reduce(qe,!1);Ct&&this._forceRenderDataRows();const Qt=this._headerRowDefs.reduce(qe,!1);Qt&&this._forceRenderHeaderRows();const Rt=this._footerRowDefs.reduce(qe,!1);return Rt&&this._forceRenderFooterRows(),Ct||Qt||Rt}_switchDataSource(qe){this._data=[],(0,b.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),qe||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=qe}_observeRenderChanges(){if(!this.dataSource)return;let qe;(0,b.Z9)(this.dataSource)?qe=this.dataSource.connect(this):(0,d.b)(this.dataSource)?qe=this.dataSource:Array.isArray(this.dataSource)&&(qe=(0,f.of)(this.dataSource)),this._renderChangeSubscription=qe.pipe((0,g.R)(this._onDestroy)).subscribe(Ct=>{this._data=Ct||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((qe,Ct)=>this._renderRow(this._headerRowOutlet,qe,Ct)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((qe,Ct)=>this._renderRow(this._footerRowOutlet,qe,Ct)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(qe,Ct){const Qt=Array.from(Ct.columns||[]).map(kt=>this._columnDefsByName.get(kt)),Rt=Qt.map(kt=>kt.sticky),xn=Qt.map(kt=>kt.stickyEnd);this._stickyStyler.updateStickyColumns(qe,Rt,xn,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(qe){const Ct=[];for(let Qt=0;Qt<qe.viewContainer.length;Qt++){const Rt=qe.viewContainer.get(Qt);Ct.push(Rt.rootNodes[0])}return Ct}_getRowDefs(qe,Ct){if(1==this._rowDefs.length)return[this._rowDefs[0]];let Qt=[];if(this.multiTemplateDataRows)Qt=this._rowDefs.filter(Rt=>!Rt.when||Rt.when(Ct,qe));else{let Rt=this._rowDefs.find(xn=>xn.when&&xn.when(Ct,qe))||this._defaultRowDef;Rt&&Qt.push(Rt)}return Qt}_getEmbeddedViewArgs(qe,Ct){return{templateRef:qe.rowDef.template,context:{$implicit:qe.data},index:Ct}}_renderRow(qe,Ct,Qt,Rt={}){const xn=qe.viewContainer.createEmbeddedView(Ct.template,Rt,Qt);return this._renderCellTemplateForItem(Ct,Rt),xn}_renderCellTemplateForItem(qe,Ct){for(let Qt of this._getCellTemplates(qe))Ve.mostRecentCellOutlet&&Ve.mostRecentCellOutlet._viewContainer.createEmbeddedView(Qt,Ct);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const qe=this._rowOutlet.viewContainer;for(let Ct=0,Qt=qe.length;Ct<Qt;Ct++){const xn=qe.get(Ct).context;xn.count=Qt,xn.first=0===Ct,xn.last=Ct===Qt-1,xn.even=Ct%2==0,xn.odd=!xn.even,this.multiTemplateDataRows?(xn.dataIndex=this._renderRows[Ct].dataIndex,xn.renderIndex=Ct):xn.index=this._renderRows[Ct].dataIndex}}_getCellTemplates(qe){return qe&&qe.columns?Array.from(qe.columns,Ct=>{const Qt=this._columnDefsByName.get(Ct);return qe.extractCellTemplate(Qt)}):[]}_applyNativeTableSections(){const qe=this._document.createDocumentFragment(),Ct=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const Qt of Ct){const Rt=this._document.createElement(Qt.tag);Rt.setAttribute("role","rowgroup");for(const xn of Qt.outlets)Rt.appendChild(xn.elementRef.nativeElement);qe.appendChild(Rt)}this._elementRef.nativeElement.appendChild(qe)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const qe=(Ct,Qt)=>Ct||Qt.hasStickyChanged();this._headerRowDefs.reduce(qe,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(qe,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(qe,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new ie(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,f.of)()).pipe((0,g.R)(this._onDestroy)).subscribe(Ct=>{this._stickyStyler.direction=Ct,this.updateStickyColumnStyles()})}_getOwnDefs(qe){return qe.filter(Ct=>!Ct._table||Ct._table===this)}_updateNoDataRow(){const qe=this._customNoDataRow||this._noDataRow;if(!qe)return;const Ct=0===this._rowOutlet.viewContainer.length;if(Ct===this._isShowingNoDataRow)return;const Qt=this._noDataRowOutlet.viewContainer;if(Ct){const Rt=Qt.createEmbeddedView(qe.templateRef),xn=Rt.rootNodes[0];1===Rt.rootNodes.length&&xn?.nodeType===this._document.ELEMENT_NODE&&(xn.setAttribute("role","row"),xn.classList.add(qe._contentClassName))}else Qt.clear();this._isShowingNoDataRow=Ct}static#e=this.\u0275fac=function(Ct){return new(Ct||ht)(e.Y36(e.ZZ4),e.Y36(e.sBO),e.Y36(e.SBq),e.$8M("role"),e.Y36(t.Is,8),e.Y36(C.K0),e.Y36(_.t4),e.Y36(b.k),e.Y36(ce),e.Y36(P.rL),e.Y36(_e,12),e.Y36(e.R0b,8))};static#t=this.\u0275cmp=e.Xpm({type:ht,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(Ct,Qt,Rt){if(1&Ct&&(e.Suo(Rt,be,5),e.Suo(Rt,ae,5),e.Suo(Rt,Oe,5),e.Suo(Rt,ke,5),e.Suo(Rt,Te,5)),2&Ct){let xn;e.iGM(xn=e.CRH())&&(Qt._noDataRow=xn.first),e.iGM(xn=e.CRH())&&(Qt._contentColumnDefs=xn),e.iGM(xn=e.CRH())&&(Qt._contentRowDefs=xn),e.iGM(xn=e.CRH())&&(Qt._contentHeaderRowDefs=xn),e.iGM(xn=e.CRH())&&(Qt._contentFooterRowDefs=xn)}},viewQuery:function(Ct,Qt){if(1&Ct&&(e.Gf(Ee,7),e.Gf(Ge,7),e.Gf(ct,7),e.Gf(Xe,7)),2&Ct){let Rt;e.iGM(Rt=e.CRH())&&(Qt._rowOutlet=Rt.first),e.iGM(Rt=e.CRH())&&(Qt._headerRowOutlet=Rt.first),e.iGM(Rt=e.CRH())&&(Qt._footerRowOutlet=Rt.first),e.iGM(Rt=e.CRH())&&(Qt._noDataRowOutlet=Rt.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(Ct,Qt){2&Ct&&e.ekj("cdk-table-fixed-layout",Qt.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[e._Bn([{provide:I,useExisting:ht},{provide:b.k,useClass:b.yy},{provide:ce,useClass:ge},{provide:_e,useValue:null}])],ngContentSelectors:A,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(Ct,Qt){1&Ct&&(e.F$t(x),e.Hsn(0),e.Hsn(1,1),e.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Ee,Ge,ct,Xe],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return ht})();function yt(ht,Tn){return ht.concat(Array.from(Tn))}let ze=(()=>{class ht{static#e=this.\u0275fac=function(Ct){return new(Ct||ht)};static#t=this.\u0275mod=e.oAB({type:ht});static#n=this.\u0275inj=e.cJS({imports:[P.Cl]})}return ht})();var Tt=p(3680),Kt=p(3019),Jt=p(2572),qt=p(7398);const un=[[["caption"]],[["colgroup"],["col"]]],fn=["caption","colgroup, col"];let He=(()=>{class ht extends Qe{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}static#e=this.\u0275fac=function(){let qe;return function(Qt){return(qe||(qe=e.n5z(ht)))(Qt||ht)}}();static#t=this.\u0275cmp=e.Xpm({type:ht,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(Ct,Qt){2&Ct&&e.ekj("mdc-table-fixed-layout",Qt.fixedLayout)},exportAs:["matTable"],features:[e._Bn([{provide:Qe,useExisting:ht},{provide:I,useExisting:ht},{provide:ce,useClass:ge},{provide:b.k,useClass:b.yy},{provide:_e,useValue:null}]),e.qOj],ngContentSelectors:fn,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(Ct,Qt){1&Ct&&(e.F$t(un),e.Hsn(0),e.Hsn(1,1),e.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Ee,Ge,ct,Xe],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child>.mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return ht})(),Ye=(()=>{class ht extends L{static#e=this.\u0275fac=function(){let qe;return function(Qt){return(qe||(qe=e.n5z(ht)))(Qt||ht)}}();static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","matCellDef",""]],features:[e._Bn([{provide:L,useExisting:ht}]),e.qOj]})}return ht})(),st=(()=>{class ht extends y{static#e=this.\u0275fac=function(){let qe;return function(Qt){return(qe||(qe=e.n5z(ht)))(Qt||ht)}}();static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","matHeaderCellDef",""]],features:[e._Bn([{provide:y,useExisting:ht}]),e.qOj]})}return ht})(),St=(()=>{class ht extends ae{get name(){return this._name}set name(qe){this._setNameInput(qe)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#e=this.\u0275fac=function(){let qe;return function(Qt){return(qe||(qe=e.n5z(ht)))(Qt||ht)}}();static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[e._Bn([{provide:ae,useExisting:ht},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:ht}]),e.qOj]})}return ht})(),bt=(()=>{class ht extends Y{static#e=this.\u0275fac=function(){let qe;return function(Qt){return(qe||(qe=e.n5z(ht)))(Qt||ht)}}();static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[e.qOj]})}return ht})(),on=(()=>{class ht extends G{static#e=this.\u0275fac=function(){let qe;return function(Qt){return(qe||(qe=e.n5z(ht)))(Qt||ht)}}();static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[e.qOj]})}return ht})(),En=(()=>{class ht extends ke{static#e=this.\u0275fac=function(){let qe;return function(Qt){return(qe||(qe=e.n5z(ht)))(Qt||ht)}}();static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[e._Bn([{provide:ke,useExisting:ht}]),e.qOj]})}return ht})(),Mn=(()=>{class ht extends Oe{static#e=this.\u0275fac=function(){let qe;return function(Qt){return(qe||(qe=e.n5z(ht)))(Qt||ht)}}();static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[e._Bn([{provide:Oe,useExisting:ht}]),e.qOj]})}return ht})(),In=(()=>{class ht extends ft{static#e=this.\u0275fac=function(){let qe;return function(Qt){return(qe||(qe=e.n5z(ht)))(Qt||ht)}}();static#t=this.\u0275cmp=e.Xpm({type:ht,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[e._Bn([{provide:ft,useExisting:ht}]),e.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Ct,Qt){1&Ct&&e.GkF(0,0)},dependencies:[Ve],encapsulation:2})}return ht})(),$n=(()=>{class ht extends Re{static#e=this.\u0275fac=function(){let qe;return function(Qt){return(qe||(qe=e.n5z(ht)))(Qt||ht)}}();static#t=this.\u0275cmp=e.Xpm({type:ht,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[e._Bn([{provide:Re,useExisting:ht}]),e.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Ct,Qt){1&Ct&&e.GkF(0,0)},dependencies:[Ve],encapsulation:2})}return ht})(),ni=(()=>{class ht extends be{constructor(){super(...arguments),this._contentClassName="mat-mdc-no-data-row"}static#e=this.\u0275fac=function(){let qe;return function(Qt){return(qe||(qe=e.n5z(ht)))(Qt||ht)}}();static#t=this.\u0275dir=e.lG2({type:ht,selectors:[["ng-template","matNoDataRow",""]],features:[e._Bn([{provide:be,useExisting:ht}]),e.qOj]})}return ht})(),yn=(()=>{class ht{static#e=this.\u0275fac=function(Ct){return new(Ct||ht)};static#t=this.\u0275mod=e.oAB({type:ht});static#n=this.\u0275inj=e.cJS({imports:[Tt.BQ,ze,Tt.BQ]})}return ht})();class _n extends b.o2{get data(){return this._data.value}set data(Tn){Tn=Array.isArray(Tn)?Tn:[],this._data.next(Tn),this._renderChangesSubscription||this._filterData(Tn)}get filter(){return this._filter.value}set filter(Tn){this._filter.next(Tn),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(Tn){this._sort=Tn,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(Tn){this._paginator=Tn,this._updateChangeSubscription()}constructor(Tn=[]){super(),this._renderData=new c.X([]),this._filter=new c.X(""),this._internalPageChanges=new m.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(qe,Ct)=>{const Qt=qe[Ct];if((0,v.t6)(Qt)){const Rt=Number(Qt);return Rt<9007199254740991?Rt:Qt}return Qt},this.sortData=(qe,Ct)=>{const Qt=Ct.active,Rt=Ct.direction;return Qt&&""!=Rt?qe.sort((xn,kt)=>{let It=this.sortingDataAccessor(xn,Qt),Nt=this.sortingDataAccessor(kt,Qt);const en=typeof It,An=typeof Nt;en!==An&&("number"===en&&(It+=""),"number"===An&&(Nt+=""));let Kn=0;return null!=It&&null!=Nt?It>Nt?Kn=1:It<Nt&&(Kn=-1):null!=It?Kn=1:null!=Nt&&(Kn=-1),Kn*("asc"==Rt?1:-1)}):qe},this.filterPredicate=(qe,Ct)=>{const Qt=Object.keys(qe).reduce((xn,kt)=>xn+qe[kt]+"\u25ec","").toLowerCase(),Rt=Ct.trim().toLowerCase();return-1!=Qt.indexOf(Rt)},this._data=new c.X(Tn),this._updateChangeSubscription()}_updateChangeSubscription(){const Tn=this._sort?(0,Kt.T)(this._sort.sortChange,this._sort.initialized):(0,f.of)(null),qe=this._paginator?(0,Kt.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,f.of)(null),Qt=(0,Jt.a)([this._data,this._filter]).pipe((0,qt.U)(([kt])=>this._filterData(kt))),Rt=(0,Jt.a)([Qt,Tn]).pipe((0,qt.U)(([kt])=>this._orderData(kt))),xn=(0,Jt.a)([Rt,qe]).pipe((0,qt.U)(([kt])=>this._pageData(kt)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=xn.subscribe(kt=>this._renderData.next(kt))}_filterData(Tn){return this.filteredData=null==this.filter||""===this.filter?Tn:Tn.filter(qe=>this.filterPredicate(qe,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(Tn){return this.sort?this.sortData(Tn.slice(),this.sort):Tn}_pageData(Tn){if(!this.paginator)return Tn;const qe=this.paginator.pageIndex*this.paginator.pageSize;return Tn.slice(qe,qe+this.paginator.pageSize)}_updatePaginator(Tn){Promise.resolve().then(()=>{const qe=this.paginator;if(qe&&(qe.length=Tn,qe.pageIndex>0)){const Ct=Math.ceil(qe.length/qe.pageSize)-1||0,Qt=Math.min(qe.pageIndex,Ct);Qt!==qe.pageIndex&&(qe.pageIndex=Qt,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class Mt extends _n{}},2596:(Wn,et,p)=>{"use strict";p.d(et,{AV:()=>pe,gM:()=>ce});var e=p(9773),t=p(8180),v=p(2495),b=p(6028),_=p(5879),P=p(6814),C=p(2831),m=p(4300),i=p(9388),c=p(3651),d=p(799),f=p(8484),g=p(8645),x=(p(6825),p(3680));const A=["tooltip"],D=new _.OlP("mat-tooltip-scroll-strategy"),T={provide:D,deps:[c.aV],useFactory:function I(Ae){return()=>Ae.scrollStrategies.reposition({scrollThrottle:20})}},y=new _.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function L(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),z="tooltip-panel",ne=(0,C.i$)({passive:!0});let Se=(()=>{class Ae{get position(){return this._position}set position(he){he!==this._position&&(this._position=he,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(he){this._positionAtOrigin=(0,v.Ig)(he),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(he){this._disabled=(0,v.Ig)(he),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(he){this._showDelay=(0,v.su)(he)}get hideDelay(){return this._hideDelay}set hideDelay(he){this._hideDelay=(0,v.su)(he),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(he){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=he?String(he).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(he){this._tooltipClass=he,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(he,we,Te,Oe,Ve,ft,Ze,Re,be,Q,ie,ye){this._overlay=he,this._elementRef=we,this._scrollDispatcher=Te,this._viewContainerRef=Oe,this._ngZone=Ve,this._platform=ft,this._ariaDescriber=Ze,this._focusMonitor=Re,this._dir=Q,this._defaultOptions=ie,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new g.x,this._scrollStrategy=be,this._document=ye,ie&&(this._showDelay=ie.showDelay,this._hideDelay=ie.hideDelay,ie.position&&(this.position=ie.position),ie.positionAtOrigin&&(this.positionAtOrigin=ie.positionAtOrigin),ie.touchGestures&&(this.touchGestures=ie.touchGestures)),Q.change.pipe((0,e.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,e.R)(this._destroyed)).subscribe(he=>{he?"keyboard"===he&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const he=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([we,Te])=>{he.removeEventListener(we,Te,ne)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(he,this.message,"tooltip"),this._focusMonitor.stopMonitoring(he)}show(he=this.showDelay,we){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const Te=this._createOverlay(we);this._detach(),this._portal=this._portal||new f.C5(this._tooltipComponent,this._viewContainerRef);const Oe=this._tooltipInstance=Te.attach(this._portal).instance;Oe._triggerElement=this._elementRef.nativeElement,Oe._mouseLeaveHideDelay=this._hideDelay,Oe.afterHidden().pipe((0,e.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),Oe.show(he)}hide(he=this.hideDelay){const we=this._tooltipInstance;we&&(we.isVisible()?we.hide(he):(we._cancelPendingAnimations(),this._detach()))}toggle(he){this._isTooltipVisible()?this.hide():this.show(void 0,he)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(he){if(this._overlayRef){const Oe=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!he)&&Oe._origin instanceof _.SBq)return this._overlayRef;this._detach()}const we=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),Te=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&he||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(we);return Te.positionChanges.pipe((0,e.R)(this._destroyed)).subscribe(Oe=>{this._updateCurrentPositionClass(Oe.connectionPair),this._tooltipInstance&&Oe.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:Te,panelClass:`${this._cssClassPrefix}-${z}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,e.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,e.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,e.R)(this._destroyed)).subscribe(Oe=>{this._isTooltipVisible()&&Oe.keyCode===b.hY&&!(0,b.Vb)(Oe)&&(Oe.preventDefault(),Oe.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(he){const we=he.getConfig().positionStrategy,Te=this._getOrigin(),Oe=this._getOverlayPosition();we.withPositions([this._addOffset({...Te.main,...Oe.main}),this._addOffset({...Te.fallback,...Oe.fallback})])}_addOffset(he){return he}_getOrigin(){const he=!this._dir||"ltr"==this._dir.value,we=this.position;let Te;"above"==we||"below"==we?Te={originX:"center",originY:"above"==we?"top":"bottom"}:"before"==we||"left"==we&&he||"right"==we&&!he?Te={originX:"start",originY:"center"}:("after"==we||"right"==we&&he||"left"==we&&!he)&&(Te={originX:"end",originY:"center"});const{x:Oe,y:Ve}=this._invertPosition(Te.originX,Te.originY);return{main:Te,fallback:{originX:Oe,originY:Ve}}}_getOverlayPosition(){const he=!this._dir||"ltr"==this._dir.value,we=this.position;let Te;"above"==we?Te={overlayX:"center",overlayY:"bottom"}:"below"==we?Te={overlayX:"center",overlayY:"top"}:"before"==we||"left"==we&&he||"right"==we&&!he?Te={overlayX:"end",overlayY:"center"}:("after"==we||"right"==we&&he||"left"==we&&!he)&&(Te={overlayX:"start",overlayY:"center"});const{x:Oe,y:Ve}=this._invertPosition(Te.overlayX,Te.overlayY);return{main:Te,fallback:{overlayX:Oe,overlayY:Ve}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,t.q)(1),(0,e.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(he){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=he,this._tooltipInstance._markForCheck())}_invertPosition(he,we){return"above"===this.position||"below"===this.position?"top"===we?we="bottom":"bottom"===we&&(we="top"):"end"===he?he="start":"start"===he&&(he="end"),{x:he,y:we}}_updateCurrentPositionClass(he){const{overlayY:we,originX:Te,originY:Oe}=he;let Ve;if(Ve="center"===we?this._dir&&"rtl"===this._dir.value?"end"===Te?"left":"right":"start"===Te?"left":"right":"bottom"===we&&"top"===Oe?"above":"below",Ve!==this._currentPosition){const ft=this._overlayRef;if(ft){const Ze=`${this._cssClassPrefix}-${z}-`;ft.removePanelClass(Ze+this._currentPosition),ft.addPanelClass(Ze+Ve)}this._currentPosition=Ve}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",he=>{let we;this._setupPointerExitEventsIfNeeded(),void 0!==he.x&&void 0!==he.y&&(we=he),this.show(void 0,we)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",he=>{const we=he.targetTouches?.[0],Te=we?{x:we.clientX,y:we.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,Te),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const he=[];if(this._platformSupportsMouseEvents())he.push(["mouseleave",we=>{const Te=we.relatedTarget;(!Te||!this._overlayRef?.overlayElement.contains(Te))&&this.hide()}],["wheel",we=>this._wheelListener(we)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const we=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};he.push(["touchend",we],["touchcancel",we])}this._addListeners(he),this._passiveListeners.push(...he)}_addListeners(he){he.forEach(([we,Te])=>{this._elementRef.nativeElement.addEventListener(we,Te,ne)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(he){if(this._isTooltipVisible()){const we=this._document.elementFromPoint(he.clientX,he.clientY),Te=this._elementRef.nativeElement;we!==Te&&!Te.contains(we)&&this.hide()}}_disableNativeGesturesIfNecessary(){const he=this.touchGestures;if("off"!==he){const we=this._elementRef.nativeElement,Te=we.style;("on"===he||"INPUT"!==we.nodeName&&"TEXTAREA"!==we.nodeName)&&(Te.userSelect=Te.msUserSelect=Te.webkitUserSelect=Te.MozUserSelect="none"),("on"===he||!we.draggable)&&(Te.webkitUserDrag="none"),Te.touchAction="none",Te.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(we){_.$Z()};static#t=this.\u0275dir=_.lG2({type:Ae,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return Ae})(),ce=(()=>{class Ae extends Se{constructor(he,we,Te,Oe,Ve,ft,Ze,Re,be,Q,ie,ye){super(he,we,Te,Oe,Ve,ft,Ze,Re,be,Q,ie,ye),this._tooltipComponent=Ie,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(he){const Te=!this._dir||"ltr"==this._dir.value;return"top"===he.originY?he.offsetY=-8:"bottom"===he.originY?he.offsetY=8:"start"===he.originX?he.offsetX=Te?-8:8:"end"===he.originX&&(he.offsetX=Te?8:-8),he}static#e=this.\u0275fac=function(we){return new(we||Ae)(_.Y36(c.aV),_.Y36(_.SBq),_.Y36(d.mF),_.Y36(_.s_b),_.Y36(_.R0b),_.Y36(C.t4),_.Y36(m.$s),_.Y36(m.tE),_.Y36(D),_.Y36(i.Is,8),_.Y36(y,8),_.Y36(P.K0))};static#t=this.\u0275dir=_.lG2({type:Ae,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(we,Te){2&we&&_.ekj("mat-mdc-tooltip-disabled",Te.disabled)},exportAs:["matTooltip"],features:[_.qOj]})}return Ae})(),ge=(()=>{class Ae{constructor(he,we){this._changeDetectorRef=he,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new g.x,this._animationsDisabled="NoopAnimations"===we}show(he){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},he)}hide(he){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},he)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:he}){(!he||!this._triggerElement.contains(he))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:he}){(he===this._showAnimation||he===this._hideAnimation)&&this._finalizeAnimation(he===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(he){he?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(he){const we=this._tooltip.nativeElement,Te=this._showAnimation,Oe=this._hideAnimation;if(we.classList.remove(he?Oe:Te),we.classList.add(he?Te:Oe),this._isVisible=he,he&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const Ve=getComputedStyle(we);("0s"===Ve.getPropertyValue("animation-duration")||"none"===Ve.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}he&&this._onShow(),this._animationsDisabled&&(we.classList.add("_mat-animation-noopable"),this._finalizeAnimation(he))}static#e=this.\u0275fac=function(we){return new(we||Ae)(_.Y36(_.sBO),_.Y36(_.QbO,8))};static#t=this.\u0275dir=_.lG2({type:Ae})}return Ae})(),Ie=(()=>{class Ae extends ge{constructor(he,we,Te){super(he,Te),this._elementRef=we,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const he=this._elementRef.nativeElement.getBoundingClientRect();return he.height>24&&he.width>=200}static#e=this.\u0275fac=function(we){return new(we||Ae)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.QbO,8))};static#t=this.\u0275cmp=_.Xpm({type:Ae,selectors:[["mat-tooltip-component"]],viewQuery:function(we,Te){if(1&we&&_.Gf(A,7),2&we){let Oe;_.iGM(Oe=_.CRH())&&(Te._tooltip=Oe.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(we,Te){1&we&&_.NdJ("mouseleave",function(Ve){return Te._handleMouseLeave(Ve)}),2&we&&_.Udp("zoom",Te.isVisible()?1:null)},features:[_.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(we,Te){1&we&&(_.TgZ(0,"div",0,1),_.NdJ("animationend",function(Ve){return Te._handleAnimationEnd(Ve)}),_.TgZ(2,"div",2),_._uU(3),_.qZA()()),2&we&&(_.ekj("mdc-tooltip--multiline",Te._isMultiline),_.Q6J("ngClass",Te.tooltipClass),_.xp6(3),_.Oqu(Te.message))},dependencies:[P.mk],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return Ae})(),pe=(()=>{class Ae{static#e=this.\u0275fac=function(we){return new(we||Ae)};static#t=this.\u0275mod=_.oAB({type:Ae});static#n=this.\u0275inj=_.cJS({providers:[T],imports:[m.rt,P.ez,c.U8,x.BQ,x.BQ,d.ZD]})}return Ae})()},6593:(Wn,et,p)=>{"use strict";p.d(et,{Dx:()=>re,H7:()=>Kt,b2:()=>ye,q6:()=>Re,se:()=>ne});var e=p(5879),t=p(6814);class v extends t.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class b extends v{static makeCurrent(){(0,t.HT)(new b)}onAndCancel(St,bt,At){return St.addEventListener(bt,At),()=>{St.removeEventListener(bt,At)}}dispatchEvent(St,bt){St.dispatchEvent(bt)}remove(St){St.parentNode&&St.parentNode.removeChild(St)}createElement(St,bt){return(bt=bt||this.getDefaultDocument()).createElement(St)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(St){return St.nodeType===Node.ELEMENT_NODE}isShadowRoot(St){return St instanceof DocumentFragment}getGlobalEventTarget(St,bt){return"window"===bt?window:"document"===bt?St:"body"===bt?St.body:null}getBaseHref(St){const bt=function P(){return _=_||document.querySelector("base"),_?_.getAttribute("href"):null}();return null==bt?null:function m(at){C=C||document.createElement("a"),C.setAttribute("href",at);const St=C.pathname;return"/"===St.charAt(0)?St:`/${St}`}(bt)}resetBaseElement(){_=null}getUserAgent(){return window.navigator.userAgent}getCookie(St){return(0,t.Mx)(document.cookie,St)}}let C,_=null,c=(()=>{class at{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(At){return new(At||at)};static#t=this.\u0275prov=e.Yz7({token:at,factory:at.\u0275fac})}return at})();const d=new e.OlP("EventManagerPlugins");let f=(()=>{class at{constructor(bt,At){this._zone=At,this._eventNameToPlugin=new Map,bt.forEach(on=>{on.manager=this}),this._plugins=bt.slice().reverse()}addEventListener(bt,At,on){return this._findPluginFor(At).addEventListener(bt,At,on)}getZone(){return this._zone}_findPluginFor(bt){let At=this._eventNameToPlugin.get(bt);if(At)return At;if(At=this._plugins.find(En=>En.supports(bt)),!At)throw new e.vHH(5101,!1);return this._eventNameToPlugin.set(bt,At),At}static#e=this.\u0275fac=function(At){return new(At||at)(e.LFG(d),e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:at,factory:at.\u0275fac})}return at})();class g{constructor(St){this._doc=St}}const S="ng-app-id";let x=(()=>{class at{constructor(bt,At,on,En={}){this.doc=bt,this.appId=At,this.nonce=on,this.platformId=En,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,t.PM)(En),this.resetHostNodes()}addStyles(bt){for(const At of bt)1===this.changeUsageCount(At,1)&&this.onStyleAdded(At)}removeStyles(bt){for(const At of bt)this.changeUsageCount(At,-1)<=0&&this.onStyleRemoved(At)}ngOnDestroy(){const bt=this.styleNodesInDOM;bt&&(bt.forEach(At=>At.remove()),bt.clear());for(const At of this.getAllStyles())this.onStyleRemoved(At);this.resetHostNodes()}addHost(bt){this.hostNodes.add(bt);for(const At of this.getAllStyles())this.addStyleToHost(bt,At)}removeHost(bt){this.hostNodes.delete(bt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(bt){for(const At of this.hostNodes)this.addStyleToHost(At,bt)}onStyleRemoved(bt){const At=this.styleRef;At.get(bt)?.elements?.forEach(on=>on.remove()),At.delete(bt)}collectServerRenderedStyles(){const bt=this.doc.head?.querySelectorAll(`style[${S}="${this.appId}"]`);if(bt?.length){const At=new Map;return bt.forEach(on=>{null!=on.textContent&&At.set(on.textContent,on)}),At}return null}changeUsageCount(bt,At){const on=this.styleRef;if(on.has(bt)){const En=on.get(bt);return En.usage+=At,En.usage}return on.set(bt,{usage:At,elements:[]}),At}getStyleElement(bt,At){const on=this.styleNodesInDOM,En=on?.get(At);if(En?.parentNode===bt)return on.delete(At),En.removeAttribute(S),En;{const tn=this.doc.createElement("style");return this.nonce&&tn.setAttribute("nonce",this.nonce),tn.textContent=At,this.platformIsServer&&tn.setAttribute(S,this.appId),tn}}addStyleToHost(bt,At){const on=this.getStyleElement(bt,At);bt.appendChild(on);const En=this.styleRef,tn=En.get(At)?.elements;tn?tn.push(on):En.set(At,{elements:[on],usage:1})}resetHostNodes(){const bt=this.hostNodes;bt.clear(),bt.add(this.doc.head)}static#e=this.\u0275fac=function(At){return new(At||at)(e.LFG(t.K0),e.LFG(e.AFp),e.LFG(e.Ojb,8),e.LFG(e.Lbi))};static#t=this.\u0275prov=e.Yz7({token:at,factory:at.\u0275fac})}return at})();const A={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},N=/%COMP%/g,O="%COMP%",D=`_nghost-${O}`,I=`_ngcontent-${O}`,L=new e.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function z(at,St){return St.map(bt=>bt.replace(N,at))}let ne=(()=>{class at{constructor(bt,At,on,En,tn,Mn,In,Nn=null){this.eventManager=bt,this.sharedStylesHost=At,this.appId=on,this.removeStylesOnCompDestroy=En,this.doc=tn,this.platformId=Mn,this.ngZone=In,this.nonce=Nn,this.rendererByCompId=new Map,this.platformIsServer=(0,t.PM)(Mn),this.defaultRenderer=new ae(bt,tn,In,this.platformIsServer)}createRenderer(bt,At){if(!bt||!At)return this.defaultRenderer;this.platformIsServer&&At.encapsulation===e.ifc.ShadowDom&&(At={...At,encapsulation:e.ifc.Emulated});const on=this.getOrCreateRenderer(bt,At);return on instanceof ce?on.applyToHost(bt):on instanceof Se&&on.applyStyles(),on}getOrCreateRenderer(bt,At){const on=this.rendererByCompId;let En=on.get(At.id);if(!En){const tn=this.doc,Mn=this.ngZone,In=this.eventManager,Nn=this.sharedStylesHost,$n=this.removeStylesOnCompDestroy,ni=this.platformIsServer;switch(At.encapsulation){case e.ifc.Emulated:En=new ce(In,Nn,At,this.appId,$n,tn,Mn,ni);break;case e.ifc.ShadowDom:return new G(In,Nn,bt,At,tn,Mn,this.nonce,ni);default:En=new Se(In,Nn,At,$n,tn,Mn,ni)}on.set(At.id,En)}return En}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(At){return new(At||at)(e.LFG(f),e.LFG(x),e.LFG(e.AFp),e.LFG(L),e.LFG(t.K0),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(e.Ojb))};static#t=this.\u0275prov=e.Yz7({token:at,factory:at.\u0275fac})}return at})();class ae{constructor(St,bt,At,on){this.eventManager=St,this.doc=bt,this.ngZone=At,this.platformIsServer=on,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(St,bt){return bt?this.doc.createElementNS(A[bt]||bt,St):this.doc.createElement(St)}createComment(St){return this.doc.createComment(St)}createText(St){return this.doc.createTextNode(St)}appendChild(St,bt){(le(St)?St.content:St).appendChild(bt)}insertBefore(St,bt,At){St&&(le(St)?St.content:St).insertBefore(bt,At)}removeChild(St,bt){St&&St.removeChild(bt)}selectRootElement(St,bt){let At="string"==typeof St?this.doc.querySelector(St):St;if(!At)throw new e.vHH(-5104,!1);return bt||(At.textContent=""),At}parentNode(St){return St.parentNode}nextSibling(St){return St.nextSibling}setAttribute(St,bt,At,on){if(on){bt=on+":"+bt;const En=A[on];En?St.setAttributeNS(En,bt,At):St.setAttribute(bt,At)}else St.setAttribute(bt,At)}removeAttribute(St,bt,At){if(At){const on=A[At];on?St.removeAttributeNS(on,bt):St.removeAttribute(`${At}:${bt}`)}else St.removeAttribute(bt)}addClass(St,bt){St.classList.add(bt)}removeClass(St,bt){St.classList.remove(bt)}setStyle(St,bt,At,on){on&(e.JOm.DashCase|e.JOm.Important)?St.style.setProperty(bt,At,on&e.JOm.Important?"important":""):St.style[bt]=At}removeStyle(St,bt,At){At&e.JOm.DashCase?St.style.removeProperty(bt):St.style[bt]=""}setProperty(St,bt,At){St[bt]=At}setValue(St,bt){St.nodeValue=bt}listen(St,bt,At){if("string"==typeof St&&!(St=(0,t.q)().getGlobalEventTarget(this.doc,St)))throw new Error(`Unsupported event target ${St} for event ${bt}`);return this.eventManager.addEventListener(St,bt,this.decoratePreventDefault(At))}decoratePreventDefault(St){return bt=>{if("__ngUnwrap__"===bt)return St;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>St(bt)):St(bt))&&bt.preventDefault()}}}function le(at){return"TEMPLATE"===at.tagName&&void 0!==at.content}class G extends ae{constructor(St,bt,At,on,En,tn,Mn,In){super(St,En,tn,In),this.sharedStylesHost=bt,this.hostEl=At,this.shadowRoot=At.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Nn=z(on.id,on.styles);for(const $n of Nn){const ni=document.createElement("style");Mn&&ni.setAttribute("nonce",Mn),ni.textContent=$n,this.shadowRoot.appendChild(ni)}}nodeOrShadowRoot(St){return St===this.hostEl?this.shadowRoot:St}appendChild(St,bt){return super.appendChild(this.nodeOrShadowRoot(St),bt)}insertBefore(St,bt,At){return super.insertBefore(this.nodeOrShadowRoot(St),bt,At)}removeChild(St,bt){return super.removeChild(this.nodeOrShadowRoot(St),bt)}parentNode(St){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(St)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Se extends ae{constructor(St,bt,At,on,En,tn,Mn,In){super(St,En,tn,Mn),this.sharedStylesHost=bt,this.removeStylesOnCompDestroy=on,this.styles=In?z(In,At.styles):At.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ce extends Se{constructor(St,bt,At,on,En,tn,Mn,In){const Nn=on+"-"+At.id;super(St,bt,At,En,tn,Mn,In,Nn),this.contentAttr=function y(at){return I.replace(N,at)}(Nn),this.hostAttr=function B(at){return D.replace(N,at)}(Nn)}applyToHost(St){this.applyStyles(),this.setAttribute(St,this.hostAttr,"")}createElement(St,bt){const At=super.createElement(St,bt);return super.setAttribute(At,this.contentAttr,""),At}}let ge=(()=>{class at extends g{constructor(bt){super(bt)}supports(bt){return!0}addEventListener(bt,At,on){return bt.addEventListener(At,on,!1),()=>this.removeEventListener(bt,At,on)}removeEventListener(bt,At,on){return bt.removeEventListener(At,on)}static#e=this.\u0275fac=function(At){return new(At||at)(e.LFG(t.K0))};static#t=this.\u0275prov=e.Yz7({token:at,factory:at.\u0275fac})}return at})();const Ie=["alt","control","meta","shift"],Ce={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pe={alt:at=>at.altKey,control:at=>at.ctrlKey,meta:at=>at.metaKey,shift:at=>at.shiftKey};let Ae=(()=>{class at extends g{constructor(bt){super(bt)}supports(bt){return null!=at.parseEventName(bt)}addEventListener(bt,At,on){const En=at.parseEventName(At),tn=at.eventCallback(En.fullKey,on,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,t.q)().onAndCancel(bt,En.domEventName,tn))}static parseEventName(bt){const At=bt.toLowerCase().split("."),on=At.shift();if(0===At.length||"keydown"!==on&&"keyup"!==on)return null;const En=at._normalizeKey(At.pop());let tn="",Mn=At.indexOf("code");if(Mn>-1&&(At.splice(Mn,1),tn="code."),Ie.forEach(Nn=>{const $n=At.indexOf(Nn);$n>-1&&(At.splice($n,1),tn+=Nn+".")}),tn+=En,0!=At.length||0===En.length)return null;const In={};return In.domEventName=on,In.fullKey=tn,In}static matchEventFullKeyCode(bt,At){let on=Ce[bt.key]||bt.key,En="";return At.indexOf("code.")>-1&&(on=bt.code,En="code."),!(null==on||!on)&&(on=on.toLowerCase()," "===on?on="space":"."===on&&(on="dot"),Ie.forEach(tn=>{tn!==on&&(0,pe[tn])(bt)&&(En+=tn+".")}),En+=on,En===At)}static eventCallback(bt,At,on){return En=>{at.matchEventFullKeyCode(En,bt)&&on.runGuarded(()=>At(En))}}static _normalizeKey(bt){return"esc"===bt?"escape":bt}static#e=this.\u0275fac=function(At){return new(At||at)(e.LFG(t.K0))};static#t=this.\u0275prov=e.Yz7({token:at,factory:at.\u0275fac})}return at})();const Re=(0,e.eFA)(e._c5,"browser",[{provide:e.Lbi,useValue:t.bD},{provide:e.g9A,useValue:function Oe(){b.makeCurrent()},multi:!0},{provide:t.K0,useFactory:function ft(){return(0,e.RDi)(document),document},deps:[]}]),be=new e.OlP(""),Q=[{provide:e.rWj,useClass:class i{addToWindow(St){e.dqk.getAngularTestability=(At,on=!0)=>{const En=St.findTestabilityInTree(At,on);if(null==En)throw new e.vHH(5103,!1);return En},e.dqk.getAllAngularTestabilities=()=>St.getAllTestabilities(),e.dqk.getAllAngularRootElements=()=>St.getAllRootElements(),e.dqk.frameworkStabilizers||(e.dqk.frameworkStabilizers=[]),e.dqk.frameworkStabilizers.push(At=>{const on=e.dqk.getAllAngularTestabilities();let En=on.length,tn=!1;const Mn=function(In){tn=tn||In,En--,0==En&&At(tn)};on.forEach(In=>{In.whenStable(Mn)})})}findTestabilityInTree(St,bt,At){return null==bt?null:St.getTestability(bt)??(At?(0,t.q)().isShadowRoot(bt)?this.findTestabilityInTree(St,bt.host,!0):this.findTestabilityInTree(St,bt.parentElement,!0):null)}},deps:[]},{provide:e.lri,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]},{provide:e.dDg,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]}],ie=[{provide:e.zSh,useValue:"root"},{provide:e.qLn,useFactory:function Ve(){return new e.qLn},deps:[]},{provide:d,useClass:ge,multi:!0,deps:[t.K0,e.R0b,e.Lbi]},{provide:d,useClass:Ae,multi:!0,deps:[t.K0]},ne,x,f,{provide:e.FYo,useExisting:ne},{provide:t.JF,useClass:c,deps:[]},[]];let ye=(()=>{class at{constructor(bt){}static withServerTransition(bt){return{ngModule:at,providers:[{provide:e.AFp,useValue:bt.appId}]}}static#e=this.\u0275fac=function(At){return new(At||at)(e.LFG(be,12))};static#t=this.\u0275mod=e.oAB({type:at});static#n=this.\u0275inj=e.cJS({providers:[...ie,...Q],imports:[t.ez,e.hGG]})}return at})(),re=(()=>{class at{constructor(bt){this._doc=bt}getTitle(){return this._doc.title}setTitle(bt){this._doc.title=bt||""}static#e=this.\u0275fac=function(At){return new(At||at)(e.LFG(t.K0))};static#t=this.\u0275prov=e.Yz7({token:at,factory:function(At){let on=null;return on=At?new At:function $(){return new re((0,e.LFG)(t.K0))}(),on},providedIn:"root"})}return at})();typeof window<"u"&&window;let Kt=(()=>{class at{static#e=this.\u0275fac=function(At){return new(At||at)};static#t=this.\u0275prov=e.Yz7({token:at,factory:function(At){let on=null;return on=At?new(At||at):e.LFG(qt),on},providedIn:"root"})}return at})(),qt=(()=>{class at extends Kt{constructor(bt){super(),this._doc=bt}sanitize(bt,At){if(null==At)return null;switch(bt){case e.q3G.NONE:return At;case e.q3G.HTML:return(0,e.qzn)(At,"HTML")?(0,e.z3N)(At):(0,e.EiD)(this._doc,String(At)).toString();case e.q3G.STYLE:return(0,e.qzn)(At,"Style")?(0,e.z3N)(At):At;case e.q3G.SCRIPT:if((0,e.qzn)(At,"Script"))return(0,e.z3N)(At);throw new e.vHH(5200,!1);case e.q3G.URL:return(0,e.qzn)(At,"URL")?(0,e.z3N)(At):(0,e.mCW)(String(At));case e.q3G.RESOURCE_URL:if((0,e.qzn)(At,"ResourceURL"))return(0,e.z3N)(At);throw new e.vHH(5201,!1);default:throw new e.vHH(5202,!1)}}bypassSecurityTrustHtml(bt){return(0,e.JVY)(bt)}bypassSecurityTrustStyle(bt){return(0,e.L6k)(bt)}bypassSecurityTrustScript(bt){return(0,e.eBb)(bt)}bypassSecurityTrustUrl(bt){return(0,e.LAX)(bt)}bypassSecurityTrustResourceUrl(bt){return(0,e.pB0)(bt)}static#e=this.\u0275fac=function(At){return new(At||at)(e.LFG(t.K0))};static#t=this.\u0275prov=e.Yz7({token:at,factory:function(At){let on=null;return on=At?new At:function Jt(at){return new qt(at.get(t.K0))}(e.LFG(e.zs3)),on},providedIn:"root"})}return at})()},5908:(Wn,et,p)=>{"use strict";p.d(et,{gz:()=>yi,F0:()=>Qr,rH:()=>Ms,Bz:()=>Us,lC:()=>hi});var e=p(5879),t=p(2664),v=p(2459),b=p(2096),_=p(5619),P=p(2572),C=p(6973),m=p(5211),i=p(4911),c=p(8407),d=p(8504),f=p(6232),g=p(3168),S=p(8645),x=p(6814),A=p(7398),N=p(4664),O=p(8180),D=p(7921),I=p(2181),T=p(1631),L=p(1374),y=p(6328),B=p(9397),z=p(4829),ne=p(8251),ae=p(9360);function Fe(Ue){return(0,ae.e)((rt,Me)=>{let sn,nt=null,Gt=!1;nt=rt.subscribe((0,ne.x)(Me,void 0,void 0,dn=>{sn=(0,z.Xf)(Ue(dn,Fe(Ue)(rt))),nt?(nt.unsubscribe(),nt=null,sn.subscribe(Me)):Gt=!0})),Gt&&(nt.unsubscribe(),nt=null,sn.subscribe(Me))})}var G=p(3572);function Se(Ue){return Ue<=0?()=>f.E:(0,ae.e)((rt,Me)=>{let nt=[];rt.subscribe((0,ne.x)(Me,Gt=>{nt.push(Gt),Ue<nt.length&&nt.shift()},()=>{for(const Gt of nt)Me.next(Gt);Me.complete()},void 0,()=>{nt=null}))})}var ce=p(3026),ge=p(2737),Ce=p(975),pe=p(4716),Ae=p(6196),ke=p(7537),he=p(6593);const we="primary",Te=Symbol("RouteTitle");class Oe{constructor(rt){this.params=rt||{}}has(rt){return Object.prototype.hasOwnProperty.call(this.params,rt)}get(rt){if(this.has(rt)){const Me=this.params[rt];return Array.isArray(Me)?Me[0]:Me}return null}getAll(rt){if(this.has(rt)){const Me=this.params[rt];return Array.isArray(Me)?Me:[Me]}return[]}get keys(){return Object.keys(this.params)}}function Ve(Ue){return new Oe(Ue)}function ft(Ue,rt,Me){const nt=Me.path.split("/");if(nt.length>Ue.length||"full"===Me.pathMatch&&(rt.hasChildren()||nt.length<Ue.length))return null;const Gt={};for(let sn=0;sn<nt.length;sn++){const dn=nt[sn],Vn=Ue[sn];if(dn.startsWith(":"))Gt[dn.substring(1)]=Vn;else if(dn!==Vn.path)return null}return{consumed:Ue.slice(0,nt.length),posParams:Gt}}function Re(Ue,rt){const Me=Ue?Object.keys(Ue):void 0,nt=rt?Object.keys(rt):void 0;if(!Me||!nt||Me.length!=nt.length)return!1;let Gt;for(let sn=0;sn<Me.length;sn++)if(Gt=Me[sn],!be(Ue[Gt],rt[Gt]))return!1;return!0}function be(Ue,rt){if(Array.isArray(Ue)&&Array.isArray(rt)){if(Ue.length!==rt.length)return!1;const Me=[...Ue].sort(),nt=[...rt].sort();return Me.every((Gt,sn)=>nt[sn]===Gt)}return Ue===rt}function Q(Ue){return Ue.length>0?Ue[Ue.length-1]:null}function ie(Ue){return(0,t.b)(Ue)?Ue:(0,e.QGY)(Ue)?(0,v.D)(Promise.resolve(Ue)):(0,b.of)(Ue)}const ye={exact:function $(Ue,rt,Me){if(!Xe(Ue.segments,rt.segments)||!_e(Ue.segments,rt.segments,Me)||Ue.numberOfChildren!==rt.numberOfChildren)return!1;for(const nt in rt.children)if(!Ue.children[nt]||!$(Ue.children[nt],rt.children[nt],Me))return!1;return!0},subset:J},oe={exact:function X(Ue,rt){return Re(Ue,rt)},subset:function re(Ue,rt){return Object.keys(rt).length<=Object.keys(Ue).length&&Object.keys(rt).every(Me=>be(Ue[Me],rt[Me]))},ignored:()=>!0};function ee(Ue,rt,Me){return ye[Me.paths](Ue.root,rt.root,Me.matrixParams)&&oe[Me.queryParams](Ue.queryParams,rt.queryParams)&&!("exact"===Me.fragment&&Ue.fragment!==rt.fragment)}function J(Ue,rt,Me){return q(Ue,rt,rt.segments,Me)}function q(Ue,rt,Me,nt){if(Ue.segments.length>Me.length){const Gt=Ue.segments.slice(0,Me.length);return!(!Xe(Gt,Me)||rt.hasChildren()||!_e(Gt,Me,nt))}if(Ue.segments.length===Me.length){if(!Xe(Ue.segments,Me)||!_e(Ue.segments,Me,nt))return!1;for(const Gt in rt.children)if(!Ue.children[Gt]||!J(Ue.children[Gt],rt.children[Gt],nt))return!1;return!0}{const Gt=Me.slice(0,Ue.segments.length),sn=Me.slice(Ue.segments.length);return!!(Xe(Ue.segments,Gt)&&_e(Ue.segments,Gt,nt)&&Ue.children[we])&&q(Ue.children[we],rt,sn,nt)}}function _e(Ue,rt,Me){return rt.every((nt,Gt)=>oe[Me](Ue[Gt].parameters,nt.parameters))}class xe{constructor(rt=new Ee([],{}),Me={},nt=null){this.root=rt,this.queryParams=Me,this.fragment=nt}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ve(this.queryParams)),this._queryParamMap}toString(){return yt.serialize(this)}}class Ee{constructor(rt,Me){this.segments=rt,this.children=Me,this.parent=null,Object.values(Me).forEach(nt=>nt.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dt(this)}}class Ge{constructor(rt,Me){this.path=rt,this.parameters=Me}get parameterMap(){return this._parameterMap||(this._parameterMap=Ve(this.parameters)),this._parameterMap}toString(){return fn(this)}}function Xe(Ue,rt){return Ue.length===rt.length&&Ue.every((Me,nt)=>Me.path===rt[nt].path)}let gt=(()=>{class Ue{static#e=this.\u0275fac=function(nt){return new(nt||Ue)};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:function(){return new Qe},providedIn:"root"})}return Ue})();class Qe{parse(rt){const Me=new on(rt);return new xe(Me.parseRootSegment(),Me.parseQueryParams(),Me.parseFragment())}serialize(rt){const Me=`/${fe(rt.root,!0)}`,nt=function vt(Ue){const rt=Object.keys(Ue).map(Me=>{const nt=Ue[Me];return Array.isArray(nt)?nt.map(Gt=>`${Tt(Me)}=${Tt(Gt)}`).join("&"):`${Tt(Me)}=${Tt(nt)}`}).filter(Me=>!!Me);return rt.length?`?${rt.join("&")}`:""}(rt.queryParams);return`${Me}${nt}${"string"==typeof rt.fragment?`#${function Kt(Ue){return encodeURI(Ue)}(rt.fragment)}`:""}`}}const yt=new Qe;function Dt(Ue){return Ue.segments.map(rt=>fn(rt)).join("/")}function fe(Ue,rt){if(!Ue.hasChildren())return Dt(Ue);if(rt){const Me=Ue.children[we]?fe(Ue.children[we],!1):"",nt=[];return Object.entries(Ue.children).forEach(([Gt,sn])=>{Gt!==we&&nt.push(`${Gt}:${fe(sn,!1)}`)}),nt.length>0?`${Me}(${nt.join("//")})`:Me}{const Me=function tt(Ue,rt){let Me=[];return Object.entries(Ue.children).forEach(([nt,Gt])=>{nt===we&&(Me=Me.concat(rt(Gt,nt)))}),Object.entries(Ue.children).forEach(([nt,Gt])=>{nt!==we&&(Me=Me.concat(rt(Gt,nt)))}),Me}(Ue,(nt,Gt)=>Gt===we?[fe(Ue.children[we],!1)]:[`${Gt}:${fe(nt,!1)}`]);return 1===Object.keys(Ue.children).length&&null!=Ue.children[we]?`${Dt(Ue)}/${Me[0]}`:`${Dt(Ue)}/(${Me.join("//")})`}}function ze(Ue){return encodeURIComponent(Ue).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tt(Ue){return ze(Ue).replace(/%3B/gi,";")}function Jt(Ue){return ze(Ue).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qt(Ue){return decodeURIComponent(Ue)}function un(Ue){return qt(Ue.replace(/\+/g,"%20"))}function fn(Ue){return`${Jt(Ue.path)}${function wt(Ue){return Object.keys(Ue).map(rt=>`;${Jt(rt)}=${Jt(Ue[rt])}`).join("")}(Ue.parameters)}`}const it=/^[^\/()?;#]+/;function He(Ue){const rt=Ue.match(it);return rt?rt[0]:""}const Ye=/^[^\/()?;=#]+/,at=/^[^=?&#]+/,bt=/^[^&#]+/;class on{constructor(rt){this.url=rt,this.remaining=rt}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){const rt={};if(this.consumeOptional("?"))do{this.parseQueryParam(rt)}while(this.consumeOptional("&"));return rt}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const rt=[];for(this.peekStartsWith("(")||rt.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),rt.push(this.parseSegment());let Me={};this.peekStartsWith("/(")&&(this.capture("/"),Me=this.parseParens(!0));let nt={};return this.peekStartsWith("(")&&(nt=this.parseParens(!1)),(rt.length>0||Object.keys(Me).length>0)&&(nt[we]=new Ee(rt,Me)),nt}parseSegment(){const rt=He(this.remaining);if(""===rt&&this.peekStartsWith(";"))throw new e.vHH(4009,!1);return this.capture(rt),new Ge(qt(rt),this.parseMatrixParams())}parseMatrixParams(){const rt={};for(;this.consumeOptional(";");)this.parseParam(rt);return rt}parseParam(rt){const Me=function st(Ue){const rt=Ue.match(Ye);return rt?rt[0]:""}(this.remaining);if(!Me)return;this.capture(Me);let nt="";if(this.consumeOptional("=")){const Gt=He(this.remaining);Gt&&(nt=Gt,this.capture(nt))}rt[qt(Me)]=qt(nt)}parseQueryParam(rt){const Me=function St(Ue){const rt=Ue.match(at);return rt?rt[0]:""}(this.remaining);if(!Me)return;this.capture(Me);let nt="";if(this.consumeOptional("=")){const dn=function At(Ue){const rt=Ue.match(bt);return rt?rt[0]:""}(this.remaining);dn&&(nt=dn,this.capture(nt))}const Gt=un(Me),sn=un(nt);if(rt.hasOwnProperty(Gt)){let dn=rt[Gt];Array.isArray(dn)||(dn=[dn],rt[Gt]=dn),dn.push(sn)}else rt[Gt]=sn}parseParens(rt){const Me={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const nt=He(this.remaining),Gt=this.remaining[nt.length];if("/"!==Gt&&")"!==Gt&&";"!==Gt)throw new e.vHH(4010,!1);let sn;nt.indexOf(":")>-1?(sn=nt.slice(0,nt.indexOf(":")),this.capture(sn),this.capture(":")):rt&&(sn=we);const dn=this.parseChildren();Me[sn]=1===Object.keys(dn).length?dn[we]:new Ee([],dn),this.consumeOptional("//")}return Me}peekStartsWith(rt){return this.remaining.startsWith(rt)}consumeOptional(rt){return!!this.peekStartsWith(rt)&&(this.remaining=this.remaining.substring(rt.length),!0)}capture(rt){if(!this.consumeOptional(rt))throw new e.vHH(4011,!1)}}function En(Ue){return Ue.segments.length>0?new Ee([],{[we]:Ue}):Ue}function tn(Ue){const rt={};for(const nt of Object.keys(Ue.children)){const sn=tn(Ue.children[nt]);if(nt===we&&0===sn.segments.length&&sn.hasChildren())for(const[dn,Vn]of Object.entries(sn.children))rt[dn]=Vn;else(sn.segments.length>0||sn.hasChildren())&&(rt[nt]=sn)}return function Mn(Ue){if(1===Ue.numberOfChildren&&Ue.children[we]){const rt=Ue.children[we];return new Ee(Ue.segments.concat(rt.segments),rt.children)}return Ue}(new Ee(Ue.segments,rt))}function In(Ue){return Ue instanceof xe}function $n(Ue){let rt;const Gt=En(function Me(sn){const dn={};for(const mi of sn.children){const Pi=Me(mi);dn[mi.outlet]=Pi}const Vn=new Ee(sn.url,dn);return sn===Ue&&(rt=Vn),Vn}(Ue.root));return rt??Gt}function ni(Ue,rt,Me,nt){let Gt=Ue;for(;Gt.parent;)Gt=Gt.parent;if(0===rt.length)return yn(Gt,Gt,Gt,Me,nt);const sn=function Mt(Ue){if("string"==typeof Ue[0]&&1===Ue.length&&"/"===Ue[0])return new _n(!0,0,Ue);let rt=0,Me=!1;const nt=Ue.reduce((Gt,sn,dn)=>{if("object"==typeof sn&&null!=sn){if(sn.outlets){const Vn={};return Object.entries(sn.outlets).forEach(([mi,Pi])=>{Vn[mi]="string"==typeof Pi?Pi.split("/"):Pi}),[...Gt,{outlets:Vn}]}if(sn.segmentPath)return[...Gt,sn.segmentPath]}return"string"!=typeof sn?[...Gt,sn]:0===dn?(sn.split("/").forEach((Vn,mi)=>{0==mi&&"."===Vn||(0==mi&&""===Vn?Me=!0:".."===Vn?rt++:""!=Vn&&Gt.push(Vn))}),Gt):[...Gt,sn]},[]);return new _n(Me,rt,nt)}(rt);if(sn.toRoot())return yn(Gt,Gt,new Ee([],{}),Me,nt);const dn=function Tn(Ue,rt,Me){if(Ue.isAbsolute)return new ht(rt,!0,0);if(!Me)return new ht(rt,!1,NaN);if(null===Me.parent)return new ht(Me,!0,0);const nt=vn(Ue.commands[0])?0:1;return function qe(Ue,rt,Me){let nt=Ue,Gt=rt,sn=Me;for(;sn>Gt;){if(sn-=Gt,nt=nt.parent,!nt)throw new e.vHH(4005,!1);Gt=nt.segments.length}return new ht(nt,!1,Gt-sn)}(Me,Me.segments.length-1+nt,Ue.numberOfDoubleDots)}(sn,Gt,Ue),Vn=dn.processChildren?Rt(dn.segmentGroup,dn.index,sn.commands):Qt(dn.segmentGroup,dn.index,sn.commands);return yn(Gt,dn.segmentGroup,Vn,Me,nt)}function vn(Ue){return"object"==typeof Ue&&null!=Ue&&!Ue.outlets&&!Ue.segmentPath}function gn(Ue){return"object"==typeof Ue&&null!=Ue&&Ue.outlets}function yn(Ue,rt,Me,nt,Gt){let dn,sn={};nt&&Object.entries(nt).forEach(([mi,Pi])=>{sn[mi]=Array.isArray(Pi)?Pi.map(Ri=>`${Ri}`):`${Pi}`}),dn=Ue===rt?Me:pn(Ue,rt,Me);const Vn=En(tn(dn));return new xe(Vn,sn,Gt)}function pn(Ue,rt,Me){const nt={};return Object.entries(Ue.children).forEach(([Gt,sn])=>{nt[Gt]=sn===rt?Me:pn(sn,rt,Me)}),new Ee(Ue.segments,nt)}class _n{constructor(rt,Me,nt){if(this.isAbsolute=rt,this.numberOfDoubleDots=Me,this.commands=nt,rt&&nt.length>0&&vn(nt[0]))throw new e.vHH(4003,!1);const Gt=nt.find(gn);if(Gt&&Gt!==Q(nt))throw new e.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ht{constructor(rt,Me,nt){this.segmentGroup=rt,this.processChildren=Me,this.index=nt}}function Qt(Ue,rt,Me){if(Ue||(Ue=new Ee([],{})),0===Ue.segments.length&&Ue.hasChildren())return Rt(Ue,rt,Me);const nt=function xn(Ue,rt,Me){let nt=0,Gt=rt;const sn={match:!1,pathIndex:0,commandIndex:0};for(;Gt<Ue.segments.length;){if(nt>=Me.length)return sn;const dn=Ue.segments[Gt],Vn=Me[nt];if(gn(Vn))break;const mi=`${Vn}`,Pi=nt<Me.length-1?Me[nt+1]:null;if(Gt>0&&void 0===mi)break;if(mi&&Pi&&"object"==typeof Pi&&void 0===Pi.outlets){if(!en(mi,Pi,dn))return sn;nt+=2}else{if(!en(mi,{},dn))return sn;nt++}Gt++}return{match:!0,pathIndex:Gt,commandIndex:nt}}(Ue,rt,Me),Gt=Me.slice(nt.commandIndex);if(nt.match&&nt.pathIndex<Ue.segments.length){const sn=new Ee(Ue.segments.slice(0,nt.pathIndex),{});return sn.children[we]=new Ee(Ue.segments.slice(nt.pathIndex),Ue.children),Rt(sn,0,Gt)}return nt.match&&0===Gt.length?new Ee(Ue.segments,{}):nt.match&&!Ue.hasChildren()?kt(Ue,rt,Me):nt.match?Rt(Ue,0,Gt):kt(Ue,rt,Me)}function Rt(Ue,rt,Me){if(0===Me.length)return new Ee(Ue.segments,{});{const nt=function Ct(Ue){return gn(Ue[0])?Ue[0].outlets:{[we]:Ue}}(Me),Gt={};if(!nt[we]&&Ue.children[we]&&1===Ue.numberOfChildren&&0===Ue.children[we].segments.length){const sn=Rt(Ue.children[we],rt,Me);return new Ee(Ue.segments,sn.children)}return Object.entries(nt).forEach(([sn,dn])=>{"string"==typeof dn&&(dn=[dn]),null!==dn&&(Gt[sn]=Qt(Ue.children[sn],rt,dn))}),Object.entries(Ue.children).forEach(([sn,dn])=>{void 0===nt[sn]&&(Gt[sn]=dn)}),new Ee(Ue.segments,Gt)}}function kt(Ue,rt,Me){const nt=Ue.segments.slice(0,rt);let Gt=0;for(;Gt<Me.length;){const sn=Me[Gt];if(gn(sn)){const mi=It(sn.outlets);return new Ee(nt,mi)}if(0===Gt&&vn(Me[0])){nt.push(new Ge(Ue.segments[rt].path,Nt(Me[0]))),Gt++;continue}const dn=gn(sn)?sn.outlets[we]:`${sn}`,Vn=Gt<Me.length-1?Me[Gt+1]:null;dn&&Vn&&vn(Vn)?(nt.push(new Ge(dn,Nt(Vn))),Gt+=2):(nt.push(new Ge(dn,{})),Gt++)}return new Ee(nt,{})}function It(Ue){const rt={};return Object.entries(Ue).forEach(([Me,nt])=>{"string"==typeof nt&&(nt=[nt]),null!==nt&&(rt[Me]=kt(new Ee([],{}),0,nt))}),rt}function Nt(Ue){const rt={};return Object.entries(Ue).forEach(([Me,nt])=>rt[Me]=`${nt}`),rt}function en(Ue,rt,Me){return Ue==Me.path&&Re(rt,Me.parameters)}const An="imperative";class Kn{constructor(rt,Me){this.id=rt,this.url=Me}}class Xn extends Kn{constructor(rt,Me,nt="imperative",Gt=null){super(rt,Me),this.type=0,this.navigationTrigger=nt,this.restoredState=Gt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ut extends Kn{constructor(rt,Me,nt){super(rt,Me),this.urlAfterRedirects=nt,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class On extends Kn{constructor(rt,Me,nt,Gt){super(rt,Me),this.reason=nt,this.code=Gt,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ne extends Kn{constructor(rt,Me,nt,Gt){super(rt,Me),this.reason=nt,this.code=Gt,this.type=16}}class Ft extends Kn{constructor(rt,Me,nt,Gt){super(rt,Me),this.error=nt,this.target=Gt,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Pt extends Kn{constructor(rt,Me,nt,Gt){super(rt,Me),this.urlAfterRedirects=nt,this.state=Gt,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ln extends Kn{constructor(rt,Me,nt,Gt){super(rt,Me),this.urlAfterRedirects=nt,this.state=Gt,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fn extends Kn{constructor(rt,Me,nt,Gt,sn){super(rt,Me),this.urlAfterRedirects=nt,this.state=Gt,this.shouldActivate=sn,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vi extends Kn{constructor(rt,Me,nt,Gt){super(rt,Me),this.urlAfterRedirects=nt,this.state=Gt,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Er extends Kn{constructor(rt,Me,nt,Gt){super(rt,Me),this.urlAfterRedirects=nt,this.state=Gt,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $r{constructor(rt){this.route=rt,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jr{constructor(rt){this.route=rt,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ki{constructor(rt){this.snapshot=rt,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oi{constructor(rt){this.snapshot=rt,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wo{constructor(rt){this.snapshot=rt,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Do{constructor(rt){this.snapshot=rt,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bs{constructor(rt,Me,nt){this.routerEvent=rt,this.position=Me,this.anchor=nt,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Vr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ir,this.attachRef=null}}let ir=(()=>{class Ue{constructor(){this.contexts=new Map}onChildOutletCreated(Me,nt){const Gt=this.getOrCreateContext(Me);Gt.outlet=nt,this.contexts.set(Me,Gt)}onChildOutletDestroyed(Me){const nt=this.getContext(Me);nt&&(nt.outlet=null,nt.attachRef=null)}onOutletDeactivated(){const Me=this.contexts;return this.contexts=new Map,Me}onOutletReAttached(Me){this.contexts=Me}getOrCreateContext(Me){let nt=this.getContext(Me);return nt||(nt=new Vr,this.contexts.set(Me,nt)),nt}getContext(Me){return this.contexts.get(Me)||null}static#e=this.\u0275fac=function(nt){return new(nt||Ue)};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})();class lo{constructor(rt){this._root=rt}get root(){return this._root.value}parent(rt){const Me=this.pathFromRoot(rt);return Me.length>1?Me[Me.length-2]:null}children(rt){const Me=Kr(rt,this._root);return Me?Me.children.map(nt=>nt.value):[]}firstChild(rt){const Me=Kr(rt,this._root);return Me&&Me.children.length>0?Me.children[0].value:null}siblings(rt){const Me=ls(rt,this._root);return Me.length<2?[]:Me[Me.length-2].children.map(Gt=>Gt.value).filter(Gt=>Gt!==rt)}pathFromRoot(rt){return ls(rt,this._root).map(Me=>Me.value)}}function Kr(Ue,rt){if(Ue===rt.value)return rt;for(const Me of rt.children){const nt=Kr(Ue,Me);if(nt)return nt}return null}function ls(Ue,rt){if(Ue===rt.value)return[rt];for(const Me of rt.children){const nt=ls(Ue,Me);if(nt.length)return nt.unshift(rt),nt}return[]}class xr{constructor(rt,Me){this.value=rt,this.children=Me}toString(){return`TreeNode(${this.value})`}}function co(Ue){const rt={};return Ue&&Ue.children.forEach(Me=>rt[Me.value.outlet]=Me),rt}class Xo extends lo{constructor(rt,Me){super(rt),this.snapshot=Me,Jr(this,rt)}toString(){return this.snapshot.toString()}}function ws(Ue,rt){const Me=function Sr(Ue,rt){const dn=new Wr([],{},{},"",{},we,rt,null,{});return new Mo("",new xr(dn,[]))}(0,rt),nt=new _.X([new Ge("",{})]),Gt=new _.X({}),sn=new _.X({}),dn=new _.X({}),Vn=new _.X(""),mi=new yi(nt,Gt,dn,Vn,sn,we,rt,Me.root);return mi.snapshot=Me.root,new Xo(new xr(mi,[]),Me)}class yi{constructor(rt,Me,nt,Gt,sn,dn,Vn,mi){this.urlSubject=rt,this.paramsSubject=Me,this.queryParamsSubject=nt,this.fragmentSubject=Gt,this.dataSubject=sn,this.outlet=dn,this.component=Vn,this._futureSnapshot=mi,this.title=this.dataSubject?.pipe((0,A.U)(Pi=>Pi[Te]))??(0,b.of)(void 0),this.url=rt,this.params=Me,this.queryParams=nt,this.fragment=Gt,this.data=sn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,A.U)(rt=>Ve(rt)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,A.U)(rt=>Ve(rt)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zi(Ue,rt="emptyOnly"){const Me=Ue.pathFromRoot;let nt=0;if("always"!==rt)for(nt=Me.length-1;nt>=1;){const Gt=Me[nt],sn=Me[nt-1];if(Gt.routeConfig&&""===Gt.routeConfig.path)nt--;else{if(sn.component)break;nt--}}return function Rr(Ue){return Ue.reduce((rt,Me)=>({params:{...rt.params,...Me.params},data:{...rt.data,...Me.data},resolve:{...Me.data,...rt.resolve,...Me.routeConfig?.data,...Me._resolvedData}}),{params:{},data:{},resolve:{}})}(Me.slice(nt))}class Wr{get title(){return this.data?.[Te]}constructor(rt,Me,nt,Gt,sn,dn,Vn,mi,Pi){this.url=rt,this.params=Me,this.queryParams=nt,this.fragment=Gt,this.data=sn,this.outlet=dn,this.component=Vn,this.routeConfig=mi,this._resolve=Pi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ve(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ve(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(nt=>nt.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mo extends lo{constructor(rt,Me){super(Me),this.url=rt,Jr(this,Me)}toString(){return go(this._root)}}function Jr(Ue,rt){rt.value._routerState=Ue,rt.children.forEach(Me=>Jr(Ue,Me))}function go(Ue){const rt=Ue.children.length>0?` { ${Ue.children.map(go).join(", ")} } `:"";return`${Ue.value}${rt}`}function Dn(Ue){if(Ue.snapshot){const rt=Ue.snapshot,Me=Ue._futureSnapshot;Ue.snapshot=Me,Re(rt.queryParams,Me.queryParams)||Ue.queryParamsSubject.next(Me.queryParams),rt.fragment!==Me.fragment&&Ue.fragmentSubject.next(Me.fragment),Re(rt.params,Me.params)||Ue.paramsSubject.next(Me.params),function Ze(Ue,rt){if(Ue.length!==rt.length)return!1;for(let Me=0;Me<Ue.length;++Me)if(!Re(Ue[Me],rt[Me]))return!1;return!0}(rt.url,Me.url)||Ue.urlSubject.next(Me.url),Re(rt.data,Me.data)||Ue.dataSubject.next(Me.data)}else Ue.snapshot=Ue._futureSnapshot,Ue.dataSubject.next(Ue._futureSnapshot.data)}function qn(Ue,rt){const Me=Re(Ue.params,rt.params)&&function ct(Ue,rt){return Xe(Ue,rt)&&Ue.every((Me,nt)=>Re(Me.parameters,rt[nt].parameters))}(Ue.url,rt.url);return Me&&!(!Ue.parent!=!rt.parent)&&(!Ue.parent||qn(Ue.parent,rt.parent))}let hi=(()=>{class Ue{constructor(){this.activated=null,this._activatedRoute=null,this.name=we,this.activateEvents=new e.vpe,this.deactivateEvents=new e.vpe,this.attachEvents=new e.vpe,this.detachEvents=new e.vpe,this.parentContexts=(0,e.f3M)(ir),this.location=(0,e.f3M)(e.s_b),this.changeDetector=(0,e.f3M)(e.sBO),this.environmentInjector=(0,e.f3M)(e.lqb),this.inputBinder=(0,e.f3M)(Ui,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(Me){if(Me.name){const{firstChange:nt,previousValue:Gt}=Me.name;if(nt)return;this.isTrackedInParentContexts(Gt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Gt)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(Me){return this.parentContexts.getContext(Me)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const Me=this.parentContexts.getContext(this.name);Me?.route&&(Me.attachRef?this.attach(Me.attachRef,Me.route):this.activateWith(Me.route,Me.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.vHH(4012,!1);this.location.detach();const Me=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(Me.instance),Me}attach(Me,nt){this.activated=Me,this._activatedRoute=nt,this.location.insert(Me.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(Me.instance)}deactivate(){if(this.activated){const Me=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Me)}}activateWith(Me,nt){if(this.isActivated)throw new e.vHH(4013,!1);this._activatedRoute=Me;const Gt=this.location,dn=Me.snapshot.component,Vn=this.parentContexts.getOrCreateContext(this.name).children,mi=new ci(Me,Vn,Gt.injector);this.activated=Gt.createComponent(dn,{index:Gt.length,injector:mi,environmentInjector:nt??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(nt){return new(nt||Ue)};static#t=this.\u0275dir=e.lG2({type:Ue,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[e.TTD]})}return Ue})();class ci{constructor(rt,Me,nt){this.route=rt,this.childContexts=Me,this.parent=nt}get(rt,Me){return rt===yi?this.route:rt===ir?this.childContexts:this.parent.get(rt,Me)}}const Ui=new e.OlP("");let Ji=(()=>{class Ue{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(Me){this.unsubscribeFromRouteData(Me),this.subscribeToRouteData(Me)}unsubscribeFromRouteData(Me){this.outletDataSubscriptions.get(Me)?.unsubscribe(),this.outletDataSubscriptions.delete(Me)}subscribeToRouteData(Me){const{activatedRoute:nt}=Me,Gt=(0,P.a)([nt.queryParams,nt.params,nt.data]).pipe((0,N.w)(([sn,dn,Vn],mi)=>(Vn={...sn,...dn,...Vn},0===mi?(0,b.of)(Vn):Promise.resolve(Vn)))).subscribe(sn=>{if(!Me.isActivated||!Me.activatedComponentRef||Me.activatedRoute!==nt||null===nt.component)return void this.unsubscribeFromRouteData(Me);const dn=(0,e.qFp)(nt.component);if(dn)for(const{templateName:Vn}of dn.inputs)Me.activatedComponentRef.setInput(Vn,sn[Vn]);else this.unsubscribeFromRouteData(Me)});this.outletDataSubscriptions.set(Me,Gt)}static#e=this.\u0275fac=function(nt){return new(nt||Ue)};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac})}return Ue})();function Ki(Ue,rt,Me){if(Me&&Ue.shouldReuseRoute(rt.value,Me.value.snapshot)){const nt=Me.value;nt._futureSnapshot=rt.value;const Gt=function Ir(Ue,rt,Me){return rt.children.map(nt=>{for(const Gt of Me.children)if(Ue.shouldReuseRoute(nt.value,Gt.value.snapshot))return Ki(Ue,nt,Gt);return Ki(Ue,nt)})}(Ue,rt,Me);return new xr(nt,Gt)}{if(Ue.shouldAttach(rt.value)){const sn=Ue.retrieve(rt.value);if(null!==sn){const dn=sn.route;return dn.value._futureSnapshot=rt.value,dn.children=rt.children.map(Vn=>Ki(Ue,Vn)),dn}}const nt=function Oo(Ue){return new yi(new _.X(Ue.url),new _.X(Ue.params),new _.X(Ue.queryParams),new _.X(Ue.fragment),new _.X(Ue.data),Ue.outlet,Ue.component,Ue)}(rt.value),Gt=rt.children.map(sn=>Ki(Ue,sn));return new xr(nt,Gt)}}const Fo="ngNavigationCancelingError";function Bo(Ue,rt){const{redirectTo:Me,navigationBehaviorOptions:nt}=In(rt)?{redirectTo:rt,navigationBehaviorOptions:void 0}:rt,Gt=Ks(!1,0,rt);return Gt.url=Me,Gt.navigationBehaviorOptions=nt,Gt}function Ks(Ue,rt,Me){const nt=new Error("NavigationCancelingError: "+(Ue||""));return nt[Fo]=!0,nt.cancellationCode=rt,Me&&(nt.url=Me),nt}function eo(Ue){return yo(Ue)&&In(Ue.url)}function yo(Ue){return Ue&&Ue[Fo]}let cs=(()=>{class Ue{static#e=this.\u0275fac=function(nt){return new(nt||Ue)};static#t=this.\u0275cmp=e.Xpm({type:Ue,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(nt,Gt){1&nt&&e._UZ(0,"router-outlet")},dependencies:[hi],encapsulation:2})}return Ue})();function Yr(Ue){const rt=Ue.children&&Ue.children.map(Yr),Me=rt?{...Ue,children:rt}:{...Ue};return!Me.component&&!Me.loadComponent&&(rt||Me.loadChildren)&&Me.outlet&&Me.outlet!==we&&(Me.component=cs),Me}function mr(Ue){return Ue.outlet||we}function oo(Ue){if(!Ue)return null;if(Ue.routeConfig?._injector)return Ue.routeConfig._injector;for(let rt=Ue.parent;rt;rt=rt.parent){const Me=rt.routeConfig;if(Me?._loadedInjector)return Me._loadedInjector;if(Me?._injector)return Me._injector}return null}class Fr{constructor(rt,Me,nt,Gt,sn){this.routeReuseStrategy=rt,this.futureState=Me,this.currState=nt,this.forwardEvent=Gt,this.inputBindingEnabled=sn}activate(rt){const Me=this.futureState._root,nt=this.currState?this.currState._root:null;this.deactivateChildRoutes(Me,nt,rt),Dn(this.futureState.root),this.activateChildRoutes(Me,nt,rt)}deactivateChildRoutes(rt,Me,nt){const Gt=co(Me);rt.children.forEach(sn=>{const dn=sn.value.outlet;this.deactivateRoutes(sn,Gt[dn],nt),delete Gt[dn]}),Object.values(Gt).forEach(sn=>{this.deactivateRouteAndItsChildren(sn,nt)})}deactivateRoutes(rt,Me,nt){const Gt=rt.value,sn=Me?Me.value:null;if(Gt===sn)if(Gt.component){const dn=nt.getContext(Gt.outlet);dn&&this.deactivateChildRoutes(rt,Me,dn.children)}else this.deactivateChildRoutes(rt,Me,nt);else sn&&this.deactivateRouteAndItsChildren(Me,nt)}deactivateRouteAndItsChildren(rt,Me){rt.value.component&&this.routeReuseStrategy.shouldDetach(rt.value.snapshot)?this.detachAndStoreRouteSubtree(rt,Me):this.deactivateRouteAndOutlet(rt,Me)}detachAndStoreRouteSubtree(rt,Me){const nt=Me.getContext(rt.value.outlet),Gt=nt&&rt.value.component?nt.children:Me,sn=co(rt);for(const dn of Object.keys(sn))this.deactivateRouteAndItsChildren(sn[dn],Gt);if(nt&&nt.outlet){const dn=nt.outlet.detach(),Vn=nt.children.onOutletDeactivated();this.routeReuseStrategy.store(rt.value.snapshot,{componentRef:dn,route:rt,contexts:Vn})}}deactivateRouteAndOutlet(rt,Me){const nt=Me.getContext(rt.value.outlet),Gt=nt&&rt.value.component?nt.children:Me,sn=co(rt);for(const dn of Object.keys(sn))this.deactivateRouteAndItsChildren(sn[dn],Gt);nt&&(nt.outlet&&(nt.outlet.deactivate(),nt.children.onOutletDeactivated()),nt.attachRef=null,nt.route=null)}activateChildRoutes(rt,Me,nt){const Gt=co(Me);rt.children.forEach(sn=>{this.activateRoutes(sn,Gt[sn.value.outlet],nt),this.forwardEvent(new Do(sn.value.snapshot))}),rt.children.length&&this.forwardEvent(new Oi(rt.value.snapshot))}activateRoutes(rt,Me,nt){const Gt=rt.value,sn=Me?Me.value:null;if(Dn(Gt),Gt===sn)if(Gt.component){const dn=nt.getOrCreateContext(Gt.outlet);this.activateChildRoutes(rt,Me,dn.children)}else this.activateChildRoutes(rt,Me,nt);else if(Gt.component){const dn=nt.getOrCreateContext(Gt.outlet);if(this.routeReuseStrategy.shouldAttach(Gt.snapshot)){const Vn=this.routeReuseStrategy.retrieve(Gt.snapshot);this.routeReuseStrategy.store(Gt.snapshot,null),dn.children.onOutletReAttached(Vn.contexts),dn.attachRef=Vn.componentRef,dn.route=Vn.route.value,dn.outlet&&dn.outlet.attach(Vn.componentRef,Vn.route.value),Dn(Vn.route.value),this.activateChildRoutes(rt,null,dn.children)}else{const Vn=oo(Gt.snapshot);dn.attachRef=null,dn.route=Gt,dn.injector=Vn,dn.outlet&&dn.outlet.activateWith(Gt,dn.injector),this.activateChildRoutes(rt,null,dn.children)}}else this.activateChildRoutes(rt,null,nt)}}class pr{constructor(rt){this.path=rt,this.route=this.path[this.path.length-1]}}class Uo{constructor(rt,Me){this.component=rt,this.route=Me}}function Ys(Ue,rt,Me){const nt=Ue._root;return Zo(nt,rt?rt._root:null,Me,[nt.value])}function Es(Ue,rt){const Me=Symbol(),nt=rt.get(Ue,Me);return nt===Me?"function"!=typeof Ue||(0,e.Z0I)(Ue)?rt.get(Ue):Ue:nt}function Zo(Ue,rt,Me,nt,Gt={canDeactivateChecks:[],canActivateChecks:[]}){const sn=co(rt);return Ue.children.forEach(dn=>{(function Rs(Ue,rt,Me,nt,Gt={canDeactivateChecks:[],canActivateChecks:[]}){const sn=Ue.value,dn=rt?rt.value:null,Vn=Me?Me.getContext(Ue.value.outlet):null;if(dn&&sn.routeConfig===dn.routeConfig){const mi=function Da(Ue,rt,Me){if("function"==typeof Me)return Me(Ue,rt);switch(Me){case"pathParamsChange":return!Xe(Ue.url,rt.url);case"pathParamsOrQueryParamsChange":return!Xe(Ue.url,rt.url)||!Re(Ue.queryParams,rt.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qn(Ue,rt)||!Re(Ue.queryParams,rt.queryParams);default:return!qn(Ue,rt)}}(dn,sn,sn.routeConfig.runGuardsAndResolvers);mi?Gt.canActivateChecks.push(new pr(nt)):(sn.data=dn.data,sn._resolvedData=dn._resolvedData),Zo(Ue,rt,sn.component?Vn?Vn.children:null:Me,nt,Gt),mi&&Vn&&Vn.outlet&&Vn.outlet.isActivated&&Gt.canDeactivateChecks.push(new Uo(Vn.outlet.component,dn))}else dn&&ks(rt,Vn,Gt),Gt.canActivateChecks.push(new pr(nt)),Zo(Ue,null,sn.component?Vn?Vn.children:null:Me,nt,Gt)})(dn,sn[dn.value.outlet],Me,nt.concat([dn.value]),Gt),delete sn[dn.value.outlet]}),Object.entries(sn).forEach(([dn,Vn])=>ks(Vn,Me.getContext(dn),Gt)),Gt}function ks(Ue,rt,Me){const nt=co(Ue),Gt=Ue.value;Object.entries(nt).forEach(([sn,dn])=>{ks(dn,Gt.component?rt?rt.children.getContext(sn):null:rt,Me)}),Me.canDeactivateChecks.push(new Uo(Gt.component&&rt&&rt.outlet&&rt.outlet.isActivated?rt.outlet.component:null,Gt))}function bo(Ue){return"function"==typeof Ue}function ra(Ue){return Ue instanceof C.K||"EmptyError"===Ue?.name}const Bs=Symbol("INITIAL_VALUE");function Ts(){return(0,N.w)(Ue=>(0,P.a)(Ue.map(rt=>rt.pipe((0,O.q)(1),(0,D.O)(Bs)))).pipe((0,A.U)(rt=>{for(const Me of rt)if(!0!==Me){if(Me===Bs)return Bs;if(!1===Me||Me instanceof xe)return Me}return!0}),(0,I.h)(rt=>rt!==Bs),(0,O.q)(1)))}function zi(Ue){return(0,c.z)((0,B.b)(rt=>{if(In(rt))throw Bo(0,rt)}),(0,A.U)(rt=>!0===rt))}class ns{constructor(rt){this.segmentGroup=rt||null}}class Ss{constructor(rt){this.urlTree=rt}}function si(Ue){return(0,d._)(new ns(Ue))}function Ns(Ue){return(0,d._)(new Ss(Ue))}class al{constructor(rt,Me){this.urlSerializer=rt,this.urlTree=Me}noMatchError(rt){return new e.vHH(4002,!1)}lineralizeSegments(rt,Me){let nt=[],Gt=Me.root;for(;;){if(nt=nt.concat(Gt.segments),0===Gt.numberOfChildren)return(0,b.of)(nt);if(Gt.numberOfChildren>1||!Gt.children[we])return(0,d._)(new e.vHH(4e3,!1));Gt=Gt.children[we]}}applyRedirectCommands(rt,Me,nt){return this.applyRedirectCreateUrlTree(Me,this.urlSerializer.parse(Me),rt,nt)}applyRedirectCreateUrlTree(rt,Me,nt,Gt){const sn=this.createSegmentGroup(rt,Me.root,nt,Gt);return new xe(sn,this.createQueryParams(Me.queryParams,this.urlTree.queryParams),Me.fragment)}createQueryParams(rt,Me){const nt={};return Object.entries(rt).forEach(([Gt,sn])=>{if("string"==typeof sn&&sn.startsWith(":")){const Vn=sn.substring(1);nt[Gt]=Me[Vn]}else nt[Gt]=sn}),nt}createSegmentGroup(rt,Me,nt,Gt){const sn=this.createSegments(rt,Me.segments,nt,Gt);let dn={};return Object.entries(Me.children).forEach(([Vn,mi])=>{dn[Vn]=this.createSegmentGroup(rt,mi,nt,Gt)}),new Ee(sn,dn)}createSegments(rt,Me,nt,Gt){return Me.map(sn=>sn.path.startsWith(":")?this.findPosParam(rt,sn,Gt):this.findOrReturn(sn,nt))}findPosParam(rt,Me,nt){const Gt=nt[Me.path.substring(1)];if(!Gt)throw new e.vHH(4001,!1);return Gt}findOrReturn(rt,Me){let nt=0;for(const Gt of Me){if(Gt.path===rt.path)return Me.splice(nt),Gt;nt++}return rt}}const pa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xa(Ue,rt,Me,nt,Gt){const sn=oa(Ue,rt,Me);return sn.matched?(nt=function ds(Ue,rt){return Ue.providers&&!Ue._injector&&(Ue._injector=(0,e.MMx)(Ue.providers,rt,`Route: ${Ue.path}`)),Ue._injector??rt}(rt,nt),function $o(Ue,rt,Me,nt){const Gt=rt.canMatch;if(!Gt||0===Gt.length)return(0,b.of)(!0);const sn=Gt.map(dn=>{const Vn=Es(dn,Ue);return ie(function Br(Ue){return Ue&&bo(Ue.canMatch)}(Vn)?Vn.canMatch(rt,Me):Ue.runInContext(()=>Vn(rt,Me)))});return(0,b.of)(sn).pipe(Ts(),zi())}(nt,rt,Me).pipe((0,A.U)(dn=>!0===dn?sn:{...pa}))):(0,b.of)(sn)}function oa(Ue,rt,Me){if(""===rt.path)return"full"===rt.pathMatch&&(Ue.hasChildren()||Me.length>0)?{...pa}:{matched:!0,consumedSegments:[],remainingSegments:Me,parameters:{},positionalParamSegments:{}};const Gt=(rt.matcher||ft)(Me,Ue,rt);if(!Gt)return{...pa};const sn={};Object.entries(Gt.posParams??{}).forEach(([Vn,mi])=>{sn[Vn]=mi.path});const dn=Gt.consumed.length>0?{...sn,...Gt.consumed[Gt.consumed.length-1].parameters}:sn;return{matched:!0,consumedSegments:Gt.consumed,remainingSegments:Me.slice(Gt.consumed.length),parameters:dn,positionalParamSegments:Gt.posParams??{}}}function ms(Ue,rt,Me,nt){return Me.length>0&&function ga(Ue,rt,Me){return Me.some(nt=>Ia(Ue,rt,nt)&&mr(nt)!==we)}(Ue,Me,nt)?{segmentGroup:new Ee(rt,wl(nt,new Ee(Me,Ue.children))),slicedSegments:[]}:0===Me.length&&function cl(Ue,rt,Me){return Me.some(nt=>Ia(Ue,rt,nt))}(Ue,Me,nt)?{segmentGroup:new Ee(Ue.segments,ll(Ue,0,Me,nt,Ue.children)),slicedSegments:Me}:{segmentGroup:new Ee(Ue.segments,Ue.children),slicedSegments:Me}}function ll(Ue,rt,Me,nt,Gt){const sn={};for(const dn of nt)if(Ia(Ue,Me,dn)&&!Gt[mr(dn)]){const Vn=new Ee([],{});sn[mr(dn)]=Vn}return{...Gt,...sn}}function wl(Ue,rt){const Me={};Me[we]=rt;for(const nt of Ue)if(""===nt.path&&mr(nt)!==we){const Gt=new Ee([],{});Me[mr(nt)]=Gt}return Me}function Ia(Ue,rt,Me){return(!(Ue.hasChildren()||rt.length>0)||"full"!==Me.pathMatch)&&""===Me.path}class uc{constructor(rt,Me,nt,Gt,sn,dn,Vn){this.injector=rt,this.configLoader=Me,this.rootComponentType=nt,this.config=Gt,this.urlTree=sn,this.paramsInheritanceStrategy=dn,this.urlSerializer=Vn,this.allowRedirects=!0,this.applyRedirects=new al(this.urlSerializer,this.urlTree)}noMatchError(rt){return new e.vHH(4002,!1)}recognize(){const rt=ms(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,rt,we).pipe(Fe(Me=>{if(Me instanceof Ss)return this.allowRedirects=!1,this.urlTree=Me.urlTree,this.match(Me.urlTree);throw Me instanceof ns?this.noMatchError(Me):Me}),(0,A.U)(Me=>{const nt=new Wr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},we,this.rootComponentType,null,{}),Gt=new xr(nt,Me),sn=new Mo("",Gt),dn=function Nn(Ue,rt,Me=null,nt=null){return ni($n(Ue),rt,Me,nt)}(nt,[],this.urlTree.queryParams,this.urlTree.fragment);return dn.queryParams=this.urlTree.queryParams,sn.url=this.urlSerializer.serialize(dn),this.inheritParamsAndData(sn._root),{state:sn,tree:dn}}))}match(rt){return this.processSegmentGroup(this.injector,this.config,rt.root,we).pipe(Fe(nt=>{throw nt instanceof ns?this.noMatchError(nt):nt}))}inheritParamsAndData(rt){const Me=rt.value,nt=Zi(Me,this.paramsInheritanceStrategy);Me.params=Object.freeze(nt.params),Me.data=Object.freeze(nt.data),rt.children.forEach(Gt=>this.inheritParamsAndData(Gt))}processSegmentGroup(rt,Me,nt,Gt){return 0===nt.segments.length&&nt.hasChildren()?this.processChildren(rt,Me,nt):this.processSegment(rt,Me,nt,nt.segments,Gt,!0)}processChildren(rt,Me,nt){const Gt=[];for(const sn of Object.keys(nt.children))"primary"===sn?Gt.unshift(sn):Gt.push(sn);return(0,v.D)(Gt).pipe((0,y.b)(sn=>{const dn=nt.children[sn],Vn=function Cr(Ue,rt){const Me=Ue.filter(nt=>mr(nt)===rt);return Me.push(...Ue.filter(nt=>mr(nt)!==rt)),Me}(Me,sn);return this.processSegmentGroup(rt,Vn,dn,sn)}),function le(Ue,rt){return(0,ae.e)(function Y(Ue,rt,Me,nt,Gt){return(sn,dn)=>{let Vn=Me,mi=rt,Pi=0;sn.subscribe((0,ne.x)(dn,Ri=>{const Tr=Pi++;mi=Vn?Ue(mi,Ri,Tr):(Vn=!0,Ri),nt&&dn.next(mi)},Gt&&(()=>{Vn&&dn.next(mi),dn.complete()})))}}(Ue,rt,arguments.length>=2,!0))}((sn,dn)=>(sn.push(...dn),sn)),(0,G.d)(null),function Ie(Ue,rt){const Me=arguments.length>=2;return nt=>nt.pipe(Ue?(0,I.h)((Gt,sn)=>Ue(Gt,sn,nt)):ge.y,Se(1),Me?(0,G.d)(rt):(0,ce.T)(()=>new C.K))}(),(0,T.z)(sn=>{if(null===sn)return si(nt);const dn=_a(sn);return function Ha(Ue){Ue.sort((rt,Me)=>rt.value.outlet===we?-1:Me.value.outlet===we?1:rt.value.outlet.localeCompare(Me.value.outlet))}(dn),(0,b.of)(dn)}))}processSegment(rt,Me,nt,Gt,sn,dn){return(0,v.D)(Me).pipe((0,y.b)(Vn=>this.processSegmentAgainstRoute(Vn._injector??rt,Me,Vn,nt,Gt,sn,dn).pipe(Fe(mi=>{if(mi instanceof ns)return(0,b.of)(null);throw mi}))),(0,L.P)(Vn=>!!Vn),Fe(Vn=>{if(ra(Vn))return function Kc(Ue,rt,Me){return 0===rt.length&&!Ue.children[Me]}(nt,Gt,sn)?(0,b.of)([]):si(nt);throw Vn}))}processSegmentAgainstRoute(rt,Me,nt,Gt,sn,dn,Vn){return function Po(Ue,rt,Me,nt){return!!(mr(Ue)===nt||nt!==we&&Ia(rt,Me,Ue))&&("**"===Ue.path||oa(rt,Ue,Me).matched)}(nt,Gt,sn,dn)?void 0===nt.redirectTo?this.matchSegmentAgainstRoute(rt,Gt,nt,sn,dn,Vn):Vn&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(rt,Gt,Me,nt,sn,dn):si(Gt):si(Gt)}expandSegmentAgainstRouteUsingRedirect(rt,Me,nt,Gt,sn,dn){return"**"===Gt.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(rt,nt,Gt,dn):this.expandRegularSegmentAgainstRouteUsingRedirect(rt,Me,nt,Gt,sn,dn)}expandWildCardWithParamsAgainstRouteUsingRedirect(rt,Me,nt,Gt){const sn=this.applyRedirects.applyRedirectCommands([],nt.redirectTo,{});return nt.redirectTo.startsWith("/")?Ns(sn):this.applyRedirects.lineralizeSegments(nt,sn).pipe((0,T.z)(dn=>{const Vn=new Ee(dn,{});return this.processSegment(rt,Me,Vn,dn,Gt,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(rt,Me,nt,Gt,sn,dn){const{matched:Vn,consumedSegments:mi,remainingSegments:Pi,positionalParamSegments:Ri}=oa(Me,Gt,sn);if(!Vn)return si(Me);const Tr=this.applyRedirects.applyRedirectCommands(mi,Gt.redirectTo,Ri);return Gt.redirectTo.startsWith("/")?Ns(Tr):this.applyRedirects.lineralizeSegments(Gt,Tr).pipe((0,T.z)(qr=>this.processSegment(rt,nt,Me,qr.concat(Pi),dn,!1)))}matchSegmentAgainstRoute(rt,Me,nt,Gt,sn,dn){let Vn;if("**"===nt.path){const mi=Gt.length>0?Q(Gt).parameters:{},Pi=new Wr(Gt,mi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,va(nt),mr(nt),nt.component??nt._loadedComponent??null,nt,fl(nt));Vn=(0,b.of)({snapshot:Pi,consumedSegments:[],remainingSegments:[]}),Me.children={}}else Vn=xa(Me,nt,Gt,rt).pipe((0,A.U)(({matched:mi,consumedSegments:Pi,remainingSegments:Ri,parameters:Tr})=>mi?{snapshot:new Wr(Pi,Tr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,va(nt),mr(nt),nt.component??nt._loadedComponent??null,nt,fl(nt)),consumedSegments:Pi,remainingSegments:Ri}:null));return Vn.pipe((0,N.w)(mi=>null===mi?si(Me):this.getChildConfig(rt=nt._injector??rt,nt,Gt).pipe((0,N.w)(({routes:Pi})=>{const Ri=nt._loadedInjector??rt,{snapshot:Tr,consumedSegments:qr,remainingSegments:ao}=mi,{segmentGroup:Qo,slicedSegments:gs}=ms(Me,qr,ao,Pi);if(0===gs.length&&Qo.hasChildren())return this.processChildren(Ri,Pi,Qo).pipe((0,A.U)(Wa=>null===Wa?null:[new xr(Tr,Wa)]));if(0===Pi.length&&0===gs.length)return(0,b.of)([new xr(Tr,[])]);const rs=mr(nt)===sn;return this.processSegment(Ri,Pi,Qo,gs,rs?we:sn,!0).pipe((0,A.U)(Wa=>[new xr(Tr,Wa)]))}))))}getChildConfig(rt,Me,nt){return Me.children?(0,b.of)({routes:Me.children,injector:rt}):Me.loadChildren?void 0!==Me._loadedRoutes?(0,b.of)({routes:Me._loadedRoutes,injector:Me._loadedInjector}):function Ti(Ue,rt,Me,nt){const Gt=rt.canLoad;if(void 0===Gt||0===Gt.length)return(0,b.of)(!0);const sn=Gt.map(dn=>{const Vn=Es(dn,Ue);return ie(function ts(Ue){return Ue&&bo(Ue.canLoad)}(Vn)?Vn.canLoad(rt,Me):Ue.runInContext(()=>Vn(rt,Me)))});return(0,b.of)(sn).pipe(Ts(),zi())}(rt,Me,nt).pipe((0,T.z)(Gt=>Gt?this.configLoader.loadChildren(rt,Me).pipe((0,B.b)(sn=>{Me._loadedRoutes=sn.routes,Me._loadedInjector=sn.injector})):function hs(Ue){return(0,d._)(Ks(!1,3))}())):(0,b.of)({routes:[],injector:rt})}}function dl(Ue){const rt=Ue.value.routeConfig;return rt&&""===rt.path}function _a(Ue){const rt=[],Me=new Set;for(const nt of Ue){if(!dl(nt)){rt.push(nt);continue}const Gt=rt.find(sn=>nt.value.routeConfig===sn.value.routeConfig);void 0!==Gt?(Gt.children.push(...nt.children),Me.add(Gt)):rt.push(nt)}for(const nt of Me){const Gt=_a(nt.children);rt.push(new xr(nt.value,Gt))}return rt.filter(nt=>!Me.has(nt))}function va(Ue){return Ue.data||{}}function fl(Ue){return Ue.resolve||{}}function Cs(Ue){return"string"==typeof Ue.title||null===Ue.title}function Oa(Ue){return(0,N.w)(rt=>{const Me=Ue(rt);return Me?(0,v.D)(Me).pipe((0,A.U)(()=>rt)):(0,b.of)(rt)})}const Ds=new e.OlP("ROUTES");let rr=(()=>{class Ue{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,e.f3M)(e.Sil)}loadComponent(Me){if(this.componentLoaders.get(Me))return this.componentLoaders.get(Me);if(Me._loadedComponent)return(0,b.of)(Me._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(Me);const nt=ie(Me.loadComponent()).pipe((0,A.U)($e),(0,B.b)(sn=>{this.onLoadEndListener&&this.onLoadEndListener(Me),Me._loadedComponent=sn}),(0,pe.x)(()=>{this.componentLoaders.delete(Me)})),Gt=new g.c(nt,()=>new S.x).pipe((0,Ae.x)());return this.componentLoaders.set(Me,Gt),Gt}loadChildren(Me,nt){if(this.childrenLoaders.get(nt))return this.childrenLoaders.get(nt);if(nt._loadedRoutes)return(0,b.of)({routes:nt._loadedRoutes,injector:nt._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(nt);const sn=this.loadModuleFactoryOrRoutes(nt.loadChildren).pipe((0,A.U)(Vn=>{this.onLoadEndListener&&this.onLoadEndListener(nt);let mi,Pi;return Array.isArray(Vn)?Pi=Vn:(mi=Vn.create(Me).injector,Pi=mi.get(Ds,[],e.XFs.Self|e.XFs.Optional).flat()),{routes:Pi.map(Yr),injector:mi}}),(0,pe.x)(()=>{this.childrenLoaders.delete(nt)})),dn=new g.c(sn,()=>new S.x).pipe((0,Ae.x)());return this.childrenLoaders.set(nt,dn),dn}loadModuleFactoryOrRoutes(Me){return ie(Me()).pipe((0,A.U)($e),(0,T.z)(nt=>nt instanceof e.YKP||Array.isArray(nt)?(0,b.of)(nt):(0,v.D)(this.compiler.compileModuleAsync(nt))))}static#e=this.\u0275fac=function(nt){return new(nt||Ue)};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})();function $e(Ue){return function ja(Ue){return Ue&&"object"==typeof Ue&&"default"in Ue}(Ue)?Ue.default:Ue}let Yt=(()=>{class Ue{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new S.x,this.configLoader=(0,e.f3M)(rr),this.environmentInjector=(0,e.f3M)(e.lqb),this.urlSerializer=(0,e.f3M)(gt),this.rootContexts=(0,e.f3M)(ir),this.inputBindingEnabled=null!==(0,e.f3M)(Ui,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,b.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Gt=>this.events.next(new jr(Gt)),this.configLoader.onLoadStartListener=Gt=>this.events.next(new $r(Gt))}complete(){this.transitions?.complete()}handleNavigationRequest(Me){const nt=++this.navigationId;this.transitions?.next({...this.transitions.value,...Me,id:nt})}setupNavigations(Me){return this.transitions=new _.X({id:0,currentUrlTree:Me.currentUrlTree,currentRawUrl:Me.currentUrlTree,extractedUrl:Me.urlHandlingStrategy.extract(Me.currentUrlTree),urlAfterRedirects:Me.urlHandlingStrategy.extract(Me.currentUrlTree),rawUrl:Me.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:An,restoredState:null,currentSnapshot:Me.routerState.snapshot,targetSnapshot:null,currentRouterState:Me.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,I.h)(nt=>0!==nt.id),(0,A.U)(nt=>({...nt,extractedUrl:Me.urlHandlingStrategy.extract(nt.rawUrl)})),(0,N.w)(nt=>{let Gt=!1,sn=!1;return(0,b.of)(nt).pipe((0,B.b)(dn=>{this.currentNavigation={id:dn.id,initialUrl:dn.rawUrl,extractedUrl:dn.extractedUrl,trigger:dn.source,extras:dn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,N.w)(dn=>{const Vn=Me.browserUrlTree.toString(),mi=!Me.navigated||dn.extractedUrl.toString()!==Vn||Vn!==Me.currentUrlTree.toString();if(!mi&&"reload"!==(dn.extras.onSameUrlNavigation??Me.onSameUrlNavigation)){const Ri="";return this.events.next(new Ne(dn.id,Me.serializeUrl(nt.rawUrl),Ri,0)),Me.rawUrlTree=dn.rawUrl,dn.resolve(null),f.E}if(Me.urlHandlingStrategy.shouldProcessUrl(dn.rawUrl))return mt(dn.source)&&(Me.browserUrlTree=dn.extractedUrl),(0,b.of)(dn).pipe((0,N.w)(Ri=>{const Tr=this.transitions?.getValue();return this.events.next(new Xn(Ri.id,this.urlSerializer.serialize(Ri.extractedUrl),Ri.source,Ri.restoredState)),Tr!==this.transitions?.getValue()?f.E:Promise.resolve(Ri)}),function hl(Ue,rt,Me,nt,Gt,sn){return(0,T.z)(dn=>function wa(Ue,rt,Me,nt,Gt,sn,dn="emptyOnly"){return new uc(Ue,rt,Me,nt,Gt,dn,sn).recognize()}(Ue,rt,Me,nt,dn.extractedUrl,Gt,sn).pipe((0,A.U)(({state:Vn,tree:mi})=>({...dn,targetSnapshot:Vn,urlAfterRedirects:mi}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,Me.config,this.urlSerializer,Me.paramsInheritanceStrategy),(0,B.b)(Ri=>{if(nt.targetSnapshot=Ri.targetSnapshot,nt.urlAfterRedirects=Ri.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ri.urlAfterRedirects},"eager"===Me.urlUpdateStrategy){if(!Ri.extras.skipLocationChange){const qr=Me.urlHandlingStrategy.merge(Ri.urlAfterRedirects,Ri.rawUrl);Me.setBrowserUrl(qr,Ri)}Me.browserUrlTree=Ri.urlAfterRedirects}const Tr=new Pt(Ri.id,this.urlSerializer.serialize(Ri.extractedUrl),this.urlSerializer.serialize(Ri.urlAfterRedirects),Ri.targetSnapshot);this.events.next(Tr)}));if(mi&&Me.urlHandlingStrategy.shouldProcessUrl(Me.rawUrlTree)){const{id:Ri,extractedUrl:Tr,source:qr,restoredState:ao,extras:Qo}=dn,gs=new Xn(Ri,this.urlSerializer.serialize(Tr),qr,ao);this.events.next(gs);const rs=ws(0,this.rootComponentType).snapshot;return nt={...dn,targetSnapshot:rs,urlAfterRedirects:Tr,extras:{...Qo,skipLocationChange:!1,replaceUrl:!1}},(0,b.of)(nt)}{const Ri="";return this.events.next(new Ne(dn.id,Me.serializeUrl(nt.extractedUrl),Ri,1)),Me.rawUrlTree=dn.rawUrl,dn.resolve(null),f.E}}),(0,B.b)(dn=>{const Vn=new ln(dn.id,this.urlSerializer.serialize(dn.extractedUrl),this.urlSerializer.serialize(dn.urlAfterRedirects),dn.targetSnapshot);this.events.next(Vn)}),(0,A.U)(dn=>nt={...dn,guards:Ys(dn.targetSnapshot,dn.currentSnapshot,this.rootContexts)}),function Aa(Ue,rt){return(0,T.z)(Me=>{const{targetSnapshot:nt,currentSnapshot:Gt,guards:{canActivateChecks:sn,canDeactivateChecks:dn}}=Me;return 0===dn.length&&0===sn.length?(0,b.of)({...Me,guardsResult:!0}):function Ur(Ue,rt,Me,nt){return(0,v.D)(Ue).pipe((0,T.z)(Gt=>function wn(Ue,rt,Me,nt,Gt){const sn=rt&&rt.routeConfig?rt.routeConfig.canDeactivate:null;if(!sn||0===sn.length)return(0,b.of)(!0);const dn=sn.map(Vn=>{const mi=oo(rt)??Gt,Pi=Es(Vn,mi);return ie(function zs(Ue){return Ue&&bo(Ue.canDeactivate)}(Pi)?Pi.canDeactivate(Ue,rt,Me,nt):mi.runInContext(()=>Pi(Ue,rt,Me,nt))).pipe((0,L.P)())});return(0,b.of)(dn).pipe(Ts())}(Gt.component,Gt.route,Me,rt,nt)),(0,L.P)(Gt=>!0!==Gt,!0))}(dn,nt,Gt,Ue).pipe((0,T.z)(Vn=>Vn&&function Fs(Ue){return"boolean"==typeof Ue}(Vn)?function kn(Ue,rt,Me,nt){return(0,v.D)(rt).pipe((0,y.b)(Gt=>(0,m.z)(function Ot(Ue,rt){return null!==Ue&&rt&&rt(new ki(Ue)),(0,b.of)(!0)}(Gt.route.parent,nt),function _t(Ue,rt){return null!==Ue&&rt&&rt(new Wo(Ue)),(0,b.of)(!0)}(Gt.route,nt),function $t(Ue,rt,Me){const nt=rt[rt.length-1],sn=rt.slice(0,rt.length-1).reverse().map(dn=>function gr(Ue){const rt=Ue.routeConfig?Ue.routeConfig.canActivateChild:null;return rt&&0!==rt.length?{node:Ue,guards:rt}:null}(dn)).filter(dn=>null!==dn).map(dn=>(0,i.P)(()=>{const Vn=dn.guards.map(mi=>{const Pi=oo(dn.node)??Me,Ri=Es(mi,Pi);return ie(function Ma(Ue){return Ue&&bo(Ue.canActivateChild)}(Ri)?Ri.canActivateChild(nt,Ue):Pi.runInContext(()=>Ri(nt,Ue))).pipe((0,L.P)())});return(0,b.of)(Vn).pipe(Ts())}));return(0,b.of)(sn).pipe(Ts())}(Ue,Gt.path,Me),function ut(Ue,rt,Me){const nt=rt.routeConfig?rt.routeConfig.canActivate:null;if(!nt||0===nt.length)return(0,b.of)(!0);const Gt=nt.map(sn=>(0,i.P)(()=>{const dn=oo(rt)??Me,Vn=Es(sn,dn);return ie(function ma(Ue){return Ue&&bo(Ue.canActivate)}(Vn)?Vn.canActivate(rt,Ue):dn.runInContext(()=>Vn(rt,Ue))).pipe((0,L.P)())}));return(0,b.of)(Gt).pipe(Ts())}(Ue,Gt.route,Me))),(0,L.P)(Gt=>!0!==Gt,!0))}(nt,sn,Ue,rt):(0,b.of)(Vn)),(0,A.U)(Vn=>({...Me,guardsResult:Vn})))})}(this.environmentInjector,dn=>this.events.next(dn)),(0,B.b)(dn=>{if(nt.guardsResult=dn.guardsResult,In(dn.guardsResult))throw Bo(0,dn.guardsResult);const Vn=new Fn(dn.id,this.urlSerializer.serialize(dn.extractedUrl),this.urlSerializer.serialize(dn.urlAfterRedirects),dn.targetSnapshot,!!dn.guardsResult);this.events.next(Vn)}),(0,I.h)(dn=>!!dn.guardsResult||(Me.restoreHistory(dn),this.cancelNavigationTransition(dn,"",3),!1)),Oa(dn=>{if(dn.guards.canActivateChecks.length)return(0,b.of)(dn).pipe((0,B.b)(Vn=>{const mi=new vi(Vn.id,this.urlSerializer.serialize(Vn.extractedUrl),this.urlSerializer.serialize(Vn.urlAfterRedirects),Vn.targetSnapshot);this.events.next(mi)}),(0,N.w)(Vn=>{let mi=!1;return(0,b.of)(Vn).pipe(function fc(Ue,rt){return(0,T.z)(Me=>{const{targetSnapshot:nt,guards:{canActivateChecks:Gt}}=Me;if(!Gt.length)return(0,b.of)(Me);let sn=0;return(0,v.D)(Gt).pipe((0,y.b)(dn=>function ya(Ue,rt,Me,nt){const Gt=Ue.routeConfig,sn=Ue._resolve;return void 0!==Gt?.title&&!Cs(Gt)&&(sn[Te]=Gt.title),function el(Ue,rt,Me,nt){const Gt=function ml(Ue){return[...Object.keys(Ue),...Object.getOwnPropertySymbols(Ue)]}(Ue);if(0===Gt.length)return(0,b.of)({});const sn={};return(0,v.D)(Gt).pipe((0,T.z)(dn=>function Ol(Ue,rt,Me,nt){const Gt=oo(rt)??nt,sn=Es(Ue,Gt);return ie(sn.resolve?sn.resolve(rt,Me):Gt.runInContext(()=>sn(rt,Me)))}(Ue[dn],rt,Me,nt).pipe((0,L.P)(),(0,B.b)(Vn=>{sn[dn]=Vn}))),Se(1),(0,Ce.h)(sn),Fe(dn=>ra(dn)?f.E:(0,d._)(dn)))}(sn,Ue,rt,nt).pipe((0,A.U)(dn=>(Ue._resolvedData=dn,Ue.data=Zi(Ue,Me).resolve,Gt&&Cs(Gt)&&(Ue.data[Te]=Gt.title),null)))}(dn.route,nt,Ue,rt)),(0,B.b)(()=>sn++),Se(1),(0,T.z)(dn=>sn===Gt.length?(0,b.of)(Me):f.E))})}(Me.paramsInheritanceStrategy,this.environmentInjector),(0,B.b)({next:()=>mi=!0,complete:()=>{mi||(Me.restoreHistory(Vn),this.cancelNavigationTransition(Vn,"",2))}}))}),(0,B.b)(Vn=>{const mi=new Er(Vn.id,this.urlSerializer.serialize(Vn.extractedUrl),this.urlSerializer.serialize(Vn.urlAfterRedirects),Vn.targetSnapshot);this.events.next(mi)}))}),Oa(dn=>{const Vn=mi=>{const Pi=[];mi.routeConfig?.loadComponent&&!mi.routeConfig._loadedComponent&&Pi.push(this.configLoader.loadComponent(mi.routeConfig).pipe((0,B.b)(Ri=>{mi.component=Ri}),(0,A.U)(()=>{})));for(const Ri of mi.children)Pi.push(...Vn(Ri));return Pi};return(0,P.a)(Vn(dn.targetSnapshot.root)).pipe((0,G.d)(),(0,O.q)(1))}),Oa(()=>this.afterPreactivation()),(0,A.U)(dn=>{const Vn=function or(Ue,rt,Me){const nt=Ki(Ue,rt._root,Me?Me._root:void 0);return new Xo(nt,rt)}(Me.routeReuseStrategy,dn.targetSnapshot,dn.currentRouterState);return nt={...dn,targetRouterState:Vn}}),(0,B.b)(dn=>{Me.currentUrlTree=dn.urlAfterRedirects,Me.rawUrlTree=Me.urlHandlingStrategy.merge(dn.urlAfterRedirects,dn.rawUrl),Me.routerState=dn.targetRouterState,"deferred"===Me.urlUpdateStrategy&&(dn.extras.skipLocationChange||Me.setBrowserUrl(Me.rawUrlTree,dn),Me.browserUrlTree=dn.urlAfterRedirects)}),((Ue,rt,Me,nt)=>(0,A.U)(Gt=>(new Fr(rt,Gt.targetRouterState,Gt.currentRouterState,Me,nt).activate(Ue),Gt)))(this.rootContexts,Me.routeReuseStrategy,dn=>this.events.next(dn),this.inputBindingEnabled),(0,O.q)(1),(0,B.b)({next:dn=>{Gt=!0,this.lastSuccessfulNavigation=this.currentNavigation,Me.navigated=!0,this.events.next(new Ut(dn.id,this.urlSerializer.serialize(dn.extractedUrl),this.urlSerializer.serialize(Me.currentUrlTree))),Me.titleStrategy?.updateTitle(dn.targetRouterState.snapshot),dn.resolve(!0)},complete:()=>{Gt=!0}}),(0,pe.x)(()=>{Gt||sn||this.cancelNavigationTransition(nt,"",1),this.currentNavigation?.id===nt.id&&(this.currentNavigation=null)}),Fe(dn=>{if(sn=!0,yo(dn)){eo(dn)||(Me.navigated=!0,Me.restoreHistory(nt,!0));const Vn=new On(nt.id,this.urlSerializer.serialize(nt.extractedUrl),dn.message,dn.cancellationCode);if(this.events.next(Vn),eo(dn)){const mi=Me.urlHandlingStrategy.merge(dn.url,Me.rawUrlTree),Pi={skipLocationChange:nt.extras.skipLocationChange,replaceUrl:"eager"===Me.urlUpdateStrategy||mt(nt.source)};Me.scheduleNavigation(mi,An,null,Pi,{resolve:nt.resolve,reject:nt.reject,promise:nt.promise})}else nt.resolve(!1)}else{Me.restoreHistory(nt,!0);const Vn=new Ft(nt.id,this.urlSerializer.serialize(nt.extractedUrl),dn,nt.targetSnapshot??void 0);this.events.next(Vn);try{nt.resolve(Me.errorHandler(dn))}catch(mi){nt.reject(mi)}}return f.E}))}))}cancelNavigationTransition(Me,nt,Gt){const sn=new On(Me.id,this.urlSerializer.serialize(Me.extractedUrl),nt,Gt);this.events.next(sn),Me.resolve(!1)}static#e=this.\u0275fac=function(nt){return new(nt||Ue)};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})();function mt(Ue){return Ue!==An}let Vt=(()=>{class Ue{buildTitle(Me){let nt,Gt=Me.root;for(;void 0!==Gt;)nt=this.getResolvedTitleForRoute(Gt)??nt,Gt=Gt.children.find(sn=>sn.outlet===we);return nt}getResolvedTitleForRoute(Me){return Me.data[Te]}static#e=this.\u0275fac=function(nt){return new(nt||Ue)};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:function(){return(0,e.f3M)(Sn)},providedIn:"root"})}return Ue})(),Sn=(()=>{class Ue extends Vt{constructor(Me){super(),this.title=Me}updateTitle(Me){const nt=this.buildTitle(Me);void 0!==nt&&this.title.setTitle(nt)}static#e=this.\u0275fac=function(nt){return new(nt||Ue)(e.LFG(he.Dx))};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})(),Zn=(()=>{class Ue{static#e=this.\u0275fac=function(nt){return new(nt||Ue)};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:function(){return(0,e.f3M)(Fi)},providedIn:"root"})}return Ue})();class ai{shouldDetach(rt){return!1}store(rt,Me){}shouldAttach(rt){return!1}retrieve(rt){return null}shouldReuseRoute(rt,Me){return rt.routeConfig===Me.routeConfig}}let Fi=(()=>{class Ue extends ai{static#e=this.\u0275fac=function(){let Me;return function(Gt){return(Me||(Me=e.n5z(Ue)))(Gt||Ue)}}();static#t=this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})();const Nr=new e.OlP("",{providedIn:"root",factory:()=>({})});let _r=(()=>{class Ue{static#e=this.\u0275fac=function(nt){return new(nt||Ue)};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:function(){return(0,e.f3M)(fr)},providedIn:"root"})}return Ue})(),fr=(()=>{class Ue{shouldProcessUrl(Me){return!0}extract(Me){return Me}merge(Me,nt){return Me}static#e=this.\u0275fac=function(nt){return new(nt||Ue)};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})();var tr=function(Ue){return Ue[Ue.COMPLETE=0]="COMPLETE",Ue[Ue.FAILED=1]="FAILED",Ue[Ue.REDIRECTING=2]="REDIRECTING",Ue}(tr||{});function fo(Ue,rt){Ue.events.pipe((0,I.h)(Me=>Me instanceof Ut||Me instanceof On||Me instanceof Ft||Me instanceof Ne),(0,A.U)(Me=>Me instanceof Ut||Me instanceof Ne?tr.COMPLETE:Me instanceof On&&(0===Me.code||1===Me.code)?tr.REDIRECTING:tr.FAILED),(0,I.h)(Me=>Me!==tr.REDIRECTING),(0,O.q)(1)).subscribe(()=>{rt()})}function Lr(Ue){throw Ue}function vr(Ue,rt,Me){return rt.parse("/")}const is={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Gi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qr=(()=>{class Ue{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,e.f3M)(e.c2e),this.isNgZoneEnabled=!1,this.options=(0,e.f3M)(Nr,{optional:!0})||{},this.pendingTasks=(0,e.f3M)(e.HDt),this.errorHandler=this.options.errorHandler||Lr,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||vr,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,e.f3M)(_r),this.routeReuseStrategy=(0,e.f3M)(Zn),this.titleStrategy=(0,e.f3M)(Vt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,e.f3M)(Ds,{optional:!0})?.flat()??[],this.navigationTransitions=(0,e.f3M)(Yt),this.urlSerializer=(0,e.f3M)(gt),this.location=(0,e.f3M)(x.Ye),this.componentInputBindingEnabled=!!(0,e.f3M)(Ui,{optional:!0}),this.isNgZoneEnabled=(0,e.f3M)(e.R0b)instanceof e.R0b&&e.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new xe,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ws(0,null),this.navigationTransitions.setupNavigations(this).subscribe(Me=>{this.lastSuccessfulId=Me.id,this.currentPageId=this.browserPageId??0},Me=>{this.console.warn(`Unhandled Navigation Error: ${Me}`)})}resetRootComponentType(Me){this.routerState.root.component=Me,this.navigationTransitions.rootComponentType=Me}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const Me=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),An,Me)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(Me=>{const nt="popstate"===Me.type?"popstate":"hashchange";"popstate"===nt&&setTimeout(()=>{this.navigateToSyncWithBrowser(Me.url,nt,Me.state)},0)}))}navigateToSyncWithBrowser(Me,nt,Gt){const sn={replaceUrl:!0},dn=Gt?.navigationId?Gt:null;if(Gt){const mi={...Gt};delete mi.navigationId,delete mi.\u0275routerPageId,0!==Object.keys(mi).length&&(sn.state=mi)}const Vn=this.parseUrl(Me);this.scheduleNavigation(Vn,nt,dn,sn)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(Me){this.config=Me.map(Yr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(Me,nt={}){const{relativeTo:Gt,queryParams:sn,fragment:dn,queryParamsHandling:Vn,preserveFragment:mi}=nt,Pi=mi?this.currentUrlTree.fragment:dn;let Tr,Ri=null;switch(Vn){case"merge":Ri={...this.currentUrlTree.queryParams,...sn};break;case"preserve":Ri=this.currentUrlTree.queryParams;break;default:Ri=sn||null}null!==Ri&&(Ri=this.removeEmptyProps(Ri));try{Tr=$n(Gt?Gt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof Me[0]||!Me[0].startsWith("/"))&&(Me=[]),Tr=this.currentUrlTree.root}return ni(Tr,Me,Ri,Pi??null)}navigateByUrl(Me,nt={skipLocationChange:!1}){const Gt=In(Me)?Me:this.parseUrl(Me),sn=this.urlHandlingStrategy.merge(Gt,this.rawUrlTree);return this.scheduleNavigation(sn,An,null,nt)}navigate(Me,nt={skipLocationChange:!1}){return function no(Ue){for(let rt=0;rt<Ue.length;rt++)if(null==Ue[rt])throw new e.vHH(4008,!1)}(Me),this.navigateByUrl(this.createUrlTree(Me,nt),nt)}serializeUrl(Me){return this.urlSerializer.serialize(Me)}parseUrl(Me){let nt;try{nt=this.urlSerializer.parse(Me)}catch(Gt){nt=this.malformedUriErrorHandler(Gt,this.urlSerializer,Me)}return nt}isActive(Me,nt){let Gt;if(Gt=!0===nt?{...is}:!1===nt?{...Gi}:nt,In(Me))return ee(this.currentUrlTree,Me,Gt);const sn=this.parseUrl(Me);return ee(this.currentUrlTree,sn,Gt)}removeEmptyProps(Me){return Object.keys(Me).reduce((nt,Gt)=>{const sn=Me[Gt];return null!=sn&&(nt[Gt]=sn),nt},{})}scheduleNavigation(Me,nt,Gt,sn,dn){if(this.disposed)return Promise.resolve(!1);let Vn,mi,Pi;dn?(Vn=dn.resolve,mi=dn.reject,Pi=dn.promise):Pi=new Promise((Tr,qr)=>{Vn=Tr,mi=qr});const Ri=this.pendingTasks.add();return fo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ri))}),this.navigationTransitions.handleNavigationRequest({source:nt,restoredState:Gt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:Me,extras:sn,resolve:Vn,reject:mi,promise:Pi,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Pi.catch(Tr=>Promise.reject(Tr))}setBrowserUrl(Me,nt){const Gt=this.urlSerializer.serialize(Me);if(this.location.isCurrentPathEqualTo(Gt)||nt.extras.replaceUrl){const dn={...nt.extras.state,...this.generateNgRouterState(nt.id,this.browserPageId)};this.location.replaceState(Gt,"",dn)}else{const sn={...nt.extras.state,...this.generateNgRouterState(nt.id,(this.browserPageId??0)+1)};this.location.go(Gt,"",sn)}}restoreHistory(Me,nt=!1){if("computed"===this.canceledNavigationResolution){const sn=this.currentPageId-(this.browserPageId??this.currentPageId);0!==sn?this.location.historyGo(sn):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===sn&&(this.resetState(Me),this.browserUrlTree=Me.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(nt&&this.resetState(Me),this.resetUrlToCurrentUrlTree())}resetState(Me){this.routerState=Me.currentRouterState,this.currentUrlTree=Me.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Me.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(Me,nt){return"computed"===this.canceledNavigationResolution?{navigationId:Me,\u0275routerPageId:nt}:{navigationId:Me}}static#e=this.\u0275fac=function(nt){return new(nt||Ue)};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})(),Ms=(()=>{class Ue{constructor(Me,nt,Gt,sn,dn,Vn){this.router=Me,this.route=nt,this.tabIndexAttribute=Gt,this.renderer=sn,this.el=dn,this.locationStrategy=Vn,this.href=null,this.commands=null,this.onChanges=new S.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const mi=dn.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===mi||"area"===mi,this.isAnchorElement?this.subscription=Me.events.subscribe(Pi=>{Pi instanceof Ut&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(Me){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",Me)}ngOnChanges(Me){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(Me){null!=Me?(this.commands=Array.isArray(Me)?Me:[Me],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(Me,nt,Gt,sn,dn){return!!(null===this.urlTree||this.isAnchorElement&&(0!==Me||nt||Gt||sn||dn||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const Me=null===this.href?null:(0,e.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Me)}applyAttributeValue(Me,nt){const Gt=this.renderer,sn=this.el.nativeElement;null!==nt?Gt.setAttribute(sn,Me,nt):Gt.removeAttribute(sn,Me)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(nt){return new(nt||Ue)(e.Y36(Qr),e.Y36(yi),e.$8M("tabindex"),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(x.S$))};static#t=this.\u0275dir=e.lG2({type:Ue,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(nt,Gt){1&nt&&e.NdJ("click",function(dn){return Gt.onClick(dn.button,dn.ctrlKey,dn.shiftKey,dn.altKey,dn.metaKey)}),2&nt&&e.uIk("target",Gt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",e.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",e.VuI],replaceUrl:["replaceUrl","replaceUrl",e.VuI],routerLink:"routerLink"},standalone:!0,features:[e.Xq5,e.TTD]})}return Ue})();class ba{}let Ea=(()=>{class Ue{constructor(Me,nt,Gt,sn,dn){this.router=Me,this.injector=Gt,this.preloadingStrategy=sn,this.loader=dn}setUpPreloading(){this.subscription=this.router.events.pipe((0,I.h)(Me=>Me instanceof Ut),(0,y.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Me,nt){const Gt=[];for(const sn of nt){sn.providers&&!sn._injector&&(sn._injector=(0,e.MMx)(sn.providers,Me,`Route: ${sn.path}`));const dn=sn._injector??Me,Vn=sn._loadedInjector??dn;(sn.loadChildren&&!sn._loadedRoutes&&void 0===sn.canLoad||sn.loadComponent&&!sn._loadedComponent)&&Gt.push(this.preloadConfig(dn,sn)),(sn.children||sn._loadedRoutes)&&Gt.push(this.processRoutes(Vn,sn.children??sn._loadedRoutes))}return(0,v.D)(Gt).pipe((0,ke.J)())}preloadConfig(Me,nt){return this.preloadingStrategy.preload(nt,()=>{let Gt;Gt=nt.loadChildren&&void 0===nt.canLoad?this.loader.loadChildren(Me,nt):(0,b.of)(null);const sn=Gt.pipe((0,T.z)(dn=>null===dn?(0,b.of)(void 0):(nt._loadedRoutes=dn.routes,nt._loadedInjector=dn.injector,this.processRoutes(dn.injector??Me,dn.routes))));if(nt.loadComponent&&!nt._loadedComponent){const dn=this.loader.loadComponent(nt);return(0,v.D)([sn,dn]).pipe((0,ke.J)())}return sn})}static#e=this.\u0275fac=function(nt){return new(nt||Ue)(e.LFG(Qr),e.LFG(e.Sil),e.LFG(e.lqb),e.LFG(ba),e.LFG(rr))};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})();const Va=new e.OlP("");let As=(()=>{class Ue{constructor(Me,nt,Gt,sn,dn={}){this.urlSerializer=Me,this.transitions=nt,this.viewportScroller=Gt,this.zone=sn,this.options=dn,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},dn.scrollPositionRestoration=dn.scrollPositionRestoration||"disabled",dn.anchorScrolling=dn.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Me=>{Me instanceof Xn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Me.navigationTrigger,this.restoredId=Me.restoredState?Me.restoredState.navigationId:0):Me instanceof Ut?(this.lastId=Me.id,this.scheduleScrollEvent(Me,this.urlSerializer.parse(Me.urlAfterRedirects).fragment)):Me instanceof Ne&&0===Me.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(Me,this.urlSerializer.parse(Me.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Me=>{Me instanceof bs&&(Me.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Me.position):Me.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Me.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Me,nt){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new bs(Me,"popstate"===this.lastSource?this.store[this.restoredId]:null,nt))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(nt){e.$Z()};static#t=this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac})}return Ue})();function sr(Ue,rt){return{\u0275kind:Ue,\u0275providers:rt}}function tl(){const Ue=(0,e.f3M)(e.zs3);return rt=>{const Me=Ue.get(e.z2F);if(rt!==Me.components[0])return;const nt=Ue.get(Qr),Gt=Ue.get(so);1===Ue.get(Ka)&&nt.initialNavigation(),Ue.get(ps,null,e.XFs.Optional)?.setUpPreloading(),Ue.get(Va,null,e.XFs.Optional)?.init(),nt.resetRootComponentType(Me.componentTypes[0]),Gt.closed||(Gt.next(),Gt.complete(),Gt.unsubscribe())}}const so=new e.OlP("",{factory:()=>new S.x}),Ka=new e.OlP("",{providedIn:"root",factory:()=>1}),ps=new e.OlP("");function Jo(Ue){return sr(0,[{provide:ps,useExisting:Ea},{provide:ba,useExisting:Ue}])}const nl=new e.OlP("ROUTER_FORROOT_GUARD"),Sa=[x.Ye,{provide:gt,useClass:Qe},Qr,ir,{provide:yi,useFactory:function di(Ue){return Ue.routerState.root},deps:[Qr]},rr,[]];function ca(){return new e.PXZ("Router",Qr)}let Us=(()=>{class Ue{constructor(Me){}static forRoot(Me,nt){return{ngModule:Ue,providers:[Sa,[],{provide:Ds,multi:!0,useValue:Me},{provide:nl,useFactory:Yc,deps:[[Qr,new e.FiY,new e.tp0]]},{provide:Nr,useValue:nt||{}},nt?.useHash?{provide:x.S$,useClass:x.Do}:{provide:x.S$,useClass:x.b0},{provide:Va,useFactory:()=>{const Ue=(0,e.f3M)(x.EM),rt=(0,e.f3M)(e.R0b),Me=(0,e.f3M)(Nr),nt=(0,e.f3M)(Yt),Gt=(0,e.f3M)(gt);return Me.scrollOffset&&Ue.setOffset(Me.scrollOffset),new As(Gt,nt,Ue,rt,Me)}},nt?.preloadingStrategy?Jo(nt.preloadingStrategy).\u0275providers:[],{provide:e.PXZ,multi:!0,useFactory:ca},nt?.initialNavigation?$s(nt):[],nt?.bindToComponentInputs?sr(8,[Ji,{provide:Ui,useExisting:Ji}]).\u0275providers:[],[{provide:yl,useFactory:tl},{provide:e.tb,multi:!0,useExisting:yl}]]}}static forChild(Me){return{ngModule:Ue,providers:[{provide:Ds,multi:!0,useValue:Me}]}}static#e=this.\u0275fac=function(nt){return new(nt||Ue)(e.LFG(nl,8))};static#t=this.\u0275mod=e.oAB({type:Ue});static#n=this.\u0275inj=e.cJS({})}return Ue})();function Yc(Ue){return"guarded"}function $s(Ue){return["disabled"===Ue.initialNavigation?sr(3,[{provide:e.ip1,multi:!0,useFactory:()=>{const rt=(0,e.f3M)(Qr);return()=>{rt.setUpLocationChangeListener()}}},{provide:Ka,useValue:2}]).\u0275providers:[],"enabledBlocking"===Ue.initialNavigation?sr(2,[{provide:Ka,useValue:0},{provide:e.ip1,multi:!0,deps:[e.zs3],useFactory:rt=>{const Me=rt.get(x.V_,Promise.resolve());return()=>Me.then(()=>new Promise(nt=>{const Gt=rt.get(Qr),sn=rt.get(so);fo(Gt,()=>{nt(!0)}),rt.get(Yt).afterPreactivation=()=>(nt(!0),sn.closed?(0,b.of)(void 0):sn),Gt.initialNavigation()}))}}]).\u0275providers:[]]}const yl=new e.OlP("")},3106:(Wn,et,p)=>{"use strict";p.d(et,{Z:()=>x});var e=p(9058),t=p(4537),v=p(534),b=p(7879);class _{constructor(N,O){this._delegate=N,this.firebase=O,(0,v._addComponent)(N,new t.wA("app-compat",()=>this,"PUBLIC")),this.container=N.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(N){this._delegate.automaticDataCollectionEnabled=N}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(N=>{this._delegate.checkDestroyed(),N()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,v.deleteApp)(this._delegate)))}_getService(N,O=v._DEFAULT_ENTRY_NAME){var D;this._delegate.checkDestroyed();const I=this._delegate.container.getProvider(N);return!I.isInitialized()&&"EXPLICIT"===(null===(D=I.getComponent())||void 0===D?void 0:D.instantiationMode)&&I.initialize(),I.getImmediate({identifier:O})}_removeServiceInstance(N,O=v._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(N).clearInstance(O)}_addComponent(N){(0,v._addComponent)(this._delegate,N)}_addOrOverwriteComponent(N){(0,v._addOrOverwriteComponent)(this._delegate,N)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const C=new e.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=function i(){const A=function m(A){const N={},O={__esModule:!0,initializeApp:function T(z,ne={}){const ae=v.initializeApp(z,ne);if((0,e.r3)(N,ae.name))return N[ae.name];const Fe=new A(ae,O);return N[ae.name]=Fe,Fe},app:I,registerVersion:v.registerVersion,setLogLevel:v.setLogLevel,onLog:v.onLog,apps:null,SDK_VERSION:v.SDK_VERSION,INTERNAL:{registerComponent:function y(z){const ne=z.name,ae=ne.replace("-compat","");if(v._registerComponent(z)&&"PUBLIC"===z.type){const Fe=(Y=I())=>{if("function"!=typeof Y[ae])throw C.create("invalid-app-argument",{appName:ne});return Y[ae]()};void 0!==z.serviceProps&&(0,e.ZB)(Fe,z.serviceProps),O[ae]=Fe,A.prototype[ae]=function(...Y){return this._getService.bind(this,ne).apply(this,z.multipleInstances?Y:[])}}return"PUBLIC"===z.type?O[ae]:null},removeApp:function D(z){delete N[z]},useAsService:function B(z,ne){return"serverAuth"===ne?null:ne},modularAPIs:v}};function I(z){if(!(0,e.r3)(N,z=z||v._DEFAULT_ENTRY_NAME))throw C.create("no-app",{appName:z});return N[z]}return O.default=O,Object.defineProperty(O,"apps",{get:function L(){return Object.keys(N).map(z=>N[z])}}),I.App=A,O}(_);return A.INTERNAL=Object.assign(Object.assign({},A.INTERNAL),{createFirebaseNamespace:i,extendNamespace:function N(O){(0,e.ZB)(A,O)},createSubscribe:e.ne,ErrorFactory:e.LL,deepExtend:e.ZB}),A}(),d=new b.Yd("@firebase/app-compat");if((0,e.jU)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const A=self.firebase.SDK_VERSION;A&&A.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const x=c;!function S(A){(0,v.registerVersion)("@firebase/app-compat","0.2.13",A)}()},534:(Wn,et,p)=>{"use strict";p.r(et),p.d(et,{FirebaseError:()=>b.ZR,SDK_VERSION:()=>Tt,_DEFAULT_ENTRY_NAME:()=>_e,_addComponent:()=>ct,_addOrOverwriteComponent:()=>Xe,_apps:()=>Ee,_clearComponents:()=>yt,_components:()=>Ge,_getProvider:()=>gt,_registerComponent:()=>tt,_removeServiceInstance:()=>Qe,deleteApp:()=>un,getApp:()=>Jt,getApps:()=>qt,initializeApp:()=>Kt,onLog:()=>vt,registerVersion:()=>wt,setLogLevel:()=>it});var e=p(5861),t=p(4537),v=p(7879),b=p(9058);const _=(pn,_n)=>_n.some(Mt=>pn instanceof Mt);let P,C;const c=new WeakMap,d=new WeakMap,f=new WeakMap,g=new WeakMap,S=new WeakMap;let N={get(pn,_n,Mt){if(pn instanceof IDBTransaction){if("done"===_n)return d.get(pn);if("objectStoreNames"===_n)return pn.objectStoreNames||f.get(pn);if("store"===_n)return Mt.objectStoreNames[1]?void 0:Mt.objectStore(Mt.objectStoreNames[0])}return T(pn[_n])},set:(pn,_n,Mt)=>(pn[_n]=Mt,!0),has:(pn,_n)=>pn instanceof IDBTransaction&&("done"===_n||"store"===_n)||_n in pn};function I(pn){return"function"==typeof pn?function D(pn){return pn!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function i(){return C||(C=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(pn)?function(..._n){return pn.apply(L(this),_n),T(c.get(this))}:function(..._n){return T(pn.apply(L(this),_n))}:function(_n,...Mt){const ht=pn.call(L(this),_n,...Mt);return f.set(ht,_n.sort?_n.sort():[_n]),T(ht)}}(pn):(pn instanceof IDBTransaction&&function A(pn){if(d.has(pn))return;const _n=new Promise((Mt,ht)=>{const Tn=()=>{pn.removeEventListener("complete",qe),pn.removeEventListener("error",Ct),pn.removeEventListener("abort",Ct)},qe=()=>{Mt(),Tn()},Ct=()=>{ht(pn.error||new DOMException("AbortError","AbortError")),Tn()};pn.addEventListener("complete",qe),pn.addEventListener("error",Ct),pn.addEventListener("abort",Ct)});d.set(pn,_n)}(pn),_(pn,function m(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(pn,N):pn)}function T(pn){if(pn instanceof IDBRequest)return function x(pn){const _n=new Promise((Mt,ht)=>{const Tn=()=>{pn.removeEventListener("success",qe),pn.removeEventListener("error",Ct)},qe=()=>{Mt(T(pn.result)),Tn()},Ct=()=>{ht(pn.error),Tn()};pn.addEventListener("success",qe),pn.addEventListener("error",Ct)});return _n.then(Mt=>{Mt instanceof IDBCursor&&c.set(Mt,pn)}).catch(()=>{}),S.set(_n,pn),_n}(pn);if(g.has(pn))return g.get(pn);const _n=I(pn);return _n!==pn&&(g.set(pn,_n),S.set(_n,pn)),_n}const L=pn=>S.get(pn),z=["get","getKey","getAll","getAllKeys","count"],ne=["put","add","delete","clear"],ae=new Map;function Fe(pn,_n){if(!(pn instanceof IDBDatabase)||_n in pn||"string"!=typeof _n)return;if(ae.get(_n))return ae.get(_n);const Mt=_n.replace(/FromIndex$/,""),ht=_n!==Mt,Tn=ne.includes(Mt);if(!(Mt in(ht?IDBIndex:IDBObjectStore).prototype)||!Tn&&!z.includes(Mt))return;const qe=function(){var Ct=(0,e.Z)(function*(Qt,...Rt){const xn=this.transaction(Qt,Tn?"readwrite":"readonly");let kt=xn.store;return ht&&(kt=kt.index(Rt.shift())),(yield Promise.all([kt[Mt](...Rt),Tn&&xn.done]))[0]});return function(Rt){return Ct.apply(this,arguments)}}();return ae.set(_n,qe),qe}!function O(pn){N=pn(N)}(pn=>({...pn,get:(_n,Mt,ht)=>Fe(_n,Mt)||pn.get(_n,Mt,ht),has:(_n,Mt)=>!!Fe(_n,Mt)||pn.has(_n,Mt)}));class Y{constructor(_n){this.container=_n}getPlatformInfoString(){return this.container.getProviders().map(Mt=>{if(function le(pn){const _n=pn.getComponent();return"VERSION"===_n?.type}(Mt)){const ht=Mt.getImmediate();return`${ht.library}/${ht.version}`}return null}).filter(Mt=>Mt).join(" ")}}const G="@firebase/app",ce=new v.Yd("@firebase/app"),_e="[DEFAULT]",xe={[G]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ee=new Map,Ge=new Map;function ct(pn,_n){try{pn.container.addComponent(_n)}catch(Mt){ce.debug(`Component ${_n.name} failed to register with FirebaseApp ${pn.name}`,Mt)}}function Xe(pn,_n){pn.container.addOrOverwriteComponent(_n)}function tt(pn){const _n=pn.name;if(Ge.has(_n))return ce.debug(`There were multiple attempts to register component ${_n}.`),!1;Ge.set(_n,pn);for(const Mt of Ee.values())ct(Mt,pn);return!0}function gt(pn,_n){const Mt=pn.container.getProvider("heartbeat").getImmediate({optional:!0});return Mt&&Mt.triggerHeartbeat(),pn.container.getProvider(_n)}function Qe(pn,_n,Mt=_e){gt(pn,_n).clearInstance(Mt)}function yt(){Ge.clear()}const fe=new b.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ze{constructor(_n,Mt,ht){this._isDeleted=!1,this._options=Object.assign({},_n),this._config=Object.assign({},Mt),this._name=Mt.name,this._automaticDataCollectionEnabled=Mt.automaticDataCollectionEnabled,this._container=ht,this.container.addComponent(new t.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_n){this.checkDestroyed(),this._automaticDataCollectionEnabled=_n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_n){this._isDeleted=_n}checkDestroyed(){if(this.isDeleted)throw fe.create("app-deleted",{appName:this._name})}}const Tt="9.23.0";function Kt(pn,_n={}){let Mt=pn;"object"!=typeof _n&&(_n={name:_n});const ht=Object.assign({name:_e,automaticDataCollectionEnabled:!1},_n),Tn=ht.name;if("string"!=typeof Tn||!Tn)throw fe.create("bad-app-name",{appName:String(Tn)});if(Mt||(Mt=(0,b.aH)()),!Mt)throw fe.create("no-options");const qe=Ee.get(Tn);if(qe){if((0,b.vZ)(Mt,qe.options)&&(0,b.vZ)(ht,qe.config))return qe;throw fe.create("duplicate-app",{appName:Tn})}const Ct=new t.H0(Tn);for(const Rt of Ge.values())Ct.addComponent(Rt);const Qt=new ze(Mt,ht,Ct);return Ee.set(Tn,Qt),Qt}function Jt(pn=_e){const _n=Ee.get(pn);if(!_n&&pn===_e&&(0,b.aH)())return Kt();if(!_n)throw fe.create("no-app",{appName:pn});return _n}function qt(){return Array.from(Ee.values())}function un(pn){return fn.apply(this,arguments)}function fn(){return(fn=(0,e.Z)(function*(pn){const _n=pn.name;Ee.has(_n)&&(Ee.delete(_n),yield Promise.all(pn.container.getProviders().map(Mt=>Mt.delete())),pn.isDeleted=!0)})).apply(this,arguments)}function wt(pn,_n,Mt){var ht;let Tn=null!==(ht=xe[pn])&&void 0!==ht?ht:pn;Mt&&(Tn+=`-${Mt}`);const qe=Tn.match(/\s|\//),Ct=_n.match(/\s|\//);if(qe||Ct){const Qt=[`Unable to register library "${Tn}" with version "${_n}":`];return qe&&Qt.push(`library name "${Tn}" contains illegal characters (whitespace or "/")`),qe&&Ct&&Qt.push("and"),Ct&&Qt.push(`version name "${_n}" contains illegal characters (whitespace or "/")`),void ce.warn(Qt.join(" "))}tt(new t.wA(`${Tn}-version`,()=>({library:Tn,version:_n}),"VERSION"))}function vt(pn,_n){if(null!==pn&&"function"!=typeof pn)throw fe.create("invalid-log-argument");(0,v.Am)(pn,_n)}function it(pn){(0,v.Ub)(pn)}const He="firebase-heartbeat-database",Ye=1,st="firebase-heartbeat-store";let at=null;function St(){return at||(at=function y(pn,_n,{blocked:Mt,upgrade:ht,blocking:Tn,terminated:qe}={}){const Ct=indexedDB.open(pn,_n),Qt=T(Ct);return ht&&Ct.addEventListener("upgradeneeded",Rt=>{ht(T(Ct.result),Rt.oldVersion,Rt.newVersion,T(Ct.transaction),Rt)}),Mt&&Ct.addEventListener("blocked",Rt=>Mt(Rt.oldVersion,Rt.newVersion,Rt)),Qt.then(Rt=>{qe&&Rt.addEventListener("close",()=>qe()),Tn&&Rt.addEventListener("versionchange",xn=>Tn(xn.oldVersion,xn.newVersion,xn))}).catch(()=>{}),Qt}(He,Ye,{upgrade:(pn,_n)=>{0===_n&&pn.createObjectStore(st)}}).catch(pn=>{throw fe.create("idb-open",{originalErrorMessage:pn.message})})),at}function At(){return(At=(0,e.Z)(function*(pn){try{return yield(yield St()).transaction(st).objectStore(st).get(tn(pn))}catch(_n){if(_n instanceof b.ZR)ce.warn(_n.message);else{const Mt=fe.create("idb-get",{originalErrorMessage:_n?.message});ce.warn(Mt.message)}}})).apply(this,arguments)}function on(pn,_n){return En.apply(this,arguments)}function En(){return(En=(0,e.Z)(function*(pn,_n){try{const ht=(yield St()).transaction(st,"readwrite");yield ht.objectStore(st).put(_n,tn(pn)),yield ht.done}catch(Mt){if(Mt instanceof b.ZR)ce.warn(Mt.message);else{const ht=fe.create("idb-set",{originalErrorMessage:Mt?.message});ce.warn(ht.message)}}})).apply(this,arguments)}function tn(pn){return`${pn.name}!${pn.options.appId}`}class Nn{constructor(_n){this.container=_n,this._heartbeatsCache=null;const Mt=this.container.getProvider("app").getImmediate();this._storage=new vn(Mt),this._heartbeatsCachePromise=this._storage.read().then(ht=>(this._heartbeatsCache=ht,ht))}triggerHeartbeat(){var _n=this;return(0,e.Z)(function*(){const ht=_n.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Tn=$n();if(null===_n._heartbeatsCache&&(_n._heartbeatsCache=yield _n._heartbeatsCachePromise),_n._heartbeatsCache.lastSentHeartbeatDate!==Tn&&!_n._heartbeatsCache.heartbeats.some(qe=>qe.date===Tn))return _n._heartbeatsCache.heartbeats.push({date:Tn,agent:ht}),_n._heartbeatsCache.heartbeats=_n._heartbeatsCache.heartbeats.filter(qe=>{const Ct=new Date(qe.date).valueOf();return Date.now()-Ct<=2592e6}),_n._storage.overwrite(_n._heartbeatsCache)})()}getHeartbeatsHeader(){var _n=this;return(0,e.Z)(function*(){if(null===_n._heartbeatsCache&&(yield _n._heartbeatsCachePromise),null===_n._heartbeatsCache||0===_n._heartbeatsCache.heartbeats.length)return"";const Mt=$n(),{heartbeatsToSend:ht,unsentEntries:Tn}=function ni(pn,_n=1024){const Mt=[];let ht=pn.slice();for(const Tn of pn){const qe=Mt.find(Ct=>Ct.agent===Tn.agent);if(qe){if(qe.dates.push(Tn.date),gn(Mt)>_n){qe.dates.pop();break}}else if(Mt.push({agent:Tn.agent,dates:[Tn.date]}),gn(Mt)>_n){Mt.pop();break}ht=ht.slice(1)}return{heartbeatsToSend:Mt,unsentEntries:ht}}(_n._heartbeatsCache.heartbeats),qe=(0,b.L)(JSON.stringify({version:2,heartbeats:ht}));return _n._heartbeatsCache.lastSentHeartbeatDate=Mt,Tn.length>0?(_n._heartbeatsCache.heartbeats=Tn,yield _n._storage.overwrite(_n._heartbeatsCache)):(_n._heartbeatsCache.heartbeats=[],_n._storage.overwrite(_n._heartbeatsCache)),qe})()}}function $n(){return(new Date).toISOString().substring(0,10)}class vn{constructor(_n){this.app=_n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,e.Z)(function*(){return!!(0,b.hl)()&&(0,b.eu)().then(()=>!0).catch(()=>!1)})()}read(){var _n=this;return(0,e.Z)(function*(){return(yield _n._canUseIndexedDBPromise)&&(yield function bt(pn){return At.apply(this,arguments)}(_n.app))||{heartbeats:[]}})()}overwrite(_n){var Mt=this;return(0,e.Z)(function*(){var ht;if(yield Mt._canUseIndexedDBPromise){const qe=yield Mt.read();return on(Mt.app,{lastSentHeartbeatDate:null!==(ht=_n.lastSentHeartbeatDate)&&void 0!==ht?ht:qe.lastSentHeartbeatDate,heartbeats:_n.heartbeats})}})()}add(_n){var Mt=this;return(0,e.Z)(function*(){var ht;if(yield Mt._canUseIndexedDBPromise){const qe=yield Mt.read();return on(Mt.app,{lastSentHeartbeatDate:null!==(ht=_n.lastSentHeartbeatDate)&&void 0!==ht?ht:qe.lastSentHeartbeatDate,heartbeats:[...qe.heartbeats,..._n.heartbeats]})}})()}}function gn(pn){return(0,b.L)(JSON.stringify({version:2,heartbeats:pn})).length}!function yn(pn){tt(new t.wA("platform-logger",_n=>new Y(_n),"PRIVATE")),tt(new t.wA("heartbeat",_n=>new Nn(_n),"PRIVATE")),wt(G,"0.9.13",pn),wt(G,"0.9.13","esm2017"),wt("fire-js","")}("")},4537:(Wn,et,p)=>{"use strict";p.d(et,{H0:()=>m,wA:()=>v});var e=p(5861),t=p(9058);class v{constructor(c,d,f){this.name=c,this.instanceFactory=d,this.type=f,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(c){return this.instantiationMode=c,this}setMultipleInstances(c){return this.multipleInstances=c,this}setServiceProps(c){return this.serviceProps=c,this}setInstanceCreatedCallback(c){return this.onInstanceCreated=c,this}}const b="[DEFAULT]";class _{constructor(c,d){this.name=c,this.container=d,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(c){const d=this.normalizeInstanceIdentifier(c);if(!this.instancesDeferred.has(d)){const f=new t.BH;if(this.instancesDeferred.set(d,f),this.isInitialized(d)||this.shouldAutoInitialize())try{const g=this.getOrInitializeService({instanceIdentifier:d});g&&f.resolve(g)}catch{}}return this.instancesDeferred.get(d).promise}getImmediate(c){var d;const f=this.normalizeInstanceIdentifier(c?.identifier),g=null!==(d=c?.optional)&&void 0!==d&&d;if(!this.isInitialized(f)&&!this.shouldAutoInitialize()){if(g)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:f})}catch(S){if(g)return null;throw S}}getComponent(){return this.component}setComponent(c){if(c.name!==this.name)throw Error(`Mismatching Component ${c.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=c,this.shouldAutoInitialize()){if(function C(i){return"EAGER"===i.instantiationMode}(c))try{this.getOrInitializeService({instanceIdentifier:b})}catch{}for(const[d,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(d);try{const S=this.getOrInitializeService({instanceIdentifier:g});f.resolve(S)}catch{}}}}clearInstance(c=b){this.instancesDeferred.delete(c),this.instancesOptions.delete(c),this.instances.delete(c)}delete(){var c=this;return(0,e.Z)(function*(){const d=Array.from(c.instances.values());yield Promise.all([...d.filter(f=>"INTERNAL"in f).map(f=>f.INTERNAL.delete()),...d.filter(f=>"_delete"in f).map(f=>f._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(c=b){return this.instances.has(c)}getOptions(c=b){return this.instancesOptions.get(c)||{}}initialize(c={}){const{options:d={}}=c,f=this.normalizeInstanceIdentifier(c.instanceIdentifier);if(this.isInitialized(f))throw Error(`${this.name}(${f}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const g=this.getOrInitializeService({instanceIdentifier:f,options:d});for(const[S,x]of this.instancesDeferred.entries())f===this.normalizeInstanceIdentifier(S)&&x.resolve(g);return g}onInit(c,d){var f;const g=this.normalizeInstanceIdentifier(d),S=null!==(f=this.onInitCallbacks.get(g))&&void 0!==f?f:new Set;S.add(c),this.onInitCallbacks.set(g,S);const x=this.instances.get(g);return x&&c(x,g),()=>{S.delete(c)}}invokeOnInitCallbacks(c,d){const f=this.onInitCallbacks.get(d);if(f)for(const g of f)try{g(c,d)}catch{}}getOrInitializeService({instanceIdentifier:c,options:d={}}){let f=this.instances.get(c);if(!f&&this.component&&(f=this.component.instanceFactory(this.container,{instanceIdentifier:(i=c,i===b?void 0:i),options:d}),this.instances.set(c,f),this.instancesOptions.set(c,d),this.invokeOnInitCallbacks(f,c),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,c,f)}catch{}var i;return f||null}normalizeInstanceIdentifier(c=b){return this.component?this.component.multipleInstances?c:b:c}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class m{constructor(c){this.name=c,this.providers=new Map}addComponent(c){const d=this.getProvider(c.name);if(d.isComponentSet())throw new Error(`Component ${c.name} has already been registered with ${this.name}`);d.setComponent(c)}addOrOverwriteComponent(c){this.getProvider(c.name).isComponentSet()&&this.providers.delete(c.name),this.addComponent(c)}getProvider(c){if(this.providers.has(c))return this.providers.get(c);const d=new _(c,this);return this.providers.set(c,d),d}getProviders(){return Array.from(this.providers.values())}}},7879:(Wn,et,p)=>{"use strict";p.d(et,{Am:()=>i,Ub:()=>m,Yd:()=>C,in:()=>t});const e=[];var t=function(c){return c[c.DEBUG=0]="DEBUG",c[c.VERBOSE=1]="VERBOSE",c[c.INFO=2]="INFO",c[c.WARN=3]="WARN",c[c.ERROR=4]="ERROR",c[c.SILENT=5]="SILENT",c}(t||{});const v={debug:t.DEBUG,verbose:t.VERBOSE,info:t.INFO,warn:t.WARN,error:t.ERROR,silent:t.SILENT},b=t.INFO,_={[t.DEBUG]:"log",[t.VERBOSE]:"log",[t.INFO]:"info",[t.WARN]:"warn",[t.ERROR]:"error"},P=(c,d,...f)=>{if(d<c.logLevel)return;const g=(new Date).toISOString(),S=_[d];if(!S)throw new Error(`Attempted to log a message with an invalid logType (value: ${d})`);console[S](`[${g}]  ${c.name}:`,...f)};class C{constructor(d){this.name=d,this._logLevel=b,this._logHandler=P,this._userLogHandler=null,e.push(this)}get logLevel(){return this._logLevel}set logLevel(d){if(!(d in t))throw new TypeError(`Invalid value "${d}" assigned to \`logLevel\``);this._logLevel=d}setLogLevel(d){this._logLevel="string"==typeof d?v[d]:d}get logHandler(){return this._logHandler}set logHandler(d){if("function"!=typeof d)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=d}get userLogHandler(){return this._userLogHandler}set userLogHandler(d){this._userLogHandler=d}debug(...d){this._userLogHandler&&this._userLogHandler(this,t.DEBUG,...d),this._logHandler(this,t.DEBUG,...d)}log(...d){this._userLogHandler&&this._userLogHandler(this,t.VERBOSE,...d),this._logHandler(this,t.VERBOSE,...d)}info(...d){this._userLogHandler&&this._userLogHandler(this,t.INFO,...d),this._logHandler(this,t.INFO,...d)}warn(...d){this._userLogHandler&&this._userLogHandler(this,t.WARN,...d),this._logHandler(this,t.WARN,...d)}error(...d){this._userLogHandler&&this._userLogHandler(this,t.ERROR,...d),this._logHandler(this,t.ERROR,...d)}}function m(c){e.forEach(d=>{d.setLogLevel(c)})}function i(c,d){for(const f of e){let g=null;d&&d.level&&(g=v[d.level]),f.userLogHandler=null===c?null:(S,x,...A)=>{const N=A.map(O=>{if(null==O)return null;if("string"==typeof O)return O;if("number"==typeof O||"boolean"==typeof O)return O.toString();if(O instanceof Error)return O.message;try{return JSON.stringify(O)}catch{return null}}).filter(O=>O).join(" ");x>=(g??S.logLevel)&&c({level:t[x].toLowerCase(),message:N,args:A,type:S.name})}}}},8726:(Wn,et,p)=>{"use strict";p.d(et,{Kz:()=>Hn,FF:()=>r});var e=p(5879),t=p(5592),v=p(6232),b=p(2096),_=p(8645),P=p(2438),C=p(4825),m=p(4829);const{isArray:i}=Array;function c(U){return 1===U.length&&i(U[0])?U[0]:U}var d=p(8251);p(3019);var x=p(9940);function A(...U){const Be=(0,x.jO)(U),w=c(U);return w.length?new t.y(j=>{let ve=w.map(()=>[]),Et=w.map(()=>!1);j.add(()=>{ve=Et=null});for(let zt=0;!j.closed&&zt<w.length;zt++)(0,m.Xf)(w[zt]).subscribe((0,d.x)(j,Rn=>{if(ve[zt].push(Rn),ve.every(Un=>Un.length)){const Un=ve.map(ei=>ei.shift());j.next(Be?Be(...Un):Un),ve.some((ei,ii)=>!ei.length&&Et[ii])&&j.complete()}},()=>{Et[zt]=!0,!ve[zt].length&&j.complete()}));return()=>{ve=Et=null}}):v.E}var N=p(5211),D=p(9773),I=p(2181),T=p(8180),L=p(9397),y=p(7398),B=p(9360),z=p(2737),ne=p(2420);function ae(...U){const Be=(0,x.jO)(U);return(0,B.e)((w,j)=>{const ve=U.length,Et=new Array(ve);let zt=U.map(()=>!1),Rn=!1;for(let Un=0;Un<ve;Un++)(0,m.Xf)(U[Un]).subscribe((0,d.x)(j,ei=>{Et[Un]=ei,!Rn&&!zt[Un]&&(zt[Un]=!0,(Rn=zt.every(z.y))&&(zt=null))},ne.Z));w.subscribe((0,d.x)(j,Un=>{if(Rn){const ei=[Un,...Et];j.next(Be?Be(...ei):ei)}}))})}p(5177);var Y=p(4664),ce=(p(7921),p(3997),p(836),p(6814));p(95),Math,Math,Math;const Ui=["*"],Da=["dialog"];function Yt(U){return"string"==typeof U}function Sn(U){return null!=U}function fr(U){return(U||document.body).getBoundingClientRect()}const vr={animation:!0,transitionTimerDelayMs:5},is=()=>{},{transitionTimerDelayMs:Gi}=vr,Qr=new Map,no=(U,Be,w,j)=>{let ve=j.context||{};const Et=Qr.get(Be);if(Et)switch(j.runningTransition){case"continue":return v.E;case"stop":U.run(()=>Et.transition$.complete()),ve=Object.assign(Et.context,ve),Qr.delete(Be)}const zt=w(Be,j.animation,ve)||is;if(!j.animation||"none"===window.getComputedStyle(Be).transitionProperty)return U.run(()=>zt()),(0,b.of)(void 0).pipe(function tr(U){return Be=>new t.y(w=>Be.subscribe({next:zt=>U.run(()=>w.next(zt)),error:zt=>U.run(()=>w.error(zt)),complete:()=>U.run(()=>w.complete())}))}(U));const Rn=new _.x,Un=new _.x,ei=Rn.pipe(function O(...U){return Be=>(0,N.z)(Be,(0,b.of)(...U))}(!0));Qr.set(Be,{transition$:Rn,complete:()=>{Un.next(),Un.complete()},context:ve});const ii=function Lr(U){const{transitionDelay:Be,transitionDuration:w}=window.getComputedStyle(U);return 1e3*(parseFloat(Be)+parseFloat(w))}(Be);return U.runOutsideAngular(()=>{const Ai=(0,P.R)(Be,"transitionend").pipe((0,D.R)(ei),(0,I.h)(({target:Li})=>Li===Be));(function f(...U){return 1===(U=c(U)).length?(0,m.Xf)(U[0]):new t.y(function g(U){return Be=>{let w=[];for(let j=0;w&&!Be.closed&&j<U.length;j++)w.push((0,m.Xf)(U[j]).subscribe((0,d.x)(Be,ve=>{if(w){for(let Et=0;Et<w.length;Et++)Et!==j&&w[Et].unsubscribe();w=null}Be.next(ve)})))}}(U))})((0,C.H)(ii+Gi).pipe((0,D.R)(ei)),Ai,Un).pipe((0,D.R)(ei)).subscribe(()=>{Qr.delete(Be),U.run(()=>{zt(),Rn.next(),Rn.complete()})})}),Rn.asObservable()};let ba=(()=>{class U{constructor(){this.animation=vr.animation}static#e=this.\u0275fac=function(j){return new(j||U)};static#t=this.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})();var wr=function(U){return U[U.Tab=9]="Tab",U[U.Enter=13]="Enter",U[U.Escape=27]="Escape",U[U.Space=32]="Space",U[U.PageUp=33]="PageUp",U[U.PageDown=34]="PageDown",U[U.End=35]="End",U[U.Home=36]="Home",U[U.ArrowLeft=37]="ArrowLeft",U[U.ArrowUp=38]="ArrowUp",U[U.ArrowRight=39]="ArrowRight",U[U.ArrowDown=40]="ArrowDown",U}(wr||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Na=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function rd(U){const Be=Array.from(U.querySelectorAll(Na)).filter(w=>-1!==w.tabIndex);return[Be[0],Be[Be.length-1]]}new Date(1882,10,12),new Date(2174,10,25);class Je{constructor(Be,w,j){this.nodes=Be,this.viewRef=w,this.componentRef=j}}let an=(()=>{class U{constructor(w,j){this._el=w,this._zone=j}ngOnInit(){this._zone.onStable.asObservable().pipe((0,T.q)(1)).subscribe(()=>{no(this._zone,this._el.nativeElement,(w,j)=>{j&&fr(w),w.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return no(this._zone,this._el.nativeElement,({classList:w})=>w.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(j){return new(j||U)(e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:U,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(j,ve){2&j&&(e.Tol("modal-backdrop"+(ve.backdropClass?" "+ve.backdropClass:"")),e.ekj("show",!ve.animation)("fade",ve.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(j,ve){},encapsulation:2})}return U})();class Hn{update(Be){}close(Be){}dismiss(Be){}}const ri=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Si=["animation","backdropClass"];class wi{_applyWindowOptions(Be,w){ri.forEach(j=>{Sn(w[j])&&(Be[j]=w[j])})}_applyBackdropOptions(Be,w){Si.forEach(j=>{Sn(w[j])&&(Be[j]=w[j])})}update(Be){this._applyWindowOptions(this._windowCmptRef.instance,Be),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,Be)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,D.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,D.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(Be,w,j,ve){this._windowCmptRef=Be,this._contentRef=w,this._backdropCmptRef=j,this._beforeDismiss=ve,this._closed=new _.x,this._dismissed=new _.x,this._hidden=new _.x,Be.instance.dismissEvent.subscribe(Et=>{this.dismiss(Et)}),this.result=new Promise((Et,zt)=>{this._resolve=Et,this._reject=zt}),this.result.then(null,()=>{})}close(Be){this._windowCmptRef&&(this._closed.next(Be),this._resolve(Be),this._removeModalElements())}_dismiss(Be){this._dismissed.next(Be),this._reject(Be),this._removeModalElements()}dismiss(Be){if(this._windowCmptRef)if(this._beforeDismiss){const w=this._beforeDismiss();!function Zn(U){return U&&U.then}(w)?!1!==w&&this._dismiss(Be):w.then(j=>{!1!==j&&this._dismiss(Be)},()=>{})}else this._dismiss(Be)}_removeModalElements(){const Be=this._windowCmptRef.instance.hide(),w=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,b.of)(void 0);Be.subscribe(()=>{const{nativeElement:j}=this._windowCmptRef.location;j.parentNode.removeChild(j),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),w.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:j}=this._backdropCmptRef.location;j.parentNode.removeChild(j),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),A(Be,w).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Wi=function(U){return U[U.BACKDROP_CLICK=0]="BACKDROP_CLICK",U[U.ESC=1]="ESC",U}(Wi||{});let Dr=(()=>{class U{constructor(w,j,ve){this._document=w,this._elRef=j,this._zone=ve,this._closed$=new _.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.vpe,this.shown=new _.x,this.hidden=new _.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Yt(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(w){this.dismissEvent.emit(w)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,T.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:w}=this._elRef,j={animation:this.animation,runningTransition:"stop"},zt=A(no(this._zone,w,()=>w.classList.remove("show"),j),no(this._zone,this._dialogEl.nativeElement,()=>{},j));return zt.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),zt}_show(){const w={animation:this.animation,runningTransition:"continue"};A(no(this._zone,this._elRef.nativeElement,(Et,zt)=>{zt&&fr(Et),Et.classList.add("show")},w),no(this._zone,this._dialogEl.nativeElement,()=>{},w)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:w}=this._elRef;this._zone.runOutsideAngular(()=>{(0,P.R)(w,"keydown").pipe((0,D.R)(this._closed$),(0,I.h)(ve=>ve.which===wr.Escape)).subscribe(ve=>{this.keyboard?requestAnimationFrame(()=>{ve.defaultPrevented||this._zone.run(()=>this.dismiss(Wi.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let j=!1;(0,P.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,D.R)(this._closed$),(0,L.b)(()=>j=!1),(0,Y.w)(()=>(0,P.R)(w,"mouseup").pipe((0,D.R)(this._closed$),(0,T.q)(1))),(0,I.h)(({target:ve})=>w===ve)).subscribe(()=>{j=!0}),(0,P.R)(w,"click").pipe((0,D.R)(this._closed$)).subscribe(({target:ve})=>{w===ve&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!j&&this._zone.run(()=>this.dismiss(Wi.BACKDROP_CLICK))),j=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:w}=this._elRef;if(!w.contains(document.activeElement)){const j=w.querySelector("[ngbAutofocus]"),ve=rd(w)[0];(j||ve||w).focus()}}_restoreFocus(){const w=this._document.body,j=this._elWithFocus;let ve;ve=j&&j.focus&&w.contains(j)?j:w,this._zone.runOutsideAngular(()=>{setTimeout(()=>ve.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&no(this._zone,this._elRef.nativeElement,({classList:w})=>(w.add("modal-static"),()=>w.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(j){return new(j||U)(e.Y36(ce.K0),e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:U,selectors:[["ngb-modal-window"]],viewQuery:function(j,ve){if(1&j&&e.Gf(Da,7),2&j){let Et;e.iGM(Et=e.CRH())&&(ve._dialogEl=Et.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(j,ve){2&j&&(e.uIk("aria-modal",!0)("aria-labelledby",ve.ariaLabelledBy)("aria-describedby",ve.ariaDescribedBy),e.Tol("modal d-block"+(ve.windowClass?" "+ve.windowClass:"")),e.ekj("fade",ve.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[e.jDz],ngContentSelectors:Ui,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(j,ve){1&j&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2),e.Hsn(3),e.qZA()()),2&j&&e.Tol("modal-dialog"+(ve.size?" modal-"+ve.size:"")+(ve.centered?" modal-dialog-centered":"")+ve.fullscreenClass+(ve.scrollable?" modal-dialog-scrollable":"")+(ve.modalDialogClass?" "+ve.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return U})(),Ls=(()=>{class U{constructor(w){this._document=w}hide(){const w=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),j=this._document.body,ve=j.style,{overflow:Et,paddingRight:zt}=ve;if(w>0){const Rn=parseFloat(window.getComputedStyle(j).paddingRight);ve.paddingRight=`${Rn+w}px`}return ve.overflow="hidden",()=>{w>0&&(ve.paddingRight=zt),ve.overflow=Et}}static#e=this.\u0275fac=function(j){return new(j||U)(e.LFG(ce.K0))};static#t=this.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),sc=(()=>{class U{constructor(w,j,ve,Et,zt,Rn,Un){this._applicationRef=w,this._injector=j,this._environmentInjector=ve,this._document=Et,this._scrollBar=zt,this._rendererFactory=Rn,this._ngZone=Un,this._activeWindowCmptHasChanged=new _.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new e.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const ei=this._windowCmpts[this._windowCmpts.length-1];((U,Be,w,j=!1)=>{U.runOutsideAngular(()=>{const ve=(0,P.R)(Be,"focusin").pipe((0,D.R)(w),(0,y.U)(Et=>Et.target));(0,P.R)(Be,"keydown").pipe((0,D.R)(w),(0,I.h)(Et=>Et.which===wr.Tab),ae(ve)).subscribe(([Et,zt])=>{const[Rn,Un]=rd(Be);(zt===Rn||zt===Be)&&Et.shiftKey&&(Un.focus(),Et.preventDefault()),zt===Un&&!Et.shiftKey&&(Rn.focus(),Et.preventDefault())}),j&&(0,P.R)(Be,"click").pipe((0,D.R)(w),ae(ve),(0,y.U)(Et=>Et[1])).subscribe(Et=>Et.focus())})})(this._ngZone,ei.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(ei.location.nativeElement)}})}_restoreScrollBar(){const w=this._scrollBarRestoreFn;w&&(this._scrollBarRestoreFn=null,w())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(w,j,ve){const Et=ve.container instanceof HTMLElement?ve.container:Sn(ve.container)?this._document.querySelector(ve.container):this._document.body,zt=this._rendererFactory.createRenderer(null,null);if(!Et)throw new Error(`The specified modal container "${ve.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Rn=new Hn,Un=(w=ve.injector||w).get(e.lqb,null)||this._environmentInjector,ei=this._getContentRef(w,Un,j,Rn,ve);let ii=!1!==ve.backdrop?this._attachBackdrop(Et):void 0,Ai=this._attachWindowComponent(Et,ei.nodes),Ei=new wi(Ai,ei,ii,ve.beforeDismiss);return this._registerModalRef(Ei),this._registerWindowCmpt(Ai),Ei.hidden.pipe((0,T.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(zt.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Rn.close=Li=>{Ei.close(Li)},Rn.dismiss=Li=>{Ei.dismiss(Li)},Rn.update=Li=>{Ei.update(Li)},Ei.update(ve),1===this._modalRefs.length&&zt.addClass(this._document.body,"modal-open"),ii&&ii.instance&&ii.changeDetectorRef.detectChanges(),Ai.changeDetectorRef.detectChanges(),Ei}get activeInstances(){return this._activeInstances}dismissAll(w){this._modalRefs.forEach(j=>j.dismiss(w))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(w){let j=(0,e.LMc)(an,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(j.hostView),w.appendChild(j.location.nativeElement),j}_attachWindowComponent(w,j){let ve=(0,e.LMc)(Dr,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:j});return this._applicationRef.attachView(ve.hostView),w.appendChild(ve.location.nativeElement),ve}_getContentRef(w,j,ve,Et,zt){return ve?ve instanceof e.Rgc?this._createFromTemplateRef(ve,Et):Yt(ve)?this._createFromString(ve):this._createFromComponent(w,j,ve,Et,zt):new Je([])}_createFromTemplateRef(w,j){const Et=w.createEmbeddedView({$implicit:j,close(zt){j.close(zt)},dismiss(zt){j.dismiss(zt)}});return this._applicationRef.attachView(Et),new Je([Et.rootNodes],Et)}_createFromString(w){const j=this._document.createTextNode(`${w}`);return new Je([[j]])}_createFromComponent(w,j,ve,Et,zt){const Rn=e.zs3.create({providers:[{provide:Hn,useValue:Et}],parent:w}),Un=(0,e.LMc)(ve,{environmentInjector:j,elementInjector:Rn}),ei=Un.location.nativeElement;return zt.scrollable&&ei.classList.add("component-host-scrollable"),this._applicationRef.attachView(Un.hostView),new Je([[ei]],Un.hostView,Un)}_setAriaHidden(w){const j=w.parentElement;j&&w!==this._document.body&&(Array.from(j.children).forEach(ve=>{ve!==w&&"SCRIPT"!==ve.nodeName&&(this._ariaHiddenValues.set(ve,ve.getAttribute("aria-hidden")),ve.setAttribute("aria-hidden","true"))}),this._setAriaHidden(j))}_revertAriaHidden(){this._ariaHiddenValues.forEach((w,j)=>{w?j.setAttribute("aria-hidden",w):j.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(w){const j=()=>{const ve=this._modalRefs.indexOf(w);ve>-1&&(this._modalRefs.splice(ve,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(w),this._activeInstances.emit(this._modalRefs),w.result.then(j,j)}_registerWindowCmpt(w){this._windowCmpts.push(w),this._activeWindowCmptHasChanged.next(),w.onDestroy(()=>{const j=this._windowCmpts.indexOf(w);j>-1&&(this._windowCmpts.splice(j,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(j){return new(j||U)(e.LFG(e.z2F),e.LFG(e.zs3),e.LFG(e.lqb),e.LFG(ce.K0),e.LFG(Ls),e.LFG(e.FYo),e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),V=(()=>{class U{constructor(w){this._ngbConfig=w,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(w){this._animation=w}static#e=this.\u0275fac=function(j){return new(j||U)(e.LFG(ba))};static#t=this.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),r=(()=>{class U{constructor(w,j,ve){this._injector=w,this._modalStack=j,this._config=ve}open(w,j={}){const ve={...this._config,animation:this._config.animation,...j};return this._modalStack.open(this._injector,w,ve)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(w){this._modalStack.dismissAll(w)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(j){return new(j||U)(e.LFG(e.zs3),e.LFG(sc),e.LFG(V))};static#t=this.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})();new e.OlP("live announcer delay",{providedIn:"root",factory:function bu(){return 100}})},3182:(Wn,et,p)=>{"use strict";p.d(et,{C6:()=>e.getApps,Mq:()=>e.getApp});var e=p(534);(0,e.registerVersion)("firebase","9.23.0","app")},7142:(Wn,et,p)=>{"use strict";p.d(et,{Z:()=>e.Z});var e=p(3106);e.Z.registerVersion("firebase","9.23.0","app-compat")},5861:(Wn,et,p)=>{"use strict";function e(v,b,_,P,C,m,i){try{var c=v[m](i),d=c.value}catch(f){return void _(f)}c.done?b(d):Promise.resolve(d).then(P,C)}function t(v){return function(){var b=this,_=arguments;return new Promise(function(P,C){var m=v.apply(b,_);function i(d){e(m,P,C,i,c,"next",d)}function c(d){e(m,P,C,i,c,"throw",d)}i(void 0)})}}p.d(et,{Z:()=>t})},7582:(Wn,et,p)=>{"use strict";function b(ce,ge){var Ie={};for(var Ce in ce)Object.prototype.hasOwnProperty.call(ce,Ce)&&ge.indexOf(Ce)<0&&(Ie[Ce]=ce[Ce]);if(null!=ce&&"function"==typeof Object.getOwnPropertySymbols){var pe=0;for(Ce=Object.getOwnPropertySymbols(ce);pe<Ce.length;pe++)ge.indexOf(Ce[pe])<0&&Object.prototype.propertyIsEnumerable.call(ce,Ce[pe])&&(Ie[Ce[pe]]=ce[Ce[pe]])}return Ie}function f(ce,ge,Ie,Ce){return new(Ie||(Ie=Promise))(function(Ae,ke){function he(Oe){try{Te(Ce.next(Oe))}catch(Ve){ke(Ve)}}function we(Oe){try{Te(Ce.throw(Oe))}catch(Ve){ke(Ve)}}function Te(Oe){Oe.done?Ae(Oe.value):function pe(Ae){return Ae instanceof Ie?Ae:new Ie(function(ke){ke(Ae)})}(Oe.value).then(he,we)}Te((Ce=Ce.apply(ce,ge||[])).next())})}function T(ce){return this instanceof T?(this.v=ce,this):new T(ce)}function L(ce,ge,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,Ce=Ie.apply(ce,ge||[]),Ae=[];return pe={},ke("next"),ke("throw"),ke("return"),pe[Symbol.asyncIterator]=function(){return this},pe;function ke(ft){Ce[ft]&&(pe[ft]=function(Ze){return new Promise(function(Re,be){Ae.push([ft,Ze,Re,be])>1||he(ft,Ze)})})}function he(ft,Ze){try{!function we(ft){ft.value instanceof T?Promise.resolve(ft.value.v).then(Te,Oe):Ve(Ae[0][2],ft)}(Ce[ft](Ze))}catch(Re){Ve(Ae[0][3],Re)}}function Te(ft){he("next",ft)}function Oe(ft){he("throw",ft)}function Ve(ft,Ze){ft(Ze),Ae.shift(),Ae.length&&he(Ae[0][0],Ae[0][1])}}function B(ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,ge=ce[Symbol.asyncIterator];return ge?ge.call(ce):(ce=function A(ce){var ge="function"==typeof Symbol&&Symbol.iterator,Ie=ge&&ce[ge],Ce=0;if(Ie)return Ie.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&Ce>=ce.length&&(ce=void 0),{value:ce&&ce[Ce++],done:!ce}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(ce),Ie={},Ce("next"),Ce("throw"),Ce("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function Ce(Ae){Ie[Ae]=ce[Ae]&&function(ke){return new Promise(function(he,we){!function pe(Ae,ke,he,we){Promise.resolve(we).then(function(Te){Ae({value:Te,done:he})},ke)}(he,we,(ke=ce[Ae](ke)).done,ke.value)})}}}p.d(et,{FC:()=>L,KL:()=>B,_T:()=>b,mG:()=>f,qq:()=>T})}},Wn=>{Wn(Wn.s=4998)}]);